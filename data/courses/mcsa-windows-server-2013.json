{
  "description": "Over 80% of computers run Microsoft Operating systems. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The MCSA: Windows Server 2012 is designed to be a mid-tier certification for someone who has been working in the field for several years and has had exposure to large and enterprise size deployments of Microsoft Windows and covers topics that are a “must know” for anyone responsible for deploying, maintaining and supporting Windows Server 2012 servers in a corporate or enterprise environment. Server systems often form a critical piece of the day-to-day operations for any business. The MCSA 70-411 Administering Windows Server 2012 exam covers administering Windows services, keeping them operational, advanced functionality and other areas that will help in your pursuit of the MCSA and also help in an after pursuit of the MCSE certification.",
  "descriptionMD": "",
  "length": "80394",
  "name": "MCSA Windows Server 2012 - 70-411",
  "practiceExam": true,
  "subtitle": "Administering Windows Server 2012",
  "tagUrl": "microsoft-technical",
  "topics": [
    {
      "episodes": [
        {
          "description": "MCSA Windows Server 2012 (70-411) Over 80% of computers run Microsoft Operating systems. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The MCSA: Windows Server 2012 covers topics that are “must know” for anyone responsible for deploying, maintaining and supporting Windows Server 2012 servers in a corporate or enterprise environment. Server systems often form a critical piece of the day-to-day operations for any business. The MCSA covers topics that will help the learner ensure their computing environment is functional and stable.",
          "length": "533",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/microsoftserver2012-0-0-overview-112414.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/microsoftserver2012-0-0-overview-112414-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/microsoftserver2012-0-0-overview-112414-sm.jpg",
          "title": "Overview of Windows Server 2012 R2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:08.758\n[MUSIC]\n\n2\n00:00:08.758 --> 00:00:12.563\nThe MCSA or Microsoft Certified\nSolutions Associate is one of\n\n3\n00:00:12.563 --> 00:00:16.210\nthe more popular\ncertifications from Microsoft.\n\n4\n00:00:16.210 --> 00:00:19.160\nIt's designed to be\na mid-tier certification.\n\n5\n00:00:20.200 --> 00:00:23.530\nGreater knowledge than somebody who's\njust getting started in IT, but\n\n6\n00:00:23.530 --> 00:00:25.450\nnot expert lever, level knowledge.\n\n7\n00:00:25.450 --> 00:00:28.330\nThis is somebody who's been working\nin the field for several years and\n\n8\n00:00:28.330 --> 00:00:33.700\nhas had exposure to large and enterprise\nsize deployments of Microsoft Windows.\n\n9\n00:00:33.700 --> 00:00:37.860\nThe MCSA for\nWindows Server 2012 is probably the most\n\n10\n00:00:37.860 --> 00:00:40.900\ncommonly sought-after\ncertification with Microsoft.\n\n11\n00:00:40.900 --> 00:00:44.190\nThese are for technicians who are not\ngoing to be just working with desktops,\n\n12\n00:00:44.190 --> 00:00:46.450\nbut deploying Windows servers.\n\n13\n00:00:46.450 --> 00:00:50.130\nThese might be email servers,\nfile servers, print servers.\n\n14\n00:00:50.130 --> 00:00:52.040\nThey might be authentication servers.\n\n15\n00:00:52.040 --> 00:00:55.210\nThere's all sorts of different types\nof servers you might deploy, and\n\n16\n00:00:55.210 --> 00:00:58.640\nthe MCSA for Windows Server 2012\ncovers the majority of them.\n\n17\n00:00:58.640 --> 00:01:01.780\nIt shows typical deployment scenarios for\na server.\n\n18\n00:01:01.780 --> 00:01:05.290\nHow to deploy the software successfully,\nhow to secure the software and\n\n19\n00:01:05.290 --> 00:01:09.000\nensure things are working nice and\nsmooth, and how to troubleshoot and\n\n20\n00:01:09.000 --> 00:01:11.680\nisolate and correct issues when they\naren't running nice and smooth,\n\n21\n00:01:11.680 --> 00:01:14.080\nand that makes this really valuable.\n\n22\n00:01:14.080 --> 00:01:18.570\nIf you're working in IT and you're sitting\nat a help desk right now, or you're doing\n\n23\n00:01:18.570 --> 00:01:22.060\nfield repairs on computers and you're\nlooking to move to that next step in your\n\n24\n00:01:22.060 --> 00:01:26.560\ncareer, the MCSA for Windows Server\n2012 is normally that next step, right.\n\n25\n00:01:26.560 --> 00:01:30.090\nThis is what gets you out of the field and\nback at the data center.\n\n26\n00:01:30.090 --> 00:01:32.470\nGets you into the server room,\nworking in equipment there.\n\n27\n00:01:32.470 --> 00:01:35.360\nWhich is usually a little more\nexciting than supporting a desktop.\n\n28\n00:01:35.360 --> 00:01:37.850\nWhich can,\ncan over time become a bit monotonous.\n\n29\n00:01:37.850 --> 00:01:39.360\nI think we've all been there.\n\n30\n00:01:39.360 --> 00:01:41.210\nSo, let's take a look at\nthis certification and\n\n31\n00:01:41.210 --> 00:01:42.720\nget a better idea of what it entails.\n\n32\n00:01:42.720 --> 00:01:46.226\nAll right, the MCSA has been around for\nquite a while now.\n\n33\n00:01:46.226 --> 00:01:49.227\nI don't think it's actually\nreached ten years yet but it's,\n\n34\n00:01:49.227 --> 00:01:51.090\nit's a good seven years at least.\n\n35\n00:01:51.090 --> 00:01:54.410\nAnd it's designed to be the,\nwell that mid-tier certification.\n\n36\n00:01:54.410 --> 00:01:56.500\nThe name has changed a little\nbit over the years, but\n\n37\n00:01:56.500 --> 00:01:59.560\nnow it's just the Microsoft\nCertified Solutions Associate.\n\n38\n00:01:59.560 --> 00:02:02.500\nAnd Microsoft actually has\nseveral different ones.\n\n39\n00:02:02.500 --> 00:02:05.570\nThe one we're about to cover is\nthe one for Windows Server 2012.\n\n40\n00:02:05.570 --> 00:02:10.130\nIf your position within the company is\none that allows you to work on servers,\n\n41\n00:02:10.130 --> 00:02:11.900\nthat's what this is designed for.\n\n42\n00:02:11.900 --> 00:02:15.940\nIf you're still at the desktop level but\nyou want to move into the server world,\n\n43\n00:02:15.940 --> 00:02:18.390\nagain, this is the place\nthat you wanna go.\n\n44\n00:02:18.390 --> 00:02:21.600\nBut, if you're looking to\ndo desktop support, well,\n\n45\n00:02:21.600 --> 00:02:23.840\nthe server technologies,\nthey can be helpful.\n\n46\n00:02:23.840 --> 00:02:26.230\nThey help you to understand what's\ngoing on on the server side.\n\n47\n00:02:26.230 --> 00:02:28.440\nBut it's not necessarily\nthe right place for you to start.\n\n48\n00:02:28.440 --> 00:02:32.840\nYou typically want to go to the MCSA for\nWindows 8 or MCSA for Windows 7.\n\n49\n00:02:32.840 --> 00:02:35.250\nNow, if you're just\ngetting started in IT so\n\n50\n00:02:35.250 --> 00:02:40.250\nyou've got a resume full of other jobs and\nyou're looking to launch an IT career.\n\n51\n00:02:40.250 --> 00:02:44.460\nWell again the MCSA for Windows servers\nis not really a great starting point.\n\n52\n00:02:44.460 --> 00:02:46.120\nIn order to set up a server,\n\n53\n00:02:46.120 --> 00:02:49.590\nthere's a lot of foundational\nknowledge that you need to have.\n\n54\n00:02:49.590 --> 00:02:52.750\nSo if you're just starting out,\nI recommend you jump over to\n\n55\n00:02:52.750 --> 00:02:56.440\nlike the CompTIA A+ and\nCompTIA Network Plus certifications.\n\n56\n00:02:56.440 --> 00:02:59.940\nThose are great starting points for\nlaunching an IT career.\n\n57\n00:02:59.940 --> 00:03:02.470\nIf you're just getting started\nin technology altogether you\n\n58\n00:03:02.470 --> 00:03:07.440\nprobably wanna go to either\nthe CompTIA IT Fundamentals or the MTA,\n\n59\n00:03:07.440 --> 00:03:09.570\nthe Microsoft Technology Associate.\n\n60\n00:03:09.570 --> 00:03:13.410\nThat's designed for people that are just\ngetting their feet wet in the IT world.\n\n61\n00:03:13.410 --> 00:03:15.270\nYou'll learn about basic\noperating systems.\n\n62\n00:03:15.270 --> 00:03:18.740\nNow, that's foundational knowledge\nthat you're expected to already\n\n63\n00:03:18.740 --> 00:03:21.050\nhave by the time you get\nto the server level.\n\n64\n00:03:21.050 --> 00:03:22.400\nSo if you don't possess it,\n\n65\n00:03:22.400 --> 00:03:25.360\nthere's things that we'll cover in there\nthat might be a little over your head.\n\n66\n00:03:25.360 --> 00:03:26.940\nThat if you've missed\nthe foundational knowledge,\n\n67\n00:03:26.940 --> 00:03:28.600\nyou won't be able to build on top of it.\n\n68\n00:03:28.600 --> 00:03:31.120\nSo, definitely check out those\nother certifications if you\n\n69\n00:03:31.120 --> 00:03:32.560\nhaven't done those yet.\n\n70\n00:03:32.560 --> 00:03:33.770\nBut, if you're ready for\n\n71\n00:03:33.770 --> 00:03:37.650\nWindows Server, then the MCSA\n2012 is where you want to go.\n\n72\n00:03:37.650 --> 00:03:42.620\nNow, the MCSA 2012 is actually\nbuilt on three different exams,\n\n73\n00:03:42.620 --> 00:03:46.080\nand each one kind of divides\nthe topic up a little bit.\n\n74\n00:03:46.080 --> 00:03:48.350\nSo, here we can see the three\ndifferent exams, and\n\n75\n00:03:48.350 --> 00:03:51.410\nwe divide it here on ITPROTV\ninto three separate shows.\n\n76\n00:03:51.410 --> 00:03:53.840\nThere's the 70-410, 411 and 412 shows.\n\n77\n00:03:55.830 --> 00:03:58.940\nThe first one is installing and\nconfiguring Windows Server 2012.\n\n78\n00:03:58.940 --> 00:04:01.010\nIf this is the first time you've used it,\n\n79\n00:04:01.010 --> 00:04:03.140\nwe'll cover how to install\nWindows Server 2012.\n\n80\n00:04:03.140 --> 00:04:06.920\nHow to get it in place, and\nhow to add roles to it so\n\n81\n00:04:06.920 --> 00:04:09.670\nyour server can actually\nperform customized functions.\n\n82\n00:04:09.670 --> 00:04:11.540\nWe'll talk about\nthe Microsoft Active Directory,\n\n83\n00:04:11.540 --> 00:04:14.970\nwhich is a critical technology\nthroughout your server infrastructure.\n\n84\n00:04:14.970 --> 00:04:18.840\nWe'll talk about other security concepts,\nand just some of the neat bells and\n\n85\n00:04:18.840 --> 00:04:23.020\nwhistles that are included\nin Windows server.\n\n86\n00:04:23.020 --> 00:04:25.680\nThen, in 411, we go into\nAdministering Windows Server 2012.\n\n87\n00:04:25.680 --> 00:04:30.440\nOnce you've brought up these services,\nnow you need to administer them,\n\n88\n00:04:30.440 --> 00:04:31.280\nyou need to run them.\n\n89\n00:04:31.280 --> 00:04:35.100\nYou need to allow it to scale up\nto thousands, tens of thousands,\n\n90\n00:04:35.100 --> 00:04:36.680\nhundreds of thousands of users.\n\n91\n00:04:36.680 --> 00:04:41.000\nYou need to keep it operational and you\nneed to do some advanced functionality.\n\n92\n00:04:41.000 --> 00:04:44.540\nAnd what, that's what we cover in the\nAdministering Windows Server 2012 show.\n\n93\n00:04:45.780 --> 00:04:48.830\nAnd then the end of it is the 70-412\n\n94\n00:04:48.830 --> 00:04:52.930\nwhich is Configuring Advanced\nWindows Server 2012 Services.\n\n95\n00:04:52.930 --> 00:04:56.890\nWe actually revisit some of the services\nfrom the first two shows, and\n\n96\n00:04:56.890 --> 00:05:00.310\ngo more in depth,\nshowing some advanced configurations, and\n\n97\n00:05:00.310 --> 00:05:04.550\nthen we phase in some new technologies\nlike Active Directory Federated Services\n\n98\n00:05:04.550 --> 00:05:08.040\nthat are extremely complex and\nchallenging.\n\n99\n00:05:08.040 --> 00:05:10.780\nNot useful at all for\nsmall and medium businesses.\n\n100\n00:05:10.780 --> 00:05:13.990\nBut for large and\nenterprise businesses can revolutionize\n\n101\n00:05:13.990 --> 00:05:15.630\nthe way that you offer\nservices on the web.\n\n102\n00:05:15.630 --> 00:05:19.740\nSo, definitely stuff that you want\nto be aware of, and get exposed to.\n\n103\n00:05:19.740 --> 00:05:25.580\nNow these exams are designed to be taken\nin order, so you should start with 70 410.\n\n104\n00:05:25.580 --> 00:05:28.420\nAnd then go on to 411 and\nthen wrap it up with 412.\n\n105\n00:05:28.420 --> 00:05:31.170\nIf you take them out of order,\n\n106\n00:05:31.170 --> 00:05:35.270\neach exam assumes you already have\nthe knowledge from the prior exams.\n\n107\n00:05:35.270 --> 00:05:37.490\nSo for example if you start out on 412,\n\n108\n00:05:37.490 --> 00:05:40.680\nit assumes you already\nhave a passing knowledge.\n\n109\n00:05:40.680 --> 00:05:43.720\nLike you passed the exam,\nnot just in passing.\n\n110\n00:05:43.720 --> 00:05:46.540\nOf 410 and 411.\nIf you don't do that, you'll,\n\n111\n00:05:46.540 --> 00:05:49.340\nyou'll get over your head pretty quick and\nthen you get frustrated and\n\n112\n00:05:49.340 --> 00:05:51.470\nit's hard to be successful\nwhen you're frustrated.\n\n113\n00:05:51.470 --> 00:05:54.470\nSo you do wanna pursue those in order.\n\n114\n00:05:54.470 --> 00:05:59.220\nNow for me, I always recommend that\npeople go ahead and do all three.\n\n115\n00:05:59.220 --> 00:06:01.310\nJust watch all three in order.\n\n116\n00:06:01.310 --> 00:06:04.030\nEven before taking that 410 exam.\n\n117\n00:06:04.030 --> 00:06:08.890\nAnd the reason I say that is, each one\nbuilds on the one from before it so\n\n118\n00:06:08.890 --> 00:06:10.200\nthere's some overlap.\n\n119\n00:06:10.200 --> 00:06:13.560\nAnd that means you're seeing the same\ntechnologies multiple times and\n\n120\n00:06:13.560 --> 00:06:15.030\nyou learn more about it.\n\n121\n00:06:15.030 --> 00:06:18.860\nIf you were to watch all three of\nthese shows, 410, 411, and 412,\n\n122\n00:06:18.860 --> 00:06:23.690\nyou'll be much more likely to pass that\n410 exam the first time you go in there\n\n123\n00:06:23.690 --> 00:06:25.990\ncuz you've seen the technology so\nmany times.\n\n124\n00:06:25.990 --> 00:06:26.620\nAll right?\n\n125\n00:06:26.620 --> 00:06:29.120\nSo how you choose to watch\nthem is ultimately up to you,\n\n126\n00:06:29.120 --> 00:06:32.360\nbut at a minimum,\nyou do want to watch them in order.\n\n127\n00:06:32.360 --> 00:06:35.550\nStart with 410, and\nthen move through each.\n\n128\n00:06:35.550 --> 00:06:38.800\nWhen you're ready to take the exam,\nthe exams are administered through\n\n129\n00:06:38.800 --> 00:06:42.540\nPearson VUE, so\nyou'll just jump over to their website.\n\n130\n00:06:42.540 --> 00:06:45.930\nYou can go straight to it at\nwww.pearsonvue.com/Microsoft.\n\n131\n00:06:45.930 --> 00:06:48.770\nThat'll take you to Microsoft's page.\n\n132\n00:06:48.770 --> 00:06:53.957\nAnd remember VUE is spelled V U E and\nso it's pearsonvue.com/microsoft.\n\n133\n00:06:53.957 --> 00:06:59.200\nThe exams are $150 a piece and\nyou gotta take three of them so\n\n134\n00:06:59.200 --> 00:07:02.510\nunfortunately there is a little bit\nof a shock to the wallet on this one.\n\n135\n00:07:02.510 --> 00:07:07.500\nAssuming you pass on the first time it'll\nbe about $450 to take the three exams.\n\n136\n00:07:07.500 --> 00:07:11.420\nOnce you pass,\nyou get your MCSA Window's Server 2012.\n\n137\n00:07:11.420 --> 00:07:17.830\nNow the MCSA Windows Server 2012 is also\nthe first step in obtaining the MCSE.\n\n138\n00:07:17.830 --> 00:07:21.120\nSo once you've completed this\ncertification the next step is that\n\n139\n00:07:21.120 --> 00:07:22.840\nMCSE that you hear a lot\nof people talk about.\n\n140\n00:07:22.840 --> 00:07:26.310\nRight, that's the, the certification\nMicrosoft has that's the most famous.\n\n141\n00:07:26.310 --> 00:07:28.720\nEverybody's heard of the MCSE.\n\n142\n00:07:28.720 --> 00:07:30.500\nAnd that's a lot of people's goal.\n\n143\n00:07:30.500 --> 00:07:34.490\nBut, the MCSE is not designed for\nsomebody getting started.\n\n144\n00:07:34.490 --> 00:07:38.140\nIt's for somebody who's already\ngot a wealth of experience.\n\n145\n00:07:38.140 --> 00:07:40.430\nAlready has their MCSA, and\n\n146\n00:07:40.430 --> 00:07:45.450\nis moving into that larger\nconsultant type design environment.\n\n147\n00:07:45.450 --> 00:07:49.380\nAnd that's a lot different than the person\nwho's doing the day to day work.\n\n148\n00:07:49.380 --> 00:07:51.710\nThe MCSA is for the doer.\n\n149\n00:07:51.710 --> 00:07:52.810\nThe person who's in the field.\n\n150\n00:07:52.810 --> 00:07:54.600\nThe grunt who's actually\nmaking things happen.\n\n151\n00:07:54.600 --> 00:07:56.750\nRight?\nYou're the one bringing up servers and\n\n152\n00:07:56.750 --> 00:07:57.310\ntroubleshooting.\n\n153\n00:07:57.310 --> 00:07:58.160\nReplacing hard drives.\n\n154\n00:07:58.160 --> 00:08:00.260\nYou're the one who's\nactually making things work.\n\n155\n00:08:00.260 --> 00:08:04.220\nSo in a lot of ways, the knowledge we\ncover in the MCSA certification is more\n\n156\n00:08:04.220 --> 00:08:09.140\nvaluable than what we learn in the MCSE\nand the MCSA is a lot more entertaining in\n\n157\n00:08:09.140 --> 00:08:12.770\nmy opinion because you know, you get\nto use a lot of these technologies.\n\n158\n00:08:12.770 --> 00:08:14.280\nSo keep that in mind as you go through and\n\n159\n00:08:14.280 --> 00:08:18.570\nstudy that the MCSA is a great place to\nstart if you're already somebody who has\n\n160\n00:08:18.570 --> 00:08:22.110\nthat experience and you're looking to get\nthat documented, get it on your resume and\n\n161\n00:08:22.110 --> 00:08:26.200\nlearn all the different things\nthat Windows Server 2012 can do.\n\n162\n00:08:26.200 --> 00:08:29.070\nAll right, well, if that's what you're\nlooking for, you're in the right place.\n\n163\n00:08:29.070 --> 00:08:31.200\nStay tuned, our episodes are coming up.\n\n164\n00:08:31.200 --> 00:08:34.510\nIf not, keep in mind all the other\ncertifications that I mentioned.\n\n165\n00:08:34.510 --> 00:08:36.590\nThere's an appropriate one for\nyou in there somewhere.\n\n166\n00:08:36.590 --> 00:08:39.720\nYou just gotta look to find it and\nthen pursue your goal.\n\n167\n00:08:39.720 --> 00:08:42.890\nRegardless of which route you go,\nI wish you the best of luck on your exam.\n\n168\n00:08:42.890 --> 00:08:44.320\nAnd for those of you sticking with me,\n\n169\n00:08:44.320 --> 00:08:46.272\nI'll see you in the episodes\nhere in just a moment.\n\n170\n00:08:46.272 --> 00:08:53.079\n[SOUND]\n\n",
          "vimeoId": "112924633"
        }
      ],
      "title": "Overview of MCSA Windows Server 2012 R2 (70-411)"
    },
    {
      "episodes": [
        {
          "description": "In this episode Nate and Mike take a look at Windows Deployment Services. They demonstrate installing the WDS role and configuring install and boot images. They also take a look at discover and capture images as well as demonstrate capturing a syspreped reference machine.",
          "length": "6411",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/001-Manage-and-Deploy-WDS.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/001-Manage-and-Deploy-WDS-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/001-Manage-and-Deploy-WDS-sm.jpg",
          "title": "Deploy and Manage WDS",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:14.948 --> 00:00:24.948\n[MUSIC]\n\n3\n00:00:34.142 --> 00:00:35.349\nGood afternoon.\n\n4\n00:00:35.349 --> 00:00:37.882\nWelcome to another great\nepisode of ITProTV.\n\n5\n00:00:37.882 --> 00:00:40.094\nI am Nathan Copeland, here with.\n\n6\n00:00:40.094 --> 00:00:43.421\n>> Mr Mike Rodrick,\nhow's everybody doing out there?\n\n7\n00:00:43.421 --> 00:00:44.140\n>> Yay.\n>> Woo hoo.\n\n8\n00:00:44.140 --> 00:00:48.520\n>> All right, so Mike, so\nwe have a fantastic show lined up.\n\n9\n00:00:48.520 --> 00:00:49.460\n>> We do?\nWe do?\n\n10\n00:00:49.460 --> 00:00:54.100\n>> This is the very\nfirst episode of 70-411.\n\n11\n00:00:54.100 --> 00:00:55.378\n>> Yeah.\n\n12\n00:00:55.378 --> 00:00:58.610\n>> The, what's the title?\n\n13\n00:00:58.610 --> 00:01:03.900\n>> Administering, the official title\nis actually Administering Server 2012,\n\n14\n00:01:03.900 --> 00:01:06.990\nor Administering Server 2012, Part 2.\n\n15\n00:01:06.990 --> 00:01:09.180\nI believe, I believe.\n\n16\n00:01:09.180 --> 00:01:11.330\nYup.\nAdministering Windows Server 2012.\n\n17\n00:01:11.330 --> 00:01:12.170\n>> All right.\n\n18\n00:01:12.170 --> 00:01:13.400\nGood stuff, good stuff.\n\n19\n00:01:13.400 --> 00:01:13.900\nGreat.\n\n20\n00:01:15.170 --> 00:01:16.340\nI like it.\n\n21\n00:01:16.340 --> 00:01:19.866\n>> You're looking awfully festive there\n>> Thanks, Mike, I didn't know if\n\n22\n00:01:19.866 --> 00:01:23.140\nyou were going to say anything,\nI like your hat, man, that's nice.\n\n23\n00:01:23.140 --> 00:01:23.807\n>> Thank you thank you.\nI like yours too.\n\n24\n00:01:23.807 --> 00:01:26.260\nYou look very slick, very slick.\n\n25\n00:01:26.260 --> 00:01:28.777\n>> Yeah I got it as a gift\n>> Yeah shout\n\n26\n00:01:28.777 --> 00:01:31.843\nout to Miss Madeline Wong in Lake City,\nFlorida,\n\n27\n00:01:31.843 --> 00:01:36.570\nthank you very much for the hats\nwe're feeling very Christmasy today.\n\n28\n00:01:36.570 --> 00:01:38.952\n>> So\nyeah we've got some decorations done up.\n\n29\n00:01:38.952 --> 00:01:42.010\nWe tried to do the set with\na little bit of festivity here.\n\n30\n00:01:42.010 --> 00:01:44.250\nTo get ready for the holidays.\n\n31\n00:01:44.250 --> 00:01:47.330\nSo, I hope you guys are feeling it.\n\n32\n00:01:48.732 --> 00:01:54.230\n>> All right so on tap today,\nwe have Windows deployment services.\n\n33\n00:01:54.230 --> 00:01:55.590\nWindows Deployment Server?\n\n34\n00:01:55.590 --> 00:02:01.290\n>> Yeah Windows Deployment Services\n>> I guess in that,\n\n35\n00:02:01.290 --> 00:02:06.870\none of our first main objectives in there\nis going to include deployment services.\n\n36\n00:02:06.870 --> 00:02:08.550\nSo that's what we're going\nto take a look at today.\n\n37\n00:02:08.550 --> 00:02:13.470\nWe're gonna show you guys how to set up\na deployment server, get it configured,\n\n38\n00:02:13.470 --> 00:02:14.580\nall our options.\n\n39\n00:02:14.580 --> 00:02:16.570\nAnd we have to get set up\nat the very beginning,\n\n40\n00:02:16.570 --> 00:02:18.570\nadd a couple default images to it.\n\n41\n00:02:18.570 --> 00:02:21.740\nAnd then we thought we'd actually go\nin and capture a custom image and\n\n42\n00:02:21.740 --> 00:02:24.140\nthen take a look at\nthe pulling that image out.\n\n43\n00:02:24.140 --> 00:02:26.615\nSo we can take it from beginning to\nend you get to see the whole process.\n\n44\n00:02:26.615 --> 00:02:27.220\n>> Mm-hm.\n\n45\n00:02:27.220 --> 00:02:28.830\nYeah you know\n>> Sweet stuff.\n\n46\n00:02:28.830 --> 00:02:33.360\n>> With you know with Windows 7 to capture\n\n47\n00:02:33.360 --> 00:02:37.860\nan image there's a process, and everything\nit's gotta do to capture that image.\n\n48\n00:02:37.860 --> 00:02:41.540\nWith Windows deployment services then,\nit's sweet.\n\n49\n00:02:41.540 --> 00:02:42.690\n>> It's fantastic.\n\n50\n00:02:42.690 --> 00:02:45.930\n>> You kind of, boot up to it and\nit just kind of rips it and captures it.\n\n51\n00:02:45.930 --> 00:02:46.770\n>> Yeah.\n\n52\n00:02:46.770 --> 00:02:50.360\nYeah if you're a small shop and you don't\nhave to image that many machines that\n\n53\n00:02:50.360 --> 00:02:53.790\noften then there's a good chance that\nyou're just going to be using Winpe and\n\n54\n00:02:53.790 --> 00:02:54.780\nimageX or DISM now.\n\n55\n00:02:54.780 --> 00:02:59.525\nSince imageX is being depreciated to do\nyour work and maybe put your image on\n\n56\n00:02:59.525 --> 00:03:03.850\nlike a portable hard drive and take it\nto a machine and deploy that image.\n\n57\n00:03:03.850 --> 00:03:07.110\nAnd that works great when you've\ngot just a few machines to do and\n\n58\n00:03:07.110 --> 00:03:08.250\nthey're all in your location.\n\n59\n00:03:08.250 --> 00:03:11.190\nBut now you start getting to\nwhere you've got to do dozens or\n\n60\n00:03:11.190 --> 00:03:13.880\nhundreds of machines and\nthat's gonna be really tedious.\n\n61\n00:03:13.880 --> 00:03:17.790\nSo deployment services gives us\nthe ability to do these network based\n\n62\n00:03:17.790 --> 00:03:23.260\ninstallations where I can take the server,\nand it's gonna host a copy of the images.\n\n63\n00:03:23.260 --> 00:03:26.180\nAnd then I can go to my machines and\nI can connect them to the networks.\n\n64\n00:03:26.180 --> 00:03:30.200\nAnd I can connect to the deployment\nserver, get a list of images that\n\n65\n00:03:30.200 --> 00:03:33.360\nare available and then pull those and\napply those images down on those machines.\n\n66\n00:03:33.360 --> 00:03:34.070\nFantastic.\n\n67\n00:03:34.070 --> 00:03:36.874\nIn fact the machine doesn't even have\nto have an operating system on it.\n\n68\n00:03:36.874 --> 00:03:37.506\n>> Mm-hm.\n\n69\n00:03:37.506 --> 00:03:40.270\n>> It could be a bare metal machine\nconnected to your network and\n\n70\n00:03:40.270 --> 00:03:43.940\nwe can connect to that deployment\nserver and we can pull an image down.\n\n71\n00:03:43.940 --> 00:03:46.860\nUsed it in a couple of different places\nthat I've worked in the past, and\n\n72\n00:03:46.860 --> 00:03:47.560\nyou could go in.\n\n73\n00:03:47.560 --> 00:03:52.220\nAnd we used to have some classrooms where\nI'd have about 25 machines in there and\n\n74\n00:03:52.220 --> 00:03:54.870\nI'd walk in and start the process up.\n\n75\n00:03:54.870 --> 00:03:56.885\nIn an hour, come back and\nthey're all done and ready to go.\n\n76\n00:03:56.885 --> 00:03:57.390\n>> Mm-hm.\n\n77\n00:03:57.390 --> 00:03:58.412\n>> It's a beautiful thing.\n\n78\n00:03:58.412 --> 00:03:59.191\n>> Yeah.\n\n79\n00:03:59.191 --> 00:04:03.240\nPretty fancy stuff and\ntoday, we get to see it.\n\n80\n00:04:03.240 --> 00:04:03.810\n>> Yeah, we do.\n\n81\n00:04:03.810 --> 00:04:06.120\nWe do.\nWe are gonna show you guys from beginning\n\n82\n00:04:06.120 --> 00:04:08.850\nto end how to deploy some images.\n\n83\n00:04:08.850 --> 00:04:09.860\nSo, you ready to rock and roll?\n\n84\n00:04:09.860 --> 00:04:11.160\n>> Yeah.\nAll right.\n\n85\n00:04:11.160 --> 00:04:12.420\nSo, what's first?\n\n86\n00:04:12.420 --> 00:04:13.140\nWhat do we do?\n\n87\n00:04:13.140 --> 00:04:16.260\n>> First thing we've gotta do is, we've\ngot to install Deployment Services, right?\n\n88\n00:04:16.260 --> 00:04:18.010\nWe've gotta get that\nrunning up on our network.\n\n89\n00:04:18.010 --> 00:04:19.470\nSo, I think what we're gonna do is,\n\n90\n00:04:19.470 --> 00:04:22.950\nwe're gonna use our domain\ncontroller as our deployment server,\n\n91\n00:04:22.950 --> 00:04:26.740\nwhich in a production environment\nthat's not going to be the best idea.\n\n92\n00:04:26.740 --> 00:04:30.710\nBut in our lab environment that'll be\nfine because these also will be our DHCP\n\n93\n00:04:30.710 --> 00:04:31.295\nserver, so.\n\n94\n00:04:31.295 --> 00:04:32.050\n>> Mm-hm.\n\n95\n00:04:32.050 --> 00:04:33.040\n>> Let's start there.\n\n96\n00:04:33.040 --> 00:04:34.317\nWe'll talk about it I guess as we go.\n\n97\n00:04:34.317 --> 00:04:36.174\nYou want to pull up, drive and?\n\n98\n00:04:36.174 --> 00:04:36.998\n>> Yeah, yeah.\n\n99\n00:04:36.998 --> 00:04:42.650\nSo wait a minute, so typically you\nwouldn't stick WDS on a domain controller?\n\n100\n00:04:42.650 --> 00:04:43.340\n>> I wouldn't.\n\n101\n00:04:43.340 --> 00:04:43.860\nI wouldn't.\n\n102\n00:04:43.860 --> 00:04:45.550\nI mean,\none the server could get a little busy,\n\n103\n00:04:45.550 --> 00:04:48.020\nif you are pulling a lot of\nimages from it all day long.\n\n104\n00:04:48.020 --> 00:04:51.250\nAnd two it's got a different level\nof access than what you want\n\n105\n00:04:51.250 --> 00:04:52.960\non your domain control.\n\n106\n00:04:52.960 --> 00:04:56.180\nAnd that's typically what I look at\nwhen I'm adding rolls to machines and\n\n107\n00:04:56.180 --> 00:04:59.450\ntrying to decide if I\nwant to combine rolls.\n\n108\n00:04:59.450 --> 00:05:01.510\nI look at what type of access that I need.\n\n109\n00:05:01.510 --> 00:05:04.960\nLike my domain controllers no\npublic access to those things.\n\n110\n00:05:04.960 --> 00:05:06.500\nNo anonymous access to those.\n\n111\n00:05:06.500 --> 00:05:08.270\nThat's going to be people logging in and\n\n112\n00:05:08.270 --> 00:05:10.640\ncomputers logging in\nretrieving group policy.\n\n113\n00:05:10.640 --> 00:05:13.250\nWhere as my deployment server,\ndepending on what I am using it for\n\n114\n00:05:13.250 --> 00:05:18.940\nI could be deploying images to unknown\ncomputers and things like this.\n\n115\n00:05:18.940 --> 00:05:21.940\nSo untrusted computers at this point\nbefore I get them on my domain.\n\n116\n00:05:23.460 --> 00:05:25.090\nIt's a lot of web-based, and\n\n117\n00:05:25.090 --> 00:05:28.120\nI don't really want to open those\nports up on my domain controller.\n\n118\n00:05:28.120 --> 00:05:33.010\nSo I would not normally put\nit on my domain controller.\n\n119\n00:05:33.010 --> 00:05:34.270\nFor the lab environment,\n\n120\n00:05:34.270 --> 00:05:37.740\nyou're trying to limit the number of\nvirtual machines that you have to create\n\n121\n00:05:37.740 --> 00:05:42.980\nto test the stuff out, and\nit's perfectly fine, just not production.\n\n122\n00:05:42.980 --> 00:05:43.740\n>> All right.\n\n123\n00:05:43.740 --> 00:05:48.710\nWell, so can machines not on the domain\nstill pull those images down?\n\n124\n00:05:48.710 --> 00:05:49.410\n>> Absolutely.\n\n125\n00:05:49.410 --> 00:05:55.120\n>> So what if it was locked down\nto just like domain computers.\n\n126\n00:05:55.120 --> 00:05:58.280\n>> Still have to open up those ports\nthat required for deployment services.\n\n127\n00:05:58.280 --> 00:06:02.180\nHave to make those exceptions in there so\nmaybe not.\n\n128\n00:06:02.180 --> 00:06:03.260\nLike I said.\n\n129\n00:06:03.260 --> 00:06:05.210\nI dunno.\nMe personally, and somebody out there,\n\n130\n00:06:05.210 --> 00:06:08.210\nyou guys might have a different opinion or\nsomebody that's working in the field.\n\n131\n00:06:08.210 --> 00:06:11.370\nI don't like putting other things like\nthat under my domain controllers.\n\n132\n00:06:11.370 --> 00:06:12.310\nThey're special.\n\n133\n00:06:12.310 --> 00:06:14.630\nI wanna keep those guys safe.\n\n134\n00:06:14.630 --> 00:06:22.070\nSo Active Directory, DNS, maybe DHCP,\nif I have to, or something like that.\n\n135\n00:06:22.070 --> 00:06:23.045\nBut I usually limit it.\n\n136\n00:06:23.045 --> 00:06:24.230\n>> Hm.\n\n137\n00:06:24.230 --> 00:06:25.148\nRight on.\n\n138\n00:06:25.148 --> 00:06:26.053\nWell, good deal.\n\n139\n00:06:26.053 --> 00:06:29.680\nAll right, so let's jump in it.\n\n140\n00:06:29.680 --> 00:06:32.130\nSo, I've logged into\nour domain controller.\n\n141\n00:06:32.130 --> 00:06:33.510\nCool.\n\n142\n00:06:33.510 --> 00:06:34.150\nAnd, yes.\n\n143\n00:06:34.150 --> 00:06:35.140\n>> 2012 R2?\n\n144\n00:06:35.140 --> 00:06:35.730\n>> 2012 R2, correct.\n\n145\n00:06:37.020 --> 00:06:39.850\nAll right, and so\nwe'll use good old server manager then.\n\n146\n00:06:39.850 --> 00:06:40.400\n>> Beautiful.\n\n147\n00:06:40.400 --> 00:06:43.000\n>> Unless you want to use Powershow or\nsomething goofy.\n\n148\n00:06:43.000 --> 00:06:46.280\n>> You guys should know at home\nthat you can use Powershow,\n\n149\n00:06:46.280 --> 00:06:48.428\nwe'll stick with the GUI for right now.\n\n150\n00:06:48.428 --> 00:06:52.000\n[LAUGH] No, you really do need to go\nover some of the Powershow commands.\n\n151\n00:06:53.870 --> 00:06:57.600\nThere's a deployment service module, so\nthey've added a whole bunch of commands\n\n152\n00:06:57.600 --> 00:07:00.730\njust for working with deployment\nservices to PowerShell.\n\n153\n00:07:00.730 --> 00:07:04.350\nSo just about everything we're gonna do\nhere we can do through PowerShell and\n\n154\n00:07:04.350 --> 00:07:05.030\nyou should try it.\n\n155\n00:07:05.030 --> 00:07:08.460\nWhen you guys are studying for\nthese exams, use the GUIs,\n\n156\n00:07:08.460 --> 00:07:12.370\nuse the clicky-clicky type stuff and\ndo it that way.\n\n157\n00:07:12.370 --> 00:07:14.800\nBut then go back and\ntry to do it again just using Power Show.\n\n158\n00:07:14.800 --> 00:07:15.910\nSee how far you can get.\n\n159\n00:07:15.910 --> 00:07:17.970\nIt'll force you to go out and\nlook up commands and\n\n160\n00:07:17.970 --> 00:07:22.210\npractice typing them, and they'll\nask you some questions on the exam.\n\n161\n00:07:22.210 --> 00:07:26.420\nThey'll give you four commands and\nsay which one would you use to do this?\n\n162\n00:07:26.420 --> 00:07:30.425\nYou gotta at least recognize the command\nname and the proper parameters.\n\n163\n00:07:30.425 --> 00:07:33.950\nMm-hm,\n>> Is a get dash help, is that what it is?\n\n164\n00:07:33.950 --> 00:07:35.740\n>> Get dash help is one of them?\n\n165\n00:07:35.740 --> 00:07:37.500\nThat is my favorite\n>> [LAUGH]\n\n166\n00:07:37.500 --> 00:07:40.010\n>> All right then, so\n\n167\n00:07:40.010 --> 00:07:42.940\nin this wizard here why\nyou're going as a start\n\n168\n00:07:42.940 --> 00:07:44.780\nclicking through some of this stuff\n>> Okay.\n\n169\n00:07:44.780 --> 00:07:49.304\n>> But yeah we've got the initial couple\nscreens I go and of course all we\n\n170\n00:07:49.304 --> 00:07:53.604\nhave is our demand controller in here so\nnot much to select there.\n\n171\n00:07:53.604 --> 00:07:54.864\nBut now we get into our role.\n\n172\n00:07:54.864 --> 00:07:58.257\nNow WDS is this a rule or a feature?\n\n173\n00:07:58.257 --> 00:08:00.065\n>> This is going to be a role.\n\n174\n00:08:00.065 --> 00:08:02.484\nShould be down there, right?\n\n175\n00:08:02.484 --> 00:08:04.890\nWindows Deployment Services.\n\n176\n00:08:04.890 --> 00:08:08.460\nAnd of course we'll add all\nthose fantastic features.\n\n177\n00:08:08.460 --> 00:08:11.450\nBasically what it's saying, you guys have\nseen us install roles before, right?\n\n178\n00:08:11.450 --> 00:08:13.560\nYou pick a role and\nthen it's going to tell you,\n\n179\n00:08:13.560 --> 00:08:17.240\nhey, do want me to install the consoles\nthat you need to administer the role?\n\n180\n00:08:17.240 --> 00:08:19.290\nWell, yeah, that would be very helpful.\n\n181\n00:08:19.290 --> 00:08:21.060\nBut thank you, server manager, for asking.\n\n182\n00:08:21.060 --> 00:08:21.750\nSo yeah.\nUh-huh.\n\n183\n00:08:21.750 --> 00:08:23.140\n>> Okay.\n\n184\n00:08:23.140 --> 00:08:24.430\n>> And that's really all you need, right?\n\n185\n00:08:24.430 --> 00:08:26.690\nNow, when you get to this screen here,\nwe should probably talk about that.\n\n186\n00:08:26.690 --> 00:08:27.550\nThis next one.\n\n187\n00:08:27.550 --> 00:08:29.990\nThere's a nice little intro\nto deployment services.\n\n188\n00:08:29.990 --> 00:08:32.650\nGood read.\nWhen you guys are studying, take your time\n\n189\n00:08:32.650 --> 00:08:37.096\nand read those screens that we just skip\non by cause we've seen it 800 times.\n\n190\n00:08:37.096 --> 00:08:39.020\n>> Keep clicking?\n\n191\n00:08:39.020 --> 00:08:43.470\nYeah, click Next and then in here for\nthe exam when you guys are studying,\n\n192\n00:08:43.470 --> 00:08:47.130\nyou really deployment services has two\nparts has the deployment server itself\n\n193\n00:08:47.130 --> 00:08:50.960\nwhich has all the functionality everything\nthat we can do with deployment services.\n\n194\n00:08:50.960 --> 00:08:54.520\nAnd then there's that transport server\nrole that actually is the networking\n\n195\n00:08:54.520 --> 00:08:58.240\ncomponent of it, and\nif I'm setting up a deployment server,\n\n196\n00:08:58.240 --> 00:09:00.970\njust one deployment server,\nthen I need both of those.\n\n197\n00:09:00.970 --> 00:09:04.400\nI need the deployment services as\nwell as transport server role.\n\n198\n00:09:04.400 --> 00:09:08.750\nBut, if I've got a large environment, I've\ngot offices, I've got satellite offices,\n\n199\n00:09:08.750 --> 00:09:13.600\nbranch offices, and pushing out a 60\ngigabyte image across the landlink is,\n\n200\n00:09:13.600 --> 00:09:16.090\nprobably something we'd want to avoid,\nright?\n\n201\n00:09:16.090 --> 00:09:17.830\nEspecially if I've got a lot\nof machines out there.\n\n202\n00:09:17.830 --> 00:09:21.510\nSo what I can do,\nis I can go out to my branch office.\n\n203\n00:09:21.510 --> 00:09:25.070\nAnd I can install on a server\njust the transport server part.\n\n204\n00:09:25.070 --> 00:09:28.040\nSo that it's basically\njust a distribution point.\n\n205\n00:09:28.040 --> 00:09:31.360\nSo the guys in the branch office would\nconnect back to deployment server at\n\n206\n00:09:31.360 --> 00:09:32.600\nthe corporate office.\n\n207\n00:09:32.600 --> 00:09:36.690\nTo figure out what image they were\nsupposed to get and things like that.\n\n208\n00:09:36.690 --> 00:09:38.780\nBut then when the image\nwas delivered to them,\n\n209\n00:09:38.780 --> 00:09:42.210\nit would actually bounce it off of that\ntransport server out at the branch office,\n\n210\n00:09:42.210 --> 00:09:46.880\nand save us the bandwidth\non the WLAN link.\n\n211\n00:09:46.880 --> 00:09:50.200\nSo we would have to have a copy of the\nimages out there, but it's just the think\n\n212\n00:09:50.200 --> 00:09:54.010\nof it like a distribution point for the\nimages, right, a local distribution point.\n\n213\n00:09:54.010 --> 00:09:56.960\nThat's what that's for but\nwe'll choose both of them for sure for\n\n214\n00:09:56.960 --> 00:09:58.670\nwhat we're doing.\n\n215\n00:09:58.670 --> 00:10:02.570\n>> All right, so there we go and\nso we'll just click Install and\n\n216\n00:10:02.570 --> 00:10:04.610\nyeah let this guy\n>> Rock and roll.\n\n217\n00:10:04.610 --> 00:10:05.560\n>> Power through.\n\n218\n00:10:05.560 --> 00:10:06.988\nRight.\nA good time.\n\n219\n00:10:06.988 --> 00:10:09.550\n[LAUGH]\n>> All right,\n\n220\n00:10:09.550 --> 00:10:12.760\nso, all right, once this guy is finished,\nand it's all set up,\n\n221\n00:10:12.760 --> 00:10:17.260\nthen it will be time to configure it and\nadd estimate images.\n\n222\n00:10:17.260 --> 00:10:20.610\nSo, what images are going to\nbe added to this guy today?\n\n223\n00:10:20.610 --> 00:10:23.560\n>> Well, I would say, you know, usually\nwhen you set up your deployment server as,\n\n224\n00:10:23.560 --> 00:10:24.850\nafter we get the roll installed, and\n\n225\n00:10:24.850 --> 00:10:28.710\njust like all the other rolls, that\nwe've installed on our other episodes.\n\n226\n00:10:28.710 --> 00:10:30.620\nYou know installing the rolls pretty easy,\nright?\n\n227\n00:10:30.620 --> 00:10:32.030\nClick next.\n\n228\n00:10:32.030 --> 00:10:33.740\nCheck mark, next, install.\n\n229\n00:10:33.740 --> 00:10:35.250\nNot a whole lot of questions there.\n\n230\n00:10:35.250 --> 00:10:38.300\nIt's configuring it afterwards,\nthat's where our skill set comes in.\n\n231\n00:10:38.300 --> 00:10:42.710\nAnd, one of the first things we'll do\nis we'll, well one of the second or\n\n232\n00:10:42.710 --> 00:10:44.670\nthird things we'll do is\nwe'll add some images.\n\n233\n00:10:44.670 --> 00:10:49.190\nAnd typically I start\nwith the default image.\n\n234\n00:10:49.190 --> 00:10:49.930\nRight.\n\n235\n00:10:49.930 --> 00:10:54.320\nFirst off, you're going to need a boot\nimage, which is something that I can\n\n236\n00:10:54.320 --> 00:10:58.660\ntransfer down to the machine to\nallow me to start that machine.\n\n237\n00:10:58.660 --> 00:11:02.440\nSo if I'm at a bare metal client, right,\nand I'm connecting to that deployment\n\n238\n00:11:02.440 --> 00:11:07.660\nserver, what's going to happen is we're\ngoing to do what's called a pixie boot,\n\n239\n00:11:07.660 --> 00:11:11.360\nor a pre executable\ninstallation environment?\n\n240\n00:11:11.360 --> 00:11:12.720\n>> Pre execution environment.\n\n241\n00:11:12.720 --> 00:11:14.680\n>> Pre execution environment.\n\n242\n00:11:14.680 --> 00:11:18.820\nSo our deployment server acts as a pixie\nserver, so it's going to listen for\n\n243\n00:11:18.820 --> 00:11:20.930\nthose pixie requests and\n\n244\n00:11:20.930 --> 00:11:25.900\nthat's going to get its TCP IP\ninformation from my deployment server,\n\n245\n00:11:25.900 --> 00:11:30.960\nand it's gonna use TFTP to download\nthat little deployment services client,\n\n246\n00:11:30.960 --> 00:11:35.300\nand then it will connect back\nto the deployment server, and\n\n247\n00:11:35.300 --> 00:11:40.180\ngive me a list of boot images that I can\nuse that it can start the machine with.\n\n248\n00:11:40.180 --> 00:11:41.970\nSo the first thing that\nwe need is a boot image.\n\n249\n00:11:44.380 --> 00:11:46.990\nAnd we'll need a boot image\nthat's platform dependent.\n\n250\n00:11:46.990 --> 00:11:52.350\nSo if you're supporting 64 bit\nmachines as well as 32 bit machines,\n\n251\n00:11:52.350 --> 00:11:54.600\nyou would need a boot image for each one.\n\n252\n00:11:54.600 --> 00:11:57.860\nYou don't need one for\neach operating system, though.\n\n253\n00:11:57.860 --> 00:12:00.950\nSo I typically grab the one right\noff of the server disk, but\n\n254\n00:12:00.950 --> 00:12:02.990\nyou could get the one\noff the Windows 8 disk.\n\n255\n00:12:02.990 --> 00:12:05.610\nYou could get one off the Windows 7 disk.\n\n256\n00:12:05.610 --> 00:12:08.240\nReally what you should do is use the\nlatest version, so if you're going to be\n\n257\n00:12:08.240 --> 00:12:12.270\nworking with 2012 Windows 8, Windows 7\ngo ahead and get one off the 2012 disk.\n\n258\n00:12:12.270 --> 00:12:16.800\nIt is really probably the best way\nto go but any of them might work.\n\n259\n00:12:16.800 --> 00:12:18.610\n>> Right.\nNow to grab these install images and\n\n260\n00:12:18.610 --> 00:12:23.250\nthese boot images we're going to pull\nthese right off the installation media.\n\n261\n00:12:23.250 --> 00:12:24.100\nRight\n>> Yup.\n\n262\n00:12:24.100 --> 00:12:26.840\n>> The ISO straight from Microsoft.\n\n263\n00:12:26.840 --> 00:12:27.530\n>> Yeah, exactly.\n\n264\n00:12:27.530 --> 00:12:30.600\nRight on that DVD you're going\nto see a sources folder, and\n\n265\n00:12:30.600 --> 00:12:33.050\ninside there you're going\nto see that boot dot win,\n\n266\n00:12:33.050 --> 00:12:35.450\nwhich is what it uses when you're\ninstalling from the DVD, right?\n\n267\n00:12:35.450 --> 00:12:39.460\nYou pop that DVD in and you boot your\nmachine and it's using that boot.win, so\n\n268\n00:12:39.460 --> 00:12:42.210\nwe're just going to grab that and\nput it on our deployment server.\n\n269\n00:12:42.210 --> 00:12:46.700\nAnd then also in that images folder, or\nthat sources folder, is the install.win,\n\n270\n00:12:46.700 --> 00:12:51.810\nwhich is the default installation of 2012,\nand so we'll grab that as well.\n\n271\n00:12:51.810 --> 00:12:52.830\nAnd if that's all you were doing,\n\n272\n00:12:52.830 --> 00:12:55.810\nif you were just doing\ndefault images you'd be done.\n\n273\n00:12:55.810 --> 00:12:57.080\nI mean we'd be ready to rock and\n\n274\n00:12:57.080 --> 00:13:00.020\nroll but most of the time we\nwant to do some customization.\n\n275\n00:13:01.680 --> 00:13:02.405\n>> I was like.\n\n276\n00:13:02.405 --> 00:13:04.670\n[INAUDIBLE] i'm glad we\ngrabbed the fast server today\n\n277\n00:13:04.670 --> 00:13:05.250\n>> Yeah\n\n278\n00:13:05.250 --> 00:13:07.440\n>> I know it's barely churning along.\n\n279\n00:13:07.440 --> 00:13:10.440\nThere we go it's finished.\n\n280\n00:13:10.440 --> 00:13:14.500\nI will tell you one thing that drives me\ncrazy about 2012 and those wizards is,\n\n281\n00:13:14.500 --> 00:13:18.270\nto me, it doesn't give you enough\nindication that it's finished.\n\n282\n00:13:18.270 --> 00:13:19.930\nBecause just like there\n>> Yeah.\n\n283\n00:13:19.930 --> 00:13:22.790\n>> You're looking at it, and you're kind\nof glancing out of the corner of your eye,\n\n284\n00:13:22.790 --> 00:13:24.420\nwatching to wait and see if it's done,\n\n285\n00:13:24.420 --> 00:13:27.530\nand you don't realize that\nit's actually finished.\n\n286\n00:13:27.530 --> 00:13:30.230\nInteresting thing about those and I'm\nsure we mentioned it in a couple of other\n\n287\n00:13:30.230 --> 00:13:35.030\nepisodes but with Server 2012 those\ndialog boxes are no longer modal.\n\n288\n00:13:35.030 --> 00:13:37.980\nAnother words,\nyeah modal big fancy word for\n\n289\n00:13:37.980 --> 00:13:42.020\nwhen a dialog opens up and\nyou can't click on anything else.\n\n290\n00:13:42.020 --> 00:13:44.550\nYou can only click on that dialog box.\n\n291\n00:13:44.550 --> 00:13:47.080\nThat's a modal window.\n\n292\n00:13:47.080 --> 00:13:49.280\nIt's like UAC is a modal dialog.\n\n293\n00:13:49.280 --> 00:13:51.260\nAnd it used to be, for\n\n294\n00:13:51.260 --> 00:13:54.910\n2008 and prior, once you started\ninstalling one of those roles, you\n\n295\n00:13:54.910 --> 00:13:57.890\ncouldn't do anything else because you had\nto sit there and watch that thing finish.\n\n296\n00:13:57.890 --> 00:14:01.940\nNow you can actually cancel that wizard,\nor close the wizard not cancel it, and\n\n297\n00:14:01.940 --> 00:14:05.330\ndo other things and\nit'll keep running in the background.\n\n298\n00:14:05.330 --> 00:14:06.210\n>> That's kinda cool.\n\n299\n00:14:06.210 --> 00:14:07.060\n>> Multitasking, right?\n\n300\n00:14:07.060 --> 00:14:07.806\nThat's what it's all about.\n\n301\n00:14:07.806 --> 00:14:08.673\nMm-hm.\nYep yep.\n\n302\n00:14:08.673 --> 00:14:09.320\nWhoo-hoo.\n\n303\n00:14:09.320 --> 00:14:10.100\nAll right, sweet.\n\n304\n00:14:10.100 --> 00:14:15.050\nSo we have our role installed and\nnow it is time to configure this guy.\n\n305\n00:14:15.050 --> 00:14:16.130\n>> Let's do it.\n\n306\n00:14:16.130 --> 00:14:20.745\n>> So I'll click on the WDS just there\noff on the side to open this up.\n\n307\n00:14:20.745 --> 00:14:21.285\nAnd so there we go.\n\n308\n00:14:21.285 --> 00:14:22.575\nWe've got our little server right there.\n\n309\n00:14:22.575 --> 00:14:24.975\n>> Mm hm.\n>> And if, now Mike if we add multiple\n\n310\n00:14:24.975 --> 00:14:26.145\nWDS servers.\n\n311\n00:14:26.145 --> 00:14:27.965\n>> Mm hm.\n>> Then we could see those guys listed\n\n312\n00:14:27.965 --> 00:14:31.685\nhere and then we could pick which one that\nwe're going to be doing this work on.\n\n313\n00:14:31.685 --> 00:14:33.095\n>> Mm hm.\nWhich one we're going to manage.\n\n314\n00:14:33.095 --> 00:14:36.105\n>> So we only got one so\nwe'll just pick that guy.\n\n315\n00:14:36.105 --> 00:14:37.385\n>> Yup.\n\n316\n00:14:37.385 --> 00:14:39.095\nNow I typically go up to.\n\n317\n00:14:40.250 --> 00:14:41.000\nNice, yeah?\n\n318\n00:14:41.000 --> 00:14:42.300\n>> What? Yeah. >> Yeah, good.\n\n319\n00:14:42.300 --> 00:14:44.170\n>> Okay.\nYou want me to go a different way?\n\n320\n00:14:44.170 --> 00:14:45.500\nYou want me to close it up?\n\n321\n00:14:45.500 --> 00:14:46.000\nOkay.\n\n322\n00:14:47.610 --> 00:14:50.890\n>> As always with Windows there's\nseven different ways you can get to\n\n323\n00:14:50.890 --> 00:14:52.280\nthe same place, right?\n\n324\n00:14:52.280 --> 00:14:54.675\nSo it's whatever works for you.\n\n325\n00:14:54.675 --> 00:14:55.650\n[LAUGH]\n>> All right, so\n\n326\n00:14:55.650 --> 00:14:59.860\nour Windows Deployment Services, and\nso we'll expand out the services.\n\n327\n00:14:59.860 --> 00:15:02.470\nNode, all right so there we go.\n\n328\n00:15:02.470 --> 00:15:03.780\nSo there's our server there.\n\n329\n00:15:03.780 --> 00:15:04.440\n>> Yep.\n\n330\n00:15:04.440 --> 00:15:07.350\n>> And\nit's got a little teeny tiny icon with.\n\n331\n00:15:07.350 --> 00:15:09.030\n>> It does.\n>> A yellow\n\n332\n00:15:09.030 --> 00:15:10.300\ntriangle exclamation mark on it.\n\n333\n00:15:10.300 --> 00:15:12.885\n>> Little exclamation point there,\nwhat's wrong with.\n\n334\n00:15:12.885 --> 00:15:14.025\n>> Not a green arrow yet.\n\n335\n00:15:14.025 --> 00:15:15.665\n>> But click on it and\nsee what it tells you.\n\n336\n00:15:15.665 --> 00:15:16.295\n>> There we go.\n\n337\n00:15:16.295 --> 00:15:17.765\nThis server is not configured.\n\n338\n00:15:17.765 --> 00:15:20.245\nMy gosh, because we just\nbarely installed this thing.\n\n339\n00:15:20.245 --> 00:15:21.475\nYeah, crazy.\n\n340\n00:15:21.475 --> 00:15:22.545\n>> Crazy.\n>> All right, and\n\n341\n00:15:22.545 --> 00:15:24.345\n>> So let's do it, this is kind of,\n\n342\n00:15:24.345 --> 00:15:26.345\nI don't know,\nyou've been through this before.\n\n343\n00:15:26.345 --> 00:15:27.655\nIt's kind of a silly little wizard.\n\n344\n00:15:27.655 --> 00:15:29.455\nGo ahead, right click configure server.\n\n345\n00:15:31.400 --> 00:15:32.150\nAnd Next.\n\n346\n00:15:33.820 --> 00:15:35.210\n>> You know, Mike.\n\n347\n00:15:35.210 --> 00:15:38.710\nThese opening windows here\n>> I like just to click through them.\n\n348\n00:15:38.710 --> 00:15:43.730\nBut when I do this with Don, Don's like,\nno let's go back and let's read this.\n\n349\n00:15:43.730 --> 00:15:47.195\n>> Then let's read it\n>> But Don's not here\n\n350\n00:15:47.195 --> 00:15:49.600\n>> [LAUGH] Just kidding.\n\n351\n00:15:49.600 --> 00:15:52.200\nLittle intro screen.\n\n352\n00:15:52.200 --> 00:15:54.789\n>> Yeah and as I was saying and\nas I always tell people, read them.\n\n353\n00:15:54.789 --> 00:15:59.627\nThey've got some very good information\non there I figure why read them\n\n354\n00:15:59.627 --> 00:16:03.810\nto them they'll read them\nwhen they're studying, right?\n\n355\n00:16:03.810 --> 00:16:06.614\n>> All right so we'll click through.\n\n356\n00:16:06.614 --> 00:16:10.680\nAll right, so we have an integrated,\nactive directory option and\n\n357\n00:16:10.680 --> 00:16:13.140\na stand alone server option.\n\n358\n00:16:13.140 --> 00:16:18.430\nSo the stand alone option, it operates\nindependently of active directories.\n\n359\n00:16:18.430 --> 00:16:21.660\nSo I suppose if we were in\na workgroup environment,\n\n360\n00:16:21.660 --> 00:16:26.340\nthen we have to pick\na stand alone server there.\n\n361\n00:16:26.340 --> 00:16:30.830\nSince we do have an active directory\ndomain it will choose the integrated.\n\n362\n00:16:30.830 --> 00:16:33.120\n>> I would.\nI honestly never set up the stand alone.\n\n363\n00:16:33.120 --> 00:16:35.620\nI can see like you said if\nyou don't have a domain\n\n364\n00:16:35.620 --> 00:16:38.150\nobviously you can't do active directory.\n\n365\n00:16:38.150 --> 00:16:40.910\nYou might have a test environment.\n\n366\n00:16:40.910 --> 00:16:44.230\nWhere you don't want it tied into maybe\nyour production active directory.\n\n367\n00:16:44.230 --> 00:16:47.320\nSo you set up a stand alone or\nsomething like that.\n\n368\n00:16:47.320 --> 00:16:48.360\nSo.\n\n369\n00:16:48.360 --> 00:16:52.430\nBut in the, in all the places that\nI've set up deployment services,\n\n370\n00:16:52.430 --> 00:16:53.370\nwe definitely want to tie it in.\n\n371\n00:16:53.370 --> 00:16:56.170\nI mean I want to be able to take\nadvantage of the information that's in\n\n372\n00:16:56.170 --> 00:16:56.860\nactive directory.\n\n373\n00:16:56.860 --> 00:17:01.490\nI want to be able to prestage accounts,\nwhich we'll talk about here in a minute,\n\n374\n00:17:01.490 --> 00:17:03.220\nto help secure to\nthe deployment server and\n\n375\n00:17:03.220 --> 00:17:07.690\ncontrol who's actually able to pull those\nimages down from my deployment server.\n\n376\n00:17:07.690 --> 00:17:11.030\nSo, I always do the active\ndirectory integrated.\n\n377\n00:17:11.030 --> 00:17:11.600\n>> All right.\nSo,\n\n378\n00:17:11.600 --> 00:17:16.740\nnow we have the installation folder of\nwhere the boot images, install images,\n\n379\n00:17:16.740 --> 00:17:20.940\nand the custom images, and all that good\nstuff, are gonna be stored on our server.\n\n380\n00:17:20.940 --> 00:17:22.350\n>> Right.\n>> The default option\n\n381\n00:17:22.350 --> 00:17:25.545\nhere is on the system disk, C drive.\n\n382\n00:17:25.545 --> 00:17:26.180\n>> Mm-hm.\n\n383\n00:17:26.180 --> 00:17:28.300\n>> Now, it should\n>> Should we pick a?\n\n384\n00:17:28.300 --> 00:17:32.800\n>> That's a great place\nto put it isn't it?\n\n385\n00:17:34.010 --> 00:17:35.540\n>> I'd probably push it off on a.\n\n386\n00:17:35.540 --> 00:17:36.610\nThat was one of those things.\n\n387\n00:17:36.610 --> 00:17:39.750\n>> Forgot to put the little\nsarcasm quotes around it.\n\n388\n00:17:39.750 --> 00:17:40.600\n>> I was looking for it.\n\n389\n00:17:40.600 --> 00:17:41.760\n>> Sorry, sorry.\n\n390\n00:17:43.390 --> 00:17:47.070\nAnd as we can all probably imagine,\nthe C drive,\n\n391\n00:17:47.070 --> 00:17:50.150\nwhere my system drive is,\nis not a good place to put this.\n\n392\n00:17:50.150 --> 00:17:51.500\nA couple of reasons, right?\n\n393\n00:17:51.500 --> 00:17:56.950\nContention, that's going to be busy\npushing images out across the network,\n\n394\n00:17:56.950 --> 00:18:00.540\nso now I've got discontention with the\noperating system and the imaging process.\n\n395\n00:18:00.540 --> 00:18:02.650\nAnd two, these images can get large.\n\n396\n00:18:02.650 --> 00:18:07.280\nI have images that are over\n60 gigs in size and\n\n397\n00:18:07.280 --> 00:18:10.810\nI don't want to eat up all that space\non that operating system drive.\n\n398\n00:18:10.810 --> 00:18:13.180\nSo definitely want to put\nthis on separate volume,\n\n399\n00:18:13.180 --> 00:18:17.000\nin fact it's gonna tell\nyou the same thing.\n\n400\n00:18:17.000 --> 00:18:18.450\nDo you have another drive in this machine?\n\n401\n00:18:18.450 --> 00:18:21.460\nI don't even know for sure.\n\n402\n00:18:21.460 --> 00:18:28.460\nId you hit browse do we\nhave another volume?\n\n403\n00:18:28.460 --> 00:18:29.830\n>> I guess I could just go there.\n\n404\n00:18:29.830 --> 00:18:30.340\nAnd, let's see.\n\n405\n00:18:30.340 --> 00:18:31.180\nNo.\nWe have this D Drive.\n\n406\n00:18:31.180 --> 00:18:32.964\nShould we just put it there?\n\n407\n00:18:32.964 --> 00:18:34.741\n>> [LAUGH]\n>> So CD-RW?\n\n408\n00:18:34.741 --> 00:18:35.253\nYeah.\n\n409\n00:18:35.253 --> 00:18:38.670\n>> [LAUGH]\n>> Alright, so we don't.\n\n410\n00:18:38.670 --> 00:18:39.350\n>> Yeah.\n\n411\n00:18:39.350 --> 00:18:42.340\n>> So we don't, so\nI guess just stick it there?\n\n412\n00:18:42.340 --> 00:18:44.550\nShould we break it down and\nadd another drive?\n\n413\n00:18:44.550 --> 00:18:46.040\n>> I say we put it on C: just for\n\n414\n00:18:46.040 --> 00:18:49.830\nour purposes as long as you guys know\nin the real world, not a good idea.\n\n415\n00:18:49.830 --> 00:18:50.500\n>> Alright.\n\n416\n00:18:50.500 --> 00:18:52.010\nYep.\n>> And then there we go.\n\n417\n00:18:52.010 --> 00:18:56.340\nPops right up there, the volume you have\nselected is the Windows Operating System\n\n418\n00:18:56.340 --> 00:18:59.460\ndisc, you should not do this,\ndo you want to continue?\n\n419\n00:18:59.460 --> 00:19:02.050\nWe'll say yes, in our case.\n\n420\n00:19:02.050 --> 00:19:05.460\n>> Notice it said, separate volume,\nand preferably a separate disc,\n\n421\n00:19:05.460 --> 00:19:07.150\na separate spindle.\n\n422\n00:19:07.150 --> 00:19:12.890\nSo that we've got separate [INAUDIBLE]\ngoing into that.\n\n423\n00:19:12.890 --> 00:19:14.220\n>> So now.\n\n424\n00:19:14.220 --> 00:19:14.760\nMoving right along.\n\n425\n00:19:14.760 --> 00:19:20.310\nSo this right here is\nan important window to look at.\n\n426\n00:19:20.310 --> 00:19:24.340\nSo if DHCP is running on this server,\n\n427\n00:19:24.340 --> 00:19:28.270\nit just tells you flat out to\ncheck both of these boxes.\n\n428\n00:19:28.270 --> 00:19:31.200\nSo what do these two boxes do, Mike?\n\n429\n00:19:31.200 --> 00:19:32.020\n>> I don't know.\n>> [LAUGH].\n\n430\n00:19:32.020 --> 00:19:36.530\nThe problem is your deployment servers,\n\n431\n00:19:36.530 --> 00:19:40.370\nas I said towards the beginning of\nthe episode, is a pixie server, right?\n\n432\n00:19:40.370 --> 00:19:44.500\nSo it's gonna be listening for those\npixie requests, DHDP does the same thing.\n\n433\n00:19:44.500 --> 00:19:48.700\nOr DHDP used that port,\nI should say, port 67.\n\n434\n00:19:48.700 --> 00:19:52.010\nSo, if we're gonna put deployment\nservices on the same server.\n\n435\n00:19:52.010 --> 00:19:54.900\nServer as my DHTP server,\n\n436\n00:19:54.900 --> 00:19:58.080\nthen I need to tell deployment services\nnot to listen on that port 67.\n\n437\n00:19:58.080 --> 00:20:01.330\nThat DHTP service has got it covered.\n\n438\n00:20:01.330 --> 00:20:03.970\nOtherwise, if it was on a separate server,\n\n439\n00:20:03.970 --> 00:20:07.900\nmy pixie server would still listen\non port 67, my deployment server.\n\n440\n00:20:07.900 --> 00:20:10.920\nAnd then it could get the info it needs\nfrom the DHCP to give to the client.\n\n441\n00:20:12.220 --> 00:20:15.090\nSo, yeah, if you're installing it on\nthe same machine, which is, you know,\n\n442\n00:20:15.090 --> 00:20:17.880\nI tell ya,\nI don't have a problem with doing that.\n\n443\n00:20:17.880 --> 00:20:21.690\nI typically do put DHCP on\nthe deployment server, Makes it easier.\n\n444\n00:20:21.690 --> 00:20:22.432\n>> Mm hm.\n>> You know,\n\n445\n00:20:22.432 --> 00:20:24.510\ncause if I can connect to one,\nI can connect to the other.\n\n446\n00:20:24.510 --> 00:20:28.320\nI don't have to worry about one being down\nand one not and things like that, so.\n\n447\n00:20:28.320 --> 00:20:29.670\n>> Mm hm.\nAll right sweet.\n\n448\n00:20:29.670 --> 00:20:31.720\nSo we'll leave both of these guys checked.\n\n449\n00:20:31.720 --> 00:20:32.320\n>> Mm hm.\n\n450\n00:20:32.320 --> 00:20:35.820\nIt is nice that the wizard now\ndetects that and says, hey.\n\n451\n00:20:35.820 --> 00:20:39.390\nBecause before, it did not and if you\nforgot, you'd have to go back in and\n\n452\n00:20:39.390 --> 00:20:40.230\nconfigure those options.\n\n453\n00:20:40.230 --> 00:20:40.800\nSo that's nice.\n\n454\n00:20:40.800 --> 00:20:42.298\nThat's nice of them.\n\n455\n00:20:42.298 --> 00:20:44.880\n>> Mm-hm, it is.\n\n456\n00:20:44.880 --> 00:20:52.290\nAll right, so now we have the PXE response\nlittle window step in our Wizard here.\n\n457\n00:20:52.290 --> 00:20:58.730\nAnd so when this WDS server receives a PXE\nresponse from a computer booting up.\n\n458\n00:20:58.730 --> 00:21:00.240\nWhat do we want to do?\n\n459\n00:21:00.240 --> 00:21:05.690\nAll right, so\ndo we want to respond to any client.\n\n460\n00:21:05.690 --> 00:21:08.160\nRight?\nSo clients that it knows or doesn't know.\n\n461\n00:21:09.360 --> 00:21:11.615\nOr respond only to known clients.\n\n462\n00:21:11.615 --> 00:21:16.690\n>> Mm-hm.\n>> Or respond to everybody but\n\n463\n00:21:16.690 --> 00:21:18.570\nrequire a administrative approval.\n\n464\n00:21:18.570 --> 00:21:22.310\nSo, we'll put them in a,\nlike a pending que.\n\n465\n00:21:22.310 --> 00:21:24.620\nAnd there will be a little folder\nonce we get up in there and\n\n466\n00:21:24.620 --> 00:21:28.060\nwe'll say pending devices and then we can\ngo in there and we can select like, yes,\n\n467\n00:21:28.060 --> 00:21:30.740\nand then you can go ahead and\ntake it on or what not.\n\n468\n00:21:30.740 --> 00:21:33.330\n>> Exactly.\n>> And now and these gnome clans.\n\n469\n00:21:33.330 --> 00:21:34.980\nSo these are like prestaged?\n\n470\n00:21:34.980 --> 00:21:35.540\n>> Prestaged.\n\n471\n00:21:35.540 --> 00:21:36.080\n>> Prestaged.\n>> So\n\n472\n00:21:36.080 --> 00:21:38.960\nwe would have made an account for\nthose guys in active directory already or\n\n473\n00:21:38.960 --> 00:21:41.690\nthey already had an account\nactive directory.\n\n474\n00:21:41.690 --> 00:21:46.860\nThe way I do it is I like to choose\ndo not respond to any clients\n\n475\n00:21:46.860 --> 00:21:49.580\ninitially, that first option, and\n\n476\n00:21:49.580 --> 00:21:53.980\nthat way, I don't need people trying to\nconnect to it while I'm getting it set up.\n\n477\n00:21:53.980 --> 00:21:57.370\nI don't have any images on there yet,\nI don't have anything configured, so\n\n478\n00:21:57.370 --> 00:21:59.610\nI don't want anybody\ntrying to connect to it.\n\n479\n00:21:59.610 --> 00:22:04.160\nAnd then once I'm done, I can go back and\nAnd I can turn that back on.\n\n480\n00:22:04.160 --> 00:22:07.880\nBut it's really up to you,\nyou know if this is a second or third and\n\n481\n00:22:07.880 --> 00:22:09.720\nyou've already got some images\nout there or something.\n\n482\n00:22:09.720 --> 00:22:12.420\nMaybe you turn in on now.\n\n483\n00:22:12.420 --> 00:22:15.950\nReally doesn't matter because in the end\nwe can go into the properties of the.\n\n484\n00:22:15.950 --> 00:22:21.330\nServer and we can change it to whatever we\nwant so pick whatever you'd like there.\n\n485\n00:22:21.330 --> 00:22:24.810\n>> We'll just gonna reply to everybody\n>> Okay.\n\n486\n00:22:24.810 --> 00:22:25.310\n>> Alright.\n\n487\n00:22:27.130 --> 00:22:29.950\nSweet and there we go now let that run.\n\n488\n00:22:29.950 --> 00:22:31.810\nNow you want to be careful with that.\n\n489\n00:22:31.810 --> 00:22:34.890\nWe picked the option respond to known and\nunknown, so\n\n490\n00:22:34.890 --> 00:22:38.840\nknown computers are machines that have\nbeen prestaged in active directory.\n\n491\n00:22:38.840 --> 00:22:40.850\nUnknown is anybody, right?\n\n492\n00:22:40.850 --> 00:22:44.530\nThat means I could walk into your\nenvironment, connect to your network,\n\n493\n00:22:44.530 --> 00:22:47.089\nPXE boot my machine, and\npotentially pull down one of your images.\n\n494\n00:22:48.780 --> 00:22:53.440\nWhich might have a line of business\nsoftware apart of that image,\n\n495\n00:22:53.440 --> 00:22:57.040\nlicense software that I'm\ngoing to get a copy of now.\n\n496\n00:22:57.040 --> 00:23:00.670\nSo that little check mark below that\nrequired administrator approval\n\n497\n00:23:00.670 --> 00:23:02.020\nis probably a good option.\n\n498\n00:23:03.630 --> 00:23:07.100\nAnd we'll go and we'll turn that on in\na little bit when we get back into our\n\n499\n00:23:07.100 --> 00:23:07.855\nonce we get it all set up.\n\n500\n00:23:07.855 --> 00:23:12.400\n>> Mm-hm alright so alright so that\nwent by kind of fast so there we go so\n\n501\n00:23:12.400 --> 00:23:14.090\nwe are all all finished.\n\n502\n00:23:14.090 --> 00:23:15.010\n>> Yep.\n>> And there we go so\n\n503\n00:23:15.010 --> 00:23:18.340\nnow we have\n>> Instead of a little yellow triangle,\n\n504\n00:23:18.340 --> 00:23:21.920\nwe now have a little black square,\nlike a stop button.\n\n505\n00:23:21.920 --> 00:23:22.610\n>> Rock on.\n\n506\n00:23:22.610 --> 00:23:26.520\n>> And our wizards said that our that\nthe WS server did not respond in a timely\n\n507\n00:23:26.520 --> 00:23:30.070\nmanner so it is in a stopped\n>> Wait, what?\n\n508\n00:23:30.070 --> 00:23:33.940\n>> Yeah, we might have taken a little too\nlong during the Wizard or something and\n\n509\n00:23:33.940 --> 00:23:35.570\ngot tired of waiting.\n\n510\n00:23:35.570 --> 00:23:37.500\nWho knows?\n>> Well, he can just wait then, gosh.\n\n511\n00:23:37.500 --> 00:23:38.175\n>> Yeah, he can wait.\n\n512\n00:23:38.175 --> 00:23:39.150\n[LAUGH].\n>> Impatient.\n\n513\n00:23:39.150 --> 00:23:41.760\nAnd so\nnow we have a slew of new folders here.\n\n514\n00:23:41.760 --> 00:23:42.440\n>> We do.\n\n515\n00:23:42.440 --> 00:23:47.090\n>> We have install images, boot\n>> Images, pending devices,\n\n516\n00:23:47.090 --> 00:23:51.910\nmulti cast, drivers, and of course we\nhave this active directory one before.\n\n517\n00:23:51.910 --> 00:23:52.890\nBut all right, there we go.\n\n518\n00:23:52.890 --> 00:23:57.705\nSo we have some new folders, and now what,\ntime to start loading these guys up?\n\n519\n00:23:57.705 --> 00:23:58.741\n>> Let's pull up the property.\n\n520\n00:23:58.741 --> 00:24:00.752\nGo ahead and\nright-click on DC2 there for a second.\n\n521\n00:24:00.752 --> 00:24:03.393\nLet's pull up our properties and\ntake a look at some of our options.\n\n522\n00:24:03.393 --> 00:24:05.937\nThese we can figure,\nduring that initial wizard, but\n\n523\n00:24:05.937 --> 00:24:09.530\nas we go through these different tabs,\nlike if you go to the PXE Response tab,\n\n524\n00:24:09.530 --> 00:24:12.270\nthose are going to be those\noptions that we just looked at.\n\n525\n00:24:12.270 --> 00:24:15.530\nSo that's why I was saying we can\ngo back and make those changes,\n\n526\n00:24:15.530 --> 00:24:18.940\nwe can tell it to require administrator\napproval, which I think we should.\n\n527\n00:24:18.940 --> 00:24:19.770\nLet's go ahead and check that,\n\n528\n00:24:19.770 --> 00:24:24.450\nbecause we'll show you what happens\nlater on when we do a pending device.\n\n529\n00:24:24.450 --> 00:24:28.690\nAnd then over on that deployment\nservices tab, or the ADDS tab,\n\n530\n00:24:28.690 --> 00:24:32.640\nI forgot about quick response time,\nI never use that.\n\n531\n00:24:32.640 --> 00:24:33.650\n>> So a delay.\n\n532\n00:24:33.650 --> 00:24:40.120\nSo isn't this just like a make\nshift way of load balancing things.\n\n533\n00:24:40.120 --> 00:24:43.680\nLike, if you could set\na delay longer that one.\n\n534\n00:24:43.680 --> 00:24:46.300\nSo it would like respond, or if there\nwas like a certain amount of latency.\n\n535\n00:24:46.300 --> 00:24:47.680\n>> Absolutely.\n>> Then it would pick a better one?\n\n536\n00:24:47.680 --> 00:24:51.330\n>> Yep, and also if you had one that\nwas your primary deployment server, and\n\n537\n00:24:51.330 --> 00:24:56.000\nyou had a second one that was maybe\ndidn't have the same performance, but\n\n538\n00:24:56.000 --> 00:24:57.960\nit was made as a backup.\n\n539\n00:24:57.960 --> 00:24:59.300\nSet him to a five-second delay.\n\n540\n00:24:59.300 --> 00:25:02.390\nAnd then only if the first one\ndidn't respond would that second one\n\n541\n00:25:02.390 --> 00:25:03.490\nrespond those PXE.\n\n542\n00:25:03.490 --> 00:25:06.010\nOr you might have something else\non your network that uses PXE.\n\n543\n00:25:06.010 --> 00:25:07.270\nAnd that you're using it and\n\n544\n00:25:07.270 --> 00:25:11.620\nyou want the deployment server to kinda\nslow down and not respond immediately.\n\n545\n00:25:11.620 --> 00:25:14.450\nMost environments that I've worked at,\nI wanted to respond immediately.\n\n546\n00:25:14.450 --> 00:25:15.350\n>> Right, like right away.\n\n547\n00:25:15.350 --> 00:25:15.925\n>> Like yesterday.\n\n548\n00:25:15.925 --> 00:25:16.460\n>> [LAUGH]\n>> Right?\n\n549\n00:25:16.460 --> 00:25:18.890\nI'm ready to get the image out, come on.\n\n550\n00:25:18.890 --> 00:25:21.820\nSo, I usually leave that as zero.\n\n551\n00:25:21.820 --> 00:25:23.970\n>> All right, and what was the next tab?\n\n552\n00:25:23.970 --> 00:25:26.240\n>> Active directory deployment services.\n\n553\n00:25:26.240 --> 00:25:29.390\nAnd this is where we can set\nour naming convention for\n\n554\n00:25:29.390 --> 00:25:31.600\nthe machines that we're gonna be imaging.\n\n555\n00:25:31.600 --> 00:25:38.770\nAs well as choose where it's\ngoing to go in active directory.\n\n556\n00:25:38.770 --> 00:25:43.920\nYou can go out and you can Bing, or\nsome different services, because\n\n557\n00:25:43.920 --> 00:25:46.960\nit's everybody's favorite search engine\n>> [LAUGH]\n\n558\n00:25:46.960 --> 00:25:48.220\n>> And you can find some\n\n559\n00:25:48.220 --> 00:25:50.830\nof the syntax that they use here for\nthese naming conventions.\n\n560\n00:25:50.830 --> 00:25:56.330\nLike by default, %61user name%, I think\nthey've got a pound symbol after it.\n\n561\n00:25:57.429 --> 00:26:00.970\nSo, %61user name says take their username,\n\n562\n00:26:00.970 --> 00:26:04.140\nthis would be the person who is\nactually booting the machine.\n\n563\n00:26:04.140 --> 00:26:05.600\nThe one that's pulling the image out.\n\n564\n00:26:05.600 --> 00:26:07.920\nIf I would have logged on and\nconnected to deployment services,\n\n565\n00:26:07.920 --> 00:26:12.000\nit would be using my username, my account.\n\n566\n00:26:12.000 --> 00:26:15.080\nSix would be the first six\nletters of the username.\n\n567\n00:26:15.080 --> 00:26:16.647\nOne would be the first\nletter of my last name.\n\n568\n00:26:16.647 --> 00:26:20.251\nSo it would be MikeR.\n\n569\n00:26:20.251 --> 00:26:22.660\nThe name of the computer would be MikeR,\n\n570\n00:26:22.660 --> 00:26:24.820\nI don't think they've got any\nleading zeros out there, right?\n\n571\n00:26:24.820 --> 00:26:32.880\nThe %# is a incremental digit,\nand if you put a single digit.\n\n572\n00:26:32.880 --> 00:26:38.140\nIf you put like %2#,\nit'd be a two digit number.\n\n573\n00:26:38.140 --> 00:26:42.750\nIf you put a %02#, you would include\n\n574\n00:26:42.750 --> 00:26:47.590\nthe leading zeros on\nyour two digit number.\n\n575\n00:26:47.590 --> 00:26:50.895\nI'll tell you that it's not that flexible.\n\n576\n00:26:50.895 --> 00:26:54.370\n>> [LAUGH]\n>> One, I don't see me naming my computers\n\n577\n00:26:54.370 --> 00:26:57.860\nafter the user that's doing it, cuz\ntypically it's one or two people, right?\n\n578\n00:26:57.860 --> 00:27:00.630\nMy help desk people or me or\nwhatever doing it, and\n\n579\n00:27:00.630 --> 00:27:04.510\nI don't need all my computers\nnamed Mike R1, Mike R2, Mike R3.\n\n580\n00:27:04.510 --> 00:27:06.100\nNow there's other things I could use.\n\n581\n00:27:06.100 --> 00:27:08.260\nThere's other environment variables\nthat I can throw in there.\n\n582\n00:27:09.810 --> 00:27:12.680\nBut, if you're pre staging\nthe accounts in active directory,\n\n583\n00:27:12.680 --> 00:27:14.220\nyou've already given the clients a name.\n\n584\n00:27:14.220 --> 00:27:18.950\nSo I leave that default there and\nI don't really care about it.\n\n585\n00:27:18.950 --> 00:27:23.010\nBut I don't know how you normally do\nyours, just leave it that way or.\n\n586\n00:27:23.010 --> 00:27:24.370\n>> Yeah, that works.\n\n587\n00:27:24.370 --> 00:27:24.990\n>> Okay.\n\n588\n00:27:24.990 --> 00:27:27.790\nAnd then down below, though,\nthe important stuff is that bottom part.\n\n589\n00:27:27.790 --> 00:27:30.770\nWhere are my computer accounts\ngoing to go in active directory?\n\n590\n00:27:30.770 --> 00:27:34.390\nThe same domain as\nthe deployment services server.\n\n591\n00:27:34.390 --> 00:27:38.130\nThe same domain as the user\nperforming the installation.\n\n592\n00:27:38.130 --> 00:27:41.130\nThe same OU as the user\nperforming the installation.\n\n593\n00:27:41.130 --> 00:27:43.380\nOr I can pick the following location.\n\n594\n00:27:43.380 --> 00:27:47.720\nAnd in most environments we have changed\nthe default locations of where I want new\n\n595\n00:27:47.720 --> 00:27:48.660\ncomputers to go, right?\n\n596\n00:27:48.660 --> 00:27:51.100\nWe've talked about in other episodes\n\n597\n00:27:51.100 --> 00:27:53.760\nthat I don't want to use\nthat computer's container.\n\n598\n00:27:53.760 --> 00:27:57.530\nBecause I can't attach group policy,\nI cannot delegate permissions,\n\n599\n00:27:57.530 --> 00:27:59.380\ncan't create necessary views in it.\n\n600\n00:27:59.380 --> 00:28:02.630\nSo we've set up a different\nOU to be our default,\n\n601\n00:28:02.630 --> 00:28:04.460\nwhere all of our new computers go.\n\n602\n00:28:04.460 --> 00:28:07.430\nAnd that's typically what I do,\nis I put it there.\n\n603\n00:28:07.430 --> 00:28:10.630\nAnd then I can move it into\nthe appropriate OU after the fact.\n\n604\n00:28:11.650 --> 00:28:13.540\n>> So the first two, right?\n\n605\n00:28:13.540 --> 00:28:17.604\nSame domain as the WDS and\nsame domain as the user.\n\n606\n00:28:17.604 --> 00:28:21.760\nSo this would dump it in that\ncomputers built in container.\n\n607\n00:28:21.760 --> 00:28:23.010\n>> Exactly.\n\n608\n00:28:23.010 --> 00:28:24.610\nWhat would you set the default as?\n\n609\n00:28:24.610 --> 00:28:27.680\nNow if we would have changed\nthe default with our reader CMP,\n\n610\n00:28:27.680 --> 00:28:29.780\nyou guys remember that one?\n\n611\n00:28:29.780 --> 00:28:31.400\nRedirect computers,\n\n612\n00:28:31.400 --> 00:28:34.520\nit changes the default location of where\na computers going in active directory.\n\n613\n00:28:34.520 --> 00:28:37.320\nSo you might have already done that\nin your active directory environment.\n\n614\n00:28:37.320 --> 00:28:40.690\nAnd then you don't need to\nuse that bottom option there.\n\n615\n00:28:40.690 --> 00:28:45.160\nSo, I don't know if we've done that\non our machine here, probably not.\n\n616\n00:28:47.470 --> 00:28:49.920\nSince it's just a test you want\nto just leave it like that or\n\n617\n00:28:49.920 --> 00:28:51.210\nyou want to go create\nanother URL real quick.\n\n618\n00:28:52.240 --> 00:28:53.290\n>> Just leave it.\n>> Okay, all right.\n\n619\n00:28:53.290 --> 00:28:55.070\n>> We'll just dump it in there.\n\n620\n00:28:55.070 --> 00:28:57.980\n>> Now did you want to\ngo through these times?\n\n621\n00:28:57.980 --> 00:28:59.360\n>> Let's look at a couple more cuz these\n\n622\n00:28:59.360 --> 00:29:00.920\nare things you got to do\nwhen you're setting it up.\n\n623\n00:29:00.920 --> 00:29:03.300\nSo we want to double check\nour PXE response settings.\n\n624\n00:29:03.300 --> 00:29:06.120\nWe picked them during the installation\nwizard, but I go back and\n\n625\n00:29:06.120 --> 00:29:07.600\nI set them the way I want.\n\n626\n00:29:07.600 --> 00:29:10.690\nThen on that deployment server you want\nto set you naming convention if you're\n\n627\n00:29:10.690 --> 00:29:15.210\nusing that, not on the deployment\nserver on the domain services tab.\n\n628\n00:29:15.210 --> 00:29:17.380\nWhere I'm going to have\nthose computers go.\n\n629\n00:29:17.380 --> 00:29:19.590\nOn the Boot tab nothing\nreally to do just yet.\n\n630\n00:29:19.590 --> 00:29:22.650\nThat's where we could set up,\nour answer files for\n\n631\n00:29:22.650 --> 00:29:27.160\nthe WDS clients, which we'll\nprobably get to in another episode.\n\n632\n00:29:28.320 --> 00:29:33.680\n>> Let's change these to continue\nunless we press the Escape key.\n\n633\n00:29:33.680 --> 00:29:36.470\nSince we will be ruling this\nout to a virtual machine,\n\n634\n00:29:36.470 --> 00:29:37.940\njust try not to mess\naround with any of that.\n\n635\n00:29:37.940 --> 00:29:39.390\n>> Good idea, good idea.\n\n636\n00:29:39.390 --> 00:29:41.830\n>> So we'll just change both of them\n\n637\n00:29:41.830 --> 00:29:45.270\nto continue going to the PXE boot\nunless we press the Esc key.\n\n638\n00:29:45.270 --> 00:29:49.994\n>> Otherwise what would happen if I\ntried to, if I connected the server?\n\n639\n00:29:49.994 --> 00:29:52.155\n>> It would start a fire?\n\n640\n00:29:52.155 --> 00:29:54.490\n>> It would start a fire, very good.\n\n641\n00:29:54.490 --> 00:29:57.730\nNo, I thought you were gonna tell them.\n\n642\n00:29:57.730 --> 00:29:58.930\n>> It would pass it right?\n\n643\n00:29:58.930 --> 00:30:02.380\nBecause theres a little window and\nthen it would wait and it would wait and\n\n644\n00:30:02.380 --> 00:30:06.380\nit would wait and then it would just keep\ngoing on, boot up your hard drive, or.\n\n645\n00:30:06.380 --> 00:30:10.690\n>> So, you're basically saying\ndo I wanna press a key to\n\n646\n00:30:10.690 --> 00:30:12.710\nskip deployment services and\nboot normally?\n\n647\n00:30:12.710 --> 00:30:16.030\nOr do I wanna press a key to\nget into deployment services?\n\n648\n00:30:16.030 --> 00:30:18.575\nAnd it is right and\nis really what we're saying there.\n\n649\n00:30:18.575 --> 00:30:22.853\nAnd so in our case we're gonna say look\nif we don't touch anything go ahead and\n\n650\n00:30:22.853 --> 00:30:23.883\nPXE group, right?\n\n651\n00:30:23.883 --> 00:30:29.355\n>> Yep, sweet all right\n>> In the client top here right?\n\n652\n00:30:29.355 --> 00:30:35.130\nSo this is where we can attach\nthe unattended files for\n\n653\n00:30:35.130 --> 00:30:38.260\na light touch installation.\n\n654\n00:30:38.260 --> 00:30:42.550\nAnd so pretty neat here so\nwe can attach different unattend files for\n\n655\n00:30:42.550 --> 00:30:43.642\ndifferent architectures.\n\n656\n00:30:43.642 --> 00:30:48.052\nSo arm,\nguess we roll this stuff out to arm.\n\n657\n00:30:48.052 --> 00:30:49.248\n>> Arm.\n\n658\n00:30:49.248 --> 00:30:51.732\n>> Arm, no there's plenty here.\n\n659\n00:30:51.732 --> 00:30:56.306\n>> [CROSSTALK] No, go ahead.\n\n660\n00:30:56.306 --> 00:30:57.293\nNo you got it.\n\n661\n00:30:57.293 --> 00:30:58.271\n>> No you got it.\n\n662\n00:30:58.271 --> 00:31:03.389\n>> So x86 or 64 stuff?\n\n663\n00:31:03.389 --> 00:31:06.098\n>> Now this is the answer file, there's\nreally two answer files we're going\n\n664\n00:31:06.098 --> 00:31:08.160\nto be dealing with,\nwith deployment services.\n\n665\n00:31:08.160 --> 00:31:10.610\nThis is the answer file for\nthe deployment services client.\n\n666\n00:31:10.610 --> 00:31:14.030\nNot the answer file for\nthe actual Windows installation.\n\n667\n00:31:14.030 --> 00:31:18.240\nSo when you connect to that deployment\nservice as a client, you're going to,\n\n668\n00:31:18.240 --> 00:31:19.910\nyou've got some options.\n\n669\n00:31:19.910 --> 00:31:22.750\nWhat language do you want the client\nto show up in, your Wizard and\n\n670\n00:31:22.750 --> 00:31:24.450\nstuff when you're picking your image.\n\n671\n00:31:24.450 --> 00:31:28.570\nAnd where are you gonna install it, you\nknow, first partition, second partition,\n\n672\n00:31:28.570 --> 00:31:30.380\nwhat drive and things like that.\n\n673\n00:31:30.380 --> 00:31:33.330\nSo, all that stuff you gotta\ndo before you install Windows.\n\n674\n00:31:33.330 --> 00:31:35.250\nPick your drive that\nyou're gonna install on.\n\n675\n00:31:35.250 --> 00:31:37.380\nPick the partition\nyou're gonna install on.\n\n676\n00:31:37.380 --> 00:31:39.150\nFormat the partition and things like that.\n\n677\n00:31:39.150 --> 00:31:42.100\nWe can create an answer file\nthat does all that for us.\n\n678\n00:31:42.100 --> 00:31:44.790\nAnd then we don't even\nstop on that screen.\n\n679\n00:31:44.790 --> 00:31:47.560\nThen you would associate that\nwith the appropriate boot image.\n\n680\n00:31:47.560 --> 00:31:50.306\n>> So if you,\nyou would have to do it for each one.\n\n681\n00:31:50.306 --> 00:31:52.502\nIf you had a 64-bit boot image,\n\n682\n00:31:52.502 --> 00:31:56.381\nthen you'd need to create a WDS\nclient answer file for that.\n\n683\n00:31:56.381 --> 00:32:01.201\nAnd then another answer file for\nthis 32-bit boot image, and so on, and so\n\n684\n00:32:01.201 --> 00:32:01.755\nforth.\n\n685\n00:32:01.755 --> 00:32:02.962\n>> Mm-hm.\n\n686\n00:32:02.962 --> 00:32:07.350\nAll right, Mike, so we have a number\nof other tabs here to go through.\n\n687\n00:32:07.350 --> 00:32:11.250\nWe're coming right up on our break here,\nso what about this?\n\n688\n00:32:11.250 --> 00:32:12.680\nSo it's gonna take some time for\n\n689\n00:32:12.680 --> 00:32:16.140\nthis really fast server\nto pull these images in.\n\n690\n00:32:16.140 --> 00:32:17.270\nSo then while we wait for\n\n691\n00:32:17.270 --> 00:32:21.340\nit to quickly pull those images into those\nthings then we can go back and visit this.\n\n692\n00:32:21.340 --> 00:32:21.840\n>> Yeah.\n\n693\n00:32:21.840 --> 00:32:22.509\n>> Right.\n>> Yeah.\n\n694\n00:32:22.509 --> 00:32:24.230\nDoes that work?\n>> I don't think it will take too long.\n\n695\n00:32:24.230 --> 00:32:25.710\nWe've got a smokin' server.\n\n696\n00:32:25.710 --> 00:32:26.420\n>> Right.\n\n697\n00:32:26.420 --> 00:32:28.018\nI know, its really fast.\n\n698\n00:32:28.018 --> 00:32:29.620\n>> Man, it's flying back there.\nIt's fine.\n\n699\n00:32:29.620 --> 00:32:31.448\n>> All right.\n>> Yeah, sounds like a plan,\n\n700\n00:32:31.448 --> 00:32:34.267\nso we'll let you guys get up,\nget something to drink,\n\n701\n00:32:34.267 --> 00:32:36.677\nrefill the caffeine,\ndo all that good stuff.\n\n702\n00:32:36.677 --> 00:32:37.815\nSee you back here in a few.\n\n703\n00:32:37.815 --> 00:32:38.975\n>> After the break.\n\n704\n00:32:38.975 --> 00:32:48.410\n[SOUND]\n>> All right, welcome back.\n\n705\n00:32:48.410 --> 00:32:49.530\nAll right, so\n\n706\n00:32:49.530 --> 00:32:54.710\nwe left off going through that fantastic\nmenu of cool options and features.\n\n707\n00:32:54.710 --> 00:32:55.310\n>> Yep, yep.\n\n708\n00:32:55.310 --> 00:32:57.370\n>> And yeah, I guess just go back to it?\n\n709\n00:32:57.370 --> 00:32:58.410\n>> Let's dive right back into it, yeah.\n\n710\n00:32:58.410 --> 00:32:59.721\nWe can talk about it or we can show it.\n\n711\n00:32:59.721 --> 00:33:00.545\nI say we show it.\n\n712\n00:33:00.545 --> 00:33:01.127\nRight?\n\n713\n00:33:01.127 --> 00:33:02.228\n>> Yeah, yeah.\n>> And talk about it at the same time.\n\n714\n00:33:02.228 --> 00:33:03.903\n>> Mm-hm, yep.\n\n715\n00:33:03.903 --> 00:33:04.844\n>> Lets do it.\n\n716\n00:33:04.844 --> 00:33:05.987\n>> Hooray, all right, yeah.\n\n717\n00:33:05.987 --> 00:33:07.380\n>> Look, there it is, it's going.\n\n718\n00:33:07.380 --> 00:33:08.290\nAll right.\nSo, where did we leave off?\n\n719\n00:33:08.290 --> 00:33:09.700\nWe were talking about those guys.\n\n720\n00:33:09.700 --> 00:33:13.610\nMaybe we should do a whole episode\non unintended installs and\n\n721\n00:33:13.610 --> 00:33:14.720\nautomating this whole thing.\n\n722\n00:33:14.720 --> 00:33:16.420\nSound like a good plan?\n\n723\n00:33:16.420 --> 00:33:17.460\nYou guys let us know.\n\n724\n00:33:17.460 --> 00:33:18.800\nLight up that chat room.\n\n725\n00:33:18.800 --> 00:33:21.329\nShoot us some messages and\nlet us know what you want to see.\n\n726\n00:33:21.329 --> 00:33:23.674\nMaybe we can do that on another episode,\ncuz if we don't get going,\n\n727\n00:33:23.674 --> 00:33:25.998\nwe are going to have trouble getting\nan image to pull at this point.\n\n728\n00:33:25.998 --> 00:33:29.440\n>> [LAUGH]\n>> [LAUGH] Other tabs,\n\n729\n00:33:29.440 --> 00:33:33.100\nthose are probably the most\nimportant tabs that we went through.\n\n730\n00:33:33.100 --> 00:33:36.630\nLet's just flip DHCP, we set those\noptions during the installation,\n\n731\n00:33:36.630 --> 00:33:38.085\nso we don't need to change anything there.\n\n732\n00:33:38.085 --> 00:33:43.251\nTFTP, nothing exciting there,\nnever really have to change those.\n\n733\n00:33:43.251 --> 00:33:45.527\nNothing examable here, I don't think.\n\n734\n00:33:45.527 --> 00:33:46.373\n>> Mm-hm.\n\n735\n00:33:46.373 --> 00:33:51.310\nThis would, so this over here, right,\nsetting the maximum block size, setting\n\n736\n00:33:51.310 --> 00:33:56.790\nthe variable window extension, this would\nbe for network optimization type stuff.\n\n737\n00:33:56.790 --> 00:34:02.640\nSo maybe if you have latency or something,\nthen you can fine-tune these two.\n\n738\n00:34:03.660 --> 00:34:05.550\nI guess,\nstream out these images a bit better.\n\n739\n00:34:05.550 --> 00:34:09.919\nIs that correct?\n>> Yes, exactly right, exactly right.\n\n740\n00:34:09.919 --> 00:34:10.695\n>> Nice.\n>> I like that.\n\n741\n00:34:10.695 --> 00:34:13.216\n>> Okay.\n\n742\n00:34:13.216 --> 00:34:16.860\n>> Network,\nnever change anything on that screen.\n\n743\n00:34:16.860 --> 00:34:21.458\nAdvanced, never change\nanything there either, but-\n\n744\n00:34:21.458 --> 00:34:22.677\n>> We could have, nevermind.\n\n745\n00:34:22.677 --> 00:34:25.266\n>> Yeah [LAUGH].\n\n746\n00:34:25.266 --> 00:34:26.670\n>> Okay, wait, so, no, nothing here?\n\n747\n00:34:26.670 --> 00:34:30.260\n>> Not really, because you've got\nyour options there, what is it,\n\n748\n00:34:30.260 --> 00:34:34.630\nallow Windows Deployment Services\ndynamically discover valid domain service.\n\n749\n00:34:34.630 --> 00:34:37.150\nSo if you had a specific one\nthat you wanted it to use,\n\n750\n00:34:37.150 --> 00:34:38.438\nyou could point it to that.\n\n751\n00:34:38.438 --> 00:34:41.670\nOtherwise, it's gonna find a domain\ncontroller on the network and\n\n752\n00:34:41.670 --> 00:34:43.040\nshouldn't have any problems there.\n\n753\n00:34:43.040 --> 00:34:45.613\nBut if you wanted to use\na specific domain controller, or\n\n754\n00:34:45.613 --> 00:34:47.756\nspecify a particular\nglobal catalog to look for\n\n755\n00:34:47.756 --> 00:34:51.300\nthose universe group memberships or\nsomething, you could do that.\n\n756\n00:34:51.300 --> 00:34:55.588\nThe DHCP authorization, just like DHCP,\nwhen we install the HP we have to\n\n757\n00:34:55.588 --> 00:34:59.819\nauthorize an active directory,\nsame thing with deployment services.\n\n758\n00:34:59.819 --> 00:35:01.971\nAnd it's already going to do that,\n\n759\n00:35:01.971 --> 00:35:05.067\nauthorize the Windows Deployment Server\nin DHCP.\n\n760\n00:35:05.067 --> 00:35:07.100\nSo, good to go there.\n\n761\n00:35:07.100 --> 00:35:12.829\nMulticast, this is where I'm deciding\nwhether I'm going to let the deployment\n\n762\n00:35:12.829 --> 00:35:18.304\nserver pass out those IP addresses for\nthat PXE boot, or am I gonna let the, or\n\n763\n00:35:18.304 --> 00:35:23.967\nnot for the PXE boot, for the Multicast,\nor am I gonna let the DHCP server do it.\n\n764\n00:35:23.967 --> 00:35:26.210\nAnd honestly,\nI just leave that range there.\n\n765\n00:35:26.210 --> 00:35:30.711\nBut you could definitely set up a range on\nyour deployment server, I mean, on your\n\n766\n00:35:30.711 --> 00:35:34.770\nDHCP server for Multicast, and then\nyou could tell it to get it from DHCP.\n\n767\n00:35:34.770 --> 00:35:35.687\n>> Mm-hm.\n\n768\n00:35:35.687 --> 00:35:39.529\nSo then typically these defaults\nwill function just fine?\n\n769\n00:35:39.529 --> 00:35:40.168\n>> Absolutely.\n\n770\n00:35:40.168 --> 00:35:41.306\n>> Sweet.\n>> Absolutely.\n\n771\n00:35:41.306 --> 00:35:43.286\nYou've got everything you need to\nset up a little Multicast, and\n\n772\n00:35:43.286 --> 00:35:46.230\nwe'll talk about our Multicast options,\ncuz those are important as well.\n\n773\n00:35:46.230 --> 00:35:46.744\n>> Mm-hm.\n\n774\n00:35:46.744 --> 00:35:48.020\nAll right.\n\n775\n00:35:48.020 --> 00:35:49.960\nAnd the Apply is lit up.\n\n776\n00:35:49.960 --> 00:35:51.850\nI don't remember what we changed.\n\n777\n00:35:51.850 --> 00:35:53.875\nBut I'm just gonna click it.\n\n778\n00:35:53.875 --> 00:35:57.827\n>> You changed the F12 options.\n\n779\n00:35:57.827 --> 00:35:59.443\n>> That's right.\n>> So do we have to push F12 or\n\n780\n00:35:59.443 --> 00:36:01.181\ndo we not have to push F12 to PXE boot?\n\n781\n00:36:01.181 --> 00:36:01.703\n>> That's right.\n\n782\n00:36:01.703 --> 00:36:02.643\nOkay.\n\n783\n00:36:02.643 --> 00:36:06.049\nAll right, so now that we've\ngone through those few things,\n\n784\n00:36:06.049 --> 00:36:07.740\nlet's load up some images.\n\n785\n00:36:07.740 --> 00:36:08.345\n>> Yeah.\n\n786\n00:36:08.345 --> 00:36:10.110\nSo, first thing we need is a boot image.\n\n787\n00:36:10.110 --> 00:36:14.075\nWe've got to be able to, we have to have\nsomething that we can transfer down to\n\n788\n00:36:14.075 --> 00:36:17.318\nthe machine to boot that PC, so\nthat it can pull down the image.\n\n789\n00:36:17.318 --> 00:36:22.315\nSo we'll just right-click on\nBoot Images and choose Add Image, and\n\n790\n00:36:22.315 --> 00:36:24.133\nbrowse over to that DVD.\n\n791\n00:36:24.133 --> 00:36:24.968\n>> Mm-hm, yep.\n\n792\n00:36:24.968 --> 00:36:27.623\nWe'll browse over to that DVD.\n\n793\n00:36:27.623 --> 00:36:33.860\nLet's see, This PC, DVD sources.\n\n794\n00:36:33.860 --> 00:36:34.520\nAnd there it is.\n\n795\n00:36:34.520 --> 00:36:40.150\nSo we'll grab that boot.wim,\nselect Open, and there it is.\n\n796\n00:36:40.150 --> 00:36:41.422\nAnd we'll click on Next.\n\n797\n00:36:41.422 --> 00:36:45.160\nNow, this is where we'll\ngive it a custom name.\n\n798\n00:36:45.160 --> 00:36:48.930\nSo if we had some kind of custom boot\nimage, we could name it here, so\n\n799\n00:36:48.930 --> 00:36:53.290\nthat when we get a list of our boot\nimages, we could pick the correct one.\n\n800\n00:36:53.290 --> 00:36:56.355\nOr it can just accept its default name,\nwhich I think is fine.\n\n801\n00:36:56.355 --> 00:36:57.979\n>> Which I like, yeah.\n\n802\n00:36:57.979 --> 00:36:59.559\n>> All right.\nAnd our little summary screen.\n\n803\n00:36:59.559 --> 00:37:00.453\nSure, that's fine.\n\n804\n00:37:00.453 --> 00:37:04.887\nAll right, so now it's going to\npull this boot.win image off of\n\n805\n00:37:04.887 --> 00:37:09.334\nthe installation media and\nthen stick it in our install folder.\n\n806\n00:37:09.334 --> 00:37:09.834\n>> Yep.\n\n807\n00:37:09.834 --> 00:37:12.640\nYep.\n>> In that remote install folder, exactly.\n\n808\n00:37:12.640 --> 00:37:14.440\nLook at that, lightning fast.\n\n809\n00:37:14.440 --> 00:37:15.120\n>> It was pretty quick.\n\n810\n00:37:15.120 --> 00:37:15.780\n>> That was pretty quick.\n\n811\n00:37:15.780 --> 00:37:17.498\nOf course,\nit's only about 200 megs, I think.\n\n812\n00:37:17.498 --> 00:37:19.006\n>> [LAUGH]\n>> Let's see what happens when we get to\n\n813\n00:37:19.006 --> 00:37:19.615\nthe install.win.\n\n814\n00:37:19.615 --> 00:37:21.740\n>> [LAUGH] All right, so here we go.\n\n815\n00:37:21.740 --> 00:37:25.150\nWe've got a little bit of\ninformation there about that image,\n\n816\n00:37:25.150 --> 00:37:26.052\nthere we go, there's that.\n\n817\n00:37:26.052 --> 00:37:30.350\nAnd architecture, status online,\nand all the other good stuff.\n\n818\n00:37:31.620 --> 00:37:35.133\n>> All right, so, and again,\nif we had this for 32-bit,\n\n819\n00:37:35.133 --> 00:37:38.862\nwe would have to grab a 32-bit disk,\npop that in there, and\n\n820\n00:37:38.862 --> 00:37:43.339\nthen copy that boot.win for\nmy 32-bit systems, and add that as well.\n\n821\n00:37:43.339 --> 00:37:45.232\nAnd while we're here, no, we'll save that.\n\n822\n00:37:45.232 --> 00:37:46.753\nWe'll save that.\n\n823\n00:37:46.753 --> 00:37:48.297\nKeep you guys hanging there.\n\n824\n00:37:48.297 --> 00:37:49.670\nAll right, so we got a boot image.\n\n825\n00:37:49.670 --> 00:37:51.010\n>> Yep, all right.\n\n826\n00:37:51.010 --> 00:37:55.450\nSo now we will grab the install image,\nand the process will be pretty similar,\n\n827\n00:37:55.450 --> 00:37:57.430\nalthough there is an extra step.\n\n828\n00:37:57.430 --> 00:37:58.990\nOr, I guess, it doesn't have to be.\n\n829\n00:37:58.990 --> 00:37:59.890\n>> Could be.\n>> Could be.\n\n830\n00:37:59.890 --> 00:38:00.750\n>> I like it.\n\n831\n00:38:00.750 --> 00:38:03.218\n>> So, we will create an image group.\n\n832\n00:38:03.218 --> 00:38:04.520\n>> Mm-hm.\n>> All right.\n\n833\n00:38:04.520 --> 00:38:05.241\n>> An image group.\n\n834\n00:38:05.241 --> 00:38:06.913\n>> And so, what-\n>> They don't get lonely.\n\n835\n00:38:06.913 --> 00:38:07.890\nSo, yeah [LAUGH].\n\n836\n00:38:07.890 --> 00:38:11.626\n>> [LAUGH]\n>> What's our group image?\n\n837\n00:38:11.626 --> 00:38:15.832\n>> Well, since we're gonna be\nworking with Server 2012 images,\n\n838\n00:38:15.832 --> 00:38:18.430\nl would call it Windows Server 2012.\n\n839\n00:38:18.430 --> 00:38:20.330\n>> You want me to put\nWindows in there too?\n\n840\n00:38:20.330 --> 00:38:22.046\nWhat if we were using other\nserver operating systems?\n\n841\n00:38:22.046 --> 00:38:25.888\n>> Should I put Microsoft,\nWindows, server, 2012.\n\n842\n00:38:25.888 --> 00:38:28.768\n>> [LAUGH] I think you\nshould put NateDog2012.\n\n843\n00:38:28.768 --> 00:38:29.767\n>> All right, Server 2012.\n\n844\n00:38:29.767 --> 00:38:30.462\nThat's pretty good.\n\n845\n00:38:30.462 --> 00:38:32.124\n>> Yeah, that works.\n\n846\n00:38:32.124 --> 00:38:35.780\n>> All right, so now we've got our group.\n\n847\n00:38:35.780 --> 00:38:37.869\n>> Right.\nNow why do we make a group?\n\n848\n00:38:37.869 --> 00:38:39.018\n>> So, they're not lonely.\n\n849\n00:38:39.018 --> 00:38:41.264\n[LAUGH]\n>> [LAUGH] Exactly.\n\n850\n00:38:41.264 --> 00:38:42.285\nYeah.\n\n851\n00:38:42.285 --> 00:38:47.032\nDeployment services can do some really\nnice compression on the images, and\n\n852\n00:38:47.032 --> 00:38:50.086\nit can also do what we\ncall single-instancing.\n\n853\n00:38:50.086 --> 00:38:54.948\nWhere, one, a .win file can\nhave multiple images inside it,\n\n854\n00:38:54.948 --> 00:38:59.003\nand we're going to have\nmultiple 2012 images.\n\n855\n00:38:59.003 --> 00:39:02.303\nAnd so, instead of having to store,\nlike if I have a default image, and\n\n856\n00:39:02.303 --> 00:39:06.208\nlet's use Windows 8, it's a more common\none where we're going to set this up, but\n\n857\n00:39:06.208 --> 00:39:10.058\nif I have a Windows 8 image, I've got my\ndefault Windows 8 image, just Windows 8\n\n858\n00:39:10.058 --> 00:39:13.743\noff the DVD, and then I've got a Windows\n8 image where I've added Office, and\n\n859\n00:39:13.743 --> 00:39:17.710\nthen I've got another Windows 8 image\nthat has Office and the Adobe suite.\n\n860\n00:39:17.710 --> 00:39:19.410\nSo that way I can deploy whatever I need.\n\n861\n00:39:19.410 --> 00:39:20.740\nDo I need it with Windows and Office?\n\n862\n00:39:20.740 --> 00:39:22.842\nDo I need Windows, Office, and Adobe?\n\n863\n00:39:22.842 --> 00:39:26.350\nSo I've got three images,\nthey all have Windows 8 in them, right?\n\n864\n00:39:26.350 --> 00:39:29.570\nNo reason to store those\nWindows 8 files three times.\n\n865\n00:39:29.570 --> 00:39:31.353\nSo I can create that group and\n\n866\n00:39:31.353 --> 00:39:35.526\nit can reduce the amount of space\nI'm using to store those images.\n\n867\n00:39:35.526 --> 00:39:37.480\nSo that works out really well.\n\n868\n00:39:37.480 --> 00:39:40.260\nNot to mention, it helps when you're going\nto pick the image that you want to deploy.\n\n869\n00:39:40.260 --> 00:39:42.010\nYou get a drop-down list the groups.\n\n870\n00:39:42.010 --> 00:39:42.850\nYou pick the group, and\n\n871\n00:39:42.850 --> 00:39:45.340\nthen you get a list of just\nthose images within that group.\n\n872\n00:39:45.340 --> 00:39:47.230\nSo, that's why we do it.\n\n873\n00:39:47.230 --> 00:39:50.484\nSo now you've got your group and you're\ngonna go back and add your first image.\n\n874\n00:39:55.605 --> 00:39:56.748\nThose darn mice are tricky.\n\n875\n00:39:56.748 --> 00:39:58.085\nCrazy.\n>> I know, I know, sad.\n\n876\n00:39:58.085 --> 00:39:58.877\nDid you hear me clicking?\n\n877\n00:39:58.877 --> 00:39:59.670\nIt just barely came up.\n\n878\n00:39:59.670 --> 00:40:01.275\n>> I did.\n\n879\n00:40:01.275 --> 00:40:02.676\nI heart it click, click, click.\n\n880\n00:40:02.676 --> 00:40:04.375\n[LAUGH]\n>> All right, so, okay, and\n\n881\n00:40:04.375 --> 00:40:05.438\nthen Just to the boot one, of course,\n\n882\n00:40:05.438 --> 00:40:06.923\nit already remembered our little,\nour spot there.\n\n883\n00:40:06.923 --> 00:40:08.325\n>> Isn't that nice.\n\n884\n00:40:08.325 --> 00:40:09.280\n>> So that's pretty nice.\n\n885\n00:40:09.280 --> 00:40:10.620\nWe'll pick the install.wim this time.\n\n886\n00:40:10.620 --> 00:40:12.185\n>> Little bit bigger.\n\n887\n00:40:12.185 --> 00:40:15.676\n>> Yep, we'll open this guy up,\nthere we go our little summary screen, or\n\n888\n00:40:15.676 --> 00:40:16.850\nnot quite.\n\n889\n00:40:16.850 --> 00:40:17.420\nAll right.\n\n890\n00:40:17.420 --> 00:40:23.346\nSo now these are the different images,\nright?\n\n891\n00:40:23.346 --> 00:40:25.170\n>> Different editions of 2012\nthat are on this disc, exactly.\n\n892\n00:40:25.170 --> 00:40:25.750\nExactly.\n\n893\n00:40:27.230 --> 00:40:31.345\nNow what I would say we\ndo is just pick one.\n\n894\n00:40:31.345 --> 00:40:32.640\nAnd I would clear the others.\n\n895\n00:40:32.640 --> 00:40:35.690\nDepending on the DVD you've got,\nit might only have one edition on it.\n\n896\n00:40:35.690 --> 00:40:39.070\nThis one happens to have Standard and\n\n897\n00:40:39.070 --> 00:40:42.900\ndata center as well as the core\nversion of each one of those.\n\n898\n00:40:42.900 --> 00:40:44.470\nYou could add all four of them.\n\n899\n00:40:44.470 --> 00:40:46.690\nYou could add just what\nyou planned on deploying.\n\n900\n00:40:46.690 --> 00:40:49.350\nThe more we add, the longer its\ngonna take to copy over there.\n\n901\n00:40:49.350 --> 00:40:51.220\nSo what do you got, a server standard?\n\n902\n00:40:51.220 --> 00:40:52.090\nI like that.\n\n903\n00:40:52.090 --> 00:40:55.030\nAnd that little check mark\ndown there at the bottom.\n\n904\n00:40:55.030 --> 00:40:55.620\n>> Sorry.\n\n905\n00:40:55.620 --> 00:40:59.730\n>> Would have given us the option to\nchange the name if we wanted to and\n\n906\n00:40:59.730 --> 00:41:00.410\nstuff like that.\n\n907\n00:41:00.410 --> 00:41:03.470\nBut we can always change it after the\nfact, it's not like you're stuck with it.\n\n908\n00:41:03.470 --> 00:41:06.470\nSo if you miss it like we did there,\nyou just click on through it.\n\n909\n00:41:06.470 --> 00:41:11.080\nCuz it's gonna have that ugly, server\nstandard, blah blah blah, one word thing.\n\n910\n00:41:11.080 --> 00:41:13.070\nWe can change that, or we can leave it.\n\n911\n00:41:13.070 --> 00:41:15.077\nWe don't really care.\n\n912\n00:41:15.077 --> 00:41:15.673\n>> Mm-hm.\n\n913\n00:41:15.673 --> 00:41:18.500\nAll right, so now that this image,\nright, is getting pulled down,\n\n914\n00:41:18.500 --> 00:41:20.820\nstuck in that Images folder.\n\n915\n00:41:20.820 --> 00:41:25.250\nWhat else can we prepare while we wait for\nthis guy?\n\n916\n00:41:25.250 --> 00:41:27.265\n>> A cup of coffee.\n\n917\n00:41:27.265 --> 00:41:31.380\n>> [LAUGH]\n>> Really not much because unfortunately,\n\n918\n00:41:31.380 --> 00:41:33.640\nthis is one of those modal dialog boxes.\n\n919\n00:41:33.640 --> 00:41:35.829\nI don't think you're gonna be able\nto click outside of that thing.\n\n920\n00:41:37.190 --> 00:41:40.600\nSo you're pretty much stuck waiting for\nthat image to copy over.\n\n921\n00:41:40.600 --> 00:41:42.040\n>> Do you memorize these?\n\n922\n00:41:42.040 --> 00:41:44.670\nLike which Windows you can or cannot?\n\n923\n00:41:44.670 --> 00:41:46.840\n>> I've done it once or twice.\n\n924\n00:41:46.840 --> 00:41:49.851\nIt's easy because most of them are modal.\n\n925\n00:41:49.851 --> 00:41:53.310\n[LAUGH] Just that new 2012 wizard is the\none that's like, hey this is different.\n\n926\n00:41:53.310 --> 00:41:54.660\nCool.\n\n927\n00:41:54.660 --> 00:41:56.420\nSo you can multitask.\n\n928\n00:41:56.420 --> 00:41:58.550\nBut at this point, you're kind of stuck.\n\n929\n00:41:58.550 --> 00:42:01.540\nAs you can see it's not\ntaking all that long.\n\n930\n00:42:01.540 --> 00:42:04.640\nBut once we get this image added,\n\n931\n00:42:04.640 --> 00:42:08.770\ntypically what I'll do with my deployment\nservers, I always add that default image.\n\n932\n00:42:08.770 --> 00:42:11.710\nThat way if I ever just want\nto push out a 2012 server,\n\n933\n00:42:11.710 --> 00:42:15.540\njust the default off the disk\ninstallation, I've got that handy.\n\n934\n00:42:15.540 --> 00:42:19.800\nPlus, that's the beginning of my group and\nit has all those files so as I add other\n\n935\n00:42:19.800 --> 00:42:24.690\ncustomized images, it can do that single\ninstancing and save you some space.\n\n936\n00:42:24.690 --> 00:42:25.400\nSo, I always add that.\n\n937\n00:42:25.400 --> 00:42:27.350\nIt's a good way to start.\n\n938\n00:42:27.350 --> 00:42:29.960\nGet those base images on there.\n\n939\n00:42:29.960 --> 00:42:34.940\nAnd then once we get that done,\nwe could, I don't know.\n\n940\n00:42:34.940 --> 00:42:36.130\nWhat do we want to do next?\n\n941\n00:42:36.130 --> 00:42:38.890\nYou want to, let's see,\nwe'll take a look at,\n\n942\n00:42:38.890 --> 00:42:41.630\nwe should look at some of\nthe multicast options.\n\n943\n00:42:41.630 --> 00:42:44.285\nBut, it's almost time to deploy an image,\nor.\n\n944\n00:42:44.285 --> 00:42:47.008\nWe're gonna do a custom image, aren't we?\n\n945\n00:42:47.008 --> 00:42:47.611\n>> We are?\n\n946\n00:42:47.611 --> 00:42:48.191\nAll the way?\n\n947\n00:42:48.191 --> 00:42:48.912\n>> Yeah.\n\n948\n00:42:48.912 --> 00:42:50.095\nI don't know.\n\n949\n00:42:50.095 --> 00:42:53.741\nLet's see how brave we feel.\n\n950\n00:42:53.741 --> 00:42:58.960\n>> So we've got,\nI guess now it's almost finished.\n\n951\n00:42:58.960 --> 00:43:03.360\nSo we've got discover images, right, and\ncapture images to go over and touch on?\n\n952\n00:43:04.540 --> 00:43:07.780\n>> Exactly,\nyeah we can do those next actually.\n\n953\n00:43:07.780 --> 00:43:09.400\n>> Hooray.\n>> Yeah, not too bad.\n\n954\n00:43:09.400 --> 00:43:10.630\nSee you ragging on a server.\n\n955\n00:43:11.670 --> 00:43:13.820\n>> All right, so now that's finished, so.\n\n956\n00:43:13.820 --> 00:43:15.250\n>> All right.\n>> So now what?\n\n957\n00:43:15.250 --> 00:43:15.850\nThe time's here.\n\n958\n00:43:15.850 --> 00:43:16.925\n>> So we got to boot image.\n\n959\n00:43:16.925 --> 00:43:18.555\nWe got to do install image.\n\n960\n00:43:18.555 --> 00:43:22.225\nAt this point we could\ndeploy an image out.\n\n961\n00:43:22.225 --> 00:43:25.535\nA couple things that we might wanna\nlook at, depending on your environment,\n\n962\n00:43:25.535 --> 00:43:29.505\nif we go back up to\nthose boot images there.\n\n963\n00:43:29.505 --> 00:43:32.815\nThat's gonna be, if I've got a machine\nthat supports PXE booting, and\n\n964\n00:43:32.815 --> 00:43:36.785\nmost of my modern network\nadapters can do the PXE boot.\n\n965\n00:43:36.785 --> 00:43:39.590\nSo they can, even with no\noperating system on that computer,\n\n966\n00:43:39.590 --> 00:43:42.020\nthey can holler out on the network,\nlook for a PXE server.\n\n967\n00:43:42.020 --> 00:43:46.620\nMy deployment server is a PXE server so\nhe's going to respond to that request\n\n968\n00:43:46.620 --> 00:43:49.940\nusing TFTP,\nTrivial File Transfer Protocol.\n\n969\n00:43:49.940 --> 00:43:53.270\nShoot that little Windows\ndeployment client over, and\n\n970\n00:43:53.270 --> 00:43:55.170\nthen that will let them\npick the boot image, and\n\n971\n00:43:55.170 --> 00:43:58.510\nthen again TFTP down that boot image and\nstart that machine up.\n\n972\n00:43:58.510 --> 00:44:04.680\nAnd that's all good until you run into a\nmachine that does not support PXE boot, or\n\n973\n00:44:04.680 --> 00:44:10.740\nis for some reason unable to find\nthe PXE server or something like that.\n\n974\n00:44:10.740 --> 00:44:13.800\nA couple of things we can\ndo to help that as well\n\n975\n00:44:13.800 --> 00:44:17.870\nas create our capture image which\nis a really, really sweet thing.\n\n976\n00:44:17.870 --> 00:44:19.510\nAnd they make it easy don't they.\n\n977\n00:44:19.510 --> 00:44:21.100\nAnd it couldn't get any easier.\n\n978\n00:44:21.100 --> 00:44:22.080\n>> Super easy.\n\n979\n00:44:22.080 --> 00:44:26.780\n>> So if we want to work with\nmachines that don't support PXE boot,\n\n980\n00:44:26.780 --> 00:44:31.070\nthen I need to create an image,\na disk basically,\n\n981\n00:44:31.070 --> 00:44:34.750\nthat I can take to that machine and\ninstead of booting to its network adapter,\n\n982\n00:44:34.750 --> 00:44:37.500\nI'm gonna pop a disk in there and\nboot to that disk.\n\n983\n00:44:37.500 --> 00:44:41.020\nAnd on that disk is going\nto be the PXE information.\n\n984\n00:44:41.020 --> 00:44:43.880\nSo that will allow it to connect\nto my deployment server.\n\n985\n00:44:43.880 --> 00:44:47.100\nAnd so it lets me create what\nwe call a discover image.\n\n986\n00:44:47.100 --> 00:44:49.330\nSo that it can discover\nmy deployment server.\n\n987\n00:44:49.330 --> 00:44:50.270\nAnd show them how easy it is.\n\n988\n00:44:50.270 --> 00:44:52.680\n>> All right, yeah,\nwe'll just click through it.\n\n989\n00:44:52.680 --> 00:44:55.140\nSo we'll go to our boot image.\n\n990\n00:44:55.140 --> 00:44:59.542\nIt will start with a boot image.\n\n991\n00:44:59.542 --> 00:45:04.710\nWe'll right-click on this guy, and\nwe will create a discovery image.\n\n992\n00:45:04.710 --> 00:45:05.780\n>> Now do we want to.\n\n993\n00:45:05.780 --> 00:45:07.980\nI don't know if we actually want to do it.\n\n994\n00:45:07.980 --> 00:45:09.742\nNow this might take a couple minutes.\n\n995\n00:45:09.742 --> 00:45:12.830\n>> All right, I thought that's\nwhat you were getting after.\n\n996\n00:45:12.830 --> 00:45:14.740\n>> Okay.\n>> Do you want to do it right now?\n\n997\n00:45:14.740 --> 00:45:16.550\n>> Yeah, let's do it, I say we do it.\n\n998\n00:45:16.550 --> 00:45:20.590\nNow I would change the name, because\nit is gonna pull that default name, so\n\n999\n00:45:20.590 --> 00:45:23.590\nI might just, what I usually do,\nis just double-click on the word Setup.\n\n1000\n00:45:23.590 --> 00:45:24.460\nAnd change it to Discover.\n\n1001\n00:45:24.460 --> 00:45:26.620\nI don't know if you've\ngot a different method.\n\n1002\n00:45:29.440 --> 00:45:30.990\nOkay?\nAnd the description, yep.\n\n1003\n00:45:33.520 --> 00:45:35.467\nAll right, and\nthen where do you want to put it?\n\n1004\n00:45:35.467 --> 00:45:39.810\n>> Should we just stick it\nwhere the other ones are?\n\n1005\n00:45:39.810 --> 00:45:41.300\n>> I would.\n\n1006\n00:45:41.300 --> 00:45:43.140\nSo you call it remote install boot.\n\n1007\n00:45:43.140 --> 00:45:48.680\n>> Yeah, that's good enough,\njust put in there.\n\n1008\n00:45:48.680 --> 00:45:49.920\n>> And then name it something?\n\n1009\n00:45:49.920 --> 00:45:54.260\n>> Yeah call it, I don't know, discover.\n\n1010\n00:45:54.260 --> 00:45:56.590\nSomething really original like that,\nsomething that's descriptive.\n\n1011\n00:45:58.120 --> 00:46:00.260\nIt's not like you really\ngo work with that directly.\n\n1012\n00:46:00.260 --> 00:46:03.310\nTypically you're gonna work in through\nthe console and everything there.\n\n1013\n00:46:03.310 --> 00:46:04.770\nAnd that should be it.\n\n1014\n00:46:04.770 --> 00:46:08.320\n>> All right, enter the name of the\ndeployment services server that you want\n\n1015\n00:46:08.320 --> 00:46:10.800\nto respond when you boot a computer,\ninto this?\n\n1016\n00:46:10.800 --> 00:46:12.560\nIt is an optional step.\n\n1017\n00:46:12.560 --> 00:46:17.370\n>> If you want a particular one to respond\nto this type of discovery, you could,\n\n1018\n00:46:17.370 --> 00:46:19.955\nor it'll just find whatever\ndeployment server can.\n\n1019\n00:46:19.955 --> 00:46:21.620\n>> Mm-hm.\n\n1020\n00:46:21.620 --> 00:46:22.980\nAll right, that's it?\n\n1021\n00:46:22.980 --> 00:46:23.562\n>> Yeah.\n>> Sweet.\n\n1022\n00:46:23.562 --> 00:46:27.570\nAll right, so what it's gonna do\nis take that boot image, right.\n\n1023\n00:46:27.570 --> 00:46:31.788\nIt's gonna open this guy up and\nadd the files, not files,\n\n1024\n00:46:31.788 --> 00:46:37.383\njust whatever information needed for\nthat computer then to boot off that CD or\n\n1025\n00:46:37.383 --> 00:46:42.490\ninstallation media, and I guess it\ncould be a USB disk, or USB drive.\n\n1026\n00:46:42.490 --> 00:46:46.690\n>> Yeah, you could throw this over to\na bootable USB, absolutely, or a DVD or\n\n1027\n00:46:46.690 --> 00:46:51.420\nsomething like that, and then that's what\nyou're gonna use to start the machine.\n\n1028\n00:46:51.420 --> 00:46:56.280\nInstead of trying to boot it to the\nnetwork and doing your F12 options there.\n\n1029\n00:46:56.280 --> 00:46:57.550\nSo, very cool option.\n\n1030\n00:46:57.550 --> 00:46:58.910\nLove that, and like I say,\ncouldn't be easier.\n\n1031\n00:47:00.030 --> 00:47:01.700\nJust right-click, create, discover.\n\n1032\n00:47:01.700 --> 00:47:03.930\nAll you had to do was add\nthat book image first.\n\n1033\n00:47:03.930 --> 00:47:06.180\nAnd then you can create that.\n\n1034\n00:47:06.180 --> 00:47:09.340\n>> Now we did have to right-click\non the boot image itself.\n\n1035\n00:47:09.340 --> 00:47:09.960\n>> That's true.\n>> So\n\n1036\n00:47:09.960 --> 00:47:12.690\nnot like where we've done all\nof the other stuff before.\n\n1037\n00:47:12.690 --> 00:47:16.000\nWas just right clicking on those folders.\n\n1038\n00:47:16.000 --> 00:47:18.830\n>> Yeah, because you could\nhave several boot images.\n\n1039\n00:47:18.830 --> 00:47:21.080\nOne for your 32-bit, and\none for your 64-bit.\n\n1040\n00:47:21.080 --> 00:47:25.146\nI would need to create discover images for\nmy 32-bit, for my 64-bit, so\n\n1041\n00:47:25.146 --> 00:47:29.190\nyou do have to pick which mood image you\nwant to base the discover image off of.\n\n1042\n00:47:29.190 --> 00:47:30.980\n>> So, is this Window modal too?\n\n1043\n00:47:30.980 --> 00:47:34.620\n>> It is a modal dialogue, yeah.\n\n1044\n00:47:34.620 --> 00:47:38.625\nSo, we're stuck watching the progress bar.\n\n1045\n00:47:38.625 --> 00:47:40.345\nWe could sing Christmas\ncarols to you guys.\n\n1046\n00:47:40.345 --> 00:47:42.010\n>> [LAUGH] We're good.\n\n1047\n00:47:42.010 --> 00:47:43.793\nI think we're all right.\n\n1048\n00:47:43.793 --> 00:47:49.544\n>> So okay, so we are going to\npush out an image to that server,\n\n1049\n00:47:49.544 --> 00:47:56.004\nthe SVR 1, so should we pre-stage\nthat guy, or just push it out?\n\n1050\n00:47:56.004 --> 00:47:58.584\nLet's see.\n\n1051\n00:47:58.584 --> 00:48:03.500\nWe're going to, actually we are going to,\nwe could do one or two things.\n\n1052\n00:48:03.500 --> 00:48:07.570\nWe could just push out that default\nimage out to that server that we've got.\n\n1053\n00:48:07.570 --> 00:48:12.490\nOr we could capture an image of our\none server and deploy a custom image.\n\n1054\n00:48:14.600 --> 00:48:15.870\nKind of like that idea.\n\n1055\n00:48:15.870 --> 00:48:19.408\nThat's what you're gonna do more\noften than not as a custom image, so,\n\n1056\n00:48:19.408 --> 00:48:21.080\nyeah, I say we do that.\n\n1057\n00:48:21.080 --> 00:48:21.780\n>> All right.\n\n1058\n00:48:21.780 --> 00:48:23.569\n>> And for now we will leave\nit as an unknown device so\n\n1059\n00:48:23.569 --> 00:48:25.105\nwe can take a look at that pending option.\n\n1060\n00:48:25.105 --> 00:48:25.765\n>> Mm-hm.\n\n1061\n00:48:25.765 --> 00:48:26.855\n>> Right?\n>> Yep.\n\n1062\n00:48:26.855 --> 00:48:29.660\n>> Okay, show you guys that.\n\n1063\n00:48:29.660 --> 00:48:30.650\nI guess-\n>> We could do that,\n\n1064\n00:48:30.650 --> 00:48:32.320\nyou could open up Power Shell\nif you wanna go ahead and,\n\n1065\n00:48:32.320 --> 00:48:34.688\nwe haven't really talked about that yet.\n\n1066\n00:48:34.688 --> 00:48:36.560\n[COUGH] Excuse me.\n\n1067\n00:48:36.560 --> 00:48:38.980\nBut yeah, fire up PowerShell,\nlet's do that real quick.\n\n1068\n00:48:40.130 --> 00:48:44.142\nSo what we're getting ready to do,\nwhen we set up our deployment server,\n\n1069\n00:48:44.142 --> 00:48:46.900\nwe said respond to known and\nunknown clients.\n\n1070\n00:48:46.900 --> 00:48:52.030\nEven machines, if they're not pre-staged,\nit is going to respond to them.\n\n1071\n00:48:52.030 --> 00:48:54.580\nTo keep somebody from just walking\ninto my building and going,\n\n1072\n00:48:54.580 --> 00:48:56.350\nhey look they got a deployment server.\n\n1073\n00:48:56.350 --> 00:48:58.780\nLet's pull down an image.\n\n1074\n00:48:58.780 --> 00:49:01.850\nWe chose the option to require\nadministrative approval,\n\n1075\n00:49:01.850 --> 00:49:03.170\nif I'm not mistaken.\n\n1076\n00:49:03.170 --> 00:49:05.350\nDidn't we? We did.\nI'm pretty sure we chose that option.\n\n1077\n00:49:05.350 --> 00:49:09.120\nWhich means what's going to happen\nis when an unknown client connects,\n\n1078\n00:49:09.120 --> 00:49:12.690\nthen it's going to put them\nin this pending folder,\n\n1079\n00:49:12.690 --> 00:49:15.170\nwhich we can see over there\nin our little console.\n\n1080\n00:49:15.170 --> 00:49:16.800\nAnd until an administrator comes in and\n\n1081\n00:49:16.800 --> 00:49:19.910\nsays yes allow this to happen or\nno don't allow.\n\n1082\n00:49:19.910 --> 00:49:22.320\nIt's just going to sit\nin that pending note.\n\n1083\n00:49:22.320 --> 00:49:27.580\nOne of the things we can do\nis we can add a message so\n\n1084\n00:49:27.580 --> 00:49:31.410\nthat when they're fixing the boot and\nthey connect and they pick their image.\n\n1085\n00:49:31.410 --> 00:49:34.770\nIt will pop up whatever\nmessage it is that we provide.\n\n1086\n00:49:34.770 --> 00:49:36.799\nLetting them know that hey,\nwe got your request.\n\n1087\n00:49:37.970 --> 00:49:42.560\nWe'll see if we're going to approve it or\nnot, so\n\n1088\n00:49:42.560 --> 00:49:48.830\nthe command is actually wdsutil, is\nthe first part so all one word, wdsutil.\n\n1089\n00:49:54.200 --> 00:49:56.500\nForward slash, space, forward slash,\n\n1090\n00:49:56.500 --> 00:50:03.300\nset dash server./set-server\n/autoaddpolicy, that's all one word.\n\n1091\n00:50:05.030 --> 00:50:11.690\nAnd then space /message: and\n\n1092\n00:50:11.690 --> 00:50:15.430\nthen, in quotes,\nwhatever it is you wanna give them.\n\n1093\n00:50:15.430 --> 00:50:18.900\nLike, the administrator is authorizing\nthis request, please wait.\n\n1094\n00:50:18.900 --> 00:50:20.250\nOr, no soup for you.\n\n1095\n00:50:22.240 --> 00:50:24.870\nOr, you're gonna wait until I say so.\n\n1096\n00:50:24.870 --> 00:50:25.480\nThere you go.\n\n1097\n00:50:25.480 --> 00:50:28.090\nEnd your quote, hit Enter.\n\n1098\n00:50:28.090 --> 00:50:32.680\nAnd if we get no red text back,\nWe are good to go.\n\n1099\n00:50:33.840 --> 00:50:35.736\nI know it's going to work.\n\n1100\n00:50:35.736 --> 00:50:39.400\nI'm not even going to look over there.\n\n1101\n00:50:39.400 --> 00:50:40.340\n>> No?\nMy gosh look!\n\n1102\n00:50:40.340 --> 00:50:41.392\n>> I had to peek.\n\n1103\n00:50:41.392 --> 00:50:41.956\n[LAUGH].\n\n1104\n00:50:41.956 --> 00:50:44.140\nIt is going awfully slow there.\n\n1105\n00:50:45.730 --> 00:50:50.800\nInvalid parameter auto at,\nwell, add has two d's in it.\n\n1106\n00:50:52.180 --> 00:50:58.390\nHm, all right we'll let it fail,\nand then it'll.\n\n1107\n00:50:58.390 --> 00:50:59.431\nShould get you back.\n>> Yeah we did get\n\n1108\n00:50:59.431 --> 00:51:01.720\nthe fast server cuz look how\nquickly it's recovering.\n\n1109\n00:51:01.720 --> 00:51:03.730\n>> I know, right?\n\n1110\n00:51:03.730 --> 00:51:06.461\nIt is kinda odd that it's [CROSSTALK]\n>> I guess you can drag it out of the way\n\n1111\n00:51:06.461 --> 00:51:07.860\nand see what this guy's doing.\n\n1112\n00:51:07.860 --> 00:51:10.687\nYou know what Mike, so you did say\nthe discovery image did take a minute and\n\n1113\n00:51:10.687 --> 00:51:13.435\nI thought, no, I mean come on,\nwe'll just click right through it.\n\n1114\n00:51:13.435 --> 00:51:16.400\n>> I've done it once or twice it takes\na lot longer than you would think it is.\n\n1115\n00:51:16.400 --> 00:51:19.050\nBut I think it's a little IO, right?\n\n1116\n00:51:19.050 --> 00:51:21.640\nIt's reading that boot image\noff the same volume and\n\n1117\n00:51:21.640 --> 00:51:24.000\nwe're writing it right\nback to that same volume.\n\n1118\n00:51:24.000 --> 00:51:25.450\nAnd I'm not sure what we've got for\n\n1119\n00:51:25.450 --> 00:51:28.260\nmemory on this virtual machine, so\nit is a little intensive there.\n\n1120\n00:51:28.260 --> 00:51:30.657\nAll right, so\nnow we should have a discover image.\n\n1121\n00:51:32.080 --> 00:51:36.270\nAll right,\nnow it's not gonna show up in here,\n\n1122\n00:51:36.270 --> 00:51:41.945\nbecause we would be copying it to a DVD,\nor USB and using it that way, right?\n\n1123\n00:51:41.945 --> 00:51:43.460\n>> Mm-hm.\n\n1124\n00:51:43.460 --> 00:51:44.740\n>> So we don't actually see it there.\n\n1125\n00:51:44.740 --> 00:51:47.300\nIf we wanted to we could go into\nWindows explorer and take a peek, but\n\n1126\n00:51:47.300 --> 00:51:51.240\nlet's see what this guy is doing.\n\n1127\n00:51:51.240 --> 00:51:54.390\n>> All right, so we'll go back and\nput another D in there, right?\n\n1128\n00:51:54.390 --> 00:51:55.100\n>> Yep.\n\n1129\n00:51:55.100 --> 00:51:55.940\n>> Isn't that what you said?\n\n1130\n00:51:57.730 --> 00:51:58.940\nSo far, so good.\n\n1131\n00:51:58.940 --> 00:52:01.260\nWoohoo, the command\ncompleted successfully.\n\n1132\n00:52:01.260 --> 00:52:04.730\nNow that is one thing that we can not\ndo through the console at this point.\n\n1133\n00:52:04.730 --> 00:52:08.400\nSo the only place that I know to\ndo that is through Power Shell.\n\n1134\n00:52:08.400 --> 00:52:11.470\nNo place to right click or\nanything inside the inside the console.\n\n1135\n00:52:11.470 --> 00:52:13.570\n>> If we run again with\na different message is that.\n\n1136\n00:52:13.570 --> 00:52:14.700\n>> It will overwrite.\n\n1137\n00:52:14.700 --> 00:52:15.950\nSo it would change your message.\n\n1138\n00:52:15.950 --> 00:52:17.300\nSo there's only the one message.\n\n1139\n00:52:17.300 --> 00:52:18.315\n>> All right,\nwell I'm going to fix that then.\n\n1140\n00:52:21.675 --> 00:52:22.895\nOkay, all right.\n\n1141\n00:52:22.895 --> 00:52:24.225\n>> Beautiful.\n\n1142\n00:52:24.225 --> 00:52:24.765\n>> And that's it?\n\n1143\n00:52:24.765 --> 00:52:25.361\n>> Yup, that's it.\n\n1144\n00:52:25.361 --> 00:52:26.550\nSo we took care of that.\n\n1145\n00:52:26.550 --> 00:52:30.030\nSo that again we'll come back,\nthat's for the pending devices, so\n\n1146\n00:52:30.030 --> 00:52:33.451\nwhen you put that check mark for\nrequired administrator approval,\n\n1147\n00:52:33.451 --> 00:52:37.850\nthat's what's gonna pop up on their screen\nand until somebody actually approves it.\n\n1148\n00:52:37.850 --> 00:52:40.184\nThe next thing we should\nprobably do since we're here,\n\n1149\n00:52:40.184 --> 00:52:42.590\nwanna show them how to\ncreate a capture image?\n\n1150\n00:52:42.590 --> 00:52:47.440\nA few minutes before our break,\nso a setup image,\n\n1151\n00:52:47.440 --> 00:52:49.796\nthis is what we're going to use\nto set a computer up, right?\n\n1152\n00:52:49.796 --> 00:52:52.750\nIt's to pull an image down from\nthe deployment server, but\n\n1153\n00:52:52.750 --> 00:52:57.735\nwhat if I had set up my reference machine\nSysprep, they got it ready to go, and\n\n1154\n00:52:57.735 --> 00:53:01.725\nI want to make an image of that machine\nand put it up on the deployment server.\n\n1155\n00:53:01.725 --> 00:53:04.245\nThat's what my capture image is for.\n\n1156\n00:53:04.245 --> 00:53:07.575\nSo we're gonna right click, create capture\nimage, go through the same process,\n\n1157\n00:53:07.575 --> 00:53:10.245\nchange that to capture and\ngive it a place to store it.\n\n1158\n00:53:11.285 --> 00:53:12.285\nSo a lot easier.\n\n1159\n00:53:12.285 --> 00:53:15.935\nNow I still could take a WinPE\ndisk with ImageX on it or\n\n1160\n00:53:15.935 --> 00:53:18.770\nsomething like that,\ngo to that reference machine.\n\n1161\n00:53:18.770 --> 00:53:22.810\nAnd boot it up and capture that image,\nstore it onto a portable hard drive,\n\n1162\n00:53:22.810 --> 00:53:27.220\na USB drive or something, take that\nover to my server, copy that up and\n\n1163\n00:53:27.220 --> 00:53:28.790\nimport it into my deployment server.\n\n1164\n00:53:30.290 --> 00:53:31.200\nBut why?\n\n1165\n00:53:31.200 --> 00:53:31.890\nRight?\n\n1166\n00:53:31.890 --> 00:53:34.220\nI mean, if you've already got\ndeployment servers set up,\n\n1167\n00:53:34.220 --> 00:53:36.260\nI mean we can add this capture image.\n\n1168\n00:53:36.260 --> 00:53:41.690\nAnd then when you connect to the\ndeployment server, you pick either deploy\n\n1169\n00:53:41.690 --> 00:53:46.990\nimage or set up image to pull an image\ndown or capture image to put an image up.\n\n1170\n00:53:46.990 --> 00:53:49.310\nNow I'll tell you in\nthe environments that I've set up,\n\n1171\n00:53:49.310 --> 00:53:53.110\nI will typically disable\nthe capture image.\n\n1172\n00:53:53.110 --> 00:53:56.930\nBecause if there's more than one boot\nimage in there, then it's gonna stop and\n\n1173\n00:53:56.930 --> 00:53:59.610\nhave you pick the boot\nimage that you want.\n\n1174\n00:53:59.610 --> 00:54:02.550\nAnd 90% of the time,\nI'm pulling an image down.\n\n1175\n00:54:02.550 --> 00:54:06.660\nSo I just want it to default to\nthat setup image and move right on.\n\n1176\n00:54:06.660 --> 00:54:10.770\nSo I'll disable the capture image that's\nin there, and then when I'm ready to\n\n1177\n00:54:10.770 --> 00:54:14.500\ncapture an image, I'll go turn it on and\nthen I can pick it from the list.\n\n1178\n00:54:14.500 --> 00:54:17.900\nAnd when I'm done capturing I'll\nturn it back off so that it doesn't\n\n1179\n00:54:17.900 --> 00:54:21.760\nask me every time, do you wanna use\nthe setup, or do you wanna use capture?\n\n1180\n00:54:21.760 --> 00:54:25.145\nSo, just something I do to\nkind of speed things up.\n\n1181\n00:54:25.145 --> 00:54:26.180\n>> Mm-hm.\n\n1182\n00:54:26.180 --> 00:54:31.730\nSo then, disable an image so you can\nmark it than as not being available.\n\n1183\n00:54:31.730 --> 00:54:35.900\nAnd so it won't show up in the list\nrather than either deleting it or\n\n1184\n00:54:35.900 --> 00:54:38.380\nremoving it from that folder or what not.\n\n1185\n00:54:38.380 --> 00:54:39.240\n>> Exactly.\n\n1186\n00:54:39.240 --> 00:54:41.320\n>> Mark it as unavailable or disabled.\n\n1187\n00:54:41.320 --> 00:54:44.970\n>> Yeah, that way, you could export it\nout, I suppose, or something like that.\n\n1188\n00:54:44.970 --> 00:54:46.990\nThen you have to import it back in, so.\n\n1189\n00:54:46.990 --> 00:54:52.810\nEasy enough to just to go right\nin there and disable that guy.\n\n1190\n00:54:52.810 --> 00:54:57.600\nSo then we twiddle our thumbs as another\none of those moodle dialogue boxes\n\n1191\n00:54:57.600 --> 00:55:00.360\ncan't do anything until it goes away.\n\n1192\n00:55:00.360 --> 00:55:01.720\nBut it's almost done.\n\n1193\n00:55:01.720 --> 00:55:04.460\nAll right.\nSo then, underneath the boot images right,\n\n1194\n00:55:04.460 --> 00:55:05.870\nso we have pending devices.\n\n1195\n00:55:05.870 --> 00:55:08.600\nAll right.\nSo then our device we're going\n\n1196\n00:55:08.600 --> 00:55:10.980\nto choose a you know, an unknown method.\n\n1197\n00:55:10.980 --> 00:55:13.630\nRight?\nAnd so he's going to appear there in\n\n1198\n00:55:13.630 --> 00:55:18.160\npending devices and that's where\nwe'll select them and say yeah, sure.\n\n1199\n00:55:18.160 --> 00:55:19.298\nYou know, that guy's fine.\n\n1200\n00:55:19.298 --> 00:55:21.770\nAnd the multi-task transmissions right?\n\n1201\n00:55:21.770 --> 00:55:23.550\n>> We haven't talked about those yet.\n\n1202\n00:55:23.550 --> 00:55:24.330\n>> No, we haven't.\n\n1203\n00:55:24.330 --> 00:55:27.080\nSo, you can set up a mult-cast\ntransmission, right?\n\n1204\n00:55:27.080 --> 00:55:27.710\nOr, let's see.\n\n1205\n00:55:27.710 --> 00:55:30.660\nSo, you have one way,\n\n1206\n00:55:30.660 --> 00:55:35.710\nyou can just deploy out a stream\nto each individual machine, right?\n\n1207\n00:55:35.710 --> 00:55:40.821\nSo, if you have many machines it could\nreally hinder the network performance,\n\n1208\n00:55:40.821 --> 00:55:44.255\nrenew a multicast, and\nsend the image out one time and\n\n1209\n00:55:44.255 --> 00:55:48.164\nthen have each person listening for\nit and then take it down.\n\n1210\n00:55:48.164 --> 00:55:52.147\nSo, much better on network bandwidth and\nall that good stuff.\n\n1211\n00:55:52.147 --> 00:55:56.698\n>> The server's happy, I mean, if you go\nto a room that has ten computers in there.\n\n1212\n00:55:56.698 --> 00:56:01.090\nAnd you connect each one to that\ndeployment server and pull an image down.\n\n1213\n00:56:01.090 --> 00:56:04.510\nYou can imagine your deployment server\nnow is having to send that image out\n\n1214\n00:56:04.510 --> 00:56:06.200\nten times, once for each guy.\n\n1215\n00:56:06.200 --> 00:56:09.816\nTen different conversations that he's\nhaving so he's going to be extremely busy.\n\n1216\n00:56:09.816 --> 00:56:12.700\nDisk I/Os gonna go to the floor, and\n\n1217\n00:56:12.700 --> 00:56:17.730\nyour bandwidth is not gonna be, you're\ngonna suck a lot of that bandwidth there.\n\n1218\n00:56:17.730 --> 00:56:21.920\nWhere as a multicast, which we've talked\nabout in our network plus episodes,\n\n1219\n00:56:21.920 --> 00:56:24.150\nis a one to many conversation.\n\n1220\n00:56:24.150 --> 00:56:26.650\nSo the server's gonna send it out once,\n\n1221\n00:56:26.650 --> 00:56:30.010\nmany nodes are gonna be\nreceiving that traffic.\n\n1222\n00:56:30.010 --> 00:56:33.060\nSo now my server's happy,\nhe's not nearly as busy.\n\n1223\n00:56:33.060 --> 00:56:37.850\nI'm only pushing out that 50 gig image\nonce across the network, and yet\n\n1224\n00:56:37.850 --> 00:56:41.480\nI'm still being able to image ten\ndifferent machines at the same time.\n\n1225\n00:56:41.480 --> 00:56:43.200\nSo it's a much better option.\n\n1226\n00:56:44.860 --> 00:56:47.362\nNow when we take a look\nat our multicast options,\n\n1227\n00:56:47.362 --> 00:56:50.546\nI don't know if we want try to\nhit that before before break or.\n\n1228\n00:56:50.546 --> 00:56:53.176\n>> If our speedy server\nIs gonna [CROSSTALK]\n\n1229\n00:56:53.176 --> 00:56:54.558\n>> Yeah it's still doing our image there.\n\n1230\n00:56:54.558 --> 00:56:55.702\nSo why don't we do that.\n\n1231\n00:56:55.702 --> 00:56:57.820\nWhy don't we take our\nbreak a little bit early.\n\n1232\n00:56:57.820 --> 00:56:59.230\nWe've just got a couple minutes left,\n\n1233\n00:56:59.230 --> 00:57:03.450\nwe'll let that thing finish up\ncreating that capture image.\n\n1234\n00:57:03.450 --> 00:57:06.800\nWhen we come back, we'll show you guys\nthe different multicast that we have,\n\n1235\n00:57:06.800 --> 00:57:10.310\nand then we'll start talking about setting\nup our reference computer, creating\n\n1236\n00:57:10.310 --> 00:57:14.090\nan image of that guy, and then turning\naround and deploying that image back out.\n\n1237\n00:57:14.090 --> 00:57:14.840\nSound like a plan?\n\n1238\n00:57:14.840 --> 00:57:15.750\n>> Sounds like a plan.\n\n1239\n00:57:15.750 --> 00:57:17.273\n>> All right guys.\nWe'll see you back here in a few.\n\n1240\n00:57:17.273 --> 00:57:25.833\n[MUSIC]\n\n1241\n00:57:25.833 --> 00:57:26.367\n>> All right.\n\n1242\n00:57:26.367 --> 00:57:27.493\nWelcome back.\n\n1243\n00:57:27.493 --> 00:57:28.570\nAll right.\n\n1244\n00:57:28.570 --> 00:57:30.880\nSo, the image finished.\n\n1245\n00:57:30.880 --> 00:57:33.290\n>> Nice.\n>> And so we're all good to go and\n\n1246\n00:57:33.290 --> 00:57:35.540\nit's primed and ready.\n\n1247\n00:57:35.540 --> 00:57:37.900\nSo now it's time to get\ninto the multicast.\n\n1248\n00:57:37.900 --> 00:57:38.610\n>> Multicast.\n\n1249\n00:57:38.610 --> 00:57:41.670\nSo let's take a look at\nsome of those options.\n\n1250\n00:57:41.670 --> 00:57:44.290\nGo ahead and pull that up for\nus there, Nate.\n\n1251\n00:57:44.290 --> 00:57:46.760\nAnd let's talk about multicast.\n\n1252\n00:57:48.110 --> 00:57:50.610\nWe don't have our guy started yet.\n\n1253\n00:57:50.610 --> 00:57:52.020\n>> Should I start it?\n>> Yeah, fire that guy up.\n\n1254\n00:57:52.020 --> 00:57:54.760\nI don't know why we\ndidn't ever start that.\n\n1255\n00:57:54.760 --> 00:57:57.180\nThat's right, it had an error\nwhen we first came into it.\n\n1256\n00:57:57.180 --> 00:57:59.060\nWe just never went back and turned it on.\n\n1257\n00:58:01.070 --> 00:58:01.835\nLet that guy boot up.\n\n1258\n00:58:06.758 --> 00:58:07.988\n>> We did get the fast one.\n\n1259\n00:58:07.988 --> 00:58:09.737\n>> We did, didn't we?\n\n1260\n00:58:09.737 --> 00:58:12.000\nHope you're not having trouble.\n\n1261\n00:58:13.650 --> 00:58:15.940\nHe doesn't look real happy, does he?\n\n1262\n00:58:15.940 --> 00:58:16.890\nThere we go.\n\n1263\n00:58:16.890 --> 00:58:17.750\n>> All right.\n\n1264\n00:58:17.750 --> 00:58:18.745\n>> He was thinking about it.\n\n1265\n00:58:18.745 --> 00:58:21.480\n[LAUGH]\n>> All right, so\n\n1266\n00:58:21.480 --> 00:58:24.290\nmulticast transmission,\nshould we create one then?\n\n1267\n00:58:24.290 --> 00:58:29.230\n>> No, let's right-click on it,\npull up some of our options there.\n\n1268\n00:58:29.230 --> 00:58:30.599\nYeah, I guess we will have to create one.\n\n1269\n00:58:30.599 --> 00:58:32.492\n[LAUGH].\n\n1270\n00:58:32.492 --> 00:58:33.154\nSmartass.\n\n1271\n00:58:33.154 --> 00:58:38.629\n>> [LAUGH] All right so we're just\n\n1272\n00:58:38.629 --> 00:58:44.980\ngonna call this Servers Today.\n\n1273\n00:58:44.980 --> 00:58:46.680\nWhatever.\nAll right.\n\n1274\n00:58:46.680 --> 00:58:48.750\n>> I don't know about that name, honestly.\n\n1275\n00:58:48.750 --> 00:58:50.029\nI'd never see that name again.\n\n1276\n00:58:50.029 --> 00:58:52.056\nIt's very strange when\nyou add that name there.\n\n1277\n00:58:52.056 --> 00:58:54.007\nBut anyway, another day, another story.\n\n1278\n00:58:54.007 --> 00:58:55.827\nAnd then you pick your group and\n\n1279\n00:58:55.827 --> 00:58:59.685\nthen you pick your image that you\nwanna set up this multicast for.\n\n1280\n00:58:59.685 --> 00:59:02.270\n>> All right, well I got one group and\nonly one image.\n\n1281\n00:59:02.270 --> 00:59:02.960\n>> Easy enough.\n\n1282\n00:59:02.960 --> 00:59:06.400\nSo there's what we've got to talk about.\n\n1283\n00:59:06.400 --> 00:59:08.230\nSo what do we got there?\n\n1284\n00:59:08.230 --> 00:59:11.242\n>> Autocast and schedule task.\n\n1285\n00:59:11.242 --> 00:59:16.890\nSo autocast will begin when\na certain condition is met.\n\n1286\n00:59:18.570 --> 00:59:21.474\nSo, whether there are a certain\nnumber of machines?\n\n1287\n00:59:21.474 --> 00:59:24.060\nNo?\n>> Schedule cast would.\n\n1288\n00:59:24.060 --> 00:59:25.910\nAutocast is auto.\n\n1289\n00:59:25.910 --> 00:59:26.730\n>> Auto right away?\n\n1290\n00:59:26.730 --> 00:59:27.980\n>> Yeah man it just goes.\n\n1291\n00:59:27.980 --> 00:59:29.210\nIt just fires.\n\n1292\n00:59:29.210 --> 00:59:29.960\nIt's like I'm ready.\n\n1293\n00:59:29.960 --> 00:59:30.560\nLet's join it.\n\n1294\n00:59:30.560 --> 00:59:31.750\nLet's do it.\n\n1295\n00:59:31.750 --> 00:59:33.880\nSo yeah, with an autocast,\nwhat's gonna happen is.\n\n1296\n00:59:35.450 --> 00:59:38.190\nLet's say I've got ten computers\nto deploy this image to.\n\n1297\n00:59:38.190 --> 00:59:41.810\nIf I turn on an autocast, and\nthen I go to that first machine and\n\n1298\n00:59:41.810 --> 00:59:43.620\nI join it to the multicast party.\n\n1299\n00:59:43.620 --> 00:59:46.420\nI PXE boot it,\nI connect it to the deployment server, and\n\n1300\n00:59:46.420 --> 00:59:50.140\nI pick that particular image\nthat the autocast is setup for.\n\n1301\n00:59:50.140 --> 00:59:53.060\nThen the deployment server's going to\nstart pushing the image right down to that\n\n1302\n00:59:53.060 --> 00:59:55.500\nmachine even though the other\nnine haven't joined yet.\n\n1303\n00:59:56.700 --> 01:00:01.610\nAnd then what's gonna happen Is when I get\nthe second one connected to the server,\n\n1304\n01:00:01.610 --> 01:00:02.660\nhe's gonna join the party.\n\n1305\n01:00:02.660 --> 01:00:04.260\nAnd then the same thing\nwith the third one.\n\n1306\n01:00:04.260 --> 01:00:07.020\nBut, when you think about it,\nthe first joined five minutes ago.\n\n1307\n01:00:07.020 --> 01:00:09.790\nIt took me five minutes to get from\nthe first one to the second one.\n\n1308\n01:00:09.790 --> 01:00:10.895\nSo now he's five minutes behind.\n\n1309\n01:00:10.895 --> 01:00:14.600\nThey don't care, they join right\nin wherever the image is at, and\n\n1310\n01:00:14.600 --> 01:00:18.902\nwhat the deployment does is when it's\ndone, he's gonna loop back around and\n\n1311\n01:00:18.902 --> 01:00:21.299\nstart deploying the image all over again.\n\n1312\n01:00:21.299 --> 01:00:24.989\nSo that if I joined the party late,\nI can get the stuff that I missed.\n\n1313\n01:00:26.780 --> 01:00:28.359\nSo that's what an autocast is gonna do.\n\n1314\n01:00:28.359 --> 01:00:32.288\nYou just start it up, and then you can\njoin clients or machines as needed, and\n\n1315\n01:00:32.288 --> 01:00:35.010\nthey'll just join the multicast\nwherever it's at,\n\n1316\n01:00:35.010 --> 01:00:37.927\neven if it's right in the middle\nof deploying the image.\n\n1317\n01:00:37.927 --> 01:00:40.937\nBecause they know that they can get\nthe last half of the image, and\n\n1318\n01:00:40.937 --> 01:00:43.732\nthen the deployment servers\ngonna turn right back around and\n\n1319\n01:00:43.732 --> 01:00:47.520\nstart at the beginning and\nthey can get the part that they missed.\n\n1320\n01:00:47.520 --> 01:00:48.730\nThat's our autocast.\n\n1321\n01:00:48.730 --> 01:00:52.360\nI used to use an analogy, but most of\nyou are not old enough to remember what\n\n1322\n01:00:52.360 --> 01:00:56.780\nan 8-track tape player was,\nbecause that thing was a continuous loop.\n\n1323\n01:00:56.780 --> 01:00:58.520\nAnd that's basically what's going on.\n\n1324\n01:00:58.520 --> 01:00:59.783\nYeah, I know,\nyou don't even know what an 8-track is.\n\n1325\n01:00:59.783 --> 01:01:00.548\n>> No, no, I do.\n\n1326\n01:01:00.548 --> 01:01:03.190\n>> It's a continuous loop.\n\n1327\n01:01:03.190 --> 01:01:05.550\nIt had four programs and,\n\n1328\n01:01:05.550 --> 01:01:10.160\nmy first car had an 8-track player in\nit and it was a continuous loop, so\n\n1329\n01:01:10.160 --> 01:01:15.020\nyou pop that baby in and it would start\nover from the beginning and yeah I know.\n\n1330\n01:01:15.020 --> 01:01:17.330\nDating myself where it was like holy crap,\nthat guy's old.\n\n1331\n01:01:17.330 --> 01:01:19.180\n>> Was it like the first car ever made?\n\n1332\n01:01:19.180 --> 01:01:19.760\n>> Yeah.\n\n1333\n01:01:19.760 --> 01:01:23.550\nI had to crank out in front\nto start that thing up.\n\n1334\n01:01:23.550 --> 01:01:25.630\n>> Right?\nMan, that's crazy.\n\n1335\n01:01:25.630 --> 01:01:29.597\n>> So, yeah, that's an autocast where it's\njust gonna continuously broadcast out that\n\n1336\n01:01:29.597 --> 01:01:33.240\nimage, you join the machines to it as you\ncan, they pick up wherever it is at, and\n\n1337\n01:01:33.240 --> 01:01:36.481\nthen it'll loop back around and\nthey can make up whatever they missed.\n\n1338\n01:01:36.481 --> 01:01:39.720\nSo that's a good option,\nthe other one is the scheduled cast.\n\n1339\n01:01:39.720 --> 01:01:44.690\nNow with the scheduled cast, I've got two\noptions within the scheduled cast option.\n\n1340\n01:01:44.690 --> 01:01:49.881\nThere's a point in time scheduled cast, or\n\n1341\n01:01:49.881 --> 01:01:54.829\nthere's a client count scheduled cast.\n\n1342\n01:01:54.829 --> 01:02:01.230\n>> So the threshold would be the number\nof requests for that particular image.\n\n1343\n01:02:01.230 --> 01:02:05.320\nWhen that number is reached, that's when\nthe multicast transmission would start.\n\n1344\n01:02:05.320 --> 01:02:08.210\nSo you go that route if we know\nhow many machines that we're\n\n1345\n01:02:08.210 --> 01:02:09.460\ngoing to be doing Thursday.\n\n1346\n01:02:09.460 --> 01:02:13.740\nA certain department or\nsomething we could set that up.\n\n1347\n01:02:13.740 --> 01:02:14.440\nOr we could.\n\n1348\n01:02:14.440 --> 01:02:18.340\n>> Different from the autocast, where as\nthis one, if I set that number to 10,\n\n1349\n01:02:18.340 --> 01:02:23.295\nthe server is not going to start pushing\nthat image out, until the tenth one joins.\n\n1350\n01:02:23.295 --> 01:02:26.190\nIt's gonna wait till everybody\ngets into the party, and\n\n1351\n01:02:26.190 --> 01:02:28.360\nthen its gonna push it out one time only.\n\n1352\n01:02:28.360 --> 01:02:31.436\nThey all need to be there to\nget it from beginning to end.\n\n1353\n01:02:31.436 --> 01:02:35.765\n>> And then, we could specify a time.\n\n1354\n01:02:35.765 --> 01:02:37.175\nA time and a day perhaps,\n\n1355\n01:02:37.175 --> 01:02:41.360\nif we wanted to wait until in the middle\nof the night to push something out.\n\n1356\n01:02:41.360 --> 01:02:45.180\nIf we had scheduled backups running\nthat were gonna be on the network, or\n\n1357\n01:02:45.180 --> 01:02:46.560\nany kind of maintenance, or\n\n1358\n01:02:46.560 --> 01:02:51.540\njust any kind of time planning, then we\ncould set it to begin at a certain time.\n\n1359\n01:02:51.540 --> 01:02:54.360\n>> A lot of companies have a maintenance\nwindow that they like to do this type of\n\n1360\n01:02:54.360 --> 01:02:58.280\noperation in, so they can schedule it for\n3 o'clock in the morning.\n\n1361\n01:02:58.280 --> 01:03:01.520\nAnd then they can just go ahead\nto each machine and join it and\n\n1362\n01:03:01.520 --> 01:03:04.800\ndo the PXE boot,\nconnect to the server, pick the image.\n\n1363\n01:03:04.800 --> 01:03:08.580\nAnd then the machine will just sit there,\nand it says, waiting for server.\n\n1364\n01:03:08.580 --> 01:03:10.710\nAnd not until, say,\n3 o'clock in the morning or\n\n1365\n01:03:10.710 --> 01:03:12.850\nwhatever we set it to,\nwill it actually start.\n\n1366\n01:03:12.850 --> 01:03:15.145\nSo you could join as many\nmachines as you wanted to it,\n\n1367\n01:03:15.145 --> 01:03:17.860\nNothing's going to start\nuntil that point in time.\n\n1368\n01:03:17.860 --> 01:03:21.920\nNow, I'll tell you real world, I\ntypically use a combination of those two.\n\n1369\n01:03:21.920 --> 01:03:26.030\nIf I'm not doing an autocast, then I'm\ngoing to use a combination of those and\n\n1370\n01:03:26.030 --> 01:03:27.010\nhere's why.\n\n1371\n01:03:27.010 --> 01:03:30.618\nIf I have 20 machines that\nI want to image, great.\n\n1372\n01:03:30.618 --> 01:03:35.767\nI think, okay, you'll just go set up\na client count multicast transmission and\n\n1373\n01:03:35.767 --> 01:03:37.596\nI'm going to set it to 20.\n\n1374\n01:03:37.596 --> 01:03:39.952\nAll right,\nwell then what inevitably happens,\n\n1375\n01:03:39.952 --> 01:03:43.692\nis you start going to each one of those\nmachines trying to join it to the party.\n\n1376\n01:03:43.692 --> 01:03:46.423\nAnd one of them has a network\nadapter that's failed, or\n\n1377\n01:03:46.423 --> 01:03:49.462\nsomething's wrong with the machine and\nI can't connect it.\n\n1378\n01:03:49.462 --> 01:03:52.327\nSo now I've got 19 people joined up.\n\n1379\n01:03:52.327 --> 01:03:54.543\nServer's not gonna start\nuntil it gets to the 20.\n\n1380\n01:03:54.543 --> 01:03:57.692\nAll right, so\nnow what am I going to do, right?\n\n1381\n01:03:57.692 --> 01:04:01.930\nFind another machine somewhere that I\ncan image, fix that machine, whatever.\n\n1382\n01:04:01.930 --> 01:04:05.510\nSo what I will to do is say all right I'm\ngoing to, because they're check boxes and\n\n1383\n01:04:05.510 --> 01:04:08.950\nnot radio boxes, so\nI'll set my client count to 20 and\n\n1384\n01:04:08.950 --> 01:04:13.050\nthen I'll set my time threshold to\nlike a couple of hours from now.\n\n1385\n01:04:13.050 --> 01:04:16.810\nSo that way if I get all 20 of them joined\nto the party, great, it will kick off.\n\n1386\n01:04:16.810 --> 01:04:20.380\nIf I only get 16 of them joined,\nthen I know I can just wait and\n\n1387\n01:04:20.380 --> 01:04:22.080\neventually it will kick of anyway.\n\n1388\n01:04:22.080 --> 01:04:26.220\nSo I kind of use it as a fail safe for\nmy client count option.\n\n1389\n01:04:27.290 --> 01:04:29.926\n>> Nice, all right we'll just\nleave this guy on auto cast.\n\n1390\n01:04:29.926 --> 01:04:30.522\nYeah, that's right.\n\n1391\n01:04:30.522 --> 01:04:33.301\n[CROSSTALK] Cause I don't know if\nwe're actually going to deploy\n\n1392\n01:04:33.301 --> 01:04:34.179\nthat image anyway.\n\n1393\n01:04:34.179 --> 01:04:35.925\nWe're going to go make our custom image.\n\n1394\n01:04:35.925 --> 01:04:37.220\n>> Mm-hm.\nYep.\n\n1395\n01:04:37.220 --> 01:04:40.840\n>> All right, so there we go, there's our\nlittle summary screen, we'll click Finish.\n\n1396\n01:04:40.840 --> 01:04:44.750\nAnd it should,\nshouldn't it appear in this little window?\n\n1397\n01:04:44.750 --> 01:04:46.940\n>> If you expand out multicast\nthere over on the left,\n\n1398\n01:04:46.940 --> 01:04:51.590\nyou should see your new transmission\n>> Yeah it's just kind of hanging there\n\n1399\n01:04:51.590 --> 01:04:54.650\nwaiting\n>> All right we'll give it second.\n\n1400\n01:04:54.650 --> 01:04:57.230\nMaybe we didn't click Finish.\n\n1401\n01:04:57.230 --> 01:05:00.570\nYou did click Finish not cancel?\n\n1402\n01:05:00.570 --> 01:05:01.390\n>> Correct.\nThere it is.\n\n1403\n01:05:01.390 --> 01:05:03.110\n>> Yeah we've got SPD server.\n\n1404\n01:05:03.110 --> 01:05:05.100\n>> All right so there we go.\n\n1405\n01:05:05.100 --> 01:05:08.070\n>> Now, we can have multiple multicasts.\n\n1406\n01:05:08.070 --> 01:05:10.400\nRight?\nYou know, different ones lined up.\n\n1407\n01:05:10.400 --> 01:05:14.300\nYou know and then we can\ndeactivate some and you know and\n\n1408\n01:05:14.300 --> 01:05:16.040\nlet them kind of sew on the sideline.\n\n1409\n01:05:16.040 --> 01:05:18.740\nPerhaps if we're wanting to\ntroubleshoot something or\n\n1410\n01:05:18.740 --> 01:05:21.100\nwe just didn't want it up there and\n\n1411\n01:05:21.100 --> 01:05:26.730\nyou know we can deactivate it rather than\nhaving to delete it and recreate the guy.\n\n1412\n01:05:26.730 --> 01:05:27.580\n>> Exactly.\n\n1413\n01:05:27.580 --> 01:05:29.280\nAnd if you click on servers.\n\n1414\n01:05:29.280 --> 01:05:33.770\nOn the left, servers today, or\nwhatever you name that guy,\n\n1415\n01:05:33.770 --> 01:05:36.200\nthat's where you would see\nthe notes that it connected in and\n\n1416\n01:05:36.200 --> 01:05:39.620\nyou get information about like\nhow much they've received so far,\n\n1417\n01:05:39.620 --> 01:05:43.890\ntheir bandwidth, their transmission rate,\nand things like that.\n\n1418\n01:05:43.890 --> 01:05:45.440\n>> Sweet.\n>> All right.\n\n1419\n01:05:45.440 --> 01:05:47.150\n>> All right.\n\n1420\n01:05:47.150 --> 01:05:51.721\nSo now, let's talk about creating\na custom image, I think, right?\n\n1421\n01:05:51.721 --> 01:05:52.362\n>> Mm-hm.\n\n1422\n01:05:52.362 --> 01:05:53.324\n>> Sound good?\n\n1423\n01:05:53.324 --> 01:05:53.965\n>> Mm-hm.\n\n1424\n01:05:53.965 --> 01:05:55.490\n>> You guys want to do that?\n\n1425\n01:05:55.490 --> 01:05:59.580\nSo far, we've added that\nDefaultInstall.wim that we got right\n\n1426\n01:05:59.580 --> 01:06:00.880\nout of the 2012 disc.\n\n1427\n01:06:00.880 --> 01:06:02.540\nBut a lot of times I\nwant to customize that.\n\n1428\n01:06:02.540 --> 01:06:05.610\nAnd maybe not so much for\nservers, I don't know.\n\n1429\n01:06:05.610 --> 01:06:12.160\nBut lets say you want to employ\n10 new DNS slash DHCP servers.\n\n1430\n01:06:12.160 --> 01:06:17.670\nWell, we could go in and make an image of\na server that was already running DNS and\n\n1431\n01:06:17.670 --> 01:06:21.460\nDHCP and then I could deploy that\nimage out and I could speed up\n\n1432\n01:06:21.460 --> 01:06:26.890\nthe deployment time for those ten or\n50 new servers that I've got to deploy.\n\n1433\n01:06:26.890 --> 01:06:31.220\nI typically deal with client\noperating systems where I need to\n\n1434\n01:06:31.220 --> 01:06:34.930\ncustomize it because I've got to add\noffice and they want these certain\n\n1435\n01:06:34.930 --> 01:06:39.530\napplications available on all machine and\nthey want some applications available\n\n1436\n01:06:39.530 --> 01:06:42.660\non all machines in the sales office or\nsomething like that.\n\n1437\n01:06:42.660 --> 01:06:48.240\nSo usually we're not doing just\nthe installed.wim right off the disk.\n\n1438\n01:06:48.240 --> 01:06:52.280\nWe're customizing it first with\nall out company options, and\n\n1439\n01:06:52.280 --> 01:06:53.870\nthen we're going to\ncapture an image of that.\n\n1440\n01:06:53.870 --> 01:06:55.600\nSo, I think that's what we're going to do.\n\n1441\n01:06:55.600 --> 01:06:57.060\nWe're going to take a server.\n\n1442\n01:06:57.060 --> 01:07:01.700\nAnd pretend that we've customized it and\nshow you guys how to make an image of it.\n\n1443\n01:07:01.700 --> 01:07:05.450\nIn order to capture an image,\nthe drive has to be Sysprep.\n\n1444\n01:07:05.450 --> 01:07:09.575\nDeployment services will not allow you\nto capture an image of a drive that\n\n1445\n01:07:09.575 --> 01:07:10.625\nhas not been Sysprep.\n\n1446\n01:07:10.625 --> 01:07:14.785\nAnd I think,\nwe've done Sysprep in another episode, but\n\n1447\n01:07:14.785 --> 01:07:18.805\njust in case, maybe not.\n\n1448\n01:07:18.805 --> 01:07:19.655\nOkay.\n\n1449\n01:07:19.655 --> 01:07:20.535\nI don't know if we have or not.\n\n1450\n01:07:20.535 --> 01:07:21.745\nSo, let's cover it anyway.\n\n1451\n01:07:21.745 --> 01:07:24.692\nWhen you are going to create an image.\n\n1452\n01:07:24.692 --> 01:07:26.842\nWe create what's called\nour reference machine.\n\n1453\n01:07:26.842 --> 01:07:28.622\nSo this is the one that we set up,\n\n1454\n01:07:28.622 --> 01:07:31.362\nthis is the one we want all\nthe other machines to look like.\n\n1455\n01:07:31.362 --> 01:07:35.002\nSo I'm going to install server,\nI'm going to do all the configurations,\n\n1456\n01:07:35.002 --> 01:07:36.281\nI'm going to do my windows update.\n\n1457\n01:07:36.281 --> 01:07:40.481\nI'm going to get whatever applications I\nwant installed on there I'm going to do\n\n1458\n01:07:40.481 --> 01:07:41.271\nall of that.\n\n1459\n01:07:41.271 --> 01:07:43.361\nAnd that's what we call\nour reference machine.\n\n1460\n01:07:43.361 --> 01:07:47.381\nThat's the one I want to capture\npicture or an image of so\n\n1461\n01:07:47.381 --> 01:07:50.041\nthat I can deploy it to the other\nmachines on my network.\n\n1462\n01:07:50.041 --> 01:07:54.761\nBut before I can capture that there's\na lot of uniquely identifying information\n\n1463\n01:07:54.761 --> 01:07:58.560\nin that system like the S-I-D and the name\nof the computer and things like that.\n\n1464\n01:07:58.560 --> 01:08:01.220\nAnd i can't just duplicate that across\nmultiple machines on my network,\n\n1465\n01:08:01.220 --> 01:08:03.180\nthat's going to cause a problem, so\n\n1466\n01:08:03.180 --> 01:08:06.920\nI need to strip out all that\nuniquely identifying information.\n\n1467\n01:08:06.920 --> 01:08:10.660\nI need to generalize the image,\nor the machine so\n\n1468\n01:08:10.660 --> 01:08:15.350\nthat I can capture an image of it, and\nthe tool we use to do that is Sysprep.\n\n1469\n01:08:15.350 --> 01:08:17.720\nBuilt into Windows and\nit's going to go through and\n\n1470\n01:08:17.720 --> 01:08:20.810\nit's going to strip that information out.\n\n1471\n01:08:20.810 --> 01:08:25.220\nAnd then it's either going to restart\nthe machine, or shut down the machine.\n\n1472\n01:08:25.220 --> 01:08:29.830\nAnd then once we've done that, we can\nthen capture an image of that hard drive\n\n1473\n01:08:29.830 --> 01:08:33.650\nnow that it's been generalized and\nall that stuff has been removed.\n\n1474\n01:08:33.650 --> 01:08:36.890\nSo, that's our first step is to\ngo build our reference machine.\n\n1475\n01:08:36.890 --> 01:08:37.980\nWhich we've already got done.\n\n1476\n01:08:37.980 --> 01:08:42.013\nWe've got a server 2012 machine set up and\nwe're going to take that and\n\n1477\n01:08:42.013 --> 01:08:44.250\nwe're going to Sysprep it.\n\n1478\n01:08:44.250 --> 01:08:50.230\nSo if we flip over to Nate's screen we've\ngot our command prompt window open,\n\n1479\n01:08:50.230 --> 01:08:52.340\nhe's feeling brave,\ngoing to do it from the command line.\n\n1480\n01:08:52.340 --> 01:08:53.270\nI like it.\n\n1481\n01:08:53.270 --> 01:08:55.300\n>> What other way did you have in mind?\n\n1482\n01:08:55.300 --> 01:08:56.230\n>> Sysprep has a GUI?\n\n1483\n01:08:56.230 --> 01:08:57.050\n>> Hm?\n\n1484\n01:08:57.050 --> 01:08:58.280\n>> Sysprep has a GUI.\n\n1485\n01:08:58.280 --> 01:08:59.800\nNot many people know, I know.\n\n1486\n01:09:01.480 --> 01:09:05.210\nLittle secret that I don't tell anybody.\n\n1487\n01:09:05.210 --> 01:09:10.280\nIf you type, go to command line,\nnow if from here Sysprep is located sequel\n\n1488\n01:09:10.280 --> 01:09:16.570\nthen windows, system32, Sysprep, so if you\nchange over to there or just type it out.\n\n1489\n01:09:16.570 --> 01:09:21.580\nSequel and windows, system32, Sysprep.\n\n1490\n01:09:23.750 --> 01:09:28.577\nYeah, I don't think you did\n\n1491\n01:09:28.577 --> 01:09:33.210\na cd though, you did yeah.\n\n1492\n01:09:33.210 --> 01:09:36.120\nAnd then if you do a dir there\nyou're going to see that Sysprep\n\n1493\n01:09:36.120 --> 01:09:37.980\nis right there in that folder.\n\n1494\n01:09:37.980 --> 01:09:40.310\nNow you can type Sysprep and\n\n1495\n01:09:40.310 --> 01:09:43.570\nthe options you want right here on\nthe command line which typically do.\n\n1496\n01:09:43.570 --> 01:09:46.620\nWe're already at the command line, right?\n\n1497\n01:09:46.620 --> 01:09:49.230\nOr we can open up the GUI\nby just typing Sysprep and\n\n1498\n01:09:49.230 --> 01:09:50.200\nhitting Enter with no parameters.\n\n1499\n01:09:50.200 --> 01:09:52.180\nAnd why don't you show them?\n\n1500\n01:09:52.180 --> 01:09:54.810\nThat way it'll easier to\ntalk about the options and\n\n1501\n01:09:54.810 --> 01:09:57.998\nthen you can come back with the command\nand you can run the command if you want.\n\n1502\n01:09:57.998 --> 01:09:58.652\n>> Mm-hm.\n\n1503\n01:09:58.652 --> 01:09:59.920\nNow I I know.\n\n1504\n01:09:59.920 --> 01:10:02.090\nYeah.\nBefore that I was like frantically\n\n1505\n01:10:02.090 --> 01:10:03.430\ntrying to set this thing up\n>> Sorry.\n\n1506\n01:10:03.430 --> 01:10:07.900\n>> Beforehand, but now we, beforehand,\n\n1507\n01:10:09.220 --> 01:10:12.590\ngenerally we sign in and adjust the\nresolution to make it a little bit better.\n\n1508\n01:10:12.590 --> 01:10:14.640\n>> I'm like, go ahead and\nswitch Nate's machine, and\n\n1509\n01:10:14.640 --> 01:10:16.725\nhe's over there going wait,\nI'm not ready yet.\n\n1510\n01:10:16.725 --> 01:10:20.280\n>> [LAUGH]\n>> So yeah, you can't read that at all.\n\n1511\n01:10:20.280 --> 01:10:22.765\nBut what it says is.\n\n1512\n01:10:22.765 --> 01:10:26.770\n>> [LAUGH]\n>> System Cleanup Action if I\n\n1513\n01:10:26.770 --> 01:10:27.970\nremember right.\n\n1514\n01:10:27.970 --> 01:10:29.510\nSystem Cleanup Action.\n\n1515\n01:10:29.510 --> 01:10:30.660\n>> Yeah, isn't that great.\n\n1516\n01:10:30.660 --> 01:10:32.580\n>> And then the, that's horrible.\n\n1517\n01:10:32.580 --> 01:10:36.430\n>> So we have inter-system\nout of box experience.\n\n1518\n01:10:36.430 --> 01:10:37.550\n>> Or OOBE.\n\n1519\n01:10:37.550 --> 01:10:38.155\n>> OOBE.\n\n1520\n01:10:38.155 --> 01:10:40.190\nInter-system auto mode.\n\n1521\n01:10:40.190 --> 01:10:41.180\n>> Right.\n\n1522\n01:10:41.180 --> 01:10:44.820\nSo when we reboot this machine,\nafter it's Sysprep,\n\n1523\n01:10:44.820 --> 01:10:48.280\nit's strips all that uniquely\nidentifying information out.\n\n1524\n01:10:48.280 --> 01:10:51.300\nWhat do I want it to do when\nit boot up the next time?\n\n1525\n01:10:51.300 --> 01:10:53.260\nNormally, I want it to go into OOBE,\n\n1526\n01:10:53.260 --> 01:10:56.550\nbecause I'm going to capture\nan image of it before we boot it up.\n\n1527\n01:10:56.550 --> 01:10:59.610\nAnd then I going to put that\nimage out on several machines and\n\n1528\n01:10:59.610 --> 01:11:02.890\nthen when they start up, I want them\nto go into the welcome to Windows, or\n\n1529\n01:11:02.890 --> 01:11:06.250\nI want them to go to that out\nof box experience or OOBE.\n\n1530\n01:11:07.260 --> 01:11:10.980\nIf I need to do some more work to this\nmachine though, I could Sysprep it and\n\n1531\n01:11:10.980 --> 01:11:15.410\nthen go into audit mode, and\nthat would let me log on in the machine\n\n1532\n01:11:15.410 --> 01:11:19.600\nwithout regenerating all of that unique\ninformation and having to Sysprep it\n\n1533\n01:11:19.600 --> 01:11:24.320\nall over again, but we'll leave it on OOBE\nbecause we're ready to capture our image.\n\n1534\n01:11:24.320 --> 01:11:25.790\nAnd then you've got a check mark there for\n\n1535\n01:11:25.790 --> 01:11:29.000\ngeneralizing, and that check\nmark is what's going to tell it.\n\n1536\n01:11:29.000 --> 01:11:32.380\nHey let's strip out all the uniquely\nidentifying information.\n\n1537\n01:11:32.380 --> 01:11:34.580\nLet's generalize this image.\n\n1538\n01:11:34.580 --> 01:11:38.320\nAnd then the last drop down list\nis when it's done running Sysprep.\n\n1539\n01:11:38.320 --> 01:11:40.220\nDo you want the system to do nothing?\n\n1540\n01:11:40.220 --> 01:11:43.910\nJust sit there and blink at you or\ndo you want it to reboot.\n\n1541\n01:11:43.910 --> 01:11:45.989\nWhich means you better be\nready to capture the image.\n\n1542\n01:11:45.989 --> 01:11:50.032\nBecause if you Sysprep it and\nthen reboot that server.\n\n1543\n01:11:50.032 --> 01:11:54.157\nAnd you don't boot into win PE or\nsomething to capture the image.\n\n1544\n01:11:54.157 --> 01:11:57.449\nIt's gonna start putting all that unique\ninformation that you just got done\n\n1545\n01:11:57.449 --> 01:12:00.190\nstripping out,\nit's gonna start replacing it.\n\n1546\n01:12:00.190 --> 01:12:01.770\nAnd I've had that happen.\n\n1547\n01:12:01.770 --> 01:12:05.500\nYou choose that reboot option,\nbecause, okay, I'm sitting here,\n\n1548\n01:12:05.500 --> 01:12:08.690\nI've spent two days getting\nthis reference machine ready.\n\n1549\n01:12:08.690 --> 01:12:09.970\nDone all my Windows updates.\n\n1550\n01:12:09.970 --> 01:12:11.160\nAll my Adobe updates.\n\n1551\n01:12:11.160 --> 01:12:12.780\nI've updated the Windows updates.\n\n1552\n01:12:12.780 --> 01:12:14.960\nI've updated the Adobe updates.\n\n1553\n01:12:14.960 --> 01:12:16.880\nAnd cause you know adobe updates.\n\n1554\n01:12:16.880 --> 01:12:18.610\nI think they rewrite the entire program.\n\n1555\n01:12:18.610 --> 01:12:20.690\nThey are huge.\n\n1556\n01:12:20.690 --> 01:12:22.990\nAnyway, you get all these updates done.\n\n1557\n01:12:22.990 --> 01:12:24.220\nSo now you're ready to do it.\n\n1558\n01:12:24.220 --> 01:12:27.320\nSo you're sitting there, and all right,\nI'm just gonna instead of shutting it down\n\n1559\n01:12:27.320 --> 01:12:31.550\nand doing it the safe way, I'm going\nto let it reboot, I've got my finger on\n\n1560\n01:12:31.550 --> 01:12:35.680\nthe key, so I'm ready to network boot\nthat guy and capture that image.\n\n1561\n01:12:35.680 --> 01:12:38.190\nSo I'm just sitting there waiting for\nSysprep to finish and\n\n1562\n01:12:38.190 --> 01:12:41.061\nI'm waiting to hit that key,\nI'm sitting there, sitting there.\n\n1563\n01:12:41.061 --> 01:12:45.185\nAnd then all of a sudden, Ronnie Wong\nwalks by and says hey Mike what you doing?\n\n1564\n01:12:45.185 --> 01:12:47.864\nNothing, I'm just getting\nready to capture the image of.\n\n1565\n01:12:47.864 --> 01:12:50.998\nSon of a, and I missed it, right?\n\n1566\n01:12:50.998 --> 01:12:51.799\n>> Just like that.\n\n1567\n01:12:51.799 --> 01:12:53.262\n>> And so now I, yeah,\nso thank you Ronnie.\n\n1568\n01:12:53.262 --> 01:12:54.655\nAnd now I get to start all over.\n\n1569\n01:12:54.655 --> 01:12:57.697\n>> I mean it's like, I feel like\nI'm getting mad at him right now.\n\n1570\n01:12:57.697 --> 01:12:59.322\n>> [LAUGH]\n>> And it's just a story.\n\n1571\n01:12:59.322 --> 01:13:00.379\nIt's like, dang it Ronnie.\n\n1572\n01:13:00.379 --> 01:13:00.883\nWhy'd you do that to him, gosh?\n\n1573\n01:13:00.883 --> 01:13:03.660\n>> I know, now I gotta do it all again.\n\n1574\n01:13:03.660 --> 01:13:05.220\nSo not the whole thing again, but\n\n1575\n01:13:05.220 --> 01:13:08.540\nI would have to Sysprep it all over\nagain to strip the information back out.\n\n1576\n01:13:08.540 --> 01:13:10.487\nSo the best option really\nis to go ahead and\n\n1577\n01:13:10.487 --> 01:13:13.150\nshut it down when it's done Sysprepping.\n\n1578\n01:13:13.150 --> 01:13:17.430\nThen you know when you're ready, you can\nturn it on and hit that deployment server\n\n1579\n01:13:17.430 --> 01:13:20.940\nand capture that image, so and\nthe other option is to shut down.\n\n1580\n01:13:20.940 --> 01:13:24.560\nNow, if you wanna do it from the command\nline instead of using the GUI,\n\n1581\n01:13:24.560 --> 01:13:27.550\nwhich is typically what we do,\nwe'll do the same options there.\n\n1582\n01:13:27.550 --> 01:13:32.865\nSo, if you close the GUI and you're just\ngonna type in, well you know the drill.\n\n1583\n01:13:32.865 --> 01:13:35.361\nIt's Sysprep.\n\n1584\n01:13:35.361 --> 01:13:41.060\nAnd then either /oobe or /audit depending\non what mode you're going into.\n\n1585\n01:13:41.060 --> 01:13:46.220\nAnd then /generalize, that's just like\nputting the little check mark in the GUI.\n\n1586\n01:13:46.220 --> 01:13:49.120\nAnd then /shut down, /reboot or /quit.\n\n1587\n01:13:49.120 --> 01:13:52.410\nTo chose if you want to\nshut the machine down,\n\n1588\n01:13:52.410 --> 01:13:56.630\nreboot it, or let it sit there and\nblink at you, and say okay I'm done.\n\n1589\n01:13:56.630 --> 01:13:57.305\n>> Let's shut this thing down.\n\n1590\n01:13:57.305 --> 01:13:57.909\n>> Shut it down?\n\n1591\n01:13:57.909 --> 01:13:58.548\n>> Yep.\n\n1592\n01:13:58.548 --> 01:13:59.244\n>> All right.\n\n1593\n01:13:59.244 --> 01:13:59.767\n>> Enter?\n\n1594\n01:13:59.767 --> 01:14:00.898\n>> Enter.\n\n1595\n01:14:00.898 --> 01:14:05.773\n[NOISE] [LAUGH] Smoke starts\npouring out of the servers.\n\n1596\n01:14:05.773 --> 01:14:06.770\nSo that's it.\n\n1597\n01:14:06.770 --> 01:14:07.930\nThat's all there is to it.\n\n1598\n01:14:07.930 --> 01:14:10.152\n>> Might start pouring\nout of this one though.\n\n1599\n01:14:10.152 --> 01:14:12.275\n[LAUGH] Like my gosh,\nwe had to do all this.\n\n1600\n01:14:12.275 --> 01:14:13.436\nAnd now I have to do this too?\n\n1601\n01:14:13.436 --> 01:14:15.676\n>> [LAUGH]\n>> All right, so-\n\n1602\n01:14:15.676 --> 01:14:18.196\n>> So now it's gonna basically strip all\n\n1603\n01:14:18.196 --> 01:14:21.192\nthat info out and\nthen shut the machine down.\n\n1604\n01:14:21.192 --> 01:14:23.873\nAnd then we're ready to capture our image.\n\n1605\n01:14:23.873 --> 01:14:24.744\nBeautiful.\n\n1606\n01:14:24.744 --> 01:14:26.972\n>> All right so-\n>> So let that thing go.\n\n1607\n01:14:26.972 --> 01:14:27.950\nIt won't take long.\n\n1608\n01:14:27.950 --> 01:14:30.300\nIt shouldn't take too long.\n\n1609\n01:14:30.300 --> 01:14:33.420\nTo just prep it, or anything.\n\n1610\n01:14:33.420 --> 01:14:36.090\nWhile we're waiting I guess for\nthat guy to Sysprep,\n\n1611\n01:14:36.090 --> 01:14:41.250\nwhat we're gonna do next is use that\ncapture image that we created earlier.\n\n1612\n01:14:41.250 --> 01:14:45.330\nSo when this thing Syspreps and then\nshuts down, we're gonna boot it back up.\n\n1613\n01:14:45.330 --> 01:14:48.860\nAnd we're gonna attempt to\nconnect to the deployment server.\n\n1614\n01:14:48.860 --> 01:14:53.270\nAnd then instead of doing setup like\nwe would to pull an image down.\n\n1615\n01:14:53.270 --> 01:14:55.990\nWe're gonna choose that capture\nimage that we built and\n\n1616\n01:14:55.990 --> 01:14:59.380\ntell it we're trying to capture\nan image and put it back up.\n\n1617\n01:14:59.380 --> 01:15:02.240\nWhere I was going, I don't think I ever\ngot around to finishing my thought on\n\n1618\n01:15:02.240 --> 01:15:07.280\nthe Sysprep, deployment services will not\nlet you capture an image of a drive that's\n\n1619\n01:15:07.280 --> 01:15:08.170\nnot Sysprep.\n\n1620\n01:15:08.170 --> 01:15:12.480\nSo if we hadn't sysprepped it and we\nconnect to the deployment server and use\n\n1621\n01:15:12.480 --> 01:15:16.880\nthat capture option, we'd see nothing in\nour list of drives to capture an image of.\n\n1622\n01:15:16.880 --> 01:15:18.400\nIt wouldn't even show up.\n\n1623\n01:15:18.400 --> 01:15:23.800\nSo you have to Sysprep it first.\n\n1624\n01:15:23.800 --> 01:15:25.850\n>> Alright.\n>> [LAUGH] So did I talk long enough?\n\n1625\n01:15:25.850 --> 01:15:28.710\n>> No.\n>> No it's still going gosh golly.\n\n1626\n01:15:28.710 --> 01:15:31.030\nWhat else do we need to do.\n\n1627\n01:15:31.030 --> 01:15:34.220\nSo once we do that,\nwe'll capture that image, and\n\n1628\n01:15:34.220 --> 01:15:38.073\nthen it will take it a minute because\nit's going to capture the image and\n\n1629\n01:15:38.073 --> 01:15:41.600\nthen it's going to move it\nup to the deployment server.\n\n1630\n01:15:41.600 --> 01:15:46.720\nIt will actually capture it\nlocally first and then move it up.\n\n1631\n01:15:46.720 --> 01:15:50.890\nJust in case something happens to my\nnetwork connectivity during the capture\n\n1632\n01:15:50.890 --> 01:15:55.320\nprocess, if I captured it straight to the\ndeployment server, if the network failed\n\n1633\n01:15:55.320 --> 01:16:00.340\nor something like that during my capture,\nI'd lose that image.\n\n1634\n01:16:00.340 --> 01:16:03.220\nSo it captures it locally and\nthen moves it up to the server.\n\n1635\n01:16:03.220 --> 01:16:04.660\nSo it's a little time consuming.\n\n1636\n01:16:04.660 --> 01:16:06.120\nSo we'll probably use the magic of TV and\n\n1637\n01:16:06.120 --> 01:16:09.980\ntry to get some of this\ndone as we're going.\n\n1638\n01:16:09.980 --> 01:16:12.416\nBut at this point I\nthink it just shut down.\n\n1639\n01:16:12.416 --> 01:16:13.825\n>> Yeah.\n[CROSSTALK]\n\n1640\n01:16:13.825 --> 01:16:14.858\n>> So it shut down.\n\n1641\n01:16:14.858 --> 01:16:16.220\n>> Yep, so it shut down.\n\n1642\n01:16:16.220 --> 01:16:17.251\n>> Yep.\n>> All right, so\n\n1643\n01:16:17.251 --> 01:16:21.581\nnow what we need to do then is to go, so\nwere using virtual machines here and so\n\n1644\n01:16:21.581 --> 01:16:25.060\nnow we need to do is to get\ninto the hyperview manager.\n\n1645\n01:16:25.060 --> 01:16:32.500\nAnd tell it to boot off that network\nadapter and then crank this puppy back on.\n\n1646\n01:16:33.690 --> 01:16:34.840\n>> Let's do it\n>> All right\n\n1647\n01:16:34.840 --> 01:16:36.330\n>> Let's do it\n\n1648\n01:16:36.330 --> 01:16:37.720\n>> Are you still in the host machine?\n\n1649\n01:16:37.720 --> 01:16:39.458\n>> You know what, I believe I am.\n\n1650\n01:16:39.458 --> 01:16:43.660\n>> Are you broadcasting?\n\n1651\n01:16:43.660 --> 01:16:47.301\n>> I believe I am as well,\nI was, maybe not anymore,\n\n1652\n01:16:47.301 --> 01:16:47.821\n>> Horray.\n\n1653\n01:16:47.821 --> 01:16:48.490\n>> Yes I am.\n\n1654\n01:16:48.490 --> 01:16:49.330\n>> There you are\n>> Alright so\n\n1655\n01:16:49.330 --> 01:16:51.785\nwhat I am gonna do is I\nam going to connect to-\n\n1656\n01:16:51.785 --> 01:16:55.050\n>> Don't you have to tell it to the route\n\n1657\n01:16:55.050 --> 01:16:58.580\noff the route options?\n\n1658\n01:16:58.580 --> 01:17:01.228\nDo we need to have\na legacy network adapter?\n\n1659\n01:17:01.228 --> 01:17:04.107\n>> [SOUND] Possibly.\n\n1660\n01:17:04.107 --> 01:17:05.090\n>> Let's jump in on the settings.\n\n1661\n01:17:05.090 --> 01:17:05.620\n>> All right.\n\n1662\n01:17:05.620 --> 01:17:06.460\n>> All right.\n\n1663\n01:17:06.460 --> 01:17:12.447\nSo then, boot, it's up at the very, okay,\nso the boot options, firmware, yep.\n\n1664\n01:17:12.447 --> 01:17:14.061\nVery tippy top.\n\n1665\n01:17:14.061 --> 01:17:16.870\nAll right, so should we tell this\nguy to boot off the network adapter?\n\n1666\n01:17:16.870 --> 01:17:18.480\n>> It's in first on the list, right?\n\n1667\n01:17:18.480 --> 01:17:20.100\n>> There's file above it.\n\n1668\n01:17:20.100 --> 01:17:21.020\n>> What the heck is that?\n\n1669\n01:17:21.020 --> 01:17:23.470\n>> Let's click that network adapter and\nthen let's move him up.\n\n1670\n01:17:23.470 --> 01:17:28.105\nAll right, and all right, so\n[COUGH] so now we need to add\n\n1671\n01:17:28.105 --> 01:17:32.875\na legacy network adapter,\nbecause those will let it pixie boot.\n\n1672\n01:17:32.875 --> 01:17:35.185\nFor some reason these adapters don't.\n\n1673\n01:17:35.185 --> 01:17:37.125\n>> All right, so\nlet's add a little hardware.\n\n1674\n01:17:37.125 --> 01:17:40.055\n>> Hardware and legacy adapters.\n\n1675\n01:17:40.055 --> 01:17:40.917\n>> Legacy adapters\n>> In the list.\n\n1676\n01:17:40.917 --> 01:17:42.367\n>> All right.\n>> But I think that's gonna be okay.\n\n1677\n01:17:42.367 --> 01:17:43.597\nI ran into this before.\n\n1678\n01:17:43.597 --> 01:17:44.517\n>> Yeah, I'm pretty sure.\n\n1679\n01:17:44.517 --> 01:17:47.697\nI was thinking that the new\nones actually did support-\n\n1680\n01:17:47.697 --> 01:17:49.377\n>> The generation two?\n\n1681\n01:17:49.377 --> 01:17:53.212\n>> Yeah, I think they do allow the pixie,\ncuz that was kind of annoying.\n\n1682\n01:17:53.212 --> 01:17:56.872\n>> Let's [CROSSTALK]\n>> Let me remove that network adapter\n\n1683\n01:17:56.872 --> 01:17:57.521\naltogether.\n\n1684\n01:17:57.521 --> 01:17:59.950\nSo we've got a network adapter in there.\n\n1685\n01:17:59.950 --> 01:18:04.860\nSo what I'm gonna do is, I'm gonna first\nconnect to it because within the virtual\n\n1686\n01:18:04.860 --> 01:18:09.400\nmachine, sometimes it can be\ntricky to capture or to get that.\n\n1687\n01:18:09.400 --> 01:18:10.800\n>> You click cancel.\n\n1688\n01:18:10.800 --> 01:18:12.660\n>> I cancelled because we\ndidn't change anything.\n\n1689\n01:18:12.660 --> 01:18:14.730\n>> We have to tell it to boot\noff that network adapter.\n\n1690\n01:18:15.914 --> 01:18:16.901\n>> Right?\n\n1691\n01:18:16.901 --> 01:18:18.875\nYeah.\n\n1692\n01:18:18.875 --> 01:18:20.639\n>> What is that file?\n\n1693\n01:18:20.639 --> 01:18:22.841\n>> I don't know.\n\n1694\n01:18:22.841 --> 01:18:24.362\n>> Pretty shit, don't you?\n\n1695\n01:18:24.362 --> 01:18:27.821\n>> [LAUGH] All right, So we'll move\nthat network adapter up, we'll click OK.\n\n1696\n01:18:27.821 --> 01:18:29.342\nSo now it's good.\n\n1697\n01:18:29.342 --> 01:18:31.844\nWhat I would have done is\nlet the system boot and\n\n1698\n01:18:31.844 --> 01:18:34.282\nthen hit F12 to get your\none time boot menu,\n\n1699\n01:18:34.282 --> 01:18:38.340\nbecause I might not want it to boot to\nthe network adapter first every time.\n\n1700\n01:18:39.470 --> 01:18:41.010\nSo by changing those options,\n\n1701\n01:18:41.010 --> 01:18:45.810\nwe are changing the boot options on\nthe computer itself, so now we're good.\n\n1702\n01:18:45.810 --> 01:18:47.800\nAnd I should be able to connect to it.\n\n1703\n01:18:47.800 --> 01:18:50.630\n>> You know, you're right Mike because\nwe did tell it to boot off that\n\n1704\n01:18:50.630 --> 01:18:51.680\nnetwork adapter.\n\n1705\n01:18:51.680 --> 01:18:52.550\n>> Mm hm.\n\n1706\n01:18:52.550 --> 01:18:55.980\n>> When it's done doing its install and\nwhen it reboots again.\n\n1707\n01:18:55.980 --> 01:18:56.760\nIt's gonna immediately.\n\n1708\n01:18:56.760 --> 01:18:57.680\n>> We're going to end up in a boot loop.\n\n1709\n01:18:57.680 --> 01:18:59.500\n>> Go back into a pixie boot loop.\n\n1710\n01:18:59.500 --> 01:19:02.312\n>> Yup and then it's gonna try\nto deploy the image all again.\n\n1711\n01:19:02.312 --> 01:19:04.030\n>> All right so, what do you want to do?\n\n1712\n01:19:04.030 --> 01:19:05.400\n>> I say we be brave and\n\n1713\n01:19:05.400 --> 01:19:07.740\nleave it the way it was\n>> Yeah?\n\n1714\n01:19:07.740 --> 01:19:09.570\n>> Yeah, we can always do it again.\n\n1715\n01:19:09.570 --> 01:19:12.420\n>> Okay, so\nwhat button are you going to push then?\n\n1716\n01:19:12.420 --> 01:19:13.739\n>> I don't know\n>> Escape.\n\n1717\n01:19:13.739 --> 01:19:14.505\n>> Escape?\n\n1718\n01:19:14.505 --> 01:19:17.222\n>> No, I'm gonna start the machine.\n\n1719\n01:19:17.222 --> 01:19:19.200\n>> Okay, All right.\n\n1720\n01:19:19.200 --> 01:19:22.707\n>> All right, so what I'm gonna do\nnow this fails on me, then, hey,\n\n1721\n01:19:22.707 --> 01:19:23.745\nwe fail on live TV.\n\n1722\n01:19:23.745 --> 01:19:24.420\n>> [LAUGH]\n>> But\n\n1723\n01:19:24.420 --> 01:19:27.550\nwhat I would do is I would\nsay start the machine.\n\n1724\n01:19:27.550 --> 01:19:29.260\nAll right.\n\n1725\n01:19:29.260 --> 01:19:30.020\nOkay.\nAnd\n\n1726\n01:19:30.020 --> 01:19:35.330\nthen what I'm gonna try to do is hit\nmy F12 to do my one time boot menu.\n\n1727\n01:19:38.000 --> 01:19:39.930\nAnd it's not gonna give me the boot.\n\n1728\n01:19:39.930 --> 01:19:43.826\nLet's see if I can see here.\n\n1729\n01:19:43.826 --> 01:19:48.074\n[SOUND] Tab for menu.\n\n1730\n01:19:48.074 --> 01:19:49.117\nIt's not going to let me do it is it.\n\n1731\n01:19:55.334 --> 01:20:04.269\n[INAUDIBLE]\nAll right,\n\n1732\n01:20:04.269 --> 01:20:10.181\nso let's shutdown it down before I\nhose up our sys prep image there.\n\n1733\n01:20:10.181 --> 01:20:11.361\nSo let's do that than.\n\n1734\n01:20:11.361 --> 01:20:13.565\nLet's move that guy back up.\n\n1735\n01:20:13.565 --> 01:20:16.050\nOops.\n\n1736\n01:20:20.042 --> 01:20:20.786\nLike so?\n\n1737\n01:20:20.786 --> 01:20:24.152\n>> Now it's started up?\n\n1738\n01:20:24.152 --> 01:20:30.714\n>> Yup\n>> And\n\n1739\n01:20:30.714 --> 01:20:32.541\nthere we can see that it is PXE booting.\n\n1740\n01:20:33.620 --> 01:20:36.490\nSo hopefully it's reaching out now\nto contact my deployment server,\n\n1741\n01:20:36.490 --> 01:20:37.640\nget an IP address.\n\n1742\n01:20:37.640 --> 01:20:42.230\nI can see that it is found the server,\nescape to cancel network boot service.\n\n1743\n01:20:42.230 --> 01:20:47.000\nThat option that we chose,\nto not have to hit F12 to\n\n1744\n01:20:47.000 --> 01:20:50.970\ncontinue the PXE boot is kicking in there.\n\n1745\n01:20:50.970 --> 01:20:53.630\nAnd I'm gonna full screen this guy so\nI can see.\n\n1746\n01:20:53.630 --> 01:20:55.890\nCuz, I'm not, am I?\n\n1747\n01:20:55.890 --> 01:20:57.985\nThe resolution on this\nguy is a little bit low.\n\n1748\n01:21:00.567 --> 01:21:05.409\n>> Now what this guy should be doing then\nis pulling down the information, right?\n\n1749\n01:21:05.409 --> 01:21:12.200\nThat TFTP and pulling it down but I guess\nwe'll let this guy just grind it out.\n\n1750\n01:21:12.200 --> 01:21:15.149\n>> Yep, he looks like he's connected,\nso he's got an IP address there,\n\n1751\n01:21:15.149 --> 01:21:16.862\nhe's found the server.\n\n1752\n01:21:16.862 --> 01:21:20.852\nSo he should be requesting that WDS\nclient at this point and then using TFTP.\n\n1753\n01:21:20.852 --> 01:21:23.222\nI'm kinda surprised it\nhas not kicked off yet.\n\n1754\n01:21:23.222 --> 01:21:25.512\nIt should be pushing\nthat down to the machine.\n\n1755\n01:21:25.512 --> 01:21:29.189\nAnd then we should get a list of boot\nimages because we have that capture image\n\n1756\n01:21:29.189 --> 01:21:32.232\nas well as the setup image\n>> And then we can capture that,\n\n1757\n01:21:32.232 --> 01:21:34.289\nwe'll pick that capture image.\n\n1758\n01:21:34.289 --> 01:21:37.030\n>> Now up there at the tops,\nthe client IP, right?\n\n1759\n01:21:37.030 --> 01:21:43.920\nSo the .211, that's a reservation,\nthat's setup for this machine.\n\n1760\n01:21:43.920 --> 01:21:46.610\nIs that going to hinder with anything?\n\n1761\n01:21:46.610 --> 01:21:52.655\n>> No, I'm pretty sure our DHCP server's\ndoing both DHCP and boot P, I believe.\n\n1762\n01:21:52.655 --> 01:21:56.381\nSo he should work just fine.\n\n1763\n01:21:56.381 --> 01:21:59.121\nI'm surprised he's going so slow though.\n\n1764\n01:22:06.040 --> 01:22:11.760\nHm, it's thinking about it.\n\n1765\n01:22:11.760 --> 01:22:13.900\nWe'll let it grind out.\n\n1766\n01:22:13.900 --> 01:22:14.770\nLet it do its thing.\n\n1767\n01:22:14.770 --> 01:22:17.030\nWe are coming right up on\nour break time here so.\n\n1768\n01:22:17.030 --> 01:22:22.980\n>> So, why don't we go ahead and\ntake a quick break.\n\n1769\n01:22:22.980 --> 01:22:26.130\nWe'll let this thing try to connect and\nthen we'll stop it.\n\n1770\n01:22:26.130 --> 01:22:28.160\nI don't want you guys to miss anything.\n\n1771\n01:22:28.160 --> 01:22:31.900\nSo we'll make sure we stop it when\nit comes up to that first screen.\n\n1772\n01:22:31.900 --> 01:22:33.130\nWe won't go any further.\n\n1773\n01:22:33.130 --> 01:22:36.540\nBut this way, we don't have to sit here\nand watch it, and wait for it to connect.\n\n1774\n01:22:36.540 --> 01:22:39.863\nLets take a quick break get up and do\nsome jumping jacks get the blood flowing\n\n1775\n01:22:39.863 --> 01:22:41.888\nagain and\nget yourself some fresh caffeine.\n\n1776\n01:22:41.888 --> 01:22:44.511\nAnd we'll meet back here in a few and\nwe'll finish this up.\n\n1777\n01:22:44.511 --> 01:22:51.988\n[MUSIC]\n\n1778\n01:22:51.988 --> 01:22:52.780\nAll right.\n\n1779\n01:22:52.780 --> 01:22:54.070\nWelcome back.\n\n1780\n01:22:54.070 --> 01:22:58.990\nAll right so during the break,\nwe started looking at it and so\n\n1781\n01:22:58.990 --> 01:23:04.020\nwe found out why it's hanging, which\nby the way it is still sitting there.\n\n1782\n01:23:04.020 --> 01:23:05.388\n>> Yes.\n>> Waiting, it's waiting,\n\n1783\n01:23:05.388 --> 01:23:06.550\n>> Waiting.\n\n1784\n01:23:06.550 --> 01:23:09.090\n>> But now we know why it's waiting.\n\n1785\n01:23:09.090 --> 01:23:10.230\n>> We told it to wait, didn't we?\n\n1786\n01:23:10.230 --> 01:23:10.730\n>> Yeah.\n\n1787\n01:23:10.730 --> 01:23:13.880\n>> We kinda forgot that\nwe had set that option to\n\n1788\n01:23:13.880 --> 01:23:18.090\nrequire administrative approval for\nunknown devices.\n\n1789\n01:23:18.090 --> 01:23:20.770\nSo yes, it is waiting for\nus to go back in there.\n\n1790\n01:23:20.770 --> 01:23:23.670\nNow, it didn't pop up the message\nlike it was supposed to, so\n\n1791\n01:23:23.670 --> 01:23:25.790\nthat's something we can\nlook at at another time.\n\n1792\n01:23:25.790 --> 01:23:29.120\nBut what should have happened was\nit should have said Request ID, and\n\n1793\n01:23:29.120 --> 01:23:30.970\nthen given us a number.\n\n1794\n01:23:30.970 --> 01:23:34.330\nAnd then said whatever Nate put in for\nthat custom message.\n\n1795\n01:23:34.330 --> 01:23:36.440\nAnd then we would of talked\nto the administrator and\n\n1796\n01:23:36.440 --> 01:23:39.940\nsaid hey, it's telling me I'm Request ID\n47 can you approve it for me?\n\n1797\n01:23:39.940 --> 01:23:42.180\nAnd then Nate's gonna go in and\napprove this, I believe.\n\n1798\n01:23:44.022 --> 01:23:48.600\nAll right, so\n\n1799\n01:23:48.600 --> 01:23:52.310\nin all those folders, there is\nthe one that says pending devices.\n\n1800\n01:23:52.310 --> 01:23:55.170\nAnd we click on pending devices,\nand it's already pulled up.\n\n1801\n01:23:55.170 --> 01:23:55.990\nBut so there we go.\n\n1802\n01:23:55.990 --> 01:23:59.910\nSo we have Request ID one,\nand then we've got this big,\n\n1803\n01:23:59.910 --> 01:24:04.830\nlong number, and\nthat's what a then we add what it is.\n\n1804\n01:24:04.830 --> 01:24:07.040\nAnd it's pending, and it's waiting, and\n\n1805\n01:24:07.040 --> 01:24:09.150\nI guess it's gonna sit there and\nwait all day.\n\n1806\n01:24:09.150 --> 01:24:09.960\n>> It would have waited forever.\n\n1807\n01:24:09.960 --> 01:24:11.490\n>> If we didn't approve this guy.\n\n1808\n01:24:11.490 --> 01:24:13.041\n>> So Nate's gonna approve it for us, and\n\n1809\n01:24:13.041 --> 01:24:16.338\nthen we'll need to flip back over here to\nsee what happens when that approval goes.\n\n1810\n01:24:16.338 --> 01:24:18.940\n>> All right, so we will just approve.\n\n1811\n01:24:18.940 --> 01:24:23.000\nIt says the pending device\nwas approved successfully.\n\n1812\n01:24:23.000 --> 01:24:24.745\n>> Now hopefully\n>> Oops.\n\n1813\n01:24:24.745 --> 01:24:27.084\n>> Oops, I thought I did that.\n\n1814\n01:24:27.084 --> 01:24:29.029\n>> No.\n>> All right, there it goes,\n\n1815\n01:24:29.029 --> 01:24:30.650\ncontacting the server.\n\n1816\n01:24:30.650 --> 01:24:33.210\nAnd let me hit my down\narrow to stop that counter.\n\n1817\n01:24:33.210 --> 01:24:36.500\nSo now that it has been approved,\nit immediately kicked in.\n\n1818\n01:24:36.500 --> 01:24:38.370\nAnd there's our two boot\nimages that we had, right?\n\n1819\n01:24:38.370 --> 01:24:42.820\nThere's our setup image,\nif I wanted to pull an image down.\n\n1820\n01:24:42.820 --> 01:24:46.810\nAnd there's my capture image that we\ncreated based off of the setup image\n\n1821\n01:24:46.810 --> 01:24:48.250\nthat I can use to capture an image.\n\n1822\n01:24:48.250 --> 01:24:52.390\nSo, I should be able to hit capture image,\nand hit Enter.\n\n1823\n01:24:54.200 --> 01:24:56.020\nAnd now as you can see\ndown there at the bottom,\n\n1824\n01:24:56.020 --> 01:25:01.710\nit is transferring over that capture.wim,\npretty quickly.\n\n1825\n01:25:01.710 --> 01:25:04.090\n>> And\nit's gonna know that it's a capture.\n\n1826\n01:25:04.090 --> 01:25:04.610\n>> Yep.\n>> Yep.\n\n1827\n01:25:06.180 --> 01:25:08.870\nSo, now what should happen is\nit should examine my drives and\n\n1828\n01:25:08.870 --> 01:25:12.830\nshow my sys prep drives and\nallow me to capture an image of those.\n\n1829\n01:25:12.830 --> 01:25:15.020\nIt's gonna ask me,\nit's got a little wizard that pops up,\n\n1830\n01:25:15.020 --> 01:25:18.360\nso this is what's different\nfrom that normal setup image.\n\n1831\n01:25:18.360 --> 01:25:22.010\nIt says you wanna capture an image, okay.\n\n1832\n01:25:22.010 --> 01:25:23.830\nSo I click Next on our wizard.\n\n1833\n01:25:24.980 --> 01:25:27.483\n>> If Don was here we\nwould've had to read it.\n\n1834\n01:25:27.483 --> 01:25:28.255\n>> Well, we could read it.\n\n1835\n01:25:28.255 --> 01:25:29.900\n>> [LAUGH]\n>> And it's gonna say hey, click Next.\n\n1836\n01:25:29.900 --> 01:25:31.615\n>> [LAUGH]\n>> If you want to capture your image.\n\n1837\n01:25:31.615 --> 01:25:34.595\nSo I'm gonna click Next,\nand capture that image.\n\n1838\n01:25:34.595 --> 01:25:36.865\nAnd then there's my volume to capture and\n\n1839\n01:25:36.865 --> 01:25:39.525\nI can see that C shows up\nbecause I did sysprep it.\n\n1840\n01:25:39.525 --> 01:25:42.795\nIf it wasn't sysprepped\nthat wouldn't show up.\n\n1841\n01:25:42.795 --> 01:25:44.645\nAnd then I'm gonna give it a name.\n\n1842\n01:25:44.645 --> 01:25:52.290\nAnd I'll just call this, I'll call it\ncustom, what's on that server, anything?\n\n1843\n01:25:52.290 --> 01:25:53.230\nNo, just-\n>> It's the default\n\n1844\n01:25:53.230 --> 01:25:53.940\nserver image, isn't it?\n\n1845\n01:25:53.940 --> 01:25:56.700\n>> It's just stuff that we've used for\nprevious demos.\n\n1846\n01:25:56.700 --> 01:26:00.940\n>> Yeah, I'll just call it Lab Server,\nall right?\n\n1847\n01:26:02.090 --> 01:26:02.900\n>> There we go.\n\n1848\n01:26:02.900 --> 01:26:05.840\n>> And then you could put a fancy\ndescription if you wanted to, but\n\n1849\n01:26:05.840 --> 01:26:07.420\nI think Lab Server's good enough.\n\n1850\n01:26:07.420 --> 01:26:08.790\nOr I guess if we were gonna,\n\n1851\n01:26:08.790 --> 01:26:10.860\nif Don was here, we'd probably\nfill it all out, wouldn't we?\n\n1852\n01:26:10.860 --> 01:26:11.810\n>> Yeah, some, a little bit.\n\n1853\n01:26:11.810 --> 01:26:16.918\n>> So let's say that this is\n\n1854\n01:26:16.918 --> 01:26:24.230\nthe base image for all lab servers.\n\n1855\n01:26:24.230 --> 01:26:25.575\n>> Sweet.\n>> Is that Don-like?\n\n1856\n01:26:25.575 --> 01:26:27.160\n>> Yes.\n>> Don-esque?\n\n1857\n01:26:27.160 --> 01:26:29.360\n>> Yeah, there's not a capital T on this,\nbut that's okay.\n\n1858\n01:26:29.360 --> 01:26:33.200\n>> That is crazy,\nthat is just not proper is it.\n\n1859\n01:26:33.200 --> 01:26:35.940\nIf I'm going to use a capital letter then,\n\n1860\n01:26:35.940 --> 01:26:40.670\nI'm going to have to period at the end,\nmake it all proper.\n\n1861\n01:26:40.670 --> 01:26:42.200\n>> Put like a comma.\n\n1862\n01:26:42.200 --> 01:26:45.120\nThen whoever goes through it is like wait,\nmy gosh.\n\n1863\n01:26:45.120 --> 01:26:46.061\n>> There's something more.\n\n1864\n01:26:46.061 --> 01:26:46.870\n>> What else do we need.\n>> What about the rest of it?\n\n1865\n01:26:46.870 --> 01:26:47.605\n>> Call help desk.\n\n1866\n01:26:47.605 --> 01:26:49.230\n[LAUGH]\n>> All right.\n\n1867\n01:26:49.230 --> 01:26:50.818\nSo, let's do it on next with this guy.\n\n1868\n01:26:50.818 --> 01:26:51.614\n>> You make my laugh.\n\n1869\n01:26:51.614 --> 01:26:53.180\nAll right, so yep, let's look next.\n\n1870\n01:26:54.570 --> 01:26:58.280\nNow I've got to tell it where\nI want to store this image, so\n\n1871\n01:26:58.280 --> 01:26:59.290\nI'm gonna click Browse.\n\n1872\n01:27:00.645 --> 01:27:03.355\nAnd I'm just gonna go over to my C drive.\n\n1873\n01:27:05.965 --> 01:27:07.665\n>> So we can stick it on the same drive?\n\n1874\n01:27:07.665 --> 01:27:10.695\n>> Yeah, I know, it's kinda weird, right?\n\n1875\n01:27:10.695 --> 01:27:15.500\nAnd I'm gonna give it\na name of Lab Server.\n\n1876\n01:27:16.570 --> 01:27:17.470\nThat's the actual filename.\n\n1877\n01:27:18.500 --> 01:27:21.810\nAnd it's not gonna let me save it there.\n\n1878\n01:27:21.810 --> 01:27:22.530\n>> Maybe open it up?\n\n1879\n01:27:24.240 --> 01:27:26.230\n>> Actually, you know what?\nDuh, I am kinda silly.\n\n1880\n01:27:26.230 --> 01:27:33.200\nThat is the drive that were\ncapturing the image of,\n\n1881\n01:27:34.630 --> 01:27:38.580\nso let me just throw it there.\n\n1882\n01:27:38.580 --> 01:27:41.480\nAnd I'll call it again,\nI'm gonna call it lab server.\n\n1883\n01:27:41.480 --> 01:27:47.226\nAnd I'll click Save.\n\n1884\n01:27:47.226 --> 01:27:49.360\nAnd then I want to upload,\n\n1885\n01:27:49.360 --> 01:27:54.601\nI want to upload that image to\nMy deployment server, all right?\n\n1886\n01:27:54.601 --> 01:27:58.640\nSo then I've got to find my\ndeployment server which is.\n\n1887\n01:27:58.640 --> 01:28:05.662\n>> This guy, his name is ITprotv-dc2.\n\n1888\n01:28:09.442 --> 01:28:10.358\n>> Connect.\n\n1889\n01:28:13.009 --> 01:28:16.213\nAnd I'll give it a user name and password.\n\n1890\n01:28:25.836 --> 01:28:28.460\nAnd it didn't like that.\n\n1891\n01:28:28.460 --> 01:28:30.804\n>> That's the domain\ncontroller you just used Mike.\n\n1892\n01:28:30.804 --> 01:28:31.563\n>> Okay.\n\n1893\n01:28:31.563 --> 01:28:33.843\n>> We can try that.\n\n1894\n01:28:33.843 --> 01:28:37.848\n[INAUDIBLE]\n>> How do you spell Mike?\n\n1895\n01:28:37.848 --> 01:28:39.755\n>> M-I-K-E.\n\n1896\n01:28:39.755 --> 01:28:45.320\n>> [LAUGH] Now that I've connected and I\nhave credentials that give me permissions,\n\n1897\n01:28:45.320 --> 01:28:47.830\nI should be able to look at\nall of the groups we've got.\n\n1898\n01:28:47.830 --> 01:28:50.300\nSelect 2012, the only group we've got.\n\n1899\n01:28:50.300 --> 01:28:52.720\nI click Next and there it goes.\n\n1900\n01:28:52.720 --> 01:28:53.390\n>> There it goes.\n\n1901\n01:28:53.390 --> 01:28:55.390\n>> I don't know if we\nsaid we were on break or\n\n1902\n01:28:55.390 --> 01:28:58.980\nnot, but what it's going to do is it's\ngoing to capture, we did talk about that.\n\n1903\n01:28:58.980 --> 01:29:02.580\nI said it was going to capture locally and\nthen move it up to the deployment server.\n\n1904\n01:29:02.580 --> 01:29:05.000\nSo that'll actually take some time.\n\n1905\n01:29:05.000 --> 01:29:09.890\nI wish we, yeah,\nwe didn't plan that out too well.\n\n1906\n01:29:09.890 --> 01:29:15.650\n>> But it'll finish, and be in the in\nour install.wim folder there or\n\n1907\n01:29:15.650 --> 01:29:19.160\nin the install folder then\nwe can select from it.\n\n1908\n01:29:19.160 --> 01:29:24.430\nNow, if we're doing the same thing but\nnot doing a sys script image then it\n\n1909\n01:29:24.430 --> 01:29:30.800\nwould pull up and\nwe'd select what we wanna do.\n\n1910\n01:29:30.800 --> 01:29:33.160\nAnd then it would prompt us for\ncredentials.\n\n1911\n01:29:33.160 --> 01:29:37.380\nAnd so\nwe'd enter in our domain credentials and\n\n1912\n01:29:37.380 --> 01:29:43.170\nit just greet us with the regular\nstandard install front from the media.\n\n1913\n01:29:43.170 --> 01:29:45.510\nAnd you just click through it,\nyou choose the drive.\n\n1914\n01:29:45.510 --> 01:29:49.950\n>> What we could do, we do have, why don't\nwe, let's whip up a virtual machine and\n\n1915\n01:29:49.950 --> 01:29:51.760\npull down while we're waiting for\nthis thing to capture.\n\n1916\n01:29:51.760 --> 01:29:53.180\nCuz it is gonna take some time.\n\n1917\n01:29:53.180 --> 01:29:56.510\nWhy don't we pull down that default image?\n\n1918\n01:29:56.510 --> 01:29:57.440\n>> Yeah.\n>> Let's do that.\n\n1919\n01:29:57.440 --> 01:29:58.930\nLet's create a new virtual machine.\n\n1920\n01:29:58.930 --> 01:29:59.845\nYou wanna do it or you want me to do it?\n\n1921\n01:29:59.845 --> 01:30:02.330\n>> You're on the [CROSSTALK]\n>> All right, let's do it.\n\n1922\n01:30:02.330 --> 01:30:02.920\nAll right.\n\n1923\n01:30:02.920 --> 01:30:05.309\nSo, what I'm gonna do is I'm gonna\ncreate a new virtual machine here.\n\n1924\n01:30:06.790 --> 01:30:08.870\nAnd pretty much you use\njust mostly the defaults,\n\n1925\n01:30:08.870 --> 01:30:14.130\nsince we're just doing this as a demo I'll\ncall it, what's our naming convention?\n\n1926\n01:30:14.130 --> 01:30:15.240\n>> Let's do Protv.\n\n1927\n01:30:17.140 --> 01:30:18.210\n>> Protv dash?\n\n1928\n01:30:18.210 --> 01:30:19.360\n>> Dash VR4.\n>> Dash VR4.\n\n1929\n01:30:19.360 --> 01:30:20.620\n>> Is that all right?\n\n1930\n01:30:22.160 --> 01:30:26.660\nAll right, and\nI'll leave it in the default locations.\n\n1931\n01:30:26.660 --> 01:30:28.560\nNext, do a-\n>> Gen 2.\n\n1932\n01:30:28.560 --> 01:30:30.890\n>> Gen 2, SDL fancy, we'll click Next.\n\n1933\n01:30:32.100 --> 01:30:33.160\nStart up memory.\n\n1934\n01:30:33.160 --> 01:30:34.100\nWhat do we got left over there?\n\n1935\n01:30:34.100 --> 01:30:35.270\nCan I get two gigs.\n\n1936\n01:30:35.270 --> 01:30:36.520\n>> Let's do one gig.\n\n1937\n01:30:36.520 --> 01:30:37.434\n>> One gig.\n\n1938\n01:30:39.999 --> 01:30:41.290\n>> All right.\n\n1939\n01:30:41.290 --> 01:30:42.640\nSounds good.\n\n1940\n01:30:42.640 --> 01:30:45.750\n>> We'll drop and connect it to the-\n>> The ProTV LAN.\n\n1941\n01:30:45.750 --> 01:30:48.305\n>> ProTV LAN,\nwhich is where my deployment server is.\n\n1942\n01:30:48.305 --> 01:30:50.650\n>> Mm-hm.\n>> And then for the hard-drive,\n\n1943\n01:30:50.650 --> 01:30:54.930\nwe'll just use the default,\ndynamically expanding 127 gigabyte drive.\n\n1944\n01:30:54.930 --> 01:30:57.090\nClick Next.\n\n1945\n01:30:58.220 --> 01:31:01.130\nAnd for operating system,\nnow we could choose,\n\n1946\n01:31:01.130 --> 01:31:04.730\nInstall an operating system from a network\nbased installation server, here.\n\n1947\n01:31:04.730 --> 01:31:07.310\nOr we could go and,\nit should do the same thing.\n\n1948\n01:31:07.310 --> 01:31:08.980\nIt should just bring it into pixi boot.\n\n1949\n01:31:08.980 --> 01:31:12.650\nYou know I have not\nactually used that option.\n\n1950\n01:31:12.650 --> 01:31:13.670\nLets do that.\n\n1951\n01:31:13.670 --> 01:31:14.920\nIf I didn't pick that.\n\n1952\n01:31:14.920 --> 01:31:17.840\nIf I just left it on install\nan operating system later,\n\n1953\n01:31:17.840 --> 01:31:20.466\nI'd have bare metal machine\nwith nothing on the hard drive.\n\n1954\n01:31:20.466 --> 01:31:22.830\nI would start it up, and\nit would fail to boot, right?\n\n1955\n01:31:22.830 --> 01:31:25.710\nAnd I'd hit F12 to get my\none time boot menu, and\n\n1956\n01:31:25.710 --> 01:31:27.300\nI would boot to the network that way.\n\n1957\n01:31:27.300 --> 01:31:28.690\nAnd then I can connect.\n\n1958\n01:31:28.690 --> 01:31:30.260\nThis should do the same thing.\n\n1959\n01:31:30.260 --> 01:31:33.160\nWhere it's just gonna go\nautomatically connect to the network\n\n1960\n01:31:33.160 --> 01:31:34.319\ninstead of me having to hit anything.\n\n1961\n01:31:35.440 --> 01:31:36.150\nSo we click Next.\n\n1962\n01:31:37.410 --> 01:31:39.100\nAnd then finish.\n\n1963\n01:31:39.100 --> 01:31:41.990\nAnd now I should have\na brand new virtual machine\n\n1964\n01:31:43.140 --> 01:31:48.110\nwhere we are going to connect to it and\nstart it up.\n\n1965\n01:31:48.110 --> 01:31:51.830\nAnd then let's see if we\nget our message this time.\n\n1966\n01:31:51.830 --> 01:31:53.500\nNo, that's not the message I wanted.\n\n1967\n01:31:53.500 --> 01:31:54.920\nNot enough memory in the system to start.\n\n1968\n01:31:54.920 --> 01:31:56.610\nSo we don't have a gig left in here.\n\n1969\n01:31:56.610 --> 01:31:57.960\nWhat do we have running that I can kill.\n\n1970\n01:31:59.170 --> 01:32:00.560\nNothing.\n\n1971\n01:32:00.560 --> 01:32:02.110\nJust those two machines.\n\n1972\n01:32:02.110 --> 01:32:03.640\n>> Go to the top.\nIs client running?\n\n1973\n01:32:03.640 --> 01:32:04.960\n>> C 01 is running.\n\n1974\n01:32:04.960 --> 01:32:05.460\n>> Shut him down.\n\n1975\n01:32:09.200 --> 01:32:15.850\nYep, we'll get that guy a moment or\ntwo to shut down.\n\n1976\n01:32:15.850 --> 01:32:18.480\n>> Up time seven hours.\n\n1977\n01:32:18.480 --> 01:32:23.740\nWow.\nLonger than that.\n\n1978\n01:32:23.740 --> 01:32:25.410\n>> Must have turned it on\nearlier today for something.\n\n1979\n01:32:27.440 --> 01:32:28.100\n>> Yeah.\n\n1980\n01:32:28.100 --> 01:32:28.990\n>> Come on baby, shut down.\n\n1981\n01:32:28.990 --> 01:32:29.530\nThere it goes.\n\n1982\n01:32:30.830 --> 01:32:32.510\n>> I guess we could just yank the power.\n\n1983\n01:32:32.510 --> 01:32:34.720\nI mean we roll back these\nthings all the time.\n\n1984\n01:32:34.720 --> 01:32:35.962\n>> Yeah, I thought about that,\n>> [CROSSTALK]\n\n1985\n01:32:35.962 --> 01:32:37.783\n>> But then you guys would have lit up my\n\n1986\n01:32:37.783 --> 01:32:39.925\nchat room with, I can't believe\n>> [LAUGH]\n\n1987\n01:32:39.925 --> 01:32:40.998\n>> You just pulled the plug on that\n\n1988\n01:32:40.998 --> 01:32:42.250\nmachine like that.\n\n1989\n01:32:42.250 --> 01:32:43.640\n>> Poor guy.\nI shouldn't have [CROSSTALK].\n\n1990\n01:32:43.640 --> 01:32:46.070\n>> That's not very nice.\n\n1991\n01:32:46.070 --> 01:32:47.620\n>> So yeah, he did have two gigs.\n\n1992\n01:32:47.620 --> 01:32:52.600\nRemember in Windows when you go to do the\nshutdown, and they pop a little message\n\n1993\n01:32:52.600 --> 01:32:55.640\nthat's like it's now safe to shut-\n>> Shut this machine down?\n\n1994\n01:32:55.640 --> 01:32:56.730\n>> Yeah.\n\n1995\n01:32:56.730 --> 01:32:57.680\nWas that Windows 98?\n\n1996\n01:32:57.680 --> 01:32:59.800\n>> 95?\nDid 98 do it?\n\n1997\n01:32:59.800 --> 01:33:01.757\n>> I think it might have too.\n\n1998\n01:33:01.757 --> 01:33:06.380\nOr maybe it was 95.\n\n1999\n01:33:06.380 --> 01:33:07.360\n>> All right, Mike.\n\n2000\n01:33:07.360 --> 01:33:08.670\n>> All right, it is shutting down.\n\n2001\n01:33:08.670 --> 01:33:12.200\nIf I try to connect to it,\nit'll shut down faster, right?\n\n2002\n01:33:12.200 --> 01:33:14.602\n>> My gosh.\n>> [LAUGH]\n\n2003\n01:33:14.602 --> 01:33:16.470\n>> Is it just waiting?\n\n2004\n01:33:16.470 --> 01:33:17.584\nQuick, click on it.\n\n2005\n01:33:20.510 --> 01:33:21.990\n>> Okay, yank the power, yank the power.\n\n2006\n01:33:21.990 --> 01:33:22.820\n>> Okay.\n>> Yank the power.\n\n2007\n01:33:24.550 --> 01:33:26.193\nIn the middle of an update even.\n\n2008\n01:33:26.193 --> 01:33:27.930\n>> [LAUGH]\n>> That's gonna raise a ruckus in\n\n2009\n01:33:27.930 --> 01:33:28.760\nthe chatroom.\n\n2010\n01:33:28.760 --> 01:33:31.497\n>> The secret though\nis gonna be just fine.\n\n2011\n01:33:31.497 --> 01:33:32.006\n[LAUGH]\n>> [LAUGH]\n\n2012\n01:33:32.006 --> 01:33:34.126\n>> It'll finish when it turns back on.\n\n2013\n01:33:34.126 --> 01:33:35.452\n>> Don't tell them that though.\n\n2014\n01:33:35.452 --> 01:33:40.170\nAll right so now we're gonna go back\nover to our blank machine here.\n\n2015\n01:33:40.170 --> 01:33:42.310\n>> Yep.\n>> So we just build this virtual machine,\n\n2016\n01:33:42.310 --> 01:33:43.340\nnothing on the hard drive.\n\n2017\n01:33:43.340 --> 01:33:44.195\nWe're gonna start it up.\n\n2018\n01:33:44.195 --> 01:33:46.180\n>> Mm-hm.\n\n2019\n01:33:46.180 --> 01:33:49.630\n>> And\nit is going to immediately PXE boot there.\n\n2020\n01:33:49.630 --> 01:33:51.360\n>> Yay.\n>> We can see that it is PXE booting.\n\n2021\n01:33:51.360 --> 01:33:52.510\nHopefully it'll connect to it.\n\n2022\n01:33:52.510 --> 01:33:55.050\nI still don't see our little message but\n\n2023\n01:33:55.050 --> 01:33:58.910\nNate is gonna go in and\napprove my request.\n\n2024\n01:33:59.960 --> 01:34:01.180\n>> Yep, that must-\n>> I hope.\n\n2025\n01:34:02.930 --> 01:34:07.390\nAll right let me give it a minute\n>> Mm-hm.\n\n2026\n01:34:07.390 --> 01:34:12.020\n>> All right there it is request ID 2,\napprove, all right?\n\n2027\n01:34:12.020 --> 01:34:14.720\nAnd successfully, and there she is.\n\n2028\n01:34:14.720 --> 01:34:15.898\n>> Man!\nJust like magic!\n\n2029\n01:34:15.898 --> 01:34:17.230\n>> I'm telling you, I'm telling you.\n\n2030\n01:34:17.230 --> 01:34:18.300\n>> Its nice how that works.\n\n2031\n01:34:18.300 --> 01:34:19.960\n>> All right so now I can choose.\n\n2032\n01:34:19.960 --> 01:34:23.630\nThis time I'm trying to pull\nan image down to this machine.\n\n2033\n01:34:23.630 --> 01:34:27.760\nSo, we're gonna choose\nthat setup option and\n\n2034\n01:34:27.760 --> 01:34:30.320\nif I can show you the bottom\nof that screen down there,\n\n2035\n01:34:30.320 --> 01:34:36.530\nhe should start pulling over\nthe Windows Deployment Services Client.\n\n2036\n01:34:36.530 --> 01:34:39.080\n>> So Mike so when this machine, so\n\n2037\n01:34:39.080 --> 01:34:44.100\nwhen it starts pulling that\nimage down start installing.\n\n2038\n01:34:44.100 --> 01:34:48.470\nSo we'll come back and\nyou know to the WDS server and\n\n2039\n01:34:48.470 --> 01:34:51.960\nlets go through a pre--stage device.\n\n2040\n01:34:51.960 --> 01:34:53.710\n>> Okay.\n>> When this guy gets up and going.\n\n2041\n01:34:53.710 --> 01:34:54.630\n>> Sounds like a plan.\n\n2042\n01:34:54.630 --> 01:35:00.110\n>> Man, it seems like a lot.\n\n2043\n01:35:00.110 --> 01:35:01.870\nI wait on machines.\n\n2044\n01:35:01.870 --> 01:35:03.360\n>> I know, I know.\n\n2045\n01:35:03.360 --> 01:35:05.022\nWe're asking a lot of it right now.\n\n2046\n01:35:05.022 --> 01:35:05.940\nAll right, so there we go, so\n\n2047\n01:35:05.940 --> 01:35:09.520\nthis is the initial Windows\ndeployment services client.\n\n2048\n01:35:09.520 --> 01:35:13.040\nSo the one answer file we talked about\nthat you can do on the properties of\n\n2049\n01:35:13.040 --> 01:35:15.470\nthe deployment server itself.\n\n2050\n01:35:15.470 --> 01:35:18.980\nYou can have an answer file that answers\nall of these initial questions here.\n\n2051\n01:35:18.980 --> 01:35:21.400\nI'm going to pick my language.\n\n2052\n01:35:21.400 --> 01:35:25.990\nI'm going to give it the credentials\nthat I need to get to those images.\n\n2053\n01:35:31.783 --> 01:35:34.195\nAnd there's my server standard.\n\n2054\n01:35:34.195 --> 01:35:38.628\nThat was the image.win,\nthat we pulled right off the DVD, so\n\n2055\n01:35:38.628 --> 01:35:41.279\nit's just a default installation.\n\n2056\n01:35:41.279 --> 01:35:46.298\n>> So If we had finished the capture,\nthen it would appear in that.\n\n2057\n01:35:46.298 --> 01:35:49.914\nIf we add it to that group, yep, it would\nshow up right here as well, exactly.\n\n2058\n01:35:49.914 --> 01:35:50.900\nSo we'll click Next.\n\n2059\n01:35:52.090 --> 01:35:56.050\nAnd then again this could all be\nanswered by that Windows unattend,\n\n2060\n01:35:56.050 --> 01:35:58.780\nor Windows deployment\nservice client unattend file.\n\n2061\n01:35:58.780 --> 01:36:00.480\nWe'll just use that drive right there.\n\n2062\n01:36:00.480 --> 01:36:01.043\nWe'll click Next.\n\n2063\n01:36:04.333 --> 01:36:07.630\nAnd it says, yeah sure, let's do it.\n\n2064\n01:36:07.630 --> 01:36:08.510\nAnd there it is.\n\n2065\n01:36:08.510 --> 01:36:10.330\nSo right now it says it's waiting for\nthe server.\n\n2066\n01:36:10.330 --> 01:36:13.210\nIn just a second the server's\ngonna go okay, here's the image,\n\n2067\n01:36:13.210 --> 01:36:14.720\nlet's get this party started.\n\n2068\n01:36:16.820 --> 01:36:18.510\n>> And there she goes.\n\n2069\n01:36:18.510 --> 01:36:19.391\n>> All right.\n\n2070\n01:36:19.391 --> 01:36:21.240\n>> Beautiful.\n\n2071\n01:36:21.240 --> 01:36:23.656\n>> Yep, and\nthen when this guy boots up then it'll be,\n\n2072\n01:36:23.656 --> 01:36:28.510\nfrom this point forward it's gonna\nbe just a regular typical install.\n\n2073\n01:36:28.510 --> 01:36:30.885\n>> Yeah, when it comes up it's\ngonna be into that welcome,\n\n2074\n01:36:30.885 --> 01:36:33.073\nbasically like you just took the DVD and\ninstalled.\n\n2075\n01:36:33.073 --> 01:36:36.815\nSo you're gonna have to put in your key,\nyou're gonna have to give your computer,\n\n2076\n01:36:36.815 --> 01:36:38.890\ngo through all that setup process.\n\n2077\n01:36:38.890 --> 01:36:39.816\nI'm just gonna close it,\n\n2078\n01:36:39.816 --> 01:36:42.850\nthat'll leave it running in the background\nin case we want to see it later.\n\n2079\n01:36:42.850 --> 01:36:47.062\nAnd you want to take a peek at the,\nwhat'd you say, the deployment server?\n\n2080\n01:36:47.062 --> 01:36:48.770\n>> Yeah, the prestaged devices.\n\n2081\n01:36:48.770 --> 01:36:51.220\nI thought that was kind of cool.\n\n2082\n01:36:51.220 --> 01:36:55.840\nFlipping through the stuff and\nseeing that if, for some reason,\n\n2083\n01:36:55.840 --> 01:37:01.300\nyou did have your thing set to just\nprestage, or just the known devices only,\n\n2084\n01:37:01.300 --> 01:37:05.080\nthen you would have to prestage\nall of your devices and\n\n2085\n01:37:05.080 --> 01:37:07.780\nwhatever needs to boot up on that guy.\n\n2086\n01:37:07.780 --> 01:37:08.530\n>> Exactly.\n\n2087\n01:37:08.530 --> 01:37:13.700\n>> And so yeah, let's run through that\nlike we were gonna do it or something.\n\n2088\n01:37:13.700 --> 01:37:15.350\n>> Yeah, let's do it.\n\n2089\n01:37:15.350 --> 01:37:16.300\nLet's actually do it.\n\n2090\n01:37:16.300 --> 01:37:17.930\n>> I know, yeah.\n\n2091\n01:37:17.930 --> 01:37:21.560\nAll right, so get in there and\npull up your screen over there for us.\n\n2092\n01:37:21.560 --> 01:37:23.220\nAnd we'll see what we can do.\n\n2093\n01:37:25.060 --> 01:37:27.560\n>> All right, so\nthe prestage devices down here,\n\n2094\n01:37:27.560 --> 01:37:32.015\nwe can click on this guy,\nand we will add a device.\n\n2095\n01:37:32.015 --> 01:37:32.745\n>> Mm-hm.\n\n2096\n01:37:32.745 --> 01:37:36.665\n>> So it's this little wizard here,\nand so we'll just say this will be.\n\n2097\n01:37:40.455 --> 01:37:45.040\nWe'll say this guy will be like Client7,\nwhenever he comes up.\n\n2098\n01:37:46.900 --> 01:37:54.500\nSo now in this device ID, this would\nbe what, the guy's MAC address, a GUID?\n\n2099\n01:37:54.500 --> 01:37:58.390\n>> Hm,\nI have not gone through it this way.\n\n2100\n01:37:58.390 --> 01:38:02.580\nI'm gonna assume that's that NetBoot GUID,\nnot the MAC address.\n\n2101\n01:38:04.180 --> 01:38:07.490\nBut I'm not sure if you could use that or\nnot.\n\n2102\n01:38:07.490 --> 01:38:11.200\nBut it's the point, we need some way to\nidentify that machine when it comes in.\n\n2103\n01:38:11.200 --> 01:38:16.930\nAnd the way I've always done it,\nis you get the NetBoot GUID\n\n2104\n01:38:16.930 --> 01:38:20.030\nfrom the machine itself and then that's\nwhat you're gonna type in there.\n\n2105\n01:38:21.050 --> 01:38:25.550\nAnd then that way when that machine\nconnects it say I was expecting\n\n2106\n01:38:26.650 --> 01:38:28.205\nyou cuz those numbers match up.\n\n2107\n01:38:28.205 --> 01:38:29.800\n>> Mm-hm, all right.\n\n2108\n01:38:29.800 --> 01:38:32.510\nIf we had a particular group\nthis machine was gonna go in,\n\n2109\n01:38:32.510 --> 01:38:33.625\nwe'd put that group in here.\n\n2110\n01:38:33.625 --> 01:38:34.180\n>> Mm-hm.\n\n2111\n01:38:34.180 --> 01:38:38.704\n>> If we wanted to land him in\na particular OU then we could type in\n\n2112\n01:38:38.704 --> 01:38:42.378\nthe distinguished name so that-\n>> W equals sales,\n\n2113\n01:38:42.378 --> 01:38:47.010\ncomma dc equals comma dc equals itpro.tv,\nyeah.\n\n2114\n01:38:47.010 --> 01:38:50.727\n>> Yeah, all that fun stuff so\nwe won't key all that stuff in right now.\n\n2115\n01:38:50.727 --> 01:38:54.370\nWe will,\n[LAUGH] it actually wants a real one.\n\n2116\n01:38:54.370 --> 01:38:56.210\n>> Now it does say you can use a Mac.\n\n2117\n01:38:56.210 --> 01:38:59.160\nSo here, you know what,\nwhy don't I whip one up for you.\n\n2118\n01:38:59.160 --> 01:39:04.930\n>> Mm-hm, all right, yeah.\n\n2119\n01:39:04.930 --> 01:39:09.556\n>> We're gonna do virtual machine,\nand we'll call this one itprotv-,\n\n2120\n01:39:09.556 --> 01:39:11.185\nwhat'd you say, cl7?\n\n2121\n01:39:11.185 --> 01:39:11.767\n>> Correct.\n\n2122\n01:39:11.767 --> 01:39:13.873\n>> So we'll give it a name cl7.\n\n2123\n01:39:13.873 --> 01:39:17.110\nWe'll make it a gen 2 machine.\n\n2124\n01:39:17.110 --> 01:39:18.370\nI'll just give it 512,\n\n2125\n01:39:18.370 --> 01:39:22.740\nhopefully we got enough to get\nthat going at the same time here.\n\n2126\n01:39:22.740 --> 01:39:24.370\nConnect it to our network.\n\n2127\n01:39:24.370 --> 01:39:27.710\nI'll use my default drive settings.\n\n2128\n01:39:27.710 --> 01:39:29.500\nAnd install an operating system later.\n\n2129\n01:39:31.450 --> 01:39:33.580\nAnd then Finish.\n\n2130\n01:39:33.580 --> 01:39:36.790\n>> And we can grab the MAC address\nof of this guy without booting it.\n\n2131\n01:39:36.790 --> 01:39:38.560\n>> Without actually starting it, exactly.\n\n2132\n01:39:38.560 --> 01:39:43.120\nSo let's go back in here and\ntake a look at my-\n\n2133\n01:39:43.120 --> 01:39:45.790\n>> The network adapter.\n\n2134\n01:39:47.130 --> 01:39:53.120\nThen, to expand that guy out next to the,\nand then choose Advanced.\n\n2135\n01:39:55.180 --> 01:39:56.460\nAll right, so there's that guy at the top.\n\n2136\n01:39:56.460 --> 01:40:01.916\n>> And let's do a static,\nand I'll just make it,\n\n2137\n01:40:01.916 --> 01:40:10.580\nlet's call it, Easy enough, right?\n\n2138\n01:40:10.580 --> 01:40:11.620\n>> Mm-hm.\n\n2139\n01:40:11.620 --> 01:40:15.410\n>> [LAUGH]\n>> Mm mm mm,\n\n2140\n01:40:15.410 --> 01:40:17.740\nnow see how many blocks we got.\n\n2141\n01:40:17.740 --> 01:40:18.710\n>> Should be, six.\n\n2142\n01:40:22.790 --> 01:40:24.540\n>> All right.\n\n2143\n01:40:24.540 --> 01:40:25.460\nSweet.\n\n2144\n01:40:25.460 --> 01:40:26.170\nOkay.\n\n2145\n01:40:26.170 --> 01:40:26.936\nSo [LAUGH] so there we go.\n\n2146\n01:40:26.936 --> 01:40:27.870\nMy heaven's sakes, all right.\n\n2147\n01:40:27.870 --> 01:40:29.830\n>> [LAUGH]\n>> So just to get that device ID there.\n\n2148\n01:40:29.830 --> 01:40:33.960\nAll right, so\nnow we have a referral server, right?\n\n2149\n01:40:33.960 --> 01:40:37.330\nAnd who it's going to talk\nto to pull that device down.\n\n2150\n01:40:37.330 --> 01:40:43.710\nAnd we will select our WDS server\nwhich is the domain controller.\n\n2151\n01:40:45.140 --> 01:40:48.920\nFind this guy [SOUND].\n\n2152\n01:40:48.920 --> 01:40:51.630\nThere's that guy, we'll key him in.\n\n2153\n01:40:51.630 --> 01:40:55.955\nAnd then now we have\nthe pixie response policies.\n\n2154\n01:40:55.955 --> 01:40:59.980\nAnd so yes,\nwe'll just do same one as before.\n\n2155\n01:40:59.980 --> 01:41:02.500\nSo we'll just boot this guy up,\nunless we press the Escape key.\n\n2156\n01:41:02.500 --> 01:41:04.412\nOf course I don't think\nwe'll actually use this.\n\n2157\n01:41:04.412 --> 01:41:08.812\nAnd then now we have a boot\nimage that we wanted to\n\n2158\n01:41:08.812 --> 01:41:12.590\nhave if we wanted to pick a certain one.\n\n2159\n01:41:12.590 --> 01:41:13.460\n>> Right, right.\n\n2160\n01:41:13.460 --> 01:41:15.105\nA platform, 32-bit, 64-bit,\nsomething like that.\n\n2161\n01:41:15.105 --> 01:41:17.160\n>> Mm-hm.\n\n2162\n01:41:17.160 --> 01:41:18.290\nWe'll click through.\n\n2163\n01:41:18.290 --> 01:41:22.884\nIf we had a particular unattend file,\nnow is the time to put that guy in,\n\n2164\n01:41:22.884 --> 01:41:24.500\nwhich we do not have one.\n\n2165\n01:41:24.500 --> 01:41:29.512\nAll right, so if we wanted\nthis computer to automatically\n\n2166\n01:41:29.512 --> 01:41:34.740\njoin the domain,\nthen we would key in the credentials here.\n\n2167\n01:41:34.740 --> 01:41:40.870\nAnd then I will pick,\n[SOUND] I'll just pick myself.\n\n2168\n01:41:46.200 --> 01:41:47.838\nAll right, there it's up, so\n\n2169\n01:41:47.838 --> 01:41:51.835\nwe'll join this guy to\nthe domain using my credentials.\n\n2170\n01:41:51.835 --> 01:41:55.030\nAnd we'll finish it,\nit was added successfully.\n\n2171\n01:41:57.290 --> 01:41:58.070\nSo there we go.\n\n2172\n01:41:58.070 --> 01:42:00.130\nSo there's our device.\n\n2173\n01:42:00.130 --> 01:42:04.583\nIf we had to modify something, since all\nof our stuff in there is fake information-\n\n2174\n01:42:04.583 --> 01:42:05.209\n>> [LAUGH] Right.\n\n2175\n01:42:05.209 --> 01:42:09.873\n>> Then we can go through and\nwe can change it to a particular, or\n\n2176\n01:42:09.873 --> 01:42:13.930\nyou would dump this guy in and\nall that fun stuff.\n\n2177\n01:42:13.930 --> 01:42:14.438\n>> Nice.\n\n2178\n01:42:14.438 --> 01:42:19.150\n>> So there we go, so now we have a known\ndevice that will just grab that image.\n\n2179\n01:42:19.150 --> 01:42:22.670\nWe don't have to go into our\npending devices and approve them.\n\n2180\n01:42:22.670 --> 01:42:26.423\n>> Right, because that's a known device\nthat's not gonna show up in the pending,\n\n2181\n01:42:26.423 --> 01:42:29.910\nit does not require manual\nadministrator approval.\n\n2182\n01:42:29.910 --> 01:42:33.580\nThe other nice thing about prestaging\nthe devices like that is the name.\n\n2183\n01:42:33.580 --> 01:42:38.242\nRemember we talked about that whole\npercent six one username thing which is\n\n2184\n01:42:38.242 --> 01:42:40.150\na little bit limiting?\n\n2185\n01:42:40.150 --> 01:42:42.260\nHere we can set the name of that machine.\n\n2186\n01:42:42.260 --> 01:42:46.020\nI can go ahead and create that object in\nActive Directory or prestage the account\n\n2187\n01:42:46.020 --> 01:42:49.080\nthrough here, set the name of that\nmachine, and now it's gonna name it that.\n\n2188\n01:42:49.080 --> 01:42:52.710\nSo it's gonna name itprotv-cl7.\n\n2189\n01:42:52.710 --> 01:42:55.694\nAnd I don't have to worry about some funky\nname, and then going back and renaming it,\n\n2190\n01:42:55.694 --> 01:42:56.490\nand things like that.\n\n2191\n01:42:56.490 --> 01:42:58.760\nSo a beautiful way to go.\n\n2192\n01:42:58.760 --> 01:43:02.780\nI've worked in some environments where\nI need to make sure that that machine,\n\n2193\n01:43:02.780 --> 01:43:05.820\nevery time its imaged,\nit needs to get the same name.\n\n2194\n01:43:05.820 --> 01:43:09.119\nAnd I know the machines by location or\nby position in say,\n\n2195\n01:43:09.119 --> 01:43:13.750\na room or something like that, and it's\nimportant that they get the same name.\n\n2196\n01:43:13.750 --> 01:43:19.950\nThat seat one needs to be named cl-1,\nand then cl-2 and things like that.\n\n2197\n01:43:21.100 --> 01:43:26.310\nAnd so I needed to get the same name every\ntime so we just prestaged an account for\n\n2198\n01:43:26.310 --> 01:43:27.400\neach one of those machines.\n\n2199\n01:43:27.400 --> 01:43:31.560\nAnd then every time we image it,\nit sees that MAC or that netboot GUID and\n\n2200\n01:43:31.560 --> 01:43:34.650\nit automatically picks it and\nit gets the right name.\n\n2201\n01:43:34.650 --> 01:43:36.213\nSo it works out really well.\n\n2202\n01:43:36.213 --> 01:43:37.391\n>> Yep.\n\n2203\n01:43:37.391 --> 01:43:39.404\nAll right, Mike, well you know what?\n\n2204\n01:43:39.404 --> 01:43:45.396\nSo while those things are churning away,\nlet Let me jump back to our official.\n\n2205\n01:43:45.396 --> 01:43:50.179\n[SOUND]\n>> Yeah,\n\n2206\n01:43:50.179 --> 01:43:53.541\nwe might actually make another\nepisode out of this guy.\n\n2207\n01:43:53.541 --> 01:43:57.393\nWe are getting a little short on time and\nwe are still waiting for\n\n2208\n01:43:57.393 --> 01:43:59.185\nthe capture process to go.\n\n2209\n01:43:59.185 --> 01:44:01.077\nIt is a little bit tedious or\n\n2210\n01:44:01.077 --> 01:44:04.875\na little time consuming as\nit captures that image out.\n\n2211\n01:44:04.875 --> 01:44:11.645\n>> Yep, and so we still need to\nload files into one of these.\n\n2212\n01:44:11.645 --> 01:44:15.500\n>> We didn't talk about adding drivers,\nand creating driver packages.\n\n2213\n01:44:15.500 --> 01:44:16.584\n>> Adding drivers, driver packs.\n\n2214\n01:44:16.584 --> 01:44:22.041\n>> Yeah, so still a lot we can talk\nabout with deployment services.\n\n2215\n01:44:22.041 --> 01:44:27.310\n>> So yeah, we'll have to grab some\ndrivers and set that stuff up.\n\n2216\n01:44:27.310 --> 01:44:34.084\nSo we'll add one more on and yeah,\nwe'll add it on, and finish it up.\n\n2217\n01:44:34.084 --> 01:44:36.917\nBut we'll let these guys grind through.\n\n2218\n01:44:36.917 --> 01:44:40.251\nAnd yeah, I guess we just park it here.\n\n2219\n01:44:40.251 --> 01:44:42.080\n>> I think that's probably a good idea.\n\n2220\n01:44:42.080 --> 01:44:46.910\nI mean we covered a lot in this episode,\nwe covered how to install and\n\n2221\n01:44:46.910 --> 01:44:48.440\nconfigure our deployment server.\n\n2222\n01:44:48.440 --> 01:44:53.088\nDo a lot of the initial configuration\non it, add our initial default images,\n\n2223\n01:44:53.088 --> 01:44:55.270\nour boot wim and our install.wim.\n\n2224\n01:44:55.270 --> 01:44:58.959\nWe took a look at, gosh,\nwhat else did we do?\n\n2225\n01:44:58.959 --> 01:45:00.416\n>> Discover and capture images.\n\n2226\n01:45:00.416 --> 01:45:03.910\n>> Yeah, we made our discover image and\nour capture image.\n\n2227\n01:45:03.910 --> 01:45:06.480\nWe talked about sys prepping\na reference machine and\n\n2228\n01:45:06.480 --> 01:45:09.090\nactually started that capture process.\n\n2229\n01:45:09.090 --> 01:45:11.708\nWe also looked at pushing\nthat default wim out, right?\n\n2230\n01:45:11.708 --> 01:45:16.130\nWe connected a machine and\npushed that default install wim.\n\n2231\n01:45:16.130 --> 01:45:20.071\nWe looked at the known and unknown and\nwe saw our pending device and\n\n2232\n01:45:20.071 --> 01:45:22.083\nhad to go in there and approve it.\n\n2233\n01:45:22.083 --> 01:45:26.665\nSo we covered a lot of what we need\nto know about deployment services for\n\n2234\n01:45:26.665 --> 01:45:27.810\nthe exam.\n\n2235\n01:45:27.810 --> 01:45:30.980\nIt would be nice to see\nsome of this finish up and\n\n2236\n01:45:30.980 --> 01:45:34.590\nsee what happens when we\nactually deploy that image out.\n\n2237\n01:45:34.590 --> 01:45:37.930\nSo, I think we'll just make\nanother episode out of that.\n\n2238\n01:45:39.110 --> 01:45:39.900\nSound like a plan?\n\n2239\n01:45:39.900 --> 01:45:41.160\n>> Yeah.\nSound like a plan to me.\n\n2240\n01:45:41.160 --> 01:45:42.370\n>> All right.\nWell, ladies and gentlemen,\n\n2241\n01:45:42.370 --> 01:45:44.370\nI hope you guys enjoyed\nthe episode today and\n\n2242\n01:45:44.370 --> 01:45:46.550\nlearned a lot about deployment services.\n\n2243\n01:45:46.550 --> 01:45:50.620\nAs always, make sure you jump in that chat\nroom live while we're doing our show.\n\n2244\n01:45:50.620 --> 01:45:53.710\nYou can ask us questions and\ncommunicate with us any time you want.\n\n2245\n01:45:53.710 --> 01:45:56.420\nYou can go up to the top of the page and\nclick that live link, and\n\n2246\n01:45:56.420 --> 01:45:58.030\nyou can get to that chat room.\n\n2247\n01:45:58.030 --> 01:46:00.050\nCheck us out on our Roku channel.\n\n2248\n01:46:02.720 --> 01:46:05.580\nCheck out some of the,\nyeah, I think that's it.\n\n2249\n01:46:05.580 --> 01:46:10.568\nSo, again, welcome to 74 11, first\nepisode, and hope to see you guys back\n\n2250\n01:46:10.568 --> 01:46:15.042\nhere for the rest of them so\nwe can get you certified in Server 2012.\n\n2251\n01:46:15.042 --> 01:46:16.235\nSo you guys have a hap and\n\n2252\n01:46:16.235 --> 01:46:19.312\nsafey holidays if you were\nwatching it during the holidays.\n\n2253\n01:46:19.312 --> 01:46:22.458\nIf you're watching it later on\nthen hope your holidays were good.\n\n2254\n01:46:22.458 --> 01:46:23.791\n>> All right.\n\n2255\n01:46:23.791 --> 01:46:24.666\n>> Anything else?\n\n2256\n01:46:24.666 --> 01:46:28.041\n>> Yeah,\nI didn't mean to cut you off there.\n\n2257\n01:46:28.041 --> 01:46:30.709\nSigning out for ITPro.TV,\nI'm Nathan Copeland\n\n2258\n01:46:30.709 --> 01:46:31.625\n>> And I'm Mike Rodrick.\n\n2259\n01:46:31.625 --> 01:46:32.958\n>> We'll see you next time.\n\n2260\n01:46:32.958 --> 01:46:42.958\n[MUSIC]\n\n",
          "vimeoId": "82389484"
        },
        {
          "description": "After or about the 40 minute mark. A command was missing to enable the feature: `DISM /Image:c:\\mount /Enable-Feature /FeatureName:TelnetClient`  \nThis should be run before you check it with: `DISM /Image:c:\\mount /Get-Feature /FeatureName:TelnetClient`\n\nIn this episode Mike and Nate wrap up WDS by demonstrating image maintenance procedures such as adding system updates and building driver packages. They also show how to add features to an offline image.",
          "length": "2588",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/002-Deploy-and-Manage-WS-Pt2.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/002-Deploy-and-Manage-WS-Pt2-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/002-Deploy-and-Manage-WS-Pt2-sm.jpg",
          "title": "Windows Deployment Services Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:33.328 --> 00:00:34.431\nAlright.\n\n3\n00:00:34.431 --> 00:00:37.450\nAnd welcome to another\nfantastic episode of ITProTV.\n\n4\n00:00:38.520 --> 00:00:39.410\nI am Nate.\n\n5\n00:00:39.410 --> 00:00:40.386\nHere is my good friend Mike.\n\n6\n00:00:40.386 --> 00:00:41.200\n>> Mm-hm.\n\n7\n00:00:41.200 --> 00:00:42.820\n>> Yup.\n>> [LAUGH]\n\n8\n00:00:42.820 --> 00:00:44.194\n>> Well Mike welcome to the show.\n\n9\n00:00:44.194 --> 00:00:45.464\n[LAUGH]\n>> Thank you, thank you.\n\n10\n00:00:45.464 --> 00:00:47.530\n[LAUGH]\n>> Yeah, you know it's, so the,\n\n11\n00:00:47.530 --> 00:00:49.000\nthe first show of the new year that.\n\n12\n00:00:49.000 --> 00:00:50.442\n>> It is, it is.\n>> You and I are doing together.\n\n13\n00:00:50.442 --> 00:00:51.100\n>> Yeah.\nWhich\n\n14\n00:00:51.100 --> 00:00:53.280\nexplains why we're dragging\njust a little bit.\n\n15\n00:00:53.280 --> 00:00:56.430\nBecause it was a very good New Years.\n\n16\n00:00:56.430 --> 00:00:58.110\n>> It was.\n\n17\n00:00:58.110 --> 00:01:03.170\nVery good New Years, so,\ndragging ourselves back in here and\n\n18\n00:01:03.170 --> 00:01:08.970\ntrying to get back up to speed to do some\nmore WDS, Windows Deployment Services.\n\n19\n00:01:08.970 --> 00:01:11.650\n>> We did a little bit in another episode,\nwe covered a good chunk.\n\n20\n00:01:11.650 --> 00:01:13.910\nBut we never did finish.\n\n21\n00:01:13.910 --> 00:01:18.760\nWe want to go back in and take a look at\nadding, creating a driver group and adding\n\n22\n00:01:18.760 --> 00:01:22.440\nsome drivers to that so that when we\ndeploy those images we don't have to worry\n\n23\n00:01:22.440 --> 00:01:26.340\nabout do we have the right drivers for\nall the different machines on our network.\n\n24\n00:01:26.340 --> 00:01:29.610\nWe want to take a look at\nmounting an image using DISM.\n\n25\n00:01:29.610 --> 00:01:33.496\nBecause that definitely going to be on\nthe exam and it's the go to tool now,\n\n26\n00:01:33.496 --> 00:01:35.642\nit's kind of replacing imagetics to,\n\n27\n00:01:35.642 --> 00:01:40.060\nto work with the images offline which is\none of the huge advantages of WIN files.\n\n28\n00:01:40.060 --> 00:01:40.710\nRight?\n>> Mm-hm.\n\n29\n00:01:40.710 --> 00:01:44.150\n>> I mean, you go back to the day\nwhen we have to use Rizz or\n\n30\n00:01:44.150 --> 00:01:46.080\nthese products like Ghost and\nthinks like that.\n\n31\n00:01:46.080 --> 00:01:47.900\n>> Rizz?\n>> Yeah, it's before your time.\n\n32\n00:01:47.900 --> 00:01:49.710\n>> Yeah.\n>> Remote installation services\n\n33\n00:01:49.710 --> 00:01:50.430\nwere at Whiz.\n\n34\n00:01:50.430 --> 00:01:51.520\n>> Hm.\n\n35\n00:01:51.520 --> 00:01:53.200\nBit by bit copies, right?\n\n36\n00:01:53.200 --> 00:01:55.830\nSo you could not, I mean,\nonce you took the image,\n\n37\n00:01:55.830 --> 00:01:58.510\nyou built your reference machine,\nyou installed all your programs.\n\n38\n00:01:58.510 --> 00:02:00.660\nYou got your updates,\nyou put your drivers on there.\n\n39\n00:02:00.660 --> 00:02:03.350\nAll right, now I got this\nmachine that I wanna duplicate.\n\n40\n00:02:03.350 --> 00:02:05.070\nThis is my reference machine.\n\n41\n00:02:05.070 --> 00:02:06.300\nSo you take an image of it.\n\n42\n00:02:06.300 --> 00:02:07.230\nYou Sysprep it.\n\n43\n00:02:07.230 --> 00:02:08.630\nYou take an image of it.\n\n44\n00:02:08.630 --> 00:02:10.390\nOnce you've made that\nimage though you're stuck.\n\n45\n00:02:10.390 --> 00:02:12.760\nYou could not do anything\nelse to that image.\n\n46\n00:02:12.760 --> 00:02:14.140\nSo if your boss comes\nto you the next day and\n\n47\n00:02:14.140 --> 00:02:18.840\nsays hey you know what, we really\nneed to put Notepad++ on that image.\n\n48\n00:02:18.840 --> 00:02:21.370\nWell you had to pull\nthe image down to a machine\n\n49\n00:02:21.370 --> 00:02:25.940\nbasically recreate your reference machine,\nadd that program, add a driver,\n\n50\n00:02:25.940 --> 00:02:28.690\ndo an update and\ncapture it all over again.\n\n51\n00:02:28.690 --> 00:02:30.985\nBut this stuff now,\nI don't even have to do that.\n\n52\n00:02:30.985 --> 00:02:33.220\n>> Mm-mm.\n>> We can use and load the image up and\n\n53\n00:02:33.220 --> 00:02:34.250\ndo what we need.\n\n54\n00:02:34.250 --> 00:02:36.125\n>> Yeah.\nAnd- >> Turn Windows features on and off?\n\n55\n00:02:36.125 --> 00:02:37.435\n>> Yeah, mm-hm.\n\n56\n00:02:37.435 --> 00:02:40.440\nYeah, like, really, really customize\nthe stuff to whatever you need.\n\n57\n00:02:40.440 --> 00:02:41.965\n>> Mm-hm.\n>> Which does lead us to what\n\n58\n00:02:41.965 --> 00:02:42.665\nwe're gonna do today.\n\n59\n00:02:42.665 --> 00:02:43.460\n>> Alright.\n\n60\n00:02:43.460 --> 00:02:45.315\n>> Alright, so yeah, so they,\n\n61\n00:02:45.315 --> 00:02:49.545\nthe last little two objectives that we\nhad, let me just look off your notes here.\n\n62\n00:02:49.545 --> 00:02:51.965\nAll right.\n>> Update images with patches, hotfixes,\n\n63\n00:02:51.965 --> 00:02:52.765\nand drivers.\n\n64\n00:02:52.765 --> 00:02:58.490\nThis is all under 74 11 exam,\nobjective 1.1, we're on 1.1.3,\n\n65\n00:02:58.490 --> 00:03:03.570\nwhich would be the update images with\npatches, hot fixes, and drivers.\n\n66\n00:03:03.570 --> 00:03:09.365\nAnd then 1.1.4 which is gonna be\ninstall features for offline images.\n\n67\n00:03:09.365 --> 00:03:10.140\n>> Mm-hm.\n\n68\n00:03:10.140 --> 00:03:11.470\n>> Yup.\n\n69\n00:03:11.470 --> 00:03:13.310\n>> That's,\nthat's what we have planned for today.\n\n70\n00:03:13.310 --> 00:03:18.340\n>> Yup, and so, and so today we're\ngonna use a, a Windows 8.1 Enterprise\n\n71\n00:03:18.340 --> 00:03:22.810\nimage to work with and have it up there\non the network since, you know, Don.\n\n72\n00:03:22.810 --> 00:03:24.005\nHe's always formatting his.\n\n73\n00:03:24.005 --> 00:03:25.405\nThe machine for who knows what reason.\n\n74\n00:03:25.405 --> 00:03:28.093\nI don't know what he does with his\ncomputer [SOUND] he's always wiping it for\n\n75\n00:03:28.093 --> 00:03:28.825\nsome crazy reason.\n\n76\n00:03:28.825 --> 00:03:29.635\nBut so.\n\n77\n00:03:29.635 --> 00:03:32.921\n>> He must have something on there that\nhe wouldn't [LAUGH] want somebody to find\n\n78\n00:03:32.921 --> 00:03:34.235\n[LAUGH]\n>> Yeah, it's like.\n\n79\n00:03:34.235 --> 00:03:35.085\n>> Nothing I can figure.\n\n80\n00:03:35.085 --> 00:03:37.185\n>> Yeah,\nit's like I'm not even going to delete it.\n\n81\n00:03:37.185 --> 00:03:41.190\nI'm going to wipe the entire\ncomputer Start from scratch.\n\n82\n00:03:41.190 --> 00:03:47.225\n>> [LAUGH] [INAUDIBLE]\n>> So so we're going to prepare an image.\n\n83\n00:03:47.225 --> 00:03:48.240\n>> Mm-hm.\n>> That, you know,\n\n84\n00:03:48.240 --> 00:03:49.180\nthat we can actually use.\n\n85\n00:03:49.180 --> 00:03:49.870\n>> Okay, cool.\n\n86\n00:03:49.870 --> 00:03:54.760\n>> So yes we'll host up on the little\nlab server that we have here, and so\n\n87\n00:03:54.760 --> 00:03:57.830\nnext time, Don is gonna wipe,\nwipe his machine.\n\n88\n00:03:57.830 --> 00:04:01.860\nThen he can just pixy boot that sucker,\nand then pull it down, and\n\n89\n00:04:01.860 --> 00:04:03.210\nwe're gonna throw the.\n\n90\n00:04:03.210 --> 00:04:05.380\n>> We could put some stuff in there for\nhim.\n\n91\n00:04:05.380 --> 00:04:06.330\nNo.\n\n92\n00:04:06.330 --> 00:04:06.870\nThat's right.\n\n93\n00:04:06.870 --> 00:04:08.430\nWe could, we could.\n\n94\n00:04:08.430 --> 00:04:12.280\n>> Don, you should really use this\ncool lens that Mike and I have used.\n\n95\n00:04:12.280 --> 00:04:14.875\n>> Well we're going to make sure that\nhe's got all the drivers that he needs.\n\n96\n00:04:14.875 --> 00:04:16.380\n>> Mm-hm.\n>> For that XPS that he's using.\n\n97\n00:04:16.380 --> 00:04:18.990\nSo we're gonna have to\nload those up in a minute.\n\n98\n00:04:18.990 --> 00:04:19.710\n>> Yeah.\nAnd you know what,\n\n99\n00:04:19.710 --> 00:04:22.500\nand, we can create a filter\n>> Mm-hm.\n\n100\n00:04:22.500 --> 00:04:28.320\n>> So it will only push out those drivers\nthat you know, people using Dell laptops.\n\n101\n00:04:28.320 --> 00:04:29.955\n>> Exactly.\n>> So if somebody else wants to use it.\n\n102\n00:04:29.955 --> 00:04:30.570\n>> Mm-hm.\n\n103\n00:04:30.570 --> 00:04:31.750\n>> Then you know it won't pull\n\n104\n00:04:31.750 --> 00:04:32.280\nit out in the-\n>> Right.\n\n105\n00:04:32.280 --> 00:04:33.640\n>> But we'll get da featured features.\n\n106\n00:04:33.640 --> 00:04:34.710\nFeatures.\n>> Yeah we'll talk about\n\n107\n00:04:34.710 --> 00:04:37.305\nthat cuz there's definitely some\nadvantages of doing that, so.\n\n108\n00:04:37.305 --> 00:04:37.855\n>> Mm-hm.\n\n109\n00:04:37.855 --> 00:04:41.900\n>> we, le, let's start with\nworking with our offline image.\n\n110\n00:04:41.900 --> 00:04:48.303\nIs that where you want to start or do you\nwant to work with the head function first?\n\n111\n00:04:48.303 --> 00:04:48.940\n>> [CROSSTALK]\n>> All right,\n\n112\n00:04:48.940 --> 00:04:52.545\nwell I did type up some show notes before\nhand, so we'll just start from the top and\n\n113\n00:04:52.545 --> 00:04:54.130\ngo down to the bottom.\n\n114\n00:04:54.130 --> 00:04:59.100\nBecause I, because, you know, with the,\nwith the fantastic, New Years break,\n\n115\n00:04:59.100 --> 00:05:02.280\nholiday break that we have, you know,\nI Not quite up to typing, so\n\n116\n00:05:02.280 --> 00:05:05.850\nI'm just gonna copy and\npaste everything over and.\n\n117\n00:05:05.850 --> 00:05:07.705\n>> Still feeling a little bit cloudy.\n\n118\n00:05:07.705 --> 00:05:09.130\n[LAUGH]\n>> [LAUGH] Mike, I don't even,\n\n119\n00:05:09.130 --> 00:05:11.400\nI don't know what that means.\n\n120\n00:05:11.400 --> 00:05:12.300\n>> All right.\n\n121\n00:05:12.300 --> 00:05:12.906\n>> Three olives.\n\n122\n00:05:12.906 --> 00:05:15.815\n>> [LAUGH]\n>> Sip of vodka.\n\n123\n00:05:15.815 --> 00:05:20.210\n[LAUGH] Fan, I am just, just water today.\n\n124\n00:05:20.210 --> 00:05:21.310\n>> That's, that's all I got.\n\n125\n00:05:21.310 --> 00:05:22.920\n>> Yeah, well I'm,\nI'm drinking Mountain Dew.\n\n126\n00:05:22.920 --> 00:05:23.570\n>> All right.\n>> So.\n\n127\n00:05:23.570 --> 00:05:24.220\n>> All right.\n\n128\n00:05:24.220 --> 00:05:26.150\n>> Which mixes really well with,\nnevermind.\n\n129\n00:05:26.150 --> 00:05:27.730\n>> Man, with more water?\n\n130\n00:05:27.730 --> 00:05:29.080\n>> Yeah, with more water, exactly.\n\n131\n00:05:29.080 --> 00:05:30.040\nNot with vodka.\n\n132\n00:05:30.040 --> 00:05:31.150\n>> All right.\nSo we're, so\n\n133\n00:05:31.150 --> 00:05:32.990\nwe're gonna pull this\nthing all the way back.\n\n134\n00:05:32.990 --> 00:05:34.110\n>> All right.\n>> All right.\n\n135\n00:05:34.110 --> 00:05:35.185\nSo on the, on the machine here.\n\n136\n00:05:35.185 --> 00:05:37.290\n>> Mm-hm.\n>> I've got Server Manager pulled up.\n\n137\n00:05:37.290 --> 00:05:37.990\n>> Cool.\n\n138\n00:05:37.990 --> 00:05:47.800\nWe'll go to, click on WDS and we'll launch\nthe my gosh, what do you want to do?\n\n139\n00:05:47.800 --> 00:05:49.475\n>> You're on the,\nyou're on the deployment server right now?\n\n140\n00:05:49.475 --> 00:05:50.090\n>> Mm-hm.\n\n141\n00:05:50.090 --> 00:05:53.150\nTools, well, now, now,\n>> I don't think it'll let you.\n\n142\n00:05:53.150 --> 00:05:55.020\n>> Well yeah, you can click on it.\n\n143\n00:05:55.020 --> 00:05:57.030\n>> No.\n>> But now I've, now I've made it mad.\n\n144\n00:05:57.030 --> 00:05:57.530\nWow.\n\n145\n00:05:58.700 --> 00:05:59.200\nAlright.\n\n146\n00:06:00.410 --> 00:06:01.238\nClick.\nThere we go.\n\n147\n00:06:01.238 --> 00:06:02.645\nOkay.\n\n148\n00:06:02.645 --> 00:06:04.060\nHm-hm.\n\n149\n00:06:04.060 --> 00:06:05.800\n>> Yeah.\nI prefer the tools menu up at the top.\n\n150\n00:06:05.800 --> 00:06:07.690\nIt just seems to be a little bit quicker.\n\n151\n00:06:07.690 --> 00:06:09.320\n>> Yeah. Yeah. Well, in this case, yeah.\n\n152\n00:06:09.320 --> 00:06:11.480\nIt was a, would have been a lot quicker.\n\n153\n00:06:11.480 --> 00:06:12.470\n>> That is a nice window though,\n\n154\n00:06:12.470 --> 00:06:14.275\nbecause if you had more\nthan one deployment server.\n\n155\n00:06:14.275 --> 00:06:15.030\nMm-hm.\n\n156\n00:06:15.030 --> 00:06:16.700\n>> You can see all those\ndeployment servers sitting there.\n\n157\n00:06:16.700 --> 00:06:18.900\nServer Manager is a really cool console.\n\n158\n00:06:18.900 --> 00:06:21.420\nIt can be a little slow, but\nyou gotta figure it's reaching out and\n\n159\n00:06:21.420 --> 00:06:24.910\npulling back log files and statistics\nfrom all of these different servers and\n\n160\n00:06:24.910 --> 00:06:26.760\ntrying to compile them and\ngive you that summary view.\n\n161\n00:06:26.760 --> 00:06:29.035\nSo we do have to be a little\nbit patient with it, I suppose.\n\n162\n00:06:29.035 --> 00:06:31.070\n>> Mm-hm.\n\n163\n00:06:31.070 --> 00:06:31.860\ni get impatient often.\n\n164\n00:06:31.860 --> 00:06:32.520\n>> Well, how many?\n\n165\n00:06:32.520 --> 00:06:33.090\n>> Anyway, sorry.\n\n166\n00:06:34.090 --> 00:06:35.010\n>> Tools?\n\n167\n00:06:35.010 --> 00:06:37.530\n>> We only got the one server in here,\nanyways.\n\n168\n00:06:37.530 --> 00:06:38.370\n>> RIght.\n>> So like it's having to\n\n169\n00:06:38.370 --> 00:06:38.940\npull from anybody.\n\n170\n00:06:38.940 --> 00:06:40.230\n>> Yea.\n>> I mean, it's like; come on.\n\n171\n00:06:40.230 --> 00:06:41.880\njust like let me just right click.\n\n172\n00:06:41.880 --> 00:06:45.350\n>> It's thinking; well maybe there's\nothers that I haven't found yet.\n\n173\n00:06:45.350 --> 00:06:47.610\n>> Yea, let me search through\neverything first before.\n\n174\n00:06:47.610 --> 00:06:50.440\n>> Okay.\n>> Alright so, one of the services,\n\n175\n00:06:50.440 --> 00:06:51.840\nhere we go.\n\n176\n00:06:51.840 --> 00:06:56.905\nNow and the install images we have I\ncreated earlier a Windows 8 group.\n\n177\n00:06:56.905 --> 00:06:57.990\n>> Mm-hm\n>> And\n\n178\n00:06:57.990 --> 00:07:03.632\nin that Windows 8 group we\nhave one 8.1 Enterprise image.\n\n179\n00:07:03.632 --> 00:07:04.530\n>> Mm-hm cool.\n\n180\n00:07:04.530 --> 00:07:06.180\n>> Now, now.\n>> Now that's just the default image\n\n181\n00:07:06.180 --> 00:07:08.780\nthe default windfall right\nright off the Windows ATV\n\n182\n00:07:08.780 --> 00:07:09.770\n>> Correct, yes.\n\n183\n00:07:09.770 --> 00:07:10.460\n>> All right now,\n\n184\n00:07:10.460 --> 00:07:13.710\nin the boot images, we just have\nthe ones that we created last time.\n\n185\n00:07:13.710 --> 00:07:17.430\nNow we don't need to create a new\nboot image just to push out the plan.\n\n186\n00:07:17.430 --> 00:07:18.170\nCorrect.\n>> Correct.\n\n187\n00:07:18.170 --> 00:07:18.670\n>> All right.\n\n188\n00:07:20.750 --> 00:07:22.200\nSo I click on it.\n\n189\n00:07:22.200 --> 00:07:23.130\nThere we go.\nOkay, so yea.\n\n190\n00:07:23.130 --> 00:07:28.260\nSo we've got our set up and our capture\nand we can use the setup for the-\n\n191\n00:07:28.260 --> 00:07:30.140\n>> Was from the server ISO,\n\n192\n00:07:30.140 --> 00:07:33.470\nit'll work just fine with the client.\n\n193\n00:07:33.470 --> 00:07:35.570\n>> To get the,\nwhatever machine you're trying to image.\n\n194\n00:07:35.570 --> 00:07:37.545\nTrying to get it started,\nso that's all it needs.\n\n195\n00:07:37.545 --> 00:07:38.340\n>> Mm-hm.\n\n196\n00:07:38.340 --> 00:07:39.720\n>> And\nthen it can connect to the network, and\n\n197\n00:07:39.720 --> 00:07:41.995\nyou can pull whichever\nimage you want down.\n\n198\n00:07:41.995 --> 00:07:43.655\n>> Mm-hm, sweet.\n\n199\n00:07:43.655 --> 00:07:44.770\n>> So that'll work just fine.\n\n200\n00:07:44.770 --> 00:07:45.310\n>> All right.\nSo.\n\n201\n00:07:45.310 --> 00:07:46.585\nSo, up, up first.\n\n202\n00:07:46.585 --> 00:07:47.380\n>> Mm-hm.\n\n203\n00:07:47.380 --> 00:07:50.790\n>> Let me reference back these\nlittle notes, that we got here.\n\n204\n00:07:50.790 --> 00:07:51.960\nYeah, well not this guy.\n\n205\n00:07:51.960 --> 00:07:54.040\nAnd, yeah, so the, the updates.\n\n206\n00:07:54.040 --> 00:07:55.260\n>> So we'll push some updates.\n\n207\n00:07:55.260 --> 00:07:56.918\nUpdates up to that guy.\n\n208\n00:07:56.918 --> 00:08:01.458\nAnd then, yeah, I guess we could\nlook at some info stuff but.\n\n209\n00:08:01.458 --> 00:08:02.254\n>> Yeah, let's do.\n\n210\n00:08:02.254 --> 00:08:04.210\nNow where is, okay.\n\n211\n00:08:04.210 --> 00:08:07.125\nSorry, I'm just.\n\n212\n00:08:07.125 --> 00:08:08.942\n[LAUGH] I started to talk and\nthen had nothing to say.\n\n213\n00:08:08.942 --> 00:08:13.250\n[LAUGH] I believe, now you've\nalready got this WIM exported out?\n\n214\n00:08:13.250 --> 00:08:17.005\nAre we gonna mount it out right\nfrom deployment services?\n\n215\n00:08:17.005 --> 00:08:20.613\n>> [CROSSTALK] Yeah, yeah I did,\nyeah we'll do the, the exported one.\n\n216\n00:08:20.613 --> 00:08:21.240\n>> Okay.\n\n217\n00:08:21.240 --> 00:08:24.020\n>> Alright, so, so\nbefore the show [LAUGH] you know, I,\n\n218\n00:08:24.020 --> 00:08:25.645\nI was thinking about this beforehand.\n\n219\n00:08:25.645 --> 00:08:27.090\n>> Mm-hm.\n>> That on the last show we're just\n\n220\n00:08:27.090 --> 00:08:28.790\nsitting there just like waiting for\nthis thing to churn.\n\n221\n00:08:28.790 --> 00:08:29.380\n>> Yeah.\n>> Away and\n\n222\n00:08:29.380 --> 00:08:30.595\nof course we want to do everything.\n\n223\n00:08:30.595 --> 00:08:33.030\nReal-time, and, and on the show.\n\n224\n00:08:33.030 --> 00:08:35.520\nBut some things, man, I mean,\njust like, how, Mike, like,\n\n225\n00:08:35.520 --> 00:08:36.810\nhow long is this thing gonna take?\n\n226\n00:08:36.810 --> 00:08:40.190\n>> Yeah, don't know how far our viewers\nwould care to sit through a 30 minute\n\n227\n00:08:40.190 --> 00:08:43.298\nepisode of watching it export an image.\n\n228\n00:08:43.298 --> 00:08:45.005\n>> [LAUGH]\n>> [LAUGH]\n\n229\n00:08:45.005 --> 00:08:45.590\n>> So yeah,\n\n230\n00:08:45.590 --> 00:08:50.150\nwe'll use the magic of TV time, and, and\nthe image has already been exported for\n\n231\n00:08:50.150 --> 00:08:51.690\nus, over to our C drive.\n\n232\n00:08:51.690 --> 00:08:52.920\nSo you just right click on it right?\n\n233\n00:08:52.920 --> 00:08:55.610\n>> Yeah.\nYou know it's, pick an image that you want\n\n234\n00:08:55.610 --> 00:09:00.760\nto export right, and\nexport image pick a place and\n\n235\n00:09:00.760 --> 00:09:04.140\nit yeah it just kind of copies\nthat image to another place so\n\n236\n00:09:04.140 --> 00:09:07.630\nnow we can work with it and\ndo whatever we want to it.\n\n237\n00:09:07.630 --> 00:09:10.461\nAnd, you know, and then we can bring\nthat image back in under a new\n\n238\n00:09:10.461 --> 00:09:11.039\nname,\n>> Mm-hm.\n\n239\n00:09:11.039 --> 00:09:12.287\n>> And, have that stuff,yap.\n\n240\n00:09:12.287 --> 00:09:17.930\nAlright.\nSo here we go, and\n\n241\n00:09:17.930 --> 00:09:22.980\nwe will drop that,\ndrop that command right there.\n\n242\n00:09:22.980 --> 00:09:25.730\n>> Are you in the,\nyou wanna change over that directory?\n\n243\n00:09:25.730 --> 00:09:27.660\nFirst, where is your WIN file?\n\n244\n00:09:27.660 --> 00:09:29.950\n>> The WIN file is going to be there.\n\n245\n00:09:31.680 --> 00:09:34.310\nAnd I think I stuck\neverything in Remote Install.\n\n246\n00:09:34.310 --> 00:09:35.000\nYep, there it is.\n\n247\n00:09:35.000 --> 00:09:35.500\n>> All right.\n\n248\n00:09:42.440 --> 00:09:47.430\nSo then we'll replace that with\nthe pass equal and remote install.\n\n249\n00:09:49.190 --> 00:09:53.990\nAnd it is called\n>> Tab auto field, it'll work.\n\n250\n00:09:53.990 --> 00:09:54.490\n>> Will it?\n\n251\n00:09:56.610 --> 00:09:57.110\n>> Won't it?\n>> No.\n\n252\n00:09:57.110 --> 00:09:58.200\nI would cheat.\n\n253\n00:09:58.200 --> 00:09:59.560\nI've, I've got a way\nto cheat through that.\n\n254\n00:09:59.560 --> 00:10:02.110\n>> It hasn't\n>> [LAUGH]\n\n255\n00:10:02.110 --> 00:10:04.030\nI'm not the best typer in the world.\n\n256\n00:10:04.030 --> 00:10:08.140\nAnd the Command Prompt will auto-fill your\nWindows paths, but because there's no\n\n257\n00:10:08.140 --> 00:10:11.810\nspace in front of that c colon,\nit doesn't see it as a Windows path, so\n\n258\n00:10:11.810 --> 00:10:14.630\nif you guys out there looking for\nshortcuts, what I'll do is I'll put\n\n259\n00:10:14.630 --> 00:10:18.200\na space right in front of the c colon,\nso that I can use my tab auto-fill,\n\n260\n00:10:18.200 --> 00:10:21.480\nand then I'll just go get rid of\nthe space before I issue the command.\n\n261\n00:10:21.480 --> 00:10:22.170\n>> Hm.\n\n262\n00:10:22.170 --> 00:10:23.420\n>> I know it almost seems like more work.\n\n263\n00:10:23.420 --> 00:10:25.060\nI could just learn to type, right?\n\n264\n00:10:25.060 --> 00:10:27.875\nBut, you start picking\nup these little tricks.\n\n265\n00:10:27.875 --> 00:10:28.410\n>> Mm-hm.\n\n266\n00:10:28.410 --> 00:10:31.720\n>> To get around your slow typing speeds.\n\n267\n00:10:31.720 --> 00:10:33.830\nWhich is what I have.\n\n268\n00:10:33.830 --> 00:10:35.120\n>> [LAUGH] All right, so there we go.\n\n269\n00:10:35.120 --> 00:10:35.840\n>> Yep.\n>> So, we're in\n\n270\n00:10:35.840 --> 00:10:36.780\nthe now, and\n>> And\n\n271\n00:10:36.780 --> 00:10:37.780\nthis command here,\n>> [COUGH]\n\n272\n00:10:37.780 --> 00:10:41.210\n>> All right so we have dism, d i s m,\n\n273\n00:10:41.210 --> 00:10:45.040\nspace forward slash, get dash image info,\n>> Right.\n\n274\n00:10:45.040 --> 00:10:47.100\n>> Forward slash, and then the image file.\n\n275\n00:10:47.100 --> 00:10:51.550\nSo where is the image that we want to,\nyou know get some information about.\n\n276\n00:10:51.550 --> 00:10:52.500\nWhat not.\nNow if we,\n\n277\n00:10:52.500 --> 00:10:56.692\nnow there are some now WIN files\ncan can contain more than one.\n\n278\n00:10:56.692 --> 00:10:57.292\n[CROSSTALK]\n>> That's right,\n\n279\n00:10:57.292 --> 00:10:58.754\nwe talked about that\nour lap episode right?\n\n280\n00:10:58.754 --> 00:10:59.570\n>> Mm-hm.\n>> Where WIN files,\n\n281\n00:10:59.570 --> 00:11:02.260\none of the cool things about a WIN file\nis that it can have more than one image\n\n282\n00:11:02.260 --> 00:11:03.510\nin it.\n\n283\n00:11:03.510 --> 00:11:06.170\nSo that way it can do their single\ninstancing and their compression and\n\n284\n00:11:06.170 --> 00:11:07.320\nstuff like that.\n\n285\n00:11:07.320 --> 00:11:10.815\nSo here one of the things we're looking\nat is that index number, right.\n\n286\n00:11:10.815 --> 00:11:12.170\n>> Mm-hm\n>> So we can figure out if\n\n287\n00:11:12.170 --> 00:11:16.650\nthere were more than one win, within that\nmore than one image within that win file,\n\n288\n00:11:16.650 --> 00:11:19.515\nwe could figure out which one\nwe wanted to actually work with.\n\n289\n00:11:19.515 --> 00:11:20.210\n>> Mm-hm.\n\n290\n00:11:20.210 --> 00:11:21.030\n>> Cool.\n>> Yep, yep.\n\n291\n00:11:21.030 --> 00:11:22.870\nSweet.\n>> So now we know it's index one.\n\n292\n00:11:22.870 --> 00:11:23.660\n>> Yep.\n\n293\n00:11:23.660 --> 00:11:26.035\n>> So then we're going to\nfire up our next command.\n\n294\n00:11:26.035 --> 00:11:26.820\n>> Mm-hm.\n>> All right,\n\n295\n00:11:26.820 --> 00:11:30.765\nso we're going to mount that guy so\nthat we can play with it.\n\n296\n00:11:30.765 --> 00:11:32.170\n>> Mm-hm.\n\n297\n00:11:32.170 --> 00:11:35.730\nso, so that's an even better\nway to speed up your typing is,\n\n298\n00:11:35.730 --> 00:11:39.650\nhave the multi down into another file and\ncopy and paste them in there [LAUGH].\n\n299\n00:11:39.650 --> 00:11:40.250\nRight.?\n\n300\n00:11:40.250 --> 00:11:41.020\nSo you think smarter.\n\n301\n00:11:41.020 --> 00:11:41.960\nSmarter not harder.\n\n302\n00:11:41.960 --> 00:11:43.510\n>> Cause before the show-\n>> Think smarter not hard.\n\n303\n00:11:43.510 --> 00:11:47.830\n>> Cause I knew you were going to\ncome in really late and dragging A.\n\n304\n00:11:47.830 --> 00:11:50.310\nSo I was like\n>> Come on.\n\n305\n00:11:50.310 --> 00:11:53.172\nWhat can I do to make\nsure Mike shows up today?\n\n306\n00:11:53.172 --> 00:11:55.040\n>> [LAUGH]\n>> All right so\n\n307\n00:11:55.040 --> 00:11:58.750\nwe'll place index one in\nthe mount directory so\n\n308\n00:11:58.750 --> 00:12:00.760\nwhere we're going to stick this guy-\n>> Uh-huh.\n\n309\n00:12:00.760 --> 00:12:02.120\n>> Is going to be C:mount.\n\n310\n00:12:02.120 --> 00:12:05.380\nSo there's a folder there and\n\n311\n00:12:05.380 --> 00:12:08.020\nwe'll just stick everything-\n>> So that's our temp directory when we\n\n312\n00:12:08.020 --> 00:12:10.770\nmount up that image and we start working\nwith it that's the working space,\n\n313\n00:12:10.770 --> 00:12:12.760\nthat's where it's going\nto load that image up.\n\n314\n00:12:12.760 --> 00:12:15.760\nSo usually just make a folder\nof the route, call it mount or\n\n315\n00:12:15.760 --> 00:12:19.190\nsomething like that, or whim,\nsomething nice, short and to the point.\n\n316\n00:12:19.190 --> 00:12:22.100\nAnd we're telling it, okay,\nhere's where the image is, and\n\n317\n00:12:22.100 --> 00:12:24.450\nthis is where you want to mount it up to.\n\n318\n00:12:24.450 --> 00:12:27.020\nAnd then once we get it mounted up,\nwe can work with it, we can manipulate it,\n\n319\n00:12:27.020 --> 00:12:29.140\nadd drivers, add features,\nwhatever's needed.\n\n320\n00:12:31.250 --> 00:12:31.930\n>> Alright.\n\n321\n00:12:31.930 --> 00:12:35.458\nSo I completed that,\nthat command there, so.\n\n322\n00:12:35.458 --> 00:12:40.365\nDISM /mountimage that's\nwhat we want to do.\n\n323\n00:12:40.365 --> 00:12:43.220\n>> Mm-hm.\n>> Mount this guy, the image file so\n\n324\n00:12:43.220 --> 00:12:46.350\nwhere is the image that you know,\nwe want to mount?\n\n325\n00:12:46.350 --> 00:12:50.980\nSo I typed in the path there and\nthen the mount directory.\n\n326\n00:12:50.980 --> 00:12:51.790\n>> Mount der.\n\n327\n00:12:51.790 --> 00:12:53.475\n>> Mount, mou, mou [LAUGH]\n>> Der, de, der.\n\n328\n00:12:53.475 --> 00:12:55.685\n[LAUGH]\n>> And\n\n329\n00:12:55.685 --> 00:12:58.739\nthen and then the index number right.\n\n330\n00:12:58.739 --> 00:13:01.270\n>> Alright.\n>> So if there was more instances\n\n331\n00:13:01.270 --> 00:13:02.800\ninside that one where,\n>> Mm-hm.\n\n332\n00:13:02.800 --> 00:13:05.530\n>> we use that info command so\nnow we know that's just for one.\n\n333\n00:13:05.530 --> 00:13:07.835\n>> Perfect.\n>> Type that in and here we go.\n\n334\n00:13:07.835 --> 00:13:09.562\n[CROSSTALK]\n>> Progress bar in the command prompt.\n\n335\n00:13:09.562 --> 00:13:11.379\n>> Yeah, I know.\n[CROSSTALK] That's sweet, I know.\n\n336\n00:13:11.379 --> 00:13:13.610\nGosh, Microsoft This is awesome.\n\n337\n00:13:13.610 --> 00:13:14.233\n>> You guys are good.\n\n338\n00:13:14.233 --> 00:13:14.781\n>> Mm-hm.\nYeah.\n\n339\n00:13:14.781 --> 00:13:17.610\nWho would've thunk it,\nwho would've thunk it, you know?\n\n340\n00:13:17.610 --> 00:13:20.282\n>> You know one thing that\nis pretty sweet robocopy.\n\n341\n00:13:20.282 --> 00:13:23.280\n>> Robocopy [INAUDIBLE]\n>> And that has like stuff in,\n\n342\n00:13:23.280 --> 00:13:24.010\nin the command line.\n\n343\n00:13:24.010 --> 00:13:25.390\n>> Yeah.\n>> Like neat things that it does.\n\n344\n00:13:25.390 --> 00:13:26.575\n>> Yep.\n\n345\n00:13:26.575 --> 00:13:29.005\nAnd I, I was doing something\nelse that had like a neat thing.\n\n346\n00:13:29.005 --> 00:13:33.620\n>> I always liked the one where they go,\nbackslash, type, forward slash.\n\n347\n00:13:33.620 --> 00:13:35.185\n>> [LAUGH]\n>> Dash, backslash.\n\n348\n00:13:35.185 --> 00:13:37.425\nYou know, so\nit makes it look like it's rotating.\n\n349\n00:13:37.425 --> 00:13:38.845\n>> Yeah, yeah, yeah, yeah, yeah, yeah.\n\n350\n00:13:38.845 --> 00:13:39.908\n>> I mean that's pretty clever, right?\n\n351\n00:13:39.908 --> 00:13:40.942\nYeah that's right.\n\n352\n00:13:40.942 --> 00:13:43.040\n>> Ask KR, ask KR if it's cool.\n\n353\n00:13:43.040 --> 00:13:47.000\nI don't know if you guys can do a search\nif you can see the whole, somebody took\n\n354\n00:13:47.000 --> 00:13:51.790\nthe time, to basically do one of the,\nwhich of the Empire Strikes Back?\n\n355\n00:13:51.790 --> 00:13:56.180\nThey did one of the almost\nthe entire Star Wars movie In ASCII.\n\n356\n00:13:56.180 --> 00:13:57.480\nPretty darn impressive.\n\n357\n00:13:57.480 --> 00:13:59.240\nI mean that's some time there [LAUGH].\n\n358\n00:13:59.240 --> 00:14:01.850\n>> Yeah, yeah, Jay and, Jay and\n\n359\n00:14:01.850 --> 00:14:06.700\nDawn, in one of their, command line\nthings, one of ' brought it up and, and\n\n360\n00:14:06.700 --> 00:14:08.920\nDawn's like yeah, yeah, the guy did\nthe whole [INAUDIBLE] thing, and so yeah,\n\n361\n00:14:08.920 --> 00:14:10.600\nthey brought it up on the show\n>> Did they,\n\n362\n00:14:10.600 --> 00:14:13.410\nnice nice, I'll have to check that episode\nout, yeah you can see that, pretty cool.\n\n363\n00:14:13.410 --> 00:14:15.350\n>> I forget which episode it was.\n\n364\n00:14:15.350 --> 00:14:16.400\nCuz just to watch them all.\n\n365\n00:14:16.400 --> 00:14:19.760\n>> Yeah.\nThis is Jay and Don, and something.\n\n366\n00:14:19.760 --> 00:14:22.330\nWho knows what they're talking about?\n\n367\n00:14:22.330 --> 00:14:22.840\n>> Yeah.\n>> I don't know.\n\n368\n00:14:22.840 --> 00:14:24.471\n>> It sure was a good episode though, so.\n\n369\n00:14:24.471 --> 00:14:26.379\n>> [LAUGH] Yeah, it was so good.\n\n370\n00:14:26.379 --> 00:14:27.253\nI remembered.\n\n371\n00:14:27.253 --> 00:14:28.048\nAll right.\n\n372\n00:14:28.048 --> 00:14:29.880\n>> All right, how are we doing?\n\n373\n00:14:29.880 --> 00:14:30.500\n>> Not bad. 99%. >> 99%.\n\n374\n00:14:30.500 --> 00:14:31.630\n>> And it's just kinda hanging there.\n\n375\n00:14:31.630 --> 00:14:32.400\nLike it was-\n>> Over 100 and-\n\n376\n00:14:32.400 --> 00:14:34.150\n>> It was moving pretty quick.\n\n377\n00:14:34.150 --> 00:14:38.190\nIt's no different from the Gooey Interface\nto the command prompt,\n\n378\n00:14:38.190 --> 00:14:39.330\nit's always the same.\n\n379\n00:14:39.330 --> 00:14:43.862\nAll the way up to 99 and\nthen just wait for another 10 minutes.\n\n380\n00:14:43.862 --> 00:14:46.540\n>> [SOUND] 100% but\nwe're going to wait for a little bit.\n\n381\n00:14:46.540 --> 00:14:47.060\n>> Yep.\n\n382\n00:14:47.060 --> 00:14:49.630\n>> So the first thing we're\ngoing to do with this\n\n383\n00:14:49.630 --> 00:14:52.470\nis we're going to load in some updates.\n\n384\n00:14:52.470 --> 00:14:56.161\nSo let's say you have an image,\n>> Mm-hm.\n\n385\n00:14:56.161 --> 00:14:57.420\n>> Company image so we'll use.\n\n386\n00:14:57.420 --> 00:14:58.175\nThis one, right?\n\n387\n00:14:58.175 --> 00:14:59.255\n8.1\n>> Allright.\n\n388\n00:14:59.255 --> 00:15:02.600\n>> Um,you know, whenever I,\nyou know, push this out or somebody,\n\n389\n00:15:02.600 --> 00:15:04.665\nyou know, pixie boots,\nand, and pulls it down.\n\n390\n00:15:04.665 --> 00:15:06.100\n>> Mm-hm.\n>> Well they reboot that machine and\n\n391\n00:15:06.100 --> 00:15:09.635\nhave to install all the update files and\neverything, you know, get ready.\n\n392\n00:15:09.635 --> 00:15:10.540\n>> Mm-hm.\n>> So\n\n393\n00:15:10.540 --> 00:15:13.520\nwhat we can then, is to grab some updates\n>> Mm-hm.\n\n394\n00:15:13.520 --> 00:15:17.750\n>> and push them into this image,\nyou know, so that next time,\n\n395\n00:15:17.750 --> 00:15:20.410\nthe guy loads it up,\n>> What?\n\n396\n00:15:20.410 --> 00:15:22.320\n>> No.\nI'm listening intently.\n\n397\n00:15:22.320 --> 00:15:22.880\n>> Right?\n>> Yes.\n\n398\n00:15:22.880 --> 00:15:23.380\n>> Okay.\n\n399\n00:15:24.490 --> 00:15:27.050\nAnd and, and so, and then yeah.\n\n400\n00:15:27.050 --> 00:15:28.300\n>> That's a beautiful thing.\n\n401\n00:15:28.300 --> 00:15:28.990\n>> Yep.\n\n402\n00:15:28.990 --> 00:15:30.980\nWe should do a durer while we're in here,\nbecause you know,\n\n403\n00:15:30.980 --> 00:15:33.542\nI'm all about the durers today.\n\n404\n00:15:33.542 --> 00:15:36.279\nDo a switch over to, to c:/mount.\n\n405\n00:15:43.127 --> 00:15:45.290\n>> I knew he would forget that.\n\n406\n00:15:45.290 --> 00:15:46.405\nI would going to get him if he did.\n\n407\n00:15:46.405 --> 00:15:47.900\n>> [LAUGH]\n>> You guys out there were waiting for\n\n408\n00:15:47.900 --> 00:15:48.680\nit too, weren't you?\n\n409\n00:15:48.680 --> 00:15:51.270\nHe's not going to put the CD in the front,\nha ha ha ha.\n\n410\n00:15:51.270 --> 00:15:52.040\n>> Man.\n\n411\n00:15:52.040 --> 00:15:52.988\nAll right.\n\n412\n00:15:52.988 --> 00:15:56.000\nAnd then Hey look it there.\n\n413\n00:15:56.000 --> 00:15:57.760\nLooks like just a normal\nWindows directory, right?\n\n414\n00:15:57.760 --> 00:16:01.795\nSQL of Program Files, Program Files X86,\nSQL of Windows, SQL of Users.\n\n415\n00:16:01.795 --> 00:16:04.738\nSo that's our WIM file\nthat we've now mounted up.\n\n416\n00:16:04.738 --> 00:16:07.940\nAnd we could actually go in there and\nCopy files just like through\n\n417\n00:16:07.940 --> 00:16:11.793\nWindows Explorer I mean you could make\na new folder you could, you know,\n\n418\n00:16:11.793 --> 00:16:13.828\nso it, it's mounted up and ready to go.\n\n419\n00:16:13.828 --> 00:16:18.397\nWe can now work with it which is just\nreally cool cuz we could not do that\n\n420\n00:16:18.397 --> 00:16:21.509\nbefore we went to this\nnew WIM file format so.\n\n421\n00:16:21.509 --> 00:16:26.170\nAll right so lets do lets load up, you\nalready have a driver for us don't you?\n\n422\n00:16:26.170 --> 00:16:27.538\nI mean a Windows update.\n\n423\n00:16:27.538 --> 00:16:28.435\n>> Mm-hm yep.\n>> I belive so\n\n424\n00:16:28.435 --> 00:16:31.192\nyou'd get these through Microsoft,\nyou know, we, we usually go and\n\n425\n00:16:31.192 --> 00:16:33.310\nget our updates automatically every night,\nright?\n\n426\n00:16:33.310 --> 00:16:38.070\nBut most updates are available as\na redistributable where you can download,\n\n427\n00:16:38.070 --> 00:16:41.450\nyou can get that update,\nyou can download it and then redistribute.\n\n428\n00:16:41.450 --> 00:16:44.701\nDistributed to your computers without\neach one having to go out and get it.\n\n429\n00:16:44.701 --> 00:16:47.010\nOnce you get that,\nit's probably an MSU I would assume?\n\n430\n00:16:48.100 --> 00:16:50.290\n>> Hm.\nSo there are, there's three of them.\n\n431\n00:16:50.290 --> 00:16:50.890\n>> Okay.\n\n432\n00:16:50.890 --> 00:16:53.020\n>> That download and\nthey are in MSU format.\n\n433\n00:16:53.020 --> 00:16:54.358\nThat's that's good Mike.\n\n434\n00:16:54.358 --> 00:16:55.678\n>> I knew that.\n\n435\n00:16:55.678 --> 00:16:57.948\n>> So they do need to be in MSU format.\n\n436\n00:16:57.948 --> 00:16:58.898\n>> Hm, yes.\n\n437\n00:16:58.898 --> 00:16:59.798\n>> So there we go.\n\n438\n00:16:59.798 --> 00:17:03.461\n>> So, we've got those already\ndownloaded from Microsoft so\n\n439\n00:17:03.461 --> 00:17:08.159\nnow we're gonna use our DISIM command\nto add those updates to that WIM file.\n\n440\n00:17:08.159 --> 00:17:12.470\n>> It, all right, so I will,\n\n441\n00:17:12.470 --> 00:17:16.050\n[INAUDIBLE] Mm-mm,.\n\n442\n00:17:16.050 --> 00:17:17.520\n>> And\nyou do need to know these commands, and\n\n443\n00:17:17.520 --> 00:17:20.520\nno they will not let you bring in\na Notepad file with you to the exam,\n\n444\n00:17:20.520 --> 00:17:23.960\nso the copy and\npaste method won't work on the exam.\n\n445\n00:17:25.350 --> 00:17:27.190\n>> All right, so the, the package path.\n\n446\n00:17:27.190 --> 00:17:30.660\nNow, we can just point this and\nset it to an individual update.\n\n447\n00:17:30.660 --> 00:17:32.878\nWe can point it to the folder correct,\nMike.\n\n448\n00:17:32.878 --> 00:17:33.578\n>> Do all three of them.\n\n449\n00:17:33.578 --> 00:17:34.438\n>> Do all of them.\n\n450\n00:17:34.438 --> 00:17:35.737\n>> You know, I've never tried that,\nbut let's, let's do it.\n\n451\n00:17:35.737 --> 00:17:36.885\n>> All right.\n\n452\n00:17:36.885 --> 00:17:37.608\n>> Let's live on the edge, right?\n\n453\n00:17:37.608 --> 00:17:39.608\n>> So PackagePath c colon slash.\n\n454\n00:17:39.608 --> 00:17:43.230\nC colon and a slash updates.\n\n455\n00:17:43.230 --> 00:17:44.000\n>> Yeah.\n>> All right, and\n\n456\n00:17:44.000 --> 00:17:46.263\nthen add, add package and the image.\n\n457\n00:17:46.263 --> 00:17:50.025\n[SOUND] This is in C:\\mount now\n\n458\n00:17:50.025 --> 00:17:54.929\nnow we can just point to the,\nthe mount directory.\n\n459\n00:17:54.929 --> 00:17:57.318\n>> Right, cause there's only one\nimage bounded up in that directory so\n\n460\n00:17:57.318 --> 00:17:59.090\nit know which one will work on it, right.\n\n461\n00:17:59.090 --> 00:17:59.940\n>> Yep.\n\n462\n00:17:59.940 --> 00:18:00.502\n>> It's pretty smart.\n\n463\n00:18:00.502 --> 00:18:03.220\n>> All right, so there we go so\nthat we've completed our command.\n\n464\n00:18:04.900 --> 00:18:06.196\nAnd let's see what happens.\n\n465\n00:18:06.196 --> 00:18:08.309\n[CROSSTALK] Mm-hm.\n\n466\n00:18:08.309 --> 00:18:09.360\nIt looks like it's gonna work.\n\n467\n00:18:09.360 --> 00:18:11.375\n>> It looks like it.\nIt's thinking about it.\n\n468\n00:18:11.375 --> 00:18:14.183\n>> Mm-hm.\n>> It's gonna work come on, it's Nate,\n\n469\n00:18:14.183 --> 00:18:15.226\nit has to work.\n\n470\n00:18:15.226 --> 00:18:17.880\n>> [LAUGH] You know, usually I try to run\nthrough all these things before the show.\n\n471\n00:18:17.880 --> 00:18:19.846\n>> Yeah.\n>> So that way [CROSSTALK] you know, it's,\n\n472\n00:18:19.846 --> 00:18:21.391\neverything is like all you know, fluid.\n\n473\n00:18:21.391 --> 00:18:23.271\n[CROSSTALK] And it feels,\nyou know, it looks natural.\n\n474\n00:18:23.271 --> 00:18:24.940\nI can do it all the time.\n\n475\n00:18:24.940 --> 00:18:26.453\nYeah, you cut and paste well.\n\n476\n00:18:26.453 --> 00:18:30.694\n>> [LAUGH]\n>> Well, no, no, that's fine.\n\n477\n00:18:30.694 --> 00:18:32.650\nI mean it was a,\nit was a good holiday break.\n\n478\n00:18:32.650 --> 00:18:34.965\n>> It was a really good break, I'm still.\n\n479\n00:18:34.965 --> 00:18:42.229\n[SOUND] And really to me it's\nstill the break, I mean, you know?\n\n480\n00:18:42.229 --> 00:18:44.639\nThe new year really\ndoesn't kick in until you,\n\n481\n00:18:44.639 --> 00:18:47.820\nyou're at the first full week of business,\nright?\n\n482\n00:18:47.820 --> 00:18:50.850\nIn my opinion So,\nit's kind of like Mardi Gras, you know.\n\n483\n00:18:50.850 --> 00:18:55.146\nIt's not just a one night thing it's,\nit's many nights strung together [LAUGH].\n\n484\n00:18:55.146 --> 00:18:56.977\n>> [LAUGH]\n>> So next Monday will be the official\n\n485\n00:18:56.977 --> 00:18:57.739\nstart in\n>> [LAUGH]\n\n486\n00:18:57.739 --> 00:18:58.500\n>> My mind of this next year.\n\n487\n00:18:58.500 --> 00:18:59.400\n>> [LAUGH]\n>> And\n\n488\n00:18:59.400 --> 00:19:02.460\nright now I'm just in limbo land,\nbetween years.\n\n489\n00:19:02.460 --> 00:19:04.542\n>> Man, man.\n\n490\n00:19:04.542 --> 00:19:07.879\nMan, you know, you got a lot\nof pull around here, you know.\n\n491\n00:19:07.879 --> 00:19:10.099\n>> [CROSSTALK]\n>> Like strollin'.\n\n492\n00:19:10.099 --> 00:19:12.899\nYou know, I mean, there, so true story.\n\n493\n00:19:12.899 --> 00:19:13.399\n>> Yeah.\n\n494\n00:19:13.399 --> 00:19:14.979\n[LAUGH]\n>> Today.\n\n495\n00:19:14.979 --> 00:19:17.438\n>> So I, you know got here,\nbright and early in the morning.\n\n496\n00:19:17.438 --> 00:19:18.398\nAt nine o'clock.\n\n497\n00:19:18.398 --> 00:19:18.978\n>> Nine o'clock?\n\n498\n00:19:18.978 --> 00:19:21.778\n>> And, and Mike rolls in,\n>> I wasn't even out of bed yet.\n\n499\n00:19:21.778 --> 00:19:24.077\n[LAUGH]\n>> Mike rolls in at like 11:59,\n\n500\n00:19:24.077 --> 00:19:27.070\nhe like; so all right,\nwho's going to lunch?\n\n501\n00:19:27.070 --> 00:19:31.370\nAnd so then we go to so you started\nyou actual day like two hours ago.\n\n502\n00:19:31.370 --> 00:19:32.340\n>> Yep\n>> That's\n\n503\n00:19:32.340 --> 00:19:33.790\ncrazy\n>> And\n\n504\n00:19:33.790 --> 00:19:36.415\nI keep telling you guys this is\nwhy you study computers right?.\n\n505\n00:19:36.415 --> 00:19:38.756\n>> [LAUGH].\n\n506\n00:19:38.756 --> 00:19:39.980\nThis is why you want to\nget into the IT field.\n\n507\n00:19:41.060 --> 00:19:42.310\nIt's good stuff.\n\n508\n00:19:42.310 --> 00:19:46.503\n>> Yeah I was surprised you weren't just\nlike, let me remote in from my house and\n\n509\n00:19:46.503 --> 00:19:49.297\nwe'll just do it like Jay Ricky style\n>> All right.\n\n510\n00:19:49.297 --> 00:19:50.177\n[CROSSTALK]\n>> Working on that.\n\n511\n00:19:50.177 --> 00:19:52.297\n>> So we have, we've got the,\nthe three packages.\n\n512\n00:19:52.297 --> 00:19:53.601\n[CROSSTALK]\n>> I added all three of them.\n\n513\n00:19:53.601 --> 00:19:55.920\nMm-hm.\n>> Yep, added all three, so no sweat.\n\n514\n00:19:55.920 --> 00:19:56.570\nThat worked out,.\n\n515\n00:19:57.990 --> 00:20:01.740\n>> And the most important part of all,\nis this next step right?\n\n516\n00:20:02.950 --> 00:20:04.018\n>> What's that?\n\n517\n00:20:04.018 --> 00:20:06.250\n>> To unmount it and commit your changes.\n\n518\n00:20:06.250 --> 00:20:06.758\n>> That's right.\n\n519\n00:20:06.758 --> 00:20:07.610\nThat's right.\n\n520\n00:20:07.610 --> 00:20:08.240\n>> Yes.\nYes.\n\n521\n00:20:08.240 --> 00:20:12.930\nBecause at this point we have added\nthose updates to that image, but\n\n522\n00:20:12.930 --> 00:20:16.270\nif we were to just stop right there and\nunmount it,\n\n523\n00:20:16.270 --> 00:20:19.260\nall those changes would be lost and\nwe'd still be with that default image.\n\n524\n00:20:19.260 --> 00:20:23.598\nSo we need to now tell DISM to\ncommit those changes that we made.\n\n525\n00:20:23.598 --> 00:20:27.500\nMaybe you made a mistake, maybe you didn't\nwanna commit them you know so there, you,\n\n526\n00:20:27.500 --> 00:20:31.136\ngives you that last opportunity before you\nactually commit them to say do I really\n\n527\n00:20:31.136 --> 00:20:33.619\nwanna do this and\nnow that we're sure, we're gonna.\n\n528\n00:20:33.619 --> 00:20:35.950\nJust go ahead and\nrun this commit command so\n\n529\n00:20:35.950 --> 00:20:39.837\nunmount-Wim location of where you had\nmounted up in the first place and\n\n530\n00:20:39.837 --> 00:20:42.710\nthen /commit to,\nto actually save those changes.\n\n531\n00:20:43.820 --> 00:20:47.120\n>> And let's say that, you know we,\nwe mounted it just to poke around or\n\n532\n00:20:47.120 --> 00:20:51.160\ndo something and\nthat we didn't want to make any changes.\n\n533\n00:20:51.160 --> 00:20:56.070\nAnd if we didn't want to make any changes\nwe then we would use the discard.\n\n534\n00:20:56.070 --> 00:20:58.610\nThe discard switch and\nthat will unmount it,\n\n535\n00:20:58.610 --> 00:21:02.330\nwipe out anything that we've done to that\nimage while we're messing around with it.\n\n536\n00:21:02.330 --> 00:21:03.920\nAnd not save anything.\n\n537\n00:21:03.920 --> 00:21:04.580\n>> Cool beans.\n\n538\n00:21:04.580 --> 00:21:05.420\n>> Yep.\n\n539\n00:21:05.420 --> 00:21:07.620\nBut we don't want to\ndiscard those updates.\n\n540\n00:21:07.620 --> 00:21:09.489\n>> No.\n>> We want to keep them with\n\n541\n00:21:09.489 --> 00:21:10.189\n>> Those are important updates.\n\n542\n00:21:10.189 --> 00:21:11.688\n>> Mm-hm.\n\n543\n00:21:11.688 --> 00:21:14.621\n>> Do you know what KB2894179 is?\n\n544\n00:21:14.621 --> 00:21:15.525\n>> What?\n\n545\n00:21:15.525 --> 00:21:16.659\n>> I know.\n\n546\n00:21:16.659 --> 00:21:18.015\n>> Uh-uh.\n\n547\n00:21:18.015 --> 00:21:19.388\n>> Just pick random updates?\n\n548\n00:21:19.388 --> 00:21:21.368\n>> [NOISE].\n>> Are they actually Windows database.\n\n549\n00:21:21.368 --> 00:21:25.329\n>> Mm-hm.\n\n550\n00:21:25.329 --> 00:21:26.229\n[CROSSTALK]\n>> Oops.\n\n551\n00:21:26.229 --> 00:21:27.449\nTypo.\n\n552\n00:21:27.449 --> 00:21:28.849\nOops.\n\n553\n00:21:28.849 --> 00:21:31.609\n>> Instead of when it was then.\n\n554\n00:21:31.609 --> 00:21:32.489\nThere we go.\n\n555\n00:21:32.489 --> 00:21:33.308\n>> There we go.\n\n556\n00:21:33.308 --> 00:21:34.090\n>> All right, easy fix.\n\n557\n00:21:34.090 --> 00:21:35.710\nMan, that was good,\nthat's good troubleshooting.\n\n558\n00:21:35.710 --> 00:21:36.430\n>> Yeah, it was.\n>> I wish,\n\n559\n00:21:36.430 --> 00:21:37.720\nI wish Duncan was here to see it.\n\n560\n00:21:37.720 --> 00:21:39.300\nHe would have been impressed.\n\n561\n00:21:39.300 --> 00:21:41.050\n>> Yeah, I know, he'd be like,\nNate that was record time.\n\n562\n00:21:41.050 --> 00:21:42.390\n>> Yes, that was good.\n\n563\n00:21:42.390 --> 00:21:44.459\n>> Man, I had tr,\ntrouble troubleshooting that.\n\n564\n00:21:44.459 --> 00:21:46.290\n>> [COUGH].\n\n565\n00:21:46.290 --> 00:21:47.710\n>> All right, all right.\n\n566\n00:21:47.710 --> 00:21:48.985\nSo here we go.\n\n567\n00:21:48.985 --> 00:21:49.500\n>> Mm-hm.\n\n568\n00:21:49.500 --> 00:21:52.934\n>> And so up next,\nI guess we'll we got some drivers.\n\n569\n00:21:52.934 --> 00:21:53.460\n>> Mm-hm.\n\n570\n00:21:53.460 --> 00:21:54.875\n>> So we'll create a, a driver group.\n\n571\n00:21:54.875 --> 00:21:58.290\n>> Mm-hm.\nAnd yeah, stick those guys up in there.\n\n572\n00:21:58.290 --> 00:21:58.870\n>> Sounds like a plan.\n\n573\n00:21:58.870 --> 00:22:01.560\n>> Yep.\n>> Do you want to do that want to come\n\n574\n00:22:01.560 --> 00:22:02.620\nback and do that?\n\n575\n00:22:02.620 --> 00:22:03.600\n>> Yeah, I, yeah, I think so.\n\n576\n00:22:03.600 --> 00:22:06.975\nYou, yeah. Mm-hm. >> Kind of keep this\nepisode dealing with adding stuff to our\n\n577\n00:22:06.975 --> 00:22:10.939\nwhim, committing it, then coming back and\ntake a look at driver packages.\n\n578\n00:22:10.939 --> 00:22:12.650\n>> Yeah.\n>> Service is a separate thing?\n\n579\n00:22:12.650 --> 00:22:13.980\n>> Well yeah, I'll look into it next but\n\n580\n00:22:13.980 --> 00:22:17.400\nwhile this guy me,\nas you get started turn that stuff out.\n\n581\n00:22:17.400 --> 00:22:19.770\nLet's so we got a few minutes left.\n\n582\n00:22:19.770 --> 00:22:20.930\n>> Okay.\n>> But let's,\n\n583\n00:22:20.930 --> 00:22:22.170\nlet's take a break here though.\n\n584\n00:22:22.170 --> 00:22:22.700\n>> Okay.\n\n585\n00:22:22.700 --> 00:22:24.460\n>> And we'll let this guy grind through.\n\n586\n00:22:24.460 --> 00:22:29.480\nAnd then when we come back we can\nadd some drivers to this guy.\n\n587\n00:22:29.480 --> 00:22:30.030\n>> Sounds like a plan.\n\n588\n00:22:30.030 --> 00:22:30.941\n>> And get it ready.\n\n589\n00:22:30.941 --> 00:22:35.200\nAll right sweet so yep so\nwe'll do all that stuff after the break.\n\n590\n00:22:35.200 --> 00:22:43.161\n[MUSIC]\n\n591\n00:22:43.161 --> 00:22:44.910\nAll right, welcome back.\n\n592\n00:22:44.910 --> 00:22:45.840\n>> Welcome back.\n\n593\n00:22:45.840 --> 00:22:47.009\n>> All right, [CROSSTALK] so.\n\n594\n00:22:47.009 --> 00:22:47.890\n>> So.\n\n595\n00:22:47.890 --> 00:22:48.940\n>> So it, it finished.\n\n596\n00:22:48.940 --> 00:22:49.770\n>> It did.\n>> Mm-hm.\n\n597\n00:22:49.770 --> 00:22:51.105\n>> With some interesting messages.\n\n598\n00:22:51.105 --> 00:22:52.040\n>> Mm-hm.\n>> And we're gonna,\n\n599\n00:22:52.040 --> 00:22:53.510\ndo you still have those or\ndid we clear that off.\n\n600\n00:22:53.510 --> 00:22:54.010\n>> Yeah.\nNo, no, no.\n\n601\n00:22:54.010 --> 00:22:54.730\nI didn't close it.\n\n602\n00:22:54.730 --> 00:22:55.340\n>> Okay, cool.\n\n603\n00:22:55.340 --> 00:22:59.060\n>> So, so on here, right you know,\nI had some Explorer Windows open.\n\n604\n00:22:59.060 --> 00:23:03.924\nAnd so it, it threw the, oops, so\nit threw this, this first one.\n\n605\n00:23:03.924 --> 00:23:05.457\n>> Mm-hm.\n>> So, usually,\n\n606\n00:23:05.457 --> 00:23:07.765\nthis is usually [CROSSTALK]\n>> Completely unmounted.\n\n607\n00:23:07.765 --> 00:23:09.700\n>> Um-hm.\n>> This is due to an applications that\n\n608\n00:23:09.700 --> 00:23:12.580\nstill have files open\nwithin the mount directory.\n\n609\n00:23:12.580 --> 00:23:16.060\nClose these files and\nunmount again to complete the process.\n\n610\n00:23:16.060 --> 00:23:17.960\n>> Yep or something like that.\n\n611\n00:23:17.960 --> 00:23:19.240\nYep.\n>> And so I so\n\n612\n00:23:19.240 --> 00:23:23.550\nI did that I closed them out to you know\nthanks to your recommendation and so\n\n613\n00:23:23.550 --> 00:23:27.140\nwe re-ran the, the command and\nthen it gets even better.\n\n614\n00:23:27.140 --> 00:23:27.890\n>> Yeah.\n\n615\n00:23:27.890 --> 00:23:32.430\nSo it's, the specified mount image can\nnot be committed back into the whim,\n\n616\n00:23:32.430 --> 00:23:36.910\nthis occurs when an image has\nbeen through a partial unmount.\n\n617\n00:23:36.910 --> 00:23:38.880\nOr when an image is still being mounted.\n\n618\n00:23:38.880 --> 00:23:42.080\nIf this image was unmounted\nwith commit earlier,\n\n619\n00:23:42.080 --> 00:23:44.080\nthen the commit probably-\n>> [LAUGH]\n\n620\n00:23:44.080 --> 00:23:45.350\n>> Succeeded.\n\n621\n00:23:45.350 --> 00:23:45.860\nProbably.\n\n622\n00:23:45.860 --> 00:23:47.028\n>> Yeah. Probably. Wait.\n\n623\n00:23:47.028 --> 00:23:48.248\nYou can't tell me if it worked or not.\n\n624\n00:23:48.248 --> 00:23:50.109\n>> [LAUGH]\n>> Eh, we don't know.\n\n625\n00:23:50.109 --> 00:23:51.150\n>> Probably.\n\n626\n00:23:51.150 --> 00:23:52.220\n>> This does happen quite a bit,\n\n627\n00:23:52.220 --> 00:23:55.220\nespecially I, I'm in a bad habit\nof having Windows Explorer open.\n\n628\n00:23:56.430 --> 00:24:00.470\nAnd, and, so you've done a dir command or\nlike that dir command we did, so\n\n629\n00:24:00.470 --> 00:24:02.910\nthat command prompt window you know.\n\n630\n00:24:02.910 --> 00:24:05.202\nIt's just because there's a file in use or\nit's open and\n\n631\n00:24:05.202 --> 00:24:06.501\nit can't get full access to it.\n\n632\n00:24:06.501 --> 00:24:09.667\nIt can't get exclusive access,\nbut it works.\n\n633\n00:24:09.667 --> 00:24:11.618\nIt, it, I've seen this air many times and\n\n634\n00:24:11.618 --> 00:24:14.834\nI've never had a problem with\nthe image actually working after that.\n\n635\n00:24:14.834 --> 00:24:15.917\nMm-hm.\n[SOUND]\n\n636\n00:24:15.917 --> 00:24:17.083\n>> Sweet knock on something wood.\n\n637\n00:24:17.083 --> 00:24:20.061\n[SOUND]\n>> All right, so.\n\n638\n00:24:20.061 --> 00:24:21.860\n>> Which probably worked.\n\n639\n00:24:21.860 --> 00:24:22.694\n>> [LAUGH] Probably, yeah, probably.\n\n640\n00:24:22.694 --> 00:24:23.250\nIt probably succeeded.\n\n641\n00:24:23.250 --> 00:24:24.770\n>> Yeah.\n>> It, yeah, well fortunately this isn't\n\n642\n00:24:24.770 --> 00:24:26.820\na mission critical.\n\n643\n00:24:26.820 --> 00:24:27.470\n>> Yes.\n>> You know\n\n644\n00:24:27.470 --> 00:24:28.558\nwhatever thing that we're working with.\n\n645\n00:24:28.558 --> 00:24:31.727\nAll right so lets go ahead now and\ncreate a, a driver package.\n\n646\n00:24:31.727 --> 00:24:34.010\n>> Okay.\n>> That we can add to this.\n\n647\n00:24:34.010 --> 00:24:36.220\nSo that Don can get get stuff.\n\n648\n00:24:36.220 --> 00:24:36.880\n>> Yep.\n\n649\n00:24:36.880 --> 00:24:40.700\n>> And to do that guy, we'll come over to\ndrivers, and we'll right-click this guy.\n\n650\n00:24:40.700 --> 00:24:43.940\n>> Hm-hm.\n>> And we will say, add a driver package.\n\n651\n00:24:45.330 --> 00:24:46.223\n>> Hm-hm.\n>> All right?\n\n652\n00:24:46.223 --> 00:24:48.013\nAnd so now in, in this right here, and so\n\n653\n00:24:48.013 --> 00:24:50.753\nwe you can select the driver's\npackage from an INF file,\n\n654\n00:24:50.753 --> 00:24:54.150\nand the ones that we're gonna be adding\nare from the, the chipset drivers.\n\n655\n00:24:54.150 --> 00:24:55.370\n>> Okay.\n>> And so there are many,\n\n656\n00:24:55.370 --> 00:24:56.180\nmany-\n>> Mm-hm.\n\n657\n00:24:56.180 --> 00:24:58.470\n>> Those guys, so\nwe're just gonna add them from a folder.\n\n658\n00:24:58.470 --> 00:24:59.590\n>> Right.\n\n659\n00:24:59.590 --> 00:25:03.805\n>> And the folder for that one is on\nthe C drive, and it is called Drivers.\n\n660\n00:25:03.805 --> 00:25:04.775\n>> Hm-hm.\n\n661\n00:25:04.775 --> 00:25:07.095\n>> So yes, we'll click Next.\n\n662\n00:25:07.095 --> 00:25:08.085\nAnd that's gonna go through and\n\n663\n00:25:08.085 --> 00:25:11.030\nthen it'll find all of those driver\npackages within that folder.\n\n664\n00:25:11.030 --> 00:25:12.215\n>> Hm-hm.\n>> And there are many.\n\n665\n00:25:12.215 --> 00:25:13.145\nI think there's around 200.\n\n666\n00:25:13.145 --> 00:25:14.635\n>> Mm.\n\n667\n00:25:14.635 --> 00:25:16.095\n>> So I, you know, so then I thought like,\n\n668\n00:25:16.095 --> 00:25:20.642\nwell I can go through and get the,\nthe Cyprus, and the, the video and stuff.\n\n669\n00:25:20.642 --> 00:25:24.969\n>> We've done them all,\n32-bit, 64-bit, everything.\n\n670\n00:25:24.969 --> 00:25:29.382\n>> So so yea, in the end I just stuck with\nthe, the chipset drivers, cuz as long as\n\n671\n00:25:29.382 --> 00:25:33.379\nit can, you know, verify what it is,\nthen Winsows, Windows Update can.\n\n672\n00:25:33.379 --> 00:25:34.383\n>> Hm-hm.\n>> And it's just Don's laptop, so.\n\n673\n00:25:34.383 --> 00:25:34.978\n>> It's just Don's laptop.\n>> Hm-hm, I know.\n\n674\n00:25:34.978 --> 00:25:36.348\nYou know, hopefully-\n>> You, you use this,\n\n675\n00:25:36.348 --> 00:25:38.599\na lot of the times what I do for\nis, you know, in a,\n\n676\n00:25:38.599 --> 00:25:41.103\nin a lot of corporate environments,\nyou don't have.\n\n677\n00:25:41.103 --> 00:25:45.020\nYou, you think you walk in and, and\nyou'd have 500 PCs in your network, right?\n\n678\n00:25:45.020 --> 00:25:47.420\nAnd they're all gonna be\nthe exact same thing.\n\n679\n00:25:47.420 --> 00:25:49.335\nNo, never happens that way, right?\n\n680\n00:25:49.335 --> 00:25:53.470\nCuz you've, you've went and bought 30\nnew machines last month and you know,\n\n681\n00:25:53.470 --> 00:25:55.010\nnext month you're gonna buy 20 more.\n\n682\n00:25:55.010 --> 00:25:58.620\nSo you end up with a network where you've\ngot some Dell 740's, some Dell 745's,\n\n683\n00:25:59.640 --> 00:26:03.280\nsome 960s, some 980s, and\nthey come with different video cards.\n\n684\n00:26:03.280 --> 00:26:05.690\nFor example, that's usually\none that I had to deal with,\n\n685\n00:26:05.690 --> 00:26:07.520\nnetwork adapters is another one.\n\n686\n00:26:07.520 --> 00:26:10.930\nSo you can create these driver\ngroups in these packages.\n\n687\n00:26:10.930 --> 00:26:14.130\nAnd then when it pulls that image down,\nif it's a 745,\n\n688\n00:26:14.130 --> 00:26:17.940\nit'll reach out to deployment services and\nfind the driver for the 745.\n\n689\n00:26:17.940 --> 00:26:18.980\nIf it's a nine.\n\n690\n00:26:18.980 --> 00:26:23.470\nAnd so instead of having to put every\nvideo card driver in every image,\n\n691\n00:26:23.470 --> 00:26:26.110\nit's just getting the driver\nthat it needs for that image.\n\n692\n00:26:26.110 --> 00:26:27.185\nSo, it works out really well.\n\n693\n00:26:27.185 --> 00:26:28.330\n>> Mm-hm.\n\n694\n00:26:28.330 --> 00:26:29.250\n>> I like it.\n\n695\n00:26:29.250 --> 00:26:30.030\nSo that's.\n\n696\n00:26:31.170 --> 00:26:33.825\n>> Yeah, it went, yeah, went through and\nit found all that stuff.\n\n697\n00:26:33.825 --> 00:26:34.521\n>> Mm-hm.\n\n698\n00:26:34.521 --> 00:26:37.045\n>> And it, it, it completed, so\nwe'll click Next to go through.\n\n699\n00:26:37.045 --> 00:26:41.570\nAnd so here, we can add it to an existing\ndriver group, or create a new one.\n\n700\n00:26:41.570 --> 00:26:42.730\nShould we create a new one?\n\n701\n00:26:42.730 --> 00:26:43.540\n>> I say we create a new one.\n\n702\n00:26:43.540 --> 00:26:44.132\n>> All right, hm-hm.\n\n703\n00:26:44.132 --> 00:26:46.200\n>> If this,\nthese are XPS specific chipset drivers,\n\n704\n00:26:46.200 --> 00:26:47.670\nmaybe we should make a little XPS group.\n\n705\n00:26:49.120 --> 00:26:50.080\n>> Dell XPS or just XPS?\n\n706\n00:26:50.080 --> 00:26:51.220\n>> I like it.\n\n707\n00:26:51.220 --> 00:26:51.780\nI think that's good.\n\n708\n00:26:51.780 --> 00:26:52.472\n>> Dell XPS, all right.\n\n709\n00:26:52.472 --> 00:26:53.478\n>> Mm-hm.\n\n710\n00:26:54.936 --> 00:26:57.250\n>> All right, and modify the filters now?\n\n711\n00:26:57.250 --> 00:26:58.108\nLet's go ahead and do that.\n\n712\n00:26:58.108 --> 00:26:58.689\n>> Mm-hm.\n\n713\n00:26:58.689 --> 00:27:00.350\n>> All right.\n\n714\n00:27:00.350 --> 00:27:05.660\nSo with, with the filters certain\ncriteria to be met you know,\n\n715\n00:27:05.660 --> 00:27:07.250\nwhen a, a machine is assigning something.\n\n716\n00:27:07.250 --> 00:27:10.740\nSo it will then pull down these\ndriver packages and add it to them.\n\n717\n00:27:10.740 --> 00:27:11.670\n>> Hm-hm, yep.\n\n718\n00:27:11.670 --> 00:27:14.546\n>> It just prevents computers that didn't\nneed these drivers from trying to pull\n\n719\n00:27:14.546 --> 00:27:15.980\nthese drivers down.\n\n720\n00:27:15.980 --> 00:27:16.894\n>> Hm-hm, all right.\n\n721\n00:27:16.894 --> 00:27:21.130\nAnd so, all right, so yeah, so\nyeah a couple different filter types.\n\n722\n00:27:21.130 --> 00:27:23.420\nManufacturer, model,\nBIOS, chassis type, OS.\n\n723\n00:27:23.420 --> 00:27:24.990\nWe don't really need stuff.\n\n724\n00:27:24.990 --> 00:27:26.690\nWe'll just leave it at manufacturer.\n\n725\n00:27:26.690 --> 00:27:27.936\n>> Are you saying BIOS?\n\n726\n00:27:27.936 --> 00:27:28.620\n>> BIOS?\n>> Hm-hm.\n\n727\n00:27:28.620 --> 00:27:30.200\n>> Yeah.\nHow do you say it?\n\n728\n00:27:30.200 --> 00:27:30.960\n>> BIOS.\n>> BIOS?\n\n729\n00:27:30.960 --> 00:27:31.710\n>> Yeah.\n>> BIOS.\n\n730\n00:27:31.710 --> 00:27:32.810\n>> Eh, just curious.\n\n731\n00:27:32.810 --> 00:27:34.610\nIt's like ethernet, or ethernet.\n\n732\n00:27:34.610 --> 00:27:37.150\n>> Yeah, I know.\nDon probably is like it's, it's BIOS.\n\n733\n00:27:37.150 --> 00:27:37.890\n>> Yeah.\n>> And I'm like, wait, no, no.\n\n734\n00:27:37.890 --> 00:27:39.165\nCome on.\n>> That's because Don went out and\n\n735\n00:27:39.165 --> 00:27:41.722\nlooked up who it is that\ninvented the term, and it, no.\n\n736\n00:27:41.722 --> 00:27:42.680\n[LAUGH]\n>> [LAUGH]\n\n737\n00:27:42.680 --> 00:27:44.420\n>> Well it is basic input\n\n738\n00:27:44.420 --> 00:27:45.418\noperating system, right?\n\n739\n00:27:45.418 --> 00:27:47.324\n>> Input output.\n\n740\n00:27:47.324 --> 00:27:49.500\n>> [LAUGH]\n>> No, isn't it?\n\n741\n00:27:49.500 --> 00:27:50.140\nWhat does it stand for?\n\n742\n00:27:50.140 --> 00:27:51.708\n>> Right?\nOperating system?\n\n743\n00:27:51.708 --> 00:27:53.174\n>> No, I'm teasing.\n\n744\n00:27:53.174 --> 00:27:53.835\n>> I'm like.\n\n745\n00:27:53.835 --> 00:27:56.734\n>> [LAUGH]\n>> All right so manufacturer, and, and so\n\n746\n00:27:56.734 --> 00:27:59.070\nwe, we can say equal to or non equal to.\n\n747\n00:27:59.070 --> 00:27:59.780\n>> All right.\n\n748\n00:27:59.780 --> 00:28:03.020\n>> So we can say for every machine except-\n>> Except for.\n\n749\n00:28:03.020 --> 00:28:03.853\n>> Except for.\n\n750\n00:28:03.853 --> 00:28:05.180\n>> Nice.\n\n751\n00:28:05.180 --> 00:28:09.520\n>> But we'll do equal to and\njust say, don't.\n\n752\n00:28:09.520 --> 00:28:10.109\n>> Hm-hm, don't.\n\n753\n00:28:10.109 --> 00:28:11.488\n>> All right.\n\n754\n00:28:11.488 --> 00:28:12.596\n>> Mm-hm.\n\n755\n00:28:12.596 --> 00:28:13.390\n>> So there we go.\n\n756\n00:28:13.390 --> 00:28:15.185\nSo now we have a filter set up.\n\n757\n00:28:15.185 --> 00:28:16.280\n>> Mm-hm.\n\n758\n00:28:16.280 --> 00:28:19.380\n>> So now if we're only imaging\nan XPS machine will it bother\n\n759\n00:28:19.380 --> 00:28:20.405\npulling down those drivers.\n\n760\n00:28:20.405 --> 00:28:22.560\n>> Mm-hm.\n\n761\n00:28:22.560 --> 00:28:25.430\n>> Perfect\n>> All right, and now it's not responding.\n\n762\n00:28:25.430 --> 00:28:30.353\n>> Who's adding all that stuff?\n\n763\n00:28:30.353 --> 00:28:33.054\n>> I dont know.\nThat pretty much takes care of our\n\n764\n00:28:33.054 --> 00:28:36.603\nadding our driver package and-\n>> So, there it goes.\n\n765\n00:28:36.603 --> 00:28:37.771\n>> Nice, yeah, there's a lot of drives.\n\n766\n00:28:37.771 --> 00:28:38.722\n>> Mm-hm.\n>> I mean, that is,\n\n767\n00:28:38.722 --> 00:28:39.395\nthat's a lot of drivers.\n\n768\n00:28:39.395 --> 00:28:40.460\n>> Mm-hm.\n\n769\n00:28:40.460 --> 00:28:43.600\nAll right now,\nto add this to a particular group,right?\n\n770\n00:28:43.600 --> 00:28:46.411\nYou, know, you would think it\nwould go in the install images,\n\n771\n00:28:46.411 --> 00:28:48.600\nis where we would tack it in on to,\nbut it's not.\n\n772\n00:28:49.685 --> 00:28:51.710\nIt's in the boot images.\n\n773\n00:28:51.710 --> 00:28:58.430\nLet's go and select the setup one, and add\ndriver packages, right, to the image here.\n\n774\n00:29:00.210 --> 00:29:02.895\nMm-mm, hm-mm, hm-mm.\n\n775\n00:29:06.396 --> 00:29:07.061\nAll right?\n\n776\n00:29:07.061 --> 00:29:07.561\n>> Mm-hm.\n\n777\n00:29:09.380 --> 00:29:10.603\n>> All them bad boots?\n\n778\n00:29:15.936 --> 00:29:17.661\nAnd now that's to add it\nto the boot image, but\n\n779\n00:29:17.661 --> 00:29:19.840\nwe really didn't need to add\nit to the boot image, did we?\n\n780\n00:29:23.345 --> 00:29:24.765\n>> Yeah.\nCuz if, if, if, you know,\n\n781\n00:29:24.765 --> 00:29:28.005\nif, like you might need some network\nadapter drivers that you have to add to.\n\n782\n00:29:28.005 --> 00:29:30.815\nA lot of times what you're adding to\nthe boot image is network drivers.\n\n783\n00:29:30.815 --> 00:29:35.068\nCuz if I go to net boot a machine and\nit pulls down deploy,\n\n784\n00:29:35.068 --> 00:29:39.760\nthat deployment services client or that,\nthat boot image, right, using TFTP.\n\n785\n00:29:39.760 --> 00:29:43.450\nAnd then it doesn't have\na driver that could use for\n\n786\n00:29:43.450 --> 00:29:44.620\nthat network adapter on that machine.\n\n787\n00:29:44.620 --> 00:29:46.870\nIt won't be able to connect\nto my deployment server.\n\n788\n00:29:46.870 --> 00:29:49.230\nSo a lot of times what we're doing is\nwe are just making sure we have all our\n\n789\n00:29:49.230 --> 00:29:51.210\ndifferent network adapter divers added\n\n790\n00:29:51.210 --> 00:29:53.880\nto a diver group that\nthe boot image can access.\n\n791\n00:29:53.880 --> 00:29:57.565\nThe image itself, like when we deploy that\nWindows 8 image, it'll go back up there,\n\n792\n00:29:57.565 --> 00:29:59.293\nand it'll search those driver groups.\n\n793\n00:29:59.293 --> 00:30:01.090\nAnd it'll find them, and pull them down.\n\n794\n00:30:01.090 --> 00:30:04.676\nSo it's not like it's adding\nit to the boot image itself.\n\n795\n00:30:04.676 --> 00:30:08.897\nIt's just giving that boot image\nthe access to those drivers, right?\n\n796\n00:30:08.897 --> 00:30:10.061\n>> Mm-hm.\n\n797\n00:30:10.061 --> 00:30:10.839\nWord?\n\n798\n00:30:10.839 --> 00:30:11.620\n>> Word.\n\n799\n00:30:11.620 --> 00:30:12.660\n>> All right.\n\n800\n00:30:12.660 --> 00:30:14.620\nSweet. Okay. >> [CROSSTALK]\n>> So here we go, all right?\n\n801\n00:30:14.620 --> 00:30:15.656\nAnd so yeah.\n\n802\n00:30:15.656 --> 00:30:17.340\nThat's pretty good on that one.\n\n803\n00:30:17.340 --> 00:30:17.852\n>> [CROSSTALK] It would,\n\n804\n00:30:17.852 --> 00:30:19.395\nit would make it pretty easy\nwith deployment services, right?\n\n805\n00:30:19.395 --> 00:30:23.310\nI, I, I think we said that on the last\nepisode we did on deployment services.\n\n806\n00:30:23.310 --> 00:30:26.600\nIt's a fun little console to work in,\nit's not terribly complex, and\n\n807\n00:30:26.600 --> 00:30:28.000\nit's very powerful.\n\n808\n00:30:28.000 --> 00:30:29.145\nSaves our butt a lot of times.\n\n809\n00:30:29.145 --> 00:30:31.550\nImean it makes our jo,\nIt makes our life a lot easier.\n\n810\n00:30:31.550 --> 00:30:35.130\nInstead of running around from machine\nto machine to machine with a DVD and,\n\n811\n00:30:35.130 --> 00:30:35.705\nand stuff like that.\n\n812\n00:30:35.705 --> 00:30:37.396\n[SOUND], it's all right here.\n\n813\n00:30:37.396 --> 00:30:40.742\nBeautiful thing,\nlove me some deployment services.\n\n814\n00:30:40.742 --> 00:30:41.600\n>> All right.\n\n815\n00:30:41.600 --> 00:30:45.030\nYep, the last thing now is to\nto add some features to the sky.\n\n816\n00:30:45.030 --> 00:30:45.690\n>> All right, mm-hm.\n\n817\n00:30:45.690 --> 00:30:46.273\n>> All right?\n\n818\n00:30:46.273 --> 00:30:50.740\nNow, the in the first step right there,\nso we've got to mount the sky back up.\n\n819\n00:30:50.740 --> 00:30:51.560\n>> Okay.\n>> Correct?\n\n820\n00:30:51.560 --> 00:30:52.370\n>> Yep.\n\n821\n00:30:52.370 --> 00:30:55.380\n>> All right, and so I will go and, hm-hm.\n\n822\n00:30:55.380 --> 00:30:56.870\n>> Yeah, the boss comes to you and\nsays, hey look,\n\n823\n00:30:56.870 --> 00:31:01.400\nwe need to make sure remote management\nis enabled on all our clients.\n\n824\n00:31:01.400 --> 00:31:02.310\nWell I could do that.\n\n825\n00:31:02.310 --> 00:31:04.990\nI could, I could create\na group policy to do that for\n\n826\n00:31:04.990 --> 00:31:06.990\nthe machines that have already been,\nyou know, installed.\n\n827\n00:31:06.990 --> 00:31:11.290\nI could do it remotely with\nthe PowerShell command.\n\n828\n00:31:11.290 --> 00:31:14.410\nBut what we can do,\nis we can also do it in our image itself.\n\n829\n00:31:14.410 --> 00:31:17.540\nSo that when I deploy the image,\nthese features are already turned on.\n\n830\n00:31:17.540 --> 00:31:20.190\nMaybe we use Telnet a lot in our,\nin our environment.\n\n831\n00:31:20.190 --> 00:31:23.480\nAnd I want to make sure when we push that\nimage out, that Telnet's already enabled.\n\n832\n00:31:23.480 --> 00:31:26.540\nAnd I don't have to go back to\nthe machine after I image it, and\n\n833\n00:31:26.540 --> 00:31:28.999\nturn Telnet on, or some other feature,\nany of the Windows features.\n\n834\n00:31:30.300 --> 00:31:31.360\nSo that's what we're gonna do now.\n\n835\n00:31:31.360 --> 00:31:33.510\nSo we're gonna mount that image up first,\nand\n\n836\n00:31:33.510 --> 00:31:36.725\nthen we'll show you guys how to get\na list of all the available features.\n\n837\n00:31:36.725 --> 00:31:39.450\nCuz I gotta know what features\nI want to turn on and\n\n838\n00:31:39.450 --> 00:31:41.020\nthen we'll enable one of the features.\n\n839\n00:31:41.020 --> 00:31:42.910\nAnd then we'll commit those\nchanges back to the image,\n\n840\n00:31:42.910 --> 00:31:47.080\njust like like we did when\nwe added the the updates.\n\n841\n00:31:49.320 --> 00:31:51.513\n>> Right, so I, I ran that, right?\n\n842\n00:31:51.513 --> 00:31:53.070\nSo, image file, right?\n\n843\n00:31:53.070 --> 00:31:54.680\nWindows 8.1wim, right?\n\n844\n00:31:54.680 --> 00:31:55.540\nIn the mount directory.\n\n845\n00:31:55.540 --> 00:31:57.430\n>> And it still thinks it's mounted up.\n\n846\n00:31:57.430 --> 00:31:58.171\n>> It says, yeah.\n\n847\n00:31:58.171 --> 00:32:01.010\nIt said,\nit specified it was already mounted, or.\n\n848\n00:32:01.010 --> 00:32:04.380\n>> Can we close that command prompt\nsince we did that last command?\n\n849\n00:32:04.380 --> 00:32:05.002\n>> No.\n>> Try it.\n\n850\n00:32:05.002 --> 00:32:07.988\n[COUGH] Close close Windows Explorer, or\n\n851\n00:32:07.988 --> 00:32:11.292\nanything that might be\npointed to that location.\n\n852\n00:32:11.292 --> 00:32:16.042\n[SOUND] And then let's try it again.\n\n853\n00:32:16.042 --> 00:32:20.002\nWe might have to unmount it one more time,\nbut let's try it one more time.\n\n854\n00:32:25.189 --> 00:32:26.827\nHm.\n\n855\n00:32:26.827 --> 00:32:29.091\nWe'll change our path,\nchange our index number.\n\n856\n00:32:36.913 --> 00:32:38.132\nCheck our mount location.\n\n857\n00:32:47.783 --> 00:32:50.652\n>> [INAUDIBLE] Already mounted.\n\n858\n00:32:50.652 --> 00:32:52.740\nAll right, let's just go it then.\n\n859\n00:32:52.740 --> 00:32:55.600\nSince it says it's already mounted,\nlet's just use it.\n\n860\n00:32:55.600 --> 00:32:56.480\nLet's do it, get features.\n\n861\n00:32:58.560 --> 00:33:00.475\n>> But, if we go into here.\n\n862\n00:33:00.475 --> 00:33:02.110\n>> Mm-hm.\n\n863\n00:33:02.110 --> 00:33:03.960\nIn her mount directory and it's empty.\n\n864\n00:33:04.960 --> 00:33:05.750\n>> Hm.\n\n865\n00:33:05.750 --> 00:33:06.995\nYeah, what I would do at this point,\n\n866\n00:33:06.995 --> 00:33:08.720\n[LAUGH] I know you guys are gonna be like,\nwait, what?\n\n867\n00:33:08.720 --> 00:33:09.250\nThat's your fix?\n\n868\n00:33:09.250 --> 00:33:11.065\nI would reboot the machine.\n\n869\n00:33:11.065 --> 00:33:12.140\n>> [LAUGH]\n>> I would.\n\n870\n00:33:12.140 --> 00:33:13.290\nI mean, it's just hung up.\n\n871\n00:33:13.290 --> 00:33:14.885\nIt still thinks that thing is mounted up.\n\n872\n00:33:14.885 --> 00:33:15.920\n>> Mm-hm.\n\n873\n00:33:15.920 --> 00:33:16.850\n>> You can't mount it.\n\n874\n00:33:16.850 --> 00:33:19.300\nTry, you could try doing\nanother unmount command but\n\n875\n00:33:19.300 --> 00:33:22.820\nmost likely it's gonna say can't unmount\nit, because it's not actually mounted, but\n\n876\n00:33:22.820 --> 00:33:24.720\nthen the mount command says,\nbut it is mounted.\n\n877\n00:33:24.720 --> 00:33:27.218\nSo I would end up restarting the machine.\n\n878\n00:33:27.218 --> 00:33:28.012\n>> All right.\n[CROSSTALK]\n\n879\n00:33:28.012 --> 00:33:29.710\n>> Let's try it.\n\n880\n00:33:29.710 --> 00:33:30.278\n>> All right.\n\n881\n00:33:30.278 --> 00:33:31.440\nDiscard that guy.\n\n882\n00:33:33.280 --> 00:33:38.080\nAnd it is in sequence slash mount,\nand I copied that same bad on.\n\n883\n00:33:41.086 --> 00:33:48.520\nOkay [SOUND]\n>> Sweet.\n\n884\n00:33:48.520 --> 00:33:50.042\n>> Now, let's mount that guy back up.\n\n885\n00:33:50.042 --> 00:33:53.278\n[SOUND]\n>> Now that'll reboot.\n\n886\n00:33:53.278 --> 00:33:58.960\n>> [LAUGH] You know,\nWindows 8 is so fast at rebooting.\n\n887\n00:33:58.960 --> 00:34:00.370\nIt's really.\n>> You're right it is.\n\n888\n00:34:00.370 --> 00:34:01.430\nIt is, it's pretty fast.\n\n889\n00:34:01.430 --> 00:34:02.830\n>> They've done some good things with it.\n\n890\n00:34:02.830 --> 00:34:07.820\n>> However this would just be\ntotal server in there, and so\n\n891\n00:34:07.820 --> 00:34:09.260\nwe'd have to wait a while for\nthat poor guy to.\n\n892\n00:34:09.260 --> 00:34:15.439\n>> Yeah, that's true and Don would\nnot like my troubleshooting methods.\n\n893\n00:34:15.439 --> 00:34:18.470\n>> [LAUGH] That's cheating.\n\n894\n00:34:21.220 --> 00:34:27.118\nWindows likes a reboot every now and\nagain.\n\n895\n00:34:27.118 --> 00:34:29.800\n[MUSIC]\n\n896\n00:34:29.800 --> 00:34:30.461\nAll right.\n\n897\n00:34:30.461 --> 00:34:31.820\nWe'll, get this guy mounted back.\n\n898\n00:34:31.820 --> 00:34:33.970\nNow, what feature are we gonna turn on?\n\n899\n00:34:33.970 --> 00:34:36.385\n>> You know, I'm thinking Telnet.\n\n900\n00:34:36.385 --> 00:34:37.250\n>> Mm-hm.\n\n901\n00:34:37.250 --> 00:34:41.504\n>> Or, maybe some remote management.\n\n902\n00:34:41.504 --> 00:34:47.225\nSomething that I would definitely\nwant turned on on all my machines.\n\n903\n00:34:47.225 --> 00:34:51.796\n>> Mm-hm.\n>> What else would be a good one to do,\n\n904\n00:34:51.796 --> 00:34:55.302\nsomething I've done?\n\n905\n00:34:55.302 --> 00:34:59.430\nClimbed HyperV, but probably not something\nyou do to all your machines on your\n\n906\n00:34:59.430 --> 00:35:01.020\nnetwork, it depends on the environment.\n\n907\n00:35:01.020 --> 00:35:03.302\nIf this image was going\nout to my R&D computers,\n\n908\n00:35:03.302 --> 00:35:06.543\nmaybe I wanted to make sure that\nclient had turned on and all.\n\n909\n00:35:06.543 --> 00:35:08.285\n>> Mm-hm.\n>> We'll get a list of features and\n\n910\n00:35:08.285 --> 00:35:09.037\nwe'll pick one.\n\n911\n00:35:09.037 --> 00:35:10.000\n>> All right.\n>> At random.\n\n912\n00:35:10.000 --> 00:35:10.917\nWe'll just a dart at it.\n\n913\n00:35:10.917 --> 00:35:14.414\n>> [LAUGH]\n>> Well, something easy to spell and type.\n\n914\n00:35:14.414 --> 00:35:16.074\n>> Something easy to type, exactly.\n\n915\n00:35:16.074 --> 00:35:19.428\n>> [LAUGH] Yep,\nsince I don't have that one pre-populated.\n\n916\n00:35:19.428 --> 00:35:22.167\n>> Yeah, but you can cut and\npaste from the.\n\n917\n00:35:22.167 --> 00:35:23.414\n>> That's true.\n\n918\n00:35:23.414 --> 00:35:25.074\n>> You could.\n>> Yeah.\n\n919\n00:35:25.074 --> 00:35:28.000\n>> And they have changed it so\nthat it's not case sensitive anymore,\n\n920\n00:35:28.000 --> 00:35:29.475\nwhen you turn on these features.\n\n921\n00:35:29.475 --> 00:35:32.144\nIt used to be,\nI don't know if you go back that far, but\n\n922\n00:35:32.144 --> 00:35:35.816\nit used to be when you were doing the,\nwhat was the old command we had to use?\n\n923\n00:35:35.816 --> 00:35:40.200\nNow I can't think of it.\n\n924\n00:35:40.200 --> 00:35:42.660\n2008 first came out, Vista.\n\n925\n00:35:42.660 --> 00:35:46.540\nYou know, there is one command.\n\n926\n00:35:46.540 --> 00:35:53.075\n>> I had to add a machine to a trusted\nsomething, so I could remotely manage it.\n\n927\n00:35:53.075 --> 00:35:54.920\n>> Mm-hm.\n>> And there's some command where you add\n\n928\n00:35:54.920 --> 00:35:59.325\na machine into some, like,\ntrusted part of it and it was not working,\n\n929\n00:35:59.325 --> 00:36:03.080\nand then it turned out that\nit was case sensitive.\n\n930\n00:36:03.080 --> 00:36:04.310\n>> Really.\n>> Yeah.\n\n931\n00:36:04.310 --> 00:36:08.082\n>> It was the OS features command?\n\n932\n00:36:08.082 --> 00:36:11.530\nThe heck, it was on the tip of\nmy tongue and I lost it again.\n\n933\n00:36:11.530 --> 00:36:12.310\n>> Man.\n>> [CROSSTALK] But anyway,\n\n934\n00:36:12.310 --> 00:36:13.511\nyeah it was case sensitive and\nit was horrible.\n\n935\n00:36:13.511 --> 00:36:18.851\nIt's like really, I've gotta s, I've\ngotta go back up, look at this list and\n\n936\n00:36:18.851 --> 00:36:22.794\nmake sure that I capitalized the S and\nthe DNS and the yeah.\n\n937\n00:36:22.794 --> 00:36:24.317\n>> Mm-hm.\n\n938\n00:36:24.317 --> 00:36:25.590\n>> Crazy.\n\n939\n00:36:25.590 --> 00:36:28.910\nThat's why cut and\npaste is such a great [INAUDIBLE].\n\n940\n00:36:28.910 --> 00:36:30.211\n>> [LAUGH]\n>> All right,\n\n941\n00:36:30.211 --> 00:36:34.830\nwhile that guy gets finished mounting up,\nI'll go ahead and.\n\n942\n00:36:34.830 --> 00:36:37.647\nGrab that guy,\n\n943\n00:36:37.647 --> 00:36:42.848\n[COUGH] pop this guy in there,\n\n944\n00:36:42.848 --> 00:36:47.190\nC/mount, all right?\n\n945\n00:36:47.190 --> 00:36:49.940\nNow, if we just ran the get features.\n\n946\n00:36:49.940 --> 00:36:52.487\nIt'll, scroll up within this\ncommand Window of all the features.\n\n947\n00:36:52.487 --> 00:36:54.323\n>> Mm-hm.\n>> And it'll be a whole list of stuff.\n\n948\n00:36:54.323 --> 00:36:56.924\nOr we can put it out to a text file.\n\n949\n00:36:56.924 --> 00:37:00.222\nWhich, I think that's what we'll do.\n\n950\n00:37:00.222 --> 00:37:01.851\n>> [INAUDIBLE]\n>> Well, that way, so they can,\n\n951\n00:37:01.851 --> 00:37:02.721\nlike scroll through and look at it.\n\n952\n00:37:02.721 --> 00:37:03.684\n>> Yeah.\n>> Right?\n\n953\n00:37:03.684 --> 00:37:06.475\n>> Or you could do the more command?\n\n954\n00:37:06.475 --> 00:37:07.207\n>> We could.\n\n955\n00:37:07.207 --> 00:37:07.707\nWell.\n\n956\n00:37:07.707 --> 00:37:08.426\n>> Let's do it this way.\n\n957\n00:37:08.426 --> 00:37:09.610\nWe already got it there.\n\n958\n00:37:09.610 --> 00:37:10.528\nI like it.\n\n959\n00:37:10.528 --> 00:37:12.030\n>> All right.\nSo stick it in the user folder,\n\n960\n00:37:12.030 --> 00:37:13.970\nbecause I know that folder exists and\nit's easy.\n\n961\n00:37:13.970 --> 00:37:14.550\n>> Mm-hm.\n\n962\n00:37:14.550 --> 00:37:15.549\n>> And yeah.\n\n963\n00:37:15.549 --> 00:37:16.895\nAnd so I'll put that list in there.\n\n964\n00:37:16.895 --> 00:37:17.476\n>> Okay.\n\n965\n00:37:17.476 --> 00:37:18.951\n>> And we'll pull it up and see.\n\n966\n00:37:18.951 --> 00:37:22.434\n>> So, basically what he's doing is that\ngreater than symbol is allowing him to\n\n967\n00:37:22.434 --> 00:37:26.380\npipe the results of the command instead\nof displaying in the command prompt.\n\n968\n00:37:26.380 --> 00:37:27.590\nWe're gonna take the results and\n\n969\n00:37:27.590 --> 00:37:30.760\nput it in a text file called\nFeatures in the C:\\users directory.\n\n970\n00:37:30.760 --> 00:37:34.850\nSo, handy when you got a long list and\nit's gonna cuz your command prompt\n\n971\n00:37:34.850 --> 00:37:37.700\nliner to scroll, or if you just want\na hard copy of that for some reason.\n\n972\n00:37:39.700 --> 00:37:44.007\nSo now he's gonna go browse into there and\nsee what he's got, maybe,\n\n973\n00:37:44.007 --> 00:37:46.130\nfeatures.text, how bout that.\n\n974\n00:37:46.130 --> 00:37:47.025\n>> Mm-hm.\n\n975\n00:37:47.025 --> 00:37:52.087\n>> All right, so here we go here are all\nof the options that we can turn on.\n\n976\n00:37:52.087 --> 00:37:53.967\n>> Within it, and so\nwhat were you thinking Mike?\n\n977\n00:37:53.967 --> 00:37:57.599\nIs a long list.\n\n978\n00:37:57.599 --> 00:37:59.781\n>> We don't want any of the ISS stuff.\n\n979\n00:37:59.781 --> 00:38:01.720\nKeep going through that.\n\n980\n00:38:01.720 --> 00:38:09.348\n>> I would say let's turn on\neither the Telnet client.\n\n981\n00:38:09.348 --> 00:38:11.903\n>> Yeah, Telnet client is a good one.\n\n982\n00:38:11.903 --> 00:38:12.564\n>> Telnet client?\n\n983\n00:38:12.564 --> 00:38:13.656\n>> Sure let's do that one.\n\n984\n00:38:13.656 --> 00:38:14.531\n>> All right.\n\n985\n00:38:14.531 --> 00:38:15.656\n>> Sure.\n\n986\n00:38:15.656 --> 00:38:16.948\nTelnet, yeah I keep within, sounds good.\n\n987\n00:38:16.948 --> 00:38:17.448\n>> And\nyou can just copy it from right there.\n\n988\n00:38:17.448 --> 00:38:19.015\nGo ahead and put it on your clipboard.\n\n989\n00:38:19.015 --> 00:38:20.177\nYou gotta give the command.\n\n990\n00:38:20.177 --> 00:38:21.314\nGotcha.\n\n991\n00:38:21.314 --> 00:38:22.103\nSo good.\n\n992\n00:38:22.103 --> 00:38:23.500\nHe's such a smart feller.\n\n993\n00:38:23.500 --> 00:38:24.124\n>> Thanks, Mike.\n\n994\n00:38:24.124 --> 00:38:25.077\nI don't hear that often enough.\n\n995\n00:38:25.077 --> 00:38:32.910\n>> [LAUGH] You hear that, Cammie?\n\n996\n00:38:32.910 --> 00:38:34.373\n>> All right, so-\n>> Thought I'd help you out.\n\n997\n00:38:34.373 --> 00:38:34.918\n>> All right.\n\n998\n00:38:34.918 --> 00:38:35.452\nThanks Mike.\n\n999\n00:38:35.452 --> 00:38:36.381\n>> Yep.\n>> All right, so\n\n1000\n00:38:36.381 --> 00:38:37.798\nin the feature name right here.\n\n1001\n00:38:37.798 --> 00:38:38.449\n>> So, this right here.\n\n1002\n00:38:38.449 --> 00:38:40.691\nThat's where we will type that in.\n\n1003\n00:38:40.691 --> 00:38:41.459\n>> Telnet client.\n\n1004\n00:38:41.459 --> 00:38:44.498\n>> Telnet client.\n\n1005\n00:38:44.498 --> 00:38:50.327\n>> And the image path, so we will pop that\nin, where mounted images equals slash.\n\n1006\n00:38:50.327 --> 00:38:52.686\n>> Yeah, mount.\n\n1007\n00:38:52.686 --> 00:38:57.218\nAll right, and so now, for this win file\nnow, it will have the Telnet client,\n\n1008\n00:38:57.218 --> 00:38:58.328\nyeah, turned on.\n\n1009\n00:38:58.328 --> 00:38:59.503\n>> Mm-hm.\n>> That's pretty cool.\n\n1010\n00:38:59.503 --> 00:39:00.627\n>> Mm-hm.\n>> That is pretty cool.\n\n1011\n00:39:00.627 --> 00:39:02.659\n>> That is a very powerful\nlittle command there.\n\n1012\n00:39:02.659 --> 00:39:03.344\n>> Well, all right.\n\n1013\n00:39:03.344 --> 00:39:04.900\nSo we got this guy-\n>> Mm-hm.\n\n1014\n00:39:04.900 --> 00:39:07.130\n>> And what, and then what?\n\n1015\n00:39:07.130 --> 00:39:07.746\nWhat's next?\n\n1016\n00:39:07.746 --> 00:39:10.735\n>> Now we gotta commit our changes,\nbut before we do that,\n\n1017\n00:39:10.735 --> 00:39:15.069\nwe're gonna close any open windows that\nmight be pointing to that file, right?\n\n1018\n00:39:16.740 --> 00:39:17.430\nGood call.\n\n1019\n00:39:17.430 --> 00:39:18.320\n>> Yeah.\n\n1020\n00:39:18.320 --> 00:39:22.460\n>> I'll stick it in there and\nI'll close out let's close this.\n\n1021\n00:39:22.460 --> 00:39:25.150\n[INAUDIBLE]\n>> I don't\n\n1022\n00:39:25.150 --> 00:39:27.950\nthink you have any windows [INAUDIBLE].\n\n1023\n00:39:27.950 --> 00:39:29.700\n>> All right.\nClose it just in case.\n\n1024\n00:39:29.700 --> 00:39:31.233\nWatch it still give us the issue anyway.\n\n1025\n00:39:31.233 --> 00:39:32.466\n>> Was that just that one?\n\n1026\n00:39:32.466 --> 00:39:34.043\n>> Yeah, looks the only\nthing that got opened right?\n\n1027\n00:39:34.043 --> 00:39:35.424\n>> Mm-hm.\n\n1028\n00:39:35.424 --> 00:39:42.425\n[COUGH] All right, we'll change that mount\ndirectory back to C colon slash mount.\n\n1029\n00:39:42.425 --> 00:39:43.262\n>> Mm-hm.\n\n1030\n00:39:43.262 --> 00:39:47.524\n[SOUND] Oops,\ndon't forget that's still [CROSSTALK].\n\n1031\n00:39:47.524 --> 00:39:48.079\n>> Hm?\n\n1032\n00:39:48.079 --> 00:39:49.125\nThat's right.\n\n1033\n00:39:49.125 --> 00:39:50.322\nMy bad.\n\n1034\n00:39:50.322 --> 00:39:52.319\n>> We gotta unedit your text file there.\n\n1035\n00:39:52.319 --> 00:39:54.385\n>> Hm.\n>> All right, there we go.\n\n1036\n00:39:54.385 --> 00:39:57.284\n>> You know, one thing that has happened,\nI have become so\n\n1037\n00:39:57.284 --> 00:39:58.774\nreliant on spell checking.\n\n1038\n00:39:58.774 --> 00:39:59.610\n>> Yeah.\n\n1039\n00:39:59.610 --> 00:40:01.990\n>> I mean, even with my smartphone-\n>> Mm-hm.\n\n1040\n00:40:01.990 --> 00:40:02.988\n>> And sending out text messages.\n\n1041\n00:40:02.988 --> 00:40:07.446\nYou know I can type really sloppy and\nit will like kind of auto fix itself.\n\n1042\n00:40:07.446 --> 00:40:08.542\n>> Right.\n>> As I type stuff in.\n\n1043\n00:40:08.542 --> 00:40:09.742\n>> Yep.\n>> And so now I don't,\n\n1044\n00:40:09.742 --> 00:40:12.292\nI'm not really worried about accuracy\nanymore and I can [CROSSTALK].\n\n1045\n00:40:12.292 --> 00:40:13.542\n>> Mm-hm.\n>> Just type in garbage.\n\n1046\n00:40:13.542 --> 00:40:15.241\nYeah.\n>> And every you know,\n\n1047\n00:40:15.241 --> 00:40:16.099\nemail and-\n>> And\n\n1048\n00:40:16.099 --> 00:40:17.833\nyou just assume spell checker's\ngoing to catch it and fix it.\n\n1049\n00:40:17.833 --> 00:40:18.875\n>> Yeah, mm-hm.\n\n1050\n00:40:18.875 --> 00:40:19.661\n>> Yeah.\n\n1051\n00:40:19.661 --> 00:40:21.244\n>> I know.\n>> And it did not.\n\n1052\n00:40:21.244 --> 00:40:24.539\n>> But no, Notepad does not\nhave a spell checker built in.\n\n1053\n00:40:24.539 --> 00:40:26.885\nWell even, I guess [CROSSTALK]\n>> Even then, it wouldn't know whim or\n\n1054\n00:40:26.885 --> 00:40:27.411\nwhen, yeah.\n\n1055\n00:40:27.411 --> 00:40:28.077\nYeah, mm-hm.\n\n1056\n00:40:28.077 --> 00:40:29.745\n>> It'd have to assume you knew\nwhat you were talking about.\n\n1057\n00:40:29.745 --> 00:40:31.700\n>> Yep.\n[LAUGH] Probably woulda found it.\n\n1058\n00:40:31.700 --> 00:40:34.830\nNow last time we did cut to break\nyou know, for this to happen.\n\n1059\n00:40:34.830 --> 00:40:36.500\n>> That's right.\n>> And, and it did take a, a minute or\n\n1060\n00:40:36.500 --> 00:40:38.620\ntwo and it did jump right up.\n\n1061\n00:40:38.620 --> 00:40:40.078\n>> That's really the bulk of it anyway.\n\n1062\n00:40:40.078 --> 00:40:43.301\nWe got to see the commands that we used\nto commit it, you got to see it added, so\n\n1063\n00:40:43.301 --> 00:40:46.623\nthe only thing that's going to happen now,\nis it's going to come back and say,\n\n1064\n00:40:46.623 --> 00:40:48.076\nit might or might not have worked.\n\n1065\n00:40:48.076 --> 00:40:50.621\n[LAUGH]\n>> [LAUGH] It should say unmounted\n\n1066\n00:40:50.621 --> 00:40:54.713\nsuccessfully, sometimes it says\nunable to complete the unmount,\n\n1067\n00:40:54.713 --> 00:40:56.185\nplease unmount again.\n\n1068\n00:40:56.185 --> 00:40:56.800\n>> Mm-hm.\n\n1069\n00:40:56.800 --> 00:40:59.370\n>> But, like I said, normally it just\nmeans you had a window open somewhere\n\n1070\n00:40:59.370 --> 00:41:02.260\nthat's pointing at it and\nit can't get that exclusive lock.\n\n1071\n00:41:02.260 --> 00:41:03.375\nSo it just hangs up.\n\n1072\n00:41:03.375 --> 00:41:04.580\n>> Mm-hm.\n\n1073\n00:41:04.580 --> 00:41:07.450\nYep.\nNow once this guy does, does complete.\n\n1074\n00:41:07.450 --> 00:41:11.145\nWhat we do then, as we come back\nin here to our install images.\n\n1075\n00:41:11.145 --> 00:41:11.820\n>> Mm-hm.\n\n1076\n00:41:11.820 --> 00:41:14.740\n>> And in our Windows 8 group,\nand then, you know,\n\n1077\n00:41:14.740 --> 00:41:18.510\nwe would add that,\nthat that image back into here.\n\n1078\n00:41:18.510 --> 00:41:19.190\nWe'd give it a,\n\n1079\n00:41:19.190 --> 00:41:23.440\na cool name like I don't know, Don's-\n>> Don's XPS.\n\n1080\n00:41:23.440 --> 00:41:24.680\n>> Don's XPS or something.\n\n1081\n00:41:24.680 --> 00:41:25.340\n>> Yeah.\n\n1082\n00:41:25.340 --> 00:41:28.906\n>> And yes, so we'd add it back into here,\nand so then it would be an available\n\n1083\n00:41:28.906 --> 00:41:32.900\nimage, so when Don reboots his thing,\nPIX reboots, he pulls that down.\n\n1084\n00:41:32.900 --> 00:41:34.590\nThat will be an option in there.\n\n1085\n00:41:34.590 --> 00:41:35.470\n>> Exactly, exactly.\n\n1086\n00:41:35.470 --> 00:41:38.270\nWell we're gonna, you know,\nwe could still use it separately.\n\n1087\n00:41:38.270 --> 00:41:41.370\nI mean we can put it on a hard drive and\ntake it around and\n\n1088\n00:41:41.370 --> 00:41:43.800\nuse a Win PE disk to, to load that up.\n\n1089\n00:41:43.800 --> 00:41:46.940\nBut yeah, since we're doing deployment\nservices, that's where we want to add it.\n\n1090\n00:41:46.940 --> 00:41:48.929\n>> Yeah, or\nwith the discover image, right.\n\n1091\n00:41:48.929 --> 00:41:50.598\n>> Yeah.\n>> We towed around a discovery image on\n\n1092\n00:41:50.598 --> 00:41:51.910\nthat little USB drive, right?\n\n1093\n00:41:51.910 --> 00:41:53.411\n>> Uh-huh, yep.\n\n1094\n00:41:53.411 --> 00:41:54.966\n>> All right Mike, well so,\n\n1095\n00:41:54.966 --> 00:41:57.150\non the official objectives-\n>> Mm-hm.\n\n1096\n00:41:57.150 --> 00:42:00.610\n>> For this little bit and,\nthat does, that does wrap it up, so.\n\n1097\n00:42:00.610 --> 00:42:01.280\n>> It does.\n\n1098\n00:42:01.280 --> 00:42:05.610\n>> So we, did leave off on,\nyou have to update images with yep,\n\n1099\n00:42:05.610 --> 00:42:07.508\nthe updates and the drivers.\n\n1100\n00:42:07.508 --> 00:42:09.112\n>> Mm-hm.\n>> And, yeah and\n\n1101\n00:42:09.112 --> 00:42:12.910\nthen adding [CROSSTALK] yep, and\nthen turning on the features.\n\n1102\n00:42:12.910 --> 00:42:14.076\n>> Yeah, good stuff right.\n\n1103\n00:42:14.076 --> 00:42:15.660\n>> Yep, fantastic stuff.\n\n1104\n00:42:15.660 --> 00:42:16.701\n>> I like it, I like it.\n\n1105\n00:42:16.701 --> 00:42:17.745\nAll right.\n\n1106\n00:42:17.745 --> 00:42:19.189\n>> Yep, well anything,\n\n1107\n00:42:19.189 --> 00:42:23.360\nany last bits of knowledge that\nyou want to leave with us, Mike?\n\n1108\n00:42:23.360 --> 00:42:26.000\n>> Make sure you check out that first\nepisode where we really get into depth on\n\n1109\n00:42:26.000 --> 00:42:27.160\nthe deployment server itself.\n\n1110\n00:42:27.160 --> 00:42:30.757\n>> And as always, if you get any\nquestions, light up that chat room,\n\n1111\n00:42:30.757 --> 00:42:32.826\nuse that link up at the top of the page.\n\n1112\n00:42:32.826 --> 00:42:34.285\n>> [LAUGH]\n>> You know better than I do.\n\n1113\n00:42:34.285 --> 00:42:35.701\nTell them where all that is.\n\n1114\n00:42:35.701 --> 00:42:39.298\n>> Yeah, the Q and A at the top of\nevery episode, you know, I don't know,\n\n1115\n00:42:39.298 --> 00:42:41.242\nDon always does all the out parts.\n\n1116\n00:42:41.242 --> 00:42:42.842\n>> Yeah.\n>> But but yeah,\n\n1117\n00:42:42.842 --> 00:42:45.868\nwell I guess signing out for\nIT Pro TV, I'm Nate.\n\n1118\n00:42:45.868 --> 00:42:47.243\n>> And I'm Mike Roderick.\n\n1119\n00:42:47.243 --> 00:42:49.451\n>> And we will see you next time.\n\n1120\n00:42:49.451 --> 00:42:59.451\n[MUSIC]\n\n",
          "vimeoId": "83597849"
        },
        {
          "description": "In this episode, Mike and Daniel explain some of the features and functionality of Microsoft's patch management system, Windows Server Update Service(WSUS). Here specifically, they talk all about installing and configuring the WSUS role. They show you how to add the role and then configure the service based on best practices so that only updates you need are getting downloaded and installed to your clients. They also talk about the different modes (Autonomous/Replica) for implementing multiple WSUS servers.",
          "length": "1605",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-2-1-configuring_wsus-090115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-2-1-configuring_wsus-090115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-2-1-configuring_wsus-090115-1-sm.jpg",
          "title": "Configuring WSUS",
          "transcript": "WEBVTT\n\n1\n00:00:00.313 --> 00:00:10.133\n[MUSIC]\n\n2\n00:00:10.133 --> 00:00:11.930\nAll right, greetings everyone.\n\n3\n00:00:11.930 --> 00:00:15.060\nAnd welcome to another\nexciting episode of ITProTV.\n\n4\n00:00:15.060 --> 00:00:19.950\nI'm your host, Daniel Lowrie, joining me\ntoday as my co host, Mr. Mike Rodrick.\n\n5\n00:00:19.950 --> 00:00:20.670\nHow's it going today, Mike?\n\n6\n00:00:20.670 --> 00:00:22.170\n>> It's going fantastic, Daniel.\n\n7\n00:00:22.170 --> 00:00:22.970\nExcited to be here.\n\n8\n00:00:22.970 --> 00:00:27.814\nWe've got our 7411 series continuing on,\nand in this one we're gonna be looking at\n\n9\n00:00:27.814 --> 00:00:32.360\nsomething called Windows Server\nUpdate Services, or WSUS, for short.\n\n10\n00:00:32.360 --> 00:00:36.570\nAnd WSUS, on the exam, they're gonna call,\nand you need to be able to configure this.\n\n11\n00:00:36.570 --> 00:00:38.190\nGet it all set up and running, and\n\n12\n00:00:38.190 --> 00:00:41.530\nbe able to provide Windows\nupdates to your clients.\n\n13\n00:00:41.530 --> 00:00:45.610\nAnd when I say client, I don't mean\nclient operating system, any machine that\n\n14\n00:00:45.610 --> 00:00:51.040\nconnects to my Windows Server Update\nServices would be a WSUS client, right?\n\n15\n00:00:51.040 --> 00:00:53.410\nTalking about a client server model.\n\n16\n00:00:53.410 --> 00:00:58.180\nThe WSUS is the server providing a service\nin a machine that connects to it and\n\n17\n00:00:58.180 --> 00:01:00.970\nretrieves updates, is a WSUS client.\n\n18\n00:01:00.970 --> 00:01:06.630\nThat means my file server, my laptops,\nall of those would be considered a client.\n\n19\n00:01:06.630 --> 00:01:09.410\nAll right, but yeah, we need to be able\nto configure this, get it set up so\n\n20\n00:01:09.410 --> 00:01:12.190\nthat we can provide these updates for\nour network.\n\n21\n00:01:12.190 --> 00:01:13.050\nSo let's take a look at it.\n\n22\n00:01:13.050 --> 00:01:15.440\nThe first thing we gotta do\nis get the role installed.\n\n23\n00:01:15.440 --> 00:01:19.890\nAnd as we've said many times, you know,\ninstalling the role is relatively easy.\n\n24\n00:01:19.890 --> 00:01:23.170\nAll we're going to do is go to our server,\nadd roles and\n\n25\n00:01:23.170 --> 00:01:25.446\nfeatures, launch our handy dandy wizard.\n\n26\n00:01:25.446 --> 00:01:29.780\nWe click Next a couple of times\nto get past our intro screens.\n\n27\n00:01:29.780 --> 00:01:34.640\nThen we would just scroll down and\nchoose Windows Server Update Services,\n\n28\n00:01:34.640 --> 00:01:38.460\nwhich you can see I\nalready have installed.\n\n29\n00:01:38.460 --> 00:01:42.670\nOne thing I do want to point out when you\ngo through this installation process.\n\n30\n00:01:42.670 --> 00:01:45.120\nI've already installed it\nto save a little time here.\n\n31\n00:01:45.120 --> 00:01:49.650\nAs you go through and install it, you're\ngoing to get, as usual, the screen over\n\n32\n00:01:49.650 --> 00:01:53.790\nhere will change, depending on what\nrole you've selected to install.\n\n33\n00:01:53.790 --> 00:01:56.350\nAnd when you get to the role services for\nWSUS,\n\n34\n00:01:56.350 --> 00:01:59.030\nyou're gonna have three\ncheck marks available.\n\n35\n00:01:59.030 --> 00:02:03.060\nYou're gonna have this, what's\ncalled WID Database, W-I-D Database.\n\n36\n00:02:03.060 --> 00:02:06.300\nThat's my Windows Internal Database.\n\n37\n00:02:06.300 --> 00:02:10.870\nI've got the WSUS service itself,\nand then I've got Database.\n\n38\n00:02:10.870 --> 00:02:14.190\nAll right,\nWSUS needs a configuration database.\n\n39\n00:02:14.190 --> 00:02:17.500\nAll the groups and things, we're gonna\ntalk about all the stuff that we create.\n\n40\n00:02:17.500 --> 00:02:20.830\nBut all those settings that we configure\nand create and want updates, we have\n\n41\n00:02:20.830 --> 00:02:25.750\napproved and for whom and what computers\nstill need updates, things like that.\n\n42\n00:02:25.750 --> 00:02:29.040\nAll that gets stored In this\nconfiguration database.\n\n43\n00:02:29.040 --> 00:02:35.040\nA WSUS is set up to support either an\nexternal database, like a sequel server.\n\n44\n00:02:35.040 --> 00:02:37.090\nIf you have a sequel\nserver on your network,\n\n45\n00:02:37.090 --> 00:02:40.065\nyou can just point your deployment server,\nI mean not your deployment server, but\n\n46\n00:02:40.065 --> 00:02:42.105\nyour WSUS server, your update server.\n\n47\n00:02:42.105 --> 00:02:45.575\nWe're gonna call it update server from now\non because I get tired of saying WSUS,\n\n48\n00:02:45.575 --> 00:02:46.895\nit's a tongue-twister.\n\n49\n00:02:46.895 --> 00:02:48.245\nMy update server,\n\n50\n00:02:48.245 --> 00:02:51.175\njust point it to my sequel server\nthat already exists on my network.\n\n51\n00:02:51.175 --> 00:02:52.730\nIt can create a database.\n\n52\n00:02:52.730 --> 00:02:54.360\nAnd store its information there.\n\n53\n00:02:54.360 --> 00:02:58.247\nIf I don't have a sequel server on my\nnetwork or I don't wanna use sequel,\n\n54\n00:02:58.247 --> 00:03:01.360\nmaybe that sequel server's being used for\nsomething else and I don't want the two\n\n55\n00:03:01.360 --> 00:03:05.070\nmixing, I can just use what they\ncall a Windows internal database.\n\n56\n00:03:05.070 --> 00:03:07.720\nAnd what'll happen is when\nyou install the role,\n\n57\n00:03:07.720 --> 00:03:12.160\nit will install a mini version\nof SQL sequel on that server.\n\n58\n00:03:12.160 --> 00:03:14.620\nNo management console or\nanything like that.\n\n59\n00:03:14.620 --> 00:03:17.990\nAnd only WSUS, or\nthe update service, can access it,\n\n60\n00:03:17.990 --> 00:03:19.930\nwhich is what I've chosen to do here.\n\n61\n00:03:19.930 --> 00:03:23.630\nDo note though, as you go through that\nwizard you can't choose both, right?\n\n62\n00:03:23.630 --> 00:03:27.850\nIf you choose Windows internal database,\nyou pretty much click Next, and Install.\n\n63\n00:03:27.850 --> 00:03:31.450\nIf you choose database,\nyou can't choose Windows internal and\n\n64\n00:03:31.450 --> 00:03:35.940\ndatabase at the same time, and if you\nchoose database the Wizard changes again.\n\n65\n00:03:35.940 --> 00:03:39.200\nAnd you're gonna have to give it\nthe location of the sequel server on\n\n66\n00:03:39.200 --> 00:03:40.940\nyour networks, so\nthat it can connect to it.\n\n67\n00:03:40.940 --> 00:03:44.990\nAnd an account that it can use that has\npermission to create that database.\n\n68\n00:03:44.990 --> 00:03:46.710\nAll right, so,\ndepending on what you choose there,\n\n69\n00:03:46.710 --> 00:03:48.310\nthat might change that\nwizard a little bit.\n\n70\n00:03:48.310 --> 00:03:52.330\nAnd then it's pretty much next all the way\nthrough, until you install the role.\n\n71\n00:03:53.600 --> 00:03:57.420\nNow, once you get the role installed,\nyou do need to configure\n\n72\n00:03:57.420 --> 00:04:00.820\nthe Windows Server Update Services,\nor my update server.\n\n73\n00:04:00.820 --> 00:04:05.780\nAnd I want to show you what happens when\nyou launch the console for the fist time.\n\n74\n00:04:05.780 --> 00:04:09.050\nThis wizard is going to pop up,\nnow I already launched the console\n\n75\n00:04:09.050 --> 00:04:12.920\nto verify my installation and the wizard\nis not going to pop up on me, but\n\n76\n00:04:12.920 --> 00:04:15.640\nthat's okay, I want to show\nyou a couple of things here.\n\n77\n00:04:15.640 --> 00:04:19.050\nWhen you first set it up it hasn't\ntalked to Microsoft, right?\n\n78\n00:04:19.050 --> 00:04:21.080\nWe're talking about, and\nlet me back for a second.\n\n79\n00:04:21.080 --> 00:04:22.880\nLet's make sure we are all\non the same page here, and\n\n80\n00:04:22.880 --> 00:04:27.050\nwhat the heck is\na Windows Server Update Service, right?\n\n81\n00:04:27.050 --> 00:04:30.190\nWe know that our Microsoft operating\nsystems have to reach out to Microsoft\n\n82\n00:04:30.190 --> 00:04:33.020\nevery so often and\nget those Windows updates, right?\n\n83\n00:04:33.020 --> 00:04:37.300\nMy critical updates, my security updates,\nthey push out drivers and service packs,\n\n84\n00:04:37.300 --> 00:04:40.430\nand all kinds of goodies\nto keep my computer safe.\n\n85\n00:04:40.430 --> 00:04:42.450\nFix problems, things like that.\n\n86\n00:04:42.450 --> 00:04:45.570\nA very important part of\nmanaging my servers and\n\n87\n00:04:45.570 --> 00:04:48.970\nmy client operating systems,\nis keeping them up to date, right.\n\n88\n00:04:48.970 --> 00:04:52.770\nWhen we talk in our security modules and\nthings like that,\n\n89\n00:04:52.770 --> 00:04:56.120\nwe always talk about making sure\nyou get the latest patches applied.\n\n90\n00:04:56.120 --> 00:04:57.840\nThis is part of it.\n\n91\n00:04:57.840 --> 00:05:01.120\nNow what that means is, all my machines\non my network are connecting out\n\n92\n00:05:01.120 --> 00:05:03.970\nto Microsoft's Update Server that they\nprovide out there on the internet,\n\n93\n00:05:03.970 --> 00:05:06.460\nand they're downloading these updates.\n\n94\n00:05:06.460 --> 00:05:09.310\nI have little to no control\n\n95\n00:05:09.310 --> 00:05:12.860\nover what updates are being\ninstalled on my machines.\n\n96\n00:05:12.860 --> 00:05:15.050\nAnd we know that's not the best idea,\nright?\n\n97\n00:05:15.050 --> 00:05:19.020\nFor the most part, Microsoft does\na really good job of testing the updates,\n\n98\n00:05:19.020 --> 00:05:21.990\nmaking sure they're not gonna cause\na problem when they get installed.\n\n99\n00:05:21.990 --> 00:05:26.120\nBut they can't test every possible\ncombination of hardware and software, and\n\n100\n00:05:26.120 --> 00:05:28.140\nsometimes things get through, and\n\n101\n00:05:28.140 --> 00:05:31.490\nwhen you apply those updates they\ncause a problem on your system.\n\n102\n00:05:31.490 --> 00:05:34.210\nIn a home environment,\nin a SOHO, it's worth it.\n\n103\n00:05:34.210 --> 00:05:37.310\nYou just let them go out and get them\nautomatically and if something happens,\n\n104\n00:05:37.310 --> 00:05:40.840\nyou use your back ups, your restore\npoints, you fix it, what have you.\n\n105\n00:05:40.840 --> 00:05:43.410\nIn an enterprise environment,\nwhen I'm dealing with hundreds and\n\n106\n00:05:43.410 --> 00:05:46.530\nthousands of thousands of computers,\nI can't have that happen, right.\n\n107\n00:05:46.530 --> 00:05:48.720\nI can't have an update go out and\n\n108\n00:05:48.720 --> 00:05:53.630\ncause a problem on 2,000 clients across\nmy network, that's just not acceptable.\n\n109\n00:05:53.630 --> 00:05:58.490\nSo we need a little more control over that\nprocess, and that's what WSUS gives me.\n\n110\n00:05:58.490 --> 00:06:03.590\nWhat's gonna happen is, my server, that\nI'm setting up here, is gonna go get all\n\n111\n00:06:03.590 --> 00:06:08.400\nof the updates from Microsoft server and\nbring them here locally onto my network.\n\n112\n00:06:08.400 --> 00:06:11.130\nAnd then I'm gonna configure\nall my machines on my network,\n\n113\n00:06:11.130 --> 00:06:15.490\nnot to connect to Microsoft, but\nto connect to my local update server.\n\n114\n00:06:15.490 --> 00:06:19.920\nAnd that way, I can control what updates\nare approved and which ones are not.\n\n115\n00:06:19.920 --> 00:06:22.710\nI can approve them for\njust certain computers.\n\n116\n00:06:22.710 --> 00:06:26.720\nWe'll typically set up a group of\ncomputers, our test computers, and\n\n117\n00:06:26.720 --> 00:06:29.680\nwe'll apply those updates\njust to a few machines.\n\n118\n00:06:29.680 --> 00:06:32.030\nThat gives us a chance\nto test the updates.\n\n119\n00:06:32.030 --> 00:06:33.130\nRun them through their paces.\n\n120\n00:06:33.130 --> 00:06:35.890\nMake sure that everything\nstill works after the update.\n\n121\n00:06:35.890 --> 00:06:39.710\nAnd then, once I've tested it, and\nI'm sure it's not gonna cause a problem,\n\n122\n00:06:39.710 --> 00:06:41.900\nthen I can approve it for\nthe rest of the network.\n\n123\n00:06:41.900 --> 00:06:44.430\nSo, I get that control that I need, and\n\n124\n00:06:44.430 --> 00:06:46.020\nthere's a side benefit\nif you think about it.\n\n125\n00:06:46.020 --> 00:06:50.320\nI'm only downloading the update once\nto my update server from Microsoft.\n\n126\n00:06:50.320 --> 00:06:54.420\nAll my other machines are reaching across\nthe land, to my local update server and\n\n127\n00:06:54.420 --> 00:06:55.720\npulling those updates down.\n\n128\n00:06:55.720 --> 00:06:57.370\nRight?\nSo, a lot more control and\n\n129\n00:06:57.370 --> 00:07:00.010\nI actually save a little bandwidth\nif that's important to you.\n\n130\n00:07:00.010 --> 00:07:02.130\nThree o'clock in the morning\nwhen they usually go out and\n\n131\n00:07:02.130 --> 00:07:02.900\nget their updates right?\n\n132\n00:07:02.900 --> 00:07:06.860\n>> Yeah, that bandwidth is\nusually at a premium at three am.\n\n133\n00:07:06.860 --> 00:07:07.560\nNot usually.\n\n134\n00:07:07.560 --> 00:07:10.500\nThat's facetiousness ladies and gentlemen.\n\n135\n00:07:10.500 --> 00:07:13.520\nWell Mike's actually exactly right.\n\n136\n00:07:13.520 --> 00:07:17.850\nI've worked in corporate environments,\nI've been the WSUS administrator.\n\n137\n00:07:17.850 --> 00:07:20.785\nAnd you don't want things because,\nyou probably have\n\n138\n00:07:20.785 --> 00:07:24.430\nin-house development happening, and\nmaybe some app that they've developed.\n\n139\n00:07:24.430 --> 00:07:28.530\nThose are going to conflict with some\nsetting that the new update has going on.\n\n140\n00:07:28.530 --> 00:07:32.940\nSo, you gotta make sure that you have\na good test environment that represents\n\n141\n00:07:32.940 --> 00:07:38.730\na good spectrum of your actual\nproduction environment.\n\n142\n00:07:38.730 --> 00:07:40.180\nOnce those testers go through, and\n\n143\n00:07:40.180 --> 00:07:44.240\nyou don't report any problems, then you\npush all that stuff out to production.\n\n144\n00:07:44.240 --> 00:07:49.100\nAnd like Mike said, that is the glory,\nthat is the beauty of WSUS, you have that\n\n145\n00:07:49.100 --> 00:07:54.030\nfine control over what happens when\nupdates are released by Microsoft, and\n\n146\n00:07:54.030 --> 00:07:56.830\nyou can control it out to your\nlarge corporate environment.\n\n147\n00:07:56.830 --> 00:07:58.530\nIt's a very, very nice service to have.\n\n148\n00:07:58.530 --> 00:08:02.252\n>> Absolutely, have you ever walked in,\nwell I guess you guys were running WSUS,\n\n149\n00:08:02.252 --> 00:08:03.863\nso you didn't have that problem,\n\n150\n00:08:03.863 --> 00:08:06.939\nbut can you imagine walking in to\nyour network one day and having.\n\n151\n00:08:06.939 --> 00:08:08.879\nThree quarters of your\nservers blue screened.\n\n152\n00:08:08.879 --> 00:08:12.067\nOr something crazy like that or\nall of your client machines or\n\n153\n00:08:12.067 --> 00:08:16.254\nyour phones are ringing off the hook\nbecause some update broke, like you said,\n\n154\n00:08:16.254 --> 00:08:20.470\na line of business application that\nwas written custom for your company.\n\n155\n00:08:20.470 --> 00:08:22.070\nMicrosoft couldn't test for that right?\n\n156\n00:08:22.070 --> 00:08:24.220\nThat was just a nightmare.\n\n157\n00:08:24.220 --> 00:08:25.820\nWouldn't want that to happen.\n\n158\n00:08:25.820 --> 00:08:28.900\nAll right so what we're gonna do, so\nnow that we have a good idea of why we're\n\n159\n00:08:28.900 --> 00:08:33.080\nsetting up WSUS,\nnow those are your reasons for doing this.\n\n160\n00:08:33.080 --> 00:08:34.610\nLet's take a look at how we get it set up.\n\n161\n00:08:34.610 --> 00:08:38.590\nOnce you install the roll you then\nneed to configure it all right.\n\n162\n00:08:38.590 --> 00:08:41.380\nNow before I configure I haven't run\nthrough the configuration wizard yet\n\n163\n00:08:41.380 --> 00:08:45.760\nand if I go and look there's a note\ncalled Options over here and\n\n164\n00:08:45.760 --> 00:08:48.700\nI can take a look at say Products and\nClassifications.\n\n165\n00:08:48.700 --> 00:08:53.640\nAnd this is where I can choose what\nupdates I'm downloading from Microsoft.\n\n166\n00:08:53.640 --> 00:08:55.960\nThis is a very important part\nof setting up your subserver.\n\n167\n00:08:55.960 --> 00:08:59.860\nYou do not want every single update\nthat Microsoft has ever made,\n\n168\n00:08:59.860 --> 00:09:01.610\nlocally on your subserver, right?\n\n169\n00:09:01.610 --> 00:09:02.252\n>> Why not, Mike?\n\n170\n00:09:02.252 --> 00:09:04.780\n[LAUGH] This makes sense to me.\n\n171\n00:09:04.780 --> 00:09:07.660\nLet's download everything whether\nI have it installed or not.\n\n172\n00:09:07.660 --> 00:09:11.600\n>> I don't know how many terabytes\nof storage that would require, but\n\n173\n00:09:11.600 --> 00:09:12.870\nit's gonna be a lot.\n\n174\n00:09:12.870 --> 00:09:16.720\nCuz you can go out and get every single\nupdate that Microsoft has ever created.\n\n175\n00:09:16.720 --> 00:09:20.090\nYou could get every single language,\nso not only every update but\n\n176\n00:09:20.090 --> 00:09:22.550\nevery update in 50 different languages,\nright.\n\n177\n00:09:22.550 --> 00:09:23.840\nThat's a lot of space.\n\n178\n00:09:23.840 --> 00:09:26.810\nYou definitely don't want to do that,\ndon't make that mistake.\n\n179\n00:09:26.810 --> 00:09:29.980\nSo you're gonna come through here and pick\nwhat products you have on your network.\n\n180\n00:09:29.980 --> 00:09:32.253\nAnd those are the only ones you\nreally need to get the updates for.\n\n181\n00:09:32.253 --> 00:09:34.877\nNow, if you look at my list,\nit might seem a little odd here.\n\n182\n00:09:34.877 --> 00:09:39.425\nI got Exchange 2000, and\n2003, Office 2003, and XP.\n\n183\n00:09:39.425 --> 00:09:43.883\nIf I look down at my Windows,\nI've got 2000, 2003, XP.\n\n184\n00:09:43.883 --> 00:09:45.356\nSeems a little off, right?\n\n185\n00:09:45.356 --> 00:09:46.575\n>> It's a little light there, Mike.\n\n186\n00:09:46.575 --> 00:09:49.200\n[LAUGH]\n>> Yeah where's even, Windows seven,\n\n187\n00:09:49.200 --> 00:09:51.030\nWindows eight, server 2008, server 2012?\n\n188\n00:09:51.030 --> 00:09:54.850\nThat's because I haven't synced\nthis guy yet with Microsoft.\n\n189\n00:09:54.850 --> 00:09:56.870\nThat's just a default install.\n\n190\n00:09:56.870 --> 00:10:00.570\nIf you come to your WSUS server and\nyou're trying to pick your products, and\n\n191\n00:10:00.570 --> 00:10:04.560\nyou see something like this and you're\ngoing, where the heck is my modern stuff?\n\n192\n00:10:04.560 --> 00:10:08.170\nIt's because you haven't synced it up yet,\nor you tried and it failed.\n\n193\n00:10:08.170 --> 00:10:09.810\nYou need to go back and\ncheck that, all right.\n\n194\n00:10:09.810 --> 00:10:15.510\nSo what I'm gonna do is I'm going\nto show you how to sync it.\n\n195\n00:10:15.510 --> 00:10:16.860\nDown here at the bottom, like I said,\n\n196\n00:10:16.860 --> 00:10:20.770\nthe wizard would normally launch\nthe first time you open this console.\n\n197\n00:10:20.770 --> 00:10:24.550\nI cancelled it out so I could kinda show\nyou a couple of things here first, but\n\n198\n00:10:24.550 --> 00:10:27.850\nit's okay, because I can always go\nback and run this wizard again.\n\n199\n00:10:27.850 --> 00:10:33.380\nIt's on the options, and\nthen my WSUS server configuration wizard.\n\n200\n00:10:33.380 --> 00:10:35.000\nI go ahead and launch that and\n\n201\n00:10:35.000 --> 00:10:38.750\nI do need to make sure that my Internet\nis connected to this machine right.\n\n202\n00:10:38.750 --> 00:10:40.700\nIt's gonna have to reach out to Microsoft.\n\n203\n00:10:40.700 --> 00:10:44.110\nI've got to make sure that the,\nfirewall is configured to allow my\n\n204\n00:10:44.110 --> 00:10:48.060\nother machines to connect to\nthe server to get those updates.\n\n205\n00:10:48.060 --> 00:10:51.720\nIf I've got a proxy server I'm gonna\nhave to know that information so I can\n\n206\n00:10:51.720 --> 00:10:55.980\nconfigure it cause this guy has to reach\nout to Microsoft and grab those updates.\n\n207\n00:10:55.980 --> 00:10:57.820\nSo I'll click Next.\n\n208\n00:10:57.820 --> 00:11:02.200\nAnd I definitely do not want to join\nthe Microsoft Update Improvement Program.\n\n209\n00:11:02.200 --> 00:11:02.960\nYou can if you want.\n\n210\n00:11:02.960 --> 00:11:04.260\nWe'll click Next.\n\n211\n00:11:04.260 --> 00:11:06.840\nAnd here I've got a choice to\nsynchronize from Microsoft or\n\n212\n00:11:06.840 --> 00:11:10.330\nsynchronize from another\nWindow Server Update Services server.\n\n213\n00:11:10.330 --> 00:11:11.865\nGod, that's a mouthful to say.\n\n214\n00:11:11.865 --> 00:11:13.350\n>> [LAUGH]\n>> And I'm gonna come back and\n\n215\n00:11:13.350 --> 00:11:15.440\ntalk about that in just a little bit.\n\n216\n00:11:15.440 --> 00:11:18.200\nI'm gonna leave this unsynchronized for\nMicrosoft.\n\n217\n00:11:18.200 --> 00:11:21.180\nI'm gonna click Next just to go\nthrough this wizard for you.\n\n218\n00:11:21.180 --> 00:11:24.850\nI don't have a proxy here so this guy\ncan get straight out to the Internet.\n\n219\n00:11:24.850 --> 00:11:26.350\nI'll click Next.\n\n220\n00:11:26.350 --> 00:11:29.950\nAnd at this point I would\nchoose Start Connecting, right.\n\n221\n00:11:29.950 --> 00:11:32.430\nAnd that's when it's gonna\nreach out to Microsoft and\n\n222\n00:11:32.430 --> 00:11:37.270\nit's gonna update that list for example,\nof cloud products and classifications.\n\n223\n00:11:37.270 --> 00:11:39.960\nIt's gonna talk to Microsoft and\nget all that information.\n\n224\n00:11:39.960 --> 00:11:42.490\nOnce it finishes, and\nthat process is gonna take a little while.\n\n225\n00:11:42.490 --> 00:11:46.880\nOnce it finishes can go through and\npick the languages I need to support.\n\n226\n00:11:46.880 --> 00:11:49.660\nWhich updates I want to download I\nwant to download from Microsoft and\n\n227\n00:11:49.660 --> 00:11:50.730\na few other things.\n\n228\n00:11:50.730 --> 00:11:54.660\nSo, but what I've done is I got another\nmachine set up that's already synced\n\n229\n00:11:54.660 --> 00:11:57.040\nwith Microsoft,\ncuz this process can take anywhere from,\n\n230\n00:11:57.040 --> 00:12:01.000\nyeah, I've seen it take five, ten minutes,\nup to an hour because it's used slow\n\n231\n00:12:01.000 --> 00:12:04.360\nconnectivity maybe, back to Microsoft or\na busy time on there.\n\n232\n00:12:04.360 --> 00:12:09.450\nAnd so, we're gonna switch over to another\nmachine that's already synchronized.\n\n233\n00:12:09.450 --> 00:12:12.350\nAll right, so here's my server that's\nalready synchronized with Microsoft.\n\n234\n00:12:12.350 --> 00:12:14.290\nAnd let's take a look at\nthe difference it made.\n\n235\n00:12:14.290 --> 00:12:16.690\nIf I go to products and\nclassifications, and\n\n236\n00:12:16.690 --> 00:12:20.200\ngive it a second to populate the list and\nyou'll see I have a much bigger list now.\n\n237\n00:12:20.200 --> 00:12:25.160\nNow if I go all the way down to\nmy Windows, now I've got things\n\n238\n00:12:25.160 --> 00:12:30.410\nlike 2012 R2 and Windows 8 and 8.1 and\nthings like that so again, important\n\n239\n00:12:30.410 --> 00:12:35.620\nthat you configure your server to go reach\nout to Microsoft, update it's information.\n\n240\n00:12:35.620 --> 00:12:39.000\nWSUS itself needs to get updated first.\n\n241\n00:12:39.000 --> 00:12:42.840\nThen I can go through and\nconfigure all of my other options.\n\n242\n00:12:42.840 --> 00:12:44.800\nAnd if we would have continued\non with that wizard,\n\n243\n00:12:44.800 --> 00:12:48.310\nif I would have clicked Start Connecting,\nit would have reach out to Microsoft,\n\n244\n00:12:48.310 --> 00:12:52.100\ndownloaded these lists here and then\nit would actually let me choose those.\n\n245\n00:12:52.100 --> 00:12:55.737\nAnd you can see I've already chosen just\na few because I did not want to sit there\n\n246\n00:12:55.737 --> 00:12:58.568\nall night last night and wait for\nthis thing to synchronize.\n\n247\n00:12:58.568 --> 00:13:03.956\nSo I chose Windows 8 and\nWindows Server 2012 R2 updates,\n\n248\n00:13:03.956 --> 00:13:07.829\nbut you can see the list\nis rather extensive.\n\n249\n00:13:07.829 --> 00:13:11.140\nThey've already got support for,\nsee if I can find it for you here.\n\n250\n00:13:11.140 --> 00:13:12.350\n>> Is that 2016 on there?\n\n251\n00:13:12.350 --> 00:13:14.160\n>> Windows 10 is there.\n\n252\n00:13:14.160 --> 00:13:16.818\nServer 2016 is already in that list.\n\n253\n00:13:16.818 --> 00:13:21.122\nAnd if I go back up to say, Office, you\ncan see all the different system centers.\n\n254\n00:13:21.122 --> 00:13:26.590\nYou know there's all the Office 2002,\n2003, 2007, 10, 13, all of them.\n\n255\n00:13:26.590 --> 00:13:28.890\nSo it let's you support that\nmixed environment, right,\n\n256\n00:13:28.890 --> 00:13:30.700\nit doesn't matter what you're running.\n\n257\n00:13:30.700 --> 00:13:32.630\nIf you've got some clients\nthat are running Windows 8,\n\n258\n00:13:32.630 --> 00:13:35.260\nyou still got some XP\nclients banging around.\n\n259\n00:13:35.260 --> 00:13:40.170\nYou got some people that just love Office\n2003, and they refuse to give it up.\n\n260\n00:13:40.170 --> 00:13:42.050\nYou can still support all of that,\nall right.\n\n261\n00:13:42.050 --> 00:13:43.890\nBut you have to choose,\ndo you wanna make that decision.\n\n262\n00:13:43.890 --> 00:13:46.600\nYou don't want to support everything,\nif you don't need to.\n\n263\n00:13:46.600 --> 00:13:48.500\nAll right, so those are your products.\n\n264\n00:13:48.500 --> 00:13:50.320\nAnd then you've got classifications.\n\n265\n00:13:50.320 --> 00:13:52.050\nClassifications are the type of update.\n\n266\n00:13:52.050 --> 00:13:56.090\nSo I can say I want updates for\nServer 2012 R2 Windows 8.1.\n\n267\n00:13:56.090 --> 00:13:57.590\nWhat updates do you want?\n\n268\n00:13:57.590 --> 00:13:59.090\nDo you want just critical updates?\n\n269\n00:13:59.090 --> 00:14:00.770\nDo you want those security updates?\n\n270\n00:14:00.770 --> 00:14:02.070\nDo you want drivers?\n\n271\n00:14:02.070 --> 00:14:04.810\nDo you want service packs and roll-ups?\n\n272\n00:14:04.810 --> 00:14:06.290\nAll of that good stuff.\n\n273\n00:14:06.290 --> 00:14:07.990\nYou can come through here and\n\n274\n00:14:07.990 --> 00:14:12.070\npick optional updates,\nrecommended updates, things like that.\n\n275\n00:14:12.070 --> 00:14:13.020\nI like to keep this,\n\n276\n00:14:13.020 --> 00:14:16.140\nagain each organization kinda\nruns it a little bit differently.\n\n277\n00:14:16.140 --> 00:14:18.140\nI've done drivers before,\nDaniel, and that ate up so\n\n278\n00:14:18.140 --> 00:14:21.110\nmuch disk space on my\ndeployment server it was crazy.\n\n279\n00:14:21.110 --> 00:14:22.120\nWe had to stop doing that.\n\n280\n00:14:22.120 --> 00:14:26.330\n>> I'll tell you what, and when I was\nrunning WSUS at a previous engagement,\n\n281\n00:14:26.330 --> 00:14:29.430\nit was not uncommon for\npatch Tuesday to roll around and\n\n282\n00:14:29.430 --> 00:14:32.650\nus to get between two and 400 updates.\n\n283\n00:14:32.650 --> 00:14:36.430\nAnd that just covered the litany\nof different systems that we held,\n\n284\n00:14:36.430 --> 00:14:38.500\nthe different price that\nwe have from Microsoft.\n\n285\n00:14:38.500 --> 00:14:40.330\nThat's a lot of updates to go.\n\n286\n00:14:40.330 --> 00:14:42.850\nI wonder if this is gonna break or\nthat's gonna break.\n\n287\n00:14:42.850 --> 00:14:45.550\nSo pairing that down,\nplus you got to store all those,\n\n288\n00:14:45.550 --> 00:14:47.386\nthose are actually taking\nup storage somewhere.\n\n289\n00:14:47.386 --> 00:14:52.240\nGotta store those updates that WSUS\nserver is downloading them to itself or\n\n290\n00:14:52.240 --> 00:14:55.380\nto it's storage, and say,\nokay now I can give those out.\n\n291\n00:14:55.380 --> 00:14:58.890\nThat way you're not hitting Microsoft\nyou're going straight for your own server,\n\n292\n00:14:58.890 --> 00:15:03.490\nso you gotta take that into account\nthat you have enough storage for that.\n\n293\n00:15:03.490 --> 00:15:05.775\n>> That almost makes a full-time job for\nsomebody to sit there and\n\n294\n00:15:05.775 --> 00:15:06.365\nwork the updates.\n\n295\n00:15:06.365 --> 00:15:07.525\n>> Yeah.\n>> And test the updates and\n\n296\n00:15:07.525 --> 00:15:09.615\napprove the updates and things like that.\n\n297\n00:15:09.615 --> 00:15:11.755\nIt can be quite time consuming.\n\n298\n00:15:11.755 --> 00:15:13.885\nAll right so those are the products and\nclassifications.\n\n299\n00:15:13.885 --> 00:15:16.895\nAnd let's go through a few more of these\noptions they might ask you about on\n\n300\n00:15:16.895 --> 00:15:21.115\nthe exam as well if you're doing this in\nthe real world you really need to know.\n\n301\n00:15:21.115 --> 00:15:24.445\nFirst one up here is my Update Source and\nProxy Server.\n\n302\n00:15:24.445 --> 00:15:27.020\nAnd I can synchronize\nfrom Microsoft Update.\n\n303\n00:15:27.020 --> 00:15:27.850\nMy other option here,\n\n304\n00:15:27.850 --> 00:15:32.060\nsynchronize form another\nWindows Server Update Services Server.\n\n305\n00:15:32.060 --> 00:15:35.590\nSo the question is,\nwhat the heck is that option?\n\n306\n00:15:35.590 --> 00:15:36.963\nWell, when you set up WSUS,\n\n307\n00:15:36.963 --> 00:15:40.066\nyou've got a couple different\nmodes you can really set it up in.\n\n308\n00:15:40.066 --> 00:15:45.347\nWe've got what we call autonomous mode,\nand then we've got replica mode.\n\n309\n00:15:45.347 --> 00:15:48.390\nAnd we can set up, basically, a hierarchy.\n\n310\n00:15:48.390 --> 00:15:51.930\nAnd I know Daniel has a great little\ndrawing for us here, let me find it.\n\n311\n00:15:51.930 --> 00:15:52.960\nThere we go.\n\n312\n00:15:52.960 --> 00:15:55.720\nLet's start off in Autonomous Mode.\n\n313\n00:15:55.720 --> 00:15:59.859\nNow, in Autonomous Mode, I'm going\nto have, like, here's my HQ up here,\n\n314\n00:15:59.859 --> 00:16:00.764\nmy home office.\n\n315\n00:16:00.764 --> 00:16:03.412\nI've got my WSUS server sitting up here.\n\n316\n00:16:03.412 --> 00:16:06.210\nIt's gonna be reaching out to Microsoft.\n\n317\n00:16:06.210 --> 00:16:07.384\nThere's nobody higher than him, right?\n\n318\n00:16:07.384 --> 00:16:10.700\nWho's he getting the updates from\nis really what we're deciding here.\n\n319\n00:16:10.700 --> 00:16:14.410\nAnd, he's gonna reach out to Microsoft and\nget those updates.\n\n320\n00:16:14.410 --> 00:16:17.810\nWell, these guys down here,\nif I'm running in autonomous mode,\n\n321\n00:16:17.810 --> 00:16:21.190\nI can really do it a third way, kinda.\n\n322\n00:16:21.190 --> 00:16:22.040\nLet's talk about that.\n\n323\n00:16:22.040 --> 00:16:23.300\nIn autonomous mode,\n\n324\n00:16:23.300 --> 00:16:28.730\nI could have them get the updates from\nthe Home Office subserver, right?\n\n325\n00:16:28.730 --> 00:16:31.030\nSo instead of downloading from Microsoft,\n\n326\n00:16:31.030 --> 00:16:35.310\nthese guys would actually reach up here\nand download the updates, all right?\n\n327\n00:16:35.310 --> 00:16:35.960\nSo in that case,\n\n328\n00:16:35.960 --> 00:16:41.910\nI'd be choosing that second option to\npull from an upstream WSUS Server.\n\n329\n00:16:41.910 --> 00:16:43.390\nBut in autonomous mode,\n\n330\n00:16:43.390 --> 00:16:46.430\nit's up to these guys at\nthe Branch Office to approve the updates.\n\n331\n00:16:46.430 --> 00:16:50.380\nIn other words, I might approve an update\nup here at headquarters but that update is\n\n332\n00:16:50.380 --> 00:16:54.090\ngoing to cause a problem at branch 2 and\nthey choose not to approve that update.\n\n333\n00:16:54.090 --> 00:16:55.530\nHence the name autonomous.\n\n334\n00:16:55.530 --> 00:16:57.960\nEverybody's kind of separate,\nthey're on their own thing.\n\n335\n00:16:57.960 --> 00:16:59.840\nThey might still download\nthem from mine or\n\n336\n00:16:59.840 --> 00:17:02.270\nthey can just go directly to Microsoft and\ndownload.\n\n337\n00:17:02.270 --> 00:17:05.850\nMaybe they want,\nthey don't want to support Office 2003.\n\n338\n00:17:05.850 --> 00:17:08.360\nNobody at the branch office\nis running 2003 Office, so\n\n339\n00:17:08.360 --> 00:17:10.130\nthey choose not to get those updates.\n\n340\n00:17:10.130 --> 00:17:13.750\nSo, instead of getting from\nthe headquarters WSUS,\n\n341\n00:17:13.750 --> 00:17:16.280\nthey just get them from Microsoft.\n\n342\n00:17:16.280 --> 00:17:19.050\nThe other mode I have\navailable is replica mode,\n\n343\n00:17:19.050 --> 00:17:22.760\nand this is a very common one\nyou see in large corporations.\n\n344\n00:17:22.760 --> 00:17:27.660\nBecause as we just described it can be a\nfull-time job working with these updates,\n\n345\n00:17:27.660 --> 00:17:29.740\nor practically a full-time job.\n\n346\n00:17:29.740 --> 00:17:34.370\nSo what happens in replica mode is we'll\nhave this guy from the Home Office sync\n\n347\n00:17:34.370 --> 00:17:35.450\nwith Microsoft.\n\n348\n00:17:35.450 --> 00:17:39.990\nAnd then we'll do all our approvals up\nhere at the Home Office SUS server.\n\n349\n00:17:39.990 --> 00:17:42.640\nAnd then the Branch Offices pull down,\n\n350\n00:17:42.640 --> 00:17:46.560\nnot only do they get the updates from\nthat guy at headquarters, but they also\n\n351\n00:17:46.560 --> 00:17:49.890\npull down the approval status from\nthat guy up there in the headquarters,\n\n352\n00:17:49.890 --> 00:17:53.340\nso that nobody in the Branch Office\nhas to administer the SUS server.\n\n353\n00:17:53.340 --> 00:17:55.840\nAll of that is handled\nfrom the Home Office, and\n\n354\n00:17:55.840 --> 00:17:58.200\nthen it trickles down to\nthe Branch Office as well.\n\n355\n00:17:58.200 --> 00:18:04.160\nSo you set up a hierarchy of WSUS servers,\nand that's what's known as Replica Mode.\n\n356\n00:18:04.160 --> 00:18:09.410\nAll right, so now we see those options,\nlet's switch back over to my, if I can\n\n357\n00:18:09.410 --> 00:18:13.530\nfind them here, my SUS server, as I make\nyou dizzy switching back and forth there.\n\n358\n00:18:13.530 --> 00:18:15.080\nSo synchronized from Microsoft,\n\n359\n00:18:15.080 --> 00:18:18.310\ntypically that's done on that\ntop level in my hierarchy.\n\n360\n00:18:18.310 --> 00:18:19.610\nOr if we're doing autonomous mode,\n\n361\n00:18:19.610 --> 00:18:22.970\nusually all of them are just going\nto go get it from Microsoft.\n\n362\n00:18:22.970 --> 00:18:25.300\nThe other option here is\nsynchronize from other server.\n\n363\n00:18:25.300 --> 00:18:28.250\nThis would be what I would do in\nthe Branch Offices if I wanted to pull\n\n364\n00:18:28.250 --> 00:18:31.870\nthe configuration from\nthe server in my Home Office.\n\n365\n00:18:31.870 --> 00:18:33.890\nSo I would just put that server's name,\n\n366\n00:18:33.890 --> 00:18:36.760\nspecify a different port\nnumber if I wanted to.\n\n367\n00:18:36.760 --> 00:18:39.810\nI can use SSL when synchronizing.\n\n368\n00:18:39.810 --> 00:18:41.810\nI've never really understood that option.\n\n369\n00:18:41.810 --> 00:18:44.730\nThey're Windows updates, and.\n\n370\n00:18:44.730 --> 00:18:48.410\n>> Not like there's sensitive information\ngoing around on a Windows update, so.\n\n371\n00:18:48.410 --> 00:18:49.816\n>> Right?\nI mean, am I really gonna go and\n\n372\n00:18:49.816 --> 00:18:51.796\nissue certificates and\nthen do all this stuff to do that?\n\n373\n00:18:51.796 --> 00:18:53.061\n>> And have all that overhead.\n\n374\n00:18:53.061 --> 00:18:53.642\n>> I don't know, maybe.\n\n375\n00:18:53.642 --> 00:18:55.324\nYeah.\n>> The bad guys gonna see what update\n\n376\n00:18:55.324 --> 00:18:58.258\nyou're getting and\nknow what update you didn't get and take.\n\n377\n00:18:58.258 --> 00:18:58.780\n>> No.\n\n378\n00:18:58.780 --> 00:19:00.567\n>> I don't see it happening, but\n\n379\n00:19:00.567 --> 00:19:04.470\njust know you can if you need\nto secure those communications.\n\n380\n00:19:04.470 --> 00:19:07.740\nAnd then this is the option,\nthis server is a replica.\n\n381\n00:19:07.740 --> 00:19:11.280\nAnd notice what it says, if it mirrors the\nupdate approvals, settings, computers, and\n\n382\n00:19:11.280 --> 00:19:12.610\ngroups from its parents,\n\n383\n00:19:12.610 --> 00:19:16.660\nupdates can be approved only on\nthat upstream server, all right?\n\n384\n00:19:16.660 --> 00:19:20.550\nSo you can synchronize from another\nserver and still not be a replica.\n\n385\n00:19:20.550 --> 00:19:23.050\nSo in the end there's really\nthree ways you can set it up.\n\n386\n00:19:23.050 --> 00:19:25.800\nEach server independent,\nthey all go to Microsoft.\n\n387\n00:19:25.800 --> 00:19:29.260\nOne goes to Microsoft and\nthe Branch Offices pull the downloads\n\n388\n00:19:29.260 --> 00:19:32.870\nfrom your corporate office, but they can\nstill configure the updates independently.\n\n389\n00:19:32.870 --> 00:19:36.800\nOr replica mode, where the Branch Offices\nare just exact copies, or\n\n390\n00:19:36.800 --> 00:19:39.510\nmirrors of that corporate office, right?\n\n391\n00:19:39.510 --> 00:19:41.700\nI'm gonna leave mine on synchronize.\n\n392\n00:19:41.700 --> 00:19:45.510\nAnd then the proxy server settings, we\ngot to set that during the installation.\n\n393\n00:19:45.510 --> 00:19:48.050\nIf that ever changes,\nthis is where you would go to fix that.\n\n394\n00:19:48.050 --> 00:19:50.972\nIf your company decides to\nstart running a proxy server,\n\n395\n00:19:50.972 --> 00:19:55.190\nyour SUS server that's reaching out to\nMicrosoft needs to go through that proxy.\n\n396\n00:19:55.190 --> 00:19:56.950\nThis is where you're gonna\nconfigure those settings.\n\n397\n00:19:56.950 --> 00:19:58.730\nSo those are some\nimportant settings there.\n\n398\n00:20:00.140 --> 00:20:02.810\nProducts and Classifications\nwe've already talked about.\n\n399\n00:20:02.810 --> 00:20:04.650\nUpdate Files and Languages.\n\n400\n00:20:04.650 --> 00:20:07.450\nThis is where I am going\nto store the updates.\n\n401\n00:20:07.450 --> 00:20:10.820\nAnd again, we've talked about how\nit's great that it pulls them down.\n\n402\n00:20:10.820 --> 00:20:11.800\nIf you didn't want to,\n\n403\n00:20:11.800 --> 00:20:16.630\nyou can set it up where you don't actually\ndownload the updates from Microsoft.\n\n404\n00:20:16.630 --> 00:20:19.970\nYou are downloading information about the\nupdates and then you can go through and\n\n405\n00:20:19.970 --> 00:20:23.820\napprove the updates,\nyou can test them and approve them.\n\n406\n00:20:23.820 --> 00:20:27.100\nBut, when the computer is connected, they\nare going to connect to your SUS server\n\n407\n00:20:27.100 --> 00:20:29.860\nto see what updates they're supposed\nto get but when they need to\n\n408\n00:20:29.860 --> 00:20:34.400\nactually download the file itself, they're\ngonna reach out to Microsoft and get it.\n\n409\n00:20:34.400 --> 00:20:34.940\nAll right?\n\n410\n00:20:34.940 --> 00:20:39.970\nSo if bandwidth isn't an issue and storage\nis, maybe this is the way you wanna go.\n\n411\n00:20:39.970 --> 00:20:44.360\nI still have the same approval process,\nthe same control over the updates, but\n\n412\n00:20:44.360 --> 00:20:48.770\nI don't have to actually store the\ninstallation files themselves, all right?\n\n413\n00:20:48.770 --> 00:20:50.370\nAnd then the update languages.\n\n414\n00:20:50.370 --> 00:20:52.130\nAgain, another important one.\n\n415\n00:20:52.130 --> 00:20:54.930\nYou see all the languages\nthat Microsoft supports.\n\n416\n00:20:54.930 --> 00:20:58.720\nAnd if you choose Download\nupdates in all languages,\n\n417\n00:20:58.720 --> 00:21:02.010\nmaybe you're an international company and\nyou need to do that, great.\n\n418\n00:21:02.010 --> 00:21:05.260\nIf you're not though, you really\nwanna limit what you're getting.\n\n419\n00:21:05.260 --> 00:21:08.960\nBecause each one of these languages is\nanother copy of that update that you're\n\n420\n00:21:08.960 --> 00:21:11.290\ntalking about downloading and storing.\n\n421\n00:21:11.290 --> 00:21:12.840\nSo set that appropriately.\n\n422\n00:21:14.350 --> 00:21:17.840\nThen I've got the synchronization\nschedule, and,\n\n423\n00:21:17.840 --> 00:21:22.050\nI've got this guy to synchronize manually\njust because this is a test environment.\n\n424\n00:21:22.050 --> 00:21:22.830\nIn the real world,\n\n425\n00:21:22.830 --> 00:21:27.450\nyou would definitely want to set this as\nautomatic, because you're gonna forget.\n\n426\n00:21:27.450 --> 00:21:31.790\nYou set up the SUS server, you walk\naway from it, a couple of weeks later,\n\n427\n00:21:31.790 --> 00:21:34.690\nyou realize that none of your\nmachines are getting their updates.\n\n428\n00:21:34.690 --> 00:21:38.000\nYou go to your SUS server, and it hasn't\nreached out to Microsoft to download any\n\n429\n00:21:38.000 --> 00:21:39.480\nupdates in the last two weeks.\n\n430\n00:21:39.480 --> 00:21:40.320\nNot a good thing, right?\n\n431\n00:21:40.320 --> 00:21:41.620\n>> Yeah, that's not a great thing,\n\n432\n00:21:41.620 --> 00:21:44.690\nI mean, what's the good of\nhaving a computer environment,\n\n433\n00:21:44.690 --> 00:21:47.820\nall this lovely autonomy, if we're\nnot taking advantage of the autonomy?\n\n434\n00:21:47.820 --> 00:21:51.180\nLet the computer, if it has some setting\nwhere you can set a schedule for\n\n435\n00:21:51.180 --> 00:21:54.440\nit do things that you normally\nwould have to tediously go in and\n\n436\n00:21:54.440 --> 00:21:56.810\nset yourself, let the thing do it.\n\n437\n00:21:56.810 --> 00:21:58.210\nAnd just every now and then check and\n\n438\n00:21:58.210 --> 00:21:59.930\nverify that everything\nis working correctly.\n\n439\n00:21:59.930 --> 00:22:02.290\nTake some of that load off\nof you as an administer,\n\n440\n00:22:02.290 --> 00:22:04.920\nwe've got plenty of other\nwork to be handling.\n\n441\n00:22:04.920 --> 00:22:08.540\nTop level support tickets that are coming\nin, trying to set up new servers\n\n442\n00:22:08.540 --> 00:22:11.310\ntrying to figure out new ways\nto connect WAN connectivity.\n\n443\n00:22:11.310 --> 00:22:13.892\nIt's a lot on our plates to just let,\n\n444\n00:22:13.892 --> 00:22:18.190\nany time you can automate something, go\nahead and take advantage of that service.\n\n445\n00:22:18.190 --> 00:22:20.090\nIt is there for you.\n\n446\n00:22:20.090 --> 00:22:21.370\n>> Exactly, exactly.\n\n447\n00:22:21.370 --> 00:22:24.270\nJust to have it do automatically and\nyou don't have to worry about it.\n\n448\n00:22:24.270 --> 00:22:27.200\nAll right, I'm gonna leave it on manual\nthough for this lab environment here.\n\n449\n00:22:27.200 --> 00:22:29.736\n>> Way to listen, Mike. Way to listen.\n>> [LAUGH] Yeah I know right?\n\n450\n00:22:29.736 --> 00:22:30.828\nDo as I say, not as I do, okay?\n\n451\n00:22:30.828 --> 00:22:32.733\nThat's what my dad used to always tell me.\n\n452\n00:22:32.733 --> 00:22:33.840\n>> That's right.\n\n453\n00:22:33.840 --> 00:22:36.460\n>> Automatic Approvals,\nthis is another good one to talk about.\n\n454\n00:22:36.460 --> 00:22:40.380\nYou can set up some rules to support\nautomatic approvals, so when those updates\n\n455\n00:22:40.380 --> 00:22:43.720\nget downloaded from Microsoft,\nyou don't have to manually approve them.\n\n456\n00:22:43.720 --> 00:22:45.660\nYou can just go ahead and\nhave them automatically approved.\n\n457\n00:22:46.700 --> 00:22:49.580\nBut if you think about why\nwe're running WSUS, right?\n\n458\n00:22:49.580 --> 00:22:53.420\nBecause I want control over what\nupdates are going out to my systems.\n\n459\n00:22:53.420 --> 00:22:55.840\nIf I am automatically approving them,\n\n460\n00:22:55.840 --> 00:22:58.100\nwhy even bother setting up\nWSUS in the first place?\n\n461\n00:22:58.100 --> 00:23:01.630\nJust let them go to Microsoft and\nget them and you're done with it, right?\n\n462\n00:23:01.630 --> 00:23:04.880\nSo this default rule, you can do it and\n\n463\n00:23:04.880 --> 00:23:07.070\nI've seen certain situations\nwhere critical and\n\n464\n00:23:07.070 --> 00:23:11.070\nsecurity updates, maybe I want to let\nthose things go through automatically.\n\n465\n00:23:11.070 --> 00:23:13.100\nBut, again, really the whole reason for\n\n466\n00:23:13.100 --> 00:23:16.500\nsetting it up is to give you that control,\nthe ability to test.\n\n467\n00:23:16.500 --> 00:23:20.800\n>> Yeah, it does come down to philosophy\nof usage when you're working with the SUS.\n\n468\n00:23:20.800 --> 00:23:24.650\nI worked in an environment where we did\ndo automatic updates for critical and\n\n469\n00:23:24.650 --> 00:23:27.860\nsecurity stuff because we figured,\nyou know what?\n\n470\n00:23:27.860 --> 00:23:29.030\nIt is a critical thing.\n\n471\n00:23:29.030 --> 00:23:32.800\nIt's probably exploitable things\nthat are being patched, and\n\n472\n00:23:32.800 --> 00:23:34.410\nthat's why they're under critical or\nsecurity.\n\n473\n00:23:34.410 --> 00:23:35.970\nSo just auto update them.\n\n474\n00:23:35.970 --> 00:23:38.560\nIf they break something,\nwe'll deal with that later.\n\n475\n00:23:38.560 --> 00:23:43.370\nI'd rather have them be less vulnerable\nto attack than worry about it breaking\n\n476\n00:23:43.370 --> 00:23:45.719\na piece of software,\nwhich we can address at a later time.\n\n477\n00:23:46.850 --> 00:23:50.080\nAnd you are losing a bit of\ncontrol in a certain aspect when\n\n478\n00:23:50.080 --> 00:23:51.950\nyou are doing it that way like Mike said.\n\n479\n00:23:51.950 --> 00:23:55.000\nYou're not getting to fine tune to\nlook through every single thing.\n\n480\n00:23:55.000 --> 00:23:57.950\nBut then again it also does give\nyou a little more autonomy so\n\n481\n00:23:57.950 --> 00:24:00.909\nit takes you away from having to do so\nmuch administration.\n\n482\n00:24:00.909 --> 00:24:05.770\nLike I said, it comes down to the\nphilosophy on how you wanna use the thing.\n\n483\n00:24:05.770 --> 00:24:09.110\nIf you want more control,\nyou're not gonna check that off.\n\n484\n00:24:09.110 --> 00:24:10.240\nIf you want more autonomy and\n\n485\n00:24:10.240 --> 00:24:12.950\nbe able to free up to do other things,\nyou are gonna check that off.\n\n486\n00:24:12.950 --> 00:24:15.110\nIt really comes down to\nyour personal preferences.\n\n487\n00:24:15.110 --> 00:24:16.540\n>> Yeah, and like you said,\nit's a great example.\n\n488\n00:24:16.540 --> 00:24:18.180\nIt really is kinda like risk management.\n\n489\n00:24:18.180 --> 00:24:19.560\n>> Yeah.\n>> You're trying to decide,\n\n490\n00:24:19.560 --> 00:24:24.010\nokay, well the risk is\nif I automate this And\n\n491\n00:24:24.010 --> 00:24:27.320\nI allow him to get installed\nautomatically, they could break something.\n\n492\n00:24:27.320 --> 00:24:30.170\nIf I don't,\nI get to go through this testing process.\n\n493\n00:24:30.170 --> 00:24:32.240\nAnd as you said, you guys decided.\n\n494\n00:24:32.240 --> 00:24:34.130\nLook, we understand the risks,\n\n495\n00:24:34.130 --> 00:24:38.070\nwe're willing to take that risk because\nthe benefits outweigh the risks, right?\n\n496\n00:24:38.070 --> 00:24:40.430\nWe'd rather have those\ncritical things patched,\n\n497\n00:24:40.430 --> 00:24:44.790\nbecause the odds of one of them causing a\nproblem on our system are relatively slim,\n\n498\n00:24:44.790 --> 00:24:46.970\nbecause Microsoft does\na good job of testing.\n\n499\n00:24:46.970 --> 00:24:50.430\nWe don't run a lot of custom software\nthat has a problem with Microsoft updates\n\n500\n00:24:50.430 --> 00:24:53.320\nanyway, so we're gonna go ahead and\nautomate that process, right.\n\n501\n00:24:53.320 --> 00:24:56.030\nSo definitely something that you\nat a company have to look at on\n\n502\n00:24:56.030 --> 00:24:57.110\nan individual basis.\n\n503\n00:24:57.110 --> 00:24:58.520\nAnd you can create additional rules.\n\n504\n00:24:58.520 --> 00:25:03.375\nYou can come in here and\nspecify new new rules, and maybe for\n\n505\n00:25:03.375 --> 00:25:07.755\nyour test group, you automatically apply\nthe updates, but for everybody else,\n\n506\n00:25:07.755 --> 00:25:09.965\nyou have to approve them manually or\nsomething like that.\n\n507\n00:25:09.965 --> 00:25:13.665\nSo you can get really creative with those\nrules, you can create more than one.\n\n508\n00:25:13.665 --> 00:25:15.875\nAlso, on the Advanced tab,\nI do like this one.\n\n509\n00:25:15.875 --> 00:25:18.375\nAutomatically approve new revisions\nof updates are already approved.\n\n510\n00:25:18.375 --> 00:25:21.160\nYou know how Microsoft\nloves to update updates?\n\n511\n00:25:21.160 --> 00:25:24.050\nThey put out an update and\nthen maybe that update caused a problem so\n\n512\n00:25:24.050 --> 00:25:26.170\nthey put out another update\nto update the update.\n\n513\n00:25:26.170 --> 00:25:26.710\nYeah.\n\n514\n00:25:26.710 --> 00:25:30.390\nWell if I've already approved the update,\nI most likely want to approve the update\n\n515\n00:25:30.390 --> 00:25:34.050\nfor the update and I can just go ahead and\nset that to automatic.\n\n516\n00:25:34.050 --> 00:25:38.140\nAutomatically decline updates when\na new revision causes them to expire.\n\n517\n00:25:38.140 --> 00:25:41.420\nSo if you've got an update that hadn't\nbeen approved yet and another update comes\n\n518\n00:25:41.420 --> 00:25:45.160\nout that supersedes it Just never approve\nthat one, automatically decline it.\n\n519\n00:25:45.160 --> 00:25:48.270\nAnd automatically approve\nupdates to the server itself.\n\n520\n00:25:48.270 --> 00:25:51.770\nThis is talking about the WSUS console and\nthings like that.\n\n521\n00:25:51.770 --> 00:25:54.430\nSo a few different options\nthat you have there as well.\n\n522\n00:25:55.540 --> 00:25:59.940\nAnd that Daniel pretty much is\nconfiguring the SUS server itself.\n\n523\n00:25:59.940 --> 00:26:02.250\nWe still have a lot of stuff\nwe need to go through.\n\n524\n00:26:02.250 --> 00:26:04.580\nWe need to see,\nnow that we've got this guy set up,\n\n525\n00:26:04.580 --> 00:26:07.850\nhow we go through that approval process,\nhow we set up our clients and\n\n526\n00:26:07.850 --> 00:26:09.820\nour groups and things like that.\n\n527\n00:26:09.820 --> 00:26:12.330\n>> Yeah, don't forget that\nlovely server cleanup wizard.\n\n528\n00:26:12.330 --> 00:26:14.651\nYou're gonna get really\nfamiliar with that guy.\n\n529\n00:26:14.651 --> 00:26:15.323\n[LAUGH]\n>> [LAUGH]\n\n530\n00:26:15.323 --> 00:26:16.592\n>> Cuz like what Mike was just talking\n\n531\n00:26:16.592 --> 00:26:19.230\nabout with approving approvals, and\nyeah, it gets to be a nightmare.\n\n532\n00:26:19.230 --> 00:26:22.050\nSo, it's good stuff but, Mike,\nI'm looking at the clock.\n\n533\n00:26:22.050 --> 00:26:24.180\nThis episode,\nwe're gonna have to close it down.\n\n534\n00:26:24.180 --> 00:26:26.910\nBut that means we're coming back\nto you guys with the part two\n\n535\n00:26:26.910 --> 00:26:29.230\nwith all the other meat and\npotatoes for WSUS.\n\n536\n00:26:29.230 --> 00:26:30.770\nSo, hopefully, we'll see you then.\n\n537\n00:26:30.770 --> 00:26:34.250\nAs for this one, sayonara, we're gonna\ngo ahead and sign off for ITProTV.\n\n538\n00:26:34.250 --> 00:26:36.150\nI've been your host, Daniel Lowry.\n\n539\n00:26:36.150 --> 00:26:36.950\n>> And I'm Mike Roderick.\n\n540\n00:26:36.950 --> 00:26:38.269\n>> We'll see you next time.\n\n541\n00:26:38.269 --> 00:26:44.680\n[SOUND]\n\n",
          "vimeoId": "138078714"
        },
        {
          "description": "In this episode, Daniel and Mike continue their discussion on configuring patch management using WSUS from Microsoft. This time they move on to configuring group policy for the purposes of configuring automatic updates on the client systems and other update settings. Other topics discussed include client-side targeting, WSUS synchronization, WSUS groups, and patch management in a mixed environment.",
          "length": "1754",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-2-1-configuring_wsus-pt.2-090115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-2-1-configuring_wsus-pt.2-090115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-2-1-configuring_wsus-pt.2-090115-1-sm.jpg",
          "title": "Configuring WSUS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:09.830\n[MUSIC]\n\n2\n00:00:09.830 --> 00:00:11.648\nAlright.\nGreetings, everyone, and\n\n3\n00:00:11.648 --> 00:00:14.694\nwelcome to another exciting\nepisode episode of ITProTv,\n\n4\n00:00:14.694 --> 00:00:16.321\nI'm your host Daniel Lowery.\n\n5\n00:00:16.321 --> 00:00:19.560\nHere with me is my partner in crime today,\nMr. Mike Rodrick.\n\n6\n00:00:19.560 --> 00:00:20.290\nHow's it going Mikey?\n\n7\n00:00:20.290 --> 00:00:22.020\n>> Oh it's going great, exited to be here.\n\n8\n00:00:22.020 --> 00:00:24.230\nWe're continuing on with our 74-11 series,\n\n9\n00:00:24.230 --> 00:00:27.850\nin fact we're continuing on\na previous episode with our WSUS.\n\n10\n00:00:27.850 --> 00:00:32.810\nYou might have noticed the little Part\n2 down there in our lower thirds.\n\n11\n00:00:32.810 --> 00:00:37.870\nSo, in the previous episode we got to see\nhow to get that WSUS server all set up and\n\n12\n00:00:37.870 --> 00:00:38.520\nready to go.\n\n13\n00:00:38.520 --> 00:00:41.720\nNow, what we have to do is\ntie it into our network and\n\n14\n00:00:41.720 --> 00:00:45.120\nmake sure that all of our machines\nare getting their updates from\n\n15\n00:00:45.120 --> 00:00:49.360\nour update server, as well as look at how\nwe go through the approval process and\n\n16\n00:00:49.360 --> 00:00:52.470\ndecide what updates we want\nto push out to our clients.\n\n17\n00:00:52.470 --> 00:00:54.060\nSo, let's take a look at that.\n\n18\n00:00:54.060 --> 00:00:59.020\nSo, I've got my WSUS servers\nsitting here on my screen now and\n\n19\n00:00:59.020 --> 00:01:01.860\nfirst thing I wanna show you\nis some group policy settings.\n\n20\n00:01:01.860 --> 00:01:05.640\nSo let me actually flip over\nto my domain controller here.\n\n21\n00:01:05.640 --> 00:01:09.320\nAnd I'm gonna open up my group\npolicy management console.\n\n22\n00:01:11.560 --> 00:01:16.060\nAnd I think I'll start by expanding\nmy way down to my domain.\n\n23\n00:01:16.060 --> 00:01:19.110\nAnd I've got an OU here called sales.\n\n24\n00:01:19.110 --> 00:01:21.860\nAnd I'm going to right click on that guy.\n\n25\n00:01:21.860 --> 00:01:23.580\nActually, you know what I'll\ndo this at the domain level.\n\n26\n00:01:23.580 --> 00:01:26.630\nLets make a new policy up\nhere at the domain and\n\n27\n00:01:26.630 --> 00:01:29.800\nI'm going to call it my WSUS policy.\n\n28\n00:01:31.840 --> 00:01:34.540\nAnd then I'll go back in and\nmodify that policy and\n\n29\n00:01:36.240 --> 00:01:39.540\nwill take a look at the settings\nthey give us for WSUS.\n\n30\n00:01:39.540 --> 00:01:44.250\nSo the setting is gonna be located under\nthe Computer half, and then Policies, and\n\n31\n00:01:44.250 --> 00:01:48.410\nthe Administrative Templates,\nand then Windows Components.\n\n32\n00:01:48.410 --> 00:01:53.730\nAnd all the way down at the bottom\nof this Windows Components here, and\n\n33\n00:01:53.730 --> 00:01:55.290\nI know I think I lied to you, right.\n\n34\n00:01:55.290 --> 00:01:57.030\nYep, because of Work Folders and\n\n35\n00:01:57.030 --> 00:01:59.859\nWork Place Join, Windows Updates is\nno longer at the bottom of the list.\n\n36\n00:02:01.140 --> 00:02:04.540\nAnyway so, we're going into Windows\nUpdate, and here's a whole bunch of\n\n37\n00:02:04.540 --> 00:02:10.830\nsettings that I can use to configure\nmy WSUS server, and the update process.\n\n38\n00:02:10.830 --> 00:02:13.580\nThere's a couple of these that I\nwant to point out for the exam.\n\n39\n00:02:13.580 --> 00:02:16.950\nThe rest of them you might want to\nlook at, familiarize yourself with.\n\n40\n00:02:16.950 --> 00:02:17.990\nEspecially in the real world.\n\n41\n00:02:17.990 --> 00:02:20.000\nThey might pertain to you.\n\n42\n00:02:20.000 --> 00:02:21.630\nI'll mention a couple of them here.\n\n43\n00:02:21.630 --> 00:02:26.470\nBut the most important ones are gonna be,\nfirst of all, specify intranet,\n\n44\n00:02:26.470 --> 00:02:31.370\nMicrosoft Update Service location and\nconfigure automatic updates.\n\n45\n00:02:31.370 --> 00:02:32.210\nNow let's start with that one.\n\n46\n00:02:32.210 --> 00:02:34.030\nConfigure automatic updates.\n\n47\n00:02:34.030 --> 00:02:37.820\nNow this one is how I'm gonna\nconfigure the update process\n\n48\n00:02:37.820 --> 00:02:39.150\non those client machines.\n\n49\n00:02:39.150 --> 00:02:43.900\nAnd remember when I say clients, I'm not\ntalking about client operating system.\n\n50\n00:02:43.900 --> 00:02:46.450\nI'm talking about any client\nof the WSUS server, so\n\n51\n00:02:46.450 --> 00:02:49.260\nany machine that connects\nto my SUS server.\n\n52\n00:02:49.260 --> 00:02:50.950\nNow I'm doing this at the domain level.\n\n53\n00:02:50.950 --> 00:02:54.190\nYou might choose to do this over\nyour client computer's OU and\n\n54\n00:02:54.190 --> 00:02:55.000\nnot your server's.\n\n55\n00:02:55.000 --> 00:02:57.040\nMaybe you want to make\na different policy for them.\n\n56\n00:02:57.040 --> 00:02:59.370\nSo you can decide that.\n\n57\n00:02:59.370 --> 00:03:02.710\nI'm gonna turn it on by choosing Enabled,\nand\n\n58\n00:03:02.710 --> 00:03:04.650\nthen these settings should look familiar.\n\n59\n00:03:04.650 --> 00:03:08.520\nNotify for download, notify for\ninstall, auto-download notify for\n\n60\n00:03:08.520 --> 00:03:12.060\ninstall, auto-download schedule\nthe install, and then that last one,\n\n61\n00:03:12.060 --> 00:03:13.940\nallow local admin to choose setting.\n\n62\n00:03:13.940 --> 00:03:18.190\nThese are the same settings you would see\nif you go to your Windows 8.1 machine and\n\n63\n00:03:18.190 --> 00:03:19.810\nyou open up your Windows Updates.\n\n64\n00:03:19.810 --> 00:03:22.710\nYou want to automatically download and\ninstall the updates.\n\n65\n00:03:22.710 --> 00:03:24.680\nThat's this option here number four.\n\n66\n00:03:24.680 --> 00:03:27.120\nIf you just want to be notified\nthat updates are available and\n\n67\n00:03:27.120 --> 00:03:29.760\nyou can download them if you want,\nthat's this update here.\n\n68\n00:03:29.760 --> 00:03:31.980\nAll right?\nOr this option up here, number two.\n\n69\n00:03:31.980 --> 00:03:36.600\nI'm gonna set this for number four because\nI want all my machines on my network\n\n70\n00:03:36.600 --> 00:03:39.940\nto get these updates automatically,\nand download them and\n\n71\n00:03:39.940 --> 00:03:41.690\ninstall them if I've approved them.\n\n72\n00:03:41.690 --> 00:03:44.070\nCuz remember your end user, I think\nDave had mentioned in our chat room,\n\n73\n00:03:44.070 --> 00:03:47.980\nyou need to force updates on your users\nand he couldn't be more right, right?\n\n74\n00:03:47.980 --> 00:03:48.900\n>> Oh yeah, definitely,\n\n75\n00:03:48.900 --> 00:03:53.880\ncuz a user will put this off forever\nif you allow them to do that.\n\n76\n00:03:53.880 --> 00:03:57.090\nSo it's a good idea to just go ahead, and\nlike what Mike's showing you right now,\n\n77\n00:03:57.090 --> 00:04:00.090\nuse that group policy to\nforce this upon them.\n\n78\n00:04:00.090 --> 00:04:02.675\nOtherwise they're going to be exposed,\nopen to every\n\n79\n00:04:02.675 --> 00:04:06.495\nevery kind of attack possible, because\ntheir machine is not being updated.\n\n80\n00:04:06.495 --> 00:04:09.425\nNow another thing that you might\nwant to do on the flip side of that\n\n81\n00:04:09.425 --> 00:04:12.945\nis your servers, well they tend to be\nproduction mission kind of critical.\n\n82\n00:04:12.945 --> 00:04:17.485\nSometimes even though it's set to\ninstall an update at a certain time,\n\n83\n00:04:17.485 --> 00:04:20.415\nthat might not be convenient,\nso it's better for\n\n84\n00:04:20.415 --> 00:04:23.675\nus as administrators to\nmanually handle those things.\n\n85\n00:04:23.675 --> 00:04:27.400\nI tend to make a no reboot\ngroup plus a forced group, so\n\n86\n00:04:27.400 --> 00:04:29.760\nthat I can put all my\nservers in a no-reboot group.\n\n87\n00:04:29.760 --> 00:04:34.120\nSpend some time after hours applying and\ninstalling updates and\n\n88\n00:04:34.120 --> 00:04:37.900\nthen rebooting them as necessary so that\nI can send out an e-mail to the company\n\n89\n00:04:37.900 --> 00:04:41.420\nsaying, this resource will be\nunavailable from this time to this time.\n\n90\n00:04:41.420 --> 00:04:42.500\nNo one's caught off guard.\n\n91\n00:04:42.500 --> 00:04:46.940\nMy phone isn't ringing with the CEO going,\nI'm trying to access these files and\n\n92\n00:04:46.940 --> 00:04:48.090\nthe server's not responding.\n\n93\n00:04:48.090 --> 00:04:51.390\nI'm like, yeah well I'm rebooting it right\nnow, because I applied some SUS updates.\n\n94\n00:04:51.390 --> 00:04:52.812\nAnd he's like why didn't you, you know.\n\n95\n00:04:52.812 --> 00:04:55.690\n>> [LAUGH]\n>> Save yourself some problem, so just use\n\n96\n00:04:55.690 --> 00:05:00.307\na little common sense when it comes to How\nyou're gonna set up these group policies.\n\n97\n00:05:00.307 --> 00:05:01.760\n[LAUGH]\n>> It is really hard to pick\n\n98\n00:05:01.760 --> 00:05:02.640\na time, right?\n\n99\n00:05:02.640 --> 00:05:05.950\nI mean, you think, nobody's using these\nservers at this time, blah, blah, blah,\n\n100\n00:05:05.950 --> 00:05:06.460\nor whatever.\n\n101\n00:05:06.460 --> 00:05:10.980\nBut some dude down in one of your\ndepartments is doing some work and\n\n102\n00:05:10.980 --> 00:05:12.030\nhe's doing it after hours.\n\n103\n00:05:12.030 --> 00:05:15.320\nAnd all of a sudden that server starts\nrebooting and he loses a bunch of stuff?\n\n104\n00:05:15.320 --> 00:05:16.500\nNot gonna be a happy camper, right?\n\n105\n00:05:16.500 --> 00:05:17.250\n>> That's a roll.\n\n106\n00:05:17.250 --> 00:05:17.990\n>> Yeah, all right.\n\n107\n00:05:17.990 --> 00:05:22.690\nSo but, as Daniel said, as our chat\nroom just said as well, your end users,\n\n108\n00:05:22.690 --> 00:05:24.300\nthey think they're smarter than us.\n\n109\n00:05:24.300 --> 00:05:27.380\nThey've got a friend that told them, you\ncomputer will run so much better if you\n\n110\n00:05:27.380 --> 00:05:30.920\nturn off those darn automatic updates,\nor their kid told them that right?\n\n111\n00:05:30.920 --> 00:05:32.740\nAnd they think,\nokay that's what I'm gonna do.\n\n112\n00:05:32.740 --> 00:05:35.290\nRemember, when you use group\npolicy to apply a setting,\n\n113\n00:05:35.290 --> 00:05:36.490\nthey can't change it, right.\n\n114\n00:05:36.490 --> 00:05:39.130\nIt's grayed out their end,\nthey won't be able to change it.\n\n115\n00:05:39.130 --> 00:05:40.260\nSo that's step number one.\n\n116\n00:05:40.260 --> 00:05:42.870\nAnd I'm going to leave it at the default,\nevery day at 3:00.\n\n117\n00:05:42.870 --> 00:05:45.230\nAnd I'll go ahead and click okay.\n\n118\n00:05:45.230 --> 00:05:48.500\nNow, like I said, you might want to do\ndifferent policies on different OUs.\n\n119\n00:05:48.500 --> 00:05:51.420\nMaybe all your marketing computers\ngo get their updates at 3:00,\n\n120\n00:05:51.420 --> 00:05:55.170\nall of your sales computers,\nthey go get their updates at 4:00 am,\n\n121\n00:05:55.170 --> 00:05:58.380\nmight want to stagger it out,\nor something like that.\n\n122\n00:05:58.380 --> 00:05:59.170\nYou can certainly do that.\n\n123\n00:05:59.170 --> 00:06:02.800\nAll right, so I've configured\nthe automatic update setting.\n\n124\n00:06:02.800 --> 00:06:07.880\nThe second one is here is specify intranet\nMicrosoft update service location.\n\n125\n00:06:07.880 --> 00:06:10.180\nAnd this is how I tell it\nI'm running a local server,\n\n126\n00:06:10.180 --> 00:06:15.000\nI don't want my machines going out and\ngetting their updates from Microsoft.\n\n127\n00:06:15.000 --> 00:06:17.490\nSo to specify where to\nget the updates from,\n\n128\n00:06:17.490 --> 00:06:20.750\nto make sure that our machines\nare going to my update server and\n\n129\n00:06:20.750 --> 00:06:23.980\nnot the Microsoft update server,\nI'm gonna turn this one on.\n\n130\n00:06:23.980 --> 00:06:25.210\nI'll choose enabled.\n\n131\n00:06:25.210 --> 00:06:29.430\nAnd then I'm gonna tell it svr01.lab.net.\n\n132\n00:06:29.430 --> 00:06:31.370\nThat's the name of my server.\n\n133\n00:06:31.370 --> 00:06:32.360\nAnd actually, you know what?\n\n134\n00:06:32.360 --> 00:06:33.250\nThat would not work.\n\n135\n00:06:33.250 --> 00:06:34.380\nLet me fix that.\n\n136\n00:06:34.380 --> 00:06:35.960\nIt is all web-based.\n\n137\n00:06:35.960 --> 00:06:38.830\nIt's gonna be http://Svr1.lab.net,\n\n138\n00:06:38.830 --> 00:06:43.880\nand then below that I've\ngot my statistics server.\n\n139\n00:06:43.880 --> 00:06:46.600\nWSUS has some great\nreporting capabilities, and\n\n140\n00:06:46.600 --> 00:06:48.210\nthis is telling it who to report.\n\n141\n00:06:48.210 --> 00:06:49.720\nAnd you can actually\nhave different servers.\n\n142\n00:06:49.720 --> 00:06:52.810\nLike, remember that replica model we\nshowed you where I've got the SUS server\n\n143\n00:06:52.810 --> 00:06:56.450\nat the corporate office and then two\nservers out at my different branches.\n\n144\n00:06:56.450 --> 00:06:59.480\nI might want them to get their updates\nfrom the server that's local to them at\n\n145\n00:06:59.480 --> 00:07:00.610\nthe branch office.\n\n146\n00:07:00.610 --> 00:07:03.390\nBut as far as reporting in,\nwhat updates are necessary, or\n\n147\n00:07:03.390 --> 00:07:06.010\nwhat updates they've got,\nand things like that.\n\n148\n00:07:06.010 --> 00:07:10.080\nI might want those all compiled on that\none server back at the corporate office.\n\n149\n00:07:10.080 --> 00:07:12.140\nSo maybe I specify\na different server there.\n\n150\n00:07:12.140 --> 00:07:19.890\nIn this case, I only have one, so\nsvr01.lab.net is what we'll use.\n\n151\n00:07:19.890 --> 00:07:20.960\nAnd I'll go ahead and click Okay.\n\n152\n00:07:20.960 --> 00:07:25.330\nAnd make sure I don't have any typos and\nwe're good-to-go.\n\n153\n00:07:25.330 --> 00:07:28.530\nSo those are really the two biggies\nthat we need to set to get started.\n\n154\n00:07:28.530 --> 00:07:33.600\nAs you can see, there's several\nothers that we could set up.\n\n155\n00:07:33.600 --> 00:07:36.460\nAs far as they control\nsome of the reboots and\n\n156\n00:07:36.460 --> 00:07:38.610\nthings like that that we're\ntalking about earlier.\n\n157\n00:07:38.610 --> 00:07:41.680\nThose are the two big ones that\nthey might call out on the exam.\n\n158\n00:07:41.680 --> 00:07:46.110\nThe other one that we're gonna talk about\nin just a minute, we'll come back and\n\n159\n00:07:46.110 --> 00:07:46.910\nlook at that one.\n\n160\n00:07:46.910 --> 00:07:51.690\nAnd that is, if I can find it here,\nenable client-side targeting.\n\n161\n00:07:51.690 --> 00:07:55.180\nBut we need to talk about something else\nbefore that one is gonna make sense.\n\n162\n00:07:55.180 --> 00:07:58.429\nSo I'm just gonna leave that right there,\nand\n\n163\n00:07:58.429 --> 00:08:03.107\nwe'll switch back over to,\nif I can find him here Our WSUS server.\n\n164\n00:08:03.107 --> 00:08:06.371\nSo now all of our clients know\nwell when that policy applies,\n\n165\n00:08:06.371 --> 00:08:10.787\nthey'll know where to get their updates\nfrom and where to report their statistics\n\n166\n00:08:10.787 --> 00:08:14.371\nback to as well as their update\nsettings are gonna be configured and\n\n167\n00:08:14.371 --> 00:08:18.027\nthey're not gonna be able to change\nthose and that's what we want.\n\n168\n00:08:18.027 --> 00:08:22.845\nAll right the next thing we want to\ntalk about here is working with these\n\n169\n00:08:22.845 --> 00:08:24.650\nwhat we call WSUS groups.\n\n170\n00:08:24.650 --> 00:08:29.980\nAll right now if we look over here on the\nside, I've got my computers and I got this\n\n171\n00:08:29.980 --> 00:08:34.780\nthing called all computers, and underneath\nthat I've got unassigned computers.\n\n172\n00:08:34.780 --> 00:08:38.485\nWithin WSUS I can create groups.\n\n173\n00:08:38.485 --> 00:08:41.115\nNow these groups have nothing\nto do with Active Directory.\n\n174\n00:08:41.115 --> 00:08:44.045\nThey're not security groups,\nI can't use them to assign permissions.\n\n175\n00:08:44.045 --> 00:08:47.245\nI can't use existing groups in\nactive directory to do this.\n\n176\n00:08:47.245 --> 00:08:51.185\nThese groups are created here within WSUS,\nand\n\n177\n00:08:51.185 --> 00:08:53.925\nyou create groups to\norganize your machines.\n\n178\n00:08:53.925 --> 00:08:56.885\nRemember when I said I might have\ncertain computers that I use to test\n\n179\n00:08:56.885 --> 00:09:00.270\nthe updates on, before I approve them for\nthe rest of the network?\n\n180\n00:09:00.270 --> 00:09:04.710\nWell I can simply come in here and\nI can create a new group.\n\n181\n00:09:04.710 --> 00:09:06.101\nAnd I'll call it my Test Group.\n\n182\n00:09:11.001 --> 00:09:15.043\nAll right and I can add a new group and\nyou'll see it go goes underneath all\n\n183\n00:09:15.043 --> 00:09:18.965\ncomputers and I can create several\ndifferent groups as many as I need.\n\n184\n00:09:18.965 --> 00:09:22.605\nI create one for sales, one for\nmarketing, one for human resources, or\n\n185\n00:09:22.605 --> 00:09:26.895\nI can create one for XP machines, one for\nVista machines or Windows 8 machines,\n\n186\n00:09:26.895 --> 00:09:28.140\nI can't believe I said Vista.\n\n187\n00:09:28.140 --> 00:09:31.275\n>> [LAUGH]\n>> I can create one for my servers and\n\n188\n00:09:31.275 --> 00:09:31.785\nthings like that.\n\n189\n00:09:31.785 --> 00:09:34.795\nLike Daniel was saying a no reboot group,\n\n190\n00:09:34.795 --> 00:09:38.500\nthings like that I can create those\nin here they are hierarchical.\n\n191\n00:09:38.500 --> 00:09:41.680\nWe use these when we go\nto approve the updates.\n\n192\n00:09:41.680 --> 00:09:43.467\nIn fact,\nlet's take a peek just to show you here.\n\n193\n00:09:43.467 --> 00:09:48.876\nIf I go and take a look at an update.\n\n194\n00:09:48.876 --> 00:09:50.890\nThis is actually something else\nI wanna talk to you about, too.\n\n195\n00:09:50.890 --> 00:09:53.020\nMight as well talk about\nit while we're here.\n\n196\n00:09:53.020 --> 00:09:55.810\nWhen you look at these screens,\nyou see how I've expanded out updates, and\n\n197\n00:09:55.810 --> 00:09:57.530\nI've clicked on All Updates.\n\n198\n00:09:57.530 --> 00:09:59.370\nAnd I see nothing listed here.\n\n199\n00:09:59.370 --> 00:10:00.220\nYou think, well what the heck.\n\n200\n00:10:00.220 --> 00:10:01.100\nIs this thing broken?\n\n201\n00:10:01.100 --> 00:10:01.830\nWhat's going on?\n\n202\n00:10:01.830 --> 00:10:03.082\nI know it's synchronized.\n\n203\n00:10:03.082 --> 00:10:08.493\nIf you look closely at the top,\nzero of 1814 shown, 1814 total.\n\n204\n00:10:08.493 --> 00:10:11.751\nSo there are 1814 updates there,\nI'm just not seeing them and\n\n205\n00:10:11.751 --> 00:10:14.910\nthat's because of this\nfiltering that's going on.\n\n206\n00:10:14.910 --> 00:10:18.770\nI'm only showing unapproved\nupdates that are still failed or\n\n207\n00:10:18.770 --> 00:10:20.810\nneeded by machines on my network.\n\n208\n00:10:20.810 --> 00:10:24.460\nWell since no machines have reported in,\nit doesn't think anybody\n\n209\n00:10:24.460 --> 00:10:28.980\nhas failed to get these updates or needs\nthese updates so it's not showing any.\n\n210\n00:10:28.980 --> 00:10:30.930\nSo sometimes you have\nto watch this filter.\n\n211\n00:10:30.930 --> 00:10:33.340\nYou can come up here and\nchange these to Any.\n\n212\n00:10:33.340 --> 00:10:36.150\nI could change the other\none to Any as well.\n\n213\n00:10:36.150 --> 00:10:40.780\nAny Except Declined, click refresh and\nthen let it whir and\n\n214\n00:10:40.780 --> 00:10:44.120\ngrind for a second and\nthere's all those updates.\n\n215\n00:10:44.120 --> 00:10:45.810\nNow when you go to approve an update,\n\n216\n00:10:45.810 --> 00:10:49.590\nlike let's say I want to,\nthis update here I wanna test it and\n\n217\n00:10:49.590 --> 00:10:52.210\nI wanna make sure it's good before I\npush it out the rest of the network.\n\n218\n00:10:52.210 --> 00:10:54.170\nSo I wanna approve it for my test group.\n\n219\n00:10:54.170 --> 00:10:57.720\nI can simply right click on that and\nchoose Approve.\n\n220\n00:10:57.720 --> 00:11:00.440\nAnd then I've got my\nhierarchy that I've set up.\n\n221\n00:11:00.440 --> 00:11:05.380\nAnd I can choose to approve that for\ninstall for just my test group and\n\n222\n00:11:05.380 --> 00:11:06.530\nI can click OK.\n\n223\n00:11:06.530 --> 00:11:10.600\nAnd now the next time one of those\ncomputers in that test group\n\n224\n00:11:10.600 --> 00:11:14.150\nchecks in with WSUS, it's gonna say\nhey I have a new update for you.\n\n225\n00:11:14.150 --> 00:11:18.120\nYou need to download and install this one\nat your maintenance window which would\n\n226\n00:11:18.120 --> 00:11:20.040\nbe 3:00 in the morning by default.\n\n227\n00:11:20.040 --> 00:11:24.700\nRight cool thing about this that they've\nfixed from some of the previous versions,\n\n228\n00:11:24.700 --> 00:11:27.660\nyou can do multiple\nupdates at the same time.\n\n229\n00:11:27.660 --> 00:11:31.090\nI remember back, and I think it was 2003,\nwhen it first came out,\n\n230\n00:11:31.090 --> 00:11:34.245\nyou had to approve each\nupdate one at a time.\n\n231\n00:11:34.245 --> 00:11:37.885\nWhich might not be so bad if you\nstay on top of this every day, but\n\n232\n00:11:37.885 --> 00:11:41.305\nwhen you first set one up, and\nyou've got 1,800 updates, it's not easy.\n\n233\n00:11:41.305 --> 00:11:44.915\nOr like when Daniel was talking about\n200 to 400 updates coming out on patch\n\n234\n00:11:44.915 --> 00:11:47.685\nTuesday, it's a lot of updates to go\nthrough and approve one at a time.\n\n235\n00:11:47.685 --> 00:11:51.715\n>> Yeah, it's real nice to just be\nable to find the date of release, and\n\n236\n00:11:51.715 --> 00:11:53.805\ngo I can just do a little\nsort by option there.\n\n237\n00:11:53.805 --> 00:11:57.870\nYou can add some of the ways it'll\nactually let you see that data.\n\n238\n00:11:57.870 --> 00:12:00.580\nAnd just go oh,\nokay here's the first one released\n\n239\n00:12:00.580 --> 00:12:03.975\nscroll up to the very top which is\ngonna show me the last one released.\n\n240\n00:12:03.975 --> 00:12:05.840\nShift-click, highlight everything,\n\n241\n00:12:05.840 --> 00:12:09.290\nright click Approve for the groups\nthat I need them to approve for.\n\n242\n00:12:09.290 --> 00:12:12.335\nMake your job a whole lot easier,\ngoing through that junk one at a time.\n\n243\n00:12:12.335 --> 00:12:13.830\n[NOISE]\n>> Yeah, it was a nightmare.\n\n244\n00:12:13.830 --> 00:12:15.075\n>> You'd have to up my salary.\n\n245\n00:12:15.075 --> 00:12:16.570\n>> [LAUGH]\n>> It was a nightmare.\n\n246\n00:12:16.570 --> 00:12:17.510\nI had it down pat.\n\n247\n00:12:17.510 --> 00:12:21.110\nI could do tab, tab,\nspace bar to put the check mark in there.\n\n248\n00:12:21.110 --> 00:12:23.820\nSo it's just tab, tab, space, tab,\ntab, space, tab, tab, space, and\n\n249\n00:12:23.820 --> 00:12:26.140\nthen inevitably you'd get,\nanyway, long story.\n\n250\n00:12:27.280 --> 00:12:30.330\nSo that's how you go through\nthe approval process.\n\n251\n00:12:30.330 --> 00:12:34.200\nAnd you might think, well, why go back and\napprove all those old updates?\n\n252\n00:12:34.200 --> 00:12:35.410\nWhy bother with those?\n\n253\n00:12:35.410 --> 00:12:37.980\nWell, when you first set one up,\nyou kind of have to.\n\n254\n00:12:37.980 --> 00:12:41.500\nWhen you re-image a machine that\nimage might been created a month ago,\n\n255\n00:12:41.500 --> 00:12:43.300\nhopefully if you're\nstaying on top of things.\n\n256\n00:12:43.300 --> 00:12:47.400\nBut in most environments we find those\nimages were created six months ago or\n\n257\n00:12:47.400 --> 00:12:48.250\nlonger.\n\n258\n00:12:48.250 --> 00:12:51.330\nSo if you have to roll the machine,\nyou have to re-image the machine.\n\n259\n00:12:51.330 --> 00:12:52.700\nAll of a sudden it needs to go back and\n\n260\n00:12:52.700 --> 00:12:56.140\nget all of the updates from the last six\nmonths, so when you first set one of these\n\n261\n00:12:56.140 --> 00:12:59.300\nup you've got to approve all of those\nupdates, including ones that have\n\n262\n00:12:59.300 --> 00:13:02.160\nalready come out and are probably\nalready applied to your systems.\n\n263\n00:13:02.160 --> 00:13:05.840\nYou've still got to go through and\napprove those guys for those scenarios.\n\n264\n00:13:06.840 --> 00:13:10.490\nNow what's cool about the whole\nhierarchy thing is that,\n\n265\n00:13:10.490 --> 00:13:13.390\nyou saw I could approve that for\nthe test group.\n\n266\n00:13:13.390 --> 00:13:15.060\nBut I could have approved it.\n\n267\n00:13:15.060 --> 00:13:16.930\nAnd let's flip back over here.\n\n268\n00:13:16.930 --> 00:13:18.140\nI'll pick another one.\n\n269\n00:13:18.140 --> 00:13:21.790\nI could have approved this for\nthe All Computers.\n\n270\n00:13:21.790 --> 00:13:25.790\nRight and that would include any\nof the groups nested within that.\n\n271\n00:13:25.790 --> 00:13:28.310\nSo you don't have to do it\none group at a time, you can.\n\n272\n00:13:28.310 --> 00:13:32.048\nIt depends on how you feel like rolling\nthose updates out to the system.\n\n273\n00:13:32.048 --> 00:13:33.370\nBut those sub-groups or\n\n274\n00:13:33.370 --> 00:13:37.320\nthose nested groups will inherit\nfrom the parents although you can.\n\n275\n00:13:38.320 --> 00:13:41.760\nLet's make a couple of extra groups here\njust so we have something to play with.\n\n276\n00:13:44.030 --> 00:13:46.110\nI'll go ahead and make another group.\n\n277\n00:13:46.110 --> 00:13:48.980\nI'll call this one Sales.\n\n278\n00:13:48.980 --> 00:13:56.560\nAnd I'll make another group and\nI'll call this one marketing, okay.\n\n279\n00:13:56.560 --> 00:14:01.080\nSo when I go back in and\ndo that approval, let's check this guy.\n\n280\n00:14:01.080 --> 00:14:02.750\nThis one I approved for all computers.\n\n281\n00:14:02.750 --> 00:14:05.590\nSo notice how all of the sub\ngroups are already approved.\n\n282\n00:14:05.590 --> 00:14:07.880\nI could say except for Sales.\n\n283\n00:14:09.640 --> 00:14:13.250\nSo just because I'm taking advantage\nof that inheritance, I don't have to.\n\n284\n00:14:13.250 --> 00:14:16.230\nSo I'm not stuck with it,\nI'm not forced to.\n\n285\n00:14:16.230 --> 00:14:17.450\nThe other option I wanna talk about, and\n\n286\n00:14:17.450 --> 00:14:20.100\nthere you see the option Approve for\nRemoval.\n\n287\n00:14:20.100 --> 00:14:23.600\nIf an update does cause a problem and\nit's already out on some of your machines,\n\n288\n00:14:23.600 --> 00:14:27.720\nyou can't approve it for removal just keep\nin mind not all updates support removal.\n\n289\n00:14:27.720 --> 00:14:30.170\nOnce those updates some of those\nupdates once their installed,\n\n290\n00:14:30.170 --> 00:14:31.620\nyou can't uninstall them.\n\n291\n00:14:31.620 --> 00:14:36.170\nSo you could choose approve for removal\nbut if the update itself doesn't support\n\n292\n00:14:36.170 --> 00:14:38.300\nremoval, it's not actually\ngonna do anything.\n\n293\n00:14:38.300 --> 00:14:41.530\nBut if the update does support removal,\nthe next time they check in it's gonna\n\n294\n00:14:41.530 --> 00:14:45.030\nsay, hey you're supposed to remove this\nupdate that you've installed last night.\n\n295\n00:14:45.030 --> 00:14:47.950\nAnd it will go ahead and\nschedule that for removal.\n\n296\n00:14:49.450 --> 00:14:52.550\nAll right, so that's a little\nbit about the groups again, and\n\n297\n00:14:52.550 --> 00:14:55.050\nwhat's going to happen is\nas your computers check in,\n\n298\n00:14:55.050 --> 00:14:58.420\nthey are going to show up\nunderneath unassigned computers.\n\n299\n00:14:58.420 --> 00:15:00.610\nThey're not gonna be a part of any group.\n\n300\n00:15:00.610 --> 00:15:02.290\nAnd what you have to\ndo is come in here and\n\n301\n00:15:02.290 --> 00:15:05.030\ngrab that computer and\nadd it to a particular group.\n\n302\n00:15:05.030 --> 00:15:07.760\nAnd you just right click on it and\nyou choose Add to Group and\n\n303\n00:15:07.760 --> 00:15:09.060\nyou'll get a list of groups.\n\n304\n00:15:09.060 --> 00:15:11.680\nAnd what's cool now too, another\nimprovement they've made to this interface\n\n305\n00:15:11.680 --> 00:15:14.090\nis a computer can be part\nof more than one group.\n\n306\n00:15:14.090 --> 00:15:17.200\nIt used to be you could only\nput that computer in one group.\n\n307\n00:15:17.200 --> 00:15:20.120\nBut maybe you wanna approve some\nupdates based on department,\n\n308\n00:15:20.120 --> 00:15:23.340\nothers based on laptop versus desktop or\nsomething like that.\n\n309\n00:15:23.340 --> 00:15:26.920\nSo you could have computers that\nare in more than one group now.\n\n310\n00:15:26.920 --> 00:15:29.870\nNow that's a very manual\nprocess doing it that way.\n\n311\n00:15:29.870 --> 00:15:32.100\nThey now give us that option,\n\n312\n00:15:32.100 --> 00:15:33.930\nthat one group policy that we\nlooked at just a minute ago.\n\n313\n00:15:33.930 --> 00:15:36.970\nAnd we'll flip back over and\ntake a look at that.\n\n314\n00:15:36.970 --> 00:15:38.900\nEnable client side targeting.\n\n315\n00:15:38.900 --> 00:15:42.670\nI can actually use group\npolicy now to move a computer\n\n316\n00:15:42.670 --> 00:15:44.552\ninto one of those WSUS groups.\n\n317\n00:15:44.552 --> 00:15:47.490\nRight and let's take a look\nat how that one's gonna work.\n\n318\n00:15:47.490 --> 00:15:52.015\nI'm not gonna do that at the domain level\nbecause not all the computers go into\n\n319\n00:15:52.015 --> 00:15:53.904\nthe same group and within WSUS.\n\n320\n00:15:53.904 --> 00:15:58.861\nSo, I'm going to come over here\nto sales and create a GPO and\n\n321\n00:15:58.861 --> 00:16:02.341\nI'll call this one my sales WSUS policy.\n\n322\n00:16:02.341 --> 00:16:07.343\nAnd then I'll go back and\nmodify that policy and same thing,\n\n323\n00:16:07.343 --> 00:16:12.642\npolicies > administrative\ntemplates > Windows components,\n\n324\n00:16:12.642 --> 00:16:18.232\nand then way down at the bottom of\nthat is gonna be my Windows update,\n\n325\n00:16:18.232 --> 00:16:25.680\nand then I'll go to the enable client\nside targeting and I'll choose enabled.\n\n326\n00:16:25.680 --> 00:16:29.210\nAnd the name of the group is gonna be,\nsales.\n\n327\n00:16:29.210 --> 00:16:30.500\nAnd I'll click OK.\n\n328\n00:16:30.500 --> 00:16:34.730\nSo now, any computer that gets moved\ninto that OU, the next time group policy\n\n329\n00:16:34.730 --> 00:16:39.730\napplies, it'll go to WSUS, and put them\nin that sales group I created there.\n\n330\n00:16:39.730 --> 00:16:43.220\nSo, it doesn't show up an unassigned,\nand I have to manually remove it.\n\n331\n00:16:43.220 --> 00:16:45.530\nAnd that's good, because a lot of\ntimes we're approving policies,\n\n332\n00:16:45.530 --> 00:16:49.360\nnot to the all computers but\non a per-group basis.\n\n333\n00:16:49.360 --> 00:16:52.070\nAnd if they sit there unassigned and\nwe never move them,\n\n334\n00:16:52.070 --> 00:16:53.650\nthey might not get the updates they need.\n\n335\n00:16:54.670 --> 00:16:56.720\nAll right so now we can go back over here.\n\n336\n00:16:56.720 --> 00:16:59.000\nThat group does need to exist, right.\n\n337\n00:16:59.000 --> 00:17:00.800\nIt doesn't check it when you create a GPO.\n\n338\n00:17:00.800 --> 00:17:04.340\nBut if I have to make a typo in the name\nor specify the name of a group that didn't\n\n339\n00:17:04.340 --> 00:17:09.240\nexist in here, the policy will still apply\nbut it's not gonna create a group for you.\n\n340\n00:17:09.240 --> 00:17:11.630\nIt just wouldn't be able to put\nthe computer in the appropriate group.\n\n341\n00:17:11.630 --> 00:17:17.910\nSo, do make sure you create those groups\nor make sure you don't misspell it there.\n\n342\n00:17:19.090 --> 00:17:20.570\nAll right, so Daniel,\nlet's see where we're at.\n\n343\n00:17:20.570 --> 00:17:21.660\nWe configured our groups.\n\n344\n00:17:21.660 --> 00:17:23.280\nAgain, they're not\nActive Directory groups.\n\n345\n00:17:23.280 --> 00:17:26.010\nWanna make sure we pointed that out.\n\n346\n00:17:26.010 --> 00:17:28.650\nWe've got our client-side\ntargeting enabled.\n\n347\n00:17:28.650 --> 00:17:31.210\nI guess the next thing we wanna\ndo is actually go through and\n\n348\n00:17:31.210 --> 00:17:33.440\nsee if we can look at\nthis approval process.\n\n349\n00:17:33.440 --> 00:17:38.910\nSo what I'm gonna do is first,\nsee if I can get a computer to report in.\n\n350\n00:17:38.910 --> 00:17:41.780\nAll right, so we don't wanna wait for\ngroup policy to be applied, so\n\n351\n00:17:41.780 --> 00:17:44.780\nwe're gonna go ahead and\nspeed that up just a wee bit.\n\n352\n00:17:44.780 --> 00:17:47.530\nI'll open up a Command Prompt,\nand I'll do the handy gpupdate,\n\n353\n00:17:48.710 --> 00:17:53.770\nif I can type it, /force so\nwe can reapply some group policy.\n\n354\n00:17:55.090 --> 00:17:59.120\nRight, cuz remember I created that policy\nthat's telling this client where to go for\n\n355\n00:17:59.120 --> 00:18:01.990\nhis updates, I don't want it\ngoing out to Microsoft anymore.\n\n356\n00:18:01.990 --> 00:18:04.990\nAlso, when it's supposed to check for\nthe updates.\n\n357\n00:18:04.990 --> 00:18:07.920\nSo now that my policy's applied,\nI'm gonna do a GP result,\n\n358\n00:18:08.950 --> 00:18:13.620\nswitch R just to make sure those policies\nare kicking in like they're supposed to.\n\n359\n00:18:13.620 --> 00:18:16.750\nSo if we take a look at\nmy computer half here,\n\n360\n00:18:16.750 --> 00:18:21.160\nI can see my WSUS policy which\nspecified the internet location\n\n361\n00:18:21.160 --> 00:18:25.920\nas well as my sales WSUS which specified\nthe group it was supposed to belong to.\n\n362\n00:18:25.920 --> 00:18:31.390\nAll right but, and now let's take\na look at the actual update settings.\n\n363\n00:18:31.390 --> 00:18:32.570\nSo we'll go over here,\n\n364\n00:18:32.570 --> 00:18:36.309\ntype in update and we'll take a look\nat my Windows update settings.\n\n365\n00:18:39.260 --> 00:18:42.380\nAnd choose how updates get installed, and\n\n366\n00:18:42.380 --> 00:18:45.150\nthere I can see all install\nupdates automatically.\n\n367\n00:18:45.150 --> 00:18:48.270\nThat was from that GPO,\nalso notice it's grayed out.\n\n368\n00:18:48.270 --> 00:18:50.390\nI cannot change it.\n\n369\n00:18:50.390 --> 00:18:54.020\nThat was from that group\npolicy that we created.\n\n370\n00:18:54.020 --> 00:18:55.960\n>> Also has those nice\nbig red letters says,\n\n371\n00:18:55.960 --> 00:18:58.780\nzero being managed by your administrator.\n\n372\n00:18:58.780 --> 00:19:01.336\nIt's a good sign that you have some\nsort of group policy in place.\n\n373\n00:19:01.336 --> 00:19:03.630\n[LAUGH]\n>> Absolutely, absolutely.\n\n374\n00:19:03.630 --> 00:19:06.700\nAll right, now the next thing\nwe're gonna do is remember\n\n375\n00:19:06.700 --> 00:19:09.400\nI left it on the default\nschedule which is 3 AM.\n\n376\n00:19:09.400 --> 00:19:11.950\nAnd we don't really feel\nlike sitting around here\n\n377\n00:19:11.950 --> 00:19:14.480\nuntil 3:00 in the morning waiting for\nthis guy to check in.\n\n378\n00:19:14.480 --> 00:19:18.512\nSo there is a command you can\nuse to force this to run,\n\n379\n00:19:18.512 --> 00:19:22.130\nit's wuauclt.exe.\n\n380\n00:19:22.130 --> 00:19:25.290\nAnd, there's a couple switches\nyou want to use with that.\n\n381\n00:19:25.290 --> 00:19:32.270\nYou can do detect now and\nyou can also do report now.\n\n382\n00:19:32.270 --> 00:19:35.260\nI find it easier to remember,\nif I know what it stands for.\n\n383\n00:19:35.260 --> 00:19:38.354\nWindows update automatic update client.\n\n384\n00:19:38.354 --> 00:19:43.030\nWindows update, W-U,\nautomatic update, A-U, client.\n\n385\n00:19:43.030 --> 00:19:45.550\nThe tech now says,\nhey go check for updates, right?\n\n386\n00:19:45.550 --> 00:19:48.450\nWhat you would normally do at 3 o'clock,\ngo do it right now.\n\n387\n00:19:48.450 --> 00:19:52.600\nReport now says, hey report into\nyour Internet statistics server like\n\n388\n00:19:52.600 --> 00:19:54.920\nwhich updates you've already got,\nwhich updates you need,\n\n389\n00:19:54.920 --> 00:19:57.750\nwhat your operating system is,\nall that good stuff.\n\n390\n00:19:57.750 --> 00:20:01.670\nSo we're gonna go ahead and hit Enter and\nlet that process run for just a second.\n\n391\n00:20:01.670 --> 00:20:04.300\nNow I will tell you in the real world.\n\n392\n00:20:04.300 --> 00:20:05.910\nThis little client is frustrating,\n\n393\n00:20:05.910 --> 00:20:08.290\nI don't know if you've had\nthe same experience I have.\n\n394\n00:20:08.290 --> 00:20:11.660\nYou type it, sometimes they check in\nright then, boom you're good to go.\n\n395\n00:20:11.660 --> 00:20:14.530\nSometimes they wait a few minutes and\nthen they check in.\n\n396\n00:20:14.530 --> 00:20:16.830\nSometimes it's an hour later\nthey still haven't checked in.\n\n397\n00:20:16.830 --> 00:20:19.520\nI come run this command again and\nthen they check in.\n\n398\n00:20:19.520 --> 00:20:20.950\nIt's frustrating.\n\n399\n00:20:20.950 --> 00:20:25.120\n>> Yeah, the Windows update client can\ngive ya all sorts of weird headaches.\n\n400\n00:20:25.120 --> 00:20:29.000\nI've had to play with different versions\nof it or uninstall it, reinstall it.\n\n401\n00:20:29.000 --> 00:20:31.120\nAnd then it's working, or\nit seems to be working, and\n\n402\n00:20:31.120 --> 00:20:33.930\nyou realize that the bits\nservice isn't running.\n\n403\n00:20:33.930 --> 00:20:36.850\nYou gotta go into the server system,\nlike, why is that running?\n\n404\n00:20:36.850 --> 00:20:39.890\nSo, it can be, like Mike said,\na bit frustrating.\n\n405\n00:20:39.890 --> 00:20:42.090\nBut if you know of some of the ends and\n\n406\n00:20:42.090 --> 00:20:44.910\nouts on how the client connects and\nhow it works,\n\n407\n00:20:44.910 --> 00:20:49.760\nyou should be able to get through most of\nyour problems without too much difficulty.\n\n408\n00:20:49.760 --> 00:20:52.160\nMaybe a little bit of web\nsearching to get you through it.\n\n409\n00:20:52.160 --> 00:20:55.510\n>> Absolutely again, I typically\njust run the command one more time.\n\n410\n00:20:55.510 --> 00:20:58.105\nI've gone through another\nroom of twenty machines and\n\n411\n00:20:58.105 --> 00:21:02.060\n18 have reported in, run it again,\none more reports in,\n\n412\n00:21:02.060 --> 00:21:06.530\nrun it again, run it again, run it\nagain and finally the last reports in.\n\n413\n00:21:06.530 --> 00:21:10.270\nIt's just a patience thing\nwhich I definitely don't have.\n\n414\n00:21:10.270 --> 00:21:15.769\nSo now let's check over here if we update\nthis screen, we'll do a little refresh.\n\n415\n00:21:17.480 --> 00:21:18.950\nAnd see if he's popped in there yet.\n\n416\n00:21:20.780 --> 00:21:24.920\nAnd it does not look like it, see zero\ncomputers of zero shown, one total.\n\n417\n00:21:24.920 --> 00:21:28.130\nSo really the only thing you can do at\nthis point is try to run that command\n\n418\n00:21:28.130 --> 00:21:31.870\nagain and wait to see if that guy pops up.\n\n419\n00:21:31.870 --> 00:21:33.800\nAll right, so\nhe hasn't showed up yet and, Daniel,\n\n420\n00:21:33.800 --> 00:21:35.260\nI think I know what the problem is.\n\n421\n00:21:35.260 --> 00:21:37.670\nLet's go through a couple\ntrouble shooting steps here,\n\n422\n00:21:37.670 --> 00:21:40.770\nif your computers never show up there's\na couple things you need to check.\n\n423\n00:21:40.770 --> 00:21:43.370\nYou need to make sure the group\npolicies are being applied\n\n424\n00:21:43.370 --> 00:21:47.200\nwhich I did on the client\nwith my GP result.\n\n425\n00:21:47.200 --> 00:21:49.130\nAnd I saw the policies were there so\n\n426\n00:21:49.130 --> 00:21:53.270\nthat's not the problem which indicates\nthere's a problem with my policy itself.\n\n427\n00:21:53.270 --> 00:21:55.910\nSo let's go check that out and\nI've already opened this up.\n\n428\n00:21:55.910 --> 00:21:59.390\nOne of the things you'd check is make sure\nit was scoped to the right location right?\n\n429\n00:21:59.390 --> 00:22:01.430\nIs it linked to the appropriate place?\n\n430\n00:22:01.430 --> 00:22:03.440\nAnd it was, I linked it to the domain.\n\n431\n00:22:03.440 --> 00:22:06.550\nBut when I go and take a look at\nmy settings that I configured,\n\n432\n00:22:06.550 --> 00:22:11.830\nmy specified intranet Microsoft update\nservice location is actually incomplete.\n\n433\n00:22:11.830 --> 00:22:14.340\nI forgot to put the port number on there.\n\n434\n00:22:14.340 --> 00:22:15.890\nThat's a very important thing.\n\n435\n00:22:15.890 --> 00:22:20.180\nWhen you installed WSUS, it opens up\na couple ports by default 8530 for\n\n436\n00:22:20.180 --> 00:22:25.490\nthe updates, 8531, if I remember right,\nfor the statistics.\n\n437\n00:22:25.490 --> 00:22:29.530\nAnd I need fix it, or actually I'm sorry\nit uses both of those for 8530 for both.\n\n438\n00:22:29.530 --> 00:22:31.789\nBy default I can change\nthat in the settings.\n\n439\n00:22:31.789 --> 00:22:37.362\nWhat I need to do in my policy however\nis make sure I specify port 8530.\n\n440\n00:22:37.362 --> 00:22:41.309\nSo that was my bad, all I gotta do\nis come in here and fix that, 8530.\n\n441\n00:22:41.309 --> 00:22:43.670\nAnd I'll click OK.\n\n442\n00:22:43.670 --> 00:22:47.440\nSo don't forget that on the exam or if\nyou're setting this up in the real world.\n\n443\n00:22:47.440 --> 00:22:50.280\nYou gotta set the port number as well.\n\n444\n00:22:50.280 --> 00:22:51.520\nSo we'll set that.\n\n445\n00:22:51.520 --> 00:22:56.020\nAnd then we'll flip over the client and\nwe'll update policy again.\n\n446\n00:22:56.020 --> 00:22:57.900\nSince I've made a change to the policy.\n\n447\n00:22:59.510 --> 00:23:00.310\nSo let that run.\n\n448\n00:23:02.510 --> 00:23:04.050\nShouldn't take it too long to update.\n\n449\n00:23:04.050 --> 00:23:05.230\nThere is my computer policy.\n\n450\n00:23:06.700 --> 00:23:09.240\nFollowed by my user policy and\n\n451\n00:23:09.240 --> 00:23:11.670\nnow I'm gonna run my command\nto make it check in again.\n\n452\n00:23:11.670 --> 00:23:17.300\nWuauclt, switch detectnow\nswitch reportnow and hit Enter.\n\n453\n00:23:17.300 --> 00:23:21.430\nLet it go and talk to that subserver and\nthen we'll see if it shows up.\n\n454\n00:23:21.430 --> 00:23:25.920\nAnd I can already see I got\nzero of one shown one total,\n\n455\n00:23:25.920 --> 00:23:27.240\nwhich indicates it it working.\n\n456\n00:23:27.240 --> 00:23:30.380\nSo if I click refresh there's my machine.\n\n457\n00:23:30.380 --> 00:23:32.570\nAnd so\nthat's what happens when they first get.\n\n458\n00:23:32.570 --> 00:23:36.530\nAlthough he should be a part of sales,\nso let's see.\n\n459\n00:23:36.530 --> 00:23:38.150\nAnd he is, good deal.\n\n460\n00:23:38.150 --> 00:23:41.940\nHe is a part of sales, maybe.\n\n461\n00:23:41.940 --> 00:23:45.660\nWe'll wait for that refresh,\nlooks like it's locked up.\n\n462\n00:23:45.660 --> 00:23:48.560\nHe's showing up under as unassigned, and\n\n463\n00:23:48.560 --> 00:23:52.274\nthat's probably because he\nhasn't reported in yet.\n\n464\n00:23:52.274 --> 00:23:53.411\nWhich is kinda strange right?\n\n465\n00:23:53.411 --> 00:23:55.960\nYou're thinking, well Mike, I see it\nsitting right there in the console.\n\n466\n00:23:55.960 --> 00:23:57.553\nWhat do you mean he\nhasn't reported in yet?\n\n467\n00:23:57.553 --> 00:24:00.525\nHe has communicated with the WSUS server.\n\n468\n00:24:00.525 --> 00:24:04.310\nAnd the WSUS server has a little\nbit of information about him.\n\n469\n00:24:04.310 --> 00:24:06.160\nBut he hasn't finished reporting in,\n\n470\n00:24:06.160 --> 00:24:10.121\nso it's probably gonna take it a minute to\nactually switch over to the sales group.\n\n471\n00:24:10.121 --> 00:24:16.280\nI can see 0 of 0 shown, so he hasn't\nbeen assigned to that group just yet.\n\n472\n00:24:16.280 --> 00:24:18.650\nEventually, he'll pop up in there.\n\n473\n00:24:18.650 --> 00:24:22.190\nBut for our lab, I think the point is,\nmake sure we got those,\n\n474\n00:24:22.190 --> 00:24:26.105\nmake sure we've got that that port number\nset on that address and that policy.\n\n475\n00:24:26.105 --> 00:24:30.155\nAnd now that it's shown up I can\nstart applying policies to it, right?\n\n476\n00:24:30.155 --> 00:24:34.395\nWe've already seen the approval process,\nI can go and I can approve updates.\n\n477\n00:24:34.395 --> 00:24:35.985\nIn fact, let's do one.\n\n478\n00:24:35.985 --> 00:24:41.880\nIf I go down to Critical Updates,\nand we'll change this to Any.\n\n479\n00:24:42.880 --> 00:24:44.740\nWe'll go and refresh that.\n\n480\n00:24:44.740 --> 00:24:50.660\nAnd let me find one for Windows 8.1,\nright there in my list.\n\n481\n00:24:50.660 --> 00:24:52.750\nAnd I'll go ahead and approve that.\n\n482\n00:24:52.750 --> 00:24:58.569\nSince he hasn't popped into my sales group\njust yet, I'm going to approve it For All.\n\n483\n00:24:58.569 --> 00:25:00.760\nI'll click OK, and then Close.\n\n484\n00:25:02.170 --> 00:25:02.670\nAnd now,\n\n485\n00:25:02.670 --> 00:25:06.530\nwhen I flip back over to the client,\nI'm gonna have him go detectnow again.\n\n486\n00:25:06.530 --> 00:25:09.310\nAnd give it just a second.\n\n487\n00:25:11.400 --> 00:25:13.985\nI'll go open up my Update settings.\n\n488\n00:25:17.376 --> 00:25:19.698\nI'll have it Check now.\n\n489\n00:25:22.845 --> 00:25:25.248\nAnd I haven't popped up any yet.\n\n490\n00:25:28.458 --> 00:25:32.685\nAnd this is one of the frustrating things\nabout WSUS, is it is time-consuming.\n\n491\n00:25:32.685 --> 00:25:33.275\n>> Time-consuming.\n\n492\n00:25:33.275 --> 00:25:34.840\n[LAUGH]\n>> There's no hurry, yeah.\n\n493\n00:25:34.840 --> 00:25:37.750\nIt doesn't wanna work at our pace,\nit's gonna work at its own pace.\n\n494\n00:25:37.750 --> 00:25:41.250\nSo eventually what'll happen is when\nhe checks in, it'll see that update and\n\n495\n00:25:41.250 --> 00:25:44.320\nit'll say, one update to install,\nand we can go ahead and process it.\n\n496\n00:25:44.320 --> 00:25:47.600\nI honestly, I don't even know if\nthat particular update that I picked\n\n497\n00:25:47.600 --> 00:25:50.000\napplies to that machine,\nright, I don't know.\n\n498\n00:25:50.000 --> 00:25:58.020\nJust, let's see, it says that 01 needs it,\nso it should eventually apply.\n\n499\n00:25:58.020 --> 00:26:01.740\nOh, and one more thing I want to show you,\nthere are great reports in here.\n\n500\n00:26:01.740 --> 00:26:06.580\nYou've got all kinds of reports that\nyou can view as far as the updates go.\n\n501\n00:26:06.580 --> 00:26:08.229\nYou saw what I just clicked on there.\n\n502\n00:26:09.250 --> 00:26:13.510\nDown at the bottom, it kinda gives me\na summary, and I can see that client 01\n\n503\n00:26:13.510 --> 00:26:18.215\nhas updates that it needs,\n66, updates installed 1,705.\n\n504\n00:26:18.215 --> 00:26:21.790\nGet some information about it,\nthen I scroll down here,\n\n505\n00:26:21.790 --> 00:26:24.170\nI can see a little more\ninformation about that machine.\n\n506\n00:26:24.170 --> 00:26:26.190\nBut notice these are links,\nthey're clickable.\n\n507\n00:26:26.190 --> 00:26:28.790\nBut if I click on it, I get this error.\n\n508\n00:26:28.790 --> 00:26:33.220\nAnd I don't understand what Microsoft has\ndone here, but in order to view these\n\n509\n00:26:33.220 --> 00:26:38.870\nreports, you have to be running\nReport Viewer 2008 Redistributable.\n\n510\n00:26:38.870 --> 00:26:41.950\nAnd it's a teeny, teeny, tiny thing.\n\n511\n00:26:41.950 --> 00:26:44.410\nIn fact, I've already\ndownloaded it on this machine.\n\n512\n00:26:46.325 --> 00:26:50.830\nHere's the Report Viewer, it's a whole\nwhopping 3 megabytes in size, and\n\n513\n00:26:50.830 --> 00:26:54.190\nyou need to install that in\norder to view these reports.\n\n514\n00:26:54.190 --> 00:26:57.610\nAnd I don't have the .NET\nFramework installed on here, so\n\n515\n00:26:57.610 --> 00:26:59.250\nit looks like I need that as well.\n\n516\n00:26:59.250 --> 00:27:02.400\nBut for some reason, Microsoft chose\nnot to include that with WSUS,\n\n517\n00:27:02.400 --> 00:27:04.320\nthey make you download that separately.\n\n518\n00:27:04.320 --> 00:27:07.670\nSo keep that in mind if you're gonna view\nreports you're gonna have to download\n\n519\n00:27:07.670 --> 00:27:13.060\nthe Report Viewer 2008 Redistributable,\nand once you do, the reports are gorgeous.\n\n520\n00:27:13.060 --> 00:27:17.090\nJust like this little summary down here,\nlittle pie chart, they're all clickable,\n\n521\n00:27:17.090 --> 00:27:19.090\nyou can drill down inside it.\n\n522\n00:27:19.090 --> 00:27:22.820\nI can open this up and see the 66\nupdates that this machine still needs.\n\n523\n00:27:22.820 --> 00:27:26.336\nAnd then I can click on one of those\nupdates and it would show me all the other\n\n524\n00:27:26.336 --> 00:27:29.445\nmachines on the network that still\nneed that same exact update.\n\n525\n00:27:29.445 --> 00:27:33.010\nThey're fantastic, but you have to have\nthat Report Viewer Redistributable,\n\n526\n00:27:33.010 --> 00:27:35.710\n2008 or later, to view those reports.\n\n527\n00:27:35.710 --> 00:27:38.900\nSo, a couple things you gotta keep in\nmind there, that just doesn't come, for\n\n528\n00:27:38.900 --> 00:27:41.540\nsome reason, it doesn't come with WSUS.\n\n529\n00:27:41.540 --> 00:27:42.283\n>> Yeah, God forbid, Mike.\n\n530\n00:27:42.283 --> 00:27:44.060\n[LAUGH]\n>> Right?\n\n531\n00:27:44.060 --> 00:27:47.590\n>> It only makes the whole thing really\nworthwhile is getting these statistics and\n\n532\n00:27:47.590 --> 00:27:49.470\nthese reports that it can generate, but\n\n533\n00:27:49.470 --> 00:27:53.301\nyou gotta have that report generator or,\nyou're going nowhere fast.\n\n534\n00:27:53.301 --> 00:27:54.965\n[LAUGH]\n>> You can't see them without it, so\n\n535\n00:27:54.965 --> 00:27:56.600\nyou just, you have to have it.\n\n536\n00:27:56.600 --> 00:27:58.230\nAll right and\nDaniel that pretty much, I think,\n\n537\n00:27:58.230 --> 00:28:03.110\nruns through the entire process of setting\nup that server up, getting it configured,\n\n538\n00:28:03.110 --> 00:28:05.930\nsyncing with Microsoft, or\nchoosing to synchronize it\n\n539\n00:28:05.930 --> 00:28:08.750\nwith an upstream server if\nyou're setting up a replica.\n\n540\n00:28:08.750 --> 00:28:13.020\nCreating our groups, using the group\npolicy settings to create those groups.\n\n541\n00:28:13.020 --> 00:28:17.280\nAnd then finally, getting that client\nto check in and show up at my console.\n\n542\n00:28:17.280 --> 00:28:17.830\n>> Yeah, 95% of the time,\n\n543\n00:28:17.830 --> 00:28:20.590\nthe stuff we showed you today is\nexactly what you're gonna be doing\n\n544\n00:28:20.590 --> 00:28:23.260\nif you're admining a WSUS server.\n\n545\n00:28:23.260 --> 00:28:25.970\nIt's just approving updates,\nmaking sure things are going out,\n\n546\n00:28:25.970 --> 00:28:28.510\nmaking sure computers are getting\nthe correct group policy,\n\n547\n00:28:28.510 --> 00:28:31.440\nthat they're going into\nthe right WSUS groups.\n\n548\n00:28:31.440 --> 00:28:33.440\nSo all that stuff that\nMike showed you today,\n\n549\n00:28:33.440 --> 00:28:38.080\nthat is basically what a WSUS\nadmin does for his job.\n\n550\n00:28:38.080 --> 00:28:39.730\nSo if you're in that role, and\n\n551\n00:28:39.730 --> 00:28:42.940\nyou've been kind of wondering how\ndoes some of these things work?\n\n552\n00:28:42.940 --> 00:28:45.600\nMaybe you've just taken over\nthis as part of your job,\n\n553\n00:28:45.600 --> 00:28:46.650\nwell hopefully that helps you out.\n\n554\n00:28:46.650 --> 00:28:49.650\nIf you're studying for the exam, well,\nthat's definitely gonna help you out cuz\n\n555\n00:28:49.650 --> 00:28:53.180\nthey're gonna ask you a question or\ntwo on WSUS.\n\n556\n00:28:53.180 --> 00:28:56.240\nThat being said, Mike, have we missed\nanything, we got anything else to add?\n\n557\n00:28:56.240 --> 00:28:58.410\n>> Gosh, I don't think so,\nI think we got it all.\n\n558\n00:28:58.410 --> 00:29:00.290\n>> All right, everyone,\nhopefully you've enjoyed this episode.\n\n559\n00:29:00.290 --> 00:29:02.120\nWe had a great time making it for you.\n\n560\n00:29:02.120 --> 00:29:03.670\nAnd we're gonna go ahead and sign off.\n\n561\n00:29:03.670 --> 00:29:06.250\nFor ITProTV, I've been your host,\nDaniel Lowrie.\n\n562\n00:29:06.250 --> 00:29:06.960\n>> And I'm Mike Rodrick.\n\n563\n00:29:06.960 --> 00:29:07.860\n>> We'll see you next time.\n\n564\n00:29:07.860 --> 00:29:13.870\n[SOUND]\n\n",
          "vimeoId": "138078712"
        },
        {
          "description": "In this episode Mike and Don discuss remotely managing Windows servers. They demonstrate how to aggregate event logs as well as utilize other monitoring tools for troubleshooting and monitoring purposes.",
          "length": "6161",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/004-Monitoring-Servers.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/004-Monitoring-Servers-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/004-Monitoring-Servers-sm.jpg",
          "title": "Monitoring Servers",
          "transcript": "WEBVTT\n\n1\n00:00:00.470 --> 00:00:10.470\n[MUSIC]\n\n2\n00:00:15.299 --> 00:00:22.379\n[SOUND]\n\n3\n00:00:22.379 --> 00:00:32.379\n[MUSIC]\n\n4\n00:00:33.929 --> 00:00:37.550\nAll right, good morning, good afternoon,\nand good evening, and welcome back.\n\n5\n00:00:37.550 --> 00:00:40.290\nTo another episode of IT Pro TV,\nI'm your host Don Pezet.\n\n6\n00:00:40.290 --> 00:00:41.500\nToday, with Mr. Mike Rodrick.\n\n7\n00:00:41.500 --> 00:00:42.090\nHow's it going Mike?\n\n8\n00:00:42.090 --> 00:00:43.560\n>> Fantastic,\nhow are you doing today, Don?\n\n9\n00:00:43.560 --> 00:00:44.510\n>> I'm doing just well.\n\n10\n00:00:44.510 --> 00:00:45.220\n>> Another day in paradise.\n\n11\n00:00:45.220 --> 00:00:48.724\n>> I tell you, it,\nbeing in the state of Florida as we are,\n\n12\n00:00:48.724 --> 00:00:51.990\nwe can typically count on nice weather.\n\n13\n00:00:51.990 --> 00:00:55.740\nWe have been frozen the last few days and\nlike I said, but\n\n14\n00:00:55.740 --> 00:00:58.330\ntoday is an island of warmth, right?\n\n15\n00:00:58.330 --> 00:01:01.900\n>> You just want to go outside\nwith a nice cocktail [LAUGH]\n\n16\n00:01:01.900 --> 00:01:03.290\n>> And not talk about servers, but\n\n17\n00:01:03.290 --> 00:01:05.910\nyou know what we're gonna do,\nwe're gonna talk about servers because we\n\n18\n00:01:05.910 --> 00:01:08.060\nare dedicated\n>> It's what we do.\n\n19\n00:01:08.060 --> 00:01:08.750\n>> Yeah, it is.\n\n20\n00:01:08.750 --> 00:01:09.650\n>> It's what we do.\n\n21\n00:01:09.650 --> 00:01:10.690\nThat's what we like to do, right?\n\n22\n00:01:10.690 --> 00:01:12.673\n>> You know, honestly,\nwe're a bunch of dorks.\n\n23\n00:01:12.673 --> 00:01:13.245\n>> [LAUGH]\n>> So, even when it's\n\n24\n00:01:13.245 --> 00:01:13.745\nnice outside\n>> [LAUGH]\n\n25\n00:01:13.745 --> 00:01:14.900\n>> We're still inside on the computer.\n\n26\n00:01:14.900 --> 00:01:16.050\n>> I know, we can talk all we want about\n\n27\n00:01:16.050 --> 00:01:16.800\ngoing outside\n>> [LAUGH]\n\n28\n00:01:16.800 --> 00:01:18.400\n>> But we're inside on a computer screen,\n\n29\n00:01:18.400 --> 00:01:19.905\nyou know that's what we are,\nthat's our life.\n\n30\n00:01:19.905 --> 00:01:21.750\n[LAUGH]\n>> Everybody can see how pale we are.\n\n31\n00:01:21.750 --> 00:01:26.704\nAll right, so today, we're going\nto pick back up with our 70-411,\n\n32\n00:01:26.704 --> 00:01:29.440\nyour Windows Server 2012 exam prep.\n\n33\n00:01:29.440 --> 00:01:33.670\nAnd we're going to be diving\ninto the maintenance and\n\n34\n00:01:33.670 --> 00:01:35.310\nmonitoring aspect of Window's server.\n\n35\n00:01:35.310 --> 00:01:36.430\n>> Yeah, an important part of it right?\n\n36\n00:01:36.430 --> 00:01:38.680\nWe've got to make sure that\neverything's running properly,\n\n37\n00:01:38.680 --> 00:01:40.860\nthat all the servers\nare performing adequately.\n\n38\n00:01:40.860 --> 00:01:42.940\nIf my end users can get to\nthe resources they need,\n\n39\n00:01:42.940 --> 00:01:44.490\nmy company can't make any money.\n\n40\n00:01:44.490 --> 00:01:47.470\nIt's not the most exciting part,\nbut somebody's got to do it.\n\n41\n00:01:47.470 --> 00:01:49.755\n>> I am glad they put these objectives in.\n\n42\n00:01:49.755 --> 00:01:54.590\nCuz the old exams they used to focus so\nmuch on getting things set up.\n\n43\n00:01:54.590 --> 00:01:55.860\nHere's how you get something set up.\n\n44\n00:01:55.860 --> 00:01:58.210\nAnd so, a lot of people would do that and\nwere great.\n\n45\n00:01:58.210 --> 00:01:59.690\nYou get it set up, but\n\n46\n00:01:59.690 --> 00:02:01.800\nthen, how do you keep it running-\n>> [LAUGH] Right?\n\n47\n00:02:01.800 --> 00:02:02.520\n>> Once it's there?\n\n48\n00:02:02.520 --> 00:02:03.650\nSomething goes wrong what do you do?\n\n49\n00:02:03.650 --> 00:02:05.880\nHow do you even know that\nsomething's going wrong?\n\n50\n00:02:05.880 --> 00:02:08.300\nAnd so they added in these\nmonitoring objectives and\n\n51\n00:02:08.300 --> 00:02:10.030\nit's incredibly useful stuff.\n\n52\n00:02:10.030 --> 00:02:10.810\n>> It really is.\n\n53\n00:02:10.810 --> 00:02:12.950\nYour networks are dynamic,\nwe're changing all the time.\n\n54\n00:02:12.950 --> 00:02:15.780\nYou're adding new users,\nyou're adding new services.\n\n55\n00:02:15.780 --> 00:02:19.040\nAnd that server might have been doing\ngreat six months ago, but now, with all\n\n56\n00:02:19.040 --> 00:02:22.230\nthe new users and all the new services\nwe've added, it just can't keep up.\n\n57\n00:02:22.230 --> 00:02:25.940\nAnd we need to notice that\nbefore we run into a big issue.\n\n58\n00:02:25.940 --> 00:02:27.120\n>> Yeah, absolutely.\n\n59\n00:02:27.120 --> 00:02:30.140\nAll right, so let me just pull up\nthe objectives here and, basically,\n\n60\n00:02:30.140 --> 00:02:33.270\nthis is objective 1.3, Monitor Servers.\n\n61\n00:02:33.270 --> 00:02:35.590\nAnd we're gonna start off with\na couple of neat technologies.\n\n62\n00:02:35.590 --> 00:02:38.590\nNow, a lot of these may\nnot seem related at first.\n\n63\n00:02:38.590 --> 00:02:41.640\nBut once you see how they can be used,\nevery one of these,\n\n64\n00:02:41.640 --> 00:02:46.090\nall six of these objectives,\nare highlighting some kinda item, entity,\n\n65\n00:02:46.090 --> 00:02:49.290\nwhatever that allows us\nto monitor our systems.\n\n66\n00:02:49.290 --> 00:02:55.350\nAnd the goal here is to allow us to be\nproactive instead of reactive, right?\n\n67\n00:02:55.350 --> 00:02:58.030\nSo a lot of administrators\nout there are reactive.\n\n68\n00:02:58.030 --> 00:03:00.350\nA problem happens, something goes wrong.\n\n69\n00:03:00.350 --> 00:03:02.790\nThey find out about it, and\nthen they fix it, right?\n\n70\n00:03:02.790 --> 00:03:06.970\nSo there was probably an outage or\na performance degradation and\n\n71\n00:03:06.970 --> 00:03:09.620\nthey're reacting,\nthey're responding to that event.\n\n72\n00:03:09.620 --> 00:03:12.190\nThat's fine for small environments.\n\n73\n00:03:12.190 --> 00:03:14.755\nBut if you're in a large environment or\nEnterprise,\n\n74\n00:03:14.755 --> 00:03:19.585\nwhere thousands of people may not be\nable to work because of this problem.\n\n75\n00:03:19.585 --> 00:03:23.375\nWouldn't it been better to have spotted\nthe problem before it happened to be\n\n76\n00:03:23.375 --> 00:03:23.915\nproactive.\n\n77\n00:03:23.915 --> 00:03:25.923\n>> Absolutely how much\nmoney are we losing for\n\n78\n00:03:25.923 --> 00:03:29.600\nthat hour of down time two hours of down\ntime, that we now have to go through that\n\n79\n00:03:29.600 --> 00:03:33.420\nwe could have done something about had we\nseen the problem before it got that bad.\n\n80\n00:03:33.420 --> 00:03:34.170\n>> Yeah.\n\n81\n00:03:34.170 --> 00:03:37.886\nSo, in each of these tools,\nsome of them like the event monitor,\n\n82\n00:03:37.886 --> 00:03:41.690\nthe event monitor it doesn't give\nyou a lot of proactive ability.\n\n83\n00:03:41.690 --> 00:03:42.970\nIt's almost entirely reactive.\n\n84\n00:03:42.970 --> 00:03:46.170\nYou see problems after they occur, but\nsome of the other tools that we're going\n\n85\n00:03:46.170 --> 00:03:49.840\nto talk about let us, I'm gonna say,\nsee the future, right?\n\n86\n00:03:49.840 --> 00:03:51.010\nNot necessarily see.\n\n87\n00:03:51.010 --> 00:03:53.730\n>> This little crystal ball\nthat pops out of your keyboard.\n\n88\n00:03:53.730 --> 00:03:55.520\n[LAUGH]\n>> [LAUGH] The magic server dust.\n\n89\n00:03:55.520 --> 00:03:59.170\nAnd basically, it just gives us a way\nthat we can do a trend analysis,\n\n90\n00:03:59.170 --> 00:04:01.830\nwe can see when a problem\nis going to occur.\n\n91\n00:04:01.830 --> 00:04:04.440\nSo for example, hard drive space.\n\n92\n00:04:04.440 --> 00:04:07.360\nYou don't normally run out of hard\ndrive space instantly, right?\n\n93\n00:04:07.360 --> 00:04:10.540\nI mean, something could go crazy\nlike anti-virus logs or whatever but\n\n94\n00:04:10.540 --> 00:04:12.300\nnormally it's a slow progression.\n\n95\n00:04:12.300 --> 00:04:15.580\nYour drive fills up more and more and\nmore until it's completely full and\n\n96\n00:04:15.580 --> 00:04:16.470\nyou run out of space.\n\n97\n00:04:16.470 --> 00:04:19.860\nWell, you should be able to look at\nyour storage growth over time and\n\n98\n00:04:19.860 --> 00:04:20.930\nsay, you know what?\n\n99\n00:04:20.930 --> 00:04:24.410\nI'm growing by about 50\ngigabytes of data per day,\n\n100\n00:04:24.410 --> 00:04:28.500\nif I continue to follow this trend, the\nhard drive will be full in three months.\n\n101\n00:04:28.500 --> 00:04:31.210\nRight?\nAnd so, you schedule your upgrade.\n\n102\n00:04:31.210 --> 00:04:34.440\n>> Exactly.\nSo that's monitoring on a regular basis.\n\n103\n00:04:34.440 --> 00:04:35.910\nNot just doing it once in awhile.\n\n104\n00:04:35.910 --> 00:04:40.170\nThat's how you spot those trends,\nis you're gonna see that slow\n\n105\n00:04:40.170 --> 00:04:43.650\na disparity of your hard drive space,\nor what have you.\n\n106\n00:04:43.650 --> 00:04:46.510\nOr you're watching that service\nperformance go down and down.\n\n107\n00:04:46.510 --> 00:04:49.980\nAnd you got time to do something about\nit before it gets to the bottom.\n\n108\n00:04:49.980 --> 00:04:53.280\nAnd before you're called up on the red\ncarpets saying what the heck is wrong\n\n109\n00:04:53.280 --> 00:04:53.870\nwith our network?\n\n110\n00:04:55.080 --> 00:04:57.060\n>> Now all the tools we're\ngoing to talk about today,\n\n111\n00:04:57.060 --> 00:05:01.410\nthey allow us to see what your server is\nlike at that particular point in time.\n\n112\n00:05:01.410 --> 00:05:04.460\nAnd I want to throw out another concept,\nthat they don't specifically list in\n\n113\n00:05:04.460 --> 00:05:06.770\nthe objectives, but\nI know makes it on the exam.\n\n114\n00:05:06.770 --> 00:05:09.290\nWhich is the concept of a base line.\n\n115\n00:05:09.290 --> 00:05:12.960\nA base line is like\na snapshot of our server,\n\n116\n00:05:12.960 --> 00:05:15.230\nwhen things are working right, okay?\n\n117\n00:05:15.230 --> 00:05:18.320\n>> Now that's really where those data\ncollector sets come in, that lets us do\n\n118\n00:05:18.320 --> 00:05:23.180\nwhat I like to call historical monitoring,\nyou know rather than real time monitoring.\n\n119\n00:05:23.180 --> 00:05:26.805\n>> So my server seems like its running\nslow, I get a call from an end user like\n\n120\n00:05:26.805 --> 00:05:28.530\n>> Man, that server's running slow.\n\n121\n00:05:28.530 --> 00:05:31.051\nWell, if I connect to it and\nlook at it, how do I know,\n\n122\n00:05:31.051 --> 00:05:33.519\nis it really running slow\ncompared to yesterday, or\n\n123\n00:05:33.519 --> 00:05:37.300\ndoes it always just run this way, and\nthis end user is just being a pain, right?\n\n124\n00:05:37.300 --> 00:05:38.420\nIt's pretty common.\n\n125\n00:05:38.420 --> 00:05:43.022\nSo you need something to compare to,\na baseline, and original vision to say,\n\n126\n00:05:43.022 --> 00:05:45.601\nall right, here's how fast it used to run,\n\n127\n00:05:45.601 --> 00:05:50.230\nhere's how it's running today,\nit is worse, let's try and find out why.\n\n128\n00:05:50.230 --> 00:05:51.510\nOr, it's the same.\n\n129\n00:05:51.510 --> 00:05:53.250\n>> It is a concept that a lot\nof people do not realize.\n\n130\n00:05:53.250 --> 00:05:54.750\nPerformance is very relative.\n\n131\n00:05:54.750 --> 00:05:56.410\nYou've gotta have\nsomething to compare it to.\n\n132\n00:05:56.410 --> 00:05:59.510\nYou take a laptop, pass it around\nthe room, some people are gonna say, wow,\n\n133\n00:05:59.510 --> 00:06:00.840\nthis laptop's really fast.\n\n134\n00:06:00.840 --> 00:06:03.520\nOther people are gonna say, hey,\nthis laptop's a piece of crap.\n\n135\n00:06:03.520 --> 00:06:05.230\nAnd it's all about what\nyou have to compare it to.\n\n136\n00:06:05.230 --> 00:06:09.390\nSo you can't just go to a server and\ntake that point in time picture of its\n\n137\n00:06:09.390 --> 00:06:12.200\nperformance and say it's doing great or\nit's not doing so great.\n\n138\n00:06:12.200 --> 00:06:13.610\nYou've got to have something\nto compare it back to.\n\n139\n00:06:13.610 --> 00:06:16.170\n>> And then you take that same laptop and\nyou stick an Apple sticker on the back of\n\n140\n00:06:16.170 --> 00:06:18.090\nit and all of the sudden people\nare like that's awesome!\n\n141\n00:06:18.090 --> 00:06:18.720\n>> Woo-hoo!\n\n142\n00:06:18.720 --> 00:06:19.420\n>> So much better.\n\n143\n00:06:19.420 --> 00:06:20.800\n>> It just works.\n\n144\n00:06:20.800 --> 00:06:26.070\n[LAUGH]\n>> The power of a brand.\n\n145\n00:06:26.070 --> 00:06:28.730\nAll right, so\nlet's talk about raw numbers.\n\n146\n00:06:28.730 --> 00:06:32.460\nSo if we wanna look at raw\nnumbers comparing fact to fact,\n\n147\n00:06:32.460 --> 00:06:33.970\nwe've gotta have a place to get those.\n\n148\n00:06:33.970 --> 00:06:38.340\nAnd the best tool for, well, you know\nwhat, I don't wanna say the best tool.\n\n149\n00:06:38.340 --> 00:06:41.070\nThere's a number of tools,\neach one has their own place.\n\n150\n00:06:41.070 --> 00:06:43.910\nBut for me, the best tool for\nsetting up that baseline,\n\n151\n00:06:43.910 --> 00:06:46.660\nsetting up that historical view\nis the data collector sets, or\n\n152\n00:06:46.660 --> 00:06:50.250\nthe DCS's is what Microsoft\nwould call them a lot of times.\n\n153\n00:06:50.250 --> 00:06:52.280\nOn the exam, you may see it abbreviated,\nyou may not.\n\n154\n00:06:52.280 --> 00:06:56.230\nBut data collector sets,\nthey're just a tool that's available that,\n\n155\n00:06:56.230 --> 00:06:58.290\nit's actually been around a long time.\n\n156\n00:06:58.290 --> 00:07:00.820\nIt used to just be called\na performance monitor.\n\n157\n00:07:00.820 --> 00:07:02.970\n>> Now usually-\n>> And that's just a subnode of\n\n158\n00:07:02.970 --> 00:07:04.280\nthe performance monitor.\n\n159\n00:07:04.280 --> 00:07:05.390\n>> What was it?\n\n160\n00:07:05.390 --> 00:07:07.710\nPerformance monitors and\nalerts or something like that?\n\n161\n00:07:07.710 --> 00:07:08.780\nYeah, it had a longer name.\n\n162\n00:07:08.780 --> 00:07:09.680\n>> A long set of words.\n\n163\n00:07:09.680 --> 00:07:10.830\n>> Now just data collector sets.\n\n164\n00:07:10.830 --> 00:07:12.310\nThey're real easy to use.\n\n165\n00:07:12.310 --> 00:07:16.860\nWhat you do is you tell it what you\nwant to monitor on your server.\n\n166\n00:07:16.860 --> 00:07:18.460\n>> You tell it when you\nwant to monitor and\n\n167\n00:07:18.460 --> 00:07:22.250\nhow long you want to monitor it for,\nand how you want to record that data.\n\n168\n00:07:22.250 --> 00:07:26.230\nAnd once you've done that,\nyou can record the data and sit on it, and\n\n169\n00:07:26.230 --> 00:07:30.670\nthen over time you can use that to compare\nagainst your server under certain loads.\n\n170\n00:07:30.670 --> 00:07:32.320\n>> And\nthere are hundreds of counters in there.\n\n171\n00:07:32.320 --> 00:07:33.470\nI mean there are a lot of counters.\n\n172\n00:07:33.470 --> 00:07:35.290\nYou can monitor just about everything.\n\n173\n00:07:35.290 --> 00:07:38.740\nAnd then as you add different services,\nlike when you dump DNS on a server.\n\n174\n00:07:38.740 --> 00:07:41.830\nYou're going to get an additional set of\ncounters that you can use to monitor DNS.\n\n175\n00:07:41.830 --> 00:07:44.050\nAdditional counters to monitor DHCP.\n\n176\n00:07:44.050 --> 00:07:45.630\nThere's everything we need.\n\n177\n00:07:45.630 --> 00:07:47.210\nThere's a lot of them.\n\n178\n00:07:47.210 --> 00:07:48.710\nBut they have really\ngood help built into it.\n\n179\n00:07:48.710 --> 00:07:53.440\nI like the explanation they give you for\nthe different counters\n\n180\n00:07:53.440 --> 00:07:57.260\nbecause a lot of them, [LAUGH],\nwhat is that actually telling me?\n\n181\n00:07:57.260 --> 00:07:57.906\n>> Let's take a look at it.\n\n182\n00:07:57.906 --> 00:08:03.630\nSo I'm going to bring up a Windows Server\n2012 machine, and this is 2012 R2.\n\n183\n00:08:03.630 --> 00:08:06.202\nIt's running Windows Server 2012 but\n\n184\n00:08:06.202 --> 00:08:09.710\nit's also a domain controller,\ndns, and dhcp, right?\n\n185\n00:08:09.710 --> 00:08:12.000\nSo it's providing a couple\nof key functions.\n\n186\n00:08:12.000 --> 00:08:15.220\nAnd I'm just gonna go into\nmy Server Manager here, and\n\n187\n00:08:15.220 --> 00:08:18.820\nif I want to make use of these\ndata collector sets or whatever,\n\n188\n00:08:18.820 --> 00:08:21.480\nit is under the performance\nsection of the server.\n\n189\n00:08:21.480 --> 00:08:23.790\nAll you have to do is go up to Tools, and\n\n190\n00:08:23.790 --> 00:08:25.990\nunder Tools you'll see\nPerformance Monitor.\n\n191\n00:08:27.410 --> 00:08:30.310\nSo we'll fire that up, and\nin the Performance Monitor,\n\n192\n00:08:30.310 --> 00:08:32.880\nyou've actually got two\nways to monitor things.\n\n193\n00:08:32.880 --> 00:08:36.380\nYou've got the performance monitor itself\nwhere the tool get's it's name, and\n\n194\n00:08:36.380 --> 00:08:39.350\nthat's for\nmonitoring the server in real time.\n\n195\n00:08:39.350 --> 00:08:43.780\nI wanna see what the server is like right\nnow at this very moment, all right.\n\n196\n00:08:43.780 --> 00:08:48.190\nBut the performance monitor doesn't log\nthe data, doesn't store it you know,\n\n197\n00:08:48.190 --> 00:08:51.070\nthis is really just designed for\na single point in time.\n\n198\n00:08:51.070 --> 00:08:53.680\n>> And unfortunately, I don't think my\nboss is gonna pay me to sit here and\n\n199\n00:08:53.680 --> 00:08:55.260\nwatch that monitor all day long.\n\n200\n00:08:55.260 --> 00:08:58.528\nSo if you find a job like that, let me\nknow, I'm gonna try to steal it from you.\n\n201\n00:08:58.528 --> 00:09:00.830\n[LAUGH]\n>> You'd have a hard time staying awake.\n\n202\n00:09:00.830 --> 00:09:01.440\n>> That's true.\n\n203\n00:09:01.440 --> 00:09:05.250\n>> Watch this little red line, you know\nand at some point it spikes up, and\n\n204\n00:09:05.250 --> 00:09:07.360\nyou gotta do work, and\nthe rest of the time, just kick back-\n\n205\n00:09:07.360 --> 00:09:08.420\n>> Just open up File Explorer,\n\n206\n00:09:08.420 --> 00:09:09.495\nthat'll give it a good spike.\n\n207\n00:09:09.495 --> 00:09:10.920\n[LAUGH]\n>> You're like Homer Simpson,\n\n208\n00:09:10.920 --> 00:09:13.310\nyou know just sitting there watching the.\n\n209\n00:09:13.310 --> 00:09:14.950\nBut Mike, you're exactly right.\n\n210\n00:09:14.950 --> 00:09:17.600\nSo when I launch this,\nhere's the performance monitor.\n\n211\n00:09:17.600 --> 00:09:20.830\nAnd by default,\nMicrosoft puts in % Processor Time,\n\n212\n00:09:20.830 --> 00:09:23.460\nso it's monitoring my CPU level.\n\n213\n00:09:23.460 --> 00:09:27.230\nThis server's not really doing anything so\nthat CPU level is just sitting there.\n\n214\n00:09:27.230 --> 00:09:31.587\nIf I launch a few programs,\nyou know if I fire up a few things,\n\n215\n00:09:31.587 --> 00:09:36.467\nactually here, let's see if we\ncan't get it doing some fun stuff.\n\n216\n00:09:39.308 --> 00:09:42.445\n>> On most Windows boxes, that might have\nbeen enough to spike that processor.\n\n217\n00:09:42.445 --> 00:09:43.750\n[LAUGH]\n>> Maybe.\n\n218\n00:09:43.750 --> 00:09:45.530\n>> Just kidding,\nwe have some great servers here.\n\n219\n00:09:45.530 --> 00:09:46.680\n>> We'll fire up a few things.\n\n220\n00:09:46.680 --> 00:09:50.230\nI'm firing up Internet Explorer, so\nI'm just kind of launching some programs,\n\n221\n00:09:50.230 --> 00:09:51.330\ndoing some things.\n\n222\n00:09:51.330 --> 00:09:54.910\nAnd if I go back here,\nI can see those CPU spikes, right.\n\n223\n00:09:54.910 --> 00:09:59.240\nWhen I open PowerShell, when I open\nthe command prompt, and now when I open up\n\n224\n00:09:59.240 --> 00:10:02.699\nglorious Internet Explorer,\nyou'll see this consistent spike.\n\n225\n00:10:02.699 --> 00:10:05.840\nSo these are the different applications\nthat are starting to consume that CPU.\n\n226\n00:10:05.840 --> 00:10:09.100\nNow, this is different\nthan the Task Manager.\n\n227\n00:10:09.100 --> 00:10:13.580\nThe Task Manager shows me this but breaks\nit down by application, this doesn't.\n\n228\n00:10:13.580 --> 00:10:16.740\nThis is just general\nCPU load on the system.\n\n229\n00:10:16.740 --> 00:10:20.820\nIf I wanted to see who was\nactually generating that CPU load,\n\n230\n00:10:20.820 --> 00:10:25.980\nI'd be better off going into my Task\nManager and pulling up my details here,\n\n231\n00:10:25.980 --> 00:10:30.520\nwhere I can sort by CPU and I can see\nwho it is that's consuming the process.\n\n232\n00:10:30.520 --> 00:10:33.380\n>> And again, Task Manager's another\nreal time monitoring tool, so\n\n233\n00:10:33.380 --> 00:10:36.400\nwe don't get to save any of that\ninformation, can't log it for later.\n\n234\n00:10:36.400 --> 00:10:41.670\n>> And I blamed Internet Explorer, but\nlook, Conhost.exe, the console host.\n\n235\n00:10:41.670 --> 00:10:43.342\nSo it's actually my directory,\n\n236\n00:10:43.342 --> 00:10:45.918\nI did a full [CROSSTALK]\ndirectory of the hard drive.\n\n237\n00:10:45.918 --> 00:10:48.960\nYup, that's what's consuming\nmost of the CPU right now.\n\n238\n00:10:48.960 --> 00:10:52.380\nSee, I put the blame on\nInternet Explorer and I was wrong.\n\n239\n00:10:52.380 --> 00:10:55.250\nThese tools allow us to figure\nthis kind of thing out.\n\n240\n00:10:55.250 --> 00:10:57.200\nSo it's kinda neat.\n\n241\n00:10:57.200 --> 00:10:57.700\n>> Very handy.\n\n242\n00:10:59.080 --> 00:11:01.110\n>> All right, so\nback to the Performance Monitor.\n\n243\n00:11:01.110 --> 00:11:06.160\nSo, this kind of real-time view is\nuseful if you want to see right now, but\n\n244\n00:11:06.160 --> 00:11:10.440\nI'm looking at this like, man my server\nis really busy, is this normal or not?\n\n245\n00:11:10.440 --> 00:11:10.960\n>> Right.\n\n246\n00:11:10.960 --> 00:11:15.550\n>> Is it normally busy like this or\nis this an abnormal thing, all right.\n\n247\n00:11:15.550 --> 00:11:17.790\nAnd just looking at this, I don't know.\n\n248\n00:11:17.790 --> 00:11:23.210\nThe duration down here, this is 1 minute\nand 40 seconds in the life of my server.\n\n249\n00:11:23.210 --> 00:11:25.310\n>> Mm-hm.\n>> I have no idea if this is normal.\n\n250\n00:11:25.310 --> 00:11:25.862\n>> Yeah.\n\n251\n00:11:25.862 --> 00:11:30.250\n>> All right, so that's where our data\ncollector sets come in, is that we can\n\n252\n00:11:30.250 --> 00:11:34.530\ntake the same data, and we can record\nit over a longer period of time.\n\n253\n00:11:34.530 --> 00:11:37.967\nWe can tell it to run for hours or days\nand we can take snapshots on different\n\n254\n00:11:37.967 --> 00:11:41.960\npoints and that's really important,\nbecause especially things like CPU, you'll\n\n255\n00:11:41.960 --> 00:11:45.860\nhave peak times, and you'll have non-peak\ntimes, or whatever those terms are.\n\n256\n00:11:46.900 --> 00:11:47.457\n>> Non-peak times, off peak times.\n\n257\n00:11:47.457 --> 00:11:49.600\nYeah or something, there we go.\n\n258\n00:11:49.600 --> 00:11:50.250\n>> Off peak, that sounds good.\n\n259\n00:11:50.250 --> 00:11:53.505\n>> Yeah, I always tell people you can't\nmonitor your server at 1 o'clock in\n\n260\n00:11:53.505 --> 00:11:56.360\nthe morning, when you're the only\ngeek on the network, right.\n\n261\n00:11:56.360 --> 00:11:59.670\nYou're not really getting an accurate\nview of what that server's\n\n262\n00:11:59.670 --> 00:12:00.810\ndoing under normal workload.\n\n263\n00:12:00.810 --> 00:12:03.255\nAnd that's where those data collector\nsets really come into play,\n\n264\n00:12:03.255 --> 00:12:04.996\ncuz I can schedule them.\n\n265\n00:12:04.996 --> 00:12:07.070\nCuz hey look, I wanna take some\nperformance information from 9\n\n266\n00:12:07.070 --> 00:12:09.380\nin the morning till 11 in the morning, and\n\n267\n00:12:09.380 --> 00:12:13.010\nthen I wanna do it from 1 o'clock in the\nafternoon, to 3 o'clock in the afternoon.\n\n268\n00:12:13.010 --> 00:12:15.170\nAnd I want to do that Monday,\nTuesday, Wednesday, Thursday,\n\n269\n00:12:15.170 --> 00:12:18.310\nFriday and that whole thing\nbecomes my baseline, right.\n\n270\n00:12:18.310 --> 00:12:21.270\nThat gives me a good representation\nof what that's server's\n\n271\n00:12:21.270 --> 00:12:22.750\ndoing under a normal workload.\n\n272\n00:12:22.750 --> 00:12:26.180\n>> Yeah, I've done a lot of\nmodeling on email servers.\n\n273\n00:12:26.180 --> 00:12:30.596\nAnd you'll see with email servers\nthere's these trends that you follow and\n\n274\n00:12:30.596 --> 00:12:34.620\nI used to always see huge spikes on\nthe email servers at 8 AM and 9 AM.\n\n275\n00:12:34.620 --> 00:12:37.680\nAs people were getting into work and\nchecking their email the first time.\n\n276\n00:12:37.680 --> 00:12:38.450\n>> Right\n>> And\n\n277\n00:12:38.450 --> 00:12:42.020\nthen you get another spike around 1 PM,\nwhen people got back from lunch.\n\n278\n00:12:42.020 --> 00:12:44.505\nAnd then around 4 PM,\nwhen people were trying to do stuff and\n\n279\n00:12:44.505 --> 00:12:45.980\nthen get out of the office, right.\n\n280\n00:12:45.980 --> 00:12:46.708\n>> [LAUGH] Trying to get\nthe heck out of the office, yup.\n\n281\n00:12:46.708 --> 00:12:50.820\n>> But then the other times in the day,\nyou'd look at the server at 3 PM or\n\n282\n00:12:50.820 --> 00:12:54.840\nat 11 AM or whatever, and\nit was hardly doing anything.\n\n283\n00:12:54.840 --> 00:12:57.983\nNow, the thing is, you can't plan\naround those off-peak times,\n\n284\n00:12:57.983 --> 00:12:59.990\nyou've gotta plan for your peaks.\n\n285\n00:12:59.990 --> 00:13:02.190\nAnd there's certain thresholds\nwe wanna operate in.\n\n286\n00:13:02.190 --> 00:13:05.820\nIf you see your server\nconsistently hitting, really,\n\n287\n00:13:05.820 --> 00:13:07.235\n80% is where I draw the line.\n\n288\n00:13:07.235 --> 00:13:09.555\nIf you see it consistently\nhitting over 80% CPU,\n\n289\n00:13:09.555 --> 00:13:13.755\nthat usually means it's time to upgrade,\nright.\n\n290\n00:13:13.755 --> 00:13:18.185\nAnd if you see it growing over time,\nlet's use an email server as an example.\n\n291\n00:13:18.185 --> 00:13:21.685\nMaybe when you set it up,\nthere's 1,000 mailboxes on it, but\n\n292\n00:13:21.685 --> 00:13:23.475\nover time you add more employees.\n\n293\n00:13:23.475 --> 00:13:26.325\nYou add another 100 employees here,\n100 there, so\n\n294\n00:13:26.325 --> 00:13:30.600\nall the sudden you're at 1500 mailboxes,\nyour averages might start to go up.\n\n295\n00:13:30.600 --> 00:13:34.360\nAnd if you see it creeping up from\naveraging at 30% to 40% to 50%,\n\n296\n00:13:34.360 --> 00:13:39.460\nyou can estimate the amount of time\nit's gonna take you to get to 80 and\n\n297\n00:13:39.460 --> 00:13:43.170\nyou can say you know what, this server,\nwe're going to outgrow it within a year.\n\n298\n00:13:43.170 --> 00:13:46.890\nWe need to put it in our budget to buy a\nnew server, we need to order it and so on,\n\n299\n00:13:46.890 --> 00:13:49.420\nright, it's all about planning,\nbeing proactive.\n\n300\n00:13:49.420 --> 00:13:51.899\n>> It's a lot better than realizing\nall of a sudden that's at 95% and\n\n301\n00:13:51.899 --> 00:13:53.408\nnow we've got to do something right now.\n\n302\n00:13:53.408 --> 00:13:54.348\n>> Mm-hm.\n\n303\n00:13:54.348 --> 00:13:55.728\n>> That's where the monitoring comes in.\n\n304\n00:13:55.728 --> 00:13:59.673\n>> All right, you know we haven't\ntalked about all the counters yet, but\n\n305\n00:13:59.673 --> 00:14:02.434\nlets just see about how we would schedule,\nwell,\n\n306\n00:14:02.434 --> 00:14:05.090\nmaybe we should talk\nabout the counters first.\n\n307\n00:14:05.090 --> 00:14:05.900\n>> Why don't we add some counters,\n\n308\n00:14:05.900 --> 00:14:08.680\ncuz then we could do that cool trick where\nwe can just take the counters we've added\n\n309\n00:14:08.680 --> 00:14:09.780\nto the real time monitor.\n\n310\n00:14:09.780 --> 00:14:10.541\n>> Yeah.\n>> And turn it into a counter set,\n\n311\n00:14:10.541 --> 00:14:11.690\nif you want, or something cool like that.\n\n312\n00:14:11.690 --> 00:14:13.090\n>> All right, yeah, that'll be fun.\n\n313\n00:14:13.090 --> 00:14:17.330\nSo when I fired this up, it automatically\nstarted monitoring CPU, and\n\n314\n00:14:17.330 --> 00:14:19.350\nthat's just because Microsoft\nchose to throw that in.\n\n315\n00:14:19.350 --> 00:14:21.020\nThey used to throw in a couple of others.\n\n316\n00:14:21.020 --> 00:14:23.065\n>> Yeah, they used to have the big four,\ndidn't they?\n\n317\n00:14:23.065 --> 00:14:26.066\nThe average disk queue length and\nsome network bytes, I think.\n\n318\n00:14:26.066 --> 00:14:26.680\n>> Mm-hm.\n\n319\n00:14:26.680 --> 00:14:30.290\nThe big four that Mike mentioned\nin Microsoft land, and\n\n320\n00:14:30.290 --> 00:14:32.570\nit can be different for\nother people, but not normally.\n\n321\n00:14:32.570 --> 00:14:34.560\nThere's really four main\nthings that we wanna monitor.\n\n322\n00:14:34.560 --> 00:14:36.570\nProcessor is one of them, right?\n\n323\n00:14:36.570 --> 00:14:40.000\nYour memory,\nhow much RAM you're consuming.\n\n324\n00:14:40.000 --> 00:14:41.870\nThe disk queue length.\n\n325\n00:14:41.870 --> 00:14:46.040\nNow not disk space, right,\ncuz disk space is a dime a dozen.\n\n326\n00:14:46.040 --> 00:14:49.500\nYou might wanna monitor that,\nbut the disk queuing,\n\n327\n00:14:49.500 --> 00:14:52.970\nthat's how many programs are waiting\nin line to write to the disk so\n\n328\n00:14:52.970 --> 00:14:55.280\nthat you can see if you're\nover subscribing your disks.\n\n329\n00:14:55.280 --> 00:14:57.052\nAnd then lastly, network bandwidth, right.\n\n330\n00:14:57.052 --> 00:14:58.977\nThose are our big four.\n\n331\n00:14:58.977 --> 00:15:01.820\n>> You've gotta monitor those on any\nmachine no matter what it's doing,\n\n332\n00:15:01.820 --> 00:15:07.020\nand then you add additional counters\nto monitor service specific type stuff.\n\n333\n00:15:07.020 --> 00:15:10.130\n>> Yeah, so if we wanna monitor that stuff\nwe've got a little plus sign up top here,\n\n334\n00:15:10.130 --> 00:15:12.400\nI'll just hit that to\nadd in more counters.\n\n335\n00:15:12.400 --> 00:15:15.590\nNow, the counters are divided up into\na number of different sections, so\n\n336\n00:15:15.590 --> 00:15:16.600\nlets talk about each one.\n\n337\n00:15:16.600 --> 00:15:18.210\n>> A large number of sections.\n\n338\n00:15:18.210 --> 00:15:21.230\n>> The very first one here,\nis what computer we wanna monitor.\n\n339\n00:15:21.230 --> 00:15:24.480\nBy default we're gonna monitor\nthe computer that we're on.\n\n340\n00:15:24.480 --> 00:15:26.640\nYou can monitor remote computers.\n\n341\n00:15:26.640 --> 00:15:30.600\nSo you can have one station setup to\nmonitor many, many machines, all right.\n\n342\n00:15:30.600 --> 00:15:32.820\nJust keep in mind that these monitors,\n\n343\n00:15:32.820 --> 00:15:35.780\nthey do create a little bit of\na performance burden on the system, so\n\n344\n00:15:35.780 --> 00:15:40.340\nthey take a little CPU and RAM to run,\nso you don't wanna go crazy with this.\n\n345\n00:15:40.340 --> 00:15:43.640\nYou don't wanna monitor everything,\nbe very specific, surgical measurements,\n\n346\n00:15:43.640 --> 00:15:46.100\nwhat they call it,\njust getting exactly what you need.\n\n347\n00:15:46.100 --> 00:15:48.225\n>> Sometimes monitoring remotely\nmight actually benefit you, right.\n\n348\n00:15:48.225 --> 00:15:50.586\nCuz if you're monitoring\nhard disk activity and\n\n349\n00:15:50.586 --> 00:15:54.559\nyou're doing it on the machine that you're\ntrying to monitor, the act of logging\n\n350\n00:15:54.559 --> 00:15:58.144\nthe information every one second is\ngonna generate hard drive activity.\n\n351\n00:15:58.144 --> 00:15:59.796\n>> That is true.\n>> So now you've skewed your numbers and\n\n352\n00:15:59.796 --> 00:16:00.848\nyou're not getting an accurate.\n\n353\n00:16:00.848 --> 00:16:02.624\nSo it might be better to\nmonitor that remotely.\n\n354\n00:16:02.624 --> 00:16:03.947\nYeah, absolutely.\n\n355\n00:16:03.947 --> 00:16:08.170\nAfter that we see the general categories,\nright?\n\n356\n00:16:08.170 --> 00:16:12.230\nEach one of these are what are called,\nwell these are categories, and\n\n357\n00:16:12.230 --> 00:16:14.910\ninside of them we have\nwhat are called counters.\n\n358\n00:16:14.910 --> 00:16:17.510\nSo I've got a category called processor.\n\n359\n00:16:17.510 --> 00:16:19.110\nAnd inside of processor,\n\n360\n00:16:19.110 --> 00:16:22.330\nyou'll see I've got a ton of\ndifferent things that I can monitor.\n\n361\n00:16:22.330 --> 00:16:25.430\nAnd you know what,\nlet me turn on my zoom in, so I can zoom.\n\n362\n00:16:25.430 --> 00:16:27.110\n>> I have to ask you,\nis this the only window,\n\n363\n00:16:27.110 --> 00:16:30.840\nit's the only window I think I know of\nin Windows, where the expansion for\n\n364\n00:16:30.840 --> 00:16:34.700\nthe category is actually on\nthe right-hand side of the list?\n\n365\n00:16:34.700 --> 00:16:38.040\nI was trying to think the other day if\nthere's any other place I've seen that.\n\n366\n00:16:38.040 --> 00:16:41.080\n>> I think it's like that in the Network\nand Sharing Center, isn't it?\n\n367\n00:16:41.080 --> 00:16:42.190\n>> Is it?\nIt might be.\n\n368\n00:16:42.190 --> 00:16:43.780\n>> Yeah, I'm almost curious enough.\n\n369\n00:16:43.780 --> 00:16:44.490\nLet's find out here.\n\n370\n00:16:44.490 --> 00:16:45.585\n>> Completely off topic, but [LAUGH]-\n>> The Network and Sharing-\n\n371\n00:16:45.585 --> 00:16:48.280\n>> I was like, who designed this interface\n\n372\n00:16:48.280 --> 00:16:51.690\nbecause Microsoft is normally very\nstrict about their interfaces and\n\n373\n00:16:51.690 --> 00:16:55.990\nconsistency across the different\nwindows and environments and\n\n374\n00:16:55.990 --> 00:16:58.210\nthe buttons are always in the same place.\n\n375\n00:16:58.210 --> 00:17:00.605\n>> Yeah, I thought it was like it here,\nbut it is not.\n\n376\n00:17:00.605 --> 00:17:04.720\nAnd then Power Options are the only I can\nthink of that might be like that also.\n\n377\n00:17:04.720 --> 00:17:08.560\nYeah, Power Options,\nthere ya go, but it is rare.\n\n378\n00:17:08.560 --> 00:17:12.040\nBut basically,\nthese counters if you look at it.\n\n379\n00:17:12.040 --> 00:17:15.790\nSo I'm on the local computer and\nI'm looking at the processor category and\n\n380\n00:17:15.790 --> 00:17:20.730\nwe've got processor C1 Time,\nC2, C3, DPC Time, Idle Time,\n\n381\n00:17:20.730 --> 00:17:24.050\nall these things that are in here,\nthese are great to monitor.\n\n382\n00:17:24.050 --> 00:17:26.160\nMike, don't you love to monitor C1,\nC2, and C3 times?\n\n383\n00:17:26.160 --> 00:17:29.400\n>> Absolutely, cuz I know exactly what C1,\nC2, and C3 are.\n\n384\n00:17:29.400 --> 00:17:31.140\n>> Well now there's the problem right?\n\n385\n00:17:31.140 --> 00:17:31.950\nWe have so\n\n386\n00:17:31.950 --> 00:17:36.640\nmany counters in here, that how do you\neven know what the heck half of them are?\n\n387\n00:17:36.640 --> 00:17:41.380\nAnd this is a great example,\nC1, C2, C3, I could guess and\n\n388\n00:17:41.380 --> 00:17:43.910\nsay maybe that's like core one, core two.\n\n389\n00:17:43.910 --> 00:17:45.790\n>> Core one, but then,\nwouldn't there be four?\n\n390\n00:17:45.790 --> 00:17:47.900\n>> Who has a three-core system, right?\n\n391\n00:17:47.900 --> 00:17:49.620\nWe're obviously wrong.\n\n392\n00:17:49.620 --> 00:17:53.780\nThe neat thing about these is,\nif you don't know what they are,\n\n393\n00:17:53.780 --> 00:17:56.110\nthere are little explanations\nthat we can see.\n\n394\n00:17:56.110 --> 00:17:57.590\nAnd actually, you know what?\n\n395\n00:17:57.590 --> 00:18:00.330\nWe don't see them on this screen, do we?\n\n396\n00:18:00.330 --> 00:18:01.688\n>> Now down at the bottom left,\nshow a description.\n\n397\n00:18:01.688 --> 00:18:03.017\n>> There we go.\n>> We'll turn that bad boy on for you.\n\n398\n00:18:03.017 --> 00:18:07.019\n>> Here we can get a description and\nwe can see exactly what that is.\n\n399\n00:18:07.019 --> 00:18:09.728\nIf we don't know what it is,\nright here I can\n\n400\n00:18:09.728 --> 00:18:14.660\nsee it's the amount of time my process or\nspends in the C1 low power idle state.\n\n401\n00:18:14.660 --> 00:18:18.190\nYeah, that would be useful on a server,\nmaybe on a laptop, right?\n\n402\n00:18:18.190 --> 00:18:21.420\n>> Right.\n>> But you can get a description, very,\n\n403\n00:18:21.420 --> 00:18:22.060\nvery handy, right?\n\n404\n00:18:22.060 --> 00:18:22.620\n>> Mm-hm.\n\n405\n00:18:22.620 --> 00:18:26.150\n>> Really nice to be able to see that\ninformation, get that interpretation.\n\n406\n00:18:26.150 --> 00:18:29.280\n>> I didn't have to break out Google,\nBing.\n\n407\n00:18:29.280 --> 00:18:30.805\n>> Yeah, bing [LAUGH].\n\n408\n00:18:30.805 --> 00:18:33.600\n>> [LAUGH] It's Microsoft\nwe should stick right?\n\n409\n00:18:33.600 --> 00:18:34.120\n>> No, we shouldn't.\n\n410\n00:18:34.120 --> 00:18:34.760\n>> No?\nOkay, yeah, Google.\n\n411\n00:18:34.760 --> 00:18:40.685\n>> If they want us to stick with Bing\nthey'll make a product that doesn't suck.\n\n412\n00:18:40.685 --> 00:18:44.630\n[LAUGH] It's nice being\nable to monitor that.\n\n413\n00:18:44.630 --> 00:18:50.750\nOnce you pick a counter down beneath,\nyou've got the various instances\n\n414\n00:18:50.750 --> 00:18:54.470\nof that counter, and you'll see it like\nif you've got a multi-core process.\n\n415\n00:18:54.470 --> 00:18:56.270\nThis is a virtual machine\nthat I'm logged into.\n\n416\n00:18:56.270 --> 00:18:58.020\nSo it's only got one core.\n\n417\n00:18:58.020 --> 00:19:00.390\nSo down here I can see total and zero.\n\n418\n00:19:00.390 --> 00:19:02.630\nZero being the first core-\n>> Instance, yeah.\n\n419\n00:19:02.630 --> 00:19:03.484\n>> If I, let me switch to a-\n>> Do we have hardrives?\n\n420\n00:19:03.484 --> 00:19:05.305\n>> I'll switch to a hardware machine.\n\n421\n00:19:05.305 --> 00:19:09.398\n[CROSSTALK]\nThis one.\n\n422\n00:19:09.398 --> 00:19:12.662\n>> Yeah, so basically, it's gonna give you\nthat total would take all the instances.\n\n423\n00:19:12.662 --> 00:19:14.130\nCuz we had four cores.\n\n424\n00:19:14.130 --> 00:19:16.290\nIt would add up the performance for\nall four cores and\n\n425\n00:19:16.290 --> 00:19:19.900\ngive you one number in\nyour performance monitor.\n\n426\n00:19:19.900 --> 00:19:24.080\nOr you can monitor each core individually\nor each instance of whatever it is.\n\n427\n00:19:24.080 --> 00:19:26.120\nThere we go.\n>> This one's dual core.\n\n428\n00:19:26.120 --> 00:19:30.280\nI have a zero and a one letting me\nknow I that I could monitor individual\n\n429\n00:19:30.280 --> 00:19:33.450\ncores if I'd like, and that can be useful.\n\n430\n00:19:33.450 --> 00:19:39.650\nBecause you might find that your\nsystem is always running at 50% CPU.\n\n431\n00:19:39.650 --> 00:19:44.015\nIf I looked at 50% CPU, I'd say well,\nthat's not bad, my red flag is 60%.\n\n432\n00:19:44.015 --> 00:19:48.419\n60% you start planning for\nan upgrade, 80% you need to upgrade.\n\n433\n00:19:48.419 --> 00:19:52.687\nIf it's constantly running at 50%,\nI might think it's fine.\n\n434\n00:19:52.687 --> 00:19:56.467\nBut, what if it turns out the application\nI'm running is not multi-threaded?\n\n435\n00:19:56.467 --> 00:19:58.950\n>> Right, and it's just hitting\none of those cores extremely hard.\n\n436\n00:19:58.950 --> 00:20:03.900\n>> What we're actually doing is maxing out\nthat single core, we're 100% of one core.\n\n437\n00:20:03.900 --> 00:20:05.730\nThe other core's not even getting used.\n\n438\n00:20:05.730 --> 00:20:09.620\nIt's well past time to upgrade at that\npoint and it indicates a problem.\n\n439\n00:20:09.620 --> 00:20:11.970\n>> But you wouldn't have seen that if\nyou were just monitoring the total.\n\n440\n00:20:11.970 --> 00:20:13.170\n>> Absolutely not.\n\n441\n00:20:13.170 --> 00:20:16.845\nSo we can go in and we can add in\nthose individual cores like this.\n\n442\n00:20:16.845 --> 00:20:20.205\nSo here I've got core zero and\ncore one, my two cores.\n\n443\n00:20:20.205 --> 00:20:22.060\nAnd so now I'm monitoring those.\n\n444\n00:20:22.060 --> 00:20:25.775\nAnd I've got too much stuff on my screen\nhere, I'm just gonna get rid of these.\n\n445\n00:20:25.775 --> 00:20:28.485\n>> This must of had the-\n>> I think I accidentally had them all\n\n446\n00:20:28.485 --> 00:20:31.315\nhighlighted or something, so\nlet me just delete those guys out there.\n\n447\n00:20:32.555 --> 00:20:34.605\nAnd I just highlighted the counters,\nand hit the delete key.\n\n448\n00:20:34.605 --> 00:20:36.365\nI could have clicked this red x and\ndone it too.\n\n449\n00:20:36.365 --> 00:20:38.280\nBut, so here I've got those.\n\n450\n00:20:38.280 --> 00:20:41.140\nYou know what, shoot,\nI deleted the wrong one.\n\n451\n00:20:41.140 --> 00:20:42.900\nLet me get core one back in.\n\n452\n00:20:42.900 --> 00:20:48.663\nSo, core one, here's my problem is that\nall these things were highlighted and\n\n453\n00:20:48.663 --> 00:20:51.890\nI just need percent processor time.\n\n454\n00:20:51.890 --> 00:20:54.250\n>> They do have some templates in\nthere that we can use as well, but\n\n455\n00:20:54.250 --> 00:20:56.130\na lot like you just saw Don do.\n\n456\n00:20:56.130 --> 00:20:58.840\nYeah those templates and they just got\ndozens and dozens of counters, and\n\n457\n00:20:58.840 --> 00:21:00.160\nit's almost too busy.\n\n458\n00:21:00.160 --> 00:21:03.660\nI'd rather monitor just\nwhat I'm trying to monitor.\n\n459\n00:21:03.660 --> 00:21:05.800\n>> Yep, and one core for me is a red line,\n\n460\n00:21:05.800 --> 00:21:08.432\nthe other is a red dash line,\nso I can't tell them apart.\n\n461\n00:21:08.432 --> 00:21:11.400\nI'm gonna pull up the properties and\nchange that.\n\n462\n00:21:11.400 --> 00:21:14.820\nWhen you define them, you can come in and\nyou can pick their colors, and\n\n463\n00:21:14.820 --> 00:21:16.900\nwhether they're dashed or\nsolid, or whatever.\n\n464\n00:21:16.900 --> 00:21:18.490\nSo I'm gonna put it back\nto a solid blue line.\n\n465\n00:21:18.490 --> 00:21:20.150\nThere we go, all right.\n\n466\n00:21:20.150 --> 00:21:22.040\n>> Another nice one to use is\nthat highlighter up there.\n\n467\n00:21:22.040 --> 00:21:24.810\nIf you've got a counter that's\nrunning right across the bottom or\n\n468\n00:21:24.810 --> 00:21:27.700\nright across the top,\nsometimes those can be hard to pick out.\n\n469\n00:21:27.700 --> 00:21:29.410\nOr if you've got a whole\nbunch of counters in there,\n\n470\n00:21:29.410 --> 00:21:32.890\nyou can turn that highlighter on, and then\nwhichever one you've got selected is going\n\n471\n00:21:32.890 --> 00:21:34.525\nto be highlighted on your chart there.\n\n472\n00:21:34.525 --> 00:21:37.690\n>> Yep, it just turns it a bold black\ncolor and makes it easy to spot.\n\n473\n00:21:37.690 --> 00:21:40.160\nOr if you've got a darker background,\nit'll actually go to a white.\n\n474\n00:21:40.160 --> 00:21:41.580\nSo it's a smart highlighter.\n\n475\n00:21:41.580 --> 00:21:42.400\n>> It is smart.\n\n476\n00:21:42.400 --> 00:21:45.150\n>> But now I've got it where\nI've got the two colors.\n\n477\n00:21:45.150 --> 00:21:49.300\nAnd now we can see if I do something like,\nlet me do that command prompt again,\n\n478\n00:21:49.300 --> 00:21:51.060\nnow that I know that\ntakes a ton of resources.\n\n479\n00:21:54.290 --> 00:21:58.440\nI'm just doing a long recursive\ndirectory command there.\n\n480\n00:21:58.440 --> 00:22:03.140\nAnd so I'm doing this extended directory,\nmy CPU is spiking up, and\n\n481\n00:22:03.140 --> 00:22:03.870\nlook what its doing.\n\n482\n00:22:03.870 --> 00:22:05.060\nI'm learning something here.\n\n483\n00:22:05.060 --> 00:22:08.168\nI didn't realize that the [CROSSTALK]\ncommand line utilities were multithreaded.\n\n484\n00:22:08.168 --> 00:22:09.070\n>> That's impressive.\n\n485\n00:22:09.070 --> 00:22:10.310\n>> Its using both cores..\n\n486\n00:22:10.310 --> 00:22:10.870\n>> All right.\n\n487\n00:22:10.870 --> 00:22:12.630\n>> So, you know, impressive.\n\n488\n00:22:12.630 --> 00:22:17.460\nI just kind of assume the old command\nline utilities would be single threaded,\n\n489\n00:22:17.460 --> 00:22:18.990\nbut Microsoft got us.\n\n490\n00:22:20.050 --> 00:22:21.120\nThat's kind of cool.\n\n491\n00:22:21.120 --> 00:22:22.090\nAnd you can test and\n\n492\n00:22:22.090 --> 00:22:24.990\nsee whether your applications\nare properly working that way.\n\n493\n00:22:24.990 --> 00:22:28.170\nSo this is inside, the stuff\nthat's going on in the background.\n\n494\n00:22:28.170 --> 00:22:30.610\nAnd now I kind of want to fire up\nother stuff just to see what happens.\n\n495\n00:22:32.230 --> 00:22:35.030\n>> You can find something\nthat's a single core.\n\n496\n00:22:35.030 --> 00:22:35.870\n>> Let's go to CNN's page.\n\n497\n00:22:35.870 --> 00:22:38.960\nThey load so many adds it's like\naccessing 20 servers at once.\n\n498\n00:22:38.960 --> 00:22:42.055\nI kinda knew it was multi-threaded.\n\n499\n00:22:42.055 --> 00:22:49.520\nYou can start to see that performance and\nsee whether you're getting that balance.\n\n500\n00:22:49.520 --> 00:22:53.440\nDefinitely a greater visibility\ninto what your server is doing.\n\n501\n00:22:53.440 --> 00:22:56.450\nI'm just looking at processor here,\npercent processor time,\n\n502\n00:22:56.450 --> 00:23:00.230\nthat's the amount of time your\nprocessor is actually busy doing work.\n\n503\n00:23:00.230 --> 00:23:01.710\nThe rest of the time it's idol.\n\n504\n00:23:01.710 --> 00:23:06.682\nAnd my rule of thumb is at 60%,\nif you're constantly averaging 60% or\n\n505\n00:23:06.682 --> 00:23:08.890\nhigher, you need to be\nthinking about upgrading.\n\n506\n00:23:08.890 --> 00:23:12.770\nIf you're constantly averaging 80% or\nhigher, it is time to upgrade.\n\n507\n00:23:12.770 --> 00:23:16.770\nAnd if you're constantly averaging 100%,\nyou're screwed.\n\n508\n00:23:16.770 --> 00:23:17.520\n>> You've got a biters.\n\n509\n00:23:17.520 --> 00:23:20.810\n>> Your system is operating\nbeyond its means and\n\n510\n00:23:20.810 --> 00:23:22.250\nthat means that it's gonna be slow.\n\n511\n00:23:22.250 --> 00:23:23.530\nYou're gonna have a performance hit.\n\n512\n00:23:24.910 --> 00:23:27.610\nThere are exceptions to that like\nif I'm doing video encoding.\n\n513\n00:23:27.610 --> 00:23:30.100\nVideo encoding will take\nas much CPU as it can get.\n\n514\n00:23:30.100 --> 00:23:32.960\nIt'll spike spike you to 100%,\nno matter what your processor is.\n\n515\n00:23:32.960 --> 00:23:33.950\n>> That's a good point.\n\n516\n00:23:33.950 --> 00:23:35.240\nYou do have to look for.\n\n517\n00:23:35.240 --> 00:23:36.900\nYou're gonna have anomalies now and again.\n\n518\n00:23:36.900 --> 00:23:39.860\nThings are gonna jump up and\nit's whether or not it stays up there.\n\n519\n00:23:39.860 --> 00:23:41.062\nThat's really what we're looking for.\n\n520\n00:23:41.062 --> 00:23:43.550\n>> I'm gonna go back to\n\n521\n00:23:43.550 --> 00:23:47.250\nthe other machine that we were\nmonitoring in the beginning, this one.\n\n522\n00:23:48.570 --> 00:23:50.910\nSo here on this one, we were just\nmonitoring percent processor time.\n\n523\n00:23:50.910 --> 00:23:52.828\nLet's do our big four, Mike.\n\n524\n00:23:52.828 --> 00:23:53.335\n>> All right.\n>> So\n\n525\n00:23:53.335 --> 00:23:55.650\nthe other one was physical memory, right?\n\n526\n00:23:55.650 --> 00:23:56.357\n>> Uh-huh.\n\n527\n00:23:56.357 --> 00:23:58.275\nAnd let's see.\n\n528\n00:23:58.275 --> 00:23:59.887\n[CROSSTALK]\n>> Yeah.\n\n529\n00:23:59.887 --> 00:24:01.073\nIt's just memory.\n\n530\n00:24:01.073 --> 00:24:05.936\n>> Let's find it in our list here.\n\n531\n00:24:05.936 --> 00:24:07.310\nHere we go.\n\n532\n00:24:07.310 --> 00:24:08.890\nAnd so, inside a physical memory,\n\n533\n00:24:08.890 --> 00:24:11.670\nyou can see all sorts of different\nthings that you can monitor.\n\n534\n00:24:11.670 --> 00:24:14.590\nThe one I like to monitor\nis available megabytes.\n\n535\n00:24:14.590 --> 00:24:15.430\n>> Yup.\n\n536\n00:24:15.430 --> 00:24:16.140\n>> All right.\n\n537\n00:24:16.140 --> 00:24:17.520\nSo I'll add that one in.\n\n538\n00:24:17.520 --> 00:24:20.408\nAnd that's just how much RAM is available,\nright?\n\n539\n00:24:20.408 --> 00:24:22.576\n>> Mm-hmm.\n>> So if I have eight gigs of RAM,\n\n540\n00:24:22.576 --> 00:24:25.915\nif I'm using three gigs,\nthen I should have five gigs.\n\n541\n00:24:25.915 --> 00:24:28.010\n[LAUGH] Why is that math hard for\nme to do?\n\n542\n00:24:28.010 --> 00:24:29.362\nIt should be five gigs available.\n\n543\n00:24:29.362 --> 00:24:31.489\n>> [LAUGH]\n>> So you're kind of monitoring how much\n\n544\n00:24:31.489 --> 00:24:32.114\nRAM is left.\n\n545\n00:24:32.114 --> 00:24:34.389\n>> Right.\n>> If this is constantly at zero, or low,\n\n546\n00:24:34.389 --> 00:24:36.082\nthen you should add more memory.\n\n547\n00:24:36.082 --> 00:24:37.376\n>> Right.\n>> We can actually measure\n\n548\n00:24:37.376 --> 00:24:38.216\nthe page file also.\n\n549\n00:24:38.216 --> 00:24:39.930\n>> Mm-hmm.\n>> The page information is in here.\n\n550\n00:24:39.930 --> 00:24:42.400\n>> Pages per second is another\ngood one to monitor, yeah.\n\n551\n00:24:42.400 --> 00:24:45.965\n>> Now, personally,\nI don't monitor my page files very much.\n\n552\n00:24:45.965 --> 00:24:47.680\n>> Mm-hmm.\n>> Because, in the old days,\n\n553\n00:24:47.680 --> 00:24:49.090\nyou pretty much had to use your page file.\n\n554\n00:24:49.090 --> 00:24:50.590\nYou just never had enough memory.\n\n555\n00:24:50.590 --> 00:24:53.360\nBut in today's world,\nyou should have enough memory.\n\n556\n00:24:53.360 --> 00:24:56.590\nSo if I ever run out of physical memory,\nI add more.\n\n557\n00:24:56.590 --> 00:24:59.805\nI really don't try to use the page\nfiles at all if I can avoid it.\n\n558\n00:24:59.805 --> 00:25:00.890\n>> Mm-hmm.\n\n559\n00:25:00.890 --> 00:25:02.540\n>> All right, let's see who's next.\n\n560\n00:25:02.540 --> 00:25:04.570\n>> Hard drive or physical disk maybe.\n\n561\n00:25:04.570 --> 00:25:05.160\n>> All right.\nNow\n\n562\n00:25:07.130 --> 00:25:10.075\nthis is an old time favourite\nthat's been around for a long time.\n\n563\n00:25:10.075 --> 00:25:13.865\nYou'll see there's all sorts of\nphysical disk stuff you can measure,\n\n564\n00:25:13.865 --> 00:25:17.565\npercent disk reads and write,\nyou can actually do bytes per second so\n\n565\n00:25:17.565 --> 00:25:20.380\nyou can see if you're saturating\nyour SCSI or SATA bus.\n\n566\n00:25:20.380 --> 00:25:21.242\n>> Mm-hm.\n>> It's a really.\n\n567\n00:25:21.242 --> 00:25:24.922\nReally cool stuff there, but\nthe average disk queue length,\n\n568\n00:25:24.922 --> 00:25:30.772\nthis guy right here, right, is a great\nmeasure of the performance of your system.\n\n569\n00:25:30.772 --> 00:25:33.967\nIf you've saturated your SCSI bus or\nSATA bus or whatever.\n\n570\n00:25:33.967 --> 00:25:34.546\n>> Mm-hm.\n\n571\n00:25:34.546 --> 00:25:36.556\n>> Then what's going to happen\nis as programs try to write to\n\n572\n00:25:36.556 --> 00:25:37.976\nthe drive they're going\nto have to wait in line.\n\n573\n00:25:37.976 --> 00:25:40.526\nThey're going to have to form\na line up to wait their chance.\n\n574\n00:25:40.526 --> 00:25:43.104\nAnd you can monitor the length\nof that line right here,\n\n575\n00:25:43.104 --> 00:25:45.698\nhow many people are waiting\nin line to get to that disk.\n\n576\n00:25:45.698 --> 00:25:48.810\n>> To read or write to that drive, exactly\n>> Now be careful\n\n577\n00:25:48.810 --> 00:25:50.940\nbecause it defaults to total and\n\n578\n00:25:50.940 --> 00:25:55.608\nif you've got more than one hard drive,\nor drive letter it makes this worthless.\n\n579\n00:25:55.608 --> 00:25:56.290\n>> Yeah.\n>> All right.\n\n580\n00:25:56.290 --> 00:25:58.480\nSo you really do want to monitor\nbased on your drive letter.\n\n581\n00:25:58.480 --> 00:26:00.420\nSo i'm going to monitor my C drive here,\nso\n\n582\n00:26:00.420 --> 00:26:02.480\nhow much we're waiting in line for\nthe C drive.\n\n583\n00:26:02.480 --> 00:26:07.090\nNow, the resulting number that we're going\nto get; we need to know how to measure it.\n\n584\n00:26:07.090 --> 00:26:08.090\n>> Right.\n>> What's good and what's bad.\n\n585\n00:26:08.090 --> 00:26:10.500\n>> It tells me \"six;\" is that\na good thing, is that a bad thing?\n\n586\n00:26:10.500 --> 00:26:11.040\n>> Yeah.\n\n587\n00:26:11.040 --> 00:26:14.230\nOn CPU, it's easy, if you're at 100%,\nthat's bad, right?\n\n588\n00:26:14.230 --> 00:26:14.970\n>> Right.\n\n589\n00:26:14.970 --> 00:26:17.750\n>> With RAM, it's easy,\nbecause if you're out of RAM, that's bad.\n\n590\n00:26:17.750 --> 00:26:19.220\n>> At zero, that's not a good thing.\n\n591\n00:26:19.220 --> 00:26:20.490\n>> This is a hard one though.\n\n592\n00:26:20.490 --> 00:26:22.485\nAnd there's a simple\nformula that I remember.\n\n593\n00:26:22.485 --> 00:26:23.050\n>> Right.\n\n594\n00:26:23.050 --> 00:26:27.220\n>> When you have a hard drive,\nif it's a stand alone hard drive, or\n\n595\n00:26:27.220 --> 00:26:30.310\nif it's like a RAID 5 array, you might\nhave more than one hard drive that makes\n\n596\n00:26:30.310 --> 00:26:35.132\nup this C drive, what you do is you count\nthe amount of spindles that you have.\n\n597\n00:26:35.132 --> 00:26:35.695\n>> All right.\n\n598\n00:26:35.695 --> 00:26:39.490\nSo a disk it's a circle\nthat's mounted on a spindle.\n\n599\n00:26:39.490 --> 00:26:41.520\nSo you count the amount of\nspindles that you have.\n\n600\n00:26:41.520 --> 00:26:43.705\nIf it's a stand alone drive\nyou've only got one spindle.\n\n601\n00:26:43.705 --> 00:26:45.820\n>> Mm-hm.\n>> If it's a raid five array with ten\n\n602\n00:26:45.820 --> 00:26:47.725\ndrive, then you've got ten spindles.\n\n603\n00:26:47.725 --> 00:26:48.320\n>> Yep.\n\n604\n00:26:48.320 --> 00:26:51.845\n>> You take that A number and\nmultiply it by two, all right?\n\n605\n00:26:51.845 --> 00:26:57.227\nWhatever that number is times two, that\nis an acceptable average queue length.\n\n606\n00:26:57.227 --> 00:26:57.775\n>> All right.\n\n607\n00:26:57.775 --> 00:27:00.215\n>> Anything beyond that,\nprograms are waiting too long.\n\n608\n00:27:00.215 --> 00:27:04.210\nYou've got too much stuff stacked up in\nline, you need to either add more discs or\n\n609\n00:27:04.210 --> 00:27:05.430\nmove to a faster bus.\n\n610\n00:27:05.430 --> 00:27:07.240\nOne or the other.\n\n611\n00:27:07.240 --> 00:27:08.790\nSo, faster discs or whatever.\n\n612\n00:27:08.790 --> 00:27:11.720\nSo, easy one to interpret if\nyou know the value to look for.\n\n613\n00:27:11.720 --> 00:27:12.800\nRight?\n>> Yeah and that just comes\n\n614\n00:27:12.800 --> 00:27:13.640\nwith experience right?\n\n615\n00:27:13.640 --> 00:27:16.570\nGetting there and doing this and\nlooking at what numbers you're getting and\n\n616\n00:27:16.570 --> 00:27:19.610\ntrying to figure out what your\nnormal is and then going from there.\n\n617\n00:27:19.610 --> 00:27:20.920\n>> Yes.\n>> That was in that baseline.\n\n618\n00:27:20.920 --> 00:27:23.820\n>> Yeah, and that number two for me,\n\n619\n00:27:23.820 --> 00:27:26.420\nthat's my average,\nthat's kind of what I default to.\n\n620\n00:27:26.420 --> 00:27:30.970\nYou may find, in your environment,\nif disk IO is the most critical thing for\n\n621\n00:27:30.970 --> 00:27:33.970\nwhatever it is that you're doing,\nyou may not want even operate it too.\n\n622\n00:27:33.970 --> 00:27:35.390\nYou may want to get it even lower.\n\n623\n00:27:35.390 --> 00:27:38.490\n>> Right\n>> So that's when your doing raid ten with\n\n624\n00:27:38.490 --> 00:27:41.940\nSSD and all that to try and\nget the best possible times.\n\n625\n00:27:41.940 --> 00:27:43.350\n>> Yeah I've actually\nheard a lot of people say\n\n626\n00:27:43.350 --> 00:27:44.820\nthe number of spindles plus two.\n\n627\n00:27:44.820 --> 00:27:48.129\nSo if you've got five spindles,\nseven should be your average.\n\n628\n00:27:48.129 --> 00:27:49.996\n>> That would be much more aggressive.\n\n629\n00:27:49.996 --> 00:27:50.640\n>> Yeah,yeah.\n\n630\n00:27:50.640 --> 00:27:52.190\n>> All right, so I'm gonna go with that,\n\n631\n00:27:52.190 --> 00:27:55.921\nand then the other thing that we're gonna\nmonitor is our network adaptors, right?\n\n632\n00:27:55.921 --> 00:27:56.730\n>> Mm-hm.\n\n633\n00:27:56.730 --> 00:28:03.204\n>> Our network, and so we'll go in and\nfind networking in here.\n\n634\n00:28:03.204 --> 00:28:05.805\nAnd let's see,\nlet's do it based on interface, right.\n\n635\n00:28:05.805 --> 00:28:06.415\n>> Mm-hm.\n>> So\n\n636\n00:28:06.415 --> 00:28:11.095\nyou'll see where yo have network adaptor\nversus interface and you can actually take\n\n637\n00:28:11.095 --> 00:28:14.405\na physical adaptor and divide it up\ninto multiple virtual adaptors and so\n\n638\n00:28:14.405 --> 00:28:17.145\nthat's why you've got these separate\nlittle entities here and for\n\n639\n00:28:17.145 --> 00:28:20.015\nthis one we can just monitor\nbytes total per second.\n\n640\n00:28:20.015 --> 00:28:24.445\n>> It's usually a good idea and then if\nyou've got problems or you're seeing that\n\n641\n00:28:24.445 --> 00:28:26.790\nthat numbers not where you want it to be,\nyou could always go back and\n\n642\n00:28:26.790 --> 00:28:29.870\nadd some more specific counters and\ntry to figure out where the problem lies.\n\n643\n00:28:29.870 --> 00:28:30.470\n>> Yeah.\n\n644\n00:28:30.470 --> 00:28:34.130\nAnd you might need to monitor sent and\n\n645\n00:28:34.130 --> 00:28:39.000\nreceive separately, right,\nbecause you're card may be full duplex.\n\n646\n00:28:39.000 --> 00:28:41.070\nRight.\nSo if I've got a gigabit card that's\n\n647\n00:28:41.070 --> 00:28:45.930\nfull duplex I can send a gig and\nI can receive a gig at the same time.\n\n648\n00:28:45.930 --> 00:28:47.548\nSo my bandwidth is actually 2 gigabit.\n\n649\n00:28:47.548 --> 00:28:48.594\n>> All right.\n\n650\n00:28:48.594 --> 00:28:50.800\n>> But, one gig send, one gig receive.\n\n651\n00:28:50.800 --> 00:28:56.290\nSo if I see that I'm running at 1 gigabit,\nam I maxing out my send and receive?\n\n652\n00:28:56.290 --> 00:28:59.610\nOr am I just at 50%,\nam I just doing 500 megs of both,right?\n\n653\n00:28:59.610 --> 00:29:02.060\nSo if we monitor them separately\nthat can help us a little bit.\n\n654\n00:29:02.060 --> 00:29:04.900\nSo I'm gonna go ahead and\nmonitor them separately, send and receive.\n\n655\n00:29:04.900 --> 00:29:05.670\nAnd we'll add those in.\n\n656\n00:29:05.670 --> 00:29:07.360\nOops I forgot something important.\n\n657\n00:29:07.360 --> 00:29:08.625\nLet me get,those out of there.\n\n658\n00:29:08.625 --> 00:29:09.764\n>> All those virtual adapters?\n\n659\n00:29:09.764 --> 00:29:12.000\n>> Yep.\nYou got to pick your adapters down here.\n\n660\n00:29:12.000 --> 00:29:14.812\nI did all interfaces,\nwhich makes this worthless.\n\n661\n00:29:14.812 --> 00:29:16.640\n>> Mm-hm. [LAUGH].\n>> Just like the drives.\n\n662\n00:29:16.640 --> 00:29:19.960\nThis is a virtual machine so I'm going\nto choose hyper V network adapter.\n\n663\n00:29:21.030 --> 00:29:23.470\nI don't need to monitor\nthe Torino tunnel garbage.\n\n664\n00:29:23.470 --> 00:29:25.698\n>> But wait [laugh]\n>> All right, I'm going to go ahead and\n\n665\n00:29:25.698 --> 00:29:27.365\nsay okay, now I've got the big four.\n\n666\n00:29:27.365 --> 00:29:29.987\nThe big four things I need\nto monitor on my system.\n\n667\n00:29:29.987 --> 00:29:30.911\n>> Nice.\n>> All right.\n\n668\n00:29:30.911 --> 00:29:32.911\nNow we might think that we're done,\n\n669\n00:29:32.911 --> 00:29:36.277\nbut there's a couple other things\nthat we might wanna tweak.\n\n670\n00:29:36.277 --> 00:29:37.192\n>> Mm-hm.\n>> First off,\n\n671\n00:29:37.192 --> 00:29:40.161\nI know I've got some that\nare using the same colour, right?\n\n672\n00:29:40.161 --> 00:29:41.818\n>> Mm-hm.\n>> My available megabytes and\n\n673\n00:29:41.818 --> 00:29:45.180\npercent processor time were both red,\nso I might wanna change one.\n\n674\n00:29:45.180 --> 00:29:49.430\nI'll change available megabytes to,\nhere let's go nasty brown.\n\n675\n00:29:50.760 --> 00:29:51.790\nThere we go.\n\n676\n00:29:51.790 --> 00:29:53.940\nSo I've changed that one.\n\n677\n00:29:53.940 --> 00:29:56.130\nThe other thing is remember your scale.\n\n678\n00:29:56.130 --> 00:29:56.735\nRight?\n\n679\n00:29:56.735 --> 00:29:58.360\n>> Mm-hmm.\n>> Some of these things like disk\n\n680\n00:29:58.360 --> 00:30:02.235\nque length are hopefully going to be\na very small number like two, five, six.\n\n681\n00:30:02.235 --> 00:30:02.750\n>> Mm-hmm.\n\n682\n00:30:02.750 --> 00:30:05.402\n>> But\nyour processor's measuring a percentage.\n\n683\n00:30:05.402 --> 00:30:07.884\n>> All right.\n>> And so it might be 80%, 90%, 100%.\n\n684\n00:30:07.884 --> 00:30:10.100\nThese are different\nnumbers different scales.\n\n685\n00:30:10.100 --> 00:30:13.125\nSo you can't really trust\nwhat you got over here.\n\n686\n00:30:13.125 --> 00:30:16.400\n>> Mm-hm.\n>> So as you click each one of these\n\n687\n00:30:16.400 --> 00:30:20.170\nit's important to look at the counter and\nthe information that you're getting here\n\n688\n00:30:20.170 --> 00:30:23.715\nto kinda convert it into\na number that's truly useful.\n\n689\n00:30:23.715 --> 00:30:25.212\n>> Mm-hm.\n\n690\n00:30:25.212 --> 00:30:29.960\n>> All right, so looking at my network\nadapter here, bytes received per second, I\n\n691\n00:30:29.960 --> 00:30:35.300\ncan see my last measurement was at 3,241,\nso that's about 3.2k cuz this is bytes.\n\n692\n00:30:35.300 --> 00:30:40.040\nSo if I put in the 3.2 Kilobytes.\n\n693\n00:30:40.040 --> 00:30:42.980\nAnd I just thought about that,\nthese are kilobytes,\n\n694\n00:30:42.980 --> 00:30:45.690\nwe normally measure\nnetwork bandwidth in bits.\n\n695\n00:30:45.690 --> 00:30:46.605\n>> In bits yeah.\n>> Bits per second.\n\n696\n00:30:46.605 --> 00:30:48.090\n>> Mm-hm.\n>> So that's the other thing,\n\n697\n00:30:48.090 --> 00:30:49.620\nwe gotta keep that in mind.\n\n698\n00:30:49.620 --> 00:30:55.580\nIf we have 100 megabit card,\nthat is, how many megabytes is that?\n\n699\n00:30:55.580 --> 00:30:56.750\n20 megabytes or something?\n\n700\n00:30:56.750 --> 00:30:57.600\n>> Eight. Yeah. >> Or divide it?\n\n701\n00:30:57.600 --> 00:30:59.500\nDo you multiply it or divide it by eight?\n\n702\n00:30:59.500 --> 00:31:02.080\nBut we're going back to this divided by\n>> Yeah divided by it so\n\n703\n00:31:02.080 --> 00:31:05.330\nit ends up being a much smaller number so\nyou've got to keep that in mind and\n\n704\n00:31:05.330 --> 00:31:09.630\nwhen I added that, I don't,\nI don't do we have the option to do bits?\n\n705\n00:31:09.630 --> 00:31:11.780\nI think we just had bytes, didn't we?\n\n706\n00:31:11.780 --> 00:31:14.355\n>> Yeah, I think it was just bytes,\nbytes received, total bytes?\n\n707\n00:31:14.355 --> 00:31:15.350\n>> Yeah.\n\n708\n00:31:15.350 --> 00:31:18.280\n>> You've got to change\nyour scale if you want to.\n\n709\n00:31:18.280 --> 00:31:21.420\n>> Kind of annoying but just keep\nthat in mind these numbers might need\n\n710\n00:31:21.420 --> 00:31:23.370\na little tweaking to\nget to where you want.\n\n711\n00:31:23.370 --> 00:31:28.110\nSo, yeah there's bytes, packets and.\n\n712\n00:31:28.110 --> 00:31:29.650\n>> And we multiply it by it yeah.\n\n713\n00:31:29.650 --> 00:31:30.650\n>> And that's it yeah.\n\n714\n00:31:30.650 --> 00:31:35.540\n>> Cause we'd have more\nbits than we have bytes.\n\n715\n00:31:35.540 --> 00:31:36.430\n>> Right yes you are right.\n\n716\n00:31:36.430 --> 00:31:36.981\n>> Yeah.\n>> So we move\n\n717\n00:31:36.981 --> 00:31:37.871\n>> Multiply it by 8.\n\n718\n00:31:37.871 --> 00:31:39.235\nSo we would just take that number and\n\n719\n00:31:39.235 --> 00:31:41.097\nmultiply it by 8 and then compare that.\n\n720\n00:31:41.097 --> 00:31:42.944\n>> Mm-hm.\n>> So, my last one was 4,500 bytes.\n\n721\n00:31:42.944 --> 00:31:43.804\n>> Mm-hm.\n\n722\n00:31:43.804 --> 00:31:47.713\n>> That would actually be, you know,\n32,000 something bits, and so\n\n723\n00:31:47.713 --> 00:31:50.865\nI'm running at 32 kilobit right now,\nso Very very low but\n\n724\n00:31:50.865 --> 00:31:54.351\nyou can see your maximum,\nyour minimum, your average, right?\n\n725\n00:31:54.351 --> 00:31:58.312\nAnd so, it's tracking this, but\nagain I'm just seeing a minute and\n\n726\n00:31:58.312 --> 00:32:00.583\nforty seconds in the life of my server.\n\n727\n00:32:00.583 --> 00:32:02.104\n>> Right, yep.\n\n728\n00:32:02.104 --> 00:32:04.739\n>> All right, well,\nMike I lost track of time so-\n\n729\n00:32:04.739 --> 00:32:05.528\n>> I did too.\n\n730\n00:32:05.528 --> 00:32:06.538\nWe we're having too much fun there.\n\n731\n00:32:06.538 --> 00:32:07.532\n>> [LAUGH]\n>> Well,\n\n732\n00:32:07.532 --> 00:32:08.698\nwhy don't we stop here and take a break.\n\n733\n00:32:08.698 --> 00:32:10.189\n>> All right\n>> When we get back,\n\n734\n00:32:10.189 --> 00:32:13.975\nwe're going to take a look at how to take\nthis data and actually store it, and\n\n735\n00:32:13.975 --> 00:32:16.952\nmonitor larger portions of time,\nand all that good stuff.\n\n736\n00:32:16.952 --> 00:32:17.730\n>> Sounds like a plan.\n\n737\n00:32:17.730 --> 00:32:18.369\n>> All right.\n\n738\n00:32:18.369 --> 00:32:19.367\nSo, ladies and gentlemen stay tuned.\n\n739\n00:32:19.367 --> 00:32:20.690\nWe'll be back after this.\n\n740\n00:32:20.690 --> 00:32:29.293\n[MUSIC]\n\n741\n00:32:29.293 --> 00:32:31.210\nAll right, welcome back everybody.\n\n742\n00:32:31.210 --> 00:32:34.130\nSo, what we're going to do\nnow is we're going to take\n\n743\n00:32:34.130 --> 00:32:36.960\nthe performance counters that\nwe set up just a moment ago.\n\n744\n00:32:36.960 --> 00:32:40.070\nAnd those were great for\nseeing just a few, a minute and half or\n\n745\n00:32:40.070 --> 00:32:40.730\nwhatever of our time.\n\n746\n00:32:40.730 --> 00:32:43.920\n>> You need to see what's going on\nright now, on that server, fantastic.\n\n747\n00:32:43.920 --> 00:32:48.430\n>> So we're gonna take that and\nwe're gonna turn it into a different kinda\n\n748\n00:32:48.430 --> 00:32:52.770\nconfiguration where we can actually\ntrack what's going on in the system and\n\n749\n00:32:52.770 --> 00:32:55.310\nsee it historically and for\nlonger periods of time.\n\n750\n00:32:55.310 --> 00:32:57.950\n>> It's a great way to start,\ncreate that baseline.\n\n751\n00:32:57.950 --> 00:33:00.316\n>> We do that by creating\na data collector set and\n\n752\n00:33:00.316 --> 00:33:02.755\nit's real easy to build\na data collector set.\n\n753\n00:33:02.755 --> 00:33:06.866\nOnce you've got all your counters added\nin here that you want, you can just\n\n754\n00:33:06.866 --> 00:33:11.253\nright-click on the Performance Monitor and\nchoose New > Data Collector Set.\n\n755\n00:33:11.253 --> 00:33:14.762\nAnd what it's gonna do is it's gonna\nbasically save the counters that we\n\n756\n00:33:14.762 --> 00:33:17.660\ndefined so that we can use them for\nall sorts of stuff.\n\n757\n00:33:17.660 --> 00:33:18.160\n>> Nice.\n\n758\n00:33:19.190 --> 00:33:22.000\nAnd if you had to, you could always go\nback in and add each one of those again.\n\n759\n00:33:22.000 --> 00:33:24.458\nYou could go right to Data Collector Sets\n> New Data Collector Set.\n\n760\n00:33:24.458 --> 00:33:26.730\nStart with a blank sheet,\nand add the counters.\n\n761\n00:33:26.730 --> 00:33:28.409\nBut since we've already\ngot them added there.\n\n762\n00:33:28.409 --> 00:33:30.049\n>> Yeah\n>> It makes life a whole lot easier.\n\n763\n00:33:30.049 --> 00:33:32.673\n>> All right, I'm gonna create\na Data Collector Set called The Big Four.\n\n764\n00:33:32.673 --> 00:33:33.582\n>> The Big Four.\n\n765\n00:33:33.582 --> 00:33:35.543\n>> And so we'll just move forward.\n\n766\n00:33:35.543 --> 00:33:39.955\nIt's gonna ask the root directory\nby default it stores it.\n\n767\n00:33:39.955 --> 00:33:41.523\n[SOUND] What?\n\n768\n00:33:41.523 --> 00:33:43.737\n>> Wait, isn't that what the teachers\nused to do, when they say,\n\n769\n00:33:43.737 --> 00:33:45.419\nthat's a good thing to know for the exam?\n\n770\n00:33:45.419 --> 00:33:46.142\n>> Yeah.\n\n771\n00:33:46.142 --> 00:33:46.898\nYeah, knocking on the table.\n\n772\n00:33:46.898 --> 00:33:47.780\n>> Why are you knocking on the table?\n\n773\n00:33:47.780 --> 00:33:48.639\nWhat is wrong with you.\n\n774\n00:33:48.639 --> 00:33:50.120\n>> They'd tap on the chalkboard.\n\n775\n00:33:50.120 --> 00:33:51.720\nAnd that meant, highlight this piece,\n\n776\n00:33:51.720 --> 00:33:53.360\nbecause it definitely\ncould be on the exam.\n\n777\n00:33:53.360 --> 00:33:54.227\nSorry.\n>> [LAUGH]\n\n778\n00:33:54.227 --> 00:33:55.340\n>> I didn't know the secret code.\n\n779\n00:33:55.340 --> 00:33:57.050\nI feel left out.\n\n780\n00:33:57.050 --> 00:33:58.860\nIs there a secret handshake?\n\n781\n00:33:58.860 --> 00:34:00.199\n>> I'll teach you that later.\n\n782\n00:34:00.199 --> 00:34:02.139\n>> So-\n>> That C:PerfLogs admin is the default\n\n783\n00:34:02.139 --> 00:34:05.602\nlocation where those guys are going,\nand you can change that obviously.\n\n784\n00:34:05.602 --> 00:34:08.160\n>> Yeah.\n>> But that's where they'll go by default.\n\n785\n00:34:08.160 --> 00:34:10.420\n>> And don't worry if that\ndirectory doesn't exist.\n\n786\n00:34:10.420 --> 00:34:12.110\nIt'll make the directory for you.\n\n787\n00:34:12.110 --> 00:34:14.700\nSo yeah, so if it's not there,\nit'll take care of it.\n\n788\n00:34:14.700 --> 00:34:20.190\nAll right, and then if you're gonna be\nscheduling these to run at various times.\n\n789\n00:34:20.190 --> 00:34:23.654\nThey need to run under a user\ncredential and the default,\n\n790\n00:34:23.654 --> 00:34:26.675\nI believe the default\njust runs on the system.\n\n791\n00:34:26.675 --> 00:34:28.685\n>> I believe whoever's creating it maybe?\n\n792\n00:34:28.685 --> 00:34:29.755\nOr does it run another system?\n\n793\n00:34:29.755 --> 00:34:31.778\n>> You know what, we'll leave it\nat the default, we'll find out.\n\n794\n00:34:31.778 --> 00:34:33.627\n>> Okay\n>> But the thing to remember here is,\n\n795\n00:34:33.627 --> 00:34:35.676\nif you're just monitoring this system,\n\n796\n00:34:35.676 --> 00:34:39.432\nit's perfectly fine to leave it at\nthe default or run yourself, whatever.\n\n797\n00:34:39.432 --> 00:34:43.984\nBut if you're monitoring a remote system,\nit's important that you pick credentials\n\n798\n00:34:43.984 --> 00:34:46.490\nhere that do have access\nto that other machine.\n\n799\n00:34:46.490 --> 00:34:49.265\n>> Or if you needed somebody in the help\ndesk that maybe didn't have the right\n\n800\n00:34:49.265 --> 00:34:52.396\npermissions to do that remote monitoring,\nbut you needed them to be able to kick off\n\n801\n00:34:52.396 --> 00:34:55.486\nthat counter set because somebody called\nup and said they were having a problem and\n\n802\n00:34:55.486 --> 00:34:59.170\nthey've been taught first thing they need\nto do is start up this data collector set.\n\n803\n00:34:59.170 --> 00:35:02.150\nSo, storing those credentials would\nlet somebody without the permissions\n\n804\n00:35:02.150 --> 00:35:03.240\ngo ahead and kick that off.\n\n805\n00:35:03.240 --> 00:35:04.713\n>> Yeah, if we change it,\nyeah, it's just cuz it's that.\n\n806\n00:35:04.713 --> 00:35:05.619\nSorry, i'll leave it at the default.\n\n807\n00:35:05.619 --> 00:35:06.582\n>> Okay.\n\n808\n00:35:06.582 --> 00:35:09.600\n>> All right, so that's gonna\ncreate the data collector set.\n\n809\n00:35:09.600 --> 00:35:11.190\nAnd in the performance monitor up here,\n\n810\n00:35:11.190 --> 00:35:13.482\nyou can see where we've got\nthe performance monitor, and\n\n811\n00:35:13.482 --> 00:35:16.640\nthen beneath it you get all this stuff for\nthe data collector sets.\n\n812\n00:35:16.640 --> 00:35:19.325\nSystem ones,\nMicrosoft access in template one.\n\n813\n00:35:19.325 --> 00:35:20.515\n[CROSSTALK] There's two of them?\n\n814\n00:35:20.515 --> 00:35:24.265\nAnd then there's the user defined ones,\nthe ones that we made, all right.\n\n815\n00:35:24.265 --> 00:35:26.889\nAnd we can create those,\nand pop them in there.\n\n816\n00:35:26.889 --> 00:35:31.400\nYou also have what are called\nevent trace sessions.\n\n817\n00:35:31.400 --> 00:35:34.310\n>> And this is useful if you're\nreally troubleshooting a problem and\n\n818\n00:35:34.310 --> 00:35:39.330\nyou wanna track your event log in\nconjunction with the performance monitor.\n\n819\n00:35:39.330 --> 00:35:41.420\n>> So, if you see a spike in CPU,\n\n820\n00:35:41.420 --> 00:35:47.110\nthat might be related to an error in\nthe event log and the event trace sessions\n\n821\n00:35:47.110 --> 00:35:52.560\ncan kind of correlate that and say at 3:05\nPM and 15 seconds, you had a CPU spike.\n\n822\n00:35:52.560 --> 00:35:57.080\nAnd at 3:05 and 15 seconds,\nyou had a error in the event log.\n\n823\n00:35:57.080 --> 00:35:59.120\nAnd you kind of correlate\nthat information together.\n\n824\n00:35:59.120 --> 00:35:59.620\n>> Very handy.\n\n825\n00:36:00.680 --> 00:36:01.580\n>> All right, so if I go in here,\n\n826\n00:36:01.580 --> 00:36:05.180\nlook under user defined, there's the big\nfour right there that we created.\n\n827\n00:36:05.180 --> 00:36:07.110\nApparently, we created one before.\n\n828\n00:36:07.110 --> 00:36:08.805\nSo-\n>> You know it's odd actually,\n\n829\n00:36:08.805 --> 00:36:10.506\nthat one's in there by default.\n\n830\n00:36:10.506 --> 00:36:12.817\nI don't know why it's under user defined,\n\n831\n00:36:12.817 --> 00:36:15.951\nbut it's actually there when\nyou first fire this thing up.\n\n832\n00:36:15.951 --> 00:36:18.331\n>> But, there's the big four,\nthe one that we created.\n\n833\n00:36:18.331 --> 00:36:21.610\nAnd then down under system,\nyou'll see here's one for\n\n834\n00:36:21.610 --> 00:36:25.960\nactive directory diagnostics,\nsystem diagnostics, and so on.\n\n835\n00:36:25.960 --> 00:36:29.790\nAnd if you look at them, they're not\njust monitoring performance counters,\n\n836\n00:36:29.790 --> 00:36:32.365\nthey're also doing that event log trace.\n\n837\n00:36:32.365 --> 00:36:35.235\nAll right, and that is a useful thing.\n\n838\n00:36:35.235 --> 00:36:38.347\nIf we want to do that with ours,\nwe just need to add it in.\n\n839\n00:36:38.347 --> 00:36:40.885\nSo, like, if I go to the big four here,\nI can see\n\n840\n00:36:40.885 --> 00:36:45.405\nwhere it's basically got a system monitor\nlog for that performance counter.\n\n841\n00:36:45.405 --> 00:36:49.825\nBut you can add in various other things\nfor it to be able to monitor and,\n\n842\n00:36:49.825 --> 00:36:51.230\nI don't want to do a new data collector.\n\n843\n00:36:53.140 --> 00:36:55.670\nBut, actually,\nI do need to do another data collector\n\n844\n00:36:55.670 --> 00:36:59.110\nbecause I need to specify the other\nthings that we can monitor.\n\n845\n00:36:59.110 --> 00:37:01.130\nSo, let's review these real quick.\n\n846\n00:37:01.130 --> 00:37:04.840\nSo, the performance counter, that's\nwhat we've seen this episode already.\n\n847\n00:37:04.840 --> 00:37:08.950\nEvent trace, that's monitoring\nthe event viewer, the event logs.\n\n848\n00:37:08.950 --> 00:37:14.050\nConfiguration data, that's monitoring\nthe registry, any registry\n\n849\n00:37:14.050 --> 00:37:17.130\nchanges that might have happened in your\nsystem during the tie this is running.\n\n850\n00:37:17.130 --> 00:37:19.616\nAnd then lastly,\na performance counter alert.\n\n851\n00:37:19.616 --> 00:37:23.041\nNow, what's the difference\nbetween alert and a collector.\n\n852\n00:37:23.041 --> 00:37:23.665\n>> What is an alert?\n\n853\n00:37:23.665 --> 00:37:27.775\nSo, an alert is gonna let you, like, if\nyou don't want to, you can't sit there and\n\n854\n00:37:27.775 --> 00:37:31.315\nmonitor it real-time the whole thing, but\nyou need to know if one of those counters\n\n855\n00:37:31.315 --> 00:37:34.300\nis gonna get out of whack, so you can\nset a threshold and say, all right.\n\n856\n00:37:34.300 --> 00:37:37.390\nI want you, I want the system to\nmonitor this particular counter.\n\n857\n00:37:37.390 --> 00:37:40.410\nI'm gonna set this threshold like\nyour 80% for your processor.\n\n858\n00:37:40.410 --> 00:37:42.350\nAnd then it can generate an event.\n\n859\n00:37:42.350 --> 00:37:45.330\nIt's unfortunately a little\nlimited in what it can do.\n\n860\n00:37:45.330 --> 00:37:49.360\nIt just sends an event to the event\nlog if that threshold is ever reached.\n\n861\n00:37:49.360 --> 00:37:51.050\nBut you can set different events.\n\n862\n00:37:51.050 --> 00:37:54.620\nAnd then with the event log we do have\nthe ability now to attach tasks to\n\n863\n00:37:54.620 --> 00:37:55.430\ncertain events.\n\n864\n00:37:55.430 --> 00:37:57.390\nWe might be able to get a little\nmore creative with that.\n\n865\n00:37:57.390 --> 00:37:59.870\n>> Yep, and\nI used to use a third party software,\n\n866\n00:37:59.870 --> 00:38:02.860\nI can't even remember the name now, but it\nwas like a command line email client and\n\n867\n00:38:02.860 --> 00:38:06.120\nyou can generate emails off of them,\nbut it is not very flexible.\n\n868\n00:38:06.120 --> 00:38:08.510\nBut let's just generate\na couple of these to see them.\n\n869\n00:38:08.510 --> 00:38:10.150\nI'm gonna do an event trace.\n\n870\n00:38:10.150 --> 00:38:14.620\nAnd so I'm gonna call this one,\nso we got a system monitor log,\n\n871\n00:38:14.620 --> 00:38:16.070\nI'll just call this my event trace.\n\n872\n00:38:17.580 --> 00:38:19.507\nAnd so I'm gonna turn this on.\n\n873\n00:38:19.507 --> 00:38:26.821\nAnd basically we can pick what event log\nsources we wanna be able to trace on.\n\n874\n00:38:26.821 --> 00:38:30.146\nCuz you probably don't wanna trace\neverything that goes in the event log,\n\n875\n00:38:30.146 --> 00:38:31.325\ncause that could be a lot.\n\n876\n00:38:31.325 --> 00:38:34.570\nI mean just look at how long it's\ntaking to load all the sources here.\n\n877\n00:38:34.570 --> 00:38:37.590\nIt's a ton of different sources.\n\n878\n00:38:37.590 --> 00:38:40.940\nSo, if you're monitoring for\nsimple things, like network or\n\n879\n00:38:40.940 --> 00:38:43.920\nwhatever, you might want to restrict\nwhere your sources come from.\n\n880\n00:38:43.920 --> 00:38:48.737\nSo you'll see all sorts of different\nthings that you can track on in here.\n\n881\n00:38:48.737 --> 00:38:51.360\nI might, lets do this.\n\n882\n00:38:51.360 --> 00:38:58.168\nLets limit it down to,\nhow involved do we want to get in on this?\n\n883\n00:38:58.168 --> 00:39:01.431\n>> [INAUDIBLE] Good to show, but-\n>> Yeah,\n\n884\n00:39:01.431 --> 00:39:04.385\nthis show could be a 30 part series.\n\n885\n00:39:04.385 --> 00:39:05.673\n[CROSSTALK] Where you go\nover all the sources.\n\n886\n00:39:05.673 --> 00:39:09.181\nYou guys see, if I'm having\ntrouble seeing terminal services,\n\n887\n00:39:09.181 --> 00:39:13.250\nI could come in here and\nflag all of the terminal services events.\n\n888\n00:39:13.250 --> 00:39:16.529\nAnd now, when I am running this\nperformance counter, any event message\n\n889\n00:39:16.529 --> 00:39:20.670\ngenerated based on terminal services\nwould get logged in and thrown in there.\n\n890\n00:39:20.670 --> 00:39:22.830\nYou can do the same thing\nwith other services.\n\n891\n00:39:22.830 --> 00:39:24.550\nYou guys see how many things are in here.\n\n892\n00:39:24.550 --> 00:39:26.634\n>> With the big four,\nwith just the general monitoring,\n\n893\n00:39:26.634 --> 00:39:28.689\nwe probably don't need\nthe event logs at this point.\n\n894\n00:39:28.689 --> 00:39:31.947\nAnd then if we had trouble with that\nparticular area, that's when I go and\n\n895\n00:39:31.947 --> 00:39:32.894\nadd more counters for\n\n896\n00:39:32.894 --> 00:39:36.225\nthat particular area as well as maybe\nsome event logs that go along with it.\n\n897\n00:39:36.225 --> 00:39:38.836\n>> Yeah, yep.\n\n898\n00:39:38.836 --> 00:39:40.300\nI'll pick terminal services, why not?\n\n899\n00:39:41.770 --> 00:39:43.680\nSo, I'll pick those,\nand we'll add them in.\n\n900\n00:39:43.680 --> 00:39:45.072\nSo any event that they\ngenerate we'll track.\n\n901\n00:39:45.072 --> 00:39:49.310\nAnd down here we can set it to look for\nvarious specific actions or\n\n902\n00:39:49.310 --> 00:39:54.177\nfilters that we just get errors and\nnot informational or whatever I'll,\n\n903\n00:39:54.177 --> 00:39:56.470\nyou know, maybe we could do that.\n\n904\n00:39:56.470 --> 00:39:59.360\nI don't want to get too crazy on this\ncause we can be in here forever,\n\n905\n00:39:59.360 --> 00:40:00.520\nbut shoot.\n\n906\n00:40:00.520 --> 00:40:02.480\nYou have to define the raw filter.\n\n907\n00:40:02.480 --> 00:40:04.080\nI'm not gonna do that.\n\n908\n00:40:04.080 --> 00:40:07.040\nIt's not on the exam, but in real\nlife you can define a raw filter and\n\n909\n00:40:07.040 --> 00:40:08.660\ntell it exactly what to look for.\n\n910\n00:40:08.660 --> 00:40:10.220\nIt's kind of a pain.\n\n911\n00:40:10.220 --> 00:40:11.770\nAll right.\nSo we'll go ahead and define that,\n\n912\n00:40:11.770 --> 00:40:12.540\nand we'll just finish it up.\n\n913\n00:40:12.540 --> 00:40:16.510\nSo now I'm tracking some of\nthose event viewer entries.\n\n914\n00:40:16.510 --> 00:40:21.340\nWe can go a step further, and\nwe can punch in configuration data.\n\n915\n00:40:24.340 --> 00:40:25.710\nWhich again is the registry.\n\n916\n00:40:28.150 --> 00:40:32.930\nAnd with this one, you specify the\nregistry keys that you want to monitor.\n\n917\n00:40:32.930 --> 00:40:36.230\nSo like, the default is H\nkey local machines/software.\n\n918\n00:40:36.230 --> 00:40:38.520\nSo any changes to my software\nwould get monitored, but\n\n919\n00:40:38.520 --> 00:40:40.940\nyou might want to be even more\nspecific and break that down.\n\n920\n00:40:40.940 --> 00:40:44.050\nI'll leave it at the default.\n\n921\n00:40:44.050 --> 00:40:44.740\nAll right.\n\n922\n00:40:44.740 --> 00:40:47.370\nSo those are some of the powerful\nthings that we can do here.\n\n923\n00:40:47.370 --> 00:40:51.990\nNow I'll tell you, for me,\nthe majority of what I want is going to be\n\n924\n00:40:51.990 --> 00:40:54.630\nin that system monitor login\nat performance counters.\n\n925\n00:40:54.630 --> 00:40:57.790\nThe other things are nice, but\nwe have other tools we can use for\n\n926\n00:40:57.790 --> 00:41:00.100\nthose that can be a little more handy,\nbut we'll turn it on.\n\n927\n00:41:01.470 --> 00:41:04.300\n>> All right, so now we need to,\nyou wanna schedule this bad boy?\n\n928\n00:41:04.300 --> 00:41:05.000\n>> Yeah, absolutely.\n\n929\n00:41:05.000 --> 00:41:06.670\n>> Set up a little schedule for it?\n\n930\n00:41:06.670 --> 00:41:09.480\n>> So, right now that data\ncollector is created, but\n\n931\n00:41:09.480 --> 00:41:11.660\nit's not actually doing anything.\n\n932\n00:41:11.660 --> 00:41:13.700\nIf I click on that folder,\nI can see it right here.\n\n933\n00:41:13.700 --> 00:41:16.890\nIt's stopped, it's not running,\nit's not doing anything.\n\n934\n00:41:16.890 --> 00:41:17.840\n>> And we can start it manually.\n\n935\n00:41:17.840 --> 00:41:18.550\nYou can kick it off.\n\n936\n00:41:18.550 --> 00:41:22.070\nJust right click on it and start or click\nthe little play button up at the top.\n\n937\n00:41:22.070 --> 00:41:25.520\nBut when we talk about a baseline, as we\nmentioned in that in that first segment,\n\n938\n00:41:25.520 --> 00:41:28.980\nand the idea is to get a picture\nof what that server is doing\n\n939\n00:41:28.980 --> 00:41:31.330\nunder a normal workload,\nnot a two minute slice of time.\n\n940\n00:41:31.330 --> 00:41:34.170\nAll right, so we need a bigger\nwindow of information there.\n\n941\n00:41:34.170 --> 00:41:36.360\nAnd that's where that schedule\nreally comes into play.\n\n942\n00:41:36.360 --> 00:41:38.060\nAnd then the schedule is\npretty easy to work with.\n\n943\n00:41:38.060 --> 00:41:40.300\n>> Yeah, and here's where we\ncan pull up the properties.\n\n944\n00:41:40.300 --> 00:41:43.910\nAnd remember we had that debate over\nwhat account it ran under by default?\n\n945\n00:41:43.910 --> 00:41:47.260\nAnd so here we can see it actually does\nrun as a system account by default.\n\n946\n00:41:47.260 --> 00:41:49.160\nIf you're monitoring the local machine.\n\n947\n00:41:49.160 --> 00:41:49.984\n>> One point for Don.\n\n948\n00:41:49.984 --> 00:41:51.605\n[LAUGH]\n>> Well anyway it doesn't matter.\n\n949\n00:41:51.605 --> 00:41:53.999\nBut yeah one point.\n\n950\n00:41:53.999 --> 00:41:56.268\n[LAUGH]\n>> [LAUGH]\n\n951\n00:41:56.268 --> 00:41:58.155\n>> So that's fine if you're\n\n952\n00:41:58.155 --> 00:42:00.875\nmonitoring this machine, but\nif you're monitoring a network machine,\n\n953\n00:42:00.875 --> 00:42:03.885\nyou really gotta provide credentials,\nor like Mike said if it's the help desk.\n\n954\n00:42:03.885 --> 00:42:06.420\nOr whatever you'll need to provide\nyour credentials since they may not\n\n955\n00:42:06.420 --> 00:42:07.770\nhave that access.\n\n956\n00:42:07.770 --> 00:42:10.150\nOr you can create dedicated\ncredentials for it if you want.\n\n957\n00:42:10.150 --> 00:42:11.100\n>> Yeah.\nThat's what I was thinking,\n\n958\n00:42:11.100 --> 00:42:13.880\nmaybe a special account that just has\npermissions to do the monitoring.\n\n959\n00:42:13.880 --> 00:42:15.930\nYou don't want to use like a domain\nadmin account their probably.\n\n960\n00:42:15.930 --> 00:42:18.870\n>> Use your own personal account cause\nthen when you change your password,\n\n961\n00:42:18.870 --> 00:42:19.880\nall the monitors will break.\n\n962\n00:42:19.880 --> 00:42:20.590\n>> Yeah.\n\n963\n00:42:20.590 --> 00:42:23.360\n>> So, but\nwe can go into the schedule tab here, and\n\n964\n00:42:23.360 --> 00:42:25.240\nhere is where we can define for it to run.\n\n965\n00:42:25.240 --> 00:42:25.860\nRight?\n\n966\n00:42:25.860 --> 00:42:26.590\nAnd so, you know,\n\n967\n00:42:26.590 --> 00:42:31.010\nto get a really good view of my servers,\nI need to think about a lot of things.\n\n968\n00:42:31.010 --> 00:42:32.900\nI need to think about my business, right?\n\n969\n00:42:32.900 --> 00:42:33.815\nWhen are my employees at the office?\n\n970\n00:42:33.815 --> 00:42:37.005\n>> Are we a 24-hour shop,\nor are we a two shift shop?\n\n971\n00:42:37.005 --> 00:42:38.335\nWhat do we do?\n\n972\n00:42:38.335 --> 00:42:39.685\n>> Yeah.\nWell, we'll use ITProTV\n\n973\n00:42:39.685 --> 00:42:40.785\nas an example, right?\n\n974\n00:42:40.785 --> 00:42:43.960\nSo we don't really-\n>> Work ever?\n\n975\n00:42:43.960 --> 00:42:47.650\n>> [LAUGH] We don't have a large portion\nof the team here until about 9 AM.\n\n976\n00:42:47.650 --> 00:42:50.160\nRight, so that's really when\nthe bulk of us get here.\n\n977\n00:42:50.160 --> 00:42:51.670\nAnd then we do our recordings and\n\n978\n00:42:51.670 --> 00:42:55.470\nstuff like that, and then we usually\nstart winding down around five.\n\n979\n00:42:55.470 --> 00:42:58.800\nAnd so there's people here until eleven,\nand there's people here as early as seven.\n\n980\n00:42:58.800 --> 00:43:02.830\nBut nine to five, that's when really the\nbulk of the work gets done around here.\n\n981\n00:43:02.830 --> 00:43:03.640\nSo if I want a monitor,\n\n982\n00:43:03.640 --> 00:43:06.930\nI really want to see what my servers\nare doing from nine to five.\n\n983\n00:43:06.930 --> 00:43:09.410\nThe other thing is,\nwe don't work on the weekends.\n\n984\n00:43:09.410 --> 00:43:11.350\nSaturdays and\nSundays are pretty much empty here.\n\n985\n00:43:11.350 --> 00:43:14.050\nSo there's not really a lot\nof point in monitoring those.\n\n986\n00:43:14.050 --> 00:43:17.980\nSo if I want to see a week in\nthe life of my server, well,\n\n987\n00:43:17.980 --> 00:43:20.370\nI could just pick one day,\nand monitor nine to five.\n\n988\n00:43:20.370 --> 00:43:24.020\nBut Mondays might be\ndifferent than Tuesdays, and\n\n989\n00:43:24.020 --> 00:43:27.090\nyou know the last day of the month might\nbe different than the middle of the month.\n\n990\n00:43:27.090 --> 00:43:31.225\nAnd so you gotta keep all that in mind\nwhen you choose your sampling intervals.\n\n991\n00:43:31.225 --> 00:43:32.315\nThen.\n\n992\n00:43:32.315 --> 00:43:35.115\n>> And you can add as many schedules\nas you need to under there, so.\n\n993\n00:43:35.115 --> 00:43:36.795\nClick Add, type in a schedule.\n\n994\n00:43:36.795 --> 00:43:38.555\nClick Add again and add more schedules.\n\n995\n00:43:38.555 --> 00:43:42.130\n>> Just limited to the amount of work\nyou're willing to put in, which, for\n\n996\n00:43:42.130 --> 00:43:43.010\nme, sometimes not much.\n\n997\n00:43:43.010 --> 00:43:44.420\nSo I'm going to specify.\n\n998\n00:43:44.420 --> 00:43:48.360\n>> That's what we have our producer for.\n\n999\n00:43:48.360 --> 00:43:52.480\n>> So I'll define here I want\nit to start January 21st, 2014.\n\n1000\n00:43:52.480 --> 00:43:57.290\nI'll set a start time, and\nI'm going to change this to be just 9am.\n\n1001\n00:43:57.290 --> 00:43:58.050\nAll right.\n\n1002\n00:43:58.050 --> 00:44:00.690\nAnd I want it to run\nMonday through Friday.\n\n1003\n00:44:00.690 --> 00:44:02.520\n>> No Saturday, no Sunday.\n\n1004\n00:44:02.520 --> 00:44:05.790\n>> And I'll set it to expire.\n\n1005\n00:44:05.790 --> 00:44:11.550\nSo, you know, actually here,\nlet's start it on the 20th, there.\n\n1006\n00:44:11.550 --> 00:44:13.100\nAnd it'll expire on the 24th.\n\n1007\n00:44:13.100 --> 00:44:16.660\nSo now it's gonna monitor Monday\nthrough Friday from 9 to 5.\n\n1008\n00:44:16.660 --> 00:44:19.976\nIt's gonna record a week\nin the life of my server.\n\n1009\n00:44:19.976 --> 00:44:20.700\nAll right.\n\n1010\n00:44:20.700 --> 00:44:24.810\nAnd then I can compare that down\nthe road when we have issues or\n\n1011\n00:44:24.810 --> 00:44:28.230\nwhatever, cuz here I've got\nan entire week to sample off of.\n\n1012\n00:44:28.230 --> 00:44:29.760\nRight.\n>> If we leave it just like that, though,\n\n1013\n00:44:29.760 --> 00:44:33.476\nwe're gonna end up with one big old file,\nright, cuz we didn't really define our\n\n1014\n00:44:33.476 --> 00:44:37.590\nstop condition yet, so that will\nprobably be our next little challenge.\n\n1015\n00:44:37.590 --> 00:44:41.570\n>> Yep, so under our stop condition,\nwe can specify, you know,\n\n1016\n00:44:41.570 --> 00:44:42.480\nwhen we want it to stop.\n\n1017\n00:44:42.480 --> 00:44:47.200\nNow, I did set the schedule\nto expire after the 24th.\n\n1018\n00:44:47.200 --> 00:44:50.050\nSo it will run Monday, Tuesday,\nWednesday, Thursday, Friday, and\n\n1019\n00:44:50.050 --> 00:44:50.920\nthen after that it will expire.\n\n1020\n00:44:50.920 --> 00:44:52.590\nSo it should stop on its own.\n\n1021\n00:44:52.590 --> 00:44:54.660\nBut, if you leave it open ended,\n\n1022\n00:44:54.660 --> 00:44:58.760\nif you don't put an expiration,\nyou can do exactly what Michael's saying.\n\n1023\n00:44:58.760 --> 00:45:01.440\nYou can set a duration, and say-\n>> Even with your schedule, the way you\n\n1024\n00:45:01.440 --> 00:45:05.040\ngot it setup, if it starts off at 9\nAM Monday, what's gonna get it to stop?\n\n1025\n00:45:05.040 --> 00:45:07.770\nI don't think it's ever gonna\nstop until your expiration date.\n\n1026\n00:45:07.770 --> 00:45:08.990\nI thought it did.\n\n1027\n00:45:08.990 --> 00:45:10.340\n>> It doesn't know when to stop.\n\n1028\n00:45:10.340 --> 00:45:11.670\n>> You know, that's a good point.\n\n1029\n00:45:11.670 --> 00:45:12.830\nI told it to start at 9 AM.\n\n1030\n00:45:12.830 --> 00:45:14.170\nI never did tell it to stop, so.\n\n1031\n00:45:14.170 --> 00:45:17.130\n>> You're basically gonna have,\nI don't know how many hours.\n\n1032\n00:45:17.130 --> 00:45:17.660\n>> Well, good point.\n\n1033\n00:45:17.660 --> 00:45:18.730\n>> That would be five times 24.\n\n1034\n00:45:18.730 --> 00:45:22.670\n>> So if we want to do nine to five, then\nwe need to cap this at eight hours, right.\n\n1035\n00:45:22.670 --> 00:45:23.270\n>> Yeah.\nExactly.\n\n1036\n00:45:23.270 --> 00:45:24.120\n>> Good point.\n>> Exactly.\n\n1037\n00:45:24.120 --> 00:45:25.510\n>> See,\nthat's why I keep you around, Mike.\n\n1038\n00:45:25.510 --> 00:45:26.080\nOne point for you.\n\n1039\n00:45:26.080 --> 00:45:27.930\n>> Whew.\nGood for one more week.\n\n1040\n00:45:27.930 --> 00:45:31.320\n>> All right, so\nI'll set an overall, well.\n\n1041\n00:45:31.320 --> 00:45:34.330\n>> So maybe eight hour overall duration,\nor something like that.\n\n1042\n00:45:34.330 --> 00:45:38.250\n>> Eight hours, there we go and then you\nknow it's going to restart on Tuesday.\n\n1043\n00:45:38.250 --> 00:45:42.210\nRun for eight hours then restart\non Wednesday, so that's good.\n\n1044\n00:45:42.210 --> 00:45:44.954\nWe can also go in and\nwe can set other limits here if we want,\n\n1045\n00:45:44.954 --> 00:45:47.320\nwe can do a maximum five,\nFile size, [CROSSTALK].\n\n1046\n00:45:47.320 --> 00:45:50.263\n>> I kind of like that occasionally\nthough, if you don't have any idea of how\n\n1047\n00:45:50.263 --> 00:45:52.830\nbig those files are gonna get,\nyou might wanna put one on every.\n\n1048\n00:45:52.830 --> 00:45:55.150\nReally with our four counters it\nshouldnt be all that big right?\n\n1049\n00:45:55.150 --> 00:45:55.680\n>> Nah.\n>> But\n\n1050\n00:45:55.680 --> 00:45:58.910\nwith some of those built in templates and\nthings like that, that have dozens and\n\n1051\n00:45:58.910 --> 00:46:00.330\ndozens of counters on there.\n\n1052\n00:46:00.330 --> 00:46:01.320\nYou could eat up some disk space.\n\n1053\n00:46:01.320 --> 00:46:02.780\n>> And then, I'm gonna go ahead and\n\n1054\n00:46:02.780 --> 00:46:05.610\ntell it, when all the data\ncollectors have finished.\n\n1055\n00:46:05.610 --> 00:46:09.970\nSo, when Friday runs for eight hours,\ngo ahead and stop the collector.\n\n1056\n00:46:09.970 --> 00:46:11.970\nThere's no sense in running it anymore.\n\n1057\n00:46:11.970 --> 00:46:13.350\nAnd so, we'll go ahead and set that.\n\n1058\n00:46:14.770 --> 00:46:17.290\nAnd now, we've got a schedule, all right?\n\n1059\n00:46:17.290 --> 00:46:18.030\nNow it's gonna kick in.\n\n1060\n00:46:18.030 --> 00:46:22.070\nNow, we've already missed Monday and\nTuesday morning's kick off and so\n\n1061\n00:46:22.070 --> 00:46:24.290\nnow it would kick off tomorrow morning.\n\n1062\n00:46:24.290 --> 00:46:25.985\nI don't have that kind of patience.\n\n1063\n00:46:25.985 --> 00:46:30.405\nSo, actually now let me just refresh to\nmake sure that it didn't actually start.\n\n1064\n00:46:30.405 --> 00:46:33.095\nI'm pretty sure it doesn't.\n\n1065\n00:46:33.095 --> 00:46:34.375\nYeah.\n\n1066\n00:46:34.375 --> 00:46:36.375\nSo I'll go ahead and and start it myself.\n\n1067\n00:46:36.375 --> 00:46:38.505\nAll right, so it's gonna start now\nit's gonna run for eight hours,\n\n1068\n00:46:38.505 --> 00:46:42.110\nand, shoot, you know, I forgot something.\n\n1069\n00:46:42.110 --> 00:46:45.330\nSo, in here, under the stop condition.\n\n1070\n00:46:45.330 --> 00:46:48.390\nI chose to stop when all data\ncollectors are finished.\n\n1071\n00:46:48.390 --> 00:46:51.220\nIt's going to kick them on,\nand then stop again.\n\n1072\n00:46:51.220 --> 00:46:54.770\nBecause of the registry monitors and\nstuff.\n\n1073\n00:46:54.770 --> 00:46:56.710\nThey don't react well with that,\nso I need to turn that off.\n\n1074\n00:46:57.810 --> 00:46:59.880\nThe other thing is, let's see.\n\n1075\n00:46:59.880 --> 00:47:00.850\n>> Our sample interval.\n\n1076\n00:47:00.850 --> 00:47:01.970\nWe have not really configured it.\n\n1077\n00:47:01.970 --> 00:47:02.870\n>> Yeah, where is that, Mike?\n\n1078\n00:47:02.870 --> 00:47:04.300\n>> That's gonna be, if you go to the.\n\n1079\n00:47:04.300 --> 00:47:07.910\nClose those properties and\nselect the big four on the left.\n\n1080\n00:47:07.910 --> 00:47:09.010\n>> All right.\n>> And then right-click\n\n1081\n00:47:09.010 --> 00:47:11.390\non your system monitor log out\nthere in the details area.\n\n1082\n00:47:12.440 --> 00:47:14.000\nAnd that should,\nthat's where you can go in and\n\n1083\n00:47:14.000 --> 00:47:18.810\nset the sample interval as well as\nreadjust what counters you're gonna add,\n\n1084\n00:47:18.810 --> 00:47:21.290\nyou know, if you're going to add or\nremove some of those counters there.\n\n1085\n00:47:21.290 --> 00:47:21.950\n>> All right.\n\n1086\n00:47:21.950 --> 00:47:25.640\nNow the sample interval that Mike\nmentioned, the default is every\n\n1087\n00:47:25.640 --> 00:47:29.680\none second it's going to gather these\nvalues and stick them into a file.\n\n1088\n00:47:29.680 --> 00:47:31.970\nIf you're just monitoring for\na few minutes, it's not a big deal.\n\n1089\n00:47:31.970 --> 00:47:35.840\nBut if you're monitoring for a week,\nlike we're doing, it's a lot of data.\n\n1090\n00:47:35.840 --> 00:47:37.830\nSo you probably wanna change this right?\n\n1091\n00:47:37.830 --> 00:47:40.600\n>> So that's eight hours times 60\nminutes times 60 seconds, yeah-\n\n1092\n00:47:40.600 --> 00:47:42.010\n>> It's a lot of samples.\n\n1093\n00:47:42.010 --> 00:47:43.990\nNow you don't wanna go too small.\n\n1094\n00:47:43.990 --> 00:47:45.167\nYou need to think about\nwhat you wanna monitor.\n\n1095\n00:47:45.167 --> 00:47:48.688\nSo I said earlier,\nif your CPU is averaging 80%,\n\n1096\n00:47:48.688 --> 00:47:50.856\nit's time to upgrade, right?\n\n1097\n00:47:50.856 --> 00:47:54.513\nWell, what if it just spikes to 80%,\nthat's not enough.\n\n1098\n00:47:54.513 --> 00:47:57.389\nI need to see an 80% average\nover an extended period of time,\n\n1099\n00:47:57.389 --> 00:48:00.580\nover five minutes, over ten minutes,\nsomething like that.\n\n1100\n00:48:00.580 --> 00:48:04.280\nSo, what I like to do is change\nthis to about once a minute.\n\n1101\n00:48:05.420 --> 00:48:09.880\nNow I've significantly reduced,\nby an order of magnitude, I've reduced\n\n1102\n00:48:09.880 --> 00:48:13.990\nthe amount of samples we're going to take,\nmakes it much more manageable.\n\n1103\n00:48:13.990 --> 00:48:17.230\nKeep in mind that it is set on a per,\nI'm wrong.\n\n1104\n00:48:17.230 --> 00:48:19.335\nI thought it was on a per-counter basis.\n\n1105\n00:48:19.335 --> 00:48:21.004\nIt isn't.\n\n1106\n00:48:21.004 --> 00:48:21.879\n>> Yeah.\n>> All right, so\n\n1107\n00:48:21.879 --> 00:48:24.660\nthat makes it easy, cuz I was about to\nhave to change on every one of them.\n\n1108\n00:48:24.660 --> 00:48:25.650\nSo, there we go.\n\n1109\n00:48:25.650 --> 00:48:27.430\nIt changed on all of them, there we go.\n\n1110\n00:48:27.430 --> 00:48:29.200\nAnd so now I'm taking that sample.\n\n1111\n00:48:29.200 --> 00:48:33.090\nOnce a minute, it'll gather these values,\nand store them, and\n\n1112\n00:48:33.090 --> 00:48:35.860\nthen it won't gather it again until\nthe next minute, and then the next minute.\n\n1113\n00:48:35.860 --> 00:48:38.720\nSo over the course of an hour\nI'll get 60 samples, and\n\n1114\n00:48:38.720 --> 00:48:41.310\nthat'll be enough for\nme to measure my trends.\n\n1115\n00:48:41.310 --> 00:48:44.390\n>> You'll miss those spikes, but\nyou would see it if it stayed up there for\n\n1116\n00:48:44.390 --> 00:48:45.500\nan extended period of time.\n\n1117\n00:48:45.500 --> 00:48:46.330\n>> Yep.\n\n1118\n00:48:46.330 --> 00:48:48.320\nSo that should be good there.\n\n1119\n00:48:48.320 --> 00:48:51.105\nI can jump onto the file and\nI can change the file name and stuff.\n\n1120\n00:48:51.105 --> 00:48:54.340\nI don't really need that,\nso we'll just leave it be.\n\n1121\n00:48:54.340 --> 00:48:59.190\nYou know one thing I do want to do, under\nFile, you've got the option down here for\n\n1122\n00:48:59.190 --> 00:49:00.350\nthe log mode.\n\n1123\n00:49:00.350 --> 00:49:03.360\nBecause ours is going to\nkick off on multiple days,\n\n1124\n00:49:03.360 --> 00:49:07.360\nthe default is it's going to\ncreate a new file each day.\n\n1125\n00:49:07.360 --> 00:49:08.340\nBut I don't want that.\n\n1126\n00:49:08.340 --> 00:49:10.140\nI want it to append.\n\n1127\n00:49:10.140 --> 00:49:11.010\n>> Make one big file out of it.\n\n1128\n00:49:11.010 --> 00:49:11.610\n>> Yeah.\n\n1129\n00:49:11.610 --> 00:49:15.070\nSo I've got my week of data just right\nthere in one file that I can reference,\n\n1130\n00:49:15.070 --> 00:49:16.420\nand so that's what I'm gonna choose.\n\n1131\n00:49:16.420 --> 00:49:17.110\n>> I like it.\n\n1132\n00:49:17.110 --> 00:49:18.000\n>> All right.\n\n1133\n00:49:18.000 --> 00:49:18.830\nSo we'll apply that.\n\n1134\n00:49:21.410 --> 00:49:22.561\nAnd now we'll start it.\n\n1135\n00:49:22.561 --> 00:49:23.967\n>> Woohoo!\n\n1136\n00:49:26.823 --> 00:49:30.082\n>> Cannot create a file when that file\nalready exists, it's mad at me for\n\n1137\n00:49:30.082 --> 00:49:31.150\nstarting a second ago.\n\n1138\n00:49:31.150 --> 00:49:32.429\nSo let's go clear out of that file.\n\n1139\n00:49:38.013 --> 00:49:40.830\nAnd so I'm just browsing into\nthat C: perf logs folder.\n\n1140\n00:49:40.830 --> 00:49:45.010\nYou'll see it's got permissions where\nonly administrators can get in there, and\n\n1141\n00:49:45.010 --> 00:49:47.610\nit's going to continue to annoy\nme on that one, there we go.\n\n1142\n00:49:47.610 --> 00:49:49.370\nAnd so\nhere's where it started logging earlier.\n\n1143\n00:49:49.370 --> 00:49:50.749\nI'm just going to delete out these files.\n\n1144\n00:49:51.760 --> 00:49:53.555\nThat's all the log data\nthat it already collected.\n\n1145\n00:49:53.555 --> 00:49:54.790\n>> Mm-hm.\n\n1146\n00:49:54.790 --> 00:49:56.690\n>> And I will restart.\n\n1147\n00:49:56.690 --> 00:49:58.410\nThird time's the charm, right?\n\n1148\n00:49:58.410 --> 00:49:59.310\n>> Booyah.\n\n1149\n00:49:59.310 --> 00:50:00.010\n>> There we go.\n\n1150\n00:50:00.010 --> 00:50:01.030\n>> Now we're talking.\n\n1151\n00:50:01.030 --> 00:50:01.900\n>> It's running, and\n\n1152\n00:50:01.900 --> 00:50:05.760\nI know it's running because it's got\na little green arrow, and it says running.\n\n1153\n00:50:05.760 --> 00:50:09.280\n>> Woohoo.\n[LAUGH] And they wouldn't lie to us.\n\n1154\n00:50:09.280 --> 00:50:12.380\n>> No, no, of course not,\nthat would be crazy, crazy talk.\n\n1155\n00:50:12.380 --> 00:50:13.190\nAll right.\nWell,\n\n1156\n00:50:13.190 --> 00:50:15.510\nI've gotta set the sample once a minute,\nand so\n\n1157\n00:50:15.510 --> 00:50:19.830\nwe'll probably be kind of bored standing\naround here waiting for minutes.\n\n1158\n00:50:19.830 --> 00:50:21.750\n>> Yeah,\nwe can make some activity on there, but\n\n1159\n00:50:21.750 --> 00:50:23.640\nwe're gonna have to wait a little while.\n\n1160\n00:50:23.640 --> 00:50:25.074\n[CROSSTALK]\n>> While we're waiting,\n\n1161\n00:50:25.074 --> 00:50:26.740\nlet's look at a few things.\n\n1162\n00:50:26.740 --> 00:50:29.330\nSo while we're waiting,\nit is creating files on the hard drive.\n\n1163\n00:50:29.330 --> 00:50:31.210\nSee how it's recreated these files?\n\n1164\n00:50:31.210 --> 00:50:33.480\nAnd this log one,\nthat's the one that I really care about.\n\n1165\n00:50:33.480 --> 00:50:34.920\nThat's my performance logs.\n\n1166\n00:50:34.920 --> 00:50:37.740\nBut you'll see,\nthere's my event trace running.\n\n1167\n00:50:37.740 --> 00:50:40.150\nAnd the other thing was the configuration.\n\n1168\n00:50:40.150 --> 00:50:41.150\n>> Config hasn't shown up yet.\n\n1169\n00:50:41.150 --> 00:50:43.000\n>> Apparently,\nwell we probably haven't changed anything,\n\n1170\n00:50:43.000 --> 00:50:45.310\nif nothing changes then\nit's not gonna do it.\n\n1171\n00:50:45.310 --> 00:50:50.800\nSo I'll, just to have some fun here,\nI'll go and create a registry entry.\n\n1172\n00:50:50.800 --> 00:50:51.500\nWhat did I monitor?\n\n1173\n00:50:51.500 --> 00:50:53.290\nHKEY Local Machine Software?\n\n1174\n00:50:53.290 --> 00:50:54.039\n>> Software, yes.\n\n1175\n00:50:55.750 --> 00:50:57.394\n>> All right, so we'll dig in here,\n\n1176\n00:50:57.394 --> 00:51:00.532\nwe don't have much software installed\non here so I guess I could.\n\n1177\n00:51:00.532 --> 00:51:04.732\nI'll create a new one here, Microsoft,\n\n1178\n00:51:04.732 --> 00:51:09.413\nI'll do a new key,\nwhich I'll call ITProTV.\n\n1179\n00:51:09.413 --> 00:51:12.477\n>> Don't try this at home boys and girls,\n[CROSSTALK] editing that registry.\n\n1180\n00:51:12.477 --> 00:51:17.956\n[LAUGH]\n>> And I'll do a, let's do a D word value.\n\n1181\n00:51:17.956 --> 00:51:21.191\nOf Being Stinks.\n\n1182\n00:51:21.191 --> 00:51:22.800\nAnd we'll set that to one.\n\n1183\n00:51:22.800 --> 00:51:23.370\n>> For true.\n[LAUGH]\n\n1184\n00:51:23.370 --> 00:51:24.950\n>> Which is for true, yes.\n\n1185\n00:51:24.950 --> 00:51:26.140\nAll right.\n\n1186\n00:51:26.140 --> 00:51:28.370\nSo there.\nSo I created a registry entry.\n\n1187\n00:51:28.370 --> 00:51:32.097\nSo now there's a registry entry,\nit should pick that up, and\n\n1188\n00:51:32.097 --> 00:51:35.550\nwhen it does we'll see a little\nfile appear or whatever.\n\n1189\n00:51:35.550 --> 00:51:36.710\nSo we'll let that run.\n\n1190\n00:51:36.710 --> 00:51:38.300\n>> Cool.\n>> The other thing we can check out\n\n1191\n00:51:38.300 --> 00:51:40.420\nwhile we're in here waiting is,\n\n1192\n00:51:40.420 --> 00:51:44.290\nonce this is done, there's a couple\nof ways we can view the data.\n\n1193\n00:51:44.290 --> 00:51:46.460\nMike and\nI were talking about it during the break.\n\n1194\n00:51:46.460 --> 00:51:50.140\nYou know, I like to go right up\nto my performance monitor, here.\n\n1195\n00:51:50.140 --> 00:51:53.030\nAnd you can use this to\nview historical data also.\n\n1196\n00:51:53.030 --> 00:51:53.750\nTo load it from a file.\n\n1197\n00:51:53.750 --> 00:51:55.320\nThat's the way I've always done it.\n\n1198\n00:51:55.320 --> 00:51:58.241\nBut Mike, you prefer the report view.\n\n1199\n00:51:58.241 --> 00:51:59.145\n>> I go down to the reports.\n\n1200\n00:51:59.145 --> 00:52:01.795\nAnd again, as we were talking earlier,\nthere's advantages to both ways, so\n\n1201\n00:52:01.795 --> 00:52:03.440\nwe should show them both.\n\n1202\n00:52:03.440 --> 00:52:05.570\nWhat I like about the reports,\nI don't have to add anything.\n\n1203\n00:52:05.570 --> 00:52:08.780\nI don't have to open anything up, do\nanything, I just have to go down there and\n\n1204\n00:52:08.780 --> 00:52:10.830\nthere's our big four, and\nif we expand that out.\n\n1205\n00:52:10.830 --> 00:52:15.230\nI don't know if it's accessible yet\nbecause it's still running, but\n\n1206\n00:52:15.230 --> 00:52:18.070\nyeah, there's our log file,\nand it hasn't generated.\n\n1207\n00:52:18.070 --> 00:52:21.280\nSo, it's in the process of running,\nso we don't get to see it yet.\n\n1208\n00:52:21.280 --> 00:52:25.370\nBut when you go down there, you're\ngonna see the log file that it created.\n\n1209\n00:52:25.370 --> 00:52:28.090\nYou click on that, and\nit's gonna show you that graph, and\n\n1210\n00:52:28.090 --> 00:52:32.260\nyou can switch to report view, or graph\nview, or bar chart view, or what have you.\n\n1211\n00:52:32.260 --> 00:52:35.230\nBut all the counters that you added to\nthe data collector set are all going to be\n\n1212\n00:52:35.230 --> 00:52:38.610\nthere already, so\nthat's the way I like to do it.\n\n1213\n00:52:38.610 --> 00:52:41.230\n>> All right, well, let's do this,\nwhy don't we stop here and take a break?\n\n1214\n00:52:41.230 --> 00:52:42.700\n>> Okay.\n>> And we'll just let it run during\n\n1215\n00:52:42.700 --> 00:52:45.080\nthe break, and\nwhen we're done we'll stop it.\n\n1216\n00:52:45.080 --> 00:52:47.800\n>> And, you know, recover from there,\nand we'll see what happens.\n\n1217\n00:52:47.800 --> 00:52:48.485\n>> Okay.\n\n1218\n00:52:48.485 --> 00:52:49.348\n>> Should be fun and exciting.\n\n1219\n00:52:49.348 --> 00:52:50.262\nNever know?\n\n1220\n00:52:50.262 --> 00:52:52.500\n[LAUGH] All right, stay tuned.\n\n1221\n00:52:52.500 --> 00:52:55.270\nWhen we get back,\nwe'll see what happens with our logs.\n\n1222\n00:52:55.270 --> 00:53:02.410\n[MUSIC]\n\n1223\n00:53:02.410 --> 00:53:05.560\nAll right, welcome back, everybody.\n\n1224\n00:53:05.560 --> 00:53:06.870\nSo during the break, you know,\n\n1225\n00:53:06.870 --> 00:53:10.220\nwe let our data collector run,\nand it's collected data.\n\n1226\n00:53:10.220 --> 00:53:12.600\n>> Hopefully.\n>> Cause that's what it's name is.\n\n1227\n00:53:12.600 --> 00:53:15.090\nSo I went ahead and\nI just stopped it a second ago, and\n\n1228\n00:53:15.090 --> 00:53:17.740\nI can see that it did\nactually collect data.\n\n1229\n00:53:17.740 --> 00:53:20.045\nCuz these little files\nare populated which is good.\n\n1230\n00:53:20.045 --> 00:53:20.860\n>> Woohoo!\n\n1231\n00:53:20.860 --> 00:53:22.050\n>> So, it gathered some data.\n\n1232\n00:53:22.050 --> 00:53:22.710\n>> Huge files, too.\n\n1233\n00:53:22.710 --> 00:53:23.280\n>> And, [LAUGH] yeah.\n\n1234\n00:53:23.280 --> 00:53:25.130\n>> Gotta be careful with those.\n\n1235\n00:53:25.130 --> 00:53:27.280\n>> We monitored, what, maybe 15 minutes.\n\n1236\n00:53:27.280 --> 00:53:32.710\nAnd so it generated about 135K for\n15 minutes of monitoring.\n\n1237\n00:53:32.710 --> 00:53:35.210\nSo that's what, 250,\n500 for an hour maybe?\n\n1238\n00:53:35.210 --> 00:53:35.730\n8 hours.\n\n1239\n00:53:35.730 --> 00:53:38.200\nYou're talking about.\n\n1240\n00:53:38.200 --> 00:53:39.520\n>> About four megs of data.\n\n1241\n00:53:39.520 --> 00:53:40.800\nFour or five megs of data.\n\n1242\n00:53:40.800 --> 00:53:42.520\nSo not a ton of space.\n\n1243\n00:53:42.520 --> 00:53:44.990\nBut it does,\nif you were to just leave this running.\n\n1244\n00:53:44.990 --> 00:53:48.030\nObviously it could grow and grow,\nand fill your hard drive eventually.\n\n1245\n00:53:48.030 --> 00:53:50.530\nBut, for the most part,\nit's not a significant amount.\n\n1246\n00:53:50.530 --> 00:53:54.850\nNow it's this small because I\nchose to monitor once a minute.\n\n1247\n00:53:54.850 --> 00:53:58.360\nIf I left it at once a second,\nmultiply this by 60.\n\n1248\n00:53:58.360 --> 00:54:00.620\n>> It would be 60 times as large, right?\n\n1249\n00:54:00.620 --> 00:54:01.170\n>> Yep.\nSo\n\n1250\n00:54:01.170 --> 00:54:04.770\nit definitely gets much larger much\nfaster if you leave it at the defaults.\n\n1251\n00:54:04.770 --> 00:54:07.340\n>> And we only got like what\nsix counters in there I think.\n\n1252\n00:54:07.340 --> 00:54:12.440\nIf we added more counters, that would\nall influence it and other things.\n\n1253\n00:54:12.440 --> 00:54:14.220\nLike the registry and the event viewers.\n\n1254\n00:54:14.220 --> 00:54:15.150\nWe did them filtered.\n\n1255\n00:54:15.150 --> 00:54:18.300\nIf we had just selected everything,\nwhich you can do.\n\n1256\n00:54:18.300 --> 00:54:21.020\nThe log files grow much,\nmuch more quickly.\n\n1257\n00:54:21.020 --> 00:54:24.160\n>> So let's see what we got, what kinda\ngood juicy info did we get on our servers?\n\n1258\n00:54:24.160 --> 00:54:27.350\n>> All right, let's start looking at\nit my way, which is the hard way.\n\n1259\n00:54:27.350 --> 00:54:30.070\nAnd then we'll look at it Mike's way,\nwhich is the easy way.\n\n1260\n00:54:30.070 --> 00:54:30.980\n>> The lazy way.\n\n1261\n00:54:30.980 --> 00:54:34.290\n>> The hard way is the old way, back in\nthe old days, there was only one way for\n\n1262\n00:54:34.290 --> 00:54:35.600\nus to look at the data.\n\n1263\n00:54:35.600 --> 00:54:37.120\nWhen you have archived data, right?\n\n1264\n00:54:37.120 --> 00:54:38.460\nSo now maybe this is my baseline.\n\n1265\n00:54:38.460 --> 00:54:40.970\nSo I take this data and\nI copy it and I store it somewhere.\n\n1266\n00:54:40.970 --> 00:54:45.850\nAnd whenever I want to see my baseline,\nI can go back into my performance monitor,\n\n1267\n00:54:45.850 --> 00:54:50.550\nand the default is that this\nlittle chart button is hit and\n\n1268\n00:54:50.550 --> 00:54:53.110\nthat means that we're viewing current,\nlive data.\n\n1269\n00:54:53.110 --> 00:54:54.950\n>> What's going on on\nthe receiving right now?\n\n1270\n00:54:54.950 --> 00:54:58.060\n>> But the button right\nbeside it is View Log Data.\n\n1271\n00:54:58.060 --> 00:55:02.010\nThat lets you open and read these\nlog files and see what's in them.\n\n1272\n00:55:02.010 --> 00:55:02.940\nSo that's what I'm going to do.\n\n1273\n00:55:02.940 --> 00:55:04.450\nI'm going to choose that.\n\n1274\n00:55:04.450 --> 00:55:07.180\nAnd we can add in our log files.\n\n1275\n00:55:07.180 --> 00:55:09.291\nAnd so I'll browse into [CROSSTALK].\n\n1276\n00:55:09.291 --> 00:55:12.285\n>> I remember the first time I\nlooked at this, this drove me crazy.\n\n1277\n00:55:12.285 --> 00:55:15.010\nBecause I went in here,\nI did what you're doing.\n\n1278\n00:55:15.010 --> 00:55:17.500\nAnd I didn't do what I think\nyou're getting ready to do.\n\n1279\n00:55:17.500 --> 00:55:19.720\nI just went in and grabbed my log file.\n\n1280\n00:55:19.720 --> 00:55:22.080\nWent back, opened it up,\nand there was no data.\n\n1281\n00:55:22.080 --> 00:55:23.760\nAnd I'm, like, what the hell is going on?\n\n1282\n00:55:23.760 --> 00:55:26.020\nI know there's data in this file.\n\n1283\n00:55:26.020 --> 00:55:28.860\nSo there's two things we need to worry\nabout when we open up the file to make\n\n1284\n00:55:28.860 --> 00:55:30.290\nsure it's not empty.\n\n1285\n00:55:30.290 --> 00:55:32.437\nThe first is if you go under Data,\n\n1286\n00:55:32.437 --> 00:55:35.596\nit shows the counters that\nyou chose to monitor.\n\n1287\n00:55:35.596 --> 00:55:41.356\nAnd you have to add them in order to\nactually see them on your screen, and\n\n1288\n00:55:41.356 --> 00:55:47.607\nso that's what I'm going to here is just\ngo through and add each one of these.\n\n1289\n00:55:47.607 --> 00:55:48.965\n>> You should just add the whole category,\nyeah.\n\n1290\n00:55:48.965 --> 00:55:53.109\n>> Yeah, and it's not like before where\nI'm adding thousands of counters or\n\n1291\n00:55:53.109 --> 00:55:53.780\nwhatever.\n\n1292\n00:55:53.780 --> 00:55:56.730\nI'm just adding the ones\nthat I chose to record, so.\n\n1293\n00:55:56.730 --> 00:55:58.320\n>> If you expand out processor,\n\n1294\n00:55:58.320 --> 00:56:01.890\ninstead of having that big old list of all\nthe available counters, the only counters\n\n1295\n00:56:01.890 --> 00:56:05.520\nthat are there are the ones that you\nchose to record in the first place.\n\n1296\n00:56:05.520 --> 00:56:08.100\n>> So I'm just going to add all\nthose in and check them in.\n\n1297\n00:56:08.100 --> 00:56:11.310\nNow you do have to be careful on some\nof them where it's going to this\n\n1298\n00:56:11.310 --> 00:56:13.080\nall instances again.\n\n1299\n00:56:13.080 --> 00:56:16.410\nBut for us because I only\nrecorded the C drive or whatever,\n\n1300\n00:56:16.410 --> 00:56:18.220\nit's fine we don't have to worry about it.\n\n1301\n00:56:18.220 --> 00:56:22.440\nBut, so they were already put in there,\nso it's just kinda griping at me.\n\n1302\n00:56:22.440 --> 00:56:23.740\nBut yeah, so there they are.\n\n1303\n00:56:23.740 --> 00:56:25.420\nSo we're monitoring them, it's happy.\n\n1304\n00:56:25.420 --> 00:56:30.770\nThe other thing is, when you define a\nsource, you can also define a time range.\n\n1305\n00:56:30.770 --> 00:56:33.300\nAnd for our sharp eyed viewers,\n\n1306\n00:56:33.300 --> 00:56:35.540\nyou might've noticed how\nthat was blank a moment ago.\n\n1307\n00:56:35.540 --> 00:56:38.990\nBut now that I changed halves and\ncame back, it's populated.\n\n1308\n00:56:38.990 --> 00:56:39.630\nIt does that.\n\n1309\n00:56:39.630 --> 00:56:40.590\nIt's always done that.\n\n1310\n00:56:40.590 --> 00:56:41.260\nI don't know why.\n\n1311\n00:56:41.260 --> 00:56:42.150\n>> Just a little quirk.\n\n1312\n00:56:42.150 --> 00:56:43.950\n>> But you can specify the time range.\n\n1313\n00:56:43.950 --> 00:56:47.130\nIf I had actually monitored for\na full week.\n\n1314\n00:56:47.130 --> 00:56:49.720\nMaybe I'm having a bad day on a Tuesday,\nso\n\n1315\n00:56:49.720 --> 00:56:52.300\nI just wanna see my baseline for Tuesday.\n\n1316\n00:56:52.300 --> 00:56:57.730\nAnd so you can go in and adjust this to\njust grab that Tuesday window of time.\n\n1317\n00:56:57.730 --> 00:56:58.230\n>> Yeah, right.\nOr\n\n1318\n00:56:58.230 --> 00:57:01.070\nif you had an issue sometime\nafter lunch on Tuesday,\n\n1319\n00:57:01.070 --> 00:57:03.030\nyou can drop it down to\na couple hours after lunch.\n\n1320\n00:57:03.030 --> 00:57:05.320\n>> Yeah.\nCuz you want to compare apples to apples.\n\n1321\n00:57:05.320 --> 00:57:05.890\nRight?\n\n1322\n00:57:05.890 --> 00:57:08.543\nNot, not what happened the morning\non one day and evening on and\n\n1323\n00:57:08.543 --> 00:57:10.460\nanother let's compare real numbers.\n\n1324\n00:57:10.460 --> 00:57:14.110\nSo I'll do the whole thing though\nbecause our files pretty small.\n\n1325\n00:57:14.110 --> 00:57:17.300\nWhen I say okay,\ninstead of seeing one minute and\n\n1326\n00:57:17.300 --> 00:57:22.190\nforty seconds in the life of my server,\nI'm seeing 15 minutes and 59 seconds.\n\n1327\n00:57:22.190 --> 00:57:24.470\nI'm seeing 16 minutes in\nthe life of my server.\n\n1328\n00:57:24.470 --> 00:57:26.670\nAnd so, I'm getting data.\n\n1329\n00:57:26.670 --> 00:57:29.720\nWell, in this case,\nI guess it would be 16 samples, right.\n\n1330\n00:57:29.720 --> 00:57:34.010\nSo once a minute for 16 minutes,\nhere's the data on my system.\n\n1331\n00:57:34.010 --> 00:57:35.140\nAll right.\n\n1332\n00:57:35.140 --> 00:57:38.700\nSo this lets me view a much larger\namount of time and granted,\n\n1333\n00:57:38.700 --> 00:57:40.130\nwe only ran it for 15 minutes.\n\n1334\n00:57:40.130 --> 00:57:41.280\nBut if I ran it all day,\n\n1335\n00:57:41.280 --> 00:57:44.000\nyou could see throughout the day\nwhat your performance was like.\n\n1336\n00:57:44.000 --> 00:57:48.070\nAnd it's saved to these files so\nyou can compare against it in the future.\n\n1337\n00:57:48.070 --> 00:57:50.982\n>> And if this was eight hours and\nwe had captured eight hours of data,\n\n1338\n00:57:50.982 --> 00:57:53.853\nagain imagine eight hours compressed\nin that one little window.\n\n1339\n00:57:53.853 --> 00:57:57.042\nWe got the same handy little sliders\nat either end of that where we can come\n\n1340\n00:57:57.042 --> 00:57:57.889\ncompress it down.\n\n1341\n00:57:57.889 --> 00:58:00.292\nWe see an interesting peak\nsomewhere in those numbers.\n\n1342\n00:58:00.292 --> 00:58:02.950\nWe can zoom right into that area and\ntake a look at it.\n\n1343\n00:58:02.950 --> 00:58:04.390\n>> Yeah so it's all pretty cool stuff.\n\n1344\n00:58:04.390 --> 00:58:07.520\nNow, the only negative about viewing it\nthis way, well there's two negatives.\n\n1345\n00:58:07.520 --> 00:58:08.660\nOne it's kind of hard.\n\n1346\n00:58:08.660 --> 00:58:13.080\nAnd two, what happened to that\nevent viewer and trace information?\n\n1347\n00:58:13.080 --> 00:58:14.200\nThis doesn't show it.\n\n1348\n00:58:14.200 --> 00:58:17.360\nI don't see that and that's because\nthis is the old way of monitoring it.\n\n1349\n00:58:17.360 --> 00:58:20.450\nThey didn't have all the other stuff\nback when they originally developed\n\n1350\n00:58:20.450 --> 00:58:21.660\nthis, right?\n\n1351\n00:58:21.660 --> 00:58:25.400\nSo that's where the reports come in\nhandy and that's your baby right Mike?\n\n1352\n00:58:25.400 --> 00:58:26.685\n>> Yeah I like going down there,\n\n1353\n00:58:26.685 --> 00:58:30.430\ncuz under user defined any reports you\ngenerated are gonna show up there.\n\n1354\n00:58:30.430 --> 00:58:32.130\nYou just select it and\n\n1355\n00:58:32.130 --> 00:58:34.455\nit's gonna open out there in that\nwindow and there's your data.\n\n1356\n00:58:34.455 --> 00:58:36.455\nAnd if you had to go back and\nadd counters,\n\n1357\n00:58:36.455 --> 00:58:38.565\nthey're already added down there.\n\n1358\n00:58:38.565 --> 00:58:39.815\nSo I find it handy.\n\n1359\n00:58:39.815 --> 00:58:42.005\nLike you said, the lazy man's way.\n\n1360\n00:58:42.005 --> 00:58:43.795\n>> And then we've got other options.\n\n1361\n00:58:43.795 --> 00:58:50.165\nWhat is it that we have to do in here,\nMike, to make it show the, let's see.\n\n1362\n00:58:50.165 --> 00:58:53.909\n>> You know, I don't know if I've\never gone and looked, honestly.\n\n1363\n00:58:53.909 --> 00:58:56.500\n[LAUGH]\n>> There's a way when you view it this\n\n1364\n00:58:56.500 --> 00:58:59.910\nway, to make it add in the other\ninformation, and I just don't remember it.\n\n1365\n00:58:59.910 --> 00:59:02.950\n>> That little drop down list on the left\nof the plus side, lets you change it to,\n\n1366\n00:59:02.950 --> 00:59:05.710\nlike, report view, and\nmaybe that'll show you?\n\n1367\n00:59:05.710 --> 00:59:06.500\nNo.\n\n1368\n00:59:06.500 --> 00:59:10.828\n>> Yeah that's just where it gives us the\naverage numbers and raw mass and stuff.\n\n1369\n00:59:10.828 --> 00:59:12.370\nThat's pretty.\n[LAUGH].\n\n1370\n00:59:12.370 --> 00:59:15.474\nAnyway, we can make it flashy, and\nnow it's psychedelic and trippy, but\n\n1371\n00:59:15.474 --> 00:59:17.250\nthere's a way to monitor from in here.\n\n1372\n00:59:17.250 --> 00:59:18.480\nI just don't recall it.\n\n1373\n00:59:18.480 --> 00:59:21.410\nI had it somewhere in here.\n\n1374\n00:59:22.510 --> 00:59:24.800\nWell, the other way is you can\nalways take a look at the files.\n\n1375\n00:59:24.800 --> 00:59:30.470\nNow, the files, the event log, I mean,\nthe performance log, that's a binary file.\n\n1376\n00:59:30.470 --> 00:59:32.500\nWe can't really open and edit that.\n\n1377\n00:59:32.500 --> 00:59:36.400\nBut the event trace and the configuration\ndata, you can actually edit these.\n\n1378\n00:59:36.400 --> 00:59:39.450\nI'm just gonna right click on one,\nand edit like configuration data.\n\n1379\n00:59:39.450 --> 00:59:41.300\nAnd, you know,\nlet me open that in WordPad.\n\n1380\n00:59:41.300 --> 00:59:42.770\n>> It's an XML document.\n\n1381\n00:59:42.770 --> 00:59:46.200\n>> Yeah, and if you open it in\nNotepad it doesn't do the line feeds,\n\n1382\n00:59:46.200 --> 00:59:48.140\nbecause it's in the Unix format.\n\n1383\n00:59:48.140 --> 00:59:50.510\nOr it just doesn't have live feeds.\n\n1384\n00:59:50.510 --> 00:59:53.620\nSo, you can open up, and\nit is an XML document.\n\n1385\n00:59:53.620 --> 00:59:56.060\nSo, you can go in and\nsee what registry keys were added and\n\n1386\n00:59:56.060 --> 01:00:00.430\nI'm just gonna search for Bing or ITProTV.\n\n1387\n01:00:00.430 --> 01:00:01.950\nIs it case sensitive?\n\n1388\n01:00:01.950 --> 01:00:06.680\nIt should show the only change\nthat should've happened\n\n1389\n01:00:06.680 --> 01:00:08.360\nwould be the one I put in there.\n\n1390\n01:00:08.360 --> 01:00:10.600\nBut here's HQ local machine.\n\n1391\n01:00:10.600 --> 01:00:15.480\nAnd, well, there's a bunch of key changes.\n\n1392\n01:00:15.480 --> 01:00:17.800\nLike, here management,\nobjects, results and stuff.\n\n1393\n01:00:17.800 --> 01:00:18.300\nBut it didn't-\n>> Hm.\n\n1394\n01:00:18.300 --> 01:00:20.800\n>> Pick up the changes that I made.\n\n1395\n01:00:20.800 --> 01:00:21.940\nSo,\n>> Interesting\n\n1396\n01:00:21.940 --> 01:00:23.090\n>> Yeah. Well, well. But\n\n1397\n01:00:23.090 --> 01:00:27.310\nit's basically keeping track of whatever\nregistry changes occurred during that run,\n\n1398\n01:00:27.310 --> 01:00:29.810\nas well as the event\nviewer stuff right here.\n\n1399\n01:00:29.810 --> 01:00:31.960\nAnd the event trace we can\nopen up in the event viewer.\n\n1400\n01:00:31.960 --> 01:00:33.280\n>> Go back in event viewer and\nbrowse that.\n\n1401\n01:00:33.280 --> 01:00:34.370\n>> And that's an easier way.\n\n1402\n01:00:34.370 --> 01:00:36.350\nI don't think you can even\nopen this one directly.\n\n1403\n01:00:36.350 --> 01:00:38.350\nLet's find out.\n\n1404\n01:00:38.350 --> 01:00:39.270\nI'll try an app on this PC.\n\n1405\n01:00:39.270 --> 01:00:40.970\nSounds like a great idea.\n\n1406\n01:00:40.970 --> 01:00:42.090\nYeah, you can't open it directly.\n\n1407\n01:00:42.090 --> 01:00:43.000\n>> Yeah.\n>> But, if you\n\n1408\n01:00:43.000 --> 01:00:45.980\nopen it from the event viewer you'll\nbe able to see those events in there.\n\n1409\n01:00:45.980 --> 01:00:49.670\nAnd, and again try and\ncorrelate that time with an action.\n\n1410\n01:00:49.670 --> 01:00:52.280\nNow one of the things I\ntold Mike during the break,\n\n1411\n01:00:52.280 --> 01:00:56.880\nis I said, he asked why I\ndidn't use the reports view.\n\n1412\n01:00:56.880 --> 01:01:01.960\nAnd I said, one of the things I like\nis the reliability monitor that we have\n\n1413\n01:01:01.960 --> 01:01:07.530\nin Windows Server, because it\nalready correlates the performance\n\n1414\n01:01:07.530 --> 01:01:11.080\nwith the event logs and the time of day,\nand kind of gives you that view.\n\n1415\n01:01:11.080 --> 01:01:14.150\nAnd I'm more likely to use that\ntool than I am to use this one.\n\n1416\n01:01:15.580 --> 01:01:20.570\nBut the reliability monitor is a little\nbit more reactive instead of proactive.\n\n1417\n01:01:20.570 --> 01:01:22.030\n>> Yeah, so\nit's another one of those real time.\n\n1418\n01:01:22.030 --> 01:01:23.190\nI like to look at reliability monitor.\n\n1419\n01:01:23.190 --> 01:01:25.060\nIt's almost like task manager on steroids.\n\n1420\n01:01:25.060 --> 01:01:28.050\nIt really just gives you\na lot more information.\n\n1421\n01:01:28.050 --> 01:01:28.910\nBut it is realtime.\n\n1422\n01:01:28.910 --> 01:01:31.180\nBasically the only thing you can\ndo in there is end the process.\n\n1423\n01:01:32.420 --> 01:01:35.610\n>> Yeah, and if you're not familiar\nwith the reliability monitor,\n\n1424\n01:01:35.610 --> 01:01:36.920\nlet me bring it up here real quick.\n\n1425\n01:01:36.920 --> 01:01:41.410\nI'm just gonna, you know what,\nI jumped back onto my laptop didn't I?\n\n1426\n01:01:41.410 --> 01:01:42.810\nLet me do it on this machine.\n\n1427\n01:01:42.810 --> 01:01:44.997\nOops.\nAw, whatever.\n\n1428\n01:01:44.997 --> 01:01:47.710\nAll right,\nwe'll pull up the reliability monitor.\n\n1429\n01:01:47.710 --> 01:01:50.970\nIf I pull it up on my laptop,\nit'll be all error, error, error.\n\n1430\n01:01:52.560 --> 01:01:55.470\nSo I'm going to go here into\nthe reliability monitor and\n\n1431\n01:01:55.470 --> 01:02:00.080\nwhat you'll see it's doing\nis it's tracing this system.\n\n1432\n01:02:00.080 --> 01:02:01.270\nOop, does not have data.\n\n1433\n01:02:01.270 --> 01:02:08.501\n>> It hasn't been running long enough\nto have any real reliability reports.\n\n1434\n01:02:08.501 --> 01:02:09.020\nSo.\n\n1435\n01:02:09.020 --> 01:02:10.590\nSee how crazy my laptop is.\n\n1436\n01:02:10.590 --> 01:02:12.150\n>> Let's see what stuff\nDon has been doing.\n\n1437\n01:02:12.150 --> 01:02:16.500\n>> It is the same basic utility, and\nso when we fire it up, it's gonna\n\n1438\n01:02:16.500 --> 01:02:21.331\ncorrelate how reliable my system has\nbeen on a scale of one to ten, right?\n\n1439\n01:02:21.331 --> 01:02:25.965\nWhere one, my system was total garbage,\ncrashing blue screening, whatever.\n\n1440\n01:02:25.965 --> 01:02:27.975\nAnd ten, we ran just fine.\n\n1441\n01:02:27.975 --> 01:02:29.595\nAnd you'll see where my\nsystem was having you know,\n\n1442\n01:02:29.595 --> 01:02:33.835\na pretty decent time of it,\nuntil right here on this date.\n\n1443\n01:02:33.835 --> 01:02:37.060\nIt looks like January 5th,\nmy system just died out.\n\n1444\n01:02:37.060 --> 01:02:38.830\nIt looks like I got a two right there.\n\n1445\n01:02:38.830 --> 01:02:40.170\n>> I love this cuz you can click on it and\n\n1446\n01:02:40.170 --> 01:02:41.850\nyou can see exactly\nwhat happened that day.\n\n1447\n01:02:41.850 --> 01:02:45.550\nAnd I can go, that's the day I started\ndoing this, and after since then,\n\n1448\n01:02:45.550 --> 01:02:47.330\nI've had these reliability issues.\n\n1449\n01:02:47.330 --> 01:02:50.150\nAnother key point, remember liability and\nperformance, not the same thing.\n\n1450\n01:02:50.150 --> 01:02:52.150\nRight.\nWhen we talk about performance\n\n1451\n01:02:52.150 --> 01:02:56.250\nIt's your perception of how fast the\ncomputer or the system is doing something.\n\n1452\n01:02:56.250 --> 01:03:00.320\nReliability is confirmation\nto expected behavior.\n\n1453\n01:03:00.320 --> 01:03:04.270\nI mean, you can have a machine that's\nvery fast, but horrible reliability.\n\n1454\n01:03:04.270 --> 01:03:05.490\nCrashes all the time.\n\n1455\n01:03:05.490 --> 01:03:09.640\nI can have a slow as crap machine,\nbut it's rock solid, it never crashes.\n\n1456\n01:03:09.640 --> 01:03:11.410\nSo keep that in mind too, reliability and\n\n1457\n01:03:11.410 --> 01:03:15.520\nperformance, independent things that\nyou have to monitor on these systems.\n\n1458\n01:03:15.520 --> 01:03:16.660\n>> So this one's been turning along.\n\n1459\n01:03:16.660 --> 01:03:20.460\nMy machine got continually healthier,\nbut it looks like I had a few errors.\n\n1460\n01:03:20.460 --> 01:03:21.950\nYou'll see, when you get an error,\n\n1461\n01:03:21.950 --> 01:03:24.540\nit basically drops you down a point or\nwhatever.\n\n1462\n01:03:24.540 --> 01:03:29.125\n>> Surprise, surprise,\nWindows Explorer stopped responding.\n\n1463\n01:03:29.125 --> 01:03:32.560\n[CROSSTALK] I got some\nsuccessful driver installs.\n\n1464\n01:03:32.560 --> 01:03:35.395\nThose are fine, those are not bad things.\n\n1465\n01:03:35.395 --> 01:03:38.162\nMy bad day here was good\nold Logitech set points.\n\n1466\n01:03:38.162 --> 01:03:39.472\nCrash, crash, crash, crash, crash.\n\n1467\n01:03:39.472 --> 01:03:41.483\n>> The other cool thing about\nthe reliability monitor is that is\n\n1468\n01:03:41.483 --> 01:03:42.200\ndoes remember this.\n\n1469\n01:03:42.200 --> 01:03:45.427\nAll the way back to the day you installed\nWindows, so you can go all the way back.\n\n1470\n01:03:45.427 --> 01:03:49.375\nYou can see that initial, all those\ndrivers getting loaded up and stuff.\n\n1471\n01:03:49.375 --> 01:03:50.896\nIt's a really cool little monitor,\nI like it.\n\n1472\n01:03:50.896 --> 01:03:53.648\n>> Yeah, I don't know how far,\nlet's see how far.\n\n1473\n01:03:53.648 --> 01:03:54.555\nWell, I've had some bad days.\n\n1474\n01:03:54.555 --> 01:03:56.235\n>> [LAUGH]\n>> Look at this,\n\n1475\n01:03:56.235 --> 01:04:00.400\nthis whole sequence right here I had,\n3CX, the VoIP phone.\n\n1476\n01:04:00.400 --> 01:04:01.730\nI finally uninstalled that.\n\n1477\n01:04:01.730 --> 01:04:03.861\nWhich it should show that in here\nsomewhere where I uninstalled\n\n1478\n01:04:03.861 --> 01:04:05.010\nthe dadgummed thing.\n\n1479\n01:04:05.010 --> 01:04:09.306\nSo it tracks a lot of that stuff and\nhere, unsuccessful installation,\n\n1480\n01:04:09.306 --> 01:04:14.700\nwhere I tried to install Paragon Backup\n& Recovery, so it tracks that stuff.\n\n1481\n01:04:14.700 --> 01:04:16.260\nI'm showing you here on\na Windows 8 machine,\n\n1482\n01:04:16.260 --> 01:04:18.700\nit's the same tool on Windows Server,\n\n1483\n01:04:18.700 --> 01:04:22.459\nas long as you've been running your\nmachine longer than this one has.\n\n1484\n01:04:22.459 --> 01:04:26.862\nBut it is a cool one and another way that\nwe can correlate our event logs with other\n\n1485\n01:04:26.862 --> 01:04:29.970\nactivities that are going\non on the system.\n\n1486\n01:04:29.970 --> 01:04:30.810\nAll right.\n\n1487\n01:04:30.810 --> 01:04:34.080\nSo that's probably all we really need\nto know on the performance monitor.\n\n1488\n01:04:34.080 --> 01:04:36.270\n>> Get in there and play with it guys,\nit's a lot of fun and\n\n1489\n01:04:36.270 --> 01:04:38.550\nit's relatively easy to work with.\n\n1490\n01:04:38.550 --> 01:04:41.370\n>> Just remember, if you go crazy and\nturn on too many monitors,\n\n1491\n01:04:41.370 --> 01:04:43.610\nit will affect the performance\nof your system.\n\n1492\n01:04:43.610 --> 01:04:45.796\nSo don't go crazy and monitor everything.\n\n1493\n01:04:45.796 --> 01:04:46.467\nAll right.\n\n1494\n01:04:46.467 --> 01:04:47.140\n>> All right.\n\n1495\n01:04:47.140 --> 01:04:52.090\n>> Now they also call out in the\nobjectives, monitoring virtual machines.\n\n1496\n01:04:52.090 --> 01:04:55.380\nAnd let me tell you, when it comes\nto monitoring virtual machines,\n\n1497\n01:04:55.380 --> 01:04:58.970\na virtual machine is not much\ndifferent than a physical machine.\n\n1498\n01:04:58.970 --> 01:05:02.338\nIf I'm running Windows Server 2012 as\na VM, you just go into that VM and\n\n1499\n01:05:02.338 --> 01:05:04.056\nyou do your performance monitoring.\n\n1500\n01:05:04.056 --> 01:05:08.056\n>> Still gotta monitor its processor, its\nmemory, its hard drive, and its network.\n\n1501\n01:05:08.056 --> 01:05:12.440\n>> And that's actually what I'm doing\nhere, this machine is a VM, right?\n\n1502\n01:05:12.440 --> 01:05:16.044\nIt's a virtual machine that I'm monitoring\non, and that's why it hasn't been on long\n\n1503\n01:05:16.044 --> 01:05:18.350\nenough to do that reliability,\ncuz it hasn't been on.\n\n1504\n01:05:18.350 --> 01:05:22.900\nBut it gives us that same\nlevel of performance there.\n\n1505\n01:05:22.900 --> 01:05:24.390\nThe only difference though,\n\n1506\n01:05:24.390 --> 01:05:28.110\nis that this monitoring is\nbeing done from within the VM.\n\n1507\n01:05:28.110 --> 01:05:31.360\nYou can do monitoring from the host also.\n\n1508\n01:05:31.360 --> 01:05:33.326\nSo, if I go to the actual host machine, so\n\n1509\n01:05:33.326 --> 01:05:35.760\nhere's the server that\nI'm running Hyper-V on.\n\n1510\n01:05:36.850 --> 01:05:40.610\nAnd if I go into the Hyper-V manager,\nI can see my VMs and\n\n1511\n01:05:40.610 --> 01:05:43.630\nhow much CPU they're using right now.\n\n1512\n01:05:43.630 --> 01:05:46.560\nBut it doesn't really give\nyou any historical data so\n\n1513\n01:05:46.560 --> 01:05:48.730\nit's not a great monitoring tool.\n\n1514\n01:05:48.730 --> 01:05:50.890\nBut I can fire up the performance monitor.\n\n1515\n01:05:52.810 --> 01:05:56.111\nAnd when we go to monitor\non a Hyper-V server,\n\n1516\n01:05:56.111 --> 01:06:00.300\nyou'll see counters in here\nspecifically for Hyper-V.\n\n1517\n01:06:00.300 --> 01:06:02.930\nAnd if I find them, there they are.\n\n1518\n01:06:02.930 --> 01:06:05.490\nSo we'll see Hyper-V virtual machine bus,\n\n1519\n01:06:05.490 --> 01:06:09.760\nadapters, switches for network,\nyou'll see all sorts of stuff in here.\n\n1520\n01:06:09.760 --> 01:06:12.010\nAnd somewhere in here,\nhere it is, Hyper-V hypervisor.\n\n1521\n01:06:12.010 --> 01:06:16.560\nSo here we can monitor processors,\npartitions, and so on.\n\n1522\n01:06:16.560 --> 01:06:20.160\nAnd when you look at these,\nsome of them are general for\n\n1523\n01:06:20.160 --> 01:06:25.270\nthe system as a whole,\nother ones are for the VMs themselves.\n\n1524\n01:06:25.270 --> 01:06:29.990\nAnd so when you go to monitor something,\nyou can do like here,\n\n1525\n01:06:29.990 --> 01:06:34.280\nguest run time, and it'll have each of\nthe VMs that are running and whatever.\n\n1526\n01:06:34.280 --> 01:06:36.390\nSometimes it shows the names of the VMs,\nsometimes it doesn't.\n\n1527\n01:06:36.390 --> 01:06:38.180\n>> What's that say, LP1, LP0?\n\n1528\n01:06:38.180 --> 01:06:38.930\n>> Yeah, let's see.\n\n1529\n01:06:38.930 --> 01:06:39.850\n>> Is that an L?\n\n1530\n01:06:39.850 --> 01:06:41.880\n>> That's the logical processor 1 and 2.\n\n1531\n01:06:41.880 --> 01:06:44.430\nLet me see if I can find\nindividual VMs in here.\n\n1532\n01:06:44.430 --> 01:06:48.400\nBut you do have extra\ncounters that you can use.\n\n1533\n01:06:48.400 --> 01:06:49.920\nBut I rarely use them,\n\n1534\n01:06:49.920 --> 01:06:53.470\nbecause you can just monitor the VMs\nthemselves using performance monitor.\n\n1535\n01:06:53.470 --> 01:06:54.390\n>> Yeah, so like you said,\n\n1536\n01:06:54.390 --> 01:06:56.810\nthere isn't really a big difference\nbetween monitor and the virtuals.\n\n1537\n01:06:56.810 --> 01:07:00.050\nThe one thing you gotta keep in mind,\nyou do have to monitor the host itself,\n\n1538\n01:07:00.050 --> 01:07:03.230\ncuz that performance of the host,\ncuz they're shared resources.\n\n1539\n01:07:03.230 --> 01:07:06.010\nSo now all of a sudden I could have one\nvirtual machine that was sucking up\n\n1540\n01:07:06.010 --> 01:07:07.340\na particular resource,\n\n1541\n01:07:07.340 --> 01:07:10.510\nwhich then impacts the other machines\nthat are running on that physical host.\n\n1542\n01:07:10.510 --> 01:07:14.480\nSo we gotta monitor the physical host\nto make sure that our machines have\n\n1543\n01:07:14.480 --> 01:07:16.620\nthe resources they need\nto perform adequately.\n\n1544\n01:07:16.620 --> 01:07:20.190\nSo if you're monitoring a virtual machine\nand you see a performance degradation,\n\n1545\n01:07:20.190 --> 01:07:22.530\nI've got to determine is it that virtual\nmachine that's having an issue, or\n\n1546\n01:07:22.530 --> 01:07:23.120\nis it the host?\n\n1547\n01:07:23.120 --> 01:07:26.410\nMaybe a different virtual machine\nis sucking up all those resources.\n\n1548\n01:07:26.410 --> 01:07:30.440\n>> Here's an example where I went under\nHyper-V Virtual Network Adapter, and\n\n1549\n01:07:30.440 --> 01:07:31.980\nI pulled up bytes sent per second.\n\n1550\n01:07:31.980 --> 01:07:35.000\nAnd you'll see down there where\nI can pick between my VMs.\n\n1551\n01:07:35.000 --> 01:07:37.000\n>> ICL1, DC1, SVR4, yep.\n\n1552\n01:07:37.000 --> 01:07:39.800\n>> So there's each one, so\nI can pick and monitor individual VMs.\n\n1553\n01:07:39.800 --> 01:07:42.710\nIt's really, in my opinion, easier just\nto do it from inside of the VM, but\n\n1554\n01:07:42.710 --> 01:07:43.850\nyou can do it from right here.\n\n1555\n01:07:45.442 --> 01:07:48.070\nAll right, so now not too much different\nwhen it comes to monitoring a VM.\n\n1556\n01:07:48.070 --> 01:07:49.430\n>> Nope.\n\n1557\n01:07:49.430 --> 01:07:52.350\n>> All right,\nwhat's next on our shopping list, Mike?\n\n1558\n01:07:52.350 --> 01:07:55.780\n>> Good old Events, I guess we should hit\nthe event log, take a peek over there and\n\n1559\n01:07:55.780 --> 01:07:57.990\nsee what kind of fun\nstuff we can get into.\n\n1560\n01:07:57.990 --> 01:08:01.720\nNow, the Event Viewer, whenever I sit\ndown and somebody says, hey, Don,\n\n1561\n01:08:01.720 --> 01:08:02.710\nI got this server.\n\n1562\n01:08:02.710 --> 01:08:04.070\nThings are not working right.\n\n1563\n01:08:04.070 --> 01:08:05.770\nThings just aren't happy.\n\n1564\n01:08:05.770 --> 01:08:08.202\nThe first tool I go to\nis the Event Viewer.\n\n1565\n01:08:08.202 --> 01:08:10.060\n>> It's always, you say, hey,\nhave you checked your event logs?\n\n1566\n01:08:10.060 --> 01:08:10.680\n>> No.\n\n1567\n01:08:10.680 --> 01:08:11.220\n>> No.\n\n1568\n01:08:11.220 --> 01:08:12.163\n>> [LAUGH]\n>> Well,\n\n1569\n01:08:12.163 --> 01:08:15.090\nthat's where your system is trying to\ntell you what the heck is going on.\n\n1570\n01:08:15.090 --> 01:08:18.470\nIt should be one of the first\nplaces you check, it really should.\n\n1571\n01:08:18.470 --> 01:08:21.660\n>> When there's an error on the system,\nit gets logged to the event log.\n\n1572\n01:08:21.660 --> 01:08:24.200\nThat's where we go, we can find it\nright there, we can look at it,\n\n1573\n01:08:24.200 --> 01:08:27.150\noften times it will tell us\nexactly what the problem is.\n\n1574\n01:08:27.150 --> 01:08:30.010\nSometimes it'll give\nus some cryptic BS and\n\n1575\n01:08:30.010 --> 01:08:32.700\nwe have no idea what it means and yeah.\n\n1576\n01:08:32.700 --> 01:08:33.720\nSo it's not always.\n\n1577\n01:08:33.720 --> 01:08:36.180\n>> And they've really, they have,\nMicrosoft, thank you Microsoft,\n\n1578\n01:08:36.180 --> 01:08:38.400\nthey've made some real improvements\nto the event log system.\n\n1579\n01:08:38.400 --> 01:08:41.790\nI mean, they've added a lot more\ninformation because years ago, operating\n\n1580\n01:08:41.790 --> 01:08:45.880\nsystems ago, it was very cryptic and you\ncouldn't get any information out of there.\n\n1581\n01:08:45.880 --> 01:08:48.721\nYou got an event ID, and then you would\nGoogle that event ID to try to figure out\n\n1582\n01:08:48.721 --> 01:08:50.270\nwhat the heck was going on on your system.\n\n1583\n01:08:50.270 --> 01:08:51.100\n>> Yup.\n\n1584\n01:08:51.100 --> 01:08:54.792\nAll right, so what I'm gonna do is,\nI'm gonna go under Tools here, and\n\n1585\n01:08:54.792 --> 01:08:59.270\nI'll just go to the Event Viewer, from the\nServer Manager > Tools > Event Viewer, and\n\n1586\n01:08:59.270 --> 01:09:00.650\nwe'll fire it up.\n\n1587\n01:09:00.650 --> 01:09:03.390\nAnd the Event Viewer,\nyou guys have seen it in other shows,\n\n1588\n01:09:03.390 --> 01:09:04.900\nit shouldn't be new to you at this point.\n\n1589\n01:09:04.900 --> 01:09:09.770\nBut just to quickly review it, basically\nyou've got these Windows logs where\n\n1590\n01:09:09.770 --> 01:09:12.930\nanything that's happening in Windows is\ngetting dropped into these various logs.\n\n1591\n01:09:12.930 --> 01:09:15.356\nAnd the three main ones\nare the Application Log, so\n\n1592\n01:09:15.356 --> 01:09:18.470\nany software you're running,\nif it crashes, it'll log here.\n\n1593\n01:09:20.120 --> 01:09:24.250\nSecurity, any of the security auditing\nwe're doing, log on and log off events.\n\n1594\n01:09:24.250 --> 01:09:28.080\nAnd then lastly, System, anything that\nhappens with the operating system itself,\n\n1595\n01:09:28.080 --> 01:09:32.100\nthe Microsoft OS portion will log to here.\n\n1596\n01:09:32.100 --> 01:09:33.450\n>> Yep.\n\n1597\n01:09:33.450 --> 01:09:35.520\n>> Now you'll have three\nkinds of log entries.\n\n1598\n01:09:35.520 --> 01:09:39.030\nYou'll have informational,\nwarning and alert, right?\n\n1599\n01:09:39.030 --> 01:09:41.000\nInformational, just telling you something.\n\n1600\n01:09:41.000 --> 01:09:42.602\nThere's probably no action to take,\njust, hey-\n\n1601\n01:09:42.602 --> 01:09:44.190\n>> Service started up,\n\n1602\n01:09:44.190 --> 01:09:46.390\noperating system shut it down,\nwhatever the case may be.\n\n1603\n01:09:46.390 --> 01:09:47.730\nJust usually good news.\n\n1604\n01:09:47.730 --> 01:09:48.870\n>> Yeah.\n>> Yeah.\n\n1605\n01:09:48.870 --> 01:09:52.170\n>> A warning, maybe there's\nsomething to do, maybe not, right?\n\n1606\n01:09:52.170 --> 01:09:53.309\n>> Signs of impending doom.\n\n1607\n01:09:53.309 --> 01:09:56.180\n>> Yeah. [LAUGH] >> If you don't do\nsomething soon, you might have an issue.\n\n1608\n01:09:56.180 --> 01:09:58.790\n>> We just want to let you know,\nmaybe you should do something about this,\n\n1609\n01:09:58.790 --> 01:09:59.932\nmaybe not, up to you, right?\n\n1610\n01:09:59.932 --> 01:10:00.762\n>> Up to you.\n\n1611\n01:10:00.762 --> 01:10:02.301\n>> An alert, right, or an error,\n\n1612\n01:10:02.301 --> 01:10:06.308\nthat's actually telling us something bad\nhas happened, you need to take action.\n\n1613\n01:10:06.308 --> 01:10:08.018\n>> Something has failed.\n\n1614\n01:10:08.018 --> 01:10:11.454\n>> So, the problem with the Event Viewer,\nit's a great source of information,\n\n1615\n01:10:11.454 --> 01:10:12.140\nthat's good.\n\n1616\n01:10:12.140 --> 01:10:16.260\nBut the negative side is\nit can be daunting, right?\n\n1617\n01:10:16.260 --> 01:10:17.300\n>> A ton of information.\n\n1618\n01:10:17.300 --> 01:10:18.790\n>> Right now, my system log, and\n\n1619\n01:10:18.790 --> 01:10:22.806\nkeep in mind this is a system that's not\nbeen online very long, has 3,382 events.\n\n1620\n01:10:22.806 --> 01:10:24.510\n>> [SOUND]\n>> That's a lot.\n\n1621\n01:10:24.510 --> 01:10:25.290\n>> Yeah.\n>> Right?\n\n1622\n01:10:25.290 --> 01:10:28.270\nIf I take a look at my application log,\n2,976.\n\n1623\n01:10:28.270 --> 01:10:30.930\nYou know,\nlet's take my laptop as an example.\n\n1624\n01:10:30.930 --> 01:10:32.349\n>> Cuz my laptop has been running for\n\n1625\n01:10:32.349 --> 01:10:35.325\na while, and obviously we've seen\nthat I've done bad things to it.\n\n1626\n01:10:35.325 --> 01:10:38.352\n>> [LAUGH]\n>> So if I go to my application log.\n\n1627\n01:10:38.352 --> 01:10:40.070\n5,000, that's not-\n>> 5,000, that's not too high.\n\n1628\n01:10:40.070 --> 01:10:40.955\n>> Where I thought it would be.\n\n1629\n01:10:40.955 --> 01:10:43.740\n7,500 in my system log.\n\n1630\n01:10:43.740 --> 01:10:48.020\nSo these event logs, they can grow\nto be pretty big and unmanageable.\n\n1631\n01:10:48.020 --> 01:10:51.180\n>> But they give us some great tools, some\nreally good ways of filtering them down so\n\n1632\n01:10:51.180 --> 01:10:52.560\nwe can find what we need.\n\n1633\n01:10:52.560 --> 01:10:56.190\nIf my job is to go through all those\nevent logs on these different machines,\n\n1634\n01:10:56.190 --> 01:10:58.185\nI need to be able to\nfind the important stuff.\n\n1635\n01:10:58.185 --> 01:11:01.330\nSo we've got some filtering\ncapabilities that we can use.\n\n1636\n01:11:01.330 --> 01:11:05.630\nAnd then we can also create custom views,\nwe'll basically save those filtered views,\n\n1637\n01:11:05.630 --> 01:11:07.760\nso that we can open them\nup any time we want.\n\n1638\n01:11:07.760 --> 01:11:11.560\nWe can even export them as an XML\ndocument, take them to another server,\n\n1639\n01:11:11.560 --> 01:11:13.660\nimport them, and\nbring that same view over there.\n\n1640\n01:11:13.660 --> 01:11:17.150\nSo it really, like I said, I'm really\nimpressed with the new event log system.\n\n1641\n01:11:17.150 --> 01:11:17.960\nI like it.\n\n1642\n01:11:17.960 --> 01:11:20.740\n>> Now, Microsoft knows this is more\ndata than most people can handle, and\n\n1643\n01:11:20.740 --> 01:11:22.300\nthey know you're gonna have to filter it.\n\n1644\n01:11:22.300 --> 01:11:26.630\nSo they've actually built some filters\nin right through your server manager.\n\n1645\n01:11:26.630 --> 01:11:28.327\nIf you're monitoring\nyour Microsoft processes,\n\n1646\n01:11:28.327 --> 01:11:29.870\nyou don't even need to\ngo to the Event Viewer.\n\n1647\n01:11:29.870 --> 01:11:34.992\nIn my server manager if I go to IIS for\nexample, when you click on IIS and you\n\n1648\n01:11:34.992 --> 01:11:40.954\nchoose your server, right down here it's\nshowing me events related to that server.\n\n1649\n01:11:40.954 --> 01:11:43.648\nAnd I picked a dud, cuz there's no events.\n\n1650\n01:11:43.648 --> 01:11:46.389\n>> [LAUGH]\n>> Let's go, Active Directory.\n\n1651\n01:11:46.389 --> 01:11:46.970\nThere we go.\n\n1652\n01:11:46.970 --> 01:11:47.543\n>> There we go.\n\n1653\n01:11:47.543 --> 01:11:50.296\n>> So on this one, right down here,\nI can see the events for\n\n1654\n01:11:50.296 --> 01:11:52.880\nthis server that pertain\nto the active directory.\n\n1655\n01:11:52.880 --> 01:11:54.870\nHere they are, so I've got some warnings.\n\n1656\n01:11:54.870 --> 01:11:57.760\nAnd notice it's already filtering\nout the informational ones.\n\n1657\n01:11:57.760 --> 01:11:59.650\nCuz you don't need just\nthe generic information,\n\n1658\n01:11:59.650 --> 01:12:01.630\nyou need to know when something is wrong.\n\n1659\n01:12:01.630 --> 01:12:03.510\nAnd so I get that information right here,\n\n1660\n01:12:03.510 --> 01:12:07.880\nI can look at those events, and now I\nknow the things I might need to act on.\n\n1661\n01:12:07.880 --> 01:12:13.010\nSo this filtered view, that's just a part\nof the server manager, it's pretty handy.\n\n1662\n01:12:13.010 --> 01:12:14.378\n>> It's very handy.\n\n1663\n01:12:15.555 --> 01:12:17.285\n>> And there's just not a lot\nof events on this server.\n\n1664\n01:12:17.285 --> 01:12:19.115\nAgain, it hasn't been on that long,\nI suppose.\n\n1665\n01:12:19.115 --> 01:12:20.345\n>> We've got just such good servers.\n\n1666\n01:12:20.345 --> 01:12:21.175\nThey never misbehave.\n\n1667\n01:12:21.175 --> 01:12:22.088\nEverything goes well.\n\n1668\n01:12:22.088 --> 01:12:24.575\n[LAUGH]\n>> Well let's go back to the event viewer.\n\n1669\n01:12:24.575 --> 01:12:28.522\nWe can do the filters here, too, which is\nwhat Mike was mentioning, to limit things,\n\n1670\n01:12:28.522 --> 01:12:31.002\nso maybe I don't want\nto see the information.\n\n1671\n01:12:31.002 --> 01:12:32.712\nI just want to see warnings and alerts.\n\n1672\n01:12:32.712 --> 01:12:35.262\n>> And I'll tell you one of my favorite\nthings about these custom filters is\n\n1673\n01:12:35.262 --> 01:12:36.832\nyou can actually pull events\nfrom multiple log files.\n\n1674\n01:12:36.832 --> 01:12:40.708\nBecause I want to come in here, and I want\nto see all the critical and warnings.\n\n1675\n01:12:40.708 --> 01:12:42.716\nBut I need to see them\nfrom the application log,\n\n1676\n01:12:42.716 --> 01:12:46.626\nI need to see them from the security\nlog as well as the system log, and\n\n1677\n01:12:46.626 --> 01:12:48.946\npossibly even some of\nthe server-specific logs.\n\n1678\n01:12:48.946 --> 01:12:50.916\nSo we can actually choose\nmultiple log files and\n\n1679\n01:12:50.916 --> 01:12:52.666\ncombine all the entries into one view.\n\n1680\n01:12:52.666 --> 01:12:55.670\nSo when I come in to check my server in\nthe morning, I got one log file to open\n\n1681\n01:12:55.670 --> 01:12:58.630\nup, and I can see all my criticals\nfrom all my different logs.\n\n1682\n01:12:58.630 --> 01:13:00.554\n>> Mike, you're gonna teach me something\nnew here, cuz I don't know how to do that.\n\n1683\n01:13:00.554 --> 01:13:02.250\n>> You haven't seen that yet?\n\n1684\n01:13:02.250 --> 01:13:02.990\n>> No.\nI know how to do a filter.\n\n1685\n01:13:02.990 --> 01:13:04.935\nI don't know how to combine the logs.\n\n1686\n01:13:04.935 --> 01:13:05.713\n>> So how do I do that?\n\n1687\n01:13:05.713 --> 01:13:06.310\n>> Check it out.\n\n1688\n01:13:06.310 --> 01:13:09.915\nIf we go to custom views up there, and\nyou can go over to the actions pane or\n\n1689\n01:13:09.915 --> 01:13:12.870\nright-click and create custom view.\n\n1690\n01:13:12.870 --> 01:13:15.420\nAnd then you've got some\ngreat filters up at the top.\n\n1691\n01:13:15.420 --> 01:13:18.860\nIf I check my log files everyday\nthen I might want to change that\n\n1692\n01:13:18.860 --> 01:13:23.520\nlog from anytime to say, 24 hours, because\nI don't need to see previous entries,\n\n1693\n01:13:23.520 --> 01:13:25.140\nbecause I checked it yesterday morning.\n\n1694\n01:13:25.140 --> 01:13:28.030\nSo, you've got some good filters there,\nand then you've got your event levels\n\n1695\n01:13:28.030 --> 01:13:30.890\nwhere you can just do the criticals and\nthe warnings and the errors.\n\n1696\n01:13:30.890 --> 01:13:34.840\nAnd then the By Log, if you hit that drop\ndown list, you'll notice it's check marks,\n\n1697\n01:13:34.840 --> 01:13:39.300\nnot radio buttons, which indicates\nthat I can select multiple log files.\n\n1698\n01:13:39.300 --> 01:13:39.980\n>> Well, look at that.\n\n1699\n01:13:39.980 --> 01:13:41.080\nI did not know you could do that.\n\n1700\n01:13:41.080 --> 01:13:42.580\n>> It's very handy, I like it.\n\n1701\n01:13:42.580 --> 01:13:44.290\n>> All right, so\nI'm gonna check those off.\n\n1702\n01:13:44.290 --> 01:13:46.285\nSo right now I'm gonna get critical,\nwarning,\n\n1703\n01:13:46.285 --> 01:13:50.010\nerrors from the application system\nlog from the last 24 hours.\n\n1704\n01:13:50.010 --> 01:13:52.005\n>> Mm-hm.\n>> And let's see.\n\n1705\n01:13:52.005 --> 01:13:55.045\n>> There are all kinds of filters down\nthere if we wanted to filter it by\n\n1706\n01:13:55.045 --> 01:13:58.970\na particular user ID or computer ID or\nsomething like that we could do that or\n\n1707\n01:13:58.970 --> 01:14:03.580\nkeywords in the event entries, if you\nwant to get really specific you can.\n\n1708\n01:14:03.580 --> 01:14:06.360\nI typically just pick a couple logs\nwith the errors, and I go with it.\n\n1709\n01:14:06.360 --> 01:14:07.777\n>> Let's leave it big time there, and\n\n1710\n01:14:07.777 --> 01:14:10.910\nthere's the actual filters it's writing\nme, we don't wanna get into that.\n\n1711\n01:14:10.910 --> 01:14:12.180\n>> Thank god we don't have to write that.\n\n1712\n01:14:12.180 --> 01:14:17.500\n>> All right, we'll give it a name\nwe'll call this the, I don't know.\n\n1713\n01:14:17.500 --> 01:14:19.090\n>> All errors or all, yeah.\n\n1714\n01:14:19.090 --> 01:14:20.800\n>> Errors for the last 24 hours.\n\n1715\n01:14:20.800 --> 01:14:21.300\n>> There we go.\n\n1716\n01:14:22.730 --> 01:14:23.230\n>> All right.\n\n1717\n01:14:24.310 --> 01:14:25.110\nOkay.\n\n1718\n01:14:25.110 --> 01:14:27.725\nSo now, this server is really clean.\n\n1719\n01:14:27.725 --> 01:14:30.450\nSo, if I choose that errors\nlast twenty four hours,\n\n1720\n01:14:30.450 --> 01:14:33.165\nI can see I've really\ngot just five warnings.\n\n1721\n01:14:33.165 --> 01:14:37.025\nAnd they all seem to be coming from WSUS.\n\n1722\n01:14:37.025 --> 01:14:40.585\nThat's right we, in another show\nwe had put WSUS on here, but\n\n1723\n01:14:40.585 --> 01:14:42.543\nit's not actually active.\n\n1724\n01:14:42.543 --> 01:14:47.161\n[CROSSTALK] Yeah, the catalog was\nlast synchronized successfully one or\n\n1725\n01:14:47.161 --> 01:14:52.686\nmore days ago, so it's warning me that we\nhaven't done a synchronization recently,\n\n1726\n01:14:52.686 --> 01:14:55.345\nand what's the time server angry about?\n\n1727\n01:14:55.345 --> 01:14:59.678\n[CROSSTALK] Yeah,\nit can't find the PDC emulators.\n\n1728\n01:14:59.678 --> 01:15:03.680\nSo it's trying to reach out to a domain\ncontroller to sync its clock, and\n\n1729\n01:15:03.680 --> 01:15:04.805\nit can't find one.\n\n1730\n01:15:04.805 --> 01:15:06.210\nNot sure why it would do that.\n\n1731\n01:15:06.210 --> 01:15:08.740\nYou know, it is the domain controller.\n\n1732\n01:15:08.740 --> 01:15:10.590\n>> So it needs to be set with an external.\n\n1733\n01:15:10.590 --> 01:15:12.200\n>> Yep.\nAnd we haven't done that.\n\n1734\n01:15:12.200 --> 01:15:12.830\nSo, all right.\n\n1735\n01:15:12.830 --> 01:15:14.010\nThat's easy enough.\n\n1736\n01:15:14.010 --> 01:15:15.120\nSo, you can look in here though.\n\n1737\n01:15:15.120 --> 01:15:18.470\nYou can spot these warnings and errors and\nkind of get an idea of what's there.\n\n1738\n01:15:18.470 --> 01:15:21.161\nThis is a terribly non-exciting event log.\n\n1739\n01:15:21.161 --> 01:15:21.880\n>> [LAUGH]\n>> Let me,\n\n1740\n01:15:21.880 --> 01:15:24.270\nwe'll go back to my laptop\nwhere I know we've got stuff.\n\n1741\n01:15:24.270 --> 01:15:26.490\nAnd here, I'm not gonna do a custom view.\n\n1742\n01:15:26.490 --> 01:15:29.380\nI'll just do,\nwhere I go into my system log, so\n\n1743\n01:15:29.380 --> 01:15:33.910\nhere's my system logs on my laptop, and\nI'm just gonna do a filter right here.\n\n1744\n01:15:33.910 --> 01:15:36.820\nAnd you'll see over on the right side,\nI've got this filter current log.\n\n1745\n01:15:36.820 --> 01:15:40.180\nAnd it's basically the same screen that\nMike just showed us except it doesn't have\n\n1746\n01:15:40.180 --> 01:15:42.280\nthe cool, pick a bunch of.\n\n1747\n01:15:42.280 --> 01:15:43.920\n>> Yeah,\ncuz you're filtering just that one log\n\n1748\n01:15:43.920 --> 01:15:45.240\nthat you're looking at right now so.\n\n1749\n01:15:45.240 --> 01:15:48.640\n>> I know I clicked on it, see you look\nI'm about to generate another event log\n\n1750\n01:15:48.640 --> 01:15:51.470\nmessage that event viewer\nstopped responding.\n\n1751\n01:15:51.470 --> 01:15:53.730\n>> The event reviewer is\nlogging an event on itself.\n\n1752\n01:15:53.730 --> 01:15:55.678\n>> Well it's not completely dead.\n\n1753\n01:15:57.636 --> 01:15:59.020\nThere we go.\n\n1754\n01:15:59.020 --> 01:16:03.620\nSo we'll filter for, you know,\nI'm not gonna do the last 24 hours,\n\n1755\n01:16:03.620 --> 01:16:07.050\nwe'll just do the whole shebang,\nand let's see.\n\n1756\n01:16:07.050 --> 01:16:08.200\n>> See how bad it is.\n\n1757\n01:16:08.200 --> 01:16:12.553\nYeah, see the event logs is grayed out and\nall right, so we'll see how bad this is.\n\n1758\n01:16:12.553 --> 01:16:17.400\nSo, I've only got 7,000, well, 878.\n\n1759\n01:16:17.400 --> 01:16:18.780\nThat's not too bad, right?\n\n1760\n01:16:18.780 --> 01:16:22.929\nSo, I've got the speed of my processor\nis being limited by system frontware.\n\n1761\n01:16:22.929 --> 01:16:24.750\nThat's good.\nThat means my laptop is running slower\n\n1762\n01:16:24.750 --> 01:16:25.330\nthan it should.\n\n1763\n01:16:25.330 --> 01:16:26.060\n>> Right.\n\n1764\n01:16:26.060 --> 01:16:27.330\n>> Good good to know.\n\n1765\n01:16:27.330 --> 01:16:28.330\n>> Great.\nThank you system.\n\n1766\n01:16:28.330 --> 01:16:30.160\n>> And, all four cores.\n\n1767\n01:16:30.160 --> 01:16:31.290\nSo, there's that.\n\n1768\n01:16:31.290 --> 01:16:32.500\nAnd then I can see other things here.\n\n1769\n01:16:32.500 --> 01:16:33.900\nYou can go through and\nlook at your errors.\n\n1770\n01:16:35.080 --> 01:16:37.690\nThe system rebooted without\ncleanly shutting down first.\n\n1771\n01:16:37.690 --> 01:16:38.690\nYeah, that's me.\n\n1772\n01:16:38.690 --> 01:16:40.570\n>> Yeah,\nwas holding the power button down.\n\n1773\n01:16:40.570 --> 01:16:41.570\nSaying stop right now.\n\n1774\n01:16:41.570 --> 01:16:42.680\n>> Sometimes it gets frustrating.\n\n1775\n01:16:42.680 --> 01:16:43.910\nYou know, the dadgum thing goes to sleep.\n\n1776\n01:16:43.910 --> 01:16:44.960\n>> You're right.\n>> I'm like, don't go to sleep.\n\n1777\n01:16:44.960 --> 01:16:45.960\nTurn off!\n\n1778\n01:16:45.960 --> 01:16:48.140\nAnd, so yeah, I hold the power button.\n\n1779\n01:16:48.140 --> 01:16:50.850\nBut yeah, you know, you can go through and\nsee all sorts of information.\n\n1780\n01:16:50.850 --> 01:16:54.280\nA system watch dog timer was triggered.\n\n1781\n01:16:55.810 --> 01:16:59.230\nIn previous versions of Windows that means\nI would have hit a blue screen, in Windows\n\n1782\n01:16:59.230 --> 01:17:02.690\n8 that's part of that new capture thing so\nthat it stopped it from blue screening.\n\n1783\n01:17:02.690 --> 01:17:03.270\nSo I wonder-\n>> Dr.\n\n1784\n01:17:03.270 --> 01:17:03.820\nWatson?\n>> Yeah.\n\n1785\n01:17:03.820 --> 01:17:05.345\nI wonder what would have caused that.\n\n1786\n01:17:05.345 --> 01:17:08.080\nThat could be fun.\n\n1787\n01:17:08.080 --> 01:17:10.440\nYou can go through and\nsee all sorts of different things and\n\n1788\n01:17:10.440 --> 01:17:12.090\ngather information about your system.\n\n1789\n01:17:12.090 --> 01:17:13.960\nSome of this stuff we need to act on,\nsome we don't.\n\n1790\n01:17:13.960 --> 01:17:17.630\nLike this one here, the system rebooted\nwithout cleanly shutting down.\n\n1791\n01:17:17.630 --> 01:17:19.760\nWell, I know I'm the one\nwho powered it off, right.\n\n1792\n01:17:19.760 --> 01:17:21.240\nSo I don't really care about that.\n\n1793\n01:17:21.240 --> 01:17:25.070\nBut, you know, it does log it, just in\ncase that wasn't something you expected.\n\n1794\n01:17:25.070 --> 01:17:28.710\nYou come in in the morning and you see one\nof your servers rebooted, and you're like,\n\n1795\n01:17:28.710 --> 01:17:29.810\nwhat the heck happened?\n\n1796\n01:17:29.810 --> 01:17:32.755\nYou need these events to figure out when\nit rebooted and to look at the other\n\n1797\n01:17:32.755 --> 01:17:35.290\nevents around it to try and\nfigure out what caused that reboot.\n\n1798\n01:17:35.290 --> 01:17:35.790\n>> Exactly.\n\n1799\n01:17:37.060 --> 01:17:37.890\n>> All right.\n\n1800\n01:17:37.890 --> 01:17:38.800\n>> Good deal.\n\n1801\n01:17:38.800 --> 01:17:42.430\n>> Let's see, Mike, it is a good\nspot to stop and take a break.\n\n1802\n01:17:42.430 --> 01:17:45.230\nWhen we get back,\nwe've got log shipping to talk about and-\n\n1803\n01:17:45.230 --> 01:17:46.360\n>> Subscriptions, I think.\n\n1804\n01:17:46.360 --> 01:17:47.120\nYeah.\n\n1805\n01:17:47.120 --> 01:17:48.000\n>> Something else.\n\n1806\n01:17:48.000 --> 01:17:49.060\nYeah.\n>> Set up subscript,\n\n1807\n01:17:49.060 --> 01:17:50.320\nif I can even say that.\n\n1808\n01:17:50.320 --> 01:17:51.010\n>> If you can even say it.\n\n1809\n01:17:51.010 --> 01:17:52.670\n>> Subscriptions, yes.\n\n1810\n01:17:52.670 --> 01:17:54.480\n>> And network monitoring we already did.\n\n1811\n01:17:54.480 --> 01:17:58.080\nSo, yeah, sorry, all right, so we still\nhave a little bit more to get to, but\n\n1812\n01:17:58.080 --> 01:18:00.500\nit is time for us to take a break,\nso let's stop here.\n\n1813\n01:18:00.500 --> 01:18:04.586\nWhen we get back,\nwe'll wrap up monitoring our servers.\n\n1814\n01:18:04.586 --> 01:18:08.096\n>> Sounds like a plan.\n[MUSIC]\n\n1815\n01:18:08.096 --> 01:18:14.860\n[SOUND]\nAll right, welcome back, everybody.\n\n1816\n01:18:14.860 --> 01:18:18.910\nSo for our last little segment here, what\nwe're gonna do is we're gonna take a look\n\n1817\n01:18:18.910 --> 01:18:24.580\nat how we manage these event logs when we\nhave a large quantity of servers, right?\n\n1818\n01:18:24.580 --> 01:18:26.710\nThis whole time we've just been\nworking on one server, but\n\n1819\n01:18:26.710 --> 01:18:28.910\nthat's not always the case.\n\n1820\n01:18:28.910 --> 01:18:33.220\n>> Yeah, no, if your job is to come in and\nmonitor all 15 of those DHCP servers, or\n\n1821\n01:18:33.220 --> 01:18:36.130\nall 10 of those DNS servers,\nwhatever the case may be.\n\n1822\n01:18:36.130 --> 01:18:40.030\nInstead of having to go to each machine\nand either remote desktop into them,\n\n1823\n01:18:40.030 --> 01:18:42.450\ntry to see those event logs,\nor something like that.\n\n1824\n01:18:42.450 --> 01:18:44.360\nMicrosoft has given us\na really cool concept,\n\n1825\n01:18:44.360 --> 01:18:46.310\nwe can now subscribe to the event log.\n\n1826\n01:18:46.310 --> 01:18:48.720\nSo I can sit at my Windows 8 machine, and\n\n1827\n01:18:48.720 --> 01:18:52.310\nI can have a subscription built\nthat pulls these log files from\n\n1828\n01:18:52.310 --> 01:18:54.860\nall those different servers that\nI'm responsible for monitoring.\n\n1829\n01:18:54.860 --> 01:18:57.980\nSo now I've got one place to go to\nview all those events, fantastic.\n\n1830\n01:18:57.980 --> 01:19:01.700\nI can still do my same filters, and\nall that good stuff on the log file so\n\n1831\n01:19:01.700 --> 01:19:02.780\nit works out really well.\n\n1832\n01:19:02.780 --> 01:19:05.670\nThere are a few steps we got to go\nthrough to set it up, to get it ready.\n\n1833\n01:19:05.670 --> 01:19:08.480\nWe've got to make sure that on the source,\n\n1834\n01:19:08.480 --> 01:19:10.800\nthe machine that you are going to\nbe pulling the log files from, so\n\n1835\n01:19:10.800 --> 01:19:14.380\nin our case we're going to use DC2,\nI believe, as our source.\n\n1836\n01:19:14.380 --> 01:19:17.490\nWe've got to make sure that we open\nup the appropriate firewall holes.\n\n1837\n01:19:17.490 --> 01:19:20.950\nWe've got to turn on Windows Remote\nManagement, basically, and make sure\n\n1838\n01:19:20.950 --> 01:19:24.690\nthe firewall exceptions are there so\nwe can reach out and grab those log files.\n\n1839\n01:19:24.690 --> 01:19:27.055\nThen on the collector,\nthe one I'm sitting at,\n\n1840\n01:19:27.055 --> 01:19:29.592\nwhich in our case is going\nto be a Windows 8 machine,\n\n1841\n01:19:29.592 --> 01:19:33.368\nI've got to enable the Windows event\ncollector utility and configure that.\n\n1842\n01:19:33.368 --> 01:19:36.308\nAnd then,\nthe collector's computer account,\n\n1843\n01:19:36.308 --> 01:19:40.609\nnot the account you're logged on with,\nbut the computer account Needs\n\n1844\n01:19:40.609 --> 01:19:45.140\nto be added to the local admin's group\non each one of the source computers.\n\n1845\n01:19:45.140 --> 01:19:49.120\nSo if you're monitoring ten different\nservers, you'd have to add that computer\n\n1846\n01:19:49.120 --> 01:19:52.110\nto the local administrator's group\non each one of those servers.\n\n1847\n01:19:52.110 --> 01:19:56.840\nGreat use for those restricted groups we\ntalked about in a previous episode, so.\n\n1848\n01:19:57.920 --> 01:19:59.880\n>> All right, so Mike,\nwalk me through the process here.\n\n1849\n01:19:59.880 --> 01:20:00.780\nLet's get this set up.\n\n1850\n01:20:00.780 --> 01:20:02.180\nSo I'm\n>> Which one do you want to start on?\n\n1851\n01:20:02.180 --> 01:20:03.870\nIt really doesn't matter\nwhich end we start on.\n\n1852\n01:20:03.870 --> 01:20:06.700\nYou can set up either one first,\nso we wanna start on.\n\n1853\n01:20:06.700 --> 01:20:07.860\n>> Let's start on,\n>> the source.\n\n1854\n01:20:07.860 --> 01:20:10.930\nSo this is the source of the event logs\nthat I want to send somewhere else.\n\n1855\n01:20:10.930 --> 01:20:11.530\n>> So this is DC2.\n\n1856\n01:20:11.530 --> 01:20:14.400\nSo what we've got to do is we're\ngoing to open up command prompt.\n\n1857\n01:20:14.400 --> 01:20:17.190\nAnd really easy command again,\njust the key for the exam.\n\n1858\n01:20:17.190 --> 01:20:19.950\nMake sure you remember which command\nyou're running on the source, and\n\n1859\n01:20:19.950 --> 01:20:21.510\nwhich command you're\nrunning on the collector.\n\n1860\n01:20:21.510 --> 01:20:26.230\nAnd on the source, we're gonna do a winrm,\nspace, quickconfig,\n\n1861\n01:20:26.230 --> 01:20:28.230\nno forward slash on this guy.\n\n1862\n01:20:28.230 --> 01:20:29.670\nAnd quickconfig is all one word, yep.\n\n1863\n01:20:31.290 --> 01:20:34.820\nAnd that should enable my Windows remote\nmanagement, and open up the appropriate\n\n1864\n01:20:34.820 --> 01:20:39.300\nfirewall exceptions, and it tells me we're\nalready set up so we're good to go there.\n\n1865\n01:20:39.300 --> 01:20:40.830\nAll right.\n>> And then while we're here,\n\n1866\n01:20:40.830 --> 01:20:42.590\nwe might as well go ahead and pull up.\n\n1867\n01:20:42.590 --> 01:20:44.580\nNo, you can go open up\nmaybe computer management.\n\n1868\n01:20:44.580 --> 01:20:49.250\nWe need to add that, whichever client\nwe're using to the local admin's group.\n\n1869\n01:20:50.920 --> 01:20:51.690\nGo into computer management.\n\n1870\n01:20:51.690 --> 01:20:53.680\n>> You know what?\nThis is a domain controller.\n\n1871\n01:20:53.680 --> 01:21:00.280\nSo we'll have to do that through\nactive directory users and computers.\n\n1872\n01:21:00.280 --> 01:21:03.830\nSo this is not the greatest solution.\n\n1873\n01:21:03.830 --> 01:21:05.660\nSo it's got to be a local administrator.\n\n1874\n01:21:05.660 --> 01:21:08.750\nWell, domain controllers don't\nhave local administrators.\n\n1875\n01:21:08.750 --> 01:21:10.730\nThey have domain administrator, so\n\n1876\n01:21:10.730 --> 01:21:15.660\nwe'll have to go a little bit beyond the\npermission level that we'd normally want.\n\n1877\n01:21:15.660 --> 01:21:18.510\nBut it will work, so\nwe'll go into domain admins, and so\n\n1878\n01:21:18.510 --> 01:21:23.070\nwe need to add-in the computer\nwe're using to monitor, right?\n\n1879\n01:21:23.070 --> 01:21:26.199\nSo we're going to use IT Pro TV-CL1.\n\n1880\n01:21:26.199 --> 01:21:27.230\n>> You got it.\n\n1881\n01:21:27.230 --> 01:21:30.360\n>> Yeah, it doesn't look for\ncomputers by default.\n\n1882\n01:21:30.360 --> 01:21:30.860\n>> Crazy.\n\n1883\n01:21:32.980 --> 01:21:34.001\nThere we go.\n\n1884\n01:21:36.218 --> 01:21:39.146\n>> So now we've added that collector\ncomputer to the, in this case,\n\n1885\n01:21:39.146 --> 01:21:41.830\nthe domain admins, but again,\nthis is the local admins.\n\n1886\n01:21:41.830 --> 01:21:43.760\n>> You know,\nI just did it in the wrong spot.\n\n1887\n01:21:43.760 --> 01:21:46.290\nI did it in the permissions on the group,\nnot the members.\n\n1888\n01:21:46.290 --> 01:21:47.215\n>> Whoops.\n\n1889\n01:21:47.215 --> 01:21:48.510\n>> Yeah, let me fix that.\n\n1890\n01:21:49.820 --> 01:21:50.855\nGlad I caught that.\n\n1891\n01:21:53.200 --> 01:21:54.279\nThere we go.\n\n1892\n01:21:58.564 --> 01:22:00.440\nThere we are\n>> And that's pretty much it.\n\n1893\n01:22:00.440 --> 01:22:01.340\nThat's all we'd have to name.\n\n1894\n01:22:01.340 --> 01:22:03.570\nWe'd have to do that on each\none of our source computers.\n\n1895\n01:22:03.570 --> 01:22:06.930\nIf we had ten servers we were monitoring,\nwe would have added that to\n\n1896\n01:22:06.930 --> 01:22:10.090\neach one of those, and run that\ncommand on each one of those servers.\n\n1897\n01:22:10.090 --> 01:22:14.080\nThen we can flip over the client, and we\ncan set up the other half, the collector.\n\n1898\n01:22:14.080 --> 01:22:18.994\nWe're going to do the same thing,\nwe're going to open up command prompt,\n\n1899\n01:22:18.994 --> 01:22:23.207\nand this one's going to be wecutil,\nspace qc for quick config.\n\n1900\n01:22:26.190 --> 01:22:31.410\n>> So wec, that's the Windows event\ncollector utility, and then qc is.\n\n1901\n01:22:31.410 --> 01:22:33.770\n>> For quick config, yeah\n>> All right.\n\n1902\n01:22:33.770 --> 01:22:34.730\n>> You go to execute that, and\n\n1903\n01:22:34.730 --> 01:22:36.440\nit's gonna ask you if you\nwant to turn that service on.\n\n1904\n01:22:36.440 --> 01:22:38.270\nI believe it's gonna\nset to a delayed start.\n\n1905\n01:22:38.270 --> 01:22:42.020\nHit Y for yes, and\nwe should be good to go.\n\n1906\n01:22:42.020 --> 01:22:46.750\n>> So wecutil and then qc,\nI just told it yes so the service started.\n\n1907\n01:22:46.750 --> 01:22:47.710\n>> And that's it.\n\n1908\n01:22:47.710 --> 01:22:48.900\nPerfect.\nNow we are good to go.\n\n1909\n01:22:48.900 --> 01:22:52.800\nNow what we can do, is we can go back\ninto our event log system on our client.\n\n1910\n01:22:52.800 --> 01:22:54.090\n>> And we can create our subscription.\n\n1911\n01:22:55.550 --> 01:22:57.020\nWe'll navigate over to that event log.\n\n1912\n01:22:57.020 --> 01:23:01.010\nAnd there's a node in here for\nsubscriptions.\n\n1913\n01:23:01.010 --> 01:23:03.560\nSo down there at the bottom on\nthat left in the navigation tree,\n\n1914\n01:23:03.560 --> 01:23:06.320\nwe right-click on that,\nchoose New Subscription.\n\n1915\n01:23:06.320 --> 01:23:08.700\nOr, Create Subscription, I guess it is.\n\n1916\n01:23:08.700 --> 01:23:10.180\nCreate subscription indeed.\n\n1917\n01:23:11.190 --> 01:23:13.290\n>> And\nthen we basically get that same filter,\n\n1918\n01:23:13.290 --> 01:23:16.520\nthat same dialog that we did when\nwe created those custom views.\n\n1919\n01:23:16.520 --> 01:23:19.640\nSo we should be able to choose what\nevents we want to see, what time period,\n\n1920\n01:23:19.640 --> 01:23:21.690\nif we wanted to filter it a little bit.\n\n1921\n01:23:21.690 --> 01:23:22.510\nSo, we give it a name.\n\n1922\n01:23:23.970 --> 01:23:27.580\nAnd then where you want to put them, I've\nalways left them in the forwarded events\n\n1923\n01:23:27.580 --> 01:23:32.470\nlog, I suppose you could make a special\nplace to put those guys in but.\n\n1924\n01:23:32.470 --> 01:23:34.820\n>> Yea,\nif you're monitoring more than one server,\n\n1925\n01:23:34.820 --> 01:23:37.740\nyou might not want to lump all\nthe results into the same log.\n\n1926\n01:23:37.740 --> 01:23:39.360\nI normally do,\ncuz you can filter that log.\n\n1927\n01:23:39.360 --> 01:23:40.380\n>> It's so easy to filter it.\n\n1928\n01:23:40.380 --> 01:23:41.630\nExactly, exactly.\n\n1929\n01:23:41.630 --> 01:23:43.590\nAnd then we'll do collector initiated,\n\n1930\n01:23:43.590 --> 01:23:46.600\nwhich means it's going to be started\nby the, in this case, the client.\n\n1931\n01:23:46.600 --> 01:23:49.400\nHe's going to reach out and say it's\ntime for you to get me the log files.\n\n1932\n01:23:49.400 --> 01:23:53.690\nAnd we just pick computers and it gives\nus the option to test to make sure our\n\n1933\n01:23:53.690 --> 01:23:55.120\nFirewall rules are set up properly.\n\n1934\n01:23:57.230 --> 01:24:01.485\nSo we find our computer, and then we can\nclick that test button if we want, and\n\n1935\n01:24:01.485 --> 01:24:02.860\nhopefully we get a success message there.\n\n1936\n01:24:04.560 --> 01:24:05.917\n>> It's trying [CROSSTALK]\nthinking about it.\n\n1937\n01:24:05.917 --> 01:24:06.730\n>> Oo it's not happy.\n\n1938\n01:24:06.730 --> 01:24:09.444\n>> Wait a minute, was I supposed to\npick myself ,or was I supposed to pick\n\n1939\n01:24:09.444 --> 01:24:12.831\nthe [CROSSTALK]\n>> You wanna pick the one you wanna pull\n\n1940\n01:24:12.831 --> 01:24:14.270\nthe logs from.\n\n1941\n01:24:14.270 --> 01:24:15.180\n>> There we go.\nI put the wrong one in.\n\n1942\n01:24:15.180 --> 01:24:19.760\n[CROSSTALK] There we go.\n\n1943\n01:24:19.760 --> 01:24:20.680\nAnd then we test it, and\n\n1944\n01:24:20.680 --> 01:24:22.580\nwe should get a quick success-\n>> There we go.\n\n1945\n01:24:22.580 --> 01:24:24.210\n>> Everything's good to go.\n\n1946\n01:24:24.210 --> 01:24:27.230\nSo we've told it what computer\nwe want to pull the log from,\n\n1947\n01:24:27.230 --> 01:24:29.660\nthen we're gonna go down and\nchoose what events we want to see.\n\n1948\n01:24:29.660 --> 01:24:32.060\nCuz just like when you're\nmonitoring it locally,\n\n1949\n01:24:32.060 --> 01:24:34.520\nI don't really want to see all\nthe informationals and things like that.\n\n1950\n01:24:34.520 --> 01:24:37.080\nSo we just go back in there,\nselect events, and\n\n1951\n01:24:37.080 --> 01:24:39.560\nthere's that same little\ndialog box that we get to use.\n\n1952\n01:24:39.560 --> 01:24:43.850\nSo we can pick what we want, we can pick\nwhat log files we want to pull from.\n\n1953\n01:24:43.850 --> 01:24:48.500\nYeah, I would pick all the main three at\nleast, so we can get something to show,\n\n1954\n01:24:48.500 --> 01:24:52.080\nwe might have to trigger an event\nto get something to pop over.\n\n1955\n01:24:52.080 --> 01:24:54.510\nAll right.\nSo, I'll just do System and Application.\n\n1956\n01:24:54.510 --> 01:24:58.190\nDon't really need anything else, do we?\n\n1957\n01:24:58.190 --> 01:25:01.170\n>> If you do, I'm trying to think\nwhat we're gonna do to trigger it.\n\n1958\n01:25:01.170 --> 01:25:04.000\nSecurity we could log off and log back on,\nand maybe that would show up.\n\n1959\n01:25:04.000 --> 01:25:05.770\n>> Okay, we can add Security.\n\n1960\n01:25:05.770 --> 01:25:07.810\nI'll allow it.\n\n1961\n01:25:07.810 --> 01:25:10.250\nSo, we got that entered in,\nand that should be about it.\n\n1962\n01:25:10.250 --> 01:25:12.920\n>> You've got to place the change\nof credentials if necessary,\n\n1963\n01:25:12.920 --> 01:25:14.560\nkind of like we did earlier.\n\n1964\n01:25:14.560 --> 01:25:18.860\n>> Well, no, for example we added this\ncomputer to the domain admins group.\n\n1965\n01:25:18.860 --> 01:25:20.910\nAnd that's not necessarily\nthe greatest thing to do.\n\n1966\n01:25:20.910 --> 01:25:23.710\nSo we might want to create a service\naccount and use that instead, and\n\n1967\n01:25:23.710 --> 01:25:27.490\nthat will save us from having to stick\na computer in the domain admins, but\n\n1968\n01:25:27.490 --> 01:25:28.980\nin our case, we don't.\n\n1969\n01:25:28.980 --> 01:25:29.910\n>> Beautiful.\n\n1970\n01:25:29.910 --> 01:25:30.480\nSo we've got it?\n\n1971\n01:25:30.480 --> 01:25:33.070\n>> And that's it, and\nnow up underneath Windows Logs,\n\n1972\n01:25:33.070 --> 01:25:35.380\nwe'll have a node that's\ncalled forwarded events.\n\n1973\n01:25:35.380 --> 01:25:36.805\nAnd that's where they should show up.\n\n1974\n01:25:36.805 --> 01:25:40.870\nAo now the question is, you know, how long\ndo we wait to see if, we're just going to\n\n1975\n01:25:40.870 --> 01:25:46.282\ntrigger an event over there, something\nin the DC should pop up over here.\n\n1976\n01:25:46.282 --> 01:25:49.150\n>> All right, so\nlet me jump over to the DC and.\n\n1977\n01:25:49.150 --> 01:25:51.180\n>> What damage can we do here?\n\n1978\n01:25:51.180 --> 01:25:55.500\n>> Maybe restart a service, or\nstop and start active directory maybe.\n\n1979\n01:25:55.500 --> 01:25:59.710\n>> You know I filtered it so\nthat it was just errors and stuff.\n\n1980\n01:25:59.710 --> 01:26:02.600\nSo a normal service\nrestart wont trigger that.\n\n1981\n01:26:02.600 --> 01:26:05.840\nBut you know, log out,\nlog on active directory.\n\n1982\n01:26:05.840 --> 01:26:07.240\nI guess I could've removed that filter.\n\n1983\n01:26:07.240 --> 01:26:08.850\nThat probably would've been\nthe smarter thing to do.\n\n1984\n01:26:08.850 --> 01:26:10.660\n>> You can go back and\nchange it if you want.\n\n1985\n01:26:10.660 --> 01:26:11.660\nThat's a good point.\n\n1986\n01:26:11.660 --> 01:26:13.110\nWe're not locked in stone, right?\n\n1987\n01:26:13.110 --> 01:26:16.600\nSo if I go to my subscription and\nI edit that,\n\n1988\n01:26:18.250 --> 01:26:22.950\nselect events, we'll go ahead and\njust get them all.\n\n1989\n01:26:22.950 --> 01:26:23.450\n>> Yep.\n\n1990\n01:26:27.280 --> 01:26:30.460\nOkay, so now we can go back there,\nand you know,\n\n1991\n01:26:30.460 --> 01:26:32.960\nmaybe I'll restart,\nrestart the net log on service.\n\n1992\n01:26:32.960 --> 01:26:34.860\nThat's always fun on the main controller.\n\n1993\n01:26:34.860 --> 01:26:36.850\n>> Yeah, there's a time interval and\nyou know what?\n\n1994\n01:26:36.850 --> 01:26:39.740\nI can't think it off the top of my head,\nhow often it actually reaches out and\n\n1995\n01:26:39.740 --> 01:26:40.658\ngrabs those logs.\n\n1996\n01:26:40.658 --> 01:26:44.933\nI believe it's five, but\ndon't quote me on that.\n\n1997\n01:26:44.933 --> 01:26:46.128\nI'd have to go check on it.\n\n1998\n01:26:51.527 --> 01:26:52.780\nRestart this service.\n\n1999\n01:26:52.780 --> 01:26:57.440\nTrying to just do something to\ngenerate an event over there.\n\n2000\n01:26:57.440 --> 01:26:58.333\nJust hold the power button down.\n\n2001\n01:26:58.333 --> 01:26:59.170\nIt's just a domain controller.\n\n2002\n01:26:59.170 --> 01:27:00.453\n>> That's a good point.\n\n2003\n01:27:00.453 --> 01:27:04.080\n[LAUGH] What else can we do in here?\n\n2004\n01:27:04.080 --> 01:27:05.710\nAdd a role, maybe?\n\n2005\n01:27:05.710 --> 01:27:07.070\nOr.\n\n2006\n01:27:07.070 --> 01:27:08.180\n>> There you go.\n\n2007\n01:27:08.180 --> 01:27:10.798\n>> I'll do a little IS [INAUDIBLE],\nI didn't do elevated permissions.\n\n2008\n01:27:10.798 --> 01:27:18.552\n[INAUDIBLE]\nWe'll give that a second,\n\n2009\n01:27:18.552 --> 01:27:20.440\nand then I guess I can logout and\nlog back on.\n\n2010\n01:27:20.440 --> 01:27:23.360\nI was just trying to do some things\nthat might generate some event messages.\n\n2011\n01:27:23.360 --> 01:27:25.550\nAnd it's gonna create those events, and\n\n2012\n01:27:25.550 --> 01:27:29.470\nat some point in the near future our\nclient will check in and copy those.\n\n2013\n01:27:29.470 --> 01:27:31.042\nNow, it's not gonna delete\nthem from the server.\n\n2014\n01:27:31.042 --> 01:27:34.411\nSo they're still there on the server if we\nneed to go and troubleshoot from there.\n\n2015\n01:27:34.411 --> 01:27:38.017\nBut now there's this copy, and the cool\npart is like Mike said, you come in in\n\n2016\n01:27:38.017 --> 01:27:41.734\nthe morning You open up your event log on\nyour local machine and you can filter and\n\n2017\n01:27:41.734 --> 01:27:44.900\nlook through all the different\nother systems that are out there.\n\n2018\n01:27:44.900 --> 01:27:48.280\nI used to do this regularly at some of\nthe companies that I've worked for.\n\n2019\n01:27:48.280 --> 01:27:51.520\nWhere you just look and say, all right,\ndid any errors happen overnight?\n\n2020\n01:27:51.520 --> 01:27:56.120\nAnd you can hopefully spot the problems\nbefore your end users or customers do,\n\n2021\n01:27:56.120 --> 01:27:58.510\nand that's really when you're successful.\n\n2022\n01:27:58.510 --> 01:28:01.260\n>> And you can set up several\ndifferent subscriptions.\n\n2023\n01:28:01.260 --> 01:28:05.120\nThe one we set up, you can add multiple\ncomputers to the subscription itself.\n\n2024\n01:28:05.120 --> 01:28:08.270\nSo if I had five different\nservers I was monitoring and\n\n2025\n01:28:08.270 --> 01:28:11.910\nI want to get the same events,\nthe same time period, I can sit there and\n\n2026\n01:28:11.910 --> 01:28:14.360\nI could add multiple\ncomputers to that list.\n\n2027\n01:28:14.360 --> 01:28:17.800\nIf I needed to get a different set\nof events from some computers,\n\n2028\n01:28:17.800 --> 01:28:19.980\nI can just turn around and\nmake a new subscription.\n\n2029\n01:28:19.980 --> 01:28:23.370\nSo for my DNS servers,\nmaybe I've got one type of subscription.\n\n2030\n01:28:23.370 --> 01:28:27.210\nFor my DCs, maybe I've got different\nsubscription that shows different events\n\n2031\n01:28:27.210 --> 01:28:28.920\nfiltered a slightly different way.\n\n2032\n01:28:28.920 --> 01:28:29.990\nBut again, as you guys see,\n\n2033\n01:28:29.990 --> 01:28:32.890\nthat the filtering capabilities\nin these log files are fantastic.\n\n2034\n01:28:32.890 --> 01:28:35.800\nSo, sometimes it's easier\njust to grab them all and\n\n2035\n01:28:35.800 --> 01:28:38.470\nthen filter it down and\nuse your custom views.\n\n2036\n01:28:38.470 --> 01:28:41.130\nLet's go see if anything's\nmade it in here.\n\n2037\n01:28:41.130 --> 01:28:42.810\nNothing yet, but we've hardly waiting.\n\n2038\n01:28:42.810 --> 01:28:44.240\nCan we force the subscription?\n\n2039\n01:28:44.240 --> 01:28:47.580\n>> I don't know if you\ncan actually trigger it.\n\n2040\n01:28:47.580 --> 01:28:51.600\n>> Well, we do have an error in here.\n\n2041\n01:28:51.600 --> 01:28:53.870\nIs that from when I put the,\nno, that's right.\n\n2042\n01:28:53.870 --> 01:28:56.090\nI got a last attempt at 4:08.\n\n2043\n01:28:56.090 --> 01:28:56.600\n>> Access was denied.\n\n2044\n01:28:56.600 --> 01:28:59.500\n>> Which was two minutes go,\naccess denied.\n\n2045\n01:28:59.500 --> 01:29:01.650\nSo, it's unhappy now.\n\n2046\n01:29:01.650 --> 01:29:04.970\nThis may stem from it\nbeing a domain controller.\n\n2047\n01:29:04.970 --> 01:29:06.320\nSo let's just do this.\n\n2048\n01:29:06.320 --> 01:29:07.971\nLet's go and.\n\n2049\n01:29:10.221 --> 01:29:13.085\nWill it not let me change\nthe machine account that that we've?\n\n2050\n01:29:13.085 --> 01:29:16.425\nLet's switch it to run\nunder my user account.\n\n2051\n01:29:16.425 --> 01:29:19.485\nJust because it's a domain controller, so\n\n2052\n01:29:19.485 --> 01:29:21.555\nwe're having to do things\na little bit more special.\n\n2053\n01:29:21.555 --> 01:29:26.475\nWhat Mike said earlier though, normally\nyou put your computer account in that\n\n2054\n01:29:26.475 --> 01:29:28.765\nlocal administrator group,\nand it takes care of it.\n\n2055\n01:29:28.765 --> 01:29:33.132\nBut this time because it's a domain\ncontroller, I'm going to just try and\n\n2056\n01:29:33.132 --> 01:29:34.389\nforce it along here.\n\n2057\n01:29:36.555 --> 01:29:37.980\nHere, let me just pull up its status.\n\n2058\n01:29:37.980 --> 01:29:40.980\n>> There we go.\n\n2059\n01:29:40.980 --> 01:29:44.040\n>> All right.\nIt says we're active so that's good.\n\n2060\n01:29:44.040 --> 01:29:45.870\nAnd if I look under my forwarded events.\n\n2061\n01:29:48.250 --> 01:29:51.020\nWell shoot, now all that stuff that I did.\n\n2062\n01:29:51.020 --> 01:29:52.530\n>> We missed all that didn't we?\n\n2063\n01:29:52.530 --> 01:29:53.770\n>> I know, yeah.\nI'll have to redo it.\n\n2064\n01:29:53.770 --> 01:29:57.170\nAll right well let me, we'll give it\na shot here with just a few quick things,\n\n2065\n01:29:57.170 --> 01:29:58.800\nand if it doesn't work then.\n\n2066\n01:30:00.230 --> 01:30:02.330\n>> Yeah,\nthe main thing is again on that exam,\n\n2067\n01:30:02.330 --> 01:30:04.090\njust make sure you've\ngot those two commands.\n\n2068\n01:30:04.090 --> 01:30:07.620\nKnow the WIN RM space quick\nconfig that you're going to run\n\n2069\n01:30:07.620 --> 01:30:09.420\non each of the source computers.\n\n2070\n01:30:09.420 --> 01:30:14.700\nWEC UTIL space QC for\non the collector computer.\n\n2071\n01:30:14.700 --> 01:30:18.890\nAnd then again, add the computer account,\nthe local admins group on each one of\n\n2072\n01:30:18.890 --> 01:30:21.430\nthose machines, and\nyou should be good to go.\n\n2073\n01:30:21.430 --> 01:30:22.740\nAnd it's just a time thing.\n\n2074\n01:30:22.740 --> 01:30:25.470\nSometimes with live TV we don't\nwant to sit here and wait for\n\n2075\n01:30:25.470 --> 01:30:28.500\nthese events to occur, but,\nwe come back 15 minutes later and\n\n2076\n01:30:28.500 --> 01:30:30.910\nthen all of those events\nare going to populate in there.\n\n2077\n01:30:30.910 --> 01:30:31.730\n>> I get so impatient.\n\n2078\n01:30:31.730 --> 01:30:34.220\n>> I know, right.\n[LAUGH]\n\n2079\n01:30:34.220 --> 01:30:36.160\nIt seems like the faster computers get,\n\n2080\n01:30:36.160 --> 01:30:37.820\nthe less patient I am with '.\n\n2081\n01:30:37.820 --> 01:30:40.170\nI mean,\nI expect them to work faster than me.\n\n2082\n01:30:40.170 --> 01:30:43.110\nI mean, I'm not the quickest guy and\nif that computer can't keep up with me,\n\n2083\n01:30:43.110 --> 01:30:45.400\nthere's something wrong.\n\n2084\n01:30:45.400 --> 01:30:48.620\n>> All right.\nSo just restarting some services again and\n\n2085\n01:30:50.100 --> 01:30:53.360\nthat should be enough to generate\nthe messages, I could do the logout\n\n2086\n01:30:53.360 --> 01:30:54.750\n>> We could check the log file in DC,\n\n2087\n01:30:54.750 --> 01:30:59.160\nsee if there's new entries, and then make\nsure they're showing up on the other side.\n\n2088\n01:31:00.340 --> 01:31:02.220\nSee what the timestamp\nis on that last entry.\n\n2089\n01:31:03.275 --> 01:31:05.975\nAll right, so\nit's showing 4:12 on the old clock.\n\n2090\n01:31:07.515 --> 01:31:12.215\nAnd, under the system log I've\ngot events from 4:12, yep, so\n\n2091\n01:31:12.215 --> 01:31:13.595\nthere's the service restarting.\n\n2092\n01:31:13.595 --> 01:31:16.665\nSo, we should see that assuming it\npicks up from the other side and\n\n2093\n01:31:16.665 --> 01:31:19.625\nso, we'll go and refresh.\n\n2094\n01:31:21.520 --> 01:31:23.240\nStill empty but it may not have picked up.\n\n2095\n01:31:23.240 --> 01:31:32.420\n>> I don't think there is a way to force.\n\n2096\n01:31:32.420 --> 01:31:33.860\nLet's see if I can find.\n\n2097\n01:31:33.860 --> 01:31:35.180\n>> Yeah, you kind of just have to wait.\n\n2098\n01:31:36.540 --> 01:31:39.268\nWell they expect you to\nsee immediate results.\n\n2099\n01:31:39.268 --> 01:31:46.540\nLet's see, interval\n>> We need immediate results now.\n\n2100\n01:31:46.540 --> 01:31:48.060\nDon't mess with us.\n\n2101\n01:31:48.060 --> 01:31:50.670\nI don't have a filter still turned on,\ndo I?\n\n2102\n01:31:50.670 --> 01:31:52.540\nFilter turn on.\n\n2103\n01:31:52.540 --> 01:31:53.040\nNo.\n\n2104\n01:31:54.300 --> 01:31:55.910\nSo, yeah, we basically just have to wait.\n\n2105\n01:31:57.130 --> 01:31:57.792\nThis is fun.\n\n2106\n01:31:57.792 --> 01:32:00.900\n>> [LAUGH]\n>> [LAUGH] All right, well, periodically,\n\n2107\n01:32:00.900 --> 01:32:03.630\nwe're gonna reach out and check in with\nthat other system and bring those log\n\n2108\n01:32:03.630 --> 01:32:07.290\nevents down and it's just a matter of\nkind of waiting for that to happen.\n\n2109\n01:32:07.290 --> 01:32:11.360\n>> Yeah, I was gonna see if I could find,\nreal quick, like a time that it occurred.\n\n2110\n01:32:11.360 --> 01:32:14.200\n>> Let me make sure I didn't do\nany other stupid limits on here.\n\n2111\n01:32:14.200 --> 01:32:15.110\nSo collector initiated.\n\n2112\n01:32:15.110 --> 01:32:16.360\nWe initiate it.\n\n2113\n01:32:16.360 --> 01:32:19.620\nWe reach out to the other side, great.\n\n2114\n01:32:19.620 --> 01:32:25.310\nOur events, we chose to get\n\n2115\n01:32:25.310 --> 01:32:29.870\ncritical, warning, verbose,\napplication security and system logs,\n\n2116\n01:32:31.310 --> 01:32:34.360\nall event IDs, I'm just checking to make\nsure we didn't put any crazy filters in.\n\n2117\n01:32:34.360 --> 01:32:36.230\nI think we're just being impatient.\n\n2118\n01:32:36.230 --> 01:32:36.760\nYeah.\n\n2119\n01:32:36.760 --> 01:32:42.500\n>> I wanna say it's five minutes, but\nit could be up to 15 minutes on that guy,\n\n2120\n01:32:42.500 --> 01:32:45.390\nand this guy's got a really\nnice script for doing it.\n\n2121\n01:32:45.390 --> 01:32:48.180\nI don't think we're\ngetting into it that far.\n\n2122\n01:32:48.180 --> 01:32:49.862\n>> Let's fire up Visual Basic.\n\n2123\n01:32:49.862 --> 01:32:56.090\n[LAUGH]\nI'm just finding the status listing.\n\n2124\n01:32:56.090 --> 01:33:00.123\n>> I'm using my event viewer to trouble\nshoot and see if I have any events that\n\n2125\n01:33:00.123 --> 01:33:00.752\n>> [LAUGH]\n\n2126\n01:33:00.752 --> 01:33:03.190\n>> are in the event log collector.\n\n2127\n01:33:03.190 --> 01:33:05.958\nUsing a tool to troubleshoot that tool.\n\n2128\n01:33:05.958 --> 01:33:13.877\n[CROSSTALK]\nYeah, I'm not seeing any errors and\n\n2129\n01:33:13.877 --> 01:33:17.450\nthe status is coming back fine,\nso I think we just have to wait.\n\n2130\n01:33:17.450 --> 01:33:18.570\nWhich.\n\n2131\n01:33:18.570 --> 01:33:19.670\n>> What else do we got to cover?\n\n2132\n01:33:19.670 --> 01:33:22.410\nWe got a few minutes left in our segment.\n\n2133\n01:33:22.410 --> 01:33:26.880\n>> The only other objective they list\nis configuring network monitoring, and\n\n2134\n01:33:26.880 --> 01:33:29.540\nnetwork monitoring, they're really just\ntalking about running your performance\n\n2135\n01:33:29.540 --> 01:33:33.560\nmonitor and monitoring a remote system,\nwhich we've really already seen.\n\n2136\n01:33:33.560 --> 01:33:34.460\n>> Yeah, we have.\n>> But let's just do\n\n2137\n01:33:34.460 --> 01:33:36.100\nan example since we are waiting on this.\n\n2138\n01:33:36.100 --> 01:33:36.980\n>> Okay.\n\n2139\n01:33:36.980 --> 01:33:39.735\n>> So,\nwhen we fire up that performance monitor,\n\n2140\n01:33:39.735 --> 01:33:44.080\nlet me just get back into\nthe performance monitor, when we go and\n\n2141\n01:33:44.080 --> 01:33:47.330\nfire up the performance monitor and\nwe start adding in counters, well,\n\n2142\n01:33:47.330 --> 01:33:51.120\nthe default is that the counters\nwe add in are for this machine.\n\n2143\n01:33:51.120 --> 01:33:52.000\nRight?\nSo right now I am\n\n2144\n01:33:52.000 --> 01:33:55.870\nmonitoring percent processor time for\nthis computer.\n\n2145\n01:33:55.870 --> 01:34:01.360\nBut you can hit add to add in a counter,\nand instead of local computer,\n\n2146\n01:34:01.360 --> 01:34:06.320\nyou can punch in IT, PROTV, CL1,\nyou can put in another computer.\n\n2147\n01:34:07.570 --> 01:34:09.380\n>> And when you do that,\nit's gonna reach out to it.\n\n2148\n01:34:09.380 --> 01:34:11.240\nAnd you know I got the firewall\nthat's blocking, so\n\n2149\n01:34:11.240 --> 01:34:15.910\nwe need to do the WinRM over there\nalso to turn on the remote management.\n\n2150\n01:34:15.910 --> 01:34:18.720\nSo you can do that, though, and it'll\nreach out to that other machine, connect,\n\n2151\n01:34:18.720 --> 01:34:20.770\nand allow you to monitor their events.\n\n2152\n01:34:20.770 --> 01:34:21.530\nThis allows you, again,\n\n2153\n01:34:21.530 --> 01:34:24.930\nto have a central place where you\ncan monitor multiple systems.\n\n2154\n01:34:24.930 --> 01:34:25.560\nSo here.\n\n2155\n01:34:25.560 --> 01:34:26.760\nI can jump over to.\n\n2156\n01:34:26.760 --> 01:34:28.887\n>> And a lot better than trying\nto go into each machine and\n\n2157\n01:34:28.887 --> 01:34:31.310\ncheck each one's performance logs or\nsomething like that.\n\n2158\n01:34:31.310 --> 01:34:35.150\nI got this one log file I can go to and\naccess all that information.\n\n2159\n01:34:35.150 --> 01:34:36.700\nJust work smarter, not harder, right?\n\n2160\n01:34:38.850 --> 01:34:41.260\n>> You know, Performance Monitor isn't,\ndid I spell Performance wrong?\n\n2161\n01:34:42.820 --> 01:34:44.930\n>> That's Microsoft's\nwonderful search engine.\n\n2162\n01:34:44.930 --> 01:34:48.340\n>> Yeah, that Search Everywhere\nthing is not as effective as you'd\n\n2163\n01:34:48.340 --> 01:34:48.920\nthink it would be.\n\n2164\n01:34:48.920 --> 01:34:50.160\n>> What were you trying to look for?\n\n2165\n01:34:50.160 --> 01:34:51.520\n>> The Performance Monitor in Windows 8.\n\n2166\n01:34:51.520 --> 01:34:52.260\nI'll just do it this way.\n\n2167\n01:34:52.260 --> 01:34:53.340\nSo, it was what?\n\n2168\n01:34:53.340 --> 01:34:57.370\nwinrm quickconfg?\n\n2169\n01:34:57.370 --> 01:34:58.955\nYeah, yeah, yeah, just do it.\n\n2170\n01:34:58.955 --> 01:34:59.547\n>> [LAUGH]\n>> Do it! Hm.\n\n2171\n01:34:59.547 --> 01:35:05.900\nIt's given me a lot more feedback on\nthis one than it did on the server.\n\n2172\n01:35:05.900 --> 01:35:07.890\n>> Yeah, I think the server\nhad already been turned on.\n\n2173\n01:35:07.890 --> 01:35:09.930\nThat one is\n>> Not on yet, so.\n\n2174\n01:35:11.930 --> 01:35:13.264\n>> All right, so.\n\n2175\n01:35:18.346 --> 01:35:19.059\nNice.\n\n2176\n01:35:19.059 --> 01:35:21.250\n>> There we go.\n\n2177\n01:35:21.250 --> 01:35:24.490\nAll right, so now I'm connected to that\nother machine, or at least I think I am.\n\n2178\n01:35:24.490 --> 01:35:25.309\nAnd I can expand this out.\n\n2179\n01:35:25.309 --> 01:35:28.812\nIt is taking longer because it's having to\nreach out to that other machine to query\n\n2180\n01:35:28.812 --> 01:35:29.941\nvalues and get them back.\n\n2181\n01:35:29.941 --> 01:35:31.299\nSo I get my nice little hour glass.\n\n2182\n01:35:31.299 --> 01:35:34.631\nBut basically I can now start\nto pick performance counters.\n\n2183\n01:35:34.631 --> 01:35:38.809\nAnd so I could set up one where I\nmonitored percent processor time on 20\n\n2184\n01:35:38.809 --> 01:35:43.760\ndifferent workstations, and I could\nstart looking at all the different CPU.\n\n2185\n01:35:43.760 --> 01:35:45.810\nIt's useful if you have a web server farm.\n\n2186\n01:35:45.810 --> 01:35:47.220\nMaybe you have seven web servers and\n\n2187\n01:35:47.220 --> 01:35:49.420\nyou wanna monitor\nthe performance of all seven.\n\n2188\n01:35:49.420 --> 01:35:51.166\nSo, you could set those counters up.\n\n2189\n01:35:51.166 --> 01:35:54.203\nIt is a little burdensome on\nthe machine doing the monitoring.\n\n2190\n01:35:54.203 --> 01:35:56.279\nIt's having to reach out\nto these seven systems.\n\n2191\n01:35:56.279 --> 01:36:00.131\nSo you definitely wanna make sure\nthat you, if this a constant thing,\n\n2192\n01:36:00.131 --> 01:36:02.624\nthat you have a nice\ninterval set in between.\n\n2193\n01:36:02.624 --> 01:36:04.100\n>> Because if you leave\nit at one second and\n\n2194\n01:36:04.100 --> 01:36:06.170\nthere wasn't a lot of network\ntraffic going on there.\n\n2195\n01:36:07.270 --> 01:36:12.380\n>> So here, I'll add in percent processor\ntime, there we go, and now, convenient, so\n\n2196\n01:36:12.380 --> 01:36:17.170\nthey're both the same color,\nso, let me change it to blue.\n\n2197\n01:36:17.170 --> 01:36:17.840\nHere we go.\n\n2198\n01:36:18.860 --> 01:36:22.320\nAll right, and so\nnow I'm monitoring the process utilization\n\n2199\n01:36:22.320 --> 01:36:24.920\non my server as well\nas on the workstation.\n\n2200\n01:36:24.920 --> 01:36:28.930\nIf I jump over to CL1 and\nI generate a high CPU event,\n\n2201\n01:36:28.930 --> 01:36:34.400\nlike that, and I jump back over to DC1.\n\n2202\n01:36:34.400 --> 01:36:38.370\nSo, it's monitoring that and\nI should start to see.\n\n2203\n01:36:39.630 --> 01:36:40.200\n>> A little delay, maybe.\n\n2204\n01:36:41.640 --> 01:36:43.190\n>> Yeah, a little.\n\n2205\n01:36:43.190 --> 01:36:44.420\n>> It is on, isn't it?\n\n2206\n01:36:44.420 --> 01:36:45.580\n>> I don't know, is it flatlining?\n\n2207\n01:36:45.580 --> 01:36:51.092\n>> I only see one, Counter in there.\n\n2208\n01:36:51.092 --> 01:36:52.373\n>> Yeah, so.\n>> Wait, you know what?\n\n2209\n01:36:52.373 --> 01:36:53.350\n>> It's not working.\n\n2210\n01:36:53.350 --> 01:36:56.700\nYeah, so if you look at percent\nprocessor time for our server.\n\n2211\n01:36:56.700 --> 01:37:00.010\nHere we've got the various values,\nbut when I click on client two.\n\n2212\n01:37:00.010 --> 01:37:03.140\nWe've got dashed lines for all three,\nso it's actually blocking.\n\n2213\n01:37:03.140 --> 01:37:05.970\nIt thinks that it's-\n>> The object information is\n\n2214\n01:37:05.970 --> 01:37:06.540\na little different too.\n\n2215\n01:37:06.540 --> 01:37:08.410\nYou see how one is processor information,\none's processor?\n\n2216\n01:37:08.410 --> 01:37:11.260\nI don't know if we got the right category,\nmaybe?\n\n2217\n01:37:11.260 --> 01:37:12.510\n>> Did I pick the wrong thing?\n\n2218\n01:37:12.510 --> 01:37:13.530\n>> Possibly.\n\n2219\n01:37:13.530 --> 01:37:15.030\nI would not expect-\n>> Well,\n\n2220\n01:37:15.030 --> 01:37:16.925\nthat would not be the first time, so.\n\n2221\n01:37:16.925 --> 01:37:17.950\n>> [LAUGH]\n>> All right, so\n\n2222\n01:37:17.950 --> 01:37:20.170\nlet's leave that out,\nwe'll add in the other one.\n\n2223\n01:37:20.170 --> 01:37:23.270\nI don't wanna remove all counters,\nI wanna remove this one counter there.\n\n2224\n01:37:23.270 --> 01:37:24.140\nAll right.\n\n2225\n01:37:24.140 --> 01:37:25.600\nSo let's go ahead and add that one.\n\n2226\n01:37:25.600 --> 01:37:29.420\nSo it was under CL1.\n\n2227\n01:37:29.420 --> 01:37:30.302\n>> Right.\n\n2228\n01:37:30.302 --> 01:37:33.794\n>> And now I gotta wait impatiently again,\ndon't I?\n\n2229\n01:37:33.794 --> 01:37:35.677\nNow it's back to unable to connect.\n\n2230\n01:37:35.677 --> 01:37:37.534\nSo, if it's not able to connect\nto the machine, it's [CROSSTALK].\n\n2231\n01:37:37.534 --> 01:37:40.263\n>> Cuz you were in the right category,\nthat was processor.\n\n2232\n01:37:40.263 --> 01:37:43.193\n>> All right, so anyhow, you add it in,\nit basically monitors and\n\n2233\n01:37:43.193 --> 01:37:46.060\nyou get the double\ninformation right there.\n\n2234\n01:37:46.060 --> 01:37:48.820\nI'm not a big fan of this,\nI don't use it a lot,\n\n2235\n01:37:48.820 --> 01:37:50.410\nI usually use third party utilities.\n\n2236\n01:37:50.410 --> 01:37:53.338\nThings like Nagios, or\nSolarWinds, or whatever,\n\n2237\n01:37:53.338 --> 01:37:58.040\nbecause they can track it with SNMP,\nwhich is a little more efficient.\n\n2238\n01:37:58.040 --> 01:38:03.385\nThis is good on LANs, not good on WANs,\nit is a little network intensive.\n\n2239\n01:38:03.385 --> 01:38:04.750\nAs evidenced by the fact\nthat I can't get it.\n\n2240\n01:38:04.750 --> 01:38:06.401\n>> [LAUGH]\n>> All right,\n\n2241\n01:38:06.401 --> 01:38:09.460\nwell let's go see if-\n>> Maybe we've got some subscriptions\n\n2242\n01:38:09.460 --> 01:38:10.230\nshowing up now.\n\n2243\n01:38:10.230 --> 01:38:10.890\n>> Hopefully.\n\n2244\n01:38:10.890 --> 01:38:11.400\n>> Hopefully?\n>> Well,\n\n2245\n01:38:11.400 --> 01:38:12.980\nwe should have generated some errors,\nright?\n\n2246\n01:38:12.980 --> 01:38:13.530\n>> Yeah, right.\n>> So,\n\n2247\n01:38:13.530 --> 01:38:16.890\nlet's go see what we got\nback here in our event log.\n\n2248\n01:38:16.890 --> 01:38:20.244\nLet me stop that directory running.\n\n2249\n01:38:20.244 --> 01:38:22.728\n>> Fingers crossed.\n\n2250\n01:38:22.728 --> 01:38:24.720\n>> Refresh and still nothing.\n\n2251\n01:38:24.720 --> 01:38:25.982\nI can't imagine there are no log events.\n\n2252\n01:38:25.982 --> 01:38:27.305\n>> That's crazy.\n\n2253\n01:38:27.305 --> 01:38:30.761\n>> And another thing we can\ndo on these subscriptions, so\n\n2254\n01:38:30.761 --> 01:38:33.551\nhere we did a collector initiated, right?\n\n2255\n01:38:33.551 --> 01:38:37.841\nYou can change it to do a, whoops,\ninstead of, collector initiated,\n\n2256\n01:38:37.841 --> 01:38:40.570\nyou can do like a source\ncomputer initiated.\n\n2257\n01:38:40.570 --> 01:38:43.748\nAnd you actually have to set up\nthe subscription on the other side to\n\n2258\n01:38:43.748 --> 01:38:44.330\nkinda push back.\n\n2259\n01:38:44.330 --> 01:38:45.085\n>> Push them out.\n\n2260\n01:38:45.085 --> 01:38:47.140\n>> There's a few different\nways you can go about it.\n\n2261\n01:38:47.140 --> 01:38:50.010\nJust keep in mind that your biggest\nenemy with something like this,\n\n2262\n01:38:50.010 --> 01:38:51.470\nis usually the Windows Firewall.\n\n2263\n01:38:51.470 --> 01:38:55.170\nMaking sure that the firewall\nexceptions are put in, and all that.\n\n2264\n01:38:55.170 --> 01:39:00.362\nAnd when I did the WinRM settings, it was\nsupposed to put all the exceptions in,\n\n2265\n01:39:00.362 --> 01:39:02.936\nbut I guess it's possible it didn't.\n\n2266\n01:39:02.936 --> 01:39:04.656\nWe could dive in here and see.\n\n2267\n01:39:07.419 --> 01:39:12.480\nSo right now we should have,\nSome inbound and outbound rules for it.\n\n2268\n01:39:12.480 --> 01:39:14.024\nWhere is that buried in here?\n\n2269\n01:39:18.621 --> 01:39:19.121\nThere.\n\n2270\n01:39:20.300 --> 01:39:21.740\nRemote event log management.\n\n2271\n01:39:21.740 --> 01:39:24.480\nSo these are the various ones, and\n\n2272\n01:39:24.480 --> 01:39:28.800\nas I look down this list,\nI've got a lot of grey circles here.\n\n2273\n01:39:28.800 --> 01:39:31.150\nIt did not actually turn all these on.\n\n2274\n01:39:31.150 --> 01:39:32.400\nSee all these are turned off,\n\n2275\n01:39:32.400 --> 01:39:36.760\nthat'll probably explain why a lot\nof that stuff isn't working.\n\n2276\n01:39:36.760 --> 01:39:39.625\nYeah, so let's go ahead and turn those on.\n\n2277\n01:39:39.625 --> 01:39:40.793\nSo, that's always convenient.\n\n2278\n01:39:46.099 --> 01:39:49.593\n[LAUGH] You know what Nate\njust posted in the chatroom?\n\n2279\n01:39:49.593 --> 01:39:53.313\nHe said they configured this same\nthing in the 70-687 show, and\n\n2280\n01:39:53.313 --> 01:39:56.718\nthe events didn't start appearing\nuntil after the show ended,\n\n2281\n01:39:56.718 --> 01:40:00.220\nwhich is exactly what we're\nbumping into right here, so.\n\n2282\n01:40:00.220 --> 01:40:03.050\nI think it is just\nan an exercise in patience.\n\n2283\n01:40:03.050 --> 01:40:06.189\n>> Next time we do that first, and\nthen we pull it up at the end of the show.\n\n2284\n01:40:06.189 --> 01:40:09.876\n>> But yeah, so here were some firewall\nrules that it was supposed to try.\n\n2285\n01:40:09.876 --> 01:40:13.499\nIt created the rules, it just didn't\nturn them on, so I just turned those on.\n\n2286\n01:40:13.499 --> 01:40:18.027\nThat may be a part of it, our remote event\nmonitor is kind of an important piece,\n\n2287\n01:40:18.027 --> 01:40:21.289\nif we want those connections\nto come in and get that data.\n\n2288\n01:40:21.289 --> 01:40:23.926\nSo, yeah, bizarre.\n\n2289\n01:40:23.926 --> 01:40:27.383\nAll right, so our performance monitor,\n\n2290\n01:40:27.383 --> 01:40:31.645\nlet's see if that's,\nwhat is that listed under?\n\n2291\n01:40:31.645 --> 01:40:35.081\nHere, performance logs and alerts,\nso I need to turn that on.\n\n2292\n01:40:41.803 --> 01:40:44.102\nAnd let's just check Windows Management.\n\n2293\n01:40:44.102 --> 01:40:48.805\nNot WMI, but Windows Remote maybe?\n\n2294\n01:40:48.805 --> 01:40:52.820\nAnd again not, that's the compatibility\nmode for the old stuff.\n\n2295\n01:40:52.820 --> 01:40:55.067\nSo it did turn on.\n\n2296\n01:40:55.067 --> 01:40:57.267\n>> Dang, you would think that would be.\n\n2297\n01:40:57.267 --> 01:40:58.637\n>> Yep, so that is turned on.\n\n2298\n01:40:58.637 --> 01:41:02.701\nSo let's see if that was\nenough to get this fixed.\n\n2299\n01:41:02.701 --> 01:41:08.378\nIf not we'll just have\nto assume that it works.\n\n2300\n01:41:08.378 --> 01:41:09.350\nUnable to connect to machine.\n\n2301\n01:41:09.350 --> 01:41:10.420\nHm.\n\n2302\n01:41:10.420 --> 01:41:13.590\nAll right, well basically the idea\nis that it collects the results and\n\n2303\n01:41:13.590 --> 01:41:14.550\nwe get them all in one place.\n\n2304\n01:41:14.550 --> 01:41:15.730\nIt is a useful thing.\n\n2305\n01:41:15.730 --> 01:41:18.468\nThere's third party utilities\nout there that can do this too.\n\n2306\n01:41:18.468 --> 01:41:21.514\nBut this one's built right into Windows,\nyou might as well use it.\n\n2307\n01:41:21.514 --> 01:41:22.955\n>> When I say free,\ncost of your sever license.\n\n2308\n01:41:22.955 --> 01:41:25.640\n>> If you can get it to work [LAUGH].\n\n2309\n01:41:25.640 --> 01:41:28.973\nAll right, well monitoring our servers,\nit's an important thing.\n\n2310\n01:41:28.973 --> 01:41:30.900\nHow do you know if something's wrong?\n\n2311\n01:41:30.900 --> 01:41:34.180\nYou can either see it yourself\nin the logs, or you can wait for\n\n2312\n01:41:34.180 --> 01:41:36.660\nyour end users to tell you,\nwhich would you prefer?\n\n2313\n01:41:36.660 --> 01:41:38.511\nRight?\nSo whenever possible, we try and\n\n2314\n01:41:38.511 --> 01:41:39.468\nfind this stuff.\n\n2315\n01:41:39.468 --> 01:41:40.607\n>> I don't get a lot of phone calls.\n\n2316\n01:41:40.607 --> 01:41:42.419\nI might want my end users to\ncall me up once in a while.\n\n2317\n01:41:42.419 --> 01:41:43.869\n>> You want some attention.\n\n2318\n01:41:43.869 --> 01:41:46.680\n>> Yeah [LAUGH].\n\n2319\n01:41:46.680 --> 01:41:49.090\n>> All right, well Mike,\nthat's about all I've got.\n\n2320\n01:41:49.090 --> 01:41:51.190\n>> That's all I've got, I'm good.\n\n2321\n01:41:51.190 --> 01:41:53.660\n>> All right, well ladies and gentlemen,\nwe hope you enjoyed the show.\n\n2322\n01:41:53.660 --> 01:41:54.220\nAs always,\n\n2323\n01:41:54.220 --> 01:41:59.005\nif you have any questions, live during\nthe show you can go to itpro.tv/live.\n\n2324\n01:41:59.005 --> 01:42:01.300\nThe chat room is right beneath the video.\n\n2325\n01:42:01.300 --> 01:42:03.300\nYou can post whatever questions you have,\nwe have a moderator to answer.\n\n2326\n01:42:04.500 --> 01:42:07.020\nThe other thing is,\nif you have questions after the show,\n\n2327\n01:42:07.020 --> 01:42:10.700\non every single webpage on the ITPro TV\nsite there is a link to the Q and A.\n\n2328\n01:42:10.700 --> 01:42:13.812\nYou can go there, post your questions,\nand again, we monitor and answer.\n\n2329\n01:42:13.812 --> 01:42:16.330\nWe wanna make sure you get\nthe information you need.\n\n2330\n01:42:16.330 --> 01:42:17.430\n>> We do.\n\n2331\n01:42:17.430 --> 01:42:19.910\n>> All right,\nwell signing off for ITPro TV.\n\n2332\n01:42:19.910 --> 01:42:21.211\nI'm your host Don Pezet.\n\n2333\n01:42:21.211 --> 01:42:22.069\n>> And I'm Mike Rodrick.\n\n2334\n01:42:22.069 --> 01:42:23.857\n>> And we'll see you next time.\n\n2335\n01:42:23.857 --> 01:42:33.857\n[MUSIC]\n\n",
          "vimeoId": "84792117"
        },
        {
          "description": "In this episode Don demonstrates how to upload driver packages into Windows Deployment Services (WDS). He also shows how to use groups and filters to restrict what drivers apply to what hardware.",
          "length": "1189",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/008-Driver-Groups-and-Packages.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/008-Driver-Groups-and-Packages-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/008-Driver-Groups-and-Packages-sm.jpg",
          "title": "Driver Groups and Packages",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:06.729\n[SOUND] All right, welcome back everybody\n\n2\n00:00:06.729 --> 00:00:13.083\nto another one off special of ITProTV.\n\n3\n00:00:13.083 --> 00:00:16.951\nWe're going back and filling in some\nof the gaps that were introduced by\n\n4\n00:00:16.951 --> 00:00:20.350\nthe January 2014 update\nto the 70-411 exam.\n\n5\n00:00:20.350 --> 00:00:21.840\nMicrosoft finally came through and\n\n6\n00:00:21.840 --> 00:00:24.740\nrefreshed all the exam objectives\nto reflect Windows Server 2012 R2.\n\n7\n00:00:24.740 --> 00:00:29.280\nAnd, and you guys know that we've been\nusing R2 in all of our episodes anyway.\n\n8\n00:00:29.280 --> 00:00:31.510\nBut there were a few\nnew topics introduced.\n\n9\n00:00:31.510 --> 00:00:34.670\nAnd we just want to make sure we cover\nthose in depth so that you're prepared on\n\n10\n00:00:34.670 --> 00:00:37.888\nthe exam and you don't get blindsided by\nanything kind of sneaky that came in.\n\n11\n00:00:37.888 --> 00:00:42.310\nToday we're gonna be adding on to WDS,\nWindows Deployment Services.\n\n12\n00:00:42.310 --> 00:00:46.240\nAnd, and I know Mike and Nate, they did\na good episode and, and showed deploying\n\n13\n00:00:46.240 --> 00:00:50.600\noperating systems and you, you know, using\nWDS in general to build images, roll out.\n\n14\n00:00:50.600 --> 00:00:53.070\nAnd and they did a, a great job.\n\n15\n00:00:53.070 --> 00:00:56.270\nThey even showed a couple of the new\nfeatures that Microsoft is now\n\n16\n00:00:56.270 --> 00:00:59.550\nspecifically calling out, but again,\nwe want to be doubly safe and\n\n17\n00:00:59.550 --> 00:01:01.620\nsure to make sure that everything\ngets covered adequately.\n\n18\n00:01:01.620 --> 00:01:04.220\nSo we're gonna take a look\nat two new objectives.\n\n19\n00:01:04.220 --> 00:01:07.010\nLet me pull up our handy-dandy\nobjective list here.\n\n20\n00:01:07.010 --> 00:01:12.920\nAnd what they tacked on to objective\none here is configure driver groups and\n\n21\n00:01:12.920 --> 00:01:13.430\npackages.\n\n22\n00:01:13.430 --> 00:01:16.410\nThis new little note,\nthat's our, our new objective.\n\n23\n00:01:16.410 --> 00:01:20.850\nWhen you create an image, the image is\nusually gonna be based off of one of those\n\n24\n00:01:20.850 --> 00:01:23.510\ndefault install images\nfrom the Windows 8 DVD, or\n\n25\n00:01:23.510 --> 00:01:27.230\nthe Windows Server 2012 DVD or,\nor whatever.\n\n26\n00:01:27.230 --> 00:01:28.240\nAnd those images are great.\n\n27\n00:01:28.240 --> 00:01:32.170\nYou know, they've got a lot of\nbaked-in drivers right from Microsoft.\n\n28\n00:01:32.170 --> 00:01:35.400\nYou can also inject your own\ndrivers into those images.\n\n29\n00:01:35.400 --> 00:01:37.340\nBut when you do that.\n\n30\n00:01:37.340 --> 00:01:40.880\nIf you roll that image out to a machine,\nthose drivers come along with it.\n\n31\n00:01:40.880 --> 00:01:43.150\nWhich I suppose is kind of the point.\n\n32\n00:01:43.150 --> 00:01:45.100\nBut what if you have more\nthan one type of machine?\n\n33\n00:01:45.100 --> 00:01:48.230\nWhat if you have some Dell laptops.\n\n34\n00:01:48.230 --> 00:01:50.850\nAnd you've got some\nHewlett Packard laptops, and\n\n35\n00:01:50.850 --> 00:01:52.980\nyou've got some Asus and Acer.\n\n36\n00:01:52.980 --> 00:01:54.850\nYou know you've got\nthese different laptops.\n\n37\n00:01:54.850 --> 00:01:58.540\nAnd you want to have one image that you\ncan roll out to all of these laptops.\n\n38\n00:01:58.540 --> 00:01:59.790\nWell you can do that.\n\n39\n00:01:59.790 --> 00:02:01.660\nBut you would have to add the drivers for\n\n40\n00:02:01.660 --> 00:02:03.980\neach of the manufacturers\nall into this one image.\n\n41\n00:02:03.980 --> 00:02:08.190\nSo that means even on my Dell laptop,\nthe Acer drivers would be present.\n\n42\n00:02:08.190 --> 00:02:11.000\nNow they wouldn't get used,\nbut they'd be present.\n\n43\n00:02:11.000 --> 00:02:13.275\nAnd that can lead to certain problems.\n\n44\n00:02:13.275 --> 00:02:16.710\nIt, it's not normally an issue, but\nit can lead to problems when it comes to\n\n45\n00:02:16.710 --> 00:02:19.700\nif more than one vendor has the save\ndriver for the same hardware, you know,\n\n46\n00:02:19.700 --> 00:02:22.660\nhow do updates occur in the future and\nso on.\n\n47\n00:02:22.660 --> 00:02:27.320\nSo what's better is instead of embedding\nthe driver directly in the images\n\n48\n00:02:27.320 --> 00:02:29.310\nwe can attach the drivers to WDS.\n\n49\n00:02:29.310 --> 00:02:32.280\nAnd I, I know Mike showed\nthat in in the other show.\n\n50\n00:02:32.280 --> 00:02:39.200\nBut we can also filter what hardware those\ndrivers apply to, and that's the new part.\n\n51\n00:02:39.200 --> 00:02:41.870\nThat's the something that was added\nin R2 and they're calling out now in\n\n52\n00:02:41.870 --> 00:02:44.550\nthe objectives, and so\nI wanna demonstrate how that's done.\n\n53\n00:02:44.550 --> 00:02:46.490\nIt's, actually, really straightforward.\n\n54\n00:02:46.490 --> 00:02:47.080\nAll right?\n\n55\n00:02:47.080 --> 00:02:49.520\nSo I'm gonna reach over to a server,\nand I've, actually,\n\n56\n00:02:49.520 --> 00:02:51.630\ngot the same server they\nused in that last episode.\n\n57\n00:02:51.630 --> 00:02:54.160\nSo it's kinda just continuing\non from where they left off.\n\n58\n00:02:54.160 --> 00:02:58.670\nBut they've created some\ninstall images here in WDS, for\n\n59\n00:02:58.670 --> 00:03:01.270\nWindows Server 2012 and Windows 8.\n\n60\n00:03:01.270 --> 00:03:03.500\nSo, if they wanna provision a new server,\nor\n\n61\n00:03:03.500 --> 00:03:07.820\na new workstation they can boot it off\nthe network, it can hit the WDS server and\n\n62\n00:03:07.820 --> 00:03:12.920\nit can pull down one of these two images\nto get the machine set up and going.\n\n63\n00:03:12.920 --> 00:03:13.750\nAll right.\n\n64\n00:03:13.750 --> 00:03:16.720\nBut we want to plan for\ndifferent hardware.\n\n65\n00:03:16.720 --> 00:03:21.642\nAnd to plan for different hardware, we can\ncome down here to our drivers tree, and\n\n66\n00:03:21.642 --> 00:03:24.960\nhere is where we can\nadd in driver packages.\n\n67\n00:03:24.960 --> 00:03:26.910\nNow, what are driver packages?\n\n68\n00:03:26.910 --> 00:03:31.560\nWell, those are just the driver files that\nwe download from a vendor like Dell or\n\n69\n00:03:31.560 --> 00:03:32.770\nHP or whoever.\n\n70\n00:03:32.770 --> 00:03:34.370\nYou know, you just go to their website.\n\n71\n00:03:34.370 --> 00:03:35.720\nLet me, let me do an example here.\n\n72\n00:03:35.720 --> 00:03:40.400\nSo I'm gonna go to support.dell.com.\n\n73\n00:03:40.400 --> 00:03:43.920\nAnd I'll try and go to support.dell.com.\n\n74\n00:03:43.920 --> 00:03:45.210\nI guess I have to spell it right.\n\n75\n00:03:45.210 --> 00:03:47.390\nAnd I want to look for\na driver for one of their servers.\n\n76\n00:03:47.390 --> 00:03:55.000\nSo maybe I've got a I don't know,\na R600 or 2950 or, or something like that.\n\n77\n00:03:55.000 --> 00:03:57.167\nWell, I can go into\ntheir driver downloads.\n\n78\n00:03:59.833 --> 00:04:01.650\nWow, their webpage is cruising today.\n\n79\n00:04:01.650 --> 00:04:05.890\nSo, we'll, we'll work on optimized web\nservice for another episode but [LAUGH]\n\n80\n00:04:05.890 --> 00:04:09.890\nwe'll go in here and it's, it's finding\nmy laptop but I, I don't want that.\n\n81\n00:04:09.890 --> 00:04:15.450\nI want to change my product and\n\n82\n00:04:15.450 --> 00:04:17.920\nlet's do choose from a list\nof Dell products here.\n\n83\n00:04:17.920 --> 00:04:20.370\nSo I'm just gonna browse through and\nfind one of their servers.\n\n84\n00:04:22.740 --> 00:04:24.410\nAnd we'll do a Power Edge server.\n\n85\n00:04:25.780 --> 00:04:28.730\nAnd here's all their different servers,\nso I'll go with like an R620.\n\n86\n00:04:28.730 --> 00:04:29.350\nAll right?\n\n87\n00:04:30.800 --> 00:04:31.800\nSo I've got an R620.\n\n88\n00:04:31.800 --> 00:04:35.880\nAnd it's gonna have\na Video Adapter Driver.\n\n89\n00:04:35.880 --> 00:04:37.680\nIt's gonna have Network Hard Drivers.\n\n90\n00:04:37.680 --> 00:04:40.285\nIt's gonna have\nRaid Storage Controller Drivers.\n\n91\n00:04:40.285 --> 00:04:41.960\nAll right.\nDrivers that are unique\n\n92\n00:04:41.960 --> 00:04:44.770\nto the hardware that's\ninstalled in this machine.\n\n93\n00:04:44.770 --> 00:04:47.520\nAnd so I can just come through here and\ndownload the ones that I want.\n\n94\n00:04:47.520 --> 00:04:50.480\nSo maybe I've got like\na SAS Raid Controller.\n\n95\n00:04:50.480 --> 00:04:55.050\nAnd so here is, let see some\nPerk Firmware, Adapter Firmware.\n\n96\n00:04:56.130 --> 00:05:00.420\nHere we go.\n64 bit driver for Perk Raid Controllers.\n\n97\n00:05:00.420 --> 00:05:03.680\nSo I can just download that and\nwe can extract the files from there.\n\n98\n00:05:03.680 --> 00:05:05.456\nThis is a, a download package.\n\n99\n00:05:05.456 --> 00:05:07.505\nAnd good, they give me choices.\n\n100\n00:05:07.505 --> 00:05:09.220\nIsn't that convenient?\n\n101\n00:05:09.220 --> 00:05:13.636\nSo, [LAUGH] sometimes they give you more\nchoices than you want just to download\n\n102\n00:05:13.636 --> 00:05:14.598\na simple driver.\n\n103\n00:05:14.598 --> 00:05:16.350\nBut here we go.\n\n104\n00:05:16.350 --> 00:05:17.610\nSo I'll go download this one.\n\n105\n00:05:17.610 --> 00:05:19.260\nWhen we extract the driver,\n\n106\n00:05:19.260 --> 00:05:21.980\nthe drivers are made up of\na number of different files.\n\n107\n00:05:21.980 --> 00:05:26.130\nYou know, and, and each, each of\nthe files has a, a specific purpose.\n\n108\n00:05:26.130 --> 00:05:30.405\nI'm gonna extract this\nto my hard drive here.\n\n109\n00:05:30.405 --> 00:05:34.333\n[SOUND] In a folder that I can find.\n\n110\n00:05:38.208 --> 00:05:39.130\nAll right.\n\n111\n00:05:39.130 --> 00:05:39.700\nSo there you go.\nSo\n\n112\n00:05:39.700 --> 00:05:43.895\nit's now extracted and if we browse\nto it here is the actual driver.\n\n113\n00:05:43.895 --> 00:05:44.980\nOkay.\n\n114\n00:05:44.980 --> 00:05:48.519\nNow the driver file\nitself is this sys file,\n\n115\n00:05:48.519 --> 00:05:52.800\npercsas2.sys that is the true driver.\n\n116\n00:05:52.800 --> 00:05:55.890\nThat's the one that's allowing your\noperating system to talk to the hardware\n\n117\n00:05:55.890 --> 00:05:58.790\nbut that file by itself isn't enough.\n\n118\n00:05:58.790 --> 00:06:03.670\nIt's also combined with an INF\nfile right above it percsas2.inf.\n\n119\n00:06:03.670 --> 00:06:07.820\nThat is the file that defines the driver,\nYou know, what it is,\n\n120\n00:06:07.820 --> 00:06:12.610\nwhat version it is, what hardware it's\nintended for, the hardware ID to look for\n\n121\n00:06:12.610 --> 00:06:13.770\nso you know you're using the right driver.\n\n122\n00:06:13.770 --> 00:06:15.870\nAll that stuff is stored\nright in there and and\n\n123\n00:06:15.870 --> 00:06:18.090\nthen you'll see some other\nfiles like the cat file.\n\n124\n00:06:18.090 --> 00:06:21.070\nThat's the catalog that has all\nthe digital signatures to ensure that\n\n125\n00:06:21.070 --> 00:06:24.417\nthe driver hasn't been tampered with,\nso each of these files are important.\n\n126\n00:06:24.417 --> 00:06:25.230\nAll right.\n\n127\n00:06:25.230 --> 00:06:28.260\nBut these files together\nat a minimum an INF and\n\n128\n00:06:28.260 --> 00:06:32.760\nSYS file those combines\nare a driver package.\n\n129\n00:06:32.760 --> 00:06:36.610\nAnd we can attach this package\ninside of WDS if we want.\n\n130\n00:06:36.610 --> 00:06:41.208\nSo I'm gonna just take this data and\nI'm gonna copy it over to that server\n\n131\n00:06:47.333 --> 00:06:48.520\nAnd I'll, I'll copy it over there.\n\n132\n00:06:48.520 --> 00:06:52.150\nAnd we can load it into WDS and\nthe driver will now be available.\n\n133\n00:06:52.150 --> 00:06:54.390\nNow making it available is nice, but\n\n134\n00:06:54.390 --> 00:06:57.230\nit's even better if we can\ntie it to certain hardware.\n\n135\n00:06:57.230 --> 00:07:00.510\nI don't wanna be deploying\nWindows 8 to a workstation and\n\n136\n00:07:00.510 --> 00:07:04.200\nhave it load a perk raid\ncontroller driver on the laptop.\n\n137\n00:07:04.200 --> 00:07:05.830\nThat, that's not gonna\nhave that raid controller.\n\n138\n00:07:05.830 --> 00:07:09.045\nYou know, you're really just wasting\nresources copying that driver down.\n\n139\n00:07:09.045 --> 00:07:11.740\nSo, when we put a driver package in\n\n140\n00:07:11.740 --> 00:07:16.340\nwe can also attach it to\nwhat's called a Driver Group.\n\n141\n00:07:16.340 --> 00:07:19.020\nAnd the driver groups are the new\nfeature that we need to look at.\n\n142\n00:07:19.020 --> 00:07:23.210\nThat's where we can define what\nhardware is going to get the driver and\n\n143\n00:07:23.210 --> 00:07:24.150\nwhat hardware isn't.\n\n144\n00:07:24.150 --> 00:07:26.840\nYou know, basically limiting\nit to particular hardware.\n\n145\n00:07:26.840 --> 00:07:29.660\nAnd, you know, eventually I would\nlike to copy it to that server.\n\n146\n00:07:29.660 --> 00:07:31.733\nLet me.\n[SOUND] Maybe I got a DNS issue or\n\n147\n00:07:31.733 --> 00:07:33.250\nsomething going on there.\n\n148\n00:07:33.250 --> 00:07:37.170\nSo I'll browse my IP or\nwe'll just use another driver.\n\n149\n00:07:37.170 --> 00:07:38.090\nWhatever it takes.\n\n150\n00:07:38.090 --> 00:07:39.510\nSo, so anyhow.\n\n151\n00:07:39.510 --> 00:07:41.610\nSo if we wanna load it over\nthere actually, you know,\n\n152\n00:07:41.610 --> 00:07:43.610\nI've got some drivers saved we can use.\n\n153\n00:07:43.610 --> 00:07:45.350\nLet me pull up that WDS server.\n\n154\n00:07:45.350 --> 00:07:46.680\nAll right.\n\n155\n00:07:46.680 --> 00:07:47.730\nI'm being impatient.\n\n156\n00:07:47.730 --> 00:07:49.793\nSo let me just use this.\n\n157\n00:08:01.125 --> 00:08:01.750\nThere we go.\nSo\n\n158\n00:08:01.750 --> 00:08:03.960\nthere's that rate controller\ndriver right there.\n\n159\n00:08:03.960 --> 00:08:05.090\nAll right.\n\n160\n00:08:05.090 --> 00:08:08.939\nNext what I can do is I can go into WDS.\n\n161\n00:08:08.939 --> 00:08:11.310\nSo in WDS right here.\n\n162\n00:08:11.310 --> 00:08:12.880\nI've got all packages.\n\n163\n00:08:12.880 --> 00:08:15.370\nAnd this is where I can\nload my driver packages.\n\n164\n00:08:15.370 --> 00:08:16.990\nNow it's prompting me.\n\n165\n00:08:16.990 --> 00:08:22.250\nAnd we can just right-click on drivers and\nchoose to add a driver package.\n\n166\n00:08:22.250 --> 00:08:25.860\nAnd when we add it,\nwe can browse and find that file.\n\n167\n00:08:25.860 --> 00:08:29.280\nSo I dropped it into this\nPERC_RAID folder, right there.\n\n168\n00:08:29.280 --> 00:08:33.420\nAnd we can open that up, and\n\n169\n00:08:33.420 --> 00:08:37.670\nhere it is, the 64-bit PERC RAID\ncontroller driver for this system.\n\n170\n00:08:37.670 --> 00:08:39.340\nI can bring that in.\n\n171\n00:08:39.340 --> 00:08:46.000\nAnd now, I've got that driver\nright here inside of my, my WDS.\n\n172\n00:08:46.000 --> 00:08:47.270\nNow, it's offering to create a group.\n\n173\n00:08:47.270 --> 00:08:48.210\nI'm not gonna do that right now.\n\n174\n00:08:48.210 --> 00:08:50.332\nSo I'll just leave it at no and\nfinish that up.\n\n175\n00:08:50.332 --> 00:08:52.060\nAll right.\n\n176\n00:08:52.060 --> 00:08:55.980\nThe problem here is,\nall of these drivers are now available but\n\n177\n00:08:55.980 --> 00:08:58.260\nI don't wanna present\nthis driver to laptops.\n\n178\n00:08:58.260 --> 00:09:01.050\nRight?\nI just want it to go to servers, and\n\n179\n00:09:01.050 --> 00:09:04.169\nwhat I can do is I can create a, a group.\n\n180\n00:09:05.300 --> 00:09:08.710\nAnd attach all of my server\nrelated drivers to that group so\n\n181\n00:09:08.710 --> 00:09:11.142\nthat they don't apply to workstations and,\nand laptops.\n\n182\n00:09:11.142 --> 00:09:12.210\nAll right.\n\n183\n00:09:12.210 --> 00:09:16.710\nTo create a group, we just right\nclick on our driver's folder and\n\n184\n00:09:16.710 --> 00:09:18.700\nwe choose add a driver group.\n\n185\n00:09:18.700 --> 00:09:20.200\nAnd then we just give\nit some kind of a name.\n\n186\n00:09:20.200 --> 00:09:21.560\nLike I'll, I'll call it Servers.\n\n187\n00:09:24.490 --> 00:09:24.990\nAll right.\n\n188\n00:09:26.130 --> 00:09:31.040\nAnd then we create filters to\nidentify what set servers apart\n\n189\n00:09:31.040 --> 00:09:32.180\nfrom everything else.\n\n190\n00:09:32.180 --> 00:09:34.110\nRight?\nHow can we tell what a server is\n\n191\n00:09:34.110 --> 00:09:36.110\nversus a work station and so on?\n\n192\n00:09:36.110 --> 00:09:38.380\nAnd when you hit Add,\nyou'll see the little filter screen and\n\n193\n00:09:38.380 --> 00:09:40.180\nthere's a couple of\nthings you can pick from.\n\n194\n00:09:40.180 --> 00:09:46.190\nYou'll see Manufacturer, Model, BIOS\nVendor, Chassis Type, UUID, Device Group.\n\n195\n00:09:46.190 --> 00:09:48.000\nSo there's a couple of\ndifferent things to pick from.\n\n196\n00:09:49.030 --> 00:09:51.990\nIf we know the manufacturer and\nmodel number,\n\n197\n00:09:51.990 --> 00:09:53.690\nwe can be really specific and get this.\n\n198\n00:09:53.690 --> 00:09:56.750\nNow, how do we know what\nvalues to use here?\n\n199\n00:09:56.750 --> 00:09:59.590\nWell, you really need to get\nit from the equipment itself.\n\n200\n00:09:59.590 --> 00:10:01.590\nThe best thing to do is find an example.\n\n201\n00:10:01.590 --> 00:10:05.290\nFind one of these servers and\nthen pull the values from there.\n\n202\n00:10:05.290 --> 00:10:06.300\nAll right.\n\n203\n00:10:06.300 --> 00:10:09.270\nSo I, I don't have an R620 right\navailable to me, but let's,\n\n204\n00:10:09.270 --> 00:10:11.510\nlet's say we want to use\nmy laptop as an example.\n\n205\n00:10:11.510 --> 00:10:12.825\nRight?\nSo let me, let me cancel out of this.\n\n206\n00:10:12.825 --> 00:10:16.042\n[SOUND] All right.\n\n207\n00:10:16.042 --> 00:10:22.610\nI'll create a new group here,\ncalled Dell XPS 12 laptops.\n\n208\n00:10:22.610 --> 00:10:23.970\nRight?\nSo that's what I have.\n\n209\n00:10:23.970 --> 00:10:24.480\nI have an XPS 12.\n\n210\n00:10:24.480 --> 00:10:28.650\nAnd so I'm gonna create a group\nspecifically for that type of laptop.\n\n211\n00:10:28.650 --> 00:10:32.610\nAnd so when I add the filter, I need to\nadd things in like manufacturer and so on.\n\n212\n00:10:32.610 --> 00:10:33.770\nNow I know my manufacturer.\n\n213\n00:10:33.770 --> 00:10:34.650\nIt's Dell.\nRight?\n\n214\n00:10:34.650 --> 00:10:36.000\nSo I can just put in Dell.\n\n215\n00:10:36.000 --> 00:10:37.750\nWell, not necessarily.\n\n216\n00:10:37.750 --> 00:10:41.940\nIt needs to be put in exactly\nthe way that Windows sees it.\n\n217\n00:10:41.940 --> 00:10:45.230\nAnd the best way to find that information\nis to take one of the machines.\n\n218\n00:10:45.230 --> 00:10:47.310\nYou already have one set up.\n\n219\n00:10:47.310 --> 00:10:48.510\nAnd on that machine.\n\n220\n00:10:48.510 --> 00:10:50.850\nSo I'm gonna drop to my desktop here.\n\n221\n00:10:50.850 --> 00:10:54.695\nAnd on my desktop, I'm gonna run msinfo32.\n\n222\n00:10:54.695 --> 00:10:55.610\nAll right?\n\n223\n00:10:57.080 --> 00:10:59.370\nMSINFO or the Microsoft Information,\n\n224\n00:10:59.370 --> 00:11:03.900\nMSINFO32 will give you the detailed\ninformation about your system.\n\n225\n00:11:03.900 --> 00:11:06.490\nAnd you can see the way\nthe manufacturer is listed and so on.\n\n226\n00:11:06.490 --> 00:11:10.690\nNotice my manufacturer\nhere is actually Dell Inc.\n\n227\n00:11:10.690 --> 00:11:11.240\nAll right?\n\n228\n00:11:11.240 --> 00:11:16.410\nAnd it's Inc., if I just put in Dell,\nit's not gonna match, it's not gonna work.\n\n229\n00:11:16.410 --> 00:11:18.250\nI've gotta put it in this way.\n\n230\n00:11:18.250 --> 00:11:21.370\nAnd if you look at my system model and\nother information.\n\n231\n00:11:21.370 --> 00:11:23.090\nRight?\nThis is all important.\n\n232\n00:11:23.090 --> 00:11:26.230\nThis is how I'm going to\nidentify this particular machine.\n\n233\n00:11:26.230 --> 00:11:28.970\nSo I need to use these values right here.\n\n234\n00:11:28.970 --> 00:11:31.150\nSo if I wanna find Dell Inc.\n\n235\n00:11:31.150 --> 00:11:31.870\nRight?\n\n236\n00:11:31.870 --> 00:11:38.860\nI can go back to WDS and I can create\nmanufacturer equal to Dell Inc.\n\n237\n00:11:38.860 --> 00:11:39.430\nAll right.\n\n238\n00:11:39.430 --> 00:11:43.240\nIt is possible to do approximations,\nbecause you can do like not equal to or\n\n239\n00:11:43.240 --> 00:11:47.380\nwhatever, but the best thing is to\nhave the actual vendor value, and\n\n240\n00:11:47.380 --> 00:11:48.030\nyou can put it in there.\n\n241\n00:11:48.030 --> 00:11:52.950\nAnd you can list more than one, if you do\nhappen to have some that just say Dell, or\n\n242\n00:11:52.950 --> 00:11:58.740\nsay Dell Inc, right, or, or whatever,\nyou can add in the various vendors.\n\n243\n00:11:58.740 --> 00:12:00.470\nIt's just gonna have to\nmatch on one of them.\n\n244\n00:12:02.410 --> 00:12:03.690\nAll right.\n\n245\n00:12:03.690 --> 00:12:05.540\nThen I might wanna add a little bit more.\n\n246\n00:12:05.540 --> 00:12:08.770\nIn addition to the manufacturer,\nI might want the model.\n\n247\n00:12:08.770 --> 00:12:12.090\nAnd again, I can go back over here and\npull that model from right here,\n\n248\n00:12:12.090 --> 00:12:12.830\nthis XPS129Q23.\n\n249\n00:12:12.830 --> 00:12:17.370\nSo I'll put that in here, XPS129Q23.\n\n250\n00:12:17.370 --> 00:12:18.450\nAll right?\n\n251\n00:12:18.450 --> 00:12:21.850\nAnd so I'll add that in.\n\n252\n00:12:21.850 --> 00:12:25.400\nMaking sure that it matches\nexactly what Windows is gonna see.\n\n253\n00:12:25.400 --> 00:12:29.650\nNow, that right there is enough to\nidentify my laptop specifically.\n\n254\n00:12:29.650 --> 00:12:31.880\nSo I really don't need anything more.\n\n255\n00:12:31.880 --> 00:12:33.560\nBut you can do other things.\n\n256\n00:12:33.560 --> 00:12:35.070\nLike chassis type.\n\n257\n00:12:35.070 --> 00:12:36.460\nChassis type is a nice one.\n\n258\n00:12:36.460 --> 00:12:41.120\nBecause if you drop it down, you'll see\nwhere you can pick, desktop, laptop,\n\n259\n00:12:41.120 --> 00:12:45.710\nnotebook and you'll even see in here some\nof the other ones that are more complex\n\n260\n00:12:45.710 --> 00:12:50.220\nmore advanced you know peripheral,chassis,\npizza box, portable you know,\n\n261\n00:12:50.220 --> 00:12:54.450\nall sorts of crazy ones that are in\nhere based on different scenarios.\n\n262\n00:12:54.450 --> 00:12:57.879\nBut you know if you are doing a server\nyou might choose Rack Mount Chassis.\n\n263\n00:12:57.879 --> 00:12:58.590\nAll right.\n\n264\n00:12:58.590 --> 00:13:00.210\nAnd, and in theory it would identify that.\n\n265\n00:13:00.210 --> 00:13:01.990\nNow I'll be honest with you.\n\n266\n00:13:01.990 --> 00:13:04.910\nThis particular value sounds great but\n\n267\n00:13:04.910 --> 00:13:08.900\nit's not always populated and, and\nWindows can't always detect it.\n\n268\n00:13:08.900 --> 00:13:10.780\nSo it may or may not work for you.\n\n269\n00:13:10.780 --> 00:13:13.600\nThat's why I always try and\nstick with manufacturer and\n\n270\n00:13:13.600 --> 00:13:17.102\nmodel number, because I know those\nwork on pretty much every system.\n\n271\n00:13:17.102 --> 00:13:19.520\nAll right.\n\n272\n00:13:19.520 --> 00:13:23.800\nOn the next screen,\nI can specify any image filters.\n\n273\n00:13:23.800 --> 00:13:28.440\nI might not want my Dell laptops\nto even see the server image.\n\n274\n00:13:28.440 --> 00:13:32.810\nWhy, why show them a Windows 2012 image if\nI'm only gonna be rolling out Windows 8?\n\n275\n00:13:32.810 --> 00:13:37.500\nAnd so I might choose to add in,\nyou know, OS version equals and\n\n276\n00:13:37.500 --> 00:13:42.310\nthen specify a particular version\nof an OS like, like, Windows 8.\n\n277\n00:13:42.310 --> 00:13:44.480\nAgain it does need to be specific, so\n\n278\n00:13:44.480 --> 00:13:47.530\nwe need to get the name of that\nusually from the images up here.\n\n279\n00:13:47.530 --> 00:13:50.349\nI'm gonna leave that blank for right now\nbecause we can always add it in later.\n\n280\n00:13:52.020 --> 00:13:56.390\nAnd then on the next screen, we've got\ninstall only the driver packages that\n\n281\n00:13:56.390 --> 00:14:01.950\nmatch this client's hardware, or\ninstall all drivers in this group.\n\n282\n00:14:01.950 --> 00:14:04.800\nThe default is it's gonna\nscan the All Packages and\n\n283\n00:14:04.800 --> 00:14:09.290\nit's gonna look for any drivers in\nthere that match this hardware.\n\n284\n00:14:09.290 --> 00:14:13.770\nBut the problem is when it scans the All\nPackages folder it could find HP drivers\n\n285\n00:14:13.770 --> 00:14:18.270\nor it could find IBM drivers that\ndon't match the DELL driver.\n\n286\n00:14:18.270 --> 00:14:21.410\nSo if I want to make sure that it\nJust getting the Dell drivers.\n\n287\n00:14:21.410 --> 00:14:25.350\nThe better thing to do is to say only\ninstall driver packages in this group.\n\n288\n00:14:25.350 --> 00:14:27.100\nAnd, and install all of them.\n\n289\n00:14:27.100 --> 00:14:30.460\nAnd then we'll attach\ndrivers to the group.\n\n290\n00:14:30.460 --> 00:14:32.210\nSo that group is empty right now.\n\n291\n00:14:32.210 --> 00:14:33.640\nThere's no drivers in it.\n\n292\n00:14:33.640 --> 00:14:34.470\nRight?\n\n293\n00:14:34.470 --> 00:14:39.100\nAnd if you right-click on it,\nyou can choose to Add Driver Packages.\n\n294\n00:14:39.100 --> 00:14:43.390\nAnd now you can go through and pick the\nvarious packages that we want to add in.\n\n295\n00:14:43.390 --> 00:14:48.190\nAnd so I can, I can either search for\nthem this way and find it, or\n\n296\n00:14:48.190 --> 00:14:49.970\nwe can go and pull it from here.\n\n297\n00:14:49.970 --> 00:14:53.970\nIf you browse through and you know,\nfind a driver that you're looking for,\n\n298\n00:14:53.970 --> 00:14:56.910\nlike here's some kind of list,\nlist of Itanium.\n\n299\n00:14:56.910 --> 00:15:00.770\nSo I, if I find a,\nwhat's a driver that I actually need?\n\n300\n00:15:02.220 --> 00:15:04.120\nThat's kind of the hard part,\nlet me filter.\n\n301\n00:15:04.120 --> 00:15:07.130\nSo, I've got Itanium, and X86 and\n\n302\n00:15:07.130 --> 00:15:13.270\nX64 drivers and 915,\nI think that's like a sound card.\n\n303\n00:15:13.270 --> 00:15:15.890\nSo, we can take one of these and\nyou can just choose to add or\n\n304\n00:15:15.890 --> 00:15:18.395\nremove it from a group, and I can add it.\n\n305\n00:15:18.395 --> 00:15:21.765\nAnd the driver can be attached to\nmore than one group, that's fine.\n\n306\n00:15:21.765 --> 00:15:22.745\nSo I'll attach it there.\n\n307\n00:15:22.745 --> 00:15:24.215\nAll right?\n\n308\n00:15:24.215 --> 00:15:26.905\nNow when I look at Dell XPS 12 laptops,\nthere it is.\n\n309\n00:15:26.905 --> 00:15:28.695\nThere is that driver that I just attached.\n\n310\n00:15:28.695 --> 00:15:31.792\nAnd I can list each of the drivers\nthat I want to to show up and\n\n311\n00:15:31.792 --> 00:15:35.372\nthat way they're all installed and\nit doesn't have to scan the all packages.\n\n312\n00:15:35.372 --> 00:15:38.802\nAnd I know it can get exactly\nthe ones that I wanted to get.\n\n313\n00:15:38.802 --> 00:15:41.482\nJust the Dell ones not the HP ones or\nso on.\n\n314\n00:15:41.482 --> 00:15:44.010\nCuz it, you know, a lot of these\nvendors use common hardware.\n\n315\n00:15:44.010 --> 00:15:46.060\nBut they released their own\nversions of the drivers.\n\n316\n00:15:46.060 --> 00:15:49.152\nSo you do want to stick with that\nvendor's driver whenever possible.\n\n317\n00:15:49.152 --> 00:15:50.650\nAll right?\n\n318\n00:15:50.650 --> 00:15:54.480\nAs far as the images, if I go back up\nhere to Windows 8, I've got a, you know,\n\n319\n00:15:54.480 --> 00:15:59.540\nan image up here and, and you know,\nits just Windows 8.1 Enterprise.\n\n320\n00:15:59.540 --> 00:16:03.470\nAnd, you know, this doesn't\nactually show the OS name, does it?\n\n321\n00:16:03.470 --> 00:16:06.610\nWell, I can go back to my MSinfo32 to\n\n322\n00:16:06.610 --> 00:16:11.750\nfind this is Microsoft Windows 8.1 Pro for\nthe OS image.\n\n323\n00:16:11.750 --> 00:16:16.270\nAnd so back here on the group we can go\n\n324\n00:16:16.270 --> 00:16:20.958\nback here and oop, not on that screen\n\n325\n00:16:30.042 --> 00:16:31.220\nAnd you know, am I wrong.\n\n326\n00:16:31.220 --> 00:16:35.417\nWe might not be able to modify the\noperating system image after it is done.\n\n327\n00:16:35.417 --> 00:16:36.167\nLet's see.\n\n328\n00:16:43.167 --> 00:16:48.396\nYeah, you know, I don't,\nI don't see the option to limit the images\n\n329\n00:16:48.396 --> 00:16:53.140\nthat are exposed to this group,\nwhich is what we were doing before.\n\n330\n00:16:54.496 --> 00:16:59.583\n[SOUND] here we\n\n331\n00:16:59.583 --> 00:17:04.000\ngo, Image ID.\n\n332\n00:17:04.000 --> 00:17:05.250\nAll right.\nSo here we can pick.\n\n333\n00:17:05.250 --> 00:17:06.130\nWhoops.\nAnd then I click on\n\n334\n00:17:06.130 --> 00:17:07.310\nthe wrong thing, Image ID.\n\n335\n00:17:07.310 --> 00:17:11.750\nSo here we can set the image ID equal to,\nand we can limit it down to one of our\n\n336\n00:17:11.750 --> 00:17:16.650\nimages, which I think Mike called\nthat one Windows 8.1 Enterprise.\n\n337\n00:17:16.650 --> 00:17:17.858\nSo we can specify that.\n\n338\n00:17:17.858 --> 00:17:20.960\nAnd that's gonna tie in,\nwe've got to do the GUID.\n\n339\n00:17:20.960 --> 00:17:21.650\nWonderful.\n\n340\n00:17:21.650 --> 00:17:24.010\nSo I'd have to go get the full\nGUID off of that image.\n\n341\n00:17:24.010 --> 00:17:26.430\nAgain, that's one of those where\nit's easier to just go up here,\n\n342\n00:17:26.430 --> 00:17:31.160\nand pull it up to be able to find\nthe properties, and get that GUID.\n\n343\n00:17:31.160 --> 00:17:33.122\nIt is in here somewhere.\n\n344\n00:17:33.122 --> 00:17:33.622\nThere.\n\n345\n00:17:39.204 --> 00:17:41.940\nActually we have to use the Windows\nDeployment Toolkit to find that one.\n\n346\n00:17:41.940 --> 00:17:44.110\nThe you know, the,\nthe actual image editor when we mount it,\n\n347\n00:17:44.110 --> 00:17:46.170\nwe can see the GUID of\neverything in there.\n\n348\n00:17:46.170 --> 00:17:47.870\nYou can use the DISM command\nto pull it out, too.\n\n349\n00:17:47.870 --> 00:17:49.200\nI, I know Mike did that\nin the last episode.\n\n350\n00:17:49.200 --> 00:17:51.050\nSo that,\nthat information is stored in there.\n\n351\n00:17:51.050 --> 00:17:54.540\nBut you can filter it down so they only\nsee a particular image or you can let them\n\n352\n00:17:54.540 --> 00:17:58.720\nsee all the images but, you've already\nfiltered them down to certain drivers.\n\n353\n00:17:58.720 --> 00:18:00.240\nIt's a great way to control it.\n\n354\n00:18:00.240 --> 00:18:04.440\nI did it with a laptop here but you can\ndo it with servers or whatever it is.\n\n355\n00:18:04.440 --> 00:18:06.200\nThe filters, it's really up to you.\n\n356\n00:18:06.200 --> 00:18:08.600\nYou know, you can whatever\nfilters you want to restrict.\n\n357\n00:18:08.600 --> 00:18:11.900\nIt's a neat new feature and\nit makes life a lot easier for you.\n\n358\n00:18:11.900 --> 00:18:15.500\nWhen you do the deployment, it grabs\nthe exact set of drivers that you need.\n\n359\n00:18:15.500 --> 00:18:19.020\nIt grabs the image that you want and\napplies it, and you're in business.\n\n360\n00:18:19.020 --> 00:18:19.610\nRight?\n\n361\n00:18:19.610 --> 00:18:23.900\nThis is the best you can get to like,\na light-touch deployment or\n\n362\n00:18:23.900 --> 00:18:27.742\na light-touch installation without using\nSystem Center Configuration Manager.\n\n363\n00:18:27.742 --> 00:18:30.850\nAll right.\nAnd that's, SCCM, it's an awesome utility.\n\n364\n00:18:30.850 --> 00:18:33.460\nIt is really complex to get set up.\n\n365\n00:18:33.460 --> 00:18:34.710\nIt's a lot of infrastructure.\n\n366\n00:18:34.710 --> 00:18:37.390\nSo small and\nmedium businesses aren't gonna do that.\n\n367\n00:18:37.390 --> 00:18:39.700\nWDS is a great solution for those people.\n\n368\n00:18:39.700 --> 00:18:42.790\nWhen you get into the enterprise\nenvironment, the really big environments,\n\n369\n00:18:42.790 --> 00:18:45.000\nyou'll find that SCCM can tackle\nthis a little bit better.\n\n370\n00:18:45.000 --> 00:18:47.560\nBecause it also does other things,\nlike software packages,\n\n371\n00:18:47.560 --> 00:18:50.830\nas far as deploying office and,\nand other software like that.\n\n372\n00:18:50.830 --> 00:18:52.620\nSo you get a little more power there.\n\n373\n00:18:52.620 --> 00:18:54.520\nBut, but that's basically it.\n\n374\n00:18:54.520 --> 00:18:56.460\nYou can create as many groups as you want.\n\n375\n00:18:56.460 --> 00:18:58.440\nAnd, you know,\ntailor them to different hardware.\n\n376\n00:18:58.440 --> 00:19:00.920\nA driver can be attached\nto more than one group.\n\n377\n00:19:00.920 --> 00:19:03.420\nAn image can be attached\nto more than one group.\n\n378\n00:19:03.420 --> 00:19:06.570\nYou get it laid down and\nthen you are, you are in business.\n\n379\n00:19:06.570 --> 00:19:08.460\nYou know, so it is a, a neat system.\n\n380\n00:19:08.460 --> 00:19:10.050\nIt works really well.\n\n381\n00:19:10.050 --> 00:19:11.420\nDefinitely take advantage of it.\n\n382\n00:19:11.420 --> 00:19:11.980\nAll right.\n\n383\n00:19:11.980 --> 00:19:15.250\nBecause this is a new feature it's one\nthat's likely to turn up on the exam.\n\n384\n00:19:15.250 --> 00:19:16.640\nSo, definitely be aware of it.\n\n385\n00:19:16.640 --> 00:19:18.420\nJust remember the primary purpose here,\n\n386\n00:19:18.420 --> 00:19:22.248\nrestricting what drivers show\nup when deploying an image.\n\n387\n00:19:22.248 --> 00:19:23.480\nAll right.\n\n388\n00:19:23.480 --> 00:19:24.240\nI hope you enjoyed that.\n\n389\n00:19:24.240 --> 00:19:26.610\nIf you have any questions,\nremember to take advantage of the Q and\n\n390\n00:19:26.610 --> 00:19:30.180\nA link on our ITProTV page on every page.\n\n391\n00:19:30.180 --> 00:19:32.620\nYou can hit that link, post your\nquestions, we monitor and answer,\n\n392\n00:19:32.620 --> 00:19:34.755\nand we'll make sure you get\nthe information that you need.\n\n393\n00:19:34.755 --> 00:19:36.820\nI hope you guys enjoyed it and stay tuned.\n\n394\n00:19:36.820 --> 00:19:40.000\nWe'll be doing more of these one offs as\nwe continue to fill in the gaps created by\n\n395\n00:19:40.000 --> 00:19:41.230\nthe new objectives.\n\n396\n00:19:41.230 --> 00:19:43.315\nWe'll see you then.\n\n397\n00:19:43.315 --> 00:19:48.854\n[SOUND]\n\n",
          "vimeoId": "87676379"
        },
        {
          "description": "In this episode Don demonstrates using Windows Server Update Services (WSUS) to manage updates in an environment where multiple operating systems are in use.",
          "length": "490",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/009-Patch-Management-in-Mixed-Environments.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/009-Patch-Management-in-Mixed-Environments-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/009-Patch-Management-in-Mixed-Environments-sm.jpg",
          "title": "Patch Management in Mixed Environments",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:08.952\n[SOUND].\n\n2\n00:00:08.952 --> 00:00:11.684\nAll right.\nWelcome back everybody to another ITProTV\n\n3\n00:00:11.684 --> 00:00:15.656\nspecial, as we go through and highlight\nsome of the new things that have been\n\n4\n00:00:15.656 --> 00:00:18.560\nadded in the exam update of January 2014.\n\n5\n00:00:18.560 --> 00:00:21.320\nMicrosoft added some new objectives\nto make sure that they reflected\n\n6\n00:00:21.320 --> 00:00:23.590\nWindows Server 2012 R2.\n\n7\n00:00:23.590 --> 00:00:25.760\nAnd while we've been using\nthat the whole time,\n\n8\n00:00:25.760 --> 00:00:29.550\nthey did introduce some new topics\nthat we didn't necessarily,\n\n9\n00:00:29.550 --> 00:00:32.600\nlike, specifically call out\nin the previous episode.\n\n10\n00:00:32.600 --> 00:00:35.841\nSo, we wanted to do a series of specials\nwhere we just highlighted those to make\n\n11\n00:00:35.841 --> 00:00:39.528\nsure that you weren't blindsided by\nanything when you go to take the exam.\n\n12\n00:00:39.528 --> 00:00:41.480\nToday, I wanna talk about WSUS,\n\n13\n00:00:41.480 --> 00:00:46.220\nthe Windows Server Update Services and\nwe, we did a hole show on WSUS.\n\n14\n00:00:46.220 --> 00:00:50.607\nWe showed how to install it, deploy it,\nconnect your clients to it, update it and\n\n15\n00:00:50.607 --> 00:00:51.315\nrun with it.\n\n16\n00:00:51.315 --> 00:00:54.331\nWe really showed you everything\nthat you needed to know, but\n\n17\n00:00:54.331 --> 00:00:57.229\none of the new objectives is calling out,\nspecifically,\n\n18\n00:00:57.229 --> 00:01:00.175\nmanage patch management in\nmixed environments, right?\n\n19\n00:01:00.175 --> 00:01:01.132\nThat's the new one.\n\n20\n00:01:01.132 --> 00:01:03.848\nAnd while we did talk about\nit during the other show,\n\n21\n00:01:03.848 --> 00:01:08.410\nwe didn't specifically call it out cuz\nit didn't use to be on the objective.\n\n22\n00:01:08.410 --> 00:01:13.550\nWhat Microsoft is saying is when you run\nWSUS, you are probably gonna be managing\n\n23\n00:01:13.550 --> 00:01:18.460\npatches not for just one operating system,\nbut many operating systems.\n\n24\n00:01:18.460 --> 00:01:22.380\nYour environment might have Windows XP,\nWindows 7,\n\n25\n00:01:22.380 --> 00:01:25.980\nWindows 8, you might have Server 2008,\nServer 2012.\n\n26\n00:01:25.980 --> 00:01:28.990\nSo, it's not just as cut and dry.\n\n27\n00:01:28.990 --> 00:01:32.710\nAnd, and when we deployed it in\nthe last episode, we did Windows 8 and\n\n28\n00:01:32.710 --> 00:01:34.800\nServer 2012 for our updates.\n\n29\n00:01:34.800 --> 00:01:37.473\nBut what if you still have some\nof the legacy operating systems,\n\n30\n00:01:37.473 --> 00:01:38.660\nit is very common, right?\n\n31\n00:01:38.660 --> 00:01:41.090\nA lot of businesses has\nnot gone to Windows 8 yet.\n\n32\n00:01:41.090 --> 00:01:44.868\nSo, you more than likely will be\nsupporting Windows 7 and even though it's\n\n33\n00:01:44.868 --> 00:01:48.780\nend of lifing you'll probably still\nsupport Windows XP to an extent.\n\n34\n00:01:48.780 --> 00:01:51.243\nAnd so,\nif we have a mixed environment like that,\n\n35\n00:01:51.243 --> 00:01:54.400\nwe've got to take that into\naccount when we set up WSUS.\n\n36\n00:01:54.400 --> 00:01:59.510\nNow, the group policy object settings that\nwe did in the other show, those are fine,\n\n37\n00:01:59.510 --> 00:02:03.200\nthose work for pretty much every OS from\nWindows 2000 and up, so you're covered.\n\n38\n00:02:03.200 --> 00:02:05.630\nIf you're running something\nolder than Windows 2000,\n\n39\n00:02:05.630 --> 00:02:06.820\ndon't worry about the updates.\n\n40\n00:02:06.820 --> 00:02:09.517\nYou're already not secure and\nyour system's, you know, probably garbage.\n\n41\n00:02:09.517 --> 00:02:12.660\nBut [LAUGH], but if you're,\nyou're running something, you know,\n\n42\n00:02:12.660 --> 00:02:16.480\nnot made 15 years ago, then\nthe support's right there in the GPOs.\n\n43\n00:02:16.480 --> 00:02:17.680\nYou'll be in business.\n\n44\n00:02:17.680 --> 00:02:21.150\nBut the only thing we need\nto adjust is WSUS itself.\n\n45\n00:02:21.150 --> 00:02:24.021\nSo, let me show you those settings that\nyou need to go through, and, and again,\n\n46\n00:02:24.021 --> 00:02:25.600\nwe, we did show these\nin the other episode.\n\n47\n00:02:25.600 --> 00:02:28.340\nBut I just wanna make sure that we,\nwe do our due diligence.\n\n48\n00:02:28.340 --> 00:02:30.060\nRight?\nThat we cover everything that could creep\n\n49\n00:02:30.060 --> 00:02:31.450\nup on the exam.\n\n50\n00:02:31.450 --> 00:02:32.540\nSo, let's jump back over.\n\n51\n00:02:32.540 --> 00:02:35.960\nI, I've got that WSUS server that\nwe used in the last episode.\n\n52\n00:02:35.960 --> 00:02:36.520\nAnd and\n\n53\n00:02:36.520 --> 00:02:40.450\nwhat I can do is I can kind of tweak it\nto support these other operating systems.\n\n54\n00:02:40.450 --> 00:02:42.930\nSo, we set this up for\nthe latest and greatest.\n\n55\n00:02:42.930 --> 00:02:44.290\nWindows 8, server 2012.\n\n56\n00:02:44.290 --> 00:02:49.850\nI wanna go back in and add support for\nWindows 7 and server 2008.\n\n57\n00:02:49.850 --> 00:02:53.180\nNow, the GPO, it's done,\nI don't have to mess with it.\n\n58\n00:02:53.180 --> 00:02:57.120\nBut I do need to add the updates for\nthose other operating systems.\n\n59\n00:02:57.120 --> 00:03:01.080\nSo, what we do is we pull up the\nproperties of our server that's running\n\n60\n00:03:01.080 --> 00:03:01.860\nWSUS.\n\n61\n00:03:03.000 --> 00:03:08.170\nAnd so, I'll go in here and and\nwe go into our, our updates.\n\n62\n00:03:08.170 --> 00:03:11.421\nAnd here's where we can see all of our\ndifferent updates that have already\n\n63\n00:03:11.421 --> 00:03:12.060\ndownloaded.\n\n64\n00:03:12.060 --> 00:03:15.990\nAnd if I scan down these updates,\nI'll see there's a bunch of Windows 8 and\n\n65\n00:03:15.990 --> 00:03:19.330\nServer 2012 stuff and, and\nsome Internet Explorer for fun.\n\n66\n00:03:19.330 --> 00:03:22.380\nBut the but most of it's\nWindow Server 2012 and Windows 8.\n\n67\n00:03:22.380 --> 00:03:27.260\nAnd if I go down to my synchronizations,\nhere's what we're synchronizing.\n\n68\n00:03:27.260 --> 00:03:30.157\nAnd if I pull up my properties for\nthe synchronizations, or,\n\n69\n00:03:30.157 --> 00:03:32.010\nyou know, synchronization options.\n\n70\n00:03:32.010 --> 00:03:32.510\nThere we go.\n\n71\n00:03:33.970 --> 00:03:38.740\nIt's in here that we can modify what\nwe're downloading and updating, and so\n\n72\n00:03:38.740 --> 00:03:41.870\nI've got products and\nclassifications right here.\n\n73\n00:03:41.870 --> 00:03:45.770\nThis is where we pick what\nproducts we're going to support.\n\n74\n00:03:48.010 --> 00:03:51.392\nNow, this screen can take a little while\nto load if it's the first time you're\n\n75\n00:03:51.392 --> 00:03:54.330\npulling it up, cuz it's gotta do\nthe full Microsoft product list.\n\n76\n00:03:54.330 --> 00:03:57.769\nBut basically, you can go through here and\nnow, just pick and\n\n77\n00:03:57.769 --> 00:03:59.975\nchoose the OSs that you wanna support.\n\n78\n00:03:59.975 --> 00:04:05.675\nKeep in mind that each OS has its own\nset of updates and if your WSUS server\n\n79\n00:04:05.675 --> 00:04:10.315\nis set to download the updates, you can\nbe downloading gigabytes worth of data.\n\n80\n00:04:10.315 --> 00:04:12.520\nIt could be a lot, so\nit could take a while.\n\n81\n00:04:12.520 --> 00:04:15.440\nWe've got our server set up\nin pass through mode where\n\n82\n00:04:15.440 --> 00:04:18.520\nour clients will check in here to see\nif they need the update and then,\n\n83\n00:04:18.520 --> 00:04:20.220\nthey're gonna go out to Microsoft and\ndownload it.\n\n84\n00:04:20.220 --> 00:04:22.434\nSo, I'm gonna enable it here and\nit will go pretty quick.\n\n85\n00:04:22.434 --> 00:04:25.966\nBut in real life land, if you're\ndownloading, it, it could take a while,\n\n86\n00:04:25.966 --> 00:04:26.530\nall right?\n\n87\n00:04:27.540 --> 00:04:30.573\nSo, I'm just gonna scroll down here and\nI'll find the legacy operating systems.\n\n88\n00:04:30.573 --> 00:04:33.929\nI'm gonna go down and find Windows 7.\n\n89\n00:04:33.929 --> 00:04:35.449\nThere is Windows 7.\n\n90\n00:04:35.449 --> 00:04:36.026\nAll right.\n\n91\n00:04:36.026 --> 00:04:37.780\nSo, I'm just gonna add support for that.\n\n92\n00:04:37.780 --> 00:04:41.470\nI've got Windows 8 and\n8.1 already checked, and then,\n\n93\n00:04:41.470 --> 00:04:45.730\nI'll scroll down and find,\nthere's Server 2012 and 2012 R2.\n\n94\n00:04:45.730 --> 00:04:49.090\nI'm gonna add Windows Server 2008,\nand 2008 R2.\n\n95\n00:04:49.090 --> 00:04:52.170\nYou know, if I'm still supporting\nthose in my environment.\n\n96\n00:04:52.170 --> 00:04:55.682\nIf, if I'm no longer running those OSs,\nI don't need to check them off, I don't,\n\n97\n00:04:55.682 --> 00:04:57.350\ndon't need to use them anymore.\n\n98\n00:04:57.350 --> 00:05:01.090\nBut but if I'm still using them in\nproduction, I need to keep them patched,\n\n99\n00:05:01.090 --> 00:05:02.410\nI need to keep them updated.\n\n100\n00:05:02.410 --> 00:05:04.480\nI have a mixed environment.\n\n101\n00:05:04.480 --> 00:05:07.198\nBut that's okay, WSUS can handle that.\n\n102\n00:05:07.198 --> 00:05:09.611\nNow, another thing worth noting,\n\n103\n00:05:09.611 --> 00:05:14.730\nWSUS running on Windows Server\n2012 can support all these.\n\n104\n00:05:14.730 --> 00:05:18.960\nBut WSUS running on Windows\n2008 doesn't support 2012,\n\n105\n00:05:18.960 --> 00:05:23.070\nyou can't have a lower OS trying to\nupdate a higher OS, it causes problems.\n\n106\n00:05:23.070 --> 00:05:27.070\nSo, your WSUS server should be one of\nthe first ones that you upgrade, so\n\n107\n00:05:27.070 --> 00:05:29.260\nthat it'll be able to\nsupport the newer OSs, right?\n\n108\n00:05:29.260 --> 00:05:33.010\nSo, if, if you're ever doing a migration\nor whatever, just keep in that in mind.\n\n109\n00:05:33.010 --> 00:05:36.042\nBut but as we skim down the list,\nwe can find those OSs.\n\n110\n00:05:36.042 --> 00:05:38.884\nI think I mentioned Windows XP,\nand so I can scroll down and\n\n111\n00:05:38.884 --> 00:05:40.109\nfind it and check it off.\n\n112\n00:05:40.109 --> 00:05:43.814\nKeep in mind you know,\nWindows XP is end of lifing soon.\n\n113\n00:05:43.814 --> 00:05:47.581\nAnd when that happens, Microsoft will\nstill make the updates available,\n\n114\n00:05:47.581 --> 00:05:50.070\nyou can still download the updates.\n\n115\n00:05:50.070 --> 00:05:52.800\nBut they're just not gonna\nrelease any new updates.\n\n116\n00:05:52.800 --> 00:05:55.810\nSo, if an exploit is found, they're,\nthey're not gonna patch it.\n\n117\n00:05:55.810 --> 00:05:58.900\nIt's no longer supported,\nyou need to move to a newer OS.\n\n118\n00:05:58.900 --> 00:06:02.402\nBut but we'll go ahead and flag that to\nbe able to download them in, in Vista.\n\n119\n00:06:02.402 --> 00:06:03.940\nNow, I'm not downloading.\n\n120\n00:06:03.940 --> 00:06:08.680\nSo, when I hit okay here, it's gonna\ndownload basically XML files that identify\n\n121\n00:06:08.680 --> 00:06:11.880\nwhat the updates are and\nit's gonna catalog them.\n\n122\n00:06:11.880 --> 00:06:12.840\nBut not download them.\n\n123\n00:06:12.840 --> 00:06:14.020\nSo, it, it happened really fast.\n\n124\n00:06:14.020 --> 00:06:14.990\nIt's already done.\n\n125\n00:06:14.990 --> 00:06:15.750\nRight?\n\n126\n00:06:15.750 --> 00:06:20.150\nBut if I if I had it set to download,\n\n127\n00:06:20.150 --> 00:06:22.340\nthe next time it synchronizes,\nit would take a long time.\n\n128\n00:06:22.340 --> 00:06:24.460\nIn fact, I'll go ahead and\nsynchronize now.\n\n129\n00:06:25.570 --> 00:06:29.720\nLast time I synchronized,\nit downloaded 445 updates, and again I,\n\n130\n00:06:29.720 --> 00:06:31.180\nI keep saying downloaded.\n\n131\n00:06:31.180 --> 00:06:35.140\nI'm not actually downloading, so\nit downloaded that 445 updates existed.\n\n132\n00:06:35.140 --> 00:06:40.161\nThis time, that number should, should go\nup substantially cuz I'm adding Windows XP\n\n133\n00:06:40.161 --> 00:06:45.623\nwhich has several hundred updates, Windows\nVista and Windows 7 as well, Server 2008.\n\n134\n00:06:45.623 --> 00:06:48.366\nSo, I should probably be looking\nat a good thousand updates,\n\n135\n00:06:48.366 --> 00:06:49.960\nthat it's gonna pull down.\n\n136\n00:06:49.960 --> 00:06:52.030\nIt'll take a couple of minutes to do that.\n\n137\n00:06:52.030 --> 00:06:54.960\nIf you're downloading,\nthis could take hours to happen.\n\n138\n00:06:54.960 --> 00:06:58.060\nSo, you've just gotta patient for that\nsynchronization to run the first time.\n\n139\n00:06:58.060 --> 00:07:00.230\nAfter that it,, it'll,\nit'll run a lot quicker.\n\n140\n00:07:00.230 --> 00:07:00.825\nAll right.\n\n141\n00:07:00.825 --> 00:07:03.728\nNow, we don't have to sit around and watch\nthis because at the end of the day, I,\n\n142\n00:07:03.728 --> 00:07:06.465\nI don't have a Windows 7 or\nWindows XP machine to update anyway.\n\n143\n00:07:06.465 --> 00:07:09.428\nBut once those updates are in,\nas the machines check in,\n\n144\n00:07:09.428 --> 00:07:11.169\nthey'll now see their updates.\n\n145\n00:07:11.169 --> 00:07:14.225\nWe can approve and\ndeny them just like any other update.\n\n146\n00:07:14.225 --> 00:07:19.395\nWhen we go under all updates, we'll see\na mixture of Windows 7, Windows XP,\n\n147\n00:07:19.395 --> 00:07:23.310\nVista, 8, you know, all those updates\nall kinda blended together in this list.\n\n148\n00:07:23.310 --> 00:07:25.870\nSo, can WSUS support a mixed environment?\n\n149\n00:07:25.870 --> 00:07:26.570\nAbsolutely.\n\n150\n00:07:26.570 --> 00:07:28.000\nAnd is it hard to configure?\n\n151\n00:07:28.000 --> 00:07:28.790\nAbsolutely not.\n\n152\n00:07:28.790 --> 00:07:31.100\nWe just check off the OSs we have,\nand we're done.\n\n153\n00:07:31.100 --> 00:07:31.990\nThat's it.\n\n154\n00:07:31.990 --> 00:07:32.630\nAll right?\n\n155\n00:07:32.630 --> 00:07:35.510\nSo so, you know, again, like I said,\nwe really did cover this in the other\n\n156\n00:07:35.510 --> 00:07:38.190\nepisode, but I wanted to make sure\nwe specifically called it out so\n\n157\n00:07:38.190 --> 00:07:41.420\nthat you guys, you know, didn't get\nblindsided by anything on the exam.\n\n158\n00:07:41.420 --> 00:07:45.098\nThe support's there, super easy to use,\nso take advantage of it.\n\n159\n00:07:45.098 --> 00:07:46.219\nAll right.\nWell, keep in mind,\n\n160\n00:07:46.219 --> 00:07:50.379\nif you have any questions, you can always\nuse the Q&A link on the ITProTV web page,\n\n161\n00:07:50.379 --> 00:07:51.620\ntop of every page.\n\n162\n00:07:51.620 --> 00:07:52.790\nYou can post your questions there.\n\n163\n00:07:52.790 --> 00:07:54.058\nWe monitor and answer.\n\n164\n00:07:54.058 --> 00:07:56.930\nBut we wanna make sure you guys have\nthe information you need for the exam.\n\n165\n00:07:56.930 --> 00:08:00.572\nIf you're ever in doubt on something,\njust ask us and we'll we'll let you know.\n\n166\n00:08:00.572 --> 00:08:01.837\nAll right?\nHope you enjoyed it and\n\n167\n00:08:01.837 --> 00:08:03.572\nwe'll see you in the next ITProTV special.\n\n168\n00:08:03.572 --> 00:08:09.709\n[SOUND].\n\n",
          "vimeoId": "87676483"
        },
        {
          "description": "In this episode, Daniel and Mike explore the Performance Monitor system built into the Windows Server 2012R2 operating system. They show you how to configure Data Collector Sets as well as Alerts. They also show you how to perform real-time monitoring of performance, as well as monitoring virtual machines and system events. Also covered is network monitoring and scheduling performance monitoring.",
          "length": "1886",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-3-1-performance_monitor-090115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-3-1-performance_monitor-090115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-3-1-performance_monitor-090115-1-sm.jpg",
          "title": "Performance Monitor",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.213\n[MUSIC]\n\n2\n00:00:10.213 --> 00:00:15.480\nAll right, greetings everyone and welcome\nto another fantastic episode of ITProTV.\n\n3\n00:00:15.480 --> 00:00:19.070\nI'll be your host, Daniel Lowrie,\nhere with me today is Mr. Mike Roderick.\n\n4\n00:00:19.070 --> 00:00:20.070\nHow you doing today, Mikey?\n\n5\n00:00:20.070 --> 00:00:22.440\n>> Oh, I'm doing fantastic,\nDaniel, I'm excited to be here.\n\n6\n00:00:22.440 --> 00:00:24.480\nWe're continuing one with our 7411 series.\n\n7\n00:00:24.480 --> 00:00:27.620\nIn this one, we're gonna take\na look at performance monitor.\n\n8\n00:00:27.620 --> 00:00:31.260\nThis is one of those tools that\nwe've gotta be familiar with.\n\n9\n00:00:31.260 --> 00:00:33.610\nOne for the exam as well as for\nthe real world.\n\n10\n00:00:33.610 --> 00:00:36.560\nThis is how you tell if your\nservers are performing well.\n\n11\n00:00:36.560 --> 00:00:41.030\nAnd that's obviously an important part of\nmaintaining any type of computer network,\n\n12\n00:00:41.030 --> 00:00:44.760\nespecially in an enterprise environment\nwhere we've got to have these servers,\n\n13\n00:00:44.760 --> 00:00:46.090\nthey have to be up and running.\n\n14\n00:00:46.090 --> 00:00:46.750\nBut, if they are up and\n\n15\n00:00:46.750 --> 00:00:51.620\nrunning and not performing at an optimal\nlevel, that's very frustrating, right?\n\n16\n00:00:51.620 --> 00:00:55.640\n>> Yeah, you don't wanna login into\na server and sit there, and well,\n\n17\n00:00:55.640 --> 00:00:57.590\nthis is fun, and\nyou play the waiting game, right.\n\n18\n00:00:57.590 --> 00:00:58.790\n>> [LAUGH]\n>> We always say we\n\n19\n00:00:58.790 --> 00:01:01.760\nspent half of our lives waiting for\ncomputers to compute.\n\n20\n00:01:01.760 --> 00:01:04.040\nNow, when we wanna do,\nwe wanna reduce that amount of time.\n\n21\n00:01:04.040 --> 00:01:07.110\nThe way we can do that is by\nchecking out performance monitors.\n\n22\n00:01:07.110 --> 00:01:08.600\nIt's a built in set of tools.\n\n23\n00:01:08.600 --> 00:01:11.072\nAnd the Windows operating\nsystem is not just servers.\n\n24\n00:01:11.072 --> 00:01:14.460\nWell is also in their client\ndesktop operating systems.\n\n25\n00:01:14.460 --> 00:01:16.570\nSo anywhere you go,\nyou should be able to check and\n\n26\n00:01:16.570 --> 00:01:19.250\nsee how your computer is running.\n\n27\n00:01:19.250 --> 00:01:22.750\nFigure out what the optimal level is,\nand then you can tell whether or\n\n28\n00:01:22.750 --> 00:01:25.540\nnot it's performing to\nthose specifications.\n\n29\n00:01:25.540 --> 00:01:28.780\nThis is a good way for\nus as administrators,\n\n30\n00:01:28.780 --> 00:01:30.450\nto keep the chains oiled, as it were.\n\n31\n00:01:30.450 --> 00:01:31.730\n>> Absolutely, absolutely.\n\n32\n00:01:31.730 --> 00:01:35.450\nYou think about all these servers that\nare providing services to our clients and\n\n33\n00:01:35.450 --> 00:01:36.810\nif they're having to wait.\n\n34\n00:01:36.810 --> 00:01:39.680\nIf your SQL server's running slow,\nqueries are performing poorly.\n\n35\n00:01:39.680 --> 00:01:41.960\nThey're not getting\nthose reports back fast.\n\n36\n00:01:41.960 --> 00:01:44.140\nIf they're waiting on DNS queries.\n\n37\n00:01:44.140 --> 00:01:47.150\nTrying to connect to resources,\nyou know you get that spinning cheerio and\n\n38\n00:01:47.150 --> 00:01:48.410\nthings like that going.\n\n39\n00:01:48.410 --> 00:01:52.430\nMakes for a very angry set of users, and\nit puts us on the line because we're\n\n40\n00:01:52.430 --> 00:01:55.240\nthe ones who are supposed to be\nkeeping those servers performing well.\n\n41\n00:01:55.240 --> 00:01:58.960\nSo but as Daniel said,\nMicrosoft gives us the tools we need.\n\n42\n00:01:58.960 --> 00:02:01.960\nWe just have to know how to use them and\nunderstand what we're seeing.\n\n43\n00:02:01.960 --> 00:02:04.840\nSo let's talk about this good\nold performance monitor.\n\n44\n00:02:04.840 --> 00:02:07.100\nFirst of all,\nbefore we dive right in to it,\n\n45\n00:02:07.100 --> 00:02:10.390\nI do want to talk about the type\nof monitoring we're doing.\n\n46\n00:02:10.390 --> 00:02:12.910\nBecause there are different\ntools I can use within Windows,\n\n47\n00:02:12.910 --> 00:02:14.730\nPerformance Monitor is one of them.\n\n48\n00:02:14.730 --> 00:02:19.100\nBut when you talk about monitoring we can\ndo what we call real time monitoring,\n\n49\n00:02:19.100 --> 00:02:22.080\nwe can also do what we call\nhistorical monitoring.\n\n50\n00:02:22.080 --> 00:02:26.840\nReal time monitoring is showing me what's\ngoing on, in the system right now.\n\n51\n00:02:26.840 --> 00:02:29.710\nAll right,\nin fact if we take a look at my screen,\n\n52\n00:02:29.710 --> 00:02:31.470\nI've got Performance Monitor opened up.\n\n53\n00:02:31.470 --> 00:02:32.290\nIt's just to the default.\n\n54\n00:02:32.290 --> 00:02:34.110\nThere's one counter added.\n\n55\n00:02:34.110 --> 00:02:39.490\nAnd a counter is a, something that's\nreading some type of information.\n\n56\n00:02:39.490 --> 00:02:41.800\nLike this is percent process or time.\n\n57\n00:02:41.800 --> 00:02:44.450\nSo this is showing me my\nworkload on my processor,\n\n58\n00:02:44.450 --> 00:02:46.480\nwhich is not showing a lot of activity.\n\n59\n00:02:46.480 --> 00:02:50.360\nIf I open up a couple windows here,\nmaybe I can get a little spike.\n\n60\n00:02:50.360 --> 00:02:52.565\nWindows Explorer takes\na lot of processor power.\n\n61\n00:02:52.565 --> 00:02:55.170\n>> [LAUGH]\n>> But there you can see a spike up, but\n\n62\n00:02:55.170 --> 00:02:58.270\nwhat's gonna happen, is that red\nline is gonna go across the screen,\n\n63\n00:02:58.270 --> 00:03:01.870\nand when it gets to the end, it's gonna\ncome back around to the other side And\n\n64\n00:03:01.870 --> 00:03:05.800\nit's gonna start wiping out\nthe old data with new data, right.\n\n65\n00:03:05.800 --> 00:03:08.950\nSo I'm not able to save\nany of this information.\n\n66\n00:03:08.950 --> 00:03:11.320\nThat's what I mean by\nreal time monitoring.\n\n67\n00:03:11.320 --> 00:03:13.270\nAnother example would\nbe like Task Manager.\n\n68\n00:03:13.270 --> 00:03:16.090\nI'm sure all of you have pulled\nup Task Manager before and\n\n69\n00:03:16.090 --> 00:03:17.760\nlooked at that Performance tab.\n\n70\n00:03:17.760 --> 00:03:20.890\nThat's showing you what's going on in\nyour system right then and there, but\n\n71\n00:03:20.890 --> 00:03:22.490\nyou can't save any of that, right?\n\n72\n00:03:22.490 --> 00:03:25.450\nThat's real time monitoring and\na lot of time that's what we need.\n\n73\n00:03:25.450 --> 00:03:28.730\nYou know we're getting reports in that\nthat server is doing something crazy or\n\n74\n00:03:28.730 --> 00:03:29.970\nit's really slow.\n\n75\n00:03:29.970 --> 00:03:32.130\nWe can go in there, we can check and\nsee what's going on.\n\n76\n00:03:32.130 --> 00:03:35.640\nSee what component it is\nthat's getting maxed out and\n\n77\n00:03:35.640 --> 00:03:37.520\ncausing this performance issue.\n\n78\n00:03:37.520 --> 00:03:40.630\nBut we also need to be able\nto do historical monitoring.\n\n79\n00:03:40.630 --> 00:03:42.360\nBecause when we talk about performance,\n\n80\n00:03:42.360 --> 00:03:46.270\nand any time you talk about speed,\nit's a relative thing.\n\n81\n00:03:46.270 --> 00:03:47.830\nRight?\nYou have to have something\n\n82\n00:03:47.830 --> 00:03:48.970\nto compare it to.\n\n83\n00:03:48.970 --> 00:03:52.000\nWhen I used to teach these Microsoft\nclasses one of the examples I would say,\n\n84\n00:03:52.000 --> 00:03:56.420\nwe could take a laptop, and pass it around\nthe room and some of you might say,\n\n85\n00:03:56.420 --> 00:04:00.950\nthis laptop is really fast, cuz compared\nto the laptop you've got at home, it is.\n\n86\n00:04:00.950 --> 00:04:01.770\nIt's a lot faster.\n\n87\n00:04:01.770 --> 00:04:03.370\nSo you think the laptop's fast.\n\n88\n00:04:03.370 --> 00:04:06.580\nYou pass it to the next person,\nand they take that same laptop and\n\n89\n00:04:06.580 --> 00:04:08.160\nsay, this thing's a hunk of junk.\n\n90\n00:04:08.160 --> 00:04:11.520\nBecause compared to that super Cray\nthey got sitting at the house,\n\n91\n00:04:11.520 --> 00:04:13.530\nthe laptop is running slow, right?\n\n92\n00:04:13.530 --> 00:04:15.400\nSo performance is very relative.\n\n93\n00:04:15.400 --> 00:04:19.410\nWithout anything to compare it to, you\ncan not get an accurate representation.\n\n94\n00:04:19.410 --> 00:04:20.970\nThe same thing happens in server here.\n\n95\n00:04:20.970 --> 00:04:24.350\nIf I go, and you tell me this\nserver is running really slow, and\n\n96\n00:04:24.350 --> 00:04:25.920\nI've never seen the server before.\n\n97\n00:04:25.920 --> 00:04:27.280\nAnd I open up Performance Monitor, and\n\n98\n00:04:27.280 --> 00:04:31.740\nI capture this information, I don't know\nif that's normally what the server does.\n\n99\n00:04:31.740 --> 00:04:35.100\nIf that's how it normally behaves or\nif that's its normal performance, or\n\n100\n00:04:35.100 --> 00:04:35.980\nif that's abnormal.\n\n101\n00:04:35.980 --> 00:04:39.430\nBecause I don't have anything to compare\nit to, I've never seen it before.\n\n102\n00:04:39.430 --> 00:04:42.930\nAnd that's where the historical\nmonitoring comes in.\n\n103\n00:04:42.930 --> 00:04:46.760\nBeing able to capture the performance\ninformation and then saving it.\n\n104\n00:04:46.760 --> 00:04:49.160\nWe call that a baseline, all right.\n\n105\n00:04:49.160 --> 00:04:52.860\nWhen you create a baseline, you capture\nthat information and you set it aside.\n\n106\n00:04:52.860 --> 00:04:55.860\nAnd then maybe once a week,\nonce a month, once a day.\n\n107\n00:04:55.860 --> 00:04:57.820\nWhatever your company decides.\n\n108\n00:04:57.820 --> 00:04:59.160\nOr just when somebody calls you up and\n\n109\n00:04:59.160 --> 00:05:02.270\nsays, man that servers seems\nto be running really slow.\n\n110\n00:05:02.270 --> 00:05:04.810\nI can capture the same information again,\n\n111\n00:05:04.810 --> 00:05:09.380\ncompare it to that baseline I captured\na week ago, and say, yeah you're right.\n\n112\n00:05:09.380 --> 00:05:10.180\nIt really has.\n\n113\n00:05:10.180 --> 00:05:15.300\nAdding those hundred users has had\na big impact on this DNS server, or\n\n114\n00:05:15.300 --> 00:05:19.230\nI can say, no, it's actually doing,\nas it always has.\n\n115\n00:05:19.230 --> 00:05:22.050\nIt's just your perception that day, or\nyou're just gonna have to deal with it,\n\n116\n00:05:22.050 --> 00:05:23.760\nbecause that's about\nwhat that server does,\n\n117\n00:05:23.760 --> 00:05:26.720\nor maybe we need to spend some money and\nupgrade the server.\n\n118\n00:05:26.720 --> 00:05:31.440\nSo that's the difference between real time\nmonitoring and historical monitoring, and\n\n119\n00:05:31.440 --> 00:05:33.770\na term we call base line.\n\n120\n00:05:33.770 --> 00:05:35.790\nNow, Performance Monitor does both.\n\n121\n00:05:35.790 --> 00:05:39.460\nWhat you see here is real time monitoring,\nas I said earlier.\n\n122\n00:05:39.460 --> 00:05:43.140\nAnd we'll get into historical\nmonitoring in just a moment.\n\n123\n00:05:43.140 --> 00:05:46.520\nLet's learn a little bit about this\ninterface and how I can use it.\n\n124\n00:05:46.520 --> 00:05:50.860\nThe first thing we need to be able to do,\nis add additional counters, and\n\n125\n00:05:50.860 --> 00:05:53.680\nthere's no shortage of counters\nin Performance Monitor.\n\n126\n00:05:53.680 --> 00:05:57.132\nIf I come up here and click on this\nlittle green plus sign on my toolbar,\n\n127\n00:05:57.132 --> 00:06:00.440\nI'll see a whole list of perform scanners.\n\n128\n00:06:00.440 --> 00:06:04.920\nNow these are actually categories,\nnot individual counters.\n\n129\n00:06:04.920 --> 00:06:07.850\nEach one of these categories\nI can expand out, and\n\n130\n00:06:07.850 --> 00:06:13.390\nyou'll see underneath there is a whole\nlist of counters that I can add.\n\n131\n00:06:13.390 --> 00:06:14.430\nAll right.\n\n132\n00:06:14.430 --> 00:06:18.240\nNow some of these counters might\nnot make a lot of sense to you.\n\n133\n00:06:18.240 --> 00:06:20.023\nWhat the heck is %c2time?\n\n134\n00:06:20.023 --> 00:06:21.409\nI don't know.\n\n135\n00:06:21.409 --> 00:06:23.190\nBut what we can do is we can find out.\n\n136\n00:06:23.190 --> 00:06:25.820\nDown at the bottom, show description.\n\n137\n00:06:25.820 --> 00:06:27.510\nAnd this will tell you the %c2time,\n\n138\n00:06:27.510 --> 00:06:31.660\nis the percentage of time the processor\nspins in the c2 lower power idle state.\n\n139\n00:06:31.660 --> 00:06:33.408\nHopefully that helps you out,\ndoesn't help me any.\n\n140\n00:06:33.408 --> 00:06:34.790\n[LAUGH] I'm kidding.\n\n141\n00:06:34.790 --> 00:06:37.430\nBut the point is you're gonna come in here\nand you're gonna see some things you have\n\n142\n00:06:37.430 --> 00:06:39.960\nno idea what they are, and\nthat's okay, it's understandable.\n\n143\n00:06:39.960 --> 00:06:43.110\nThere's hundreds and\nhundreds of counters in here.\n\n144\n00:06:43.110 --> 00:06:46.170\nBut the cool thing is,\nis they give you this little description\n\n145\n00:06:46.170 --> 00:06:49.220\nto help you figure out what\nthe heck it is, all right.\n\n146\n00:06:49.220 --> 00:06:53.080\nSo when we add counters, we simply come\nin here, select the counter that we want.\n\n147\n00:06:53.080 --> 00:06:56.340\nLike, percent processor time is already\nadded, I'll go ahead and leave that one,\n\n148\n00:06:56.340 --> 00:06:58.590\nand let's do some other categories.\n\n149\n00:06:59.800 --> 00:07:01.910\nAll right, let's do the main four.\n\n150\n00:07:01.910 --> 00:07:04.460\nAny time you're monitoring\na server performance,\n\n151\n00:07:04.460 --> 00:07:08.320\nthere's really four main\nsubsystems that we always monitor.\n\n152\n00:07:08.320 --> 00:07:10.120\nNow, we might monitor additional stuff.\n\n153\n00:07:10.120 --> 00:07:12.830\nIf it's DNS,\nwe'll get additional counters.\n\n154\n00:07:12.830 --> 00:07:18.020\nIf I install DNS on this server, I'll\nget additional counters specific to DNS.\n\n155\n00:07:18.020 --> 00:07:21.050\nQueries per second, queries dropped\nper second, things like that.\n\n156\n00:07:21.050 --> 00:07:25.270\nIf I installed DHCP, I'll get\nadditional counters that cover DHCP,\n\n157\n00:07:25.270 --> 00:07:28.610\nacknowledgements per second,\nnegative acknowledgements per second.\n\n158\n00:07:28.610 --> 00:07:29.710\nThings like that.\n\n159\n00:07:29.710 --> 00:07:30.995\nBut the.\nThe four main subsystems\n\n160\n00:07:30.995 --> 00:07:35.105\nyou always monitor, processor,\nmemory, disk and network, all right?\n\n161\n00:07:35.105 --> 00:07:37.835\nProcessor, it's usually if\nyou're gonna monitor any one,\n\n162\n00:07:37.835 --> 00:07:39.215\nit's percent processor time.\n\n163\n00:07:39.215 --> 00:07:42.065\nThat tells you how busy\nthe processor is overall.\n\n164\n00:07:42.065 --> 00:07:47.337\nFor memory, usually the one we're gonna\nadd is going to be pages per second.\n\n165\n00:07:47.337 --> 00:07:49.327\nBecause if my system is paging,\n\n166\n00:07:49.327 --> 00:07:54.426\nthat means it's running low on memory as\nhaving to write that out to the page file.\n\n167\n00:07:54.426 --> 00:07:55.390\nSo we'll add that one.\n\n168\n00:07:55.390 --> 00:07:57.502\nAnd notice all I did\nwas find that counter.\n\n169\n00:07:57.502 --> 00:08:00.765\nAnd click Add, and\nit moved it over into this list.\n\n170\n00:08:00.765 --> 00:08:06.113\nFor disk,\nI'm gonna come down to physical disk here,\n\n171\n00:08:06.113 --> 00:08:10.650\nand I'm gonna say average\ndisk queue length,\n\n172\n00:08:10.650 --> 00:08:17.460\nif I can find that in this long list here,\naverage disk queue length.\n\n173\n00:08:17.460 --> 00:08:22.450\nNow queue is a list, and average\ndisk queue length shows you how many\n\n174\n00:08:22.450 --> 00:08:24.500\nthings are waiting on that hard drive.\n\n175\n00:08:24.500 --> 00:08:26.350\nI need to write something to hard drive,\nbut\n\n176\n00:08:26.350 --> 00:08:30.460\nI'm in line behind three other requests\nfor that hard drive's attention.\n\n177\n00:08:30.460 --> 00:08:35.440\nSo the longer that queue list is, then we\nstart worrying about performance on that.\n\n178\n00:08:35.440 --> 00:08:36.890\nSo that's the main one.\n\n179\n00:08:36.890 --> 00:08:39.860\nAgain there's several that you can add.\n\n180\n00:08:39.860 --> 00:08:44.490\nFor this one, I'm noticing that, and\nthere we go, sometimes you might have\n\n181\n00:08:44.490 --> 00:08:48.860\nseen when I first clicked on that,\nthere were no instances listed down here.\n\n182\n00:08:48.860 --> 00:08:53.170\nSo I clicked away, and then clicked back\non it, and now you'll see instances.\n\n183\n00:08:53.170 --> 00:08:56.400\nAnd that's just a strange quirk,\nso if you ever get in here and\n\n184\n00:08:56.400 --> 00:09:00.410\nyou don't see instances listed and\nyou know there should be, click away and\n\n185\n00:09:00.410 --> 00:09:02.880\nthen click back on it,\nthey'll usually pop up.\n\n186\n00:09:02.880 --> 00:09:06.080\nMicrosoft, if you get a chance,\ncould you fix that for us?\n\n187\n00:09:06.080 --> 00:09:08.190\nFor memory, there was no instances, right.\n\n188\n00:09:08.190 --> 00:09:11.080\nI only have one set of RAM in my computer.\n\n189\n00:09:11.080 --> 00:09:15.630\nHard drives, however, I can have more\nthan one physical disk in that system.\n\n190\n00:09:15.630 --> 00:09:19.330\nAnd so I should see a couple of\noptions here, even if I only have one.\n\n191\n00:09:19.330 --> 00:09:20.800\nI'll see a couple of options.\n\n192\n00:09:20.800 --> 00:09:22.070\nThere's a total.\n\n193\n00:09:22.070 --> 00:09:24.242\nWhich means,\nif you have three hard drives.\n\n194\n00:09:24.242 --> 00:09:26.490\nIt's gonna take that average\ndisk queue length for\n\n195\n00:09:26.490 --> 00:09:29.652\nall three of those guys,\nput it together and show you one result.\n\n196\n00:09:29.652 --> 00:09:31.669\nAll right, just a total for\nall three drives.\n\n197\n00:09:32.680 --> 00:09:36.740\nIf you choose all instances, it would\nadd all three drives individually.\n\n198\n00:09:36.740 --> 00:09:40.100\nYou'd see the average disk queue\nlength for each physical disk.\n\n199\n00:09:40.100 --> 00:09:43.030\nOr, I could pick the individual disk and\njust see that one.\n\n200\n00:09:43.030 --> 00:09:44.680\nMaybe you don't care about the C drive.\n\n201\n00:09:44.680 --> 00:09:47.030\nI just wanna see the D drive, for example.\n\n202\n00:09:47.030 --> 00:09:50.090\nSo a couple of different ways\nyou can add these guys there.\n\n203\n00:09:50.090 --> 00:09:54.250\nAgain, and I'll just click add, and\nnow I've got my average disk queue length.\n\n204\n00:09:54.250 --> 00:09:58.770\nSo we've got processor, percent processor\ntime, I've got memory pages per second.\n\n205\n00:09:58.770 --> 00:10:01.350\nI've got physical disks,\naverage disk queue length.\n\n206\n00:10:01.350 --> 00:10:05.180\nSo the last main subsystem\nis going to be network.\n\n207\n00:10:06.460 --> 00:10:08.560\nAnd there's my network adapter.\n\n208\n00:10:08.560 --> 00:10:11.070\nAnd I'm just gonna do\nbytes total per second.\n\n209\n00:10:11.070 --> 00:10:13.210\nAnd you can see there,\nI've got a whole bunch of instances,\n\n210\n00:10:13.210 --> 00:10:15.410\nbecause I've got multiple\nnetwork adapters.\n\n211\n00:10:15.410 --> 00:10:19.620\nI've got my tunnel adapters that\nit creates, my Teredo tunnel and\n\n212\n00:10:19.620 --> 00:10:23.700\nthings like that, I'm just gonna\nfind my actual network adapter, and\n\n213\n00:10:23.700 --> 00:10:26.950\nadd just that one instance, all right?\n\n214\n00:10:26.950 --> 00:10:30.990\nAnd then I'll click OK, and now I've got\nthese four counters down here added.\n\n215\n00:10:30.990 --> 00:10:34.050\nAnd it's gonna start showing\nme that information.\n\n216\n00:10:35.170 --> 00:10:36.950\nAnd I don't think I can drag,\n\n217\n00:10:36.950 --> 00:10:39.310\nlet me see if I can get that\ndragged up just a little bit.\n\n218\n00:10:39.310 --> 00:10:41.680\nIt's not gonna let me make that any\nbigger, but I can scroll down and\n\n219\n00:10:41.680 --> 00:10:44.290\nsee all four of those counters there.\n\n220\n00:10:44.290 --> 00:10:46.760\nSo that's the first thing we need to\nunderstand, is how to add counters.\n\n221\n00:10:46.760 --> 00:10:49.160\nNeed to be able to monitor whatever it is.\n\n222\n00:10:49.160 --> 00:10:51.090\nThat I'm trying to monitor.\n\n223\n00:10:51.090 --> 00:10:54.568\nNow once you've got those added,\nagain this is real time.\n\n224\n00:10:54.568 --> 00:10:59.270\nAnother cool tool that I can use is this\nlittle highlighter right here, all right?\n\n225\n00:10:59.270 --> 00:11:01.340\nBecause you notice how some of\nthese counters are running right\n\n226\n00:11:01.340 --> 00:11:05.070\nalong the bottom, and\nif you end up adding a few dozen,\n\n227\n00:11:05.070 --> 00:11:06.730\nyou can add quite a few counters in here.\n\n228\n00:11:06.730 --> 00:11:09.370\nAnd all of a sudden, everything's\nlaying on top of each other, and\n\n229\n00:11:09.370 --> 00:11:11.370\nit's hard to figure out which one's which.\n\n230\n00:11:11.370 --> 00:11:14.872\nYou can turn on the highlighter, and\nnow whichever counter I have selected,\n\n231\n00:11:14.872 --> 00:11:18.070\nis gonna be highlighted\nin that graph view.\n\n232\n00:11:18.070 --> 00:11:18.770\nAll right.\n\n233\n00:11:18.770 --> 00:11:22.580\nSo it's really handy when one's\nrunning right along the bottom, or\n\n234\n00:11:22.580 --> 00:11:25.060\nif one happened to be running\nright along the top, or\n\n235\n00:11:25.060 --> 00:11:28.710\nif I have a whole bunch of counters\nin here, and it looks really messy.\n\n236\n00:11:28.710 --> 00:11:29.470\nRight?\n\n237\n00:11:29.470 --> 00:11:31.080\nI'll go ahead and turn that back off.\n\n238\n00:11:31.080 --> 00:11:32.980\nThe other thing we have\nis different views.\n\n239\n00:11:32.980 --> 00:11:35.620\nI can change,\nthis is what we call the line view.\n\n240\n00:11:35.620 --> 00:11:39.420\nThere's also the histogram bar,\nwhich is more like a moving bar chart.\n\n241\n00:11:39.420 --> 00:11:43.160\nYou can kinda see, let me see if\nI can make some activity here.\n\n242\n00:11:43.160 --> 00:11:43.660\nThere we go.\n\n243\n00:11:43.660 --> 00:11:47.840\nSo you see, I'm spike up occasionally\nas some activity occurs on my\n\n244\n00:11:49.380 --> 00:11:53.370\nmachine, I was trying to make some,\na little bit up, there we go.\n\n245\n00:11:53.370 --> 00:11:54.830\nSo you kinda see a pop up and\n\n246\n00:11:54.830 --> 00:11:59.390\ndown, it's just like a moving bar chart,\nor a column chart or anything.\n\n247\n00:11:59.390 --> 00:12:01.253\nAnd in that last views is the report view,\n\n248\n00:12:01.253 --> 00:12:03.520\nwhich just shows you\na straight up numbers.\n\n249\n00:12:03.520 --> 00:12:05.830\nAnd maybe that's all you wanna see,\nyou don't need the pretty graph or\n\n250\n00:12:05.830 --> 00:12:06.540\nanything like that.\n\n251\n00:12:07.640 --> 00:12:09.089\nSo different views we can use.\n\n252\n00:12:10.230 --> 00:12:12.322\nAll right, so all of that is great,\n\n253\n00:12:12.322 --> 00:12:14.990\nthat's what again is what we\ncall real time monitoring.\n\n254\n00:12:14.990 --> 00:12:20.120\nIf I need to see what's going on,\nthat's what I'm gonna use.\n\n255\n00:12:20.120 --> 00:12:24.670\nOne more thing, I do want to show\nyou in here, is the ability to zoom.\n\n256\n00:12:24.670 --> 00:12:26.850\nActually I'll save that for\nmy data collector set.\n\n257\n00:12:28.120 --> 00:12:32.910\nAll right, so next thing I wanna\ntalk about is, data collector sets.\n\n258\n00:12:32.910 --> 00:12:37.250\nRemember, performance monitor, this is\nreal time, what I see is what I get, and\n\n259\n00:12:37.250 --> 00:12:39.100\nI can't save it, all right.\n\n260\n00:12:39.100 --> 00:12:42.180\nWell if I want to create a baseline, or\nif I want to save this information for\n\n261\n00:12:42.180 --> 00:12:47.350\ncomparison later, then I am gonna use\nwhat's called a data collector set, or\n\n262\n00:12:47.350 --> 00:12:49.680\na DSC as Microsoft likes to call it.\n\n263\n00:12:49.680 --> 00:12:52.860\nAnd I'm gonna come over here to\nUser Defined, I'm gonna right click and\n\n264\n00:12:52.860 --> 00:12:53.520\nchoose new.\n\n265\n00:12:54.560 --> 00:12:56.280\nData collector set.\n\n266\n00:12:56.280 --> 00:12:56.920\nI'll give it a name.\n\n267\n00:12:56.920 --> 00:12:59.850\nI'm gonna call it SVR01 Baseline.\n\n268\n00:13:03.350 --> 00:13:06.480\nOops.\nNow I can create it from a template,\n\n269\n00:13:06.480 --> 00:13:08.430\nin fact, let me go ahead and\nclick Next and I'll show you.\n\n270\n00:13:08.430 --> 00:13:11.370\nThey give me a couple of\ntemplates that I can use.\n\n271\n00:13:11.370 --> 00:13:13.830\nNot a huge fan of them,\nsome of them are very busy.\n\n272\n00:13:13.830 --> 00:13:15.960\nThey add lots and lots of counters, and\n\n273\n00:13:15.960 --> 00:13:18.850\nI spend more time filtering\nit down to see what I want.\n\n274\n00:13:18.850 --> 00:13:21.930\nAlthough, they might be a good\nplace to start as you're learning.\n\n275\n00:13:21.930 --> 00:13:23.710\nCan I not go back?\n\n276\n00:13:23.710 --> 00:13:24.450\nThere we go.\n\n277\n00:13:24.450 --> 00:13:30.573\nI'm gonna create manually, then click\nNext, and I wanna do performance counters,\n\n278\n00:13:30.573 --> 00:13:35.300\nand I'll click Next, and\nthen I'm gonna add my counters.\n\n279\n00:13:35.300 --> 00:13:35.870\nSo I'll click Add,\n\n280\n00:13:35.870 --> 00:13:40.230\nand there's that same screen that\nwe saw in the real time monitor.\n\n281\n00:13:40.230 --> 00:13:42.160\nAnd I'll go ahead and add that same set.\n\n282\n00:13:42.160 --> 00:13:48.730\nI'm gonna do Percent Processor Time,\nTotal, then I'll click Add.\n\n283\n00:13:48.730 --> 00:13:56.219\nFor physical disk, I'm gonna do\nthat average disk queue length.\n\n284\n00:13:58.310 --> 00:14:02.691\nI'll go ahead and do a total for\nthat one, and let's do memory.\n\n285\n00:14:05.471 --> 00:14:07.801\nI'll do my good old pages per second.\n\n286\n00:14:10.971 --> 00:14:16.390\nIt takes you longer to find some of these\nthings than anything, cuz there's so many.\n\n287\n00:14:16.390 --> 00:14:18.210\nAnd I'll add that guy.\n\n288\n00:14:18.210 --> 00:14:19.090\nAnd what did I leave out?\n\n289\n00:14:19.090 --> 00:14:26.180\nNetwork, it's alphabetically Michael,\nthat would actually go down, there we go.\n\n290\n00:14:26.180 --> 00:14:31.140\nAnd I do bytes total per second for\nmy intel and I'll add that.\n\n291\n00:14:31.140 --> 00:14:32.780\nAnd I'll click ok, all right?\n\n292\n00:14:32.780 --> 00:14:34.340\nSo there's my four calendars.\n\n293\n00:14:34.340 --> 00:14:38.392\nThen it wants to know what\nsample interval I wanna use.\n\n294\n00:14:38.392 --> 00:14:42.700\nI'm gonna do every one second for this,\nand I'll go ahead and click Next.\n\n295\n00:14:42.700 --> 00:14:45.630\nWell you've got to decide how often do\nyou want to sample that information.\n\n296\n00:14:45.630 --> 00:14:48.700\nDo keep in mind, you could end\nup skewing your numbers here.\n\n297\n00:14:48.700 --> 00:14:54.030\nIf you add two dozen counters, and you're\ntelling it to sample every one second,\n\n298\n00:14:54.030 --> 00:14:57.230\nwell it's writing this to a log file,\nand that log file is on your drive,\n\n299\n00:14:57.230 --> 00:14:59.540\nso that's a lot of writes\ngoing to that drive,\n\n300\n00:14:59.540 --> 00:15:03.320\nwhich is gonna make your average\ndisk queue length, possibly go up.\n\n301\n00:15:03.320 --> 00:15:04.680\nSo do keep that in mind.\n\n302\n00:15:04.680 --> 00:15:06.250\nYou gotta find that balance.\n\n303\n00:15:06.250 --> 00:15:07.920\nYou can also monitor remotely.\n\n304\n00:15:07.920 --> 00:15:12.480\nI can go to a different server, and\nthen, point it to this server, so\n\n305\n00:15:12.480 --> 00:15:14.680\nthat the monitoring itself\nisn't affecting it,\n\n306\n00:15:14.680 --> 00:15:17.320\nalthough then I'm affecting\nthe network traffic.\n\n307\n00:15:17.320 --> 00:15:19.670\nSo figure out a way to try to keep the.\n\n308\n00:15:21.550 --> 00:15:22.760\nSkewing those numbers to a minimum.\n\n309\n00:15:22.760 --> 00:15:24.206\nI will go ahead and click Next.\n\n310\n00:15:24.206 --> 00:15:31.210\nThe default location c:\\perflogs\\admin\nthat's were it's gonna create that report.\n\n311\n00:15:31.210 --> 00:15:33.705\nKnow that default location hint, hint.\n\n312\n00:15:33.705 --> 00:15:34.645\nAnd there we go.\n\n313\n00:15:34.645 --> 00:15:37.445\nI now have my baseline that I can fire up.\n\n314\n00:15:37.445 --> 00:15:42.775\nNow, a couple of things I wanna show you\nabout this, cause it's a little odd.\n\n315\n00:15:42.775 --> 00:15:45.595\nIf I right click on this\nserver 01 baseline.\n\n316\n00:15:47.072 --> 00:15:49.128\nAnd I choose properties, all right.\n\n317\n00:15:49.128 --> 00:15:52.684\nI'll get properties about\nthe data collector set itself,\n\n318\n00:15:52.684 --> 00:15:54.967\nits name, description, keywords.\n\n319\n00:15:54.967 --> 00:15:58.973\nSome other things about like where\nit's storing it, max log file size.\n\n320\n00:15:58.973 --> 00:16:04.590\nSchedule, this is the important one, and\nstop condition, also an important one.\n\n321\n00:16:04.590 --> 00:16:05.880\nAnd then I've got a task tab,\n\n322\n00:16:05.880 --> 00:16:08.950\nwhich I don't think I've ever actually\nused in a production environment.\n\n323\n00:16:08.950 --> 00:16:11.250\nBut the schedule is an important one,\nright?\n\n324\n00:16:11.250 --> 00:16:14.700\nIf I'm going to capture this\ninformation for my base line,\n\n325\n00:16:14.700 --> 00:16:15.910\nwhen do I wanna capture it?\n\n326\n00:16:15.910 --> 00:16:18.570\nYou might think, well, right now,\nMichael, just go ahead and start it up.\n\n327\n00:16:18.570 --> 00:16:20.020\nWell, in a lab I'm going to, but\n\n328\n00:16:20.020 --> 00:16:23.490\nin the real world you gotta think about\nwhen you want to capture the information.\n\n329\n00:16:23.490 --> 00:16:27.280\nYou want a representation of\nhow that server is performing,\n\n330\n00:16:27.280 --> 00:16:29.290\nunder a normal workload.\n\n331\n00:16:29.290 --> 00:16:32.080\nIf you're the only geek on the network\nat 1 o'clock in the morning,\n\n332\n00:16:32.080 --> 00:16:34.570\nthat server is gonna look like\nit's performing great, right?\n\n333\n00:16:34.570 --> 00:16:37.860\nBut that's not a true representation\nof that server's performance.\n\n334\n00:16:37.860 --> 00:16:41.320\nYou need to monitor it from seven in\nthe morning until nine in the morning,\n\n335\n00:16:41.320 --> 00:16:44.150\nwhen everybody's coming in and\nlogging in and things like that.\n\n336\n00:16:44.150 --> 00:16:47.340\nAnd then again from one in the afternoon\nto three in the afternoon,\n\n337\n00:16:47.340 --> 00:16:49.760\nbecause that's when people are coming\nback from lunch and blah blah blah.\n\n338\n00:16:49.760 --> 00:16:53.536\nAnd then maybe again from four to six when\npeople are logging off or closing down for\n\n339\n00:16:53.536 --> 00:16:54.367\nthe day, right?\n\n340\n00:16:54.367 --> 00:16:58.572\nYou figure out, when is that server\nunder a normal workload, and\n\n341\n00:16:58.572 --> 00:17:01.310\nthat's when you want to monitor it.\n\n342\n00:17:01.310 --> 00:17:04.550\nAnd not just today, but\nagain tomorrow and again the next day.\n\n343\n00:17:04.550 --> 00:17:07.800\nBecause Monday's workload is\ndifferent from Friday's workload.\n\n344\n00:17:07.800 --> 00:17:10.760\nAll of that together\nbecomes your baseline.\n\n345\n00:17:10.760 --> 00:17:13.610\nSo when you go to add the schedule in\nhere, you can choose when it's going to\n\n346\n00:17:13.610 --> 00:17:19.220\nstart, and let's say we want to start\nat 8:00 AM Monday through Friday.\n\n347\n00:17:20.770 --> 00:17:21.800\nAll right.\n\n348\n00:17:21.800 --> 00:17:23.710\nAnd I'll go ahead and click okay.\n\n349\n00:17:23.710 --> 00:17:31.988\nAnd then I also wanna do it again from\nlet's say 1:00 PM, Monday through Friday.\n\n350\n00:17:34.228 --> 00:17:38.160\nBut notice I didn't say\nanything about when to stop.\n\n351\n00:17:38.160 --> 00:17:41.660\nAnother important part of setting this up\nis telling it when you're gonna actually\n\n352\n00:17:41.660 --> 00:17:46.200\nstop, cuz right now it would start at 8 AM\nand it would just keep going forever and\n\n353\n00:17:46.200 --> 00:17:47.025\never and ever.\n\n354\n00:17:47.025 --> 00:17:51.120\n[LAUGH] And your log file is just\ngoing to get bigger and bigger and\n\n355\n00:17:51.120 --> 00:17:55.090\nbigger and bigger until your drive runs\nout of space and your server crashes.\n\n356\n00:17:55.090 --> 00:17:56.120\nSo not a good idea.\n\n357\n00:17:56.120 --> 00:17:59.850\nSo what I'm going to do is I'm going\nto come over the stop condition.\n\n358\n00:17:59.850 --> 00:18:05.050\nAnd I'm gonna say, overall duration\nis gonna be one hour maybe or\n\n359\n00:18:05.050 --> 00:18:06.260\nsomething like that.\n\n360\n00:18:06.260 --> 00:18:08.660\nOr you can set other limits\nlike maximum log size.\n\n361\n00:18:08.660 --> 00:18:13.180\nIn fact, I can do a maximum log size just\nin case it does get too big even during\n\n362\n00:18:13.180 --> 00:18:14.120\nthat one hour.\n\n363\n00:18:14.120 --> 00:18:15.110\nThey're not huge files.\n\n364\n00:18:15.110 --> 00:18:17.250\nThis is not large amounts of data.\n\n365\n00:18:17.250 --> 00:18:20.170\nBut if you're collecting hundreds of\ncounters and you're doing it every\n\n366\n00:18:20.170 --> 00:18:25.080\none second for two to three hours\nat a time it starts to add up.\n\n367\n00:18:25.080 --> 00:18:28.025\nSo don't forget to set\nyour stop Stop Condition.\n\n368\n00:18:28.025 --> 00:18:30.425\nAnd I'll go ahead and click Ok, and that-\n>> How ironic,\n\n369\n00:18:30.425 --> 00:18:32.865\nthat it might be your actual baseline-\n>> [LAUGH]\n\n370\n00:18:32.865 --> 00:18:33.455\n>> Utility,\n\n371\n00:18:33.455 --> 00:18:36.495\nthat's causing the baseline\nto dropdown dramatically.\n\n372\n00:18:36.495 --> 00:18:39.675\nJust cuz you didn't step your,\nset your stop conditions correctly.\n\n373\n00:18:39.675 --> 00:18:41.160\nSo good idea.\n\n374\n00:18:41.160 --> 00:18:42.510\nMake sure those are set right.\n\n375\n00:18:42.510 --> 00:18:44.430\n>> It is an easy thing to forget,\ntrust me.\n\n376\n00:18:44.430 --> 00:18:45.640\nNot that I've ever done that.\n\n377\n00:18:45.640 --> 00:18:48.716\nOops.\nMaybe once, twice.\n\n378\n00:18:48.716 --> 00:18:49.818\nAll right.\n>> Every time I've ever done it.\n\n379\n00:18:49.818 --> 00:18:51.394\n[LAUGH]\n>> But\n\n380\n00:18:51.394 --> 00:18:54.575\nnotice in that set of properties I\nnever saw the counters again, right,\n\n381\n00:18:54.575 --> 00:18:58.600\nwhat if I want to change the counters,\nadd another counter, something like that.\n\n382\n00:18:58.600 --> 00:19:02.710\nYou actually have to click on your\ndata collector set over here, and then\n\n383\n00:19:02.710 --> 00:19:07.180\nout in the details area you're gonna right\nclick on this guy and choose properties.\n\n384\n00:19:07.180 --> 00:19:10.040\nHere's where I can see the counters\nthat I've already added to this.\n\n385\n00:19:10.040 --> 00:19:13.820\nIf I want to change what counters are\nadded I can use my Add, Remove buttons.\n\n386\n00:19:13.820 --> 00:19:17.640\nI also have my sample interval down\nhere as well that I can change.\n\n387\n00:19:17.640 --> 00:19:21.220\nSo just something to remember,\nyou've got two sets of properties really\n\n388\n00:19:21.220 --> 00:19:25.130\nonce you've created that to go back and\nwork with that data collector set.\n\n389\n00:19:25.130 --> 00:19:29.950\nNow if I want to fire it up, I just\nright click on it and choose start, and\n\n390\n00:19:29.950 --> 00:19:32.610\nthat data collector see it,\nyou'll see a little play icon go on there,\n\n391\n00:19:32.610 --> 00:19:35.500\nand it will to capture that information.\n\n392\n00:19:35.500 --> 00:19:36.880\nWell, I don't see it, right?\n\n393\n00:19:36.880 --> 00:19:38.990\nIt's capturing this behind the scenes.\n\n394\n00:19:38.990 --> 00:19:40.840\nNow, let me just click around and\n\n395\n00:19:40.840 --> 00:19:46.040\ndo a couple things just to make some\nactivity on my data collector set there.\n\n396\n00:19:46.040 --> 00:19:49.380\nWindows loves to open up windows and\nclose windows, that makes it happy.\n\n397\n00:19:51.160 --> 00:19:53.490\nSo again, just flip it around\nmaking a little activity.\n\n398\n00:19:53.490 --> 00:19:54.390\n>> Through IPProTV.\n\n399\n00:19:54.390 --> 00:19:55.514\n>> Yeah.\n>> Surf the web [LAUGH].\n\n400\n00:19:55.514 --> 00:19:56.160\n>> Yeah [LAUGH] right.\n\n401\n00:19:56.160 --> 00:19:58.690\n>> Flip back over to server manager.\n\n402\n00:19:58.690 --> 00:19:59.890\nOpen up my tools.\n\n403\n00:19:59.890 --> 00:20:03.040\nMaybe start a wizard here,\ncancel that Wizard.\n\n404\n00:20:03.040 --> 00:20:05.280\nYada yada, all that good stuff.\n\n405\n00:20:05.280 --> 00:20:09.120\nAnd once, normally, again, it would have\na time out period on it, it would stop.\n\n406\n00:20:09.120 --> 00:20:10.460\nI'm gonna stop it manually.\n\n407\n00:20:10.460 --> 00:20:13.240\nYou can also use those play and\nstop buttons up there.\n\n408\n00:20:13.240 --> 00:20:16.195\nSo I'll just right-click on it and\nchoose stop.\n\n409\n00:20:16.195 --> 00:20:19.520\nAll right, so now I've got my information.\n\n410\n00:20:19.520 --> 00:20:21.800\nWhere do I go to see it?\n\n411\n00:20:21.800 --> 00:20:24.530\nIt's actually right here in reports.\n\n412\n00:20:24.530 --> 00:20:28.110\nThere's a couple of ways I should say\nthat you can view this information.\n\n413\n00:20:28.110 --> 00:20:30.840\nMy favorite way is the way\nI'm doing it right here.\n\n414\n00:20:30.840 --> 00:20:32.690\nI'll show you Microsoft's favorite way and\n\n415\n00:20:32.690 --> 00:20:35.820\nthe way they like to ask you on\nthe exam why you'd ever do it that way.\n\n416\n00:20:36.920 --> 00:20:38.550\nI don't know only for the exam.\n\n417\n00:20:38.550 --> 00:20:42.420\n>> So they can ask you which one of these\nways is the correct way, when you're on\n\n418\n00:20:42.420 --> 00:20:46.430\nthe exam and there's two correct ways and\nwhat did they want you to pick?\n\n419\n00:20:46.430 --> 00:20:47.200\nThere way.\n\n420\n00:20:47.200 --> 00:20:51.150\nSo be prepared for those kind of\nquestions on your Microsoft exams.\n\n421\n00:20:51.150 --> 00:20:52.350\n>> All right, so underneath reports,\n\n422\n00:20:52.350 --> 00:20:56.900\nI've got my user defined folder\n>> There's my server 01 baseline.\n\n423\n00:20:56.900 --> 00:20:58.170\nAnd there's my first report.\n\n424\n00:20:58.170 --> 00:21:00.340\nRemember, it's gonna\nstart up again at 1:00.\n\n425\n00:21:00.340 --> 00:21:02.530\nAnd then again the next day at 8:00 and\nagain at 1:00.\n\n426\n00:21:02.530 --> 00:21:06.310\nSo I'll actually end up with\nseveral reports under here.\n\n427\n00:21:06.310 --> 00:21:08.980\nAnd there's the information\nthat it captured.\n\n428\n00:21:08.980 --> 00:21:10.170\nIt's not moving.\n\n429\n00:21:10.170 --> 00:21:11.510\nThis is logged.\n\n430\n00:21:11.510 --> 00:21:13.770\nI can look at this any time I want.\n\n431\n00:21:13.770 --> 00:21:15.960\nI can still use my\nhighlighter if I need to,\n\n432\n00:21:15.960 --> 00:21:18.660\nif I want to find some\nof those counters there.\n\n433\n00:21:18.660 --> 00:21:21.210\nThat still works.\n\n434\n00:21:21.210 --> 00:21:25.960\nI can still change views, if I'd like to,\nin fact I get a different view with this,\n\n435\n00:21:27.400 --> 00:21:31.780\ndata collect that I get an area\nas well as the stacked area.\n\n436\n00:21:31.780 --> 00:21:33.440\nThat you can take a look at.\n\n437\n00:21:33.440 --> 00:21:35.430\nA couple different views\nyou have available.\n\n438\n00:21:35.430 --> 00:21:36.980\nYou can also zoom in.\n\n439\n00:21:36.980 --> 00:21:42.096\nWhat you'll find is,\nthis is a time slice from 7:12:39\n\n440\n00:21:42.096 --> 00:21:46.880\nto 7:13:24, so a whopping 60 seconds or\nso right there.\n\n441\n00:21:46.880 --> 00:21:48.170\nNot a big time frame.\n\n442\n00:21:48.170 --> 00:21:52.290\nImagine this is two hours of data\ncrammed into this little window.\n\n443\n00:21:52.290 --> 00:21:53.580\nThis is gonna be packed.\n\n444\n00:21:53.580 --> 00:21:55.380\nIt's gonna be very condensed.\n\n445\n00:21:55.380 --> 00:21:58.690\nSpikes are gonna be teeny tiny as far\nas their width, not their height, but\n\n446\n00:21:58.690 --> 00:21:59.810\ntheir width, right?\n\n447\n00:21:59.810 --> 00:22:01.050\nSo I can come in here and I can zoom.\n\n448\n00:22:01.050 --> 00:22:06.019\nIf I find an interesting spot that\nI'd like to take a closer look at,\n\n449\n00:22:06.019 --> 00:22:11.433\nI can drag these handles at the end of\nthese bars to a particular spot of time\n\n450\n00:22:14.670 --> 00:22:18.192\nAnd then I can right click and\nchoose Zoom to and\n\n451\n00:22:18.192 --> 00:22:22.995\nnow I'm looking at\n7/13/06 to 7/13/11 right.\n\n452\n00:22:22.995 --> 00:22:25.590\nOops and it thinks I'm clicking again.\n\n453\n00:22:25.590 --> 00:22:27.650\nSo now I'm looking at a much\nsmaller slice of time.\n\n454\n00:22:27.650 --> 00:22:30.660\nYou can see how everything's stretched\nout, makes a lot more sense.\n\n455\n00:22:30.660 --> 00:22:32.760\nAgain if I'm looking at hours of data,\n\n456\n00:22:32.760 --> 00:22:36.540\nit's really nice to be able to zoom\nin to a particular slice of time.\n\n457\n00:22:36.540 --> 00:22:41.060\nLike when a user reported a problem,\nor when I see an event log entry.\n\n458\n00:22:41.060 --> 00:22:42.860\nIn the event log system\nI can come in here and\n\n459\n00:22:42.860 --> 00:22:46.510\nI look at that particular point in time\nand see what was going on, all right?\n\n460\n00:22:46.510 --> 00:22:51.120\nTo get back out to the whole view,\nthere's not really an easy way other than\n\n461\n00:22:51.120 --> 00:22:53.728\ndragging these handles all\nthe way back out to the end.\n\n462\n00:22:53.728 --> 00:22:56.720\nAnd then right-click and zoom to,\n\n463\n00:22:56.720 --> 00:22:59.990\nand I can get back out to\nmy original information.\n\n464\n00:22:59.990 --> 00:23:03.670\nSo that's how I can view that\nreport as well as zoom into it.\n\n465\n00:23:04.810 --> 00:23:07.160\nThe other way that I can view this,\n\n466\n00:23:07.160 --> 00:23:10.300\nis that I can actually come up\nhere to the Performance Monitor.\n\n467\n00:23:10.300 --> 00:23:13.000\nThe real time area that\nwe talked about already.\n\n468\n00:23:13.000 --> 00:23:18.530\nUp here at the top I can see that says,\nView Current Activity.\n\n469\n00:23:18.530 --> 00:23:21.450\nThe button next to it is View Log Data.\n\n470\n00:23:21.450 --> 00:23:25.850\nIf I click on that, it's gonna say, hey,\ngo find the log file that you wanna view.\n\n471\n00:23:25.850 --> 00:23:28.440\nI can choose Log File,\nthen I can click Add.\n\n472\n00:23:28.440 --> 00:23:33.770\nI can navigate,\nremember that default location C:perflogs,\n\n473\n00:23:33.770 --> 00:23:39.350\nAdmin, Server01baseline, my report,\nand there's my data collector set.\n\n474\n00:23:39.350 --> 00:23:41.400\nAnd this is where it gets really weird.\n\n475\n00:23:41.400 --> 00:23:47.330\nI can click OK, and I see one counter.\n\n476\n00:23:47.330 --> 00:23:49.000\nWhere's the other counters?\n\n477\n00:23:49.000 --> 00:23:51.800\nIn fact, the only reason I see that\ncounter is cuz it was already in there.\n\n478\n00:23:51.800 --> 00:23:52.730\nWatch this.\n\n479\n00:23:52.730 --> 00:23:55.769\nI go back to realtime data,\nand I remove this counter\n\n480\n00:23:59.206 --> 00:24:02.909\nAnd now I go and open up my log file.\n\n481\n00:24:02.909 --> 00:24:05.303\nWhich I know has counters in it and\ndata, right.\n\n482\n00:24:05.303 --> 00:24:07.000\nWe just viewed it under Reports.\n\n483\n00:24:08.130 --> 00:24:09.910\nI get a whole lot of nothing.\n\n484\n00:24:09.910 --> 00:24:11.050\nThat's odd.\n\n485\n00:24:11.050 --> 00:24:15.760\nWell, let me click Add Counters, and\nnotice there's only four categories now.\n\n486\n00:24:15.760 --> 00:24:19.170\nOnly the things that I recorded in\nthe log are actually available.\n\n487\n00:24:19.170 --> 00:24:22.470\nWhich is kind of cool, and I suppose that\nmight be one of the reasons you use this\n\n488\n00:24:22.470 --> 00:24:26.450\nview, cuz maybe I had dozens of counters,\nand I just wanna see a couple of them.\n\n489\n00:24:26.450 --> 00:24:27.150\nLike I say, you know what?\n\n490\n00:24:27.150 --> 00:24:31.550\nI wanna see pages per second and\npercent processor time.\n\n491\n00:24:31.550 --> 00:24:34.480\nSo, let's add those guys and\nI'll click OK,\n\n492\n00:24:34.480 --> 00:24:38.880\nand now I'm seeing just those two counters\ninstead of all four, and of course,\n\n493\n00:24:38.880 --> 00:24:41.610\nyou can multiply that to\na larger number of counters.\n\n494\n00:24:41.610 --> 00:24:46.070\nThe other thing you can do with this view,\nis you can actually add more than one log\n\n495\n00:24:46.070 --> 00:24:49.320\nfile, which might also be\nbeneficial in some scenarios.\n\n496\n00:24:49.320 --> 00:24:51.670\nI actually just actually thought of that,\nI was like wow, you know that's an idea.\n\n497\n00:24:51.670 --> 00:24:54.020\nI could add more than one\nlog file to this view,\n\n498\n00:24:54.020 --> 00:24:58.773\nso I take it back Microsoft that, that\nmight be a useful way to look at things.\n\n499\n00:24:58.773 --> 00:25:04.660\n[LAUGH] All right, but that's the other\nthat I can view that log information.\n\n500\n00:25:04.660 --> 00:25:09.350\nAgain, creating that base line gives\nme something to compare back to.\n\n501\n00:25:09.350 --> 00:25:13.759\nThat covers real time monitoring,\nas well as my historical monitoring.\n\n502\n00:25:13.759 --> 00:25:15.699\nThere's other things I\nwant to show you in here.\n\n503\n00:25:15.699 --> 00:25:19.374\nWe also need to go over alerts,\nwhich are pretty cool as well,\n\n504\n00:25:19.374 --> 00:25:22.072\nbut do we have time Danny,\nwhat do you think?\n\n505\n00:25:22.072 --> 00:25:24.440\n>> I don't know,\nit's up to you though Michael.\n\n506\n00:25:24.440 --> 00:25:26.159\n>> Let's go ahead and show you alerts.\n\n507\n00:25:26.159 --> 00:25:27.261\n>> Go for broke.\n\n508\n00:25:27.261 --> 00:25:30.310\n>> Cuz we got more we need to talk about,\nlet's do it right, while we're in here.\n\n509\n00:25:30.310 --> 00:25:34.110\nAlerts are another pretty\ncool thing that we can use.\n\n510\n00:25:34.110 --> 00:25:36.920\nGonna go back over here to\ndata collector sets and\n\n511\n00:25:36.920 --> 00:25:42.000\nuser defined, and I'll right click\non this and New data collector set.\n\n512\n00:25:42.000 --> 00:25:44.050\nMike, didn't you say we're\ngonna create an alert?\n\n513\n00:25:44.050 --> 00:25:44.730\nI did.\n\n514\n00:25:44.730 --> 00:25:47.780\nYou actually start out by creating\na data collector set, all right.\n\n515\n00:25:47.780 --> 00:25:52.800\nNow data collector sets log the\ninformation, save it, historical viewing.\n\n516\n00:25:52.800 --> 00:25:55.170\nI can go back and\nlook at it any time I want.\n\n517\n00:25:55.170 --> 00:25:58.200\nAn alert, monitors in the background,\n\n518\n00:25:58.200 --> 00:26:00.970\nlike a data collector set we\ndon't see it happening, but\n\n519\n00:26:00.970 --> 00:26:06.060\nit doesn't save the information, but\nwhat it can do is we can set a threshold.\n\n520\n00:26:06.060 --> 00:26:10.120\nAnd I can say look, I don't need to save\nthis information, but I do need to know if\n\n521\n00:26:10.120 --> 00:26:15.260\nthis processor ever gets up to 95%,\nI need to know, I need a notification,\n\n522\n00:26:15.260 --> 00:26:20.790\nor if this disk ever gets to less than\n5% free disk space, I need to know.\n\n523\n00:26:20.790 --> 00:26:24.810\nMy boss isn't gonna pay me to sit here and\nmonitor it 24 hours a day, right?\n\n524\n00:26:24.810 --> 00:26:28.467\nSo I can't sit here and watch it like\nthat, I've got other things I've gotta do,\n\n525\n00:26:28.467 --> 00:26:29.592\nbut this can do it for me.\n\n526\n00:26:29.592 --> 00:26:34.533\nSo you start out just like you\nwould with a data collector set,\n\n527\n00:26:34.533 --> 00:26:38.253\nand I'm gonna call it server01 processor.\n\n528\n00:26:38.253 --> 00:26:40.840\nWe'll call it Server01alert all right, and\n\n529\n00:26:40.840 --> 00:26:44.849\nI'll create it manually, and\nI'll click Next, and this time I'll just\n\n530\n00:26:44.849 --> 00:26:49.000\ngonna choose Performance Counter Alert\ninstead of Data Log.\n\n531\n00:26:49.000 --> 00:26:54.050\nI'll click Next, I'll add my counter,\nand I want that percent processor time.\n\n532\n00:26:55.130 --> 00:26:58.270\nSo we go to processor,\npercent processor time,\n\n533\n00:26:58.270 --> 00:27:03.380\nI'll do a total, I'll click add,\nand I'll click okay.\n\n534\n00:27:03.380 --> 00:27:07.270\nAnd I just want to know when it's above,\nnotice my choices are above and below,\n\n535\n00:27:07.270 --> 00:27:14.140\nanytime its above, let's say 95,\nso 95%, then I click next.\n\n536\n00:27:15.800 --> 00:27:18.200\nAnd then if I needed\nto save credentials so\n\n537\n00:27:18.200 --> 00:27:20.380\nthat somebody else could start\nthis up if they needed to I could.\n\n538\n00:27:20.380 --> 00:27:26.000\nI'll go ahead and just choose Save and\nclose, and I'll click Finish.\n\n539\n00:27:27.190 --> 00:27:29.570\nSo now I have this alert, same thing.\n\n540\n00:27:29.570 --> 00:27:31.680\nI can pull up the properties for this, and\n\n541\n00:27:31.680 --> 00:27:34.790\nit's gonna show me the properties\nof the alert itself.\n\n542\n00:27:34.790 --> 00:27:39.650\nIf I need to change the counters I\nclick up here, and I choose properties.\n\n543\n00:27:39.650 --> 00:27:43.840\nNotice during that it never asked\nme about sample interval, and\n\n544\n00:27:43.840 --> 00:27:48.030\nmaybe I want a shorter sample\ninterval than the default 15 seconds.\n\n545\n00:27:48.030 --> 00:27:50.450\nI come over here and\nchange that if I need to.\n\n546\n00:27:50.450 --> 00:27:52.750\nAgain, by going into the properties\nof the data collector,\n\n547\n00:27:52.750 --> 00:27:57.460\nit gets created underneath the alert\nitself, and then I can just start this up.\n\n548\n00:27:57.460 --> 00:27:59.180\nNow you saw I can set a schedule.\n\n549\n00:27:59.180 --> 00:28:02.640\nMaybe I don't need to know if\nthis processes hits above 95 in\n\n550\n00:28:02.640 --> 00:28:05.970\nthe wee hours of the morning, cuz I know\nas the backup processor's are running, or\n\n551\n00:28:05.970 --> 00:28:09.510\nsomething else goes on, and\nit typically does get hammered, but\n\n552\n00:28:09.510 --> 00:28:14.020\nI do need to know if it gets over\nthat percentage during the work day.\n\n553\n00:28:14.020 --> 00:28:18.470\nSo maybe I set this alert to start at\nseven AM, and end at five PM, right.\n\n554\n00:28:18.470 --> 00:28:21.180\nSo if it happens after that\nI don't get the alert.\n\n555\n00:28:21.180 --> 00:28:26.501\nThe other thing I wanted to show you, that\nI forgot to show you while I was in there.\n\n556\n00:28:26.501 --> 00:28:27.253\nIs the.\n\n557\n00:28:30.412 --> 00:28:36.189\nWhere did we put that guy [SOUND], so\nI've got my schedule that we can add,\n\n558\n00:28:36.189 --> 00:28:39.711\nI've got my Stop Condition\nthat we can add.\n\n559\n00:28:39.711 --> 00:28:41.420\nMaybe that was all I wanted to show you.\n\n560\n00:28:41.420 --> 00:28:43.060\nOh, that's in here.\n\n561\n00:28:43.060 --> 00:28:44.448\nThe alert action, forgot to set that.\n\n562\n00:28:44.448 --> 00:28:47.570\nIf it's gonna generate an alert,\nwhat do you want it to do\n\n563\n00:28:47.570 --> 00:28:52.170\nif that ever gets up to 95%, and\nwe've got a whole bunch of choices.\n\n564\n00:28:53.340 --> 00:28:58.160\nNot really, we have log and\nentry into the application event log.\n\n565\n00:28:58.160 --> 00:29:01.970\nUnfortunately that's it, that's all\nthey give, well I take that back.\n\n566\n00:29:01.970 --> 00:29:04.650\nWe can also start a data collector set.\n\n567\n00:29:04.650 --> 00:29:08.490\nIf this gets up to 95% during\nthe middle of the day,\n\n568\n00:29:08.490 --> 00:29:11.620\nI want to fire up this data collector set\nthat's gonna record that information.\n\n569\n00:29:11.620 --> 00:29:16.710\nRemember, alerts don't record the\ninformation, or I can go to my alert task,\n\n570\n00:29:16.710 --> 00:29:21.010\nand I can try to set up a script or\nsomething like that.\n\n571\n00:29:21.010 --> 00:29:23.517\nAgain, pretty limited, unfortunately.\n\n572\n00:29:23.517 --> 00:29:26.169\nNow, in the event log system,\n\n573\n00:29:26.169 --> 00:29:31.781\nthey've added the ability to attach\na task to a certain event ID.\n\n574\n00:29:31.781 --> 00:29:36.005\nSo what I could do I wait for this thing\nto hit, and then go and get that event ID,\n\n575\n00:29:36.005 --> 00:29:39.847\nset up a scheduled task, maybe to\nemail me or email whoever's on call or\n\n576\n00:29:39.847 --> 00:29:41.450\nsomething like that.\n\n577\n00:29:41.450 --> 00:29:44.770\nBut unfortunately, through the event\nsystem they have in here or\n\n578\n00:29:44.770 --> 00:29:49.100\nthe alert system they have here, that's\nabout all we get, so it is pretty limited.\n\n579\n00:29:49.100 --> 00:29:53.948\nBut, at this point, if that processor,\nonce I start it up, If that processor gets\n\n580\n00:29:53.948 --> 00:29:58.036\nup to 95%, it's going to fire\nan entry into that application log,\n\n581\n00:29:58.036 --> 00:29:59.941\nand that's how you use alerts.\n\n582\n00:29:59.941 --> 00:30:03.565\nAnd alerts can be really handy for\nsensitive, or for stuff that, if there's\n\n583\n00:30:03.565 --> 00:30:07.151\nsomething that I need to know if this\never happens, alerts are the way to go.\n\n584\n00:30:07.151 --> 00:30:10.505\n>> Yeah, this whole performance\nmonitoring thing is all about\n\n585\n00:30:10.505 --> 00:30:13.010\nquantifying what's going on in the server.\n\n586\n00:30:13.010 --> 00:30:15.500\nHow do I set a number on?\n\n587\n00:30:15.500 --> 00:30:17.500\nIs this operating in an optimal way,\n\n588\n00:30:17.500 --> 00:30:20.720\nin a way that's acceptable to our company,\nor is it not?\n\n589\n00:30:20.720 --> 00:30:24.240\nAnd without taking these types of\nbaselines, and understanding what's going\n\n590\n00:30:24.240 --> 00:30:27.460\non during peak hours of the day,\nyou're never gonna be able to do that.\n\n591\n00:30:27.460 --> 00:30:30.530\nSo it's a good thing that this\nis part of the operating system.\n\n592\n00:30:30.530 --> 00:30:33.530\nWe can start making these events and\nstart checking the amount,\n\n593\n00:30:33.530 --> 00:30:35.440\nseeing the baselines definitely.\n\n594\n00:30:35.440 --> 00:30:39.160\nSee what's going on and see how our\nservers normally run, that way if they\n\n595\n00:30:39.160 --> 00:30:43.690\never go crazy on us and we think man it\nreally seems like the server is lagging.\n\n596\n00:30:43.690 --> 00:30:47.040\nLet me check this against\nthis baseline I've taken.\n\n597\n00:30:47.040 --> 00:30:50.530\nNow you can actually say, hey boss,\nwe've got a real problem here.\n\n598\n00:30:50.530 --> 00:30:52.258\nWe need to up processor power.\n\n599\n00:30:52.258 --> 00:30:53.222\nWe need to get more RAM.\n\n600\n00:30:53.222 --> 00:30:55.257\nWe need to get this,\nwe need to get that, and\n\n601\n00:30:55.257 --> 00:30:58.853\nyou've got quantifiable data to show\nthem that, that is actually the case.\n\n602\n00:30:58.853 --> 00:31:01.500\nReally great tool Mike,\ngood job demonstrating that.\n\n603\n00:31:01.500 --> 00:31:04.150\nHopefully you guys out there\nhave enjoyed this episode.\n\n604\n00:31:04.150 --> 00:31:08.490\nIt's definitely one that can help you out\nwhen it comes to real world application,\n\n605\n00:31:08.490 --> 00:31:10.661\nand of course obviously the exam itself.\n\n606\n00:31:10.661 --> 00:31:15.475\nThat being said, Mike I say we go ahead\nand we'll call it close and sign off for\n\n607\n00:31:15.475 --> 00:31:16.153\nITProTV.\n\n608\n00:31:16.153 --> 00:31:17.813\nI've been your host Daniel Lowry.\n\n609\n00:31:17.813 --> 00:31:18.893\n>> And I'm Mike Rodrick.\n\n610\n00:31:18.893 --> 00:31:19.960\n>> And we'll see you next time.\n\n611\n00:31:19.960 --> 00:31:25.790\n[SOUND]\n\n",
          "vimeoId": "138078713"
        }
      ],
      "title": "Deploy, manage, and maintain servers"
    },
    {
      "episodes": [
        {
          "description": "In this episode Mike and Don demonstrate how to install and configure Distributed File System (DFS). They highlight some of the advanced functionality as well as show how DFS can improve redundancy and reliability for corporate file servers.",
          "length": "5668",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/005-Distributed-File-System.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/005-Distributed-File-System-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/005-Distributed-File-System-sm.jpg",
          "title": "Distributed File System",
          "transcript": "WEBVTT\n\n1\n00:00:00.090 --> 00:00:10.090\n[MUSIC]\n\n2\n00:00:15.260 --> 00:00:22.720\n[SOUND]\n\n3\n00:00:22.720 --> 00:00:33.670\n[MUSIC]\n\n4\n00:00:33.670 --> 00:00:36.463\n[LAUGH] All right, good morning,\ngood afternoon, good evening and\n\n5\n00:00:36.463 --> 00:00:38.330\nwelcome back to another\nepisode of ITProTV.\n\n6\n00:00:38.330 --> 00:00:41.200\nI'm your host Don Pezet,\ntoday with Mike Rodrick.\n\n7\n00:00:41.200 --> 00:00:43.010\nHow's it going Mike?\n>> Fantastic Don, how you doing today?\n\n8\n00:00:43.010 --> 00:00:44.380\n>> I am, I'm excited.\n\n9\n00:00:44.380 --> 00:00:45.340\n>> Pumped up, ready to go?\n\n10\n00:00:45.340 --> 00:00:46.090\n>> I really am.\n\n11\n00:00:46.090 --> 00:00:47.920\nYou know, I always say that.\n\n12\n00:00:47.920 --> 00:00:49.920\nI always say, I'm excited, we've got\nan exciting show, blah, blah, blah.\n\n13\n00:00:49.920 --> 00:00:50.880\n>> This is my new favorite topic.\n\n14\n00:00:50.880 --> 00:00:55.314\n>> But I will honestly tell you,\nthat of the Windows Server technologies,\n\n15\n00:00:55.314 --> 00:00:57.870\ntoday we get to cover one of my favorites.\n\n16\n00:00:57.870 --> 00:01:00.880\nIt's DFS, the Distributed File System.\n\n17\n00:01:00.880 --> 00:01:01.960\nIt's been around a long time.\n\n18\n00:01:01.960 --> 00:01:02.710\n>> It has.\n\n19\n00:01:02.710 --> 00:01:07.290\n>> It was introduced in Windows 2000,\nso it's a 14 year-old technology now.\n\n20\n00:01:07.290 --> 00:01:11.060\nBut, in my opinion,\nit's like the unsung hero of\n\n21\n00:01:11.060 --> 00:01:15.280\nthe Windows Server Operating System,\nbecause it's such an awesome utility.\n\n22\n00:01:15.280 --> 00:01:16.910\nIt does such a powerful thing.\n\n23\n00:01:16.910 --> 00:01:18.880\nAnd most people seem to just\nnot even know about it.\n\n24\n00:01:18.880 --> 00:01:19.920\n>> Yeah, I don't understand that.\n\n25\n00:01:19.920 --> 00:01:24.080\nTo me, it's right up there with say,\nWSUS and Deployment Services.\n\n26\n00:01:24.080 --> 00:01:27.070\nIt's free, it comes with server,\nit's a role you can install.\n\n27\n00:01:27.070 --> 00:01:28.920\nAnd half the people out\nthere aren't using it.\n\n28\n00:01:28.920 --> 00:01:30.460\n>> Yeah, and I mean,\nit's in the standard edition, too.\n\n29\n00:01:30.460 --> 00:01:33.180\nIt's not like you gotta step up to\nEnterprise or Datacenter, or whatever.\n\n30\n00:01:33.180 --> 00:01:35.950\nIt's just right there in\nthe standard version of Windows.\n\n31\n00:01:35.950 --> 00:01:36.950\nIt's really cool.\n\n32\n00:01:36.950 --> 00:01:37.508\n>> It is.\n>> And so\n\n33\n00:01:37.508 --> 00:01:38.760\nit is one of my favorite technologies.\n\n34\n00:01:38.760 --> 00:01:43.095\nIt's also very reliable, which means it's\nnot one of those technologies that's gonna\n\n35\n00:01:43.095 --> 00:01:44.380\nharass you day after day.\n\n36\n00:01:44.380 --> 00:01:47.239\nYou're like, aah,\nwhy am I running SharePoint?\n\n37\n00:01:47.239 --> 00:01:49.380\n[LAUGH]\n>> But it's something-\n\n38\n00:01:49.380 --> 00:01:50.175\n>> Sorry, Jay.\n\n39\n00:01:50.175 --> 00:01:51.694\n[LAUGH]\n>> That you can deploy and\n\n40\n00:01:51.694 --> 00:01:55.492\nyou can count on and, not only does\nit make your end user's life easier,\n\n41\n00:01:55.492 --> 00:01:58.000\nit makes your life as\nan administrator easier.\n\n42\n00:01:58.000 --> 00:01:59.950\nSo it is a win-win for everybody.\n\n43\n00:01:59.950 --> 00:02:03.470\nIt's a great technology, and it's on\nthe exam, so we need to know it anyway.\n\n44\n00:02:03.470 --> 00:02:04.650\n>> They're relatively easy to set up.\n\n45\n00:02:04.650 --> 00:02:06.730\nI mean, it's not that bad.\n\n46\n00:02:06.730 --> 00:02:08.910\n>> So, enough of the teaser here.\n\n47\n00:02:08.910 --> 00:02:12.570\nLet's start out real basic with,\nwhat the heck am I talking about, right?\n\n48\n00:02:12.570 --> 00:02:13.730\nWhat is DFS?\n\n49\n00:02:14.830 --> 00:02:20.270\nIn Windows, in the early versions\nof Windows, let's go way back.\n\n50\n00:02:20.270 --> 00:02:22.891\nWindows for Workgroups 3.11, right?\n\n51\n00:02:22.891 --> 00:02:29.180\nSo, what was it that made Windows 3.11\ndifferent than 3.1 not for workgroups.\n\n52\n00:02:29.180 --> 00:02:29.730\n>> Right.\n\n53\n00:02:29.730 --> 00:02:32.128\n>> The difference was\nthat in Windows 3.11,\n\n54\n00:02:32.128 --> 00:02:36.300\nWindows for Workgroups,\nyou could share a folder between machines.\n\n55\n00:02:36.300 --> 00:02:39.210\nYou could share documents, and\nyou could share printers, right?\n\n56\n00:02:39.210 --> 00:02:40.200\nAnd that was cool.\n\n57\n00:02:40.200 --> 00:02:41.930\nAll right.\n>> Fantastic concept at the time.\n\n58\n00:02:41.930 --> 00:02:42.540\n>> Really, it was.\n\n59\n00:02:42.540 --> 00:02:45.460\nAnd, you know, not built into the OS.\n\n60\n00:02:45.460 --> 00:02:49.770\nSo everybody recognized that's a very,\nvery necessary thing.\n\n61\n00:02:49.770 --> 00:02:54.270\nThe problem is, as you become more and\nmore reliant on these shared folders,\n\n62\n00:02:54.270 --> 00:02:57.060\nwhat happens if you have a file server,\nand the file server goes offline.\n\n63\n00:02:57.060 --> 00:02:57.590\n>> Right.\n\n64\n00:02:57.590 --> 00:02:58.775\n>> Right?\n\n65\n00:02:58.775 --> 00:03:00.958\nOr what if the file server's\njust an old piece of junk and\n\n66\n00:03:00.958 --> 00:03:03.341\nmaybe it's still running Windows 3.1\n>> [LAUGH]\n\n67\n00:03:03.341 --> 00:03:05.151\n>> And it's time to upgrade it and\n\n68\n00:03:05.151 --> 00:03:05.921\nreplace it.\n\n69\n00:03:05.921 --> 00:03:07.461\nIt's kind of a hassle, right?\n\n70\n00:03:07.461 --> 00:03:08.421\n>> It is.\nIt is.\n\n71\n00:03:08.421 --> 00:03:13.128\n>> The traditional shared folder model\nis not very scalable, all right?\n\n72\n00:03:13.128 --> 00:03:14.406\nSo-\n>> And you end up with them scattered all\n\n73\n00:03:14.406 --> 00:03:15.070\nover the place, too.\n\n74\n00:03:15.070 --> 00:03:15.570\n>> Uh-huh, you really do.\n\n75\n00:03:15.570 --> 00:03:19.215\n>> That's another thing that I love\nabout DFS, and we'll get into that.\n\n76\n00:03:19.215 --> 00:03:22.230\nCuz you've got this person's made this\nshare, somebody else made a share on this\n\n77\n00:03:22.230 --> 00:03:25.020\nfile server, and as an end user,\nthey've got to try to remember\n\n78\n00:03:25.020 --> 00:03:28.180\nall these different UNC paths to\nconnect to these different resources.\n\n79\n00:03:28.180 --> 00:03:30.890\nAnd we're gonna show you how\nDFS solves that problem.\n\n80\n00:03:30.890 --> 00:03:33.230\n>> Yeah, it neatness it all up,\nputs it all in one space.\n\n81\n00:03:33.230 --> 00:03:39.050\n>> So, what DFS does is, it extends\nthe file sharing system in Windows Server.\n\n82\n00:03:39.050 --> 00:03:43.466\nIt's called DFS,\nthe Distributed File System,\n\n83\n00:03:43.466 --> 00:03:48.618\nbecause it basically allows you\nto take a shared folder and\n\n84\n00:03:48.618 --> 00:03:51.470\nhost it on more than one server.\n\n85\n00:03:51.470 --> 00:03:55.491\nDistributing that storage across hosts,\nso that if one server fails,\n\n86\n00:03:55.491 --> 00:03:59.399\nthe others are still up, you can\nstill connect and access that data.\n\n87\n00:03:59.399 --> 00:04:04.590\nAnd it's replicating changes between\nthem so, if you have a business and\n\n88\n00:04:04.590 --> 00:04:08.010\nyou've got, say, branch offices\nin multiple cities, or states, or\n\n89\n00:04:08.010 --> 00:04:13.580\ncountries, you can have a DFS\nhost in each of those regions.\n\n90\n00:04:13.580 --> 00:04:15.060\nAnd it'll synchronize between them.\n\n91\n00:04:15.060 --> 00:04:16.780\nSo when people connect to the file share,\n\n92\n00:04:16.780 --> 00:04:20.070\nthey connect to the local copies nice and\nfast.\n\n93\n00:04:20.070 --> 00:04:22.510\nAnd then they make changes, and\nit replicates between the centers.\n\n94\n00:04:22.510 --> 00:04:25.280\n>> So, everybody else in the other\nbranches still gets to see those changes.\n\n95\n00:04:25.280 --> 00:04:25.840\n>> Really cool, yeah.\n\n96\n00:04:25.840 --> 00:04:28.667\n>> Fantastic.\n>> And that was the original motivation of\n\n97\n00:04:28.667 --> 00:04:31.965\nDFS, was how can we make\nour data redundant, right?\n\n98\n00:04:31.965 --> 00:04:35.161\nBut then they extended it and did exactly\nwhat Mike said is, they made it where you\n\n99\n00:04:35.161 --> 00:04:39.050\ncould organize your data, you could hide\nthe fact that all these shares existed.\n\n100\n00:04:39.050 --> 00:04:43.486\nAnd then the part that I really like is\nthat DFS makes it really easy to move\n\n101\n00:04:43.486 --> 00:04:46.570\nshared folders from one server to another.\n\n102\n00:04:46.570 --> 00:04:49.850\n>> If you've ever had to move\na shared folder to like a new server,\n\n103\n00:04:49.850 --> 00:04:52.972\nit's a pain in the butt, and\nthere's just no way around it.\n\n104\n00:04:52.972 --> 00:04:55.839\n>> You get hundreds or thousands of users\nthat it might have drives mapped to\n\n105\n00:04:55.839 --> 00:04:58.659\nthat UNC path, and all of a sudden\nwe gotta tell them it's changed, and\n\n106\n00:04:58.659 --> 00:05:00.636\nsomehow get that change\ninformation out to them.\n\n107\n00:05:00.636 --> 00:05:02.888\n>> You gotta delete the old mapping,\nput in a new mapping, and\n\n108\n00:05:02.888 --> 00:05:04.970\nyou might have to do it hundreds,\nthousands of times.\n\n109\n00:05:04.970 --> 00:05:07.000\n>> Yep, not fun.\n\n110\n00:05:07.000 --> 00:05:09.909\n>> But DFS,\nit basically does a redirect, and so\n\n111\n00:05:09.909 --> 00:05:13.720\nthe end users never really know\nwhat server they connect to.\n\n112\n00:05:13.720 --> 00:05:16.435\nThey just connect to this DFS, it's\ncalled a namespace, they connect to this\n\n113\n00:05:16.435 --> 00:05:20.050\nnamespace, and it directs them to\nwhatever server is nearest them.\n\n114\n00:05:20.050 --> 00:05:22.720\nAll automatic,\nall seamless to the end user.\n\n115\n00:05:22.720 --> 00:05:24.300\n>> It's beautiful, beautiful.\n\n116\n00:05:24.300 --> 00:05:27.370\n>> So I have a habit of\ndeploying DFS all the time.\n\n117\n00:05:27.370 --> 00:05:29.000\nEven if there's only one server,\n\n118\n00:05:29.000 --> 00:05:32.070\nI'll still use DFS, knowing that\nI'm not getting any benefit now.\n\n119\n00:05:32.070 --> 00:05:32.587\n>> Right.\n>> But\n\n120\n00:05:32.587 --> 00:05:35.982\nin the future if I ever want to upgrade,\nhaving it already in DFS will make\n\n121\n00:05:35.982 --> 00:05:39.007\nit real easy for me to do that flip\nover to a new server and be done.\n\n122\n00:05:39.007 --> 00:05:40.297\nSo I pretty much deploy it all the time.\n\n123\n00:05:40.297 --> 00:05:41.297\n>> You're just a smart guy.\n\n124\n00:05:41.297 --> 00:05:42.087\n>> You know, I try.\n\n125\n00:05:42.087 --> 00:05:45.203\n>> [LAUGH]\n>> It's one of those things where they say\n\n126\n00:05:45.203 --> 00:05:48.900\nlike 80% of the users only\nuse 20% of the functions.\n\n127\n00:05:48.900 --> 00:05:50.540\n>> Right.\n>> If more people knew about this,\n\n128\n00:05:50.540 --> 00:05:53.329\nknew how they could use it, and\nhow it doesn't cost a dime extra,\n\n129\n00:05:53.329 --> 00:05:54.720\nI think everybody would use it.\n\n130\n00:05:54.720 --> 00:05:56.090\n>> I do too, I agree.\n\n131\n00:05:56.090 --> 00:05:58.601\n>> But it's off by default,\nbecause Microsoft says,\n\n132\n00:05:58.601 --> 00:06:01.738\nwell not everybody knows about it,\nwe don't want to turn it on and\n\n133\n00:06:01.738 --> 00:06:04.380\nhave people get weird behavior and\njust get confused.\n\n134\n00:06:04.380 --> 00:06:08.946\nSo, catering to the, what to they call it,\nleast common denominator, or\n\n135\n00:06:08.946 --> 00:06:10.760\nlowest common denominator.\n\n136\n00:06:10.760 --> 00:06:12.000\n>> The dumbed down masses of the net.\n\n137\n00:06:12.000 --> 00:06:13.300\n>> [LAUGH] That's it.\n\n138\n00:06:13.300 --> 00:06:15.510\nDon't be the dumbed down masses, right?\n\n139\n00:06:15.510 --> 00:06:18.580\nThis is your chance so\nstep up and show IT superiority.\n\n140\n00:06:18.580 --> 00:06:19.330\n>> Yes.\n\n141\n00:06:19.330 --> 00:06:21.510\n>> All right, so let's take a look.\n\n142\n00:06:21.510 --> 00:06:23.790\nI wanna give you guys a quick review.\n\n143\n00:06:23.790 --> 00:06:26.920\nYou should already know\nthis at this point, but\n\n144\n00:06:26.920 --> 00:06:30.200\nhow a traditional mapped\nnetwork drive works.\n\n145\n00:06:30.200 --> 00:06:30.770\nOkay?\n\n146\n00:06:30.770 --> 00:06:32.400\nSo I'm going to whip up a server here.\n\n147\n00:06:32.400 --> 00:06:34.270\nLet me, not that server.\n\n148\n00:06:34.270 --> 00:06:34.770\nLet's see.\n\n149\n00:06:36.040 --> 00:06:37.080\nThis sever.\n\n150\n00:06:37.080 --> 00:06:38.880\nAll right, so here I've got a server.\n\n151\n00:06:38.880 --> 00:06:42.330\nIt's in our little domain, and\nif I want to create a shared folder, so\n\n152\n00:06:42.330 --> 00:06:44.340\nlet's say I have a marketing department.\n\n153\n00:06:44.340 --> 00:06:45.070\nOkay?\n\n154\n00:06:45.070 --> 00:06:49.390\nSo I come in here and, actually I got\na Shares folder, we'll put it in here.\n\n155\n00:06:49.390 --> 00:06:53.592\nSo, I'm going to create a folder\ncalled Marketing, all right?\n\n156\n00:06:53.592 --> 00:06:58.650\nAnd I want all of my marketing people\nto store their stuff right here,\n\n157\n00:06:58.650 --> 00:07:01.730\nand so I go ahead and\nchoose to share it out.\n\n158\n00:07:01.730 --> 00:07:04.840\nAnd I don't know if I have a marketing\ngroup or not, let's see if I do.\n\n159\n00:07:09.380 --> 00:07:13.739\nYou know, I don't, so for right now we'll\njust share it out with me, all right?\n\n160\n00:07:13.739 --> 00:07:16.960\nSo, we'd share it out to\nthe marketing group, right?\n\n161\n00:07:16.960 --> 00:07:21.728\nAnd so we'd share that out, so now there's\na marketing folder on this server.\n\n162\n00:07:21.728 --> 00:07:25.110\nAnd then we'd go to our clients, where\nour marketing people were sitting, and\n\n163\n00:07:25.110 --> 00:07:28.170\nwe'd say, hey, you need to browse\nthrough this network share, and\n\n164\n00:07:28.170 --> 00:07:29.580\njust map it to a drive letter.\n\n165\n00:07:29.580 --> 00:07:32.885\nLike maybe we decide this\nis gonna be our M drive.\n\n166\n00:07:32.885 --> 00:07:34.770\n>> I like M for marketing, that works.\n\n167\n00:07:34.770 --> 00:07:38.830\n>> So, they would browse to itprotv-dc2.\n\n168\n00:07:38.830 --> 00:07:44.980\nThey would find that Marketing folder, and\nthey would choose to map a network drive.\n\n169\n00:07:44.980 --> 00:07:47.410\nAnd they'd map it to an M.\n\n170\n00:07:47.410 --> 00:07:50.505\nThere we go, Reconnect at sign in,\nand finish up.\n\n171\n00:07:50.505 --> 00:07:53.516\nAll right, so now,\nthey've got that Marketing folder.\n\n172\n00:07:53.516 --> 00:07:55.312\nWe can start to create documents in here.\n\n173\n00:07:57.470 --> 00:07:59.641\n>> And now that they mapped it,\nthey don't have to go back,\n\n174\n00:07:59.641 --> 00:08:01.640\nthey don't have to retype\nUNC path every time.\n\n175\n00:08:01.640 --> 00:08:03.580\nThey just go into Windows Explorer, and\n\n176\n00:08:03.580 --> 00:08:06.180\nit should show up just like\nany other drive letter does.\n\n177\n00:08:06.180 --> 00:08:08.940\n>> Yep.\nAnd so here, we'll do a banner ad,\n\n178\n00:08:08.940 --> 00:08:10.650\ngotta have a banner ad, right?\n\n179\n00:08:10.650 --> 00:08:13.709\nAnd [LAUGH] so they can go through and\nthey can start to create this stuff and\n\n180\n00:08:13.709 --> 00:08:14.676\nit's great, right?\n\n181\n00:08:14.676 --> 00:08:19.810\nEverybody in my marketing department can\ndo this process, mapping of this folder.\n\n182\n00:08:19.810 --> 00:08:23.173\nAll right, now, if I have\nmarketing people in other cities,\n\n183\n00:08:23.173 --> 00:08:27.340\nthey're gonna connect via wide area\nnetwork to this server to access it.\n\n184\n00:08:27.340 --> 00:08:28.946\nRight, so-\n>> And that can be a pain if it's slow or\n\n185\n00:08:28.946 --> 00:08:30.518\nif it's unreliable or something like that.\n\n186\n00:08:30.518 --> 00:08:33.698\nThat means there's times when they can't\nconnect to that resource that they need to\n\n187\n00:08:33.698 --> 00:08:34.243\ndo their job.\n\n188\n00:08:34.243 --> 00:08:35.990\nAnd that's not gonna work.\n\n189\n00:08:35.990 --> 00:08:37.740\n>> And even on a fast wide area network,\n\n190\n00:08:37.740 --> 00:08:42.470\nif you're working with something like raw\nimages, Photoshop documents, things like,\n\n191\n00:08:42.470 --> 00:08:45.170\nthey could be really big,\nthey could be hundreds of megs.\n\n192\n00:08:45.170 --> 00:08:48.810\nAnd so just opening a document and\nsaving it, when they hit that Save button,\n\n193\n00:08:48.810 --> 00:08:49.760\nthat could take awhile.\n\n194\n00:08:49.760 --> 00:08:53.323\nYou know, I run into that just with\nme at home, when I VPN into here,\n\n195\n00:08:53.323 --> 00:08:56.092\nhalf the documents I mess\nwith take forever to save.\n\n196\n00:08:56.092 --> 00:08:58.890\nAnd it's because it's going\nover that wide area network.\n\n197\n00:08:58.890 --> 00:08:59.920\nSo that's a negative.\n\n198\n00:08:59.920 --> 00:09:00.562\n>> All right.\n\n199\n00:09:00.562 --> 00:09:05.310\n>> The other negative is if\nthe ITproTVDC2 server were to fail.\n\n200\n00:09:05.310 --> 00:09:06.760\n>> That's it.\n>> I don't know how to access that shared\n\n201\n00:09:06.760 --> 00:09:07.690\nfolder anymore, right?\n\n202\n00:09:07.690 --> 00:09:08.630\nIt's gone.\n\n203\n00:09:08.630 --> 00:09:11.250\nAnd the other thing is\nif I wanted to move it.\n\n204\n00:09:11.250 --> 00:09:16.170\nSo I bring up another new server,\nITproTV Server 1, right, this server.\n\n205\n00:09:16.170 --> 00:09:19.260\nAnd I say, okay, I want to move\nthat marketing folder over to here.\n\n206\n00:09:19.260 --> 00:09:21.760\nSo I go into the C drive.\n\n207\n00:09:21.760 --> 00:09:26.730\nAnd I'll create a new\nfolder called shares,\n\n208\n00:09:27.930 --> 00:09:30.190\nand in there I'll create a new\nfolder called marketing.\n\n209\n00:09:32.048 --> 00:09:35.490\nAll right ,and I'll need to share it out,\nand\n\n210\n00:09:35.490 --> 00:09:39.600\nI've got to remember, who did I\nshare the other one out to, right?\n\n211\n00:09:39.600 --> 00:09:40.710\nWhat were those permissions?\n\n212\n00:09:40.710 --> 00:09:43.820\nSo I've got to go and\nI've got to compare the two and\n\n213\n00:09:43.820 --> 00:09:46.180\nset the permissions to be the same, right?\n\n214\n00:09:46.180 --> 00:09:49.290\nSo when I shared that other one\nI just shared it for me, so\n\n215\n00:09:49.290 --> 00:09:53.600\nI'd have to remember that and\ncome in and set it up to be the same.\n\n216\n00:09:53.600 --> 00:09:54.550\nSo there it goes.\n\n217\n00:09:54.550 --> 00:09:57.351\nAnd I'll give myself full\ncontrol because I'm awesome.\n\n218\n00:09:57.351 --> 00:09:59.655\n>> [LAUGH]\n>> And remove everyone, there we go.\n\n219\n00:09:59.655 --> 00:10:05.150\nSo you set up these permissions,\nyou share it out, and now it's shared out.\n\n220\n00:10:05.150 --> 00:10:07.830\n>> But it's a completely\ndifferent UNC path now, right?\n\n221\n00:10:07.830 --> 00:10:11.070\n>> And it's empty, so I gotta go and\ncopy those files over.\n\n222\n00:10:11.070 --> 00:10:14.760\nSo I need to tell all my users hey, get\nout of the system, stop making changes.\n\n223\n00:10:14.760 --> 00:10:15.260\n>> Time out, okay?\n\n224\n00:10:15.260 --> 00:10:17.180\n>> I'm gonna copy things over.\n\n225\n00:10:17.180 --> 00:10:19.910\nIf you change anything now,\nyou might lose it.\n\n226\n00:10:19.910 --> 00:10:23.660\nCopy all over, then I gotta go\nto these other machines and,\n\n227\n00:10:23.660 --> 00:10:26.020\njust like you said Mike,\nI got to remap this, right?\n\n228\n00:10:26.020 --> 00:10:29.310\n>> Yep, cuz remember those UNC pads or\n\\\\server name or\n\n229\n00:10:29.310 --> 00:10:33.100\ncomputer name\\share name,\nwe change the computer.\n\n230\n00:10:33.100 --> 00:10:34.250\nSo all their maps are gonna fail,\n\n231\n00:10:34.250 --> 00:10:37.335\nthey're gonna be calling you up going\nwhy can't I get to the share anymore?\n\n232\n00:10:37.335 --> 00:10:38.424\n>> [LAUGH]\n>> What happened to it?\n\n233\n00:10:38.424 --> 00:10:40.012\n>> Good impression.\n>> [LAUGH]\n\n234\n00:10:40.012 --> 00:10:42.214\n>> So, that's the big problem with\n\n235\n00:10:42.214 --> 00:10:44.730\nthe standard file sharing model.\n\n236\n00:10:44.730 --> 00:10:46.260\nIt's designed for work groups.\n\n237\n00:10:46.260 --> 00:10:48.250\nIt's designed for single locations.\n\n238\n00:10:48.250 --> 00:10:49.890\nIt does not scale.\n\n239\n00:10:49.890 --> 00:10:54.020\nIt does not grow to fit the needs\nof a medium or large organization.\n\n240\n00:10:54.020 --> 00:10:54.810\nAll right?\n\n241\n00:10:54.810 --> 00:10:58.862\nThe solution is DFS,\ndistributed file system.\n\n242\n00:10:58.862 --> 00:11:02.090\nAnd DFS, it doesn't replace file shares.\n\n243\n00:11:02.090 --> 00:11:04.380\nThat file sharing system,\nthat's still there.\n\n244\n00:11:04.380 --> 00:11:07.391\nDFS sits on top of it and\nextends its functionality.\n\n245\n00:11:07.391 --> 00:11:09.330\n>> Yeah, it's a beautiful thing.\n\n246\n00:11:09.330 --> 00:11:12.310\nTies it all together, gives you that\none logical tree that you can go to and\n\n247\n00:11:12.310 --> 00:11:15.120\nsee all the shares no matter\nwhere they are in the network.\n\n248\n00:11:15.120 --> 00:11:17.560\nJust the namespace part of it,\nI think, is pretty cool.\n\n249\n00:11:17.560 --> 00:11:19.440\nThen you dump in the ability\nto replicate and\n\n250\n00:11:19.440 --> 00:11:23.480\nkeep those changes synchronized across\nmultiple sites and, it's a winner.\n\n251\n00:11:23.480 --> 00:11:24.250\n>> And you're in business.\n\n252\n00:11:24.250 --> 00:11:24.990\n>> Yep.\n\n253\n00:11:24.990 --> 00:11:29.560\n>> So, all right, so let's see DFS, and\nwe'll start with a basic example and\n\n254\n00:11:29.560 --> 00:11:32.040\nthen we'll move to the more advanced\nthings as the show goes on.\n\n255\n00:11:32.040 --> 00:11:32.700\n>> Okay.\n\n256\n00:11:32.700 --> 00:11:36.770\n>> To implement DFS, well we have\nto make a couple of decisions.\n\n257\n00:11:36.770 --> 00:11:41.990\nDFS is really cool, because it stores\nall of its data in the active directory.\n\n258\n00:11:41.990 --> 00:11:45.740\nSo as long as there's at least one\ndomain controller up somewhere,\n\n259\n00:11:45.740 --> 00:11:48.570\nyou'll be able to query DFS for\ninformation.\n\n260\n00:11:48.570 --> 00:11:52.449\nWe have to store it in the active\ndirectory because we can't be reliant on\n\n261\n00:11:52.449 --> 00:11:53.603\nany one file server.\n\n262\n00:11:53.603 --> 00:11:55.638\nSo if DF-\n>> It does give you the option, right?\n\n263\n00:11:55.638 --> 00:11:58.010\nYou can do it stand alone but-\n>> I actually forgot about that, you can.\n\n264\n00:11:58.010 --> 00:12:00.299\n>> You can do a stand alone but,\nas Don says,\n\n265\n00:12:00.299 --> 00:12:02.595\nyou lose a lot of\nthe cool features of DFS.\n\n266\n00:12:02.595 --> 00:12:06.150\nIt becomes a lot more difficult to be\nscalable cuz now all of a sudden you've\n\n267\n00:12:06.150 --> 00:12:08.530\ngotta do a cluster underneath\nthose DFS servers.\n\n268\n00:12:08.530 --> 00:12:09.770\nWhereas, with the Active Directory and\n\n269\n00:12:09.770 --> 00:12:12.520\nintegrated, we just add additional\nnamespace servers and we're good to go.\n\n270\n00:12:12.520 --> 00:12:14.980\n>> Yeah, so if we're going to go\nthrough the trouble of deploying it,\n\n271\n00:12:14.980 --> 00:12:17.860\nwe might as well do\nthe Active Directory integrated.\n\n272\n00:12:17.860 --> 00:12:18.390\n>> Absolutely.\n\n273\n00:12:18.390 --> 00:12:22.550\n>> And by doing that, users when\nthey go to access the shared folder\n\n274\n00:12:22.550 --> 00:12:24.730\nquery the Active Directory\nto find out where it is,\n\n275\n00:12:24.730 --> 00:12:26.540\nand that is where DFS\nstarts to do its magic.\n\n276\n00:12:26.540 --> 00:12:29.110\nDFS kicks in and says,\nyeah, you want to go here.\n\n277\n00:12:29.110 --> 00:12:31.539\nAnd so\ninstead of having a shared folder name,\n\n278\n00:12:31.539 --> 00:12:33.670\nwe have what's called a DFS namespace.\n\n279\n00:12:33.670 --> 00:12:37.260\nAnd in that namespace is\nwhat's called a DFS root.\n\n280\n00:12:37.260 --> 00:12:41.630\nThe DFS root is just the topmost\nfolder of that namespace.\n\n281\n00:12:41.630 --> 00:12:45.830\n>> And underneath it we can have all\nour various shares that are then\n\n282\n00:12:45.830 --> 00:12:48.420\npointed to who knows what servers,\npointed all over the place.\n\n283\n00:12:48.420 --> 00:12:50.999\n>> Could be anywhere and it really doesn't\nmatter cuz all you have to go is to that\n\n284\n00:12:50.999 --> 00:12:51.965\nrout and you're good to go.\n\n285\n00:12:51.965 --> 00:12:56.445\nThat root's always going to be the format\nof //name of the domain if you're doing\n\n286\n00:12:56.445 --> 00:12:58.183\nActive Directory integrated.\n\n287\n00:12:58.183 --> 00:13:02.828\n//name of the domain and then /and\nwhatever you want to call your namespace\n\n288\n00:13:02.828 --> 00:13:05.980\nlike corpdocs, or marketing, or whatever.\n\n289\n00:13:05.980 --> 00:13:09.040\n>> So instead of mapping\na drive to a server name,\n\n290\n00:13:09.040 --> 00:13:11.160\nyou're mapping a drive\nto your domain name.\n\n291\n00:13:11.160 --> 00:13:12.890\nAnd your domain name's always the same,\n\n292\n00:13:12.890 --> 00:13:15.120\nas long as at least one\ndomain controller is up.\n\n293\n00:13:15.120 --> 00:13:18.030\nAnd that's really the sweet spot for DFS.\n\n294\n00:13:18.030 --> 00:13:22.180\nIf we deployed it as a standalone,\nnot in the Active Directory,\n\n295\n00:13:22.180 --> 00:13:25.720\nthen it would be tied to\nthe name of a particular machine.\n\n296\n00:13:25.720 --> 00:13:27.230\nThe machine could fail and\njust like Mike said,\n\n297\n00:13:27.230 --> 00:13:29.310\nthat's where you have to do a cluster and\nall that,\n\n298\n00:13:29.310 --> 00:13:31.960\nit really does defeat\nthe purpose of doing DFS.\n\n299\n00:13:33.070 --> 00:13:36.290\nSo let's see that initial set up and\nwhat's involved there.\n\n300\n00:13:36.290 --> 00:13:38.855\nNow I'm gonna install this\non a domain controller.\n\n301\n00:13:38.855 --> 00:13:41.362\nAnd I have a habit-\n>> Say it isn't so.\n\n302\n00:13:41.362 --> 00:13:42.242\n[LAUGH]\n>> Well,\n\n303\n00:13:42.242 --> 00:13:44.745\nI do this in production\nmost of the time too.\n\n304\n00:13:44.745 --> 00:13:46.818\nBecause when you do a look up against DFS,\n\n305\n00:13:46.818 --> 00:13:49.078\nyou gotta query a domain\ncontroller anyway.\n\n306\n00:13:49.078 --> 00:13:49.880\nThe namespace,\n\n307\n00:13:49.880 --> 00:13:53.896\njust because we're hosting the namespace\ndoesn't mean we're hosting the data.\n\n308\n00:13:53.896 --> 00:13:54.522\n>> Right, the shares aren't there, yeah.\n\n309\n00:13:54.522 --> 00:13:57.437\n>> So it's not necessarily\na bandwidth hit or anything.\n\n310\n00:13:57.437 --> 00:13:59.163\nThe query's all ready going to the system,\n\n311\n00:13:59.163 --> 00:14:01.272\ndomain controller's a good\nplace to put it, right?\n\n312\n00:14:01.272 --> 00:14:02.270\n>> Very true, very true.\n\n313\n00:14:02.270 --> 00:14:05.220\n>> But you could just as well\ndo it on a member server,\n\n314\n00:14:05.220 --> 00:14:08.030\njust a regular server joined\nto the domain if we wanted.\n\n315\n00:14:08.030 --> 00:14:10.450\nBut I'm gonna do it here on DC.\n\n316\n00:14:10.450 --> 00:14:11.898\nThe process isn't really any different.\n\n317\n00:14:11.898 --> 00:14:15.320\nSo I'm gonna go into my service\nmanager and Mike, you said it best,\n\n318\n00:14:15.320 --> 00:14:17.175\nit's just adding a role, right?\n\n319\n00:14:17.175 --> 00:14:18.810\n>> Yeah.\n\n320\n00:14:18.810 --> 00:14:20.545\n>> Which hopefully I don't\nalready have installed.\n\n321\n00:14:20.545 --> 00:14:22.450\n>> [LAUGH]\n>> Didn't think about that.\n\n322\n00:14:22.450 --> 00:14:23.355\n>> The first thing Don says.\n\n323\n00:14:23.355 --> 00:14:24.941\n[LAUGH]\n>> I do have filing storage services but\n\n324\n00:14:24.941 --> 00:14:26.060\nI don't think I have DFS.\n\n325\n00:14:26.060 --> 00:14:27.227\nNo, good, okay.\n\n326\n00:14:27.227 --> 00:14:30.753\nAll right, so I'm just gonna go up and,\nwhoops, here I'll go and add roles and\n\n327\n00:14:30.753 --> 00:14:31.291\nfeatures.\n\n328\n00:14:31.291 --> 00:14:33.382\n>> Mm-hm.\n\n329\n00:14:33.382 --> 00:14:35.450\n>> We'll move past our welcome screen.\n\n330\n00:14:35.450 --> 00:14:39.920\nWe're gonna do a role-based install\nof this server, itprotvdc2.\n\n331\n00:14:41.210 --> 00:14:45.375\nAnd in the roles as I look down the list,\nI can see that I've got file and\n\n332\n00:14:45.375 --> 00:14:47.300\nstorage services right here.\n\n333\n00:14:47.300 --> 00:14:54.250\nAnd if we expand that out, here it is, DFS\nnamespaces, and DFS replication, right?\n\n334\n00:14:54.250 --> 00:14:58.630\nNow, if this is just gonna\nbe a namespace holder,\n\n335\n00:14:58.630 --> 00:15:02.470\nthen all I really need is that\nDFS namespace part, okay?\n\n336\n00:15:02.470 --> 00:15:03.900\nIt's also gonna add the management tools.\n\n337\n00:15:03.900 --> 00:15:04.930\n>> Right.\n\n338\n00:15:04.930 --> 00:15:09.200\n>> If I'm also going to\nhost the shared folders,\n\n339\n00:15:09.200 --> 00:15:12.820\nthen I need DFS replication also,\nall right?\n\n340\n00:15:12.820 --> 00:15:14.360\nNow, I'm gonna go ahead and do that.\n\n341\n00:15:14.360 --> 00:15:18.533\nIn real life land, I'll usually make\na domain controller, the namespace holder,\n\n342\n00:15:18.533 --> 00:15:21.284\nbut then I have file servers that are-\n>> And those are the guys for\n\n343\n00:15:21.284 --> 00:15:21.984\nyour replication.\n\n344\n00:15:21.984 --> 00:15:22.700\n>> Exactly, yep.\n\n345\n00:15:22.700 --> 00:15:25.760\nBecause the namespace server,\nit stores its data in Active Directory, so\n\n346\n00:15:25.760 --> 00:15:27.440\nthat replicates with the AD.\n\n347\n00:15:27.440 --> 00:15:30.660\nSo you only need this replication\nto replicate the files themselves.\n\n348\n00:15:30.660 --> 00:15:32.460\nIf they're being stored on more\nthan one server or something,\n\n349\n00:15:32.460 --> 00:15:33.240\nyou've gotta keep it straight.\n\n350\n00:15:34.680 --> 00:15:36.020\nNow, something worth pointing out,\n\n351\n00:15:36.020 --> 00:15:39.750\nit may not show up on the exam but\ndoes show up in real life.\n\n352\n00:15:39.750 --> 00:15:44.259\nThere's actually two different\ntypes of replication for DFS.\n\n353\n00:15:44.259 --> 00:15:48.111\nWhen it was originally\ndeployed with Windows 2000,\n\n354\n00:15:48.111 --> 00:15:51.652\nthe replication system\nused something called FRS?\n\n355\n00:15:51.652 --> 00:15:52.499\n>> It's FRS, that's it.\n\n356\n00:15:52.499 --> 00:15:53.301\nFile replication services.\n\n357\n00:15:53.301 --> 00:15:55.340\n>> File replication services yeah.\n\n358\n00:15:55.340 --> 00:15:56.500\n>> And Mike, you worked with that, right?\n\n359\n00:15:56.500 --> 00:15:58.610\n>> A little bit, a little bit the only\nthing I remember about it is,\n\n360\n00:15:58.610 --> 00:16:01.400\nwhen it failed,\nit was a nightmare to try to fix.\n\n361\n00:16:01.400 --> 00:16:02.220\n>> Well there was that,\n\n362\n00:16:02.220 --> 00:16:07.130\nand it wasn't like when it failed, it was,\nno you're right, you used the right word.\n\n363\n00:16:07.130 --> 00:16:09.390\nIt's not a if it fails,\nit's a when it fails.\n\n364\n00:16:09.390 --> 00:16:10.060\n>> When it's going to fail.\n\n365\n00:16:10.060 --> 00:16:11.900\n>> FRS sucked, it was terrible.\n\n366\n00:16:11.900 --> 00:16:12.560\n>> It did.\n>> And\n\n367\n00:16:12.560 --> 00:16:15.120\nyeah it would constantly have problems.\n\n368\n00:16:15.120 --> 00:16:17.600\nSo when DFS was originally\ndeployed in Windows 2000,\n\n369\n00:16:17.600 --> 00:16:21.290\nit was not generally accepted because\nit did have a lot of problems.\n\n370\n00:16:21.290 --> 00:16:26.080\nSo in Windows 2008,\nthey overhauled the replication.\n\n371\n00:16:26.080 --> 00:16:30.470\nAnd they brought in DFSR,\nthat's the new replication engine.\n\n372\n00:16:30.470 --> 00:16:34.180\nIt's the same replication engine that\nreplicates the active directory and so\n\n373\n00:16:34.180 --> 00:16:39.419\nit's very reliable, very mature and\njust leaps and bounds better than FRS.\n\n374\n00:16:40.780 --> 00:16:43.990\nIf your network was upgraded.\n\n375\n00:16:43.990 --> 00:16:46.190\nSo if you started with Windows 2000 and\n\n376\n00:16:46.190 --> 00:16:50.710\nthen upgraded beyond that,\nwhen you installed DFS, it will actually\n\n377\n00:16:50.710 --> 00:16:55.640\ndefault to doing FRS because it wants to\nhave compatibility with the older systems.\n\n378\n00:16:55.640 --> 00:16:58.120\nSo, just be aware that you may\nneed to change it over to the\n\n379\n00:16:58.120 --> 00:16:58.960\n>> Migration over\n\n380\n00:16:58.960 --> 00:17:02.680\n>> You know there's a series of commands\n\n381\n00:17:02.680 --> 00:17:03.850\n>> I can never remember.\n\n382\n00:17:03.850 --> 00:17:06.200\nLet's see if we can find,\nthe tech net article.\n\n383\n00:17:06.200 --> 00:17:07.792\n>> Was it, there's four stages zero,\n\n384\n00:17:07.792 --> 00:17:09.710\none, two, and\nthree that you have to go through.\n\n385\n00:17:09.710 --> 00:17:13.940\nAnd you have to wait until that replicates\nall your main controller out there.\n\n386\n00:17:13.940 --> 00:17:16.510\nBecause it still does default,\nlike you said,\n\n387\n00:17:16.510 --> 00:17:19.905\nback to FRS to maintain that\nbackwards compatibility.\n\n388\n00:17:19.905 --> 00:17:22.810\n[INAUDIBLE] the command,\n\n389\n00:17:22.810 --> 00:17:27.950\nwhat is it, just start out with state,\nthat's the word state.\n\n390\n00:17:27.950 --> 00:17:29.580\n>> It was DFSR mig?\n\n391\n00:17:29.580 --> 00:17:30.080\n>> Mhm.\n\n392\n00:17:32.570 --> 00:17:33.360\n>> Let's see if I can find it.\n\n393\n00:17:33.360 --> 00:17:35.810\nThere's a good tech article somewhere that\n\n394\n00:17:35.810 --> 00:17:38.000\nwalks through each of\nthe different stages.\n\n395\n00:17:38.000 --> 00:17:39.310\n>> Separable stage.\n\n396\n00:17:39.310 --> 00:17:40.890\n>> There we go, each one, yep.\n\n397\n00:17:40.890 --> 00:17:43.460\nAs you move through the different\nstages to upgrade your servers.\n\n398\n00:17:43.460 --> 00:17:46.520\nAnd so,\nbasically if you had some 2000 servers or\n\n399\n00:17:46.520 --> 00:17:51.005\n2003 servers, when you deploy 2008 and\n2012, they're still running the old way.\n\n400\n00:17:51.005 --> 00:17:51.550\n>> Mm-hm.\n\n401\n00:17:51.550 --> 00:17:53.720\n>> You upgrade all your servers to 2008 or\n2012 and\n\n402\n00:17:53.720 --> 00:17:57.370\nthen you just run through these\nsteps to move into the new one.\n\n403\n00:17:57.370 --> 00:18:01.970\nAnd each step, you're supposed to do\nthem several hours apart to make sure\n\n404\n00:18:01.970 --> 00:18:04.850\nthe server's [INAUDIBLE]\n>> Has to replicate to every\n\n405\n00:18:04.850 --> 00:18:05.730\nother domain controller.\n\n406\n00:18:05.730 --> 00:18:08.840\nIf you've got sites and you've limited\nreplication, you've got to wait.\n\n407\n00:18:08.840 --> 00:18:09.400\nAnd it'll tell you.\n\n408\n00:18:09.400 --> 00:18:14.210\nThere's a get global state command that\nyou can use to see if it's made it to all\n\n409\n00:18:14.210 --> 00:18:16.720\nthe domain controllers before it'll\neven let you move to that next stage.\n\n410\n00:18:16.720 --> 00:18:19.970\nSo it is a two or three day process\ntypically to get that done.\n\n411\n00:18:19.970 --> 00:18:22.800\n>> Hey, it's been probably\na good year since I've done\n\n412\n00:18:22.800 --> 00:18:24.360\nthis in a production environment and\n\n413\n00:18:24.360 --> 00:18:29.040\nthe last time I did it, there's basically\nthree stages and I did one a day.\n\n414\n00:18:29.040 --> 00:18:32.360\nSo it was a 72 hour process, I mean it's\nnot hard, you just run the command and\n\n415\n00:18:32.360 --> 00:18:34.840\nthen walk away you know\n>> Just wait, hurry up and wait\n\n416\n00:18:34.840 --> 00:18:37.030\n>> Go watch TV or whatever and come back.\n\n417\n00:18:37.030 --> 00:18:38.540\nSo let me do this.\n\n418\n00:18:38.540 --> 00:18:44.929\nI'm going to fire up some notes and\nso we'll do 7411dfs notes.\n\n419\n00:18:44.929 --> 00:18:50.571\nSo migrating from FRS to DFSR,\nall right so\n\n420\n00:18:50.571 --> 00:18:56.070\nwhen we post, this video on our website.\n\n421\n00:18:56.070 --> 00:18:58.950\nYou know the recording on the website,\nI'll post these notes beneath it so\n\n422\n00:18:58.950 --> 00:19:01.350\nyou can have that link to get to and\n\n423\n00:19:01.350 --> 00:19:06.860\nit will be there so all right,\nokay so what is next.\n\n424\n00:19:06.860 --> 00:19:08.500\nAll right.\n>> So we got that roll going?\n\n425\n00:19:08.500 --> 00:19:10.350\n>> Yeah so\nI'm just adding that in there and\n\n426\n00:19:10.350 --> 00:19:13.036\nI'll hit Next\n>> And we'll finish that up and\n\n427\n00:19:13.036 --> 00:19:15.370\nit's going to happen, all right.\n\n428\n00:19:15.370 --> 00:19:20.240\nNow notice how DFS was a part of\nthe file and storage system here.\n\n429\n00:19:20.240 --> 00:19:22.100\nIt's the file and storage services.\n\n430\n00:19:22.100 --> 00:19:25.330\nAnd so earlier I said,\nI know I've got file and\n\n431\n00:19:25.330 --> 00:19:28.740\nstorage services but\nI don't think I have this other piece.\n\n432\n00:19:28.740 --> 00:19:34.330\nSo, just be aware that it'll\nshow up on there when it's done.\n\n433\n00:19:34.330 --> 00:19:35.140\nAll right?\n\n434\n00:19:35.140 --> 00:19:35.680\n>> Now we wait.\n\n435\n00:19:35.680 --> 00:19:40.200\n>> Now, if we're going to be\ndeploying this on a second server,\n\n436\n00:19:40.200 --> 00:19:43.400\nwe could go ahead and get a head start and\ninstall it on the other side too.\n\n437\n00:19:43.400 --> 00:19:47.420\n>> Or when we set it up here we can\nactually have it push that system over to\n\n438\n00:19:47.420 --> 00:19:51.200\nthe other side and configure it for us,\neither ways effective depending on how\n\n439\n00:19:51.200 --> 00:19:53.004\nmuch you know time you've got\n>> Mm hm\n\n440\n00:19:53.004 --> 00:19:53.890\n>> I guess we can go ahead and\n\n441\n00:19:53.890 --> 00:19:56.600\ninstall the role and\nstuff over on the other one.\n\n442\n00:19:56.600 --> 00:19:59.340\nSo I'm going to jump over to server one.\n\n443\n00:19:59.340 --> 00:20:02.130\nAnd server one is going\nto be my second server.\n\n444\n00:20:02.130 --> 00:20:05.360\nThat will have this marketing\nshared folder and all that.\n\n445\n00:20:05.360 --> 00:20:09.950\nAnd so I'm going to go in here and\nI will add roles and features.\n\n446\n00:20:09.950 --> 00:20:11.080\nI gotta wait.\n\n447\n00:20:11.080 --> 00:20:11.880\n>> Yeah.\n>> Wait for it\n\n448\n00:20:11.880 --> 00:20:13.390\nto populate and\n>> [CROSSTALK].\n\n449\n00:20:13.390 --> 00:20:15.687\n>> I don't like that blue\nbar it disappears and\n\n450\n00:20:15.687 --> 00:20:16.703\nthen comes back\n>> Mm hm\n\n451\n00:20:16.703 --> 00:20:17.670\n>> And you never know if it's going to\n\n452\n00:20:17.670 --> 00:20:21.050\ncome back I always watch the list at\nthe left and then once I see file and\n\n453\n00:20:21.050 --> 00:20:25.210\nstorage services pop up that's when I\npretty know it's done doing it's thing and\n\n454\n00:20:25.210 --> 00:20:26.502\nit's safe to click on anything else\n>> Yeah\n\n455\n00:20:26.502 --> 00:20:28.192\n>> In that darn manager\n\n456\n00:20:28.192 --> 00:20:29.350\n>> All right so I'm going to go in here\n\n457\n00:20:29.350 --> 00:20:35.130\nand add this one in and you know,\ntechnically I just need the replication\n\n458\n00:20:35.130 --> 00:20:39.100\npiece but I'm going to go ahead and\nadd the names space piece in because\n\n459\n00:20:39.100 --> 00:20:43.370\nI want to make sure if one of my namespace\nservers goes down, I've got another one.\n\n460\n00:20:43.370 --> 00:20:45.010\nSo you know we want redundant\nname space servers.\n\n461\n00:20:45.010 --> 00:20:46.770\n>> Absolutely.\nIt's a good point because you set up\n\n462\n00:20:46.770 --> 00:20:50.170\nredundancy for the chairs themselves but\nif you don't set up redundancy for the\n\n463\n00:20:50.170 --> 00:20:53.760\nname space, now when they go to connect to\nthat name space they can't get to that.\n\n464\n00:20:53.760 --> 00:20:56.900\nSo need to redundancy for both of those.\n\n465\n00:20:56.900 --> 00:21:00.240\n>> So I'll just add that and\nwe'll let it start installing there too.\n\n466\n00:21:00.240 --> 00:21:01.370\nGood times.\nGood times.\n\n467\n00:21:01.370 --> 00:21:02.420\n>> Yeah man.\n>> All right, so\n\n468\n00:21:02.420 --> 00:21:05.762\nour other one looks like it\ndone installation succeeded.\n\n469\n00:21:05.762 --> 00:21:11.060\nAll right now, on the left side\nhere if I go under file and\n\n470\n00:21:11.060 --> 00:21:14.390\nstorage services in here I will see.\n\n471\n00:21:14.390 --> 00:21:18.310\n>> I think it still puts\na separate console for that.\n\n472\n00:21:18.310 --> 00:21:18.990\nCheck under your tools?\n\n473\n00:21:21.030 --> 00:21:22.230\n>> I thought it showed\nup on the left side.\n\n474\n00:21:22.230 --> 00:21:23.570\nI might have to close and reopen for it.\n\n475\n00:21:23.570 --> 00:21:25.075\nWe'll definitely have the tool.\n\n476\n00:21:25.075 --> 00:21:28.620\nCause if you go under tools,\nyou've got this nice one, DFS Management.\n\n477\n00:21:28.620 --> 00:21:30.420\nAnd that's usually where we get our start.\n\n478\n00:21:30.420 --> 00:21:32.490\nBut I thought it showed\nup on the left side.\n\n479\n00:21:32.490 --> 00:21:35.230\nJust to sate my own curiosity,\nlet me close this and reopen it.\n\n480\n00:21:35.230 --> 00:21:36.000\nNow, I am.\n\n481\n00:21:36.000 --> 00:21:38.750\nI am guilty that I almost\nalways use that tool menu.\n\n482\n00:21:38.750 --> 00:21:40.120\n>> Right, right.\n\n483\n00:21:40.120 --> 00:21:41.490\n>> If you've been using\nWindows a long time,\n\n484\n00:21:41.490 --> 00:21:43.260\nthat's basically\nthe administrative tools folder.\n\n485\n00:21:43.260 --> 00:21:44.310\n>> Exactly.\n>> That we're all used to\n\n486\n00:21:44.310 --> 00:21:45.210\n>> Old school way.\n\n487\n00:21:45.210 --> 00:21:48.580\n>> But on the exam, if it can be done\nthrough the server manager, that's the way\n\n488\n00:21:48.580 --> 00:21:52.550\nit shows up, so I just want to make sure\nthat the viewers get that, if it's there.\n\n489\n00:21:52.550 --> 00:21:53.090\nI could be wrong.\n\n490\n00:21:53.090 --> 00:21:54.990\n>> It's weird the way a few things\nshow up on there, like, I know\n\n491\n00:21:54.990 --> 00:21:57.040\n>> Goes these servers to show up there.\n\n492\n00:21:57.040 --> 00:22:01.070\nWhat was the other one that I was working\nwith the other day that shows it?\n\n493\n00:22:01.070 --> 00:22:03.890\nThe storage pools shows up there as well.\n\n494\n00:22:03.890 --> 00:22:06.250\nStorage pools doesn't have I\ndon't think it's own console.\n\n495\n00:22:06.250 --> 00:22:08.722\nOr it might, but they want you to\nmanage it through server manager.\n\n496\n00:22:08.722 --> 00:22:11.570\n>> Yeah sure enough DFS just\ndoesn't show up over there.\n\n497\n00:22:11.570 --> 00:22:12.401\nGood to know.\n\n498\n00:22:12.401 --> 00:22:13.232\n>> Good to know.\n\n499\n00:22:13.232 --> 00:22:16.896\n>> All right, I'm just going to go\nunder tools and DFS management and\n\n500\n00:22:16.896 --> 00:22:18.642\nwe'll fire that one up.\n\n501\n00:22:18.642 --> 00:22:22.760\nAnd we are going to go through\nthe process of creating the name space.\n\n502\n00:22:22.760 --> 00:22:25.060\nNow, the other server is still\ninstalling and that is fine.\n\n503\n00:22:25.060 --> 00:22:26.060\nI'm going to ignore it right now.\n\n504\n00:22:26.060 --> 00:22:28.690\nI'm going to make the name space for\njust one server and\n\n505\n00:22:28.690 --> 00:22:33.290\nwe will add that other server in later,\nall right,\n\n506\n00:22:33.290 --> 00:22:36.050\nnow when you go into the DFS pool\nyou're going to see two pieces.\n\n507\n00:22:36.050 --> 00:22:40.080\nIt's going to start off by showing\nname spaces and replication, right.\n\n508\n00:22:40.080 --> 00:22:43.810\nWhen you create a name space, that's\nlike a repository for information about\n\n509\n00:22:43.810 --> 00:22:45.213\nshared folder, so it's just like a\n>> Mm hm\n\n510\n00:22:45.213 --> 00:22:46.240\n>> Kinda like a data,\n\n511\n00:22:46.240 --> 00:22:47.358\nwell it is a data base\n>> Yeah\n\n512\n00:22:47.358 --> 00:22:48.119\n>> Actually on the back\n\n513\n00:22:48.119 --> 00:22:48.730\nend there's\n>> Mm\n\n514\n00:22:48.730 --> 00:22:49.336\nhm\n>> A data base\n\n515\n00:22:49.336 --> 00:22:49.864\n>> Yup\n\n516\n00:22:49.864 --> 00:22:51.538\n>> The other part is replication and\n\n517\n00:22:51.538 --> 00:22:55.178\nthat's setting up communications\nbetween servers to replicate files and\n\n518\n00:22:55.178 --> 00:22:57.695\nwhere we'll go to monitor it\nto make sure it's working, but\n\n519\n00:22:57.695 --> 00:23:00.605\nif you only got one server,\nyou don't care about that too much.\n\n520\n00:23:00.605 --> 00:23:04.405\nSo we'll go up here to name spaces and\nwe'll create our first name space.\n\n521\n00:23:04.405 --> 00:23:06.275\nSo I'm going to choose to new name space.\n\n522\n00:23:06.275 --> 00:23:09.637\nIf you've already gotten one you choose\nname add name spaces to do pore to\n\n523\n00:23:09.637 --> 00:23:11.377\ndisplay, but we will do it anyway.\n\n524\n00:23:12.887 --> 00:23:16.527\nAll right, we have to pick a server\nto act as the name space server and\n\n525\n00:23:16.527 --> 00:23:20.137\nI normally do pick a domain control since\nthe queries are headed that way anyway.\n\n526\n00:23:20.137 --> 00:23:22.520\n>> That make sense, if they're going\nto be hitting it anyway, might as well.\n\n527\n00:23:22.520 --> 00:23:24.190\nDon't have to worry about it.\n\n528\n00:23:24.190 --> 00:23:26.460\n>> So\nI'm going to pick this one ITProTVDC2.\n\n529\n00:23:26.460 --> 00:23:32.400\nAnd now I need to give it a name.\n\n530\n00:23:32.400 --> 00:23:36.824\nNow, if you want to maintain\nseparate folders for everything, and\n\n531\n00:23:36.824 --> 00:23:41.557\nI was doing marketing, I might make\nthe root of this called marketing and\n\n532\n00:23:41.557 --> 00:23:45.981\nput things underneath it, but\nMike brought up one of the nice things\n\n533\n00:23:45.981 --> 00:23:50.584\nabout DFS is that we can collapse all\nof our shares into one big folder.\n\n534\n00:23:50.584 --> 00:23:53.266\nSo this folder's what people\nare actually going to browse to.\n\n535\n00:23:53.266 --> 00:23:57.872\nTheir going to browse to backslash\nbackslash Your domain name slash\n\n536\n00:23:57.872 --> 00:23:59.988\nwhatever you type right here.\n\n537\n00:23:59.988 --> 00:24:02.404\nAnd so\nI normally pick a nice generic name and\n\n538\n00:24:02.404 --> 00:24:05.220\nMike you know what I pick\nwhich is usually data.\n\n539\n00:24:05.220 --> 00:24:09.900\n>> Data.\n>> All right so //your domain name/data.\n\n540\n00:24:09.900 --> 00:24:11.470\nThis is where we put our data right?\n\n541\n00:24:11.470 --> 00:24:12.650\n>> Easy to remember,\nI mean it makes sense.\n\n542\n00:24:12.650 --> 00:24:15.458\nEven the best of our users.\n\n543\n00:24:15.458 --> 00:24:17.140\n[LAUGH].\n>> Well, if we really want it to make\n\n544\n00:24:17.140 --> 00:24:20.906\nsense, we'd rename it, like,\nCrap You Don't Wanna Lose.\n\n545\n00:24:20.906 --> 00:24:21.828\n>> [LAUGH].\n>> [LAUGH] So,\n\n546\n00:24:21.828 --> 00:24:24.260\n\\\\domainname\\Crap You Don't Wanna Lose.\n\n547\n00:24:24.260 --> 00:24:26.380\nSo, but we'll put Data on it.\n\n548\n00:24:26.380 --> 00:24:28.830\nOn here, and so we're good there.\n\n549\n00:24:28.830 --> 00:24:33.650\nAnd it tells us down here, if we don't\nalready have a shared folder, and\n\n550\n00:24:33.650 --> 00:24:36.150\nstuff like that, with these names,\nit's going to create it for us.\n\n551\n00:24:36.150 --> 00:24:37.780\nSo it's pretty hard to screw it up.\n\n552\n00:24:37.780 --> 00:24:40.630\nBut if you want to dink with\nthe permissions you can do it from here.\n\n553\n00:24:40.630 --> 00:24:44.070\nI personally like to adjust them after\nthe Wizard is done, but you know,\n\n554\n00:24:44.070 --> 00:24:44.860\nyou can do it ahead of time.\n\n555\n00:24:44.860 --> 00:24:47.490\n>> That way you can see what the Wizard\ndid and fix it if you need to and\n\n556\n00:24:47.490 --> 00:24:48.670\nthat kind of thing.\n\n557\n00:24:48.670 --> 00:24:51.970\n>> Some times you look at those defaults,\nand you're like, yeah I shouldn't do that.\n\n558\n00:24:51.970 --> 00:24:52.960\nThat's a good idea.\n\n559\n00:24:52.960 --> 00:24:55.040\n>> That basic sharing Wizard\nwill get you every time.\n\n560\n00:24:55.040 --> 00:24:58.070\nI mean, it assigns some doozy\nof NTFS permissions, doesn't it.\n\n561\n00:24:58.070 --> 00:25:00.195\n>> Yeah.\n>> Yeah, just give them full control.\n\n562\n00:25:00.195 --> 00:25:01.680\n>> [LAUGH] All right.\n\n563\n00:25:01.680 --> 00:25:04.300\nSo I'm gonna hit next on this one.\n\n564\n00:25:04.300 --> 00:25:06.630\nAnd now it's gonna ask that big question.\n\n565\n00:25:06.630 --> 00:25:09.050\nAnd this is what Mike was\ntalking about earlier.\n\n566\n00:25:09.050 --> 00:25:10.730\nWe can do a domain based name space,\n\n567\n00:25:10.730 --> 00:25:14.200\nwhich is what I really recommend\nyou always do if possible.\n\n568\n00:25:14.200 --> 00:25:15.730\n>> Unless you're in a workgroup or\nsomething.\n\n569\n00:25:15.730 --> 00:25:16.820\nI mean, I don't see why you wouldn't.\n\n570\n00:25:16.820 --> 00:25:19.430\n>> Maybe you're setting up in a DMZ or\nsomething, I don't know.\n\n571\n00:25:19.430 --> 00:25:20.290\n>> Yeah possibly.\n\n572\n00:25:20.290 --> 00:25:22.060\n>> But\nyou can do a stand alone name space, and\n\n573\n00:25:22.060 --> 00:25:23.225\nlook at that stand alone name space.\n\n574\n00:25:23.225 --> 00:25:29.020\n//itprotvdc2 it's going to that\nserver name and that's our problem.\n\n575\n00:25:29.020 --> 00:25:30.340\nIt's kind of hard for me to read.\n\n576\n00:25:30.340 --> 00:25:33.370\nLet me zoom in a bit there.\n\n577\n00:25:33.370 --> 00:25:36.080\nSo you can see that where it\nis tied to that server name.\n\n578\n00:25:36.080 --> 00:25:38.515\nIf that server fails I got a problem.\n\n579\n00:25:38.515 --> 00:25:41.065\nIf you stored in the active directory,\nthat's it.\n\n580\n00:25:41.065 --> 00:25:42.105\nThat's where you browse to.\n\n581\n00:25:42.105 --> 00:25:44.575\nAnd you'll see that lab that IT put on TV.\n\n582\n00:25:44.575 --> 00:25:47.495\nNow notice,\nenable Windows Server 2008 mode.\n\n583\n00:25:47.495 --> 00:25:50.185\nOkay.\nWhat is that?\n\n584\n00:25:50.185 --> 00:25:51.795\nThat is DFSR.\n\n585\n00:25:51.795 --> 00:25:57.280\nIf you are in previous modes,\nif you uncheck that, it's FRS.\n\n586\n00:25:57.280 --> 00:26:01.390\nIf I had an existing name space\nalready then I wouldn't be\n\n587\n00:26:01.390 --> 00:26:04.490\nable to check that it would be grayed\nout I would have to start an FRS and\n\n588\n00:26:04.490 --> 00:26:05.880\nwe'd have to do a migration later.\n\n589\n00:26:05.880 --> 00:26:10.120\n>> Also jumps the number of folder targets\nyou can have I think from 5,000 to like.\n\n590\n00:26:10.120 --> 00:26:11.120\n>> Some are ridiculous.\n\n591\n00:26:11.120 --> 00:26:13.380\n>> Yeah, it's like 20,000 or\n50,000 or something.\n\n592\n00:26:13.380 --> 00:26:14.340\nReally crazy like that.\n\n593\n00:26:14.340 --> 00:26:17.760\nBut in a large enterprise you\ncan creep up on number shares.\n\n594\n00:26:17.760 --> 00:26:19.900\nI've never seen 20,000, but.\n\n595\n00:26:19.900 --> 00:26:21.850\n>> There's some really big improvements.\n\n596\n00:26:21.850 --> 00:26:27.470\nIs the point you know that if\nyou're running the older style DFS.\n\n597\n00:26:27.470 --> 00:26:28.310\n>> It's like night and day.\n\n598\n00:26:28.310 --> 00:26:29.790\nYou really want to get to the new stuff.\n\n599\n00:26:29.790 --> 00:26:31.380\nIt is significantly improved.\n\n600\n00:26:32.740 --> 00:26:35.957\n>> Access based enumeration, another one\nof my favorite little features there.\n\n601\n00:26:35.957 --> 00:26:36.559\n[CROSSTALK].\n\n602\n00:26:36.559 --> 00:26:38.570\n>> Did they mention that on the screen or?\n\n603\n00:26:38.570 --> 00:26:40.760\n>> I think it let's you\nknow if you get into 2008.\n\n604\n00:26:40.760 --> 00:26:44.620\n>> Mode you are gonna get\naccess to that capability.\n\n605\n00:26:44.620 --> 00:26:47.995\n>> We covered that in a show,\nI don't remember what show.\n\n606\n00:26:47.995 --> 00:26:48.800\n[LAUGH].\n>> I believe so.\n\n607\n00:26:48.800 --> 00:26:49.710\nRecap real quick,\n\n608\n00:26:49.710 --> 00:26:53.850\naccess based numeration just means if that\nuser doesn't have at least read permission\n\n609\n00:26:53.850 --> 00:26:56.270\nover the resource It's not even\ngoing to show up in the list.\n\n610\n00:26:56.270 --> 00:26:59.170\nSo it prevents them from trying\nto double click on things and\n\n611\n00:26:59.170 --> 00:27:02.180\ngoing why don't I have access to this or\neven seeing that they're there.\n\n612\n00:27:02.180 --> 00:27:05.250\n>> Yeah, if you got all your\nshares collapsed into one folder,\n\n613\n00:27:05.250 --> 00:27:07.100\neverybody's mapping to that same folder.\n\n614\n00:27:07.100 --> 00:27:07.760\n>> Yeah.\n\n615\n00:27:07.760 --> 00:27:10.490\n>> You might have HR or\nreally sensitive stuff in there.\n\n616\n00:27:10.490 --> 00:27:11.820\nWell if somebody.\n\n617\n00:27:11.820 --> 00:27:14.775\n>> Doesn't have access the old way was\nthat they would still see the folder.\n\n618\n00:27:14.775 --> 00:27:16.010\n>> Mm-hm.\n>> And if they double clicked on it,\n\n619\n00:27:16.010 --> 00:27:16.740\nthey'd get access denied.\n\n620\n00:27:16.740 --> 00:27:18.700\nBut now they know in their heads that,\nwait a minute.\n\n621\n00:27:18.700 --> 00:27:19.340\n>> Somethings there.\n\n622\n00:27:19.340 --> 00:27:20.180\n>> I know that's there.\n\n623\n00:27:20.180 --> 00:27:21.990\n>> Yeah, I'm going to try\nlater to get access to that.\n\n624\n00:27:21.990 --> 00:27:24.465\n>> But with access numeration, it says.\n\n625\n00:27:24.465 --> 00:27:25.855\n>> Hey, if you don't have\npermission in that folder,\n\n626\n00:27:25.855 --> 00:27:27.875\nwe're not even going to\nshow you that it's there,\n\n627\n00:27:27.875 --> 00:27:31.355\nand now they don't even know that, and\nit's just one extra level of protection.\n\n628\n00:27:31.355 --> 00:27:33.395\n>> Yep, absolutely.\n>> I'm gonna go ahead and\n\n629\n00:27:33.395 --> 00:27:34.275\nhit next on this.\n\n630\n00:27:34.275 --> 00:27:35.825\nThat should be about all it asks, we get.\n\n631\n00:27:35.825 --> 00:27:36.958\n>> I believe so.\n\n632\n00:27:36.958 --> 00:27:37.711\nTheres our.\n[CROSSTALK].\n\n633\n00:27:37.711 --> 00:27:39.520\n>> Double check all your choices.\n\n634\n00:27:39.520 --> 00:27:45.040\n>> So we'll go ahead and hit create and\nnow its going to build it.\n\n635\n00:27:45.040 --> 00:27:46.500\nAll right and its pretty good timing for\n\n636\n00:27:46.500 --> 00:27:48.890\nus because our clock has about\nrun out on this segment.\n\n637\n00:27:48.890 --> 00:27:52.520\nSo what we're going to do now is we're\ngoing to stop and take a break and\n\n638\n00:27:52.520 --> 00:27:56.370\nwhen we get back we're going to take a\nlook at the initial configuration of DFS.\n\n639\n00:27:56.370 --> 00:27:58.250\nAnd see some of the things\nwe can add on to it.\n\n640\n00:27:58.250 --> 00:27:58.760\n>> Sweet.\n\n641\n00:27:58.760 --> 00:28:00.585\n>> We still have that other server\nsitting there being lonely.\n\n642\n00:28:00.585 --> 00:28:01.660\n>> [LAUGH].\n>> Can't have that.\n\n643\n00:28:01.660 --> 00:28:03.480\n>> Alright, ladies and\ngentlemen, stay tuned.\n\n644\n00:28:03.480 --> 00:28:04.407\nWhen we get back more DFS.\n\n645\n00:28:04.407 --> 00:28:11.105\n>> [MUSIC].\n\n646\n00:28:11.105 --> 00:28:14.031\n[SOUND] [LAUGH].\n\n647\n00:28:14.031 --> 00:28:15.590\n>> Alright, welcome back everybody.\n\n648\n00:28:15.590 --> 00:28:19.270\nSo, the wizard finished and I clicked\nokay, I didn't mean to but I did it,\n\n649\n00:28:19.270 --> 00:28:20.000\nit was an accident.\n\n650\n00:28:20.000 --> 00:28:20.790\n>> No.\n>> So anyhow, it's gone.\n\n651\n00:28:20.790 --> 00:28:23.470\n>> How are they ever going to finish\nthis if they don't see you click okay.\n\n652\n00:28:23.470 --> 00:28:24.300\n>> The tragedy.\n\n653\n00:28:24.300 --> 00:28:26.630\nI had to see that confirmation screen.\n\n654\n00:28:26.630 --> 00:28:33.160\nBut anyhow, it did finish Now I'm\nsitting here and looking at my machine.\n\n655\n00:28:33.160 --> 00:28:36.880\nIt's showing // domain name / data.\n\n656\n00:28:36.880 --> 00:28:38.630\nThat folder's been created.\n\n657\n00:28:38.630 --> 00:28:40.100\nNow, it's not terribly exciting.\n\n658\n00:28:40.100 --> 00:28:47.597\nIf I jump over to a client and\nI browse to lab.itpro.tv/.\n\n659\n00:28:47.597 --> 00:28:48.329\n>> Data\n>> Data\n\n660\n00:28:48.329 --> 00:28:49.425\n>> Alright there\n\n661\n00:28:49.425 --> 00:28:50.068\nit is\n>> Wow\n\n662\n00:28:50.068 --> 00:28:52.970\n>> empty folder okay it's just an empty\n\n663\n00:28:52.970 --> 00:28:56.730\nshared folder in fact if I well you can't\njust browse to the domain name, but if I\n\n664\n00:28:56.730 --> 00:28:57.976\nbrowse here it's just and empty folder\n>> Mm hm\n\n665\n00:28:57.976 --> 00:28:58.510\n>> and if I try and\n\n666\n00:28:58.510 --> 00:29:02.070\ncreate something in it you know if\nI try and create a text document.\n\n667\n00:29:02.070 --> 00:29:04.560\n>> I can't.\nNow, I'm getting access denied.\n\n668\n00:29:04.560 --> 00:29:05.860\nI'm a domain admin.\n\n669\n00:29:05.860 --> 00:29:07.570\nHow am I getting access denied?\n\n670\n00:29:07.570 --> 00:29:09.960\nWell, this is not a real folder.\n\n671\n00:29:09.960 --> 00:29:12.070\n>> It's a logical structure, really.\n\n672\n00:29:12.070 --> 00:29:12.970\nIt doesn't exist.\n\n673\n00:29:12.970 --> 00:29:16.930\n>> It looks like a folder, but it's just a\npointer stored in the active directory so\n\n674\n00:29:16.930 --> 00:29:19.870\nthat's why you can't create files in here.\n\n675\n00:29:19.870 --> 00:29:24.070\nWe need to then create an additional\nstructure underneath this\n\n676\n00:29:24.070 --> 00:29:25.920\nto be able to get to it, right.\n\n677\n00:29:25.920 --> 00:29:30.830\nAnd those, that additional structure are\nwhat are called folder targets, all right.\n\n678\n00:29:30.830 --> 00:29:34.710\nTo the end user, they just look\nlike subdirectories or subfolders.\n\n679\n00:29:34.710 --> 00:29:37.020\nBut in Active Directory, they're targets.\n\n680\n00:29:37.020 --> 00:29:39.390\nEach target pointing to\na different location.\n\n681\n00:29:39.390 --> 00:29:40.480\n>> End up creating a folder and\n\n682\n00:29:40.480 --> 00:29:43.820\nthen creating folder targets really within\nthis cuz you can have multiple targets and\n\n683\n00:29:43.820 --> 00:29:46.540\nwe'll see that as well\nfrom the same folder.\n\n684\n00:29:46.540 --> 00:29:48.930\n>> So\nI'm gonna jump back over to my server and\n\n685\n00:29:48.930 --> 00:29:50.340\nI'll see my Name space right there.\n\n686\n00:29:50.340 --> 00:29:51.800\nI'm just gonna click on it and\n\n687\n00:29:51.800 --> 00:29:55.610\nwhen I click on the Name space you\ncan see the Name space itself.\n\n688\n00:29:55.610 --> 00:29:59.560\nName space servers,\nthese are the servers participating.\n\n689\n00:29:59.560 --> 00:30:01.750\nYeah, just old IT pro DC 2.\n\n690\n00:30:01.750 --> 00:30:06.490\nYou can see delegation for\nassigning permission to other people, and\n\n691\n00:30:06.490 --> 00:30:07.480\nyou can search it.\n\n692\n00:30:07.480 --> 00:30:09.290\n>> That's a cool feature, there.\n\n693\n00:30:09.290 --> 00:30:10.690\n>> Have you ever used it?\n\n694\n00:30:10.690 --> 00:30:11.190\n>> No.\n>> Alright.\n\n695\n00:30:11.190 --> 00:30:12.370\n>> No, I just said it was cool because you\n\n696\n00:30:12.370 --> 00:30:14.190\ncan search across the enterprise.\n>> I thought you were about to\n\n697\n00:30:14.190 --> 00:30:15.200\nteach me something new, because like,\n\n698\n00:30:15.200 --> 00:30:16.050\nyou know that.\n>> Tab.\n\n699\n00:30:16.050 --> 00:30:17.265\nI've seen it all these years.\n\n700\n00:30:17.265 --> 00:30:18.150\n>> [LAUGH].\n>> I don't think I've ever used\n\n701\n00:30:18.150 --> 00:30:18.780\nit a single time.\n\n702\n00:30:18.780 --> 00:30:20.150\n>> You know as the guys who set it up,\n\n703\n00:30:20.150 --> 00:30:22.190\nwe typically know where\neverything is already, right?\n\n704\n00:30:22.190 --> 00:30:24.290\nSo.\n>> Well, we were talking during the break,\n\n705\n00:30:24.290 --> 00:30:29.720\nand Nate looked up that maximum amount of\nfolder targets that Mike mentioned and\n\n706\n00:30:29.720 --> 00:30:31.096\nthought it was 20,000.\n\n707\n00:30:31.096 --> 00:30:32.165\nIt's actually 50,000.\n\n708\n00:30:32.165 --> 00:30:32.680\n>> 50,000.\n\n709\n00:30:32.680 --> 00:30:33.495\n>> And if you have.\n\n710\n00:30:33.495 --> 00:30:35.170\n>> 50,000 folder targets.\n\n711\n00:30:35.170 --> 00:30:36.430\nThat's so many.\n\n712\n00:30:36.430 --> 00:30:38.765\nI could see needing to search there.\n\n713\n00:30:38.765 --> 00:30:42.110\n[LAUGH] But I've deployed some\npretty large environments.\n\n714\n00:30:42.110 --> 00:30:43.660\nI've never had more than,\n\n715\n00:30:43.660 --> 00:30:46.810\nI think in the biggest environment\nwe had like 25 folder targets.\n\n716\n00:30:46.810 --> 00:30:48.223\n>> Right.\nThere's something.\n\n717\n00:30:48.223 --> 00:30:49.572\n>> Yeah.\n>> Not 25,000, 25.\n\n718\n00:30:49.572 --> 00:30:50.099\n[LAUGH].\n\n719\n00:30:50.099 --> 00:30:50.865\n>> 25.\n[LAUGH].\n\n720\n00:30:50.865 --> 00:30:54.395\n>> And so I don't,\nI don't know who is deploying this with\n\n721\n00:30:54.395 --> 00:30:57.205\nthat many folder targets but\nsomebody must be, I guess.\n\n722\n00:30:57.205 --> 00:30:58.445\n>> Room to grow just in case.\n\n723\n00:30:58.445 --> 00:31:00.615\nRight, that way they don't have\nto restructure it or something.\n\n724\n00:31:00.615 --> 00:31:01.115\n>> Room to grow.\n\n725\n00:31:02.260 --> 00:31:06.810\nAlright, so right now, my name space is\nnot terribly exciting just because it's\n\n726\n00:31:06.810 --> 00:31:08.120\npretty much empty, right.\n\n727\n00:31:08.120 --> 00:31:12.430\nAnd on the right side here we'll\nsee the new folder link, and again,\n\n728\n00:31:12.430 --> 00:31:13.860\nit's not really a folder.\n\n729\n00:31:13.860 --> 00:31:15.370\nIt's a folder target.\n\n730\n00:31:15.370 --> 00:31:18.080\nSo it's a pointer to\na folder somewhere else.\n\n731\n00:31:18.080 --> 00:31:21.180\n>> Or I like to look at it\nas it kinda is a container\n\n732\n00:31:21.180 --> 00:31:23.740\nfor my folder targets cause you're gonna\ncreate the folder then you're gonna create\n\n733\n00:31:23.740 --> 00:31:25.640\nthe folder targets within it, right.\n\n734\n00:31:25.640 --> 00:31:26.480\nIs that the way you look at it?\n\n735\n00:31:26.480 --> 00:31:29.640\nI always look at it,\ncuz you're gonna create a folder and\n\n736\n00:31:29.640 --> 00:31:32.150\nthen you're gonna add folder\ntargets to that folder so.\n\n737\n00:31:32.150 --> 00:31:33.430\n>> Yeah.\nI guess that does make\n\n738\n00:31:33.430 --> 00:31:34.060\na little more sense.\n\n739\n00:31:34.060 --> 00:31:35.000\n>> Cuz you could have multiple.\n\n740\n00:31:35.000 --> 00:31:35.530\nJust logically.\n\n741\n00:31:35.530 --> 00:31:38.310\nI know what you're saying is correct but\nlogically, I like to think of it as\n\n742\n00:31:38.310 --> 00:31:41.460\nthe outer container because then I\ncould have multiple folder targets.\n\n743\n00:31:41.460 --> 00:31:44.200\nPointing to different servers\nthat have that replicated data.\n\n744\n00:31:44.200 --> 00:31:47.080\n>> That is a good point in\nthat the folder name we use\n\n745\n00:31:47.080 --> 00:31:49.250\nhere doesn't have to match\nthe underlying target name.\n\n746\n00:31:49.250 --> 00:31:50.970\nSo they could be very different.\n\n747\n00:31:50.970 --> 00:31:52.940\nYeah, yeah I could definitely see that.\n\n748\n00:31:52.940 --> 00:31:54.045\nAll right.\n\n749\n00:31:54.045 --> 00:31:55.287\n>> Just another way of looking at it.\n\n750\n00:31:55.287 --> 00:31:58.725\n>> I'm gonna name this though,\nand I'm gonna call it, Marketing.\n\n751\n00:31:58.725 --> 00:32:03.285\nThis is gonna be the folder that's\navailable to my marketing people, and so\n\n752\n00:32:03.285 --> 00:32:07.460\nthey're gonna browse to\n//lab.itpro.tv/Data/Marketing.\n\n753\n00:32:07.460 --> 00:32:10.980\nIt looks like a sub-folder to them.\n\n754\n00:32:10.980 --> 00:32:15.670\nBut in reality, that's gonna point\nto shared folders somewhere else.\n\n755\n00:32:18.610 --> 00:32:21.490\nYou can just type it in, but\nI like to use the Browse feature,\n\n756\n00:32:21.490 --> 00:32:25.450\njust to make sure that I actually pick\nit correctly, and don't do a typo.\n\n757\n00:32:25.450 --> 00:32:28.310\nSo, I'm gonna put it in that Marketing\nfolder, that we made earlier.\n\n758\n00:32:29.420 --> 00:32:30.350\nSo, there it is.\n\n759\n00:32:30.350 --> 00:32:35.300\n>> A really cool, that that Browse does\ngrab the UNC pad cuz a lot of those dialog\n\n760\n00:32:35.300 --> 00:32:37.419\nwill fill up that C colon-\n>> [LAUGH] C colon.\n\n761\n00:32:37.419 --> 00:32:38.170\n>> Yes.\n\n762\n00:32:38.170 --> 00:32:39.790\nWhich would not work in this case, so\n\n763\n00:32:39.790 --> 00:32:43.770\nit is cool that that wizard is smart\nenough to throw it in as a UNC path.\n\n764\n00:32:43.770 --> 00:32:46.360\n>> So, I'm gonna punch that in there and\nhit OK, and now,\n\n765\n00:32:46.360 --> 00:32:49.190\nI've got a folder target in there,\nand I'll say OK to that.\n\n766\n00:32:49.190 --> 00:32:54.465\nNow, that folder target is just pointing\nto that shared folder I made earlier.\n\n767\n00:32:54.465 --> 00:32:57.920\nAnd you'll remember that shared folder\nI made earlier had some files in it.\n\n768\n00:32:57.920 --> 00:32:59.204\nI created a-\n>> [CROSSTALK]\n\n769\n00:32:59.204 --> 00:33:01.011\n>> I think it was like advertisement\n\n770\n00:33:01.011 --> 00:33:03.082\ncampaign text file, and a Banner Ad.\n\n771\n00:33:03.082 --> 00:33:05.210\nSo, it doesn't erase those.\n\n772\n00:33:05.210 --> 00:33:08.665\nIt sees that data in there, and\nit's now a part of this name space.\n\n773\n00:33:08.665 --> 00:33:10.030\n>> Yeah.\n\n774\n00:33:10.030 --> 00:33:14.520\n>> If I jump back over to my client,\nand I browse to that folder.\n\n775\n00:33:14.520 --> 00:33:19.980\nIf I browse to //lab.itpro.tv/Data.\n\n776\n00:33:19.980 --> 00:33:24.170\nNow, I see the Marketing folder under\nthere, and if I browse in there,\n\n777\n00:33:24.170 --> 00:33:27.660\nthere's my Banner Ad, and\nthere's my Marketing Campaign.\n\n778\n00:33:27.660 --> 00:33:29.740\nNow, notice my path up top,\n\n779\n00:33:29.740 --> 00:33:33.097\nI don't see the fact that I'm\nconnected to ITProTV DC2.\n\n780\n00:33:35.060 --> 00:33:38.920\nThe underlying servers are completely\nhidden from the end-user.\n\n781\n00:33:38.920 --> 00:33:41.190\nThey just see the name space.\n\n782\n00:33:41.190 --> 00:33:45.190\nAnd that's the real power of DFS, because\nwe could be connected to any one of\n\n783\n00:33:45.190 --> 00:33:49.520\na number of servers, and\nnot even be aware of that.\n\n784\n00:33:49.520 --> 00:33:50.200\n>> Yeah.\nAnd we're gonna\n\n785\n00:33:50.200 --> 00:33:53.450\ntalk later about moving those guys around,\nand that's another great.\n\n786\n00:33:53.450 --> 00:33:57.160\nBut that folder doesn't change,\nthe folder target will change.\n\n787\n00:33:57.160 --> 00:33:59.550\nSo, they don't even have to\nupdate anything on their machine.\n\n788\n00:33:59.550 --> 00:34:01.510\nThey can still connect to it.\n\n789\n00:34:01.510 --> 00:34:03.030\n>> Yeah, so right now,\n\n790\n00:34:03.030 --> 00:34:08.680\nI'm connected to that Marketing\nfolder here on the DFS share.\n\n791\n00:34:08.680 --> 00:34:11.462\nSo, that's that domain path.\n\n792\n00:34:11.462 --> 00:34:16.330\nI'm gonna open up a few more windows here,\nand let me do this.\n\n793\n00:34:16.330 --> 00:34:21.104\nMike, do you remember what is the keyboard\nshortcut that sticks that up in\n\n794\n00:34:21.104 --> 00:34:21.958\nthe corner?\n\n795\n00:34:21.958 --> 00:34:23.910\n>> Sticks the-\n>> The window.\n\n796\n00:34:23.910 --> 00:34:24.864\nThere's so many shortcuts.\n\n797\n00:34:24.864 --> 00:34:25.556\nWhatever, screw it.\n\n798\n00:34:25.556 --> 00:34:29.186\n>> [LAUGH] [CROSSTALK]\n>> [LAUGH] I'll do it, by hand.\n\n799\n00:34:29.186 --> 00:34:34.616\nI just wanted to be like a fraction of\nit cuz what I'm gonna do is I'm going\n\n800\n00:34:34.616 --> 00:34:41.307\nto browse through itprotv-dc2/c$, and\nI'm gonna browse into the Shares folders.\n\n801\n00:34:41.307 --> 00:34:46.346\nAnd into the Marketing folder, and there's\nthat data into the Marketing folder.\n\n802\n00:34:46.346 --> 00:34:51.789\nI'm also going to browse\n\n803\n00:34:51.789 --> 00:34:57.751\non Itpro.tv/svr1 /c$\n\n804\n00:34:57.751 --> 00:35:06.569\nI created a Marketing Share there also.\n\n805\n00:35:06.569 --> 00:35:12.142\nSo, I shared that marketing folder,\non ITProTV Server1, but it's empty.\n\n806\n00:35:12.142 --> 00:35:13.427\nI just created it, and\n\n807\n00:35:13.427 --> 00:35:17.940\nwe made a joke about how much of a pain\nit would be to copy the data over.\n\n808\n00:35:17.940 --> 00:35:23.110\nWell, DFS can actually take care\nof that replication for us.\n\n809\n00:35:23.110 --> 00:35:24.758\n>> Fantastic\n>> And it really is.\n\n810\n00:35:24.758 --> 00:35:26.980\n>> [LAUGH]\n>> The end-user sees this\n\n811\n00:35:26.980 --> 00:35:28.060\non the left side.\n\n812\n00:35:28.060 --> 00:35:31.390\nThey just see this one location,\nand there's their data.\n\n813\n00:35:31.390 --> 00:35:35.750\nBut when I set up DFS,\nit'll be able to balance, or distribute.\n\n814\n00:35:35.750 --> 00:35:36.350\n>> Right.\n[LAUGH]\n\n815\n00:35:36.350 --> 00:35:38.270\n>> The content across these two\n\n816\n00:35:38.270 --> 00:35:40.100\nactual locations over here for us.\n\n817\n00:35:40.100 --> 00:35:42.760\n>> Yeah,\nbecause at this point if DC1 went down,\n\n818\n00:35:42.760 --> 00:35:44.925\nwe would not have access\nto that Shared folder.\n\n819\n00:35:44.925 --> 00:35:45.580\n>> Yeah.\n\n820\n00:35:45.580 --> 00:35:47.150\nSo, I'm gonna jump back over\nto the Domain Controller.\n\n821\n00:35:48.190 --> 00:35:50.320\nAnd here's where I've got\nthat Marketing folder.\n\n822\n00:35:50.320 --> 00:35:51.930\nAnd I'm gonna pull up its Properties.\n\n823\n00:35:53.340 --> 00:35:57.284\nAnd in the properties of it, no,\nI don't want the properties,\n\n824\n00:35:57.284 --> 00:35:59.816\nI wanted the Add Folder\n>> [CROSSTALK]\n\n825\n00:35:59.816 --> 00:36:01.040\n>> There we go.\n\n826\n00:36:01.040 --> 00:36:03.470\nSo, if I go in here, actually hang on.\n\n827\n00:36:03.470 --> 00:36:04.810\nLet me go a slightly different way.\n\n828\n00:36:04.810 --> 00:36:07.160\nNotice on the left side here,\nI've got that Marketing, and\n\n829\n00:36:07.160 --> 00:36:09.060\nthat's where I can see the current target.\n\n830\n00:36:09.060 --> 00:36:11.468\nSo, there's the current one\nthat I've got on ITProTV DC2.\n\n831\n00:36:12.510 --> 00:36:15.020\nI can add another target.\n\n832\n00:36:15.020 --> 00:36:17.290\nI can say, don't just store\nthat folder right here on DC2.\n\n833\n00:36:17.290 --> 00:36:18.440\n>> All right.\n\n834\n00:36:18.440 --> 00:36:22.460\n>> Let's also store it,\nover on another server.\n\n835\n00:36:22.460 --> 00:36:25.670\nAnd I'm gonna browse, and\npick ITProTV Server1.\n\n836\n00:36:25.670 --> 00:36:27.800\nAnd again, you don't have to browse.\n\n837\n00:36:27.800 --> 00:36:29.020\nYou could just type it in.\n\n838\n00:36:29.020 --> 00:36:32.790\nI like to browse, just cuz it helps\nme make sure I don't get any typos.\n\n839\n00:36:32.790 --> 00:36:34.900\nAnd I'm gonna pick that Marketing folder.\n\n840\n00:36:34.900 --> 00:36:35.430\nThere we go.\n\n841\n00:36:35.430 --> 00:36:37.450\nAnd we'll add it in.\n\n842\n00:36:37.450 --> 00:36:40.550\nNow, it immediately sees\nthat I've added in a second\n\n843\n00:36:40.550 --> 00:36:41.380\nserver-\n>> Yeah.\n\n844\n00:36:41.380 --> 00:36:45.510\n>> And it says, would you like\nto create a replication group\n\n845\n00:36:45.510 --> 00:36:46.370\n>> Yes, we would\n\n846\n00:36:46.370 --> 00:36:47.080\n>> Absolutely-\n\n847\n00:36:47.080 --> 00:36:47.590\n>> Why wouldn't you?\n\n848\n00:36:47.590 --> 00:36:49.410\n>> It's really important.\n\n849\n00:36:49.410 --> 00:36:50.520\nYou could say no here.\n\n850\n00:36:50.520 --> 00:36:51.140\n>> All right.\n>> And then,\n\n851\n00:36:51.140 --> 00:36:53.560\nmanually set up a replication\ngroup yourself.\n\n852\n00:36:53.560 --> 00:36:54.430\nBut if you screw it up,\n\n853\n00:36:54.430 --> 00:36:55.900\nand you go backwards-\n>> Right.\n\n854\n00:36:55.900 --> 00:36:59.900\n>> Then, the empty folder on Server1,\nwould delete everything from DC2.\n\n855\n00:36:59.900 --> 00:37:00.980\nThat would be kind of bad.\n\n856\n00:37:00.980 --> 00:37:02.560\n>> [LAUGH] Yeah.\n>> By doing it this way,\n\n857\n00:37:02.560 --> 00:37:05.540\nit already knows that Server1\nis the newer empty server.\n\n858\n00:37:05.540 --> 00:37:06.350\n>> Yeah.\n>> We need to replicate it\n\n859\n00:37:06.350 --> 00:37:06.950\nin that direction.\n\n860\n00:37:06.950 --> 00:37:09.780\nSo, I'm gonna say yes, and\njust let it do it for me.\n\n861\n00:37:09.780 --> 00:37:11.480\nBut, we could do it by hand.\n\n862\n00:37:11.480 --> 00:37:14.920\nIf you do it by hand, this is the wizard-\n>> It's the same wizard that pops up.\n\n863\n00:37:14.920 --> 00:37:15.850\nYeah, you click No,\n\n864\n00:37:15.850 --> 00:37:18.250\non that first [INAUDIBLE] [LAUGH] you go\nover there to your replication groups,\n\n865\n00:37:18.250 --> 00:37:20.790\nthe new replication group, and\nthe same dern thing pops up.\n\n866\n00:37:20.790 --> 00:37:22.875\n>> [LAUGH] Nice thing here is they've\nalready filled everything out for you.\n\n867\n00:37:22.875 --> 00:37:24.810\n>> [LAUGH]\n>> That's the cool part.\n\n868\n00:37:24.810 --> 00:37:27.570\n>> Yeah.\n>> So, we just have a replication group\n\n869\n00:37:27.570 --> 00:37:29.930\nname, which by default is the share name-\n>> Right.\n\n870\n00:37:29.930 --> 00:37:34.290\n>> Your domain slash data\nslash Marketing in this case.\n\n871\n00:37:34.290 --> 00:37:37.500\nAnd I'll hit next,\nhere's the two servers, DC2, and\n\n872\n00:37:37.500 --> 00:37:39.730\nServer1 that are gonna be a part\nof this replication group.\n\n873\n00:37:41.020 --> 00:37:43.550\nAnd on the next group, or screen,\nI have to pick the primary member.\n\n874\n00:37:43.550 --> 00:37:45.192\nNow, this is a funny one.\n\n875\n00:37:45.192 --> 00:37:45.990\n>> It is.\n\n876\n00:37:45.990 --> 00:37:50.190\n>> The primary member is a temporary\nsetting, not a permanent thing.\n\n877\n00:37:50.190 --> 00:37:52.540\nFor the first replication,\n\n878\n00:37:52.540 --> 00:37:57.850\nI need to pick the server who has\nthe most accurate copy of that folder.\n\n879\n00:37:57.850 --> 00:37:58.802\nThat's easy for me.\n\n880\n00:37:58.802 --> 00:37:59.315\n[CROSSTALK]\n>> DC2.\n\n881\n00:37:59.315 --> 00:38:00.635\n>> It's the only copy of it, yeah.\n\n882\n00:38:00.635 --> 00:38:01.750\n>> Yeah, and the other guy's blank.\n\n883\n00:38:01.750 --> 00:38:03.150\n>> Yep.\n>> But in real life, and\n\n884\n00:38:03.150 --> 00:38:04.640\nif you've already done like staging,\n\n885\n00:38:04.640 --> 00:38:08.380\nif you've copied some data over ahead of\ntime, trying to get a head start on this.\n\n886\n00:38:08.380 --> 00:38:09.820\nIt may be a little bit\nmore difficult to pick,\n\n887\n00:38:09.820 --> 00:38:12.960\nwhoever has the most current\ncopy of the location.\n\n888\n00:38:12.960 --> 00:38:14.080\nI'll pick DC2.\n\n889\n00:38:14.080 --> 00:38:16.820\nNow, I say it's temporary.\n\n890\n00:38:16.820 --> 00:38:19.050\nOnce this replication group is set up, and\n\n891\n00:38:19.050 --> 00:38:23.610\nthe first replication finishes,\neverybody is current.\n\n892\n00:38:23.610 --> 00:38:25.840\nAnd now nobody is the primary.\n\n893\n00:38:25.840 --> 00:38:27.230\n>> All considered equal at that point.\n\n894\n00:38:27.230 --> 00:38:31.670\nThere is no more primary or primary,\nand secondary, or anything like that.\n\n895\n00:38:31.670 --> 00:38:34.290\n>> And you need that, cuz if the primary\nfails you don't want to be out of luck.\n\n896\n00:38:34.290 --> 00:38:36.350\nRight?\nThey're all equal at that point.\n\n897\n00:38:36.350 --> 00:38:37.940\n>> Multi-master.\n\n898\n00:38:37.940 --> 00:38:39.895\nI think that's the exact term, isn't it?\n\n899\n00:38:39.895 --> 00:38:41.255\n>> [LAUGH] I would assume.\n\n900\n00:38:41.255 --> 00:38:45.310\n>> [INAUDIBLE] I believe it's multi-master\nreplication, is what Microsoft calls it.\n\n901\n00:38:46.400 --> 00:38:47.850\nSo, we'll hit Next.\n\n902\n00:38:47.850 --> 00:38:52.090\nNow, when you have replication, there's a\nfew different models you could pick from.\n\n903\n00:38:52.090 --> 00:38:53.246\nWe've only got two servers.\n\n904\n00:38:53.246 --> 00:38:53.870\n>> [LAUGH]\n>> So,\n\n905\n00:38:53.870 --> 00:38:56.360\nsome of the options are grayed out for us.\n\n906\n00:38:56.360 --> 00:38:57.010\n>> What do you mean?\n\n907\n00:38:57.010 --> 00:38:58.730\nI can't do a hub and\nspoke with two servers?\n\n908\n00:38:58.730 --> 00:38:59.461\nI don't get it.\n\n909\n00:38:59.461 --> 00:39:00.821\n[LAUGH]\n>> [LAUGH] It\n\n910\n00:39:00.821 --> 00:39:02.588\nwould be like\n>> Yeah.\n\n911\n00:39:02.588 --> 00:39:05.240\n[LAUGH]\n>> So, a full is the default, and\n\n912\n00:39:05.240 --> 00:39:08.750\nthat means that every server\nreplicates to each other.\n\n913\n00:39:08.750 --> 00:39:12.485\nThat is good,\nif they're all on the same LAN.\n\n914\n00:39:12.485 --> 00:39:13.060\n>> Yeah.\n>> But\n\n915\n00:39:13.060 --> 00:39:15.190\nif you've got a wide\narea network in place,\n\n916\n00:39:15.190 --> 00:39:18.970\nyou probably wanna minimize how many\npeople are replicating across the WAN.\n\n917\n00:39:18.970 --> 00:39:21.515\n>> And in that case a hub and\nspoke is a better topology.\n\n918\n00:39:21.515 --> 00:39:22.030\n>> Yeah.\n>> So\n\n919\n00:39:22.030 --> 00:39:26.890\nmy rule of thumb is, if all the servers\nare one land, go full It works great.\n\n920\n00:39:27.900 --> 00:39:29.920\nIf you've got a wide area network.\n\n921\n00:39:29.920 --> 00:39:30.661\nIf they're\n\n922\n00:39:30.661 --> 00:39:33.470\nin different locations use a or-\n>> Go ahead.\n\n923\n00:39:33.470 --> 00:39:36.780\n>> I was going to say,\nyou could go completely custom.\n\n924\n00:39:36.780 --> 00:39:38.330\n>> Right.\nYep, where you go back, and\n\n925\n00:39:38.330 --> 00:39:40.850\nset it up later after you've\ngot everything else configured.\n\n926\n00:39:40.850 --> 00:39:43.470\nMaybe you don't have that DFS\nserver at the branch office yet.\n\n927\n00:39:43.470 --> 00:39:46.030\nSo, you go no replication,\nand when you choose that\n\n928\n00:39:46.030 --> 00:39:49.610\nits not gonna replicate obviously,\ncuz you don't have a topology.\n\n929\n00:39:49.610 --> 00:39:53.461\nIt'll warn you, if you choose no topology\nits gonna come up with a message, and\n\n930\n00:39:53.461 --> 00:39:57.042\nsay no replication is going to occur\nuntil you actually set up a topology.\n\n931\n00:39:57.042 --> 00:40:02.522\n>> Yeah, and, if I had a, let's say at\nmy home office, I had four DFS servers.\n\n932\n00:40:02.522 --> 00:40:06.327\nAnd then, or folder targets And\nthen at my disaster recovery center,\n\n933\n00:40:06.327 --> 00:40:07.885\nI had another four targets.\n\n934\n00:40:07.885 --> 00:40:08.525\nRight?\n\n935\n00:40:08.525 --> 00:40:11.350\nI don't want all four to\nreplicate across the LAN.\n\n936\n00:40:11.350 --> 00:40:14.961\nSo I can manually do it where at\nthe disaster recovery center, three,\n\n937\n00:40:14.961 --> 00:40:18.207\nall four of those machines all\nreplicated with each other, and\n\n938\n00:40:18.207 --> 00:40:22.146\nat the home office, all four of those\nmachines replicated with each other.\n\n939\n00:40:22.146 --> 00:40:26.162\nBut then only one at each location would\nreplicate across the wind to minimize\n\n940\n00:40:26.162 --> 00:40:27.410\nthe amount of traffic.\n\n941\n00:40:27.410 --> 00:40:30.018\n>> We really start to see a lot of\nthe similarities between active\n\n942\n00:40:30.018 --> 00:40:30.930\ndirectory, right?\n\n943\n00:40:30.930 --> 00:40:33.990\nIt's like picking a bridgehead\nserver at your different sites.\n\n944\n00:40:33.990 --> 00:40:36.460\nNo reason for every one of them\nto replicate across that way.\n\n945\n00:40:36.460 --> 00:40:39.790\nI'm like, can you just need one guy to\nsend the changes over to the other site\n\n946\n00:40:39.790 --> 00:40:42.160\nand once it gets there they can\nreplicate within that land.\n\n947\n00:40:42.160 --> 00:40:42.850\n>> Yeah, absolutely.\n\n948\n00:40:42.850 --> 00:40:43.950\n>> It's the same thing we're doing here.\n\n949\n00:40:43.950 --> 00:40:46.630\n>> The only difference is that the active\ndirectory does it automatically.\n\n950\n00:40:46.630 --> 00:40:48.970\nWe don't get that here but\nthat's because we don't have sites.\n\n951\n00:40:48.970 --> 00:40:49.470\n>> Yeah.\n\n952\n00:40:50.480 --> 00:40:53.810\n>> I'll stick with full mesh just\nbecause we've got two servers,\n\n953\n00:40:53.810 --> 00:40:56.420\nit's gonna be full mesh\nno matter what we do.\n\n954\n00:40:56.420 --> 00:40:58.240\nSo, we'll hit next there.\n\n955\n00:40:58.240 --> 00:40:59.890\nThen it's gonna ask how\nwe want to replicate.\n\n956\n00:40:59.890 --> 00:41:01.120\n>> I like this screen, too.\n\n957\n00:41:01.120 --> 00:41:02.580\n>> One of the problems here,\n\n958\n00:41:02.580 --> 00:41:06.150\nwhat if somebody dumps like 100\ngigs of data in your DFS folder?\n\n959\n00:41:06.150 --> 00:41:10.300\nIt's gonna try and replicate that across\nyour network and you may not want that.\n\n960\n00:41:10.300 --> 00:41:12.260\n>> Not at nine o'clock in the morning for\nsure, right.\n\n961\n00:41:12.260 --> 00:41:16.220\n>> So, you may want to throttle the amount\nof bandwidth it can consume, and\n\n962\n00:41:16.220 --> 00:41:19.100\nyou'll see all these different options\nin here for specifying the amount of\n\n963\n00:41:19.100 --> 00:41:23.190\nbandwidth it's allowed to use,\nyou can also set a schedule.\n\n964\n00:41:23.190 --> 00:41:25.220\nNow here's the problem, all right?\n\n965\n00:41:25.220 --> 00:41:28.430\nWhen you set a schedule, or\nwhen you limit the bandwidth,\n\n966\n00:41:28.430 --> 00:41:32.540\nit's going to make it take longer to\nreplicate data from point A to point B,\n\n967\n00:41:32.540 --> 00:41:37.860\nwhich is going to increase the odds of\nsomebody making a change on one end and\n\n968\n00:41:37.860 --> 00:41:40.190\nsomebody else making\na change on the other end.\n\n969\n00:41:40.190 --> 00:41:43.330\nAnd now you have a replication conflict,\nright?\n\n970\n00:41:43.330 --> 00:41:47.775\nNow, if Mike changes a file on Server\n1 and I change a file on Server\n\n971\n00:41:47.775 --> 00:41:52.505\n2 when they go to replicate whoever\nmade the change last, wins.\n\n972\n00:41:52.505 --> 00:41:53.135\n>> That's gonna be me.\n\n973\n00:41:53.135 --> 00:41:53.745\nI'm the lazy one.\n\n974\n00:41:53.745 --> 00:41:56.815\nI always put it off to the last minute so\nmy changes are gonna win.\n\n975\n00:41:56.815 --> 00:41:59.205\n>> And mine will just be gone and\nI'll be pissed off, so.\n\n976\n00:41:59.205 --> 00:41:59.895\n>> Yeah absolutely [LAUGH].\n\n977\n00:41:59.895 --> 00:42:03.240\n>> [LAUGH] So we want to avoid that.\n\n978\n00:42:03.240 --> 00:42:06.180\nIf you have a lot of contention like that\nif you have a lot of people accessing\n\n979\n00:42:06.180 --> 00:42:09.160\nthis stuff, you want as short\nof replication time as possible.\n\n980\n00:42:09.160 --> 00:42:11.820\nSo you want to be able to\nuse like full bandwidth.\n\n981\n00:42:11.820 --> 00:42:15.495\nBut that's not always possible if you've\ngot remote locations that are on or\n\n982\n00:42:15.495 --> 00:42:18.560\ndial-up or real low bandwidth,\nyou might need to say, you know what.\n\n983\n00:42:18.560 --> 00:42:20.450\nOnly replicate in the evenings.\n\n984\n00:42:20.450 --> 00:42:24.880\nYou can come in and state that and\njust say hey maybe Sunday,\n\n985\n00:42:24.880 --> 00:42:32.000\nwe will allow replication all day long,\n\n986\n00:42:32.000 --> 00:42:32.684\nfull bandwidth and same thing with\nSaturday, all day long, full bandwidth.\n\n987\n00:42:32.684 --> 00:42:33.833\nOkay?\n\n988\n00:42:33.833 --> 00:42:37.978\nBut from 8 AM to 5 PM,\nMonday through Friday,\n\n989\n00:42:37.978 --> 00:42:44.627\nI'm going to put a cap on there saying\nno more than two megabit of bandwidth.\n\n990\n00:42:44.627 --> 00:42:45.207\n>> Mm-hm.\n\n991\n00:42:45.207 --> 00:42:46.240\n>> All right.\n\n992\n00:42:46.240 --> 00:42:48.480\nBut then in the evening,\nyou can go full tilt.\n\n993\n00:42:48.480 --> 00:42:51.060\nRight?\nFour application, use all you want.\n\n994\n00:42:51.060 --> 00:42:53.780\n>> Or then maybe you got some backup or\nsome maintenance Windows that occur in\n\n995\n00:42:53.780 --> 00:42:56.360\nthe middle of the night and\nyou want to say no replication occurs.\n\n996\n00:42:56.360 --> 00:42:57.320\n>> Good point.\n\n997\n00:42:57.320 --> 00:43:01.620\nSo maybe from like 2 to 4 AM is when my\nbackups run and my backups are consuming\n\n998\n00:43:01.620 --> 00:43:04.520\nbandwidth also so we can just\nsay no replication right there.\n\n999\n00:43:04.520 --> 00:43:07.460\nSo you can create a really\ngranular schedule.\n\n1000\n00:43:07.460 --> 00:43:11.704\nYou can really dial in your\nneeds here which is pretty cool.\n\n1001\n00:43:11.704 --> 00:43:12.563\n>> I like that.\n\n1002\n00:43:12.563 --> 00:43:15.322\n>> Just be aware that when you create\ndelays like that of people working in\n\n1003\n00:43:15.322 --> 00:43:18.155\nyour system, you're increasing\nthe odds of a replication conflict.\n\n1004\n00:43:20.987 --> 00:43:23.814\n>> Got that long, what is it,\nconvergence I guess.\n\n1005\n00:43:23.814 --> 00:43:26.530\n>> You're the Cisco guy,\nconvergence, yeah.\n\n1006\n00:43:26.530 --> 00:43:27.410\nCisco loves that word.\n\n1007\n00:43:27.410 --> 00:43:29.240\nMicrosoft doesn't use it as much but\nyou know.\n\n1008\n00:43:29.240 --> 00:43:31.990\n>> Latency.\n>> Your said to have a converged network\n\n1009\n00:43:31.990 --> 00:43:35.160\nwhen every server has the same\ncopy of every other server's data.\n\n1010\n00:43:35.160 --> 00:43:37.470\nSo when it all got the same set of data,\nit's converged.\n\n1011\n00:43:38.760 --> 00:43:41.070\nAll right, so I'm going to go ahead and\njust say replicate continuously, and\n\n1012\n00:43:41.070 --> 00:43:41.970\nI'll give it full bandwidth.\n\n1013\n00:43:41.970 --> 00:43:42.820\nWhat the heck?\n\n1014\n00:43:42.820 --> 00:43:44.750\nOurs is really small, so\nit doesn't really matter.\n\n1015\n00:43:44.750 --> 00:43:46.340\nAll right.\n\n1016\n00:43:46.340 --> 00:43:48.880\nAnd then we'll go ahead and\ncreate that group.\n\n1017\n00:43:48.880 --> 00:43:50.900\nSo there it goes, churning along.\n\n1018\n00:43:50.900 --> 00:43:54.010\nNow remember, the folder on Server 1 for\n\n1019\n00:43:54.010 --> 00:43:56.920\nme was empty because I just\ncreated that shared folder.\n\n1020\n00:43:56.920 --> 00:44:00.320\nSo after it sets this up it's gonna\ndo the first replication, and\n\n1021\n00:44:00.320 --> 00:44:02.590\nthen I should have data\non that other server.\n\n1022\n00:44:02.590 --> 00:44:05.190\nNow this could take a while.\n\n1023\n00:44:05.190 --> 00:44:06.420\nCould take a long while, right?\n\n1024\n00:44:06.420 --> 00:44:07.820\nIf it's a lot of data.\n\n1025\n00:44:07.820 --> 00:44:11.020\nSo one of the things that we'll often\ndo is do what's called prestaging.\n\n1026\n00:44:11.020 --> 00:44:11.610\n>> Yes.\n\n1027\n00:44:11.610 --> 00:44:14.750\n>> I can take a backup of\nthe shared folder on DC2.\n\n1028\n00:44:15.790 --> 00:44:19.121\nAnd then restore that backup on\nServer 1 before we set this up.\n\n1029\n00:44:19.121 --> 00:44:21.196\nAnd then when we set it up,\nit'll see all those files,\n\n1030\n00:44:21.196 --> 00:44:24.088\nit'll check them to make sure they're\nnot modified, and if they aren't,\n\n1031\n00:44:24.088 --> 00:44:26.095\nit can skip over them and\nsave you a ton of bandwidth.\n\n1032\n00:44:26.095 --> 00:44:29.374\n>> And if there are a few files that have\nbeen changed, it just have to replicate\n\n1033\n00:44:29.374 --> 00:44:32.210\nthose few changes instead of\nthat entire folder structure.\n\n1034\n00:44:32.210 --> 00:44:35.790\n>> And you'll absolutely want that if\nthis is being done at a remote location.\n\n1035\n00:44:35.790 --> 00:44:38.190\n>> Yep.\n>> It's a lot easier to take a backup,\n\n1036\n00:44:38.190 --> 00:44:40.790\nand then send the backup tape or\nhard drive or\n\n1037\n00:44:40.790 --> 00:44:44.180\nwhatever by mail than it is\nto send it over the wire.\n\n1038\n00:44:44.180 --> 00:44:47.455\nAll right, so it says it's done.\n\n1039\n00:44:47.455 --> 00:44:48.680\n>> Mm-hm.\n\n1040\n00:44:48.680 --> 00:44:50.490\n>> And let's see, it is.\n\n1041\n00:44:50.490 --> 00:44:54.260\n>> It won't replicate until what,\nuntil that darn polling interval comes up.\n\n1042\n00:44:54.260 --> 00:44:57.630\nWhich is by default what long polling,\n60 minutes I believe.\n\n1043\n00:44:57.630 --> 00:44:58.860\n>> That's something crazy like that.\n\n1044\n00:44:58.860 --> 00:45:02.880\nIt's letting us know replication will not\nbegin until the configuration is picked up\n\n1045\n00:45:02.880 --> 00:45:04.860\nby the members of the replication group.\n\n1046\n00:45:04.860 --> 00:45:08.430\nIt depends on the active directory\nreplication latency as well as\n\n1047\n00:45:08.430 --> 00:45:09.110\nthe pulling interval.\n\n1048\n00:45:09.110 --> 00:45:10.387\nIf.\n>> Cuz at this point server,\n\n1049\n00:45:10.387 --> 00:45:12.099\nwhat did we do, Server 1, Server 3?\n\n1050\n00:45:12.099 --> 00:45:13.248\n>> Server 1.\n\n1051\n00:45:13.248 --> 00:45:16.340\n>> Server 1, he doesn't even know that\nhe's part of this replication group yet.\n\n1052\n00:45:16.340 --> 00:45:17.860\nWe just set it up on this guy but\n\n1053\n00:45:17.860 --> 00:45:20.410\nhe has no idea that we made\nthis replication [INAUDIBLE].\n\n1054\n00:45:20.410 --> 00:45:23.500\n>> If they were both domain controllers\nwhich we wouldn't normally use for\n\n1055\n00:45:23.500 --> 00:45:24.080\nfolder targets, but\n\n1056\n00:45:24.080 --> 00:45:27.800\nif they're both domain controllers, the\nreplication would happen within 5 minutes.\n\n1057\n00:45:27.800 --> 00:45:31.800\nBut if it's a member server, it can take\nas many as 90 minutes for it to occur so\n\n1058\n00:45:31.800 --> 00:45:33.100\nwe might have to be patient.\n\n1059\n00:45:33.100 --> 00:45:36.120\nNow there are ways to kick it along and\nstuff.\n\n1060\n00:45:36.120 --> 00:45:38.170\nBut it's best not to do that.\n\n1061\n00:45:38.170 --> 00:45:41.200\n>> Right?\n>> If you force it along weird things\n\n1062\n00:45:41.200 --> 00:45:42.020\ncan happen.\n\n1063\n00:45:42.020 --> 00:45:46.010\nBut I do see that I've got the two\nfolders in place there, and\n\n1064\n00:45:46.010 --> 00:45:47.750\nI've got a replication tab now.\n\n1065\n00:45:47.750 --> 00:45:51.790\nI can go to look at it, I can see\nthat our replication is enabled, and\n\n1066\n00:45:51.790 --> 00:45:53.010\nthat it's ready to go.\n\n1067\n00:45:53.010 --> 00:45:54.230\nAll right?\n\n1068\n00:45:54.230 --> 00:45:57.840\nNow, before we push on, because\nreplication hasn't actually happened yet.\n\n1069\n00:45:57.840 --> 00:46:01.020\nLet's just take a look at some\nof the stuff that we see here.\n\n1070\n00:46:01.020 --> 00:46:02.070\n>> Okay.\n>> All right?\n\n1071\n00:46:02.070 --> 00:46:06.660\nSo I know that I'm now replicating\nbetween DC2 and Server 1, right?\n\n1072\n00:46:06.660 --> 00:46:09.730\nAnd notice over here there's\nwhat's called a staging quota.\n\n1073\n00:46:09.730 --> 00:46:10.300\n>> That's right.\n\n1074\n00:46:10.300 --> 00:46:12.530\n>> And it's set to 4 gigabyte by default.\n\n1075\n00:46:12.530 --> 00:46:13.910\nWhat is that?\n\n1076\n00:46:13.910 --> 00:46:16.980\n>> That's that place where all those files\nare going to be stage at, it has to look\n\n1077\n00:46:16.980 --> 00:46:20.790\nat the files and determine if it has\nbeen changed since the last replication.\n\n1078\n00:46:20.790 --> 00:46:22.400\nAnd then it's gonna prestage them.\n\n1079\n00:46:22.400 --> 00:46:24.420\nIt's gonna get them\nready to replicate over.\n\n1080\n00:46:24.420 --> 00:46:28.050\nAnd that's basically how much\nspace we're saying you hold\n\n1081\n00:46:28.050 --> 00:46:30.520\nthat you have available for\nthat prestaging process.\n\n1082\n00:46:30.520 --> 00:46:33.230\n>> Now if your company\nworks with large files,\n\n1083\n00:46:33.230 --> 00:46:36.690\nyou can fill up the staging\nquota pretty handily.\n\n1084\n00:46:36.690 --> 00:46:39.830\nAnd so that can kind of degrade\nperformance on the replication side.\n\n1085\n00:46:39.830 --> 00:46:43.620\nSo you might need to customize that a bit,\nmake it larger or whatever.\n\n1086\n00:46:43.620 --> 00:46:47.820\nFor most organizations we're talking about\nsmall documents, Word documents, images,\n\n1087\n00:46:47.820 --> 00:46:51.960\nthings that are maybe a meg in size\ntypically, and so 4 gig is plenty.\n\n1088\n00:46:51.960 --> 00:46:54.110\n>> And if I'm not mistaken, it's really\njust replicating the changed blocks,\n\n1089\n00:46:54.110 --> 00:46:56.990\nit's not even having to\nreplicate the entire file.\n\n1090\n00:46:56.990 --> 00:47:01.210\n>> You know, do we want to talk about\nremote differential compression?\n\n1091\n00:47:01.210 --> 00:47:02.165\n>> I don't know.\n\n1092\n00:47:02.165 --> 00:47:04.062\n[LAUGH]\n>> I make fun of it,\n\n1093\n00:47:04.062 --> 00:47:06.200\nit is in the objective list.\n\n1094\n00:47:06.200 --> 00:47:07.680\nRemote deferential compression.\n\n1095\n00:47:07.680 --> 00:47:10.760\nOf all the Microsoft technologies,\nit's one\n\n1096\n00:47:10.760 --> 00:47:13.870\nthat they named that they just didn't\nbother to make it not sound technical.\n\n1097\n00:47:13.870 --> 00:47:15.430\nNormally they come up with fancy names.\n\n1098\n00:47:15.430 --> 00:47:19.230\nLike this is replication to go or\neasy rep.\n\n1099\n00:47:19.230 --> 00:47:20.870\nOr something like that.\n\n1100\n00:47:20.870 --> 00:47:24.390\nBut no this one's remote\ndifferential compression.\n\n1101\n00:47:24.390 --> 00:47:28.500\nWhen a file is modified, right,\nlet's say it's an image file.\n\n1102\n00:47:28.500 --> 00:47:32.910\nAnd so, I've got a image and\nit's a map of the United States, right.\n\n1103\n00:47:32.910 --> 00:47:35.735\nAnd it's labeled places not to go, right.\n\n1104\n00:47:35.735 --> 00:47:40.960\n[LAUGH] And so, I've got a big X on Texas.\n\n1105\n00:47:40.960 --> 00:47:43.540\nDon't go to Texas, they'll kill you.\n\n1106\n00:47:43.540 --> 00:47:47.730\nSo I've got it marked and\nthen I decide Florida, you're off my list.\n\n1107\n00:47:47.730 --> 00:47:49.831\nSo I throw a big X on Florida, right?\n\n1108\n00:47:49.831 --> 00:47:52.119\nWell, I changed that image, but\n\n1109\n00:47:52.119 --> 00:47:57.203\nthe whole image didn't change just\nsome of the data that's inside of it.\n\n1110\n00:47:57.203 --> 00:48:00.163\nThe bulk of that image file is unchanged.\n\n1111\n00:48:00.163 --> 00:48:02.853\nSo when we replicate changes,\nthe old style was to go ahead and\n\n1112\n00:48:02.853 --> 00:48:04.006\njust copy the whole file.\n\n1113\n00:48:04.006 --> 00:48:05.440\n>> The whole darn thing.\n\n1114\n00:48:05.440 --> 00:48:07.390\n>> You know.\nIf it was a word document,\n\n1115\n00:48:07.390 --> 00:48:10.070\nit was 500 pages and\nI only changed one page,\n\n1116\n00:48:10.070 --> 00:48:12.761\nwe replicated all 500\npages to the other side.\n\n1117\n00:48:12.761 --> 00:48:15.360\nRight.\nBut with remote differential compression,\n\n1118\n00:48:15.360 --> 00:48:20.300\nit does a hash of the file and\nactually locates the blocks that change.\n\n1119\n00:48:20.300 --> 00:48:23.470\nThe individual blocks in side it and you\nknow, I don't remember the smallest block.\n\n1120\n00:48:23.470 --> 00:48:24.930\nThe smallest clock is like eight K?\n\n1121\n00:48:24.930 --> 00:48:26.890\n>> I wanna say eight K, but\nI could be wrong on that.\n\n1122\n00:48:26.890 --> 00:48:27.570\n>> It's something small.\n\n1123\n00:48:27.570 --> 00:48:29.510\nSo like eight kilobytes or something.\n\n1124\n00:48:29.510 --> 00:48:35.400\nAnd so it finds just those blocks that\nchanged and just replicates the blocks.\n\n1125\n00:48:35.400 --> 00:48:37.420\nAnd at the other side, they reassemble it.\n\n1126\n00:48:37.420 --> 00:48:42.070\nIt is extremely efficient and it means\nthat while you may have large files if\n\n1127\n00:48:42.070 --> 00:48:44.940\nyou're making minor changes to them\nit could be a very small amount.\n\n1128\n00:48:44.940 --> 00:48:48.140\n>> So you're saving a lot of bandwidth and\na lot of time to do that replication.\n\n1129\n00:48:48.140 --> 00:48:51.980\n>> The only negative though is a lot of\npeople are working with encrypted files\n\n1130\n00:48:51.980 --> 00:48:54.840\nnow, and if the files are encrypted\neven if you make a small change,\n\n1131\n00:48:54.840 --> 00:48:56.040\nthe whole files changes.\n\n1132\n00:48:56.040 --> 00:48:58.670\nAnd so it doesn't help with those, right?\n\n1133\n00:48:58.670 --> 00:49:02.980\nBut unencrypted data, data that\nthe blocks stay the same when you make\n\n1134\n00:49:02.980 --> 00:49:06.500\na minor change,\nit can really make a difference, and so\n\n1135\n00:49:06.500 --> 00:49:09.820\nthat's what Mike was talking about\nthere and that is on by default.\n\n1136\n00:49:09.820 --> 00:49:11.600\nWe don't have to turn that on, do we?\n\n1137\n00:49:11.600 --> 00:49:12.290\n>> I'm pretty sure, yeah.\n\n1138\n00:49:12.290 --> 00:49:13.910\nIt uses it out of the box.\n\n1139\n00:49:13.910 --> 00:49:18.040\n>> I'm just gonna go here\n>> If you ever want to modify\n\n1140\n00:49:18.040 --> 00:49:22.510\nyour replication settings, you can see\nthe replication information here, but\n\n1141\n00:49:22.510 --> 00:49:24.320\nyou can't really mess with it.\n\n1142\n00:49:24.320 --> 00:49:28.250\nYou have to go under replication and\nfind the folder there.\n\n1143\n00:49:28.250 --> 00:49:30.940\nAnd that's where you can go in and\nstart to work with the properties of that\n\n1144\n00:49:30.940 --> 00:49:35.620\nreplication group and see various things\nlike here I can edit the schedule for it.\n\n1145\n00:49:35.620 --> 00:49:40.460\n>> And buried in here somewhere is\nwhere we can find the settings on\n\n1146\n00:49:41.510 --> 00:49:44.390\na, or not?\n\n1147\n00:49:44.390 --> 00:49:45.770\nDo we just have that in?\n\n1148\n00:49:45.770 --> 00:49:48.584\nWe might have to use power\nshell to turn it off.\n\n1149\n00:49:48.584 --> 00:49:51.360\n>> I think so, I don't think you can do-\n>> It's turned on by default.\n\n1150\n00:49:51.360 --> 00:49:53.830\nI know you can turn it off so\nit always replicates the files but\n\n1151\n00:49:53.830 --> 00:49:56.200\nI think you have to do that through\npower shell and I don't see it here.\n\n1152\n00:49:57.340 --> 00:49:58.310\n>> All right,\n\n1153\n00:49:58.310 --> 00:50:01.920\nwhile I'm in here there's some really\ngood stuff like the diagnostic report.\n\n1154\n00:50:01.920 --> 00:50:04.480\nThat can show if if you've got\nlatency it can show you if\n\n1155\n00:50:04.480 --> 00:50:06.340\nthere's files that have\nfailed to replicate.\n\n1156\n00:50:06.340 --> 00:50:07.790\nIt will show you replication conflicts.\n\n1157\n00:50:07.790 --> 00:50:09.620\nIt will show you some really good stuff.\n\n1158\n00:50:09.620 --> 00:50:12.700\n>> Doesn't it give us the ability\nto create a little test file and\n\n1159\n00:50:12.700 --> 00:50:15.260\nactually propagate that and\nthen throw a report back and so\n\n1160\n00:50:15.260 --> 00:50:17.280\nyou can test your replication topology.\n\n1161\n00:50:17.280 --> 00:50:20.130\n>> And you've got the verified topology\nwhere it reaches out to each of those\n\n1162\n00:50:20.130 --> 00:50:23.710\nservers and does that test so its got\nsome neat function for verifying it.\n\n1163\n00:50:23.710 --> 00:50:26.170\nNow I go a little more basic.\n\n1164\n00:50:26.170 --> 00:50:27.350\nMy means for\n\n1165\n00:50:27.350 --> 00:50:32.270\nverifying it is to look at the dag gone\nthings and And there we go, I can see.\n\n1166\n00:50:32.270 --> 00:50:33.550\nRemember this was blank down here.\n\n1167\n00:50:33.550 --> 00:50:34.840\nThere was nothing in it.\n\n1168\n00:50:34.840 --> 00:50:38.680\nIt's replicated that marketing folder\nover and now I can see that data.\n\n1169\n00:50:38.680 --> 00:50:41.260\n>> Beautiful.\n>> It happened relatively quickly for us.\n\n1170\n00:50:41.260 --> 00:50:42.790\nWe said it could be as long as 90 minutes.\n\n1171\n00:50:42.790 --> 00:50:45.410\nIt depends on when you\nfall in that window.\n\n1172\n00:50:45.410 --> 00:50:48.440\nFor us it happened pretty quick,\nbut these are now the same,\n\n1173\n00:50:48.440 --> 00:50:53.920\nand if I make changes on one, they should\nget replicated to the other side so,\n\n1174\n00:50:53.920 --> 00:50:56.690\nlike if I open up my marketing\ncampaign on the second server.\n\n1175\n00:50:56.690 --> 00:51:00.040\nI guess I left it empty, I never really\nput anything in there, so let me do this,\n\n1176\n00:51:00.040 --> 00:51:04.252\nI'll put something in here in.\n\n1177\n00:51:04.252 --> 00:51:08.090\nAll right, so now I have actually\npopulated that file and if I look at it's\n\n1178\n00:51:08.090 --> 00:51:12.770\nfile size over here it's now one\nkilobyte as opposed to zero kilobytes.\n\n1179\n00:51:12.770 --> 00:51:16.620\nAnd let me take this banner ad,\nwe never put anything in that either.\n\n1180\n00:51:16.620 --> 00:51:18.280\nAnd do we have paint, we do.\n\n1181\n00:51:18.280 --> 00:51:21.954\nLet me show you guys my wicked\nsweet paint skills here.\n\n1182\n00:51:29.044 --> 00:51:30.388\n>> Don't quit his day job, right?\n\n1183\n00:51:30.388 --> 00:51:30.975\n[LAUGH]\n>> That's right.\n\n1184\n00:51:30.975 --> 00:51:33.845\nLet me just do a little happy tree.\n\n1185\n00:51:33.845 --> 00:51:34.670\nThere we go.\nAll right.\n\n1186\n00:51:34.670 --> 00:51:35.630\nA happy house.\n\n1187\n00:51:35.630 --> 00:51:38.280\nBetter than the horse I\ndrew in that one episode.\n\n1188\n00:51:38.280 --> 00:51:39.228\n>> That is true.\n\n1189\n00:51:39.228 --> 00:51:42.260\n[LAUGH]\n>> I don't think I've offended anybody's\n\n1190\n00:51:42.260 --> 00:51:44.370\nsensibilities with this one.\n\n1191\n00:51:44.370 --> 00:51:45.400\n>> [LAUGH]\n>> I just populated that.\n\n1192\n00:51:45.400 --> 00:51:47.950\nI want to do a picture because\nbitmaps can be pretty big.\n\n1193\n00:51:47.950 --> 00:51:49.330\nSee it's 840K.\n\n1194\n00:51:49.330 --> 00:51:50.500\nI just made that change.\n\n1195\n00:51:50.500 --> 00:51:53.290\nWe've got our replication\nset to go full tilt.\n\n1196\n00:51:53.290 --> 00:51:55.250\nI can see it's already replicated.\n\n1197\n00:51:55.250 --> 00:51:59.110\nThat fast, if I look at my ad campaign,\nsomething is in there.\n\n1198\n00:51:59.110 --> 00:52:03.580\nIf I look at my banner ad,\nmy resolution is too low.\n\n1199\n00:52:03.580 --> 00:52:05.180\nStupid Windows Photo Viewer.\n\n1200\n00:52:05.180 --> 00:52:05.980\nThat thing.\n\n1201\n00:52:05.980 --> 00:52:06.910\nThere we go.\n\n1202\n00:52:06.910 --> 00:52:12.030\nI can see that I got the house so\nit's replicating very, very fast\n\n1203\n00:52:12.030 --> 00:52:16.060\nright now because we have it set to full\nband width replication whenever we can.\n\n1204\n00:52:17.340 --> 00:52:19.500\nIf we'd set a band with limit or\n\n1205\n00:52:19.500 --> 00:52:22.619\na schedule then that replication\nmay not have happened that fast.\n\n1206\n00:52:23.970 --> 00:52:28.570\nAll right now the end user\nhas no idea that there's\n\n1207\n00:52:28.570 --> 00:52:33.270\ntwo servers involved in\nthe shared folder any more.\n\n1208\n00:52:33.270 --> 00:52:38.358\nThey don't even know,\nthey're browsing to lab.itpro.tv/data,\n\n1209\n00:52:38.358 --> 00:52:42.970\nin there they see that marketing\nfolder and they don't know.\n\n1210\n00:52:42.970 --> 00:52:44.720\nBut then,\nif they create something in here.\n\n1211\n00:52:44.720 --> 00:52:45.970\nSo I'll create another document.\n\n1212\n00:52:45.970 --> 00:52:49.470\nLet me do a new -- we'll do\nanother text document, and\n\n1213\n00:52:49.470 --> 00:52:51.160\nI'll call this \"My Secret Files.\" Now,\n\n1214\n00:52:51.160 --> 00:52:54.850\nI can see a new document just appeared\non the right side, in the top folder.\n\n1215\n00:52:54.850 --> 00:52:56.900\nThat is DC 2, so\n\n1216\n00:52:56.900 --> 00:53:00.720\nthat's my domain controller, and\nI'm just going to rename it Secret Files.\n\n1217\n00:53:00.720 --> 00:53:03.630\nAnd see how it just appeared\nover there on server one.\n\n1218\n00:53:03.630 --> 00:53:07.336\nSo that's automatic it's replicating and\nit's in place.\n\n1219\n00:53:07.336 --> 00:53:08.100\n>> Beautiful.\n\n1220\n00:53:08.100 --> 00:53:12.273\n>> Now the real power here if\nDC2 fails I'm connected to it.\n\n1221\n00:53:12.273 --> 00:53:13.440\n>> Right\n>> But\n\n1222\n00:53:13.440 --> 00:53:17.650\nI will automatically\nconnect over to server one.\n\n1223\n00:53:17.650 --> 00:53:20.130\nAnd the end user doesn't even see them,\nright?\n\n1224\n00:53:20.130 --> 00:53:21.010\nSo you know what?\n\n1225\n00:53:21.010 --> 00:53:22.130\nLet's demonstrate that.\n\n1226\n00:53:22.130 --> 00:53:23.860\nBut looking at the clock,\nwe're right at our break spot.\n\n1227\n00:53:23.860 --> 00:53:27.360\nSo, anything you wanna\nthrow in before break?\n\n1228\n00:53:27.360 --> 00:53:27.960\n>> No, I think we're good.\n\n1229\n00:53:27.960 --> 00:53:29.790\n>> Okay, so, let's stop here and\nwe'll take a break.\n\n1230\n00:53:29.790 --> 00:53:33.285\nWhen we get back, I wanna show you\nguys a failure and how it resolves or,\n\n1231\n00:53:33.285 --> 00:53:35.749\n[CROSSTALK] You won't even\nknow what's going on.\n\n1232\n00:53:35.749 --> 00:53:36.820\n[LAUGH]\n>> [LAUGH] So we'll take\n\n1233\n00:53:36.820 --> 00:53:40.390\na look at that and then we'll continue\nexploring some of the features of DFS.\n\n1234\n00:53:40.390 --> 00:53:44.446\nStay tuned more after this.\n\n1235\n00:53:44.446 --> 00:53:52.295\n[SOUND] Alright welcome back everybody.\n\n1236\n00:53:52.295 --> 00:53:55.450\nSo so during the break we actually\nhad an interesting conversation.\n\n1237\n00:53:55.450 --> 00:53:56.700\nNate our producer is over there.\n\n1238\n00:53:56.700 --> 00:53:59.900\nHe was fervently digging\nthrough his tech articles.\n\n1239\n00:53:59.900 --> 00:54:03.420\nWe mention the remote\ndifferential compression and\n\n1240\n00:54:03.420 --> 00:54:08.250\nhow I said I thought the block size\nwas 8 KB, so I was wrong on that one.\n\n1241\n00:54:08.250 --> 00:54:11.730\nIt's actually 64 kilobytes,\nthat's the size of the block.\n\n1242\n00:54:11.730 --> 00:54:14.220\nSo, why is that important to us?\n\n1243\n00:54:14.220 --> 00:54:17.050\nIf your file is smaller than 64 kilobyte,\n\n1244\n00:54:17.050 --> 00:54:19.170\nthen it's just going to\nreplicate the whole file.\n\n1245\n00:54:19.170 --> 00:54:21.320\nYou know,\nthere's no sense in doing a block.\n\n1246\n00:54:21.320 --> 00:54:24.370\nBut if it's larger than 64 kilobytes,\nit can look and\n\n1247\n00:54:24.370 --> 00:54:25.809\njust replicate the part that change.\n\n1248\n00:54:27.040 --> 00:54:28.770\nThe other part of\nthe conversation that was really,\n\n1249\n00:54:28.770 --> 00:54:31.200\nreally interesting is,\nlet's take a look at this server.\n\n1250\n00:54:31.200 --> 00:54:34.540\nLet me pull this server back up.\n\n1251\n00:54:34.540 --> 00:54:40.630\nSo when we go into the server and\nwe set it up, we install the DFS role and\n\n1252\n00:54:40.630 --> 00:54:44.480\ngot all that kinda in place,\n>> Name, space, and replication.\n\n1253\n00:54:44.480 --> 00:54:49.290\n>> Well, back in the ad roles and\nfeatures wizard.\n\n1254\n00:54:49.290 --> 00:54:50.390\nI go back in here.\n\n1255\n00:54:53.040 --> 00:54:56.320\nMaybe just move forward\nto the features screen.\n\n1256\n00:54:56.320 --> 00:54:59.860\nHere in the features,\nyou'll find right there,\n\n1257\n00:54:59.860 --> 00:55:03.810\nremote differential compression and\nsee how it's not checked.\n\n1258\n00:55:03.810 --> 00:55:06.540\nSo the question that came up in\nthe break was if that's not checked,\n\n1259\n00:55:06.540 --> 00:55:09.070\ndoes that mean we're not using\nremote differential compression?\n\n1260\n00:55:09.070 --> 00:55:13.635\nThe answer is yes, wait,\nthe question was, does it mean, so no.\n\n1261\n00:55:13.635 --> 00:55:17.350\n[LAUGH] Either way, the point is that DFS\n\n1262\n00:55:17.350 --> 00:55:21.870\nis using remote differential compression\nby By default it's built into DFS.\n\n1263\n00:55:21.870 --> 00:55:26.960\nThis is remote differential progression\nopened up to third party applications.\n\n1264\n00:55:26.960 --> 00:55:31.330\nSo you might have a third party program\nthat's written that supports RDC,\n\n1265\n00:55:31.330 --> 00:55:33.150\nremove differential compression.\n\n1266\n00:55:33.150 --> 00:55:36.760\nAnd if you do, you need to turn this on so\nit's there for it to use.\n\n1267\n00:55:36.760 --> 00:55:40.200\n>> Right.\n>> But as far as DFS it's built in there.\n\n1268\n00:55:40.200 --> 00:55:43.750\nAnd the way you can verify\nif you have your doubts.\n\n1269\n00:55:43.750 --> 00:55:45.340\n>> We would never doubt you Don.\n\n1270\n00:55:45.340 --> 00:55:46.770\n>> I know but it happens.\n\n1271\n00:55:46.770 --> 00:55:51.720\nSo we can browse here under replication\nand find our replication group.\n\n1272\n00:55:51.720 --> 00:55:55.599\nIf you go into the connections tab,\nhere's where you'll see your servers and\n\n1273\n00:55:55.599 --> 00:55:56.911\nhow they're connected.\n\n1274\n00:55:56.911 --> 00:56:00.938\nAnd you can pull up\nthe properties of a server.\n\n1275\n00:56:00.938 --> 00:56:02.170\nAnd it's right in here.\n\n1276\n00:56:02.170 --> 00:56:04.340\nUse remote differential compression.\n\n1277\n00:56:04.340 --> 00:56:10.020\nIt's turned on by default, it's\ninstalled by default, for DFS all right.\n\n1278\n00:56:10.020 --> 00:56:13.870\nNot for third party programs to use,\nthat's what that other option is for.\n\n1279\n00:56:13.870 --> 00:56:16.010\nThe other thing,\nwe had a really good break.\n\n1280\n00:56:16.010 --> 00:56:18.720\nThe other thing that came up during\nbreak was, why is there a check mark,\n\n1281\n00:56:18.720 --> 00:56:20.830\nwhy would you want to turn this off?\n\n1282\n00:56:20.830 --> 00:56:23.990\nAnd there's really one scenario\nwhere you'd want to turn it off.\n\n1283\n00:56:23.990 --> 00:56:28.567\nIf you had a large quantity of\nfiles smaller than 64k, all right,\n\n1284\n00:56:28.567 --> 00:56:33.383\nif that was the case then you're just\nwasting disk IO doing the hashes,\n\n1285\n00:56:33.383 --> 00:56:35.730\nand checking for blocks you know.\n\n1286\n00:56:35.730 --> 00:56:38.199\nCuz you're gonna have to replicate\nthe whole file anyway, so\n\n1287\n00:56:38.199 --> 00:56:41.360\nyou might as well turn it off and\nit'll improve disk performance.\n\n1288\n00:56:41.360 --> 00:56:46.240\nI worked on a document\nimaging system before where\n\n1289\n00:56:46.240 --> 00:56:51.030\nI worked at an insurance company and every\npiece of paper that came into the company\n\n1290\n00:56:51.030 --> 00:56:53.000\nwas scanned into a digital system and\nthen destroyed.\n\n1291\n00:56:53.000 --> 00:56:55.320\nSo we were a paperless insurance company.\n\n1292\n00:56:55.320 --> 00:56:58.889\nWell the papers were\nimaged into TIF files and\n\n1293\n00:56:58.889 --> 00:57:03.630\nTIF files you're looking at,\nthe ones we do are pretty small.\n\n1294\n00:57:03.630 --> 00:57:04.920\n>> Just a single page?\n\n1295\n00:57:04.920 --> 00:57:07.830\n>> It was like one or\ntwo k per page, and so\n\n1296\n00:57:07.830 --> 00:57:13.800\nif you had a ten page document it'd\nbarely break 20k in most scenarios.\n\n1297\n00:57:13.800 --> 00:57:19.950\nAnd so we had literally millions of\nfiles that were under 64k in size.\n\n1298\n00:57:19.950 --> 00:57:23.150\nAnd in that scenario, remote differential\ncompression does not help you,\n\n1299\n00:57:23.150 --> 00:57:23.870\nyou might as well turn it off.\n\n1300\n00:57:23.870 --> 00:57:26.130\n>> You're gonna run hashes on every\nsingle one of those files, and\n\n1301\n00:57:26.130 --> 00:57:30.310\nthen replicate those hash values to try\nand determine if there's been any changes.\n\n1302\n00:57:30.310 --> 00:57:31.282\n>> And it's always time,\n\n1303\n00:57:31.282 --> 00:57:34.990\ncuz if the file stamp changes,\nreplicate it, that's all you need.\n\n1304\n00:57:34.990 --> 00:57:37.060\nSo that's why you can tun it off.\n\n1305\n00:57:37.060 --> 00:57:40.940\nIf you're dealing with normal files, Word\ndocuments that are a couple of hundred\n\n1306\n00:57:40.940 --> 00:57:46.040\nk or images or whatever, then by all\nmeans leave it on and it's suitable.\n\n1307\n00:57:47.470 --> 00:57:48.135\nAll right.\n\n1308\n00:57:48.135 --> 00:57:49.425\nSo.\n>> It looks like we can turn it off on\n\n1309\n00:57:49.425 --> 00:57:52.070\na per replication link basis there?\n\n1310\n00:57:52.070 --> 00:57:53.495\n>> Mm-hm.\n\n1311\n00:57:53.495 --> 00:57:56.825\nYeah and we've got just the two members\nin here, so it's not too bad but\n\n1312\n00:57:56.825 --> 00:57:58.305\nif you have a really big environment,\n\n1313\n00:57:58.305 --> 00:58:00.967\nit can be kind of annoying to go through,\nturn it on and off.\n\n1314\n00:58:00.967 --> 00:58:02.220\n[LAUGH]\n>> Right.\n\n1315\n00:58:02.220 --> 00:58:04.810\nBut it's based on the sending member,\n\n1316\n00:58:04.810 --> 00:58:07.470\nwhere it's coming from cuz that's\nthe person who has to calculate the box.\n\n1317\n00:58:08.900 --> 00:58:11.292\nAll right so those are a couple of\nthings that I wanted to point out,\n\n1318\n00:58:11.292 --> 00:58:13.021\nmake sure everybody had\na good understanding.\n\n1319\n00:58:13.021 --> 00:58:16.220\nNow I'm kind of glad we\ntook the break when we did.\n\n1320\n00:58:16.220 --> 00:58:18.890\nBecause we were talking about\ndoing fault tolerance and\n\n1321\n00:58:18.890 --> 00:58:22.525\nMike pointed out that I forgot a step and\nit's kind of an important step.\n\n1322\n00:58:22.525 --> 00:58:24.607\n>> Eh, maybe.\n\n1323\n00:58:24.607 --> 00:58:28.049\nDepends on what you default on for, we can\ndefault on this point for our files, so\n\n1324\n00:58:28.049 --> 00:58:29.021\nwere good to go there.\n\n1325\n00:58:29.021 --> 00:58:32.346\n>> We do have a replicated copy of our\nfiles, so if the server was destroyed we\n\n1326\n00:58:32.346 --> 00:58:35.900\ngot a complete copy of the files\nsomewhere else, we do have that.\n\n1327\n00:58:35.900 --> 00:58:37.330\nBut there is a little problem.\n\n1328\n00:58:37.330 --> 00:58:42.660\nIf we were to down DC2 right now, we would\nnot be able to connect to our shares.\n\n1329\n00:58:42.660 --> 00:58:44.650\nAnd the reason is we\nsetup our application for\n\n1330\n00:58:44.650 --> 00:58:47.740\nthe files, but not the namespace itself.\n\n1331\n00:58:48.770 --> 00:58:52.181\nIf I go up here to my namespace and\nI go to namespace servers,\n\n1332\n00:58:52.181 --> 00:58:56.345\nI only have IT Pro TV DC2,\nthat one domain controller, and that's it,\n\n1333\n00:58:56.345 --> 00:59:00.063\nand if that domain controller fails,\nI lose it all, all right.\n\n1334\n00:59:00.063 --> 00:59:01.500\n>> Yep.\n\n1335\n00:59:01.500 --> 00:59:04.680\n>> Now I said earlier that I normally\ninstall the namespace on multiple\n\n1336\n00:59:04.680 --> 00:59:07.920\ndomain controllers,\nthese don't have to be your file servers,\n\n1337\n00:59:07.920 --> 00:59:11.150\nwe're just doing that here because\nwe only have a few servers to use.\n\n1338\n00:59:11.150 --> 00:59:14.440\nSo I can now add in other\ndomain controllers or\n\n1339\n00:59:14.440 --> 00:59:18.080\nother member servers if I want, that's\nwhat I'm about to do and set those up so\n\n1340\n00:59:18.080 --> 00:59:20.770\nthat I do have a fully\nredundant namespace.\n\n1341\n00:59:20.770 --> 00:59:24.120\nThe namespace servers\njust hold the pointers.\n\n1342\n00:59:24.120 --> 00:59:26.260\nThey tell people how to get there.\n\n1343\n00:59:26.260 --> 00:59:29.290\nThey don't actually hold the file so it's\nnot like we're putting a lot of network\n\n1344\n00:59:29.290 --> 00:59:31.500\nbandwidth load on these guys or\nanything like that.\n\n1345\n00:59:31.500 --> 00:59:33.440\nBut I do need to add\nanother namespace server.\n\n1346\n00:59:33.440 --> 00:59:36.937\nSo I'm going to go in here, and\nwe will add a namespace server.\n\n1347\n00:59:38.380 --> 00:59:42.188\nWe're going to add, olditprotv-server1.\n\n1348\n00:59:45.938 --> 00:59:47.200\nThere we go.\n\n1349\n00:59:47.200 --> 00:59:47.880\nAll right.\n\n1350\n00:59:47.880 --> 00:59:50.187\nNow it will take a moment for\nthat to replicate and\n\n1351\n00:59:50.187 --> 00:59:53.710\nmake sure that the other\nsystem is happy and sees this.\n\n1352\n00:59:53.710 --> 00:59:58.620\nIf I hadn't installed the DFS roll on that\nother server, it would've warned me right\n\n1353\n00:59:58.620 --> 01:00:01.460\nthere and it would have offered\nto install it for me remotely.\n\n1354\n01:00:01.460 --> 01:00:02.710\nIt'll do that.\n>> Which is really cool.\n\n1355\n01:00:02.710 --> 01:00:03.938\nI like that capability.\n\n1356\n01:00:03.938 --> 01:00:07.414\nAs long as you don't have people\nusing that server or you know,\n\n1357\n01:00:07.414 --> 01:00:10.564\nI don't think DFS doesn't\nactually require a reboot but\n\n1358\n01:00:10.564 --> 01:00:14.980\nyou don't want to bring the server down\nwhile people are connected to it [LAUGH].\n\n1359\n01:00:14.980 --> 01:00:20.563\nSo now my namespace is redundant, so\nwhere I do my lookups, and the actual file\n\n1360\n01:00:20.563 --> 01:00:26.430\ndata is redundant so I could completely\nlose one server and still be operational.\n\n1361\n01:00:26.430 --> 01:00:27.660\nI've got full redundancy.\n\n1362\n01:00:27.660 --> 01:00:31.910\nThis is the same process I would follow\nif I was replacing the server, right.\n\n1363\n01:00:31.910 --> 01:00:36.150\nSo I'd replicate like this,\nI'd let all my users see the change and\n\n1364\n01:00:36.150 --> 01:00:38.970\nthen I would come back, and\nI would just delete DC2, right?\n\n1365\n01:00:38.970 --> 01:00:43.340\nAnd then I would go to the folder,\nand the folder targets, and\n\n1366\n01:00:43.340 --> 01:00:48.340\nI would delete DC2 from here,\nleaving just SVR1, now everybody's moved\n\n1367\n01:00:48.340 --> 01:00:52.070\nover to the new server, all seamlessly\nwithout them even knowing about it.\n\n1368\n01:00:52.070 --> 01:00:54.460\nIt just kinda happens in\nthe background and that's that.\n\n1369\n01:00:54.460 --> 01:00:58.200\nSo, really cool stuff there,\nthat you can do these kinds of shifts\n\n1370\n01:00:58.200 --> 01:00:59.930\neven in the middle of the day\nwhile people are working.\n\n1371\n01:00:59.930 --> 01:01:00.980\n>> That's amazing, isn't it?\n\n1372\n01:01:00.980 --> 01:01:02.500\n>> Takes a little bit of guts to do that.\n\n1373\n01:01:02.500 --> 01:01:03.995\nBut you can do it, so.\n\n1374\n01:01:03.995 --> 01:01:06.030\n>> [LAUGH] Nothing like\nliving on the edge.\n\n1375\n01:01:06.030 --> 01:01:07.440\nCome on.\n\n1376\n01:01:07.440 --> 01:01:08.120\n>> All right, so\n\n1377\n01:01:08.120 --> 01:01:11.440\nI'm stalling a little bit here just to\nmake sure the other side gets happy.\n\n1378\n01:01:11.440 --> 01:01:15.210\nYou know, if I really wanted to you know,\nI could verify.\n\n1379\n01:01:15.210 --> 01:01:17.220\nIt looks like our replication is good and\nstuff.\n\n1380\n01:01:17.220 --> 01:01:21.470\nBut I could come down here and\ntake my domain system volume, or\n\n1381\n01:01:21.470 --> 01:01:23.190\nno sorry, that's Active Directory.\n\n1382\n01:01:23.190 --> 01:01:25.370\nTake my marketing folder here,\n\n1383\n01:01:25.370 --> 01:01:30.080\nand I can do a verify topology, and it's\ntelling me that it is fully connected.\n\n1384\n01:01:30.080 --> 01:01:32.090\nSo it looks like everything is good there.\n\n1385\n01:01:32.090 --> 01:01:33.870\nAnd you know,\nwe can run some other reports,\n\n1386\n01:01:33.870 --> 01:01:36.660\njust to verify that things are happy.\n\n1387\n01:01:36.660 --> 01:01:37.420\nWhere is my report.\n\n1388\n01:01:37.420 --> 01:01:39.410\nThere.\nCreate diagnostic report.\n\n1389\n01:01:39.410 --> 01:01:43.310\nSo I'll do just a general health report.\n\n1390\n01:01:43.310 --> 01:01:45.410\nNow, you get three reports,\nlet's cover these.\n\n1391\n01:01:45.410 --> 01:01:48.690\n>> Yes, cuz we got that health report's\ngiving us a lot of status on making sure\n\n1392\n01:01:48.690 --> 01:01:50.780\neverybody's up and running and\ncommunicating properly.\n\n1393\n01:01:50.780 --> 01:01:52.610\nThat propagation test is kinda cool.\n\n1394\n01:01:52.610 --> 01:01:55.540\nIt's gonna create a little test file,\nlike we had some files,\n\n1395\n01:01:55.540 --> 01:01:58.680\nyou had made some files initially so\nwe could see that they were replicating.\n\n1396\n01:01:58.680 --> 01:02:01.450\nBut if you had and you're just setting\nthis up, didn't have files in there yet,\n\n1397\n01:02:01.450 --> 01:02:02.770\nyou could run that propagation test.\n\n1398\n01:02:02.770 --> 01:02:05.990\nIt'll generate a little file and\nattempt to replicate it.\n\n1399\n01:02:05.990 --> 01:02:09.040\nAnd then that propagation report\ngives you the results of that.\n\n1400\n01:02:09.040 --> 01:02:11.660\nLet's you know if that successfully\nreplicated to the other servers.\n\n1401\n01:02:13.040 --> 01:02:16.429\n>> So I'll just go ahead a health\nreport here and I'll hit Next.\n\n1402\n01:02:17.530 --> 01:02:18.910\nAnd so it's going to generate,\n\n1403\n01:02:18.910 --> 01:02:22.190\nit's going to park it in\nthe SQL/TFS reports folder so\n\n1404\n01:02:22.190 --> 01:02:27.230\nit'll store it there for future access and\nwe can pick what members we want to test.\n\n1405\n01:02:27.230 --> 01:02:28.360\nNormally you want to test them all.\n\n1406\n01:02:28.360 --> 01:02:29.650\nSo that's the default.\n\n1407\n01:02:31.050 --> 01:02:34.190\nAnd then it's going to\nask about back log files.\n\n1408\n01:02:34.190 --> 01:02:36.000\nIf our replication is running slow.\n\n1409\n01:02:36.000 --> 01:02:38.710\nIf we're in a no replication time or\nwhatever.\n\n1410\n01:02:38.710 --> 01:02:39.840\nThen files will backlog.\n\n1411\n01:02:39.840 --> 01:02:43.730\nThey'll build up in a queue waiting for\na chance to replicate over.\n\n1412\n01:02:43.730 --> 01:02:45.900\nSo this is going to basically\nuse a reference member.\n\n1413\n01:02:45.900 --> 01:02:49.100\nI pick who ever I know has\nthe most current copy of the data.\n\n1414\n01:02:49.100 --> 01:02:50.760\nUsually your former primary.\n\n1415\n01:02:50.760 --> 01:02:54.370\nAnd then they'll use that to\nbase how big these queues are.\n\n1416\n01:02:54.370 --> 01:02:56.850\nOr you can just say I don't care\nabout the queues, but we normally do.\n\n1417\n01:02:58.890 --> 01:03:03.960\nAll right, so we'll go ahead and create\nthat and it's gonna run that report so\n\n1418\n01:03:03.960 --> 01:03:07.470\nwe'll give it a second and then it's\ngoing to show me a nice little web page.\n\n1419\n01:03:07.470 --> 01:03:09.165\nWhich will probably set\noff some trust alarm.\n\n1420\n01:03:09.165 --> 01:03:10.260\n>> [LAUGH] Yeah.\n\n1421\n01:03:10.260 --> 01:03:11.330\n>> Almost always does.\n\n1422\n01:03:13.510 --> 01:03:14.980\nYep.\nAllow blocked content.\n\n1423\n01:03:14.980 --> 01:03:15.850\nThere we go.\n\n1424\n01:03:15.850 --> 01:03:17.700\nWow, that made it kinda worse, didn't it?\n\n1425\n01:03:17.700 --> 01:03:20.217\nBut any how, so\nI can come in here and I can look and\n\n1426\n01:03:20.217 --> 01:03:22.270\nI can see how things are going.\n\n1427\n01:03:22.270 --> 01:03:25.590\nNotice where it starts showing me\nhere DFS Replication bandwidth.\n\n1428\n01:03:25.590 --> 01:03:30.410\nWe've had a 94% reduction\nin bandwidth replicated.\n\n1429\n01:03:30.410 --> 01:03:36.970\nThat we've only replicated\n48.79k as opposed to 845k.\n\n1430\n01:03:36.970 --> 01:03:41.110\nThat's you know the total size of\nthat bit map when I modified it,\n\n1431\n01:03:41.110 --> 01:03:42.434\nit didn't have to\nreplicate the whole thing.\n\n1432\n01:03:42.434 --> 01:03:45.370\n>> That's pretty impressive and that's\na big savings even of just two files.\n\n1433\n01:03:45.370 --> 01:03:47.196\nImagine thousands of files in there.\n\n1434\n01:03:47.196 --> 01:03:48.480\n>> And then you can come in here and\n\n1435\n01:03:48.480 --> 01:03:51.948\nlook at your server details,\nif I click on the right things.\n\n1436\n01:03:51.948 --> 01:03:55.042\nTo come in and\nsee if there's any errors, warnings, and\n\n1437\n01:03:55.042 --> 01:03:57.438\nsee even your current replication status.\n\n1438\n01:03:57.438 --> 01:04:00.060\n>> It's a beautiful sight right there,\nno errors no warnings.\n\n1439\n01:04:00.060 --> 01:04:02.443\nYeah, that doesn't happen all that often.\n\n1440\n01:04:02.443 --> 01:04:05.205\n>> A few times you get to see that,\nit is nice.\n\n1441\n01:04:05.205 --> 01:04:08.523\nOf course our DFS is brand new and\npractically empty, But\n\n1442\n01:04:08.523 --> 01:04:10.127\nthat was beside the point.\n\n1443\n01:04:10.127 --> 01:04:12.700\n[LAUGH]\n>> So you can come in and\n\n1444\n01:04:12.700 --> 01:04:15.512\nsee how much space you've got,\nhow big your volume size is,\n\n1445\n01:04:15.512 --> 01:04:17.960\nhow much of your replication\nbandwidth savings is.\n\n1446\n01:04:17.960 --> 01:04:19.120\nIt's all right here,\n\n1447\n01:04:19.120 --> 01:04:22.460\nreally good information to peruse through\njust to see the health of your system.\n\n1448\n01:04:22.460 --> 01:04:26.700\nIt does not create a significant\nimpact to run these reports, so\n\n1449\n01:04:26.700 --> 01:04:27.710\nfeel free to run them.\n\n1450\n01:04:27.710 --> 01:04:30.531\nIt's really how you keep your finger\non the pulse of DFS, all right.\n\n1451\n01:04:31.760 --> 01:04:33.480\nAll right,\nI think I've stalled long enough,\n\n1452\n01:04:33.480 --> 01:04:36.000\nthat we can generate a failure here and\nsee what happens.\n\n1453\n01:04:36.000 --> 01:04:39.590\n>> Yup.\n>> Now, my client if you guys remember,\n\n1454\n01:04:39.590 --> 01:04:42.470\nI was connecting from ITpro TV client one,\nand\n\n1455\n01:04:42.470 --> 01:04:46.080\nI've got a connection\nhere which is DFS share.\n\n1456\n01:04:46.080 --> 01:04:51.620\nI've got a connection here to dc 2,\nthat was the original that we started on.\n\n1457\n01:04:51.620 --> 01:04:54.500\nThen I've got a connection\nhere to server 1.\n\n1458\n01:04:54.500 --> 01:04:56.950\nThat's the replica that we created.\n\n1459\n01:04:56.950 --> 01:04:59.500\nI know that everything is\nworking just fine, right?\n\n1460\n01:05:00.670 --> 01:05:03.730\nWhat I'm going to do now is\nI'm going to take dc 2 and\n\n1461\n01:05:03.730 --> 01:05:06.870\nI don't want to I don't want to\nshut it down, because we need it.\n\n1462\n01:05:06.870 --> 01:05:07.540\nWhat can I do.\n\n1463\n01:05:07.540 --> 01:05:09.330\nLet's see.\n\n1464\n01:05:09.330 --> 01:05:11.006\nIt's a HyperV machine, so\nI can just unplug it's network adapter.\n\n1465\n01:05:11.006 --> 01:05:12.459\n[CROSSTALK]\n>> I was going to say,\n\n1466\n01:05:12.459 --> 01:05:13.606\nlet's just disable it and everything.\n\n1467\n01:05:13.606 --> 01:05:15.807\n>> All right, let's do that.\n\n1468\n01:05:15.807 --> 01:05:18.070\nLet me connect to the host and\nwe'll find old DC2.\n\n1469\n01:05:21.000 --> 01:05:22.040\nWe'll try and find DC2.\n\n1470\n01:05:22.040 --> 01:05:23.640\nThere it is.\n\n1471\n01:05:23.640 --> 01:05:26.220\nAnd I'm going to unplug\nits network adapter.\n\n1472\n01:05:26.220 --> 01:05:28.940\nSo, we shall find that.\n\n1473\n01:05:30.250 --> 01:05:31.700\nNot connected.\n\n1474\n01:05:31.700 --> 01:05:34.130\nThat'll make it really ticked off.\n\n1475\n01:05:34.130 --> 01:05:36.410\nOkay so\nI've unplugged the network adapter and,\n\n1476\n01:05:36.410 --> 01:05:39.680\nyou know, as I start to think about\nthis that's our only domain controller.\n\n1477\n01:05:39.680 --> 01:05:41.630\nSo that is going to cause some issues.\n\n1478\n01:05:41.630 --> 01:05:45.626\n>> We've already logged on to all\nthe machines that we could log onto right?\n\n1479\n01:05:45.626 --> 01:05:46.750\n[LAUGH]\n>> Yeah, so I've now unplugged it so\n\n1480\n01:05:46.750 --> 01:05:51.730\nthat server is off line, if I go back\nto my client, I can go and try and\n\n1481\n01:05:51.730 --> 01:05:57.460\nrefresh some of these windows, all right.\n\n1482\n01:05:57.460 --> 01:05:59.880\nSo there it goes it's trying to refresh.\n\n1483\n01:05:59.880 --> 01:06:03.920\nI had a connection to DC2 open here,\n\n1484\n01:06:03.920 --> 01:06:08.290\nI had a connection to\nthe DFS share name here.\n\n1485\n01:06:08.290 --> 01:06:12.380\n>> And at the time that was, your referral\nwas to DC2 because there was no other DFS\n\n1486\n01:06:12.380 --> 01:06:13.460\nname space server at that time.\n\n1487\n01:06:13.460 --> 01:06:15.870\n>> And you know what, shoot,\nsee what's going to happen is,\n\n1488\n01:06:15.870 --> 01:06:19.300\nit's going to say all right, I can't get\nto it, let me go do a lookup against.\n\n1489\n01:06:19.300 --> 01:06:22.990\nLab at ITProTV which is the domain\nthat we just took offline.\n\n1490\n01:06:22.990 --> 01:06:24.000\n>> And [INAUDIBLE] out.\n\n1491\n01:06:24.000 --> 01:06:26.350\n>> Let's simulate this a different way.\n\n1492\n01:06:26.350 --> 01:06:27.790\n>> Let's pull the plug on serve one.\n\n1493\n01:06:27.790 --> 01:06:29.200\n>> Let's go turn that\nnetwork adapter back on.\n\n1494\n01:06:29.200 --> 01:06:29.928\nYeah.\n>> [LAUGH]\n\n1495\n01:06:29.928 --> 01:06:31.270\n>> We could pull it off there.\n\n1496\n01:06:31.270 --> 01:06:34.710\nLet me go turn that back on.\n\n1497\n01:06:34.710 --> 01:06:38.920\nSee, this is why you should always\nhave to domain controllers.\n\n1498\n01:06:38.920 --> 01:06:41.510\nOnly one domain controller is a recipe for\ndisaster.\n\n1499\n01:06:41.510 --> 01:06:43.880\nEven if that disaster\nwas created by yourself.\n\n1500\n01:06:44.920 --> 01:06:50.936\nSo if I go back to my client here and it's\nhappy again because that network is back.\n\n1501\n01:06:50.936 --> 01:06:57.010\nWhat we can do,\nthe best way to generate a failure here\n\n1502\n01:06:57.010 --> 01:07:00.020\n>> Can we just stop DFS on that guy?\n\n1503\n01:07:00.020 --> 01:07:01.990\nWe'd kill the\n>> We probably could.\n\n1504\n01:07:01.990 --> 01:07:05.900\nWe could kill the network share.\n\n1505\n01:07:08.660 --> 01:07:11.930\nIf you're unsure, we should refer you to.\n\n1506\n01:07:11.930 --> 01:07:14.320\n>> You know what,\nhonestly we could just remove it from DFS.\n\n1507\n01:07:14.320 --> 01:07:16.190\n>> Yeah.\n>> Which would be like if you were doing\n\n1508\n01:07:16.190 --> 01:07:17.480\na fail over anyways.\n\n1509\n01:07:17.480 --> 01:07:18.250\nLet's do that.\n\n1510\n01:07:18.250 --> 01:07:21.640\nSo, I'm going to go back to my DFS tools.\n\n1511\n01:07:21.640 --> 01:07:24.500\nActually, I should do this\nfrom the other server.\n\n1512\n01:07:24.500 --> 01:07:25.390\nWell, I guess it won't matter.\n\n1513\n01:07:25.390 --> 01:07:28.313\nI can do it from anywhere, hello?\n\n1514\n01:07:35.749 --> 01:07:40.250\nSo what I can do is I can come in here,\nand I can come into the namespace and\n\n1515\n01:07:40.250 --> 01:07:43.027\ngo into the marketing folder down here,\nand\n\n1516\n01:07:43.027 --> 01:07:47.858\nI can find that folder target that's\non DC2, I'm just going to delete it.\n\n1517\n01:07:47.858 --> 01:07:50.750\nJust going to knock that\nturkey out of there.\n\n1518\n01:07:50.750 --> 01:07:55.945\nOkay, so that's now gone and,\nI got to refresh,\n\n1519\n01:07:55.945 --> 01:07:59.920\nthere's this moment of risk in here.\n\n1520\n01:08:04.743 --> 01:08:07.290\nDid I delete the whole namespace?\n\n1521\n01:08:07.290 --> 01:08:09.720\n>> You know it looks like\nit took out both targets?\n\n1522\n01:08:09.720 --> 01:08:12.311\n>> This is why you can't\ntrust me to do these things.\n\n1523\n01:08:12.311 --> 01:08:14.738\n>> [LAUGH]\n>> What I should have done was pull\n\n1524\n01:08:14.738 --> 01:08:17.108\nthe properties and knocked it out from.\n\n1525\n01:08:17.108 --> 01:08:18.280\nWell no you don't do it from there either.\n\n1526\n01:08:18.280 --> 01:08:18.780\nYou.\n\n1527\n01:08:18.780 --> 01:08:21.180\n>> Well, once it was still there.\n\n1528\n01:08:21.180 --> 01:08:23.740\n>> Let me check the other server and\nsee if it's showing up on that side.\n\n1529\n01:08:23.740 --> 01:08:25.120\nI may have screwed up.\n\n1530\n01:08:28.254 --> 01:08:31.140\n>> [LAUGH]\n>> I don't know if he's,\n\n1531\n01:08:31.140 --> 01:08:34.720\ndoes he have the name space yet?\n\n1532\n01:08:34.720 --> 01:08:36.280\n>> I might have add it in, we found it.\n\n1533\n01:08:36.280 --> 01:08:39.050\n>> Good deal.\n\n1534\n01:08:39.050 --> 01:08:40.010\n>> It took the targets.\n\n1535\n01:08:40.010 --> 01:08:41.330\nLet me add the targets back in.\n\n1536\n01:08:44.180 --> 01:08:46.385\n>> It's like it took out the whole folder,\ndidn't it.\n\n1537\n01:08:56.187 --> 01:09:00.740\nThere we are yeah, go back to there, you\nwant a new folder under that data, right?\n\n1538\n01:09:03.080 --> 01:09:04.130\n>> So strange you know?\n\n1539\n01:09:04.130 --> 01:09:04.730\nYeah.\n\n1540\n01:09:04.730 --> 01:09:06.770\n>> Yeah, when you deleted that one target,\n\n1541\n01:09:06.770 --> 01:09:09.780\nit took out the entire folder and\nthe other target.\n\n1542\n01:09:09.780 --> 01:09:10.860\nLet's redo that.\n\n1543\n01:09:10.860 --> 01:09:14.180\nI want to see you know i may have just\nclicked too fast and not paid attention.\n\n1544\n01:09:14.180 --> 01:09:15.630\nSo let I think I'm going to redo this one.\n\n1545\n01:09:15.630 --> 01:09:16.150\n>> Right.\n\n1546\n01:09:16.150 --> 01:09:18.750\n>> They're both still name servers.\n\n1547\n01:09:18.750 --> 01:09:23.996\nSo I'm going to add ITProTV server one and\nI'm going to add DC2 back.\n\n1548\n01:09:35.794 --> 01:09:37.223\n>> We'll put it back.\n\n1549\n01:09:41.937 --> 01:09:44.180\n>> Going to redo the replication group.\n\n1550\n01:09:44.180 --> 01:09:47.060\nNow fortunately they were replicated\nbefore I messed with them so\n\n1551\n01:09:47.060 --> 01:09:48.710\nthere's not really much\nI have to change here.\n\n1552\n01:09:48.710 --> 01:09:49.210\n>> Right.\n\n1553\n01:09:51.200 --> 01:09:54.440\n>> So I'm just going to repeat\nthe wizard and let that set up again.\n\n1554\n01:09:54.440 --> 01:09:58.310\nSo what I was trying to do was remove\nthe one target and I guess accidentally\n\n1555\n01:09:58.310 --> 01:10:02.060\nremoved them both so we'll double check,\nI'll go a little slower this time and.\n\n1556\n01:10:02.060 --> 01:10:05.610\n>> You know with these consoles sometimes\nI have caught myself doing something very\n\n1557\n01:10:05.610 --> 01:10:07.070\nsimilar where.\n\n1558\n01:10:07.070 --> 01:10:11.330\nIn that action span,\nyou got the two sets of properties one for\n\n1559\n01:10:11.330 --> 01:10:13.190\nwhat you have selected\nin the details area.\n\n1560\n01:10:13.190 --> 01:10:17.582\nAnd one for what you have selected over\nin that navigation tree over there.\n\n1561\n01:10:17.582 --> 01:10:19.450\n>> Yeah. [LAUGH] >> And you can end\nup [LAUGH] wiping out some major\n\n1562\n01:10:19.450 --> 01:10:20.200\nstuff doing that.\n\n1563\n01:10:22.240 --> 01:10:24.390\nNow on a positive note,\n\n1564\n01:10:24.390 --> 01:10:28.150\njust deleting the folder target\ndoesn't delete the folder itself.\n\n1565\n01:10:28.150 --> 01:10:29.510\nSo all your data's still there.\n\n1566\n01:10:29.510 --> 01:10:31.290\nIt's just a matter of\nre adding this back in.\n\n1567\n01:10:31.290 --> 01:10:33.870\n>> In fact,\nthat's one of the big pluses of DFS.\n\n1568\n01:10:33.870 --> 01:10:36.450\nIf I move that share, something happens,\n\n1569\n01:10:36.450 --> 01:10:39.940\nI can just delete the targets,\nrecreate the targets to another server and\n\n1570\n01:10:39.940 --> 01:10:43.780\nuser has no idea that we've moved the\nphysical share from one server to another.\n\n1571\n01:10:43.780 --> 01:10:46.190\nThey still use that same root target.\n\n1572\n01:10:46.190 --> 01:10:48.440\nAnd we just have to update\nthe pointers within it.\n\n1573\n01:10:48.440 --> 01:10:52.230\nAdd additional ones if we need to for more\nfault tolerance or a new branch office, or\n\n1574\n01:10:52.230 --> 01:10:53.960\nwhatever the case may be.\n\n1575\n01:10:53.960 --> 01:10:55.940\n>> All right.\nSo now it's back.\n\n1576\n01:10:55.940 --> 01:10:57.390\nThey're both in place.\n\n1577\n01:10:57.390 --> 01:10:59.920\nLet me verify for\nmy client that everything's happy.\n\n1578\n01:10:59.920 --> 01:11:02.720\nSo I'm going to go back to my client and\nI'm just going to refresh these windows\n\n1579\n01:11:02.720 --> 01:11:09.170\nreal quick, and\nthey are refreshing nice and fast.\n\n1580\n01:11:09.170 --> 01:11:12.453\nAnd I'm just going to create another\nfile here just to test out replication.\n\n1581\n01:11:16.718 --> 01:11:19.070\nAll right.\n\n1582\n01:11:19.070 --> 01:11:20.220\nSo I've created this file.\n\n1583\n01:11:20.220 --> 01:11:23.420\nAnd I'm just going to wait for\nit to turn up here.\n\n1584\n01:11:23.420 --> 01:11:25.420\nBecause we had to recreate replication.\n\n1585\n01:11:25.420 --> 01:11:29.160\nRemember that it can take up to 90\nminutes, we got really lucky [LAUGH] in\n\n1586\n01:11:29.160 --> 01:11:32.590\nthe last segment you know with where\nwe were at so it happened a lot faster.\n\n1587\n01:11:32.590 --> 01:11:33.620\n>> Well, we did it, we got it.\n\n1588\n01:11:33.620 --> 01:11:34.370\n>> There it is.\nOkay good.\n\n1589\n01:11:34.370 --> 01:11:34.900\n>> Twice in a row.\n\n1590\n01:11:34.900 --> 01:11:35.860\n>> Yeah we are on a lucky streak.\n\n1591\n01:11:35.860 --> 01:11:38.560\n>> Yeah because that's what I was just\nthinking we deleted that replication group\n\n1592\n01:11:38.560 --> 01:11:41.580\nnow got to learn that each part\nof this new replication group and\n\n1593\n01:11:41.580 --> 01:11:43.192\nthat type could've been a little while.\n\n1594\n01:11:43.192 --> 01:11:45.460\n>> All right so we're back in\nbusiness there and that's good and\n\n1595\n01:11:45.460 --> 01:11:48.090\nyou know now that I think about it the\nreplication group might be our problem I\n\n1596\n01:11:48.090 --> 01:11:51.300\nthink we might need to delete that guy\nout of the replication group first.\n\n1597\n01:11:51.300 --> 01:11:54.277\nBefore we remove the target\notherwise it takes them together,\n\n1598\n01:11:54.277 --> 01:11:56.363\nso, let's run back over and\ndo it that way.\n\n1599\n01:11:56.363 --> 01:12:00.774\nSo on old DC2 here I'm just going\nto go under replication and,\n\n1600\n01:12:00.774 --> 01:12:02.949\nI guess I need to refresh this.\n\n1601\n01:12:02.949 --> 01:12:04.524\nThere we go.\n\n1602\n01:12:04.524 --> 01:12:07.218\nAnd so here,\nI've got my replicated folder, and\n\n1603\n01:12:07.218 --> 01:12:10.790\nthe two hosts that are a part of it,\nor the two connections.\n\n1604\n01:12:10.790 --> 01:12:16.190\nAnd what I want to do is,\nI want to change this to basically remove\n\n1605\n01:12:16.190 --> 01:12:21.335\nthat second connection,\nI want to remove DC2 from the mix.\n\n1606\n01:12:21.335 --> 01:12:23.515\nAnd actually you see,\nI can just disable it.\n\n1607\n01:12:23.515 --> 01:12:24.655\n>> Yeah, just turn it off temporarily.\n\n1608\n01:12:24.655 --> 01:12:28.755\n>> But I'm gonna delete them,\nlet's delete that connection, there we go.\n\n1609\n01:12:28.755 --> 01:12:33.185\nAll right, so now I've got ITProTV Server\n1 on in the replication group, and\n\n1610\n01:12:33.185 --> 01:12:34.005\nthat's it.\n\n1611\n01:12:34.005 --> 01:12:38.974\nITproTVDC2, we're just going to\ndelete him out all together.\n\n1612\n01:12:38.974 --> 01:12:42.276\nAnd I want to just delete the member,\n\n1613\n01:12:42.276 --> 01:12:46.890\nit's actually offering to\nremove him as a target too.\n\n1614\n01:12:46.890 --> 01:12:47.870\nThat's exactly what I want.\n\n1615\n01:12:47.870 --> 01:12:52.585\nSo let's do that, and make sure that\ndoesn't delete our whole target.\n\n1616\n01:12:52.585 --> 01:12:55.251\nAnd we got a warning,\nand what is our warning?\n\n1617\n01:12:55.251 --> 01:12:56.858\nThe link object was not found.\n\n1618\n01:12:56.858 --> 01:12:57.830\nThat's cuz I all ready deleted it, yeah.\n\n1619\n01:12:57.830 --> 01:12:58.790\n>> Yeah, it's cuz you've already\ntaken that link out, yeah.\n\n1620\n01:12:58.790 --> 01:13:01.020\n>> I'm cool with that, all right.\n\n1621\n01:13:01.020 --> 01:13:04.460\nAnd changes might continue to replicate,\nwe gotta wait, all right.\n\n1622\n01:13:04.460 --> 01:13:08.690\nSo now I've got ITProTV Server\n1 in my list, and that's it.\n\n1623\n01:13:08.690 --> 01:13:11.850\nIt's not really replicating anymore\ncuz there's only one server.\n\n1624\n01:13:11.850 --> 01:13:14.790\nAnd if I go back to my name space,\nlet me refresh this,\n\n1625\n01:13:15.840 --> 01:13:19.447\nnow I still have two namespace servers\n>> And if you go under marketing,\n\n1626\n01:13:19.447 --> 01:13:21.310\nyou've still got two targets, too.\n\n1627\n01:13:21.310 --> 01:13:24.767\n>> Well and,\nwe do still have two targets, hm.\n\n1628\n01:13:25.830 --> 01:13:27.750\n>> So, if you don't do it from there,\n\n1629\n01:13:27.750 --> 01:13:31.540\nif you go to the properties of\nmarketing would that make a difference?\n\n1630\n01:13:31.540 --> 01:13:32.710\nCan you pull a target from there?\n\n1631\n01:13:32.710 --> 01:13:34.370\nI don't know if it'll let you.\n\n1632\n01:13:34.370 --> 01:13:35.990\nNo, you can just change the-\n>> Yeah.\n\n1633\n01:13:35.990 --> 01:13:36.960\n>> Okay.\n\n1634\n01:13:36.960 --> 01:13:39.040\n>> So it's keeping it in there.\n\n1635\n01:13:39.040 --> 01:13:42.690\nAnd so, last time what I did is\nI took the folder target, and\n\n1636\n01:13:42.690 --> 01:13:46.294\nI just right-clicked on it,\nand I chose to delete it.\n\n1637\n01:13:46.294 --> 01:13:47.415\nI can just disable it.\n\n1638\n01:13:47.415 --> 01:13:48.017\n>> There we go.\n\n1639\n01:13:48.017 --> 01:13:49.420\n>> That'll work, there we go.\n\n1640\n01:13:49.420 --> 01:13:52.732\nSo I've got my second one is enabled,\nmy first one is disabled.\n\n1641\n01:13:52.732 --> 01:13:55.470\nAnd I now I can delete it, but\nI'm kinda hesitant to do that.\n\n1642\n01:13:55.470 --> 01:13:56.045\nSo, I'll leave it disabled.\n\n1643\n01:13:56.045 --> 01:13:56.960\n>> Yeah, I would, yeah.\n[LAUGH]\n\n1644\n01:13:56.960 --> 01:14:00.500\n>> So right now, I cannot get to ITProDC2,\n\n1645\n01:14:00.500 --> 01:14:04.268\nit's not replicating,\nit's disabled, that folder is gone.\n\n1646\n01:14:04.268 --> 01:14:08.380\nNow, the actual shared folder\nstill exists there, right?\n\n1647\n01:14:08.380 --> 01:14:12.710\nSo if I go back to my client, all right,\n\n1648\n01:14:12.710 --> 01:14:16.950\nwhen I go back to my client, this\nshared folder on DC2, it still exists.\n\n1649\n01:14:16.950 --> 01:14:17.520\n>> Right.\n>> Right?\n\n1650\n01:14:17.520 --> 01:14:21.280\nBut because I've disabled it, I could go\nand delete it and actually get rid of it.\n\n1651\n01:14:21.280 --> 01:14:23.390\nAnd in fact,\nif we wanted to do a true failover test,\n\n1652\n01:14:23.390 --> 01:14:27.330\nthat's probably a good idea\njust to actually ensure.\n\n1653\n01:14:27.330 --> 01:14:31.490\nAnd I'll just take it,\nand I'm gonna rename it.\n\n1654\n01:14:31.490 --> 01:14:35.750\nWhen you rename it,\nit's gonna break the shares and all that.\n\n1655\n01:14:35.750 --> 01:14:38.428\nIt's open by,\nmy client is holding it open, shoot.\n\n1656\n01:14:38.428 --> 01:14:39.065\n>> Yeah.\n>> All right,\n\n1657\n01:14:39.065 --> 01:14:40.922\nwell let me go back to my client,\nI'm gonna close these windows down.\n\n1658\n01:14:43.462 --> 01:14:46.351\nIf you have an open file, Windows won't\nlet you mess with the folder, and so\n\n1659\n01:14:46.351 --> 01:14:47.630\nthat's what it's angry about.\n\n1660\n01:14:47.630 --> 01:14:49.040\nSo we'll do that.\n\n1661\n01:14:51.872 --> 01:14:53.340\nI hope I don't have to reboot for\nthis one.\n\n1662\n01:14:54.920 --> 01:14:56.645\nSometimes a folder gets locked.\n\n1663\n01:14:56.645 --> 01:14:58.470\n>> Right.\n\n1664\n01:14:58.470 --> 01:15:00.669\n>> All right let me show you guys\na neat little trick here, and\n\n1665\n01:15:00.669 --> 01:15:02.490\nmaybe this'll work for us.\n\n1666\n01:15:02.490 --> 01:15:05.620\nWhen you're dealing with a shared folder,\nthere could\n\n1667\n01:15:05.620 --> 01:15:09.920\nbe any user throughout your entire company\nholding that folder locked like this.\n\n1668\n01:15:09.920 --> 01:15:13.680\nIf you go into\nthe Computer Management Utility, and\n\n1669\n01:15:13.680 --> 01:15:16.270\nnot the Server Manager,\nbut Computer Manager.\n\n1670\n01:15:16.270 --> 01:15:18.190\nWell, there probably is a way to\ndo it through the Server Manager,\n\n1671\n01:15:18.190 --> 01:15:19.590\nI just never do it that way.\n\n1672\n01:15:19.590 --> 01:15:24.426\nBut if you go into Computer Management,\nyou can browse into the shared folders.\n\n1673\n01:15:24.426 --> 01:15:25.321\n>> Mm-hm.\n\n1674\n01:15:25.321 --> 01:15:29.100\n>> And inside of shared folders,\nyou can go to open files and\n\n1675\n01:15:29.100 --> 01:15:33.250\nyou can see who is holding things open,\nand what they're holding open.\n\n1676\n01:15:33.250 --> 01:15:35.819\nAnd I kind of expected to\n\n1677\n01:15:35.819 --> 01:15:39.715\nsee the share folder there but I-\n>> There's\n\n1678\n01:15:39.715 --> 01:15:41.080\nactually nothing pointed to it, is there?\n\n1679\n01:15:41.080 --> 01:15:43.790\n>> Yeah, I can reset the sessions,\nthat would be fun.\n\n1680\n01:15:43.790 --> 01:15:48.500\n>> [LAUGH]\n>> Yeah, we'll just close it down.\n\n1681\n01:15:48.500 --> 01:15:52.124\n[LAUGH] I just disconnected\nmyself from the machine, and\n\n1682\n01:15:52.124 --> 01:15:54.290\nI'm not showing any open files.\n\n1683\n01:15:54.290 --> 01:16:02.910\nSo if it's still being held it must\nstill be being held by DFS, yeah.\n\n1684\n01:16:02.910 --> 01:16:04.419\nYou know, let's just stop the DFS service.\n\n1685\n01:16:04.419 --> 01:16:08.039\n[LAUGH] Let's just go,\nlet's just completely break this thing.\n\n1686\n01:16:08.039 --> 01:16:08.919\n>> There you go.\n\n1687\n01:16:18.042 --> 01:16:19.752\nAll gone.\n\n1688\n01:16:19.752 --> 01:16:20.496\n>> And that'll take care of that.\n\n1689\n01:16:20.496 --> 01:16:21.370\n>> Yep.\n\n1690\n01:16:21.370 --> 01:16:22.659\n>> That'll teach it a lesson.\n\n1691\n01:16:22.659 --> 01:16:25.209\n>> [LAUGH]\n>> And I mean, I could go even further,\n\n1692\n01:16:25.209 --> 01:16:26.589\nwe'll stop there.\n\n1693\n01:16:26.589 --> 01:16:29.142\nWe could disable like Netlogon and\nstuff to stop people, but\n\n1694\n01:16:29.142 --> 01:16:33.250\nthen that might break the ActiveDirectory\ntoo, so I don't want to be too aggressive.\n\n1695\n01:16:33.250 --> 01:16:35.665\nSo we'll stop those,\nwhat are the odds of that renaming now?\n\n1696\n01:16:35.665 --> 01:16:36.665\nHey, there it goes!\n>> Woo-hoo!\n\n1697\n01:16:36.665 --> 01:16:37.335\n>> All right.\n\n1698\n01:16:37.335 --> 01:16:41.097\nSo that share should be\nbroken at this point,\n\n1699\n01:16:41.097 --> 01:16:43.625\nit should not be-\n>> Yep, not shared at all.\n\n1700\n01:16:43.625 --> 01:16:44.615\n>> Yep, not shared, good.\n\n1701\n01:16:44.615 --> 01:16:48.870\nAll right, so now that folder\nlocation on DC2 is completely gone.\n\n1702\n01:16:48.870 --> 01:16:52.695\nIf I go to my client, where I've\nconveniently closed all those windows.\n\n1703\n01:16:52.695 --> 01:16:57.455\n>> [LAUGH]\n>> If I try and browse on this PC,\n\n1704\n01:16:57.455 --> 01:17:06.210\non Server 1, so if I got to\nitprotv-server1/marketing, right?\n\n1705\n01:17:06.210 --> 01:17:07.500\nThere it is, I can get to it.\n\n1706\n01:17:07.500 --> 01:17:08.250\n>> Right.\n\n1707\n01:17:08.250 --> 01:17:14.380\n>> If I browse to itprotv-DC2/marketing,\n\n1708\n01:17:17.210 --> 01:17:22.140\nAll right, that I cannot get to\ncuz the share is gone, all right?\n\n1709\n01:17:22.140 --> 01:17:25.485\nBut the end user isn't actually\ngoing to either one of those.\n\n1710\n01:17:25.485 --> 01:17:27.071\n>> Exactly.\n>> Remember the end user,\n\n1711\n01:17:27.071 --> 01:17:29.495\nthey're gonna browse to the DFS names.\n\n1712\n01:17:29.495 --> 01:17:33.050\nThere's that message telling\nme it couldn't get to DC2.\n\n1713\n01:17:33.050 --> 01:17:40.907\nAnd now if I browse to lab.itpro.tv/data,\nright?\n\n1714\n01:17:40.907 --> 01:17:42.540\nI can see the marketing folder.\n\n1715\n01:17:42.540 --> 01:17:43.060\n>> Right.\n\n1716\n01:17:43.060 --> 01:17:44.330\n>> And then there's my documents, right?\n\n1717\n01:17:44.330 --> 01:17:45.540\n>> And there's our redundancy.\n\n1718\n01:17:45.540 --> 01:17:47.793\n>> And it was coming from DC2.\n\n1719\n01:17:47.793 --> 01:17:51.878\nNow I know it's coming from Server 1,\ncuz we completely hosed up DC2, right?\n\n1720\n01:17:51.878 --> 01:17:53.998\nSo [LAUGH]\n>> [LAUGH] Really well.\n\n1721\n01:17:53.998 --> 01:17:55.341\n[LAUGH]\n>> And on the client,\n\n1722\n01:17:55.341 --> 01:17:56.248\ndid they have to do anything different?\n\n1723\n01:17:56.248 --> 01:17:57.078\n>> No.\n>> No.\n\n1724\n01:17:57.078 --> 01:17:57.947\n>> No.\n>> And\n\n1725\n01:17:57.947 --> 01:18:02.996\nif they map a network drive to that,\nright,\n\n1726\n01:18:02.996 --> 01:18:09.830\nif they do net use m: \\\\lab.itpro.tv\\data,\nright?\n\n1727\n01:18:09.830 --> 01:18:15.790\nThey can map a drive letter,\nand why am I not authenticated?\n\n1728\n01:18:16.812 --> 01:18:21.660\n>> No, I was thinking maybe we stopped\nthat net logon, but we didn't do that.\n\n1729\n01:18:21.660 --> 01:18:23.820\n>> Well, anyhow,\nI'll punch in my credentials.\n\n1730\n01:18:23.820 --> 01:18:26.670\nSo we can map a connection to it, right?\n\n1731\n01:18:26.670 --> 01:18:30.970\nAnd now if I browse to my computer or\nthis PC or\n\n1732\n01:18:30.970 --> 01:18:34.679\nwhatever, the end user just\nsees an M drive, right?\n\n1733\n01:18:34.679 --> 01:18:37.665\nAnd eventually there, M.\n\n1734\n01:18:37.665 --> 01:18:38.294\n>> Yup.\n\n1735\n01:18:38.294 --> 01:18:42.545\n>> And see how it's got a red X on it,\nand it says ITProTVDC2?\n\n1736\n01:18:42.545 --> 01:18:44.312\n>> Mm-hm\n>> That's because that's who we\n\n1737\n01:18:44.312 --> 01:18:46.734\nwere connected to first, and\nit's checking the status of that,\n\n1738\n01:18:46.734 --> 01:18:47.825\nand that server is off line.\n\n1739\n01:18:47.825 --> 01:18:49.475\nBut if I double-click on it,\n\n1740\n01:18:49.475 --> 01:18:51.160\nit should map over and-\n>> Yeah,\n\n1741\n01:18:51.160 --> 01:18:53.770\nit doesn't seem to be-\n>> The local device name is\n\n1742\n01:18:53.770 --> 01:18:54.750\nalready in use.\n\n1743\n01:18:56.960 --> 01:18:57.660\nThat's fun.\n\n1744\n01:18:57.660 --> 01:18:58.480\n>> That is strange.\n\n1745\n01:18:58.480 --> 01:19:00.140\n>> So it tried to reconnect\nover to the other one.\n\n1746\n01:19:01.240 --> 01:19:02.040\n>> And it won't use that same name?\n\n1747\n01:19:02.040 --> 01:19:03.040\n>> I don't know.\n\n1748\n01:19:04.420 --> 01:19:07.387\n>> Well we know it works cuz we can\nbrowse to it, so its just ticked off.\n\n1749\n01:19:07.387 --> 01:19:10.232\n>> Something's going on,\nit really should give you a referral.\n\n1750\n01:19:10.232 --> 01:19:12.350\nYou get basically a list of referrals, and\n\n1751\n01:19:12.350 --> 01:19:16.200\nit's gonna have all the members\nof that namespace that has those.\n\n1752\n01:19:16.200 --> 01:19:19.580\nAnd it should automatically, if one\ngoes down, kick over to the other one.\n\n1753\n01:19:19.580 --> 01:19:21.970\nIn fact, we don't talk about it in\nthese particular objectives, but\n\n1754\n01:19:21.970 --> 01:19:24.055\nyou can set up a client failback.\n\n1755\n01:19:24.055 --> 01:19:27.316\nWhere a lot of times if you want to\nconnect, you want your client to connect\n\n1756\n01:19:27.316 --> 01:19:30.490\nto the DFS namespace server,\nit's in the same office as that, right?\n\n1757\n01:19:30.490 --> 01:19:31.760\nIt's staying on that LAN.\n\n1758\n01:19:31.760 --> 01:19:35.100\nBut if that server goes down, it will kick\nhim over to the one in that remote office.\n\n1759\n01:19:35.100 --> 01:19:36.230\nThey'll have to go across the LAN.\n\n1760\n01:19:36.230 --> 01:19:40.260\nBut when that server comes back up, I want\nher to fail back to that local server, so\n\n1761\n01:19:40.260 --> 01:19:42.020\nit should be doing all this automatically.\n\n1762\n01:19:42.020 --> 01:19:44.015\n>> Yeah, but\nit seems to be a little ticked off at us.\n\n1763\n01:19:44.015 --> 01:19:46.340\n>> Yeah, [LAUGH] we've been changing\nquite a few things in there.\n\n1764\n01:19:46.340 --> 01:19:49.196\n>> But now, one thing about those\nreferrals, when you go to connect to\n\n1765\n01:19:49.196 --> 01:19:52.066\nthe share for the first time you're\ngonna get referred to a server.\n\n1766\n01:19:52.066 --> 01:19:57.149\nYou will use that server from then on,\nunless that server goes offline.\n\n1767\n01:19:57.149 --> 01:20:00.153\nIf that server goes offline,\nyou'll ask for a new referral and\n\n1768\n01:20:00.153 --> 01:20:01.864\nyou'll get moved somewhere else.\n\n1769\n01:20:01.864 --> 01:20:05.059\nSo just because you have more than\none server doesn't mean all your\n\n1770\n01:20:05.059 --> 01:20:06.730\nhosts are going to move over to it.\n\n1771\n01:20:06.730 --> 01:20:10.990\nThey may have to reboot or wait for that\nreferral to expire before they move on.\n\n1772\n01:20:10.990 --> 01:20:14.670\nOr a system failure has to occur.So-\n>> And DFS is site aware as well.\n\n1773\n01:20:14.670 --> 01:20:17.560\nSo it can take advantage if you've\ngot site set up and figure out.\n\n1774\n01:20:17.560 --> 01:20:19.750\nAnd get that server that's\nin the same site as you.\n\n1775\n01:20:19.750 --> 01:20:20.560\n>> Yeah.\nIt really\n\n1776\n01:20:20.560 --> 01:20:21.820\ncuts down on that bandwidth consumption.\n\n1777\n01:20:21.820 --> 01:20:25.740\nSo it's really neat, really easy\nto use as far as getting set up.\n\n1778\n01:20:25.740 --> 01:20:26.985\nIt's actually hard to break it.\n\n1779\n01:20:26.985 --> 01:20:29.950\n>> [LAUGH]\n>> Pretty cool there.\n\n1780\n01:20:29.950 --> 01:20:33.420\nThere are a few other things we\nneed to talk about with DFS, but\n\n1781\n01:20:33.420 --> 01:20:37.100\nas far as seeing the failover,\nthat happened right there.\n\n1782\n01:20:37.100 --> 01:20:38.530\nI can still get to the share.\n\n1783\n01:20:38.530 --> 01:20:40.930\nThe end user doesn't have that exposed.\n\n1784\n01:20:40.930 --> 01:20:42.770\nThey don't know that DC2 is offline.\n\n1785\n01:20:42.770 --> 01:20:45.690\nThey didn't really know that DC2\nexisted in the first place, or\n\n1786\n01:20:45.690 --> 01:20:47.475\nserver one or whatever.\n\n1787\n01:20:47.475 --> 01:20:51.905\nI could actually go and get server two\nout of this equation altogether now,\n\n1788\n01:20:51.905 --> 01:20:53.965\nwhich I guess it kind of is at this point.\n\n1789\n01:20:53.965 --> 01:20:55.075\nAnd we could bring in 3, 4, 10 servers.\n\n1790\n01:20:55.075 --> 01:20:58.595\nHowever many servers we wanted to\nparticipate in this DFS environment.\n\n1791\n01:20:59.757 --> 01:21:02.607\nAlright, so we do have a few\nmore things to talk about, but\n\n1792\n01:21:02.607 --> 01:21:04.187\nwe have run past out break time.\n\n1793\n01:21:04.187 --> 01:21:06.737\nSo let's stop here and take a break, and\n\n1794\n01:21:06.737 --> 01:21:10.137\nwhen we get back we're gonna talk about\na few new things that were added in\n\n1795\n01:21:10.137 --> 01:21:13.117\nWindows server 2012 R2 that we need\nto know for the exam, all right?\n\n1796\n01:21:13.117 --> 01:21:18.812\nStay tuned for that, we'll be back for\nthe exciting conclusion of DFS after this.\n\n1797\n01:21:18.812 --> 01:21:25.722\n[SOUND].\n\n1798\n01:21:25.722 --> 01:21:27.370\nAll right welcome back everybody.\n\n1799\n01:21:27.370 --> 01:21:30.490\nSo at the end of the segment there I was\nkinda scratching my head as to why that\n\n1800\n01:21:30.490 --> 01:21:32.220\ndrive order mapping didn't work.\n\n1801\n01:21:32.220 --> 01:21:34.580\nAnd then it hit me,\n\n1802\n01:21:36.410 --> 01:21:41.090\nthe beginning of the show was over an hour\nago my memory doesn't go that far back.\n\n1803\n01:21:41.090 --> 01:21:46.760\nSo, at the beginning of this show,\nI mapped the drive letter M already.\n\n1804\n01:21:46.760 --> 01:21:49.600\nAnd I mapped it directly to IT Pro TV DC2.\n\n1805\n01:21:49.600 --> 01:21:54.390\nAnd that's why it wasn't picking up\nthe DFS site cuz it wasn't a DFS mapping,\n\n1806\n01:21:54.390 --> 01:21:56.340\nit was just a regular file mapping.\n\n1807\n01:21:56.340 --> 01:21:58.920\nAnd that's why I got that the file\nname was already in use or\n\n1808\n01:21:58.920 --> 01:22:00.300\nthe resource was already in use.\n\n1809\n01:22:00.300 --> 01:22:05.150\nSo what I did is after the break started,\nI mapped to like the X: drive instead,\n\n1810\n01:22:05.150 --> 01:22:06.800\nand then it worked fine, yeah.\n\n1811\n01:22:06.800 --> 01:22:11.100\nBut if we wanna kinda repeat that\nthe way that it should have been,\n\n1812\n01:22:11.100 --> 01:22:16.620\nwhat I really should do is do\nlike net use m: /d and delete it.\n\n1813\n01:22:17.690 --> 01:22:18.570\nAnd then I can map.\n\n1814\n01:22:18.570 --> 01:22:23.070\nSo I knew something was wrong when\nit prompted me for credentials.\n\n1815\n01:22:23.070 --> 01:22:24.234\nIt shouldn't have done that.\n\n1816\n01:22:24.234 --> 01:22:27.920\nAnd so I knew something was weird there,\nand that's all it was.\n\n1817\n01:22:27.920 --> 01:22:31.800\nSo, now if I map to this folder\nI can map the M drive, and\n\n1818\n01:22:31.800 --> 01:22:34.200\nsee how it didn't prompt me for\ncredentials?\n\n1819\n01:22:34.200 --> 01:22:37.019\nSo now back on my client.\n\n1820\n01:22:38.800 --> 01:22:40.930\nIf we just browsed that M drive.\n\n1821\n01:22:40.930 --> 01:22:45.565\n>> Cause this point in DC-1\nwe still have DFS turned off.\n\n1822\n01:22:45.565 --> 01:22:50.650\n>> Mm-hm, and I can see it right\nhere showing //lab.itpro.tv,\n\n1823\n01:22:50.650 --> 01:22:53.730\nand if I browse into that,\nthere's my marketing folder.\n\n1824\n01:22:53.730 --> 01:22:55.960\n>> No specific server name in that path.\n\n1825\n01:22:55.960 --> 01:22:56.600\n>> In that whole thing.\n\n1826\n01:22:56.600 --> 01:22:59.930\nYeah, and that's why our failover\nworked so well is the end users,\n\n1827\n01:22:59.930 --> 01:23:03.789\nthe end users' machine never really\nsees that individual server name.\n\n1828\n01:23:03.789 --> 01:23:05.820\nWindows 8.1 sees it\n>> Right.\n\n1829\n01:23:05.820 --> 01:23:06.350\n>> in the background.\n\n1830\n01:23:06.350 --> 01:23:07.200\nIt sees that.\n\n1831\n01:23:07.200 --> 01:23:09.300\nBut, the user doesn't.\n\n1832\n01:23:09.300 --> 01:23:11.040\nAnd so\nit's connected to that other server.\n\n1833\n01:23:11.040 --> 01:23:12.580\nIt's automatic, it's very quick.\n\n1834\n01:23:12.580 --> 01:23:13.980\n>> I like it.\n\n1835\n01:23:13.980 --> 01:23:16.280\n>> All right, so,\nlet's continue on with this, and say,\n\n1836\n01:23:16.280 --> 01:23:20.400\nall right,\nDC2 is just completely hosed, right.\n\n1837\n01:23:20.400 --> 01:23:21.690\nIt's completely destroyed.\n\n1838\n01:23:21.690 --> 01:23:24.560\n>> Now we're down to one DFS server and\nwe want to bring up another one and\n\n1839\n01:23:24.560 --> 01:23:26.350\nset up some more\n>> Exactly.\n\n1840\n01:23:27.450 --> 01:23:30.880\nIf it's another server right\nhere on our LAN, well,\n\n1841\n01:23:30.880 --> 01:23:35.510\nwe can just add the replication partner,\npick server one as the primary, and\n\n1842\n01:23:35.510 --> 01:23:37.030\nlet it replicate over to the other one and\nwe're done.\n\n1843\n01:23:37.030 --> 01:23:38.620\n>> Just like we did in the first segment.\n\n1844\n01:23:38.620 --> 01:23:41.190\n>> But what if DC2 is somewhere else?\n\n1845\n01:23:41.190 --> 01:23:43.370\nIt's in another geographic location.\n\n1846\n01:23:43.370 --> 01:23:46.840\nI might not want to do a full\nreplication over a wide area network.\n\n1847\n01:23:46.840 --> 01:23:50.140\nIf you have five terabytes of data\n\n1848\n01:23:50.140 --> 01:23:53.430\neven over a ten megabit fiber\nconnection that's gonna take a day.\n\n1849\n01:23:53.430 --> 01:23:55.070\nYou know that's gonna take forever.\n\n1850\n01:23:55.070 --> 01:24:00.220\nIt would be faster to just copy it\nto a hard drive and drive it over.\n\n1851\n01:24:00.220 --> 01:24:01.020\nOr fed ex it.\n\n1852\n01:24:01.020 --> 01:24:02.070\nYeah.\n\n1853\n01:24:02.070 --> 01:24:05.670\nYou know I read an article about\nthat last year it was talking about\n\n1854\n01:24:07.000 --> 01:24:10.910\nthey're waiting for the day when\nfiber exceeds the speed of UPS.\n\n1855\n01:24:10.910 --> 01:24:11.570\n>> Really?\n>> And so,\n\n1856\n01:24:11.570 --> 01:24:14.590\nthey're saying that you can still like,\non a cost basis.\n\n1857\n01:24:14.590 --> 01:24:18.240\nIt's still cheaper to send large data\nby UPS than it is to go by fiber.\n\n1858\n01:24:18.240 --> 01:24:19.490\nAnd it can actually be faster.\n\n1859\n01:24:19.490 --> 01:24:21.270\n>> Right.\n>> So, it's interesting.\n\n1860\n01:24:21.270 --> 01:24:22.030\nBut-\n>> [LAUGH]\n\n1861\n01:24:22.030 --> 01:24:25.060\n>> But anyhow, so if we want to do that.\n\n1862\n01:24:25.060 --> 01:24:27.022\n>> Unless it's around\nthe holiday time I should say.\n\n1863\n01:24:27.022 --> 01:24:28.820\n[LAUGH]\n>> Well, a couple of days late.\n\n1864\n01:24:28.820 --> 01:24:34.870\nBut one of the things we can do is\nwe can export our DFS database.\n\n1865\n01:24:34.870 --> 01:24:38.644\nWe can dump the whole\nDFS environment to file.\n\n1866\n01:24:38.644 --> 01:24:42.685\nSo that we can then take that through\nwhatever means we want to our new server.\n\n1867\n01:24:42.685 --> 01:24:44.970\n>> Right\n>> And import it there, so\n\n1868\n01:24:44.970 --> 01:24:47.750\nthat we have a head start that\nit's already got that stuff, and\n\n1869\n01:24:47.750 --> 01:24:50.660\nwhen it fires up I think Mike you said it\nearlier when they come up they just need\n\n1870\n01:24:50.660 --> 01:24:52.625\nto get the changes\n>> Right cuz since we made that backup,\n\n1871\n01:24:52.625 --> 01:24:55.325\nit might have been this morning, or\nyesterday, or something like that,\n\n1872\n01:24:55.325 --> 01:24:57.265\nhad to drive it over or mail it over.\n\n1873\n01:24:57.265 --> 01:24:59.945\nThere's gonna be some changes that have\noccurred since we made that backup.\n\n1874\n01:24:59.945 --> 01:25:02.715\nBut now you're talking\nabout a much smaller,\n\n1875\n01:25:02.715 --> 01:25:05.695\nreduced amount of information\nthey gotta replicate.\n\n1876\n01:25:05.695 --> 01:25:07.840\nWhich then, I don't mind that\ngoing across the the wan, maybe.\n\n1877\n01:25:08.850 --> 01:25:13.710\n>> Now, Microsoft has a great\narticle on their technet site.\n\n1878\n01:25:13.710 --> 01:25:15.810\nLet me just pull this up here.\n\n1879\n01:25:15.810 --> 01:25:19.610\nOn exporting a clone of the DFS\nreplication database, for\n\n1880\n01:25:19.610 --> 01:25:20.870\nexactly setting this up.\n\n1881\n01:25:20.870 --> 01:25:22.120\n>> Take a look at that applies to.\n\n1882\n01:25:22.120 --> 01:25:24.370\nThis is new to R2.\n\n1883\n01:25:24.370 --> 01:25:28.930\n>> Yeah, just in Windows server 2012 R2,\nand you know how it is with new features.\n\n1884\n01:25:28.930 --> 01:25:32.220\nMicrosoft always puts them on the exam,\nbecause they're new features.\n\n1885\n01:25:32.220 --> 01:25:36.240\nThe problem with this article is it's\ncompletely written assuming that you're\n\n1886\n01:25:36.240 --> 01:25:40.500\ngoing to do a power shell script to\nbe able to automate this process, so\n\n1887\n01:25:40.500 --> 01:25:42.980\nit deals with all these variables and\nthings.\n\n1888\n01:25:42.980 --> 01:25:47.460\nAnd so it's very confusing as you read\nthrough the multiple steps and so on.\n\n1889\n01:25:47.460 --> 01:25:52.220\nSo at the end of the day what this\npowershell script boils down to is really\n\n1890\n01:25:52.220 --> 01:25:53.670\njust a couple of commands\n>> Mm-hm.\n\n1891\n01:25:53.670 --> 01:25:54.350\n>> Okay?\n\n1892\n01:25:54.350 --> 01:25:56.140\nAnd so I simplified it a little bit.\n\n1893\n01:25:56.140 --> 01:25:59.110\nLet me get the URL so I can post it for\nyou guys, and you can have it for\n\n1894\n01:25:59.110 --> 01:26:00.099\nyour own reference.\n\n1895\n01:26:01.880 --> 01:26:05.720\nSo export, import ADFS database.\n\n1896\n01:26:05.720 --> 01:26:08.860\nSo there's the article for Microsoft.\n\n1897\n01:26:08.860 --> 01:26:12.650\nBut basically, the idea is that you\ncreate a folder on your source system,\n\n1898\n01:26:12.650 --> 01:26:14.670\nthe system that has the data right now.\n\n1899\n01:26:14.670 --> 01:26:19.940\nAnd in Power Shell,\nyou run Export-dfsrclone.\n\n1900\n01:26:19.940 --> 01:26:25.030\nYou specify the drive letter and the\nfolder that you want to dump the data to.\n\n1901\n01:26:25.030 --> 01:26:27.400\nSo I'm going to make\na folder called DFS dump and\n\n1902\n01:26:27.400 --> 01:26:29.120\nthat's where I'm going to put the data.\n\n1903\n01:26:29.120 --> 01:26:32.590\nThen through whatever means you want, and\nin their article they use Robocopy or\n\n1904\n01:26:32.590 --> 01:26:33.160\nthe network.\n\n1905\n01:26:33.160 --> 01:26:36.110\nBut this could be through USB or\nDVD or whatever.\n\n1906\n01:26:36.110 --> 01:26:38.640\nYou copy that data to your new server, and\n\n1907\n01:26:38.640 --> 01:26:42.800\non your new server you just\nrun import DFSR clone.\n\n1908\n01:26:42.800 --> 01:26:44.947\nAnd you specify the location of that dump,\nand\n\n1909\n01:26:44.947 --> 01:26:47.490\nit will import it into the new system and\nbring it back.\n\n1910\n01:26:48.580 --> 01:26:52.290\nSo if we want to see some of that process,\nI don't know if we'll do that whole thing,\n\n1911\n01:26:52.290 --> 01:26:54.460\nbut we can at least do the export and\n\n1912\n01:26:54.460 --> 01:26:59.530\ndump that out,\nusing this export DFSR clone command.\n\n1913\n01:26:59.530 --> 01:27:01.465\nI'm gonna copy that so\nI don't have to type it.\n\n1914\n01:27:01.465 --> 01:27:04.680\n>> [LAUGH]\n>> So, right now, server one's the only\n\n1915\n01:27:04.680 --> 01:27:10.300\none that has a real valid copy of my data,\nand so I'm gonna fire up PowerShell,\n\n1916\n01:27:10.300 --> 01:27:13.370\nand I'm just gonna run that as an\nadministrator just to be on the safe side.\n\n1917\n01:27:13.370 --> 01:27:16.170\nSometimes it doesn't-\n>> And make your folder.\n\n1918\n01:27:16.170 --> 01:27:18.100\n>> Yeah, I gotta make my folder first.\n\n1919\n01:27:18.100 --> 01:27:20.740\nAnd that's another thing,\nwhere that script uses PowerShell\n\n1920\n01:27:20.740 --> 01:27:24.175\ncommands to make the folder which is\na nice difficult way to do things.\n\n1921\n01:27:24.175 --> 01:27:26.990\n>> [LAUGH].\n>> But if you're trying to automate it,\n\n1922\n01:27:26.990 --> 01:27:29.510\nthat does work out really well-\n>> Mm-hm.\n\n1923\n01:27:29.510 --> 01:27:31.330\n>> But I'm not trying to automate it,\nI'm just trying to do it.\n\n1924\n01:27:31.330 --> 01:27:32.680\n>> If you're in the process of growing,\nand\n\n1925\n01:27:32.680 --> 01:27:35.110\nyou know you're gonna be setting\nup several branch offices, so\n\n1926\n01:27:35.110 --> 01:27:37.170\nthis is something you're gonna\nhave to do several times.\n\n1927\n01:27:37.170 --> 01:27:38.547\nAnd it makes sense to make a script, so\n\n1928\n01:27:38.547 --> 01:27:40.871\nyou don't have to type all those\ncommands out every time, but,\n\n1929\n01:27:40.871 --> 01:27:43.820\nIf it's just a one time thing, much easier\njust to type it out and be done with it.\n\n1930\n01:27:43.820 --> 01:27:44.690\n>> Yup.\n\n1931\n01:27:44.690 --> 01:27:45.672\nSo I just made my folder.\n\n1932\n01:27:45.672 --> 01:27:48.520\nSo now I have C:/dfs-dumb.\n\n1933\n01:27:48.520 --> 01:27:49.960\nAnd that name is just one I made up.\n\n1934\n01:27:49.960 --> 01:27:51.480\nYou can call it whatever you want, right.\n\n1935\n01:27:51.480 --> 01:27:53.778\nThat's what I picked.\n\n1936\n01:27:53.778 --> 01:27:57.924\nThen, well,\nI was going to paste that command in, but\n\n1937\n01:27:57.924 --> 01:28:01.359\napparently it's not going to happen for\nme.\n\n1938\n01:28:01.359 --> 01:28:06.874\nSo the command that I want\nis export -DfsrClone.\n\n1939\n01:28:06.874 --> 01:28:07.396\nAll right.\n\n1940\n01:28:07.396 --> 01:28:10.820\nAnd I used Tab, auto complete to\npull that up,it's kinda helpful.\n\n1941\n01:28:10.820 --> 01:28:15.313\nAnd then we need to specify the volume and\nthe path, right?\n\n1942\n01:28:15.313 --> 01:28:19.310\nAnd the syntax we can see, -Volume, -Path.\n\n1943\n01:28:19.310 --> 01:28:23.861\nIt's a little weird because-\n>> Because -volume's gonna be the volume\n\n1944\n01:28:23.861 --> 01:28:26.690\nthat has shared data on it that\nyou're trying to export out.\n\n1945\n01:28:26.690 --> 01:28:28.360\n>> Yep.\n\n1946\n01:28:28.360 --> 01:28:31.180\n>> And then path is gonna be where\nyou want to dump that information to.\n\n1947\n01:28:31.180 --> 01:28:32.860\n>> All right, so we can run that.\n\n1948\n01:28:32.860 --> 01:28:36.150\nIt's gonna let me know that it's gonna\nexport the database and create a clone.\n\n1949\n01:28:36.150 --> 01:28:38.568\nIt can take a long time right?\n\n1950\n01:28:38.568 --> 01:28:42.500\nThe bigger your data is,\nthe longer it's gonna take.\n\n1951\n01:28:42.500 --> 01:28:46.160\nAnd it says, and\nany replication will stop on the volume.\n\n1952\n01:28:46.160 --> 01:28:49.040\nIf this is your only server, that's\nnot something you have to worry about.\n\n1953\n01:28:49.040 --> 01:28:53.171\nBut if you have a bunch of servers, this\none server is gonna stop replicating with\n\n1954\n01:28:53.171 --> 01:28:55.440\nthe other partners while this export runs.\n\n1955\n01:28:55.440 --> 01:28:59.210\nBest to do this after hours if possible,\nwhich is partly why they do the script\n\n1956\n01:28:59.210 --> 01:29:01.770\nprocess, cuz you don't\nwanna be here after hours.\n\n1957\n01:29:01.770 --> 01:29:04.320\nYou can schedule this to run\nwhile you're at home asleep.\n\n1958\n01:29:04.320 --> 01:29:05.840\nAll right?\n\n1959\n01:29:05.840 --> 01:29:08.080\nAnd so we'll go ahead and\nsay yes, to let it run.\n\n1960\n01:29:09.940 --> 01:29:12.760\nAnd, if I remember right,\nthat's all it asks, there we go.\n\n1961\n01:29:12.760 --> 01:29:15.800\nNow its gonna run pretty fast for\nus, cuz our database is so small.\n\n1962\n01:29:15.800 --> 01:29:18.360\nRight?\nJust a handful of files in configuration.\n\n1963\n01:29:18.360 --> 01:29:20.820\nBut in real life land this\ncould take a long time.\n\n1964\n01:29:20.820 --> 01:29:24.080\nAnd it's letting me know that C:\\DFS-Dump,\n\n1965\n01:29:24.080 --> 01:29:26.230\nthat's the clone folder\nthat it's gonna do.\n\n1966\n01:29:26.230 --> 01:29:31.030\nAnd, if I wanna copy it over the network,\nit gives me the command to use right here,\n\n1967\n01:29:31.030 --> 01:29:34.430\nusing Robocopy,\nthe old Robust Copy program.\n\n1968\n01:29:34.430 --> 01:29:35.330\n>> Pretty handy.\n\n1969\n01:29:35.330 --> 01:29:38.050\n>> And so there's the syntax I\nwould use if I wanted to use that.\n\n1970\n01:29:38.050 --> 01:29:38.660\nYou don't have to.\n\n1971\n01:29:38.660 --> 01:29:39.770\nYou can use whatever you want.\n\n1972\n01:29:39.770 --> 01:29:42.340\nBut there's a neat thing\nthat Robocopy does.\n\n1973\n01:29:42.340 --> 01:29:45.210\nIf you look down here,\nlet me move that up on my screen a bit.\n\n1974\n01:29:45.210 --> 01:29:47.144\nHere they're doing Robocopy, and\n\n1975\n01:29:47.144 --> 01:29:50.440\nthey're copying that marketing\ncontent to a destination.\n\n1976\n01:29:50.440 --> 01:29:56.760\nAnd see all these tags they're using,\nthis very last one, /LOG+:preseed.log.\n\n1977\n01:29:56.760 --> 01:30:00.775\nThey're creating a log file to let you\nknow if any errors happen while copying\n\n1978\n01:30:00.775 --> 01:30:02.020\nthat data, all right?\n\n1979\n01:30:02.020 --> 01:30:04.079\nWe copy this command and we run it,\n\n1980\n01:30:04.079 --> 01:30:08.770\nand that's gonna copy our actual file\ncontents over, and get those in place.\n\n1981\n01:30:08.770 --> 01:30:12.490\nAnd then on the other side,\nwe just run the opposite of that command.\n\n1982\n01:30:12.490 --> 01:30:19.330\nWe do the Import-DfsrClone, and we specify\nthe volume that contains our backup.\n\n1983\n01:30:20.510 --> 01:30:25.500\nSo you know, maybe it's a USB key,\nand so it's X on the other system.\n\n1984\n01:30:25.500 --> 01:30:30.660\nAnd then the path, and so\non that USB key, maybe it's \\DFS-Dump,\n\n1985\n01:30:30.660 --> 01:30:34.320\nand then it's gonna find it there and\nimport that back in.\n\n1986\n01:30:34.320 --> 01:30:37.170\nNow, that's assuming that we've\nalready set up some of the basic\n\n1987\n01:30:37.170 --> 01:30:38.660\nthings inside of DFS.\n\n1988\n01:30:38.660 --> 01:30:41.870\nAnd so all of those other steps,\nthose basic things that need to be done,\n\n1989\n01:30:41.870 --> 01:30:43.310\nare right there in that article.\n\n1990\n01:30:43.310 --> 01:30:45.630\nIt really does break it all down.\n\n1991\n01:30:45.630 --> 01:30:48.060\nWhere did I put that?\n\n1992\n01:30:48.060 --> 01:30:48.890\nAnd why would it bring it up?\n\n1993\n01:30:48.890 --> 01:30:51.500\nThere we go.\nSo they mention that in here,\n\n1994\n01:30:51.500 --> 01:30:54.142\nthat you do need to install the DFS role.\n\n1995\n01:30:54.142 --> 01:30:55.480\nand those other things.\n\n1996\n01:30:55.480 --> 01:30:59.278\nBut the real function of importing and\nexporting the database boils\n\n1997\n01:30:59.278 --> 01:31:03.355\ndown to two commands, these two right\nhere, the export and the import.\n\n1998\n01:31:03.355 --> 01:31:07.807\nAnd if we wanna take a look\nat what it actually exported,\n\n1999\n01:31:07.807 --> 01:31:11.531\nlet me just browse into that, C:DFS-Dump.\n\n2000\n01:31:11.531 --> 01:31:17.130\nHere, you can see the configuration and\nthe database clone right there.\n\n2001\n01:31:17.130 --> 01:31:23.030\nAnd it can be quite large, depending on\nthe size of your share, and the amount\n\n2002\n01:31:23.030 --> 01:31:27.060\nof replication partners, and all that\nother stuff it, all contributes to it.\n\n2003\n01:31:27.060 --> 01:31:29.920\n>> And if I'm not mistaken, we can clone\na clone, like once you've imported on that\n\n2004\n01:31:29.920 --> 01:31:32.730\nmachine we can turn around and\nclone that again and go to another server.\n\n2005\n01:31:32.730 --> 01:31:35.123\nSo if you've got multiple servers to do,\nit works out pretty well.\n\n2006\n01:31:35.123 --> 01:31:38.093\n>> And\nremember it's multi-master replication.\n\n2007\n01:31:38.093 --> 01:31:38.990\n>> That's right.\n\n2008\n01:31:38.990 --> 01:31:40.420\n>> So, there is no primary.\n\n2009\n01:31:40.420 --> 01:31:41.430\nThe only thing you wanna do, though,\n\n2010\n01:31:41.430 --> 01:31:46.060\nis be sure when you restore this clone,\nkeep an eye on your replication reports.\n\n2011\n01:31:46.060 --> 01:31:50.310\nMake sure that it has successfully\ncompleted an initial replication, so\n\n2012\n01:31:50.310 --> 01:31:54.600\nthat you know it's current before you\nuse it to export a database again.\n\n2013\n01:31:54.600 --> 01:31:56.480\nSo, just be patient.\n\n2014\n01:31:56.480 --> 01:31:58.190\nDFS is an exercise in patience.\n\n2015\n01:31:58.190 --> 01:31:58.970\n>> It is.\nIt is.\n\n2016\n01:31:58.970 --> 01:32:01.019\nIt's one of those things where you\njust have to, okay, I'm gonna do this,\n\n2017\n01:32:01.019 --> 01:32:01.610\nand I'm gonna wait.\n\n2018\n01:32:01.610 --> 01:32:05.444\nYou can't just sit there and\nwatch it and, go get you some lunch,\n\n2019\n01:32:05.444 --> 01:32:08.105\ncome back tomorrow,\nwhatever you got to do.\n\n2020\n01:32:08.105 --> 01:32:12.047\n>> Yep, I implemented DFS\noriginally under Windows 2000, and\n\n2021\n01:32:12.047 --> 01:32:14.483\nI'm a Microsoft Certified Trainer, so\n\n2022\n01:32:14.483 --> 01:32:17.650\nback then I was doing\nofficial Microsoft training.\n\n2023\n01:32:17.650 --> 01:32:20.786\nAnd, when we would, we'd setup\nthese servers in class or whatever,\n\n2024\n01:32:20.786 --> 01:32:23.800\nI'd usually tell them, all right,\nlet's take a lunch break.\n\n2025\n01:32:23.800 --> 01:32:26.165\nLet's go and wait for this to settle down.\n\n2026\n01:32:26.165 --> 01:32:28.010\nCuz if you didn't,\nif you tried to rush it,\n\n2027\n01:32:28.010 --> 01:32:29.700\nyou ended up with all sorts of problems.\n\n2028\n01:32:29.700 --> 01:32:32.369\nSo, that was a pretty common thing.\n\n2029\n01:32:32.369 --> 01:32:37.670\nAll right, so that's really about it,\ndid we leave anything out?\n\n2030\n01:32:37.670 --> 01:32:39.460\n>> No.\nWe hit optimization earlier when we\n\n2031\n01:32:39.460 --> 01:32:40.670\ntalked about setting up the,\n\n2032\n01:32:40.670 --> 01:32:44.910\nthrottling the bandwidth and\nlimiting when it was gonna occur, so.\n\n2033\n01:32:44.910 --> 01:32:49.210\n>> Yeah and then the remote differential\ncompression and how you can turn that off,\n\n2034\n01:32:49.210 --> 01:32:52.667\nand that may actually optimize\nyou in certain scenarios.\n\n2035\n01:32:52.667 --> 01:32:53.530\n>> Use case scenarios.\n\n2036\n01:32:53.530 --> 01:32:55.320\n>> But that's about it.\n\n2037\n01:32:55.320 --> 01:32:56.840\nDFS, it's really cool.\n\n2038\n01:32:56.840 --> 01:32:58.190\nIt's really easy to get set up.\n\n2039\n01:32:58.190 --> 01:32:59.970\nThe only hard part we had\nhere was just breaking it.\n\n2040\n01:32:59.970 --> 01:33:01.100\nAnd that turned out to\nbe a little bit tough.\n\n2041\n01:33:01.100 --> 01:33:03.140\n>> And it's free,\nit's part of your licence with Server.\n\n2042\n01:33:03.140 --> 01:33:05.230\n>> It's as free as Server is, right?\n\n2043\n01:33:05.230 --> 01:33:06.360\n>> [LAUGH]\n>> So you don't pay extra for it.\n\n2044\n01:33:06.360 --> 01:33:07.650\nTake advantage of it.\n\n2045\n01:33:07.650 --> 01:33:11.214\nEven if you only have one server,\nit's still worth it to do DFS,\n\n2046\n01:33:11.214 --> 01:33:16.070\nbecause it will help you migrate away from\nthat server when it comes time to upgrade.\n\n2047\n01:33:16.070 --> 01:33:18.100\n>> Absolutely.\nAbsolutely\n\n2048\n01:33:18.100 --> 01:33:20.480\n>> All right so remember,\n\n2049\n01:33:20.480 --> 01:33:25.460\nif you have any questions, live during\nthe show you can go to itpro.tv/live,\n\n2050\n01:33:25.460 --> 01:33:28.070\nthe chat box is right\nthere beneath the video.\n\n2051\n01:33:28.070 --> 01:33:29.540\nYou can post your questions.\n\n2052\n01:33:29.540 --> 01:33:31.260\nWe monitor and answer during the show.\n\n2053\n01:33:31.260 --> 01:33:33.300\nIf you have any questions\non this after the show.\n\n2054\n01:33:33.300 --> 01:33:35.608\nIf you're watching this six\nmonths from now or whatever.\n\n2055\n01:33:35.608 --> 01:33:39.730\nOn the itpro.tv website there's\na Q&A link at the top of every page.\n\n2056\n01:33:39.730 --> 01:33:40.875\nClick on it.\nYou can go in there and\n\n2057\n01:33:40.875 --> 01:33:42.760\npost your questions,\nwe monitor and answer.\n\n2058\n01:33:42.760 --> 01:33:45.060\nI know Ronnie's doing better than\nme at answering them lately.\n\n2059\n01:33:45.060 --> 01:33:47.110\nI need to get in there and earn my pay.\n\n2060\n01:33:47.110 --> 01:33:49.520\nBut we try and do a good job with that.\n\n2061\n01:33:49.520 --> 01:33:51.808\nSo we're making sure you're\ngetting your questions answered so\n\n2062\n01:33:51.808 --> 01:33:52.690\nyou understand a topic.\n\n2063\n01:33:52.690 --> 01:33:55.740\nIf you ask a really good question,\none that takes more than just typing\n\n2064\n01:33:55.740 --> 01:33:57.990\na paragraph or two,\nwe may turn it into an episode.\n\n2065\n01:33:57.990 --> 01:33:58.950\nWe've done that once or twice.\n\n2066\n01:33:58.950 --> 01:34:02.660\nSo definitely use that resource,\nit's there for you.\n\n2067\n01:34:03.840 --> 01:34:06.830\nAll right, well signing off for\nITProTV, I'm Don Pezet.\n\n2068\n01:34:06.830 --> 01:34:07.900\n>> And I'm Mike Rodrick.\n\n2069\n01:34:07.900 --> 01:34:09.570\n>> And we'll see you next time.\n\n2070\n01:34:09.570 --> 01:34:19.570\n[MUSIC]\n\n",
          "vimeoId": "85921170"
        },
        {
          "description": "In this episode, Mike and Daniel begin to explain and configure the File Server Resource Manager(FSRM) in Windows Server 2012R2. They start by overviewing the FSRM role and then move into one of the features that FSRM provides, which is quota management. This allows you to set disk quotas, giving you a system for making sure that disk space is being protected from over utilization.",
          "length": "1766",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-5-1-file_server_resource_manager-083115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-5-1-file_server_resource_manager-083115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-5-1-file_server_resource_manager-083115-1-sm.jpg",
          "title": "File Server Resource Manager",
          "transcript": "WEBVTT\n\n1\n00:00:00.012 --> 00:00:10.440\n[MUSIC]\n\n2\n00:00:10.440 --> 00:00:14.288\nAll right, greetings, everyone and welcome\nto another great episode of ITProTV,\n\n3\n00:00:14.288 --> 00:00:15.840\nI'm your host, Daniel Lowrey.\n\n4\n00:00:15.840 --> 00:00:17.180\nHere with me today, Mr. Mike Rodrick.\n\n5\n00:00:17.180 --> 00:00:18.580\nHow's it going today, Mike?\n\n6\n00:00:18.580 --> 00:00:20.470\n>> It's going great, Daniel,\nI'm excited to be here.\n\n7\n00:00:20.470 --> 00:00:24.530\nWe got another one of our\n7411 episodes coming your way\n\n8\n00:00:24.530 --> 00:00:27.810\nin this one we're going to take a look\nat file server resource manager.\n\n9\n00:00:27.810 --> 00:00:30.520\nAnd it's actually a really cool console,\nDaniel.\n\n10\n00:00:30.520 --> 00:00:33.210\nIt's one of those that I don't\nthink gets a lot of notice, but\n\n11\n00:00:33.210 --> 00:00:34.860\nit's got some pretty\ncool features in there.\n\n12\n00:00:34.860 --> 00:00:38.412\n>> Yeah, it's definitely the unsung\nhero of the Windows server environment.\n\n13\n00:00:38.412 --> 00:00:40.430\n>> [LAUGH]\n>> It definitely doesn't get a lot of play\n\n14\n00:00:40.430 --> 00:00:42.670\nbut there are some cool uses for it.\n\n15\n00:00:42.670 --> 00:00:45.290\nAnd there's one great use for\nit, passing that Microsoft exam.\n\n16\n00:00:45.290 --> 00:00:46.880\n>> [LAUGH]\n>> So that is definitely the most\n\n17\n00:00:46.880 --> 00:00:50.130\nimportant feature that we're going\nto try to convey for you guys today.\n\n18\n00:00:50.130 --> 00:00:53.360\nBut Mike, you are master of this guy,\nyou've used it once or twice.\n\n19\n00:00:53.360 --> 00:00:54.040\n>> Once or twice.\n\n20\n00:00:54.040 --> 00:00:54.870\n>> Should I say?\n>> Yeah, yeah.\n\n21\n00:00:54.870 --> 00:00:56.390\n>> And you're going to help\nus out with this thing right?\n\n22\n00:00:56.390 --> 00:00:57.270\n>> I'm damn sure going to try.\n\n23\n00:00:57.270 --> 00:00:57.790\n>> All right, let's do it.\n\n24\n00:00:57.790 --> 00:00:58.720\n>> All right, so let's take a look at it.\n\n25\n00:00:58.720 --> 00:01:01.640\nThe first thing you're going to want to\nmake sure you know is how to install it.\n\n26\n00:01:01.640 --> 00:01:03.180\nWe're not gonna go through that guys and\ngals.\n\n27\n00:01:03.180 --> 00:01:06.710\nAt this point, you better know how\nto install a rule or a feature.\n\n28\n00:01:06.710 --> 00:01:11.060\nI'll show you real quick you guys,\nremember if I got in here in Add Rules and\n\n29\n00:01:11.060 --> 00:01:11.800\nFeatures.\n\n30\n00:01:11.800 --> 00:01:15.950\nAnd I'll click Next, Next,\nNext to get to my Rule Selection screen.\n\n31\n00:01:17.470 --> 00:01:19.770\nAnd the only thing you might\nhave trouble with is finding it,\n\n32\n00:01:19.770 --> 00:01:23.450\nbecause you're not gonna find File Server\nResource Manager on this list, but\n\n33\n00:01:23.450 --> 00:01:27.470\nif I expand out File and Storage Services,\nand then I expand out file and\n\n34\n00:01:27.470 --> 00:01:32.380\nI SCSI, that's where I'm going to\nfind file server resource manager.\n\n35\n00:01:32.380 --> 00:01:34.830\nYou can see I've already installed\nit on this particular machine.\n\n36\n00:01:34.830 --> 00:01:38.640\nSo, relatively simple,\njust remember it's underneath file and\n\n37\n00:01:38.640 --> 00:01:42.010\nstorage services file and\nfile and I-SCSI services.\n\n38\n00:01:42.010 --> 00:01:42.750\n[COUGH] Excuse me.\n\n39\n00:01:42.750 --> 00:01:46.090\nSo I'll cancel that one out and\nlet's just open up that console.\n\n40\n00:01:46.090 --> 00:01:49.560\nSo, now that I've got it installed,\nshould be able to get all tools and\n\n41\n00:01:49.560 --> 00:01:53.170\nthen file server,\nresource manager and there we go.\n\n42\n00:01:53.170 --> 00:01:54.830\nThere is our console.\n\n43\n00:01:54.830 --> 00:01:58.060\nNow we've got several things to go over in\nhere in fact a couple of these are called\n\n44\n00:01:58.060 --> 00:02:03.120\nout on this exam, a couple of these are\nactually called out on the 412 exam, so\n\n45\n00:02:03.120 --> 00:02:06.970\nI'll be saving those, but, while we're\nhere on this overview of the console lets\n\n46\n00:02:06.970 --> 00:02:08.530\njust talk about it for a second.\n\n47\n00:02:08.530 --> 00:02:13.810\nIn here we have quota management quota\nmanagement is just like you probably\n\n48\n00:02:13.810 --> 00:02:16.880\nexpect is how I can set up quotas.\n\n49\n00:02:16.880 --> 00:02:22.430\nIn other words I want to control how\nmuch space each user is allowed to use.\n\n50\n00:02:22.430 --> 00:02:25.650\nNow, this is a big problem we have\nin these enterprise environments.\n\n51\n00:02:25.650 --> 00:02:28.040\nData storage,\nyou know storing all that information,\n\n52\n00:02:28.040 --> 00:02:30.470\nall the information that\nmy users are generating.\n\n53\n00:02:30.470 --> 00:02:32.130\nIt is a challenge sometimes and\n\n54\n00:02:32.130 --> 00:02:36.250\nwe've gotta keep that under\ncontrol before it just goes crazy.\n\n55\n00:02:36.250 --> 00:02:40.823\nOne of the things we can try to do is make\nsure that each person is getting their\n\n56\n00:02:40.823 --> 00:02:45.260\nallocated, or their fair share,\nof the space I have available, right?\n\n57\n00:02:45.260 --> 00:02:47.452\nI don't wanna put up a file server and\n\n58\n00:02:47.452 --> 00:02:52.420\nI've got some shares created where I want\neverybody to be saving their documents.\n\n59\n00:02:52.420 --> 00:02:56.376\nMost enterprises, they'll tell their\nusers don't save anything on their local\n\n60\n00:02:56.376 --> 00:02:59.423\nmachine because we don't back\nyour local machine up, right?\n\n61\n00:02:59.423 --> 00:03:02.989\nBut we back those file servers up\nevery night so, if it's important,\n\n62\n00:03:02.989 --> 00:03:06.150\nyou better be saving on one\nof these shares up there.\n\n63\n00:03:06.150 --> 00:03:07.440\nSo that's what we do.\n\n64\n00:03:07.440 --> 00:03:11.330\nBut then I find out that Daniel's got\nhis entire MP3 collection up there and\n\n65\n00:03:11.330 --> 00:03:14.700\nhe's using 90% of the available\nstorage place, all right.\n\n66\n00:03:14.700 --> 00:03:17.590\nNot fair to the other\nusers on the network.\n\n67\n00:03:17.590 --> 00:03:20.725\n>> Has a large anthology disk, what can\nI say, I gotta put them some where.\n\n68\n00:03:20.725 --> 00:03:21.830\n>> [LAUGH]\n>> [LAUGH] Okay.\n\n69\n00:03:21.830 --> 00:03:25.560\n>> So if you want to try to make sure that\neverybody's getting their fair share,\n\n70\n00:03:25.560 --> 00:03:29.000\nthat space that's available, and\nthat's what coders let me do.\n\n71\n00:03:29.000 --> 00:03:32.670\nAnd these are not your good old NTFS\ndisk coders that we use to deal with\n\n72\n00:03:32.670 --> 00:03:33.490\nin Windows.\n\n73\n00:03:33.490 --> 00:03:34.530\nThose were very limited.\n\n74\n00:03:34.530 --> 00:03:37.180\nYou know,\nthey were done on a per volume basis.\n\n75\n00:03:37.180 --> 00:03:39.330\nYou did them on the machine itself.\n\n76\n00:03:39.330 --> 00:03:43.710\nAnd if you had like a d colon\nup on that file server, and\n\n77\n00:03:43.710 --> 00:03:50.280\nthere were three shares on that d colon,\nthe quota actually covered all three.\n\n78\n00:03:50.280 --> 00:03:54.740\nThere was a lot of limitations to it,\nand it was very manual process.\n\n79\n00:03:54.740 --> 00:03:57.510\nThis centrally managed quotas.\n\n80\n00:03:57.510 --> 00:03:58.290\nVery, very cool.\n\n81\n00:03:58.290 --> 00:04:02.340\nWe've got quota templates in there,\ngoing to talk about those as well.\n\n82\n00:04:02.340 --> 00:04:06.641\nSo, quotas are going to allow me to\ncontrol how much space each user is\n\n83\n00:04:06.641 --> 00:04:08.940\nallocated or allowed to use.\n\n84\n00:04:08.940 --> 00:04:11.710\nThen I've got File Screen Management, and\n\n85\n00:04:11.710 --> 00:04:14.800\nthis is how I can prevent\ncertain types of files.\n\n86\n00:04:14.800 --> 00:04:18.190\nQuotas, how much space they're using?\n\n87\n00:04:18.190 --> 00:04:21.420\nThe File Screen Management,\nwhat types of files?\n\n88\n00:04:21.420 --> 00:04:24.820\nSo maybe I want to prevent those MP3s from\nbeing put up there in the first place,\n\n89\n00:04:24.820 --> 00:04:28.060\nthen I don't have to worry about\nMetallica's entire anthology being up\n\n90\n00:04:28.060 --> 00:04:31.120\nthere, or\ntheir entire discography being up there.\n\n91\n00:04:31.120 --> 00:04:32.430\nSo we can control what types of files.\n\n92\n00:04:32.430 --> 00:04:37.130\nYou might not want your users\nstoring executables or scripts or\n\n93\n00:04:37.130 --> 00:04:39.630\nthings like that on\nthat particular server.\n\n94\n00:04:39.630 --> 00:04:41.900\nSo that's what\nFile Screening Management is all about.\n\n95\n00:04:41.900 --> 00:04:46.700\nAnd then we've got some gorgeous\nreports this will generate that\n\n96\n00:04:46.700 --> 00:04:50.750\ngives us the ability to view,\nto see what's going on.\n\n97\n00:04:50.750 --> 00:04:54.030\nWith our quotas and\nour file screens and things like that.\n\n98\n00:04:54.030 --> 00:04:56.790\nSo those are the three that\nwe're gonna focus in on today.\n\n99\n00:04:57.970 --> 00:05:00.700\nBelow that though, I wanna go ahead and\ngive you a heads up on these guys because\n\n100\n00:05:00.700 --> 00:05:05.340\nthey might ask you a question about them,\nshouldn't really be until the 412 exam.\n\n101\n00:05:05.340 --> 00:05:10.070\nBut the Classification Management and File\nManagement tasks kinda worked together.\n\n102\n00:05:10.070 --> 00:05:13.420\nClassification management\nis a way that we can\n\n103\n00:05:13.420 --> 00:05:15.880\nadd additional\nclassifications to documents.\n\n104\n00:05:15.880 --> 00:05:17.470\nLike documents have properties, right?\n\n105\n00:05:17.470 --> 00:05:21.380\nLike a size, and a name,\nand a, last accessed by,\n\n106\n00:05:21.380 --> 00:05:24.590\nand last modified, and things like that.\n\n107\n00:05:24.590 --> 00:05:27.873\nClassification management just allows\nme to create my own properties,\n\n108\n00:05:27.873 --> 00:05:30.961\nmy own classifications and\nassign them to these documents, like.\n\n109\n00:05:30.961 --> 00:05:35.747\nI can make up whatever I want, top secret,\npublic, not so secret, or high,\n\n110\n00:05:35.747 --> 00:05:40.790\nmedium, low and we can do all kinds\nof cool things or PII, what have you?\n\n111\n00:05:40.790 --> 00:05:45.450\nAnd it gives us a process to actually\nexamine the files and classify them.\n\n112\n00:05:45.450 --> 00:05:47.090\nWe can actually automate this.\n\n113\n00:05:47.090 --> 00:05:49.707\nSo let's say I can write\na rule that says look for\n\n114\n00:05:49.707 --> 00:05:52.490\nthree digits dash two\ndigits dash four digits.\n\n115\n00:05:52.490 --> 00:05:57.270\nAny time you see that,\nimmediately classify it\n\n116\n00:05:57.270 --> 00:06:02.410\nas PII because that's the format of\na US Social Security number for example.\n\n117\n00:06:02.410 --> 00:06:05.010\nAnd I can have it examine\nthese folders every hour.\n\n118\n00:06:05.010 --> 00:06:08.500\nSo if somebody puts something up there and\nit's got a Social Security number in it.\n\n119\n00:06:08.500 --> 00:06:10.640\nIt immediately gets classified.\n\n120\n00:06:10.640 --> 00:06:13.040\nGreat Mike,\nwhat's that classification do for us?\n\n121\n00:06:13.040 --> 00:06:15.750\nWell, that's where the file\nmanagement tasks come in.\n\n122\n00:06:15.750 --> 00:06:20.290\nThat next part of it is, now let's do\nsomething based on those clarifications.\n\n123\n00:06:20.290 --> 00:06:23.700\nAnything that's marked as PII shouldn't\nbe on this server in the first place,\n\n124\n00:06:23.700 --> 00:06:26.640\ncuz this allows access without\nusing a secure connection.\n\n125\n00:06:26.640 --> 00:06:28.590\nSo I wanna move it to another server.\n\n126\n00:06:28.590 --> 00:06:32.410\nOr anything that, you can also do simpler\nthings, like with file management tasks.\n\n127\n00:06:32.410 --> 00:06:36.950\nI can look at the last access, and\nif it hasn't been accessed in six months,\n\n128\n00:06:36.950 --> 00:06:39.790\nwe move it off to a storage server or\nsomething like that.\n\n129\n00:06:39.790 --> 00:06:42.760\nSo a lot of cool things that we\ncan do there, again, automate it.\n\n130\n00:06:42.760 --> 00:06:46.730\nWe can run these processes on\na schedule that we set up.\n\n131\n00:06:46.730 --> 00:06:49.400\nSome very neat things you\ncan do with that as well but\n\n132\n00:06:49.400 --> 00:06:54.240\nwe'll save those for 412 where we\nalso get into dynamic access control.\n\n133\n00:06:54.240 --> 00:06:56.170\nThey kinda tie in together.\n\n134\n00:06:56.170 --> 00:07:00.630\nAll right, so that's a brief overview of\nthe good old File Server Resource Manager.\n\n135\n00:07:00.630 --> 00:07:04.530\nNow, let's start taking a look\nat this first section here\n\n136\n00:07:04.530 --> 00:07:06.820\nwhich is Quota Management.\n\n137\n00:07:06.820 --> 00:07:11.650\nNow, underneath Quota Management,\nI have Quotas and I have Quota Templates.\n\n138\n00:07:11.650 --> 00:07:13.490\nI don't have any quotas defined yet.\n\n139\n00:07:13.490 --> 00:07:16.920\nI just installed this, but\nI do have some Quota Templates.\n\n140\n00:07:16.920 --> 00:07:18.060\nAnd thank you, Microsoft.\n\n141\n00:07:18.060 --> 00:07:20.950\nThey give us some prebuilt\ntemplates that we can use\n\n142\n00:07:20.950 --> 00:07:23.150\nright out of the box if we want to.\n\n143\n00:07:23.150 --> 00:07:27.590\nWe can also modify these\nexisting templates or I can make\n\n144\n00:07:27.590 --> 00:07:32.080\na copy of one of these templates and tweak\nit a little bit and give it a new name.\n\n145\n00:07:32.080 --> 00:07:34.930\nSo, really whatever you wanna do right,\nif you want to start from scratch,\n\n146\n00:07:34.930 --> 00:07:37.850\ngreat, if you want to use one\nof their existing ones great,\n\n147\n00:07:37.850 --> 00:07:40.350\nif you want to modify one of\ntheir existing ones great,\n\n148\n00:07:40.350 --> 00:07:44.400\nif you want to modify one but not lose\nthe original, you can make a copy of it.\n\n149\n00:07:44.400 --> 00:07:46.320\nAll very easy to do.\n\n150\n00:07:46.320 --> 00:07:48.798\nAnd what's really cool\nabout these templates is,\n\n151\n00:07:48.798 --> 00:07:50.765\none they give you reusability, right?\n\n152\n00:07:50.765 --> 00:07:54.790\nYou're gonna see the different properties\nthat go into setting up a quota.\n\n153\n00:07:54.790 --> 00:07:55.808\nI'm gonna show you that.\n\n154\n00:07:55.808 --> 00:07:57.751\nAnd by creating a quota template,\n\n155\n00:07:57.751 --> 00:08:02.660\nI can save all those properties in this\ntemplate, and then just apply it, right?\n\n156\n00:08:02.660 --> 00:08:04.500\nSo I set up a new share next week.\n\n157\n00:08:04.500 --> 00:08:07.465\nI want the exact same quota\nbeing applied to that share\n\n158\n00:08:07.465 --> 00:08:09.365\nas I did on the share last week.\n\n159\n00:08:09.365 --> 00:08:09.995\nNo problem.\n\n160\n00:08:09.995 --> 00:08:11.735\nJust apply the template, right?\n\n161\n00:08:11.735 --> 00:08:13.325\nI can have as many templates as I need.\n\n162\n00:08:13.325 --> 00:08:16.675\nI have all these ready to go,\nand I can just apply it.\n\n163\n00:08:16.675 --> 00:08:19.865\nAnd another really cool thing\nabout these templates is\n\n164\n00:08:19.865 --> 00:08:24.007\nthey can remain tied to the locations\nwhere you've used them.\n\n165\n00:08:24.007 --> 00:08:24.917\nIn other words,\n\n166\n00:08:24.917 --> 00:08:29.757\nif I've used this particular template on\nfour different shares on this server.\n\n167\n00:08:29.757 --> 00:08:33.717\nAnd let's say I set it up to where\neverybody got 5 GB of space.\n\n168\n00:08:33.717 --> 00:08:35.867\nAnd now I'm thinking 5 GB wasn't enough.\n\n169\n00:08:35.867 --> 00:08:37.607\nI really wanna up that to ten.\n\n170\n00:08:37.607 --> 00:08:41.187\nWell, I can go and\nmodify each individual template.\n\n171\n00:08:41.187 --> 00:08:44.920\nI mean, each individual quota, or\nI can modify the template once.\n\n172\n00:08:44.920 --> 00:08:48.200\nAnd have to change propagate\nout to all the locations\n\n173\n00:08:48.200 --> 00:08:50.070\nwhere I've applied that template.\n\n174\n00:08:50.070 --> 00:08:53.140\nSo you get that ease of modification.\n\n175\n00:08:53.140 --> 00:08:55.610\nThe ability to update that template and\n\n176\n00:08:55.610 --> 00:08:58.285\nnot have to go out all\nthe individual places with scanners.\n\n177\n00:08:58.285 --> 00:09:00.796\nIt's just a management,\nthat's a great time over there.\n\n178\n00:09:00.796 --> 00:09:03.114\n>> Yeah,\nthat's where Microsoft really shines,\n\n179\n00:09:03.114 --> 00:09:05.269\nis their ability to centralize management.\n\n180\n00:09:05.269 --> 00:09:08.230\nThey've really made a good\nbusiness of doing that.\n\n181\n00:09:08.230 --> 00:09:11.280\nThis file management\nsystem is no different,\n\n182\n00:09:11.280 --> 00:09:15.440\nreally, giving you that one spot to\ngo to to say, I need to set quotas.\n\n183\n00:09:15.440 --> 00:09:19.480\nI need to put all these different\nstatistics or, I'm sorry, not the word.\n\n184\n00:09:19.480 --> 00:09:21.880\nI can't think of it.\n\n185\n00:09:21.880 --> 00:09:22.740\n>> Classifications?\n\n186\n00:09:22.740 --> 00:09:23.400\n>> Yes, classifications.\n\n187\n00:09:23.400 --> 00:09:24.820\nThat's exactly what I was looking for.\n\n188\n00:09:24.820 --> 00:09:26.650\n>> That's it.\n>> All that cool stuff built into\n\n189\n00:09:26.650 --> 00:09:28.220\none management console.\n\n190\n00:09:28.220 --> 00:09:30.550\nGiving you the power,\nyou don't have to bounce around.\n\n191\n00:09:30.550 --> 00:09:32.570\nThat is the sweet stuff.\n\n192\n00:09:32.570 --> 00:09:33.310\nThank you Microsoft.\n\n193\n00:09:33.310 --> 00:09:35.610\n>> Absolutely, got to love it.\n\n194\n00:09:35.610 --> 00:09:41.108\nSo let's start off taking a look at these\nquotas and what I can do with them here.\n\n195\n00:09:41.108 --> 00:09:42.715\nI'm gonna ahead, let's see,\n\n196\n00:09:42.715 --> 00:09:45.750\nthere's a couple of different\nways we can go about this.\n\n197\n00:09:45.750 --> 00:09:48.250\nLet me make a couple of shares so\nwe have something to play with.\n\n198\n00:09:48.250 --> 00:09:49.610\nI've got one called Data.\n\n199\n00:09:49.610 --> 00:09:51.580\nI've got one called Storage.\n\n200\n00:09:51.580 --> 00:09:57.210\nI'll quickly make another new folder here,\nand I'll call it, I don't know,\n\n201\n00:09:57.210 --> 00:10:02.900\nEmpDocs, something fancy like that,\nif I could type.\n\n202\n00:10:02.900 --> 00:10:05.790\nAll right, there we go.\n\n203\n00:10:05.790 --> 00:10:07.510\nAnd let me just share this out real quick.\n\n204\n00:10:07.510 --> 00:10:09.490\nAnd I know you guys,\n\n205\n00:10:09.490 --> 00:10:13.395\nif you are paying attention, you're\nnot gonna like the option I use here.\n\n206\n00:10:13.395 --> 00:10:17.120\n>> [LAUGH]\n>> But this is for a lab environment, and\n\n207\n00:10:17.120 --> 00:10:18.860\nI'm not real security conscious right now.\n\n208\n00:10:20.450 --> 00:10:22.150\n>> Mikey is giving you\na good demonstration of what\n\n209\n00:10:22.150 --> 00:10:23.218\nnot to do in the real world.\n\n210\n00:10:23.218 --> 00:10:25.140\n>> [LAUGH] Yeah. [LAUGH] >> Share with\neveryone, give them full control.\n\n211\n00:10:25.140 --> 00:10:25.640\n>> That's right.\n\n212\n00:10:25.640 --> 00:10:26.713\n>> That is always the way to go.\n\n213\n00:10:26.713 --> 00:10:27.683\n>> What could go wrong?\n\n214\n00:10:27.683 --> 00:10:28.480\n>> No.\n[LAUGH]\n\n215\n00:10:28.480 --> 00:10:28.986\n>> [LAUGH]\n\n216\n00:10:28.986 --> 00:10:29.946\n>> All right, so\n\n217\n00:10:29.946 --> 00:10:32.200\nwe got a couple things\nthat we can play with.\n\n218\n00:10:32.200 --> 00:10:35.750\nAt first, what I'm gonna do is I'm\njust gonna right click up here, and\n\n219\n00:10:35.750 --> 00:10:37.170\nchoose Create Quota.\n\n220\n00:10:37.170 --> 00:10:40.840\nAnd that's gonna open up my\nCreate Quota dialogue box, and\n\n221\n00:10:40.840 --> 00:10:43.720\nI'm gonna choose where I\nwant to apply this quota.\n\n222\n00:10:43.720 --> 00:10:48.680\nSo that's gonna be on my C drive, and\nI'll grab that EmpDocs folder there.\n\n223\n00:10:48.680 --> 00:10:52.620\nI'll click OK, and\nI can create that quota on path.\n\n224\n00:10:52.620 --> 00:10:55.975\nNow interesting option here, Auto Apply\ntemplate, the second choice here.\n\n225\n00:10:55.975 --> 00:11:00.870\nAuto-apply template and create quotas\non existing and new subfolders.\n\n226\n00:11:00.870 --> 00:11:02.230\nIn fact, you know what?\n\n227\n00:11:02.230 --> 00:11:06.560\nI am going to just change it up on\nhere right in the middle of this lab.\n\n228\n00:11:06.560 --> 00:11:12.510\nI am going to go back into EmpDocs and\njust make a couple of folders real quick.\n\n229\n00:11:16.840 --> 00:11:18.640\nBecause I want to show you\nthe way that option works.\n\n230\n00:11:18.640 --> 00:11:20.470\nIt's a little bit different, or\n\n231\n00:11:20.470 --> 00:11:23.070\nit's kind of confusing the way\nthey have it listed there.\n\n232\n00:11:24.790 --> 00:11:27.170\nWhen you're doing a quota normally, so\n\n233\n00:11:27.170 --> 00:11:32.710\nI'll bring that gray quota back up,\nand I'll go pick my path there.\n\n234\n00:11:32.710 --> 00:11:34.120\nAnd that was on my C drive.\n\n235\n00:11:36.040 --> 00:11:39.180\nEmpDocs, and notice I'm picking\nthe root folder, all right?\n\n236\n00:11:39.180 --> 00:11:41.028\nThat very top level, not the Dan or Mike.\n\n237\n00:11:41.028 --> 00:11:44.300\nAnd I'm gonna click OK, and I'm going\nto choose auto-apply template and\n\n238\n00:11:44.300 --> 00:11:47.160\ncreate quota on existing and\nnew subfolders.\n\n239\n00:11:47.160 --> 00:11:51.780\nThis is a fantastic option if you're\ndoing things like folder redirection or\n\n240\n00:11:51.780 --> 00:11:53.810\nroaming profiles and things like that.\n\n241\n00:11:53.810 --> 00:11:58.560\nBecause rather than putting a template or\nquota on that root folder,\n\n242\n00:11:58.560 --> 00:12:02.120\nI really want to put a quota\non each individual subfolder.\n\n243\n00:12:02.120 --> 00:12:06.686\nI want Mike to have 10 GB,\nI want Dan to have 10 GB,\n\n244\n00:12:06.686 --> 00:12:10.780\nnot 10 GB total for the entire directory.\n\n245\n00:12:10.780 --> 00:12:13.140\nThat's what that option's\ngonna allow me to do.\n\n246\n00:12:13.140 --> 00:12:18.610\nAnd because it says and\nnew folders or new sub folders,\n\n247\n00:12:18.610 --> 00:12:22.130\nas we hire new employees, and we create\ntheir account and active directory.\n\n248\n00:12:22.130 --> 00:12:26.370\nAnd it automatically creates a subfolder\non that folder redirection group policy.\n\n249\n00:12:26.370 --> 00:12:27.670\nAs soon as that new folder for\n\n250\n00:12:27.670 --> 00:12:31.210\nJSON pops in there, it's gonna\nautomatically apply this template to it.\n\n251\n00:12:31.210 --> 00:12:33.660\nI don't have to go back and do anything.\n\n252\n00:12:33.660 --> 00:12:35.880\nFantastic option there.\n\n253\n00:12:35.880 --> 00:12:40.030\nNow, below that I can\nchoose my quota template,\n\n254\n00:12:40.030 --> 00:12:41.480\nwhich is really what they want you to do.\n\n255\n00:12:41.480 --> 00:12:45.540\nNotice it says, derive properties from\nthis quota template, recommended.\n\n256\n00:12:45.540 --> 00:12:46.330\nI don't have to.\n\n257\n00:12:46.330 --> 00:12:50.020\nI can come down here and\nstart setting up some custom ones.\n\n258\n00:12:50.020 --> 00:12:53.340\nI'm gonna go ahead and use one of their,\nit doesn't really matter,\n\n259\n00:12:53.340 --> 00:12:54.170\nthis is just a lab.\n\n260\n00:12:54.170 --> 00:12:58.460\nWe'll say 200 megabyte\nlimit report to user.\n\n261\n00:12:58.460 --> 00:13:01.130\nAnd I'll click Create and OK.\n\n262\n00:13:01.130 --> 00:13:04.630\nAnd what you'll see in my results pane\nhere is that it says EmpDocs, and\n\n263\n00:13:04.630 --> 00:13:06.370\nthen it has an asterisk next to it.\n\n264\n00:13:06.370 --> 00:13:10.590\nAll right, that's the indicator that\nsomebody has chosen the automatically\n\n265\n00:13:10.590 --> 00:13:14.880\napply to existing and new sub folders.\n\n266\n00:13:14.880 --> 00:13:17.010\nSo, it's telling me that it's\ngonna automatically apply, and\n\n267\n00:13:17.010 --> 00:13:23.090\nif we give it a minute, it'll actually\npop up here where we'll see those\n\n268\n00:13:23.090 --> 00:13:27.232\nother folder show up in just a minute,\nwe'll come back and take a peek at that.\n\n269\n00:13:27.232 --> 00:13:29.750\nAll right, but the next thing I wanna show\nyou is actually creating one of these\n\n270\n00:13:29.750 --> 00:13:33.100\ntemplates, because this is really\nwhere the power comes in, and\n\n271\n00:13:33.100 --> 00:13:34.660\nwhat we need to know how to do.\n\n272\n00:13:34.660 --> 00:13:35.755\nSo, I'm gonna come over here.\n\n273\n00:13:35.755 --> 00:13:38.770\nRight-click Create Quota Template.\n\n274\n00:13:38.770 --> 00:13:41.760\nOf course I can use my Actions\npane over there on the far right.\n\n275\n00:13:41.760 --> 00:13:44.840\nI'm a right-clicker,\nyou could use your menu system as well.\n\n276\n00:13:44.840 --> 00:13:47.720\nIt would be beneficial for\nyou when you're in there studying.\n\n277\n00:13:47.720 --> 00:13:49.280\nGo ahead and\nplay with the different options.\n\n278\n00:13:49.280 --> 00:13:52.360\nBut I'm gonna right-click,\nCreate Quota Template.\n\n279\n00:13:52.360 --> 00:13:57.300\nAnd up at the top it says, Copy properties\nfrom Quota template (optional).\n\n280\n00:13:57.300 --> 00:14:00.310\nWhat that would allow me to do\nis take one of those existing.\n\n281\n00:14:00.310 --> 00:14:02.790\nMaybe I had already made a template and\nI want to use, but\n\n282\n00:14:02.790 --> 00:14:04.100\njust tweak it a little bit.\n\n283\n00:14:04.100 --> 00:14:06.550\nOr I wanna start with\none of their existing.\n\n284\n00:14:06.550 --> 00:14:09.120\nI can choose it, and then click Copy.\n\n285\n00:14:09.120 --> 00:14:11.650\nAnd what it does is it\nfills out all these fields\n\n286\n00:14:11.650 --> 00:14:14.720\nwith the properties from\nthat template that I chose.\n\n287\n00:14:14.720 --> 00:14:18.350\nAnd then I can change them or\ndo whatever I need to do.\n\n288\n00:14:18.350 --> 00:14:20.990\nI'm gonna start from scratch, so\nwe're gonna start that one over.\n\n289\n00:14:22.950 --> 00:14:26.210\nAnd I'm not gonna copy anything\ndown from that top part.\n\n290\n00:14:26.210 --> 00:14:29.588\nAnd I'm gonna put, let's see,\nfor the name of this,\n\n291\n00:14:29.588 --> 00:14:32.166\nI'm just gonna call this one Quota Demo.\n\n292\n00:14:36.136 --> 00:14:40.149\nAnd let's limit them to, what do you say,\n\n293\n00:14:40.149 --> 00:14:43.840\nlet's do I don't know, 10240.\n\n294\n00:14:43.840 --> 00:14:45.070\nWhat is that, about 10 GB?\n\n295\n00:14:45.070 --> 00:14:48.720\nActually I can change that to gigabytes,\nlet's do 10 GB.\n\n296\n00:14:48.720 --> 00:14:52.340\nAll right, now below that,\nso I'm setting a limit.\n\n297\n00:14:52.340 --> 00:14:55.800\nI've set a name,\nI set the amount I wanna limit them to.\n\n298\n00:14:55.800 --> 00:14:59.910\nAnd then below that I have a hard quota,\nor I have a soft quota.\n\n299\n00:14:59.910 --> 00:15:04.290\nNow a hard quota, as it says there,\ndo not allow users to exceed limit.\n\n300\n00:15:04.290 --> 00:15:08.234\nThat means, if I'm setting in this 10 GB,\nand you get up to that 10 GB limit,\n\n301\n00:15:08.234 --> 00:15:10.590\nyou will not be able\nto save anything else.\n\n302\n00:15:10.590 --> 00:15:13.140\nIt will give you and error,\nit's gonna say, out of space.\n\n303\n00:15:13.140 --> 00:15:15.540\nYou're not gonna be able to save anything.\n\n304\n00:15:15.540 --> 00:15:19.430\nSoft quota will allow you\nto go beyond the quota.\n\n305\n00:15:19.430 --> 00:15:24.590\nEven if I've already got 10 GB worth of\nstuff, I can save more documents up there.\n\n306\n00:15:24.590 --> 00:15:27.170\nAnd you might think, well,\nwhy would you ever want to do that?\n\n307\n00:15:27.170 --> 00:15:28.990\nWhy, if you're going to set up this quota,\n\n308\n00:15:28.990 --> 00:15:31.490\nwhy would you want them\nto go beyond the quota?\n\n309\n00:15:31.490 --> 00:15:33.190\nAnd I can think of a couple reasons.\n\n310\n00:15:33.190 --> 00:15:36.230\nOne, I really wanna restrict their usage,\nbut\n\n311\n00:15:36.230 --> 00:15:38.210\nI don't wanna prevent\nanybody from saving a file.\n\n312\n00:15:38.210 --> 00:15:40.700\nWhat if they're in the middle of\nsaving something very important and\n\n313\n00:15:40.700 --> 00:15:41.680\nthey're out of space?\n\n314\n00:15:42.690 --> 00:15:45.730\nMaybe I don't wanna run into that risk.\n\n315\n00:15:45.730 --> 00:15:48.750\nMore than likely, though,\nyou're just doing some monitoring.\n\n316\n00:15:48.750 --> 00:15:51.390\nYou're trying to figure out what\nyou should set that limit to.\n\n317\n00:15:51.390 --> 00:15:54.965\nI'm gonna set it to ten, but I don't\nreally know if people are using more than\n\n318\n00:15:54.965 --> 00:15:56.670\nten, less than ten or what have you.\n\n319\n00:15:56.670 --> 00:15:59.414\nSo maybe I set it to ten,\nbut do a soft quota.\n\n320\n00:15:59.414 --> 00:16:02.998\nAnd then I can get a report on how many\npeople are going beyond that quota, but\n\n321\n00:16:02.998 --> 00:16:05.690\nit's not gonna stop them\nfrom saving anything.\n\n322\n00:16:05.690 --> 00:16:08.908\nAnd if I see that 80% of my users\nhave gone beyond that quota,\n\n323\n00:16:08.908 --> 00:16:11.640\nmaybe I wana adjust my quota a little bit.\n\n324\n00:16:11.640 --> 00:16:13.620\nOr maybe I need to look at\nour business practice and\n\n325\n00:16:13.620 --> 00:16:16.690\nsee why these people are saving ten\ngigs worth of data, or whatever.\n\n326\n00:16:16.690 --> 00:16:18.920\nBut at least it's not preventing them.\n\n327\n00:16:18.920 --> 00:16:20.150\nSo you got two options there.\n\n328\n00:16:20.150 --> 00:16:22.270\nI'll go ahead and go with that hard quota.\n\n329\n00:16:23.520 --> 00:16:25.890\nAnd you know what, I'm gonna drop it down.\n\n330\n00:16:25.890 --> 00:16:30.050\nFor this lab, I'm gonna actually\ndrop that down to one gig, just so\n\n331\n00:16:30.050 --> 00:16:31.860\nwe can do some experimentation with it.\n\n332\n00:16:31.860 --> 00:16:35.270\nNot real practical, but\nthat'll work for now.\n\n333\n00:16:35.270 --> 00:16:38.850\nThen below that,\nI've got these notification thresholds.\n\n334\n00:16:38.850 --> 00:16:41.280\nNow this is where I can\ncreate my notifications.\n\n335\n00:16:41.280 --> 00:16:47.390\nAnd I have four different types of\nnotifications that I can generate.\n\n336\n00:16:47.390 --> 00:16:51.780\nI've got an email message, and\nI can email whomever, I can put a check.\n\n337\n00:16:51.780 --> 00:16:55.000\nNow my machine does not have SMTP set up,\nso\n\n338\n00:16:55.000 --> 00:16:59.060\nit's gonna give me some errors when I\ntry to configure this, just ignore that.\n\n339\n00:16:59.060 --> 00:17:01.800\nAnd I can say, send an email to\nthe following administrators.\n\n340\n00:17:01.800 --> 00:17:07.010\nAnd I can put in, with semicolons,\nI can list as many people as I want there.\n\n341\n00:17:07.010 --> 00:17:08.360\nSo I can have it go to the admins.\n\n342\n00:17:08.360 --> 00:17:11.070\nThey need to be aware when\nsomebody hits their quota.\n\n343\n00:17:11.070 --> 00:17:14.640\nI can also send one to the end user,\nwhich is extremely useful.\n\n344\n00:17:14.640 --> 00:17:19.430\nThey might not realize that they're\ngetting, say, close to their quota.\n\n345\n00:17:19.430 --> 00:17:23.320\nAnd then below that is the subject and\nthe message body, and\n\n346\n00:17:23.320 --> 00:17:25.430\nI love the way Microsoft did this.\n\n347\n00:17:27.040 --> 00:17:29.790\nThe email message down here, and\nthe subject for that matter,\n\n348\n00:17:29.790 --> 00:17:32.590\nyou'll see some things are in\nthese brackets, right.\n\n349\n00:17:32.590 --> 00:17:37.450\nLike it says user and\nthen [Source Io Owner] has\n\n350\n00:17:37.450 --> 00:17:41.074\nexceeded the [Quota Threshold]%.\n\n351\n00:17:41.074 --> 00:17:44.190\nAnything that's in brackets is a variable,\nand\n\n352\n00:17:44.190 --> 00:17:47.190\nit's gonna be replaced with actual data.\n\n353\n00:17:47.190 --> 00:17:49.230\nSo this is gonna be, believe it or not,\n\n354\n00:17:49.230 --> 00:17:52.812\nDaniel, an event message in the Event Log\nsystem that might be useful.\n\n355\n00:17:52.812 --> 00:17:54.500\n[LAUGH]\n>> [LAUGH] Imagine that.\n\n356\n00:17:54.500 --> 00:17:55.820\nAn Event Log's useful?\n\n357\n00:17:55.820 --> 00:17:57.600\nHow dare you say it, Michael.\n\n358\n00:17:57.600 --> 00:17:58.770\nBut he's exactly right.\n\n359\n00:17:58.770 --> 00:18:01.090\nWe wanna be able to look\nright through our Event Logs.\n\n360\n00:18:01.090 --> 00:18:03.750\nA lot of times we might even have\nthird party Event Log managers, or\n\n361\n00:18:03.750 --> 00:18:07.330\njust the built in Event Log\nmanager that we have in Windows.\n\n362\n00:18:07.330 --> 00:18:09.730\nGo through and see, okay, what's going on?\n\n363\n00:18:09.730 --> 00:18:13.550\nUsually this happens when we start\nseeing disc space usage low, or\n\n364\n00:18:13.550 --> 00:18:16.282\nwe get an email from a system like this.\n\n365\n00:18:16.282 --> 00:18:20.270\nAnd now we wanna see, okay, I understand\nthings are starting to get low.\n\n366\n00:18:20.270 --> 00:18:23.760\nLet me take a look at some of these\nevents and see what's leading up to that.\n\n367\n00:18:23.760 --> 00:18:27.910\nMaybe we've got a runaway something or\nother that's just creating files and now\n\n368\n00:18:27.910 --> 00:18:31.700\nwe finally hit one that triggers an event,\nwe gotta start taking a look at those.\n\n369\n00:18:31.700 --> 00:18:34.540\nAnd having that built into the event,\nhaving all that data there,\n\n370\n00:18:34.540 --> 00:18:35.380\nthat's gonna help out.\n\n371\n00:18:35.380 --> 00:18:39.020\n>> Absolutely, and people always\ncomplaining about Microsoft Events,\n\n372\n00:18:39.020 --> 00:18:43.590\nsaying something like system error\nhexadecimals 0, x, 0, 1, 2, 3.\n\n373\n00:18:43.590 --> 00:18:45.690\nHow helpful is that?\n\n374\n00:18:45.690 --> 00:18:48.330\nThis one's actually gonna\nhave good information in it.\n\n375\n00:18:48.330 --> 00:18:49.520\nAnd you're not limited to what they have.\n\n376\n00:18:49.520 --> 00:18:53.280\nI can wipe this out and\nwrite my own email, and\n\n377\n00:18:53.280 --> 00:18:56.100\nI've got a list of variables\nthat I can actually insert.\n\n378\n00:18:56.100 --> 00:19:01.110\nSo any of these Source I owner or\na file owner or quota usage,\n\n379\n00:19:01.110 --> 00:19:05.380\nall those are variables that I\ncan insert into my, in this case,\n\n380\n00:19:05.380 --> 00:19:08.230\nemail that I wanna generate, all right.\n\n381\n00:19:08.230 --> 00:19:11.440\nLet me clear those since\nI don't have mail set up.\n\n382\n00:19:11.440 --> 00:19:13.130\nThe next one's the Event Log.\n\n383\n00:19:13.130 --> 00:19:16.980\nAnd I guess I kinda thought it was\non Event Log on that other one.\n\n384\n00:19:16.980 --> 00:19:18.830\nSo the first one was email messages.\n\n385\n00:19:18.830 --> 00:19:20.805\nThis one is Event Log, exact same thing.\n\n386\n00:19:20.805 --> 00:19:25.960\nEmail the admins, or\nwhomever you need, email the users.\n\n387\n00:19:25.960 --> 00:19:29.670\nThen we've got the Event Log\nwhich works the exact same way.\n\n388\n00:19:29.670 --> 00:19:32.110\nFully customizable message down here.\n\n389\n00:19:32.110 --> 00:19:35.620\nI can insert all the different\nvariables that I need.\n\n390\n00:19:35.620 --> 00:19:38.120\nThird one is going to be a command.\n\n391\n00:19:38.120 --> 00:19:41.680\nI haven't found this one all that useful,\nbut if you have a script or something that\n\n392\n00:19:41.680 --> 00:19:45.090\nyou want run, maybe you've got some kind\nof clean up script that's gonna go through\n\n393\n00:19:45.090 --> 00:19:49.980\nand remove anything that hasn't been\ntouched in the last 12 months, or you\n\n394\n00:19:49.980 --> 00:19:54.120\nwanna compress some files to free up some\nspace for them, or something like that.\n\n395\n00:19:54.120 --> 00:19:58.830\nWhatever it is, you could run that from\nhere, and you also have the option to\n\n396\n00:19:58.830 --> 00:20:02.050\ngenerate a report, which we're\ngonna talk about later, all right.\n\n397\n00:20:02.050 --> 00:20:04.620\nNow up at the very top is a number.\n\n398\n00:20:04.620 --> 00:20:05.740\nThis one says 85.\n\n399\n00:20:05.740 --> 00:20:07.540\nThis is the threshold.\n\n400\n00:20:07.540 --> 00:20:12.260\nWhen do I wanna trigger this event or\nthis particular notification?\n\n401\n00:20:12.260 --> 00:20:17.110\nAnd I'm gonna say,\nat 85% I want to email the user,\n\n402\n00:20:17.110 --> 00:20:21.320\nlet them know that they're\ngetting close to their threshold.\n\n403\n00:20:21.320 --> 00:20:22.125\nAnd I'll click OK.\n\n404\n00:20:22.125 --> 00:20:25.020\nThat's gonna complain and\nsay I don't have an email set up.\n\n405\n00:20:25.020 --> 00:20:27.460\nThat's okay.\nI'll just say yes, all right.\n\n406\n00:20:27.460 --> 00:20:28.750\nSo there's one threshold.\n\n407\n00:20:28.750 --> 00:20:29.730\nBut I don't have to stop there.\n\n408\n00:20:29.730 --> 00:20:32.390\nI can create as many\nnotifications as I want.\n\n409\n00:20:32.390 --> 00:20:36.280\nI'll click Add and when they get to,\nI'm gonna change this up here.\n\n410\n00:20:36.280 --> 00:20:39.240\nWhen they get to 95%, I wanna go ahead and\n\n411\n00:20:39.240 --> 00:20:44.041\nemail the user again, and\nthis time email the admin as well, and\n\n412\n00:20:44.041 --> 00:20:48.440\nrecord an event in the Event Log,\nall right.\n\n413\n00:20:48.440 --> 00:20:49.810\nAnd I'll click OK.\n\n414\n00:20:49.810 --> 00:20:51.030\nAnd I could continue on, right.\n\n415\n00:20:51.030 --> 00:20:53.758\nIf I wanted another thing to\nhappen when they got to 100%,\n\n416\n00:20:53.758 --> 00:20:56.124\nI need to generate a report,\nor something like that.\n\n417\n00:20:56.124 --> 00:21:00.017\nI could say, Add, and\nwhen they get to 100%,\n\n418\n00:21:00.017 --> 00:21:04.004\nlet's have it spit out a report about,\nlet's do,\n\n419\n00:21:04.004 --> 00:21:08.530\nI don't know, large files or\nsomething like that.\n\n420\n00:21:08.530 --> 00:21:12.490\nSo the point is, you can generate as\nmany notifications as you need, or\n\n421\n00:21:12.490 --> 00:21:15.290\nwhat they call notification thresholds.\n\n422\n00:21:15.290 --> 00:21:18.978\nAnd each one of those individual\nthresholds, 85, 95, 100,\n\n423\n00:21:18.978 --> 00:21:23.600\ncan generate any one or\ncombination of those four options there.\n\n424\n00:21:23.600 --> 00:21:25.340\nIt's a really, really powerful system.\n\n425\n00:21:26.400 --> 00:21:27.890\nAnd I'll go ahead and click OK,\n\n426\n00:21:27.890 --> 00:21:33.590\nand now I've got a new Quota Template\nsitting here called Quota Demo.\n\n427\n00:21:33.590 --> 00:21:37.680\nNow if I wanna apply that,\nactually use that, I'll come out here, and\n\n428\n00:21:37.680 --> 00:21:42.530\nI'll right-click, Create Quota,\nand I'll go find my path.\n\n429\n00:21:45.530 --> 00:21:48.695\nAnd I'll do that on that data folder,\nall right.\n\n430\n00:21:48.695 --> 00:21:51.975\nAnd then I want to create\nthe quota on that path and\n\n431\n00:21:51.975 --> 00:21:54.300\nI wanna drive it from pull to demo.\n\n432\n00:21:54.300 --> 00:21:58.040\nThat is where I am going to pull\nthe settings from, and I'll click Create.\n\n433\n00:21:58.040 --> 00:22:02.100\nAnd so now I've got a quota\napplied to that data folder.\n\n434\n00:22:02.100 --> 00:22:07.680\nI can take that same template and\napply, oops, and apply it again,\n\n435\n00:22:07.680 --> 00:22:12.310\nI'll go back in and\ngrab that other folder,\n\n436\n00:22:12.310 --> 00:22:16.900\nStorage, and\npull it from that same template.\n\n437\n00:22:18.860 --> 00:22:24.975\nAnd so now I'm using that template on\ntwo different locations, all right.\n\n438\n00:22:24.975 --> 00:22:27.420\nNow let's see, we set that to 1 gig.\n\n439\n00:22:27.420 --> 00:22:30.820\nI'm trying to think if we\ncan trigger that somehow.\n\n440\n00:22:30.820 --> 00:22:37.745\nIf I go over to, Here, And\ntell you what, we'll cheat.\n\n441\n00:22:37.745 --> 00:22:38.605\nWe'll do it this way.\n\n442\n00:22:38.605 --> 00:22:41.710\nWe're gonna pull up,\noops not that, mis-click.\n\n443\n00:22:43.625 --> 00:22:46.872\nPull up my old command prompt here and\n\n444\n00:22:46.872 --> 00:22:52.543\nwe use fsutil file createnew,\nlet's say, what do I wanna say?\n\n445\n00:22:52.543 --> 00:22:54.100\nLet's see.\n\n446\n00:22:54.100 --> 00:22:58.640\nThat's a svr01, what did I call that guy?\n\n447\n00:22:58.640 --> 00:22:59.410\nStorage.\n\n448\n00:23:00.440 --> 00:23:02.110\nWe'll do it in data.\n\n449\n00:23:02.110 --> 00:23:03.460\nThat's easier to type.\n\n450\n00:23:03.460 --> 00:23:09.200\n/test.txt and\nI set that limit to one gigabyte,\n\n451\n00:23:09.200 --> 00:23:11.600\nso let's do just under one gigabyte.\n\n452\n00:23:11.600 --> 00:23:14.570\nWe'll do about 800 or so megabytes.\n\n453\n00:23:14.570 --> 00:23:18.182\nOr 85.\n\n454\n00:23:18.182 --> 00:23:20.713\nWhat is that, bytes, kilobytes, megabytes?\n\n455\n00:23:20.713 --> 00:23:22.390\nI think I got that right,\nDaniel, if I check on that.\n\n456\n00:23:22.390 --> 00:23:23.410\n>> I think you got it, yeah.\n\n457\n00:23:23.410 --> 00:23:24.230\n>> All right.\nSo there you go.\n\n458\n00:23:24.230 --> 00:23:26.320\nI went ahead and created that file.\n\n459\n00:23:26.320 --> 00:23:29.590\nAnd now if I switch back over to here.\n\n460\n00:23:29.590 --> 00:23:31.879\nWe'll go verify that\nthat file got created.\n\n461\n00:23:33.150 --> 00:23:36.470\nAnd I did that in data, and\nthere's that file and it's 80, and\n\n462\n00:23:36.470 --> 00:23:39.840\nI don't know if I quite got to\nthe 85% that I set on that threshold.\n\n463\n00:23:39.840 --> 00:23:43.120\nI should have gone maybe\njust a hair bigger.\n\n464\n00:23:44.520 --> 00:23:50.239\nBut, let's check and see, let's see what\nhappens If I try to make another file.\n\n465\n00:23:55.518 --> 00:23:56.210\nAnd there we go.\n\n466\n00:23:56.210 --> 00:23:58.742\nSo I tried to make a second\nfile of the same size.\n\n467\n00:23:58.742 --> 00:24:00.780\nThere is not enough space on the disk.\n\n468\n00:24:00.780 --> 00:24:01.862\nSo it's not allowing me.\n\n469\n00:24:01.862 --> 00:24:06.270\nThat Hard quota it's not gonna\nallow me to go beyond there.\n\n470\n00:24:06.270 --> 00:24:10.216\nAnd if we take a look at our\nevent log system over here,\n\n471\n00:24:10.216 --> 00:24:15.330\nlet's flip back over to Server Manager,\nbreak out my Event Viewer.\n\n472\n00:24:17.920 --> 00:24:21.230\nAnd we take a look in my Windows logs and\nmy Application log.\n\n473\n00:24:24.124 --> 00:24:31.505\nI don't see any that have to do with.\n\n474\n00:24:31.505 --> 00:24:32.953\nThere we go.\n\n475\n00:24:36.160 --> 00:24:39.710\nAnd it doesn't look like\nthey've actually showed up yet.\n\n476\n00:24:39.710 --> 00:24:40.775\nThere should be some.\n\n477\n00:24:43.800 --> 00:24:47.380\nRight up at the top here,\nand I don't see them yet.\n\n478\n00:24:47.380 --> 00:24:49.120\nThere's where I attached a quota.\n\n479\n00:24:51.830 --> 00:24:54.238\nBut they haven't popped up yet, and\n\n480\n00:24:54.238 --> 00:24:57.663\nthey should actually show\nup in my application log.\n\n481\n00:25:01.480 --> 00:25:05.680\nAll right, well, we'll come back and take\na peek at those here in just a second.\n\n482\n00:25:05.680 --> 00:25:08.170\nI'd have to double check my\nsettings on my quota there, but\n\n483\n00:25:08.170 --> 00:25:11.360\nthat's where those guys\nare going to show up.\n\n484\n00:25:11.360 --> 00:25:13.105\nLet's just check and\nmake sure I did that right.\n\n485\n00:25:18.520 --> 00:25:21.900\nIt did say event log for\nthe 95%, I haven't gotten to 95.\n\n486\n00:25:21.900 --> 00:25:24.755\nI did trigger that 100% one though, so\n\n487\n00:25:24.755 --> 00:25:28.179\nthat's probably why my\nevent log didn't show up.\n\n488\n00:25:29.360 --> 00:25:30.760\nBut that is how you, oh and\n\n489\n00:25:30.760 --> 00:25:34.082\nanother thing I wanna do is I wanna\nmake a change to this guy, let's say.\n\n490\n00:25:34.082 --> 00:25:37.167\nSo anyway, we triggered the quota,\nwe saw that it blocked me,\n\n491\n00:25:37.167 --> 00:25:38.692\nI wasn't able to create that.\n\n492\n00:25:38.692 --> 00:25:42.440\nI might have to double check on why it\ndidn't create that event log entry.\n\n493\n00:25:42.440 --> 00:25:44.340\nBut we're not troubleshooting\nthat on this show.\n\n494\n00:25:44.340 --> 00:25:46.280\nThe important thing is to\nsee how we set this up.\n\n495\n00:25:46.280 --> 00:25:47.578\nAnd I want to show you too,\n\n496\n00:25:47.578 --> 00:25:51.720\nthe last thing I want to show you about\nquotas is making a change to that.\n\n497\n00:25:51.720 --> 00:25:53.870\nSo let's say I want to modify that.\n\n498\n00:25:53.870 --> 00:25:59.130\nI decide that that 1 gigabyte is just\nnot enough for everybody, all right.\n\n499\n00:25:59.130 --> 00:26:04.230\nSo we're gonna change that, we're\ngonna bump that up to 2 gigabytes now.\n\n500\n00:26:04.230 --> 00:26:05.670\nAnd I'll click, OK.\n\n501\n00:26:05.670 --> 00:26:08.210\nAnd here's the option\ndialog I'm going to get.\n\n502\n00:26:08.210 --> 00:26:12.205\nDo I want to Apply this template only to\nderived quotas that match the original\n\n503\n00:26:12.205 --> 00:26:14.971\ntemplate, Apply template\nto all derived quotas, or\n\n504\n00:26:14.971 --> 00:26:17.251\nDo not apply template\nto any derive quotas.\n\n505\n00:26:17.251 --> 00:26:20.212\nAll right, or\nDo not apply template to derived quotas.\n\n506\n00:26:20.212 --> 00:26:23.710\nDerived quotas mean any place\nI've used this template.\n\n507\n00:26:23.710 --> 00:26:26.730\nRemember, I've used this\ntemplate in two different places.\n\n508\n00:26:26.730 --> 00:26:29.020\nImagine I had used it in two places.\n\n509\n00:26:29.020 --> 00:26:33.970\nIf I choose this first option,\nthen the update I just did,\n\n510\n00:26:33.970 --> 00:26:38.420\nbumping it up to 2 gigabytes would affect\nboth places I applied the template.\n\n511\n00:26:38.420 --> 00:26:41.100\nI could however, modify, and\nI'll go back and show you.\n\n512\n00:26:41.100 --> 00:26:44.890\nWhat if I modified this one quota, right?\n\n513\n00:26:44.890 --> 00:26:48.330\nI applied that same template to both of\nthese locations, but I can always come\n\n514\n00:26:48.330 --> 00:26:53.819\nback in here and Edit Quota Properties and\nchange this one to 5 gigabytes.\n\n515\n00:26:55.300 --> 00:26:59.350\nAll right, so instead of modifying the\ntemplate, I modify to the quota directly.\n\n516\n00:26:59.350 --> 00:27:01.615\nNow when I make changes to this template.\n\n517\n00:27:07.230 --> 00:27:09.130\nAnd now these choices will\nmake a little more sense.\n\n518\n00:27:09.130 --> 00:27:13.450\nDo I want to apply it to all the places\nthat still match the original?\n\n519\n00:27:13.450 --> 00:27:15.680\nThat second one doesn't match\nthe original anymore, right?\n\n520\n00:27:15.680 --> 00:27:18.890\nThe original was 1 gigabyte, it's now 5.\n\n521\n00:27:18.890 --> 00:27:22.445\nSo this would only propagate out to\nthe one place I'd use this the template\n\n522\n00:27:22.445 --> 00:27:23.735\nnot the other.\n\n523\n00:27:23.735 --> 00:27:26.545\nIf I apply it here,\nif I choose that option,\n\n524\n00:27:26.545 --> 00:27:30.150\nnow the change is gonna apply to\nboth places I used the template.\n\n525\n00:27:30.150 --> 00:27:33.065\nOr this one, it wouldn't apply to\nany place I used the template.\n\n526\n00:27:33.065 --> 00:27:36.335\nIf I use the template again,\nthe change would be noticeable there, but\n\n527\n00:27:36.335 --> 00:27:40.565\nthe two places I've already used the\ntemplate, that change would not be seen.\n\n528\n00:27:40.565 --> 00:27:41.585\nSo those are your choices.\n\n529\n00:27:41.585 --> 00:27:44.683\nEverywhere where it still matches\nthe original, everywhere, or\n\n530\n00:27:44.683 --> 00:27:45.740\nnowhere, all right.\n\n531\n00:27:45.740 --> 00:27:50.740\nAnd also, where it matches the original,\nI'll click OK.\n\n532\n00:27:50.740 --> 00:27:55.250\nAnd now if we look at our quotas,\nthis one is up to 5, right.\n\n533\n00:27:55.250 --> 00:27:57.820\nBecause I changed it manually,\nchanged the template, but\n\n534\n00:27:57.820 --> 00:28:00.690\ntold it not to apply it to any place\nthat didn't match the original.\n\n535\n00:28:00.690 --> 00:28:03.120\nThis one did change.\nIt went from 1 gigabyte to 2 gigabyte,\n\n536\n00:28:03.120 --> 00:28:05.360\ncuz it still matched the original.\n\n537\n00:28:05.360 --> 00:28:08.800\nSo lots of choices, lots of cool things\nyou can do with these templates, and\n\n538\n00:28:08.800 --> 00:28:11.600\nit's really all about the reusability.\n\n539\n00:28:11.600 --> 00:28:13.716\nCuz if I come up with\nfive new shares tomorrow,\n\n540\n00:28:13.716 --> 00:28:16.231\nall I have to do is go apply\nthis template and I'm done.\n\n541\n00:28:16.231 --> 00:28:19.479\n>> Yeah, this is a very, very nice\nlittle tool, nice little feature for\n\n542\n00:28:19.479 --> 00:28:22.468\nsetting those disk quotas,\nmakes your life a whole lot easier.\n\n543\n00:28:22.468 --> 00:28:24.959\nYou wouldn't think that disk quotas\nwould be something that's huge.\n\n544\n00:28:24.959 --> 00:28:27.626\nOkay, put a disk quota on that and\nput a disk quota on this,\n\n545\n00:28:27.626 --> 00:28:29.140\nalert me when it happens.\n\n546\n00:28:29.140 --> 00:28:31.580\nIn theory it's very simplified.\n\n547\n00:28:31.580 --> 00:28:34.951\nBut in practicality trying to\nfigure out what the right quota is,\n\n548\n00:28:34.951 --> 00:28:38.322\nusing templates, and\nmaking your life a little more automated,\n\n549\n00:28:38.322 --> 00:28:41.450\nthrough some of the features\nthat are built into that.\n\n550\n00:28:41.450 --> 00:28:45.775\nWell, that is the shining\nstar that is built in there.\n\n551\n00:28:45.775 --> 00:28:47.600\nSo take a chance, or not take a chance.\n\n552\n00:28:47.600 --> 00:28:50.650\nTake advantage of it,\nuse it, figure it out.\n\n553\n00:28:50.650 --> 00:28:54.750\nReally learn to fine tune those\nthings as well as you possibly can.\n\n554\n00:28:54.750 --> 00:28:57.490\nMike, great demo on that,\nhave we forgotten anything?\n\n555\n00:28:57.490 --> 00:28:59.028\n>> We do have some more to go through,\n\n556\n00:28:59.028 --> 00:29:02.120\nI want to hit those file screen\nmanagement and the reports as well.\n\n557\n00:29:02.120 --> 00:29:03.025\n>> Well how about that.\n\n558\n00:29:03.025 --> 00:29:05.460\nBut unfortunately,\nwe are out of time for this episode.\n\n559\n00:29:05.460 --> 00:29:08.035\nThere is no way we are covering that\nin the next minute and a half or\n\n560\n00:29:08.035 --> 00:29:09.000\nwhatever we have left.\n\n561\n00:29:09.000 --> 00:29:10.128\n>> [LAUGH]\n>> So we're gonna have to end\n\n562\n00:29:10.128 --> 00:29:10.770\nthis episode.\n\n563\n00:29:10.770 --> 00:29:14.190\nSo that means we're gonna have a part two\ncoming, hopefully we'll see you there.\n\n564\n00:29:14.190 --> 00:29:15.860\nAs for this one,\nwe're gonna go ahead and sign off.\n\n565\n00:29:15.860 --> 00:29:17.780\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n566\n00:29:17.780 --> 00:29:18.630\n>> And I'm Mike Roderick.\n\n567\n00:29:18.630 --> 00:29:20.234\n>> We'll see you next time.\n\n568\n00:29:20.234 --> 00:29:22.119\n[SOUND]\n\n",
          "vimeoId": "138861930"
        },
        {
          "description": "In this episode, Mike and Daniel finish their overview of the File Server Resource Manager, this time covering File Screen Management and Storage Reports. First they take a look at the File Screen Management system witch allows you to specify what types of files are allowed or disallowed. Finally they show you how to configure the Storage Reports to generate reports based off of your specified criteria.",
          "length": "1620",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-5-1-file_server_resource_manager_pt2-083115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-5-1-file_server_resource_manager_pt2-083115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-5-1-file_server_resource_manager_pt2-083115-1-sm.jpg",
          "title": "File Server Resource Manager Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:09.952\n[MUSIC]\n\n2\n00:00:09.952 --> 00:00:10.671\nAll right.\n\n3\n00:00:10.671 --> 00:00:14.151\nGreetings everyone and welcome to\nanother great episode of ITProTV.\n\n4\n00:00:14.151 --> 00:00:15.770\nI'm your host, Daniel Lowry.\n\n5\n00:00:15.770 --> 00:00:18.000\nHere with me today is Mr. Mike Rodrick.\n\n6\n00:00:18.000 --> 00:00:18.780\nHow's it going today Mikey?\n\n7\n00:00:18.780 --> 00:00:19.810\n>> Oh it's going great, Daniel.\n\n8\n00:00:19.810 --> 00:00:20.810\nI'm excited to be here.\n\n9\n00:00:20.810 --> 00:00:23.050\nWe got more of our 7411 coming your way.\n\n10\n00:00:23.050 --> 00:00:23.850\nWe're continuing on,\n\n11\n00:00:23.850 --> 00:00:28.120\nas a matter of fact, with our good old\nfile server resource manager discussion.\n\n12\n00:00:28.120 --> 00:00:32.670\nIn our previous episode, we took\na look at quotas and quota management.\n\n13\n00:00:32.670 --> 00:00:33.390\nAnd in this one,\n\n14\n00:00:33.390 --> 00:00:37.020\nwe're going to take a look at something\ncalled file screen management.\n\n15\n00:00:37.020 --> 00:00:39.350\nAnd if you missed that first one,\ngo back and check it out, but\n\n16\n00:00:39.350 --> 00:00:40.810\nlet me rehash for you.\n\n17\n00:00:40.810 --> 00:00:43.540\nFile screening is all\nabout trying to control\n\n18\n00:00:43.540 --> 00:00:46.610\nwhat types of files\nthey're allowed to store.\n\n19\n00:00:46.610 --> 00:00:48.690\nIf we've got storage set\nup on a file server,\n\n20\n00:00:48.690 --> 00:00:53.070\nwe can use quotas to limit\nhow much space they're using.\n\n21\n00:00:53.070 --> 00:00:57.730\nWe can use a combination of that with\nfile screen management to control what\n\n22\n00:00:57.730 --> 00:01:00.230\ntypes of files they're\nactually putting up there.\n\n23\n00:01:00.230 --> 00:01:01.860\nThat's what file screen\nmanagement is all about.\n\n24\n00:01:01.860 --> 00:01:06.000\nLike I might not want them putting\nMP3 files out there, or movies,\n\n25\n00:01:06.000 --> 00:01:11.270\nor scripts, or whatever it is that\nI'm trying to block, executables.\n\n26\n00:01:11.270 --> 00:01:12.610\nSo let's take a look at it.\n\n27\n00:01:12.610 --> 00:01:16.280\nI've got the good old FSRM, or\nFile Server Resource Manager,\n\n28\n00:01:16.280 --> 00:01:19.720\npulled up on my screen here, and\nunderneath file screen management.\n\n29\n00:01:19.720 --> 00:01:20.900\nI'm going to see three nodes.\n\n30\n00:01:20.900 --> 00:01:24.100\nI've got file screens,\nwhich I don't have any yet.\n\n31\n00:01:24.100 --> 00:01:26.380\nI've got my file screen templates, and\n\n32\n00:01:26.380 --> 00:01:29.090\nthese are just like we talked\nabout with quota templates,\n\n33\n00:01:29.090 --> 00:01:34.590\nthese are all of the settings that I would\nneed to create a file screen, created or\n\n34\n00:01:34.590 --> 00:01:38.800\nstored within a template, and then I can\nuse that template anywhere I need to.\n\n35\n00:01:38.800 --> 00:01:44.210\nSo it gives me that portability that\nre-usability with these file screens.\n\n36\n00:01:44.210 --> 00:01:48.610\nAnd then I've got file groups, which\nis a little different from the Quotas.\n\n37\n00:01:48.610 --> 00:01:51.530\nAnd that's because,\nwhen we start blocking extensions,\n\n38\n00:01:51.530 --> 00:01:54.516\nwe might find that we've got\na list quite a few extensions.\n\n39\n00:01:54.516 --> 00:01:59.160\nIf you want to block all audio and\nvideo files, well,\n\n40\n00:01:59.160 --> 00:02:03.550\nthere's quite a few extensions, right,\nthat cover audio and video files.\n\n41\n00:02:03.550 --> 00:02:05.490\nOr, what's another here, web page files.\n\n42\n00:02:05.490 --> 00:02:07.970\nThere's a lot of different\nones that go along with that.\n\n43\n00:02:07.970 --> 00:02:09.260\nExecutables.\n\n44\n00:02:09.260 --> 00:02:13.150\nSo instead of having to list\neach extension every time,\n\n45\n00:02:13.150 --> 00:02:14.990\nI can create files groups.\n\n46\n00:02:14.990 --> 00:02:19.270\nThey're just lists of extensions, and\n\n47\n00:02:19.270 --> 00:02:23.720\nthen when I create my file screen, we're\ngoing to see that I can pick one of these\n\n48\n00:02:23.720 --> 00:02:28.530\nfile groups rather than have to list my\nown, or list all of the extensions out.\n\n49\n00:02:28.530 --> 00:02:31.740\nAnd I can create my own file groups,\nI can come in here and\n\n50\n00:02:31.740 --> 00:02:35.290\nsay create file group, and we'll just\ndo a test one just to show you guys.\n\n51\n00:02:35.290 --> 00:02:37.707\nI'll call it test, and\nI'll say files to include.\n\n52\n00:02:37.707 --> 00:02:40.077\nYou can use wild cards in here.\n\n53\n00:02:40.077 --> 00:02:44.877\nSo I could do *.mp*, and\nI'll go ahead and add that,\n\n54\n00:02:44.877 --> 00:02:51.740\nbecause I don't want to, I've got MP3s,\nMP4s, MP8s, things like that.\n\n55\n00:02:51.740 --> 00:02:52.260\n>> MPEG.\n\n56\n00:02:52.260 --> 00:02:54.600\n>> Yeah, MPEGs and things like that.\n\n57\n00:02:54.600 --> 00:02:55.950\nAnd that's a great example, Daniel.\n\n58\n00:02:55.950 --> 00:03:00.740\nWhat if I want to block all that, but\nI want it to allow MPEGs, all right.\n\n59\n00:03:00.740 --> 00:03:04.920\nWell, I can still use my wildcard for\nfiles to include, then I come down here\n\n60\n00:03:04.920 --> 00:03:10.650\nand say, except for a .mpeg.\n\n61\n00:03:10.650 --> 00:03:11.630\nAnd I can add that.\n\n62\n00:03:11.630 --> 00:03:13.530\nSo if you wanted to allow everything but\nMPEGs, or\n\n63\n00:03:13.530 --> 00:03:18.440\nyou wanted to block everything but\nMPEGs, mpgs, you can do that.\n\n64\n00:03:18.440 --> 00:03:21.850\nSo pretty cool,\nyou can use the wild cards in there.\n\n65\n00:03:21.850 --> 00:03:26.270\nNotice I did put the dot,\nthat's an *.mp*, right?\n\n66\n00:03:26.270 --> 00:03:29.760\nAnything, any file name .mp.\n\n67\n00:03:29.760 --> 00:03:32.680\nWhen you're dealing with\nthese file screens,\n\n68\n00:03:32.680 --> 00:03:34.730\nit's all about the extension, all right?\n\n69\n00:03:34.730 --> 00:03:37.170\nThat's what we're dealing with,\nis the extension of the file,\n\n70\n00:03:37.170 --> 00:03:41.020\nbecause that's how my system knows\nwhat type of file it is, right?\n\n71\n00:03:41.020 --> 00:03:44.795\nIs looking at that extension,\nis it a .txt, or a .xlsx, or\n\n72\n00:03:44.795 --> 00:03:48.810\na .mp3, or what have you, all right.\n\n73\n00:03:48.810 --> 00:03:50.350\nSo we've got the file groups.\n\n74\n00:03:50.350 --> 00:03:54.580\nWe can also modify these existing ones,\nand like this executables, for\n\n75\n00:03:54.580 --> 00:03:59.020\nexample, includes all of these\ndifferent file extensions.\n\n76\n00:03:59.020 --> 00:04:00.950\nBut let's say I want to allow PS1.\n\n77\n00:04:00.950 --> 00:04:06.180\nI can come in here, and I could select\nthat one and remove it from here.\n\n78\n00:04:06.180 --> 00:04:12.054\nOr I can go down and\nadd an exception, *.ps1.\n\n79\n00:04:13.160 --> 00:04:13.900\nAll right?\n\n80\n00:04:13.900 --> 00:04:14.810\nTo go ahead and allow those.\n\n81\n00:04:14.810 --> 00:04:18.910\nSo you can make, again, you can\nmodify those existing groups as well.\n\n82\n00:04:18.910 --> 00:04:21.040\nAll right, so we've got these file groups.\n\n83\n00:04:21.040 --> 00:04:25.050\nMakes it very easy for\nus to kind of group together extensions.\n\n84\n00:04:25.050 --> 00:04:26.400\nAnd you're not limited to just one.\n\n85\n00:04:26.400 --> 00:04:30.220\nYou don't have to create a group, let's\nsay you wanted to block audio video and\n\n86\n00:04:30.220 --> 00:04:33.900\nexecutables, I don't have to create\none group that has all of them,\n\n87\n00:04:33.900 --> 00:04:37.380\nyou'll see when I create my\nfile screening that I can\n\n88\n00:04:37.380 --> 00:04:40.860\npick multiple groups that\nI want to try to block.\n\n89\n00:04:40.860 --> 00:04:44.130\n>> Now, Mike, I see we've got a bunch\nof built-in groups already there.\n\n90\n00:04:44.130 --> 00:04:48.690\nWe created a test group, are these groups\nactive by default as soon as you create\n\n91\n00:04:48.690 --> 00:04:53.060\none, it already starts to apply or\ndo we have to apply them as we need them?\n\n92\n00:04:53.060 --> 00:04:53.680\n>> Great question.\n\n93\n00:04:53.680 --> 00:04:55.260\nAnd you're going to have to apply them.\n\n94\n00:04:55.260 --> 00:04:57.590\nIn other words those groups\nare just sitting there, and\n\n95\n00:04:57.590 --> 00:05:01.720\nuntil I create a template or a manual\nfile screen, they're not doing anything.\n\n96\n00:05:01.720 --> 00:05:03.230\n>> Awesome.\n>> So great question.\n\n97\n00:05:03.230 --> 00:05:06.770\nAll right, so let's take a look just\nlike we talked about with quotas,\n\n98\n00:05:06.770 --> 00:05:10.710\nI can come in here and\ncreate a new file screen, all right, and\n\n99\n00:05:10.710 --> 00:05:13.550\nI can go through all the properties and\ngo this way.\n\n100\n00:05:13.550 --> 00:05:16.270\nBut, just like I talked about with quotas,\n\n101\n00:05:16.270 --> 00:05:18.080\ntemplates are typically\nthe better way to go.\n\n102\n00:05:18.080 --> 00:05:20.480\nIn fact when you save the screen,\nit's going to say, hey,\n\n103\n00:05:20.480 --> 00:05:22.410\ndo you want to make\na template out of this?\n\n104\n00:05:22.410 --> 00:05:25.320\nBecause, it's the smart way to go, right?\n\n105\n00:05:25.320 --> 00:05:27.740\nWe want to work smarter, not harder.\n\n106\n00:05:27.740 --> 00:05:31.670\nCreate a template, that way I can use\nthat same file screen somewhere else.\n\n107\n00:05:31.670 --> 00:05:35.960\nYou might say, well, I'm never going to\nuse that same file screen anywhere else.\n\n108\n00:05:35.960 --> 00:05:39.760\nAnd never say never,\nas somebody, 007, somebody said.\n\n109\n00:05:40.930 --> 00:05:44.780\nWe might not need it today, but\n\n110\n00:05:44.780 --> 00:05:47.850\ntomorrow, next week, next month,\nthings change, right?\n\n111\n00:05:47.850 --> 00:05:51.070\nSo, plan on having to reuse that.\n\n112\n00:05:51.070 --> 00:05:53.296\nAll right.\nSo, let's go in here and\n\n113\n00:05:53.296 --> 00:05:57.777\ndo a new file screen template,\nand I'm going to give this a name\n\n114\n00:05:57.777 --> 00:06:02.140\nof I'm just not creative enough, Daniel.\n\n115\n00:06:02.140 --> 00:06:02.730\nLet's see here.\n\n116\n00:06:02.730 --> 00:06:06.771\nWe'll call this block audio or media,\n\n117\n00:06:06.771 --> 00:06:12.170\nit'll block media,\nsomething like that, right?\n\n118\n00:06:12.170 --> 00:06:16.960\nAnd similar to what I did with our\nquotas in our previous episode,\n\n119\n00:06:16.960 --> 00:06:19.170\nI've got active screening and\npassive screening.\n\n120\n00:06:19.170 --> 00:06:21.970\nIn quotas, I had hard quota and\nsoft quota.\n\n121\n00:06:21.970 --> 00:06:26.310\nHere I've got active screening, passive\nscreening, exact same concept right?\n\n122\n00:06:26.310 --> 00:06:30.070\nActive screening will not allow\nusers to save unauthorized files.\n\n123\n00:06:30.070 --> 00:06:31.740\nSo if it's on the list of blocking,\n\n124\n00:06:31.740 --> 00:06:35.090\nit won't allow them to\nsave that type of file.\n\n125\n00:06:35.090 --> 00:06:38.760\nPassive screening will\nallow them to save it, but\n\n126\n00:06:38.760 --> 00:06:41.980\nit will audit it so\nmaybe I just want to find out\n\n127\n00:06:41.980 --> 00:06:46.590\nif anybody's actually saving PS1 files\nup there before I decide to block it.\n\n128\n00:06:46.590 --> 00:06:48.520\nLet's see if anybody's\nactually using that.\n\n129\n00:06:48.520 --> 00:06:52.010\nI don't want to block them come\nfind out somebody relies on that as\n\n130\n00:06:52.010 --> 00:06:52.540\npart of their job.\n\n131\n00:06:52.540 --> 00:06:54.200\nYou know, that's what they're doing.\n\n132\n00:06:54.200 --> 00:06:57.558\nSo we can do the passive screening\nwhich is just for monitoring.\n\n133\n00:06:57.558 --> 00:06:59.450\n[COUGH] Excuse me.\n\n134\n00:06:59.450 --> 00:07:02.700\nRight, then below there,\nwe can choose our file screen group.\n\n135\n00:07:02.700 --> 00:07:04.750\nSo I can click audio and video.\n\n136\n00:07:04.750 --> 00:07:08.710\nNow I can edit the group from right here,\nif I need to edit,\n\n137\n00:07:08.710 --> 00:07:10.700\nif I want to make some changes to it.\n\n138\n00:07:10.700 --> 00:07:15.420\nI can also create a brand new file group\nfrom right here as well, which is kind of\n\n139\n00:07:15.420 --> 00:07:18.200\ncool, so if I forgot to create the group\nfirst and I'm in the middle of\n\n140\n00:07:18.200 --> 00:07:20.920\ncreating the template, I can just go\nahead and create the group real quick.\n\n141\n00:07:22.020 --> 00:07:25.090\nI'll just leave it on audio and\nvideo files there.\n\n142\n00:07:25.090 --> 00:07:29.680\nAnd then we've got our e-mail messages and\nour event logs and\n\n143\n00:07:29.680 --> 00:07:31.570\nour commands and our reports.\n\n144\n00:07:31.570 --> 00:07:35.330\nThose are the exact same thing\nwe saw in the quota management,\n\n145\n00:07:35.330 --> 00:07:38.140\nwhere I can come in and\nI can have it send an e-mail.\n\n146\n00:07:38.140 --> 00:07:43.040\nSo if somebody If I am blocking MP3s and\nDaniel tries to save that MP3 file up\n\n147\n00:07:43.040 --> 00:07:47.920\nthere, I can have it email me or email\nthe user or email anybody for that matter.\n\n148\n00:07:47.920 --> 00:07:49.470\nI can log an event in the event log and\n\n149\n00:07:49.470 --> 00:07:52.120\nit is customizable just like we\nsaw in the previous episode.\n\n150\n00:07:52.120 --> 00:07:56.607\nI have a whole list of variables that I\ncan search to customize either the email\n\n151\n00:07:56.607 --> 00:07:58.550\nmessage or the event log system.\n\n152\n00:07:58.550 --> 00:08:02.229\nI can run a script or\nI can generate a report.\n\n153\n00:08:02.229 --> 00:08:04.934\nNow unlike the quotas,\nthere's no thresholds here, right?\n\n154\n00:08:04.934 --> 00:08:10.290\nIt's not when they get to 85%, when they\nget to 95%, it's when they actually do it.\n\n155\n00:08:10.290 --> 00:08:13.310\nIf they save an executable,\nthese things are gonna get triggered.\n\n156\n00:08:13.310 --> 00:08:15.460\n>> Yeah,\nthis is a really good part of this system.\n\n157\n00:08:15.460 --> 00:08:17.450\nEven back when we were talking\nabout the quotas as well,\n\n158\n00:08:17.450 --> 00:08:21.780\nthe ability to fine tune those\nemail alerts that you can get.\n\n159\n00:08:21.780 --> 00:08:25.850\nIs a really great option that Microsoft\nhas put into their server system because\n\n160\n00:08:25.850 --> 00:08:27.950\nand here's why, I get tons of email.\n\n161\n00:08:27.950 --> 00:08:31.710\nEspecially as an administrator,\nyou get alerts from everything and\n\n162\n00:08:31.710 --> 00:08:32.610\nwhat do you do with them?\n\n163\n00:08:32.610 --> 00:08:35.790\nA lot of them, you just delete,\nignore, delete, ignore.\n\n164\n00:08:35.790 --> 00:08:38.796\nIf you have the ability\nto actually go in and\n\n165\n00:08:38.796 --> 00:08:42.230\nnot have to use a generic alert for\nyourself.\n\n166\n00:08:42.230 --> 00:08:45.710\nSomething that you know if I'm\ngetting this email from the system.\n\n167\n00:08:45.710 --> 00:08:49.330\nIt's actually something I wanna know about\nand that's not one more thing I have to\n\n168\n00:08:49.330 --> 00:08:53.240\nsend to the trash bin and filter\nthrough my Outlook rules or whatever.\n\n169\n00:08:53.240 --> 00:08:54.500\nThis is a great option.\n\n170\n00:08:54.500 --> 00:08:58.430\nTake advantage of that so that you\nknow anything being generated by that\n\n171\n00:08:58.430 --> 00:09:00.810\nis important for you as an administrator.\n\n172\n00:09:00.810 --> 00:09:01.462\nGreat stuff here.\n\n173\n00:09:01.462 --> 00:09:05.410\n>> Absolutely, and you could even kinda\ncome up with your own system where I say,\n\n174\n00:09:05.410 --> 00:09:06.920\nI'll send it to the Administrators, and\n\n175\n00:09:06.920 --> 00:09:11.910\nI'm just gonna put the keyword in here,\nFSRM or something like that.\n\n176\n00:09:11.910 --> 00:09:14.030\nJust stick that somewhere in that email.\n\n177\n00:09:14.030 --> 00:09:15.860\nNow I could write an Outlook\nrule that says hey,\n\n178\n00:09:15.860 --> 00:09:20.280\nif it has FSRM in it, stick it in this\nfolder or flag it or something like that.\n\n179\n00:09:20.280 --> 00:09:23.210\nSo very good idea, Daniel.\n\n180\n00:09:23.210 --> 00:09:25.790\nAll right, so let me undo that cuz I\ndon't have any of that set up for this.\n\n181\n00:09:25.790 --> 00:09:28.210\nI don't have an SMTP server set up.\n\n182\n00:09:28.210 --> 00:09:29.490\nSo we're gonna do active screening.\n\n183\n00:09:29.490 --> 00:09:32.645\nAnd we're gonna do the audio and\nvideo files and I'll go ahead.\n\n184\n00:09:32.645 --> 00:09:35.185\nAnd just like we did with the quotas,\nI could have started\n\n185\n00:09:35.185 --> 00:09:39.335\nwith one of those existing templates,\ncopied all those properties in there.\n\n186\n00:09:39.335 --> 00:09:41.295\nI chose to start from scratch.\n\n187\n00:09:41.295 --> 00:09:44.415\nI could also choose more than\none group as I was saying.\n\n188\n00:09:44.415 --> 00:09:49.715\nI should probably change my name\nto something like and executables.\n\n189\n00:09:49.715 --> 00:09:51.275\nMaybe something like that.\n\n190\n00:09:51.275 --> 00:09:53.190\nWe'll go ahead and click OK.\n\n191\n00:09:53.190 --> 00:09:58.520\nAnd there we now have our new file screen\ntemplate, block media and executables.\n\n192\n00:09:58.520 --> 00:10:01.830\nSo now that we've got that\ntemplate created, let's use it.\n\n193\n00:10:01.830 --> 00:10:04.380\nAnd similar to the way we do quotas,\nI'm gonna go to file screens.\n\n194\n00:10:04.380 --> 00:10:05.835\nI don't have any yet.\n\n195\n00:10:05.835 --> 00:10:10.557\nSo I'll double-click on that,\nright-click on that I should say and\n\n196\n00:10:10.557 --> 00:10:13.133\ncreate file screen and I'll browse.\n\n197\n00:10:13.133 --> 00:10:18.815\nAnd I'm gonna do this on\nthat data folder there.\n\n198\n00:10:18.815 --> 00:10:22.800\nSo I'm picking my path were gonna\nwant to apply this file screen.\n\n199\n00:10:22.800 --> 00:10:29.010\nAnd then I wanna derive it from that one I\njust created, block media and executables,\n\n200\n00:10:29.010 --> 00:10:33.770\nand I'll click create, and there we go,\nI have a new file screen in place.\n\n201\n00:10:33.770 --> 00:10:36.710\nNow, something else I wanna show you\nabout file screens that's a little\n\n202\n00:10:36.710 --> 00:10:40.880\ndifferent from the quotas, I'm gonna\npull up the properties of my FSRM.\n\n203\n00:10:40.880 --> 00:10:43.000\nI'm gonna configure the options here.\n\n204\n00:10:44.620 --> 00:10:46.660\nAnd there's a tab called\nfile screen audit.\n\n205\n00:10:46.660 --> 00:10:48.650\nAnd here, there's a little checkmark,\n\n206\n00:10:48.650 --> 00:10:52.470\nRecord file screen activity\nin auditing database.\n\n207\n00:10:52.470 --> 00:10:55.460\nWhat this allows me to\ndo is generate reports.\n\n208\n00:10:55.460 --> 00:10:58.280\nIf I don't check that checkmark,\nthe file screens will still work.\n\n209\n00:10:58.280 --> 00:11:02.060\nThey will still prevent people\nfrom saving those types of files.\n\n210\n00:11:02.060 --> 00:11:05.130\nBut I won't be able to go back\nlater on and generate a report.\n\n211\n00:11:05.130 --> 00:11:08.260\nSee that Daniel actually tried\nto save a PS1 up there and\n\n212\n00:11:08.260 --> 00:11:10.100\nit successfully blocked it, right?\n\n213\n00:11:10.100 --> 00:11:13.980\nSo if you need to be able to audit, if you\nwanna be able to have a record of any time\n\n214\n00:11:13.980 --> 00:11:18.690\nsomebody tried to save a file and\nit was blocked, you need to turn this on.\n\n215\n00:11:18.690 --> 00:11:22.280\nSo again, your file screens will still\nwork, but you wont be able to audit those\n\n216\n00:11:22.280 --> 00:11:24.870\nfile screens if you don't come in here and\nturn that on.\n\n217\n00:11:24.870 --> 00:11:29.460\nAlso, I've been talking about the email\nnotification and how they don't work\n\n218\n00:11:29.460 --> 00:11:33.400\nbecause I don't have an SMTP server\nset up on my local area network here.\n\n219\n00:11:33.400 --> 00:11:35.190\nThere's the option for that.\n\n220\n00:11:35.190 --> 00:11:38.510\nI would put in the IP address or\nthe name of the SMTP server.\n\n221\n00:11:38.510 --> 00:11:40.500\nYou also might have noticed\nwhen we were creating those,\n\n222\n00:11:40.500 --> 00:11:43.630\nyou could choose to email and\nit just said, admin email.\n\n223\n00:11:43.630 --> 00:11:45.760\nIt wasn't an actual email address.\n\n224\n00:11:45.760 --> 00:11:50.280\nThis is where you would put who gets\nthose emails if you leave that in place.\n\n225\n00:11:50.280 --> 00:11:54.490\nYou can specify any emails in\nthose notification settings.\n\n226\n00:11:54.490 --> 00:11:57.580\nBut by default,\nit does go to the admin email and\n\n227\n00:11:57.580 --> 00:11:59.610\nthis is where you'd set who that is.\n\n228\n00:11:59.610 --> 00:12:01.610\nAnd this is what it looks\nlike in the From field.\n\n229\n00:12:01.610 --> 00:12:04.400\nFSRM at and then the name of the server.\n\n230\n00:12:04.400 --> 00:12:06.590\nYou can obviously change that as well.\n\n231\n00:12:08.410 --> 00:12:10.700\nAll right, so\nnow that I've got that auditing set up,\n\n232\n00:12:10.700 --> 00:12:13.240\nthat'll allow me to\ngenerate those reports.\n\n233\n00:12:13.240 --> 00:12:16.740\nNext thing we wanna do is\ntry to violate that, right?\n\n234\n00:12:16.740 --> 00:12:20.030\nLet's try to save something\nwe're not supposed to save.\n\n235\n00:12:20.030 --> 00:12:24.210\nSo let's do this,\nI'm gonna open up File Explorer, and\n\n236\n00:12:24.210 --> 00:12:27.830\nactually I'll just start and\nwe'll do it in Downloads here.\n\n237\n00:12:27.830 --> 00:12:33.752\nI'm gonna make a new file, And\n\n238\n00:12:33.752 --> 00:12:38.840\nI'm gonna name it something like Scripts.\n\n239\n00:12:38.840 --> 00:12:40.870\nAnd I'm gonna change that extension.\n\n240\n00:12:40.870 --> 00:12:43.850\nMicrosoft doesn't like me to\nsee those darn extensions.\n\n241\n00:12:45.070 --> 00:12:52.670\nLet's change that to an exe or actually,\nI should have done a PS1 or something.\n\n242\n00:12:52.670 --> 00:12:54.660\nBut you get the idea, right?\n\n243\n00:12:54.660 --> 00:12:56.090\nSo now I'm gonna copy that file.\n\n244\n00:12:59.110 --> 00:13:01.930\nAnd I'm gonna navigate to that share.\n\n245\n00:13:07.140 --> 00:13:09.770\nAnd I'm gonna paste that script.\n\n246\n00:13:12.130 --> 00:13:15.350\nAnd it says you need permission\nto perform this action.\n\n247\n00:13:15.350 --> 00:13:15.960\nTry again.\n\n248\n00:13:15.960 --> 00:13:17.153\nI can try again if I want.\n\n249\n00:13:17.153 --> 00:13:20.120\nIts not gonna happen all right?\n\n250\n00:13:20.120 --> 00:13:22.360\nAll right, so that was blocked.\n\n251\n00:13:22.360 --> 00:13:26.888\nSo now we are going to switch back over\nhere and we're gonna talk about reports\n\n252\n00:13:26.888 --> 00:13:30.310\nand I'm 'gonna come back and\nwe will see the report that generated or\n\n253\n00:13:30.310 --> 00:13:33.040\nthat the fact that I was\nblocked from saving that file.\n\n254\n00:13:33.040 --> 00:13:34.450\nSo that's file screen management.\n\n255\n00:13:34.450 --> 00:13:39.190\nBlock the types of files that users\nare allowed to save on those shares.\n\n256\n00:13:39.190 --> 00:13:42.390\nAll right, so now we're gonna take a look\nat storage reports and we'll go back and\n\n257\n00:13:42.390 --> 00:13:46.860\nlook at the report that got generated\nwhen we did that file screen audit.\n\n258\n00:13:46.860 --> 00:13:49.130\nSo over here I've got my\nstorage report management and\n\n259\n00:13:49.130 --> 00:13:51.450\nI'm just gonna right-click on that and\nchoose.\n\n260\n00:13:51.450 --> 00:13:53.830\nI've got a couple things\nI wanna talk about here.\n\n261\n00:13:53.830 --> 00:13:58.130\nI've got schedule a new report task and\nthen generate reports now, and\n\n262\n00:13:58.130 --> 00:14:01.330\nMicrosoft wants to make sure you\nunderstand what a report task is.\n\n263\n00:14:01.330 --> 00:14:06.090\nA report task is simply a report that\nyou want generated automatically.\n\n264\n00:14:06.090 --> 00:14:06.780\nSo very cool.\n\n265\n00:14:06.780 --> 00:14:10.160\nMaybe you want to,\nevery morning when you come in,\n\n266\n00:14:10.160 --> 00:14:13.480\nyou need to see a report on your\nquotas that you've set up and\n\n267\n00:14:13.480 --> 00:14:16.740\nsee if anybody is getting close\nto reaching their quotas.\n\n268\n00:14:16.740 --> 00:14:21.150\nOr every Friday afternoon, you wanna get\na report on who's tried to save what types\n\n269\n00:14:21.150 --> 00:14:24.520\nof files up to your file shares or\nsomething like that.\n\n270\n00:14:24.520 --> 00:14:29.230\nSo you can come in here, you can\nschedule them, you give them a name and\n\n271\n00:14:29.230 --> 00:14:32.060\nunfortunately, I cannot make\nthis window any bigger.\n\n272\n00:14:32.060 --> 00:14:33.200\nThank you, Microsoft.\n\n273\n00:14:33.200 --> 00:14:36.010\nBut let's take a look at the different\nreports that we can generate.\n\n274\n00:14:36.010 --> 00:14:38.210\nThere's a duplicate files report.\n\n275\n00:14:38.210 --> 00:14:40.510\nIf you're trying to\nclean up storage space,\n\n276\n00:14:40.510 --> 00:14:42.900\nthis is a great little report to run.\n\n277\n00:14:42.900 --> 00:14:46.070\nI know like here, for example,\nwe run into this all the time.\n\n278\n00:14:46.070 --> 00:14:48.400\nDaniel has a copy of the Windows 8.1 book.\n\n279\n00:14:48.400 --> 00:14:50.720\nI have a copy of the PDF for Windows 8.1.\n\n280\n00:14:50.720 --> 00:14:52.240\nRonny has a copy of it.\n\n281\n00:14:52.240 --> 00:14:53.690\nDo we really need three copies, right?\n\n282\n00:14:53.690 --> 00:14:57.790\nWe can start freeing up space by\nfinding those duplicate files.\n\n283\n00:14:57.790 --> 00:14:59.450\nSo that's a great little report.\n\n284\n00:14:59.450 --> 00:15:01.210\nWe've got the file screen audit and\n\n285\n00:15:01.210 --> 00:15:03.550\nthat's what we were just\ntalking about a minute ago.\n\n286\n00:15:03.550 --> 00:15:05.210\nRemember, in order to run that report,\n\n287\n00:15:05.210 --> 00:15:09.720\nyou've gotta go into the properties of\nthe File Server Resource Manager and\n\n288\n00:15:09.720 --> 00:15:12.860\nput a check mark in there to make\nsure it's recording those events.\n\n289\n00:15:12.860 --> 00:15:14.920\nThat way you can generate these reports.\n\n290\n00:15:14.920 --> 00:15:17.920\nHey, Daniel tried to save an MP3 file\nthat was blocked the other week.\n\n291\n00:15:19.100 --> 00:15:25.140\nThere's files by group, files by owner,\nfiles by property, folders by property.\n\n292\n00:15:25.140 --> 00:15:28.130\nThere's also a large files report,\nthat's a good one to run too.\n\n293\n00:15:28.130 --> 00:15:31.820\nIf you're trying to free up space, if you\ncan get rid of some of the biggest files\n\n294\n00:15:31.820 --> 00:15:36.360\nup there, you can free up the most space\nthe quickest, so that's a nice one.\n\n295\n00:15:36.360 --> 00:15:38.740\nLeast recently accessed files.\n\n296\n00:15:38.740 --> 00:15:41.080\nHey, these files haven't been\ntouched in the last six months.\n\n297\n00:15:41.080 --> 00:15:45.120\nWe can probably archive those and\nfree up some space on our server.\n\n298\n00:15:45.120 --> 00:15:47.170\nMost Recently Accessed Files.\n\n299\n00:15:47.170 --> 00:15:49.150\nWell, these are files that\npeople are using all the time.\n\n300\n00:15:49.150 --> 00:15:53.240\nI wanna make sure that I've got\na good backup of those files, right?\n\n301\n00:15:53.240 --> 00:15:54.510\nQuota usage.\n\n302\n00:15:54.510 --> 00:15:58.126\nAgain, that's gonna show me,\nwho's near their quota limits,\n\n303\n00:15:58.126 --> 00:16:00.107\nwhere they're at on their quotas.\n\n304\n00:16:00.107 --> 00:16:03.241\nSo, a lot of different reports\nthat you can generate.\n\n305\n00:16:03.241 --> 00:16:08.143\nYou can also see there's several different\nformats that we can spit this report\n\n306\n00:16:08.143 --> 00:16:08.663\nout in.\n\n307\n00:16:08.663 --> 00:16:12.830\nGot my dynamic HTML,\nthat's gonna be a clickable report.\n\n308\n00:16:12.830 --> 00:16:17.480\nIt's an HTML document, but I can collapse\ncertain areas and things like that.\n\n309\n00:16:17.480 --> 00:16:23.370\nStraight up HTML, XML, CSV, Text file.\n\n310\n00:16:23.370 --> 00:16:27.420\nSo pretty flexible as far as\nwhat you want the output.\n\n311\n00:16:27.420 --> 00:16:29.280\nYou might want to look at a report.\n\n312\n00:16:29.280 --> 00:16:32.850\nBut you know maybe you're not\ngonna use a report in that format.\n\n313\n00:16:32.850 --> 00:16:34.050\nYou want to generate the report.\n\n314\n00:16:34.050 --> 00:16:37.170\nAnd then you're gonna import\nit into a SQL database so\n\n315\n00:16:37.170 --> 00:16:39.410\nyou can run more complex reports on it.\n\n316\n00:16:39.410 --> 00:16:41.660\nWell, maybe a CSV file is perfect then.\n\n317\n00:16:41.660 --> 00:16:43.730\nAnd notice they're checkmarks\nnot radio buttons.\n\n318\n00:16:43.730 --> 00:16:46.490\nSo I can actually choose more than one.\n\n319\n00:16:46.490 --> 00:16:50.100\nThen you've got the scope, this is\nwhere you're gonna run the report over.\n\n320\n00:16:50.100 --> 00:16:54.710\nDo you want to see what are the biggest\nfiles on that D: drive, or\n\n321\n00:16:54.710 --> 00:16:59.230\nthe E: drive, or\njust see who's tried to save executables.\n\n322\n00:16:59.230 --> 00:17:02.150\nOn one particular share,\nthat's what scope is.\n\n323\n00:17:02.150 --> 00:17:04.650\nAnd I can come in here and\nI can click Add, and\n\n324\n00:17:04.650 --> 00:17:09.040\nI could go find some of these folders\nthat I put maybe some quotas on.\n\n325\n00:17:09.040 --> 00:17:13.050\nAnd I can add more than one, so\nif we wanna go grab another one.\n\n326\n00:17:14.090 --> 00:17:18.040\nThat's what the scope is all about,\nwhere do you wanna run the report?\n\n327\n00:17:18.040 --> 00:17:21.110\nOr what data do you wanna\nbase the report on?\n\n328\n00:17:21.110 --> 00:17:22.290\nUp here at the top,\n\n329\n00:17:22.290 --> 00:17:26.030\nthere is an Include of all folders that\nstore the following kinds of data.\n\n330\n00:17:26.030 --> 00:17:31.540\nNot useful for say,\nrunning reports on quotas or file screens.\n\n331\n00:17:31.540 --> 00:17:36.120\nBut if I'm looking for largest files or\nduplicate files, any user file areas.\n\n332\n00:17:36.120 --> 00:17:39.660\nSo it hit all those profiles, if this were\nall my roaming profiles were going, or\n\n333\n00:17:39.660 --> 00:17:41.070\nsomething like that.\n\n334\n00:17:41.070 --> 00:17:44.200\nSo add your scope down here,\nor pick one of these guys.\n\n335\n00:17:44.200 --> 00:17:48.090\nThen your delivery method,\nhow do I want these reports sent?\n\n336\n00:17:48.090 --> 00:17:50.180\nI can have them sent out via email, but\n\n337\n00:17:50.180 --> 00:17:55.390\nthey're also saved to the local drive\nas well, although we can change that.\n\n338\n00:17:55.390 --> 00:17:58.210\nAnd then the schedule,\nhow often to I want this run?\n\n339\n00:17:58.210 --> 00:17:58.760\nI'd say what?\n\n340\n00:17:58.760 --> 00:18:02.800\nEvery, we'll say 4:30 PM and\n\n341\n00:18:02.800 --> 00:18:06.570\nI'm gonna have to change that.\n\n342\n00:18:06.570 --> 00:18:08.830\nWeekly on Friday.\n\n343\n00:18:08.830 --> 00:18:09.390\nRight?\n\n344\n00:18:09.390 --> 00:18:10.310\nOr something like that.\n\n345\n00:18:10.310 --> 00:18:14.610\nSo you can set up whatever schedule\nyou want for those reports.\n\n346\n00:18:14.610 --> 00:18:16.360\nI'm going to go ahead and cancel this.\n\n347\n00:18:16.360 --> 00:18:18.240\nThis would be a report task.\n\n348\n00:18:18.240 --> 00:18:20.120\nIt wouldn't actually run the report.\n\n349\n00:18:20.120 --> 00:18:21.200\nIt's just setting up a schedule.\n\n350\n00:18:21.200 --> 00:18:24.530\nAnd then, from then on,\nevery Friday at 4:30,\n\n351\n00:18:24.530 --> 00:18:26.980\nit's going to generate that report or\nthose reports.\n\n352\n00:18:26.980 --> 00:18:31.840\nNotice I can select more than one\nreport to run in this report task.\n\n353\n00:18:31.840 --> 00:18:33.460\nBut if I wanted a different schedule,\n\n354\n00:18:33.460 --> 00:18:35.640\nthat's when I'd create\nseparate report task.\n\n355\n00:18:35.640 --> 00:18:38.400\nThese reports I want\nevery Friday afternoon.\n\n356\n00:18:38.400 --> 00:18:42.210\nThese reports I want every morning,\nMonday through Friday, right?\n\n357\n00:18:42.210 --> 00:18:43.240\nThings like that.\n\n358\n00:18:43.240 --> 00:18:46.340\nSo very flexible as far\nas creating a schedule.\n\n359\n00:18:46.340 --> 00:18:49.140\nBut if I wanna see it right now,\nand this is something,\n\n360\n00:18:50.510 --> 00:18:54.770\nyou remember when we set up the quotas\nas well as the file screens,\n\n361\n00:18:54.770 --> 00:18:57.770\none of the options was to\ngenerate a report, right?\n\n362\n00:18:57.770 --> 00:19:00.220\nThis is what the same\nsettings would be in there.\n\n363\n00:19:00.220 --> 00:19:05.480\nAny time somebody gets to 100%,\nI wanna generate a quota usage report,\n\n364\n00:19:05.480 --> 00:19:06.440\nfor example.\n\n365\n00:19:06.440 --> 00:19:08.690\nSo, you can start tying those together,\nbut\n\n366\n00:19:08.690 --> 00:19:13.100\nif I wanna see it right now, I can just,\nall I did was right click on there and\n\n367\n00:19:13.100 --> 00:19:17.530\nchoose run report now, and\nI get the exact same options.\n\n368\n00:19:17.530 --> 00:19:19.320\nAnd let's do that file screen audit.\n\n369\n00:19:19.320 --> 00:19:23.690\nWe'll see if we can catch the fact that I\ntried to save that executable up there.\n\n370\n00:19:23.690 --> 00:19:25.190\nSo I'll do a File Screen Audit.\n\n371\n00:19:25.190 --> 00:19:27.840\nI'll have it spit it out in dynamic HTML.\n\n372\n00:19:27.840 --> 00:19:33.270\nScope wise I'm gonna add the folders\nthat I put that File Screen Audit on.\n\n373\n00:19:33.270 --> 00:19:37.810\nWhich if I remember right, Daniel,\nwas the Data folder, hopefully.\n\n374\n00:19:37.810 --> 00:19:41.790\nAnd then for delivery method I'm just\ngonna view the report right now.\n\n375\n00:19:41.790 --> 00:19:44.090\nI don't have the SMTP set up.\n\n376\n00:19:44.090 --> 00:19:48.940\nSo go ahead and click OK, and\nthen wait for report to be generated and\n\n377\n00:19:48.940 --> 00:19:52.320\nthen display them, or\ngenerate reports in the background.\n\n378\n00:19:52.320 --> 00:19:54.770\nNow, in this case it's gonna be\na very short and simple report so\n\n379\n00:19:54.770 --> 00:19:56.810\nI'm gonna go ahead and\nwait for it to generate.\n\n380\n00:19:56.810 --> 00:20:02.600\nBut if this was a report that was covering\nseveral different shared folders that had\n\n381\n00:20:02.600 --> 00:20:07.110\nlots of data in them, and you were looking\nfor the least commonly accessed files It's\n\n382\n00:20:07.110 --> 00:20:12.140\nnow going through every single file and\nlooking at those last access times, right?\n\n383\n00:20:12.140 --> 00:20:15.180\nThat might take a little while, so\nwhat you can do is choose generate in\n\n384\n00:20:15.180 --> 00:20:19.110\nthe background, continue on doing what\nyou're doing, and then when it finishes,\n\n385\n00:20:19.110 --> 00:20:21.990\nit'll pop up that report, or\nyou can go browse to it on the hard drive.\n\n386\n00:20:21.990 --> 00:20:26.800\nI'll go ahead and say wait to generate,\nI'll click OK, and\n\n387\n00:20:26.800 --> 00:20:29.560\nit works and grinds, and\ngenerates my report.\n\n388\n00:20:29.560 --> 00:20:32.350\nSo I'll go in to my File Screen Audit\nReport that it just kicked out.\n\n389\n00:20:34.160 --> 00:20:35.250\nAnd there we go.\n\n390\n00:20:35.250 --> 00:20:40.280\nI can see that this was run over SVR01,\nSQL and Data.\n\n391\n00:20:40.280 --> 00:20:46.410\nAnd somebody's trying to save a file\ncalled script.exe and it has been blocked.\n\n392\n00:20:46.410 --> 00:20:49.800\nAnd I can see the time that that happened,\nthe user\n\n393\n00:20:49.800 --> 00:20:53.720\nthat tried to save that executable\nup there, and where they tried, or\n\n394\n00:20:53.720 --> 00:20:58.390\nwhere the file screen path or Where that\nfile screen was actually being applied.\n\n395\n00:20:58.390 --> 00:21:00.000\nSo a very cool report.\n\n396\n00:21:00.000 --> 00:21:00.780\nThey are clickable.\n\n397\n00:21:00.780 --> 00:21:03.620\nThis is that dynamic HTML, so\nif wanted to go see that folder,\n\n398\n00:21:03.620 --> 00:21:05.810\nI could actually click on it and\nopen it up.\n\n399\n00:21:05.810 --> 00:21:08.430\nIt wouldn't make much sense\nin this case because it\n\n400\n00:21:08.430 --> 00:21:09.930\nblocked me from putting that file there.\n\n401\n00:21:09.930 --> 00:21:13.230\nSo I don't have to go up there and\ndelete it or anything like that.\n\n402\n00:21:13.230 --> 00:21:17.390\nThe other thing you'll notice is, look\nhow many entries you've got generating.\n\n403\n00:21:17.390 --> 00:21:18.650\nNow, I've tried to save it twice.\n\n404\n00:21:20.460 --> 00:21:22.300\nAnd that's just because\nof the way that works.\n\n405\n00:21:22.300 --> 00:21:26.360\nWindows, in the background, tries\nseveral times to paste that file before\n\n406\n00:21:26.360 --> 00:21:30.640\nyou get the error that says that it\nwas being blocked or what have you.\n\n407\n00:21:30.640 --> 00:21:34.840\nAnd that's just one of the reports,\nwe could do the, in fact let's go ahead.\n\n408\n00:21:34.840 --> 00:21:39.200\nHere's one of the quota usages I ran\nearlier, so this isn't gonna include\n\n409\n00:21:39.200 --> 00:21:43.010\nthat block that I just put on there,\nthe quota that we just established.\n\n410\n00:21:43.010 --> 00:21:45.360\nBut just to show you\nan example of the report.\n\n411\n00:21:45.360 --> 00:21:50.460\nAgain, it's clickable like a navigate\nover to at the dynamic HTML anyway,\n\n412\n00:21:50.460 --> 00:21:51.500\nis clickable.\n\n413\n00:21:51.500 --> 00:21:55.280\nSo I can navigate to that directory,\nI can see each one of my users,\n\n414\n00:21:55.280 --> 00:21:59.220\nwhat the quota is, what they're\nactually using, what percentage.\n\n415\n00:21:59.220 --> 00:22:03.380\nSo some really cool reports that\nyou can generate through FSRM or\n\n416\n00:22:03.380 --> 00:22:04.440\nfile server resource manager.\n\n417\n00:22:04.440 --> 00:22:07.120\n>> That's right, and apparently\naccording to that one report there,\n\n418\n00:22:07.120 --> 00:22:09.800\nit's probably a good time to\nsee that Mike fella in HR.\n\n419\n00:22:09.800 --> 00:22:11.730\n>> [LAUGH]\n>> He's been trying to get away with\n\n420\n00:22:11.730 --> 00:22:13.860\nfiles he's not supposed\nto have on his computer.\n\n421\n00:22:13.860 --> 00:22:16.770\nNow this is something that is really,\nreally practical, to be honest with you.\n\n422\n00:22:16.770 --> 00:22:20.580\nIn a corporate environment and a business\nenvironment, there are nasties running\n\n423\n00:22:20.580 --> 00:22:24.400\naround out in the wild, right, that\nare trying to get in on your system using\n\n424\n00:22:24.400 --> 00:22:29.910\nsomething like the screenings\nability that's within here is great.\n\n425\n00:22:29.910 --> 00:22:32.910\nYou can use third party apps and\nthey're fantastic as well.\n\n426\n00:22:32.910 --> 00:22:35.400\nBut this is something that Microsoft\nbuilds in the operating system.\n\n427\n00:22:35.400 --> 00:22:39.350\nIf your in a small business environment\nyou may not have the wherewithal,\n\n428\n00:22:39.350 --> 00:22:43.140\nthe money as it were to buy one\nof those really nice third party\n\n429\n00:22:43.140 --> 00:22:45.030\napps to make this happen.\n\n430\n00:22:45.030 --> 00:22:46.680\nMicrosoft has done that for you.\n\n431\n00:22:46.680 --> 00:22:50.170\nListen you already purchased\nMicrosoft's operating system.\n\n432\n00:22:50.170 --> 00:22:52.840\nLet us give you,\ntake advantage of every benefit you can.\n\n433\n00:22:52.840 --> 00:22:55.690\nYou don't want things like\nExcel spreadsheets and\n\n434\n00:22:55.690 --> 00:23:00.180\nexecutable files being able to be shared\nin some certain areas of your system\n\n435\n00:23:00.180 --> 00:23:05.970\nbecause they might contain virus malware,\nsome sort of security, or flaw.\n\n436\n00:23:05.970 --> 00:23:09.740\nOr exploit that you don't want to have\nallowed, being able to block those out and\n\n437\n00:23:09.740 --> 00:23:14.170\nsay you can't save that to\nthese areas of our computer.\n\n438\n00:23:14.170 --> 00:23:17.160\nIt's just trying to help keep\nyou in a safe environment.\n\n439\n00:23:17.160 --> 00:23:18.130\n>> Absolutely.\n\n440\n00:23:18.130 --> 00:23:20.890\nAnd remember, it's also giving\nyou a centralized management.\n\n441\n00:23:20.890 --> 00:23:23.750\nIf you look at this console,\njust like any of the other consoles,\n\n442\n00:23:23.750 --> 00:23:27.760\nI can right-click on this guy and\nconnect to another computer.\n\n443\n00:23:27.760 --> 00:23:31.440\nSo I can work with my photos\non a different file server.\n\n444\n00:23:31.440 --> 00:23:32.630\nThe other thing I wanted to show you.\n\n445\n00:23:32.630 --> 00:23:37.882\nRemember those options where I enabled\nthe file screen audit capabilities and\n\n446\n00:23:37.882 --> 00:23:40.000\nalso, we can set up those SMTPs.\n\n447\n00:23:40.000 --> 00:23:43.670\nThere's also notification limits, but\n\n448\n00:23:43.670 --> 00:23:47.630\non a limit how many email\nnotifications I got on need.\n\n449\n00:23:47.630 --> 00:23:51.080\nOnce I've got one or two, I don't need\nlike one every five minutes coming in.\n\n450\n00:23:51.080 --> 00:23:53.450\nSo if there's so\nmany within a certain amount of time,\n\n451\n00:23:53.450 --> 00:23:56.140\nit can start blocking those,\nespecially log files, right?\n\n452\n00:23:56.140 --> 00:23:58.966\nBecause if that user's repeatedly\ntrying to save that file and\n\n453\n00:23:58.966 --> 00:24:02.754\nit just keeps getting blocked, and just\nkeeps getting blocked, and they're doing\n\n454\n00:24:02.754 --> 00:24:06.463\nthe typical user thing, I must not have\nclicked hard enough, let me try it again.\n\n455\n00:24:06.463 --> 00:24:08.149\nOr something like that.\n\n456\n00:24:08.149 --> 00:24:11.993\nI don't need additional notifications\nfilling up my log file system, so\n\n457\n00:24:11.993 --> 00:24:13.400\nI can block those.\n\n458\n00:24:13.400 --> 00:24:18.970\nThe different storage reports, I said you\ncould change where those are being stored.\n\n459\n00:24:18.970 --> 00:24:22.950\nYou can come in here and\nchange the parameters for those reports.\n\n460\n00:24:22.950 --> 00:24:25.100\nNow you can set the parameters\neach time you run them.\n\n461\n00:24:25.100 --> 00:24:28.950\nThese are the default parameters if\nyou don't specify anything else.\n\n462\n00:24:28.950 --> 00:24:31.430\nReport locations is where you can change\n\n463\n00:24:31.430 --> 00:24:34.170\nwhere those reports\nare being saved by default.\n\n464\n00:24:34.170 --> 00:24:36.130\nSo if you wanted them to go\nsomewhere other than the C drive,\n\n465\n00:24:36.130 --> 00:24:37.690\nthat might be a good idea.\n\n466\n00:24:37.690 --> 00:24:39.370\nYou can change those there.\n\n467\n00:24:39.370 --> 00:24:42.130\nWe'll do with automatic classification,\nand\n\n468\n00:24:42.130 --> 00:24:46.640\naccess denied assistance when it\ncomes time, that's gonna be in 412.\n\n469\n00:24:46.640 --> 00:24:50.300\nSo a lot of things that you can configure,\njust make sure you check out the options\n\n470\n00:24:50.300 --> 00:24:54.220\nor the properties of your\nFSRM console as well.\n\n471\n00:24:54.220 --> 00:24:58.050\nAnd that, Daniel, it takes care\nof everything we need to know for\n\n472\n00:24:58.050 --> 00:24:58.960\nat least the 411 exam.\n\n473\n00:24:58.960 --> 00:25:01.610\nAgain, more that we need to\ndo with this console, but\n\n474\n00:25:01.610 --> 00:25:03.020\ndoesn't get covered until 412.\n\n475\n00:25:03.020 --> 00:25:07.330\n>> Awesome, well definitely the stuff\nwe've learned today is going to give us as\n\n476\n00:25:07.330 --> 00:25:10.590\nadministrators at the very least\nsomething to sink our teeth into.\n\n477\n00:25:10.590 --> 00:25:15.270\nFigure out how can we best apply\nthis to our own environment,\n\n478\n00:25:15.270 --> 00:25:17.200\nget use out of it if we possibly can.\n\n479\n00:25:17.200 --> 00:25:19.260\nIt's built in so why the heck not, right?\n\n480\n00:25:19.260 --> 00:25:20.570\nSo go out there, Mike.\n\n481\n00:25:20.570 --> 00:25:24.140\nYou look like you've got a little bit\nmore you're just dying to get in there.\n\n482\n00:25:24.140 --> 00:25:27.960\n>> That is, I forgot to tell you guys, one\nthing I did wanna point out about the file\n\n483\n00:25:27.960 --> 00:25:30.360\nscreen audit,\nit's a weakness of the system.\n\n484\n00:25:30.360 --> 00:25:33.250\nDan, you and\nI were talking about this before the show.\n\n485\n00:25:33.250 --> 00:25:35.140\nThis is all based on file extension.\n\n486\n00:25:35.140 --> 00:25:37.160\nSo when you create those file screens.\n\n487\n00:25:37.160 --> 00:25:41.598\nYou're telling it what extensions\nto block, .exe's, .ps1s,\n\n488\n00:25:41.598 --> 00:25:43.670\n.txts whatever it is you want.\n\n489\n00:25:43.670 --> 00:25:46.800\nThat's the only way the system\nhas to recognize that file.\n\n490\n00:25:46.800 --> 00:25:49.930\nSo if you're users are savvy enough.\n\n491\n00:25:49.930 --> 00:25:56.730\nI could take a .mp3 file and rename it,\nchange the extension and call it a .txt.\n\n492\n00:25:56.730 --> 00:25:59.630\nAnd, all of a sudden,\nFSRM will let you save it.\n\n493\n00:25:59.630 --> 00:26:05.060\nIt has no idea that it's actually an mp3\nfile that you've changed the extension on.\n\n494\n00:26:05.060 --> 00:26:06.610\nIn fact, I could then turn around and\n\n495\n00:26:06.610 --> 00:26:10.540\ntell Media Player to open up the txt file\nand it would even play it just fine.\n\n496\n00:26:10.540 --> 00:26:12.250\nSo Just keep that in mind.\n\n497\n00:26:12.250 --> 00:26:15.550\nIt's great,\nit keeps most of your users at bay.\n\n498\n00:26:15.550 --> 00:26:19.130\nYou might have one or\ntwo users that figure out a way around it.\n\n499\n00:26:19.130 --> 00:26:20.450\nSo you've got to keep an eye out for that.\n\n500\n00:26:20.450 --> 00:26:23.668\n>> Yeah, there's always the one in the\nbunch that thinks they know a little bit\n\n501\n00:26:23.668 --> 00:26:24.480\nabout something.\n\n502\n00:26:24.480 --> 00:26:28.460\nHey they very well may so\nyou do have to be worried about that.\n\n503\n00:26:28.460 --> 00:26:30.720\nBut other than that,\nthis system will work great.\n\n504\n00:26:30.720 --> 00:26:35.010\nThe majority of your users Microsoft\nhides file extensions by default so\n\n505\n00:26:35.010 --> 00:26:36.410\nthey're never going to see any of that.\n\n506\n00:26:36.410 --> 00:26:38.300\nThey just know that oh that's blocked.\n\n507\n00:26:38.300 --> 00:26:39.870\nI can't use it for\nthe most part right Mike?\n\n508\n00:26:39.870 --> 00:26:40.670\n>> Pretty much, pretty much.\n\n509\n00:26:40.670 --> 00:26:41.580\nWhy do I keep hitting this [CROSSTALK]?\n\n510\n00:26:41.580 --> 00:26:42.214\n>> That's right.\n\n511\n00:26:42.214 --> 00:26:42.940\nWhat are you going to do?\n\n512\n00:26:42.940 --> 00:26:44.494\nI'm not gonna call the help desk.\n\n513\n00:26:44.494 --> 00:26:45.700\n>> Yeah. [LAUGH] >> All right, everyone.\n\n514\n00:26:45.700 --> 00:26:47.010\nHopefully, you've enjoyed this episode.\n\n515\n00:26:47.010 --> 00:26:48.192\nWe had a great time making it up for you.\n\n516\n00:26:48.192 --> 00:26:50.490\nWe're gonna go ahead and\nsign off for ITProTV.\n\n517\n00:26:50.490 --> 00:26:52.460\nI've been your host, Daniel Lowry.\n\n518\n00:26:52.460 --> 00:26:53.200\n>> And I'm Mike Roderick.\n\n519\n00:26:53.200 --> 00:26:54.250\n>> And we'll see you next time.\n\n520\n00:26:54.250 --> 00:27:00.060\n[MUSIC]\n\n",
          "vimeoId": "138861936"
        },
        {
          "description": "In this episode Don describes file encryption types in Windows Server 2012 and management concerns in an enterprise environment. He also demonstrates how to configure BitLocker on a Windows Server and shows off the new BitLocker Network Unlock feature.",
          "length": "3456",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/012-File-and-Disk-Encryption.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/012-File-and-Disk-Encryption-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/012-File-and-Disk-Encryption-sm.jpg",
          "title": "File and Disk Encryption",
          "transcript": "WEBVTT\n\n1\n00:00:29.513 --> 00:00:33.786\n[MUSIC]\n\n2\n00:00:33.786 --> 00:00:34.416\nAll right.\n\n3\n00:00:34.416 --> 00:00:36.248\nGood morning, good afternoon,\nand good evening.\n\n4\n00:00:36.248 --> 00:00:40.494\nAnd welcome back to another episode\nof ITPro TV, I'm your host Don Pezet.\n\n5\n00:00:40.494 --> 00:00:42.363\nToday, coming at you solo style.\n\n6\n00:00:42.363 --> 00:00:44.577\nI, I got no, no co-host, it's so sad.\n\n7\n00:00:44.577 --> 00:00:48.342\nBut but coming at you solo style\nas we jump in to some of the,\n\n8\n00:00:48.342 --> 00:00:53.550\nthe neat security features that are part\nof Windows Server 2012 and 2012 R2.\n\n9\n00:00:53.550 --> 00:00:57.944\nUn, in particular,\ntoday we're gonna be talking about our\n\n10\n00:00:57.944 --> 00:01:02.635\n[LAUGH] talking about our BitLocker\nencryption, and how we can secure the,\n\n11\n00:01:02.635 --> 00:01:05.930\nthe actual data stored on\nthe drives on our servers.\n\n12\n00:01:05.930 --> 00:01:08.080\nNow, you might ask yourself,\nwait a minute, Don.\n\n13\n00:01:08.080 --> 00:01:10.540\nHaven't we already talked about\nBitlocker in other shows?\n\n14\n00:01:10.540 --> 00:01:11.430\nAnd the answer is yes.\n\n15\n00:01:11.430 --> 00:01:14.590\nWe've, we've actually covered it in\nseveral shows, but almost entirely\n\n16\n00:01:14.590 --> 00:01:19.030\nfrom the workstation perspective,\nfrom the, the Windows 8 desktop side.\n\n17\n00:01:19.030 --> 00:01:21.360\nAnd things are different\non the server side, so\n\n18\n00:01:21.360 --> 00:01:24.290\nwe need to kinda pay attention to that and\nsome of the varieties there.\n\n19\n00:01:24.290 --> 00:01:26.950\nBecause when you go in to take\nthat 7410 exam or 7411 exam and\n\n20\n00:01:26.950 --> 00:01:31.975\nyour, your looking at this\nfrom a server perspective.\n\n21\n00:01:31.975 --> 00:01:34.565\nThere, there's a couple little wrenches\nthey can kinda throw into the equation\n\n22\n00:01:34.565 --> 00:01:36.565\nthat you just need to keep an eye our for.\n\n23\n00:01:36.565 --> 00:01:38.215\nThe the first thing we\nneed to remember is,\n\n24\n00:01:38.215 --> 00:01:41.045\nis why we even use BitLocker\nin the first place, right?\n\n25\n00:01:41.045 --> 00:01:44.105\nWhen it's described from a workstation\nside, it, it really makes sense.\n\n26\n00:01:44.105 --> 00:01:48.235\nHey, if I've got data on my laptop and\nI leave my laptop in a cab or\n\n27\n00:01:48.235 --> 00:01:53.420\nif the laptop gets stolen, if I know that\nthat entire hard drive is encrypted.\n\n28\n00:01:53.420 --> 00:01:55.500\nThen no matter what somebody\ndoes that they gets all of it,\n\n29\n00:01:55.500 --> 00:01:56.960\nthey're not gonna be\nable to get at my data.\n\n30\n00:01:56.960 --> 00:01:57.890\nI know it's safe.\n\n31\n00:01:57.890 --> 00:02:01.410\nI don't have to worry about leaking\ncorporate data to the outside world.\n\n32\n00:02:01.410 --> 00:02:02.090\nAll right?\n\n33\n00:02:02.090 --> 00:02:05.930\nBut if the drive was unencrypted, even if\nthe attacker doesn't have a password they\n\n34\n00:02:05.930 --> 00:02:10.550\ncould take the hard drive out, add it as\na second hard drive to their computer and\n\n35\n00:02:10.550 --> 00:02:12.370\nthen gain access to all the contents.\n\n36\n00:02:12.370 --> 00:02:13.800\nRight?\nThat's the risk we have with mobile\n\n37\n00:02:13.800 --> 00:02:14.350\ndevices.\n\n38\n00:02:15.410 --> 00:02:16.920\nWell servers aren't mobile,\nare they, right?\n\n39\n00:02:16.920 --> 00:02:20.105\nWell, we, we, you know, we stick them\nin a server room, we lock the doors,\n\n40\n00:02:20.105 --> 00:02:23.970\nas we put key card access to them, you\nknow, it's typically a, a secure facility.\n\n41\n00:02:23.970 --> 00:02:27.710\nAnd we don't take servers on the cab\nwith us, or, at least most of us don't.\n\n42\n00:02:27.710 --> 00:02:30.660\nSo, so, you know, they're normally\nstored in secure environments, and\n\n43\n00:02:30.660 --> 00:02:33.860\nso disk encryption is not something\nwe're really worried about.\n\n44\n00:02:33.860 --> 00:02:34.670\nTypically.\n\n45\n00:02:34.670 --> 00:02:35.550\nAll right?\n\n46\n00:02:35.550 --> 00:02:38.830\nBut what if you're gonna be\ndeploying a Windows server\n\n47\n00:02:38.830 --> 00:02:41.710\nin an environment that you\ndon't completely control?\n\n48\n00:02:41.710 --> 00:02:42.320\nRight?\n\n49\n00:02:42.320 --> 00:02:44.840\nA great example that here\nin the United States,\n\n50\n00:02:44.840 --> 00:02:48.710\nwe have, our educational system is divided\nup into what are called School Boards.\n\n51\n00:02:48.710 --> 00:02:52.520\nAnd, and almost every, well,\nthe country is divided into states,\n\n52\n00:02:52.520 --> 00:02:54.770\nand the states are then\ndivided into counties.\n\n53\n00:02:54.770 --> 00:02:58.480\nAnd in each county, they have a School\nBoard responsible for the, the schools.\n\n54\n00:02:58.480 --> 00:03:00.205\nAnd they normally have a nice, big,\n\n55\n00:03:00.205 --> 00:03:03.220\nwell-designed data center\nthat powers the whole county.\n\n56\n00:03:03.220 --> 00:03:06.700\nAnd so you know, usually it is,\nis state of the art computers.\n\n57\n00:03:06.700 --> 00:03:10.170\nThey'll have biometric scanners for\ngaining access to the server rooms,\n\n58\n00:03:10.170 --> 00:03:12.510\nvery secure, very well run.\n\n59\n00:03:12.510 --> 00:03:16.450\nBut then they need smaller amounts of\nservers at the schools themselves,\n\n60\n00:03:16.450 --> 00:03:19.560\nusually like a domain controller or\nfile server, or something like that, but\n\n61\n00:03:19.560 --> 00:03:21.460\nservers at each school.\n\n62\n00:03:21.460 --> 00:03:26.280\nWell, each school doesn't have\na nice secure server room and, and\n\n63\n00:03:26.280 --> 00:03:27.970\nwire closet and all that.\n\n64\n00:03:27.970 --> 00:03:30.260\nThey typically have [LAUGH] mop closets or\n\n65\n00:03:30.260 --> 00:03:32.820\nsomething that wasn't originally\ndesigned as a server room,\n\n66\n00:03:32.820 --> 00:03:36.930\nthis now kind of being retrofit for\nthat purpose, so there not really secure.\n\n67\n00:03:36.930 --> 00:03:39.410\nAnd we don't necessarily know\nwho has access to that room,\n\n68\n00:03:39.410 --> 00:03:41.690\nand since we're not out there\nat that remote location,\n\n69\n00:03:41.690 --> 00:03:45.900\nlocation every day we don't,\nwe don't know what happens to that system.\n\n70\n00:03:45.900 --> 00:03:49.350\nAnd so for servers like that, where we're\ndeploying them in environments that\n\n71\n00:03:49.350 --> 00:03:52.290\nare not necessarily\nfully controlled by us.\n\n72\n00:03:52.290 --> 00:03:55.090\nIt's a good idea to go ahead and\nencrypt the disks.\n\n73\n00:03:55.090 --> 00:03:57.070\nIf somebody tries to log\nin locally on the server,\n\n74\n00:03:57.070 --> 00:03:59.710\nthey're not gonna get very far\nwithout a username and password.\n\n75\n00:03:59.710 --> 00:04:03.780\nBut if they pop those drives out, and\ngo and pop ' in their own system, or\n\n76\n00:04:03.780 --> 00:04:06.970\nif they boot of a CD, right, if they have\nphysical access to the server they could\n\n77\n00:04:06.970 --> 00:04:09.570\nboot off of like a, password reset disk.\n\n78\n00:04:09.570 --> 00:04:12.490\nAnd they could reset the password and\ngain access to that system,\n\n79\n00:04:12.490 --> 00:04:14.620\ncuz they have physical access.\n\n80\n00:04:14.620 --> 00:04:16.550\nBitLocker protects us from that.\n\n81\n00:04:16.550 --> 00:04:20.180\nIf somebody boots off of a disk,\nwell, the hard drives are encrypted.\n\n82\n00:04:20.180 --> 00:04:22.220\nThey can't see ' they\ncan't get access to them.\n\n83\n00:04:22.220 --> 00:04:23.520\nAll they can do is format.\n\n84\n00:04:23.520 --> 00:04:25.290\nEither way we, we don't lose our data.\n\n85\n00:04:25.290 --> 00:04:28.030\nBut but it is protected, it is safe.\n\n86\n00:04:28.030 --> 00:04:31.055\nUnless still are able to unlock\nthe system to gain access to it.\n\n87\n00:04:31.055 --> 00:04:31.635\nAll right.\n\n88\n00:04:31.635 --> 00:04:34.865\nSo we can leverage BitLocker on\nour servers to help protect that.\n\n89\n00:04:34.865 --> 00:04:37.025\nBut because most people don't need it.\n\n90\n00:04:37.025 --> 00:04:39.385\nBitlocker's actually not installed\non the server by default.\n\n91\n00:04:39.385 --> 00:04:43.325\nSo if you try and follow the standard\nsteps from like the Windows 8 show.\n\n92\n00:04:43.325 --> 00:04:45.963\nWell, they do work, but\nnot right out of the box.\n\n93\n00:04:45.963 --> 00:04:47.905\nSo there's a couple of things that\nwe're gonna notice that are missing.\n\n94\n00:04:47.905 --> 00:04:49.350\nSo let's take a look at that.\n\n95\n00:04:49.350 --> 00:04:52.930\nI wanna take a, a Windows server and and\nshow you an example of how we can get\n\n96\n00:04:52.930 --> 00:04:55.980\nBitLocker set- set up and\nsome of the things we're gonna see.\n\n97\n00:04:55.980 --> 00:04:58.230\nSo I'm gonna jump over to\none of our servers here, and\n\n98\n00:04:58.230 --> 00:05:03.670\nthis is just a Windows Server 2012 R2\nmachine, it's a, a default install.\n\n99\n00:05:03.670 --> 00:05:07.030\nIt's joined to a domain, but\nit doesn't have anything else fancy on it.\n\n100\n00:05:07.030 --> 00:05:08.140\nIf you look at it.\n\n101\n00:05:08.140 --> 00:05:10.290\nThere's no additional roles installed.\n\n102\n00:05:10.290 --> 00:05:13.120\nThe, the file and storage roll\nwhich is pretty much always there.\n\n103\n00:05:13.120 --> 00:05:14.190\nBut, but nothing else crazy.\n\n104\n00:05:14.190 --> 00:05:15.570\nIt's just a, a member server.\n\n105\n00:05:15.570 --> 00:05:16.305\nAll right.\n\n106\n00:05:16.305 --> 00:05:19.530\nIf I wanna configure BitLocker on it,\nwell, you know, in, in Windows 8 what I\n\n107\n00:05:19.530 --> 00:05:23.820\nwould normally do is bring up my start\nmenu and just type in BitLocker.\n\n108\n00:05:23.820 --> 00:05:25.530\nAnd assuming I can spell it right,\n\n109\n00:05:25.530 --> 00:05:28.570\nthe manage BitLocker icon\nwould show up right here.\n\n110\n00:05:28.570 --> 00:05:31.320\nBut in this case, BitLocker's not there.\n\n111\n00:05:31.320 --> 00:05:34.200\nIt's actually not installed in\nWindows Server 2012 by default.\n\n112\n00:05:34.200 --> 00:05:36.780\nWe've gotta add it, all right?\n\n113\n00:05:36.780 --> 00:05:39.890\nSo I'm gonna go back to my server manager,\nand\n\n114\n00:05:39.890 --> 00:05:41.990\nI'll just go to Add Roles and Features.\n\n115\n00:05:41.990 --> 00:05:46.470\nBitLocker is a feature of Windows Server\n2012, so when I go into this wizard,\n\n116\n00:05:46.470 --> 00:05:49.560\nI'm gonna skip past the screens\nthat deal with roles, and\n\n117\n00:05:49.560 --> 00:05:52.700\nI'm gonna get right down here to this\nscreen that deals with features.\n\n118\n00:05:52.700 --> 00:05:54.420\nSo I'll just move forward here.\n\n119\n00:05:54.420 --> 00:05:56.110\nI'm adding a role or a feature.\n\n120\n00:05:57.600 --> 00:06:01.000\nI'm configuring this server,\nthat I'm on right now.\n\n121\n00:06:01.000 --> 00:06:01.630\nServer one.\n\n122\n00:06:03.030 --> 00:06:05.170\nAnd for the roles,\nI'm gonna leave that be.\n\n123\n00:06:05.170 --> 00:06:07.270\nI'm, I'm not messing with any of that.\n\n124\n00:06:07.270 --> 00:06:09.300\nBut under features, if you look in here.\n\n125\n00:06:09.300 --> 00:06:11.650\nYou'll find BitLocker drive encryption.\n\n126\n00:06:12.848 --> 00:06:14.320\nBitLocker drive encryption right here.\n\n127\n00:06:14.320 --> 00:06:15.640\nI'm just gonna check that off.\n\n128\n00:06:15.640 --> 00:06:18.700\nNow when I check it, there's gonna be\nsome additional tools that it needs.\n\n129\n00:06:18.700 --> 00:06:22.726\nThe BitLocker management tools, and some\nother active directory role administration\n\n130\n00:06:22.726 --> 00:06:25.160\ntools it's gonna put in to\nbe able to manage BitLocker.\n\n131\n00:06:25.160 --> 00:06:26.409\nAll right.\nSo that's fine,\n\n132\n00:06:26.409 --> 00:06:27.690\nit's gonna add that for me.\n\n133\n00:06:27.690 --> 00:06:29.800\nAnd then we can finish up.\n\n134\n00:06:31.400 --> 00:06:34.460\nAll right, now that's gonna\ninstall BitLocker, and, and\n\n135\n00:06:34.460 --> 00:06:38.120\nonce those tools are on there,\nthen it's going to, to ask me to reboot.\n\n136\n00:06:38.120 --> 00:06:40.060\nWe got to reboot before it goes active.\n\n137\n00:06:40.060 --> 00:06:44.710\nAnd from there we can activate it just\nlike we would on a Windows 8 machine.\n\n138\n00:06:44.710 --> 00:06:45.370\nAll right.\n\n139\n00:06:45.370 --> 00:06:47.580\nWell, here's one of the things\nwe need to be aware of.\n\n140\n00:06:48.800 --> 00:06:52.290\nNormally, when we deploy BitLocker we're\ngonna rely on what's called a TPM,\n\n141\n00:06:52.290 --> 00:06:55.030\na Trusted Platform Module.\n\n142\n00:06:55.030 --> 00:06:59.010\nWhen we enable the encryption,\nit's gonna take our private key,\n\n143\n00:06:59.010 --> 00:07:01.710\nthe key that's used to\nencrypt all of our data.\n\n144\n00:07:01.710 --> 00:07:05.210\nAnd it's gonna try and\nstore it in our TPM, and that, that TPM,\n\n145\n00:07:05.210 --> 00:07:08.680\nthe Trusted Platform Module,\nit's just a, a microchip,\n\n146\n00:07:08.680 --> 00:07:11.980\na circuit that is on\nthe motherboard of your system.\n\n147\n00:07:11.980 --> 00:07:13.860\nAlmost every laptop today and\n\n148\n00:07:13.860 --> 00:07:17.200\nthe majority of desktops sold today\nhave a TPM on their motherboard, and so\n\n149\n00:07:17.200 --> 00:07:20.242\nthat's where BitLocker wants to store\nthe certificate, they, the, the key.\n\n150\n00:07:20.242 --> 00:07:21.860\nAll right?\n\n151\n00:07:21.860 --> 00:07:25.300\nNot a lot of servers have TP, TPMs though.\n\n152\n00:07:25.300 --> 00:07:27.010\nIf you do, then great!\n\n153\n00:07:27.010 --> 00:07:30.685\nIt enabling BitLocker on a server is\njust like enabling it on, on Windows 8,\n\n154\n00:07:30.685 --> 00:07:33.090\nif you've got a TPM on your server.\n\n155\n00:07:33.090 --> 00:07:34.700\nBut a lot of servers don't have it.\n\n156\n00:07:34.700 --> 00:07:37.970\nAnd so if you don't have a TPM,\nwhat do you do?\n\n157\n00:07:37.970 --> 00:07:41.440\nWell, we can actually adjust\nBitLocker to work without a TPM.\n\n158\n00:07:41.440 --> 00:07:43.752\nNow, you might ask yourself,\nwait a minute,\n\n159\n00:07:43.752 --> 00:07:47.488\nif I store that private key in the TPM and\nsomebody steals the whole server,\n\n160\n00:07:47.488 --> 00:07:49.862\naren't the stealing the whole TPM also?\n\n161\n00:07:49.862 --> 00:07:53.060\nAnd the answer is yes, but\nyou never use just the TPM.\n\n162\n00:07:53.060 --> 00:07:55.567\nIt's always dual factor authentication.\n\n163\n00:07:55.567 --> 00:07:57.878\nYou have something you have and\nsomething you know.\n\n164\n00:07:57.878 --> 00:07:59.898\nThe TPM, that's the something you have.\n\n165\n00:07:59.898 --> 00:08:01.987\nThe microchip on the motherboard,\nall right?\n\n166\n00:08:01.987 --> 00:08:05.957\nThen the something you know is typically\na PIN number, from your own head or a,\n\n167\n00:08:05.957 --> 00:08:09.150\na password, or\nwhatever it is you authenticate with.\n\n168\n00:08:09.150 --> 00:08:12.490\nSo when you fire up that computer,\nnot only do you have to have the TPM, but\n\n169\n00:08:12.490 --> 00:08:16.840\nyou also have to have that something you\nknow to be able to unlock, all right?\n\n170\n00:08:16.840 --> 00:08:22.080\nWell, if I don't have a TPM,\nI can use an additional hard drive,\n\n171\n00:08:22.080 --> 00:08:26.690\nan extra partition, or\na USB key to act as that TPM.\n\n172\n00:08:26.690 --> 00:08:31.600\nUSB key's kinda nice, because you can plug\nin your USB key, boot the system up and\n\n173\n00:08:31.600 --> 00:08:33.250\ntake the USB key with you.\n\n174\n00:08:33.250 --> 00:08:36.600\nAnd if anybody reboots the machine,\nthey won't be able to unlock it.\n\n175\n00:08:36.600 --> 00:08:39.400\nSo if they try and boot from you know,\npassword reset disk or whatever,\n\n176\n00:08:39.400 --> 00:08:40.560\nthey're now locked out.\n\n177\n00:08:40.560 --> 00:08:42.860\nThe negative is,\nevery time the machine reboots,\n\n178\n00:08:42.860 --> 00:08:45.390\nthat USB key's gotta be inserted,\nall right?\n\n179\n00:08:45.390 --> 00:08:48.890\nBut we could also use an extra hard drive\nor partition on the system, and, and\n\n180\n00:08:48.890 --> 00:08:52.100\nthat's what I'll do on this server,\ncuz this server does not have a TPM in it.\n\n181\n00:08:52.100 --> 00:08:55.360\nSo just be aware that that's one\nbig difference you'll bump into.\n\n182\n00:08:55.360 --> 00:08:57.360\nA lot of servers do not have TPMs.\n\n183\n00:08:58.740 --> 00:09:01.940\nAll right, this finished the the little\ninstall here, but I do need to reboot.\n\n184\n00:09:01.940 --> 00:09:04.100\nI get my little warning\nflag up here telling me,\n\n185\n00:09:04.100 --> 00:09:09.560\nso it tells me that a restart is pending,\nbut it does not offer to reboot for me.\n\n186\n00:09:09.560 --> 00:09:10.360\nThat would be too easy.\n\n187\n00:09:10.360 --> 00:09:12.425\nSo I'll go ahead and, and\ntell it to reboot myself.\n\n188\n00:09:12.425 --> 00:09:16.300\n[LAUGH]\nAs\n\n189\n00:09:16.300 --> 00:09:18.980\nsoon as I can get my charms bar to appear,\nthere we go.\n\n190\n00:09:21.390 --> 00:09:22.520\nAll right, so we'll let that restart.\n\n191\n00:09:24.260 --> 00:09:27.760\nAnd let's see, we are doing operating\nsystem reconfiguration planned.\n\n192\n00:09:30.258 --> 00:09:32.355\nOkay, so we, we'll let that re reboot, and\n\n193\n00:09:32.355 --> 00:09:34.955\nwhat it's doing is it's\nadding those BitLocker tools.\n\n194\n00:09:34.955 --> 00:09:39.915\nNow when it comes up, I'll now have\nthe familiar BitLocker manage, or\n\n195\n00:09:39.915 --> 00:09:42.635\nmanage BitLocker tools that,\nthat we're used to from Windows 8.\n\n196\n00:09:42.635 --> 00:09:45.445\nSo, so\nfrom here on it's basically the same.\n\n197\n00:09:45.445 --> 00:09:49.735\nAnd if you have a TPM it's exactly\nthe same as, as in Windows 8, all right?\n\n198\n00:09:49.735 --> 00:09:51.265\nBut if you don't have a TPM,\n\n199\n00:09:51.265 --> 00:09:54.032\nhere's where we're gonna have\nto get a little more involved.\n\n200\n00:09:54.032 --> 00:09:56.618\nI'm gonna have to trick the system,\nit's not really a trick.\n\n201\n00:09:56.618 --> 00:09:59.970\nI'm just gonna have to tell the system\nto use something other than a TPM.\n\n202\n00:09:59.970 --> 00:10:03.330\nWell, the default is it\ndoes require the TPM.\n\n203\n00:10:03.330 --> 00:10:07.560\nSo when it comes back online, one of\nthe first things I'll have to do is modify\n\n204\n00:10:07.560 --> 00:10:12.950\nthe local security policy to allow\nthe system to not use a TPM.\n\n205\n00:10:12.950 --> 00:10:14.300\nSo, let me do that here.\n\n206\n00:10:16.750 --> 00:10:18.888\nWell, if I can remember my password.\n\n207\n00:10:28.582 --> 00:10:30.008\nThere we go, third time's the charm.\n\n208\n00:10:30.008 --> 00:10:36.050\n[LAUGH] All right, so now I'm installed\nthe, the BitLocker tools are there.\n\n209\n00:10:36.050 --> 00:10:37.230\nI'm not encrypted, right?\n\n210\n00:10:37.230 --> 00:10:40.990\nI've just installed the tools\nto allow me to do encryption but\n\n211\n00:10:40.990 --> 00:10:42.752\nit's not actually encrypted at this point.\n\n212\n00:10:42.752 --> 00:10:45.630\nAll right, so\n\n213\n00:10:45.630 --> 00:10:48.530\nthe next thing I'm gonna do is I'm\ngonna modify my local security policy.\n\n214\n00:10:48.530 --> 00:10:50.974\nIt's actually finishing the tool\ninstall right now, so I'll,\n\n215\n00:10:50.974 --> 00:10:52.510\nI'll just leave that be.\n\n216\n00:10:52.510 --> 00:10:55.320\nAnd you see how I've got my little\nblue bar scrolling by there.\n\n217\n00:10:55.320 --> 00:10:56.840\nSo I, I'll just leave that be, and\n\n218\n00:10:56.840 --> 00:10:59.900\nwhile it's running, I'm gonna get us\nsetup to use something other than a TPM.\n\n219\n00:10:59.900 --> 00:11:03.700\nNow, this is a virtual machine,\nso I can't pop a USB key in it,\n\n220\n00:11:03.700 --> 00:11:06.230\nand that's what I would normally do,\nis use a USB key.\n\n221\n00:11:06.230 --> 00:11:12.011\nSo instead, what I'm gonna do is\nI'm going to just create like a,\n\n222\n00:11:12.011 --> 00:11:13.930\na disk partition, and use that.\n\n223\n00:11:13.930 --> 00:11:15.870\nSo let me just manage this guy here.\n\n224\n00:11:17.020 --> 00:11:18.480\nAnd, actually, you know what?\n\n225\n00:11:18.480 --> 00:11:21.367\nI want computer management.\n\n226\n00:11:26.464 --> 00:11:30.269\nIdeally, we would do a USB key because\nit's easy to, to add it and remove it and\n\n227\n00:11:30.269 --> 00:11:31.190\nback it up.\n\n228\n00:11:31.190 --> 00:11:33.480\nBut but in this case I've\ngot to use what I've got.\n\n229\n00:11:33.480 --> 00:11:35.970\nSo I'm gonna go into disk management and\nI'm just gonna create a small partition.\n\n230\n00:11:35.970 --> 00:11:42.582\nNow this partition is gonna store\nthe startup key for for BitLocker.\n\n231\n00:11:42.582 --> 00:11:45.890\nWhen BitLocker boots up, it's gonna\nuse this key combined with, you know,\n\n232\n00:11:45.890 --> 00:11:49.260\nsomething we know or, or whatever to,\nto be able to get us in.\n\n233\n00:11:49.260 --> 00:11:53.420\nWell, the key is not very big,\nso you don't need a big USB key.\n\n234\n00:11:53.420 --> 00:11:56.960\nIf you have a one gig USB key,\nthat is more than enough space,\n\n235\n00:11:56.960 --> 00:12:01.870\nbecause the key that we're gonna store\nis less than one kilobyte in size.\n\n236\n00:12:01.870 --> 00:12:03.400\nIt is very, very small.\n\n237\n00:12:03.400 --> 00:12:06.240\nSo what I'm gonna do is, I, I'm just\ngonna shrink this partition here to make\n\n238\n00:12:06.240 --> 00:12:08.770\na little room at the end of the drive.\n\n239\n00:12:08.770 --> 00:12:11.355\nAnd I'll turn that into my fake USB key.\n\n240\n00:12:14.734 --> 00:12:17.277\nI'll just make it 50 megabytes in size.\n\n241\n00:12:17.277 --> 00:12:20.236\nThere we go.\n\n242\n00:12:20.236 --> 00:12:22.400\nAnd I'll go ahead and\ncreate a volume in there.\n\n243\n00:12:22.400 --> 00:12:26.910\nNow, if you have a really small drive,\nthen when you go to format it\n\n244\n00:12:26.910 --> 00:12:31.390\nyou may not be able to format\nit as an NTSF and that's fine.\n\n245\n00:12:31.390 --> 00:12:33.660\nIt can work as FAT 32 or, or whatever.\n\n246\n00:12:33.660 --> 00:12:35.030\nIf you're intending on backing this up,\n\n247\n00:12:35.030 --> 00:12:37.620\nFAT 32 can actually be a better\noption in a lot of cases.\n\n248\n00:12:39.310 --> 00:12:41.010\nI'll just call this my fake USB drive.\n\n249\n00:12:44.520 --> 00:12:45.480\nAnd we'll format it.\n\n250\n00:12:45.480 --> 00:12:48.160\nSo we're gonna use that\nas our fake USB key.\n\n251\n00:12:48.160 --> 00:12:48.857\nAll right,\n\n252\n00:12:48.857 --> 00:12:53.260\nthe next thing I need to do is I need\nto enable BitLocker to not use a TPM.\n\n253\n00:12:53.260 --> 00:12:56.010\nThe default is it requires a TPM.\n\n254\n00:12:56.010 --> 00:12:59.071\nSo I'm gonna go into my\nlocal security policy.\n\n255\n00:13:02.670 --> 00:13:03.876\nAnd we'll adjust the option in there.\n\n256\n00:13:03.876 --> 00:13:07.991\nNow if you're just managing one machine,\nwe can do this in the local security\n\n257\n00:13:07.991 --> 00:13:10.930\npolicy and, and, and\nknock it out right here.\n\n258\n00:13:10.930 --> 00:13:15.420\nBut if you're gonna be managing thousands\nof machines, it might be worthwhile\n\n259\n00:13:15.420 --> 00:13:17.935\nto do this in a group policy\nobject in the active directory.\n\n260\n00:13:17.935 --> 00:13:22.510\nCuz then it can roll out and it can apply\nto, to tons of machines all at once.\n\n261\n00:13:22.510 --> 00:13:27.970\nSo, you know, you, you've got that kind of\nflexibility in, in how you wanna do this.\n\n262\n00:13:27.970 --> 00:13:32.440\nIf you just wanna do it on one machine\nversus a ton in fact, if, if we want\n\n263\n00:13:34.630 --> 00:13:39.270\nyeah I guess we could go ahead and\ndo it at the, at the higher level.\n\n264\n00:13:41.020 --> 00:13:42.070\nKinda debating.\n\n265\n00:13:42.070 --> 00:13:43.050\nYeah, let's do it, let's do it there.\n\n266\n00:13:43.050 --> 00:13:44.970\nWe'll, we'll do it as a an active\ndirectory policy instead.\n\n267\n00:13:44.970 --> 00:13:50.372\nLet me jump up to the domain controller\nhere, and on my domain controller,\n\n268\n00:13:50.372 --> 00:13:55.114\nI'm just gonna go into group policy and\nwe'll turn it on in here.\n\n269\n00:14:00.977 --> 00:14:05.958\nAll right, on my domain I'm gonna\ncreate a new group policy object.\n\n270\n00:14:05.958 --> 00:14:10.340\nAnd I'm gonna call this\nmy BitLocker policy.\n\n271\n00:14:10.340 --> 00:14:14.330\nAnd so this is where I'm gonna store\nall my settings related to BitLocker.\n\n272\n00:14:14.330 --> 00:14:16.592\nAnd I'm applying it at the domain level,\nso\n\n273\n00:14:16.592 --> 00:14:20.813\nit's going to affect every computer joined\nto the domain, which includes that,\n\n274\n00:14:20.813 --> 00:14:23.891\nthat server I was on a moment ago,\nand I'll just edit that.\n\n275\n00:14:29.173 --> 00:14:33.692\nAll right, our BitLocker settings, they're\nburied under the computer settings because\n\n276\n00:14:33.692 --> 00:14:35.930\nthis is applying to\nthe hard drive as a whole.\n\n277\n00:14:35.930 --> 00:14:37.710\nIt doesn't matter what user logs in,\nright?\n\n278\n00:14:37.710 --> 00:14:39.960\nIt's the computer that's\ndoing the encryption.\n\n279\n00:14:39.960 --> 00:14:43.920\nSo all of our BitLocker settings\nare here under Computer Configuration.\n\n280\n00:14:43.920 --> 00:14:47.590\nAnd I can drill down into my Policies and\n\n281\n00:14:47.590 --> 00:14:51.899\nAdministrative Templates,\nWindows components, and\n\n282\n00:14:51.899 --> 00:14:56.150\ninside of Windows Components you'll\nfind BitLocker Drive Dncryption, and\n\n283\n00:14:56.150 --> 00:14:59.290\nhere's a bunch of options\nthat are available for us.\n\n284\n00:14:59.290 --> 00:15:01.620\nThe one I'm actually looking for,\nif I expand that out,\n\n285\n00:15:01.620 --> 00:15:04.610\nthere's another folder called\nOperating System Drives.\n\n286\n00:15:04.610 --> 00:15:08.500\nAnd it's, it's in here that we'll see\nsome of the different options that\n\n287\n00:15:08.500 --> 00:15:12.670\nare available for us, and the one that I'm\nlooking for is not very intuitive, right?\n\n288\n00:15:12.670 --> 00:15:15.900\nWhat I wanna do is I wanna say hey,\nwhen you boot up, you don't need a TPM.\n\n289\n00:15:15.900 --> 00:15:20.620\nYou can use something else instead, like\na USB key, or pin number, or whatever.\n\n290\n00:15:20.620 --> 00:15:21.640\nSo the option I'm looking for\n\n291\n00:15:21.640 --> 00:15:25.690\nis the one that says require\nadditional authentication at start up.\n\n292\n00:15:25.690 --> 00:15:29.360\nThat's the one that, that defaults\nto saying you've got to have a TPM.\n\n293\n00:15:30.540 --> 00:15:32.185\nSo I'll take that one.\n\n294\n00:15:36.562 --> 00:15:38.547\nAnd I'm gonna go ahead and enable it.\n\n295\n00:15:38.547 --> 00:15:42.869\nAnd as you look at the, the list of\nstuff in here you'll see the checked off\n\n296\n00:15:42.869 --> 00:15:47.090\noption there, allow Bitlocker\nwithout a compatible TPM, all right?\n\n297\n00:15:47.090 --> 00:15:49.580\nSo if your server doesn't have it,\nyou need this.\n\n298\n00:15:49.580 --> 00:15:51.750\nNow I,\nI know I've said it like 20 times now, but\n\n299\n00:15:51.750 --> 00:15:54.288\nI just wanna make sure you've\ngot it straight for the exam.\n\n300\n00:15:54.288 --> 00:15:57.891\nIf you get to an exam question and\nit says the server has a TPM,\n\n301\n00:15:57.891 --> 00:15:59.457\nyou do not need to do this.\n\n302\n00:15:59.457 --> 00:16:01.140\nServer's got a TPM,\nit's good to go, right?\n\n303\n00:16:01.140 --> 00:16:04.924\nAnd if you're purchasing new servers,\nit's a good idea to look for that option.\n\n304\n00:16:04.924 --> 00:16:06.770\nThey don't normally charge extra for it.\n\n305\n00:16:06.770 --> 00:16:09.780\nIt's just a matter of picking the right\nthing to make sure you've got it.\n\n306\n00:16:09.780 --> 00:16:12.680\nYou can't really add a TPM after the fact.\n\n307\n00:16:12.680 --> 00:16:16.430\nI, I've seem some people that were\nmaking like PCI cards out of TPMs.\n\n308\n00:16:16.430 --> 00:16:17.640\nBut the problem is,\n\n309\n00:16:17.640 --> 00:16:21.710\nthe BIOS of the motherboard has\nto expect the TPM to be there.\n\n310\n00:16:21.710 --> 00:16:25.120\nAnd if it's not, it's not gonna go and\nlook to a PCI card or, or whatever,\n\n311\n00:16:25.120 --> 00:16:28.420\nyou know, if it, if it doesn't expect\none to be there in the first place.\n\n312\n00:16:28.420 --> 00:16:33.380\nAll right, the other thing is, with some\nof these options let me I think this is\n\n313\n00:16:33.380 --> 00:16:36.120\ngonna mess up my mouse, but let me\nsee if I can zoom in a different way.\n\n314\n00:16:36.120 --> 00:16:41.210\nIf we look at some of these options, we'll\nsee, like, how they're set to allow a TPM.\n\n315\n00:16:41.210 --> 00:16:45.080\nIt's really easy to confuse this and\nsay, that means it requires a TPM.\n\n316\n00:16:45.080 --> 00:16:50.710\nBut the options that we have are allow,\nrequire, do not allow.\n\n317\n00:16:50.710 --> 00:16:55.450\nAnd so what they mean is,\nrequire, you have to have a TPM or\n\n318\n00:16:55.450 --> 00:16:56.890\nyou can't use BitLocker.\n\n319\n00:16:56.890 --> 00:16:57.770\nAnd that's the default.\n\n320\n00:16:58.910 --> 00:17:01.860\nDo not allow with TPM means you\ncan't use it no matter what.\n\n321\n00:17:01.860 --> 00:17:06.350\nYou've got to use a USB key or\nsome other place to store the startup key.\n\n322\n00:17:06.350 --> 00:17:10.990\nBut this one, allow a TPM That says,\nhey if you've got a TPM,\n\n323\n00:17:10.990 --> 00:17:15.840\ngreat you can use it but if you don't have\na TPM you can use something else, this is\n\n324\n00:17:15.840 --> 00:17:18.390\nopening up all the different options,\nand that's what I want right here.\n\n325\n00:17:18.390 --> 00:17:21.876\nThat's gonna give me the flexibility\nI need to to deploy this.\n\n326\n00:17:21.876 --> 00:17:27.400\nAll right, so, once we've got that set,\nI'll just go ahead and\n\n327\n00:17:27.400 --> 00:17:31.740\nsay okay to that, so that ones set,\nso we're in business there.\n\n328\n00:17:31.740 --> 00:17:33.480\nAnd that's gonna be my policy for\nright now.\n\n329\n00:17:33.480 --> 00:17:36.670\nWhat we'll come back and\nrevisit this policy a little bit later.\n\n330\n00:17:36.670 --> 00:17:40.990\nTo make it a little more efficient because\nthe BitLocker settings are entirely under\n\n331\n00:17:40.990 --> 00:17:44.710\nthe computer settings and there's\nnothing really under the user settings,\n\n332\n00:17:44.710 --> 00:17:49.790\nwe can actually disable the user settings\nfor this, for this policy if we wanted.\n\n333\n00:17:51.110 --> 00:17:52.840\nThen, I guess we really don't\nhave to mess with that too much.\n\n334\n00:17:52.840 --> 00:17:55.910\nBut, you know, by default these\npolicies will apply both user and\n\n335\n00:17:55.910 --> 00:17:58.270\ncomputer settings, so\nyou can make it a little more efficient.\n\n336\n00:17:58.270 --> 00:18:00.640\nBut for right now,\nwe'll just leave that setting.\n\n337\n00:18:00.640 --> 00:18:02.660\nAnd I need to make sure it\napplies on my other servers.\n\n338\n00:18:02.660 --> 00:18:06.300\nSo, I'll jump over to my other server, and\n\n339\n00:18:06.300 --> 00:18:10.530\nI'm just gonna force it\nto update its policy.\n\n340\n00:18:10.530 --> 00:18:14.420\nNow, a server,\nif it's a domain controller,\n\n341\n00:18:14.420 --> 00:18:17.780\nwill automatically update its\npolicy every five minutes.\n\n342\n00:18:17.780 --> 00:18:18.620\nI'm sorry, hang on.\n\n343\n00:18:18.620 --> 00:18:22.370\nIf it is a domain controller, it'll\nautomatically update every five minutes.\n\n344\n00:18:22.370 --> 00:18:26.900\nIf it's not a domain controller, it'll\nautomatically update every 90 minutes.\n\n345\n00:18:26.900 --> 00:18:29.480\nWell, I'm not a patient man,\nand I can't wait 90 minutes.\n\n346\n00:18:29.480 --> 00:18:32.500\nSo I'm going to do a gpupdate /force.\n\n347\n00:18:34.610 --> 00:18:35.350\nAll right?\n\n348\n00:18:35.350 --> 00:18:37.950\nAnd that's gonna make it\nupdate its policy right now.\n\n349\n00:18:37.950 --> 00:18:41.050\nThe computer setting that allows\nus to deploy BitLocker without\n\n350\n00:18:41.050 --> 00:18:41.890\na TPM should kick in.\n\n351\n00:18:41.890 --> 00:18:43.230\nNow we should be ready to rock.\n\n352\n00:18:44.860 --> 00:18:48.070\nI used should,\nmy my operating word for IT.\n\n353\n00:18:48.070 --> 00:18:51.005\nWhich gives me that little,\nlittle cushion in case it doesn't work.\n\n354\n00:18:51.005 --> 00:18:52.060\n[LAUGH] So, all right.\n\n355\n00:18:52.060 --> 00:18:53.250\nBut it looks like we're in business.\n\n356\n00:18:53.250 --> 00:18:56.390\nIt says the computer policy\nupdate was successful.\n\n357\n00:18:56.390 --> 00:18:57.600\nSo, we should be good there.\n\n358\n00:18:57.600 --> 00:19:00.990\nNow, we should be ready\nto turn on BitLocker.\n\n359\n00:19:00.990 --> 00:19:04.930\nFrom here on out, it's pretty much\njust like like on Windows 8, you know?\n\n360\n00:19:04.930 --> 00:19:08.311\nIf you had a TPM then, you would just go\nand, and run the manage BitLocker wizard.\n\n361\n00:19:12.095 --> 00:19:16.897\nI'm just going to do a quick search for\nmanage BitLocker,\n\n362\n00:19:16.897 --> 00:19:19.860\nand we'll fire that wizard up.\n\n363\n00:19:19.860 --> 00:19:24.770\nI can see my C drive right now, BitLocker\nis off, so it's not being encrypted.\n\n364\n00:19:24.770 --> 00:19:27.560\nHere's my fake USB down here, and,\n\n365\n00:19:27.560 --> 00:19:32.080\nnotice it's not showing up like a real USB\nkey which would show as removable data,\n\n366\n00:19:32.080 --> 00:19:36.060\nright, instead it shows as fixed\ndata cuz it is an actual drive, so\n\n367\n00:19:36.060 --> 00:19:39.780\nit is showing a little different than what\nyou might see if you're using a USB key.\n\n368\n00:19:39.780 --> 00:19:43.461\nBut I'm gonna turn on BitLocker for\nmy C Drive.\n\n369\n00:19:43.461 --> 00:19:47.100\nAnd so we'll fire this up, and\nnow it's asking me to either\n\n370\n00:19:47.100 --> 00:19:50.780\ninsert a USB flash drive, or\nenter a password, all right?\n\n371\n00:19:50.780 --> 00:19:55.560\nNow normally, I would choose the, the fl,\nUSB flash drive and to have that USB key.\n\n372\n00:19:55.560 --> 00:20:00.380\nBut since I'm using a actual drive in\nthe system, it's not too happy about that.\n\n373\n00:20:00.380 --> 00:20:04.220\nSo, the graphical user interface here,\nit expects me to follow all of the,\n\n374\n00:20:04.220 --> 00:20:04.960\nthe normal patterns.\n\n375\n00:20:04.960 --> 00:20:07.770\nSo, I'm gonna have to cheat\na little bit and override it.\n\n376\n00:20:07.770 --> 00:20:11.070\nIf I had a USB flash drive, you know,\nwhich I can't plug in the VM.\n\n377\n00:20:11.070 --> 00:20:14.320\nBut if I had that I could choose it,\nthe wizard would finish.\n\n378\n00:20:14.320 --> 00:20:16.200\nIt would reboot.\n\n379\n00:20:16.200 --> 00:20:19.980\nAnd that's when it's testing to make sure\nencryption works, and after the reboot,\n\n380\n00:20:19.980 --> 00:20:22.470\nit would then move on and\nencrypt the whole rest of the drive.\n\n381\n00:20:22.470 --> 00:20:23.020\nAll right?\n\n382\n00:20:23.020 --> 00:20:25.670\nBut because I'm cheating a little bit,\nwhat I'm gonna do is I'm gonna cancel\n\n383\n00:20:25.670 --> 00:20:29.300\nthe GUI, and\nI'm gonna drop to the command line.\n\n384\n00:20:29.300 --> 00:20:34.560\nThe command line is a little more flexible\nthan, than what we have in the GUI.\n\n385\n00:20:34.560 --> 00:20:37.246\nAnd let me, let me just make this font\na little bigger so it's easier to read.\n\n386\n00:20:46.035 --> 00:20:46.616\nAll right.\n\n387\n00:20:46.616 --> 00:20:52.170\nFrom the command line,\nyou have the manage-bde command.\n\n388\n00:20:52.170 --> 00:20:54.400\nAnd bde,\nthat's BitLocker drive encryption.\n\n389\n00:20:54.400 --> 00:20:57.360\nAnd if I run manage-bde I'll see,\nyou know,\n\n390\n00:20:57.360 --> 00:21:02.470\nhere's all the syntax I can use to turn\non BitLocker from the command line.\n\n391\n00:21:02.470 --> 00:21:08.670\nAnd, what I can do,\nis I can say, manage-bde -on C:,\n\n392\n00:21:08.670 --> 00:21:13.090\nso I'm, I'm turning on encryption for\nthe C drive, and\n\n393\n00:21:13.090 --> 00:21:18.390\nthen, for the startup key,\nI can specify a drive letter.\n\n394\n00:21:18.390 --> 00:21:21.610\nSo, I want the startup key to be\nstored on that fake USB drive I made,\n\n395\n00:21:21.610 --> 00:21:24.760\nwhich is my what is it, my E drive?\n\n396\n00:21:26.470 --> 00:21:28.040\nYeah, it's my E drive.\n\n397\n00:21:28.040 --> 00:21:31.480\nSo I'm gonna have it put my\nstartup key on the E drive.\n\n398\n00:21:31.480 --> 00:21:33.520\nHere it just takes a drive letter, so\n\n399\n00:21:33.520 --> 00:21:37.240\nit doesn't care if it's a USB key or\na hard drive or whatever, so\n\n400\n00:21:37.240 --> 00:21:42.320\nit gives me a little more flexibility\nthan the wizard did, all right?\n\n401\n00:21:42.320 --> 00:21:45.470\nAfter that I just need to\ntell it a few other options,\n\n402\n00:21:45.470 --> 00:21:48.480\nlike I wanna store a recovery key, right?\n\n403\n00:21:48.480 --> 00:21:50.260\nIf I ever get locked out of the system for\nsome reason,\n\n404\n00:21:50.260 --> 00:21:53.630\nI might need a recovery key to\ndo an emergency decryption, and\n\n405\n00:21:53.630 --> 00:21:56.620\nthat recovery key can be stored,\nreally, anywhere.\n\n406\n00:21:56.620 --> 00:22:00.700\nI'm gonna put it on the same drive,\nwhich is not a permanent solution.\n\n407\n00:22:00.700 --> 00:22:04.330\nTemporarily, I'm gonna store the recovery\nkey there, and then I'll back it up,\n\n408\n00:22:04.330 --> 00:22:07.100\nI'll take it and print it out and\nstick it in a vault somewhere.\n\n409\n00:22:07.100 --> 00:22:09.310\nYou wanna store that somewhere secure.\n\n410\n00:22:09.310 --> 00:22:11.880\nNot a great idea to store it\nright here on the same system,\n\n411\n00:22:11.880 --> 00:22:14.750\nespecially storing it on\nan unencrypted drive.\n\n412\n00:22:14.750 --> 00:22:17.440\nBut you don't want to store\nit on the encrypted drive,\n\n413\n00:22:17.440 --> 00:22:19.570\ncause if you're ever locked out you\nwon't be able to get to it, right?\n\n414\n00:22:19.570 --> 00:22:23.140\nSo, the idea is that you should\nprint that out onto paper, and\n\n415\n00:22:23.140 --> 00:22:24.020\nthen stick it in the vault.\n\n416\n00:22:24.020 --> 00:22:26.220\nStick it somewhere secure so\nthat you've got it if you need it.\n\n417\n00:22:27.630 --> 00:22:29.280\nAll right, so, I'll run that.\n\n418\n00:22:29.280 --> 00:22:30.280\nThere it goes.\n\n419\n00:22:30.280 --> 00:22:33.950\nIt created my recovery key and\nnow, it's warning me.\n\n420\n00:22:33.950 --> 00:22:34.520\nIt's saying, hey,\n\n421\n00:22:34.520 --> 00:22:39.180\nsave this numerical recovery\npassword just in case you need it.\n\n422\n00:22:39.180 --> 00:22:43.440\nAnd and, while I know that it did save it\nto the E drive, I always like to copy it.\n\n423\n00:22:43.440 --> 00:22:45.450\nI, I get a little paranoid sometimes.\n\n424\n00:22:45.450 --> 00:22:47.074\nSo, so I'm gonna go ahead and copy that.\n\n425\n00:22:50.951 --> 00:22:52.930\n>> And I, I know that E drive looks empty.\n\n426\n00:22:52.930 --> 00:22:54.460\nThere is actually stuff on there.\n\n427\n00:22:54.460 --> 00:22:56.520\nI'll, I'll show it to\nyou after the reboot.\n\n428\n00:22:56.520 --> 00:22:57.250\nIt's just hidden.\n\n429\n00:22:57.250 --> 00:22:58.390\nIt hides its files by default.\n\n430\n00:22:58.390 --> 00:23:03.960\nSo I'm just gonna create a text\nfile here called recovery code.\n\n431\n00:23:03.960 --> 00:23:05.310\nAnd I'll store it there.\n\n432\n00:23:05.310 --> 00:23:07.290\nAgain, we don't want to\nleave that laying around.\n\n433\n00:23:07.290 --> 00:23:09.790\nIf somebody gets that code\nthey can decrypt our system.\n\n434\n00:23:11.590 --> 00:23:12.330\nAll right.\n\n435\n00:23:12.330 --> 00:23:15.550\nAnd now it's telling me it's there, but\n\n436\n00:23:15.550 --> 00:23:18.500\nit doesn't actually take\neffect until I reboot.\n\n437\n00:23:18.500 --> 00:23:21.770\nI need to restart, and\nit's gonna run a hardware test.\n\n438\n00:23:21.770 --> 00:23:25.010\nIt encrypts a small amount of the drive,\na, a place where there's no data,\n\n439\n00:23:25.010 --> 00:23:29.170\nand then it's gonna reboot and\ntest it out to see if that,\n\n440\n00:23:29.170 --> 00:23:30.590\nthat little bit of data is working.\n\n441\n00:23:30.590 --> 00:23:31.170\nAll right.\n\n442\n00:23:31.170 --> 00:23:35.320\nIf it works then it'll turn around and\nencrypt the rest of the disk.\n\n443\n00:23:35.320 --> 00:23:35.900\nAll right.\n\n444\n00:23:35.900 --> 00:23:39.497\nSo let's do a little restart and\nwe'll see what happens.\n\n445\n00:23:43.620 --> 00:23:46.320\nNow, we won't notice\nanything during the restart.\n\n446\n00:23:46.320 --> 00:23:49.260\nThe amount of data is very small,\nthey test it very fast.\n\n447\n00:23:49.260 --> 00:23:51.508\nWe don't see the test happen\non the screen, all right.\n\n448\n00:23:51.508 --> 00:23:55.967\nWhen it's done and it boots up,\nall we'll see is one of two things.\n\n449\n00:23:55.967 --> 00:23:58.740\nEither one, we'll get an error on\nthe screen letting us know the hardware\n\n450\n00:23:58.740 --> 00:23:59.285\ntest failed.\n\n451\n00:23:59.285 --> 00:24:03.129\nOr two, we'll get a little balloon\nnotification that will pop up down\n\n452\n00:24:03.129 --> 00:24:06.385\nat the task bar that it'll say,\nthe drive is encrypting and\n\n453\n00:24:06.385 --> 00:24:09.074\nit will give us a little\nstatus that we can track.\n\n454\n00:24:12.511 --> 00:24:16.485\n[LAUGH] One of these days I will\nremember the password the first time.\n\n455\n00:24:16.485 --> 00:24:19.200\nBut but then we'll,\nwe'll get to see the status and\n\n456\n00:24:19.200 --> 00:24:20.550\nkinda see where things are going.\n\n457\n00:24:20.550 --> 00:24:24.050\nSo here I am in the system and\nI haven't seen a balloon yet, but\n\n458\n00:24:24.050 --> 00:24:27.240\nif I'm patient eventually\na little balloon will appear\n\n459\n00:24:27.240 --> 00:24:30.070\nletting me know that data is encrypting,\nso we just have to give it a minute.\n\n460\n00:24:30.070 --> 00:24:32.520\nIf you're impatient, like I am,\n\n461\n00:24:32.520 --> 00:24:36.620\nwe can actually use the manage B\nto E command to pull the status or\n\n462\n00:24:36.620 --> 00:24:41.210\neven the, the bit locker management\nGUI will show us the status.\n\n463\n00:24:41.210 --> 00:24:43.740\nBut I'm gonna, I'm gonna try and\nexercise patience.\n\n464\n00:24:43.740 --> 00:24:45.520\nYou know, New Year's resolution.\n\n465\n00:24:45.520 --> 00:24:48.508\nI will try and, and wait a moment here,\nand let it do its thing.\n\n466\n00:24:48.508 --> 00:24:50.373\nIf it doesn't, though,\nI'll jump into the other UI.\n\n467\n00:24:53.335 --> 00:24:54.470\nThere we go.\n\n468\n00:24:54.470 --> 00:24:55.650\nSee?\nPatience pays.\n\n469\n00:24:55.650 --> 00:24:58.679\nSo, there's the little balloon that lets\nme know that encryption is in progress.\n\n470\n00:25:01.120 --> 00:25:02.240\nThere we go.\nAnd if I click on it,\n\n471\n00:25:02.240 --> 00:25:04.790\nI can see that I'm now 1% completed.\n\n472\n00:25:04.790 --> 00:25:08.070\nSo I passed my hardware check,\nand now it's encrypting my drive.\n\n473\n00:25:08.070 --> 00:25:09.140\nAll right.\n\n474\n00:25:09.140 --> 00:25:12.926\nIf you've got a big drive,\nthis could take hours.\n\n475\n00:25:12.926 --> 00:25:16.380\nIf this is a small drive like mine, it'll\nprobably only take a matter of minutes.\n\n476\n00:25:16.380 --> 00:25:19.860\nI think I've got like ten gigs of data on\nhere, so it'll probably take, you know,\n\n477\n00:25:19.860 --> 00:25:20.410\n5 or 10 minutes.\n\n478\n00:25:21.424 --> 00:25:24.650\nI've had laptops that\ntook 8 hours to encrypt.\n\n479\n00:25:24.650 --> 00:25:26.690\nI've had servers that took 3 hours.\n\n480\n00:25:26.690 --> 00:25:28.930\nYou know, it just varies by the device.\n\n481\n00:25:28.930 --> 00:25:32.612\nOn the positive side, you can still use\nthe computer while it's encrypting.\n\n482\n00:25:32.612 --> 00:25:36.140\nSo this, this server can be live and\nactively serving up files, or\n\n483\n00:25:36.140 --> 00:25:37.390\nwhatever it's doing.\n\n484\n00:25:37.390 --> 00:25:41.650\nBut it's not protected until\nit's 100% complete, all right?\n\n485\n00:25:41.650 --> 00:25:46.750\nSo, you, you know, until it's 100%,\nyou are still vulnerable, all right?\n\n486\n00:25:46.750 --> 00:25:51.840\nThe other thing is, it starts encrypting\nthe areas that have files first and\n\n487\n00:25:51.840 --> 00:25:53.230\nit does the free space last.\n\n488\n00:25:53.230 --> 00:25:56.320\nAnd so what you'll normally see is where\nlike the first half of the screen will\n\n489\n00:25:56.320 --> 00:25:59.980\ntake a long time to get through and\nthen it'll just suddenly jump to 100%.\n\n490\n00:25:59.980 --> 00:26:03.800\nIt's one of those status bars that\nyou can't really gauge time on.\n\n491\n00:26:03.800 --> 00:26:05.440\nSo, you don't get a time estimate.\n\n492\n00:26:05.440 --> 00:26:07.620\nYou just have to let it run,\nand, and wait for it to finish.\n\n493\n00:26:09.470 --> 00:26:14.560\nAll right, so, when that's done,\nour system will be BitLocker encrypted.\n\n494\n00:26:14.560 --> 00:26:16.680\nAnd, because I stored the key for\n\n495\n00:26:16.680 --> 00:26:20.490\nit on that partition, every time it\nboots up, the key is right there.\n\n496\n00:26:20.490 --> 00:26:21.560\nIf it were to ever boot up and\n\n497\n00:26:21.560 --> 00:26:25.190\nthat key be missing, then that's when\nI would have to provide the code.\n\n498\n00:26:25.190 --> 00:26:26.860\nI would have to provide that number that,\n\n499\n00:26:26.860 --> 00:26:29.330\nthat we backed up in order to get up into,\ninto the machine.\n\n500\n00:26:29.330 --> 00:26:29.882\nAll right?\n\n501\n00:26:29.882 --> 00:26:32.560\nThe startup key I mentioned is,\nis on there.\n\n502\n00:26:32.560 --> 00:26:37.350\nIf I browse to the E drive,\nthe E drive is gonna look empty, well,\n\n503\n00:26:37.350 --> 00:26:39.590\nexcept for that text file I made.\n\n504\n00:26:39.590 --> 00:26:44.889\nBut if I go to a command\nprompt [SOUND] And\n\n505\n00:26:44.889 --> 00:26:49.526\nI do a dir /a, which says show all\n\n506\n00:26:49.526 --> 00:26:54.011\nfiles including hidden files.\n\n507\n00:26:54.011 --> 00:26:57.960\nI'll see a couple of other files have\nbeen created in here, all right?\n\n508\n00:26:57.960 --> 00:26:59.360\nWhat are those files?\n\n509\n00:26:59.360 --> 00:27:03.450\nWell, one of them is the startup key and\none of them is the recovery key.\n\n510\n00:27:03.450 --> 00:27:05.610\nRemember, I told it to\nput a recovery key here.\n\n511\n00:27:05.610 --> 00:27:10.010\nEither of those keys will allow me to\ndecrypt the system to be able to log in.\n\n512\n00:27:10.010 --> 00:27:12.660\nIt just hides them by default so\nwe don't accidentally delete them.\n\n513\n00:27:12.660 --> 00:27:13.770\nIf you delete the startup key and\n\n514\n00:27:13.770 --> 00:27:17.520\nyou boot up, you're, you're gonna have to\nhave a recovery key to get in, all right?\n\n515\n00:27:17.520 --> 00:27:19.400\nAnd they're very small, 156 bytes.\n\n516\n00:27:19.400 --> 00:27:20.690\nThey're not even 1 kilobyte, right?\n\n517\n00:27:20.690 --> 00:27:23.390\nSo we don't need a lot of space for this.\n\n518\n00:27:23.390 --> 00:27:25.480\nAnd if we look at one of them.\n\n519\n00:27:26.950 --> 00:27:29.140\nWe open up in Notepad for example.\n\n520\n00:27:29.140 --> 00:27:33.410\nWell they are stored in a binary format,\nso it's not just text you can read.\n\n521\n00:27:33.410 --> 00:27:37.130\nBut you can see right here, this is\nan external key for decryption, and\n\n522\n00:27:37.130 --> 00:27:41.820\nsomewhere in here will be the private key\nthat can be used to, to decrypt our data.\n\n523\n00:27:41.820 --> 00:27:43.650\nIt's just not in a human-readable format.\n\n524\n00:27:45.240 --> 00:27:45.780\nAll right.\n\n525\n00:27:45.780 --> 00:27:49.450\nBut if you back up those keys and\nyou store them somewhere non-secure,\n\n526\n00:27:49.450 --> 00:27:52.420\nsomebody could get those keys and\nnow they can decrypt your system.\n\n527\n00:27:52.420 --> 00:27:56.400\nAnd you might as well have not\nbothered with the lock, all right?\n\n528\n00:27:56.400 --> 00:27:58.550\nNow you might ask yourself, wait a minute.\n\n529\n00:27:58.550 --> 00:27:59.990\nMaybe I want to encrypt all of my servers.\n\n530\n00:27:59.990 --> 00:28:00.780\nWhy, why don't I just do that?\n\n531\n00:28:00.780 --> 00:28:02.430\nWhy don't I just encrypt them all, right?\n\n532\n00:28:02.430 --> 00:28:04.633\nWell one of the problems\nwith BitLocker encryption,\n\n533\n00:28:04.633 --> 00:28:07.700\nand really any drive encryption,\nis it's done in software.\n\n534\n00:28:07.700 --> 00:28:12.110\nSo it's your actual CPU that, that's\ndoing the encryption and decryption.\n\n535\n00:28:12.110 --> 00:28:16.020\nEvery time you touch a file to read it,\nevery time you save a file to write it,\n\n536\n00:28:16.020 --> 00:28:19.060\nyou know that's gonna be generating\nencrypt and decrypt commands.\n\n537\n00:28:19.060 --> 00:28:21.420\nAnd it does create a performance\nimpact on the server.\n\n538\n00:28:21.420 --> 00:28:25.270\nIf it's a heavy disk IO server,\nlike a, a sequel database server.\n\n539\n00:28:25.270 --> 00:28:27.390\nIt creates some,\nsome big performance drops.\n\n540\n00:28:27.390 --> 00:28:28.020\nAll right.\n\n541\n00:28:28.020 --> 00:28:31.660\nSo servers like that we\ntend not to encrypt.\n\n542\n00:28:31.660 --> 00:28:32.990\nNot that the data isn't sensitive.\n\n543\n00:28:32.990 --> 00:28:35.820\nIt's sensitive data, but\nwe need performance.\n\n544\n00:28:35.820 --> 00:28:38.990\nWe need to eek every nano second\nwe can out of our disc drive.\n\n545\n00:28:38.990 --> 00:28:43.680\nSo in scenarios like that there's no\nsubstitute for good physical security.\n\n546\n00:28:43.680 --> 00:28:46.520\nYou're making sure that people\ncan't physically get to the system.\n\n547\n00:28:46.520 --> 00:28:50.440\nBut if you've got servers deployed\nin environments that are not secure,\n\n548\n00:28:50.440 --> 00:28:54.820\nthen the, the tradeoff is we get better\nsecurity with BitLocker in exchange for\n\n549\n00:28:54.820 --> 00:28:55.780\nsome performance, right?\n\n550\n00:28:55.780 --> 00:28:58.250\nThat's that tradeoff we get for\nextra security.\n\n551\n00:28:59.560 --> 00:29:03.110\nAll right, let's see, see how\nare encryption status is back here.\n\n552\n00:29:03.110 --> 00:29:04.200\nOp, it's done.\n\n553\n00:29:04.200 --> 00:29:04.840\nAll right.\n\n554\n00:29:04.840 --> 00:29:09.100\nSo at this point my server is now\nencrypted, or at least the C drive is.\n\n555\n00:29:09.100 --> 00:29:11.760\nEvery time it books up it's gonna look for\nthat startup key.\n\n556\n00:29:11.760 --> 00:29:14.460\nIf it finds the startup\nkey it'll boot right up.\n\n557\n00:29:14.460 --> 00:29:16.640\nWe're into the system, drive is encrypted.\n\n558\n00:29:16.640 --> 00:29:20.340\nIf it can't find the startup key, if it's\nmissing like we've removed the USB key, or\n\n559\n00:29:20.340 --> 00:29:23.140\nif the TPM is missing cuz\nsomebody stole the drives.\n\n560\n00:29:23.140 --> 00:29:28.060\nIt'll boot up, it won't find the key, and\nthat's it, it won't be able to log in,\n\n561\n00:29:28.060 --> 00:29:30.582\nit won't be able to decrypt data, right,\nso it gives us that level of security.\n\n562\n00:29:30.582 --> 00:29:32.090\nAll right.\n\n563\n00:29:32.090 --> 00:29:36.050\nSo that's an example right there of\nimplementing BitLocker on a single server,\n\n564\n00:29:36.050 --> 00:29:38.530\nyou know,\njust handling one in the environment.\n\n565\n00:29:38.530 --> 00:29:41.600\nWhat if we have thousands of servers,\nright?\n\n566\n00:29:41.600 --> 00:29:46.020\nWell, enabling BitLocker and tracking\nall these keys and dealing with all that\n\n567\n00:29:46.020 --> 00:29:49.690\nstuff, some with TPM, some without,\nthat can get to be a real headache.\n\n568\n00:29:49.690 --> 00:29:52.780\nAnd so in Windows server 2012\nR2 Microsoft introduced a new feature,\n\n569\n00:29:52.780 --> 00:29:56.230\nsomething really cool called\nBitLocker Network Unlock.\n\n570\n00:29:56.230 --> 00:29:59.280\nAnd so that's what we're gonna take a look\nat next, but looking at the time we're,\n\n571\n00:29:59.280 --> 00:30:01.910\nwe're pretty close to our break\npoint here so, why don't we do this.\n\n572\n00:30:01.910 --> 00:30:05.200\nWhy don't we stop and take a break,\nand when we get back,\n\n573\n00:30:05.200 --> 00:30:09.180\nwe'll take a look at managing all this and\ndoing BitLocker network unlocks.\n\n574\n00:30:09.180 --> 00:30:12.120\nSo we'll get a chance to see that new\ntechnology, and kinda move on from there.\n\n575\n00:30:12.120 --> 00:30:13.897\nSo stay tuned, we'll be back after this.\n\n576\n00:30:13.897 --> 00:30:22.674\n[MUSIC]\n\n577\n00:30:22.674 --> 00:30:24.055\nAll right welcome back everybody.\n\n578\n00:30:24.055 --> 00:30:27.499\nSo what I wanna do now is I wanna take\na look at one of the new features\n\n579\n00:30:27.499 --> 00:30:30.895\nwith BitLocker which is called\nBitLocker Network Unlock.\n\n580\n00:30:30.895 --> 00:30:32.510\nAnd its really cool, all right.\n\n581\n00:30:32.510 --> 00:30:36.820\nHere, here's the scenario,\nlet's say that that you've got a server or\n\n582\n00:30:36.820 --> 00:30:40.590\na laptop or whatever, but more so\nservers cuz this is a server exam.\n\n583\n00:30:40.590 --> 00:30:44.560\nAnd you've encrypted it with Bitlocker,\nand every time that machine boots up,\n\n584\n00:30:44.560 --> 00:30:48.640\nyou've gotta have that USB key with\nthe startup key in it, to allow you to,\n\n585\n00:30:48.640 --> 00:30:50.910\nto boot up and decrypt the drive, right?\n\n586\n00:30:50.910 --> 00:30:56.530\nWell, it's kind of a hassle, because 365\ndays a year, anytime Windows update kicks\n\n587\n00:30:56.530 --> 00:31:01.100\nin, whatever, you've gotta have that USB\nkey in there, to boot up, to be able to,\n\n588\n00:31:01.100 --> 00:31:05.170\nto allow that system to fire up and,\nand not prompt us for a pin number, or\n\n589\n00:31:05.170 --> 00:31:09.390\nto prompt us for you know,\ninserting USB key or whatever, all right.\n\n590\n00:31:09.390 --> 00:31:12.750\nAnd the reality is,\nif somebody steals the server\n\n591\n00:31:12.750 --> 00:31:15.950\nthat's when you need that encryption\nto really kick in and be, be requiring.\n\n592\n00:31:15.950 --> 00:31:18.680\nBut all those other days,\nwhich might be hundreds or\n\n593\n00:31:18.680 --> 00:31:21.890\nthousands of days,\nit's really just annoying you, right?\n\n594\n00:31:21.890 --> 00:31:24.830\nSo wouldn't it be nice,\nif there was a way to say,\n\n595\n00:31:24.830 --> 00:31:28.370\nhey while the sever is in my building,\nthen don't,\n\n596\n00:31:28.370 --> 00:31:31.510\ndon't worry about the encryption key,\njust go ahead and unlock and come up.\n\n597\n00:31:31.510 --> 00:31:33.620\nBut if somebody takes\nit out of the building,\n\n598\n00:31:33.620 --> 00:31:37.040\nonto a different network\nthen require the key, right?\n\n599\n00:31:37.040 --> 00:31:41.190\nSo, if somebody actually steals\nthe device, then yes it needs the key.\n\n600\n00:31:41.190 --> 00:31:43.630\nBut if that device is\nstill on your network,\n\n601\n00:31:43.630 --> 00:31:46.760\nif it's still in your environment,\nthen you don't need the key.\n\n602\n00:31:46.760 --> 00:31:49.513\nThat's what BitLocker unlock,\nNetwork Unlock allows us to do.\n\n603\n00:31:49.513 --> 00:31:53.445\nIt allows the machine to boot up,\nlook at the network and\n\n604\n00:31:53.445 --> 00:31:57.557\ndetermine whether or\nnot it's on your business network.\n\n605\n00:31:57.557 --> 00:32:00.275\nYour approved active\ndirectory domain network.\n\n606\n00:32:00.275 --> 00:32:00.855\nAll right.\n\n607\n00:32:00.855 --> 00:32:04.234\nAnd if it is, the machine will\nunlock itself and boot right up.\n\n608\n00:32:04.234 --> 00:32:08.810\nThe end user won't even know\nBitLocker is in place, all right?\n\n609\n00:32:08.810 --> 00:32:12.700\nBut then if somebody takes that server and\ntakes it home and\n\n610\n00:32:12.700 --> 00:32:17.070\ntries to boot up, or if they unplug\nthe network adapter and try and boot up.\n\n611\n00:32:17.070 --> 00:32:20.350\nWhen it comes up, the machine will say,\nhey, I'm not on the network.\n\n612\n00:32:20.350 --> 00:32:21.130\nI need a startup key.\n\n613\n00:32:21.130 --> 00:32:21.920\nGive me your startup key.\n\n614\n00:32:21.920 --> 00:32:25.200\nYou know, provide me a USB key or\nwhatever, right?\n\n615\n00:32:25.200 --> 00:32:27.930\nSo it's providing\nsecurity when we need it,\n\n616\n00:32:27.930 --> 00:32:30.590\nwhen somebody's actually\ntaking the device, all right?\n\n617\n00:32:30.590 --> 00:32:34.385\nSo that's really cool, and\nit's really not that bad to get it set up.\n\n618\n00:32:34.385 --> 00:32:38.028\nWhat we do is we have to\nleverage another service called\n\n619\n00:32:38.028 --> 00:32:40.413\nWindows Deployment Server, WDS.\n\n620\n00:32:40.413 --> 00:32:43.873\nWDS is built into Windows, and\nwe cover it in another episode.\n\n621\n00:32:43.873 --> 00:32:47.885\nWe normally use it for, for, like,\ndeploying software images out to machines.\n\n622\n00:32:47.885 --> 00:32:51.755\nSo you could actually install\nWindows via the network, using WDS.\n\n623\n00:32:51.755 --> 00:32:55.865\nBut another thing you can do is\nyou can use WDS to queue off\n\n624\n00:32:55.865 --> 00:32:58.240\nthe BitLocker Network Unlock.\n\n625\n00:32:58.240 --> 00:33:01.660\nSo the machine boots up and it says, hey,\nis somebody out there who can help me?\n\n626\n00:33:01.660 --> 00:33:04.340\nAnd the WDS Server will respond back and\nsay, yeah, I can help you.\n\n627\n00:33:04.340 --> 00:33:05.242\nWhat do you need?\n\n628\n00:33:05.242 --> 00:33:08.724\nAnd the client'll say, well, I need to\nknow if I'm on the business network, and\n\n629\n00:33:08.724 --> 00:33:11.010\nif I am, I need to know if I can unlock.\n\n630\n00:33:11.010 --> 00:33:13.480\nAnd the WDS Server will say, yep,\nyou're on the business network,\n\n631\n00:33:13.480 --> 00:33:16.650\ncuz, cuz I'm here, and yes,\nyou're authorized to unlock.\n\n632\n00:33:16.650 --> 00:33:18.230\nGo ahead and unlock and, and fire up.\n\n633\n00:33:18.230 --> 00:33:19.970\nDon't bother the end user, all right?\n\n634\n00:33:19.970 --> 00:33:22.970\nSo that communication happens\nautomatically via the network,\n\n635\n00:33:22.970 --> 00:33:24.052\nwhich is really, really cool.\n\n636\n00:33:24.052 --> 00:33:25.020\nAll right,\n\n637\n00:33:25.020 --> 00:33:29.000\nnow if you don't already have WDS deployed\nin your network, don't worry about it.\n\n638\n00:33:29.000 --> 00:33:29.930\nIt's very simple.\n\n639\n00:33:29.930 --> 00:33:31.740\nWe don't actually need the whole WDS.\n\n640\n00:33:31.740 --> 00:33:33.744\nWe don't need to do image deployments and\nall that stuff.\n\n641\n00:33:33.744 --> 00:33:36.520\nWe just need a WDS server that's up and\nrunning, and, and so\n\n642\n00:33:36.520 --> 00:33:39.130\nit's actually pretty straightforward.\n\n643\n00:33:39.130 --> 00:33:42.620\nBut the way that it does\nthe authentication between the client and\n\n644\n00:33:42.620 --> 00:33:44.840\nthe WDS is via certificates.\n\n645\n00:33:44.840 --> 00:33:47.880\nSo it's gonna use a RSA signature or\n\n646\n00:33:47.880 --> 00:33:52.965\nSSL certificate to be able to validate\nwhether or not the client and the server\n\n647\n00:33:52.965 --> 00:33:56.915\nare truly on the business network,\nand not on some sham network, right?\n\n648\n00:33:56.915 --> 00:33:59.375\nCuz you know I can,\nI can bring my own WDS server up at home.\n\n649\n00:33:59.375 --> 00:34:01.005\nThat's not, not good enough.\n\n650\n00:34:01.005 --> 00:34:02.765\nIt's gotta actually have the certificate,\n\n651\n00:34:02.765 --> 00:34:06.987\nthe private key needed to allow\nthat unlock to occur, all right?\n\n652\n00:34:06.987 --> 00:34:08.657\nSo the steps are pretty simple.\n\n653\n00:34:08.657 --> 00:34:10.587\nWe bring up a WDS server.\n\n654\n00:34:10.587 --> 00:34:12.497\nWe generate a certificate for\n\n655\n00:34:12.497 --> 00:34:15.697\nBitLocker Network Unlock,\nwhich is a special certificate.\n\n656\n00:34:15.697 --> 00:34:17.365\nWe attach it to WDS.\n\n657\n00:34:17.365 --> 00:34:20.995\nAnd then we push that certificate out to\nall the machines that we're going to be\n\n658\n00:34:20.995 --> 00:34:21.985\nusing BitLocker on.\n\n659\n00:34:21.985 --> 00:34:26.779\nAnd once that happens, we can enable\nthe BitLocker Network Unlock feature, and\n\n660\n00:34:26.779 --> 00:34:27.419\noff we go.\n\n661\n00:34:27.419 --> 00:34:28.626\nIt's a pretty cool process.\n\n662\n00:34:28.626 --> 00:34:32.960\nAll right, now in your environment,\nyou may already have WDS.\n\n663\n00:34:32.960 --> 00:34:36.070\nAnd you may already have\na certificate authority, a,\n\n664\n00:34:36.070 --> 00:34:37.850\na whole public key infrastructure.\n\n665\n00:34:37.850 --> 00:34:39.760\nYou may already have that\ninfrastructure in place.\n\n666\n00:34:39.760 --> 00:34:42.990\nIf you're a medium or large size business,\nyou probably are, all right?\n\n667\n00:34:42.990 --> 00:34:44.040\nSo in those scenarios,\n\n668\n00:34:44.040 --> 00:34:46.550\nyou'll take advantage of\nservers that you already have.\n\n669\n00:34:46.550 --> 00:34:49.511\nBut what if you're a small business or\na medium business?\n\n670\n00:34:49.511 --> 00:34:51.984\nYou may not have a certificate authority.\n\n671\n00:34:51.984 --> 00:34:54.050\nYou might not have a WDS server.\n\n672\n00:34:54.050 --> 00:34:56.740\nSo I want to show you\nguys the quickest and\n\n673\n00:34:56.740 --> 00:35:00.730\neasiest way to deploy\nBitLocker Network Unlock,\n\n674\n00:35:00.730 --> 00:35:04.820\nassuming that we don't have any of that\ninfrastructure available, all right.\n\n675\n00:35:04.820 --> 00:35:07.390\nJust keep in mind, if you work for\na large organization,\n\n676\n00:35:07.390 --> 00:35:10.640\nif you have that, you can substitute in\nthe infrastructure you've already got.\n\n677\n00:35:10.640 --> 00:35:13.970\nI'm gonna use a couple of workarounds to\nmake it a, a little more suitable for\n\n678\n00:35:13.970 --> 00:35:15.700\nsmaller environments, all right.\n\n679\n00:35:15.700 --> 00:35:16.900\nSo let's get started here.\n\n680\n00:35:16.900 --> 00:35:19.130\nI'm going to get started\non my domain controller.\n\n681\n00:35:19.130 --> 00:35:24.925\nNow I'm going to use my domain controller\nas the BitLocker Network Unlock system,\n\n682\n00:35:24.925 --> 00:35:25.850\nokay?\n\n683\n00:35:25.850 --> 00:35:27.990\nYou can use any server in your network.\n\n684\n00:35:27.990 --> 00:35:29.180\nIt does have to be a server.\n\n685\n00:35:29.180 --> 00:35:31.120\nIt can't be a, you know,\nWindows 8 machine.\n\n686\n00:35:31.120 --> 00:35:32.790\nBut you can use any server you want.\n\n687\n00:35:32.790 --> 00:35:36.060\nDoesn't have to be a domain controller,\nbut it just makes it a little easier here,\n\n688\n00:35:36.060 --> 00:35:37.790\nmostly cuz I've only got two servers.\n\n689\n00:35:37.790 --> 00:35:39.958\nSo [LAUGH] so it's,\nI'll just use this one.\n\n690\n00:35:39.958 --> 00:35:43.402\nAnd the, the first thing\nthat I need to do is I need\n\n691\n00:35:43.402 --> 00:35:47.240\nto install\nthe BitLocker Network Unlock feature.\n\n692\n00:35:47.240 --> 00:35:48.630\nIt's not installed by default.\n\n693\n00:35:48.630 --> 00:35:49.970\nI need to install it.\n\n694\n00:35:49.970 --> 00:35:54.283\nSo I'm gonna go back to my Server Manager,\nand I'm gonna go to Add roles and\n\n695\n00:35:54.283 --> 00:35:57.170\nfeatures, and\nwe're gonna add that feature in.\n\n696\n00:35:59.863 --> 00:36:04.787\nNow the, the Network Unlock feature\nis independent from BitLocker itself.\n\n697\n00:36:04.787 --> 00:36:07.190\nSo my domain controller is not encrypted.\n\n698\n00:36:07.190 --> 00:36:08.820\nI'm not running BitLocker on it, and,\n\n699\n00:36:08.820 --> 00:36:11.380\nin fact, BitLocker is not\neven installed on this one.\n\n700\n00:36:11.380 --> 00:36:15.580\nSo when I go into features,\nI can come in here and\n\n701\n00:36:15.580 --> 00:36:19.610\nI can see BitLocker drive encryption\nright there, not checked off.\n\n702\n00:36:19.610 --> 00:36:21.440\nAnd I, I'm not going to check it.\n\n703\n00:36:21.440 --> 00:36:26.150\nI want the next one, BitLock Network\nUnlock, BitLocker Network Unlock.\n\n704\n00:36:27.270 --> 00:36:29.930\nWhen I check it, notice what it does.\n\n705\n00:36:29.930 --> 00:36:33.710\nIt's gonna add WDS,\nWindows Deployment Server.\n\n706\n00:36:33.710 --> 00:36:38.110\nIt knows that in order to work,\nI've got to have WDS.\n\n707\n00:36:38.110 --> 00:36:41.496\nRight?\nNow if I already have a WDS server, I can,\n\n708\n00:36:41.496 --> 00:36:43.013\nI can use it instead.\n\n709\n00:36:43.013 --> 00:36:45.965\nAnd so what I would do is I\nwould go to that WDS server and\n\n710\n00:36:45.965 --> 00:36:49.130\nI would add the BitLocker Network Unlock\non that system.\n\n711\n00:36:49.130 --> 00:36:50.791\nSo it would already have WDS.\n\n712\n00:36:50.791 --> 00:36:53.659\nIt would just lay right on top of it and,\nand then you're, you're in business.\n\n713\n00:36:53.659 --> 00:36:56.998\nAnd it coexists with all of your\nexisting image deployment stuff that you\n\n714\n00:36:56.998 --> 00:36:58.530\nmight be using.\n\n715\n00:36:58.530 --> 00:37:00.790\nBut in this case,\nI don't have a WDS server, so\n\n716\n00:37:00.790 --> 00:37:02.780\nI'm gonna let this deploy it for me.\n\n717\n00:37:02.780 --> 00:37:05.723\nIt's gonna create it, and it's gonna\ntake care of the dirty work, so, so\n\n718\n00:37:05.723 --> 00:37:07.194\nwe won't have to mess with all that.\n\n719\n00:37:07.194 --> 00:37:11.940\nAll right, so I'll go head and hit\nAdd Features, and we'll let that finish.\n\n720\n00:37:11.940 --> 00:37:16.390\nAll right, now, it's asking me\nwhat I want to enable for WDS, and\n\n721\n00:37:16.390 --> 00:37:20.360\nit's got Deployment Server and\nTransport Server.\n\n722\n00:37:20.360 --> 00:37:21.460\nThat's fine, that's good enough for me.\n\n723\n00:37:21.460 --> 00:37:25.670\nI actually don't need the transport server\nrole, but it doesn't hurt to have it.\n\n724\n00:37:27.180 --> 00:37:28.920\nOr not role, feature.\n\n725\n00:37:28.920 --> 00:37:29.550\nAll right?\n\n726\n00:37:29.550 --> 00:37:31.950\nAnd so then I just get my summary, and\nwe'll go ahead and let that install.\n\n727\n00:37:33.750 --> 00:37:39.200\nAll right, while it's installing,\nthe next thing I need is a certificate.\n\n728\n00:37:39.200 --> 00:37:42.590\nI need a certificate to verify that\nthis server is who it says it is,\n\n729\n00:37:42.590 --> 00:37:45.144\nand the clients are who they say they are,\nand that we are on the business network.\n\n730\n00:37:46.235 --> 00:37:50.485\nIf you've got a certificate authority,\nyou can go to your CA and\n\n731\n00:37:50.485 --> 00:37:52.735\nyou can create a BitLocker template.\n\n732\n00:37:52.735 --> 00:37:53.915\nNow the BitLocker template,\n\n733\n00:37:53.915 --> 00:37:58.915\nMicrosoft posts instructions,\nthe BitLocker Network Unlock template is\n\n734\n00:37:58.915 --> 00:38:04.185\nnot is not a part of the Windows\ncertificate services by default.\n\n735\n00:38:04.185 --> 00:38:10.100\nSo Microsoft has an article, and\nlet me find it in here, here we go,\n\n736\n00:38:10.100 --> 00:38:14.080\nwhere they cover creating the certificate\ntemplate for Network Unlock, all right.\n\n737\n00:38:14.080 --> 00:38:17.000\nIt goes a little bit beyond what\nis going to be on the exam but\n\n738\n00:38:17.000 --> 00:38:21.800\nif you've already got a CA, you can follow\nthese steps and create a new template so\n\n739\n00:38:21.800 --> 00:38:25.060\nthat you can issue this BitLocker\ncertificate from your CA.\n\n740\n00:38:25.060 --> 00:38:28.000\nAll right, and I,\nI'll post a link to this with the show so,\n\n741\n00:38:28.000 --> 00:38:31.290\nso when, when the show is posted on the\nwebsite I'll add a link to this article.\n\n742\n00:38:31.290 --> 00:38:35.680\nBut if you just do a, a Google search for\nBitLocker Network Unlock,\n\n743\n00:38:35.680 --> 00:38:38.570\nit's one of the first search\nresults from Microsoft.\n\n744\n00:38:38.570 --> 00:38:40.790\nBut but you can create a template there.\n\n745\n00:38:40.790 --> 00:38:44.260\nIf you don't have a certification\nauthority, or even if you do and\n\n746\n00:38:44.260 --> 00:38:48.420\nyou just don't wanna mess with it, we can\nalso use a self-signed certificate, and\n\n747\n00:38:48.420 --> 00:38:49.460\nthat's what I'm gonna do.\n\n748\n00:38:49.460 --> 00:38:51.860\nWe can generate our own certificate.\n\n749\n00:38:51.860 --> 00:38:53.270\nNormally, you don't wanna do that.\n\n750\n00:38:53.270 --> 00:38:55.950\nNormally you don't wanna generate\na self-signed certificate because nobody's\n\n751\n00:38:55.950 --> 00:38:56.750\ngonna trust it.\n\n752\n00:38:56.750 --> 00:39:00.055\nIf you just make one out of the blue,\nwho, who's gonna trust that?\n\n753\n00:39:00.055 --> 00:39:02.075\nBut with BitLocker Network Unlock,\n\n754\n00:39:02.075 --> 00:39:05.335\nwe actually have to push\nthe certificate out to our clients.\n\n755\n00:39:05.335 --> 00:39:08.055\nSo our clients are gonna\nhave a copy of this cert,\n\n756\n00:39:08.055 --> 00:39:11.205\nso even if you do a self-signed one,\nit works really well.\n\n757\n00:39:11.205 --> 00:39:14.650\nSo, you know, you don't have to\nuse the CA if you don't want to.\n\n758\n00:39:14.650 --> 00:39:15.570\nI recommend it.\n\n759\n00:39:15.570 --> 00:39:17.760\nI recommend using a CA whenever you can,\n\n760\n00:39:17.760 --> 00:39:22.380\ncuz it makes it easier to expire the\ncertificate and renew it and, and so on.\n\n761\n00:39:22.380 --> 00:39:25.980\nBut for small deployments, for short-term\nthings, we can just use a self-signed, and\n\n762\n00:39:25.980 --> 00:39:26.670\nthat's what I'm gonna do.\n\n763\n00:39:28.960 --> 00:39:32.580\nAll right, looks like\nNetwork Unlock finished installing.\n\n764\n00:39:32.580 --> 00:39:35.550\nBut before I go anywhere with that,\nI need to generate the certificate.\n\n765\n00:39:35.550 --> 00:39:40.770\nNow to generate the certificate,\nthe BitLocker Network Unlock Certificate,\n\n766\n00:39:40.770 --> 00:39:41.620\nit's special.\n\n767\n00:39:41.620 --> 00:39:43.450\nIt's different than a normal cert.\n\n768\n00:39:43.450 --> 00:39:47.079\nIt's designed specifically for\na BitLocker Unlock, and\n\n769\n00:39:47.079 --> 00:39:49.678\nit does it by using a special identifier.\n\n770\n00:39:49.678 --> 00:39:53.876\nAnd so, if we want to generate one of\nthese certificates, we've got to create\n\n771\n00:39:53.876 --> 00:39:57.516\na certificate template, and\nI whipped one up before the show.\n\n772\n00:39:57.516 --> 00:40:00.933\nThis is also in that article\nthat I'll post with the,\n\n773\n00:40:00.933 --> 00:40:03.400\nwith the episode when\nit goes on the website.\n\n774\n00:40:03.400 --> 00:40:08.420\nBut, but if I open this up, here we go.\n\n775\n00:40:08.420 --> 00:40:12.460\nThis is, is basically your\nstandard certificate request.\n\n776\n00:40:12.460 --> 00:40:14.210\nSo I'm requesting a certificate.\n\n777\n00:40:14.210 --> 00:40:18.129\nI'm giving it a friendly name of BitLocker\nNetwork Unlock Certificate just something\n\n778\n00:40:18.129 --> 00:40:19.710\nI, I made up.\n\n779\n00:40:19.710 --> 00:40:23.240\nI'm flagging it as exportable, so\nI'll be able to back up the key.\n\n780\n00:40:23.240 --> 00:40:26.500\nThe request type is a certificate,\nand the key module is, so\n\n781\n00:40:26.500 --> 00:40:30.000\nthe strength of the key\nis gonna be 2,048 bits.\n\n782\n00:40:30.000 --> 00:40:32.002\nSo it'll be a decent certificate.\n\n783\n00:40:32.002 --> 00:40:35.160\nAll right, but\nthe extensions are the important part.\n\n784\n00:40:35.160 --> 00:40:37.910\nIt's these two extensions down\nhere that are identifying that\n\n785\n00:40:37.910 --> 00:40:41.340\nthis is going to be used for\nBitLocker Network Unlock.\n\n786\n00:40:41.340 --> 00:40:43.950\nAnd these are two extensions\nthat are not a part\n\n787\n00:40:43.950 --> 00:40:46.700\nof normal certificates issued by a CA.\n\n788\n00:40:46.700 --> 00:40:50.094\nSo, if your going to use your CA you've\ngot to create a custom template for this.\n\n789\n00:40:50.094 --> 00:40:53.069\nI, I'm sure in future versions of\nWindows it'll have the template.\n\n790\n00:40:54.160 --> 00:40:57.980\nBut because this was added after\nWindows Server 2012 was released,\n\n791\n00:40:57.980 --> 00:41:00.500\nyou know it's kind of a part of R2,\nthen you know,\n\n792\n00:41:00.500 --> 00:41:02.360\nthey just didn't have time to\nput that template in there.\n\n793\n00:41:02.360 --> 00:41:04.340\nSo, for now,\nwe have to manually create it.\n\n794\n00:41:04.340 --> 00:41:08.410\nSo that's why I made this little INF file,\nis I'm creating my custom template, and\n\n795\n00:41:08.410 --> 00:41:10.620\nI'll call it when I generate\nmy own certificate.\n\n796\n00:41:12.110 --> 00:41:13.880\nAll right, so\nlet's see generating that certificate.\n\n797\n00:41:13.880 --> 00:41:15.087\nI'm just gonna close that.\n\n798\n00:41:18.291 --> 00:41:20.520\nAnd we will go in here and\ngenerate that certificate.\n\n799\n00:41:22.980 --> 00:41:25.537\nAll right, let me bump this size up again.\n\n800\n00:41:37.413 --> 00:41:38.100\nAll right.\n\n801\n00:41:38.100 --> 00:41:41.000\nThat template I stored and\njust a little inf file right here so\n\n802\n00:41:41.000 --> 00:41:43.480\nthat I call it really easy when I,\nwhen I need it.\n\n803\n00:41:43.480 --> 00:41:44.940\nAnd so that's what I'm gonna do now.\n\n804\n00:41:44.940 --> 00:41:50.450\nAnd I'm gonna use the certreq command,\nwhich is the certificate request command,\n\n805\n00:41:50.450 --> 00:41:53.630\nwhich lets you generate those\nself-signed certificates.\n\n806\n00:41:53.630 --> 00:41:54.370\nAll right.\n\n807\n00:41:54.370 --> 00:41:57.190\nSo I'm gonna request a new certificate,\nand\n\n808\n00:41:57.190 --> 00:42:02.500\nI'm gonna call that\nBitLockernetworkunlock.inf file.\n\n809\n00:42:04.040 --> 00:42:07.150\nAnd I need to give the file a name\nwhen it generates the certificate, so\n\n810\n00:42:07.150 --> 00:42:12.491\nI'm just gonna call it\nBitLocker NetworkUnlock.cer.\n\n811\n00:42:12.491 --> 00:42:14.190\nAll right.\n\n812\n00:42:14.190 --> 00:42:17.860\nSo I'm going to create a self-signed\ncertificate, one I just generate myself.\n\n813\n00:42:17.860 --> 00:42:19.660\nNobody else is going to trust this.\n\n814\n00:42:19.660 --> 00:42:21.610\nBased off that INF file, and\n\n815\n00:42:21.610 --> 00:42:25.650\nI'm gonna export that certificate\nas bitlocker-networkunlock.cer.\n\n816\n00:42:25.650 --> 00:42:28.510\nSo that's going to generate\nthat certificate, and\n\n817\n00:42:28.510 --> 00:42:32.500\napparently I have a typo in the INF name,\nlet's see.\n\n818\n00:42:34.040 --> 00:42:35.687\nBitlocker network.\n\n819\n00:42:38.454 --> 00:42:39.337\nUnlock.if.\n\n820\n00:42:39.337 --> 00:42:40.615\nIt looks like I spelled it right.\n\n821\n00:42:53.743 --> 00:42:58.420\nWell, we will take my\ntyping out of the equation.\n\n822\n00:42:58.420 --> 00:42:59.640\nDo a little copy and paste.\n\n823\n00:43:09.577 --> 00:43:10.077\n>> There we go.\n\n824\n00:43:11.575 --> 00:43:13.255\nTypos, that's our worst enemy, right?\n\n825\n00:43:13.255 --> 00:43:15.485\nIn the command line,\nthere is no spell checker and\n\n826\n00:43:15.485 --> 00:43:18.615\nso even to this moment I don't know\nwhat typo I made up there, but\n\n827\n00:43:18.615 --> 00:43:22.865\napparently I spelled it wrong, or, I,\nI've, I left out the hyphen, there we go.\n\n828\n00:43:22.865 --> 00:43:25.515\nSo I did BitLocker network\nunlock without a hyphen.\n\n829\n00:43:25.515 --> 00:43:29.319\nNow it's generating a 2,048 bit key,\nwhich takes a minute, right?\n\n830\n00:43:29.319 --> 00:43:32.008\nYou know, it's a software intensive thing,\nit's doing a,\n\n831\n00:43:32.008 --> 00:43:35.280\na complex mathematical algorithm and\nit is generating that certificate.\n\n832\n00:43:35.280 --> 00:43:37.010\nSo we'll give it just a moment.\n\n833\n00:43:37.010 --> 00:43:38.230\nThere we go.\n\n834\n00:43:38.230 --> 00:43:42.400\nAnd not only did it generate\nthe certificate, but it also installed it.\n\n835\n00:43:42.400 --> 00:43:44.430\nThat certificate is now\ninstalled on my machine.\n\n836\n00:43:45.790 --> 00:43:48.660\nIf I'm generating this for\nuse on another server,\n\n837\n00:43:48.660 --> 00:43:53.620\nanother WDS server, I would need to take\nthis certificate file that it just made,\n\n838\n00:43:53.620 --> 00:43:56.570\ntote that over to the other server,\nand install it there.\n\n839\n00:43:56.570 --> 00:43:57.160\nOkay.\n\n840\n00:43:57.160 --> 00:44:00.704\nSo you may need to, you know,\nmove this between servers or whatever, but\n\n841\n00:44:00.704 --> 00:44:02.663\nwe should be installed and in business.\n\n842\n00:44:02.663 --> 00:44:07.921\nAnd you can verify that, if you just open\nup the MMC, Microsoft Management Console.\n\n843\n00:44:10.441 --> 00:44:15.282\nAnd you can do the add, remove, snap in.\n\n844\n00:44:15.282 --> 00:44:17.055\nAnd we can add these\ncertificate snap in and\n\n845\n00:44:17.055 --> 00:44:20.420\nthat will let us see what certificates\nare installed on the machine.\n\n846\n00:44:20.420 --> 00:44:21.933\nI'm gonna add it for my user account.\n\n847\n00:44:25.532 --> 00:44:27.807\nAnd when I go in here and\nlook at my user account.\n\n848\n00:44:30.605 --> 00:44:32.890\nI should find, right there.\n\n849\n00:44:32.890 --> 00:44:35.630\nThere's the bit locker network\nunlock certificate, okay.\n\n850\n00:44:36.920 --> 00:44:39.955\nNow if your gonna be copying this\ncertificate between machines,\n\n851\n00:44:39.955 --> 00:44:42.050\nif you need to tote it\nover to another server,\n\n852\n00:44:42.050 --> 00:44:45.377\nthe CER file that we generated\na minute ago, that's the certificate.\n\n853\n00:44:45.377 --> 00:44:48.398\nBut it's not really suitable for\nimporting on\n\n854\n00:44:48.398 --> 00:44:53.890\nmachines because the CER file is\na digitally signed copy of our public key.\n\n855\n00:44:53.890 --> 00:44:56.180\nIt doesn't actually\ncontain the private key.\n\n856\n00:44:56.180 --> 00:44:57.970\nSo if you're gonna be moving\nthis to another server,\n\n857\n00:44:57.970 --> 00:44:59.626\nyou need that private key also.\n\n858\n00:44:59.626 --> 00:45:04.390\nSo we need to export this, and\nremember I flagged it as exportable when I\n\n859\n00:45:04.390 --> 00:45:08.760\ncreated it, so that we have a file that\ncontains both, the private and public key.\n\n860\n00:45:08.760 --> 00:45:11.499\nSo I'm going to go ahead and do that, even\nthough I don;t necessarily need to but\n\n861\n00:45:11.499 --> 00:45:13.172\nI want to make sure you guys\nare aware how to do it.\n\n862\n00:45:13.172 --> 00:45:16.940\nSo I'm just going to right-click on it and\ngo to all tasks, and export.\n\n863\n00:45:19.320 --> 00:45:21.865\nAnd I'll choose Yes to\nexport the private key.\n\n864\n00:45:24.211 --> 00:45:28.178\nIt's gonna export it in the PFX, or the,\npersonal information exchange format,\n\n865\n00:45:28.178 --> 00:45:29.850\nthat's, that's perfectly fine.\n\n866\n00:45:31.530 --> 00:45:32.760\nAnd I'll assign a password to it.\n\n867\n00:45:32.760 --> 00:45:37.097\nYou can also restrict it to particular\nusers or groups in the active directory,\n\n868\n00:45:37.097 --> 00:45:39.570\nbut a password is a little\nmore traditional.\n\n869\n00:45:44.795 --> 00:45:45.573\nAll right.\n\n870\n00:45:45.573 --> 00:45:47.373\nAnd then I'll go ahead and\nsave this to my desktop.\n\n871\n00:45:54.977 --> 00:45:56.330\nWhere I'll save it as a pfx file.\n\n872\n00:45:58.760 --> 00:46:03.120\nAll right, so that file contains\nmy private and public keys.\n\n873\n00:46:03.120 --> 00:46:05.696\nAnd I can take that pfx and\ncopy it to other servers.\n\n874\n00:46:05.696 --> 00:46:08.774\nAnd if I just double-click on it,\nit'll ask for the password, and\n\n875\n00:46:08.774 --> 00:46:10.397\nit'll import it into that server.\n\n876\n00:46:10.397 --> 00:46:16.860\nSo it's easy to, to make it moveable, it's\nportable now, and it's it's good to go.\n\n877\n00:46:16.860 --> 00:46:19.650\nAll right, but for\nme I don't need to do that because WDS is\n\n878\n00:46:19.650 --> 00:46:23.200\nright here on this system, this is the\nsystem that's gonna use the certificate,\n\n879\n00:46:23.200 --> 00:46:24.760\nand the certificate's already in place.\n\n880\n00:46:24.760 --> 00:46:26.760\nAll right, the only problem,\n\n881\n00:46:26.760 --> 00:46:31.250\nthat certificate is attached\nto my user account.\n\n882\n00:46:31.250 --> 00:46:35.880\nIf I add this snap in again,\nif I go and add certificates, and\n\n883\n00:46:35.880 --> 00:46:39.930\nthis time I choose the computer account,\nright?\n\n884\n00:46:39.930 --> 00:46:45.530\nWhen I manage it for this computer,\nand I go in here to personal,\n\n885\n00:46:45.530 --> 00:46:48.410\nand certificates,\nI'll see there are no certificates.\n\n886\n00:46:48.410 --> 00:46:52.966\nSo if I log out, this certificate's\nnot gonna be seen anymore, right.\n\n887\n00:46:52.966 --> 00:46:57.159\nAnd if WDS is running as me, then it'll\nwork, but that's a terrible practice,\n\n888\n00:46:57.159 --> 00:46:59.470\nyou don't want services running as a user.\n\n889\n00:46:59.470 --> 00:47:02.730\nSo we really need to attach that\ncertificate to the computer.\n\n890\n00:47:02.730 --> 00:47:08.790\nSo all I'm gonna do is go back here,\nand here's that PFX file we just made.\n\n891\n00:47:08.790 --> 00:47:10.580\nI'll just double-click on it.\n\n892\n00:47:10.580 --> 00:47:14.190\nAnd when I import it, I'm gonna choose,\nyou'll see where you've got that\n\n893\n00:47:14.190 --> 00:47:17.610\noption to choose between the current\nuser or the local machine.\n\n894\n00:47:17.610 --> 00:47:20.750\nSo I'm gonna import it to\nthe local machine this time so\n\n895\n00:47:20.750 --> 00:47:24.505\nthat, so the computer will\nhave it even if I log out and\n\n896\n00:47:24.505 --> 00:47:26.400\nif this software runs under\na different user account.\n\n897\n00:47:28.680 --> 00:47:29.390\nAll right.\n\n898\n00:47:29.390 --> 00:47:31.010\nSo there's the file that\nit's gonna be importing.\n\n899\n00:47:32.100 --> 00:47:34.710\nAnd it wants my password,\nwhich hopefully I remember.\n\n900\n00:47:35.852 --> 00:47:39.430\nAll right, and then if you want\nthe key to still be exportable,\n\n901\n00:47:39.430 --> 00:47:41.680\nto be able to be backed up from\nthis server, then you can flag it.\n\n902\n00:47:41.680 --> 00:47:43.604\nYou don't have to,\nI'm gonna go ahead and do that.\n\n903\n00:47:45.015 --> 00:47:47.381\nAnd then it's gonna place it\nin the certificate store.\n\n904\n00:47:47.381 --> 00:47:50.976\nYou can manually pick what certificate\nstore, but it will get the right one,\n\n905\n00:47:50.976 --> 00:47:52.589\nit will go into that personal one.\n\n906\n00:47:52.589 --> 00:47:56.268\nAll right, so I'll finish that up.\n\n907\n00:47:56.268 --> 00:47:58.323\nKey import is successful.\n\n908\n00:47:58.323 --> 00:48:02.620\nAnd I'm just gonna go back here and\nverify that it made it into that store.\n\n909\n00:48:02.620 --> 00:48:05.880\nSo, we'll go in here, and there it is.\n\n910\n00:48:05.880 --> 00:48:07.340\nNow it's attached to the machine account.\n\n911\n00:48:07.340 --> 00:48:08.060\nThat, that's important.\n\n912\n00:48:09.620 --> 00:48:10.590\nAll right.\n\n913\n00:48:10.590 --> 00:48:12.850\nSo now we've kinda met\nour minimum requirements.\n\n914\n00:48:12.850 --> 00:48:14.390\nWe've got a WDS server.\n\n915\n00:48:14.390 --> 00:48:17.230\nThat was done when we added the,\nthe network unlock feature.\n\n916\n00:48:17.230 --> 00:48:19.640\nAnd now we've got a certificate to use.\n\n917\n00:48:19.640 --> 00:48:21.870\nThe last thing is to tie it all together,\nright?\n\n918\n00:48:21.870 --> 00:48:25.030\nWe just need to bring all the pieces\ntogether, and we will be in business.\n\n919\n00:48:25.030 --> 00:48:29.430\nSo, the rest of it we do with\na simple group policy object.\n\n920\n00:48:29.430 --> 00:48:32.770\nWith network unlock, this might apply\nto hundreds or thousands of computers.\n\n921\n00:48:32.770 --> 00:48:35.740\nSo if we do it with a GPO, we set it once.\n\n922\n00:48:35.740 --> 00:48:36.700\nWe apply it many.\n\n923\n00:48:36.700 --> 00:48:38.550\nRight, so it'll affect all\nthe machines on our network.\n\n924\n00:48:38.550 --> 00:48:40.120\nSo that's what we're going to tackle here.\n\n925\n00:48:40.120 --> 00:48:45.620\nLet me fire up my group policy management\nconsole, and you know at the beginning of\n\n926\n00:48:45.620 --> 00:48:49.340\nthe show I created a GPO just to, to set\nit so that BitLocker didn't require a TPM.\n\n927\n00:48:49.340 --> 00:48:51.920\nI'll just continue to work\nwith that same policy.\n\n928\n00:48:51.920 --> 00:48:56.970\nWe'll just edit that one And\nput in our other settings.\n\n929\n00:49:00.520 --> 00:49:01.330\nAll right.\n\n930\n00:49:01.330 --> 00:49:05.530\nBut I do need to, to kinda go a few\ndifferent places to get this set up.\n\n931\n00:49:05.530 --> 00:49:06.100\nAll right.\n\n932\n00:49:06.100 --> 00:49:10.250\nThe, the first thing that I need to do\nis I, I need to enable network unlock.\n\n933\n00:49:10.250 --> 00:49:13.630\nSo machines need to be aware that\nthey're allowed to use network unlock,\n\n934\n00:49:13.630 --> 00:49:16.850\nand you know, they're not actually\nallowed to do that by default.\n\n935\n00:49:16.850 --> 00:49:18.630\nSo that, that needs to be one thing.\n\n936\n00:49:18.630 --> 00:49:21.730\nAnd then the other thing I\nneed to do is to go in and\n\n937\n00:49:21.730 --> 00:49:24.360\nimport the certificate into the GPO.\n\n938\n00:49:24.360 --> 00:49:27.690\nRemember I said we've got to push\nthe certificate out to all the clients.\n\n939\n00:49:27.690 --> 00:49:29.880\nYou can do it manually,\nit could take forever.\n\n940\n00:49:29.880 --> 00:49:32.450\nYou do it with a GPO,\neven as new machines are added,\n\n941\n00:49:32.450 --> 00:49:33.980\nthey'll automatically\nget that certificate.\n\n942\n00:49:33.980 --> 00:49:36.570\nSo it takes care of everything for\nyou, all right?\n\n943\n00:49:36.570 --> 00:49:40.240\nSo let's enable\nBitLocker Network Unlock first.\n\n944\n00:49:40.240 --> 00:49:43.479\nSo I'm gonna go under\nComputer Configuration, and Policies.\n\n945\n00:49:44.600 --> 00:49:47.930\nAnd I'm just gonna drill down, and\nif you're wondering how I memorized this,\n\n946\n00:49:47.930 --> 00:49:49.940\nI don't, I actually have it\non a little note right here.\n\n947\n00:49:49.940 --> 00:49:52.650\nAnd so I'll, I'll post this\nwith the episode on the site.\n\n948\n00:49:52.650 --> 00:49:55.490\nIt's a good idea to be familiar with\nthe general location of these things, but\n\n949\n00:49:55.490 --> 00:49:56.630\nthere's so many of them,\n\n950\n00:49:56.630 --> 00:49:59.460\nthat just memorizing all\nthe paths is near impossible.\n\n951\n00:49:59.460 --> 00:50:03.500\nBut, but it's under Policies,\nand Administrative Templates.\n\n952\n00:50:03.500 --> 00:50:09.100\nI'm going to go under Windows Components,\nand BitLocker Drive Encryption.\n\n953\n00:50:12.190 --> 00:50:14.650\nAll right, and once I'm under there.\n\n954\n00:50:17.280 --> 00:50:21.830\nIf we continue to, to kind of browse\ndown under operating system drives.\n\n955\n00:50:21.830 --> 00:50:23.560\nThis is the same place I went for\n\n956\n00:50:23.560 --> 00:50:25.740\nrequire additional authentication\nat start up, right?\n\n957\n00:50:25.740 --> 00:50:28.410\nThat, that was that option\nthat allowed me to,\n\n958\n00:50:28.410 --> 00:50:32.350\nto designate that we\ndidn't have to have a TPM.\n\n959\n00:50:32.350 --> 00:50:34.520\nWell, look at the top option there.\n\n960\n00:50:34.520 --> 00:50:36.950\nAllow network unlock at start up.\n\n961\n00:50:36.950 --> 00:50:37.560\nAll right?\n\n962\n00:50:37.560 --> 00:50:39.940\nNetwork unlock is disabled by default.\n\n963\n00:50:39.940 --> 00:50:41.800\nWe have to turn it on if we want.\n\n964\n00:50:41.800 --> 00:50:43.380\nSo, that's the option that I'm gonna set.\n\n965\n00:50:43.380 --> 00:50:43.960\nWhoops.\n\n966\n00:50:43.960 --> 00:50:45.240\nWell, that was different.\n\n967\n00:50:45.240 --> 00:50:46.670\nHa ha ha.\n\n968\n00:50:46.670 --> 00:50:49.340\nSo, I'm gonna go here to allow\nnetwork unlock at start up.\n\n969\n00:50:51.010 --> 00:50:54.350\nAnd I'm just gonna choose enable, there's,\nthere's no other options to adhere,\n\n970\n00:50:54.350 --> 00:50:57.920\nwe're just turning on that function,\nI'll enable it.\n\n971\n00:50:57.920 --> 00:51:00.880\nAnd now, my machines are gonna get that\noption flag that'll say hey we're,\n\n972\n00:51:00.880 --> 00:51:04.410\nwe're allowed to use network unlock,\nand they're gonna try and use it, but\n\n973\n00:51:04.410 --> 00:51:07.080\nthey're not going to have the certificate\nso it's always gonna fail,\n\n974\n00:51:07.080 --> 00:51:09.890\nif I stop right here network\nunlock will always fail.\n\n975\n00:51:09.890 --> 00:51:10.670\nAll right.\n\n976\n00:51:10.670 --> 00:51:12.380\nNow I need to attach the certificate.\n\n977\n00:51:12.380 --> 00:51:16.470\nWell, it would just be too convenient\nif that certificate were right here in\n\n978\n00:51:16.470 --> 00:51:18.875\nthe same place, so we gotta browse\nto a whole different place.\n\n979\n00:51:18.875 --> 00:51:22.510\n[LAUGH]\nSo what I'm gonna do is, over here,\n\n980\n00:51:22.510 --> 00:51:26.770\nI'm just gonna collapse that window's\ncomponents and administrative templates.\n\n981\n00:51:26.770 --> 00:51:31.170\nThis one is actually under the computer\nconfiguration and policies.\n\n982\n00:51:31.170 --> 00:51:32.850\nI'm gonna go under Window Settings.\n\n983\n00:51:35.520 --> 00:51:38.070\nAnd under Window Settings I'll\ngo to Security Settings.\n\n984\n00:51:39.380 --> 00:51:43.110\nUnder Security Settings I'll\ngo to Public Key Policies.\n\n985\n00:51:44.590 --> 00:51:46.645\nUnder Public Key Policies I will find\n\n986\n00:51:46.645 --> 00:51:51.030\nBitLocker Drive Encryption\nNetwork Unlock Certificate.\n\n987\n00:51:51.030 --> 00:51:52.640\nThat guy right there.\n\n988\n00:51:52.640 --> 00:51:54.450\nWe just make that a little bigger.\n\n989\n00:51:54.450 --> 00:51:58.110\nSo right there, BitLocker Drive\nEncryption Network Unlock Certificate.\n\n990\n00:51:58.110 --> 00:52:02.140\nHere's where I can attach the certificate\nthat we're gonna use for network unlock.\n\n991\n00:52:02.140 --> 00:52:04.340\nI've already installed\nit on the WDS server,\n\n992\n00:52:04.340 --> 00:52:07.010\non the server that's responsible for\ndoing the unlock.\n\n993\n00:52:07.010 --> 00:52:10.500\nThis is what's gonna push it out\nto all of my clients, all right.\n\n994\n00:52:10.500 --> 00:52:13.990\nSo, I'll just right-click on that choose\nto Add a Network Unlock Certificate.\n\n995\n00:52:15.230 --> 00:52:18.110\nAnd now I just need to browse and\npick that certificate.\n\n996\n00:52:18.110 --> 00:52:20.150\nAll right, so I'll choose to.\n\n997\n00:52:20.150 --> 00:52:24.670\nWell, if we were using a certification\nauthority if we had a CA\n\n998\n00:52:24.670 --> 00:52:27.890\nthen the certificate is likely already\npublished in the active directory, and\n\n999\n00:52:27.890 --> 00:52:31.030\nso I can just browse the active directory\nand find it and be in business.\n\n1000\n00:52:31.030 --> 00:52:31.640\nAll right.\n\n1001\n00:52:31.640 --> 00:52:35.070\nBut since I did a self signed one,\nit's not stored in the AD, so\n\n1002\n00:52:35.070 --> 00:52:38.070\nI've got to use the files that\nwe generated a minute ago.\n\n1003\n00:52:38.070 --> 00:52:42.100\nSo I'll choose Browse Folders and\nthere is my certificate.\n\n1004\n00:52:42.100 --> 00:52:46.790\nNow, notice it's not getting the pfx,\nit's just getting the cer.\n\n1005\n00:52:46.790 --> 00:52:50.320\nThe cer file has our\ndigitally signed public key.\n\n1006\n00:52:50.320 --> 00:52:53.040\nSo that means all of these clients\nare going to get the public key,\n\n1007\n00:52:53.040 --> 00:52:55.640\nthey are not going to get the private key.\n\n1008\n00:52:55.640 --> 00:52:56.700\nThat's important,\n\n1009\n00:52:56.700 --> 00:52:59.470\nif somebody gets that private key\nthey could really do some damage.\n\n1010\n00:52:59.470 --> 00:53:03.290\nSo, the private key stays in our server,\nall of the clients get the public key.\n\n1011\n00:53:05.180 --> 00:53:06.180\nAll right, so I'll open that up.\n\n1012\n00:53:07.580 --> 00:53:09.070\nWe'll go ahead and install it.\n\n1013\n00:53:09.070 --> 00:53:09.820\nThere it is.\n\n1014\n00:53:09.820 --> 00:53:11.040\nIt shows user unknown.\n\n1015\n00:53:11.040 --> 00:53:12.660\nThat's because it was self signed, right?\n\n1016\n00:53:12.660 --> 00:53:15.580\nWe generated it ourselves,\nbut, but that's okay for us.\n\n1017\n00:53:15.580 --> 00:53:19.520\nIf you had a CA it would actually have\nyour your specific uses in there,\n\n1018\n00:53:19.520 --> 00:53:22.400\nit would say like, you know, for\nBitLock or unlock or whatever.\n\n1019\n00:53:22.400 --> 00:53:25.040\nAnd, and since this is unique even\nthen it might still show unknown.\n\n1020\n00:53:26.940 --> 00:53:27.760\nAll right.\n\n1021\n00:53:27.760 --> 00:53:31.030\nSo I'll hit Next on that and finish up,\nand now that certificate is attached.\n\n1022\n00:53:31.030 --> 00:53:36.130\nNow notice on this screen we can\nactually have more than one certificate.\n\n1023\n00:53:36.130 --> 00:53:39.640\nThat's important, because what do we\ndo when this certificate expires?\n\n1024\n00:53:39.640 --> 00:53:42.270\nIf it expires,\ndo all our machines just lock?\n\n1025\n00:53:42.270 --> 00:53:44.660\nWell, yeah, technically they do.\n\n1026\n00:53:44.660 --> 00:53:46.560\nBut if your users don't\nknow the passwords,\n\n1027\n00:53:46.560 --> 00:53:49.840\nif they don't have the USB keys handy,\nthat'll be a real problem.\n\n1028\n00:53:49.840 --> 00:53:52.610\nSo when this one is\ngetting close to expiring,\n\n1029\n00:53:52.610 --> 00:53:54.140\nyou can add a second certificate.\n\n1030\n00:53:54.140 --> 00:53:58.580\nSo you’ve got two that are active so that\nwhen one expires, the second one kicks in.\n\n1031\n00:53:58.580 --> 00:54:00.420\nAnd you can add even more if you want.\n\n1032\n00:54:00.420 --> 00:54:03.650\nSo you can add as many as you need but\nnormally two is enough.\n\n1033\n00:54:03.650 --> 00:54:06.800\nAnd that’s gonna make sure that people\nalways have access to a certificate\n\n1034\n00:54:06.800 --> 00:54:07.880\nwhen they can do network unlock.\n\n1035\n00:54:10.120 --> 00:54:13.330\nAll right, and\nwhen that's done now we're in business.\n\n1036\n00:54:13.330 --> 00:54:17.970\nOver the next few hours the clients on our\nnetwork are going to refresh their policy,\n\n1037\n00:54:17.970 --> 00:54:20.890\nthey'll learn that they can\nturn on network unlock and\n\n1038\n00:54:20.890 --> 00:54:23.360\nthey'll learn that they have\nthis certificate to use.\n\n1039\n00:54:23.360 --> 00:54:27.620\nAnd so when their machine boots up,\ninstead of looking for that USB key,\n\n1040\n00:54:27.620 --> 00:54:28.750\nwhich it still will,\n\n1041\n00:54:28.750 --> 00:54:31.390\nyou know if the key is there it will\nboot from that and it's in business.\n\n1042\n00:54:31.390 --> 00:54:35.510\nBut if it's not there, it'll send out\na message on the network saying hey,\n\n1043\n00:54:35.510 --> 00:54:37.470\nis there a WDS server out there?\n\n1044\n00:54:37.470 --> 00:54:40.720\nAnd it'll find our server, and\nour server will respond back and say,\n\n1045\n00:54:40.720 --> 00:54:41.440\nwhat can I do for you?\n\n1046\n00:54:41.440 --> 00:54:42.570\nAnd the client will say hey,\n\n1047\n00:54:42.570 --> 00:54:47.020\nI want a network unlock,\nI've got this public key, is it valid?\n\n1048\n00:54:47.020 --> 00:54:50.250\nThe server will compare that\npublic key with its own data and\n\n1049\n00:54:50.250 --> 00:54:53.210\nthen return the response and\nsay, yes it's valid, or\n\n1050\n00:54:53.210 --> 00:54:55.940\nno it's not valid, and\nthey cross-authenticate each other.\n\n1051\n00:54:55.940 --> 00:54:58.880\nWhen that's done,\nthe client says, okay, I'm good.\n\n1052\n00:54:58.880 --> 00:55:02.530\nI'm going to use this certificate,\nI'll unlock, and now the system comes up.\n\n1053\n00:55:02.530 --> 00:55:05.650\nThe end user doesn't get involved,\nthey don't have to provide a key.\n\n1054\n00:55:05.650 --> 00:55:07.100\nThey don't have to provide a PIN number.\n\n1055\n00:55:07.100 --> 00:55:09.600\nWell, unless we turned\non the TPM PIN option.\n\n1056\n00:55:09.600 --> 00:55:13.140\nBut the way I've got it set here\nThey don't have any prompts.\n\n1057\n00:55:13.140 --> 00:55:17.750\nIt just goes right up and really they\ndon't even know that BitLocker is enabled.\n\n1058\n00:55:17.750 --> 00:55:21.278\nThat's the cool part about this is how it\ncan be completely transparent to the end\n\n1059\n00:55:21.278 --> 00:55:23.590\nuser until this machine\nleaves the network.\n\n1060\n00:55:23.590 --> 00:55:27.930\nSomebody takes this machine and if it's\na server, steals the whole thing and\n\n1061\n00:55:27.930 --> 00:55:30.060\ntakes it home, it's gonna block, and\n\n1062\n00:55:30.060 --> 00:55:33.050\nit's not gonna be able to come up\nunless you have that USB key in there.\n\n1063\n00:55:33.050 --> 00:55:34.290\nBut as long as it's at your office and\n\n1064\n00:55:34.290 --> 00:55:37.010\nthe network is intact,\nit'll boot right up and you'll be fine.\n\n1065\n00:55:37.010 --> 00:55:38.150\nReally cool stuff.\n\n1066\n00:55:38.150 --> 00:55:39.850\nIt's also really cool on laptops.\n\n1067\n00:55:39.850 --> 00:55:42.530\nYou know, when you're in the office,\nfine, it unlocks.\n\n1068\n00:55:42.530 --> 00:55:45.750\nBut when you're at home, at a hotel,\ntraveling, you gotta have your key.\n\n1069\n00:55:45.750 --> 00:55:49.560\nYou know, so you get the enhanced\nsecurity when you need it, and\n\n1070\n00:55:49.560 --> 00:55:51.340\nyou're not bothered\nwith it when you don't.\n\n1071\n00:55:51.340 --> 00:55:53.850\nSo, really cool feature, really neat one.\n\n1072\n00:55:53.850 --> 00:55:55.520\nNot that hard to implement.\n\n1073\n00:55:55.520 --> 00:56:00.230\nAgain if you have a WDS and you have a CA\nin place already you can use those, or\n\n1074\n00:56:00.230 --> 00:56:03.590\nwhat I just did right there is\na complete standalone deployment.\n\n1075\n00:56:03.590 --> 00:56:05.530\nYou know, and\nit didn't take too much to do it.\n\n1076\n00:56:05.530 --> 00:56:10.030\nBut functionality is all right there in\nWindows Server 2012 R2 standard edition.\n\n1077\n00:56:10.030 --> 00:56:12.130\nYou don't need Enterprise to do it.\n\n1078\n00:56:12.130 --> 00:56:13.390\nAnd it's just right there.\n\n1079\n00:56:13.390 --> 00:56:14.470\nOff you go.\n\n1080\n00:56:14.470 --> 00:56:17.610\nSo, pretty cool technology\nbecause it's new,\n\n1081\n00:56:17.610 --> 00:56:20.960\nbecause it's exciting,\nit's likely to show up on the exam.\n\n1082\n00:56:20.960 --> 00:56:25.120\nSo, so definitely keep in mind how\nthat works, be familiar with it.\n\n1083\n00:56:25.120 --> 00:56:26.130\nIt's just, it's really cool stuff.\n\n1084\n00:56:27.450 --> 00:56:30.350\nAll right, well that pretty much wraps\nit up for BitLocker on the server.\n\n1085\n00:56:30.350 --> 00:56:32.550\nFor the most part it is just\nlike on the workstation, so\n\n1086\n00:56:32.550 --> 00:56:34.850\nwe're not talking about\na whole new adventure.\n\n1087\n00:56:34.850 --> 00:56:37.720\nThere's just some different\nconsiderations based on the hardware, and\n\n1088\n00:56:37.720 --> 00:56:41.780\nhow we deploy that infrastructure that\nmakes the real difference, all right.\n\n1089\n00:56:41.780 --> 00:56:45.120\nLet me remind you guys, you know, if you\nhave any questions, live during the show,\n\n1090\n00:56:45.120 --> 00:56:46.710\nyou can always come to our website.\n\n1091\n00:56:46.710 --> 00:56:48.416\nGo to itpro.tv/live.\n\n1092\n00:56:48.416 --> 00:56:50.680\nThere's a chat room\nright beneath the video.\n\n1093\n00:56:50.680 --> 00:56:51.860\nYou can post your questions.\n\n1094\n00:56:51.860 --> 00:56:53.540\nWe monitor and answer during the show.\n\n1095\n00:56:53.540 --> 00:56:56.740\nIf you have questions after the show,\nif you're watching this recorded.\n\n1096\n00:56:56.740 --> 00:56:59.908\nGo to our website, and at the top of\nevery page is a link that says Q&A.\n\n1097\n00:56:59.908 --> 00:57:01.140\nHit that Q&A link.\n\n1098\n00:57:01.140 --> 00:57:03.590\nIt'll take you to our question and\nanswer screen.\n\n1099\n00:57:03.590 --> 00:57:04.750\nPost your questions there.\n\n1100\n00:57:04.750 --> 00:57:05.730\nWe monitor and answer, and\n\n1101\n00:57:05.730 --> 00:57:08.330\nit's a great way to communicate with\nus even if the show is not live.\n\n1102\n00:57:08.330 --> 00:57:09.990\nSo take advantage of that resource.\n\n1103\n00:57:09.990 --> 00:57:11.840\nIt is there for you.\n\n1104\n00:57:11.840 --> 00:57:13.440\nAlright, well I hope you\nguys enjoyed the show.\n\n1105\n00:57:13.440 --> 00:57:17.399\nSigning off for IT Pro TV, I'm Don Pezet,\nand we'll see you next time.\n\n1106\n00:57:17.399 --> 00:57:23.709\n[MUSIC]\n\n",
          "vimeoId": "88361240"
        },
        {
          "description": "In this episode Mike and Don discuss backing up a certificate private key and setting up a data recovery agent in a domain environment. They explore audit policies and several different methods for configuring them such as local policy, AuditPol.exe and domain-based group policy. ",
          "length": "5184",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/013-EFS-and-Audit-Policies.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/013-EFS-and-Audit-Policies-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/013-EFS-and-Audit-Policies-sm.jpg",
          "title": "EFS and Audit Policies",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:23.056 --> 00:00:33.056\n[MUSIC]\n\n3\n00:00:34.606 --> 00:00:35.187\nAll right.\n\n4\n00:00:35.187 --> 00:00:36.929\nGood morning, good afternoon,\nand good evening.\n\n5\n00:00:36.929 --> 00:00:39.425\nAnd welcome back to another\nepisode of IT Pro TV.\n\n6\n00:00:39.425 --> 00:00:43.141\nI'm your host Don Pazet, today with Mr.\nMike Roderick, how's it going, Mike?\n\n7\n00:00:43.141 --> 00:00:45.570\n>> Fantastic Don,\ngood to be back, good to be here.\n\n8\n00:00:45.570 --> 00:00:46.320\nIt's been a while.\n\n9\n00:00:46.320 --> 00:00:47.500\n>> It's been forever, you know,\n\n10\n00:00:47.500 --> 00:00:50.390\nI think most of the people out\nthere have forgotten who you are.\n\n11\n00:00:50.390 --> 00:00:52.990\n>> Probably.\n>> So for those of you who don't remember,\n\n12\n00:00:52.990 --> 00:00:58.280\nMike is our costume designer and\nour makeup artist here at the I- [LAUGH].\n\n13\n00:00:58.280 --> 00:01:01.980\n>> I work hard at that stuff, yeah keeping\nthese guys looking good on HD camera, so.\n\n14\n00:01:01.980 --> 00:01:03.290\n>> Yeah, that's right.\n\n15\n00:01:03.290 --> 00:01:05.630\nLayer on the makeup.\n\n16\n00:01:05.630 --> 00:01:06.230\nWait, let me clarify.\n\n17\n00:01:06.230 --> 00:01:07.500\n>> Wait, wait.\n>> I do not wear makeup,\n\n18\n00:01:07.500 --> 00:01:08.905\njust get that out there.\n\n19\n00:01:08.905 --> 00:01:11.220\n[LAUGH]\n>> What does Ronnie say in my Bio,\n\n20\n00:01:11.220 --> 00:01:12.710\nI think I'm also a line dancer.\n\n21\n00:01:12.710 --> 00:01:14.380\n>> A line dancer, yeah.\n\n22\n00:01:14.380 --> 00:01:16.680\nGotta keep in touch with\nyour country western roots.\n\n23\n00:01:16.680 --> 00:01:17.580\n>> That's right.\n\n24\n00:01:17.580 --> 00:01:19.362\n>> Well, today we've got another set.\n\n25\n00:01:19.362 --> 00:01:24.007\n70-411 episode lined up,\nwhich means we're, you know,\n\n26\n00:01:24.007 --> 00:01:27.733\ntackling the world of\nWindows Server 2012 R2.\n\n27\n00:01:27.733 --> 00:01:31.090\nYou gotta love these short product names.\n\n28\n00:01:31.090 --> 00:01:35.970\nWindows Server 2012 R2 Standard Edition,\nwith X64.\n\n29\n00:01:35.970 --> 00:01:36.470\n>> Yeah.\n\n30\n00:01:37.520 --> 00:01:39.740\n>> Yeah, anyhow, so all right.\n\n31\n00:01:39.740 --> 00:01:41.860\nSo, for those of you following along,\n\n32\n00:01:41.860 --> 00:01:46.460\nlast week I did an episode by myself and\nwe covered bitlocker.\n\n33\n00:01:46.460 --> 00:01:50.370\nSo we looked at encrypting our servers,\nsecuring them.\n\n34\n00:01:50.370 --> 00:01:54.140\nBacking up the keys in case the server\nkey gets damaged, or lost, or whatever.\n\n35\n00:01:54.140 --> 00:01:57.000\nAnd some of the different things\nthat are involved with bitlocker.\n\n36\n00:01:57.000 --> 00:02:02.440\nAnd it was my goal to cover EFS in that\nepisode, too, but I talked too much, and\n\n37\n00:02:02.440 --> 00:02:05.838\nso we didn't, so this week, it's the week.\n\n38\n00:02:05.838 --> 00:02:09.439\n>> [CROSSTALK] EFS is fun it's good stuff.\n\n39\n00:02:09.439 --> 00:02:10.160\n>> Yeah.\n\n40\n00:02:10.160 --> 00:02:13.690\nThere's only so much to go into on on EFS,\nand if I look at the objective here,\n\n41\n00:02:13.690 --> 00:02:18.410\nwe've got the EFS recovery agent to\ntalk about, and a little bit more there.\n\n42\n00:02:18.410 --> 00:02:21.860\nWhen we're done with that,\nwe're gonna move into audit policies.\n\n43\n00:02:21.860 --> 00:02:26.160\nNow both of these topics, EFS and audit\npolicies, we've covered in other episodes.\n\n44\n00:02:26.160 --> 00:02:28.650\nAnd you might ask yourself right now,\nwait a minute Don,\n\n45\n00:02:28.650 --> 00:02:29.980\nwe've already talked about this stuff.\n\n46\n00:02:29.980 --> 00:02:34.200\nWell, what we're doing is we're talking\nabout very specific functions of it.\n\n47\n00:02:34.200 --> 00:02:38.140\nSo EFS, we should all know how to turn\non encrypted files at this point, so\n\n48\n00:02:38.140 --> 00:02:39.390\nit's not EFS that we're talking about.\n\n49\n00:02:39.390 --> 00:02:43.280\nBut it is how the recovery agent works,\nand how we can back up and\n\n50\n00:02:43.280 --> 00:02:46.370\nrestore our recovery agents if we need to.\n\n51\n00:02:46.370 --> 00:02:47.470\nSame thing with audit policies.\n\n52\n00:02:47.470 --> 00:02:50.200\nIt's not how do we do audit policies.\n\n53\n00:02:50.200 --> 00:02:52.417\nIt's, how do we define them\nin a group policy object?\n\n54\n00:02:52.417 --> 00:02:53.276\nWhat tools are available?\n\n55\n00:02:53.276 --> 00:02:57.580\nSo we're gonna look at some advanced\nstuff today that goes beyond the others.\n\n56\n00:02:57.580 --> 00:02:59.395\n>> Yes.\nGood stuff.\n\n57\n00:02:59.395 --> 00:03:01.520\n>> Alright so let's just dive into EFS,\n\n58\n00:03:01.520 --> 00:03:04.430\nand I know I said we're not gonna\ntalk about how to configure it but...\n\n59\n00:03:04.430 --> 00:03:09.230\nIt doesn't hurt to do a little refresher,\nfor those of you who may not remember,\n\n60\n00:03:09.230 --> 00:03:10.670\nor if you're just tuning in.\n\n61\n00:03:10.670 --> 00:03:13.190\nEFS is the encrypting file system, and\n\n62\n00:03:13.190 --> 00:03:16.710\nit's a neat thing that's built in to\nWindows that allows you to encrypt\n\n63\n00:03:16.710 --> 00:03:20.750\nindividual files or folders, as opposed\nto the whole drive like bitlocker does.\n\n64\n00:03:20.750 --> 00:03:23.170\nYeah, really there's another,\nkind of a different, solution, right?\n\n65\n00:03:23.170 --> 00:03:26.360\nWhereas bitlocker is protecting\nyour data when it's offline,\n\n66\n00:03:26.360 --> 00:03:30.360\nwhere your computer's shutdown, EFS is\nprotecting your data while it's online.\n\n67\n00:03:30.360 --> 00:03:32.560\nKeeps people from accessing\nit that shouldn't.\n\n68\n00:03:32.560 --> 00:03:33.650\nIt's another layer of security.\n\n69\n00:03:33.650 --> 00:03:35.030\n>> Yeah.\n>> Built right on top of your,\n\n70\n00:03:35.030 --> 00:03:36.550\nyou already got your NTFS permissions.\n\n71\n00:03:36.550 --> 00:03:39.470\nThis is just one more layer of\nsecurity that you can add to those\n\n72\n00:03:39.470 --> 00:03:40.580\nfiles and folders.\n\n73\n00:03:40.580 --> 00:03:42.440\n>> Yeah.\nNow, you'll see a lot of people out there\n\n74\n00:03:42.440 --> 00:03:44.300\non the internet that say,\nwell now that I've got bitlocker,\n\n75\n00:03:44.300 --> 00:03:45.365\nwhy do I even need EFS?\n\n76\n00:03:45.365 --> 00:03:45.960\n>> Mm-hm.\n\n77\n00:03:45.960 --> 00:03:50.050\n>> And one of the big uses for\nEFS is when you have a shared computer.\n\n78\n00:03:50.050 --> 00:03:53.600\nIf you use bitlocker,\nthe entire hard drive is encrypted, and\n\n79\n00:03:53.600 --> 00:03:55.810\nit's encrypted using one key.\n\n80\n00:03:55.810 --> 00:03:58.490\nAnd so\nif multiple users share that computer,\n\n81\n00:03:58.490 --> 00:04:00.550\nthey've all got to have that key.\n\n82\n00:04:00.550 --> 00:04:04.365\nAnd so if Mike and I share a computer,\nright, and I put my document that's,\n\n83\n00:04:04.365 --> 00:04:08.776\nIHateMike.doc, its right there on my\ndesktop, and I'm like, it's bitlocker, so\n\n84\n00:04:08.776 --> 00:04:12.160\nit's encrypted, Mike will never see it,\nwell Mike's got the key also,\n\n85\n00:04:12.160 --> 00:04:15.820\nhe logs in and is like, IHateMike,\nwhat kind of crap is that, you know.\n\n86\n00:04:15.820 --> 00:04:17.310\n>> And then I'm crying in my beer,\nyou know.\n\n87\n00:04:17.310 --> 00:04:18.261\n[LAUGH]\n>> And then he starts making\n\n88\n00:04:18.261 --> 00:04:19.862\nhis own files, and\nit spirals out of control.\n\n89\n00:04:19.862 --> 00:04:23.232\nSo a shared key, you know,\nlike a bitlocker install would be,\n\n90\n00:04:23.232 --> 00:04:26.426\nis not terribly useful when\nyou've got a shared computer.\n\n91\n00:04:26.426 --> 00:04:27.031\n>> Right.\n\n92\n00:04:27.031 --> 00:04:30.541\n>> With EFS, I can encrypt my files,\nusing my key,\n\n93\n00:04:30.541 --> 00:04:33.980\nand Mike can encrypt his files,\nusing his key.\n\n94\n00:04:33.980 --> 00:04:36.542\nAnd he might see that there's\na document called IHateMike.\n\n95\n00:04:36.542 --> 00:04:38.640\n>> [LAUGH]\n>> And he's like I wanna read that!\n\n96\n00:04:38.640 --> 00:04:41.350\nOr notes about Mike, or whatever.\n\n97\n00:04:41.350 --> 00:04:43.710\n>> I'm double clicking on it like mad,\ncome on, let me in there.\n\n98\n00:04:43.710 --> 00:04:44.520\n>> And you can't get in it.\n\n99\n00:04:44.520 --> 00:04:45.130\n>> I can't get in.\n\n100\n00:04:45.130 --> 00:04:47.930\n>> So, in a shared computer environment,\n\n101\n00:04:47.930 --> 00:04:50.850\nwhere you don't trust the other people on\nthat computer, ESF is still very useful.\n\n102\n00:04:50.850 --> 00:04:51.350\n>> Yep, yep.\n\n103\n00:04:52.510 --> 00:04:53.150\n>> Alright.\n\n104\n00:04:53.150 --> 00:04:54.200\n>> It's pretty easy to setup.\n\n105\n00:04:54.200 --> 00:04:57.190\nI mean, being a part of an NTFS\nthere's really nothing to do,\n\n106\n00:04:57.190 --> 00:04:57.940\nit's already enabled.\n\n107\n00:04:57.940 --> 00:05:01.120\nYou can turn it off if you want to, but\nit's enabled by default, so an end user\n\n108\n00:05:01.120 --> 00:05:05.060\ncan encrypt files out of the box, which\nis why we have to be so careful with it.\n\n109\n00:05:05.060 --> 00:05:07.110\nBecause, we've talked about\nit in our other episodes,\n\n110\n00:05:07.110 --> 00:05:10.320\nif you lose that key,\nyou lose access to those documents.\n\n111\n00:05:10.320 --> 00:05:12.360\n>> Yeah\n>> So we need to have a way to either back\n\n112\n00:05:12.360 --> 00:05:15.880\nthat key up, and or\nbe able to recover that key if necessary.\n\n113\n00:05:15.880 --> 00:05:20.360\n>> Yeah, you know building on what Mike\nsaid, EFS, it is a part of Windows.\n\n114\n00:05:20.360 --> 00:05:23.050\nIt's actually a part of\nthe NTFS file system, so if\n\n115\n00:05:23.050 --> 00:05:28.020\nyou have an NTFS formatted drive you can\nuse EFS, you know, you can encrypt on it.\n\n116\n00:05:28.020 --> 00:05:29.670\nAnd it's been there for a long time.\n\n117\n00:05:29.670 --> 00:05:31.940\nI know for a fact it was in Windows 2000.\n\n118\n00:05:31.940 --> 00:05:33.490\n>> Yeah.\nThat's as far back as I remember.\n\n119\n00:05:33.490 --> 00:05:35.152\n>> I can't remember if it was in NT4,\nor not.\n\n120\n00:05:35.152 --> 00:05:38.100\n>> You would almost assume with\na name like that, but maybe.\n\n121\n00:05:38.100 --> 00:05:38.650\nI don't know.\nI don't know.\n\n122\n00:05:38.650 --> 00:05:39.630\n>> Yeah.\n\n123\n00:05:39.630 --> 00:05:41.490\nBut let's just take\na look at it real quick.\n\n124\n00:05:41.490 --> 00:05:43.910\nI'm gonna pull up a server\nhere on my machine,\n\n125\n00:05:43.910 --> 00:05:47.050\nand let's say that I make a folder here.\n\n126\n00:05:48.280 --> 00:05:51.318\nAnd I'll call this, you know,\nemployee documents.\n\n127\n00:05:51.318 --> 00:05:52.646\nAll right?\n\n128\n00:05:52.646 --> 00:05:53.640\n>> Mm-hm.\n\n129\n00:05:53.640 --> 00:05:56.376\n>> And\nI'll just make a little text file in here.\n\n130\n00:05:56.376 --> 00:06:00.670\nI'll try to.\n\n131\n00:06:00.670 --> 00:06:02.160\nAnd whoops.\n\n132\n00:06:02.160 --> 00:06:04.280\n>> Trouble with touchpads.\n\n133\n00:06:04.280 --> 00:06:05.514\n>> All right, so\nhere's my Mike Stinks folder, or file.\n\n134\n00:06:05.514 --> 00:06:06.382\n>> [LAUGH]\n>> All right.\n\n135\n00:06:06.382 --> 00:06:08.100\nSo here's my Mike Stinks folder, or file.\n\n136\n00:06:08.100 --> 00:06:09.625\n>> I'm gonna try to get access to that,\nI guarantee you.\n\n137\n00:06:09.625 --> 00:06:10.151\n[LAUGH]\n>> [LAUGH]\n\n138\n00:06:10.151 --> 00:06:11.736\n>> [LAUGH] So, all right,\n\n139\n00:06:11.736 --> 00:06:14.800\nhere is some data.\nSee, this is what you get for\n\n140\n00:06:14.800 --> 00:06:15.495\nmissing the show.\n\n141\n00:06:15.495 --> 00:06:17.380\n>> [LAUGH]\n>> And then you get made fun of endlessly.\n\n142\n00:06:17.380 --> 00:06:18.230\nAll right.\n\n143\n00:06:18.230 --> 00:06:20.210\nSo here's some data and\nI chuck it in there.\n\n144\n00:06:20.210 --> 00:06:20.970\nThere it is.\n\n145\n00:06:20.970 --> 00:06:23.790\nI don't have to configure\nanything special.\n\n146\n00:06:23.790 --> 00:06:24.830\nI can just turn on encryption.\n\n147\n00:06:24.830 --> 00:06:28.220\nNow, the thing I wanna highlight to\nyou guys, it's real important for\n\n148\n00:06:28.220 --> 00:06:33.030\nthe exam, is if you've never used\nEFS before, it's not configured.\n\n149\n00:06:33.030 --> 00:06:35.650\nAnd if you encrypt something\nin the background,\n\n150\n00:06:35.650 --> 00:06:37.820\nit really quick configures itself.\n\n151\n00:06:37.820 --> 00:06:42.400\nIt needs a private key to encrypt this\ndata, and its gotta get it from somewhere.\n\n152\n00:06:42.400 --> 00:06:43.434\nSo what does it do?\n\n153\n00:06:43.434 --> 00:06:45.115\n>> Generates one, on the fly.\n\n154\n00:06:45.115 --> 00:06:45.801\n>> Makes it up.\n\n155\n00:06:45.801 --> 00:06:46.323\n>> Yeah.\n\n156\n00:06:46.323 --> 00:06:49.331\nIn most corporate environments,\nif we were planning on using EFS,\n\n157\n00:06:49.331 --> 00:06:52.287\nI think in most corporate environments,\nwe're gonna go ahead and\n\n158\n00:06:52.287 --> 00:06:55.480\nissue keys to our users for that purpose,\nwhich solves a few problems.\n\n159\n00:06:55.480 --> 00:06:59.030\nIt makes it easier to back up keys,\nand recover keys, and stuff like that.\n\n160\n00:06:59.030 --> 00:07:02.190\nBut yeah, if you go in there and right\nclick and just pull up properties of that\n\n161\n00:07:02.190 --> 00:07:05.770\nfile, you can encrypt it, and\nit will generate a certificate on the fly.\n\n162\n00:07:06.820 --> 00:07:09.480\nProblem is,\nis that's on that local machine, and\n\n163\n00:07:09.480 --> 00:07:12.400\nit's not easy to essentially manage that.\n\n164\n00:07:12.400 --> 00:07:16.980\nI'm relying on my end users to back up\nthere own keys to somewhere on the same\n\n165\n00:07:16.980 --> 00:07:21.190\ndrive, or put it on a thumb drive and\nleave it laying on their desk, you know.\n\n166\n00:07:21.190 --> 00:07:21.890\nNot good.\n\n167\n00:07:21.890 --> 00:07:24.240\n>> That is the biggest weakness of EFS,\nand\n\n168\n00:07:24.240 --> 00:07:26.270\nit's configured that way by default,\nright.\n\n169\n00:07:26.270 --> 00:07:28.770\nI just pulled up my\npersonal certificate store.\n\n170\n00:07:28.770 --> 00:07:31.500\nSo these are certificates\nattached to my user account.\n\n171\n00:07:31.500 --> 00:07:32.558\nI'm logged in as an administrator.\n\n172\n00:07:32.558 --> 00:07:34.980\nGreat practice [LAUGH].\n\n173\n00:07:34.980 --> 00:07:39.560\nAnd so I can see I've got one\ncertificate here for file recovery.\n\n174\n00:07:39.560 --> 00:07:41.182\nNothing to do with EFS, right?\n\n175\n00:07:41.182 --> 00:07:42.576\nFile recovery is kind of a part of it.\n\n176\n00:07:42.576 --> 00:07:44.020\n>> Sort of.\n\n177\n00:07:44.020 --> 00:07:46.260\n>> But, I don't have an EFS certificate.\n\n178\n00:07:46.260 --> 00:07:48.070\n>> Nothing that you could\nuse to encrypt files.\n\n179\n00:07:48.070 --> 00:07:48.626\n>> Right.\n\n180\n00:07:48.626 --> 00:07:51.084\nSo, but if I go and\nI take this Mike Stinks file,\n\n181\n00:07:51.084 --> 00:07:53.125\nand I'll just pull up its properties.\n\n182\n00:07:53.125 --> 00:07:53.958\nI hope its awesome.\n\n183\n00:07:53.958 --> 00:07:54.458\n>> [LAUGH].\n\n184\n00:07:54.458 --> 00:07:56.208\n>> I'm going to use this in every show.\n\n185\n00:07:56.208 --> 00:07:59.860\nAnd I go in here, and I choose to\nencrypt content to secure data.\n\n186\n00:08:01.230 --> 00:08:02.330\nSo, I'll go ahead and choose that.\n\n187\n00:08:02.330 --> 00:08:04.580\n>> It's gonna ask you\nthat famous question.\n\n188\n00:08:04.580 --> 00:08:05.840\n>> And it's a file.\n\n189\n00:08:05.840 --> 00:08:08.670\nI don't know why it really\nasks us when you're on a file.\n\n190\n00:08:08.670 --> 00:08:10.470\n>> Here's my theory on this.\n\n191\n00:08:10.470 --> 00:08:13.470\nThe idea is if I encrypt\nthe individual file.\n\n192\n00:08:13.470 --> 00:08:14.930\nThen the file's encrypted, but\n\n193\n00:08:14.930 --> 00:08:18.700\nanything else that goes in the folder\nwould not be encrypted and\n\n194\n00:08:18.700 --> 00:08:23.720\nfrom what understand, when you open up\nan Excel spreadsheet or a Word document.\n\n195\n00:08:23.720 --> 00:08:27.610\nIt actually creates a temporary\nhidden file in that same directory.\n\n196\n00:08:27.610 --> 00:08:29.070\nAnd that's what you're working with, and\n\n197\n00:08:29.070 --> 00:08:31.130\nif you don't save your changes\nthat gets thrown away.\n\n198\n00:08:31.130 --> 00:08:34.670\nIf you save your changes that gets\nmerged back with that original document.\n\n199\n00:08:34.670 --> 00:08:38.210\nWell, if you don't encrypt the folder,\nwhen you open up that file,\n\n200\n00:08:38.210 --> 00:08:39.950\nthat temporary copy is not encrypted.\n\n201\n00:08:39.950 --> 00:08:40.540\n>> That's a good point.\n\n202\n00:08:40.540 --> 00:08:42.470\n>> Which is a potential security breach.\n\n203\n00:08:42.470 --> 00:08:44.930\nYou know that file's locked, if I\nthink it would be really difficult for\n\n204\n00:08:44.930 --> 00:08:46.420\nsomebody to get access to it, but\n\n205\n00:08:46.420 --> 00:08:51.240\nif I encrypt the folder, even that\ntemporary copy is actually encrypted, so.\n\n206\n00:08:51.240 --> 00:08:54.520\n>> You know you could probably real quick\ntake like a volume shadow copy, and\n\n207\n00:08:54.520 --> 00:08:56.290\nthen access that temporary file that way.\n\n208\n00:08:56.290 --> 00:08:57.590\nI bet there's ways to get around that.\n\n209\n00:08:57.590 --> 00:09:00.300\n>> So that's why they recommend\ndoing the entire folder.\n\n210\n00:09:00.300 --> 00:09:03.440\nAnd then it makes it easier in the future\nif you just create a new file in there,\n\n211\n00:09:03.440 --> 00:09:06.200\nit's already encrypted,\nif you drag a file in there it's gonna be\n\n212\n00:09:06.200 --> 00:09:09.030\nencrypted automatically, so it makes\nit easier I think for the end user.\n\n213\n00:09:09.030 --> 00:09:11.132\n>> Well you've sold me,\nI'm gonna switch to the other one.\n\n214\n00:09:11.132 --> 00:09:12.002\n[LAUGH]\n>> [LAUGH]\n\n215\n00:09:12.002 --> 00:09:12.877\n>> So we'll go ahead and\n\n216\n00:09:12.877 --> 00:09:13.960\nencrypt up all that.\n\n217\n00:09:13.960 --> 00:09:17.520\nI'll go ahead and say okay to that, and I\nknow it's encrypted because it's in green.\n\n218\n00:09:17.520 --> 00:09:18.270\n>> It's green.\n>> Right?\n\n219\n00:09:18.270 --> 00:09:21.840\nif the file name is green and,\nI guess it's kind of hard to see there,\n\n220\n00:09:21.840 --> 00:09:24.550\nif the file name is green then\nyou know it's encrypted, or\n\n221\n00:09:24.550 --> 00:09:27.090\nit's at least green, and so there we go.\n\n222\n00:09:27.090 --> 00:09:28.430\nIt's protected.\n\n223\n00:09:28.430 --> 00:09:32.920\nWell, in the background, what it did\nIs it generated a certificate and\n\n224\n00:09:32.920 --> 00:09:35.330\nif I just refresh my\ncertificate list here,\n\n225\n00:09:35.330 --> 00:09:39.380\nthere we go, I now have a certificate for\nthe encrypting file system.\n\n226\n00:09:39.380 --> 00:09:39.880\nIt's right there.\n\n227\n00:09:41.070 --> 00:09:44.040\nAnd if I double click on that\ncertificate to look at it,\n\n228\n00:09:44.040 --> 00:09:48.290\nI can see it was issued to administrator,\nissued by Administrator.\n\n229\n00:09:48.290 --> 00:09:49.450\nI issued it to myself.\n\n230\n00:09:49.450 --> 00:09:51.910\n>> Yeah, it's what we call\na self-signed certificate, so\n\n231\n00:09:51.910 --> 00:09:54.670\nit wasn't issued from\na certificate of authority.\n\n232\n00:09:54.670 --> 00:09:57.200\n>> Yeah, and what other computer out\nthere's gonna trust this certificate?\n\n233\n00:09:57.200 --> 00:09:58.070\n>> None.\n\n234\n00:09:58.070 --> 00:09:59.300\n>> Absolutely nobody, right?\n\n235\n00:09:59.300 --> 00:10:02.200\nThis certificate is good right\nOn your computer and that's it.\n\n236\n00:10:02.200 --> 00:10:03.970\nNobody else is going to trust this thing.\n\n237\n00:10:03.970 --> 00:10:07.520\nSo if I go to another computer and encrypt\nsome files, and then a third computer and\n\n238\n00:10:07.520 --> 00:10:10.960\na fourth computer and encrypt files there\ntoo, let's say it's four computers,\n\n239\n00:10:10.960 --> 00:10:13.510\nthat would be four different keys.\n\n240\n00:10:13.510 --> 00:10:16.460\nAnd if something happens to\nmy user account or whatever,\n\n241\n00:10:16.460 --> 00:10:19.770\nthere's four different keys I've got\nto hunt down and keep track of and\n\n242\n00:10:19.770 --> 00:10:20.820\nit's a bit of a nightmare.\n\n243\n00:10:20.820 --> 00:10:21.850\n>> It is.\n>> Right.\n\n244\n00:10:21.850 --> 00:10:24.670\nSo the better solution in\na corporate environment.\n\n245\n00:10:24.670 --> 00:10:27.150\nIs to set up a certification authority,\na CA.\n\n246\n00:10:27.150 --> 00:10:27.880\nAll right?\n\n247\n00:10:27.880 --> 00:10:32.090\nAnd with a certification authority,\nyou can have one for your enterprise and\n\n248\n00:10:32.090 --> 00:10:36.820\nyou can set up so that instead of EFS\ngenerating a self-signed certificate,\n\n249\n00:10:36.820 --> 00:10:39.570\nthat it can reach out up to the CA and\nget one from there.\n\n250\n00:10:39.570 --> 00:10:42.130\nSo if I go to five different computers\n\n251\n00:10:42.130 --> 00:10:46.590\nit's gonna use the same\nkey on all five machines.\n\n252\n00:10:46.590 --> 00:10:48.090\nNow it's just one key to back up.\n\n253\n00:10:48.090 --> 00:10:51.480\nAnd since the key was issued by\na centralized CA I've already got\n\n254\n00:10:51.480 --> 00:10:53.090\nall the keys right there.\n\n255\n00:10:53.090 --> 00:10:55.160\nI can even publish them\ninto the active directory.\n\n256\n00:10:55.160 --> 00:10:55.830\nIt's a lot more stable.\n\n257\n00:10:55.830 --> 00:10:57.110\n>> We could issue them out ahead of time.\n\n258\n00:10:57.110 --> 00:10:57.850\nThey don't even have to.\n\n259\n00:10:57.850 --> 00:11:00.340\nEven before they go to encrypt\na file we can use a group policy.\n\n260\n00:11:00.340 --> 00:11:02.850\nI think we might in a little\nbit show you guys where.\n\n261\n00:11:02.850 --> 00:11:04.550\nWe can automate that process so\n\n262\n00:11:04.550 --> 00:11:07.690\nbefore they even go to encrypt a file\nthey've already got certificates.\n\n263\n00:11:07.690 --> 00:11:10.440\nAnd like Don says because they're\nbeing issued by that CA I have\n\n264\n00:11:10.440 --> 00:11:14.680\nfull control over backing them up and\nbeing able to recover those pieces.\n\n265\n00:11:14.680 --> 00:11:16.380\n>> Yeah and I forgot all about that.\n\n266\n00:11:16.380 --> 00:11:18.470\nIt's called\nCertificate Auto-Enrollment and\n\n267\n00:11:18.470 --> 00:11:23.460\nthat's where just as soon as you spin up\na computer, as soon as a new user logs in\n\n268\n00:11:23.460 --> 00:11:26.630\nIn the background it requests and\nrequires a certificate for them.\n\n269\n00:11:26.630 --> 00:11:30.200\nAnd it requests it from\nyour enterprise CA.\n\n270\n00:11:30.200 --> 00:11:34.960\nSo every computer in your domain will\nautomatically trust that certificate.\n\n271\n00:11:34.960 --> 00:11:35.470\n>> Exactly.\n\n272\n00:11:35.470 --> 00:11:36.490\n>> Yeah, it's a great.\n\n273\n00:11:36.490 --> 00:11:37.600\nGreat way to go about that.\n\n274\n00:11:37.600 --> 00:11:40.880\nSo, this is great for home users.\n\n275\n00:11:40.880 --> 00:11:41.400\n>> Yep.\n>> Or\n\n276\n00:11:41.400 --> 00:11:45.030\na standalone server in a DMZ that might\nbe not be able to contact the CA.\n\n277\n00:11:45.030 --> 00:11:46.300\nStuff like that.\n\n278\n00:11:46.300 --> 00:11:48.510\nBut for your normal servers and\nworkstations,\n\n279\n00:11:48.510 --> 00:11:50.530\nyou do want to have that\ncentralized certificate.\n\n280\n00:11:50.530 --> 00:11:54.370\n>> Yeah, because right now,\nit'd be up to you to back that key up.\n\n281\n00:11:54.370 --> 00:11:58.600\nAnd that means I've gotta teach all my\nusers how to go about backing it up.\n\n282\n00:11:58.600 --> 00:11:59.610\nBut, it's not difficult.\n\n283\n00:11:59.610 --> 00:12:00.680\nWell.\n\n284\n00:12:00.680 --> 00:12:04.200\nI guess that depends on the skill\nof end users, I don't know.\n\n285\n00:12:04.200 --> 00:12:04.730\n>> Well let's show that.\n\n286\n00:12:04.730 --> 00:12:06.840\nBecause I think that's\nactually in the objectives.\n\n287\n00:12:06.840 --> 00:12:09.760\nThey went up ahead on how\nto back these things up.\n\n288\n00:12:09.760 --> 00:12:12.220\n>> First you have to teach them\nhow to create this console, and\n\n289\n00:12:12.220 --> 00:12:15.000\nhow to add the snap in, and\nhow to find this thing, alright?\n\n290\n00:12:15.000 --> 00:12:15.570\nLet's do that.\n\n291\n00:12:15.570 --> 00:12:18.180\nSo because I just kind of whipped\nthrough it in the background.\n\n292\n00:12:18.180 --> 00:12:19.430\nSo let's kind of run through that.\n\n293\n00:12:19.430 --> 00:12:23.850\nSo The certificate tool\nyou actually don't get.\n\n294\n00:12:23.850 --> 00:12:26.800\nIt's one of those crazy ones\nwhere Microsoft doesn't give you\n\n295\n00:12:26.800 --> 00:12:27.710\nthe tool ahead of time.\n\n296\n00:12:27.710 --> 00:12:28.680\n>> You know what,\n\n297\n00:12:28.680 --> 00:12:32.500\nI learned something a couple of weeks ago\nthere actually is a built in tool now.\n\n298\n00:12:32.500 --> 00:12:34.922\n>> Is it manage user\ncertificates that just appeared.\n\n299\n00:12:34.922 --> 00:12:36.572\n[LAUGH]\n>> I don't know.\n\n300\n00:12:36.572 --> 00:12:41.100\nIt's CERT MGR.msc I believe Yep,\nthere it is.\n\n301\n00:12:41.100 --> 00:12:41.670\n>> CERT MGR.\n\n302\n00:12:41.670 --> 00:12:44.300\n>> I have not seen that before and\nI was pretty impressed with that.\n\n303\n00:12:44.300 --> 00:12:45.680\n>> I wonder when they added that thing.\n\n304\n00:12:45.680 --> 00:12:48.050\n>> I don't know.\n>> I've always added the blank MMC and\n\n305\n00:12:48.050 --> 00:12:49.260\nthen just added the snap in.\n\n306\n00:12:49.260 --> 00:12:52.170\n>> That's probably what we should show\nthem because that doesn't even show\n\n307\n00:12:52.170 --> 00:12:55.180\nup on any of your menus,\nonly if you knew that name.\n\n308\n00:12:55.180 --> 00:12:57.370\n>> I think this is the one that\ncomes out of Internet Explorer.\n\n309\n00:12:57.370 --> 00:12:59.700\nLet me just do a quick test here.\n\n310\n00:12:59.700 --> 00:13:03.380\nInternet explorer,\nif you go into internet options,\n\n311\n00:13:03.380 --> 00:13:06.080\nwell as soon as it's done loading slowly.\n\n312\n00:13:07.750 --> 00:13:09.210\nIt's gonna annoy me with the startup menu.\n\n313\n00:13:10.550 --> 00:13:12.580\nLet me just bookmark this blank page.\n\n314\n00:13:14.080 --> 00:13:16.530\nI'm gonna click on\na hundred different things.\n\n315\n00:13:16.530 --> 00:13:19.910\nSo when you go into internet explorer,\nthere is a spot in here.\n\n316\n00:13:19.910 --> 00:13:21.520\n>> Content and then certificates.\n\n317\n00:13:26.414 --> 00:13:29.890\n>> I don't know if it gives\nyou access to counsel.\n\n318\n00:13:29.890 --> 00:13:33.090\n>> No it really doesn't does it,\nyeah you can see the certificates,\n\n319\n00:13:33.090 --> 00:13:35.920\nI figured that was it but I guess not.\n\n320\n00:13:35.920 --> 00:13:39.040\n>> I would show them the MMC,\nthat's the more common way to go I think.\n\n321\n00:13:39.040 --> 00:13:40.030\n>> All right.\n\n322\n00:13:40.030 --> 00:13:43.940\nSo if we open up a blank MMC,\nthe Microsoft Management Console,\n\n323\n00:13:43.940 --> 00:13:47.490\nthis is that console you can customize to\nhave whatever the heck you want in it.\n\n324\n00:13:47.490 --> 00:13:49.850\nAnd we can go to file and\nadd remove snap in.\n\n325\n00:13:49.850 --> 00:13:53.780\nAnd there's a snap in in\nhere called certificates.\n\n326\n00:13:53.780 --> 00:13:56.410\nNow, when I reinsert MGR to MSC,\n\n327\n00:13:56.410 --> 00:13:59.040\nit automatically goes right\ninto my certificates.\n\n328\n00:13:59.040 --> 00:14:00.250\n>> Yeah, your user account yep.\n\n329\n00:14:00.250 --> 00:14:01.790\n>> Which is normally what we want.\n\n330\n00:14:01.790 --> 00:14:06.790\nBut when we add it this way, we actually\nget a choice to add it for us for\n\n331\n00:14:06.790 --> 00:14:09.850\na service account or\nfor a computer account.\n\n332\n00:14:09.850 --> 00:14:13.540\nWe can see certificates attached to this\ncomputer itself, that's really useful.\n\n333\n00:14:13.540 --> 00:14:15.830\n>> Assuming you're\nan administrator on that machine.\n\n334\n00:14:15.830 --> 00:14:18.040\nIf you weren't it wouldn't even ask you.\n\n335\n00:14:18.040 --> 00:14:20.720\nHave to default to user and\nit would just go right there.\n\n336\n00:14:20.720 --> 00:14:21.510\n>> Yep.\n\n337\n00:14:21.510 --> 00:14:22.610\nSo I'll go ahead and add that one in.\n\n338\n00:14:22.610 --> 00:14:26.400\nSo there's my current users, and then I\nget in here and I can see my certificates.\n\n339\n00:14:26.400 --> 00:14:30.986\nNow, that and the SearchMgr.msc approach.\n\n340\n00:14:30.986 --> 00:14:36.160\nIf we go into that\nare really the same thing.\n\n341\n00:14:36.160 --> 00:14:39.390\nSo you know they're both showing me\nthe current user certificates and\n\n342\n00:14:39.390 --> 00:14:44.720\nI can browse in and I can see that so\neither way it gets you to the same place.\n\n343\n00:14:44.720 --> 00:14:48.100\nAlright, now once you're in there,\nif you wanna back up your certificate.\n\n344\n00:14:49.480 --> 00:14:51.780\nThe easiest way to do it is\nto find the certificate here.\n\n345\n00:14:51.780 --> 00:14:54.030\nAnd I'll find the encrypting\nfile system one\n\n346\n00:14:55.080 --> 00:14:56.570\n>> And I'm gonna export it.\n\n347\n00:14:56.570 --> 00:15:00.304\nYou can right-click and\ngo to All Tasks and\n\n348\n00:15:00.304 --> 00:15:01.040\nExport\n>> And\n\n349\n00:15:01.040 --> 00:15:03.850\nwe can dump out a copy\nof this certificate.\n\n350\n00:15:03.850 --> 00:15:06.210\nSo we just need to come in here and say.\n\n351\n00:15:06.210 --> 00:15:07.130\nYes.\n\n352\n00:15:07.130 --> 00:15:10.440\nNow, it asks if you wanna ex for\nthe private key,\n\n353\n00:15:10.440 --> 00:15:15.620\nif you dont the key that you export will\nbe your public key which is good for\n\n354\n00:15:15.620 --> 00:15:19.380\nencrypting but not decrypting and\nso it's going to be useless to you.\n\n355\n00:15:19.380 --> 00:15:22.100\n>> If you wanted to share your certificate\nwith somebody because you're digitally\n\n356\n00:15:22.100 --> 00:15:25.630\nsigning emails or something like that\nyou can export just that public key and\n\n357\n00:15:25.630 --> 00:15:28.320\nsend that over to them but\n>> If you're trying to back it up, yeah,\n\n358\n00:15:28.320 --> 00:15:30.020\nwe kinda need that private\nkey to go with it.\n\n359\n00:15:30.020 --> 00:15:30.680\n>> Yeah.\n>> And that,\n\n360\n00:15:30.680 --> 00:15:33.270\nthat private key as it goes through\nthe wizard the private key's stored at a,\n\n361\n00:15:33.270 --> 00:15:37.350\nat a hidden location in your user profile\n>> It's like,\n\n362\n00:15:37.350 --> 00:15:38.810\nwell how am I gonna lose my key?\n\n363\n00:15:38.810 --> 00:15:40.430\nWhy am I really worried\nabout backing it up?\n\n364\n00:15:40.430 --> 00:15:42.250\nYou know it's not like\nit's on my key chain.\n\n365\n00:15:42.250 --> 00:15:44.860\nI can't leave it somewhere,\nleave it in the back of a cab.\n\n366\n00:15:44.860 --> 00:15:48.770\n>> But if it's in my profile, my profile\ncould become corrupt, my hard drive could\n\n367\n00:15:48.770 --> 00:15:53.150\nfail, my user account could get deleted,\nmy computer could get re-imaged.\n\n368\n00:15:53.150 --> 00:15:56.180\nMany number of ways we could\nend up losing that key.\n\n369\n00:15:56.180 --> 00:15:56.958\n>> Yeah.\n\n370\n00:15:56.958 --> 00:16:00.496\nYou know, another example would be like,\nmaybe you have a USB drive, or\n\n371\n00:16:00.496 --> 00:16:03.410\nmaybe you have one of those\nexternal What do they call them?\n\n372\n00:16:03.410 --> 00:16:04.167\nCarriages or whatever?\n\n373\n00:16:04.167 --> 00:16:05.833\nWhere you pop the external drives in.\n\n374\n00:16:05.833 --> 00:16:08.500\nAnd it's fomented into your TFS,\nso you're encrypting things.\n\n375\n00:16:08.500 --> 00:16:09.780\n>> Right.\n>> But you might be moving NET\n\n376\n00:16:09.780 --> 00:16:11.410\ndrive between computers\n\n377\n00:16:11.410 --> 00:16:14.020\nwhile the other computers need to\nbe able to get at that data too.\n\n378\n00:16:14.020 --> 00:16:16.430\nSo you might need to\nexport your certificate so\n\n379\n00:16:16.430 --> 00:16:18.200\nyou can go an import\nit on another machine.\n\n380\n00:16:18.200 --> 00:16:22.210\nAnd now two different machines can\naccess that drive successfully.\n\n381\n00:16:22.210 --> 00:16:25.900\nNow when you export your private key,\nthere's only one file format that will do\n\n382\n00:16:25.900 --> 00:16:28.750\nand that's the PFX or\npersonal information exchange.\n\n383\n00:16:28.750 --> 00:16:30.500\nSo it's gonna choose that by default.\n\n384\n00:16:30.500 --> 00:16:34.610\nYou can kinda tweak the settings here,\nthe default is really all that we need.\n\n385\n00:16:34.610 --> 00:16:37.170\nIt says include all\ncertificates in the path.\n\n386\n00:16:37.170 --> 00:16:40.310\nThe path is just us.\n\n387\n00:16:40.310 --> 00:16:44.000\nWe don't want to delete the private key\nbecause we still need it on this computer.\n\n388\n00:16:44.000 --> 00:16:46.950\n>> Now that options useful, we haven't\nreally got into recover agent yet,\n\n389\n00:16:46.950 --> 00:16:49.860\nwe're gonna talk about that, but\nif there's ever a time when I bring\n\n390\n00:16:49.860 --> 00:16:54.640\nmy certificate into a machine to do some\nwork for somebody, to recover a file,\n\n391\n00:16:54.640 --> 00:16:58.560\nwhen I'm done, I might not want to leave\nmy private key on that computer, so\n\n392\n00:16:58.560 --> 00:17:01.760\nI might want to export it back out and\nthen delete that key so\n\n393\n00:17:01.760 --> 00:17:05.290\nthere's no chance that somebody\nfinds it or tries to use it.\n\n394\n00:17:05.290 --> 00:17:06.015\n>> Somebody like Mike.\n\n395\n00:17:06.015 --> 00:17:07.255\n>> Yeah.\n[LAUGH]\n\n396\n00:17:07.255 --> 00:17:08.880\n>> [LAUGH] All right,\n\n397\n00:17:08.880 --> 00:17:11.500\nand then the last one was\ndoing export all extended\n\n398\n00:17:11.500 --> 00:17:12.500\nproperties\n>> For\n\n399\n00:17:12.500 --> 00:17:16.330\na standard certificate like the EFS1,\nthere are no extended properties.\n\n400\n00:17:16.330 --> 00:17:18.740\nBut if this were like\n\n401\n00:17:18.740 --> 00:17:22.240\nthe bit locker network unlock certificate\nthat I created in the last episode,\n\n402\n00:17:22.240 --> 00:17:25.710\nit had some extended properties on it and\nso you'd need to choose that option.\n\n403\n00:17:25.710 --> 00:17:26.600\nFor me or I'll just hit next.\n\n404\n00:17:28.080 --> 00:17:29.660\nAlright, I'm going to\nassign a password for you.\n\n405\n00:17:29.660 --> 00:17:32.920\nYou can restrict it to a particular user,\ngroup, or whatever, but\n\n406\n00:17:32.920 --> 00:17:34.090\nI'll just put a password on it.\n\n407\n00:17:34.090 --> 00:17:36.790\n>> I'm pretty sure you have with the -- if\nyou are going to include the private key\n\n408\n00:17:36.790 --> 00:17:38.860\nin the export you have to\npass word protect that.\n\n409\n00:17:38.860 --> 00:17:41.200\nI don't think it will let\nyou move on even without it.\n\n410\n00:17:42.660 --> 00:17:44.260\n>> You know I've never\n-- I mean we can try it.\n\n411\n00:17:44.260 --> 00:17:45.880\n>> If you uncheck that, the next button --\n>> So\n\n412\n00:17:45.880 --> 00:17:48.760\nif I just add in a group\n>> Yeah it'll let me go.\n\n413\n00:17:49.780 --> 00:17:51.470\nBut you have to do one or the other.\n\n414\n00:17:51.470 --> 00:17:53.450\nSo if you don't do either\nyou can't move forward.\n\n415\n00:17:53.450 --> 00:17:55.360\nBut yeah,\nit does make you secure it somehow.\n\n416\n00:17:55.360 --> 00:17:56.100\n>> Somehow.\n\n417\n00:17:56.100 --> 00:17:57.470\n>> The problem with the group or\n\n418\n00:17:57.470 --> 00:18:00.910\nused names one is that it will\nonly work within your domain.\n\n419\n00:18:00.910 --> 00:18:03.130\nSo if you're needing to move\nthis to like a dmz server or\n\n420\n00:18:03.130 --> 00:18:05.650\nwhatever it's not gonna work so\nI almost always do password.\n\n421\n00:18:07.650 --> 00:18:09.410\nAlright and then I'll export it to a file.\n\n422\n00:18:09.410 --> 00:18:13.552\n>> I'll just call it my efsbackup.pfx.\n\n423\n00:18:16.582 --> 00:18:18.380\nAnd we'll export.\n\n424\n00:18:18.380 --> 00:18:19.510\nThere we go.\n\n425\n00:18:19.510 --> 00:18:21.770\nAnd now I've backed up my certificate.\n\n426\n00:18:21.770 --> 00:18:26.280\nIf I browsed my c drive,\nI've got efsbackup right there.\n\n427\n00:18:28.710 --> 00:18:33.280\nThat's that PFX file so it's right\nthere its got my certificate off we go.\n\n428\n00:18:33.280 --> 00:18:36.310\n>> Nice, so now delete your\ncertificate and re-import it.\n\n429\n00:18:36.310 --> 00:18:37.367\n>> That be wonderful.\n\n430\n00:18:37.367 --> 00:18:42.347\nl mean we can that is the certificate we\ncould delete ours out and re-import it.\n\n431\n00:18:42.347 --> 00:18:43.540\nRe-importing it is really easy.\n\n432\n00:18:43.540 --> 00:18:46.450\n>> Basically the same\nwizard in reverse right?\n\n433\n00:18:46.450 --> 00:18:49.640\n>> So we just delete out our ESF cert.\n\n434\n00:18:49.640 --> 00:18:50.440\nThere it goes.\n\n435\n00:18:50.440 --> 00:18:54.420\nNow, technically with that cert gone, if I\nwere to reboot, I wouldn't be able to open\n\n436\n00:18:54.420 --> 00:18:58.000\nmy encrypted files anymore,\nI would be locked out of my own files.\n\n437\n00:18:58.000 --> 00:18:59.060\nBut we could just re-import.\n\n438\n00:18:59.060 --> 00:19:03.160\n>> Lucky for us, you're a smart guy and\nyou backed up your key ahead of time.\n\n439\n00:19:03.160 --> 00:19:03.670\n>> I tell ya.\n\n440\n00:19:03.670 --> 00:19:06.660\nSo, I'm just gonna pick that file.\n\n441\n00:19:06.660 --> 00:19:11.320\nI'll specify the password\nwhich I almost forgot [LAUGH].\n\n442\n00:19:11.320 --> 00:19:12.200\nThere we go.\n\n443\n00:19:12.200 --> 00:19:17.050\nI will market as exportable in case I\nwant to export it again in the future.\n\n444\n00:19:17.050 --> 00:19:18.470\n>> Strange that that's not the default.\n\n445\n00:19:18.470 --> 00:19:22.530\nI don't know why they make you pick\nthat because it's an easy one to miss.\n\n446\n00:19:22.530 --> 00:19:24.960\n>> If you were importing this on\na DMZ machine or something like that,\n\n447\n00:19:24.960 --> 00:19:27.500\nyou wouldn't want the CERT to be\nexportable from there, you'd want it to be\n\n448\n00:19:27.500 --> 00:19:29.020\n>> The kind of locked in.\n\n449\n00:19:30.420 --> 00:19:31.890\n>> Okay.\n>> So all right, so we'll go ahead and\n\n450\n00:19:31.890 --> 00:19:33.550\nlet it automatically pick\nthe certificates to store.\n\n451\n00:19:33.550 --> 00:19:35.270\nIt does a really good job\nof finding the right one.\n\n452\n00:19:35.270 --> 00:19:38.660\nIf you want to,\nyou could manually tell it where to go.\n\n453\n00:19:38.660 --> 00:19:39.335\nBut I'll let it go automatic.\n\n454\n00:19:39.335 --> 00:19:42.220\n[INAUDIBLE] And we'll finish up.\n\n455\n00:19:42.220 --> 00:19:44.390\nAnd when that's done,\nI won't see the certificate right away.\n\n456\n00:19:44.390 --> 00:19:45.625\nI do have to refresh.\n\n457\n00:19:45.625 --> 00:19:46.300\n>> Mm-hm.\n\n458\n00:19:46.300 --> 00:19:49.000\n>> And once I refresh,\nthere's my certificate back again.\n\n459\n00:19:49.000 --> 00:19:51.140\nAll right.\n\n460\n00:19:51.140 --> 00:19:52.210\nThat was a lot of steps.\n\n461\n00:19:52.210 --> 00:19:53.710\n>> Yeah.\n>> It really was a lot of\n\n462\n00:19:53.710 --> 00:19:54.730\nsteps to go through.\n\n463\n00:19:54.730 --> 00:19:56.300\n>> Now, teach your end users that.\n\n464\n00:19:56.300 --> 00:19:59.800\nSo, you might want to automate\nthis process,and there is a way,\n\n465\n00:19:59.800 --> 00:20:03.820\nthere's a command line utility we can\nuse that can dump a certificate, also.\n\n466\n00:20:03.820 --> 00:20:07.125\nSo, for example,\nif I drop to a command prompt\n\n467\n00:20:08.966 --> 00:20:14.223\nAll right, and I'm going to\ndelete that efs backup.pfx file\n\n468\n00:20:15.973 --> 00:20:19.922\nAll right that in Instead of going\nthrough the MMCs and the wizards and\n\n469\n00:20:19.922 --> 00:20:23.820\nall that stuff to export it,\nwe can just do it from the command line.\n\n470\n00:20:23.820 --> 00:20:25.600\nThere's a command line\nutility called cipher.\n\n471\n00:20:25.600 --> 00:20:27.270\nLet me bump up my font size.\n\n472\n00:20:27.270 --> 00:20:31.950\nThat is a little bit on the small side.\n\n473\n00:20:31.950 --> 00:20:33.715\n>> Hard for my old eyes to see it.\n\n474\n00:20:33.715 --> 00:20:37.470\n>> [LAUGH]\nAlright, there we go.\n\n475\n00:20:37.470 --> 00:20:40.470\nSo, the command utility is called cipher.\n\n476\n00:20:40.470 --> 00:20:44.610\nThe cypher utility lets you do stuff\nwith certificates and encrypted things,\n\n477\n00:20:44.610 --> 00:20:45.970\nwhich are kind of useful.\n\n478\n00:20:45.970 --> 00:20:51.392\nSo I'm going to say cypher/r,\nc: / e f s, backup.\n\n479\n00:20:51.392 --> 00:20:53.540\np f x.\n\n480\n00:20:53.540 --> 00:20:57.960\nSo I'm telling it to export my\ncertificate to the e f s backup.\n\n481\n00:20:57.960 --> 00:20:59.640\np f s file.\n\n482\n00:20:59.640 --> 00:21:01.080\nLet me leave that off.\n\n483\n00:21:01.080 --> 00:21:02.140\nLeave the extension off.\n\n484\n00:21:02.140 --> 00:21:03.210\nIt'll attach the extension.\n\n485\n00:21:03.210 --> 00:21:04.501\nI always end up with this--\n>> pfx.pfx.\n\n486\n00:21:04.501 --> 00:21:05.020\n[LAUGH]\n>> Yeah.\n\n487\n00:21:05.020 --> 00:21:09.190\nI've made that mistake\nmore than a few times.\n\n488\n00:21:09.190 --> 00:21:10.650\nSo I'll go ahead and run that.\n\n489\n00:21:10.650 --> 00:21:12.400\nIt is gonna ask me for a password.\n\n490\n00:21:12.400 --> 00:21:15.540\nI've gotta have a password so\nI'll attach one.\n\n491\n00:21:15.540 --> 00:21:17.980\nAnd if this were a script,\nyou could just feed that in as input.\n\n492\n00:21:17.980 --> 00:21:18.480\n>> Right.\n\n493\n00:21:22.049 --> 00:21:23.490\n>> And there we go.\n\n494\n00:21:23.490 --> 00:21:27.740\nNow when it dumps it,\nit creates a CER and a PFX.\n\n495\n00:21:27.740 --> 00:21:29.840\nThe PFX has your Public and private key.\n\n496\n00:21:29.840 --> 00:21:33.810\nThe CER just has your public key,\nso that's the actual certificate.\n\n497\n00:21:33.810 --> 00:21:34.750\n>> Very cool.\n\n498\n00:21:34.750 --> 00:21:36.570\nYeah, a lot fewer steps there.\n\n499\n00:21:36.570 --> 00:21:37.980\n>> Yeah, and if you're gonna automate it,\n\n500\n00:21:37.980 --> 00:21:39.390\nthis is really kind of\nthe way you have to go.\n\n501\n00:21:40.390 --> 00:21:41.020\n>> Yep.\n\n502\n00:21:41.020 --> 00:21:42.850\n>> Yeah, so.\nNow that's all true,\n\n503\n00:21:42.850 --> 00:21:44.640\neverything we've said so far is true.\n\n504\n00:21:44.640 --> 00:21:45.510\nUnlike all the times we lie.\n\n505\n00:21:45.510 --> 00:21:48.050\n>> I was gonna say we lie so often.\n\n506\n00:21:48.050 --> 00:21:52.160\n>> All of that is true, in the case\nof a standalone machine, right.\n\n507\n00:21:52.160 --> 00:21:54.970\nIf you just have a single\nserver workstation or\n\n508\n00:21:54.970 --> 00:21:57.500\nit's in a dmz, something like that.\n\n509\n00:21:57.500 --> 00:22:00.080\nBut like you said Mikey,\nif we're in a domain.\n\n510\n00:22:00.080 --> 00:22:00.980\n>> Right.\n>> You don't want to\n\n511\n00:22:00.980 --> 00:22:03.320\nmess around with all\nthese individual certs.\n\n512\n00:22:03.320 --> 00:22:06.360\n>> Hundreds or thousands of users and\ncomputers to be aware.\n\n513\n00:22:06.360 --> 00:22:07.540\nThat's crazy.\n\n514\n00:22:07.540 --> 00:22:10.400\n>> So if there's some way we can\ncentralize it, we're better off.\n\n515\n00:22:10.400 --> 00:22:14.740\nSo we're always better off if we can bring\nin some kind of certificate authority.\n\n516\n00:22:14.740 --> 00:22:16.290\nAnd help me out Mike.\n\n517\n00:22:16.290 --> 00:22:18.310\nHave we already done the CA shows or\nare those still coming up?\n\n518\n00:22:18.310 --> 00:22:18.860\n>> I believe so.\nI belive\n\n519\n00:22:18.860 --> 00:22:21.880\n>> I know in 7410 we show how to set\n\n520\n00:22:21.880 --> 00:22:22.420\nup a ACA, don't we?\n\n521\n00:22:22.420 --> 00:22:24.970\n>> They bumped that into 412, didn't they?\n\n522\n00:22:24.970 --> 00:22:26.200\n>> Was it in-\n>> I think they-\n\n523\n00:22:26.200 --> 00:22:27.580\n>> Things get moved around.\n\n524\n00:22:27.580 --> 00:22:29.766\nWe might not have done the CA show yet\n[LAUGH]\n\n525\n00:22:29.766 --> 00:22:30.650\n>> Yep [LAUGH]\n\n526\n00:22:30.650 --> 00:22:32.330\n>> If we haven't in 7412,\n\n527\n00:22:32.330 --> 00:22:35.870\nI know for a fact,\nthat we will go in depth in setting up a\n\n528\n00:22:35.870 --> 00:22:37.230\n>> Certificate authority and\n\n529\n00:22:37.230 --> 00:22:40.240\nall it's involved,\nit's really not that bad.\n\n530\n00:22:40.240 --> 00:22:44.560\nBut, if you have your own CA,\nyou can generate an unlimited amount of\n\n531\n00:22:44.560 --> 00:22:49.210\ncertificates and\nnot have to pay verasign or geotrust.\n\n532\n00:22:49.210 --> 00:22:50.520\n>> As long as you use them internally,\n\n533\n00:22:50.520 --> 00:22:52.330\nyou're not really worried about the trust\n>> For\n\n534\n00:22:52.330 --> 00:22:54.300\nsomebody outside of\nthe organization trusting it.\n\n535\n00:22:54.300 --> 00:22:55.489\nSo you're saving a lot of money.\n\n536\n00:22:55.489 --> 00:22:58.780\nYou got a handful of control over the\ncertificate, how long they're good for,\n\n537\n00:22:58.780 --> 00:23:00.600\nwhat their purpose\nis.and things like that.\n\n538\n00:23:00.600 --> 00:23:03.450\nSo, definitely a win and\nin most environments,\n\n539\n00:23:03.450 --> 00:23:04.910\nlike you know we'll use a combination of.\n\n540\n00:23:04.910 --> 00:23:08.160\nWe'll have a lot of certificates that\nare issued by us, by our own CA.\n\n541\n00:23:08.160 --> 00:23:10.910\nAnd then for\ncertain resources we might have...\n\n542\n00:23:10.910 --> 00:23:15.690\nPublic CA certificates like for\nour Internet facing devices.\n\n543\n00:23:15.690 --> 00:23:18.820\n>> Yeah and even if you're going to be\nusing your certificate on a grander scale\n\n544\n00:23:18.820 --> 00:23:21.930\noutside of your domain you could still\nbring up your own private CA you\n\n545\n00:23:21.930 --> 00:23:24.660\nwould just need to publish\nyour root certificate,\n\n546\n00:23:24.660 --> 00:23:27.580\nyour public key not the private key.\n\n547\n00:23:27.580 --> 00:23:28.725\nThat would be disastrous.\n\n548\n00:23:28.725 --> 00:23:29.640\n>> [LAUGH]\n>> So you would\n\n549\n00:23:29.640 --> 00:23:33.750\nneed to publish the public key for\nyour root CA and anybody who wanted to try\n\n550\n00:23:33.750 --> 00:23:34.670\n>> Trust your search would just\n\n551\n00:23:34.670 --> 00:23:37.930\nneed to install that as a trusted\ngroup and that would take care of it.\n\n552\n00:23:37.930 --> 00:23:41.818\nI know a law enforcement agency here\nin Florida, a really really big one,\n\n553\n00:23:41.818 --> 00:23:43.208\nand that's what they do.\n\n554\n00:23:43.208 --> 00:23:48.082\nIs that if you wanna use your computer\non their networks you have to add\n\n555\n00:23:48.082 --> 00:23:51.200\ntheir root ca to your\ntrusted group ca list.\n\n556\n00:23:51.200 --> 00:23:54.250\nAnd when you do that you trust\nall their self signed certs.\n\n557\n00:23:54.250 --> 00:23:56.101\nAnd so they don't have to\nhave a budget for paying for\n\n558\n00:23:56.101 --> 00:23:57.417\nall of those various certificates.\n\n559\n00:23:57.417 --> 00:24:00.391\n>> And I wanna say some of the military\ninstallations that I've seen do\n\n560\n00:24:00.391 --> 00:24:01.130\nthe same thing.\n\n561\n00:24:01.130 --> 00:24:02.354\nThey don't buy certificates.\n\n562\n00:24:02.354 --> 00:24:05.816\nThey issue their own, and you go to check\nyour mail or something like that, and\n\n563\n00:24:05.816 --> 00:24:07.495\nyou get the little warning that says,\n\n564\n00:24:07.495 --> 00:24:09.926\nthis certificate cannot be\nchained to a trusted root.\n\n565\n00:24:09.926 --> 00:24:14.255\nSo you import their public key from\ntheir root server or from their CA and\n\n566\n00:24:14.255 --> 00:24:16.295\nnow your computer will trust it.\n\n567\n00:24:16.295 --> 00:24:18.541\n>> Yeah, I mean think about how\nmany certificates you could use.\n\n568\n00:24:18.541 --> 00:24:21.611\nYou might have one for BitLocker,\nyou might have one for your smart card for\n\n569\n00:24:21.611 --> 00:24:25.230\nunlocking you machine, you might have one\nfor EFS, you might have one for email.\n\n570\n00:24:25.230 --> 00:24:29.074\nThese might all be separate certificates,\nif you have a thousand employees, and\n\n571\n00:24:29.074 --> 00:24:31.597\nthey need 4 certs each,\nthat's 4,000 certs.\n\n572\n00:24:31.597 --> 00:24:34.810\n>> That's 4,000 certs you've got to\nbuy and renew on a regular basis.\n\n573\n00:24:34.810 --> 00:24:35.980\n>> It gets expensive.\n\n574\n00:24:35.980 --> 00:24:39.320\nSo maintaining your own CA is\na great way to have good security\n\n575\n00:24:39.320 --> 00:24:41.778\nwithout the giant budget attached to it.\n\n576\n00:24:41.778 --> 00:24:45.260\nAll right so, Mike on a standalone side,\n\n577\n00:24:45.260 --> 00:24:47.930\nI think that pretty much\nwraps that piece up.\n\n578\n00:24:47.930 --> 00:24:49.660\n>> There's really not a lot to it, right?\n\n579\n00:24:49.660 --> 00:24:52.710\nIt issues the certificate itself and\nwe just gotta make sure we can back it up\n\n580\n00:24:52.710 --> 00:24:55.720\nbecause there is no recovery\nagent to help us out, so.\n\n581\n00:24:55.720 --> 00:24:57.350\nI showed you two different ways\nto go about backing that up.\n\n582\n00:24:57.350 --> 00:24:58.610\n>> I am so glad you mentioned that.\n\n583\n00:24:58.610 --> 00:25:00.060\nNo recovery agent to help us out.\n\n584\n00:25:00.060 --> 00:25:01.050\n>> We didn't say that, did we?\n\n585\n00:25:01.050 --> 00:25:04.470\n>> We're gonna talk about\nrecovery agents after the break.\n\n586\n00:25:04.470 --> 00:25:06.412\nAnd we're gonna talk about what\nto do in a domain environment,\n\n587\n00:25:06.412 --> 00:25:08.530\ncuz it's definitely different in domain.\n\n588\n00:25:08.530 --> 00:25:13.400\nIn previous versions of Windows, Windows 7\nand earlier, in addition to that EFS key\n\n589\n00:25:13.400 --> 00:25:18.279\nthat was generated there, Windows would\nalso generate a local recovery agent, and\n\n590\n00:25:18.279 --> 00:25:21.840\na recovery agent was a certificate\nattached to the local administrator\n\n591\n00:25:21.840 --> 00:25:26.510\naccount and it can be used to decrypt\nany file in that computer in the event\n\n592\n00:25:26.510 --> 00:25:29.540\nthat the encrypting certificate\nwas lost or damaged.\n\n593\n00:25:29.540 --> 00:25:31.600\nSo, it was like a fail-safe,\na backup, all right?\n\n594\n00:25:32.670 --> 00:25:35.560\nIt's not there in Window's 8 and\nin Server 2012.\n\n595\n00:25:35.560 --> 00:25:36.730\nSo it's gone.\n\n596\n00:25:36.730 --> 00:25:40.680\nThis is behavior that you had\npreviously is no longer there.\n\n597\n00:25:40.680 --> 00:25:42.700\nSo, in a standalone environment,\n\n598\n00:25:42.700 --> 00:25:46.320\nwe don't have a recovery\nagent unless we create one.\n\n599\n00:25:46.320 --> 00:25:49.070\n>> This is definitely something\nan organization would want to think about.\n\n600\n00:25:49.070 --> 00:25:52.379\nIf you're a small organization and\nyou're in that standalone environment,\n\n601\n00:25:52.379 --> 00:25:55.702\nif your users, they can start encrypting\nanything they want that's on NTFS.\n\n602\n00:25:55.702 --> 00:25:58.209\nThey can go up to a file sharer and\nanything they've got\n\n603\n00:25:58.209 --> 00:26:01.644\nread permission over they can encrypt,\nand so they start playing around,\n\n604\n00:26:01.644 --> 00:26:04.937\nthey start encrypting files,\nwe didn't even know they were using it.\n\n605\n00:26:04.937 --> 00:26:08.550\nThey lose their key and now all of the\nsudden we've lost access to everything.\n\n606\n00:26:08.550 --> 00:26:13.010\nSo we can be in a world of hurt, and so we\nneed to either set up a recovery agent or\n\n607\n00:26:13.010 --> 00:26:14.300\ndisable EFS.\n\n608\n00:26:14.300 --> 00:26:18.100\n>> Yeah, the common scenario that\nI've run into is where an employee's\n\n609\n00:26:18.100 --> 00:26:21.280\nbeen encrypting stuff and you terminate\nthe employee and so then what do you do?\n\n610\n00:26:21.280 --> 00:26:23.020\nYou delete their user account, right?\n\n611\n00:26:23.020 --> 00:26:26.179\nYou delete their user account which\ndeletes any key associated with them.\n\n612\n00:26:26.179 --> 00:26:28.882\nSo now, if you find files down\nthe road that were encrypted,\n\n613\n00:26:28.882 --> 00:26:30.636\nthere's no way to get to them, right?\n\n614\n00:26:30.636 --> 00:26:31.278\nThat's it.\n>> Instead,\n\n615\n00:26:31.278 --> 00:26:33.533\nif you don't want to mess\nwith recovery agents,\n\n616\n00:26:33.533 --> 00:26:37.570\nwhat you can do is when you terminate an\nemployee, just disable their user account.\n\n617\n00:26:37.570 --> 00:26:39.050\nDon't delete it, right?\n\n618\n00:26:39.050 --> 00:26:43.730\nWhen you disable it, the key they use to\nencrypt is still attached to their account\n\n619\n00:26:43.730 --> 00:26:48.130\nand if you ever come across encrypted\nfiles you can go and change the password\n\n620\n00:26:48.130 --> 00:26:52.150\non the disabled account, re-enable it, and\nyou can login as them and recover data.\n\n621\n00:26:52.150 --> 00:26:56.190\nA lot of people don't do that,\na lot of people just delete the account,\n\n622\n00:26:56.190 --> 00:26:57.570\nand then you're screwed, right?\n\n623\n00:26:57.570 --> 00:26:58.830\nUnless you have a recovery agent.\n\n624\n00:26:58.830 --> 00:27:02.150\nSo after the break we're gonna show you\nguys how to set up a recovery agent, and\n\n625\n00:27:02.150 --> 00:27:05.471\nwe're gonna do it through the Active\nDirectory so it'll be one of those things\n\n626\n00:27:05.471 --> 00:27:08.539\nthat we make a change in one place\nthat applies in hundreds, thousands,\n\n627\n00:27:08.539 --> 00:27:09.424\nwherever, right?\n\n628\n00:27:09.424 --> 00:27:13.430\nSo, we definitely get that much\nmore centralized environment.\n\n629\n00:27:13.430 --> 00:27:14.682\nThings work out a lot better.\n\n630\n00:27:14.682 --> 00:27:17.400\nAll right, Mike,\nthink anything else we should incorporate?\n\n631\n00:27:17.400 --> 00:27:18.670\n>> Nope, I don't think so.\n\n632\n00:27:18.670 --> 00:27:19.830\n>> All right.\nLet's stop here.\n\n633\n00:27:19.830 --> 00:27:20.820\nWe'll take a little break.\n\n634\n00:27:20.820 --> 00:27:23.560\nWhen we get back,\nrecovery agents in a domain.\n\n635\n00:27:23.560 --> 00:27:25.820\nIt's exciting, thrilling, adventuresome.\n\n636\n00:27:25.820 --> 00:27:27.219\nStay tuned, we'll be back.\n\n637\n00:27:27.219 --> 00:27:31.445\n[SOUND] All right,\n\n638\n00:27:31.445 --> 00:27:37.652\nwelcome back everybody.\n\n639\n00:27:37.652 --> 00:27:42.851\nSo, we left off talking about EFS,\nour whole encrypted file system.\n\n640\n00:27:42.851 --> 00:27:46.742\nAnd now we're gonna take a look at kinda\nhow we can manage that in a more corporate\n\n641\n00:27:46.742 --> 00:27:47.507\nenvironment.\n\n642\n00:27:47.507 --> 00:27:51.030\nAn environment where we might have\na centralized CA that we can put to use.\n\n643\n00:27:51.030 --> 00:27:53.460\n>> Yeah, being able to manage\nthose keys a little bit easier,\n\n644\n00:27:53.460 --> 00:27:56.790\nnot having to rely on our end users\ntaking care of their own keys.\n\n645\n00:27:56.790 --> 00:27:59.810\nThe rest running around everybody's\nwork station and do it for them or\n\n646\n00:27:59.810 --> 00:28:03.400\nwriting some kind of scripts and trying\nto figure out how to put that in there.\n\n647\n00:28:04.410 --> 00:28:07.467\n>> So the first thing that we want to\ndo is we wanna do is we want to tell\n\n648\n00:28:07.467 --> 00:28:11.622\nbasically all the machines in our domain,\nhey don't generate your own certificate.\n\n649\n00:28:11.622 --> 00:28:15.176\nReach out to the CA and\nget one from there, all right?\n\n650\n00:28:15.176 --> 00:28:16.801\nUse the CA system.\n\n651\n00:28:16.801 --> 00:28:19.274\nDon't generate a self-sign cuz\nwe don't want to manage it.\n\n652\n00:28:19.274 --> 00:28:22.070\nAnd we can do that easily\nwith a group policy object.\n\n653\n00:28:22.070 --> 00:28:24.463\nSo let me just jump over\nhere to my server and\n\n654\n00:28:24.463 --> 00:28:28.470\nI'm gonna fire up the group\npolicy management console.\n\n655\n00:28:29.790 --> 00:28:31.210\n>> Good old GPMC.\n\n656\n00:28:31.210 --> 00:28:32.870\n>> Yep.\nAnd I'll just create a big one.\n\n657\n00:28:32.870 --> 00:28:34.250\nAnd this is the way I normally do it.\n\n658\n00:28:34.250 --> 00:28:37.052\nI normally just create one\npolicy at the domain level and\n\n659\n00:28:37.052 --> 00:28:39.554\nthen that way I know it\neffects all of my machines,\n\n660\n00:28:39.554 --> 00:28:43.091\neverybody's got the same settings,\nand it's nice and consistent.\n\n661\n00:28:43.091 --> 00:28:49.440\nSo I'm gonna create and link a GPO here\nand I'm gonna call this my EFS policy.\n\n662\n00:28:52.860 --> 00:28:55.060\nAll right, now lets edit that thing.\n\n663\n00:28:58.320 --> 00:29:00.760\nAnd what were gonna do is were\njust gonna go through here and\n\n664\n00:29:00.760 --> 00:29:03.480\nbasically set up certificate\nauto enrollment.\n\n665\n00:29:03.480 --> 00:29:07.270\nNow this won't work if you\ndon't have an enterprise CA, so\n\n666\n00:29:07.270 --> 00:29:08.970\nlike I don't have an enterprise CA here so\n\n667\n00:29:08.970 --> 00:29:12.020\nI'll turn it on, but\nI'm not actually gonna get a cert from it.\n\n668\n00:29:12.020 --> 00:29:14.240\nBut the setting itself\nis buried down in here.\n\n669\n00:29:14.240 --> 00:29:17.968\nLet me see if I can zoom in a bit on this.\n\n670\n00:29:17.968 --> 00:29:19.349\nThere we go.\n\n671\n00:29:19.349 --> 00:29:20.349\nAlright.\n\n672\n00:29:20.349 --> 00:29:22.139\nSo I'm just gonna drill down here and\n\n673\n00:29:22.139 --> 00:29:24.797\nwe're gonna do this under\ncomputer configuration and\n\n674\n00:29:24.797 --> 00:29:29.320\nit's because the computer is actually\nrequesting a certificate on our behalf.\n\n675\n00:29:29.320 --> 00:29:32.460\nAnd so we're just gonna kinda\ndrill down into, let's see,\n\n676\n00:29:32.460 --> 00:29:33.890\nwe're gonna go into Policies.\n\n677\n00:29:34.900 --> 00:29:36.070\nWindows Settings.\n\n678\n00:29:37.570 --> 00:29:38.800\n>> You usually lag for a second.\n\n679\n00:29:38.800 --> 00:29:40.370\n>> Yeah it's gonna think for a minute.\n\n680\n00:29:40.370 --> 00:29:41.120\n>> Security settings.\n\n681\n00:29:43.600 --> 00:29:44.710\n>> And then Public Key.\n\n682\n00:29:44.710 --> 00:29:45.634\n>> Public Keys.\n\n683\n00:29:50.916 --> 00:29:51.555\nAll right.\n\n684\n00:29:51.555 --> 00:29:53.545\nAnd inside a Public Key\nyou're gonna see a lot.\n\n685\n00:29:53.545 --> 00:29:57.617\nNow in the BitLocker episode I came in\nhere for some certificate stuff also, so\n\n686\n00:29:57.617 --> 00:30:00.714\nthat kind of path you guys\nshould already be familiar with.\n\n687\n00:30:00.714 --> 00:30:05.588\nBut I'm gonna dive right here into\nthe encrypting file system, and\n\n688\n00:30:05.588 --> 00:30:10.632\nwhen we get there, what you'll see,\nif I can keep my screen in place,\n\n689\n00:30:10.632 --> 00:30:14.839\nis that right now there's no\nEFS policy defined, right?\n\n690\n00:30:14.839 --> 00:30:18.217\nSo it doesn't have one, so\nI'm just gonna create one, right?\n\n691\n00:30:18.217 --> 00:30:20.478\nAnd you'll see in here where\nyou can add a recovery agent,\n\n692\n00:30:20.478 --> 00:30:22.610\nwhich we haven't really talked about yet.\n\n693\n00:30:22.610 --> 00:30:25.620\nI'm actually going to go down\nhere to Properties first and\n\n694\n00:30:25.620 --> 00:30:28.930\nit's right here that I\nwant you guys to see this.\n\n695\n00:30:28.930 --> 00:30:31.830\nI'm not actually adding a policy yet,\nI'm just pulling up the properties for\n\n696\n00:30:31.830 --> 00:30:32.870\nthis folder.\n\n697\n00:30:32.870 --> 00:30:35.972\nAnd you'll see right now,\nEFS is set to not define.\n\n698\n00:30:35.972 --> 00:30:38.439\nThat means that machines\nhandle it independently, and\n\n699\n00:30:38.439 --> 00:30:40.070\nthat's definitely not what I want.\n\n700\n00:30:40.070 --> 00:30:43.263\nI want to say allow.\n\n701\n00:30:43.263 --> 00:30:45.824\n>> [LAUGH]\n>> I want to allow EFS, and\n\n702\n00:30:45.824 --> 00:30:50.974\nwhen we do that down here we can say go\nahead and encrypt the documents folder\n\n703\n00:30:50.974 --> 00:30:56.270\nby default, or display key backup\nnotifications, things like that.\n\n704\n00:30:56.270 --> 00:30:58.390\nWe can set default settings for EFS, but\n\n705\n00:30:58.390 --> 00:31:02.505\nthe one that's important\nis this certificates one.\n\n706\n00:31:02.505 --> 00:31:08.105\nRight here, we can specify,\nif we have a certificate authority,\n\n707\n00:31:08.105 --> 00:31:12.455\nwe can specify a certificate\ntemplate to use for auto enrollment.\n\n708\n00:31:12.455 --> 00:31:16.177\n>> Yeah, it has our settings that\neverybody uses, like key links and\n\n709\n00:31:16.177 --> 00:31:18.445\nvalidity periods and things like that.\n\n710\n00:31:18.445 --> 00:31:21.187\n>> Yeah, and if you've got a CA,\nyou can just hit Browse here.\n\n711\n00:31:21.187 --> 00:31:23.810\nAnd when you go to Browse,\nit'll look to the CA and\n\n712\n00:31:23.810 --> 00:31:27.434\nit'll give you a list of the certificate\ntemplates that are there and\n\n713\n00:31:27.434 --> 00:31:30.143\nWindows includes a certificate\ntemplate for EFS.\n\n714\n00:31:30.143 --> 00:31:32.512\nWe've already seen that, otherwise\nit wouldn't be able to generate it.\n\n715\n00:31:32.512 --> 00:31:34.458\nAnd then you pick that template.\n\n716\n00:31:34.458 --> 00:31:38.498\nAnd from there when machines come up and\nyou encrypt a file for the first time,\n\n717\n00:31:38.498 --> 00:31:42.289\nwell actually it even does it before then,\nyou'll reach out to the CA and\n\n718\n00:31:42.289 --> 00:31:46.700\nrequest this template right here and\nsay give me one of these certificates.\n\n719\n00:31:46.700 --> 00:31:47.750\nAnd the CA will issue it.\n\n720\n00:31:47.750 --> 00:31:49.708\n>> Should be the next time policy applies.\n\n721\n00:31:49.708 --> 00:31:52.110\n>> Yeah, which, on a work station,\nshould be within 90 minutes.\n\n722\n00:31:52.110 --> 00:31:55.178\nI've done this before where like at\nthe end of the work day I turn it on and\n\n723\n00:31:55.178 --> 00:31:56.559\nwhen you come in in the morning,\n\n724\n00:31:56.559 --> 00:31:59.342\nyou see where you issued thousands\nof certificates overnight.\n\n725\n00:31:59.342 --> 00:32:00.063\nIt's kind of cool.\n\n726\n00:32:00.063 --> 00:32:01.140\n>> Nice.\n\n727\n00:32:01.140 --> 00:32:04.650\n>> Now, one option that I always\npoint out is this guy right here.\n\n728\n00:32:04.650 --> 00:32:08.770\nAllow EFs to generate self-signed\ncertificates when the CA is not available.\n\n729\n00:32:08.770 --> 00:32:09.400\nAll right.\n\n730\n00:32:09.400 --> 00:32:14.060\nIf you leave this on, and somebody's\non a laptop or whatever, then there's\n\n731\n00:32:14.060 --> 00:32:17.860\na possibility they could still encrypt\nthings with a self-signed certificate.\n\n732\n00:32:17.860 --> 00:32:18.970\nI like to turn that off.\n\n733\n00:32:18.970 --> 00:32:20.030\n>> Yeah, probably not what we want.\n\n734\n00:32:20.030 --> 00:32:22.190\nIf we're going through all\nthe trouble of setting up the CA and\n\n735\n00:32:22.190 --> 00:32:26.950\ndo this centrally managed process, then\nwe don't wanna have a couple laptops that\n\n736\n00:32:26.950 --> 00:32:29.070\nhave self-signs that we\ndon't even know about.\n\n737\n00:32:29.070 --> 00:32:30.210\n>> Right, right.\n\n738\n00:32:30.210 --> 00:32:32.610\nYeah, either you get one from the CA or\nyou don't.\n\n739\n00:32:32.610 --> 00:32:34.535\nAnd so if they try and\nencrypt a file, they get an error.\n\n740\n00:32:34.535 --> 00:32:36.530\nIt'll say error contacting server.\n\n741\n00:32:36.530 --> 00:32:40.140\nSo you want to make sure they\nuse that centralized one.\n\n742\n00:32:40.140 --> 00:32:44.060\nSo if we have a CA, just browsing\nright here and picking that template,\n\n743\n00:32:44.060 --> 00:32:46.300\nthat EFS template out of there,\nthat takes care of it.\n\n744\n00:32:46.300 --> 00:32:49.550\nAnd now we're auto enrolling our people,\nall right.\n\n745\n00:32:49.550 --> 00:32:51.610\nNow, that's stage one.\n\n746\n00:32:51.610 --> 00:32:55.510\nIf we stop right there,\npeople are auto enrolling.\n\n747\n00:32:55.510 --> 00:32:58.420\nI know their certificates are backed up\nbecause now their certificate is stored\n\n748\n00:32:58.420 --> 00:33:02.300\non their machine as well as in the CA,\nso now I've got two copies.\n\n749\n00:33:02.300 --> 00:33:05.160\nAnd if your template is set to publish\nto the Active Directory, the search\n\n750\n00:33:05.160 --> 00:33:07.780\nmight be in the Active Directory also,\nso they could be in three places.\n\n751\n00:33:07.780 --> 00:33:09.010\nThat happens.\n\n752\n00:33:09.010 --> 00:33:12.770\nBut we normally wanna go one step further.\n\n753\n00:33:12.770 --> 00:33:19.950\nAnd that is way back here, if I\nright-click on the Encrypting File System,\n\n754\n00:33:19.950 --> 00:33:24.220\nI'll see where we can add or\ncreate a data recovery agent.\n\n755\n00:33:24.220 --> 00:33:24.810\nAll right?\n\n756\n00:33:24.810 --> 00:33:27.490\nSo what is that talking about?\n\n757\n00:33:27.490 --> 00:33:31.160\n>> Yeah, that's the guy, so with the data\nrecovery agent, he's one that can go in,\n\n758\n00:33:31.160 --> 00:33:34.890\nhe gets a key assigned to him just for\nthis purpose, and then he,\n\n759\n00:33:34.890 --> 00:33:36.900\nevery time somebody encrypts a file,\n\n760\n00:33:38.010 --> 00:33:40.972\nthey're the only ones that\nare authorized to decrypt that file.\n\n761\n00:33:40.972 --> 00:33:45.690\nIf I've got a data recovery agent,\nit's also going to encrypt a copy of\n\n762\n00:33:45.690 --> 00:33:49.160\nthe file encryption key, that's the\nsymmetric key that actually does the work.\n\n763\n00:33:49.160 --> 00:33:54.340\nIt's gonna encrypt a copy with\nthe data recovery agent's public key.\n\n764\n00:33:54.340 --> 00:33:58.920\nSo then if you lose your key,\nhe can go in, or her could go in and\n\n765\n00:33:58.920 --> 00:34:01.280\nrecover that file for you,\nusing their own keys.\n\n766\n00:34:01.280 --> 00:34:03.380\nIt does have to be somebody you trust,\nright?\n\n767\n00:34:03.380 --> 00:34:06.080\nNot too many people are gonna know\nthe user name and password, or\n\n768\n00:34:06.080 --> 00:34:08.237\nat least the password to\nlog on as a recovery agent.\n\n769\n00:34:08.237 --> 00:34:11.949\nCuz then at that point, from this point\non, once you assign him as the recovery\n\n770\n00:34:11.949 --> 00:34:15.284\nagent, they can decrypt anything\nthat was encrypted on the network.\n\n771\n00:34:15.284 --> 00:34:16.000\n>> Yep.\n\n772\n00:34:16.000 --> 00:34:18.330\nAnd you can have more\nthan one recovery agent.\n\n773\n00:34:18.330 --> 00:34:22.150\nSo what you would do is basically\nlike Mike and I would log in and\n\n774\n00:34:22.150 --> 00:34:25.130\nwhen we log in, we would auto enroll and\nget our own certificates.\n\n775\n00:34:25.130 --> 00:34:29.370\nAnd then we would export our\ncertificates and add them right here.\n\n776\n00:34:29.370 --> 00:34:34.490\nAdd a data recovery agent, which would\nlet us import our certs into this policy.\n\n777\n00:34:34.490 --> 00:34:35.830\nAnd once that's done,\n\n778\n00:34:35.830 --> 00:34:38.790\nthat setting gets pushed out to\nall the machines in the domain.\n\n779\n00:34:38.790 --> 00:34:41.940\nAnd so now all the machines in\nthe domain would recognize that Mike and\n\n780\n00:34:41.940 --> 00:34:42.860\nI are recovery agents.\n\n781\n00:34:42.860 --> 00:34:45.280\nWe're allowed to decrypt those files,\n\n782\n00:34:45.280 --> 00:34:48.050\neven though we weren't the people\nwho encrypted them, right?\n\n783\n00:34:48.050 --> 00:34:51.430\nThis is designed to be that last-ditch\n\n784\n00:34:51.430 --> 00:34:54.115\neffort to get at these files to\ngive you that consistent one.\n\n785\n00:34:54.115 --> 00:34:57.060\nBut the security risk is so great.\n\n786\n00:34:57.060 --> 00:35:00.250\nIf somebody gets a hold of this account,\nthey can access everything that\n\n787\n00:35:00.250 --> 00:35:03.730\nyou don't wanna just make all\nyou domain admins or whatever.\n\n788\n00:35:03.730 --> 00:35:07.790\nNormally what you'll do is you'll add\na certificate here and then you'll export\n\n789\n00:35:07.790 --> 00:35:11.220\nthat certificate from wherever it came\nfrom and delete it from that machine, and\n\n790\n00:35:11.220 --> 00:35:15.150\nstore the certificate on a disk,\nput it in a vault, or whatever.\n\n791\n00:35:15.150 --> 00:35:19.690\nAnd when you need it, you go get it out of\nthe vault, you install it, you use it, and\n\n792\n00:35:19.690 --> 00:35:22.490\nthen you export it, deleting the source,\nlike Mike was talking about earlier,\n\n793\n00:35:22.490 --> 00:35:23.690\nto get rid of it.\n\n794\n00:35:23.690 --> 00:35:24.770\nAnd off you go.\n\n795\n00:35:24.770 --> 00:35:27.130\nSo it is a very sensitive thing.\n\n796\n00:35:27.130 --> 00:35:27.700\n>> Absolutely.\n\n797\n00:35:27.700 --> 00:35:31.750\n>> But that's what a recovery agent is and\nin Windows 7 and earlier,\n\n798\n00:35:31.750 --> 00:35:35.560\nrecovery agents were created automatically\non the workstations and servers.\n\n799\n00:35:35.560 --> 00:35:40.450\nIn Windows 8 and Windows server 2012, it's\nnot and this is the way that we do it.\n\n800\n00:35:40.450 --> 00:35:42.474\nBut you can add it on\nan individual machine, but\n\n801\n00:35:42.474 --> 00:35:45.390\nthen you're just a recovery agent for\nthat one machine.\n\n802\n00:35:45.390 --> 00:35:47.440\nDoing it here makes you\na recovery agent for\n\n803\n00:35:47.440 --> 00:35:50.540\nthe entire domain and\nthat's normally what you do.\n\n804\n00:35:51.540 --> 00:35:55.634\n>> That way you've always got that, like\nDon said, that fail safe, somebody to fall\n\n805\n00:35:55.634 --> 00:35:59.436\nback to so if that user had lost their\nkey and hadn't backed it up, I still have\n\n806\n00:35:59.436 --> 00:36:03.205\nsomebody that can go in and recover\nthose files, so we're not totally SOL.\n\n807\n00:36:03.205 --> 00:36:05.425\nWhen they fire me and\nI say, you know what,\n\n808\n00:36:05.425 --> 00:36:08.753\nI'm gonna encrypt all the files I\ncan get to before I get fired and\n\n809\n00:36:08.753 --> 00:36:13.028\nthen delete my profile, you guys can still\ngo in and recover all those documents.\n\n810\n00:36:13.028 --> 00:36:16.962\n>> Yep, one other thing worth mentioning,\nI think I did mention this in brief,\n\n811\n00:36:16.962 --> 00:36:20.288\nis when we add a recovery agent,\nyou can choose browse folders and\n\n812\n00:36:20.288 --> 00:36:24.039\nbrowse to find their certificate that\nyou exported, so I could browse and\n\n813\n00:36:24.039 --> 00:36:26.570\npick that one that we exported earlier.\n\n814\n00:36:26.570 --> 00:36:31.530\nIt does want the CER, not the PFX,\nso I'll pick that CER.\n\n815\n00:36:31.530 --> 00:36:36.670\nAnd, so we can import it, so here it is,\nthat administrator that I'm importing.\n\n816\n00:36:36.670 --> 00:36:39.890\nBut the other thing is you can\nactually browse the Active Directory.\n\n817\n00:36:39.890 --> 00:36:43.380\nIf you've chosen to make the certificates\nbe published into the Active Directory,\n\n818\n00:36:43.380 --> 00:36:44.480\nwhich is usually a pretty good idea.\n\n819\n00:36:44.480 --> 00:36:45.710\n>> Which it would, yeah,\nif it's Enterprise.\n\n820\n00:36:45.710 --> 00:36:48.996\n>> You can pick it right from the AD,\nso you don't even need the export file,\n\n821\n00:36:48.996 --> 00:36:50.006\nit's already there.\n\n822\n00:36:50.006 --> 00:36:51.587\nAnd we can finish that and\n\n823\n00:36:51.587 --> 00:36:55.800\nnow I've got administrator right\nhere as a file recovery key.\n\n824\n00:36:55.800 --> 00:36:56.460\nAll right.\n\n825\n00:36:56.460 --> 00:36:59.970\nAnd then I could continue to\nadd more if I needed them and\n\n826\n00:36:59.970 --> 00:37:03.240\nthat can be useful cuz if you do\na shared key and it gets compromised,\n\n827\n00:37:03.240 --> 00:37:04.560\nit's compromised for everybody.\n\n828\n00:37:04.560 --> 00:37:06.600\nIf you do different keys for\ndifferent admins, and\n\n829\n00:37:06.600 --> 00:37:10.060\none person's gets compromised,\nyou just cancel that one and replace it.\n\n830\n00:37:10.060 --> 00:37:11.210\nYou don't have to cancel them all.\n\n831\n00:37:11.210 --> 00:37:11.710\n>> Nice.\n\n832\n00:37:12.850 --> 00:37:14.410\n>> So that's a recovery agent.\n\n833\n00:37:14.410 --> 00:37:15.800\nThey're pretty easy to use.\n\n834\n00:37:15.800 --> 00:37:18.360\nThe hard thing here is just\nthat it's not done by default.\n\n835\n00:37:18.360 --> 00:37:21.610\nA lot of us got used to that\nhappening automatically in the past.\n\n836\n00:37:21.610 --> 00:37:25.280\n>> Get a little lazy and\nexpect it to happen, and go oops!\n\n837\n00:37:25.280 --> 00:37:26.740\n[LAUGH]\n>> I think what Microsoft found was\n\n838\n00:37:26.740 --> 00:37:30.580\nprobably a lot of companies were not\nsecuring their recovery agent key, and so\n\n839\n00:37:30.580 --> 00:37:31.370\nthey said you know what?\n\n840\n00:37:31.370 --> 00:37:33.010\nWe'll just not make it available.\n\n841\n00:37:33.010 --> 00:37:36.660\n>> And by default it was that built-in\nadministrator account which a lot of times\n\n842\n00:37:36.660 --> 00:37:39.530\nmost of your IT guys know that\nusername and password, right?\n\n843\n00:37:39.530 --> 00:37:42.410\nSo anybody could have logged\nin as the recovery agent.\n\n844\n00:37:42.410 --> 00:37:44.310\nYou had to go in and change it.\n\n845\n00:37:44.310 --> 00:37:47.190\nAnd the other problem was\nif you didn't do that,\n\n846\n00:37:47.190 --> 00:37:50.460\nlet's say you did that three\nmonths after you set up a CA.\n\n847\n00:37:50.460 --> 00:37:53.120\nWell, the domain admin is\nstill the recovery agent for\n\n848\n00:37:53.120 --> 00:37:56.500\nanything that was encrypted for the first\nthree months before you switched it over.\n\n849\n00:37:56.500 --> 00:37:58.375\nSo now you've gotta go\ndecrypt everything and\n\n850\n00:37:58.375 --> 00:38:02.250\nre-encrypt everything to switch\nwho the recovery agent is or\n\n851\n00:38:02.250 --> 00:38:05.190\nkeep that domain admin recovery\nagent certificate just in case.\n\n852\n00:38:05.190 --> 00:38:06.650\n>> You know, that's another great point.\n\n853\n00:38:06.650 --> 00:38:09.610\nThese keys are attached at\nthe time of encryption.\n\n854\n00:38:09.610 --> 00:38:13.890\nIf you change these keys, it does not\ntake effect until a re-encrypt happens.\n\n855\n00:38:13.890 --> 00:38:17.760\n>> So never, ever delete one of your\nrecovery agent certificates until you're,\n\n856\n00:38:17.760 --> 00:38:18.910\nwell, just never delete it.\n\n857\n00:38:18.910 --> 00:38:20.440\n>> Until you're absolutely sure.\n\n858\n00:38:20.440 --> 00:38:22.480\n>> Put it in the vault, whatever, yeah.\n\n859\n00:38:22.480 --> 00:38:24.600\n>> Yep, yeah, that is a tricky one, and\n\n860\n00:38:24.600 --> 00:38:27.710\nso that's definitely something\nwe wanna be aware of.\n\n861\n00:38:27.710 --> 00:38:31.400\nWith BitLocker, we encrypt the machines,\nwe can always export the keys there,\n\n862\n00:38:31.400 --> 00:38:32.690\nback them up, whatever.\n\n863\n00:38:32.690 --> 00:38:35.860\nIf you're using network unlock,\nit becomes even less of an issue.\n\n864\n00:38:35.860 --> 00:38:38.302\nThis is kind of like network unlock but\nfor EFS.\n\n865\n00:38:38.302 --> 00:38:39.962\nYou have a recovery agent that can do it.\n\n866\n00:38:39.962 --> 00:38:40.567\n>> Right.\n\n867\n00:38:40.567 --> 00:38:45.408\n>> All right, so Mike, I think that's\npretty much all we've got on EFS, right?\n\n868\n00:38:45.408 --> 00:38:48.020\n>> Yeah, that covers most of it, I think.\n\n869\n00:38:48.020 --> 00:38:48.590\n>> I'm trying to think.\n\n870\n00:38:48.590 --> 00:38:49.649\n>> We'll do our, when we get into 412,\n\n871\n00:38:49.649 --> 00:38:52.990\nwe'll get in a little more deeper into\nthe certificate authority itself and\n\n872\n00:38:52.990 --> 00:38:55.220\nwe'll get into something\ncalled a key recovery agent,\n\n873\n00:38:55.220 --> 00:38:57.979\nwhich is pretty darn cool there,\nbut we'll save that.\n\n874\n00:38:57.979 --> 00:38:59.257\n>> [LAUGH] That's a good time.\n\n875\n00:38:59.257 --> 00:39:00.310\nAll right.\n\n876\n00:39:00.310 --> 00:39:05.710\nWell, the next thing on our\nagenda are our audit policies.\n\n877\n00:39:05.710 --> 00:39:09.005\nAnd we've talked about file and\nevent auditing in the past,\n\n878\n00:39:09.005 --> 00:39:12.160\nfrom a standpoint of\nbasically just turning it on.\n\n879\n00:39:12.160 --> 00:39:15.120\nWe wanna take a look at a few\ndifferent concepts related to how we\n\n880\n00:39:15.120 --> 00:39:16.692\nmanage that auditing system.\n\n881\n00:39:16.692 --> 00:39:20.010\n>> Yeah, and it's changed over\nthe last couple editions of Windows.\n\n882\n00:39:20.010 --> 00:39:24.345\nYou know, before 2008, I think we had\nnine audit policies we could work with.\n\n883\n00:39:24.345 --> 00:39:26.121\nNow we're up to 53.\n\n884\n00:39:26.121 --> 00:39:29.073\n>> You can never have too many,\nthat's what I would say.\n\n885\n00:39:29.073 --> 00:39:32.371\n[LAUGH] All right, well,\nlet's do a quick refresher,\n\n886\n00:39:32.371 --> 00:39:34.458\nknock the cobwebs out of our mind.\n\n887\n00:39:34.458 --> 00:39:39.048\nAudit policies, if you don't remember,\nyou may have a need\n\n888\n00:39:39.048 --> 00:39:43.917\nin your network to keep a record\nof who performed an action when.\n\n889\n00:39:43.917 --> 00:39:44.500\nRight?\n\n890\n00:39:44.500 --> 00:39:50.120\nSo if I need to keep a record of who read\nthis file, or who printed to this printer,\n\n891\n00:39:50.120 --> 00:39:55.760\nwho shut this machine down, who changed\nthe system clock, and when they did it.\n\n892\n00:39:55.760 --> 00:39:56.920\nThat kind of stuff.\n\n893\n00:39:56.920 --> 00:39:59.140\nIf you need to keep records like that,\n\n894\n00:39:59.140 --> 00:40:01.910\nWindows has an auditing\nsystem built-in that does it.\n\n895\n00:40:01.910 --> 00:40:04.830\nThe audit records are just\nrecording those events and\n\n896\n00:40:04.830 --> 00:40:07.990\nit stores them in the event log database\nand we can go back and look at it and\n\n897\n00:40:07.990 --> 00:40:11.610\nit's a pain in the butt to read, but the\ndata is there if you know how to find it.\n\n898\n00:40:11.610 --> 00:40:13.910\n>> And usually we do need to\ntrack that kind of stuff.\n\n899\n00:40:13.910 --> 00:40:18.410\nIt might be industry regulations that are\ntelling me that I've gotta prove access or\n\n900\n00:40:18.410 --> 00:40:21.510\nblocking access or\ncould be governmental regulations,\n\n901\n00:40:21.510 --> 00:40:22.800\ncould be just corporate regulations.\n\n902\n00:40:22.800 --> 00:40:26.490\nOur security policy says, hey,\nwe need to know any time somebody\n\n903\n00:40:26.490 --> 00:40:30.820\ntries to make changes to the files and the\npayroll system, or something like that.\n\n904\n00:40:30.820 --> 00:40:35.890\nSo auditing gives us that ability to track\nnot only who succeeds in making changes or\n\n905\n00:40:35.890 --> 00:40:37.660\ndoing something, but who doesn't succeed.\n\n906\n00:40:37.660 --> 00:40:40.550\nYou know we can choose success or\nfailure when we audit.\n\n907\n00:40:40.550 --> 00:40:42.500\n>> Yeah and you know that success and\nfailure thing.\n\n908\n00:40:42.500 --> 00:40:46.850\nSuccess, that means somebody was\nable to perform certain action.\n\n909\n00:40:46.850 --> 00:40:50.520\nFailure means that they were stopped,\nthey weren't able to perform that action.\n\n910\n00:40:50.520 --> 00:40:52.820\nAnd I know a lot of people when\nthey do auditing, they say well,\n\n911\n00:40:52.820 --> 00:40:53.900\nI need to audit failures.\n\n912\n00:40:53.900 --> 00:40:56.320\nI need to see where somebody tried\nto do something and got stopped.\n\n913\n00:40:56.320 --> 00:40:59.350\nBut the reality is,\nthat means your system worked as expected.\n\n914\n00:40:59.350 --> 00:41:03.960\nSomebody tried to do something they\nweren't allowed to and they got stopped.\n\n915\n00:41:03.960 --> 00:41:07.380\nWhat's more important is\nthe monitor successes.\n\n916\n00:41:07.380 --> 00:41:10.200\nWhen somebody tries to do something and\nit works.\n\n917\n00:41:10.200 --> 00:41:11.280\n>> Yeah.\n\n918\n00:41:11.280 --> 00:41:13.370\nThey tried to delete a file and it worked.\n\n919\n00:41:13.370 --> 00:41:14.090\nThey deleted it.\n\n920\n00:41:14.090 --> 00:41:17.250\nThat's more important than if somebody\ntried to delete a file and it failed.\n\n921\n00:41:17.250 --> 00:41:19.640\n>> I always use an example of somebody\nlogging in in the middle of the night.\n\n922\n00:41:19.640 --> 00:41:21.330\nLet's say you've got a cleaning\ncrew that comes in and\n\n923\n00:41:21.330 --> 00:41:22.480\nthey're doing password guessing.\n\n924\n00:41:22.480 --> 00:41:25.940\nSo you're auditing logon attempts or\naccount logon attempts.\n\n925\n00:41:25.940 --> 00:41:28.940\nAnd so at 1 o'clock in the morning you\nsee failed attempt, failed attempt,\n\n926\n00:41:28.940 --> 00:41:32.230\nfailed attempt, failed attempt, failed\nattempt and all of a sudden it stops.\n\n927\n00:41:32.230 --> 00:41:33.640\nThere are no more failed attempts.\n\n928\n00:41:33.640 --> 00:41:34.500\nBut does that mean they gave up?\n\n929\n00:41:34.500 --> 00:41:37.290\nDoes somebody walk in on them and\nthey left?\n\n930\n00:41:37.290 --> 00:41:39.485\nOr did they succeed and\nthey actually logged in.\n\n931\n00:41:39.485 --> 00:41:41.500\n[CROSSTALK] If you're not auditing\nsuccess, you're not going to know.\n\n932\n00:41:41.500 --> 00:41:42.290\n>> Yeah.\n\n933\n00:41:42.290 --> 00:41:45.690\nSo just keep in mind,\nno two environments are the same.\n\n934\n00:41:45.690 --> 00:41:48.640\nSo you know, your needs as far as auditing\n\n935\n00:41:48.640 --> 00:41:50.640\nconcerns is probably going to\nbe different than anybody elses.\n\n936\n00:41:50.640 --> 00:41:54.750\nSo you have to evaluate your organization\nand kind of see what you need.\n\n937\n00:41:54.750 --> 00:41:56.060\n>> It does take a lot of planning.\n\n938\n00:41:56.060 --> 00:41:58.260\nIt's really easy to override it.\n\n939\n00:41:58.260 --> 00:42:00.350\nAnd get too much information\nin the log files.\n\n940\n00:42:00.350 --> 00:42:03.430\nAnd then it becomes difficult\nto find the important stuff.\n\n941\n00:42:03.430 --> 00:42:06.350\n>> Now in the 7410 show,\nwe showed auditing and\n\n942\n00:42:06.350 --> 00:42:08.780\nwe showed configuring\nit on a single machine.\n\n943\n00:42:08.780 --> 00:42:10.210\nBut again in 7411 fashion,\n\n944\n00:42:10.210 --> 00:42:13.420\nwe're going to take a look at\nthe more advanced side of things.\n\n945\n00:42:13.420 --> 00:42:16.200\nHow do you manage auditing\nfrom a domain level, right?\n\n946\n00:42:16.200 --> 00:42:18.868\n>> Yeah.\n>> And we can create a group policy object\n\n947\n00:42:18.868 --> 00:42:23.500\nthat sets and controls that for us so that\nwe can insure things work as expected.\n\n948\n00:42:23.500 --> 00:42:25.040\n>> Absolutely, absolutely.\n\n949\n00:42:25.040 --> 00:42:27.695\n>> What I'm going to do is I'm\ngoing to whip up another GPO here,\n\n950\n00:42:27.695 --> 00:42:29.290\nbecause you can never have too many.\n\n951\n00:42:29.290 --> 00:42:31.870\n>> That's right,\nwell unless you're Jay Perky.\n\n952\n00:42:31.870 --> 00:42:35.790\n>> Yeah, Jay like to keep\nit all in one gigantic GPO.\n\n953\n00:42:35.790 --> 00:42:38.640\nI like to do purpose driven GPOs, so\n\n954\n00:42:38.640 --> 00:42:41.410\ndifferent schools out thought\nout there on that one.\n\n955\n00:42:41.410 --> 00:42:44.430\nSo I'll go ahead and create one here\nwhich I'm gonna call my audit policy.\n\n956\n00:42:45.880 --> 00:42:47.500\nAnd you might have different ones,\n\n957\n00:42:47.500 --> 00:42:50.350\nthis might be my marketing audit policy or\nwhatever.\n\n958\n00:42:50.350 --> 00:42:54.880\nThere might be other qualifiers there but\nI'll just call it my marketing policy.\n\n959\n00:42:54.880 --> 00:42:57.960\nOr my audit policy,\nsee I don't even know one of my problems.\n\n960\n00:42:57.960 --> 00:43:00.020\n>> You might have one that you\nattach to the file server so\n\n961\n00:43:00.020 --> 00:43:02.040\nyou can do certain auditing there.\n\n962\n00:43:02.040 --> 00:43:04.620\nAnother one that you attach\nto the print servers show you\n\n963\n00:43:04.620 --> 00:43:08.622\nthat you audit your printing jobs and\nthings like that so.\n\n964\n00:43:08.622 --> 00:43:12.750\n>> All right, well, I'm just going\nto dive right in here and you know,\n\n965\n00:43:12.750 --> 00:43:16.590\nthe audit policies when we set this up,\nwe've got a lot of different values in\n\n966\n00:43:16.590 --> 00:43:19.390\nhere that we configure and\nset up and tweak and stuff so\n\n967\n00:43:19.390 --> 00:43:22.370\nlet's just kind of browse through\nsome of these to refresh ourselves.\n\n968\n00:43:22.370 --> 00:43:25.080\nI'm going to go under computer\nconfiguration and policies.\n\n969\n00:43:25.080 --> 00:43:27.940\nAnd it's another one that's done\nunder computer configuration.\n\n970\n00:43:27.940 --> 00:43:29.060\nNot under user.\n\n971\n00:43:29.060 --> 00:43:31.600\nAnd that's because it's\nthe computer that's actually\n\n972\n00:43:31.600 --> 00:43:35.490\ndoing the auditing independently\nof what user is logged in.\n\n973\n00:43:35.490 --> 00:43:38.890\nSo I'll browse right back\nin to Windows settings and\n\n974\n00:43:38.890 --> 00:43:43.150\nsecurity settings and my local policies.\n\n975\n00:43:44.300 --> 00:43:46.590\nAnd that's where we'll\nfind out audit policy.\n\n976\n00:43:46.590 --> 00:43:50.000\n>> These are the old school,\nthese guys have been around, I think,\n\n977\n00:43:50.000 --> 00:43:55.010\nsince 2000 again so this is the nine basic\ncategories of auditing that we can do.\n\n978\n00:43:55.010 --> 00:43:59.280\n>> You know, when I think of auditing,\nI immediately think of object access.\n\n979\n00:43:59.280 --> 00:44:01.450\nThat's just what always pops into my mind,\nthat one,\n\n980\n00:44:01.450 --> 00:44:03.780\nI don't even think about the other ones.\n\n981\n00:44:03.780 --> 00:44:07.550\nBut there are nine\ndifferent audit categories.\n\n982\n00:44:07.550 --> 00:44:08.810\n>> Some are good ones.\n\n983\n00:44:08.810 --> 00:44:10.815\n>> Some are good,\nsome are kind of pointless.\n\n984\n00:44:10.815 --> 00:44:13.880\n>> [LAUGHS]\n>> Let's run down the list of these guys\n\n985\n00:44:13.880 --> 00:44:16.480\nand kind of cover what each one is and\ndoes.\n\n986\n00:44:16.480 --> 00:44:19.540\nI'm going to cover two at once actually.\n\n987\n00:44:19.540 --> 00:44:22.870\nThe very first one is Audit\naccount logon events.\n\n988\n00:44:22.870 --> 00:44:25.060\nAnd the fourth one is Audit logon events.\n\n989\n00:44:25.060 --> 00:44:26.890\n>> This is the one that usually\nthrows people for a loop.\n\n990\n00:44:26.890 --> 00:44:31.460\nThey're like, wait, what's the difference\nhere between account logon and logon?\n\n991\n00:44:31.460 --> 00:44:32.950\n>> It's a great one to put on the exam.\n\n992\n00:44:32.950 --> 00:44:33.830\n>> Yes, it is.\n\n993\n00:44:33.830 --> 00:44:36.350\n>> Because it confuses you and\nyou mix them up.\n\n994\n00:44:36.350 --> 00:44:44.375\nSo, a Count logon events that is, anytime\nthe computer has to authenticate a user.\n\n995\n00:44:44.375 --> 00:44:46.525\nSo that means if you're\nlogging in locally,\n\n996\n00:44:46.525 --> 00:44:49.915\nif you're coming in over the network,\nif you're accessing a file share or\n\n997\n00:44:49.915 --> 00:44:53.140\nif you're browsing around on the hard\ndrive into a different locations,\n\n998\n00:44:53.140 --> 00:45:00.518\nanytime it has to authenticate you, it's\ngonna turn up in account logon events.\n\n999\n00:45:00.518 --> 00:45:01.830\nSo Account logon,\n\n1000\n00:45:01.830 --> 00:45:05.752\nthat was just any time we authenticated\npeople, even over the network.\n\n1001\n00:45:05.752 --> 00:45:10.340\nLogon events, that's when somebody\nsits down in front of that computer,\n\n1002\n00:45:10.340 --> 00:45:12.206\nor remote desktops counts here too and\n\n1003\n00:45:12.206 --> 00:45:15.830\npresses Ctrl+Alt+Delete,\ntypes in a user name and password.\n\n1004\n00:45:15.830 --> 00:45:18.780\nActually logging in\nlocally to that machine.\n\n1005\n00:45:18.780 --> 00:45:20.530\nThat's when this one gets tripped.\n\n1006\n00:45:20.530 --> 00:45:23.100\n>> That's an important distinction\nbecause we gotta know which,\n\n1007\n00:45:23.100 --> 00:45:25.400\nin this case I think you scoped\nthe policy to the domain.\n\n1008\n00:45:25.400 --> 00:45:26.500\nSo it's gonna cover everything.\n\n1009\n00:45:26.500 --> 00:45:29.330\nBut a lot of times we're scoping\nit a little more specific.\n\n1010\n00:45:29.330 --> 00:45:33.170\nAnd the way I like to look at\nthe difference in those is Account logon,\n\n1011\n00:45:33.170 --> 00:45:36.630\nthat event fires on the machine\nthat does the authentication.\n\n1012\n00:45:36.630 --> 00:45:41.390\nSo if you're logging with a local account,\nthen you're loosing the local SAM file,\n\n1013\n00:45:41.390 --> 00:45:43.110\nthe Security Account Manager\non that machine.\n\n1014\n00:45:43.110 --> 00:45:46.450\nThe account login event is\ngonna occur on that machine.\n\n1015\n00:45:46.450 --> 00:45:48.670\nIf you're logging on\nwith a domain account,\n\n1016\n00:45:48.670 --> 00:45:50.930\nthen your credentials are being\nsent over the domain controller.\n\n1017\n00:45:50.930 --> 00:45:53.510\nThe domain controller is\ndoing the authentication.\n\n1018\n00:45:53.510 --> 00:45:55.870\nThe account logon event's\ngonna be fired there.\n\n1019\n00:45:55.870 --> 00:45:59.360\nThe logon event occurs wherever you're at.\n\n1020\n00:45:59.360 --> 00:46:04.180\nSo if I sit at my machine and it's a local\nmachine, I login with a local account.\n\n1021\n00:46:04.180 --> 00:46:05.880\nThen this machine is\ngoing to register both.\n\n1022\n00:46:05.880 --> 00:46:09.140\nAn account logon event because\nhe's doing the verification, and\n\n1023\n00:46:09.140 --> 00:46:11.960\na logon event because this\nis where I'm logging on.\n\n1024\n00:46:11.960 --> 00:46:15.350\nIf I logon with a domain account, my\ncredentials are being sent over the domain\n\n1025\n00:46:15.350 --> 00:46:19.250\ncontroller, the account logon event\nwould be fired on the domain controller,\n\n1026\n00:46:19.250 --> 00:46:22.543\nthe logon event would be fired again\non my machine that I'm logging on.\n\n1027\n00:46:24.652 --> 00:46:27.570\n>> All right, so those are the two\nthat are the easiest to confuse.\n\n1028\n00:46:27.570 --> 00:46:30.360\nThe rest of them are all\npretty straightforward, right?\n\n1029\n00:46:30.360 --> 00:46:34.950\nAccount management,\nthat's anytime we modify a user a account.\n\n1030\n00:46:34.950 --> 00:46:38.410\nChange a password, add ' to a group,\nremove ' from a group,\n\n1031\n00:46:38.410 --> 00:46:41.180\nrename, any action we\nperform on a user account.\n\n1032\n00:46:43.450 --> 00:46:44.990\nDirectory service access?\n\n1033\n00:46:44.990 --> 00:46:47.860\n>> I'm going to guess that's when\nyou access directory service, but\n\n1034\n00:46:47.860 --> 00:46:48.820\nI could be wrong.\n\n1035\n00:46:48.820 --> 00:46:49.741\n>> I think you got it spot on, right?\n\n1036\n00:46:49.741 --> 00:46:52.340\n>> [LAUGH]\n>> So any time we do a query against\n\n1037\n00:46:52.340 --> 00:46:55.590\nthe active directory, and\nthis includes creating objects.\n\n1038\n00:46:55.590 --> 00:46:59.370\nSo if you create a user, create a group,\ncreate a computer, that kind of stuff.\n\n1039\n00:46:59.370 --> 00:47:01.130\nBut also just any time you do a read.\n\n1040\n00:47:01.130 --> 00:47:03.050\n>> Say I'm browsing for\na user's certificate so\n\n1041\n00:47:03.050 --> 00:47:05.070\nI can share it an encrypted file\nwith them or something like that.\n\n1042\n00:47:05.070 --> 00:47:06.670\nI'm accessing my directory services.\n\n1043\n00:47:06.670 --> 00:47:07.410\n>> Yeah, absolutely.\n\n1044\n00:47:08.780 --> 00:47:13.270\nNow, object access,\nthat is the one that I always go for.\n\n1045\n00:47:13.270 --> 00:47:17.032\nSo this is, I'll do it Mike style, this\nis any time somebody accesses an object.\n\n1046\n00:47:17.032 --> 00:47:19.540\n[LAUGH]\n>> [LAUGH] I love it when you can define\n\n1047\n00:47:19.540 --> 00:47:21.300\nthings just by rearranging the words.\n\n1048\n00:47:21.300 --> 00:47:22.328\nYeah, that's great, isn't it?\n\n1049\n00:47:22.328 --> 00:47:25.080\n>> [LAUGH] So\nthis is what we use when we want to audit.\n\n1050\n00:47:25.080 --> 00:47:28.900\nWhether somebody read from a file,\nwrote to a file,\n\n1051\n00:47:28.900 --> 00:47:32.280\ndeleted a file,\nchanged a file or a printer.\n\n1052\n00:47:32.280 --> 00:47:33.170\n>> Or folder, right?\n\n1053\n00:47:33.170 --> 00:47:35.433\n>> Or a folder, yep,\na folder file printer, right,\n\n1054\n00:47:35.433 --> 00:47:36.708\nthose are our main objects.\n\n1055\n00:47:36.708 --> 00:47:40.133\nSo any access on those,\nyou send a print job, cancel a print job,\n\n1056\n00:47:40.133 --> 00:47:44.245\ncreate a subfolder, whatever,\nobject access can pick those up.\n\n1057\n00:47:44.245 --> 00:47:44.792\nAll right.\n\n1058\n00:47:44.792 --> 00:47:48.960\nThis is also the only one that if you turn\nit on, it actually Actually does nothing.\n\n1059\n00:47:48.960 --> 00:47:49.500\n>> Yeah.\n[LAUGH]\n\n1060\n00:47:49.500 --> 00:47:51.641\n>> Cuz you've got to go to the object and\n\n1061\n00:47:51.641 --> 00:47:52.960\nturn it on there also.\n\n1062\n00:47:52.960 --> 00:47:54.930\n>> Yeah.\n>> All of the other ones if you turn them\n\n1063\n00:47:54.930 --> 00:47:56.820\non, they immediately start logging events.\n\n1064\n00:47:56.820 --> 00:47:58.360\nObject access is the one\nyou have to go further on.\n\n1065\n00:47:58.360 --> 00:47:59.590\n>> Yeah, definitely a two part process.\n\n1066\n00:47:59.590 --> 00:48:02.300\nBecause it doesn't just start auditing\nevery single object you have.\n\n1067\n00:48:02.300 --> 00:48:06.890\nYou're gonna turn on the ability to\naudit objects on the server that you\n\n1068\n00:48:06.890 --> 00:48:11.900\nscoped the GPO to, but then you gotta\ntell it which specific objects you want.\n\n1069\n00:48:11.900 --> 00:48:14.657\nSo to audit, and\nyou do that through the SACL,\n\n1070\n00:48:14.657 --> 00:48:17.665\nthrough the system access control list,\nright?\n\n1071\n00:48:17.665 --> 00:48:18.590\n>> [LAUGH] You'll be a SACL.\n\n1072\n00:48:18.590 --> 00:48:20.757\n>> I know,\nI can't say that without chuckling.\n\n1073\n00:48:20.757 --> 00:48:22.224\n[LAUGH]\n>> [LAUGH]\n\n1074\n00:48:22.224 --> 00:48:24.645\n>> Gotta go add you to the SACL.\n\n1075\n00:48:24.645 --> 00:48:30.060\n>> [LAUGH] All right,\nthe next one is audit policy change.\n\n1076\n00:48:30.060 --> 00:48:31.850\nAny time somebody modifies a policy,\n\n1077\n00:48:31.850 --> 00:48:35.550\nparticularly the local security\npolicy of the system, right?\n\n1078\n00:48:35.550 --> 00:48:37.510\nIf you're modifying a group policy object,\n\n1079\n00:48:37.510 --> 00:48:40.340\nthat actually goes in to\nthe directory of services object.\n\n1080\n00:48:40.340 --> 00:48:44.970\nSo this is the local security policy on a\nmachine which might be modified by a GPO,\n\n1081\n00:48:44.970 --> 00:48:47.270\nbut it is really monitoring\nthat local policy.\n\n1082\n00:48:47.270 --> 00:48:49.810\nSo, half the settings that\nwe've done in this episode, but\n\n1083\n00:48:49.810 --> 00:48:54.760\nwhen you go into those policies and\nstart to modify, that'll trigger those.\n\n1084\n00:48:54.760 --> 00:48:55.970\nPrivilege use?\n\n1085\n00:48:55.970 --> 00:48:58.320\n>> Yeah, anytime a user takes\nadvantage of privileges that have been\n\n1086\n00:48:58.320 --> 00:48:59.610\nassigned to their account.\n\n1087\n00:48:59.610 --> 00:49:02.558\n>> Yeah, examples of which would be\nlike shutting the computer down,\n\n1088\n00:49:02.558 --> 00:49:03.655\nchange the system time.\n\n1089\n00:49:03.655 --> 00:49:04.746\n>> Changing the time, yeah.\n\n1090\n00:49:04.746 --> 00:49:05.882\n>> What are some other ones?\n\n1091\n00:49:05.882 --> 00:49:07.109\n>> I was trying to think maybe,\n\n1092\n00:49:07.109 --> 00:49:10.291\nI don't know if modifying the network\nadapter settings gets under that?\n\n1093\n00:49:10.291 --> 00:49:11.110\n>> Yeah I don't know.\n\n1094\n00:49:11.110 --> 00:49:11.888\n>> I don't think so.\n\n1095\n00:49:11.888 --> 00:49:15.415\n>> But yeah,\nthere's user rights that we assign.\n\n1096\n00:49:15.415 --> 00:49:18.460\nAnd I mean actually if we wanted to see,\nyou've got user rights assignment here.\n\n1097\n00:49:18.460 --> 00:49:19.770\nSo when we say audit privilege use,\n\n1098\n00:49:19.770 --> 00:49:21.870\nit's pretty much everything\nhere in this folder.\n\n1099\n00:49:21.870 --> 00:49:25.917\nSo anything in here like,\nallow log on locally, change system time,\n\n1100\n00:49:25.917 --> 00:49:27.026\nchange time zone.\n\n1101\n00:49:27.026 --> 00:49:28.349\nThese are-\n>> Backing up files.\n\n1102\n00:49:28.349 --> 00:49:29.162\n>> Those are all things.\n\n1103\n00:49:29.162 --> 00:49:31.971\nI just noticed I have two mice, so\nI can get twice as much work done.\n\n1104\n00:49:31.971 --> 00:49:33.422\n>> I was looking at that earlier,\nit was making me a little dizzy.\n\n1105\n00:49:33.422 --> 00:49:35.132\nI was like, which one is [CROSSTALK]\n>> The bigger mouse pointer\n\n1106\n00:49:35.132 --> 00:49:35.791\nis the one that I want.\n\n1107\n00:49:35.791 --> 00:49:37.238\n>> [LAUGH]\n>> So anyhow,\n\n1108\n00:49:37.238 --> 00:49:41.332\nthat's what it's talking about when\nit says auditing privilege use.\n\n1109\n00:49:41.332 --> 00:49:43.758\nThere are a few privileges that aren't in\nthat list, but that's the bulk of them.\n\n1110\n00:49:43.758 --> 00:49:45.661\n>> Yeah.\n\n1111\n00:49:45.661 --> 00:49:47.473\n>> Audit process tracking.\n\n1112\n00:49:47.473 --> 00:49:49.598\n>> You know, I'll say I don't know\nthat I've ever used this one.\n\n1113\n00:49:49.598 --> 00:49:52.094\n>> So [LAUGH] I used it.\n\n1114\n00:49:52.094 --> 00:49:53.011\nWhat did I just do?\n\n1115\n00:49:53.011 --> 00:49:56.424\n[LAUGH] I think I just.\n\n1116\n00:49:56.424 --> 00:49:57.701\n>> [LAUGH] You took advantage\nof one of your rights.\n\n1117\n00:49:57.701 --> 00:50:00.278\n>> I must have just used a right and\nrebooted my system.\n\n1118\n00:50:00.278 --> 00:50:01.730\n>> Nice, nice.\n\n1119\n00:50:01.730 --> 00:50:03.030\n>> Well, all right, so\nit's gonna reboot, right?\n\n1120\n00:50:03.030 --> 00:50:03.656\n>> Too bad we weren't auditing this.\n\n1121\n00:50:03.656 --> 00:50:07.023\n[LAUGH]\n>> [LAUGH] So.\n\n1122\n00:50:07.023 --> 00:50:11.909\n>> But yeah, privilege, privilege use,\nI mean, not privilege use but,\n\n1123\n00:50:11.909 --> 00:50:14.245\nwhat the heck was that one called?\n\n1124\n00:50:14.245 --> 00:50:14.976\nA process.\n\n1125\n00:50:14.976 --> 00:50:19.410\n>> So yeah processes, so I've used this,\nand I'll tell you, not in production.\n\n1126\n00:50:19.410 --> 00:50:23.340\nI've used it in actually one of\nthe classes that I used to teach.\n\n1127\n00:50:23.340 --> 00:50:25.778\nWith the application auditing right?\n\n1128\n00:50:25.778 --> 00:50:27.342\nWhat, or process auditing,\n\n1129\n00:50:27.342 --> 00:50:32.300\nwhat you're doing is you're tracking\nwhen an application is executed, right?\n\n1130\n00:50:32.300 --> 00:50:33.772\nAnd so it's running an it's doing stuff.\n\n1131\n00:50:33.772 --> 00:50:35.391\nIt tracks-\n>> Then what, it's reaching out and\n\n1132\n00:50:35.391 --> 00:50:36.870\ngrabbing or accessing?\n\n1133\n00:50:36.870 --> 00:50:37.760\n>> Yeah.\n\n1134\n00:50:37.760 --> 00:50:42.430\nSo one of the products that Microsoft used\nto have, Microsoft Operations Manager,\n\n1135\n00:50:42.430 --> 00:50:45.850\none of the things that it could do is\nthat it could track licenses for you.\n\n1136\n00:50:45.850 --> 00:50:50.170\nAnd so you could tell it,\nlike maybe I've got Adobe CS5 right?\n\n1137\n00:50:50.170 --> 00:50:54.570\nI think they're CC now, but\nAdobe CS5, and you say you know what?\n\n1138\n00:50:54.570 --> 00:50:59.280\nI've got it installed on all my\ncomputers but I've only got 50 licenses.\n\n1139\n00:50:59.280 --> 00:51:04.360\nI need to keep it so that only 50\npeople can run the software at once.\n\n1140\n00:51:04.360 --> 00:51:07.480\nAnd if a 51st person tries to launch it,\nit'd stop them, right?\n\n1141\n00:51:07.480 --> 00:51:08.880\nAnd MOM could do that,\n\n1142\n00:51:08.880 --> 00:51:11.920\nand I think the system center\noperation manager can do it now.\n\n1143\n00:51:11.920 --> 00:51:14.325\nI haven't done it on that one.\n\n1144\n00:51:14.325 --> 00:51:17.300\nOr actually, I did this originally\nunder SMS, the original products,\n\n1145\n00:51:17.300 --> 00:51:18.520\nthis was back in the day.\n\n1146\n00:51:18.520 --> 00:51:22.875\nSo anyhow, you could set it\nto do process auditing, and\n\n1147\n00:51:22.875 --> 00:51:27.405\nit would watch for every time somebody\nlaunched the Adobe executable.\n\n1148\n00:51:27.405 --> 00:51:28.645\nAnd it would keep track of that and\n\n1149\n00:51:28.645 --> 00:51:31.075\nsay okay,\nthere's 50 people running it right now.\n\n1150\n00:51:31.075 --> 00:51:34.725\nAnd when the 51st person went to do it,\nSMS would kick in and stop them.\n\n1151\n00:51:34.725 --> 00:51:37.485\nAnd so you could adhere to\nyour licensing limit, and\n\n1152\n00:51:37.485 --> 00:51:39.585\nit used process auditing to do that.\n\n1153\n00:51:39.585 --> 00:51:42.345\nIt's the only time I've done it,\nI did it in a classroom environment.\n\n1154\n00:51:42.345 --> 00:51:43.035\nI know it works.\n\n1155\n00:51:43.035 --> 00:51:46.345\n>> So you used the auditing,\nthe auditing itself didn't stop them but\n\n1156\n00:51:46.345 --> 00:51:48.958\nthe auditing would generate the events and\nthen SMS or\n\n1157\n00:51:48.958 --> 00:51:52.171\nOperations Manager could use that\ninformation to [SOUND] kill it.\n\n1158\n00:51:52.171 --> 00:51:54.240\n>> And that's true of all\nof this auditing, right?\n\n1159\n00:51:54.240 --> 00:51:58.140\nAuditing can never stop somebody,\nit's always your access control list,\n\n1160\n00:51:58.140 --> 00:51:59.730\nyou're other software\nthat does the stopping.\n\n1161\n00:51:59.730 --> 00:52:00.800\n>> Cuz it's all after the fact.\n\n1162\n00:52:00.800 --> 00:52:01.890\n>> Yep.\n>> By the time it's logged,\n\n1163\n00:52:01.890 --> 00:52:02.820\nit's already happened.\n\n1164\n00:52:02.820 --> 00:52:05.892\n>> It's just a message, notification\nletting us know something happened,\n\n1165\n00:52:05.892 --> 00:52:06.485\nthat's all.\n\n1166\n00:52:06.485 --> 00:52:08.471\nBut yeah, so just process auditing,\n\n1167\n00:52:08.471 --> 00:52:11.270\nthat's keeping track of\nwhat programs are running.\n\n1168\n00:52:11.270 --> 00:52:14.575\nYou know, what applications you've\nlaunched, and I believe it actually\n\n1169\n00:52:14.575 --> 00:52:18.810\ncatches dynamic link libraries also,\nwhich is important for service tracking.\n\n1170\n00:52:18.810 --> 00:52:21.000\nBut yes, that's basically it.\n\n1171\n00:52:21.000 --> 00:52:22.350\nSo, fortunately our servers are fast.\n\n1172\n00:52:22.350 --> 00:52:23.910\n>> They are quick.\n>> They reboot quickly.\n\n1173\n00:52:23.910 --> 00:52:27.880\nI must have accidentally clicked on stop,\nyou know my double mouse or something.\n\n1174\n00:52:27.880 --> 00:52:28.450\n>> [LAUGH] Yeah.\n\n1175\n00:52:28.450 --> 00:52:32.030\n>> You know, I was doing twice\nas much work as a normal man so.\n\n1176\n00:52:32.030 --> 00:52:34.140\n>> I was pretty impressed the way\nyou move them both around and\n\n1177\n00:52:34.140 --> 00:52:35.528\nkeep them in sync like that.\n\n1178\n00:52:35.528 --> 00:52:38.620\n[LAUGH]\n>> [LAUGH] Yeah I've actually got my touch\n\n1179\n00:52:38.620 --> 00:52:41.360\npad and a track ball and I'm doubling up.\n\n1180\n00:52:41.360 --> 00:52:42.725\nAll right, so what was left?\n\n1181\n00:52:42.725 --> 00:52:44.146\nSeems like there was one more,\nwasn't there? >> We've got one more,\n\n1182\n00:52:44.146 --> 00:52:45.684\nthe system events-\n>> System events.\n\n1183\n00:52:45.684 --> 00:52:46.496\n>> I think it was.\n\n1184\n00:52:46.496 --> 00:52:47.727\n>> Mike's got these memorized, I don't.\n\n1185\n00:52:47.727 --> 00:52:49.793\nSo [LAUGH]\n>> [LAUGH]\n\n1186\n00:52:49.793 --> 00:52:51.761\n>> So system events,\n\n1187\n00:52:51.761 --> 00:52:55.595\nI like to call this one the potluck.\n\n1188\n00:52:55.595 --> 00:52:56.275\n>> Yeah.\n[LAUGH]\n\n1189\n00:52:56.275 --> 00:52:56.845\n>> It's just everything\n\n1190\n00:52:56.845 --> 00:52:57.565\nthat's left over, right?\n\n1191\n00:52:57.565 --> 00:53:00.125\n>> Anything that didn't fall in one\nof the previous eight categories,\n\n1192\n00:53:00.125 --> 00:53:01.500\nfalls under system events.\n\n1193\n00:53:01.500 --> 00:53:02.830\n[LAUGH]\n>> So some examples, and\n\n1194\n00:53:02.830 --> 00:53:04.264\nI'm gonna cheat here Mike,\n\n1195\n00:53:04.264 --> 00:53:08.690\nI actually made some notes before the show\ncuz this is a hard one to remember.\n\n1196\n00:53:08.690 --> 00:53:12.800\nThings like attempted\nsystem time change and\n\n1197\n00:53:12.800 --> 00:53:15.280\nattempted system security startup or\nshutdown.\n\n1198\n00:53:15.280 --> 00:53:19.350\nSo, if the computer shuts down or\nstarts up, that's a special event.\n\n1199\n00:53:19.350 --> 00:53:22.780\nIt is, all of it is part\nof the rights assessment,\n\n1200\n00:53:22.780 --> 00:53:25.610\nthe privilege use, but\nis also audited here.\n\n1201\n00:53:25.610 --> 00:53:29.570\nBut also crashes, blue screens of death,\nthey're logged here,\n\n1202\n00:53:29.570 --> 00:53:31.355\nif they're logged at all.\n\n1203\n00:53:31.355 --> 00:53:33.680\n>> [LAUGH]\n>> If the audit logs are erased,\n\n1204\n00:53:33.680 --> 00:53:35.453\nif somebody flushes the logs.\n\n1205\n00:53:35.453 --> 00:53:36.615\n>> Somebody clears the log, yeah.\n\n1206\n00:53:36.615 --> 00:53:37.486\n>> It gets logged here.\n\n1207\n00:53:37.486 --> 00:53:42.126\nSo this last one, this system events one\nis that kind of potpourri, or whatever,\n\n1208\n00:53:42.126 --> 00:53:46.260\njust a collection of assorted junk\nthat didn't quite fit any other.\n\n1209\n00:53:46.260 --> 00:53:47.590\nNot that it isn't important, right?\n\n1210\n00:53:47.590 --> 00:53:51.288\nIt is important, it's just these\nare things that didn't quite fit.\n\n1211\n00:53:51.288 --> 00:53:52.867\n>> Right, nice.\n\n1212\n00:53:52.867 --> 00:53:55.317\n>> All right and, just in time,\nI get the list back.\n\n1213\n00:53:55.317 --> 00:53:58.365\n>> [LAUGH]\n>> All right, so\n\n1214\n00:53:58.365 --> 00:54:03.360\nwe can turn all of these on and off right\nhere inside of a group policy object.\n\n1215\n00:54:03.360 --> 00:54:05.900\nAnd the advantage of doing it here\nover a local security policy,\n\n1216\n00:54:05.900 --> 00:54:08.660\nwe set it once and\nall of our machines get it.\n\n1217\n00:54:08.660 --> 00:54:11.090\n>> Centralized management\nis the way to go.\n\n1218\n00:54:11.090 --> 00:54:11.850\n>> All right.\n\n1219\n00:54:11.850 --> 00:54:14.030\nWell Mike, I think we rattled on\na little too long on that one,\n\n1220\n00:54:14.030 --> 00:54:15.382\nso we've run out of time on this segment.\n\n1221\n00:54:15.382 --> 00:54:16.860\n>> There was a lot of\ngood stuff to talk about.\n\n1222\n00:54:16.860 --> 00:54:17.932\n>> Let's stop here and take a break.\n\n1223\n00:54:17.932 --> 00:54:18.500\n>> All right.\n\n1224\n00:54:18.500 --> 00:54:20.856\n>> When we get back we've got some\nmore policy stuff to talk about.\n\n1225\n00:54:20.856 --> 00:54:24.095\nWe got like some command line junk and\na few other things, so.\n\n1226\n00:54:24.095 --> 00:54:24.855\nI shouldn't say junk.\n\n1227\n00:54:24.855 --> 00:54:27.243\n>> [LAUGH]\n>> Technologies, advanced functionality.\n\n1228\n00:54:27.243 --> 00:54:29.298\n>> That's a very technical term for\nthese long commands we have to type in.\n\n1229\n00:54:29.298 --> 00:54:31.132\n>> We'll get back to that crap after this.\n\n1230\n00:54:31.132 --> 00:54:33.071\n[LAUGH].\n\n1231\n00:54:33.071 --> 00:54:40.733\n[SOUND].\n\n1232\n00:54:40.733 --> 00:54:42.770\nAll right, welcome back, everybody.\n\n1233\n00:54:42.770 --> 00:54:45.545\nSo, before the break,\nwe were talking about audit policies.\n\n1234\n00:54:45.545 --> 00:54:48.040\n>> Mm-hm.\n>> And we've seen, in other episodes,\n\n1235\n00:54:48.040 --> 00:54:50.930\nwhere we can go in and configure the audit\npolicies in a local security policy.\n\n1236\n00:54:50.930 --> 00:54:51.430\n>> Right.\n\n1237\n00:54:51.430 --> 00:54:54.360\n>> And we can do them in a GPO in\nthose settings that we were looking at\n\n1238\n00:54:54.360 --> 00:54:55.190\njust a moment ago.\n\n1239\n00:54:55.190 --> 00:54:57.980\nThey're the same as they\nare on a local policy.\n\n1240\n00:54:57.980 --> 00:55:00.090\nSo not anything too exciting, there.\n\n1241\n00:55:00.090 --> 00:55:01.230\n>> But did you know?\n\n1242\n00:55:01.230 --> 00:55:02.194\n>> But wait, there's more.\n\n1243\n00:55:02.194 --> 00:55:03.012\n[LAUGH]\n>> That's right.\n\n1244\n00:55:03.012 --> 00:55:06.207\nIf you order now, within the next\n30 minutes, you can also get,\n\n1245\n00:55:06.207 --> 00:55:09.822\nat no extra charge, command line\nutilities for managing audit policies.\n\n1246\n00:55:09.822 --> 00:55:10.890\n>> Get the out of here.\n\n1247\n00:55:10.890 --> 00:55:12.004\n>> I tell you, what is it?\n\n1248\n00:55:12.004 --> 00:55:12.770\nShut the front door?\n\n1249\n00:55:12.770 --> 00:55:14.685\n>> Shut the front door.\n\n1250\n00:55:14.685 --> 00:55:16.000\n[LAUGH]\n>> All right,\n\n1251\n00:55:16.000 --> 00:55:18.410\nlet me tell you guys,\nit's amazing, it's awesome.\n\n1252\n00:55:18.410 --> 00:55:21.440\nIt's not the most practical thing for\nday to day use.\n\n1253\n00:55:21.440 --> 00:55:23.900\nBut if you're doing automation,\nif you're creating an image for\n\n1254\n00:55:23.900 --> 00:55:27.490\nmachines that you're rolling out or\nwhatever, and you have a need to do things\n\n1255\n00:55:27.490 --> 00:55:31.350\nvia command line, you can push these\nout and kind of configure it that way.\n\n1256\n00:55:31.350 --> 00:55:33.186\nIt's really nice if you have like a,\n\n1257\n00:55:33.186 --> 00:55:36.042\nI used to have a little\ntroubleshooting script I'd run.\n\n1258\n00:55:36.042 --> 00:55:38.691\nSo if I had a machine I was\ntroubleshooting, I'd run this script and\n\n1259\n00:55:38.691 --> 00:55:41.543\nit would turn on a bunch of auditing,\nand I could do my troubleshooting.\n\n1260\n00:55:41.543 --> 00:55:44.708\nAnd when was done, I had another one I'd\nrun that would just turn off the auditing.\n\n1261\n00:55:44.708 --> 00:55:47.666\nI didn't wanna do a GPO, I didn't\nwant it to apply to every machine,\n\n1262\n00:55:47.666 --> 00:55:50.879\njust to this one, but I didn't want it\nto hunt around a bunch of options, so\n\n1263\n00:55:50.879 --> 00:55:53.210\nI've kinda written it\nout in a script file.\n\n1264\n00:55:53.210 --> 00:55:54.620\nSo, at the command line,\n\n1265\n00:55:54.620 --> 00:55:59.779\nwe have a neat utility called AuditPol or\nauditpolicy.exe.\n\n1266\n00:55:59.779 --> 00:56:02.170\nLet me fire this thing up.\n\n1267\n00:56:02.170 --> 00:56:05.760\n>> Yeah, I flipped back and\nforth when you said AuditPol, or AuditPol,\n\n1268\n00:56:05.760 --> 00:56:08.960\nI mean I guess it's audit policy but-\n>> Yeah.\n\n1269\n00:56:08.960 --> 00:56:09.770\n>> Who knows.\n\n1270\n00:56:09.770 --> 00:56:12.475\n>> The rule of thumb is, whatever\nway I pronounce is probably wrong.\n\n1271\n00:56:12.475 --> 00:56:14.825\n>> [LAUGH]\n>> So, just base it off of that,\n\n1272\n00:56:14.825 --> 00:56:17.190\nI'm gonna say AuditPol,\nso I doubt that's right.\n\n1273\n00:56:17.190 --> 00:56:19.345\n>> [LAUGH]\n>> But yeah, if you just run AuditPol,\n\n1274\n00:56:19.345 --> 00:56:22.705\nyou'll see that it's got a bunch\nof different stuff in here, get,\n\n1275\n00:56:22.705 --> 00:56:25.715\nthat's for\nfinding out what policies are already set.\n\n1276\n00:56:25.715 --> 00:56:26.280\n>> Right.\n\n1277\n00:56:26.280 --> 00:56:27.320\nSet, that lets us set them.\n\n1278\n00:56:27.320 --> 00:56:29.010\nAnd then we've got list,\n\n1279\n00:56:29.010 --> 00:56:33.800\nwhich basically lets us see elements\ninside of the the policies.\n\n1280\n00:56:33.800 --> 00:56:35.780\nSo, you can kinda drill down with that.\n\n1281\n00:56:35.780 --> 00:56:38.650\nYou'll see backup, and\nrestore, clear, and remove.\n\n1282\n00:56:38.650 --> 00:56:42.330\nMost of these are pretty self explanatory,\nbut it's neat.\n\n1283\n00:56:42.330 --> 00:56:44.400\nYou can actually do a lot.\n\n1284\n00:56:44.400 --> 00:56:48.260\nNever will you hear me say, I'm in\na hurry, let me just use AuditPol, right?\n\n1285\n00:56:48.260 --> 00:56:52.924\nSo, it's not really useful for that, but\nfor scripting and automation it is, and\n\n1286\n00:56:52.924 --> 00:56:54.465\nfor passing the exam it is.\n\n1287\n00:56:54.465 --> 00:56:56.561\n>> It is helpful there, yes [LAUGH].\n\n1288\n00:56:56.561 --> 00:57:00.747\n>> So, I wanna show you guys a couple of\nexamples of how we can look into this.\n\n1289\n00:57:00.747 --> 00:57:06.481\nAnd, you know Mike, I didn't really turn\non an audit policy before the break,\n\n1290\n00:57:06.481 --> 00:57:11.840\nso let's do this, let's whip up\na security policy here real quick.\n\n1291\n00:57:11.840 --> 00:57:12.580\n>> Okay.\n\n1292\n00:57:12.580 --> 00:57:14.140\n>> So I'll just go into my\nlittle security policy.\n\n1293\n00:57:14.140 --> 00:57:15.290\n>> The list and get?\n\n1294\n00:57:15.290 --> 00:57:19.980\n>> Yeah, otherwise we're gonna be somewhat\nbored, or I guess I could actually add it,\n\n1295\n00:57:19.980 --> 00:57:21.790\nwith the set command and stuff.\n\n1296\n00:57:21.790 --> 00:57:22.810\nHey, let's do that.\n\n1297\n00:57:22.810 --> 00:57:25.350\n>> Okay.\n>> So, if we come in here and\n\n1298\n00:57:25.350 --> 00:57:28.560\nwe use AuditPol, right,\n\n1299\n00:57:28.560 --> 00:57:34.500\nI can do something like say list user,\nlike that, right?\n\n1300\n00:57:34.500 --> 00:57:39.010\nAnd it's gonna basically show me\nwhat audit policies are defined for\n\n1301\n00:57:39.010 --> 00:57:40.000\nmy user account, right?\n\n1302\n00:57:40.000 --> 00:57:41.990\n>> Return set is empty.\n\n1303\n00:57:41.990 --> 00:57:44.310\n>> So,\nlet me just modify that a little more, and\n\n1304\n00:57:44.310 --> 00:57:48.589\nwe'll say administrator, all right?\n\n1305\n00:57:48.589 --> 00:57:49.693\nDid I do bad syntax?\n\n1306\n00:57:54.895 --> 00:57:57.971\nWell, shoot.\n\n1307\n00:57:57.971 --> 00:57:59.175\n>> Can you do it for an interval?\n\n1308\n00:57:59.175 --> 00:57:59.851\n>> You know what?\n\n1309\n00:57:59.851 --> 00:58:01.152\nThe get command, you can, yep.\n\n1310\n00:58:01.152 --> 00:58:06.570\nSo, if we do the get command,\nwhich is a lot more\n\n1311\n00:58:06.570 --> 00:58:11.583\nspecific, here we can say Administrator,\n\n1312\n00:58:11.583 --> 00:58:15.930\nand we can say Category:*, there.\n\n1313\n00:58:15.930 --> 00:58:17.605\nNo audit policy is defined for\nthe user account.\n\n1314\n00:58:17.605 --> 00:58:20.180\nAll right, so I don't really\nhave anything exciting to view,\n\n1315\n00:58:20.180 --> 00:58:21.620\nbecause there's no policy set, right?\n\n1316\n00:58:21.620 --> 00:58:22.120\n>> Right.\n\n1317\n00:58:22.120 --> 00:58:24.600\n>> But we can set one if\nwe want to audit something.\n\n1318\n00:58:24.600 --> 00:58:26.088\nLet's do one here.\n\n1319\n00:58:26.088 --> 00:58:30.440\nI'll say auditpol/set, and\n\n1320\n00:58:30.440 --> 00:58:36.150\nwe'll set something on administrator,\nwe will, what's a good one to set, logon?\n\n1321\n00:58:36.150 --> 00:58:36.708\n>> Set logon?\n\n1322\n00:58:43.767 --> 00:58:46.620\nAnd then they wanna do failure,\nsuccess, or both?\n\n1323\n00:58:46.620 --> 00:58:48.870\n>> Yeah, and unfortunately,\nyou do have to define them both, so\n\n1324\n00:58:48.870 --> 00:58:52.425\nI'm going to say Failure:Enable, and\nI'm going to say Success:Enable.\n\n1325\n00:58:54.850 --> 00:58:57.950\nBasically, what I'm doing is saying,\nturn on logon auditing.\n\n1326\n00:58:57.950 --> 00:59:01.530\nAnd audit for when this person logs\non successfully as well as failure,\n\n1327\n00:59:01.530 --> 00:59:02.620\nI wanna get both.\n\n1328\n00:59:02.620 --> 00:59:06.940\nIf I just said failure enabled and\nsuccess false, or\n\n1329\n00:59:06.940 --> 00:59:08.550\nif I leave it off,\nI think false is the default.\n\n1330\n00:59:08.550 --> 00:59:11.390\nThen it's gonna make sure\nthat that's getting done.\n\n1331\n00:59:11.390 --> 00:59:13.190\nSo now I've actually\ngot auditing turned on.\n\n1332\n00:59:13.190 --> 00:59:17.410\nNow, this is taking effect in\nthe local security policy, and\n\n1333\n00:59:17.410 --> 00:59:18.630\nso it's kicking in there.\n\n1334\n00:59:19.820 --> 00:59:23.759\nIf you have a GPO,\nin theory this should override it as long,\n\n1335\n00:59:23.759 --> 00:59:25.630\nas the GPO is not [CROSSTALK].\n\n1336\n00:59:25.630 --> 00:59:27.801\n>> Yeah, cuz this would just audit\nhim logging on to this one machine.\n\n1337\n00:59:27.801 --> 00:59:29.009\n>> Mm-hm, yep.\n\n1338\n00:59:29.009 --> 00:59:32.703\nYeah, so very localized, that's why\nI said I use it for troubleshooting,\n\n1339\n00:59:32.703 --> 00:59:34.724\nbecause it can be kinda useful there, but\n\n1340\n00:59:34.724 --> 00:59:37.228\nnot terribly useful on\nthe grand scheme of things.\n\n1341\n00:59:37.228 --> 00:59:40.583\nAll right, so now that I've got\nsomething set, what else can we set?\n\n1342\n00:59:40.583 --> 00:59:42.243\n>> Wanna list them again and\nsee if we can see it?\n\n1343\n00:59:42.243 --> 00:59:43.311\n>> Yeah.\n\n1344\n00:59:43.311 --> 00:59:45.710\n>> Are you gonna do another one first,\nexclude a user, or?\n\n1345\n00:59:45.710 --> 00:59:47.930\n>> Well, let's go ahead and list them.\n\n1346\n00:59:47.930 --> 00:59:49.450\nSo, I'll go ahead and try to do a list.\n\n1347\n00:59:49.450 --> 00:59:50.343\nThere we go!\n\n1348\n00:59:50.343 --> 00:59:53.723\nSo, now when I do a list,\nlet me just scroll back up and\n\n1349\n00:59:53.723 --> 00:59:56.669\nhopefully I didn't\nexceed my scroll buffer.\n\n1350\n00:59:56.669 --> 00:59:57.291\n>> Nope, there it is.\n\n1351\n00:59:57.291 --> 00:59:59.910\n>> Good, there we go.\n\n1352\n00:59:59.910 --> 01:00:02.990\nAll right, so now it's gonna go through,\nit's going to say audit policy for\n\n1353\n01:00:02.990 --> 01:00:03.800\nuser account.\n\n1354\n01:00:03.800 --> 01:00:06.700\nAnd notice it's showing me the SID and\nnot the user name.\n\n1355\n01:00:06.700 --> 01:00:08.870\nSecurity is all done by\nthe security identifier,\n\n1356\n01:00:08.870 --> 01:00:11.690\nthe SID, so\nthat's what's showing up there.\n\n1357\n01:00:11.690 --> 01:00:13.330\nAnd then it goes through and\nshows what's set.\n\n1358\n01:00:13.330 --> 01:00:16.280\nNow, the bulk of the policy\nthat applies to me is empty.\n\n1359\n01:00:16.280 --> 01:00:18.860\nNotice my system stuff, not specified.\n\n1360\n01:00:18.860 --> 01:00:25.535\nLogon/Logoff, I can see Logon Success and\nFailure, those are defined.\n\n1361\n01:00:25.535 --> 01:00:29.590\nAnd, as I scroll down, I can see any\nother settings that might be in place.\n\n1362\n01:00:29.590 --> 01:00:32.650\nAnd there's not a whole ton, right?\n\n1363\n01:00:32.650 --> 01:00:33.780\nNow, this screen is useful,\n\n1364\n01:00:33.780 --> 01:00:37.950\nbecause you can see the category\nas well as the subcategory.\n\n1365\n01:00:37.950 --> 01:00:41.297\n>> So, now I know the name if I wanna\nimplement another policy that does,\n\n1366\n01:00:41.297 --> 01:00:42.958\nI don't know, account lockout.\n\n1367\n01:00:42.958 --> 01:00:45.177\n>> That's half the challenge,\nis figuring out the name.\n\n1368\n01:00:45.177 --> 01:00:46.638\n>> What part of the subcategories?\n\n1369\n01:00:46.638 --> 01:00:50.871\n>> Yeah, and it's kind of annoying,\nbecause when you do the commands,\n\n1370\n01:00:50.871 --> 01:00:54.384\nyou have to specify that, so\nnotice that when I did my get,\n\n1371\n01:00:54.384 --> 01:00:59.014\nI said /Category:*, that means get\nthe categories and subcategories.\n\n1372\n01:00:59.014 --> 01:01:03.635\nBut when I turned it on,\nwhere's the command where I turned it on?\n\n1373\n01:01:03.635 --> 01:01:07.345\nThere, I had to do subcategory:\" Logon\",\nright?\n\n1374\n01:01:07.345 --> 01:01:08.622\nI didn't do logoff.\n\n1375\n01:01:08.622 --> 01:01:09.160\n>> Right.\n\n1376\n01:01:09.160 --> 01:01:12.420\n>> So, I left that one off,\nbecause I focused in on that subcategory.\n\n1377\n01:01:12.420 --> 01:01:14.850\nYou can turn this on and\noff by the category, and\n\n1378\n01:01:14.850 --> 01:01:17.960\nit'll just turn them all on in\nthat category if you want to.\n\n1379\n01:01:17.960 --> 01:01:21.510\nBut these basically correspond\nwith the categories that we saw in\n\n1380\n01:01:21.510 --> 01:01:22.410\nthe active, in the GPO.\n\n1381\n01:01:22.410 --> 01:01:25.525\n>> Director Service Access,\nAccount Logon, Logon/Logoff.\n\n1382\n01:01:25.525 --> 01:01:30.280\nYep, they're all in there, and so\nyou can go through it and kinda tweak it.\n\n1383\n01:01:30.280 --> 01:01:33.760\n>> If you do the whole category,\nthat's like what we do with the GPO.\n\n1384\n01:01:33.760 --> 01:01:34.874\n>> If we do a subcategory,\n\n1385\n01:01:34.874 --> 01:01:38.799\nthat's more specific than what the GPO\nallows us to do, at least by it's default.\n\n1386\n01:01:38.799 --> 01:01:40.050\n>> Nice.\n\n1387\n01:01:40.050 --> 01:01:43.130\n>> So you can get in there, and\ntweak things, mess around with it.\n\n1388\n01:01:43.130 --> 01:01:45.395\nNow Mike, you mentioned exclusions, right?\n\n1389\n01:01:45.395 --> 01:01:46.928\n>> Mm-hm.\n>> Exclusions are kinda cool.\n\n1390\n01:01:46.928 --> 01:01:53.570\nLet's say that I wanted to monitor logons,\nbut I didn't want to get certain people.\n\n1391\n01:01:53.570 --> 01:01:57.510\nI wanted to get almost everybody, but\nI wanted to exclude somebody, right?\n\n1392\n01:01:57.510 --> 01:02:01.260\n>> Maybe you're worried about certain\nlocal accounts or something like that?\n\n1393\n01:02:01.260 --> 01:02:07.320\n>> Yeah, so I might, when we turn that on,\nI might do it for domain users.\n\n1394\n01:02:07.320 --> 01:02:08.450\n>> Okay.\n>> But then say I\n\n1395\n01:02:08.450 --> 01:02:09.910\ndon't wanna get administrators, right?\n\n1396\n01:02:09.910 --> 01:02:13.090\nJust get all the domain users\nexcept administrators, right?\n\n1397\n01:02:13.090 --> 01:02:15.750\nSo, I could take that command and\nmodify it a little bit.\n\n1398\n01:02:15.750 --> 01:02:17.410\nSo, I'll go back to this command here.\n\n1399\n01:02:17.410 --> 01:02:20.430\nSo here we set it on a particular user,\nright?\n\n1400\n01:02:20.430 --> 01:02:24.280\nBut that user,\nthat could actually be a group name, so\n\n1401\n01:02:24.280 --> 01:02:29.030\nI might do Administrators with an s,\nright?\n\n1402\n01:02:29.030 --> 01:02:37.790\nAnd then at the end I can add /Exclude Or\nactually, hang on, sorry.\n\n1403\n01:02:37.790 --> 01:02:38.492\nI'm doing this wrong.\n\n1404\n01:02:38.492 --> 01:02:44.390\nSo I would say /user:administrator,\nand then /Exclude at the end.\n\n1405\n01:02:44.390 --> 01:02:47.222\nThat means we're gonna exclude\nthat particular user, so\n\n1406\n01:02:47.222 --> 01:02:49.050\nwe're gonna take them out.\n\n1407\n01:02:49.050 --> 01:02:53.380\nSo, if I'd run this previously\nadding the administrators group, and\n\n1408\n01:02:53.380 --> 01:02:57.290\nthen I could exclude this one user, and\nit would remove just that one person, and\n\n1409\n01:02:57.290 --> 01:02:58.450\nit would no longer apply to them.\n\n1410\n01:02:58.450 --> 01:02:59.220\nAnd if I go back and\n\n1411\n01:02:59.220 --> 01:03:03.120\nI do that get command, I should see that\nthey're now excluded and out of there.\n\n1412\n01:03:03.120 --> 01:03:04.970\n>> Because you're logged\non as administrator.\n\n1413\n01:03:04.970 --> 01:03:07.370\n>> Yeah, and\nit does take a minute to apply sometimes,\n\n1414\n01:03:07.370 --> 01:03:11.780\nso it, well actually,\nsee how it's in these two columns now?\n\n1415\n01:03:11.780 --> 01:03:17.830\nIf I scroll up to the top, yeah, you've\ngot your inclusive and exclusive setting,\n\n1416\n01:03:17.830 --> 01:03:21.190\nso if you include somebody, they're here,\nor if you exclude them they're here.\n\n1417\n01:03:21.190 --> 01:03:23.988\nThe exclude will override the include,\nand so-\n\n1418\n01:03:23.988 --> 01:03:26.009\n>> Like deny overriding, or allow there.\n\n1419\n01:03:26.009 --> 01:03:26.893\n>> Yep.\n\n1420\n01:03:26.893 --> 01:03:29.825\nSo I am excluded even though\nI'm also set on the other one.\n\n1421\n01:03:29.825 --> 01:03:30.730\n>> Nice.\n\n1422\n01:03:30.730 --> 01:03:33.210\n>> All right, so kind of a neat one.\n\n1423\n01:03:33.210 --> 01:03:35.720\nYou can actually get a lot\nof information out of it.\n\n1424\n01:03:36.890 --> 01:03:40.194\n>> The get command, the list command,\neach one can reach in there and\n\n1425\n01:03:40.194 --> 01:03:43.676\npull different information about\nthe system and display it to you, so\n\n1426\n01:03:43.676 --> 01:03:45.459\nyou can start to see what's there.\n\n1427\n01:03:45.459 --> 01:03:49.084\nHere, I'm just doing that list user again,\nto see that I have a user account.\n\n1428\n01:03:49.084 --> 01:03:51.208\nCONTOSO \\administrator is who I am.\n\n1429\n01:03:51.208 --> 01:03:54.375\nIt's good for gathering information,\ngood for automating.\n\n1430\n01:03:54.375 --> 01:03:55.208\n>> Automating, yeah.\n\n1431\n01:03:55.208 --> 01:03:59.264\nI definitely can't see using that a lot on\nan everyday basis to create my policies\n\n1432\n01:03:59.264 --> 01:04:00.540\nand things like that.\n\n1433\n01:04:00.540 --> 01:04:02.900\nBut for troubleshooting and\nfor scripting that's true.\n\n1434\n01:04:02.900 --> 01:04:03.510\n>> Yeah.\n\n1435\n01:04:03.510 --> 01:04:06.140\nAnd I just had a simple script that\nwould turn on a bunch of stuff for\n\n1436\n01:04:06.140 --> 01:04:07.020\nthe current user, and\n\n1437\n01:04:07.020 --> 01:04:10.755\nthen when I was done you use the little\nclear tag to basically clear it out.\n\n1438\n01:04:10.755 --> 01:04:11.508\n[COUGH].\n\n1439\n01:04:11.508 --> 01:04:12.450\nExcuse me.\n\n1440\n01:04:12.450 --> 01:04:15.440\nAnd that would take care of it, and\nthen we were in business and ready to go.\n\n1441\n01:04:15.440 --> 01:04:18.530\nYou can really kind of\ncustomize it however you want.\n\n1442\n01:04:18.530 --> 01:04:21.830\nThe only negative with this is\nthe object access stuff, right?\n\n1443\n01:04:21.830 --> 01:04:24.260\nYou know, with object access you\ncan't use this turn it on for\n\n1444\n01:04:24.260 --> 01:04:26.230\nindividual files and folders.\n\n1445\n01:04:26.230 --> 01:04:29.970\nThat's where you need to\nuse like the X cackles.\n\n1446\n01:04:29.970 --> 01:04:34.280\nThe other commandlet utility you can\nmodify on individual files and stuff.\n\n1447\n01:04:34.280 --> 01:04:36.290\nSo, those other utilities you can use.\n\n1448\n01:04:36.290 --> 01:04:39.380\nBut the one that shows up on\nthe exams is this audit policy.\n\n1449\n01:04:39.380 --> 01:04:42.040\nIt's one of the few commands that\nare still on the exam that is not\n\n1450\n01:04:42.040 --> 01:04:43.970\na power shell commandlet, right?\n\n1451\n01:04:43.970 --> 01:04:46.110\nThis is just a straight up command shell.\n\n1452\n01:04:46.110 --> 01:04:48.410\nIt's auditpol.exe.\n\n1453\n01:04:48.410 --> 01:04:49.760\n>> It's there and it's available for use.\n\n1454\n01:04:49.760 --> 01:04:52.940\n>> If you're familiar with the switches,\nknow those for the exam.\n\n1455\n01:04:52.940 --> 01:04:57.990\n>> And it does work in the PowerShell also\nso if you are working in the PowerShell.\n\n1456\n01:04:57.990 --> 01:05:02.598\nYou can call audit Paul, and it'll\nsit there and think but it does work.\n\n1457\n01:05:02.598 --> 01:05:04.580\n[LAUGH]\n>> [LAUGH] Yeah,\n\n1458\n01:05:04.580 --> 01:05:06.690\nhave you typed in CDM from PowerShell.\n\n1459\n01:05:06.690 --> 01:05:08.280\nHave you seen what it does?\n\n1460\n01:05:08.280 --> 01:05:09.990\n>> No, what does it do?\n\n1461\n01:05:09.990 --> 01:05:13.840\n>> It brings you to a command\nprompt within PowerShell.\n\n1462\n01:05:13.840 --> 01:05:15.890\nThose power shell commands still work?\n\n1463\n01:05:15.890 --> 01:05:16.610\n>> No.\nBecause\n\n1464\n01:05:16.610 --> 01:05:18.550\nnow you're basically at a command prompt.\n\n1465\n01:05:18.550 --> 01:05:19.450\n>> I've never done that.\n\n1466\n01:05:19.450 --> 01:05:20.495\n>> I don't know what it's there for\n\n1467\n01:05:20.495 --> 01:05:25.130\ncause most of my command prompt\ncommands work just fine in power shell.\n\n1468\n01:05:26.240 --> 01:05:30.310\nSo I was wondering maybe that's why\nwith Audible since it's not power shell.\n\n1469\n01:05:30.310 --> 01:05:31.620\nIt's interesting.\n\n1470\n01:05:31.620 --> 01:05:33.120\n>> I don't know.\nYeah.\n\n1471\n01:05:33.120 --> 01:05:33.880\nJust a little.\n>> [LAUGH]\n\n1472\n01:05:33.880 --> 01:05:35.260\n>> Tidbit.\n\n1473\n01:05:35.260 --> 01:05:38.480\nNow can I fire up Quick Basic,\n\n1474\n01:05:38.480 --> 01:05:41.128\nand launch that monkeys tossing\nbanana game in PowerShell?\n\n1475\n01:05:41.128 --> 01:05:44.790\n>> [LAUGH]\n>> This is how we'll gauge\n\n1476\n01:05:44.790 --> 01:05:47.200\nhow experienced an IT user you guys are.\n\n1477\n01:05:47.200 --> 01:05:52.170\nIf you remember the monkeys throwing\nbanana game, that was vintage DOS 3.3.\n\n1478\n01:05:52.170 --> 01:05:55.270\nI had one that was knives throwing\nback and forth between the top and\n\n1479\n01:05:55.270 --> 01:05:56.640\nthe bottom of the screen.\n\n1480\n01:05:56.640 --> 01:05:57.170\nDaggers.\n\n1481\n01:05:58.650 --> 01:05:59.910\n>> The old basic games, all gone.\n\n1482\n01:05:59.910 --> 01:06:02.730\nAlright so that's pretty much audit, Paul.\n\n1483\n01:06:02.730 --> 01:06:05.420\nIt's not the most exciting command\nin the world but be aware of it for\n\n1484\n01:06:05.420 --> 01:06:08.550\nthe exam, in real life it can be used,\nespecially for automation.\n\n1485\n01:06:08.550 --> 01:06:09.370\nThere's other ways.\n\n1486\n01:06:09.370 --> 01:06:11.270\nThere are Powershell commandlets and\nstuff, but\n\n1487\n01:06:11.270 --> 01:06:12.640\nMicrosoft isn't hammering on those yet.\n\n1488\n01:06:12.640 --> 01:06:15.300\nSo definitely keep that in mind.\n\n1489\n01:06:15.300 --> 01:06:18.070\nYou can turn on policies,\nyou can turn off policies.\n\n1490\n01:06:18.070 --> 01:06:21.830\nYou can add them for individual users and\ngroups and you can exclude individual\n\n1491\n01:06:21.830 --> 01:06:24.990\nusers and groups all from that\none command line utility.\n\n1492\n01:06:24.990 --> 01:06:25.490\n>> Right.\n\n1493\n01:06:27.180 --> 01:06:27.730\nI like it.\n\n1494\n01:06:27.730 --> 01:06:29.440\n>> All right, what else do we have?\n\n1495\n01:06:31.440 --> 01:06:32.990\nIn the objectives, for\n\n1496\n01:06:32.990 --> 01:06:36.210\nthe most part they're just talking\nabout general audit policies, right?\n\n1497\n01:06:36.210 --> 01:06:38.730\nBut they do call out two specifically.\n\n1498\n01:06:38.730 --> 01:06:40.030\nLet me get back to my objective list.\n\n1499\n01:06:41.090 --> 01:06:43.700\nHere we go, these guys right here.\n\n1500\n01:06:43.700 --> 01:06:47.790\nThey specifically call out\nexpression based audit policies, and\n\n1501\n01:06:47.790 --> 01:06:49.130\nremovable device.\n\n1502\n01:06:49.130 --> 01:06:49.790\nAudit policies.\n\n1503\n01:06:49.790 --> 01:06:51.110\nSo what are these?\n\n1504\n01:06:51.110 --> 01:06:52.270\nAnd, and what do they do?\n\n1505\n01:06:52.270 --> 01:06:54.450\n>> Yeah cause we didn't see\nanywhere in there looking at our,\n\n1506\n01:06:54.450 --> 01:06:58.570\nour nine categories and there was\nnothing to do with removable devices or.\n\n1507\n01:06:58.570 --> 01:06:59.390\nOr anything like that.\n\n1508\n01:06:59.390 --> 01:07:00.760\nSo where the heck are these guys?\n\n1509\n01:07:00.760 --> 01:07:01.750\n>> Yep.\n\n1510\n01:07:01.750 --> 01:07:04.930\nSo these are, are some special settings\nthat Microsoft is calling out for, for\n\n1511\n01:07:04.930 --> 01:07:06.370\nparticular reasons, right?\n\n1512\n01:07:06.370 --> 01:07:08.660\nLet's start with expression based.\n\n1513\n01:07:08.660 --> 01:07:12.950\nWhen we create an audit policy, the\ndefault is that we apply it to a computer\n\n1514\n01:07:12.950 --> 01:07:15.900\nand it applies to everybody who\nis logging into that computer.\n\n1515\n01:07:17.330 --> 01:07:21.080\n>> But if you've ever had to evaluate\nthe event logs that are generated by this,\n\n1516\n01:07:21.080 --> 01:07:24.370\nthey can be massive,\ntons of data in there.\n\n1517\n01:07:24.370 --> 01:07:27.950\n>> It always amazes me how many events\ncan occur with one person clicking\n\n1518\n01:07:27.950 --> 01:07:28.770\non one fire.\n\n1519\n01:07:28.770 --> 01:07:32.560\nAs they go through each directory,\nit's generating those events and\n\n1520\n01:07:32.560 --> 01:07:34.270\nyou get ten entries for that one person.\n\n1521\n01:07:34.270 --> 01:07:37.150\nYou multiply that by thousands\nof users across your interface.\n\n1522\n01:07:37.150 --> 01:07:38.730\nNot fun.\n\n1523\n01:07:38.730 --> 01:07:43.040\n>> So we probably want to try and\nkeep the logging as narrow as possible,\n\n1524\n01:07:43.040 --> 01:07:47.400\nand in the main GPO it wasn't\nimmediately obvious how to do that, but\n\n1525\n01:07:47.400 --> 01:07:50.435\nyou can do it, and we'll show you how.\n\n1526\n01:07:50.435 --> 01:07:52.865\nFrom auditpol we saw where\nwe could include and\n\n1527\n01:07:52.865 --> 01:07:55.325\nexclude users based on what we put in.\n\n1528\n01:07:55.325 --> 01:07:58.285\nWell, in a GPO you can do it too.\n\n1529\n01:07:58.285 --> 01:08:00.855\nLet me get back to my server.\n\n1530\n01:08:02.305 --> 01:08:03.775\nAnd do I still have that policy open?\n\n1531\n01:08:05.100 --> 01:08:06.230\nThere we go.\nAll right, so\n\n1532\n01:08:06.230 --> 01:08:09.710\nhere's the policy where we were\nworking just a few moments ago.\n\n1533\n01:08:09.710 --> 01:08:14.630\nAnd if I go in here and I start to\nturn on auditing for various things,\n\n1534\n01:08:14.630 --> 01:08:17.660\nwell, it's auditing for everybody, right?\n\n1535\n01:08:17.660 --> 01:08:21.440\n>> So we may need to go in here and start\nkinda tinkering around with this, and\n\n1536\n01:08:21.440 --> 01:08:23.090\nget things configured\nthe way that we want.\n\n1537\n01:08:23.090 --> 01:08:27.400\nWell I'm just in the local policies here,\nthat's not terribly exciting.\n\n1538\n01:08:27.400 --> 01:08:31.410\nBut if you look in this same\ntree down towards the bottom,\n\n1539\n01:08:32.800 --> 01:08:35.960\nadvanced audit policy configuration,\nright?\n\n1540\n01:08:35.960 --> 01:08:36.840\n>> Let me zoom in.\n\n1541\n01:08:38.100 --> 01:08:39.410\n>> It's ten o'clock somewhere.\n\n1542\n01:08:39.410 --> 01:08:41.190\n>> In ten minutes my\ncomputer will explode.\n\n1543\n01:08:41.190 --> 01:08:42.850\nAll right, so here we go.\n\n1544\n01:08:42.850 --> 01:08:45.860\nWe've got the Advanced Audit\nPolicy Configuration right there.\n\n1545\n01:08:45.860 --> 01:08:47.300\nAnd I apologize in advance,\n\n1546\n01:08:47.300 --> 01:08:51.003\nI'm probably gonna have two mice again,\nalthough I don't see the second mouse.\n\n1547\n01:08:51.003 --> 01:08:51.760\n>> [INAUDIBLE]\n>> Yeah, it's there.\n\n1548\n01:08:51.760 --> 01:08:54.980\nWell, all right.\nWell, anyhow, I'll pretend it's not there.\n\n1549\n01:08:54.980 --> 01:08:55.520\n>> [LAUGH]\n>> So\n\n1550\n01:08:55.520 --> 01:08:56.700\n>> If we go under advanced audit.\n\n1551\n01:08:56.700 --> 01:08:58.605\n>> This is not the mouse\nyou're looking for.\n\n1552\n01:08:58.605 --> 01:09:01.140\n[LAUGH]\n>> We'll see audit policies in here.\n\n1553\n01:09:01.140 --> 01:09:02.710\nAnd much like before, you know?\n\n1554\n01:09:02.710 --> 01:09:04.990\nThere's not a whole heck of a lot in here.\n\n1555\n01:09:04.990 --> 01:09:06.030\nBut see what we've got.\n\n1556\n01:09:06.030 --> 01:09:10.510\nHere's our standard, you know, our\nobject access, privilege use, DS access.\n\n1557\n01:09:10.510 --> 01:09:12.370\nAll those same ones from the other screen.\n\n1558\n01:09:12.370 --> 01:09:13.640\nAnd actually, I think there's one extra.\n\n1559\n01:09:13.640 --> 01:09:19.410\nIf you expand out auto policies,\nyou should see 53 new ones.\n\n1560\n01:09:19.410 --> 01:09:23.540\nEach one of those is expandable, right?\n\n1561\n01:09:23.540 --> 01:09:25.900\n>> Yeah,\nThese break out into further things.\n\n1562\n01:09:25.900 --> 01:09:27.240\n>> They get very detailed.\n\n1563\n01:09:27.240 --> 01:09:29.320\n>> Some of them don't,\nbut some of them do.\n\n1564\n01:09:29.320 --> 01:09:30.270\n>> Or if you click on them, maybe?\n\n1565\n01:09:31.370 --> 01:09:34.550\n>> Well, I know we can create our\nvarious stuff underneath them.\n\n1566\n01:09:34.550 --> 01:09:37.810\nBut, so there's a bunch of stuff in\nhere to kinda tinker around with, and\n\n1567\n01:09:37.810 --> 01:09:41.570\nwhen we create the auto policies here,\nwe get a lot more control.\n\n1568\n01:09:41.570 --> 01:09:46.380\nWe get the ability to do what they're\nspecifying in the exam objective.\n\n1569\n01:09:46.380 --> 01:09:48.275\nWhich is expression based.\n\n1570\n01:09:48.275 --> 01:09:49.950\nAuto-policies.\n\n1571\n01:09:49.950 --> 01:09:50.865\n>> Right.\n\n1572\n01:09:50.865 --> 01:09:52.850\n>> That just means that we right\nsome kind of an expression.\n\n1573\n01:09:52.850 --> 01:09:55.710\nA mathematical formula?\n\n1574\n01:09:55.710 --> 01:10:00.750\n>> Or a conditional expression where\nonly if they're part of this group or\n\n1575\n01:10:00.750 --> 01:10:03.510\nonly if they're coming from\nthis particular computer or\n\n1576\n01:10:03.510 --> 01:10:05.290\nthis subnet, something like that.\n\n1577\n01:10:05.290 --> 01:10:07.860\n>> So if I want to do one like,\nhere, I'll go to\n\n1578\n01:10:07.860 --> 01:10:10.850\n>> Global object access auditing, right.\n\n1579\n01:10:10.850 --> 01:10:14.440\nAnd when I go on to that, I'll see here,\nand here's where Mike was saying,\n\n1580\n01:10:14.440 --> 01:10:15.850\nthere's actually more things underneath.\n\n1581\n01:10:15.850 --> 01:10:17.910\nIt's not expanding on the left,\nbut here they are.\n\n1582\n01:10:17.910 --> 01:10:20.430\nNot just file system, but\nregistry is showing up.\n\n1583\n01:10:20.430 --> 01:10:23.000\nSo I can come in here and\nI can start to set these.\n\n1584\n01:10:23.000 --> 01:10:25.220\nSo if I want to turn something on like\n>> Okay.\n\n1585\n01:10:25.220 --> 01:10:27.610\nI'll go to logon/log off, right.\n\n1586\n01:10:27.610 --> 01:10:28.680\n>> So, logon/log off.\n\n1587\n01:10:28.680 --> 01:10:30.250\nAnd here's all the ones underneath it.\n\n1588\n01:10:30.250 --> 01:10:31.900\nThis is how we get up to that 53 number.\n\n1589\n01:10:31.900 --> 01:10:32.750\n>> Yeah.\n\n1590\n01:10:32.750 --> 01:10:34.620\nYep.\n>> So if I want to edit logon, or\n\n1591\n01:10:34.620 --> 01:10:39.835\nauto logons, and maybe I just want\nto edit logon for administrators.\n\n1592\n01:10:39.835 --> 01:10:43.555\nIf a regular user logs on, I don't care,\nthey can't really do any damage, but\n\n1593\n01:10:43.555 --> 01:10:46.075\nif an administrator logs on,\nI want to know it.\n\n1594\n01:10:46.075 --> 01:10:49.285\nI want a record of anytime somebody\ngets elevated privileges on a machine.\n\n1595\n01:10:50.355 --> 01:10:53.090\nSo I might choose to turn this on.\n\n1596\n01:10:53.090 --> 01:10:57.900\nBut filter it so that only administrators\nare getting logged, right?\n\n1597\n01:10:57.900 --> 01:10:59.190\nSo when we come in here and\n\n1598\n01:10:59.190 --> 01:11:04.390\nwe turn this stuff on, you've got where\nyou can configure the audit events.\n\n1599\n01:11:04.390 --> 01:11:05.660\nAnd actually, you know what, I forgot.\n\n1600\n01:11:05.660 --> 01:11:06.410\nYou can't do it.\n\n1601\n01:11:06.410 --> 01:11:07.530\nIt won't discriminate on this.\n\n1602\n01:11:07.530 --> 01:11:09.240\n>> You can't the way I have\nthe layout of the logins.\n\n1603\n01:11:09.240 --> 01:11:11.380\nThat's probably the one that you can't do.\n\n1604\n01:11:11.380 --> 01:11:13.200\n>> Yeah.\nThere is a way, but it's not the easy way.\n\n1605\n01:11:13.200 --> 01:11:14.740\n>> But it's conditional.\n\n1606\n01:11:14.740 --> 01:11:16.900\n>> Yeah.\nSo let's go to file access.\n\n1607\n01:11:16.900 --> 01:11:18.580\nSo if I go to object access, and\n\n1608\n01:11:18.580 --> 01:11:20.880\nlet's say here that I want to\nlimit it to administrators.\n\n1609\n01:11:20.880 --> 01:11:21.810\nRight?\n>> Mm-hm.\n\n1610\n01:11:21.810 --> 01:11:25.088\n>> So, I'll go and say,\nwhat would be a good one to mess\n\n1611\n01:11:25.088 --> 01:11:31.610\n>> With let's say, just file system.\n\n1612\n01:11:31.610 --> 01:11:33.170\nSo just file system access.\n\n1613\n01:11:33.170 --> 01:11:35.180\n>> Detailed file share is another\ngood one, I don't know if that one.\n\n1614\n01:11:35.180 --> 01:11:36.360\n>> We can go to that one.\n\n1615\n01:11:36.360 --> 01:11:39.042\n>> I don't know if you can\ndo conditionals on that one.\n\n1616\n01:11:39.042 --> 01:11:43.159\nDetail five usually gives you more\ninformation when you do a object access,\n\n1617\n01:11:43.159 --> 01:11:47.724\nthis starts telling you a little bit more\nabout what they did, what right they used,\n\n1618\n01:11:47.724 --> 01:11:52.095\nwhen they accessed that object and things\nlike that, so they can give you a little\n\n1619\n01:11:52.095 --> 01:11:56.583\nmore detailed You know, let's jump down\nhere to global object access auditing.\n\n1620\n01:11:56.583 --> 01:12:00.760\nThis one is where we can go in,\nhere, let me just pull this up.\n\n1621\n01:12:02.470 --> 01:12:03.440\nThere we go.\n\n1622\n01:12:03.440 --> 01:12:05.080\nWhere we can go in and\nwe can define it, and\n\n1623\n01:12:05.080 --> 01:12:07.130\nnotice this screen here, global objects.\n\n1624\n01:12:07.130 --> 01:12:09.700\nThis would be like all\nthe objects on my system.\n\n1625\n01:12:09.700 --> 01:12:12.267\nWhen we pull this up notice\nhow I checked the box and\n\n1626\n01:12:12.267 --> 01:12:14.907\nit's not asking me to pick successes or\nfailures.\n\n1627\n01:12:14.907 --> 01:12:18.479\nThis is giving me the full on advance\nscreen, this is what I'm looking for.\n\n1628\n01:12:18.479 --> 01:12:23.566\nIf I go into my configuration here\nI can define specifically what\n\n1629\n01:12:23.566 --> 01:12:29.026\nusers I want to audit for, and\nthen I can even go a little bit further,\n\n1630\n01:12:29.026 --> 01:12:34.510\nand I can start to do my\nexpression-based auditing, all right.\n\n1631\n01:12:34.510 --> 01:12:38.400\nSo we can really start to get advanced\nhere and do some neat things.\n\n1632\n01:12:38.400 --> 01:12:41.676\nLet me just cancel this for a second here.\n\n1633\n01:12:41.676 --> 01:12:42.349\nThat's not what I wanted.\n\n1634\n01:12:46.593 --> 01:12:47.345\nAll right.\n\n1635\n01:12:47.345 --> 01:12:48.670\nI'm gonna define the policy.\n\n1636\n01:12:48.670 --> 01:12:50.338\nLet me just hit apply here real quick.\n\n1637\n01:12:50.338 --> 01:12:51.516\nYeah, yeah, yeah.\n\n1638\n01:12:51.516 --> 01:12:54.180\n[LAUGH] Confirm my setting already.\n\n1639\n01:12:54.180 --> 01:12:55.160\nThere we go.\n\n1640\n01:12:55.160 --> 01:12:57.400\nNow we'll go in here and configure it.\n\n1641\n01:12:57.400 --> 01:13:01.860\nSo I'm gonna go in here and I'm gonna add\nwho my principle is, and I'm gonna say\n\n1642\n01:13:01.860 --> 01:13:08.940\nthat I want to audit whatever group\nit is that I want to filter by.\n\n1643\n01:13:08.940 --> 01:13:10.107\nSo.\n>> [CROSSTALK]\n\n1644\n01:13:10.107 --> 01:13:11.060\n>> I'll do domain maintenance.\n\n1645\n01:13:11.060 --> 01:13:12.120\n>> There you go.\n\n1646\n01:13:12.120 --> 01:13:15.310\n>> So I want to keep track of when\ndomain admins are doing stuff because\n\n1647\n01:13:15.310 --> 01:13:17.950\nthey can do all sorts of crazy things,\nall right.\n\n1648\n01:13:17.950 --> 01:13:21.660\nAnd then I can pick exactly what\nit is that I'm wanting to audit.\n\n1649\n01:13:21.660 --> 01:13:24.868\nWhen they use full control, when they\nuse read, when they use write, you know,\n\n1650\n01:13:24.868 --> 01:13:26.058\nif I want to track that stuff.\n\n1651\n01:13:26.058 --> 01:13:28.580\n>> They might have read permission,\nand I don't care when they read, or\n\n1652\n01:13:28.580 --> 01:13:30.410\nI don't really want to\nknow every time they read.\n\n1653\n01:13:30.410 --> 01:13:32.840\nI wanna know when they write or\nwhen they modify, so\n\n1654\n01:13:32.840 --> 01:13:35.564\nI can be very specific about\nwhat I actually wanna audit.\n\n1655\n01:13:35.564 --> 01:13:36.114\n>> Yeah.\n\n1656\n01:13:36.114 --> 01:13:38.660\nAll right I'm gonna do change permissions.\n\n1657\n01:13:38.660 --> 01:13:40.740\n>> So then modify the access controllers.\n\n1658\n01:13:40.740 --> 01:13:42.613\n>> Yeah.\nAnytime they filter cuz maybe I've got\n\n1659\n01:13:42.613 --> 01:13:46.400\na security policy in place that says these\nfiles have to have these permissions.\n\n1660\n01:13:46.400 --> 01:13:49.290\nAnd if somebody goes and\nchanges those, I wanna know about it.\n\n1661\n01:13:49.290 --> 01:13:51.730\n>> Yeah,\nit's violating our company policy.\n\n1662\n01:13:51.730 --> 01:13:53.530\n>> So if I stop right there.\n\n1663\n01:13:53.530 --> 01:14:00.623\nNow I'm just auditing when domain admins\nsuccessfully changed permissions, okay?\n\n1664\n01:14:00.623 --> 01:14:04.402\nI could choose success and\nfail, which is all, right?\n\n1665\n01:14:04.402 --> 01:14:06.864\nAnd if I do that I'll get both, but\nI don't really care about the failures,\n\n1666\n01:14:06.864 --> 01:14:07.800\nI care about the successes.\n\n1667\n01:14:07.800 --> 01:14:09.793\nSo anytime they successfully\nchange permissions,\n\n1668\n01:14:09.793 --> 01:14:12.080\nI want to know about it, all right?\n\n1669\n01:14:12.080 --> 01:14:16.806\nAnd then down here at the bottom, this is\nthe expression that I was talking about,\n\n1670\n01:14:16.806 --> 01:14:17.641\nthe formula.\n\n1671\n01:14:17.641 --> 01:14:22.058\nWe can add conditions, and\nwe can say things like,\n\n1672\n01:14:22.058 --> 01:14:28.042\nonly do it if the user is a domain admin,\nbut also in this other group.\n\n1673\n01:14:28.042 --> 01:14:30.290\nI can say user group member of each, and\n\n1674\n01:14:30.290 --> 01:14:32.960\nstart to list some other groups here,\nright?\n\n1675\n01:14:32.960 --> 01:14:34.630\n>> You have to add them, probably.\n\n1676\n01:14:34.630 --> 01:14:38.070\nAt a school, once you start adding them,\nyou can add as many as you want.\n\n1677\n01:14:38.070 --> 01:14:41.670\nIt'll give you check boxes,\nif I remember correctly, next to it.\n\n1678\n01:14:41.670 --> 01:14:44.550\nThen you can pick as many\nof those as you need to.\n\n1679\n01:14:44.550 --> 01:14:46.000\nLike you might say, okay,\n\n1680\n01:14:46.000 --> 01:14:49.120\nI only wanna know if they're gonna audit\nit if they're in the domain admins and\n\n1681\n01:14:49.120 --> 01:14:53.448\nthey're in the IT admins, and they're in\nthe managers group or something like that.\n\n1682\n01:14:53.448 --> 01:14:56.824\n>> Yeah, so if I drop, there's that\ncheckbox that Mike was talking about.\n\n1683\n01:14:56.824 --> 01:14:59.437\nSo you can start to kind\nof build that list, and\n\n1684\n01:14:59.437 --> 01:15:03.658\nyou only have one of these conditions\nby default, but you can add more, and\n\n1685\n01:15:03.658 --> 01:15:07.953\nyou can come in and you can specify\nmultiple things, so you can say and or or.\n\n1686\n01:15:07.953 --> 01:15:12.686\nSo maybe if they're a domain admin and\nthey're in the Gainesville group,\n\n1687\n01:15:12.686 --> 01:15:14.120\ndo the auditing.\n\n1688\n01:15:14.120 --> 01:15:17.050\nBut if they're in the domain admins group\nand they're in the Pensacola group,\n\n1689\n01:15:17.050 --> 01:15:18.190\ndon't do the auditing.\n\n1690\n01:15:18.190 --> 01:15:20.980\nSo you know, you can kinda pick and\nchoose how you want.\n\n1691\n01:15:20.980 --> 01:15:25.740\nThis is expression based auditing,\nit lets us filter out the stuff so\n\n1692\n01:15:25.740 --> 01:15:27.630\nthat we don't get overwhelmed\nwith the vent log notes.\n\n1693\n01:15:27.630 --> 01:15:28.540\n>> It's powerful stuff.\n\n1694\n01:15:28.540 --> 01:15:30.960\nWe can do things that we\njust could not do before or\n\n1695\n01:15:30.960 --> 01:15:34.400\nwould have been extremely difficult\nto try to do without this.\n\n1696\n01:15:34.400 --> 01:15:36.530\nAnd we'll see later on we get into 4.12,\n\n1697\n01:15:36.530 --> 01:15:39.620\nthis extends over into\nour permissions as well.\n\n1698\n01:15:39.620 --> 01:15:43.748\nWhere we can assign permissions based\non multiple group memberships and\n\n1699\n01:15:43.748 --> 01:15:46.329\ndevices, cuz that'd be another good idea.\n\n1700\n01:15:46.329 --> 01:15:49.948\nWe could say, we wanna know it's okay if\nthe domain admins make changes to those\n\n1701\n01:15:49.948 --> 01:15:53.461\nsystem access control list or the access\ncontrol lists when they're at a work\n\n1702\n01:15:53.461 --> 01:15:57.300\ncomputer, but if they're from their home\ncomputer, a computer that's not part of\n\n1703\n01:15:57.300 --> 01:16:01.274\nthe domain, I don't want them remoting in\nand making changes or something like that.\n\n1704\n01:16:01.274 --> 01:16:04.859\nSo we can do some really cool\nthings with these expressions,\n\n1705\n01:16:04.859 --> 01:16:06.810\nthis dynamic access control.\n\n1706\n01:16:06.810 --> 01:16:09.200\n>> Yeah, so\nI'm gonna modify this one a little bit.\n\n1707\n01:16:11.800 --> 01:16:14.730\nI want to audit my domain admins.\n\n1708\n01:16:14.730 --> 01:16:22.740\nBut then down here I'm going to say user\ngroup not member of any enterprise admins.\n\n1709\n01:16:22.740 --> 01:16:25.340\nSo if you're an enterprise admin,\nI'm not going to audit you.\n\n1710\n01:16:25.340 --> 01:16:28.020\nYou are the most highly\ntrusted employee there is.\n\n1711\n01:16:28.020 --> 01:16:29.520\nBut if you're just a domain admin,\n\n1712\n01:16:29.520 --> 01:16:31.760\nwe're going to audit you and\nkeep a record of that.\n\n1713\n01:16:31.760 --> 01:16:33.500\nSo you can kind of define\nthat how you want.\n\n1714\n01:16:33.500 --> 01:16:38.160\nNow, building on what Mike said,\nthis is really just limited to group, but\n\n1715\n01:16:38.160 --> 01:16:42.250\nyou'll see authentication silo,\nwhen you couple this with some of\n\n1716\n01:16:42.250 --> 01:16:45.900\nthe policies Mike was talking about,\nyou get tons of options.\n\n1717\n01:16:45.900 --> 01:16:48.850\nYou can filter out a lot\nmore than group membership.\n\n1718\n01:16:48.850 --> 01:16:50.500\n>> Yeah, we can start doing claims.\n\n1719\n01:16:50.500 --> 01:16:53.270\nWell, we can look at just about every\nattribute on that user account,\n\n1720\n01:16:53.270 --> 01:16:55.160\nlike their,\nif you filled in all the properties,\n\n1721\n01:16:55.160 --> 01:16:56.640\nwhich I know every company does, right?\n\n1722\n01:16:56.640 --> 01:16:58.146\nWe always fill out all those properties.\n\n1723\n01:16:58.146 --> 01:17:03.260\nBut like department or\nstate that their coming from or\n\n1724\n01:17:03.260 --> 01:17:07.350\ncountry or something like that,\nwe can do the same thing with devices too.\n\n1725\n01:17:07.350 --> 01:17:09.710\nWe can look at the device\nmembership group,\n\n1726\n01:17:09.710 --> 01:17:13.700\nonly if the user is in the administrator\ndomain admins group and\n\n1727\n01:17:13.700 --> 01:17:16.991\nthe computer is part of\nthe manager's work-station.\n\n1728\n01:17:16.991 --> 01:17:20.110\n>> Yeah, and that's useful if you want\nto do your auditing on the servers, but\n\n1729\n01:17:20.110 --> 01:17:20.970\nnot the work stations.\n\n1730\n01:17:20.970 --> 01:17:23.590\nSo you get filters that suggest\nif they're in a server, so\n\n1731\n01:17:23.590 --> 01:17:26.990\nyou can really get powerful with it.\n\n1732\n01:17:26.990 --> 01:17:28.730\nOn this exam, on the 7411 exam,\n\n1733\n01:17:28.730 --> 01:17:32.670\nthey don't go into the crazy\nadvanced stuff, that's on the 412.\n\n1734\n01:17:32.670 --> 01:17:36.720\nSo, for us, we just need to remember that\nit is possible to filter not just by one\n\n1735\n01:17:36.720 --> 01:17:39.750\ngroup, cause we have that option up\nhere at the top, if I can get to it,\n\n1736\n01:17:39.750 --> 01:17:43.520\nwe've got the one group, but\nthen you can go down here and\n\n1737\n01:17:43.520 --> 01:17:46.310\nfilter even more by additional categories.\n\n1738\n01:17:46.310 --> 01:17:47.270\n>> I like it.\n\n1739\n01:17:47.270 --> 01:17:48.056\n>> So it's cool stuff.\n\n1740\n01:17:48.056 --> 01:17:51.669\nIt's called expression based auditing,\n\n1741\n01:17:51.669 --> 01:17:55.290\nwhich sounds a lot more\ncomplex than it is.\n\n1742\n01:17:55.290 --> 01:17:56.155\nIt's just filters.\n\n1743\n01:17:56.155 --> 01:17:57.780\n>> [LAUGH] Yeah.\nAnd they make it pretty easy.\n\n1744\n01:17:57.780 --> 01:17:59.140\nI mean they give us\ndifferent drop down lists.\n\n1745\n01:17:59.140 --> 01:18:00.350\nYeah, I pick from so.\n\n1746\n01:18:00.350 --> 01:18:09.080\n>> Just be aware that it's not\navailable on all of the audit policies.\n\n1747\n01:18:09.080 --> 01:18:11.780\nSo notice that I had to go\nto global object access.\n\n1748\n01:18:11.780 --> 01:18:15.400\nWhen I originally went to object access,\nI didn't have that.\n\n1749\n01:18:15.400 --> 01:18:18.920\nI didn't have that option, and\nso when I went in here and\n\n1750\n01:18:18.920 --> 01:18:20.705\njust went into like file system.\n\n1751\n01:18:20.705 --> 01:18:22.360\n>> Mm-hm.\n\n1752\n01:18:22.360 --> 01:18:25.650\nYeah, and the other thing to remember\nabout that global object access is that it\n\n1753\n01:18:25.650 --> 01:18:27.010\ndoes, it's global, right?\n\n1754\n01:18:27.010 --> 01:18:29.800\nIt's gonna be all objects where\nwe talked about it in those\n\n1755\n01:18:29.800 --> 01:18:31.190\nbasic categories that we had.\n\n1756\n01:18:31.190 --> 01:18:32.390\nIt was a two part process.\n\n1757\n01:18:32.390 --> 01:18:37.400\nYou had to turn on object access, then go\nto the object and enable auditing on that.\n\n1758\n01:18:37.400 --> 01:18:41.990\nYou do this on an OU that has an sever\nin it, it's every object on that server.\n\n1759\n01:18:41.990 --> 01:18:46.020\nSo it is important that we use our\ndynamic, or our expression based,\n\n1760\n01:18:46.020 --> 01:18:49.200\ncuz we want to make sure we're filtering,\ngetting just what we need.\n\n1761\n01:18:49.200 --> 01:18:49.935\n>> Yep.\n\n1762\n01:18:49.935 --> 01:18:51.300\nAll right.\nWe've got one last setting\n\n1763\n01:18:51.300 --> 01:18:54.158\nthat we need to cover, but\nlooking at the clock, it's about time for\n\n1764\n01:18:54.158 --> 01:18:55.306\nus to stop and take a break.\n\n1765\n01:18:55.306 --> 01:18:56.363\n>> Looking at your Gucci.\n\n1766\n01:18:56.363 --> 01:18:57.590\n>> I know.\n\n1767\n01:18:57.590 --> 01:18:59.170\nMy Gucci with three c's.\n\n1768\n01:18:59.170 --> 01:19:01.960\nSo why don't we stop here and\ntake a break.\n\n1769\n01:19:01.960 --> 01:19:04.100\nAnd when we get back we're\ngonna tackle that last one,\n\n1770\n01:19:04.100 --> 01:19:07.630\nthe removable object audit policy things.\n\n1771\n01:19:07.630 --> 01:19:08.980\n>> Sounds good to me.\n\n1772\n01:19:08.980 --> 01:19:10.440\n>> And we'll wrap up from there.\n\n1773\n01:19:10.440 --> 01:19:13.423\nSo stay tuned.\nThe exciting conclusion after this.\n\n1774\n01:19:13.423 --> 01:19:22.201\n[MUSIC]\n\n1775\n01:19:22.201 --> 01:19:23.890\nAll right, welcome back everybody.\n\n1776\n01:19:23.890 --> 01:19:27.550\nSo the last thing that we need to talk\nabout here as far as audit policies,\n\n1777\n01:19:27.550 --> 01:19:32.740\nif pull up our exam objectives, Microsoft\nspecifically added this new one which is\n\n1778\n01:19:32.740 --> 01:19:36.190\ncreate removable device audit policies.\n\n1779\n01:19:36.190 --> 01:19:36.865\nAll right?\n\n1780\n01:19:36.865 --> 01:19:38.500\nSo what are we talking about here?\n\n1781\n01:19:38.500 --> 01:19:43.346\n>> Thumb drives, portable hard drives, all\nthose USB things that we can plug in and\n\n1782\n01:19:43.346 --> 01:19:47.262\nsteal data with or [LAUGH] all kinds\nof fun stuff you can do, I mean,\n\n1783\n01:19:47.262 --> 01:19:49.208\nbad stuff we could do with that.\n\n1784\n01:19:49.208 --> 01:19:52.972\n>> Yeah you know you look at these\nhigh visibility data thefts that\n\n1785\n01:19:52.972 --> 01:19:54.543\nhave happened recently.\n\n1786\n01:19:54.543 --> 01:19:57.661\nA couple years ago we had Bradley Manning\nwho lifted all that data from\n\n1787\n01:19:57.661 --> 01:19:58.375\nthe Pentagon.\n\n1788\n01:19:58.375 --> 01:20:00.825\nThe whole WikiLeaks scandal, that was him.\n\n1789\n01:20:00.825 --> 01:20:02.500\n>> Yep\n>> More recently,\n\n1790\n01:20:02.500 --> 01:20:04.490\nwe had Edward Snowden with the NSA.\n\n1791\n01:20:04.490 --> 01:20:05.180\nRight?\n\n1792\n01:20:05.180 --> 01:20:07.920\nThese guys are getting their\ndata out the same way.\n\n1793\n01:20:07.920 --> 01:20:12.640\nThey take data that they have access\nto because of their security clearance.\n\n1794\n01:20:12.640 --> 01:20:16.695\nAnd then their dumping it onto USB devices\nand walking right out the door with it.\n\n1795\n01:20:16.695 --> 01:20:17.750\n>> Yep.\n>> So you can't\n\n1796\n01:20:17.750 --> 01:20:19.380\ncapture it as it's exiting the network.\n\n1797\n01:20:19.380 --> 01:20:22.100\nYou don't get that digital\nfootprint of the data going on.\n\n1798\n01:20:22.100 --> 01:20:23.490\nTheir using removable media.\n\n1799\n01:20:23.490 --> 01:20:27.252\nNow my approach has always been\njust disable removable media.\n\n1800\n01:20:27.252 --> 01:20:28.086\n>> Disable them, yeah.\n\n1801\n01:20:28.086 --> 01:20:29.198\n>> If you got those options.\n\n1802\n01:20:29.198 --> 01:20:34.730\nBut if you need it for some reason,\nwell then you need to audit the use of it,\n\n1803\n01:20:34.730 --> 01:20:37.520\nso you can keep a record of when\nsomebody is using a USB device.\n\n1804\n01:20:37.520 --> 01:20:38.220\n>> They are useful.\n\n1805\n01:20:38.220 --> 01:20:39.380\nRight?\nThey're portable,\n\n1806\n01:20:39.380 --> 01:20:42.500\nthey're easy to move data from one\ndevice to another and things like that.\n\n1807\n01:20:42.500 --> 01:20:45.140\nBut that also becomes part\nof their vulnerability.\n\n1808\n01:20:45.140 --> 01:20:46.635\nIt's easy to move that data to a them and\n\n1809\n01:20:46.635 --> 01:20:49.820\nshoot you can carry 128 gigs in your\npocket and nobody is going to even notice.\n\n1810\n01:20:49.820 --> 01:20:50.510\n>> Yeah.\n\n1811\n01:20:50.510 --> 01:20:52.390\n>> So\nthey're a great way to slip data out.\n\n1812\n01:20:52.390 --> 01:20:55.600\nThey're also just for\nthe fact of they're easy to lose.\n\n1813\n01:20:55.600 --> 01:20:58.330\nYou throw some sensitive data on there\nbecause you're gonna take it home\n\n1814\n01:20:58.330 --> 01:20:59.320\nand work with it.\n\n1815\n01:20:59.320 --> 01:21:01.900\nYou leave it in the backseat of the cab,\nit falls out of your pocket,\n\n1816\n01:21:01.900 --> 01:21:04.140\nyou leave it laying on a table somewhere.\n\n1817\n01:21:04.140 --> 01:21:05.040\nAnd now that data is gone.\n\n1818\n01:21:05.040 --> 01:21:06.300\nI know a lot of military posts,\n\n1819\n01:21:06.300 --> 01:21:07.900\nI don't think they even allow-\n>> Yeah.\n\n1820\n01:21:07.900 --> 01:21:08.940\n>> USB at all.\n\n1821\n01:21:08.940 --> 01:21:10.050\n>> Most of them block it but\n\n1822\n01:21:10.050 --> 01:21:15.170\nin a high security environment, then\nyou might need to create a policy that,\n\n1823\n01:21:15.170 --> 01:21:18.750\nwell you might have servers that are not\nallowed to be connected to the network.\n\n1824\n01:21:18.750 --> 01:21:20.150\nRight?\nLike your root CA,\n\n1825\n01:21:20.150 --> 01:21:21.835\nyou might keep that off the network.\n\n1826\n01:21:21.835 --> 01:21:23.350\n>> Yeah.\n>> And so how do you get data back and\n\n1827\n01:21:23.350 --> 01:21:24.030\nforth to it?\n\n1828\n01:21:24.030 --> 01:21:25.990\nYou might pull up your\ncertificate requests and\n\n1829\n01:21:25.990 --> 01:21:27.060\ncarry them over with a USB key.\n\n1830\n01:21:27.060 --> 01:21:28.510\n>> Yeah.\n>> And that's what a lot of people do for\n\n1831\n01:21:28.510 --> 01:21:30.260\nthose really secure systems.\n\n1832\n01:21:30.260 --> 01:21:33.270\nSo now you've got a bunch of\ncertificates on that USB key.\n\n1833\n01:21:33.270 --> 01:21:33.795\nRight?\n>> Yeah.\n\n1834\n01:21:33.795 --> 01:21:35.140\n>> And that's what makes these\n\n1835\n01:21:35.140 --> 01:21:35.970\nthings really vulnerable.\n\n1836\n01:21:35.970 --> 01:21:39.170\nAnd that's exactly what happened with\nBradley Manning was they had a system that\n\n1837\n01:21:39.170 --> 01:21:44.190\nwas failing and they did a backup to a usb\ndevice while they restored that system.\n\n1838\n01:21:44.190 --> 01:21:47.120\nAnd then he was sitting there holding this\nUSB device that had a ton of data and\n\n1839\n01:21:47.120 --> 01:21:50.220\nthey just tempted him till he\nfinally walked out with it.\n\n1840\n01:21:50.220 --> 01:21:52.870\nIt wasn't a very\nsophisticated leak at all.\n\n1841\n01:21:52.870 --> 01:21:53.760\n>> No, no.\n>> But so anyhow, so\n\n1842\n01:21:53.760 --> 01:21:55.790\nMicrosoft said, what can we do about this?\n\n1843\n01:21:55.790 --> 01:22:00.470\nAnd so they created an audit policy that\nwe can use to audit removal devices.\n\n1844\n01:22:00.470 --> 01:22:03.220\nThese are difficult things to audit\nnormally because they're not always there.\n\n1845\n01:22:03.220 --> 01:22:04.040\nRight?\n>> Right.\n\n1846\n01:22:04.040 --> 01:22:08.120\n>> So we need to create the policy before\nsomebody even plugs the device in.\n\n1847\n01:22:08.120 --> 01:22:10.150\nSo let's take a look at that.\n\n1848\n01:22:10.150 --> 01:22:13.000\nIf we go back into our policy.\n\n1849\n01:22:13.000 --> 01:22:16.450\nAnd I was in this GPO\nhere a few minutes ago.\n\n1850\n01:22:16.450 --> 01:22:19.350\nWe were in Global Object Access Auditing.\n\n1851\n01:22:19.350 --> 01:22:21.190\n>> Doing our expression base, yep.\n\n1852\n01:22:21.190 --> 01:22:25.880\n>> Yeah, but if we just go back\nup a few to Object Access,\n\n1853\n01:22:25.880 --> 01:22:28.940\nyou'll see in here\nAudit Removable Storage.\n\n1854\n01:22:28.940 --> 01:22:30.080\n>> Nice.\n>> That guy right there.\n\n1855\n01:22:30.080 --> 01:22:33.179\nAudit Removable Storage, oops, and\nthen I click on something else.\n\n1856\n01:22:33.179 --> 01:22:35.740\n>> [LAUGH]\n>> This setting it's\n\n1857\n01:22:35.740 --> 01:22:39.030\nreally straightforward,\nthere's not a whole lot that we set.\n\n1858\n01:22:39.030 --> 01:22:42.372\nWe basically just turn it on and\nwe do successes and failures.\n\n1859\n01:22:42.372 --> 01:22:46.240\nSuccess is again being the more important,\nbut failures we can monitor too.\n\n1860\n01:22:46.240 --> 01:22:49.950\nIf somebody plugs in a USB device,\nif they copy data too it,\n\n1861\n01:22:49.950 --> 01:22:53.600\nif they remove the USB device,\nthe removable storage.\n\n1862\n01:22:53.600 --> 01:22:57.150\nIt will get red flagged and it will get\nstored in the event logs if this happened.\n\n1863\n01:22:57.150 --> 01:23:00.070\nSo we'll have a running track\nrecord of what was done.\n\n1864\n01:23:00.070 --> 01:23:02.120\n>> Proof of what was going on.\n\n1865\n01:23:02.120 --> 01:23:03.804\n>> Yep.\nSo, very important, and\n\n1866\n01:23:03.804 --> 01:23:07.538\na lot of these high visibility\ncompromises that we've had, well,\n\n1867\n01:23:07.538 --> 01:23:10.105\nthey could've been, not stopped with this.\n\n1868\n01:23:10.105 --> 01:23:11.994\n>> Right.\n>> This doesn't stop people from\n\n1869\n01:23:11.994 --> 01:23:14.980\nusing removing media\n>> But we could have a record of it.\n\n1870\n01:23:14.980 --> 01:23:17.030\nThey would've been able to\nlocate it faster and say hey,\n\n1871\n01:23:17.030 --> 01:23:18.920\nI got an authorized USB.\n\n1872\n01:23:18.920 --> 01:23:20.950\n>> And something we can take into court?\n\n1873\n01:23:20.950 --> 01:23:21.970\n>> Yeah.\n>> Like say if we find and\n\n1874\n01:23:21.970 --> 01:23:25.820\nwe wanna prosecute,\nthere's my evidence of what went on.\n\n1875\n01:23:25.820 --> 01:23:28.440\n>> Yeah man,\nI don't know if I remember it off hand\n\n1876\n01:23:28.440 --> 01:23:31.180\nwhere we can go to disable\nthe removable media.\n\n1877\n01:23:32.340 --> 01:23:34.040\nIt's actually is it here\nin security settings?\n\n1878\n01:23:34.040 --> 01:23:35.370\nDo you remember Mike?\n\n1879\n01:23:35.370 --> 01:23:37.870\n>> I think it is,\nlet me see if I can look real quick.\n\n1880\n01:23:37.870 --> 01:23:40.860\n>> I know, this is the kind of thing that\nif you think about it before the show you\n\n1881\n01:23:40.860 --> 01:23:45.970\ncan find it real easy, but\n[LAUGH] well in here somewhere.\n\n1882\n01:23:45.970 --> 01:23:48.230\nIt actually might even be under\nadministrative templates.\n\n1883\n01:23:48.230 --> 01:23:52.520\nThat we can go in and\nyou can actually just choose, right here.\n\n1884\n01:23:52.520 --> 01:23:58.910\nSo I went under Administrative Templates\n> System, > Removable Storage Access.\n\n1885\n01:23:58.910 --> 01:24:03.220\nAnd you'll see in here CD's and\nDVD, floppy drives,\n\n1886\n01:24:03.220 --> 01:24:07.068\nall removable storage classes\nthat include USB devices.\n\n1887\n01:24:07.068 --> 01:24:07.580\n>> Yep.\n\n1888\n01:24:07.580 --> 01:24:11.920\n>> So you can go in here and you can\nchoose to just out right block them.\n\n1889\n01:24:11.920 --> 01:24:13.050\nAnd if you block them out right,\n\n1890\n01:24:13.050 --> 01:24:15.230\nthen it's not a problem you don't\nhave to worry about it anymore.\n\n1891\n01:24:15.230 --> 01:24:17.270\nRight?\nPeople won't be able to use those devices.\n\n1892\n01:24:17.270 --> 01:24:22.530\nAll right, and just like any GPO you can\nscope this to a particular OU or group.\n\n1893\n01:24:22.530 --> 01:24:24.615\nSo if you have people who do need it,\nthey can make in\n\n1894\n01:24:24.615 --> 01:24:26.215\n>> They try in their machines and\n\n1895\n01:24:26.215 --> 01:24:27.175\nstuff like that,\n\n1896\n01:24:27.175 --> 01:24:30.960\njust not on our high end servers\nthat have our sensitive information.\n\n1897\n01:24:30.960 --> 01:24:33.510\n>> Yeah, so definitely be aware\nthat those options are there.\n\n1898\n01:24:33.510 --> 01:24:35.580\nNow, they call this one out\non the exam objectives.\n\n1899\n01:24:35.580 --> 01:24:39.750\nOn the exam objectives they're calling\nout specifically the auditing side.\n\n1900\n01:24:39.750 --> 01:24:42.540\n>> Yeah, how do I track what somebody\nis doing with those removable devices.\n\n1901\n01:24:42.540 --> 01:24:44.340\n>> Yeah, absolutely.\n\n1902\n01:24:44.340 --> 01:24:46.360\nAll right, so keep that in mind.\n\n1903\n01:24:46.360 --> 01:24:47.680\nRight?\nSo we've got all sorts of good audit\n\n1904\n01:24:47.680 --> 01:24:48.330\npolicies there.\n\n1905\n01:24:48.330 --> 01:24:50.810\nWe've got our group policies\nwhere we can define them so\n\n1906\n01:24:50.810 --> 01:24:52.710\nthey apply to all of\nour different systems.\n\n1907\n01:24:52.710 --> 01:24:55.490\n>> And we've got\nthe Auditpol Command Line utility.\n\n1908\n01:24:55.490 --> 01:24:57.271\n>> Yes.\n>> All really useful stuff And\n\n1909\n01:24:57.271 --> 01:25:00.680\nthen way back at the beginning of\nthe episode, it's been so long.\n\n1910\n01:25:00.680 --> 01:25:02.105\n>> Can I remember what we talked about?\n\n1911\n01:25:02.105 --> 01:25:04.220\n[LAUGH]\n>> We covered EFS, so I remember with EFS.\n\n1912\n01:25:04.220 --> 01:25:07.670\nIt's great you can encrypt your files but\nif you're doing it in a domain environment\n\n1913\n01:25:07.670 --> 01:25:11.120\nits a good idea to have a centralized\nCA do auto enrollment for\n\n1914\n01:25:11.120 --> 01:25:14.059\nthe certificates and make sure\n>> rRcovery\n\n1915\n01:25:14.059 --> 01:25:15.006\nAgent\n>> Absolutely.\n\n1916\n01:25:15.006 --> 01:25:16.233\nRight?\nYou definitely want to have\n\n1917\n01:25:16.233 --> 01:25:18.970\nthat\n>> Absolutely.\n\n1918\n01:25:18.970 --> 01:25:21.190\n>> All right, so\nthat pretty much wraps this one up Mike.\n\n1919\n01:25:21.190 --> 01:25:22.400\nCan you think of anything we left out?\n\n1920\n01:25:22.400 --> 01:25:24.910\n>> No, I think we've hit all\nthose objectives pretty well.\n\n1921\n01:25:24.910 --> 01:25:25.700\n>> All right.\nWell ladies and\n\n1922\n01:25:25.700 --> 01:25:27.510\ngentlemen, I hope you\nguys enjoyed this show.\n\n1923\n01:25:27.510 --> 01:25:30.730\nAs always, remember if you have\nquestions live during the show,\n\n1924\n01:25:30.730 --> 01:25:33.520\nyou can go to itpro.tv/live.\n\n1925\n01:25:33.520 --> 01:25:36.870\nYou'll see the chat room\nright beneath the video.\n\n1926\n01:25:36.870 --> 01:25:39.250\nYou can post your questions,\nwe monitor and answer during the show.\n\n1927\n01:25:39.250 --> 01:25:42.740\nI know Alex asked a couple of questions\ntoday, so that was kind of fun.\n\n1928\n01:25:42.740 --> 01:25:45.660\nBut also if you have\nquestions after the show,\n\n1929\n01:25:45.660 --> 01:25:48.740\non the top of all of our pages\nthere's a link that says Q&A.\n\n1930\n01:25:48.740 --> 01:25:50.460\nYou can go there, post your questions.\n\n1931\n01:25:50.460 --> 01:25:51.810\nWe monitor and answer.\n\n1932\n01:25:51.810 --> 01:25:53.990\nWe wanna make sure that you guys\nhave the information that you need.\n\n1933\n01:25:53.990 --> 01:25:56.830\nSo when you go into that test booth,\nyou're going in with answers,\n\n1934\n01:25:56.830 --> 01:25:57.880\nnot going in with questions.\n\n1935\n01:25:57.880 --> 01:26:00.340\n>> That's it.\n>> That's the important part.\n\n1936\n01:26:00.340 --> 01:26:02.120\nAll right.\nWe're signing off for ITProTV,\n\n1937\n01:26:02.120 --> 01:26:02.790\nI'm Don Pezet.\n\n1938\n01:26:02.790 --> 01:26:03.783\n>> And I'm Mike Rodrick.\n\n1939\n01:26:03.783 --> 01:26:06.063\nAnd we'll see you next time.\n\n1940\n01:26:06.063 --> 01:26:16.063\n[MUSIC]\n\n1941\n01:26:18.229 --> 01:26:24.510\n[SOUND]\n\n",
          "vimeoId": "88878703"
        }
      ],
      "title": "Configure file and print services"
    },
    {
      "episodes": [
        {
          "description": "In this episode Mike and Daniel take a look at DNS zones inside a Microsoft Active Directory Domain. They start by explaining how to configure the traditional Primary and Secondary zones and how they work. Then they cover the advantages of using an Active Directory Integrated zone and the security features found therein. Also covered are DNS Stub zones.",
          "length": "1866",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-8-1-configure_dns_zones-082715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-8-1-configure_dns_zones-082715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-8-1-configure_dns_zones-082715-1-sm.jpg",
          "title": "Configure DNS Zones",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.309\n[MUSIC]\n\n2\n00:00:10.309 --> 00:00:12.904\nAll right, greetings,\neveryone, and welcome to,\n\n3\n00:00:12.904 --> 00:00:14.816\nanother exciting episode of ITProTV.\n\n4\n00:00:14.816 --> 00:00:16.455\nI'm your host, Daniel Lowry.\n\n5\n00:00:16.455 --> 00:00:18.396\nHere with me is today is Mr. Mike Rodrick.\n\n6\n00:00:18.396 --> 00:00:19.375\nHow's it going today, Mike?\n\n7\n00:00:19.375 --> 00:00:20.265\n>> It's going great, Daniel.\n\n8\n00:00:20.265 --> 00:00:23.165\nI'm excited to be here today because we're\ncontinuing on with our 74 11 series and\n\n9\n00:00:23.165 --> 00:00:27.225\nin this we're going to be\ntalking about DNS zones.\n\n10\n00:00:27.225 --> 00:00:29.025\nYeah, we've seen in other episodes,\n\n11\n00:00:29.025 --> 00:00:32.460\nthe resources records that\nwe find in those DNS zones.\n\n12\n00:00:32.460 --> 00:00:35.460\nNow we want to take a look at\nhow to create those DNS zones.\n\n13\n00:00:35.460 --> 00:00:40.150\nSo let's start by talking about the\ndifferent types of zones we can create.\n\n14\n00:00:40.150 --> 00:00:45.080\nWe can create primary zones and\nwe can create secondary zones and\n\n15\n00:00:45.080 --> 00:00:47.270\nwe can create sub zones.\n\n16\n00:00:47.270 --> 00:00:49.600\nAnd we need to understand\nthe difference between.\n\n17\n00:00:49.600 --> 00:00:54.350\nA primary zone is a re-write\ncopy of the DNS database.\n\n18\n00:00:55.530 --> 00:01:00.440\nThat means I can create new records,\nI can edit existing records, and\n\n19\n00:01:00.440 --> 00:01:03.560\nI can resolve queries with a primary zone.\n\n20\n00:01:03.560 --> 00:01:06.140\nA secondary, well, let's back up there.\n\n21\n00:01:06.140 --> 00:01:10.950\nWhen we talk about standard primary zones,\nI can only have one, right?\n\n22\n00:01:10.950 --> 00:01:12.420\nAnd, that can pose a problem, right?\n\n23\n00:01:12.420 --> 00:01:16.270\nWe understand about fault tolerance,\nand load balancing.\n\n24\n00:01:16.270 --> 00:01:18.710\nAnd if I've got a server\nthat's hosting my DNS zone,\n\n25\n00:01:18.710 --> 00:01:22.160\nand it's a primary zone,\nwhat if that guy goes down?\n\n26\n00:01:22.160 --> 00:01:24.720\nWhat if that guy is unavailable for\nsome reason?\n\n27\n00:01:24.720 --> 00:01:26.590\nHow can anybody resolve names?\n\n28\n00:01:26.590 --> 00:01:28.420\nThey won't be able to.\n\n29\n00:01:28.420 --> 00:01:31.270\nThat's where our secondary\nzones come into play.\n\n30\n00:01:31.270 --> 00:01:36.440\nA secondary zone is a read\nonly copy of that zone file.\n\n31\n00:01:36.440 --> 00:01:41.760\nSo primary is a read write copy of\nthe zone file, but I can only have one so\n\n32\n00:01:41.760 --> 00:01:47.110\nfor fault tolerance load balancing I can\ncreate additional copies of that zone but\n\n33\n00:01:47.110 --> 00:01:50.760\nthey are going to be known as secondary\nzones and they are read only.\n\n34\n00:01:50.760 --> 00:01:53.860\nAnd I can create as many read only or\n\n35\n00:01:53.860 --> 00:01:57.040\nsecondary zones as I need for\noad balancing.\n\n36\n00:01:57.040 --> 00:01:58.320\nAnd let me show you an example here.\n\n37\n00:01:58.320 --> 00:01:59.520\nIf I go to my machine and\n\n38\n00:01:59.520 --> 00:02:02.220\nI've got a couple of VM's\nhere that we're going to use.\n\n39\n00:02:02.220 --> 00:02:08.720\nOn server one, I'm gonna open up DNS and\n\n40\n00:02:08.720 --> 00:02:12.070\nI'm going to launch my wizard for\na new zone.\n\n41\n00:02:12.070 --> 00:02:16.225\nCurrently don't have any zones on this\nguy, just installed DNS, so I'm gonna\n\n42\n00:02:16.225 --> 00:02:20.360\nright-click New Zone, and I'll go through\nmy new zone wizard, I'll click Next.\n\n43\n00:02:21.530 --> 00:02:25.280\nAnd my choice is gonna be primary,\nsecondary, or stub.\n\n44\n00:02:25.280 --> 00:02:27.930\nI'm going to do a primary, click Next, and\n\n45\n00:02:27.930 --> 00:02:31.430\nI'm going to call this one\nsomething like contoso.com.\n\n46\n00:02:31.430 --> 00:02:34.668\nClick Next.\nJust going to make a zone file,\n\n47\n00:02:34.668 --> 00:02:37.244\ncontoso.com.dns.\n\n48\n00:02:37.244 --> 00:02:38.620\nClick Next.\n\n49\n00:02:38.620 --> 00:02:42.860\nAnd we'll do both secure and non-secure,\nwe'll allow dynamic updates.\n\n50\n00:02:42.860 --> 00:02:46.580\nI'll click Next and Finish.\n\n51\n00:02:46.580 --> 00:02:51.080\nAnd I have a new zone for\nContoso.com with my resource records.\n\n52\n00:02:51.080 --> 00:02:55.420\nI'm just going to real quick for\nthe demo create a couple records here.\n\n53\n00:02:55.420 --> 00:02:59.380\nWe'll say we have client one, that's\n\n54\n00:02:59.380 --> 00:03:06.170\n10.2.1.101, just so\nwe have something in here.\n\n55\n00:03:06.170 --> 00:03:09.790\nAnd client two is 10.1.2.102.\n\n56\n00:03:09.790 --> 00:03:10.290\nThere we go.\n\n57\n00:03:10.290 --> 00:03:17.580\nWe'll create a couple records in there,\nall right.\n\n58\n00:03:17.580 --> 00:03:18.430\nSo, now I've got a copy.\n\n59\n00:03:18.430 --> 00:03:20.920\nSo, as you can see, one,\nI'm making new records, right.\n\n60\n00:03:20.920 --> 00:03:23.660\nThat means that I'm\nwriting to this zone file.\n\n61\n00:03:23.660 --> 00:03:26.520\nSo, it's a read, write, copy of that zone.\n\n62\n00:03:26.520 --> 00:03:28.030\nBut if this server goes down,\n\n63\n00:03:28.030 --> 00:03:31.486\nnobody's gonna be able to resolve\nthe names that end in Contoso.com.\n\n64\n00:03:31.486 --> 00:03:36.440\nSo I'm gonna create a secondary\nzone as a means of fault tolerance.\n\n65\n00:03:36.440 --> 00:03:42.560\nSo I'm gonna switch over here to\nserver two and I need to install DNS.\n\n66\n00:03:42.560 --> 00:03:45.020\nSo let me get DNS installed real quick.\n\n67\n00:03:49.273 --> 00:03:51.630\nSo and\nwe've seen this in our other episodes.\n\n68\n00:03:51.630 --> 00:03:52.530\nBut it's a good review,\n\n69\n00:03:52.530 --> 00:03:56.360\nI'll click next a couple times to\nget to my role selection screen.\n\n70\n00:03:56.360 --> 00:04:00.050\nSo once that wizard completes\nI'll go ahead and click close.\n\n71\n00:04:00.050 --> 00:04:01.480\nAnd I'll open up my DNS console.\n\n72\n00:04:06.291 --> 00:04:10.668\nAnd I'm going to make a zone, same thing,\nI'm going to select and right click and\n\n73\n00:04:10.668 --> 00:04:12.390\nchoose new zone.\n\n74\n00:04:12.390 --> 00:04:13.440\nClick Next.\n\n75\n00:04:13.440 --> 00:04:17.380\nThis time I'm going to do a secondary\nzone, which is a read only copy, and\n\n76\n00:04:17.380 --> 00:04:18.730\nI'll click next.\n\n77\n00:04:18.730 --> 00:04:23.910\nThe zone name, contoso.com.\n\n78\n00:04:23.910 --> 00:04:24.760\nNext.\n\n79\n00:04:24.760 --> 00:04:27.140\nAnd now it's asking me for\nmy master DNS server.\n\n80\n00:04:27.140 --> 00:04:29.050\nRemember, this is read only copy.\n\n81\n00:04:29.050 --> 00:04:32.000\nSo he needs to get\nthe information from somebody.\n\n82\n00:04:32.000 --> 00:04:34.300\nHe needs to get that copy from who?\n\n83\n00:04:34.300 --> 00:04:35.850\nThat's his master DNS server.\n\n84\n00:04:35.850 --> 00:04:38.030\nThat's going to be server one.\n\n85\n00:04:38.030 --> 00:04:40.960\nThat's the primary, which should be 201.\n\n86\n00:04:43.150 --> 00:04:46.480\nAnd you can wait for\nthis to finish resolving the FQDN.\n\n87\n00:04:46.480 --> 00:04:49.510\nI've got a green check mark, so\nI know it can see that IP address, and\n\n88\n00:04:49.510 --> 00:04:52.860\nit's going to reach out\neventually that will resolve.\n\n89\n00:04:52.860 --> 00:04:55.700\nI'll click Next, though, and Finish.\n\n90\n00:04:55.700 --> 00:04:57.229\nAnd, I'll make that a little bit bigger.\n\n91\n00:04:59.460 --> 00:05:01.980\nAnd if I expand off over look up,\nI look up contoso,\n\n92\n00:05:01.980 --> 00:05:05.340\nI can see it hasn't transferred yet.\n\n93\n00:05:05.340 --> 00:05:06.900\nSo he didn't get his copy.\n\n94\n00:05:06.900 --> 00:05:08.780\nWhat the heck did you do wrong, Mike?\n\n95\n00:05:08.780 --> 00:05:11.550\nSo actually I didn't do anything wrong,\nbelieve or not.\n\n96\n00:05:11.550 --> 00:05:13.600\nI know I make enough mistakes on here.\n\n97\n00:05:13.600 --> 00:05:17.350\nBut DNS, it's a security thing.\n\n98\n00:05:17.350 --> 00:05:20.810\nDNS basically server two\nis telling server one,\n\n99\n00:05:20.810 --> 00:05:24.750\nhey I'm hosting a copy of that\nzone you have, give me a copy.\n\n100\n00:05:24.750 --> 00:05:28.060\nAnd server one is saying I don't\nknow who the heck you are, and\n\n101\n00:05:28.060 --> 00:05:29.390\nI'm not giving you anything.\n\n102\n00:05:29.390 --> 00:05:30.210\nRight?\n\n103\n00:05:30.210 --> 00:05:32.870\nSo if we go back over to server one,\n\n104\n00:05:32.870 --> 00:05:36.730\nwe'll let server one know it's\nokay to give server two a copy.\n\n105\n00:05:36.730 --> 00:05:40.077\nSo I'm gonna pull up the properties for\nthat zone and\n\n106\n00:05:40.077 --> 00:05:44.870\nI'll go to zone transfers and there I\ncan see only servers listed on the name\n\n107\n00:05:44.870 --> 00:05:48.720\nservers to have and\nServer two is not listed there.\n\n108\n00:05:48.720 --> 00:05:50.030\nThe following servers.\n\n109\n00:05:50.030 --> 00:05:51.820\nI'll click Edit, and\n\n110\n00:05:51.820 --> 00:05:57.090\nI'm gonna add the IP address 10.1.2.200.2\nif I remember that guy right.\n\n111\n00:05:58.660 --> 00:06:00.110\nThat is server two.\n\n112\n00:06:00.110 --> 00:06:02.630\nAnd I know I've got a red x there but\nthat's okay.\n\n113\n00:06:02.630 --> 00:06:08.030\nIt's strange, but you can go ahead and\nclick OK, and click OK.\n\n114\n00:06:08.030 --> 00:06:10.676\nSo now you notice it allowed\nto give that zone transfer, so\n\n115\n00:06:10.676 --> 00:06:12.700\nI'll go back over to server two.\n\n116\n00:06:12.700 --> 00:06:13.460\nI right click.\n\n117\n00:06:13.460 --> 00:06:15.790\nTransfer from master.\n\n118\n00:06:15.790 --> 00:06:22.260\nI refresh my screen and sometimes this\ncan take a minute to actually load up.\n\n119\n00:06:22.260 --> 00:06:23.590\nSo we'll give it a second here.\n\n120\n00:06:23.590 --> 00:06:26.830\nAnd right now you can see\neverything's grayed out.\n\n121\n00:06:26.830 --> 00:06:28.260\nMy refresh is grayed out.\n\n122\n00:06:28.260 --> 00:06:31.270\nIt's attempting in\nthe background to hit this.\n\n123\n00:06:31.270 --> 00:06:32.000\nIn order to get that.\n\n124\n00:06:32.000 --> 00:06:34.710\nAnd it usually doesn't take all that long.\n\n125\n00:06:34.710 --> 00:06:38.480\n>> I imagine some of those zone files\ncould probably grow quite large so this\n\n126\n00:06:38.480 --> 00:06:41.660\nmight be one of those times where you're\njust waiting for a computer to compute.\n\n127\n00:06:41.660 --> 00:06:42.551\n>> Yes, exactly.\n\n128\n00:06:42.551 --> 00:06:44.593\n>> [LAUGH]\n>> You go make a sandwich, come back and\n\n129\n00:06:44.593 --> 00:06:45.400\nyou're good to go.\n\n130\n00:06:45.400 --> 00:06:45.930\nAnd there we go.\n\n131\n00:06:45.930 --> 00:06:49.020\nNow I've got all those\nrecords from contoso.com.\n\n132\n00:06:49.020 --> 00:06:53.020\nBut notice if I right-click out here,\nI don't have a new option, right.\n\n133\n00:06:53.020 --> 00:06:57.130\nIf I try and double click on one of\nthese existing records, I can see it but\n\n134\n00:06:57.130 --> 00:06:58.400\neverything's grayed out, right.\n\n135\n00:06:58.400 --> 00:07:03.070\nThis is a read-only copy only used for\nfault tolerance load balancing.\n\n136\n00:07:03.070 --> 00:07:06.520\nSo now if server one goes down,\npeople can still query server two and\n\n137\n00:07:06.520 --> 00:07:09.210\nthey can resolve names\nthat end in doso.com.\n\n138\n00:07:09.210 --> 00:07:12.480\nNow if anybody needs to make a new record,\nlet's say they added a new server\n\n139\n00:07:12.480 --> 00:07:16.210\nin cantoso.com, they can't make\nany new records at this point.\n\n140\n00:07:16.210 --> 00:07:20.160\nThey can't change any existing\nrecords until server one gets up, but\n\n141\n00:07:20.160 --> 00:07:21.850\nat least we can still resolve names.\n\n142\n00:07:21.850 --> 00:07:25.620\nSo we'll limp along until we get\nthat primary up and running.\n\n143\n00:07:25.620 --> 00:07:29.880\nSo that's primary and secondary and we've\nhad those guys for a long time since DNS\n\n144\n00:07:29.880 --> 00:07:34.850\nhas been around but there is a new type of\nzone we can use that has a lot of really\n\n145\n00:07:34.850 --> 00:07:38.580\ncool benefits and that's an active\ndirectory integrated zone.\n\n146\n00:07:39.860 --> 00:07:43.830\nSo, what that means is if we\nlook at a domain controller,\n\n147\n00:07:43.830 --> 00:07:47.890\na domain controller has the active\ndirectory database, right?\n\n148\n00:07:47.890 --> 00:07:52.818\nIf we install DNS on a domain controller,\nand we go to create a new zone,\n\n149\n00:07:52.818 --> 00:07:54.970\nwe're gonna get a new option.\n\n150\n00:07:54.970 --> 00:07:58.210\nWe're gonna get the option to store that\nzone, instead of creating a separate file.\n\n151\n00:07:58.210 --> 00:08:02.204\nLike when I created contosa.com.dns\nI created that zone and\n\n152\n00:08:02.204 --> 00:08:04.750\nmade that file at toaster.com.dns.\n\n153\n00:08:04.750 --> 00:08:07.830\nIf I do that on a domain controller\nI have the option to just\n\n154\n00:08:07.830 --> 00:08:10.270\nput in the Active Directory database.\n\n155\n00:08:10.270 --> 00:08:14.280\nIt'll create a separate application\npartition in the Active Directory database\n\n156\n00:08:14.280 --> 00:08:15.270\nand store it there.\n\n157\n00:08:15.270 --> 00:08:18.720\nStore all those records there rather\nthan as a separate zone file.\n\n158\n00:08:18.720 --> 00:08:21.500\nAnd you might think,\nwhat is the advantage to that?\n\n159\n00:08:21.500 --> 00:08:23.410\nAnd there are several.\n\n160\n00:08:23.410 --> 00:08:25.690\nWhen you create\nActive Directory-Integrated Zones,\n\n161\n00:08:25.690 --> 00:08:31.250\nthe first thing you're gonna notice is the\noption to do secure only dynamic updates.\n\n162\n00:08:31.250 --> 00:08:36.405\nWell if I go to server one, and\nI take a look at the properties of\n\n163\n00:08:36.405 --> 00:08:42.700\ncontoso.com, notice my options is\nnon-secure and secure or none at all.\n\n164\n00:08:42.700 --> 00:08:45.539\nI cannot do secure only dynamic updates.\n\n165\n00:08:45.539 --> 00:08:53.145\nLet's go back over to DC1, and\ntake a look at the DNS console here.\n\n166\n00:08:53.145 --> 00:08:58.241\n[BLANK AUDIO] He's hosting the zone for\nlab.net, and\n\n167\n00:08:58.241 --> 00:09:03.029\nI'm gonna pull up the properties there for\nlab.net.\n\n168\n00:09:03.029 --> 00:09:06.465\nAnd I can see I've got the option for\nsecure only.\n\n169\n00:09:06.465 --> 00:09:08.310\nIn fact, let's make a new zone.\n\n170\n00:09:08.310 --> 00:09:09.690\nI'm just going to make a little test zone,\nhere.\n\n171\n00:09:09.690 --> 00:09:12.060\nRight click, new zone, next.\n\n172\n00:09:12.060 --> 00:09:16.153\nAnd, I'm still gonna do primary, but\nnotice the little check mark down here,\n\n173\n00:09:16.153 --> 00:09:18.059\nstore the zone in Active Directory.\n\n174\n00:09:18.059 --> 00:09:20.638\nI won't finish it,\nI just wanted to show you that check mark.\n\n175\n00:09:20.638 --> 00:09:24.070\nIf you're doing this on a server\nthat's not a domain controller,\n\n176\n00:09:24.070 --> 00:09:27.992\nthis check mark is unavailable, because\nI can't very well store the zone in\n\n177\n00:09:27.992 --> 00:09:31.243\nActive Directory if the machine's\nnot a domain controller and\n\n178\n00:09:31.243 --> 00:09:34.146\ndoesn't have a copy of\nthe Active Directory database.\n\n179\n00:09:34.146 --> 00:09:39.194\nOther advantages you get with\ndoing Active Directory-Integrated,\n\n180\n00:09:39.194 --> 00:09:41.853\nare going to be secure replication.\n\n181\n00:09:41.853 --> 00:09:45.712\nWhen that standard primary and secondary\nthat I just set up for contosa.com,\n\n182\n00:09:45.712 --> 00:09:50.090\nwhen they do their zone transfer like they\njust did, that initial zone transfer.\n\n183\n00:09:50.090 --> 00:09:50.752\nThat was unencrypted.\n\n184\n00:09:50.752 --> 00:09:54.120\nThere's no protection on that traffic.\n\n185\n00:09:54.120 --> 00:09:56.380\nAnd DNS has a lot of\nsensitive information in it.\n\n186\n00:09:56.380 --> 00:09:59.390\nIt's the name and\nIP address of all your machines.\n\n187\n00:09:59.390 --> 00:10:02.870\nIt's all the machines,\nwhich servers are running which services.\n\n188\n00:10:02.870 --> 00:10:06.850\nIt's Daniels was talking about in another\nepisode about finding your mail server.\n\n189\n00:10:06.850 --> 00:10:08.490\nFinding your name server.\n\n190\n00:10:08.490 --> 00:10:12.410\nEasy to do if I can just sniff\nthat zone transfer traffic.\n\n191\n00:10:12.410 --> 00:10:15.270\nDNS doesn't have any way\nto encrypt it built in.\n\n192\n00:10:15.270 --> 00:10:18.520\nI could use something else,\nlike or something like that,\n\n193\n00:10:18.520 --> 00:10:21.980\nbut that's another layer of\nconfiguration that I've got to do.\n\n194\n00:10:21.980 --> 00:10:26.340\nIf I have two domain controllers their\nreplicating the Active Directory database\n\n195\n00:10:26.340 --> 00:10:29.240\nthat is encrypted when it\ngoes across the network.\n\n196\n00:10:29.240 --> 00:10:33.400\nSo if I cram the DNS information into\nthe Active Directory database, it can\n\n197\n00:10:33.400 --> 00:10:37.620\nreplicate along with Active Directory,\nwhich means it's going to be encrypted.\n\n198\n00:10:37.620 --> 00:10:39.873\nSo we get secure only dynamic updates.\n\n199\n00:10:39.873 --> 00:10:47.050\nWe get encrypted replication traffic which\ncan also eliminate a replication topology.\n\n200\n00:10:47.050 --> 00:10:50.690\nI've got my domain controllers,\nthey're all replicating with each other.\n\n201\n00:10:50.690 --> 00:10:53.540\nThen I've got my primary and\nall my secondaries, and\n\n202\n00:10:53.540 --> 00:10:54.870\nthey're all replicating with each other.\n\n203\n00:10:54.870 --> 00:10:58.410\nThat's two different replication\ntopologies that I've gotta deal with.\n\n204\n00:10:58.410 --> 00:11:02.135\nIf I put my DNS information in Aactive\nDirectory, well, Active Directory and\n\n205\n00:11:02.135 --> 00:11:04.685\nDNS replicate at the same time,\nto the same servers.\n\n206\n00:11:04.685 --> 00:11:08.480\nIt's one less replication\ntopology I gotta worry about.\n\n207\n00:11:08.480 --> 00:11:12.230\nAnd with the standard primary and\nsecondary, I'm setting up that replication\n\n208\n00:11:12.230 --> 00:11:17.002\ntopology, I'm choosing who the primary is,\nwho the secondaries are, things like that.\n\n209\n00:11:17.002 --> 00:11:21.340\nWith Active Directory we've got that KCC,\nthe knowledge consistency checker.\n\n210\n00:11:21.340 --> 00:11:23.072\nThat make sure I have an efficient,\n\n211\n00:11:23.072 --> 00:11:25.799\ntwo-way, robust replication\ntopology built for me.\n\n212\n00:11:25.799 --> 00:11:27.260\nI don't have to choose any of it.\n\n213\n00:11:27.260 --> 00:11:28.410\nI don't have to do anything with that.\n\n214\n00:11:28.410 --> 00:11:32.790\nSo a lot of advantages to doing\nthe Active Directory-Integrated Zones.\n\n215\n00:11:32.790 --> 00:11:37.120\nIn fact, I'd say that it gets to the point\nnow where unless this is out in my DMZ or\n\n216\n00:11:37.120 --> 00:11:38.560\npublicly accessible,\n\n217\n00:11:38.560 --> 00:11:41.690\nevery zone I make is gonna be\nan Active Directory-Integrated Zone.\n\n218\n00:11:41.690 --> 00:11:45.450\nBecause Active Directory relies on DNS,\nit has to have it to function.\n\n219\n00:11:45.450 --> 00:11:50.706\nAnd it's got a similar security footprint\nthat I do with Active Directory,\n\n220\n00:11:50.706 --> 00:11:52.110\nI mean it's close.\n\n221\n00:11:53.110 --> 00:11:54.410\nSo just putting Active Directory and\n\n222\n00:11:54.410 --> 00:11:57.460\nDNS on the same machine gives\nme a lot of advantages.\n\n223\n00:11:57.460 --> 00:12:01.174\nI know that Active Directory always has\nDNS available, I can do Active Directory\n\n224\n00:12:01.174 --> 00:12:03.859\nin a creative zones,\nit just works out a whole lot better.\n\n225\n00:12:03.859 --> 00:12:06.570\nOne more thing, I forgot to mention.\n\n226\n00:12:06.570 --> 00:12:07.720\n>> No wait, there's more.\n\n227\n00:12:07.720 --> 00:12:08.466\n>> [LAUGH] Exactly.\n\n228\n00:12:08.466 --> 00:12:09.260\n>> [LAUGH]\n>> If you call now\n\n229\n00:12:09.260 --> 00:12:10.061\n>> [LAUGH].\n\n230\n00:12:10.061 --> 00:12:15.360\n>> With Active Directory, Active Directory\nuses multi-master replication.\n\n231\n00:12:15.360 --> 00:12:18.510\nActive Directory, they're all writable.\n\n232\n00:12:18.510 --> 00:12:22.840\nEach domain controller can make new users,\nmodify existing users.\n\n233\n00:12:22.840 --> 00:12:25.020\nWell, if I put DNS into Active Directory,\n\n234\n00:12:25.020 --> 00:12:26.870\nall of a sudden I can\ntake advantage of that.\n\n235\n00:12:26.870 --> 00:12:29.860\nNow, all my domain controllers\nthat are running DNS,\n\n236\n00:12:29.860 --> 00:12:34.880\nhost a writable copy of that zone,\nwhereas with the primary and secondaries,\n\n237\n00:12:34.880 --> 00:12:39.010\nif the primary goes down, I can't make\nany changes until I get that guy back up.\n\n238\n00:12:39.010 --> 00:12:41.640\nIf one of my domain controllers\nthat's hosting that zone goes down,\n\n239\n00:12:41.640 --> 00:12:44.960\nI can just go to another domain controller\nthat's hosting that same zone and\n\n240\n00:12:44.960 --> 00:12:46.120\nmake changes there.\n\n241\n00:12:46.120 --> 00:12:47.960\nAll the copies become writable,\n\n242\n00:12:47.960 --> 00:12:52.660\nanother great feature of\nActive Directory-Integrated Zones.\n\n243\n00:12:52.660 --> 00:13:00.020\nNext, I want to talk about conditional\nforwarding and stub zones.\n\n244\n00:13:00.020 --> 00:13:07.407\nSo right now, I have a server one\nis hosting the zone contoso.com.\n\n245\n00:13:07.407 --> 00:13:13.920\nWell, my clients are all\npointing to DC1 for DNS.\n\n246\n00:13:13.920 --> 00:13:20.202\nSo if they query DC1 for\na name that ends in contoso.com,\n\n247\n00:13:20.202 --> 00:13:25.060\nDC1 does not know anything\nabout Contoso.com.\n\n248\n00:13:25.060 --> 00:13:25.573\nDoesn't have that zone.\n\n249\n00:13:25.573 --> 00:13:27.593\nNow that doesn't mean he\ncan't resolve the name.\n\n250\n00:13:27.593 --> 00:13:33.038\nWe've learned in 70-410 about the way\nthat works, the way they're gonna go\n\n251\n00:13:33.038 --> 00:13:38.920\nto the root, and then to the .com, to find\nthe authoritative server for contoso.com.\n\n252\n00:13:38.920 --> 00:13:42.890\nSo he will eventually be\nable to find the DNS server\n\n253\n00:13:42.890 --> 00:13:45.887\nthat's hosting the zone contoso.com.\n\n254\n00:13:45.887 --> 00:13:48.160\nBut, I can shortcut that whole process.\n\n255\n00:13:48.160 --> 00:13:51.698\nRather than make my domain controller\ngo out to the internet and try to\n\n256\n00:13:51.698 --> 00:13:56.037\nfind the server that's hosting the zone\ncontoso.com, I can go ahead and tell him.\n\n257\n00:13:56.037 --> 00:13:58.870\nI can say here's the IP\naddress of the DNS server.\n\n258\n00:13:58.870 --> 00:14:00.510\nYou can go straight to him.\n\n259\n00:14:00.510 --> 00:14:03.380\nThat's known as conditional forwarding.\n\n260\n00:14:03.380 --> 00:14:07.194\nI'm gonna to right click and\nchoose new conditional forwarder, and for\n\n261\n00:14:07.194 --> 00:14:10.646\nthe zone name, I'm gonna to say,\nor the DNS name contoso.com.\n\n262\n00:14:10.646 --> 00:14:17.205\nAnd the IP address that's authoritative\nfor contoso.com, 10.1.2.201.\n\n263\n00:14:17.205 --> 00:14:24.620\nAnd I can also store this in\nActive Directory, which is a good thing.\n\n264\n00:14:24.620 --> 00:14:28.392\nBecause if I have five DNS servers\nslash domain controllers, and\n\n265\n00:14:28.392 --> 00:14:31.409\nI create this conditional\nforwarding rule on DC1,\n\n266\n00:14:31.409 --> 00:14:35.061\nthat doesn't help out clients\nthat are querying DC2 or DC3.\n\n267\n00:14:35.061 --> 00:14:39.077\nIf I choose to store this in Active\nDirectory, all the other DNS servers that\n\n268\n00:14:39.077 --> 00:14:43.245\nare domain controllers will now also\nhave this conditional forwarding rule.\n\n269\n00:14:43.245 --> 00:14:48.050\nI'll go ahead and click okay, and\nnow I've got conditional forwarding.\n\n270\n00:14:48.050 --> 00:14:53.130\nSo if somebody queries my DC1 for\na name that ends in lab.net, great.\n\n271\n00:14:53.130 --> 00:14:55.470\nHe can go here and\nhe can resolve those names.\n\n272\n00:14:55.470 --> 00:14:57.320\nIf somebody queries DC1 for\n\n273\n00:14:57.320 --> 00:15:01.640\na name that ends in contoso.com,\nhe doesn't know the answer, but\n\n274\n00:15:01.640 --> 00:15:06.550\nhe knows the IP address of the DNS server\nthat does, and he can go straight to it.\n\n275\n00:15:06.550 --> 00:15:10.695\nIf somebody queries DC1 for\nsome other name like Newegg.com,\n\n276\n00:15:10.695 --> 00:15:15.148\nwell he's still gotta go through\nthat normal process of recursion,\n\n277\n00:15:15.148 --> 00:15:19.311\nhit the root, and then the .com,\nand then Newegg.com, etc.\n\n278\n00:15:19.311 --> 00:15:23.450\nSo conditional forwarding is just a way\nto speed up that name resolution process.\n\n279\n00:15:23.450 --> 00:15:28.570\nEliminate some of those steps that my\nDNS server has to go through to find\n\n280\n00:15:28.570 --> 00:15:30.620\nthat authoritative server.\n\n281\n00:15:31.805 --> 00:15:35.840\nNow, there is a downside with conditional\nforwarding as with everything.\n\n282\n00:15:35.840 --> 00:15:36.430\n>> Yeah.\n[LAUGH]\n\n283\n00:15:36.430 --> 00:15:37.022\n>> We've got an upside.\n\n284\n00:15:37.022 --> 00:15:38.420\nWe've got a downside.\n\n285\n00:15:38.420 --> 00:15:40.520\nAnd that is that this is static.\n\n286\n00:15:40.520 --> 00:15:44.480\nIf you look at what I just did, I made\na rule that gives the IP address for\n\n287\n00:15:44.480 --> 00:15:48.060\nthe DNS server that's authoritative for\ncontoso.com.\n\n288\n00:15:48.060 --> 00:15:48.688\nI had to type it in there.\n\n289\n00:15:48.688 --> 00:15:53.248\nWell contoso.com, pretend contoso.com\nis a separate company from us.\n\n290\n00:15:53.248 --> 00:15:54.928\nI have no control over it.\n\n291\n00:15:54.928 --> 00:15:57.678\nI just know the IP address\nof their DNS server.\n\n292\n00:15:57.678 --> 00:15:59.218\nWhat if that IP address changes?\n\n293\n00:15:59.218 --> 00:16:03.268\nNow all of a sudden my conditional\nforwarding rule is gonna fail, right?\n\n294\n00:16:03.268 --> 00:16:05.441\nCuz it's not gonna update\nmy rule if they go and\n\n295\n00:16:05.441 --> 00:16:07.720\nchange their network infrastructure.\n\n296\n00:16:07.720 --> 00:16:09.120\nI'm gonna have to find out about it, and\n\n297\n00:16:09.120 --> 00:16:12.600\nhow I'm gonna find out about it, is when\nmy users start telling me I can no longer\n\n298\n00:16:12.600 --> 00:16:15.050\nconnect to anything that\nends in catoso.com.\n\n299\n00:16:15.050 --> 00:16:16.930\nThe phone's gonna light up.\n\n300\n00:16:16.930 --> 00:16:18.970\nAnd I'll have to come in here and\nedit this record.\n\n301\n00:16:18.970 --> 00:16:22.700\nSo that's the downside of conditional\nhoarding is it is static.\n\n302\n00:16:22.700 --> 00:16:24.990\nThere is a fix for that though,\nwell there's a way around that, or\n\n303\n00:16:24.990 --> 00:16:26.370\nanother solution I should say.\n\n304\n00:16:26.370 --> 00:16:30.050\nNot really a fix for this, but\nanother solution and that is a stubzone.\n\n305\n00:16:31.060 --> 00:16:36.380\nA stubzone is what I like to call\ndynamic conditional forwarding.\n\n306\n00:16:36.380 --> 00:16:38.460\nAll right a stubzone's a separate zone.\n\n307\n00:16:38.460 --> 00:16:40.100\nI'm gonna right-click new zone.\n\n308\n00:16:41.660 --> 00:16:43.450\nAnd I'm going to choose, stub zone.\n\n309\n00:16:43.450 --> 00:16:45.590\nNow, I can choose to store\nan active directory or not, so\n\n310\n00:16:45.590 --> 00:16:48.170\nit can be active directory integrated,\njust like my primaries.\n\n311\n00:16:48.170 --> 00:16:55.370\nI'll click Next, and Next, and for the\nzone name, I'm going to put contoso.com.\n\n312\n00:16:55.370 --> 00:16:57.130\nAnd I'll click Next.\n\n313\n00:16:57.130 --> 00:17:00.440\nWhat I'm going to do is similar\nto setting up a secondary.\n\n314\n00:17:00.440 --> 00:17:03.160\nBecause it's going to copy\nsome of those records\n\n315\n00:17:03.160 --> 00:17:06.020\nfrom contoso.com DNS server itself.\n\n316\n00:17:06.020 --> 00:17:13.389\nSo I need to know contoso.com's\nDNS server address, 10.1.2.201.\n\n317\n00:17:13.389 --> 00:17:18.950\nAnd I can use that, that's one of their\nDNS servers, they can have ten of them,\n\n318\n00:17:18.950 --> 00:17:22.400\nand this will allow me to get\na list of all of their DNS servers.\n\n319\n00:17:22.400 --> 00:17:24.360\nAnd I'll click Next and Finish.\n\n320\n00:17:26.760 --> 00:17:29.380\nOh and it doesn't like it because I've got\nthat darn conditional forwarding rule.\n\n321\n00:17:29.380 --> 00:17:31.720\nCan I cancel that rule out?\n\n322\n00:17:31.720 --> 00:17:33.575\nNot while I've got that going.\n\n323\n00:17:33.575 --> 00:17:36.610\nAlright, let's get rid of that\nconditional forwarding rule real quick.\n\n324\n00:17:36.610 --> 00:17:37.580\nIt doesn't like me to do both,\n\n325\n00:17:37.580 --> 00:17:41.190\ncuz like I said they're really\naccomplishing the same thing.\n\n326\n00:17:41.190 --> 00:17:42.288\nSo let's try that again.\n\n327\n00:17:42.288 --> 00:17:50.007\nRight-click, new zone, and\nwe'll go stub-zone for contoso.com.\n\n328\n00:17:50.007 --> 00:17:59.510\nAnd 10.1.2.201 was the IP address and\nwe'll get an entire list.\n\n329\n00:17:59.510 --> 00:18:01.510\nClick Next and Finish.\n\n330\n00:18:01.510 --> 00:18:04.248\nAlright now I've got a zone for\ncontoso.com and\n\n331\n00:18:04.248 --> 00:18:07.204\nwe'll give it a second to\ndo a little transfer here.\n\n332\n00:18:10.907 --> 00:18:13.395\nUnlike secondaries, right?\n\n333\n00:18:13.395 --> 00:18:16.531\nI don't need permission\nto create a stub zone.\n\n334\n00:18:16.531 --> 00:18:20.733\nWith the secondary zone,\nI've got a copy of all of their records.\n\n335\n00:18:20.733 --> 00:18:24.235\nI've got their SOA, their NS,\ntheir MXs, their A records.\n\n336\n00:18:24.235 --> 00:18:25.092\nEverything.\n\n337\n00:18:25.092 --> 00:18:28.282\nSo I need permission from\nthem to set up a secondary.\n\n338\n00:18:28.282 --> 00:18:29.242\nBecause I could have done that.\n\n339\n00:18:29.242 --> 00:18:33.157\nWhat if I said you know what, we do\na lot of work with this company Contoso,\n\n340\n00:18:33.157 --> 00:18:35.572\nI'm going to set up a zone for\ncontoso.com.\n\n341\n00:18:35.572 --> 00:18:38.782\nI could call them up and ask them\nto allow me to do a zone transfer.\n\n342\n00:18:38.782 --> 00:18:39.802\nThey're not going to let me.\n\n343\n00:18:39.802 --> 00:18:41.812\nThey don't mind me connecting\nto their web server and\n\n344\n00:18:41.812 --> 00:18:44.170\ntheir application servers\nbecause we're business partners.\n\n345\n00:18:44.170 --> 00:18:47.540\nThey don't want me having every single\nA record that they have, right?\n\n346\n00:18:47.540 --> 00:18:49.300\nSo they're probably not gonna let me.\n\n347\n00:18:49.300 --> 00:18:52.070\nStub zones are not gonna get every record.\n\n348\n00:18:52.070 --> 00:18:56.540\nStub zones only contain what\nwe call the glue records.\n\n349\n00:18:56.540 --> 00:19:00.070\nThat's gonna be their SOA,\nthey're NS records,\n\n350\n00:19:00.070 --> 00:19:03.760\nall of their name servers, and\nthe IP address of all those name servers.\n\n351\n00:19:03.760 --> 00:19:05.410\nIn other words,\nthe A records for all of those.\n\n352\n00:19:05.410 --> 00:19:06.450\nAnd that's it.\n\n353\n00:19:06.450 --> 00:19:08.220\nNone of their SRV records.\n\n354\n00:19:08.220 --> 00:19:11.650\nNone of the other a records for\ntheir clients and things like that.\n\n355\n00:19:11.650 --> 00:19:14.000\nThat's all publicly\navailable information right?\n\n356\n00:19:14.000 --> 00:19:16.190\nI want people to be able\nto browse on my website.\n\n357\n00:19:16.190 --> 00:19:19.330\nWe don't care if people know\nthe IP address of our DNS servers.\n\n358\n00:19:19.330 --> 00:19:23.590\nSo I don't have to have permissions\nfrom them to set up a stub zone and\n\n359\n00:19:23.590 --> 00:19:24.180\nthere we go.\n\n360\n00:19:24.180 --> 00:19:26.410\nI can see that it has replicated over.\n\n361\n00:19:26.410 --> 00:19:30.350\nAnd I now know the,\nI haven't got the A record just yet, but\n\n362\n00:19:30.350 --> 00:19:34.180\nthat will pop up here,\nI'm sure, in just a little bit.\n\n363\n00:19:34.180 --> 00:19:37.000\n>> Mike,\nit's almost like helping people get to\n\n364\n00:19:37.000 --> 00:19:39.380\ntheir stuff they want\nthem to get to anyway.\n\n365\n00:19:39.380 --> 00:19:39.930\n>> Exactly.\n\n366\n00:19:39.930 --> 00:19:41.030\nThat's exactly right.\n\n367\n00:19:41.030 --> 00:19:42.100\nAnd this will do the same thing.\n\n368\n00:19:42.100 --> 00:19:46.280\nSo, now, if somebody sends a query to\nthis DNS server what's the IP address of\n\n369\n00:19:46.280 --> 00:19:47.910\nsuch and such.contoso.com?\n\n370\n00:19:47.910 --> 00:19:52.320\nWell, he doesn't know the answer, but\nhe knows how to find the name server that\n\n371\n00:19:52.320 --> 00:19:56.220\nhandles contoso.com and he can go straight\nto it instead of going to the root and\n\n372\n00:19:56.220 --> 00:19:58.400\nthen the .com and the contoso.com.\n\n373\n00:19:58.400 --> 00:20:00.998\nBut what's really cool is where\ndid I get this information?\n\n374\n00:20:00.998 --> 00:20:03.650\nFrom Contoso themselves.\n\n375\n00:20:03.650 --> 00:20:06.800\nSo if their information changes,\nguess what happens.\n\n376\n00:20:06.800 --> 00:20:09.050\nMy information gets updated automatically.\n\n377\n00:20:09.050 --> 00:20:12.590\nSo unlike conditional forwarding where if\ntheir information changed I'd have to find\n\n378\n00:20:12.590 --> 00:20:17.840\nout about it and then go fix it, with the\nstub zone, it's all done automatically and\n\n379\n00:20:17.840 --> 00:20:19.350\nI don't have to worry about it.\n\n380\n00:20:19.350 --> 00:20:23.850\nSo if you see these used between business\npartners like I am describing here\n\n381\n00:20:23.850 --> 00:20:26.980\nalso used internally in\na heavily domained forest.\n\n382\n00:20:26.980 --> 00:20:29.900\nYou know if you've got\nseveral domains if somebody\n\n383\n00:20:29.900 --> 00:20:33.600\nin one domain is trying to resolve\na name of a resource in another domain,\n\n384\n00:20:33.600 --> 00:20:37.610\nhas to go through this lengthy process\nto get to the authoritative DNS server.\n\n385\n00:20:37.610 --> 00:20:39.820\nStub zones can speed that process up.\n\n386\n00:20:39.820 --> 00:20:43.050\nJust think of Stub zones as a way\nto find that authoritative server\n\n387\n00:20:43.050 --> 00:20:46.060\nwithout having to go through\nthat entire recursive process.\n\n388\n00:20:46.060 --> 00:20:48.550\nSo very cool dynamic\nconditional forwarding.\n\n389\n00:20:50.085 --> 00:20:52.340\nAlright, Daniel, let's see what\nelse we've gotta talk about here.\n\n390\n00:20:52.340 --> 00:20:55.370\nZone delegation is next.\n\n391\n00:20:55.370 --> 00:21:01.890\nSo delegation, when I set up the domain\ncontroller here, DC1, he is authoritative.\n\n392\n00:21:01.890 --> 00:21:03.528\nAnd I just closed DNS, didn't I?\n\n393\n00:21:03.528 --> 00:21:05.132\n[LAUGH] Silly me.\n\n394\n00:21:05.132 --> 00:21:07.140\nLet's get that back open here.\n\n395\n00:21:07.140 --> 00:21:08.770\n>> Mike's Jimminy Clicket over here.\n\n396\n00:21:08.770 --> 00:21:10.640\n>> I know, I'm just clicking away.\n\n397\n00:21:10.640 --> 00:21:16.310\nDC1 is the authoritative server for\nlab.net.\n\n398\n00:21:16.310 --> 00:21:19.339\nAs as my company grows,\nif I set up child domains.\n\n399\n00:21:20.410 --> 00:21:22.960\nLike east.lab.net, for example.\n\n400\n00:21:22.960 --> 00:21:24.800\nWell, this guy is still authoritative.\n\n401\n00:21:24.800 --> 00:21:28.802\nAnything that ends in lab.net, no matter\nhow far out to the left that name goes,\n\n402\n00:21:28.802 --> 00:21:36.500\neast.lab.net, training.east.lab.net, this\nbeing a servers authoritative for that.\n\n403\n00:21:36.500 --> 00:21:38.020\nWell those other domains,\n\n404\n00:21:38.020 --> 00:21:42.530\nthey might want a little more control\nover their own DNS information.\n\n405\n00:21:42.530 --> 00:21:45.850\nThey want to run their own DNS\nserver in that child domain.\n\n406\n00:21:45.850 --> 00:21:51.035\nWell, what I have to do is I have to tell\nthis guy, DC1, that's authoritative for\n\n407\n00:21:51.035 --> 00:21:55.860\nlab.net that he's no longer\nresponsible for that subportion or\n\n408\n00:21:55.860 --> 00:22:00.440\nthat portion of the name space,\nlike east.lab.net.\n\n409\n00:22:00.440 --> 00:22:02.790\nFor example, I have a server here.\n\n410\n00:22:02.790 --> 00:22:09.849\nThis guy's an admin controller that\nhas gone to sleep, for east.lab.net.\n\n411\n00:22:09.849 --> 00:22:11.240\nRight?\n\n412\n00:22:11.240 --> 00:22:15.090\nAnd, what do we have here.\n\n413\n00:22:15.090 --> 00:22:18.600\nSo he's running DNS but\nhe doesn't have a zone.\n\n414\n00:22:18.600 --> 00:22:21.250\nI'm trying to think how I\ncan show you that here.\n\n415\n00:22:24.340 --> 00:22:28.610\nYeah, this guy's a member\nof east.lab.net but\n\n416\n00:22:28.610 --> 00:22:30.680\nhe doesn't have a zone for east.lab.net.\n\n417\n00:22:30.680 --> 00:22:35.090\nThat's being handled by lab.net,\nthat parent domain up there.\n\n418\n00:22:35.090 --> 00:22:38.670\nSo they're telling me that hey,\nwe're tired of having to call you guys up\n\n419\n00:22:38.670 --> 00:22:42.230\nthere in lab.net every time we\nneed something changed in DNS.\n\n420\n00:22:42.230 --> 00:22:43.140\nOr this or that or the other.\n\n421\n00:22:43.140 --> 00:22:44.970\nWe want more control over that.\n\n422\n00:22:44.970 --> 00:22:47.860\nOr it could be that Lab dot net\nthat DNS server up there is\n\n423\n00:22:47.860 --> 00:22:49.110\njust getting overloaded.\n\n424\n00:22:49.110 --> 00:22:52.400\nIf you have five, ten child domains\n\n425\n00:22:52.400 --> 00:22:56.290\nyou know that's ten zones that\nare residing on that one DNS server.\n\n426\n00:22:56.290 --> 00:22:58.060\nHe's getting a lot of name queries, right?\n\n427\n00:22:58.060 --> 00:22:59.220\nThere's a lot of work on that.\n\n428\n00:22:59.220 --> 00:23:04.870\nSo it could be to lessen the work load or\nbecause they want a littler more control.\n\n429\n00:23:04.870 --> 00:23:08.830\nThe process is known as delegation,\nall right?\n\n430\n00:23:08.830 --> 00:23:14.690\nWhat I'm gonna do,\nis I'm gonna go over here to lab.net,\n\n431\n00:23:14.690 --> 00:23:20.410\nand I'm going to right-click on this and\nchoose New Delegation, all right?\n\n432\n00:23:20.410 --> 00:23:23.320\nAnd that's gonna launch a wizard, thank\nyou Microsoft for creating wizards for\n\n433\n00:23:23.320 --> 00:23:24.520\neverything we do.\n\n434\n00:23:24.520 --> 00:23:28.290\nThen I'll click next, and\nthe delegated domain is going to be east.\n\n435\n00:23:28.290 --> 00:23:31.050\nNow don't type out the whole domain,\ndon't type out east.lab.net.\n\n436\n00:23:31.050 --> 00:23:33.850\nNotice that it fills that out for me.\n\n437\n00:23:33.850 --> 00:23:37.294\nI'll click next and then for\n\n438\n00:23:37.294 --> 00:23:42.892\nthe name sever I'm going\nto delegate this to,\n\n439\n00:23:42.892 --> 00:23:49.924\nI'm going to click add and\nthe fully qualified domain name\n\n440\n00:23:49.924 --> 00:23:54.968\nof that guy is svro2.east.lab.net.\n\n441\n00:23:54.968 --> 00:24:00.470\nAnd the IP address, 10.1.2.202,\nif I remember right.\n\n442\n00:24:00.470 --> 00:24:02.000\nAnd we'll click Next.\n\n443\n00:24:02.000 --> 00:24:04.290\nNow I'm getting a little red X there,\nbut that should be fine.\n\n444\n00:24:04.290 --> 00:24:07.050\nAnyway We'll click Next and Finish.\n\n445\n00:24:10.500 --> 00:24:12.095\nIt's telling me I already\nhave a delegation.\n\n446\n00:24:12.095 --> 00:24:16.520\nLet's cancel that out and check.\n\n447\n00:24:16.520 --> 00:24:20.110\nOkay, so it didn't actually delegate it.\n\n448\n00:24:20.110 --> 00:24:24.330\nOkay, so I'm just gonna right-click on\nlab.net, and choose new delegation.\n\n449\n00:24:24.330 --> 00:24:28.390\nAnd that's gonna allow me to delegate\na portion of the namespace away\n\n450\n00:24:28.390 --> 00:24:29.780\nto another DNS server.\n\n451\n00:24:29.780 --> 00:24:37.320\nI'll click Next, and I wanna delegate\neast.lab.net, and I'll click Next.\n\n452\n00:24:38.670 --> 00:24:43.007\nTell it who I'm gonna delegate that to,\n\n453\n00:24:43.007 --> 00:24:49.268\nsvr02 .east.lab.net, and\ntype in that IP address.\n\n454\n00:24:49.268 --> 00:24:53.012\n10.1.2.202.\n\n455\n00:24:53.012 --> 00:24:55.052\nAnd we'll click Okay.\n\n456\n00:24:55.052 --> 00:24:57.790\nAnd Next and Finish.\n\n457\n00:24:57.790 --> 00:24:59.190\nAnd I now have a delegation.\n\n458\n00:24:59.190 --> 00:25:05.470\nSo before, DC01 was authoritative for\neverything that ended In lab.net.\n\n459\n00:25:05.470 --> 00:25:07.800\nNo matter how far out to the left it went.\n\n460\n00:25:07.800 --> 00:25:11.520\nNow if somebody tries to resolve\nthe name that ends in east.lab.net.\n\n461\n00:25:11.520 --> 00:25:14.870\nDC01 is going to go oh wait,\nthat's not me anymore.\n\n462\n00:25:14.870 --> 00:25:18.360\nHere's the DNS server for east.lab.net.\n\n463\n00:25:18.360 --> 00:25:20.440\nLet me let you go over to that guy.\n\n464\n00:25:20.440 --> 00:25:22.540\nWe're going to check out server two.\n\n465\n00:25:24.680 --> 00:25:27.740\nI do have to create a new\nzone over here on server two.\n\n466\n00:25:27.740 --> 00:25:30.965\nI believe I still got DNS up and\nrunning a couple of times it looks like.\n\n467\n00:25:30.965 --> 00:25:34.760\nAlright so that doesn't\nautomatically create that zone.\n\n468\n00:25:34.760 --> 00:25:38.700\nI will have to create a new zone for\neast.lab.net.\n\n469\n00:25:38.700 --> 00:25:42.440\nSo I'll just do a primary zone and\n\n470\n00:25:42.440 --> 00:25:46.347\nzone name's gonna be east.lab.net.\n\n471\n00:25:46.347 --> 00:25:51.610\nNext > Next > Finish and there we go.\n\n472\n00:25:51.610 --> 00:25:54.400\nWe have now got a zone for Estylelab.net.\n\n473\n00:25:54.400 --> 00:25:57.440\nAnd we see those records\nare already populating in there.\n\n474\n00:25:57.440 --> 00:26:01.880\nSo that's how you delegate authority\naway from one DNS server to another\n\n475\n00:26:01.880 --> 00:26:03.420\nusing that delegation wizard.\n\n476\n00:26:03.420 --> 00:26:05.980\n>> Yeah,\nthat's a very cool piece of information.\n\n477\n00:26:05.980 --> 00:26:09.460\nLike Mike said, takes that load\noff of that main DNS server.\n\n478\n00:26:09.460 --> 00:26:13.470\nLet it do stuff that its really\nintended for doing, if you can\n\n479\n00:26:13.470 --> 00:26:17.510\ndelegate on obviously the word is very\nimplicit on what it's trying to do.\n\n480\n00:26:17.510 --> 00:26:21.430\nDelegate those responsibilities to other\nserves that aren't under such a heavy\n\n481\n00:26:21.430 --> 00:26:25.200\nstrenuous load, give them some of that,\nsome of that action, right Mike?\n\n482\n00:26:25.200 --> 00:26:26.060\n>> That's it.\n\n483\n00:26:26.060 --> 00:26:26.670\nPass it on right?\n\n484\n00:26:26.670 --> 00:26:28.145\n>> That's right.\n\n485\n00:26:28.145 --> 00:26:31.630\n>> Alright, last thing I wanna show you\nguys is some zone transfer settings.\n\n486\n00:26:31.630 --> 00:26:35.020\nWe kinda saw this a minutes ago when\nwe were looking at the zones but.\n\n487\n00:26:35.020 --> 00:26:36.370\nLet's do that one more time.\n\n488\n00:26:36.370 --> 00:26:40.125\nI'm gonna pull up\nthe properties of this zone.\n\n489\n00:26:40.125 --> 00:26:44.030\nLab.net, and go to the zone transfers tab.\n\n490\n00:26:44.030 --> 00:26:47.420\nAnd there are, by default,\nno zone transfers are allowed.\n\n491\n00:26:47.420 --> 00:26:48.900\nThat's a security thing.\n\n492\n00:26:48.900 --> 00:26:52.020\nIf I want to allow zone transfers,\nI have to come in here and turn it on.\n\n493\n00:26:52.020 --> 00:26:54.740\nAnd I can do this to any server never.\n\n494\n00:26:54.740 --> 00:26:57.420\nRight?\nThat means anybody that asks this server\n\n495\n00:26:57.420 --> 00:27:00.220\nfor a copy of the zone file is\ngoing to go, sure here you go.\n\n496\n00:27:00.220 --> 00:27:04.300\nI can come into your network, open up\nmy laptop, open up a command prompt.\n\n497\n00:27:04.300 --> 00:27:07.360\nFire up NS look up and ask for\na copy of your zone file and\n\n498\n00:27:07.360 --> 00:27:09.640\nyour domain controller will just say,\nyeah here you go, here's a copy.\n\n499\n00:27:09.640 --> 00:27:14.240\nHere's every machine's name and IP address\nand SRV record and all that, right.\n\n500\n00:27:14.240 --> 00:27:15.520\nSo that's not an option to use.\n\n501\n00:27:15.520 --> 00:27:18.920\nI don't know why they even leave that\noption in there to be honest with you.\n\n502\n00:27:18.920 --> 00:27:21.660\nOnly the servers listed\non the name servers tab,\n\n503\n00:27:21.660 --> 00:27:25.470\nwell that's these guys over here,\nthat should be all of your name servers.\n\n504\n00:27:25.470 --> 00:27:26.690\nSo that's an easy way to do it.\n\n505\n00:27:26.690 --> 00:27:30.010\nAnd I trust all the DNS servers\nthat I'm running internally here.\n\n506\n00:27:30.010 --> 00:27:32.080\nSo rather than having to list each one,\n\n507\n00:27:32.080 --> 00:27:36.380\njust let any server that's on my name\nservers tab get a copy of the zone.\n\n508\n00:27:36.380 --> 00:27:40.070\nGreat, the last one is only\nto the following DNS servers.\n\n509\n00:27:40.070 --> 00:27:42.940\nThis one's useful when you\nwant to limit who gets a copy.\n\n510\n00:27:42.940 --> 00:27:47.920\nLike maybe you've got that RND domain,\nand so there maybe a separate domain or\n\n511\n00:27:47.920 --> 00:27:50.660\nthey got a separate zone over there for\ntheir DNS, and\n\n512\n00:27:50.660 --> 00:27:54.040\nyou don't need your normal users\nbeing able to resolve names for\n\n513\n00:27:54.040 --> 00:27:57.410\nthat RND department, their servers and\ntheir clients and things like that.\n\n514\n00:27:57.410 --> 00:27:59.620\nSo maybe you don't want\nthat zone replicating.\n\n515\n00:27:59.620 --> 00:28:03.440\nTo all your DNS severs,\njust to the DNS servers over there, and\n\n516\n00:28:03.440 --> 00:28:07.510\nI could choose only the following\nservers and I could list them here.\n\n517\n00:28:07.510 --> 00:28:10.470\nOther thing I wanna show you, last thing\non this zone transfers tab is this notify\n\n518\n00:28:10.470 --> 00:28:15.080\noption, and remember when we looked, in a\nprevious episode we looked at the SOA and\n\n519\n00:28:15.080 --> 00:28:19.050\non there, there was a refresh and\nretry interval And that controlled how\n\n520\n00:28:19.050 --> 00:28:22.540\noften those DNS servers talk\nto each other for replication.\n\n521\n00:28:22.540 --> 00:28:24.410\nAnd the default was 15 minutes.\n\n522\n00:28:24.410 --> 00:28:29.630\nWhat that means is that my DNS\nserver could be out of date,\n\n523\n00:28:29.630 --> 00:28:32.610\nor not have current information for\nup to 14 minutes, right?\n\n524\n00:28:32.610 --> 00:28:34.010\nLet's say we have just replicated,\n\n525\n00:28:34.010 --> 00:28:37.490\nand then somebody made a change\non that one DNS server.\n\n526\n00:28:37.490 --> 00:28:41.300\nI'm not gonna get that change for\nanother 14 minutes and 59 seconds, because\n\n527\n00:28:41.300 --> 00:28:46.350\nI just replicated my retry interval, or my\nrefresh interval is 15 minutes by default.\n\n528\n00:28:46.350 --> 00:28:47.890\nSo I'm gonna have some latency there,\n\n529\n00:28:47.890 --> 00:28:52.000\nhow long it takes to get those changes\nreplicated to all the DNS servers.\n\n530\n00:28:52.000 --> 00:28:54.810\nDNS notify is a way to\nspeed that process up.\n\n531\n00:28:54.810 --> 00:28:58.210\nRather than waiting for the other server\nto check in to see if there's been any\n\n532\n00:28:58.210 --> 00:29:02.980\nchanges, I can tell my DNS server hey, any\ntime there's a change, notify this guy.\n\n533\n00:29:06.470 --> 00:29:09.040\nAs soon as something gets changed,\nsend him a little message.\n\n534\n00:29:09.040 --> 00:29:11.700\nSay hey,\nserver 1 a new record's been added.\n\n535\n00:29:11.700 --> 00:29:13.290\nJust thought you'd like to know.\n\n536\n00:29:13.290 --> 00:29:15.280\nIt doesn't change the replication process,\n\n537\n00:29:15.280 --> 00:29:19.860\nserver 1 is still gonna,\nquery dc1 for the SOA.\n\n538\n00:29:19.860 --> 00:29:24.760\nHe's gonna compare the SD, serial numbers\nto see that there has been a change and\n\n539\n00:29:24.760 --> 00:29:27.500\nhe is going to request those changes.\n\n540\n00:29:27.500 --> 00:29:32.920\nSo the replication process stays the same,\nbut rather than waiting for that refresh\n\n541\n00:29:32.920 --> 00:29:37.420\ninterval to come up I can get notified and\nstart the replication process right then.\n\n542\n00:29:37.420 --> 00:29:39.260\nSo it lowers that latency.\n\n543\n00:29:39.260 --> 00:29:41.780\nWe get consistency across our DNS servers.\n\n544\n00:29:41.780 --> 00:29:45.690\nDoes generate a little more traffic,\nbecause now every time a change occurs,\n\n545\n00:29:45.690 --> 00:29:49.590\nhe's gonna be notified, and\nhe's gonna request replication.\n\n546\n00:29:49.590 --> 00:29:53.010\nSo a little more traffic, but a lot\nmore consistency on your DNS servers.\n\n547\n00:29:53.010 --> 00:29:55.570\n>> Yeah, that's gonna help\nout a lot with old records.\n\n548\n00:29:55.570 --> 00:29:58.120\nGet rid of those guys,\nget them out of your system, because\n\n549\n00:29:58.120 --> 00:30:01.470\nyou never know who's trying to connect to\nthat and they're maybe getting a conflict.\n\n550\n00:30:01.470 --> 00:30:05.720\nI know that I've had to, more than once,\njump into the DNS and remove an old record\n\n551\n00:30:05.720 --> 00:30:09.750\nbecause my machine was looking at that\nrecord and I had to get it out of there.\n\n552\n00:30:09.750 --> 00:30:12.350\nSo that can definitely be helpful for\nus on that.\n\n553\n00:30:12.350 --> 00:30:15.330\nWell, Mike, we've covered a lot\nof stuff when it comes to DNS.\n\n554\n00:30:15.330 --> 00:30:19.560\nDNS, obviously it's not a small item.\n\n555\n00:30:19.560 --> 00:30:22.390\nIt's not just a oh well good old DNS just,\n\n556\n00:30:22.390 --> 00:30:27.080\nmaking those IPs into our\nfully qualified domain names.\n\n557\n00:30:27.080 --> 00:30:27.900\nMake it easy for us.\n\n558\n00:30:27.900 --> 00:30:29.720\nIt's got a lot of work it does.\n\n559\n00:30:29.720 --> 00:30:31.300\nIt's a very big workhorse, so\n\n560\n00:30:31.300 --> 00:30:35.520\nyou gotta be up to snuff with that,\nspecifically when it comes to the exam.\n\n561\n00:30:35.520 --> 00:30:36.800\nMike, you did a great job, though.\n\n562\n00:30:36.800 --> 00:30:37.680\nYeah.\n\n563\n00:30:37.680 --> 00:30:39.210\nAnd covering all that.\n\n564\n00:30:39.210 --> 00:30:41.830\nMake sure you watch this\nepisode a few times.\n\n565\n00:30:41.830 --> 00:30:44.890\nGet these concepts down like James Brown.\n\n566\n00:30:44.890 --> 00:30:46.580\nSo when you're in that exam booth,\n\n567\n00:30:46.580 --> 00:30:49.120\nanything they throw at\nya you're ready to go.\n\n568\n00:30:49.120 --> 00:30:51.290\nAlright we're gonna go ahead and\nclose this episode up.\n\n569\n00:30:51.290 --> 00:30:52.390\nHopefully you guys have enjoyed it.\n\n570\n00:30:52.390 --> 00:30:54.190\nWe had a great time making it for you.\n\n571\n00:30:54.190 --> 00:30:57.450\nSigning off for\nITProTV I've been your host Daniel Lawry.\n\n572\n00:30:57.450 --> 00:30:58.270\n>> And I'm Mike Rodrick.\n\n573\n00:30:58.270 --> 00:31:00.103\n>> And we'll see you next time.\n\n574\n00:31:00.103 --> 00:31:06.400\n[MUSIC]\n\n",
          "vimeoId": "137598725"
        },
        {
          "description": "In this episode, Daniel and Mike explain how to configure the different resource records in DNS on a Windows Server 2012 server. They begin by explaining the common DNS resource records like A and AAAA records, as well as CNAME, PTR, and SOA. Other topics discussed SRV records, zone scavenging, and setting the record Time-to-Live for the client cache.",
          "length": "2101",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-9-1-configure_dns_records-082715.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-9-1-configure_dns_records-082715-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-9-1-configure_dns_records-082715-sm.jpg",
          "title": "Configure DNS Records",
          "transcript": "WEBVTT\n\n1\n00:00:00.078 --> 00:00:10.431\n[MUSIC]\n\n2\n00:00:10.431 --> 00:00:15.700\nAll right, greetings everyone, and welcome\nto another fantastic episode of ITProTV.\n\n3\n00:00:15.700 --> 00:00:19.647\nI'm your host, Daniel Lowry, here with\nme is none other than Mr. Mike Rodrick.\n\n4\n00:00:19.647 --> 00:00:20.282\nHow's it going today, Mike?\n\n5\n00:00:20.282 --> 00:00:21.350\n>> Oh, it's going great, Daniel.\n\n6\n00:00:21.350 --> 00:00:22.372\nI'm excited to be here.\n\n7\n00:00:22.372 --> 00:00:25.740\nWe're continuing on with\nour 7411 objectives.\n\n8\n00:00:25.740 --> 00:00:28.966\nAnd that's what we're gonna be\ntalking about, DNS records.\n\n9\n00:00:28.966 --> 00:00:31.719\nSo let's just dive in and\ntake a look here.\n\n10\n00:00:31.719 --> 00:00:34.943\nDNS records, we understand what DNS is.\n\n11\n00:00:34.943 --> 00:00:38.729\nIf you've watched our previous episodes,\nwe've gone over DNS, installing DNS,\n\n12\n00:00:38.729 --> 00:00:41.730\nconfiguring DNS, the different\nzone types and things like that.\n\n13\n00:00:41.730 --> 00:00:45.104\nAnd now I wanna take a look at\nwhat we find in those zones, and\n\n14\n00:00:45.104 --> 00:00:47.980\nthose are called resource records, right?\n\n15\n00:00:47.980 --> 00:00:50.026\nWe know that DNS's goal or\n\n16\n00:00:50.026 --> 00:00:55.236\njob is to resolve fully qualified\ndomain names into IP addresses.\n\n17\n00:00:55.236 --> 00:00:59.560\nThat means that DNS server need to know\nthe fully qualified domain name of those\n\n18\n00:00:59.560 --> 00:01:02.190\nmachines out there as\nwell as their IP address.\n\n19\n00:01:02.190 --> 00:01:03.530\nSo, when you call up DNS, and\n\n20\n00:01:03.530 --> 00:01:07.590\nyou say, hey,\nwhat's the IP address of dc01.lab.net?\n\n21\n00:01:07.590 --> 00:01:08.907\nIt can go into its resource records.\n\n22\n00:01:08.907 --> 00:01:11.206\nIt goes into the zone file for lab.net.\n\n23\n00:01:11.206 --> 00:01:13.597\nIt finds the resource records for dc01.\n\n24\n00:01:13.597 --> 00:01:19.454\nIt says oh, dc01,\nthat's 10.1.2.200, right.\n\n25\n00:01:19.454 --> 00:01:23.683\nThat's its job, and it can't do that\nwithout those resource records,\n\n26\n00:01:23.683 --> 00:01:25.013\nso let's take a look.\n\n27\n00:01:25.013 --> 00:01:29.217\nI've got open here on my computer,\nI've got DNS up, and I've got a zone for\n\n28\n00:01:29.217 --> 00:01:32.109\nlab.net, that's my little\ntest domain here, and\n\n29\n00:01:32.109 --> 00:01:36.140\nin there we've got a couple of resource\nrecords we want to take a look at.\n\n30\n00:01:36.140 --> 00:01:37.570\nFirst thing I want to talk about, I guess,\n\n31\n00:01:37.570 --> 00:01:41.550\nis the different types of resource\nrecords, because there are several.\n\n32\n00:01:41.550 --> 00:01:46.230\nThe first one I want to talk about\nis what's known as a host record, or\n\n33\n00:01:46.230 --> 00:01:47.270\nan A record.\n\n34\n00:01:47.270 --> 00:01:48.880\nA host record is what we like to call it.\n\n35\n00:01:48.880 --> 00:01:52.740\nIt's technically, according to\nthe standards, is an A record.\n\n36\n00:01:52.740 --> 00:01:57.937\nAnd the A record is the primary\nresource record for IPv4, all right?\n\n37\n00:01:57.937 --> 00:02:01.567\nAn A record maps a fully\nqualified domain name,\n\n38\n00:02:01.567 --> 00:02:07.672\nin this case server01.lab.net\nto an IP address, 10.1.2.201.\n\n39\n00:02:07.672 --> 00:02:12.648\nAll right, that's what an A worker does,\nand every machine on my network needs\n\n40\n00:02:12.648 --> 00:02:17.570\nto have an A record created for it so that\nwe can find it and communicate with it.\n\n41\n00:02:17.570 --> 00:02:21.156\nAll right, now with IPv6,\nwhich I don't have any in here.\n\n42\n00:02:21.156 --> 00:02:26.031\nBut IPv6 we would call\nthem a quad A record, or\n\n43\n00:02:26.031 --> 00:02:29.784\na four A record, or an AAAA record.\n\n44\n00:02:29.784 --> 00:02:30.598\nThat's kind of ridiculous.\n\n45\n00:02:30.598 --> 00:02:32.482\n[LAUGH] But\nthat's where going to call it and\n\n46\n00:02:32.482 --> 00:02:34.325\nthe logic is,\ncuz I had to go look this up.\n\n47\n00:02:34.325 --> 00:02:40.200\nI was like why on earth didn't they\njust call it a B record right, for IPv6.\n\n48\n00:02:40.200 --> 00:02:44.104\nAn A record is IPv4, that's 32-bits.\n\n49\n00:02:44.104 --> 00:02:49.001\nAn IPv6 address, is 128 bits,\nor four times as many bits.\n\n50\n00:02:49.001 --> 00:02:50.532\nHence, the four A's, all right?\n\n51\n00:02:50.532 --> 00:02:52.390\nThat was their logic behind that.\n\n52\n00:02:52.390 --> 00:02:55.456\nSo now, as instructors,\nwe get to say the A, A, A, A record.\n\n53\n00:02:55.456 --> 00:02:57.010\n>> [LAUGH]\n>> Yeah, whatever.\n\n54\n00:02:57.010 --> 00:02:59.545\nBut anyway, Quad A or\nwhatever you want to call it.\n\n55\n00:02:59.545 --> 00:03:03.451\nThat's what we'd have for IPv6 and\nit does the exact same thing,\n\n56\n00:03:03.451 --> 00:03:06.882\nit maps a fully qualified\ndomain name to an IPv6 address.\n\n57\n00:03:06.882 --> 00:03:07.438\nAll right?\n\n58\n00:03:07.438 --> 00:03:10.933\nSo those are our main records\nthat we have in there,\n\n59\n00:03:10.933 --> 00:03:13.794\nthose A records and those Quad A records.\n\n60\n00:03:13.794 --> 00:03:16.907\nThey allow me to take a fully\nqualified domain name and\n\n61\n00:03:16.907 --> 00:03:20.586\nturn it into an IP address so\nthat I can connect to that machine.\n\n62\n00:03:20.586 --> 00:03:23.710\nNow, sometimes,\nwe want to do just the opposite.\n\n63\n00:03:23.710 --> 00:03:27.333\nWe know the IP address, and\nwe want to return the name.\n\n64\n00:03:27.333 --> 00:03:29.382\nThat's a different type of record, and\n\n65\n00:03:29.382 --> 00:03:32.529\nthat's actually found in what\nwe call a reverse lookup zone.\n\n66\n00:03:32.529 --> 00:03:39.071\nAnd, I don't have a reverse, we don't\nhave a reverse lookup zone created here.\n\n67\n00:03:39.071 --> 00:03:43.293\nBut a reverse lookup zone is going\nto map IP address back to name.\n\n68\n00:03:43.293 --> 00:03:44.617\nIn fact, I can make one right quick.\n\n69\n00:03:44.617 --> 00:03:45.638\nLet's just do that.\n\n70\n00:03:45.638 --> 00:03:47.938\nWe'll go new zone, next.\n\n71\n00:03:47.938 --> 00:03:49.074\nI'll make it a primary again.\n\n72\n00:03:49.074 --> 00:03:52.071\nThis is all in our DNS module,\nso I'm not worried about this.\n\n73\n00:03:52.071 --> 00:03:54.329\nNow, we're going to do\nan IPv4 reverse lookup.\n\n74\n00:03:54.329 --> 00:03:57.442\nThe network address is 10.1.2.\n\n75\n00:03:57.442 --> 00:04:02.340\nAnd we'll go Next, and I'll do Secure and\nUnsecure, just for giggles.\n\n76\n00:04:02.340 --> 00:04:04.849\nAnd Finish just to get that up there.\n\n77\n00:04:04.849 --> 00:04:06.892\nSo here is a reverse lookup zone.\n\n78\n00:04:06.892 --> 00:04:10.734\nAnd we could make a new record in here,\nso we could have one to look at.\n\n79\n00:04:10.734 --> 00:04:12.463\nThe host IP address,\nlet's say I'm making this.\n\n80\n00:04:12.463 --> 00:04:13.856\nI've got a client out there.\n\n81\n00:04:13.856 --> 00:04:18.717\nLet's say his IP address is 110.2.1,\nor 10.2.10.100.\n\n82\n00:04:18.717 --> 00:04:22.795\nI'll go ahead and\nadd that in there, and his name is,\n\n83\n00:04:22.795 --> 00:04:25.887\nI can just browse for it here real quick.\n\n84\n00:04:25.887 --> 00:04:28.750\nJust to make sure I get that guy right.\n\n85\n00:04:29.840 --> 00:04:30.950\nClient2, there we go.\n\n86\n00:04:30.950 --> 00:04:32.530\nSaves me some typing.\n\n87\n00:04:32.530 --> 00:04:38.040\nAnd you notice now this one is taking the\nIP address and mapping it back to a name.\n\n88\n00:04:38.040 --> 00:04:39.390\nThese can be useful.\n\n89\n00:04:39.390 --> 00:04:39.927\nThey're not required.\n\n90\n00:04:39.927 --> 00:04:42.673\nWhen you set up VNS you've gotta\nhave a forward lookup zone.\n\n91\n00:04:42.673 --> 00:04:44.270\nThat's what DNS uses.\n\n92\n00:04:44.270 --> 00:04:48.160\nYou don't have to set up a reverse\nlook up zone, but they can be useful.\n\n93\n00:04:48.160 --> 00:04:52.512\nLike if you're looking at a log file and\nit's got and IP address as an entry in\n\n94\n00:04:52.512 --> 00:04:56.864\nthere, all my clients are using DHCP,\nI don't memorize all my clients''\n\n95\n00:04:56.864 --> 00:05:01.012\nIP addresses, if I wanna figure out\nwhat the name of that machine is that I\n\n96\n00:05:01.012 --> 00:05:05.117\ncan see the IP address for in that log\nentry, I can use a reverse lookup.\n\n97\n00:05:05.117 --> 00:05:06.674\nCertain tools like NS Lookup.\n\n98\n00:05:06.674 --> 00:05:10.634\nIf you use NS Lookup, you type in\nNS Lookup it tells you the name and\n\n99\n00:05:10.634 --> 00:05:12.517\nIP address of your DNS server.\n\n100\n00:05:12.517 --> 00:05:15.317\nIt won't show you the name unless\nyou've got a reverse lookup.\n\n101\n00:05:15.317 --> 00:05:20.176\nIt can look at your TCIP settings and\nit can the IP address of your DNS server.\n\n102\n00:05:20.176 --> 00:05:22.648\nBut it can't tell you what\nthe name of you DNS server is,\n\n103\n00:05:22.648 --> 00:05:24.840\nthat's not in your TCP/IP settings.\n\n104\n00:05:24.840 --> 00:05:28.660\nBut, if you had a reverse lookup, it could\ntake that IP address, go to talk to DNS.\n\n105\n00:05:28.660 --> 00:05:31.778\nSay what name goes with 10.1.2.200?\n\n106\n00:05:31.778 --> 00:05:34.550\nIt could return the name and\nnow it can display both the name and\n\n107\n00:05:34.550 --> 00:05:36.310\nthe IP address, right?\n\n108\n00:05:36.310 --> 00:05:39.760\nSo reverse look up zone is not required\nbut they can be very beneficial.\n\n109\n00:05:41.040 --> 00:05:44.560\nAnother type of record that we're gonna\ndeal with, that's really the ony type of\n\n110\n00:05:44.560 --> 00:05:49.900\nrecord that you see in a reverse lookup\nzone, is gonna be these PTR records\n\n111\n00:05:49.900 --> 00:05:54.680\nas well as the SOA and who the name\nserver is but that's all we see.\n\n112\n00:05:54.680 --> 00:05:55.972\nIn a forward lookup zone,\n\n113\n00:05:55.972 --> 00:05:59.103\nthere's actually several types\nof records we can see in here.\n\n114\n00:05:59.103 --> 00:06:02.434\nWe've got the A records, and\nwe've got the Quad A records, and\n\n115\n00:06:02.434 --> 00:06:06.520\nwe've also have something know as\nthe SOA or the Start of Authority.\n\n116\n00:06:06.520 --> 00:06:10.510\nNow, this one, notice when I double click\non a host record, it opens that record up.\n\n117\n00:06:10.510 --> 00:06:12.713\nI could make changes to it if I needed to.\n\n118\n00:06:12.713 --> 00:06:17.467\nWell, when I double click on the SOA,\nit actually opens up the properties for\n\n119\n00:06:17.467 --> 00:06:18.650\nthe zone, right?\n\n120\n00:06:18.650 --> 00:06:22.743\nI could actually get here by\nright-clicking on lab.net and\n\n121\n00:06:22.743 --> 00:06:24.360\nchoosing properties.\n\n122\n00:06:24.360 --> 00:06:26.800\nAnd then just working my\nway over to the SOA tab.\n\n123\n00:06:26.800 --> 00:06:28.130\nSo it's like a special record.\n\n124\n00:06:28.130 --> 00:06:30.690\nIt is a record, but\n\n125\n00:06:30.690 --> 00:06:33.660\nit's not like the other records\nthat we see in there, all right.\n\n126\n00:06:33.660 --> 00:06:36.820\nThe SOA is actually the very\nfirst record that gets created\n\n127\n00:06:36.820 --> 00:06:38.300\nwhen you create a new zone.\n\n128\n00:06:38.300 --> 00:06:39.740\nAs soon as you create a zone,\n\n129\n00:06:39.740 --> 00:06:44.450\nthe SOA gets generated because\nthe SOA is the start of authority.\n\n130\n00:06:44.450 --> 00:06:49.130\nWhen you create a zone on a DNS server,\nthat DNS server is now authoritator for\n\n131\n00:06:49.130 --> 00:06:52.390\nthat zone and\nthere's a record here that proves it,\n\n132\n00:06:52.390 --> 00:06:56.590\nthat lists him as\nthe authoritative server.\n\n133\n00:06:56.590 --> 00:07:02.010\nAlso on the SOA, we're gonna find some\nother information, like the serial number.\n\n134\n00:07:02.010 --> 00:07:07.080\nThe serial number is what it uses when\nit replicates with other DNS servers.\n\n135\n00:07:07.080 --> 00:07:10.930\nLet's say there was another DNS\nserver that had a copy of lab.net.\n\n136\n00:07:10.930 --> 00:07:14.400\nTwo DNS servers hosting\nthat zone fault tolerance.\n\n137\n00:07:14.400 --> 00:07:16.429\nWe were always going to have\nmore than one DNS server.\n\n138\n00:07:17.670 --> 00:07:18.790\nWhether gonna have to replicate.\n\n139\n00:07:18.790 --> 00:07:20.920\nIf I make a change on one DNS server,\n\n140\n00:07:20.920 --> 00:07:23.650\nthat change is gonna replicate\nto the other DNS server.\n\n141\n00:07:23.650 --> 00:07:24.610\nHow did they know?\n\n142\n00:07:24.610 --> 00:07:27.720\nHow did they keep track of whether or\nnot they're up to date or not?\n\n143\n00:07:27.720 --> 00:07:29.530\nIt's the serial number, all right?\n\n144\n00:07:29.530 --> 00:07:33.730\nEvery time I make a change at the zone,\nthe serial number's gonna be incremented.\n\n145\n00:07:33.730 --> 00:07:37.980\nThe next time those DNS servers talk,\nhe's gonna say, hey send me your SOA.\n\n146\n00:07:37.980 --> 00:07:40.930\nOh, I see that you're on serial number 35.\n\n147\n00:07:40.930 --> 00:07:41.950\nI'm still on 30.\n\n148\n00:07:41.950 --> 00:07:45.310\nThat means that you've got some\nchanges that I don't have.\n\n149\n00:07:45.310 --> 00:07:47.920\nWill you send me a copy of those changes,\nalright?\n\n150\n00:07:47.920 --> 00:07:49.130\nSo that's what that serial number is for.\n\n151\n00:07:49.130 --> 00:07:52.120\nIt helps with replication\nbetween your DNS servers.\n\n152\n00:07:52.120 --> 00:07:54.767\nList who the primary DNS server is.\n\n153\n00:07:54.767 --> 00:07:56.462\nIn this case DC 01.\n\n154\n00:07:56.462 --> 00:07:59.698\nYou're supposed to update\nthis responsible person.\n\n155\n00:07:59.698 --> 00:08:04.278\nWith an email address of somebody that I\ncan talk to if I'm having trouble with\n\n156\n00:08:04.278 --> 00:08:04.990\nthis zone.\n\n157\n00:08:04.990 --> 00:08:07.660\nI know most people don't, but\nthat is what you're supposed to do.\n\n158\n00:08:08.890 --> 00:08:12.620\nBelow that I've got my refresh,\nretry, expires, and TTL.\n\n159\n00:08:12.620 --> 00:08:18.490\nThe refresh interval, this is how often\nthey are going to request replication.\n\n160\n00:08:18.490 --> 00:08:20.840\nWhen we're talking about\ntwo different DNS servers,\n\n161\n00:08:20.840 --> 00:08:25.370\nevery 15 minutes it's going\nto request replication.\n\n162\n00:08:25.370 --> 00:08:30.679\nHey, is he going to request the SOA to see\nif that serial number has incremented?\n\n163\n00:08:30.679 --> 00:08:35.558\nNow, the retry interval is how long\nhe'll wait before he tries again if that\n\n164\n00:08:35.558 --> 00:08:37.420\nrefresh failed.\n\n165\n00:08:37.420 --> 00:08:41.117\nLet's say that I've got DC1\nhere has a copy of lab.net.\n\n166\n00:08:41.117 --> 00:08:43.492\nAnd server one has a copy of lab.net.\n\n167\n00:08:43.492 --> 00:08:46.830\nServer one is going to talk\nto DC1 every 15 minutes.\n\n168\n00:08:46.830 --> 00:08:51.198\nHe's gonna say hey, lemme see if\nwe're up to date, if we're in sync.\n\n169\n00:08:51.198 --> 00:08:53.980\nIf he trys to talk to DC1 and\nDC1 is unavailable for\n\n170\n00:08:53.980 --> 00:08:57.680\nsome reason,\nhe's gonna wait ten minutes and try again.\n\n171\n00:08:57.680 --> 00:09:00.580\nIf it fails,\nhe'll wait ten minutes and try again.\n\n172\n00:09:00.580 --> 00:09:05.450\nSo he's gonna retry to refresh his\ninformation every ten minutes.\n\n173\n00:09:05.450 --> 00:09:07.720\nIt expires after one day.\n\n174\n00:09:07.720 --> 00:09:11.110\nWhat this means is, let's say\nserver one still can't talk to DC1.\n\n175\n00:09:11.110 --> 00:09:13.720\nDC1 has failed,\nit hasn't come back up, and\n\n176\n00:09:13.720 --> 00:09:15.440\nwe don't know when it's\ngonna come back up.\n\n177\n00:09:15.440 --> 00:09:16.820\nServer one doesn't know that.\n\n178\n00:09:16.820 --> 00:09:19.420\nHe's trying to refresh\nhis DNS information.\n\n179\n00:09:19.420 --> 00:09:21.310\nHe's retrying every ten minutes.\n\n180\n00:09:21.310 --> 00:09:23.950\nAfter 24 hours he's gonna give up.\n\n181\n00:09:23.950 --> 00:09:25.230\nHe's gonna say, you know what?\n\n182\n00:09:25.230 --> 00:09:26.630\nI shouldn't say he's gonna give up.\n\n183\n00:09:26.630 --> 00:09:29.760\nBut he's gonna mark his\ninformation as stale.\n\n184\n00:09:29.760 --> 00:09:36.640\nHe'll stop responding to queries because\nhe hasn't talked to DC1 in over 24 hours.\n\n185\n00:09:36.640 --> 00:09:38.930\nHe is pretty sure his\ninformation is out of date.\n\n186\n00:09:38.930 --> 00:09:42.670\nMany things could have changed and\nhe just doesn't know about it yet.\n\n187\n00:09:42.670 --> 00:09:47.370\nSo that's what that expires after is,\nhow long that DNS server can\n\n188\n00:09:47.370 --> 00:09:52.370\ncontinue to respond to queries even if he\nhasn't talked to his replication partner.\n\n189\n00:09:52.370 --> 00:09:53.120\nAnd then the minimum TTL,\n\n190\n00:09:53.120 --> 00:09:57.200\nthis is actually something else\nthey call out on the objectives.\n\n191\n00:09:57.200 --> 00:10:00.970\nI'll go ahead and talk about it here and\nthen we'll come back to it as well.\n\n192\n00:10:00.970 --> 00:10:04.360\nThe TTL is my time to live.\n\n193\n00:10:04.360 --> 00:10:10.180\nThis is how long we can cache\nthose DNS query responses.\n\n194\n00:10:10.180 --> 00:10:13.510\nAnd in our DNS episode,\nwe've talked about caching.\n\n195\n00:10:13.510 --> 00:10:17.540\nWe said if I query DNS and\nDNS gives me the IP address for\n\n196\n00:10:17.540 --> 00:10:19.980\na server,\nI'm gonna cache that information.\n\n197\n00:10:19.980 --> 00:10:23.570\nSo if I need to connect to that server\nagain, I don't have to query DNS again,\n\n198\n00:10:23.570 --> 00:10:26.130\nI've already got the IP address,\nlike it's your recent,\n\n199\n00:10:26.130 --> 00:10:28.920\nthink about your recent\ncalls on your phone, right?\n\n200\n00:10:28.920 --> 00:10:31.690\nYou go through, looking up a number,\nyou go through to the phonebook or\n\n201\n00:10:31.690 --> 00:10:35.790\nwhatever, you get that number,\nyou dial it, you talk them, you hang up,\n\n202\n00:10:35.790 --> 00:10:39.320\nfive minutes later you wanna call that\nperson, you don't have to look the number\n\n203\n00:10:39.320 --> 00:10:42.890\nup again, you can look in your recent\ncalls list, right, your call history.\n\n204\n00:10:42.890 --> 00:10:45.580\nThat's the same thing\nas caching here on DNS.\n\n205\n00:10:45.580 --> 00:10:49.220\nSo, how long do I get to\nkeep that cached entry?\n\n206\n00:10:49.220 --> 00:10:51.260\nAnd in this case, one hour.\n\n207\n00:10:51.260 --> 00:10:52.770\nThat's what that TTL says.\n\n208\n00:10:52.770 --> 00:10:56.660\nIt says how long people\nare allowed to cache the response.\n\n209\n00:10:56.660 --> 00:10:57.830\nAnd we can change that, right?\n\n210\n00:10:57.830 --> 00:10:58.960\nWe might want to.\n\n211\n00:10:58.960 --> 00:10:59.970\nBut I'll come back to that.\n\n212\n00:10:59.970 --> 00:11:03.250\nLet's finish talking about the different\ntypes of resource records and\n\n213\n00:11:03.250 --> 00:11:05.160\nthen we'll come back and\ntalk about that TTL some more.\n\n214\n00:11:05.160 --> 00:11:07.660\nSo that's the SOA [COUGH].\n\n215\n00:11:07.660 --> 00:11:13.870\nOther records we're going to find in here\nare NS records or name server records.\n\n216\n00:11:13.870 --> 00:11:16.940\nName server records are how\nyou find your name server.\n\n217\n00:11:16.940 --> 00:11:20.830\nIt's another one that doesn't have, it's\nnot like my A records, it actually opened\n\n218\n00:11:20.830 --> 00:11:25.190\nup the properties for lab.net and\nthen there's a name servers tab.\n\n219\n00:11:25.190 --> 00:11:28.403\nAnd here would be listed\nall the DNS servers that\n\n220\n00:11:28.403 --> 00:11:30.820\nare hosting this particular zone.\n\n221\n00:11:30.820 --> 00:11:31.850\nAll right?\n\n222\n00:11:31.850 --> 00:11:35.950\nSo that's how I can find if I need\nto find another DNS server that's\n\n223\n00:11:35.950 --> 00:11:38.590\nhosting that zone this is where\nI'm gonna find them listed.\n\n224\n00:11:39.830 --> 00:11:41.870\nThere's also SRV records.\n\n225\n00:11:41.870 --> 00:11:46.110\nNow SRV records are what we\ncall service locator records.\n\n226\n00:11:46.110 --> 00:11:50.010\nThese are how a client can go,\nor anybody can go about finding\n\n227\n00:11:50.010 --> 00:11:53.440\nwhich machines are offering\na particular service.\n\n228\n00:11:53.440 --> 00:11:55.210\nFor example, when you go to log in,\nin the morning.\n\n229\n00:11:55.210 --> 00:11:58.770\nYou come in to your work computer, you sit\ndown, you do your control alt delete and\n\n230\n00:11:58.770 --> 00:12:03.350\nyou go to log in, well your machine is\npackaging up your authentication request\n\n231\n00:12:03.350 --> 00:12:05.870\nand it has to send it\nover to an LDAP server.\n\n232\n00:12:05.870 --> 00:12:07.940\nHow does it know where that server is?\n\n233\n00:12:07.940 --> 00:12:11.250\nWhat is the IP address of the domain\ncontroller that's running LDAP and\n\n234\n00:12:11.250 --> 00:12:12.010\nCuverose?\n\n235\n00:12:12.010 --> 00:12:12.660\nHow do I log on?\n\n236\n00:12:12.660 --> 00:12:17.670\nWell he queries DNS and he says, hey I\nneed the IP address of an LDAP server.\n\n237\n00:12:17.670 --> 00:12:19.120\nWell DNS can come in here and say,\n\n238\n00:12:19.120 --> 00:12:22.570\nokay if you wanna connect\nto an LDAP server via TCP.\n\n239\n00:12:22.570 --> 00:12:26.880\nOh here's my record inside this little\nunderscore TCP folder is an underscore\n\n240\n00:12:26.880 --> 00:12:31.640\nLDAP record and it gives the the name,\nnow that's an important distinction,\n\n241\n00:12:31.640 --> 00:12:36.460\nit gives me the name of the server\nthat's offering this service.\n\n242\n00:12:36.460 --> 00:12:41.130\nIf I'm looking for a global catalog server\nI query DNS, he finds the record for\n\n243\n00:12:41.130 --> 00:12:42.950\nthe global catalog service.\n\n244\n00:12:42.950 --> 00:12:47.120\nHe says oh, DC01 is running the global\ncatalog service if you need to talk to\n\n245\n00:12:47.120 --> 00:12:49.560\na global catalog server this\nis who you need to talk to.\n\n246\n00:12:49.560 --> 00:12:54.450\nSo you can see this is how we find\nthe servers that are offering services\n\n247\n00:12:54.450 --> 00:12:55.690\non our network.\n\n248\n00:12:55.690 --> 00:13:01.680\nNow what I said about the name there, A\nrecords map a host name to an IP address.\n\n249\n00:13:01.680 --> 00:13:06.460\nService locator records map\na service to a host name.\n\n250\n00:13:06.460 --> 00:13:10.985\nSo if I was looking for a global catalog\nserver, I could find, I could query DMS\n\n251\n00:13:10.985 --> 00:13:14.841\nand he would say oh, well the name\nof the global catalog is DC01.\n\n252\n00:13:14.841 --> 00:13:16.370\nI can't connect to a name.\n\n253\n00:13:16.370 --> 00:13:16.880\nRight.\n\n254\n00:13:16.880 --> 00:13:20.326\nSo I would still have to go back and\nsay okay well what's the IP, now you know\n\n255\n00:13:20.326 --> 00:13:23.589\nthe name of the global catalog server,\nyou still need the IP address.\n\n256\n00:13:23.589 --> 00:13:27.525\nSo once you have the name, you can\nthen do your normal lookup and say oh!\n\n257\n00:13:27.525 --> 00:13:30.706\nDC01 is 10.1.2.200.\n\n258\n00:13:30.706 --> 00:13:34.250\nSo something to keep in mind, service\nlocator records point back to a fully\n\n259\n00:13:34.250 --> 00:13:36.348\nqualified domain name, not an IP address.\n\n260\n00:13:36.348 --> 00:13:38.993\n>> Now Mike, when you're looking for\nthe services say,\n\n261\n00:13:38.993 --> 00:13:41.247\nI'm trying to find\nwhatever kind of service.\n\n262\n00:13:41.247 --> 00:13:45.160\nI can't think of one, maybe or\nsomething that I want to use.\n\n263\n00:13:45.160 --> 00:13:49.216\nDo I use that good old NS lookup tool\nthat's built into most the command\n\n264\n00:13:49.216 --> 00:13:52.673\nlines or is that integrated\nwithin some sort of interface?\n\n265\n00:13:52.673 --> 00:13:54.400\n>> It's really done kind\nof behind the scenes.\n\n266\n00:13:54.400 --> 00:13:56.240\n>> You really don't deal with it directly,\nso\n\n267\n00:13:56.240 --> 00:14:00.885\nit's like when you log on that\nauthentication service on your machine.\n\n268\n00:14:00.885 --> 00:14:02.110\n>> Mm-hm.\n>> It knows to look for\n\n269\n00:14:02.110 --> 00:14:05.110\na global catalog or for a LDAP server so\n\n270\n00:14:05.110 --> 00:14:08.850\nit's not too often that you're\ndirectly trying to find that out.\n\n271\n00:14:08.850 --> 00:14:10.570\nIt's usually an application.\n\n272\n00:14:10.570 --> 00:14:15.090\nLike if you're using SIP or\nvoice over IP, it knows to look for that.\n\n273\n00:14:15.090 --> 00:14:18.370\nIf you're doing ISATAP tunneling\n\n274\n00:14:18.370 --> 00:14:22.810\nthen when your machine tries to make\nan ISATAP connection, it queries DNS and\n\n275\n00:14:22.810 --> 00:14:26.160\nsays hey, who's running ISATAP,\nto find the ISATAP router.\n\n276\n00:14:26.160 --> 00:14:27.330\nSo, most of it's done behind the scenes.\n\n277\n00:14:27.330 --> 00:14:29.970\n>> Got ya.\nSo, it's usually built in to whatever it\n\n278\n00:14:29.970 --> 00:14:32.060\nis feature wise as what\nwe're trying to use.\n\n279\n00:14:32.060 --> 00:14:33.070\n>> Very cool.\n>> Exactly.\n\n280\n00:14:33.070 --> 00:14:36.490\nNow, we do have to make sure those SRV\nrecords get registered in the first place.\n\n281\n00:14:36.490 --> 00:14:37.660\nRight?\n\n282\n00:14:37.660 --> 00:14:41.230\nLike my domain controller here has\nseveral SRV records registered.\n\n283\n00:14:41.230 --> 00:14:43.990\nHe's a global catalog server,\nhe's running curb rows,\n\n284\n00:14:43.990 --> 00:14:47.230\nhe's running that password\nservice as well as LDAP.\n\n285\n00:14:47.230 --> 00:14:48.418\nI didn't create these records.\n\n286\n00:14:48.418 --> 00:14:51.880\nThere's a D&S.cache file where\n\n287\n00:14:51.880 --> 00:14:55.700\nit keeps track when you add\na new service to a server.\n\n288\n00:14:55.700 --> 00:15:00.760\nIt updates this file and every time that\nserver gets rebooted it contacts DNS and\n\n289\n00:15:00.760 --> 00:15:03.570\nit goes through and\nit registers all the SRV records.\n\n290\n00:15:03.570 --> 00:15:06.010\nSo as you add new\nservices to that machine,\n\n291\n00:15:06.010 --> 00:15:08.880\nthe next time he registers\nwith DNS you could say, oh and\n\n292\n00:15:08.880 --> 00:15:12.340\nby the way I'm now running this service,\nmake an SRV record for me.\n\n293\n00:15:12.340 --> 00:15:13.240\nAll right?\n\n294\n00:15:13.240 --> 00:15:17.990\nIt's the net log on service that\nactually does that, all right?\n\n295\n00:15:17.990 --> 00:15:22.550\nFor example,\nlet's say I accidentally delete.\n\n296\n00:15:22.550 --> 00:15:23.730\nOh, let's just delete them all.\n\n297\n00:15:25.390 --> 00:15:26.532\n>> Smoke 'em if you got 'em, Mike.\n\n298\n00:15:26.532 --> 00:15:28.060\n>> Smoke 'em if got 'em, boom.\n\n299\n00:15:28.060 --> 00:15:28.840\nThey're gone.\nOh no.\n\n300\n00:15:28.840 --> 00:15:30.530\nAnd that's gonna be a problem, right?\n\n301\n00:15:30.530 --> 00:15:34.810\nNow, no machines can find my logon\nserver or my global catalog server.\n\n302\n00:15:34.810 --> 00:15:37.450\nSo how do I get those registers recreated?\n\n303\n00:15:37.450 --> 00:15:40.020\nWell, let's just open up\na little command prompt here,\n\n304\n00:15:40.020 --> 00:15:42.820\nI could just reboot the server,\nthat would work.\n\n305\n00:15:42.820 --> 00:15:47.130\nBut sometimes you can't reboot\na server in the middle of the day,\n\n306\n00:15:47.130 --> 00:15:49.000\nthose production servers\ntypically don't like that.\n\n307\n00:15:49.000 --> 00:15:51.068\n>> And\nneither do bosses of production servers.\n\n308\n00:15:51.068 --> 00:15:51.856\n>> [LAUGH]\n>> That's right.\n\n309\n00:15:51.856 --> 00:15:56.376\nAll right, so\nlet's do a net stop, net log on,\n\n310\n00:15:56.376 --> 00:16:02.140\nAlright, that's gonna\nstop my netlogon service.\n\n311\n00:16:02.140 --> 00:16:05.080\nAnd then a net start netlogon.\n\n312\n00:16:05.080 --> 00:16:08.370\nAnd that's gonna restart\nthat logon service.\n\n313\n00:16:11.790 --> 00:16:15.819\nAnd if I get rid of that, I come back\nin here and I do a little refresh.\n\n314\n00:16:17.870 --> 00:16:19.960\nThere's my records all back,\nnice and tidy.\n\n315\n00:16:19.960 --> 00:16:20.920\n>> Very cool.\n>> It's something\n\n316\n00:16:20.920 --> 00:16:24.190\nthat we need to know how to do, because\nwhen you set up a new domain controller,\n\n317\n00:16:24.190 --> 00:16:27.160\nfor example, you've got to make\nsure he's created these records.\n\n318\n00:16:27.160 --> 00:16:31.200\nOr if somebody is having trouble locating\na particular service, like Isotap for\n\n319\n00:16:31.200 --> 00:16:34.460\nexample, find out why it's not\nbeing registered in here, a lot of\n\n320\n00:16:34.460 --> 00:16:37.989\ntimes you have to go to that server and\nrestart that net log on service.\n\n321\n00:16:39.170 --> 00:16:39.710\nAlright.\n\n322\n00:16:39.710 --> 00:16:43.890\nSo we got SRV records, our service\nlocator records to find services.\n\n323\n00:16:43.890 --> 00:16:47.100\nWe also have something\nknown as C Name records.\n\n324\n00:16:47.100 --> 00:16:49.910\nC Name records or canonical name.\n\n325\n00:16:49.910 --> 00:16:52.700\nThat's the big fancy word\nthey're going to give this guy.\n\n326\n00:16:52.700 --> 00:16:56.230\nCanonical name is an alias,\nis basically what it is.\n\n327\n00:16:56.230 --> 00:17:01.360\nThink about it as an alias or\na nickname or something like that.\n\n328\n00:17:01.360 --> 00:17:05.160\nFor example, SRV1,\nlet's say he was my web server, right?\n\n329\n00:17:05.160 --> 00:17:08.670\nHe's hosting my web page that I want\npeople to go to and buy my product.\n\n330\n00:17:08.670 --> 00:17:12.930\nSo in order for\npeople to connect to my website,\n\n331\n00:17:12.930 --> 00:17:19.440\nthey would have to type\nin http://srv01.lab.net.\n\n332\n00:17:19.440 --> 00:17:22.390\nWell, how do all the people out there\nin the general public know that my web\n\n333\n00:17:22.390 --> 00:17:23.950\nserver's name is srv01.\n\n334\n00:17:25.240 --> 00:17:26.630\nThey don't, right.\n\n335\n00:17:26.630 --> 00:17:29.820\nSo we can use aliases to accomplish that.\n\n336\n00:17:29.820 --> 00:17:33.930\nWhat we can do, I can come in here and\nI can say new alias.\n\n337\n00:17:33.930 --> 00:17:37.230\nAnd I can say that the alias name is www.\n\n338\n00:17:37.230 --> 00:17:41.550\nBut the fully qualified\ndomain name is srv.\n\n339\n00:17:41.550 --> 00:17:46.943\nGroups SRV, if I can type here, SVR01\n>> Did you get that right?\n\n340\n00:17:46.943 --> 00:17:51.130\n>> Yeah.\n.lab.net.\n\n341\n00:17:51.130 --> 00:17:51.940\nAnd I'll click OK.\n\n342\n00:17:53.640 --> 00:17:57.600\nMuch like an SRV record,\naliases don't map back to IP addresses,\n\n343\n00:17:57.600 --> 00:18:00.310\nthey map back to fully\nqualified domain names.\n\n344\n00:18:00.310 --> 00:18:06.040\nSo if somebody says what's the IP\naddress of www.lab.net my DNS server\n\n345\n00:18:06.040 --> 00:18:12.610\ncan look it up and say oh www's IP address\nis oh wait its actually srv01.lab.net then\n\n346\n00:18:12.610 --> 00:18:16.570\nI can take that information and so what's\nthe IP address of server one 10.1.201.\n\n347\n00:18:16.570 --> 00:18:21.425\nAnd now I can connect to www.\n\n348\n00:18:21.425 --> 00:18:26.390\nSo it gives me the ability to have one\nmachine respond to multiple names.\n\n349\n00:18:26.390 --> 00:18:27.560\nSo it's just like having nick names.\n\n350\n00:18:27.560 --> 00:18:29.620\n>> Oh yeah.\nThis is a lifesaver for\n\n351\n00:18:29.620 --> 00:18:32.660\nanybody in a production environment,\nbecause what happens a lot of times,\n\n352\n00:18:32.660 --> 00:18:35.760\nsome servers they'll get decommissioned,\nbut the name of that server\n\n353\n00:18:35.760 --> 00:18:39.320\nis still important to people that\nare out there, users, as it were.\n\n354\n00:18:39.320 --> 00:18:43.710\nOr maybe programs or maybe a map to\ndrives that people are used to using.\n\n355\n00:18:43.710 --> 00:18:47.320\nIf you want to keep using the naming\nconvention that you had in the past,\n\n356\n00:18:47.320 --> 00:18:48.610\neven though that server could be gone.\n\n357\n00:18:48.610 --> 00:18:49.730\nMaybe you upgraded.\n\n358\n00:18:49.730 --> 00:18:51.870\nMaybe you added another server and\nnow it's the main guy.\n\n359\n00:18:51.870 --> 00:18:53.450\nAnd you want people to point to that.\n\n360\n00:18:53.450 --> 00:18:55.750\nWell, you just create\nthese C name records.\n\n361\n00:18:55.750 --> 00:18:57.410\nAnd they're none the wiser.\n\n362\n00:18:57.410 --> 00:18:59.860\nThey continue to use the names\nthat they're used to.\n\n363\n00:18:59.860 --> 00:19:02.460\nI know where I worked we\nhad a lot of programs\n\n364\n00:19:02.460 --> 00:19:05.570\nwith built-in paths that were\nin the program themself.\n\n365\n00:19:05.570 --> 00:19:06.780\nProgrammers would have to go back in and\n\n366\n00:19:06.780 --> 00:19:09.565\nchange all that code to\nget it to work correctly.\n\n367\n00:19:09.565 --> 00:19:10.765\nWe just use C names.\n\n368\n00:19:10.765 --> 00:19:11.455\nNot a problem.\n\n369\n00:19:11.455 --> 00:19:15.975\nJust add a C name record to the DNS and\nonce it connects it would try to call\n\n370\n00:19:15.975 --> 00:19:19.475\nthat name, but it's just piping that\nback over to what the new server is or\n\n371\n00:19:19.475 --> 00:19:20.545\nwhatever we've changed.\n\n372\n00:19:20.545 --> 00:19:21.175\n>> Absolutely.\n\n373\n00:19:21.175 --> 00:19:22.865\nThey are a God send, as you said.\n\n374\n00:19:22.865 --> 00:19:25.865\nThey will save you many, many times.\n\n375\n00:19:25.865 --> 00:19:27.705\nLet's see if we've gone\nover all these guys.\n\n376\n00:19:27.705 --> 00:19:30.280\nWe've got A records,\nwe've got quad A records.\n\n377\n00:19:30.280 --> 00:19:36.700\nWe got PTR records, we got SOA, we got NS,\nwe got SRV, we got CNAME records.\n\n378\n00:19:36.700 --> 00:19:39.920\nLast one I think on my list there\nis the good old MX records, and\n\n379\n00:19:39.920 --> 00:19:40.870\nthat I don't have.\n\n380\n00:19:40.870 --> 00:19:43.960\nLet's see, I think I could make one for\nyou anyway.\n\n381\n00:19:43.960 --> 00:19:49.830\nWe'll do a new mail exchanger,\nand I'm gonna leave that blank.\n\n382\n00:19:49.830 --> 00:19:50.940\nLet's see here.\n\n383\n00:19:52.320 --> 00:19:54.590\nJust gonna put the fully\nqualified domain name down here.\n\n384\n00:19:54.590 --> 00:19:56.995\nLet's say SVR01 is my mail server.\n\n385\n00:19:56.995 --> 00:20:01.550\nLab.net.\n\n386\n00:20:01.550 --> 00:20:03.220\nWe'll click OK.\n\n387\n00:20:03.220 --> 00:20:06.380\nAnd there we go, there's an MX record so\nyou can see what that looks like.\n\n388\n00:20:06.380 --> 00:20:09.880\nIt's really just a mail exchanger,\nthat's what MX stands for.\n\n389\n00:20:09.880 --> 00:20:12.420\nIt's how you find your mail servers.\n\n390\n00:20:12.420 --> 00:20:15.290\nSo if you wanna go send an email or\nfind your mailbox or\n\n391\n00:20:15.290 --> 00:20:17.870\nwhatever, you're gonna\nbe using that MX record.\n\n392\n00:20:17.870 --> 00:20:21.897\n>> I always use them so I can figure\nout what server to send spoof email to.\n\n393\n00:20:21.897 --> 00:20:26.740\n[LAUGH] You go into MX Lookup and\nyou change the set type to EBLMX and\n\n394\n00:20:26.740 --> 00:20:30.110\nthen it'll just return all\nthe mail exchanger records for\n\n395\n00:20:30.110 --> 00:20:33.770\nthat domain giving you basically\nhere are all our mail servers.\n\n396\n00:20:33.770 --> 00:20:36.670\nAttach to port 25 as you please, sir.\n\n397\n00:20:36.670 --> 00:20:39.930\nBut this would be in Microsoft,\nit would probably be exchange server.\n\n398\n00:20:39.930 --> 00:20:41.270\n>> Yep.\nExactly, exactly.\n\n399\n00:20:41.270 --> 00:20:42.860\nIt doesn't have to be exactly I suppose.\n\n400\n00:20:42.860 --> 00:20:44.510\nYou know,\nif you're running a full Microsoft shop,\n\n401\n00:20:44.510 --> 00:20:48.755\nyou can make an MX record to point\nto any of your mail servers.\n\n402\n00:20:48.755 --> 00:20:52.660\nAlright, but again, much like,\nremember the only records that point\n\n403\n00:20:52.660 --> 00:20:57.100\nto IP addresses are those A records and\nhe quality records, right?\n\n404\n00:20:57.100 --> 00:20:59.380\nThose are those main\nresource record types.\n\n405\n00:20:59.380 --> 00:21:02.300\nAll the others point back to\nfully qualified domain names.\n\n406\n00:21:02.300 --> 00:21:05.710\nOnce you know the name,\nthen you can go look up the a record or\n\n407\n00:21:05.710 --> 00:21:07.560\nthe quad a record depending.\n\n408\n00:21:07.560 --> 00:21:10.020\nAnd while I'm on that subject,\nlet me mention that as well.\n\n409\n00:21:10.020 --> 00:21:14.840\nDNS fully supports IPv4 and\nIPv6 as we've talked about.\n\n410\n00:21:14.840 --> 00:21:17.360\nI can create A records or quad A records.\n\n411\n00:21:17.360 --> 00:21:23.160\nWhen you query DNS and you say hey I\nneed the IP address of DC01.lab.net.\n\n412\n00:21:23.160 --> 00:21:29.210\nWell, if DNS has both an A record and a\nquad A record it will return both right it\n\n413\n00:21:29.210 --> 00:21:33.700\ndoesn't say oh which one do I want to send\nback it sends back everything it has and\n\n414\n00:21:33.700 --> 00:21:38.840\nthen the application that requested that\ndecides wether to using IPv4 or IPv6.\n\n415\n00:21:38.840 --> 00:21:42.800\nSo DNS fully supports IPv6,\nit returns everything it's got.\n\n416\n00:21:42.800 --> 00:21:48.865\nThe application is whats coded to look,\nto use a particular IP address and scheme.\n\n417\n00:21:48.865 --> 00:21:52.590\nAlright, next thing I want to\ntalk about is Zone Scavenging.\n\n418\n00:21:52.590 --> 00:21:55.910\nScavenging is how we keep our zone clean.\n\n419\n00:21:55.910 --> 00:21:59.750\nYou can imagine in a production\nenvironment there is going to be many,\n\n420\n00:21:59.750 --> 00:22:01.550\nmany, many records in here, right?\n\n421\n00:22:01.550 --> 00:22:04.300\nSome of those records,\nno longer necessary.\n\n422\n00:22:04.300 --> 00:22:07.720\nMachine has been retired, decommissioned,\n\n423\n00:22:07.720 --> 00:22:12.190\nit was a vendor's laptop that was in my\nnetwork for a couple hours and then left,\n\n424\n00:22:12.190 --> 00:22:16.040\nand we can end up with what we\ncall stale resource records and\n\n425\n00:22:16.040 --> 00:22:19.480\nthey're just making my zone file\nbigger than it needs to be, so\n\n426\n00:22:19.480 --> 00:22:22.070\nwhen I replicate it's\ntaking up more band width.\n\n427\n00:22:22.070 --> 00:22:23.180\nIt's just cluttered up.\n\n428\n00:22:23.180 --> 00:22:25.170\nYou know,\nwe don't need that stuff in there.\n\n429\n00:22:25.170 --> 00:22:28.550\nAnd that's how, scavenging's how\nwe're gonna keep that clean.\n\n430\n00:22:28.550 --> 00:22:31.490\nNow to turn this on,\nI'm actually gonna go up here.\n\n431\n00:22:31.490 --> 00:22:34.150\nI'm gonna right click\non the server itself.\n\n432\n00:22:34.150 --> 00:22:38.120\nAnd choose Set Aging/Scavenging for\nAll Zones.\n\n433\n00:22:39.150 --> 00:22:42.980\nAnd I'm gonna turn it on and\nI'll leave the default seven and seven.\n\n434\n00:22:42.980 --> 00:22:47.540\nThat's where we're going to\ntry to squeeze this in here.\n\n435\n00:22:47.540 --> 00:22:50.210\nWe do the seven and seven as the default.\n\n436\n00:22:50.210 --> 00:22:53.850\nYou've got what's called the no refresh\ninterval and then the refresh interval.\n\n437\n00:22:53.850 --> 00:22:57.870\nWhen a client, when a machine registers\na DNS record, it says hey my name is\n\n438\n00:22:57.870 --> 00:23:02.770\nserver one, here's my IP address,\nmake an A record for me, alright.\n\n439\n00:23:02.770 --> 00:23:04.550\nThat record goes in there, and\n\n440\n00:23:04.550 --> 00:23:08.490\nagain like you can see here,\nnow there's SRV01's record, right?\n\n441\n00:23:08.490 --> 00:23:10.870\nNow this has got a time stamp.\n\n442\n00:23:10.870 --> 00:23:13.740\nThat's when that record was created.\n\n443\n00:23:13.740 --> 00:23:15.380\nNow for the first seven days, so\n\n444\n00:23:15.380 --> 00:23:18.950\nseven days after that time stamp,\nit's not allowed to refresh.\n\n445\n00:23:18.950 --> 00:23:20.130\nNo refresh interval.\n\n446\n00:23:20.130 --> 00:23:21.300\nSeven days.\n\n447\n00:23:21.300 --> 00:23:24.320\nNow, if something changes that's\nnot a refresh, that's an update.\n\n448\n00:23:24.320 --> 00:23:25.540\nThat's allowed.\n\n449\n00:23:25.540 --> 00:23:29.270\nBut what's going to happen is that server,\nevery time he reboots and\n\n450\n00:23:29.270 --> 00:23:31.070\ntalks to DNS he's gonna say,\n\n451\n00:23:31.070 --> 00:23:35.720\nhey my name hasn't changed, my IP address\nhasn't changed, just wanna let you know.\n\n452\n00:23:35.720 --> 00:23:38.540\nThe DNS sever is gonna completely\nignore him for the first seven days.\n\n453\n00:23:38.540 --> 00:23:41.910\nIf it's less than seven days,\nusers gonna say, I don't care, right?\n\n454\n00:23:41.910 --> 00:23:46.450\nAnd that's just to reduce\nthe workload on the DNS server.\n\n455\n00:23:46.450 --> 00:23:49.319\nAfter seven days,\nwe move in to the refresh interval.\n\n456\n00:23:49.319 --> 00:23:54.079\nDuring this seven days, server one\nneeds to talk to DNS and say, hey,\n\n457\n00:23:54.079 --> 00:23:59.177\nmy name is the same, my IP address is\nthe same, will you refresh my record?\n\n458\n00:23:59.177 --> 00:23:59.896\nAnd DNS will.\n\n459\n00:23:59.896 --> 00:24:04.144\nIt will reset the timestamp and there'll\nbe another seven days no refresh and\n\n460\n00:24:04.144 --> 00:24:08.060\nthen during the next seven days\nhe needs to refresh that record.\n\n461\n00:24:08.060 --> 00:24:08.870\nAlright.\n\n462\n00:24:08.870 --> 00:24:13.050\nIf we get to the end of the second seven\nday period of the refresh interval and\n\n463\n00:24:13.050 --> 00:24:16.530\nserver one has not talked to DNS and\nsaid hey nothing's changed,\n\n464\n00:24:16.530 --> 00:24:20.420\nrefresh my record,\nthat record's going to be scavenged.\n\n465\n00:24:20.420 --> 00:24:20.970\nAlright.\n\n466\n00:24:20.970 --> 00:24:24.030\nSo this is the aging process, 14 days.\n\n467\n00:24:24.030 --> 00:24:27.570\nSeven days of no refresh,\nseven days which you can refresh.\n\n468\n00:24:27.570 --> 00:24:32.110\nAnd then after that 14 day period, the\ngarbage collection process that runs in\n\n469\n00:24:32.110 --> 00:24:35.040\nthe background every so often,\nis gonna look for any record that's\n\n470\n00:24:35.040 --> 00:24:38.990\nolder than 14 days and hasn't been\nrefreshed and it's gonna yank it.\n\n471\n00:24:38.990 --> 00:24:39.500\nAlright.\n\n472\n00:24:39.500 --> 00:24:41.140\nThat's how we turn that on.\n\n473\n00:24:41.140 --> 00:24:42.940\nYou can change these values.\n\n474\n00:24:42.940 --> 00:24:47.370\nAnd in shops like here we set\nthis to two and two because,\n\n475\n00:24:47.370 --> 00:24:51.700\nwe have so many machines coming in on\na daily basis that we never see again.\n\n476\n00:24:51.700 --> 00:24:54.630\nWe have students coming in and\nbringing machines and\n\n477\n00:24:54.630 --> 00:24:58.590\nconnecting to our network, iPads,\niPhones, all of this kind of thing.\n\n478\n00:24:58.590 --> 00:25:00.720\nWe end up with records that\nare just not necessary so\n\n479\n00:25:00.720 --> 00:25:03.750\nwe've shortened that up to try to\nclean it up basically every week.\n\n480\n00:25:03.750 --> 00:25:06.310\nTwo and two,\nfour days right at that week point.\n\n481\n00:25:07.930 --> 00:25:12.010\nAlright, so once you turn it on,\nwhen you enable this,\n\n482\n00:25:12.010 --> 00:25:15.680\nit's only going to enable it for\nnewly created zones.\n\n483\n00:25:15.680 --> 00:25:17.220\nZones that are already created.\n\n484\n00:25:17.220 --> 00:25:20.410\nIt doesn't get turned on automatically,\nunless I choose,\n\n485\n00:25:20.410 --> 00:25:23.350\napply these settings to the existing\nActive Directory integrated zones.\n\n486\n00:25:23.350 --> 00:25:26.910\nAnd then I can click OK,\nand now it will apply.\n\n487\n00:25:26.910 --> 00:25:32.310\nNow, you turn it on at the server level,\nbut you can configure at a per zone level.\n\n488\n00:25:32.310 --> 00:25:35.050\nRight, lab.net, I can right click on it.\n\n489\n00:25:35.050 --> 00:25:41.050\nPull up its properties and I can go\nover to the, I can't read it anymore,\n\n490\n00:25:41.050 --> 00:25:45.910\nwhere am I, aging button here, I had\na little trouble finding that button,\n\n491\n00:25:45.910 --> 00:25:48.900\nand there I can turn it on,\non this particular zone.\n\n492\n00:25:48.900 --> 00:25:52.210\nI haven't refreshed this yet, so that's\nprobably why it's not checking right,\n\n493\n00:25:52.210 --> 00:25:54.210\nI just turned it on at the server level.\n\n494\n00:25:54.210 --> 00:25:57.070\nAnd I can set that to seven and\nseven, and I click OK.\n\n495\n00:25:57.070 --> 00:25:57.890\nAnd click OK.\n\n496\n00:25:57.890 --> 00:26:01.824\nIf I had a different zone,\nwell let's just create one real quick.\n\n497\n00:26:01.824 --> 00:26:07.355\n[NOISE] We'll call it the old ASDF zone.\n\n498\n00:26:07.355 --> 00:26:08.376\nRight.\n\n499\n00:26:08.376 --> 00:26:14.395\nI could go to that one and\npull up it's properties.\n\n500\n00:26:14.395 --> 00:26:17.855\nIf we select if first and right click\non it I can pull up it's properties.\n\n501\n00:26:17.855 --> 00:26:20.135\nAnd I can go to aging and\nmaybe I set that notice.\n\n502\n00:26:20.135 --> 00:26:22.745\nIt's already enabled because I\nturned it on at the server level.\n\n503\n00:26:22.745 --> 00:26:25.075\nI can set that to three and three.\n\n504\n00:26:25.075 --> 00:26:29.770\nAlright, so you turn it on and you set it\nat the server level, which you can also\n\n505\n00:26:29.770 --> 00:26:33.870\nconfigure each zone independently if\nyou need to make them different for\n\n506\n00:26:33.870 --> 00:26:35.160\nsome reason.\n\n507\n00:26:35.160 --> 00:26:36.910\nBut it does have to be\nturned on a zone level.\n\n508\n00:26:36.910 --> 00:26:39.700\nI mean it does have to be\nturned on at the server level.\n\n509\n00:26:39.700 --> 00:26:43.910\nIf you turn it on at the zone level and\nyou never turn it on at the server level.\n\n510\n00:26:43.910 --> 00:26:45.350\nIt won't do it, all right.\n\n511\n00:26:45.350 --> 00:26:47.550\nSo, you turn on the server level,\nthen you can go and\n\n512\n00:26:47.550 --> 00:26:50.045\nconfigure each zone independently, right.\n\n513\n00:26:50.045 --> 00:26:53.960\nAlright, so that's my zone scavenging.\n\n514\n00:26:53.960 --> 00:26:56.080\nWe've talked a little bit about TTL.\n\n515\n00:26:56.080 --> 00:26:57.660\nRemember, TTL is the time to live,\n\n516\n00:26:57.660 --> 00:27:00.590\nthat's how long you're allowed\nto cache the records for.\n\n517\n00:27:00.590 --> 00:27:06.160\nSo when I get a response back from DNS,\nit includes the TTL, alright?\n\n518\n00:27:06.160 --> 00:27:11.142\nIn fact, let's see here,\nwe can go back over to the client,\n\n519\n00:27:11.142 --> 00:27:14.087\nand I could open up command prompt.\n\n520\n00:27:16.303 --> 00:27:20.728\nAnd I could ping the svr01.\n\n521\n00:27:20.728 --> 00:27:23.974\nWell, if I'm going to ping something, I'm\ngoing to have to know the IP address, so\n\n522\n00:27:23.974 --> 00:27:26.980\nit's going to resolve that name into\nan IP address and then ping it.\n\n523\n00:27:26.980 --> 00:27:31.360\nIf I do an IPconfig/displayDNS,\n\n524\n00:27:31.360 --> 00:27:37.030\noops, I can view my cache.\n\n525\n00:27:37.030 --> 00:27:39.670\nAnd there's the record for server one.\n\n526\n00:27:39.670 --> 00:27:40.960\nRight.\nThat I just got back from DNS.\n\n527\n00:27:40.960 --> 00:27:42.030\nAnd there's my time to live.\n\n528\n00:27:42.030 --> 00:27:45.840\n1186 seconds.\nWhat's, are you good with your math there?\n\n529\n00:27:45.840 --> 00:27:47.020\n>> Oh, not good with math.\n\n530\n00:27:47.020 --> 00:27:49.980\n>> You know how many minutes that is?\n\n531\n00:27:49.980 --> 00:27:50.860\nWhat's an hour?\n\n532\n00:27:50.860 --> 00:27:52.210\n>> It's a while.\n\n533\n00:27:52.210 --> 00:27:53.270\n>> Let's do this real quick.\n\n534\n00:27:53.270 --> 00:27:54.000\nLet's do calc.\n\n535\n00:27:55.300 --> 00:27:56.240\nAll right.\n\n536\n00:27:56.240 --> 00:28:02.930\nAnd if we did 60 seconds x 60 minutes, 36.\n\n537\n00:28:02.930 --> 00:28:07.588\nI connected to server, in fact,\nyou know what, let's do this,\n\n538\n00:28:07.588 --> 00:28:16.140\nlet's clear my cache.ipconfig/ Golly,\nMike.\n\n539\n00:28:16.140 --> 00:28:17.130\nFlush DNS, sorry.\n\n540\n00:28:17.130 --> 00:28:18.470\nFlush DNS.\n\n541\n00:28:18.470 --> 00:28:20.390\nTook me a minute to remember that one.\n\n542\n00:28:20.390 --> 00:28:23.370\nNow if I look at my cache,\neverything's gone.\n\n543\n00:28:23.370 --> 00:28:26.820\nIf I ping server one,\nhe's going to have to go look it up and\n\n544\n00:28:26.820 --> 00:28:28.590\ncache it all over again.\n\n545\n00:28:28.590 --> 00:28:32.640\nAnd now if I display, there we go.\n\n546\n00:28:32.640 --> 00:28:34.930\nSo it's going for about 1200 seconds or\nsomething like that.\n\n547\n00:28:34.930 --> 00:28:40.870\nI want to say my default was one hour,\nwhich should have been 3600 seconds.\n\n548\n00:28:40.870 --> 00:28:41.640\nInteresting.\n\n549\n00:28:41.640 --> 00:28:44.830\nSo anyway, the TTL,\n\n550\n00:28:44.830 --> 00:28:49.520\nit shows how long I can cast that\nrecord for, and it's not decided by me.\n\n551\n00:28:49.520 --> 00:28:51.560\nIt's decide by the DNS server.\n\n552\n00:28:51.560 --> 00:28:53.230\nWhen I query DNS,\n\n553\n00:28:53.230 --> 00:28:58.590\nhe returns the IP address as well as\nhow long I'm allowed to cache it for.\n\n554\n00:28:58.590 --> 00:29:01.100\nIf we take a look at that record for\nSVR01,\n\n555\n00:29:01.100 --> 00:29:05.980\nI've got to turn on my\nadvanced view to see this.\n\n556\n00:29:05.980 --> 00:29:09.260\nLet me go View, and Advanced View.\n\n557\n00:29:09.260 --> 00:29:13.370\nNow when I look at that record for Svr1\nthere's my TTL, and it was not an hour it\n\n558\n00:29:13.370 --> 00:29:16.070\nwas 20 minutes so that's why its only\n>> Twelve seconds.\n\n559\n00:29:16.070 --> 00:29:17.910\n>> Twelve seconds, yeah exactly.\n\n560\n00:29:17.910 --> 00:29:22.360\nAlright, so that's how long their allowed\nto cache that so you can change that.\n\n561\n00:29:22.360 --> 00:29:25.820\nNow why would you want to change\nhow long your caching it for?\n\n562\n00:29:25.820 --> 00:29:29.560\nWell that's for\nour next topic which is round robining.\n\n563\n00:29:29.560 --> 00:29:35.200\nRound robining is a way that I can\ndo a poor man's load balancing.\n\n564\n00:29:35.200 --> 00:29:42.290\nIf I have three web servers\nthat are hosting my webpage you\n\n565\n00:29:42.290 --> 00:29:46.770\nquery DNS you get the IP address to one of\nthem and you connect to that web server.\n\n566\n00:29:46.770 --> 00:29:48.370\nYou cache that entry and\n\n567\n00:29:48.370 --> 00:29:51.450\nthe next time you come to my website\nyou're going to use that cached entry.\n\n568\n00:29:51.450 --> 00:29:52.780\nAnd go back to that web server.\n\n569\n00:29:52.780 --> 00:29:55.650\nIf I have a whole bunch of people\nwho have cached the IP address for\n\n570\n00:29:55.650 --> 00:29:58.640\nweb server one, poor web server two and\nweb server three.\n\n571\n00:29:58.640 --> 00:29:59.620\nThey're not doing anything.\n\n572\n00:29:59.620 --> 00:30:01.780\nWeb server one is extremely busy.\n\n573\n00:30:01.780 --> 00:30:06.530\nSo what I want to do is I want\nto make those TTL's very short.\n\n574\n00:30:06.530 --> 00:30:09.180\nSo that you're having to go back and\nget a new IP address.\n\n575\n00:30:09.180 --> 00:30:13.370\nAnd then I'm going to enable something\ncalled round robining on my DNS server.\n\n576\n00:30:13.370 --> 00:30:15.160\nAnd then what's going to\nhappen is when you query for\n\n577\n00:30:15.160 --> 00:30:18.590\nmy website he's going to see that\nthere's three records in there for www,\n\n578\n00:30:18.590 --> 00:30:21.340\npointing back to three\ndifferent IP addresses.\n\n579\n00:30:21.340 --> 00:30:23.536\nHe returns all three to you, alright, but\n\n580\n00:30:23.536 --> 00:30:26.166\nevery time he returns them\nhe changes the order up.\n\n581\n00:30:26.166 --> 00:30:27.970\nThat's what round robin-ing is.\n\n582\n00:30:27.970 --> 00:30:32.530\nSo by making a very short TTL I can\nensure that you come back to DNS a little\n\n583\n00:30:32.530 --> 00:30:33.940\nmore often, right?\n\n584\n00:30:33.940 --> 00:30:36.090\nBecause your cache entry goes away after,\nsay,\n\n585\n00:30:36.090 --> 00:30:38.640\n30 seconds, so\nyou've gotta create DNS again.\n\n586\n00:30:38.640 --> 00:30:43.160\nDNS responds with those three IP addresses\nagain, but it changes the order up.\n\n587\n00:30:43.160 --> 00:30:45.150\nSo, you're not connecting\nto the same web server.\n\n588\n00:30:45.150 --> 00:30:49.300\nAnd that way it can try to balance\nthe workload across those web servers.\n\n589\n00:30:49.300 --> 00:30:54.090\nIt's not the end all in load balancing,\nand we could run a hardware device that\n\n590\n00:30:54.090 --> 00:30:58.350\nactually does low balancing, we can do\nfail over clustering, things like that.\n\n591\n00:30:58.350 --> 00:31:01.140\nBut this a poor mans\nloan balancing basically.\n\n592\n00:31:02.360 --> 00:31:05.860\nAlright, so we talked about the TTO,\nhow long you can cash it for,\n\n593\n00:31:05.860 --> 00:31:10.070\nyou can set the TTO on individual records\nor you can do it on the entire zone.\n\n594\n00:31:10.070 --> 00:31:13.390\nI just showed you,\nif you turn on your advanced view\n\n595\n00:31:13.390 --> 00:31:17.010\nyou will see the TTO value for\neach individual record.\n\n596\n00:31:18.600 --> 00:31:21.610\nIf you look at the properties\nof the zone and go to that SOA.\n\n597\n00:31:23.300 --> 00:31:27.260\nThis is the default TTL for\nall newly created records.\n\n598\n00:31:27.260 --> 00:31:30.310\nIf I change this,\nit will not update existing records.\n\n599\n00:31:30.310 --> 00:31:33.230\nBut new records would be\ncreated with this DTL.\n\n600\n00:31:33.230 --> 00:31:36.360\nI can still go to those new records and\nI can change them individually, but\n\n601\n00:31:36.360 --> 00:31:41.356\nthis is how I can change all of them or\nset the default for newly created records.\n\n602\n00:31:41.356 --> 00:31:44.332\nAnd the last thing, Daniel,\nthey call it on our objectives,\n\n603\n00:31:44.332 --> 00:31:47.937\nI know I'm just kind of rambling on here\ntrying to get as much information to\n\n604\n00:31:47.937 --> 00:31:50.243\nyou guys as I can secure\ndynamic updates right.\n\n605\n00:31:50.243 --> 00:31:54.388\nA dynamic update is when a machine\nreceives an IP address from DHCP or its\n\n606\n00:31:54.388 --> 00:31:59.018\nstatically mapped with an IP address it\ndoesn't really matter how he gets it and\n\n607\n00:31:59.018 --> 00:32:03.715\nhe's going to call up DNS and do a dynamic\nupdate Rather than me have to come in here\n\n608\n00:32:03.715 --> 00:32:07.308\nand say new A-record for\nevery single machine on my network,\n\n609\n00:32:07.308 --> 00:32:11.670\nnot gonna happen, I want the machines\nto create their own DNS records.\n\n610\n00:32:11.670 --> 00:32:12.880\nThat's a dynamic update.\n\n611\n00:32:12.880 --> 00:32:17.070\nAnd so the clients, as well as server\noperating systems, they'll call up DNS and\n\n612\n00:32:17.070 --> 00:32:22.080\nsay, here's my name, here's my IP address,\ncreate an A-record for me, so\n\n613\n00:32:22.080 --> 00:32:26.070\nthat if anybody's looking for me, you can\ntell them what my IP address is, right?\n\n614\n00:32:26.070 --> 00:32:28.620\nIt's a dynamic update for DNS.\n\n615\n00:32:28.620 --> 00:32:33.140\nWith standard dynamic updates, any\nmachine, including the vendor that comes\n\n616\n00:32:33.140 --> 00:32:37.770\nby and tries to sell you some toner,\nhe hooks his laptop up to the network,\n\n617\n00:32:37.770 --> 00:32:40.860\nit's gonna be able to create a record for\nit in your DNS server.\n\n618\n00:32:40.860 --> 00:32:42.840\nI don't really need that, right?\n\n619\n00:32:42.840 --> 00:32:46.940\nThat's where we can turn on\nsecure only dynamic updates.\n\n620\n00:32:46.940 --> 00:32:49.500\nNow the computer has to be\na trusted computer, in other words\n\n621\n00:32:49.500 --> 00:32:54.080\npart of the domain, before it's\nallowed to create that dynamic update.\n\n622\n00:32:54.080 --> 00:32:57.490\nYou do that,\non the properties of the zone.\n\n623\n00:32:57.490 --> 00:33:02.760\nAnd that's only available if it's\nan active directory integrated zone.\n\n624\n00:33:02.760 --> 00:33:05.230\nIt does have to be active\ndirectory integrated.\n\n625\n00:33:05.230 --> 00:33:08.210\nYou see here dynamic updates\nI've got the option for no.\n\n626\n00:33:08.210 --> 00:33:10.010\nMaybe I don't want dynamic updates.\n\n627\n00:33:10.010 --> 00:33:13.130\nThat zone out in my DMZ that\nhas like five records for\n\n628\n00:33:13.130 --> 00:33:16.460\njust my publicly available stuff,\nI don't have any dynamic updates.\n\n629\n00:33:16.460 --> 00:33:20.360\nOnly records in there are manually\ncreated by me, all right?\n\n630\n00:33:20.360 --> 00:33:24.330\nInside, however, I like those dynamic\nupdates, if I want to keep it to where\n\n631\n00:33:24.330 --> 00:33:28.130\nonly my computers that are part of my\nnetwork can do that, I use the secure\n\n632\n00:33:28.130 --> 00:33:32.970\ndynamic update option, only if the zone\nis stored in active directory.\n\n633\n00:33:32.970 --> 00:33:36.516\nIf I change, I don't know if it\nwill let me do this, let's see,\n\n634\n00:33:36.516 --> 00:33:40.414\nif I change this to a primary and\nI don't store it in active directory.\n\n635\n00:33:44.524 --> 00:33:47.400\nSo you have to let me do\nthis right here on the fly.\n\n636\n00:33:47.400 --> 00:33:52.210\nNow dynamic updates notice my\nsecure only option is gone, right?\n\n637\n00:33:52.210 --> 00:33:55.690\nSo secure only, only if it's an active\ndirectory integrator's zone.\n\n638\n00:33:55.690 --> 00:33:56.840\n>> Yeah, and that makes sense right?\n\n639\n00:33:56.840 --> 00:33:58.749\nThat it would have to take a look and say,\n\n640\n00:33:58.749 --> 00:34:01.008\nwell what is secure\nversus what's not secure?\n\n641\n00:34:01.008 --> 00:34:01.980\nHow does is it define that?\n\n642\n00:34:01.980 --> 00:34:05.850\nWell, active directory already has\na database of, all the secure objects that\n\n643\n00:34:05.850 --> 00:34:09.430\nare built into it so why not go ahead and\nuse that, specifically since these are all\n\n644\n00:34:09.430 --> 00:34:13.590\nMicrosoft products that working\ntogether hand in hand, good stuff.\n\n645\n00:34:13.590 --> 00:34:17.160\nAnd that secure update is\nprobably a pretty good way to\n\n646\n00:34:17.160 --> 00:34:20.670\ntry to help alleviate some of those\nsecurity issues like Arp cache poisoning.\n\n647\n00:34:20.670 --> 00:34:22.350\n>> Absolutely, absolutely.\n\n648\n00:34:22.350 --> 00:34:25.550\n>> All right Mike,\nwe'll we've talked a lot about DNS today.\n\n649\n00:34:25.550 --> 00:34:27.170\nHopefully you guys are out\nthere picking it up,\n\n650\n00:34:27.170 --> 00:34:28.770\nyou're laying it down, you're getting it.\n\n651\n00:34:28.770 --> 00:34:32.430\nIt is something you're gonna\ndeal with as an MCSE or\n\n652\n00:34:32.430 --> 00:34:35.670\nan MCSA,\ngetting into those Microsoft environments.\n\n653\n00:34:35.670 --> 00:34:38.900\nSo watch this episode over and\nover again if you need to and\n\n654\n00:34:38.900 --> 00:34:40.390\nthen get that buried in the brain.\n\n655\n00:34:40.390 --> 00:34:43.330\nSo, you get it squared away,\nespecially for that exam.\n\n656\n00:34:43.330 --> 00:34:44.840\nThat being said, Mike,\nwe haven't missed anything?\n\n657\n00:34:44.840 --> 00:34:45.819\nWe're ready to?\n\n658\n00:34:45.819 --> 00:34:47.267\n[CROSSTALK]\n>> rock and roll.\n\n659\n00:34:47.267 --> 00:34:48.236\n>> All right, everyone.\n\n660\n00:34:48.236 --> 00:34:51.193\nWe're going to go ahead and\nclose the show, signing off for ITProTV,\n\n661\n00:34:51.193 --> 00:34:52.880\nI've been your host, Daniel Lowry.\n\n662\n00:34:52.880 --> 00:34:53.840\n>> And I'm Mike Roderick.\n\n663\n00:34:53.840 --> 00:34:54.998\n>> And we'll see you next time.\n\n664\n00:34:54.998 --> 00:35:00.650\n[SOUND]\n\n",
          "vimeoId": "137598724"
        },
        {
          "description": "In this episode Mike and Don take a look at installing and configuring the Remote Access role in Windows Server 2012 R2. They demonstrate how to implement basic routing, Network Address Translation (NAT) and how to allow and deny remote users from connecting to the VPN. ",
          "length": "5444",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/014-Configure-VPN-and-Routing.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/014-Configure-VPN-and-Routing-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/014-Configure-VPN-and-Routing-sm.jpg",
          "title": "Configure VPN and Routing",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC].\n\n2\n00:00:15.361 --> 00:00:22.747\n[SOUND].\n\n3\n00:00:22.747 --> 00:00:32.747\n[MUSIC].\n\n4\n00:00:34.173 --> 00:00:34.683\nAll right.\n\n5\n00:00:34.683 --> 00:00:36.018\nGood morning, good afternoon,\nand good evening.\n\n6\n00:00:36.018 --> 00:00:39.617\nWelcome back to another episode of\nIT Pro TV, I am your host Don Pezet,\n\n7\n00:00:39.617 --> 00:00:41.271\ntoday with Mr. Mike Roderick.\n\n8\n00:00:41.271 --> 00:00:41.951\nHow's it going Mike?\n\n9\n00:00:41.951 --> 00:00:43.361\n>> Fantastic Don, how are you doing today?\n\n10\n00:00:43.361 --> 00:00:44.495\n>> I'm doing just well.\n\n11\n00:00:44.495 --> 00:00:45.410\n>> Good then.\n\n12\n00:00:45.410 --> 00:00:46.727\n>> So\nwe've got a fun episode ahead of us today.\n\n13\n00:00:46.727 --> 00:00:47.389\n>> Yeah, we do.\n\n14\n00:00:47.389 --> 00:00:51.999\n>> Because we are gonna tackle one of the\nneat areas that has been kind of growing\n\n15\n00:00:51.999 --> 00:00:57.420\nin importance as Windows servers grown to,\nwhich is routing and remote access, right.\n\n16\n00:00:57.420 --> 00:01:01.460\nSome of the cool networking functionality\nthat we have built in Windows Server that\n\n17\n00:01:01.460 --> 00:01:02.875\na lot of people don't take advantage of.\n\n18\n00:01:02.875 --> 00:01:03.490\n>> Mm-hm, absolutely.\n\n19\n00:01:03.490 --> 00:01:06.880\nAnd it's becoming more and more common to\nhave people wanting to work from home,\n\n20\n00:01:06.880 --> 00:01:09.680\nwanting to work from remote sites and\nthings like that, so it's important\n\n21\n00:01:09.680 --> 00:01:12.860\nthat we implement these technologies,\nand have more productive users.\n\n22\n00:01:12.860 --> 00:01:16.670\nHeck if they wanna work, when they're\nnot at work that works for me [LAUGH].\n\n23\n00:01:16.670 --> 00:01:17.570\n>> Absolutely.\n\n24\n00:01:17.570 --> 00:01:18.650\nYeah, it is getting to be more and\n\n25\n00:01:18.650 --> 00:01:22.590\nmore common and there is hardware that's\nout there that you can purchase that\n\n26\n00:01:22.590 --> 00:01:24.900\nperforms all the stuff that we're\nabout to talk about, right?\n\n27\n00:01:24.900 --> 00:01:29.090\nWe're gonna talk about using\na Windows server as a router, and\n\n28\n00:01:29.090 --> 00:01:32.490\na lot of environments actually have\ndedicated hardware routers and\n\n29\n00:01:32.490 --> 00:01:36.340\nso this may not be necessary but\nit is very useful in some environments.\n\n30\n00:01:36.340 --> 00:01:38.690\nWe are also gonna talk about\nsetting up VPN tunnels,\n\n31\n00:01:38.690 --> 00:01:41.270\nwhich again you can use a firewall for,\ntypically.\n\n32\n00:01:41.270 --> 00:01:43.490\nNow the problem with a lot\nof those routers and\n\n33\n00:01:43.490 --> 00:01:46.570\nfirewalls is that it's\nproprietary software.\n\n34\n00:01:46.570 --> 00:01:48.070\n>> Right.\n>> You don't have a lot of control over.\n\n35\n00:01:48.070 --> 00:01:49.750\nNot that Windows isn't proprietary.\n\n36\n00:01:49.750 --> 00:01:50.330\n>> [LAUGH].\n>> But at least\n\n37\n00:01:50.330 --> 00:01:51.840\nyou do have some control over it.\n\n38\n00:01:51.840 --> 00:01:54.280\n>> Right.\n>> But also like with the firewalls,\n\n39\n00:01:54.280 --> 00:01:56.515\na lot of those out there\nare licensed per user.\n\n40\n00:01:56.515 --> 00:01:58.610\n>> Uh-huh.\n>> Whereas the Microsoft firewall, or\n\n41\n00:01:58.610 --> 00:02:01.522\nwhen you're using the Windows\nserver as a router/vpn tunnel.\n\n42\n00:02:01.522 --> 00:02:03.140\n>> Right.\n>> You don't have those,\n\n43\n00:02:03.140 --> 00:02:05.070\nyou're just kind of\nlimited by your hardware.\n\n44\n00:02:05.070 --> 00:02:05.840\n>> Yeah.\n>> Mm-hm.\n\n45\n00:02:05.840 --> 00:02:07.350\nSo there's some cool benefits there.\n\n46\n00:02:07.350 --> 00:02:09.790\nIt's also nice to be able to whip\nup a machine when you need it, and\n\n47\n00:02:09.790 --> 00:02:11.030\ntear it down when you don't.\n\n48\n00:02:11.030 --> 00:02:13.990\nSo you'll find that people use\nWindows server as a router,\n\n49\n00:02:13.990 --> 00:02:18.290\nas a vpn server, that they typically\ndo it in virtualized environments.\n\n50\n00:02:18.290 --> 00:02:21.990\nWhere you can't have a physical router,\nyou need something virtual doing that, and\n\n51\n00:02:21.990 --> 00:02:24.165\nso we'll see how to use\nWindows server to do it.\n\n52\n00:02:24.165 --> 00:02:25.040\n>> Right.\n\n53\n00:02:25.040 --> 00:02:27.130\n>> Now, we're gonna shuffle\nthe objectives up a little bit.\n\n54\n00:02:27.130 --> 00:02:30.950\nIf we look at the objectives for\nthis one, this is 3.3, and\n\n55\n00:02:30.950 --> 00:02:33.000\nyou'll see all of it's- sub-objectives.\n\n56\n00:02:33.000 --> 00:02:35.755\nIt starts off with getting\nRemote Access setup.\n\n57\n00:02:35.755 --> 00:02:36.460\n>> Right.\n>> And\n\n58\n00:02:36.460 --> 00:02:39.310\ntalking about doing\nNetwork Address Translation,\n\n59\n00:02:39.310 --> 00:02:43.748\nwhich is a part of routing and, oddly\nenough, routing is objective number five.\n\n60\n00:02:43.748 --> 00:02:44.289\n>> [LAUGH].\n\n61\n00:02:44.289 --> 00:02:48.180\n>> So, we're gonna kind of rearrange\nthings a little bit and cover NAT and\n\n62\n00:02:48.180 --> 00:02:50.120\nrouting at the same time, cuz you need to.\n\n63\n00:02:50.120 --> 00:02:52.260\n>> Logically, it really does\nfit together a little better.\n\n64\n00:02:52.260 --> 00:02:53.415\n>> Can't do NAT without routing.\n\n65\n00:02:53.415 --> 00:02:55.630\n>> Right.\n>> So, we'll take a look at that.\n\n66\n00:02:55.630 --> 00:02:58.290\nAnd then we'll tackle VPN and\nstuff after that.\n\n67\n00:02:58.290 --> 00:03:00.120\nSo just a little shuffle around.\n\n68\n00:03:00.120 --> 00:03:01.222\n>> Sounds like a good plan.\n\n69\n00:03:01.222 --> 00:03:05.000\n>> All right, so for this show,\nI whipped up a quick network.\n\n70\n00:03:05.000 --> 00:03:07.390\nI'm actually using one of\nthe Microsoft vLabs for this one.\n\n71\n00:03:07.390 --> 00:03:09.430\nWhich is kind of neat, if you guys want.\n\n72\n00:03:09.430 --> 00:03:16.500\nYou can actually do this yourself if\nyou take the Microsoft TechNet Vlabs.\n\n73\n00:03:16.500 --> 00:03:20.633\nThey've got one on there for VPN and\nassigned access in Windows 8.1.\n\n74\n00:03:20.633 --> 00:03:22.971\nAnd it gives you two servers and\ntwo workstations and\n\n75\n00:03:22.971 --> 00:03:26.230\na layout that's perfect for\ndoing what we're gonna do in this episode.\n\n76\n00:03:26.230 --> 00:03:28.100\nSo I'm gonna take advantage of that.\n\n77\n00:03:28.100 --> 00:03:32.140\nAnd the topology that we're gonna\nwork with is this guy right here.\n\n78\n00:03:32.140 --> 00:03:37.540\nRight, basically we have\na domain controller.\n\n79\n00:03:37.540 --> 00:03:39.639\nRight here that's on\nour local area network.\n\n80\n00:03:39.639 --> 00:03:42.280\n>> Right.\n>> It's right here with our systems and,\n\n81\n00:03:42.280 --> 00:03:44.505\nthat's not quite what I wanted.\n\n82\n00:03:44.505 --> 00:03:46.670\n[LAUGH].\n\n83\n00:03:46.670 --> 00:03:49.680\n>> Looks like we got a 10.10.00\nnetwork back there on our lan.\n\n84\n00:03:51.085 --> 00:03:52.920\n>> Yeah, sorry,\nI was gonna try to write on the screen.\n\n85\n00:03:52.920 --> 00:03:56.644\nMy little screen writer went nuts but\nwe've got that LAN,\n\n86\n00:03:56.644 --> 00:03:59.532\nthat local area network, 10.10.0.\n\n87\n00:03:59.532 --> 00:04:00.513\nWhatever slash 24.\n\n88\n00:04:00.513 --> 00:04:02.380\n>> Mm-hm.\nThat's a private address.\n\n89\n00:04:02.380 --> 00:04:03.835\nThat's not routable on the internet.\n\n90\n00:04:03.835 --> 00:04:04.470\n>> Right.\n\n91\n00:04:04.470 --> 00:04:08.920\n>> And we've got a host out there,\nwhich is a Windows 8.1 machine that's got\n\n92\n00:04:08.920 --> 00:04:14.450\na 131.107.0.50 address, that is a public\nIP in a registered I-N-A address,\n\n93\n00:04:14.450 --> 00:04:16.540\nand that means it's out\nthere on the internet.\n\n94\n00:04:16.540 --> 00:04:20.730\nI want it to be able to have access\nto my internal network, right, and\n\n95\n00:04:20.730 --> 00:04:22.355\nthere's two ways we can go about that.\n\n96\n00:04:22.355 --> 00:04:26.270\n>> Mm-hm.\n>> The simplest way is to enable routing,\n\n97\n00:04:26.270 --> 00:04:27.590\non this server right here.\n\n98\n00:04:27.590 --> 00:04:31.300\nSee how this server has network on\ninterfaces on these two networks,\n\n99\n00:04:31.300 --> 00:04:33.860\non both the internet and\nthe internal side.\n\n100\n00:04:33.860 --> 00:04:38.240\nWe could turn on routing, and\nthat would allow this mobile system\n\n101\n00:04:38.240 --> 00:04:42.944\nto connect through the end server\nthere into the LAN and gain access.\n\n102\n00:04:42.944 --> 00:04:45.343\nRight, what's the biggest\nproblem with that?\n\n103\n00:04:45.343 --> 00:04:47.743\n>> Trying to get access to\nthat edge through the internet\n\n104\n00:04:47.743 --> 00:04:49.540\n>> Well there is that, right, so\n\n105\n00:04:49.540 --> 00:04:50.862\nwe'd have to do static routes.\n\n106\n00:04:50.862 --> 00:04:52.507\n>> Right.\n>> We'd have to statically tell this mold\n\n107\n00:04:52.507 --> 00:04:53.390\nmachine to go there.\n\n108\n00:04:53.390 --> 00:04:55.824\n>> Mm-hm.\n>> The other problem is routers don't do\n\n109\n00:04:55.824 --> 00:04:56.549\nfiltering.\n\n110\n00:04:56.549 --> 00:05:00.270\nSo when we turn that routing functionality\non we're opening the flood gates.\n\n111\n00:05:00.270 --> 00:05:01.400\nWe're saying.\n\n112\n00:05:01.400 --> 00:05:03.230\n>> Any type of traffic coming of.\n\n113\n00:05:03.230 --> 00:05:05.580\n>> Could pass through that edge and\nget inside our network.\n\n114\n00:05:05.580 --> 00:05:07.524\nThat's a big security risk, right.\n\n115\n00:05:07.524 --> 00:05:10.463\nSo, it's rare that we\nimplement just routing,\n\n116\n00:05:10.463 --> 00:05:13.260\nwe normally tack onto\nit with something else,\n\n117\n00:05:13.260 --> 00:05:18.160\nlike VPN tunnels to do encryption and\nsecurity and authentication.\n\n118\n00:05:18.160 --> 00:05:19.290\nBut, let's start simple.\n\n119\n00:05:19.290 --> 00:05:20.580\n>> Right.\n>> And we're just gonna start\n\n120\n00:05:20.580 --> 00:05:21.510\nwith raw routing.\n\n121\n00:05:21.510 --> 00:05:23.950\nRouting data through the server and\nthen we'll build onto it.\n\n122\n00:05:23.950 --> 00:05:25.380\n>> And we could be doing it internally,\nright?\n\n123\n00:05:25.380 --> 00:05:28.030\nWe could be routing between different\nsubnets on our internal networks.\n\n124\n00:05:28.030 --> 00:05:32.260\nWe don't have that as big of concern maybe\nfor that type of traffic come through or\n\n125\n00:05:32.260 --> 00:05:33.550\nbeing so wide open.\n\n126\n00:05:33.550 --> 00:05:36.595\n>> Yeah, or\nthink of it in terms of a home user.\n\n127\n00:05:36.595 --> 00:05:38.470\n>> Mm-hm.\n>> So maybe you've got five computers at\n\n128\n00:05:38.470 --> 00:05:39.984\nhome and\nyou want them all to have Internet access.\n\n129\n00:05:39.984 --> 00:05:40.640\n>> Mm-hm.\n\n130\n00:05:40.640 --> 00:05:44.168\n>> But you've only got one cable\nof DSL jack running to the house.\n\n131\n00:05:44.168 --> 00:05:44.676\n>> Right.\n>> Right.\n\n132\n00:05:44.676 --> 00:05:45.185\n>> Mm-hm.\n\n133\n00:05:45.185 --> 00:05:46.790\n>> So you could whip up a Windows server,\n\n134\n00:05:46.790 --> 00:05:52.220\nplug the cable or DSL line into that\nserver, run routing and roam access on it,\n\n135\n00:05:52.220 --> 00:05:55.612\nand then route all of your internal\nmachines out to the internet.\n\n136\n00:05:55.612 --> 00:05:57.220\n>> Right.\n>> Right, you could do that.\n\n137\n00:05:57.220 --> 00:06:00.700\nNow, one problem that we have is that our\nservice provider normally only gives us\n\n138\n00:06:00.700 --> 00:06:05.850\none address, so we'll probably wanna\ncombine routing with mat to do that, but\n\n139\n00:06:05.850 --> 00:06:09.260\nI get ahead of myself, so\n\n140\n00:06:09.260 --> 00:06:12.437\nlet's jump back to just kind of routing\nand see, then we'll tack that on to it.\n\n141\n00:06:12.437 --> 00:06:13.462\n>> Okay, right.\n>> So what's first?\n\n142\n00:06:13.462 --> 00:06:15.430\nFirst, we got to get it installed.\n\n143\n00:06:15.430 --> 00:06:20.900\n>> Yeah, absolutely, so this edge server\nit's just a normal windows 2012 R2 server.\n\n144\n00:06:20.900 --> 00:06:21.967\n>> Mm-hm.\n>> We are running data center\n\n145\n00:06:21.967 --> 00:06:22.520\naddition on it.\n\n146\n00:06:22.520 --> 00:06:25.190\nBut that doesn't matter cuz this\nworks in standard addition also.\n\n147\n00:06:25.190 --> 00:06:26.279\n>> Right.\n>> So there's no big,\n\n148\n00:06:26.279 --> 00:06:27.740\nthat deviation there.\n\n149\n00:06:27.740 --> 00:06:31.106\nBut, while I'm thinking about it,\n\n150\n00:06:31.106 --> 00:06:36.912\nlet me re-launch my screen\nwriter cuz it is not happy so.\n\n151\n00:06:36.912 --> 00:06:41.474\nAll right, so if I jump over here and\ntake a look at that edge server, and\n\n152\n00:06:41.474 --> 00:06:46.057\nthe server is just called edge, and\nso I'm gonna get logged in to that.\n\n153\n00:06:48.610 --> 00:06:50.770\nAnd the first thing you need\nto do is you need to look and\n\n154\n00:06:50.770 --> 00:06:53.685\nsee whether you've already got routing and\nremote access installed.\n\n155\n00:06:53.685 --> 00:06:55.000\n>> Right.\n>> You'll know if\n\n156\n00:06:55.000 --> 00:06:57.535\nin your Server Manager you\nsee Remote Access listed.\n\n157\n00:06:57.535 --> 00:06:58.130\n>> Mm-hm.\n\n158\n00:06:58.130 --> 00:07:00.150\n>> I don't, so it's not installed.\n\n159\n00:07:00.150 --> 00:07:01.629\nSo I'll go to Add roles & features.\n\n160\n00:07:03.590 --> 00:07:06.650\nAnd we've seen this a few\nhundred times by now.\n\n161\n00:07:06.650 --> 00:07:09.365\n>> Next three times, and\njust keep going, right.\n\n162\n00:07:09.365 --> 00:07:12.000\n>> Yeah, I'm just telling it I want\nto configure that edge server, and\n\n163\n00:07:12.000 --> 00:07:14.370\non the next screen is\nwhere my real action is.\n\n164\n00:07:14.370 --> 00:07:18.500\nI need to tell it what I want to do,\nand I want to install remote access, so\n\n165\n00:07:18.500 --> 00:07:20.010\nI'm just gonna check that off.\n\n166\n00:07:20.010 --> 00:07:23.860\nIt's gonna think for a second as it looks\nfor any dependencies that we need to add,\n\n167\n00:07:23.860 --> 00:07:24.770\nany extra stuff.\n\n168\n00:07:25.980 --> 00:07:27.582\nIt apparently didn't find any on this one.\n\n169\n00:07:27.582 --> 00:07:29.790\nMm-hm.\n>> So I'm good there, and I'll hit Next.\n\n170\n00:07:29.790 --> 00:07:32.145\nIt's gonna ask me if I\nwanna add any features.\n\n171\n00:07:32.145 --> 00:07:32.790\n>> Right.\n>> I don't.\n\n172\n00:07:32.790 --> 00:07:34.120\n>> Nothing.\n\n173\n00:07:34.120 --> 00:07:37.290\nIf it had required any features it would\nhave told us, and it would have selected.\n\n174\n00:07:37.290 --> 00:07:39.530\nWe could always add more, but.\n\n175\n00:07:39.530 --> 00:07:41.160\n>> Yep, doesn't cost you any extra.\n\n176\n00:07:41.160 --> 00:07:42.810\n>> Nope [LAUGH].\n>> And then, so\n\n177\n00:07:42.810 --> 00:07:43.960\nhere we got our remote access.\n\n178\n00:07:43.960 --> 00:07:47.040\nThis is just giving us our general\ndescription of what we're about to\n\n179\n00:07:47.040 --> 00:07:47.550\ninstall.\n\n180\n00:07:47.550 --> 00:07:48.250\n>> Mm-hm.\n\n181\n00:07:48.250 --> 00:07:51.530\n>> And then asking us remote\naccess servers we want.\n\n182\n00:07:51.530 --> 00:07:52.240\n>> Right.\n\n183\n00:07:52.240 --> 00:07:56.134\n>> Now I'm not gonna do VPN's and stuff\njust yet, so I'm gonna leave that off and\n\n184\n00:07:56.134 --> 00:07:58.553\nI'm just gonna check routing for\nright now, and\n\n185\n00:07:58.553 --> 00:08:01.741\nwhen I check that now I get some\ndependencies that need to added.\n\n186\n00:08:01.741 --> 00:08:03.720\nIt's mostly just administrative tools.\n\n187\n00:08:03.720 --> 00:08:06.416\n>> Yeah, mostly are consoles that\nwe're gonna need to actually configure\n\n188\n00:08:06.416 --> 00:08:07.089\nadministrator.\n\n189\n00:08:07.089 --> 00:08:07.635\n>> Mm-hm.\n\n190\n00:08:07.635 --> 00:08:10.949\nAnd notice it is gonna go ahead and\nturn on direct access to VPN anyway, so.\n\n191\n00:08:10.949 --> 00:08:11.627\n>> Yes.\nIt's gonna launch it really bad.\n\n192\n00:08:11.627 --> 00:08:13.630\n[LAUGH]\n>> So, all right.\n\n193\n00:08:13.630 --> 00:08:17.110\nWell, I guess we can't uncheck that\none today, but so there we go.\n\n194\n00:08:17.110 --> 00:08:19.260\nWe'll go ahead and add those\n>> We don't have to configure it.\n\n195\n00:08:19.260 --> 00:08:20.250\n>> And we'll install it.\n\n196\n00:08:20.250 --> 00:08:21.705\nNow actually that's a great point there.\n\n197\n00:08:21.705 --> 00:08:23.824\n>> So Mike said,\nwe can always configure it later.\n\n198\n00:08:23.824 --> 00:08:24.610\n>> Mm-hm.\n>> Right?\n\n199\n00:08:24.610 --> 00:08:27.500\nWell, routing your remote access is\none of those neat roles where when you\n\n200\n00:08:27.500 --> 00:08:31.970\ninstall it, once it's installed\nit does absolutely nothing.\n\n201\n00:08:31.970 --> 00:08:33.180\nIt's actually not functional.\n\n202\n00:08:33.180 --> 00:08:33.780\nRight?\n>> [LAUGH]\n\n203\n00:08:33.780 --> 00:08:34.940\n>> And so you've gotta go and\n\n204\n00:08:34.940 --> 00:08:36.810\nconfigure it and turn on what you want.\n\n205\n00:08:36.810 --> 00:08:39.510\nSo it doesn't really matter if you\ninstall all of the options there.\n\n206\n00:08:39.510 --> 00:08:44.790\nIt doesn't matter cuz they're not working\nuntil you actually go and configure them.\n\n207\n00:08:44.790 --> 00:08:45.930\nAll right so we'll let that install.\n\n208\n00:08:45.930 --> 00:08:46.710\nit doesn't actually take long.\n\n209\n00:08:46.710 --> 00:08:49.760\nIt just needs to copy the tools over and\nwhatever.\n\n210\n00:08:49.760 --> 00:08:52.080\nIt doesn't take long\ncause it's not activated.\n\n211\n00:08:52.080 --> 00:08:54.350\n>> Exactly, it's just expanding\nout some files and stuff.\n\n212\n00:08:54.350 --> 00:08:56.040\nMaking it available to itself.\n\n213\n00:08:56.040 --> 00:08:58.340\nShould be good to go and\nwe would have checked in the mean time and\n\n214\n00:08:58.340 --> 00:09:02.320\nmade sure again that our network diagram\nsaid, this guys got two network adapters.\n\n215\n00:09:02.320 --> 00:09:05.260\nHe's got one connected to the outside,\none connected to the inside.\n\n216\n00:09:05.260 --> 00:09:08.390\nOr if you're doing internal routing,\nenough network adapters to connect all\n\n217\n00:09:08.390 --> 00:09:10.820\nthe different subnets that you\nwere trying to route between.\n\n218\n00:09:11.820 --> 00:09:15.260\n>> And as part of activating this,\nit's going to ask us questions like,\n\n219\n00:09:15.260 --> 00:09:17.950\nwhich interface is pointing\nto the internet or\n\n220\n00:09:17.950 --> 00:09:21.160\npointing at your internal network so we'll\nhave to kind of set some of those values.\n\n221\n00:09:21.160 --> 00:09:22.800\nSo those are definitely\nthings to be aware of.\n\n222\n00:09:22.800 --> 00:09:24.450\nThere we go, it just finished.\n\n223\n00:09:24.450 --> 00:09:28.140\nIn standard status bar fashion it\nwent from 50% to done just like that.\n\n224\n00:09:30.350 --> 00:09:34.620\nNow that it's done, there we go.\n\n225\n00:09:34.620 --> 00:09:36.970\nI just saw remote access\nappear on the left side.\n\n226\n00:09:36.970 --> 00:09:38.632\nYou have to be patient,\nI'm getting better about it.\n\n227\n00:09:38.632 --> 00:09:40.630\n>> I know.\nEspecially with this new wizard.\n\n228\n00:09:40.630 --> 00:09:41.840\nIt's not model so\n\n229\n00:09:41.840 --> 00:09:44.460\nyou can actually close it and\nit'll still do things in the background.\n\n230\n00:09:44.460 --> 00:09:47.405\nBut sometimes it says it's finished and\nit's not done.\n\n231\n00:09:47.405 --> 00:09:48.680\n>> [LAUGH]\n>> You click on anything and\n\n232\n00:09:48.680 --> 00:09:49.930\nyou're locking that machine up.\n\n233\n00:09:49.930 --> 00:09:52.520\n>> May favorite is when it's pending\na reboot and it doesn't tell you.\n\n234\n00:09:52.520 --> 00:09:53.680\nAnd it just sits there.\n\n235\n00:09:53.680 --> 00:09:58.055\nAnd if you notice the yellow triangle up\nhere, you might get a notice telling you.\n\n236\n00:09:58.055 --> 00:10:00.670\nBut what it's actually telling us here\nis not that we need a restart, or\n\n237\n00:10:00.670 --> 00:10:01.870\nat least I don't think so, let's see.\n\n238\n00:10:01.870 --> 00:10:04.530\n>> It's just telling me that we've\nstill got more configurations to do.\n\n239\n00:10:04.530 --> 00:10:07.050\n>> Yeah and this is what I was\nreferring to a minute ago and\n\n240\n00:10:07.050 --> 00:10:10.500\nwhat Mike mentioned originally is it\ndoesn't work until you configure it.\n\n241\n00:10:10.500 --> 00:10:12.630\nSo it's asking me what I want to do.\n\n242\n00:10:12.630 --> 00:10:15.560\nNow, these little options here,\n\n243\n00:10:15.560 --> 00:10:20.560\nthe first one is saying configuration\nrequired for direct access and VPN.\n\n244\n00:10:20.560 --> 00:10:23.540\nWell, I don't want those, so\nI'm gonna ignore that message, and\n\n245\n00:10:23.540 --> 00:10:25.180\nin fact you can just.\n\n246\n00:10:25.180 --> 00:10:26.390\nWill it let you clear it?\n\n247\n00:10:26.390 --> 00:10:27.100\n>> It should.\n\n248\n00:10:27.100 --> 00:10:29.030\n>> Well the first time you launch\nthat wizard, it will clear it.\n\n249\n00:10:29.030 --> 00:10:30.390\nSo I'm gonna ignore that one.\n\n250\n00:10:30.390 --> 00:10:34.670\nHere it says, it also says\nconfiguration required for DHCP server.\n\n251\n00:10:34.670 --> 00:10:36.710\nIf I wanna be a DHCP server\nI'm gonna need to do that.\n\n252\n00:10:36.710 --> 00:10:38.510\nI don't wanna do that either.\n\n253\n00:10:38.510 --> 00:10:41.437\nAnd then it's just letting me know\nthat some feature finished installing,\n\n254\n00:10:41.437 --> 00:10:43.650\nalthough it doesn't tell me which one.\n\n255\n00:10:43.650 --> 00:10:45.920\nSo, you know, nothing too crazy there.\n\n256\n00:10:45.920 --> 00:10:48.450\nBut we can go ahead and\ngo into our Getting Started wizard.\n\n257\n00:10:48.450 --> 00:10:52.060\nAnd as we run through that wizard,\nwe're gonna tell it what we wanna do.\n\n258\n00:10:52.060 --> 00:10:52.570\n>> Right.\n\n259\n00:10:52.570 --> 00:10:55.005\n>> And I'm not gonna tell it\nto do VPN cuz I don't wanna.\n\n260\n00:10:55.005 --> 00:10:56.180\n[LAUGH]\n>> Exactly.\n\n261\n00:10:56.180 --> 00:10:57.250\nIt's gonna want to really bad.\n\n262\n00:10:57.250 --> 00:11:00.440\nIt's gonna say let's set up\ndirect access and VPN right now.\n\n263\n00:11:00.440 --> 00:11:01.650\nPlease.\nCan we?\n\n264\n00:11:01.650 --> 00:11:02.220\n>> Yep.\n\n265\n00:11:02.220 --> 00:11:04.180\nAnd so\nyou'll see those options right there.\n\n266\n00:11:04.180 --> 00:11:08.230\nDeploy VPN only,\ndeploy direct access only and deploy both.\n\n267\n00:11:08.230 --> 00:11:12.020\nNow VPN, that's virtual private network,\nand that's a great way to\n\n268\n00:11:12.020 --> 00:11:16.890\nbuild a secure tunnel between our\nexternal host and our internal network.\n\n269\n00:11:16.890 --> 00:11:19.800\nAnd by the end of the episode\nthat's what we want to do.\n\n270\n00:11:19.800 --> 00:11:22.250\nDirect access,\nwe cover that in another episode.\n\n271\n00:11:22.250 --> 00:11:26.020\nBut that's where we use IPv6 to\nbuild the secure communication.\n\n272\n00:11:26.020 --> 00:11:29.770\nSo it functions just like a VPN tunnel,\nbut without that VPN overhead.\n\n273\n00:11:29.770 --> 00:11:32.210\nIt just uses IP SACK on the backend.\n\n274\n00:11:32.210 --> 00:11:35.400\nBut what we want is to do\njust straight up routing.\n\n275\n00:11:35.400 --> 00:11:37.290\n>> But Don,\nthat's not in our list of options.\n\n276\n00:11:37.290 --> 00:11:38.930\n>> It's not in the list of options, so\n\n277\n00:11:38.930 --> 00:11:40.480\nI'm going to have to see\nif I can force it here.\n\n278\n00:11:40.480 --> 00:11:41.450\n>> Just close it and\nit says, are you sure?\n\n279\n00:11:41.450 --> 00:11:43.120\n>> Yeah, we'll just get out of the Wizard.\n\n280\n00:11:43.120 --> 00:11:44.900\n>> I really wanted to.\n\n281\n00:11:44.900 --> 00:11:49.320\n>> And instead I'm going to go up here\nto tools, and routing and remote access.\n\n282\n00:11:49.320 --> 00:11:53.470\nI'll just go straight in to the tool\nthat I want and we'll go that way.\n\n283\n00:11:53.470 --> 00:11:57.740\nSo there's a lot of cool functionality\nbuilt in here and Microsoft knows that,\n\n284\n00:11:57.740 --> 00:12:01.400\nhey people are not using\nMicrosoft server as a router.\n\n285\n00:12:01.400 --> 00:12:03.680\nThat's why they're not giving me\nthat option on that main screen.\n\n286\n00:12:03.680 --> 00:12:05.390\nI'm okay with that.\n\n287\n00:12:05.390 --> 00:12:10.390\nSo we'll come in here and configure\nmanually and just get it set up this way.\n\n288\n00:12:10.390 --> 00:12:11.430\nAll right.\nSo if you look,\n\n289\n00:12:11.430 --> 00:12:12.881\nnotice my server's called edge.\n\n290\n00:12:12.881 --> 00:12:15.579\n>> Mm-hm.\n>> And it's kind of Its hard to see but,\n\n291\n00:12:15.579 --> 00:12:17.214\nnot anymore,\n>> [LAUGH]\n\n292\n00:12:17.214 --> 00:12:20.895\n>> [LAUGH] You'll notice that red thing,\n\n293\n00:12:20.895 --> 00:12:22.047\n>> This little downward pointing arrow I\n\n294\n00:12:22.047 --> 00:12:23.310\nthink is what it's supposed to be there.\n\n295\n00:12:23.310 --> 00:12:24.459\n>> Even zoomed in it's hard to tell.\n\n296\n00:12:24.459 --> 00:12:26.737\nYeah.\nIts a red arrow pointing down and\n\n297\n00:12:26.737 --> 00:12:30.007\nits letting us know the server\nis not actually running.\n\n298\n00:12:30.007 --> 00:12:31.568\nSo-\n>> So if we want to set this up,\n\n299\n00:12:31.568 --> 00:12:34.238\nwe gotta basically start that\nconfiguration wizard, you right click on\n\n300\n00:12:34.238 --> 00:12:36.797\nyour server and say configure enabled,\nrouting and remote access.\n\n301\n00:12:36.797 --> 00:12:38.680\n>> That is it.\n\n302\n00:12:38.680 --> 00:12:42.070\nSo, when we run this configure enable\nrouting and remote access it's a wizard,\n\n303\n00:12:42.070 --> 00:12:43.750\njust like we saw a moment ago,\n>> Mm-hm.\n\n304\n00:12:43.750 --> 00:12:46.610\n>> But it's different in that it gives\nus a little more power in what we\n\n305\n00:12:46.610 --> 00:12:47.410\nwant to choose.\n\n306\n00:12:47.410 --> 00:12:49.500\n>> Be a little more specific about\nwhat we're trying to set up and\n\n307\n00:12:49.500 --> 00:12:51.890\nwhat we want this server\nto do when we're done.\n\n308\n00:12:51.890 --> 00:12:52.790\n>> Yeah, look at the options here.\n\n309\n00:12:52.790 --> 00:12:55.800\nSo we've got VPN, so I can configure that.\n\n310\n00:12:55.800 --> 00:12:59.730\nBut you'll also see where we've got NAT,\nVPN again with NAT,\n\n311\n00:12:59.730 --> 00:13:01.870\nsecure communications and so on.\n\n312\n00:13:01.870 --> 00:13:06.130\n>> And that's what we don't\nhave is good old direct access.\n\n313\n00:13:06.130 --> 00:13:09.490\n>> Yeah, that's because this is the old\nwizard before direct access was created.\n\n314\n00:13:09.490 --> 00:13:10.320\nGood point.\n\n315\n00:13:10.320 --> 00:13:12.560\nSo if we want direct access, we pretty\nmuch have to go the other way, or\n\n316\n00:13:12.560 --> 00:13:14.850\nyou can do the whole thing by PowerShell.\n\n317\n00:13:14.850 --> 00:13:16.260\n>> Yeah, we could use PowerShell.\n\n318\n00:13:16.260 --> 00:13:17.770\nWhy wouldn't we use PowerShell.\n\n319\n00:13:17.770 --> 00:13:21.273\n>> Why use these GUIs when we could be\ntyping, you know 200 character commands.\n\n320\n00:13:21.273 --> 00:13:24.495\n[LAUGH] So anyhow.\n\n321\n00:13:24.495 --> 00:13:30.680\nNow one thing I don't see here is, I don't\nsee the option to do just, a router.\n\n322\n00:13:30.680 --> 00:13:32.660\nI just want to enable routing.\n\n323\n00:13:32.660 --> 00:13:35.327\nI've got, you know,\nnetwork address translation.\n\n324\n00:13:35.327 --> 00:13:35.827\nRight?\n>> Right.\n\n325\n00:13:35.827 --> 00:13:37.332\n>> We've got remote access with dial-up or\n\n326\n00:13:37.332 --> 00:13:39.530\nVPN, but\nI don't have just straight-up routing.\n\n327\n00:13:39.530 --> 00:13:43.350\nWell, you do have the very last option\nwhich is custom configuration where you\n\n328\n00:13:43.350 --> 00:13:45.620\ncan pick and choose exactly what you want.\n\n329\n00:13:45.620 --> 00:13:48.810\nAnd I like that one anyway, cuz it lets\nme show off all the various screens.\n\n330\n00:13:48.810 --> 00:13:49.580\n>> Yeah, absolutely.\n\n331\n00:13:49.580 --> 00:13:50.100\nAbsolutely.\n\n332\n00:13:50.100 --> 00:13:51.940\nSo that even if you know\nyou're going to set up VPNs,\n\n333\n00:13:51.940 --> 00:13:54.460\nsometimes it's nice to go\nthrough that custom cuz maybe\n\n334\n00:13:54.460 --> 00:13:56.790\nthere's some little feature that you want,\nor don't want.\n\n335\n00:13:56.790 --> 00:13:57.695\nAnd now you've got the choice.\n\n336\n00:13:57.695 --> 00:13:59.112\n>> Yep.\n\n337\n00:13:59.112 --> 00:14:01.659\nAnd on that first screen\nnow I get the real twist,\n\n338\n00:14:01.659 --> 00:14:04.952\nso VPN access, dial-up access,\nI shouldn't make fun of it,\n\n339\n00:14:04.952 --> 00:14:08.020\nthere's still plenty of people\nthat still make use of it.\n\n340\n00:14:08.020 --> 00:14:08.580\n>> Absolutely.\n\n341\n00:14:08.580 --> 00:14:12.332\nSometimes we get spoiled and we assume\nhigh-speed access is everywhere and\n\n342\n00:14:12.332 --> 00:14:13.510\nit's definitely not.\n\n343\n00:14:13.510 --> 00:14:16.384\n>> The example I always give is in a\n>> Ronnie?\n\n344\n00:14:16.384 --> 00:14:21.046\n[LAUGH]\n>> Ronnie lives so far out in the boonies\n\n345\n00:14:21.046 --> 00:14:24.863\nhe can't really get internet service\ndoing anything other than satellite,\n\n346\n00:14:24.863 --> 00:14:26.590\nwhich is a nightmare.\n\n347\n00:14:26.590 --> 00:14:28.950\nIn the United States phone service,\n\n348\n00:14:28.950 --> 00:14:33.550\nregular analog phone service is considered\na piece of critical infrastructure.\n\n349\n00:14:33.550 --> 00:14:36.630\nSo during a time of disaster,\nlike a hurricane, earthquake, or whatever,\n\n350\n00:14:36.630 --> 00:14:39.880\nphone service is one of the things\nthat has to immediately be restored.\n\n351\n00:14:39.880 --> 00:14:45.595\nSo in a disaster, you may lose your\ncable or DSL service or whatever, and\n\n352\n00:14:45.595 --> 00:14:49.220\ndial-up is still there, still functional,\ncuz the analog phone lines are back up.\n\n353\n00:14:49.220 --> 00:14:51.970\nSo there's plenty of companies,\nespecially insurance companies.\n\n354\n00:14:51.970 --> 00:14:54.370\n>> Right.\n>> That will maintain dial-up servers so\n\n355\n00:14:54.370 --> 00:14:56.460\nthat their adjusters can get out there.\n\n356\n00:14:56.460 --> 00:14:57.340\n>> That's a real good point.\n\n357\n00:14:57.340 --> 00:14:58.890\nYeah.\nBefore they're able to restore all\n\n358\n00:14:58.890 --> 00:15:03.110\nthe cable services,\ncuz that's on the bottom of their list.\n\n359\n00:15:03.110 --> 00:15:07.900\n>> Because if you have a choice between\n56K and 0K [LAUGH] 56K is not so bad.\n\n360\n00:15:07.900 --> 00:15:10.032\n>> It's sounding pretty good now.\n\n361\n00:15:10.032 --> 00:15:10.736\n[LAUGH]\n>> [LAUGH]\n\n362\n00:15:10.736 --> 00:15:11.496\n>> So yeah.\n\n363\n00:15:11.496 --> 00:15:12.916\nBut you'll notice here that we've got\n\n364\n00:15:12.916 --> 00:15:15.976\nthat last option that wasn't in the other\nwizard which is just straight up\n\n365\n00:15:15.976 --> 00:15:19.660\nLAN routing.\nIf I want my server to be a router,\n\n366\n00:15:19.660 --> 00:15:21.960\nI just want it to route traffic\nbetween one interface and\n\n367\n00:15:21.960 --> 00:15:24.425\nanother, here's the choice for me.\n\n368\n00:15:24.425 --> 00:15:24.995\nAll right.\n\n369\n00:15:24.995 --> 00:15:26.575\nSo I'm gonna go ahead and choose that.\n\n370\n00:15:26.575 --> 00:15:29.125\nLand routing, and we'll move forward.\n\n371\n00:15:29.125 --> 00:15:31.035\nAnd that's really about it for\nland routing.\n\n372\n00:15:31.035 --> 00:15:31.983\n>> Can you do that again for me?\n\n373\n00:15:31.983 --> 00:15:33.116\n>> [LAUGH]\n>> [LAUGH]\n\n374\n00:15:33.116 --> 00:15:34.845\n>> Cause the thing about land routing is\n\n375\n00:15:34.845 --> 00:15:37.840\nit's just saying if I get\ntraffic on one interface\n\n376\n00:15:37.840 --> 00:15:39.500\nI allow it to go out the other interface.\n\n377\n00:15:39.500 --> 00:15:41.220\n>> I'm allowed to route it\non through the next one.\n\n378\n00:15:41.220 --> 00:15:44.450\n>> There's not much to it now there's\nactually some advanced stuff on\n\n379\n00:15:44.450 --> 00:15:46.690\nthe backend if you choose to use it.\n\n380\n00:15:46.690 --> 00:15:47.380\nLet me just finish up.\n\n381\n00:15:47.380 --> 00:15:49.362\n>> We can add some additional\nrouting protocols and\n\n382\n00:15:49.362 --> 00:15:52.708\nin fact we're gonna do that in a little\nbit with our network address translation.\n\n383\n00:15:52.708 --> 00:15:56.846\n>> Yeah, you know, maybe that on your\nnetwork, and let me see if I can do this.\n\n384\n00:15:56.846 --> 00:15:59.331\nI'll probably end up with double\nmouse pointers again but.\n\n385\n00:15:59.331 --> 00:16:01.008\nWe'll see how this goes.\n\n386\n00:16:01.008 --> 00:16:02.424\nHere we go.\n>> There we go now we're green.\n\n387\n00:16:02.424 --> 00:16:04.770\n>> All right so\nnow my server does have a green arrow.\n\n388\n00:16:04.770 --> 00:16:08.639\nRight, so it is actually running routing\nand remote access and if i look at my\n\n389\n00:16:08.639 --> 00:16:12.880\nnetwork interfaces, its pulling up some\nof the different interfaces we've got.\n\n390\n00:16:12.880 --> 00:16:17.080\nSo I've got an extra net and a Contoso\nnetwork and whatever and if I go under\n\n391\n00:16:17.080 --> 00:16:22.790\nIPv4 and under General, I can see\nmy interfaces and their IPs, right?\n\n392\n00:16:22.790 --> 00:16:25.950\nSo that's my LAN interface and\nmy WAN interface.\n\n393\n00:16:25.950 --> 00:16:27.070\n>> Right.\n\n394\n00:16:27.070 --> 00:16:29.510\n>> And I've also got static routes.\n\n395\n00:16:30.640 --> 00:16:35.300\nHere, if I'm a router, I can manually put\nin routes to say to get to network a,\n\n396\n00:16:35.300 --> 00:16:35.870\ngo this path.\n\n397\n00:16:35.870 --> 00:16:37.640\nNetwork b, go that path, and so on.\n\n398\n00:16:37.640 --> 00:16:41.020\nJust like on a Cisco router or something\nlike that, you might put in static routes.\n\n399\n00:16:41.020 --> 00:16:41.890\n>> Right.\n>> We can do it here.\n\n400\n00:16:42.890 --> 00:16:47.340\nThe other thing, though, and it doesn't\nreally show up here or make a whole lot of\n\n401\n00:16:47.340 --> 00:16:51.170\nsense, is that you can right-click\non General, which is really listing\n\n402\n00:16:51.170 --> 00:16:56.010\ninterfaces, but that's where you can add\nrouting protocols, like Mike mentioned.\n\n403\n00:16:56.010 --> 00:16:57.880\nAnd these routing protocols,\n\n404\n00:16:57.880 --> 00:17:02.490\nthese are things like NAT,\nwhich we'll see in a little bit.\n\n405\n00:17:02.490 --> 00:17:05.500\nAnd RIP version 2,\nthe routing information protocol,\n\n406\n00:17:05.500 --> 00:17:09.980\nwhich allows us to dynamically learn\nroutes from other routers running RIP.\n\n407\n00:17:09.980 --> 00:17:11.930\nNow, I'm a network guy.\n\n408\n00:17:11.930 --> 00:17:12.920\nI'm a Cisco CCMP.\n\n409\n00:17:12.920 --> 00:17:14.100\nI work with Cisco equipment a lot.\n\n410\n00:17:14.100 --> 00:17:15.060\n>> Your favorite I'm sure.\n\n411\n00:17:15.060 --> 00:17:16.707\n>> I'll tell you, RIP is actually garbage.\n\n412\n00:17:16.707 --> 00:17:17.220\n>> [LAUGH]\n>> And\n\n413\n00:17:17.220 --> 00:17:19.070\nyou don't want to use RIP\nif you don't have to.\n\n414\n00:17:19.070 --> 00:17:24.200\nTo, but- it's kinda like my 56K comment,\nwould you rather have rip or nothing?\n\n415\n00:17:24.200 --> 00:17:28.540\n>> Yeah, cuz if you don't use rip you're\nnow statically entering all those routes,\n\n416\n00:17:28.540 --> 00:17:32.190\nand if something changes, you gotta make\nsure you change it on all your routers.\n\n417\n00:17:32.190 --> 00:17:35.070\nIt is convenient to let them\nshare their own routes.\n\n418\n00:17:35.070 --> 00:17:37.960\n>> Yeah, RIP is the slowest of\nthe modern routing protocols,\n\n419\n00:17:37.960 --> 00:17:40.380\nbut again, it's better than nothing.\n\n420\n00:17:40.380 --> 00:17:41.360\nSo at least we've got that.\n\n421\n00:17:41.360 --> 00:17:43.620\n>> It's a little noisy too, isn't it?\n\n422\n00:17:43.620 --> 00:17:46.420\nI guess it's better than the old RIP.\n\n423\n00:17:46.420 --> 00:17:50.295\n>> Yeah, it does check quite a bit,\nthat is true.\n\n424\n00:17:50.295 --> 00:17:54.860\nSo now, what we've got,\nif I go back to my little diagram here.\n\n425\n00:17:54.860 --> 00:17:56.640\nLet me see if I can draw now.\n\n426\n00:17:56.640 --> 00:17:57.760\n>> No.\n>> Come on.\n\n427\n00:17:57.760 --> 00:17:59.800\nI've done something to my drawing tool.\n\n428\n00:17:59.800 --> 00:18:02.740\nI probably need to upgrade\nto drawing tool 2.0.\n\n429\n00:18:02.740 --> 00:18:06.300\n>> Am I gonna be able to make it a whole\nepisode without seeing you draw?\n\n430\n00:18:06.300 --> 00:18:08.190\n>> It's probably a Java exploit.\n\n431\n00:18:08.190 --> 00:18:10.670\nAll right, well,\n\n432\n00:18:10.670 --> 00:18:16.310\nwhat we just did is we turned on\nthe routing function for my edge server.\n\n433\n00:18:16.310 --> 00:18:21.340\nAnd what that says is if traffic from this\nmobile device comes to the edge server,\n\n434\n00:18:21.340 --> 00:18:23.530\nand it's destined for the 10.10 network?\n\n435\n00:18:23.530 --> 00:18:27.660\nThe edge server will route it from this\ninterface Down to this interface and\n\n436\n00:18:27.660 --> 00:18:28.900\nacross right.\n\n437\n00:18:28.900 --> 00:18:29.750\nAnd visa versa.\n\n438\n00:18:29.750 --> 00:18:32.970\nIf my dc sends traffic to the edge server\n\n439\n00:18:32.970 --> 00:18:37.260\nthen it will route it to this interface\nand send it across so there's not\n\n440\n00:18:37.260 --> 00:18:41.810\nreally much configuration needed to get\nthe server acting just as a router.\n\n441\n00:18:41.810 --> 00:18:43.140\nBut we'll see if it works.\n\n442\n00:18:43.140 --> 00:18:45.420\nThat's always nice,\nto see if this stuff actually works.\n\n443\n00:18:45.420 --> 00:18:47.680\n>> [LAUGH]\n>> Now there are a number of problems that\n\n444\n00:18:47.680 --> 00:18:51.380\ncould creep up, most of which are going\nto center around the Windows Firewall.\n\n445\n00:18:51.380 --> 00:18:53.170\n>> Right.\n>> We've turned on routing, but\n\n446\n00:18:53.170 --> 00:18:55.200\nthe Windows Firewall is still active.\n\n447\n00:18:55.200 --> 00:18:57.620\nOr I didn't check that server,\nit might not be active.\n\n448\n00:18:57.620 --> 00:19:01.022\n>> One would assume, but\nyou know what that spells.\n\n449\n00:19:01.022 --> 00:19:03.890\n>> [LAUGH] So yeah, we'll test it out.\n\n450\n00:19:03.890 --> 00:19:07.280\nIf it's not working, the firewall is\nalways one of the first things I go to.\n\n451\n00:19:07.280 --> 00:19:10.180\nSo I'm going to jump over\nto this mobile device, and\n\n452\n00:19:10.180 --> 00:19:12.520\nwe'll just see what kind of access it has.\n\n453\n00:19:14.552 --> 00:19:19.660\nAll right, so if I jump over to that guy,\nand let me fire up a command prompt.\n\n454\n00:19:19.660 --> 00:19:21.380\nAnd we'll just get to\na slightly bigger font.\n\n455\n00:19:23.320 --> 00:19:24.950\nSo that we can actually see it.\n\n456\n00:19:24.950 --> 00:19:25.450\n>> It helps.\n\n457\n00:19:28.210 --> 00:19:30.010\nNow do we need to configure any,\nI haven't seen.\n\n458\n00:19:30.010 --> 00:19:32.853\nHave we done a TCP/IP or\nIPCONFIG on this guy?\n\n459\n00:19:32.853 --> 00:19:34.420\n>> No [LAUGH].\n\n460\n00:19:34.420 --> 00:19:37.567\n>> Do we need to configure this gateway,\nor is it already set to the router?\n\n461\n00:19:37.567 --> 00:19:38.274\n>> Good point.\n\n462\n00:19:38.274 --> 00:19:42.510\nSo, this mobile device has\nan IP of 131.107.0.50,\n\n463\n00:19:42.510 --> 00:19:46.390\nand its default gateway is 131.107.0.100.\n\n464\n00:19:46.390 --> 00:19:53.540\nNow, I don't know what that host is, the\nedge server that we have is actually .1.\n\n465\n00:19:53.540 --> 00:19:56.940\nSo, we're not sending our traffic\nover to that edge server, so\n\n466\n00:19:56.940 --> 00:20:00.790\nI do need to change my default gateway\nto point it in the right direction.\n\n467\n00:20:00.790 --> 00:20:04.410\nNow in real life land, you know actually\nit doesn't really matter here does it.\n\n468\n00:20:04.410 --> 00:20:05.280\nWell it does, it does matter.\n\n469\n00:20:05.280 --> 00:20:09.330\nAll right so I'm gonna change that to\nmake it point over to the edge server.\n\n470\n00:20:09.330 --> 00:20:10.150\nSo we'll do that,\n\n471\n00:20:10.150 --> 00:20:13.830\nin real life land your default gateway\nwould be your service provider.\n\n472\n00:20:13.830 --> 00:20:15.350\n>> And\nwe were talking earlier before the show,\n\n473\n00:20:15.350 --> 00:20:18.610\nwe could add a static\nroute to that client.\n\n474\n00:20:18.610 --> 00:20:22.680\nSo he knows anything to go in to the ten\ndot network is going to have to go through\n\n475\n00:20:22.680 --> 00:20:23.750\nat 13110701.\n\n476\n00:20:23.750 --> 00:20:26.140\nYeah absolutely, absolutely.\n\n477\n00:20:26.140 --> 00:20:28.430\nSo let's just go through here and\nI'm gonna change.\n\n478\n00:20:28.430 --> 00:20:31.990\nApparently I'm getting a DHCP address,\nso that's fun.\n\n479\n00:20:31.990 --> 00:20:36.540\nSo I'll just go ahead and\nstatically assign this one.\n\n480\n00:20:36.540 --> 00:20:38.119\nIt was 131.107.0.50 is what it was.\n\n481\n00:20:40.150 --> 00:20:44.100\nAnd I'll make the assumption that\nwas actually a class c, who knows.\n\n482\n00:20:45.340 --> 00:20:48.370\nAnd, I have no idea what it's\nDNS server was either so\n\n483\n00:20:48.370 --> 00:20:49.690\nwe'll put something fake in there.\n\n484\n00:20:49.690 --> 00:20:51.362\n>> It would be DC1 I would assume.\n\n485\n00:20:51.362 --> 00:20:53.890\nWhich was ten, ten, zero.\n\n486\n00:20:53.890 --> 00:20:54.590\n>> Yeah, we could do that.\n\n487\n00:20:54.590 --> 00:20:56.470\n>> Two maybe.\n>> Since we are routing now.\n\n488\n00:20:56.470 --> 00:20:56.990\n>> Well, yeah.\n\n489\n00:20:56.990 --> 00:20:58.030\n>> Why not right?\n\n490\n00:20:58.030 --> 00:21:02.635\nSo we could put in somebody internal.\n\n491\n00:21:02.635 --> 00:21:06.020\n10.10., what was it, 10.10.0.18.\n\n492\n00:21:06.020 --> 00:21:08.265\nNo, 0.2, you were right.\n\n493\n00:21:08.265 --> 00:21:12.090\n[LAUGH] I'll put in one of Google's DNS\nservers just to be on the safe side in\n\n494\n00:21:12.090 --> 00:21:13.250\ncase ours is down we can.\n\n495\n00:21:13.250 --> 00:21:16.970\n>> If the routing fails we're not going\nto have any DNS resolution if we.\n\n496\n00:21:16.970 --> 00:21:18.570\n>> Well, that's true.\n\n497\n00:21:18.570 --> 00:21:19.860\nAll right, so there we go.\n\n498\n00:21:19.860 --> 00:21:22.670\nNow I've set this mobile device to say,\nhey,\n\n499\n00:21:22.670 --> 00:21:26.880\nany traffic you generate send it\nover to the edge server, you know,\n\n500\n00:21:26.880 --> 00:21:30.060\nsend it over to that router to be routed,\nhopefully, to the other network.\n\n501\n00:21:30.060 --> 00:21:30.790\nAll right.\n\n502\n00:21:30.790 --> 00:21:33.430\nAnd in theory I should be\nable to ping over to that DC.\n\n503\n00:21:33.430 --> 00:21:37.300\nNow, I don't really know if the DC is\nset to ping back to the edge server.\n\n504\n00:21:37.300 --> 00:21:39.160\n>> Right.\n>> So I'm gonna go step by step,\n\n505\n00:21:39.160 --> 00:21:42.150\nthis is one of things that we do in\nthe networking world all the time,\n\n506\n00:21:42.150 --> 00:21:45.860\nis you start from your Edge device and\nyou ping from the inside out,\n\n507\n00:21:45.860 --> 00:21:47.700\nyou ping from close to you and\nthen further.\n\n508\n00:21:47.700 --> 00:21:52.330\nSo I'll see if I can ping the router,\nthe interface close to me,\n\n509\n00:21:52.330 --> 00:21:55.620\nthen I'll see if I can ping the router\non the interface away from me.\n\n510\n00:21:55.620 --> 00:21:58.920\nAnd then I'll try to go all the way out\nand see if I can ping over to the DC, so\n\n511\n00:21:58.920 --> 00:22:00.770\njust kinda stepping out.\n\n512\n00:22:00.770 --> 00:22:02.160\n>> A good trouble shooting model,\n\n513\n00:22:02.160 --> 00:22:05.090\ntry to work your way out try to figure\nout where the problem might lie.\n\n514\n00:22:06.350 --> 00:22:09.410\n>> So here's me pinging the outside\ninterface of that router.\n\n515\n00:22:09.410 --> 00:22:10.930\nThat's on the same network as me, so\n\n516\n00:22:10.930 --> 00:22:13.310\nif I couldn't ping that then I've\ngot bigger problems to deal with.\n\n517\n00:22:14.560 --> 00:22:16.065\nNow.\n>> Who cut my cable?\n\n518\n00:22:16.065 --> 00:22:20.130\n>> [LAUGH] Now I'll try and\nping the inside interface of that router,\n\n519\n00:22:20.130 --> 00:22:20.650\nwhich was 10.10.0.14.\n\n520\n00:22:20.650 --> 00:22:24.550\nIf I can ping that,\n\n521\n00:22:24.550 --> 00:22:30.120\nI'm hitting the outside interface, and I'm\ngetting routed to the inside interface.\n\n522\n00:22:30.120 --> 00:22:32.400\nAnd now we can go the whole way,\nand try and\n\n523\n00:22:32.400 --> 00:22:35.780\nping all the way over to the DC,\n10.10.0.2.\n\n524\n00:22:35.780 --> 00:22:39.860\nIf I can't ping that,\nI won't be too surprised.\n\n525\n00:22:39.860 --> 00:22:42.920\n>> Yeah, cuz that really could be a\nfirewall in the domain controller, right?\n\n526\n00:22:42.920 --> 00:22:44.860\nNot responding to pings, or.\n\n527\n00:22:44.860 --> 00:22:47.690\n>> Yep.\nIt could also be that that DC has\n\n528\n00:22:47.690 --> 00:22:48.670\na different default gateway.\n\n529\n00:22:48.670 --> 00:22:50.640\nI don't really know who it's using for\na default gateway.\n\n530\n00:22:50.640 --> 00:22:52.510\nSo let's jump over and check that out.\n\n531\n00:22:52.510 --> 00:22:55.530\n>> There's no return route for\nour ping packet replies.\n\n532\n00:22:55.530 --> 00:23:00.112\n>> And I'm thinking, if I were a betting\nman, that would be my culprit, so.\n\n533\n00:23:00.112 --> 00:23:01.687\nUh-oh.\n\n534\n00:23:03.115 --> 00:23:04.990\nWait.\nSo, it expects me to know the password?\n\n535\n00:23:04.990 --> 00:23:06.111\n>> Yeah.\n[LAUGH] >> What kind of system is this?\n\n536\n00:23:06.111 --> 00:23:07.400\n>> [LAUGH]\n>> There we go.\n\n537\n00:23:08.840 --> 00:23:10.040\nAll right.\nSo let's go in here and\n\n538\n00:23:10.040 --> 00:23:15.880\ncheck the old DC and convenient,\nit's got two network adapters.\n\n539\n00:23:15.880 --> 00:23:16.570\n>> Nice.\n\n540\n00:23:16.570 --> 00:23:18.720\n>> So let's see what we've got here.\n\n541\n00:23:18.720 --> 00:23:21.963\nSo taking a look at this guy,\nit is 10.10.0.2 and\n\n542\n00:23:21.963 --> 00:23:26.380\nit has no, it's set up for DNS,\nit has no default gateway.\n\n543\n00:23:26.380 --> 00:23:29.910\nSo having no default gateway, it doesn't\nknow the return path to get back to me.\n\n544\n00:23:29.910 --> 00:23:34.193\nSo I'm just going to point the router,\nand the router was 10.10.0.14.\n\n545\n00:23:36.945 --> 00:23:38.850\nAnd so we'll put that in.\n\n546\n00:23:38.850 --> 00:23:42.140\nAnd so now, I should know how\nto get back to the other guys.\n\n547\n00:23:42.140 --> 00:23:47.330\nSo, odds are that my pings were\ngoing from the mobile device,\n\n548\n00:23:47.330 --> 00:23:50.220\nthrough the router to the DC\n>> They were probably making it\n\n549\n00:23:50.220 --> 00:23:51.200\nall the way there\n>> And\n\n550\n00:23:51.200 --> 00:23:53.150\nthe DC just didn't know how to get back.\n\n551\n00:23:53.150 --> 00:23:54.076\nThat's my guess.\nWe'll find out.\n\n552\n00:23:54.076 --> 00:23:58.958\nSo, we'll just retry that ping.\n\n553\n00:24:01.678 --> 00:24:02.375\nIt's not looking good, is it?\n\n554\n00:24:02.375 --> 00:24:06.373\n>> [LAUGH]\n>> So, now,\n\n555\n00:24:06.373 --> 00:24:11.130\nwe start to say, all right, is it the\nfirewall blocking pings on the other side.\n\n556\n00:24:11.130 --> 00:24:15.290\nSo, could I have actually pinged that\nsystem in the first place, and who knows?\n\n557\n00:24:15.290 --> 00:24:17.710\nSo, if I jump to the edge server.\n\n558\n00:24:17.710 --> 00:24:19.530\nSo this is that router.\n\n559\n00:24:19.530 --> 00:24:22.110\nCan the router even ping that host?\n\n560\n00:24:22.110 --> 00:24:26.970\n>> Well one of his network adaptors is on\nthe same network as the dc so should be\n\n561\n00:24:26.970 --> 00:24:30.440\nable to if he can't then we can kind of\nassume it probably is a firewall rule.\n\n562\n00:24:30.440 --> 00:24:32.870\n>> Yeah that would be my assumption.\n\n563\n00:24:32.870 --> 00:24:34.074\nNo he can ping it though.\n\n564\n00:24:34.074 --> 00:24:36.650\n10.10.0.2 that is right.\n\n565\n00:24:36.650 --> 00:24:40.760\nSo the other thing is on that\ndc there were two network cards.\n\n566\n00:24:40.760 --> 00:24:41.500\nRight.\n\n567\n00:24:41.500 --> 00:24:45.680\nAnd Windows does not like it when\nyou have multiple default gateways.\n\n568\n00:24:45.680 --> 00:24:47.440\nSo I might be going the wrong way.\n\n569\n00:24:47.440 --> 00:24:49.630\nAnd we can use something like\ntrace route to find that out.\n\n570\n00:24:49.630 --> 00:24:51.620\nYou know see what we we're going to.\n\n571\n00:24:51.620 --> 00:24:53.220\nTry and get to that other host.\n\n572\n00:24:53.220 --> 00:24:58.213\nSo, if I go in here and change my\nfont to make it where we can read it.\n\n573\n00:25:01.463 --> 00:25:02.470\nAll right.\n\n574\n00:25:02.470 --> 00:25:03.670\nWe can do a trace route.\n\n575\n00:25:03.670 --> 00:25:07.240\nAnd we can say all right,\nwhen we go to this\n\n576\n00:25:09.290 --> 00:25:12.080\nPC or host or whatever the top\nthere on the network which was .50.\n\n577\n00:25:12.080 --> 00:25:12.580\nThere.\n\n578\n00:25:13.690 --> 00:25:14.530\nWhat way are we going?\n\n579\n00:25:14.530 --> 00:25:15.800\nWho are we going through?\n\n580\n00:25:15.800 --> 00:25:18.550\nI should see it go to the edge router.\n\n581\n00:25:18.550 --> 00:25:25.020\nIt should jump over to 10.10.0.14 or\nthe other IP for it.\n\n582\n00:25:25.020 --> 00:25:27.420\nAnd so we'll see if it makes that jump.\n\n583\n00:25:27.420 --> 00:25:29.790\nIf it doesn't it might be going.\n\n584\n00:25:29.790 --> 00:25:30.380\nThere we go.\n\n585\n00:25:30.380 --> 00:25:32.020\nTo a different default gateway.\n\n586\n00:25:32.020 --> 00:25:32.575\n>> Yeah, sure enough.\n\n587\n00:25:32.575 --> 00:25:33.963\n>> 172.18.0.1.\n\n588\n00:25:33.963 --> 00:25:35.488\nSo I'm\n>> Which is probably the default gateway\n\n589\n00:25:35.488 --> 00:25:36.930\non the other network adapter.\n\n590\n00:25:36.930 --> 00:25:38.220\n>> I'm betting.\n\n591\n00:25:38.220 --> 00:25:39.810\nI'm betting that's what's going on.\n\n592\n00:25:39.810 --> 00:25:44.240\nSo then, if that's the case, if we have\na default gateway on this other adapter.\n\n593\n00:25:45.280 --> 00:25:46.020\nIt's set for DHCP.\n\n594\n00:25:46.020 --> 00:25:49.630\nSo we can just look here.\n\n595\n00:25:49.630 --> 00:25:52.182\nYeah.\nIt's got a default gateway on that second\n\n596\n00:25:52.182 --> 00:25:53.240\nadapter.\n\n597\n00:25:53.240 --> 00:25:55.442\nSo we've got two or three choices here.\n\n598\n00:25:55.442 --> 00:25:57.690\nAll right, so\nhow do we want to resolve this?\n\n599\n00:25:57.690 --> 00:26:02.810\nOne, when you have multiple\nnetwork adapters in Windows, and\n\n600\n00:26:02.810 --> 00:26:07.280\neach of them have default gateways,\nyou can change the priority of the network\n\n601\n00:26:07.280 --> 00:26:11.944\nadapters to determine which one's default\ngateway will get used over the other one.\n\n602\n00:26:11.944 --> 00:26:13.250\nThat's one way to do it.\n\n603\n00:26:13.250 --> 00:26:18.230\nAnother option is we could delete the\ndefault gateway off the second adapter,\n\n604\n00:26:18.230 --> 00:26:19.790\nthat works too.\n\n605\n00:26:19.790 --> 00:26:20.920\nOr a third option is,\n\n606\n00:26:20.920 --> 00:26:26.050\nwe could put a static reality in that\noverrides any of the default gateways.\n\n607\n00:26:26.050 --> 00:26:29.740\nSo, deleting the default gateway\nthat's pretty self explanatory right.\n\n608\n00:26:29.740 --> 00:26:32.340\nWe pull out the properties of the network\nadapter and we just clear out the gateway.\n\n609\n00:26:32.340 --> 00:26:35.130\n>> Probably the most\ncommon option you think.\n\n610\n00:26:35.130 --> 00:26:36.150\n>> Probably yeah.\n\n611\n00:26:36.150 --> 00:26:38.330\n>> I mean you don't really see a lot,\nat least I haven't,\n\n612\n00:26:38.330 --> 00:26:41.900\nwhere you've got a machine that has\ntwo different default gateways.\n\n613\n00:26:41.900 --> 00:26:43.400\n>> Yeah two nics that\nhappens all the time but\n\n614\n00:26:43.400 --> 00:26:45.730\ntwo gateways that's pretty uncommon so.\n\n615\n00:26:45.730 --> 00:26:49.200\nIf I wanted to change\nthe priority of the interfaces,\n\n616\n00:26:49.200 --> 00:26:52.520\nif I wanted to make it where the Contosa\nnetwork was preferred over webnet,\n\n617\n00:26:52.520 --> 00:26:56.930\nin the network connections screen,\nthere's actually a hidden menu.\n\n618\n00:26:56.930 --> 00:27:00.730\nI always just do Alt + V to\npull up the menu up here.\n\n619\n00:27:00.730 --> 00:27:06.930\nAnd you can go to advanced,\nadvanced settings, and then this screen,\n\n620\n00:27:06.930 --> 00:27:11.450\nyou can set the preference for the network\nadapter and, it's kind of hard to see, but\n\n621\n00:27:11.450 --> 00:27:16.450\nyou can see where WebNet is above Contoso\nand you have the up down arrow so\n\n622\n00:27:16.450 --> 00:27:20.125\nI can move Contoso above WebNet and\nthat would take care of that.\n\n623\n00:27:20.125 --> 00:27:22.325\nAll right.\nSo there's another option.\n\n624\n00:27:22.325 --> 00:27:27.505\nThe final option is I could\njust do a static route.\n\n625\n00:27:29.245 --> 00:27:34.342\nAnd let me just get an administrative\ncommand prompt open.\n\n626\n00:27:34.342 --> 00:27:39.802\nAnd, basically, what we do is,\nwe say route add and dash p.\n\n627\n00:27:39.802 --> 00:27:42.962\nThat means make it persistent, so\nif I reboot, the route will stay there.\n\n628\n00:27:42.962 --> 00:27:43.960\n>> Right.\n\n629\n00:27:43.960 --> 00:27:49.540\n>> I'm going to say any traffic for\nthe 131.107.0.0 class C, any traffic going\n\n630\n00:27:54.490 --> 00:28:00.002\nto that network, I'm going to send to\n10.10.0.14, to that router we just set up.\n\n631\n00:28:00.002 --> 00:28:02.880\nAll right?\n\n632\n00:28:02.880 --> 00:28:03.630\nBad argument.\n\n633\n00:28:03.630 --> 00:28:07.680\nYou know what, it's not net mask,\nIt's just mask.\n\n634\n00:28:07.680 --> 00:28:08.880\nThere we go.\n\n635\n00:28:08.880 --> 00:28:09.560\n>> Okay.\n\n636\n00:28:09.560 --> 00:28:13.670\n>> Putting that static route in will say I\ndon't care what your default gateways are.\n\n637\n00:28:13.670 --> 00:28:17.262\nIf you've got traffic for\nthat network, send it to that router.\n\n638\n00:28:17.262 --> 00:28:18.740\nAll right.\n\n639\n00:28:18.740 --> 00:28:22.260\nSo, in theory, I should be able\nto ping that workstation now,\n\n640\n00:28:22.260 --> 00:28:24.260\nassuming there isn't something else.\n\n641\n00:28:24.260 --> 00:28:24.960\n>> Right.\n\n642\n00:28:24.960 --> 00:28:26.380\n>> In the way.\n\n643\n00:28:26.380 --> 00:28:29.505\n131.107.0.50 is that correct?\n\n644\n00:28:29.505 --> 00:28:30.838\n>> Mm-hm.\n\n645\n00:28:32.713 --> 00:28:35.478\nWell, and see, that work station\nmight have its firewall on, so\n\n646\n00:28:35.478 --> 00:28:36.650\nlet me go try the other way.\n\n647\n00:28:40.660 --> 00:28:43.750\nYou know, you used to always be able\nto use pings for, and that is the case.\n\n648\n00:28:43.750 --> 00:28:46.160\nThe workstation has it's firewall on,\nbut the DC doesn't.\n\n649\n00:28:46.160 --> 00:28:49.180\nYou used to be able to use ping as\na great troubleshooting tool, but\n\n650\n00:28:49.180 --> 00:28:53.160\nalmost everybody's firewalls these days,\nin Windows, the Windows firewall,\n\n651\n00:28:53.160 --> 00:28:57.750\nin Linux, IP tables, most of them\nblock pings out of the box, and so\n\n652\n00:28:57.750 --> 00:29:00.220\nit makes it hard to use\npings reliably anymore.\n\n653\n00:29:00.220 --> 00:29:03.443\n>> Those bad guys have figured out some\nways to use those pings maliciously, and\n\n654\n00:29:03.443 --> 00:29:05.327\nnow all of a sudden we\nhave to block those, and\n\n655\n00:29:05.327 --> 00:29:08.320\nit really does kill one of our most\nconvenient troubleshooting tools.\n\n656\n00:29:10.070 --> 00:29:10.590\n>> Yep.\n\n657\n00:29:10.590 --> 00:29:13.630\nAt this point, we've got routing working.\n\n658\n00:29:13.630 --> 00:29:16.780\nI'm able to route traffic\nfrom the outside network.\n\n659\n00:29:16.780 --> 00:29:18.350\nIf I can get my diagram here,\n\n660\n00:29:18.350 --> 00:29:21.510\nFrom the internet,\n>> From way out there, I can route that\n\n661\n00:29:21.510 --> 00:29:25.770\ntraffic all the way to the inside and\nback again, and it's working great.\n\n662\n00:29:25.770 --> 00:29:28.660\nBut you guys saw what I had to do,\noverriding the default gateway and\n\n663\n00:29:28.660 --> 00:29:29.470\nstuff like that.\n\n664\n00:29:29.470 --> 00:29:30.710\n>> Right.\n>> Now actually there was\n\n665\n00:29:30.710 --> 00:29:34.910\nanother option we could have done,\n>> We could have used NAT,\n\n666\n00:29:34.910 --> 00:29:38.720\nNetwork Address Translation,\nto translate it so that the mobile device\n\n667\n00:29:38.720 --> 00:29:41.970\nlooked like an internal device\nwhen it came in, or vice versa.\n\n668\n00:29:41.970 --> 00:29:44.510\nAnd we do normally see it when we're\ntalking about connections out to\n\n669\n00:29:44.510 --> 00:29:46.130\nthe internet and stuff like that.\n\n670\n00:29:46.130 --> 00:29:48.990\nSo what we're seeing here,\n\n671\n00:29:48.990 --> 00:29:54.570\nthis is just straight up raw routing\nwith no Network Address Translation.\n\n672\n00:29:54.570 --> 00:29:58.960\nAnd that's normally a problem because\nour dc right now when it goes out to\n\n673\n00:29:58.960 --> 00:30:04.480\nthe internet it's going out with a source\nof 10.10.0.2 which is a private address.\n\n674\n00:30:04.480 --> 00:30:09.050\nAny ISP, any internet service provider\nis required to drop that traffic or\n\n675\n00:30:09.050 --> 00:30:11.220\nthey'll get their bgp pulled.\n\n676\n00:30:11.220 --> 00:30:13.290\nSo they'll get disconnected\nfrom the internet.\n\n677\n00:30:13.290 --> 00:30:16.090\nSo they've got to have that,\nwhere it gets dropped.\n\n678\n00:30:16.090 --> 00:30:19.290\nSo normally we're going\nto translate the DC to\n\n679\n00:30:19.290 --> 00:30:23.080\nsome other address when it goes out\non the Internet to a public address.\n\n680\n00:30:23.080 --> 00:30:23.670\n>> Right.\n>> And so\n\n681\n00:30:23.670 --> 00:30:26.490\nthat's what we'll take a look at next,\nis setting that up, all right?\n\n682\n00:30:26.490 --> 00:30:29.262\nBut looking at the clock it is about\ntime for us to stop and take a break.\n\n683\n00:30:29.262 --> 00:30:29.800\n>> All right.\n\n684\n00:30:29.800 --> 00:30:30.510\n>> So why don't we do that.\n\n685\n00:30:30.510 --> 00:30:34.160\nWhy don't we take a break and\nwhen we get back we'll get to see Nat, and\n\n686\n00:30:34.160 --> 00:30:37.360\nthen after that we'll start to deploy\nVPN and all that other good stuff.\n\n687\n00:30:37.360 --> 00:30:38.720\nSound good, Mike?\n>> Sounds good to me.\n\n688\n00:30:38.720 --> 00:30:40.149\n>> All right.\nSo, ladies and gentlemen, stay tuned.\n\n689\n00:30:40.149 --> 00:30:41.338\nWe'll be back after this.\n\n690\n00:30:41.338 --> 00:30:47.213\n[MUSIC]\n\n691\n00:30:49.046 --> 00:30:51.110\nAll right, welcome back everybody.\n\n692\n00:30:51.110 --> 00:30:55.650\nSo in the last segment we enabled\nrouting on that edge server right?\n\n693\n00:30:55.650 --> 00:30:56.300\n>> Right.\n>> So it's now\n\n694\n00:30:56.300 --> 00:30:57.770\nfully functional as a router.\n\n695\n00:30:57.770 --> 00:31:00.510\nAnd the last thing I was talking\nabout was how we're technically\n\n696\n00:31:00.510 --> 00:31:05.020\ngoing out to the internet with\na private IP which is not allowed\n\n697\n00:31:05.020 --> 00:31:05.570\n>> Yeah, that's a no no.\n\n698\n00:31:05.570 --> 00:31:08.480\n>> Okay.\nSo that's a problem, and I say that, but\n\n699\n00:31:08.480 --> 00:31:10.260\nhow do we really know it's happening.\n\n700\n00:31:10.260 --> 00:31:12.130\nAll right.\nLet me show you.\n\n701\n00:31:12.130 --> 00:31:16.420\nDuring the break, I went ahead and\ninstalled a little telnet server\n\n702\n00:31:16.420 --> 00:31:20.050\non the workstation that's out\nthere on our fake internet.\n\n703\n00:31:20.050 --> 00:31:21.910\nLet me get back to my diagram.\n\n704\n00:31:21.910 --> 00:31:26.720\nSo I installed a little telnet server\nhere on my workstation on the outside.\n\n705\n00:31:26.720 --> 00:31:31.710\nFrom the domain controller down here, I'm\ngoing to telnet into that mobile machine.\n\n706\n00:31:31.710 --> 00:31:37.170\nI'm going to telnet through the router,\non over to that mobile station there.\n\n707\n00:31:37.170 --> 00:31:37.867\nThat's my plan, all right.\n\n708\n00:31:37.867 --> 00:31:42.489\nSo when that happens, my traffic,\nby the time it makes it to that PC,\n\n709\n00:31:42.489 --> 00:31:47.385\nwill still have a source of 10.10.0.2 and\nthat's my problem.\n\n710\n00:31:47.385 --> 00:31:49.917\nLet's verify the problem actually exists.\n\n711\n00:31:49.917 --> 00:31:52.186\nOn the DC.\n\n712\n00:31:52.186 --> 00:31:56.909\nI'm just going to open\nup a command prompt, and\n\n713\n00:31:56.909 --> 00:32:01.289\nI'm gonna Telnet out to that workstation.\n\n714\n00:32:01.289 --> 00:32:05.692\nAlright, and when I connect it's just\ngoing to say alright, you're connecting,\n\n715\n00:32:05.692 --> 00:32:07.440\nprovide username and password.\n\n716\n00:32:07.440 --> 00:32:09.218\n>> This is a great, secure protocol,\nuse it all the time.\n\n717\n00:32:09.218 --> 00:32:10.300\n>> [LAUGH]\n>> Go ahead.\n\n718\n00:32:10.300 --> 00:32:14.618\n>> Yeah, I've picked just something\nlame and easy, but extremely insecure.\n\n719\n00:32:14.618 --> 00:32:15.210\n>> Quick and easy.\n\n720\n00:32:15.210 --> 00:32:19.240\n>> So I'll jump out to that mobile device,\nthat PC on the outside network.\n\n721\n00:32:19.240 --> 00:32:21.490\nAnd I'm just gonna do a netstat -an.\n\n722\n00:32:21.490 --> 00:32:24.700\nAnd, well that's kind of\na little bit of information.\n\n723\n00:32:24.700 --> 00:32:25.400\nLet me filter that.\n\n724\n00:32:25.400 --> 00:32:27.730\nSo I'm gonna use the find command.\n\n725\n00:32:27.730 --> 00:32:30.500\n>> So netstat's showing us\nall the connections and\n\n726\n00:32:30.500 --> 00:32:32.510\nall the ports we're listening\non on that client, and\n\n727\n00:32:32.510 --> 00:32:35.500\nwe should see that telnet connection\nthat was established there.\n\n728\n00:32:35.500 --> 00:32:39.110\n>> Telnet uses TCP port 23, so\nI'm going to filter by colon 23.\n\n729\n00:32:39.110 --> 00:32:43.320\nThat's only going to show me\nTelnet related communications.\n\n730\n00:32:43.320 --> 00:32:47.655\nAnd so I can see I've got a Telnet\nsession open where I'm the server,\n\n731\n00:32:47.655 --> 00:32:52.180\n131.107.0.50 port 23 that's me,\nI'm the server.\n\n732\n00:32:52.180 --> 00:32:57.086\nAnd the remote client is 10.10.0.2:59137.\n\n733\n00:32:57.086 --> 00:33:00.741\n10.10.0.2, that's the DC and\n>> That's that private address.\n\n734\n00:33:00.741 --> 00:33:04.280\n>> 59137 is the random source point\nthat it generated when it connected.\n\n735\n00:33:04.280 --> 00:33:08.770\nThat'll be between,\nusually between 1,025 and 65,535.\n\n736\n00:33:08.770 --> 00:33:12.505\nA lot of random numbers we memorized.\n\n737\n00:33:12.505 --> 00:33:13.017\n[LAUGH]\n>> [LAUGH]\n\n738\n00:33:13.017 --> 00:33:13.529\n>> [LAUGH]\n\n739\n00:33:13.529 --> 00:33:14.799\n>> So anyhow.\n\n740\n00:33:14.799 --> 00:33:16.103\nSo that's what's happening.\n\n741\n00:33:16.103 --> 00:33:17.653\nI can see clear as day right here,\n\n742\n00:33:17.653 --> 00:33:20.506\n10, 10, 0, 2.\nThat communication works in our lab,\n\n743\n00:33:20.506 --> 00:33:22.010\nworks in lab just fine,\n\n744\n00:33:22.010 --> 00:33:22.725\n>> Right.\nYeah.\n\n745\n00:33:22.725 --> 00:33:25.145\n>> Won't work in real life land because\n\n746\n00:33:25.145 --> 00:33:29.910\nyour ISP is required to drop Private IPs.\nAnd you've gotta do it.\n\n747\n00:33:29.910 --> 00:33:34.660\nSo, this is our lead-in to the next\ntechnology we're going to talk about and\n\n748\n00:33:34.660 --> 00:33:39.170\nthe next technology is NAT,\nnetwork access translation, and\n\n749\n00:33:39.170 --> 00:33:44.130\nwith NAT,\nwhat you can do is you can change the IP\n\n750\n00:33:44.130 --> 00:33:48.710\naddress that a machine is using\nwhen it passes through the network.\n\n751\n00:33:48.710 --> 00:33:54.280\nI'm just unsure why it's trying\nto shrink up my diagram,\n\n752\n00:33:54.280 --> 00:33:56.140\nbut whatever, I'll run with it like this.\n\n753\n00:33:56.140 --> 00:33:58.690\n>> Okay.\n>> So that when that communication passes\n\n754\n00:33:58.690 --> 00:34:01.610\nthrough the router on its way out\n>> Mm-hm.\n\n755\n00:34:01.610 --> 00:34:06.190\n>> We can tell it hey, when it comes in\nthis interface, sure we're gonna have\n\n756\n00:34:06.190 --> 00:34:11.300\na source of 10.10.0.2, but\nlet's modify the packet in transit.\n\n757\n00:34:11.300 --> 00:34:16.150\nAs the packet passes through\nthe router let's change it so\n\n758\n00:34:16.150 --> 00:34:21.600\nthat on this other interface it now\nhas a source of something different.\n\n759\n00:34:21.600 --> 00:34:23.100\nOkay?\n>> Something that's gonna be allowed by\n\n760\n00:34:23.100 --> 00:34:25.090\nthe ISP to travel out\nthere on the internet.\n\n761\n00:34:25.090 --> 00:34:28.728\n>> And this is what all those little home,\nthe Linksys router that almost everybody\n\n762\n00:34:28.728 --> 00:34:32.420\nhas at home or now Asus and the other\ncompanies are making some betters ones.\n\n763\n00:34:32.420 --> 00:34:34.330\nThose little routers you have at\nhome that's what they're doing.\n\n764\n00:34:34.330 --> 00:34:35.920\n>> Yeah.\n>> They're taking all your machines\n\n765\n00:34:35.920 --> 00:34:40.690\nwith private IPs, and just modifying\nthem typically to one shared address.\n\n766\n00:34:40.690 --> 00:34:44.350\nSo that process is called\nnetwork address translation\n\n767\n00:34:44.350 --> 00:34:46.525\nbecause we're changing\nthe address in transit.\n\n768\n00:34:46.525 --> 00:34:50.180\n>> It's like we're gonna temporarily set\nthat private IP address aside, replace it\n\n769\n00:34:50.180 --> 00:34:53.930\nwith a public address which is gonna allow\nit to go out, allow it to come back.\n\n770\n00:34:53.930 --> 00:34:56.770\nAnd then when it comes back,\nthat net device says, that's that packet\n\n771\n00:34:56.770 --> 00:35:00.110\nthat I sent out earlier,\nI can pull that public IP address off,\n\n772\n00:35:00.110 --> 00:35:03.360\nput the private IP address back on and\nlet it return it back to Mr. DC.\n\n773\n00:35:03.360 --> 00:35:05.150\n>> Yeah.\nSo, we'll go ahead and\n\n774\n00:35:05.150 --> 00:35:08.620\nturn on NAT and we'll tell it,\nhey, when somebody passes through\n\n775\n00:35:08.620 --> 00:35:12.473\nchange their source from that\nprivate address to our public one,\n\n776\n00:35:12.473 --> 00:35:17.630\n131.107.0.1, or some other address if\nyou've got a pool of them you can do that.\n\n777\n00:35:17.630 --> 00:35:20.059\nBut, normally, it's just whatever\nour public interface has.\n\n778\n00:35:20.059 --> 00:35:22.103\nSo we can set that translation up and\n\n779\n00:35:22.103 --> 00:35:25.180\nthis is another function\nthat is built into routing.\n\n780\n00:35:27.470 --> 00:35:31.380\nSo let's jump over and\ntake a look at that.\n\n781\n00:35:31.380 --> 00:35:35.413\nSo I already know, from what I have\nseen here, that it's not working,\n\n782\n00:35:35.413 --> 00:35:39.260\nat least it's not working yet, so\nwere gonna go to the edge server.\n\n783\n00:35:41.200 --> 00:35:45.824\nAnd in the very beginning when we ran\nthrough the wizard we could've chosen at\n\n784\n00:35:45.824 --> 00:35:49.320\nthat time to turn on NAT\njust using the wizard.\n\n785\n00:35:49.320 --> 00:35:50.100\nBut we didn't.\n\n786\n00:35:50.100 --> 00:35:51.300\nSo we'll have to go the hard way.\n\n787\n00:35:51.300 --> 00:35:54.090\n>> We wanna show you the fun cool way\nyou can do it through the console.\n\n788\n00:35:54.090 --> 00:35:56.520\n>> I say it's the hard way,\nit's really not that bad.\n\n789\n00:35:56.520 --> 00:35:57.860\n>> It's pretty much right-click.\n\n790\n00:35:57.860 --> 00:36:01.120\n>> Yeah you just right-click on general\nand you do new routing protocol.\n\n791\n00:36:01.120 --> 00:36:03.960\nAnd we're going to add NAT\nas a routing protocol.\n\n792\n00:36:05.240 --> 00:36:06.080\nAlright.\n\n793\n00:36:06.080 --> 00:36:06.790\nAnd there it goes.\n\n794\n00:36:06.790 --> 00:36:12.180\nSo now I've got NAT right there and\nthen if I right-click on NAT,\n\n795\n00:36:12.180 --> 00:36:16.520\nyou can add in your interfaces and kind of\ndefine how they're going to function so.\n\n796\n00:36:16.520 --> 00:36:18.630\n>> You got two networks\nadapters in that edge server.\n\n797\n00:36:18.630 --> 00:36:21.550\nDo you need him performing NAT\non both of those interfaces?\n\n798\n00:36:21.550 --> 00:36:24.230\nYou know, the traffic coming in\nwe don't really need to NAT.\n\n799\n00:36:24.230 --> 00:36:26.520\nIt's the traffic going out\nthat we want to translate.\n\n800\n00:36:26.520 --> 00:36:31.400\nSo we can choose which one he's\nactually doing NAT services on.\n\n801\n00:36:31.400 --> 00:36:32.200\n>> Yeah.\nAnd you know,\n\n802\n00:36:32.200 --> 00:36:34.110\nlet me back up a little bit here.\n\n803\n00:36:34.110 --> 00:36:36.650\nWhat I did is I right-clicked on NAT.\n\n804\n00:36:36.650 --> 00:36:39.860\nAnd I have to attach\nan interface to the NAT service.\n\n805\n00:36:39.860 --> 00:36:41.160\nSo I'm gonna do that that.\n\n806\n00:36:41.160 --> 00:36:45.120\nAnd you need to tell it which\ninterface is inside your network and\n\n807\n00:36:45.120 --> 00:36:46.220\nwhich one is outside.\n\n808\n00:36:46.220 --> 00:36:48.880\nAll right, so\nI'm going to pick the Contoso network.\n\n809\n00:36:48.880 --> 00:36:51.170\nThat's what's inside my network.\n\n810\n00:36:51.170 --> 00:36:54.805\nAnd so when I choose that I get this\nscreen right here where it says,\n\n811\n00:36:54.805 --> 00:36:58.500\nis this a private interface or\na public one?\n\n812\n00:36:58.500 --> 00:36:59.660\n>> Pretty straightforward.\n\n813\n00:36:59.660 --> 00:37:00.735\nSo this is my private.\n\n814\n00:37:00.735 --> 00:37:02.110\n>> All right.\n>> So I'll choose that.\n\n815\n00:37:03.380 --> 00:37:07.826\nAnd then I'm gonna redo that, I'll do a\nnew interface and I'll pick my extranet or\n\n816\n00:37:07.826 --> 00:37:09.195\nmy external interface.\n\n817\n00:37:09.195 --> 00:37:10.000\n>> Mm-mm.\n\n818\n00:37:10.000 --> 00:37:13.420\n>> And I'll tell it [COUGH] excuse me,\nthat this one is the public.\n\n819\n00:37:13.420 --> 00:37:16.235\nNow notice that new option\nlights up when I choose public.\n\n820\n00:37:16.235 --> 00:37:17.040\n>> Mm-hm.\n\n821\n00:37:17.040 --> 00:37:19.510\n>> Enable NAT on this interface.\n\n822\n00:37:19.510 --> 00:37:24.770\nClients on this network sending data will\nbe sent through using an internet address.\n\n823\n00:37:24.770 --> 00:37:25.650\nA public address.\n\n824\n00:37:26.830 --> 00:37:28.880\nAll right, so I'm gonna check that off.\n\n825\n00:37:28.880 --> 00:37:29.720\nAll right.\n\n826\n00:37:29.720 --> 00:37:33.830\nAnd then under address pool we can define\n\n827\n00:37:33.830 --> 00:37:36.510\nwhat addresses we've got\navailable on this interface.\n\n828\n00:37:36.510 --> 00:37:38.490\nNow we're just gonna use\nour public address so\n\n829\n00:37:38.490 --> 00:37:41.090\nwe don't actually have to add\nanything in here so we're good to go.\n\n830\n00:37:42.860 --> 00:37:44.283\nAnd we can say okay.\n\n831\n00:37:44.283 --> 00:37:46.830\nAnd now we should be in business.\n\n832\n00:37:46.830 --> 00:37:48.180\nRight, can you think of anything I missed?\n\n833\n00:37:48.180 --> 00:37:49.610\n>> I can't think of anything nope.\n\n834\n00:37:49.610 --> 00:37:52.810\n>> So had we run the wizard, it would\nhave sort of asked us this stuff and\n\n835\n00:37:52.810 --> 00:37:53.780\nknocked it out for us.\n\n836\n00:37:53.780 --> 00:37:56.470\nBut anyhow, we didn't.\n\n837\n00:37:56.470 --> 00:37:58.870\nYou know one other\nscenario you might have,\n\n838\n00:37:58.870 --> 00:38:01.660\nlet me pull up my properties\nunder address pool.\n\n839\n00:38:01.660 --> 00:38:05.120\nNormally we just NAT to whatever\nIP address is attached to\n\n840\n00:38:05.120 --> 00:38:08.440\nthe router itself or\nthe server in this case.\n\n841\n00:38:08.440 --> 00:38:12.860\nBut it's possible that you might have\nspecial IPs that you use for this and so\n\n842\n00:38:12.860 --> 00:38:17.140\nyou could come in here and create this\npool and assign the IPs to you, so\n\n843\n00:38:17.140 --> 00:38:18.366\nmaybe I did have a special one.\n\n844\n00:38:18.366 --> 00:38:22.800\nThis server is 131.107.0.1.\n\n845\n00:38:22.800 --> 00:38:29.810\nMaybe I wanna use 131.107.0.2 for\nmy NAT-ed clients.\n\n846\n00:38:29.810 --> 00:38:31.910\nSo I can put that in here.\n\n847\n00:38:31.910 --> 00:38:32.420\nAnd designate it.\n\n848\n00:38:32.420 --> 00:38:36.800\nNow obviously its important and\nI'm gonna stop that too also.\n\n849\n00:38:36.800 --> 00:38:39.287\nIt's important that you\nactually own these IPs.\n\n850\n00:38:39.287 --> 00:38:39.896\n>> Right.\n>> Right?\n\n851\n00:38:39.896 --> 00:38:41.003\n>> [LAUGH]\n>> These are public\n\n852\n00:38:41.003 --> 00:38:43.150\nregistered IPs usually\nassigned by your ISP.\n\n853\n00:38:43.150 --> 00:38:44.510\nYou can't just make these up.\n\n854\n00:38:44.510 --> 00:38:47.340\n>> I wondered why it didn't\nwork when I did that.\n\n855\n00:38:47.340 --> 00:38:48.875\n>> No one on the internet will trust you.\n\n856\n00:38:48.875 --> 00:38:54.200\n[LAUGH] So I'll go ahead and\nput that in there.\n\n857\n00:38:54.200 --> 00:38:59.340\nNow as clients start to go out the\nnetwork, they should get translated and\n\n858\n00:38:59.340 --> 00:39:02.460\ncome through with this IP.\n\n859\n00:39:02.460 --> 00:39:05.950\nSo I can test that out, not from this box.\n\n860\n00:39:05.950 --> 00:39:07.720\nThis is the router so\nit won't work from here.\n\n861\n00:39:07.720 --> 00:39:09.470\nI need to jump back to my DC.\n\n862\n00:39:09.470 --> 00:39:11.030\n>> We still have that open?\n\n863\n00:39:11.030 --> 00:39:12.930\nWe lost it, okay.\n\n864\n00:39:12.930 --> 00:39:14.810\n>> So I'm just going to test\nto make sure I can ping.\n\n865\n00:39:14.810 --> 00:39:18.640\nSo I'm going to try and ping out to that\nworkstation, and see what happens there.\n\n866\n00:39:19.750 --> 00:39:21.520\nAnd, you know I wasn't\nable to ping before.\n\n867\n00:39:21.520 --> 00:39:22.180\nI forgot about that.\n\n868\n00:39:22.180 --> 00:39:23.200\n>> We did it the other way, yep.\n\n869\n00:39:23.200 --> 00:39:25.140\n>> So I'll just go ahead and\ndo my Telnet session.\n\n870\n00:39:26.700 --> 00:39:30.547\nSo here we go, I'm gonna try and\nTelnet out to that workstation.\n\n871\n00:39:30.547 --> 00:39:32.600\nAnd, it's not looking good, is it?\n\n872\n00:39:32.600 --> 00:39:35.100\nSo it should've connected already,\nso I've got an issue.\n\n873\n00:39:35.100 --> 00:39:39.170\nLet's go back and take a look at our\nNAT router which is not this machine.\n\n874\n00:39:41.090 --> 00:39:45.828\nAnd you'll know if NAT is working if,\nwhen you refresh it, you see mappings.\n\n875\n00:39:45.828 --> 00:39:48.408\nAnd actually,\nI do have a NAT mapping right there,\n\n876\n00:39:48.408 --> 00:39:51.353\nI've got a extranet network\nshows a total mapping of one.\n\n877\n00:39:51.353 --> 00:39:53.095\n>> Maybe it's just a little slow?\n\n878\n00:39:53.095 --> 00:39:57.564\nThis could be a matter of Don's patience\nnot being as great, as it should be.\n\n879\n00:39:57.564 --> 00:40:02.082\n>> Did we do the whole 131.107,\n\n880\n00:40:02.082 --> 00:40:05.296\nno, it doesn't matter.\n\n881\n00:40:05.296 --> 00:40:07.588\n>> I think, I just did the 10 dot network-\n>> It doesn't matter.\n\n882\n00:40:07.588 --> 00:40:12.160\n>> Yeah, so,\nlet me start a continual ping and,\n\n883\n00:40:12.160 --> 00:40:15.339\nI can't do a continual telnet.\n\n884\n00:40:15.339 --> 00:40:17.845\n>> [LAUGH]\n>> Let me do a continual ping.\n\n885\n00:40:17.845 --> 00:40:21.346\nAnd I'm just gonna jump over to,\n\n886\n00:40:21.346 --> 00:40:25.310\nmy workstation, and-\n>> Knock out that firewall?\n\n887\n00:40:25.310 --> 00:40:28.512\n>> I think, I might need to remove that\nstatic route, that we put in before.\n\n888\n00:40:28.512 --> 00:40:30.318\nLet's just double check.\n\n889\n00:40:30.318 --> 00:40:35.011\n>> Yeah,\ncause the is going back to [INAUDIBLE]\n\n890\n00:40:35.011 --> 00:40:36.390\n>> I'm just gonna do a route print here,\n\n891\n00:40:36.390 --> 00:40:38.468\nto take a look at that static\nroute that we put in earlier.\n\n892\n00:40:38.468 --> 00:40:40.964\nWe do have a default route in place,\nand that is fine.\n\n893\n00:40:50.288 --> 00:40:54.688\nActually, I don't see a-\n>> I don't see an issue.\n\n894\n00:40:54.688 --> 00:40:57.752\n>> I don't see the persistent route that\nwe put in earlier, so it's, you know what?\n\n895\n00:40:57.752 --> 00:40:59.191\nWe did that on the DC, shoot!\n\n896\n00:40:59.191 --> 00:41:00.190\n>> Yep.\n\n897\n00:41:00.190 --> 00:41:01.873\n>> Yeah, let me go back here.\n\n898\n00:41:01.873 --> 00:41:03.672\nWell, no, actually we still need that,\nthough, don't we?\n\n899\n00:41:03.672 --> 00:41:06.459\nCuz I'm trying to reach out\nto the 131.107 network.\n\n900\n00:41:06.459 --> 00:41:07.689\n>> Yep.\n>> So, we actually do need that here.\n\n901\n00:41:07.689 --> 00:41:08.630\nThat's fine.\n\n902\n00:41:08.630 --> 00:41:11.358\n>> Yeah, that's right, cuz they override\nthe two default gateways, that we had.\n\n903\n00:41:11.358 --> 00:41:14.510\n>> Yeah, and so\nwe're sending that to 10.10.0.14,\n\n904\n00:41:14.510 --> 00:41:17.064\nwhich is our edge server's\ninternal interface.\n\n905\n00:41:17.064 --> 00:41:21.641\nLet me just verify that, that's right,\nbefore I go assuming it's correct.\n\n906\n00:41:21.641 --> 00:41:25.561\nAnd yeah,\n10.10.0.14 is our internal interface.\n\n907\n00:41:25.561 --> 00:41:26.725\nLet's check our public one.\n\n908\n00:41:28.359 --> 00:41:29.564\nIt's not gonna be happy about that.\n\n909\n00:41:29.564 --> 00:41:30.376\nShoot.\n\n910\n00:41:30.376 --> 00:41:34.370\nOur public interface has like,\nthree different IPs attached to it.\n\n911\n00:41:34.370 --> 00:41:35.775\n>> [CROSSTALK]\n>> Let me, zoom in on that.\n\n912\n00:41:35.775 --> 00:41:41.587\nSo, our public interface,\nI've got 131.107.0.1, .100, .101.\n\n913\n00:41:41.587 --> 00:41:43.637\nThere's a couple different\nIPs attached to it,\n\n914\n00:41:43.637 --> 00:41:45.437\nand it's not gonna be pleased about that.\n\n915\n00:41:45.437 --> 00:41:50.321\nSo, our net configuration is gonna\nbe a little walkie, on this one.\n\n916\n00:41:50.321 --> 00:41:52.529\nSo, let's do this, I'm gonna go back here.\n\n917\n00:41:52.529 --> 00:41:54.503\nAnd I'm just gonna remove\nthese connections.\n\n918\n00:41:59.585 --> 00:42:03.431\nAnd, what can happen with routing remote\naccess, actually it happens quite a bit.\n\n919\n00:42:03.431 --> 00:42:08.426\nIs as you start to add features,\nsometimes the features start to conflict.\n\n920\n00:42:08.426 --> 00:42:09.129\n>> Right.\n>> And so,\n\n921\n00:42:09.129 --> 00:42:12.483\nwe're bumping into an issue here,\nwhere I turn on straight routing, and\n\n922\n00:42:12.483 --> 00:42:14.282\nthat one interface is more than one IP.\n\n923\n00:42:14.282 --> 00:42:16.482\nAnd now, I'm adding that, and\nit's getting confused, and\n\n924\n00:42:16.482 --> 00:42:17.765\nit's not knowing where to attach.\n\n925\n00:42:17.765 --> 00:42:21.234\nAnd the best way to solve that,\nand this is one of the nicer ones.\n\n926\n00:42:21.234 --> 00:42:23.420\nIt's one of the only Microsoft\nutilities that does this.\n\n927\n00:42:23.420 --> 00:42:24.256\n>> Yeah.\n[LAUGH]\n\n928\n00:42:24.256 --> 00:42:26.192\n>> If you right-click on the server, and\n\n929\n00:42:26.192 --> 00:42:30.605\nchoose disable routing, or remote access,\nit will actually flush the configuration.\n\n930\n00:42:30.605 --> 00:42:34.112\n>> [CROSSTALK]\n>> And you can re-run the wizard ensuring\n\n931\n00:42:34.112 --> 00:42:37.308\nthat, It gets everything straight,\nand cleaned up.\n\n932\n00:42:37.308 --> 00:42:40.293\nNormally, when things start to get mixed\nup in the system, you got to manually go,\n\n933\n00:42:40.293 --> 00:42:41.972\nand hunt the settings down,\nand it's a pain.\n\n934\n00:42:41.972 --> 00:42:42.587\n>> It is.\n\n935\n00:42:42.587 --> 00:42:43.725\nThis is very convenient.\n\n936\n00:42:43.725 --> 00:42:47.358\n>> This one will clean itself, and on one\nhand you say boy, that's a great feature,\n\n937\n00:42:47.358 --> 00:42:48.845\nI'm glad they put that in there.\n\n938\n00:42:48.845 --> 00:42:49.749\nBut at the same time,\n\n939\n00:42:49.749 --> 00:42:52.827\nit's probably more indicative of bad\ncoding practices on the backend.\n\n940\n00:42:52.827 --> 00:42:53.848\n>> [LAUGH] Yeah, right?\n\n941\n00:42:53.848 --> 00:42:56.110\n>> We know this is gonna turn\nto crap after a little while.\n\n942\n00:42:56.110 --> 00:42:57.505\nSo, let's give them a way,\nto clean that up.\n\n943\n00:42:57.505 --> 00:43:00.621\n>> Not to mention that you get an admin\nthat's not familiar with what he's doing,\n\n944\n00:43:00.621 --> 00:43:03.890\nand he's thinking, I'm just gonna\ntemporarily disable routing remote access.\n\n945\n00:43:03.890 --> 00:43:05.925\nSo I'm just gonna go in there and disable-\n>> [LAUGH] [CROSSTALK]\n\n946\n00:43:05.925 --> 00:43:07.316\n>> And it does pop up a warning that says,\n\n947\n00:43:07.316 --> 00:43:09.151\nlook you're gonna lose\nall your configuration.\n\n948\n00:43:09.151 --> 00:43:11.427\n>> [LAUGH]\n>> We can just turn it back on.\n\n949\n00:43:11.427 --> 00:43:13.691\nNo, you're starting from scratch.\n\n950\n00:43:13.691 --> 00:43:14.249\n>> All right.\n\n951\n00:43:14.249 --> 00:43:15.909\nSo, I'm gonna re-run it here.\n\n952\n00:43:15.909 --> 00:43:18.216\nAnd we didn't have much\nof a configuration.\n\n953\n00:43:18.216 --> 00:43:19.725\n>> Yeah.\n>> So, we just turned on routing.\n\n954\n00:43:19.725 --> 00:43:22.229\nBut this time, I can come in here,\nand I can say, all right,\n\n955\n00:43:22.229 --> 00:43:23.862\nI'm gonna choose that second option.\n\n956\n00:43:23.862 --> 00:43:25.576\nI wanna do network address translation.\n\n957\n00:43:25.576 --> 00:43:28.119\nNow, it doesn't really\nmention routing there.\n\n958\n00:43:28.119 --> 00:43:29.915\n>> Right.\n>> But that's what it's doing,\n\n959\n00:43:29.915 --> 00:43:30.854\nrouting with NAT.\n\n960\n00:43:30.854 --> 00:43:31.863\n>> It's kind of inferred, right?\n\n961\n00:43:31.863 --> 00:43:35.769\nI wouldn't need to translate it, if I\nwasn't routing that packet to a public\n\n962\n00:43:35.769 --> 00:43:38.545\nnetwork, and\ntrying to hide that private IP address.\n\n963\n00:43:38.545 --> 00:43:41.827\n>> All right, just like the screen I\nshowed you a moment ago, here it's saying,\n\n964\n00:43:41.827 --> 00:43:43.488\nwhich one is the Internet connection.\n\n965\n00:43:43.488 --> 00:43:46.260\nIt doesn't know for certain,\nwhich one is the Internet.\n\n966\n00:43:46.260 --> 00:43:48.532\nSo, it's asking me to pick, and\nso i'm gonna pick that one,\n\n967\n00:43:48.532 --> 00:43:49.596\nthat's labeled Extranet.\n\n968\n00:43:49.596 --> 00:43:51.163\nThat's the one that has\nthe 131- [CROSSTALK]\n\n969\n00:43:51.163 --> 00:43:51.921\n>> And we notice that,\n\n970\n00:43:51.921 --> 00:43:54.112\nit knows about all three of\nthose different IP addresses.\n\n971\n00:43:54.112 --> 00:43:56.283\nYou look at that last column- [CROSSTALK]\n>> Yeah, they're in there, okay.\n\n972\n00:43:56.283 --> 00:43:57.224\n>> [INAUDIBLE] see that.\n\n973\n00:43:57.224 --> 00:43:58.964\nNow, it's gonna realize.\n\n974\n00:44:00.775 --> 00:44:01.531\n>> All right.\n\n975\n00:44:01.531 --> 00:44:02.923\nAnd then, we'll finish that up.\n\n976\n00:44:04.842 --> 00:44:06.535\nAnd we'll give that, just a moment.\n\n977\n00:44:06.535 --> 00:44:08.590\nAnd then, it will be happy, in theory.\n\n978\n00:44:08.590 --> 00:44:09.193\n>> In theory.\n\n979\n00:44:09.193 --> 00:44:11.093\n>> [LAUGH]\n>> [LAUGH] All right, so\n\n980\n00:44:11.093 --> 00:44:14.098\nwe'll give that just a moment,\nand there we go.\n\n981\n00:44:14.098 --> 00:44:17.046\nAnd when I go under IPv4,\nI can see, I've already got NAT.\n\n982\n00:44:17.046 --> 00:44:17.941\nAnd it's added.\n\n983\n00:44:17.941 --> 00:44:19.593\nIt went ahead and\nadded the internal interface too.\n\n984\n00:44:19.593 --> 00:44:21.887\nIt's got the extra interfaces.\n\n985\n00:44:21.887 --> 00:44:23.001\nSo, it's got them in there.\n\n986\n00:44:23.001 --> 00:44:26.645\nWe should be good to go, and\nwe'll just test them out.\n\n987\n00:44:26.645 --> 00:44:27.300\n>> We'll try it one more time.\n\n988\n00:44:27.300 --> 00:44:29.505\nSo, back over to DC,\nfire up a little Telnet.\n\n989\n00:44:29.505 --> 00:44:30.693\n>> And I'll just start with a ping,\n\n990\n00:44:30.693 --> 00:44:32.781\nsince ping is where we're\nactually failing a minute ago.\n\n991\n00:44:32.781 --> 00:44:35.114\n>> All right.\n>> And I am now able to ping.\n\n992\n00:44:35.114 --> 00:44:36.542\n>> Okay.\n\n993\n00:44:36.542 --> 00:44:40.833\n>> And, pings are not a good way to test\nNAT, cuz I can't jump over to the other\n\n994\n00:44:40.833 --> 00:44:44.121\nside, and see if there's\na session with a different IP.\n\n995\n00:44:44.121 --> 00:44:47.081\n>> All right.\n>> Well, ping is a session-less protocol.\n\n996\n00:44:47.081 --> 00:44:49.748\n>> [CROSSTALK]\n>> So that's why I installed Telnet,\n\n997\n00:44:49.748 --> 00:44:52.436\nbecause I knew it would open a session,\nand hold it open,\n\n998\n00:44:52.436 --> 00:44:54.068\nwhich would give me time to see it.\n\n999\n00:44:54.068 --> 00:44:54.603\n>> Nice.\n\n1000\n00:44:54.603 --> 00:44:56.971\n>> So, I'm gonna do-\n>> There's that persistent Telnet.\n\n1001\n00:44:56.971 --> 00:44:59.607\n[LAUGH]\n>> [LAUGH] You just can't trust\n\n1002\n00:44:59.607 --> 00:45:00.338\nme, can you?\n\n1003\n00:45:00.338 --> 00:45:01.371\n>> [LAUGH]\n>> All right.\n\n1004\n00:45:01.371 --> 00:45:03.110\nSo, I'm gonna go ahead, and\n\n1005\n00:45:03.110 --> 00:45:06.322\nopen up another Telnet session\nover to the other side.\n\n1006\n00:45:06.322 --> 00:45:07.833\nTelnet seems to be kind of sitting there.\n\n1007\n00:45:07.833 --> 00:45:08.919\nI don't know,\nif we're reaching the other side.\n\n1008\n00:45:08.919 --> 00:45:09.894\nLet's double check.\n\n1009\n00:45:09.894 --> 00:45:16.176\nSo, on my router,\nI should be able to see a session in here.\n\n1010\n00:45:16.176 --> 00:45:19.552\nSo, if I refresh this view, here we go.\n\n1011\n00:45:19.552 --> 00:45:21.341\n>> [COUGH] got one-\n>> I can see, I've got one mapping.\n\n1012\n00:45:21.341 --> 00:45:23.234\n>> Right.\n>> So, an internal to an external mapping.\n\n1013\n00:45:23.234 --> 00:45:25.729\nSix packets have been sent.\n\n1014\n00:45:25.729 --> 00:45:27.600\nSo, I did a ping, which was like four.\n\n1015\n00:45:27.600 --> 00:45:28.504\n>> All right.\n\n1016\n00:45:28.504 --> 00:45:30.428\n>> And so [CROSSTALK]\n>> [INAUDIBLE] replies coming back\n\n1017\n00:45:30.428 --> 00:45:31.000\nprobably.\n\n1018\n00:45:31.000 --> 00:45:34.568\n>> But I don't think we're making it to\nthe other side, because, no there it goes.\n\n1019\n00:45:34.568 --> 00:45:36.390\nIt's just going slow.\n\n1020\n00:45:36.390 --> 00:45:43.378\nSo, if I jump over to that mobile machine,\nearlier when I ran that netstat command.\n\n1021\n00:45:43.378 --> 00:45:45.922\nI saw that connection with an internal IP.\n\n1022\n00:45:45.922 --> 00:45:46.560\n>> Right.\n\n1023\n00:45:46.560 --> 00:45:48.755\n>> If I re-run it, look what I've got.\n\n1024\n00:45:48.755 --> 00:45:51.639\n>> [CROSSTALK]\n>> I've got a Telnet connection,\n\n1025\n00:45:51.639 --> 00:45:55.159\nnot from 10.10.0.2 like before.\n\n1026\n00:45:55.159 --> 00:45:58.627\nNow, it's from 131.107.0.1.\n\n1027\n00:45:58.627 --> 00:46:03.948\nI think, that somebody's connecting to\nme with a public IP, and not a private.\n\n1028\n00:46:03.948 --> 00:46:05.130\n>> Yep.\n>> I don't even realize that\n\n1029\n00:46:05.130 --> 00:46:05.980\ntranslation is happening.\n\n1030\n00:46:05.980 --> 00:46:08.569\n>> Yeah, cuz the response level\ngoes back to the 0.1, right?\n\n1031\n00:46:08.569 --> 00:46:10.301\n>> Yeah.\n>> And then, he is responsible for\n\n1032\n00:46:10.301 --> 00:46:12.641\ngetting it back, over the client,\nor to the DC I should say.\n\n1033\n00:46:12.641 --> 00:46:15.694\n>> So, that is what network\naddress translation is all about.\n\n1034\n00:46:15.694 --> 00:46:17.286\nThat's what your home router is doing.\n\n1035\n00:46:17.286 --> 00:46:19.593\n>> Yeah.\n>> That's what large corporations with\n\n1036\n00:46:19.593 --> 00:46:20.611\nthousands of PCs.\n\n1037\n00:46:20.611 --> 00:46:23.797\nIt's what they have to do because there's\nnot enough public IPs to assign them all\n\n1038\n00:46:23.797 --> 00:46:24.778\nto their workstations.\n\n1039\n00:46:24.778 --> 00:46:26.206\n>> Yeah, we can't afford it,\nand we're running out.\n\n1040\n00:46:26.206 --> 00:46:27.739\n>> Yeah, absolutely.\n\n1041\n00:46:27.739 --> 00:46:30.881\nSo, when you deploy routing,\nit's pretty much a given these days.\n\n1042\n00:46:30.881 --> 00:46:32.538\nThat if you're doing routing,\nyou're also doing NAT.\n\n1043\n00:46:32.538 --> 00:46:33.999\n>> Right.\n>> The exception would be,\n\n1044\n00:46:33.999 --> 00:46:35.324\nif it was purely a LAN router.\n\n1045\n00:46:35.324 --> 00:46:37.243\nYep.\n>> If it's routing for internal networks,\n\n1046\n00:46:37.243 --> 00:46:37.913\nand that's it.\n\n1047\n00:46:37.913 --> 00:46:39.004\nThen you wouldn't need NAT.\n\n1048\n00:46:39.004 --> 00:46:41.222\n>> Well,\nwe've already converted over to IPv6.\n\n1049\n00:46:41.222 --> 00:46:42.475\n>> That's true, yeah.\n\n1050\n00:46:42.475 --> 00:46:44.462\n>> Once we get there,\nwe won't have to worry about any of this.\n\n1051\n00:46:44.462 --> 00:46:47.331\n>> Yeah, and on the exam for\nrouting your own access,\n\n1052\n00:46:47.331 --> 00:46:51.288\nthey really just hit on IPv4 for\nthis, but IPv6 support is in there.\n\n1053\n00:46:51.288 --> 00:46:53.425\nIf I go back to that edge server,\n\n1054\n00:46:53.425 --> 00:46:57.871\nyou'll see where I was doing all\nof that inside of this IPv4 tree.\n\n1055\n00:46:57.871 --> 00:46:59.880\nBut there's an IPv6 tree in here also.\n\n1056\n00:46:59.880 --> 00:47:01.563\n>> Yep.\n>> And I've got general, and\n\n1057\n00:47:01.563 --> 00:47:02.425\nstatic routes.\n\n1058\n00:47:02.425 --> 00:47:04.868\nAnd we can do new routing protocol.\n\n1059\n00:47:04.868 --> 00:47:07.503\nAnd you'll see where I've got like,\nDHCP IPv6 relay agents.\n\n1060\n00:47:07.503 --> 00:47:08.038\n>> Right.\n\n1061\n00:47:08.038 --> 00:47:09.430\n>> I don't have NAT.\n\n1062\n00:47:09.430 --> 00:47:10.023\n>> Yeah.\n\n1063\n00:47:10.023 --> 00:47:13.937\n>> And the reason is that,\nIPv6 address pool is so large,\n\n1064\n00:47:13.937 --> 00:47:16.366\nthat you don't need NAT anymore.\n\n1065\n00:47:16.366 --> 00:47:19.066\nBut they actually do have NAT for\nIPv6, but you don't need it so\n\n1066\n00:47:19.066 --> 00:47:20.722\nMicrosoft didn't bother to put it in.\n\n1067\n00:47:20.722 --> 00:47:25.452\n>> Now, you've got 340 possible addresses,\nI think.\n\n1068\n00:47:25.452 --> 00:47:27.483\nSo, we should have enough for\na little while anyway.\n\n1069\n00:47:27.483 --> 00:47:28.145\n>> [LAUGH] It'll last.\n\n1070\n00:47:28.145 --> 00:47:30.037\n>> [LAUGH]\n>> At least a few more months.\n\n1071\n00:47:30.037 --> 00:47:31.582\n>> Yeah.\n>> All right.\n\n1072\n00:47:31.582 --> 00:47:34.589\nSo, that's basically routing, and NAT.\n\n1073\n00:47:34.589 --> 00:47:37.189\nAnd getting a router set up\nreally wasn't a big deal, right?\n\n1074\n00:47:37.189 --> 00:47:38.568\n>> Yep.\n>> All we had to do,\n\n1075\n00:47:38.568 --> 00:47:41.142\nwas add in the routing remote access role.\n\n1076\n00:47:41.142 --> 00:47:44.495\nAnd then, turn on that routing feature,\nby running through a pretty simple wizard.\n\n1077\n00:47:44.495 --> 00:47:45.308\n>> Yeah.\n\n1078\n00:47:45.308 --> 00:47:46.144\nEasy to get.\n\n1079\n00:47:46.144 --> 00:47:46.678\n>> Yep.\n\n1080\n00:47:46.678 --> 00:47:48.782\n>> Few other things we have to worry\nabout, and that's normal networking stuff.\n\n1081\n00:47:48.782 --> 00:47:49.438\nCheck your firewalls.\n\n1082\n00:47:49.438 --> 00:47:52.324\n>> Yeah, each of the issues that\nwe bumped into along that road,\n\n1083\n00:47:52.324 --> 00:47:56.098\nmost of them were centered around the\nactual workstation So making sure they've\n\n1084\n00:47:56.098 --> 00:47:59.371\ngot a proper default gateway to know\nhow to get to the networks, making\n\n1085\n00:47:59.371 --> 00:48:03.344\nsure their firewall's not blocking the\ncommunications, those come into the mix.\n\n1086\n00:48:03.344 --> 00:48:04.050\n>> Right.\n\n1087\n00:48:04.050 --> 00:48:06.850\n>> We didn't really have an issue\nuntil we were trying to tack on NAT\n\n1088\n00:48:06.850 --> 00:48:09.150\non top of the routing manually so.\n\n1089\n00:48:09.150 --> 00:48:12.130\n>> We didn't configure that server didn't\nrealize there were three public addresses\n\n1090\n00:48:12.130 --> 00:48:13.210\nattached to it, so.\n\n1091\n00:48:13.210 --> 00:48:14.190\n>> It's convenient.\n\n1092\n00:48:14.190 --> 00:48:15.170\nI wonder why they did that.\n\n1093\n00:48:15.170 --> 00:48:18.520\nThere must be some other lab built\naround this thing that uses that, so.\n\n1094\n00:48:18.520 --> 00:48:19.200\nWe'll see.\n\n1095\n00:48:19.200 --> 00:48:23.290\n>> Maybe they're doing an IPV6\ndirect access, those two.\n\n1096\n00:48:23.290 --> 00:48:24.060\n>> Yeah, that's right.\n\n1097\n00:48:24.060 --> 00:48:26.870\nThose two contiguous IPs,\nor whatever, yeah.\n\n1098\n00:48:26.870 --> 00:48:28.311\nGood times.\n\n1099\n00:48:28.311 --> 00:48:34.130\nAlright, so anyhow,\nthat's basically routing a NAT.\n\n1100\n00:48:34.130 --> 00:48:37.980\nThe next part of the objective\nis to talk about VPN tunnels.\n\n1101\n00:48:37.980 --> 00:48:43.120\nBut, what I wanna do is, the VPN tunnels\ndon't play well with NATing like this,\n\n1102\n00:48:43.120 --> 00:48:45.420\nso what I'm gonna do is,\nI'm gonna reset our lab machines and\n\n1103\n00:48:45.420 --> 00:48:46.500\nwe'll start that over again.\n\n1104\n00:48:46.500 --> 00:48:49.860\nSo, why don't we stop for a break and\nI'll knock that out during the break.\n\n1105\n00:48:49.860 --> 00:48:53.390\nAnd then we come back, we'll set up a VPN\nserver, because everything we've done so\n\n1106\n00:48:53.390 --> 00:48:55.430\nfar, is not secure, right?\n\n1107\n00:48:55.430 --> 00:48:56.230\n>> No.\n>> That Telnet stuff was\n\n1108\n00:48:56.230 --> 00:49:00.870\ngoing in to plain text, if we had a VPN\ntunnel, it would be encrypted, secured,\n\n1109\n00:49:00.870 --> 00:49:02.940\nthe way we want it to be.\n\n1110\n00:49:02.940 --> 00:49:06.795\nAll right, so stay tuned,\nwhen we get back, VPN tunnels.\n\n1111\n00:49:06.795 --> 00:49:10.292\n[SOUND] All right,\n\n1112\n00:49:10.292 --> 00:49:15.427\nwelcome back everybody.\n\n1113\n00:49:15.427 --> 00:49:19.303\nSo what we're gonna do now is we're gonna\ngo back to that same environment we're\n\n1114\n00:49:19.303 --> 00:49:20.190\njust working in.\n\n1115\n00:49:20.190 --> 00:49:23.610\nExcept we're going to make it\na little bit more secure this time.\n\n1116\n00:49:23.610 --> 00:49:24.910\n>> Yes.\n>> We're gonna apply a VPN tunnel.\n\n1117\n00:49:24.910 --> 00:49:26.450\nLet's so back to our diagram.\n\n1118\n00:49:26.450 --> 00:49:29.410\nSo let's see, there we go.\n\n1119\n00:49:29.410 --> 00:49:34.160\nSo basically in the whole last example,\nthat traffic was passing\n\n1120\n00:49:34.160 --> 00:49:38.200\nfrom our mobile client through\nthe router to the DC, like that.\n\n1121\n00:49:38.200 --> 00:49:40.320\nAnd the router was just routing,\n\n1122\n00:49:40.320 --> 00:49:44.000\njust moving traffic from interface\nto interface, so it was unencrypted.\n\n1123\n00:49:44.000 --> 00:49:47.150\n>> And anybody out there that was in\nbetween that router and that client,\n\n1124\n00:49:47.150 --> 00:49:51.070\ncould have sniffed that traffic, could\nhave captured it, could have read it.\n\n1125\n00:49:51.070 --> 00:49:54.120\nPotentially modified it and\ntried to send it on.\n\n1126\n00:49:54.120 --> 00:49:57.770\n>> And I was using Telnet, so we weren't\ndoing anything to secure our data.\n\n1127\n00:49:57.770 --> 00:49:58.730\nThat's a big risk.\n\n1128\n00:49:58.730 --> 00:49:59.900\n>> Yeah, absolutely.\n\n1129\n00:49:59.900 --> 00:50:02.490\n>> What if I actually had to use Telnet?\n\n1130\n00:50:02.490 --> 00:50:04.480\nWhat if that was\na requirement of my network?\n\n1131\n00:50:04.480 --> 00:50:07.640\nWe need some kind of solution and\nthe VPN tunnel can do that.\n\n1132\n00:50:07.640 --> 00:50:10.040\n>> Maybe we could wrap it up inside\nsomething that would protect it?\n\n1133\n00:50:10.040 --> 00:50:10.750\n>> There we go.\nYou know,\n\n1134\n00:50:10.750 --> 00:50:14.130\nI used to have this really\ngross analogy for VPNs.\n\n1135\n00:50:14.130 --> 00:50:18.370\nA VPN, it's a tunnel, so\nwe basically take our traffic and\n\n1136\n00:50:18.370 --> 00:50:24.720\nwe build this tunnel between our\nmachine and a remote server somewhere.\n\n1137\n00:50:24.720 --> 00:50:27.710\nAll of our traffic gets\nsent through the tunnel.\n\n1138\n00:50:27.710 --> 00:50:31.030\nAnybody intercepting that traffic\nwould just see encrypted stuff.\n\n1139\n00:50:31.030 --> 00:50:31.600\nRight?\n\n1140\n00:50:31.600 --> 00:50:33.755\nAnd so here's my gross analogy.\n\n1141\n00:50:33.755 --> 00:50:37.080\n>> [LAUGH]\n>> Think of, you ever had a Snickers bar?\n\n1142\n00:50:37.080 --> 00:50:39.827\nAnd we don't get any product endorsement\nstuff here but Snickers bars,\n\n1143\n00:50:39.827 --> 00:50:40.612\nthey're awesome.\n\n1144\n00:50:40.612 --> 00:50:44.940\nSo, it's peanuts and caramel, and nougat,\n\n1145\n00:50:44.940 --> 00:50:47.326\nwhatever that is, and\nit's all in chocolate, right?\n\n1146\n00:50:47.326 --> 00:50:49.820\n>> Right.\n>> But when they ship them,\n\n1147\n00:50:49.820 --> 00:50:52.300\nthey know that they can get\ndamaged in transit, right?\n\n1148\n00:50:52.300 --> 00:50:54.400\nSo they put them in a nice\nlittle wrapper to protect them.\n\n1149\n00:50:54.400 --> 00:50:56.430\nWell imagine if they didn't.\n\n1150\n00:50:56.430 --> 00:50:59.670\nSo the chocolate bar gets thrown\nin the back of the truck.\n\n1151\n00:50:59.670 --> 00:51:02.290\nIt goes to your local gas station.\n\n1152\n00:51:02.290 --> 00:51:03.030\n>> Rolling around in the dirt.\n\n1153\n00:51:03.030 --> 00:51:04.430\n>> Yeah, and\nthen they stick it on the shelf and\n\n1154\n00:51:04.430 --> 00:51:07.190\nby the time you get it, it got dirt and\nall sorts of stuff on it.\n\n1155\n00:51:07.190 --> 00:51:09.260\nIt would be absolutely gross, right?\n\n1156\n00:51:09.260 --> 00:51:11.360\nSo, instead I know this is gross\n>> [LAUGH]\n\n1157\n00:51:11.360 --> 00:51:13.245\n>> But you'll remember it.\n\n1158\n00:51:13.245 --> 00:51:14.170\n>> [LAUGH]\n>> So,\n\n1159\n00:51:14.170 --> 00:51:16.810\ninstead they put it in a wrapper, right?\n\n1160\n00:51:16.810 --> 00:51:18.134\nIt's not a very durable wrapper.\n\n1161\n00:51:18.134 --> 00:51:20.000\n>> Right.\n>> It's not anything crazy, but\n\n1162\n00:51:20.000 --> 00:51:25.050\nit makes it where that candy bar can go\nfrom the Mars factory, through the trucks,\n\n1163\n00:51:25.050 --> 00:51:28.390\nto the gas station, to me,\nwhere I can open it up.\n\n1164\n00:51:28.390 --> 00:51:33.039\nAnd it's nice and clean and\nsanitary [LAUGH] and then I can eat is.\n\n1165\n00:51:33.039 --> 00:51:36.280\n>> Right.\n>> So, that's kind of how VPN tunnels are,\n\n1166\n00:51:36.280 --> 00:51:41.100\nthey wrap up your traffic, but in addition\nto wrapping it up they also encrypt and\n\n1167\n00:51:41.100 --> 00:51:44.320\ndigitally signed it so we can ensure\nthat data is not tampered with and\n\n1168\n00:51:44.320 --> 00:51:46.450\nis not read by unauthorized parties.\n\n1169\n00:51:46.450 --> 00:51:47.824\nVery very cool stuff, right.\n\n1170\n00:51:47.824 --> 00:51:49.670\nThe problem with.\n\n1171\n00:51:49.670 --> 00:51:51.520\n>> It's gonna be stuck\nin my head all day long.\n\n1172\n00:51:51.520 --> 00:51:54.310\n>> You'll picture this Snickers\nbar with like hairs on it.\n\n1173\n00:51:54.310 --> 00:51:56.640\n>> Hairs and fingerprints.\n\n1174\n00:51:56.640 --> 00:51:58.260\n>> Bugs, yeah, yeah, anyhow.\n\n1175\n00:51:58.260 --> 00:52:04.690\nBut yeah, so with VPN tunnels, if you\nhave a firewall at your home office,\n\n1176\n00:52:04.690 --> 00:52:08.590\nthen you can use that as a VPN\nconcentrator, as a VPN endpoint.\n\n1177\n00:52:08.590 --> 00:52:10.360\nAnd that's what plenty of people do.\n\n1178\n00:52:10.360 --> 00:52:13.270\nBut if you don't have one of those,\nyou can use a Windows Server.\n\n1179\n00:52:13.270 --> 00:52:17.690\nWindows Server can perfectly well\nserve as a VPN concentrator, right?\n\n1180\n00:52:17.690 --> 00:52:19.510\nSo that's what we're gonna\ntake a look at here.\n\n1181\n00:52:19.510 --> 00:52:22.370\nWe'll set up our Edge server\nto accept VPN tunnels.\n\n1182\n00:52:22.370 --> 00:52:23.790\nAnd then we'll just set our client to\n\n1183\n00:52:23.790 --> 00:52:26.600\nconnect to it across the tunnel,\nand off we go.\n\n1184\n00:52:26.600 --> 00:52:32.440\n>> And then our data is all protected and\nnobody can access it and no hairs on it.\n\n1185\n00:52:32.440 --> 00:52:35.070\n>> Yeah, you definitely\ndon't want hairy IP traffic.\n\n1186\n00:52:35.070 --> 00:52:37.920\nSo the other thing is,\nonce that traffic reaches the Edge server,\n\n1187\n00:52:37.920 --> 00:52:41.980\nreaches here, the server-\n>> Unwraps it I guess?\n\n1188\n00:52:41.980 --> 00:52:43.630\n>> Decapsulates,\nwhat is the word for that?\n\n1189\n00:52:43.630 --> 00:52:44.360\nUnencapsulates?\n\n1190\n00:52:44.360 --> 00:52:45.570\n>> Unencapsulates, yeah.\n\n1191\n00:52:45.570 --> 00:52:47.200\n>> It decapsulizes the data.\n\n1192\n00:52:47.200 --> 00:52:48.180\nRight.\n>> [LAUGH] And\n\n1193\n00:52:48.180 --> 00:52:52.890\nthen it throws it on the network to the DC\nin our scenario, and the DC has no idea it\n\n1194\n00:52:52.890 --> 00:52:55.090\nwas ever encrypted in the first place,\nit's invisible to them.\n\n1195\n00:52:55.090 --> 00:52:56.790\n>> It's back to being\nunprotected on a LAN, but\n\n1196\n00:52:56.790 --> 00:52:59.470\ntypically we're not too worried about\nthat because it's the secure portion\n\n1197\n00:52:59.470 --> 00:53:04.070\nof my network and I shouldn't have people\ntrying to capture modify that data.\n\n1198\n00:53:04.070 --> 00:53:05.340\nDepending on our environment I guess.\n\n1199\n00:53:05.340 --> 00:53:06.310\n>> And if you were worried about that,\n\n1200\n00:53:06.310 --> 00:53:10.380\nyou could always do IPsec between these\nhosts and solve that problem too.\n\n1201\n00:53:10.380 --> 00:53:12.610\nBut let's take a look at the VPN side.\n\n1202\n00:53:12.610 --> 00:53:16.870\nAll right, so before the break, we were\ndoing an example of routing and NAT,\n\n1203\n00:53:16.870 --> 00:53:18.005\nwhich is not very common.\n\n1204\n00:53:18.005 --> 00:53:20.730\n>> Right.\n>> But VPN, boy, that is common, so\n\n1205\n00:53:20.730 --> 00:53:23.290\nwe can use the standard wizards for\nthis one.\n\n1206\n00:53:23.290 --> 00:53:25.900\nInside of our server manager,\nafter you add the routing and\n\n1207\n00:53:25.900 --> 00:53:30.210\nremote access role, we can go to our\nyellow flag and it will tell us here,\n\n1208\n00:53:30.210 --> 00:53:32.550\nconfiguration required for\ndirect access and VPN.\n\n1209\n00:53:32.550 --> 00:53:33.960\nI'm going to choose that, all right.\n\n1210\n00:53:37.310 --> 00:53:39.200\n>> It opens up our handy dandy wizard.\n\n1211\n00:53:39.200 --> 00:53:39.920\nEventually.\n\n1212\n00:53:39.920 --> 00:53:41.460\n>> Eventually, it'll think about it.\n\n1213\n00:53:41.460 --> 00:53:43.245\n>> This is where it tries my patience.\n\n1214\n00:53:43.245 --> 00:53:46.460\n>> [LAUGH]\n>> I make that joke that I've spent half\n\n1215\n00:53:46.460 --> 00:53:49.970\nmy career watching status bars\nscroll across the screen.\n\n1216\n00:53:49.970 --> 00:53:50.870\n>> Isn't that the truth?\n\n1217\n00:53:50.870 --> 00:53:52.420\n>> Yeah, patience is a virtue.\n\n1218\n00:53:52.420 --> 00:53:53.848\nDid I not click on it?\n\n1219\n00:53:53.848 --> 00:53:57.230\n>> It's saying no, Don, we're gonna\nmake you wait a little while longer.\n\n1220\n00:53:57.230 --> 00:54:00.170\n>> Well, I see a little status bar,\nit's thinking.\n\n1221\n00:54:00.170 --> 00:54:02.480\nIt actually says Configuration Completed.\n\n1222\n00:54:02.480 --> 00:54:03.560\nThat's impressive.\n\n1223\n00:54:03.560 --> 00:54:05.030\nSo all right, we'll go this way then.\n\n1224\n00:54:05.030 --> 00:54:08.230\nLet me go over here to Remote Access and\nsee what it's actually done.\n\n1225\n00:54:09.510 --> 00:54:12.040\n>> You know what, that darn wizard,\n\n1226\n00:54:12.040 --> 00:54:15.300\nthe one that wants to do direct access and\nVPN that's kicking in the background.\n\n1227\n00:54:15.300 --> 00:54:19.180\nThat one can be really slow\nthe first time you set it up.\n\n1228\n00:54:19.180 --> 00:54:20.970\n>> It's exactly like you said,\nit's in the background.\n\n1229\n00:54:20.970 --> 00:54:22.320\n>> It hides back there.\n\n1230\n00:54:22.320 --> 00:54:24.560\n>> It didn't bother to\ngo to the foreground.\n\n1231\n00:54:24.560 --> 00:54:26.320\n>> It's a shy console.\n\n1232\n00:54:26.320 --> 00:54:27.170\n>> It's hiding.\n\n1233\n00:54:27.170 --> 00:54:30.989\nThis is the new stealth console,\nit's a new feature of R2 all right.\n\n1234\n00:54:30.989 --> 00:54:31.700\n>> [LAUGH]\n>> So\n\n1235\n00:54:31.700 --> 00:54:35.710\nnow it's asking straightforward,\ndo I want direct access which we'll cover,\n\n1236\n00:54:35.710 --> 00:54:37.610\nactually I think we're filming\nthat episode tomorrow.\n\n1237\n00:54:37.610 --> 00:54:39.130\n>> Tomorrow [CROSSTALK]\n>> But that episode is coming up.\n\n1238\n00:54:39.130 --> 00:54:39.890\n>> Tune in for that.\n\n1239\n00:54:39.890 --> 00:54:42.670\n>> Or, do we want to do a VPN only or\ndo we want both, right?\n\n1240\n00:54:42.670 --> 00:54:47.200\nAnd we're just gonna do VPN right now so\nI'll choose to deploy VPN only.\n\n1241\n00:54:47.200 --> 00:54:48.130\nAll right?\n\n1242\n00:54:48.130 --> 00:54:51.970\nAfter that notice it took me right\nback to the standard routing and\n\n1243\n00:54:51.970 --> 00:54:53.560\nremote access screen.\n\n1244\n00:54:53.560 --> 00:54:56.220\nAnd it's supposed to launch\nthe standard wizard.\n\n1245\n00:54:56.220 --> 00:54:57.390\n>> It should in a second.\n\n1246\n00:54:57.390 --> 00:55:00.970\nI have seen where it's delayed and\njust takes a minute.\n\n1247\n00:55:00.970 --> 00:55:05.320\n>> Well, this is where it's so\neasy to get antsy and jump through it but.\n\n1248\n00:55:05.320 --> 00:55:07.540\n>> And launch something a second time and\nthen, yeah.\n\n1249\n00:55:09.400 --> 00:55:13.710\n>> I always try and force myself to use\nthe new way to do things because that's\n\n1250\n00:55:13.710 --> 00:55:16.510\nwhat you'll see on the exam,\nusing the server manager, that's it.\n\n1251\n00:55:16.510 --> 00:55:19.490\nBut a lot of the tools just link right\nback to the old tools, like this one, so\n\n1252\n00:55:19.490 --> 00:55:22.234\nI'm always tempted to just go and\ndo it the old way.\n\n1253\n00:55:22.234 --> 00:55:25.870\nAnd the old way would be just come\nin to Edge Right-click on it, and\n\n1254\n00:55:25.870 --> 00:55:28.090\nchoose to configure enable\nrouting everyone access, and\n\n1255\n00:55:28.090 --> 00:55:30.810\nrun through that same wizard\nwe did before the break.\n\n1256\n00:55:30.810 --> 00:55:33.920\nWhat we just did is, in theory it's\nsupposed to be launching that right now.\n\n1257\n00:55:33.920 --> 00:55:37.570\n>> Should be launching that,\nbut maybe it's not happy.\n\n1258\n00:55:37.570 --> 00:55:38.185\n>> Maybe it's confused.\n\n1259\n00:55:38.185 --> 00:55:42.470\n>> [LAUGH]\n>> All right.\n\n1260\n00:55:42.470 --> 00:55:43.910\n>> Yeah, screw it, launch it manually and\n\n1261\n00:55:43.910 --> 00:55:45.840\nas soon as you launch\nit's gonna pop up twice.\n\n1262\n00:55:45.840 --> 00:55:47.871\n>> I know the other one,\nit's gonna freak out, yeah.\n\n1263\n00:55:47.871 --> 00:55:50.157\nSo, anyhow,\nI'm gonna go in the wizard here, and for\n\n1264\n00:55:50.157 --> 00:55:52.820\nthe VPN side of things it's that\nsame wizard we were in before.\n\n1265\n00:55:52.820 --> 00:55:53.377\nFour.\n\n1266\n00:55:53.377 --> 00:55:54.602\n>> Right.\n>> So I can see it right here.\n\n1267\n00:55:54.602 --> 00:55:57.595\nThe only difference is this time\nI'm gonna choose the first option,\n\n1268\n00:55:57.595 --> 00:56:00.137\nwhere it says configure remote access,\ndialup, or VPN.\n\n1269\n00:56:00.137 --> 00:56:00.670\nRight?\n\n1270\n00:56:00.670 --> 00:56:02.750\nAll right.\n\n1271\n00:56:02.750 --> 00:56:04.330\nSo, I'll choose that and hit Next.\n\n1272\n00:56:05.900 --> 00:56:09.070\nIt's gonna ask if I wanna do VPN or\ndialup, or both.\n\n1273\n00:56:09.070 --> 00:56:11.740\nIf you have a modem bank\nattached to your server, and\n\n1274\n00:56:11.740 --> 00:56:14.110\nyou wanna receive dial in connections,\nyou can do that.\n\n1275\n00:56:14.110 --> 00:56:16.430\nAnd there are places that\nstill need access to that, so\n\n1276\n00:56:16.430 --> 00:56:18.100\nthe functionality is there.\n\n1277\n00:56:18.100 --> 00:56:19.300\nBut, we're doing VPN.\n\n1278\n00:56:19.300 --> 00:56:19.800\n>> All right?\n\n1279\n00:56:20.810 --> 00:56:21.487\n>> All right.\nNow,\n\n1280\n00:56:21.487 --> 00:56:24.380\nit's going to ask which one of these\nis connected to the interface.\n\n1281\n00:56:24.380 --> 00:56:26.018\nOr, which of these\ninterfaces is connected to\n\n1282\n00:56:26.018 --> 00:56:26.826\nthe internet-\n>> [LAUGH]\n\n1283\n00:56:26.826 --> 00:56:28.170\n>> Is what I'm trying to say.\n\n1284\n00:56:28.170 --> 00:56:31.610\nAnd so, I'll do the same as before and\ntell it that it's the extranet network.\n\n1285\n00:56:31.610 --> 00:56:34.530\nNow it also says down here at the bottom,\n\n1286\n00:56:34.530 --> 00:56:39.830\nenable security on the selected\ninterface by setting up packet filters.\n\n1287\n00:56:39.830 --> 00:56:44.090\nDo you want to allow just anything\nto come over the VPN tunnels, or\n\n1288\n00:56:44.090 --> 00:56:46.330\ndo you want to restrict\nthem to particular hosts?\n\n1289\n00:56:46.330 --> 00:56:49.200\nAnd so, it's asking about that,\nwhat we want to filter or\n\n1290\n00:56:49.200 --> 00:56:50.590\nif you even want to do that.\n\n1291\n00:56:50.590 --> 00:56:51.290\nAll right.\n\n1292\n00:56:51.290 --> 00:56:52.550\nYou may or may not need to do that.\n\n1293\n00:56:52.550 --> 00:56:53.198\nIt's up to you.\n\n1294\n00:56:53.198 --> 00:56:56.020\nIt depends on what level of access you\nwant to provide to your end users.\n\n1295\n00:56:56.020 --> 00:56:58.490\n>> Right, because we can send\nanything through that VPN tunnel,\n\n1296\n00:56:58.490 --> 00:57:02.340\nbut we wanted to ping for testing purposes\nthat would end up blocking that and\n\n1297\n00:57:02.340 --> 00:57:04.060\nmake our test a little more difficult.\n\n1298\n00:57:04.060 --> 00:57:04.560\n>> Yeah.\n\n1299\n00:57:04.560 --> 00:57:07.060\nThe other thing is this filter,\nthe default filter,\n\n1300\n00:57:07.060 --> 00:57:10.240\nis gonna make sure that only VPN\ntraffic gets in on that interface.\n\n1301\n00:57:10.240 --> 00:57:12.860\nThat other traffic gets filtered out, and\nthat's important because you don't want\n\n1302\n00:57:12.860 --> 00:57:15.850\npeople to try and get through\nwithout passing through that tunnel.\n\n1303\n00:57:15.850 --> 00:57:17.550\nYou don't want to unsecure\ntraffic coming in.\n\n1304\n00:57:17.550 --> 00:57:20.300\n>> Mm-hm.\n>> All right, so I'll hit next.\n\n1305\n00:57:20.300 --> 00:57:24.240\nThen it's gonna say, all right,\nfor you VPN clients that connect.\n\n1306\n00:57:24.240 --> 00:57:28.000\nWhen they connect, they'll need to get\nan IP address on your local network.\n\n1307\n00:57:28.000 --> 00:57:29.890\nDo you have a DHCP server for that?\n\n1308\n00:57:29.890 --> 00:57:33.730\nOr, do you want the VPN server\nto act as the DHCP server?\n\n1309\n00:57:33.730 --> 00:57:38.300\nAnd I'm gonna go ahead and say, I'll\njust let this one act as a DHCP server.\n\n1310\n00:57:38.300 --> 00:57:40.870\nSo, I'll specify a range of addresses.\n\n1311\n00:57:40.870 --> 00:57:43.740\n>> If you've already got a DHCP server,\nthen what'll happen is your\n\n1312\n00:57:43.740 --> 00:57:46.950\nVPN server will just relay DHCP\nrequests to that other node.\n\n1313\n00:57:46.950 --> 00:57:47.800\n>> A lot of times though,\n\n1314\n00:57:47.800 --> 00:57:51.316\nthen I do have to make sure we configure\nthat DHCP relay agent to support that.\n\n1315\n00:57:51.316 --> 00:57:52.470\n>> Mm-hm.\n>> I don't know.\n\n1316\n00:57:52.470 --> 00:57:56.200\nI kind of like setting up a pool of\naddresses that are independent from my\n\n1317\n00:57:56.200 --> 00:57:58.890\nnormal DHCP pool,\nmakes looking at log files.\n\n1318\n00:57:58.890 --> 00:58:00.770\nI can immediately spot VPN clients.\n\n1319\n00:58:00.770 --> 00:58:02.670\n>> I agree, I agree.\n\n1320\n00:58:02.670 --> 00:58:04.810\nAnd if use your internal DHCP server,\n\n1321\n00:58:04.810 --> 00:58:09.000\na lot of people have the bad habit of\n[COUGH] using their internal IP address.\n\n1322\n00:58:09.000 --> 00:58:09.675\nThe same LAN.\n\n1323\n00:58:09.675 --> 00:58:12.360\n>> Mm-hm.\n>> And so then, any broadcast on your LAN\n\n1324\n00:58:12.360 --> 00:58:15.340\nis being sent to your VPN client,\nwhich is bad for performance.\n\n1325\n00:58:15.340 --> 00:58:18.750\nIf you do a separate subnet,\nyou get better performance out of it.\n\n1326\n00:58:18.750 --> 00:58:19.620\n>> So, I'm gonna do that.\n\n1327\n00:58:19.620 --> 00:58:20.890\nOur internal network is 10.10.0.\n\n1328\n00:58:20.890 --> 00:58:25.950\nSo, I'm gonna pick something\ncompletely different like one.\n\n1329\n00:58:25.950 --> 00:58:27.670\nThere's one other network I\ndon't want to conflict with.\n\n1330\n00:58:27.670 --> 00:58:29.210\nLet me see what other networks we have.\n\n1331\n00:58:29.210 --> 00:58:31.785\n>> It was 172 something.\n\n1332\n00:58:31.785 --> 00:58:36.020\n>> Yeah,\nI guess that interface must be disabled.\n\n1333\n00:58:36.020 --> 00:58:37.140\nThere it is.\n\n1334\n00:58:37.140 --> 00:58:37.940\nSo, 131 and 10.10.\n\n1335\n00:58:37.940 --> 00:58:43.511\nSo, we'll do 172.16.0.\n\n1336\n00:58:43.511 --> 00:58:44.451\nTry and type this.\n\n1337\n00:58:44.451 --> 00:58:52.845\n16.0.100 through 172.16.0.150.\n\n1338\n00:58:54.280 --> 00:58:54.830\nAll right.\nSo\n\n1339\n00:58:54.830 --> 00:58:58.310\nthat's the address range that I'm going\nto be assigning to clients that VPN in.\n\n1340\n00:58:59.980 --> 00:59:04.418\n>> Once they VPN in, their access\nbecause they've got a 172 address, and\n\n1341\n00:59:04.418 --> 00:59:05.411\nthere on a 10.\n\n1342\n00:59:05.411 --> 00:59:06.740\nnetwork internally.\n\n1343\n00:59:06.740 --> 00:59:11.830\n>> Yep, so I'll have to set a default\nroute on our machines to connect.\n\n1344\n00:59:11.830 --> 00:59:13.010\nLike we did in the last segment.\n\n1345\n00:59:13.010 --> 00:59:14.280\nOkay.\nAll right.\n\n1346\n00:59:14.280 --> 00:59:15.870\nSo I'll go ahead and hit next on that.\n\n1347\n00:59:15.870 --> 00:59:20.240\nThen, it's gonna say,\nam I gonna be managing multiple servers?\n\n1348\n00:59:20.240 --> 00:59:24.670\nAnd if I have multiple remote access\nservers, it's a good idea to use RADIUS.\n\n1349\n00:59:24.670 --> 00:59:25.280\n>> RADIUS, yes.\n\n1350\n00:59:25.280 --> 00:59:27.640\n>> A centralized authentication server.\n\n1351\n00:59:27.640 --> 00:59:30.970\nIf this is our only VPN server,\nwe don't need RADIUS.\n\n1352\n00:59:30.970 --> 00:59:32.920\nWe can do our authentication right here.\n\n1353\n00:59:32.920 --> 00:59:36.000\nBut if you've got more than one,\nit's nice to link the all together for\n\n1354\n00:59:36.000 --> 00:59:37.405\ntheir authentication purposes.\n\n1355\n00:59:37.405 --> 00:59:39.650\n>> Absolutely.\n>> And so, we have that option.\n\n1356\n00:59:39.650 --> 00:59:41.337\n>> Different policies to work with and\nall that, but\n\n1357\n00:59:41.337 --> 00:59:42.590\nwe'll cover that in a future topic.\n\n1358\n00:59:42.590 --> 00:59:43.800\n>> That one's further\non in the objectives.\n\n1359\n00:59:43.800 --> 00:59:46.980\nWe'll see like applying\npolicies to VPN clients and\n\n1360\n00:59:46.980 --> 00:59:48.450\nwe'll absolutely have to do that.\n\n1361\n00:59:48.450 --> 00:59:49.600\nBut for right now, I'm just gonna say no,\n\n1362\n00:59:49.600 --> 00:59:51.270\nwe'll authenticate requests\nright here locally.\n\n1363\n00:59:52.890 --> 00:59:53.840\nAll right.\n\n1364\n00:59:53.840 --> 00:59:55.750\nThat's enough to get that started.\n\n1365\n00:59:55.750 --> 00:59:57.055\nAnd so, we'll run that.\n\n1366\n00:59:57.055 --> 00:59:57.660\n>> Mm-hm.\n\n1367\n00:59:57.660 --> 01:00:00.000\n>> There are a few other things\nthat I'm gonna need to do.\n\n1368\n01:00:00.000 --> 01:00:02.570\nAnd I reset these machines\nduring the break.\n\n1369\n01:00:02.570 --> 01:00:06.360\nSo while that's finishing, one of\nthe things we did earlier in the show is I\n\n1370\n01:00:06.360 --> 01:00:10.380\ntold the DC how to be able\nto get to that network.\n\n1371\n01:00:10.380 --> 01:00:13.140\nAnd when I reset the machines,\nwe lost that.\n\n1372\n01:00:13.140 --> 01:00:18.340\nSo, I'm just going to go back in here,\nand I'm going to add that route back in.\n\n1373\n01:00:20.550 --> 01:00:22.290\nExcept this time,\nI need to add in the 172 network.\n\n1374\n01:00:22.290 --> 01:00:27.140\n>> Because that's the IP\naddress that the client is\n\n1375\n01:00:27.140 --> 01:00:31.560\ngoing to get when he VPN's in, so that's\nwhat it's gonna look like to the DC.\n\n1376\n01:00:31.560 --> 01:00:32.790\n>> That is exactly right.\n\n1377\n01:00:32.790 --> 01:00:34.480\nYep.\nSo, I'm gonna send that over\n\n1378\n01:00:34.480 --> 01:00:36.170\nto the new VPN server.\n\n1379\n01:00:36.170 --> 01:00:36.940\nAll right.\nSo,\n\n1380\n01:00:36.940 --> 01:00:39.450\nI'm just gonna put that\nroute right in there.\n\n1381\n01:00:39.450 --> 01:00:40.840\nOkay.\n\n1382\n01:00:40.840 --> 01:00:45.170\nSo if I go back to my edge server,\nVPN is now configured.\n\n1383\n01:00:45.170 --> 01:00:48.900\nAnd so, I got a green little\ndot on my server name.\n\n1384\n01:00:48.900 --> 01:00:50.150\nI know it's up.\n\n1385\n01:00:50.150 --> 01:00:52.840\nI can look at my network interfaces and\nstuff.\n\n1386\n01:00:52.840 --> 01:00:54.830\nI can go into Remote Access Logging.\n\n1387\n01:00:54.830 --> 01:00:57.480\nAnd you can start to tink\naround with some of the stuff.\n\n1388\n01:00:57.480 --> 01:01:01.160\nYou'll see a lot of different\nconfiguration options in here depending\n\n1389\n01:01:01.160 --> 01:01:02.210\non what you need.\n\n1390\n01:01:02.210 --> 01:01:04.560\nBut basically, we are a VPN server.\n\n1391\n01:01:04.560 --> 01:01:07.270\nWe are up and running, we're almost done.\n\n1392\n01:01:07.270 --> 01:01:09.080\nAll right?\n>> Almost there, almost there.\n\n1393\n01:01:09.080 --> 01:01:11.875\n>> As far as the VPN server is concerned,\nit is done.\n\n1394\n01:01:11.875 --> 01:01:12.430\n>> Mm-hm.\n\n1395\n01:01:12.430 --> 01:01:13.120\n>> Right?\n\n1396\n01:01:13.120 --> 01:01:15.870\nBut nobody can connect right now, and\n\n1397\n01:01:15.870 --> 01:01:18.780\nthat's because we told them we\nwanted to authenticate locally.\n\n1398\n01:01:18.780 --> 01:01:21.380\nAnd we still need to approve\nusers to be able to connect.\n\n1399\n01:01:21.380 --> 01:01:22.590\n>> Right.\n\n1400\n01:01:22.590 --> 01:01:23.290\n>> All right.\n\n1401\n01:01:23.290 --> 01:01:25.040\nThis is where the objectives\nget really confusing.\n\n1402\n01:01:25.040 --> 01:01:28.530\nIf you look at the objectives,\none of the objectives states,\n\n1403\n01:01:28.530 --> 01:01:31.705\nconfigure remote dial in settings for\nusers.\n\n1404\n01:01:31.705 --> 01:01:32.270\n>> Mm-hm.\n\n1405\n01:01:32.270 --> 01:01:33.690\n>> And so, you look at that and\nyou go, man.\n\n1406\n01:01:33.690 --> 01:01:35.200\nI gotta learn dial up networking?\n\n1407\n01:01:35.200 --> 01:01:36.642\nWhy is that still on the exam?\n\n1408\n01:01:36.642 --> 01:01:40.730\nWell, they're not actually\ntalking about dial up network.\n\n1409\n01:01:40.730 --> 01:01:43.040\nWhen you're not using a Radius server,\n\n1410\n01:01:43.040 --> 01:01:46.480\nyour servers will authenticate\nthe servers themselves.\n\n1411\n01:01:46.480 --> 01:01:50.980\nAnd there is a little option on every user\naccount, in the active directory, and\n\n1412\n01:01:50.980 --> 01:01:53.830\nin the local server\nthat defines whether or\n\n1413\n01:01:53.830 --> 01:01:55.730\nnot the user's allowed\nto remotely connect.\n\n1414\n01:01:55.730 --> 01:01:57.730\nAnd it's called the dial in setting.\n\n1415\n01:01:57.730 --> 01:01:59.540\n>> Yeah.\nThat tab has not changed over the years.\n\n1416\n01:01:59.540 --> 01:02:01.415\nIt's still just says dial in.\n\n1417\n01:02:01.415 --> 01:02:01.970\n>> Mm-hm.\n\n1418\n01:02:01.970 --> 01:02:05.290\nSo, it applies to dial up as well as VPN.\n\n1419\n01:02:05.290 --> 01:02:09.494\nAnd so, while they're saying know how\nto configure remote dial in settings,\n\n1420\n01:02:09.494 --> 01:02:13.330\nthey're really talking about enabling\na user for VPN in, not dial up.\n\n1421\n01:02:13.330 --> 01:02:15.180\nDial up doesn't show up on the exam.\n\n1422\n01:02:15.180 --> 01:02:17.480\n>> And that's all done,\nit's relatively straight forward.\n\n1423\n01:02:17.480 --> 01:02:20.425\nAll done on the properties of the user\naccount and active directory.\n\n1424\n01:02:20.425 --> 01:02:23.330\n>> Mm-hm.\n>> So we got three options in there\n\n1425\n01:02:23.330 --> 01:02:24.112\nthat we can complete.\n\n1426\n01:02:24.112 --> 01:02:26.860\n>> Yeah, and when we configured this,\n\n1427\n01:02:26.860 --> 01:02:30.685\nwe configured it on our routing server\nhere, which is just a member server.\n\n1428\n01:02:30.685 --> 01:02:31.410\n>> Mm-hm.\n>> So\n\n1429\n01:02:31.410 --> 01:02:34.650\nI can actually authenticate against local\naccounts right here on this machine\n\n1430\n01:02:34.650 --> 01:02:35.890\nif I want.\n\n1431\n01:02:35.890 --> 01:02:39.780\nOr if we had used Radius, we could have\npointed that at the domain controller and\n\n1432\n01:02:39.780 --> 01:02:41.420\nauthenticated against\nthe active directory.\n\n1433\n01:02:41.420 --> 01:02:44.510\nI'm just going to use the local server\nhere to make things a little more simple\n\n1434\n01:02:44.510 --> 01:02:45.019\nfor us.\n\n1435\n01:02:46.710 --> 01:02:52.290\nAnd we'll do the domain controller one\nin the network policy server episode.\n\n1436\n01:02:52.290 --> 01:02:54.690\nSo, I'm going to go in here,\nand let's see.\n\n1437\n01:02:54.690 --> 01:02:58.270\nI need to get into computer management,\nwhich that doesn't work anymore.\n\n1438\n01:02:58.270 --> 01:03:00.530\n>> They kind of goofed\nthat one up didn't they.\n\n1439\n01:03:00.530 --> 01:03:05.030\n>> Yeah, I see why, but the computer\nmanagement tool is one of my go to\n\n1440\n01:03:05.030 --> 01:03:05.990\nguys-\n>> It is.\n\n1441\n01:03:05.990 --> 01:03:06.730\n>> to change my shortcut.\n\n1442\n01:03:06.730 --> 01:03:07.763\n>> It's got everything you need in there.\n\n1443\n01:03:07.763 --> 01:03:08.304\n[LAUGH]\n>> So,\n\n1444\n01:03:08.304 --> 01:03:10.080\nI'm gonna go to computer management, and\n\n1445\n01:03:10.080 --> 01:03:12.430\nI'm just gonna create\na local account to use.\n\n1446\n01:03:12.430 --> 01:03:14.500\nAnd that's what we'll\nauthenticate against.\n\n1447\n01:03:16.580 --> 01:03:19.310\nLet's see, I want local users.\n\n1448\n01:03:19.310 --> 01:03:23.920\nAnd I'm just going to create a new\nuser here, which I'll call VPNuser.\n\n1449\n01:03:23.920 --> 01:03:26.720\nAnd I'll set a password of VPN password.\n\n1450\n01:03:26.720 --> 01:03:28.760\n>> Shh, don't tell everybody.\n\n1451\n01:03:28.760 --> 01:03:30.850\n>> [LAUGH] I'm just\npicking something simple.\n\n1452\n01:03:30.850 --> 01:03:33.060\nI'm going to say password never expires.\n\n1453\n01:03:33.060 --> 01:03:36.460\nI'm not crazy worried about security\non this one, since it's a lab.\n\n1454\n01:03:36.460 --> 01:03:40.150\nIn real life, password does not\nmeet the complexity requirements,\n\n1455\n01:03:40.150 --> 01:03:42.180\nare you kidding me?\n\n1456\n01:03:42.180 --> 01:03:44.620\n>> Uppercase, lowercase numbers,\nspecial characters.\n\n1457\n01:03:44.620 --> 01:03:45.580\n>> I know.\nSo what am I going to do,\n\n1458\n01:03:45.580 --> 01:03:47.850\nI'm going to use one of those generic\npasswords that everybody knows.\n\n1459\n01:03:47.850 --> 01:03:49.060\n>> A Microsoft password.\n\n1460\n01:03:49.060 --> 01:03:49.712\n>> There we go.\nAll right.\n\n1461\n01:03:49.712 --> 01:03:52.417\nSo now, I've got a VPN user,\nso we're in business, right?\n\n1462\n01:03:52.417 --> 01:03:53.723\n>> Not so much.\n\n1463\n01:03:53.723 --> 01:03:58.338\n>> We've got a user- But\nthere's this setting we need to look for.\n\n1464\n01:03:58.338 --> 01:04:05.873\nAnd if you look right up here,\nthere's this Dial-in tab on the user.\n\n1465\n01:04:05.873 --> 01:04:07.700\nThere's my double mouse back again.\n\n1466\n01:04:07.700 --> 01:04:13.265\nAnd you'll see right in here where we\ncan specify network access permission,\n\n1467\n01:04:13.265 --> 01:04:17.515\nand that applies to\ndial-up as well as VPN.\n\n1468\n01:04:17.515 --> 01:04:21.115\nSo that's why they're saying manage\nthe dial-in settings for a user,\n\n1469\n01:04:21.115 --> 01:04:25.300\nnot talking about dial-up, just talking\nabout this tab on the user account.\n\n1470\n01:04:25.300 --> 01:04:28.690\n>> Is it, in most environments we want\nto do this in a centralized fashion.\n\n1471\n01:04:28.690 --> 01:04:32.700\nWe want to go and use our NPS server,\nwhich we cover in a later episode.\n\n1472\n01:04:32.700 --> 01:04:36.950\nAnd we want to set our policies that\ncontrol who can or can't VPN in and\n\n1473\n01:04:36.950 --> 01:04:39.220\nwhen they're allowed to do it and\nthings like that.\n\n1474\n01:04:39.220 --> 01:04:42.420\nAnd the default when we first\nopened up that account,\n\n1475\n01:04:42.420 --> 01:04:47.530\nthe default was to control access\nthrough network policy server policies.\n\n1476\n01:04:47.530 --> 01:04:50.100\nBut by default when we configure our VPN,\n\n1477\n01:04:50.100 --> 01:04:53.970\nwe actually get two policies\nthat block everything.\n\n1478\n01:04:53.970 --> 01:04:57.010\nThat block all users 24 hours a day,\n7 days a week.\n\n1479\n01:04:57.010 --> 01:05:00.420\nAnd they block another rule,\nI think it's done by client type or\n\n1480\n01:05:00.420 --> 01:05:01.990\nremote access server type.\n\n1481\n01:05:01.990 --> 01:05:04.470\nSo if we left the defaults like they were,\n\n1482\n01:05:04.470 --> 01:05:09.170\nevery user is set to control\naccess through network policy.\n\n1483\n01:05:09.170 --> 01:05:11.880\nThe only policies we have\nare blocking everybody, so\n\n1484\n01:05:11.880 --> 01:05:14.050\nnobody would actually get access.\n\n1485\n01:05:14.050 --> 01:05:16.870\nSo we can go in and we can specify.\n\n1486\n01:05:16.870 --> 01:05:18.430\nWe're gonna allow this person or\n\n1487\n01:05:18.430 --> 01:05:22.140\ndeny this person ignoring\nwhatever policies might be there.\n\n1488\n01:05:22.140 --> 01:05:23.790\nA lot of times we do this on\nthe Administrator accounts.\n\n1489\n01:05:23.790 --> 01:05:27.631\nThat way there's never any concern\nif that policy might be blocking or\n\n1490\n01:05:27.631 --> 01:05:29.726\nsomebody configured a policy wrong.\n\n1491\n01:05:29.726 --> 01:05:33.556\nI know that the Administrator account can\nalways remote in and try to fix things.\n\n1492\n01:05:33.556 --> 01:05:35.112\nSo we can go in there and change that.\n\n1493\n01:05:35.112 --> 01:05:38.930\nAnd this would again, override the policy\nsettings that we have configured.\n\n1494\n01:05:38.930 --> 01:05:41.122\n>> Yeah.\nIf you don't have an NPS server then this\n\n1495\n01:05:41.122 --> 01:05:42.477\nis what you're gonna use.\n\n1496\n01:05:42.477 --> 01:05:44.498\nYou're gonna use this\nsetting right here and so\n\n1497\n01:05:44.498 --> 01:05:47.845\nthat's what I've done is I've flagged\nis as allow access and I'll say okay.\n\n1498\n01:05:47.845 --> 01:05:52.602\nThat user is allowed to remote in and and\nI might wanna enable my Administrator\n\n1499\n01:05:52.602 --> 01:05:57.433\naccount at the same time, although I'm\nnot sure I remember it's password but\n\n1500\n01:05:57.433 --> 01:06:01.490\nI can go in and set that,\nit's just set by default to use that NPS.\n\n1501\n01:06:01.490 --> 01:06:03.110\nNow I'm pretty much golden.\n\n1502\n01:06:04.450 --> 01:06:10.020\nThe VPN server that it sets up,\nit is pretty much done for us.\n\n1503\n01:06:10.020 --> 01:06:12.410\nThere's not really much else\nthat we have to configure.\n\n1504\n01:06:12.410 --> 01:06:14.280\nThere are a few things that you can tweak.\n\n1505\n01:06:14.280 --> 01:06:17.366\nIf you dig through the various\nsettings on the server,\n\n1506\n01:06:17.366 --> 01:06:19.580\nyou'll find where you can increase and\n\n1507\n01:06:19.580 --> 01:06:24.093\ndecrease the amount of people that are\nallowed to connect and things like that.\n\n1508\n01:06:24.093 --> 01:06:26.193\nWhich, where is,\nthat's buried under ports.\n\n1509\n01:06:26.193 --> 01:06:30.443\nYeah, if I look under ports right here.\n\n1510\n01:06:30.443 --> 01:06:34.483\n>> By default it creates what,\n128 of all four of them.\n\n1511\n01:06:34.483 --> 01:06:36.863\n>> A virtual port for\neach of the connection types.\n\n1512\n01:06:36.863 --> 01:06:42.150\nYou'll see there's PPTP,\nthe point to point, tunneling protocol.\n\n1513\n01:06:42.150 --> 01:06:46.840\nL 2 T P, the layer 2 tunneling protocol,\nS S T P which is the secure socket\n\n1514\n01:06:46.840 --> 01:06:51.975\nlayer tunneling protocol, and-\n>> I K E V 2, the IP exchange?\n\n1515\n01:06:51.975 --> 01:06:53.630\n>> Just straight up.\n\n1516\n01:06:53.630 --> 01:06:55.824\n>> I think that's gonna show\nup in that list, right?\n\n1517\n01:06:55.824 --> 01:06:57.380\n>> I don't know.\n\n1518\n01:06:57.380 --> 01:07:01.280\nLet's see, I got SSTP right there,\nthat's the newer one.\n\n1519\n01:07:01.280 --> 01:07:02.332\n>> Secure sockets, yep.\n\n1520\n01:07:02.332 --> 01:07:06.545\n>> There's PPTP, there's L2TP, and there's\nI version 2, yep, they're all in there.\n\n1521\n01:07:06.545 --> 01:07:09.200\n>> And that is actually now\nthe default for Windows 8 clients.\n\n1522\n01:07:09.200 --> 01:07:11.080\nThat is what they are going to try first.\n\n1523\n01:07:11.080 --> 01:07:12.530\n>> It's definitely the most secure.\n\n1524\n01:07:12.530 --> 01:07:16.410\n>> And it's got cool features that\nI think we'll cover in another one,\n\n1525\n01:07:16.410 --> 01:07:19.220\nlike VPN Reconnect and some things\nlike that that are really useful for\n\n1526\n01:07:19.220 --> 01:07:22.030\nyour mobile devices that can roam in and\n\n1527\n01:07:22.030 --> 01:07:24.650\nout of different access points and\nthings like that.\n\n1528\n01:07:24.650 --> 01:07:26.930\n>> One of the things that we might want to\nadjust is how many of those ports that we\n\n1529\n01:07:26.930 --> 01:07:32.010\nhave and if we pull up the properties\nhere on ports my screen will appear and\n\n1530\n01:07:32.010 --> 01:07:33.210\ndisappear really fast.\n\n1531\n01:07:33.210 --> 01:07:34.540\n>> You gotta be quick\nto configure this one.\n\n1532\n01:07:34.540 --> 01:07:35.070\n>> Let's try that again.\n\n1533\n01:07:35.070 --> 01:07:35.570\nThere we go.\n\n1534\n01:07:36.620 --> 01:07:40.000\nYou'll get this screen that will\nshow you how many ports you've got,\n\n1535\n01:07:40.000 --> 01:07:41.750\n128 just like Mike said.\n\n1536\n01:07:41.750 --> 01:07:44.790\nYou can choose, you can highlight and\nyou can configure and you can increase or\n\n1537\n01:07:44.790 --> 01:07:46.980\ndecrease that amount\nbased on what you want.\n\n1538\n01:07:46.980 --> 01:07:48.270\nSo you're not just I mean.\n\n1539\n01:07:48.270 --> 01:07:52.100\n>> We really should if we're not gonna be\nusing L2TP, why have a 128 port sitting\n\n1540\n01:07:52.100 --> 01:07:54.942\nthere listening, waiting for\nthose types of connections.\n\n1541\n01:07:54.942 --> 01:07:55.673\n>> Yeah, that's true.\n\n1542\n01:07:55.673 --> 01:07:57.300\n>> Yeah, you know.\nSo you'll want to eliminate some of those.\n\n1543\n01:07:57.300 --> 01:07:58.780\nAnd can your server handle 128,\n\n1544\n01:07:58.780 --> 01:08:03.150\n256, 512 concurrent connections\nacross all these different protocols.\n\n1545\n01:08:03.150 --> 01:08:06.340\nAnd the clients, they'll do a negotiation.\n\n1546\n01:08:06.340 --> 01:08:08.550\nThey'll rifle through the different ones.\n\n1547\n01:08:08.550 --> 01:08:11.721\nSo you set your server to whichever\none that you plan on using.\n\n1548\n01:08:11.721 --> 01:08:14.648\nThe others, you're not configuring,\nyou're not monitoring,\n\n1549\n01:08:14.648 --> 01:08:16.067\nyou might as well turn them off.\n\n1550\n01:08:16.067 --> 01:08:18.295\n>> You know Mike, you know,\ncan you turn them off?\n\n1551\n01:08:18.295 --> 01:08:23.172\nI know you can drop them to one.\n>> You can set it to zero, I think, and\n\n1552\n01:08:23.172 --> 01:08:24.670\nit should.\n\n1553\n01:08:24.670 --> 01:08:26.500\n>> Let's say L2TP.\n\n1554\n01:08:26.500 --> 01:08:28.780\nMaybe I decide I'm not\ngoing to use that one.\n\n1555\n01:08:28.780 --> 01:08:34.974\nAnd if we set the ports to zero, does that\n>> Is that allowed?\n\n1556\n01:08:34.974 --> 01:08:35.717\nYeah it's telling you.\n\n1557\n01:08:35.717 --> 01:08:38.067\n>> It's just letting me know\nthat we might disconnect people.\n\n1558\n01:08:38.067 --> 01:08:39.095\nIt sure will.\n\n1559\n01:08:39.095 --> 01:08:40.082\nLook at that!\n\n1560\n01:08:40.082 --> 01:08:41.870\nI learned something new today.\n\n1561\n01:08:41.870 --> 01:08:45.632\nIf we know were not going to use L2TP,\nwe can drop that down.\n\n1562\n01:08:45.632 --> 01:08:46.827\nPretty cool.\n\n1563\n01:08:46.827 --> 01:08:48.475\nI didn't know you could go to zero.\n\n1564\n01:08:48.475 --> 01:08:49.937\nI'll put it back though,\nbecause I'm like that.\n\n1565\n01:08:49.937 --> 01:08:53.470\n>> Just in case.\n\n1566\n01:08:53.470 --> 01:08:54.550\n>> Mike, help me out here.\n\n1567\n01:08:54.550 --> 01:08:58.390\nI know on the old servers, on like Windows\nserver 2000, when you messed with this\n\n1568\n01:08:58.390 --> 01:09:01.900\nstuff, you had to restart the routing\nremote access server service,\n\n1569\n01:09:01.900 --> 01:09:02.723\ndo you still have to do that?\n\n1570\n01:09:02.723 --> 01:09:04.270\n>> No.\nNot when you're configuring the ports and\n\n1571\n01:09:04.270 --> 01:09:05.010\nstuff like that.\n\n1572\n01:09:05.010 --> 01:09:07.590\nIf you change policies,\nyou really shouldn't have to either.\n\n1573\n01:09:07.590 --> 01:09:10.829\nYou can go in and re-arrange them, but\ntheir not read until the client makes\n\n1574\n01:09:10.829 --> 01:09:13.220\nthe attempt, so\nthere's really no reason to refresh.\n\n1575\n01:09:13.220 --> 01:09:15.910\n>> Okay, cool, we should be good to go.\n\n1576\n01:09:15.910 --> 01:09:17.200\nWe should be able to connect.\n\n1577\n01:09:17.200 --> 01:09:20.610\nWe're running four different VPN\nprotocols, so the cool part here is when\n\n1578\n01:09:20.610 --> 01:09:23.940\nour clients try to connect,\nthey've got four different choices.\n\n1579\n01:09:23.940 --> 01:09:26.000\nThat's a a good thing and a bad thing.\n\n1580\n01:09:26.000 --> 01:09:31.080\nPPTP is widely regarded as non-secure now\nand so you may not want to use that one.\n\n1581\n01:09:31.080 --> 01:09:33.480\nThe other ones still are pretty secure so\n\n1582\n01:09:33.480 --> 01:09:35.670\nit gives us that flexibility for\nour client.\n\n1583\n01:09:35.670 --> 01:09:38.506\n>> Some of those are going to\nrequire extra configuration, too.\n\n1584\n01:09:38.506 --> 01:09:42.643\nLike our client is going to attempt to use\nIKAV2, but we don't have certificates set\n\n1585\n01:09:42.643 --> 01:09:46.664\nup and things like that to support it, so\nI would imagine he's gonna end up flipping\n\n1586\n01:09:46.664 --> 01:09:49.546\nover and using PPTP because\nit doesn't require anything.\n\n1587\n01:09:49.546 --> 01:09:51.510\n>> Yeah,\nthat one gets you the most compatibility.\n\n1588\n01:09:51.510 --> 01:09:54.220\nThat's normally what happens\nwhen you lower your security.\n\n1589\n01:09:54.220 --> 01:09:54.832\n>> Yep.\n\n1590\n01:09:54.832 --> 01:09:57.300\n>> All right, so\nhere I am on a Windows 8 client.\n\n1591\n01:09:57.300 --> 01:10:00.570\nThis is the mobile device that we've been\nusing that's kind of on the outside of\n\n1592\n01:10:00.570 --> 01:10:01.250\nour network.\n\n1593\n01:10:01.250 --> 01:10:04.880\nI'm going to create a VPN connection and\n\n1594\n01:10:04.880 --> 01:10:07.750\nyou've got this connect\nto a network option.\n\n1595\n01:10:07.750 --> 01:10:14.350\nI just did a quick search for VPN and,\nwait, actually I need the VPN window.\n\n1596\n01:10:16.120 --> 01:10:18.140\nManage virtual private networks.\n\n1597\n01:10:18.140 --> 01:10:18.746\nAll right.\n\n1598\n01:10:18.746 --> 01:10:21.580\nSo we can go through here and\nwe can define our VPN settings,\n\n1599\n01:10:21.580 --> 01:10:23.180\nI'm gonna add a VPN connection.\n\n1600\n01:10:23.180 --> 01:10:24.284\nThere's that.\n\n1601\n01:10:24.284 --> 01:10:25.119\n>> Don't you love that now?\n\n1602\n01:10:25.119 --> 01:10:27.534\n>> It just keeps coming up,\ntoo, it never goes away.\n\n1603\n01:10:27.534 --> 01:10:29.787\n>> You've got to go up to the corner and\nslide down or something.\n\n1604\n01:10:29.787 --> 01:10:32.840\nOnce you use it it should.\n\n1605\n01:10:32.840 --> 01:10:35.034\nAnd now with your dual mouse, who knows.\n\n1606\n01:10:35.034 --> 01:10:36.926\n>> All right, so\nnow we're going to go through-\n\n1607\n01:10:36.926 --> 01:10:37.611\n>> [LAUGH]\n\n1608\n01:10:37.611 --> 01:10:39.322\n>> And it's gonna ask us to add a VPN\n\n1609\n01:10:39.322 --> 01:10:40.490\nconnection.\n\n1610\n01:10:40.490 --> 01:10:43.320\nIt's got a few VPN providers\nthat are kinda built in.\n\n1611\n01:10:43.320 --> 01:10:47.210\nCheck Point, F5,\nJuniper I'm gonna choose Microsoft.\n\n1612\n01:10:47.210 --> 01:10:49.540\nAnd then we can put in\nour sign in information.\n\n1613\n01:10:49.540 --> 01:10:51.120\nI'll say I have a user name and\na password.\n\n1614\n01:10:51.120 --> 01:10:53.480\nAnd we did that, vpnuser.\n\n1615\n01:10:53.480 --> 01:10:55.090\n>> Vpnuser.\nThat super secret password.\n\n1616\n01:10:55.090 --> 01:10:56.150\n>> I'll put that one in.\n\n1617\n01:10:56.150 --> 01:10:56.740\nYou know what?\n\n1618\n01:10:56.740 --> 01:11:00.738\nActually, it made me do\na stronger password.\n\n1619\n01:11:00.738 --> 01:11:02.130\nAll right.\n\n1620\n01:11:02.130 --> 01:11:04.670\nIf you're gonna be using\nthis computer all the time,\n\n1621\n01:11:04.670 --> 01:11:07.310\nyou can tell it to remember your sign\nin info, and you won't have to do it.\n\n1622\n01:11:08.330 --> 01:11:10.610\nYeah, not always the best idea.\n\n1623\n01:11:10.610 --> 01:11:11.870\nBut I'm going to do it here.\n\n1624\n01:11:11.870 --> 01:11:12.520\nI'm in the lab.\n\n1625\n01:11:12.520 --> 01:11:13.750\n>> In the lab environment is great.\n\n1626\n01:11:13.750 --> 01:11:15.030\nPlease don't do that.\n\n1627\n01:11:15.030 --> 01:11:18.020\nMy problem with that is if you leave\nyour laptop sitting around and\n\n1628\n01:11:18.020 --> 01:11:18.970\nsomebody walks up to it,\n\n1629\n01:11:18.970 --> 01:11:22.870\nsnags it, you're already logged on,\nthey double click on your VPN connection.\n\n1630\n01:11:22.870 --> 01:11:26.590\nAnd now they're connected to your work\nas you, so never a good idea, really.\n\n1631\n01:11:26.590 --> 01:11:30.040\nIt's just eight characters guys,\nwe can type that in.\n\n1632\n01:11:30.040 --> 01:11:33.190\n>> Then I just need to give it a name and\nspecify the server to connect to.\n\n1633\n01:11:33.190 --> 01:11:36.120\nYou'll probably have a DNS\nname attached to your server.\n\n1634\n01:11:36.120 --> 01:11:37.570\nI didn't do that before the show, so\n\n1635\n01:11:37.570 --> 01:11:41.080\nI'm just going to punch in 131.107.0.1,\nI think was the IP of that server.\n\n1636\n01:11:41.080 --> 01:11:43.670\nYes.\n>> [INAUDIBLE] on that public side.\n\n1637\n01:11:44.800 --> 01:11:45.760\n>> All right.\n\n1638\n01:11:45.760 --> 01:11:51.010\nSo I'll punch that in there, and now,\nit's going to create that VPN connection.\n\n1639\n01:11:51.010 --> 01:11:51.660\n>> Slowly.\n\n1640\n01:11:51.660 --> 01:11:53.654\n>> On the client side, in Windows 8,\n\n1641\n01:11:53.654 --> 01:11:56.985\nit actually sets it up with\nthe 4 different VPN types also.\n\n1642\n01:11:56.985 --> 01:11:59.722\nSo when it connects,\nit will try the strongest one first and\n\n1643\n01:11:59.722 --> 01:12:03.247\nthen kinda move down the line until it\nfinds one that will actually connect.\n\n1644\n01:12:03.247 --> 01:12:04.054\nAll right.\n\n1645\n01:12:04.054 --> 01:12:06.277\nSo now I've got this VPN\nconnection right here.\n\n1646\n01:12:06.277 --> 01:12:07.014\nConnect to Corporate.\n\n1647\n01:12:07.014 --> 01:12:07.909\nWe'll go ahead and click that.\n\n1648\n01:12:07.909 --> 01:12:12.688\n>> I love this part, I think that this is-\n>> You know what,\n\n1649\n01:12:12.688 --> 01:12:16.182\nI can't see my-\n>> Exactly\n\n1650\n01:12:16.182 --> 01:12:18.370\n>> [LAUGH] Fun.\n\n1651\n01:12:18.370 --> 01:12:19.821\nAll right, well, let's do this.\n\n1652\n01:12:19.821 --> 01:12:20.733\n>> Windows key.\n\n1653\n01:12:20.733 --> 01:12:26.505\n>> Now let's go to our Connect to\na Network > Connection to Corporate,\n\n1654\n01:12:26.505 --> 01:12:27.705\nand Connect.\n\n1655\n01:12:27.705 --> 01:12:28.560\nThere we go.\n\n1656\n01:12:29.720 --> 01:12:31.360\nAll right, verifying my credentials.\n\n1657\n01:12:31.360 --> 01:12:33.440\nSo it's connecting up to that system.\n\n1658\n01:12:33.440 --> 01:12:37.750\nAnd hopefully it gets a match on\nthe first protocol it tries, but\n\n1659\n01:12:37.750 --> 01:12:39.650\nit may fail and\nthen it will move to the second one.\n\n1660\n01:12:39.650 --> 01:12:42.090\nAnd it's going to try to connect\nwith the different credentials\n\n1661\n01:12:42.090 --> 01:12:43.310\nuntil it establishes.\n\n1662\n01:12:43.310 --> 01:12:45.250\nIt does seem to be taking\nlonger than it should.\n\n1663\n01:12:46.660 --> 01:12:47.917\n>> Has been going a little slow.\n\n1664\n01:12:47.917 --> 01:12:49.768\n>> It could just be slow.\n\n1665\n01:12:49.768 --> 01:12:50.918\nI could have typed the password in wrong,\ntoo.\n\n1666\n01:12:50.918 --> 01:12:52.317\nThat definitely would not be beyond me.\n\n1667\n01:12:52.317 --> 01:12:55.950\n>> [LAUGH]\n>> I\n\n1668\n01:12:55.950 --> 01:13:00.414\ngot an error that the dang disappeared.\n\n1669\n01:13:00.414 --> 01:13:02.600\n[LAUGH] All right, well,\nlet's try that again.\n\n1670\n01:13:05.430 --> 01:13:07.630\nIt was saying something about EAP,\nthere we go.\n\n1671\n01:13:07.630 --> 01:13:11.830\nThe Extensible Authentication Protocol,\nor EAP, required for\n\n1672\n01:13:11.830 --> 01:13:15.400\nauthentication is not\ninstalled on your computer.\n\n1673\n01:13:15.400 --> 01:13:20.250\nSo, it tried a authentication type, or\nthe server was requesting authentication\n\n1674\n01:13:20.250 --> 01:13:23.460\ntype that our client didn't have,\nthe client didn't have it installed.\n\n1675\n01:13:23.460 --> 01:13:25.490\nSo I may need to configure that,\n\n1676\n01:13:25.490 --> 01:13:30.350\nbut you'd think that it would've just\nmoved over to one of the other ones.\n\n1677\n01:13:30.350 --> 01:13:32.213\n>> Yeah, I'm not sure why it didn't.\nNormally the clients are going to cycle\n\n1678\n01:13:32.213 --> 01:13:35.417\nthrough all the available protocols,\nlooking for one that the server supports,\n\n1679\n01:13:35.417 --> 01:13:36.825\nand they can make that connection.\n\n1680\n01:13:36.825 --> 01:13:40.143\nSo he should have gone through IKE,\nand then SSTP,\n\n1681\n01:13:40.143 --> 01:13:44.712\nand then L2TP, and then PPTP, or\nwhatever order they wanna choose.\n\n1682\n01:13:44.712 --> 01:13:47.329\n>> So what I'm going to do is\nI'm going to go in here, and\n\n1683\n01:13:47.329 --> 01:13:49.729\nI'm just editing that\nconnection from before.\n\n1684\n01:13:49.729 --> 01:13:53.070\nAnd you know I've got my Windows 8.\n\n1685\n01:13:53.070 --> 01:13:54.940\n>> Can you get all the way\nup in the corner and\n\n1686\n01:13:54.940 --> 01:13:57.870\nthen slide down to bring\ndown the charms bar?\n\n1687\n01:13:57.870 --> 01:13:58.790\nIs it not letting you?\n\n1688\n01:13:58.790 --> 01:13:59.440\n>> No.\n\n1689\n01:13:59.440 --> 01:14:00.870\n>> Gosh dang it.\n\n1690\n01:14:00.870 --> 01:14:03.290\nBecause that's the only way I know\nhow to make that darn thing go away,\n\n1691\n01:14:03.290 --> 01:14:05.060\nis to actually do what it wants you to do.\n\n1692\n01:14:05.060 --> 01:14:05.925\n>> Well, anyhow.\n\n1693\n01:14:05.925 --> 01:14:07.750\n>> [LAUGH]\n>> As you scroll down this screen,\n\n1694\n01:14:07.750 --> 01:14:12.540\nyou'll see various options down here, and\nyou've got Automatically detect settings,\n\n1695\n01:14:12.540 --> 01:14:13.580\nand so on.\n\n1696\n01:14:13.580 --> 01:14:16.102\nThis is where it's trying to find out\ninformation about the other side to be\n\n1697\n01:14:16.102 --> 01:14:16.714\nable to match up.\n\n1698\n01:14:16.714 --> 01:14:21.418\nAnd my Automatically detect settings is\nIs actually turned off, which is strange.\n\n1699\n01:14:21.418 --> 01:14:23.072\nSo I'm gonna turn that on.\n\n1700\n01:14:23.072 --> 01:14:27.030\n>> That might fix everything right there.\n\n1701\n01:14:27.030 --> 01:14:28.710\n>> And then we'll give that a shot, yeah.\n\n1702\n01:14:28.710 --> 01:14:31.420\nAnd we don't have a proxy or\na script to call, or anything like that.\n\n1703\n01:14:31.420 --> 01:14:33.110\nSo let's give that a shot.\n\n1704\n01:14:33.110 --> 01:14:35.710\n>> It's not letting you click Save.\n\n1705\n01:14:35.710 --> 01:14:37.025\n>> Well, this one doesn't have a Save,\ndoes it?\n\n1706\n01:14:37.025 --> 01:14:39.049\n>> That was just for\nthe manual configuration, okay.\n\n1707\n01:14:41.724 --> 01:14:44.638\n>> All right.\nBoy, that little screen.\n\n1708\n01:14:44.638 --> 01:14:48.903\n>> They say that's an improvement over the\nold way they were trying to show you how\n\n1709\n01:14:48.903 --> 01:14:49.817\nto use Windows.\n\n1710\n01:14:49.817 --> 01:14:50.390\nRight?\n\n1711\n01:14:50.390 --> 01:14:54.250\nDuring that initial Splash screen,\nwelcome to Windows.\n\n1712\n01:14:54.250 --> 01:14:56.897\nIt gave you that little spiel about,\nhere's how you use Windows.\n\n1713\n01:14:56.897 --> 01:14:59.115\nYeah, they say this is better now.\n\n1714\n01:14:59.115 --> 01:15:00.136\n[LAUGH]\n>> Yeah.\n\n1715\n01:15:00.136 --> 01:15:04.157\n[LAUGH] All right, well, it is still\ncomplaining, saying that EAP is not there.\n\n1716\n01:15:04.157 --> 01:15:05.460\nThat is strange.\n\n1717\n01:15:06.890 --> 01:15:08.670\nWell, let's go a slightly different way.\n\n1718\n01:15:09.920 --> 01:15:12.360\nSo I'm gonna go into my Network and\nSharing Center.\n\n1719\n01:15:13.860 --> 01:15:17.070\nAnd in our Network and Sharing Center,\nyou'll see where you can set up\n\n1720\n01:15:17.070 --> 01:15:20.750\na connection to a network, and\nthis is kind of using our old screen.\n\n1721\n01:15:20.750 --> 01:15:24.400\nAnd the nice thing about the old screen is\nyou do get a few additional options, so\n\n1722\n01:15:24.400 --> 01:15:26.875\nI'm gonna do the Connect to a VPN.\n\n1723\n01:15:26.875 --> 01:15:32.080\nAnd, let's see, we don't.\n\n1724\n01:15:32.080 --> 01:15:34.610\nWell, I guess here I can\nmodify the one that we've got.\n\n1725\n01:15:34.610 --> 01:15:37.160\nAnd it is actually trying to do IKEv2.\n\n1726\n01:15:37.160 --> 01:15:38.570\nBut then it doesn't let me edit it.\n\n1727\n01:15:38.570 --> 01:15:40.000\nAll right, let me go back this way.\n\n1728\n01:15:40.000 --> 01:15:42.280\nSo I'll set up a network connection.\n\n1729\n01:15:42.280 --> 01:15:42.780\nWe'll set up a new one.\n\n1730\n01:15:46.288 --> 01:15:48.285\n>> Actually, yeah,\nI think if you go back to that-\n\n1731\n01:15:48.285 --> 01:15:48.958\n>> Did I choose the wrong one?\n\n1732\n01:15:48.958 --> 01:15:51.360\n>> Yeah, if you go back through\nthe connector workplace VPN.\n\n1733\n01:15:51.360 --> 01:15:52.104\n>> I did.\n>> Yep.\n\n1734\n01:15:52.104 --> 01:15:52.839\n[LAUGH]\n>> All right,\n\n1735\n01:15:52.839 --> 01:15:53.596\nI need to connect to a workplace.\n\n1736\n01:15:53.596 --> 01:15:54.850\nAll right, I choose the connector route.\n\n1737\n01:15:54.850 --> 01:15:56.412\nAll right, so\nwe're gonna create a new one.\n\n1738\n01:15:56.412 --> 01:15:58.560\nThe other one is doing IKEv2.\n\n1739\n01:15:58.560 --> 01:16:02.220\nAnd we're missing some EAP\npiece on this workstation,\n\n1740\n01:16:02.220 --> 01:16:04.240\nand so we would need to add that.\n\n1741\n01:16:04.240 --> 01:16:06.460\nI'm gonna go ahead and just set up\nto use one of the other protocols.\n\n1742\n01:16:07.679 --> 01:16:09.434\n>> So yeah,\nit is an internet connection, trust me.\n\n1743\n01:16:09.434 --> 01:16:09.996\n>> Yeah.\n\n1744\n01:16:09.996 --> 01:16:15.917\nSo, well punch in that server that\nwe're connecting to, 131.107.0.1.\n\n1745\n01:16:15.917 --> 01:16:20.132\nI'll give it a name of-\n>> You better work, sucker.\n\n1746\n01:16:20.132 --> 01:16:21.260\n>> Corporate Edge.\n\n1747\n01:16:21.260 --> 01:16:22.080\nYeah.\n\n1748\n01:16:22.080 --> 01:16:23.850\nI'll tell it to remember my credentials.\n\n1749\n01:16:26.320 --> 01:16:27.217\nAll right.\n\n1750\n01:16:27.217 --> 01:16:29.767\nIt still didn't give me the-\n>> It's over there in your list now,\n\n1751\n01:16:29.767 --> 01:16:31.807\nyou should be able to,\nhopefully, let's try it and see.\n\n1752\n01:16:40.944 --> 01:16:43.208\n>> It still didn't give me the option\nto pick the other protocols, though.\n\n1753\n01:16:43.208 --> 01:16:48.138\n>> Yeah, and assuming, like I said,\nassuming spells [INAUDIBLE], but\n\n1754\n01:16:48.138 --> 01:16:48.988\nit should.\n\n1755\n01:16:48.988 --> 01:16:49.649\n>> [LAUGH] Yeah, same problem.\n\n1756\n01:16:49.649 --> 01:16:52.094\nAll right, so\nI need to get EAP added to this machine.\n\n1757\n01:16:52.094 --> 01:16:55.037\nSo it's just missing some of those\nWindows features needed for it.\n\n1758\n01:16:55.037 --> 01:16:57.057\n>> Try doing a Change\nadapter settings up there.\n\n1759\n01:16:57.057 --> 01:16:59.840\nLet's just check one more thing.\n\n1760\n01:17:01.990 --> 01:17:04.622\nPull up the properties of that guy.\n\n1761\n01:17:04.622 --> 01:17:08.163\nAnd let's head on over to the-\n>> We can change it here, perfect.\n\n1762\n01:17:08.163 --> 01:17:09.382\n>> Yeah,\nlet's change that to something else.\n\n1763\n01:17:09.382 --> 01:17:11.826\n>> Yeah.\nSo it's defaulting to IKEv2.\n\n1764\n01:17:11.826 --> 01:17:14.106\nIt uses\nthe Extensible Authentication Protocol,\n\n1765\n01:17:14.106 --> 01:17:17.454\nwhich usually is designed to exchange\ncertificates for authentication.\n\n1766\n01:17:17.454 --> 01:17:18.377\nRSA signatures.\n\n1767\n01:17:18.377 --> 01:17:20.902\nBut we're using username and password.\n\n1768\n01:17:20.902 --> 01:17:22.510\nAnd for some reason,\nit's not flipping over to that.\n\n1769\n01:17:22.510 --> 01:17:24.370\nBut here, we can flip.\n\n1770\n01:17:24.370 --> 01:17:26.050\nAnd let me show you how we got there.\n\n1771\n01:17:26.050 --> 01:17:30.838\nWe were in the Networking and Sharing\nCenter, and I just went to Change adapter\n\n1772\n01:17:30.838 --> 01:17:35.050\nsettings, and pulled up the Properties\non that Corporate Edge connection.\n\n1773\n01:17:35.050 --> 01:17:36.490\nAnd if we flip,\n\n1774\n01:17:36.490 --> 01:17:40.360\nif we go to the Security tab you can\nmanually define which protocol to use.\n\n1775\n01:17:40.360 --> 01:17:41.578\nAnd you'll see it's set to Automatic.\n\n1776\n01:17:41.578 --> 01:17:45.830\nIt should have tried the most secure,\nIKEv2, and then moved to the other ones.\n\n1777\n01:17:45.830 --> 01:17:47.299\nAnd for some reason it's not doing that.\n\n1778\n01:17:47.299 --> 01:17:48.030\n>> Yeah I don't know why it's not.\n\n1779\n01:17:48.030 --> 01:17:50.625\nCuz we've got them all four\nenabled on the server, so\n\n1780\n01:17:50.625 --> 01:17:52.535\nit should have allowed them to do that.\n\n1781\n01:17:52.535 --> 01:17:54.002\n>> Yeah.\nLet's just move to L2TP since\n\n1782\n01:17:54.002 --> 01:17:55.101\nthis is a straight up connection.\n\n1783\n01:17:55.101 --> 01:17:57.490\nIt should work pretty well.\n\n1784\n01:17:57.490 --> 01:18:00.500\nOr we could do like PPTP,\nif you want to be on the safe side.\n\n1785\n01:18:01.730 --> 01:18:02.970\nAll right.\n\n1786\n01:18:02.970 --> 01:18:04.985\nAnd, let's try that, see what happens.\n\n1787\n01:18:12.978 --> 01:18:14.510\n>> Wow.\n>> Same issue.\n\n1788\n01:18:14.510 --> 01:18:15.805\nWait, that's not the one.\n\n1789\n01:18:23.200 --> 01:18:24.511\nIt is just not happy with that.\n\n1790\n01:18:24.511 --> 01:18:25.720\n>> Not installed on your computer?\n\n1791\n01:18:25.720 --> 01:18:28.950\nI have never, interesting.\n\n1792\n01:18:28.950 --> 01:18:31.210\n>> And I've got Use EAP turned off.\n\n1793\n01:18:31.210 --> 01:18:32.200\n>> Right.\n\n1794\n01:18:32.200 --> 01:18:33.990\nSo I don't know why it's even trying.\n\n1795\n01:18:33.990 --> 01:18:35.600\n>> The server must be asking for it.\n\n1796\n01:18:35.600 --> 01:18:37.120\nThe only thing I can think of.\n\n1797\n01:18:37.120 --> 01:18:38.340\nSo let's jump back here.\n\n1798\n01:18:38.340 --> 01:18:40.930\nAnd what we'll do is we'll just\njump back over to the sever and-\n\n1799\n01:18:40.930 --> 01:18:43.158\n>> Could disable some of those other\n\n1800\n01:18:43.158 --> 01:18:44.035\nprotocols.\n\n1801\n01:18:44.035 --> 01:18:47.860\n>> Let's see, we got Windows\nauthentication turned on, and on IKEv2.\n\n1802\n01:18:47.860 --> 01:18:53.430\nThere's nothing crazy in here.\n\n1803\n01:18:53.430 --> 01:18:56.595\n>> Why don't we try turning off IKE port?\n\n1804\n01:18:56.595 --> 01:18:59.425\nAnd SSTP ports, maybe?\n\n1805\n01:19:00.955 --> 01:19:01.829\n>> And force it down to what we want?\n\n1806\n01:19:01.829 --> 01:19:03.391\n>> Just kind of force it down to PPTP,\nyeah.\n\n1807\n01:19:03.391 --> 01:19:05.010\n>> [LAUGH] That'll work.\n\n1808\n01:19:05.010 --> 01:19:05.562\n>> That is strange.\n\n1809\n01:19:05.562 --> 01:19:09.474\nNormally, it's automatic.\n\n1810\n01:19:16.314 --> 01:19:20.163\nYeah, cuz there's nothing on the client\nthat we have to install to give it,\n\n1811\n01:19:20.163 --> 01:19:22.809\nI mean the remote access\nis built into Windows 8, so\n\n1812\n01:19:22.809 --> 01:19:25.113\nshouldn't have to install anything there.\n\n1813\n01:19:25.113 --> 01:19:26.343\n>> I'm wondering if we actually had\nto restart this service earlier.\n\n1814\n01:19:26.343 --> 01:19:27.951\nI'm gonna give it a kick in the butt.\n\n1815\n01:19:27.951 --> 01:19:30.099\nI've had mixed results with\nrouting remote access.\n\n1816\n01:19:30.099 --> 01:19:33.665\nA lot of times you make changes, and\nit says they take effect, but it\n\n1817\n01:19:33.665 --> 01:19:37.934\nisn't until you restart the servers that\nit truly kicks in and does it's thing.\n\n1818\n01:19:37.934 --> 01:19:39.543\nSo I'm just gonna give it\na little restart there.\n\n1819\n01:19:39.543 --> 01:19:41.167\n>> It's Windows, that never hurts, right?\n\n1820\n01:19:41.167 --> 01:19:44.139\n>> Yeah [LAUGH],\nreboot fixes everything, right?\n\n1821\n01:19:44.139 --> 01:19:47.367\nOkay, so while that's doing that,\nlet me jump back over here.\n\n1822\n01:19:47.367 --> 01:19:52.255\nAnd so, we've got this guy set to PPTP,\nso that's pretty straightforward.\n\n1823\n01:19:52.255 --> 01:19:55.120\nThe rest of this we've\ngot at our defaults.\n\n1824\n01:19:55.120 --> 01:19:57.378\n>> And PPTP doesn't require\nany additional configuration.\n\n1825\n01:19:57.378 --> 01:19:59.957\nIt's using PPP, or\nPoint-to-Point Protocol, and\n\n1826\n01:19:59.957 --> 01:20:03.103\nthen Microsoft Point-to-Point Encryption\nis built into that.\n\n1827\n01:20:03.103 --> 01:20:06.342\nSo there's no certificates to worry about,\nor anything like that.\n\n1828\n01:20:06.342 --> 01:20:08.432\nUsually pretty straightforward.\n\n1829\n01:20:08.432 --> 01:20:12.312\n>> I know this sounds dumb, but\nI'm going to reset that password because\n\n1830\n01:20:12.312 --> 01:20:16.230\nI'm not entirely sure I am typing\nthe same password every time [LAUGH].\n\n1831\n01:20:16.230 --> 01:20:18.070\n>> Worst case scenario,\nwe've already got the log files, right.\n\n1832\n01:20:18.070 --> 01:20:20.080\nWe go through our\ntroubleshooting methodology and\n\n1833\n01:20:20.080 --> 01:20:24.700\ntry to see where the error is occurring\nand figure it out from there.\n\n1834\n01:20:24.700 --> 01:20:26.512\nAll right let's try this\nturkey one more time.\n\n1835\n01:20:29.008 --> 01:20:31.981\nOkay, so Corporate Edge, Connect.\n\n1836\n01:20:37.187 --> 01:20:40.423\nShoot.\n\n1837\n01:20:40.423 --> 01:20:45.950\nHm, that is interesting,\nAP Protocol type required.\n\n1838\n01:20:45.950 --> 01:20:47.340\nAll right well let's do this.\n\n1839\n01:20:47.340 --> 01:20:48.590\nWhy don't we stop here and take a break.\n\n1840\n01:20:48.590 --> 01:20:49.510\n>> Okay.\n>> And\n\n1841\n01:20:49.510 --> 01:20:50.700\nduring the break I'm gonna dig in and\n\n1842\n01:20:50.700 --> 01:20:52.700\nfind out exactly what is\nmissing on this system.\n\n1843\n01:20:52.700 --> 01:20:56.812\nThe whole joy of having a Windows 8\nclient with a server 2012 R3 server is\n\n1844\n01:20:56.812 --> 01:21:00.115\nthey should already be set\nup to connect to each other.\n\n1845\n01:21:00.115 --> 01:21:02.542\nSo I am not entirely sure why\nthat one was not connecting.\n\n1846\n01:21:02.542 --> 01:21:07.520\nSo it's possible we could be blocking\nsomething on the windows firewall side of\n\n1847\n01:21:07.520 --> 01:21:10.150\nthings or whatever, but-\n>> Again these are technical labs so\n\n1848\n01:21:10.150 --> 01:21:13.450\nthey might have configured something\na certain way to support their lab steps.\n\n1849\n01:21:13.450 --> 01:21:14.550\nAnd we're just not seeing it, so.\n\n1850\n01:21:14.550 --> 01:21:17.432\n>> Well let me take a look, we'll see\nwhats going on, when we get back,\n\n1851\n01:21:17.432 --> 01:21:20.740\nwe'll figure that out and get that going,\nand then we'll wrap up from there.\n\n1852\n01:21:20.740 --> 01:21:21.460\nWe've only got a little bit left.\n\n1853\n01:21:21.460 --> 01:21:22.168\n>> Sounds like a plan.\n\n1854\n01:21:22.168 --> 01:21:23.062\n>> All right, so stay tuned.\n\n1855\n01:21:23.062 --> 01:21:24.826\nWe'll be back in just a few.\n\n1856\n01:21:24.826 --> 01:21:32.737\n[NOISE].\n\n1857\n01:21:32.737 --> 01:21:34.269\nAll right, welcome back everybody.\n\n1858\n01:21:34.269 --> 01:21:36.866\nSo this is actually a pretty fun one,\nthis problem.\n\n1859\n01:21:36.866 --> 01:21:37.960\n>> Yes.\n>> So, Mike and I,\n\n1860\n01:21:37.960 --> 01:21:39.380\nwe hadn't seen that issue before.\n\n1861\n01:21:39.380 --> 01:21:41.750\nAnd so\nwe had to do some quick searching there.\n\n1862\n01:21:41.750 --> 01:21:44.396\nTurns out there's actually\na bug in Windows 8.2 that\n\n1863\n01:21:44.396 --> 01:21:45.810\nspecifically affects this.\n\n1864\n01:21:45.810 --> 01:21:47.400\nSo let me show you guys that.\n\n1865\n01:21:47.400 --> 01:21:50.910\nWhen we pulled up the properties for\ncorporate edge, or\n\n1866\n01:21:50.910 --> 01:21:52.470\nany VPN connection for that matter.\n\n1867\n01:21:52.470 --> 01:21:54.900\nAnd went to our security tab.\n\n1868\n01:21:54.900 --> 01:21:58.379\nNotice at the bottom of the screen,\nwe have our EAP options, right?\n\n1869\n01:21:58.379 --> 01:22:01.642\n>> That's your authentication field set,\nthat kind of surrounds that whole thing.\n\n1870\n01:22:01.642 --> 01:22:05.770\n>> And you've got radio buttons to\npick whether you want to use EAP,\n\n1871\n01:22:05.770 --> 01:22:08.550\nwhich we don't, because we don't\nhave a certificate server, or\n\n1872\n01:22:08.550 --> 01:22:11.240\nif you want to use traditional methods,\nusername and password,\n\n1873\n01:22:11.240 --> 01:22:14.190\nwhich is CHAP, the challenge\nhandshake authentication protocol.\n\n1874\n01:22:14.190 --> 01:22:18.431\nWell, with a radio button,\nyou can only choose one or the other, but\n\n1875\n01:22:18.431 --> 01:22:19.763\nwhich one is chosen?\n\n1876\n01:22:19.763 --> 01:22:20.274\nNeither.\n\n1877\n01:22:20.274 --> 01:22:22.010\n>> [LAUGH] Doesn't look like\nany of them are chosen to me.\n\n1878\n01:22:22.010 --> 01:22:26.640\nSo there's a bug in Windows 8.1 where\nit doesn't select one of these options.\n\n1879\n01:22:26.640 --> 01:22:29.137\nAnd so can't connect, that's interesting.\n\n1880\n01:22:29.137 --> 01:22:30.983\nAnd it does apparently\njust affect Windows 8.1.\n\n1881\n01:22:30.983 --> 01:22:35.020\nSo that's what I get for\nusing Windows 8.1.\n\n1882\n01:22:35.020 --> 01:22:37.930\n>> Even on that cutting edge, you bleed\nsometimes, what are you going to do?\n\n1883\n01:22:37.930 --> 01:22:40.450\n>> So I'm going to go ahead and tell it\nbecause I don't have a certificate server,\n\n1884\n01:22:40.450 --> 01:22:42.680\nI'm going to tell it to use\nthese protocols down here.\n\n1885\n01:22:42.680 --> 01:22:48.140\nAnd we'll go ahead and do CHAP and\nMSCHAP, so we'll check those.\n\n1886\n01:22:48.140 --> 01:22:48.900\nAll right.\n\n1887\n01:22:48.900 --> 01:22:52.580\nAnd so now it'll have\nan authentication protocol to use.\n\n1888\n01:22:52.580 --> 01:22:54.730\n>> That would have been\nthe default normally,\n\n1889\n01:22:54.730 --> 01:22:56.205\n>> It's set to you allow these,\n\n1890\n01:22:56.205 --> 01:22:58.390\nand then you can pick and\nchoose which ones.\n\n1891\n01:22:58.390 --> 01:23:00.780\nBut MS CHAP and CHAP are selected already.\n\n1892\n01:23:00.780 --> 01:23:04.120\n>> Yeah, and it's just warning me that\nwe chose a couple of protocols here,\n\n1893\n01:23:04.120 --> 01:23:07.280\nif one of them doesn't work, then\nencryption is not going to be possible,\n\n1894\n01:23:07.280 --> 01:23:08.860\nand that's fine that means\nour tunnel will drop.\n\n1895\n01:23:08.860 --> 01:23:12.620\nSo, I'm gonna choose that and\nnow let's give it a shot.\n\n1896\n01:23:12.620 --> 01:23:16.940\nAnd, it's got to get over the fact\nthat I tried to connect earlier.\n\n1897\n01:23:16.940 --> 01:23:22.450\nSo we'll connect and\nlet's see what happens this time.\n\n1898\n01:23:22.450 --> 01:23:24.610\n10th time's the charm, right?\n\n1899\n01:23:24.610 --> 01:23:26.120\nUsername and password is incorrect.\n\n1900\n01:23:26.120 --> 01:23:27.460\n>> You changed it again, so.\n\n1901\n01:23:27.460 --> 01:23:28.550\n>> What did I change it to?\n\n1902\n01:23:29.620 --> 01:23:31.648\nIt doesn't help you remember\nyour password, does it.\n\n1903\n01:23:31.648 --> 01:23:33.030\n>> [LAUGH]\n>> Well [CROSSTALK]\n\n1904\n01:23:33.030 --> 01:23:34.040\n>> Easy enough to reset it [CROSSTALK].\n\n1905\n01:23:34.040 --> 01:23:34.596\n>> All right.\n\n1906\n01:23:34.596 --> 01:23:37.899\nWell, we are getting\na password prompt which is\n\n1907\n01:23:37.899 --> 01:23:38.880\ngood, so-\n>> Yeah,\n\n1908\n01:23:38.880 --> 01:23:41.780\nthat pretty much shows us\nwe are connecting in there.\n\n1909\n01:23:41.780 --> 01:23:47.543\n>> All right, so the user account\nI created was called VPN User and\n\n1910\n01:23:47.543 --> 01:23:50.275\nI'm gonna set the password.\n\n1911\n01:23:52.893 --> 01:23:55.100\n>> This is an everyday thing\nin a corporate environment.\n\n1912\n01:23:55.100 --> 01:23:59.050\nUsers change their password,\nI changed it Friday before I went home and\n\n1913\n01:23:59.050 --> 01:24:00.500\nnow I can't remember what it was.\n\n1914\n01:24:00.500 --> 01:24:01.202\n>> Idiots like me.\n\n1915\n01:24:01.202 --> 01:24:03.214\n[LAUGH]\n>> [LAUGH] We'll go ahead and\n\n1916\n01:24:03.214 --> 01:24:04.170\nreset it real quick.\n\n1917\n01:24:04.170 --> 01:24:05.500\n>> All right.\nWell, 12th time's the charm,\n\n1918\n01:24:05.500 --> 01:24:07.900\nso, we'll get connected.\n\n1919\n01:24:07.900 --> 01:24:11.310\nYeah, if you actually get to the part\nwhere you see a user name and password\n\n1920\n01:24:11.310 --> 01:24:15.390\nprompt, that means you are talking to\nthe server and you are halfway there.\n\n1921\n01:24:15.390 --> 01:24:18.367\nAnd I did a local account.\n\n1922\n01:24:18.367 --> 01:24:20.549\nSo let me just preface that with edge so\n\n1923\n01:24:20.549 --> 01:24:23.353\nit knows where that user\naccount is coming from.\n\n1924\n01:24:28.835 --> 01:24:29.890\nAll right.\n\n1925\n01:24:29.890 --> 01:24:31.040\nAnd now it's connecting.\n\n1926\n01:24:31.040 --> 01:24:32.260\nAnd there we go.\n\n1927\n01:24:32.260 --> 01:24:34.710\nIt says Corporate Edge is connected.\n\n1928\n01:24:34.710 --> 01:24:36.240\nThe interface lit up there.\n\n1929\n01:24:36.240 --> 01:24:40.120\nI can verify that from the command\nprompt if I do an ipconfig.\n\n1930\n01:24:40.120 --> 01:24:42.181\nHere we go.\n\n1931\n01:24:42.181 --> 01:24:43.980\nHas it not pulled an address yet,\nor did it scroll off the screen?\n\n1932\n01:24:43.980 --> 01:24:45.664\n>> You might have scrolled down too far.\n\n1933\n01:24:45.664 --> 01:24:46.581\n>> There it is.\n\n1934\n01:24:46.581 --> 01:24:49.797\nSo I got 172.16.0.101.\n\n1935\n01:24:49.797 --> 01:24:51.873\nI am VPNed into that network, and\n\n1936\n01:24:51.873 --> 01:24:56.925\nnow I've got a secure connection between\nthis workstation and the Edge server.\n\n1937\n01:24:56.925 --> 01:25:00.430\nAnd so if I ping across to the domain\ncontroller which I guess I have\n\n1938\n01:25:00.430 --> 01:25:01.532\nto remember its IP.\n\n1939\n01:25:01.532 --> 01:25:03.704\n>> 0.2.\n\n1940\n01:25:03.704 --> 01:25:04.551\n>> 2.\n\n1941\n01:25:04.551 --> 01:25:07.725\nThen I'm pinging over the VPN\ntunnel to get to that server,\n\n1942\n01:25:07.725 --> 01:25:11.040\ncuz otherwise I have no route to\nbe able to get to that network.\n\n1943\n01:25:11.040 --> 01:25:13.130\n>> So your ping packets are secure\nwhile they're out there on that\n\n1944\n01:25:13.130 --> 01:25:14.010\nVPN tunnel portion.\n\n1945\n01:25:14.010 --> 01:25:15.970\n>> Yeah you don't want somebody\nintercepting your pings.\n\n1946\n01:25:15.970 --> 01:25:16.925\n>> Can't have that.\n\n1947\n01:25:16.925 --> 01:25:19.050\n[LAUGH]\n>> But if I were to build a telnet session\n\n1948\n01:25:19.050 --> 01:25:22.740\nor something of that nature it would\nnow be secured via that VPN tunnel.\n\n1949\n01:25:22.740 --> 01:25:25.490\nSo now we got secure communications and\n\n1950\n01:25:25.490 --> 01:25:30.550\nnow we can use our network remotely\nwithout the risk of crossing the internet.\n\n1951\n01:25:30.550 --> 01:25:31.710\n>> Absolutely.\n\n1952\n01:25:31.710 --> 01:25:33.520\n>> So, funny, so\nwe stumbled across a little bug.\n\n1953\n01:25:33.520 --> 01:25:35.655\nI imagine that won't be on the exam.\n\n1954\n01:25:35.655 --> 01:25:39.240\n[LAUGH] All righ, t so\nthat's pretty much VPN tunnels.\n\n1955\n01:25:39.240 --> 01:25:41.310\nIt's really not hard to set up.\n\n1956\n01:25:41.310 --> 01:25:44.390\nYou know you run through the wizard\nwhich is pretty much automatic.\n\n1957\n01:25:44.390 --> 01:25:46.930\nThe only real hard question you had\nwas which interface is connected to\n\n1958\n01:25:46.930 --> 01:25:49.660\nthe internet and then on the client\nside you specify the server.\n\n1959\n01:25:49.660 --> 01:25:53.010\nNow until they patch that bug which I\nimagine will happen in another update.\n\n1960\n01:25:53.010 --> 01:25:57.394\nYou'll have to modify that connection\nto pick one of the EAP protocols.\n\n1961\n01:25:57.394 --> 01:26:01.422\nBut aside from that, you'll connect\nright up and be in business.\n\n1962\n01:26:01.422 --> 01:26:05.880\nAll right, the last objective\nin the list if we find that.\n\n1963\n01:26:05.880 --> 01:26:07.060\nWhere are the objectives?\n\n1964\n01:26:07.060 --> 01:26:07.650\nHere.\n\n1965\n01:26:07.650 --> 01:26:12.860\nThe last objective that is on our list is\nthis guy right, the web application proxy.\n\n1966\n01:26:12.860 --> 01:26:13.590\nAll right.\n\n1967\n01:26:13.590 --> 01:26:17.530\nAnd it's actually kind of unrelated to\nwhat we've been talking about in this\n\n1968\n01:26:17.530 --> 01:26:18.240\nepisode.\n\n1969\n01:26:18.240 --> 01:26:18.830\n>> Yeah.\n>> But\n\n1970\n01:26:18.830 --> 01:26:24.310\nit's there because when we went into\nthat add remove server role screen,\n\n1971\n01:26:25.720 --> 01:26:29.270\nit was actually one of the options of\nthe routing and remote access role.\n\n1972\n01:26:29.270 --> 01:26:31.810\n>> And\nI'm still not exactly sure why they,\n\n1973\n01:26:31.810 --> 01:26:34.020\nI mean, I guess-\n>> Got to put it somewhere.\n\n1974\n01:26:34.020 --> 01:26:34.835\n>> You got to put it somewhere.\n\n1975\n01:26:34.835 --> 01:26:36.440\n>> [LAUGH]\n>> But if I'm not mistaken,\n\n1976\n01:26:36.440 --> 01:26:40.460\nit won't let you install it unless\nFederation Services is already installed.\n\n1977\n01:26:42.190 --> 01:26:46.530\nAnd, it's like, okay,\nthen why put it here?\n\n1978\n01:26:46.530 --> 01:26:47.735\n>> Let's start with what it is.\n\n1979\n01:26:47.735 --> 01:26:52.980\nRight, so, the web application proxy,\nwhat it's designed to do is allow us to\n\n1980\n01:26:52.980 --> 01:26:57.260\nhave a server, like this Edge server, that\ncan receive web calls from the internet,\n\n1981\n01:26:57.260 --> 01:27:00.860\nand then proxy them to\nan internal connection,\n\n1982\n01:27:00.860 --> 01:27:04.120\nor at least proxy their authentication,\nbut maybe even proxy the whole session.\n\n1983\n01:27:04.120 --> 01:27:06.000\nAll right?\n>> It's becoming a very common thing for\n\n1984\n01:27:06.000 --> 01:27:08.490\ncompanies to provide access\nto these applications, or\n\n1985\n01:27:08.490 --> 01:27:13.130\nrun web-based applications that either my\nusers can connect to while they're outside\n\n1986\n01:27:13.130 --> 01:27:17.800\nthe network, or customers, or other\nbusiness partners, and things like that.\n\n1987\n01:27:17.800 --> 01:27:21.660\nThey want to be able to place an order,\nwhere a supplier of raw goods, or\n\n1988\n01:27:21.660 --> 01:27:23.400\nsomething, to a manufacturer.\n\n1989\n01:27:23.400 --> 01:27:27.633\nTheir users can connect in through the\ninternet, coming through that web proxy,\n\n1990\n01:27:27.633 --> 01:27:31.080\nand then it can proxy that request\nover to our application server.\n\n1991\n01:27:31.080 --> 01:27:34.680\nSo, we don't have to directly expose\nthe application server to the internet.\n\n1992\n01:27:34.680 --> 01:27:37.240\nWe can kind of keep it\nsafe behind that proxy.\n\n1993\n01:27:37.240 --> 01:27:41.800\n>> So, Microsoft has a product called\nActive Directory Federation Services that\n\n1994\n01:27:41.800 --> 01:27:44.950\nallows you to authenticate external users\n\n1995\n01:27:44.950 --> 01:27:48.453\nin one environment against your internal\nenvironment, so it's excellent for\n\n1996\n01:27:48.453 --> 01:27:51.970\nlike websites that need to have\na user accounts for a shopping cart,\n\n1997\n01:27:51.970 --> 01:27:54.510\nbut you don't want those user accounts\nto have access to your internal network.\n\n1998\n01:27:54.510 --> 01:27:56.120\nSo it's very useful for that.\n\n1999\n01:27:56.120 --> 01:28:00.040\nAnd the web application proxy is\na key component of that, all right.\n\n2000\n01:28:00.040 --> 01:28:03.410\nSo what Microsoft did is made it a little\nmore generic where anybody can use it for\n\n2001\n01:28:03.410 --> 01:28:05.940\ntheir applications too if they want.\n\n2002\n01:28:05.940 --> 01:28:10.400\nAnd, so what they did is that they\nnested it, in the Add role wizard.\n\n2003\n01:28:10.400 --> 01:28:12.440\nWhen you're adding that\nremote access role,\n\n2004\n01:28:12.440 --> 01:28:15.690\nnotice how web application proxy\nis right there underneath it.\n\n2005\n01:28:15.690 --> 01:28:17.610\nThat's why it made it into this objective.\n\n2006\n01:28:17.610 --> 01:28:18.360\nIt's there.\n\n2007\n01:28:18.360 --> 01:28:22.839\nAnd it's there because the web\napplication proxy is moving data from one\n\n2008\n01:28:22.839 --> 01:28:26.815\ninterface to another, so\nit needs the routing feature to do it.\n\n2009\n01:28:26.815 --> 01:28:27.860\nYou can't-\n>> And it is installed already.\n\n2010\n01:28:27.860 --> 01:28:32.100\n>> Yeah, it apparently installed\nit by default when we did VPN.\n\n2011\n01:28:32.100 --> 01:28:33.440\nSo it is there.\n\n2012\n01:28:33.440 --> 01:28:34.512\nWe're not using it and\n\n2013\n01:28:34.512 --> 01:28:37.567\nwe're not going to use it until\nwe get into Federated Services.\n\n2014\n01:28:37.567 --> 01:28:41.490\nSo on the 74 10, 74 11 exam.\n\n2015\n01:28:41.490 --> 01:28:44.420\nThese exams, they don't dive into\nthings like Federated Services.\n\n2016\n01:28:44.420 --> 01:28:47.230\nBut in the 74 12 exam they do.\n\n2017\n01:28:47.230 --> 01:28:50.920\nSo when we film our 74 12 show,\nyou'll get a chance to see they're\n\n2018\n01:28:50.920 --> 01:28:54.500\nusing Federated Services and\nusing the web application proxy.\n\n2019\n01:28:54.500 --> 01:28:57.530\nFor this exam, for 74-11,\nyou need to be familiar with the concept,\n\n2020\n01:28:57.530 --> 01:29:02.140\nthat it allows you to take\nauthentication messages, as well as\n\n2021\n01:29:02.140 --> 01:29:06.550\nan actual web session, and proxy it\nthrough your server to an internal network\n\n2022\n01:29:06.550 --> 01:29:10.412\nwithout actually providing access to\nthe internal network to the external host.\n\n2023\n01:29:10.412 --> 01:29:14.270\n>> It is a really good solution cuz it\ndoes leave each side in control of their\n\n2024\n01:29:14.270 --> 01:29:16.780\nown part of the picture, right.\n\n2025\n01:29:16.780 --> 01:29:19.560\nBut I'm the resource provider,\nI'm in change of the application,\n\n2026\n01:29:19.560 --> 01:29:23.110\nI'm in charge of deciding who\ngets what level of access.\n\n2027\n01:29:23.110 --> 01:29:26.020\nBut, the other end is still in\nchange of making the accounts, and\n\n2028\n01:29:26.020 --> 01:29:28.540\nsetting all that up, and\nif they want to change\n\n2029\n01:29:28.540 --> 01:29:31.320\nwho they're allowing to come through, they\ncan do that without having to call me up,\n\n2030\n01:29:31.320 --> 01:29:36.220\nso each side stays in charge or, over\nresponsibility, over their part of it.\n\n2031\n01:29:36.220 --> 01:29:36.750\n>> Yep.\n\n2032\n01:29:36.750 --> 01:29:38.900\nThat is it.\nAll right.\n\n2033\n01:29:38.900 --> 01:29:41.650\nWell, Mike, I think that pretty much\nwraps up routing and remote access.\n\n2034\n01:29:41.650 --> 01:29:44.420\nThere's some more advanced concepts,\nlike direct access,\n\n2035\n01:29:44.420 --> 01:29:46.460\nwe're gonna get into in\nanother episode soon.\n\n2036\n01:29:46.460 --> 01:29:49.780\nAs well as some of the federated stuff\nthat we'll get into in the 7412 show, but\n\n2037\n01:29:49.780 --> 01:29:51.790\nthat pretty much wraps this up.\n\n2038\n01:29:51.790 --> 01:29:52.340\n>> Yeah, I think so.\n\n2039\n01:29:52.340 --> 01:29:53.127\nIt was a lot of fun.\n\n2040\n01:29:53.127 --> 01:29:55.426\n>> All right, well ladies and gentleman,\nI hope you guys enjoyed the show.\n\n2041\n01:29:55.426 --> 01:29:58.645\nAs always, if you ever have any questions,\nlive during the show,\n\n2042\n01:29:58.645 --> 01:30:02.672\nyou can go to ITPro.TV/live, you'll see\nour chatroom right beneath the video,\n\n2043\n01:30:02.672 --> 01:30:06.110\nyou can post your questions there,\nwe monitor and answer.\n\n2044\n01:30:06.110 --> 01:30:08.110\nIf you have questions after the show,\n\n2045\n01:30:08.110 --> 01:30:11.880\non top of all of our pages there's\na link that says Q&A, click on that.\n\n2046\n01:30:11.880 --> 01:30:12.970\nYou can post your questions there.\n\n2047\n01:30:12.970 --> 01:30:13.910\nWe monitor and answer.\n\n2048\n01:30:13.910 --> 01:30:16.580\nWe're gonna make sure that you\nguys get answers in your mind,\n\n2049\n01:30:16.580 --> 01:30:19.540\ninstead of questions, which helps\nout a lot in the testing booth.\n\n2050\n01:30:19.540 --> 01:30:20.250\n>> Absolutely.\n\n2051\n01:30:20.250 --> 01:30:21.540\n>> All right.\nHope you guys enjoyed it.\n\n2052\n01:30:21.540 --> 01:30:23.569\nSigning off for IT Pro TV, I'm Don Pezet.\n\n2053\n01:30:23.569 --> 01:30:24.469\n>> And I'm Mike Rodrick.\n\n2054\n01:30:24.469 --> 01:30:25.862\n>> And we'll see you next time.\n\n2055\n01:30:25.862 --> 01:30:35.862\n[MUSIC]\n\n2056\n01:30:38.045 --> 01:30:44.340\n[NOISE]\n\n",
          "vimeoId": "89508639"
        },
        {
          "description": "In this episode Ronnie and Mike take a look at the roles and components required for implementing DirectAccess and demonstrate its use. They also demonstrate configuring DNS and certificates as well as testing the settings by connecting a remote client machine.",
          "length": "5016",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/015-Configure-DirectAccess.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/015-Configure-DirectAccess-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/015-Configure-DirectAccess-sm.jpg",
          "title": "Configuring DirectAccess",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:15.083 --> 00:00:19.774\n[SOUND]\n\n3\n00:00:19.774 --> 00:00:29.215\n[MUSIC]\n\n4\n00:00:29.215 --> 00:00:30.930\nAll right.\nGood morning.\n\n5\n00:00:30.930 --> 00:00:31.600\nGood evening.\n\n6\n00:00:31.600 --> 00:00:32.130\nGood afternoon.\n\n7\n00:00:32.130 --> 00:00:33.425\nI did it in a different order.\n\n8\n00:00:33.425 --> 00:00:36.960\n>> [LAUGH]\n>> Welcome to IT Pro TV this afternoon.\n\n9\n00:00:36.960 --> 00:00:38.600\nAs we get started, my name is Ronnie Wong.\n\n10\n00:00:38.600 --> 00:00:39.580\nI'll be your host.\n\n11\n00:00:39.580 --> 00:00:41.148\nHere with Mike Rodrick.\n\n12\n00:00:41.148 --> 00:00:41.898\n>> Hey Ronnie.\n\n13\n00:00:41.898 --> 00:00:42.857\n>> How are you doing?\n\n14\n00:00:42.857 --> 00:00:43.902\n>> Fantastic, how are you doing?\n>> Yes.\n\n15\n00:00:43.902 --> 00:00:46.845\n>> Yeah.\n>> How is it going in the rodeo clown\n\n16\n00:00:46.845 --> 00:00:49.192\ntraining school this week?\n\n17\n00:00:49.192 --> 00:00:51.440\n>> It's been rough, it has been rough.\n\n18\n00:00:51.440 --> 00:00:53.265\nThe barrels are uncomfortable.\n\n19\n00:00:53.265 --> 00:00:55.425\n>> Yes.\n>> And you still feel it when it hits you.\n\n20\n00:00:55.425 --> 00:00:56.985\n>> Yes.\nI see you've chosen a different attire,\n\n21\n00:00:56.985 --> 00:00:59.008\nin terms of a vampire attire,\nthis morning.\n\n22\n00:00:59.008 --> 00:00:59.895\nSo-\n>> [LAUGH] Hey,\n\n23\n00:00:59.895 --> 00:01:01.475\nyou know I'm feeling a little black today.\n\n24\n00:01:01.475 --> 00:01:01.975\nA little-\n>> [CROSSTALK] That's right.\n\n25\n00:01:01.975 --> 00:01:03.143\nA little Johnny Cash.\n\n26\n00:01:03.143 --> 00:01:03.653\n>> A little\n\n27\n00:01:03.653 --> 00:01:04.373\nHot Topic.\n>> There you go.\n\n28\n00:01:04.373 --> 00:01:05.080\n>> Yeah, Hot Topic.\n\n29\n00:01:05.080 --> 00:01:07.802\n>> [LAUGH]\n>> All right, well, we're glad you're here\n\n30\n00:01:07.802 --> 00:01:15.642\nwith us today as we continue on in our\ntrek through Windows Server 2012 here.\n\n31\n00:01:15.642 --> 00:01:21.291\nWe are continuing to film or\nshoot our episode on 70-411.\n\n32\n00:01:21.291 --> 00:01:23.021\n>> Mm-hm.\n>> And we have come to the topic\n\n33\n00:01:23.021 --> 00:01:24.940\nof what we call direct access.\n\n34\n00:01:24.940 --> 00:01:28.780\nNow, just recently, we also went ahead and\ndid an episode on routing and\n\n35\n00:01:28.780 --> 00:01:29.530\nremote access.\n\n36\n00:01:29.530 --> 00:01:30.860\n>> Right.\n>> As well as VPNs, and\n\n37\n00:01:30.860 --> 00:01:35.700\nso this is a natural lead-in to\nthe topics that we have, that we need.\n\n38\n00:01:35.700 --> 00:01:39.600\nIn those particular topics that we talked\nabout, we're really trying to grant\n\n39\n00:01:39.600 --> 00:01:43.870\naccess to someone that is\nactually outside of our network.\n\n40\n00:01:43.870 --> 00:01:46.385\nBut they still need access\nto resources inside.\n\n41\n00:01:46.385 --> 00:01:48.120\n>> Mm-hm.\n>> So we use things like routing,\n\n42\n00:01:48.120 --> 00:01:51.270\nwe also today, a lot of times here,\n\n43\n00:01:51.270 --> 00:01:56.600\nuse VPN access to grant the actual\naccess inside of our network as well.\n\n44\n00:01:56.600 --> 00:01:57.865\nSo in that sense.\n\n45\n00:01:57.865 --> 00:02:01.445\nWhen we talk about direct access,\nMike I have to ask the question.\n\n46\n00:02:01.445 --> 00:02:04.315\nIs there really a need for\nit since we already have stuff like this?\n\n47\n00:02:04.315 --> 00:02:06.595\n>> You know,\nVPN solutions are fantastic, right?\n\n48\n00:02:06.595 --> 00:02:09.725\nThey let my users access my network\nresources when they're outside,\n\n49\n00:02:09.725 --> 00:02:12.405\nwhen they're travelling,\nwhen they're at home, and that's great,\n\n50\n00:02:12.405 --> 00:02:15.157\nbut, direct access kind\nof picks it up a notch.\n\n51\n00:02:15.157 --> 00:02:15.905\nIt really,\n\n52\n00:02:15.905 --> 00:02:20.545\ngives them a way to access network\nresources that's transparent to that.\n\n53\n00:02:20.545 --> 00:02:24.920\nAnd as with a VPN, I've gotta login to my\ncomputer, I've gotta double-click on that\n\n54\n00:02:24.920 --> 00:02:28.770\nVPN icon, I've gotta type in my user name\nand password, and I've gotta connect.\n\n55\n00:02:28.770 --> 00:02:32.840\nAnd once I've connected, then I've got\naccess to all my network resources and\n\n56\n00:02:32.840 --> 00:02:36.820\nthe other way around,\nthe IT staff can see my computer and\n\n57\n00:02:36.820 --> 00:02:39.880\nthey can remotely manage a group\npolicy and things like that.\n\n58\n00:02:39.880 --> 00:02:44.160\nDirect access, however, is all done behind\nthe scenes before the user even logs on.\n\n59\n00:02:44.160 --> 00:02:48.120\nAs soon as that computer establishes\nInternet access, it's going to establish\n\n60\n00:02:48.120 --> 00:02:51.800\na tunnel back to the corporate network\nthrough that direct access server.\n\n61\n00:02:51.800 --> 00:02:55.660\nSo once the user logs on, they've\nalready got access to all the resources.\n\n62\n00:02:55.660 --> 00:02:56.960\n>> Yeah.\n>> They can see the printers,\n\n63\n00:02:56.960 --> 00:03:01.350\nthey can see the file shares, and,\nas an IT guy, we can see their computer.\n\n64\n00:03:01.350 --> 00:03:02.650\nThey might not even be logged in.\n\n65\n00:03:02.650 --> 00:03:05.860\nThey go back to the hotel,\nthey power up their computer,\n\n66\n00:03:05.860 --> 00:03:08.590\nthey go to brush their\nteeth in the bathroom.\n\n67\n00:03:08.590 --> 00:03:11.420\nAnd in the meantime, their computer's\npicked up internet access from the hotel,\n\n68\n00:03:11.420 --> 00:03:15.230\nit's already established a connection and\nI can remotely manage it.\n\n69\n00:03:15.230 --> 00:03:19.430\n>> Yeah, sounds like a great idea, for\neverything that we're talking about here.\n\n70\n00:03:19.430 --> 00:03:23.750\nSo remember that for us here, even though\nit seemed like it's actually a VPN,\n\n71\n00:03:23.750 --> 00:03:26.760\nremember that the idea of a VPN is\nactually up when we need it, and\n\n72\n00:03:26.760 --> 00:03:27.530\ndown when we don't.\n\n73\n00:03:27.530 --> 00:03:30.480\nAnd if the user doesn't actually\nreconnect if it goes offline,\n\n74\n00:03:30.480 --> 00:03:32.955\nwell they're really not connected\nto our network resources.\n\n75\n00:03:32.955 --> 00:03:34.845\nThat's the way I always\ntry to to think about it.\n\n76\n00:03:34.845 --> 00:03:37.585\nNow if you're really familiar and\ngoing, duh Ronnie, I knew that,\n\n77\n00:03:37.585 --> 00:03:39.011\nI wanna learn about direct access.\n\n78\n00:03:39.011 --> 00:03:41.135\n>> [LAUGH] So, it's important\nwe understand the difference.\n\n79\n00:03:41.135 --> 00:03:43.475\n>> Yeah, it's important that we\nactually do understand the differences.\n\n80\n00:03:43.475 --> 00:03:46.545\nWe want to make sure that\neverything is kind of set up and\n\n81\n00:03:46.545 --> 00:03:49.240\nput in perspective for us.\n\n82\n00:03:49.240 --> 00:03:52.935\nThat we might know whether or\nnot we want to implement this or not.\n\n83\n00:03:52.935 --> 00:03:53.490\n>> Yeah.\n\n84\n00:03:53.490 --> 00:03:57.549\n>> Now back before\nthe days of Windows 2012,\n\n85\n00:03:57.549 --> 00:04:01.621\ndirect access to setup was easy,\nright Mike?\n\n86\n00:04:01.621 --> 00:04:02.689\n>> It was a little challenging, wasn't it?\n\n87\n00:04:02.689 --> 00:04:03.861\n>> A little challenging, yeah.\n\n88\n00:04:03.861 --> 00:04:08.541\n>> It came out in 2008,\nis when it first made its appearance and,\n\n89\n00:04:08.541 --> 00:04:12.312\nthere wasn't really a GUI\ninterface to deal with it.\n\n90\n00:04:12.312 --> 00:04:13.027\n>> Yeah.\n\n91\n00:04:13.027 --> 00:04:18.220\n>> It was brand new, so you had to do\na lot of things from the command line.\n\n92\n00:04:18.220 --> 00:04:20.499\nAnd it was not all that easy.\n\n93\n00:04:20.499 --> 00:04:22.116\n2012 and 2012 R2?\n\n94\n00:04:22.116 --> 00:04:23.798\n>> Yeah, it makes it easier.\n\n95\n00:04:23.798 --> 00:04:24.596\n>> I mean, yeah.\n\n96\n00:04:24.596 --> 00:04:26.210\nWait till you guys see this.\n\n97\n00:04:26.210 --> 00:04:29.520\nYou walk through it's a fantastic wizard.\n\n98\n00:04:29.520 --> 00:04:32.270\nBasically asks you,\nwhat is your network layout?\n\n99\n00:04:32.270 --> 00:04:33.880\nHow do you want to implement this?\n\n100\n00:04:33.880 --> 00:04:35.360\nWhat all do you want to include?\n\n101\n00:04:35.360 --> 00:04:36.995\nAnd it does it all for you.\n\n102\n00:04:36.995 --> 00:04:38.610\n>> Yeah.\n>> Which we're gonna show you today.\n\n103\n00:04:38.610 --> 00:04:41.690\nAnd then we'll go back and take a look at\nsome of the changes that it made for us.\n\n104\n00:04:41.690 --> 00:04:42.430\n>> Yeah.\n\n105\n00:04:42.430 --> 00:04:45.290\nNow remember that for us, at one time,\nwhen we started to talk about it,\n\n106\n00:04:45.290 --> 00:04:50.140\nespecially in the days of\nthe previous server operating system.\n\n107\n00:04:50.140 --> 00:04:55.320\nDirect access, though, was not really\ndesigned for, the small to medium network,\n\n108\n00:04:55.320 --> 00:04:57.600\nif you wanna put it that way,\nwhich was fairly easy, right?\n\n109\n00:04:57.600 --> 00:05:00.360\n>> Right.\n>> You had to have quite a few\n\n110\n00:05:00.360 --> 00:05:01.290\nrequirements.\n\n111\n00:05:01.290 --> 00:05:02.110\n>> Yeah.\n>> Right?\n\n112\n00:05:02.110 --> 00:05:03.720\nTo actually make sure\nthat this actually went.\n\n113\n00:05:03.720 --> 00:05:05.630\nAnd so that's actually a good place for\nus to start.\n\n114\n00:05:05.630 --> 00:05:06.190\n>> Okay.\n\n115\n00:05:06.190 --> 00:05:07.550\n>> To take a look at this.\n\n116\n00:05:07.550 --> 00:05:11.760\nIf I actually pulled up\nthe right [LAUGH] And\n\n117\n00:05:11.760 --> 00:05:15.470\nif I actually pull up the right screen,\nwhere is my?\n\n118\n00:05:15.470 --> 00:05:17.730\n>> Yeah,\nthere were a few things required, right?\n\n119\n00:05:17.730 --> 00:05:19.150\n>> Yep.\n>> We needed-\n\n120\n00:05:19.150 --> 00:05:21.270\n>> So before we get into that, and sorry,\n\n121\n00:05:21.270 --> 00:05:22.190\nthat's my fault here.\n\n122\n00:05:22.190 --> 00:05:23.190\n>> That's all right.\n\n123\n00:05:23.190 --> 00:05:27.290\n>> In our objectives that we're covering,\nit's actually this sub-objective here on\n\n124\n00:05:27.290 --> 00:05:29.830\nconfiguring direct access\n>> I want to take a look at those server\n\n125\n00:05:29.830 --> 00:05:31.750\nrequirements, is what we want to do here.\n\n126\n00:05:31.750 --> 00:05:35.420\nAnd then, we want to take a look at what\nis also required in terms of a client.\n\n127\n00:05:35.420 --> 00:05:37.910\nAnd then, we'll talk about the other\nthings that actually are done, and\n\n128\n00:05:37.910 --> 00:05:40.930\nwe'll do a demo as we\nkind of get into this.\n\n129\n00:05:40.930 --> 00:05:42.610\n>> Nice.\n>> So just when Mike was\n\n130\n00:05:42.610 --> 00:05:43.932\nstarting to speak and I interrupted him.\n\n131\n00:05:43.932 --> 00:05:45.140\n>> Uh-huh.\n>> [LAUGH] We were\n\n132\n00:05:45.140 --> 00:05:47.710\ntalking about the idea of\nthe server requirements here.\n\n133\n00:05:47.710 --> 00:05:51.226\nBack in previous editions\nagain Server 2008 R2 here,\n\n134\n00:05:51.226 --> 00:05:56.920\nit really required a lot,\na lot of stuff to make sure it worked.\n\n135\n00:05:56.920 --> 00:06:00.960\nBut one of the things it did require for\na Server 2012 here,\n\n136\n00:06:00.960 --> 00:06:04.600\nis that you had to actually run kinda\nlike the big edition of it, right?\n\n137\n00:06:04.600 --> 00:06:05.728\n>> Right, yeah.\n>> You can run the standard edition or\n\n138\n00:06:05.728 --> 00:06:06.356\nsomething like that as well.\n\n139\n00:06:06.356 --> 00:06:07.740\n>> Mm-hm.\n\n140\n00:06:07.740 --> 00:06:08.700\n>> So, yeah.\n>> Yeah, and\n\n141\n00:06:08.700 --> 00:06:12.950\nnow we can pretty much run any version\nas far as our direct access server goes.\n\n142\n00:06:12.950 --> 00:06:14.750\n>> Yeah.\n>> Some of the other requirements\n\n143\n00:06:14.750 --> 00:06:18.620\nwere difficult, especially like you said,\nfor the small and medium business, two\n\n144\n00:06:18.620 --> 00:06:24.460\nconsecutive public IPB4 addresses that we\ncould assign to that direct access server.\n\n145\n00:06:24.460 --> 00:06:26.360\nCertificates were going to be required.\n\n146\n00:06:26.360 --> 00:06:28.840\nAnd a lot of small companies\nmight not be running their own.\n\n147\n00:06:28.840 --> 00:06:29.720\nCertificate authority.\n\n148\n00:06:29.720 --> 00:06:35.970\nSo that means I've gotta purchase those\nform public CA's, things like that.\n\n149\n00:06:35.970 --> 00:06:39.560\n>> It's also a IPB6 technology,\nin the background.\n\n150\n00:06:39.560 --> 00:06:43.465\nSo what if you weren't running IPB6 inside\nof your network, with the resources here,\n\n151\n00:06:43.465 --> 00:06:45.010\nwell it made it a bit challenging.\n\n152\n00:06:45.010 --> 00:06:47.660\n>> Yeah,\nyou had clients that a few years ago,\n\n153\n00:06:47.660 --> 00:06:50.835\nit wasn't uncommon to where the majority\nof our clients may have been XP machines.\n\n154\n00:06:50.835 --> 00:06:51.420\n>> Right.\n\n155\n00:06:51.420 --> 00:06:56.730\n>> They supported IPv6 after\nService Pack 3, but still, so\n\n156\n00:06:56.730 --> 00:07:00.140\nas we've migrated to these newer operating\nsystems, it's definitely a lot easier.\n\n157\n00:07:00.140 --> 00:07:00.840\n>> Yeah.\n\n158\n00:07:00.840 --> 00:07:03.770\nSo on the server side,\na lot of things have actually changed,\n\n159\n00:07:03.770 --> 00:07:06.140\nwhich makes it a lot easier for\nus to configure.\n\n160\n00:07:06.140 --> 00:07:07.460\nThey made it more scalable.\n\n161\n00:07:07.460 --> 00:07:10.900\nIn other words, it can actually be used in\na small to medium-sized environment if you\n\n162\n00:07:10.900 --> 00:07:15.570\nchoose to, as well as a huge environment,\nwhich can get incredibly complex.\n\n163\n00:07:15.570 --> 00:07:18.600\nSo, we're gonna kinda stick to\nthe small to medium size one,\n\n164\n00:07:18.600 --> 00:07:22.060\nis what we're gonna take a look\nat this particular point too.\n\n165\n00:07:22.060 --> 00:07:24.520\nNow the other side of that requirement,\nthough, is the client.\n\n166\n00:07:24.520 --> 00:07:27.140\nIn other words,\nwho can actually connect in?\n\n167\n00:07:27.140 --> 00:07:33.180\nSo if I get my old Windows XP laptop, can\nI connect them through direct access and\n\n168\n00:07:33.180 --> 00:07:35.430\nhave access to those network resources?\n\n169\n00:07:35.430 --> 00:07:36.015\n>> No. I'm sorry. >> No?\n\n170\n00:07:36.015 --> 00:07:36.695\n[LAUGH]\n>> No such luck.\n\n171\n00:07:36.695 --> 00:07:39.933\n>> [LAUGH]\n>> Windows 7, Windows 7 Ultimate,\n\n172\n00:07:39.933 --> 00:07:44.160\nWindows 8, Windows 8.1 are gonna be\nyour clients that you'll have to use.\n\n173\n00:07:44.160 --> 00:07:44.790\n>> Yeah.\n\n174\n00:07:44.790 --> 00:07:47.778\n>> So you might have to set up a mixed\nenvironment if you've gotta provide\n\n175\n00:07:47.778 --> 00:07:49.460\nremote access for down level clients.\n\n176\n00:07:49.460 --> 00:07:51.516\nYou might have to run VPN and\ndirect access, or\n\n177\n00:07:51.516 --> 00:07:55.176\nstick with VPN until you migrate all your\nclients up to a modern operating system.\n\n178\n00:07:55.176 --> 00:07:55.876\n>> Yeah.\n\n179\n00:07:55.876 --> 00:07:57.756\nI hate saying that about XP, don't you?\n\n180\n00:07:57.756 --> 00:07:58.498\n>> Modern-\n>> That\n\n181\n00:07:58.498 --> 00:07:59.796\nit's a down level operating system.\n\n182\n00:07:59.796 --> 00:08:01.176\n>> Call it legacy now.\n\n183\n00:08:01.176 --> 00:08:01.756\n>> Legacy.\n\n184\n00:08:01.756 --> 00:08:02.560\nThere we go.\n\n185\n00:08:02.560 --> 00:08:03.670\n>> Legacy operating system here.\n\n186\n00:08:03.670 --> 00:08:04.516\n>> It was a great OS, wasn't it?\n\n187\n00:08:04.516 --> 00:08:05.870\n>> Yes.\n\n188\n00:08:05.870 --> 00:08:10.505\nSo, Windows 7, you had to have at least\nEnterprise or Ultimate to actually do it.\n\n189\n00:08:10.505 --> 00:08:14.990\nAnd then in Windows 8, pretty much for\nus here, the Enterprise edition,\n\n190\n00:08:14.990 --> 00:08:17.845\nI think we can do it with Pro,\nI can't really remember.\n\n191\n00:08:17.845 --> 00:08:18.941\n>> I'm pretty sure.\n\n192\n00:08:18.941 --> 00:08:19.570\n>> Yeah, okay?\n\n193\n00:08:19.570 --> 00:08:23.130\nSo in this instance here, that means\nthere are requirements on both sides.\n\n194\n00:08:23.130 --> 00:08:27.230\nOn the server, that actually is gonna\nbe helping us to do direct access, and\n\n195\n00:08:27.230 --> 00:08:30.170\nthen there's other network requirements\nwhich we do have to get set up.\n\n196\n00:08:30.170 --> 00:08:34.140\nThe good thing is today it actually\nis relatively easy for us to do this.\n\n197\n00:08:34.140 --> 00:08:34.950\nAnd then-\n>> Let's get pictures in the wizard.\n\n198\n00:08:34.950 --> 00:08:36.386\n>> Yeah.\n>> And let's go on.\n\n199\n00:08:36.386 --> 00:08:37.767\nLet's get pictures,\n>> Yeah, you can't beat that, okay.\n\n200\n00:08:37.767 --> 00:08:39.977\n>> [LAUGH]\n>> But in terms of doing this,\n\n201\n00:08:39.977 --> 00:08:42.232\nit really is fairly simple to set up.\n\n202\n00:08:42.232 --> 00:08:46.062\nNow, a lot of times of course that\nmeans you actually have to know what\n\n203\n00:08:46.062 --> 00:08:49.579\nthe configuration steps are, and\nwhat we actually have to do.\n\n204\n00:08:49.579 --> 00:08:54.044\nNow, when we start setting this up\nin terms of direct access here,\n\n205\n00:08:54.044 --> 00:08:58.696\nwe wanna take a look at what it is\nwe're actually gonna be doing here.\n\n206\n00:08:58.696 --> 00:09:04.063\nSo let's see, is there anything we\nneed to discuss as we go through this?\n\n207\n00:09:04.063 --> 00:09:05.860\nOr before we go through this?\n\n208\n00:09:05.860 --> 00:09:08.900\n>> No, I don't know if you wanna\ndraw one of your pretty pictures, or\n\n209\n00:09:08.900 --> 00:09:11.040\njust dive into the lab or.\n\n210\n00:09:11.040 --> 00:09:13.202\n>> We can do both.\n\n211\n00:09:13.202 --> 00:09:16.640\n>> [LAUGH] I'm putting him on the spot\nhere, I'm gonna make him draw.\n\n212\n00:09:16.640 --> 00:09:18.830\nActually I do think it's good\nto visualize what we're doing.\n\n213\n00:09:18.830 --> 00:09:20.110\nMost of you have a good idea,\n\n214\n00:09:20.110 --> 00:09:24.060\nI think probably at this point\nwhat remote access is all about.\n\n215\n00:09:24.060 --> 00:09:28.200\nAnd our direct access server is gonna\nbe sitting out there on the edge, or\n\n216\n00:09:28.200 --> 00:09:29.842\nnear the edge of my network.\n\n217\n00:09:29.842 --> 00:09:32.710\nIt's gonna be connected to the inside and\nthe outside,\n\n218\n00:09:32.710 --> 00:09:35.400\nor have a connection to the outside\nthrough an edge device.\n\n219\n00:09:35.400 --> 00:09:38.300\nAnd your clients are gonna\nbe coming from the outside,\n\n220\n00:09:38.300 --> 00:09:41.190\nthrough that direct access server,\nand into the internal resources.\n\n221\n00:09:41.190 --> 00:09:45.945\n>> Okay, so let's take a look briefly at a\ndrawing that I'm gonna try and make here.\n\n222\n00:09:45.945 --> 00:09:48.660\n>> Woo-hoo!\n>> So, on the left hand side,\n\n223\n00:09:48.660 --> 00:09:51.450\nthis is gonna be my outside network here.\n\n224\n00:09:51.450 --> 00:09:54.970\nAnd on the right hand side,\nthat will represent my internal LAN.\n\n225\n00:09:54.970 --> 00:09:58.800\nNow we want to talk about what we\nmight need to actually have on hand\n\n226\n00:09:58.800 --> 00:09:59.855\nto set this up.\n\n227\n00:09:59.855 --> 00:10:02.766\nSo normally, we would have a client.\n\n228\n00:10:04.558 --> 00:10:05.750\nOkay, oops.\n\n229\n00:10:05.750 --> 00:10:06.440\nThere we go.\n\n230\n00:10:06.440 --> 00:10:07.340\nSo there's my-\n>> Nice.\n\n231\n00:10:07.340 --> 00:10:08.092\n>> I know, isn't that terrible?\n\n232\n00:10:08.092 --> 00:10:08.891\n[LAUGH]\n>> Yes.\n\n233\n00:10:08.891 --> 00:10:10.728\nI'm assuming that that's a screen and\na keyboard, right?\n\n234\n00:10:10.728 --> 00:10:13.800\n>> That is a screen and\na keyboard for our client.\n\n235\n00:10:13.800 --> 00:10:14.720\n>> There you go, okay.\n\n236\n00:10:14.720 --> 00:10:16.480\n>> So there is our client.\n\n237\n00:10:16.480 --> 00:10:18.160\nAgain, I'm not gonna try and\nwrite anymore,\n\n238\n00:10:18.160 --> 00:10:19.875\nbecause that would be terrible, okay.\n\n239\n00:10:19.875 --> 00:10:22.220\n>> [LAUGH]\n>> Usually inside of our LAN,\n\n240\n00:10:22.220 --> 00:10:26.810\nwe would also have of\ncourse our infrastructure.\n\n241\n00:10:26.810 --> 00:10:29.152\n>> Our main controllers, our DNS servers.\n\n242\n00:10:29.152 --> 00:10:32.482\nWe're gonna talk about some of\nthe components that we need.\n\n243\n00:10:32.482 --> 00:10:34.550\nWe need network location servers.\n\n244\n00:10:36.400 --> 00:10:40.000\nWe've got our public key infrastructure\nthat we are gonna use if we're gonna\n\n245\n00:10:40.000 --> 00:10:42.440\nbe using our own certificates or\nwe'd have to but those.\n\n246\n00:10:42.440 --> 00:10:45.020\nBut yeah, that network location\nserver's gonna be in there,\n\n247\n00:10:45.020 --> 00:10:48.387\nand we'll talk about that in a little bit,\nabout, I'll give you a heads up.\n\n248\n00:10:48.387 --> 00:10:52.040\nThat's how they can tell if they're inside\nthe network or outside the network.\n\n249\n00:10:52.040 --> 00:10:53.530\nYour certificate of authority.\n\n250\n00:10:53.530 --> 00:10:54.430\n>> Yep.\n\n251\n00:10:54.430 --> 00:10:55.930\n>> All right.\n>> And we may also need what?\n\n252\n00:10:55.930 --> 00:10:58.308\nThe direct access server itself, right?\n\n253\n00:10:58.308 --> 00:11:01.230\n>> I suppose if we were gonna do this\nwe would need one of those, yeah.\n\n254\n00:11:01.230 --> 00:11:01.780\n>> All right.\n\n255\n00:11:01.780 --> 00:11:02.880\n>> And that guy usually sits where?\n\n256\n00:11:02.880 --> 00:11:03.720\nOut there in your DMZ?\n\n257\n00:11:03.720 --> 00:11:04.720\n>> Sure.\n\n258\n00:11:04.720 --> 00:11:06.200\n>> Maybe in your screen subnet,\n\n259\n00:11:06.200 --> 00:11:07.922\nout there in the-\n>> Yeah.\n\n260\n00:11:07.922 --> 00:11:10.780\nIt sits on the edge of our network,\nis where it actually sits in between,\n\n261\n00:11:10.780 --> 00:11:13.580\nof course, the Internet or\nthe public side of your network, and\n\n262\n00:11:13.580 --> 00:11:15.980\nthen of course the internal side as well,\nokay?\n\n263\n00:11:15.980 --> 00:11:18.260\nSo, traditionally we would have a router,\n\n264\n00:11:18.260 --> 00:11:19.915\nand then you would\nactually connect right in.\n\n265\n00:11:19.915 --> 00:11:21.340\nYou'd have to go through the router, and\n\n266\n00:11:21.340 --> 00:11:23.580\nthen you'd have to go through\nthe firewall and all those other things.\n\n267\n00:11:23.580 --> 00:11:25.840\nWith direct access, again,\nit actually allows for\n\n268\n00:11:25.840 --> 00:11:30.770\nour clients to really maintain\nthe actual connection itself.\n\n269\n00:11:30.770 --> 00:11:32.940\nSo let's talk about these\ncomponents just briefly, right.\n\n270\n00:11:32.940 --> 00:11:34.075\n>> Okay.\n>> The main one that we're really\n\n271\n00:11:34.075 --> 00:11:36.220\ngonna configure is the direct\naccess server itself, okay.\n\n272\n00:11:36.220 --> 00:11:36.970\n>> Right, mm-hm.\n>> But\n\n273\n00:11:36.970 --> 00:11:38.810\nin that, there's supporting\nroles that actually need to,\n\n274\n00:11:38.810 --> 00:11:42.740\nwe need to actually understand\nas we go on through, okay?\n\n275\n00:11:42.740 --> 00:11:45.270\nSo which one do we want\nto talk about first?\n\n276\n00:11:45.270 --> 00:11:46.891\n>> Well, we need DNS.\n\n277\n00:11:46.891 --> 00:11:47.434\n>> Okay, yup.\n\n278\n00:11:47.434 --> 00:11:49.390\n>> I mean, everything requires DNS, right?\n\n279\n00:11:49.390 --> 00:11:52.252\n>> Yep.\n>> One of my favorite topics, love DNS.\n\n280\n00:11:52.252 --> 00:11:54.370\nBut, yeah, when we connect in,\n\n281\n00:11:54.370 --> 00:11:58.120\nwhen that client attempts to\nconnect to that domain controller,\n\n282\n00:11:58.120 --> 00:12:01.672\nwell it's gotta find the domain controller\nso it's gonna need DNS for that.\n\n283\n00:12:01.672 --> 00:12:04.733\nIt's gonna have to find\nthe network location server so\n\n284\n00:12:04.733 --> 00:12:06.470\nit's gonna need DNS for that.\n\n285\n00:12:06.470 --> 00:12:08.191\nSo were gonna have to\nmake a couple records,\n\n286\n00:12:08.191 --> 00:12:11.146\nwhich our fancy wizard is gonna do for\nus, but we'll go take a look at them.\n\n287\n00:12:11.146 --> 00:12:13.130\nBut it's gonna make some records in DNS,\nand\n\n288\n00:12:13.130 --> 00:12:17.590\nthat's gonna allow the clients to at\nleast attempt to find that NLS server.\n\n289\n00:12:17.590 --> 00:12:18.320\n>> Yep.\n\n290\n00:12:18.320 --> 00:12:21.850\nNow, that NLS server runs\na little website, basically.\n\n291\n00:12:21.850 --> 00:12:23.600\nIt's an HTTPS site and\n\n292\n00:12:23.600 --> 00:12:27.710\nthe client's gonna attempt to make\na connection to that NLS server.\n\n293\n00:12:27.710 --> 00:12:30.310\nI don't know if I'm getting\ntoo far ahead of it.\n\n294\n00:12:30.310 --> 00:12:30.830\n>> No, that's fine.\n\n295\n00:12:30.830 --> 00:12:33.363\n>> But we're going to,\nif it's able to connect to it,\n\n296\n00:12:33.363 --> 00:12:36.620\nit can retrieve the certificate\nfrom that NLS server.\n\n297\n00:12:36.620 --> 00:12:38.620\nWhich means we need certificates.\n\n298\n00:12:38.620 --> 00:12:41.350\nRight, we need a certificate\nissued out of the NLS server.\n\n299\n00:12:41.350 --> 00:12:43.680\nAnd we need to be able to verify\nthat the certificate is valid so\n\n300\n00:12:43.680 --> 00:12:46.158\nwe need access to the certificate\nverification list.\n\n301\n00:12:46.158 --> 00:12:50.010\nSo we gotta make sure that that is\npublished somewhere that the clients,\n\n302\n00:12:50.010 --> 00:12:53.480\neven from when they're inside the network,\ncan access.\n\n303\n00:12:53.480 --> 00:12:54.870\n>> So, a lot of different pieces.\n\n304\n00:12:54.870 --> 00:12:55.370\n>> Yeah.\n\n305\n00:12:55.370 --> 00:12:58.470\nIn terms of that network location server,\nthere's a couple of things that\n\n306\n00:12:58.470 --> 00:13:01.590\nthis really does help us with,\nwith direct access.\n\n307\n00:13:01.590 --> 00:13:05.330\nIf you're inside the network here and\nyou're running direct access,\n\n308\n00:13:05.330 --> 00:13:08.170\nit will still try and\nfind this network location server here.\n\n309\n00:13:08.170 --> 00:13:12.860\nAnd if it does find it, in other words,\nif it can connect in using HTTPS, and\n\n310\n00:13:12.860 --> 00:13:17.990\nit connects in, it says, hey, this\nguy's on the inside, everything's good.\n\n311\n00:13:17.990 --> 00:13:21.050\nDon't worry about applying\ndirect access stuff to this guy.\n\n312\n00:13:21.050 --> 00:13:22.660\n>> Exactly, cuz there's really no need.\n\n313\n00:13:22.660 --> 00:13:26.000\nIf the client's already inside my network,\nwhy would he wanna bounce out,\n\n314\n00:13:26.000 --> 00:13:29.880\ncreate a tunnel, and then come back\nthrough into that direct access server?\n\n315\n00:13:29.880 --> 00:13:32.800\nSo he attempts to resolve the name,\nhe checks with DNS,\n\n316\n00:13:32.800 --> 00:13:35.640\nwhat's the IP address of\nthe network location server?\n\n317\n00:13:35.640 --> 00:13:39.680\nAttempts to connect to it, and if he can\nconnect to it, then he's gonna ask it for\n\n318\n00:13:39.680 --> 00:13:40.840\nthe certificate.\n\n319\n00:13:40.840 --> 00:13:43.700\nIf the certificate is given to him,\nhe then checks with\n\n320\n00:13:43.700 --> 00:13:47.010\nthe certificate authority to see\nif the certificate is still valid.\n\n321\n00:13:47.010 --> 00:13:51.071\nIf it's valid, then he knows now\nthat he's inside the network, and\n\n322\n00:13:51.071 --> 00:13:55.850\nhe can remove his Name Resolution Policy\nTable rules, which we will talk about.\n\n323\n00:13:55.850 --> 00:14:00.266\nAs well as apply the domain-based profile\nin his connection security rules.\n\n324\n00:14:00.266 --> 00:14:02.710\nAnd that's it, he's done,\nhe's now inside the network.\n\n325\n00:14:02.710 --> 00:14:07.150\n>> Yeah, but with somebody on the outside\nhere, if we're using DirectAccess,\n\n326\n00:14:07.150 --> 00:14:11.610\nit would try and made a connection, and\nat the edge here, it will not be able to.\n\n327\n00:14:11.610 --> 00:14:15.200\n>> Yeah, cuz he's got a DNS server that's\nbeen provided to him by the hotel,\n\n328\n00:14:15.200 --> 00:14:18.680\nmaybe, or at home, your ISP's DNS server.\n\n329\n00:14:18.680 --> 00:14:23.180\nAnd that DNS server does not know the IP\naddress of your network location server.\n\n330\n00:14:23.180 --> 00:14:26.000\nSo he's unable to resolve\nthe name into an IP address,\n\n331\n00:14:26.000 --> 00:14:29.120\nwhich means he's unable to connect\nthat network location server.\n\n332\n00:14:29.120 --> 00:14:33.245\nAnd that's his first big clue that hey,\nI'm not inside the network,\n\n333\n00:14:33.245 --> 00:14:35.810\ncuz I can't connect to the NLS server.\n\n334\n00:14:35.810 --> 00:14:39.940\nAnd that's when he is gonna go back and\nnow apply the connection security rules\n\n335\n00:14:39.940 --> 00:14:43.470\ndepending on, and establish that tunnel\nback to that DirectAccess server.\n\n336\n00:14:43.470 --> 00:14:44.390\n>> Yeah.\nAnd so\n\n337\n00:14:44.390 --> 00:14:47.320\nwith DirectAccess, if this is\na DirectAccess client, it will go, okay,\n\n338\n00:14:47.320 --> 00:14:50.430\nI apparently need to actually connect\nto the DirectAccess server, and\n\n339\n00:14:50.430 --> 00:14:53.370\nnot just try and get inside in\nthe way that we normally would.\n\n340\n00:14:53.370 --> 00:14:56.670\nSo really,\nthose three big components here, right.\n\n341\n00:14:56.670 --> 00:15:00.891\nWe need our domain controller.\n\n342\n00:15:00.891 --> 00:15:02.600\n>> Domain controllers, yep.\n\n343\n00:15:02.600 --> 00:15:06.727\n>> We need that to ensure that we can\nactually apply the policies to who we\n\n344\n00:15:06.727 --> 00:15:08.130\nwant to, okay.\n\n345\n00:15:08.130 --> 00:15:10.695\nWe need the DNS to, of course,\nmake everything essentially work,\n\n346\n00:15:10.695 --> 00:15:14.100\ncuz everything in our networking\ndepends on DNS today.\n\n347\n00:15:14.100 --> 00:15:16.660\nWe need the certificate services here.\n\n348\n00:15:16.660 --> 00:15:18.160\nAgain, we can do it for authentication.\n\n349\n00:15:18.160 --> 00:15:20.700\nA lot of times it's just making\nsure that these components are who\n\n350\n00:15:20.700 --> 00:15:22.030\nthey say that they are.\n\n351\n00:15:22.030 --> 00:15:23.593\nWe need that network location awareness,\nand\n\n352\n00:15:23.593 --> 00:15:25.725\nwe need that direct access server\nthat sits on our edge, okay.\n\n353\n00:15:25.725 --> 00:15:26.600\n>> Yeah, a lot of pieces.\n\n354\n00:15:26.600 --> 00:15:27.440\n>> Is what we really need to do.\n\n355\n00:15:27.440 --> 00:15:28.080\nYeah.\n\n356\n00:15:28.080 --> 00:15:31.700\nNow, the good thing is, because at one\ntime you actually had to manually set up\n\n357\n00:15:31.700 --> 00:15:36.790\neverything, it was a bear, just like what\nwe were talking about earlier, okay?\n\n358\n00:15:36.790 --> 00:15:39.760\nBut today, with Windows 2012, not only\n\n359\n00:15:39.760 --> 00:15:43.870\ncan you actually set it up by using\nthe GUI interface a lot of the times,\n\n360\n00:15:43.870 --> 00:15:49.190\nif you're Kung Fu master Mike,\nyou can script it out.\n\n361\n00:15:49.190 --> 00:15:51.330\n>> Yeah.\n>> You can literally actually take\n\n362\n00:15:51.330 --> 00:15:54.700\na lot of those PowerShell commands and\nactually script them all out.\n\n363\n00:15:54.700 --> 00:15:55.376\n>> Absolutely.\nI mean, and\n\n364\n00:15:55.376 --> 00:15:59.018\nif you've gotta roll this out at\nseveral different branch offices or\n\n365\n00:15:59.018 --> 00:16:00.920\nsomething like that, very handy.\n\n366\n00:16:00.920 --> 00:16:01.960\nI can create that script.\n\n367\n00:16:01.960 --> 00:16:05.109\nI can even send that script to somebody\nout there at the branch office and\n\n368\n00:16:05.109 --> 00:16:06.120\njust have them run it.\n\n369\n00:16:06.120 --> 00:16:08.570\nThey might not have any\nidea what they're doing.\n\n370\n00:16:08.570 --> 00:16:13.300\nAs long as they can run that can script, I\ncan set up that direct access server call.\n\n371\n00:16:13.300 --> 00:16:13.840\n>> Yeah.\n\n372\n00:16:13.840 --> 00:16:15.740\nOne other thing though.\n\n373\n00:16:15.740 --> 00:16:18.450\nOkay, Mike here, one other thing, right?\n\n374\n00:16:18.450 --> 00:16:20.840\nWhat if this client over\nhere on the left hand side\n\n375\n00:16:21.950 --> 00:16:24.550\nhas never ever connected to my network.\n\n376\n00:16:24.550 --> 00:16:26.140\nSo let's say I hire a contractor,\n\n377\n00:16:26.140 --> 00:16:29.680\nbut they need access to network\njust like everybody else does.\n\n378\n00:16:29.680 --> 00:16:31.120\n>> Right.\n\n379\n00:16:31.120 --> 00:16:32.650\n>> But he's never connected in before.\n\n380\n00:16:32.650 --> 00:16:33.960\n>> He's not part of your domain.\n\n381\n00:16:33.960 --> 00:16:35.130\n>> No.\nHe's not part of my domain.\n\n382\n00:16:35.130 --> 00:16:37.220\nWell, that depends,\ndo we want to join it to the domain or?\n\n383\n00:16:37.220 --> 00:16:38.230\n>> You probably would need to.\n\n384\n00:16:38.230 --> 00:16:39.050\n>> Would probably need to.\n\n385\n00:16:40.590 --> 00:16:43.940\nSo we could do,I wonder if there was\na way we could join it to the domain\n\n386\n00:16:43.940 --> 00:16:45.370\nwhen it wasn't connected to the network?\n\n387\n00:16:45.370 --> 00:16:47.500\n>> I wonder is there a way to do that?\n\n388\n00:16:47.500 --> 00:16:50.861\nYeah, we've got that good old [CROSSTALK]\nI'll be positive about it here.\n\n389\n00:16:50.861 --> 00:16:54.454\nI'm going to call it, I am so\nhappy about this that I dejoin.\n\n390\n00:16:54.454 --> 00:16:56.470\n>> Mike hates this thing.\n\n391\n00:16:56.470 --> 00:16:57.640\n>> Yeah, I do.\nI really do.\n\n392\n00:16:59.070 --> 00:17:02.720\nYou know, but there are some uses for it,\nwhen it first came out, I really did not\n\n393\n00:17:02.720 --> 00:17:06.470\nsee, but anyway Offline domain join\n>> Offline domain join\n\n394\n00:17:06.470 --> 00:17:08.340\n>> Is a way that I can join a computer to\n\n395\n00:17:08.340 --> 00:17:11.910\nthe domain even though it's not connected\nto the network, so you've got this client,\n\n396\n00:17:11.910 --> 00:17:16.600\nthis contractor out there with his laptop,\nI can generate a file inside my\n\n397\n00:17:16.600 --> 00:17:20.390\nnetwork from my domain controller\nusing the offline domain joiner,\n\n398\n00:17:20.390 --> 00:17:25.400\nthe d join command, generate a file,\nsend that to him, email it to him or\n\n399\n00:17:25.400 --> 00:17:28.060\nsomething like that\n>> Copies it to his local drive,\n\n400\n00:17:28.060 --> 00:17:33.160\nruns a command on there,\nwhich completes the domain join process.\n\n401\n00:17:33.160 --> 00:17:34.660\n>> Right.\n>> And then, through the direct access\n\n402\n00:17:34.660 --> 00:17:37.450\nserver it's able to finish the process and\nactually join the domain.\n\n403\n00:17:39.080 --> 00:17:40.150\n>> Right.\nPretty impressive.\n\n404\n00:17:40.150 --> 00:17:41.090\n>> It's really impressive.\n\n405\n00:17:41.090 --> 00:17:44.296\nNow, you may go, Ronnie,\nyou would never join a contractor.\n\n406\n00:17:44.296 --> 00:17:45.160\nI understand.\n\n407\n00:17:45.160 --> 00:17:48.750\nLet's just talk about some Telecommuter\nwho you want to instead, and\n\n408\n00:17:48.750 --> 00:17:51.880\nthat actually is sitting at home and\nwanting to actually do it and\n\n409\n00:17:51.880 --> 00:17:53.260\nstill need to do work that he needs to do.\n\n410\n00:17:53.260 --> 00:17:54.850\n>> Absolutely.\n>> This may be a way to do it.\n\n411\n00:17:54.850 --> 00:17:56.710\n>> Yeah, BYOD is a big thing now.\n\n412\n00:17:56.710 --> 00:18:00.300\nWe've got users and if my user's willing\nto do work when they're at home and\n\n413\n00:18:00.300 --> 00:18:02.300\non the road and things like that,\n\n414\n00:18:02.300 --> 00:18:05.560\nif all I have to do is join their computer\nto the domain to make that happen?\n\n415\n00:18:05.560 --> 00:18:07.270\nI'm all over it.\n\n416\n00:18:07.270 --> 00:18:10.280\nSo it makes it easy, they don't have to\nbring it back in the day you're going to\n\n417\n00:18:10.280 --> 00:18:13.300\nhave to bring your laptop by IT so\nthat we can join it to the domain so\n\n418\n00:18:13.300 --> 00:18:15.770\nthat we can give you\naccess from the outside.\n\n419\n00:18:15.770 --> 00:18:17.630\nNow I can just email them a file.\n\n420\n00:18:17.630 --> 00:18:20.050\n>> Yeah, and it makes it easier for them.\n\n421\n00:18:20.050 --> 00:18:22.930\nThe only the thing that's\nletting them once you actually\n\n422\n00:18:22.930 --> 00:18:24.490\nhave that file,then Mike\ncreates a script for\n\n423\n00:18:24.490 --> 00:18:27.620\nthem that they simply just double\nclick on and they're ready to go.\n\n424\n00:18:27.620 --> 00:18:29.437\n>> Yep, and most of my users\n>> [LAUGH]\n\n425\n00:18:29.437 --> 00:18:30.212\n>> In double click.\n\n426\n00:18:30.212 --> 00:18:31.610\n[INAUDIBLE] maybe not.\n\n427\n00:18:31.610 --> 00:18:32.130\n>> Maybe not.\n\n428\n00:18:32.130 --> 00:18:33.270\n>> Most of them.\n\n429\n00:18:33.270 --> 00:18:34.175\n>> There we go.\n\n430\n00:18:34.175 --> 00:18:35.710\nOkay?\n>> So let's go ahead and\n\n431\n00:18:35.710 --> 00:18:37.250\ntake a look at what we're doing.\n\n432\n00:18:37.250 --> 00:18:40.660\nThe scenario that we just set up here is\nreally the scenario that we're going to\n\n433\n00:18:40.660 --> 00:18:42.280\nuse in our picker setting here.\n\n434\n00:18:42.280 --> 00:18:47.400\nNow the good thing is this is something\nthat you can actually go out and do.\n\n435\n00:18:47.400 --> 00:18:48.530\nOkay.\n\n436\n00:18:48.530 --> 00:18:51.270\nOut on tech net we're using the tech\nnet lab, it's a virtual lab.\n\n437\n00:18:51.270 --> 00:18:54.080\nAnd so they're set up for\nyou to actually do the same thing that.\n\n438\n00:18:54.080 --> 00:18:57.900\nSo we'll put a link in our show\nnotes as we go through here so\n\n439\n00:18:57.900 --> 00:18:59.740\nthat way you can actually\nconnect right back and\n\n440\n00:18:59.740 --> 00:19:02.170\nessentially do the same lab that we're\nactually going to show right here.\n\n441\n00:19:02.170 --> 00:19:02.870\nOkay.\n\n442\n00:19:02.870 --> 00:19:06.430\nSo, what we've actually got here are,\nif you actually take a look at my lab\n\n443\n00:19:06.430 --> 00:19:09.770\nenvironment, I have my domain controller,\nthat's actually there.\n\n444\n00:19:09.770 --> 00:19:12.270\nAnd it's got several rolls on it, and\nwe'll take a look at it in a minute.\n\n445\n00:19:12.270 --> 00:19:14.280\nHopefully everybody can see that.\n\n446\n00:19:14.280 --> 00:19:15.520\nThat looks a little bit good.\n\n447\n00:19:15.520 --> 00:19:19.440\nThis Wan router,\nwe're not going to worry about.\n\n448\n00:19:19.440 --> 00:19:22.890\nThat's just making a router for us here.\n\n449\n00:19:22.890 --> 00:19:26.550\nHere's the direct access server that\nwe're actually going to use and\n\n450\n00:19:26.550 --> 00:19:29.810\nhere's a client representing on,\nor being represented\n\n451\n00:19:29.810 --> 00:19:31.500\nas being outside of our network\n>> Nice.\n\n452\n00:19:31.500 --> 00:19:32.500\n>> Okay?\n>> Nice.\n\n453\n00:19:32.500 --> 00:19:33.140\n>> So.\n\n454\n00:19:33.140 --> 00:19:38.130\nThe first thing that we want to configure\nhere as we get started is that we\n\n455\n00:19:38.130 --> 00:19:42.210\nwant to go ahead and create a security\ngroup for our direct access clients, okay?\n\n456\n00:19:42.210 --> 00:19:46.840\n>> Yeah, because that wizard's going to\nask us when we set this up it's going to\n\n457\n00:19:46.840 --> 00:19:49.280\nask us well,\nwho do you want to give permission, or\n\n458\n00:19:49.280 --> 00:19:53.190\nwho do you want to give the ability to\nmake that direct access connection because\n\n459\n00:19:53.190 --> 00:19:58.070\nit's going to make a couple group policies\nthat we can use to configure the clients\n\n460\n00:19:58.070 --> 00:20:00.420\nand control the permissions\non that direct access server.\n\n461\n00:20:01.700 --> 00:20:04.320\n>> So we'll create a group,\nadd a few computers to that group or\n\n462\n00:20:04.320 --> 00:20:07.330\nadd our computer to that group and\nthen we'll use that in the wizard.\n\n463\n00:20:07.330 --> 00:20:08.030\n>> Yeah.\n\n464\n00:20:08.030 --> 00:20:10.990\n>> So right here,\nusing the actual server manager.\n\n465\n00:20:10.990 --> 00:20:13.760\nWe're going to go ahead and\ncreate that group, okay?\n\n466\n00:20:13.760 --> 00:20:16.270\nOver here on the left-hand\nside we're going\n\n467\n00:20:16.270 --> 00:20:20.520\nto use the active directory administration\ncenter task to help us do this.\n\n468\n00:20:20.520 --> 00:20:22.580\nI just zoomed in on it so\nwe could see it better.\n\n469\n00:20:22.580 --> 00:20:25.510\nIt's a little bit small on my 12\" laptop.\n\n470\n00:20:25.510 --> 00:20:27.850\nI'll try and remember that the best I can.\n\n471\n00:20:27.850 --> 00:20:29.350\n>> Are you really going to\nthe administrative center.\n\n472\n00:20:29.350 --> 00:20:30.210\n>> We are.\nWe are going to use\n\n473\n00:20:30.210 --> 00:20:31.570\nthe administrative center here.\n\n474\n00:20:31.570 --> 00:20:32.410\nOkay.\n\n475\n00:20:32.410 --> 00:20:34.000\n>> I know a bunch of\nus are all old school.\n\n476\n00:20:34.000 --> 00:20:36.390\nWe've been doing this for awhile and\nactive directory users and\n\n477\n00:20:36.390 --> 00:20:38.020\ncomputers is still my go to tool.\n\n478\n00:20:38.020 --> 00:20:39.030\n>> Nope, I selected the wrong one.\n\n479\n00:20:39.030 --> 00:20:42.330\n>> I know I should start using\nthe administrator center more.\n\n480\n00:20:42.330 --> 00:20:43.380\n>> What?\n\n481\n00:20:43.380 --> 00:20:47.000\n>> Yeah, you know, you've been doing\nit for so long, it's so quick and\n\n482\n00:20:47.000 --> 00:20:49.470\neasy because you know\n>> Right there we had it.\n\n483\n00:20:49.470 --> 00:20:52.320\n>> Yea, no, it's what we get used to.\n\n484\n00:20:52.320 --> 00:20:53.280\n>> Yep.\n>> And so,\n\n485\n00:20:53.280 --> 00:20:56.590\nwhile mine is having a hard time\npulling up the active directory\n\n486\n00:20:56.590 --> 00:20:58.110\nadministrative center here.\n\n487\n00:20:58.110 --> 00:21:00.610\nLet's see if I can zoom in again.\n\n488\n00:21:00.610 --> 00:21:03.410\nA little bit more.\n\n489\n00:21:03.410 --> 00:21:04.400\nOkay?\n\n490\n00:21:04.400 --> 00:21:05.230\n>> Very handy console.\n\n491\n00:21:05.230 --> 00:21:06.438\nWe've talked about it\nin some other episodes.\n\n492\n00:21:06.438 --> 00:21:07.160\n>> Yea.\n\n493\n00:21:07.160 --> 00:21:09.310\nSo, what we're going to do is\nwe're actually going to go in and\n\n494\n00:21:09.310 --> 00:21:12.520\nwe're going to create a security\ngroup inside of the Contosa domain.\n\n495\n00:21:12.520 --> 00:21:14.380\nAnd so, you see that over\nhere on the left-hand side.\n\n496\n00:21:15.620 --> 00:21:18.230\nSo I'm going to just\nselect the Contosa domain.\n\n497\n00:21:18.230 --> 00:21:21.570\nAnd then,\nI'm going to come down here to users,\n\n498\n00:21:21.570 --> 00:21:27.040\noops, and I have to double click on it.\n\n499\n00:21:27.040 --> 00:21:30.510\nAnd inside of here,\nis where I'm going to create that group.\n\n500\n00:21:30.510 --> 00:21:32.720\nSorry, your mouse was\njust way off on that.\n\n501\n00:21:32.720 --> 00:21:34.930\n>> Yeah, sorry.\n>> He was clicking on the users container,\n\n502\n00:21:34.930 --> 00:21:38.580\nnot over there on the left\non the navigation tree.\n\n503\n00:21:38.580 --> 00:21:41.540\n>> So what ends up happening when\nyou actually use the zoom in tool.\n\n504\n00:21:41.540 --> 00:21:42.630\nYep.\n>> Yep.\n\n505\n00:21:42.630 --> 00:21:44.600\nSo I'm over here,\nI'm inside the user group.\n\n506\n00:21:44.600 --> 00:21:46.940\nYou can see it's all red and\nblue on the left hand side.\n\n507\n00:21:46.940 --> 00:21:49.330\nAnd so from here, I'm going to\ngo over to the right hand side.\n\n508\n00:21:49.330 --> 00:21:51.100\nI'm going to select where it says, new.\n\n509\n00:21:51.100 --> 00:21:52.320\nAnd then we're going\nto create a new group.\n\n510\n00:21:52.320 --> 00:21:52.840\n>> Right.\n\n511\n00:21:52.840 --> 00:21:53.760\n>> Okay?\n>> And you can put that\n\n512\n00:21:53.760 --> 00:21:55.890\ngroup anywhere in your active\ndirectory infrastructure, right?\n\n513\n00:21:55.890 --> 00:21:59.020\nSo it really would, a lot of companies\nmight have an OU just for groups.\n\n514\n00:21:59.020 --> 00:21:59.960\n>> Yep.\nSome things like that.\n\n515\n00:21:59.960 --> 00:22:03.960\nA lot of people just use that built\nin users container just for that.\n\n516\n00:22:03.960 --> 00:22:07.630\n>> So we're going to call it DA clients.\n\n517\n00:22:07.630 --> 00:22:08.655\nReason why is because it's easy.\n\n518\n00:22:08.655 --> 00:22:09.990\n[LAUGH]\n>> It's nice and easy.\n\n519\n00:22:09.990 --> 00:22:12.270\nIt's short, sweet, and to the point.\n\n520\n00:22:12.270 --> 00:22:14.050\n>> Yeah.\nNow I'm just going to use underscore to\n\n521\n00:22:14.050 --> 00:22:17.010\nhelp me, to just set it off a little bit,\nbut that's about it.\n\n522\n00:22:17.010 --> 00:22:18.670\nSo, verify a security group.\n\n523\n00:22:18.670 --> 00:22:21.690\nIt's going to be a global group here,\nwhich is perfectly fine.\n\n524\n00:22:21.690 --> 00:22:23.610\nAnd then, I'm going to click OK.\n\n525\n00:22:23.610 --> 00:22:28.350\nNow, remember you can always use a power\nshell command, also do this as well.\n\n526\n00:22:28.350 --> 00:22:30.040\nIf you want a dash,\nyou just set that up as well.\n\n527\n00:22:30.040 --> 00:22:31.690\nAnd not have to worry\nabout doing all this.\n\n528\n00:22:31.690 --> 00:22:34.270\nBut, once again, here's a simple way.\n\n529\n00:22:34.270 --> 00:22:35.370\nNew dash ad group.\n\n530\n00:22:35.370 --> 00:22:38.510\n>> New dash ad group, and\nthen it's a dash identity.\n\n531\n00:22:38.510 --> 00:22:41.640\n>> Yeah, dash aim, I think, is it?\n\n532\n00:22:41.640 --> 00:22:42.830\n>> Dash whatever the group name is.\n\n533\n00:22:42.830 --> 00:22:43.570\n>> Yeah, yep.\n>> And then\n\n534\n00:22:43.570 --> 00:22:44.770\nyou actually select your member.\n\n535\n00:22:44.770 --> 00:22:46.080\n>> Yeah, and your group scope.\n\n536\n00:22:46.080 --> 00:22:47.000\n>> There you go.\n>> And your group type.\n\n537\n00:22:47.000 --> 00:22:47.850\n>> There's your group scope.\n\n538\n00:22:47.850 --> 00:22:48.680\n>> Dash group scope.\n\n539\n00:22:48.680 --> 00:22:49.460\nDash group type.\n\n540\n00:22:49.460 --> 00:22:50.200\n>> There you go.\n\n541\n00:22:50.200 --> 00:22:50.720\nExcellent.\n\n542\n00:22:50.720 --> 00:22:52.810\n>> A good thing about that console,\nyou can actually learn your commands.\n\n543\n00:22:52.810 --> 00:22:53.360\nBut anyway.\n>> Yeah.\n\n544\n00:22:53.360 --> 00:22:53.860\n>> We-\n>> Yeah.\n\n545\n00:22:53.860 --> 00:22:54.841\n>> We don't do direct access.\n\n546\n00:22:54.841 --> 00:22:56.410\n>> Yeah, no. Yeah. Down here at the bottom\n\n547\n00:22:56.410 --> 00:22:58.630\nof this is that little power\nshell history command.\n\n548\n00:22:58.630 --> 00:22:59.410\nAnd you were typing it in.\n\n549\n00:22:59.410 --> 00:23:00.500\n>> Yeah.\n>> That way, you can remember every\n\n550\n00:23:00.500 --> 00:23:01.160\ncommand that you have.\n\n551\n00:23:01.160 --> 00:23:02.020\nSo it's pretty neat.\n\n552\n00:23:02.020 --> 00:23:02.900\n>> It is.\nIt's very handy.\n\n553\n00:23:02.900 --> 00:23:03.980\n>> Yeah.\nAll right.\n\n554\n00:23:03.980 --> 00:23:07.960\nSo once we've got this set up, this is\nwhere the meat of what we actually have to\n\n555\n00:23:07.960 --> 00:23:13.500\nlearn about is really here on\nthe direct access server, okay?\n\n556\n00:23:13.500 --> 00:23:19.380\nSo, on the direct access server, I really\nhave that same server dashboard actually\n\n557\n00:23:19.380 --> 00:23:23.990\nup here, and now we need to configure this\nto become a direct access server, okay?\n\n558\n00:23:23.990 --> 00:23:27.490\nSo I'm going to select ad roll\nhere in the center, add rolls and\n\n559\n00:23:27.490 --> 00:23:29.870\nspeakers, well maybe.\n\n560\n00:23:29.870 --> 00:23:34.678\nOkay, and once again if I can\ndo this without killing myself.\n\n561\n00:23:34.678 --> 00:23:37.780\n>> [LAUGH] Don't do that.\n\n562\n00:23:37.780 --> 00:23:40.270\n>> Same thing, you've probably\nseen this over and over again.\n\n563\n00:23:40.270 --> 00:23:43.670\nI always recommend you take the time\nto read through this if you haven't.\n\n564\n00:23:43.670 --> 00:23:44.970\nMake sure you do take a look at it.\n\n565\n00:23:44.970 --> 00:23:47.670\nIt's worthy material for\nyou to actually take a look at.\n\n566\n00:23:47.670 --> 00:23:49.240\nBefore we actually go on.\n\n567\n00:23:49.240 --> 00:23:53.942\nAnd we're simply going to select next,\nand notice we have the role based, which\n\n568\n00:23:53.942 --> 00:23:58.250\nis what we want as one of the routing\naccess or remote access server roles.\n\n569\n00:23:58.250 --> 00:24:03.210\nAnd from there, it's asking me what server\ndo I want to actually have this role on.\n\n570\n00:24:03.210 --> 00:24:06.921\nAnd I'm just going to leave the one that's\nactually right here I know my mouse\n\n571\n00:24:06.921 --> 00:24:07.500\nis way off.\n\n572\n00:24:07.500 --> 00:24:08.960\nI wish I could make it different.\n\n573\n00:24:08.960 --> 00:24:12.150\nWe're just gonna leave\nthe default here in the center.\n\n574\n00:24:12.150 --> 00:24:15.560\nAnd I'm clicking on Next even though the\nscreen doesn't actually look at it here.\n\n575\n00:24:16.580 --> 00:24:20.620\nIn the center, in terms of roles,\nI'm gonna scroll down, and I'm looking for\n\n576\n00:24:20.620 --> 00:24:21.340\nthe one, maybe.\n\n577\n00:24:21.340 --> 00:24:24.820\nIt looks like it's hopping around on me.\n\n578\n00:24:24.820 --> 00:24:27.350\nI'm looking for\nthe one that says RemoteAccess.\n\n579\n00:24:27.350 --> 00:24:30.660\nAnd as soon as I clicked on RemoteAccess,\nit's telling me, hey,\n\n580\n00:24:30.660 --> 00:24:34.640\nthere's other things that have to be\ninstalled if you're gonna do this.\n\n581\n00:24:34.640 --> 00:24:37.070\n>> It's good to have your administrative\nconsoles and things like that.\n\n582\n00:24:37.070 --> 00:24:40.935\n>> Yep, and that's really the feature\nthat we really want is the administrative\n\n583\n00:24:40.935 --> 00:24:45.190\nconsole so that we can manage this\nstuff as we go on through here.\n\n584\n00:24:45.190 --> 00:24:48.500\nFrom here,\nit's simply just clicking Next, and\n\n585\n00:24:48.500 --> 00:24:50.230\nwe're not gonna add any\nother additional features.\n\n586\n00:24:50.230 --> 00:24:51.780\nIt's already told us\nwhat it wanted to add in.\n\n587\n00:24:51.780 --> 00:24:53.550\nSo we're gonna leave it at the default.\n\n588\n00:24:54.880 --> 00:24:58.420\nAnd then, we're gonna go ahead and\ntell it the other things.\n\n589\n00:24:58.420 --> 00:25:01.455\nAnd we wanna verify, and\nmake sure that that is what is checked.\n\n590\n00:25:01.455 --> 00:25:04.120\nNotice this says DirectAccess and VPN.\n\n591\n00:25:04.120 --> 00:25:05.840\nAnd this is what Mike\nwas mentioning earlier.\n\n592\n00:25:05.840 --> 00:25:09.520\nIf you do have a mixed environment\nwhere you are supporting Vista or\n\n593\n00:25:09.520 --> 00:25:12.010\neven Windows XP still in your environment,\n\n594\n00:25:12.010 --> 00:25:14.520\nthey're not gonna be able to\nconnect using DirectAccess.\n\n595\n00:25:14.520 --> 00:25:17.240\nBut if you have that as well\nas Windows 8 computers here,\n\n596\n00:25:17.240 --> 00:25:18.990\nyou may wanna actually make\nsure that you do both.\n\n597\n00:25:18.990 --> 00:25:19.750\n>> Yep, absolutely.\n\n598\n00:25:19.750 --> 00:25:20.510\n>> Yep.\n>> Absolutely.\n\n599\n00:25:22.460 --> 00:25:23.810\n>> And it's gonna install this web server.\n\n600\n00:25:23.810 --> 00:25:26.470\nNow we were talking about it\na little bit earlier here.\n\n601\n00:25:26.470 --> 00:25:27.880\nWhat's the point of this?\n\n602\n00:25:27.880 --> 00:25:30.250\n>> That's basically so\nthat the client has a way to,\n\n603\n00:25:30.250 --> 00:25:32.720\nit's just giving them a point\nof contact to the NLS server.\n\n604\n00:25:32.720 --> 00:25:36.120\nIt's not a webpage that you browse to and\nclick on things.\n\n605\n00:25:36.120 --> 00:25:39.832\nIt's just a little virtual directory\nthat the client will connect to.\n\n606\n00:25:39.832 --> 00:25:43.720\nIt'll just attempt to\nestablish an HTTPS connection,\n\n607\n00:25:43.720 --> 00:25:47.320\nwhich means it's gonna require\nthat certificate from that server.\n\n608\n00:25:47.320 --> 00:25:48.390\nWhen you use this wizard,\n\n609\n00:25:48.390 --> 00:25:51.740\nit's gonna install your NLS\non your DirectAccess server.\n\n610\n00:25:51.740 --> 00:25:53.680\nSo it's all gonna be on the same machine.\n\n611\n00:25:53.680 --> 00:25:54.910\nYou don't have to.\n\n612\n00:25:54.910 --> 00:25:59.130\nYou can put that NLS role or\nrole service on another server, but\n\n613\n00:25:59.130 --> 00:26:01.480\nthen you'd have to create\nthe website manually.\n\n614\n00:26:01.480 --> 00:26:04.950\nAnd have to set all that up, so.\n\n615\n00:26:04.950 --> 00:26:09.220\n>> So from there, I'm not gonna add in\nany other additional features right now.\n\n616\n00:26:09.220 --> 00:26:11.920\nI think all we really need\nis that point of contact.\n\n617\n00:26:11.920 --> 00:26:14.550\nSo, we're not gonna be issuing\nout a lot of other things.\n\n618\n00:26:14.550 --> 00:26:17.600\n>> Nope.\nAnd then I can click on Install.\n\n619\n00:26:17.600 --> 00:26:18.840\nAnd it might just take a moment for\n\n620\n00:26:18.840 --> 00:26:21.080\nit to actually install\neverything that we need, right?\n\n621\n00:26:21.080 --> 00:26:24.770\nSo this is now preparing our\nDirectAccess server role.\n\n622\n00:26:24.770 --> 00:26:27.500\nAnd it's really doing\na lot of the other things\n\n623\n00:26:27.500 --> 00:26:30.610\nthat we wouldn't have actually been\nable to do in just one click, right?\n\n624\n00:26:30.610 --> 00:26:31.610\n>> Right, yeah.\n\n625\n00:26:31.610 --> 00:26:34.100\n>> So it makes it really fairly easy.\n\n626\n00:26:34.100 --> 00:26:34.640\n>> Yeah, it does.\n\n627\n00:26:34.640 --> 00:26:37.350\nIt sets everything in place,\nit doesn't configure the role yet.\n\n628\n00:26:37.350 --> 00:26:38.470\n>> Nope.\n>> We've still gotta go back and\n\n629\n00:26:38.470 --> 00:26:44.270\nrun that wizard, but it gets everything\nin place that we're gonna need.\n\n630\n00:26:44.270 --> 00:26:47.206\nI've always been a big fan of that wizard,\ncuz it reminds you of little things that\n\n631\n00:26:47.206 --> 00:26:51.590\nyou might have forgot like, crud, I forgot\nto install iOS before I installed this.\n\n632\n00:26:51.590 --> 00:26:53.820\nIt's okay, the wizard took care of it.\n\n633\n00:26:53.820 --> 00:26:57.555\n>> And this is one of those benefits\nof reading before clicking Next.\n\n634\n00:26:57.555 --> 00:26:58.900\n[LAUGH]\n>> We have a habit,\n\n635\n00:26:58.900 --> 00:27:02.100\nafter we get used to doing this, of just\nclicking Next and clicking Next, and then\n\n636\n00:27:02.100 --> 00:27:05.780\nfinally Mike says I forgot to do that, and\nthen have to go back through it again.\n\n637\n00:27:05.780 --> 00:27:07.420\nSo for us here, that's what it's doing.\n\n638\n00:27:07.420 --> 00:27:10.051\nIt's just setting up, putting\neverything in place that we need to.\n\n639\n00:27:10.051 --> 00:27:12.997\nAnd then you're gonna see that this\nis where server 2012 does differ from\n\n640\n00:27:12.997 --> 00:27:14.324\nthe previous operating systems.\n\n641\n00:27:14.324 --> 00:27:18.268\nWhere it goes and does all that, and then\nit actually takes you into an additional\n\n642\n00:27:18.268 --> 00:27:21.290\nstep to configure the actual\nroles that we actually need too.\n\n643\n00:27:21.290 --> 00:27:21.790\n>> Absolutely.\n\n644\n00:27:23.440 --> 00:27:25.230\n>> Now during this point,\nwe're just actually waiting.\n\n645\n00:27:25.230 --> 00:27:26.720\nIt might take us a couple of minutes.\n\n646\n00:27:26.720 --> 00:27:29.240\nSo this is a good place for\nus to just take a break, and\n\n647\n00:27:29.240 --> 00:27:31.690\nthen when we come back from our break,\nwe'll go ahead and\n\n648\n00:27:31.690 --> 00:27:34.508\ncontinue on with the rest of this lab and\nwe'll complete it.\n\n649\n00:27:34.508 --> 00:27:35.435\n>> Sounds like a plan.\n\n650\n00:27:35.435 --> 00:27:36.653\n>> All right.\nSo we'll see you after the break.\n\n651\n00:27:36.653 --> 00:27:45.599\n[MUSIC]\n\n652\n00:27:45.599 --> 00:27:50.826\nAll right, welcome back as we continue on\nwith our episode here on DirectAccess.\n\n653\n00:27:50.826 --> 00:27:57.231\nWe had just finished the wizard,\nin which we installed the DirectAccess and\n\n654\n00:27:57.231 --> 00:28:01.645\nVPN role on the actual\nDirect Access server itself.\n\n655\n00:28:01.645 --> 00:28:04.530\nAnd now we have to continue on\nwith the configuration of this.\n\n656\n00:28:04.530 --> 00:28:07.260\nYeah, so I'm going to go ahead and\nclick Close here.\n\n657\n00:28:07.260 --> 00:28:09.260\nNow, there's a couple of\nways where we can get this.\n\n658\n00:28:09.260 --> 00:28:10.520\nThere's this little tiny,\n\n659\n00:28:10.520 --> 00:28:15.130\nyellow warning thing up here on the upper\nright hand corner, and the traditional\n\n660\n00:28:15.130 --> 00:28:19.640\nway is going over here to the left\nhand side where it says RemoteAccess.\n\n661\n00:28:19.640 --> 00:28:23.010\nAnd again, my mouse is not gonna\nactually be where you want it to be.\n\n662\n00:28:23.010 --> 00:28:26.630\nThen in the center on the blue bar here\nwhere it says DirectAccess server,\n\n663\n00:28:26.630 --> 00:28:31.172\nif I right-click and\nI go down to Remote Access Management, and\n\n664\n00:28:31.172 --> 00:28:33.821\nthat-\n>> I don't know if I've ever\n\n665\n00:28:33.821 --> 00:28:35.030\ngone that way.\n\n666\n00:28:35.030 --> 00:28:36.020\n>> No?\n>> I have not.\n\n667\n00:28:36.020 --> 00:28:37.010\n>> Well, there you go.\n\n668\n00:28:37.010 --> 00:28:38.285\n>> Yeah, I like it.\n\n669\n00:28:38.285 --> 00:28:40.373\n>> [LAUGH]\n>> And so\n\n670\n00:28:40.373 --> 00:28:44.370\nthat brings us up to this window here now.\n\n671\n00:28:44.370 --> 00:28:47.730\nHere's where you actually\nhave choices to make, okay?\n\n672\n00:28:47.730 --> 00:28:51.610\nSo in the center is what we're\nreally taking a look at here.\n\n673\n00:28:51.610 --> 00:28:53.790\nThe idea of configuring RemoteAccess.\n\n674\n00:28:53.790 --> 00:28:56.724\nNow notice the first\noption that we have here.\n\n675\n00:28:56.724 --> 00:29:00.520\nIt says Run the Getting Started Wizard,\nuse this wizard to configure DirectAccess\n\n676\n00:29:00.520 --> 00:29:05.000\nand VPN quickly with default\nrecommended settings.\n\n677\n00:29:05.000 --> 00:29:09.420\nNotice how they actually put that,\ndefault recommended settings here.\n\n678\n00:29:09.420 --> 00:29:13.240\nOr they say that you can actually\ndo it the old fashioned harder way\n\n679\n00:29:13.240 --> 00:29:15.290\nwhich is the second one here.\n\n680\n00:29:15.290 --> 00:29:17.600\nRun the RemoteAccess Setup Wizard.\n\n681\n00:29:17.600 --> 00:29:22.800\nUse this wizard to configure DirectAccess\nwith VPM, with custom settings.\n\n682\n00:29:22.800 --> 00:29:26.380\nNot recommended, but custom,\nwhich they're saying you're wrong.\n\n683\n00:29:26.380 --> 00:29:27.130\nNo, I'm joking.\n\n684\n00:29:27.130 --> 00:29:30.130\nThey're meaning if your environment\nabsolutely requires you to\n\n685\n00:29:30.130 --> 00:29:33.320\ndo all the extra setup,\nthe first one is really designed for\n\n686\n00:29:33.320 --> 00:29:34.960\nthat small to medium sized environment.\n\n687\n00:29:34.960 --> 00:29:37.640\n>> Yeah, that default configuration\nmight not be appropriate for\n\n688\n00:29:37.640 --> 00:29:40.890\nyour environment, so\nthey give you that option.\n\n689\n00:29:40.890 --> 00:29:43.930\nBut even in some of the smaller shops,\nif you know what you're doing, you might\n\n690\n00:29:43.930 --> 00:29:48.290\nwanna see what that wizard's gonna do and\ngo through the advanced wizard anyway.\n\n691\n00:29:48.290 --> 00:29:49.960\nUse that simple wizard.\n\n692\n00:29:49.960 --> 00:29:53.330\nIt's gonna basically do everything for\nyou, ask you a couple of questions.\n\n693\n00:29:53.330 --> 00:29:56.270\nOnly problem I have with\nthat is some people that\n\n694\n00:29:56.270 --> 00:29:58.122\nmaybe aren't as familiar\nwith the technology.\n\n695\n00:29:58.122 --> 00:30:00.170\nThey run through that wizard and\nthey assume everything's good,\n\n696\n00:30:00.170 --> 00:30:03.640\nsecure, perfect, and\nthey just never go back and look at it.\n\n697\n00:30:03.640 --> 00:30:06.750\nAnd I think it's important that if you\nrun a wizard like that, you go back and\n\n698\n00:30:06.750 --> 00:30:10.760\nsee what the wizard did and make sure\nthat that's in compliance with your\n\n699\n00:30:10.760 --> 00:30:14.250\nsecurity policies, and your corporate\npolicies and things like that.\n\n700\n00:30:14.250 --> 00:30:15.650\n>> So the one that we're gonna do is,\nof course,\n\n701\n00:30:15.650 --> 00:30:17.595\nis the one that Mike doesn't recommend,\nbut the one I do.\n\n702\n00:30:17.595 --> 00:30:18.960\n>> [LAUGH]\n>> Is what we're gonna do here.\n\n703\n00:30:18.960 --> 00:30:21.350\nSo we're gonna run through\nthis Getting Started Wizard.\n\n704\n00:30:21.350 --> 00:30:24.490\nAnd that's because that's the one\nthat you'll probably see more likely\n\n705\n00:30:24.490 --> 00:30:25.120\nwhen you do set it up.\n\n706\n00:30:25.120 --> 00:30:26.850\n>> It's been called out in the objectives,\nI'm pretty sure.\n\n707\n00:30:26.850 --> 00:30:28.730\n>> It's the one that's pretty\nmuch the one that we really see.\n\n708\n00:30:28.730 --> 00:30:30.450\n>> Yeah.\n>> So I'm gonna select that first option.\n\n709\n00:30:30.450 --> 00:30:33.320\nOnce again, don't follow my mouse but\njust kind of believe me here.\n\n710\n00:30:33.320 --> 00:30:37.770\nAnd this again is where we also\nhave some different options,\n\n711\n00:30:37.770 --> 00:30:39.161\nif I can actually zoom in as well.\n\n712\n00:30:39.161 --> 00:30:42.328\n>> First thing it wants to know,\nare we doing DirectAccess only,\n\n713\n00:30:42.328 --> 00:30:43.600\nVPN only, or both?\n\n714\n00:30:43.600 --> 00:30:44.340\n>> Yeah.\n\n715\n00:30:44.340 --> 00:30:46.090\nAnd of course,\nthe recommended one is both,\n\n716\n00:30:46.090 --> 00:30:49.405\nespecially in an environment once again,\nif you're not sure what your\n\n717\n00:30:49.405 --> 00:30:53.695\nclient environment is, you might wanna\ngo ahead and just set this one up, and\n\n718\n00:30:53.695 --> 00:30:56.313\nthat way it sets up both and\nyou don't have to worry about it.\n\n719\n00:30:56.313 --> 00:30:59.465\nSo we're gonna do that one,\nconfiguring DirectAccess and\n\n720\n00:30:59.465 --> 00:31:04.335\nVPN on the server, enable DirectAccess\nclient computers, allow remote\n\n721\n00:31:04.335 --> 00:31:07.325\nclient computers not supported for\ndirect access to connect using VPN.\n\n722\n00:31:07.325 --> 00:31:08.335\nCan't beat that.\n\n723\n00:31:08.335 --> 00:31:09.715\n>> Nope, I like it.\n\n724\n00:31:09.715 --> 00:31:13.450\n>> So we select that one, and\nnow it's going through and\n\n725\n00:31:13.450 --> 00:31:15.930\nit's actually running through\nthat Getting Started Wizard.\n\n726\n00:31:15.930 --> 00:31:17.550\nAnd this is where, once again,\n\n727\n00:31:17.550 --> 00:31:21.150\nwe have some options that we can\nalso take a look at here too.\n\n728\n00:31:22.990 --> 00:31:26.050\nSo if you're confused about it,\nthe good thing is directly underneath\n\n729\n00:31:26.050 --> 00:31:29.920\nit has a description of what\nyou might actually need here.\n\n730\n00:31:29.920 --> 00:31:31.920\nSo we're gonna set this one up for\nthe edge, and\n\n731\n00:31:31.920 --> 00:31:34.200\nit tells us right here\nwhat it actually does.\n\n732\n00:31:34.200 --> 00:31:37.280\nDeployed at the edge of an internal\ncorporate network configured with\n\n733\n00:31:37.280 --> 00:31:38.380\ntwo adapters.\n\n734\n00:31:38.380 --> 00:31:40.640\nNow, you actually see the next one here.\n\n735\n00:31:40.640 --> 00:31:44.460\nIt says, behind the edge with two network\nadapters, and you're probably like well,\n\n736\n00:31:44.460 --> 00:31:45.030\nwhat's the difference?\n\n737\n00:31:45.030 --> 00:31:46.430\nWe'll talk about those in a moment.\n\n738\n00:31:46.430 --> 00:31:50.180\nBut this is the one where if you have\none network adapter that faces your LAN,\n\n739\n00:31:50.180 --> 00:31:52.160\nthe other network adapter\nessentially facing outward.\n\n740\n00:31:52.160 --> 00:31:54.450\nIn other words, the Internet.\n\n741\n00:31:54.450 --> 00:31:56.990\nFor most of us,\nis what we're gonna be talking about here.\n\n742\n00:31:56.990 --> 00:32:00.056\nSo if I know that I have two network\nadapters, one's gonna be facing inside,\n\n743\n00:32:00.056 --> 00:32:02.970\none's gonna be facing outside,\nthis is the one I'm gonna choose.\n\n744\n00:32:02.970 --> 00:32:06.687\nThe other one that we have-\n>> And with that one,\n\n745\n00:32:06.687 --> 00:32:12.300\nyou're saying that your external-facing\nadapter actually has a public IP address.\n\n746\n00:32:12.300 --> 00:32:16.130\nAnd is exposed directly to the internet,\nso that is your edge device.\n\n747\n00:32:16.130 --> 00:32:17.550\n>> Yep.\n>> At that point.\n\n748\n00:32:17.550 --> 00:32:18.300\n>> Yep.\n\n749\n00:32:18.300 --> 00:32:22.520\nAnd now, notice this one which talks\nabout the idea of two network adapters.\n\n750\n00:32:22.520 --> 00:32:23.039\nYou might say.\n>> Mm-hm.\n\n751\n00:32:23.039 --> 00:32:24.390\n>> Well, in the first one too?\n\n752\n00:32:24.390 --> 00:32:28.085\nYes, this one actually I guess is actually\nthree, if you consider it, right?\n\n753\n00:32:28.085 --> 00:32:28.970\n>> Uh-huh.\n>> There's gonna be\n\n754\n00:32:28.970 --> 00:32:31.170\ntwo network adapters that face the public.\n\n755\n00:32:31.170 --> 00:32:35.370\nThis is where we would've needed those\nconsecutive IP addresses at one point.\n\n756\n00:32:35.370 --> 00:32:36.430\nIf we were setting this one up.\n\n757\n00:32:36.430 --> 00:32:37.280\nBennett?\n>> No.\n\n758\n00:32:37.280 --> 00:32:39.300\n>> No? Okay. >> No,\none of them is going to face the inside.\n\n759\n00:32:39.300 --> 00:32:41.185\nThe other one is going to be\nconnected to your perimeter network.\n\n760\n00:32:41.185 --> 00:32:43.145\n>> Okay.\nSo you've got a router out in front of.\n\n761\n00:32:43.145 --> 00:32:43.710\n>> There you go.\n\n762\n00:32:43.710 --> 00:32:46.370\nSo now your Direct Access Server's\nnot exposed directly.\n\n763\n00:32:46.370 --> 00:32:47.750\n>> There you go.\n>> You've got a router in front\n\n764\n00:32:47.750 --> 00:32:48.260\nor a firewall.\n\n765\n00:32:48.260 --> 00:32:49.660\n>> There you go.\n>> Most likely, I guess.\n\n766\n00:32:49.660 --> 00:32:51.540\nYou're the Cisco expert but\n>> No, that's fine.\n\n767\n00:32:51.540 --> 00:32:53.110\n>> Put a firewall out\nthere in front of it.\n\n768\n00:32:53.110 --> 00:32:55.100\n>> There you go.\n>> So your Direct Access Server,\n\n769\n00:32:55.100 --> 00:32:58.140\nthat externt of the perimeter one,\nit might not be a public IP address.\n\n770\n00:32:58.140 --> 00:32:59.510\n>> Okay, yup, and\n\n771\n00:32:59.510 --> 00:33:02.470\nthen the last one here, how do you\ndo this with one network adapter?\n\n772\n00:33:02.470 --> 00:33:05.460\n>> Yeah, it gets a little hairy with\none network adapter, doesn't it?\n\n773\n00:33:05.460 --> 00:33:10.290\nBut if it's not the edge device, then it's\njust going to be connected most likely to\n\n774\n00:33:10.290 --> 00:33:11.830\nthe perimeter network I would assume.\n\n775\n00:33:13.000 --> 00:33:15.840\n>> Yep so, it says remote access server\ndeployed with a single network adapter.\n\n776\n00:33:15.840 --> 00:33:18.050\nYep just connected to\nthe internal network here.\n\n777\n00:33:18.050 --> 00:33:18.970\nSo you have those options.\n\n778\n00:33:18.970 --> 00:33:22.890\nMost of us in small to medium environment\nis probably going to use that edge one,\n\n779\n00:33:22.890 --> 00:33:24.390\nif we want to.\n\n780\n00:33:24.390 --> 00:33:28.280\nOr if you already have a firewall,\nagain maybe the second option.\n\n781\n00:33:28.280 --> 00:33:29.076\n>> Right, yeah.\n\n782\n00:33:29.076 --> 00:33:30.170\n>> Yep, okay.\n\n783\n00:33:30.170 --> 00:33:31.230\n>> Now the other thing here.\n\n784\n00:33:31.230 --> 00:33:37.080\nIt says we need to type in\na public name or IPV4 address.\n\n785\n00:33:37.080 --> 00:33:40.280\nSo this is where it's expecting\nthat public IP address.\n\n786\n00:33:40.280 --> 00:33:42.740\nThat should be out there in the front,\nright here.\n\n787\n00:33:42.740 --> 00:33:43.390\nOkay.\n\n788\n00:33:43.390 --> 00:33:46.520\nSo if you don't have one,\nit may balk at you if you try and\n\n789\n00:33:46.520 --> 00:33:47.940\nactually put in a private one.\n\n790\n00:33:47.940 --> 00:33:48.990\n>> Right.\n>> I've done that before.\n\n791\n00:33:48.990 --> 00:33:53.420\nLet's just try and\nput in a private one here.\n\n792\n00:33:53.420 --> 00:33:56.090\n19216850.1, and\nlet's see if I go next here.\n\n793\n00:33:56.090 --> 00:33:56.980\nNope.\n\n794\n00:33:56.980 --> 00:33:58.900\nLook at that.\nIt actually tells me that right here.\n\n795\n00:33:58.900 --> 00:33:59.590\nHey.\n\n796\n00:33:59.590 --> 00:34:01.180\nI do not see a public one.\n\n797\n00:34:01.180 --> 00:34:03.480\nYou specified it's not there.\n\n798\n00:34:03.480 --> 00:34:04.040\nIt doesn't like it.\n\n799\n00:34:04.040 --> 00:34:07.760\n>> No, cause it knows, right, you're not\ngoing to be able to access that IP address\n\n800\n00:34:07.760 --> 00:34:10.980\nfrom the hotel or from your users home or\nsomething like that.\n\n801\n00:34:10.980 --> 00:34:12.460\nIt's a private, hidden IP address.\n\n802\n00:34:12.460 --> 00:34:13.070\n>> Yeah.\n\n803\n00:34:13.070 --> 00:34:14.010\nNeeds that public.\n\n804\n00:34:14.010 --> 00:34:15.240\n>> Yeah.\nAll right.\n\n805\n00:34:15.240 --> 00:34:16.650\nSo, the one that we have is 206.10.15.1.\n\n806\n00:34:16.650 --> 00:34:19.560\nSo I just typed in that particular one.\n\n807\n00:34:19.560 --> 00:34:22.390\nAnd notice it says you can actually\n\n808\n00:34:22.390 --> 00:34:26.970\nuse a fully qualified domain name\nif you want to here as well.\n\n809\n00:34:26.970 --> 00:34:29.930\nSo either the public name or\nthe IPV4 address.\n\n810\n00:34:29.930 --> 00:34:31.050\nAnd I click Next.\n\n811\n00:34:31.050 --> 00:34:33.250\n>> Are we sticking with the single\nnetwork or are we doing the edge?\n\n812\n00:34:33.250 --> 00:34:34.400\n>> We're doing the edge.\n\n813\n00:34:34.400 --> 00:34:35.710\nDid I?\nDid I?\n\n814\n00:34:35.710 --> 00:34:36.870\nThere we go.\n\n815\n00:34:36.870 --> 00:34:39.250\nSee I did the wrong one.\n\n816\n00:34:39.250 --> 00:34:39.760\nSee?\n\n817\n00:34:39.760 --> 00:34:40.290\nWell, yeah.\n\n818\n00:34:40.290 --> 00:34:43.960\nAll right now from here there's a lot\nof configuration that's going to go on.\n\n819\n00:34:43.960 --> 00:34:46.560\nAnd we're going to see this once\nwe actually click on finish and\n\n820\n00:34:46.560 --> 00:34:50.710\nwe can talk about it a little bit\nas it kind of goes through here.\n\n821\n00:34:50.710 --> 00:34:51.770\nSo I'm going to click on finish and\n\n822\n00:34:51.770 --> 00:34:54.810\nI'm going to actually expand\nout this more details here.\n\n823\n00:34:54.810 --> 00:34:56.660\nAnd maybe, if I can get\n>> That was\n\n824\n00:34:56.660 --> 00:34:57.840\na pretty complex wizard, right?\n\n825\n00:34:57.840 --> 00:34:58.390\nWe had\n>> Yeah.\n\n826\n00:34:58.390 --> 00:34:59.340\nNo.\nGigantic.\n\n827\n00:34:59.340 --> 00:35:02.280\n>> We had one radio button to choose and\nan IP address to type in and\n\n828\n00:35:02.280 --> 00:35:03.050\nwe're halfway there.\n\n829\n00:35:04.250 --> 00:35:07.770\n>> So this is that point where the direct\naccess server is now being configured.\n\n830\n00:35:07.770 --> 00:35:10.940\nIt's going to go ahead and\nyou see where it's backing up GPO's and\n\n831\n00:35:10.940 --> 00:35:13.700\nits retrieving some group policy objects,\nand\n\n832\n00:35:13.700 --> 00:35:16.570\nthis is where it is actually creating some\nof these group policy objects at the same\n\n833\n00:35:16.570 --> 00:35:21.540\ntime, checking your network adapters\nas you see your DNS records,\n\n834\n00:35:21.540 --> 00:35:26.780\nmaybe on the stale configurations or\nold configurations are there.\n\n835\n00:35:26.780 --> 00:35:29.820\nNative IPv6 deployment,\n\n836\n00:35:29.820 --> 00:35:34.240\nverifying your IP over HTTPS on\nSSL certificates, stuff like that.\n\n837\n00:35:34.240 --> 00:35:36.180\nIt's just taking a look\nat all that right now and\n\n838\n00:35:36.180 --> 00:35:38.510\nverifying that it can\nactually get everything done.\n\n839\n00:35:38.510 --> 00:35:42.150\nNow, it paused there when I zoomed in so\nI want to go ahead and do the rest of it.\n\n840\n00:35:42.150 --> 00:35:45.750\nYou see where it's actually continuing on\nand going through and it's actually going\n\n841\n00:35:45.750 --> 00:35:49.420\nto check and verify that everything is\nset up for us in the way that we want it.\n\n842\n00:35:49.420 --> 00:35:50.070\nOkay?\n\n843\n00:35:50.070 --> 00:35:52.330\nSo every once in a while you\nwill have some warnings.\n\n844\n00:35:52.330 --> 00:35:55.950\nLike this one is not doing load balancing,\nwhich is what we had a little bit\n\n845\n00:35:55.950 --> 00:36:00.550\nfurther up here, in terms of a warning,\nis what this one is actually calling out.\n\n846\n00:36:00.550 --> 00:36:02.370\nBut besides that,\neverything is pretty much done.\n\n847\n00:36:02.370 --> 00:36:04.895\n>> Yeah exactly, as long as you\ndon't have any big fact red Xs.\n\n848\n00:36:04.895 --> 00:36:06.130\n>> [LAUGH]\n>> You should be good to go, right?\n\n849\n00:36:06.130 --> 00:36:09.590\nWarning you want to look at, and see if\nit's something you need to address or\n\n850\n00:36:09.590 --> 00:36:12.260\nit's something you're already aware of and\nyou're not worried about.\n\n851\n00:36:12.260 --> 00:36:16.410\nErrors would obviously prevent us from\ngoing on and we would have to fix those.\n\n852\n00:36:16.410 --> 00:36:19.050\n>> The nice thing about this getting\nstarted wizard is that it gives you a nice\n\n853\n00:36:19.050 --> 00:36:21.990\nlittle graphical step one,\ntwo, three, and four.\n\n854\n00:36:21.990 --> 00:36:24.440\nYou can't beat that, right?\n\n855\n00:36:24.440 --> 00:36:26.310\nIn terms of getting everything set up.\n\n856\n00:36:26.310 --> 00:36:29.470\nIt makes you go, no actually it doesn't\nmake you, at this point if you notice,\n\n857\n00:36:29.470 --> 00:36:31.625\nactually it does make you do something,\ndoesn't it?\n\n858\n00:36:31.625 --> 00:36:32.990\n>> Mm-hm.\n>> Now, the finish button is\n\n859\n00:36:32.990 --> 00:36:37.600\nover here on the lower right hand corner\nof this little screen in the center.\n\n860\n00:36:37.600 --> 00:36:40.530\nBut you do wanto to go back and\ncheck these settings, okay.\n\n861\n00:36:40.530 --> 00:36:42.530\nAnd this is where we can go back now.\n\n862\n00:36:42.530 --> 00:36:45.730\nAnd as you see, all the stuff\nthat that wizard really did do.\n\n863\n00:36:45.730 --> 00:36:46.380\n>> Right.\nYep.\n\n864\n00:36:46.380 --> 00:36:48.730\n>> And then we can modify and\nchange it, if we want to.\n\n865\n00:36:48.730 --> 00:36:49.680\n>> Exactly.\n>> Okay.\n\n866\n00:36:49.680 --> 00:36:52.060\nSo, let's go through step one here, okay.\n\n867\n00:36:52.060 --> 00:36:53.860\n>> Okay.\n>> And let see some of those,\n\n868\n00:36:53.860 --> 00:36:57.230\nyou hate to say it, weird recommended\nsettings that we matched, yeah.\n\n869\n00:36:57.230 --> 00:37:00.840\n>> This is what that wizard applied and,\nlike I said earlier and you said earlier,\n\n870\n00:37:00.840 --> 00:37:01.930\nyou know, we want to make sure and\n\n871\n00:37:01.930 --> 00:37:04.670\ndouble check that because it might not\nbe appropriate for our environment.\n\n872\n00:37:04.670 --> 00:37:06.350\nLike this is going to set it up,\nwhat does it do?\n\n873\n00:37:06.350 --> 00:37:09.070\nIt's all mobile clients I think,\nor something?\n\n874\n00:37:09.070 --> 00:37:11.320\n>> That's what's enabled by default here,\nyep.\n\n875\n00:37:11.320 --> 00:37:15.062\nSo let's say that what we have here\nis set to identify the actual client\n\n876\n00:37:15.062 --> 00:37:15.950\ncomputer's chip.\n\n877\n00:37:15.950 --> 00:37:18.440\nNow we created that security\ngroup a little bit earlier.\n\n878\n00:37:18.440 --> 00:37:20.420\n>> Right, the VA_Clients.\n\n879\n00:37:20.420 --> 00:37:22.190\n>> Yeah, and\nI don't remember ever actually\n\n880\n00:37:22.190 --> 00:37:23.450\nputting that in the wizard at all.\n\n881\n00:37:23.450 --> 00:37:23.990\n>> You didn't?\n\n882\n00:37:23.990 --> 00:37:27.390\nSo that means at this point, the only\nthing that's actually there by default\n\n883\n00:37:27.390 --> 00:37:29.200\nis actually all the domain computers.\n\n884\n00:37:29.200 --> 00:37:29.740\n>> Yeah.\n\n885\n00:37:29.740 --> 00:37:31.050\n>> So we want to change that.\n\n886\n00:37:31.050 --> 00:37:34.300\nSo what I'm going to do on step number\none is click on this edit button.\n\n887\n00:37:34.300 --> 00:37:37.060\nAnd notice again a nice little wizard for\nus.\n\n888\n00:37:37.060 --> 00:37:38.360\n>> Right.\n>> Who would have guessed?\n\n889\n00:37:38.360 --> 00:37:39.070\nOkay?\n\n890\n00:37:39.070 --> 00:37:45.230\nSo, it says to deploy full direct access\nfor client access and remote management.\n\n891\n00:37:45.230 --> 00:37:46.780\nAnd, I'm just going to\nclick on this next one, and\n\n892\n00:37:46.780 --> 00:37:50.040\nthis is where I wanted to get to,\nwas right here, before I zoom in.\n\n893\n00:37:50.040 --> 00:37:52.390\nI don't want to make you all too dizzy.\n\n894\n00:37:52.390 --> 00:37:54.260\nOkay, find it here?\n\n895\n00:37:54.260 --> 00:37:57.010\nBut notice this one,\nit says to select one or\n\n896\n00:37:57.010 --> 00:38:01.030\nmore security groups containing the client\ncomputers that's going to be enabled here.\n\n897\n00:38:01.030 --> 00:38:05.530\nWell, I didn't really want it for\nevery single domain computer, okay?\n\n898\n00:38:05.530 --> 00:38:07.890\nI really only want it for\nmy direct access clients.\n\n899\n00:38:07.890 --> 00:38:09.290\nSo, I need to change this option here.\n\n900\n00:38:09.290 --> 00:38:10.660\n>> Yep, that's why we made that group.\n\n901\n00:38:10.660 --> 00:38:11.340\n>> Yep.\n\n902\n00:38:11.340 --> 00:38:12.650\nAnd the second one here.\n\n903\n00:38:12.650 --> 00:38:15.194\nThat we also want to change is, oops.\n\n904\n00:38:15.194 --> 00:38:17.906\n[LAUGH]\n>> Got it?\n\n905\n00:38:17.906 --> 00:38:18.415\n>> Yep.\n\n906\n00:38:18.415 --> 00:38:20.660\n[LAUGH]\n>> There you go.\n\n907\n00:38:20.660 --> 00:38:22.380\n>> It's really that one there.\n\n908\n00:38:22.380 --> 00:38:26.250\nEnabling direct access for\nmobile computers only.\n\n909\n00:38:26.250 --> 00:38:28.885\nSo that's the default,\nthat's the one that's set up.\n\n910\n00:38:28.885 --> 00:38:30.709\n[CROSSTALK]\n>> Yeah, so all the main computer, but\n\n911\n00:38:30.709 --> 00:38:31.570\nonly if they're mobile.\n\n912\n00:38:31.570 --> 00:38:32.370\n>> Yeah, only if they're mobile.\n\n913\n00:38:32.370 --> 00:38:32.970\n>> Only if they're mobile.\n\n914\n00:38:32.970 --> 00:38:34.510\nSo your laptops and things like that.\n\n915\n00:38:34.510 --> 00:38:37.400\nAnd like you said,\nyou might not want that.\n\n916\n00:38:37.400 --> 00:38:41.250\nWe, in our company, have made a group,\nand we're going to use that group to have\n\n917\n00:38:41.250 --> 00:38:44.930\na little more control over who's allowed\nto make these direct access connections.\n\n918\n00:38:44.930 --> 00:38:48.050\nSo now we can swap out that default,\n\n919\n00:38:48.050 --> 00:38:53.180\nor that domain computers with\na custom group that we made.\n\n920\n00:38:53.180 --> 00:38:54.170\n>> Now, there's two to do this.\n\n921\n00:38:54.170 --> 00:38:56.650\nI could go ahead and add in the second\ngroup and delete the first one.\n\n922\n00:38:56.650 --> 00:38:57.980\nWhich one do you normally do?\n\n923\n00:38:57.980 --> 00:38:59.750\nYou delete it first and then.\n\n924\n00:38:59.750 --> 00:39:02.920\n>> You know, some wizards I've seen\nactually won't let you delete that.\n\n925\n00:39:02.920 --> 00:39:04.040\nI do try to remove it first.\n\n926\n00:39:04.040 --> 00:39:04.680\n>> Okay, let's remove it first.\n\n927\n00:39:04.680 --> 00:39:05.980\n>> Just so that I know that I do.\n\n928\n00:39:05.980 --> 00:39:06.570\n>> There you go.\n\n929\n00:39:06.570 --> 00:39:09.670\n>> I have seen a couple wizards, though,\nthat has to have something in there so\n\n930\n00:39:09.670 --> 00:39:12.950\nyou won't have to add something before\nyou can remove what's left but.\n\n931\n00:39:12.950 --> 00:39:16.967\n>> So then, I'm just going to do my\nDA_Clients if I spelled it right,\n\n932\n00:39:16.967 --> 00:39:18.030\nthat's the key.\n\n933\n00:39:19.890 --> 00:39:21.630\nAnd make sure that it underlines.\n\n934\n00:39:21.630 --> 00:39:22.220\nThat's another key.\n\n935\n00:39:23.580 --> 00:39:26.630\nAnd then, I'm going to uncheck\nthis second, this option here.\n\n936\n00:39:26.630 --> 00:39:28.470\nOkay?\nBecause I really want it for\n\n937\n00:39:28.470 --> 00:39:31.560\nany particular device,\nThen I want to connect them,\n\n938\n00:39:31.560 --> 00:39:32.990\nthat's going to be a part\nof the security grade.\n\n939\n00:39:32.990 --> 00:39:35.920\n>> Maybe I want my home users from\ntheir home computer, which is not\n\n940\n00:39:35.920 --> 00:39:38.980\na mobile computer, to be able to\nestablish that direct access connection.\n\n941\n00:39:38.980 --> 00:39:39.480\n>> Yeah.\n\n942\n00:39:40.490 --> 00:39:47.750\nAll right, now on this second option here,\nin it is asking us about,\n\n943\n00:39:47.750 --> 00:39:52.220\nonce again my thumb is not hitting\nthe right button here, okay.\n\n944\n00:39:52.220 --> 00:39:55.970\nThe network connectivity assistant runs on\ndirect access client computers to provide\n\n945\n00:39:55.970 --> 00:39:59.668\ndirect access connectivity information and\ndiagnostics and remediation support.\n\n946\n00:39:59.668 --> 00:40:00.580\nOkay.\nOkay.\n\n947\n00:40:00.580 --> 00:40:04.980\n>> [LAUGH]\n>> [LAUGH] Yeah, nice, all right.\n\n948\n00:40:04.980 --> 00:40:07.470\nAll right Mike,\nwhat are we talking about here?\n\n949\n00:40:07.470 --> 00:40:11.079\n>> Well really, if the client is\nhaving trouble making that connection,\n\n950\n00:40:11.079 --> 00:40:14.580\nthis gives us a way to kind of check\nlog files and see what's going on.\n\n951\n00:40:14.580 --> 00:40:17.251\nWe can provide an email address\nthere that it can pop up, and\n\n952\n00:40:17.251 --> 00:40:19.880\nthey can email the help the desk,\nor something like that.\n\n953\n00:40:19.880 --> 00:40:23.880\nSo just a support area and to provide\nassistance if they're having trouble.\n\n954\n00:40:23.880 --> 00:40:24.670\n>> Yeah.\n\n955\n00:40:24.670 --> 00:40:28.435\nNow, one of the things that we may want to\ntest out is verify that we are actually\n\n956\n00:40:28.435 --> 00:40:29.500\nconnected in.\n\n957\n00:40:29.500 --> 00:40:31.972\nSo I'm going to add in something\nin this second row here.\n\n958\n00:40:31.972 --> 00:40:34.470\nLet me go ahead and just type this in and\n\n959\n00:40:34.470 --> 00:40:36.510\nthen I'll tell you what\nI'm adding in here.\n\n960\n00:40:36.510 --> 00:40:39.500\nI'm simply adding in\nthe domain controller.\n\n961\n00:40:39.500 --> 00:40:41.960\nIf I could type and zoom in at the same\ntime, that would be one thing,\n\n962\n00:40:41.960 --> 00:40:44.660\nbut I do not have that magic ability.\n\n963\n00:40:44.660 --> 00:40:45.910\n>> No?\n>> Nope.\n\n964\n00:40:45.910 --> 00:40:46.650\nSo there it is.\n\n965\n00:40:46.650 --> 00:40:52.510\nConfiguring Corporate Resources for\nour NCA here at which,\n\n966\n00:40:52.510 --> 00:40:54.600\nfor some reason or another I can't\nremember what that stands for.\n\n967\n00:40:54.600 --> 00:40:57.440\nNetwork connectivity assistant or\nsomething like that.\n\n968\n00:40:57.440 --> 00:41:01.700\nSo now what I'm gonna do is I'm gonna say,\nI wanna ping the domain controller.\n\n969\n00:41:01.700 --> 00:41:06.110\nVerify that this is what we can do and\nwhat's going on, okay.\n\n970\n00:41:06.110 --> 00:41:07.080\nSo there we go.\n\n971\n00:41:07.080 --> 00:41:08.920\nAt that point I can validate.\n\n972\n00:41:11.810 --> 00:41:13.830\nAnd make sure I get a green check mark.\n\n973\n00:41:13.830 --> 00:41:14.788\n>> Right.\n>> Which says hey,\n\n974\n00:41:14.788 --> 00:41:16.410\nI was successfully able to connect here.\n\n975\n00:41:16.410 --> 00:41:17.930\nThat's a good thing from the edge there.\n\n976\n00:41:19.170 --> 00:41:20.790\nAnd then I can add that in.\n\n977\n00:41:20.790 --> 00:41:26.060\nAnd then it adds in one and\nyou can use HTTP or ping at this point.\n\n978\n00:41:26.060 --> 00:41:29.250\nNow we could also put in\nan email helpdesk here.\n\n979\n00:41:29.250 --> 00:41:29.760\nIf I do that,\n\n980\n00:41:29.760 --> 00:41:34.640\nit's going to be Mike@itpro.tv is what\nI'm gonna do here for everything.\n\n981\n00:41:34.640 --> 00:41:36.600\n>> [LAUGH] There goes my phone,\nit's vibrating off the hook.\n\n982\n00:41:36.600 --> 00:41:37.830\n>> That's right, it's already started-\n>> [LAUGH]\n\n983\n00:41:37.830 --> 00:41:39.060\n>> and we haven't even\n\n984\n00:41:39.060 --> 00:41:41.650\nconfigured everybody yet and\nit's already started ringing.\n\n985\n00:41:41.650 --> 00:41:43.400\nWith all the emails at this point.\n\n986\n00:41:43.400 --> 00:41:44.220\nAll right.\n\n987\n00:41:44.220 --> 00:41:44.830\nSo there we go.\n\n988\n00:41:44.830 --> 00:41:46.180\n>> You guys out there\nare welcome to email me.\n\n989\n00:41:46.180 --> 00:41:48.510\n>> That's right.\n>> [LAUGH]\n\n990\n00:41:48.510 --> 00:41:49.490\n>> He loves emails.\n\n991\n00:41:49.490 --> 00:41:50.560\nOkay.\n\n992\n00:41:50.560 --> 00:41:54.790\nSo now, in this particular set up wizard,\nit already knows that things have changed.\n\n993\n00:41:54.790 --> 00:41:58.040\nDown at the bottom, it's telling us,\nhey, don't get out of this.\n\n994\n00:41:58.040 --> 00:41:58.760\nSome things have changed.\n\n995\n00:41:58.760 --> 00:42:01.290\nYou may want to finish the setup and\neverything else here.\n\n996\n00:42:01.290 --> 00:42:03.780\nSo the good thing is,\nit tells you when you're not finished.\n\n997\n00:42:03.780 --> 00:42:05.160\n>> Right.\n>> But it tells you that you did make some\n\n998\n00:42:05.160 --> 00:42:06.140\nchange as well.\n\n999\n00:42:06.140 --> 00:42:07.412\nNow, we're not changing anything else, but\n\n1000\n00:42:07.412 --> 00:42:08.757\nwe do want to at least step\nthrough some of these.\n\n1001\n00:42:08.757 --> 00:42:10.800\n>> Yeah, we can at least take a peek and\nsee what it got.\n\n1002\n00:42:10.800 --> 00:42:13.350\n>> So here it is,\nthe remote access server at this point.\n\n1003\n00:42:13.350 --> 00:42:17.470\nSo in terms of the definition and\nwhat's been configured here.\n\n1004\n00:42:17.470 --> 00:42:18.640\nSo at this point,\n\n1005\n00:42:18.640 --> 00:42:22.830\nwe did actually configure this\nportion which was right here, and\n\n1006\n00:42:22.830 --> 00:42:26.700\nwe actually did walk through this step\nwhen we configured the public IP address.\n\n1007\n00:42:26.700 --> 00:42:30.550\n>> Maybe we had mistyped the IP address or\nmaybe that IP address has changed and\n\n1008\n00:42:30.550 --> 00:42:34.890\nwe wanna go back in and update that so\nthis is where we can fix that information.\n\n1009\n00:42:34.890 --> 00:42:38.980\n>> The other portion of it though\nis right here for us as well.\n\n1010\n00:42:38.980 --> 00:42:42.370\nWhich now to choose which\ninterface is facing where okay.\n\n1011\n00:42:42.370 --> 00:42:45.410\nAnd notice that for us here,\nadapter connect EXTERNAL and\n\n1012\n00:42:45.410 --> 00:42:48.270\nadapter connect INTERNAL,\nonce again, they've made it so easy.\n\n1013\n00:42:48.270 --> 00:42:52.710\nInstead of us trying to figure it out\nthrough NetSH or Powershell or whatever-\n\n1014\n00:42:52.710 --> 00:42:54.375\n>> [CROSSTALK] Of course,\n\n1015\n00:42:54.375 --> 00:43:00.168\nwe can look at the IP address and go okay,\nthat's our public IP address there.\n\n1016\n00:43:00.168 --> 00:43:02.572\n>> But notice the internal level, is IPv6.\n\n1017\n00:43:02.572 --> 00:43:03.535\n>> Is IPv6.\n\n1018\n00:43:03.535 --> 00:43:06.573\nAnd that line down below that\nis pretty important too.\n\n1019\n00:43:06.573 --> 00:43:10.469\nWhen we go through and talked about at the\nbeginning of the show how we're going to\n\n1020\n00:43:10.469 --> 00:43:12.418\nneed certificates to support all this,\n\n1021\n00:43:12.418 --> 00:43:15.730\nto verify the identity of\nour network location server.\n\n1022\n00:43:15.730 --> 00:43:20.960\nAnd it's gonna generate these\nself-signed certificates\n\n1023\n00:43:20.960 --> 00:43:23.850\nif it doesn't have a CA, or\neven if we do have a CA,\n\n1024\n00:43:23.850 --> 00:43:27.330\nthat wizard's going to generate the self\nsign and those might not be appropriate.\n\n1025\n00:43:27.330 --> 00:43:31.290\nMost likely, we want to use either\ncertificates that we've issued\n\n1026\n00:43:31.290 --> 00:43:33.810\nfrom our own certificate of authority, or\n\n1027\n00:43:33.810 --> 00:43:36.410\ncertificates could be\npurchased from a public CA.\n\n1028\n00:43:36.410 --> 00:43:40.190\nSo this is where we can go back in if\nwe had one of those certificates and\n\n1029\n00:43:40.190 --> 00:43:40.690\nswap it out.\n\n1030\n00:43:40.690 --> 00:43:42.750\nSo say okay look don't use\nthe self sign certificate.\n\n1031\n00:43:42.750 --> 00:43:45.010\nNone of my computers\nare going to trust that or\n\n1032\n00:43:45.010 --> 00:43:47.085\nit's going to be a lot more\nwork to make that trust happen.\n\n1033\n00:43:47.085 --> 00:43:48.735\n>> Yep.\n>> So we want to swap that out with\n\n1034\n00:43:48.735 --> 00:43:50.735\na certificate that was\nissued that was issued by\n\n1035\n00:43:50.735 --> 00:43:53.785\na trusted source like an internal CA or\na public CA.\n\n1036\n00:43:53.785 --> 00:43:57.675\n>> Yeah, but notice that by default\nthough, we didn't actually have to say,\n\n1037\n00:43:57.675 --> 00:43:59.710\nhey, issue a self signed certificate and\ndo all this.\n\n1038\n00:43:59.710 --> 00:44:00.820\nThe wizard went in and\n\n1039\n00:44:00.820 --> 00:44:04.920\nsaid look, you're not setting this\nup here with a CA at this point.\n\n1040\n00:44:04.920 --> 00:44:06.540\nLet me go and issue this.\n\n1041\n00:44:06.540 --> 00:44:08.700\nAgain, in a small environment\nlike we talked about,\n\n1042\n00:44:08.700 --> 00:44:10.850\nyou might not have anything like that.\n\n1043\n00:44:10.850 --> 00:44:12.230\nSo it says, let me just set it up.\n\n1044\n00:44:12.230 --> 00:44:13.820\nYou don't have to worry about it, Ronnie.\n\n1045\n00:44:13.820 --> 00:44:14.960\nI'll take care of it for you.\n\n1046\n00:44:14.960 --> 00:44:15.860\n>> Amazing thing, right?\n\n1047\n00:44:15.860 --> 00:44:17.770\nI mean, you could almost\nrun through the wizard and\n\n1048\n00:44:17.770 --> 00:44:20.760\nthen just be done if you really didn't\nwanna go back and check any of this.\n\n1049\n00:44:20.760 --> 00:44:22.950\n>> Yeah.\nAnd start making direct access directions.\n\n1050\n00:44:22.950 --> 00:44:23.610\nIt is pretty impressive.\n\n1051\n00:44:23.610 --> 00:44:25.420\n>> Yeah.\nNow if you did actually set it up,\n\n1052\n00:44:25.420 --> 00:44:28.080\nall you have to do is uncheck that box\nthat says don't use the self sign, or\n\n1053\n00:44:28.080 --> 00:44:29.255\nuse the self signed certificate.\n\n1054\n00:44:29.255 --> 00:44:29.970\n>> Mm-hm.\n>> Then go on and\n\n1055\n00:44:29.970 --> 00:44:32.220\nbrowse certificate that\nyou actually had to issue.\n\n1056\n00:44:32.220 --> 00:44:32.720\n>> Exactly.\n>> Yep.\n\n1057\n00:44:33.790 --> 00:44:36.700\nSo from that point I\ncan click Next here and\n\n1058\n00:44:36.700 --> 00:44:39.220\nnow we talk about the idea\nof authentication.\n\n1059\n00:44:39.220 --> 00:44:42.390\nOnce again,\nthe use of certificates is really,\n\n1060\n00:44:42.390 --> 00:44:46.100\nnotice on that second option there\nthat we have, it says that we can.\n\n1061\n00:44:46.100 --> 00:44:47.880\nSo we actually do have it all set up.\n\n1062\n00:44:47.880 --> 00:44:48.600\n>> Yep.\n>> Great.\n\n1063\n00:44:48.600 --> 00:44:50.835\nIn a big environment, small environment,\nyou may not have it set up.\n\n1064\n00:44:50.835 --> 00:44:51.430\n>> Mm-hm.\n>> But\n\n1065\n00:44:51.430 --> 00:44:53.760\nnotice that in the user\nauthentication side.\n\n1066\n00:44:53.760 --> 00:44:57.921\nActive directory credentials, so just like\ntyping in a username and password, and\n\n1067\n00:44:57.921 --> 00:44:59.925\nnotice the two factor authentication.\n\n1068\n00:44:59.925 --> 00:45:01.632\nOTP, what's that about.\n\n1069\n00:45:01.632 --> 00:45:02.698\n>> [CROSSTALK] That's\nsomething to do with 2012.\n\n1070\n00:45:02.698 --> 00:45:04.155\n2012 is the support for\n\n1071\n00:45:04.155 --> 00:45:08.220\nthose one time passwords just to increase\nthe security of our connections.\n\n1072\n00:45:08.220 --> 00:45:12.550\nWhere I need something that I can type\nin that's been generated on the fly and\n\n1073\n00:45:12.550 --> 00:45:16.480\nI can type that in just to help\nstrengthening the identification process.\n\n1074\n00:45:16.480 --> 00:45:19.580\n>> Yeah remember that for us,\npasswords are really, you hate to say it.\n\n1075\n00:45:19.580 --> 00:45:22.640\nMost of us don't make secure\npasswords very easily.\n\n1076\n00:45:22.640 --> 00:45:25.650\nAnd then if we do, they're locked behind\nsomething which we don't actually have on\n\n1077\n00:45:25.650 --> 00:45:27.030\na secure password anyways.\n\n1078\n00:45:27.030 --> 00:45:28.750\nSo-\n>> Yeah, they're taped to our monitors.\n\n1079\n00:45:28.750 --> 00:45:30.760\n>> Yeah, taped to our monitors,\nsomething like that.\n\n1080\n00:45:30.760 --> 00:45:31.840\nSo we have that.\n\n1081\n00:45:31.840 --> 00:45:36.080\nBut it does actually provide us the method\nand once again if we change, and we say,\n\n1082\n00:45:36.080 --> 00:45:38.160\nhey I wanted to use this method and\nI want to change it.\n\n1083\n00:45:38.160 --> 00:45:39.420\n>> Right.\n>> Go back in here and\n\n1084\n00:45:39.420 --> 00:45:40.290\nwe can do that as well.\n\n1085\n00:45:40.290 --> 00:45:44.355\nNotice they also provide down here at the\nbottom, Enforce corporate compliant for\n\n1086\n00:45:44.355 --> 00:45:46.655\nDirectAccess with that as well.\n\n1087\n00:45:46.655 --> 00:45:48.060\n>> Mm-hm.\nThey're using network access\n\n1088\n00:45:48.060 --> 00:45:48.840\nprotection in there.\n\n1089\n00:45:48.840 --> 00:45:49.340\n>> Yeah.\n\n1090\n00:45:49.340 --> 00:45:51.630\n>> Nice.\n>> So if you are, again,\n\n1091\n00:45:51.630 --> 00:45:54.550\nthat telecommuter from home connects in.\n\n1092\n00:45:54.550 --> 00:45:55.140\n>> Right.\n\n1093\n00:45:55.140 --> 00:45:58.630\n>> And what is his security\nsettings in his computer?\n\n1094\n00:45:58.630 --> 00:46:00.720\n>> Yeah, does he have anti-virus software?\n\n1095\n00:46:00.720 --> 00:46:01.970\nIs he running a Windows firewall?\n\n1096\n00:46:01.970 --> 00:46:02.490\n>> Is it updated?\n\n1097\n00:46:02.490 --> 00:46:04.760\n>> When was the last time\nhe got his Windows updated?\n\n1098\n00:46:04.760 --> 00:46:06.358\nMaybe a year ago?\n\n1099\n00:46:06.358 --> 00:46:09.685\n>> But being out lets you also add\nan additional infrastructure to provide\n\n1100\n00:46:09.685 --> 00:46:10.192\nfor that.\n\n1101\n00:46:10.192 --> 00:46:14.090\nIt really does help secure this\ntype of access incredibly.\n\n1102\n00:46:14.090 --> 00:46:15.210\n>> Absolutely.\n\n1103\n00:46:15.210 --> 00:46:17.820\nSomething that you gotta worry about when\nyou gotta provide access to all these\n\n1104\n00:46:17.820 --> 00:46:21.550\nunknown machines that are not\nunder your direct control.\n\n1105\n00:46:21.550 --> 00:46:22.500\n>> Yep.\n\n1106\n00:46:22.500 --> 00:46:27.900\nAnd then of course, we have this option\nhere which tells us, kinda like VPN,\n\n1107\n00:46:27.900 --> 00:46:28.935\nlook, it is for VPN.\n\n1108\n00:46:28.935 --> 00:46:29.951\n>> Mm-hm.\n>> VPN configuration.\n\n1109\n00:46:29.951 --> 00:46:30.531\n>> Nice.\n\n1110\n00:46:30.531 --> 00:46:33.450\n>> So, the IP address assignments,\nare we doing it from,\n\n1111\n00:46:33.450 --> 00:46:36.820\nautomatically do it from DHCP, or\ndo we want to select the pool?\n\n1112\n00:46:36.820 --> 00:46:38.130\n>> Yeah, provide a static pool.\n\n1113\n00:46:38.130 --> 00:46:39.570\n>> And then of course the authentication.\n\n1114\n00:46:39.570 --> 00:46:41.270\nWell, I'm not actually gonna\ngo through that wizard,\n\n1115\n00:46:41.270 --> 00:46:42.750\nI'm gonna click Cancel at this point.\n\n1116\n00:46:42.750 --> 00:46:45.880\n>> Yeah, since we're not using VPN in this\nparticular environment we really don't\n\n1117\n00:46:45.880 --> 00:46:46.680\nneed to worry about.\n\n1118\n00:46:46.680 --> 00:46:47.420\n>> Yep.\n\n1119\n00:46:47.420 --> 00:46:50.040\nNow, so that sets up the actual\nremote access server.\n\n1120\n00:46:50.040 --> 00:46:54.040\nNotice again, we have other infrastructure\nthat we may want to consider as well.\n\n1121\n00:46:55.070 --> 00:46:57.890\nSo here on the infrastructure\nserver setup.\n\n1122\n00:46:57.890 --> 00:46:58.852\n>> That was step number\nthree you clicked on?\n\n1123\n00:46:58.852 --> 00:47:00.380\n>> Yep, it was step number three.\n\n1124\n00:47:03.000 --> 00:47:05.960\nAnd this one,\nit says network location server.\n\n1125\n00:47:05.960 --> 00:47:09.090\nNotice that this one actually\ndid get issued a certificate\n\n1126\n00:47:09.090 --> 00:47:10.870\nfrom the actual certificate\nauthority here.\n\n1127\n00:47:10.870 --> 00:47:11.420\nOkay.\nSo\n\n1128\n00:47:11.420 --> 00:47:13.780\neven though it could use a self sign one,\nit went ahead and\n\n1129\n00:47:13.780 --> 00:47:15.770\ngot one from the actual\ncertificate authority.\n\n1130\n00:47:15.770 --> 00:47:16.360\n>> Nice.\n\n1131\n00:47:16.360 --> 00:47:16.960\n>> Yeah.\n\n1132\n00:47:16.960 --> 00:47:21.351\nSo this one sits there at the edge for\nus again, helping us to identify which\n\n1133\n00:47:21.351 --> 00:47:25.201\nside is actually inside,\nwhich side is not inside, here for us.\n\n1134\n00:47:25.201 --> 00:47:28.950\nAnd so here is a good place\n>> And\n\n1135\n00:47:28.950 --> 00:47:31.470\nthe note down in the bottom\nthere is pretty important.\n\n1136\n00:47:31.470 --> 00:47:34.930\nWe've got the network location server\nhas to be highly available for\n\n1137\n00:47:34.930 --> 00:47:39.145\nmy internal clients but\nnot accessible to anybody on the outside.\n\n1138\n00:47:39.145 --> 00:47:39.737\n>> [LAUGH]\n>> right?\n\n1139\n00:47:39.737 --> 00:47:42.010\nCuz remember we talked about it\nat the beginning of the show.\n\n1140\n00:47:42.010 --> 00:47:45.820\nIf that network location server is how\nthey determine whether they're inside or\n\n1141\n00:47:45.820 --> 00:47:48.830\noutside, if I can connect to\nthat server when I'm outside I'm\n\n1142\n00:47:49.830 --> 00:47:51.030\ngonna think I'm inside.\n\n1143\n00:47:51.030 --> 00:47:54.460\nAnd it's not gonna set up\nthat direct access tunnel.\n\n1144\n00:47:54.460 --> 00:47:57.400\nSo you gotta make sure that it's\naccessible from the inside but\n\n1145\n00:47:57.400 --> 00:47:58.520\nnot accessible from the outside.\n\n1146\n00:47:58.520 --> 00:47:59.020\n>> Yeah.\n\n1147\n00:48:00.930 --> 00:48:05.760\nAnd this is as much setup as this\nparticular slide goes through for DNS but\n\n1148\n00:48:05.760 --> 00:48:08.890\nbut there may be a little bit more\nthat Mike can help us out here on.\n\n1149\n00:48:08.890 --> 00:48:11.519\n>> Yeah we gotta make sure that\nthey can again resolve the name of\n\n1150\n00:48:11.519 --> 00:48:13.800\nthat network location server\nback to an IP address.\n\n1151\n00:48:13.800 --> 00:48:16.085\nSo we've got to create\nthat A record in there for\n\n1152\n00:48:16.085 --> 00:48:18.500\nthis DA server to make sure\nthey can connect to it.\n\n1153\n00:48:18.500 --> 00:48:19.300\n>> Yep.\n\n1154\n00:48:19.300 --> 00:48:22.750\nAnd notice that it already is also\nset to the recommended method here.\n\n1155\n00:48:22.750 --> 00:48:27.690\nLocal name resolution,\nif the name doesn't actually exist in DNS.\n\n1156\n00:48:27.690 --> 00:48:30.900\nOr the DNS servers are unreachable, when\ntheir actually on the private network.\n\n1157\n00:48:30.900 --> 00:48:33.580\nSo, that's the one they recommend and\nwe are just going to leave it here.\n\n1158\n00:48:33.580 --> 00:48:36.780\nNotice that I already put in\nthe name of the actual server\n\n1159\n00:48:36.780 --> 00:48:38.480\nthat they were looking for as well.\n\n1160\n00:48:38.480 --> 00:48:41.580\nAnd of course,\nthe DNS server address as well.\n\n1161\n00:48:41.580 --> 00:48:42.080\n>> Nice.\n\n1162\n00:48:43.310 --> 00:48:45.840\n>> And then they set this up here for us.\n\n1163\n00:48:45.840 --> 00:48:49.340\nAnd this was not something that I\nactually, that you and I typed in here.\n\n1164\n00:48:49.340 --> 00:48:52.850\nBut notice that they went ahead and put in\nthe suffix to the actual domain at this\n\n1165\n00:48:52.850 --> 00:48:55.100\npoint to go ahead and append the name.\n\n1166\n00:48:55.100 --> 00:48:57.680\n>> Yeah cuz you've got clients that\nare outside that might not have,\n\n1167\n00:48:57.680 --> 00:49:01.030\nwhen they're looking for resources,\nand we could get into DNS and\n\n1168\n00:49:01.030 --> 00:49:02.447\ntalk about that for hours,\n>> [LAUGH]\n\n1169\n00:49:02.447 --> 00:49:04.135\n>> But, it's gonna tack on that suffix\n\n1170\n00:49:04.135 --> 00:49:06.484\nto any unqualified names\nthough that they type in.\n\n1171\n00:49:06.484 --> 00:49:08.599\n>> Right.\n>> So when they try to connect to filer1,\n\n1172\n00:49:08.599 --> 00:49:10.710\nit'll add that filer1.contusive.com.\n\n1173\n00:49:10.710 --> 00:49:13.020\n>> Yeah.\nMakes it easier for us.\n\n1174\n00:49:13.020 --> 00:49:14.340\nAnd that way,\nthey don't have to go out and\n\n1175\n00:49:14.340 --> 00:49:16.355\nsearch for every single-\n>> Yeah.\n\n1176\n00:49:16.355 --> 00:49:17.426\n[LAUGH]\n>> Unless suffix is out\n\n1177\n00:49:17.426 --> 00:49:18.050\nthere on the planet.\n\n1178\n00:49:18.050 --> 00:49:19.225\n>> Yep.\n>> There we go.\n\n1179\n00:49:21.141 --> 00:49:24.130\nAnd then last one is actually saying,\nwhere do the management service?\n\n1180\n00:49:24.130 --> 00:49:26.230\nOnce again,\nwe don't have a separate one, so\n\n1181\n00:49:26.230 --> 00:49:27.990\nwe're not going to worry about this here,\nokay?\n\n1182\n00:49:27.990 --> 00:49:31.670\nSo I'm gonna just go ahead and\ncancel that wizard.\n\n1183\n00:49:31.670 --> 00:49:37.683\nAnd the last one here is our\napplication server2, okay?\n\n1184\n00:49:40.516 --> 00:49:44.170\nNow I didn't actually set\nany of this up except for\n\n1185\n00:49:44.170 --> 00:49:47.540\nthe domain control in\nterms of accessing it.\n\n1186\n00:49:47.540 --> 00:49:49.930\nSo notice here it actually is about that.\n\n1187\n00:49:49.930 --> 00:49:52.600\nIf you have specific servers\nthat you want to be accessed,\n\n1188\n00:49:52.600 --> 00:49:55.550\nthis is where you go ahead and\nset those up for DirectAccess.\n\n1189\n00:49:55.550 --> 00:49:58.540\n>> Yeah, and really,\nif I want to encrypt that connect, right.\n\n1190\n00:49:58.540 --> 00:49:59.970\nCuz once they're connected\nto that network,\n\n1191\n00:49:59.970 --> 00:50:03.600\nthey should be able to connect anything\nthat they have permission to connect to.\n\n1192\n00:50:03.600 --> 00:50:06.070\nBut I might have some servers that\nhave sensitive information on them.\n\n1193\n00:50:06.070 --> 00:50:09.960\nAnd I want to force them to use\nIPsec to secure that connection\n\n1194\n00:50:09.960 --> 00:50:10.966\nanytime they connect to them.\n\n1195\n00:50:10.966 --> 00:50:12.070\n>> Yep, looks good.\n\n1196\n00:50:12.070 --> 00:50:13.250\n>> I love it.\n\n1197\n00:50:13.250 --> 00:50:17.390\nAll right, so I'm not gonna worry about\ngoing through the rest of that cuz\n\n1198\n00:50:17.390 --> 00:50:18.540\nit's asking me just to finish it up.\n\n1199\n00:50:20.480 --> 00:50:22.490\nAt this point,\nall I have to do is click on Finish.\n\n1200\n00:50:23.620 --> 00:50:27.297\nAnd once again, just to make sure\nthat we don't do anything wrong,\n\n1201\n00:50:27.297 --> 00:50:30.495\n[LAUGH] the nice thing is it\ngives us this review panel here.\n\n1202\n00:50:30.495 --> 00:50:32.842\n>> [CROSSTALK] It tells you everything\nyou did and you can go back and\n\n1203\n00:50:32.842 --> 00:50:34.975\nreview all that, or\neven the changes that you've made.\n\n1204\n00:50:34.975 --> 00:50:36.010\n>> Right.\n\n1205\n00:50:36.010 --> 00:50:36.600\n>> Yep.\n\n1206\n00:50:36.600 --> 00:50:40.900\n>> And so, it gives you that ability\nto do all that for us right here.\n\n1207\n00:50:40.900 --> 00:50:44.860\nSo that, once again before you click\nnext and finish up the setting, and\n\n1208\n00:50:44.860 --> 00:50:46.530\nthen go back through,\n>> Read.\n\n1209\n00:50:46.530 --> 00:50:47.408\n>> Read.\n>> Read.\n\n1210\n00:50:47.408 --> 00:50:48.850\n[LAUGH]\n>> [LAUGH] Yeah.\n\n1211\n00:50:48.850 --> 00:50:50.543\nIt's pretty much RTFM though.\n\n1212\n00:50:50.543 --> 00:50:51.140\n>> Yeah [LAUGH].\n\n1213\n00:50:51.140 --> 00:50:53.170\n>> Make sure you're reviewing that stuff.\n\n1214\n00:50:53.170 --> 00:50:56.030\nYou don't want to just assume,\ncuz we all know what assuming does, right?\n\n1215\n00:50:56.030 --> 00:50:57.230\n>> Yeah.\nThat's right.\n\n1216\n00:50:57.230 --> 00:50:59.460\nAnd it also gives the ability\nto save as a file,\n\n1217\n00:50:59.460 --> 00:51:02.320\njust in case you want to click finish and\nthen read it.\n\n1218\n00:51:02.320 --> 00:51:02.990\n[LAUGH]\n>> Yeah, or\n\n1219\n00:51:02.990 --> 00:51:04.464\nyou gotta show it to the boss,\nwhat you did.\n\n1220\n00:51:04.464 --> 00:51:05.000\n>> That's right.\n\n1221\n00:51:05.000 --> 00:51:07.010\n>> Or you got to document those\nchanges in your change log.\n\n1222\n00:51:07.010 --> 00:51:08.782\n>> There you go.\n>> And things like that, so for\n\n1223\n00:51:08.782 --> 00:51:10.170\nyour other administrators.\n\n1224\n00:51:11.170 --> 00:51:12.490\n>> I just threw caution to the wind.\n\n1225\n00:51:12.490 --> 00:51:13.630\n>> Yeah, we don't need it.\n\n1226\n00:51:13.630 --> 00:51:14.190\nJust do it.\n\n1227\n00:51:14.190 --> 00:51:15.340\nWe trust you, Microsoft.\n\n1228\n00:51:15.340 --> 00:51:16.490\n>> Yeah, just blew it away.\n\n1229\n00:51:16.490 --> 00:51:17.158\nThat's right.\n\n1230\n00:51:17.158 --> 00:51:18.840\n[LAUGH]\n>> [LAUGH]\n\n1231\n00:51:18.840 --> 00:51:20.230\n>> All right, so at this point,\n\n1232\n00:51:20.230 --> 00:51:23.627\nwhat we're showing here, again,\nis everything has been successfully\n\n1233\n00:51:23.627 --> 00:51:26.230\nconfigured the way that we\nwanted it configured here.\n\n1234\n00:51:26.230 --> 00:51:30.320\nSo notice it went ahead and\nit's opening up the client GPOs.\n\n1235\n00:51:30.320 --> 00:51:32.710\nSo this is where it actually has\ncreated those direct access GPOs.\n\n1236\n00:51:32.710 --> 00:51:34.600\n>> Right.\n>> And usually there's at least two.\n\n1237\n00:51:34.600 --> 00:51:35.210\nThere's two, right?\n\n1238\n00:51:35.210 --> 00:51:36.900\nThere's the servers and\nthen there's clients.\n\n1239\n00:51:36.900 --> 00:51:38.690\n>> One to configure the servers,\none to configure clients.\n\n1240\n00:51:38.690 --> 00:51:40.070\n>> Yeah.\n>> And now that it knows what computers we\n\n1241\n00:51:40.070 --> 00:51:42.850\nwant to allow,\nit can scope those policies appropriately,\n\n1242\n00:51:42.850 --> 00:51:44.160\ndo a little security filtering.\n\n1243\n00:51:44.160 --> 00:51:47.280\nAnd so that policy only\napplies to that DA client.\n\n1244\n00:51:47.280 --> 00:51:49.020\n>> Yeah, and\nnot to everybody under the sun.\n\n1245\n00:51:49.020 --> 00:51:49.690\n>> That's right.\n\n1246\n00:51:49.690 --> 00:51:51.400\n>> That's right, yeah.\n\n1247\n00:51:51.400 --> 00:51:55.080\nAll right, so now we've got this set up.\n\n1248\n00:51:55.080 --> 00:51:57.990\nFor us though,\nwe've still got a little bit to go.\n\n1249\n00:51:57.990 --> 00:52:02.820\nWe're right up on the break here, but\nthe next step for us of course Is now,\n\n1250\n00:52:02.820 --> 00:52:06.299\nwe gotta get that offline domain\njoined actually into working here.\n\n1251\n00:52:06.299 --> 00:52:08.010\n>> Yeah\n>> So we're gonna test this out, right?\n\n1252\n00:52:08.010 --> 00:52:10.500\n>> Yeah, so that we can test it out and\nmake sure that it works.\n\n1253\n00:52:10.500 --> 00:52:13.500\nSo that's what we're gonna do in our\nnext segment here is go ahead and\n\n1254\n00:52:13.500 --> 00:52:14.780\nfinish up the configuration.\n\n1255\n00:52:14.780 --> 00:52:16.230\nAnd then we'll wrap it\nup with a summary and\n\n1256\n00:52:16.230 --> 00:52:18.016\nsee if there's anything\nelse we need to talk about.\n\n1257\n00:52:18.016 --> 00:52:20.126\nSo we're going to take\na break right now and\n\n1258\n00:52:20.126 --> 00:52:22.308\nthen we'll be right\nback to finish this up.\n\n1259\n00:52:22.308 --> 00:52:30.391\n[MUSIC]\n\n1260\n00:52:30.391 --> 00:52:32.863\nAll right, welcome back again for\n\n1261\n00:52:32.863 --> 00:52:37.820\nour continuing segment as we go\nthrough our lab on direct access.\n\n1262\n00:52:37.820 --> 00:52:41.850\nWe have just finished configuring and\ntalking about the setup of direct access.\n\n1263\n00:52:41.850 --> 00:52:42.520\nNow don't get me wrong,\n\n1264\n00:52:42.520 --> 00:52:45.140\nif you were to do this real quick,\nit'd probably take you about 45 seconds.\n\n1265\n00:52:45.140 --> 00:52:47.640\nBut we wanted to make sure that you\nactually understood the steps that you go\n\n1266\n00:52:47.640 --> 00:52:50.320\nthrough, and\nactually take a look at those settings.\n\n1267\n00:52:50.320 --> 00:52:53.660\nAgain you may be asked to do something\nfairly similar on the exam, so\n\n1268\n00:52:53.660 --> 00:52:55.860\nmake sure you go through those steps.\n\n1269\n00:52:55.860 --> 00:53:00.181\nWell, now that we've done in terms of\nconfiguring the directaccess server,\n\n1270\n00:53:00.181 --> 00:53:03.390\nWe now need to configure\nthat offline domain join.\n\n1271\n00:53:03.390 --> 00:53:04.380\nNow the funny thing is,\n\n1272\n00:53:04.380 --> 00:53:07.460\nit doesn't actually begin with the client,\nwe have to back and\n\n1273\n00:53:07.460 --> 00:53:12.320\nactually configuring it using that direct\naccess group that we just created here.\n\n1274\n00:53:12.320 --> 00:53:15.200\nWe need to go back to\nthe domain controller to finish\n\n1275\n00:53:15.200 --> 00:53:17.230\nup our configuration\nat this point as well.\n\n1276\n00:53:17.230 --> 00:53:21.770\nLet me go ahead and click out of that and\nthat should finish that up for us.\n\n1277\n00:53:21.770 --> 00:53:26.220\nTwo, and I'm gonna switch back over\nto the domain controller here.\n\n1278\n00:53:26.220 --> 00:53:31.748\nAnd it is from here I need\nto get access to that for\n\n1279\n00:53:31.748 --> 00:53:37.540\nthe DirectAccess group is what I need,\nor the DirectAccess clients here.\n\n1280\n00:53:37.540 --> 00:53:41.783\nSo, let me see,\nI need to bring up the group policy\n\n1281\n00:53:41.783 --> 00:53:45.433\nmanagement console, is what I need to do.\n\n1282\n00:53:46.975 --> 00:53:48.835\nBecause that's the only\nplace I know to get this.\n\n1283\n00:53:48.835 --> 00:53:54.330\n[LAUGH] So\nI just type in GPMC then the MSC for\n\n1284\n00:53:54.330 --> 00:53:58.370\nthe Microsoft console.\n\n1285\n00:53:58.370 --> 00:53:59.880\nAnd inside of the Group Policy Manager,\n\n1286\n00:53:59.880 --> 00:54:03.330\nI'll expand this out when I\nget to where I'm looking for.\n\n1287\n00:54:03.330 --> 00:54:08.610\nWhich is gonna be under\nthe DirectAccess Client settings here,\n\n1288\n00:54:08.610 --> 00:54:12.860\nand on the Details tab here,\nis what I'm looking for, right here.\n\n1289\n00:54:14.440 --> 00:54:17.670\nDid I,\nI did not turn on my Zoom tool did I?\n\n1290\n00:54:17.670 --> 00:54:18.700\n>> We can read that.\n\n1291\n00:54:18.700 --> 00:54:19.345\n>> Can you?\n>> Yes, yes.\n\n1292\n00:54:19.345 --> 00:54:20.585\n[LAUGH]\n>> I was gonna say, wow, you're good.\n\n1293\n00:54:20.585 --> 00:54:21.630\n>> [LAUGH]\n>> All right,\n\n1294\n00:54:21.630 --> 00:54:27.520\nlet me,\nlistening to the wisdom in the room.\n\n1295\n00:54:27.520 --> 00:54:29.580\nSo I need to try and\ndo something here to try and\n\n1296\n00:54:29.580 --> 00:54:32.160\nmake that happen a little bit easier for\nus here.\n\n1297\n00:54:32.160 --> 00:54:33.055\nThere we go, look at that.\n\n1298\n00:54:33.055 --> 00:54:34.558\n>> [CROSSTALK] That mouse\nwill line up a little better.\n\n1299\n00:54:34.558 --> 00:54:38.340\n>> Now let's see, okay, so that unique\nID is the one that we're looking for.\n\n1300\n00:54:38.340 --> 00:54:40.360\nNow Mike, go ahead and\nmemorize this real quick.\n\n1301\n00:54:40.360 --> 00:54:42.110\nGood because I'm going to need\nyou to call that out back to me.\n\n1302\n00:54:42.110 --> 00:54:44.180\n>> Charlie, niner, Charlie,\nlawyer, foxtrot, niner, four,\n\n1303\n00:54:44.180 --> 00:54:46.700\neight, six, alpha, delta, four.\n\n1304\n00:54:46.700 --> 00:54:47.390\n>> Yeah, there we go.\n\n1305\n00:54:47.390 --> 00:54:49.280\nNow what we're going to do is just copy.\n\n1306\n00:54:49.280 --> 00:54:50.670\nWe're just going to copy it.\n\n1307\n00:54:50.670 --> 00:54:52.222\n>> Why don't we just copy that bad boy?\n\n1308\n00:54:52.222 --> 00:54:54.814\n[LAUGH]\n>> And this is what we need.\n\n1309\n00:54:54.814 --> 00:55:01.730\nNow, there is a way for us to actually do\nthis without having to actually do this.\n\n1310\n00:55:01.730 --> 00:55:04.730\nIf you can actually navigate to\nthe folder where we need to.\n\n1311\n00:55:04.730 --> 00:55:07.060\nIn other words, where the registry\nactually is, and all that,\n\n1312\n00:55:07.060 --> 00:55:10.280\nthen you can actually just simply make\nthat file that you need to, right at.\n\n1313\n00:55:10.280 --> 00:55:13.110\nBut now, we're gonna use\nthe de-join to help us out here.\n\n1314\n00:55:14.260 --> 00:55:16.060\nSo, I'm gonna copy that.\n\n1315\n00:55:17.290 --> 00:55:22.340\nAnd then,\nI'm gonna open up Power Shell, and\n\n1316\n00:55:22.340 --> 00:55:25.430\nhopefully, I can increase\nthe font size here.\n\n1317\n00:55:25.430 --> 00:55:26.810\n>> Yeah right.\n>> Just a tad bit.\n\n1318\n00:55:26.810 --> 00:55:27.960\n>> A little bit.\n\n1319\n00:55:27.960 --> 00:55:28.810\n>> So that we can see it.\n\n1320\n00:55:31.280 --> 00:55:33.200\nThat should make it nice.\n\n1321\n00:55:33.200 --> 00:55:34.020\nThere we go.\n\n1322\n00:55:34.020 --> 00:55:35.430\nCan we see that?\n>> I think so.\n\n1323\n00:55:35.430 --> 00:55:36.050\n>> Doing good?\n\n1324\n00:55:36.050 --> 00:55:37.080\n>> Yep.\n>> All right.\n\n1325\n00:55:37.080 --> 00:55:37.940\nAll right.\n\n1326\n00:55:37.940 --> 00:55:41.020\nNow from here, this is where we have\nto run that D join, which is for\n\n1327\n00:55:41.020 --> 00:55:42.790\nthe offline domain join.\n\n1328\n00:55:42.790 --> 00:55:45.380\nWhat we're really creating\nis what we call a BLOB?\n\n1329\n00:55:45.380 --> 00:55:47.040\n>> Yeah, Binary Large Object-\n>> Yeah.\n\n1330\n00:55:47.040 --> 00:55:49.380\n>> Is the output of this thing, so-\n>> Yeah.\n\n1331\n00:55:49.380 --> 00:55:51.520\nAnd that includes a lot\nof other information.\n\n1332\n00:55:51.520 --> 00:55:54.510\nNow, when we do create this, we wanna\nmake sure that we understanding this.\n\n1333\n00:55:54.510 --> 00:55:57.615\nYou don't wanna actually just send\nthis off It's off, through an email or\n\n1334\n00:55:57.615 --> 00:55:58.975\nanything directly.\n\n1335\n00:55:58.975 --> 00:56:02.715\nBecause it contains a lot of\nidentifiers which they say should be,\n\n1336\n00:56:02.715 --> 00:56:06.105\nat least Microsoft does,\nshould be treated like an actual password.\n\n1337\n00:56:06.105 --> 00:56:09.495\nSo you want to make sure that you\nsecurely send this off, okay?\n\n1338\n00:56:09.495 --> 00:56:10.835\n>> Absolutely.\n\n1339\n00:56:10.835 --> 00:56:17.875\n>> So it begins with the D join and\nthen provision.\n\n1340\n00:56:17.875 --> 00:56:19.535\nBecause that's what we're doing,\n\n1341\n00:56:19.535 --> 00:56:22.828\nis we're creating some type of provision\nto allow for the offline join.\n\n1342\n00:56:22.828 --> 00:56:25.020\n>> We're basically pre-staging\nan account in active directory for\n\n1343\n00:56:25.020 --> 00:56:29.078\nthis computer that's not connected to\nthe network, and we needed that GUI.\n\n1344\n00:56:29.078 --> 00:56:32.453\nNow if we were just doing, because you\ncan use D-joint outside a direct ad,\n\n1345\n00:56:32.453 --> 00:56:34.298\nit just doesn't have to be used here, and\n\n1346\n00:56:34.298 --> 00:56:38.160\nwe wouldn't have needed that GUID that\nwe had gone and captured earlier.\n\n1347\n00:56:38.160 --> 00:56:41.430\nWhat we're trying to do is\njoin a computer to the domain.\n\n1348\n00:56:41.430 --> 00:56:42.720\nIt's outside of my network.\n\n1349\n00:56:42.720 --> 00:56:48.670\nIt's not connected, and we want to make\nsure that it can connect to the network,\n\n1350\n00:56:48.670 --> 00:56:53.970\nso that GUID for that GPO, that was\nthe policy that configures the client\n\n1351\n00:56:53.970 --> 00:56:56.150\nto connect to the direct access server.\n\n1352\n00:56:56.150 --> 00:56:59.330\nSo if I send him that file and\nhe tried to run it, but\n\n1353\n00:56:59.330 --> 00:57:02.760\nhis client wasn't configured to\nestablish the direct access connection,\n\n1354\n00:57:02.760 --> 00:57:05.120\nthen it wouldn't be able to finish\nthe process and join the demand.\n\n1355\n00:57:05.120 --> 00:57:05.880\n>> Yep.\n\n1356\n00:57:05.880 --> 00:57:08.050\nSo, so\nfar we've got this portion down right,\n\n1357\n00:57:08.050 --> 00:57:10.020\nwhere we're using\nthe command that we need to,\n\n1358\n00:57:10.020 --> 00:57:13.651\nwe're creating what, well essentially\nthat blob is what we're telling it.\n\n1359\n00:57:13.651 --> 00:57:15.244\n>> Right.\n>> Telling it domain to actually\n\n1360\n00:57:15.244 --> 00:57:15.795\njoin here.\n\n1361\n00:57:15.795 --> 00:57:19.511\nWe're also giving it the name that's\ngonna actually be used to join the actual\n\n1362\n00:57:19.511 --> 00:57:20.610\ndomain as well.\n\n1363\n00:57:20.610 --> 00:57:24.480\nAnd then we're saving it as\na file called client.txt, okay?\n\n1364\n00:57:24.480 --> 00:57:25.520\n>> All right.\n\n1365\n00:57:25.520 --> 00:57:26.700\n>> Is what we're saving it at.\n\n1366\n00:57:26.700 --> 00:57:30.050\nNow at this particular point here,\nwe now need to give it a name.\n\n1367\n00:57:30.050 --> 00:57:31.710\n>> Right.\n>> Okay, is what we need to do.\n\n1368\n00:57:31.710 --> 00:57:38.270\nSo this is where it goes to,\npolicy names is where it goes to.\n\n1369\n00:57:39.350 --> 00:57:44.870\nAnd then I do the quotation marks here,\nand\n\n1370\n00:57:44.870 --> 00:57:54.170\nI call it direct access\nclient settings here, okay?\n\n1371\n00:57:54.170 --> 00:57:56.120\nAnd this is what we\nactually end up calling it,\n\n1372\n00:57:56.120 --> 00:57:58.185\ntaking it out of the policy the same way.\n\n1373\n00:57:58.185 --> 00:57:59.050\n>> Mm-hm.\n\n1374\n00:57:59.050 --> 00:58:00.965\n>> And\nthis is where it gets more confusing.\n\n1375\n00:58:00.965 --> 00:58:01.500\n[LAUGH]\n>> Right.\n\n1376\n00:58:01.500 --> 00:58:04.230\n>> Because we're actually now having\nto tell it where in the world\n\n1377\n00:58:04.230 --> 00:58:08.010\nare we retrieving these settings from,\nor to put these settings in, okay?\n\n1378\n00:58:08.010 --> 00:58:09.040\n>> Mm-hm.\n>> So,\n\n1379\n00:58:09.040 --> 00:58:11.030\nI need to actually tell\nit where to do this.\n\n1380\n00:58:11.030 --> 00:58:14.090\nPolicy, paths.\n\n1381\n00:58:14.090 --> 00:58:14.908\nI can't spell paths.\n\n1382\n00:58:14.908 --> 00:58:21.278\n[LAUGH] Paths here, and this is\nthe longest drawn out thing in the world.\n\n1383\n00:58:21.278 --> 00:58:28.651\n[LAUGH]\nC:Windows\\sysvol.\n\n1384\n00:58:28.651 --> 00:58:31.062\n>> Oops, see again, my spelling.\n\n1385\n00:58:31.062 --> 00:58:33.010\n>> Gonn a have to teach you\nabout that tab autofill.\n\n1386\n00:58:33.010 --> 00:58:33.750\nIt's a wonderful thing.\n\n1387\n00:58:33.750 --> 00:58:35.790\n>> Backslash sysvol.\n\n1388\n00:58:35.790 --> 00:58:36.358\n>> Sysvol again.\n\n1389\n00:58:36.358 --> 00:58:38.402\nBackslash contoso.com.\n\n1390\n00:58:38.402 --> 00:58:39.770\n>> Contoso.com, yep.\n\n1391\n00:58:39.770 --> 00:58:42.930\n>> Backslash, I don't know, policies?\n\n1392\n00:58:42.930 --> 00:58:43.730\n>> Policies.\n\n1393\n00:58:45.590 --> 00:58:49.750\n>> Okay now,\nif you can remember that unique ID.\n\n1394\n00:58:49.750 --> 00:58:52.155\n>> Then it's right click, paste.\n\n1395\n00:58:52.155 --> 00:58:55.810\n[LAUGH]\n>> If I spelled policies correctly.\n\n1396\n00:58:55.810 --> 00:58:58.751\nNow remember, you have to spell\neverything correctly here to make sure\n\n1397\n00:58:58.751 --> 00:59:01.150\nthat everything actually\nworks at this point.\n\n1398\n00:59:01.150 --> 00:59:04.080\nIf you misspell it, it's not gonna work,\nand it's gonna tell you right away.\n\n1399\n00:59:04.080 --> 00:59:07.309\n>> Now most of you guys have already\nsat through the active directory class.\n\n1400\n00:59:07.309 --> 00:59:10.437\nWe know that the SYSVOL is where remember,\na GPO is stored in two parts,\n\n1401\n00:59:10.437 --> 00:59:13.825\nyou got the name and the version number,\nand the Active Directory database,\n\n1402\n00:59:13.825 --> 00:59:17.004\nbut all of the settings, the templates\nare stored in the SYSVOL folder,\n\n1403\n00:59:17.004 --> 00:59:19.435\nwhich is replicated to\nthe other domain controllers.\n\n1404\n00:59:19.435 --> 00:59:22.765\nAnd if you ever go look inside the SYSVOL\nfolder, the group policies that are in\n\n1405\n00:59:22.765 --> 00:59:25.748\nthere are not identified by name,\nthey're identified by that GUID.\n\n1406\n00:59:25.748 --> 00:59:26.900\n>> Yep.\n>> So that's what we're doing is,\n\n1407\n00:59:26.900 --> 00:59:29.995\nwe're giving it a path to\nwhere to find those settings.\n\n1408\n00:59:29.995 --> 00:59:30.620\n>> Yep.\n\n1409\n00:59:30.620 --> 00:59:32.760\n>> As well as the name of the policy too.\n\n1410\n00:59:32.760 --> 00:59:33.360\n>> Yeah.\n\n1411\n00:59:33.360 --> 00:59:36.980\nSo once we have that said,\nthis is what's going to create that blob,\n\n1412\n00:59:36.980 --> 00:59:40.120\nfor lack of a better term\nthat we actually have here.\n\n1413\n00:59:40.120 --> 00:59:43.360\nNow if I've typed in everything correctly,\nif I have [LAUGH] it should give us\n\n1414\n00:59:43.360 --> 00:59:45.410\n>> Get in your red text?\n\n1415\n00:59:45.410 --> 00:59:46.629\n>> Yep.\n\n1416\n00:59:46.629 --> 00:59:47.200\nNo.\n\n1417\n00:59:47.200 --> 00:59:47.930\nIt does, yeah.\n\n1418\n00:59:47.930 --> 00:59:52.140\nIt says I did not actually\ncorrectly type in something here.\n\n1419\n00:59:52.140 --> 00:59:57.820\nSo this is where all the sudden\n>> WIndows sysfal,\n\n1420\n00:59:57.820 --> 01:00:00.860\nsysfal\n>> I misspelled policies.\n\n1421\n01:00:00.860 --> 01:00:01.360\n>> Yep.\n\n1422\n01:00:02.370 --> 01:00:02.930\n>> Didn't I?\n\n1423\n01:00:02.930 --> 01:00:03.430\n>> Mm-hm.\n\n1424\n01:00:04.440 --> 01:00:10.990\n>> Did I?\n>> Yeah, that's right.\n\n1425\n01:00:12.032 --> 01:00:12.728\n>> Maybe the space?\n\n1426\n01:00:18.053 --> 01:00:20.248\nI don't know, it looks good.\n\n1427\n01:00:20.248 --> 01:00:21.083\nYeah, let's see.\n\n1428\n01:00:24.377 --> 01:00:25.398\nOops.\n\n1429\n01:00:27.696 --> 01:00:28.962\nNow it says it already exists.\n\n1430\n01:00:30.986 --> 01:00:35.220\nHm, if I reuse in running.\n\n1431\n01:00:35.220 --> 01:00:36.990\nGood, maybe do the reuse.\n\n1432\n01:00:36.990 --> 01:00:37.960\n>> At the end.\n\n1433\n01:00:37.960 --> 01:00:38.544\n>> Switch to it.\n\n1434\n01:00:38.544 --> 01:00:41.655\nYeah, It looks like it probably went\nahead and created the account, but\n\n1435\n01:00:41.655 --> 01:00:44.830\nsince it couldn't find that path,\nit might not have all those settings.\n\n1436\n01:00:44.830 --> 01:00:47.820\nYou have to press space\nforward slash reuse, probably.\n\n1437\n01:00:47.820 --> 01:00:49.070\nThat's going to be my guess.\n\n1438\n01:00:49.070 --> 01:00:52.930\nMaybe we can force it to do that again.\n\n1439\n01:00:52.930 --> 01:00:56.010\n>> If not, we're gonna be taking a break\nhere to try and figure this out.\n\n1440\n01:00:56.010 --> 01:00:57.140\nBut no, yeah.\n\n1441\n01:00:57.140 --> 01:01:03.900\nSo, this is where the typing,\nand I can't get it to go up any.\n\n1442\n01:01:03.900 --> 01:01:06.398\n>> Scroll down a little bit there.\n\n1443\n01:01:06.398 --> 01:01:11.280\n>> It's playing tricks on me here.\n\n1444\n01:01:11.280 --> 01:01:12.430\nThere we go.\n>> Click on the edge there.\n\n1445\n01:01:12.430 --> 01:01:13.120\nThere it goes.\n\n1446\n01:01:13.120 --> 01:01:16.220\n>> Alright, so\n>> Space, forward slash, reuse?\n\n1447\n01:01:22.080 --> 01:01:23.030\n>> Oops.\nThere we go, excellent.\n\n1448\n01:01:23.030 --> 01:01:24.940\n>> Nice.\n>> Yeah, so I was gonna say,\n\n1449\n01:01:24.940 --> 01:01:27.300\nman, I don't know what I did wrong.\n\n1450\n01:01:27.300 --> 01:01:29.520\nBut I thought I typed in\neverything correctly.\n\n1451\n01:01:29.520 --> 01:01:30.630\n>> That little space in the path.\n\n1452\n01:01:30.630 --> 01:01:32.120\nI hope you.\n>> Yep, that little space\n\n1453\n01:01:32.120 --> 01:01:34.910\nright after the ID, yep.\n\n1454\n01:01:34.910 --> 01:01:36.200\n>> Yep.\n\n1455\n01:01:36.200 --> 01:01:39.450\n>> So\nnow I've successfully created as point,\n\n1456\n01:01:39.450 --> 01:01:42.050\nit's created it in the folder\nwhere we typed this in.\n\n1457\n01:01:42.050 --> 01:01:44.440\nSo it's actually inside of\nthat administrative folder,\n\n1458\n01:01:44.440 --> 01:01:45.960\nis where this blob is.\n\n1459\n01:01:45.960 --> 01:01:48.380\nOkay, now we are going to offload that.\n\n1460\n01:01:48.380 --> 01:01:50.650\nIn other words, we're gonna\nactually make a copy of this, and\n\n1461\n01:01:50.650 --> 01:01:54.170\nsend it over to the direct access sever\nin that web server that we created.\n\n1462\n01:01:54.170 --> 01:01:55.560\n>> Right.\n>> Okay, is what we're gonna do.\n\n1463\n01:01:55.560 --> 01:01:56.530\n>> It has to be accessible.\n\n1464\n01:01:56.530 --> 01:01:59.770\nWe have to somehow get it to that\nmachine that's on the outside,\n\n1465\n01:01:59.770 --> 01:02:02.990\nso they can run this D-join\ncommand on their computer, and\n\n1466\n01:02:02.990 --> 01:02:05.160\npoint it to the file\nthat we just generated.\n\n1467\n01:02:05.160 --> 01:02:06.780\nSo we gotta get that to them somehow.\n\n1468\n01:02:06.780 --> 01:02:10.400\nAnd in the lab situation, it's easy enough\njust to dump it up on the web server and\n\n1469\n01:02:10.400 --> 01:02:11.409\nlet them retrieve it from there.\n\n1470\n01:02:12.610 --> 01:02:13.850\nDirect access server.\n\n1471\n01:02:13.850 --> 01:02:18.380\nFIC, and we're gonna just go ahead and\n\n1472\n01:02:18.380 --> 01:02:24.065\nput it into the I net pub folder,\nif I can spell it.\n\n1473\n01:02:24.065 --> 01:02:25.089\nWWW root.\n\n1474\n01:02:25.089 --> 01:02:30.400\nAnd we're simply gonna copy it up there.\n\n1475\n01:02:30.400 --> 01:02:34.930\nSo this puts it on that web server where,\nagain, the client can gain access to it.\n\n1476\n01:02:34.930 --> 01:02:37.045\nNow I want to verify, of course,\nthat it actually did go there.\n\n1477\n01:02:37.045 --> 01:02:38.280\n>> Mm-hm.\n>> This is one of those commands that\n\n1478\n01:02:38.280 --> 01:02:40.610\nreally doesn't actually tell us\nthat it was successfully done.\n\n1479\n01:02:40.610 --> 01:02:42.280\n>> Yeah, yeah.\n>> In the power shell.\n\n1480\n01:02:42.280 --> 01:02:44.830\nNow, the strange is,\nI think if you do it in the command prompt\n\n1481\n01:02:44.830 --> 01:02:46.650\nit actually tells you it copied\nit over when you do that.\n\n1482\n01:02:46.650 --> 01:02:47.290\n>> Yeah.\n\n1483\n01:02:47.290 --> 01:02:48.480\nPower shell's not very in,\n\n1484\n01:02:48.480 --> 01:02:49.610\nit's just assuming\n>> Yeah.\n\n1485\n01:02:49.610 --> 01:02:50.161\n[LAUGH]\n>> Hey, you know what?\n\n1486\n01:02:50.161 --> 01:02:50.931\nYou did it right.\n\n1487\n01:02:50.931 --> 01:02:51.451\nI'm not gonna tell\n\n1488\n01:02:51.451 --> 01:02:52.031\nyou anything.\n>> Yeah.\n\n1489\n01:02:52.031 --> 01:02:53.311\n>> If you get a whole bunch of red texts\n\n1490\n01:02:53.311 --> 01:02:57.520\nand your screen starts bleeding, that's\nwhen you know you typed something wrong.\n\n1491\n01:02:57.520 --> 01:02:58.070\n>> Yeah.\n\n1492\n01:02:58.070 --> 01:03:00.060\nNow, there is something I\nalmost forgot to do, and\n\n1493\n01:03:00.060 --> 01:03:01.820\nI just remembered right here, okay?\n\n1494\n01:03:01.820 --> 01:03:07.390\nNow, the other thing that I wanna do on\nthe domain controller here is go ahead and\n\n1495\n01:03:07.390 --> 01:03:12.590\ncreate the actual account in\nthe actual active directory here for\n\n1496\n01:03:12.590 --> 01:03:16.070\nthat client computer so\nit can connect in, okay?\n\n1497\n01:03:16.070 --> 01:03:23.420\nSo we're gonna to do\nan add AD group Member.\n\n1498\n01:03:23.420 --> 01:03:25.999\n>> Right.\nCuz when you say that, we're basically,\n\n1499\n01:03:25.999 --> 01:03:28.125\nthe computer account already exists.\n\n1500\n01:03:28.125 --> 01:03:28.950\n>> Mm-hm.\n\n1501\n01:03:28.950 --> 01:03:30.510\n>> Right, but\nwe need to add it to that group.\n\n1502\n01:03:30.510 --> 01:03:32.900\n>> Right.\n>> Cuz we said that only anybody in\n\n1503\n01:03:32.900 --> 01:03:37.615\nthe DA_clients group is going to be given\naccess to the direct access server.\n\n1504\n01:03:37.615 --> 01:03:38.120\n>> Mm-hm.\n>> So\n\n1505\n01:03:38.120 --> 01:03:42.220\nwhat he's doing now is taking that account\nthat just got created when we ran that\n\n1506\n01:03:42.220 --> 01:03:45.830\ncommand, that D-join command, and\nhe's moving it into that group.\n\n1507\n01:03:45.830 --> 01:03:47.110\n>> Mm-hm, yep.\n\n1508\n01:03:47.110 --> 01:03:47.830\n>> You can do it through the GUID, or\n\n1509\n01:03:47.830 --> 01:03:49.460\nyou can do it through the power show,\neither way.\n\n1510\n01:03:51.510 --> 01:03:52.370\n>> So there it goes.\n\n1511\n01:03:52.370 --> 01:03:54.990\nIt should actually add it in there,\nlike every time.\n\n1512\n01:03:54.990 --> 01:03:56.545\nOkay, even though I can\ntype this thing in.\n\n1513\n01:03:56.545 --> 01:03:58.140\n>> Mm-hm.\n>> I always wanna make sure.\n\n1514\n01:03:58.140 --> 01:04:02.220\nSo I'm gonna go into the DA\nclients folder, or group.\n\n1515\n01:04:02.220 --> 01:04:03.430\n>> Group.\n\n1516\n01:04:03.430 --> 01:04:03.930\n>> Yep.\n\n1517\n01:04:06.120 --> 01:04:06.870\n>> And make sure we've got a member.\n\n1518\n01:04:06.870 --> 01:04:07.640\n>> Maybe.\n\n1519\n01:04:07.640 --> 01:04:10.150\nAnd make sure I actually\nhave a member there.\n\n1520\n01:04:10.150 --> 01:04:15.230\nAnd you can probably barely see it,\nbut there it is, DA client.\n\n1521\n01:04:15.230 --> 01:04:16.300\nRemember when we created it?\n\n1522\n01:04:16.300 --> 01:04:19.589\nIt was actually inside of the what,\ncomputer container, and\n\n1523\n01:04:19.589 --> 01:04:21.750\nnow we've moved it into this DA client.\n\n1524\n01:04:21.750 --> 01:04:24.059\n>> Yeah, but the account's still\nin the computer's container, but\n\n1525\n01:04:24.059 --> 01:04:24.960\nwe added it to that group.\n\n1526\n01:04:24.960 --> 01:04:27.000\n>> Yep,\nwe've added it to the group here, okay?\n\n1527\n01:04:27.000 --> 01:04:28.410\nSo we've got this part done.\n\n1528\n01:04:28.410 --> 01:04:33.180\nLet's verify that it actually did\nget into that www root folder.\n\n1529\n01:04:33.180 --> 01:04:37.140\nSo I've switched on over\nto the DirectAccess server,\n\n1530\n01:04:37.140 --> 01:04:38.630\nand I could go a couple ways.\n\n1531\n01:04:38.630 --> 01:04:41.835\nI just want to verify it's there so,\nI'm just going to use the File Explorer.\n\n1532\n01:04:41.835 --> 01:04:43.080\n>> Mm-hm.\n\n1533\n01:04:43.080 --> 01:04:44.260\n>> And go to Computer.\n\n1534\n01:04:44.260 --> 01:04:46.690\n>> Nice, and you called it File Explorer.\n\n1535\n01:04:46.690 --> 01:04:47.338\nImpressive.\n\n1536\n01:04:47.338 --> 01:04:48.040\nWell, you know, it-\n>> Okay, wow!\n\n1537\n01:04:48.040 --> 01:04:50.178\n[LAUGH]\n>> Well, it's been Windows Explorer for\n\n1538\n01:04:50.178 --> 01:04:52.400\nI don't know how many years, right?\n\n1539\n01:04:52.400 --> 01:04:53.132\n>> I know, yeah.\n\n1540\n01:04:53.132 --> 01:04:54.973\n>> [COUGH] Sometimes, when I'm talking,\n\n1541\n01:04:54.973 --> 01:04:57.540\nI revert back to Windows Explorer-\n>> Yeah, I do, too.\n\n1542\n01:04:57.540 --> 01:04:59.010\nBut it's now File Explorer.\n\n1543\n01:04:59.010 --> 01:05:03.070\n>> Yeah, so it's inside the inet pub\nwwwroot and you should see there it is.\n\n1544\n01:05:03.070 --> 01:05:06.110\nThere's the file that's actually\ncalled client right there.\n\n1545\n01:05:06.110 --> 01:05:11.230\nOkay, so this should make it accessible\nnow to the actual client on the outside.\n\n1546\n01:05:11.230 --> 01:05:11.990\nOkay.\n\n1547\n01:05:11.990 --> 01:05:17.820\nSo at this point, if it's there,\nI should be able to go to my client.\n\n1548\n01:05:17.820 --> 01:05:22.260\nThis particular machine is not\njoined to the domain, okay?\n\n1549\n01:05:22.260 --> 01:05:25.620\nSo this is a machine that has not been\njoined to the domain, let me verify it.\n\n1550\n01:05:25.620 --> 01:05:28.552\nNotice it's in a Work Group at this point,\nhere.\n\n1551\n01:05:28.552 --> 01:05:30.339\nSo.\n\n1552\n01:05:30.339 --> 01:05:31.310\n>> And he's not on the network.\n\n1553\n01:05:31.310 --> 01:05:32.538\n>> He's not on the network.\n\n1554\n01:05:32.538 --> 01:05:34.978\n>> He's got a 131 address, I believe,\nso he's out on the public right now.\n\n1555\n01:05:34.978 --> 01:05:39.220\n>> And then, oops, I simply go ahead and\n\n1556\n01:05:39.220 --> 01:05:45.727\ntype in the actual web server\naddress here, which was DA.\n\n1557\n01:05:45.727 --> 01:05:50.608\nAnd it's already been typed in a couple of\ntimes, and there's the name of the file\n\n1558\n01:05:50.608 --> 01:05:54.020\nthat I'm actually typing in\nto retrieve here on the lab.\n\n1559\n01:05:54.020 --> 01:05:56.787\nLet me see if I can bring this up for\nus to be able to see it.\n\n1560\n01:05:56.787 --> 01:06:00.532\nSo DA server's actually where\nthat web server's located.\n\n1561\n01:06:00.532 --> 01:06:02.978\nAnd there's the name of\nthe file that actually I need,\n\n1562\n01:06:02.978 --> 01:06:06.650\nwhich is that blob that I need to\ncome down onto this computer, okay?\n\n1563\n01:06:06.650 --> 01:06:11.380\nNow, for us, we would normally want it\nto be HTTPS right, to be secure, but\n\n1564\n01:06:11.380 --> 01:06:13.090\nin our lab environment\nwe're just doing HTTP.\n\n1565\n01:06:13.090 --> 01:06:14.430\n>> We're okay with that.\n\n1566\n01:06:14.430 --> 01:06:15.670\n>> Yeah, we're okay with that.\n\n1567\n01:06:15.670 --> 01:06:17.610\nI don't think Nate's on the network\nsniffing out [CROSSTALK]\n\n1568\n01:06:17.610 --> 01:06:18.210\n>> You never know.\n\n1569\n01:06:19.900 --> 01:06:23.860\nNever know.\nAll right now,\n\n1570\n01:06:23.860 --> 01:06:27.585\nthe way that this was set up\nis a little bit strange here.\n\n1571\n01:06:27.585 --> 01:06:31.319\n[LAUGH] I do not know why, a copy was\nalready in there, but since that was\n\n1572\n01:06:31.319 --> 01:06:35.453\na previous one, I don't wanna actually\njust pick that one by accident here.\n\n1573\n01:06:35.453 --> 01:06:36.440\n>> Right.\n\n1574\n01:06:36.440 --> 01:06:41.190\n>> And the thing is, it doesn't ever\ntell you that it's actually completed.\n\n1575\n01:06:41.190 --> 01:06:44.265\n>> Nice.\n>> And so you can't really find this file.\n\n1576\n01:06:44.265 --> 01:06:48.465\nEven though it tells you that the direct\nis actually stored in downloads,\n\n1577\n01:06:48.465 --> 01:06:51.255\nif I go to downloads here,\nit's not even there.\n\n1578\n01:06:51.255 --> 01:06:52.136\n>> It's not there.\nNice.\n\n1579\n01:06:52.136 --> 01:06:53.204\n>> Yeah, it's just not there.\n\n1580\n01:06:53.204 --> 01:06:56.896\nSo I kinda had to play around with this\na little bit earlier to try and find it.\n\n1581\n01:06:56.896 --> 01:07:00.690\n>> And after a while,\nyou will find it, and\n\n1582\n01:07:00.690 --> 01:07:03.450\nit's actually found in the temporary\nInternet files, of all the places.\n\n1583\n01:07:03.450 --> 01:07:06.310\n>> Nice.\n>> So I went into the browser, and\n\n1584\n01:07:06.310 --> 01:07:08.870\nInternet Options over here.\n\n1585\n01:07:08.870 --> 01:07:13.260\nAnd then, on the Internet Options here,\nI'm gonna go into Settings and\n\n1586\n01:07:13.260 --> 01:07:18.190\nthen I'll zoom in for us so that we\nactually can see where I went, okay.\n\n1587\n01:07:18.190 --> 01:07:19.750\nSo remember, on the general tab,\n\n1588\n01:07:19.750 --> 01:07:23.720\nyou go into the actual Windows,\nthe data settings that are there.\n\n1589\n01:07:23.720 --> 01:07:24.429\nAnd then from here,\n\n1590\n01:07:24.429 --> 01:07:27.030\ngo into temporary Internet files, and\nyou can see the current location.\n\n1591\n01:07:27.030 --> 01:07:29.180\nI could manually browse there and\nalso see it.\n\n1592\n01:07:29.180 --> 01:07:31.675\nBut notice I have this View Files button,\n\n1593\n01:07:31.675 --> 01:07:35.150\nwhich is the one that I want right here,\nokay.\n\n1594\n01:07:35.150 --> 01:07:38.570\nNow, it looks like a regular text file,\nbut I found out something.\n\n1595\n01:07:38.570 --> 01:07:43.510\nIf you open it during the download and\nsave it from Notepad, it doesn't work.\n\n1596\n01:07:43.510 --> 01:07:44.120\n>> Doesn't like it.\n\n1597\n01:07:44.120 --> 01:07:45.580\n>> Doesn't like it at all.\n\n1598\n01:07:45.580 --> 01:07:48.924\nSo you actually have to get this\nexact file, so I'm gonna copy it and\n\n1599\n01:07:48.924 --> 01:07:52.120\nI'm just gonna put it in\nthe downloads folder right here.\n\n1600\n01:07:52.120 --> 01:07:53.360\n>> Nice.\n>> So that I can find it.\n\n1601\n01:07:53.360 --> 01:07:54.570\nThat's where it should have been.\n\n1602\n01:07:54.570 --> 01:07:56.083\n>> Yeah,\nthat's kind of odd that it didn't.\n\n1603\n01:07:56.083 --> 01:07:56.782\n>> [LAUGH]\n>> I don't think\n\n1604\n01:07:56.782 --> 01:07:57.950\nthat happens normally [CROSSTALK]\n>> No,\n\n1605\n01:07:57.950 --> 01:08:00.560\nit's just the way that this was set up.\n\n1606\n01:08:00.560 --> 01:08:03.430\nSo I want to make sure that\nI got it correct here.\n\n1607\n01:08:03.430 --> 01:08:04.630\nAll right?\n>> Good, good.\n\n1608\n01:08:04.630 --> 01:08:06.160\n>> So\nthat's where it actually needs to be.\n\n1609\n01:08:06.160 --> 01:08:11.022\nNow, just when you think you're done with\nall the command line stuff, you're not.\n\n1610\n01:08:11.022 --> 01:08:12.574\n[LAUGH]\n>> Yeah, yep.\n\n1611\n01:08:12.574 --> 01:08:16.430\nLike I say, I would probably end up\nputting that file on the C drive.\n\n1612\n01:08:16.430 --> 01:08:18.640\nIt's going to be a lot\neasier to type that command.\n\n1613\n01:08:18.640 --> 01:08:20.665\nBut I like watching you type,\nso [CROSSTALK]\n\n1614\n01:08:20.665 --> 01:08:21.339\n>> Yeah, so there you go.\n\n1615\n01:08:21.339 --> 01:08:22.244\nAll right, yup.\n\n1616\n01:08:22.244 --> 01:08:25.790\n[LAUGH] All right, so at this point,\nI'm gonna bring up the command prompt.\n\n1617\n01:08:25.790 --> 01:08:27.740\nNow I also found this\na little bit earlier.\n\n1618\n01:08:27.740 --> 01:08:32.690\nNow, this is probably not true for\neverything, but it did not work\n\n1619\n01:08:32.690 --> 01:08:37.700\nwhen I actually tried to do this from\nthe PowerShell, and I don't know why.\n\n1620\n01:08:37.700 --> 01:08:40.400\nIt may just be this instance\nof what I was doing.\n\n1621\n01:08:40.400 --> 01:08:42.910\nBut when I ran it from the PowerShell,\nit kept failing, telling me,\n\n1622\n01:08:42.910 --> 01:08:45.000\nhey it doesn't like this.\n\n1623\n01:08:45.000 --> 01:08:47.530\nAnd when I ran it from the command prompt,\nit worked perfectly fine.\n\n1624\n01:08:47.530 --> 01:08:49.270\n>> Yeah.\n>> So that may just be a glitch here.\n\n1625\n01:08:49.270 --> 01:08:51.165\nI don't wanna actually say\nit's a glitch everywhere.\n\n1626\n01:08:51.165 --> 01:08:53.070\n>> Djoin is not a PowerShell command.\n\n1627\n01:08:53.070 --> 01:08:54.430\n>> Yeah.\n>> It's not a commandlet.\n\n1628\n01:08:54.430 --> 01:08:58.380\nPowerShell interprets most of\nour command lines, our black and\n\n1629\n01:08:58.380 --> 01:09:00.360\nwhite command prompt commands pretty well.\n\n1630\n01:09:00.360 --> 01:09:02.870\nI don't know if you try\ntyping in CMD first and\n\n1631\n01:09:02.870 --> 01:09:04.289\nswitching to a-\n>> No, I didn't.\n\n1632\n01:09:04.289 --> 01:09:06.290\n>> Prompt within PowerShell,\nit might have worked.\n\n1633\n01:09:06.290 --> 01:09:08.540\nBut just as easy to\nopen up command prompt.\n\n1634\n01:09:08.540 --> 01:09:11.190\nIt's still there,\nit's not going away anytime soon I hope.\n\n1635\n01:09:11.190 --> 01:09:12.410\nI like my command prompt.\n\n1636\n01:09:12.410 --> 01:09:15.590\n>> Yeah.\nSo this is Djoin again.\n\n1637\n01:09:15.590 --> 01:09:18.100\nNow here's where the weird\noption comes in, right?\n\n1638\n01:09:18.100 --> 01:09:20.993\nThis is the request-\n>> ODJ.\n\n1639\n01:09:20.993 --> 01:09:24.850\n>> ODJ, offline domain join.\n\n1640\n01:09:24.850 --> 01:09:26.630\n>> On the server,\nyou run the provision command.\n\n1641\n01:09:26.630 --> 01:09:30.610\nWhich is what's gonna create\nthe account and create the blob file.\n\n1642\n01:09:30.610 --> 01:09:31.290\nOn the client,\n\n1643\n01:09:31.290 --> 01:09:36.010\nyou're gonna run the request ODJ which\nneeds that file to finish this process.\n\n1644\n01:09:36.010 --> 01:09:36.870\n>> Yep.\n\n1645\n01:09:36.870 --> 01:09:40.360\nSo now that we have this,\nwe now need to go and find that blob file.\n\n1646\n01:09:40.360 --> 01:09:41.950\nOkay, it's what we actually need here.\n\n1647\n01:09:41.950 --> 01:09:45.046\nSo this is where we do the load file?\n\n1648\n01:09:45.046 --> 01:09:46.400\n>> Mm-hm.\n\n1649\n01:09:46.400 --> 01:09:49.640\n>> And this is what [LAUGH]\nwhat Mike was talking about.\n\n1650\n01:09:49.640 --> 01:09:53.725\nNow you actually have to find out\nwhere this thing actually is.\n\n1651\n01:09:53.725 --> 01:09:55.530\n>> C:\\Users?\n\n1652\n01:09:55.530 --> 01:10:01.596\n>> Users and\nthen this is BenSmith, downloads,\n\n1653\n01:10:01.596 --> 01:10:07.257\nand then client.txt and-\n>> See how easy you made that look?\n\n1654\n01:10:07.257 --> 01:10:08.232\n>> I did.\n\n1655\n01:10:08.232 --> 01:10:09.400\nOkay?\n\n1656\n01:10:09.400 --> 01:10:14.630\nAnd then, it has us actually saving\nit into the Windows folder, okay.\n\n1657\n01:10:14.630 --> 01:10:16.850\nSo this is actually be essential for\n\n1658\n01:10:16.850 --> 01:10:20.990\nus as we go on to the next step of this,\nis where we're going, okay?\n\n1659\n01:10:22.020 --> 01:10:25.920\nSo, actually I just need to\ncopy it in there don't I?\n\n1660\n01:10:25.920 --> 01:10:28.910\nI did this backward, I didn't need\nthe Djoin, I needed to copy this.\n\n1661\n01:10:28.910 --> 01:10:30.396\n>> If you want, you could just.\n\n1662\n01:10:30.396 --> 01:10:33.197\nWell, do you really want\nto copy it in to Windows or\n\n1663\n01:10:33.197 --> 01:10:35.280\ndo you want to run it from where it is?\n\n1664\n01:10:35.280 --> 01:10:37.170\nIt's up to you.\n\n1665\n01:10:37.170 --> 01:10:39.530\n>> We can try it.\n\n1666\n01:10:39.530 --> 01:10:40.580\nI normally copy it into [CROSSTALK].\n\n1667\n01:10:40.580 --> 01:10:43.460\nProbably do it the other way,\ncuz I think I did it backward.\n\n1668\n01:10:43.460 --> 01:10:46.130\nYep.\nI just need to copy this file in there.\n\n1669\n01:10:46.130 --> 01:10:47.596\nCopy-\n>> Cuz you're gonna move it from downloads\n\n1670\n01:10:47.596 --> 01:10:48.250\nover to C:Windows.\n\n1671\n01:10:48.250 --> 01:10:49.788\n>> Yep.\n\n1672\n01:10:49.788 --> 01:10:55.384\nSo it's the way I learned it, so let me\ndo it that way, make sure it's there.\n\n1673\n01:10:55.384 --> 01:10:55.987\nOops.\n\n1674\n01:10:58.448 --> 01:11:03.430\nAnd then C:Windows, okay?\n\n1675\n01:11:03.430 --> 01:11:05.290\nSo the good thing is,\nit tells me it's copied.\n\n1676\n01:11:05.290 --> 01:11:09.948\n>> Yep.\n>> Now, it doesn't let me, no up arrow!\n\n1677\n01:11:09.948 --> 01:11:11.110\n>> Like you've never entered it.\n\n1678\n01:11:11.110 --> 01:11:13.020\n>> Man.\n>> It was good practice though.\n\n1679\n01:11:13.020 --> 01:11:13.890\n>> Yeah.\n\n1680\n01:11:13.890 --> 01:11:17.912\nDjoin, request-\n>> ODJ.\n\n1681\n01:11:17.912 --> 01:11:20.234\n>> ODJ.\n\n1682\n01:11:20.234 --> 01:11:20.970\nLoad file.\n\n1683\n01:11:20.970 --> 01:11:23.990\nOops, guess what else I didn't do?\n\n1684\n01:11:23.990 --> 01:11:25.400\n>> What did you not do?\n\n1685\n01:11:25.400 --> 01:11:28.235\n>> I need to actually be in\nthe folder where that file's located.\n\n1686\n01:11:28.235 --> 01:11:33.465\n[LAUGH]\nI've done that a couple of times.\n\n1687\n01:11:33.465 --> 01:11:37.709\n[LAUGH] If I forget that, it fails.\n\n1688\n01:11:37.709 --> 01:11:39.233\nOkay, ODJ.\n\n1689\n01:11:39.233 --> 01:11:41.879\nYou should at least get that part down,\nif nothing else.\n\n1690\n01:11:41.879 --> 01:11:42.565\n[LAUGH]\n>> Right.\n\n1691\n01:11:42.565 --> 01:11:46.310\n[LAUGH]\n>> Loadfile, and\n\n1692\n01:11:46.310 --> 01:11:51.030\nthis is now where I actually\nselect the client.txt.\n\n1693\n01:11:51.030 --> 01:11:51.940\n>> Did I spell loadfile right?\n\n1694\n01:11:51.940 --> 01:11:52.478\n>> Mm-hm.\n\n1695\n01:11:52.478 --> 01:11:53.920\n>> Okay, all right.\n\n1696\n01:11:53.920 --> 01:11:56.650\n>> Now this is where, you know,\nif we had done this originally,\n\n1697\n01:11:56.650 --> 01:11:58.100\nwe don't have to move into Windows.\n\n1698\n01:11:58.100 --> 01:12:00.462\nWe could've put the entire path or\nload file there.\n\n1699\n01:12:00.462 --> 01:12:04.647\nC:\\users\\BenSmith or whatever.\n\n1700\n01:12:04.647 --> 01:12:07.710\nBut putting it in an easy place though\nmakes it easier to type in again.\n\n1701\n01:12:09.340 --> 01:12:12.330\n>> And then,\nI need to select the Windows path.\n\n1702\n01:12:12.330 --> 01:12:13.250\nWhat is this about?\n>> Where the heck is your\n\n1703\n01:12:13.250 --> 01:12:13.840\noperating system?\n\n1704\n01:12:13.840 --> 01:12:14.460\n>> What?\n\n1705\n01:12:14.460 --> 01:12:15.460\nI don't need an operating system.\n\n1706\n01:12:15.460 --> 01:12:19.030\n>> [LAUGH]\n>> We don't need no stinking operating\n\n1707\n01:12:19.030 --> 01:12:19.790\nsystems.\n\n1708\n01:12:19.790 --> 01:12:20.840\nSystem.\n\n1709\n01:12:20.840 --> 01:12:22.670\nI misspell system a lot.\n\n1710\n01:12:22.670 --> 01:12:23.300\nGuarantee it.\n\n1711\n01:12:24.620 --> 01:12:25.970\nSystem root.\nSo I'm telling it to look for\n\n1712\n01:12:25.970 --> 01:12:28.680\nthe actual system root here.\n\n1713\n01:12:28.680 --> 01:12:32.330\nThis is the only place I've\never used this option here.\n\n1714\n01:12:32.330 --> 01:12:33.215\nLocal OS.\n\n1715\n01:12:33.215 --> 01:12:35.110\nC:\\WINDOWS?\n\n1716\n01:12:35.110 --> 01:12:37.080\n>> Yeah, makes me see local loss.\n\n1717\n01:12:37.080 --> 01:12:37.790\n>> Yeah, right?\n\n1718\n01:12:37.790 --> 01:12:38.382\n>> Local loss.\n\n1719\n01:12:38.382 --> 01:12:41.590\n>> Local loss could be a new\nenergy beverage or something.\n\n1720\n01:12:41.590 --> 01:12:43.175\n>> Yep, it sounds like it could be.\n\n1721\n01:12:43.175 --> 01:12:43.680\nOkay?\n\n1722\n01:12:43.680 --> 01:12:47.295\nNow, at this point,\nit's now loaded that all in, okay?\n\n1723\n01:12:47.295 --> 01:12:51.305\nBut just like anytime we join a computer\ndomain, you have to restart it.\n\n1724\n01:12:51.305 --> 01:12:54.645\nSo you would normally think that they\nwould've put something there that says\n\n1725\n01:12:54.645 --> 01:12:56.365\nplease restart like they do, but nope.\n\n1726\n01:12:56.365 --> 01:12:58.245\n>> Yeah, a little button that pops up and\nyou can click on.\n\n1727\n01:12:58.245 --> 01:12:59.325\nThat would've been handy.\n\n1728\n01:12:59.325 --> 01:13:03.640\n>> Yep, so I'm going to go ahead and\ntell it to do this.\n\n1729\n01:13:03.640 --> 01:13:06.220\n>> Force it and\nthen it's simply going to restart for us.\n\n1730\n01:13:06.220 --> 01:13:09.480\nAnd in a moment, we should be able to\nverify whether or not it's working, okay?\n\n1731\n01:13:09.480 --> 01:13:10.440\n>> We'll keep out fingers crossed.\n\n1732\n01:13:10.440 --> 01:13:11.030\n>> Yeah.\n\n1733\n01:13:11.030 --> 01:13:14.860\nSo now the direct access server\nis actually set up for us.\n\n1734\n01:13:14.860 --> 01:13:16.835\nWe've now went ahead and\nmade sure that we had the.\n\n1735\n01:13:16.835 --> 01:13:17.785\nCounts in the right place.\n\n1736\n01:13:17.785 --> 01:13:21.165\nWe have our group policy objects.\n\n1737\n01:13:21.165 --> 01:13:22.385\nThey're all working.\n\n1738\n01:13:22.385 --> 01:13:26.355\nWe've set up the offline domain joint,\nwe've now run that command.\n\n1739\n01:13:26.355 --> 01:13:28.045\nWe're now rebooting this system so\n\n1740\n01:13:28.045 --> 01:13:31.230\nit will end up joining\nthe domain at this point here.\n\n1741\n01:13:31.230 --> 01:13:36.409\nAnd then when we connect in, okay, it\nshould show us how we actually are going\n\n1742\n01:13:36.409 --> 01:13:40.440\nto connect in using direct access once we\nget everything actually up and loaded.\n\n1743\n01:13:40.440 --> 01:13:42.880\nFirst thing we're going to do here is,\nsince we're still waiting for\n\n1744\n01:13:42.880 --> 01:13:45.980\nthis to reboot as we're\ngoing to simply see that\n\n1745\n01:13:45.980 --> 01:13:48.230\nwe are going to be connected\nto the network here.\n\n1746\n01:13:48.230 --> 01:13:50.730\nBut I'm not actually signed\nin as the domain user.\n\n1747\n01:13:50.730 --> 01:13:53.110\n>> Right.\n>> So it's going to tell me okay,\n\n1748\n01:13:53.110 --> 01:13:55.280\nyou can see stuff but\nyou're not really connected.\n\n1749\n01:13:55.280 --> 01:13:58.670\nThen we're going to log off and\ntry and join back in or\n\n1750\n01:13:58.670 --> 01:14:02.140\nlog back in with a domain\nuser credential here.\n\n1751\n01:14:02.140 --> 01:14:03.070\nAs what we're going to do.\n\n1752\n01:14:03.070 --> 01:14:06.200\nOkay.\nSo it does take a moment or two here for\n\n1753\n01:14:06.200 --> 01:14:07.750\nus to do this.\n\n1754\n01:14:07.750 --> 01:14:08.590\n>> Yeah.\nIt's doing a lot of stuff\n\n1755\n01:14:08.590 --> 01:14:09.660\nin the background right now.\n\n1756\n01:14:09.660 --> 01:14:10.240\n>> Yeah.\n\n1757\n01:14:10.240 --> 01:14:10.760\n>> So.\n>> It's having to-\n\n1758\n01:14:10.760 --> 01:14:11.610\n>> Getting everything set up.\n\n1759\n01:14:11.610 --> 01:14:13.660\n>> Yup.\n>> Establishing that direct access tunnel.\n\n1760\n01:14:13.660 --> 01:14:14.420\n>> Yeah.\nAren't you more\n\n1761\n01:14:14.420 --> 01:14:16.560\nimpressed with offline domain join now?\n\n1762\n01:14:16.560 --> 01:14:18.725\n>> See, you know.\n\n1763\n01:14:18.725 --> 01:14:20.140\n>> [LAUGH]\n>> [LAUGH]\n\n1764\n01:14:20.140 --> 01:14:21.290\n>> Yes I am.\n\n1765\n01:14:21.290 --> 01:14:22.290\nYes of course I am.\n\n1766\n01:14:22.290 --> 01:14:24.050\n>> You know.\n\n1767\n01:14:24.050 --> 01:14:26.900\nSo here it's reminding me hey this\nis what your password is now.\n\n1768\n01:14:26.900 --> 01:14:28.740\nYou're probably not going to\nsee that on every machine.\n\n1769\n01:14:28.740 --> 01:14:29.470\n>> Right.\n>> But for\n\n1770\n01:14:29.470 --> 01:14:32.820\nthem they said hey Ronnie you're going to\nmess this up so let me remind you what\n\n1771\n01:14:32.820 --> 01:14:34.530\nthe password is as you log in\n>> Right.\n\n1772\n01:14:34.530 --> 01:14:40.090\n>> OK so notice that I am logged\nin as just a regular user and\n\n1773\n01:14:40.090 --> 01:14:43.650\nif I can actually type this in I've never\nbeen able to type in passwords last week,\n\n1774\n01:14:43.650 --> 01:14:45.460\nso that's actually the first time we're,\n\n1775\n01:14:45.460 --> 01:14:49.560\nI didn't have to type it in like six\ntimes before I got it correctly, okay.\n\n1776\n01:14:49.560 --> 01:14:50.260\nSo here I am.\n\n1777\n01:14:50.260 --> 01:14:53.760\nI'm logged in as Ben Smith here, okay?\n\n1778\n01:14:53.760 --> 01:14:56.510\nAnd so I just want to check\nout a few things, okay?\n\n1779\n01:14:56.510 --> 01:14:59.380\nThe first thing is,\ndid this computer join the domain?\n\n1780\n01:15:01.206 --> 01:15:04.050\nWell, I'm going to right click\non the file explorer and\n\n1781\n01:15:04.050 --> 01:15:07.510\nthen right click, or actually click on\nfile explorer, right click on computer,\n\n1782\n01:15:07.510 --> 01:15:12.040\nand go to properties, and now notice\nright down here at the bottom, Mike.\n\n1783\n01:15:12.040 --> 01:15:16.190\n>> It looks like it says\ncontesso.com to me.\n\n1784\n01:15:16.190 --> 01:15:17.410\n>> It sure does.\n\n1785\n01:15:17.410 --> 01:15:20.400\n>> From the client's point of view it\ndefinitely thinks it's part of the domain.\n\n1786\n01:15:20.400 --> 01:15:23.400\n>> It thinks it's part of\nthe domain at this point here.\n\n1787\n01:15:23.400 --> 01:15:25.290\nYeah.\nWhich it actually is here, okay?\n\n1788\n01:15:25.290 --> 01:15:29.250\nNow, the other way that you know that\nDirect Access is also working, okay?\n\n1789\n01:15:29.250 --> 01:15:31.830\nIs, you actually see these\ntwo connections here, right?\n\n1790\n01:15:31.830 --> 01:15:33.280\nSo there's your regular\nnetwork connection.\n\n1791\n01:15:33.280 --> 01:15:33.970\nBut notice this one.\n\n1792\n01:15:33.970 --> 01:15:36.500\nIt says, workplace is connecting.\n\n1793\n01:15:36.500 --> 01:15:38.190\nNow, if I can do this.\n\n1794\n01:15:38.190 --> 01:15:40.940\nNope, I didn't do it before I was able to.\n\n1795\n01:15:40.940 --> 01:15:41.850\nI was hoping I could.\n\n1796\n01:15:41.850 --> 01:15:44.250\n>> A workplace connection has\nbeen established [INAUDIBLE].\n\n1797\n01:15:44.250 --> 01:15:44.960\n>> Yeah.\n\n1798\n01:15:44.960 --> 01:15:46.040\nThere we go.\n\n1799\n01:15:46.040 --> 01:15:52.290\nThe little blurb that popped actually\npopped up was essentially saying hey,\n\n1800\n01:15:52.290 --> 01:15:54.960\nit's trying to connect, but I don't\nknow if you're going to be able to.\n\n1801\n01:15:54.960 --> 01:15:58.090\nSo notice it actually just\nshows connecting at this point.\n\n1802\n01:15:58.090 --> 01:16:01.060\nBecause I'm not logged in with\ndomain credentials, okay.\n\n1803\n01:16:01.060 --> 01:16:02.510\n>> Right.\nSo your local user account doesn't have\n\n1804\n01:16:02.510 --> 01:16:03.640\nany rights on the domain.\n\n1805\n01:16:03.640 --> 01:16:05.610\n>> Yeah, none.\n>> The computer is part of the domain.\n\n1806\n01:16:05.610 --> 01:16:07.080\nBut your user capture logged on is not so\n\n1807\n01:16:07.080 --> 01:16:10.930\nit's not going to let you see any of\nthose resources on the corporate network.\n\n1808\n01:16:10.930 --> 01:16:12.080\nSo we need to log off and\n\n1809\n01:16:12.080 --> 01:16:17.150\nlog on with a domain user account that\ndoes have access to those resources.\n\n1810\n01:16:17.150 --> 01:16:22.810\n>> Now, to show that we are going through\nthe direct access server and everything,\n\n1811\n01:16:22.810 --> 01:16:27.100\nnotice that we're actually getting an IPv6\nreply which is through direct access.\n\n1812\n01:16:27.100 --> 01:16:30.200\nBut I can't really connect in using\nany network resources at this point.\n\n1813\n01:16:30.200 --> 01:16:32.890\n>> Yeah, but that is the DC, and\nyou're sitting on the outside and\n\n1814\n01:16:32.890 --> 01:16:34.020\nthe DC's sitting on the inside, so\n\n1815\n01:16:34.020 --> 01:16:36.220\nyou know you do have that tunnel\ngoing through at this point.\n\n1816\n01:16:36.220 --> 01:16:41.175\nSo now I'm simply going to sign out and\nthen I'm going to switch to the other\n\n1817\n01:16:41.175 --> 01:16:46.380\nuser here and this is where we're going\nto see something a little bit unusual.\n\n1818\n01:16:47.520 --> 01:16:52.175\nSo the account here is also\nBen Smith as the domain user.\n\n1819\n01:16:55.288 --> 01:16:58.086\nMan, I'm so\nused to typing in the other password.\n\n1820\n01:16:58.086 --> 01:17:00.330\n[LAUGH]\n>> [LAUGH] Yeah, right.\n\n1821\n01:17:00.330 --> 01:17:04.190\n>> So it has to create the user profile\nhere, so it's going to take a moment.\n\n1822\n01:17:04.190 --> 01:17:05.260\nAs it actually does this.\n\n1823\n01:17:05.260 --> 01:17:06.686\nBut once we actually do connect in,\n\n1824\n01:17:06.686 --> 01:17:09.530\nwe are going to be able to go up\nto the direct access server, and\n\n1825\n01:17:09.530 --> 01:17:14.000\nsee that this user is actually\nthe domain user that is connecting it.\n\n1826\n01:17:14.000 --> 01:17:14.680\nOkay?\n\n1827\n01:17:14.680 --> 01:17:17.290\nSo setting up this profile is just\ngoing to take a moment or two.\n\n1828\n01:17:17.290 --> 01:17:18.640\n>> You can probably already switch\nover if you want to take a look at it.\n\n1829\n01:17:18.640 --> 01:17:19.572\n[CROSSTALK]\n>> Yeah, let's go and do that.\n\n1830\n01:17:19.572 --> 01:17:21.720\nYeah, I didn't think about, yeah.\n\n1831\n01:17:21.720 --> 01:17:22.870\nIt's the only profile here.\n\n1832\n01:17:22.870 --> 01:17:26.640\n>> Learn how to use Windows\nwhile you're waiting.\n\n1833\n01:17:26.640 --> 01:17:28.300\nMove your cursor over to any corner.\n\n1834\n01:17:29.560 --> 01:17:32.210\n>> So\nback over on the direct access server.\n\n1835\n01:17:32.210 --> 01:17:33.540\nMan, we pick on Windows a lot.\n\n1836\n01:17:33.540 --> 01:17:36.230\nI love Windows, don't get me wrong.\n\n1837\n01:17:36.230 --> 01:17:39.316\n[LAUGH] You're easy to pick on.\n\n1838\n01:17:39.316 --> 01:17:43.510\n>> So back on our direct access\nserver I just went ahead and\n\n1839\n01:17:43.510 --> 01:17:46.555\nright clicked on our remote\naccess server at this point.\n\n1840\n01:17:46.555 --> 01:17:47.445\nAnd what I'm looking for\n\n1841\n01:17:47.445 --> 01:17:53.015\nis up here in the upper left hand corner\nwhere it says remote client status.\n\n1842\n01:17:53.015 --> 01:17:53.605\nOkay.\n\n1843\n01:17:53.605 --> 01:17:55.805\nSo let me verify that you\ncan actually see that.\n\n1844\n01:17:56.845 --> 01:17:59.100\nMaybe, if I can get you not dizzy.\n\n1845\n01:17:59.100 --> 01:18:02.510\nOver there in the upper left-hand corner,\nremote client status.\n\n1846\n01:18:05.620 --> 01:18:08.470\nAnd then from there,\nnotice who is actually logged in.\n\n1847\n01:18:09.760 --> 01:18:11.520\n>> Could it be?\n\n1848\n01:18:11.520 --> 01:18:13.240\n>> It is.\n>> Mr. Ben Smith.\n\n1849\n01:18:13.240 --> 01:18:13.740\n>> Look at that.\n\n1850\n01:18:16.066 --> 01:18:18.520\nBeautiful\n>> Okay?\n\n1851\n01:18:18.520 --> 01:18:19.940\nAnd notice the protocol it's using.\n\n1852\n01:18:19.940 --> 01:18:22.560\nIt's IP over HTTPS.\n\n1853\n01:18:22.560 --> 01:18:26.660\nSo that just sees it coming in from\nan IP address from the outside, and\n\n1854\n01:18:26.660 --> 01:18:28.860\nit's using essentially SSL\nto make the connection in,\n\n1855\n01:18:28.860 --> 01:18:33.050\nthat we don't have of IPV 6 on\nthe outside as well runs do it.\n\n1856\n01:18:33.050 --> 01:18:33.860\n>> Right.\nYep.\n\n1857\n01:18:33.860 --> 01:18:35.020\n>> Yep.\n>> Nice very cool.\n\n1858\n01:18:35.020 --> 01:18:35.520\n>> Yeah.\n\n1859\n01:18:37.930 --> 01:18:41.960\nSo there's all that and then of course you\ncan see the connection details down here\n\n1860\n01:18:41.960 --> 01:18:45.970\nat the bottom that shows\nyou it is connecting in.\n\n1861\n01:18:47.430 --> 01:18:49.530\nMachine Kerberos,\nuser Kerberos, everything.\n\n1862\n01:18:49.530 --> 01:18:52.900\n>> At this point, that computer is just\nlike it was plugged into our network.\n\n1863\n01:18:52.900 --> 01:18:57.450\nI mean he's outside at some hotel, or at\nhome, or something like that, all his map\n\n1864\n01:18:57.450 --> 01:19:01.210\ndrives are connected, he can access the\nprinters that work, he can access the file\n\n1865\n01:19:01.210 --> 01:19:04.840\nservers, anything that he would normally\nhave permissions over, and vice versa.\n\n1866\n01:19:04.840 --> 01:19:08.290\nI can see his computer,\ngroup policies can be applied to to it.\n\n1867\n01:19:08.290 --> 01:19:10.790\nI can remotely manage it if I need to.\n\n1868\n01:19:10.790 --> 01:19:14.310\nSo it's just like I said, just like it\nwas plugged in to the corporate network.\n\n1869\n01:19:14.310 --> 01:19:17.750\n>> So the advantage, what Mike was\ntalking about, in the hotel room, right?\n\n1870\n01:19:17.750 --> 01:19:20.920\nIf I don't log in as\na regular domain user, well,\n\n1871\n01:19:20.920 --> 01:19:22.530\nI don't get access to\nthe network resources.\n\n1872\n01:19:22.530 --> 01:19:24.240\n>> Right.\n>> But as soon as I need access,\n\n1873\n01:19:24.240 --> 01:19:26.460\nif I go hey,\nI to actually work in the network.\n\n1874\n01:19:26.460 --> 01:19:28.380\nLog off,\nsign in with my domain credentials,\n\n1875\n01:19:28.380 --> 01:19:31.150\nit's like my computer\nwas plugged right in.\n\n1876\n01:19:31.150 --> 01:19:32.840\nAnd I don't have to\nestablish a VPN connection.\n\n1877\n01:19:32.840 --> 01:19:33.670\n>> You don't have to do anything.\n\n1878\n01:19:33.670 --> 01:19:34.530\n>> I don't have to do anything.\n\n1879\n01:19:34.530 --> 01:19:35.890\n>> Right.\nIt's just already there.\n\n1880\n01:19:35.890 --> 01:19:37.530\n>> Just already there okay?\n\n1881\n01:19:37.530 --> 01:19:40.210\nAnd again the advantage of\nthe offline domain joint?\n\n1882\n01:19:40.210 --> 01:19:43.040\nIs that person actually never had\ntheir computer on the network.\n\n1883\n01:19:43.040 --> 01:19:45.010\nSee that.\nWe live a thousand miles away.\n\n1884\n01:19:45.010 --> 01:19:49.120\nI can get them to send the actual computer\nin or I can tell them how to do it but,\n\n1885\n01:19:49.120 --> 01:19:51.910\nby doing this,\nwe send them a script and they're done.\n\n1886\n01:19:51.910 --> 01:19:53.290\n>> Yeah, they run it and they're done.\n\n1887\n01:19:53.290 --> 01:19:54.780\nIt's a beautiful thing.\n\n1888\n01:19:54.780 --> 01:19:58.224\n>> You can't, really,\nthat's incredibly a lot,\n\n1889\n01:19:58.224 --> 01:20:02.000\nof advantages that we have\nwith Direct Access, Okay?\n\n1890\n01:20:02.000 --> 01:20:06.287\n>> Djoin's new, it came out in like 2008 I\nthink, we couldn't do it before that, so\n\n1891\n01:20:06.287 --> 01:20:09.459\nthat is a good thing, and\nyou combine that with direct access and\n\n1892\n01:20:09.459 --> 01:20:11.250\nit's a really seamless solution.\n\n1893\n01:20:11.250 --> 01:20:12.330\n>> Yeah.\n\n1894\n01:20:12.330 --> 01:20:13.946\nSo in our particular episode,\n\n1895\n01:20:13.946 --> 01:20:17.552\nremember that we talked about\nthe actual Needs that we have, in terms\n\n1896\n01:20:17.552 --> 01:20:22.130\nof the requirements to actually be able\nto get direct access up and running.\n\n1897\n01:20:22.130 --> 01:20:25.330\nWe also then talked about the client need,\nin terms of that side.\n\n1898\n01:20:25.330 --> 01:20:29.440\nRemember that has to be at least\nWindows 7, Enterprise or Ultimate, and\n\n1899\n01:20:29.440 --> 01:20:34.360\nthen Windows 8, 8.1, and we will\nprobably work with it, for us here.\n\n1900\n01:20:34.360 --> 01:20:38.720\nWe then also went in and we used a Getting\nStarted Wizard here to show how to\n\n1901\n01:20:38.720 --> 01:20:42.460\nactually set it up with the default\nrecommended settings, and then within\n\n1902\n01:20:42.460 --> 01:20:46.420\neach one of those bigger steps here, to be\nable to show you what you can modify and\n\n1903\n01:20:46.420 --> 01:20:51.720\nchange You get it all working, and then\nlastly in the end, here, your favorite.\n\n1904\n01:20:51.720 --> 01:20:55.090\n>> Use dejoin to join that computer\nto join that computer to the domain\n\n1905\n01:20:55.090 --> 01:20:57.710\neven though it's not\nconnected to the network.\n\n1906\n01:20:57.710 --> 01:20:59.265\n>> Mike loves it.\n\n1907\n01:20:59.265 --> 01:21:00.320\n[CROSSTALK]\n>> Mike loves that.\n\n1908\n01:21:00.320 --> 01:21:02.870\nHe loves offline domain joining.\n\n1909\n01:21:02.870 --> 01:21:03.520\n>> I do.\nI do.\n\n1910\n01:21:03.520 --> 01:21:06.840\nI will tell that until we started\nusing it with direct access,\n\n1911\n01:21:06.840 --> 01:21:10.770\nI found dejoin a little limited and\nnot all that useful.\n\n1912\n01:21:10.770 --> 01:21:11.330\nUseful.\n>> [LAUGH]\n\n1913\n01:21:11.330 --> 01:21:12.380\n>> But when you\n\n1914\n01:21:12.380 --> 01:21:15.380\ncombine it with direct access like this,\nit makes perfect sense.\n\n1915\n01:21:15.380 --> 01:21:20.410\nSo I will probably forgive the joiner,\nI will accept it, it's back in my grace.\n\n1916\n01:21:20.410 --> 01:21:22.140\nI will. [LAUGH] >> And that's a group hug.\n\n1917\n01:21:22.140 --> 01:21:24.057\nThat's a group hug with the joiner, yeah.\n\n1918\n01:21:24.057 --> 01:21:26.640\n[LAUGH]\n>> [LAUGH] All right, so\n\n1919\n01:21:26.640 --> 01:21:30.870\nas always right, anytime that you're\nactually watching our show okay,\n\n1920\n01:21:30.870 --> 01:21:33.890\nplease feel free to jump in our chat and\nask questions okay?\n\n1921\n01:21:33.890 --> 01:21:36.791\nWe welcome questions, Mike will answer\nany of them that you throw up [LAUGH]\n\n1922\n01:21:36.791 --> 01:21:37.916\n>> [LAUGH] I catch them all,\n\n1923\n01:21:37.916 --> 01:21:38.810\nI can get them all answered.\n\n1924\n01:21:38.810 --> 01:21:39.760\n>> That's right, he's got them all.\n\n1925\n01:21:39.760 --> 01:21:40.510\n>> Send them in.\nThat's right.\n\n1926\n01:21:40.510 --> 01:21:41.950\nYou send them all in.\n\n1927\n01:21:41.950 --> 01:21:44.772\nEmail the rest as RWong.\n\n1928\n01:21:44.772 --> 01:21:47.820\n>> [LAUGH] Mike@ITPRO.TV.\nSee, I got that out before you did.\n\n1929\n01:21:47.820 --> 01:21:48.430\n>> Dang.\n\n1930\n01:21:48.430 --> 01:21:49.690\n>> And, there you go.\n\n1931\n01:21:49.690 --> 01:21:50.600\nSo, please do that.\n\n1932\n01:21:50.600 --> 01:21:54.890\nAlso, if you're happening to watch\nthis show as a recorded episode.\n\n1933\n01:21:54.890 --> 01:21:56.900\nPlease on the website.\n\n1934\n01:21:56.900 --> 01:21:59.050\nAny particular page that we have,\nwe tend to have a Q&A section.\n\n1935\n01:21:59.050 --> 01:22:00.720\nAnd you're welcome to\npost questions there.\n\n1936\n01:22:00.720 --> 01:22:01.690\nWe, again, monitor it.\n\n1937\n01:22:01.690 --> 01:22:05.360\nWe try and answer them as quickly as\nwe can and we'll do that as well.\n\n1938\n01:22:05.360 --> 01:22:05.910\nOkay.\n\n1939\n01:22:05.910 --> 01:22:07.418\nSo, take advantage of those resources.\n\n1940\n01:22:07.418 --> 01:22:10.520\nWe want to make sure that you go into the\nexam booth with answers rather than more\n\n1941\n01:22:10.520 --> 01:22:13.481\nquestions and that's the only way we\ncan actually help you out in that sense\n\n1942\n01:22:13.481 --> 01:22:14.706\n[CROSSTALK] you've got to ask.\n\n1943\n01:22:14.706 --> 01:22:15.599\nYeah.\n\n1944\n01:22:15.599 --> 01:22:18.540\nYou don't ask, we don't know,\nwe can't help you.\n\n1945\n01:22:18.540 --> 01:22:19.160\n>> Yeah, that's it.\n>> But\n\n1946\n01:22:19.160 --> 01:22:22.190\ndo take advantage of those\nresources as well, okay?\n\n1947\n01:22:22.190 --> 01:22:25.910\nAt any time, if you happen to not\nbe connected to the internet, and\n\n1948\n01:22:25.910 --> 01:22:29.590\nyou still, well not at your computer,\nyou can go to the Roku.\n\n1949\n01:22:29.590 --> 01:22:30.230\nI guess connecting,\n\n1950\n01:22:30.230 --> 01:22:34.390\nnot connecting to the internet trying to\nget to Roku is probably not going to work.\n\n1951\n01:22:34.390 --> 01:22:35.130\n>> Not as well.\n\n1952\n01:22:35.130 --> 01:22:35.810\n>> Not as well, okay.\n\n1953\n01:22:35.810 --> 01:22:40.360\nSo we do have a Roku channel as well,\nso please do watch there, as well.\n\n1954\n01:22:40.360 --> 01:22:40.980\nOkay?\n\n1955\n01:22:40.980 --> 01:22:43.970\nAs always, hey,\n\n1956\n01:22:43.970 --> 01:22:49.640\nany last parting for\npeople looking to get certified here?\n\n1957\n01:22:49.640 --> 01:22:50.210\n>> Go out there.\nAnd\n\n1958\n01:22:50.210 --> 01:22:51.940\nyou take advantage of those technet labs.\n\n1959\n01:22:51.940 --> 01:22:55.850\nAnd go through that wizard a few times,\ncause you'll probably see some questions.\n\n1960\n01:22:55.850 --> 01:22:57.120\nThey love their new technologies.\n\n1961\n01:22:57.120 --> 01:22:57.850\n>> They love it.\n>> On these exams.\n\n1962\n01:22:57.850 --> 01:23:01.730\nSo anything, anytime something's new,\nexpect to see a few questions on it.\n\n1963\n01:23:01.730 --> 01:23:04.020\nAnd you learn it by doing it over and\nover.\n\n1964\n01:23:04.020 --> 01:23:06.250\nSo repetition,\nmake sure you go out there and practice,\n\n1965\n01:23:06.250 --> 01:23:09.262\nand shoot us questions if\nyou get stuck along the way.\n\n1966\n01:23:09.262 --> 01:23:12.680\n>> All right, so\nwe're at the end of our episode,\n\n1967\n01:23:12.680 --> 01:23:14.104\nwe're glad that you joined us today.\n\n1968\n01:23:14.104 --> 01:23:15.041\nOkay.\n\n1969\n01:23:15.041 --> 01:23:15.911\nMy name is Ronnie Wong.\n\n1970\n01:23:15.911 --> 01:23:16.921\n>> And I'm Mike Rodrick.\n\n1971\n01:23:16.921 --> 01:23:17.943\n>> And we'll see you next time.\n\n1972\n01:23:17.943 --> 01:23:27.943\n[MUSIC]\n\n",
          "vimeoId": "89548901"
        }
      ],
      "title": "Configure network services and access"
    },
    {
      "episodes": [
        {
          "description": "In this episode Ronnie and Don discuss two methods for preventing undesired machines from accessing your network. They start at looking at Network Policy Server (NPS) and describe how it can be used to filter incoming dial-up and VPN connections. Then they go on to extend NPS by adding Network Access Protection (NAP) to further secure the network by ensuring clients meet a predetermined list of requirements.",
          "length": "8138",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/019-NPS-and-NAP.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/019-NPS-and-NAP-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70411/019-NPS-and-NAP-sm.jpg",
          "title": "NPS and NAP",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.387\n[SOUND]\n\n2\n00:00:02.387 --> 00:00:12.387\n[MUSIC]\n\n3\n00:00:15.146 --> 00:00:20.463\n[SOUND]\n\n4\n00:00:20.463 --> 00:00:29.844\n[MUSIC]\n\n5\n00:00:29.844 --> 00:00:32.722\n>> All right, good morning,\ngood afternoon, and good evening, and\n\n6\n00:00:32.722 --> 00:00:34.651\nwelcome back to another\nepisode of IT Pro TV.\n\n7\n00:00:34.651 --> 00:00:37.081\nI'm your host Don Pezet,\ntoday with Mr. Ronnie Wong.\n\n8\n00:00:37.081 --> 00:00:37.920\nHow's it going, Ronnie?\n\n9\n00:00:37.920 --> 00:00:39.120\n>> It is going well today.\n\n10\n00:00:39.120 --> 00:00:41.860\nWe are here for\nanother exciting episode, and Don,\n\n11\n00:00:41.860 --> 00:00:45.150\nI noticed that you are wearing\nyour Diva microphone.\n\n12\n00:00:45.150 --> 00:00:45.720\n>> I am.\n\n13\n00:00:45.720 --> 00:00:46.780\n>> I like it.\n\n14\n00:00:46.780 --> 00:00:50.580\n>> For our live viewers, I was out of the\noffice last week attending a conference,\n\n15\n00:00:50.580 --> 00:00:54.790\nand man, everybody was wearing these\n>> Fancy Britney Spears' microphone.\n\n16\n00:00:54.790 --> 00:00:55.570\n>> I like her.\n\n17\n00:00:55.570 --> 00:01:00.210\n>> So I went to Britneyspears.com and-\n>> Got the full diva set, I understand.\n\n18\n00:01:00.210 --> 00:01:03.590\n>> Signed in with my fan club\nmember account and order one.\n\n19\n00:01:03.590 --> 00:01:04.740\nSo we'll see how it goes.\n\n20\n00:01:04.740 --> 00:01:06.105\n>> My membership was rejected.\n\n21\n00:01:06.105 --> 00:01:09.000\n>> [LAUGH]\n>> I don't know why.\n\n22\n00:01:09.000 --> 00:01:12.646\n>> You were on the watch list.\n\n23\n00:01:12.646 --> 00:01:13.817\n[LAUGH] [CROSSTALK]\n>> Who knows.\n\n24\n00:01:13.817 --> 00:01:15.180\nAwesome.\n[LAUGH] Well,\n\n25\n00:01:15.180 --> 00:01:17.470\nyou know,\nfunny you should mentions talers.\n\n26\n00:01:17.470 --> 00:01:18.020\n>> Yes.\n>> Right?\n\n27\n00:01:18.020 --> 00:01:19.050\nBecause\n\n28\n00:01:19.050 --> 00:01:22.560\njust like celebrities with their stalkers,\nin a Windows network,\n\n29\n00:01:22.560 --> 00:01:24.260\noccasionally there's people\nwe need to keep out.\n\n30\n00:01:24.260 --> 00:01:24.880\n>> That's true.\n\n31\n00:01:24.880 --> 00:01:26.430\n>> People like Ronnie.\n\n32\n00:01:26.430 --> 00:01:28.285\n>> Yeah, mostly people like Ronnie.\n\n33\n00:01:28.285 --> 00:01:30.090\n[LAUGH]\n>> So wouldn't it be awesome\n\n34\n00:01:30.090 --> 00:01:34.090\nif there was some kind of functionality\nin Windows server that allowed us to\n\n35\n00:01:34.090 --> 00:01:37.260\nkeep the bad people out and\nkeep the good people in?\n\n36\n00:01:37.260 --> 00:01:38.080\n>> Yeah\n>> Now, for\n\n37\n00:01:38.080 --> 00:01:41.580\nus here when we start talking about\nWindows Server, right, we really at this\n\n38\n00:01:41.580 --> 00:01:45.850\npoint in terms of the server that we're\nlooking at is what we call an NPS, 'kay?\n\n39\n00:01:45.850 --> 00:01:47.730\nNetwork Policy Server, and\n\n40\n00:01:47.730 --> 00:01:51.530\nwe can also talk about the idea of NAP,\nNetwork Access Protection, as well.\n\n41\n00:01:51.530 --> 00:01:55.210\nThese really do function essentially as,\nas guardians for us.\n\n42\n00:01:55.210 --> 00:01:56.790\n>> At the edge of our network here,\n\n43\n00:01:56.790 --> 00:02:00.980\nthat really can help provide the idea\nof watching and then saying whether or\n\n44\n00:02:00.980 --> 00:02:03.060\nnot we want to allow people\nto be able to come in.\n\n45\n00:02:03.060 --> 00:02:04.950\nSo, it really does help tremendously.\n\n46\n00:02:04.950 --> 00:02:08.110\n>> Yeah, and these are our new names.\n\n47\n00:02:08.110 --> 00:02:09.749\nPut on really old technology.\n\n48\n00:02:09.749 --> 00:02:10.750\n>> [LAUGH] Been around.\n\n49\n00:02:10.750 --> 00:02:13.500\n>> Not old as in crappy technology,\nthough, really good stuff.\n\n50\n00:02:13.500 --> 00:02:15.090\nIt's just kind of evolved.\n\n51\n00:02:15.090 --> 00:02:18.150\nAll of this stems from a very\nold technology called RADIUS.\n\n52\n00:02:18.150 --> 00:02:18.920\nAll right?\n\n53\n00:02:18.920 --> 00:02:22.020\nRADIUS, Ronnie, do you remember\nwhat the acronym stands for?\n\n54\n00:02:22.020 --> 00:02:26.390\n>> Stands for Remote Access,\ndial-in, user service.\n\n55\n00:02:26.390 --> 00:02:27.654\n>> Awesome.\n>> [LAUGH].\n\n56\n00:02:27.654 --> 00:02:28.580\n>> [LAUGH].\n\n57\n00:02:28.580 --> 00:02:30.145\n>> I can, I can never remember.\n\n58\n00:02:30.145 --> 00:02:32.130\n>> [CROSSTALK.\n>> No, no remote authentication dial-in\n\n59\n00:02:32.130 --> 00:02:34.040\nuser service, or, access.\n\n60\n00:02:34.040 --> 00:02:35.230\n>> Yeah, [INAUDIBLE].\n>> Well, anyway.\n\n61\n00:02:35.230 --> 00:02:35.730\n>> Yup.\n>> Either way,\n\n62\n00:02:35.730 --> 00:02:39.640\nRadius is, is a technology that's been\naround since the late eighties, really,\n\n63\n00:02:39.640 --> 00:02:42.650\nand been supported in Windows for\na long, long time.\n\n64\n00:02:42.650 --> 00:02:46.310\nThe first Windows Radius server I\ndeployed was an NT four server, so\n\n65\n00:02:46.310 --> 00:02:48.160\nthat would have been 1997.\n\n66\n00:02:48.160 --> 00:02:51.240\nSo, we're talking about\nnot new technology, but\n\n67\n00:02:51.240 --> 00:02:54.450\nback then,\nRadius only did a couple of things.\n\n68\n00:02:54.450 --> 00:02:58.780\nWell, over the years, Microsoft has\ncontinued to add more and more and\n\n69\n00:02:58.780 --> 00:03:02.230\nmore features to it, and\nas they've done that, it's become so\n\n70\n00:03:02.230 --> 00:03:06.340\nmuch more than a RADIUS server, but\nthey don't really call it that anymore.\n\n71\n00:03:06.340 --> 00:03:09.720\nAnd in Windows, I think it was in\nWindows Server 2003 that they renamed it\n\n72\n00:03:09.720 --> 00:03:15.010\nthe Internet Authentication Service,\nor IAS And now, in 2008 and\n\n73\n00:03:15.010 --> 00:03:20.650\nin 2012, or 2012, whatever, it's now\ncalled network policy server, NPS,\n\n74\n00:03:20.650 --> 00:03:26.210\nand it's got a whole policy system that\ngoes way beyond what you could in radius,\n\n75\n00:03:26.210 --> 00:03:29.940\nbut deep down under the hood It is still\na fully functioning radius server.\n\n76\n00:03:29.940 --> 00:03:30.790\n>> Right.\n\n77\n00:03:30.790 --> 00:03:31.700\n>> Yeah.\n\n78\n00:03:31.700 --> 00:03:33.620\nNow if you've never worked\nwith radius before, all right?\n\n79\n00:03:33.620 --> 00:03:34.550\nIf you've never heard of it before.\n\n80\n00:03:34.550 --> 00:03:35.340\n>> Yeah.\n\n81\n00:03:35.340 --> 00:03:42.475\n>> What it's designed to be is a generic\none size fits all authentication server.\n\n82\n00:03:42.475 --> 00:03:43.050\n>> Mm-hm.\n\n83\n00:03:43.050 --> 00:03:46.650\n>> So if you have UNIX boxes and\nLinux boxes and\n\n84\n00:03:46.650 --> 00:03:51.360\nWindows and you know,\ndial up hardware and Cisco switches and\n\n85\n00:03:51.360 --> 00:03:55.390\nrouters, Juniper firewalls,\nyou have all of these different devices.\n\n86\n00:03:55.390 --> 00:03:59.910\nHow can you make them all authenticate\nagainst the same database, right?\n\n87\n00:03:59.910 --> 00:04:01.050\nWell, you can't.\n\n88\n00:04:01.050 --> 00:04:02.460\nAt least not out of the box.\n\n89\n00:04:02.460 --> 00:04:05.560\n>> But\nall of those vendors support radius.\n\n90\n00:04:05.560 --> 00:04:08.210\nRadius is a standard,\nanybody can support it.\n\n91\n00:04:08.210 --> 00:04:11.800\nIt's, it's a you know, it's a, it's not,\nI want to say open source, but\n\n92\n00:04:11.800 --> 00:04:12.360\nthat's not\n>> Yeah.\n\n93\n00:04:12.360 --> 00:04:12.950\n>> The right term.\n\n94\n00:04:12.950 --> 00:04:14.420\nIt, it's just, it's freely available.\n\n95\n00:04:14.420 --> 00:04:18.950\n>> Yeah, and so, anybody can design their\nsoftware to be compatible with it and\n\n96\n00:04:18.950 --> 00:04:20.460\nalmost everyone does.\n\n97\n00:04:20.460 --> 00:04:24.780\nSo, if you have a radius server, it can\nbe attached to your active directory.\n\n98\n00:04:24.780 --> 00:04:27.020\nIt can be attached to your\nlocal Windows database.\n\n99\n00:04:27.020 --> 00:04:32.220\nIt can be attached to OpenLDAP or NIS+ or\nwhatever your directory service is,\n\n100\n00:04:32.220 --> 00:04:35.350\nand it can allow all these clients\nto authenticate against it, so\n\n101\n00:04:35.350 --> 00:04:38.750\nit gives you that one\ndatabase Same user name and\n\n102\n00:04:38.750 --> 00:04:41.030\npassword used across all\nthese different systems.\n\n103\n00:04:41.030 --> 00:04:43.790\n>> Yeah,\nyou really see Radius deployed a lot.\n\n104\n00:04:43.790 --> 00:04:47.755\nOkay, you actually see a lot of businesses\nwill have this, especially when people\n\n105\n00:04:47.755 --> 00:04:51.395\nhave devices that they need to\nbring access to the network here.\n\n106\n00:04:51.395 --> 00:04:54.705\nInstead of having to create entries\non their own internal database,\n\n107\n00:04:54.705 --> 00:04:58.555\nthey use the idea of RADIUS to really help\nto provide that authentication that they\n\n108\n00:04:58.555 --> 00:05:02.015\nneed, and the other benefit behind the\nidea of RADIUS, of course, is that it not\n\n109\n00:05:02.015 --> 00:05:05.557\nonly provides the authentication, but\nauthorization and accounting as well.\n\n110\n00:05:05.557 --> 00:05:06.453\nYup.\n\n111\n00:05:06.453 --> 00:05:09.067\n>> And you can see this in\nsome of our other shows.\n\n112\n00:05:09.067 --> 00:05:11.900\n>> Yup\n>> I know in the CCNA security show,\n\n113\n00:05:11.900 --> 00:05:12.470\nRyan you and I,\n\n114\n00:05:12.470 --> 00:05:16.020\nwe did how to set up a Cisco router\nto authenticate against a radius box.\n\n115\n00:05:16.020 --> 00:05:20.190\nI dont know that we, in Linux plus,\nwe'll talk about it there.\n\n116\n00:05:20.190 --> 00:05:21.221\nWe haven't filmed that yet.\n\n117\n00:05:21.221 --> 00:05:22.930\n>> Right.\n>> But in some of the other shows we've\n\n118\n00:05:22.930 --> 00:05:24.900\nalready tackled the radius a bit.\n\n119\n00:05:24.900 --> 00:05:28.850\nIn Windows, well in Windows if\nyou had a Windows 8 machine and\n\n120\n00:05:28.850 --> 00:05:31.850\na Windows Server 2012 machine,\ndo you need radius?\n\n121\n00:05:31.850 --> 00:05:34.530\n>> No.\n>> No, they do their ldap authentication\n\n122\n00:05:34.530 --> 00:05:38.210\nor Kerberos just right between\nthe client and the server.\n\n123\n00:05:38.210 --> 00:05:42.945\nSo they don't really need that piece, but\nwhen you start bringing in remote systems.\n\n124\n00:05:42.945 --> 00:05:44.260\n>> Mm-hm.\n>> Systems that are not necessarily part\n\n125\n00:05:44.260 --> 00:05:47.640\nof your domain, or\nthat are using unusual connection methods.\n\n126\n00:05:47.640 --> 00:05:49.640\n>> Right.\n>> Then that's where radius comes in\n\n127\n00:05:49.640 --> 00:05:54.170\nhandy, and we can use it.Now if radius\nwere still the same way it were back in\n\n128\n00:05:54.170 --> 00:05:56.280\nthe 80s, primarily used for dial up.\n\n129\n00:05:56.280 --> 00:05:58.560\nWe wouldn't be learning about\nit right now, right, but\n\n130\n00:05:58.560 --> 00:06:01.750\nMicrosoft has added some\nreally cool stuff to it, so\n\n131\n00:06:01.750 --> 00:06:06.080\nthat we can use it in conjunction\nwith vpns and other access methods.\n\n132\n00:06:06.080 --> 00:06:08.390\nAnd we can use it to determine whether or\n\n133\n00:06:08.390 --> 00:06:11.550\nnot somebody should be allowed\nto connect to our system.\n\n134\n00:06:11.550 --> 00:06:12.570\n>> Yeah.\n\n135\n00:06:12.570 --> 00:06:14.590\n>> Right.\nBy default if I bring up a Windows\n\n136\n00:06:14.590 --> 00:06:15.360\nvpn server right.\n\n137\n00:06:15.360 --> 00:06:18.340\nWe covered that in the vpn episodes\nhow to send up the routing and\n\n138\n00:06:18.340 --> 00:06:20.770\nremote access of the vpn server.\n\n139\n00:06:20.770 --> 00:06:25.960\nWhen you do that, the default is that\nas long as somebody has permissions,\n\n140\n00:06:25.960 --> 00:06:29.030\nthey can VPN in, and it's no big deal,\nright, and anybody can VPN in,\n\n141\n00:06:29.030 --> 00:06:34.480\nbut with a network policy server, we can\nstart to impose things like time limits.\n\n142\n00:06:34.480 --> 00:06:41.010\nWe can say, you can VPN in between 8 a.m,\nand 5 p.m., Monday through Friday, right.\n\n143\n00:06:41.010 --> 00:06:44.976\nOr you can VPN in,\nif you're in this Windows group.\n\n144\n00:06:44.976 --> 00:06:50.060\nOr, you can VPN if you're\non a Windows 8 machine but\n\n145\n00:06:50.060 --> 00:06:51.740\nnot on a Windows 7 machine, right?\n\n146\n00:06:51.740 --> 00:06:55.640\nYou can get really specific;\nthese policies can define\n\n147\n00:06:55.640 --> 00:07:00.320\nall sorts of neat stuff that dictates\nwhether you're allowed to connect or not.\n\n148\n00:07:00.320 --> 00:07:04.530\n>> And so that makes it much easier then,\nto actually have these policy servers.\n\n149\n00:07:04.530 --> 00:07:08.530\nThat we can set out there on the edge\nof our network, to allow us to control\n\n150\n00:07:08.530 --> 00:07:13.010\nwhat devices specifically want to come in,\nthe timing and everything else here.\n\n151\n00:07:13.010 --> 00:07:15.450\nYou can't ask for\nmore in a single package, really.\n\n152\n00:07:15.450 --> 00:07:17.110\nIt really is a lot, yeah.\n\n153\n00:07:17.110 --> 00:07:20.650\nYou could ask him,\nyou just wouldn't get an answer.\n\n154\n00:07:20.650 --> 00:07:21.430\n>> Yeah.\n[LAUGH]\n\n155\n00:07:21.430 --> 00:07:22.860\n>> So, it's really cool,\n\n156\n00:07:22.860 --> 00:07:23.960\nit's a part of Windows.\n\n157\n00:07:23.960 --> 00:07:25.070\n>> Yup.\n>> It's a part of Windows,\n\n158\n00:07:25.070 --> 00:07:27.070\na Windows server called standard edition.\n\n159\n00:07:27.070 --> 00:07:29.200\nSo, you don't even need to\ngo enterprise to get it.\n\n160\n00:07:29.200 --> 00:07:30.560\nIt's there.\n\n161\n00:07:30.560 --> 00:07:35.510\nThere are some limitations in standard\nedition, as opposed to like Enterprise,\n\n162\n00:07:35.510 --> 00:07:39.520\nbut for the most part everything that\nthe normal user is going to need is there.\n\n163\n00:07:39.520 --> 00:07:40.960\nSo, it's built in.\n\n164\n00:07:40.960 --> 00:07:46.280\nIt can be a very simple deployment or\nit can be much more complex, all right.\n\n165\n00:07:46.280 --> 00:07:49.822\nIn the VPN episode, when we brought\nup that remote access server,\n\n166\n00:07:49.822 --> 00:07:51.664\nit was actually running NPS also.\n\n167\n00:07:51.664 --> 00:07:55.187\nIt's installed as part of that role,\nright, so even though we weren't\n\n168\n00:07:55.187 --> 00:07:58.495\nspecifically learning about that\ntechnology, it was installed.\n\n169\n00:07:58.495 --> 00:08:00.075\nBut it had a very simple rule.\n\n170\n00:08:00.075 --> 00:08:03.823\nIt had one policy that said,\non that user account,\n\n171\n00:08:03.823 --> 00:08:08.830\nif they have allowed dial in\npermissions set, allow them in.\n\n172\n00:08:08.830 --> 00:08:13.550\nIf they don't have allowed dial in\npermissions, don't let them in.\n\n173\n00:08:13.550 --> 00:08:15.240\nRonnie, do you have a server pulled up?\n\n174\n00:08:15.240 --> 00:08:17.010\nCould you pull up a user account and\n\n175\n00:08:17.010 --> 00:08:18.050\nshow them-\n>> Sure.\n\n176\n00:08:18.050 --> 00:08:19.500\n>> that setting?\n\n177\n00:08:19.500 --> 00:08:21.490\nIt's an easily overlooked setting.\n\n178\n00:08:21.490 --> 00:08:23.260\nAnd I know we highlighted\nit in that episode,\n\n179\n00:08:23.260 --> 00:08:26.810\nbecause on a user account, when you're\npulling up the user properties,\n\n180\n00:08:26.810 --> 00:08:30.320\nthere's these various tabs,\nand one of tabs says, Dial In.\n\n181\n00:08:30.320 --> 00:08:32.050\nAnd people look at that and\nthey say, Dial In?\n\n182\n00:08:32.050 --> 00:08:32.770\nWhat is this-\n>> Yeah.\n\n183\n00:08:32.770 --> 00:08:33.376\n>> 1992?\n\n184\n00:08:33.376 --> 00:08:34.535\nAnd just ignore it.\n\n185\n00:08:34.535 --> 00:08:35.534\nBut it's not just Dial In.\n\n186\n00:08:35.534 --> 00:08:37.524\nIt's used for V P N, also.\n\n187\n00:08:37.524 --> 00:08:40.320\nAnd it's a very simple setting\nthat has three values.\n\n188\n00:08:40.320 --> 00:08:46.670\nOne says, permit, deny, it might be allow\nand deny but we'll see in a second.\n\n189\n00:08:46.670 --> 00:08:49.560\nAnd the third one is not defined.\n\n190\n00:08:49.560 --> 00:08:53.916\nIt says use the policy server, whatever\nthe policy server says, let that apply.\n\n191\n00:08:53.916 --> 00:08:58.175\nRonnie's pulling up my user account,\nand there's that Dial In tab,\n\n192\n00:08:58.175 --> 00:08:59.410\nup there at the top.\n\n193\n00:09:00.931 --> 00:09:04.040\nAnd right there at the top,\nNetwork Access Permission.\n\n194\n00:09:04.040 --> 00:09:09.790\nDo we allow, or deny, or do we\ncontrol access through an N P S host.\n\n195\n00:09:09.790 --> 00:09:14.700\nWell, when we build up a V P N server,\nit has N P S, and it has a policy,\n\n196\n00:09:14.700 --> 00:09:18.160\nit's got one policy on it that says,\nlook at what's set here.\n\n197\n00:09:18.160 --> 00:09:18.800\nAll right?\n\n198\n00:09:18.800 --> 00:09:22.610\nIf it's set the way that it is right now,\nnobody will be able to V P N in.\n\n199\n00:09:22.610 --> 00:09:26.200\nBut if you flag somebody to allow access,\nthey're now allowed to V P N in.\n\n200\n00:09:26.200 --> 00:09:28.850\nIf you set them to deny access,\nthey're now blocked.\n\n201\n00:09:28.850 --> 00:09:31.830\nAll right, but that's it,\nvery, very simple.\n\n202\n00:09:31.830 --> 00:09:32.790\nYes, or no.\n\n203\n00:09:32.790 --> 00:09:35.010\nEither allow them, or don't, but\n\n204\n00:09:35.010 --> 00:09:39.280\nif we wanna get really granular, setting\ntimes, group memberships, stuff like that.\n\n205\n00:09:39.280 --> 00:09:43.020\nAll of these other criteria, we need\nthe third setting which is the default.\n\n206\n00:09:43.020 --> 00:09:45.420\nAnd that says you will use an N P S.\n\n207\n00:09:45.420 --> 00:09:46.532\nAnd in the N P S server,\n\n208\n00:09:46.532 --> 00:09:50.123\nyou will define policies that determine\nwho can connect and who can't.\n\n209\n00:09:50.123 --> 00:09:51.590\nAll right.\n\n210\n00:09:51.590 --> 00:09:56.950\nSo, that's kind of the high\nlevel overview of N P S.\n\n211\n00:09:56.950 --> 00:09:58.330\nLet's take a deeper look.\n\n212\n00:09:58.330 --> 00:10:00.285\nNow this morning I was a little bored.\n\n213\n00:10:00.285 --> 00:10:01.580\n>> [LAUGH]\n>> I have these moments.\n\n214\n00:10:01.580 --> 00:10:06.990\nAnd I whipped up a Visio diagram to kind\nof show what all can be involved in N P S.\n\n215\n00:10:06.990 --> 00:10:08.540\nBecause N P S can be very simple.\n\n216\n00:10:08.540 --> 00:10:10.275\nBut it can also be very complex.\n\n217\n00:10:10.275 --> 00:10:11.992\nIn the V P N episode, we did N P S and\n\n218\n00:10:11.992 --> 00:10:15.445\nthat was the simple one where we\ndidn't even have to configure it.\n\n219\n00:10:15.445 --> 00:10:17.125\nJust the defaults were fine.\n\n220\n00:10:17.125 --> 00:10:19.885\nBut let's say that we want\na more advanced solution, right?\n\n221\n00:10:19.885 --> 00:10:21.625\nLet's pull up my diagram here.\n\n222\n00:10:22.817 --> 00:10:26.077\nAll right, so what I drew,\nand I didn't label it, but\n\n223\n00:10:26.077 --> 00:10:30.637\nbasically I drew a LAN,\na local area network, right here.\n\n224\n00:10:30.637 --> 00:10:32.527\nSo this would be like a private company.\n\n225\n00:10:32.527 --> 00:10:36.043\nRight, you got your local area network and\nall the various systems that are on there.\n\n226\n00:10:36.043 --> 00:10:38.003\nAnd then you've got remote users.\n\n227\n00:10:38.003 --> 00:10:42.173\nPeople who are out in the field,\nmaybe they're at their home office,\n\n228\n00:10:42.173 --> 00:10:47.263\nthey're at a hotel, they're somewhere\nnot here and they need to connect in.\n\n229\n00:10:47.263 --> 00:10:49.253\nThere's two primary methods for that.\n\n230\n00:10:49.253 --> 00:10:52.323\nThere's dial-up,\nwhich hopefully you're not using.\n\n231\n00:10:52.323 --> 00:10:54.493\nAnd then there's V P N,\nvirtual private network.\n\n232\n00:10:54.493 --> 00:10:56.993\nBut you can build over\nan internet broadband connection,\n\n233\n00:10:56.993 --> 00:10:59.320\nand that's what most of\nus are going to use.\n\n234\n00:10:59.320 --> 00:11:03.150\nAnd I still mention dial-up because,\nwhile a lot of us think dial-up is dead,\n\n235\n00:11:03.150 --> 00:11:05.890\nit is still used out there\nbecause of its reliability.\n\n236\n00:11:05.890 --> 00:11:11.480\nThe example I used in another show is\nif you're an insurance company and\n\n237\n00:11:11.480 --> 00:11:16.580\na hurricane blows through an area, and\nyou need to send people out there to do\n\n238\n00:11:16.580 --> 00:11:19.970\nadjustments or whatever, well,\nwhen they get out there,\n\n239\n00:11:19.970 --> 00:11:23.530\ntelephone service's critical\ninfrastructure it'll be restored first.\n\n240\n00:11:23.530 --> 00:11:25.830\nBut things like broadband, cable Internet,\n\n241\n00:11:25.830 --> 00:11:26.550\nwhatever-\n>> [LAUGH]\n\n242\n00:11:26.550 --> 00:11:28.610\n>> That's not priority infrastructure, so\n\n243\n00:11:28.610 --> 00:11:30.490\nit's not going to be restored right away.\n\n244\n00:11:30.490 --> 00:11:34.260\nSo, if you have dial-up, if you can just\nfind a phone line somewhere, you can dial\n\n245\n00:11:34.260 --> 00:11:38.050\ninto your home office and get a low\nbandwidth connection, but it's reliable.\n\n246\n00:11:38.050 --> 00:11:40.550\nSo it is still used, it's still out there.\n\n247\n00:11:40.550 --> 00:11:41.050\n>> Nice.\n\n248\n00:11:42.680 --> 00:11:46.580\n>> When those users V P N in,\nlet's just use V P N as our example.\n\n249\n00:11:46.580 --> 00:11:48.206\nIf client three here V P Ns in,\n\n250\n00:11:48.206 --> 00:11:51.860\nthey're going to V P N into a remote\naccess server on your network.\n\n251\n00:11:52.920 --> 00:11:55.360\nWe did this in the V P N episode, and\n\n252\n00:11:55.360 --> 00:11:58.890\nwe just kind of went with some of\nthe defaults on it, which means\n\n253\n00:11:58.890 --> 00:12:03.320\nthat that V P N server, that that remote\naccess server, is actually running N P S.\n\n254\n00:12:03.320 --> 00:12:06.790\nIt's running a network policy server, and\nwe just went with the default policy.\n\n255\n00:12:06.790 --> 00:12:07.540\nAll right.\n\n256\n00:12:07.540 --> 00:12:12.640\nIn that scenario, the Remote Access Server\njust turns around and talks to\n\n257\n00:12:12.640 --> 00:12:16.490\nthe Active Directory to find out whether\nor not somebody should be allowed in.\n\n258\n00:12:16.490 --> 00:12:19.450\nAnd if they are,\nthey're allowed in and off they go.\n\n259\n00:12:19.450 --> 00:12:21.160\nIf they're not allowed, they get blocked.\n\n260\n00:12:21.160 --> 00:12:22.370\nAnd that's basically it, right?\n\n261\n00:12:22.370 --> 00:12:25.350\nThat's the simplest\nimplementation of N P S.\n\n262\n00:12:26.440 --> 00:12:29.830\nBut in a large environment,\nyou're gonna need redundancy.\n\n263\n00:12:29.830 --> 00:12:32.790\nYou're gonna need more than\none V P N server, right?\n\n264\n00:12:32.790 --> 00:12:34.720\nWhat if this server fails right here?\n\n265\n00:12:34.720 --> 00:12:37.150\nIf it fails, nobody can V P N in.\n\n266\n00:12:37.150 --> 00:12:37.683\n>> Right.\n\n267\n00:12:37.683 --> 00:12:41.501\n>> Wouldn't it be nice if\nI had a second server,\n\n268\n00:12:41.501 --> 00:12:44.323\nif I had two V P N servers in place?\n\n269\n00:12:44.323 --> 00:12:47.976\nAnd that way people could V P N into,\nyou know,\n\n270\n00:12:47.976 --> 00:12:52.320\nmaybe I had vpn1.itpro.tv and\nvpn2.itpro.tv.\n\n271\n00:12:52.320 --> 00:12:57.930\nSo i've got a primary, and if it fails,\nthey can try the secondary.\n\n272\n00:12:57.930 --> 00:13:01.200\nBut, I don't want to have to\nconfigure some policies here,\n\n273\n00:13:01.200 --> 00:13:02.610\nand other policies here.\n\n274\n00:13:02.610 --> 00:13:05.820\nYou make a change on one,\nyou gotta make a change on another.\n\n275\n00:13:05.820 --> 00:13:10.350\nAnd so, what we can use is\nwhat's called a radius proxy.\n\n276\n00:13:10.350 --> 00:13:13.220\nA radius proxy is where you\nhave a remote access server,\n\n277\n00:13:13.220 --> 00:13:17.320\nlike this guy who doesn't\nmake his own decisions.\n\n278\n00:13:17.320 --> 00:13:21.800\nThat these outside clients connect in,\nso I get somebody like client three here\n\n279\n00:13:21.800 --> 00:13:26.970\nconnects in, and then that remote\naccess server says, hang on a minute,\n\n280\n00:13:26.970 --> 00:13:29.830\nlet me go find out whether or\nnot you should be able to get in.\n\n281\n00:13:29.830 --> 00:13:34.050\nAnd it reaches out to a central\nnetwork policy server.\n\n282\n00:13:35.170 --> 00:13:38.190\nAnd that server,\nit's practically running radius.\n\n283\n00:13:38.190 --> 00:13:41.644\nIt will say, yes,\nlet the user in, or no, don't.\n\n284\n00:13:41.644 --> 00:13:43.175\nAnd it will reply back, and\n\n285\n00:13:43.175 --> 00:13:46.647\nthat remote access server is\nthen able to make that decision.\n\n286\n00:13:46.647 --> 00:13:49.714\nBecause we have\na centralized N P S server,\n\n287\n00:13:49.714 --> 00:13:53.250\nbecause we have this-\n>> Mm-hm.\n\n288\n00:13:53.250 --> 00:13:58.895\n>> Radius server in the middle, we can\nhave one, or 5, or 10, or 50 remote access\n\n289\n00:13:58.895 --> 00:14:04.220\nservers, you know all these guys up\nhere and they'll all follow the exact\n\n290\n00:14:04.220 --> 00:14:08.910\nsame configuration cause they're all\nchecking in with that centralized N P S.\n\n291\n00:14:08.910 --> 00:14:11.756\nSo this is a little more complex,\nit's not hard to set up at all.\n\n292\n00:14:11.756 --> 00:14:12.340\n>> Nope.\n\n293\n00:14:12.340 --> 00:14:14.630\n>> It's very, very easy to set up.\n\n294\n00:14:14.630 --> 00:14:17.350\nIn fact,\nwhen you run the V P N wizard up here,\n\n295\n00:14:17.350 --> 00:14:19.000\nit's just one of\nthe choices in the wizard.\n\n296\n00:14:19.000 --> 00:14:22.650\nIt says, do you want to do\nyour own authentication, or\n\n297\n00:14:22.650 --> 00:14:24.300\ndo you want to proxy to another server?\n\n298\n00:14:24.300 --> 00:14:26.900\nAnd if you choose that proxy\nto another server option,\n\n299\n00:14:26.900 --> 00:14:28.680\nyou just give it the host\nname of that other server.\n\n300\n00:14:28.680 --> 00:14:30.110\nThat's it, I mean super simple.\n\n301\n00:14:30.110 --> 00:14:31.560\n>> Yeah.\n>> Dead simple to configure.\n\n302\n00:14:31.560 --> 00:14:35.210\nAnd then you have one place to\nconfigure your rules and requirements,\n\n303\n00:14:35.210 --> 00:14:35.740\nand all that stuff.\n\n304\n00:14:35.740 --> 00:14:36.570\nJust one place to go.\n\n305\n00:14:37.870 --> 00:14:38.640\nAll right.\n\n306\n00:14:38.640 --> 00:14:42.960\nNow, that N P S server is then\ngoing to start making decisions.\n\n307\n00:14:42.960 --> 00:14:45.875\nAnd it's making decisions\nbased on all sorts of stuff.\n\n308\n00:14:45.875 --> 00:14:50.550\nWith the V P N,\nif you're just doing user authentication,\n\n309\n00:14:50.550 --> 00:14:53.670\nthen it's turning around and\nchecking with the active directory,\n\n310\n00:14:53.670 --> 00:14:57.150\nlooking there to validate whether or\nnot somebody's credentials are correct.\n\n311\n00:14:57.150 --> 00:14:59.790\nIf you're doing certificate\nbased authentication,\n\n312\n00:14:59.790 --> 00:15:02.980\nit's what's reaching out to the C A,\nthe certification authority,\n\n313\n00:15:02.980 --> 00:15:06.690\nto verify that your certificate is valid\nand not tampered with and all of that.\n\n314\n00:15:07.810 --> 00:15:09.866\nAnd if you're issuing D H C P addresses,\n\n315\n00:15:09.866 --> 00:15:12.050\nthen in turn it may be\nreaching out to that.\n\n316\n00:15:12.050 --> 00:15:16.240\nAlthough, more commonly, the remote access\nservers will reach there directly, and\n\n317\n00:15:16.240 --> 00:15:18.040\nsnag a pool of addresses.\n\n318\n00:15:18.040 --> 00:15:21.090\nAnd you might have noticed this, I don't\nknow if we highlighted it in the other\n\n319\n00:15:21.090 --> 00:15:25.210\nepisode, but the way these remote\naccess servers work, if they're set to\n\n320\n00:15:25.210 --> 00:15:29.580\nuse a D H C P server, they reach out and\nthey grab a pool of ten addresses.\n\n321\n00:15:29.580 --> 00:15:32.520\nAnd then they start handing out the\naddresses one by one, and when they run\n\n322\n00:15:32.520 --> 00:15:35.120\nout of that batch of ten, they turn around\nand they grab another batch of ten.\n\n323\n00:15:35.120 --> 00:15:37.905\nSo they're grabbing them ten at a time and\nthen handing them out.\n\n324\n00:15:37.905 --> 00:15:40.889\nSo these guys will normally be\nsitting on a pool of ten addresses,\n\n325\n00:15:40.889 --> 00:15:42.747\nready to hand them out to their clients.\n\n326\n00:15:42.747 --> 00:15:43.483\n>> Nice.\n\n327\n00:15:43.483 --> 00:15:47.911\n>> So\nthis is an example of a N P S topology.\n\n328\n00:15:47.911 --> 00:15:50.939\nNow, we don't have to have\nall these components.\n\n329\n00:15:50.939 --> 00:15:56.478\nIn fact, if you're a small business,\nYou likely don't have any of these.\n\n330\n00:15:56.478 --> 00:15:57.221\nRight?\n\n331\n00:15:57.221 --> 00:16:03.274\nYou likely have just a remote access\nserver that is your MPS that's doing both.\n\n332\n00:16:03.274 --> 00:16:03.960\nRight?\n\n333\n00:16:03.960 --> 00:16:06.290\nYour policies are defined there and\n\n334\n00:16:06.290 --> 00:16:10.570\nit just communicates directly with\nthe active directory for authentication.\n\n335\n00:16:10.570 --> 00:16:13.050\nYou probably don't do\ncertificates in a small business,\n\n336\n00:16:13.050 --> 00:16:16.780\nbecause well managing a CA\nis kinda a hassle, but\n\n337\n00:16:16.780 --> 00:16:20.272\nin a large enterprise,\nthis does not give you flexibility.\n\n338\n00:16:20.272 --> 00:16:20.785\n>> Yeah.\n>> Right?\n\n339\n00:16:20.785 --> 00:16:22.650\nYou got a single point of failure,\n\n340\n00:16:22.650 --> 00:16:26.800\nyou are requiring username and\npasswords which are easy to discover\n\n341\n00:16:26.800 --> 00:16:29.880\nversus certificates that\ncan easily be expired.\n\n342\n00:16:29.880 --> 00:16:32.120\nThere's a lot of negatives to this, and so\n\n343\n00:16:32.120 --> 00:16:37.360\nin an enterprise environment,\nwe have a lot more infrastructure.\n\n344\n00:16:37.360 --> 00:16:40.660\nSo, these are some of the components that\nare involved in an NPS, kind of the way\n\n345\n00:16:40.660 --> 00:16:44.500\nthat it functions, just remember\nthat you can hear different terms,\n\n346\n00:16:44.500 --> 00:16:49.390\nthings like radius, routing and remote\naccess, internet authentication services,\n\n347\n00:16:49.390 --> 00:16:53.690\nnetwork policy server It's really\nfour names for the same thing.\n\n348\n00:16:53.690 --> 00:16:58.490\nIs this service that has evolved over\nthe years inside of Microsoft Windows.\n\n349\n00:16:58.490 --> 00:17:01.960\nSo, if you're on a Windows\nserver 2012 R 2 machine.\n\n350\n00:17:01.960 --> 00:17:04.990\nYes, you'll see MPS, and that's what\nyou're going to work in, but you start\n\n351\n00:17:04.990 --> 00:17:08.140\ngoing back through the days, you'll start\nto see some of the old terminology.\n\n352\n00:17:08.140 --> 00:17:10.330\nSo, in the real world,\nyou might see different terms.\n\n353\n00:17:10.330 --> 00:17:13.220\n>> Yeah, and remember that\nthis is only one setup of it.\n\n354\n00:17:13.220 --> 00:17:15.650\nIf you actually go, there's much more,\n\n355\n00:17:15.650 --> 00:17:18.390\nin terms of many different types of\nradio servers that are out there.\n\n356\n00:17:18.390 --> 00:17:19.820\nBut since we're focusing in on Windows,\n\n357\n00:17:19.820 --> 00:17:23.020\nwe're going to actually focus in on the\nconfiguration here on this one instead.\n\n358\n00:17:23.020 --> 00:17:23.800\n>> Yeah.\n\n359\n00:17:23.800 --> 00:17:24.620\n>> Yup.\n\n360\n00:17:24.620 --> 00:17:28.940\n>> All right, so one of the things that I\nwant to mention is that when you connect\n\n361\n00:17:28.940 --> 00:17:31.540\nup, when you're VPN-ing in, or whatever.\n\n362\n00:17:31.540 --> 00:17:34.780\nThere's this term called\na radius client and\n\n363\n00:17:34.780 --> 00:17:40.020\nI want to be clear as to who that client\nis because it's easy to get confused.\n\n364\n00:17:40.020 --> 00:17:45.250\nLet me bring up my diagram again,\nhere we go, all right see how I've got\n\n365\n00:17:45.250 --> 00:17:49.098\nthose laptops up at the top and they're\nlabeled Client 1, Client 2, and Client 3?\n\n366\n00:17:49.098 --> 00:17:53.960\nWhen they VPNing,\nwhen they connect into the system and\n\n367\n00:17:53.960 --> 00:17:58.350\nthey're remoting in It's easy to think of\nthem as the client, because that's where\n\n368\n00:17:58.350 --> 00:18:03.060\nour end user sits, but\nthey are not the radius client, all right?\n\n369\n00:18:03.060 --> 00:18:06.620\nInstead, if we're doing\na proxy type solution,\n\n370\n00:18:06.620 --> 00:18:10.920\nwhere this remote access server then\nreaches out to that central one\n\n371\n00:18:10.920 --> 00:18:16.050\nit's actually this remote access\nserver right here that's the client.\n\n372\n00:18:16.050 --> 00:18:18.280\nIt's reaching out to a RADIUS server.\n\n373\n00:18:18.280 --> 00:18:21.460\nOur laptops out there, they're not\nreaching out to a radius sever,\n\n374\n00:18:21.460 --> 00:18:22.860\nthey're reaching out to a VPN server.\n\n375\n00:18:22.860 --> 00:18:25.540\nThey're trying to VPN in,\nthey don't even know about radius.\n\n376\n00:18:25.540 --> 00:18:26.210\nAll right?\n\n377\n00:18:26.210 --> 00:18:29.250\nSo, the radius client is whoever is\n\n378\n00:18:29.250 --> 00:18:32.310\ndirectly authenticating\nagainst the radius server.\n\n379\n00:18:32.310 --> 00:18:34.380\nWhere it gets really confusing?\n\n380\n00:18:34.380 --> 00:18:36.150\nLet's go back to that small\nbusiness model, right?\n\n381\n00:18:36.150 --> 00:18:38.360\nLet's pretend I don't\nhave any of this stuff.\n\n382\n00:18:38.360 --> 00:18:43.930\nSo, I've got this remote access server\nright here and it's running NPS?\n\n383\n00:18:43.930 --> 00:18:48.300\nWell it is a radius client and\na radius server.\n\n384\n00:18:48.300 --> 00:18:52.950\nIt's talking to itself, so\nit's schizophrenic or something.\n\n385\n00:18:52.950 --> 00:18:57.670\nIt probably needs to seek clinical help,\nbut it is actually both, the client and\n\n386\n00:18:57.670 --> 00:18:58.590\nthe server at that point.\n\n387\n00:18:58.590 --> 00:19:04.140\nSo, mere terminology, but if you see\nradius client mentioned on the exam,\n\n388\n00:19:04.140 --> 00:19:07.270\nthey are not talking about\nthese laptops out here.\n\n389\n00:19:07.270 --> 00:19:11.060\nIt's actually a very rare scenario\nwhere the laptop would be the client.\n\n390\n00:19:11.060 --> 00:19:15.070\nSo, it's almost always\nthe remote access server,\n\n391\n00:19:15.070 --> 00:19:20.706\ntalking to a radius server somewhere else.\n\n392\n00:19:20.706 --> 00:19:23.645\nOkay, so\nthat's pretty much the high light.\n\n393\n00:19:23.645 --> 00:19:25.530\nRonnie, can you think\nof anything I left out?\n\n394\n00:19:25.530 --> 00:19:30.650\n>> No, not really not in terms of\njust a gander at our template here.\n\n395\n00:19:30.650 --> 00:19:33.940\n>> Let me just take a peek\nat our objective here.\n\n396\n00:19:33.940 --> 00:19:35.990\nCertificates we talked about a little bit.\n\n397\n00:19:35.990 --> 00:19:39.920\nThe only thing mentioned here to\nworry about is the radius accounting.\n\n398\n00:19:39.920 --> 00:19:43.930\nSo, radius, it provides three things.\n\n399\n00:19:43.930 --> 00:19:48.880\nSo you hear, Cisco refers to this\ntype of technology as triple A.\n\n400\n00:19:48.880 --> 00:19:52.450\nAuthentication, authorization,\nand accounting.\n\n401\n00:19:52.450 --> 00:19:57.510\nSo authentication, that means verifying\na user is who they say they are.\n\n402\n00:19:57.510 --> 00:19:58.320\nRight?\n\n403\n00:19:58.320 --> 00:20:02.280\nIf I give you my username and password and\nit was right, you know that I am me or\n\n404\n00:20:02.280 --> 00:20:04.150\nsomebody who has stolen\nmy current address.\n\n405\n00:20:04.150 --> 00:20:05.238\n>> That's right.\n[LAUGH]\n\n406\n00:20:05.238 --> 00:20:07.035\n>> So that's authentication,\n\n407\n00:20:07.035 --> 00:20:10.580\nauthorization, once you are connected,\nwhat are you allowed to do?\n\n408\n00:20:10.580 --> 00:20:14.070\nRight, what are you authorized\nto do on the network?\n\n409\n00:20:14.070 --> 00:20:17.110\nNow radius is terrible for\nauthorization, right?\n\n410\n00:20:17.110 --> 00:20:18.900\nRadius basically just says.\n\n411\n00:20:18.900 --> 00:20:20.890\nYou can connect or\nno you can't connect right?\n\n412\n00:20:20.890 --> 00:20:24.420\nSo, radius is not very powerful or\nthat but mps is.\n\n413\n00:20:24.420 --> 00:20:28.620\nWe'll see a little bit later IP filters\nand mps lets you control everything.\n\n414\n00:20:28.620 --> 00:20:32.325\nYou can see you can communicate to\nthis one server from eight to five,\n\n415\n00:20:32.325 --> 00:20:34.325\nyou can communicate to this\nother server 24 hours a day.\n\n416\n00:20:34.325 --> 00:20:37.545\nI mean you can get super specific\nwith this stuff, so it makes up for\n\n417\n00:20:37.545 --> 00:20:42.045\nthe short comings of radius, but the third\na, right so we have authentication,\n\n418\n00:20:42.045 --> 00:20:47.380\nauthorization the third a is accounting,\nand radius is awesome for accounting.\n\n419\n00:20:47.380 --> 00:20:51.790\nIt can record who connected when,\nhow long they stayed connected,\n\n420\n00:20:51.790 --> 00:20:54.260\nwhat servers they accessed\nwhile they were connected.\n\n421\n00:20:54.260 --> 00:20:56.970\nThis is all information that\ncan be collected and stored.\n\n422\n00:20:56.970 --> 00:20:58.160\nAll right?\n\n423\n00:20:58.160 --> 00:20:59.310\nFunny thing though?\n\n424\n00:20:59.310 --> 00:21:00.495\nIt doesn't do it by default.\n\n425\n00:21:00.495 --> 00:21:02.560\n>> [LAUGH]\n>> By default if we turn it on,\n\n426\n00:21:02.560 --> 00:21:04.130\nit doesn't do any accounting.\n\n427\n00:21:04.130 --> 00:21:09.340\nWell, It does the log in accounting,\nso you do see when people log in, but,\n\n428\n00:21:09.340 --> 00:21:14.010\nwe can crank it up as high as we need\nto get super detailed logs, because\n\n429\n00:21:14.010 --> 00:21:17.685\nthis all stems from back in the old days,\nthe old internet service provider days.\n\n430\n00:21:17.685 --> 00:21:20.895\nDays where you'd sign up for\nan internet service, and Ronnie,\n\n431\n00:21:20.895 --> 00:21:21.705\nI'm sure you did this.\n\n432\n00:21:21.705 --> 00:21:23.355\nWhere they say like you\nget 100 minutes a month.\n\n433\n00:21:23.355 --> 00:21:24.055\n>> Right.\n>> Right.\n\n434\n00:21:24.055 --> 00:21:24.815\n>> Yeah.\n\n435\n00:21:24.815 --> 00:21:26.480\n>> How did they know you\nused your 100 minutes?\n\n436\n00:21:26.480 --> 00:21:27.879\n>> [CROSSTALK] in the accounting.\n\n437\n00:21:27.879 --> 00:21:31.430\n>> And when you did hit 100 minutes,\nhow did they know to cut off your account?\n\n438\n00:21:31.430 --> 00:21:33.810\nIt was the accounting\nthat radius provided.\n\n439\n00:21:33.810 --> 00:21:35.800\nThey almost always used radius.\n\n440\n00:21:35.800 --> 00:21:39.450\nSo, that's where this technology stems\nfrom, but we can use it ourselves\n\n441\n00:21:39.450 --> 00:21:42.140\nto see who was connected when,\nhow long they stayed connected.\n\n442\n00:21:42.140 --> 00:21:45.380\nAre people actually doing the work they\nsay they're doing, that kind of stuff?\n\n443\n00:21:45.380 --> 00:21:48.870\nSo, it's all buried away in there,\nand it's pretty easy to turn on.\n\n444\n00:21:48.870 --> 00:21:52.070\nThere's a little wizard you run through\nto turn on radius accounting and\n\n445\n00:21:52.070 --> 00:21:53.270\nget it set up.\n\n446\n00:21:53.270 --> 00:21:55.940\nIt logs to the event log by default.\n\n447\n00:21:55.940 --> 00:21:58.650\nThat can be bad because event logs\nare not really space optimized.\n\n448\n00:21:58.650 --> 00:22:01.070\nThey're binary files\nthat grow really fast.\n\n449\n00:22:01.070 --> 00:22:03.870\nSo, you can choose to dump\nto text files instead.\n\n450\n00:22:03.870 --> 00:22:04.790\nMy favorite?\n\n451\n00:22:04.790 --> 00:22:06.400\nHook up to a sequel database.\n\n452\n00:22:06.400 --> 00:22:09.900\nYeah, if you jump to a sequel database,\nyou can query it, you can pull information\n\n453\n00:22:09.900 --> 00:22:14.230\nback, extremely useful, and now that\nMicrosoft makes their sequel express free,\n\n454\n00:22:14.230 --> 00:22:16.280\nand all that,\nthere's really no reason not to do that.\n\n455\n00:22:16.280 --> 00:22:17.120\n>> Right.\n>> So, if you're going to do\n\n456\n00:22:17.120 --> 00:22:21.550\nextensive accounting,\nbring in a sequel server.\n\n457\n00:22:21.550 --> 00:22:22.697\nAll right.\nSo Ronnie,\n\n458\n00:22:22.697 --> 00:22:28.010\nwe're probably at the spot where we can\njust jump in and show them NPS in action.\n\n459\n00:22:28.010 --> 00:22:30.400\nWe've got about five minutes\nleft in the segment, though.\n\n460\n00:22:30.400 --> 00:22:32.640\nShould we stop and take a break first,\nor what do you think?\n\n461\n00:22:32.640 --> 00:22:35.140\n>> We can at least start the process,\nbecause we need to install\n\n462\n00:22:35.140 --> 00:22:36.040\n>> We need to install the roll!\n\n463\n00:22:36.040 --> 00:22:37.250\nLet's go ahead and get started then.\n\n464\n00:22:37.250 --> 00:22:38.530\n>> All right!\n\n465\n00:22:38.530 --> 00:22:43.060\nSo over on my machine,\nI've brought up a VM here,\n\n466\n00:22:43.060 --> 00:22:45.840\na virtual machine for us, and\nI went ahead and just did this on\n\n467\n00:22:45.840 --> 00:22:49.900\nthe domain controller to kind of save\nthe space more than anything else here.\n\n468\n00:22:49.900 --> 00:22:50.860\nThat's what I've done.\n\n469\n00:22:50.860 --> 00:22:53.940\nSo we're adding in a brand new role and\nfeature here.\n\n470\n00:22:53.940 --> 00:22:57.110\nI went ahead and got it a little\nbit setup at this point, and,\n\n471\n00:22:57.110 --> 00:23:01.960\nof course, you are going to take your time\nand read through all this material here.\n\n472\n00:23:01.960 --> 00:23:04.730\nOkay?\n>> And just to clarify real quick,\n\n473\n00:23:04.730 --> 00:23:08.330\nin labs and stuff, deploying this on\na domain controller works perfectly fine.\n\n474\n00:23:08.330 --> 00:23:08.940\nRight?\n\n475\n00:23:08.940 --> 00:23:12.930\nBut in real life land, the remote access\nserver's going to sit on the edge.\n\n476\n00:23:12.930 --> 00:23:15.180\n>> Edge of your network,\nlike in my diagram, and\n\n477\n00:23:15.180 --> 00:23:17.210\nit's not something you necessarily\nwant to expose to the internet.\n\n478\n00:23:17.210 --> 00:23:21.420\nSo just be, be aware on the exam\nyou'll normally see ' separated out.\n\n479\n00:23:21.420 --> 00:23:21.923\n>> Yeah.\n>> Right,\n\n480\n00:23:21.923 --> 00:23:24.987\nso you'll see separate NPS, but\nyou know we don't want to bring up\n\n481\n00:23:24.987 --> 00:23:25.680\ntwenty V\n>> Yeah.\n\n482\n00:23:25.680 --> 00:23:26.550\n>> So.\n\n483\n00:23:26.550 --> 00:23:27.340\n>> Yeah.\n\n484\n00:23:27.340 --> 00:23:30.110\nJust a limited amount of ram\nwe have is where it comes in.\n\n485\n00:23:30.110 --> 00:23:33.660\nAnd we are going to select the first\noption here, of course the role based\n\n486\n00:23:33.660 --> 00:23:37.940\nfeature in installation here and I am\ngoing to go ahead and click next, maybe.\n\n487\n00:23:39.260 --> 00:23:40.716\n>> Try and click next.\n\n488\n00:23:40.716 --> 00:23:45.411\n>> And of course we are going to do it on\nthis particular server, but notice here in\n\n489\n00:23:45.411 --> 00:23:49.845\nserver 2012 of course You can pick\nfrom a whole list of what you can do.\n\n490\n00:23:49.845 --> 00:23:52.202\nAll right?\n\n491\n00:23:52.202 --> 00:23:55.140\nAll, right, now,\nunder the server roles, this is nice,\n\n492\n00:23:55.140 --> 00:23:59.700\nwhere all of the sudden,\nwhat we have here is of course,\n\n493\n00:23:59.700 --> 00:24:02.525\nwhere it says network policy and\naccess services here.\n\n494\n00:24:02.525 --> 00:24:03.250\nOkay?\nAnd\n\n495\n00:24:03.250 --> 00:24:06.130\nso, once we select this we're\ngonna actually get some other\n\n496\n00:24:06.130 --> 00:24:07.900\nroles that we can install on here.\n\n497\n00:24:07.900 --> 00:24:11.130\nAnd this is all about the idea\nof supporting the feature set.\n\n498\n00:24:11.130 --> 00:24:12.510\nSo we want to actually change that.\n\n499\n00:24:12.510 --> 00:24:13.720\n>> Hang on right there, Ronnie.\n\n500\n00:24:13.720 --> 00:24:14.820\n>> Sure.\n\n501\n00:24:14.820 --> 00:24:17.630\n>> You'll notice when he highlights\nthat network policy and access service\n\n502\n00:24:17.630 --> 00:24:20.520\non the right, it kind of gives us\nthe breakdown of what's included in that,\n\n503\n00:24:20.520 --> 00:24:23.100\nand it's listing all sorts of\nstuff we haven't talked about.\n\n504\n00:24:23.100 --> 00:24:23.620\n>> Yep.\n\n505\n00:24:23.620 --> 00:24:26.060\n>> Right?\nHealth registration authorities,\n\n506\n00:24:26.060 --> 00:24:27.590\nHost credential authorization protocol.\n\n507\n00:24:27.590 --> 00:24:28.550\n>> Yeah.\n>> All this stuff.\n\n508\n00:24:28.550 --> 00:24:29.690\nThat's part of NAP.\n\n509\n00:24:29.690 --> 00:24:30.890\n>> Right.\n>> Network Access Protection.\n\n510\n00:24:30.890 --> 00:24:32.780\nAnd we're going to talk about\nthat later in the episode.\n\n511\n00:24:32.780 --> 00:24:33.540\nSo if you're wondering where\n\n512\n00:24:33.540 --> 00:24:34.580\nthese terms are coming from-\n>> Yeah.\n\n513\n00:24:34.580 --> 00:24:35.870\n>> That's what it is.\n\n514\n00:24:35.870 --> 00:24:40.360\n>> And once we actually select that\nsupporting features and those roles here.\n\n515\n00:24:40.360 --> 00:24:43.910\nSo it's whatever NAP or NPS needs to run.\n\n516\n00:24:43.910 --> 00:24:46.240\nWe'll go ahead and click next and\n\n517\n00:24:46.240 --> 00:24:50.620\nthen it focuses in on what this\nparticular server actually does.\n\n518\n00:24:50.620 --> 00:24:52.040\nAnd it tells you how you can deploy it and\n\n519\n00:24:52.040 --> 00:24:53.970\nyou notice there's that term RADIUS for\nus.\n\n520\n00:24:53.970 --> 00:24:57.040\nSo it was remote authentication\ndial in user services have access,\n\n521\n00:24:57.040 --> 00:24:59.150\nI think, so there it is.\n\n522\n00:24:59.150 --> 00:25:00.766\n>> You got it right the second time.\n\n523\n00:25:00.766 --> 00:25:01.373\n[LAUGH]\n>> Yeah, it only took\n\n524\n00:25:01.373 --> 00:25:02.450\na couple of times here.\n\n525\n00:25:02.450 --> 00:25:05.680\nAnd it also is gonna talk\nabout NAP a little bit, and\n\n526\n00:25:05.680 --> 00:25:06.910\nwhat it does to help us out here.\n\n527\n00:25:08.010 --> 00:25:10.580\nAnd this is where we can actually\npick what we want to install.\n\n528\n00:25:10.580 --> 00:25:14.580\nWe're just gonna do the basic network\npolicy server at this point here.\n\n529\n00:25:14.580 --> 00:25:17.330\nWe're not gonna worry about this since\nwe've actually got a couple of other\n\n530\n00:25:17.330 --> 00:25:18.090\nthings we can do.\n\n531\n00:25:20.090 --> 00:25:23.050\nAnd then I like putting this\ncheck in case it needs a restart.\n\n532\n00:25:23.050 --> 00:25:26.190\nI don't know if it actually does or\nnot but I'll go ahead and\n\n533\n00:25:26.190 --> 00:25:28.220\nnow just install the roll.\n\n534\n00:25:28.220 --> 00:25:31.150\nAnd so, in a moment here it's\ngonna continue to install.\n\n535\n00:25:31.150 --> 00:25:36.420\nAnd then over on my server manager,\nof course, it will now list that NPS,\n\n536\n00:25:36.420 --> 00:25:42.310\nactually it lists as an NAC server,\nor a Network Access Server.\n\n537\n00:25:42.310 --> 00:25:43.260\nThat's what it does NAP, NAP.\n\n538\n00:25:43.260 --> 00:25:44.765\nI couldn't remember what it's called.\n\n539\n00:25:44.765 --> 00:25:46.210\n>> [LAUGH]\n>> So it's actually listed as NAP.\n\n540\n00:25:46.210 --> 00:25:49.502\nI don't know why but it's listed as\nNAP over here on the left hand side.\n\n541\n00:25:49.502 --> 00:25:53.530\n>> Yeah, and\nthat's the main reason they're doing that,\n\n542\n00:25:53.530 --> 00:25:56.570\nRonnie, is Microsoft is really\npushing NAP as a technology.\n\n543\n00:25:56.570 --> 00:25:58.000\n>> Right.\n>> It wants you to use that.\n\n544\n00:25:58.000 --> 00:26:01.410\nSo, in, in their eyes, hey if you're\ngoing through the trouble to deploy\n\n545\n00:26:01.410 --> 00:26:01.950\nNPS,\n>> [LAUGH]\n\n546\n00:26:01.950 --> 00:26:03.490\n>> You probably want to do NAP also and\n\n547\n00:26:03.490 --> 00:26:04.645\nto be honest with you, in real life.\n\n548\n00:26:04.645 --> 00:26:06.120\n>> Yeah.\n>> I probably would do that.\n\n549\n00:26:06.120 --> 00:26:09.335\nBut, I want us to cover just NPS first.\n\n550\n00:26:09.335 --> 00:26:11.090\n>> Yeah.\n>> So we get a good understanding of how\n\n551\n00:26:11.090 --> 00:26:16.230\nit works before we add the complexity of\nNAP because it is a lot more complex.\n\n552\n00:26:16.230 --> 00:26:18.700\nIn fact, while that's rebooting\n>> Right.\n\n553\n00:26:18.700 --> 00:26:21.210\n>> Let's go back to my diagram for\na second, of this thing.\n\n554\n00:26:21.210 --> 00:26:26.050\nSo, so here's my NPS diagram, and you can\nsee all the things that are involved.\n\n555\n00:26:26.050 --> 00:26:29.470\nWhen we go to my NAP diagram,\nyou'll see there's a lot more components.\n\n556\n00:26:29.470 --> 00:26:31.460\nIt is a lot more complex topology.\n\n557\n00:26:31.460 --> 00:26:34.440\nSo for small businesses,\nwe're not going to be using NAP.\n\n558\n00:26:34.440 --> 00:26:36.200\n>> Right.\n>> It's just going to be too much.\n\n559\n00:26:36.200 --> 00:26:38.830\nBut for enterprises,\nthere's a lot of value here.\n\n560\n00:26:38.830 --> 00:26:40.356\nSo we'll get a chance to see that.\n\n561\n00:26:40.356 --> 00:26:41.330\n>> Yeah, all right.\n\n562\n00:26:41.330 --> 00:26:43.400\nAnd that for\nus is really the basic installation,\n\n563\n00:26:43.400 --> 00:26:45.440\nonce it boots back up we're gonna,\nof course,\n\n564\n00:26:45.440 --> 00:26:49.585\ndive in to the actual NPS server,\nand talk about the configuration.\n\n565\n00:26:49.585 --> 00:26:51.075\nThe basic configuration of it as well.\n\n566\n00:26:51.075 --> 00:26:52.435\n>> Right.\n>> I'm gonna show you how that works.\n\n567\n00:26:52.435 --> 00:26:55.045\n>> Well that's probably a pretty good spot\nfor us to stop and take a break then.\n\n568\n00:26:55.045 --> 00:26:57.715\nSo while his server's rebooting and\nthen we'll get back into that.\n\n569\n00:26:57.715 --> 00:26:59.588\nIt'll be a change for\nus to get those configured.\n\n570\n00:26:59.588 --> 00:27:00.834\n>> Right.\n>> And, and take a stab at,\n\n571\n00:27:00.834 --> 00:27:02.444\nat getting some policies in place, so.\n\n572\n00:27:02.444 --> 00:27:02.979\n>> Mm-hm, sounds good.\n\n573\n00:27:02.979 --> 00:27:04.223\n>> All right, so ladies and\ngentlemen, stay tuned.\n\n574\n00:27:04.223 --> 00:27:06.906\nWhen we get back, more NPS after this.\n\n575\n00:27:06.906 --> 00:27:10.686\n[SOUND] All right,\n\n576\n00:27:10.686 --> 00:27:16.234\nwelcome back everybody.\n\n577\n00:27:16.234 --> 00:27:19.465\nSo Ronnie, during the break he\ngot his systems all rebooted.\n\n578\n00:27:19.465 --> 00:27:21.240\n>> Right.\n>> And we're ready to continue on.\n\n579\n00:27:21.240 --> 00:27:25.050\nFor those of you just tuning in,\nwe had really not done a ton.\n\n580\n00:27:25.050 --> 00:27:25.680\n>> Nope.\n>> We just-\n\n581\n00:27:25.680 --> 00:27:26.630\n>> Just installed the roll.\n\n582\n00:27:26.630 --> 00:27:29.650\n>> Install the, I'm about to say the NPS,\nwell, it is the NPS roll.\n\n583\n00:27:29.650 --> 00:27:32.590\n>> Yeah.\n>> So we installed NPS roll and rebooted.\n\n584\n00:27:32.590 --> 00:27:34.110\n>> Yep.\n>> So that, that's where we are at.\n\n585\n00:27:34.110 --> 00:27:34.890\n>> Yeah.\n\n586\n00:27:34.890 --> 00:27:38.160\nSo once it actually reboots and\nI had to log back in and,\n\n587\n00:27:38.160 --> 00:27:40.085\nand get everything ready here.\n\n588\n00:27:40.085 --> 00:27:40.860\nOkay?\n\n589\n00:27:40.860 --> 00:27:46.936\nI went ahead and got access into\nthe NPS server itself as well.\n\n590\n00:27:46.936 --> 00:27:47.740\nOkay?\n\n591\n00:27:47.740 --> 00:27:51.830\nNow, there's a couple of things we do need\nto make sure we setup as we start this.\n\n592\n00:27:51.830 --> 00:27:55.920\nOne thing that we can talk about is the\nidea of registering NPS with the active\n\n593\n00:27:55.920 --> 00:27:56.605\ndirectory here.\n\n594\n00:27:56.605 --> 00:27:59.152\nOkay?\nAnd I know that there's many methods to\n\n595\n00:27:59.152 --> 00:27:59.855\ndoing it.\n\n596\n00:27:59.855 --> 00:28:03.945\nThe easiest method is\nright-clicking [LAUGH] and\n\n597\n00:28:03.945 --> 00:28:06.815\nthen selecting Register\nin Active Directory.\n\n598\n00:28:06.815 --> 00:28:08.455\nWhat does this really do, Don?\n\n599\n00:28:08.455 --> 00:28:10.825\n>> So this is, it's very similar to DHCP.\n\n600\n00:28:10.825 --> 00:28:12.515\nRight?\nA DHCP server,\n\n601\n00:28:12.515 --> 00:28:16.295\na Windows one, will not issue addresses\nuntil you register it with the active\n\n602\n00:28:16.295 --> 00:28:18.340\ndirectory to make its service known.\n\n603\n00:28:18.340 --> 00:28:20.940\nWell NPS is kind of the same way.\n\n604\n00:28:20.940 --> 00:28:24.820\nNPS will not be allow to connect to\nanother NPS server like the proxy config.\n\n605\n00:28:24.820 --> 00:28:27.300\nAnd it won't be allowed to\nauthenticate against the AD,\n\n606\n00:28:27.300 --> 00:28:28.995\nuntil you register it with the AD.\n\n607\n00:28:28.995 --> 00:28:31.210\n>> Yeah,\n>> You do need to be an administrator on\n\n608\n00:28:31.210 --> 00:28:32.155\nthe machine to do this.\n\n609\n00:28:32.155 --> 00:28:34.600\n>> Yeah.\n>> And it's a real simple process.\n\n610\n00:28:34.600 --> 00:28:38.120\nBut, it's just stopping people from\nbringing up rogue authentication servers.\n\n611\n00:28:38.120 --> 00:28:40.200\nBecause then they could attempt\nbrute force passwords and\n\n612\n00:28:40.200 --> 00:28:42.193\nstuff to a server that\nthey control the logs on.\n\n613\n00:28:42.193 --> 00:28:43.130\n>> Yeah.\n>> That'd be a bad thing.\n\n614\n00:28:43.130 --> 00:28:46.780\n>> Yeah, so we do want to make sure\nthat we go ahead and register this.\n\n615\n00:28:46.780 --> 00:28:50.080\nAnd then of course it says to enable it,\nto authenticate it, the computers\n\n616\n00:28:50.080 --> 00:28:55.210\nrunning NPS must be authorized to read\nuser's dial in properties from the domain.\n\n617\n00:28:55.210 --> 00:28:57.250\nYou wanna wish to actually do this?\n\n618\n00:28:57.250 --> 00:28:58.510\nYes, let's go ahead and do it.\n\n619\n00:28:58.510 --> 00:29:01.190\n>> Yeah, and that's going back to the\nsetting we talked about the first segment\n\n620\n00:29:01.190 --> 00:29:04.820\nof the show,\nis the NPS server needs to be able to look\n\n621\n00:29:04.820 --> 00:29:08.920\nat everyone's user accounts and see what\ntheir dial in permissions were set to.\n\n622\n00:29:08.920 --> 00:29:12.710\nWere they set to allow, deny or use MPS.\n\n623\n00:29:12.710 --> 00:29:13.210\nRight?\nSo\n\n624\n00:29:13.210 --> 00:29:15.830\nwe just need to be able to read\nthe active directory property and\n\n625\n00:29:15.830 --> 00:29:18.270\nthat's what we just gave it, or\nattribute is the official word.\n\n626\n00:29:18.270 --> 00:29:21.120\nRight?\nSo every user account is an object in\n\n627\n00:29:21.120 --> 00:29:23.720\nthe active directory,\nin the really container, and\n\n628\n00:29:23.720 --> 00:29:27.792\nthey contain attributes, the dial in\nsettings are a particular attribute.\n\n629\n00:29:27.792 --> 00:29:30.320\n>> All right, now a lot of times,\n\n630\n00:29:30.320 --> 00:29:34.900\nwhen we're actually ready to set up\nthe idea of radius here working for us.\n\n631\n00:29:34.900 --> 00:29:39.090\nWe can go in and we can manually actually\ncreate every single set up that we have,\n\n632\n00:29:39.090 --> 00:29:41.410\nincluding, of course,\nadding in user name, and\n\n633\n00:29:41.410 --> 00:29:45.380\nthe name of the RADIUS service here,\nand we can create those individually.\n\n634\n00:29:45.380 --> 00:29:48.190\nBut the good thing is,\nwe can also set up a template.\n\n635\n00:29:48.190 --> 00:29:51.870\nIf we are going to be setting\nup the idea of a radius proxy,\n\n636\n00:29:51.870 --> 00:29:53.720\nthe best way to do this\nis create a template.\n\n637\n00:29:53.720 --> 00:29:56.560\nAnd that's what we're going to do here,\nat least with the password.\n\n638\n00:29:56.560 --> 00:29:57.340\n>> Yeah, absolutely,\n\n639\n00:29:57.340 --> 00:30:00.680\nthe templates help us to ensure that\nwe have consistency across the servers.\n\n640\n00:30:00.680 --> 00:30:02.430\nRemember the example from\nthe first segment was,\n\n641\n00:30:02.430 --> 00:30:05.970\nwhat if I want more than\none remote access server?\n\n642\n00:30:05.970 --> 00:30:08.360\nHow do I make sure they're\nall configured the same way?\n\n643\n00:30:08.360 --> 00:30:11.170\nIf I use a template each time,\nthen I'm covered.\n\n644\n00:30:11.170 --> 00:30:12.670\n>> Then they're all configured the same,\n\n645\n00:30:12.670 --> 00:30:16.900\nand you can easily spawn new servers\nif you need to grow your servers out.\n\n646\n00:30:16.900 --> 00:30:19.425\nYou know, as you add more and\nmore customers or employees or whatever.\n\n647\n00:30:19.425 --> 00:30:22.598\n>> Now the nice thing about the servers.\n\n648\n00:30:22.598 --> 00:30:24.510\nRight?\nIs that you have this navigation panel on\n\n649\n00:30:24.510 --> 00:30:27.000\nthe left hand side and\nall the details on the right hand side.\n\n650\n00:30:27.000 --> 00:30:29.090\nA little bit more focus that you can have.\n\n651\n00:30:29.090 --> 00:30:34.120\nBut if I expand that tree out or that\nbranch out there underneath templates.\n\n652\n00:30:34.120 --> 00:30:38.190\nI have the same things that you see\nunder here as what we see over here.\n\n653\n00:30:38.190 --> 00:30:38.750\nOkay?\n\n654\n00:30:38.750 --> 00:30:42.000\nSo it just depends on the way that you\nwant to actually go about doing it, or\n\n655\n00:30:42.000 --> 00:30:44.320\nat least set up the idea of\nthe shared secret template here.\n\n656\n00:30:44.320 --> 00:30:45.620\nOkay?\n\n657\n00:30:45.620 --> 00:30:47.250\nSo I'm just gonna click on Shared Secret.\n\n658\n00:30:48.350 --> 00:30:50.940\nAnd from there it's gonna ask you\nto launch me into this place and\n\n659\n00:30:50.940 --> 00:30:53.700\nthis is the only place where I know\nlike right clicking really doesn't work.\n\n660\n00:30:53.700 --> 00:30:54.392\nRight?\n>> [LAUGH]\n\n661\n00:30:54.392 --> 00:30:55.990\n>> So I right-click and it doesn't work.\n\n662\n00:30:55.990 --> 00:30:58.960\nAnd I literally have to actually\ngo underneath shared secrets,\n\n663\n00:30:58.960 --> 00:31:03.890\non the left hand side, and\nthen I can select new, and\n\n664\n00:31:03.890 --> 00:31:07.660\nat this point if I'm going to be\nsetting up a connection between me as\n\n665\n00:31:07.660 --> 00:31:11.150\na radius server and\nthe client that's gonna connect in.\n\n666\n00:31:11.150 --> 00:31:14.140\nI need to give it a name here in terms\nof the secret that we're gonna use.\n\n667\n00:31:14.140 --> 00:31:15.120\nOkay?\n\n668\n00:31:15.120 --> 00:31:16.900\nSo, I'm just gonna call it IT Pro Radius.\n\n669\n00:31:16.900 --> 00:31:18.680\nI don't know what else.\n\n670\n00:31:18.680 --> 00:31:21.740\n>> Yeah, and\nremember these templates are optional.\n\n671\n00:31:21.740 --> 00:31:23.390\nYou don't have to use the templates.\n\n672\n00:31:23.390 --> 00:31:23.960\n>> Nope.\n>> But\n\n673\n00:31:23.960 --> 00:31:27.000\nif we're going to use the same shared\nsecret across multiple servers.\n\n674\n00:31:27.000 --> 00:31:28.645\nWhich we probably don't want to do.\n\n675\n00:31:28.645 --> 00:31:30.250\n>> Yeah.\n>> But if we want to go separate for\n\n676\n00:31:30.250 --> 00:31:34.070\neach one there's not a whole lot of\npoint in creating templates because\n\n677\n00:31:34.070 --> 00:31:35.260\neach one is different.\n\n678\n00:31:35.260 --> 00:31:37.365\nBut if we're using the same\none across the servers.\n\n679\n00:31:37.365 --> 00:31:40.335\nWe define it once and then we can\njust attach that multiple times.\n\n680\n00:31:40.335 --> 00:31:43.609\nAnd if you look at the other templates\nin the list like RADIUS clients.\n\n681\n00:31:43.609 --> 00:31:46.552\nSo again, configuring what types of\nclients are connecting, cuz if they're\n\n682\n00:31:46.552 --> 00:31:49.819\nWindows, you really don't have to do it,\nbut if they're Cisco or whatever, you do.\n\n683\n00:31:49.819 --> 00:31:50.747\n>> Right.\n\n684\n00:31:50.747 --> 00:31:52.594\nA remote radius server.\n\n685\n00:31:52.594 --> 00:31:57.225\nSo, if there's other radius servers and\nthey're gonna be the proxy model,\n\n686\n00:31:57.225 --> 00:31:58.020\nIP filters.\n\n687\n00:31:58.020 --> 00:32:00.920\nActually, the last view,\nwe'll talk about more later on, right?\n\n688\n00:32:00.920 --> 00:32:03.480\nIP filters help policies and\nremediation server groups.\n\n689\n00:32:03.480 --> 00:32:04.525\nThat's all part of, of NAP.\n\n690\n00:32:04.525 --> 00:32:06.030\n>> Mm-hm, yeah.\n\n691\n00:32:06.030 --> 00:32:07.710\nSo, for us,\nwe have two choices here, right?\n\n692\n00:32:07.710 --> 00:32:11.400\nWe can type in a password, and we can\nask when does to generate a password.\n\n693\n00:32:11.400 --> 00:32:12.120\n>> It's always fun.\n\n694\n00:32:12.120 --> 00:32:13.820\n>> Yeah.\nThis generation is kind of neat, here.\n\n695\n00:32:13.820 --> 00:32:14.950\nI like seeing it at least.\n\n696\n00:32:14.950 --> 00:32:18.410\nI'm going to select generate and\nthat is a long key.\n\n697\n00:32:18.410 --> 00:32:18.990\n>> Yeah.\n\n698\n00:32:18.990 --> 00:32:20.480\n>> That is huge.\n\n699\n00:32:20.480 --> 00:32:21.030\n>> Yeah.\n\n700\n00:32:21.030 --> 00:32:23.960\n>> But the nice thing about this is it\ngives me this little warning here, and\n\n701\n00:32:23.960 --> 00:32:25.250\nit tells me something.\n\n702\n00:32:25.250 --> 00:32:29.420\nEven though some radius servers will\naccept a super long key, you might\n\n703\n00:32:29.420 --> 00:32:32.960\nactually realize that you may be working\nwith older radius servers that may not.\n\n704\n00:32:32.960 --> 00:32:34.340\nSo, it's kind of giving you a warning.\n\n705\n00:32:34.340 --> 00:32:35.550\nSo, I'm not going to do that.\n\n706\n00:32:35.550 --> 00:32:38.660\nI know that ours is going to do fine, but-\n>> If you are using\n\n707\n00:32:38.660 --> 00:32:39.980\nWindows servers, they're fine.\n\n708\n00:32:39.980 --> 00:32:44.350\nThey accept the long password but\nit's when you're tying in other systems.\n\n709\n00:32:44.350 --> 00:32:46.570\nCisco or Juniper or Shiva or whatever.\n\n710\n00:32:46.570 --> 00:32:48.830\nThose guys might not\nsupport that long password.\n\n711\n00:32:48.830 --> 00:32:49.950\n>> Yeah.\n\n712\n00:32:49.950 --> 00:32:53.180\nAll right, so that is just and\nexample of setting up a template.\n\n713\n00:32:53.180 --> 00:32:57.460\nNot exactly difficult for us here,\nbut it really can help save time if\n\n714\n00:32:57.460 --> 00:33:00.360\nyou were gonna do something like that,\nand get that set up.\n\n715\n00:33:00.360 --> 00:33:02.190\nAgain, if you're actually setting up for\n\n716\n00:33:02.190 --> 00:33:05.470\nmultiple servers it may save\nyou a little bit of time.\n\n717\n00:33:05.470 --> 00:33:10.400\nSo, getting the service registered\nafter it comes up is key.\n\n718\n00:33:10.400 --> 00:33:14.510\nSetting up a template, not so\nmuch essential, but a nice thing for\n\n719\n00:33:14.510 --> 00:33:18.660\nus to be able to do, and\nbe able to use across multiple servers.\n\n720\n00:33:18.660 --> 00:33:22.790\nAt this point, we can go ahead and\nbegin to configure, to accept, well,\n\n721\n00:33:22.790 --> 00:33:26.130\nthe idea of somebody trying\nto use this as radius, right?\n\n722\n00:33:26.130 --> 00:33:26.770\nOkay?\n\n723\n00:33:26.770 --> 00:33:30.472\nSo, I'm gonna come up here underneath\nwhere it says radiant excuse.\n\n724\n00:33:30.472 --> 00:33:38.340\nRadius, radiant, radius client, and\nalso remote radius server groups, right?\n\n725\n00:33:38.340 --> 00:33:40.770\nSo, we have two options here, right?\n\n726\n00:33:40.770 --> 00:33:43.250\nThe radius client is pretty much\nthe one that we're going to do, but\n\n727\n00:33:43.250 --> 00:33:47.290\nwe also have this one where it also allows\nme, it says remote radius server groups\n\n728\n00:33:47.290 --> 00:33:49.850\nallow you to specify where to\nforward the connection request\n\n729\n00:33:49.850 --> 00:33:54.160\nwhen a local NPS server is\nconfigured as a radios proxy here.\n\n730\n00:33:54.160 --> 00:33:57.080\nSo, this was the situation that\nwe were just talking about.\n\n731\n00:33:57.080 --> 00:34:02.250\n>> Yeah, let's go back to my diagram,\nhere, and basically what you do is,\n\n732\n00:34:02.250 --> 00:34:06.000\nif you are in the process of\nsetting up this guy right here,\n\n733\n00:34:06.000 --> 00:34:09.970\nthe center one,\nyou would define multiple clients.\n\n734\n00:34:09.970 --> 00:34:13.060\nYou would say here's one client,\nhere's another client.\n\n735\n00:34:13.060 --> 00:34:16.050\nSo you would have to define\ntwo clients on this server.\n\n736\n00:34:16.050 --> 00:34:17.080\n>> All right.\n\n737\n00:34:17.080 --> 00:34:19.520\nIf you are in the process\nof setting up this guy,\n\n738\n00:34:19.520 --> 00:34:25.210\nyou would set one remote radius server,\nwhich would be this guy, down here, right.\n\n739\n00:34:25.210 --> 00:34:28.280\nSo, it's the two different\nsides of the spectrum.\n\n740\n00:34:28.280 --> 00:34:31.770\nThis guy is gonna have\nclients that connect to him.\n\n741\n00:34:31.770 --> 00:34:34.620\nThese guys are gonna have\nremote radius servers.\n\n742\n00:34:34.620 --> 00:34:37.210\nIn this case the same server\nthat they reach out to, right?\n\n743\n00:34:37.210 --> 00:34:39.620\nSo, it just depends on which side\nof that leg you're setting up.\n\n744\n00:34:39.620 --> 00:34:43.850\nNow if you've only got one server,\nthen the server can\n\n745\n00:34:43.850 --> 00:34:47.510\nautomatically be a client of itself so\nyou don't have to do either of these.\n\n746\n00:34:47.510 --> 00:34:49.700\nIt is kind of automatically in there.\n\n747\n00:34:49.700 --> 00:34:51.640\nIt acts as the client and server.\n\n748\n00:34:51.640 --> 00:34:53.950\nSo, it's really just when you have\nmultiple servers that you need to come in\n\n749\n00:34:53.950 --> 00:34:54.640\nand do this.\n\n750\n00:34:54.640 --> 00:34:55.140\nYup.\n\n751\n00:34:56.180 --> 00:35:00.150\n>> So, I'm just gonna go ahead and\nconfigure the first option, here.\n\n752\n00:35:00.150 --> 00:35:04.980\nConfigure the RADIUS client at this point,\nand it looks like I already\n\n753\n00:35:04.980 --> 00:35:09.780\nconfigured on here a little bit earlier,\nbut let's go ahead and do this instead.\n\n754\n00:35:09.780 --> 00:35:13.000\nIf you were having to manually\ncreate one you would right click and\n\n755\n00:35:13.000 --> 00:35:17.560\ngo to new, and it is here that\nyou would fill out this list.\n\n756\n00:35:17.560 --> 00:35:20.750\nI don't know if it's gonna balk if I\ncreate one with the same name of not.\n\n757\n00:35:20.750 --> 00:35:23.160\nLet me get rid of this earlier one then.\n\n758\n00:35:23.160 --> 00:35:25.290\nJust in case it does.\n\n759\n00:35:25.290 --> 00:35:30.190\n>> And the neat point here is that if\nyou uninstall a roll from a server,\n\n760\n00:35:30.190 --> 00:35:32.480\nit oftentimes leaves\nthe configuration behind, and so\n\n761\n00:35:32.480 --> 00:35:36.000\nwhen you bring the roll back in, it picks\nup some of those configuration options,\n\n762\n00:35:36.000 --> 00:35:37.600\nso that does happen.\n\n763\n00:35:37.600 --> 00:35:38.190\n>> Yeah.\n\n764\n00:35:38.190 --> 00:35:41.930\nSo, I'm going to right click on\nradius clients and go to new, and\n\n765\n00:35:41.930 --> 00:35:47.650\nthen it is here that we can actually go\nahead and enable a radius client as well.\n\n766\n00:35:47.650 --> 00:35:50.670\nNow notice it's actually a little bit\ngreat how it says select a template.\n\n767\n00:35:50.670 --> 00:35:53.580\nSo, I had already set up\na radius client template.\n\n768\n00:35:53.580 --> 00:35:57.010\nI could just go ahead and select that\nexisting template, drop it down, and\n\n769\n00:35:57.010 --> 00:35:59.470\nit fills out the rest of this form for me.\n\n770\n00:35:59.470 --> 00:36:00.180\nOkay?\n\n771\n00:36:00.180 --> 00:36:02.440\nBut at this point here, though,\nI'm going to go ahead and\n\n772\n00:36:02.440 --> 00:36:04.090\nattach the friendly name so\n\n773\n00:36:04.090 --> 00:36:08.450\nthe other server that I'm actually going\nto use is one that I called Winrtr here.\n\n774\n00:36:08.450 --> 00:36:13.110\nFor a router, and then under here\nI'm going to do the same thing.\n\n775\n00:36:13.110 --> 00:36:18.370\nThen 2012 RTR, and\nI'm going to select verify\n\n776\n00:36:20.170 --> 00:36:23.010\nand click on resolve, and\nthere are the IP addresses.\n\n777\n00:36:23.010 --> 00:36:24.860\nSo, on that router,\nI have an internal interface.\n\n778\n00:36:24.860 --> 00:36:28.870\nI have an external interface cuz that's\nwhat I've designed and set it up for.\n\n779\n00:36:28.870 --> 00:36:29.560\nSo, there it goes.\n\n780\n00:36:29.560 --> 00:36:34.090\nIt knows that the device is out there,\nand this is where\n\n781\n00:36:34.090 --> 00:36:38.670\nsetting up that template kinda helped me\nout here, cuz now what I can do, instead,\n\n782\n00:36:38.670 --> 00:36:43.580\nis select the second option,\nit says ITProTV radio secret.\n\n783\n00:36:43.580 --> 00:36:46.840\nThat's what it does and it automatically\nfills in the rest of this form.\n\n784\n00:36:46.840 --> 00:36:49.260\n>> Yeah.\nAgain, just helping to prevent typos,\n\n785\n00:36:49.260 --> 00:36:50.550\nyou don't have to use a template,\n\n786\n00:36:50.550 --> 00:36:53.340\nyou could just punch in the values\nmanually right there, and if you're\n\n787\n00:36:53.340 --> 00:36:57.040\ndoing a different password for every\nclient, then you probably want to do that.\n\n788\n00:36:57.040 --> 00:36:59.850\nYou probably just want to set\na different value for each one, but\n\n789\n00:36:59.850 --> 00:37:02.780\nif you're using the same password\nacross them all, use a template.\n\n790\n00:37:02.780 --> 00:37:05.200\nSaves a little time, and\nmake sure you don't get typo.\n\n791\n00:37:05.200 --> 00:37:06.430\n>> You said that in best practice,\n\n792\n00:37:06.430 --> 00:37:09.120\nthat we would actually want to set up\na different password for each one?\n\n793\n00:37:09.120 --> 00:37:12.130\n>> Yeah, that way if one get's\ncompromised, you can prune it off, and\n\n794\n00:37:12.130 --> 00:37:14.820\nthe others still operate, and\nthey've all got the same password and\n\n795\n00:37:14.820 --> 00:37:18.490\none gets compromised, you gotta prune\nthem all off and then bring it back up so\n\n796\n00:37:18.490 --> 00:37:19.960\nit's very disruptive to the network.\n\n797\n00:37:19.960 --> 00:37:20.600\n>> Yup.\n\n798\n00:37:20.600 --> 00:37:23.820\nNow, there's a couple of other options\nthat we have on this advanced tab here,\n\n799\n00:37:24.940 --> 00:37:26.580\nwhere it talks about the vendor name.\n\n800\n00:37:27.870 --> 00:37:30.460\n>> How important is this one for\nus, if we really need it?\n\n801\n00:37:30.460 --> 00:37:34.840\n>> You know, it's really funny, because,\nRonnie and I both have a Cisco background,\n\n802\n00:37:34.840 --> 00:37:36.020\nyou guys may or may not know that, and\n\n803\n00:37:36.020 --> 00:37:39.670\nso we work with Cisco equipment a lot\n>> And if you drop down the vendor name\n\n804\n00:37:39.670 --> 00:37:42.370\nyou'll see all of these different\ncompanies listed, like Cisco.\n\n805\n00:37:42.370 --> 00:37:46.980\nBut, the gimmick here is Radius\nis an industry standard.\n\n806\n00:37:46.980 --> 00:37:49.890\nAnd as long as people follow\nthe standards you don't need to mess\n\n807\n00:37:49.890 --> 00:37:50.940\nwith your vendor name.\n\n808\n00:37:50.940 --> 00:37:55.200\nSo for example, you know,\nif I had a Cisco router connecting\n\n809\n00:37:55.200 --> 00:37:58.720\nRadius standard is that default option,\nworks just fine.\n\n810\n00:37:58.720 --> 00:38:01.790\nSo most of the time,\nwe don't have to set this.\n\n811\n00:38:01.790 --> 00:38:04.690\nUnless you were really trying\nto be restrictive in saying,\n\n812\n00:38:04.690 --> 00:38:08.810\nI need to make sure this is only a Cisco\nclient, and if somebody swaps that out,\n\n813\n00:38:08.810 --> 00:38:12.200\nputs another device in with the same IP,\nand the same shared seeker.\n\n814\n00:38:12.200 --> 00:38:14.950\nThis is where it starts to become\na little not realistic, but\n\n815\n00:38:14.950 --> 00:38:18.820\nthey swap it out with some other vendor\nthen we might be able to block it right?\n\n816\n00:38:18.820 --> 00:38:23.860\nBut most of the time we leave it at\nradius standard, even when our equipment\n\n817\n00:38:23.860 --> 00:38:28.000\nis specifically listed, it still usually\nworks out better to go radius standard.\n\n818\n00:38:28.000 --> 00:38:28.920\n>> Right.\n\n819\n00:38:28.920 --> 00:38:31.020\nSo, then we have a couple\nadditional options.\n\n820\n00:38:31.020 --> 00:38:36.390\nAccess request messages must contain\nthe message authenticator attribute or\n\n821\n00:38:36.390 --> 00:38:39.750\nradius client is nat capable here.\n\n822\n00:38:39.750 --> 00:38:43.920\nSo, two additions that we can\nalso add in for more information.\n\n823\n00:38:43.920 --> 00:38:46.530\n>> Yeah, and again, most equipment, most\nof the time when we set these things up,\n\n824\n00:38:46.530 --> 00:38:49.190\nwe're not sending the message\nauthenticator attribute.\n\n825\n00:38:49.190 --> 00:38:52.330\nThat's basically if you have more\nthan one directory service when your\n\n826\n00:38:52.330 --> 00:38:52.985\nclient connects.\n\n827\n00:38:52.985 --> 00:38:57.080\nThey can clarify to you which service\nit is they should authenticate against.\n\n828\n00:38:57.080 --> 00:38:59.245\n>> Mm-hm.\n>> Most environments fortunately don't\n\n829\n00:38:59.245 --> 00:39:01.515\nhave that, you have a single directory and\n\n830\n00:39:01.515 --> 00:39:04.380\nthat's kind of the whole point of\na directory is to have a single one.\n\n831\n00:39:04.380 --> 00:39:05.055\n>> Mm-hm.\n>> And so\n\n832\n00:39:05.055 --> 00:39:08.242\nin that scenario you don't need\n>> Most systems don't pass the message\n\n833\n00:39:08.242 --> 00:39:11.662\nauthenticator attribute by default, but if\nyou're requiring that, you can turn it on,\n\n834\n00:39:11.662 --> 00:39:14.412\nand then the nap stuff,\nwe're gonna see that a little bit later.\n\n835\n00:39:14.412 --> 00:39:17.912\nIf you're using network access protection,\nif a client connects,\n\n836\n00:39:17.912 --> 00:39:19.600\nthey've got to support it.\n\n837\n00:39:19.600 --> 00:39:22.390\n>> If they don't support it, then you\ndon't want to allow them to connect, and\n\n838\n00:39:22.390 --> 00:39:24.210\nso you can require that right here.\n\n839\n00:39:24.210 --> 00:39:28.892\n>> All right, so for us at this\npoint here, we've gone ahead, and\n\n840\n00:39:28.892 --> 00:39:33.944\nwe've set this one up in terms of just\nmaking sure that we are now ready\n\n841\n00:39:33.944 --> 00:39:37.057\n>> To accept somebody coming to talk to\n\n842\n00:39:37.057 --> 00:39:44.229\nthis guy for our radius client to be able\nto communicate using radius and NPS here.\n\n843\n00:39:44.229 --> 00:39:44.834\nAll right.\n\n844\n00:39:44.834 --> 00:39:45.426\nOkay.\n\n845\n00:39:45.426 --> 00:39:50.640\nSo, let's see, in terms of our objectives,\nwe've set up The installing the roll.\n\n846\n00:39:50.640 --> 00:39:53.520\nWe've gone ahead and\ncreated the idea of a template,\n\n847\n00:39:53.520 --> 00:39:58.090\nwe've now set up a client to be able\nto communicate with the, with radius.\n\n848\n00:39:58.090 --> 00:40:01.550\n>> Yeah, and, and at this point, we're\nkind of poised to do one of two things.\n\n849\n00:40:01.550 --> 00:40:05.970\nAll right, one, we could jump over\nthat other server win2012rtr and\n\n850\n00:40:05.970 --> 00:40:10.090\nset it up as a remote access server, and\ntell it to use the remote RADIUS server of\n\n851\n00:40:10.090 --> 00:40:13.450\nthis one, and then we would have\nthat proxy type environment.\n\n852\n00:40:13.450 --> 00:40:18.170\nOr, we could install Remote Access\nServices right here on this server and\n\n853\n00:40:18.170 --> 00:40:22.205\nit could be VPN, dial in,\nwhatever, and be both.\n\n854\n00:40:22.205 --> 00:40:23.975\nThe mps server and\n\n855\n00:40:23.975 --> 00:40:27.975\nthe remote access server all on\none system it's either way, right.\n\n856\n00:40:27.975 --> 00:40:30.818\nBut there is one more thing that we\nprobably need to take a look at,\n\n857\n00:40:30.818 --> 00:40:32.487\nI don't want to get out of [CROSSTALK].\n\n858\n00:40:32.487 --> 00:40:35.382\nBut that's the policies, it's called\nnetwork policies server so sooner or\n\n859\n00:40:35.382 --> 00:40:37.480\nlater we should probably\nlook Add the policies.\n\n860\n00:40:37.480 --> 00:40:38.370\n>> Yup.\n\n861\n00:40:38.370 --> 00:40:41.580\nSo, here there's actually the connection\nrequest policies, network policies, and\n\n862\n00:40:41.580 --> 00:40:44.760\nhelp policies, we're gonna take\na look at the help policies with\n\n863\n00:40:44.760 --> 00:40:47.100\nthe NAP stuff a little bit later.\n\n864\n00:40:47.100 --> 00:40:50.640\nThere are already set up by default\nsome of the different policies that\n\n865\n00:40:50.640 --> 00:40:51.720\nwe have here.\n\n866\n00:40:51.720 --> 00:40:54.770\nNetwork policies and\nwith a connection request.\n\n867\n00:40:54.770 --> 00:40:59.060\nHere's the other one that we also\nhave set up as well by default.\n\n868\n00:40:59.060 --> 00:41:01.690\n>> Now, these two policies,\neasy to confuse them.\n\n869\n00:41:01.690 --> 00:41:02.280\nRight.\n\n870\n00:41:02.280 --> 00:41:05.040\nConnect your request policies and\nnetwork policies.\n\n871\n00:41:05.040 --> 00:41:08.340\nConnection request is\nexactly what its name says,\n\n872\n00:41:08.340 --> 00:41:12.420\nwhen somebody is requesting to connect,\nwhen their opening net session to use, so\n\n873\n00:41:12.420 --> 00:41:14.840\nthey're opening a VPN tunnel or\ndialing in for\n\n874\n00:41:14.840 --> 00:41:20.310\nthe first time Who is allowed to\neven do that, to even just connect?\n\n875\n00:41:20.310 --> 00:41:21.040\nAll right?\n\n876\n00:41:21.040 --> 00:41:25.440\nAnd then once they're connected,\nwhat network policy kicks in?\n\n877\n00:41:25.440 --> 00:41:27.540\nWhat are they allowed to do?\n\n878\n00:41:27.540 --> 00:41:29.820\nSo, it's almost like authentication and\nauthorization.\n\n879\n00:41:29.820 --> 00:41:31.660\nAlthough, they overlap a heck\nof a lot more than that.\n\n880\n00:41:31.660 --> 00:41:35.990\nSo, it's not that simple, but, network\npolicy is where we'll really dive in and\n\n881\n00:41:35.990 --> 00:41:39.060\nstart to filter what people\ncan do when they're connected.\n\n882\n00:41:39.060 --> 00:41:42.840\nBut the connection request policy's where\nwe defining just who's allowed to connect.\n\n883\n00:41:42.840 --> 00:41:44.990\nAnd let, let's start on that\nconnection request one, because it's,\n\n884\n00:41:44.990 --> 00:41:49.750\nit's got that real simple rule that\nI mentioned earlier Use Windows\n\n885\n00:41:49.750 --> 00:41:52.100\n>> Authentication for all users.\n\n886\n00:41:52.100 --> 00:41:53.150\n>> Yeah.\nSo, I'm just saying,\n\n887\n00:41:53.150 --> 00:41:56.490\nwhen somebody connects, we need\ntheir Windows username and password.\n\n888\n00:41:56.490 --> 00:41:57.700\nWe need to validate or\n\n889\n00:41:57.700 --> 00:42:01.175\nauthenticate that are who they say they\nare, using those Windows credentials.\n\n890\n00:42:01.175 --> 00:42:05.710\n>> Yup, and so, this one is again set\nup by default for us and ready to go,\n\n891\n00:42:05.710 --> 00:42:10.060\nand so here's that overview that\nallows us to see that it's enabled.\n\n892\n00:42:10.060 --> 00:42:16.880\nAnd if we want to we can also set up the\nnetwork access server and what type it is.\n\n893\n00:42:16.880 --> 00:42:20.986\nFor us do we need to set it and change?\n\n894\n00:42:20.986 --> 00:42:24.410\n>> Unspecified means it can do any of,\nmut if you wanted to hard set it,\n\n895\n00:42:24.410 --> 00:42:27.110\nlike this is just DHCP, which we may or\n\n896\n00:42:27.110 --> 00:42:30.765\nmay not do with NAP, or just a VPN server,\nwhatever you can hard set up.\n\n897\n00:42:30.765 --> 00:42:35.450\n>> Mm-hm, and the condition here is on day\nand time restrictions and what we have.\n\n898\n00:42:35.450 --> 00:42:36.580\nSo, if I go in and select edit and\n\n899\n00:42:36.580 --> 00:42:39.079\nit doesn't look like it's\nreally set up to do anything.\n\n900\n00:42:39.079 --> 00:42:40.980\n[LAUGH]\n>> 24 hours a day, seven days a week, so\n\n901\n00:42:40.980 --> 00:42:42.560\npeople are allowed to connect whenever.\n\n902\n00:42:42.560 --> 00:42:44.445\nSo, there's not really a time\nrestriction by default.\n\n903\n00:42:44.445 --> 00:42:45.420\n>> Mm-hm.\nYup.\n\n904\n00:42:45.420 --> 00:42:48.840\nAnd then the last one here is\nthe different settings, again,\n\n905\n00:42:48.840 --> 00:42:51.360\nnormally more for NAP than anything else.\n\n906\n00:42:51.360 --> 00:42:55.490\nThe idea of actually making sure that we\ncan do the authentication method that we\n\n907\n00:42:55.490 --> 00:42:59.370\nwant and of course,\nforwarding the connection requests and\n\n908\n00:42:59.370 --> 00:43:02.120\nthe accounting, and\nthen other attributes in there too.\n\n909\n00:43:02.120 --> 00:43:04.620\n>> Yeah, and jump back up to\nauthentication for a second.\n\n910\n00:43:04.620 --> 00:43:05.870\n>> Sorry.\n\n911\n00:43:05.870 --> 00:43:06.540\n>> There you go.\n\n912\n00:43:06.540 --> 00:43:09.390\nAnd you'll notice that it says\nright there, Authenticate requests.\n\n913\n00:43:09.390 --> 00:43:10.890\nOn this server.\n\n914\n00:43:10.890 --> 00:43:11.450\nRight?\n>> Mm-hm.\n\n915\n00:43:11.450 --> 00:43:14.740\n>> So that's saying look at the local\nWindows database to find out whether or\n\n916\n00:43:14.740 --> 00:43:16.265\nnot these users should be authenticated.\n\n917\n00:43:16.265 --> 00:43:17.400\n>> Mm-hm.\n>> And that's because we're on\n\n918\n00:43:17.400 --> 00:43:18.360\na domain controller.\n\n919\n00:43:18.360 --> 00:43:18.870\nRight?\n>> Yeah.\n\n920\n00:43:18.870 --> 00:43:23.260\n>> If we were on a member server, we\nwould normally choose that second option\n\n921\n00:43:23.260 --> 00:43:25.925\nto say forward the following\nrequest to a remote radius server.\n\n922\n00:43:25.925 --> 00:43:27.130\n>> Mm-hm.\n>> And point that to the NPS\n\n923\n00:43:27.130 --> 00:43:28.200\nserver somewhere else.\n\n924\n00:43:28.200 --> 00:43:32.160\nThis is the, what makes that distinction,\nbetween being the NPS or\n\n925\n00:43:32.160 --> 00:43:34.390\nbeing a proxy to somebody else, right.\n\n926\n00:43:34.390 --> 00:43:35.840\n>> Right.\n>> And so you can do that, or\n\n927\n00:43:35.840 --> 00:43:38.230\nyou can accept users without\nvalidation credentials,\n\n928\n00:43:38.230 --> 00:43:39.290\nwhich means let anybody connect.\n\n929\n00:43:39.290 --> 00:43:40.260\nThat's always a great idea.\n\n930\n00:43:40.260 --> 00:43:40.780\n>> Yeah.\n\n931\n00:43:40.780 --> 00:43:43.520\n>> But\nyou'll see these really simple settings.\n\n932\n00:43:43.520 --> 00:43:46.345\nAnd if you'll look at the account one,\nI think it's all blank, isn't it.\n\n933\n00:43:46.345 --> 00:43:49.170\nYeah, that's because accounting\nis not on by default.\n\n934\n00:43:49.170 --> 00:43:51.320\nWe actually have another wizard\nwe have to run to enable that.\n\n935\n00:43:51.320 --> 00:43:53.490\nSo you can't, I don't think you\ncan turn it on here can you?\n\n936\n00:43:53.490 --> 00:43:55.360\n>> Nope not until we enable it I believe.\n\n937\n00:43:55.360 --> 00:43:57.110\n>> If you hit new does it let you do that?\n\n938\n00:43:57.110 --> 00:43:57.830\n>> Let me see it may.\n\n939\n00:43:59.390 --> 00:44:02.940\nMaybe so, but\nI have to do a new server group name.\n\n940\n00:44:02.940 --> 00:44:05.710\n>> Yea and this isn't the full setting\neither it just lets us specify the server\n\n941\n00:44:05.710 --> 00:44:07.830\nso we'll take a look at that\na little bit later too.\n\n942\n00:44:07.830 --> 00:44:11.030\nBut the cool part here is we can go in and\nmanipulate this.\n\n943\n00:44:11.030 --> 00:44:13.010\nBut what this rule boils down to, and\n\n944\n00:44:13.010 --> 00:44:15.215\nMicrosoft encourages you\nnot to modify this rule.\n\n945\n00:44:15.215 --> 00:44:16.640\n>> [LAUGH]\n>> They say that what it boils down\n\n946\n00:44:16.640 --> 00:44:19.640\nto is when somebody connects,\nthey gotta give us a valid username and\n\n947\n00:44:19.640 --> 00:44:22.000\npassword, otherwise we're not\ngonna even let them connect.\n\n948\n00:44:22.000 --> 00:44:22.880\n>> Right.\n\n949\n00:44:22.880 --> 00:44:25.590\n>> Once they connect, then we'll\nfigure out what to do with them.\n\n950\n00:44:25.590 --> 00:44:28.780\nbut just to connect they gotta give\nus a valid user name and password.\n\n951\n00:44:29.830 --> 00:44:33.200\nNow, if you cancel out of that, Ronnie.\n\n952\n00:44:33.200 --> 00:44:33.750\n>> Right.\n\n953\n00:44:33.750 --> 00:44:37.830\n>> This default rule notice that it\nhas a processing order set to it.\n\n954\n00:44:37.830 --> 00:44:41.150\n>> Yup.\n>> And that number's set to 99,999, right?\n\n955\n00:44:42.610 --> 00:44:45.470\nThe rules are applied In order.\n\n956\n00:44:45.470 --> 00:44:48.330\nSo what Microsoft says is hey,\ndon't mess with this rule.\n\n957\n00:44:48.330 --> 00:44:49.510\n>> Yeah.\n>> This is the default rule.\n\n958\n00:44:49.510 --> 00:44:51.280\nLeave it here, all right?\n\n959\n00:44:51.280 --> 00:44:52.480\nCreate your own rule.\n\n960\n00:44:52.480 --> 00:44:53.890\nIf you make your own rule and\n\n961\n00:44:53.890 --> 00:44:57.935\nyou give it a processing order of one,\nit'll be applied first.\n\n962\n00:44:57.935 --> 00:44:59.880\n>> Mm-hm.\n>> And so you can create multiple\n\n963\n00:44:59.880 --> 00:45:02.870\nrules that meet different\nrequirements in your organization.\n\n964\n00:45:02.870 --> 00:45:07.570\nYou can have one rule that applies\nfrom 8 AM to 5 PM, business hours.\n\n965\n00:45:07.570 --> 00:45:10.690\nThen you can have another rule that\napplies from five pm to eight am,\n\n966\n00:45:10.690 --> 00:45:11.385\nafter hours.\n\n967\n00:45:11.385 --> 00:45:12.860\n>> Mm-hm.\n>> And you can set different requirements,\n\n968\n00:45:12.860 --> 00:45:15.480\ndifferent restrictions,\nwhatever it is that you want.\n\n969\n00:45:15.480 --> 00:45:18.610\nIf you give those processing order\nnumbers that are low enough,\n\n970\n00:45:18.610 --> 00:45:22.725\nthey go in order, then that big rule\nwill just never get used, right?\n\n971\n00:45:22.725 --> 00:45:25.040\n>> Mm-hm.\n>> Cuz it's got that highest number.\n\n972\n00:45:25.040 --> 00:45:27.770\nBut for\nmost people the default rule that's there\n\n973\n00:45:27.770 --> 00:45:28.740\nsuits our needs,\n>> Mm-hm.\n\n974\n00:45:28.740 --> 00:45:30.220\n>> and so we don't really mess with it.\n\n975\n00:45:30.220 --> 00:45:32.550\nWe really do our work under\nthe network policies.\n\n976\n00:45:32.550 --> 00:45:33.460\n>> Yeah, but\n\n977\n00:45:33.460 --> 00:45:37.570\nif you wanted to this is where you\nactually find some other here to right.\n\n978\n00:45:37.570 --> 00:45:38.400\nIn this connectional cut.\n\n979\n00:45:38.400 --> 00:45:42.590\nSo, I'm just creating,\nwanna call ipitprobe-vpn,\n\n980\n00:45:42.590 --> 00:45:45.640\nand then it's right here\nunder the conditions,\n\n981\n00:45:45.640 --> 00:45:50.600\nthat we can add in pretty much whatever\nwe want to in terms of those conditions.\n\n982\n00:45:50.600 --> 00:45:55.270\nAnd then, if I go in and click add,\nit's here that you have a,\n\n983\n00:45:55.270 --> 00:45:56.540\nI can't even tell you.\n\n984\n00:45:56.540 --> 00:46:01.510\nI've never counted up how many\nservices that you have available here.\n\n985\n00:46:01.510 --> 00:46:02.280\nBut, yeah.\n\n986\n00:46:02.280 --> 00:46:05.330\nDown here at the bottom\nis that NAS port-type.\n\n987\n00:46:05.330 --> 00:46:06.680\nSo, there's one of the older names, right?\n\n988\n00:46:06.680 --> 00:46:08.950\nThe network access server that we're ta-\n>> Mm-hm\n\n989\n00:46:08.950 --> 00:46:10.160\n>> And so, notice they haven't changed it\n\n990\n00:46:10.160 --> 00:46:12.980\nover the years since,\nI think that was 2003 for some reason.\n\n991\n00:46:12.980 --> 00:46:14.140\n>> Yeah.\nSome of\n\n992\n00:46:14.140 --> 00:46:15.430\nthe common ones that we\n>> Mm-hm\n\n993\n00:46:15.430 --> 00:46:16.610\n>> Use here, if you scroll back up.\n\n994\n00:46:16.610 --> 00:46:17.860\n>> Yup.\n>> towards the top.\n\n995\n00:46:17.860 --> 00:46:20.180\nActually scroll down a bit.\n\n996\n00:46:20.180 --> 00:46:21.840\nSomewhere in here we'll find tunnel type.\n\n997\n00:46:21.840 --> 00:46:22.360\n>> Yup.\nThere it is.\n\n998\n00:46:22.360 --> 00:46:23.590\n>> There it is, tunnel type.\n\n999\n00:46:23.590 --> 00:46:28.190\nso, if you have VPN support and you\nwanna ensure that people are just using\n\n1000\n00:46:28.190 --> 00:46:31.310\nL two TP because PP TP is proven insecure,\nright?\n\n1001\n00:46:31.310 --> 00:46:35.500\nSo, you could come in here and you could\nsay that, like, this rule applies for\n\n1002\n00:46:35.500 --> 00:46:39.770\nL two TP and then if it's PP TP, just\ndon't let them connect or whatever, so\n\n1003\n00:46:39.770 --> 00:46:42.030\nyou, you can really start\nto break these down.\n\n1004\n00:46:42.030 --> 00:46:42.950\n>> Hum.\n>> You'll see though that\n\n1005\n00:46:42.950 --> 00:46:45.660\nthere's some things that are missing here,\nright?\n\n1006\n00:46:45.660 --> 00:46:47.520\nWhile we've got tunnel type,\nwe've got day and\n\n1007\n00:46:47.520 --> 00:46:50.620\ntime restriction,\nI don't see Window's group membership.\n\n1008\n00:46:50.620 --> 00:46:51.420\nIs that running?\n\n1009\n00:46:51.420 --> 00:46:52.050\n>> I do not.\n\n1010\n00:46:52.050 --> 00:46:54.590\n>> And that's because that's\na little too granular for\n\n1011\n00:46:54.590 --> 00:46:57.210\nwhen we supported just\nthe basic connection.\n\n1012\n00:46:57.210 --> 00:46:59.680\nTechnically, we haven't even\nauthenticated people at this point.\n\n1013\n00:46:59.680 --> 00:47:00.180\nright?\n\n1014\n00:47:00.180 --> 00:47:03.190\nThey're trying to give us\ntheir user name and password.\n\n1015\n00:47:03.190 --> 00:47:05.630\nWe're trying to find out\nwhether we want to allow that.\n\n1016\n00:47:05.630 --> 00:47:09.770\nSo it's in the network policy that we'll\nbe able to say things like what windows\n\n1017\n00:47:09.770 --> 00:47:11.770\ngroup are you in, and so on.\n\n1018\n00:47:11.770 --> 00:47:15.350\nSo we don't normally go too terribly\nrestrictive here because You don't know\n\n1019\n00:47:15.350 --> 00:47:17.850\nwhere your users are going to be,\nthey could be in a hotel, they could be at\n\n1020\n00:47:17.850 --> 00:47:21.360\nhome, they could be on a Mac, they could\nbe on a Windows machine, who knows?\n\n1021\n00:47:21.360 --> 00:47:23.130\nSo the more restrictive you are here,\n\n1022\n00:47:23.130 --> 00:47:26.200\nthat will just stop people from\neven connecting in the first place.\n\n1023\n00:47:26.200 --> 00:47:30.130\nSo we need to put just basic\nstuff there and then jump over to\n\n1024\n00:47:30.130 --> 00:47:33.530\nthe network policies, where Ronnie is\nnow And here's where we can go crazy.\n\n1025\n00:47:33.530 --> 00:47:34.440\n>> Yup.\n\n1026\n00:47:34.440 --> 00:47:36.916\nSo here they have two\ndefault policies again.\n\n1027\n00:47:36.916 --> 00:47:40.004\nConnection to Microsoft\nrouting access servers.\n\n1028\n00:47:40.004 --> 00:47:43.486\nIt is enabled but\nnotice that the type is deny.\n\n1029\n00:47:43.486 --> 00:47:44.566\nYeah.\n\n1030\n00:47:44.566 --> 00:47:49.010\nSo that Don looks like it's gonna stop\nus if we are using a routing mode access\n\n1031\n00:47:49.010 --> 00:47:50.160\nservice.\n\n1032\n00:47:50.160 --> 00:47:53.480\n>> Yeah, and basically what Microsoft's\ndone is they've put two rules in here\n\n1033\n00:47:53.480 --> 00:47:56.440\nthat are set to deny by default so\n\n1034\n00:47:56.440 --> 00:47:59.660\nthat you know to come in here and\nconfigure this stuff.\n\n1035\n00:47:59.660 --> 00:48:02.910\nThey don't want you to bring up a remote\naccess server and not configure it and\n\n1036\n00:48:02.910 --> 00:48:05.540\nhave it wide open or\nhave your network at risk.\n\n1037\n00:48:05.540 --> 00:48:06.420\nThis is sensitive stuff.\n\n1038\n00:48:06.420 --> 00:48:08.220\nThis is going to the edge of your network.\n\n1039\n00:48:08.220 --> 00:48:10.560\nSo you've gotta come in here and\ncustomize these rules.\n\n1040\n00:48:10.560 --> 00:48:11.660\n>> Yup.\n\n1041\n00:48:11.660 --> 00:48:17.340\nSo a lot of times, we may just go ahead\nand add in a new rule if we wanted to.\n\n1042\n00:48:18.480 --> 00:48:19.700\n>> So we right click, go to new.\n\n1043\n00:48:20.740 --> 00:48:27.670\nAnd again, see just network,\nsay full access I guess, I don't know.\n\n1044\n00:48:31.100 --> 00:48:32.180\nWhatever we might want to do.\n\n1045\n00:48:32.180 --> 00:48:34.010\n>> Yeah, it depends on how your\ncompany breaks down right.\n\n1046\n00:48:34.010 --> 00:48:39.290\nSo maybe I want to have one policy that\napplies to network admins, all right.\n\n1047\n00:48:39.290 --> 00:48:42.240\nSo I might call this\nthe network admin VPN policy.\n\n1048\n00:48:42.240 --> 00:48:45.780\nI might have a different policy\nthat applies to accountants.\n\n1049\n00:48:45.780 --> 00:48:48.280\nSo I'm going to have my\naccountant VPN policy.\n\n1050\n00:48:48.280 --> 00:48:52.160\nSo each one determining a different\ncharacteristic of user.\n\n1051\n00:48:52.160 --> 00:48:53.960\nOr it could be based on equipment.\n\n1052\n00:48:53.960 --> 00:48:58.600\nThis could be my Windows Laptop policy or\nmy Mac laptop policy or whatever.\n\n1053\n00:48:58.600 --> 00:49:00.680\nYou can break it down however you want.\n\n1054\n00:49:00.680 --> 00:49:05.800\nI normally see it done by job roll,\nbecause you might want your\n\n1055\n00:49:05.800 --> 00:49:10.400\nIT department to be able to remote in 24\nhours a day, but your regular employees,\n\n1056\n00:49:10.400 --> 00:49:13.470\nyou might want to limit them to business\nhours, or something of that nature.\n\n1057\n00:49:13.470 --> 00:49:15.770\nAnd that's where this\ncomes in really handy.\n\n1058\n00:49:15.770 --> 00:49:19.370\nWe'll see under Specify Conditions,\nthere's a lot more options and\n\n1059\n00:49:19.370 --> 00:49:20.740\nsome neat ones.\n\n1060\n00:49:20.740 --> 00:49:22.610\nThat's my favorite there, Windows Groups.\n\n1061\n00:49:22.610 --> 00:49:23.660\n>> Yep.\n\n1062\n00:49:23.660 --> 00:49:26.560\n>> Windows Groups is probably\nthe most powerful filter, because\n\n1063\n00:49:26.560 --> 00:49:31.140\nwe can easily add users and remove users\nfrom groups on a moment's notice, right?\n\n1064\n00:49:31.140 --> 00:49:35.950\nSo if I want to give somebody VPN access,\nI put them in a group that has VPN access.\n\n1065\n00:49:35.950 --> 00:49:37.090\nAnd if I don't want them\nto have it anymore,\n\n1066\n00:49:37.090 --> 00:49:38.440\nI just take them out of that group, right?\n\n1067\n00:49:38.440 --> 00:49:42.530\nVery, very simple and as I copy users in\nthe active directory, they're copying\n\n1068\n00:49:42.530 --> 00:49:45.590\nthese group memberships over, so\nthey gain the same permissions to VPN, and\n\n1069\n00:49:45.590 --> 00:49:49.070\nit's a really, really handy stuff\nif you can find a group name.\n\n1070\n00:49:50.830 --> 00:49:53.905\n>> I can't remember the name\nof the group that I created.\n\n1071\n00:49:53.905 --> 00:49:55.250\n>> [LAUGH]\n>> Of course,\n\n1072\n00:49:55.250 --> 00:49:57.960\nlet's just do domain admins, I guess.\n\n1073\n00:49:57.960 --> 00:50:00.800\n>> Yeah, or you could go advanced and\nfind it that way.\n\n1074\n00:50:00.800 --> 00:50:02.427\nEither way.\n\n1075\n00:50:02.427 --> 00:50:06.081\n>> Let's see if I can find, I thought I\ncalled it managers but maybe I didn't,\n\n1076\n00:50:06.081 --> 00:50:06.719\nlet's see.\n\n1077\n00:50:06.719 --> 00:50:08.160\nOr maybe I didn't even create it at all.\n\n1078\n00:50:08.160 --> 00:50:08.820\nMaybe in my mind I did.\n\n1079\n00:50:09.850 --> 00:50:10.801\nNo, apparently I did not.\n\n1080\n00:50:10.801 --> 00:50:15.108\n[LAUGH] I thought, I had in my mind I\nwas going to create one called managers.\n\n1081\n00:50:15.108 --> 00:50:16.466\n>> Maybe it was alternate universe Ronny.\n\n1082\n00:50:16.466 --> 00:50:17.465\n>> Eh, it's just.\n\n1083\n00:50:17.465 --> 00:50:20.305\n>> [LAUGH]\n>> All right, so let's just.\n\n1084\n00:50:20.305 --> 00:50:21.580\nWe can use-\n>> We can do domain admins, right?\n\n1085\n00:50:21.580 --> 00:50:22.299\n>> Yep.\n\n1086\n00:50:22.299 --> 00:50:25.411\n>> So we want to allow our domain\nadministrators to be able to VPN in,\n\n1087\n00:50:25.411 --> 00:50:27.580\nwe don't want anybody else, right?\n\n1088\n00:50:27.580 --> 00:50:31.600\nSo adding that group requirement, saying,\nif you're in the Windows group domain\n\n1089\n00:50:31.600 --> 00:50:34.360\nadmins, you're going to\nbe allowed to VPN in.\n\n1090\n00:50:34.360 --> 00:50:37.290\nOr you could add in other users,\nthe accounting department, and so on.\n\n1091\n00:50:37.290 --> 00:50:41.280\nYou know, whatever it is, Windows group\nreally is one of the easiest ones to use.\n\n1092\n00:50:41.280 --> 00:50:43.780\nLet's take a look at some of the other\nones that were in that list.\n\n1093\n00:50:43.780 --> 00:50:49.000\nYou'll see machine groups, so,\nif their laptop or desktop is in a group.\n\n1094\n00:50:49.000 --> 00:50:51.500\nAnd not many people use that, but you can.\n\n1095\n00:50:51.500 --> 00:50:56.985\nYou can base it on location,\nlet's see what else do we have, that's for\n\n1096\n00:50:56.985 --> 00:50:58.935\nNAP stuff there.\n\n1097\n00:50:58.935 --> 00:51:03.195\nHere's some of the more RADIUSy type\nthings, like identity type and stuff.\n\n1098\n00:51:03.195 --> 00:51:05.295\nBut you'll see Operating System.\n\n1099\n00:51:05.295 --> 00:51:07.235\nSo we can key up for\nwhat OS they're running.\n\n1100\n00:51:07.235 --> 00:51:10.335\nIf we want to allow certain operating\nsystems and not others, right?\n\n1101\n00:51:10.335 --> 00:51:13.376\nSo if you go in here it's\nkind of weird how it goes.\n\n1102\n00:51:13.376 --> 00:51:14.270\n>> Yeah.\n>> But\n\n1103\n00:51:14.270 --> 00:51:17.950\nmaybe your corporate policy says hey,\nMicrosoft has dropped support for\n\n1104\n00:51:17.950 --> 00:51:21.490\nWindows XP, so I don't want\nWindows XP people to connect anymore.\n\n1105\n00:51:21.490 --> 00:51:24.650\nSo you can come in here and\nyou can create a rule that says hey,\n\n1106\n00:51:24.650 --> 00:51:27.860\nif somebody's trying to come\nin with Windows XP, block it.\n\n1107\n00:51:27.860 --> 00:51:28.576\nDeny them.\n\n1108\n00:51:28.576 --> 00:51:31.582\nRight, so that's where we'd created\na deny policy, versus a permit.\n\n1109\n00:51:31.582 --> 00:51:32.314\n>> Yeah.\n\n1110\n00:51:32.314 --> 00:51:35.709\n>> So, somebody might be a domain admin,\nthey might have full permission to VPN in,\n\n1111\n00:51:35.709 --> 00:51:38.465\nbut if they're on a Windows XP machine,\nwe know it's not secure,\n\n1112\n00:51:38.465 --> 00:51:39.769\ndon't allow ' in, right.\n\n1113\n00:51:39.769 --> 00:51:41.970\n>> Now Don, this doesn't look\nas easy as you're saying.\n\n1114\n00:51:41.970 --> 00:51:42.513\n>> Well.\n>> It looks like they're\n\n1115\n00:51:42.513 --> 00:51:43.078\ncalling out a version number here.\n\n1116\n00:51:43.078 --> 00:51:45.980\n[LAUGH]\n>> I, yeah, unfortunately it does use\n\n1117\n00:51:45.980 --> 00:51:50.495\nthe Microsoft version and build numbers to\nidentify the OS's and that's because every\n\n1118\n00:51:50.495 --> 00:51:54.479\ntime you get a service pack, every time\nyou get hot fixes and stuff like that,\n\n1119\n00:51:54.479 --> 00:51:55.002\n>> Changes.\n\n1120\n00:51:55.002 --> 00:51:56.150\n>> your version number changes.\n\n1121\n00:51:56.150 --> 00:52:00.230\nAnd so what you're really specifying\nis a greater than or less than, right.\n\n1122\n00:52:00.230 --> 00:52:02.620\nSo you'll have to look\nup the build number and\n\n1123\n00:52:02.620 --> 00:52:06.580\nI can never remember remember the\nWindows XP when it's like 9600 isn't it?\n\n1124\n00:52:06.580 --> 00:52:07.820\nOr something like that?\n\n1125\n00:52:07.820 --> 00:52:10.500\nSo, you'd have to look up that build\nnumber to get the appropriate one.\n\n1126\n00:52:10.500 --> 00:52:12.090\nIt's not just a drop down box.\n\n1127\n00:52:12.090 --> 00:52:14.480\n>> So I can't just type\nin Windows XP over there?\n\n1128\n00:52:14.480 --> 00:52:15.750\n>> No.\nYeah, we would have to look it up.\n\n1129\n00:52:15.750 --> 00:52:19.125\nHere, let me see if I can find\nthat build number real quick.\n\n1130\n00:52:19.125 --> 00:52:20.205\n>> Just trying to make sure that.\n\n1131\n00:52:21.415 --> 00:52:26.105\nFor us, we would normally type in\nversion at the command prompt of that\n\n1132\n00:52:26.105 --> 00:52:29.395\noperating system and that normally would\ngive us what we would normally need here\n\n1133\n00:52:29.395 --> 00:52:31.675\nto be able to do that,\nalong with that service pack number.\n\n1134\n00:52:31.675 --> 00:52:32.545\nIt's very neat, Don.\n\n1135\n00:52:32.545 --> 00:52:36.005\nDo they even talk about the operating\nsystem role, whether it's a client or\n\n1136\n00:52:36.005 --> 00:52:37.460\na server as well?\n\n1137\n00:52:37.460 --> 00:52:40.740\nAnd then, even the computer architect\nstill breaks down fairly well.\n\n1138\n00:52:42.360 --> 00:52:44.760\n>> Yeah, you can have some fun with it.\n\n1139\n00:52:44.760 --> 00:52:47.830\nIt's really just kind of giving you\nthat power, that ability to control.\n\n1140\n00:52:47.830 --> 00:52:50.120\nAnd you'll see some of\nthe other options in here.\n\n1141\n00:52:50.120 --> 00:52:52.230\nYou'll see, like,\nif you'll just cancel out of that.\n\n1142\n00:52:52.230 --> 00:52:53.058\n>> Okay.\n>> Go back to the\n\n1143\n00:52:53.058 --> 00:52:56.250\n>> the main screen here.\n\n1144\n00:52:56.250 --> 00:53:00.678\nYou'll see, like, their IP address, if\nthey had statistics, usually they don't.\n\n1145\n00:53:00.678 --> 00:53:01.970\nYour authentication types.\n\n1146\n00:53:01.970 --> 00:53:05.190\nYou can specify, maybe you only\ndo certificate authentication.\n\n1147\n00:53:05.190 --> 00:53:07.990\nYou don't allow manual entry of\nuser name and password, right.\n\n1148\n00:53:07.990 --> 00:53:11.650\nSo you come in here and pick EAP,\nthe extensible authentication protocol.\n\n1149\n00:53:11.650 --> 00:53:14.160\nAnd you pick what you need for\nyour environment.\n\n1150\n00:53:14.160 --> 00:53:15.690\nVery, very powerful stuff.\n\n1151\n00:53:15.690 --> 00:53:17.560\nYou'll notice there's a lot more options.\n\n1152\n00:53:17.560 --> 00:53:20.510\nProbably about twice as many options\nhere as we had under the connection\n\n1153\n00:53:20.510 --> 00:53:21.240\nrequest policy.\n\n1154\n00:53:21.240 --> 00:53:23.230\nAnd that's because when\npeople are connecting,\n\n1155\n00:53:23.230 --> 00:53:25.080\nthey haven't authenticated yet.\n\n1156\n00:53:25.080 --> 00:53:26.870\n>> So there's not much we can act on.\n\n1157\n00:53:26.870 --> 00:53:29.600\nBut by the time we get here,\nthey've authenticated.\n\n1158\n00:53:29.600 --> 00:53:30.560\nWe know who they are.\n\n1159\n00:53:30.560 --> 00:53:31.710\nThey know what group they're in.\n\n1160\n00:53:31.710 --> 00:53:34.090\nWe've received information\nabout their workstation.\n\n1161\n00:53:34.090 --> 00:53:35.830\nNow we can make all sorts of decisions.\n\n1162\n00:53:35.830 --> 00:53:41.070\n>> Yeah,\nyeah a lot of different conditions there.\n\n1163\n00:53:41.070 --> 00:53:45.195\n>> Key thing to remember though, as you\ncreate these, you're creating permit and\n\n1164\n00:53:45.195 --> 00:53:48.727\ndeny rules, or allow or deny rules,\nand they're applied in order.\n\n1165\n00:53:48.727 --> 00:53:50.643\nRule number one gets applied first.\n\n1166\n00:53:50.643 --> 00:53:53.915\nRule number 99.999 gets applied last, so\n\n1167\n00:53:53.915 --> 00:53:58.642\nthe order that we put them in the list,\nthat's going to be important.\n\n1168\n00:53:58.642 --> 00:54:01.927\nIt's something that we need to remember\nand you can actually reorganize them too.\n\n1169\n00:54:01.927 --> 00:54:03.170\n>> Yeah.\n>> So that's something that you'll\n\n1170\n00:54:03.170 --> 00:54:03.840\nprobably have to do.\n\n1171\n00:54:03.840 --> 00:54:04.470\n>> Yep.\n\n1172\n00:54:04.470 --> 00:54:06.020\nSo here,\nwe're gonna specify the permission,\n\n1173\n00:54:06.020 --> 00:54:09.430\naccess granted or access determined by.\n\n1174\n00:54:09.430 --> 00:54:12.470\n>> This is a screen that really\nconfuses people sometimes.\n\n1175\n00:54:12.470 --> 00:54:17.640\nWhen we say access granted, that doesn't\nmean you get 100% access to the network.\n\n1176\n00:54:17.640 --> 00:54:21.640\nWe're gonna see in a few screens that you\ncan still filter it, even based on that.\n\n1177\n00:54:21.640 --> 00:54:25.030\nBut access denied,\nthat means access denied.\n\n1178\n00:54:25.030 --> 00:54:29.000\nIf you match this policy you will\nnot be allowed in, all right?\n\n1179\n00:54:29.000 --> 00:54:33.020\nAnd then the last one is just saying\nlook at that dial-in properties tag,\n\n1180\n00:54:33.020 --> 00:54:35.210\nthat tab on the user properties.\n\n1181\n00:54:35.210 --> 00:54:36.830\nIf it's set to allow, allow them in.\n\n1182\n00:54:36.830 --> 00:54:38.310\nIf it's set to deny, deny them.\n\n1183\n00:54:38.310 --> 00:54:41.400\nSo the policy could then be either-or,\nbased on that user.\n\n1184\n00:54:41.400 --> 00:54:41.900\n>> Nice.\n\n1185\n00:54:43.524 --> 00:54:47.320\nAnd then, of course, the different\nauthentication methods that we can choose.\n\n1186\n00:54:47.320 --> 00:54:50.990\n>> Yeah, if you're just doing a username\nand password then MS Chat version 2 is\n\n1187\n00:54:50.990 --> 00:54:53.595\nwhat's used by most of the VPN\nclients that are out there.\n\n1188\n00:54:53.595 --> 00:54:57.287\nAnd I keep saying VPN,\nit could be dial-in or other things.\n\n1189\n00:54:57.287 --> 00:55:00.133\nBut if you're doing certificate\nbased authentication,\n\n1190\n00:55:00.133 --> 00:55:02.871\nyou're probably using EAP so\nyou've got that option.\n\n1191\n00:55:02.871 --> 00:55:06.573\nYou do have PAP, the Password\nAuthentication Protocol is in the list,\n\n1192\n00:55:06.573 --> 00:55:10.706\nif you choose that, it will get angry\nwith you right and it'll say things like,\n\n1193\n00:55:10.706 --> 00:55:14.655\nboy this is not secure and\nyou're really making the wrong choice.\n\n1194\n00:55:14.655 --> 00:55:17.135\nBut it is there, so\nyou've got that support.\n\n1195\n00:55:17.135 --> 00:55:19.277\nThat's really for\nbackwards compatibility with old stuff.\n\n1196\n00:55:21.204 --> 00:55:22.790\n>> And this is where you're talking about,\nright, the constraints or\n\n1197\n00:55:22.790 --> 00:55:24.070\nsomething that would\n>> The constraints.\n\n1198\n00:55:24.070 --> 00:55:24.752\nThat's part of it.\n\n1199\n00:55:24.752 --> 00:55:25.520\n>> Yeah, part of it.\n\n1200\n00:55:25.520 --> 00:55:28.350\n>> We'll actually see there's more\nthan one screen here where we can\n\n1201\n00:55:28.350 --> 00:55:29.770\nfilter users access.\n\n1202\n00:55:29.770 --> 00:55:32.280\nThis one is really basic options for\n\n1203\n00:55:32.280 --> 00:55:35.010\nthe connection, so\nthese are a little more generic.\n\n1204\n00:55:35.010 --> 00:55:36.994\nSo we'll see things\nlike the idle time out.\n\n1205\n00:55:36.994 --> 00:55:40.583\nIf somebody idle's, do you let them\nkeep the tunnel up or do you drop them?\n\n1206\n00:55:40.583 --> 00:55:43.445\nOr if they've dialed in, do you let them\nhold that phone line the whole time, or\n\n1207\n00:55:43.445 --> 00:55:44.099\ndo you drop them?\n\n1208\n00:55:44.099 --> 00:55:48.447\nSo you can set how long, You can set\njust an overall session time out.\n\n1209\n00:55:48.447 --> 00:55:49.706\nSo maybe you hold them to two hours.\n\n1210\n00:55:49.706 --> 00:55:52.050\nSo even if they're in the middle\nof something it just hangs up.\n\n1211\n00:55:52.050 --> 00:55:54.630\nRight.\nSo you can that's fun.\n\n1212\n00:55:54.630 --> 00:55:56.420\n>> Yep.\n>> The called station ID.\n\n1213\n00:55:56.420 --> 00:55:58.980\nIf you're doing dial up you have this for\ncaller ID.\n\n1214\n00:55:58.980 --> 00:56:01.610\nAnd then you just have other restrictions\nthat you might choose to implement like\n\n1215\n00:56:01.610 --> 00:56:03.190\nday and time restrictions.\n\n1216\n00:56:03.190 --> 00:56:05.860\nAnd then that port type that nobody uses.\n\n1217\n00:56:05.860 --> 00:56:07.470\nBut again this would\nallow you to restrict it.\n\n1218\n00:56:07.470 --> 00:56:08.700\nIf you wanted to say.\n\n1219\n00:56:08.700 --> 00:56:11.370\nI'll allow them on DSL but not cable.\n\n1220\n00:56:11.370 --> 00:56:14.060\nThe reason most people\ndon't use this is very\n\n1221\n00:56:14.060 --> 00:56:16.610\nfew machines properly\nidentify their connection.\n\n1222\n00:56:16.610 --> 00:56:17.330\n>> Right.\n>> Right.\n\n1223\n00:56:17.330 --> 00:56:19.930\nMost Windows machines don't\nknow if they're on cable\n\n1224\n00:56:19.930 --> 00:56:20.440\nor DSL\n>> Yeah.\n\n1225\n00:56:20.440 --> 00:56:23.060\n>> Because there's a router between\nthem and the internet connection.\n\n1226\n00:56:23.060 --> 00:56:24.440\nSo these settings are not reliable.\n\n1227\n00:56:26.340 --> 00:56:30.155\n>> There it is, that's the one.\n\n1228\n00:56:30.155 --> 00:56:31.726\n[CROSSTALK]\n>> So this screen, the next one,\n\n1229\n00:56:31.726 --> 00:56:33.880\nthis is where we can do\nsome real fun stuff, right?\n\n1230\n00:56:33.880 --> 00:56:37.980\nWe see some generic things here,\nlike our radius attributes.\n\n1231\n00:56:37.980 --> 00:56:41.590\nBut you'll also see things like, well,\nthat we'll talk about later, but\n\n1232\n00:56:41.590 --> 00:56:43.440\nit's these bottom options\nthat I want to talk about.\n\n1233\n00:56:43.440 --> 00:56:44.000\nRight?\n\n1234\n00:56:44.000 --> 00:56:45.280\nMultilink.\n\n1235\n00:56:45.280 --> 00:56:48.490\nMultilink is really cool\nif you're doing dialup.\n\n1236\n00:56:48.490 --> 00:56:49.020\nRight?\n\n1237\n00:56:49.020 --> 00:56:52.220\nVPN, if you're on a 10 megabit DSL line,\n\n1238\n00:56:52.220 --> 00:56:54.938\nyou're going to get 10 megabits\nof bandwidth and it's awesome.\n\n1239\n00:56:54.938 --> 00:56:57.280\nBut dial up no matter how\ngood your phone line is,\n\n1240\n00:56:57.280 --> 00:57:00.365\nthe most you're ever gonna get\nis 53 kilobits per second.\n\n1241\n00:57:00.365 --> 00:57:02.040\n>> Mm-hm.\n>> 53k, which is not much, right?\n\n1242\n00:57:02.040 --> 00:57:02.600\n>> Hey.\n\n1243\n00:57:02.600 --> 00:57:05.135\n>> I know those modems\nout there are 56k modems.\n\n1244\n00:57:05.135 --> 00:57:06.290\n>> [LAUGH]\n>> But, you know,\n\n1245\n00:57:06.290 --> 00:57:07.540\nI guess maybe it's a US thing though.\n\n1246\n00:57:07.540 --> 00:57:08.360\n>> Yeah.\n>> Because it's\n\n1247\n00:57:08.360 --> 00:57:10.900\nthe FCC here in the US that\nlimits the voltage of the line so\n\n1248\n00:57:10.900 --> 00:57:13.590\nyou only get 53k\n>> What if you want more?\n\n1249\n00:57:13.590 --> 00:57:17.581\nWell, with PPP Multilink,\nyou can have two dial up connections and\n\n1250\n00:57:17.581 --> 00:57:22.481\nbond them together, so you get 106 K, or\nyou can bring in a third or a fourth, and\n\n1251\n00:57:22.481 --> 00:57:24.034\nyou get 212K, right?\n\n1252\n00:57:24.034 --> 00:57:29.530\nSo you can really start to crank up that\nbandwidth the more phone lines you have.\n\n1253\n00:57:29.530 --> 00:57:32.860\nIf we want to allow multilink we\ncan turn it on right here, and\n\n1254\n00:57:32.860 --> 00:57:36.340\nyou'll see that server settings\ndetermine it by default or\n\n1255\n00:57:36.340 --> 00:57:38.860\nyou can choose to allow it and\nyou can even set up a maximum.\n\n1256\n00:57:38.860 --> 00:57:42.390\nYou can say allow them to bond\ntwo phone lines but not one, so\n\n1257\n00:57:42.390 --> 00:57:46.790\nyou can specify some of that and it's\nneat if you're still relying on dial up.\n\n1258\n00:57:46.790 --> 00:57:48.620\nIf you're using VPN tunnels this isn't\n\n1259\n00:57:48.620 --> 00:57:49.290\nnecessary\n>> Right\n\n1260\n00:57:49.290 --> 00:57:50.790\n>> It doesn't really serve a purpose.\n\n1261\n00:57:50.790 --> 00:57:53.430\nIf you bring up two virtual tunnels,\n\n1262\n00:57:53.430 --> 00:57:56.830\nyou're not going to get any more\nbandwidth than you get over one, so.\n\n1263\n00:57:56.830 --> 00:57:59.390\nBut IP filters,\nthese are the ones I really use, and\n\n1264\n00:57:59.390 --> 00:58:02.080\nwe're going to use these later in nap, but\n\n1265\n00:58:02.080 --> 00:58:06.510\nwith IP filters, here's where you can\nrestrict what servers they can get to.\n\n1266\n00:58:06.510 --> 00:58:12.090\nWhen somebody VPNs the default they\nget access to your entire network.\n\n1267\n00:58:12.090 --> 00:58:13.880\nYou probably don't want that.\n\n1268\n00:58:13.880 --> 00:58:18.780\nYou probably want them to get to your\nservers, not work stations or whatever.\n\n1269\n00:58:18.780 --> 00:58:21.660\nAnd so you can create an IP filter and\n\n1270\n00:58:21.660 --> 00:58:26.930\nyou can limit not only what IP's they\ncan talk to but what protocols, right?\n\n1271\n00:58:26.930 --> 00:58:31.390\nMaybe I want people to be able to vpn in\njust so they can ftp to a single server,\n\n1272\n00:58:31.390 --> 00:58:35.840\nso you can specify a particular\nIP address, and a protocol.\n\n1273\n00:58:35.840 --> 00:58:39.090\nYou can go in there and\npick like TCP, and then set up port.\n\n1274\n00:58:39.090 --> 00:58:44.070\nSo you can really get specific as to\nwhat they're going to be able to access,\n\n1275\n00:58:44.070 --> 00:58:45.610\nand, and what they can do.\n\n1276\n00:58:45.610 --> 00:58:47.130\nThis is super cool, right?\n\n1277\n00:58:47.130 --> 00:58:48.270\nThis is where we get a lot of power.\n\n1278\n00:58:48.270 --> 00:58:51.230\nAnd I can't tell you how many\npeople just don't use this.\n\n1279\n00:58:51.230 --> 00:58:56.840\nIt's sort of like a fire wall but\nit's applied in the VPN client and\n\n1280\n00:58:56.840 --> 00:58:58.850\nso it's something that\nthe end user can't override.\n\n1281\n00:58:58.850 --> 00:59:02.160\nIt's a part of that tunnel, and if they\ndrop the tunnel the filter goes away, but\n\n1282\n00:59:02.160 --> 00:59:03.510\nthey're not connected anymore, right?\n\n1283\n00:59:03.510 --> 00:59:06.760\nSo you get that security and benefit\nout of it, really, really cool stuff.\n\n1284\n00:59:09.732 --> 00:59:12.540\nAll right, what else do we have in there.\n\n1285\n00:59:12.540 --> 00:59:13.400\nEncryption.\n>> Encryption.\n\n1286\n00:59:14.450 --> 00:59:18.400\n>> Yeah so, you know, by default, Windows\ndoes this great thing for compatibility,\n\n1287\n00:59:18.400 --> 00:59:23.290\nwhere it says we will try the strongest\nencryption first, if it doesn't work,\n\n1288\n00:59:23.290 --> 00:59:26.260\nwe'll move to the next best, and\nthen we'll move to the next best.\n\n1289\n00:59:26.260 --> 00:59:29.880\nAnd then we'll move to the crap,\nthe really basic garbage encryption.\n\n1290\n00:59:29.880 --> 00:59:30.640\n>> And then none.\n\n1291\n00:59:30.640 --> 00:59:31.990\n>> And then none, yeah.\n\n1292\n00:59:31.990 --> 00:59:33.460\nYou can do that.\n\n1293\n00:59:33.460 --> 00:59:36.560\nWell you, believe it or not,\nmight not love that, right?\n\n1294\n00:59:36.560 --> 00:59:39.890\nIf these are people that are VPNing in,\nyou need them to be secure.\n\n1295\n00:59:39.890 --> 00:59:41.900\nSo on the server,\nright here in the policy,\n\n1296\n00:59:41.900 --> 00:59:43.660\nyou can trim off some of\nthese settings to say,\n\n1297\n00:59:43.660 --> 00:59:48.200\nyou know what, don't allow no encryption,\nyou've got to have at least something.\n\n1298\n00:59:48.200 --> 00:59:49.818\nAnd then you can specify your minimums.\n\n1299\n00:59:49.818 --> 00:59:51.486\n40 bit.\n\n1300\n00:59:51.486 --> 00:59:54.320\nFor the longest time was\nthe maximum the U.S.\n\n1301\n00:59:54.320 --> 00:59:56.160\nwas allowed to export to other countries,\nand so\n\n1302\n00:59:56.160 --> 00:59:59.880\nit was kinda the standard, but\n40 bit's not that hard to break anymore.\n\n1303\n00:59:59.880 --> 01:00:01.590\nAnd so it's not the greatest.\n\n1304\n01:00:01.590 --> 01:00:06.950\nYou might choose 56 bit or 128, requiring\nthose stronger levels of encryption.\n\n1305\n01:00:06.950 --> 01:00:07.450\n>> Yep.\n\n1306\n01:00:08.680 --> 01:00:10.790\nAnd then we have IP settings here.\n\n1307\n01:00:10.790 --> 01:00:13.280\n>> Yeah, this is the last option\nthat we really need to mess with,\n\n1308\n01:00:13.280 --> 01:00:16.040\nand this is the one that's tied around\n\n1309\n01:00:16.040 --> 01:00:18.770\nhow we're assigning IP addresses\nto our clients, right.\n\n1310\n01:00:18.770 --> 01:00:22.520\nSo, does the server provide\nthe IP to the client?\n\n1311\n01:00:22.520 --> 01:00:23.815\nOr does the client request one?\n\n1312\n01:00:23.815 --> 01:00:24.360\n>> Mm-hm.\n\n1313\n01:00:24.360 --> 01:00:24.890\n>> Right?\n\n1314\n01:00:24.890 --> 01:00:28.740\nIf the client has a particular IP they\nwant, are we going to allow that?\n\n1315\n01:00:28.740 --> 01:00:30.730\nOr do we just let\nthe servers determine it?\n\n1316\n01:00:30.730 --> 01:00:32.990\nIt's kind of up to us what we want to do.\n\n1317\n01:00:32.990 --> 01:00:38.130\nOr if this policy is so specific\nthat it only applies to one client.\n\n1318\n01:00:38.130 --> 01:00:39.510\nOne particular user.\n\n1319\n01:00:39.510 --> 01:00:41.530\nWe can statically assign\nan address right here.\n\n1320\n01:00:41.530 --> 01:00:43.835\nSo we can say, hey, when Don VPNs in.\n\n1321\n01:00:43.835 --> 01:00:44.430\n>> Mm-hm.\n\n1322\n01:00:44.430 --> 01:00:47.730\nNo matter what machine he uses, when he\nBPMs in, always give him this one IP.\n\n1323\n01:00:48.770 --> 01:00:50.860\nThat is awesome for auditing.\n\n1324\n01:00:50.860 --> 01:00:52.090\nAuditing and logging, right?\n\n1325\n01:00:52.090 --> 01:00:55.710\nKnowing that when I BPM in, I always\nget the same address, they can look in\n\n1326\n01:00:55.710 --> 01:00:58.940\nthe logs and say, all right, Don was\ndoing this on this day, that on that day.\n\n1327\n01:00:58.940 --> 01:00:59.830\nAnd keep track of that.\n\n1328\n01:00:59.830 --> 01:01:03.370\nSo, in high security environments,\nit's a very common thing.\n\n1329\n01:01:03.370 --> 01:01:05.880\nIn normal environments,\nwe normally just the ACP.\n\n1330\n01:01:05.880 --> 01:01:08.530\n>> So, if you were to set this up for\nindividuals, right?\n\n1331\n01:01:08.530 --> 01:01:10.590\nYou'd create a different policy for\nevery individual?\n\n1332\n01:01:10.590 --> 01:01:11.140\n>> For every one.\n\n1333\n01:01:11.140 --> 01:01:11.790\n>> Wow.\n\n1334\n01:01:11.790 --> 01:01:13.540\n>> Yeah.\n>> Remember on that screen where we saw\n\n1335\n01:01:13.540 --> 01:01:15.330\nWindows Groups,\nthere was Windows User also.\n\n1336\n01:01:15.330 --> 01:01:17.000\n>> Right.\n>> And so, you can be very specific,\n\n1337\n01:01:17.000 --> 01:01:19.700\nsay this particular user gets this policy.\n\n1338\n01:01:19.700 --> 01:01:20.520\n>> Nice.\n>> Yep.\n\n1339\n01:01:20.520 --> 01:01:23.295\nSo, but In a high security environment,\nthat's worth it.\n\n1340\n01:01:23.295 --> 01:01:25.510\n>> [LAUGH]\n>> In a mid or low security environment,\n\n1341\n01:01:25.510 --> 01:01:27.390\nit's a hassle to create\nall those policies.\n\n1342\n01:01:27.390 --> 01:01:28.420\nSo we don't normally go that way.\n\n1343\n01:01:28.420 --> 01:01:29.090\n>> Right.\n>> Yeah.\n\n1344\n01:01:29.090 --> 01:01:31.190\n>> All right.\n\n1345\n01:01:31.190 --> 01:01:32.780\nAnd then,\nat the end is our summary screen.\n\n1346\n01:01:32.780 --> 01:01:36.720\nAnd again, always verify that these\nare the settings that you want.\n\n1347\n01:01:36.720 --> 01:01:39.300\nI can't tell you how many\ntimes I've done just this, and\n\n1348\n01:01:39.300 --> 01:01:41.090\nthen I didn't need to change that.\n\n1349\n01:01:41.090 --> 01:01:43.820\nSo, good thing for\nus to review our policies here,\n\n1350\n01:01:43.820 --> 01:01:47.080\nand then at that point just click Finish.\n\n1351\n01:01:47.080 --> 01:01:48.270\n>> And it's not set in stone,\n\n1352\n01:01:48.270 --> 01:01:50.185\nwe can always go back and\nedit this stuff later on.\n\n1353\n01:01:50.185 --> 01:01:52.200\n>> Mm-hm.\n>> Yeah, and for\n\n1354\n01:01:52.200 --> 01:01:53.860\neven testing purposes, right?\n\n1355\n01:01:53.860 --> 01:01:56.820\nIf you think that your policy [INAUDIBLE]\nyou don't have to actually get rid of it.\n\n1356\n01:01:56.820 --> 01:02:00.420\nYou can just simply right click and\ndisable it.\n\n1357\n01:02:00.420 --> 01:02:03.890\nAnd test out and see if everything's\nworking if your doing that as well.\n\n1358\n01:02:03.890 --> 01:02:06.460\n>> And you can see the move up,\nmove down options right there.\n\n1359\n01:02:06.460 --> 01:02:10.176\nSo if you want to reorganize these rules\nthen you can do that pretty easily again\n\n1360\n01:02:10.176 --> 01:02:11.823\nnot having to reinvent the wheel.\n\n1361\n01:02:14.451 --> 01:02:15.400\nThere you go.\n\n1362\n01:02:15.400 --> 01:02:16.590\n>> Yep.\n\n1363\n01:02:16.590 --> 01:02:19.340\n>> All right\n>> Well as we went through all of those\n\n1364\n01:02:19.340 --> 01:02:22.480\nsetting and did we get them all, let me\njust double check the objectives here,\n\n1365\n01:02:22.480 --> 01:02:24.130\nmake sure we didn't miss any.\n\n1366\n01:02:24.130 --> 01:02:26.725\nAs my screen goes nuts.\n\n1367\n01:02:26.725 --> 01:02:29.490\n>> [LAUGH]\n>> There we go, no we hit them all,\n\n1368\n01:02:29.490 --> 01:02:33.220\nthe only thing we didn't do is import and\nexport MPS policies, but\n\n1369\n01:02:33.220 --> 01:02:36.760\nlet's do this Ronnie, because we are kind\nof at the end of our segment time\n\n1370\n01:02:36.760 --> 01:02:37.830\n>> Let's stop here and take a break.\n\n1371\n01:02:37.830 --> 01:02:38.380\n>> Okay.\n>> And\n\n1372\n01:02:38.380 --> 01:02:42.580\nwhen we get back we have one last thing to\ncover on NPS, just importing and exporting\n\n1373\n01:02:42.580 --> 01:02:46.560\nthese policies which again really\nuseful if you've got multiple servers.\n\n1374\n01:02:46.560 --> 01:02:48.730\nYou're trying to create a consistent\nenvironment across them.\n\n1375\n01:02:48.730 --> 01:02:50.680\nSo it's definitely something\nwe want to tackle.\n\n1376\n01:02:50.680 --> 01:02:53.530\nBut the other thing that I want to mention\nis we saw a lot of options in there that\n\n1377\n01:02:53.530 --> 01:02:56.550\nwere all\n>> NAP related, network access protection.\n\n1378\n01:02:56.550 --> 01:03:00.060\nSo, in the second half of the show, we're\ngoing to be taking a look at NAP, and\n\n1379\n01:03:00.060 --> 01:03:01.060\nwhat all that is.\n\n1380\n01:03:01.060 --> 01:03:03.210\nIt's all really just one\nbig extension of NPS.\n\n1381\n01:03:03.210 --> 01:03:06.010\nSo, we're going to take a look at that and\nsee what damage we can do there,\n\n1382\n01:03:06.010 --> 01:03:06.990\nit will be a good time.\n\n1383\n01:03:06.990 --> 01:03:08.858\nStay tuned, and we'll be back after this.\n\n1384\n01:03:08.858 --> 01:03:16.439\n>> [MUSIC].\n\n1385\n01:03:16.439 --> 01:03:18.410\n>> All right, welcome back everybody.\n\n1386\n01:03:18.410 --> 01:03:21.840\nSo in the last segment we tackled NPS and\nduring the break, Ronnie and\n\n1387\n01:03:21.840 --> 01:03:22.570\nI were talking.\n\n1388\n01:03:22.570 --> 01:03:25.340\nThere's actually a couple of\nlittle bits there that we forgot.\n\n1389\n01:03:25.340 --> 01:03:28.687\nSo we need to jump back and just wrap\nup a couple of last little pieces,\n\n1390\n01:03:28.687 --> 01:03:30.650\njust to make sure that we've got good and\n\n1391\n01:03:30.650 --> 01:03:33.540\ncomplete coverage\n>> One of the things we didn't mention\n\n1392\n01:03:33.540 --> 01:03:37.943\nwell we did mention we just didn't show I\nmentioned early on in segment two that,\n\n1393\n01:03:37.943 --> 01:03:42.187\nRADIUS does not do accounting by default,\nat least not on a Windows Servers.\n\n1394\n01:03:42.187 --> 01:03:43.280\nThe accounting stuff is turned off.\n\n1395\n01:03:43.280 --> 01:03:46.580\nAnd I said, but there's a real easy\nwizard you can run to set it up.\n\n1396\n01:03:46.580 --> 01:03:48.430\nAnd we never actually showed that.\n\n1397\n01:03:48.430 --> 01:03:51.370\nSo let's take a minute and kind of\njump back over to Ronnie's server, and\n\n1398\n01:03:51.370 --> 01:03:53.580\nhe's gonna show us how to set\nup that accounting piece.\n\n1399\n01:03:53.580 --> 01:03:54.280\n>> Yeah.\n\n1400\n01:03:54.280 --> 01:03:56.330\nSo, remember that when we do set up NPS,\nright?\n\n1401\n01:03:56.330 --> 01:03:58.200\nThat we've got our client set up.\n\n1402\n01:03:58.200 --> 01:03:59.830\nWe've created the templates\nthat we needed to.\n\n1403\n01:03:59.830 --> 01:04:01.740\nWe took a look at the policies here.\n\n1404\n01:04:01.740 --> 01:04:03.170\nIf we're gonna do the accounting side,\n\n1405\n01:04:03.170 --> 01:04:05.600\nwe also want to make sure\nthat this is done as well.\n\n1406\n01:04:05.600 --> 01:04:06.370\nThe good thing is,\n\n1407\n01:04:06.370 --> 01:04:11.030\ninside of our network policy server,\nwe do have access to this accounting.\n\n1408\n01:04:11.030 --> 01:04:13.740\nAnd again my scaling is\na little bit off there.\n\n1409\n01:04:13.740 --> 01:04:15.005\nSo you can see it right there.\n\n1410\n01:04:15.005 --> 01:04:16.482\n>> [LAUGH]\n>> I used the little zoom for us, and\n\n1411\n01:04:16.482 --> 01:04:18.170\napparently it's not working\n[CROSSTALK] [INAUDIBLE]\n\n1412\n01:04:18.170 --> 01:04:19.990\n>> That looks good.\n\n1413\n01:04:19.990 --> 01:04:22.100\n>> So there's the accounting part,\nright there.\n\n1414\n01:04:22.100 --> 01:04:24.398\nAnd you can see right again\non the detail side over here,\n\n1415\n01:04:24.398 --> 01:04:26.580\nwhere it talks about\nconfiguring the accounting.\n\n1416\n01:04:26.580 --> 01:04:29.030\nBut these are the things that\nDon was mentioning about\n\n1417\n01:04:29.030 --> 01:04:31.740\nwhere we can actually go ahead and\ndo this to.\n\n1418\n01:04:31.740 --> 01:04:34.740\nSo you can actually have log files and\nactually set it up someplace, but\n\n1419\n01:04:34.740 --> 01:04:37.940\nit's the SQL server logging\nproperties down there as well.\n\n1420\n01:04:37.940 --> 01:04:38.480\nSo, you can go in and\n\n1421\n01:04:38.480 --> 01:04:41.410\njust configure some of those instead\nof actually configuring everything.\n\n1422\n01:04:41.410 --> 01:04:46.010\nBut we want to begin here by selecting\nthe Configure Accounting link right there,\n\n1423\n01:04:46.010 --> 01:04:48.750\nand here is that wizard that we have.\n\n1424\n01:04:48.750 --> 01:04:52.450\nSo there it is, welcome to the NPS,\nyou can use this to configure\n\n1425\n01:04:52.450 --> 01:04:57.080\nNPS to record accounting information\nto a local text file, to a SQL server,\n\n1426\n01:04:57.080 --> 01:04:59.600\ndatabase, or both at the same time.\n\n1427\n01:04:59.600 --> 01:05:02.070\nThat's kind of a neat option for us here.\n\n1428\n01:05:02.070 --> 01:05:03.540\nSo let's go ahead and click Next here.\n\n1429\n01:05:03.540 --> 01:05:04.490\nAnd Don, you\n\n1430\n01:05:04.490 --> 01:05:05.960\nwanna talk about some of these options-\n>> Sure.\n\n1431\n01:05:05.960 --> 01:05:07.120\nThat we have available to us?\n\n1432\n01:05:07.120 --> 01:05:10.220\n>> So, the sequel database, I mentioned\nthat earlier, That, that's the best.\n\n1433\n01:05:10.220 --> 01:05:11.500\n>> Yeah it is.\n>> Because you can get\n\n1434\n01:05:11.500 --> 01:05:14.590\nhigh performance queries,\nyou can pull data, generate reports.\n\n1435\n01:05:14.590 --> 01:05:16.730\nYou can do all sorts of powerful stuff,\nbut\n\n1436\n01:05:16.730 --> 01:05:18.980\nit does require a database server, right?\n\n1437\n01:05:18.980 --> 01:05:21.240\nAnd it's normally a separate server,\nright?\n\n1438\n01:05:21.240 --> 01:05:24.260\nYou don't normally run this\non your NPS box itself.\n\n1439\n01:05:24.260 --> 01:05:26.833\nSo that's a little bit of infrastructure\nthat some people don't have.\n\n1440\n01:05:26.833 --> 01:05:30.060\nAnd so they may prefer to do text logs and\n\n1441\n01:05:30.060 --> 01:05:33.810\ntext logs are much more difficult\nbecause it breaks them up by days.\n\n1442\n01:05:33.810 --> 01:05:35.840\nYou have separate log files every day.\n\n1443\n01:05:35.840 --> 01:05:38.250\nAs they grow,\nthey become difficult to search across.\n\n1444\n01:05:38.250 --> 01:05:40.080\nYou can't search across multiple files,\nand so\n\n1445\n01:05:40.080 --> 01:05:41.580\nit becomes harder to correlate that data.\n\n1446\n01:05:41.580 --> 01:05:44.170\nBut, then there's the option to do both.\n\n1447\n01:05:44.170 --> 01:05:45.510\nWhy would we do both?\n\n1448\n01:05:45.510 --> 01:05:49.570\nWell, I mentioned, your SQL server\nis normally a separate server.\n\n1449\n01:05:49.570 --> 01:05:52.700\nWhat if something happens, and\nthe network link goes down, or\n\n1450\n01:05:52.700 --> 01:05:54.720\nthe SQL server reboots, or whatever?\n\n1451\n01:05:54.720 --> 01:05:59.216\nYou don't want to lose your information,\nso you can choose to do text files also as\n\n1452\n01:05:59.216 --> 01:06:03.340\nlike a backup, as a backup in case\nthe sequel server becomes unreachable.\n\n1453\n01:06:03.340 --> 01:06:07.810\nNow if we choose to do a text\nfile that's the simplest one,\n\n1454\n01:06:07.810 --> 01:06:11.640\nand really the only option we have to\nspecify is where we store the files, and\n\n1455\n01:06:11.640 --> 01:06:12.730\nwhat we want to begin them.\n\n1456\n01:06:12.730 --> 01:06:15.780\nBut if you choose the SQL Server option,\nwe have to go a little more.\n\n1457\n01:06:15.780 --> 01:06:18.730\nYou have to specify the server name and\na valid user name and\n\n1458\n01:06:18.730 --> 01:06:23.355\npassword to connect to that server to\nbe able to write to that database.\n\n1459\n01:06:23.355 --> 01:06:25.095\n>> Well, Don,\nsince I don't have a SQL Server up and\n\n1460\n01:06:25.095 --> 01:06:27.722\nrunning, we'll do the text file [LAUGH].\n\n1461\n01:06:27.722 --> 01:06:28.585\n>> We'll do the text file [LAUGH].\n\n1462\n01:06:28.585 --> 01:06:30.235\n>> It just makes it easier.\n\n1463\n01:06:30.235 --> 01:06:34.225\nSo from here, notice the amount of\ninformation that we can actually pull in.\n\n1464\n01:06:34.225 --> 01:06:37.174\nAccounting requests,\nauthentication, periodic status.\n\n1465\n01:06:37.174 --> 01:06:40.000\nPeriodic authentication here and\n\n1466\n01:06:40.000 --> 01:06:45.590\nit stores it right here\nunderneath my log files, yep.\n\n1467\n01:06:45.590 --> 01:06:48.430\n>> And that folder,\nC:/windows/system32/logfiles that's\n\n1468\n01:06:48.430 --> 01:06:49.790\ncreated by the system.\n\n1469\n01:06:49.790 --> 01:06:51.190\nYou can put these wherever you want.\n\n1470\n01:06:51.190 --> 01:06:54.420\nAnd it's a good idea if you don't\nclear these out, they can grow, and\n\n1471\n01:06:54.420 --> 01:06:56.280\ngrow, and grow and fill your hard drive.\n\n1472\n01:06:56.280 --> 01:06:58.800\nSo a lot of people like to\ncreate a separate partition\n\n1473\n01:06:58.800 --> 01:07:00.610\nto control the growth of it.\n\n1474\n01:07:00.610 --> 01:07:02.890\nAnd if you fill up that partition,\nit's not a big deal.\n\n1475\n01:07:02.890 --> 01:07:05.880\nWhereas if you fill up your C drive,\nit starts to mess with your page file, and\n\n1476\n01:07:05.880 --> 01:07:07.090\nthat can be really bad.\n\n1477\n01:07:07.090 --> 01:07:08.945\nSo you can definitely\nmove those off somewhere.\n\n1478\n01:07:08.945 --> 01:07:11.940\n>> Yep, and so here it even shows\nyou a logging failure action,\n\n1479\n01:07:11.940 --> 01:07:13.990\nwhat to do if it actually does fail.\n\n1480\n01:07:13.990 --> 01:07:17.490\nIf it gets too big and crashes your\nmachine, I guess you have an option.\n\n1481\n01:07:17.490 --> 01:07:18.710\nWe'll notice that default.\n\n1482\n01:07:18.710 --> 01:07:21.640\nIf logging fails,\ndiscard connection request.\n\n1483\n01:07:21.640 --> 01:07:22.840\nNow what does that mean?\n\n1484\n01:07:22.840 --> 01:07:27.150\nThat means nobody can\ndial in if logging fails.\n\n1485\n01:07:27.150 --> 01:07:28.140\nYou may not want that.\n\n1486\n01:07:28.140 --> 01:07:29.790\nYou may want to continue\nproviding service.\n\n1487\n01:07:29.790 --> 01:07:31.520\nNow, in a high security environment-\n>> No.\n\n1488\n01:07:31.520 --> 01:07:32.590\n>> Yeah, that's a bad thing.\n\n1489\n01:07:32.590 --> 01:07:34.730\nYou don't want to people to\ndial in if logging fails.\n\n1490\n01:07:34.730 --> 01:07:36.660\nSo just be aware that option is available.\n\n1491\n01:07:38.540 --> 01:07:41.030\n>> And\nthen once again the over all summary.\n\n1492\n01:07:41.030 --> 01:07:44.130\nFor us it's just very important to know\nwhat you have available to you when you're\n\n1493\n01:07:44.130 --> 01:07:45.530\nconfiguring logging.\n\n1494\n01:07:45.530 --> 01:07:48.490\nSo make sure you do have\nthe information that you need.\n\n1495\n01:07:48.490 --> 01:07:50.770\nAgain pay attention to of\ncourse your hard drive.\n\n1496\n01:07:50.770 --> 01:07:53.380\nIf your hard drive space is limited here,\nand\n\n1497\n01:07:53.380 --> 01:07:54.660\nknow what you're gonna\nactually end up doing.\n\n1498\n01:07:54.660 --> 01:07:56.590\n>> Yeah, notice those default options.\n\n1499\n01:07:56.590 --> 01:08:00.740\nCreate a new log file monthly,\nnot daily like I said a minute ago.\n\n1500\n01:08:00.740 --> 01:08:02.170\nSo it's doing one every month.\n\n1501\n01:08:02.170 --> 01:08:05.760\nDelete the older log files\nwhen the hard drive is full.\n\n1502\n01:08:05.760 --> 01:08:10.340\nSo it's gonna keep them forever if it can,\nuntil that hard drives gets full.\n\n1503\n01:08:10.340 --> 01:08:12.670\nAnd that can be a real problem\nif it's your C drive, so\n\n1504\n01:08:12.670 --> 01:08:16.297\nyou definitely want to move those off\nif this is gonna be something ongoing.\n\n1505\n01:08:17.860 --> 01:08:19.930\n>> All right, so, easy to set up?\n\n1506\n01:08:19.930 --> 01:08:20.770\nAbsolutely.\n\n1507\n01:08:20.770 --> 01:08:25.390\nAnd that's the point I was trying to drive\nhome earlier today is just because it\n\n1508\n01:08:25.390 --> 01:08:29.470\nturned off by default doesn't mean it's\na giant hassle to get it configured.\n\n1509\n01:08:29.470 --> 01:08:32.858\n>> All right, Don, now that we\nhave this set up and ready to go,\n\n1510\n01:08:32.858 --> 01:08:37.680\nif I have multiple servers, now I need to\ngo to every single one and start again?\n\n1511\n01:08:37.680 --> 01:08:38.677\n>> Well, great point Randy.\n\n1512\n01:08:38.677 --> 01:08:41.420\nAnd this is the thing we forgot to\ntalk about earlier in the show.\n\n1513\n01:08:42.780 --> 01:08:46.600\nIf we have multiple servers,\nlet's go back to my diagram for second.\n\n1514\n01:08:46.600 --> 01:08:52.107\nSo I drew a diagram that showed\na centralized NPS type environment.\n\n1515\n01:08:52.107 --> 01:08:56.432\nWhere we've got multiple\nremote access servers that\n\n1516\n01:08:56.432 --> 01:09:00.572\nare really just clients off\nof the central NPS box.\n\n1517\n01:09:00.572 --> 01:09:05.468\nSo, as our company grows,\nas we add more employees, and so on,\n\n1518\n01:09:05.468 --> 01:09:12.140\nthese remote access servers up here,\nthey get busier, and busier, and busier.\n\n1519\n01:09:12.140 --> 01:09:14.990\nAnd so you can exceed\nthe capabilities of those servers,\n\n1520\n01:09:14.990 --> 01:09:19.300\nyou have to continually add more,\nand more, and more as time goes on.\n\n1521\n01:09:19.300 --> 01:09:23.460\nSo you might start with one, and then you\nadd a second, a third, a fourth, a fifth,\n\n1522\n01:09:23.460 --> 01:09:27.770\nas your company grows to facilitate\nall the VPN connections or whatever.\n\n1523\n01:09:27.770 --> 01:09:31.080\nWell, each one needs to be\nconfigured the same way.\n\n1524\n01:09:31.080 --> 01:09:32.330\nThere's a lot of settings.\n\n1525\n01:09:32.330 --> 01:09:35.160\nThere's the connection request policies,\nthe network policies,\n\n1526\n01:09:35.160 --> 01:09:38.790\nthe accounting policies,\nall those different things that we define.\n\n1527\n01:09:38.790 --> 01:09:41.960\nHow do we keep that synchronized\nacross the different servers?\n\n1528\n01:09:41.960 --> 01:09:47.490\nWell, fortunately NPS is a super\neasy export and import function.\n\n1529\n01:09:47.490 --> 01:09:50.990\nYou can export the entire\nconfiguration of a server.\n\n1530\n01:09:50.990 --> 01:09:52.230\nSo for example,\n\n1531\n01:09:52.230 --> 01:09:56.130\nmaybe this is the one that I've configured\na hundred percent the way I want it.\n\n1532\n01:09:56.130 --> 01:10:01.280\nI can then export it, and\nimport that configuration on all of my\n\n1533\n01:10:01.280 --> 01:10:06.030\nother systems guaranteeing that\nthey're all set up identically.\n\n1534\n01:10:07.580 --> 01:10:12.000\nNow, we can do this through\nthe super easy GUI, but there's also\n\n1535\n01:10:12.000 --> 01:10:15.690\nPowerShell commands that do this and I've\nactually seen this used to great effect.\n\n1536\n01:10:15.690 --> 01:10:19.030\nI've seen it where people set them\nup to automatically synchronize.\n\n1537\n01:10:19.030 --> 01:10:21.920\nWhere once an hour,\none server would export and\n\n1538\n01:10:21.920 --> 01:10:23.480\nthen the other servers would import.\n\n1539\n01:10:23.480 --> 01:10:25.460\nSo if you made a change on one,\nit would take an hour, but\n\n1540\n01:10:25.460 --> 01:10:27.490\nit would propagate out to\nthe others automatically.\n\n1541\n01:10:27.490 --> 01:10:30.180\nSo, you could do some really cool\nstuff with the PowerShell commands.\n\n1542\n01:10:30.180 --> 01:10:32.710\nBut the GUI,\nthat's normally the way we're going to go,\n\n1543\n01:10:32.710 --> 01:10:34.980\nbecause you're not spawning\nnew servers every single day.\n\n1544\n01:10:34.980 --> 01:10:37.670\nSo it's not always something\nwe need to automate.\n\n1545\n01:10:37.670 --> 01:10:42.550\n>> So, back on my server over here,\nthe easiest way is to actually remember\n\n1546\n01:10:42.550 --> 01:10:47.160\nthat what we need to do, is on the MPS\nlocal, is we can right-click, and\n\n1547\n01:10:47.160 --> 01:10:49.210\ngo to the export configuration.\n\n1548\n01:10:49.210 --> 01:10:53.110\nAnd of course, it actually gives\nus a nice little message here.\n\n1549\n01:10:53.110 --> 01:10:55.750\nWhen you export RADIUS client and\n\n1550\n01:10:55.750 --> 01:10:59.790\nthe remote RADIUS server shared secrets,\nensure the exported file is stored in\n\n1551\n01:10:59.790 --> 01:11:03.740\na secured location to prevent malicious\nusers from accessing the file.\n\n1552\n01:11:03.740 --> 01:11:06.020\nSo telling us we need to\ntake some precautions here.\n\n1553\n01:11:06.020 --> 01:11:09.890\nAnd then, of course, remember that you\nhave to set up what the account in here.\n\n1554\n01:11:09.890 --> 01:11:11.830\nIs what you also you have to\nremember in terms of the logging.\n\n1555\n01:11:13.530 --> 01:11:15.110\nSo all you do is, you check OK.\n\n1556\n01:11:16.230 --> 01:11:19.716\nAnd the I am aware that I am\nexporting all shared secrets.\n\n1557\n01:11:19.716 --> 01:11:20.480\n>> [LAUGH] I am self-aware.\n\n1558\n01:11:20.480 --> 01:11:22.210\n>> Yeah, I am self-aware.\n\n1559\n01:11:22.210 --> 01:11:23.110\nAnd you click OK.\n\n1560\n01:11:23.110 --> 01:11:25.810\nAnd now it asks you where\ndo you want to store it.\n\n1561\n01:11:25.810 --> 01:11:28.520\nAnd notice it creates the XML file,\nright here.\n\n1562\n01:11:28.520 --> 01:11:29.950\n>> Yep, it's a straight up XML file.\n\n1563\n01:11:29.950 --> 01:11:30.830\nIt is text.\n\n1564\n01:11:30.830 --> 01:11:33.500\nThe pre-shared keys are in\nthere in plain text.\n\n1565\n01:11:33.500 --> 01:11:34.551\nThat's what they're warning us about.\n\n1566\n01:11:34.551 --> 01:11:37.541\nIf somebody gets a hold of this XML file,\nthey've now got our pre-shared keys.\n\n1567\n01:11:37.541 --> 01:11:41.571\nNow, it doesn't contain any user account\ninformation, so no username and passwords.\n\n1568\n01:11:41.571 --> 01:11:43.769\nJust the pre-shared key for\nRADIUS clients.\n\n1569\n01:11:43.769 --> 01:11:46.620\nSo, if this were to get out\nit's not the end of the world.\n\n1570\n01:11:46.620 --> 01:11:49.340\nSomebody could then use it to try and\nauthenticate,\n\n1571\n01:11:49.340 --> 01:11:53.350\nbut they wouldn't necessarily\nhave authentication credentials.\n\n1572\n01:11:53.350 --> 01:11:55.800\nSo, that's why Microsoft hasn't made\na big push to encrypt this, or whatever.\n\n1573\n01:11:55.800 --> 01:11:56.642\n>> [CROSSTALK] They probably\nshould [INAUDIBLE]. >> They\n\n1574\n01:11:56.642 --> 01:11:59.070\nprobably will sooner or later.\n\n1575\n01:11:59.070 --> 01:12:01.490\nBut now all you have to do is\njump over to your other servers.\n\n1576\n01:12:01.490 --> 01:12:03.320\n>> Yup.\n>> And you'd be able to import it.\n\n1577\n01:12:03.320 --> 01:12:05.570\nI don't know if I can find\nthe Import option now.\n\n1578\n01:12:05.570 --> 01:12:07.765\nIt's the same place,\nI just thought we'd see that file.\n\n1579\n01:12:07.765 --> 01:12:08.986\nIt doesn't show up.\n\n1580\n01:12:08.986 --> 01:12:10.900\n>> [LAUGH] It sort of came up.\n\n1581\n01:12:10.900 --> 01:12:12.720\n>> It came up, but.\n\n1582\n01:12:12.720 --> 01:12:17.215\nAll right, so on your other servers,\nthen, it would be the same place, and\n\n1583\n01:12:17.215 --> 01:12:19.115\nyou'd right click and\nyou would select import.\n\n1584\n01:12:20.265 --> 01:12:24.725\nAnd from there, of course, you would\nselect your XML document and click open,\n\n1585\n01:12:24.725 --> 01:12:26.525\nand that would import here.\n\n1586\n01:12:26.525 --> 01:12:29.760\nIt tells you it was successfully\nimported in, and once again,\n\n1587\n01:12:29.760 --> 01:12:33.920\ndon't forget manually setting\nup your log in and your account.\n\n1588\n01:12:33.920 --> 01:12:36.980\n>> And the log in accounting there,\nif you have SQL\n\n1589\n01:12:36.980 --> 01:12:40.260\nbecause that does have a username and\npassword so it doesn't export that.\n\n1590\n01:12:40.260 --> 01:12:43.350\nIf you're just doing text file logging\nthat part actually does come over.\n\n1591\n01:12:43.350 --> 01:12:47.300\nSo, you may have to do some of it but\nmost of it will be in there.\n\n1592\n01:12:48.340 --> 01:12:48.840\nSo just-\n>> Fine.\n\n1593\n01:12:48.840 --> 01:12:49.480\n>> Remember that, and\n\n1594\n01:12:49.480 --> 01:12:54.280\nalong with that in terms of the,\nthe power shell command, not so\n\n1595\n01:12:54.280 --> 01:12:55.960\nmuch that you're gonna do that everyday.\n\n1596\n01:12:55.960 --> 01:12:59.780\nBut the nice thing is it's\neasy in terms of the export.\n\n1597\n01:12:59.780 --> 01:13:03.060\nI'm gonna just type this in so\nthat we can see it at least one time here.\n\n1598\n01:13:03.060 --> 01:13:07.375\nLooks small enough, don't it?\n\n1599\n01:13:07.375 --> 01:13:10.180\n[LAUGH] Let's change it.\n\n1600\n01:13:10.180 --> 01:13:14.100\nJust one moment, it's not gonna be one\nof those super long commands here.\n\n1601\n01:13:14.100 --> 01:13:14.980\nSo that's nice.\n\n1602\n01:13:17.900 --> 01:13:19.240\nIf we needed to export, oops.\n\n1603\n01:13:19.240 --> 01:13:26.330\nI have to spell it correctly,\nExport-NpsConfiguration makes sense.\n\n1604\n01:13:26.330 --> 01:13:27.580\nAnd then you give it a name.\n\n1605\n01:13:27.580 --> 01:13:30.000\nSo, I'm just gonna put and\n\n1606\n01:13:31.840 --> 01:13:34.570\nnormally that stores it right\nwherever you actually put it.\n\n1607\n01:13:36.870 --> 01:13:39.120\nI forgot to run it in administrative mode.\n\n1608\n01:13:39.120 --> 01:13:40.850\nWhy would I actually do it correctly?\n\n1609\n01:13:40.850 --> 01:13:42.410\nI mean that's-\n>> Yeah, so\n\n1610\n01:13:42.410 --> 01:13:46.390\nthe example I gave earlier where I\nsaw this is they were using it, and\n\n1611\n01:13:46.390 --> 01:13:47.970\nyou can go ahead and\nfire it back up, Ronnie.\n\n1612\n01:13:47.970 --> 01:13:50.570\nBut they were using it where,\nbasically, once an hour,\n\n1613\n01:13:50.570 --> 01:13:53.920\nit would dump that configuration\nto a secure network location.\n\n1614\n01:13:53.920 --> 01:13:59.120\nAnd then on the other servers, once now it\nwould run the import MPS configuration,\n\n1615\n01:13:59.120 --> 01:14:00.810\nand it would import that\nfile in the other ones.\n\n1616\n01:14:00.810 --> 01:14:03.460\nAnd that just ensured they had that\nsame config across all of them.\n\n1617\n01:14:03.460 --> 01:14:06.290\nIt's really cool because if\nyou have Ten NPS servers, and\n\n1618\n01:14:06.290 --> 01:14:07.420\nyou create a new policy on one?\n\n1619\n01:14:07.420 --> 01:14:11.680\nYou have to get that policy on all of the\nothers also, and so that, it creates a bit\n\n1620\n01:14:11.680 --> 01:14:15.086\nof a headache, and if you just\nimport/export that knocks that right out.\n\n1621\n01:14:15.086 --> 01:14:18.556\nSo.\n>> Helps that I can spell things right\n\n1622\n01:14:18.556 --> 01:14:19.350\ntoo.\n\n1623\n01:14:19.350 --> 01:14:20.880\n>> Yeah, no spell checkers.\n\n1624\n01:14:20.880 --> 01:14:22.480\n>> Yeah.\n>> No tab auto complete.\n\n1625\n01:14:22.480 --> 01:14:22.980\n>> I know.\n\n1626\n01:14:26.842 --> 01:14:30.219\n>> All right, so there he goes and\nit just dumps that XML file and\n\n1627\n01:14:30.219 --> 01:14:32.850\nthen you can\n>> I just use Notepad.\n\n1628\n01:14:32.850 --> 01:14:35.180\n>> Let's see if Notepad mutilates it.\n\n1629\n01:14:35.180 --> 01:14:36.145\n>> It should.\n\n1630\n01:14:36.145 --> 01:14:40.285\n>> [LAUGH]\nThere we go.\n\n1631\n01:14:40.285 --> 01:14:44.860\nYup, and you can see in there, and\nwe didn't create all that many profiles or\n\n1632\n01:14:44.860 --> 01:14:47.270\npolicies or anything but\nif you scroll down, you'll see them.\n\n1633\n01:14:47.270 --> 01:14:50.840\nAny of the IP filters, the security,\nencryption, all that stuff.\n\n1634\n01:14:50.840 --> 01:14:55.060\nAnything that we defined, it's all in\nthere In an easy to import method for\n\n1635\n01:14:55.060 --> 01:14:56.841\nthe other server.\n\n1636\n01:14:56.841 --> 01:15:02.750\n[CROSSTALK] Good way to go there\nvery easy and gets you in business.\n\n1637\n01:15:02.750 --> 01:15:04.860\nAll right Ronnie, so\nI think that does wrap up NPS.\n\n1638\n01:15:04.860 --> 01:15:06.980\nI think we covered everything\nthat's in the objectives.\n\n1639\n01:15:06.980 --> 01:15:08.780\nCan you think of anything\nelse on that one?\n\n1640\n01:15:08.780 --> 01:15:10.610\n>> I do not.\nJust remember some of the small things\n\n1641\n01:15:10.610 --> 01:15:12.580\nare really some of the more\nimportant things too right.\n\n1642\n01:15:12.580 --> 01:15:15.620\nLike registering the, the NPS server.\n\n1643\n01:15:15.620 --> 01:15:16.310\nOkay.\n\n1644\n01:15:16.310 --> 01:15:20.840\nVery easy to do, but very easy to forget,\nand if it asks you to make sure that,\n\n1645\n01:15:20.840 --> 01:15:25.680\nyou know, you ensure that this is\nthe only NPS server, whatever it is\n\n1646\n01:15:25.680 --> 01:15:29.262\nMake sure you do register that thing and\ntake a look at that information.\n\n1647\n01:15:29.262 --> 01:15:30.384\nYeah.\n\n1648\n01:15:30.384 --> 01:15:32.910\n>> All right, well for\nthe second half of our show,\n\n1649\n01:15:32.910 --> 01:15:37.312\nwe're gonna take a look at\nnetwork access protection or NAP.\n\n1650\n01:15:37.312 --> 01:15:38.026\n>> Yup.\n\n1651\n01:15:38.026 --> 01:15:41.680\n>> NAP is an extension of NPS,\nso it requires NPS.\n\n1652\n01:15:41.680 --> 01:15:43.150\nYou got to have NPS in place.\n\n1653\n01:15:43.150 --> 01:15:45.780\nEverything that we've talked about\nin the first half of this show\n\n1654\n01:15:45.780 --> 01:15:49.030\nIs really stage one of getting NAP setup,\nall right.\n\n1655\n01:15:49.030 --> 01:15:53.040\nSo let's start with some real basics here,\nwhat is Network Access Protection?\n\n1656\n01:15:53.040 --> 01:15:58.140\nWell, you saw with MPS where we made it so\nthat if somebody connected, we could\n\n1657\n01:15:58.140 --> 01:16:03.210\napply criteria to determine whether or not\nthey should be allowed to connect at all.\n\n1658\n01:16:03.210 --> 01:16:08.862\nRight, and it was really based around\nsomebody coming in via VPN, or dial up.\n\n1659\n01:16:08.862 --> 01:16:10.720\nAll right, but in the Windows world,\n\n1660\n01:16:10.720 --> 01:16:14.840\nthere's actually several different ways\nthat people can come into our network, and\n\n1661\n01:16:14.840 --> 01:16:18.500\nwouldn't it be nice to be able to check,\njust everybody coming in.\n\n1662\n01:16:18.500 --> 01:16:20.920\nWhether they pass through\na remote access server or not.\n\n1663\n01:16:20.920 --> 01:16:23.860\nWouldn't it be nice to be able to check\nsomebody just when they brought their\n\n1664\n01:16:23.860 --> 01:16:27.080\nlaptop in and plugged it in a physical\njack in your building, right.\n\n1665\n01:16:27.080 --> 01:16:28.230\nAll right, we wanna check there too.\n\n1666\n01:16:28.230 --> 01:16:30.510\nThey're not going through\na remote access server, but\n\n1667\n01:16:30.510 --> 01:16:33.610\nit would still be nice to check to make\nsure that they should be there, right?.\n\n1668\n01:16:33.610 --> 01:16:39.760\nWouldn't it also be nice to check for more\nthan just what group they're in, right?\n\n1669\n01:16:39.760 --> 01:16:44.420\nWell, and yes, you saw all\nthe filters that it could do But\n\n1670\n01:16:44.420 --> 01:16:48.320\neven though three were a lot of filter\noptions, there wasn't a ton, right?\n\n1671\n01:16:48.320 --> 01:16:50.690\nIt wasn't amazing,\nthe things that it could do.\n\n1672\n01:16:50.690 --> 01:16:52.100\nWouldn't it be nice to\nbe able to check and\n\n1673\n01:16:52.100 --> 01:16:54.075\nsay, have you run your Windows updates?\n\n1674\n01:16:54.075 --> 01:16:54.770\nDo you have antivirus installed?\n\n1675\n01:16:54.770 --> 01:16:59.920\nDo you have your Windows\nfirewall turned on?\n\n1676\n01:16:59.920 --> 01:17:02.190\n>> Right.\n>> Has your machine run a virus scan\n\n1677\n01:17:02.190 --> 01:17:04.330\nwithin the last three days, right?\n\n1678\n01:17:04.330 --> 01:17:07.900\nThese are all questions that we should ask\nof any machine coming into our network.\n\n1679\n01:17:07.900 --> 01:17:11.360\nIf somebody brings their own laptop,\nor brings a company laptop in, but\n\n1680\n01:17:11.360 --> 01:17:13.550\nthe company laptop's been at\ntheir house for a couple days.\n\n1681\n01:17:13.550 --> 01:17:17.090\nHow do you know that machine's not\ninfected with viruses, root kits, and\n\n1682\n01:17:17.090 --> 01:17:18.170\nstuff like that?\n\n1683\n01:17:18.170 --> 01:17:21.020\nWouldn't it be nice to check\nthose machines before we let\n\n1684\n01:17:21.020 --> 01:17:22.040\nthem on the network?\n\n1685\n01:17:22.040 --> 01:17:25.310\nWell, you can do it physically, but\nthat's really an impossibility for\n\n1686\n01:17:25.310 --> 01:17:28.290\nmost large companies, you just\ndon't have the time and resources.\n\n1687\n01:17:28.290 --> 01:17:30.560\nSo, wouldn't it be nice if we could\ndo that automatically, right?\n\n1688\n01:17:30.560 --> 01:17:33.500\nAnd that's what network\naccess protection does.\n\n1689\n01:17:33.500 --> 01:17:37.610\nNAP is like NPS, except if for\n\n1690\n01:17:37.610 --> 01:17:41.540\nevery connection method,\nnot just VPN and dial up.\n\n1691\n01:17:41.540 --> 01:17:44.030\nIt works when somebody\nbuilds an IP set tunnel.\n\n1692\n01:17:44.030 --> 01:17:47.850\nIt works when somebody gets a DHCP\naddress from a DHCP server.\n\n1693\n01:17:47.850 --> 01:17:53.210\nIt works when they just plug into a\nswitch, if that switch is 802.1x capable.\n\n1694\n01:17:54.700 --> 01:17:59.310\nVery, very awesome technology when they\nconnect through any of those mechanisms,\n\n1695\n01:17:59.310 --> 01:18:02.590\nthey then run through a series of\nwhat are called health checks.\n\n1696\n01:18:02.590 --> 01:18:08.120\nThe health checks evaluate that machine\nto determine wether it meets our\n\n1697\n01:18:08.120 --> 01:18:11.920\nrequirements, and we're going to check for\nthings like: Is your firewall turned on?\n\n1698\n01:18:11.920 --> 01:18:13.890\nDo you have antivirus installed?\n\n1699\n01:18:13.890 --> 01:18:15.550\nAre your virus definitions up to date?\n\n1700\n01:18:15.550 --> 01:18:17.370\nHave you run a scan in the last few days?\n\n1701\n01:18:17.370 --> 01:18:18.870\nHave you done your Windows updates?\n\n1702\n01:18:18.870 --> 01:18:20.270\nAre they set to automatic?\n\n1703\n01:18:20.270 --> 01:18:22.890\nThese are all things that we\ncan ask the machine to make\n\n1704\n01:18:22.890 --> 01:18:25.640\nsure that it's clean and health.\n\n1705\n01:18:25.640 --> 01:18:30.530\nNow, with NPS, if you didn't match\nthe policy criteria, what happened?\n\n1706\n01:18:30.530 --> 01:18:31.580\nYou got disconnected.\n\n1707\n01:18:31.580 --> 01:18:33.470\nThat was it.\nYou got nothing, but\n\n1708\n01:18:33.470 --> 01:18:37.610\nwith NAP, it goes even further and\nit says, okay If you're not healthy.\n\n1709\n01:18:37.610 --> 01:18:41.130\nIf you don't meet our requirements,\nwe're not gonna disconnect you.\n\n1710\n01:18:41.130 --> 01:18:44.125\nWe're gonna put you into what's\ncalled a remediation network.\n\n1711\n01:18:44.125 --> 01:18:44.720\n>> Mm-hm.\n\n1712\n01:18:44.720 --> 01:18:49.250\n>> A remediation network is\na closed-off network that isn't able\n\n1713\n01:18:49.250 --> 01:18:50.930\nto see the rest of your company machines.\n\n1714\n01:18:50.930 --> 01:18:53.850\nCan't see the servers and\nworkstations and stuff like that.\n\n1715\n01:18:53.850 --> 01:18:55.170\nIt just sees what's on this.\n\n1716\n01:18:56.990 --> 01:18:58.960\nQuarantined or cordoned off network.\n\n1717\n01:18:58.960 --> 01:19:00.440\n>> Yeah.\n>> And so\n\n1718\n01:19:00.440 --> 01:19:03.360\nyou just see this one little network,\nand what's going to be on that network?\n\n1719\n01:19:03.360 --> 01:19:05.060\nWell hopefully a WSUS server.\n\n1720\n01:19:05.060 --> 01:19:05.750\n>> Yeah.\n>> You know,\n\n1721\n01:19:05.750 --> 01:19:07.149\nWindows Server Update Services.\n\n1722\n01:19:08.930 --> 01:19:11.180\nSo, Windows updates server or\n\n1723\n01:19:11.180 --> 01:19:14.430\na router that gives you access to the\nInternet to get to Windows updates, and\n\n1724\n01:19:14.430 --> 01:19:17.050\nan anti virus server so\nyou can get your virus definitions.\n\n1725\n01:19:17.050 --> 01:19:20.724\nYou know the things that you need\nto make your machine healthy.\n\n1726\n01:19:20.724 --> 01:19:25.480\nSo, you get put on to this remediation\nnetwork and you have a chance to make\n\n1727\n01:19:25.480 --> 01:19:29.704\nyourself healthy, and\nwhen you're healthy nap detects that and\n\n1728\n01:19:29.704 --> 01:19:34.946\nmoves you onto the regular network, it\ngives you a quarantine zone or a man trap.\n\n1729\n01:19:34.946 --> 01:19:38.553\nYou come in one door and\nyou're stuck in this little purgatory.\n\n1730\n01:19:38.553 --> 01:19:40.132\nAnd once you've proven yourself,\n\n1731\n01:19:40.132 --> 01:19:43.720\nthen you're allowed through the second\ndoor to get into the local area network.\n\n1732\n01:19:43.720 --> 01:19:45.985\nInto the the LAN and access the network.\n\n1733\n01:19:45.985 --> 01:19:49.770\n>> Now Don, I can see this really being\nhelpful, like if I sent somebody out with\n\n1734\n01:19:49.770 --> 01:19:52.710\nlaptops and they were let's say\npart of a traveling sales force.\n\n1735\n01:19:52.710 --> 01:19:54.900\nThey go out there for six weeks at a time.\n\n1736\n01:19:54.900 --> 01:19:57.070\nConnecting to hotel networks or\n\n1737\n01:19:57.070 --> 01:20:00.840\nto other business free networks\nthat are actually out there.\n\n1738\n01:20:00.840 --> 01:20:03.860\nAnd then they bring their laptop\nback into my network here.\n\n1739\n01:20:03.860 --> 01:20:06.072\nAnd that machine could\npossibly be infected.\n\n1740\n01:20:06.072 --> 01:20:06.582\nRight?\n>> Absolutely.\n\n1741\n01:20:06.582 --> 01:20:08.540\n>> Or maybe not has actually gotten any\n\n1742\n01:20:08.540 --> 01:20:11.450\nof the updates during that time or\nwhatever.\n\n1743\n01:20:11.450 --> 01:20:15.110\nAnd this actually allows me then to\nactually be able to plug it right in and\n\n1744\n01:20:15.110 --> 01:20:17.860\nthen get put in that\nremediation network here\n\n1745\n01:20:17.860 --> 01:20:20.815\nto let it update before it ever\nactually touches my actual network.\n\n1746\n01:20:20.815 --> 01:20:22.150\n>> Yeah.\n>> It's pretty cool.\n\n1747\n01:20:22.150 --> 01:20:23.360\n>> It's extremely cool.\n\n1748\n01:20:23.360 --> 01:20:27.030\nAnd to be honest with you,\nif people have laptops and\n\n1749\n01:20:27.030 --> 01:20:29.180\nthey're running as standard users.\n\n1750\n01:20:29.180 --> 01:20:31.150\n>> Yeah.\n>> Then it's not such a big deal.\n\n1751\n01:20:31.150 --> 01:20:31.650\nRight?\n>> Right.\n\n1752\n01:20:31.650 --> 01:20:32.680\n>> Because they're not going to do things\n\n1753\n01:20:32.680 --> 01:20:34.140\nto the machine that would\ncompromise the security.\n\n1754\n01:20:34.140 --> 01:20:35.890\nThey're just standard users.\n\n1755\n01:20:35.890 --> 01:20:38.780\nBut there's plenty of companies out\nthere where people are administrators on\n\n1756\n01:20:38.780 --> 01:20:39.340\ntheir own machines.\n\n1757\n01:20:39.340 --> 01:20:40.780\n>> Right.\n>> So they're a local administrator.\n\n1758\n01:20:40.780 --> 01:20:43.340\nSo they can install unauthorized software,\n\n1759\n01:20:43.340 --> 01:20:46.640\nget the machine impacted,\n>> Do a lot of bad things.\n\n1760\n01:20:46.640 --> 01:20:48.670\n>> And\nthen bring that device to your network.\n\n1761\n01:20:48.670 --> 01:20:49.860\n>> Yeah.\n>> And when they bring it to your network\n\n1762\n01:20:49.860 --> 01:20:51.260\nthey're behind the firewall.\n\n1763\n01:20:51.260 --> 01:20:52.000\nThey plug in.\n\n1764\n01:20:52.000 --> 01:20:54.050\nAnd then start to infect other machines.\n\n1765\n01:20:54.050 --> 01:20:55.260\nYou do not want that to happen.\n\n1766\n01:20:55.260 --> 01:20:59.065\nYou could have a virus outbreak that comes\nfrom the inside out of your network.\n\n1767\n01:20:59.065 --> 01:21:00.515\nAnd that's, that's really bad.\n\n1768\n01:21:00.515 --> 01:21:02.465\nNAP protects us from that.\n\n1769\n01:21:02.465 --> 01:21:03.085\nOkay?\n\n1770\n01:21:03.085 --> 01:21:06.095\nSo again, this morning I was bored,\n>> [LAUGH]\n\n1771\n01:21:06.095 --> 01:21:07.595\n>> When I did my NPS diagram\n\n1772\n01:21:08.605 --> 01:21:12.790\nI whipped up a diagram for NAP also.\n\n1773\n01:21:12.790 --> 01:21:14.250\n>> Nice.\n>> So let's take a look at this,\n\n1774\n01:21:14.250 --> 01:21:17.510\nbecause there are a lot\nof components to NAP,.\n\n1775\n01:21:17.510 --> 01:21:18.310\nRight?\n\n1776\n01:21:18.310 --> 01:21:21.090\nSo, what I did is I drew\na local area network, and\n\n1777\n01:21:21.090 --> 01:21:27.120\nI know it's a little bit hard to see, but\nbasically it is this cloud right here.\n\n1778\n01:21:27.120 --> 01:21:29.910\n>> This is our LAN,\nour Local Area Network.\n\n1779\n01:21:29.910 --> 01:21:32.150\nAnd we've got servers and workstations and\n\n1780\n01:21:32.150 --> 01:21:35.750\nall the various things that make up a LAN,\nright here on this system.\n\n1781\n01:21:35.750 --> 01:21:36.710\nOkay?\n\n1782\n01:21:36.710 --> 01:21:40.190\nAnd then we have some clients,\nClient 1, Client 2, and Client 3.\n\n1783\n01:21:40.190 --> 01:21:41.200\nAnd they're out here.\n\n1784\n01:21:41.200 --> 01:21:41.837\nWhoops.\n>> [LAUGH]\n\n1785\n01:21:41.837 --> 01:21:43.750\n>> That's not quite what I wanted.\n\n1786\n01:21:43.750 --> 01:21:45.320\nNow everybody is gonna get seasickness.\n\n1787\n01:21:45.320 --> 01:21:47.030\nWe're gonna get support tickets.\n\n1788\n01:21:47.030 --> 01:21:50.440\nBut basically,\nwe've got clients that are just,\n\n1789\n01:21:50.440 --> 01:21:52.430\nthey're outside of our network somewhere.\n\n1790\n01:21:52.430 --> 01:21:56.050\nAnd maybe they're at home,\nthey're in a hotel, they're wherever.\n\n1791\n01:21:56.050 --> 01:21:57.370\nAll right?\n\n1792\n01:21:57.370 --> 01:22:00.510\nThey need to get access to our local\narea network when they come back.\n\n1793\n01:22:00.510 --> 01:22:02.460\nNow, how could they do that?\n\n1794\n01:22:02.460 --> 01:22:05.990\nWell, there's four ways\ncalled out on the exam.\n\n1795\n01:22:05.990 --> 01:22:08.282\nThere's actually five ways\nthat they could do this.\n\n1796\n01:22:08.282 --> 01:22:09.630\nAll right?\nOne way,\n\n1797\n01:22:09.630 --> 01:22:14.380\nis they could walk into our building,\nplug into our network, and request.\n\n1798\n01:22:14.380 --> 01:22:15.755\nYou know, why do I keep doing this?\n\n1799\n01:22:15.755 --> 01:22:19.750\n>> [LAUGH]\n>> Apparently I've lost control of my,\n\n1800\n01:22:19.750 --> 01:22:22.716\nhere, let me just redo this.\n\n1801\n01:22:22.716 --> 01:22:24.240\nThere.\n\n1802\n01:22:24.240 --> 01:22:28.920\nSo they could walk into my office,\nplug into a switch, and\n\n1803\n01:22:28.920 --> 01:22:32.290\nrequest an IP address via the DHCP server.\n\n1804\n01:22:32.290 --> 01:22:32.950\nOkay.\n\n1805\n01:22:32.950 --> 01:22:37.060\nIf they do that,\nthe DHCP server at that time\n\n1806\n01:22:37.060 --> 01:22:41.120\ncan function as a NAP\nenabled access point.\n\n1807\n01:22:41.120 --> 01:22:43.220\nAnd so\nwhen the client accesses the network,\n\n1808\n01:22:43.220 --> 01:22:45.490\nthe DHCP server can kick\noff the NAP process and\n\n1809\n01:22:45.490 --> 01:22:48.770\nsay, you know what, let's take a look at\nthis client and verify that they're okay.\n\n1810\n01:22:48.770 --> 01:22:50.980\nYou know, make sure that they're\ncool to function on our network.\n\n1811\n01:22:52.430 --> 01:22:56.600\nAnother option is the client\ncould walk into our network and\n\n1812\n01:22:56.600 --> 01:22:59.526\nplug into a switch or\na wireless access point, either one.\n\n1813\n01:22:59.526 --> 01:23:00.690\nRight?\nWireless access points and\n\n1814\n01:23:00.690 --> 01:23:02.690\nswitches are really the same thing.\n\n1815\n01:23:02.690 --> 01:23:08.552\nAnd if that switch or\nwireless access point is 802.1x\n\n1816\n01:23:08.552 --> 01:23:13.680\ncapable, the switch can\nkick off that NAP process.\n\n1817\n01:23:13.680 --> 01:23:17.435\nKick off that function of making sure\nthat person is allowed to come in or not.\n\n1818\n01:23:17.435 --> 01:23:18.240\nOkay?\n\n1819\n01:23:18.240 --> 01:23:19.310\nSo, another great way to do it.\n\n1820\n01:23:20.470 --> 01:23:24.325\nA third way is that person\ncould be VPNing in.\n\n1821\n01:23:24.325 --> 01:23:29.830\nAnd when they VPN in, they're VPNing\nin through a remote access server.\n\n1822\n01:23:29.830 --> 01:23:33.490\nAnd the remote access server\ncan kick off the NAP activity.\n\n1823\n01:23:33.490 --> 01:23:36.920\nAnd that's why we kept seeing all\nthe NAP settings in the NPS server,\n\n1824\n01:23:36.920 --> 01:23:39.732\nbecause NAP is fully\nintegrated into remote access.\n\n1825\n01:23:39.732 --> 01:23:40.580\nAll right?\n\n1826\n01:23:40.580 --> 01:23:46.130\nAnd then the fourth way is\neither locally or remotely.\n\n1827\n01:23:46.130 --> 01:23:48.950\nWhichever way,\nthey could come into our organization, and\n\n1828\n01:23:48.950 --> 01:23:51.650\nthey could attempt to\nbuild an IP sec tunnel.\n\n1829\n01:23:51.650 --> 01:23:56.030\nEither directly to a server,\nor through a router, or\n\n1830\n01:23:56.030 --> 01:23:59.130\nwhatever way it is they try to\nbuild up that IP sec tunnel.\n\n1831\n01:23:59.130 --> 01:24:00.480\nAnd when they do that,\n\n1832\n01:24:00.480 --> 01:24:04.150\nwe have a special server called\na Health Registration Authority.\n\n1833\n01:24:04.150 --> 01:24:07.880\nAnd it can get involved in the certificate\nexchange, that IPsec tunnel, and\n\n1834\n01:24:07.880 --> 01:24:09.820\nit can enforce NAP at that point.\n\n1835\n01:24:09.820 --> 01:24:10.370\nRight?\n\n1836\n01:24:10.370 --> 01:24:12.342\nThese are the four ways\nthat are on the exam.\n\n1837\n01:24:12.342 --> 01:24:17.444\nThere is a fifth way which is\nRemote Desktop Gateway Services.\n\n1838\n01:24:17.444 --> 01:24:18.305\n>> Yeah.\n>> Okay?\n\n1839\n01:24:18.305 --> 01:24:21.585\nRemote Desktop Gateway Services\nin Windows Server 2012 R2,\n\n1840\n01:24:21.585 --> 01:24:24.465\nthey integrated support for\nNAP into there.\n\n1841\n01:24:24.465 --> 01:24:27.995\nIt's very new and to my knowledge\nit hasn't made it on the exam yet.\n\n1842\n01:24:27.995 --> 01:24:29.880\nIt's not on the exam objectives.\n\n1843\n01:24:29.880 --> 01:24:31.180\nNow you know how Microsoft gets those.\n\n1844\n01:24:31.180 --> 01:24:32.090\n>> Yeah.\n>> Sometimes something's not in\n\n1845\n01:24:32.090 --> 01:24:33.950\nthe objectives and it creeps up anyway.\n\n1846\n01:24:33.950 --> 01:24:36.820\nSo just to be on the safe side,\nI do wanna mention it.\n\n1847\n01:24:36.820 --> 01:24:41.570\nIf you have a Remote Desktop Gateway\nServer, if you have one of those guys set\n\n1848\n01:24:41.570 --> 01:24:46.670\nup, the Remote Desktop Gateway services\nuse NPS to determine who can connect.\n\n1849\n01:24:46.670 --> 01:24:49.848\nWhich means they can kick off\nhealth checks there also.\n\n1850\n01:24:49.848 --> 01:24:53.970\nSo, somebody is just RDPing in,\nand we can verify whether or\n\n1851\n01:24:53.970 --> 01:24:55.640\nnot they should be allowed to connect.\n\n1852\n01:24:55.640 --> 01:24:56.270\nAll right?\n\n1853\n01:24:56.270 --> 01:24:57.940\nSo a fifth way.\n\n1854\n01:24:57.940 --> 01:25:00.810\nAll of these are just different\nways of accessing our network.\n\n1855\n01:25:00.810 --> 01:25:06.230\nSome, like VPN and IPSec,\nthose are typically remote users.\n\n1856\n01:25:06.230 --> 01:25:09.045\nSo they're remote coming into\nour network from the Internet.\n\n1857\n01:25:09.045 --> 01:25:09.932\nRight?\n\n1858\n01:25:09.932 --> 01:25:16.050\nBut 802.1x and DHCP, and\nin some cases IPsec,\n\n1859\n01:25:16.050 --> 01:25:19.988\nare designed to tackle clients\nthat are right here on our LAN.\n\n1860\n01:25:19.988 --> 01:25:24.050\nSomebody walked to that machine into your\nbuilding and is plugging into the network,\n\n1861\n01:25:24.050 --> 01:25:26.500\nhow do we make sure they're safe and\nsecure before they get in?\n\n1862\n01:25:26.500 --> 01:25:27.250\nOkay.\n\n1863\n01:25:27.250 --> 01:25:30.712\nWell the lynchpin in this\nwhole process is NPS.\n\n1864\n01:25:30.712 --> 01:25:32.200\nAll right?\n\n1865\n01:25:32.200 --> 01:25:36.040\nIf we're using network access protection\nand we're using the DHCP method.\n\n1866\n01:25:36.040 --> 01:25:39.040\nWhen that client reaches\nout to the DHCP server.\n\n1867\n01:25:39.040 --> 01:25:44.470\nThe DHCP server forwards that\ninformation to an NPS box,\n\n1868\n01:25:44.470 --> 01:25:47.330\nand reaches out to it and says,\nhey, I've got this guy connecting,\n\n1869\n01:25:47.330 --> 01:25:50.830\nhere's their health information,\ndo they meet the requirements?\n\n1870\n01:25:50.830 --> 01:25:53.040\nAnd the server will say yes or no, and\n\n1871\n01:25:53.040 --> 01:25:55.380\nthen the DHCP server will\ntake action based on that.\n\n1872\n01:25:55.380 --> 01:25:56.240\nAll right.\n\n1873\n01:25:56.240 --> 01:26:02.070\nIf the client is coming in via 802.1x,\nthey plug into a switch.\n\n1874\n01:26:02.070 --> 01:26:05.540\nThe switch, you know,\nI didn't quite draw it right, but\n\n1875\n01:26:05.540 --> 01:26:08.360\nthe switch will hand off that\ninformation to a RADIUS server,\n\n1876\n01:26:08.360 --> 01:26:13.560\nnormally, to verify that\nthe certificate is okay and so on.\n\n1877\n01:26:13.560 --> 01:26:18.760\nAnd at that time, it's gonna get involved\nwith doing the NAP checks there.\n\n1878\n01:26:20.220 --> 01:26:21.990\nIf the client VPN's in.\n\n1879\n01:26:21.990 --> 01:26:24.870\nRight?\nThey VPN in, which they're really VPNing\n\n1880\n01:26:24.870 --> 01:26:29.950\ninto a remote access server which in turn\nreaches out to NPS to be able to validate\n\n1881\n01:26:29.950 --> 01:26:33.370\nwhether that person should connect,\nand hands off the health information.\n\n1882\n01:26:33.370 --> 01:26:38.340\nSo the NPS is providing that decision for\nthree of our four methods.\n\n1883\n01:26:38.340 --> 01:26:38.920\n>> Nice.\n\n1884\n01:26:38.920 --> 01:26:42.930\n>> The last method, IPSec,\nif one of the clients comes in this way.\n\n1885\n01:26:42.930 --> 01:26:48.210\nWell, IPSec is built mostly using\nthe certificates for authentication.\n\n1886\n01:26:48.210 --> 01:26:51.160\nAnd so when they come in this way,\nthey actually end up touching what's\n\n1887\n01:26:51.160 --> 01:26:54.160\ncalled a Health Registration Authority,\nan HRA.\n\n1888\n01:26:54.160 --> 01:26:56.810\nAnd that's the one that is\ngoing to communicate with\n\n1889\n01:26:56.810 --> 01:27:00.460\nthe certification authority to make sure\nthe certificates are cool to issue new\n\n1890\n01:27:00.460 --> 01:27:04.720\ncerts if they're needed, you hand then off\nto the client to build that connection and\n\n1891\n01:27:04.720 --> 01:27:06.800\ninitiate the NAP checks.\n\n1892\n01:27:06.800 --> 01:27:13.140\nNow, the health registration authority\nactually does talk to the NPS also.\n\n1893\n01:27:13.140 --> 01:27:16.830\nSo you see where everything comes\nback to that NPS in the end.\n\n1894\n01:27:16.830 --> 01:27:19.180\nThat's really the lynchpin\nof this whole thing.\n\n1895\n01:27:19.180 --> 01:27:21.320\nThat's really where we are going\nto begin configuring NAP.\n\n1896\n01:27:21.320 --> 01:27:22.750\n>> NAP.\n>> And why when we\n\n1897\n01:27:22.750 --> 01:27:25.740\nadded the role to the server, we saw NAP-\n>> Right.\n\n1898\n01:27:25.740 --> 01:27:26.870\n>> -listed there with NPS.\n\n1899\n01:27:26.870 --> 01:27:28.983\nIt's really all kind of part of it.\n\n1900\n01:27:28.983 --> 01:27:33.774\nNow, NPS at the end of the day is\nfront-ending for the Active Directory,\n\n1901\n01:27:33.774 --> 01:27:36.407\nwhere it's actually authenticating.\n\n1902\n01:27:36.407 --> 01:27:39.504\nAnd certificate services if\nwe're dealing with certificates.\n\n1903\n01:27:39.504 --> 01:27:40.189\nAnd we are always.\n\n1904\n01:27:40.189 --> 01:27:42.710\nBut those are there.\n\n1905\n01:27:42.710 --> 01:27:46.220\nNow those are some of\nthe components that are involved.\n\n1906\n01:27:46.220 --> 01:27:48.960\nIf somebody authenticates and connects and\n\n1907\n01:27:48.960 --> 01:27:53.110\nthey fail their health checks, that's\nwhere the remediation network comes in.\n\n1908\n01:27:53.110 --> 01:27:57.400\nAnd it's a filtered private network,\nI just drew it off here into the corner.\n\n1909\n01:27:57.400 --> 01:27:58.860\nAnd it could be empty.\n\n1910\n01:27:58.860 --> 01:28:00.460\nThere could be nothing in there.\n\n1911\n01:28:00.460 --> 01:28:03.074\nYou can choose to just block people\noutright if they connect and\n\n1912\n01:28:03.074 --> 01:28:04.663\ndon't pass the checks, that's it.\n\n1913\n01:28:04.663 --> 01:28:07.451\nBut normally we give\nthem remediation servers,\n\n1914\n01:28:07.451 --> 01:28:11.770\nenough access to be able to get\nthemselves healthy again, all right?\n\n1915\n01:28:11.770 --> 01:28:13.090\nSo when Client 1 connects,\n\n1916\n01:28:13.090 --> 01:28:16.990\nlet's say they connect via DHCP,\nand they fail their check.\n\n1917\n01:28:16.990 --> 01:28:19.970\nWell, the DHCP server will\nforce a filter on them so\n\n1918\n01:28:19.970 --> 01:28:23.380\nthat they can only access\nthe remediation network.\n\n1919\n01:28:23.380 --> 01:28:26.320\nAnd then when they become healthy\nit picks it up pretty fast.\n\n1920\n01:28:26.320 --> 01:28:30.540\nAnd then when it picks it up,\nit removes that filter and\n\n1921\n01:28:30.540 --> 01:28:33.500\nthen they're able to access the rest\nof the network like normal.\n\n1922\n01:28:33.500 --> 01:28:34.350\nIt's all very cool.\n\n1923\n01:28:36.100 --> 01:28:38.210\nAll right, well, I talked longer\nthan I meant to there, Ronny.\n\n1924\n01:28:38.210 --> 01:28:39.140\nSo let's do this.\n\n1925\n01:28:39.140 --> 01:28:41.240\nLet's stop here and take a break.\n\n1926\n01:28:41.240 --> 01:28:44.340\nAnd when we get back,\nwe're gonna see NAP in action.\n\n1927\n01:28:44.340 --> 01:28:45.860\nWe'll run through the DHCP one.\n\n1928\n01:28:45.860 --> 01:28:47.580\nAnd I'll talk a little\nbit about the other ones.\n\n1929\n01:28:47.580 --> 01:28:48.700\nBut we'll get a chance to see it.\n\n1930\n01:28:48.700 --> 01:28:51.250\nIt's really neat, and\nit's built into Windows Server.\n\n1931\n01:28:51.250 --> 01:28:53.510\nSo definitely something\nto take advantage of.\n\n1932\n01:28:53.510 --> 01:28:56.673\nSo let's stop here, take a break,\nand we'll be back in just a minute.\n\n1933\n01:28:56.673 --> 01:29:04.173\n[MUSIC]\n\n1934\n01:29:04.173 --> 01:29:05.770\nAll right, welcome back, everybody.\n\n1935\n01:29:05.770 --> 01:29:09.290\nSo enough talking about what NAP can do,\nright?\n\n1936\n01:29:09.290 --> 01:29:10.570\nLet's actually see it in action.\n\n1937\n01:29:10.570 --> 01:29:11.870\nRonnie, you're gonna demonstrate for us.\n\n1938\n01:29:11.870 --> 01:29:13.910\nWe're gonna get to see\nthis turkey in the wild.\n\n1939\n01:29:13.910 --> 01:29:15.040\n>> Yep.\n>> All right, Ronnie,\n\n1940\n01:29:15.040 --> 01:29:17.020\nso let's see how it goes.\n\n1941\n01:29:17.020 --> 01:29:21.512\n>> All right, so on my machine here,\nI went ahead and I've installed the actual\n\n1942\n01:29:21.512 --> 01:29:25.210\nNPS and NAP server role, and so\nit's actually up and running.\n\n1943\n01:29:25.210 --> 01:29:27.960\nI've launched into it at this point here,\nand so\n\n1944\n01:29:27.960 --> 01:29:32.400\nwhat I want to do is expand out\nthe Network Access Protection node here.\n\n1945\n01:29:32.400 --> 01:29:36.435\nAnd we're actually getting into the System\nHealth Validators, is where we're going.\n\n1946\n01:29:36.435 --> 01:29:39.985\nNow this is something that we\ndidn't mention specifically, but\n\n1947\n01:29:39.985 --> 01:29:44.315\nSystem Health Validators for us is where\nwe're actually gonna be able to set\n\n1948\n01:29:44.315 --> 01:29:49.217\nup what we want as our checks\nthat we actually want to have,\n\n1949\n01:29:49.217 --> 01:29:53.797\nto see whether or not the users can\nget access into our network here.\n\n1950\n01:29:53.797 --> 01:29:55.407\nSo under the System Health Validators,\n\n1951\n01:29:55.407 --> 01:29:58.577\nburied in there is our\ndefault configuration.\n\n1952\n01:29:58.577 --> 01:30:01.077\nSo if I expand out\nSystem Health Validators,\n\n1953\n01:30:01.077 --> 01:30:04.487\nyou can see that there's also\na Windows Security Health Validator here.\n\n1954\n01:30:04.487 --> 01:30:10.607\nAnd then, of course, there are Settings,\nand there are Error Codes here as well.\n\n1955\n01:30:10.607 --> 01:30:13.050\nSo right now it says on the Error Codes.\n\n1956\n01:30:13.050 --> 01:30:16.985\nError codes define whether the client\ncomputer is considered compliant or\n\n1957\n01:30:16.985 --> 01:30:23.080\nnon-compliant when a SHV or\nits associated agent returns an error.\n\n1958\n01:30:23.080 --> 01:30:24.480\nAnd so we actually see that.\n\n1959\n01:30:24.480 --> 01:30:26.336\nBut the one that we want\nis here under Settings.\n\n1960\n01:30:26.336 --> 01:30:31.520\nSo if I double-click on\nthe Default Configuration,\n\n1961\n01:30:31.520 --> 01:30:35.360\nhere are all of the different\nthings that I can actually change\n\n1962\n01:30:35.360 --> 01:30:39.740\nas a policy setting for\nthe actual Health Validator for us.\n\n1963\n01:30:41.650 --> 01:30:45.080\nSo you can see right here that on\nthe left hand side, it has for\n\n1964\n01:30:45.080 --> 01:30:48.612\nthe different clients either Vista,\nWindows 7, or Windows 8.\n\n1965\n01:30:48.612 --> 01:30:52.160\nBut notice I can also choose it for\nWindows XP, as well.\n\n1966\n01:30:52.160 --> 01:30:55.250\nSo there's a couple of\ndifferent options for us here.\n\n1967\n01:30:55.250 --> 01:30:56.550\n>> Quick note on that.\n\n1968\n01:30:56.550 --> 01:30:57.990\nMicrosoft has dropped support for\n\n1969\n01:30:57.990 --> 01:31:01.500\nWindows XP, so first off you shouldn't\nbe running Windows XP anymore.\n\n1970\n01:31:01.500 --> 01:31:04.900\nBut secondly,\nthe Network Access Protection,\n\n1971\n01:31:04.900 --> 01:31:07.830\nthat wasn't created when\nWindows XP came out.\n\n1972\n01:31:07.830 --> 01:31:10.810\nSo Windows XP does not\nnatively have support for it.\n\n1973\n01:31:10.810 --> 01:31:13.130\nIt was introduced in\nWindows XP Service Pack 3.\n\n1974\n01:31:13.130 --> 01:31:17.340\nSo you've gotta have Service Pack 3 if you\nhave an earlier version of Windows XP,\n\n1975\n01:31:17.340 --> 01:31:19.070\nfirst off hacker city, right?\n\n1976\n01:31:19.070 --> 01:31:21.250\nBut secondly, it's not gonna support NAP.\n\n1977\n01:31:21.250 --> 01:31:22.890\nSo just wanna throw that one out there.\n\n1978\n01:31:22.890 --> 01:31:25.650\nReally, all the new support is going\ninto the Windows 8, Windows 7,\n\n1979\n01:31:25.650 --> 01:31:26.990\nWindows Vista section.\n\n1980\n01:31:26.990 --> 01:31:28.400\n>> Yep.\n\n1981\n01:31:28.400 --> 01:31:31.110\nNow at this point,\nyou can see that right here\n\n1982\n01:31:31.110 --> 01:31:33.542\nwe have all these settings that\nwe have just mentioned here.\n\n1983\n01:31:33.542 --> 01:31:36.580\nWell, we talked about being\nable to check for antivirus.\n\n1984\n01:31:36.580 --> 01:31:41.260\nIs that your client running antivirus, is\nthe firewall on for all the connections?\n\n1985\n01:31:41.260 --> 01:31:43.050\nRemember that default for us?\n\n1986\n01:31:43.050 --> 01:31:47.610\nWe have, what, the domain profile, we have\nthe private, and we have the public one.\n\n1987\n01:31:47.610 --> 01:31:48.410\nAnd this one says, hey,\n\n1988\n01:31:48.410 --> 01:31:51.708\na firewall is enabled for all network\nconnections at this point here.\n\n1989\n01:31:51.708 --> 01:31:57.040\nWe have antivirus, spyware settings,\nprotection, automatic updates.\n\n1990\n01:31:57.040 --> 01:31:58.810\nIs automatic updates running?\n\n1991\n01:31:58.810 --> 01:32:01.115\nAnd this last one here is the only\none that's not checked by default.\n\n1992\n01:32:01.115 --> 01:32:03.882\nThe security update settings\nthat we have down here,\n\n1993\n01:32:03.882 --> 01:32:09.040\nwhere we can restrict clients that do not\nhave all the available security updates.\n\n1994\n01:32:09.040 --> 01:32:11.940\nAnd then of course, all the different\noptions down here at the bottom.\n\n1995\n01:32:11.940 --> 01:32:14.770\n>> Yeah, and\nthose all pertain to Windows Updates.\n\n1996\n01:32:14.770 --> 01:32:16.880\nAre you doing your Windows Updates,\nare they applied?\n\n1997\n01:32:16.880 --> 01:32:20.800\nAt least the critical updates, the real\nsecurity flaws and those are important.\n\n1998\n01:32:20.800 --> 01:32:24.960\nNow another thing worth mentioning here,\nit just says is antivirus installed?\n\n1999\n01:32:24.960 --> 01:32:27.610\nWell, which antivirus\nproduct is it talking about?\n\n2000\n01:32:27.610 --> 01:32:32.700\nIt's talking about any antivirus\nproduct that is NAP-compatible,\n\n2001\n01:32:32.700 --> 01:32:35.880\nand a lot of them are,\nbut not all of them are.\n\n2002\n01:32:35.880 --> 01:32:39.070\nSo if you're doing like\nSymantec Antivirus or Norton 360,\n\n2003\n01:32:39.070 --> 01:32:42.240\nTrend Micro, McAfee, those guys.\n\n2004\n01:32:42.240 --> 01:32:46.000\nThose guys tap into the Microsoft APIs\nto report their status so\n\n2005\n01:32:46.000 --> 01:32:48.630\nthat we can tell if they're turned on or\noff, all right?\n\n2006\n01:32:48.630 --> 01:32:53.100\nBut If you're running a lesser-known\nantivirus product, a lot of them do\n\n2007\n01:32:53.100 --> 01:32:57.830\nstealth tactics to hide themselves so\nthat viruses can't disable the antivirus.\n\n2008\n01:32:57.830 --> 01:33:00.900\nAnd if that's the case,\nNAP might not see them.\n\n2009\n01:33:00.900 --> 01:33:04.230\nAnd in that scenario, you won't be\nable to use that particular function.\n\n2010\n01:33:04.230 --> 01:33:05.650\nSo just be aware of that.\n\n2011\n01:33:05.650 --> 01:33:10.176\nAlso keep in mind in Windows 8, you have\nWindows Defender built in which gives you\n\n2012\n01:33:10.176 --> 01:33:13.100\nantivirus and anti-malware slash spyware.\n\n2013\n01:33:13.100 --> 01:33:16.290\nSo your system may already have these\neven though you haven't added a third\n\n2014\n01:33:16.290 --> 01:33:17.040\nparty product.\n\n2015\n01:33:17.040 --> 01:33:20.390\nAnd many people don't, so\njust keep in mind there's that also.\n\n2016\n01:33:20.390 --> 01:33:21.220\n>> Yeah.\n\n2017\n01:33:21.220 --> 01:33:24.530\nWell, just to make everything go\neasier for us at this point here,\n\n2018\n01:33:24.530 --> 01:33:28.030\nI'm just gonna go ahead and just leave\nthe Windows Firewall settings on\n\n2019\n01:33:28.030 --> 01:33:31.680\nas our one validation point right now.\n\n2020\n01:33:31.680 --> 01:33:33.820\nJust to make my lab go\na little bit smoother.\n\n2021\n01:33:33.820 --> 01:33:36.510\n>> I didn't install any other,\n[LAUGH] anything else.\n\n2022\n01:33:36.510 --> 01:33:38.030\n>> Yeah, that's fine.\n\n2023\n01:33:38.030 --> 01:33:41.440\nIn a lab environment,\nyou always wanna just shrink it down.\n\n2024\n01:33:41.440 --> 01:33:43.520\nThat way you can tell what works and\nwhat doesn't.\n\n2025\n01:33:43.520 --> 01:33:45.760\nIn production,\nyou may want all of these on.\n\n2026\n01:33:45.760 --> 01:33:47.040\n>> Right?\nBut the firewall's the easiest\n\n2027\n01:33:47.040 --> 01:33:50.440\none to test, cuz it's easy to turn the\nfirewall on and off to see it in action\n\n2028\n01:33:50.440 --> 01:33:53.120\n>> All right, so I'm gonna go ahead and\n\n2029\n01:33:53.120 --> 01:33:58.620\nselect that and click OK, and I've just\nmodified the actual default configuration\n\n2030\n01:33:58.620 --> 01:34:01.330\nin terms of that System Health Validator.\n\n2031\n01:34:01.330 --> 01:34:05.500\nNow our next step here, once we\nactually have that Health Validator\n\n2032\n01:34:05.500 --> 01:34:10.090\nthe way that we want to, is we now need to\nactually create the idea of help policies\n\n2033\n01:34:10.090 --> 01:34:14.250\nto help us out in what we want to\ndo with that default configuration.\n\n2034\n01:34:14.250 --> 01:34:17.320\nSo because we're really setting\nthe idea of compliance here,\n\n2035\n01:34:17.320 --> 01:34:19.900\nwe're gonna create two policies,\nis what we're gonna do.\n\n2036\n01:34:19.900 --> 01:34:21.500\nWe're gonna create one that says hey,\n\n2037\n01:34:21.500 --> 01:34:26.460\nhere's what the compliant\ncomputer actually needs have.\n\n2038\n01:34:26.460 --> 01:34:29.510\nWe're also gonna set one for\nnon-compliance as well.\n\n2039\n01:34:29.510 --> 01:34:36.490\nSo over on the left hand side over here\non my NPS, I'm gonna expand out Policies.\n\n2040\n01:34:36.490 --> 01:34:39.220\nAnd notice, and\nnow I've set the System Heath Validators.\n\n2041\n01:34:39.220 --> 01:34:44.260\nThere is also this grouping here under\nPolicies called Health Policies.\n\n2042\n01:34:44.260 --> 01:34:45.920\nAnd so, in the Health Policies here,\n\n2043\n01:34:45.920 --> 01:34:49.010\nI don't have any real\nconfigurations that we've set up.\n\n2044\n01:34:49.010 --> 01:34:51.130\nSo I just need to go ahead and\nconfigure the ones that I need.\n\n2045\n01:34:52.180 --> 01:34:54.285\nSo I'm gonna right-click\non Health Policies.\n\n2046\n01:34:54.285 --> 01:34:58.245\nI still think it's unusual that\nyou can't right-click over here.\n\n2047\n01:34:58.245 --> 01:35:01.185\nNo, you've gotta find this little tiny\nlink over here on the left hand side,\n\n2048\n01:35:01.185 --> 01:35:04.035\nbut that's just a personal\nannoyance with me.\n\n2049\n01:35:04.035 --> 01:35:08.855\nSo notice that I can create a brand new\nHealth Policy here, and it actually,\n\n2050\n01:35:08.855 --> 01:35:13.595\nagain, points to something that we\nsaw in the MPS side as well, right?\n\n2051\n01:35:13.595 --> 01:35:17.575\nThe very fact is that if I had gone\nahead and created the template for\n\n2052\n01:35:17.575 --> 01:35:19.750\nthis, I'd be sitting here typing it in.\n\n2053\n01:35:19.750 --> 01:35:21.473\nBut let's go ahead and do it anyways.\n\n2054\n01:35:21.473 --> 01:35:26.125\nSo here, we're gonna actually\ncall this one compliance, and\n\n2055\n01:35:26.125 --> 01:35:32.374\nnotice what it's gonna check against in\nterms of the System help validate, right?\n\n2056\n01:35:32.374 --> 01:35:33.874\nI have several options here.\n\n2057\n01:35:33.874 --> 01:35:37.940\nClient passes all of the actual\nhealth validator checks.\n\n2058\n01:35:37.940 --> 01:35:39.525\nGood thing is I only have one, okay?\n\n2059\n01:35:39.525 --> 01:35:41.060\n>> Mm-hm.\n>> But notice all the other ones that we\n\n2060\n01:35:41.060 --> 01:35:41.577\nhave there.\n\n2061\n01:35:41.577 --> 01:35:44.180\n>> Yeah, and\nreally what it boils down to is.\n\n2062\n01:35:44.180 --> 01:35:48.640\nDo they have to pass all of the checks, or\nwill you allow certain failures, right?\n\n2063\n01:35:48.640 --> 01:35:50.146\n>> Mm-hm.\n>> Maybe antivirus is installed,\n\n2064\n01:35:50.146 --> 01:35:53.113\nthat's a pass, but it's not up to date,\nthat's a fail, right?\n\n2065\n01:35:53.113 --> 01:35:54.284\nSo, you determine,\n\n2066\n01:35:54.284 --> 01:35:58.324\ndo they have to pass 100% of them\nto be flagged as compliance, right?\n\n2067\n01:35:58.324 --> 01:35:58.959\n>> Mm-hm.\n>> And that's what we\n\n2068\n01:35:58.959 --> 01:35:59.619\nnormally want, right?\n\n2069\n01:35:59.619 --> 01:36:00.363\n>> Mm-hm.\n\n2070\n01:36:00.363 --> 01:36:02.485\n>> But you may have lower\nrequirements on your network, and so\n\n2071\n01:36:02.485 --> 01:36:03.810\nyou can kind of pick and choose here.\n\n2072\n01:36:03.810 --> 01:36:04.661\nBut normally,\n\n2073\n01:36:04.661 --> 01:36:08.858\nyou're gonna say Client Passes all\nSHV Checks to be considered compliant.\n\n2074\n01:36:08.858 --> 01:36:09.960\n>> Yeah.\n\n2075\n01:36:09.960 --> 01:36:14.090\nAnd if I had created another help\npolicy instead in this drop down,\n\n2076\n01:36:14.090 --> 01:36:16.605\nI would also see that list, and\nwith the default configuration.\n\n2077\n01:36:16.605 --> 01:36:20.610\nBut since I really only modified the\ndefault one, I'm not so worried about it.\n\n2078\n01:36:20.610 --> 01:36:24.020\nSo, I'm just gonna put a check mark here,\nand that says right here to use this.\n\n2079\n01:36:24.020 --> 01:36:27.320\n>> And we don't see it here, you probably\nwon't see it on the exam, but in real life\n\n2080\n01:36:27.320 --> 01:36:31.460\nland, see how this window is built as\nif there could be more SHVs in there?\n\n2081\n01:36:31.460 --> 01:36:33.570\nBut there's just\nthe Windows Security Health Validator.\n\n2082\n01:36:33.570 --> 01:36:34.440\nWhy is that?\n\n2083\n01:36:34.440 --> 01:36:37.320\nWell, Microsoft created a third party API.\n\n2084\n01:36:37.320 --> 01:36:39.992\nSo that any company can write\ntheir own health validators.\n\n2085\n01:36:39.992 --> 01:36:40.630\n>> Nice.\n\n2086\n01:36:40.630 --> 01:36:43.540\n>> So, Dell for example,\nmight have one that looks for\n\n2087\n01:36:43.540 --> 01:36:47.120\nhardware failures or whatever,\non the system, or driver updates.\n\n2088\n01:36:47.120 --> 01:36:50.200\nDifferent manufacturers can\ncreate their own SHVs, and\n\n2089\n01:36:50.200 --> 01:36:52.960\nif you installed their software,\nyou'll see the additional ones here.\n\n2090\n01:36:52.960 --> 01:36:55.390\nSo you can pick,\njust do the Microsoft ones, or\n\n2091\n01:36:55.390 --> 01:36:57.065\ndo you wanna do the third parties one,\nalso?\n\n2092\n01:36:57.065 --> 01:36:57.949\n>> Mm-hm.\n>> On the exam,\n\n2093\n01:36:57.949 --> 01:36:59.498\nyou'll just see the Microsoft ones.\n\n2094\n01:36:59.498 --> 01:36:59.998\n>> Yup.\n\n2095\n01:37:01.030 --> 01:37:04.831\nAll right, so this one again, is actually\ngonna register the ones that actually do\n\n2096\n01:37:04.831 --> 01:37:08.005\nget in, the ones that actually\nare compliant, the one that we need.\n\n2097\n01:37:08.005 --> 01:37:09.840\n>> They'll pass a 100% of the checks.\n\n2098\n01:37:09.840 --> 01:37:10.690\n>> A 100% of checks.\n\n2099\n01:37:10.690 --> 01:37:13.040\nThe second one we're gonna\ndo is if it fails a check,\n\n2100\n01:37:13.040 --> 01:37:14.430\nis what we're gonna do here.\n\n2101\n01:37:14.430 --> 01:37:17.260\nSo, I'm just gonna right-click and\ncreate a new one, and of course, I'm so\n\n2102\n01:37:17.260 --> 01:37:19.040\noriginal with my names.\n\n2103\n01:37:19.040 --> 01:37:19.710\nNonCompliant.\n\n2104\n01:37:21.180 --> 01:37:22.430\nReally helps us out.\n\n2105\n01:37:22.430 --> 01:37:25.705\nNow, at this point, this is where you do\nhave to actually figure out what you want.\n\n2106\n01:37:25.705 --> 01:37:31.005\nBut for us here, I'm just gonna do the one\nthat fails one or more of the checks.\n\n2107\n01:37:31.005 --> 01:37:32.935\n>> Yup.\nDon't have to fail them all, but\n\n2108\n01:37:32.935 --> 01:37:37.162\nif they just fail even one of our checks,\nthey're gonna get handled somehow.\n\n2109\n01:37:37.162 --> 01:37:39.982\n>> Yeah, and this is really\na good option for us, right?\n\n2110\n01:37:39.982 --> 01:37:42.152\nBecause if we're setting\nup that default and\n\n2111\n01:37:42.152 --> 01:37:44.292\nwe had left it at the default ones, right?\n\n2112\n01:37:44.292 --> 01:37:47.292\nAnd I say that it has\nto fail all the checks,\n\n2113\n01:37:47.292 --> 01:37:50.562\nwell that means that even if\none of them are met, I mean,\n\n2114\n01:37:50.562 --> 01:37:53.112\nthat still allows them through,\nso you gotta be careful there.\n\n2115\n01:37:53.112 --> 01:37:55.742\nSo, we want to actually\ndo the fails one or\n\n2116\n01:37:55.742 --> 01:37:59.112\nmore of the checks to essentially\nsend them on to something else.\n\n2117\n01:37:59.112 --> 01:37:59.622\n>> Yup.\n\n2118\n01:37:59.622 --> 01:38:00.470\n>> All right?\n\n2119\n01:38:00.470 --> 01:38:03.270\nSo, I'm just gonna go ahead and\nclick OK here.\n\n2120\n01:38:03.270 --> 01:38:08.170\nSo now, in this particular setting,\nwe've again taken our policy, we now have\n\n2121\n01:38:08.170 --> 01:38:13.300\ncreated the actual policies that we\nwant to actually be able to apply here.\n\n2122\n01:38:13.300 --> 01:38:18.850\nNow we have to go in and configure\nthe network policies to get it to apply.\n\n2123\n01:38:18.850 --> 01:38:22.750\n>> Technically, what we've done so\nfar is the configuration for NAP, so\n\n2124\n01:38:22.750 --> 01:38:24.505\ntechnically NAP is done.\n\n2125\n01:38:24.505 --> 01:38:26.280\n>> Yup.\n>> We said if you're compliant,\n\n2126\n01:38:26.280 --> 01:38:28.460\nyou pass all these checks,\nand we specify the checks.\n\n2127\n01:38:28.460 --> 01:38:31.270\nIf you're noncompliant,\nyou don't pass the checks, right?\n\n2128\n01:38:31.270 --> 01:38:34.440\nBut nothing is set to\nlook at these policies.\n\n2129\n01:38:34.440 --> 01:38:34.950\n>> Yup.\n\n2130\n01:38:34.950 --> 01:38:36.040\n>> So now we make that decision.\n\n2131\n01:38:36.040 --> 01:38:39.736\nWe say,\nokay which of the various incoming or\n\n2132\n01:38:39.736 --> 01:38:43.735\nentrance methods are we gonna monitor,\nright?\n\n2133\n01:38:43.735 --> 01:38:45.655\nSo going back to my diagram.\n\n2134\n01:38:45.655 --> 01:38:48.315\nNow we say all right, if I'm doing DHCP.\n\n2135\n01:38:48.315 --> 01:38:51.827\n>> [COUGH]\n>> How do I get DHCP set up to use NAP?\n\n2136\n01:38:51.827 --> 01:38:54.277\nAnd if I'm using 802.1X and\nVPN, how do I do it?\n\n2137\n01:38:54.277 --> 01:38:58.687\nWell, those guys all tap into NPS, and\nso, that's what Ronnie's about to do,\n\n2138\n01:38:58.687 --> 01:39:02.267\nis to go into NPS and set those policies\nthere, and we'll still have a little bit\n\n2139\n01:39:02.267 --> 01:39:06.830\nmore work to do actually, out on\nthe Remote access server and DHCP server.\n\n2140\n01:39:06.830 --> 01:39:08.840\nIf we were going the IPSec route,\nwe would go and\n\n2141\n01:39:08.840 --> 01:39:11.660\nstart to create the health registration\nauthority and go that way.\n\n2142\n01:39:11.660 --> 01:39:15.050\nSo, each of these is a little bit\ndifferent from this point on.\n\n2143\n01:39:15.050 --> 01:39:16.260\nRight, so\nit does start to get a little different.\n\n2144\n01:39:16.260 --> 01:39:17.180\n>> Yeah.\n\n2145\n01:39:17.180 --> 01:39:18.860\nAll right, so for\n\n2146\n01:39:18.860 --> 01:39:22.510\nus to set up these policies and\nto only test these policies here.\n\n2147\n01:39:22.510 --> 01:39:25.030\nI'm going to disable these other two,\nright?\n\n2148\n01:39:25.030 --> 01:39:28.170\nBecause if I don't, I don't know which\none might actually apply at this point.\n\n2149\n01:39:28.170 --> 01:39:30.783\nI know that they're way down in the order,\nbut just to make sure, right?\n\n2150\n01:39:30.783 --> 01:39:35.705\nSo I'm just gonna right-click and I'm\ngonna disable that one, and then I'm also\n\n2151\n01:39:35.705 --> 01:39:40.511\ngonna disable this one, just to make sure\nthat they don't just apply by random.\n\n2152\n01:39:40.511 --> 01:39:42.550\n>> Right.\n>> Chance in what I'm doing.\n\n2153\n01:39:42.550 --> 01:39:45.390\nAnd then I wanna make sure\nthat only the NPS one, or\n\n2154\n01:39:45.390 --> 01:39:47.880\nthe NAP ones that I actually\nwant to apply here.\n\n2155\n01:39:47.880 --> 01:39:51.140\nSo, again, we're gonna create\nthe two policies again here.\n\n2156\n01:39:51.140 --> 01:39:55.170\nOne for the compliant, and one for\nthe non-compliant, as well.\n\n2157\n01:39:55.170 --> 01:39:57.040\nSo I'm gonna click New, and this one,\n\n2158\n01:39:57.040 --> 01:40:03.050\nI'm actually gonna call compliant,\nand again, policy names.\n\n2159\n01:40:03.050 --> 01:40:05.015\nDon, they give us a huge, long name here.\n\n2160\n01:40:05.015 --> 01:40:08.360\n>> [LAUGH]\n>> Well you've seen the names that I use.\n\n2161\n01:40:08.360 --> 01:40:10.670\nI like to be really specific in my names.\n\n2162\n01:40:10.670 --> 01:40:11.770\n>> Yeah.\n>> But you don't have to.\n\n2163\n01:40:11.770 --> 01:40:13.485\n>> Right.\n>> You can just be real, real general.\n\n2164\n01:40:13.485 --> 01:40:14.000\n>> Mm-hm.\n\n2165\n01:40:14.000 --> 01:40:16.012\n>> So, you're calling yours\ncompliant full access.\n\n2166\n01:40:16.012 --> 01:40:16.840\n>> Mm-hm.\n>> And\n\n2167\n01:40:16.840 --> 01:40:19.672\nyou might have one that says\ncompliant accounting department.\n\n2168\n01:40:19.672 --> 01:40:21.310\n>> Mm-hm.\n>> So you might wanna get really specific,\n\n2169\n01:40:21.310 --> 01:40:24.380\nbased on what department they're in,\nbut it's up to you.\n\n2170\n01:40:24.380 --> 01:40:24.880\n>> Yup.\n\n2171\n01:40:26.490 --> 01:40:29.885\nAll right, now this of course, is gonna be\ncha- I don't know why my full screen has.\n\n2172\n01:40:29.885 --> 01:40:32.880\n>> [LAUGH] Buttons off the bottom\n>> My button's off the bottom.\n\n2173\n01:40:32.880 --> 01:40:34.220\n>> You can auto-hide the task bar\n>> Yeah,\n\n2174\n01:40:34.220 --> 01:40:36.390\nthat's what I'm gonna do right now.\n\n2175\n01:40:36.390 --> 01:40:39.460\nUgh, I can't win sometimes on this.\n\n2176\n01:40:39.460 --> 01:40:40.460\n>> Yeah, these crazy laptops.\n\n2177\n01:40:40.460 --> 01:40:42.140\n>> There we go, yeah.\n>> Solutions these days.\n\n2178\n01:40:42.140 --> 01:40:43.320\n>> All right, so there it is.\n\n2179\n01:40:43.320 --> 01:40:48.500\nSo I'm gonna add create one that's gonna\nbe that if they meet the compliant policy,\n\n2180\n01:40:48.500 --> 01:40:49.810\nI wanna give them full access.\n\n2181\n01:40:49.810 --> 01:40:50.510\nOkay?\n\n2182\n01:40:50.510 --> 01:40:53.510\nNow, again, you can change that to\nwhatever granularity you want to.\n\n2183\n01:40:53.510 --> 01:40:54.620\nAt this point, and\n\n2184\n01:40:54.620 --> 01:40:59.240\nthen I'm gonna specify the condition\nhere that I wanted to meet, all right?\n\n2185\n01:40:59.240 --> 01:41:02.320\nSo, I'm simply gonna select Add.\n\n2186\n01:41:02.320 --> 01:41:06.640\nAnd now remember, this is that same\nsetting that we saw a little bit earlier,\n\n2187\n01:41:06.640 --> 01:41:10.070\nbut because I am looking for\nthe health policies,\n\n2188\n01:41:10.070 --> 01:41:14.090\nif I scroll down here,\nlook at that, health policies.\n\n2189\n01:41:14.090 --> 01:41:15.280\nCan't beat that.\n\n2190\n01:41:15.280 --> 01:41:18.720\nThat allows me to actually specify\nthe actual health policy, good thing is,\n\n2191\n01:41:18.720 --> 01:41:20.258\nwe've created one cut\nwe've called compliant.\n\n2192\n01:41:20.258 --> 01:41:23.310\nSo, I'm gonna click Add here, and\n\n2193\n01:41:23.310 --> 01:41:26.455\nnow if I click that drop down,\nnotice my policies now appear.\n\n2194\n01:41:26.455 --> 01:41:28.111\n>> Mm-hm.\n>> So, the nice thing is,\n\n2195\n01:41:28.111 --> 01:41:31.886\nI like this because it means I don't have\nto type it in and I don't have to worry\n\n2196\n01:41:31.886 --> 01:41:34.810\nabout, that I spelled compliant\ncorrectly to match it up.\n\n2197\n01:41:34.810 --> 01:41:37.290\nThese things have to match if\nthey're actually gonna be there.\n\n2198\n01:41:37.290 --> 01:41:38.580\nSo, even if I misspelled it,\n\n2199\n01:41:38.580 --> 01:41:41.925\nthis really does help me out instead,\nand there you go.\n\n2200\n01:41:41.925 --> 01:41:44.620\nNotice you can also create one\non the fly if you need to.\n\n2201\n01:41:44.620 --> 01:41:48.800\nSo for us here,\nwe're gonna use compliant, click OK, and\n\n2202\n01:41:48.800 --> 01:41:51.380\nthat's gonna be the only condition\nthat I'm gonna need to make right now.\n\n2203\n01:41:51.380 --> 01:41:54.029\n>> So, if anybody tries\nauthenticating as a server, and\n\n2204\n01:41:54.029 --> 01:41:55.706\nthey match the compliant policy.\n\n2205\n01:41:55.706 --> 01:41:58.836\nIn other words,\nall of their HSVs come back, or\n\n2206\n01:41:58.836 --> 01:42:03.320\nSHVs come back as clear up any good,\nthis policy's going to apply.\n\n2207\n01:42:03.320 --> 01:42:04.795\n>> Yup.\n>> Whatever this policy does.\n\n2208\n01:42:04.795 --> 01:42:05.550\n>> Yup.\n\n2209\n01:42:05.550 --> 01:42:06.370\nAnd so, right here,\n\n2210\n01:42:06.370 --> 01:42:09.840\nnotice this is the access permission\nwe were talking about again.\n\n2211\n01:42:09.840 --> 01:42:12.620\nWe're again, not saying exactly what,\nwe're just saying,\n\n2212\n01:42:12.620 --> 01:42:15.660\nokay, if they get through,\nthey're allowed access through,\n\n2213\n01:42:15.660 --> 01:42:18.850\nbecause right now we're still testing\nto see what's happening here.\n\n2214\n01:42:18.850 --> 01:42:21.255\nSo as long as they can meet the condition,\neverything's good.\n\n2215\n01:42:21.255 --> 01:42:22.250\n>> Yup.\n>> Yup.\n\n2216\n01:42:24.265 --> 01:42:28.110\nClick Next, and now,\nhere are the authentication methods.\n\n2217\n01:42:28.110 --> 01:42:30.955\nNow, once again,\nauthentication can be tricky, okay?\n\n2218\n01:42:30.955 --> 01:42:32.710\n>> Mm-hm.\n>> So, what I wanna do is,\n\n2219\n01:42:32.710 --> 01:42:35.298\nI wanna just test out\nthe idea of the health check.\n\n2220\n01:42:35.298 --> 01:42:37.370\nI don't really want to do anything else.\n\n2221\n01:42:37.370 --> 01:42:41.130\nSo notice down here at the bottom,\nmy last option, and I have it.\n\n2222\n01:42:41.130 --> 01:42:43.640\n>> Perform machine health checks only.\n\n2223\n01:42:43.640 --> 01:42:46.352\nSo if I'm just testing this policy\nout to see if it's actually working,\n\n2224\n01:42:46.352 --> 01:42:48.820\nI'm gonna go ahead and uncheck this.\n\n2225\n01:42:48.820 --> 01:42:52.812\nI don't want that to be the thing\nthat really is kinda stopping me.\n\n2226\n01:42:52.812 --> 01:42:56.490\nI wanna just do the machine\nhealth check only.\n\n2227\n01:42:56.490 --> 01:43:00.960\n>> Yeah, and if you're doing DHCP or if\nyou're doing 802.1x, these are people that\n\n2228\n01:43:00.960 --> 01:43:04.210\nare local on your network, and\nthey're plugging the device in.\n\n2229\n01:43:04.210 --> 01:43:07.910\nSo, you may not want to authenticate them\njust to plug into the network, right?\n\n2230\n01:43:07.910 --> 01:43:09.740\nBecause you might have things\nlike network printers or\n\n2231\n01:43:09.740 --> 01:43:12.540\nwhatever that don't\nsupport authentication.\n\n2232\n01:43:12.540 --> 01:43:15.190\nSo, you many not want that,\nbut if it's a laptop,\n\n2233\n01:43:15.190 --> 01:43:16.588\nyou at least wanna do the health checks.\n\n2234\n01:43:16.588 --> 01:43:17.425\n>> Mm-hm.\n>> So, we've got that option,\n\n2235\n01:43:17.425 --> 01:43:18.255\nkinda nice to have.\n\n2236\n01:43:18.255 --> 01:43:19.502\n>> Yup.\n>> If this were VPN though,\n\n2237\n01:43:19.502 --> 01:43:20.478\nyou'd wanna do both.\n\n2238\n01:43:20.478 --> 01:43:24.137\nYou'd wanna do the health checks,\nas well as doing the authentication piece,\n\n2239\n01:43:24.137 --> 01:43:26.277\nand so\nyou wouldn't check that bottom check.\n\n2240\n01:43:26.277 --> 01:43:28.238\n>> Mm-hm.\n\n2241\n01:43:28.238 --> 01:43:29.539\nSo I'm gonna click Next.\n\n2242\n01:43:29.539 --> 01:43:32.981\nAnd now, there's some other constraints\nthat we can actually set here.\n\n2243\n01:43:32.981 --> 01:43:34.610\nI'm just gonna leave them at the default.\n\n2244\n01:43:34.610 --> 01:43:37.390\nI'm fine with what we have,\nespecially since we're using DHTP.\n\n2245\n01:43:38.720 --> 01:43:42.630\nBut it's this next setting here,\nthat this is where we have to be specific.\n\n2246\n01:43:42.630 --> 01:43:47.240\nThe one that we're really looking for is\nunderneath Network Access Protection, and\n\n2247\n01:43:47.240 --> 01:43:49.540\nthe NAP enforcement here.\n\n2248\n01:43:49.540 --> 01:43:53.090\nAnd you'll see really\njust three options here.\n\n2249\n01:43:53.090 --> 01:43:54.630\nAllow full network access,\n\n2250\n01:43:54.630 --> 01:43:57.990\nthat's pretty much what we\nwant if somebody is compliant.\n\n2251\n01:43:57.990 --> 01:44:01.290\nBut the other options are for\ndifferent criteria.\n\n2252\n01:44:01.290 --> 01:44:03.640\nAllow full access for a limited time.\n\n2253\n01:44:03.640 --> 01:44:07.120\nYou might have a guest network, then you\nkind of trim the amount of time they have.\n\n2254\n01:44:07.120 --> 01:44:11.440\nOr you can do limited access, and this is\nwhere we can set up a remediation network,\n\n2255\n01:44:11.440 --> 01:44:12.420\nif we wanna partition them off.\n\n2256\n01:44:12.420 --> 01:44:15.230\nWell, this is our compliant policy,\nso we don't want that here.\n\n2257\n01:44:15.230 --> 01:44:16.210\nWe want full access, right?\n\n2258\n01:44:16.210 --> 01:44:19.610\n>> Yeah, and I'm gonna uncheck this\nauto remediation for the full one,\n\n2259\n01:44:19.610 --> 01:44:23.730\ncuz I don't really want it to try and\ndo that just again by accident here.\n\n2260\n01:44:23.730 --> 01:44:25.510\nAnd then I'm gonna go ahead and\nclick Next.\n\n2261\n01:44:27.020 --> 01:44:27.520\nMaybe.\n\n2262\n01:44:28.580 --> 01:44:29.260\n>> You try and click Next.\n\n2263\n01:44:29.260 --> 01:44:31.090\n>> Yeah, try and click Next.\n\n2264\n01:44:31.090 --> 01:44:34.320\nAnd so once again, our summary\nof what this policy is gonna be.\n\n2265\n01:44:35.390 --> 01:44:38.460\nAnd then we're just gonna go ahead and\nfinish it up, and there it is.\n\n2266\n01:44:38.460 --> 01:44:44.530\nSo now I've got that compliant\nfull-access one that's ready to go.\n\n2267\n01:44:44.530 --> 01:44:48.756\nI now have to actually set one up for\nthe non-compliance side as well.\n\n2268\n01:44:48.756 --> 01:44:53.320\nIt's gonna be just about identical except\nwe're gonna change just a couple of\n\n2269\n01:44:53.320 --> 01:44:53.949\noptions.\n\n2270\n01:44:53.949 --> 01:44:58.833\nSo if I right click onto\nMy Network Policies and go to New.\n\n2271\n01:44:58.833 --> 01:45:00.270\nAnd again, not real.\n\n2272\n01:45:02.060 --> 01:45:03.540\nAnd I'm gonna make this one restricted.\n\n2273\n01:45:05.170 --> 01:45:08.050\nSo just to prove that\nif what should happen.\n\n2274\n01:45:08.050 --> 01:45:11.100\nIf it's not compliant,\nit should go into a restricted network for\n\n2275\n01:45:11.100 --> 01:45:13.645\nthe remediation is what we're\nreally talking about here.\n\n2276\n01:45:13.645 --> 01:45:17.440\nClick Next.\n\n2277\n01:45:17.440 --> 01:45:21.790\nAnd then this time I'm gonna\nadd in my non-compliant policy,\n\n2278\n01:45:21.790 --> 01:45:23.520\nunderneath the help policies here.\n\n2279\n01:45:24.610 --> 01:45:25.970\n>> Yep and with the non-compliant policy,\n\n2280\n01:45:25.970 --> 01:45:30.930\njust to remember, if you fail even one\nsystem health validator, even one SHV,\n\n2281\n01:45:30.930 --> 01:45:33.770\nthen you are gonna be\nflagged as non-compliant.\n\n2282\n01:45:33.770 --> 01:45:38.650\n>> And go ahead and click OK.\n\n2283\n01:45:38.650 --> 01:45:41.252\nAnd now at this point,\nI could go ahead and just deny.\n\n2284\n01:45:41.252 --> 01:45:43.270\n>> Yeah and\nthis is where people get confused and\n\n2285\n01:45:43.270 --> 01:45:44.600\nget questions wrong on the exam.\n\n2286\n01:45:45.610 --> 01:45:48.680\nA lot of people think, well you're\nnon-compliant, I want to deny you access.\n\n2287\n01:45:48.680 --> 01:45:53.355\nWell if you choose that, anybody who is\nnot compliant will not be able to connect,\n\n2288\n01:45:53.355 --> 01:45:54.690\nthey'll just be blocked off.\n\n2289\n01:45:54.690 --> 01:45:57.240\nWell with a VPN or IP set,\n\n2290\n01:45:57.240 --> 01:46:01.650\nthat works great, but with DHCP,\nit actually doesn't work.\n\n2291\n01:46:01.650 --> 01:46:04.850\nYou say you're going to\ndeny them a connection,\n\n2292\n01:46:04.850 --> 01:46:05.510\nbut-\n>> It's there.\n\n2293\n01:46:05.510 --> 01:46:07.810\n>> They still get an address\nthat's still there.\n\n2294\n01:46:07.810 --> 01:46:11.320\nSo, what you actually need to\ndo is to say, access granted.\n\n2295\n01:46:11.320 --> 01:46:12.400\nNow, that's contradictory.\n\n2296\n01:46:12.400 --> 01:46:14.840\nYou think,\nwait I wanna block these people.\n\n2297\n01:46:14.840 --> 01:46:16.940\nYou're going to grant them access here,\n\n2298\n01:46:16.940 --> 01:46:20.620\nwe'll filter them later on to put\nthem in the remediation network.\n\n2299\n01:46:20.620 --> 01:46:22.270\nSo don't get confused on that screen.\n\n2300\n01:46:22.270 --> 01:46:23.000\nIt's real easy to do.\n\n2301\n01:46:24.230 --> 01:46:25.492\n>> And the same thing applies here.\n\n2302\n01:46:25.492 --> 01:46:29.140\nI wanna make sure that it's actually\nthe policies that are actually working.\n\n2303\n01:46:29.140 --> 01:46:32.760\nSo I'm gonna uncheck those and\nperform the actual machine check here.\n\n2304\n01:46:34.150 --> 01:46:36.960\nSo again, not really much different at\nthis point since we're only checking out\n\n2305\n01:46:36.960 --> 01:46:38.050\nthe policies.\n\n2306\n01:46:38.050 --> 01:46:38.910\nAnd click Next.\n\n2307\n01:46:38.910 --> 01:46:42.140\nAnd once again, I'm not gonna worry about\nany real constraint type at this point.\n\n2308\n01:46:43.140 --> 01:46:47.890\nBut then, this time, when I go into\nthe NAP Enforcement Policy though,\n\n2309\n01:46:49.300 --> 01:46:53.072\nI want to actually allow for\nlimited access instead.\n\n2310\n01:46:53.072 --> 01:46:57.490\nSo non-compliant clients are allowed\nto access only a restricted\n\n2311\n01:46:57.490 --> 01:46:58.960\nnetwork for update.\n\n2312\n01:46:58.960 --> 01:47:02.840\nNow, I don't actually have\na remediation server per se.\n\n2313\n01:47:02.840 --> 01:47:06.020\nBut what I can do is set it up to\nactually go to a remediation network,\n\n2314\n01:47:06.020 --> 01:47:08.860\neven though I don't have\nthe actual servers ready to go.\n\n2315\n01:47:08.860 --> 01:47:12.960\nSo at this point here, I'm gonna go ahead\nand just allow that limited access.\n\n2316\n01:47:12.960 --> 01:47:15.550\nIf I already had\nan auto-remediation server, and\n\n2317\n01:47:15.550 --> 01:47:17.940\nall that stuff set up here,\nI could do that.\n\n2318\n01:47:17.940 --> 01:47:19.520\nI'm just gonna send it on to that network.\n\n2319\n01:47:19.520 --> 01:47:23.760\nSo I'm gonna uncheck that one for\nthat autoremediation at this point.\n\n2320\n01:47:25.670 --> 01:47:27.820\nDon is there anything else that I need to?\n\n2321\n01:47:27.820 --> 01:47:31.121\n>> So if you'll notice on there,\nunder allow limited access,\n\n2322\n01:47:31.121 --> 01:47:34.759\nyou'll see a remediation server group and\ntrouble shooting URL.\n\n2323\n01:47:34.759 --> 01:47:38.269\nSo you can actually set up a web server,\nyou know ISS, Apache, or whatever,\n\n2324\n01:47:38.269 --> 01:47:41.779\nthat when people get that message, cuz\nthey will get a message on their screen\n\n2325\n01:47:41.779 --> 01:47:44.390\ntelling them that they've\nfailed their check.\n\n2326\n01:47:44.390 --> 01:47:47.010\nThey can have a link that takes\nthem to a troubleshooting page and\n\n2327\n01:47:47.010 --> 01:47:50.520\nexplains what they can do\nto get straight again.\n\n2328\n01:47:50.520 --> 01:47:54.650\nIf you hit Configure there, you'll see,\nit's pretty straightforward,\n\n2329\n01:47:54.650 --> 01:47:58.310\nyou just punch in a URL and\nflag a remediation server group.\n\n2330\n01:47:58.310 --> 01:48:00.490\nNow, we didn't create\na remediation server group.\n\n2331\n01:48:00.490 --> 01:48:03.330\nYou'll see the menu item over there\non the left side navigation tree,\n\n2332\n01:48:03.330 --> 01:48:04.715\nRemediation Server Group.\n\n2333\n01:48:04.715 --> 01:48:07.055\nThat's where you can add in the servers.\n\n2334\n01:48:07.055 --> 01:48:11.635\nAnd it basically puts an IP filter on them\nthat says while you're being remediated,\n\n2335\n01:48:11.635 --> 01:48:13.385\nthese are the only\nservers you can talk to.\n\n2336\n01:48:13.385 --> 01:48:15.155\nYou can not talk to\nthe rest of the network,\n\n2337\n01:48:15.155 --> 01:48:18.715\nand then when they become healthy,\nthat filter gets removed and\n\n2338\n01:48:18.715 --> 01:48:21.555\nthen they can just magically see\nthe whole rest of the network.\n\n2339\n01:48:21.555 --> 01:48:26.055\nSo, a lot of us think of these remediation\nnetworks as being a separate subnet which\n\n2340\n01:48:26.055 --> 01:48:27.180\noften times, they are.\n\n2341\n01:48:27.180 --> 01:48:30.500\nBut they don't have to be,\nit can actually be a regular subnet, but\n\n2342\n01:48:30.500 --> 01:48:33.140\nthe filters will stop them from\naccessing the full network.\n\n2343\n01:48:33.140 --> 01:48:36.010\nSo very, very effective and nice to have.\n\n2344\n01:48:36.010 --> 01:48:36.690\n>> Yeah.\n>> Yep.\n\n2345\n01:48:36.690 --> 01:48:40.770\n>> All right so, we're just gonna allow\nthem limited access at this point.\n\n2346\n01:48:40.770 --> 01:48:42.660\nAnd then we're gonna click next and,\nonce again,\n\n2347\n01:48:42.660 --> 01:48:47.870\nwe are going to finish our ticker policies\nat this point, is what we're gonna do.\n\n2348\n01:48:50.140 --> 01:48:55.400\nSo, now we have our network policies,\nwe have our help policies here.\n\n2349\n01:48:55.400 --> 01:48:59.720\nWe now, of course, need to set up\nthe rest of this on the other side of it,\n\n2350\n01:48:59.720 --> 01:49:03.400\nwhich is now where we go\ninto the DHCP server.\n\n2351\n01:49:03.400 --> 01:49:07.880\n>> Yeah, and really we can use this for\nall four of the various methods out there.\n\n2352\n01:49:07.880 --> 01:49:11.410\nSo if you're gonna be configuring it for\nVPN you'd go to the remote access server.\n\n2353\n01:49:11.410 --> 01:49:15.020\nIf you're configuring it for 802.1x you're\ngonna set up your health register, no,\n\n2354\n01:49:15.020 --> 01:49:20.460\nyou're gonna go to your group policies and\nyour, well, MPS is already done.\n\n2355\n01:49:20.460 --> 01:49:22.040\nAnd if you're doing it for IP set,\n\n2356\n01:49:22.040 --> 01:49:25.040\nthat's where you're gonna set up\nyour help registration authority.\n\n2357\n01:49:25.040 --> 01:49:26.470\nSo, different places for\n\n2358\n01:49:26.470 --> 01:49:28.890\neach of the different entry\npoints to get into the network.\n\n2359\n01:49:28.890 --> 01:49:33.550\nAnd the unsung fifth hero, the remote\nservice, the remote desktop gateway.\n\n2360\n01:49:33.550 --> 01:49:36.340\nYou would go to your remote desktop\ngateway's server and configure it there.\n\n2361\n01:49:36.340 --> 01:49:38.170\nSo we're gonna do DHCP.\n\n2362\n01:49:38.170 --> 01:49:40.696\nSo we'll jump to the DHCP set.\n\n2363\n01:49:40.696 --> 01:49:42.010\n>> Yep, sounds good.\n\n2364\n01:49:42.010 --> 01:49:45.818\nSo I just closed out of the NPS, I\nprobably could have left it open here, but\n\n2365\n01:49:45.818 --> 01:49:46.977\njust closed out of it.\n\n2366\n01:49:46.977 --> 01:49:51.150\nAnd then over on the left hand side of\nthe server manager I'm gonna select DHCP.\n\n2367\n01:49:52.290 --> 01:49:56.820\nAnd then I am gonna right click on\nthe servers and go to the DHCP manager.\n\n2368\n01:49:57.950 --> 01:50:04.152\nAnd bring that one up for our set up here\nto provide for our role in terms of map.\n\n2369\n01:50:04.152 --> 01:50:09.200\nSo once I actually get DHCP up here and\n\n2370\n01:50:09.200 --> 01:50:12.570\navailable, I need to expand out and\nwhat we're looking for\n\n2371\n01:50:12.570 --> 01:50:15.000\nis the scope,\nis what we're really looking for.\n\n2372\n01:50:15.000 --> 01:50:19.370\nSo I had to expand out the server,\nthe IPv4, and\n\n2373\n01:50:19.370 --> 01:50:21.870\nthen scope here is what I want to select.\n\n2374\n01:50:22.900 --> 01:50:25.340\nSo there's a couple of different things\nthat we need to configure out here, but\n\n2375\n01:50:25.340 --> 01:50:26.700\nit's actually relatively easy.\n\n2376\n01:50:26.700 --> 01:50:27.970\nYou know in terms of configuration.\n\n2377\n01:50:27.970 --> 01:50:28.860\n>> Yeah, the hard work's already done.\n\n2378\n01:50:28.860 --> 01:50:32.600\n>> Yeah, if I right-click on scope,\nI go down, of course,\n\n2379\n01:50:32.600 --> 01:50:37.520\nto the properties of the scope,\nand I like this, nice big tab.\n\n2380\n01:50:37.520 --> 01:50:41.360\nKind of unambiguous and\nmakes it easy for people like me here.\n\n2381\n01:50:41.360 --> 01:50:45.030\nI click Network Access Protection,\nand there it is.\n\n2382\n01:50:45.030 --> 01:50:47.160\nThat option right there is\nthe one I'm looking for,\n\n2383\n01:50:47.160 --> 01:50:49.269\nwhich is to enable for this scope.\n\n2384\n01:50:50.350 --> 01:50:52.060\nSo I can actually create\na different profile,\n\n2385\n01:50:52.060 --> 01:50:53.880\nI'm just gonna use the default one.\n\n2386\n01:50:53.880 --> 01:50:57.140\n>> Yeah, and the default is what we ran\nwith earlier, setting up our policies.\n\n2387\n01:50:57.140 --> 01:51:01.300\nSo, basically,\nit says when somebody connects and\n\n2388\n01:51:01.300 --> 01:51:03.650\ntries to get an IP\naddress from this scope,\n\n2389\n01:51:03.650 --> 01:51:07.430\nI'm gonna look to the active directory and\nfind the network policy server.\n\n2390\n01:51:07.430 --> 01:51:08.540\nCuz it's listed there,\n\n2391\n01:51:08.540 --> 01:51:10.840\nremember we registered it at\nthe very beginning of the show?\n\n2392\n01:51:10.840 --> 01:51:12.770\nI think all the way back at the beginning.\n\n2393\n01:51:12.770 --> 01:51:16.083\nBut, so it will find it via\nthe active directory, and then, it'll\n\n2394\n01:51:16.083 --> 01:51:19.858\nreach out to the NPS server, and say,\nhey, I got this guy coming in asking for\n\n2395\n01:51:19.858 --> 01:51:23.142\nan address, here's their health\ncredentials, what do you say?\n\n2396\n01:51:23.142 --> 01:51:25.745\nAnd then,\nthat server's gonna respond back,\n\n2397\n01:51:25.745 --> 01:51:29.598\nand it's gonna tell us, either yes,\nit's okay, or no, it's not.\n\n2398\n01:51:29.598 --> 01:51:30.212\nAll right.\n\n2399\n01:51:30.212 --> 01:51:33.362\nSo, now that we've got that,\nwe're just about done, but\n\n2400\n01:51:33.362 --> 01:51:36.740\nthis may be where we also get tripped up,\nas well, right.\n\n2401\n01:51:36.740 --> 01:51:38.200\nThere's two parts to this, right?\n\n2402\n01:51:38.200 --> 01:51:40.780\nSetting that up is an important part,\nwhich turns it on, and\n\n2403\n01:51:40.780 --> 01:51:42.390\nallows it to do what we need it to.\n\n2404\n01:51:42.390 --> 01:51:45.930\nThe second thing, is that we have to\ncome down here to the policies, and\n\n2405\n01:51:45.930 --> 01:51:47.180\nwe have to create a policy.\n\n2406\n01:51:47.180 --> 01:51:47.850\n>> Yep.\n\n2407\n01:51:47.850 --> 01:51:49.080\nYep.\n\n2408\n01:51:49.080 --> 01:51:52.600\nYeah, because now it will know\nwhether somebody passes or fails,\n\n2409\n01:51:52.600 --> 01:51:54.670\nwhether somebody should be allowed in or\nnot.\n\n2410\n01:51:54.670 --> 01:51:55.870\nNow we need to tell it what to do.\n\n2411\n01:51:55.870 --> 01:51:57.920\nSo, what do you do if somebody fails?\n\n2412\n01:51:57.920 --> 01:51:59.240\nWhat do you do if somebody passes?\n\n2413\n01:52:00.460 --> 01:52:04.849\n>> And so here, I'm just gonna set\nthis one up as our NAP policy.\n\n2414\n01:52:07.229 --> 01:52:08.241\nClick Next, and\n\n2415\n01:52:08.241 --> 01:52:13.330\nnow here are some different configurations\nthat we might want to add in here.\n\n2416\n01:52:13.330 --> 01:52:16.246\nIt says, policy consists of one or\nmore conditions, and\n\n2417\n01:52:16.246 --> 01:52:18.700\na set of configuration settings, okay?\n\n2418\n01:52:18.700 --> 01:52:20.930\nSo this is like setting up\nalmost another scope inside,\n\n2419\n01:52:20.930 --> 01:52:23.530\nwhere you can hand out some\ninformation if you want to.\n\n2420\n01:52:23.530 --> 01:52:26.440\nSo I'm gonna go ahead and click Add.\n\n2421\n01:52:26.440 --> 01:52:27.535\nAdd, which I can't say.\n\n2422\n01:52:27.535 --> 01:52:29.800\n>> [LAUGH]\n>> For one reason or other.\n\n2423\n01:52:29.800 --> 01:52:34.130\nAnd for us here,\nI'm going to change the criteria and\n\n2424\n01:52:34.130 --> 01:52:37.270\nchange this to a user class instead.\n\n2425\n01:52:39.930 --> 01:52:40.680\nWait, am I going too far?\n\n2426\n01:52:40.680 --> 01:52:41.870\nNo that's right.\n\n2427\n01:52:41.870 --> 01:52:42.760\nOkay.\nSo I just\n\n2428\n01:52:42.760 --> 01:52:44.270\nwanted to make sure I\nwas doing the right one.\n\n2429\n01:52:46.030 --> 01:52:48.163\nThis one here actually has us doing the,\n\n2430\n01:52:48.163 --> 01:52:52.259\nlet me make sure I'm doing my right now\nhere, default network action class.\n\n2431\n01:52:52.259 --> 01:52:54.850\nThat's what I was looking for.\n\n2432\n01:52:54.850 --> 01:52:56.400\nNetwork access protection class.\n\n2433\n01:52:56.400 --> 01:52:59.970\nI don't know why my mind\nwas reading routing access.\n\n2434\n01:52:59.970 --> 01:53:00.624\nAnd I was like, we're not doing that.\n\n2435\n01:53:00.624 --> 01:53:02.940\n>> [LAUGH]\n>> But that's what I was reading there.\n\n2436\n01:53:02.940 --> 01:53:05.700\nSo, default network access protection.\n\n2437\n01:53:05.700 --> 01:53:07.712\nRight?\nWe're saying what, check the Nap,\n\n2438\n01:53:07.712 --> 01:53:10.500\ndon't go and\ncheck the routing mode access server.\n\n2439\n01:53:10.500 --> 01:53:14.250\nGo ahead and check here, and click add,\nmake sure that that appears here.\n\n2440\n01:53:15.590 --> 01:53:17.210\nGo ahead and click OK.\n\n2441\n01:53:17.210 --> 01:53:18.890\nSo that puts that in there, okay?\n\n2442\n01:53:18.890 --> 01:53:22.030\nNotice you can add in more conditions and\nyou can actually include them,\n\n2443\n01:53:22.030 --> 01:53:24.150\nor again, either meet one or the other.\n\n2444\n01:53:25.880 --> 01:53:28.330\nAll right?\n\n2445\n01:53:28.330 --> 01:53:32.800\nNow from this point, it says, for this\npolicy here, I can actually go ahead and\n\n2446\n01:53:32.800 --> 01:53:35.650\nlimit this to a certain\nrange if I want to.\n\n2447\n01:53:35.650 --> 01:53:39.290\nSo it says if I wanna actually go ahead\nand configure a range for this policy.\n\n2448\n01:53:39.290 --> 01:53:41.680\nIs there really any real benefit in?\n\n2449\n01:53:41.680 --> 01:53:46.410\n>> You know, if you wanted to\nautomatically know the IP addresses for\n\n2450\n01:53:46.410 --> 01:53:49.600\nnon compliant or for machines that had\npassed through NAP versus machines\n\n2451\n01:53:49.600 --> 01:53:51.120\nthat hadn't, you could do it there.\n\n2452\n01:53:51.120 --> 01:53:53.550\nI don't know that I've ever\nhard set it in production.\n\n2453\n01:53:53.550 --> 01:53:54.900\nI normally just say no.\n\n2454\n01:53:54.900 --> 01:53:55.665\n>> Yeah, I'm gonna say no.\n\n2455\n01:53:55.665 --> 01:53:59.490\n[LAUGH] Okay, the reason why is I've\ndone this before and I said yes, and\n\n2456\n01:53:59.490 --> 01:54:00.546\nit did not want to do it.\n\n2457\n01:54:00.546 --> 01:54:01.410\n>> [LAUGH] It didn't work for you.\n\n2458\n01:54:01.410 --> 01:54:02.360\n>> No, it didn't work, so.\n\n2459\n01:54:02.360 --> 01:54:03.010\n>> Yeah.\n>> So,\n\n2460\n01:54:03.010 --> 01:54:05.390\nyeah, once that range\nwas set in the scope,\n\n2461\n01:54:05.390 --> 01:54:08.481\napparently if you don't actually create\nanother scope for it, it doesn't like it.\n\n2462\n01:54:08.481 --> 01:54:09.312\n>> [LAUGH]\n>> It just says,\n\n2463\n01:54:09.312 --> 01:54:11.193\nno I'm not gonna apply and\nI don't care what you say.\n\n2464\n01:54:11.193 --> 01:54:13.250\nSo we're just gonna select no for\nright now.\n\n2465\n01:54:13.250 --> 01:54:14.770\nIs what we're gonna do.\n\n2466\n01:54:14.770 --> 01:54:15.620\nSo notice here.\n\n2467\n01:54:15.620 --> 01:54:18.580\nHere again it is the settings for\nthis policy and\n\n2468\n01:54:18.580 --> 01:54:21.540\nwhat we want to actually be\nable to add in here, okay?\n\n2469\n01:54:21.540 --> 01:54:22.060\nSo at this point,\n\n2470\n01:54:22.060 --> 01:54:26.040\nthere's really two things that I want\nto make sure that it can actually find.\n\n2471\n01:54:26.040 --> 01:54:29.400\nI want to actually make sure\nit can find the DNS server,\n\n2472\n01:54:29.400 --> 01:54:31.730\nis what I want to make sure of here.\n\n2473\n01:54:31.730 --> 01:54:34.940\nAnd so for this one,\nthe actual server name for us is DC.\n\n2474\n01:54:34.940 --> 01:54:39.580\nI guess that could be proper there.\n\n2475\n01:54:39.580 --> 01:54:43.380\nTell it to resolve this,\nand there it is, okay?\n\n2476\n01:54:43.380 --> 01:54:44.960\nAnd I go ahead and select Add.\n\n2477\n01:54:44.960 --> 01:54:49.080\nAnd let that add in there and\nmake sure that it's actually there.\n\n2478\n01:54:49.080 --> 01:54:53.760\nAnd the second one that I\nwant is the domain name, and\n\n2479\n01:54:53.760 --> 01:54:59.475\nthat is number 15 is here.\n\n2480\n01:54:59.475 --> 01:55:06.475\nAnd on this one, right,\nour sandbox network here is contoso.com.\n\n2481\n01:55:06.475 --> 01:55:10.640\nSo the Microsoft fictional, now,\nI don't know, is it just Microsoft?\n\n2482\n01:55:10.640 --> 01:55:11.200\nThat's unusual.\n\n2483\n01:55:12.340 --> 01:55:14.130\n>> You know, Ronnie,\nI had this happen the other day.\n\n2484\n01:55:14.130 --> 01:55:19.960\nAnd our V-labs, apparently there's some\nkind of outstanding windows update on it.\n\n2485\n01:55:19.960 --> 01:55:23.180\nAnd so\nit forces it to apply after about an hour.\n\n2486\n01:55:23.180 --> 01:55:25.280\nSo you've probably been in your V-lab for\nabout an hour now.\n\n2487\n01:55:25.280 --> 01:55:26.100\n>> Yeah, just about.\n\n2488\n01:55:26.100 --> 01:55:28.306\nSo I guess it's a good time for\na break [LAUGH]?\n\n2489\n01:55:28.306 --> 01:55:30.730\n>> Yeah,\nwe have kinda hit our break time anyways.\n\n2490\n01:55:30.730 --> 01:55:31.430\nSo, let's do this.\n\n2491\n01:55:31.430 --> 01:55:32.500\nLet's stop [INAUDIBLE].\nAnd that's all it is.\n\n2492\n01:55:32.500 --> 01:55:33.620\n>> Okay, yeah.\n>> It just reboots,\n\n2493\n01:55:33.620 --> 01:55:35.190\nand then you're back in.\n\n2494\n01:55:35.190 --> 01:55:37.740\nUnfortunately, you were part through that\nwizard, so we'll have to redo that again.\n\n2495\n01:55:37.740 --> 01:55:38.690\n>> Yeah.\n>> Good times.\n\n2496\n01:55:38.690 --> 01:55:39.330\n>> Yeah.\n\n2497\n01:55:39.330 --> 01:55:40.370\n>> All right, well, why don't we do this?\n\n2498\n01:55:40.370 --> 01:55:41.440\nWe'll stop and take a break.\n\n2499\n01:55:41.440 --> 01:55:44.210\nWhen we get back,\nwe're gonna finish that up.\n\n2500\n01:55:44.210 --> 01:55:48.650\nBasically, just to keep us on track here,\nwe're gonna create a policy that says,\n\n2501\n01:55:48.650 --> 01:55:51.520\nif you're compliant,\nyou get this IP range.\n\n2502\n01:55:51.520 --> 01:55:53.710\nYou know, everything's good,\nyou get a domain.\n\n2503\n01:55:53.710 --> 01:55:56.650\nIf you're not compliant we'll flag you\nwith a slightly different domain name,\n\n2504\n01:55:56.650 --> 01:55:58.860\nso we can identify that.\n\n2505\n01:55:58.860 --> 01:56:00.538\nAnd slightly different configuration.\n\n2506\n01:56:00.538 --> 01:56:04.180\nSo we're gonna see that and\nget that done after the several reboots.\n\n2507\n01:56:04.180 --> 01:56:07.542\nAll right, so stay tuned,\nwe'll be back in a reboot.\n\n2508\n01:56:07.542 --> 01:56:14.867\n[MUSIC]\n\n2509\n01:56:14.867 --> 01:56:16.644\n>> [SOUND] All right,\nwelcome back, everybody.\n\n2510\n01:56:16.644 --> 01:56:17.999\nSo one reboot later.\n\n2511\n01:56:17.999 --> 01:56:19.420\n>> [LAUGH]\n>> We're back into our wizard and\n\n2512\n01:56:19.420 --> 01:56:20.440\nready to pick back up.\n\n2513\n01:56:20.440 --> 01:56:22.860\nThe glory of automatic Windows updates,\nright?\n\n2514\n01:56:22.860 --> 01:56:24.400\n>> Yes.\n>> It does kind of drive home that\n\n2515\n01:56:24.400 --> 01:56:26.840\npoint of, why you don't want\nautomatic updates on a server.\n\n2516\n01:56:26.840 --> 01:56:27.866\nBut-\n>> [LAUGH]\n\n2517\n01:56:27.866 --> 01:56:30.040\n>> [LAUGH] But, anyhow, it works out here,\n\n2518\n01:56:30.040 --> 01:56:31.840\nso\n>> Let's jump back in Ronnie and\n\n2519\n01:56:31.840 --> 01:56:32.610\nsee where we're at.\n\n2520\n01:56:32.610 --> 01:56:33.230\n>> Yeah.\n\n2521\n01:56:33.230 --> 01:56:35.851\nNow after my reboot during\nthe middle of this wizard of course.\n\n2522\n01:56:35.851 --> 01:56:37.880\n[LAUGH] Matt and\nI had to go back and reset it.\n\n2523\n01:56:37.880 --> 01:56:41.340\nBut I came to this very last point\nin which we were actually adding in.\n\n2524\n01:56:41.340 --> 01:56:44.300\nAnd the one thing I forgot to mention\nDon I should have come up here and\n\n2525\n01:56:44.300 --> 01:56:46.260\nactually talked about just briefly right?\n\n2526\n01:56:46.260 --> 01:56:48.120\nThe idea that we wanna add in.\n\n2527\n01:56:48.120 --> 01:56:51.600\nWe're just changing the DHCP options\nthat we would normally change.\n\n2528\n01:56:51.600 --> 01:56:53.990\nAnd this is for\nthat particular non compliance.\n\n2529\n01:56:53.990 --> 01:56:54.730\nIs what we're doing.\n\n2530\n01:56:54.730 --> 01:56:57.550\nSo we wanted to be able to find\nof course the DNS server, so\n\n2531\n01:56:57.550 --> 01:57:00.260\nit can actually go to\naddress whatever it needs to.\n\n2532\n01:57:00.260 --> 01:57:02.650\nBut in the domain name,\nwe're gonna change it for\n\n2533\n01:57:02.650 --> 01:57:07.560\nthat machine, okay, to be able to get\nwhere it says restricted.contoso.com.\n\n2534\n01:57:07.560 --> 01:57:10.670\nSo this is allowing us to\nbe able to validate that.\n\n2535\n01:57:10.670 --> 01:57:12.750\n>> Now the domain name,\nthat suffix right there,\n\n2536\n01:57:12.750 --> 01:57:16.630\nit doesn't enforce anything itself,\nbut what we're doing is saying,\n\n2537\n01:57:16.630 --> 01:57:19.650\nsometimes it's hard to tell if you're\nin the remediation network or not.\n\n2538\n01:57:19.650 --> 01:57:23.520\nYou should get a pop-up, but it might be\ngone by the time you get to the machine.\n\n2539\n01:57:23.520 --> 01:57:26.140\nSo, how do you know if you're in\nthe remediation network or not?\n\n2540\n01:57:26.140 --> 01:57:28.000\nYou might just have bad\nnetwork connectivity.\n\n2541\n01:57:28.000 --> 01:57:32.310\nSo by setting this option,\nwe can quickly do like an ipconfig/all.\n\n2542\n01:57:32.310 --> 01:57:34.620\n>> And look and\nsee what our DNS suffix is.\n\n2543\n01:57:34.620 --> 01:57:36.860\nAnd if we see restricted.whatever,\n\n2544\n01:57:36.860 --> 01:57:39.065\nthen we know that we're in\nthe remediation network.\n\n2545\n01:57:39.065 --> 01:57:39.610\n>> Mm-hm.\n\n2546\n01:57:39.610 --> 01:57:40.490\n>> So just a quick,\n\n2547\n01:57:40.490 --> 01:57:44.820\neasy way to visually recognize whether\nyou're being remediated or not.\n\n2548\n01:57:44.820 --> 01:57:46.250\n>> Right.\n\n2549\n01:57:46.250 --> 01:57:48.739\nAll right, so from that point,\nI'm just gonna go ahead and set that up.\n\n2550\n01:57:49.850 --> 01:57:51.180\n>> And\nthen I'm going to click Finish here.\n\n2551\n01:57:52.340 --> 01:57:53.620\nI'm gonna try and click Finish here.\n\n2552\n01:57:54.640 --> 01:57:55.460\n>> Second time.\n\n2553\n01:57:55.460 --> 01:57:57.560\n>> Apparently it just\ndoesn't like me doing it.\n\n2554\n01:57:57.560 --> 01:58:02.110\nOkay, so now that our DHCP server\nis set up to handle that, right.\n\n2555\n01:58:02.110 --> 01:58:04.290\nRemember we actually had to\nchange two settings here.\n\n2556\n01:58:04.290 --> 01:58:07.322\nInside of the scope going to the network\naccess protection, enabling it, and\n\n2557\n01:58:07.322 --> 01:58:11.960\nthen secondly creating a policy to do\nwhat we want the DHCP server to do for\n\n2558\n01:58:11.960 --> 01:58:14.470\nus in terms of NAT is what we wanna do.\n\n2559\n01:58:14.470 --> 01:58:18.480\nNow, we're gonna jump over to client 1, so\n\n2560\n01:58:18.480 --> 01:58:21.230\nthat we can actually go ahead and\nput this in place, right?\n\n2561\n01:58:21.230 --> 01:58:25.760\nSo at this point here, I need to make\nsure that this client can, again,\n\n2562\n01:58:25.760 --> 01:58:28.695\ntalk to the network here, for\nnetwork access protection.\n\n2563\n01:58:28.695 --> 01:58:33.455\nSo, I'm going to bring up a Microsoft\nManagement Console by typing in MMC.\n\n2564\n01:58:35.785 --> 01:58:39.897\nAnd then I can add the snap then for\nthat network access protection.\n\n2565\n01:58:39.897 --> 01:58:43.707\nNow, what Ronnie's doing here is\njust kind of a little-known thing.\n\n2566\n01:58:43.707 --> 01:58:46.277\nWhen you do a system\nhealth validator check,\n\n2567\n01:58:46.277 --> 01:58:48.977\nit's actually the client\nthat's checking itself, and\n\n2568\n01:58:48.977 --> 01:58:52.950\nthere's a service on the machine called\nthe Network Access Protection Service and\n\n2569\n01:58:52.950 --> 01:58:55.360\nit's installed by default, but\nit's not actually running.\n\n2570\n01:58:55.360 --> 01:58:57.200\nIt's not doing its job.\n\n2571\n01:58:57.200 --> 01:58:58.340\nAnd so, we have to turn it on.\n\n2572\n01:58:58.340 --> 01:59:01.470\nNow, in an enterprise environment,\nwe'll use a group policy object,\n\n2573\n01:59:01.470 --> 01:59:04.410\na GPO to do this, so it will just be\nturned on on all of your machines.\n\n2574\n01:59:04.410 --> 01:59:08.800\nBut here, since it wasn't set up prior,\nRonnie's just gonna turn it on manually.\n\n2575\n01:59:08.800 --> 01:59:09.440\n>> Yep.\n\n2576\n01:59:09.440 --> 01:59:13.730\nSo, on the snap in, I selected nap,\nclient configuration.\n\n2577\n01:59:13.730 --> 01:59:16.425\nClick to add and\nwe're gonna run this on local computer.\n\n2578\n01:59:16.425 --> 01:59:21.613\nClick OK and\nthen we're going to click OK again.\n\n2579\n01:59:21.613 --> 01:59:26.468\nAnd so that brings up our\nNAP Client Configuration here and\n\n2580\n01:59:26.468 --> 01:59:29.350\nif I expand it out, notice I have.\n\n2581\n01:59:29.350 --> 01:59:34.850\nEnforcements, user interface settings,\nhealth registration settings.\n\n2582\n01:59:34.850 --> 01:59:37.390\nWhat we're looking for\nis the enforcement settings, okay?\n\n2583\n01:59:37.390 --> 01:59:40.670\nBecause we're actually doing the DACP and\nnot the IP SAC or\n\n2584\n01:59:40.670 --> 01:59:46.260\nthe Remote Desktop Gateway or any of\nthe other ones here, we're going to select\n\n2585\n01:59:46.260 --> 01:59:52.610\nthe DACP quarantine, enforcement client,\nand I can right click and enable that.\n\n2586\n01:59:52.610 --> 01:59:54.370\n>> And see how there's five agents there?\n\n2587\n01:59:54.370 --> 01:59:56.280\nThose are the five different\nconnection methods.\n\n2588\n01:59:56.280 --> 01:59:59.530\nRemember I mentioned on the exam there's\nonly four, but there's actually five.\n\n2589\n01:59:59.530 --> 02:00:01.705\nSo, you can see if we were doing DHCP.\n\n2590\n02:00:01.705 --> 02:00:03.185\nIPsec is the second one.\n\n2591\n02:00:03.185 --> 02:00:06.605\nRemote Desktop Gateway, that's\nthe one that's not on the objectives.\n\n2592\n02:00:06.605 --> 02:00:07.995\nEAP quarantine.\n\n2593\n02:00:07.995 --> 02:00:10.950\nThat's talking about 802.1x, and\n\n2594\n02:00:10.950 --> 02:00:14.756\nthen third Party Modem VPN NAP client,\nthat's VPN.\n\n2595\n02:00:14.756 --> 02:00:15.812\n>> Very generic?\n\n2596\n02:00:15.812 --> 02:00:16.519\nOn that last one?\n>> It's kind of all\n\n2597\n02:00:16.519 --> 02:00:17.158\nover the place, isn't it?\n\n2598\n02:00:17.158 --> 02:00:20.784\n[LAUGH]\n>> Now that we've got this one actually\n\n2599\n02:00:20.784 --> 02:00:23.437\nset up for us and ready to go, okay?\n\n2600\n02:00:23.437 --> 02:00:27.567\nNow, what we need to do is actually\nmake this computer here not\n\n2601\n02:00:28.947 --> 02:00:30.983\ndrop the firewall, I guess is-\n>> Yeah,\n\n2602\n02:00:30.983 --> 02:00:31.874\nthat's the only check we have, right?\n\n2603\n02:00:31.874 --> 02:00:34.430\nWe're just checking to see if\nthe firewall is turned on or not, so\n\n2604\n02:00:34.430 --> 02:00:36.763\nif we turn off our firewall then\nwe are no longer compliant.\n\n2605\n02:00:36.763 --> 02:00:40.140\nAnd Ronnie, do you know?\n\n2606\n02:00:40.140 --> 02:00:43.790\nThe NAP service, for\nsome reason in the back of my mind,\n\n2607\n02:00:43.790 --> 02:00:45.270\nis not turned on by default, is it?\n\n2608\n02:00:45.270 --> 02:00:47.430\nSo, we probably need to tackle that also.\n\n2609\n02:00:47.430 --> 02:00:49.850\n>> And I think I have to\nconfigure a policy as well.\n\n2610\n02:00:49.850 --> 02:00:52.839\nAll right, let's go to our services.\n\n2611\n02:00:58.870 --> 02:01:01.620\nAnd then, I could be wrong.\n\n2612\n02:01:01.620 --> 02:01:02.730\n>> Yeah, let's check it out.\n\n2613\n02:01:02.730 --> 02:01:05.180\n>> They changed things with 8.1 and\nall that.\n\n2614\n02:01:05.180 --> 02:01:06.510\n>> It is not on.\n\n2615\n02:01:06.510 --> 02:01:07.840\n>> So, we need to start that and again,\n\n2616\n02:01:07.840 --> 02:01:10.660\nnormally we'd have a GPO that\nwould take care of that.\n\n2617\n02:01:10.660 --> 02:01:15.120\nSo, we're just gonna flip that\nto automatic and start it up.\n\n2618\n02:01:15.120 --> 02:01:18.480\nYeah, if a client disables\ntheir health checks, right?\n\n2619\n02:01:18.480 --> 02:01:19.490\nCuz a client checks themselves.\n\n2620\n02:01:19.490 --> 02:01:22.660\nIf they disable it,\nthey will automatically fail any check.\n\n2621\n02:01:22.660 --> 02:01:27.410\nRight so that's the way we get the safety\nand security if somebody tampers with it.\n\n2622\n02:01:27.410 --> 02:01:29.370\nAnd then double check one more thing for\n\n2623\n02:01:29.370 --> 02:01:31.910\nme Ronnie, it seems there's a health\nservice also if you scroll up on that.\n\n2624\n02:01:31.910 --> 02:01:35.378\n>> Let me see\n>> And I don't know.\n\n2625\n02:01:35.378 --> 02:01:37.590\n[CROSSTALK] No that's something else.\n\n2626\n02:01:37.590 --> 02:01:40.970\nSo, we've just got the network\naccess protection.\n\n2627\n02:01:40.970 --> 02:01:41.934\nSo we're in business there.\n>> Yup.\n\n2628\n02:01:41.934 --> 02:01:46.470\nThe one other thing that I wanna do\nis we wanna message the pop-up, okay?\n\n2629\n02:01:46.470 --> 02:01:51.490\nSo, through the action center,\nI want it to actually pop\n\n2630\n02:01:51.490 --> 02:01:56.715\nup something on this client if it actually\ndoesn't meet the requirement here.\n\n2631\n02:01:56.715 --> 02:01:57.575\nSo, we're going to set that up,\n\n2632\n02:01:57.575 --> 02:02:00.395\nbut we're going to use the local\ngroup policy to help us do this.\n\n2633\n02:02:00.395 --> 02:02:04.275\n>> And this is an optional step, you might\nnot want your end user to be notified,\n\n2634\n02:02:04.275 --> 02:02:06.825\nfor whatever reason, especially if\nyou are just blocking them outright.\n\n2635\n02:02:06.825 --> 02:02:10.075\nBut it's a good idea to give them\na visual cue that they are being put into\n\n2636\n02:02:10.075 --> 02:02:13.415\nquarantine, and so that's what he is going\nto tackle and again, we would normally do\n\n2637\n02:02:13.415 --> 02:02:16.755\nthis in a GPO in the active directory, so\nit applied to all of our machines, but\n\n2638\n02:02:16.755 --> 02:02:18.449\nwe can do it right here on\nthis one machine easy enough.\n\n2639\n02:02:19.530 --> 02:02:23.036\n>> All right, so I'm going to expand\nout through the local computer policy,\n\n2640\n02:02:23.036 --> 02:02:27.970\ncomputer configuration,\nadministrative templates,\n\n2641\n02:02:27.970 --> 02:02:31.630\nWindows components, and what I'm\nlooking for is that Security Center.\n\n2642\n02:02:32.680 --> 02:02:34.960\nWhere is it?\nThere it is, and\n\n2643\n02:02:34.960 --> 02:02:38.400\nthen from this one it says to turn\non the actual Security Center.\n\n2644\n02:02:38.400 --> 02:02:42.290\nNotice it's not configured, maybe.\n\n2645\n02:02:42.290 --> 02:02:44.330\nHere we go.\n[LAUGH] And clicking as it.\n\n2646\n02:02:47.457 --> 02:02:49.185\nThere's that blocking again.\n\n2647\n02:02:49.185 --> 02:02:53.720\nLet me get out, my zooming in here has.\n\n2648\n02:02:55.020 --> 02:02:57.008\n>> Your resolution is just right to make\nit to where you can't confirm anything.\n\n2649\n02:02:57.008 --> 02:02:58.971\n>> Yeah, where you can't confirm anything.\n\n2650\n02:02:58.971 --> 02:03:00.713\nAll right, click OK, okay?\n\n2651\n02:03:00.713 --> 02:03:04.654\nSo, that is what it's doing, it's actually\ngoing to give me the ability to have that\n\n2652\n02:03:04.654 --> 02:03:07.884\nlittle balloon pop up that says hey,\nthis is actually going to work and\n\n2653\n02:03:07.884 --> 02:03:12.150\nthat way the user knows what's going\non and they're not wondering too much.\n\n2654\n02:03:12.150 --> 02:03:14.900\n>> And more than likely the system\ncenter's already turned on on\n\n2655\n02:03:14.900 --> 02:03:17.810\nyour machine so you may or\nmay not need to do that step, but\n\n2656\n02:03:17.810 --> 02:03:19.940\nsome people turn it off because\nthey get annoyed with the bubbles.\n\n2657\n02:03:19.940 --> 02:03:21.100\nThis is a good way to force them.\n\n2658\n02:03:22.290 --> 02:03:25.370\n>> Now, on this system, we went ahead and\n\n2659\n02:03:25.370 --> 02:03:29.630\nset up with a static IP address, so\nit's not even using DHCP right now.\n\n2660\n02:03:29.630 --> 02:03:30.970\nSo, this is a good thing for us,\n\n2661\n02:03:30.970 --> 02:03:34.310\nbecause it means we can just\nsimply flip it over to DHCP and.\n\n2662\n02:03:34.310 --> 02:03:36.250\n>> And did you turn off the firewall?\n\n2663\n02:03:36.250 --> 02:03:36.860\nI was thinking that.\n\n2664\n02:03:36.860 --> 02:03:37.780\n>> I did not turn off the firewall.\n\n2665\n02:03:37.780 --> 02:03:39.170\n>> Okay.\nNow, let's make ourselves non-compliant.\n\n2666\n02:03:39.170 --> 02:03:39.965\n>> Yeah, how's that, yeah?\n\n2667\n02:03:39.965 --> 02:03:44.185\n[LAUGH] Firewall.\n\n2668\n02:03:44.185 --> 02:03:46.007\nAnd let's see.\n\n2669\n02:03:46.007 --> 02:03:48.570\nActually, we can go through\nthe service too, can't we?\n\n2670\n02:03:48.570 --> 02:03:50.050\nThat's probably the easier way to do it.\n\n2671\n02:03:50.050 --> 02:03:51.353\n>> Do it here and\nwe know the system center will see it.\n\n2672\n02:03:51.353 --> 02:03:52.886\n>> All right, yup.\n\n2673\n02:03:52.886 --> 02:03:57.230\nSo, if I select, turn off firewall.\n\n2674\n02:03:59.460 --> 02:04:01.490\nI'll turn it off for all of them, why not?\n\n2675\n02:04:05.270 --> 02:04:07.685\nAll right, yeah, system center sees it.\n\n2676\n02:04:07.685 --> 02:04:09.020\n[LAUGH]\n>> All right, so\n\n2677\n02:04:09.020 --> 02:04:12.255\nit will give you the little warnings and\nstuff saying that your firewall is off.\n\n2678\n02:04:12.255 --> 02:04:15.730\nWe're hiding our task bar now,\nbut you normally see over there,\n\n2679\n02:04:15.730 --> 02:04:17.930\nin the right screen,\nthe action center, right?\n\n2680\n02:04:17.930 --> 02:04:19.460\nThat little flag.\n\n2681\n02:04:19.460 --> 02:04:22.180\nEventually, it's gonna pick up that\nthat firewall is turned off and\n\n2682\n02:04:22.180 --> 02:04:23.020\nit's gonna warn us.\n\n2683\n02:04:23.020 --> 02:04:24.510\nNormally, it annoys us.\n\n2684\n02:04:24.510 --> 02:04:25.740\n>> Yeah, like immediately, just about.\n\n2685\n02:04:25.740 --> 02:04:27.470\n>> Pretty fast, but\nthis time it's taking its time.\n\n2686\n02:04:27.470 --> 02:04:28.700\nBut it'll warn you and say, boy,\n\n2687\n02:04:28.700 --> 02:04:30.640\nyou should really think about\nturning that firewall on.\n\n2688\n02:04:30.640 --> 02:04:32.960\nBut it's giving us some slack right now.\n\n2689\n02:04:32.960 --> 02:04:35.125\n>> Yup.\nSo what we're gonna do is we're gonna\n\n2690\n02:04:35.125 --> 02:04:38.290\nswitch over our connection to\nour domain network over to DHCP.\n\n2691\n02:04:41.668 --> 02:04:44.963\nI'm gonna right-click and\ngo to Properties, and\n\n2692\n02:04:44.963 --> 02:04:49.330\nthen in our Ethernet Properties here,\nselect the IP version four,\n\n2693\n02:04:49.330 --> 02:04:54.070\nand Properties, and you can see\nwhere it's been statically assigned.\n\n2694\n02:04:54.070 --> 02:05:00.380\n[INAUDIBLE] I'm gonna obtain an IP\naddress automatically, and click OK.\n\n2695\n02:05:03.320 --> 02:05:06.880\nAnd click Close, and\nhere is the waiting game at this moment.\n\n2696\n02:05:06.880 --> 02:05:08.980\n>> So right now,\nwhat's going on in the background?\n\n2697\n02:05:08.980 --> 02:05:10.690\nWe're requesting an address.\n\n2698\n02:05:10.690 --> 02:05:14.360\nThe DACP server is hearing us,\nand it's responding back and\n\n2699\n02:05:14.360 --> 02:05:16.955\nsaying all right,\nI can give you an address, but\n\n2700\n02:05:16.955 --> 02:05:21.655\nI need to check your health,\ngive me your SHV information.\n\n2701\n02:05:21.655 --> 02:05:24.615\nAll right, our client then runs\nthrough the health checks and\n\n2702\n02:05:24.615 --> 02:05:27.085\nturns the information\nover to the DHCP server.\n\n2703\n02:05:27.085 --> 02:05:30.160\nNow the DHCP server can't\ninterpret that information.\n\n2704\n02:05:30.160 --> 02:05:33.520\nIt takes it and\nhands it off to the network policy server.\n\n2705\n02:05:33.520 --> 02:05:35.950\nAnd the NPS is going to look at it and\nsay, ooh,\n\n2706\n02:05:35.950 --> 02:05:38.654\ntheir firewall is off, that's not good.\n\n2707\n02:05:38.654 --> 02:05:43.250\nIt's gonna respond back to the DHCP\nserver and say no, this guy is not right.\n\n2708\n02:05:43.250 --> 02:05:47.812\nAnd so the DHCP server is then going to\nlook at the policy that Ronnie wrote and\n\n2709\n02:05:47.812 --> 02:05:51.680\nsay wait, if somebody is not good,\nwe need to filter them.\n\n2710\n02:05:51.680 --> 02:05:55.450\nWe need to apply these changes, and the\none that Ronnie specified was to give it\n\n2711\n02:05:55.450 --> 02:05:59.240\na different DNS suffix so that we could\nidentify that it was being mediated.\n\n2712\n02:05:59.240 --> 02:06:01.870\nAnd then it's going to provide\nthat configuration to the client.\n\n2713\n02:06:01.870 --> 02:06:05.870\nSo that should all be happening in the\nbackground, and I use the worse should.\n\n2714\n02:06:05.870 --> 02:06:09.280\nMy technical operator can keep me\nout of trouble in case it doesn't,\n\n2715\n02:06:09.280 --> 02:06:10.820\nbut that's what should happen.\n\n2716\n02:06:10.820 --> 02:06:12.893\n>> Yeah.\nNow, while Don was talking,\n\n2717\n02:06:12.893 --> 02:06:15.780\nactually we did get a message,\nwhich is nice.\n\n2718\n02:06:15.780 --> 02:06:17.497\n>> Okay.\n>> But it actually did float away, but\n\n2719\n02:06:17.497 --> 02:06:20.650\nnow if I hover over to the Action Center,\nI see an important message.\n\n2720\n02:06:20.650 --> 02:06:23.845\nThis is ether the fire wall turning off or\nNAP saying I've gotcha.\n\n2721\n02:06:23.845 --> 02:06:24.890\n>> [LAUGH]\n>> And so\n\n2722\n02:06:24.890 --> 02:06:26.970\nthe good thing is it\nactually does tell us.\n\n2723\n02:06:26.970 --> 02:06:29.390\nNetwork Access Protection Important.\n\n2724\n02:06:30.920 --> 02:06:31.870\nAnd there it is.\n\n2725\n02:06:31.870 --> 02:06:34.770\nThis computer does not meet\nthe security standard defined by your\n\n2726\n02:06:34.770 --> 02:06:36.070\nnetwork administrator.\n\n2727\n02:06:36.070 --> 02:06:41.560\nNetwork access might be limited\nuntil you update your computer.\n\n2728\n02:06:41.560 --> 02:06:43.790\nCheck the state of this computer and\ntry again.\n\n2729\n02:06:43.790 --> 02:06:45.365\nSo notice is does tell us,\n\n2730\n02:06:45.365 --> 02:06:50.780\nthe Windows security health agent\nunsuccessful here, is the one that we get.\n\n2731\n02:06:50.780 --> 02:06:54.890\nAnd had we specified a url, remember that\ntrouble url we could have specified.\n\n2732\n02:06:54.890 --> 02:06:57.970\nIt would show up here the user would have\na link they could click on to be able to\n\n2733\n02:06:57.970 --> 02:06:59.400\ngo and find what's what.\n\n2734\n02:06:59.400 --> 02:07:00.010\n>> All right.\n\n2735\n02:07:01.680 --> 02:07:04.640\nOkay, so we know we failed our check,\nand we know that it worked, and it was\n\n2736\n02:07:04.640 --> 02:07:09.318\nthrough the DHCP server, because we're not\nusing VPN, IPsec, or anything like that.\n\n2737\n02:07:09.318 --> 02:07:13.980\nSo the DHCP server has checked us,\nwe failed, and And\n\n2738\n02:07:13.980 --> 02:07:16.760\nwe should be able to see that\ndifferent DNS subject, right?\n\n2739\n02:07:16.760 --> 02:07:18.894\n>> Yup.\n\n2740\n02:07:18.894 --> 02:07:21.831\nSo I wanna bring out the command prompt\nand change the font size a little bit.\n\n2741\n02:07:21.831 --> 02:07:23.015\n>> Out of the default microscopic.\n\n2742\n02:07:23.015 --> 02:07:24.675\n>> Yeah.\n\n2743\n02:07:24.675 --> 02:07:26.438\nOut of the ant print.\n\n2744\n02:07:26.438 --> 02:07:28.953\nYou'd think they would pick up that we\nincreased the font everywhere else,\n\n2745\n02:07:28.953 --> 02:07:30.955\nyou might as well increase this one too,\nbut they never do.\n\n2746\n02:07:30.955 --> 02:07:37.450\n>> [LAUGH]\n>> Scrolling down a little fast.\n\n2747\n02:07:37.450 --> 02:07:39.510\n>> You can see it right there.\n\n2748\n02:07:39.510 --> 02:07:41.870\nSo, on your isotap tunnel\nadapter it grabbed it.\n\n2749\n02:07:41.870 --> 02:07:44.070\nBut if you keep scrolling up\nto the actual physical card.\n\n2750\n02:07:46.300 --> 02:07:48.090\n>> There we go.\n>> Then you see it there too.\n\n2751\n02:07:48.090 --> 02:07:49.410\nYep.\n>> Yep.\n\n2752\n02:07:49.410 --> 02:07:54.340\n>> So under connection specific DNS\nsuffix, it says restricted.contoso.com,\n\n2753\n02:07:54.340 --> 02:07:58.190\nthat lets us know we failed our policy\ncheck, and so, this is what is assigned,\n\n2754\n02:07:58.190 --> 02:07:59.690\nthis custom option.\n\n2755\n02:07:59.690 --> 02:08:03.470\nAnd you might set a custom option to give\nsomebody a completely different subnet.\n\n2756\n02:08:03.470 --> 02:08:07.560\nYou know, a different IP range or\nmaybe no default gateway so\n\n2757\n02:08:07.560 --> 02:08:08.650\nthey can't get out to the internet.\n\n2758\n02:08:08.650 --> 02:08:11.840\nThings like that, you can apply all\nsorts of different configurations\n\n2759\n02:08:11.840 --> 02:08:15.900\nbased on the fact that they failed the SHP\n>> Yeah, it's kinda neat here that on\n\n2760\n02:08:15.900 --> 02:08:20.300\nthis one it automatically also assigned a\n>> A 32 bit subnet mask as well,\n\n2761\n02:08:20.300 --> 02:08:23.980\nto try and make sure that it was not\nin that same network that you were on.\n\n2762\n02:08:23.980 --> 02:08:26.120\nSo, there we go.\n\n2763\n02:08:26.120 --> 02:08:28.043\n>> And you'll see that sometimes.\n\n2764\n02:08:28.043 --> 02:08:30.544\nThe 32 bit subnet mask,\nwhen an IP filter has been applied, And\n\n2765\n02:08:30.544 --> 02:08:33.950\nthen that's gonna be restricting their\naccess to be able to get to other places.\n\n2766\n02:08:33.950 --> 02:08:34.560\nAll right.\n\n2767\n02:08:34.560 --> 02:08:36.790\nSo, that's what happens when we fail.\n\n2768\n02:08:36.790 --> 02:08:38.300\nWe're in the remediation network, right?\n\n2769\n02:08:38.300 --> 02:08:41.570\nSo, they go to the help document\nthat surely we posted, and\n\n2770\n02:08:41.570 --> 02:08:42.770\nit gives them the things they need to do.\n\n2771\n02:08:42.770 --> 02:08:45.390\nOne of those is hey, you should really\nhave your firewall turned on, right?\n\n2772\n02:08:45.390 --> 02:08:47.600\nSo they say, okay, I didn't know.\n\n2773\n02:08:47.600 --> 02:08:48.633\nLet's go turn the firewall on.\n\n2774\n02:08:51.885 --> 02:08:54.723\nYeah, and it's as easy as hitting\nthat Use Recommended Settings, right?\n\n2775\n02:08:54.723 --> 02:08:58.200\n>> Yeah.\nSo now, our firewall is turned on, and so,\n\n2776\n02:08:58.200 --> 02:08:59.740\nwe meet the requirements.\n\n2777\n02:08:59.740 --> 02:09:03.510\nNow, Ronny, you had that little\noption that said try again for\n\n2778\n02:09:03.510 --> 02:09:07.230\nthe check, but the reality is,\nit's gonna try again on its own.\n\n2779\n02:09:07.230 --> 02:09:09.340\nAnd so,\nin the background it's try again, and\n\n2780\n02:09:09.340 --> 02:09:12.580\nin the notification center,\nI don't see any notifications left.\n\n2781\n02:09:12.580 --> 02:09:16.490\nAnd let's go to that Cmd prompt and\nsee if our suffix has changed.\n\n2782\n02:09:16.490 --> 02:09:20.260\nIt more than likely has already\nmoved us fully into the network.\n\n2783\n02:09:20.260 --> 02:09:23.145\nIt's very quick about responding\nto the health changes.\n\n2784\n02:09:26.653 --> 02:09:27.540\n>> There we go.\n\n2785\n02:09:27.540 --> 02:09:31.290\n>> Sure enough, so we're already moved\nover to just regular old contoso.com\n\n2786\n02:09:31.290 --> 02:09:32.680\n>> So, really cool.\n\n2787\n02:09:32.680 --> 02:09:35.520\nWhen somebody comes into\ncompliance it's almost instant.\n\n2788\n02:09:35.520 --> 02:09:38.330\nIt moves them over,\nnow they're fully on the network,\n\n2789\n02:09:38.330 --> 02:09:42.140\nthey've got regular subnet NAS, ready\nto rock, and function on the network.\n\n2790\n02:09:42.140 --> 02:09:46.740\nIf they fall out of compliance, well,\nit'll move them back to the remediation\n\n2791\n02:09:46.740 --> 02:09:48.640\nnetwork again, and again,\nvery quick with that.\n\n2792\n02:09:48.640 --> 02:09:50.240\nIt'll pick up And bump them off.\n\n2793\n02:09:50.240 --> 02:09:52.560\nSo, once they're on,\nthey're not on forever.\n\n2794\n02:09:52.560 --> 02:09:55.700\nThey still have to stay compliant\nwhile they're connected.\n\n2795\n02:09:55.700 --> 02:09:59.470\nNow, that leads me to the question\nNate posted in the chatroom.\n\n2796\n02:09:59.470 --> 02:10:00.850\nNate posted a little earlier, said,\n\n2797\n02:10:00.850 --> 02:10:05.260\nwould NPS ever get pushed out to servers,\nor just workstations?\n\n2798\n02:10:05.260 --> 02:10:09.800\nWell, normally we use MPS to protect\nmachines that leave our network, right?\n\n2799\n02:10:09.800 --> 02:10:13.720\nSomebody takes a machine home or out on\nthe road, the odds of it getting infected\n\n2800\n02:10:13.720 --> 02:10:17.310\nare very high, and they bring it back\ninto your work and it's a problem, right?\n\n2801\n02:10:17.310 --> 02:10:21.680\nBut in a high security environment, you\nmight want to apply that to servers also.\n\n2802\n02:10:21.680 --> 02:10:23.640\n>> If a hacker breaks into\none of your servers and\n\n2803\n02:10:23.640 --> 02:10:25.820\nturns the firewall off,\nall of a sudden, boom.\n\n2804\n02:10:25.820 --> 02:10:27.490\nIt gets moved into\nthe remediation network.\n\n2805\n02:10:27.490 --> 02:10:30.680\nNow, it's isolated, and\nit's off of your primary network.\n\n2806\n02:10:30.680 --> 02:10:33.950\nIt stops hop attacks, right,\nthe multi hop attacks,\n\n2807\n02:10:33.950 --> 02:10:37.190\nwhere people bounce through one server\nto get through to your internal network.\n\n2808\n02:10:37.190 --> 02:10:39.520\n>> So, you can use it on servers.\n\n2809\n02:10:39.520 --> 02:10:43.820\nThe problem is, something little, like\nmaybe a Windows update fails one night,\n\n2810\n02:10:43.820 --> 02:10:45.720\nmight take your server off line, right?\n\n2811\n02:10:45.720 --> 02:10:48.440\nSo, a lot of people do not\napply this to servers.\n\n2812\n02:10:48.440 --> 02:10:50.975\nIn a high security environment,\nit's not a bad idea.\n\n2813\n02:10:50.975 --> 02:10:52.495\nGo ahead and apply to the servers,\n\n2814\n02:10:52.495 --> 02:10:55.395\nif they ever fall out of compliance,\nthey get removed from the network.\n\n2815\n02:10:55.395 --> 02:10:57.745\nBut, in a lower mid security environment,\n\n2816\n02:10:57.745 --> 02:11:01.175\nin a high availability environment where\nyou want those machines on all the time,\n\n2817\n02:11:01.175 --> 02:11:03.482\nthat could result in some\nunexpected down time.\n\n2818\n02:11:03.482 --> 02:11:04.432\n>> Cool.\n\n2819\n02:11:04.432 --> 02:11:05.102\n>> All right.\n\n2820\n02:11:05.102 --> 02:11:06.912\nWell, excellent demonstration, Ronnie.\n\n2821\n02:11:06.912 --> 02:11:08.952\nOne thing I do want to\nmention to everybody.\n\n2822\n02:11:08.952 --> 02:11:11.122\nWe did this with DHCP, right?\n\n2823\n02:11:11.122 --> 02:11:13.512\nThere's four other ways of doing it.\n\n2824\n02:11:13.512 --> 02:11:16.670\nThere's IPsec, 802.1x.\n\n2825\n02:11:16.670 --> 02:11:20.310\nVPN and\nthe remote desktop gateway services.\n\n2826\n02:11:20.310 --> 02:11:24.460\nSo, four other ways of going about it,\nthey're all pretty much the same.\n\n2827\n02:11:24.460 --> 02:11:29.070\nWhen you set up the original health\nchecks and then the network policy,\n\n2828\n02:11:29.070 --> 02:11:31.400\nthat's the same for all five of them.\n\n2829\n02:11:31.400 --> 02:11:33.040\nThe difference is the last part.\n\n2830\n02:11:33.040 --> 02:11:34.190\nWhere we went to the DACP server.\n\n2831\n02:11:34.190 --> 02:11:35.920\n>> It is.\n>> Versus the remote\n\n2832\n02:11:35.920 --> 02:11:37.070\ndesktop gateway server.\n\n2833\n02:11:37.070 --> 02:11:38.170\nRight?\n>> Yep.\n\n2834\n02:11:38.170 --> 02:11:41.240\n>> If you want to learn more on those,\nthough, I grabbed a couple URL's, and I'm\n\n2835\n02:11:41.240 --> 02:11:45.330\ngoing to post these with the show on the\nwebsite, but let me just show you guys.\n\n2836\n02:11:45.330 --> 02:11:48.751\nMicrosoft has a website\ndedicated to NAP resources.\n\n2837\n02:11:48.751 --> 02:11:49.440\n>> [LAUGH]\n>> And so\n\n2838\n02:11:49.440 --> 02:11:52.890\nI've got that page pulled up right here,\nand they have some really,\n\n2839\n02:11:52.890 --> 02:11:54.310\nreally cool stuff in here.\n\n2840\n02:11:54.310 --> 02:12:00.960\nThey have step by step guides for doing\nIP sec, 802.1x, VPN and DHCP right there.\n\n2841\n02:12:00.960 --> 02:12:04.680\nThose are the big four\nthat are on the exam.\n\n2842\n02:12:04.680 --> 02:12:07.630\nThe remote desktop gateway\nthey've also got down here, TS,\n\n2843\n02:12:07.630 --> 02:12:09.890\nthe old name was\nTerminal Services Gateway.\n\n2844\n02:12:09.890 --> 02:12:11.900\nSo, TS Gateway step by step guide.\n\n2845\n02:12:11.900 --> 02:12:15.840\nThey've also got the information\nWindows XP service pack three and so on.\n\n2846\n02:12:15.840 --> 02:12:19.650\n>> Everything you could want to know,\nas well as the netsh commands.\n\n2847\n02:12:19.650 --> 02:12:20.200\n>> There you go.\n\n2848\n02:12:20.200 --> 02:12:23.890\n>> If you're trying to automate some\nof this stuff from the command line,you\n\n2849\n02:12:23.890 --> 02:12:24.920\ncan see it there.\n\n2850\n02:12:24.920 --> 02:12:26.520\nSo, I'll post the URL for this.\n\n2851\n02:12:26.520 --> 02:12:29.850\nThis is great because it gives\nyou step by step examples.\n\n2852\n02:12:29.850 --> 02:12:30.470\n>> Yeah.\n\n2853\n02:12:30.470 --> 02:12:34.380\nBut it doesn't really give you information\nif you wanna deviate from the design.\n\n2854\n02:12:34.380 --> 02:12:35.520\nSo, if you wanna deviate from the design.\n\n2855\n02:12:35.520 --> 02:12:36.840\nIf you want to customize it.\n\n2856\n02:12:36.840 --> 02:12:38.610\nI'm gonna post this other URL.\n\n2857\n02:12:38.610 --> 02:12:41.560\nThis is the Network Access\nProtection Deployment Guide.\n\n2858\n02:12:41.560 --> 02:12:43.160\n>> And it breaks down.\n\n2859\n02:12:43.160 --> 02:12:44.020\nAgain.\n\n2860\n02:12:44.020 --> 02:12:44.630\n>> Yeah.\nEach one.\n\n2861\n02:12:44.630 --> 02:12:45.245\n>> IPsec.\n\n2862\n02:12:45.245 --> 02:12:46.600\n802.11x.\nEach of the different ones,\n\n2863\n02:12:46.600 --> 02:12:49.920\nas well as NAP-NAC enforcement.\n\n2864\n02:12:49.920 --> 02:12:52.810\n>> Network access control is\nthe Cisco product that provides\n\n2865\n02:12:52.810 --> 02:12:55.880\nthe same functionality, and so\nthey show how to integrate the two.\n\n2866\n02:12:55.880 --> 02:13:00.430\nMicrosoft's NAP with Cisco's NAP,\nand so, they break it down, and\n\n2867\n02:13:00.430 --> 02:13:02.680\nthese are the deployment guides.\n\n2868\n02:13:02.680 --> 02:13:06.490\nSo they actually have checklists\nthat you can follow for\n\n2869\n02:13:06.490 --> 02:13:10.350\nwhat needs to be done, but they also\nhave deployment recommendations so\n\n2870\n02:13:10.350 --> 02:13:12.770\nthat you can customize it for\nyour environment.\n\n2871\n02:13:12.770 --> 02:13:13.870\n>> Nice.\n>> On the exam,\n\n2872\n02:13:13.870 --> 02:13:16.250\nyou're going to get pretty\ncookie cutter exams, right.\n\n2873\n02:13:16.250 --> 02:13:18.060\nNot necessarily real world, but\n\n2874\n02:13:18.060 --> 02:13:20.430\nif you deploy this in real world,\nthese are some great resources.\n\n2875\n02:13:20.430 --> 02:13:21.060\n>> Right.\n>> So, like I said,\n\n2876\n02:13:21.060 --> 02:13:23.840\nI'll posts these URLs\nalong with the episode on\n\n2877\n02:13:23.840 --> 02:13:26.040\nthe web site where you can just\nGoogle search through these.\n\n2878\n02:13:26.040 --> 02:13:30.310\n>> The Network Access Protection\nDeployment Guide as well as NAP Resources.\n\n2879\n02:13:30.310 --> 02:13:32.340\nJust be careful of one thing.\n\n2880\n02:13:32.340 --> 02:13:34.950\nNot all the guides have been\nupdated from Server 2008.\n\n2881\n02:13:34.950 --> 02:13:40.190\nSo, if you do the Google search, make\nsure it's got Windows Server 2012 listed.\n\n2882\n02:13:40.190 --> 02:13:42.170\nOtherwise you might be\nlooking at the old guides.\n\n2883\n02:13:42.170 --> 02:13:44.360\nThey still turn up a little\nhigher in the search results.\n\n2884\n02:13:44.360 --> 02:13:46.140\nSo be careful with that.\n\n2885\n02:13:46.140 --> 02:13:48.010\nBut, yeah, that pretty much covers it.\n\n2886\n02:13:48.010 --> 02:13:49.010\n>> Sounds good.\n\n2887\n02:13:49.010 --> 02:13:53.990\n>> NAP is easily one of the most complex\nthings we configure for this exam.\n\n2888\n02:13:53.990 --> 02:13:55.040\nNot because it was hard.\n\n2889\n02:13:55.040 --> 02:13:56.240\n>> No.\n>> None of that was rocket science.\n\n2890\n02:13:56.240 --> 02:13:56.810\n>> That's a lot.\n\n2891\n02:13:56.810 --> 02:13:59.090\nIt is.\nIt's a ton of steps.\n\n2892\n02:13:59.090 --> 02:14:01.230\nRonnie, I'm looking at your\nnotes over here, and jeez,\n\n2893\n02:14:01.230 --> 02:14:03.450\nyou've gotta have at least\n70 steps on your notes.\n\n2894\n02:14:03.450 --> 02:14:05.430\nSo it is a lot.\n\n2895\n02:14:05.430 --> 02:14:08.310\nDon't get intimidated,\npractice makes perfect.\n\n2896\n02:14:08.310 --> 02:14:10.640\nWork through, use our V labs,\nthey're there for\n\n2897\n02:14:10.640 --> 02:14:13.760\nyou, and it gives you a chance to get\nexposed to that, practice around,\n\n2898\n02:14:13.760 --> 02:14:16.410\ngoof around, and\nsee what damage you can do.\n\n2899\n02:14:16.410 --> 02:14:17.532\nSounds great.\n\n2900\n02:14:17.532 --> 02:14:19.970\nAll right, Ronnie do we have\nanything else to add in on this one?\n\n2901\n02:14:19.970 --> 02:14:23.910\n>> Practice is the key here, right\nremember that on these newer server exams.\n\n2902\n02:14:23.910 --> 02:14:26.430\nIt requires you to be hands on,\nyou just can't read about it and\n\n2903\n02:14:26.430 --> 02:14:28.210\ngo yeah I'm going to figure that one out.\n\n2904\n02:14:28.210 --> 02:14:30.980\nA lot of time Sometimes you've just\ngotta work with the technology.\n\n2905\n02:14:30.980 --> 02:14:34.995\nThe good thing is, with ITProTV,\nyou have access to those vLabs.\n\n2906\n02:14:34.995 --> 02:14:35.610\n>> Mm-hm.\n\n2907\n02:14:35.610 --> 02:14:36.815\n>> So no excuses.\n\n2908\n02:14:36.815 --> 02:14:38.590\n>> [LAUGH] All right.\n\n2909\n02:14:38.590 --> 02:14:40.190\nWell, ladies and gentlemen,\nlet me just remind you.\n\n2910\n02:14:40.190 --> 02:14:41.825\nIf you ever have any questions on this.\n\n2911\n02:14:41.825 --> 02:14:43.835\n>> Mm-hm.\n>> Live during this show you can go to\n\n2912\n02:14:43.835 --> 02:14:47.720\nitpro.tv/live and you'll see our\nchat box right beneath the video.\n\n2913\n02:14:47.720 --> 02:14:49.140\nYou can post your questions.\n\n2914\n02:14:49.140 --> 02:14:52.670\nWe monitor and answer during the show\nIf you have questions, after the show.\n\n2915\n02:14:52.670 --> 02:14:56.560\nSo if you're watching this recorded,\nwell, take advantage of our Q&A forums.\n\n2916\n02:14:56.560 --> 02:15:01.010\nAt the top of every page on ITProTV,\nyou'll see a link that says Q&A.\n\n2917\n02:15:01.010 --> 02:15:03.680\nTake two in our Q&A forums,\nyou can post your questions there.\n\n2918\n02:15:03.680 --> 02:15:05.500\nAnd, again, we monitor and answer.\n\n2919\n02:15:05.500 --> 02:15:07.470\nWe want to make sure you guys get\nthe answers to your questions,\n\n2920\n02:15:07.470 --> 02:15:08.660\nso that this all makes sense.\n\n2921\n02:15:08.660 --> 02:15:09.950\n>> Right.\n>> We don't just stumbling through\n\n2922\n02:15:09.950 --> 02:15:10.470\nthe dark, right.\n\n2923\n02:15:10.470 --> 02:15:12.440\nRemember, we are here to help you.\n\n2924\n02:15:12.440 --> 02:15:13.330\n>> That's right.\n\n2925\n02:15:13.330 --> 02:15:16.954\n>> All right, well, think that's about\nall I've got, so signing of for ITProTV,\n\n2926\n02:15:16.954 --> 02:15:17.701\nI'm Don Pezet.\n\n2927\n02:15:17.701 --> 02:15:18.679\n>> I'm Ronnie Wong.\n\n2928\n02:15:18.679 --> 02:15:20.488\n>> And we will see you next time.\n\n2929\n02:15:20.488 --> 02:15:30.488\n[MUSIC]\n\n",
          "vimeoId": "93413476"
        }
      ],
      "title": "Configure a Network Policy Server infrastructure"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Mike describe the Operation Master Roles available to a Windows Server 2012R2 server in an Active Directory Domain. These roles include Schema Master, Domain Naming Master, Relative Identifier(RID) Master, Primary Domain Controller(PDC) Emulator and Infrastructure Master. They cover each Operation Master role and describe the when, where, and why you would employ each in your domain.",
          "length": "2066",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-16-1-operation_master_roles-090415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-16-1-operation_master_roles-090415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-16-1-operation_master_roles-090415-1-sm.jpg",
          "title": "Operation Master Roles",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.309\n[MUSIC]\n\n2\n00:00:10.309 --> 00:00:11.051\nAll right.\n\n3\n00:00:11.051 --> 00:00:11.860\nGreetings everyone.\n\n4\n00:00:11.860 --> 00:00:14.360\nWelcome to another great\nepisode of ITProTV.\n\n5\n00:00:14.360 --> 00:00:16.210\nI'm your host Daniel Lowery.\n\n6\n00:00:16.210 --> 00:00:18.210\nHere with me today is Mr. Mike Rodrick.\n\n7\n00:00:18.210 --> 00:00:18.960\nHow's it going Mike?\n\n8\n00:00:18.960 --> 00:00:20.030\n>> Oh, it's going great Daniel.\n\n9\n00:00:20.030 --> 00:00:24.030\nI'm excited because we've got more of\nour 74-11 content coming your way.\n\n10\n00:00:24.030 --> 00:00:26.410\nAnd in this one we're gonna be\nlooking at something called\n\n11\n00:00:26.410 --> 00:00:31.380\nFlexible Single Master Operations or\nFSMOs for short.\n\n12\n00:00:31.380 --> 00:00:33.070\nNow if you're studying up on this and\n\n13\n00:00:33.070 --> 00:00:37.860\nyou're reading things on this, you might\nsee it called a few different things.\n\n14\n00:00:37.860 --> 00:00:41.570\nAgain, FSMO,\nFlexible Single Master Operations,\n\n15\n00:00:41.570 --> 00:00:44.970\nSingle Master Operations,\nOperations Masters.\n\n16\n00:00:44.970 --> 00:00:48.430\nIn fact really, I think any combination of\nthe words flexible, single, master, and\n\n17\n00:00:48.430 --> 00:00:50.480\noperations is acceptable at this point.\n\n18\n00:00:50.480 --> 00:00:51.370\n>> You're good to go.\n\n19\n00:00:51.370 --> 00:00:53.800\nAs long as you throw it into\nthe mix in some way, shape, or\n\n20\n00:00:53.800 --> 00:00:55.980\nform, you should be fine.\n\n21\n00:00:55.980 --> 00:00:57.252\nExcept for the exam, right?\n\n22\n00:00:57.252 --> 00:00:59.800\n>> [LAUGH] Yeah exactly,\nthen they're going to way it their way.\n\n23\n00:00:59.800 --> 00:01:04.470\nSo we'll call them FSMOs in here, or\nI'll call them master operations, or heck,\n\n24\n00:01:04.470 --> 00:01:06.710\nI might change it up\njust to have some fun.\n\n25\n00:01:06.710 --> 00:01:11.170\nBut anyway, the first thing we gotta\nunderstand is why we have these roles, and\n\n26\n00:01:11.170 --> 00:01:15.070\nwhere they fit in, and what they do,\nand what we need to do with them.\n\n27\n00:01:15.070 --> 00:01:16.470\nWe know, at this point,\n\n28\n00:01:16.470 --> 00:01:21.590\nActive Directory uses multi-master\nreplication with loose conversions.\n\n29\n00:01:21.590 --> 00:01:23.700\nThat's their fancy terminology for it.\n\n30\n00:01:23.700 --> 00:01:26.940\nAnd what it really comes down to is\nthat all domain controllers are equal.\n\n31\n00:01:26.940 --> 00:01:29.540\nIf we go all the way\nback into the NT days,\n\n32\n00:01:29.540 --> 00:01:32.280\nwhich I know a few of you are back\nthere or have been there,\n\n33\n00:01:33.710 --> 00:01:37.200\nwe had primary domain controller, and\nthen we had backup domain controllers.\n\n34\n00:01:37.200 --> 00:01:38.610\nYou had your PDC.\n\n35\n00:01:38.610 --> 00:01:42.410\nWhich is your primary, and that was\nthe writeable copy of the database.\n\n36\n00:01:42.410 --> 00:01:46.400\nAnd then you could only have one primary\ndomain controller in a domain, but you\n\n37\n00:01:46.400 --> 00:01:50.010\nwanted more than one domain controller,\nso to create additionals for the fault\n\n38\n00:01:50.010 --> 00:01:54.450\ntolerance and the load balancing you would\ncreate backup domain controllers or BDCs.\n\n39\n00:01:54.450 --> 00:01:58.150\nAnd they were read-only copies, and the\nreason they did this was because that way\n\n40\n00:01:58.150 --> 00:01:59.670\nthere was no chance of conflict, right?\n\n41\n00:01:59.670 --> 00:02:03.130\nThere was only one domain controller\nyou could make changes on, so\n\n42\n00:02:03.130 --> 00:02:04.790\nyou didn't have to worry\nabout any kind of conflict.\n\n43\n00:02:04.790 --> 00:02:08.210\nTwo administrators making changes on\ntwo different domain controllers and\n\n44\n00:02:08.210 --> 00:02:11.930\nwhen replication happens,\ntrying to figure out which change to keep.\n\n45\n00:02:11.930 --> 00:02:13.610\nWell, starting with Windows 2000,\n\n46\n00:02:13.610 --> 00:02:17.150\nthey went to a multi master model, meaning\nthere was more than one master right?\n\n47\n00:02:17.150 --> 00:02:19.265\nThey're all writeable copies.\n\n48\n00:02:19.265 --> 00:02:22.480\nAnd active directory has some really cool,\nbuilt in ways of dealing\n\n49\n00:02:22.480 --> 00:02:25.740\nwith the different types of replication\nconflicts that you can end up with,\n\n50\n00:02:25.740 --> 00:02:27.240\nand that's in another show.\n\n51\n00:02:27.240 --> 00:02:28.370\nWe won't go there.\n\n52\n00:02:28.370 --> 00:02:31.420\nBut the point is now,\nwe do have multi master.\n\n53\n00:02:31.420 --> 00:02:33.750\nAll the domain controllers can\nmake changes to the database.\n\n54\n00:02:33.750 --> 00:02:35.280\nThey're all writeable.\n\n55\n00:02:35.280 --> 00:02:38.060\nExcept for read only the main controllers,\nand that's another show as well.\n\n56\n00:02:39.240 --> 00:02:43.670\nBut, even with this multi-master model,\nthere were still some things\n\n57\n00:02:43.670 --> 00:02:45.900\nthat I couldn't take a chance\non having a conflict.\n\n58\n00:02:45.900 --> 00:02:49.380\nLike I said, there were ways of dealing\nwith the conflicts that would arise, but\n\n59\n00:02:49.380 --> 00:02:52.620\nit usually ended up meaning,\npossibly losing some data.\n\n60\n00:02:52.620 --> 00:02:56.480\nLike, lets say, two admins on\ntwo different domain controllers\n\n61\n00:02:56.480 --> 00:02:58.220\nwere making a change to a user account.\n\n62\n00:02:58.220 --> 00:03:01.890\nThey were both updating the phone\nnumber of the same user account.\n\n63\n00:03:01.890 --> 00:03:05.520\nWell, when those replicated, it's gotta\nfigure out which phone number to keep.\n\n64\n00:03:05.520 --> 00:03:09.410\nAnd it would take the last change in that\ncase, whichever change was written last.\n\n65\n00:03:09.410 --> 00:03:11.120\nThe other one would be lost, right?\n\n66\n00:03:11.120 --> 00:03:13.570\nAnd if it was lost and\nwe needed to keep the first one, well,\n\n67\n00:03:13.570 --> 00:03:16.410\nwe'd have to go in and fix it, but\nit's not the end of the world.\n\n68\n00:03:16.410 --> 00:03:18.080\nBut there are some things\nin active directory that I\n\n69\n00:03:18.080 --> 00:03:19.040\ncan't take that chance on.\n\n70\n00:03:19.040 --> 00:03:20.970\nI can't have a replication conflict.\n\n71\n00:03:20.970 --> 00:03:25.600\nI can't have it deciding what to keep and\nwhat to throw away and things like that.\n\n72\n00:03:25.600 --> 00:03:29.040\nAnd that's where these single master\noperation roles come into play.\n\n73\n00:03:29.040 --> 00:03:31.980\nThe name kind of tells you\nexactly what's gonna happen here.\n\n74\n00:03:31.980 --> 00:03:36.240\nThese are not services, but\nroles that a domain controller will hold,\n\n75\n00:03:36.240 --> 00:03:38.090\nand there's only going to be one of them.\n\n76\n00:03:38.090 --> 00:03:38.690\nRight?\n\n77\n00:03:38.690 --> 00:03:41.710\nBecause I don't want other domain\ncontrollers doing the same thing and\n\n78\n00:03:41.710 --> 00:03:43.360\nhaving a chance on a conflict.\n\n79\n00:03:43.360 --> 00:03:43.860\nRight?\n\n80\n00:03:43.860 --> 00:03:47.940\nNow there's five of these flexible\nsingle master operation roles\n\n81\n00:03:47.940 --> 00:03:49.450\nthat we have to deal with.\n\n82\n00:03:49.450 --> 00:03:55.140\nTwo of them are forest wide,\nthree of them are domain wide, all right?\n\n83\n00:03:55.140 --> 00:03:57.110\nAnd let's talk about what I mean by that.\n\n84\n00:03:57.110 --> 00:04:01.270\nTwo of them forest wide,\nthat means there's one per forest.\n\n85\n00:04:01.270 --> 00:04:03.730\nNo matter how many domains\nyou have in your forest,\n\n86\n00:04:03.730 --> 00:04:07.220\nno matter how many domain controllers\nyou have in each one of those domains\n\n87\n00:04:07.220 --> 00:04:11.500\nThere's only one domain controller\nthat holds the forest wide roles.\n\n88\n00:04:11.500 --> 00:04:12.360\nAll right?\n\n89\n00:04:12.360 --> 00:04:16.340\nThere's the schema master and\nthere's the domain naming master.\n\n90\n00:04:16.340 --> 00:04:17.460\nAnd I'll break these down and\n\n91\n00:04:17.460 --> 00:04:19.880\ntalk about what the heck these\nroles do in just a little bit.\n\n92\n00:04:19.880 --> 00:04:22.070\nBut those are what we\ncall forest wide roles.\n\n93\n00:04:22.070 --> 00:04:25.500\nIn other words, there's one domain\ncontroller in my entire forest\n\n94\n00:04:25.500 --> 00:04:27.130\nthat acts as the schema master.\n\n95\n00:04:27.130 --> 00:04:29.880\nThere is one domain controller\nin my entire forest\n\n96\n00:04:29.880 --> 00:04:34.040\nthat acts as the domain naming master,\nall right?\n\n97\n00:04:34.040 --> 00:04:37.830\nThen, there is my domain wide roles,\nthere's three of those.\n\n98\n00:04:37.830 --> 00:04:44.380\nThere's the PDC emulator, the rid\nmaster and the infrastructure master.\n\n99\n00:04:44.380 --> 00:04:48.660\nAnd each domain gets one of those,\nhence the name domain-wide.\n\n100\n00:04:48.660 --> 00:04:51.060\nAll right and Daniel has whipped\nup a great drawing for me.\n\n101\n00:04:51.060 --> 00:04:53.240\nLet me see if I got it pulled up here.\n\n102\n00:04:53.240 --> 00:04:54.360\nWe'll pull up my screen.\n\n103\n00:04:54.360 --> 00:04:58.530\nAnd kinda let you visualize\nwhat I'm talking about here.\n\n104\n00:04:58.530 --> 00:05:02.530\nThis would be my forest route domain,\nthis guy up here at the top, lab.net.\n\n105\n00:05:02.530 --> 00:05:07.070\nAnd let's say that's the first\ndomain controller that I created\n\n106\n00:05:07.070 --> 00:05:08.710\nthat started the whole forest.\n\n107\n00:05:08.710 --> 00:05:10.560\nWell, there is no other\ndomain controller yet.\n\n108\n00:05:10.560 --> 00:05:12.360\nThat's the very first one, so\n\n109\n00:05:12.360 --> 00:05:16.870\nit's actually gonna hold all five roles,\nthe schema master, domain naming master,\n\n110\n00:05:16.870 --> 00:05:20.730\nthe PDC emulator, the RID master,\nand the infrastructure master.\n\n111\n00:05:20.730 --> 00:05:24.530\nNow, I can add additional domain\ncontrollers into this domain,\n\n112\n00:05:24.530 --> 00:05:25.570\ndoesn't change anything.\n\n113\n00:05:25.570 --> 00:05:27.820\nAll five of those roles are there.\n\n114\n00:05:27.820 --> 00:05:31.600\nThis guy, when I bring him into my domain,\nhe's not gonna take any of those roles.\n\n115\n00:05:31.600 --> 00:05:33.220\nI already have those roles.\n\n116\n00:05:34.260 --> 00:05:39.090\nBut then when I add a second domain, like\nlet's say we go and add east.lab.net, and\n\n117\n00:05:39.090 --> 00:05:43.560\nI create my first domain controller\nto create that second domain.\n\n118\n00:05:43.560 --> 00:05:48.330\nWell, he's gonna become the PDC emulator,\nthe RID master and\n\n119\n00:05:48.330 --> 00:05:50.980\nthe infrastructure master for this domain.\n\n120\n00:05:50.980 --> 00:05:55.506\nCuz each domain gets it's own PDC RID and\ninfrastructure master.\n\n121\n00:05:55.506 --> 00:05:58.510\nIf I bring in a third domain,\nwell that first domain controller for\n\n122\n00:05:58.510 --> 00:06:02.940\nthat third domain is also gonna\npick up all three of those roles.\n\n123\n00:06:02.940 --> 00:06:07.710\nNotice I don't get another schema master,\nI don't get another domain naming master.\n\n124\n00:06:07.710 --> 00:06:10.250\nOne per forest,\nno matter how many domains,\n\n125\n00:06:10.250 --> 00:06:12.010\nno matter how many domain controllers.\n\n126\n00:06:12.010 --> 00:06:12.600\nAll right.\nSo\n\n127\n00:06:12.600 --> 00:06:13.840\nthat's the first thing\nwe need to understand.\n\n128\n00:06:13.840 --> 00:06:16.990\nWe need to know what five roles\nwe're talking about here and\n\n129\n00:06:16.990 --> 00:06:20.830\nwhether they're forest wide or\ndomain wide, all right?\n\n130\n00:06:20.830 --> 00:06:23.050\nNow let's break down what these guys do,\n\n131\n00:06:23.050 --> 00:06:25.130\ncuz it's important we\nunderstand that as well.\n\n132\n00:06:25.130 --> 00:06:29.630\nThe schema master is the only\nwritable copy of the schema.\n\n133\n00:06:29.630 --> 00:06:32.580\nNow you should be familiar with\nwhat the schema is at this point.\n\n134\n00:06:32.580 --> 00:06:36.600\nRemember the schema is the definition,\nthe blueprints if you will,\n\n135\n00:06:36.600 --> 00:06:38.920\nof all the objects that I can\ncreate in active directory.\n\n136\n00:06:38.920 --> 00:06:43.380\nWhen I right-click new user, how does\nactive directory know what a user is, and\n\n137\n00:06:43.380 --> 00:06:46.160\nthat it should have a first name, and a\nlast name, and a phone number, and a last\n\n138\n00:06:46.160 --> 00:06:50.130\nlogged on date, and a password, all those\nattributes that describe a user account?\n\n139\n00:06:50.130 --> 00:06:50.830\nThe schema.\n\n140\n00:06:50.830 --> 00:06:52.140\nThe schema's the blueprints.\n\n141\n00:06:52.140 --> 00:06:54.190\nIn the schema defines\neverything you can make.\n\n142\n00:06:54.190 --> 00:06:57.270\nIf it's not in the schema, you can't\nmake it in active directory, right?\n\n143\n00:06:57.270 --> 00:06:59.380\nThat's where all those blueprints lie.\n\n144\n00:06:59.380 --> 00:07:02.460\nEvery domain controller has\na copy of the schema partition.\n\n145\n00:07:02.460 --> 00:07:04.350\nPart of the active directory database.\n\n146\n00:07:04.350 --> 00:07:08.120\nBut only the schema master can\nyou make changes to the schema.\n\n147\n00:07:08.120 --> 00:07:10.620\nIt's the only writable copy of the schema.\n\n148\n00:07:10.620 --> 00:07:12.000\nYou can't have a conflict.\n\n149\n00:07:12.000 --> 00:07:15.380\nI can't have a scenario where people\nare making changes to the schema\n\n150\n00:07:15.380 --> 00:07:19.140\nin two different places, and when they try\nto replicate, we've got a conflict, and\n\n151\n00:07:19.140 --> 00:07:22.710\nwe've gotta throw something away,\nor lose one of those changes.\n\n152\n00:07:22.710 --> 00:07:24.740\nRemember, the schema is forest wide.\n\n153\n00:07:24.740 --> 00:07:28.440\nEvery domain in my forest uses\nthe same set of blueprints.\n\n154\n00:07:28.440 --> 00:07:32.670\nIf I make a change to the schema, that\naffects all domains in my forest right?\n\n155\n00:07:33.720 --> 00:07:37.240\nThen you've got the domain naming\nmaster and he's got a really easy job.\n\n156\n00:07:37.240 --> 00:07:40.400\nThe domain naming master\nis responsible for\n\n157\n00:07:40.400 --> 00:07:43.320\nverifying uniqueness of names when\nyou add new domains to your forest.\n\n158\n00:07:43.320 --> 00:07:45.890\nHe keeps track of all\nthe names in the forest.\n\n159\n00:07:45.890 --> 00:07:49.640\nSo when you go to add a new domain, if you\nremember going through the wizard, and\n\n160\n00:07:49.640 --> 00:07:52.350\nyou choose new domain in existing forest.\n\n161\n00:07:52.350 --> 00:07:53.080\nAnd you type in the name.\n\n162\n00:07:53.080 --> 00:07:55.135\nAnd it kind of whirs and\ngrinds for a second.\n\n163\n00:07:55.135 --> 00:07:56.831\nIt's checking with\nthe domain naming master.\n\n164\n00:07:56.831 --> 00:08:00.383\nHey, is West already used,\nor is that name available?\n\n165\n00:08:00.383 --> 00:08:02.206\nAs another domain in this forest.\n\n166\n00:08:02.206 --> 00:08:06.604\nWhen you remove domains from your forest,\nthe infrastructure master,\n\n167\n00:08:06.604 --> 00:08:11.230\nI mean the domain naming master is\nnotified that that name is no longer part.\n\n168\n00:08:11.230 --> 00:08:14.000\nSo the domain naming master\nkeeps track of that.\n\n169\n00:08:14.000 --> 00:08:15.900\nHonestly, that's the job I want.\n\n170\n00:08:15.900 --> 00:08:17.810\n[LAUGH] You know,\nhe doesn't do a whole lot there.\n\n171\n00:08:18.880 --> 00:08:22.300\nThen you've got the Rid Master,\nand the Rid Master or,\n\n172\n00:08:22.300 --> 00:08:26.530\nRelative Identifier,\nwe've talked about what a Relative Id is.\n\n173\n00:08:26.530 --> 00:08:31.280\nWe've talked about what a SID or\nsecurity Identifier is, right?\n\n174\n00:08:31.280 --> 00:08:35.280\nAll security principles,\nanything I can assign permissions to,\n\n175\n00:08:35.280 --> 00:08:40.520\nare given a unique SID, a uniquely\nidentifies that object within that domain.\n\n176\n00:08:40.520 --> 00:08:42.760\nWell, how does that generate\nthat unique number?\n\n177\n00:08:42.760 --> 00:08:47.630\nIt takes the domain ID, which is the same\nfor every object within the domain, and\n\n178\n00:08:47.630 --> 00:08:52.380\nplugs it together adds it or concatenates\nit with a unique number, a RID,\n\n179\n00:08:52.380 --> 00:08:54.610\na relative identifier, alright?\n\n180\n00:08:54.610 --> 00:08:57.460\nThe RID master is the one\nthat generates those numbers.\n\n181\n00:08:57.460 --> 00:09:00.330\nAnd because there's only one person\ngenerating those numbers within\n\n182\n00:09:00.330 --> 00:09:03.850\nthat domain,\nwe can guarantee that they're unique.\n\n183\n00:09:03.850 --> 00:09:06.870\nIf two machines were\ngenerating those numbers,\n\n184\n00:09:06.870 --> 00:09:10.090\nwe've got a chance that they could\nboth generate the same rid, or say,\n\n185\n00:09:10.090 --> 00:09:13.280\nhey, the next number is ten, and\nthis guy says, no, the next number is ten.\n\n186\n00:09:13.280 --> 00:09:16.510\nAnd now I've got two objects with\nthe same relative identifier,\n\n187\n00:09:16.510 --> 00:09:19.780\nwhich is gonna end up making the same SID,\ncause a conflict.\n\n188\n00:09:19.780 --> 00:09:20.820\nCan't have that.\n\n189\n00:09:20.820 --> 00:09:22.350\nSo the RID master generates these, and\n\n190\n00:09:22.350 --> 00:09:26.610\nwhat he does is he generates\nthem in blocks of ten at a time.\n\n191\n00:09:26.610 --> 00:09:29.310\nSo every domain controller talks\nto the RID master and says,\n\n192\n00:09:29.310 --> 00:09:32.920\nhey, I need a pool of RIDs, and\nhe gives him ten unique numbers.\n\n193\n00:09:32.920 --> 00:09:35.500\nHe'll say, here you go,\nDomain Controller one, you can have,\n\n194\n00:09:35.500 --> 00:09:39.830\nand I'm just making these numbers of for\nsimplicity, you can have one through ten.\n\n195\n00:09:39.830 --> 00:09:42.250\nDomain controller two,\nyou can 11 through 20.\n\n196\n00:09:42.250 --> 00:09:46.210\nDomain controller three,\nyou can have 21 through 30.\n\n197\n00:09:46.210 --> 00:09:49.990\nNow each one of those domain controllers,\nas you make new objects,\n\n198\n00:09:49.990 --> 00:09:52.740\nthey burn through their pool\nthat they've been assigned.\n\n199\n00:09:52.740 --> 00:09:56.010\nWhen that pool empties, they go back\nto the RID Master and he says, hey,\n\n200\n00:09:56.010 --> 00:09:59.740\nI need a new pool of RIDs, and\nthe RID Master says, all right,\n\n201\n00:09:59.740 --> 00:10:04.860\nwell the last one I signed was 21 through\n30, so you can have 31 through 40.\n\n202\n00:10:04.860 --> 00:10:07.970\nThat's the way that's gonna work,\none per domain.\n\n203\n00:10:07.970 --> 00:10:10.620\nYou've got the infrastructure master, and\n\n204\n00:10:10.620 --> 00:10:12.270\nthe infrastructure master\nhas an interesting job.\n\n205\n00:10:12.270 --> 00:10:15.980\nIt's a hard one to kind of verbalize or\ntalk about.\n\n206\n00:10:15.980 --> 00:10:18.170\nThe infrastructure master\nis responsible for\n\n207\n00:10:18.170 --> 00:10:22.830\nchecking references to objects\nthat exist in other domains.\n\n208\n00:10:22.830 --> 00:10:26.370\nBecause, with universal groups and\nglobal groups,\n\n209\n00:10:26.370 --> 00:10:28.830\nI can have members from other domains,\nright?\n\n210\n00:10:28.830 --> 00:10:32.780\nI can take a group from another domain and\nput it in a universal group in my domain.\n\n211\n00:10:32.780 --> 00:10:36.920\nWhat if that group name changes or\nthe membership of that group changes or\n\n212\n00:10:36.920 --> 00:10:40.170\na user account is removed from a group or\nsomething like that?\n\n213\n00:10:40.170 --> 00:10:42.190\nMy domain kinda needs to be aware of that.\n\n214\n00:10:42.190 --> 00:10:43.650\nSo the infrastructure master does that.\n\n215\n00:10:43.650 --> 00:10:47.130\nHe periodically goes out and\ncheck on those references,\n\n216\n00:10:47.130 --> 00:10:51.330\nthose pointers to objects from\nother domains that don't exist\n\n217\n00:10:51.330 --> 00:10:54.420\nin their domain partition because\nthey're from other domains.\n\n218\n00:10:54.420 --> 00:10:55.630\nAnd he keeps track of those changes.\n\n219\n00:10:55.630 --> 00:10:56.670\nThat's his job.\n\n220\n00:10:56.670 --> 00:10:58.120\nOne per domain.\n\n221\n00:10:58.120 --> 00:11:01.480\nAnd then the PDC emulator, and I left the\nbest for the last, this guy is probably\n\n222\n00:11:01.480 --> 00:11:07.220\nthe busiest of all the rolls and arguably\none of the more important of the rolls.\n\n223\n00:11:07.220 --> 00:11:10.760\nThe first thing, his name,\ntells you he emulates APDC.\n\n224\n00:11:12.070 --> 00:11:15.020\nRemember APDC or\na primary domain controller\n\n225\n00:11:15.020 --> 00:11:19.720\nis that writable copy of active directory\nback in the days when we had Windows NT.\n\n226\n00:11:19.720 --> 00:11:24.370\nSome applications and programs might\nbe hard coded to look for the PDC,\n\n227\n00:11:24.370 --> 00:11:27.950\nbecause they knew if they needed to\nwrite something in Active Directory,\n\n228\n00:11:27.950 --> 00:11:31.390\nthey couldn't talk to just any domain\ncontroller, they had to talk to the PDC.\n\n229\n00:11:31.390 --> 00:11:36.070\nSo the PDC emulator tells the network,\nhey I'm the primary domain controller.\n\n230\n00:11:36.070 --> 00:11:39.660\nNow there really isn't a primary domain\ncontroller starting with Windows 2000, but\n\n231\n00:11:39.660 --> 00:11:44.540\nif something is looking for a PDC, he\npretends he is one, so that application or\n\n232\n00:11:44.540 --> 00:11:46.860\nwhatever it is will\nstill function properly.\n\n233\n00:11:47.950 --> 00:11:48.850\nThat's not all he does.\n\n234\n00:11:48.850 --> 00:11:53.040\nHe's also responsible for\npassword updates.\n\n235\n00:11:53.040 --> 00:11:57.610\nWhenever a password gets changed,\nthe PDC emulator is notified\n\n236\n00:11:57.610 --> 00:12:01.020\nbefore it replicates to all\nthe other domain controllers.\n\n237\n00:12:01.020 --> 00:12:04.990\nAnd that helps with,\nlet's say I change my password.\n\n238\n00:12:04.990 --> 00:12:07.150\nAnd I log off, and I log back on.\n\n239\n00:12:07.150 --> 00:12:12.420\nWell when I log back on I could be talking\nto any one of my domain controllers.\n\n240\n00:12:12.420 --> 00:12:15.660\nAnd maybe I talk to a domain controller\nthat's unaware of my password change,\n\n241\n00:12:15.660 --> 00:12:18.320\nit hasn't replicated over to that guy yet.\n\n242\n00:12:18.320 --> 00:12:19.530\nThat would cause a failure, right?\n\n243\n00:12:19.530 --> 00:12:22.300\nI wouldn't be able to log on even though\nI know I'm typing in the right password.\n\n244\n00:12:22.300 --> 00:12:23.860\nI just changed it.\n\n245\n00:12:23.860 --> 00:12:28.120\nSo what happens is the PDC Emulator is\nimmediately notified of password changes.\n\n246\n00:12:28.120 --> 00:12:31.400\nAnd if I go to log to a domain\ncontroller and he says, wait,\n\n247\n00:12:31.400 --> 00:12:32.670\nthat's not his password.\n\n248\n00:12:32.670 --> 00:12:34.310\nBut wait, maybe he changed it.\n\n249\n00:12:34.310 --> 00:12:35.560\nNow he's got somebody he can go ask.\n\n250\n00:12:35.560 --> 00:12:39.520\nHey, did Mike change his password, and I\njust haven't got the replication yet, and\n\n251\n00:12:39.520 --> 00:12:41.550\nthe PDC emulator can say, yes he did.\n\n252\n00:12:41.550 --> 00:12:42.840\nHere's his password.\n\n253\n00:12:42.840 --> 00:12:47.300\nAnd my authentication can succeed even\nthough that change hasn't replicated out\n\n254\n00:12:47.300 --> 00:12:48.300\nthroughout the rest of the network,\n\n255\n00:12:48.300 --> 00:12:50.980\nespecially when we're talking\nabout branch offices, or\n\n256\n00:12:50.980 --> 00:12:55.450\nreally we're talking about sites where I\ncan control that replication interval.\n\n257\n00:12:55.450 --> 00:12:57.030\nSo if I'm logging in at a branch office,\n\n258\n00:12:57.030 --> 00:13:00.660\nthat domain controller might not be\naware of my password change just yet.\n\n259\n00:13:00.660 --> 00:13:01.940\nSo that helps with that.\n\n260\n00:13:01.940 --> 00:13:04.610\nIt is also responsible for\ntime synchronization.\n\n261\n00:13:04.610 --> 00:13:09.400\nAll computer in my domain synchronize\ntheir time with the PDC emulator.\n\n262\n00:13:09.400 --> 00:13:12.230\nRemember, time is a very important\npart of security in Windows.\n\n263\n00:13:12.230 --> 00:13:16.490\nIf your clock is off by more than five\nminutes, the domain won't let you log on.\n\n264\n00:13:16.490 --> 00:13:21.350\nIt thinks something is wrong, so everybody\nsynchronizes with the PDC emulator.\n\n265\n00:13:21.350 --> 00:13:26.090\nIn fact, if we imagine all\nthe computers in west.lab.net,\n\n266\n00:13:26.090 --> 00:13:29.530\nthey synchronize their time\nwith their PDC emulator.\n\n267\n00:13:29.530 --> 00:13:32.640\nEach domain has its own PDC.\n\n268\n00:13:32.640 --> 00:13:37.160\nThen this PDC Emulator synchronizes\nhis time with this PDC Emulator,\n\n269\n00:13:37.160 --> 00:13:38.170\nthe parent domain.\n\n270\n00:13:39.180 --> 00:13:42.620\nSo what that means in the end is,\nall computers in my Forest,\n\n271\n00:13:42.620 --> 00:13:46.630\ntime will be synchronized because of\nthe way that hierarchy is set up.\n\n272\n00:13:46.630 --> 00:13:51.240\nNow your Forest Root PDC Emulator is\nsupposed to be given an external time\n\n273\n00:13:51.240 --> 00:13:53.440\nsource, so\nthat it can synchronize with something.\n\n274\n00:13:53.440 --> 00:13:57.545\nThere's nobody higher than him, within our\nforest, but we can give him something like\n\n275\n00:13:57.545 --> 00:14:02.480\ntime.microsoft.com or one of the military\ngovernment clocks or the atomic clock or\n\n276\n00:14:02.480 --> 00:14:06.380\nsomething like that to\nsynchronize his time with.\n\n277\n00:14:06.380 --> 00:14:09.055\nAll right, whew,\nthat was a mouthful [LAUGH].\n\n278\n00:14:09.055 --> 00:14:10.134\n>> Slow down there, windmill.\n\n279\n00:14:10.134 --> 00:14:11.120\n[LAUGH].\n\n280\n00:14:11.120 --> 00:14:12.120\n>> That's a lot, I know.\n\n281\n00:14:12.120 --> 00:14:15.650\nI just dumped a ton of information on you\nguys, so you might want to go back and\n\n282\n00:14:15.650 --> 00:14:19.320\nwatch that a couple times but the\nimportant thing is that we understand what\n\n283\n00:14:19.320 --> 00:14:22.970\nthese roles do, what their function is.\n\n284\n00:14:22.970 --> 00:14:27.620\nAnd not so much because they're gonna ask\nyou that on the exam, but so I know how to\n\n285\n00:14:27.620 --> 00:14:31.560\ndeal with them in the event that one\nof them fails is a big part of that.\n\n286\n00:14:31.560 --> 00:14:34.960\nI mean we really should\nknow what they do as well.\n\n287\n00:14:34.960 --> 00:14:36.890\nAll right.\nSo we know what the roles do.\n\n288\n00:14:36.890 --> 00:14:39.330\nWe know that two of them are forced wide.\n\n289\n00:14:39.330 --> 00:14:41.410\nThree of them are domain wide.\n\n290\n00:14:41.410 --> 00:14:45.180\nI guess the next thing we need to do\nis figure out how to find them, right?\n\n291\n00:14:45.180 --> 00:14:48.210\nIf you come into an environment,\nwhich domain controller or\n\n292\n00:14:48.210 --> 00:14:50.810\ndomain controllers\nare holding these roles?\n\n293\n00:14:50.810 --> 00:14:52.880\nBecause they don't all have to stay there,\nright?\n\n294\n00:14:52.880 --> 00:14:55.730\nI can say I put my first\ndomain controller here.\n\n295\n00:14:55.730 --> 00:14:58.820\nHe gets all three roles,\ncuz there is no other domain controller.\n\n296\n00:14:58.820 --> 00:14:59.528\nBut if, oops, sorry.\n\n297\n00:14:59.528 --> 00:15:01.600\nThank you.\n\n298\n00:15:01.600 --> 00:15:03.250\nIf I set up my first domain controller,\n\n299\n00:15:03.250 --> 00:15:08.370\nhe's got all three roles, because there is\nno other domain controller in that domain.\n\n300\n00:15:08.370 --> 00:15:11.830\nWhen I add a second domain controller,\nI could choose to move one,\n\n301\n00:15:11.830 --> 00:15:17.310\ntwo, or all of those roles to\nanother domain controller in there.\n\n302\n00:15:17.310 --> 00:15:21.170\nSo if you've come to an environment,\nhow do you know where those roles are?\n\n303\n00:15:21.170 --> 00:15:22.590\nWhy do you need to know?\n\n304\n00:15:22.590 --> 00:15:25.780\nBecause if the domain controller that's\nholding one of those roles fails,\n\n305\n00:15:25.780 --> 00:15:27.090\nyou need to deal with it.\n\n306\n00:15:27.090 --> 00:15:29.550\nOther domain controllers,\nif they fail, yes, that's a pain.\n\n307\n00:15:29.550 --> 00:15:32.160\nI've got them there for\nfault tolerance and load balancing.\n\n308\n00:15:32.160 --> 00:15:33.970\nI wanna get it back up and running.\n\n309\n00:15:33.970 --> 00:15:37.140\nBut if one of my role holder\ndomain controllers fails, now\n\n310\n00:15:37.140 --> 00:15:41.470\nI've got nobody to generate rigs, or I've\ngot nobody to synchronize my time with.\n\n311\n00:15:41.470 --> 00:15:44.750\nSo those I need to know which\nones are holding those roles, so\n\n312\n00:15:44.750 --> 00:15:47.300\nif one of them goes down\nI can deal with it in\n\n313\n00:15:47.300 --> 00:15:52.130\na little more of an expedited fashion\npotentially depending on what role it is.\n\n314\n00:15:52.130 --> 00:15:53.040\nSo let's see how we find him.\n\n315\n00:15:53.040 --> 00:15:55.442\nI'm going to flip back over to\nthis domain controller here and\n\n316\n00:15:55.442 --> 00:15:57.113\nI'll show you a couple of different ways.\n\n317\n00:15:57.113 --> 00:15:58.692\nFirst we'll go the GUI route.\n\n318\n00:15:58.692 --> 00:16:04.098\nIf I open up tools and then domains and\ntrust I can come over and\n\n319\n00:16:04.098 --> 00:16:10.250\nI can right click on Domains and\nTrusts and choose Operation Master.\n\n320\n00:16:10.250 --> 00:16:14.930\nAnd it'll tell me who the current\ndomain naming master is.\n\n321\n00:16:14.930 --> 00:16:20.159\nSo there we go DC01.lab.net is my current\nrole holder for that particular role.\n\n322\n00:16:21.600 --> 00:16:25.510\nThat's the only one I can see from this\nconsole, is the domain naming master,\n\n323\n00:16:25.510 --> 00:16:28.130\nso Active Directory > Domains and Trusts.\n\n324\n00:16:28.130 --> 00:16:30.003\nIf I wanna find the schema master,\n\n325\n00:16:30.003 --> 00:16:33.760\nI'm actually gonna need to create\na Microsoft Management Console.\n\n326\n00:16:33.760 --> 00:16:38.290\nThere's no tool, there's no prebuilt\nsnap-in to work with the schema.\n\n327\n00:16:38.290 --> 00:16:40.450\nMicrosoft tries to protect that schema.\n\n328\n00:16:40.450 --> 00:16:42.710\nIt's like the registry for\nan individual computer, right?\n\n329\n00:16:42.710 --> 00:16:46.480\nYou can really hose a domain\nby messing up the schema.\n\n330\n00:16:47.730 --> 00:16:48.850\nSo we're going to come in here, and\n\n331\n00:16:48.850 --> 00:16:53.090\nwe're going to try to add the schema\nsnap-in and there she is.\n\n332\n00:16:53.090 --> 00:16:56.640\nNow, I do want to point out that\nI ran a command earlier, in fact,\n\n333\n00:16:56.640 --> 00:16:59.080\nlet me show you on another\ndomain controller here.\n\n334\n00:16:59.080 --> 00:17:03.679\nI'm gonna flip over to this guy and\nI'm gonna do the same thing,\n\n335\n00:17:03.679 --> 00:17:08.208\nrun MMC, and I'm gonna go do my file,\nadd/remove snap-in.\n\n336\n00:17:08.208 --> 00:17:11.070\nAnd notice I do not have\nthe schema snap-in.\n\n337\n00:17:11.070 --> 00:17:12.220\nIt's not there.\n\n338\n00:17:12.220 --> 00:17:15.170\nRight, and\nthat's the way it is by default.\n\n339\n00:17:15.170 --> 00:17:19.020\nIn order to get the schema snap-in\nto even show up in your list so\n\n340\n00:17:19.020 --> 00:17:22.310\nthat you can create this tool,\nyou have to register it.\n\n341\n00:17:22.310 --> 00:17:26.069\nAnd you do that by opening\nup a command prompt,\n\n342\n00:17:27.190 --> 00:17:31.400\nand you type in R-E-G-S-V-R-3-2.\n\n343\n00:17:31.400 --> 00:17:31.940\nRegsvr32.\n\n344\n00:17:33.080 --> 00:17:36.108\nAnd the name of that snap-in or that DLL,\n\n345\n00:17:36.108 --> 00:17:40.996\nis S-C-H-M-M-G-M-T-.-D-L-L.\n\n346\n00:17:40.996 --> 00:17:42.980\nSchemamgmt.dll.\n\n347\n00:17:42.980 --> 00:17:44.960\nI go ahead and hit Enter.\n\n348\n00:17:44.960 --> 00:17:46.750\nAnd it says it registered successfully.\n\n349\n00:17:46.750 --> 00:17:50.300\nI click OK, and I close my command prompt.\n\n350\n00:17:50.300 --> 00:17:54.480\nAnd now when I do File\n> Add/Remove snap in,\n\n351\n00:17:54.480 --> 00:17:57.775\nthere's the schema snap\nin that I can now add.\n\n352\n00:17:57.775 --> 00:18:00.175\nAll right and I'll go back over and\ndo it on this first guide.\n\n353\n00:18:00.175 --> 00:18:03.565\nIt really wouldn't matter which one I\ndo it on but I'm going to go ahead and\n\n354\n00:18:03.565 --> 00:18:06.246\nadd the schema snap in and click OK.\n\n355\n00:18:07.505 --> 00:18:13.875\nAnd now, I can right click on my\nschema and chose Operations Master and\n\n356\n00:18:13.875 --> 00:18:19.230\nI can see that the current role holder for\nthe schema master is dc01, all right?\n\n357\n00:18:19.230 --> 00:18:22.660\nSo, two different tools to\nfind those two roles, right,\n\n358\n00:18:22.660 --> 00:18:23.985\nalready seems like a pain in the butt.\n\n359\n00:18:23.985 --> 00:18:24.620\n>> [LAUGH]\n>> And it is.\n\n360\n00:18:24.620 --> 00:18:27.550\n[LAUGH] But I'll show you some\nbetter ways in just a second.\n\n361\n00:18:27.550 --> 00:18:29.960\nAll right, I'm gonna close that\nconsole and not worry about saving it,\n\n362\n00:18:29.960 --> 00:18:31.720\nI just wanted to show you that.\n\n363\n00:18:31.720 --> 00:18:36.960\nThose are the two forced wide roles,\ndefine the three domain wide roles.\n\n364\n00:18:36.960 --> 00:18:40.980\nI can open up Active Directory Users and\nComputers.\n\n365\n00:18:40.980 --> 00:18:45.020\nAnd if I come in here, and\nI can right click on my domain name, and\n\n366\n00:18:45.020 --> 00:18:47.050\nI can choose Operation Master.\n\n367\n00:18:47.050 --> 00:18:51.290\nAnd there's my RID master,\nmy PDC emulator, and\n\n368\n00:18:51.290 --> 00:18:53.280\nmy infrastructure master, all right.\n\n369\n00:18:53.280 --> 00:18:55.250\nSo, you can check all\nthree of those there.\n\n370\n00:18:55.250 --> 00:18:58.330\nAnd notice DC01 holds all five roles.\n\n371\n00:18:58.330 --> 00:19:01.400\nBecause that was the very first\ndomain controller in my force.\n\n372\n00:19:01.400 --> 00:19:02.730\nThat's what started the whole thing.\n\n373\n00:19:02.730 --> 00:19:06.650\nAnd I've never bothered to move them\nto any other domain controllers.\n\n374\n00:19:06.650 --> 00:19:07.514\nSo it actually has all five.\n\n375\n00:19:09.105 --> 00:19:12.735\nAll right, but now three different\ntools to find those five roles.\n\n376\n00:19:12.735 --> 00:19:15.135\nLet's take a look at a couple\nother ways that we can do this.\n\n377\n00:19:15.135 --> 00:19:23.569\nIf you open up a command prompt,\nyou can actually do netdom query fsmo.\n\n378\n00:19:23.569 --> 00:19:26.355\nAnd it'll whir and grind for a second.\n\n379\n00:19:28.429 --> 00:19:29.795\nAnd a couple other seconds.\n\n380\n00:19:29.795 --> 00:19:30.845\n>> Or five, yeah.\n\n381\n00:19:30.845 --> 00:19:31.345\n[LAUGH]\n>> Yeah.\n\n382\n00:19:31.345 --> 00:19:32.375\nMicrosoft seconds,\n\n383\n00:19:32.375 --> 00:19:34.924\nright?\n[LAUGH] Normally it doesn't take quite\n\n384\n00:19:34.924 --> 00:19:37.437\nthis long.\n>> It's extensive domain that you have\n\n385\n00:19:37.437 --> 00:19:40.290\nbuilt up, Michael.\nIt's so difficult to get through.\n\n386\n00:19:40.290 --> 00:19:43.627\n>> There's so many [CROSSTALK]\n>> All three of the computers that\n\n387\n00:19:43.627 --> 00:19:44.286\nyou have.\n\n388\n00:19:44.286 --> 00:19:45.510\n>> [LAUGH] And there we go.\n\n389\n00:19:45.510 --> 00:19:50.000\nThere I can see all five of those\nroles are currently on DC01.\n\n390\n00:19:50.000 --> 00:19:51.500\nI like this one the best.\n\n391\n00:19:51.500 --> 00:19:54.210\nJust because I can do all\nfive of them at once, right?\n\n392\n00:19:54.210 --> 00:19:56.390\nSo Netdom, Query, FSMO.\n\n393\n00:19:56.390 --> 00:19:59.990\nAn older one that we can use is Dsquery,\nall right?\n\n394\n00:19:59.990 --> 00:20:07.150\ndsquery server -hasfsmo.\n\n395\n00:20:07.150 --> 00:20:10.800\nAnd then the name of the fsmo,\nan abbreviation for the smo.\n\n396\n00:20:10.800 --> 00:20:14.600\nLike for Schema Master, it's schema.\n\n397\n00:20:15.800 --> 00:20:20.624\nAnd there's my name of my\ncurrent role holder, DC1.\n\n398\n00:20:20.624 --> 00:20:26.150\nI could also do name for\nmy domain naming master.\n\n399\n00:20:26.150 --> 00:20:31.720\nWe can do rid for the RID master.\n\n400\n00:20:31.720 --> 00:20:37.120\nWe can do INFR for\nthe infrastructure master.\n\n401\n00:20:37.120 --> 00:20:41.880\nAnd we can do PDC for the PDC emulator.\n\n402\n00:20:41.880 --> 00:20:45.150\nSo you run them as separate commands, but\nyou saw how it's just changing the last\n\n403\n00:20:45.150 --> 00:20:47.300\npart of the command to\nget the different roles.\n\n404\n00:20:47.300 --> 00:20:50.050\nAll right, so obviously my favorite is\nnetdom, cuz I can do it all at once.\n\n405\n00:20:50.050 --> 00:20:52.357\n>> All in favor, say aye, aye.\n\n406\n00:20:52.357 --> 00:20:53.492\nNetdoms have it.\nMotion passed.\n\n407\n00:20:53.492 --> 00:20:55.570\n[LAUGH]\n>> All right, here we go.\n\n408\n00:20:55.570 --> 00:21:00.910\nAll right, so now we know how to find\nwho's holding the role currently.\n\n409\n00:21:00.910 --> 00:21:03.550\nSo we know to take care of\nthat domain controller, and or\n\n410\n00:21:03.550 --> 00:21:05.590\nif we need to move one of these roles.\n\n411\n00:21:05.590 --> 00:21:09.600\nNow I want to go through some of the best\npractices that Microsoft talks about with\n\n412\n00:21:09.600 --> 00:21:11.970\nthese flexible single master operations.\n\n413\n00:21:11.970 --> 00:21:15.860\nOne of their recommendations are gonna\nbe this, leave the two forced wide roles\n\n414\n00:21:15.860 --> 00:21:18.770\non a domain controller in\nthe force root domain.\n\n415\n00:21:18.770 --> 00:21:21.790\nI could, for example,\nwe'll flip back over to that drawing.\n\n416\n00:21:21.790 --> 00:21:24.890\nThis guy currently holds\nthose two forced wide roles.\n\n417\n00:21:24.890 --> 00:21:27.590\nI could move them to another\ndomain controller in a different\n\n418\n00:21:27.590 --> 00:21:28.760\ndomain if I wanted to.\n\n419\n00:21:28.760 --> 00:21:30.220\nThere's only gonna be one per force.\n\n420\n00:21:30.220 --> 00:21:33.900\nBut nothing says it has to stay\non this domain controller.\n\n421\n00:21:33.900 --> 00:21:35.550\nI could actually move it to one of these.\n\n422\n00:21:35.550 --> 00:21:37.990\nMicrosoft's gonna say that's\nnot a recommended practice.\n\n423\n00:21:37.990 --> 00:21:41.918\nThey've got their reasons, I'm not\nactually not sure on those two why, but\n\n424\n00:21:41.918 --> 00:21:42.896\nleave those guys.\n\n425\n00:21:42.896 --> 00:21:46.330\nUsually what they'll say is just leave\nthem where they were from the get-go, but\n\n426\n00:21:46.330 --> 00:21:47.536\njust don't mess with them.\n\n427\n00:21:47.536 --> 00:21:52.210\nAll right, place the two force-wide\nroles on a global catalog server.\n\n428\n00:21:52.210 --> 00:21:55.910\nThat means that this guy really\nshould be running the global catalog\n\n429\n00:21:55.910 --> 00:21:57.160\nservice, all right.\n\n430\n00:21:57.160 --> 00:21:59.480\nWhichever one is holding those two,\nfour, or\n\n431\n00:21:59.480 --> 00:22:01.840\nfive roles should be\na global catalog server.\n\n432\n00:22:01.840 --> 00:22:05.320\nRemember, a global catalog server\nis an index to all the domains.\n\n433\n00:22:05.320 --> 00:22:07.580\nAll the objects and\nall the domains in the forest.\n\n434\n00:22:07.580 --> 00:22:11.000\nThat way those forest wide\nroles have access to data\n\n435\n00:22:11.000 --> 00:22:12.530\non all the objects throughout the forest.\n\n436\n00:22:12.530 --> 00:22:14.900\nSo they should be on\na global catalogue server,\n\n437\n00:22:14.900 --> 00:22:18.472\na domain controller that's running\nthe global catalogue service.\n\n438\n00:22:18.472 --> 00:22:22.390\nWe wanna place the three domain wide\nroles on the same domain controller.\n\n439\n00:22:22.390 --> 00:22:25.430\nIn other words,\nthey're suggesting don't change this.\n\n440\n00:22:25.430 --> 00:22:27.850\nThat very first domain\ncontroller has all three.\n\n441\n00:22:27.850 --> 00:22:30.080\nIf you're gonna move them to\nanother domain controller,\n\n442\n00:22:30.080 --> 00:22:32.760\nmove all three to that\nother domain controller.\n\n443\n00:22:32.760 --> 00:22:36.740\nAnd really, the reason they\nsuggest that is because we wanna\n\n444\n00:22:36.740 --> 00:22:39.350\nmake sure that those roles\nhave good performance.\n\n445\n00:22:39.350 --> 00:22:42.090\nAnd what we would normally do\nwith this domain controller\n\n446\n00:22:42.090 --> 00:22:43.690\nis not have it doing anything else.\n\n447\n00:22:43.690 --> 00:22:47.430\nBut that's another best practice\nfrom Microsoft, reduce the workload.\n\n448\n00:22:47.430 --> 00:22:51.580\nIn other words, this guy's probably\nnot gonna be running DHCP right?\n\n449\n00:22:51.580 --> 00:22:56.451\nNormally on my domain controllers I would\nput DNS and DHCP and some other things.\n\n450\n00:22:56.451 --> 00:23:00.180\nOn the one that's holding these roles you\nreally should just let it take care of\n\n451\n00:23:00.180 --> 00:23:01.660\nthose roles and nothing more.\n\n452\n00:23:01.660 --> 00:23:03.382\nJust make sure it's got\nenough performance.\n\n453\n00:23:03.382 --> 00:23:06.107\nBecause that PDC Emulator,\nrole that's a busy role,\n\n454\n00:23:06.107 --> 00:23:09.500\nit does take quite a bit of time for\nthat domain controller.\n\n455\n00:23:09.500 --> 00:23:12.430\nNow, the RID master, it kinda depends\non how many objects you're creating.\n\n456\n00:23:12.430 --> 00:23:13.590\nThe infrastructure master,\n\n457\n00:23:13.590 --> 00:23:18.410\nif it's a heavily domained forest, that\ncould be a relatively busy role as well.\n\n458\n00:23:18.410 --> 00:23:20.660\nSo I'd say leave them\nall on the same machine,\n\n459\n00:23:20.660 --> 00:23:24.640\nmake sure that machine has adequate\nperformance and try to remove any other\n\n460\n00:23:24.640 --> 00:23:28.850\nworkload that you can from that\nparticular domain controller.\n\n461\n00:23:28.850 --> 00:23:32.790\nAnd don't place them on\na global catalog server.\n\n462\n00:23:32.790 --> 00:23:36.290\nThe forest wide roles, I just said,\nput them on a global catalog server.\n\n463\n00:23:36.290 --> 00:23:41.340\nThese three, we're gonna not put them\non a global catalog server if we can't.\n\n464\n00:23:41.340 --> 00:23:43.320\nWell, let's change that.\n\n465\n00:23:43.320 --> 00:23:44.120\nIt depends.\n\n466\n00:23:44.120 --> 00:23:48.730\nIf all of your domain controllers in\nthe domain are a global catalog server,\n\n467\n00:23:48.730 --> 00:23:49.500\nall right?\n\n468\n00:23:49.500 --> 00:23:52.168\nThen, it doesn't matter, you can put\nthem on a global catalog server.\n\n469\n00:23:52.168 --> 00:23:53.642\nIf you've only got one or two,\n\n470\n00:23:53.642 --> 00:23:57.048\nlike if not all of your domain\ncontrollers are global catalog servers,\n\n471\n00:23:57.048 --> 00:24:00.871\nthen you should put these rolls on that\none that's not a global catalog server.\n\n472\n00:24:00.871 --> 00:24:01.964\nAnd here's why.\n\n473\n00:24:01.964 --> 00:24:06.202\nThe infrastructure master checks\nreferences to objects that are foreign to\n\n474\n00:24:06.202 --> 00:24:08.740\nit, objects from other domains.\n\n475\n00:24:08.740 --> 00:24:12.770\nWell, global catalog has a copy of\nevery domain's domain partition.\n\n476\n00:24:12.770 --> 00:24:14.270\nSo nothing looks foreign to it.\n\n477\n00:24:14.270 --> 00:24:17.570\nHe has access to everything, right,\nso there's nothing to check.\n\n478\n00:24:17.570 --> 00:24:21.120\nSo he says [SOUND], I don't know what\nto do, I'm not gonna check, right?\n\n479\n00:24:21.120 --> 00:24:25.139\nSo you wanna put him on a machine that's\nnot running the global catalog servers,\n\n480\n00:24:25.139 --> 00:24:28.010\nthat way he does his job and\ngoes out and checks.\n\n481\n00:24:28.010 --> 00:24:30.895\nIf all of your domain controllers\nare global catalogue servers,\n\n482\n00:24:30.895 --> 00:24:34.462\nthen I really don't need anybody to check\nreferences to foreign objects because\n\n483\n00:24:34.462 --> 00:24:37.900\nevery domain controller knows\nabout every object in the forest.\n\n484\n00:24:37.900 --> 00:24:40.600\nAnd then the infrastructure master\nrole is pretty much useless.\n\n485\n00:24:40.600 --> 00:24:41.990\nIt will still start up, but\n\n486\n00:24:41.990 --> 00:24:44.890\nit just doesn't do anything\nbecause it's not necessary.\n\n487\n00:24:44.890 --> 00:24:47.560\nSo don't put them on a global\ncatalog server unless\n\n488\n00:24:47.560 --> 00:24:49.960\nall your domain controllers\nare global catalog servers.\n\n489\n00:24:51.230 --> 00:24:54.900\nAll right, again that is\na lot of information there so\n\n490\n00:24:54.900 --> 00:24:57.770\nhopefully that is good for you guys.\n\n491\n00:24:57.770 --> 00:24:59.680\nWhat else we wanna talk about?\n\n492\n00:24:59.680 --> 00:25:02.010\nReassigning these guys.\n\n493\n00:25:02.010 --> 00:25:05.858\nNow, we just went through Microsoft's\nbest practices, and we said we really\n\n494\n00:25:05.858 --> 00:25:09.380\nshould leave those two forest wide\nroles up there in the forest domain.\n\n495\n00:25:09.380 --> 00:25:13.280\nAnd on that original domain controller,\nput those ones, the domain wide roles,\n\n496\n00:25:13.280 --> 00:25:17.920\non a high performance domain controller\nthat's not doing a lot of other things.\n\n497\n00:25:17.920 --> 00:25:19.960\nBut there are going to be times\nwhen you need to move them.\n\n498\n00:25:19.960 --> 00:25:23.370\nThat after a few years, that domain holder\nis not so high performance anymore, right?\n\n499\n00:25:23.370 --> 00:25:27.880\nWe want to move those roles to a beefier\nmachine maybe or something like that.\n\n500\n00:25:27.880 --> 00:25:29.010\nWe can definitely do that, all right?\n\n501\n00:25:29.010 --> 00:25:33.540\nWe can transfer the roles from\none domain controller to another.\n\n502\n00:25:33.540 --> 00:25:36.852\nIf you ever decommission a domain\ncontroller that happens to be a roll\n\n503\n00:25:36.852 --> 00:25:39.490\nholder, then you're gonna\nhave to move those roles.\n\n504\n00:25:39.490 --> 00:25:44.720\nNow I will tell you the Active\nDirectory Wizard should do it for you.\n\n505\n00:25:44.720 --> 00:25:46.920\nShould being the operational word there,\nright?\n\n506\n00:25:48.210 --> 00:25:49.160\nI don't rely on it.\n\n507\n00:25:49.160 --> 00:25:51.220\nI would rather move them first.\n\n508\n00:25:51.220 --> 00:25:53.050\nIt should warn you and\n\n509\n00:25:53.050 --> 00:25:56.200\nsay hey this guy's a role holder\ndo you want me to transfer them?\n\n510\n00:25:56.200 --> 00:26:00.190\nIt needs to be able to find another domain\ncontroller in the domain to transfer them\n\n511\n00:26:00.190 --> 00:26:03.918\nto in order to remove Active Directory,\notherwise that process will fail.\n\n512\n00:26:03.918 --> 00:26:06.840\nBut transferring him is\npretty straight forward.\n\n513\n00:26:06.840 --> 00:26:09.700\nLike if we go to my\ndomain wide roles here,\n\n514\n00:26:09.700 --> 00:26:12.270\nI'll open up Active Directory Users and\nComputers.\n\n515\n00:26:13.370 --> 00:26:17.630\nAnd I'll right click on my domain and\nchoose Operation Master.\n\n516\n00:26:18.980 --> 00:26:22.090\nAnd here I've got this handy\ndandy little Change button.\n\n517\n00:26:22.090 --> 00:26:26.870\nBut notice it says, the Operation\nmaster is currently dc01.lab.net and\n\n518\n00:26:26.870 --> 00:26:31.800\nif I wanna transfer it to click\nthis button, dc01.lab.net.\n\n519\n00:26:31.800 --> 00:26:33.240\nThat's not much of a transfer, is it?\n\n520\n00:26:33.240 --> 00:26:34.170\n>> That's a really quick one.\n\n521\n00:26:34.170 --> 00:26:36.630\n>> Yeah. [LAUGH] >> [LAUGH] Do\nthat in a heartbeat, right Mike?\n\n522\n00:26:36.630 --> 00:26:37.860\nThis is good stuff.\n\n523\n00:26:37.860 --> 00:26:38.830\n>> That was easy.\n\n524\n00:26:38.830 --> 00:26:39.973\nWhere's my button?\n\n525\n00:26:39.973 --> 00:26:45.689\n[LAUGH] No, you have to connect to\nthe machine that you wanna transfer it to,\n\n526\n00:26:45.689 --> 00:26:51.170\nnot the current role holder,\nin order to do this transfer process.\n\n527\n00:26:51.170 --> 00:26:56.420\nNow I could, if I'm gonna transfer this to\nthe dc02, I could just go log onto dc02,\n\n528\n00:26:56.420 --> 00:26:59.640\nopen up this same window,\nsame dialogue box and\n\n529\n00:26:59.640 --> 00:27:04.000\nthen it would say dc02 in\nthis bottom field down here.\n\n530\n00:27:04.000 --> 00:27:05.850\nI click Change and it does its job.\n\n531\n00:27:07.010 --> 00:27:08.738\nOr I'll show you a little\ntrick that I like to do.\n\n532\n00:27:08.738 --> 00:27:11.820\nRemember these snap-ins,\nyou can change focus.\n\n533\n00:27:11.820 --> 00:27:15.507\nHow about if I just change\ndomain controller to dc02?\n\n534\n00:27:15.507 --> 00:27:20.110\nNow, for all intents and purposes, I'm on\ndc02, as far as this console's concerned.\n\n535\n00:27:20.110 --> 00:27:25.170\nSo when I right click lab.net >\noperation master, look there.\n\n536\n00:27:25.170 --> 00:27:27.050\nCurrent dc01.\nDo I wanna transfer to dc02?\n\n537\n00:27:27.050 --> 00:27:29.990\nYes I do, thank you very much.\n\n538\n00:27:29.990 --> 00:27:30.700\nI click Change.\n\n539\n00:27:30.700 --> 00:27:34.160\nIt says Are you sure, and I say Yes.\n\n540\n00:27:34.160 --> 00:27:35.870\nAnd it says it was transferred, all right?\n\n541\n00:27:35.870 --> 00:27:40.310\nNow the transfer process as you see\npretty painless, pretty straightforward.\n\n542\n00:27:40.310 --> 00:27:42.490\nWhen the current role holder is up and\n\n543\n00:27:42.490 --> 00:27:46.380\nrunning, then it's a pretty\nsmooth process, right?\n\n544\n00:27:46.380 --> 00:27:50.331\nBecause he says Okay, I'm not gonna be the\nrole holder anymore, dc01 talk to dc02,\n\n545\n00:27:50.331 --> 00:27:53.175\nhe said all right, let me make sure\nall my changes are up to date,\n\n546\n00:27:53.175 --> 00:27:54.800\nI've got everything done.\n\n547\n00:27:54.800 --> 00:27:56.345\nHere you go, now it's your job.\n\n548\n00:27:56.345 --> 00:27:58.950\n[NOISE] I'm no longer the role holder.\n\n549\n00:27:58.950 --> 00:28:00.010\nAll right?\n\n550\n00:28:00.010 --> 00:28:04.480\nThat's the way we want it to happen,\nis do a transfer like that.\n\n551\n00:28:04.480 --> 00:28:06.290\nNot always possible.\n\n552\n00:28:06.290 --> 00:28:09.330\nWhat if the current role\nholder has failed, right?\n\n553\n00:28:09.330 --> 00:28:15.270\nA hardware issue, disk failure or\njust a corruption or something like that.\n\n554\n00:28:15.270 --> 00:28:17.760\nAnd I can't talk to\nthe original role holder.\n\n555\n00:28:17.760 --> 00:28:21.512\nNow how do I get that role off that\nmachine that's not working right now?\n\n556\n00:28:21.512 --> 00:28:22.480\nAll right?\n\n557\n00:28:22.480 --> 00:28:24.360\nThat's what we call seizing a role.\n\n558\n00:28:24.360 --> 00:28:28.450\nWe have to do a process called seizing it,\nand it's pretty crazy complex so\n\n559\n00:28:28.450 --> 00:28:30.560\nlet me show you how it's done.\n\n560\n00:28:30.560 --> 00:28:32.540\nNo, I kid with you, all right?\n\n561\n00:28:32.540 --> 00:28:36.990\nWhat I'm gonna do here is I'm\ngoing to switch over to dc02.\n\n562\n00:28:36.990 --> 00:28:38.700\nAnd I'm gonna pretend we got a failure.\n\n563\n00:28:38.700 --> 00:28:40.010\nI'm just going to shut him down.\n\n564\n00:28:44.440 --> 00:28:48.950\nSo we'll kill that guy and\ngive it a second to finish shutting down.\n\n565\n00:28:48.950 --> 00:28:51.410\nAnd I'm gonna connect\nthis guy back to dc01.\n\n566\n00:28:55.202 --> 00:28:57.955\nSo my role holder has failed.\n\n567\n00:28:57.955 --> 00:28:59.690\ndc02 is out of the picture.\n\n568\n00:28:59.690 --> 00:29:00.730\nI want to move the role back to dc01.\n\n569\n00:29:00.730 --> 00:29:02.800\nHow do I do it?\n\n570\n00:29:02.800 --> 00:29:05.640\nI actually do it the exact same way.\n\n571\n00:29:05.640 --> 00:29:10.010\nI'm gonna right click up here on lab.net\nand I'm gonna choose Operation Master.\n\n572\n00:29:11.110 --> 00:29:14.080\nAnd right now it's gonna take it a second\ncuz it's trying to figure out who the role\n\n573\n00:29:14.080 --> 00:29:18.350\nholder is, and it can't find the one for\nthe RID master there.\n\n574\n00:29:18.350 --> 00:29:21.320\nSo it's trying and trying, so\nwe'll give it a second to come up.\n\n575\n00:29:21.320 --> 00:29:24.470\nSo seizing the role though is exactly\nthe same as transferring it as far as\n\n576\n00:29:24.470 --> 00:29:26.540\nthe procedure that you use.\n\n577\n00:29:26.540 --> 00:29:29.350\nWhat's not the same is what's\ngoing on in the background right?\n\n578\n00:29:29.350 --> 00:29:31.980\nBecause the current role\nholder can't be contacted.\n\n579\n00:29:31.980 --> 00:29:34.650\nI can't ensure that I've\ngot all the changes,\n\n580\n00:29:34.650 --> 00:29:38.645\nhe has changes that maybe the other domain\ncontrollers don't know about and when I\n\n581\n00:29:38.645 --> 00:29:44.290\nseize this role, I could potentially lose\nsome of that information, all right?\n\n582\n00:29:44.290 --> 00:29:45.860\nBut if the guy's down, the guy's down.\n\n583\n00:29:45.860 --> 00:29:48.680\nIf he's not gonna be able to be fixed,\nI've got to do something.\n\n584\n00:29:48.680 --> 00:29:50.250\nI gotta get that role over.\n\n585\n00:29:50.250 --> 00:29:52.570\nSo we have to seize it, all right?\n\n586\n00:29:52.570 --> 00:29:54.080\nAnd there we go.\nSo you can see error for\n\n587\n00:29:54.080 --> 00:29:56.960\nthe current RID master transfer to dc01.\n\n588\n00:29:56.960 --> 00:29:58.300\nI click Change.\n\n589\n00:29:58.300 --> 00:29:59.170\nAre you sure?\n\n590\n00:29:59.170 --> 00:30:00.200\nI say Yes.\n\n591\n00:30:00.200 --> 00:30:01.810\n>> Now your back up south.\n\n592\n00:30:01.810 --> 00:30:03.120\n>> Yeah, exactly.\n\n593\n00:30:03.120 --> 00:30:03.710\n>> It didn't work.\n\n594\n00:30:03.710 --> 00:30:06.010\nHold on.\nNah, let's see easy stuff though.\n\n595\n00:30:06.010 --> 00:30:07.490\n>> It is.\nIt's really not that bad.\n\n596\n00:30:07.490 --> 00:30:11.180\nNow one more thing I want to talk to you\nguys about is, should I seize it, right?\n\n597\n00:30:11.180 --> 00:30:14.380\nCuz you might think, oh my gosh it's down,\nlet me go seize that role.\n\n598\n00:30:14.380 --> 00:30:17.600\nWell, it really depends\non what the role is.\n\n599\n00:30:17.600 --> 00:30:20.580\nThe schema master for example,\nthere's one in my entire force,\n\n600\n00:30:20.580 --> 00:30:23.120\nit's the only place I can\nmake changes to the schema.\n\n601\n00:30:23.120 --> 00:30:25.910\nSo you might think well, gosh,\nI need to get that buy back up and\n\n602\n00:30:25.910 --> 00:30:27.610\nrunning as soon as possible.\n\n603\n00:30:27.610 --> 00:30:31.610\nSo if the main controller that\nthat is being held on fails,\n\n604\n00:30:31.610 --> 00:30:33.160\nI'm gonna go in and seize it.\n\n605\n00:30:33.160 --> 00:30:34.280\nNot so fast.\n\n606\n00:30:34.280 --> 00:30:36.870\nHow often do you really\nmake changes to the schema?\n\n607\n00:30:36.870 --> 00:30:41.420\nIf it takes me a week to get in that part\nfor that server to get him back up and\n\n608\n00:30:41.420 --> 00:30:42.910\nrunning, I'll probably just wait.\n\n609\n00:30:42.910 --> 00:30:46.530\nWhy bother seizing it, when I can\njust wait, get that guy back up and\n\n610\n00:30:46.530 --> 00:30:47.450\nrunning, right?\n\n611\n00:30:47.450 --> 00:30:52.000\nNow if I'm in the middle of an Active\nDirectory upgrade or something like that\n\n612\n00:30:52.000 --> 00:30:56.110\nand I need that schema to make\nchanges to it, okay, maybe I seize it.\n\n613\n00:30:56.110 --> 00:31:00.090\nBut, think about what the role is and\nwhether or not you need it right now or\n\n614\n00:31:00.090 --> 00:31:02.510\nyou can just wait,\nbecause it's always better.\n\n615\n00:31:02.510 --> 00:31:06.640\nAnd there it's telling me that\nit couldn't be contacted so\n\n616\n00:31:06.640 --> 00:31:11.169\nit should have seized and you know it\ndoesn't look like he actually did.\n\n617\n00:31:12.840 --> 00:31:15.108\nLet's see if it did transfer,\nwe might have to double check on that.\n\n618\n00:31:17.360 --> 00:31:19.490\nIt's gonna take it a minute.\n\n619\n00:31:19.490 --> 00:31:20.920\nSo think about what the role is and\n\n620\n00:31:20.920 --> 00:31:22.960\nwhether or\nnot you really need to seize it.\n\n621\n00:31:22.960 --> 00:31:26.230\nThe domain naming master, for\nexample, how often do you add or\n\n622\n00:31:26.230 --> 00:31:28.050\nremove a domain from your forest?\n\n623\n00:31:28.050 --> 00:31:31.706\nIf you're not planning on a restructure of\nActive Directory, you can probably just\n\n624\n00:31:31.706 --> 00:31:34.760\nwait and bring that guy back online\nwhen you get your parts in, right?\n\n625\n00:31:36.220 --> 00:31:37.670\nBecause here's the thing.\n\n626\n00:31:37.670 --> 00:31:42.280\nIf you seize that role, now you've\n\n627\n00:31:42.280 --> 00:31:46.040\ngotta wonder what to do with the machine\nthat was the previous role holder.\n\n628\n00:31:46.040 --> 00:31:48.630\nCan you bring him back online?\n\n629\n00:31:48.630 --> 00:31:51.600\nAnd for the most part,\nthe answer is no, all right?\n\n630\n00:31:51.600 --> 00:31:52.550\nBecause let's say I do.\n\n631\n00:31:52.550 --> 00:31:55.010\nLet's say my schema master failed, so\n\n632\n00:31:55.010 --> 00:31:57.880\nI seized that role to\nanother domain controller.\n\n633\n00:31:57.880 --> 00:32:01.560\nNow I fixed my original role holder and\nI bring him back online.\n\n634\n00:32:01.560 --> 00:32:02.550\nGuess what?\n\n635\n00:32:02.550 --> 00:32:05.340\nHe still thinks he's the schema master.\n\n636\n00:32:05.340 --> 00:32:07.040\nNow I've got two schema masters and\n\n637\n00:32:07.040 --> 00:32:10.140\nI've got a chance I could get\ncorrupt data in Active Directory.\n\n638\n00:32:10.140 --> 00:32:15.660\nSo if I seize that role, that original\nschema master, I gotta format him.\n\n639\n00:32:15.660 --> 00:32:19.490\nI've gotta at least remove Active\nDirectory, uninstall Active Directory so\n\n640\n00:32:19.490 --> 00:32:21.970\nthat he has no recollection\nthat he was ever a role holder.\n\n641\n00:32:21.970 --> 00:32:26.320\nThat way when I bring him back online,\nhe doesn't try assume that role again and\n\n642\n00:32:26.320 --> 00:32:28.980\nstart performing those processes.\n\n643\n00:32:28.980 --> 00:32:29.640\nAll right?\n\n644\n00:32:29.640 --> 00:32:33.050\nThe PDC emulator and\nthe infrastructure master,\n\n645\n00:32:33.050 --> 00:32:36.970\nMicrosoft will tell you it is okay\nto bring the original back online.\n\n646\n00:32:36.970 --> 00:32:39.882\nIt can cause a little bit of delay.\n\n647\n00:32:39.882 --> 00:32:43.160\nThe infrastructure master is gonna have to\ncycle through a whole bunch of references,\n\n648\n00:32:43.160 --> 00:32:46.290\nso it might cause a performance\nhit on that domain controller.\n\n649\n00:32:46.290 --> 00:32:49.040\nBut you can safely bring\nit back online and\n\n650\n00:32:49.040 --> 00:32:51.700\nthen get rid of the one\nyou transferred it to.\n\n651\n00:32:52.890 --> 00:32:54.750\nAnd same thing with the PDC emulator.\n\n652\n00:32:54.750 --> 00:32:58.440\nBut the other three, the schema master,\nthe domain naming master, and\n\n653\n00:32:58.440 --> 00:33:03.540\nthe RID master, if you seize the role you\ncannot bring them back online, all right?\n\n654\n00:33:03.540 --> 00:33:06.050\nYou're gonna have to,\nbefore you bring them,\n\n655\n00:33:06.050 --> 00:33:09.630\nyou can power them up just don't connect\nthem to the network and then demote them,\n\n656\n00:33:09.630 --> 00:33:14.050\nremove Active Directory so that they're\nno longer a role holder, all right?\n\n657\n00:33:15.200 --> 00:33:17.920\nAnd that my friends is\n\n658\n00:33:17.920 --> 00:33:22.720\na flexible single master of operations\nthat is a lot of info in 30 minutes.\n\n659\n00:33:22.720 --> 00:33:26.230\n>> Yeah, definitely a lot of stuff in\nthere but as you can probably tell\n\n660\n00:33:26.230 --> 00:33:29.010\nsome important things that Mike\nis trying to convey to us.\n\n661\n00:33:29.010 --> 00:33:32.040\nAnd forget the fact that you're\nprobably studying for an exam.\n\n662\n00:33:32.040 --> 00:33:35.400\nIf you want to work in a Microsoft\nenvironment you want to be\n\n663\n00:33:35.400 --> 00:33:38.520\nan administrator of a Microsoft Server,\n\n664\n00:33:38.520 --> 00:33:42.600\nspecifically 2012 R2, that's what\nwe're trying to teach you guys here.\n\n665\n00:33:42.600 --> 00:33:43.620\nThis is something you gotta know.\n\n666\n00:33:43.620 --> 00:33:48.250\nThis is very important details and it\nhelps you understand how you are going to\n\n667\n00:33:48.250 --> 00:33:51.980\ndeploy server strategically\nin your environment.\n\n668\n00:33:51.980 --> 00:33:53.890\nThat's why it's such an important thing.\n\n669\n00:33:53.890 --> 00:33:59.450\nThese concepts are very, very good for us\nto acclimate and assimilate into our minds\n\n670\n00:33:59.450 --> 00:34:03.390\nand the way we think when it comes to our\nMicrosoft Active Directory environments.\n\n671\n00:34:03.390 --> 00:34:05.360\nSo hopefully you guys understand\nwhat Mike's talking about.\n\n672\n00:34:05.360 --> 00:34:09.750\nIf not, not a big deal,\njust rewind the tape and watch it again.\n\n673\n00:34:09.750 --> 00:34:13.000\nAnd try to pick up where\nyou're missing something, and\n\n674\n00:34:13.000 --> 00:34:14.260\nhopefully that'll help you out.\n\n675\n00:34:14.260 --> 00:34:16.400\nAll right, so we're gonna go ahead and\nwrap up this episode.\n\n676\n00:34:16.400 --> 00:34:17.990\nI've been your host, Daniel Lowry.\n\n677\n00:34:17.990 --> 00:34:18.750\n>> And I'm Mike Rodrick.\n\n678\n00:34:18.750 --> 00:34:20.620\n>> And we'll see you next time.\n\n679\n00:34:20.620 --> 00:34:25.949\n[MUSIC]\n\n",
          "vimeoId": "138871725"
        },
        {
          "description": "In this episode, Mike and Daniel show you how to install and configure a Read-Only Domain Controller(RDOC) in a Microsoft Active Directory Domain. RDOCs help address come of the challenges that an enterprise infrastructure can encounter at the branch office and/or perimeter networks that might not be as physically secure as a main datacenter.",
          "length": "2008",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-16-2-read_only_domain_controllers-090415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-16-2-read_only_domain_controllers-090415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-16-2-read_only_domain_controllers-090415-1-sm.jpg",
          "title": "Read Only Domain Controllers",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.518\n[MUSIC]\n\n2\n00:00:10.518 --> 00:00:11.511\nAll right.\n\n3\n00:00:11.511 --> 00:00:12.281\nGreetings, everyone.\n\n4\n00:00:12.281 --> 00:00:15.260\nAnd welcome to another\ngreat episode of ITProTV.\n\n5\n00:00:15.260 --> 00:00:18.560\nI'm your host Daniel Lowry,\nhere with me today, Mr. Mike Rodrick.\n\n6\n00:00:18.560 --> 00:00:19.710\nHow's it going today, Mikey?\n\n7\n00:00:19.710 --> 00:00:20.750\n>> It's going great, Daniel.\n\n8\n00:00:20.750 --> 00:00:23.860\nI'm excited because I've got\nmore of our 74-11 content.\n\n9\n00:00:23.860 --> 00:00:26.810\nAnd in this one we're gonna be\ntalking about something called\n\n10\n00:00:26.810 --> 00:00:32.540\na Read Only Domain Controller,\nor an RODC for short.\n\n11\n00:00:32.540 --> 00:00:34.880\nAll right, so\nRead Only Domain Controllers.\n\n12\n00:00:34.880 --> 00:00:36.550\nWith an RODC, or\nRead Only Domain Controller,\n\n13\n00:00:36.550 --> 00:00:39.030\nI guess the first thing we have\nto understand is Is what is it?\n\n14\n00:00:39.030 --> 00:00:42.220\nWell it's pretty straight forward\nit's a read only copy of the active\n\n15\n00:00:42.220 --> 00:00:42.930\ndirectory database.\n\n16\n00:00:42.930 --> 00:00:46.950\nSo it's a domain controller, it's got a\ncopy of the active directory database just\n\n17\n00:00:46.950 --> 00:00:51.870\nlike all domain controllers do, it's got\na copy of sysfull where my group policies\n\n18\n00:00:51.870 --> 00:00:56.060\nare stored, all of that stuff,\neverything is the same except for\n\n19\n00:00:56.060 --> 00:01:00.780\nthe fact that the database\nitself is set to be read only.\n\n20\n00:01:00.780 --> 00:01:03.910\nand so then, the question becomes,\nwhy do I want one?\n\n21\n00:01:03.910 --> 00:01:05.070\nWhat good would it do me?\n\n22\n00:01:05.070 --> 00:01:07.260\nWhere the heck am I gonna use this?\n\n23\n00:01:07.260 --> 00:01:09.790\nAnd I've got a drawing here,\ngive me a second here,\n\n24\n00:01:09.790 --> 00:01:15.170\nI'll try to pull that up, and there we go.\n\n25\n00:01:15.170 --> 00:01:18.410\nNow, we talked about\nRead Only Domain Controllers and\n\n26\n00:01:18.410 --> 00:01:20.530\nwhere we might want to use them.\n\n27\n00:01:20.530 --> 00:01:24.640\nTypically we're talking about places where\nI want to put a domain controller but\n\n28\n00:01:24.640 --> 00:01:26.050\nI've got reservations.\n\n29\n00:01:26.050 --> 00:01:29.790\nUsually because of physical\nsecurity is one big one.\n\n30\n00:01:29.790 --> 00:01:34.820\nLike, I've got a branch office and I want\nto put a domain controller out there, but\n\n31\n00:01:34.820 --> 00:01:36.020\nI don't have a server closet, right?\n\n32\n00:01:36.020 --> 00:01:38.690\nIt's a small branch office,\nthere's four or five users.\n\n33\n00:01:38.690 --> 00:01:41.890\nThe only file server we have out there\nsits under Bob's desk, you know?\n\n34\n00:01:41.890 --> 00:01:45.380\nThere's not an extra layer of\nsecurity like we would want.\n\n35\n00:01:45.380 --> 00:01:46.930\nWhere back at our corporate office,\n\n36\n00:01:46.930 --> 00:01:49.870\nwe've got our server closet that\nnot many people can get into.\n\n37\n00:01:49.870 --> 00:01:51.170\nGot that good physical security,\n\n38\n00:01:51.170 --> 00:01:54.730\nbecause remember physical security\nis a huge part of security.\n\n39\n00:01:54.730 --> 00:01:58.810\nIf I can touch your computer,\nit's no longer your computer, right?\n\n40\n00:01:58.810 --> 00:02:00.760\nSo that'd be one reason.\n\n41\n00:02:00.760 --> 00:02:04.700\nThe other one is just to help eliminate\nsome of the traffic that might be going\n\n42\n00:02:04.700 --> 00:02:12.460\nacross the WAN, as well as facilitating\nlog ons out there at that branch office.\n\n43\n00:02:12.460 --> 00:02:15.590\nFor example, here I've got\na drawing of a typical layout.\n\n44\n00:02:15.590 --> 00:02:19.620\nI've got my corporate office, I've got my\nall my domain controllers back here and\n\n45\n00:02:19.620 --> 00:02:22.280\nhere's my branch office with a few users.\n\n46\n00:02:22.280 --> 00:02:24.180\nThere is no domain controller out here.\n\n47\n00:02:24.180 --> 00:02:28.580\nSo when they go to log on, they're logon\ntraffic has to go across that WAN link,\n\n48\n00:02:28.580 --> 00:02:33.110\nback to the domain controller, he's gonna\nverify their information, send it back.\n\n49\n00:02:33.110 --> 00:02:36.140\nRemember the retrieving lists\nof group policies do apply.\n\n50\n00:02:36.140 --> 00:02:38.800\nThere's a lot of traffic going\non during that log on process.\n\n51\n00:02:38.800 --> 00:02:43.900\nIf this is slow, that means the log on\nprocess is going to be slow as well.\n\n52\n00:02:43.900 --> 00:02:47.940\nIf it's unreliable that means there might\nbe times when they can't even log on.\n\n53\n00:02:47.940 --> 00:02:49.360\nRight, the WAN link is down.\n\n54\n00:02:49.360 --> 00:02:50.070\nI can't log on.\n\n55\n00:02:50.070 --> 00:02:52.440\nI've gotta wait for\nthat thing to come back up, so\n\n56\n00:02:52.440 --> 00:02:56.780\nI love to dump a domain controller out\nthere that way they could log on with\n\n57\n00:02:56.780 --> 00:02:58.980\nthe domain controller right\nthere at the branch office.\n\n58\n00:02:58.980 --> 00:03:02.110\nNot have to go acrossed the WAN link, but\n\n59\n00:03:02.110 --> 00:03:04.410\nI don't have that physical\nsecurity out here.\n\n60\n00:03:04.410 --> 00:03:07.200\nNot to mention I don't have anybody\nout there to administer that\n\n61\n00:03:07.200 --> 00:03:08.040\ndomain controller.\n\n62\n00:03:08.040 --> 00:03:09.640\nAnd who's gonna take care of it?\n\n63\n00:03:09.640 --> 00:03:12.250\nThe four or five users out there,\nthey're not domain admins.\n\n64\n00:03:12.250 --> 00:03:16.050\nThey can't log on to a domain controller\nand I'm not gonna make Bob or\n\n65\n00:03:16.050 --> 00:03:19.260\nSue domain admin just because they\nhappened to work at that office.\n\n66\n00:03:19.260 --> 00:03:20.820\nThey've got no training or\nanything like that.\n\n67\n00:03:20.820 --> 00:03:24.060\nAnd so, I don't have anybody\nout there to administrate.\n\n68\n00:03:24.060 --> 00:03:27.690\nThat's were these read-only domain\ncontrollers are gonna come in to play.\n\n69\n00:03:27.690 --> 00:03:31.090\nWhat we can do is we can dump\na Read Only Domain Controller out here and\n\n70\n00:03:31.090 --> 00:03:37.250\nI don't have to worry as much about the\nphysical security because it's read only.\n\n71\n00:03:37.250 --> 00:03:40.140\nNobody can make any changes\non this domain controller and\n\n72\n00:03:40.140 --> 00:03:43.200\nhave them replicate back over\nto the corporate office.\n\n73\n00:03:43.200 --> 00:03:49.030\nAlso, if they steal it,\nthey're not gonna get that much.\n\n74\n00:03:49.030 --> 00:03:49.550\nAnd here's why.\n\n75\n00:03:49.550 --> 00:03:52.940\nHere's a big difference between normal\ndomain controllers and read only.\n\n76\n00:03:52.940 --> 00:03:56.280\nRead Only Domain Controllers\ndon't contain any secrets.\n\n77\n00:03:56.280 --> 00:03:57.080\nIn other words,\n\n78\n00:03:57.080 --> 00:04:01.630\nthey don't have any passwords stored\non them when we first set them up.\n\n79\n00:04:01.630 --> 00:04:03.730\nSo if somebody stole that\ndomain controller, or\n\n80\n00:04:03.730 --> 00:04:07.370\ngained access to the domain controller,\nthey can't get in there and\n\n81\n00:04:07.370 --> 00:04:10.870\ntry to get my domain admin's passwords or\nanything like that.\n\n82\n00:04:10.870 --> 00:04:12.900\nThere's no passwords stored on there.\n\n83\n00:04:13.950 --> 00:04:18.590\nSo you might think to yourself, Mike,\nif there's no passwords on there,\n\n84\n00:04:18.590 --> 00:04:20.742\nhow is that going to help with\nthe log on process, right?\n\n85\n00:04:20.742 --> 00:04:24.970\n[LAUGH] And\nthat's because it will cache passwords.\n\n86\n00:04:24.970 --> 00:04:27.560\nBut only the ones that we choose.\n\n87\n00:04:27.560 --> 00:04:32.270\nI will only have a few,\nwhoever works out of the branch office.\n\n88\n00:04:32.270 --> 00:04:35.510\nI'll let their passwords be cached\non this Read Only Domain Controller.\n\n89\n00:04:35.510 --> 00:04:39.180\nThat way when they log on, it doesn't\nhave to go across that WAN link.\n\n90\n00:04:39.180 --> 00:04:41.870\nBut my domain admin passwords,\nall my administrative accounts,\n\n91\n00:04:41.870 --> 00:04:44.410\nall my other accounts,\nthose aren't stored out there.\n\n92\n00:04:44.410 --> 00:04:47.590\nSo worst case scenario,\nthey get a hold of that domain controller,\n\n93\n00:04:47.590 --> 00:04:51.820\nthey're gonna get some standard user\npasswords out of it, which is bad enough.\n\n94\n00:04:51.820 --> 00:04:54.160\nThat's not a good thing, but\n\n95\n00:04:54.160 --> 00:04:57.060\nat least they're not getting\nmy domain admin passwords.\n\n96\n00:04:57.060 --> 00:05:00.770\nSo that's the idea behind\na Read Only Domain Controller.\n\n97\n00:05:00.770 --> 00:05:03.560\n>> So it's kinda\na juice-is-worth-the-squeeze kind of deal.\n\n98\n00:05:03.560 --> 00:05:06.930\nYou're giving up a little\nbit of security and not so\n\n99\n00:05:06.930 --> 00:05:10.580\nmuch that you would lose the keys\nto the kingdom, as it were.\n\n100\n00:05:10.580 --> 00:05:12.860\nOr at least, you most likely would not.\n\n101\n00:05:12.860 --> 00:05:14.390\nJust a couple of users.\n\n102\n00:05:14.390 --> 00:05:17.050\nA very small security footprint.\n\n103\n00:05:17.050 --> 00:05:19.820\nBut you get a lot of\nbenefit going through.\n\n104\n00:05:19.820 --> 00:05:25.030\nSo, there is, the benefit is,\noverwhelms the small reduce in security.\n\n105\n00:05:25.030 --> 00:05:26.620\n>> Exactly right, Daniel.\n\n106\n00:05:26.620 --> 00:05:27.940\nSo, and what I've got drawn on here.\n\n107\n00:05:27.940 --> 00:05:31.230\nYou might see some arrows still\ngoing across the WAN link, there.\n\n108\n00:05:31.230 --> 00:05:32.110\nAnd that's because remember,\n\n109\n00:05:32.110 --> 00:05:36.460\nthis guy doesn't know anybody's passwords\nby default when we first set him up.\n\n110\n00:05:36.460 --> 00:05:40.280\nSo when this user logs on for the first\ntime they're gonna connect to this domain\n\n111\n00:05:40.280 --> 00:05:43.600\ncontroller and it's gonna say well\nI don't know what your password is.\n\n112\n00:05:43.600 --> 00:05:46.590\nAnd it is gonna have to reach out and\ntalk to this domain controller back at\n\n113\n00:05:46.590 --> 00:05:50.420\nthe corporate office or writable copy,\nsomebody that knows the password.\n\n114\n00:05:50.420 --> 00:05:53.089\nAnd he can verify that password, and\nthen the Read Only Domain Controller and\n\n115\n00:05:53.089 --> 00:05:55.070\nthe main controller can\nallow you to log on.\n\n116\n00:05:55.070 --> 00:05:59.790\nBut it will cache, if we choose to allow\nthis, it can then cache that password.\n\n117\n00:05:59.790 --> 00:06:03.270\nAnd now the next time you log on, you\ndon't have to go across the LAN length.\n\n118\n00:06:03.270 --> 00:06:07.270\nThose green arrows represent\nthe subsequent log on traffic.\n\n119\n00:06:07.270 --> 00:06:09.740\nIt's all gonna stay local right here.\n\n120\n00:06:09.740 --> 00:06:12.790\nIt doesn't have to go\nacross that WAN link.\n\n121\n00:06:12.790 --> 00:06:15.580\nAll right, so let's talk about\ngetting one of these set up, and\n\n122\n00:06:15.580 --> 00:06:18.600\nthen once we get it set up I\ncan show you what I mean about\n\n123\n00:06:18.600 --> 00:06:21.290\nthe caching of the passwords, because\nthere are some cool things that we can do.\n\n124\n00:06:21.290 --> 00:06:25.440\nYou know, we can choose one, who's\npasswords are allowed to be cached out\n\n125\n00:06:25.440 --> 00:06:28.300\nthere, just the people that\nwork at that office typically.\n\n126\n00:06:28.300 --> 00:06:32.110\nI can also specify whose will\nnever be cached out there.\n\n127\n00:06:32.110 --> 00:06:34.260\nBecause there are gonna be times,\nmaybe a domain admin or\n\n128\n00:06:34.260 --> 00:06:35.730\nsomeone with an administrative account,\n\n129\n00:06:35.730 --> 00:06:40.130\ngoes out to that branch office and\nneeds to log on to a terminal out there.\n\n130\n00:06:40.130 --> 00:06:41.510\nWell, he can still authenticate.\n\n131\n00:06:41.510 --> 00:06:44.670\nJust because your password's not\nstored here, just like these blue\n\n132\n00:06:44.670 --> 00:06:48.600\narrows indicate, I can log on, and it can\nreach out and talk to that writeable copy.\n\n133\n00:06:48.600 --> 00:06:51.940\nAnd allow me to authenticate,\nand just not store my password.\n\n134\n00:06:51.940 --> 00:06:55.170\nSo if I log off and log back on again,\nit has to go through that process again.\n\n135\n00:06:55.170 --> 00:06:56.290\nBut that's okay.\n\n136\n00:06:56.290 --> 00:07:00.720\nI'd rather that than have that domain\nadmin password cached out there.\n\n137\n00:07:00.720 --> 00:07:05.730\nWe can also do some pre-populating of the\npasswords, which is a really cool idea.\n\n138\n00:07:05.730 --> 00:07:08.720\nBecause what if the very first\ntime a user walks into the office,\n\n139\n00:07:08.720 --> 00:07:09.930\nthe WAN link's down?\n\n140\n00:07:09.930 --> 00:07:13.800\nTheir password hasn't been cached yet\nso they need to go across the WAN to\n\n141\n00:07:13.800 --> 00:07:17.910\nauthenticate, but the WAN link is down,\nthey won't be able to.\n\n142\n00:07:17.910 --> 00:07:22.120\nI can actually push the passwords\nout to that RODC ahead of time, and\n\n143\n00:07:22.120 --> 00:07:26.530\nthat way when that user goes to log on\neven though they haven't logged on before,\n\n144\n00:07:26.530 --> 00:07:28.380\nIt already knows what their password is.\n\n145\n00:07:28.380 --> 00:07:33.040\nI like doing that with my help\ndesk team or my tier one support.\n\n146\n00:07:33.040 --> 00:07:35.640\nI might have somebody at the corporate\noffice that doesn't work out there at\n\n147\n00:07:35.640 --> 00:07:39.605\nthe branch office, but they've gotta drive\nout there now and again to fix problems.\n\n148\n00:07:39.605 --> 00:07:42.475\nAnd I'll go ahead and prepopulate\ntheir password out there cuz one of\n\n149\n00:07:42.475 --> 00:07:45.115\nthe problems they might be out\nthere to fix is the land link.\n\n150\n00:07:45.115 --> 00:07:46.865\nAnd if they've never logged on out there,\n\n151\n00:07:46.865 --> 00:07:49.765\nthey're not gonna be able to\nlog on because the LAN is down.\n\n152\n00:07:49.765 --> 00:07:53.685\nAnd they can't log on to fix the LAN\nbecause, you see what I'm saying?\n\n153\n00:07:53.685 --> 00:07:55.815\nSo we can prepopulate those,\nwhich is a really cool idea.\n\n154\n00:07:55.815 --> 00:07:57.868\n>> The logon paradox, as it were.\n\n155\n00:07:57.868 --> 00:07:59.969\nIf you've never logged in,\nyou can never log in.\n\n156\n00:07:59.969 --> 00:08:02.825\nThis is a great way to\neliminate that problem.\n\n157\n00:08:02.825 --> 00:08:06.332\nTherefore letting Mike's\ntech go out there.\n\n158\n00:08:06.332 --> 00:08:09.730\nLogin, fix the problem get\neverything back up and running.\n\n159\n00:08:09.730 --> 00:08:11.130\nThis is good stuff.\n\n160\n00:08:11.130 --> 00:08:11.830\n>> Absolutely.\n\n161\n00:08:11.830 --> 00:08:14.870\nOh, you know there is another benefit\nI forgot to tell you guys about,\n\n162\n00:08:14.870 --> 00:08:19.600\nis normally domain controllers,\nonly certain people can log on physically,\n\n163\n00:08:19.600 --> 00:08:21.350\ninteractively log on\nthe domain controllers.\n\n164\n00:08:21.350 --> 00:08:25.340\nDomain admin, server operators,\nI had a couple others, back up operators,\n\n165\n00:08:25.340 --> 00:08:29.050\nif you do it on that particular server,\ncan log into that domain controller.\n\n166\n00:08:29.050 --> 00:08:31.160\nWell, if I put that RODC out there,\nremember,\n\n167\n00:08:31.160 --> 00:08:33.740\nyou lose local groups on\ndomain controllers, right?\n\n168\n00:08:33.740 --> 00:08:35.870\nYou lose access to the local SAM file.\n\n169\n00:08:35.870 --> 00:08:40.080\nYou can only log on with domain accounts\nand then only certain domain accounts.\n\n170\n00:08:40.080 --> 00:08:41.980\nA read-only domain controller's\na little bit different.\n\n171\n00:08:41.980 --> 00:08:46.950\nWe gain access back to that local\nadmin's group, we can delegate somebody\n\n172\n00:08:46.950 --> 00:08:53.600\nthe ability to log on and administer that\nserver without making them a domain admin.\n\n173\n00:08:53.600 --> 00:08:57.140\nIt's a special group that\ngets created on the RODC, and\n\n174\n00:08:57.140 --> 00:09:00.420\nI can put one of those users that\nworks out there in that group.\n\n175\n00:09:00.420 --> 00:09:03.460\nThat way, if there's an update that\nhas to happen, they can go in and\n\n176\n00:09:03.460 --> 00:09:04.920\nreboot that server.\n\n177\n00:09:04.920 --> 00:09:07.720\nMost likely, if it's a branch office and\nit's that small,\n\n178\n00:09:07.720 --> 00:09:11.240\nthat machine's doing more than\njust the domain controller roles.\n\n179\n00:09:11.240 --> 00:09:12.930\nIt's probably their file server.\n\n180\n00:09:12.930 --> 00:09:14.260\nIt's probably their print server.\n\n181\n00:09:14.260 --> 00:09:15.660\nIt's probably doing everything.\n\n182\n00:09:15.660 --> 00:09:19.440\nI need somebody to log on there and\nbe able to fix certain things like that.\n\n183\n00:09:19.440 --> 00:09:23.870\nSo I can delegate somebody administrative\nrights over that RODC without\n\n184\n00:09:23.870 --> 00:09:27.330\nmaking them a domain admin and\ngiving them way more permissions and\n\n185\n00:09:27.330 --> 00:09:29.150\nrights then they would ever need.\n\n186\n00:09:29.150 --> 00:09:32.340\nRight, so bunch of cool things\nwe can do with these RODCs, and\n\n187\n00:09:32.340 --> 00:09:34.030\nsetting them up is pretty straightforward.\n\n188\n00:09:34.030 --> 00:09:35.235\nThe first thing we're gonna do,\n\n189\n00:09:35.235 --> 00:09:41.010\nthe machine that you on making an RODC\ncannot be a member of the domain.\n\n190\n00:09:41.010 --> 00:09:43.110\nSo you're gonna need to\nun-join it from the domain.\n\n191\n00:09:43.110 --> 00:09:46.340\nIf it already had an account,\nyou're gonna need to remove that account.\n\n192\n00:09:46.340 --> 00:09:48.640\nBecause we're going to\ncreate a special account for\n\n193\n00:09:48.640 --> 00:09:50.525\nthis machine in Active Directory.\n\n194\n00:09:50.525 --> 00:09:54.020\nSo I'll end up with a duplicate name or,\nname already exists.\n\n195\n00:09:54.020 --> 00:09:57.700\nSo either the machine is removed from\nthe domain and you delete the account or\n\n196\n00:09:57.700 --> 00:09:59.462\nit's never been part of the domain yet.\n\n197\n00:09:59.462 --> 00:10:03.090\nAll right, and then what I'm going to do,\n\n198\n00:10:03.090 --> 00:10:07.259\nis I'm going to go into\nActive Directory users and computers.\n\n199\n00:10:09.659 --> 00:10:12.588\nAnd I'm gonna go down to\nmy domain controllers OU.\n\n200\n00:10:12.588 --> 00:10:14.469\nI'm gonna right click on here.\n\n201\n00:10:14.469 --> 00:10:18.620\nAnd I'm gonna choose Pre-create Read\nOnly Domain Controller Account.\n\n202\n00:10:18.620 --> 00:10:22.440\nIt's gonna launch my wizard that's\nbasically the same as my normal\n\n203\n00:10:22.440 --> 00:10:25.150\nActive Directory installation wizard.\n\n204\n00:10:25.150 --> 00:10:26.230\nI can click Next.\n\n205\n00:10:27.400 --> 00:10:32.260\nAnd here, specify the account credentials\nto be used to perform the installation.\n\n206\n00:10:32.260 --> 00:10:36.185\nAnd here we're talking about the name of\nthe forest, that's already got lab.net,\n\n207\n00:10:36.185 --> 00:10:39.880\nbecause I've right-clicked on my\ndomain controller's OU within lab.net.\n\n208\n00:10:39.880 --> 00:10:44.830\nAnd I'm just gonna use my currently\nlogged on credentials, I'll go ahead and\n\n209\n00:10:44.830 --> 00:10:45.469\nclick Next.\n\n210\n00:10:50.875 --> 00:10:54.315\nAnd now it's got to\nexamine Active Directory,\n\n211\n00:10:54.315 --> 00:10:59.820\ncheck with the domain naming master,\nsee what the list of current names is.\n\n212\n00:11:01.440 --> 00:11:02.690\nSee what my set up is.\n\n213\n00:11:02.690 --> 00:11:05.930\n>> A lot of back alley stuff going on\nwhile the little green bar swims by.\n\n214\n00:11:05.930 --> 00:11:08.770\n>> Yeah,\nanother thing it's checking too is,\n\n215\n00:11:11.480 --> 00:11:16.470\nthere's actually an Active Directory,\nAD Prep/RODCprep.\n\n216\n00:11:16.470 --> 00:11:21.140\nIn prior versions of Active Directory,\n2008, things like that, when you\n\n217\n00:11:21.140 --> 00:11:24.320\nmigrated to a new version of Active\nDirectory you had to run those AD Preps.\n\n218\n00:11:24.320 --> 00:11:30.070\n2012 does that automatically now when you\ncreate your first 2012 domain controller.\n\n219\n00:11:30.070 --> 00:11:35.320\nSo it's already been done, but\nthere is adprep/rodc which\n\n220\n00:11:35.320 --> 00:11:39.480\ngenerates the objects in schema necessary\nto create a read only domain controller.\n\n221\n00:11:42.310 --> 00:11:45.901\nSo the name of my guy is RODC01.\n\n222\n00:11:45.901 --> 00:11:48.181\nI need to know the name of the server,\nright,\n\n223\n00:11:48.181 --> 00:11:50.821\nthat's gonna have to match\nwhen I go join this guy and\n\n224\n00:11:50.821 --> 00:11:53.960\nmake him a domain controller that\nname is gonna have to match.\n\n225\n00:11:54.980 --> 00:11:56.180\nAnd I'll click Next.\n\n226\n00:11:58.660 --> 00:12:01.260\nWe'll verify that that name doesn't exist.\n\n227\n00:12:01.260 --> 00:12:04.233\nIf I had different sites,\nI could pick the appropriate site for\n\n228\n00:12:04.233 --> 00:12:07.331\nthat branch office or\nwherever I plan on implementing this RODC.\n\n229\n00:12:11.393 --> 00:12:14.362\nGoing to check out DNS and this is really\njust like the normal Active Directory\n\n230\n00:12:14.362 --> 00:12:16.920\ninstallation, right,\nchecking my DNS infrastructure.\n\n231\n00:12:16.920 --> 00:12:17.857\nMaking sure it's there.\n\n232\n00:12:17.857 --> 00:12:22.000\nIt's gonna ask me if I wanna install\nDNS or Global Catalog Service.\n\n233\n00:12:22.000 --> 00:12:25.120\nAnd Microsoft definitely\nrecommends that we do put DNS and\n\n234\n00:12:25.120 --> 00:12:28.720\nthe Global Catalog Service on that\nRODC out there at the branch office,\n\n235\n00:12:28.720 --> 00:12:31.590\nbecause remember,\nwhen you go to login, everybody always\n\n236\n00:12:31.590 --> 00:12:35.030\nassumes that you gotta talk to a domain\ncontroller, which you do, to login.\n\n237\n00:12:35.030 --> 00:12:36.480\nBut they think that's all you need.\n\n238\n00:12:36.480 --> 00:12:39.060\nYou also need to talk to\na global catalog server to\n\n239\n00:12:39.060 --> 00:12:43.090\nfill out your universal group\nmembership on your access token.\n\n240\n00:12:43.090 --> 00:12:45.930\nSo if the domain controller out there,\nthat read only domain controller is not\n\n241\n00:12:45.930 --> 00:12:49.220\na global catalog server,\nhe might be able to verify your password.\n\n242\n00:12:49.220 --> 00:12:52.540\nBut it still has to reach across and\ntalk to a global catalog server.\n\n243\n00:12:52.540 --> 00:12:55.386\nWhich defeats the purpose, right,\nof why we're doing this, so\n\n244\n00:12:55.386 --> 00:12:57.623\ndefinitely the recommendation\nto make it global.\n\n245\n00:12:57.623 --> 00:13:02.074\nIn DNS, if you set up an Active Directory\nintegrated DNS zone on this\n\n246\n00:13:02.074 --> 00:13:07.390\nread-only domain controller,\nthat DNS zone will be read-only as well.\n\n247\n00:13:07.390 --> 00:13:12.811\nIt can still do any lookups that you need,\nbut you can't create any new records.\n\n248\n00:13:12.811 --> 00:13:16.396\nNotice read-only is checked and\nI can't uncheck that because that's what I\n\n249\n00:13:16.396 --> 00:13:20.280\nright-clicked and said I wanted to do,\nwas make a read-only domain controller.\n\n250\n00:13:20.280 --> 00:13:22.000\nAll right, so\nwe'll go ahead and click Next.\n\n251\n00:13:23.180 --> 00:13:28.020\nHere I'm delegating who will\nbe the admin on that RODC.\n\n252\n00:13:28.020 --> 00:13:30.620\nWe know Microsoft and our best practices.\n\n253\n00:13:30.620 --> 00:13:33.930\nNever delegate to a user,\nalways delegate to a group.\n\n254\n00:13:33.930 --> 00:13:37.650\nThat way, anytime I want I can change\nwho has the administrative rights\n\n255\n00:13:37.650 --> 00:13:40.508\njust by adding or\nremoving somebody from that group.\n\n256\n00:13:40.508 --> 00:13:41.950\nSo I'm gonna click Set, and\n\n257\n00:13:41.950 --> 00:13:46.060\nI've got a group called RODC\nadmins that I created earlier.\n\n258\n00:13:46.060 --> 00:13:47.680\nAnd there we go.\n\n259\n00:13:47.680 --> 00:13:52.950\nI'll click Next, and Next, and finish.\n\n260\n00:13:52.950 --> 00:13:56.520\nAnd now, if I look in my domain\ncontroller's OU, I'll see that I have,\n\n261\n00:13:56.520 --> 00:13:59.360\nand that's just doubled everything\nup because it's a little glitch with\n\n262\n00:13:59.360 --> 00:14:00.350\nActive Directory.\n\n263\n00:14:00.350 --> 00:14:02.890\nRefresh it, and there we go, my RODC01.\n\n264\n00:14:02.890 --> 00:14:06.750\nNotice a little downward pointing arrow,\nand if I look at the DC type,\n\n265\n00:14:06.750 --> 00:14:11.580\nunoccupied DC account\nread only global catalog.\n\n266\n00:14:11.580 --> 00:14:12.560\nSo that part is ready to go.\n\n267\n00:14:12.560 --> 00:14:17.870\nOn this side, as far as the active\ndirectory side goes, we're good to go.\n\n268\n00:14:17.870 --> 00:14:22.680\nThe next step is going to be on the RODC.\n\n269\n00:14:22.680 --> 00:14:29.090\nSo notice I've got him in a work group\nhere and I'm going to add my role.\n\n270\n00:14:33.318 --> 00:14:36.753\nSo just like I would normally on\na domain controller, I'm just gonna\n\n271\n00:14:36.753 --> 00:14:41.020\ngo through here, and I'm gonna choose\nActive Directory Domain Services.\n\n272\n00:14:41.020 --> 00:14:45.320\nI've already made sure my TCPIP settings\nare correct, I've got connectivity\n\n273\n00:14:45.320 --> 00:14:49.560\nto domain controller that exists already,\nDNS is set to where I can resolve\n\n274\n00:14:49.560 --> 00:14:53.640\nthe name of that domain controller I'll\npick my ad features, I'll click Next.\n\n275\n00:14:56.400 --> 00:14:59.220\nAnd Next, and Next, and Install.\n\n276\n00:15:01.110 --> 00:15:01.820\nAnd we'll go ahead and\n\n277\n00:15:01.820 --> 00:15:04.880\ninstall Active Directory and\nthis is gonna take it a minute.\n\n278\n00:15:04.880 --> 00:15:08.870\nSo while we're doing that,\nlet's see if I can show you.\n\n279\n00:15:08.870 --> 00:15:10.970\nI'm going back over here.\n\n280\n00:15:10.970 --> 00:15:12.890\nLet's see if I can find that guy.\n\n281\n00:15:13.928 --> 00:15:17.604\nWhen we talk about caching passwords,\nall right,\n\n282\n00:15:17.604 --> 00:15:23.343\nwe can choose whose passwords are allowed\nto be cached out there on those RODCs.\n\n283\n00:15:23.343 --> 00:15:26.739\nAs I said earlier, you only want to cache\nthe users that are gonna rely on that\n\n284\n00:15:26.739 --> 00:15:28.612\ndomain controller for authentication.\n\n285\n00:15:28.612 --> 00:15:31.361\nYou wanna limit how many passwords you're\nactually putting out there, right.\n\n286\n00:15:31.361 --> 00:15:34.250\nThat was the whole point\nof setting this up.\n\n287\n00:15:34.250 --> 00:15:38.370\nThere's two ways I can control whose\npassword are allowed to be cached out\n\n288\n00:15:38.370 --> 00:15:40.490\nthere on that RODC.\n\n289\n00:15:40.490 --> 00:15:43.640\nThe first way is with the RODC\naccount itself, all right.\n\n290\n00:15:43.640 --> 00:15:46.430\nI can come in here to this read\nonly domain controller and\n\n291\n00:15:46.430 --> 00:15:47.439\npull up it's properties.\n\n292\n00:15:48.740 --> 00:15:52.030\nAnd it has a password\nreplication policy tab.\n\n293\n00:15:52.030 --> 00:15:53.281\nAnd here I can see,\nthese are all the defaults.\n\n294\n00:15:53.281 --> 00:15:55.420\nI haven't done anything with this yet.\n\n295\n00:15:55.420 --> 00:15:57.616\nThe account operators, deny.\n\n296\n00:15:57.616 --> 00:15:59.495\nAdministrators, Set to deny.\n\n297\n00:15:59.495 --> 00:16:01.678\nBackup operators, deny.\n\n298\n00:16:01.678 --> 00:16:03.558\nServer operators, deny.\n\n299\n00:16:03.558 --> 00:16:07.318\nSo out of the box, most of my\nadministrative accounts, again they can\n\n300\n00:16:07.318 --> 00:16:11.740\nstill log on out there, using the RODC,\nbut it won't remember their passwords.\n\n301\n00:16:11.740 --> 00:16:13.730\nSo if somebody gets\nthat domain controller,\n\n302\n00:16:13.730 --> 00:16:15.480\nthey won't have access to those.\n\n303\n00:16:15.480 --> 00:16:19.930\nThere's also two groups listed in here,\nor two special groups.\n\n304\n00:16:19.930 --> 00:16:23.150\nThere's the allowed RODC\npassword replication group, and\n\n305\n00:16:23.150 --> 00:16:26.820\nthe denied are RODC\npassword replication group.\n\n306\n00:16:26.820 --> 00:16:30.340\nThe allowed is as you probably\nguessed set to allow.\n\n307\n00:16:30.340 --> 00:16:32.840\nThe denied is set to deny.\n\n308\n00:16:32.840 --> 00:16:38.220\nThis list controls RODC1, right or RODC01.\n\n309\n00:16:38.220 --> 00:16:39.960\nThis read to make it read only.\n\n310\n00:16:39.960 --> 00:16:45.850\nWhat if I have several branch offices,\nand each branch office has its own RODC?\n\n311\n00:16:45.850 --> 00:16:48.430\nWell, the users from branch a,\n\n312\n00:16:48.430 --> 00:16:52.780\ntheir password should be\nstored on branch a's RODC.\n\n313\n00:16:52.780 --> 00:16:57.200\nUsers in branch b should be\nstored on branch b's RODC, right?\n\n314\n00:16:57.200 --> 00:17:03.830\nSo I can use this tab to specify who\ngets cached on this particular RODC.\n\n315\n00:17:03.830 --> 00:17:08.680\nBut every RODC's password replication\npolicy includes these two groups and\n\n316\n00:17:08.680 --> 00:17:10.500\nthey're set to allow or deny.\n\n317\n00:17:10.500 --> 00:17:16.301\nSo I want to prevent somebody's password\nfrombeing cached on all RODCs at one time,\n\n318\n00:17:16.301 --> 00:17:19.010\nI can use these groups, or allow them.\n\n319\n00:17:19.010 --> 00:17:22.340\nLike I was saying about that help desk,\nfor example.\n\n320\n00:17:22.340 --> 00:17:24.070\nThose guys are located over here.\n\n321\n00:17:24.070 --> 00:17:25.720\nThey're active directory groups.\n\n322\n00:17:25.720 --> 00:17:28.150\nAnd so if I add somebody to this group,\n\n323\n00:17:28.150 --> 00:17:32.660\nthey'll automatically be allowed\nto cache on any RODC that I have.\n\n324\n00:17:32.660 --> 00:17:34.570\nIf I add somebody to this group,\n\n325\n00:17:34.570 --> 00:17:38.790\nthey would be denied caching\ntheir password on any RODC.\n\n326\n00:17:38.790 --> 00:17:43.110\nI like to think of these as kind\nof global allow and deny lists for\n\n327\n00:17:43.110 --> 00:17:47.830\nmy RODC's and then each individual\nRODC is controlled through their\n\n328\n00:17:47.830 --> 00:17:50.010\nproperties of their account and\nActive Directory.\n\n329\n00:17:51.330 --> 00:17:53.580\nAll right, let's go back over here,\nthis guy has finished, so\n\n330\n00:17:53.580 --> 00:17:56.340\nwe're gonna go ahead and\npromote this to a domain controller.\n\n331\n00:17:57.570 --> 00:17:59.370\nAnd again, so\nfar nothing different, right?\n\n332\n00:17:59.370 --> 00:18:02.230\nI'm gonna add a domain controller\nto an existing domain.\n\n333\n00:18:02.230 --> 00:18:04.750\nThat's gonna be lab.net.\n\n334\n00:18:04.750 --> 00:18:12.270\nThe credentials,\nI'm actually gonna do Lab/Daniel.\n\n335\n00:18:12.270 --> 00:18:15.840\nI believe I added you to the RODC.\n\n336\n00:18:15.840 --> 00:18:20.113\nRemember I gave that group, RODC admins,\nthe ability to join this guy to\n\n337\n00:18:20.113 --> 00:18:24.700\nthe domain, and add him in\nActive Directory as a domain controller.\n\n338\n00:18:24.700 --> 00:18:28.180\nSo even though Daniel is not a domain\nadmin, he should have permissions to\n\n339\n00:18:28.180 --> 00:18:32.100\nperform this operation, to finish\nthe set up of this domain controller.\n\n340\n00:18:32.100 --> 00:18:34.955\nWe'll click Next, and\nwe'll find out if I'm right.\n\n341\n00:18:34.955 --> 00:18:35.700\n[LAUGH]\n>> See if\n\n342\n00:18:35.700 --> 00:18:38.255\nyou've actually delegated that\ncontrol out, right Michael?\n\n343\n00:18:38.255 --> 00:18:39.845\n[LAUGH] And if you have, mistake.\n\n344\n00:18:39.845 --> 00:18:42.095\n>> I know, right?\n\n345\n00:18:42.095 --> 00:18:43.675\nI knew I shouldn't have trusted that guy.\n\n346\n00:18:43.675 --> 00:18:45.265\n>> That's right.\n\n347\n00:18:45.265 --> 00:18:48.180\n[LAUGH] All right, so\nwe'll let whir and up, there we go.\n\n348\n00:18:48.180 --> 00:18:50.590\nJust about ready I think to\nswitch to the next screen here.\n\n349\n00:18:50.590 --> 00:18:54.590\nBut the rest of this is pretty\nmuch the same as you would see\n\n350\n00:18:54.590 --> 00:18:56.550\nsetting up a normal domain controller.\n\n351\n00:18:56.550 --> 00:18:58.510\nThe same options here.\n\n352\n00:18:58.510 --> 00:19:00.220\nAdd it to an existing domain.\n\n353\n00:19:00.220 --> 00:19:02.680\nAdd it to a new domain\nin an existing forest.\n\n354\n00:19:02.680 --> 00:19:05.540\nAdd it to create a new forest.\n\n355\n00:19:05.540 --> 00:19:06.645\nThat's not gonna change.\n\n356\n00:19:06.645 --> 00:19:10.790\n[COUGH] And\nit is taking its sweet time here.\n\n357\n00:19:10.790 --> 00:19:13.640\nAnd while it's doing that let me pull\nup these group because there some\n\n358\n00:19:13.640 --> 00:19:14.370\ndefaults in here.\n\n359\n00:19:14.370 --> 00:19:19.430\nIf you look at the members of the allowed,\nnobody by default.\n\n360\n00:19:19.430 --> 00:19:20.600\nIf I look at the denied.\n\n361\n00:19:23.390 --> 00:19:25.450\nWell, see there's quite\na few in here by default.\n\n362\n00:19:25.450 --> 00:19:30.340\nMy domain admins, my domain controllers,\nmy enterprise admins, my schema admins.\n\n363\n00:19:30.340 --> 00:19:32.460\nLots of guys are in here by default.\n\n364\n00:19:32.460 --> 00:19:38.575\nAnd remember, this is added, so\nall RODCs pass our replication policy.\n\n365\n00:19:38.575 --> 00:19:42.575\nSo these guys won't be cached on any\nRODC no matter how many I set up.\n\n366\n00:19:42.575 --> 00:19:43.895\nBy default I can always change that.\n\n367\n00:19:43.895 --> 00:19:46.275\n>> Yeah, that's a good little\nfactoid to memorize as well.\n\n368\n00:19:46.275 --> 00:19:51.302\nThe fact that the domain\nadmins are not allowed, right?\n\n369\n00:19:51.302 --> 00:19:53.042\nThey're in the denied group.\n\n370\n00:19:53.042 --> 00:19:57.132\nMost people think, I'm a domain admin,\nI can do whatever I wanna do.\n\n371\n00:19:57.132 --> 00:19:58.082\nI'm this type of admin.\n\n372\n00:19:58.082 --> 00:19:59.932\nI should just be able to\nget away with anything.\n\n373\n00:19:59.932 --> 00:20:03.619\nBut in this specific case, they don't\nwant that to be the case, so therefore,\n\n374\n00:20:03.619 --> 00:20:05.671\nyou're putting it in the deny group.\n\n375\n00:20:05.671 --> 00:20:07.591\nYou might see a question\nlike that on Microsoft.\n\n376\n00:20:07.591 --> 00:20:08.811\nYou're a domain admin.\n\n377\n00:20:08.811 --> 00:20:12.631\nYou're trying to add this RODC and\nit's not allowing you or\n\n378\n00:20:12.631 --> 00:20:15.640\nyou're trying to make changes,\nwhat's going on?\n\n379\n00:20:15.640 --> 00:20:17.690\nWell, it's the fact that\nyour in the deny group,\n\n380\n00:20:17.690 --> 00:20:20.780\nyou're not given permissions to do that,\nyou need to be in a group that's in\n\n381\n00:20:20.780 --> 00:20:24.740\nan allow state, therefore allowing\nyou to let those changes go through.\n\n382\n00:20:24.740 --> 00:20:26.980\n>> All right, so\nwe go back over here to this screen.\n\n383\n00:20:26.980 --> 00:20:29.480\nWe can see that it has moved on.\n\n384\n00:20:29.480 --> 00:20:33.280\nAnd notice what it says, a pre-created\nRODC account that matches the name of\n\n385\n00:20:33.280 --> 00:20:36.310\nthe target server exists in the directory.\n\n386\n00:20:36.310 --> 00:20:39.190\nIt used to say do you wanna use it?\n\n387\n00:20:39.190 --> 00:20:43.150\nAnd I would laugh and say of course I do,\nthat's why I created it you big dummies.\n\n388\n00:20:43.150 --> 00:20:44.880\nBut yes I do.\n\n389\n00:20:44.880 --> 00:20:47.130\nAnd everything else is grayed out, right?\n\n390\n00:20:47.130 --> 00:20:51.770\nBecause we already made all of these\nchoices when we pre-created the account.\n\n391\n00:20:51.770 --> 00:20:56.021\nI choose to install DNS on this domain\ncontroller I chose to make it a global\n\n392\n00:20:56.021 --> 00:20:58.570\ncatalog server, so all this is grayed out.\n\n393\n00:20:58.570 --> 00:21:02.080\nThe only thing I'm going to have to do\nis set that directory service restore\n\n394\n00:21:02.080 --> 00:21:05.070\nmode password, as soon as it will let me.\n\n395\n00:21:12.140 --> 00:21:14.670\nLet's see if I, yes I want to use.\n\n396\n00:21:14.670 --> 00:21:16.390\nI guess my messages hadn't popped up yet.\n\n397\n00:21:17.400 --> 00:21:19.230\nHe's being a little slow here for\nsome reason.\n\n398\n00:21:21.690 --> 00:21:22.880\nWe'll give it another minute.\n\n399\n00:21:22.880 --> 00:21:23.850\nThere it goes, finally.\n\n400\n00:21:23.850 --> 00:21:24.540\nJust took it a minute.\n\n401\n00:21:24.540 --> 00:21:28.050\nSo use an existing RODC account, the one\nthat matches the name of the server.\n\n402\n00:21:28.050 --> 00:21:32.026\nRemember, that's why I said the account\nthat I made, I needed to make sure it was\n\n403\n00:21:32.026 --> 00:21:35.260\nthe correct name of whatever server\nI planned on doing this with.\n\n404\n00:21:35.260 --> 00:21:40.176\nSo, now I can leave it as use an existing,\nthen I'll set my DSRM password to\n\n405\n00:21:40.176 --> 00:21:45.130\nsomething super secret like password,\nAll right.\n\n406\n00:21:45.130 --> 00:21:46.370\nAnd then, once that's done,\n\n407\n00:21:46.370 --> 00:21:49.054\nthe rest of this is just like\nthe normal installation, all right.\n\n408\n00:21:52.224 --> 00:21:54.750\nIt's just taking its sweet time, isn't it?\n\n409\n00:21:54.750 --> 00:21:56.170\nYou have all, I'm out on that WAN leg.\n\n410\n00:21:56.170 --> 00:21:57.510\nIt's pretty slow connectivity.\n\n411\n00:21:57.510 --> 00:21:58.980\n>> That's right.\n>> Back to that corporate office.\n\n412\n00:21:58.980 --> 00:22:00.050\n>> Way to emulate that there, Mike.\n\n413\n00:22:00.050 --> 00:22:00.720\n>> Yeah, you like that?\n\n414\n00:22:00.720 --> 00:22:01.600\n>> Good job.\n\n415\n00:22:01.600 --> 00:22:03.809\n>> I like that.\n[LAUGH] I did a QS policy earlier.\n\n416\n00:22:03.809 --> 00:22:05.588\nWe had all traffic to 10 KB per second.\n\n417\n00:22:05.588 --> 00:22:06.758\n>> That's right.\n[LAUGH]\n\n418\n00:22:06.758 --> 00:22:08.672\n>> You gotta make this as realistic as\n\n419\n00:22:08.672 --> 00:22:09.798\nhumanly possible.\n\n420\n00:22:09.798 --> 00:22:11.880\n>> There we go.\nWe'll click Next.\n\n421\n00:22:11.880 --> 00:22:13.389\nNext.\nAgain, this is all the stuff you've\n\n422\n00:22:13.389 --> 00:22:13.940\nseen before.\n\n423\n00:22:13.940 --> 00:22:15.860\nWe need to install a domain controller.\n\n424\n00:22:15.860 --> 00:22:20.190\nAnd I'll finally let my prereq checks run,\nand I'll go ahead and click Install.\n\n425\n00:22:23.470 --> 00:22:25.526\nSo, while that's happening,\n\n426\n00:22:25.526 --> 00:22:29.840\nlet's see how we might set up\nour password caching options.\n\n427\n00:22:29.840 --> 00:22:33.516\nMost likely what I would do,\nif I was setting this up,\n\n428\n00:22:33.516 --> 00:22:36.880\nis I would come over here and\nI would make a group.\n\n429\n00:22:36.880 --> 00:22:42.110\nI would say new group and\nI call this one Branch A Users or\n\n430\n00:22:42.110 --> 00:22:46.220\nwhatever that branch was called, right?\n\n431\n00:22:46.220 --> 00:22:50.390\nAnd then I click OK, and\nthen I go ahead and add some users to it.\n\n432\n00:22:50.390 --> 00:22:54.360\nLet's say my whole host,\nall my hosts work out there at the branch.\n\n433\n00:22:54.360 --> 00:22:55.760\nJust to have something\nfun to play with here.\n\n434\n00:22:57.330 --> 00:23:04.690\nI'll add them to that Branch A group,\nall right.\n\n435\n00:23:04.690 --> 00:23:09.650\nSo now I've got a group called Branch A\nUsers, and all those people are in there.\n\n436\n00:23:09.650 --> 00:23:16.679\nThen what I would do is I would go to that\nRODC, and I'd pull up its properties.\n\n437\n00:23:18.010 --> 00:23:23.430\nYou go to the Password Replication Policy\ntab and I click Add.\n\n438\n00:23:23.430 --> 00:23:24.304\nAnd I would say,\n\n439\n00:23:24.304 --> 00:23:28.690\nthese people are gonna be allowed to have\ntheir passwords replicate out to the RDC.\n\n440\n00:23:28.690 --> 00:23:31.310\nI click OK.\n\n441\n00:23:31.310 --> 00:23:32.900\nAnd I find my group.\n\n442\n00:23:34.930 --> 00:23:37.730\nAnd now Branch A users are set to allow.\n\n443\n00:23:37.730 --> 00:23:41.040\nSo now if I hire a new person out there,\nI don't have to come in and modify this.\n\n444\n00:23:41.040 --> 00:23:42.630\nI can just add him to that group.\n\n445\n00:23:42.630 --> 00:23:46.140\nSomebody leaves that office, I can\njust remove them from that group, and\n\n446\n00:23:46.140 --> 00:23:46.750\nwe're good to go, right.\n\n447\n00:23:47.790 --> 00:23:50.320\nLet's see if it finished up here.\n\n448\n00:23:51.573 --> 00:23:53.557\nOh, my prereq failed.\n\n449\n00:23:53.557 --> 00:23:54.416\nOh, you know what?\n\n450\n00:23:54.416 --> 00:23:59.199\nIt does not look like I gave you\nthe appropriate permissions there.\n\n451\n00:23:59.199 --> 00:24:02.253\nWell, son of a gun.\n\n452\n00:24:02.253 --> 00:24:04.873\n>> You sit on a throne of lies, Michael.\n\n453\n00:24:04.873 --> 00:24:06.613\n>> I know, right?\n\n454\n00:24:06.613 --> 00:24:11.300\nI'm almost positive I did,\nbut let's double check that.\n\n455\n00:24:11.300 --> 00:24:15.790\nGroups, already see Admins, members, aah.\n\n456\n00:24:15.790 --> 00:24:16.940\n>> It was Mr. Ronnie.\n\n457\n00:24:16.940 --> 00:24:18.830\n>> I gave Ronnie my,\nI knew I didn't trust you.\n\n458\n00:24:18.830 --> 00:24:20.384\n>> That's right, and for very good reason.\n\n459\n00:24:20.384 --> 00:24:21.580\n>> [LAUGH] That's who it was.\n\n460\n00:24:21.580 --> 00:24:24.690\n>> I wield power like\na two-year-old child.\n\n461\n00:24:24.690 --> 00:24:25.990\n>> All right, so I tell you what,\n\n462\n00:24:25.990 --> 00:24:30.390\nwe're gonna cancel that and\nwe'll do that one more time.\n\n463\n00:24:30.390 --> 00:24:35.050\nSo again I'm just gonna go and\nadd that roll.\n\n464\n00:24:35.050 --> 00:24:39.290\nAnd we'll go next, next,\nnext, Active Directory,\n\n465\n00:24:39.290 --> 00:24:41.280\ndomain services,\noh I've already installed it.\n\n466\n00:24:41.280 --> 00:24:43.390\nAll I do is run the promo again.\n\n467\n00:24:43.390 --> 00:24:46.880\nSo we'll come up here,\npromote the server to a domain controller.\n\n468\n00:24:46.880 --> 00:24:50.514\nThis time again, lab.net, and for\n\n469\n00:24:50.514 --> 00:24:54.860\nmy credentials, let's try lab/ronnie.\n\n470\n00:24:56.820 --> 00:24:58.360\nAnd see if I know his password.\n\n471\n00:25:01.610 --> 00:25:02.560\nAll right.\n\n472\n00:25:02.560 --> 00:25:03.610\nAnd same thing's gonna happen.\n\n473\n00:25:03.610 --> 00:25:06.580\nWe'll go through this and while we're\nwaiting for that to go through again,\n\n474\n00:25:06.580 --> 00:25:10.230\nI'll continue on with our\nother password options.\n\n475\n00:25:10.230 --> 00:25:12.680\nSo we saw how I could add,\ncreated a group.\n\n476\n00:25:12.680 --> 00:25:17.040\nI added it to that RODC, and\nnow all those people will be able to.\n\n477\n00:25:17.040 --> 00:25:20.430\nTheir passwords will be cached out,\nthey're on the RODC.\n\n478\n00:25:20.430 --> 00:25:22.880\nAnother cool thing I can do with\nthe computer account there for\n\n479\n00:25:22.880 --> 00:25:25.390\nthat domain controller,\nlet me pull that back up.\n\n480\n00:25:28.020 --> 00:25:33.040\nIs on this Password Replication Policy\ntab, there's an advanced option.\n\n481\n00:25:33.040 --> 00:25:37.665\nIf I click advanced, I get this screen,\nAdvanced Password Replication Policy for\n\n482\n00:25:37.665 --> 00:25:39.220\nRODC01.\n\n483\n00:25:39.220 --> 00:25:42.840\nPolicy usage tab, I've got a drop\ndown list that has two options.\n\n484\n00:25:42.840 --> 00:25:45.368\nFirst one,\naccounts whose passwords are stored,\n\n485\n00:25:45.368 --> 00:25:48.140\non this read-only domain controller.\n\n486\n00:25:48.140 --> 00:25:49.890\nAnd you can see nobody, right.\n\n487\n00:25:49.890 --> 00:25:51.990\nNobody is logged in using that RODC yet.\n\n488\n00:25:51.990 --> 00:25:55.070\nIn fact,\nthe RODC is not finished being made.\n\n489\n00:25:55.070 --> 00:26:00.100\nThen the other option is, accounts that\nhave been authenticated by this RODC.\n\n490\n00:26:00.100 --> 00:26:03.380\nAnd you might think, well, wait,\nisn't that the same thing?\n\n491\n00:26:03.380 --> 00:26:08.840\nNo, as a domain admin, if I go out there,\nthat RODC can authenticate me.\n\n492\n00:26:08.840 --> 00:26:12.770\nHe can reach out to that writeable copy of\nActive Directory, verify my password, and\n\n493\n00:26:12.770 --> 00:26:14.050\nallow me to log on.\n\n494\n00:26:14.050 --> 00:26:16.880\nBut he's not gonna cache my credential,\nbecause domain admins\n\n495\n00:26:16.880 --> 00:26:19.550\nare denied the ability to cache\ntheir credentials out there.\n\n496\n00:26:19.550 --> 00:26:22.750\nSo there is a difference between\nwho's been authenticated, and\n\n497\n00:26:22.750 --> 00:26:26.740\nwhose passwords are actually\nstored on that RODC.\n\n498\n00:26:26.740 --> 00:26:29.970\nThere's also a Resultant Policy\ntab which is pretty cool.\n\n499\n00:26:29.970 --> 00:26:31.920\nI can use this to test.\n\n500\n00:26:31.920 --> 00:26:34.670\nNow, I have never done this\nbefore the RODC was finished, so\n\n501\n00:26:34.670 --> 00:26:36.210\nwe'll see what happens here.\n\n502\n00:26:36.210 --> 00:26:39.410\nIn fact, let me go back over and\nmake sure everything's still moving along.\n\n503\n00:26:39.410 --> 00:26:43.170\nIt's still doing its check to make\nsure I've got DNS and all that.\n\n504\n00:26:43.170 --> 00:26:45.970\nVerifying that there's\nan account that matches.\n\n505\n00:26:47.860 --> 00:26:49.230\nSo I'll let that finish.\n\n506\n00:26:49.230 --> 00:26:54.080\nAnd here I'm gonna go add,\nand I'm gonna put Daniel, and\n\n507\n00:26:54.080 --> 00:26:57.960\nnotice that because he's in that group,\nhe's allowed.\n\n508\n00:26:57.960 --> 00:27:02.190\nSo what's it's telling me is, if Daniel\nwas actually gone out to that branch\n\n509\n00:27:02.190 --> 00:27:07.580\noffice and authenticated,\nhis password would be cashed on the RODC.\n\n510\n00:27:07.580 --> 00:27:08.920\nBut what about Tim Broom?\n\n511\n00:27:08.920 --> 00:27:10.300\nI didn't put him in that group.\n\n512\n00:27:11.840 --> 00:27:13.170\nTim Broom would be denied.\n\n513\n00:27:13.170 --> 00:27:15.540\nNotice this is implicit.\n\n514\n00:27:15.540 --> 00:27:21.270\nI didn't add Tim to the list and\nchoose deny, but nothing he belongs to,\n\n515\n00:27:21.270 --> 00:27:25.050\nor his account, has been allowed,\nso we get that implicit deny.\n\n516\n00:27:25.050 --> 00:27:25.900\nAll right?\n\n517\n00:27:27.740 --> 00:27:30.060\nAll right.\nLet's go check on him again.\n\n518\n00:27:30.060 --> 00:27:32.020\nStill chugging along here.\n\n519\n00:27:33.080 --> 00:27:34.210\nSo, give it just a minute.\n\n520\n00:27:34.210 --> 00:27:36.330\nIt should finish up momentarily.\n\n521\n00:27:38.400 --> 00:27:39.400\nLet's say that.\n\n522\n00:27:39.400 --> 00:27:40.340\n>> [LAUGH]\n>> So in the end,\n\n523\n00:27:40.340 --> 00:27:42.310\nyou know a lot of things we got\nto consider with these RODCs.\n\n524\n00:27:42.310 --> 00:27:43.492\nOne, we need to know for\n\n525\n00:27:43.492 --> 00:27:46.700\nthe exam, why we're gonna put one\nout there in the first place.\n\n526\n00:27:46.700 --> 00:27:49.740\nPoor physical security, we want them to.\n\n527\n00:27:49.740 --> 00:27:54.000\nAnd here we go,\nnot keep this any longer than I need to.\n\n528\n00:27:56.640 --> 00:27:59.030\nLet it do it's thing here.\n\n529\n00:27:59.030 --> 00:28:02.930\nPoor physical security, and\nI've got intermittent connectivity or\n\n530\n00:28:02.930 --> 00:28:07.340\na slow link back to the corporate\noffice so a log on takes a long time.\n\n531\n00:28:07.340 --> 00:28:10.220\nWhich means a loss of productivity\nout there at the branch office.\n\n532\n00:28:10.220 --> 00:28:12.820\nSo that's why we're putting\nthat RODC out there.\n\n533\n00:28:12.820 --> 00:28:15.160\nRead only domain controllers,\nobviously, read only.\n\n534\n00:28:15.160 --> 00:28:18.760\nYou cannot make any changes\nout there that read only.\n\n535\n00:28:18.760 --> 00:28:23.839\nIf you install an Active Directory DNS\nzone, they're an Active Directory\n\n536\n00:28:23.839 --> 00:28:28.200\nintegrated DNS zone,\nthat DNS zone will be read-only as well.\n\n537\n00:28:31.070 --> 00:28:34.570\nWe can choose who's passwords are cached,\nwho's aren't.\n\n538\n00:28:34.570 --> 00:28:38.880\nThat doesn't mean you can't authenticate,\nbut it does mean if you log off\n\n539\n00:28:38.880 --> 00:28:41.190\nit's gonna have to go across the WAN\nlink to authenticate you again.\n\n540\n00:28:41.190 --> 00:28:43.850\nIt's not gonna remember\nwhat your password is.\n\n541\n00:28:47.570 --> 00:28:52.011\nAnd that local administrator delegation,\nthat's another one we gotta understand cuz\n\n542\n00:28:52.011 --> 00:28:54.580\nthey very well could\nask you a question on.\n\n543\n00:28:54.580 --> 00:28:57.505\nYou want to allow so and so\nout there at the branch office,\n\n544\n00:28:57.505 --> 00:28:59.950\nthe ability to log on to\nthis domain controller.\n\n545\n00:28:59.950 --> 00:29:01.480\nThat read only domain controller.\n\n546\n00:29:01.480 --> 00:29:02.120\nWhat do you do?\n\n547\n00:29:02.120 --> 00:29:03.890\nAdd him to the domain admins group?\n\n548\n00:29:03.890 --> 00:29:07.490\nThat would work, but it's not what\nMicrosoft wants you to choose, right?\n\n549\n00:29:07.490 --> 00:29:10.688\nThey want you to delegate\nthose administrative rights,\n\n550\n00:29:10.688 --> 00:29:12.160\nto those users out there.\n\n551\n00:29:12.160 --> 00:29:17.070\nWe'll go ahead and click install, that\nwill take it a minute or two to finish.\n\n552\n00:29:17.070 --> 00:29:20.990\nAnd then we'll have our good old\nread-only to main controller.\n\n553\n00:29:20.990 --> 00:29:24.330\nSo this guy's rebooted and we're gonna\nlog in, and I'm gonna log in as Ronnie.\n\n554\n00:29:24.330 --> 00:29:26.820\nRemember, Ronnie is not a domain admin,\nbut\n\n555\n00:29:26.820 --> 00:29:28.760\nI have delegated I put him in that group.\n\n556\n00:29:28.760 --> 00:29:30.490\nHe was able to do this process.\n\n557\n00:29:30.490 --> 00:29:31.480\nLet's see if he can log on.\n\n558\n00:29:33.410 --> 00:29:36.230\nAnd, sure enough, Ronnie can log in.\n\n559\n00:29:36.230 --> 00:29:38.093\nRight.\nAgain, he's not a domain admin.\n\n560\n00:29:38.093 --> 00:29:41.000\n[COUGH] But\nhe can log on to do other things,\n\n561\n00:29:41.000 --> 00:29:45.040\nmaybe clear the print queue or\nsomething like that.\n\n562\n00:29:45.040 --> 00:29:49.550\nAll right, let me log off and\nlog back on as a domain admin, real quick.\n\n563\n00:29:49.550 --> 00:29:51.930\nI wanna show you a couple of\nthings here so I'll log off.\n\n564\n00:29:51.930 --> 00:29:54.330\nI'll log back on.\n\n565\n00:29:55.860 --> 00:30:00.828\nAs the good old lab/administrator.\n\n566\n00:30:00.828 --> 00:30:07.489\n[SOUND] And\nI'm gonna fire up Active Directory.\n\n567\n00:30:09.079 --> 00:30:10.159\nUsers and computers.\n\n568\n00:30:10.159 --> 00:30:11.579\nAnd we're gonna take\na look at that account.\n\n569\n00:30:14.199 --> 00:30:15.910\nMaximize that for us.\n\n570\n00:30:15.910 --> 00:30:17.460\nExpand that out.\n\n571\n00:30:17.460 --> 00:30:19.770\nGet down into my domain controllers OU.\n\n572\n00:30:19.770 --> 00:30:21.720\nAnd now it no longer says unoccupied,\nright?\n\n573\n00:30:21.720 --> 00:30:23.540\nIt says read-only global catalogue.\n\n574\n00:30:23.540 --> 00:30:27.590\nI pull up the properties of this guy, and\n\n575\n00:30:27.590 --> 00:30:30.410\ngo over to that password\nreplication policy tab.\n\n576\n00:30:30.410 --> 00:30:32.440\nHit advanced.\nAnd you can see,\n\n577\n00:30:32.440 --> 00:30:34.820\naccounts whose passwords are stored.\n\n578\n00:30:34.820 --> 00:30:36.640\nRight?\nRonnie was a member of that group.\n\n579\n00:30:36.640 --> 00:30:40.060\nSo once he was authenticated\nit did cache his password.\n\n580\n00:30:40.060 --> 00:30:42.280\nNotice I just logged on as administrator.\n\n581\n00:30:42.280 --> 00:30:44.640\nAdministrator is not listed here.\n\n582\n00:30:44.640 --> 00:30:46.120\nThe computer account itself and\n\n583\n00:30:46.120 --> 00:30:50.280\nthe Curt Rose Ticket Granting Ticket\nService, those are allowed by default.\n\n584\n00:30:50.280 --> 00:30:53.210\nIf I switch to accounts that\nhave been authenticated.\n\n585\n00:30:53.210 --> 00:30:57.630\nNow I do see administrator, so\nI was authenticated by this RODC, but\n\n586\n00:30:57.630 --> 00:30:59.600\nit did not store my password, right.\n\n587\n00:30:59.600 --> 00:31:01.350\nSo that way, if somebody steals this,\n\n588\n00:31:01.350 --> 00:31:04.370\nthey're not gonna be able to try\nto get that domain admin password.\n\n589\n00:31:04.370 --> 00:31:05.720\nSo pretty cool stuff there.\n\n590\n00:31:05.720 --> 00:31:10.960\nLast thing I wanna show you, is I remember\nway back when I first learned about RODCs.\n\n591\n00:31:10.960 --> 00:31:14.960\nI was studying up on these guys, the first\nthing I did was open up Active Directory\n\n592\n00:31:14.960 --> 00:31:17.080\nlike this, and go wow, it's read-only.\n\n593\n00:31:17.080 --> 00:31:19.240\nSo I won't be able to create anything.\n\n594\n00:31:19.240 --> 00:31:23.850\nSo if I come over down here to employees\nand right click and choose new user,\n\n595\n00:31:23.850 --> 00:31:25.180\nit's gonna fail.\n\n596\n00:31:25.180 --> 00:31:25.990\nIt can't work, right.\n\n597\n00:31:25.990 --> 00:31:27.560\nIt's read-only, uh-oh.\n\n598\n00:31:27.560 --> 00:31:30.530\nOkay, well it'll probably fail\nwhen I click finish, right.\n\n599\n00:31:30.530 --> 00:31:35.570\nSo we'll make a test account real quick,\nand I'll just set that password.\n\n600\n00:31:35.570 --> 00:31:36.410\nIt's not gonna work.\n\n601\n00:31:36.410 --> 00:31:41.842\nIt's a read-only domain controller.\n\n602\n00:31:41.842 --> 00:31:42.710\nHuh.\n>> Odd.\n\n603\n00:31:42.710 --> 00:31:45.720\n>> It doesn't seem to\nbe all that read-only.\n\n604\n00:31:45.720 --> 00:31:47.170\nWell, here's what happens.\n\n605\n00:31:47.170 --> 00:31:49.060\nWhen you open up\nthe Active Directory Users and\n\n606\n00:31:49.060 --> 00:31:52.730\nComputers console,\nActive Directory says hey, wait a second.\n\n607\n00:31:52.730 --> 00:31:54.000\nI'm read-only.\n\n608\n00:31:54.000 --> 00:31:56.530\nYou're probably gonna\nwanna make some changes.\n\n609\n00:31:56.530 --> 00:32:00.340\nSo I'm gonna connect to a writable\ncopy of Active Directory.\n\n610\n00:32:00.340 --> 00:32:03.980\nSo, if you go in there and you're\ntesting this out, and go he lied to me,\n\n611\n00:32:03.980 --> 00:32:05.920\nhe said this thing was read-only.\n\n612\n00:32:05.920 --> 00:32:08.700\nI can make new accounts,\nI can change things.\n\n613\n00:32:08.700 --> 00:32:10.950\nDouble check who you're\nactually connected to.\n\n614\n00:32:10.950 --> 00:32:16.960\nIf I connect to this domain\ncontroller All right.\n\n615\n00:32:16.960 --> 00:32:17.950\nIt's gonna warn me first.\n\n616\n00:32:17.950 --> 00:32:19.610\nYou're not gonna be able\nto do anything you dummy.\n\n617\n00:32:19.610 --> 00:32:21.320\nWhy don't you connect to\na real domain controller.\n\n618\n00:32:21.320 --> 00:32:22.080\nI'm gonna say, no!\n\n619\n00:32:22.080 --> 00:32:23.790\nI wanna connect to this one.\n\n620\n00:32:23.790 --> 00:32:24.470\nAnd there we go.\n\n621\n00:32:24.470 --> 00:32:26.440\nNow, notice all my buttons up here.\n\n622\n00:32:26.440 --> 00:32:27.910\nMy new buttons are all grayed out.\n\n623\n00:32:27.910 --> 00:32:32.320\nIf I go down here into employees,\nI can't right click and choose new.\n\n624\n00:32:32.320 --> 00:32:34.320\nNew is completely gone from the menu.\n\n625\n00:32:34.320 --> 00:32:37.750\nSo just keep that in mind if you're\ntesting this out and studying and like.\n\n626\n00:32:37.750 --> 00:32:40.071\nHe lied to me,\nyou can make changes on an RODC.\n\n627\n00:32:40.071 --> 00:32:45.312\nVerify which domain controller you're\nconnected to before you say that.\n\n628\n00:32:45.312 --> 00:32:45.950\n>> Awesome.\n>> [LAUGH]\n\n629\n00:32:45.950 --> 00:32:46.570\n>> Well, Mike,\n\n630\n00:32:46.570 --> 00:32:50.280\nI think that we've finally come\nto the end of these RODC guys.\n\n631\n00:32:50.280 --> 00:32:53.640\nVery simple concept,\nvery easy to implement, though.\n\n632\n00:32:53.640 --> 00:32:54.450\nIt wasn't that difficult.\n\n633\n00:32:54.450 --> 00:32:57.270\nIt was basically, if you know how\nto set up an Active Directory,\n\n634\n00:32:57.270 --> 00:32:59.570\nwell you're halfway there, really.\n\n635\n00:32:59.570 --> 00:33:02.930\nYou take the other steps that Mike\nhas shown us so graciously how to do,\n\n636\n00:33:02.930 --> 00:33:05.770\nand then we can put one of these\nRODCs out were we need them.\n\n637\n00:33:05.770 --> 00:33:08.840\nAnd implement all the cool\nfeatures that they allow us.\n\n638\n00:33:08.840 --> 00:33:11.090\nMike, that being said, do we have\nanything else we want to go over?\n\n639\n00:33:11.090 --> 00:33:12.870\n>> No, I think we covered most of it.\n\n640\n00:33:12.870 --> 00:33:13.710\n>> Alright.\nWell, hopefully you\n\n641\n00:33:13.710 --> 00:33:15.700\nguys got a lot out of this here episode.\n\n642\n00:33:15.700 --> 00:33:17.560\nWe had a great time making it for you.\n\n643\n00:33:17.560 --> 00:33:21.040\nSigning off for ITProTV,\nI have been your host Daniel Lowrie.\n\n644\n00:33:21.040 --> 00:33:21.860\n>> And I'm Mike Rodrick.\n\n645\n00:33:21.860 --> 00:33:22.780\n>> And we will see you next time.\n\n646\n00:33:22.780 --> 00:33:28.480\n[MUSIC]\n\n",
          "vimeoId": "138871737"
        },
        {
          "description": "In this episode, Daniel and Mike go over configuring account policies in Active Directory Users and Computers. They kick things off by demonstrating how to configure both domain and local user password policy settings. This includes things like minimum/maximum password age, history, and complexity requirements. They then move into delegating password management and configuring lockout policies. Finally they look into kerberos policy settings.",
          "length": "2041",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-18-1-configure_account_policies-082715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-18-1-configure_account_policies-082715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-18-1-configure_account_policies-082715-1-sm.jpg",
          "title": "Configure Account Policies",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:09.611\n[MUSIC]\n\n2\n00:00:09.611 --> 00:00:14.560\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.560 --> 00:00:17.710\nI'm your host, Daniel Lowrie and\nhere with me today, Mr. Mike Rodrick.\n\n4\n00:00:17.710 --> 00:00:18.770\nHow's it going today Mike?\n\n5\n00:00:18.770 --> 00:00:21.576\n>> Oh it's going fantastic,\nDaniel, I'm glad to be here,\n\n6\n00:00:21.576 --> 00:00:23.930\nwe're continuing on with our 7411 series\n>> And,\n\n7\n00:00:23.930 --> 00:00:26.890\nin this one we're gonna be\nlooking at account policy.\n\n8\n00:00:26.890 --> 00:00:29.030\nWe gotta be able to\nmanage those accounts and\n\n9\n00:00:29.030 --> 00:00:31.330\nreally manage the security\nof the accounts.\n\n10\n00:00:31.330 --> 00:00:36.050\nWe're talking a lot about password\npolicies, Kerberos policies and\n\n11\n00:00:36.050 --> 00:00:36.708\nthings like that.\n\n12\n00:00:36.708 --> 00:00:39.480\nAnd so, we're gonna start\nout with a local machine,\n\n13\n00:00:39.480 --> 00:00:40.930\nbecause we need to be aware of that.\n\n14\n00:00:40.930 --> 00:00:44.620\nAnd then, we're gonna move on\nin to our domain environment.\n\n15\n00:00:44.620 --> 00:00:48.610\nSo you guys are I'm sure are aware,\nyou know when you log in to a system,\n\n16\n00:00:48.610 --> 00:00:52.790\nyou have to type in your username and\nhopefully, usually you type in a password.\n\n17\n00:00:52.790 --> 00:00:55.030\nI know some of you if\nyou got a home machine,\n\n18\n00:00:55.030 --> 00:00:59.130\nyou might have a laptop that everybody\nin the house uses, there's one account,\n\n19\n00:00:59.130 --> 00:01:01.130\nthe built-in administrator account.\n\n20\n00:01:01.130 --> 00:01:04.890\nNo password set on it,\neverybody just shares that one account.\n\n21\n00:01:04.890 --> 00:01:09.420\nBut when we move into a work environment,\nwe're typically not gonna see that right?\n\n22\n00:01:09.420 --> 00:01:13.650\nBecause we need that accountability that\nwe get from having multiple user accounts.\n\n23\n00:01:13.650 --> 00:01:18.260\nThat way if Daniel has his own account, I\nhave my own account in the event logs, and\n\n24\n00:01:18.260 --> 00:01:22.010\nwe're at tracking who's doing what I can\ntell the difference between what Daniel\n\n25\n00:01:22.010 --> 00:01:23.350\ndid and what I did.\n\n26\n00:01:23.350 --> 00:01:27.640\nSo, we have separate accounts for each\nperson and then to keep those accounts\n\n27\n00:01:27.640 --> 00:01:30.000\nsecure, we have passwords that\nare associated with them, right?\n\n28\n00:01:30.000 --> 00:01:33.540\nSo, I can't log on as Daniel and\ndo something bad and\n\n29\n00:01:33.540 --> 00:01:36.510\nhave it traced back to him because\nI don't know his password.\n\n30\n00:01:36.510 --> 00:01:39.620\nSo that password is what provides\nthe security for our accounts, or\n\n31\n00:01:39.620 --> 00:01:42.080\nat least one way we can do that.\n\n32\n00:01:42.080 --> 00:01:44.630\nSo, we want to make sure\nthat we are controlling\n\n33\n00:01:44.630 --> 00:01:47.240\nhow they're creating those passwords,\nhow long they are,\n\n34\n00:01:47.240 --> 00:01:51.480\nhow strong they are, how often they\nhave to change them, things like that.\n\n35\n00:01:51.480 --> 00:01:52.712\nSo lets take a look at\nwhere we can do that.\n\n36\n00:01:52.712 --> 00:01:54.940\nI'm gonna start again on a local system.\n\n37\n00:01:54.940 --> 00:01:58.030\nAnd if you've got a work group, like if\nyou're in a SOHO and you're not running\n\n38\n00:01:58.030 --> 00:02:01.810\na domain then you're gonna be dealing\nwith individual computers in a workgroup\n\n39\n00:02:01.810 --> 00:02:06.270\nenvironment, then you're gonna have to\nconfigure this policy on each machine.\n\n40\n00:02:06.270 --> 00:02:09.630\nBecause there is no centralized\nadministration in that workgroup.\n\n41\n00:02:09.630 --> 00:02:14.432\nBut, we can still control our\npassword settings on a local machine.\n\n42\n00:02:14.432 --> 00:02:17.858\nI'm gonna open up the group policy,\nthe local group policy editor.\n\n43\n00:02:17.858 --> 00:02:21.572\nType in gpedit.msc down there.\n\n44\n00:02:21.572 --> 00:02:23.240\nAnd so this is the local policy.\n\n45\n00:02:23.240 --> 00:02:28.010\nAnd remember this local policy\napplies only to this one machine.\n\n46\n00:02:28.010 --> 00:02:31.770\nAnd if I expand out underneath\nthe computer half of this policy,\n\n47\n00:02:31.770 --> 00:02:35.800\nI'll expand out Windows settings and\nthen I'll wait for it.\n\n48\n00:02:35.800 --> 00:02:36.689\nIt typically takes a minute.\n\n49\n00:02:38.600 --> 00:02:41.110\nAnd, then I'll expand\nout security settings.\n\n50\n00:02:41.110 --> 00:02:43.520\nAnd, sometimes that'll lag for\na minute, there, as well.\n\n51\n00:02:43.520 --> 00:02:47.460\nAnd, then I'm gonna go to account\npolicies, and password policy.\n\n52\n00:02:47.460 --> 00:02:50.100\nAnd, here we see the settings\nthat we have available.\n\n53\n00:02:50.100 --> 00:02:52.750\nI've got enforce password history.\n\n54\n00:02:52.750 --> 00:02:56.050\nNow, that one, that first one up there,\npassword history,\n\n55\n00:02:56.050 --> 00:02:59.630\nthis is how many passwords\nthe system is going to remember.\n\n56\n00:02:59.630 --> 00:03:02.980\nIn other words as you change\nyour password over time,\n\n57\n00:03:02.980 --> 00:03:06.450\ndoes it remember what your\npast passwords were, right?\n\n58\n00:03:06.450 --> 00:03:09.000\nBecause the idea is I don't want a user,\n\n59\n00:03:09.000 --> 00:03:13.450\nif I tell them they have to change their,\nlet's say their password was blue, right?\n\n60\n00:03:13.450 --> 00:03:15.420\nIf I tell them it's time\nto change their password,\n\n61\n00:03:15.420 --> 00:03:18.790\nwhat's to stop them from setting\nit to blue again, right?\n\n62\n00:03:18.790 --> 00:03:21.810\nI don't want them using the same\npassword over and over.\n\n63\n00:03:21.810 --> 00:03:26.110\nWe change our password, so that the bad\nguys, hopefully, are a step behind.\n\n64\n00:03:26.110 --> 00:03:31.020\nBy the time they break our password, we've\nalready moved on to our new password.\n\n65\n00:03:31.020 --> 00:03:34.710\nSo I need to make sure they're not using\nthe same password over and over again.\n\n66\n00:03:34.710 --> 00:03:37.192\nAnd that's where password\nhistory comes into play.\n\n67\n00:03:37.192 --> 00:03:42.310\nYou can see the default is to remember\nthe last 24 passwords that have been used.\n\n68\n00:03:42.310 --> 00:03:44.400\nSo if I go to change my password and\n\n69\n00:03:44.400 --> 00:03:48.020\nI try to use a password that I've used\nin the past within the last 24 password\n\n70\n00:03:48.020 --> 00:03:50.230\nchanges, it's not gonna let me do that,\nright?\n\n71\n00:03:50.230 --> 00:03:54.290\nSo that is the default setting, it'll\nremember the last 24 passwords that really\n\n72\n00:03:54.290 --> 00:03:58.200\nannoys our users but it does make for\na more secure network.\n\n73\n00:03:58.200 --> 00:04:01.730\n>> Yeah they are not big fans of these\nwhole password policy business but\n\n74\n00:04:01.730 --> 00:04:05.340\nthey don't realize even though this\nseems like such a small thing,\n\n75\n00:04:05.340 --> 00:04:07.000\nit's just oh it's just my password.\n\n76\n00:04:07.000 --> 00:04:09.850\nMike's talking about computers that\nare out there on home networks\n\n77\n00:04:09.850 --> 00:04:13.310\nthat everyone logs into using\nthe same account, no password.\n\n78\n00:04:13.310 --> 00:04:14.980\nThose are probably the computers\nthat are running very,\n\n79\n00:04:14.980 --> 00:04:20.370\nvery slowly because they are busy bit\ntorrenting things and bitcoin mining.\n\n80\n00:04:20.370 --> 00:04:23.320\nDoing all sorts of stuff that they didn't\nintend it to do because it's already been\n\n81\n00:04:23.320 --> 00:04:27.330\ncompromised cuz there's no security\non it whatsoever just about.\n\n82\n00:04:27.330 --> 00:04:30.410\nThese password policies are very important\nspecifically when we get into that\n\n83\n00:04:30.410 --> 00:04:31.690\ncorporate environment.\n\n84\n00:04:31.690 --> 00:04:35.940\nWe have to set some sort of\npassword policy so that we can a,\n\n85\n00:04:35.940 --> 00:04:41.040\nmake sure that our users are doing\ntheir part as a security asset, right?\n\n86\n00:04:41.040 --> 00:04:42.980\nThey are a part of our security.\n\n87\n00:04:42.980 --> 00:04:44.220\nThey could be the weakest link.\n\n88\n00:04:44.220 --> 00:04:48.168\nRemember, you're only as strong as your\nweakest link in your security chain.\n\n89\n00:04:48.168 --> 00:04:53.060\nSo they gotta make sure that they are at\nleast doing some level of good security.\n\n90\n00:04:53.060 --> 00:04:56.230\nSetting that password, or\nthat remember the password.\n\n91\n00:04:56.230 --> 00:04:58.000\nThat way they're not\nusing the same password.\n\n92\n00:04:58.000 --> 00:04:59.740\nOh yeah, it's time to change my password.\n\n93\n00:04:59.740 --> 00:05:01.630\nNot a problem.\nI'll just change it to the same one.\n\n94\n00:05:01.630 --> 00:05:02.400\nHa ha ha.\n\n95\n00:05:02.400 --> 00:05:04.240\nRight?\nAnd they think they've gotten by on you.\n\n96\n00:05:04.240 --> 00:05:08.000\nWell, we can come in here with these\nlovely group policy objects, change that,\n\n97\n00:05:08.000 --> 00:05:10.150\nand do this obviously\non your local account.\n\n98\n00:05:10.150 --> 00:05:12.620\nAlso do that in your AD,\nif you have that going on.\n\n99\n00:05:12.620 --> 00:05:15.220\n>> Absolutely, because you know\nthose users, they have one or\n\n100\n00:05:15.220 --> 00:05:16.380\ntwo passwords that they'll use.\n\n101\n00:05:16.380 --> 00:05:19.870\nAnd they'll just flip back and forth\nbetween their favorite passwords, and\n\n102\n00:05:19.870 --> 00:05:20.420\nthat's not good.\n\n103\n00:05:20.420 --> 00:05:23.250\nAll right, so the next thing I'm\ngonna show you here is the minimum,\n\n104\n00:05:23.250 --> 00:05:25.460\nor I'm sorry, the maximum password age.\n\n105\n00:05:25.460 --> 00:05:29.270\nHere, you're basically defining how often\nyou want them to change their password.\n\n106\n00:05:29.270 --> 00:05:31.370\nThe default is 42 days.\n\n107\n00:05:31.370 --> 00:05:35.830\nThat means every 42 days,\nI'm gonna have to change my password.\n\n108\n00:05:35.830 --> 00:05:38.600\nThe next one down is\nthe minimum password age.\n\n109\n00:05:38.600 --> 00:05:42.536\nAnd this is how old the password has\nto be before it can change it again.\n\n110\n00:05:42.536 --> 00:05:43.760\nAnd that's always an odd one.\n\n111\n00:05:43.760 --> 00:05:45.930\nPeople go, oh, what do you mean by that?\n\n112\n00:05:45.930 --> 00:05:48.922\nWell that means that if I\nchange my password right now,\n\n113\n00:05:48.922 --> 00:05:53.034\nI can't change it again for\nanother 24 hours, by default, that 1 day.\n\n114\n00:05:53.034 --> 00:05:54.915\nAnd you might think to yourself,\nwell, why?\n\n115\n00:05:54.915 --> 00:05:57.673\nWhy would I care if they\nchange their password and\n\n116\n00:05:57.673 --> 00:06:00.310\nthen change their password again?\n\n117\n00:06:00.310 --> 00:06:03.850\nBecause your users, who can't figure\nout how to print their spreadsheet in\n\n118\n00:06:03.850 --> 00:06:07.880\nlandscape format, will figure out\nhow to bypass your security policy.\n\n119\n00:06:07.880 --> 00:06:09.010\nThey're gonna sit there and go, oh,\n\n120\n00:06:09.010 --> 00:06:13.230\nwait a second,\nit won't let me use the last 24 passwords.\n\n121\n00:06:13.230 --> 00:06:15.192\nIt's time for me to change it.\n\n122\n00:06:15.192 --> 00:06:18.110\nI'm gonna change my\npassword 25 times in a row.\n\n123\n00:06:18.110 --> 00:06:21.570\nThey will sit there for 30 minutes and\nchange their password over and over and\n\n124\n00:06:21.570 --> 00:06:24.550\nover and over until they get back\nto their favorite password and\n\n125\n00:06:24.550 --> 00:06:27.210\neffectively bypass my policy.\n\n126\n00:06:27.210 --> 00:06:28.170\nSo, if they have to wait 24 hours,\n\n127\n00:06:28.170 --> 00:06:31.320\nthat means they're gonna\nchange it wait till tomorrow.\n\n128\n00:06:31.320 --> 00:06:32.430\nChange it again.\n\n129\n00:06:32.430 --> 00:06:33.690\nWait till tomorrow.\n\n130\n00:06:33.690 --> 00:06:38.630\nAnd after what, 24 days, they can\nfinally get back to that same password.\n\n131\n00:06:38.630 --> 00:06:44.430\nAnd we can really mess with them if we\nremember the last say 30 passwords and\n\n132\n00:06:44.430 --> 00:06:49.010\nwe set it to where you have to\nchange your password every 30 days.\n\n133\n00:06:49.010 --> 00:06:50.980\nBy the time they get back\nto their favorite password,\n\n134\n00:06:50.980 --> 00:06:52.830\nit's time to change it again and\nthey'll have to do it all over.\n\n135\n00:06:52.830 --> 00:06:54.330\nSo hopefully they get tired of doing that,\nright?\n\n136\n00:06:54.330 --> 00:06:56.860\nThey're not going to sit there and\nchange it every single day.\n\n137\n00:06:56.860 --> 00:07:00.820\n>> It never ceases to amaze me\nhow our users will call and\n\n138\n00:07:00.820 --> 00:07:05.000\ncomplain about, oh we installed the newest\nversion of Outlook and now I have to do\n\n139\n00:07:05.000 --> 00:07:09.710\nthis extra click before I can get\nto this option that I totally love.\n\n140\n00:07:09.710 --> 00:07:10.470\nCan you change that?\n\n141\n00:07:10.470 --> 00:07:11.800\nCan you fix that for me?\n\n142\n00:07:11.800 --> 00:07:12.730\nOne extra click.\n\n143\n00:07:12.730 --> 00:07:13.500\nBut he's right.\n\n144\n00:07:13.500 --> 00:07:18.350\nThey will sit there and go through 25\ndifferent password exchanges just so\n\n145\n00:07:18.350 --> 00:07:20.470\nthey can reuse their old password again.\n\n146\n00:07:20.470 --> 00:07:22.480\nGo through all that work just for\none thing.\n\n147\n00:07:22.480 --> 00:07:25.880\nIt's like are you seriously calling\nme about something this minute?\n\n148\n00:07:25.880 --> 00:07:29.820\nAnd then when we have actual security that\nwe're implementing for your own safety,\n\n149\n00:07:29.820 --> 00:07:32.740\nfor our company's safety,\nyou're gonna try to bypass it.\n\n150\n00:07:32.740 --> 00:07:33.820\nIt's fun stuff.\n\n151\n00:07:33.820 --> 00:07:36.890\nSo good thing that we set\nthis to a good age, right?\n\n152\n00:07:36.890 --> 00:07:37.750\n>> Absolutely.\n\n153\n00:07:37.750 --> 00:07:41.650\nIt always amazes me that they complain\nabout having to use a long strong password\n\n154\n00:07:41.650 --> 00:07:45.780\nand then they're surprised when their\ncomputer gets attacked cuz they're using\n\n155\n00:07:45.780 --> 00:07:47.640\nblue for their password or\nsomething like that.\n\n156\n00:07:47.640 --> 00:07:50.390\nSo anyway, we just have to deal with that.\n\n157\n00:07:50.390 --> 00:07:52.330\nNext one down, minimum password length.\n\n158\n00:07:52.330 --> 00:07:53.820\nPretty straightforward one here.\n\n159\n00:07:53.820 --> 00:07:55.982\nThis is how long your password has to be.\n\n160\n00:07:55.982 --> 00:08:00.022\nThe default is only seven characters,\nwhich is really not very long.\n\n161\n00:08:00.022 --> 00:08:02.762\nIt should be eight or even more.\n\n162\n00:08:02.762 --> 00:08:05.931\nWe'll talk about password length.\n\n163\n00:08:05.931 --> 00:08:10.210\nThat's one of the things that I can\ndo to make a stronger password.\n\n164\n00:08:10.210 --> 00:08:14.020\nIf we think about how passwords\nare broken, a lot of times, they're done,\n\n165\n00:08:14.020 --> 00:08:17.420\nsometimes they're done through guessing\nwhere they just do password guessing.\n\n166\n00:08:17.420 --> 00:08:21.030\nIf I know Daniel and I know a lot of the\nthings he likes, maybe I start guessing\n\n167\n00:08:21.030 --> 00:08:25.170\nhis favorite movie characters, dog's name,\nanniversary, things like that.\n\n168\n00:08:25.170 --> 00:08:28.730\nSometimes they're done with dictionary\nattacks where I've got a list of words and\n\n169\n00:08:28.730 --> 00:08:30.470\nif Daniel's used any common words,\n\n170\n00:08:30.470 --> 00:08:33.900\nany words found in the dictionary,\nI could break his password that way.\n\n171\n00:08:33.900 --> 00:08:37.050\nBut more often than not passwords\nare broken with what we call brute force\n\n172\n00:08:37.050 --> 00:08:40.512\nattacks, because a password is\njust a combination of letters and\n\n173\n00:08:40.512 --> 00:08:43.090\nnumbers and possibly special characters.\n\n174\n00:08:43.090 --> 00:08:47.320\nAnd so if I try every possibility,\neventually I will get your password.\n\n175\n00:08:47.320 --> 00:08:48.810\nSo the idea is to have so\n\n176\n00:08:48.810 --> 00:08:52.490\nmany possibilities that it takes\nyou too long to crack my password.\n\n177\n00:08:52.490 --> 00:08:55.655\nAnd by the time you crack it,\nI've already changed it to something else.\n\n178\n00:08:55.655 --> 00:08:59.335\nOr you can't reasonably do it,\nby the time you crack my password, heck,\n\n179\n00:08:59.335 --> 00:09:00.385\nI don't even work there anymore.\n\n180\n00:09:00.385 --> 00:09:02.905\nIt's a hundred years later,\nI've passed away, blah, blah, blah or\n\n181\n00:09:02.905 --> 00:09:05.355\nwhat have you, things like that,\nthat's what we're trying to do.\n\n182\n00:09:05.355 --> 00:09:09.535\nSo stronger passwords, and length is a big\nthing we can do to increase the strength\n\n183\n00:09:09.535 --> 00:09:12.825\nof our password cuz every\ntime you add a character,\n\n184\n00:09:12.825 --> 00:09:17.300\nyou don't add one more possibility,\nit's an exponential curve.\n\n185\n00:09:17.300 --> 00:09:20.451\nThink about it this way,\nif our password was binary, all right,\n\n186\n00:09:20.451 --> 00:09:23.560\nin other words we could only use ones and\nzeroes in our password.\n\n187\n00:09:23.560 --> 00:09:28.850\nAnd I had a two character password,\nhow many possibilities could I have?\n\n188\n00:09:28.850 --> 00:09:33.843\n00, 01, 10, 11,\ntwo character binary password,\n\n189\n00:09:33.843 --> 00:09:38.270\n2 to the second is 4,\nthere's four possibilities.\n\n190\n00:09:38.270 --> 00:09:39.775\nIf I had one character,\n\n191\n00:09:39.775 --> 00:09:44.230\nnow I've got three characters I used\nthat same formula 2 to the 3rd.\n\n192\n00:09:44.230 --> 00:09:46.400\n2 times 2 is 4, times 2 is 8.\n\n193\n00:09:46.400 --> 00:09:49.440\nSo I went from four\npossibilities to eight.\n\n194\n00:09:49.440 --> 00:09:53.447\nAdd one more, 2 times 2 is 4,\ntimes 2 is 8 times 2 is 16, and\n\n195\n00:09:53.447 --> 00:09:56.570\nI went from eight\npossibilities to sixteen.\n\n196\n00:09:56.570 --> 00:10:00.220\nSo every character that I'm adding is\nincreasing the number of possibilities\n\n197\n00:10:00.220 --> 00:10:00.810\nexponentially.\n\n198\n00:10:00.810 --> 00:10:05.223\nIt's what we call an exponential curve\nwhere it starts out kind of slow and\n\n199\n00:10:05.223 --> 00:10:09.150\nthen it increases in its growth\nthere as we move over to the right.\n\n200\n00:10:09.150 --> 00:10:13.650\nSame thing with our passwords, if we're\nusing letters, there's what 26 possible.\n\n201\n00:10:13.650 --> 00:10:16.280\nLet's just say we were just\nusing lowercase letters.\n\n202\n00:10:16.280 --> 00:10:17.950\nThere's 26 possibilities, so\n\n203\n00:10:17.950 --> 00:10:21.750\nif you're using a seven character\npassword It would be 2 to the 26th.\n\n204\n00:10:23.310 --> 00:10:27.550\nI'm sorry, it would be 26 to the 7th.\n\n205\n00:10:27.550 --> 00:10:31.650\nIf I use an eight character password,\nit's 26 to the 8th.\n\n206\n00:10:31.650 --> 00:10:32.980\nThat's a big difference.\n\n207\n00:10:32.980 --> 00:10:37.850\nSo, every character you add,\nadds a lot of possibilities.\n\n208\n00:10:37.850 --> 00:10:41.017\nSo if you go from eight character\npasswords to a nine character password,\n\n209\n00:10:41.017 --> 00:10:43.740\nyou're doing a lot to increase\nthe strength of that password.\n\n210\n00:10:43.740 --> 00:10:46.540\n>> Yeah Mike, if I'm remembering\ncorrectly, there's even an Excel\n\n211\n00:10:46.540 --> 00:10:49.860\nspreadsheet that's out there on the\nInternet that you can take a look at and\n\n212\n00:10:49.860 --> 00:10:53.160\nreally proves the concept\nof a longer password equals\n\n213\n00:10:53.160 --> 00:10:54.390\na stronger password really.\n\n214\n00:10:54.390 --> 00:10:57.690\nThe lengthier you can make it,\nthe more difficult it is to crack.\n\n215\n00:10:57.690 --> 00:11:01.690\nEven if you have a shorter\npassword with more characters and\n\n216\n00:11:01.690 --> 00:11:03.440\nusing different sets of characters and\n\n217\n00:11:03.440 --> 00:11:07.160\nthings, it's still usually not as\nstrong as just a really long password.\n\n218\n00:11:07.160 --> 00:11:10.490\n>> Well and I would agree with you and\nsort of disagree with you.\n\n219\n00:11:10.490 --> 00:11:15.570\nThey both really do play an importance\nbecause when I'm changing the length,\n\n220\n00:11:15.570 --> 00:11:17.660\nI'm changing that exponent in the formula.\n\n221\n00:11:17.660 --> 00:11:23.790\n26 possibilities times 7 or if it's an\neight character password, 26 to the 8th.\n\n222\n00:11:23.790 --> 00:11:25.360\nSo I'm changing the exponent.\n\n223\n00:11:25.360 --> 00:11:27.680\nWhen you change\nthe character sets involved,\n\n224\n00:11:27.680 --> 00:11:29.060\nyou're changing that base number.\n\n225\n00:11:29.060 --> 00:11:32.993\nThere are 26 letters, but\nif I say 26 letters uppercase and\n\n226\n00:11:32.993 --> 00:11:36.920\nlowercase, now I'm talking\nabout 52 possible characters.\n\n227\n00:11:36.920 --> 00:11:39.110\nSo it's 52 to the 7th, right?\n\n228\n00:11:39.110 --> 00:11:42.781\nIf I add special characters,\nthere's another 32 and\n\n229\n00:11:42.781 --> 00:11:46.070\nthere, numbers is another\n10 possibilities.\n\n230\n00:11:46.070 --> 00:11:48.820\nSo all of a sudden I'm like 96 to the 7th.\n\n231\n00:11:48.820 --> 00:11:54.100\nSo if you're just using lowercase letters,\nthen it's 26 to the 7th.\n\n232\n00:11:54.100 --> 00:11:58.184\nIf you're using lower-case, upper-case,\nnumbers, and special characters,\n\n233\n00:11:58.184 --> 00:12:00.070\nit's like 92 to the 7th.\n\n234\n00:12:00.070 --> 00:12:01.320\nSo I didn't change the length, but\n\n235\n00:12:01.320 --> 00:12:04.840\nI changed the characters that\nwere available per character.\n\n236\n00:12:04.840 --> 00:12:08.580\nAnd you can see 26 to\nthe 7th versus 92 to the 7th,\n\n237\n00:12:08.580 --> 00:12:10.460\nbig difference in that\nnumber there as well.\n\n238\n00:12:10.460 --> 00:12:14.240\nSo they both really do add to\nthe strength of that password.\n\n239\n00:12:14.240 --> 00:12:16.410\n>> So it's length and complexity.\n\n240\n00:12:16.410 --> 00:12:17.902\n>> You gotta have-\n>> Put them together and\n\n241\n00:12:17.902 --> 00:12:22.164\nyou've got passwords that any hacker worth\nhis salt is gonna go onto the next lower\n\n242\n00:12:22.164 --> 00:12:23.479\npiece of hanging fruit.\n\n243\n00:12:23.479 --> 00:12:27.258\n>> Absolutely, if you go and you get one\nlike Mandilion Apps has that brute force\n\n244\n00:12:27.258 --> 00:12:31.154\nattack estimator, I know Microsoft has\none and I'm sure there are a few more and\n\n245\n00:12:31.154 --> 00:12:32.900\njust plug in some numbers.\n\n246\n00:12:32.900 --> 00:12:37.500\nTry creating a password that's just\nletters and then create the same\n\n247\n00:12:37.500 --> 00:12:41.120\nlength password and add some special\ncharacters and things like that in there.\n\n248\n00:12:41.120 --> 00:12:43.700\nAnd you'll see that the strength\nof the password goes up.\n\n249\n00:12:43.700 --> 00:12:45.410\nMake that password longer and\n\n250\n00:12:45.410 --> 00:12:48.090\nyou'll see that the strength\nof that password goes up.\n\n251\n00:12:48.090 --> 00:12:51.060\nAnd it's all about\nthe number of possibilities.\n\n252\n00:12:51.060 --> 00:12:55.650\nCuz as a brute force attack, I've gotta\ngo through every possible combination.\n\n253\n00:12:55.650 --> 00:12:59.670\nWell, if you tell me there's\n10,000 combinations,\n\n254\n00:12:59.670 --> 00:13:02.200\nI can do that in a few\nminutes on any computer.\n\n255\n00:13:02.200 --> 00:13:05.530\nIf you tell me there's 10\nmillion possible combinations,\n\n256\n00:13:05.530 --> 00:13:09.100\nthat's gonna take me a lot longer to try\nto go through all the possibilities.\n\n257\n00:13:09.100 --> 00:13:12.880\nStill not the end all,\nbecause if I'm doing a brute force,\n\n258\n00:13:12.880 --> 00:13:15.390\nI'm just trying every\npossible combination.\n\n259\n00:13:15.390 --> 00:13:17.090\nI might get yours on the second try.\n\n260\n00:13:17.090 --> 00:13:20.820\nI might get lucky, but\nwe try not to think about that part.\n\n261\n00:13:20.820 --> 00:13:25.390\nWe just think the longer and more complex,\nthe stronger that password's gonna be.\n\n262\n00:13:26.940 --> 00:13:28.560\nAnd that's what that next setting was,\n\n263\n00:13:28.560 --> 00:13:32.030\nas a matter of fact we talked about\nminimum password length, seven characters,\n\n264\n00:13:32.030 --> 00:13:34.090\npassword must meet\ncomplexity requirements.\n\n265\n00:13:34.090 --> 00:13:36.760\nThat's enabled by default in Windows, and\n\n266\n00:13:36.760 --> 00:13:38.850\nwhat that means is there's\nfour character sets.\n\n267\n00:13:38.850 --> 00:13:44.060\nThere's uppercase letters, lowercase\nletters, numbers, and special characters.\n\n268\n00:13:44.060 --> 00:13:46.250\nAnd when complexity is turned on,\n\n269\n00:13:46.250 --> 00:13:50.250\nthen your password has to contain\nthree of the four character sets.\n\n270\n00:13:50.250 --> 00:13:54.010\nDoesn't matter which three, you can make\na combination of uppercase, lowercase, and\n\n271\n00:13:54.010 --> 00:13:57.340\nnumbers, or lowercase and\nnumbers and special characters.\n\n272\n00:13:57.340 --> 00:14:00.890\nAs long as three of the four character\nsets are represented in your password,\n\n273\n00:14:00.890 --> 00:14:04.060\nyour password is considered complex.\n\n274\n00:14:04.060 --> 00:14:07.830\nAnd then the last one is store\npasswords using reversible encryption,\n\n275\n00:14:07.830 --> 00:14:10.260\nand that one's disabled by default.\n\n276\n00:14:10.260 --> 00:14:13.660\nNormally a password is\nstored as a hash value.\n\n277\n00:14:13.660 --> 00:14:17.060\nYour password that you set is\nrun through a hashing algorithm,\n\n278\n00:14:17.060 --> 00:14:21.250\ngenerates a hash value, and\nthat gets stored in the account database.\n\n279\n00:14:21.250 --> 00:14:23.730\nAnd those hash values are unreversible.\n\n280\n00:14:23.730 --> 00:14:28.870\nYou can't reverse a hash value to\nget the original value back out and\n\n281\n00:14:28.870 --> 00:14:30.610\nthat's a good thing,\nthat's the way we want it.\n\n282\n00:14:30.610 --> 00:14:33.530\nIf somebody gets ahold of my hash value,\n\n283\n00:14:33.530 --> 00:14:36.760\nthey can't try to reverse the encryption\nand figure out what my password is.\n\n284\n00:14:36.760 --> 00:14:39.980\nThere's other attacks they can do against\nthat, rainbow tables and things like that,\n\n285\n00:14:39.980 --> 00:14:42.300\nbut we're not gonna get into that now.\n\n286\n00:14:42.300 --> 00:14:47.120\nSome older authentication protocols\nlike CHAP, challenge handshake\n\n287\n00:14:47.120 --> 00:14:52.220\nauthentication protocol, it requires that\nthe system that's doing the authentication\n\n288\n00:14:52.220 --> 00:14:56.310\nknows what your password is,\nthe unencrypted version of your password.\n\n289\n00:14:56.310 --> 00:14:58.360\nSo when I store in that account database,\n\n290\n00:14:58.360 --> 00:15:01.610\nit has to be able to reverse it to\nget your original password out.\n\n291\n00:15:01.610 --> 00:15:05.390\nSo if you're using CHAP as\nyour authentication method,\n\n292\n00:15:05.390 --> 00:15:09.010\nit can compare what you type with\nwhat it knows your password is and\n\n293\n00:15:09.010 --> 00:15:10.680\nthat's a bet we don't\nwant to turn that on.\n\n294\n00:15:10.680 --> 00:15:14.470\nIf you have to support some\nolder system that uses CHAP,\n\n295\n00:15:14.470 --> 00:15:16.030\nthen you're going to have to enable this.\n\n296\n00:15:16.030 --> 00:15:20.800\nThat is going to reduce the security of\nyour account so just keep that in mind.\n\n297\n00:15:20.800 --> 00:15:24.100\nI'd rather see you move from CHAP to\nsome other authentication method than\n\n298\n00:15:24.100 --> 00:15:27.940\nto reduce the security on your account\ndatabase to support something like that.\n\n299\n00:15:28.990 --> 00:15:32.660\nSo lots of possibilities there those\nare my account password policies.\n\n300\n00:15:32.660 --> 00:15:35.308\nAny one of these, if I wanna change it,\nI just double-click on it.\n\n301\n00:15:35.308 --> 00:15:40.420\nIf I wanna change the, now this guy is in\na domain, so all these are grayed out.\n\n302\n00:15:40.420 --> 00:15:42.310\nIt's not going to let me change it.\n\n303\n00:15:42.310 --> 00:15:43.950\nBut if I was in a normal workgroup,\n\n304\n00:15:43.950 --> 00:15:48.480\nany one of these I would just double-click\non and I would change that value.\n\n305\n00:15:48.480 --> 00:15:50.940\nBut that does bring me to our next point.\n\n306\n00:15:50.940 --> 00:15:53.573\nWe've gotta talk about\nmanaging passwords and\n\n307\n00:15:53.573 --> 00:15:56.081\npassword policies in a domain environment.\n\n308\n00:15:56.081 --> 00:15:58.440\nAnd when a computer is part of a domain,\n\n309\n00:15:58.440 --> 00:16:01.455\nThen it's retrieving\npolicies from the domain.\n\n310\n00:16:01.455 --> 00:16:04.882\nThe domain is deciding what\nthose security policies are and\n\n311\n00:16:04.882 --> 00:16:08.150\nits applying them to\nthe computers on my network.\n\n312\n00:16:08.150 --> 00:16:12.880\nAnd those domain policies are gonna\noverride any local policies.\n\n313\n00:16:12.880 --> 00:16:14.260\nAnd that's a good thing right?\n\n314\n00:16:14.260 --> 00:16:17.750\nI don't want my user saying,\nyou know what I don't like using a 10\n\n315\n00:16:17.750 --> 00:16:19.990\ncharacter password and\nchanging it every 30 days.\n\n316\n00:16:19.990 --> 00:16:24.500\nI'm gonna set my local policy to where\nI can use a six character password and\n\n317\n00:16:24.500 --> 00:16:26.480\nnever have to change it at all, right?\n\n318\n00:16:26.480 --> 00:16:28.010\nThat would be a bad thing.\n\n319\n00:16:28.010 --> 00:16:30.990\nSo even if they are the administrator\nin a local machine and\n\n320\n00:16:30.990 --> 00:16:35.910\nthey can change their local policy,\nthe domain policy will always trump that.\n\n321\n00:16:35.910 --> 00:16:38.840\nIt will always override that,\nright, which is why, you see,\n\n322\n00:16:38.840 --> 00:16:40.670\nI can't change things here.\n\n323\n00:16:40.670 --> 00:16:44.000\nLocal policy applies to\neverybody on that machine,\n\n324\n00:16:44.000 --> 00:16:47.770\nall the local users on that machine.\n\n325\n00:16:47.770 --> 00:16:51.620\nIf it's in a domain,\nthe domain policy takes priority and\n\n326\n00:16:51.620 --> 00:16:54.250\nthe domain policy applies to\neverybody on that machine.\n\n327\n00:16:54.250 --> 00:16:58.140\nWhether they're logging you in with the\ndomain account or a local account, right?\n\n328\n00:16:58.140 --> 00:17:02.480\nIf that machine is part of the domain and\nyou log on with your domain account,\n\n329\n00:17:02.480 --> 00:17:04.820\nyou're gonna have to follow\nthe domain password policies.\n\n330\n00:17:04.820 --> 00:17:07.760\nIf you think, haha I'm gonna log\non with my local account and\n\n331\n00:17:07.760 --> 00:17:10.580\nI can use a different password\npolicy there, you're wrong.\n\n332\n00:17:10.580 --> 00:17:11.820\nIt will not let you.\n\n333\n00:17:11.820 --> 00:17:16.960\nIt applies to all policies or\nall user accounts, domain and local.\n\n334\n00:17:16.960 --> 00:17:20.740\nAnd let's go take a look at those\nsettings over there in our domain.\n\n335\n00:17:20.740 --> 00:17:23.700\nSo I'm gonna go flip over\nto my domain controller.\n\n336\n00:17:23.700 --> 00:17:27.140\nAnd I'm going to open up active\ndirectory users and computers.\n\n337\n00:17:27.140 --> 00:17:28.880\nThat's not really what I want.\n\n338\n00:17:28.880 --> 00:17:30.620\nWe're going to open up\nGroup Policy Management.\n\n339\n00:17:30.620 --> 00:17:33.731\nThat would be a better place\nto go to look for this.\n\n340\n00:17:33.731 --> 00:17:36.850\nAnd I'm going to modify my\ndefault domain policy here.\n\n341\n00:17:36.850 --> 00:17:38.620\nSo I'm going to expand my way down.\n\n342\n00:17:38.620 --> 00:17:44.900\nNow using Group Policy,\nI can only set the password policy once.\n\n343\n00:17:44.900 --> 00:17:45.520\nAll right.\n\n344\n00:17:45.520 --> 00:17:49.770\nIn other words, I cannot create one\npolicy that says 10 character password,\n\n345\n00:17:49.770 --> 00:17:54.410\nchange it every 30 days and create\na second group policy object that says,\n\n346\n00:17:54.410 --> 00:17:59.220\nyou know, use an 8 character password and\nchange it every 45 days.\n\n347\n00:17:59.220 --> 00:18:03.429\nIt can only have one policy that specifies\nwhat your password policy settings are and\n\n348\n00:18:03.429 --> 00:18:06.800\nMicrosoft will tell you to use\nthe default domain policy.\n\n349\n00:18:06.800 --> 00:18:10.390\nAnd that's because it's linked to the\ndomain itself, it applies to everybody in\n\n350\n00:18:10.390 --> 00:18:14.480\nthe domain, and it's almost always\nthe first one when it comes to precedence.\n\n351\n00:18:14.480 --> 00:18:17.930\nIt's linked there initially when\nwe set up Active Directory so\n\n352\n00:18:17.930 --> 00:18:21.200\nwe always just leave it at the top of\nthe list, it has the highest precedence.\n\n353\n00:18:21.200 --> 00:18:24.775\nAnd then if you try to set password\npolicies anywhere else, it will ignore it.\n\n354\n00:18:24.775 --> 00:18:28.200\nIt won't pay attention to that, all right?\n\n355\n00:18:28.200 --> 00:18:29.250\nSo let me show you the settings.\n\n356\n00:18:29.250 --> 00:18:31.985\nThe settings are actually\nexactly the same.\n\n357\n00:18:31.985 --> 00:18:35.915\nIf I expand out the computer\nconfiguration policies, Windows Settings.\n\n358\n00:18:38.005 --> 00:18:39.235\nAnd wait for it.\n\n359\n00:18:39.235 --> 00:18:44.190\nAnd then get into my Security Settings and\nthen my Account Policies.\n\n360\n00:18:44.190 --> 00:18:46.510\nHere we'll see my Password Policies.\n\n361\n00:18:46.510 --> 00:18:50.980\nSame exact settings and\nnow I can double-click on these guys and\n\n362\n00:18:50.980 --> 00:18:52.870\nI can make changes to those settings.\n\n363\n00:18:52.870 --> 00:18:57.050\nSo if I want them to change their\npassword every 30 days, I can do that.\n\n364\n00:18:57.050 --> 00:19:00.400\nI just come in there, double click on it,\nset it and we're good to go.\n\n365\n00:19:00.400 --> 00:19:03.710\nBut the policies themselves are the same.\n\n366\n00:19:03.710 --> 00:19:06.350\nNow, if you think about what I just said,\n\n367\n00:19:06.350 --> 00:19:09.622\nI can only set my password settings\nin one place in group policy.\n\n368\n00:19:09.622 --> 00:19:14.120\nThat means, everybody in my domain\nhas to follow the same policy and\n\n369\n00:19:14.120 --> 00:19:15.850\nthat is a little bit of a predicament.\n\n370\n00:19:15.850 --> 00:19:16.490\nRight?\n\n371\n00:19:16.490 --> 00:19:21.200\nI need my domain admins, anybody that\nhas certain rights on the network,\n\n372\n00:19:21.200 --> 00:19:24.380\nthose administrator accounts,\nDNS admins, things like that.\n\n373\n00:19:24.380 --> 00:19:28.010\nSales managers, anybody that has\na lot of access on my network,\n\n374\n00:19:28.010 --> 00:19:30.920\nI really wanna make sure they're\nusing a good, strong password.\n\n375\n00:19:30.920 --> 00:19:34.360\nI'd like them to be using you know,\n8-10 character passwords and\n\n376\n00:19:34.360 --> 00:19:36.120\nchanging it every 30 days.\n\n377\n00:19:36.120 --> 00:19:39.910\nNow for the rest of my users\nthat have normal user access,\n\n378\n00:19:39.910 --> 00:19:42.597\nmaybe I'm okay with them\nusing a 7 character password,\n\n379\n00:19:42.597 --> 00:19:45.810\n8 character password and\nchanging it every 45 days.\n\n380\n00:19:45.810 --> 00:19:46.650\nWell, I can't do that,\n\n381\n00:19:46.650 --> 00:19:51.210\nI have to find the happy medium which\nmeans I'm compromising security.\n\n382\n00:19:51.210 --> 00:19:54.345\nCuz if I make my password policy\ntoo strong, Mike why don't you just\n\n383\n00:19:54.345 --> 00:19:57.040\nset it to everybody has to use\n10 character passwords and\n\n384\n00:19:57.040 --> 00:19:59.440\nthey've got to change it every 25 days.\n\n385\n00:19:59.440 --> 00:20:02.680\nWell because most of my end users\nare gonna end up writing it down.\n\n386\n00:20:02.680 --> 00:20:03.230\nRight?\n>> Mm.\n\n387\n00:20:03.230 --> 00:20:05.050\nBecause that's too much for\n\n388\n00:20:05.050 --> 00:20:08.060\nthem to remember, they've got\nenough passwords to deal with, and\n\n389\n00:20:08.060 --> 00:20:09.850\nthey're just gonna end up writing it down.\n\n390\n00:20:09.850 --> 00:20:13.610\nSo I'm actually reducing security\nby trying to enforce a really,\n\n391\n00:20:13.610 --> 00:20:16.300\nreally strong policy on everybody.\n\n392\n00:20:16.300 --> 00:20:19.860\nSo we'll drop it down a little bit and\ntry to satisfy both, right?\n\n393\n00:20:19.860 --> 00:20:22.970\nWe'll try to find a policy that says,\nall right, it's strong enough for\n\n394\n00:20:22.970 --> 00:20:29.010\nmy domain admins but still easy enough for\nmy everyday end users to comply with.\n\n395\n00:20:29.010 --> 00:20:31.120\nMicrosoft said, you know what,\nwe're gonna help you out with that.\n\n396\n00:20:31.120 --> 00:20:32.120\nWe're gonna fix this so\n\n397\n00:20:32.120 --> 00:20:36.060\nthat you don't have to compromise\nyour security like that.\n\n398\n00:20:36.060 --> 00:20:38.440\nSo we still have our\npassword settings here.\n\n399\n00:20:38.440 --> 00:20:40.030\nIn our group policy object.\n\n400\n00:20:40.030 --> 00:20:42.070\nIt applies to everybody in the domain.\n\n401\n00:20:42.070 --> 00:20:45.160\nSo what we typically do,\nis this is where we set\n\n402\n00:20:45.160 --> 00:20:49.150\nour standard policy that we want our\ndomain users and everybody to apply.\n\n403\n00:20:49.150 --> 00:20:50.130\nSo let's change this up.\n\n404\n00:20:50.130 --> 00:20:54.280\nLet's say we're okay with them\nchanging their password every 45 days.\n\n405\n00:20:54.280 --> 00:20:57.040\nI do want to make them use\nan 8 character password,\n\n406\n00:20:57.040 --> 00:21:01.350\nmaybe I'll remember the last\n24 passwords there.\n\n407\n00:21:01.350 --> 00:21:03.060\nEverything else looks good.\n\n408\n00:21:03.060 --> 00:21:06.500\nSo, this setting is going\nto apply to everybody.\n\n409\n00:21:06.500 --> 00:21:11.140\nNow what I can do, is I can go back in and\nI can create something called\n\n410\n00:21:11.140 --> 00:21:15.480\na password setting object, this is what\nMicrosoft uses to get around the fact that\n\n411\n00:21:15.480 --> 00:21:20.350\nI can have only one password policy\nas far as my group policy objects go.\n\n412\n00:21:20.350 --> 00:21:21.700\nAs not done through group policy,\n\n413\n00:21:21.700 --> 00:21:26.010\nit's not a group policy I can only\nhave one password policy in here.\n\n414\n00:21:26.010 --> 00:21:28.060\nSo if I close out of\nGroup Policy Management,\n\n415\n00:21:28.060 --> 00:21:31.570\nI'm actually gonna go and open up the\nActive Directory Administrative Center.\n\n416\n00:21:33.397 --> 00:21:37.558\nAnd in here,\nI'll be able to create something known as\n\n417\n00:21:37.558 --> 00:21:41.640\na Password Setting Object or\na PSO for short.\n\n418\n00:21:41.640 --> 00:21:43.539\nI'm gonna navigate my way into my domain.\n\n419\n00:21:45.210 --> 00:21:46.360\nAnd then into system.\n\n420\n00:21:48.640 --> 00:21:49.700\nAnd then I'm going to go down to,\n\n421\n00:21:49.700 --> 00:21:52.860\nthere's a container called\nPassword Settings Container.\n\n422\n00:21:52.860 --> 00:21:54.660\nAnd I'm going to right-click on this and\n\n423\n00:21:54.660 --> 00:21:58.540\nchoose new password setting object or\npassword setting in this case.\n\n424\n00:22:00.250 --> 00:22:01.960\nIt's going to launch a little wizard, and\n\n425\n00:22:01.960 --> 00:22:04.070\nthese settings are going\nto look real familiar.\n\n426\n00:22:04.070 --> 00:22:05.040\nI'm going to give it a name.\n\n427\n00:22:05.040 --> 00:22:07.850\nI'm going to call this my Admins policy or\n\n428\n00:22:07.850 --> 00:22:13.280\nI'll call it my domain Admins policy.\n\n429\n00:22:13.280 --> 00:22:16.880\nPrecedence, PSOs can be linked to groups.\n\n430\n00:22:16.880 --> 00:22:20.250\nThey can be linked to\nglobal security groups.\n\n431\n00:22:20.250 --> 00:22:23.680\nThey can also be linked to\nindividual user accounts.\n\n432\n00:22:23.680 --> 00:22:27.710\nIf I belong to a group that\nhas a PSO linked to it, and\n\n433\n00:22:27.710 --> 00:22:30.890\nI also have a PS,\nwell let me start that over.\n\n434\n00:22:30.890 --> 00:22:33.200\nLet's say I belong to two\ndifferent groups, right?\n\n435\n00:22:33.200 --> 00:22:37.040\nAnd group A has PSO one linked to it.\n\n436\n00:22:37.040 --> 00:22:39.950\nGroup B has PSO two linked to it.\n\n437\n00:22:39.950 --> 00:22:42.570\nThese are password setting\nobjects that are gonna define\n\n438\n00:22:42.570 --> 00:22:44.130\nall those password settings.\n\n439\n00:22:44.130 --> 00:22:47.950\nIf I belong to both groups,\nwhich PSO applies to me?\n\n440\n00:22:47.950 --> 00:22:50.120\nPSO one or PSO two, I'm in both groups.\n\n441\n00:22:50.120 --> 00:22:52.360\nBoth groups have a PSO link to them.\n\n442\n00:22:52.360 --> 00:22:54.290\nThat's where the precedent\ncomes into play.\n\n443\n00:22:54.290 --> 00:22:57.690\nWhen I create these,\nI'm gonna assign a precedent number.\n\n444\n00:22:57.690 --> 00:23:00.970\nAnd the lower the number,\nthe higher the precedent.\n\n445\n00:23:00.970 --> 00:23:05.280\nSo if that group A with PSO one, and\nlet's say it's precedent was ten.\n\n446\n00:23:05.280 --> 00:23:09.660\nAnd then group B with PSO 2,\nits precedent was 20.\n\n447\n00:23:09.660 --> 00:23:14.440\nWell, both PSOs apply to me because\nI'm in both groups, but the PSO A,\n\n448\n00:23:14.440 --> 00:23:17.030\nthe first one with a precedence of ten.\n\n449\n00:23:17.030 --> 00:23:20.990\nThat one would take priority\nbecause it has a lower number.\n\n450\n00:23:20.990 --> 00:23:22.590\nYou can do any numbers you want.\n\n451\n00:23:22.590 --> 00:23:23.690\nYou can do 10, 20, 30.\n\n452\n00:23:23.690 --> 00:23:25.520\nYou can do one, two, three, four, five.\n\n453\n00:23:25.520 --> 00:23:27.350\nI always use big numbers, 10, 20, 30.\n\n454\n00:23:27.350 --> 00:23:31.020\nThat way in the future if I need\nsomething to go in between 10 and 20,\n\n455\n00:23:31.020 --> 00:23:34.210\nI can set one with a precedence of 15 for\nexample.\n\n456\n00:23:34.210 --> 00:23:37.689\nNow you can also link PSOs directly to\nuser accounts, this is not recommended.\n\n457\n00:23:38.700 --> 00:23:42.300\nMicrosoft always says link things\nto groups, and then just add and\n\n458\n00:23:42.300 --> 00:23:46.050\nremove users from the groups to\nhave those settings apply, right?\n\n459\n00:23:46.050 --> 00:23:50.384\nBut, if you needed to, you could link\na PSO directly to a user account.\n\n460\n00:23:50.384 --> 00:23:55.116\nIf you do that, that user linked\nPSO automatically overrides\n\n461\n00:23:55.116 --> 00:23:59.125\nany group link PSOs regardless\nof their precedent.\n\n462\n00:23:59.125 --> 00:23:59.880\nAll right?\n\n463\n00:23:59.880 --> 00:24:05.059\nSo user lined PSOs automatically\noverride Group linked PSOs.\n\n464\n00:24:05.059 --> 00:24:08.574\nIf there's more than one PSO linked\ndirectly to the user account,\n\n465\n00:24:08.574 --> 00:24:11.208\nthen we have to go back to the precedents,\nright,\n\n466\n00:24:11.208 --> 00:24:14.440\nwhichever PSO has the lower\nnumber has a higher precedence.\n\n467\n00:24:15.850 --> 00:24:17.300\nThen the settings themselves are the same.\n\n468\n00:24:17.300 --> 00:24:21.560\nFor my domain admins, I want them to\nuse a ten character password, and\n\n469\n00:24:21.560 --> 00:24:26.340\nI want them to, I'm going to remember\nthe last 30 passwords that they've used,\n\n470\n00:24:26.340 --> 00:24:32.190\ndoes have to be complexity, minimum\npassword age one, maximum password age,\n\n471\n00:24:32.190 --> 00:24:36.540\nlet's set that to I don't know,\nwhat should we do for those guys, Daniel?\n\n472\n00:24:36.540 --> 00:24:38.846\nTwenty five,\nsomething a little lower, yeah,\n\n473\n00:24:38.846 --> 00:24:41.230\nlet's make them change\nthat a little more often.\n\n474\n00:24:41.230 --> 00:24:43.910\nAnd we'll we reset those settings, and\n\n475\n00:24:43.910 --> 00:24:48.940\nthen down at the bottom,\ndirectly applies to, I click add,\n\n476\n00:24:48.940 --> 00:24:53.870\nI find my domain admins group,\nand I click OK.\n\n477\n00:24:55.390 --> 00:24:59.303\nAnd now, I've got a PSO that's linked\nto that global security group for\n\n478\n00:24:59.303 --> 00:25:00.343\nmy domain admins.\n\n479\n00:25:00.343 --> 00:25:03.811\nSo even though the domain policy says you\ncan use a seven character password, and\n\n480\n00:25:03.811 --> 00:25:06.925\nchange every 45 days, or\neight characters, whatever, set that to.\n\n481\n00:25:06.925 --> 00:25:11.126\nIf you're in the domain admin's group,\nthat PSO is going to take precedence, and\n\n482\n00:25:11.126 --> 00:25:13.946\nyou're going to have to use\na ten character password and\n\n483\n00:25:13.946 --> 00:25:15.820\nchange it every 25 days.\n\n484\n00:25:15.820 --> 00:25:18.634\nSo with the advent of the PSOs,\nand that's not brand new,\n\n485\n00:25:18.634 --> 00:25:20.536\nthat was actually in 2008 as well.\n\n486\n00:25:20.536 --> 00:25:24.936\nThat gives me the ability to have those\nmultiple password policies in effect.\n\n487\n00:25:24.936 --> 00:25:26.549\nRemember, it's not a group policy.\n\n488\n00:25:26.549 --> 00:25:28.917\nAll right?\nDon't think it's a second GPO, right?\n\n489\n00:25:28.917 --> 00:25:32.230\nWe did that completely outside\nof group policy management.\n\n490\n00:25:32.230 --> 00:25:34.870\nI still have one place I\ncan set password settings\n\n491\n00:25:34.870 --> 00:25:36.580\nas far as group policy is concerned.\n\n492\n00:25:36.580 --> 00:25:40.150\nBut this gives me another place to do it\nthat works together with group policy and\n\n493\n00:25:40.150 --> 00:25:42.490\nboth policies are in\nplace at the same time.\n\n494\n00:25:42.490 --> 00:25:45.720\nAnd thanks to Microsoft for\ndoing that because in the past,\n\n495\n00:25:45.720 --> 00:25:49.460\nif I wanted my R&D department to\nuse a really strong password, but\n\n496\n00:25:49.460 --> 00:25:53.770\neverybody else to use a normal password,\nI had to create a separate domain.\n\n497\n00:25:53.770 --> 00:25:56.900\nBecause there was only\none policy per domain.\n\n498\n00:25:56.900 --> 00:25:58.735\nSo that makes it a whole lot easier.\n\n499\n00:25:58.735 --> 00:26:02.347\n>> Yeah, it's never fun trying to\nadministrate more than any of the domains\n\n500\n00:26:02.347 --> 00:26:03.696\nthan you actually need to.\n\n501\n00:26:03.696 --> 00:26:06.134\nBecause that becomes\nan administrative nightmare.\n\n502\n00:26:06.134 --> 00:26:10.116\nThe PSOs,\nthat just made life a whole lot easier.\n\n503\n00:26:10.116 --> 00:26:14.652\nNow another thing we've done, or I've done\nin the past in a corporate environment,\n\n504\n00:26:14.652 --> 00:26:19.196\nis we've just created two accounts, one\nwith domain users, one with normal users.\n\n505\n00:26:19.196 --> 00:26:22.651\nNormally I would run as a standard user,\nbut anytime I needed\n\n506\n00:26:22.651 --> 00:26:26.988\nto do an administrative task, I would\nlog in as my administrative account,\n\n507\n00:26:26.988 --> 00:26:29.224\nthat helps the little bit of security,\n\n508\n00:26:29.224 --> 00:26:32.860\nkeeps that security footprint\ndown on me as an administrator.\n\n509\n00:26:32.860 --> 00:26:35.590\nI'm not doing everything\nas a domain admin.\n\n510\n00:26:35.590 --> 00:26:38.060\nI'm doing most jobs as just a normal user,\n\n511\n00:26:38.060 --> 00:26:42.380\nmaybe something else, whatever my settings\nmay be and then only when I need it,\n\n512\n00:26:42.380 --> 00:26:47.280\nI'll jump into that domain admin's role\nby logging into that system that way.\n\n513\n00:26:47.280 --> 00:26:54.406\nBut setting a good password on that domain\nadmin's user account, that is crucial.\n\n514\n00:26:54.406 --> 00:26:55.242\nGotta have that.\n\n515\n00:26:55.242 --> 00:26:56.642\n>> Gotta have it.\n\n516\n00:26:56.642 --> 00:26:58.940\nAll right, a couple more\nthings I want to go over here.\n\n517\n00:26:58.940 --> 00:27:02.563\nThey also call out the account lockout\nsettings on our exam objectives.\n\n518\n00:27:02.563 --> 00:27:04.223\nAnd so I'm going to head right\nback into the same place.\n\n519\n00:27:04.223 --> 00:27:06.845\nI'm going to edit that\ndefault domain policy.\n\n520\n00:27:06.845 --> 00:27:10.828\nExpand out policies, Windows settings,\nand then security settings.\n\n521\n00:27:14.868 --> 00:27:15.830\nOops.\n\n522\n00:27:15.830 --> 00:27:17.130\nA little mis-click there.\n\n523\n00:27:18.690 --> 00:27:21.530\nAll right, and in here, same place,\nI'm going to go to the account policies.\n\n524\n00:27:21.530 --> 00:27:25.940\nThere where my password policies, right\nbelow there's my account lockout policies.\n\n525\n00:27:25.940 --> 00:27:28.860\nAnd this controls what\nhappens when somebody's\n\n526\n00:27:28.860 --> 00:27:30.800\ntrying to guess passwords basically.\n\n527\n00:27:30.800 --> 00:27:36.479\nIf you type the wrong password too many\ntimes I can have the account locked out.\n\n528\n00:27:36.479 --> 00:27:38.011\nNow by default it's not turned on.\n\n529\n00:27:38.011 --> 00:27:40.179\nYou'll see this middle setting here,\n\n530\n00:27:40.179 --> 00:27:43.740\naccount lockout threshold\nzero invalid logon attempts.\n\n531\n00:27:43.740 --> 00:27:46.760\nThat means I can guess your\npassword all day long,\n\n532\n00:27:46.760 --> 00:27:50.260\nit's never going to lock the account out,\nit doesn't care.\n\n533\n00:27:50.260 --> 00:27:53.500\nThe other two are not defined\nbecause they don't make any sense.\n\n534\n00:27:53.500 --> 00:27:56.640\nIf this is set to zero, then the other\ntwo settings are not important and\n\n535\n00:27:56.640 --> 00:27:58.620\nI'll come back to those\nsettings in just a second.\n\n536\n00:27:58.620 --> 00:28:01.570\nSo I'm gonna go ahead and\nset this account lock out threshold\n\n537\n00:28:01.570 --> 00:28:03.520\nI'm gonna say look if you\nguessed the password,\n\n538\n00:28:03.520 --> 00:28:07.140\nif you typed the password incorrect\nfive times, I'm gonna lock the account.\n\n539\n00:28:07.140 --> 00:28:08.810\nNow first thing, well and\n\n540\n00:28:08.810 --> 00:28:12.350\nbefore I say that, the other two\nare now gonna default to 30 minutes.\n\n541\n00:28:12.350 --> 00:28:16.250\nWhich we can change, we're not stuck with\nthat, but as soon as I turn this one on,\n\n542\n00:28:16.250 --> 00:28:19.670\nthe account lockout threshold,\nthe other two also get turned on and\n\n543\n00:28:19.670 --> 00:28:20.710\ndefault to 30 minutes.\n\n544\n00:28:20.710 --> 00:28:24.550\nThe first thing I want to say\nis be careful with that policy.\n\n545\n00:28:24.550 --> 00:28:27.310\nSome places,\nthey try to go a little extreme with that.\n\n546\n00:28:27.310 --> 00:28:29.350\nThey'll set that to two or three.\n\n547\n00:28:29.350 --> 00:28:32.820\nAnd I will tell you that what's going to\nhappen is your help desk is going to spend\n\n548\n00:28:32.820 --> 00:28:36.930\nmore time resetting passwords and\nunlocking accounts than anything else.\n\n549\n00:28:36.930 --> 00:28:37.660\nAll right.\n\n550\n00:28:37.660 --> 00:28:40.940\nThe idea here is not to be\na burden to the end user.\n\n551\n00:28:40.940 --> 00:28:43.940\nIt's to prevent the bad guy\nfrom doing password guessing.\n\n552\n00:28:43.940 --> 00:28:45.951\nRight?\nHave you guys ever mis-typed your password\n\n553\n00:28:45.951 --> 00:28:47.291\nwhen you went to login to a system?\n\n554\n00:28:47.291 --> 00:28:49.113\nWell that's strike one.\n\n555\n00:28:49.113 --> 00:28:50.877\nOne more time and\nyou're account's locked out.\n\n556\n00:28:50.877 --> 00:28:51.457\nI mean goodness.\n\n557\n00:28:51.457 --> 00:28:53.630\nWhat if you changed your\npassword Friday afternoon,\n\n558\n00:28:53.630 --> 00:28:56.973\na little message pops up on your screen\nsay hey it's time to change your password.\n\n559\n00:28:56.973 --> 00:28:58.691\nYou go all right I'll go ahead and\nchange it.\n\n560\n00:28:58.691 --> 00:28:59.329\nI log out.\n\n561\n00:28:59.329 --> 00:29:00.468\nI go home.\n\n562\n00:29:00.468 --> 00:29:04.118\nI come back Monday morning, log in, and\nsure enough I use my old password, right,\n\n563\n00:29:04.118 --> 00:29:06.273\nbecause I've been using that one for\n30 days.\n\n564\n00:29:06.273 --> 00:29:07.712\nThere's strike one.\n\n565\n00:29:07.712 --> 00:29:09.895\nNow I go what did I set that\nto on Friday afternoon?\n\n566\n00:29:09.895 --> 00:29:12.147\nI haven't used it since I set it.\n\n567\n00:29:12.147 --> 00:29:13.075\nI think it was this.\n\n568\n00:29:13.075 --> 00:29:14.596\nOh, there's strike two.\n\n569\n00:29:14.596 --> 00:29:16.697\nOne more time and\nyour account's done, right?\n\n570\n00:29:16.697 --> 00:29:18.740\nThat's not what we're trying to do.\n\n571\n00:29:18.740 --> 00:29:21.780\nWe're just trying to prevent the bad\nguy from guessing your password.\n\n572\n00:29:21.780 --> 00:29:25.400\nAnd what are the odds of him guessing\nyour password in the first five attempts?\n\n573\n00:29:25.400 --> 00:29:26.770\nNot that great, right?\n\n574\n00:29:26.770 --> 00:29:30.045\nBut the odds of you mistyping your\npassword five times in a row that's\n\n575\n00:29:30.045 --> 00:29:30.787\npretty great.\n\n576\n00:29:30.787 --> 00:29:31.902\nSo find that balance.\n\n577\n00:29:31.902 --> 00:29:33.806\nNow I know some environments\nlike military bases.\n\n578\n00:29:33.806 --> 00:29:35.855\nYeah, they've got it set to three, and\n\n579\n00:29:35.855 --> 00:29:38.705\nthat's because they're very high security,\nright?\n\n580\n00:29:38.705 --> 00:29:42.061\nBut in most corporate environments,\nreally no need to go that low.\n\n581\n00:29:42.061 --> 00:29:46.265\nYou're not actually making your network\nthat much more secure by doing that,\n\n582\n00:29:46.265 --> 00:29:49.966\nyou're just creating more work, so\npick a number that makes sense.\n\n583\n00:29:49.966 --> 00:29:51.778\n>> Make it so\nsecure even you can't get in.\n\n584\n00:29:51.778 --> 00:29:54.710\n>> [LAUGH] Yeah,\nbecause everything counts.\n\n585\n00:29:54.710 --> 00:29:59.600\nLike if you wake up your screensaver and\nyou mistype your password, that counts.\n\n586\n00:29:59.600 --> 00:30:03.165\nIf you've got a mapped network drive\nthat's automatically connecting, and you\n\n587\n00:30:03.165 --> 00:30:06.984\nchange your password on one device, but it\nhasn't gone to your other device, and it's\n\n588\n00:30:06.984 --> 00:30:10.517\ntrying to connect to that network drive,\nthat counts as a failed logon attempt.\n\n589\n00:30:10.517 --> 00:30:14.093\nAll these things add up, and you'll\nsee locked accounts all over the place\n\n590\n00:30:14.093 --> 00:30:15.870\nif you try to set that to two or three.\n\n591\n00:30:15.870 --> 00:30:17.716\n>> Dealt with my fair\nshare of those bad boys.\n\n592\n00:30:17.716 --> 00:30:19.816\nCan definitely get\na little hanky in there.\n\n593\n00:30:19.816 --> 00:30:23.248\nCuz like Mike said, what if you've got\na saved password and now the password is\n\n594\n00:30:23.248 --> 00:30:26.680\nchanged and it didn't update the password\nin your saved password whatever and\n\n595\n00:30:26.680 --> 00:30:29.228\nit's still cranking away trying\nto put that password in,\n\n596\n00:30:29.228 --> 00:30:31.055\nit's locking people out left and right.\n\n597\n00:30:31.055 --> 00:30:33.238\nYou unlock them, they're re-locked.\n\n598\n00:30:33.238 --> 00:30:35.339\nThey call two minutes later,\nI'm locked out again!\n\n599\n00:30:35.339 --> 00:30:38.080\nSo you gotta be real careful\nwith that lock out policy.\n\n600\n00:30:38.080 --> 00:30:38.975\n>> Absolutely.\n\n601\n00:30:38.975 --> 00:30:43.561\nNow the other two real quick, once you\nset the account lock out threshold.\n\n602\n00:30:43.561 --> 00:30:45.231\nI've got the account lockout duration.\n\n603\n00:30:45.231 --> 00:30:48.634\nHow long is the account going\nto be locked once I do lock it?\n\n604\n00:30:48.634 --> 00:30:50.540\nIt defaults to 30 minutes.\n\n605\n00:30:50.540 --> 00:30:53.110\nSo that means after 30 minutes\nI can guess five more times.\n\n606\n00:30:53.110 --> 00:30:56.670\nIf it locks again, I have to wait 30\nminutes and then I can try again.\n\n607\n00:30:56.670 --> 00:31:00.130\nI can set that to any time I want,\nI can also set it to indefinite.\n\n608\n00:31:00.130 --> 00:31:04.090\nMaybe I want them to have to go to an\nadministrator to get the account unlocked\n\n609\n00:31:04.090 --> 00:31:05.330\nif it does become locked,\n\n610\n00:31:05.330 --> 00:31:08.220\nbecause what if they're not the ones\nthat are mistyping the password?\n\n611\n00:31:08.220 --> 00:31:11.140\nWhat if a bad guy is doing guessing?\n\n612\n00:31:11.140 --> 00:31:13.360\nThey come to me and they say,\nmy account's locked.\n\n613\n00:31:13.360 --> 00:31:14.510\nI need to get it unlocked.\n\n614\n00:31:14.510 --> 00:31:16.190\nWell, did you mistype your password?\n\n615\n00:31:16.190 --> 00:31:18.140\nNo, I just got here at 9 o'clock.\n\n616\n00:31:18.140 --> 00:31:19.024\nI look at the log files,\n\n617\n00:31:19.024 --> 00:31:22.330\nI see that all these attempts were done\nat 3 o'clock in the morning, right?\n\n618\n00:31:22.330 --> 00:31:25.602\nBut, if they were able to just wait for\nit to reset, and try it again, and\n\n619\n00:31:25.602 --> 00:31:29.414\ntype their password in correctly, I might\nnot realize that those password attempts\n\n620\n00:31:29.414 --> 00:31:31.367\nwere occurring in the middle of the night.\n\n621\n00:31:31.367 --> 00:31:34.188\nSo, you can set that for\nany time, or indefinite.\n\n622\n00:31:34.188 --> 00:31:38.980\nYou can also reset the account lockout\ncounter, also defaults to 30 minutes.\n\n623\n00:31:38.980 --> 00:31:46.150\nOnce the lockout counters, how long\nit remembers your failed attempts.\n\n624\n00:31:46.150 --> 00:31:50.860\nLet's say at 8 o'clock in the morning\nI come in and I mistype my password.\n\n625\n00:31:50.860 --> 00:31:53.990\nThat's strike one, and then I remember\nmy password, I type it in again, and\n\n626\n00:31:53.990 --> 00:31:55.030\nwe're good to go.\n\n627\n00:31:55.030 --> 00:31:59.218\nThen I come back from lunch and I mistype\nmy password again, is that strike two,\n\n628\n00:31:59.218 --> 00:32:00.419\nor is that strike one?\n\n629\n00:32:00.419 --> 00:32:03.662\nWell by default it only remembers my\nfailed attempts for 30 minutes, so\n\n630\n00:32:03.662 --> 00:32:05.458\nthe one after lunch would be strike one.\n\n631\n00:32:05.458 --> 00:32:09.270\nIt's already forgot about\nthis morning's error.\n\n632\n00:32:09.270 --> 00:32:12.985\nIf I set that to eight hours then the one\nafter lunch would be strike two, right?\n\n633\n00:32:12.985 --> 00:32:16.695\nBecause it remembers the one from this\nmorning and now the one from after lunch.\n\n634\n00:32:16.695 --> 00:32:20.775\nSo that's how long it remembers\nyour failed attempts.\n\n635\n00:32:20.775 --> 00:32:23.892\nAnd then last but not least is gonna\nbe my Kerberos policy settings.\n\n636\n00:32:23.892 --> 00:32:27.543\nAnd I'll tell you, honestly,\nin the 12 years that I've been doing this,\n\n637\n00:32:27.543 --> 00:32:29.744\ntwice maybe, I think, I've changed these.\n\n638\n00:32:29.744 --> 00:32:32.345\nWe were talking about that earlier,\nDaniel.\n\n639\n00:32:32.345 --> 00:32:37.788\nNone of these have I ever\nhad to change in 12 years.\n\n640\n00:32:37.788 --> 00:32:39.809\nThese are the default settings.\n\n641\n00:32:39.809 --> 00:32:43.810\nThey control your Kerberos ticket\nthat you're getting when you log in.\n\n642\n00:32:43.810 --> 00:32:45.410\nHow long is it good for?\n\n643\n00:32:45.410 --> 00:32:47.400\nHow long can you renew it for?\n\n644\n00:32:47.400 --> 00:32:48.500\nThings like that.\n\n645\n00:32:48.500 --> 00:32:52.080\nI remember we've talked in other\nshows about time synchronization and\n\n646\n00:32:52.080 --> 00:32:53.230\nhow important it is.\n\n647\n00:32:53.230 --> 00:32:56.840\nIf your clock is off by more than five\nminutes from the domain controller,\n\n648\n00:32:56.840 --> 00:32:58.260\nyou won't be able to log in.\n\n649\n00:32:58.260 --> 00:32:59.140\nThis is why.\n\n650\n00:32:59.140 --> 00:33:00.370\nBecause it says tolerance for\n\n651\n00:33:00.370 --> 00:33:03.610\ncomputer clock synchronization\nfive minutes, all right?\n\n652\n00:33:03.610 --> 00:33:06.860\nSo if you ever need to change, you\nmight have an application that requires\n\n653\n00:33:06.860 --> 00:33:10.040\na setting in here to be configured\ndifferently than the default.\n\n654\n00:33:10.040 --> 00:33:11.895\nI'll tell you, I've never run into one.\n\n655\n00:33:11.895 --> 00:33:13.996\n>> Yeah,\nI can't think of any reason either.\n\n656\n00:33:13.996 --> 00:33:17.251\nMaybe if you're running some sort\nof network access control and\n\n657\n00:33:17.251 --> 00:33:20.267\nit's using Kerberos could be there,\nbut other than that,\n\n658\n00:33:20.267 --> 00:33:22.332\nI've never had any call to do it myself.\n\n659\n00:33:22.332 --> 00:33:26.592\nWell Mike, have we covered all\nthe topics for today's show?\n\n660\n00:33:26.592 --> 00:33:27.452\n>> I think we do.\n\n661\n00:33:27.452 --> 00:33:31.263\nThat pretty much covers all of the\nsettings that we have available to work\n\n662\n00:33:31.263 --> 00:33:35.322\nwith our accounts and to make sure that\nour users and everybody is using good,\n\n663\n00:33:35.322 --> 00:33:39.960\nstrong, long passwords, changing them\nfrequently, keeping our network safe.\n\n664\n00:33:39.960 --> 00:33:43.890\n>> Yeah, hopefully you guys are learning\nthe importance of good strong passwords\n\n665\n00:33:43.890 --> 00:33:46.920\nand you're going to implement those\npolicies as they should be done.\n\n666\n00:33:46.920 --> 00:33:48.769\nBest practices,\nthat's what we're all about.\n\n667\n00:33:48.769 --> 00:33:51.857\nAll right, that being said we're gonna\ngo ahead and sign off for ITProTV.\n\n668\n00:33:51.857 --> 00:33:53.377\nI've been your host, Daniel Lowry.\n\n669\n00:33:53.377 --> 00:33:54.296\n>> And I'm Mike Roderick.\n\n670\n00:33:54.296 --> 00:33:55.352\n>> And we'll see you next time.\n\n671\n00:33:55.352 --> 00:34:01.430\n[MUSIC]\n\n",
          "vimeoId": "137598726"
        }
      ],
      "title": "Configure and manage Active Directory"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Mike and Daniel describe the Group Policy Processing order and precedences which will help you figure out how to properly configure and deploy your group policies. They also explain and configure inheritance blocking and policy enforcement.",
          "length": "1762",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-19-1-group-policy_processing-090315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-19-1-group-policy_processing-090315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-19-1-group-policy_processing-090315-1-sm.jpg",
          "title": "Group Policy Processing",
          "transcript": "WEBVTT\n\n1\n00:00:00.053 --> 00:00:10.253\n[MUSIC]\n\n2\n00:00:10.253 --> 00:00:12.283\nAll right, greetings, everyone, and\n\n3\n00:00:12.283 --> 00:00:14.800\nwelcome to another exciting\nepisode of ITProTV.\n\n4\n00:00:14.800 --> 00:00:16.480\nI'm your host, Daniel Lowrie.\n\n5\n00:00:16.480 --> 00:00:18.680\nHere with me today,\nnone other than Mike Rodrick.\n\n6\n00:00:18.680 --> 00:00:19.890\nHow's it going today, Mikey?\n\n7\n00:00:19.890 --> 00:00:20.930\n>> It's going great, Daniel.\n\n8\n00:00:20.930 --> 00:00:25.200\nWe've got another exciting episode,\nas you said, lined up for you, with 7411.\n\n9\n00:00:25.200 --> 00:00:27.378\nAnd, in this one, we're gonna be\ntalking about something different.\n\n10\n00:00:27.378 --> 00:00:28.261\nGroup policy.\n\n11\n00:00:28.261 --> 00:00:30.780\n[LAUGH] Something we haven't covered yet,\nright?\n\n12\n00:00:30.780 --> 00:00:31.340\n>> No, no.\n\n13\n00:00:31.340 --> 00:00:32.331\nWell, wait a minute.\n\n14\n00:00:32.331 --> 00:00:35.778\nThere's a few shows on group\npolicy we've done so far.\n\n15\n00:00:35.778 --> 00:00:38.180\n[LAUGH] And\nyou're thinking what more could we learn?\n\n16\n00:00:38.180 --> 00:00:39.930\nWell, there's plenty more.\n\n17\n00:00:39.930 --> 00:00:41.140\nPlenty, plenty more.\n\n18\n00:00:41.140 --> 00:00:45.340\nMike, we've got I say plenty,\nI can't stress that enough.\n\n19\n00:00:45.340 --> 00:00:48.740\nGroup policy is a very,\nvery lengthy and large topic.\n\n20\n00:00:48.740 --> 00:00:52.050\n>> It is, or rather it can be complex,\nI don't know if I want to say complex.\n\n21\n00:00:52.050 --> 00:00:54.990\nThere's just a lot to it, and\nthere's a lot we've got to understand and\n\n22\n00:00:54.990 --> 00:00:56.500\nthey are going to call it out on the exam.\n\n23\n00:00:56.500 --> 00:00:59.160\nYou might not get some direct questions,\n\n24\n00:00:59.160 --> 00:01:02.600\nsome of these topics they might not come\nin and ask you a question directly on it.\n\n25\n00:01:02.600 --> 00:01:06.286\nBut if you don't understand the way group\npolicy works, the way they combine,\n\n26\n00:01:06.286 --> 00:01:09.476\nthe way these settings work,\nthings like result and set up policy and\n\n27\n00:01:09.476 --> 00:01:10.370\nthings like that.\n\n28\n00:01:10.370 --> 00:01:13.925\nYou won't be able to get the question\nright, because they're gonna give you some\n\n29\n00:01:13.925 --> 00:01:17.340\nkind of scenario and you've gotta figure\nout what the heck should be going on.\n\n30\n00:01:17.340 --> 00:01:21.800\nOr they're gonna tell you, you need to\nset it up so that this is the end result.\n\n31\n00:01:21.800 --> 00:01:23.260\nHow do you go about doing that?\n\n32\n00:01:23.260 --> 00:01:26.220\nAnd if you don't understand your result\ninstead of policy, if you don't understand\n\n33\n00:01:26.220 --> 00:01:29.930\nthe processing order of GPOs, you won't\nbe able to get that question right.\n\n34\n00:01:29.930 --> 00:01:34.190\nSo I spend a little more time on group\npolicy cuz I think it's an important topic\n\n35\n00:01:34.190 --> 00:01:36.640\nfor the exam, as well as when you\nget out there in the real world.\n\n36\n00:01:36.640 --> 00:01:38.660\nI mean, group policy is fantastic.\n\n37\n00:01:38.660 --> 00:01:42.130\nIt's what we do our centralized\nadministration of our machines with.\n\n38\n00:01:42.130 --> 00:01:45.570\nIt makes our life a whole lot\neasier as administrators.\n\n39\n00:01:45.570 --> 00:01:48.290\nBut if you get it wrong it can\ncause all kinds of problems and\n\n40\n00:01:48.290 --> 00:01:50.400\nwill make things very\ndifficult to troubleshoot.\n\n41\n00:01:50.400 --> 00:01:53.020\nSo we've gotta have a good,\nthorough understanding.\n\n42\n00:01:53.020 --> 00:01:55.390\nAnd so far we've seen a lot of the pieces.\n\n43\n00:01:55.390 --> 00:01:56.840\nIn previous episodes, we.\n\n44\n00:01:56.840 --> 00:02:00.330\nI mean we've done quite a few\nepisodes on group policy already, but\n\n45\n00:02:00.330 --> 00:02:03.860\nwe've kinda been breaking down some of\nthe pieces like the individual settings,\n\n46\n00:02:03.860 --> 00:02:06.810\nthe preferences, and\nsome things like that.\n\n47\n00:02:06.810 --> 00:02:13.720\nNow we want to look at group policy more\nas a service or the way it actually get\n\n48\n00:02:13.720 --> 00:02:19.420\nimplemented and enforced in out network\nenvironment, we've gotta understand that.\n\n49\n00:02:19.420 --> 00:02:22.520\nI guess the first thing we\nreally want to talk about,\n\n50\n00:02:22.520 --> 00:02:24.950\nthen, is the way we apply group policy.\n\n51\n00:02:26.040 --> 00:02:26.860\nLet me go over here.\n\n52\n00:02:26.860 --> 00:02:28.640\nI've got my domain controller pulled up,\nand\n\n53\n00:02:28.640 --> 00:02:32.600\nI'm just gonna open up,\nlet's start with Group Policy Management.\n\n54\n00:02:34.070 --> 00:02:38.670\nHere's my Group Policy Management console,\nand I've got an OU structure here.\n\n55\n00:02:38.670 --> 00:02:42.350\nWe could see,\nI've got like a client computers OU and\n\n56\n00:02:42.350 --> 00:02:45.690\nthen inside there's my GNV,\nmy different locations.\n\n57\n00:02:45.690 --> 00:02:49.440\nUnderneath that I've got different\ntypes of laptops that we have here and\n\n58\n00:02:49.440 --> 00:02:52.390\nI've got an employees OU and\nthen resting within\n\n59\n00:02:52.390 --> 00:02:55.000\nthat are some different departments\nhere that we might have.\n\n60\n00:02:55.000 --> 00:02:59.520\nSo just kind of a plus\nsample OU structure and\n\n61\n00:02:59.520 --> 00:03:02.590\nwhen we go to apply group policy,\nMicrosoft is gonna call it.\n\n62\n00:03:02.590 --> 00:03:06.870\nScoping a policy,\nS-C-O-P-E, scope a policy.\n\n63\n00:03:06.870 --> 00:03:10.930\nAnd what that really means, is you're\ndeciding who the policy applies to.\n\n64\n00:03:10.930 --> 00:03:12.890\nWho should it affect, right?\n\n65\n00:03:12.890 --> 00:03:15.440\nSometimes we want to\napply it to everybody.\n\n66\n00:03:15.440 --> 00:03:19.140\nSometimes we want it apply\nto just certain people.\n\n67\n00:03:19.140 --> 00:03:20.950\nWell, and not just people,\ncomputers as well.\n\n68\n00:03:20.950 --> 00:03:23.800\nRight, we might want to apply it\nto all machines on our network.\n\n69\n00:03:23.800 --> 00:03:25.840\nOr just our client computers, or\n\n70\n00:03:25.840 --> 00:03:29.990\njust the client computers that\nare in the development area, or\n\n71\n00:03:29.990 --> 00:03:33.380\njust the client computers in development\nthat are running Windows 8.1.\n\n72\n00:03:33.380 --> 00:03:37.610\nAll right, so we gotta decide,\nwho does this policy apply to.\n\n73\n00:03:37.610 --> 00:03:39.790\nAnd that's called scoping.\n\n74\n00:03:39.790 --> 00:03:42.250\nThen we've gotta know how\nto make that happen, right?\n\n75\n00:03:42.250 --> 00:03:46.730\nHow do we actually implement\nthat in our active directory?\n\n76\n00:03:46.730 --> 00:03:47.930\nSo let's take a look at that.\n\n77\n00:03:47.930 --> 00:03:51.290\nAnd basically to scope\na policy you link it.\n\n78\n00:03:51.290 --> 00:03:52.510\nYou link a policy.\n\n79\n00:03:52.510 --> 00:03:56.560\nFor example,\nup here at the domain itself, lab.net,\n\n80\n00:03:56.560 --> 00:04:02.570\nI've got two policies that\nare linked to the domain itself.\n\n81\n00:04:02.570 --> 00:04:05.510\nAnd you link it simply by clicking on the,\n\n82\n00:04:05.510 --> 00:04:08.310\nremember in the other episode we\nmentioned something called an SOM?\n\n83\n00:04:08.310 --> 00:04:11.050\nWhich meant site, OU, or domain.\n\n84\n00:04:11.050 --> 00:04:13.540\nThose are the places I can link a GPO.\n\n85\n00:04:13.540 --> 00:04:16.340\nI can link a GPO to the site, and\n\n86\n00:04:16.340 --> 00:04:20.110\nlet's refresh on what a site is in case\nyou haven't seen that episode yet.\n\n87\n00:04:20.110 --> 00:04:25.320\nA site is a, typically,\na physical representation of your network.\n\n88\n00:04:25.320 --> 00:04:30.980\nLike, I have one domain, itpro.tv, or\nwe'll use lab.net that I've got here.\n\n89\n00:04:30.980 --> 00:04:33.000\nSo I've got one domain, lab.net.\n\n90\n00:04:33.000 --> 00:04:35.250\nBut I've got an office\nhere in Gainesville, and\n\n91\n00:04:35.250 --> 00:04:38.860\nI've got an office in Jacksonville,\nboth part of the same domain, but\n\n92\n00:04:38.860 --> 00:04:40.630\ntwo different physical locations.\n\n93\n00:04:40.630 --> 00:04:43.250\nSo I might make Gainesville its own site,\nand\n\n94\n00:04:43.250 --> 00:04:46.770\nJacksonville its own site,\nwith an active directory.\n\n95\n00:04:46.770 --> 00:04:49.830\nAnd, check out that episode I'll talk\nabout all the great things that you can do\n\n96\n00:04:49.830 --> 00:04:55.710\nwith sites like localizing services and\nyou know making sure you're logging\n\n97\n00:04:55.710 --> 00:04:59.210\non with a domain controller that's in the\nsame location as you, things like that.\n\n98\n00:04:59.210 --> 00:05:03.230\nBut anyway you can apply group\npolicies at the site level.\n\n99\n00:05:03.230 --> 00:05:08.090\nWhat if I have a setting that I want to\napply to everybody in Gainesville right,\n\n100\n00:05:08.090 --> 00:05:10.320\nbut not anybody in Jacksonville?\n\n101\n00:05:10.320 --> 00:05:14.330\nWell I can do that by scoping\nthe policy to the Gainesville site.\n\n102\n00:05:14.330 --> 00:05:17.400\nAnd when you work with sites\nin group policy management,\n\n103\n00:05:17.400 --> 00:05:19.240\ndown here at the bottom is sites.\n\n104\n00:05:19.240 --> 00:05:22.810\nAnd if you go there you won't see anything\nby default, you do have to turn it on.\n\n105\n00:05:22.810 --> 00:05:27.530\nAnd you turn it on by right clicking\ndown here and choosing show sites.\n\n106\n00:05:27.530 --> 00:05:30.890\nAnd then you can pick, and I only have\none site in this little test lab.\n\n107\n00:05:30.890 --> 00:05:33.310\nI can choose that and click OK.\n\n108\n00:05:33.310 --> 00:05:37.100\nAnd now underneath sites I\nwill have my site listed and\n\n109\n00:05:37.100 --> 00:05:39.960\nI can right click on that and link a GPO.\n\n110\n00:05:39.960 --> 00:05:43.470\nAnd so\nit will apply to everybody in that site.\n\n111\n00:05:43.470 --> 00:05:48.270\nSo I can link GPOs to the site,\nI can also link GPOs to the domain itself.\n\n112\n00:05:48.270 --> 00:05:52.070\nAnd when we link GPOs,\nthey do inherit down.\n\n113\n00:05:52.070 --> 00:05:55.920\nSo if I link it to the domain itself,\nthen it would inherit\n\n114\n00:05:55.920 --> 00:06:00.930\ndown to all of the OUs and all of\nthe objects within the domain, right?\n\n115\n00:06:00.930 --> 00:06:06.840\nI can also link GPOs to an OU,\nan organizational unit, right?\n\n116\n00:06:06.840 --> 00:06:12.760\nAnd it would apply to anything that's in\nthat OU, as well as any nested OUs, right?\n\n117\n00:06:12.760 --> 00:06:17.870\nIt's gonna inherit down to the objects\nwithin those nested OUs as well.\n\n118\n00:06:17.870 --> 00:06:19.910\nSo we can link sites\nthree different places.\n\n119\n00:06:19.910 --> 00:06:22.500\nSite, domain, OU, all right?\n\n120\n00:06:22.500 --> 00:06:24.650\nAnd that's known as scoping.\n\n121\n00:06:24.650 --> 00:06:29.900\nNow, next thing we need to know is\nthe order that the policies are applied,\n\n122\n00:06:29.900 --> 00:06:33.750\nand this is extremely important because,\nwe can have several policies.\n\n123\n00:06:33.750 --> 00:06:37.200\nAs you can see here, I've got some\npolicies linked to the domain itself.\n\n124\n00:06:37.200 --> 00:06:40.650\nI've also got some policies\nlinked to these OUs down here.\n\n125\n00:06:40.650 --> 00:06:45.840\nAnd the order that they're applied is\ngoing to make a big difference in the end\n\n126\n00:06:45.840 --> 00:06:50.770\nresult of the settings that are going to\nbe seen by the computer or by the user.\n\n127\n00:06:50.770 --> 00:06:53.910\nAnd that's because when\na policy is applied,\n\n128\n00:06:53.910 --> 00:06:59.290\nit can override any settings from\npolicies that were applied previously.\n\n129\n00:06:59.290 --> 00:07:04.100\nIn other words, if I apply a policy and\nit sets your screen saver timeout to ten\n\n130\n00:07:04.100 --> 00:07:09.240\nminutes and it sets the screen\nsaver itself to star field, right?\n\n131\n00:07:09.240 --> 00:07:10.080\nAnd we apply that.\n\n132\n00:07:10.080 --> 00:07:12.560\nWell, now you've got ten minute\nscreen saver time out and\n\n133\n00:07:12.560 --> 00:07:14.150\nstar field screen saver.\n\n134\n00:07:14.150 --> 00:07:18.630\nBut, the very next policy says,\na 30 minute screen saver time out.\n\n135\n00:07:18.630 --> 00:07:23.570\nWell, because that policy is applied\nafter, that 30 minute screen saver time\n\n136\n00:07:23.570 --> 00:07:28.850\nout, override the 10 minute screen saver\ntime out, from the previous policy.\n\n137\n00:07:28.850 --> 00:07:31.980\nNow, the screen saver itself,\nstar field, won't be affected,\n\n138\n00:07:31.980 --> 00:07:36.150\nbecause that second policy didn't say\nanything about what screensaver to use.\n\n139\n00:07:36.150 --> 00:07:39.180\nSo when one policy\noverrides another policy,\n\n140\n00:07:40.450 --> 00:07:44.680\nonly the settings that conflict,\nnot the entire policy, all right?\n\n141\n00:07:44.680 --> 00:07:46.930\nSo when we look at it,\nit's a cumulative effect.\n\n142\n00:07:46.930 --> 00:07:49.058\nWhen we sign onto that computer,\n\n143\n00:07:49.058 --> 00:07:54.150\nthe settings that we're seeing are the\nresults of all of the policies applied,\n\n144\n00:07:54.150 --> 00:07:57.578\nlayered on top of each other\nin a very specific order.\n\n145\n00:07:57.578 --> 00:08:00.542\nAnd if I change the order that\nthe policies are applied,\n\n146\n00:08:00.542 --> 00:08:02.126\nthat changes the end result.\n\n147\n00:08:02.126 --> 00:08:06.192\nIf I took that policy that said, 30 minute\nscreensaver timeout, and I laid it down\n\n148\n00:08:06.192 --> 00:08:09.917\nfirst, and then laid down the one with\nthe 10 minute screensaver timeout,\n\n149\n00:08:09.917 --> 00:08:13.480\nwell now the ten minute screensaver\nis applied last and it would win.\n\n150\n00:08:13.480 --> 00:08:15.640\nAnd you'd end up with a ten\nminute screensaver timeout.\n\n151\n00:08:15.640 --> 00:08:19.150\nSo just rearranging the order of\nthose policies completely changed\n\n152\n00:08:19.150 --> 00:08:21.030\nthe end result, right?\n\n153\n00:08:21.030 --> 00:08:23.740\n>> So, Mike, it sounds like what you're\nsaying is what we wanna do is we wanna\n\n154\n00:08:23.740 --> 00:08:27.250\nstart with very generalized\nGroup Policies, and\n\n155\n00:08:27.250 --> 00:08:31.250\nthen as we work ourselves down to the OU\nlevel, we start to get more focused.\n\n156\n00:08:31.250 --> 00:08:34.980\nSo that all the policies that need\nto apply to everyone generally,\n\n157\n00:08:34.980 --> 00:08:38.240\nthey get applied, and\nthen as you work into your own separate\n\n158\n00:08:38.240 --> 00:08:41.940\norganizational units, then those\nspecific policies are gonna take over.\n\n159\n00:08:41.940 --> 00:08:44.620\nWhereas, if I'm in HR,\nMike's in management,\n\n160\n00:08:44.620 --> 00:08:48.800\nhe gets a different set of\nGroup Policies than I do, although we\n\n161\n00:08:48.800 --> 00:08:52.140\ngenerally get the same policies when\nit comes to certain other things.\n\n162\n00:08:52.140 --> 00:08:54.570\n>> That's exactly right, Daniel.\n\n163\n00:08:54.570 --> 00:08:58.160\nWhen you look at the policies at the\ndomain, those are settings that I want to\n\n164\n00:08:58.160 --> 00:09:01.930\napply to everybody, no matter what\ndepartment you work in, or all machines,\n\n165\n00:09:01.930 --> 00:09:05.180\nno matter what the operating system\nthey're running, or what have you.\n\n166\n00:09:05.180 --> 00:09:06.710\nAnd then as I get down into the OUs,\n\n167\n00:09:06.710 --> 00:09:09.440\nthat's where I can get a little\nmore specific, settings\n\n168\n00:09:09.440 --> 00:09:13.580\nthat apply only to that department or\nonly to those sets of computers, right?\n\n169\n00:09:13.580 --> 00:09:17.830\nIn fact, that's really one of the big\nreasons we create OUs in the first place,\n\n170\n00:09:17.830 --> 00:09:21.180\nis to support the application\nof Group Policy.\n\n171\n00:09:21.180 --> 00:09:24.808\nIf I didn't need to apply policies I\ncould put all the computers in one big\n\n172\n00:09:24.808 --> 00:09:25.472\nOU, right?\n\n173\n00:09:25.472 --> 00:09:26.846\nJust put them in there.\n\n174\n00:09:26.846 --> 00:09:31.800\nThe reason I might break them out is\nto facilitate Group Policy scoping and\n\n175\n00:09:31.800 --> 00:09:33.030\ndelegation of administration.\n\n176\n00:09:33.030 --> 00:09:35.840\nThose are the two reasons we\ncreate OUs in the first place.\n\n177\n00:09:35.840 --> 00:09:37.530\nSo you're exactly right there.\n\n178\n00:09:37.530 --> 00:09:42.260\n>> Hence the name, Organizational Unit,\n[LAUGH], we're organizing.\n\n179\n00:09:42.260 --> 00:09:45.925\n>> And I always tell people Microsoft\nwon't tell you, but I say there is a third\n\n180\n00:09:45.925 --> 00:09:49.146\nreason for creating OUs and\nit's like you say, just organizing.\n\n181\n00:09:49.146 --> 00:09:49.670\n>> Yeah.\n\n182\n00:09:49.670 --> 00:09:52.640\n>> Rather than having all my\ncomputers in one folder, right?\n\n183\n00:09:52.640 --> 00:09:54.220\n>> Right.\n>> I wanna see them broken down,\n\n184\n00:09:54.220 --> 00:09:56.720\nGainesville, Jacksonville, Tallahassee.\n\n185\n00:09:56.720 --> 00:10:00.390\nOr maybe you do it by department or\nwhatever your company chooses to do.\n\n186\n00:10:00.390 --> 00:10:02.160\n>> Helps us keep that logical flow.\n\n187\n00:10:02.160 --> 00:10:05.850\nAgain, it's all about keeping your head\nwrapped around what it is you're doing.\n\n188\n00:10:05.850 --> 00:10:09.430\nIt makes it a whole lot more difficult for\nyou to mess something up if you have\n\n189\n00:10:09.430 --> 00:10:14.020\na nice logical structure in place,\nand that applies to just working with\n\n190\n00:10:14.020 --> 00:10:19.960\nthe objects inside of an OU or when you're\ndeploying some sort of Group Policy.\n\n191\n00:10:19.960 --> 00:10:21.110\n>> Exactly.\n\n192\n00:10:21.110 --> 00:10:24.470\nAll right, so we understand\nnow about scoping a policy and\n\n193\n00:10:24.470 --> 00:10:28.120\nthat scoping it decides that's\nwhere we're linking it, and\n\n194\n00:10:28.120 --> 00:10:30.320\nthat's gonna decide who\nthe setting applies to.\n\n195\n00:10:30.320 --> 00:10:33.280\nIf I link it to the domain,\nwe're talking about everybody or\n\n196\n00:10:33.280 --> 00:10:34.390\nevery computer in the domain.\n\n197\n00:10:34.390 --> 00:10:39.000\nIf I link it to an OU it's just\nthe security principles within that OU and\n\n198\n00:10:39.000 --> 00:10:40.340\nany nested OUs, etc.\n\n199\n00:10:40.340 --> 00:10:43.360\nAnd remember, they do inherit down.\n\n200\n00:10:43.360 --> 00:10:46.510\nAll right, next I wanna make sure we\ngot the order correct, all right?\n\n201\n00:10:46.510 --> 00:10:50.360\nThe order policies are applied is local,\nand\n\n202\n00:10:50.360 --> 00:10:54.840\nthen site, and then domain,\nand then OU, all right.\n\n203\n00:10:54.840 --> 00:10:57.490\nNow, local, I haven't mentioned that\none yet, how do you scope a policy?\n\n204\n00:10:57.490 --> 00:10:58.220\nYou don't, right?\n\n205\n00:10:58.220 --> 00:11:02.510\nA local GPO is one that\nresides on the local machine.\n\n206\n00:11:02.510 --> 00:11:06.320\nEvery Windows machine has\na local Group Policy.\n\n207\n00:11:06.320 --> 00:11:10.600\nIn fact, now, starting with Windows Vista,\nyour client operating system,\n\n208\n00:11:10.600 --> 00:11:13.420\nthey have three, four local GPOs, right?\n\n209\n00:11:13.420 --> 00:11:16.440\nYou've got the local GPO,\nyou've got the admin only local GPO,\n\n210\n00:11:16.440 --> 00:11:19.480\nyou got the non-admin local GPO.\n\n211\n00:11:19.480 --> 00:11:22.573\nAnd then you could have\nuser-specific local GPOs, right?\n\n212\n00:11:22.573 --> 00:11:24.340\nThose are local to that machine.\n\n213\n00:11:24.340 --> 00:11:26.810\nWe don't use them that much\nin a domain environment,\n\n214\n00:11:26.810 --> 00:11:28.550\nbecause when I apply a change,\n\n215\n00:11:28.550 --> 00:11:33.680\nI'm typically trying to affect more\nthan one machine, or more than one user.\n\n216\n00:11:33.680 --> 00:11:37.770\nWhereas that local policy only\napplies to that one machine, or\n\n217\n00:11:37.770 --> 00:11:40.380\nto the users that are logging\non to that machine.\n\n218\n00:11:40.380 --> 00:11:43.000\nStill use them, all right, and\nthat's not to say that we don't.\n\n219\n00:11:44.210 --> 00:11:46.600\nMaybe I've got a one-off\nmachine in my domain,\n\n220\n00:11:46.600 --> 00:11:48.910\nI've got that kiosk out in my lobby,\nit's the only one.\n\n221\n00:11:48.910 --> 00:11:53.950\nWhen I apply settings to that one,\nthey only apply to that one machine.\n\n222\n00:11:53.950 --> 00:11:58.770\nIt might actually be easier to go to that\none machine and configure the local policy\n\n223\n00:11:58.770 --> 00:12:01.810\nwith those settings, rather than\ntry to figure out a way to make\n\n224\n00:12:01.810 --> 00:12:05.010\na Group Policy in Active Directory\nthat only apply to one machine, right?\n\n225\n00:12:05.010 --> 00:12:09.120\nThat's the power of Group Policy, and\nhere is that it applies to multiples.\n\n226\n00:12:09.120 --> 00:12:13.610\nTo filter it down to just a single machine\ncan sometimes be challenging, all right?\n\n227\n00:12:13.610 --> 00:12:16.580\nSo local policies get applied first.\n\n228\n00:12:16.580 --> 00:12:21.430\nThen it goes back and it looks at policies\nthat are applied at the domain level, or\n\n229\n00:12:21.430 --> 00:12:23.060\nlinked to the domain, itself.\n\n230\n00:12:23.060 --> 00:12:24.130\nI'm sorry, let me back that up.\n\n231\n00:12:24.130 --> 00:12:26.430\nI skipped right past sites.\n\n232\n00:12:26.430 --> 00:12:27.150\nGreat.\n\n233\n00:12:27.150 --> 00:12:28.840\nLocal site domain OUs.\n\n234\n00:12:28.840 --> 00:12:31.760\nNow let me make sure I get it right so\nyou guys can get it right.\n\n235\n00:12:31.760 --> 00:12:35.780\nLocal's go first, then policies\nthat are linked at the site level,\n\n236\n00:12:35.780 --> 00:12:39.180\nthose are gonna get applied second,\nall right?\n\n237\n00:12:39.180 --> 00:12:42.940\nThen policies that are linked to\nthe domain, itself, get applied.\n\n238\n00:12:42.940 --> 00:12:48.240\nAnd then policies that are linked or\nscoped to the OU get applied.\n\n239\n00:12:48.240 --> 00:12:51.912\nAnd then if there are any nested OUs,\nthere could be policies linked to those,\n\n240\n00:12:51.912 --> 00:12:55.862\nthey would get applied in that order\ngoing down through that nested hierarchy,\n\n241\n00:12:55.862 --> 00:12:56.600\nall right?\n\n242\n00:12:56.600 --> 00:13:00.950\nSo local, site, domain, OU, LSDO,\nis how you are gonna remember that.\n\n243\n00:13:00.950 --> 00:13:04.910\nCommit that to memory, local,\nsite, domain, OU, all right?\n\n244\n00:13:04.910 --> 00:13:08.520\nAnd it's good, we think about\nthe fact that locals go first,\n\n245\n00:13:08.520 --> 00:13:10.810\nyou might think, why do they go first?\n\n246\n00:13:10.810 --> 00:13:12.830\nBecause remember, you might think,\nwell, shouldn't they go last?\n\n247\n00:13:12.830 --> 00:13:14.440\nThey're the least important.\n\n248\n00:13:14.440 --> 00:13:15.930\nNo, remember how policy works,\n\n249\n00:13:15.930 --> 00:13:19.890\nwe're putting them down in layers and\nthe ones that are applied last\n\n250\n00:13:19.890 --> 00:13:24.090\nactually have the chance to override any\npolicies that were applied before it.\n\n251\n00:13:24.090 --> 00:13:27.620\nSo that means local policies can\nbe overwritten by site policies,\n\n252\n00:13:27.620 --> 00:13:31.720\ndomain policies, and\nOU linked policies, right?\n\n253\n00:13:31.720 --> 00:13:34.440\nThat means a user can't go and\nmake a setting, and\n\n254\n00:13:34.440 --> 00:13:37.590\nif they're an admin on their local\nmachine, they can't go to their\n\n255\n00:13:37.590 --> 00:13:42.480\nlocal policy, configure a setting and\nhave it override my domain settings.\n\n256\n00:13:42.480 --> 00:13:43.860\nBecause if they could do that,\n\n257\n00:13:43.860 --> 00:13:46.700\nif they didn't like something my company\nwas pushing out to their machine,\n\n258\n00:13:46.700 --> 00:13:49.210\nthey could just modify the local\npolicy and try to override it.\n\n259\n00:13:49.210 --> 00:13:50.870\nRight?\nThat wouldn't make sense.\n\n260\n00:13:50.870 --> 00:13:55.980\nSo local first, then site,\nthen domain, and then OU, right?\n\n261\n00:13:55.980 --> 00:14:01.520\nNow, that's great, that helps me remember\nas far as where they're scoped to,\n\n262\n00:14:01.520 --> 00:14:04.340\nthat helps me remember that order, LSDO.\n\n263\n00:14:04.340 --> 00:14:09.650\nBut what about when I have more than\none policy linked to the same location?\n\n264\n00:14:09.650 --> 00:14:12.440\nI can link more than\none policy to the site.\n\n265\n00:14:12.440 --> 00:14:14.880\nI can link more than one\npolicy to the domain.\n\n266\n00:14:14.880 --> 00:14:17.490\nI can link more than one policy to an OU.\n\n267\n00:14:17.490 --> 00:14:20.260\nSo LSDO says local,\nthen site, then domain, OU.\n\n268\n00:14:20.260 --> 00:14:23.080\nBut what about when you\nlook at the domain,\n\n269\n00:14:23.080 --> 00:14:26.760\nthere's four policies linked there,\nwhich one goes first?\n\n270\n00:14:26.760 --> 00:14:28.822\nAnd you might think, well, does it matter?\n\n271\n00:14:28.822 --> 00:14:32.340\nAbsolutely, right, cuz we keep saying\nthey're applied down in layers, and\n\n272\n00:14:32.340 --> 00:14:37.040\nthe order that they're applied\naffects the outcome, the end result.\n\n273\n00:14:37.040 --> 00:14:38.810\nSo you've gotta know the order they're in,\nand\n\n274\n00:14:38.810 --> 00:14:42.243\nyou need to be able to modify that order,\nall right?\n\n275\n00:14:42.243 --> 00:14:45.300\nAnd that is known as precedence,\nall right?\n\n276\n00:14:45.300 --> 00:14:48.430\nWhen we look at policies that\nare linked to the same location, or\n\n277\n00:14:48.430 --> 00:14:52.140\nscope to the same location, we're\ntalking about looking at the precedence.\n\n278\n00:14:52.140 --> 00:14:53.740\nAnd let's take a look at my screen here.\n\n279\n00:14:54.910 --> 00:15:01.520\nIf we go to the domain, itself, lab.net,\nI can look at the linked policies.\n\n280\n00:15:01.520 --> 00:15:04.320\nAnd there's the two that\nare linked to the domain, itself.\n\n281\n00:15:04.320 --> 00:15:09.310\nI've got my Default Domain Policy, and\nthen one called, Company Standards.\n\n282\n00:15:09.310 --> 00:15:13.480\nThe link order, the Default Domain Policy,\nis listed as number one, and\n\n283\n00:15:13.480 --> 00:15:18.050\nCompany Standards is listed\nthere as link number two.\n\n284\n00:15:18.050 --> 00:15:19.522\nThat's the order they were linked in.\n\n285\n00:15:19.522 --> 00:15:22.740\nThe Default Domain Policy was there\nwhen I installed Active Directory, and\n\n286\n00:15:22.740 --> 00:15:27.000\nthen I went and linked Company Standards,\nso it's listed as number two.\n\n287\n00:15:27.000 --> 00:15:31.480\nAnd the way these policies\napply is the lower the number,\n\n288\n00:15:31.480 --> 00:15:35.870\nthe higher the precedence, which means\nwe start with the highest number and\n\n289\n00:15:35.870 --> 00:15:37.210\nwe work our way down.\n\n290\n00:15:37.210 --> 00:15:38.960\nSo it's backwards, right?\n\n291\n00:15:38.960 --> 00:15:43.281\nThank you Microsoft for making this\na little more complex than it needs to be,\n\n292\n00:15:43.281 --> 00:15:47.401\nbut they do have a reason for that,\nbut number two gets applied first, and\n\n293\n00:15:47.401 --> 00:15:49.081\nthen number one, all right?\n\n294\n00:15:49.081 --> 00:15:51.871\nSo my Company Standards\nwe would apply first, and\n\n295\n00:15:51.871 --> 00:15:55.469\nthen my Default Domain Policy\nwould get applied second, here.\n\n296\n00:15:55.469 --> 00:15:59.185\nNow, if I want to change that That's what\nthese handy dandy little arrows over\n\n297\n00:15:59.185 --> 00:15:59.873\nhere are for.\n\n298\n00:15:59.873 --> 00:16:04.300\nI can take that default domain policy,\nand I can bump it down.\n\n299\n00:16:04.300 --> 00:16:07.930\nAnd now the default domain\npolicy's applied first, and\n\n300\n00:16:07.930 --> 00:16:11.200\nthen company standards is\ngonna be applied, all right.\n\n301\n00:16:11.200 --> 00:16:14.050\nLower the number,\nthe higher the precedent.\n\n302\n00:16:14.050 --> 00:16:14.670\nAll right?\n\n303\n00:16:14.670 --> 00:16:15.880\nNow, some of these books you read,\n\n304\n00:16:15.880 --> 00:16:18.820\nthey'll tell you that it's\napplied from the bottom up.\n\n305\n00:16:18.820 --> 00:16:20.790\nWhich makes sense when I'm\nlooking at it this way.\n\n306\n00:16:20.790 --> 00:16:22.830\nBut what if I sort it by name, you know?\n\n307\n00:16:22.830 --> 00:16:25.400\nOr what if I sort it by something else?\n\n308\n00:16:25.400 --> 00:16:27.000\nI can rearrange that order, right?\n\n309\n00:16:27.000 --> 00:16:30.440\nSo don't just assume that it's always\ngoing to be bottom up, all right?\n\n310\n00:16:30.440 --> 00:16:33.060\nI'm gonna take a look at that link order,\nand I'm gonna go ahead and\n\n311\n00:16:33.060 --> 00:16:36.440\nswitch that back to my default there.\n\n312\n00:16:36.440 --> 00:16:38.173\nDid I do that?\n\n313\n00:16:38.173 --> 00:16:40.400\n[COUGH] Excuse me.\n\n314\n00:16:40.400 --> 00:16:41.990\nThere, oops.\n\n315\n00:16:41.990 --> 00:16:43.440\nDid I do?\n\n316\n00:16:43.440 --> 00:16:45.250\nSo now what do I got,\ndefault domain policy.\n\n317\n00:16:45.250 --> 00:16:46.600\nI want that as number one actually.\n\n318\n00:16:46.600 --> 00:16:47.920\nThere we go.\n\n319\n00:16:47.920 --> 00:16:49.902\nOh, I've got it sorted that's why.\n\n320\n00:16:49.902 --> 00:16:52.620\nAll right, so there we go back\nto our default configuration.\n\n321\n00:16:52.620 --> 00:16:54.720\nSo the same thing would happen at an OU.\n\n322\n00:16:54.720 --> 00:16:59.750\nIf I have more than one policy linked to\nan OU, well then I can come up here and\n\n323\n00:16:59.750 --> 00:17:04.730\nI can click on that OU and I can look at\nthe linked group policy objects tab and\n\n324\n00:17:04.730 --> 00:17:07.190\nI can see the order that\nthose were linked in.\n\n325\n00:17:07.190 --> 00:17:10.230\nAnd I can rearrange that\norder if I need to.\n\n326\n00:17:10.230 --> 00:17:15.040\nSo that's known as my precedents,\nall right?\n\n327\n00:17:15.040 --> 00:17:19.720\nYou can only change the precedent where\nthe policies are linked at, all right.\n\n328\n00:17:19.720 --> 00:17:24.270\nFor example, when we look at\nthe employee's OU, I only see two GPOs.\n\n329\n00:17:24.270 --> 00:17:26.850\nBecause there's two\nGPOs linked to this OU.\n\n330\n00:17:26.850 --> 00:17:30.750\nBut if I go to the group\npolicy inheritance tab,\n\n331\n00:17:30.750 --> 00:17:33.480\nI'll see there's more than\none policy being applied.\n\n332\n00:17:33.480 --> 00:17:36.210\nThe other two are actually\nlinked up at the domain.\n\n333\n00:17:36.210 --> 00:17:41.020\nAnd they're inheriting down to\nthat employee's OU, all right.\n\n334\n00:17:41.020 --> 00:17:44.808\nAnd I can change the precedent here for\nthese two.\n\n335\n00:17:44.808 --> 00:17:47.350\nBut I can' change precedent here.\n\n336\n00:17:47.350 --> 00:17:52.030\nI can't change the order of say, company\nstandards and default the main policy.\n\n337\n00:17:52.030 --> 00:17:54.209\nI would have to go to\nwhere they're linked.\n\n338\n00:17:55.360 --> 00:18:01.650\nChange it here and then that change would\nbe apparent when I come back down here.\n\n339\n00:18:01.650 --> 00:18:04.250\nYou can see those two guys have\nswitched her out, all right.\n\n340\n00:18:04.250 --> 00:18:07.730\nSo the only place you can work with\nthe precedent is where the policies\n\n341\n00:18:07.730 --> 00:18:08.580\nare linked at.\n\n342\n00:18:08.580 --> 00:18:11.650\nThat's where you would go\nto change that precedent.\n\n343\n00:18:11.650 --> 00:18:14.720\nAnd another thing that I,\nI didn't throw it in my notes here, but\n\n344\n00:18:14.720 --> 00:18:17.920\nI want to point it out to\nyou guys while we're here,\n\n345\n00:18:17.920 --> 00:18:22.470\nis the fact that these are links and\nnot the actual GPO.\n\n346\n00:18:22.470 --> 00:18:27.200\nAll right, if you look closely, and\nyou might have to do this on your own\n\n347\n00:18:27.200 --> 00:18:28.960\nlittle lab environment\nthat you've got set up,\n\n348\n00:18:28.960 --> 00:18:30.520\nbecause I'm sure you've got one set up,\nright?\n\n349\n00:18:30.520 --> 00:18:32.510\nSo you can practice this stuff.\n\n350\n00:18:32.510 --> 00:18:36.160\nDown here, I've got a container\ncalled Group Policy Objects.\n\n351\n00:18:36.160 --> 00:18:38.000\nThese are my actual group policies.\n\n352\n00:18:38.000 --> 00:18:39.110\nNotice the icon there.\n\n353\n00:18:39.110 --> 00:18:41.660\nIt looks like a little,\nit's supposed to be a little scroll, or\n\n354\n00:18:41.660 --> 00:18:43.380\nsomething like that.\n\n355\n00:18:43.380 --> 00:18:47.840\nThe icons up here have a little\narrow on the corner of them.\n\n356\n00:18:47.840 --> 00:18:51.070\nAnd you guys, if you think back all\nthe way to our older operating systems\n\n357\n00:18:51.070 --> 00:18:53.530\nyou have seen that kind of icon,\nand Daniel, what did that mean?\n\n358\n00:18:53.530 --> 00:18:55.815\n>> Yeah, it usually means\nit's some sort of shortcut,\n\n359\n00:18:55.815 --> 00:18:59.435\nthat's why they put the little arrow that\nlets you know this isn't the actual thing\n\n360\n00:18:59.435 --> 00:19:01.985\nit's a link to something else and\nit's letting you know,\n\n361\n00:19:01.985 --> 00:19:04.790\nthat the little arrow is kind of like,\nit's this way buddy.\n\n362\n00:19:04.790 --> 00:19:05.730\nThat way, there you go.\n\n363\n00:19:05.730 --> 00:19:07.381\n>> We did it for\nprograms all the time, right.\n\n364\n00:19:07.381 --> 00:19:08.610\nWe put a shortcut on our desktop.\n\n365\n00:19:08.610 --> 00:19:11.860\nThat wasn't the actual executable but\nwhen I doubled clicked on that short cut,\n\n366\n00:19:11.860 --> 00:19:13.230\nit would reach out and\n\n367\n00:19:13.230 --> 00:19:16.260\nrun the executable that was buried\nsomewhere in my file system.\n\n368\n00:19:16.260 --> 00:19:17.930\nAnd it's the same thing here.\n\n369\n00:19:17.930 --> 00:19:21.320\nThis is not the actual accounting app GPO.\n\n370\n00:19:21.320 --> 00:19:24.170\nThis is a link to the GPO.\n\n371\n00:19:24.170 --> 00:19:25.979\nI can delete this link.\n\n372\n00:19:28.801 --> 00:19:30.510\nAnd the GPO is still sitting here,\nall right..\n\n373\n00:19:32.060 --> 00:19:35.360\nI can go and link it again by\nright-clicking on that OU,\n\n374\n00:19:35.360 --> 00:19:38.790\nlink an existing GPO and\nchoosing, what did I delete?\n\n375\n00:19:38.790 --> 00:19:41.550\nAccounting app and\nI can put that guy right back.\n\n376\n00:19:41.550 --> 00:19:45.500\nAnd the reason they do it this way\nis because I can link one policy\n\n377\n00:19:45.500 --> 00:19:47.410\nto more than one location.\n\n378\n00:19:47.410 --> 00:19:50.110\nLet's say I want to, and\nlet me just make a new one real quick.\n\n379\n00:19:50.110 --> 00:19:56.650\nI'll make one called, if I can get my new\nmenu to come up, I'll call this one test.\n\n380\n00:19:56.650 --> 00:19:57.350\nAll right.\n\n381\n00:19:57.350 --> 00:19:59.944\nAnd I'm going to link test\nto the executive's OU.\n\n382\n00:20:03.032 --> 00:20:05.913\nAnd I'm also going to\nlink it to the host's OU.\n\n383\n00:20:10.766 --> 00:20:16.530\nSo now that one policy is linked\nto more than one location, right.\n\n384\n00:20:16.530 --> 00:20:19.470\nJust like you could have more than\none shortcut to that executable,\n\n385\n00:20:19.470 --> 00:20:20.740\nthere is more than one pointer.\n\n386\n00:20:21.770 --> 00:20:26.280\nAnd when you click on these links, it is\nnot going to give me my little warning\n\n387\n00:20:26.280 --> 00:20:29.780\nbecause I must have cleared that out\nalready, I wonder if I can reset that.\n\n388\n00:20:33.320 --> 00:20:34.480\nProbably not.\n\n389\n00:20:34.480 --> 00:20:38.860\nAnyway, normally when you click on one of\nthose links you're gonna get this little\n\n390\n00:20:38.860 --> 00:20:42.570\nmessage that pops up that\nsays this is a link and\n\n391\n00:20:42.570 --> 00:20:44.580\nare you sure you know what you're doing.\n\n392\n00:20:44.580 --> 00:20:47.850\nAnd the reason you get that\nmessage is because let's\n\n393\n00:20:47.850 --> 00:20:52.310\nsay I'm the I have permission\nto work with the host OU.\n\n394\n00:20:52.310 --> 00:20:57.060\nI've been delegated the ability\nto link and modify GPOs, but\n\n395\n00:20:57.060 --> 00:20:58.610\nonly that are linked to the host's OU.\n\n396\n00:20:58.610 --> 00:20:59.760\nAll right.\n\n397\n00:20:59.760 --> 00:21:03.145\nSo I could come in here and I want to make\na new setting that applies to the hosts.\n\n398\n00:21:03.145 --> 00:21:04.715\nSo I come in active directory and I say,\n\n399\n00:21:04.715 --> 00:21:06.725\nhere's a policy already\nlinked to the host OU.\n\n400\n00:21:06.725 --> 00:21:08.405\nI'll just use that one.\n\n401\n00:21:08.405 --> 00:21:10.405\nAnd I go and\nI throw that setting in there.\n\n402\n00:21:10.405 --> 00:21:13.715\nNot realizing that that policy\nis linked to other places.\n\n403\n00:21:13.715 --> 00:21:17.677\nAnd that setting that I just applied is\nnow affecting the executive's OU as well.\n\n404\n00:21:17.677 --> 00:21:18.495\nAll right?\n\n405\n00:21:18.495 --> 00:21:21.500\nSo that's something you've got to keep\nin mind when you're working with a link.\n\n406\n00:21:21.500 --> 00:21:24.270\nThat policy could be\nlinked to other locations.\n\n407\n00:21:24.270 --> 00:21:27.810\nYou need to check and see, and\nbe aware, because whatever you apply,\n\n408\n00:21:27.810 --> 00:21:32.120\nif I make a change here to\nthe link to test, right?\n\n409\n00:21:32.120 --> 00:21:33.710\nIf I edit this policy, in other words.\n\n410\n00:21:34.880 --> 00:21:39.380\nI'm not editing the link,\nI'm editing the policy itself.\n\n411\n00:21:39.380 --> 00:21:43.360\nWhich means that change will be\napplied here, as well as up here.\n\n412\n00:21:43.360 --> 00:21:47.720\nAll right, so one GPO,\nmultiple links to the same GPO.\n\n413\n00:21:47.720 --> 00:21:50.660\nThe links are independent\nfrom the GPO itself.\n\n414\n00:21:50.660 --> 00:21:51.800\nI can delete one,\n\n415\n00:21:51.800 --> 00:21:56.870\nas I just showed you a minute ago,\nthat does not delete the GPO itself.\n\n416\n00:21:56.870 --> 00:22:03.220\nIf I delete the GPO, however,\nit will delete the links.\n\n417\n00:22:03.220 --> 00:22:05.015\nNot in other domains but\nit will delete that link.\n\n418\n00:22:05.015 --> 00:22:08.012\nDo you notice it disappeared\nfrom hosts there, all right.\n\n419\n00:22:08.012 --> 00:22:12.627\nSo a couple of things, links also\nhave their own properties as well,\n\n420\n00:22:12.627 --> 00:22:16.300\nwhich we're going to talk\nabout here in just a second.\n\n421\n00:22:16.300 --> 00:22:17.450\nThey're their own object.\n\n422\n00:22:17.450 --> 00:22:19.910\nThey're independent from the GPO itself.\n\n423\n00:22:19.910 --> 00:22:21.470\nThey just tie the GPO.\n\n424\n00:22:21.470 --> 00:22:22.630\nThat's how we scope a policy.\n\n425\n00:22:22.630 --> 00:22:27.240\nThat's how we decide who the policy\nis going to apply to, all right.\n\n426\n00:22:27.240 --> 00:22:30.700\nNow, some of the things that\nwe can do to affect that.\n\n427\n00:22:30.700 --> 00:22:33.050\nBecause, yes we like inheritance.\n\n428\n00:22:33.050 --> 00:22:36.290\nIf I link it to the domain I don't\nhave to link it to every single OU.\n\n429\n00:22:36.290 --> 00:22:39.370\nI can link it to the domain and\nlet it inherit down.\n\n430\n00:22:39.370 --> 00:22:43.140\nI can link it to an OU, and it will\ninherit down to all the nested OUs.\n\n431\n00:22:43.140 --> 00:22:44.130\nThat's great for me.\n\n432\n00:22:44.130 --> 00:22:46.880\nIt's just like when you work\nwith NTFS permissions, right?\n\n433\n00:22:46.880 --> 00:22:50.900\nTake advantage of that inheritance,\nwork smarter not harder.\n\n434\n00:22:50.900 --> 00:22:52.580\nUsually that's a good thing.\n\n435\n00:22:52.580 --> 00:22:57.490\nThere are gonna be times however, you\ndon't want that default behavior to occur.\n\n436\n00:22:57.490 --> 00:23:00.350\nAnd just like with NTFS,\nyou can block inheritance, right.\n\n437\n00:23:00.350 --> 00:23:05.680\nI can go to a folder or a file and I can\nchoose to block that normal behavior.\n\n438\n00:23:05.680 --> 00:23:07.760\nI can do the same thing in here.\n\n439\n00:23:07.760 --> 00:23:09.310\nLet's say I go to this dev OU.\n\n440\n00:23:09.310 --> 00:23:12.150\nAnd if I look at the dev OU,\n\n441\n00:23:12.150 --> 00:23:15.870\nthey're inheriting these\npolicies from the domain itself.\n\n442\n00:23:15.870 --> 00:23:19.050\nCompany standards and\ndefault domain policy.\n\n443\n00:23:19.050 --> 00:23:20.290\nWell they're my development team.\n\n444\n00:23:20.290 --> 00:23:25.920\nThey don't need my corporate settings\ninterfering with their work, right?\n\n445\n00:23:25.920 --> 00:23:27.290\nThey've got their stuff they need to do.\n\n446\n00:23:27.290 --> 00:23:30.680\nI'm trying to think of\na better way to say that.\n\n447\n00:23:30.680 --> 00:23:34.780\nThey don't want our, my policies\nmight be throwing on screen savers,\n\n448\n00:23:34.780 --> 00:23:37.640\ninstalling software, configuring settings.\n\n449\n00:23:37.640 --> 00:23:39.340\nAnd they're trying to\ndevelop applications and\n\n450\n00:23:39.340 --> 00:23:42.960\nthey don't need those kind of settings\ninterfering with their development work.\n\n451\n00:23:42.960 --> 00:23:45.810\nThey want a nice,\nclean slate to do their work with and\n\n452\n00:23:45.810 --> 00:23:47.990\ndon't wanna have to worry\nabout any limitations there.\n\n453\n00:23:47.990 --> 00:23:51.010\nWell, unfortunately,\nthese policies are linked at the domain.\n\n454\n00:23:51.010 --> 00:23:53.653\nThey're inheriting down\nto the dev's laptop OU.\n\n455\n00:23:53.653 --> 00:23:57.043\nSo if that computers in that OU,\nit's gonna apply to it.\n\n456\n00:23:57.043 --> 00:23:59.923\nSo what we can do is we\ncan go to the OU itself.\n\n457\n00:23:59.923 --> 00:24:02.649\nAnd choose Block Inheritance.\n\n458\n00:24:02.649 --> 00:24:05.806\nAnd now look what happened to my\nGroup Policy Inheritance tab for\n\n459\n00:24:05.806 --> 00:24:08.220\nthe Dev Laptops OU,\nthey disappeared, right.\n\n460\n00:24:08.220 --> 00:24:12.180\nIt's like building a wall and\nsaying nothing comes past this wall.\n\n461\n00:24:12.180 --> 00:24:16.780\nYou cannot selectively block\ngroup policies, right.\n\n462\n00:24:16.780 --> 00:24:21.440\nWhen I blocked it, it didn't say which one\ndo you wanna block, it blocks all of them.\n\n463\n00:24:21.440 --> 00:24:22.900\nAnything that's linked to the OU.\n\n464\n00:24:22.900 --> 00:24:25.440\nLike if I link something\ndirectly to the OU.\n\n465\n00:24:25.440 --> 00:24:27.502\nLet's make that test\npolicy again real quick.\n\n466\n00:24:27.502 --> 00:24:30.580\nAll right.\n\n467\n00:24:30.580 --> 00:24:33.010\nIf I link something to the dev laptops OU.\n\n468\n00:24:34.800 --> 00:24:37.750\nAnd I guess I missed that last t there,\nbut we get the idea.\n\n469\n00:24:37.750 --> 00:24:38.830\nThat is still there, right?\n\n470\n00:24:38.830 --> 00:24:40.260\nBecause that's linked to the OU itself.\n\n471\n00:24:40.260 --> 00:24:42.740\nYou can kinda,\nputting a wall in front of the OU.\n\n472\n00:24:42.740 --> 00:24:46.660\nBut anything linked to the OU itself\nis already on the other side of the OU.\n\n473\n00:24:46.660 --> 00:24:49.230\nIt's not being inherited\nfrom anywhere else.\n\n474\n00:24:49.230 --> 00:24:51.350\nSo that would still be in effect.\n\n475\n00:24:51.350 --> 00:24:52.880\nBut as far as the policies up here,\n\n476\n00:24:52.880 --> 00:24:55.430\nthey're not gonna make it\npast that little wall.\n\n477\n00:24:55.430 --> 00:24:57.110\nThey're going to be blocked.\n\n478\n00:24:57.110 --> 00:24:59.790\nBut as I said, you can't specify\nwhich ones you're blocking.\n\n479\n00:24:59.790 --> 00:25:02.400\nYou either block them all,\nor you block none of them.\n\n480\n00:25:02.400 --> 00:25:03.290\nAll right?\n\n481\n00:25:03.290 --> 00:25:04.960\nAlthough that's not quite true.\n\n482\n00:25:04.960 --> 00:25:07.140\nThere's a way around that as well.\n\n483\n00:25:07.140 --> 00:25:08.150\nAll right?\n\n484\n00:25:08.150 --> 00:25:10.570\nThe blocking, and make a note of this,\n\n485\n00:25:10.570 --> 00:25:13.640\ncuz it's one of Microsoft's little\nthings they love to talk about.\n\n486\n00:25:13.640 --> 00:25:16.767\nBlocking group policy is\na property of the OU, okay.\n\n487\n00:25:18.140 --> 00:25:19.440\nIt's not a property of the link.\n\n488\n00:25:19.440 --> 00:25:24.125\nYou noticed, I right clicked on the OU and\nchose the block the group policy.\n\n489\n00:25:24.125 --> 00:25:30.450\n[COUGH] Another thing I can do,\nis I can enforce a policy.\n\n490\n00:25:30.450 --> 00:25:35.290\nIf I right click on company standards,\nI've got this in option, to enforce it.\n\n491\n00:25:35.290 --> 00:25:37.360\nAnd when I do an enforce,\n\n492\n00:25:37.360 --> 00:25:41.140\nyou'll see a little lock icon\nappears on that link there.\n\n493\n00:25:41.140 --> 00:25:45.460\nAnd now if I go back to that dev laptops,\nlook what happened.\n\n494\n00:25:45.460 --> 00:25:48.700\nCompany Standards is able to go\nright through the block, and\n\n495\n00:25:48.700 --> 00:25:50.380\nmake it to that OU, anyway.\n\n496\n00:25:50.380 --> 00:25:51.650\nYou might have a policy.\n\n497\n00:25:51.650 --> 00:25:55.610\nMaybe you want to let your Dev team\nhandle their own GPOs for their Rnd and\n\n498\n00:25:55.610 --> 00:25:58.390\nstuff like that, you don't want your\nnormal GPOs interfering with them.\n\n499\n00:25:58.390 --> 00:25:59.730\nSo you block inheritance there,\n\n500\n00:25:59.730 --> 00:26:02.530\nthat way they've got their\nclean slate they can work with.\n\n501\n00:26:02.530 --> 00:26:06.230\nBut my company standards has some settings\nthat have to be applied to all machines,\n\n502\n00:26:06.230 --> 00:26:07.385\nno matter what.\n\n503\n00:26:07.385 --> 00:26:12.364\nBecause it's a government regulation,\nfor example, or it's a Sarbanes-Oxley,\n\n504\n00:26:12.364 --> 00:26:16.318\nor it's just some kind of regulation\nthat says this has to be there.\n\n505\n00:26:16.318 --> 00:26:20.502\nThat's when I can use that enforced\noption, and force the link, and\n\n506\n00:26:20.502 --> 00:26:23.320\nit will go through all blocks, all right?\n\n507\n00:26:23.320 --> 00:26:25.280\nIt doesn't let anybody else\ngo through with it, but\n\n508\n00:26:25.280 --> 00:26:26.890\nit will go right through the blocks.\n\n509\n00:26:26.890 --> 00:26:29.650\nAnd notice it jumped to\nthe top of the list.\n\n510\n00:26:29.650 --> 00:26:33.170\nOU policy should be applied first,\nI mean last, right?\n\n511\n00:26:33.170 --> 00:26:35.060\nLocal, site, domain, OU.\n\n512\n00:26:35.060 --> 00:26:40.750\nYet, my OU linked policy is getting\napplied first, then my domain policy.\n\n513\n00:26:40.750 --> 00:26:41.630\nWhy?\n\n514\n00:26:41.630 --> 00:26:44.840\nBecause, when, you enforce a link,\nyou do two things.\n\n515\n00:26:44.840 --> 00:26:47.365\nYou'd give it the ability\nto go through blocks, and\n\n516\n00:26:47.365 --> 00:26:49.550\nyou automatically give it\nthe highest precedent, all right.\n\n517\n00:26:50.700 --> 00:26:53.070\nSo that does two things for you.\n\n518\n00:26:53.070 --> 00:26:56.295\nSo with the combination of\nthe normal inheritance,\n\n519\n00:26:56.295 --> 00:26:58.501\nthe ability to block inheritance.\n\n520\n00:26:58.501 --> 00:27:04.890\nAnd the ability to enforce a link, we can\npretty much make anything we want happen.\n\n521\n00:27:04.890 --> 00:27:07.960\nWe can make these policies,\nwe can scope them, and\n\n522\n00:27:07.960 --> 00:27:12.210\nwe can control exactly where they're\nbeing inherited down to, all right.\n\n523\n00:27:12.210 --> 00:27:16.640\nAnd then, so those are some of\nthe key things you've gotta remember,\n\n524\n00:27:16.640 --> 00:27:20.680\nwhen we talk about the order that\nthese policies are being applied,\n\n525\n00:27:20.680 --> 00:27:22.030\nbecause it's very important.\n\n526\n00:27:22.030 --> 00:27:24.260\nI keep mentioning the end result.\n\n527\n00:27:24.260 --> 00:27:26.510\nWe're gonna talk a little\nbit more about that later.\n\n528\n00:27:26.510 --> 00:27:32.220\nThat's actually known as the RSOP,\nor the Resultant Set Of Policy.\n\n529\n00:27:32.220 --> 00:27:35.550\nAnd when we're trouble-shooting, that's\ntypically what we're trying to figure out.\n\n530\n00:27:35.550 --> 00:27:39.100\nIn the end I don't care where the policies\nare linked and which ones are blocked and\n\n531\n00:27:39.100 --> 00:27:42.560\nwhich ones are enforced and yadda,\nyadda and all that good stuff.\n\n532\n00:27:42.560 --> 00:27:45.830\nIn the end when this user\nlogs on to this computer,\n\n533\n00:27:45.830 --> 00:27:48.680\nwhat settings are going to be in effect?\n\n534\n00:27:48.680 --> 00:27:50.330\nThat's my result in Set Of Policy.\n\n535\n00:27:50.330 --> 00:27:52.695\nAnd I'll show you some cool ways\nto do that, in a little bit.\n\n536\n00:27:52.695 --> 00:27:54.400\nOr to find that out.\n\n537\n00:27:54.400 --> 00:27:55.020\n>> Yep.\n\n538\n00:27:55.020 --> 00:27:59.300\nWell, Mike this is definitely taking\nus on the road of a logician's mind.\n\n539\n00:27:59.300 --> 00:28:02.200\nYou got to really think\nin a logical terms.\n\n540\n00:28:02.200 --> 00:28:05.550\nUnderstand a little bit of a how\ngroup policy, how it works.\n\n541\n00:28:05.550 --> 00:28:06.770\nHow's it function?\n\n542\n00:28:06.770 --> 00:28:11.780\nUsing things like blocking and inheriting\nand things like that, will allow you to\n\n543\n00:28:11.780 --> 00:28:16.560\ncreatively enforce policies in\nways that wouldn't normally occur.\n\n544\n00:28:16.560 --> 00:28:19.430\nSo, be very,\nvery on the ball when it comes to that.\n\n545\n00:28:19.430 --> 00:28:20.570\nReally study that.\n\n546\n00:28:20.570 --> 00:28:22.110\nHow can I make this work?\n\n547\n00:28:22.110 --> 00:28:24.960\nAnd then ask computer techs,\nadministrators.\n\n548\n00:28:24.960 --> 00:28:29.280\nWe use that logicians mind that we have,\nto try to figure out,\n\n549\n00:28:29.280 --> 00:28:33.250\nfinagle the logic, to make it come\nout to what Mike was talking about.\n\n550\n00:28:33.250 --> 00:28:34.050\nWhat is the result?\n\n551\n00:28:34.050 --> 00:28:39.090\nWhat is gonna be the end product of these\npolicies, and apply them as we need them.\n\n552\n00:28:39.090 --> 00:28:42.960\nAnd again, of course, they're gonna throw\na little bit of the old scenario problems\n\n553\n00:28:42.960 --> 00:28:44.420\nthat they love so much.\n\n554\n00:28:44.420 --> 00:28:47.790\nYou are the administrator of xyz company,\ndon't forget.\n\n555\n00:28:47.790 --> 00:28:49.170\nAnd you have some issues going on.\n\n556\n00:28:49.170 --> 00:28:51.270\nThey're going to ask you\nhow do we make this work.\n\n557\n00:28:51.270 --> 00:28:52.580\nYou got to have this stuff down.\n\n558\n00:28:52.580 --> 00:28:55.010\nYou got to know exactly what you can and\n\n559\n00:28:55.010 --> 00:28:58.870\ncan not do, to make those policies\napply as they ask you to.\n\n560\n00:28:58.870 --> 00:29:03.120\nAll right Mikey, looks like we've actually\nexpanded our time for this episode.\n\n561\n00:29:03.120 --> 00:29:05.780\nWe're gonna have to do a part two on this,\ncuz there's plenty more to talk about.\n\n562\n00:29:05.780 --> 00:29:06.280\n>> There is.\n>> Yeah.\n\n563\n00:29:06.280 --> 00:29:07.360\n>> There is a lot more to talk about.\n\n564\n00:29:07.360 --> 00:29:09.120\n>> So hopefully we'll see you guys there.\n\n565\n00:29:09.120 --> 00:29:10.980\nAs for this we're gonna go ahead and\nwrap it up.\n\n566\n00:29:10.980 --> 00:29:14.030\nSigning off for ITProTV,\nI've been your host Daniel Lowery.\n\n567\n00:29:14.030 --> 00:29:15.410\n>> And I'm Mike Roderick.\n\n568\n00:29:15.410 --> 00:29:16.522\n>> We'll see you next time.\n\n569\n00:29:16.522 --> 00:29:22.350\n[MUSIC]\n\n",
          "vimeoId": "138326560"
        },
        {
          "description": "In this episode, Daniel and Mike continue describing Group Policy Processing and this time they are looking at configuring security filtering and Windows Management Instrumentation(WMI) filtering. First they cover security filtering, which is a way of refining which users and computers will receive and apply the settings in a GPO. Then they go over WMI filtering which allows you to dynamically determine the scope of GPOs based on attributes of the target PC.",
          "length": "1433",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-19-1-group-policy_processing_pt2-090315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-19-1-group-policy_processing_pt2-090315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-19-1-group-policy_processing_pt2-090315-1-sm.jpg",
          "title": "Group Policy Processing Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.147 --> 00:00:10.688\n[MUSIC]\n\n2\n00:00:10.688 --> 00:00:15.600\nAll right, greetings everyone and welcome\nto another exciting episode of ITProTV.\n\n3\n00:00:15.600 --> 00:00:16.660\nI'm your host Daniel Lowrie.\n\n4\n00:00:16.660 --> 00:00:19.630\nHere with me today is Mike Rodrick,\nhow's it going Mike?\n\n5\n00:00:19.630 --> 00:00:20.790\n>> Oh, it's going great Daniel.\n\n6\n00:00:20.790 --> 00:00:25.720\nWe got more of our 7411 episodes coming\nyour way, and more group policy.\n\n7\n00:00:25.720 --> 00:00:29.790\nIt's a never ending story,\nbut there's a lot to it.\n\n8\n00:00:29.790 --> 00:00:33.400\nAnd we've gotta understand it in order\nto get through that exam as well as to\n\n9\n00:00:33.400 --> 00:00:35.290\nbe able to mange a network\nout there in the real world.\n\n10\n00:00:35.290 --> 00:00:36.940\nIt really is a big part of it.\n\n11\n00:00:36.940 --> 00:00:39.230\nSo if you missed the previous episode,\nmake sure you go back and\n\n12\n00:00:39.230 --> 00:00:42.030\nwatch that cuz I'm gonna be referencing a\ncouple of things that are kind of assumed\n\n13\n00:00:42.030 --> 00:00:43.800\nknowledge at this point.\n\n14\n00:00:43.800 --> 00:00:47.700\nSo you gotta watch at least\nthese couple episodes in order.\n\n15\n00:00:47.700 --> 00:00:51.820\nNext thing we really want\nto talk about with group\n\n16\n00:00:51.820 --> 00:00:55.800\npolicies is something called security\nfiltering and WMI filtering.\n\n17\n00:00:55.800 --> 00:00:58.870\nNow as a quick recap\nfrom the last episode,\n\n18\n00:00:58.870 --> 00:01:01.637\nwe talked about the way\npolicies are applied.\n\n19\n00:01:01.637 --> 00:01:03.800\nThey're in a specific order.\n\n20\n00:01:03.800 --> 00:01:06.880\nLocal policies,\nthen policies linked to the site,\n\n21\n00:01:06.880 --> 00:01:10.500\nthen policies linked to the domain,\nand then policies linked to the OU.\n\n22\n00:01:10.500 --> 00:01:14.570\nAll right, as a local site,\ndomain OU is my processing order.\n\n23\n00:01:14.570 --> 00:01:17.200\nAnd then if there's more\nthan one policy linked,\n\n24\n00:01:17.200 --> 00:01:21.560\nsay to an OU, it goes by precedent, the\norder that they're linked in, which I can\n\n25\n00:01:21.560 --> 00:01:26.200\nalways rearrange if I need to within\nthat group policy management console.\n\n26\n00:01:26.200 --> 00:01:31.130\nBut, notice I never said we could\napply a group policy to a group or\n\n27\n00:01:31.130 --> 00:01:33.030\ndirectly to a user, right.\n\n28\n00:01:33.030 --> 00:01:36.980\nI can't link group policies to\na security group like a global group or\n\n29\n00:01:36.980 --> 00:01:38.610\na universal group.\n\n30\n00:01:38.610 --> 00:01:41.560\nI can't link policies\ndirectly to a user account.\n\n31\n00:01:41.560 --> 00:01:44.750\nI can't policies directly\nto a computer account.\n\n32\n00:01:44.750 --> 00:01:48.030\nSo we end up with a situation where,\n\n33\n00:01:48.030 --> 00:01:53.500\nyou know we saw how we could manipulate\nthe default behavior a little bit.\n\n34\n00:01:53.500 --> 00:01:58.270\nUsing blocking, or blocking inheritance,\nas well as enforcing\n\n35\n00:01:58.270 --> 00:02:02.940\na link which made it go through the block\nand gave it the highest precedent.\n\n36\n00:02:02.940 --> 00:02:09.610\nBut what if I have an OU and in that\nOU there's 50 user accounts, all right?\n\n37\n00:02:09.610 --> 00:02:12.010\nLet's say I've got my sales OU, and\n\n38\n00:02:12.010 --> 00:02:17.060\nin that OU there's 50 user accounts\nFive of those users are managers.\n\n39\n00:02:17.060 --> 00:02:21.190\nI have a policy that I want\nto apply to that OU, but\n\n40\n00:02:21.190 --> 00:02:23.110\nI don't want it to affect the managers.\n\n41\n00:02:23.110 --> 00:02:28.010\nHow do I get it to affect 45 of the people\nthat are in that OU but not that five?\n\n42\n00:02:29.220 --> 00:02:30.270\nBecause I can't link it.\n\n43\n00:02:30.270 --> 00:02:33.530\nI could take those five\npeople out of the OU, maybe.\n\n44\n00:02:33.530 --> 00:02:35.730\nBut they are probably in that OU for\na reason, right?\n\n45\n00:02:35.730 --> 00:02:38.040\nWe designed our active\ndirectory ahead of time,\n\n46\n00:02:38.040 --> 00:02:39.900\nwe have got this all planned out, and\n\n47\n00:02:39.900 --> 00:02:43.980\nI can't just start moving things around\nbecause that changes everything, right?\n\n48\n00:02:43.980 --> 00:02:46.170\nIt might change other things\nthat I am not thinking about.\n\n49\n00:02:46.170 --> 00:02:48.450\nWe can't just start moving things around.\n\n50\n00:02:48.450 --> 00:02:50.030\nOr, the other way around.\n\n51\n00:02:50.030 --> 00:02:53.840\nWhat if I have a policy that I want to\nlink to the OU and I only want it to apply\n\n52\n00:02:53.840 --> 00:02:57.050\nto those five people, and\nnot the other forty five, right?\n\n53\n00:02:57.050 --> 00:02:59.150\nSo we've got to have a way to do that.\n\n54\n00:02:59.150 --> 00:03:00.610\nAnd, the same thing with computers.\n\n55\n00:03:00.610 --> 00:03:02.530\nRemember, when I talk about policies,\n\n56\n00:03:02.530 --> 00:03:06.450\nwe're really talking about applying\nthem to either users or computers,\n\n57\n00:03:06.450 --> 00:03:11.025\nthere's really no difference when we're\ntalking about it, in this respect anyway.\n\n58\n00:03:11.025 --> 00:03:13.275\nThat could be an OU of 50 computers.\n\n59\n00:03:13.275 --> 00:03:17.275\nAnd I want this setting only to apply\nto 45 of the 50 computers in that OU,\n\n60\n00:03:17.275 --> 00:03:20.345\nthat would work exactly the same way.\n\n61\n00:03:21.445 --> 00:03:24.880\nSo what we do is we do something\ncalled security filtering.\n\n62\n00:03:24.880 --> 00:03:29.050\nAnd to understand security filtering\nwe gotta take a closer look at a GPO.\n\n63\n00:03:29.050 --> 00:03:33.150\nSo let me pull up my screen here and\nfigure out.\n\n64\n00:03:33.150 --> 00:03:34.840\nAnd Daniel, I know I set something up.\n\n65\n00:03:34.840 --> 00:03:38.090\nWhich GPO was I planning on using for\nthis one?\n\n66\n00:03:38.090 --> 00:03:40.179\nI got my software deployment GPOs.\n\n67\n00:03:41.240 --> 00:03:45.580\nAll right so, over here I've got a couple\nof GPOs linked to the employ's OU.\n\n68\n00:03:45.580 --> 00:03:50.340\nI've got an excel viewer that's gonna\npush out just the excel viewer.\n\n69\n00:03:50.340 --> 00:03:54.750\nAnd then I've got this one, which is\npushing out a line of business accounting\n\n70\n00:03:54.750 --> 00:03:58.780\napplication that my accountants\nuse to balance our books or\n\n71\n00:03:58.780 --> 00:04:00.480\nsomething like that, all right?\n\n72\n00:04:00.480 --> 00:04:05.680\nNow, when we look at a GPO, and\nthis is again just the link to the GPO,\n\n73\n00:04:05.680 --> 00:04:10.340\nbut we can still see all the same settings\nbecause it is pointing to the GPO itself.\n\n74\n00:04:10.340 --> 00:04:14.920\nI could come down here and\nI could look at there that as well.\n\n75\n00:04:14.920 --> 00:04:19.970\nAnd you notice the screen really doesn't\nchange as I click on those, except for\n\n76\n00:04:19.970 --> 00:04:21.060\nthe status.\n\n77\n00:04:21.060 --> 00:04:25.410\nWhich you need to be clicked on these\nGPO itself to see that status tab.\n\n78\n00:04:25.410 --> 00:04:26.940\nThat one goes away.\n\n79\n00:04:26.940 --> 00:04:30.500\nBut when I click on this excel viewer,\nI've got some,\n\n80\n00:04:30.500 --> 00:04:31.570\na couple things I wanna show you here.\n\n81\n00:04:31.570 --> 00:04:33.380\nFirst I've got this scope tab.\n\n82\n00:04:33.380 --> 00:04:37.820\nThe scope tab is showing me where\nthis policy is actually linked.\n\n83\n00:04:37.820 --> 00:04:40.990\nCuz remember I'm looking at a single link.\n\n84\n00:04:40.990 --> 00:04:44.060\nThis could be linked to\nother locations as well, so\n\n85\n00:04:44.060 --> 00:04:46.520\nthey would list them all right here.\n\n86\n00:04:46.520 --> 00:04:51.010\nThe following sites, domains and\nOUs are linked to this GPO.\n\n87\n00:04:51.010 --> 00:04:53.330\nBelow that, I've got Security Filtering.\n\n88\n00:04:53.330 --> 00:04:54.160\nAnd it says,\n\n89\n00:04:54.160 --> 00:04:59.390\nthe settings in this GPO can only apply to\nthe following groups, users and computers.\n\n90\n00:04:59.390 --> 00:05:02.490\nBut then the authenticated\nusers is listed there.\n\n91\n00:05:02.490 --> 00:05:05.540\nSo if you read that to yourself again or\nyou think about that in your head,\n\n92\n00:05:05.540 --> 00:05:10.100\nthe setting in this GPO can only\napply to authenticated users.\n\n93\n00:05:10.100 --> 00:05:12.095\nBy default everybody.\n\n94\n00:05:12.095 --> 00:05:15.475\nRemember, authenticated users\nincludes computer accounts, right?\n\n95\n00:05:15.475 --> 00:05:17.765\nThey have to log on when\nthey first start up.\n\n96\n00:05:17.765 --> 00:05:20.015\nWhen you boot up a domain machine,\n\n97\n00:05:20.015 --> 00:05:24.055\nit authenticates with active directory\nbefore you ever get to the logon screen,\n\n98\n00:05:24.055 --> 00:05:27.545\nso it is part of the authenticated\nusers group, right.\n\n99\n00:05:27.545 --> 00:05:30.360\nSo, by default, everybody,\n\n100\n00:05:30.360 --> 00:05:35.790\nany GPO applies to everybody, not taking\ninto account where it's scoped, right.\n\n101\n00:05:35.790 --> 00:05:39.790\nWhat that's saying is if I link it here,\nanything underneath there,\n\n102\n00:05:39.790 --> 00:05:42.800\nthis policy will apply to,\ncomputer, user, whatever.\n\n103\n00:05:42.800 --> 00:05:46.355\nEverybody underneath there will\nget those settings, all right.\n\n104\n00:05:46.355 --> 00:05:48.630\n[COUGH] Excuse me.\n\n105\n00:05:48.630 --> 00:05:52.500\nBut what if, again,\nif I don't want it to, all right?\n\n106\n00:05:52.500 --> 00:05:56.480\nAnd that's where I can change\nthe security filtering.\n\n107\n00:05:56.480 --> 00:06:00.200\nNow there's a couple of\ndifferent ways we can go about\n\n108\n00:06:00.200 --> 00:06:02.750\ndoing the security filtering all right.\n\n109\n00:06:02.750 --> 00:06:05.820\nIt really depends on\nwhat I'm trying to do.\n\n110\n00:06:05.820 --> 00:06:10.790\nIf I have a policy that\nI only want it to apply\n\n111\n00:06:10.790 --> 00:06:13.970\nto certain people,\nall right I could do it one way.\n\n112\n00:06:13.970 --> 00:06:18.200\nIf I have a policy that I wanted\nto apply to everybody but\n\n113\n00:06:18.200 --> 00:06:21.900\ncertain people, there's a different\nway I have to go about doing that.\n\n114\n00:06:21.900 --> 00:06:22.420\nAlright?\nSo\n\n115\n00:06:22.420 --> 00:06:25.260\nthat's the first thing you have to think\nof when you're doing security filtering is\n\n116\n00:06:25.260 --> 00:06:26.520\nwhat am I trying to do.\n\n117\n00:06:26.520 --> 00:06:29.990\nAm I trying to keep it from\napplying from a certain people or\n\n118\n00:06:29.990 --> 00:06:32.870\ndo I only want it to\napply to certain people?\n\n119\n00:06:32.870 --> 00:06:33.880\nAlright?\n\n120\n00:06:33.880 --> 00:06:37.170\nAnd let's take a look at\nboth ways we can do this.\n\n121\n00:06:37.170 --> 00:06:41.160\nSo with this Excel viewer here,\nwhat I'm gonna do is I'm gonna say I want\n\n122\n00:06:41.160 --> 00:06:46.050\nit to apply to everybody except for\ncertain people, all right?\n\n123\n00:06:47.290 --> 00:06:49.750\nAnd so actually you know what,\nlet me do this the other way around.\n\n124\n00:06:49.750 --> 00:06:52.640\nIt'll probably make more\nsense if we go the other way.\n\n125\n00:06:52.640 --> 00:06:57.620\nLet's say with the accounting app I\nonly want it to apply to certain people,\n\n126\n00:06:57.620 --> 00:07:00.420\nall right,\ncuz that'll be the easiest one to do.\n\n127\n00:07:00.420 --> 00:07:02.290\nSo with the accounting app,\n\n128\n00:07:02.290 --> 00:07:06.610\nkind of makes sense I only want it to\napply to my accounting people, right?\n\n129\n00:07:06.610 --> 00:07:10.310\nThey're the only ones that\nshould have the accounting app.\n\n130\n00:07:10.310 --> 00:07:15.420\nWell it would be nice if all my\naccountants were in a single OU.\n\n131\n00:07:15.420 --> 00:07:17.170\nBut they're not, unfortunately.\n\n132\n00:07:17.170 --> 00:07:22.620\nI've got my Executive's OU that\nhas my CEO and things like that.\n\n133\n00:07:22.620 --> 00:07:25.860\nThey need that accounting\napp because they're the CEO.\n\n134\n00:07:25.860 --> 00:07:28.270\nThey should be able to check\nthe books if they need to.\n\n135\n00:07:28.270 --> 00:07:31.240\nI've also got some people over in\n\n136\n00:07:31.240 --> 00:07:33.740\nI think I made one called\nmarketing instead of accounting.\n\n137\n00:07:33.740 --> 00:07:36.780\nBut let's say I also want\nthe people in the marketing there.\n\n138\n00:07:36.780 --> 00:07:39.660\nSo I could link it to those two OUs.\n\n139\n00:07:39.660 --> 00:07:40.550\nRight?\n\n140\n00:07:40.550 --> 00:07:44.180\nInstead of linking it up here,\nbut, that's a little limiting.\n\n141\n00:07:44.180 --> 00:07:45.430\nBecause what if, again,\n\n142\n00:07:45.430 --> 00:07:48.920\nwithin marketing, there's only a couple\na guys that actually do the books.\n\n143\n00:07:48.920 --> 00:07:51.250\nThe rest of them are just\nstraight marketing.\n\n144\n00:07:51.250 --> 00:07:55.955\nSo the way I would end up doing this\nis leaving it linked to the employee's\n\n145\n00:07:55.955 --> 00:07:57.510\nOU itself, all right?\n\n146\n00:07:57.510 --> 00:08:02.590\nBut what I'm gonna do is I'm gonna\nremove the authenticated users.\n\n147\n00:08:02.590 --> 00:08:04.670\nAll right and I'll say yes to that.\n\n148\n00:08:04.670 --> 00:08:07.595\nSo now if you read this\nthe setting can only apply to and\n\n149\n00:08:07.595 --> 00:08:10.100\nthere's nobody listed there.\n\n150\n00:08:10.100 --> 00:08:10.800\nAll right?\n\n151\n00:08:10.800 --> 00:08:14.260\nThen I can click Add and\nI've created a group\n\n152\n00:08:15.860 --> 00:08:20.180\ncalled GPO accounting application apply.\n\n153\n00:08:20.180 --> 00:08:23.470\nAlso like that and click OK.\n\n154\n00:08:23.470 --> 00:08:27.278\nAnd so now the only people, if you read it\nagain, the settings in this GPO can only\n\n155\n00:08:27.278 --> 00:08:30.250\napply to the following groups,\nusers, and computers.\n\n156\n00:08:30.250 --> 00:08:32.020\nAnd it's this one group listed here.\n\n157\n00:08:32.020 --> 00:08:36.240\nSo now I can control who's gonna\nget this accounting application\n\n158\n00:08:36.240 --> 00:08:39.220\nby changing the membership of that group,\nright.\n\n159\n00:08:39.220 --> 00:08:42.920\nBecause according to the policy these\nare the only people that have permission\n\n160\n00:08:42.920 --> 00:08:44.300\nto apply it.\n\n161\n00:08:44.300 --> 00:08:50.635\nIf we take a look at Active Directory, And\n\n162\n00:08:50.635 --> 00:08:55.590\nwe navigate over into, where did I\ncreate that group, employees and groups.\n\n163\n00:08:55.590 --> 00:08:57.500\nAnd there's my group.\n\n164\n00:08:57.500 --> 00:08:58.520\nAnd there's my members.\n\n165\n00:08:58.520 --> 00:09:02.740\nSo there I've got the people listed\nthat should have that application, and\n\n166\n00:09:02.740 --> 00:09:06.340\nI don't have to move the link,\nI don't have to do anything.\n\n167\n00:09:06.340 --> 00:09:08.170\nIf I hire somebody tomorrow and\n\n168\n00:09:08.170 --> 00:09:11.090\nthey happen to put them in\nthe production OU for some reason.\n\n169\n00:09:11.090 --> 00:09:14.270\nIf they're supposed to have that, if the\nboss comes to me and says, hey this guy in\n\n170\n00:09:14.270 --> 00:09:17.650\nproduction should have access to the books\nI can just come in here and add.\n\n171\n00:09:17.650 --> 00:09:19.480\nLet's say the boss comes to me tomorrow.\n\n172\n00:09:19.480 --> 00:09:23.220\nAnd says Daniel needs access\nto the accounting application.\n\n173\n00:09:23.220 --> 00:09:24.800\nWell he's in the host's OU.\n\n174\n00:09:24.800 --> 00:09:29.140\nWell doesn't matter, all I have to do\nis click Add, find Daniel's account.\n\n175\n00:09:29.140 --> 00:09:33.240\nAnd now Daniel's in the group that\nhas permissions to apply that policy.\n\n176\n00:09:33.240 --> 00:09:36.270\nSo we've got that taken care\nof because it's right here.\n\n177\n00:09:36.270 --> 00:09:40.000\nSo now I can control who's\ngetting that application\n\n178\n00:09:40.000 --> 00:09:44.030\nsimply by modifying a group\nmembership in Active Directory.\n\n179\n00:09:44.030 --> 00:09:46.240\nThat's what they mean\nby security filtering.\n\n180\n00:09:46.240 --> 00:09:49.730\nBreaking it down even further\nthan the local site domain OU.\n\n181\n00:09:49.730 --> 00:09:50.230\nAll right?\n\n182\n00:09:52.110 --> 00:09:53.490\nSo that's one way to do it.\n\n183\n00:09:53.490 --> 00:09:55.970\nThat's the easiest way to do it\n\n184\n00:09:55.970 --> 00:10:00.130\nwhen you know exactly who is\nsupposed to get the application.\n\n185\n00:10:00.130 --> 00:10:04.492\nBecause I can create a security group In\nActive Directory and I can add my members.\n\n186\n00:10:04.492 --> 00:10:08.110\nI remove the authenticated users group\nfrom the security filtering on the GPO\n\n187\n00:10:08.110 --> 00:10:12.370\nitself and I add that one group and now\nthey're the only people that can get it.\n\n188\n00:10:12.370 --> 00:10:13.890\nAnd I just use the group\nmembership to change it.\n\n189\n00:10:13.890 --> 00:10:15.900\n>> Yeah,\nthat's definitely the best way to fly.\n\n190\n00:10:15.900 --> 00:10:20.600\nYou don't wanna have to be touching\nevery individual person as they come in.\n\n191\n00:10:20.600 --> 00:10:22.970\nTrust me,\nI've actually been down that road before.\n\n192\n00:10:22.970 --> 00:10:24.360\nIt does not end well.\n\n193\n00:10:24.360 --> 00:10:26.730\nIt becomes a management nightmare.\n\n194\n00:10:26.730 --> 00:10:31.580\nThat's why even in just organizational\nunits alone, starting to create groups and\n\n195\n00:10:31.580 --> 00:10:34.810\nput people in an organized way,\n\n196\n00:10:34.810 --> 00:10:38.120\nto add security, to set settings and\nthings like that.\n\n197\n00:10:38.120 --> 00:10:39.390\nThat's the best way to do it.\n\n198\n00:10:39.390 --> 00:10:43.310\nThen all I have to do is add my user to\nwhatever group they need to be in, and\n\n199\n00:10:43.310 --> 00:10:46.420\nthey get the settings that have\nalready been applied to that group.\n\n200\n00:10:46.420 --> 00:10:47.770\nIt is the way to fly.\n\n201\n00:10:47.770 --> 00:10:49.100\n>> Absolutely.\n\n202\n00:10:49.100 --> 00:10:51.270\nAll right, so that's one way to do it.\n\n203\n00:10:51.270 --> 00:10:52.780\nAgain, that's the easiest way,\n\n204\n00:10:52.780 --> 00:10:56.900\nwhen you know exactly who is supposed to\nget Like that particular application or\n\n205\n00:10:56.900 --> 00:11:00.550\nwhatever setting it is that\nyou're trying to filter down.\n\n206\n00:11:00.550 --> 00:11:01.200\nAll right?\n\n207\n00:11:01.200 --> 00:11:06.430\nThe other thing I've gotta be able to do,\nis when I don't know who's supposed\n\n208\n00:11:06.430 --> 00:11:11.480\nto get it, I know who's not\nsupposed to get it, All right?\n\n209\n00:11:11.480 --> 00:11:16.210\nFor example, let's say, and I'm gonna\nuse the Excel viewer as my example here.\n\n210\n00:11:16.210 --> 00:11:18.030\nBut another scenario might be,\n\n211\n00:11:18.030 --> 00:11:24.080\nI want to put a screen saver timeout on\nall the computers out there on my network,\n\n212\n00:11:24.080 --> 00:11:27.570\nbut I don't want it affecting\nshow computers, right?\n\n213\n00:11:27.570 --> 00:11:31.990\nSo that when we're up here presenting,\nthat setting kicks in, and\n\n214\n00:11:31.990 --> 00:11:34.770\nall of a sudden my screen goes blank right\nin the middle of one of my demos, or\n\n215\n00:11:34.770 --> 00:11:35.539\nsomething like that.\n\n216\n00:11:36.630 --> 00:11:38.610\nSo what the problem there though is,\n\n217\n00:11:38.610 --> 00:11:42.070\nI know who I don't want\nthe setting to apply to.\n\n218\n00:11:42.070 --> 00:11:47.190\nBut this list doesn't say anything\nabout who it doesn't apply to, right?\n\n219\n00:11:47.190 --> 00:11:51.150\nThe only thing I can do here is\ndecide who it does apply to.\n\n220\n00:11:51.150 --> 00:11:53.600\nThis GPO can only apply\nto the following groups.\n\n221\n00:11:53.600 --> 00:11:56.110\nThis doesn't control who\nit doesn't apply to.\n\n222\n00:11:56.110 --> 00:11:58.770\nSo I have to go somewhere else to do that.\n\n223\n00:11:58.770 --> 00:12:02.140\nSo let's go to this Excel view or\nI'll use my example here.\n\n224\n00:12:02.140 --> 00:12:06.740\nAnd again by default, everybody has\nthe apply group policy permission.\n\n225\n00:12:06.740 --> 00:12:10.020\nI can't use this to do\nwhat I'm trying to do now.\n\n226\n00:12:10.020 --> 00:12:13.950\nSo I'm gonna head on over\nto the Delegation tab.\n\n227\n00:12:13.950 --> 00:12:17.610\nAnd on the Delegation tab at\nthe very bottom right-hand corner\n\n228\n00:12:17.610 --> 00:12:18.770\nis an Advanced button.\n\n229\n00:12:18.770 --> 00:12:23.770\nAnd this lets me pull up the access\ncontrol list for the GPO itself.\n\n230\n00:12:23.770 --> 00:12:29.130\nEvery GPO just like every file on an NTFS\nsystem has an access control list.\n\n231\n00:12:29.130 --> 00:12:34.000\nOr to be more specific a Discretionary\nAccess Control List or a DACL.\n\n232\n00:12:34.000 --> 00:12:35.590\nAnd these control the permissions.\n\n233\n00:12:35.590 --> 00:12:41.010\nAnd by default the authenticated users\nhave read, so they can read the policy.\n\n234\n00:12:41.010 --> 00:12:42.380\nWhen it comes down to their system,\n\n235\n00:12:42.380 --> 00:12:46.240\ntheir user account has permission to\nread the settings in that policy.\n\n236\n00:12:46.240 --> 00:12:49.840\nAs well as apply group policy information.\n\n237\n00:12:49.840 --> 00:12:52.330\nThat means they can actually\nmake the registry changes\n\n238\n00:12:52.330 --> 00:12:54.420\nto put those settings into place.\n\n239\n00:12:54.420 --> 00:12:57.550\nThat's why when we scope policies we\ndon't have to do anything, right?\n\n240\n00:12:57.550 --> 00:13:01.890\nBy default authenticated users\nget read and apply group policy.\n\n241\n00:13:01.890 --> 00:13:06.760\nIn fact, let's go back and take a look\nat the accounting app when I did that.\n\n242\n00:13:06.760 --> 00:13:09.730\nRemember I removed\nthe authenticated users and\n\n243\n00:13:09.730 --> 00:13:15.480\nI added the GPO accounting\napplication apply security group.\n\n244\n00:13:15.480 --> 00:13:17.100\nLet's see if I can see that here.\n\n245\n00:13:17.100 --> 00:13:20.590\nNotice authenticated users\nis no longer in this list.\n\n246\n00:13:20.590 --> 00:13:26.790\nBut there's that group and they have\nread and apply group policy permission.\n\n247\n00:13:26.790 --> 00:13:31.000\nSo that's what was being done in the\nbackground when I was making those changes\n\n248\n00:13:31.000 --> 00:13:32.670\nto this area right here.\n\n249\n00:13:32.670 --> 00:13:34.540\nCould I have done it\nthrough that other area?\n\n250\n00:13:34.540 --> 00:13:38.130\nLike could I have gone to the Delegation\ntab and removed the authenticated users\n\n251\n00:13:38.130 --> 00:13:41.690\nand added that group and\nchecked read and allow apply?\n\n252\n00:13:41.690 --> 00:13:42.200\nAbsolutely.\n\n253\n00:13:42.200 --> 00:13:44.230\nIt would have been the exact same thing.\n\n254\n00:13:44.230 --> 00:13:46.090\nIt's just very easy to do it right here.\n\n255\n00:13:46.090 --> 00:13:48.170\nI don't have the confusing\nDACL to look at.\n\n256\n00:13:48.170 --> 00:13:50.500\nI don't have to check\nthe actual permissions.\n\n257\n00:13:50.500 --> 00:13:53.728\nI just drop them in this list and\nit takes care of the work for me.\n\n258\n00:13:53.728 --> 00:13:59.020\nBut as I I said that won't work when I'm\ntrying to specify who it doesn't apply to.\n\n259\n00:13:59.020 --> 00:14:01.940\nNow you might think, well Mike if\nyou know who it doesn't apply to,\n\n260\n00:14:01.940 --> 00:14:05.360\nwhy don't you just make your group for\neverybody that it does apply to?\n\n261\n00:14:05.360 --> 00:14:08.990\nBut the problem is,\nI don't know who everybody is.\n\n262\n00:14:08.990 --> 00:14:09.520\nRight?\n\n263\n00:14:09.520 --> 00:14:13.510\nI know let's say for example I know\nthat I don't want Excel going to Daniel\n\n264\n00:14:13.510 --> 00:14:16.940\ncause if I give Daniel Excel,\nhe gets into all kinds of trouble.\n\n265\n00:14:16.940 --> 00:14:21.373\nHe spends his whole day doing VBA\nscripts for his spreadsheets to keep\n\n266\n00:14:21.373 --> 00:14:25.590\ntrack of his gaming characters and\nI can't get any work out of it.\n\n267\n00:14:25.590 --> 00:14:27.293\n>> I have a problem.\n\n268\n00:14:27.293 --> 00:14:28.370\n>> [LAUGH]\n>> All right, so\n\n269\n00:14:28.370 --> 00:14:31.930\nI don't want Excel to go to him but\nI want it to go to everybody else.\n\n270\n00:14:31.930 --> 00:14:33.240\nOkay.\nDo the same thing.\n\n271\n00:14:33.240 --> 00:14:37.050\nMake a group, put everybody else in it,\nremove authenticated users,\n\n272\n00:14:37.050 --> 00:14:39.250\nput that group in there,\nand you're good to go.\n\n273\n00:14:39.250 --> 00:14:41.960\nThe problem is, everybody else changes.\n\n274\n00:14:41.960 --> 00:14:43.700\nWe hire new people and\n\n275\n00:14:43.700 --> 00:14:46.810\nnow I've gotta remember to go\nadd them to that group, right?\n\n276\n00:14:46.810 --> 00:14:49.040\nThe everybody part changes.\n\n277\n00:14:49.040 --> 00:14:52.240\nWhat doesn't change is who I\ndon't want it to apply to and\n\n278\n00:14:52.240 --> 00:14:53.900\nthat was Daniel in this case.\n\n279\n00:14:53.900 --> 00:14:59.573\nSo that's why if you're trying to\napply it only to certain people,\n\n280\n00:14:59.573 --> 00:15:01.870\nthat first way is easiest.\n\n281\n00:15:01.870 --> 00:15:04.988\nBut if you're trying to apply it\nto everybody but certain people,\n\n282\n00:15:04.988 --> 00:15:07.870\nthe second way is going to\nbe the easiest way to do it.\n\n283\n00:15:07.870 --> 00:15:08.580\nAll right?\n\n284\n00:15:08.580 --> 00:15:11.600\nSo what I'll do is I'll leave\nthe authenticated users.\n\n285\n00:15:11.600 --> 00:15:17.880\nThink about the logic, I want it to\napply to everybody but certain people.\n\n286\n00:15:17.880 --> 00:15:21.440\nSo I am gonna leave the everybody right\nhere, so the first part's already done.\n\n287\n00:15:21.440 --> 00:15:23.600\nThis policy applies to everybody.\n\n288\n00:15:23.600 --> 00:15:26.890\nThe question is how to do the but\ncertain people.\n\n289\n00:15:26.890 --> 00:15:30.600\nWell, I can't do it here because\nthis is only who it applies to.\n\n290\n00:15:30.600 --> 00:15:36.764\nSo I go to the Delegation tab and\nI pull up that access control list and\n\n291\n00:15:36.764 --> 00:15:43.540\nI add that group I find\nmy Excel exempt group.\n\n292\n00:15:43.540 --> 00:15:45.960\nThe people that I don't want to get Excel.\n\n293\n00:15:45.960 --> 00:15:47.770\nAnd I click OK.\n\n294\n00:15:47.770 --> 00:15:50.550\nNow they're in the access control list.\n\n295\n00:15:50.550 --> 00:15:55.720\nAnd I'm just simply going to deny\nthe apply group policy permission.\n\n296\n00:15:55.720 --> 00:15:56.300\nRight?\n\n297\n00:15:56.300 --> 00:15:59.260\nSo authenticated users have apply.\n\n298\n00:15:59.260 --> 00:16:00.930\nEverybody's a part of that group.\n\n299\n00:16:00.930 --> 00:16:04.990\nBut people that are a part of this group\nwill also have a deny apply group policy.\n\n300\n00:16:04.990 --> 00:16:07.350\nRemember what happens when\nyou combine permissions?\n\n301\n00:16:07.350 --> 00:16:09.200\nIt's the most restrictive of the two.\n\n302\n00:16:09.200 --> 00:16:11.350\nSo even though Daniel's\nauthenticated user,\n\n303\n00:16:11.350 --> 00:16:15.570\nDaniel's also a member of this group,\nthe deny overrides the allow.\n\n304\n00:16:15.570 --> 00:16:16.700\nAnd Daniel or\n\n305\n00:16:16.700 --> 00:16:20.170\nany member of that group will not have\nthe apply group policy permission.\n\n306\n00:16:21.790 --> 00:16:22.510\nAnd that's it.\n\n307\n00:16:22.510 --> 00:16:24.178\nNow, it's gonna warn me,\ndenies are bad, okay?\n\n308\n00:16:24.178 --> 00:16:24.780\n>> [LAUGH]\n>> You know,\n\n309\n00:16:24.780 --> 00:16:27.160\nyou gotta make sure you know\nwhat you're doing with denies.\n\n310\n00:16:27.160 --> 00:16:30.810\nWe'll say, yes, we know,\nMicrosoft, we're okay with that.\n\n311\n00:16:30.810 --> 00:16:33.750\nNow, you notice up here in the list,\nit just says Custom.\n\n312\n00:16:33.750 --> 00:16:35.480\nIt doesn't tell you what you actually did.\n\n313\n00:16:35.480 --> 00:16:39.090\nTo see the results again, or\nif another admin is curious\n\n314\n00:16:39.090 --> 00:16:42.922\nwhat permissions were assigned to\nthis group, all they see is custom.\n\n315\n00:16:42.922 --> 00:16:46.280\nThey're gonna have to go to the advanced,\npull up the dackle, all right.\n\n316\n00:16:46.280 --> 00:16:48.820\nAnd that's it, so now at this point,\n\n317\n00:16:48.820 --> 00:16:54.355\nthis policy applies to everybody except\nmembers of that group, all right.\n\n318\n00:16:54.355 --> 00:16:56.985\nSo two different ways I\ncan do security filtering.\n\n319\n00:16:56.985 --> 00:17:02.965\nOne way if I know I only want\nit to apply to certain people.\n\n320\n00:17:02.965 --> 00:17:04.655\nThat's when I use this first method.\n\n321\n00:17:04.655 --> 00:17:08.955\nPut those certain people or\nthat group in this list here.\n\n322\n00:17:08.955 --> 00:17:13.515\nOr if I want it to apply to everybody but\ncertain people, then I leave everybody\n\n323\n00:17:13.515 --> 00:17:17.510\nhere and put the but\ncertain people in the access control list.\n\n324\n00:17:17.510 --> 00:17:20.170\nAnd then deny them the Apply Group Policy,\nright?\n\n325\n00:17:20.170 --> 00:17:22.880\nThat's what security filtering's all\nabout, and that's a very important thing.\n\n326\n00:17:22.880 --> 00:17:27.620\nAs I said at the very beginning, there's\ntimes when I need more granular control.\n\n327\n00:17:27.620 --> 00:17:30.230\nLinking to the OU itself\nis not good enough.\n\n328\n00:17:30.230 --> 00:17:33.690\nWithin that OU I need to control\nwho's getting the setting and\n\n329\n00:17:33.690 --> 00:17:35.240\nwho's not getting the setting.\n\n330\n00:17:35.240 --> 00:17:38.290\nThat's where security\nfiltering comes into place.\n\n331\n00:17:38.290 --> 00:17:39.170\nAll right?\n\n332\n00:17:39.170 --> 00:17:40.590\nNow, you can do that with computers.\n\n333\n00:17:40.590 --> 00:17:43.450\nRight, that group could\ncontain computer accounts.\n\n334\n00:17:43.450 --> 00:17:45.010\nIt would work the exact same way.\n\n335\n00:17:45.010 --> 00:17:47.910\nWhen that computer logged in or\nstarted up.\n\n336\n00:17:47.910 --> 00:17:51.370\nAnd authenticated or\nretrieved those lists of group policy.\n\n337\n00:17:51.370 --> 00:17:55.090\nIf the computer account was denied apply\ngroup policy over a particular GPO,\n\n338\n00:17:55.090 --> 00:17:57.360\nthen those setting wouldn't be in effect.\n\n339\n00:17:57.360 --> 00:17:57.890\nAll right.\nSo\n\n340\n00:17:57.890 --> 00:18:01.900\nit works the exact same way with\ncomputer accounts, not difference there.\n\n341\n00:18:01.900 --> 00:18:06.100\nBut there is another type\nof filtering that I can do,\n\n342\n00:18:06.100 --> 00:18:08.780\nspecific to computer accounts.\n\n343\n00:18:08.780 --> 00:18:14.570\nAnd that is WMI filtering,\nWindows Management Instrumentation.\n\n344\n00:18:14.570 --> 00:18:20.050\nWMI gives me access to\ninformation about the computer.\n\n345\n00:18:20.050 --> 00:18:25.420\nThings like, what operating system it's\nrunning, what service pack level it's at,\n\n346\n00:18:25.420 --> 00:18:29.640\nhow much RAM is in the system,\nwhat processor it's running.\n\n347\n00:18:29.640 --> 00:18:34.150\nAll of this stuff I can reach out and\nquery the system and\n\n348\n00:18:34.150 --> 00:18:36.192\nreturn that information.\n\n349\n00:18:36.192 --> 00:18:41.240\nA WMI filter, allows me to reach out,\ngrab that information,\n\n350\n00:18:41.240 --> 00:18:45.300\nand use it as a way to filter the GPO,\nright?\n\n351\n00:18:46.330 --> 00:18:49.290\nFor example, I've got a WMI filter.\n\n352\n00:18:49.290 --> 00:18:52.620\nWMI filters are written\nseparate from the GVO's, right?\n\n353\n00:18:52.620 --> 00:18:54.910\nThey're down in their own\nlittle node down here.\n\n354\n00:18:54.910 --> 00:19:01.240\nAnd you simply right click, New, and you\ngive it a name, and then you click Add.\n\n355\n00:19:01.240 --> 00:19:03.120\nAnd, this is where you\ngotta know your stuff.\n\n356\n00:19:03.120 --> 00:19:09.690\nYou've gotta know what the name space is,\nas well as how to write the WMI Query.\n\n357\n00:19:09.690 --> 00:19:13.070\nIt's written in its own language,\nit's Windows query language,\n\n358\n00:19:13.070 --> 00:19:17.050\nor WQL, it's similar to SQL.\n\n359\n00:19:17.050 --> 00:19:18.165\nBut slightly different.\n\n360\n00:19:18.165 --> 00:19:19.270\n[LAUGH]\n>> Just enough to get you in\n\n361\n00:19:19.270 --> 00:19:20.100\ntrouble, right?\n\n362\n00:19:20.100 --> 00:19:21.922\nLike, I know this is supposed to work!\n\n363\n00:19:21.922 --> 00:19:23.790\n[LAUGH]\n>> [LAUGH] Absolutely, it does.\n\n364\n00:19:23.790 --> 00:19:24.830\nIt drives you crazy.\n\n365\n00:19:24.830 --> 00:19:28.810\nYou basically have to go out to MSDN,\nand you can retrieve a list and\n\n366\n00:19:28.810 --> 00:19:30.540\nyou can search their site.\n\n367\n00:19:30.540 --> 00:19:35.180\nYou can find all the different classes\nlike Win 32 Underscore Operating System.\n\n368\n00:19:35.180 --> 00:19:38.360\nNow, that's the class that\nstores information about\n\n369\n00:19:38.360 --> 00:19:40.920\nwhat version of the OS\nthat machine is running.\n\n370\n00:19:40.920 --> 00:19:43.260\nSo, if I know the class,\nI can now query that class.\n\n371\n00:19:43.260 --> 00:19:44.730\nI can say, well here, let me show you.\n\n372\n00:19:44.730 --> 00:19:46.500\nI've got one that I wrote earlier.\n\n373\n00:19:46.500 --> 00:19:48.927\nThis one's actually looking for\n64 bit operating systems.\n\n374\n00:19:48.927 --> 00:19:49.427\nAll right.\n\n375\n00:19:51.010 --> 00:19:53.730\nSo, I'll click Edit, and here is my query.\n\n376\n00:19:53.730 --> 00:20:00.960\nSelect all from win 32_operating\nsystem where product type equals one.\n\n377\n00:20:00.960 --> 00:20:03.170\nAgain, that something that\nI don't memorize that,\n\n378\n00:20:03.170 --> 00:20:05.760\nI have to go look up on MSDN.\n\n379\n00:20:05.760 --> 00:20:08.870\nProduct type one means,\ndesktop operating system.\n\n380\n00:20:08.870 --> 00:20:12.880\nIt doesn't differentiate between or\ndoes differentiate, I'm sorry,\n\n381\n00:20:12.880 --> 00:20:16.070\nbetween server and\nclient operating system.\n\n382\n00:20:16.070 --> 00:20:18.790\nThere's other product types\nthat don't differentiate,\n\n383\n00:20:18.790 --> 00:20:21.680\nthere's one that just calls for\nserver, things like that.\n\n384\n00:20:21.680 --> 00:20:24.280\nSo you can go out to Microsoft again and\nyou can find that information.\n\n385\n00:20:24.280 --> 00:20:31.190\nSo where product type equals one, and\nOS Architecture equals 64 bit, right?\n\n386\n00:20:31.190 --> 00:20:35.800\nBut as I said, you've gotta know product\ntype is one of the possibilities.\n\n387\n00:20:35.800 --> 00:20:40.060\nAnd what the heck that could possibly\nequal, so that you can do your filtering.\n\n388\n00:20:40.060 --> 00:20:41.670\nSo check it out.\n\n389\n00:20:41.670 --> 00:20:44.280\nGo to MSDN, pull that stuff up there.\n\n390\n00:20:44.280 --> 00:20:46.900\nI've actually found some really good\nsites where some guys have a whole\n\n391\n00:20:46.900 --> 00:20:49.420\nbunch of pre-built WMI queries.\n\n392\n00:20:49.420 --> 00:20:50.970\nSo if you need a query to look for\njust 2008 R2,\n\n393\n00:20:50.970 --> 00:20:55.420\nyou can just go snag one of their\nqueries and put it in there.\n\n394\n00:20:55.420 --> 00:20:59.570\nBut for the exam,\nyou don't have to know the WMI or the WQL.\n\n395\n00:20:59.570 --> 00:21:04.940\nThey're not gonna expect you to\nactually write a WMI filter.\n\n396\n00:21:04.940 --> 00:21:06.990\nWhat they do expect you to know however,\n\n397\n00:21:06.990 --> 00:21:10.160\nis how you go about using these guys,\nall right.\n\n398\n00:21:10.160 --> 00:21:13.380\nSo once you've got these written,\n[COUGH] excuse me,\n\n399\n00:21:13.380 --> 00:21:15.260\nthey stay here in the WMI filters.\n\n400\n00:21:15.260 --> 00:21:16.190\nAnd what's cool about that,\n\n401\n00:21:16.190 --> 00:21:20.070\nthe fact that they're separate from\nthe GPOs, means they're reusable.\n\n402\n00:21:20.070 --> 00:21:21.858\nAnd I'll show you what I mean.\n\n403\n00:21:21.858 --> 00:21:27.060\nLet's say that this version of excel\nviewer only works on 64 bit systems.\n\n404\n00:21:27.060 --> 00:21:30.060\nIf it tries to install it on\na 32 bit system, it fails.\n\n405\n00:21:30.060 --> 00:21:31.733\nIt causes an error.\n\n406\n00:21:31.733 --> 00:21:33.680\nAll right.\nSo I've linked it here but\n\n407\n00:21:33.680 --> 00:21:37.316\nwhat if some of the computers\ndown there are 32 bit, right.\n\n408\n00:21:37.316 --> 00:21:42.230\nWhere actually you know, I could do is,\nI could link it up here, just, and\n\n409\n00:21:42.230 --> 00:21:46.630\nlet's just make a, we'll make one and\nwe'll say this one is pushing out Office.\n\n410\n00:21:46.630 --> 00:21:49.610\nAll right?\n2010, or 2013, all right?\n\n411\n00:21:51.110 --> 00:21:54.850\nSo I got a GPO that's pushing out\nOffice to the client computer.\n\n412\n00:21:54.850 --> 00:21:59.110\nBut the version of Office that\nI'm pushing out is 64 bit.\n\n413\n00:21:59.110 --> 00:22:02.480\nAnd if it goes to a 32 bit system,\nthat's gonna cause a problem.\n\n414\n00:22:02.480 --> 00:22:07.560\nSo I need to somehow filter this so\nthat it only applies to 64 bit machines.\n\n415\n00:22:07.560 --> 00:22:10.282\nWell I go to the GPO, and\nI come down here to the very bottom,\n\n416\n00:22:10.282 --> 00:22:13.292\nunderneath that security filtering\nwe were looking at earlier.\n\n417\n00:22:13.292 --> 00:22:15.846\nand here's my WMI filtering.\n\n418\n00:22:15.846 --> 00:22:18.830\nAnd all I have to do is hit my\ndrop down list, there's my X64.\n\n419\n00:22:20.010 --> 00:22:23.660\nAnd I'll say yes, I want to change it,\nand we're good to go.\n\n420\n00:22:23.660 --> 00:22:26.748\nAnd now, just like the security filtering,\nit's gonna limit that.\n\n421\n00:22:26.748 --> 00:22:32.405\nIt's still gonna inherit down to all\ncomputer objects within here, but it's not\n\n422\n00:22:32.405 --> 00:22:36.570\ngonna be applied if the system is running\na 32 bit operating system, all right.\n\n423\n00:22:36.570 --> 00:22:39.340\nAnd what I meant about reusability,\nI can go to it,\n\n424\n00:22:39.340 --> 00:22:41.300\nlet's say I wanted to\nfilter this by 64 bit?\n\n425\n00:22:41.300 --> 00:22:45.770\nNo problem,\nI can use that WMI filter here as well.\n\n426\n00:22:47.248 --> 00:22:52.720\nSo, the WMI filters are written separate,\nand I can reuse them in any GPOs I want.\n\n427\n00:22:52.720 --> 00:22:58.880\nI don't have to write a separate WMI\nfilter for each one of those GPOs.\n\n428\n00:22:58.880 --> 00:23:01.270\n>> Yeah, that WMI stuff is super powerful.\n\n429\n00:23:01.270 --> 00:23:03.500\nYou just gotta kinda know how it works.\n\n430\n00:23:03.500 --> 00:23:05.790\nIf you ever get that kinda\nthing underneath your belt,\n\n431\n00:23:05.790 --> 00:23:08.200\nget it really engrained in the old brain,\n\n432\n00:23:08.200 --> 00:23:12.080\nyou are worth your weight in\nMicrosoft gold, that is for sure.\n\n433\n00:23:12.080 --> 00:23:12.910\nGreat stuff Michael.\n\n434\n00:23:12.910 --> 00:23:13.520\n>> Thank you, thank you.\n\n435\n00:23:13.520 --> 00:23:14.610\n>> Yes.\n>> All right, Daniel.\n\n436\n00:23:14.610 --> 00:23:15.330\nI was thinking.\n\n437\n00:23:15.330 --> 00:23:16.760\nI know I've still,\nwe've still got some more to do.\n\n438\n00:23:16.760 --> 00:23:20.820\nWe've got to do some loop\nback policy processing.\n\n439\n00:23:20.820 --> 00:23:25.120\nAnd I also need to show you guys\nhow to do slow link detection and\n\n440\n00:23:25.120 --> 00:23:27.260\npolicy caching and\nall kinds of stuff that I.\n\n441\n00:23:27.260 --> 00:23:28.206\n>> But that's gonna take a little time,\nthough, isn't it, Mike?\n\n442\n00:23:28.206 --> 00:23:29.355\n>> Yeah, I'm afraid I'd have luh,\nluh, luh, luh, luh,\n\n443\n00:23:29.355 --> 00:23:29.971\nluh really fast to get it done.\n\n444\n00:23:29.971 --> 00:23:31.002\n>> [LAUGH]\n>> [LAUGH] And\n\n445\n00:23:31.002 --> 00:23:32.873\nwhat I'm seeing on the clock here.\n\n446\n00:23:32.873 --> 00:23:36.550\n>> Yeah, well, since that being said,\nwe got plenty more to do.\n\n447\n00:23:36.550 --> 00:23:37.350\nGuess what?\n\n448\n00:23:37.350 --> 00:23:38.720\nPart three coming your way.\n\n449\n00:23:38.720 --> 00:23:40.100\nHopefully, we'll see you there.\n\n450\n00:23:40.100 --> 00:23:42.000\nAs for this one,\nwe're gonna go ahead and wrap it up.\n\n451\n00:23:42.000 --> 00:23:43.300\nSigning off for ITProTV.\n\n452\n00:23:43.300 --> 00:23:44.910\nI've been your host Daniel Lowrie.\n\n453\n00:23:44.910 --> 00:23:45.660\n>> And I'm Mike Roderick.\n\n454\n00:23:45.660 --> 00:23:46.839\n>> And we'll see you next time.\n\n455\n00:23:46.839 --> 00:23:53.160\n[MUSIC]\n\n",
          "vimeoId": "138326557"
        },
        {
          "description": "In this episode, Mike and Daniel finish exploring Group Policy Processing, covering a myriad of topics such as configuring loopback processing, configuring and managing slow-link processing and Group Policy caching, configuring client-side extension(CSE) behavior, and forcing Group Policy updates.",
          "length": "2066",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-19-1-group-policy_processing_pt3-090315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-19-1-group-policy_processing_pt3-090315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-19-1-group-policy_processing_pt3-090315-1-sm.jpg",
          "title": "Group Policy Processing Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.388\n[MUSIC]\n\n2\n00:00:10.388 --> 00:00:12.051\nAll right, greetings everyone.\n\n3\n00:00:12.051 --> 00:00:15.135\nWelcome to another another\ngreat episode of ITProTV.\n\n4\n00:00:15.135 --> 00:00:18.262\nI'm your host, Daniel Lowry, here with\nme today, my partner in crime, Mr.\n\n5\n00:00:18.262 --> 00:00:19.135\nMike Rodrick.\n\n6\n00:00:19.135 --> 00:00:19.935\nHow's it going today, Mike?\n\n7\n00:00:19.935 --> 00:00:20.865\n>> It's going great.\n\n8\n00:00:20.865 --> 00:00:25.995\nWe got more 411 content coming your way,\nand we got more group policy information\n\n9\n00:00:25.995 --> 00:00:29.465\ncoming your way, because you know\nit's one of my favorite topics.\n\n10\n00:00:29.465 --> 00:00:33.045\nThere's so much we can say about\ngroup policy [LAUGH] but there is.\n\n11\n00:00:33.045 --> 00:00:35.325\nWe're getting close to the end of it,\nI promise,\n\n12\n00:00:35.325 --> 00:00:36.970\nif you're getting tired\nof hearing about it.\n\n13\n00:00:36.970 --> 00:00:40.901\nRemember, group policy plays a big\npart in, really, all of the exams,\n\n14\n00:00:40.901 --> 00:00:43.938\nas you study for your MCSA, 410, 411, 412.\n\n15\n00:00:43.938 --> 00:00:46.788\nAs well as getting out there in\nthe real world, and doing your job and\n\n16\n00:00:46.788 --> 00:00:49.800\nmanaging your enterprise network,\ngroup policy is a big part of that.\n\n17\n00:00:49.800 --> 00:00:52.940\nSo we've gotta have a good understanding.\n\n18\n00:00:52.940 --> 00:00:55.810\nSo what we've got left to talk\nabout are a couple of the concepts.\n\n19\n00:00:55.810 --> 00:00:59.700\nOne's a little more complex than some of\nthe stuff we've been talking about before.\n\n20\n00:00:59.700 --> 00:01:02.510\nIt's called loopback policy processing.\n\n21\n00:01:02.510 --> 00:01:05.885\nI always have people asking\nme questions about this, and\n\n22\n00:01:05.885 --> 00:01:08.361\nI have to go over it\ntypically a few times.\n\n23\n00:01:08.361 --> 00:01:10.130\nWe'll break that down good for you.\n\n24\n00:01:10.130 --> 00:01:14.309\nAnd we're also gonna take a look\nat slow link detection and\n\n25\n00:01:14.309 --> 00:01:18.330\ncaching and\nsomething called client side extensions.\n\n26\n00:01:18.330 --> 00:01:21.260\nAnd their behaviors and\nthe way that they work.\n\n27\n00:01:21.260 --> 00:01:24.860\nAll right so let's start with\nloopback policy processing.\n\n28\n00:01:24.860 --> 00:01:29.782\nAnd actually before we do that I've got\na precursor to loopback policy processing.\n\n29\n00:01:29.782 --> 00:01:34.076\nBecause in order to understand how and\nwhy we're gonna use loopback policy\n\n30\n00:01:34.076 --> 00:01:38.820\nprocessing, we've got to make sure we\nunderstand normal policy processing.\n\n31\n00:01:38.820 --> 00:01:42.950\nSo what I've got is a little drawing\nhere that we're gonna try to use.\n\n32\n00:01:42.950 --> 00:01:45.780\nAnd that's not it, there we go.\n\n33\n00:01:45.780 --> 00:01:48.620\nAnd let me hide some of this for\nyou, all right.\n\n34\n00:01:48.620 --> 00:01:52.240\nAnd maybe if I can get Jason\nto go without that box in box.\n\n35\n00:01:52.240 --> 00:01:55.050\nYou guys don't need to see me here,\nmake that a little bit bigger.\n\n36\n00:01:55.050 --> 00:01:58.490\nWhat I've got is a basic OU structure, so\n\n37\n00:01:58.490 --> 00:02:03.130\nkind of like a little subset of an OU\nstructure with an Active Directory.\n\n38\n00:02:03.130 --> 00:02:06.960\nI've got this top level OU here, and\nthen these are supposed to be nested.\n\n39\n00:02:06.960 --> 00:02:12.450\nSo this OU, this OU, and\nthis OU, these three,\n\n40\n00:02:12.450 --> 00:02:18.360\nare nested inside here and\nthen inside this OU, there's another OU.\n\n41\n00:02:18.360 --> 00:02:22.630\nAnd then inside this OU, is my\ncomputer account in Active Directory.\n\n42\n00:02:22.630 --> 00:02:25.520\nSame thing here,\nI've got a nested OU scenario, and\n\n43\n00:02:25.520 --> 00:02:28.510\nthen there's a user\naccount inside this OU.\n\n44\n00:02:28.510 --> 00:02:30.770\nAnd then in this OU, there's a group.\n\n45\n00:02:30.770 --> 00:02:32.950\nAnd that's the only way I\nknew how to draw a group.\n\n46\n00:02:32.950 --> 00:02:36.080\nThat was just what I came up with,\nso live with that.\n\n47\n00:02:36.080 --> 00:02:37.060\nAll right, so there we go.\n\n48\n00:02:37.060 --> 00:02:41.110\nWe've got our user account, my little\nstick figure, my computer, and my group.\n\n49\n00:02:41.110 --> 00:02:45.310\nAnd what we're gonna talk about is\nwe're gonna say that this user,\n\n50\n00:02:45.310 --> 00:02:50.002\nwho's a member of this group,\nis gonna log on to this computer.\n\n51\n00:02:50.002 --> 00:02:54.711\nAnd what we want to try to determine,\nand this is what you've gotta be able to\n\n52\n00:02:54.711 --> 00:02:59.882\nfigure out, which policies are going to\nbe in effect, or applied, in what order?\n\n53\n00:02:59.882 --> 00:03:02.645\nAll right because remember,\nthe order is very important.\n\n54\n00:03:02.645 --> 00:03:06.939\nAll right, because that affects the\noutcome for that resulting set of policy.\n\n55\n00:03:06.939 --> 00:03:10.765\nAll right, so what happens\nnormal group policy processing?\n\n56\n00:03:10.765 --> 00:03:15.515\nWhen that computer starts up it\nauthenticates with Active Directory and\n\n57\n00:03:15.515 --> 00:03:19.275\nit retrieves a list of GPOs\nfrom Active Directory.\n\n58\n00:03:19.275 --> 00:03:24.427\nIt says hey, what policies am I\nsupposed to apply as I start up?\n\n59\n00:03:24.427 --> 00:03:28.733\nAnd Active Directory returns\nan ordered list of GPOs.\n\n60\n00:03:28.733 --> 00:03:31.473\nIt says here's the GPOs\nyou're supposed to apply,\n\n61\n00:03:31.473 --> 00:03:34.162\nthis is the order that\nyou're gonna apply them in.\n\n62\n00:03:34.162 --> 00:03:37.042\nAnd I'm gonna help us out, normally I\nmight do a little quiz with this, but\n\n63\n00:03:37.042 --> 00:03:39.262\nI know we've got a little\nbit of lag on the chatroom.\n\n64\n00:03:39.262 --> 00:03:42.152\nIf you guys wanna try to play along,\nDaniel maybe you can keep an eye on\n\n65\n00:03:42.152 --> 00:03:46.030\nthe chatroom and see if anybody answers,\nbut let's break this down.\n\n66\n00:03:46.030 --> 00:03:49.810\nSo if this computer starts up and\nit queries Active Directory and says,\n\n67\n00:03:49.810 --> 00:03:53.154\nwhat GPOs do I need and\nwhat order am I supposed to apply them in?\n\n68\n00:03:53.154 --> 00:03:56.800\nWell, each GPO,\neach one of these, is a GPO.\n\n69\n00:03:56.800 --> 00:04:00.260\nRemember GPOs have a computer half and\na user half.\n\n70\n00:04:00.260 --> 00:04:03.698\nSo this is GPO A, it's linked to this OU.\n\n71\n00:04:03.698 --> 00:04:06.397\nThis is GPO F, it's linked to this OU.\n\n72\n00:04:06.397 --> 00:04:10.237\nGPO B is linked to this OU,\netc., etc., etc.\n\n73\n00:04:10.237 --> 00:04:14.065\nSo when that computer starts up,\nwhat's actually going to happen is, and\n\n74\n00:04:14.065 --> 00:04:18.810\nlet me get my typewriter, cuz I'm not\ngonna be able to write with my mouse.\n\n75\n00:04:18.810 --> 00:04:22.971\nWhen that computer starts up,\nit gets the list, and\n\n76\n00:04:22.971 --> 00:04:27.987\nActive Directory's gonna say,\nall right, you're supposed\n\n77\n00:04:27.987 --> 00:04:32.828\nto apply GPO A, right, and\nthen GPO F and then GPO B, right?\n\n78\n00:04:32.828 --> 00:04:37.803\nSo hopefully you guys got that right out\nthere in TV land if you guys are trying\n\n79\n00:04:37.803 --> 00:04:39.500\nthis at home.\n\n80\n00:04:39.500 --> 00:04:44.320\nA is linked here, it inherits down and\napplies this computer.\n\n81\n00:04:45.410 --> 00:04:50.530\nLocal, site, domain, OU, right that's\nthe order, and then nested OU's.\n\n82\n00:04:50.530 --> 00:04:55.560\nAnd then F is linked here, so it's gonna\ninherit down, that would be in effect.\n\n83\n00:04:55.560 --> 00:04:59.990\nAnd then B is going to be linked here and\nit inherits down.\n\n84\n00:04:59.990 --> 00:05:03.300\nSo that is the order that\nthey would be applied in.\n\n85\n00:05:03.300 --> 00:05:04.052\n>> I got it right Mike.\n\n86\n00:05:04.052 --> 00:05:04.645\n>> You got it right?\n\n87\n00:05:04.645 --> 00:05:06.077\n>> I'm good yeah.\n>> All right, good deal,\n\n88\n00:05:06.077 --> 00:05:07.627\ngood job you get the gold star.\n\n89\n00:05:07.627 --> 00:05:08.340\n>> Hey, I try.\n\n90\n00:05:08.340 --> 00:05:11.720\n>> All right, and now what I'm gonna\ndo is show you that it's only gonna be\n\n91\n00:05:11.720 --> 00:05:13.080\nthe computer half of A though.\n\n92\n00:05:14.610 --> 00:05:20.759\nIt's gonna be the computer half of F and\nthe computer half of B.\n\n93\n00:05:20.759 --> 00:05:22.673\nBecause this is a computer account so\n\n94\n00:05:22.673 --> 00:05:25.610\nit's looking at the computer\nsettings within the GPO.\n\n95\n00:05:25.610 --> 00:05:27.330\nIf there was a user setting in policy F,\n\n96\n00:05:27.330 --> 00:05:30.680\nat this point it would not be applied,\nright?\n\n97\n00:05:30.680 --> 00:05:34.660\nThis is a computer, so it's only reading\nthe computer half of those GPOs.\n\n98\n00:05:35.840 --> 00:05:42.310\nNow a user logs on, and it's this user\ndown here, and the process repeats.\n\n99\n00:05:42.310 --> 00:05:45.525\nWhen that user logs on, he authenticates\nwith Active Directory, and\n\n100\n00:05:45.525 --> 00:05:48.692\nthese client-side extensions,\nthese are what actually process.\n\n101\n00:05:48.692 --> 00:05:52.765\nThey run on the local system, and\nthey process the GPOs and say hey,\n\n102\n00:05:52.765 --> 00:05:56.718\ngive me a list of GPOs that I'm\nsuppose to apply and in what order.\n\n103\n00:05:56.718 --> 00:06:00.410\nSo if we follow that same logic Daniel,\nlet's see how you do here.\n\n104\n00:06:00.410 --> 00:06:02.820\nWhat policy should I put first here?\n\n105\n00:06:02.820 --> 00:06:05.510\n>> Let's see it looks like\nI'll start with A, Mike.\n\n106\n00:06:05.510 --> 00:06:08.240\n>> A's linked up here\nwhich would inherit down.\n\n107\n00:06:09.500 --> 00:06:13.560\nAll right, so you would be correct,\nI'll grab my little typewriter here.\n\n108\n00:06:13.560 --> 00:06:15.468\nA is gonna go first and then what?\n\n109\n00:06:15.468 --> 00:06:17.906\n>> Then I'm gonna go\nwith what looks like a D.\n\n110\n00:06:17.906 --> 00:06:20.460\n>> [LAUGH] You are correct,\nand that's awfully small.\n\n111\n00:06:20.460 --> 00:06:22.164\n>> The eyes aren't what they once were.\n\n112\n00:06:22.164 --> 00:06:24.135\n[LAUGH]\n>> All right, so D, and\n\n113\n00:06:24.135 --> 00:06:27.028\ncan we zoom in on that for\nme for just a second?\n\n114\n00:06:27.028 --> 00:06:31.860\nThere's D, so you can see he's saying\nthat this policy here linked inherits\n\n115\n00:06:31.860 --> 00:06:34.800\ndown to the OU, all right,\nor to that user account.\n\n116\n00:06:34.800 --> 00:06:36.170\nAnd then the last one, Daniel, would be?\n\n117\n00:06:36.170 --> 00:06:37.225\n>> It's gonna be C.\n\n118\n00:06:37.225 --> 00:06:38.690\n>> It's gonna be C, right.\n\n119\n00:06:38.690 --> 00:06:43.610\nSo policy A, policy D, and policy C.\n\n120\n00:06:43.610 --> 00:06:48.917\nAnd this time,\nI'm gonna get the user half of A,\n\n121\n00:06:48.917 --> 00:06:54.750\nthe user half of D, and\nthe user half of C, all right.\n\n122\n00:06:54.750 --> 00:06:57.637\nBecause this is a user account\nthat we're talking about, so\n\n123\n00:06:57.637 --> 00:07:01.728\nit's only interested in the user settings\nthat it's supposed to apply, all right.\n\n124\n00:07:01.728 --> 00:07:05.490\nAnd that's how we end up with\nthese settings, the end result.\n\n125\n00:07:05.490 --> 00:07:09.304\nNow what you might have noticed here\nis that nobody ever said policy E.\n\n126\n00:07:09.304 --> 00:07:12.982\nWell that user's a member of that group,\nthat group's in that OU,\n\n127\n00:07:12.982 --> 00:07:15.170\nand policy E is linked to that OU.\n\n128\n00:07:15.170 --> 00:07:17.440\nWhere's E in my answer?\n\n129\n00:07:17.440 --> 00:07:21.580\nWell interesting little fact group\npolicy does not apply to groups.\n\n130\n00:07:22.750 --> 00:07:26.486\nWe call it group policy but\nit doesn't actually apply to groups\n\n131\n00:07:26.486 --> 00:07:28.704\n>> Thank you for the confusion Microsoft.\n\n132\n00:07:28.704 --> 00:07:32.880\n[LAUGH]\n>> We can use\n\n133\n00:07:32.880 --> 00:07:35.320\ngroups to filter group policy right.\n\n134\n00:07:35.320 --> 00:07:38.370\nWe can control who gets them and\nwho doesn't.\n\n135\n00:07:38.370 --> 00:07:41.240\nWe've talked about that right,\nbeing able to do security filtering.\n\n136\n00:07:41.240 --> 00:07:43.530\nBut when it comes to applying the policy,\n\n137\n00:07:43.530 --> 00:07:47.510\nit's all based on where the computer\nis in Active Directory.\n\n138\n00:07:47.510 --> 00:07:49.840\nAnd where the user account\nis in Active Directory.\n\n139\n00:07:49.840 --> 00:07:52.427\nThat's why when we set\nup Active Directory,\n\n140\n00:07:52.427 --> 00:07:56.590\nwe can make an OU called groups and\njust dump every single group in there.\n\n141\n00:07:56.590 --> 00:08:00.130\nMakes them easier to find groups,\nyou can sort them alphabetically.\n\n142\n00:08:00.130 --> 00:08:02.850\nThey don't have to be in\nthe OU with the users, right.\n\n143\n00:08:02.850 --> 00:08:04.252\nA lot of people try to do that, and\n\n144\n00:08:04.252 --> 00:08:07.763\nwhat happens is you'll get a group that\ncontains users from two different OUs, and\n\n145\n00:08:07.763 --> 00:08:10.890\nthey're like, oh my God, where do I\nput this group in Active Directory?\n\n146\n00:08:10.890 --> 00:08:12.120\nIt doesn't matter.\n\n147\n00:08:12.120 --> 00:08:13.000\nPut it anywhere you want.\n\n148\n00:08:13.000 --> 00:08:14.820\nPut it in the built-in users container.\n\n149\n00:08:14.820 --> 00:08:15.630\nI don't care.\n\n150\n00:08:15.630 --> 00:08:19.556\nGroup Policy doesn't apply to groups,\nso you're good to go there.\n\n151\n00:08:19.556 --> 00:08:20.160\nAll right.\n\n152\n00:08:20.160 --> 00:08:22.220\nThat's my normal behavior.\n\n153\n00:08:22.220 --> 00:08:25.780\nThat's the way Group Policy is applied,\nnormally.\n\n154\n00:08:25.780 --> 00:08:30.820\nThere are times however, that we're\ngonna want to modify this behavior.\n\n155\n00:08:30.820 --> 00:08:36.000\nLet's say for\nexample that this GPO down here,\n\n156\n00:08:36.000 --> 00:08:39.330\npolicy C actually installs.\n\n157\n00:08:40.660 --> 00:08:43.510\nAnd let's get rid of my caps lock there,\nso I'm not screaming at you.\n\n158\n00:08:43.510 --> 00:08:49.690\nInstalls that line of business\naccounting application.\n\n159\n00:08:50.800 --> 00:08:51.430\nAll right?\n\n160\n00:08:51.430 --> 00:08:53.930\nSo that any time this user logs on,\n\n161\n00:08:53.930 --> 00:08:56.810\nit's gonna make sure that that\naccounting application is installed.\n\n162\n00:08:56.810 --> 00:08:58.210\nIt doesn't matter what\ncomputer they go to.\n\n163\n00:08:58.210 --> 00:08:58.800\nRight?\n\n164\n00:08:58.800 --> 00:09:01.680\nBecause when it gets to this phase here,\nwhen that user logs on,\n\n165\n00:09:01.680 --> 00:09:04.210\nit says where's the user\nin Active Directory?\n\n166\n00:09:04.210 --> 00:09:06.270\nWhich policies are inheriting down?\n\n167\n00:09:06.270 --> 00:09:07.070\nThat's what I'm gonna do.\n\n168\n00:09:07.070 --> 00:09:08.290\nAll right.\n\n169\n00:09:08.290 --> 00:09:10.770\nSo, it'll install this\naccounting application.\n\n170\n00:09:10.770 --> 00:09:15.690\nWhat if this computer is my\nkiosk out in the lobby, right?\n\n171\n00:09:15.690 --> 00:09:19.930\nThat let's people walk into the building\nand look up office numbers or extensions,\n\n172\n00:09:19.930 --> 00:09:21.590\nyou know or map of the building,\nI don't know.\n\n173\n00:09:21.590 --> 00:09:24.980\nWhatever they do with those\nkiosk out there, right?\n\n174\n00:09:24.980 --> 00:09:29.810\nWhat happens if this user, ends up\nlogging on to that kiosk for some reason.\n\n175\n00:09:29.810 --> 00:09:34.730\nDo I really want my line of business\naccounting application being installed\n\n176\n00:09:34.730 --> 00:09:38.690\non the kiosk machine in the lobby,\nwhere anybody could walk up to it and\n\n177\n00:09:38.690 --> 00:09:40.920\npotentially get access to the application.\n\n178\n00:09:40.920 --> 00:09:42.044\nWhat do you think, Daniel?\n\n179\n00:09:42.044 --> 00:09:42.810\n>> I don't want that.\n\n180\n00:09:42.810 --> 00:09:45.168\n>> [LAUGH]\n>> Not in my house anyway.\n\n181\n00:09:45.168 --> 00:09:46.660\n[LAUGH]\n>> [LAUGH] Right?\n\n182\n00:09:46.660 --> 00:09:48.210\nWe don't want that to happen, but\n\n183\n00:09:48.210 --> 00:09:51.082\nthat's exactly what's gonna\nhappen with this normal behavior.\n\n184\n00:09:51.082 --> 00:09:51.790\nAll right.\n\n185\n00:09:51.790 --> 00:09:55.910\nThat application will follow that\nuser wherever they log on to.\n\n186\n00:09:55.910 --> 00:09:59.500\nThat's where loopback policy\nprocessing comes into play.\n\n187\n00:09:59.500 --> 00:10:03.860\nNow this gets a little twisty with the\nlanguage, so listen carefully, all right?\n\n188\n00:10:03.860 --> 00:10:07.080\nNormally, we're getting the user settings,\n\n189\n00:10:07.080 --> 00:10:10.590\nbased on where the user\nis in Active Directory.\n\n190\n00:10:10.590 --> 00:10:11.930\nJust like we saw here, A, D, C, right?\n\n191\n00:10:13.690 --> 00:10:16.265\nLoopback that policy processing says,\n\n192\n00:10:16.265 --> 00:10:22.040\nget the user settings based on where the\ncomputer is in Active Directory, right?\n\n193\n00:10:22.040 --> 00:10:27.450\nSo, with loopback policy processing,\nlet's switch colors here.\n\n194\n00:10:27.450 --> 00:10:29.962\nLet's go with, I don't know,\nwe'll go green, all right?\n\n195\n00:10:29.962 --> 00:10:34.910\nWith loopback policy processing, the first\npart, and let's do it up here, we'll say.\n\n196\n00:10:34.910 --> 00:10:36.730\nThere's actually two modes.\n\n197\n00:10:36.730 --> 00:10:39.810\nThat I can do loopback\npolicy processing in,\n\n198\n00:10:39.810 --> 00:10:42.855\noops I don't know what I have done,\nthere we go.\n\n199\n00:10:42.855 --> 00:10:46.775\nLoopback policy processing has two modes,\nso I'm gonna put up here loopback.\n\n200\n00:10:48.820 --> 00:10:51.670\nAnd then underneath there,\nI'm gonna put the two modes.\n\n201\n00:10:51.670 --> 00:10:54.520\nI've got what's called replace mode.\n\n202\n00:10:56.280 --> 00:11:00.189\nAnd I also have something\ncalled merge mode.\n\n203\n00:11:00.189 --> 00:11:01.390\nAll right.\n\n204\n00:11:01.390 --> 00:11:03.755\nAnd yeah, i don't have those\nlined up all that well, sorry.\n\n205\n00:11:03.755 --> 00:11:05.480\n>> [LAUGH]\n>> All right, so\n\n206\n00:11:05.480 --> 00:11:07.730\nnow we'll go with green for replace mode.\n\n207\n00:11:07.730 --> 00:11:09.160\nSo what's gonna happen,\n\n208\n00:11:09.160 --> 00:11:12.990\nwhen the computer starts up,\nit's gonna do just like it always does.\n\n209\n00:11:12.990 --> 00:11:15.620\nIt's gonna go get a list of policies.\n\n210\n00:11:15.620 --> 00:11:20.190\nA, F and B all inherit down\nto that computer account so\n\n211\n00:11:20.190 --> 00:11:22.645\nthat's gonna be, A, F and B.\n\n212\n00:11:22.645 --> 00:11:24.695\nAll right.\n\n213\n00:11:24.695 --> 00:11:29.560\nThen when a user logs on.\n\n214\n00:11:29.560 --> 00:11:30.800\nLet me back up for a second.\n\n215\n00:11:33.580 --> 00:11:34.510\nGrab my pencil.\n\n216\n00:11:34.510 --> 00:11:37.470\nIt would be the computer half of A,\n\n217\n00:11:42.530 --> 00:11:45.830\nthe computer half of policy F, and\nthe computer half of policy B.\n\n218\n00:11:45.830 --> 00:11:48.090\nBut then it changes.\n\n219\n00:11:48.090 --> 00:11:52.540\nWhen the user logs on, instead of\nlooking at where the user is in Active\n\n220\n00:11:52.540 --> 00:11:55.910\ndirectory to retrieve the user\nsettings like we did last time,\n\n221\n00:11:55.910 --> 00:11:59.270\nit's gonna look at where\nthe computer is in Active Directory.\n\n222\n00:11:59.270 --> 00:12:06.230\nWhich means it's gonna be policy A,\nF, and B again.\n\n223\n00:12:06.230 --> 00:12:11.710\nBut this time,\nwe're gonna get the user settings from A,\n\n224\n00:12:11.710 --> 00:12:18.370\nthe user settings from F, and\nthe user settings from B, all right?\n\n225\n00:12:18.370 --> 00:12:22.740\nSo if I enable loopback policy processing,\nnotice this policy never got applied.\n\n226\n00:12:22.740 --> 00:12:27.660\nAll right, if we look here,\nthat line of business application is\n\n227\n00:12:27.660 --> 00:12:32.990\nno longer gonna get installed, if that\nuser logs onto this computer, all right?\n\n228\n00:12:32.990 --> 00:12:37.450\nWhat we're doing, is we're making\na consistent set of user settings.\n\n229\n00:12:37.450 --> 00:12:40.380\nAt this point,\nit doesn't matter what user logs on,\n\n230\n00:12:40.380 --> 00:12:42.840\nit's always gonna be the same\nuser settings, right?\n\n231\n00:12:42.840 --> 00:12:45.150\nBecause it's based on where\nthe computer account is.\n\n232\n00:12:45.150 --> 00:12:47.260\nNot based on where the user account is.\n\n233\n00:12:47.260 --> 00:12:47.880\nRight?\n\n234\n00:12:47.880 --> 00:12:49.600\nSometimes we want to do that.\n\n235\n00:12:49.600 --> 00:12:55.780\nThe other one then is merge mode, and\nI'll swap colors one more time here.\n\n236\n00:12:55.780 --> 00:13:03.410\nWith merge mode when the computer\nstarts up, same thing A, F, and B.\n\n237\n00:13:04.460 --> 00:13:10.000\nAnd it's going to be the computer settings\nof A, and I'm running outta space there.\n\n238\n00:13:10.000 --> 00:13:13.266\nThe computer settings of F,\n\n239\n00:13:13.266 --> 00:13:17.910\nthe computer settings of B, all right.\n\n240\n00:13:17.910 --> 00:13:22.775\nThen when the user logs on,\nit's gonna do two things.\n\n241\n00:13:23.820 --> 00:13:27.000\nIt's gonna get the user settings\nbased on where the user is.\n\n242\n00:13:27.000 --> 00:13:31.600\nSo that's gonna be policy A, D, and C.\n\n243\n00:13:31.600 --> 00:13:37.820\nThen it's gonna go back and get the user's\nsettings based on where the computer is,\n\n244\n00:13:37.820 --> 00:13:43.350\nwhich would be A again, F and B.\n\n245\n00:13:43.350 --> 00:13:45.450\nAnd in that order.\n\n246\n00:13:45.450 --> 00:13:49.110\nThe user settings based on\nwhere the user is first, and\n\n247\n00:13:49.110 --> 00:13:52.810\nthen the user settings based on\nwhere the computer is second.\n\n248\n00:13:52.810 --> 00:13:55.670\nAnd that's an important thing to remember.\n\n249\n00:13:55.670 --> 00:13:57.800\nSo let's do out little check marks here.\n\n250\n00:13:57.800 --> 00:14:03.100\nThe user settings from\nA are gonna be applied first.\n\n251\n00:14:03.100 --> 00:14:06.080\nThen the user settings from policy D.\n\n252\n00:14:06.080 --> 00:14:07.580\nThen the user settings from policy C.\n\n253\n00:14:07.580 --> 00:14:11.048\nThen the user settings from\npolicy A one more time.\n\n254\n00:14:11.048 --> 00:14:12.431\nAnd, yes, it will do it again.\n\n255\n00:14:12.431 --> 00:14:18.070\nThe user settings from F, and\nthen the user settings from B.\n\n256\n00:14:18.070 --> 00:14:19.930\nThat's known as merge mode.\n\n257\n00:14:19.930 --> 00:14:22.460\nReplace mode says replace what you\nnormally did with the user and\n\n258\n00:14:22.460 --> 00:14:24.280\njust look at where the computer is.\n\n259\n00:14:24.280 --> 00:14:25.510\nMerge mode says do both.\n\n260\n00:14:25.510 --> 00:14:28.050\nLook at where the user is and\nget those user settings.\n\n261\n00:14:28.050 --> 00:14:30.970\nLook at where the computer is and\nget those user settings.\n\n262\n00:14:30.970 --> 00:14:34.210\nAnd remember, the last one to apply wins.\n\n263\n00:14:34.210 --> 00:14:37.780\nOr any later policy can\noverride any previous policy.\n\n264\n00:14:37.780 --> 00:14:41.040\nThat's why it's important to understand\nthat it does the user settings based on\n\n265\n00:14:41.040 --> 00:14:42.500\nwhere the user is first.\n\n266\n00:14:42.500 --> 00:14:46.110\nAnd then the user settings based\non where the computer is second.\n\n267\n00:14:46.110 --> 00:14:50.590\nThose settings would have a priority over\nuser settings based on where the user is.\n\n268\n00:14:50.590 --> 00:14:55.330\nAnd you might think well why apply policy\nA twice as far as those user settings?\n\n269\n00:14:55.330 --> 00:14:57.150\nWell, A was applied here.\n\n270\n00:14:57.150 --> 00:15:02.650\nWhat if policy C or D changed something\nin A or overrode something in A?\n\n271\n00:15:02.650 --> 00:15:06.650\nWell get A gets supply it again, and it\ncan turn around and override policy D or\n\n272\n00:15:06.650 --> 00:15:07.490\nC at this point.\n\n273\n00:15:07.490 --> 00:15:08.062\nRight.\n\n274\n00:15:08.062 --> 00:15:10.940\nGive it a second chance\nto become the priority.\n\n275\n00:15:10.940 --> 00:15:12.580\nAll right.\nSo really does go back and\n\n276\n00:15:12.580 --> 00:15:14.430\napply that one a second time.\n\n277\n00:15:14.430 --> 00:15:15.890\nThat's what we call merge mode.\n\n278\n00:15:15.890 --> 00:15:19.580\nIn that case, what we're saying,\nwith replace mode we're saying,\n\n279\n00:15:19.580 --> 00:15:23.350\nI don't care what user logs on,\nI want the exact same settings every time.\n\n280\n00:15:24.350 --> 00:15:27.980\nMerge mode says, I've got some settings\nthat I always want to be here,\n\n281\n00:15:27.980 --> 00:15:29.830\nno matter what user logs on.\n\n282\n00:15:29.830 --> 00:15:33.900\nBut I'm okay with the settings that are\nspecific for the user being there as well,\n\n283\n00:15:33.900 --> 00:15:35.100\nall right?\n\n284\n00:15:35.100 --> 00:15:36.320\nSo that's what that was.\n\n285\n00:15:36.320 --> 00:15:38.750\nThat might be a conference room,\n\n286\n00:15:38.750 --> 00:15:42.350\nis a lot of the times where\nI would see a merge mode.\n\n287\n00:15:42.350 --> 00:15:44.450\nNow the user has a lot of settings.\n\n288\n00:15:44.450 --> 00:15:47.870\nWhen they go in the conference room, I'm\nokay with those settings following them\n\n289\n00:15:47.870 --> 00:15:50.810\nalong, but I've got some settings\nspecific to the conference room.\n\n290\n00:15:50.810 --> 00:15:52.910\nLike eliminating screensaver altogether,\n\n291\n00:15:52.910 --> 00:15:56.390\nso when they're having that conference\nthe machine doesn't go to sleep or\n\n292\n00:15:56.390 --> 00:15:59.390\nthe screensaver doesn't kick in,\nright and things like that.\n\n293\n00:15:59.390 --> 00:16:03.454\nSo those would override the user settings,\nwhich might have a 30 second screensaver\n\n294\n00:16:03.454 --> 00:16:06.870\nor a 30 minute screensaver timeout or\nsomething like that.\n\n295\n00:16:06.870 --> 00:16:11.190\nAgain, just another way that we\ncan change that default behavior\n\n296\n00:16:11.190 --> 00:16:13.670\nthe way group policies normally apply.\n\n297\n00:16:13.670 --> 00:16:16.110\nSo hopefully that makes sense, go back and\n\n298\n00:16:16.110 --> 00:16:18.540\nwatch that a couple times,\nslow down a little bit.\n\n299\n00:16:18.540 --> 00:16:20.370\nI know you guys like to speed\nup the videos and watch them.\n\n300\n00:16:20.370 --> 00:16:22.951\nThis might be one that you want\nto slow it down a little bit.\n\n301\n00:16:22.951 --> 00:16:24.630\n>> [LAUGH]\n>> And\n\n302\n00:16:24.630 --> 00:16:26.078\nwatch that a couple of times, right?\n\n303\n00:16:26.078 --> 00:16:30.530\nBecause loop back policy processing can\nbe a little twisty in the brain at first.\n\n304\n00:16:31.740 --> 00:16:33.030\n>> Yeah,\nthe great thing about it though, Mike,\n\n305\n00:16:33.030 --> 00:16:37.040\nis once you understand the concepts\nof why am I doing this or\n\n306\n00:16:37.040 --> 00:16:40.790\nwhy am I doing that,\nthe application becomes relatively easy.\n\n307\n00:16:40.790 --> 00:16:44.250\nIt's all about trying to figure out\nexactly, what am I trying to do?\n\n308\n00:16:44.250 --> 00:16:46.070\nWhat's the best way to get there?\n\n309\n00:16:46.070 --> 00:16:48.110\nIf you know how to work with\nthe group policy settings,\n\n310\n00:16:48.110 --> 00:16:50.770\nafter that it's just cake,\nyou just start applying your settings.\n\n311\n00:16:50.770 --> 00:16:55.320\nBut it's figuring out the way\nin which it should be applied to\n\n312\n00:16:55.320 --> 00:16:57.280\nget the outcome that you're looking for.\n\n313\n00:16:57.280 --> 00:17:00.755\nThat's the key to it and if you\nfigure that out, you're doing great,\n\n314\n00:17:00.755 --> 00:17:02.584\nbecause like you said,\nthis can be a little twisty.\n\n315\n00:17:02.584 --> 00:17:05.010\n>> Yeah, once you get that straight,\nyou're good on the exam, and\n\n316\n00:17:05.010 --> 00:17:06.170\nyou're good in the real world.\n\n317\n00:17:06.170 --> 00:17:08.370\n>> Yeah.\n>> All right, now, let's see how we do it.\n\n318\n00:17:08.370 --> 00:17:12.440\nNow we know what it is,\nhow do I turn on loop back policy process.\n\n319\n00:17:12.440 --> 00:17:16.890\nI've got to show laptops OU up here,\nand I'm going to use it,\n\n320\n00:17:16.890 --> 00:17:20.070\nI've got a policy here\ncalled show settings.\n\n321\n00:17:20.070 --> 00:17:21.770\nAnd in there,\n\n322\n00:17:21.770 --> 00:17:26.880\nthere is a setting that is disabling\nthe password protected screen saver.\n\n323\n00:17:26.880 --> 00:17:29.790\nAnd, I've set the screen\nsaver time out to zero.\n\n324\n00:17:29.790 --> 00:17:31.840\nWhich means the screen\nsaver will never kick in,\n\n325\n00:17:31.840 --> 00:17:35.070\nall right, because when Daniel and\nI are up here on stage,\n\n326\n00:17:35.070 --> 00:17:40.810\nI don't want my screen saver kicking in in\nthe middle of the show, great, all right.\n\n327\n00:17:40.810 --> 00:17:44.020\nBut that's a user setting,\nthat's a user setting, right.\n\n328\n00:17:44.020 --> 00:17:45.330\nNotice it's under users.\n\n329\n00:17:45.330 --> 00:17:48.660\nThis is linked to the OU that\ncontains the computer account.\n\n330\n00:17:49.710 --> 00:17:54.370\nSo the normal process, that setting\nwould never actually be applied.\n\n331\n00:17:54.370 --> 00:17:59.360\nAnd on Daniel and I's OU on host,\nthe company standards kicks in and\n\n332\n00:17:59.360 --> 00:18:01.550\nsays you got a 30 minute\nscreen saver time out.\n\n333\n00:18:01.550 --> 00:18:05.360\nSo if right now the way it sits,\neven though we're up here on stage,\n\n334\n00:18:05.360 --> 00:18:07.050\nmy screen saver kick in, in 30 minutes.\n\n335\n00:18:07.050 --> 00:18:08.260\nAll right,\n\n336\n00:18:08.260 --> 00:18:12.319\nwhat I'm going to do is edit the policy\nthat's linked to where the computer is.\n\n337\n00:18:14.540 --> 00:18:18.320\nAnd under the computer half,\nI'm going to expand out policies,\n\n338\n00:18:22.030 --> 00:18:25.711\nAdministrative templates,\nI had to remember what that one is,\n\n339\n00:18:25.711 --> 00:18:28.020\nsystem and then group policy.\n\n340\n00:18:28.020 --> 00:18:29.200\nAll right?\n\n341\n00:18:29.200 --> 00:18:32.660\nAnd in here there's one called,\nif I can find it,\n\n342\n00:18:32.660 --> 00:18:37.490\nlet me sort these guys real quick,\nconfigure user.\n\n343\n00:18:37.490 --> 00:18:39.970\nSo somewhere down here,\nthere we go, configure user,\n\n344\n00:18:39.970 --> 00:18:43.090\ngroup policy, loop back process,\nprocessing mode.\n\n345\n00:18:43.090 --> 00:18:45.430\nDouble click on that, and\nI'm going to turn it on.\n\n346\n00:18:46.490 --> 00:18:50.920\nOnce I turn it on, I can either do\nreplace or merge, and in this case,\n\n347\n00:18:50.920 --> 00:18:52.450\nI'm going to do merge.\n\n348\n00:18:52.450 --> 00:18:55.100\nThat way,\nif Daniel has certain settings that\n\n349\n00:18:55.100 --> 00:18:59.060\nGroup Policy is applying that he needs,\nthose will still be there, but\n\n350\n00:18:59.060 --> 00:19:03.320\nthe computer, the user settings based on\nwhere the computer is will apply last, and\n\n351\n00:19:03.320 --> 00:19:06.400\nthat will give him that no\nscreen saver time out, right.\n\n352\n00:19:06.400 --> 00:19:09.230\nSo I'll go ahead and do merge mode,\nand I'll click okay.\n\n353\n00:19:09.230 --> 00:19:12.180\nAll right and then I can close this.\n\n354\n00:19:12.180 --> 00:19:13.940\nSo now remember the way policies apply.\n\n355\n00:19:13.940 --> 00:19:18.420\nThe computer starts up, it reads the\npolicies based on where the computer is,\n\n356\n00:19:18.420 --> 00:19:20.390\nand now it knows, and let's refresh this.\n\n357\n00:19:20.390 --> 00:19:21.820\nLet me click away and go back to it.\n\n358\n00:19:25.560 --> 00:19:28.320\nStill not showing up there.\n\n359\n00:19:28.320 --> 00:19:31.410\nSometimes it takes a minute for\nthis little screen to update.\n\n360\n00:19:34.610 --> 00:19:37.560\nLet's see if I can get\nthat to kick in there.\n\n361\n00:19:37.560 --> 00:19:38.793\n>> Remember, always thrice for boot.\n\n362\n00:19:38.793 --> 00:19:40.100\n[LAUGH]\n>> I know, right?\n\n363\n00:19:40.100 --> 00:19:42.800\nGolly, anyway, it'll kick in in a second.\n\n364\n00:19:42.800 --> 00:19:45.520\nBut so now,\nwhat happens when the computer starts up,\n\n365\n00:19:45.520 --> 00:19:48.480\nit retrieves those policies\nbased on where the computer is.\n\n366\n00:19:48.480 --> 00:19:51.750\nOne of those policies,\nnamely this one here says,\n\n367\n00:19:51.750 --> 00:19:56.620\nyou're now in loop back policy\nprocessing mode doing merge mode.\n\n368\n00:19:56.620 --> 00:19:59.500\nSo then when the user logs on because\nwe didn't do this in the user\n\n369\n00:19:59.500 --> 00:20:00.330\npolicies, right?\n\n370\n00:20:00.330 --> 00:20:04.720\nWhen the user logs on, it already\nknows hey, when that user logs on and\n\n371\n00:20:04.720 --> 00:20:08.685\nyou get a list of policies to reply,\nyou're going to get a second list based on\n\n372\n00:20:08.685 --> 00:20:11.735\nwhere the computer is, so\nit knows to retrieve those policies and\n\n373\n00:20:11.735 --> 00:20:15.205\nthat it should do both, and that it should\nmerge those settings together, all right?\n\n374\n00:20:15.205 --> 00:20:18.845\nSo when you enable a loop back processing\nyou do it on a policy linked to where\n\n375\n00:20:18.845 --> 00:20:22.835\nthe computer is, and that indicates, or\nlets it know, that it's going to do things\n\n376\n00:20:22.835 --> 00:20:27.075\na little differently when a user\nfinally logs onto that system.\n\n377\n00:20:27.075 --> 00:20:31.781\nAll right, and I'm really annoyed\nthat that doesn't actually show, but\n\n378\n00:20:31.781 --> 00:20:34.030\nsee if we can just switch tabs here.\n\n379\n00:20:36.910 --> 00:20:38.070\nArg.\n\n380\n00:20:38.070 --> 00:20:41.910\nAnd I don't think my F5 is really\ngoing to do it, but any who.\n\n381\n00:20:41.910 --> 00:20:45.060\nNormally it would show up under\nhere once this thing refreshes.\n\n382\n00:20:45.060 --> 00:20:46.020\nMaybe if I just close out for\n\n383\n00:20:46.020 --> 00:20:49.559\na second and we'll just go take\na look at that one more time.\n\n384\n00:20:51.350 --> 00:20:57.480\nTools and group policy management and\nshow settings and setting and there we go.\n\n385\n00:20:57.480 --> 00:21:00.917\nNow it's refreshed and\nthere's my mode, merge mode for\n\n386\n00:21:00.917 --> 00:21:03.180\nmy loop back policy processing.\n\n387\n00:21:03.180 --> 00:21:05.800\nLittle quirk for that of that\ngroup policy management console.\n\n388\n00:21:05.800 --> 00:21:09.140\nSometimes it just doesn't refresh and\nclose it, open it up again and\n\n389\n00:21:09.140 --> 00:21:12.160\nyou're good to go, I've also seen\ntimes when a little progress bar\n\n390\n00:21:12.160 --> 00:21:15.910\npops up on the screen that says,\nloading policies.\n\n391\n00:21:15.910 --> 00:21:18.570\nAnd this console's opened up, and\nI can click around on it and everything.\n\n392\n00:21:18.570 --> 00:21:20.050\nBut in the background,\nthere's a little window.\n\n393\n00:21:20.050 --> 00:21:22.150\nYou can just close that,\nit really doesn't matter.\n\n394\n00:21:22.150 --> 00:21:24.600\nIt gets stuck sometimes.\n\n395\n00:21:24.600 --> 00:21:27.920\n>> Microsoft puts those little bugs\ninside there to drive us insane.\n\n396\n00:21:27.920 --> 00:21:30.020\nMake us feel like, I am not an idiot.\n\n397\n00:21:30.020 --> 00:21:30.770\nI know this.\n\n398\n00:21:30.770 --> 00:21:33.390\nI've done this thing and\nyour like, yes, yes you have,\n\n399\n00:21:33.390 --> 00:21:36.467\nbut I'm just not going to\nshow it to you [LAUGH].\n\n400\n00:21:36.467 --> 00:21:40.444\n>> I know right that's when I need my\npadded room my little special jacket\n\n401\n00:21:40.444 --> 00:21:42.423\n>> Just rock back and forth [LAUGH]\n\n402\n00:21:42.423 --> 00:21:43.090\n>> All right so\n\n403\n00:21:43.090 --> 00:21:46.549\nthat's my loop back processing, and next\nthing I want to talk about here is going\n\n404\n00:21:46.549 --> 00:21:51.030\nto be managing slow link processing and\ngroup policy caching.\n\n405\n00:21:51.030 --> 00:21:54.180\nI'll talk about slow link processing,\nall right.\n\n406\n00:21:54.180 --> 00:21:57.625\nWhen you connect, when you sit at\nthe computer, you turn it on, or\n\n407\n00:21:57.625 --> 00:22:01.165\nwhen you're logging in,\nit's reaching out to active directory.\n\n408\n00:22:01.165 --> 00:22:05.175\nAnd it's retrieving policies and\nis applying those settings to your system.\n\n409\n00:22:05.175 --> 00:22:07.795\nWell what if the link that you're using,\n\n410\n00:22:07.795 --> 00:22:12.540\nwhat if you're on a God forbid a dial up\nconnection back to the office, right.\n\n411\n00:22:12.540 --> 00:22:16.440\nOr you're on a branch office and there's\nno domain controller out there, and\n\n412\n00:22:16.440 --> 00:22:20.780\nthat WAN link back to the corporate\noffice is slow, all right.\n\n413\n00:22:20.780 --> 00:22:23.760\nIt's got to send all this\nstuff across the network.\n\n414\n00:22:23.760 --> 00:22:25.920\nWell, Windows can detect that, right.\n\n415\n00:22:25.920 --> 00:22:28.900\nit has what we call, slow link detection.\n\n416\n00:22:28.900 --> 00:22:33.370\nAnd what it'll do is it'll disable\ncertain client side extensions.\n\n417\n00:22:33.370 --> 00:22:36.140\nAnd let's take a minute and\ntalk about client side extensions.\n\n418\n00:22:36.140 --> 00:22:39.780\nWhen we look at the way a group policy is\napplied, remember I said it retrieves that\n\n419\n00:22:39.780 --> 00:22:43.790\nlist of policies and then it applies\nthose settings in your registry.\n\n420\n00:22:43.790 --> 00:22:45.120\nWell, what's actually doing that,\n\n421\n00:22:45.120 --> 00:22:48.710\nwhat's reading that list, those policies,\nreading those settings, and\n\n422\n00:22:48.710 --> 00:22:53.470\nthen making the changes to your computer,\nis known as a client side extension.\n\n423\n00:22:53.470 --> 00:22:55.620\nAnd there are separate\nclient side extensions for\n\n424\n00:22:55.620 --> 00:22:58.990\nthe different categories of settings,\nlike you can see them listed here,\n\n425\n00:22:58.990 --> 00:23:03.160\nthere's a CSE, or client site\nextension for security settings.\n\n426\n00:23:03.160 --> 00:23:05.220\nThere's one for IP security,\nthere's another one for\n\n427\n00:23:05.220 --> 00:23:10.520\nsoftware restriction, a separate one for\nsoftware installation, etc, etc.\n\n428\n00:23:10.520 --> 00:23:12.200\nIf it detects a slow link,\n\n429\n00:23:12.200 --> 00:23:16.350\nsome of these client site extensions\nwon't fire, they won't do their job.\n\n430\n00:23:16.350 --> 00:23:18.970\nLike software installation.\n\n431\n00:23:18.970 --> 00:23:22.480\nIf you connect, now,\nMicrosoft considers a slow link,\n\n432\n00:23:22.480 --> 00:23:25.520\nby default, 500 kilobits per second.\n\n433\n00:23:25.520 --> 00:23:29.920\nIf your link, if you're connected at\nless that than 500 kilobits per second,\n\n434\n00:23:29.920 --> 00:23:35.060\nit's going to flag it as a slow link, and\nthen certain CSE's aren't going to fire.\n\n435\n00:23:35.060 --> 00:23:37.790\nOne of them is software installation.\n\n436\n00:23:37.790 --> 00:23:42.860\nIf I'm pushing out Office, and you come up\nwith a 100 kilobyte per second connection,\n\n437\n00:23:42.860 --> 00:23:44.920\nyou really want me to try to\npush Office out over that?\n\n438\n00:23:45.920 --> 00:23:46.660\nYeah, no.\n\n439\n00:23:46.660 --> 00:23:49.550\nFolder redirection is another one.\n\n440\n00:23:49.550 --> 00:23:52.838\nIt's going to say, you know what,\nyour link is just too slow,\n\n441\n00:23:52.838 --> 00:23:56.210\nI'm not even going to bother\nwith folder redirection scripts.\n\n442\n00:23:56.210 --> 00:23:57.970\nWhat else are going to be turned off.\n\n443\n00:23:57.970 --> 00:24:01.680\nSo you can see the ones That\nare turned off, all right.\n\n444\n00:24:01.680 --> 00:24:06.280\nAnd I'll throw this link, this is a link\nout to TechNet, nice little chart here.\n\n445\n00:24:06.280 --> 00:24:08.130\nYou can see the default behaviors for\n\n446\n00:24:08.130 --> 00:24:11.400\neach one of these CSEs when\nit detects a slow link.\n\n447\n00:24:11.400 --> 00:24:14.350\nNow I can change two aspects of this.\n\n448\n00:24:14.350 --> 00:24:17.330\nI can one, change what a slow link is.\n\n449\n00:24:17.330 --> 00:24:21.000\nIf I think anything less than\n1.544 megabits per second should\n\n450\n00:24:21.000 --> 00:24:23.430\nbe considered slow, I can set it that way.\n\n451\n00:24:23.430 --> 00:24:25.430\nI'm not stuck with that 500KB/sec.\n\n452\n00:24:25.430 --> 00:24:30.840\nI can also change the default\nbehavior of most of these CSEs.\n\n453\n00:24:30.840 --> 00:24:31.480\nAll right.\n\n454\n00:24:31.480 --> 00:24:35.280\nSo, if I wanna push out software,\nI don't care what link you have,\n\n455\n00:24:35.280 --> 00:24:38.390\neven if you're sitting at 28-8,\nI can turn this on.\n\n456\n00:24:38.390 --> 00:24:40.280\nI can say,\nyou know what software installation?\n\n457\n00:24:40.280 --> 00:24:43.850\nGo ahead and turn on Run,\neven if it detects a slow link.\n\n458\n00:24:43.850 --> 00:24:44.470\nRight?\n\n459\n00:24:44.470 --> 00:24:47.520\nI can also turn some of these off, so\n\n460\n00:24:47.520 --> 00:24:51.590\nthat software restriction doesn't\nfire if it detects a slow link.\n\n461\n00:24:51.590 --> 00:24:53.150\nNow two of these,\nas you can see, I can't change.\n\n462\n00:24:53.150 --> 00:24:57.230\nSecurity settings, they're always\ngonna be processed no matter what.\n\n463\n00:24:57.230 --> 00:25:01.750\nAnd my administrative templates\nare always processed, no matter what, and\n\n464\n00:25:01.750 --> 00:25:02.980\nI can't change it.\n\n465\n00:25:02.980 --> 00:25:05.930\nAll right?\nSo those two CSEs are set in stone,\n\n466\n00:25:05.930 --> 00:25:06.770\nwe can't change it.\n\n467\n00:25:07.850 --> 00:25:10.310\nBut the rest of them we\ncan change the behavior\n\n468\n00:25:10.310 --> 00:25:13.500\nas well as change what\na slow link actually is.\n\n469\n00:25:13.500 --> 00:25:16.060\nAnd let's take a look at\nwhere I might do that.\n\n470\n00:25:16.060 --> 00:25:20.050\nI'm gonna come up to my company standards\nGPO and I'm gonna edit this guy.\n\n471\n00:25:20.050 --> 00:25:23.790\nAnd let me expand under the computer half.\n\n472\n00:25:23.790 --> 00:25:29.670\nI go policies, administrative templates,\nsystem, and then group policy.\n\n473\n00:25:29.670 --> 00:25:32.980\nIn fact, this is where I was\nwhen I was just setting up that\n\n474\n00:25:32.980 --> 00:25:34.310\nloop back policy processor.\n\n475\n00:25:34.310 --> 00:25:35.680\nSame place.\n\n476\n00:25:35.680 --> 00:25:40.960\nIn here, I can find my setting for\nslow link detection.\n\n477\n00:25:42.660 --> 00:25:44.100\nSomewhere in here.\n\n478\n00:25:47.540 --> 00:25:48.709\nIf I can find it.\n\n479\n00:25:56.824 --> 00:26:01.909\nI'm missing a dang software installation,\nlet me just sort these by name here.\n\n480\n00:26:01.909 --> 00:26:06.309\nAnd there it is.\n\n481\n00:26:06.309 --> 00:26:09.300\nConfigure group policy\nslow link detection.\n\n482\n00:26:09.300 --> 00:26:12.130\nIf I double-click on that\nI could turn this on.\n\n483\n00:26:12.130 --> 00:26:17.620\nAnd then I can specify, in kilobytes,\nwhat I want for a slow link.\n\n484\n00:26:17.620 --> 00:26:22.080\nI can also say wireless WAN\nconnections are always slow.\n\n485\n00:26:22.080 --> 00:26:23.960\nThey used to say 3G.\n\n486\n00:26:23.960 --> 00:26:27.610\nBut now it just says wireless WAN or WWAN.\n\n487\n00:26:27.610 --> 00:26:30.330\nYou can always treat those as a slow\nlink no matter how fast they are.\n\n488\n00:26:30.330 --> 00:26:32.870\nA lot of times those are metered\nconnections and things like that.\n\n489\n00:26:32.870 --> 00:26:36.880\nSo maybe I don't want to push out\nsoftware for example over that.\n\n490\n00:26:36.880 --> 00:26:38.180\nSo this is one thing you can change.\n\n491\n00:26:38.180 --> 00:26:43.950\nYou can turn on slow link detection,\nand you can change the speed.\n\n492\n00:26:43.950 --> 00:26:45.620\nAgain, it's on by default, and\n\n493\n00:26:45.620 --> 00:26:49.250\nit's set to 500 kilobits per second\neven when it's not configured.\n\n494\n00:26:49.250 --> 00:26:53.560\nBut if I turn this one,\nthat let's me change what a slow link is.\n\n495\n00:26:53.560 --> 00:26:57.030\nThe other thing I can do is\nwork with the individual CSEs.\n\n496\n00:26:57.030 --> 00:27:01.110\nLike here's the Folder Preference\nExtension for Policy Processing.\n\n497\n00:27:01.110 --> 00:27:05.670\nIf I go in and edit that guy I can\nchoose Enabled, and then I can\n\n498\n00:27:05.670 --> 00:27:10.420\nsay here's a notice here that says\nAllow Processing Across a Slow Network.\n\n499\n00:27:10.420 --> 00:27:12.110\nI can uncheck that.\n\n500\n00:27:12.110 --> 00:27:15.310\nNow it won't fire if there's\na slow link detected.\n\n501\n00:27:15.310 --> 00:27:18.010\nSo all those different\nCSEs I can come in here.\n\n502\n00:27:18.010 --> 00:27:19.390\nI can figure that.\n\n503\n00:27:19.390 --> 00:27:20.840\nWhat else do we need to talk about?\n\n504\n00:27:20.840 --> 00:27:22.530\nSo we talked about the CSEs.\n\n505\n00:27:22.530 --> 00:27:24.170\nTalked about the slow link detection.\n\n506\n00:27:24.170 --> 00:27:27.530\nWe talked about group policy\ncaching is also enabled by default,\n\n507\n00:27:27.530 --> 00:27:30.180\neven though the policy\nsays it's not configured.\n\n508\n00:27:30.180 --> 00:27:33.560\nWindows 8.1 and later,\nreally I wanna say Windows 7 as well,\n\n509\n00:27:33.560 --> 00:27:35.360\nbut they're gonna cache GPOs.\n\n510\n00:27:35.360 --> 00:27:38.620\nAnd what that means,\nit can speed up the processing.\n\n511\n00:27:38.620 --> 00:27:42.280\nWhen you go to log in, instead of having\nto wait, talk to a domain controller,\n\n512\n00:27:42.280 --> 00:27:45.260\nretrieve that list, it can just say,\nhey has anything changed?\n\n513\n00:27:45.260 --> 00:27:48.040\nNo, okay I'm just gonna go ahead and\nuse my cached copy.\n\n514\n00:27:48.040 --> 00:27:50.520\nAnd I'll go ahead and\napply these settings.\n\n515\n00:27:50.520 --> 00:27:51.850\nYou can disable that,\n\n516\n00:27:51.850 --> 00:27:54.840\nthat's gonna force them to talk to\na domain controller every time.\n\n517\n00:27:54.840 --> 00:27:56.180\nRemember we got cash credentials.\n\n518\n00:27:56.180 --> 00:27:59.460\nWhat if your Windows 8 machine can't\nconnect to the domain controller?\n\n519\n00:27:59.460 --> 00:28:00.490\nYou can still authenticate, right.\n\n520\n00:28:00.490 --> 00:28:04.590\nYou can use your cash credentials up to\nwhat, ten times by default without talking\n\n521\n00:28:04.590 --> 00:28:09.030\nto domain controller and you got cash\ncopies the GPO's, so you can apply those\n\n522\n00:28:09.030 --> 00:28:12.740\nand they're still in effect even when\nyou're not talking to domain controller.\n\n523\n00:28:12.740 --> 00:28:18.510\nIf I turn this on and\nI can set it to where I disable it,\n\n524\n00:28:18.510 --> 00:28:20.460\nenable it and set it to a zero.\n\n525\n00:28:20.460 --> 00:28:24.660\nAnd that way they have to wait\nto talk to a domain controller.\n\n526\n00:28:24.660 --> 00:28:27.310\nI don't see that used that often because\nthen if they can't talk to a domain\n\n527\n00:28:27.310 --> 00:28:29.660\ncontroller for some reason,\nthey can't log in.\n\n528\n00:28:29.660 --> 00:28:33.290\nBecause it will say, nope sorry, I can't\nget GPO's, you're not gonna log in.\n\n529\n00:28:33.290 --> 00:28:33.940\nRight?\n\n530\n00:28:33.940 --> 00:28:35.660\nSo that's those settings there.\n\n531\n00:28:35.660 --> 00:28:39.890\nAnd then the last thing, Daniel,\nI know I'm killing you on the time here.\n\n532\n00:28:39.890 --> 00:28:42.310\nLast thing we gotta talk\nabout is being able to\n\n533\n00:28:43.480 --> 00:28:46.160\ntrigger group policy refresh, right?\n\n534\n00:28:46.160 --> 00:28:49.270\nNow, I think I've said this in\nprevious shows but let's make sure,\n\n535\n00:28:49.270 --> 00:28:50.940\nlet's rehash that.\n\n536\n00:28:50.940 --> 00:28:54.480\nGroup policy settings are applied\nwhen the computer starts up,\n\n537\n00:28:54.480 --> 00:28:56.460\nas we just saw in that little drawing.\n\n538\n00:28:56.460 --> 00:28:59.080\nWhen that computer starts up\nit talks active directory and\n\n539\n00:28:59.080 --> 00:29:02.190\nit applies the computer\nsettings of the GPOs.\n\n540\n00:29:02.190 --> 00:29:06.620\nWhen a user logs on, it retrieves your\npolicy and applies the user settings, but\n\n541\n00:29:06.620 --> 00:29:07.540\nit doesn't stop there.\n\n542\n00:29:07.540 --> 00:29:09.890\nIf that was all it did,\nwhat if you logged on?\n\n543\n00:29:09.890 --> 00:29:13.030\nWhat if you started that machine on\nMonday, logged in on Monday, and\n\n544\n00:29:13.030 --> 00:29:14.520\nthen never logged off for\nthe rest of the week?\n\n545\n00:29:14.520 --> 00:29:15.690\nRight?\nLeft that machine running,\n\n546\n00:29:15.690 --> 00:29:19.570\nit didn't go to sleep or maybe it slept\nbut it didn't actually power down, so\n\n547\n00:29:19.570 --> 00:29:22.500\nyou just kinda wake it up and\nyou're right back into it.\n\n548\n00:29:22.500 --> 00:29:23.820\nIf GPOs had changed,\n\n549\n00:29:23.820 --> 00:29:27.560\nif new GPOs were put into place,\nyou wouldn't have those settings.\n\n550\n00:29:27.560 --> 00:29:31.300\nSo Group Policy is refreshed\nat a configurable interval.\n\n551\n00:29:31.300 --> 00:29:35.740\nThe interval is 90 minutes and\nit has a random 30 minute offset so\n\n552\n00:29:35.740 --> 00:29:38.790\nnot all machines are checking\nat the same time.\n\n553\n00:29:38.790 --> 00:29:40.640\nSo when the computer starts up.\n\n554\n00:29:40.640 --> 00:29:41.780\nIt applies group policy.\n\n555\n00:29:41.780 --> 00:29:43.550\n90 minutes later,\n\n556\n00:29:43.550 --> 00:29:47.430\nwith a random 30 minute offset, it's\ngonna refresh those computer settings.\n\n557\n00:29:47.430 --> 00:29:50.020\nAnd then 90 minutes later it's\ngonna refresh them again.\n\n558\n00:29:50.020 --> 00:29:51.330\nIf you restart the computer,\n\n559\n00:29:51.330 --> 00:29:53.560\nwhile the computer's starting\nup it's gonna apply a policy.\n\n560\n00:29:53.560 --> 00:29:56.410\nAnd then 90 minutes from there,\nit's gonna refresh.\n\n561\n00:29:56.410 --> 00:29:58.380\nSeparate cycle for the user settings.\n\n562\n00:29:58.380 --> 00:30:02.930\nThe user settings are triggered by when\nthe user logs on, and then 90 to 120,\n\n563\n00:30:02.930 --> 00:30:06.060\nthat random 30 minute offset\nfrom when the user logged on,\n\n564\n00:30:06.060 --> 00:30:08.850\nit's gonna refresh those settings.\n\n565\n00:30:08.850 --> 00:30:13.020\nBy default, it doesn't reapply\npolicies that haven't changed.\n\n566\n00:30:13.020 --> 00:30:15.040\nSo that 90 minute refresh interval,\n\n567\n00:30:15.040 --> 00:30:17.990\nif the policies haven't changed there's\nno point in applying them again.\n\n568\n00:30:17.990 --> 00:30:20.530\nBut if something has changed,\nor if there's new policies,\n\n569\n00:30:20.530 --> 00:30:22.800\nthat's when they're gonna be applied.\n\n570\n00:30:22.800 --> 00:30:25.050\nWell if I'm working with group\npolicies and I've got a setting and\n\n571\n00:30:25.050 --> 00:30:27.660\nI want it to go out now,\nI don't want to wait 90 minutes.\n\n572\n00:30:27.660 --> 00:30:30.300\nI want to test it,\nI want to see if it's working.\n\n573\n00:30:30.300 --> 00:30:34.220\nOr it's a very important setting and I\nwant to push it out right now and not wait\n\n574\n00:30:34.220 --> 00:30:38.200\nuntil all the different machines refresh,\nall the users refresh, or log off.\n\n575\n00:30:38.200 --> 00:30:41.010\nThere are ways I can do that.\n\n576\n00:30:41.010 --> 00:30:46.310\nFrom the command prompt it's\ngonna be gpupdate switch force.\n\n577\n00:30:46.310 --> 00:30:48.508\nLet me pull up a command prompt here.\n\n578\n00:30:48.508 --> 00:30:51.043\ngpupdate/force.\n\n579\n00:30:51.043 --> 00:30:55.110\nYou can do the gpupdate without\nthe force and what it'll do\n\n580\n00:30:55.110 --> 00:31:00.160\nis it'll do the normal process, apply any\npolicies that are new or have change.\n\n581\n00:31:00.160 --> 00:31:03.700\nIf there's no changes,\nit won't apply them.\n\n582\n00:31:03.700 --> 00:31:08.150\nForce says reapply everything\nwhether it's or not.\n\n583\n00:31:08.150 --> 00:31:12.250\nAnd if there's any settings that\nrequire a restart or a log off.\n\n584\n00:31:12.250 --> 00:31:14.430\nLike software installation or\nfolder redirection.\n\n585\n00:31:14.430 --> 00:31:15.980\nIt'll force you to do that as well.\n\n586\n00:31:15.980 --> 00:31:18.880\nOr give you the opportunity\nto do that I should say.\n\n587\n00:31:18.880 --> 00:31:20.910\nSo I almost always use the force switch,\n\n588\n00:31:20.910 --> 00:31:23.870\njust because I'm sure that all\npolicies are being reapplied.\n\n589\n00:31:24.880 --> 00:31:28.250\nFrom power shell we can do it as well.\n\n590\n00:31:29.860 --> 00:31:36.140\nIt's going to be invoke-GPupdate.\n\n591\n00:31:36.140 --> 00:31:37.560\nAnd that'll do the same thing.\n\n592\n00:31:37.560 --> 00:31:39.770\nI don't get any feedback from that one.\n\n593\n00:31:39.770 --> 00:31:40.760\nThere are some parameters.\n\n594\n00:31:40.760 --> 00:31:46.560\nIf you do a get help invoke-GP update you\ncan see how you can force it as well.\n\n595\n00:31:46.560 --> 00:31:52.790\nAnd the last one that's brand new and has\nbeen needed for a long time in my opinion,\n\n596\n00:31:52.790 --> 00:31:55.350\nis being able to do it from\nthe group policy management console.\n\n597\n00:31:56.930 --> 00:32:00.390\nBecause one thing that we had a problem\nwas, if we were making group policies or\n\n598\n00:32:00.390 --> 00:32:01.780\nmaking changes.\n\n599\n00:32:01.780 --> 00:32:06.801\nLet's say a user was calling us up and\nthey said, hey, this isn't being applied,\n\n600\n00:32:06.801 --> 00:32:11.561\nor how come don't I have this, and\nthere goes that power shell command there.\n\n601\n00:32:14.801 --> 00:32:19.186\nIn order to test it I make a fix but then\nI've got to tell the user, hey log off and\n\n602\n00:32:19.186 --> 00:32:20.700\nlog back on and see.\n\n603\n00:32:20.700 --> 00:32:21.910\nWhat if I'm doing it for\nan entire department?\n\n604\n00:32:21.910 --> 00:32:24.930\nI've got to make sure every person in that\ndepartment logs off and logs back on.\n\n605\n00:32:24.930 --> 00:32:27.540\nOr tell everybody,\nhey everybody reboot your computer.\n\n606\n00:32:27.540 --> 00:32:30.140\nThat one person that didn't hear me,\nthey didn't reboot,\n\n607\n00:32:30.140 --> 00:32:34.240\ntheir setting isn't working yet,\nit was really frustrating.\n\n608\n00:32:34.240 --> 00:32:38.690\nWhat I can do now is I can actually\nright click on an OU within\n\n609\n00:32:38.690 --> 00:32:43.350\nthe Group Policy Management console and\ntrigger a GP update from here, all right.\n\n610\n00:32:43.350 --> 00:32:46.960\nWhat it does in the back ground is it\nqueries all the machines that are in that\n\n611\n00:32:46.960 --> 00:32:48.580\nOU in this case.\n\n612\n00:32:48.580 --> 00:32:52.790\nAnd it generates a list of users that\nare logged on, and it says, all right,\n\n613\n00:32:52.790 --> 00:32:54.010\nI'm gonna do a GPUpdate.\n\n614\n00:32:54.010 --> 00:32:57.420\nIt creates a scheduled task for\nGPUpdate force, and\n\n615\n00:32:57.420 --> 00:33:00.500\nit applies it to all computers and\nall logged on users.\n\n616\n00:33:00.500 --> 00:33:04.060\nAnd it sets an offset, a random time\nof ten minutes within there, so\n\n617\n00:33:04.060 --> 00:33:06.070\nthat they're not all doing\nit at the same time.\n\n618\n00:33:06.070 --> 00:33:11.040\nBut the point is, now I don't have\nto go to the machine and reboot it.\n\n619\n00:33:11.040 --> 00:33:13.200\nI can do it from right here and\nthat's pretty cool.\n\n620\n00:33:13.200 --> 00:33:16.650\n>> Yeah, that's an excellent feature\nbecause a lot of the times when we create\n\n621\n00:33:16.650 --> 00:33:20.330\ngroup policy, we do want to go ahead and\nenforce that thing and make sure\n\n622\n00:33:20.330 --> 00:33:23.850\nall those computers that we're applying\nit to are actually getting it applied.\n\n623\n00:33:23.850 --> 00:33:26.200\nWe don't want to wait,\nwe want to see things happen.\n\n624\n00:33:26.200 --> 00:33:27.540\nWe want it to be snappy.\n\n625\n00:33:27.540 --> 00:33:29.450\nSo being able to just right\nclick on that guy and\n\n626\n00:33:29.450 --> 00:33:32.000\nsay, hey go ahead with that group policy.\n\n627\n00:33:32.000 --> 00:33:33.450\nThat makes your life a whole lot easier.\n\n628\n00:33:33.450 --> 00:33:36.450\nAn then of course there's old fashioned,\nthe command prompt,\n\n629\n00:33:36.450 --> 00:33:40.410\nuse that GPupdate/force,\nthat's been around forever and a day.\n\n630\n00:33:40.410 --> 00:33:44.000\nIf you've been working with Microsoft at\nall you probably already know that one.\n\n631\n00:33:44.000 --> 00:33:48.350\nAlright Mike, have we come to the end\nof our little group policy lesson here?\n\n632\n00:33:48.350 --> 00:33:49.400\n>> I've run outta things to say.\n\n633\n00:33:49.400 --> 00:33:52.130\n[LAUGH] Believe it or not, I've run out\nof things to say about group policy.\n\n634\n00:33:52.130 --> 00:33:54.800\n>> Awesome.\nYou guys are now masters at group policy.\n\n635\n00:33:54.800 --> 00:33:56.335\nWelcome to the show, alright.\n\n636\n00:33:56.335 --> 00:33:57.380\n[LAUGH] Well good.\n\n637\n00:33:57.380 --> 00:34:00.380\nWell, hopefully,\nyou guys are now masters of group policy.\n\n638\n00:34:00.380 --> 00:34:02.550\nIf not, rewatch and watch over and\n\n639\n00:34:02.550 --> 00:34:05.360\nover again until you do get\nall these concepts down.\n\n640\n00:34:05.360 --> 00:34:08.900\nAll these little ways that you can\nclick and make things work for you.\n\n641\n00:34:08.900 --> 00:34:10.680\nGet that stuff down in the old noodle and\n\n642\n00:34:10.680 --> 00:34:13.760\nthen when you take that exam\npass it with flying colors.\n\n643\n00:34:13.760 --> 00:34:17.230\nSigning off for\nITProTV I've been your host Daniel Lowery.\n\n644\n00:34:17.230 --> 00:34:18.080\n>> And I'm Mike Roderick.\n\n645\n00:34:18.080 --> 00:34:19.238\n>> We'll see you next time.\n\n646\n00:34:19.238 --> 00:34:25.830\n[MUSIC]\n\n",
          "vimeoId": "138326556"
        },
        {
          "description": "In this episode, Mike and Daniel begin explaining how to configure Group Policy in Windows Server 2012R2. Here they start by showing you how to access the Group Policy Management Editor and from there they show you how to configure Group Policy Object(GPO) settings. This includes settings that affect software installation, folder redirection, scripts, and administrative template settings.",
          "length": "1958",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-20-1-group_policy_settings-090215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-20-1-group_policy_settings-090215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-20-1-group_policy_settings-090215-1-sm.jpg",
          "title": "Group Policy Settings",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.477\n[MUSIC]\n\n2\n00:00:10.477 --> 00:00:14.861\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.861 --> 00:00:16.640\nI'm your host, Daniel Lowrey.\n\n4\n00:00:16.640 --> 00:00:17.500\nHere with me today,\n\n5\n00:00:17.500 --> 00:00:21.690\nthe master of disaster himself, the man\nof all things Microsoft, Michael Rodrick.\n\n6\n00:00:21.690 --> 00:00:22.580\nHow's it going, Mike?\n\n7\n00:00:22.580 --> 00:00:24.560\n>> It's going fantastic,\nDaniel, I'm excited to be here.\n\n8\n00:00:24.560 --> 00:00:27.800\nWe got another one of our 7411\nepisodes coming your way.\n\n9\n00:00:27.800 --> 00:00:31.260\nAnd in this one we're gonna be talking\nabout group policy settings, or\n\n10\n00:00:31.260 --> 00:00:34.840\nat least the one Microsoft chooses to\ncall out on their exam objectives.\n\n11\n00:00:34.840 --> 00:00:38.280\nCuz there are over 4,000\nsettings in a GPO.\n\n12\n00:00:38.280 --> 00:00:42.100\nAnd you can't possibly know them all, but\nwe can be familiar with a few of them.\n\n13\n00:00:42.100 --> 00:00:44.000\nSo that's what we're gonna do.\n\n14\n00:00:44.000 --> 00:00:47.150\nThe first one they're gonna call out\non us is software distribution, and\n\n15\n00:00:47.150 --> 00:00:48.820\nI want to take a minute\njust to talk about that.\n\n16\n00:00:48.820 --> 00:00:52.330\nThe idea is that we're gonna\ntake a group policy object and\n\n17\n00:00:52.330 --> 00:00:55.090\nuse that to deploy software.\n\n18\n00:00:55.090 --> 00:00:56.900\nSounds great and it is pretty good, but\n\n19\n00:00:56.900 --> 00:01:00.520\nit does have some limitations\nthat we need to be aware of.\n\n20\n00:01:00.520 --> 00:01:03.500\nThe first one is you can\nonly deploy MSI files.\n\n21\n00:01:03.500 --> 00:01:05.870\nThose good old Microsoft\nself installers or\n\n22\n00:01:05.870 --> 00:01:08.700\nMicrosoft installers\ndepending who you talk to.\n\n23\n00:01:08.700 --> 00:01:13.540\nThose are the only types of files\nthat can deploy using group policy.\n\n24\n00:01:13.540 --> 00:01:16.080\nThey can't do executables,\nthey can't do batch files or\n\n25\n00:01:16.080 --> 00:01:19.780\nanything like that as far as\nthe software installation goes.\n\n26\n00:01:19.780 --> 00:01:21.050\nSo that's something you gotta think about.\n\n27\n00:01:21.050 --> 00:01:23.840\nCan you get that source file in an MSI?\n\n28\n00:01:23.840 --> 00:01:24.920\nIf you can't.\n\n29\n00:01:24.920 --> 00:01:28.970\nWell, your choice is either try to\nconvert that executable into an MSI.\n\n30\n00:01:28.970 --> 00:01:31.560\nThere's some third party\ntools you can do that with.\n\n31\n00:01:31.560 --> 00:01:35.410\nSometimes, you can extract an MSI\nout of the executable, itself.\n\n32\n00:01:35.410 --> 00:01:39.050\nAnd so I have had some luck with\nsome of those conversion tools,\n\n33\n00:01:39.050 --> 00:01:40.400\nsometimes not so much.\n\n34\n00:01:40.400 --> 00:01:43.050\nI will show you one of\nthe methods I can use to extract\n\n35\n00:01:43.050 --> 00:01:45.060\nan MSI file out of an executable.\n\n36\n00:01:45.060 --> 00:01:50.030\nSo that is the first thing, it has to\nbe an MSI file in order to deploy it.\n\n37\n00:01:50.030 --> 00:01:54.090\nNow I should, let me qualify that\nbecause it can also be an MST t file,\n\n38\n00:01:54.090 --> 00:01:56.200\na Microsoft Transform file.\n\n39\n00:01:56.200 --> 00:01:58.370\nIf you've got an MSI file for office and\n\n40\n00:01:58.370 --> 00:02:01.720\nyou wanna do a transform file\nto modify the installation.\n\n41\n00:02:01.720 --> 00:02:04.200\nLike a particular language or\nsomething like that, you can do that.\n\n42\n00:02:04.200 --> 00:02:06.660\nYou can also do Zap packages.\n\n43\n00:02:06.660 --> 00:02:09.070\nNow, I've been doing this a long time and\n\n44\n00:02:09.070 --> 00:02:12.940\nI've never come across a Zap\npackage you ever heard of one?\n\n45\n00:02:12.940 --> 00:02:13.735\n>> Oh, all the time.\n\n46\n00:02:13.735 --> 00:02:15.210\n>> [LAUGH]\n>> Yeah, Zap packages,\n\n47\n00:02:15.210 --> 00:02:16.500\nman, I play with that stuff every day.\n\n48\n00:02:16.500 --> 00:02:18.272\nI have no idea what a Zap package is.\n\n49\n00:02:18.272 --> 00:02:19.411\n>> [LAUGH] Yeah.\n\n50\n00:02:19.411 --> 00:02:21.696\nIt's an old, old, old type of file.\n\n51\n00:02:21.696 --> 00:02:24.310\nI've never even seen one in the 12\nyears I've been doing this.\n\n52\n00:02:24.310 --> 00:02:25.780\nBut just know that it's supportive.\n\n53\n00:02:25.780 --> 00:02:28.240\nWhy it supports that and\nnot executables, couldn't tell you but\n\n54\n00:02:28.240 --> 00:02:29.910\nthat is the way it works.\n\n55\n00:02:29.910 --> 00:02:33.590\nSo limitation number one,\nit has to be a dot MSI file.\n\n56\n00:02:33.590 --> 00:02:37.350\nLimitation number two is that\nit does not track licensing or\n\n57\n00:02:37.350 --> 00:02:39.665\nthe number of installs that you've done,\nand\n\n58\n00:02:39.665 --> 00:02:42.025\nthat can get you in trouble really\nquick if you're not careful.\n\n59\n00:02:42.025 --> 00:02:46.495\nLet's say I'm gonna go and deploy out\nthis program, a user group policy, and\n\n60\n00:02:46.495 --> 00:02:49.725\nI've got 100 licences and\nI've got 90 people in the sales o u, and\n\n61\n00:02:49.725 --> 00:02:51.715\nI'm gonna deploy it out there.\n\n62\n00:02:51.715 --> 00:02:56.470\nBut I've mistakenly linked the GPO to the\nentire domain instead of the sales o u.\n\n63\n00:02:56.470 --> 00:02:58.450\nWell, now I've installed it\non thousands of computers,\n\n64\n00:02:58.450 --> 00:03:00.110\ninstead of a hundred computers.\n\n65\n00:03:00.110 --> 00:03:02.140\nAnd, I'm in trouble with my licenses.\n\n66\n00:03:02.140 --> 00:03:05.870\nSo, no way to tract how many installs\nyou've done using group policy.\n\n67\n00:03:05.870 --> 00:03:08.640\nSo, something else you gotta\nkeep track of yourself.\n\n68\n00:03:08.640 --> 00:03:10.460\nThe other big limitation is going to be,\n\n69\n00:03:10.460 --> 00:03:13.950\nit doesn't do anything with the success or\nfailure.\n\n70\n00:03:13.950 --> 00:03:18.670\nSo if I link it to an OU and I push this\nsoftware out, I have no idea if it worked.\n\n71\n00:03:18.670 --> 00:03:23.160\nI can verify that the GPO is being\napplied using like group policy result or\n\n72\n00:03:23.160 --> 00:03:24.340\nsomething like that.\n\n73\n00:03:24.340 --> 00:03:26.860\nBut I don't know if the application\nsuccessfully installed.\n\n74\n00:03:26.860 --> 00:03:30.340\nI'm either gonna have to go check manually\nor wait for my users to call me and say,\n\n75\n00:03:30.340 --> 00:03:32.280\nhow come I didn't get this program?\n\n76\n00:03:32.280 --> 00:03:33.870\nWhich they most certainly will.\n\n77\n00:03:33.870 --> 00:03:35.280\nAnd then I'll know that it didn't work.\n\n78\n00:03:35.280 --> 00:03:36.900\nSo a couple limitations of doing this.\n\n79\n00:03:36.900 --> 00:03:38.450\nThere's other things you can use.\n\n80\n00:03:38.450 --> 00:03:42.240\nThere's third party utilities you\ncan use to push out software.\n\n81\n00:03:42.240 --> 00:03:45.520\nMicrosoft has their\nSystem Center Configuration Manager but\n\n82\n00:03:45.520 --> 00:03:47.660\nthat's another license\nyou have to pay for.\n\n83\n00:03:47.660 --> 00:03:50.670\nIt's not included with Server License.\n\n84\n00:03:50.670 --> 00:03:54.350\nIt requires a good bit of infrastructure\nand know how to make it work.\n\n85\n00:03:54.350 --> 00:03:58.680\nSo you won't see systems entered typically\nin a SOHO or anything like that.\n\n86\n00:03:58.680 --> 00:04:00.910\n>> No wonder they're trying\nto shove that thing, I mean,\n\n87\n00:04:00.910 --> 00:04:03.002\nno wonder they're trying\nto sell that to everyone.\n\n88\n00:04:03.002 --> 00:04:04.728\n[LAUGH] [CROSSTALK] It is nice though.\n\n89\n00:04:04.728 --> 00:04:05.410\n>> It is nice.\n\n90\n00:04:05.410 --> 00:04:06.980\nIt's incredibly powerful.\n\n91\n00:04:06.980 --> 00:04:09.060\nAnd it, but\nit's also a little bit expensive.\n\n92\n00:04:09.060 --> 00:04:12.770\nAnd, like I said, it's a bear to\nget it set up and get working.\n\n93\n00:04:12.770 --> 00:04:14.670\nOnce you got it running,\nit's pretty smooth.\n\n94\n00:04:14.670 --> 00:04:18.280\n>> Not practical for\nthe smaller environments out there, but\n\n95\n00:04:18.280 --> 00:04:20.080\ngreat stuff for\nthose Enterprise level stuff, yeah.\n\n96\n00:04:20.080 --> 00:04:20.770\n>> Oh absolutely, and\n\n97\n00:04:20.770 --> 00:04:23.950\ncheck out our episodes on\nSystem Center Configuration Manager.\n\n98\n00:04:23.950 --> 00:04:30.180\nAll right, so for a group policy,\neven with its limitations it's still used,\n\n99\n00:04:30.180 --> 00:04:33.950\nespecially with small programs\nthat don't require any licensing,\n\n100\n00:04:33.950 --> 00:04:36.000\nthings like that, we might push out.\n\n101\n00:04:36.000 --> 00:04:38.120\nAll right, so let's get this set up.\n\n102\n00:04:38.120 --> 00:04:41.090\nI'm gonna pull up my screen, here and\nthe first thing I have to do is\n\n103\n00:04:41.090 --> 00:04:45.630\ncreate a software distribution point and\nthat is simply a shared folder,\n\n104\n00:04:45.630 --> 00:04:49.650\nbecause all the machines, when this policy\ngets deployed, they have to be able to\n\n105\n00:04:49.650 --> 00:04:53.710\nreach out and grab those install\nfiles to install the program.\n\n106\n00:04:53.710 --> 00:04:55.500\nSo that needs to be a share on my network.\n\n107\n00:04:55.500 --> 00:04:56.970\nSo I'm gonna make a new folder here.\n\n108\n00:04:58.670 --> 00:05:02.320\nAnd I'm just gonna call it SDP for\nsoftware distribution point.\n\n109\n00:05:02.320 --> 00:05:04.170\nAnd I'm gonna to share it out.\n\n110\n00:05:04.170 --> 00:05:07.400\nPermissions necessary,\neverybody needs read permission.\n\n111\n00:05:07.400 --> 00:05:12.050\nAdministrators are going\nto require full control, so\n\n112\n00:05:12.050 --> 00:05:15.240\nI'll go grab my authenticated users\ngroup and I'll make sure they\n\n113\n00:05:15.240 --> 00:05:18.070\nhave read the administrators group\nIt's already listed as the owner so\n\n114\n00:05:18.070 --> 00:05:21.300\nthey've got full control anybody\nthat's in that local admins group.\n\n115\n00:05:21.300 --> 00:05:25.280\nGroup policy software installation will\nautomatically escalate credentials.\n\n116\n00:05:25.280 --> 00:05:27.500\nSo if you're deploying\nthis out to users and\n\n117\n00:05:27.500 --> 00:05:31.550\nthey're not an admin on that local\nmachine, the software will still install.\n\n118\n00:05:31.550 --> 00:05:35.630\nIt will escalate those credentials in\nthe background for that installation.\n\n119\n00:05:35.630 --> 00:05:37.500\nSo go ahead and share that out.\n\n120\n00:05:37.500 --> 00:05:40.780\nAnd then within there,\nI'm going to make a subfolder.\n\n121\n00:05:40.780 --> 00:05:43.390\nAnd typically what you would\ndo is make a subfolder for\n\n122\n00:05:43.390 --> 00:05:46.960\neach application because it can\nget a little confusing in here.\n\n123\n00:05:46.960 --> 00:05:49.260\nSometimes it's a single file in MSI.\n\n124\n00:05:49.260 --> 00:05:51.930\nOther times there's other DLLs and\ncatalogs and\n\n125\n00:05:51.930 --> 00:05:53.990\nthings that need to go along with the MSI.\n\n126\n00:05:53.990 --> 00:05:56.850\nSo it's best if you create\na separate folder for\n\n127\n00:05:56.850 --> 00:05:59.140\neach application that you're deploying.\n\n128\n00:05:59.140 --> 00:06:05.730\nI'm gonna push out 7zip and\nthen I'll go grab my install files.\n\n129\n00:06:07.420 --> 00:06:11.770\nThere's my MSI for that, so\nI dump that in there, all right.\n\n130\n00:06:11.770 --> 00:06:17.230\nThe other thing I'll\nshow you while I'm here.\n\n131\n00:06:17.230 --> 00:06:21.950\nIs how I can take Word Viewer, that's that\nfree viewer you can get from Microsoft.\n\n132\n00:06:21.950 --> 00:06:25.340\nThat's an executable, so I won't be\nable to push that out using group policy\n\n133\n00:06:25.340 --> 00:06:28.100\nsoftware installation\nunless I can get an MSI.\n\n134\n00:06:28.100 --> 00:06:31.810\nAnd let me show you how I can\nactually extract an MSI out of here.\n\n135\n00:06:31.810 --> 00:06:37.310\nIf I open up the command prompt, and\nlet's see if I can get this done.\n\n136\n00:06:37.310 --> 00:06:41.330\nOpen up command prompt window and\nI grab that it's gonna be what,\n\n137\n00:06:41.330 --> 00:06:43.230\nword viewer is the name\nof that executable.\n\n138\n00:06:43.230 --> 00:06:45.270\nSo that's the name of the executable.\n\n139\n00:06:45.270 --> 00:06:49.860\nAnd then it's simply gonna\nbe forward slash extract:,\n\n140\n00:06:49.860 --> 00:06:52.080\nand then wherever I wanna stick this.\n\n141\n00:06:52.080 --> 00:06:53.180\nWe'll say WordViewer.\n\n142\n00:06:56.140 --> 00:06:59.240\nAll right, I'll agree to the license for\nMicrosoft.\n\n143\n00:07:00.640 --> 00:07:01.300\nAnd click OK.\n\n144\n00:07:01.300 --> 00:07:06.160\nAnd if we go take a look at that Downloads\nfolder now, there's my executables still,\n\n145\n00:07:06.160 --> 00:07:08.110\nbut here's the folder WordViewer.\n\n146\n00:07:08.110 --> 00:07:11.440\nAnd you can see I've got an msi and\nall the associated files, so.\n\n147\n00:07:11.440 --> 00:07:13.740\nSometimes you can extract\nan MSI right out of there.\n\n148\n00:07:13.740 --> 00:07:18.020\nAnd then what I can do is just\ncopy this entire folder, and\n\n149\n00:07:18.020 --> 00:07:20.920\ndump that into my software\ndistribution point.\n\n150\n00:07:23.130 --> 00:07:23.690\nAll right.\n\n151\n00:07:23.690 --> 00:07:26.170\nSo I got my source file set up.\n\n152\n00:07:26.170 --> 00:07:28.930\nAll right, then it's back over to\nthe domain controller to actually do\n\n153\n00:07:28.930 --> 00:07:30.600\nthe software installation.\n\n154\n00:07:30.600 --> 00:07:34.430\nWhich means we're gonna be firing up\nmy group policy management console.\n\n155\n00:07:34.430 --> 00:07:38.790\nNow when you deploy software,\nyou've got a couple of options.\n\n156\n00:07:38.790 --> 00:07:42.920\nYou can either do it to the user or\nto the computer.\n\n157\n00:07:42.920 --> 00:07:43.620\nLike when we go in,\n\n158\n00:07:43.620 --> 00:07:46.630\nlet me create a new, well actually\nI've got a policy right here.\n\n159\n00:07:46.630 --> 00:07:48.410\nI'm gonna delete that and start over.\n\n160\n00:07:48.410 --> 00:07:53.882\nJust because that's\nthe way I like to roll.\n\n161\n00:07:53.882 --> 00:07:55.680\nWe'll delete that.\n\n162\n00:07:55.680 --> 00:07:56.572\nGet rid of that guy.\n\n163\n00:07:56.572 --> 00:07:58.859\nAnd we are going to\ncreate a new policy and\n\n164\n00:07:58.859 --> 00:08:01.890\nI am going to push out\nseven zip with this one.\n\n165\n00:08:01.890 --> 00:08:05.250\nI typically create different policies for\neach piece of software that I am gonna\n\n166\n00:08:05.250 --> 00:08:07.980\ndeploy, that way I can do\nmy security filtering and\n\n167\n00:08:07.980 --> 00:08:11.330\ncontrol who actually gets\nthat particular application.\n\n168\n00:08:12.500 --> 00:08:15.890\nAnd now edit that policy.\n\n169\n00:08:15.890 --> 00:08:19.170\nAnd if we look at this policy, if I go\nunder policy computer configuration\n\n170\n00:08:19.170 --> 00:08:22.840\npolicies I add software to settings,\nsoftware installation.\n\n171\n00:08:22.840 --> 00:08:26.020\nUnder the user half, under policies,\nI have software settings, and\n\n172\n00:08:26.020 --> 00:08:27.340\nsoftware installation.\n\n173\n00:08:27.340 --> 00:08:30.480\nSo I could either do this to the user,\nor to the computer.\n\n174\n00:08:30.480 --> 00:08:32.425\nIf I do it to the computer.\n\n175\n00:08:32.425 --> 00:08:34.745\nI can only assign it.\n\n176\n00:08:34.745 --> 00:08:37.795\nThere's two options, assign and publish.\n\n177\n00:08:37.795 --> 00:08:41.875\nAssign means I'm going to go ahead and\ninstall this software.\n\n178\n00:08:41.875 --> 00:08:45.560\nIf I do that to the computer, if I assign\nsoftware to the computer In other words,\n\n179\n00:08:45.560 --> 00:08:48.840\nthe policies scope to the computer\naccount, then the next time that\n\n180\n00:08:48.840 --> 00:08:52.820\nthe computer reboots, and that policy is\napplied, it will install the software.\n\n181\n00:08:52.820 --> 00:08:53.440\nAll right?\nAnd\n\n182\n00:08:53.440 --> 00:08:56.050\nthen when the user logs on,\nthe software is already there.\n\n183\n00:08:56.050 --> 00:08:57.440\nAnd it doesn't matter who logs on.\n\n184\n00:08:57.440 --> 00:08:58.910\nI assigned it to the computer,\n\n185\n00:08:58.910 --> 00:09:02.750\nso all users of that computer\nwill have access to that program.\n\n186\n00:09:02.750 --> 00:09:07.770\nIf I go to the user half,\nI can either assign it, or publish it.\n\n187\n00:09:07.770 --> 00:09:11.840\nIf I assign it to the user, it's similar\nto when I assigned it to the computer.\n\n188\n00:09:11.840 --> 00:09:16.020\nWhat'll happen is, when they log on,\nit advertises the program.\n\n189\n00:09:16.020 --> 00:09:17.230\nThat's what's gonna happen.\n\n190\n00:09:17.230 --> 00:09:19.000\nIn other words,\nit's gonna look like it's installed.\n\n191\n00:09:19.000 --> 00:09:23.280\nIt'll be on their Start menu we can create\na desktop shortcut for the application.\n\n192\n00:09:23.280 --> 00:09:26.300\nIf they got a file it\nwill change the icon for\n\n193\n00:09:26.300 --> 00:09:29.060\nthat file to the appropriate program or\nwhat have you.\n\n194\n00:09:29.060 --> 00:09:32.290\nEven with the program is not installed\nyet, now once they click on the start\n\n195\n00:09:32.290 --> 00:09:36.220\nmenu or heir desktop icon or they double\nclick on that file it will go ahead and\n\n196\n00:09:36.220 --> 00:09:38.850\ninstall the program and\nthen open that file.\n\n197\n00:09:38.850 --> 00:09:40.980\nSo, wait until they actually need it.\n\n198\n00:09:40.980 --> 00:09:42.320\nBut it does advertise it.\n\n199\n00:09:42.320 --> 00:09:45.820\nIt makes it look like it's there so\nthe user knows they've got the program.\n\n200\n00:09:46.940 --> 00:09:47.650\nAll right.\n\n201\n00:09:47.650 --> 00:09:49.890\nYou can choose to install it\nautomatically if you want to.\n\n202\n00:09:49.890 --> 00:09:52.460\nWhen you assign it you can say\njust go ahead and install it and\n\n203\n00:09:52.460 --> 00:09:55.430\nwhen they log on it just\ninstalls the program.\n\n204\n00:09:55.430 --> 00:09:57.450\nWe can also publish to a user.\n\n205\n00:09:57.450 --> 00:10:00.870\nIf we publish it doesn't\nadvertise it on the desktop.\n\n206\n00:10:00.870 --> 00:10:03.750\nThey don't see the shortcut for\nit or anything like that.\n\n207\n00:10:03.750 --> 00:10:07.650\nWhat happens is it shows up\nin their Add/Remove programs.\n\n208\n00:10:07.650 --> 00:10:10.715\nAnd they can go to their Add/Remove\nprograms on their computer and they can\n\n209\n00:10:10.715 --> 00:10:14.265\npick from a list of all the programs that\nhave been published to their account, and\n\n210\n00:10:14.265 --> 00:10:16.417\nthey can pick which programs\nthey want to install.\n\n211\n00:10:16.417 --> 00:10:19.335\nAnd that's why you can't\npublish to a computer account\n\n212\n00:10:19.335 --> 00:10:22.335\nbecause a computer is not going to browse\nthrough add and remove programs and\n\n213\n00:10:22.335 --> 00:10:27.500\ngo hmm, wonder which one I wanna install,\nright, that requires user interaction.\n\n214\n00:10:27.500 --> 00:10:31.840\nSo you can only publish to a user, you can\nassign to either a user or a computer.\n\n215\n00:10:31.840 --> 00:10:35.040\nI'm gonna go undo to the computer\nbecause that's the most common one.\n\n216\n00:10:35.040 --> 00:10:38.380\nWe wanna install it for\nall users on that computer, and\n\n217\n00:10:38.380 --> 00:10:41.465\nI'm simply gonna right-click on Software\nInstallation, I'm under the Computer half.\n\n218\n00:10:41.465 --> 00:10:45.590\nSoftware Installation New, Package.\n\n219\n00:10:45.590 --> 00:10:46.780\nAnd this is gonna create that package.\n\n220\n00:10:46.780 --> 00:10:48.650\nNow, here's where you\ngotta be really careful.\n\n221\n00:10:48.650 --> 00:10:52.060\nWhen you browse and find that execute or\nthat msi file you've\n\n222\n00:10:52.060 --> 00:10:56.940\ngotta make sure you use a unc path,\nbecause that's gonna be in the GPO.\n\n223\n00:10:56.940 --> 00:11:00.600\nThat GPOs gonna get deployed to those\nclient machines, and when they go to\n\n224\n00:11:00.600 --> 00:11:05.120\nfind the software source they need to\nhave the UNC path, not a local path.\n\n225\n00:11:05.120 --> 00:11:07.980\nOtherwise, they're gonna look on their\nlocal hard drive for source files and\n\n226\n00:11:07.980 --> 00:11:10.440\nit's not gonna be there and\nit's gonna fail.\n\n227\n00:11:10.440 --> 00:11:13.576\nSo you wanna make sure you browse to\nthat software distribution point,\n\n228\n00:11:13.576 --> 00:11:16.097\nwhich you can see I've already\ndone a couple times here.\n\n229\n00:11:16.097 --> 00:11:18.400\nWe'll do SRV01.\n\n230\n00:11:18.400 --> 00:11:19.620\nSoftware distribution point.\n\n231\n00:11:20.790 --> 00:11:25.720\nI'll go into 7zip and\nI'll grab that msi file, click OK.\n\n232\n00:11:25.720 --> 00:11:28.760\nAnd because I'm under the computer\nhalf Publish is grayed out.\n\n233\n00:11:28.760 --> 00:11:30.440\nI can only assign.\n\n234\n00:11:30.440 --> 00:11:36.900\nI'll click OK, and it's gonna whir and\ngrind for a second, and create my package.\n\n235\n00:11:36.900 --> 00:11:37.410\nAnd there we go.\nAnd\n\n236\n00:11:37.410 --> 00:11:40.500\nyou can see it's pulled a lot of\ninformation from the MSI file itself.\n\n237\n00:11:40.500 --> 00:11:41.468\nI didn't give it any of this.\n\n238\n00:11:41.468 --> 00:11:44.865\n7zip version 9.3 eight 64 bit,\nall that good stuff\n\n239\n00:11:44.865 --> 00:11:50.270\nis pulling all of that from that MSI file.\n\n240\n00:11:50.270 --> 00:11:54.190\nAnd that's all there is to it, you scope\nthe policy to the appropriate location and\n\n241\n00:11:54.190 --> 00:11:55.220\nit should deploy.\n\n242\n00:11:55.220 --> 00:11:59.920\nSo, we'll try that out,now that\nI've got that policy created.\n\n243\n00:11:59.920 --> 00:12:02.443\nWe'll flip over to the client machine.\n\n244\n00:12:05.092 --> 00:12:06.709\nAnd we'll pull up a little command prompt.\n\n245\n00:12:07.800 --> 00:12:09.890\nAnd we'll do a GP update, switch force.\n\n246\n00:12:09.890 --> 00:12:12.594\nI will tell you that, you guys all know,\n\n247\n00:12:12.594 --> 00:12:18.060\nif I reboot this computer,\nCan't type and talk at the same time.\n\n248\n00:12:18.060 --> 00:12:20.890\nIf I reboot the computer,\nthat's gonna refresh policy, right?\n\n249\n00:12:20.890 --> 00:12:22.760\nIf the computer half and the user half.\n\n250\n00:12:22.760 --> 00:12:25.400\nI'll tell you with software installation,\nsometimes it's a good idea to,\n\n251\n00:12:25.400 --> 00:12:29.320\nit might take a couple of reboots,\nbefore it actually kicks in.\n\n252\n00:12:29.320 --> 00:12:33.230\nThis is also one that only\noccurs during the restart,\n\n253\n00:12:33.230 --> 00:12:36.140\nit doesn't occur during the refresh,\nright?\n\n254\n00:12:36.140 --> 00:12:39.420\nSo, as you can see here,\nit's telling me I'm refreshing the policy,\n\n255\n00:12:39.420 --> 00:12:43.240\nbut there's some settings in these\npolicies that require a restart,\n\n256\n00:12:43.240 --> 00:12:44.440\ndo you want to go ahead and restart now?\n\n257\n00:12:44.440 --> 00:12:48.860\nI'll go ahead and say yes, and\nhit Enter, and it'll go ahead and\n\n258\n00:12:48.860 --> 00:12:55.180\nreboot this machine eventually,\ntakes it's sweet time about doing it.\n\n259\n00:12:55.180 --> 00:12:58.650\nAnd then when it reboots,\nthat policy's gonna be applied, right?\n\n260\n00:12:58.650 --> 00:13:01.980\nThe computer part of the GPO gets\napplied when the computer starts up,\n\n261\n00:13:01.980 --> 00:13:05.090\nand then every 90 to\n100 minutes thereafter.\n\n262\n00:13:05.090 --> 00:13:07.650\nSo it should apply that, install that.\n\n263\n00:13:07.650 --> 00:13:09.490\nAnd I should have 7zip available.\n\n264\n00:13:10.500 --> 00:13:12.570\nAnd it doesn't restart in a minute.\n\n265\n00:13:12.570 --> 00:13:15.363\nIt said less than a minute, but,\nyou know, it's a Microsoft minute.\n\n266\n00:13:15.363 --> 00:13:17.210\n>> [LAUGH]\n>> They very, yeah.\n\n267\n00:13:19.030 --> 00:13:20.950\nAll right, there we go.\n\n268\n00:13:20.950 --> 00:13:22.060\nSo it's restarting now.\n\n269\n00:13:22.060 --> 00:13:24.280\nThose should be up in just a second.\n\n270\n00:13:24.280 --> 00:13:28.230\nStill getting keys to remember about\nsoftware installation or the limitations.\n\n271\n00:13:28.230 --> 00:13:34.010\nMSI file only, no tracking of licensing,\nno tracking of success or failure.\n\n272\n00:13:34.010 --> 00:13:36.360\nYou gotta create that\nsoftware distribution point.\n\n273\n00:13:36.360 --> 00:13:39.200\nEveryone read administrator's\nfull control.\n\n274\n00:13:39.200 --> 00:13:40.950\nIt's gotta be shared out.\n\n275\n00:13:40.950 --> 00:13:44.650\nWhen you're creating the package, you've\ngotta make sure you point to the UNC path.\n\n276\n00:13:44.650 --> 00:13:45.950\nNot a local path.\n\n277\n00:13:45.950 --> 00:13:51.000\nAll things that I've got to keep in\nmind with that software installation.\n\n278\n00:13:51.000 --> 00:13:54.410\nSo I'll log back on and\nwe will see if it worked.\n\n279\n00:13:55.740 --> 00:13:58.035\nAll right, so\nwe'll do a little search for 7zip.\n\n280\n00:13:59.892 --> 00:14:00.790\n>> Drumroll, please.\n\n281\n00:14:00.790 --> 00:14:01.351\n>> I know, right.\n\n282\n00:14:01.351 --> 00:14:04.440\n>> [LAUGH]\n>> And doesn't look good for\n\n283\n00:14:04.440 --> 00:14:05.930\nthe home team does it?\n\n284\n00:14:05.930 --> 00:14:10.350\nAgain sometimes it does take\na couple of reboots to get to work.\n\n285\n00:14:10.350 --> 00:14:13.705\nAnother great reason to use software\ninstallation in your group policy,\n\n286\n00:14:13.705 --> 00:14:16.360\n[LAUGH] I mean typically\nwe're not in a hurry right?\n\n287\n00:14:16.360 --> 00:14:18.360\nIf it shows up eventually that's okay.\n\n288\n00:14:18.360 --> 00:14:21.140\nLive on TV, I like it to happen right now.\n\n289\n00:14:21.140 --> 00:14:25.650\nAnd sometimes it doesn't, so\nlet me just refresh policy again.\n\n290\n00:14:25.650 --> 00:14:28.520\n>> Yeah, this is probably something\nwe're typically doing on after hours\n\n291\n00:14:28.520 --> 00:14:29.070\nkind of thing.\n\n292\n00:14:29.070 --> 00:14:33.090\nWe'll set this up, go ahead and enforce\nthe policy when everybody's going home.\n\n293\n00:14:33.090 --> 00:14:35.990\nYou don't have to worry\nabout user interaction or\n\n294\n00:14:35.990 --> 00:14:39.950\ninterrupting anyone's day with a reboot or\npolicy updates.\n\n295\n00:14:39.950 --> 00:14:40.810\nThings like that.\n\n296\n00:14:40.810 --> 00:14:42.920\nWe set that typically later.\n\n297\n00:14:42.920 --> 00:14:44.070\nLet the thing do it's thing.\n\n298\n00:14:44.070 --> 00:14:45.970\nWe've got plenty of time for\n\n299\n00:14:45.970 --> 00:14:49.050\nit to actually take effect,\nget the software installed.\n\n300\n00:14:49.050 --> 00:14:52.190\nMake sure that there's nothing else\nthat could be interfering with it,\n\n301\n00:14:52.190 --> 00:14:52.770\nand it's good to go.\n\n302\n00:14:52.770 --> 00:14:55.910\nHopefully you come in the next day and\nthe software's just rolled out.\n\n303\n00:14:55.910 --> 00:14:58.660\nAgain, we're talking\nabout much smaller scope.\n\n304\n00:14:58.660 --> 00:15:00.950\nThen large enterprise networks, obviously.\n\n305\n00:15:00.950 --> 00:15:02.570\nThere are great third party solutions.\n\n306\n00:15:02.570 --> 00:15:05.970\nMicrosoft obviously offers\none that's fantastic, and\n\n307\n00:15:05.970 --> 00:15:08.040\nthat's what you would\nbe using in that stead.\n\n308\n00:15:08.040 --> 00:15:12.450\nBut here, smaller office, home office\nenvironments, this will work for you.\n\n309\n00:15:12.450 --> 00:15:13.270\nAnd it will be great.\n\n310\n00:15:13.270 --> 00:15:16.290\nIt's built into the system,\nyou don't have to go somewhere else.\n\n311\n00:15:16.290 --> 00:15:19.210\nYou can use this, and just plan\naccordingly, I guess is what I'm saying.\n\n312\n00:15:19.210 --> 00:15:20.550\n>> Yep, exactly.\n\n313\n00:15:20.550 --> 00:15:22.880\nAll right, and what I did here,\nis I ran a GP result,\n\n314\n00:15:22.880 --> 00:15:26.250\njust to make sure I can see that\nthe policy is being applied.\n\n315\n00:15:26.250 --> 00:15:29.410\nSo I know it's just a matter\nof time before that shows up.\n\n316\n00:15:29.410 --> 00:15:34.080\nWe'll take one more look here we'll 7-zip.\n\n317\n00:15:34.080 --> 00:15:34.888\nAnd there we go.\n\n318\n00:15:34.888 --> 00:15:37.260\nThere's my 7zip file manager.\n\n319\n00:15:37.260 --> 00:15:40.020\nI click on that and it runs just fine.\n\n320\n00:15:40.020 --> 00:15:42.273\nSo you can see,\nif you're installing some little program,\n\n321\n00:15:42.273 --> 00:15:43.566\nthis might be the way you wanna go.\n\n322\n00:15:43.566 --> 00:15:45.581\nIf you're okay with the limitations of it,\n\n323\n00:15:45.581 --> 00:15:49.390\nit makes it awfully easy to deploy\nthat out across my network.\n\n324\n00:15:49.390 --> 00:15:50.842\nAll right, so\nthat's software installation.\n\n325\n00:15:50.842 --> 00:15:51.690\nPlay around with that.\n\n326\n00:15:51.690 --> 00:15:54.120\nTry some of the other\noptions when you're studying.\n\n327\n00:15:54.120 --> 00:15:56.560\nYou know try publishing it to\nyour users see what happens.\n\n328\n00:15:56.560 --> 00:15:59.770\nPublish it, or assign it to a user and\nsee what happens.\n\n329\n00:15:59.770 --> 00:16:01.375\nJust to get use to those\ndifferent options.\n\n330\n00:16:01.375 --> 00:16:05.593\nThere's some other options I should\nprobably show you real quick in here.\n\n331\n00:16:05.593 --> 00:16:09.265\nI'm not gonna go through them,\nbut I want to just show you,\n\n332\n00:16:09.265 --> 00:16:12.455\nif I edit this policy or\ncome back into this policy.\n\n333\n00:16:12.455 --> 00:16:18.190\n[COUGH] When I pull up\nthe properties of this package,\n\n334\n00:16:18.190 --> 00:16:20.300\nI can go back in and make changes to this.\n\n335\n00:16:20.300 --> 00:16:24.170\nI can uninstall it if I\nremove the GPO upgrades.\n\n336\n00:16:24.170 --> 00:16:26.170\nWhat if they come out with a new version?\n\n337\n00:16:26.170 --> 00:16:28.290\nI can create additional packages, and\n\n338\n00:16:28.290 --> 00:16:31.830\nspecify here that this upgrades\nthat previous version.\n\n339\n00:16:31.830 --> 00:16:34.290\nSo it doesn't try to install them twice,\nor anything like that.\n\n340\n00:16:34.290 --> 00:16:36.710\nYou can actually let the user decide.\n\n341\n00:16:36.710 --> 00:16:39.760\nYou can make it an optional upgrade if\nthey want to keep the old one, fine.\n\n342\n00:16:39.760 --> 00:16:41.530\nIf they want to upgrade to the new one,\ngreat.\n\n343\n00:16:41.530 --> 00:16:43.810\nYou can do a forced upgrade\nwhere they don't have a choice.\n\n344\n00:16:43.810 --> 00:16:47.720\nIt's gonna be upgraded\nwhether they like it or not.\n\n345\n00:16:47.720 --> 00:16:50.290\nWhen you publish it you can\nactually create categories.\n\n346\n00:16:50.290 --> 00:16:53.310\nNow I assign this one\nright to the computer, but\n\n347\n00:16:53.310 --> 00:16:55.980\nif I was publishing to a user,\nI can create categories.\n\n348\n00:16:55.980 --> 00:16:58.900\nThese categories will show up\nunder add remove programs, so\n\n349\n00:16:58.900 --> 00:17:02.650\nthey can browse through the categories and\nfind the appropriate program they want.\n\n350\n00:17:02.650 --> 00:17:06.460\nIf you have an mst file you can do\nthat over here on your modification.\n\n351\n00:17:06.460 --> 00:17:08.320\nSo just some things that\nyou should go in and\n\n352\n00:17:08.320 --> 00:17:10.670\nkinda look at before you\ngo into that exam booth.\n\n353\n00:17:10.670 --> 00:17:12.950\nPlay around With some of those options.\n\n354\n00:17:14.330 --> 00:17:15.710\nAll right, I don't know why I closed that.\n\n355\n00:17:15.710 --> 00:17:17.560\nThis whole thing is gonna\nbe on group policy, so\n\n356\n00:17:17.560 --> 00:17:19.130\nwhy don't we get that back up here?\n\n357\n00:17:19.130 --> 00:17:22.730\nThe next thing Daniel I want to talk\nabout is folder redirection, and\n\n358\n00:17:22.730 --> 00:17:24.480\nthis is a very common one.\n\n359\n00:17:24.480 --> 00:17:28.700\nA lot of environments use this, and\njust like the name implies we're\n\n360\n00:17:28.700 --> 00:17:32.210\nredirecting where those\nfolders are actually located.\n\n361\n00:17:32.210 --> 00:17:35.420\nWhen I say folders,\nwe're limited on which ones we can do,\n\n362\n00:17:35.420 --> 00:17:39.240\nbut it's things like My Documents,\nMy Pictures, things like that right,\n\n363\n00:17:39.240 --> 00:17:43.880\nand the idea is if I log on to a machine,\nI've got my My Documents folder there.\n\n364\n00:17:43.880 --> 00:17:46.270\nI can create a document in there, great.\n\n365\n00:17:46.270 --> 00:17:49.460\nIf I go to another machine and\nI log into that other machine,\n\n366\n00:17:49.460 --> 00:17:53.420\nand I open up My Documents, I don't\nsee that file, two separate profiles,\n\n367\n00:17:53.420 --> 00:17:55.310\non two separate computers.\n\n368\n00:17:55.310 --> 00:17:59.414\nIf I do folder redirection,\nI can move this users My Documents,\n\n369\n00:17:59.414 --> 00:18:01.393\nup to a file server somewhere.\n\n370\n00:18:01.393 --> 00:18:03.913\nAnd now it doesn't matter\nwhat machine I log onto,\n\n371\n00:18:03.913 --> 00:18:07.254\nit's always gonna be pointed to\nthat file server on the network, so\n\n372\n00:18:07.254 --> 00:18:11.460\nI have one my document folder, even if\nI log onto five different machines.\n\n373\n00:18:11.460 --> 00:18:13.370\nVery handy for the user.\n\n374\n00:18:13.370 --> 00:18:16.580\nAlso great for us as administrators,\nbecause I don't run around and\n\n375\n00:18:16.580 --> 00:18:19.210\nback up each one of those client\nmachines every night, but\n\n376\n00:18:19.210 --> 00:18:21.160\nI do back up my file server every night.\n\n377\n00:18:21.160 --> 00:18:24.520\nSo now, when I back up my file server,\nI'm backing up their My Documents, or\n\n378\n00:18:24.520 --> 00:18:26.260\nwhatever else I've redirected as well.\n\n379\n00:18:26.260 --> 00:18:28.610\nSo it works out kind of good for\nboth of us.\n\n380\n00:18:28.610 --> 00:18:32.530\n>> Yeah, that's probably the biggest\nreason to do that because,\n\n381\n00:18:32.530 --> 00:18:35.200\nyou want to be able to allow\nthem to save their files,\n\n382\n00:18:35.200 --> 00:18:38.270\nsave their folders, and\nthen be able to go wherever they want.\n\n383\n00:18:38.270 --> 00:18:41.160\nAnd it's being backed up,\nanything ever happens, they say oh no,\n\n384\n00:18:41.160 --> 00:18:43.030\nI accidentally deleted something.\n\n385\n00:18:43.030 --> 00:18:43.870\nNot a problem.\n\n386\n00:18:43.870 --> 00:18:46.660\nWe probably have like\na Volume Shadow Protector or\n\n387\n00:18:46.660 --> 00:18:48.670\nVolume Shadow Copy working on that.\n\n388\n00:18:48.670 --> 00:18:50.330\nIf not we've got a tape backup.\n\n389\n00:18:50.330 --> 00:18:52.120\nIf not we got another type of back up.\n\n390\n00:18:52.120 --> 00:18:56.250\nWe are helping them keep their files\nin order, and not only that, but\n\n391\n00:18:56.250 --> 00:19:00.150\nit keeps them from going,\nI've totally infected my machine.\n\n392\n00:19:00.150 --> 00:19:03.830\nHelpdesk kiss talked to me and we're gonna\nhave to give me a whole new computer.\n\n393\n00:19:03.830 --> 00:19:07.250\nI saved everything on My Documents,\nand it's completely infected.\n\n394\n00:19:07.250 --> 00:19:12.537\nOkay, well it's no longer a crisis,\nwe direct all that to a file share.\n\n395\n00:19:12.537 --> 00:19:16.455\nOnce you get the new computer just double\nclick on your My Documents after you've\n\n396\n00:19:16.455 --> 00:19:18.540\nlogged in, and you will be back in action.\n\n397\n00:19:18.540 --> 00:19:21.480\nSo folder redirection can be\na lifesaver in a lot of ways.\n\n398\n00:19:21.480 --> 00:19:22.030\n>> Absolutely.\n\n399\n00:19:22.030 --> 00:19:23.900\nAll right, let's see how we do it.\n\n400\n00:19:23.900 --> 00:19:26.470\nI'm gonna go over here to my file server,\nand I'm gonna create,\n\n401\n00:19:26.470 --> 00:19:29.020\nwhat you do basically is\nyou create a root folder.\n\n402\n00:19:29.020 --> 00:19:32.028\nSo I'm gonna create a folder, and\n\n403\n00:19:32.028 --> 00:19:36.918\nI'm gonna call it Documents,\nfor lack of creativity.\n\n404\n00:19:36.918 --> 00:19:41.385\nAll right, now the Documents folder,\nthat root folder, whatever you call it,\n\n405\n00:19:41.385 --> 00:19:46.131\ndoes have to be shared out, and I'm gonna\nshare it, and you're gonna love this one.\n\n406\n00:19:46.131 --> 00:19:50.515\nI'm just gonna share it, actually I'll do\nthe right thing I suppose, and I'll do\n\n407\n00:19:50.515 --> 00:19:54.860\nthe authenticated users, that is still\nbetter than the everyone group, right?\n\n408\n00:19:54.860 --> 00:19:56.672\n>> Yeah, at least you had to log in\n\n409\n00:19:56.672 --> 00:19:57.372\n[LAUGH]\n>> Yeah.\n\n410\n00:19:57.372 --> 00:20:01.940\nAnd I'll give them a read and write, which\nwill turn into NTFS full control with this\n\n411\n00:20:01.940 --> 00:20:05.680\ncrazy wizard that they give us, and that's\nall I'm gonna do, and you might think,\n\n412\n00:20:05.680 --> 00:20:06.930\nwell wait, that doesn't sound very good.\n\n413\n00:20:06.930 --> 00:20:11.670\nIt's gonna take care of assigning\npermissions on the sub-folders for me.\n\n414\n00:20:11.670 --> 00:20:14.590\nYou can go out to TechNet, and\nyou can read up on what permissions\n\n415\n00:20:14.590 --> 00:20:19.200\nneed to be assigned on the sub-folders for\nthe users, cuz I typically want to keep\n\n416\n00:20:19.200 --> 00:20:22.550\nDaniel's documents private to Daniel,\nmy documents private to me.\n\n417\n00:20:22.550 --> 00:20:25.390\nUser's have that expectancy of\nprivacy when it comes to their\n\n418\n00:20:25.390 --> 00:20:28.680\nMy Documents folder, but\nyou don't have to do it manually.\n\n419\n00:20:28.680 --> 00:20:30.920\nGroup policy will do it for me.\n\n420\n00:20:30.920 --> 00:20:32.410\nSo let's see how that works.\n\n421\n00:20:32.410 --> 00:20:38.040\nI'm gonna create a new policy up here,\nand we'll call it folder redirection.\n\n422\n00:20:40.800 --> 00:20:43.969\nAnd then I'm gonna modify that policy.\n\n423\n00:20:45.951 --> 00:20:49.984\nAnd this is gonna be under the user half,\nPolicies and then Windows settings, and\n\n424\n00:20:49.984 --> 00:20:54.134\nthen Folder redirection, and these are\nthe, I wanna say there's 13 if I remember\n\n425\n00:20:54.134 --> 00:20:57.200\ncorrectly, these are the folders\nthat I can redirect.\n\n426\n00:20:57.200 --> 00:20:59.090\nI can't just pick any folder and\nredirect it,\n\n427\n00:20:59.090 --> 00:21:02.020\nonly these that are listed\nhere I can redirect.\n\n428\n00:21:02.020 --> 00:21:03.520\nIf I wanna do their documents,\n\n429\n00:21:03.520 --> 00:21:07.290\nI simply right click on Documents,\nif I can get that to go.\n\n430\n00:21:08.930 --> 00:21:10.420\nThere we go.\nPull up the properties.\n\n431\n00:21:10.420 --> 00:21:14.900\nIt's different from others right, it's\nnot a create new, or anything like that.\n\n432\n00:21:14.900 --> 00:21:18.500\nIt just, you pull up the properties,\nand here I'm gonna turn it on.\n\n433\n00:21:18.500 --> 00:21:23.270\nYou can do basic, everyone of the same\nlocation, Advanced specify location for\n\n434\n00:21:23.270 --> 00:21:24.570\nvarious groups.\n\n435\n00:21:24.570 --> 00:21:27.490\nNow when I say basic,\neveryone's to the same location.\n\n436\n00:21:27.490 --> 00:21:29.650\nThat doesn't mean everybody's\ngetting one folder and\n\n437\n00:21:29.650 --> 00:21:32.340\nwe're all putting our\ndocuments in one big folder.\n\n438\n00:21:32.340 --> 00:21:35.810\nIt just means that everybody's folder's\ngonna be redirected to the same\n\n439\n00:21:35.810 --> 00:21:36.760\nfile server.\n\n440\n00:21:36.760 --> 00:21:38.150\nThat might work in most environments.\n\n441\n00:21:38.150 --> 00:21:42.544\nSome environments though, they might want\ncertain users to have their documents\n\n442\n00:21:42.544 --> 00:21:46.364\nredirected to a different file server\nbecause of security reasons, or\n\n443\n00:21:46.364 --> 00:21:47.270\njust location.\n\n444\n00:21:47.270 --> 00:21:48.550\nYou know, the branch office.\n\n445\n00:21:48.550 --> 00:21:52.040\nI want to use that file server\nout there at the branch office.\n\n446\n00:21:52.040 --> 00:21:56.050\nSo that's when I would do this Advanced\nspecify location for different groups.\n\n447\n00:21:56.050 --> 00:21:57.520\nDown below, this is what I was saying.\n\n448\n00:21:57.520 --> 00:21:59.520\nIt will create a folder for each user.\n\n449\n00:21:59.520 --> 00:22:00.700\nThere's a few different options.\n\n450\n00:22:00.700 --> 00:22:02.490\nYou can kind of play around with those,\nbut\n\n451\n00:22:02.490 --> 00:22:05.940\nI'll tell you the most common one is\ncreate a folder for each user, and\n\n452\n00:22:05.940 --> 00:22:11.200\nthen for the root path again I wanna\nmake sure I specify the UNC path.\n\n453\n00:22:11.200 --> 00:22:14.280\nSo if I try to browse,\nit's not really gonna work.\n\n454\n00:22:14.280 --> 00:22:18.730\nI'm gonna come over here and\ntype backslash, backslash,\n\n455\n00:22:18.730 --> 00:22:23.897\nsvr01, backslash,\nmake sure I spelled that right, documents.\n\n456\n00:22:23.897 --> 00:22:25.355\nHopefully I spelled that correctly, and\n\n457\n00:22:25.355 --> 00:22:27.220\nyou see down below it's\ngonna create a folder.\n\n458\n00:22:27.220 --> 00:22:30.920\nFor Claire it would be server 01,\ndocuments Claire, and\n\n459\n00:22:30.920 --> 00:22:33.660\nthen her documents folder, all right?\n\n460\n00:22:33.660 --> 00:22:35.730\nThen I'm gonna flip over\nto the settings tab.\n\n461\n00:22:35.730 --> 00:22:38.360\nTypically don't have to change these,\nbut good to know what they are.\n\n462\n00:22:38.360 --> 00:22:40.580\nGrant the user exclusive\nrights to documents,\n\n463\n00:22:40.580 --> 00:22:44.120\nthat way I can't get into Daniel's stuff,\nhe can't get into mine.\n\n464\n00:22:44.120 --> 00:22:46.950\nMove the contents of documents\nto the new location.\n\n465\n00:22:46.950 --> 00:22:48.180\nI really like that idea, right?\n\n466\n00:22:48.180 --> 00:22:51.750\nIf you put this policy in place over\nnight, the user comes in the next morning\n\n467\n00:22:51.750 --> 00:22:55.290\nand their Documents folder is blank,\nthey're gonna freak, all right.\n\n468\n00:22:55.290 --> 00:22:58.910\nSo let's take whatever's in their My\nDocuments, their local profile right now,\n\n469\n00:22:58.910 --> 00:23:01.911\nand let's move that up there for them so\nthey have access to all their stuff.\n\n470\n00:23:03.030 --> 00:23:05.820\nThis is only gonna apply to 2008 and\nlater.\n\n471\n00:23:05.820 --> 00:23:08.780\nYou can see if I need to work\nwith older operating systems,\n\n472\n00:23:08.780 --> 00:23:10.270\nthere is a check mark for that.\n\n473\n00:23:10.270 --> 00:23:13.910\nAlso, if the policy is removed,\ndo I want to put everything back, or\n\n474\n00:23:13.910 --> 00:23:16.250\nleave the folder in the new location?\n\n475\n00:23:16.250 --> 00:23:18.270\nI'll go ahead and click OK,\n\n476\n00:23:18.270 --> 00:23:21.020\nand it warns me again that this\nwon't work for down level clients.\n\n477\n00:23:21.020 --> 00:23:24.250\nI'll say yes, I'm fine with that,\nand there we go.\n\n478\n00:23:24.250 --> 00:23:27.970\nIt doesn't show up anything out here, but\nthe policy is in place because I said,\n\n479\n00:23:27.970 --> 00:23:31.280\nif I go back into Properties,\nwe can see that's all still turned on.\n\n480\n00:23:31.280 --> 00:23:35.600\nAll right, so this one,\nwe'll go and apply that.\n\n481\n00:23:35.600 --> 00:23:40.345\nThis is another one just like the software\ninstallation that only occurs on\n\n482\n00:23:40.345 --> 00:23:41.184\nthe reboot.\n\n483\n00:23:41.184 --> 00:23:44.017\nSo I'm gonna go ahead and\ndo my GP updates switch force.\n\n484\n00:23:47.502 --> 00:23:50.623\nAnd when it applies this policy,\nit's gonna let me know that hey,\n\n485\n00:23:50.623 --> 00:23:54.358\nsome of these settings are only gonna\noccur in this case it's a user setting, so\n\n486\n00:23:54.358 --> 00:23:57.011\nit's only gonna occur during\nthe log off or log back on.\n\n487\n00:23:58.660 --> 00:23:59.670\nSo wait for that to kick in.\n\n488\n00:23:59.670 --> 00:24:02.910\nAnd I'll say yes I want to go ahead and\nlog off.\n\n489\n00:24:04.960 --> 00:24:08.020\nAnd I'll tell you what I'm going to\ndo because I just don't trust it\n\n490\n00:24:08.020 --> 00:24:09.060\njust like the other one.\n\n491\n00:24:09.060 --> 00:24:10.940\nSometimes it takes more than one try.\n\n492\n00:24:10.940 --> 00:24:12.060\nI'm just gonna reboot the computer.\n\n493\n00:24:12.060 --> 00:24:15.397\n>> When they say restart they\nmean restart times three.\n\n494\n00:24:15.397 --> 00:24:17.080\n[LAUGH]\n>> Yeah.\n\n495\n00:24:17.080 --> 00:24:20.220\n[LAUGH]\n>> The times three is implied.\n\n496\n00:24:20.220 --> 00:24:20.820\nIt's like the J.\n\n497\n00:24:20.820 --> 00:24:21.920\nIt's silent.\n\n498\n00:24:21.920 --> 00:24:23.210\n>> Yeah, exactly.\n\n499\n00:24:23.210 --> 00:24:27.360\n[LAUGH] All right, so\nthis guy should be rebooting right now.\n\n500\n00:24:27.360 --> 00:24:27.890\nThere we go.\n\n501\n00:24:28.990 --> 00:24:32.460\nWe log back in, and\nwe'll see if it has taken effect.\n\n502\n00:24:32.460 --> 00:24:36.560\nAgain, the one way you can actually\ncheck is to come over here.\n\n503\n00:24:36.560 --> 00:24:40.480\nI can see that there is no folder for\nthe administrator, yet.\n\n504\n00:24:40.480 --> 00:24:43.020\nSo probably has not taken place.\n\n505\n00:24:44.900 --> 00:24:46.730\nWe'll go ahead and log in anyway.\n\n506\n00:24:46.730 --> 00:24:50.120\nBecause it is a user setting, so\nit does apply when the user logs off.\n\n507\n00:24:50.120 --> 00:24:51.470\nSo let me log on.\n\n508\n00:24:51.470 --> 00:24:53.099\nSee if we can get that thing to kick in.\n\n509\n00:24:56.902 --> 00:24:59.772\nSometimes it's a good, when it takes\na little while to log on, you're thinking,\n\n510\n00:24:59.772 --> 00:25:02.360\nall right, it must be doing\nsomething in the background.\n\n511\n00:25:02.360 --> 00:25:05.580\nFrom the user's perspective,\nthings won't change much.\n\n512\n00:25:05.580 --> 00:25:09.310\nThey probably won't notice the difference,\nhonestly.\n\n513\n00:25:09.310 --> 00:25:13.310\nIf I go to my Documents here,\ntrying to see if I can show you.\n\n514\n00:25:13.310 --> 00:25:15.930\nI can pretty much tell already\nthat it has not worked.\n\n515\n00:25:15.930 --> 00:25:19.860\nIf I pull up the properties for\nmy documents, I can see that oop,\n\n516\n00:25:19.860 --> 00:25:23.910\nI lied to you, there I can see that it has\nworked back slash, back slash, server one.\n\n517\n00:25:23.910 --> 00:25:27.350\nSo, it was a network path for\nmy documents folder.\n\n518\n00:25:27.350 --> 00:25:31.080\nThe only way the user's really gonna\ntell is down here at the bottom.\n\n519\n00:25:31.080 --> 00:25:33.040\nSee how it says state online?\n\n520\n00:25:33.040 --> 00:25:34.950\nThat's that active sync icon, and\n\n521\n00:25:34.950 --> 00:25:37.920\nthat's the indicator that this\nis not a local resource anymore.\n\n522\n00:25:37.920 --> 00:25:39.430\nBut, to the user,\nthey don't know any difference.\n\n523\n00:25:39.430 --> 00:25:42.870\nThey can create new folders,\nnew files, whatever they want to do.\n\n524\n00:25:42.870 --> 00:25:45.390\nIt is all good to them.\n\n525\n00:25:45.390 --> 00:25:50.120\nBut what's really happening is if we look\nover here, there's my sub folder for\n\n526\n00:25:50.120 --> 00:25:51.350\nadministrator.\n\n527\n00:25:51.350 --> 00:25:53.620\nAnd there's the documents folder, and\n\n528\n00:25:53.620 --> 00:25:55.690\nthere's that test folder\nthat I just created.\n\n529\n00:25:56.720 --> 00:25:59.270\nSo that's document redirection,\nallows me to redirect,\n\n530\n00:25:59.270 --> 00:26:01.980\nI can do several different folders.\n\n531\n00:26:01.980 --> 00:26:04.160\nWe mentioned all the pluses to it,\n\n532\n00:26:04.160 --> 00:26:06.800\nso it really is something that\na lot of environments use.\n\n533\n00:26:08.120 --> 00:26:11.940\nAll right, Daniel, another thing that\nthey call out on the exam is scripts.\n\n534\n00:26:11.940 --> 00:26:16.130\nAnd scripts are something else that\nI can deploy, using group policy.\n\n535\n00:26:17.470 --> 00:26:22.670\nDon't see us using it as much anymore\nbecause group policy has come a long way.\n\n536\n00:26:22.670 --> 00:26:25.920\nAnd there's most of the things\nI can do within group policy,\n\n537\n00:26:25.920 --> 00:26:28.355\nespecially now with the group\npolicy preferences.\n\n538\n00:26:28.355 --> 00:26:31.105\nBut in the past, and\nI know you've been doing this a while,\n\n539\n00:26:31.105 --> 00:26:33.625\nyou've probably used some logon scripts or\nlogoff scripts.\n\n540\n00:26:33.625 --> 00:26:37.245\n>> Yeah, we had some custom logon\nscripts just to make sure that\n\n541\n00:26:37.245 --> 00:26:40.785\ndrives were being mapped or\nthings of that nature, just simple stuff.\n\n542\n00:26:40.785 --> 00:26:44.215\nAnd normally that's basically what\nyou're doing, just making sure that\n\n543\n00:26:44.215 --> 00:26:46.365\nlittle things that you want to\nhave happen in the background so\n\n544\n00:26:46.365 --> 00:26:47.955\nit doesn't have to bother a user.\n\n545\n00:26:47.955 --> 00:26:49.415\nOr if they're new to the company,\n\n546\n00:26:49.415 --> 00:26:52.855\nyou don't have to go through\nevery type of setup possible.\n\n547\n00:26:52.855 --> 00:26:54.810\nMap drives was probably\none of the big ones.\n\n548\n00:26:54.810 --> 00:26:58.300\n>> Yeah, that was one of the big settings\nthat wasn't available in group policy.\n\n549\n00:26:58.300 --> 00:27:02.360\nYou couldn't map drives\nusing a GPO setting.\n\n550\n00:27:02.360 --> 00:27:04.480\nSo scripts were the way to do it.\n\n551\n00:27:04.480 --> 00:27:07.500\nNow with group policy preferences,\nI can actually map drives there.\n\n552\n00:27:07.500 --> 00:27:08.450\nSo it's a little bit easier.\n\n553\n00:27:08.450 --> 00:27:09.660\nI don't have to do the scripts.\n\n554\n00:27:09.660 --> 00:27:11.590\nBut you can do anything you\ncan do with a script, right?\n\n555\n00:27:11.590 --> 00:27:13.210\nClean up temp files, what have you.\n\n556\n00:27:13.210 --> 00:27:15.010\nThere's a lot of cool things you can do.\n\n557\n00:27:15.010 --> 00:27:16.640\nFirst thing you need\nto know about scripts,\n\n558\n00:27:16.640 --> 00:27:18.580\nthere's four places I can apply a script.\n\n559\n00:27:18.580 --> 00:27:23.330\nI can do a log on script,\na log off script, a start up script and\n\n560\n00:27:23.330 --> 00:27:24.710\na shut down script.\n\n561\n00:27:24.710 --> 00:27:27.240\nThe names pretty much tell you\nexactly what's gonna happen.\n\n562\n00:27:27.240 --> 00:27:30.750\nIf I put it in the start up script,\nthat means when that computer starts up,\n\n563\n00:27:30.750 --> 00:27:32.510\nthat script is gonna be executed.\n\n564\n00:27:32.510 --> 00:27:35.180\nIf I do a shut down script,\nevery time the computer shuts down,\n\n565\n00:27:35.180 --> 00:27:37.340\nthat script is gonna be executed.\n\n566\n00:27:37.340 --> 00:27:39.790\nLog on script would execute\nwhen the user logs on.\n\n567\n00:27:39.790 --> 00:27:42.880\nLog off script would execute\nwhen the user logs off.\n\n568\n00:27:42.880 --> 00:27:44.040\nSo let's see how we could do that.\n\n569\n00:27:44.040 --> 00:27:51.044\nI'm gonna go ahead and\ncreate another policy here,\n\n570\n00:27:51.044 --> 00:27:56.306\nand we'll call it, DriveMap, okay.\n\n571\n00:27:56.306 --> 00:27:58.460\nAll right, and\nthen I'll edit that guy, all right.\n\n572\n00:28:00.600 --> 00:28:06.500\nAnd if we take a look for our scripts\nunderneath our Windows Settings,\n\n573\n00:28:06.500 --> 00:28:08.040\nyou can see I've got Scripts.\n\n574\n00:28:08.040 --> 00:28:10.589\nAnd if I make this a little bit bigger so\nwe can all see that.\n\n575\n00:28:12.600 --> 00:28:14.390\nI got script start up, shut down.\n\n576\n00:28:14.390 --> 00:28:19.570\nIf I go down to the user half Windows\nsettings, I got scripts log on, log off.\n\n577\n00:28:19.570 --> 00:28:22.030\nAll right, so\nlet's see how we can deploy one out.\n\n578\n00:28:22.030 --> 00:28:25.740\nI'll go ahead and\ndo a user setting here, a log on script.\n\n579\n00:28:25.740 --> 00:28:30.350\nSo, all I'm gonna do is go over here to,\ndouble click on log on,\n\n580\n00:28:30.350 --> 00:28:33.190\nand it opens up my log on properties.\n\n581\n00:28:33.190 --> 00:28:34.540\nNow, it's a little strange.\n\n582\n00:28:34.540 --> 00:28:39.220\nYou can store a lot of scripts in\nthe GPO and not actually have them run.\n\n583\n00:28:39.220 --> 00:28:43.560\nWhat this dialogue is showing me is all\nthe scripts that are stored in this GPO,\n\n584\n00:28:43.560 --> 00:28:44.660\nwhich there aren't any.\n\n585\n00:28:44.660 --> 00:28:48.930\nSo if I want to add a script,\nI can't do it from right here.\n\n586\n00:28:48.930 --> 00:28:53.340\nWhat I have to do is click, show files and\nthat opens up a folder, and\n\n587\n00:28:53.340 --> 00:28:56.530\nif we take a look at this path,\nI don't know if we can see it in here.\n\n588\n00:28:56.530 --> 00:29:00.600\nYou will see that it is\nactually in the GPO, right.\n\n589\n00:29:00.600 --> 00:29:03.290\nLab.net sysvol, lab.net policies.\n\n590\n00:29:03.290 --> 00:29:06.740\nThe GUID for the GPO itself,\nscript, log on.\n\n591\n00:29:06.740 --> 00:29:09.830\nSo this folder is stored\nwithin the GPO itself.\n\n592\n00:29:09.830 --> 00:29:16.290\nNow the script I have is\na little PowerShell script.\n\n593\n00:29:16.290 --> 00:29:19.520\nIn fact, I could show it to you but\nit's not super important.\n\n594\n00:29:19.520 --> 00:29:24.210\nIt's gonna map a network drive using\nPowerShell to a data folder over there on\n\n595\n00:29:24.210 --> 00:29:27.050\nserver one and give it a drive letter M.\n\n596\n00:29:27.050 --> 00:29:31.090\nYou're on your own writing your script, so\nmaybe we can do another episode on that.\n\n597\n00:29:31.090 --> 00:29:32.310\nSo I'm gonna copy that guy.\n\n598\n00:29:34.380 --> 00:29:37.440\nAnd I am going to paste it\ninto this log on folder.\n\n599\n00:29:37.440 --> 00:29:41.870\nAnd then I am going to close this window.\n\n600\n00:29:41.870 --> 00:29:46.610\nNow when I click Add and I click Browse,\nlook where it is browsing.\n\n601\n00:29:46.610 --> 00:29:51.300\nThat same location within that GPO,\nI can find my script and I can click open.\n\n602\n00:29:51.300 --> 00:29:54.970\nYou don't have to store it in there but\nit needs to be accessible right,\n\n603\n00:29:54.970 --> 00:29:59.090\nif this policy is deployed out to\na user and that script's not there.\n\n604\n00:29:59.090 --> 00:30:00.840\nHow can it execute it, right?\n\n605\n00:30:00.840 --> 00:30:04.010\nSo it's best just to put it in the GPO,\nI think.\n\n606\n00:30:04.010 --> 00:30:04.620\nI'll click OK.\n\n607\n00:30:04.620 --> 00:30:07.700\nAnd I'll go ahead and click OK.\n\n608\n00:30:07.700 --> 00:30:08.918\nAnd now I've got a log on script.\n\n609\n00:30:08.918 --> 00:30:12.790\nIf I double-click on that again, you'll\nsee that log on script listed there.\n\n610\n00:30:12.790 --> 00:30:15.740\nYou know, I probably should\nhave added that, I'm so silly.\n\n611\n00:30:15.740 --> 00:30:17.520\nI didn't add it to the right screen.\n\n612\n00:30:17.520 --> 00:30:20.540\nI needed to add that to the power shell\nscripts that handles those a little bit\n\n613\n00:30:20.540 --> 00:30:22.500\ndifferently, so, same process.\n\n614\n00:30:22.500 --> 00:30:25.570\nI'm just going to browse,\nfind it, store it in there.\n\n615\n00:30:25.570 --> 00:30:27.520\nI'll go ahead and\nremove it from this other side.\n\n616\n00:30:28.640 --> 00:30:30.360\nI always forget that with\nthe good old PowerShell.\n\n617\n00:30:30.360 --> 00:30:32.915\nNow they've got their tab-\n>> [INAUDIBLE] [LAUGH].\n\n618\n00:30:32.915 --> 00:30:34.169\n>> All right, all right.\n\n619\n00:30:34.169 --> 00:30:37.720\nI'm used to working with my\ngood old BAT files and my CMDs.\n\n620\n00:30:37.720 --> 00:30:42.010\nYou can also change the order\nif there was something that.\n\n621\n00:30:42.010 --> 00:30:44.570\nYou had to choose the order there,\nso good to go.\n\n622\n00:30:44.570 --> 00:30:45.530\nWe should be able to click OK.\n\n623\n00:30:45.530 --> 00:30:47.950\nAnd now I've got my policy.\n\n624\n00:30:47.950 --> 00:30:49.470\nI'll close that.\n\n625\n00:30:49.470 --> 00:30:52.160\nAgain, we'll use client as my guinea pig.\n\n626\n00:30:52.160 --> 00:30:55.468\nThat was a logon script,\nso I'm going to log off.\n\n627\n00:30:58.452 --> 00:31:00.680\nAnd I'm gonna log back on.\n\n628\n00:31:00.680 --> 00:31:01.574\nOops.\n\n629\n00:31:09.213 --> 00:31:14.331\nAnd now, if I open up my file explorer\nfloor, let's see if I've got a map drive,\n\n630\n00:31:14.331 --> 00:31:18.472\nand I do not yet, and it's another\none of those darn things that,\n\n631\n00:31:18.472 --> 00:31:23.305\nyou know sometimes takes a couple\ntries to get that to execute.\n\n632\n00:31:23.305 --> 00:31:27.767\nAnd I've seen it where I'll sit here and\nwait, and all of a sudden,\n\n633\n00:31:27.767 --> 00:31:29.377\nmy drive map will pop up.\n\n634\n00:31:29.377 --> 00:31:31.467\nI don't know what they changed in there,\nbut\n\n635\n00:31:31.467 --> 00:31:35.377\nit has to do with the processing order and\ngetting the group policy set.\n\n636\n00:31:35.377 --> 00:31:38.429\nThe script, very well,\ncould be running right now and\n\n637\n00:31:38.429 --> 00:31:41.748\nif I If I wait long enough, it'll pop up.\n\n638\n00:31:41.748 --> 00:31:42.738\nThat's something I'll let you guys.\n\n639\n00:31:42.738 --> 00:31:45.328\nWe're not gonna waste our time waiting for\nthat script to pop up.\n\n640\n00:31:45.328 --> 00:31:46.938\nThe main thing is you know where to do it.\n\n641\n00:31:46.938 --> 00:31:50.828\nYou got log off and log on scripts,\nyou got start up and shut down scripts.\n\n642\n00:31:50.828 --> 00:31:51.658\nCopy them in the GPO.\n\n643\n00:31:51.658 --> 00:31:54.148\nIt's as easy as that.\n\n644\n00:31:54.148 --> 00:31:57.525\nAnd that script'll get executed\nevery time that that policy applies.\n\n645\n00:31:57.525 --> 00:31:59.990\n[COUGH] But I have literally sat here and\n\n646\n00:31:59.990 --> 00:32:05.010\nwaited a good five minutes before the\nscript actually executed and popped up.\n\n647\n00:32:05.010 --> 00:32:06.502\nIt's a little bit frustrating.\n\n648\n00:32:06.502 --> 00:32:07.141\n[LAUGH]\n>> Man, that's an eternity in TV time.\n\n649\n00:32:07.141 --> 00:32:08.952\n[LAUGH]\n>> I know, it really is.\n\n650\n00:32:08.952 --> 00:32:10.555\n[LAUGH]\n>> No way we're waiting five minutes\n\n651\n00:32:10.555 --> 00:32:11.210\nfor that guy.\n\n652\n00:32:11.210 --> 00:32:14.520\nNow, Mike, I know you've got a little bit\nmore to go over, but looking at our clock,\n\n653\n00:32:14.520 --> 00:32:15.590\nwe don't have much time left.\n\n654\n00:32:15.590 --> 00:32:18.380\nSo we're going to go ahead and\nwrap this episode up.\n\n655\n00:32:18.380 --> 00:32:19.340\nAnd we're going to make a part two.\n\n656\n00:32:19.340 --> 00:32:21.210\nHopefully we'll see you in that episode.\n\n657\n00:32:21.210 --> 00:32:23.150\nMike great job on\nthe demonstrations there.\n\n658\n00:32:23.150 --> 00:32:24.240\nHopefully you guys enjoyed it.\n\n659\n00:32:24.240 --> 00:32:28.460\nWe're going to go ahead and say,\nhasta la vista from ITProTV, signing off.\n\n660\n00:32:28.460 --> 00:32:29.693\nI've been your host Daniel Lowry.\n\n661\n00:32:29.693 --> 00:32:30.319\n>> And I am Mike Rodrick.\n\n662\n00:32:30.319 --> 00:32:31.108\n>> We'll see you next time.\n\n663\n00:32:31.108 --> 00:32:37.630\n[MUSIC]\n\n",
          "vimeoId": "138861964"
        },
        {
          "description": "In this episode, Mike and Daniel continue configuring Group Policy Object settings in Windows Server 2012R2. Here they pick up by showing you how to create and import security templates as well as custom administrative template files. They also show you how to configure property filters for administrative templates.",
          "length": "917",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-20-1-group_policy_settings_pt.2-090215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-20-1-group_policy_settings_pt.2-090215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-20-1-group_policy_settings_pt.2-090215-1-sm.jpg",
          "title": "Group Policy Settings Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:09.967\n[MUSIC]\n\n2\n00:00:09.967 --> 00:00:12.062\nAll right, greetings, everyone, and\n\n3\n00:00:12.062 --> 00:00:15.425\nwelcome to another Their\nfantastic episode of ITProTV.\n\n4\n00:00:15.425 --> 00:00:16.675\nI'm your host Daniel Larry.\n\n5\n00:00:16.675 --> 00:00:19.215\nHere with me today is Mr.\nMike Roger himself.\n\n6\n00:00:19.215 --> 00:00:20.105\nHow is it going today, Mike?\n\n7\n00:00:20.105 --> 00:00:21.435\n>> It's going fantastic, Daniel.\n\n8\n00:00:21.435 --> 00:00:25.840\nI'm excited to be here, we're continuing\nour 7411 episodes and in this one we're.\n\n9\n00:00:25.840 --> 00:00:29.180\nActually continuing talking about\ngroup policy settings because we\n\n10\n00:00:29.180 --> 00:00:30.860\ndidn't get to all of them\nin that previous episode.\n\n11\n00:00:30.860 --> 00:00:32.234\nIf you missed that,\nmake sure you go check it out.\n\n12\n00:00:32.234 --> 00:00:35.850\nThese are all settings that\nthey specifically call out\n\n13\n00:00:35.850 --> 00:00:38.689\nin the exam objectives for 70-411.\n\n14\n00:00:38.689 --> 00:00:40.851\nThere's thousands and\nthousands of settings,\n\n15\n00:00:40.851 --> 00:00:44.501\nyou should at least be familiar with the\nones that they mention on the objectives.\n\n16\n00:00:44.501 --> 00:00:46.184\n>> You would wanna be helpful\n>> Cuz you wanna pass the test, right?\n\n17\n00:00:46.184 --> 00:00:47.124\nYeah.\n\n18\n00:00:47.124 --> 00:00:47.860\nAll right.\n\n19\n00:00:47.860 --> 00:00:48.640\nWell let's continue on.\n\n20\n00:00:48.640 --> 00:00:52.740\nThe next thing I wanna show you, they\ncall out importing security templates.\n\n21\n00:00:52.740 --> 00:00:55.720\nAnd at this point, you should be familiar\nwith what a security template is.\n\n22\n00:00:55.720 --> 00:00:59.140\nRemember within a GPO,\nthere's several security settings and\n\n23\n00:00:59.140 --> 00:01:02.220\nI can configure them directly in the GPO.\n\n24\n00:01:02.220 --> 00:01:06.330\nBut in larger organizations we start\ndelegating out responsibilities.\n\n25\n00:01:06.330 --> 00:01:10.970\nSometimes it's one person's responsibility\nto come up with these security settings or\n\n26\n00:01:10.970 --> 00:01:15.680\nto configure these security settings, but\nthey don't have permissions to create GPOs\n\n27\n00:01:15.680 --> 00:01:21.050\nor edit existing GPOs, so they can use a\ntool called the Security Template Snap-in.\n\n28\n00:01:21.050 --> 00:01:24.890\nThey can create a security template and\nthen somebody else that works with group\n\n29\n00:01:24.890 --> 00:01:28.060\npolicy just turns around and\nimports that template.\n\n30\n00:01:28.060 --> 00:01:31.400\nAnd that just brings all those\nsettings right into the GPO.\n\n31\n00:01:31.400 --> 00:01:33.540\nLet me show you what I mean.\n\n32\n00:01:33.540 --> 00:01:38.309\nI'm gonna go down here and launch up\na Microsoft Management console and\n\n33\n00:01:38.309 --> 00:01:43.236\nI'm gonna do my file, add remove snap\nin and I'm gonna go grab my security\n\n34\n00:01:43.236 --> 00:01:48.920\ntemplates snap in Or\nadd just that one and click OK.\n\n35\n00:01:49.990 --> 00:01:53.740\nAnd now I got my console where I can\nwork with my security templates and\n\n36\n00:01:53.740 --> 00:01:57.180\nthe first thing I'll do is I'll\ncreate a brand new template.\n\n37\n00:01:57.180 --> 00:02:02.340\nAnd maybe I call this Company Settings,\nor something like that.\n\n38\n00:02:06.640 --> 00:02:08.390\nAll right.\nNow I've got my template, and\n\n39\n00:02:08.390 --> 00:02:11.060\nI can begin configuring policies.\n\n40\n00:02:11.060 --> 00:02:11.630\nI'm trying to think.\n\n41\n00:02:11.630 --> 00:02:15.600\nLet's see, we can do some local policies.\n\n42\n00:02:15.600 --> 00:02:20.830\nMaybe I wanna set this one for\nmaybe we want to audit logon events.\n\n43\n00:02:20.830 --> 00:02:24.870\nWe'll turn that one on,\ndo success and failure.\n\n44\n00:02:24.870 --> 00:02:27.200\nSomething that's not\nalready set by default,\n\n45\n00:02:27.200 --> 00:02:30.815\nwe could go down to restricted Groups.\n\n46\n00:02:30.815 --> 00:02:32.196\nI could add a new restricted group.\n\n47\n00:02:34.297 --> 00:02:38.967\nAnd we could do,\nlet's just do the Administrators Group.\n\n48\n00:02:43.646 --> 00:02:47.143\nAnd members of this group,\nI'm gonna do my hosts, so\n\n49\n00:02:47.143 --> 00:02:51.437\nI'll just browse real quick,\nshould have a group called hosts.\n\n50\n00:02:52.497 --> 00:02:55.087\nAnd we'll click OK and\nyou guys remember how this works right?\n\n51\n00:02:55.087 --> 00:02:57.567\nRestricted groups, that means it's\ngotta make sure that the host\n\n52\n00:02:58.607 --> 00:03:01.737\nGlobal Group from Active Directory\nis a member of the local admins\n\n53\n00:03:01.737 --> 00:03:04.747\ngroup on all the machines that\nthis policy is scoped to.\n\n54\n00:03:04.747 --> 00:03:08.930\nSo I just want to configure a couple\nof settings just for this demo and\n\n55\n00:03:08.930 --> 00:03:10.760\nnow you wanna make sure you save this,\nright.\n\n56\n00:03:10.760 --> 00:03:13.100\nThat's separate from saving the console.\n\n57\n00:03:13.100 --> 00:03:15.820\nSaving the console means I don't\nhave to add that snap-in every time.\n\n58\n00:03:15.820 --> 00:03:20.390\nI've got to make sure I save\nthe template that I've created as well.\n\n59\n00:03:20.390 --> 00:03:23.380\nSo I'm gonna right click\non company settings.\n\n60\n00:03:23.380 --> 00:03:24.600\nAnd I'll go ahead and choose save.\n\n61\n00:03:24.600 --> 00:03:25.130\nAll right.\n\n62\n00:03:25.130 --> 00:03:26.430\nCan you see where's putting it?\n\n63\n00:03:26.430 --> 00:03:31.398\nUsers, administrator, documents,\nsecurity templates, right.\n\n64\n00:03:31.398 --> 00:03:36.459\nSo now, I can tell somebody, and I'm not\neven going to bother saving that console,\n\n65\n00:03:36.459 --> 00:03:41.119\nI'm not coming back to it, I can go\ninto my group policy management console.\n\n66\n00:03:41.119 --> 00:03:45.974\nAnd let's say we have a GPO here called\n\n67\n00:03:45.974 --> 00:03:50.376\ncompany, security, settings or\n\n68\n00:03:50.376 --> 00:03:55.860\nsomething along those lines, all right.\n\n69\n00:03:55.860 --> 00:03:59.430\nAnd when I go to edit this, and\n\n70\n00:03:59.430 --> 00:04:04.750\nwe take a look at policies, Windows\nsettings, and then security settings.\n\n71\n00:04:04.750 --> 00:04:09.540\nI've got those same settings right here,\nthat I could configure in the G, oops,\n\n72\n00:04:09.540 --> 00:04:11.980\nI could configure that in this GPO.\n\n73\n00:04:11.980 --> 00:04:13.010\nWhat did I do?\n\n74\n00:04:13.010 --> 00:04:14.630\nI did the audit policy.\n\n75\n00:04:14.630 --> 00:04:16.540\nNotice nothing's defined here right yet.\n\n76\n00:04:16.540 --> 00:04:19.668\nIf I go to restricted groups,\nI don't have any restricted groups.\n\n77\n00:04:19.668 --> 00:04:24.580\nIf I right-click on Security Settings,\nI can choose Import Policy.\n\n78\n00:04:24.580 --> 00:04:27.150\nNow all I have to do is browse.\n\n79\n00:04:27.150 --> 00:04:28.800\nNow be careful with this.\n\n80\n00:04:28.800 --> 00:04:31.160\nMake sure you're in the right location.\n\n81\n00:04:31.160 --> 00:04:33.030\nSometimes it'll start you\nout somewhere else and\n\n82\n00:04:33.030 --> 00:04:35.550\nit might be some default\ntemplate from Microsoft.\n\n83\n00:04:35.550 --> 00:04:38.060\nThat happens to have a very similar\nname and you're not paying attention,\n\n84\n00:04:38.060 --> 00:04:41.130\nyou just grab it and go,\nmake sure you're in the right location.\n\n85\n00:04:41.130 --> 00:04:43.790\nNotice I'm in my documents\nsecurity templates,\n\n86\n00:04:43.790 --> 00:04:48.030\nthere's my template that I created,\nand I'll go ahead and import that.\n\n87\n00:04:48.030 --> 00:04:52.720\nAnd now when I go back into my audit\npolicy, notice log on events is set for\n\n88\n00:04:52.720 --> 00:04:57.230\nsuccess and failure, restricted groups,\nthere's my administrators.\n\n89\n00:04:57.230 --> 00:05:00.590\nSo now I can have one group of people\nthat's responsible for creating these\n\n90\n00:05:00.590 --> 00:05:05.830\ntemplates, a separate group of people that\nis responsible for creating the GPOs.\n\n91\n00:05:05.830 --> 00:05:07.260\nSeparation of duties,\n\n92\n00:05:07.260 --> 00:05:10.360\nthat's something we talk about\nwhen we're talking about security.\n\n93\n00:05:10.360 --> 00:05:13.990\n>> Yeah, just give you a little bit of\nextra oversight, I guess it would be.\n\n94\n00:05:13.990 --> 00:05:17.210\nI've got one guy, a set of group of\nguys or girls creating templates and\n\n95\n00:05:17.210 --> 00:05:20.590\nthat goes to the people that need to\nimport those into GPO, they can take\n\n96\n00:05:20.590 --> 00:05:24.390\na look at those and say, I don't think\nthey meant to set that that way.\n\n97\n00:05:24.390 --> 00:05:26.660\nAlways good to have an extra\nset of eyes on things,\n\n98\n00:05:26.660 --> 00:05:28.710\nespecially when it comes\nto security settings.\n\n99\n00:05:28.710 --> 00:05:29.340\n>> Absolutely.\n\n100\n00:05:29.340 --> 00:05:30.330\nAbsolutely.\n\n101\n00:05:30.330 --> 00:05:33.000\nAll right, so the next thing I want\nto show you guys is importing custom\n\n102\n00:05:33.000 --> 00:05:34.820\nadministrative template files.\n\n103\n00:05:34.820 --> 00:05:36.540\nNow what they're talking about here.\n\n104\n00:05:36.540 --> 00:05:40.660\nIs in a GPO, we have our\nadministrative templates, all right.\n\n105\n00:05:40.660 --> 00:05:44.170\nThese are all based on\nthose ADMX/ADML files.\n\n106\n00:05:44.170 --> 00:05:46.120\nAnd these are settings,\nwhen I configure these,\n\n107\n00:05:46.120 --> 00:05:50.790\nthey're modifying the registry on whatever\nmachine I'm deploying this policy out to.\n\n108\n00:05:50.790 --> 00:05:55.504\nAnd if we take a look, like if I go to\nAll Settings under the computer half,\n\n109\n00:05:55.504 --> 00:05:58.330\nI'll see that there is 1984 settings.\n\n110\n00:05:58.330 --> 00:06:01.941\nIf I go into the user half\nadministrative templates and\n\n111\n00:06:01.941 --> 00:06:06.350\nall settings there is another 1500 or\nso settings down there.\n\n112\n00:06:06.350 --> 00:06:09.850\nThere is quite a few settings but\nif we look,\n\n113\n00:06:09.850 --> 00:06:13.850\nthere's no settings to deal with Office,\nfor example, that's just one example.\n\n114\n00:06:13.850 --> 00:06:19.150\nThe point is or what they want us to\nknow is that we can import new ADMX and\n\n115\n00:06:19.150 --> 00:06:21.380\nADML files and add to these settings.\n\n116\n00:06:21.380 --> 00:06:25.990\nWe can create companies like Adobe could\nput out an administrative template that\n\n117\n00:06:25.990 --> 00:06:30.130\nwould give you the ability to configure\nAdobe products from within a GPO.\n\n118\n00:06:30.130 --> 00:06:32.620\nMicrosoft publishes one for Office.\n\n119\n00:06:32.620 --> 00:06:37.570\nSo now I can actually configure office\nsettings within my GPO, like the default\n\n120\n00:06:37.570 --> 00:06:41.380\nnumber spreadsheets in a workbook or\nthe default font for a Word document.\n\n121\n00:06:41.380 --> 00:06:44.400\nThings like that I can\nconfigure through a GPO,\n\n122\n00:06:44.400 --> 00:06:47.260\nrather than having to touch\nevery single machine.\n\n123\n00:06:47.260 --> 00:06:49.730\nSo let's see how we can add those there.\n\n124\n00:06:49.730 --> 00:06:54.490\nThe first thing you're gonna need to do\nis actually get a copy of the ADMX and\n\n125\n00:06:54.490 --> 00:06:55.480\nADML files.\n\n126\n00:06:55.480 --> 00:06:58.530\nSo I went out to Microsoft and\nI downloaded the admin templates for\n\n127\n00:06:58.530 --> 00:07:00.280\nOffice 64 bit.\n\n128\n00:07:00.280 --> 00:07:03.170\nI'm just gonna double-click on it,\nit's gonna execute.\n\n129\n00:07:05.632 --> 00:07:09.312\nAnd I'm gonna dump these guys\nright in my Documents as well.\n\n130\n00:07:12.157 --> 00:07:13.515\nMake it easy to find.\n\n131\n00:07:13.515 --> 00:07:17.281\n>> Now, Mike, are these only, maybe\nAdobe creates one of these things And\n\n132\n00:07:17.281 --> 00:07:20.433\nthey give those to Microsoft and\nMicrosoft publishes them or\n\n133\n00:07:20.433 --> 00:07:22.870\ndo you get them directly\nfrom the third party.\n\n134\n00:07:22.870 --> 00:07:24.370\n>> You'd get them directly\nfrom the third party.\n\n135\n00:07:24.370 --> 00:07:26.201\n>> Okay.\n>> And you can even create your own ADMX\n\n136\n00:07:26.201 --> 00:07:28.720\nand ADML files if you wanna dive in and\nfigure out.\n\n137\n00:07:28.720 --> 00:07:32.620\nThey're all based on XML language so\nthey're human readable and\n\n138\n00:07:32.620 --> 00:07:34.340\nyou could create your own.\n\n139\n00:07:34.340 --> 00:07:37.720\nIf there's a setting that you wanna do\nthat you can't do through group policy,\n\n140\n00:07:37.720 --> 00:07:41.220\nif it's a registry setting anyway,\nyou can add it to your GPOs.\n\n141\n00:07:41.220 --> 00:07:42.970\nIt's very, very cool.\n\n142\n00:07:42.970 --> 00:07:46.590\nAll right, so now that I've extracted\nall of these information out,\n\n143\n00:07:46.590 --> 00:07:49.740\nI'm gonna go into my ADMX files and\nI'm gonna go and grab.\n\n144\n00:07:51.510 --> 00:07:53.010\nSee the easiest way to do that.\n\n145\n00:07:53.010 --> 00:07:58.760\nI'm gonna grab all of these guys,\nall right,\n\n146\n00:07:58.760 --> 00:08:01.750\nas well as, and let's just copy those.\n\n147\n00:08:01.750 --> 00:08:03.560\nYou know what, I'll just get them all.\n\n148\n00:08:03.560 --> 00:08:06.823\nI really, in the real world, I probably\nwouldn't get all of these, I don't need\n\n149\n00:08:06.823 --> 00:08:13.253\nall those different languages, but I'll\njust go ahead and copy those guys And then\n\n150\n00:08:13.253 --> 00:08:17.803\nwhat I'm gonna do is navigate to where\nthose ADMX and ADML files are located.\n\n151\n00:08:17.803 --> 00:08:20.079\nC:Windows.\n\n152\n00:08:22.738 --> 00:08:23.817\nFind down here.\n\n153\n00:08:23.817 --> 00:08:25.420\nPolicy definitions, right?\n\n154\n00:08:25.420 --> 00:08:28.285\nNow, if you've watched some\nof our other episodes,\n\n155\n00:08:28.285 --> 00:08:33.000\nyou've learned how to do central store,\nwhich means I'd be going into sysfall.\n\n156\n00:08:33.000 --> 00:08:35.660\nFinding policy definitions and\npasting those there, right.\n\n157\n00:08:35.660 --> 00:08:37.580\nThat's the best way to do it.\n\n158\n00:08:37.580 --> 00:08:39.870\nIn this one I'm just using\nthis one machine and\n\n159\n00:08:39.870 --> 00:08:41.490\nI just want to show you\nhow to get this done.\n\n160\n00:08:41.490 --> 00:08:45.050\nSame process, just a different location\nof where you'll be pasting those files.\n\n161\n00:08:45.050 --> 00:08:48.640\nSo now that I'm in here I\ncan paste all those in and\n\n162\n00:08:48.640 --> 00:08:51.180\nyou'll see it adds a bunch\nof new ADMX files.\n\n163\n00:08:51.180 --> 00:08:52.609\nAll those things I just copied over.\n\n164\n00:08:53.780 --> 00:08:57.970\nNow I'm gonna close that window,\nand I'm going to close this editor.\n\n165\n00:08:58.980 --> 00:09:00.480\nAnd I'm gonna edit that policy again.\n\n166\n00:09:00.480 --> 00:09:02.190\nIt really doesn't matter\nwhich policy I choose.\n\n167\n00:09:02.190 --> 00:09:07.090\nI'll right click Edit, expand this\nguy out, expand out policies and\n\n168\n00:09:07.090 --> 00:09:10.460\nadministrative templates,\nand look at these.\n\n169\n00:09:10.460 --> 00:09:15.450\nThere's Microsoft Info Path,\nLink, Office Powerpoint.\n\n170\n00:09:15.450 --> 00:09:18.660\nAnd if I take a look at All Settings,\nwe're at 19.\n\n171\n00:09:18.660 --> 00:09:19.380\nNow we're at 2,000.\n\n172\n00:09:19.380 --> 00:09:25.040\nIf I go to user configuration,\nadministrative templates,\n\n173\n00:09:25.040 --> 00:09:31.050\nthere's all my settings for Excel and\nWord, Powerpoint, and all that good stuff.\n\n174\n00:09:31.050 --> 00:09:34.380\nSo extremely easy to extend\nthe functionality of your policy.\n\n175\n00:09:34.380 --> 00:09:37.670\nJust have to obtain those\nadministrative template files.\n\n176\n00:09:37.670 --> 00:09:42.003\n>> Yeah, very, very nice to be able\nto get that extra functionality in\n\n177\n00:09:42.003 --> 00:09:44.672\nyour group policy viewer right in there.\n\n178\n00:09:44.672 --> 00:09:47.611\nGo in there, change all the settings\nthat you need to change and\n\n179\n00:09:47.611 --> 00:09:51.614\nlike Mike said you're not touching every\nsingle machine that needs those settings.\n\n180\n00:09:51.614 --> 00:09:55.170\nIt just made it really nice and\neasy, that centralized management.\n\n181\n00:09:55.170 --> 00:09:56.900\nIt's what we're all about when\nit comes to Microsoft, right?\n\n182\n00:09:56.900 --> 00:09:57.430\n>> Absolutely.\n\n183\n00:09:57.430 --> 00:10:00.489\nAnd just to take a quick peak at this,\nremember, we were at, what,\n\n184\n00:10:00.489 --> 00:10:01.582\n1,900 settings?\n\n185\n00:10:01.582 --> 00:10:05.410\nThere's 2,000 settings for users,\nnow we're at 3,700 settings.\n\n186\n00:10:05.410 --> 00:10:08.200\nSo we added over 1,500\nsettings to my group policy.\n\n187\n00:10:08.200 --> 00:10:09.246\nThat's pretty cool.\n\n188\n00:10:09.246 --> 00:10:11.840\n>> That's a lot.\n>> Yeah, that's a lot of settings.\n\n189\n00:10:11.840 --> 00:10:13.490\n>> That's control, ladies and gentlemen.\n\n190\n00:10:13.490 --> 00:10:14.320\nControl.\n\n191\n00:10:14.320 --> 00:10:17.265\nHow we rule the\n>> I'm getting a little ahead of myself.\n\n192\n00:10:17.265 --> 00:10:19.800\n[LAUGH] What else do we have for\ngroup policy Mike?\n\n193\n00:10:19.800 --> 00:10:24.990\n>> Let's see, the last thing I want to\nshow is actually a very good segway,\n\n194\n00:10:24.990 --> 00:10:28.170\nfiltering these administrative templates,\nbecause now I want\n\n195\n00:10:28.170 --> 00:10:33.190\nto find one of those settings amongst\nthe 3700 settings that are available.\n\n196\n00:10:33.190 --> 00:10:34.880\nHow do I go about doing that?\n\n197\n00:10:34.880 --> 00:10:38.770\nI'll tell you the way I find it, Daniel.\n\n198\n00:10:38.770 --> 00:10:40.140\nGoogle.\n>> [LAUGH]\n\n199\n00:10:40.140 --> 00:10:41.590\n>> I just go and Google the setting and\n\n200\n00:10:41.590 --> 00:10:43.830\nit'll tell me where it is\nin my group policy object,\n\n201\n00:10:43.830 --> 00:10:46.040\nbut\n>> Microsoft does give us away, and\n\n202\n00:10:46.040 --> 00:10:49.055\nunfortunately that's not gonna be\nthe answer on the exam, right.\n\n203\n00:10:49.055 --> 00:10:50.242\n[LAUGH]\n>> It might be number c.\n\n204\n00:10:50.242 --> 00:10:51.380\nGoogle, [LAUGH] Google it.\n\n205\n00:10:51.380 --> 00:10:52.220\n>> It might be Bing.\n\n206\n00:10:52.220 --> 00:10:53.350\nMaybe that'll be an option.\n\n207\n00:10:53.350 --> 00:10:54.320\n>> That's true.\n>> I don't know.\n\n208\n00:10:54.320 --> 00:10:55.835\n>> And you'd be like that'd never work.\n\n209\n00:10:55.835 --> 00:10:57.950\n[LAUGH] Just kidding.\n\n210\n00:10:57.950 --> 00:11:00.630\n>> All right, so\nto filter these guys down,\n\n211\n00:11:00.630 --> 00:11:03.170\nthis only works with the administrative\ntemplates, not the other\n\n212\n00:11:03.170 --> 00:11:04.220\n>> settings.\n\n213\n00:11:04.220 --> 00:11:08.230\nIf I click on here I can\nchoose filter options.\n\n214\n00:11:08.230 --> 00:11:08.800\nAnd then I've got a few.\n\n215\n00:11:08.800 --> 00:11:10.950\nDo I want to look for managed settings?\n\n216\n00:11:10.950 --> 00:11:12.310\nWhether they're configured or not.\n\n217\n00:11:12.310 --> 00:11:13.920\nWhether they have comments.\n\n218\n00:11:13.920 --> 00:11:15.640\nI'll just do a key word filter.\n\n219\n00:11:15.640 --> 00:11:19.180\nAnd maybe I put in Excel, alright.\n\n220\n00:11:19.180 --> 00:11:22.310\nAnd then any, all, or exact.\n\n221\n00:11:22.310 --> 00:11:25.700\nIn other words\n>> If any acceleration would be\n\n222\n00:11:25.700 --> 00:11:27.240\na match, right?\n\n223\n00:11:27.240 --> 00:11:30.080\nOr if I do exact excel only.\n\n224\n00:11:30.080 --> 00:11:32.320\nAnd then down below where am I searching?\n\n225\n00:11:32.320 --> 00:11:35.300\nOnly in the title of the GPO setting.\n\n226\n00:11:35.300 --> 00:11:38.440\nOnly in the Help text of the GPO setting.\n\n227\n00:11:38.440 --> 00:11:39.710\nIn the comment.\n\n228\n00:11:39.710 --> 00:11:42.310\n>> Which I like these comments\ncuz it gives me the ability\n\n229\n00:11:42.310 --> 00:11:44.170\nthat we can comment on GPOs.\n\n230\n00:11:44.170 --> 00:11:46.560\nAnd we can kinda use it as\na way to flag certain things.\n\n231\n00:11:46.560 --> 00:11:48.960\nAnd if other admins are aware of that,\n\n232\n00:11:48.960 --> 00:11:52.710\nyou could uncheck these,\ndo a search for some keyword.\n\n233\n00:11:52.710 --> 00:11:54.540\nAnd it's in that comment there, right?\n\n234\n00:11:54.540 --> 00:11:56.620\nI'll just go ahead and\nleave all of these for now.\n\n235\n00:11:56.620 --> 00:11:57.440\n>> Almost like meta-tagging it.\n\n236\n00:11:57.440 --> 00:11:58.200\n[LAUGH]\n>> Yeah,\n\n237\n00:11:58.200 --> 00:12:01.330\nit really is a way to do that within GPOs.\n\n238\n00:12:01.330 --> 00:12:01.890\nNow I'll click OK,\n\n239\n00:12:01.890 --> 00:12:07.160\nand now you see that all of the setting\nthat I have left have to do with Office.\n\n240\n00:12:07.160 --> 00:12:08.970\nNow, I left that pretty broad, right?\n\n241\n00:12:08.970 --> 00:12:12.640\nIt could have been in the title or\nin the help text.\n\n242\n00:12:12.640 --> 00:12:17.960\nSo even these ones for\nOutlook have something to do with Office.\n\n243\n00:12:17.960 --> 00:12:18.800\nOr I mean with Excel.\n\n244\n00:12:18.800 --> 00:12:22.460\nIf I go in here, email options,\n>> And let's take a look at this.\n\n245\n00:12:22.460 --> 00:12:27.020\nSomewhere in here, there's the word,\nExcel, right there in that help, right?\n\n246\n00:12:27.020 --> 00:12:28.660\nSo if I wanted to be\na little more specific.\n\n247\n00:12:28.660 --> 00:12:29.860\nIf I didn't want it in the help,\n\n248\n00:12:29.860 --> 00:12:32.780\njust titles,\nI could go right back into my filter.\n\n249\n00:12:32.780 --> 00:12:35.000\nAnd I say, look,\nI'm only looking for title.\n\n250\n00:12:35.000 --> 00:12:37.120\nNot the help desk, not the comment.\n\n251\n00:12:37.120 --> 00:12:39.570\nI want an exact match for Excel.\n\n252\n00:12:39.570 --> 00:12:43.220\nI can click OK, and now it's going\nto be a little bit different.\n\n253\n00:12:43.220 --> 00:12:45.520\nAll of the settings are gonna\nhave the word Excel in,\n\n254\n00:12:45.520 --> 00:12:49.340\noops, I didn't mean to double click,\nin the title itself.\n\n255\n00:12:49.340 --> 00:12:52.010\nYou can see the word Excel\nin each one of these.\n\n256\n00:12:52.010 --> 00:12:53.930\nSo different ways you can filter those.\n\n257\n00:12:53.930 --> 00:12:58.170\nNow, to turn the filter off, all I have\nto do is right click on here again and\n\n258\n00:12:58.170 --> 00:13:02.240\nclick Filter On, remove that check mark,\nand I'm right back to all my settings.\n\n259\n00:13:02.240 --> 00:13:06.530\nThe filter settings actually stay, so\nif I wanna go and see that same filter,\n\n260\n00:13:06.530 --> 00:13:10.380\nI can just turn it back on, and\nI'm filtered right back down to Excel.\n\n261\n00:13:10.380 --> 00:13:12.230\nIf I wanna change the filter settings,\n\n262\n00:13:12.230 --> 00:13:14.863\nthat's when I have to go\nto Filter Options, and\n\n263\n00:13:14.863 --> 00:13:18.850\nthen I can come back in here and\nconfigure it whichever way I want.\n\n264\n00:13:18.850 --> 00:13:22.740\nSo really easy way to find\nthe settings you're looking for\n\n265\n00:13:22.740 --> 00:13:26.020\nbecause sometimes they're not easy\nto figure out what they're under.\n\n266\n00:13:26.020 --> 00:13:28.000\nWhen you're talking about 3,700 settings,\n\n267\n00:13:28.000 --> 00:13:32.490\nfinding that one setting that has to do\nwith my screen saver could be challenging.\n\n268\n00:13:32.490 --> 00:13:34.810\nSo use that filter capability.\n\n269\n00:13:34.810 --> 00:13:36.240\nThat's the way to go.\n\n270\n00:13:36.240 --> 00:13:37.110\nAnd that,\n\n271\n00:13:37.110 --> 00:13:42.050\nI think, is most of the settings that we\nreally need to be familiar with on a GPO.\n\n272\n00:13:42.050 --> 00:13:44.900\nAs you've seen, there's lots and\nlots of settings.\n\n273\n00:13:44.900 --> 00:13:47.340\nBest thing you can do though,\nget in here and play.\n\n274\n00:13:47.340 --> 00:13:50.900\nUse our labs that we've got set up for\nyou guys, do whatever it is.\n\n275\n00:13:50.900 --> 00:13:55.560\nGet into a GPO, play around with it,\nlook at all those different settings,\n\n276\n00:13:55.560 --> 00:14:00.190\ncreate them, apply them, log onto\na machine, see those settings into effect.\n\n277\n00:14:00.190 --> 00:14:02.760\nJust get familiar with\nthe whole group policy process.\n\n278\n00:14:02.760 --> 00:14:04.240\n>> Yeah.\nI really like the ability to\n\n279\n00:14:04.240 --> 00:14:07.940\nfilter what Mike just showed us, because\neven it I've seen it a million times,\n\n280\n00:14:07.940 --> 00:14:10.990\nI've done it a million times,\nman, it never fails.\n\n281\n00:14:10.990 --> 00:14:13.900\nYou're looking for it, and you're\nscrolling right past it every single time.\n\n282\n00:14:13.900 --> 00:14:15.270\nI know it's right here.\n\n283\n00:14:15.270 --> 00:14:16.160\nJust do the filter.\n\n284\n00:14:16.160 --> 00:14:17.190\nIt shows right up and\n\n285\n00:14:17.190 --> 00:14:20.460\nyou're off to the races, keeps you\nfrom falling into that little trap.\n\n286\n00:14:20.460 --> 00:14:22.050\n>> Especially if somebody's\nstanding over you shoulder.\n\n287\n00:14:22.050 --> 00:14:22.630\nYou ever notice that?\n\n288\n00:14:22.630 --> 00:14:24.070\n>> Oh yeah, that's when it's\ndefinitely going to happen.\n\n289\n00:14:24.070 --> 00:14:25.631\n>> If somebody's watching what\nyou're doing, it never works.\n\n290\n00:14:25.631 --> 00:14:26.456\n[LAUGH]\n>> Oh yeah.\n\n291\n00:14:26.456 --> 00:14:27.941\nAnd then the sweat starts to pour.\n\n292\n00:14:27.941 --> 00:14:30.330\nAnd you're like,\nI know it's in here somewhere.\n\n293\n00:14:30.330 --> 00:14:31.070\nBut great stuff.\n\n294\n00:14:31.070 --> 00:14:31.760\nRight?\nA lot of this.\n\n295\n00:14:31.760 --> 00:14:35.700\nIf you haven't checked out the first\npart of this show, these are very very\n\n296\n00:14:35.700 --> 00:14:40.100\npractical group policy settings that\nyou need to go and you need to learn\n\n297\n00:14:40.100 --> 00:14:44.000\nnot just for the exam, but this is stuff\nyou're going to use in practicality.\n\n298\n00:14:44.000 --> 00:14:45.810\nSo check this stuff out.\n\n299\n00:14:45.810 --> 00:14:46.710\nLather, rinse, repeat.\n\n300\n00:14:46.710 --> 00:14:49.330\nWatch it over and over again until\nyou've got it buried in your brain.\n\n301\n00:14:49.330 --> 00:14:52.680\nThe good thing is that even though there's\nlike a handful of settings in here.\n\n302\n00:14:52.680 --> 00:14:54.860\nThey don't ask you to know everything and\nabout.\n\n303\n00:14:54.860 --> 00:14:57.130\nGroup policy, so just these few settings,\n\n304\n00:14:57.130 --> 00:15:00.500\nget this stuff down, go take that exam,\nand kick it outta the park.\n\n305\n00:15:00.500 --> 00:15:02.480\nAll right Mikey,\nit looks like we've come to the end of yet\n\n306\n00:15:02.480 --> 00:15:03.830\nanother really great episode.\n\n307\n00:15:03.830 --> 00:15:05.410\nHopefully you guys have enjoyed it.\n\n308\n00:15:05.410 --> 00:15:08.640\nSigning off for ITProTV,\nI've been your host Daniel Lowrie.\n\n309\n00:15:08.640 --> 00:15:09.390\n>> And I'm Mike Roderick.\n\n310\n00:15:09.390 --> 00:15:10.744\n>> And we'll see you next time.\n\n311\n00:15:10.744 --> 00:15:17.369\n[MUSIC]\n\n",
          "vimeoId": "138861960"
        },
        {
          "description": "In this episode, Daniel and Mike explore management and best practices concerning Group Policy Objects. They explain the importance of and show you how to perform administrative tasks like backing up, importing, copying, and restoring GPOs. They then show you how to create and configure a Migration table and resetting default GPOs. Finally they cover delegating management of Group Policy to share the administrative load with other trusted users.",
          "length": "1659",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-21-1-group_policy_objects-090215-2.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-21-1-group_policy_objects-090215-2-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-21-1-group_policy_objects-090215-2-sm.jpg",
          "title": "Group Policy Objects",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:09.759\n[MUSIC]\n\n2\n00:00:09.759 --> 00:00:10.961\nAll right greetings everyone.\n\n3\n00:00:10.961 --> 00:00:13.740\nWelcome to another great\nepisode Of ITProTV.\n\n4\n00:00:13.740 --> 00:00:15.300\nI'm your host, Daniel Lowry.\n\n5\n00:00:15.300 --> 00:00:17.870\nHere with me, as usual,\nis Mr. Mike Rodrick.\n\n6\n00:00:17.870 --> 00:00:18.830\nHow's it going today, Mike?\n\n7\n00:00:18.830 --> 00:00:20.225\n>> Well, it's going great, Daniel.\n\n8\n00:00:20.225 --> 00:00:23.930\nI'm excited cuz we got more of our\n70-411 content coming your way.\n\n9\n00:00:23.930 --> 00:00:28.170\nAnd in this one we're gonna take\na look at group policy objects.\n\n10\n00:00:28.170 --> 00:00:30.670\nWe've done so\nmany things with group policy objects.\n\n11\n00:00:30.670 --> 00:00:33.500\nSettings, preferences,\nhard to keep it all straight.\n\n12\n00:00:33.500 --> 00:00:36.120\nBut this one we're going to be\ntalking about group policy objects.\n\n13\n00:00:36.120 --> 00:00:39.300\nSo we're really dealing with the GPO\nitself, whereas when we talk\n\n14\n00:00:39.300 --> 00:00:43.090\nabout group policy settings, that's\nthe myriad of settings within the GPO.\n\n15\n00:00:43.090 --> 00:00:46.060\nThe things we actually configure\nlike photo redirection,\n\n16\n00:00:46.060 --> 00:00:48.550\nsoftware installation, things like that.\n\n17\n00:00:48.550 --> 00:00:51.098\nRemember, we talked about\nthere's well over 4,000\n\n18\n00:00:51.098 --> 00:00:53.660\nsettings within a Group Policy Object.\n\n19\n00:00:53.660 --> 00:00:58.240\nOnce I get all those settings configured,\nI don't wanna have to do it again.\n\n20\n00:00:58.240 --> 00:01:01.090\nThat means I need to make sure I'm\ntaking care of the Group Policy Objects,\n\n21\n00:01:01.090 --> 00:01:04.200\nand that's really what we're\ngonna talk about here today.\n\n22\n00:01:04.200 --> 00:01:08.190\nSo the first thing I wanna talk about\nis just that, backing up our GPOs.\n\n23\n00:01:08.190 --> 00:01:11.530\nSo I need to be able to back them up,\nI need to be able to restore them.\n\n24\n00:01:11.530 --> 00:01:15.730\nMicrosoft also wants to make sure you\nknow how to import settings into a GPO\n\n25\n00:01:15.730 --> 00:01:17.800\nas well as copy a GPO.\n\n26\n00:01:17.800 --> 00:01:21.030\nI'll tell you that I don't\nfind those super useful,\n\n27\n00:01:21.030 --> 00:01:24.310\nbut certain environments,\nthey might be very useful for you.\n\n28\n00:01:24.310 --> 00:01:25.380\nAll right, so let's take a look at it.\n\n29\n00:01:25.380 --> 00:01:28.650\nWhat I'm gonna do here, I've got on this\nmachine, I've got my domain controller up\n\n30\n00:01:28.650 --> 00:01:32.260\nand running, I've got my\nGroup Policy Management Console opened up.\n\n31\n00:01:32.260 --> 00:01:39.158\nWhat I'm going to do is create a folder\nreal quick for my backup of my GPOs.\n\n32\n00:01:39.158 --> 00:01:40.633\nAll right.\n\n33\n00:01:43.024 --> 00:01:45.740\nSo I'll create that GPO Backup.\n\n34\n00:01:45.740 --> 00:01:47.980\nAnd you guys know, best practices, right,\n\n35\n00:01:47.980 --> 00:01:51.230\nI really wouldn't want this on\nmy C drive of this machine.\n\n36\n00:01:51.230 --> 00:01:52.510\nAll that good stuff.\n\n37\n00:01:52.510 --> 00:01:54.290\nBut for this demo, it'll work just fine.\n\n38\n00:01:54.290 --> 00:01:59.660\nAll right, so underneath my domains here,\nI've got my Group Policy Objects.\n\n39\n00:01:59.660 --> 00:02:04.260\nAnd you can see I have a few different\nobjects, a few different GPOs, and\n\n40\n00:02:04.260 --> 00:02:06.470\nI want to be able to back these guys up.\n\n41\n00:02:06.470 --> 00:02:09.170\nNow you can back up an individual policy.\n\n42\n00:02:09.170 --> 00:02:12.755\nFor example if I'm getting ready to make\nsome major changes to this policy here,\n\n43\n00:02:12.755 --> 00:02:13.890\n7zip.\n\n44\n00:02:13.890 --> 00:02:15.500\nI might want to back it up first.\n\n45\n00:02:15.500 --> 00:02:19.190\nThat way if I do something bad,\nI can always just restore from backup.\n\n46\n00:02:19.190 --> 00:02:23.560\nSo I can simply right click on the GPO,\nand choose Back Up, all right?\n\n47\n00:02:23.560 --> 00:02:27.830\nIt's gonna ask me where I wanna put those\nguys, and I'll go find that folder that I\n\n48\n00:02:27.830 --> 00:02:33.580\njust created on my C drive, GPO Backup.\n\n49\n00:02:33.580 --> 00:02:35.280\nAnd I'll go ahead and click Back Up.\n\n50\n00:02:35.280 --> 00:02:37.170\nAll right.\n\n51\n00:02:37.170 --> 00:02:39.420\nTakes it just a second, and I'll click OK.\n\n52\n00:02:39.420 --> 00:02:41.120\nAll right.\n\n53\n00:02:41.120 --> 00:02:46.610\nNow if I accidentally delete that GPO,\nor something happened to it.\n\n54\n00:02:46.610 --> 00:02:49.370\nI configured a bunch of settings and\nI wiped out some old settings, and\n\n55\n00:02:49.370 --> 00:02:50.860\nI don't remember what they were.\n\n56\n00:02:50.860 --> 00:02:53.910\nI can simply restore it.\n\n57\n00:02:53.910 --> 00:02:58.790\nI can right-click on Group Policy Objects,\nand I can choose Manage Backups.\n\n58\n00:02:59.930 --> 00:03:03.780\nI can find that GPO and\nI can choose Restore.\n\n59\n00:03:05.240 --> 00:03:08.910\nAnd I'll click OK, and it restores it.\n\n60\n00:03:08.910 --> 00:03:14.310\nThen I click OK and close, and there's\nmy GPO, like nothing ever happened.\n\n61\n00:03:14.310 --> 00:03:15.300\nNot really, all right?\n\n62\n00:03:15.300 --> 00:03:19.930\nWhen you delete a GPO, remember it\nwas linked, it was scoped somewhere.\n\n63\n00:03:19.930 --> 00:03:22.910\nAnd this one was actually\nscoped to the domain itself.\n\n64\n00:03:22.910 --> 00:03:27.070\nWhen I deleted that GPO\nthat link went away.\n\n65\n00:03:27.070 --> 00:03:30.380\nI restore the GPO,\nit does not restore the links.\n\n66\n00:03:30.380 --> 00:03:32.860\nSo if you're trying to hide the fact\nthat you goofed up the GPO and\n\n67\n00:03:32.860 --> 00:03:34.120\nyou restore it real quick?\n\n68\n00:03:34.120 --> 00:03:35.930\nMake sure you remember where\nthat puppy was linked,\n\n69\n00:03:35.930 --> 00:03:36.960\nbecause you've gotta do that again.\n\n70\n00:03:36.960 --> 00:03:38.480\nI'd have to come back up here.\n\n71\n00:03:38.480 --> 00:03:43.890\nAnd say link an existing GPO,\nfind 7zip, and click okay.\n\n72\n00:03:43.890 --> 00:03:47.860\nYou do have to remember that restoring\na GPO does not restore the links.\n\n73\n00:03:47.860 --> 00:03:49.600\nYou're going to have to\ndo that on your own.\n\n74\n00:03:49.600 --> 00:03:52.120\nThat's why documentation is key.\n\n75\n00:03:52.120 --> 00:03:54.650\nI'll tell you, that's one way.\n\n76\n00:03:54.650 --> 00:03:58.360\nThe other way is to do them all\nat once and this is more common.\n\n77\n00:03:58.360 --> 00:04:02.470\nBecause, normally when I'm backing these\nup, maybe it's a part of my weekly process\n\n78\n00:04:02.470 --> 00:04:05.180\nto come in and back up the GPOs,\nor once a day.\n\n79\n00:04:05.180 --> 00:04:08.510\nAnd I'm not gonna right click on\neach one of them and choose backup.\n\n80\n00:04:08.510 --> 00:04:12.010\nWhat I'm gonna do is I'm going to\nclick on Group Policy Object itself.\n\n81\n00:04:12.010 --> 00:04:15.580\nI'll right click, Back Up All, all right.\n\n82\n00:04:15.580 --> 00:04:17.340\nGive it my location.\n\n83\n00:04:17.340 --> 00:04:19.730\nClick back up and now it goes through and\n\n84\n00:04:19.730 --> 00:04:22.560\nbacks up all of my policies\nin one fell swoop.\n\n85\n00:04:22.560 --> 00:04:23.260\nWe're good to go.\n\n86\n00:04:23.260 --> 00:04:26.680\nNow when you go to restore these objects,\nsame thing.\n\n87\n00:04:26.680 --> 00:04:30.700\nI'm gonna go over here,\nright click and Manage Backups.\n\n88\n00:04:30.700 --> 00:04:33.590\nAnd now you can see all of my\ndifferent backups that I have.\n\n89\n00:04:33.590 --> 00:04:36.470\nNotice that 7zip is listed in here twice.\n\n90\n00:04:36.470 --> 00:04:38.710\nThat's because I backed\nit up once individually.\n\n91\n00:04:38.710 --> 00:04:41.710\nAnd then I backed it up again\nwhen I backed up all policies.\n\n92\n00:04:41.710 --> 00:04:46.020\nAnd as you do more and more backups,\nyou're gonna see that grow and grow.\n\n93\n00:04:46.020 --> 00:04:49.280\nIf I do Backup All again,\nsame location there,\n\n94\n00:04:49.280 --> 00:04:53.039\nand now I go back in to manage my backups.\n\n95\n00:04:54.650 --> 00:04:56.900\nAnd we see I have doubles of\nall of those policies, right?\n\n96\n00:04:56.900 --> 00:04:59.400\nIf I sort that by name,\nyou can see that a little better.\n\n97\n00:04:59.400 --> 00:05:00.950\nThree of those 7zips.\n\n98\n00:05:00.950 --> 00:05:03.890\nSo one of the handy features\nthat I love about this console,\n\n99\n00:05:03.890 --> 00:05:04.970\nlittle check mark right down here.\n\n100\n00:05:04.970 --> 00:05:07.860\nShow only the latest version of each GPO.\n\n101\n00:05:07.860 --> 00:05:13.440\nPut a check mark there, and now I'm seeing\njust the last backup of those GPOs.\n\n102\n00:05:13.440 --> 00:05:16.460\nSo it can make it a little bit\neasier when you're managing those.\n\n103\n00:05:16.460 --> 00:05:20.350\nAnd I could select all of these guys, but\n\n104\n00:05:20.350 --> 00:05:22.970\nit won't let me restore them when I\nhave multiples, so I could delete them.\n\n105\n00:05:22.970 --> 00:05:25.520\nIf you wanna start getting rid\nof some of the older backups,\n\n106\n00:05:25.520 --> 00:05:27.630\nyou can do that to thin that out.\n\n107\n00:05:27.630 --> 00:05:31.060\nSo that's really the nuts and\nbolts of backing up and restoring.\n\n108\n00:05:31.060 --> 00:05:31.915\nPretty straightforward.\n\n109\n00:05:31.915 --> 00:05:36.840\nRight-click Backup, or right-click on\nGroup Policy Object itself, Backup All.\n\n110\n00:05:36.840 --> 00:05:41.700\nAnd then to restore you right-click Manage\nBackups, opens up that dialogue box and\n\n111\n00:05:41.700 --> 00:05:42.770\nyou can bring that back.\n\n112\n00:05:42.770 --> 00:05:45.740\nRemember it does not restore your links.\n\n113\n00:05:45.740 --> 00:05:48.680\nThe other things you can\ndo is you can copy GPOs.\n\n114\n00:05:48.680 --> 00:05:52.695\nAnd it's as simple as right-click and\nCopy.\n\n115\n00:05:52.695 --> 00:05:59.490\nAnd then right-click and Paste, and\nI'll leave the default permissions.\n\n116\n00:05:59.490 --> 00:06:06.290\nI'll click OK and OK, and now I've got\na copy of Company Security Settings.\n\n117\n00:06:06.290 --> 00:06:09.130\nThat might be good if you've got\none policy that you've linked to\n\n118\n00:06:09.130 --> 00:06:09.730\na particular OU.\n\n119\n00:06:09.730 --> 00:06:14.019\nYou got another OU that you want those\nsame settings but some additional ones.\n\n120\n00:06:15.220 --> 00:06:18.110\nSo rather than create two separate,\nyou could just link that policy and\n\n121\n00:06:18.110 --> 00:06:22.000\nthen create a separate policy to\nstore the additional settings.\n\n122\n00:06:22.000 --> 00:06:23.960\nOr you could create a copy and\n\n123\n00:06:23.960 --> 00:06:26.760\nthen just modify that copy to\ninclude the additional settings.\n\n124\n00:06:26.760 --> 00:06:29.800\nIt depends on how you\nwanna go about doing that.\n\n125\n00:06:29.800 --> 00:06:32.600\nSo copying it, pretty straightforward.\n\n126\n00:06:32.600 --> 00:06:35.590\nImporting is an interesting one,\nall right?\n\n127\n00:06:35.590 --> 00:06:39.590\nYou can import settings\nfrom one GPO to another.\n\n128\n00:06:39.590 --> 00:06:44.245\nThis I see more often than\nnot from a test domain where\n\n129\n00:06:44.245 --> 00:06:48.295\nI have tested these group policies out\nbefore I want to put them in production.\n\n130\n00:06:48.295 --> 00:06:50.985\nAnd so now I want to import\nthose settings from that GPO,\n\n131\n00:06:50.985 --> 00:06:53.035\ninto a GPO in my production domain.\n\n132\n00:06:53.035 --> 00:06:55.195\nAnd it's again, pretty straightforward.\n\n133\n00:06:55.195 --> 00:07:01.184\nI could create a new GPO and\nI'll just call it test for now.\n\n134\n00:07:01.184 --> 00:07:07.810\nAnd then I could right-click on this\nGPO and choose Import Settings, right?\n\n135\n00:07:07.810 --> 00:07:09.230\nI'll click Next.\n\n136\n00:07:09.230 --> 00:07:10.990\nAnd this is the important thing,\n\n137\n00:07:10.990 --> 00:07:14.590\nbecause the import process is not\nwhat you might think at first.\n\n138\n00:07:14.590 --> 00:07:16.840\nIt is not a merge process, right?\n\n139\n00:07:16.840 --> 00:07:21.950\nIf the GPO that you're importing\nthe settings into already has settings?\n\n140\n00:07:21.950 --> 00:07:23.790\nThose settings are gone, all right?\n\n141\n00:07:23.790 --> 00:07:27.760\nIt's a wipe and replace with\nthe settings that you're importing.\n\n142\n00:07:27.760 --> 00:07:28.860\nMake sure you keep that in mind.\n\n143\n00:07:28.860 --> 00:07:32.590\nI've seen too many times administrators\ntry to combine policies.\n\n144\n00:07:32.590 --> 00:07:35.290\nAnd so they import the settings\nfrom one GPO into the other,\n\n145\n00:07:35.290 --> 00:07:38.820\nthinking now they've just got one GPO\nwith all the settings from both GPOs, and\n\n146\n00:07:38.820 --> 00:07:41.190\nthat's not what they get, all right?\n\n147\n00:07:41.190 --> 00:07:45.570\nWhich is kind of one those things,\nit's like If I'm\n\n148\n00:07:45.570 --> 00:07:48.770\nimporting these settings from one GPO to\nanother, it's gonna wipe everything out.\n\n149\n00:07:48.770 --> 00:07:53.050\nNow I've gotta a GPO that's\nbasically a copy of the first GPO.\n\n150\n00:07:53.050 --> 00:07:56.089\nIt's kinda odd that way,\nyes, but like I said,\n\n151\n00:07:56.089 --> 00:08:01.000\nprimarily it's done between domains,\nis where you've see that most often.\n\n152\n00:08:01.000 --> 00:08:04.740\nIt does give me a chance to back up\nthe GPO before I continue this process.\n\n153\n00:08:04.740 --> 00:08:07.580\nBecause again it is gonna wipe\nout all of those settings.\n\n154\n00:08:07.580 --> 00:08:11.810\nI'm going to cancel the back, I thought\nI was just gonna cancel the backup.\n\n155\n00:08:11.810 --> 00:08:13.190\nIt doesn't look it's gonna let me.\n\n156\n00:08:13.190 --> 00:08:14.960\nLet's try that one more time.\n\n157\n00:08:14.960 --> 00:08:15.669\nImport settings.\n\n158\n00:08:16.690 --> 00:08:19.860\nAnd I'll go ahead and\nback that guy up, just in case.\n\n159\n00:08:22.800 --> 00:08:26.230\nAnd then I should be able to go ahead and\nimport those guys.\n\n160\n00:08:28.080 --> 00:08:33.656\nImport it from that last version of 7-Zip,\nand Next.\n\n161\n00:08:33.656 --> 00:08:38.320\nAnd I guess we can go ahead and\ntalk about this.\n\n162\n00:08:38.320 --> 00:08:41.250\nThe migrating references,\nno let me finish it.\n\n163\n00:08:41.250 --> 00:08:42.250\nI'll come back to that concept.\n\n164\n00:08:42.250 --> 00:08:44.430\nWe'll go ahead and click Next and finish.\n\n165\n00:08:44.430 --> 00:08:45.523\nLet's get this one done.\n\n166\n00:08:45.523 --> 00:08:47.330\nI don't want to mix concepts here.\n\n167\n00:08:47.330 --> 00:08:51.699\nNow if I look at test and I look at the\nsettings that are involved within test,\n\n168\n00:08:55.361 --> 00:08:58.560\nI'll see that software installation,\nright, from that 7-Zip.\n\n169\n00:08:58.560 --> 00:09:01.740\nThat was the setting I\ncreated in that 7-Zip GPO.\n\n170\n00:09:01.740 --> 00:09:05.340\nI just imported it into this\npolicy called test, all right?\n\n171\n00:09:05.340 --> 00:09:08.910\nSo import, really the main thing I\nwant you to remember about that,\n\n172\n00:09:08.910 --> 00:09:11.050\nit is a replace, it is not a merge.\n\n173\n00:09:11.050 --> 00:09:12.960\nIt's gonna wipe all existing settings,\n\n174\n00:09:12.960 --> 00:09:15.250\nreplace them with the settings\nthat you're importing.\n\n175\n00:09:16.640 --> 00:09:18.570\nAll right, and that brings me to\nthe next thing I wanna talk about,\n\n176\n00:09:18.570 --> 00:09:20.780\nwhich was those migration tables.\n\n177\n00:09:20.780 --> 00:09:24.420\nWhen you start importing\nsettings from that test domain\n\n178\n00:09:24.420 --> 00:09:27.132\ninto your production domain, for example.\n\n179\n00:09:27.132 --> 00:09:33.100\nThere's gonna be, sometimes there are\nsettings within the GPO that are relative.\n\n180\n00:09:33.100 --> 00:09:38.755\nFor example, in my test domain,\nI've got a server called server 01, right,\n\n181\n00:09:38.755 --> 00:09:44.370\nand I'm mapping a network drive or\nI'm redirecting folders to server 01.\n\n182\n00:09:44.370 --> 00:09:49.000\nI bring that GPO into my production\ndomain by doing an import process, but\n\n183\n00:09:49.000 --> 00:09:51.130\nthere is no server one\nin my production domain.\n\n184\n00:09:51.130 --> 00:09:52.974\nIt's named SVR01.\n\n185\n00:09:52.974 --> 00:09:55.335\nWell now,\nthat GPO's not gonna work, right,\n\n186\n00:09:55.335 --> 00:09:59.510\ncuz it's not gonna find the name of\nthe server for that shared.unc path.\n\n187\n00:09:59.510 --> 00:10:02.760\nAnything like UNC paths, group names,\n\n188\n00:10:02.760 --> 00:10:07.270\nif you're doing like security filtering,\nuser names, if those are in there,\n\n189\n00:10:07.270 --> 00:10:10.970\nthose are all relative and\nit gives us a chance to map them.\n\n190\n00:10:10.970 --> 00:10:13.530\nWe've got what we call a migration table.\n\n191\n00:10:13.530 --> 00:10:14.446\nAnd we can say, all right.\n\n192\n00:10:14.446 --> 00:10:17.890\nFrom the GPO that we're importing,\nit's known as Server 01.\n\n193\n00:10:17.890 --> 00:10:22.138\nIn the GPO that I'm importing\nthe settings into, it's SVR 01.\n\n194\n00:10:22.138 --> 00:10:24.560\nRight, and let me show you that guy.\n\n195\n00:10:24.560 --> 00:10:31.714\nIf I right click on my domain here I can\npull up my, oh, I lied to you there.\n\n196\n00:10:31.714 --> 00:10:33.640\nLet me find that guy, where did it go?\n\n197\n00:10:35.120 --> 00:10:36.040\nThere it is.\n\n198\n00:10:36.040 --> 00:10:40.150\nRight click for the very top on\nthe domain object itself, and\n\n199\n00:10:40.150 --> 00:10:42.312\nchoose Open Migration Table Editor.\n\n200\n00:10:42.312 --> 00:10:45.250\nAll right, and\nwhat you're gonna do is just map.\n\n201\n00:10:45.250 --> 00:10:49.137\nLike, for example, if in the test domain,\n\n202\n00:10:49.137 --> 00:10:54.709\nit's Server 01, so\nwe'll say \\\\SVS Server01\\Data,\n\n203\n00:10:54.709 --> 00:11:00.400\nI could say well the source type,\nit'll actually auto detect.\n\n204\n00:11:00.400 --> 00:11:03.460\nNotice when I tab it said,\noh that's a UNC path.\n\n205\n00:11:03.460 --> 00:11:07.510\nBut I can do user, computer, domain local\ngroup, global group, universal group,\n\n206\n00:11:07.510 --> 00:11:09.860\nUNC path or just free text or SID.\n\n207\n00:11:10.880 --> 00:11:14.820\nIn the destination that's actually\n\n208\n00:11:14.820 --> 00:11:20.330\nSVR01\\EmpData, or something like that.\n\n209\n00:11:20.330 --> 00:11:22.522\nSo that's what that\nmigration table is for,\n\n210\n00:11:22.522 --> 00:11:26.502\nwhen you start moving policies from one\ndomain to another, there's gonna be some\n\n211\n00:11:26.502 --> 00:11:30.038\nthings that are relative to that domain\nthat are not going to be the same.\n\n212\n00:11:30.038 --> 00:11:33.551\nGroups, they might be named the same,\nwhich should work, but\n\n213\n00:11:33.551 --> 00:11:36.999\nwhat if you reference the group by SID or\nsomething like that,\n\n214\n00:11:36.999 --> 00:11:41.040\nUFC paths are another very common\none that we have to map across.\n\n215\n00:11:41.040 --> 00:11:43.950\nEven group names,\nthey change from one domain to another.\n\n216\n00:11:43.950 --> 00:11:46.066\nSo, very handy.\n\n217\n00:11:46.066 --> 00:11:49.164\nAnd then when you go through\nthat import process,\n\n218\n00:11:49.164 --> 00:11:52.483\nit'll look at your migration table and\nit will pull,\n\n219\n00:11:52.483 --> 00:11:56.420\nI'm going to just go ahead and\nsave this in my documents there.\n\n220\n00:11:56.420 --> 00:12:00.485\nSo now,\nwhen I went though that import process,\n\n221\n00:12:00.485 --> 00:12:05.443\nit can pull up that migration table and\ncan use that anywhere\n\n222\n00:12:05.443 --> 00:12:09.905\nin the e source GPO that\nI see \\\\Server01\\data,\n\n223\n00:12:09.905 --> 00:12:16.372\nI'm gonna replace that in the destination\nGPO with \\\\svr01\\EmpData.\n\n224\n00:12:16.372 --> 00:12:19.995\nAll right, that's all it is,\njust mapping those relative names for\n\n225\n00:12:19.995 --> 00:12:21.190\nthat import process.\n\n226\n00:12:21.190 --> 00:12:23.250\nSo easy to do,\ndon't have to do it that often.\n\n227\n00:12:23.250 --> 00:12:24.320\nYou can set up that table,\n\n228\n00:12:24.320 --> 00:12:27.170\nyou can store all those, and\nyou don't have to do it every time, right.\n\n229\n00:12:27.170 --> 00:12:29.150\nSo next time I go to import one,\n\n230\n00:12:29.150 --> 00:12:32.860\nI still got that migration table it can\nreference and it can use those names.\n\n231\n00:12:34.500 --> 00:12:36.550\nAll right, so that's my migration table.\n\n232\n00:12:36.550 --> 00:12:42.590\nThe next thing they call out is\nresetting my default policies, right.\n\n233\n00:12:42.590 --> 00:12:46.880\nNow when you install Active Directory,\nyou get two policies by default.\n\n234\n00:12:46.880 --> 00:12:52.190\nBefore you create your very first policy,\nyou go out of the gate with two policies.\n\n235\n00:12:52.190 --> 00:12:56.610\nThere's the default domain policy,\nwhich is linked to the domain itself,\n\n236\n00:12:56.610 --> 00:13:01.690\nthat has things like my password settings,\nmy account settings, and\n\n237\n00:13:01.690 --> 00:13:02.790\nmy Kerberos settings.\n\n238\n00:13:02.790 --> 00:13:05.910\nThose are all defined in there,\namongst a few other things.\n\n239\n00:13:07.140 --> 00:13:12.030\nLinked to the domain controller's OU is\nthe default domain controller policy.\n\n240\n00:13:12.030 --> 00:13:16.040\nIn here I'm gonna find my auditing\nsettings for my domain controllers.\n\n241\n00:13:16.040 --> 00:13:19.510\nSo when you first install Active\nDirectory, those are already in place.\n\n242\n00:13:19.510 --> 00:13:22.820\nThey set the password policies,\naccount policies, Kerberos policies and\n\n243\n00:13:22.820 --> 00:13:25.480\nyour auto policies on\nyour domain controllers.\n\n244\n00:13:25.480 --> 00:13:29.380\nMicrosoft actually recommends that you\ndon't modify those policies, right?\n\n245\n00:13:29.380 --> 00:13:33.620\nYou just leave them alone, and if you want\ndifferent settings for those particular\n\n246\n00:13:33.620 --> 00:13:38.440\nsettings, you create a separate GPO\nyourself and you configure your settings.\n\n247\n00:13:38.440 --> 00:13:40.950\nAnd then you just change\nthe processing order so\n\n248\n00:13:40.950 --> 00:13:44.690\nthat your policy will end up\noverriding the default policy.\n\n249\n00:13:44.690 --> 00:13:47.943\nAnd they want you to just leave\nthe default policies alone.\n\n250\n00:13:47.943 --> 00:13:50.402\nSometimes we don't follow\nbest practices and\n\n251\n00:13:50.402 --> 00:13:52.740\nwe make changes to those default policies.\n\n252\n00:13:53.810 --> 00:13:58.840\nAnd honestly I will tell you,\nMicrosoft don't listen to this, but\n\n253\n00:13:58.840 --> 00:14:01.930\nit doesn't hurt anything\nto modify those policies.\n\n254\n00:14:01.930 --> 00:14:02.870\nYou can use them.\n\n255\n00:14:02.870 --> 00:14:05.440\nI know people that put lots of\nother settings with in there.\n\n256\n00:14:05.440 --> 00:14:07.918\nBut it's not a best practice.\n\n257\n00:14:07.918 --> 00:14:11.550\nCuz I wanna be able to rely\non those default policies and\n\n258\n00:14:11.550 --> 00:14:12.550\nthose default settings.\n\n259\n00:14:12.550 --> 00:14:16.140\nThose are my bare settings that\nI really want to be in place in\n\n260\n00:14:16.140 --> 00:14:17.570\ncase everything else goes awry, right?\n\n261\n00:14:17.570 --> 00:14:20.973\n>> Yeah, it seems like it's always a good\nidea to have those default settings.\n\n262\n00:14:20.973 --> 00:14:24.773\nYou always know exactly what they're going\nto be, and then anything that's going to\n\n263\n00:14:24.773 --> 00:14:26.960\nbe different,\nput in a different group policy.\n\n264\n00:14:26.960 --> 00:14:31.410\nThat way you know, okay, well I know that\nthe problem does not lie on that default\n\n265\n00:14:31.410 --> 00:14:33.970\nsetting because I know exactly\nwhat they're suppose to be.\n\n266\n00:14:33.970 --> 00:14:35.354\nSo it's got to be in my settings.\n\n267\n00:14:35.354 --> 00:14:38.108\nWell you're not going into there and\nthinking, well, maybe,\n\n268\n00:14:38.108 --> 00:14:39.750\nwas that part of the default setting?\n\n269\n00:14:39.750 --> 00:14:41.060\nOr was this one?\n\n270\n00:14:41.060 --> 00:14:44.330\nI don't, you know exactly what's what.\n\n271\n00:14:44.330 --> 00:14:46.230\nKeeps your head on straight\nwhen it comes to this stuff.\n\n272\n00:14:46.230 --> 00:14:47.470\n>> Exactly right, Danny.\n\n273\n00:14:47.470 --> 00:14:50.180\nLet's do the not the recommended practice.\n\n274\n00:14:50.180 --> 00:14:51.870\nI'm gonna go into my\ndefault domain policy, and\n\n275\n00:14:51.870 --> 00:14:53.740\nI'm gonna make some changes here.\n\n276\n00:14:53.740 --> 00:14:58.260\nI'm gonna expand out policies, and\nI'll just do Windows Settings, and\n\n277\n00:14:58.260 --> 00:15:00.130\nthen Security Settings.\n\n278\n00:15:00.130 --> 00:15:03.820\nI'll go to my account policies and\nmy password policy, and\n\n279\n00:15:03.820 --> 00:15:04.780\nI'll make some changes.\n\n280\n00:15:05.840 --> 00:15:08.560\nI'll change that maximum\npassword age to 100 days.\n\n281\n00:15:09.968 --> 00:15:13.202\nOops, no bueno.\n\n282\n00:15:13.202 --> 00:15:15.971\nAll right, so now you don't have to\nchange your password every 100 days,\n\n283\n00:15:15.971 --> 00:15:16.579\nthat's great.\n\n284\n00:15:16.579 --> 00:15:18.854\n>> You know something,\nI like the way you think\n\n285\n00:15:18.854 --> 00:15:19.586\n>> Yeah, it saves me a lot of time.\n\n286\n00:15:19.586 --> 00:15:23.275\n>> I'm sure there's many\nusers out there who do too.\n\n287\n00:15:23.275 --> 00:15:27.123\n>> All right so let's say that somebody\nhas done this, they've gone in and they've\n\n288\n00:15:27.123 --> 00:15:31.750\nmade changes to the default domain policy\nor that default domain controller policy.\n\n289\n00:15:31.750 --> 00:15:34.230\nYou've corrected them,\nyou've educated them, and\n\n290\n00:15:34.230 --> 00:15:36.650\nnow you need to get those policies back.\n\n291\n00:15:36.650 --> 00:15:39.830\nI don't remember what the default\nsettings were, how do I do that?\n\n292\n00:15:39.830 --> 00:15:44.340\nWell, Microsoft gives us\na tool that's called Dcgpofix.\n\n293\n00:15:44.340 --> 00:15:47.350\nFor domain controller,\ngroup policy object fix, all right?\n\n294\n00:15:47.350 --> 00:15:52.874\nAnd so all I'm gonna do,\nI'm gonna close this console for\n\n295\n00:15:52.874 --> 00:15:57.834\na second, and\nI'm gonna open up a command prompt and\n\n296\n00:15:57.834 --> 00:16:01.470\nI'm gonna type in dcgpo Fix, right?\n\n297\n00:16:01.470 --> 00:16:04.830\nAnd what this is going to do is, it\nshouldn't mess with any of my other GPOs.\n\n298\n00:16:04.830 --> 00:16:08.040\nIt's only looking at those\ntwo default policies.\n\n299\n00:16:08.040 --> 00:16:12.990\nAnd I can restore one or the other,\nor both if I need to with this tool.\n\n300\n00:16:12.990 --> 00:16:13.700\nAll right?\n\n301\n00:16:13.700 --> 00:16:16.480\nIt tells me I'm going to lose any\nchanges I've made with those.\n\n302\n00:16:16.480 --> 00:16:17.430\nTypically that's okay though.\n\n303\n00:16:17.430 --> 00:16:18.480\nThat's what we're trying to do.\n\n304\n00:16:18.480 --> 00:16:21.050\nI'm gonna get that policy\nback to the default settings.\n\n305\n00:16:21.050 --> 00:16:23.480\nWipe out things that\nsomebody else has done.\n\n306\n00:16:23.480 --> 00:16:27.010\nSo here it says, you're about to\nrestore the default domain policy and\n\n307\n00:16:27.010 --> 00:16:29.960\ndefault domain controller policy for\nthe following domain.\n\n308\n00:16:29.960 --> 00:16:31.330\nDo you wanna continue?\n\n309\n00:16:31.330 --> 00:16:33.900\nI'm gonna hit Y for yes, and hit Enter.\n\n310\n00:16:33.900 --> 00:16:37.960\nAnd it says, well, this was going to\nreplace all the User Rights assignments\n\n311\n00:16:37.960 --> 00:16:40.060\nin the GPO, do you want to continue?\n\n312\n00:16:40.060 --> 00:16:41.730\nI'll say yes.\n\n313\n00:16:41.730 --> 00:16:46.300\nAnd then it tells me that\ndomain policy was restored,\n\n314\n00:16:46.300 --> 00:16:49.350\nas well as the domain\ncontroller policy restored.\n\n315\n00:16:49.350 --> 00:16:54.200\nSo now, I should be able to close this,\nopen up my Group Policy Management\n\n316\n00:16:54.200 --> 00:16:58.200\nconsole, take a look at\nthat default name policy.\n\n317\n00:17:00.892 --> 00:17:04.680\nExpand out policies,\nwindows settings, security settings.\n\n318\n00:17:06.346 --> 00:17:09.250\nAccount policies, password policy.\n\n319\n00:17:09.250 --> 00:17:11.240\nAnd sure enough it's back to 42 days.\n\n320\n00:17:11.240 --> 00:17:15.520\nSo easy enough to fix, if somebody\nmesses up here the default policies.\n\n321\n00:17:15.520 --> 00:17:19.200\n>> Now, Mike that only messes\nwith the default domain policies.\n\n322\n00:17:19.200 --> 00:17:22.880\nNo other policy you created,\nextra policies, different policies for\n\n323\n00:17:22.880 --> 00:17:25.350\nyour own special specified reasons.\n\n324\n00:17:25.350 --> 00:17:28.240\nIt's not gonna touch that, that's only\ngonna go for those default domains, right?\n\n325\n00:17:28.240 --> 00:17:29.860\n>> Exactly.\nWhen you look at my screen here,\n\n326\n00:17:29.860 --> 00:17:32.680\nI can see like 7 zip and\nall those other policies.\n\n327\n00:17:32.680 --> 00:17:33.620\nAre still sitting there.\n\n328\n00:17:33.620 --> 00:17:35.080\nThey're untouched.\n\n329\n00:17:35.080 --> 00:17:35.900\nThey are good to go.\n\n330\n00:17:35.900 --> 00:17:37.470\nJust looks at those two.\n\n331\n00:17:37.470 --> 00:17:38.670\n>> Awesome.\n\n332\n00:17:38.670 --> 00:17:39.800\n>> All right, so let's see Daniel.\n\n333\n00:17:39.800 --> 00:17:42.950\nWe've talked about backing up and\nrestoring and\n\n334\n00:17:42.950 --> 00:17:45.520\ncreating the migration table and\nresetting.\n\n335\n00:17:45.520 --> 00:17:49.950\nI guess next on our list is\ndelegating group policy management.\n\n336\n00:17:49.950 --> 00:17:54.170\nAnd this is, we talk about it all\nthe time when we talk about security,\n\n337\n00:17:54.170 --> 00:17:56.720\nwe talk about separation of duties and\n\n338\n00:17:56.720 --> 00:18:00.290\ngiving different people the ability\nto do different parts of the job.\n\n339\n00:18:00.290 --> 00:18:02.860\nReally so that one person\ndoesn't have all the power.\n\n340\n00:18:02.860 --> 00:18:08.180\nIf I can come in and I can create GPOs and\nlink GPOs, then that means if I\n\n341\n00:18:08.180 --> 00:18:13.760\nget angry I can create a new GPO and link\nto an UO and hose everybody in that OU.\n\n342\n00:18:13.760 --> 00:18:18.090\nIf I can only create the GPO, but\nI can't link it, then, I can't do that.\n\n343\n00:18:18.090 --> 00:18:19.860\nRight?\nI'd have to get somebody else that has\n\n344\n00:18:19.860 --> 00:18:23.630\nlinking capabilities to\nbe as angry as I am and\n\n345\n00:18:23.630 --> 00:18:25.460\nwant to do something evil to the company.\n\n346\n00:18:25.460 --> 00:18:28.250\nSo that's the whole idea\nbehind separation of power or\n\n347\n00:18:28.250 --> 00:18:33.400\nseparation of duty, is trying to limit how\nmuch one person has the ability to do.\n\n348\n00:18:33.400 --> 00:18:35.800\nLimit the damage that they can do, right.\n\n349\n00:18:35.800 --> 00:18:38.420\nSo, we can do that within\nGroup Policy as well.\n\n350\n00:18:38.420 --> 00:18:40.190\nSeveral different things we can delegate.\n\n351\n00:18:40.190 --> 00:18:42.050\nIn fact, I'll list them out for you.\n\n352\n00:18:42.050 --> 00:18:45.770\nThe ability to create GPOs in the domain,\nright.\n\n353\n00:18:45.770 --> 00:18:47.550\nWe'll just kind of go down the order here.\n\n354\n00:18:47.550 --> 00:18:52.110\nI can come Group Policy Objects and\nI can go to my Delegation tab.\n\n355\n00:18:52.110 --> 00:18:53.730\nAnd this is where it says\nthe following groups and\n\n356\n00:18:53.730 --> 00:18:56.900\nusers can create GPOs in this domain.\n\n357\n00:18:56.900 --> 00:19:00.560\nAll I would have to is click Add,\nfind my group.\n\n358\n00:19:00.560 --> 00:19:01.930\nI'll find good old production.\n\n359\n00:19:04.240 --> 00:19:05.100\nAnd there you go.\n\n360\n00:19:05.100 --> 00:19:09.370\nNow production has the ability\nto create GPOs in this domain.\n\n361\n00:19:09.370 --> 00:19:11.120\nThey can't link them, right?\n\n362\n00:19:11.120 --> 00:19:13.650\nThey can't modify existing GPOs.\n\n363\n00:19:13.650 --> 00:19:15.060\nThey can only create new GPOs.\n\n364\n00:19:15.060 --> 00:19:17.100\nIf I want to,\n\n365\n00:19:17.100 --> 00:19:21.130\nthe other one they're gonna call out\npermissions on the individual GPO.\n\n366\n00:19:21.130 --> 00:19:23.380\nIf I want somebody to have\npermissions over just this one,\n\n367\n00:19:23.380 --> 00:19:26.790\nI've got a guy that's responsible for\nmy company security settings.\n\n368\n00:19:26.790 --> 00:19:30.200\nI don't want him messing with my\ndefault main policy or my drive maps or\n\n369\n00:19:30.200 --> 00:19:31.350\nanything like that.\n\n370\n00:19:31.350 --> 00:19:36.290\nI can go to the GPO itself, and go to\ndelegation, and I can and somebody here.\n\n371\n00:19:36.290 --> 00:19:38.640\nAnd we'll add production again,\n\n372\n00:19:38.640 --> 00:19:40.830\njust because I don't have a whole\nlot of groups on this computer.\n\n373\n00:19:42.770 --> 00:19:46.870\nAnd okay, and then what permission\ndo I want to give them?\n\n374\n00:19:46.870 --> 00:19:52.370\nJust read, edit, or\nedit modify security settings, or delete.\n\n375\n00:19:52.370 --> 00:19:54.970\nRead means they can open up the GPO and\nlook at the settings.\n\n376\n00:19:54.970 --> 00:19:56.940\nMaybe I wanna give my help\ndesk this permission, so\n\n377\n00:19:56.940 --> 00:19:59.770\nthey can verify settings,\nbut they can't make changes.\n\n378\n00:19:59.770 --> 00:20:03.150\nThey'd have to escalate it to\nthe next level, if that's required.\n\n379\n00:20:03.150 --> 00:20:05.330\nOr maybe I do wanna give\nthem edit settings.\n\n380\n00:20:05.330 --> 00:20:06.220\nNow they can go in and\n\n381\n00:20:06.220 --> 00:20:10.110\nopen up that GPO and\nedit any of the settings within the GPO.\n\n382\n00:20:10.110 --> 00:20:12.380\nThis one let's them delete the GPO,\n\n383\n00:20:12.380 --> 00:20:17.010\nas well as modify the access control\nlist associated with the GPO.\n\n384\n00:20:17.010 --> 00:20:20.970\nSo depending on what you wanna do, you\ncan delegate the appropriate permission.\n\n385\n00:20:20.970 --> 00:20:22.440\nAll right?\n\n386\n00:20:22.440 --> 00:20:24.850\nWe can also delegate\npermissions on an individual,\n\n387\n00:20:24.850 --> 00:20:26.750\nand this one always cracks me up.\n\n388\n00:20:26.750 --> 00:20:28.430\nCuz when you read\nMicrosoft's documentation,\n\n389\n00:20:28.430 --> 00:20:32.440\nit's gonna say you can delegate\npermissions over individual SOM.\n\n390\n00:20:32.440 --> 00:20:37.690\nAnd an SOM is a site, an OU or a domain.\n\n391\n00:20:37.690 --> 00:20:40.320\nSo M actually stand for\ndomain, somehow, Daniel.\n\n392\n00:20:40.320 --> 00:20:43.020\nI don't know.\n>> I guess in some languages domain might\n\n393\n00:20:43.020 --> 00:20:45.133\nstart with the letter m.\n\n394\n00:20:45.133 --> 00:20:47.144\n[LAUGH] Just not the English language.\n\n395\n00:20:47.144 --> 00:20:48.900\n[LAUGH]\n>> [LAUGH] It's crazy, but\n\n396\n00:20:48.900 --> 00:20:50.240\nwhat they're trying to say,\n\n397\n00:20:50.240 --> 00:20:55.050\nis I can delegate permissions over any\nof the places I can link group policies.\n\n398\n00:20:55.050 --> 00:20:58.960\nThe site, the OU or the domain itself.\n\n399\n00:20:58.960 --> 00:21:02.150\nSo maybe this is the employee's OU and\nI've somebody who's responsible for\n\n400\n00:21:02.150 --> 00:21:05.380\nworking with GPOs over this particular OU.\n\n401\n00:21:05.380 --> 00:21:06.330\nAnd so\n\n402\n00:21:06.330 --> 00:21:09.560\ninstead of an individual GPO, I wanna\ngive him permission over the entire OU.\n\n403\n00:21:09.560 --> 00:21:12.430\nI can go to delegation, and\n\n404\n00:21:12.430 --> 00:21:14.730\nyou can see the different\npermissions that I can assign.\n\n405\n00:21:14.730 --> 00:21:20.000\nLink a GPO to this OU, Perform Group\nPolicy Modeling analysis on this OU,\n\n406\n00:21:20.000 --> 00:21:25.240\nor Read Group Policy Result data, my GP\nresult or my group policy results there.\n\n407\n00:21:25.240 --> 00:21:28.230\nSo If I want, maybe I've got\nthat sales manager or something,\n\n408\n00:21:28.230 --> 00:21:30.760\nI want him to be able to\nlink GPOs to this OU.\n\n409\n00:21:30.760 --> 00:21:34.750\nI can simply click Add,\nand I'll grab Nate.\n\n410\n00:21:36.576 --> 00:21:40.751\nAnd OK, and do I wanna do this\ncontainer in child containers or\n\n411\n00:21:40.751 --> 00:21:42.690\nthis container only?\n\n412\n00:21:42.690 --> 00:21:45.730\nI'll click OK, and\nnow Nate is listed there.\n\n413\n00:21:45.730 --> 00:21:49.190\nThis list at the top is just my view.\n\n414\n00:21:49.190 --> 00:21:54.060\nSo if I wanna delegate GP result data,\nI have to go to that view first, and\n\n415\n00:21:54.060 --> 00:21:54.630\nthen click Add.\n\n416\n00:21:54.630 --> 00:21:56.980\nNotice Nate is not on this screen.\n\n417\n00:21:56.980 --> 00:22:00.090\nI delegated him the ability to link GPOs.\n\n418\n00:22:00.090 --> 00:22:05.040\nSo go to the appropriate drop-down first,\nthen click Add,\n\n419\n00:22:05.040 --> 00:22:07.140\nthen find the person you're trying to add.\n\n420\n00:22:08.180 --> 00:22:11.550\nAnd then choose whether it's this\ncontainer or sub-containers,\n\n421\n00:22:11.550 --> 00:22:13.700\nthen click OK, and that adds him.\n\n422\n00:22:13.700 --> 00:22:16.850\nSo I mean it's really very\neasy to do delegation.\n\n423\n00:22:16.850 --> 00:22:20.640\nYou just have to know, and for the exam,\nyou have to know where I can delegate.\n\n424\n00:22:20.640 --> 00:22:22.870\nWhat is it that I can delegate, all right.\n\n425\n00:22:22.870 --> 00:22:27.440\nSo far we've said that the ability to\ncreate GPOs in the domain, the ability to\n\n426\n00:22:27.440 --> 00:22:34.170\nhave permissions over a specific GPO, the\nability to link, or work with SOMs, right?\n\n427\n00:22:34.170 --> 00:22:36.490\nThe site, the OU, or the domain.\n\n428\n00:22:36.490 --> 00:22:38.390\nWhat else do we have down here?\n\n429\n00:22:38.390 --> 00:22:43.220\nThe ability to create WMI filters is\nanother thing that I can delegate.\n\n430\n00:22:43.220 --> 00:22:45.985\nNow WMI filters,\nWindows management Instrumentation.\n\n431\n00:22:45.985 --> 00:22:50.055\nWhen we talk about filtering a GPO, I can,\n\n432\n00:22:50.055 --> 00:22:51.928\nsay i've got an OU full\nof client computers.\n\n433\n00:22:51.928 --> 00:22:55.905\nSome of them are running Windows 7,\nsome of them are running Windows 8.\n\n434\n00:22:55.905 --> 00:22:59.295\nI've got a setting that I\nwan to link to that OU, but\n\n435\n00:22:59.295 --> 00:23:04.695\nI only want it to apply to the Windows\n7 machines, not the Windows 8 machines.\n\n436\n00:23:04.695 --> 00:23:06.835\nI can use a WMI filter to do that.\n\n437\n00:23:06.835 --> 00:23:09.570\nI could try to separate\nthem out into separate OUs.\n\n438\n00:23:09.570 --> 00:23:11.230\nBut they're probably all in that OU for\n\n439\n00:23:11.230 --> 00:23:14.490\na reason and if I start separating\nit out into different OUs\n\n440\n00:23:14.490 --> 00:23:19.060\nthat causes a problem with other GPOs,\nso we need to be able to do filtering.\n\n441\n00:23:19.060 --> 00:23:23.740\nWMI filtering allows me to look at the\nproperties of the computer object itself\n\n442\n00:23:23.740 --> 00:23:25.030\nand do filtering based on that.\n\n443\n00:23:26.220 --> 00:23:30.170\nWe're not going to get into writing\nWMI filters in this particular\n\n444\n00:23:30.170 --> 00:23:32.340\nepisode because it is its own language.\n\n445\n00:23:32.340 --> 00:23:37.280\nIt's very similar to SQL if\nyou're familiar with that.\n\n446\n00:23:37.280 --> 00:23:41.435\nI've got one that I created earlier and\nhere you can see select all from\n\n447\n00:23:41.435 --> 00:23:47.340\nwin32_operatingsystem where caption\nequals Microsoft Windows XP Professional.\n\n448\n00:23:47.340 --> 00:23:49.631\nAll right.\nSo if I, you, if I create a GPO and\n\n449\n00:23:49.631 --> 00:23:53.670\nattach this WMI filter to it,\nI could link it to the domain.\n\n450\n00:23:53.670 --> 00:23:55.210\nIt wouldn't apply to every computer.\n\n451\n00:23:55.210 --> 00:23:59.241\nIt would only apply to the computers that\nare running Windows XP Professional,\n\n452\n00:23:59.241 --> 00:23:59.850\nall right.\n\n453\n00:23:59.850 --> 00:24:02.340\nSo, that's the basics of a WMI filter.\n\n454\n00:24:02.340 --> 00:24:06.290\nAgain, not the episode to really\ndive deep into there, but\n\n455\n00:24:06.290 --> 00:24:11.290\nyou can delegate the ability to\nwork with WMI filters, all right.\n\n456\n00:24:11.290 --> 00:24:15.740\nYou might have one person that's done\nall their research, gone out to MSDN,\n\n457\n00:24:15.740 --> 00:24:20.370\nfound all those different classes and\nthings and can write your WMI filters.\n\n458\n00:24:20.370 --> 00:24:22.080\nAnd now you can delegate\nthe ability to him.\n\n459\n00:24:22.080 --> 00:24:27.460\nYou can come in here, go into WMI filters\nand then delegation and then add.\n\n460\n00:24:28.670 --> 00:24:30.170\nAnd I'll say Daniel is the man.\n\n461\n00:24:31.560 --> 00:24:32.570\nHe loves programming.\n\n462\n00:24:34.130 --> 00:24:37.910\nAnd then full control or creator owner.\n\n463\n00:24:37.910 --> 00:24:42.960\nAnd really creator owner just gives you\nthe ability to delete the WMI filters.\n\n464\n00:24:42.960 --> 00:24:44.270\nI'll leave it at full control, click OK.\n\n465\n00:24:44.270 --> 00:24:45.620\nAnd there we go.\n\n466\n00:24:45.620 --> 00:24:52.630\nI've now delegated the ability to work\nwith those WMI filters to Daniel.\n\n467\n00:24:52.630 --> 00:24:55.670\nYou can also do it on\nindividual WMI filters.\n\n468\n00:24:55.670 --> 00:24:58.840\nMaybe I don't want them to be able\nto mess with all the WMI filters,\n\n469\n00:24:58.840 --> 00:25:02.170\njust this one filter that they\nhappen to use in that department,\n\n470\n00:25:02.170 --> 00:25:03.700\nI'm gonna let them work with that one.\n\n471\n00:25:03.700 --> 00:25:07.420\nWell, as you've already seen it's pretty\nmuch just click on the object and\n\n472\n00:25:07.420 --> 00:25:08.910\nthen go to the delegation tab, right.\n\n473\n00:25:08.910 --> 00:25:11.490\nI mean it's not difficult\nonce you've seen it,\n\n474\n00:25:11.490 --> 00:25:13.360\nonce you've tried it a couple of times.\n\n475\n00:25:13.360 --> 00:25:17.000\nSo go to the WMI filter that you want\nto delegate the permissions for.\n\n476\n00:25:17.000 --> 00:25:21.820\nGo to the delegation tab,\nclick add, find your user or\n\n477\n00:25:21.820 --> 00:25:25.090\ngroup, and\ngive them whatever permission you want.\n\n478\n00:25:25.090 --> 00:25:28.660\nNow that applies to only\nthis one WMI filter.\n\n479\n00:25:28.660 --> 00:25:32.680\nIf I add other WMI filters in there, Nate\nwouldn't have any permissions over those.\n\n480\n00:25:32.680 --> 00:25:35.600\nSo delegation is a very easy way to\n\n481\n00:25:35.600 --> 00:25:39.294\nbasically give other people parts of\nmy jobs, so I don't have to do it.\n\n482\n00:25:39.294 --> 00:25:43.520\n[LAUGH] You know, so we can give people\nresponsibilities but limit them, right.\n\n483\n00:25:43.520 --> 00:25:46.480\nI want them to be able to work with\nWMI filters, I'm not gonna make\n\n484\n00:25:46.480 --> 00:25:49.720\nthem a domain admin to do that, because\nthen they can do anything they want.\n\n485\n00:25:49.720 --> 00:25:52.940\nI want that sales manager to be able\nto work with the group policies\n\n486\n00:25:52.940 --> 00:25:56.030\nthat are linked to the sales OU,\nbut I don't want the sales manager\n\n487\n00:25:56.030 --> 00:26:00.480\nmessing with GPOs that are linked\nto the HR OU, or the marketing OU.\n\n488\n00:26:00.480 --> 00:26:04.030\nSo I delegate the information\nover the sales OU itself, right?\n\n489\n00:26:04.030 --> 00:26:06.520\nSo it's all about figuring out\nwhat you want this person or\n\n490\n00:26:06.520 --> 00:26:10.240\ngroup of people to be able to do, and then\ngoing to the appropriate location within\n\n491\n00:26:10.240 --> 00:26:13.650\nGroup Policy Management Console,\ngoing to that delegation tab,\n\n492\n00:26:13.650 --> 00:26:16.670\npicking the permission you wanna\ngive them, and you're good to go.\n\n493\n00:26:16.670 --> 00:26:19.560\nSo, not too terribly difficult\nonce you've seen it I think.\n\n494\n00:26:19.560 --> 00:26:23.160\n>> Yeah, this is great stuff for\nthings like junior administrators, or\n\n495\n00:26:23.160 --> 00:26:24.570\nhelp desk people, right?\n\n496\n00:26:24.570 --> 00:26:27.790\nYou don't wanna give them the keys\nto the kingdom obviously, but\n\n497\n00:26:27.790 --> 00:26:31.220\nletting them be able to take care\nof some of these small things.\n\n498\n00:26:31.220 --> 00:26:33.710\nSome of these GPOs,\nthey're not that big of a deal.\n\n499\n00:26:33.710 --> 00:26:36.000\nMaybe they just need to make\nsome slight adjustments.\n\n500\n00:26:36.000 --> 00:26:38.840\nDelegate that out,\nlet them be able to take care of that.\n\n501\n00:26:38.840 --> 00:26:43.100\nFigure out what you can shovel off of\nyour plate and give to somebody else so\n\n502\n00:26:43.100 --> 00:26:47.220\nthat they're, really, you're helping them\nhelp themselves as people call in on\n\n503\n00:26:47.220 --> 00:26:51.640\na help desk, as junior admins\ntake care of escalated problems.\n\n504\n00:26:51.640 --> 00:26:52.530\nLet them handle that.\n\n505\n00:26:52.530 --> 00:26:55.450\nYou're in the server room trying\nto take care of real business,\n\n506\n00:26:55.450 --> 00:26:58.770\nadding new features and\nroles to servers, adding new equipment,\n\n507\n00:26:58.770 --> 00:27:01.110\nmaybe even doing some networking business.\n\n508\n00:27:01.110 --> 00:27:03.190\nStay in that realm as much as possible.\n\n509\n00:27:03.190 --> 00:27:06.660\nThat delegation button at the top of\nthose GPOs allows you to do that.\n\n510\n00:27:06.660 --> 00:27:07.780\nSo check that out.\n\n511\n00:27:07.780 --> 00:27:09.580\nMake sure you understand how to do that.\n\n512\n00:27:09.580 --> 00:27:11.170\nAnd delegate away.\n\n513\n00:27:11.170 --> 00:27:14.670\nAll right, Mikey, have we left anything\nout, or are we come to yet another end?\n\n514\n00:27:14.670 --> 00:27:16.240\n>> I think we've come to another end.\n\n515\n00:27:16.240 --> 00:27:17.690\n>> Well, that's unfortunate.\n\n516\n00:27:17.690 --> 00:27:19.370\nWe love the Group Policy Objects\naround here,\n\n517\n00:27:19.370 --> 00:27:21.910\nbecause of the power that\nyou wield through them.\n\n518\n00:27:21.910 --> 00:27:24.280\nIt is a responsibility\nnot to be taken lightly.\n\n519\n00:27:24.280 --> 00:27:27.360\nWith that being said, we're gonna go\nahead and end our show on that high note.\n\n520\n00:27:27.360 --> 00:27:30.690\nSigning off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n521\n00:27:30.690 --> 00:27:31.550\n>> And I'm Mike Rodrick.\n\n522\n00:27:31.550 --> 00:27:33.865\n>> And we'll see you next time.\n\n523\n00:27:33.865 --> 00:27:38.580\n[SOUND]\n\n",
          "vimeoId": "138861988"
        },
        {
          "description": "In this episode, Daniel and Mike explain and configure Group Policy Preferences. They start by explaining what the difference between Group Policy Objects, Group Policies, and Group Policy Preferences are. Then they move into how you can use Group Policy Preferences to configure settings for printers, network drives, power options, Internet Explorer, and others. They also cover item-level targeting to change the scope of individual preference items.",
          "length": "1608",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-22-1-group_policy_preferences-090215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-22-1-group_policy_preferences-090215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70411/microsoft-server70411-22-1-group_policy_preferences-090215-1-sm.jpg",
          "title": "Group Policy Preferences",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.266\n[MUSIC]\n\n2\n00:00:10.266 --> 00:00:12.081\nAll right, greetings everyone.\n\n3\n00:00:12.081 --> 00:00:14.441\nWelcome to another great\nepisode of ITProTV.\n\n4\n00:00:14.441 --> 00:00:16.300\nI'm your hose Daniel Lowery.\n\n5\n00:00:16.300 --> 00:00:19.661\nHere with me today, Microsoft\nmaster himself, Mr. Mike Rodrick.\n\n6\n00:00:19.661 --> 00:00:20.461\nHow's it going today Mike?\n\n7\n00:00:20.461 --> 00:00:21.561\n>> Oh, it's going great Daniel.\n\n8\n00:00:21.561 --> 00:00:22.161\nI'm excited.\n\n9\n00:00:22.161 --> 00:00:25.240\nWe got more of our 74 11\nepisodes coming your way.\n\n10\n00:00:25.240 --> 00:00:29.620\nAnd in this one we are going to be\nlooking at group policy preferences.\n\n11\n00:00:29.620 --> 00:00:33.510\nSo let's just dive right in and figure out\nwhat the heck Mike is talking about here.\n\n12\n00:00:33.510 --> 00:00:37.820\nSo, group policy has been around for\na long time, since Windows 2000.\n\n13\n00:00:37.820 --> 00:00:39.540\nWe've had the ability to do group policy,\n\n14\n00:00:39.540 --> 00:00:43.800\nwhich gives us that centralized\nconfiguration management, right?\n\n15\n00:00:43.800 --> 00:00:47.280\nThe ability to apply settings,\nnot to one machine at a time, but\n\n16\n00:00:47.280 --> 00:00:51.290\nto an entire domain, or entire OU,\ndepending on how we scope that GPO.\n\n17\n00:00:51.290 --> 00:00:54.266\nWe love group policy,\nit's a fantastic thing, but\n\n18\n00:00:54.266 --> 00:00:58.150\nthere were some limitations, there were\nsome settings that we didn't have,\n\n19\n00:00:58.150 --> 00:01:01.210\nthat would have been nice within group\npolicy, and I know we talked about it\n\n20\n00:01:01.210 --> 00:01:05.040\nearlier Daniel, in another episode,\nmapping network drives was one.\n\n21\n00:01:05.040 --> 00:01:08.780\nThere was no way to map\na network drive within a GPO.\n\n22\n00:01:08.780 --> 00:01:11.650\nNow we can get around it by using scripts.\n\n23\n00:01:11.650 --> 00:01:15.110\nWe would do logon scripts and\nlogoff scripts to clean up temp files.\n\n24\n00:01:15.110 --> 00:01:19.440\nWe would do startup and shutdown scripts\nthat would work when the computer started\n\n25\n00:01:19.440 --> 00:01:22.800\nup or shut down, and\nthat was what we would end up doing.\n\n26\n00:01:22.800 --> 00:01:26.920\nBut a little bit ago,\nI think it was 2008 when this came out.\n\n27\n00:01:26.920 --> 00:01:29.090\nIt actually wasn't developed by Microsoft,\nand\n\n28\n00:01:29.090 --> 00:01:31.370\nI really should remember\nwho developed this.\n\n29\n00:01:31.370 --> 00:01:34.920\nBut Microsoft ended up loving it,\ngetting it from them, buying it, or\n\n30\n00:01:34.920 --> 00:01:36.450\nbringing them in, or what have you.\n\n31\n00:01:36.450 --> 00:01:38.460\nYou know how the Microsoft\ncorporate machine works.\n\n32\n00:01:38.460 --> 00:01:40.500\nAnd now they're included\nin our group policy.\n\n33\n00:01:40.500 --> 00:01:43.370\nAnd they're known as\ngroup policy references.\n\n34\n00:01:43.370 --> 00:01:46.430\nAnd they're very similar to\nour group policy settings.\n\n35\n00:01:46.430 --> 00:01:48.830\nNow the terminology will kill you.\n\n36\n00:01:48.830 --> 00:01:52.050\nSo let's make sure we\ndefine that real quick.\n\n37\n00:01:52.050 --> 00:01:55.410\nMicrosoft is specific\nabout their terminology.\n\n38\n00:01:55.410 --> 00:02:00.860\nA group policy, all right, is not, and\nlet's pull up my screen here for a second.\n\n39\n00:02:00.860 --> 00:02:04.370\nIf I go down here underneath\nGroup Policy Objects, these are GPOs, or\n\n40\n00:02:04.370 --> 00:02:06.960\nGroup Policy Objects, right?\n\n41\n00:02:06.960 --> 00:02:11.620\nWithin a Group Policy Object,\nyou have thousands of settings.\n\n42\n00:02:11.620 --> 00:02:14.160\nWell, we like to call them\nGroup Policy Settings.\n\n43\n00:02:14.160 --> 00:02:16.890\nMicrosoft calls them a group policy.\n\n44\n00:02:16.890 --> 00:02:18.210\nThat's right, yes.\n\n45\n00:02:18.210 --> 00:02:20.610\nThe object that I'm clicking on here,\nwhen I right click and\n\n46\n00:02:20.610 --> 00:02:23.200\ncreate new,\nyour creating a group policy object.\n\n47\n00:02:23.200 --> 00:02:27.990\nThe individual setting within\nthe GPO is known as a group policy.\n\n48\n00:02:27.990 --> 00:02:31.870\nTo me that doesn't make a lot of sense,\nbecause we call this a group policy most\n\n49\n00:02:31.870 --> 00:02:36.310\nof the time, but make sure for\nthe exam your familiar with that concept.\n\n50\n00:02:36.310 --> 00:02:38.230\nThis is a group policy object.\n\n51\n00:02:38.230 --> 00:02:42.220\nIf I go in and edit something in here,\nand I take a look at policies and\n\n52\n00:02:42.220 --> 00:02:47.460\nwindows settings and security settings and\naccount policies and password policies,\n\n53\n00:02:47.460 --> 00:02:50.630\nthis right here, maximum password age,\nthat is a group policy.\n\n54\n00:02:50.630 --> 00:02:55.980\nSo that's the way Microsoft\nterminology works.\n\n55\n00:02:55.980 --> 00:02:59.480\nNow, we've always had, under\nthe computer half, we've got policies\n\n56\n00:02:59.480 --> 00:03:02.830\nunder the user half I have policies,\nthose are the actual settings.\n\n57\n00:03:02.830 --> 00:03:05.530\nBut now I have a new note\ncalled preferences, and\n\n58\n00:03:05.530 --> 00:03:09.420\nI also have preferences underneath\nthe user half, as well.\n\n59\n00:03:09.420 --> 00:03:12.720\nAnd they're just additional\nsettings that I can configure.\n\n60\n00:03:12.720 --> 00:03:16.280\nBut they do work a little bit differently,\nso let's start there.\n\n61\n00:03:16.280 --> 00:03:18.960\nWith normal group policies,\nwith the settings,\n\n62\n00:03:18.960 --> 00:03:23.560\nwhen you configure a setting within a GPO,\nand that gets applied to a machine, or\n\n63\n00:03:23.560 --> 00:03:27.370\nto a user, that setting is,\nit locks the user interface, right?\n\n64\n00:03:27.370 --> 00:03:28.780\nIt is enforced.\n\n65\n00:03:28.780 --> 00:03:32.320\nSo if I use a GPO to set your screen\nsaver timeout to ten minutes,\n\n66\n00:03:32.320 --> 00:03:34.400\nif you go into your settings\non your computer and\n\n67\n00:03:34.400 --> 00:03:38.190\nyou try to change your screen saver\ntime out, it's going to be grayed out.\n\n68\n00:03:38.190 --> 00:03:41.630\nIt might give you a little message that\nsays, some settings are configured by your\n\n69\n00:03:41.630 --> 00:03:44.510\nsystem administrator,\nplease see them or something like that.\n\n70\n00:03:44.510 --> 00:03:47.990\nYou can't change it once I\nuse a group policy setting\n\n71\n00:03:47.990 --> 00:03:49.500\nto apply that change, right?\n\n72\n00:03:49.500 --> 00:03:51.310\nIt locks the user interface.\n\n73\n00:03:51.310 --> 00:03:54.940\nBut, if I remove the policy,\nthe user interface unlocks and\n\n74\n00:03:54.940 --> 00:03:57.070\nyou can now change it again, all right.\n\n75\n00:03:57.070 --> 00:03:59.750\nPreferences, however,\nare a little bit different.\n\n76\n00:03:59.750 --> 00:04:01.690\nWhen I create a preference and\n\n77\n00:04:01.690 --> 00:04:06.270\nit gets applied to your system,\nit doesn't lock the user interface, right.\n\n78\n00:04:06.270 --> 00:04:09.450\nSo if I use a preference to\nconfigure a setting on your machine,\n\n79\n00:04:09.450 --> 00:04:13.260\nyou could actually go to your machine and\nchange the setting if you didn't like it.\n\n80\n00:04:13.260 --> 00:04:16.150\nAll right, so\nit does not lock the user interface, but\n\n81\n00:04:16.150 --> 00:04:18.330\nit does tattoo the registry.\n\n82\n00:04:18.330 --> 00:04:22.100\nIn other words, when I remove that\nGPO with that preference in there,\n\n83\n00:04:22.100 --> 00:04:23.650\nthe setting doesn't go away.\n\n84\n00:04:23.650 --> 00:04:25.850\nWe can still change it if\nuser interfaces unlock, but\n\n85\n00:04:25.850 --> 00:04:30.900\nit doesn't automatically undo the setting\njust because the preference went away.\n\n86\n00:04:30.900 --> 00:04:31.410\nAll right?\n\n87\n00:04:31.410 --> 00:04:35.370\nSo two key differences there\nbetween group policy settings and\n\n88\n00:04:35.370 --> 00:04:37.040\ngroup policy preferences.\n\n89\n00:04:37.040 --> 00:04:39.900\nSettings lock the user interface,\nbut when the policy is removed,\n\n90\n00:04:39.900 --> 00:04:41.890\nthe interface is released.\n\n91\n00:04:41.890 --> 00:04:44.470\nPreferences do not lock\nthe user interface, but\n\n92\n00:04:44.470 --> 00:04:47.730\nthey're not removed when\nthe policy is removed, right?\n\n93\n00:04:47.730 --> 00:04:49.970\nSo let's take a look at what we\ncan do with these preferences.\n\n94\n00:04:49.970 --> 00:04:52.820\nWhen we go under I'm going\nto use the user half, but\n\n95\n00:04:52.820 --> 00:04:54.530\nthere are preferences again under both.\n\n96\n00:04:54.530 --> 00:04:58.440\nI'm going to expand this out and I'm\ngoing to expand out all of these, windows\n\n97\n00:04:58.440 --> 00:05:04.660\nsettings, control panel, and you see there\nare quite a few things that we can do.\n\n98\n00:05:04.660 --> 00:05:05.670\nAll right.\n\n99\n00:05:05.670 --> 00:05:06.470\nApplications.\n\n100\n00:05:06.470 --> 00:05:08.650\nI can actually try to use this.\n\n101\n00:05:08.650 --> 00:05:09.890\nPush out an application.\n\n102\n00:05:09.890 --> 00:05:11.500\nWe can map drives.\n\n103\n00:05:11.500 --> 00:05:13.890\nI can set environment variables.\n\n104\n00:05:13.890 --> 00:05:16.260\nI can create new files on your system.\n\n105\n00:05:16.260 --> 00:05:19.250\nI can create new folders on your system.\n\n106\n00:05:19.250 --> 00:05:21.280\nI can actually move files back and forth.\n\n107\n00:05:21.280 --> 00:05:24.390\nI can copy files From\nyour system if I want to.\n\n108\n00:05:24.390 --> 00:05:27.540\nMaybe you've got a folder where you\nhave to put your reports every night.\n\n109\n00:05:27.540 --> 00:05:30.850\nI have a policy that says, it goes and\nretrieves those or something.\n\n110\n00:05:30.850 --> 00:05:33.910\nTry to get creative with\nwhat you can do with that.\n\n111\n00:05:33.910 --> 00:05:35.570\nYou can create I and I files.\n\n112\n00:05:35.570 --> 00:05:37.100\nYou can do register settings.\n\n113\n00:05:37.100 --> 00:05:39.510\nThis one, to me, is fantastic.\n\n114\n00:05:39.510 --> 00:05:43.370\nBecause I can't tell you how many times\nI configure a registry setting for\n\n115\n00:05:43.370 --> 00:05:44.660\na program to work.\n\n116\n00:05:44.660 --> 00:05:47.570\nAnd a lot of times that meant\nwriting some complex script or\n\n117\n00:05:47.570 --> 00:05:50.590\nsomething like that,\nwith this there's actually a wizard.\n\n118\n00:05:51.610 --> 00:05:57.320\nI can do a registry wizard and I can\nconfigure that setting on one computer,\n\n119\n00:05:57.320 --> 00:06:00.730\nrun this wizard, have it look at\nthat setting that I configured,\n\n120\n00:06:00.730 --> 00:06:03.810\nand make a group policy\npreference out of it.\n\n121\n00:06:03.810 --> 00:06:04.990\nIt's that easy.\n\n122\n00:06:04.990 --> 00:06:10.930\nAll right, I had to do it one time with,\nwe were using VNC, and I\n\n123\n00:06:10.930 --> 00:06:14.880\nhad to configure a setting in the registry\nfor our machines to work with VNC.\n\n124\n00:06:14.880 --> 00:06:17.700\nAnd I configured it once on one machine,\n\n125\n00:06:17.700 --> 00:06:22.120\nused this wizard to analyze that change I\nmade, and it made a preference that would\n\n126\n00:06:22.120 --> 00:06:26.090\nthen apply that same registry change\nto all those machines on my network.\n\n127\n00:06:26.090 --> 00:06:27.210\nIt was fantastic.\n\n128\n00:06:27.210 --> 00:06:27.710\nLove that.\n\n129\n00:06:28.810 --> 00:06:31.260\nYou can create shortcuts on their desktop.\n\n130\n00:06:31.260 --> 00:06:35.560\nUnder control panel, we've got data\nsources, you can work with devices,\n\n131\n00:06:35.560 --> 00:06:38.670\nfolder options,\ninternet settings, local users,\n\n132\n00:06:38.670 --> 00:06:41.040\nyou guys can read the list yourself,\nI guess I don't have to read it.\n\n133\n00:06:41.040 --> 00:06:44.630\nPower options is one thing I\nactually call out on the exam.\n\n134\n00:06:45.870 --> 00:06:48.800\nPrinters, that's another thing that\nI couldn't normally do with a GPO.\n\n135\n00:06:48.800 --> 00:06:51.410\nAll right, but\nI can do it with preferences.\n\n136\n00:06:51.410 --> 00:06:52.510\nFantastic.\n\n137\n00:06:52.510 --> 00:06:55.290\nAnd that just eliminates some of those\nscripts that I have to generate,\n\n138\n00:06:55.290 --> 00:06:57.820\nbecause these are now things\nthat I can do simply and\n\n139\n00:06:57.820 --> 00:07:00.580\neasily with the wizard instead of\nhaving to write my own script.\n\n140\n00:07:03.020 --> 00:07:06.080\nRegional options, scheduled tasks, I\nmight as well finish reading them to you.\n\n141\n00:07:06.080 --> 00:07:07.578\n[LAUGH] Start menu\n>> You're almost through it.\n\n142\n00:07:07.578 --> 00:07:08.850\n[LAUGH]\n>> Okay, exactly.\n\n143\n00:07:08.850 --> 00:07:13.120\nScheduled tasks, I can dump\nscheduled tasks out to my machines.\n\n144\n00:07:13.120 --> 00:07:18.240\nSo some really cool things I can do,\nand very easy to actually work with.\n\n145\n00:07:18.240 --> 00:07:21.560\nFor example, if I want to map a network\ndrive, all right, I can come over here to\n\n146\n00:07:21.560 --> 00:07:27.550\ndrive maps, and I just right click new map\ndrive, and all I have to do is fill it in.\n\n147\n00:07:27.550 --> 00:07:30.430\nNow one thing I do want to mention with\nthese preferences is there is a drop down\n\n148\n00:07:30.430 --> 00:07:34.270\nlist at the top that says create,\nreplace, update, or delete.\n\n149\n00:07:34.270 --> 00:07:38.695\nAnd you've got to pick the right one or\nit can make the preference not work.\n\n150\n00:07:38.695 --> 00:07:41.955\nIf you're creating something, that\nmeans it doesn't exist yet, right, and\n\n151\n00:07:41.955 --> 00:07:43.425\nyou're creating it.\n\n152\n00:07:43.425 --> 00:07:48.035\nIf you choose replace, something\nneeds to exist that it can remove and\n\n153\n00:07:48.035 --> 00:07:49.695\nreplace it with something else.\n\n154\n00:07:49.695 --> 00:07:51.696\nLike maybe you're\nupdating a shortcut path,\n\n155\n00:07:51.696 --> 00:07:55.197\nthey've already got the shortcut on\ntheir desktop, you would choose replace.\n\n156\n00:07:55.197 --> 00:07:59.296\nSet that new shortcut property and\nthen have it replace that one.\n\n157\n00:07:59.296 --> 00:08:03.985\nUpdate would make changes to an existing\nobject Delete would obviously remove\n\n158\n00:08:03.985 --> 00:08:04.774\nsomething.\n\n159\n00:08:04.774 --> 00:08:06.852\nSo you wanna make sure you\nchoose the right action.\n\n160\n00:08:06.852 --> 00:08:09.488\nIn this case,\nthe map drive doesn't exist yet.\n\n161\n00:08:09.488 --> 00:08:16.370\nSo I wanna make sure I choose Create and\nthen my location, \\\\SVR 01.\n\n162\n00:08:16.370 --> 00:08:20.150\nI don't even remember what\npolicy I'm modifying here.\n\n163\n00:08:20.150 --> 00:08:23.380\nI need to pay attention to that,\nserver 01/data.\n\n164\n00:08:23.380 --> 00:08:26.260\nI got a share folder over there.\n\n165\n00:08:26.260 --> 00:08:30.070\nI could choose to reconnect automatically.\n\n166\n00:08:30.070 --> 00:08:32.260\nI can give it a label if I want to.\n\n167\n00:08:32.260 --> 00:08:34.340\nAnd I love this setting here.\n\n168\n00:08:34.340 --> 00:08:35.980\nYou can pick a drive letter.\n\n169\n00:08:35.980 --> 00:08:38.710\nBut Dan, I don't know if you've ever run\ninto this, if you try to map a drive\n\n170\n00:08:38.710 --> 00:08:43.360\non somebody's computer and you pick a\ndrive letter for that map, if they've got\n\n171\n00:08:43.360 --> 00:08:46.960\nten thumb drives plugged in, some of\nthose letters are already used, right?\n\n172\n00:08:46.960 --> 00:08:50.150\nAnd then your map drive fails\nbecause the letter's already in use.\n\n173\n00:08:50.150 --> 00:08:53.212\nBut here, I can say use first available,\nstarting at.\n\n174\n00:08:53.212 --> 00:08:57.630\nSo I try to use F, but it they've got\nenough other things plugged in or\n\n175\n00:08:57.630 --> 00:09:01.740\nthose drive letters already used\nit'll try G and then H and then I and\n\n176\n00:09:01.740 --> 00:09:03.450\nit'll move up until it\nfinds one that works.\n\n177\n00:09:03.450 --> 00:09:04.510\nFantastic option there.\n\n178\n00:09:05.740 --> 00:09:10.340\nIf you need to store credentials with that\nfor them to connect you can show that.\n\n179\n00:09:10.340 --> 00:09:14.510\nAnd on the common tab,\nI've got a couple things here,\n\n180\n00:09:14.510 --> 00:09:18.350\nstop processing if an error occurs,\nremove if it is no longer applied.\n\n181\n00:09:18.350 --> 00:09:22.034\nAnd then I've got something item level\ntargeting and I'm gonna come back and\n\n182\n00:09:22.034 --> 00:09:23.630\ntalk about that in just a minute.\n\n183\n00:09:23.630 --> 00:09:29.480\nI'll click OK, and I'll click OK, and\nI now have a mapped drive, all right?\n\n184\n00:09:29.480 --> 00:09:31.590\nEasy enough.\n\n185\n00:09:31.590 --> 00:09:35.670\nDaniel, let's create a different policy,\nso we can kinda keep all these in one.\n\n186\n00:09:35.670 --> 00:09:40.130\nI'm gonna go up to the domain and create a\nnew GPO and I'm gonna call it Preferences.\n\n187\n00:09:42.760 --> 00:09:45.830\nAnd we'll just kinda start with\nthat one from here on out.\n\n188\n00:09:45.830 --> 00:09:47.250\nAnd I'll go ahead and edit that guy.\n\n189\n00:09:49.150 --> 00:09:53.580\nSome others that they call it on the exam,\nspecifically, Power Options.\n\n190\n00:09:53.580 --> 00:09:56.490\nSo if I go, and this would probably be\nsomething that I would try to do under\n\n191\n00:09:56.490 --> 00:09:57.660\nthe computer half.\n\n192\n00:09:57.660 --> 00:10:02.220\nSo if I go down here to Power Options,\nI can right click New power option.\n\n193\n00:10:02.220 --> 00:10:04.440\nNotice I've got a couple\nof different options here,\n\n194\n00:10:04.440 --> 00:10:08.980\nWindows XP, Windows XP Power Scheme,\nor Power plan for at least Windows 7.\n\n195\n00:10:08.980 --> 00:10:09.980\nSo Windows 7 and later.\n\n196\n00:10:09.980 --> 00:10:12.930\nAnd it's cool that it's smart\nenough to understand that\n\n197\n00:10:12.930 --> 00:10:16.806\ndifferent operating systems have\ndifferent power settings available and\n\n198\n00:10:16.806 --> 00:10:18.970\nthe way it handles those power settings.\n\n199\n00:10:18.970 --> 00:10:25.375\nSo I can come in here and\nI can create a new plan or\n\n200\n00:10:25.375 --> 00:10:31.470\ncall it Company Power Setting, all right?\n\n201\n00:10:31.470 --> 00:10:34.750\nI can have it set as the active\none if I want to force that out.\n\n202\n00:10:34.750 --> 00:10:40.230\nAnd I'm gonna make that computer go to\nsleep on battery and after ten minutes.\n\n203\n00:10:40.230 --> 00:10:42.050\nYou guys get the idea,\nI'm not gonna go through all the settings.\n\n204\n00:10:42.050 --> 00:10:45.710\nThese are just your normal power settings,\nand I click OK.\n\n205\n00:10:46.950 --> 00:10:48.550\nAnd I've got a new power plan.\n\n206\n00:10:48.550 --> 00:10:50.430\nAll right, other ones they call out.\n\n207\n00:10:50.430 --> 00:10:53.520\nThey're really, let's see,\nControl Panel Settings,\n\n208\n00:10:53.520 --> 00:10:56.630\nwe've taken a look at some\nof those underneath, oops.\n\n209\n00:10:56.630 --> 00:11:01.418\nPreferences, Control Panel Settings, and\nI've got a lot that I can play with.\n\n210\n00:11:01.418 --> 00:11:05.610\nInternet Settings,\nlet's see what we got in there.\n\n211\n00:11:05.610 --> 00:11:07.810\nRight click, New.\n\n212\n00:11:07.810 --> 00:11:09.730\nAnd then which Internet am I working with?\n\n213\n00:11:09.730 --> 00:11:13.493\nInternet Explore 10, not Edge just yet.\n\n214\n00:11:13.493 --> 00:11:14.319\n>> Not Edge just yet.\n\n215\n00:11:14.319 --> 00:11:17.220\n>> [LAUGH] All right, and\nmaybe I wanna set their home page or\n\n216\n00:11:17.220 --> 00:11:18.740\nI wanna make it start\nwith their home page.\n\n217\n00:11:18.740 --> 00:11:22.980\nI'm gonna set that to our company\nwebsite or something like that.\n\n218\n00:11:26.630 --> 00:11:28.710\nAll right, and okay.\n\n219\n00:11:28.710 --> 00:11:31.250\nAnd now their homepage\nwill be set to ITProTV.\n\n220\n00:11:31.250 --> 00:11:35.730\nRemember this is a preference,\nthey can change that if they want to, it\n\n221\n00:11:37.340 --> 00:11:41.560\ndoesn't lock the user interface,\nall right?\n\n222\n00:11:41.560 --> 00:11:43.610\nShortcut deployment,\nthere's another one we can do.\n\n223\n00:11:43.610 --> 00:11:46.140\nIf we wanna create a new\nshortcut on their desktop.\n\n224\n00:11:47.348 --> 00:11:50.924\nI lost my, oops, there we go.\n\n225\n00:11:50.924 --> 00:11:55.651\nWindow settings and then Shortcuts,\n\n226\n00:11:55.651 --> 00:11:59.360\nright-click New Shortcut.\n\n227\n00:11:59.360 --> 00:12:01.610\nAnd I'll go ahead and\ncreate because it doesn't exist yet.\n\n228\n00:12:03.390 --> 00:12:05.480\nAnd for the name I'll call it Notepad.\n\n229\n00:12:06.560 --> 00:12:12.000\nAnd then for the location,\nwhere do I wanna put that shortcut.\n\n230\n00:12:12.000 --> 00:12:16.400\nI'll put it on their desktop or\nI could put it on the all users desktop or\n\n231\n00:12:16.400 --> 00:12:19.900\nmy network places or\nthere's startup location.\n\n232\n00:12:19.900 --> 00:12:22.510\nCool that I've got these options\nright in here cuz trying\n\n233\n00:12:22.510 --> 00:12:26.290\nto find out how to get it onto\nthe all the user profile, challenging.\n\n234\n00:12:26.290 --> 00:12:28.930\nI got a drop down list here, all right?\n\n235\n00:12:28.930 --> 00:12:34.035\nTarget path, where is notepad, c:\\windows,\n\n236\n00:12:34.035 --> 00:12:40.860\noops, /system32/notepad.exe or\n\n237\n00:12:40.860 --> 00:12:43.890\nsomething like that should\nbe good enough for that.\n\n238\n00:12:43.890 --> 00:12:46.440\nAnd I'll go ahead and click okay there.\n\n239\n00:12:46.440 --> 00:12:49.400\nSo again, what I would recommend is\nreally just kind of playing around and\n\n240\n00:12:49.400 --> 00:12:54.580\ngoing through these options and seeing\nwhat all you can do and trying them out.\n\n241\n00:12:54.580 --> 00:12:56.640\nNow, what else have we got?\n\n242\n00:12:56.640 --> 00:12:58.280\nFile and folder deployment.\n\n243\n00:12:58.280 --> 00:13:03.997\nIf I want to create a new folder on\nsomebody's machine I can right-click,\n\n244\n00:13:03.997 --> 00:13:05.620\nnew folder.\n\n245\n00:13:05.620 --> 00:13:09.840\nNow change that to create, and the path,\nI'll make it on the C: drive and\n\n246\n00:13:09.840 --> 00:13:17.860\nI'll make them a reports folder or\nsomething like that, then I'll click Ok.\n\n247\n00:13:17.860 --> 00:13:20.350\nSo lots of different things\nwe can do within here.\n\n248\n00:13:20.350 --> 00:13:22.920\nNow, they all say that seems pretty cool,\nright,\n\n249\n00:13:22.920 --> 00:13:24.710\nlots of really cool stuff we can do.\n\n250\n00:13:24.710 --> 00:13:26.000\nBut, wait until I show you this.\n\n251\n00:13:26.000 --> 00:13:27.940\nItem level targeting.\n\n252\n00:13:27.940 --> 00:13:30.020\nYeah, well we've talked in other classes,\nor\n\n253\n00:13:30.020 --> 00:13:34.990\nother episodes about GPOs,\nGroup Policy Objects, and\n\n254\n00:13:34.990 --> 00:13:37.810\nif I wanna filter it, right,\nI've got a couple of different options.\n\n255\n00:13:37.810 --> 00:13:42.750\nIf I link a GPO to an OU,\nit applies to everybody in that OU.\n\n256\n00:13:42.750 --> 00:13:45.840\nWhat if I only wanted to apply it\nto certain people within the OU?\n\n257\n00:13:45.840 --> 00:13:48.630\nI've got to do security filtering,\nI've got to create groups and\n\n258\n00:13:48.630 --> 00:13:51.050\nI've got to deny it to everybody else and\nmake it so\n\n259\n00:13:51.050 --> 00:13:55.430\nthat only that certain group has read and\napply permissions over the GPO.\n\n260\n00:13:55.430 --> 00:13:59.930\nIt can be done, a little complex,\nbut it can be done.\n\n261\n00:13:59.930 --> 00:14:05.050\nPreferences on the other hand gives me\nsomething called item level targeting and\n\n262\n00:14:05.050 --> 00:14:07.840\nlet's take just, we'll use this one\nreports here that I just created.\n\n263\n00:14:07.840 --> 00:14:10.200\nI'll pull the properties back up, and\n\n264\n00:14:10.200 --> 00:14:14.460\nI go over here to common and\nI'm gonna turn on item level targeting.\n\n265\n00:14:14.460 --> 00:14:18.650\nThis is basically security filtering for\npreferences.\n\n266\n00:14:18.650 --> 00:14:20.230\nI click targeting and\n\n267\n00:14:20.230 --> 00:14:24.980\nI get this really cool little window And\nI can add a new item.\n\n268\n00:14:24.980 --> 00:14:28.500\nI'm basically saying how I\nwant to filter this setting.\n\n269\n00:14:28.500 --> 00:14:30.660\nI can then link it to the domain itself,\nbut\n\n270\n00:14:30.660 --> 00:14:34.090\nit would only apply if these are true,\nright?\n\n271\n00:14:34.090 --> 00:14:35.780\nAnd look at all the options I have.\n\n272\n00:14:35.780 --> 00:14:37.120\nWhether a battery is present or\n\n273\n00:14:37.120 --> 00:14:41.120\nnot, try to filter GPO to just laptops and\nnot desktops, right?\n\n274\n00:14:41.120 --> 00:14:43.740\nIf you've got them mixed in the same OU,\nit can be challenging.\n\n275\n00:14:43.740 --> 00:14:45.630\nHow can you tell if that's a laptop or\nnot?\n\n276\n00:14:45.630 --> 00:14:47.230\nI can base it on cpu speed.\n\n277\n00:14:47.230 --> 00:14:52.284\nI only want to apply this setting if\nthe cpu is greater than 1,000 megahertz or\n\n278\n00:14:52.284 --> 00:14:53.690\ngigahertz.\n\n279\n00:14:53.690 --> 00:14:58.910\nWhat domain they belong to,\nIP address range, MAC address range.\n\n280\n00:14:58.910 --> 00:15:02.380\nI can do my MSI queries,\nI can do network connections.\n\n281\n00:15:02.380 --> 00:15:04.350\nWhat there operating system is, right?\n\n282\n00:15:04.350 --> 00:15:06.620\nNow, to do the operating system filtering,\nearlier,\n\n283\n00:15:06.620 --> 00:15:09.630\nin a previous episode,\nI showed you a WMI filter.\n\n284\n00:15:09.630 --> 00:15:13.300\nAnd that means I got to go out and\nlearn that WMI query language.\n\n285\n00:15:13.300 --> 00:15:15.790\nI've got to learn all the classes\nthat are available within\n\n286\n00:15:15.790 --> 00:15:19.480\nthe Windows Management Instrumentation\nframework.\n\n287\n00:15:19.480 --> 00:15:22.480\nNot at easy, doable, right?\n\n288\n00:15:22.480 --> 00:15:24.040\nBut not as easy as this.\n\n289\n00:15:24.040 --> 00:15:27.050\nI click operating system and\nI got a drop-down list.\n\n290\n00:15:27.050 --> 00:15:32.960\nProduct has gotta be Windows 8.,\nwell let's do one that has a service pack,\n\n291\n00:15:32.960 --> 00:15:36.740\nwe'll say XP, Edition, Professional.\n\n292\n00:15:36.740 --> 00:15:39.970\nRelease, could be service pack one, right?\n\n293\n00:15:39.970 --> 00:15:43.650\nAnd the computer's gotta be,\nit's clients with no roll.\n\n294\n00:15:43.650 --> 00:15:45.160\nBut look how easy that is.\n\n295\n00:15:45.160 --> 00:15:49.753\nI could go ahead and click, you can\nsee it's adding that up here, right?\n\n296\n00:15:49.753 --> 00:15:53.974\nSo, preferences can be\nfiltered down extremely easy\n\n297\n00:15:53.974 --> 00:15:56.895\nusing that item-level targeting.\n\n298\n00:15:56.895 --> 00:15:59.857\nAnd what you also might notice is,\nI can do more than one.\n\n299\n00:15:59.857 --> 00:16:02.213\nI've got two listed up here.\n\n300\n00:16:02.213 --> 00:16:06.380\nThere's an and\nsitting there in between these guys.\n\n301\n00:16:06.380 --> 00:16:10.331\nWell, let's get rid of this one because\nI know these virtual machines, and\n\n302\n00:16:10.331 --> 00:16:12.752\nit's not running XP, so let's modify that.\n\n303\n00:16:12.752 --> 00:16:19.520\nLet's say I want to get Windows 8.1 and\nit's going to be 64 bit enterprise.\n\n304\n00:16:19.520 --> 00:16:20.780\nAnd I'm not worried about\nthe release with the roll.\n\n305\n00:16:21.890 --> 00:16:26.450\nBut I also want to make sure that,\nwhat would be another good one?\n\n306\n00:16:26.450 --> 00:16:33.614\nThat the domain is, lab.net, right.\n\n307\n00:16:33.614 --> 00:16:38.370\nAnd I could add another condition.\n\n308\n00:16:38.370 --> 00:16:43.084\nRAM is greater than 1024 for example.\n\n309\n00:16:43.084 --> 00:16:47.120\nSo you see how every time I add\nanother condition it's an and.\n\n310\n00:16:47.120 --> 00:16:51.730\nAnd that means all conditions have to be\ntrue before this policy would be applied.\n\n311\n00:16:51.730 --> 00:16:53.870\nIt is was Windows 8.1, part of lab.net,\n\n312\n00:16:53.870 --> 00:16:58.560\nbut it only had 512mg of RAM,\nthis setting wouldn't apply, right?\n\n313\n00:16:58.560 --> 00:17:04.690\nSo very easy to combine multiple settings,\nand you're not stuck with the and either.\n\n314\n00:17:04.690 --> 00:17:09.420\nI can come here to item options, and\nchange that to an or, or is or is not.\n\n315\n00:17:09.420 --> 00:17:09.920\nRight?\n\n316\n00:17:11.310 --> 00:17:12.520\nVery easy to work with.\n\n317\n00:17:12.520 --> 00:17:16.490\nSo now it's saying if it's 8.1 and\npart of the domain, or\n\n318\n00:17:16.490 --> 00:17:17.750\nit has more than a gig of RAM.\n\n319\n00:17:17.750 --> 00:17:21.900\nIt really wouldn't make sense in this\ncase, but you can see how easy it is to\n\n320\n00:17:21.900 --> 00:17:27.480\ncombine these filters up and\nchange these options around, all right.\n\n321\n00:17:27.480 --> 00:17:30.840\nNow let's change that back, I'm not\nsure my virtual machine is using dynamic\n\n322\n00:17:30.840 --> 00:17:34.140\nmemory, so we might not have a gig of RAM,\nbut is definitely 8.1.\n\n323\n00:17:34.140 --> 00:17:38.615\nAnd the user system name is lab.net,\nand I click OK.\n\n324\n00:17:41.500 --> 00:17:44.270\nAnd okay, and that's it.\n\n325\n00:17:44.270 --> 00:17:47.720\nSo for that particular setting,\nall those filters will apply.\n\n326\n00:17:47.720 --> 00:17:50.810\nAnd I could go back to the other ones and\ndo that as well.\n\n327\n00:17:50.810 --> 00:17:52.540\nSo that's my preferences.\n\n328\n00:17:52.540 --> 00:17:55.140\nI guess we should probably test it out,\nsee if it works.\n\n329\n00:17:55.140 --> 00:17:56.330\nYes, see if it actually does- Yeah,\n\n330\n00:17:56.330 --> 00:18:00.490\nI can't remember half of the ones I\njust did, but let's go see what happens.\n\n331\n00:18:00.490 --> 00:18:01.800\nThose were all under the user.\n\n332\n00:18:01.800 --> 00:18:02.751\nSo I'm going to go ahead and just log off.\n\n333\n00:18:06.885 --> 00:18:08.046\nAnd I'll log back on.\n\n334\n00:18:10.983 --> 00:18:16.200\nYou can do group membership as\nanother type of item level targeting.\n\n335\n00:18:16.200 --> 00:18:18.520\nI just love how easy it is to do.\n\n336\n00:18:18.520 --> 00:18:22.300\nThere's my shortcut for\nNotepad right there on my desktop.\n\n337\n00:18:22.300 --> 00:18:26.930\nOpen up File Explorer, there's my\nmapped drive, actually that's not\n\n338\n00:18:26.930 --> 00:18:30.780\nthe right mapped drive, so\nthat one didn't kick in just yet.\n\n339\n00:18:30.780 --> 00:18:33.890\nWhich one did we do the filtering on?\n\n340\n00:18:33.890 --> 00:18:35.067\nLet's see if I can remember that one.\n\n341\n00:18:44.338 --> 00:18:48.170\nI can't remember which one I actually\napplied that filtering on there.\n\n342\n00:18:52.094 --> 00:18:56.610\nOh gosh, Daniel,\nnow I just can't remember.\n\n343\n00:18:56.610 --> 00:18:59.130\nBut oh, it was that last one we did.\n\n344\n00:18:59.130 --> 00:19:02.490\nAnyway, this guy,\nthey should've applied him anyway.\n\n345\n00:19:03.800 --> 00:19:06.576\nLet's see what I can't remember what\nother setting [CROSSTALK] Internet option\n\n346\n00:19:06.576 --> 00:19:07.331\nsettings?\n\n347\n00:19:07.331 --> 00:19:10.630\nI did do an Internet option,\nthat's set to homepage.itprotv.\n\n348\n00:19:10.630 --> 00:19:13.560\nNow these guys don't\nhave Internet access and\n\n349\n00:19:13.560 --> 00:19:16.530\nthis is the first time I've\nlaunched Internet Explorer.\n\n350\n00:19:16.530 --> 00:19:21.210\nSo I know that Microsoft\npage is going to come up and\n\n351\n00:19:21.210 --> 00:19:25.140\nlet's just say home, yeah,\nit's still set to that, so.\n\n352\n00:19:25.140 --> 00:19:29.041\nActually, you know what, this might be IE,\nwhat version of IE is this?\n\n353\n00:19:34.835 --> 00:19:38.470\nIt's not happy because it's never\nconnected out to the Internet just now.\n\n354\n00:19:38.470 --> 00:19:40.530\nI was trying to see if I can get to my.\n\n355\n00:19:42.460 --> 00:19:43.170\nIt's IE 11, so\n\n356\n00:19:43.170 --> 00:19:47.880\nthat setting's probably not going to\napply, because it was IE 10 in that case.\n\n357\n00:19:47.880 --> 00:19:49.460\nNow, Mike, here's a good question.\n\n358\n00:19:49.460 --> 00:19:51.350\nThese are preferences, right?\n\n359\n00:19:51.350 --> 00:19:54.610\nThey're not necessarily set in stone, so\n\n360\n00:19:54.610 --> 00:19:59.160\nthe, say the Notepad, the little\nshortcut you stuck on the desktop there.\n\n361\n00:19:59.160 --> 00:20:01.720\nIf the user deletes that,\ndoes it come back?\n\n362\n00:20:01.720 --> 00:20:06.410\nOr, and let's say they do delete it, and\nthey go, man, I shouldn't of done that.\n\n363\n00:20:06.410 --> 00:20:07.170\nHow do I get it back?\n\n364\n00:20:07.170 --> 00:20:07.960\nWhat do I got to do?\n\n365\n00:20:07.960 --> 00:20:08.670\nIt will come back.\n\n366\n00:20:08.670 --> 00:20:13.770\nGroup policy preferences are applied at\nthe same interval as group policy setting.\n\n367\n00:20:13.770 --> 00:20:19.260\nSo, computer settings and preferences\napply when the computer starts up,\n\n368\n00:20:19.260 --> 00:20:22.740\nand then they're refreshed\nevery 90 to 120 minutes.\n\n369\n00:20:22.740 --> 00:20:24.830\nUser settings are applied\nwhen the user logs on,\n\n370\n00:20:24.830 --> 00:20:29.240\nand then refreshed every 90 to 120\nseconds, so they should reapply.\n\n371\n00:20:29.240 --> 00:20:34.000\nOkay, so\nif I have my homepage set to itpro.tv and\n\n372\n00:20:34.000 --> 00:20:39.204\nI change that to the forums maybe,\neventually it will turn back itpro.tv.\n\n373\n00:20:39.204 --> 00:20:40.025\nYeah.\nExactly.\n\n374\n00:20:40.025 --> 00:20:42.040\nOkay.\nWhich can be a little frustrating at\n\n375\n00:20:42.040 --> 00:20:43.020\nthe end of the day.\n\n376\n00:20:43.020 --> 00:20:45.510\nYeah, they'll let you change it,\nbut it's going to change back.\n\n377\n00:20:45.510 --> 00:20:47.980\nSo, where the GPO just says, nein.\n\n378\n00:20:47.980 --> 00:20:49.220\nYou cannot change this, sir.\n\n379\n00:20:49.220 --> 00:20:51.600\n[LAUGH] Right, which I kind of like,\nbecause that way we're on, and\n\n380\n00:20:51.600 --> 00:20:55.760\nwe love it as administrators, because they\ncan't undo things that I feel necessary.\n\n381\n00:20:55.760 --> 00:20:58.340\nSo that's one thing to think\nabout with the preferences.\n\n382\n00:20:58.340 --> 00:21:01.540\nThese are things that I would\nlike to do for the user, but\n\n383\n00:21:01.540 --> 00:21:06.310\nthey're not part of my company's\npolicy where it has to be done.\n\n384\n00:21:06.310 --> 00:21:09.810\nOtherwise I'm still sticking\nwith group policy settings, or\n\n385\n00:21:09.810 --> 00:21:10.880\nI am creating a script to do that.\n\n386\n00:21:10.880 --> 00:21:12.630\nThat way, they can't undo those settings.\n\n387\n00:21:12.630 --> 00:21:13.810\nYeah.\nThat would probably be really great,\n\n388\n00:21:13.810 --> 00:21:15.960\nespecially when you are doing\nthings like testing.\n\n389\n00:21:15.960 --> 00:21:18.000\nDo I want the environment to be this way?\n\n390\n00:21:18.000 --> 00:21:19.310\nIs it going to cause problems?\n\n391\n00:21:19.310 --> 00:21:20.880\nAre my users going to hate it?\n\n392\n00:21:20.880 --> 00:21:25.980\nSo you can go ahead and implement that\non maybe a certain scope of test users.\n\n393\n00:21:25.980 --> 00:21:29.480\nSee how they like things and if everything\nworks fine, you can leave that or\n\n394\n00:21:29.480 --> 00:21:31.660\nlink it to a different part of the domain.\n\n395\n00:21:31.660 --> 00:21:34.950\nLet that group policy come down, and\napply to everyone at that point.\n\n396\n00:21:34.950 --> 00:21:35.790\nGreat stuff, Mike.\n\n397\n00:21:35.790 --> 00:21:39.240\nThis actually reminds me a lot\nof remote computer management,\n\n398\n00:21:39.240 --> 00:21:40.330\nto be honest with you.\n\n399\n00:21:40.330 --> 00:21:43.160\nYou have the ability to\nattach to other computers\n\n400\n00:21:43.160 --> 00:21:46.400\nusing your computer management console and\nmake some changes.\n\n401\n00:21:46.400 --> 00:21:47.780\nBut that's just on one PC.\n\n402\n00:21:47.780 --> 00:21:51.560\nThis can go out to OU or\nthe whole domain if I feel like it.\n\n403\n00:21:51.560 --> 00:21:52.060\nAbsolutely.\n\n404\n00:21:52.060 --> 00:21:55.510\nAnd I was trying to think of an example\nwhere, like the power offerings.\n\n405\n00:21:55.510 --> 00:21:58.460\nI might have a power option\nthat I want to apply, but\n\n406\n00:21:58.460 --> 00:22:01.180\nI don't want the end user\nto be forced to use it.\n\n407\n00:22:01.180 --> 00:22:04.370\nLet's say I kick the screen\nsaver in after ten minutes, and\n\n408\n00:22:04.370 --> 00:22:07.570\nI shut the screen and\nthe hard drives down after 30 minutes, but\n\n409\n00:22:07.570 --> 00:22:09.560\nthat user's getting ready\nto go give a presentation.\n\n410\n00:22:09.560 --> 00:22:12.460\nIf I had used group policy setting\nto configure that power plan,\n\n411\n00:22:12.460 --> 00:22:15.140\nthey couldn't change it and\nthey're in the middle of a presentation\n\n412\n00:22:15.140 --> 00:22:16.900\nan that thing could end\nup shutting down on them.\n\n413\n00:22:16.900 --> 00:22:19.900\nWith this, with preferences,\nthey could do away with that.\n\n414\n00:22:19.900 --> 00:22:22.250\nAnd then the next time they come back and\npolicy applies,\n\n415\n00:22:22.250 --> 00:22:23.880\nyou know it gets set again.\n\n416\n00:22:23.880 --> 00:22:25.380\nVery nice stuff, very nice stuff.\n\n417\n00:22:25.380 --> 00:22:26.190\nGet in there and explore.\n\n418\n00:22:26.190 --> 00:22:29.420\nLook at all those different preferences,\ntest them out, see how they work.\n\n419\n00:22:29.420 --> 00:22:32.600\nSometimes they do take more, it's kind of\nlike some of those group policy settings\n\n420\n00:22:32.600 --> 00:22:34.160\nwe talked about in a previous episode.\n\n421\n00:22:34.160 --> 00:22:35.620\nSometimes they don't\nkick in on the first try.\n\n422\n00:22:35.620 --> 00:22:39.020\nYou might have to log off, log back on\nmore than once, before it kicks in.\n\n423\n00:22:39.020 --> 00:22:39.940\nBut it will eventually.\n\n424\n00:22:39.940 --> 00:22:42.790\nYeah, and like you said, there's plenty\nof stuff for you to go in there and\n\n425\n00:22:42.790 --> 00:22:44.300\nfigure out, tweak around.\n\n426\n00:22:44.300 --> 00:22:46.110\nAlways, I mean that's\npart of us being in IT.\n\n427\n00:22:46.110 --> 00:22:50.270\nWe love to turn a knob and\nflip a switch and see what it does.\n\n428\n00:22:50.270 --> 00:22:53.680\nSo don't be afraid, jump in that guy,\nmake some changes, figure it out.\n\n429\n00:22:53.680 --> 00:22:57.170\nWe do have those labs available at\nitpro.tv for you guys to check that out.\n\n430\n00:22:57.170 --> 00:22:59.470\nYou don't have to worry\nabout breaking anything.\n\n431\n00:22:59.470 --> 00:23:02.850\nYeah, flip switches and turn knobs\nall day long, have a great time.\n\n432\n00:23:02.850 --> 00:23:04.140\nFigure out what each\none of those things do,\n\n433\n00:23:04.140 --> 00:23:07.090\nhow you can best apply\nthat to your environment.\n\n434\n00:23:07.090 --> 00:23:10.040\nAnd then you'll have that practical\nexperience when it comes to the exam,\n\n435\n00:23:10.040 --> 00:23:12.100\nyou'll know exactly\nwhere those things are.\n\n436\n00:23:12.100 --> 00:23:13.520\nRight, right.\nAnd you can make those changes.\n\n437\n00:23:13.520 --> 00:23:17.400\nThat's the thing for the exam, just be\nfamiliar with what choices are available.\n\n438\n00:23:17.400 --> 00:23:19.960\nPlay around with that\nitem level targeting.\n\n439\n00:23:19.960 --> 00:23:24.040\nThat's a great feature so it will be one\nthat they'll most likely call on the exam.\n\n440\n00:23:24.040 --> 00:23:24.970\nExcellent stuff.\n\n441\n00:23:24.970 --> 00:23:25.590\nAll right, Mikey.\n\n442\n00:23:25.590 --> 00:23:29.540\nHave we missed anything or\nhave we thoroughly covered said topic?\n\n443\n00:23:29.540 --> 00:23:30.345\nI think we did.\n\n444\n00:23:30.345 --> 00:23:31.580\n[LAUGH] All right.\n\n445\n00:23:31.580 --> 00:23:33.860\nHopefully you guys out there\nhave enjoyed this episode.\n\n446\n00:23:33.860 --> 00:23:35.390\nWe had a great time making it for you.\n\n447\n00:23:35.390 --> 00:23:37.560\nWe're going to go ahead and\nsign off for ITProTV.\n\n448\n00:23:37.560 --> 00:23:39.180\nI've been your host, Daniel Lowry.\n\n449\n00:23:39.180 --> 00:23:39.970\nAnd I'm Mike Rodrick.\n\n450\n00:23:39.970 --> 00:23:40.976\nWe'll see you next time.\n\n451\n00:23:40.976 --> 00:23:47.560\n[MUSIC]\n\n",
          "vimeoId": "138862033"
        }
      ],
      "title": "Configure and manage Group Policy"
    }
  ],
  "url": "mcsa-windows-server-2013",
  "vLab": true
}
