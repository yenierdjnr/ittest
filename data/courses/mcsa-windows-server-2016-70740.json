{
  "description": "Over 80% of computers run Microsoft Operating systems. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The MCSA: Windows Server covers topics that are “must know” for anyone responsible for deploying, maintaining and supporting Windows servers in a corporate or enterprise environment. Server systems often form a critical piece of the day-to-day operations for any business. The MCSA covers topics that will help the learner ensure their computing environment is functional and stable.",
  "descriptionMD": "",
  "length": "69811",
  "name": "MCSA Windows Server 2016 - 70-740",
  "practiceExam": true,
  "subtitle": "Installation, Storage, and Compute with Windows Server 2016",
  "tagUrl": "microsoft-technical",
  "topics": [
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Mike take you through installing, upgrading, and migrating to Windows Server 2016. They begin by looking at installation hardware requirements and then go over the different version's specifics. Next, they begin their demonstration of a standard installation.",
          "length": "1216",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-1-install_upgrade_and_migrate-080816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-1-install_upgrade_and_migrate-080816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-1-install_upgrade_and_migrate-080816-1-sm.jpg",
          "title": "Install, Upgrade and Migrate",
          "transcript": "WEBVTT\n\n1\n00:00:00.006 --> 00:00:10.006\n[MUSIC]\n\n2\n00:00:12.068 --> 00:00:16.153\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:16.153 --> 00:00:18.221\nI'm your host Daniel Lowrie and\n\n4\n00:00:18.221 --> 00:00:22.910\nin today's episode we begin\nour series on installation.\n\n5\n00:00:22.910 --> 00:00:25.290\nThis is a long title, so bear with me.\n\n6\n00:00:25.290 --> 00:00:29.770\nInstallation, storage and compute with\nWindows Server 2016, that's right,\n\n7\n00:00:29.770 --> 00:00:32.900\nthe new hotness available from Microsoft.\n\n8\n00:00:32.900 --> 00:00:36.710\nJoining us in the studio today to\nlend his expertise on that topic,\n\n9\n00:00:36.710 --> 00:00:39.140\nthe Microsoft man himself,\nMr. Mike Rodrick.\n\n10\n00:00:39.140 --> 00:00:39.970\nMike, welcome back, sir.\n\n11\n00:00:39.970 --> 00:00:40.800\nHow's it going today?\n\n12\n00:00:40.800 --> 00:00:41.888\n>> It's going fantastic.\n\n13\n00:00:41.888 --> 00:00:45.460\nI'm excited cuz we are starting\nthat journey, as you said,\n\n14\n00:00:45.460 --> 00:00:48.540\nwith Server 2016 and\nI love My Windows Server.\n\n15\n00:00:48.540 --> 00:00:50.470\n>> You do.\n>> And man, what a title.\n\n16\n00:00:50.470 --> 00:00:51.610\n>> I know.\n>> I'm glad it was on you, not me.\n\n17\n00:00:51.610 --> 00:00:53.000\nI didn't want to have to say that.\n\n18\n00:00:53.000 --> 00:00:55.362\n>> Little verbose [LAUGH].\n\n19\n00:00:55.362 --> 00:00:57.754\n>> Barely fits across the bottom\nof our screen down there.\n\n20\n00:00:57.754 --> 00:01:02.361\nBut as you can see, we are gonna be\ninstalling, looking at storage and\n\n21\n00:01:02.361 --> 00:01:04.180\nlooking at compute.\n\n22\n00:01:04.180 --> 00:01:09.150\nWhen it comes to Windows Server 2016,\ngearing up for those new\n\n23\n00:01:09.150 --> 00:01:14.740\nset of exams that are gonna be coming\nout pretty soon for 2016 with your MCSA.\n\n24\n00:01:14.740 --> 00:01:17.191\nAnd they've rearranged\nthings a little bit, so\n\n25\n00:01:17.191 --> 00:01:21.636\ndon't expect it to go like it did\nwith 2012 and 2008 and 2003 and 2000.\n\n26\n00:01:21.636 --> 00:01:23.472\nOf course,\nthey just had to change it up, you know?\n\n27\n00:01:23.472 --> 00:01:24.134\n>> Of course.\n\n28\n00:01:24.134 --> 00:01:26.748\n>> We kind of used to start off with\nthings like Active Directory and DNS.\n\n29\n00:01:26.748 --> 00:01:31.343\nHere we're gonna start out with again,\nlearning about installing it,\n\n30\n00:01:31.343 --> 00:01:34.690\nsetting up storage, working with compute.\n\n31\n00:01:34.690 --> 00:01:37.900\nAnd then we move into gosh,\n\n32\n00:01:37.900 --> 00:01:40.460\nI think the second one deals\nwith some of the infrastructure.\n\n33\n00:01:40.460 --> 00:01:43.150\nAnd then the third one is gonna deal\nwith identity where we get into\n\n34\n00:01:43.150 --> 00:01:46.310\nActive Directory, rights management,\nfederation and all that good stuff.\n\n35\n00:01:46.310 --> 00:01:49.380\nSo this one again,\nis a first in the series.\n\n36\n00:01:49.380 --> 00:01:53.630\nAnd with all of Microsoft Server's\nclasses where we first start out,\n\n37\n00:01:53.630 --> 00:01:56.170\nwhat's the first thing\nwe have learned about?\n\n38\n00:01:56.170 --> 00:01:57.360\nGetting it installed, right?\n\n39\n00:01:57.360 --> 00:02:00.360\nWe can't do much when it's\non that disk in our hands.\n\n40\n00:02:00.360 --> 00:02:02.850\nSo we've gotta put it in there and\nget this installed.\n\n41\n00:02:02.850 --> 00:02:04.270\nSo that's what we're gonna do.\n\n42\n00:02:04.270 --> 00:02:09.030\nAnd before we go to install, we need to\nknow about all the minimum requirements.\n\n43\n00:02:09.030 --> 00:02:12.808\nSo that we can be successful with our\ninstalls, so let's cover those real quick.\n\n44\n00:02:12.808 --> 00:02:16.810\nWe're not gonna drag it out, just\na little bit of memorization to it and\n\n45\n00:02:17.860 --> 00:02:20.930\nthey might ask you one or\ntwo questions on the exam about it.\n\n46\n00:02:20.930 --> 00:02:26.580\nSo like I said I wouldn't spend too much\ntime remember, they've actually simplified\n\n47\n00:02:26.580 --> 00:02:31.340\nit a little bit addition wise at least for\nnow it's a lot better than it was.\n\n48\n00:02:31.340 --> 00:02:37.390\nSo processor wise,\n1.4 gigahertz 64-bit processor.\n\n49\n00:02:37.390 --> 00:02:41.610\nAgain, when we talk about these we're\ntalking minimum requirements, right?\n\n50\n00:02:41.610 --> 00:02:43.700\nThat means you can\nsuccessfully install it,\n\n51\n00:02:43.700 --> 00:02:45.690\nyou might not like what\nyou've got afterwards and\n\n52\n00:02:45.690 --> 00:02:49.310\nyou might not be able to run anything\non it, but you can get it installed.\n\n53\n00:02:49.310 --> 00:02:51.540\nSo one point-\n>> I can see them getting a real bad rap.\n\n54\n00:02:51.540 --> 00:02:55.220\nPeople going, man this thing\nruns horrible, it's so slow.\n\n55\n00:02:55.220 --> 00:02:58.550\nYou're running it on the bare\nrequirements there, buddy.\n\n56\n00:02:58.550 --> 00:03:00.616\nIt will run, but\nwe didn't say it would run well [LAUGH].\n\n57\n00:03:00.616 --> 00:03:01.255\n>> That's right.\n\n58\n00:03:01.255 --> 00:03:04.178\nThat's why they're called\nminimum requirements.\n\n59\n00:03:04.178 --> 00:03:08.650\n1.4 gigahertz, 64-bit processor,\ncompatible with a 64-bit instruction set.\n\n60\n00:03:08.650 --> 00:03:13.483\nYou do need to support a second\nlevel address translation or\n\n61\n00:03:13.483 --> 00:03:16.780\nSLAT for short, as well as NX and or DEP.\n\n62\n00:03:16.780 --> 00:03:20.459\nThe no execution bit or\nthe data execution prevention,\n\n63\n00:03:20.459 --> 00:03:25.200\ndepending on what platform\nyou're on there, Intel, AMD.\n\n64\n00:03:25.200 --> 00:03:29.410\nSo those are our requirements for\nour processor, for\n\n65\n00:03:29.410 --> 00:03:32.870\nour memory, 512 megabytes of RAM,\nyeah, not very much.\n\n66\n00:03:32.870 --> 00:03:36.170\nBut again, that's just to get\nthe operating system installed.\n\n67\n00:03:36.170 --> 00:03:39.330\nIf you're running Core, you might be\nable to get away with using that if you\n\n68\n00:03:39.330 --> 00:03:41.170\ndon't dump too many rolls on there.\n\n69\n00:03:41.170 --> 00:03:43.600\nBut as you add more and\nmore rolls, remember,\n\n70\n00:03:43.600 --> 00:03:47.240\nthese are just the minimum requirements\nfor the operating system itself.\n\n71\n00:03:47.240 --> 00:03:50.550\nNothing to do with what you're gonna\nrun on top of that operating system.\n\n72\n00:03:50.550 --> 00:03:54.800\nIf you're gonna make it a domain\ncontroller, a DNS server, A DHCP server.\n\n73\n00:03:54.800 --> 00:03:56.783\nEach one of those roles has requirements.\n\n74\n00:03:56.783 --> 00:04:00.940\nSo you'd have to start adding up, all\nright, I need 512 for my operating system.\n\n75\n00:04:00.940 --> 00:04:03.657\nI need a gig for [INAUDIBLE] and all this\nkind of thing, iou'd add them all up.\n\n76\n00:04:03.657 --> 00:04:04.980\nSo keep that in mind.\n\n77\n00:04:04.980 --> 00:04:11.610\nBut 512 minimum with error correction code\nor ECC type memory is the way we wanna go.\n\n78\n00:04:11.610 --> 00:04:14.780\nI know I've read a couple of notes too.\n\n79\n00:04:14.780 --> 00:04:18.288\nIf you try to do it in a virtual\nmachine with 512 megs of RAM,\n\n80\n00:04:18.288 --> 00:04:22.610\nit's probably gonna fail,\neven though 512 is listed as the minimum.\n\n81\n00:04:22.610 --> 00:04:26.620\nThey say bump it up to about 800,\n900 megs, get it installed,\n\n82\n00:04:26.620 --> 00:04:30.900\nthen you can drop it back down to 512\nif you really are that tight on memory.\n\n83\n00:04:30.900 --> 00:04:34.720\nIt has to do with the expansion of all\nthe files and get everything set up.\n\n84\n00:04:34.720 --> 00:04:35.490\nIt can run with 512,\n\n85\n00:04:35.490 --> 00:04:40.310\nit fails if you try to do\nthe installation with that 512 in a VM.\n\n86\n00:04:40.310 --> 00:04:44.301\nSo something to keep in mind again,\nthat's not in the exam,\n\n87\n00:04:44.301 --> 00:04:48.702\nthat's just for your FYI,\nif that's not redundant for your FYI.\n\n88\n00:04:48.702 --> 00:04:50.084\n>> For your information.\n\n89\n00:04:50.084 --> 00:04:52.831\n>> So the PIN number for\nthe ATM machine is.\n\n90\n00:04:52.831 --> 00:04:53.562\n>> And your NIC card.\n\n91\n00:04:53.562 --> 00:04:56.616\n>> And my NIC card [LAUGH].\n\n92\n00:04:56.616 --> 00:05:00.648\nSo 32 or 512 megs of RAM,\n32 gigs of hard drive space, again,\n\n93\n00:05:00.648 --> 00:05:03.160\nget it installed, get everything there.\n\n94\n00:05:03.160 --> 00:05:07.080\nIt does not allow ATA, PATA, IDE or\n\n95\n00:05:07.080 --> 00:05:12.698\nenhanced IDE, EIDE, for\nany of my drives really,\n\n96\n00:05:12.698 --> 00:05:17.026\nfor boot, for page or for data drives.\n\n97\n00:05:17.026 --> 00:05:17.664\n>> Doesn't like them.\n\n98\n00:05:17.664 --> 00:05:18.900\n>> Doesn't like them.\n\n99\n00:05:18.900 --> 00:05:23.430\nSo that technology is finally\nkinda hit the end there.\n\n100\n00:05:23.430 --> 00:05:24.780\nCan't use that at all.\n\n101\n00:05:24.780 --> 00:05:29.540\nNetwork adapter is gonna be needed, at\nleast a gigabit throughput would be nice.\n\n102\n00:05:29.540 --> 00:05:31.190\nThey say that's a minimum requirement.\n\n103\n00:05:32.320 --> 00:05:35.110\nI'm pretty sure even if I had a ten\nmegabit adapter it would probably\n\n104\n00:05:35.110 --> 00:05:36.160\nlet me install.\n\n105\n00:05:36.160 --> 00:05:38.770\nDon't quote me on that,\nI've never tested it or tried it.\n\n106\n00:05:38.770 --> 00:05:41.729\nBut I don't know that it would actually\nlook at the throughput on your adapter,\n\n107\n00:05:41.729 --> 00:05:42.310\ninteresting.\n\n108\n00:05:42.310 --> 00:05:43.058\n>> Yeah, how would it know that?\n\n109\n00:05:43.058 --> 00:05:45.743\n>> They do call it out, so\nfor the exam, remember,\n\n110\n00:05:45.743 --> 00:05:49.557\nMike told you at least a gigabit\nthroughput on your network adapter.\n\n111\n00:05:49.557 --> 00:05:53.382\n>> Maybe they're saying you need to use\na gigabit because you're gonna be running\n\n112\n00:05:53.382 --> 00:05:56.270\nall these services that\nneeds some decent bandwidth.\n\n113\n00:05:56.270 --> 00:05:58.666\n>> Yeah, and you will be really hard\npressed to find anything less than\n\n114\n00:05:58.666 --> 00:05:59.473\na gigabyte nowadays.\n\n115\n00:05:59.473 --> 00:06:00.912\n>> Who the heck's running ten megabit?\n\n116\n00:06:00.912 --> 00:06:01.892\n[LAUGH]\n>> Yeah,\n\n117\n00:06:01.892 --> 00:06:04.664\nyou can go down to a hardware store or\na swap store and\n\n118\n00:06:04.664 --> 00:06:08.030\nmaybe find a 10/100 card but\nit's gonna be difficult.\n\n119\n00:06:08.030 --> 00:06:10.470\nAnd then you gotta find a driver for\nit so.\n\n120\n00:06:10.470 --> 00:06:11.370\nWhat else?\n\n121\n00:06:11.370 --> 00:06:13.710\nNeed to support\nthe pre-execution environment or\n\n122\n00:06:13.710 --> 00:06:18.530\npixie boot if we're gonna do any\nnetwork installation of images.\n\n123\n00:06:18.530 --> 00:06:22.547\nSo requirement-wise, really not that\nsteep, those are minimum requirements.\n\n124\n00:06:22.547 --> 00:06:28.660\n1.4 gigahertz, 512 megs of RAM,\n32 gigs of hard drive space and\n\n125\n00:06:28.660 --> 00:06:31.710\na gigabit network adapter\nwill get you started.\n\n126\n00:06:32.740 --> 00:06:36.690\nThen we've gotta talk about\nthe good old additions.\n\n127\n00:06:36.690 --> 00:06:39.650\nAnd there's a few different additions\nas I was saying earlier, but\n\n128\n00:06:39.650 --> 00:06:42.270\nit doesn't seem to be quite\nas many as there used to be.\n\n129\n00:06:42.270 --> 00:06:47.530\nAnd really three mains ones that we'll\nend up dealing with throughout the MCSA\n\n130\n00:06:47.530 --> 00:06:49.850\ntrack that we have to worry about.\n\n131\n00:06:49.850 --> 00:06:52.040\nBut good to know the others just in case.\n\n132\n00:06:52.040 --> 00:06:53.590\nYou've got the data center version,\n\n133\n00:06:53.590 --> 00:06:56.540\nthat's the top dog,\nthe big bad boy of the server world.\n\n134\n00:06:56.540 --> 00:07:01.702\nThe data center edition is really designed\nfor highly virtualized environments and\n\n135\n00:07:01.702 --> 00:07:04.912\ndata centers,\nhence the name data center version.\n\n136\n00:07:04.912 --> 00:07:05.597\n>> Who would have thought?\n\n137\n00:07:05.597 --> 00:07:07.950\n>> I know, right?\n\n138\n00:07:07.950 --> 00:07:10.050\nRemember the license a little\nbit different with data center.\n\n139\n00:07:10.050 --> 00:07:15.340\nWith data center, you're paying thousands\nof dollars, upwards towards the gosh,\n\n140\n00:07:15.340 --> 00:07:18.260\nI wanna say 6, $8,000 for\na data center license.\n\n141\n00:07:18.260 --> 00:07:21.880\nBut you get unlimited virtual\nlicenses when you get that.\n\n142\n00:07:21.880 --> 00:07:23.720\nSo you get that one physical install and\n\n143\n00:07:23.720 --> 00:07:27.840\nthen unlimited virtual licenses so,\nthat's why you spend the extra money.\n\n144\n00:07:27.840 --> 00:07:31.035\nAnd in a highly virtualized environment,\nthat would make sense.\n\n145\n00:07:31.035 --> 00:07:36.155\nI mean if I'm gonna have 100 virtual\nservers, I can buy one license for\n\n146\n00:07:36.155 --> 00:07:37.992\n8,000 bucks to cover all of those.\n\n147\n00:07:37.992 --> 00:07:39.940\nYou've gotta work out\nthe math in your environment,\n\n148\n00:07:39.940 --> 00:07:41.810\nbut sounds like a good deal to me.\n\n149\n00:07:41.810 --> 00:07:43.290\nWhat else?\n\n150\n00:07:43.290 --> 00:07:47.860\nStandard is the next one\ndown from data center.\n\n151\n00:07:47.860 --> 00:07:51.866\nThat one is good for physical\nenvironments, small shops where you\n\n152\n00:07:51.866 --> 00:07:56.241\nactually have physical servers you\ninstall on or a few virtualization.\n\n153\n00:07:56.241 --> 00:07:59.189\nRight, where it's not a heavily\nvirtualized environment, but\n\n154\n00:07:59.189 --> 00:08:02.150\nwe are going to be running\nsome virtual machines.\n\n155\n00:08:02.150 --> 00:08:05.070\nBecause, with standard,\nyou get one physical install, and\n\n156\n00:08:05.070 --> 00:08:07.370\nyou get two virtual licenses.\n\n157\n00:08:07.370 --> 00:08:11.765\nRun you about 800 bucks, 600,\n800 bucks, I think for a standard.\n\n158\n00:08:11.765 --> 00:08:15.385\nAgain, all of these prices, this is as of\nmaybe this morning when we're recording\n\n159\n00:08:15.385 --> 00:08:18.645\nthis, that could very well be\ndifferent by the time you watch this.\n\n160\n00:08:18.645 --> 00:08:20.745\nSo, make sure you go check that out and\ndo your research.\n\n161\n00:08:20.745 --> 00:08:24.325\nThat's not a, prices are not\nan exam type question anyway,\n\n162\n00:08:24.325 --> 00:08:25.605\njust kind of for your information.\n\n163\n00:08:26.735 --> 00:08:30.205\nSo, standard primarily for\nyour physical, minimally virtualized.\n\n164\n00:08:30.205 --> 00:08:34.560\nYou also have an Essentials edition, which\nis kinda like the old small business,\n\n165\n00:08:34.560 --> 00:08:39.210\nwhere up to 25 users is all you can have,\n\n166\n00:08:39.210 --> 00:08:42.950\nI think it's 50 devices\ncan connect into it.\n\n167\n00:08:42.950 --> 00:08:46.680\nThat's one that you're not gonna find,\nyou'd have to actually, I don't even know\n\n168\n00:08:46.680 --> 00:08:50.150\nwhere you get that one, I think you\nhave to go to Microsoft to get that.\n\n169\n00:08:50.150 --> 00:08:52.310\nThere's also MultiPoint Premium Server for\n\n170\n00:08:52.310 --> 00:08:55.820\nvolume license customers\nin academic segments.\n\n171\n00:08:55.820 --> 00:08:57.260\nSo, if you're in the academic,\n\n172\n00:08:57.260 --> 00:09:00.560\nyou can get a discount on the price for\nMultiPoint Premium Server.\n\n173\n00:09:00.560 --> 00:09:04.250\nThere's Storage Server, which has\nboth a standard and a work group.\n\n174\n00:09:04.250 --> 00:09:09.410\nThose are from the OEM channel only so you\nwould buy an appliance that was running\n\n175\n00:09:09.410 --> 00:09:14.360\nMicrosoft Storage Server 2016 and\nthen there's also a Hyper V-server,\n\n176\n00:09:14.360 --> 00:09:16.450\nwhich is actually a free\ndownload from Microsoft.\n\n177\n00:09:16.450 --> 00:09:17.690\n>> Hold on now.\n\n178\n00:09:17.690 --> 00:09:20.070\nI know Microsoft,\nthey don't give anything away for free.\n\n179\n00:09:20.070 --> 00:09:23.650\nIs this like their gateway drug to\nget you hooked on their products and\n\n180\n00:09:23.650 --> 00:09:24.570\nyou come back for more?\n\n181\n00:09:24.570 --> 00:09:25.990\n[LAUGH]\n>> They'll get you started.\n\n182\n00:09:25.990 --> 00:09:29.540\nRight, but now you need something to\nmanage all those Hyper V servers with.\n\n183\n00:09:29.540 --> 00:09:30.537\n>> So,\nyou're gonna need a system center, and\n\n184\n00:09:30.537 --> 00:09:32.008\nyou're gonna have some\nof that to [CROSSTALK].\n\n185\n00:09:32.008 --> 00:09:32.674\n>> Yeah.\n\n186\n00:09:32.674 --> 00:09:34.190\n[LAUGH] Yeah, buy that system center.\n\n187\n00:09:34.190 --> 00:09:36.510\n>> Sure.\nGet your server for free, but\n\n188\n00:09:36.510 --> 00:09:38.700\npay $30,000 for a system center.\n\n189\n00:09:38.700 --> 00:09:39.460\n>> Exactly.\n\n190\n00:09:39.460 --> 00:09:42.990\n>> But yeah, there's a hyper version,\nfree download.\n\n191\n00:09:42.990 --> 00:09:44.950\nAnd it's just that,\nit's just the hypervisor.\n\n192\n00:09:44.950 --> 00:09:48.530\nSo if you wanna set up a,\nyou got a core platform hardware,\n\n193\n00:09:48.530 --> 00:09:52.450\nyou wanna run Hyper-V on there, you can\ndownload this version and install it.\n\n194\n00:09:52.450 --> 00:09:53.820\nAgain, no bells and whistles,\n\n195\n00:09:53.820 --> 00:09:57.140\nnone of the rest of the operating system,\njust your hypervisor, but\n\n196\n00:09:57.140 --> 00:10:01.790\nmaybe that's all you need, and you can\nmanage it with your normal Hyper-V tools.\n\n197\n00:10:01.790 --> 00:10:05.450\nAll right, so, for us really like I said\n\n198\n00:10:05.450 --> 00:10:09.990\nThree big ones that we'll deal with are\ngonna be data center standard and hyper v.\n\n199\n00:10:09.990 --> 00:10:12.460\nThose would be the ones that\nthey might test you on, but\n\n200\n00:10:12.460 --> 00:10:14.160\nknow the other ones just in case.\n\n201\n00:10:14.160 --> 00:10:18.510\nWe'll be dealing with standard\nas far as demos go and\n\n202\n00:10:18.510 --> 00:10:21.200\nlabs go we'll be dealing with standard.\n\n203\n00:10:21.200 --> 00:10:22.795\nThere isn't a difference\nbetween standard and\n\n204\n00:10:22.795 --> 00:10:25.530\ndatacenter any more,\nI think that started back in 2008.\n\n205\n00:10:25.530 --> 00:10:29.120\nIn 2003 you had standard and\n\n206\n00:10:29.120 --> 00:10:32.900\nenterprise, Enterprise could do\nthings that standard could not.\n\n207\n00:10:32.900 --> 00:10:37.470\nLike with Enterprise, you could install\nEnterprise level certificate authority.\n\n208\n00:10:37.470 --> 00:10:38.980\nOn standard, you couldn't.\n\n209\n00:10:38.980 --> 00:10:42.400\nWell, that's no longer the case.\n\n210\n00:10:42.400 --> 00:10:46.640\nWith 2016, all the If features and\nroles are available on both Standard and\n\n211\n00:10:46.640 --> 00:10:49.430\nData Center, it's a Licensing\nwhere the differences occurs.\n\n212\n00:10:49.430 --> 00:10:54.380\nYou don't pay, used to be you have to bump\nup to that Enterprise License just to get\n\n213\n00:10:54.380 --> 00:10:58.030\nthe ability to do things\nlike Certificate Authority.\n\n214\n00:10:58.030 --> 00:11:01.140\nThat's no longer the case,\nyou get a full set with Standard.\n\n215\n00:11:01.140 --> 00:11:04.189\nData Center just gives you\nextra licensing capabilities.\n\n216\n00:11:05.960 --> 00:11:10.910\nSo the standard data center and\nhyper V are the big ones to know about.\n\n217\n00:11:10.910 --> 00:11:17.480\nWhen it comes to installing our server,\nthat is what we are going to do next.\n\n218\n00:11:17.480 --> 00:11:19.260\nWell take a look at the installation and\n\n219\n00:11:19.260 --> 00:11:23.140\nnot a lot has changed on\nthe installation for server.\n\n220\n00:11:23.140 --> 00:11:25.680\nSo if you're familiar with doing\nthis in previous versions,\n\n221\n00:11:25.680 --> 00:11:28.900\nyou're well ahead of the game when\nit comes to studying for this.\n\n222\n00:11:28.900 --> 00:11:31.150\nWe're gonna go through the process.\n\n223\n00:11:31.150 --> 00:11:34.220\nSo what I've go here is I've got\na machine that is booted up, and\n\n224\n00:11:34.220 --> 00:11:35.130\nit's failed to boot.\n\n225\n00:11:35.130 --> 00:11:36.880\nNo operating system is found.\n\n226\n00:11:36.880 --> 00:11:41.750\nSo, I've popped a 2016 disk in there, and\nwe're simply going to reboot this machine.\n\n227\n00:11:43.570 --> 00:11:45.700\nAnd let it connect to that DVD.\n\n228\n00:11:46.760 --> 00:11:49.380\nOr ISO in this case since\nit's a virtual machine, and\n\n229\n00:11:49.380 --> 00:11:50.880\nwe'll go through the installation process.\n\n230\n00:11:52.270 --> 00:11:54.830\nWhen it comes to installing it,\nlike I said, it's a wizard,\n\n231\n00:11:54.830 --> 00:11:56.260\nit's gonna walk you through it.\n\n232\n00:11:56.260 --> 00:11:58.070\nIt's pretty straightforward,\n\n233\n00:11:58.070 --> 00:12:00.740\nthe main thing is to make sure\nyou met the minimum requirements.\n\n234\n00:12:00.740 --> 00:12:04.470\nAnd that you have an idea of what you plan\non doing with that machine, so that if you\n\n235\n00:12:04.470 --> 00:12:08.690\nneed more than those minimum requirements,\nyou can Get that taken care of.\n\n236\n00:12:08.690 --> 00:12:10.940\nAnd why are you not booting?\n\n237\n00:12:10.940 --> 00:12:15.990\nLet's find out here where my mousie went.\n\n238\n00:12:15.990 --> 00:12:17.120\nThere it is.\n\n239\n00:12:17.120 --> 00:12:20.328\nFor some reason my disk is not attached so\nwe'll do that one more More time.\n\n240\n00:12:25.047 --> 00:12:27.190\nAnd it should be right, there it goes.\n\n241\n00:12:27.190 --> 00:12:28.480\n>> There we go.\n>> That's a little more like it.\n\n242\n00:12:29.780 --> 00:12:32.130\nAnd there's our famous splash screen.\n\n243\n00:12:32.130 --> 00:12:32.816\nWell, not ours.\n\n244\n00:12:32.816 --> 00:12:34.200\n>> [LAUGH]\n>> Microsoft's famous splash\n\n245\n00:12:34.200 --> 00:12:34.960\n>> Splash green.\n\n246\n00:12:34.960 --> 00:12:35.960\n>> Mike drew that himself.\n\n247\n00:12:37.310 --> 00:12:38.670\n>> Yes, like the depth perception.\n\n248\n00:12:38.670 --> 00:12:39.220\n>> That's right.\n\n249\n00:12:39.220 --> 00:12:39.720\nVery cool.\n\n250\n00:12:41.330 --> 00:12:43.310\n>> Try to make it 3-D for you.\n\n251\n00:12:43.310 --> 00:12:44.430\nAll right, so there we go.\n\n252\n00:12:44.430 --> 00:12:46.370\nWe get to the first screen,\nwhat are we going to do?\n\n253\n00:12:46.370 --> 00:12:50.140\nWe're going to install Server 16,\ntechnical preview 5,\n\n254\n00:12:50.140 --> 00:12:53.640\nthat is the latest version as of\nthe shooting of these episodes.\n\n255\n00:12:53.640 --> 00:12:57.400\nYou pick your language, your time and\ncurrency, and keyboard or input.\n\n256\n00:12:57.400 --> 00:12:59.770\nNotice it's got English and\nUS for all three of those.\n\n257\n00:12:59.770 --> 00:13:02.430\nThat's because it's detecting that from\n\n258\n00:13:05.370 --> 00:13:09.960\nmy Detecting that from my locale.\n\n259\n00:13:09.960 --> 00:13:12.470\nWe'll click next and\nwe'll click install now.\n\n260\n00:13:14.320 --> 00:13:15.110\nCrazy difficult so far.\n\n261\n00:13:15.110 --> 00:13:16.270\n>> Yeah, this is really hard.\n\n262\n00:13:16.270 --> 00:13:21.170\n>> Yes, no it really is pretty darn\neasy to get this guy installed.\n\n263\n00:13:21.170 --> 00:13:22.350\n>> Yeah, it ain't like it used to be.\n\n264\n00:13:22.350 --> 00:13:25.830\nBack in the day we'd try to\ninstall Windows Server 2000, 2000.\n\n265\n00:13:25.830 --> 00:13:27.600\nThe junk was a bear,\n\n266\n00:13:27.600 --> 00:13:32.120\nit was an hour's worth of work just\nto get the server up and running.\n\n267\n00:13:32.120 --> 00:13:33.790\nAnd then you could start to work.\n\n268\n00:13:33.790 --> 00:13:35.670\nYou know, so you had to work so\nthat you work.\n\n269\n00:13:35.670 --> 00:13:39.490\nThat stuff's always fun, but\nnow it's basically click, click,\n\n270\n00:13:39.490 --> 00:13:41.465\nclick And we're up with server.\n\n271\n00:13:41.465 --> 00:13:42.585\n>> Absolutely.\n\n272\n00:13:42.585 --> 00:13:46.595\nThat's right Daniel, they really have\nsimplified the installation process.\n\n273\n00:13:46.595 --> 00:13:47.935\nAnd it's quick as you said.\n\n274\n00:13:47.935 --> 00:13:51.175\nSo, let me get this product key in here,\nMFY9F,\n\n275\n00:13:51.175 --> 00:13:55.990\nand this is a Product key for\nMicrosoft for the trial so\n\n276\n00:13:55.990 --> 00:14:00.836\nI'm not calling out my corporations,\nmy company's product key or\n\n277\n00:14:00.836 --> 00:14:05.541\nanything like that.\n\n278\n00:14:05.541 --> 00:14:13.179\nXBN2FTYFMPCCV49RMYVH and\n\n279\n00:14:13.179 --> 00:14:19.010\nwhen I click next, What we should see, is\nit's going to look at the disk, the media,\n\n280\n00:14:19.010 --> 00:14:25.200\nand it's gonna determine whats on that\nmedia, and what that key was for.\n\n281\n00:14:25.200 --> 00:14:28.160\nNotice i'm getting standard right here.\n\n282\n00:14:28.160 --> 00:14:30.420\nIf I've got another key for data center.\n\n283\n00:14:30.420 --> 00:14:33.490\nIf I would've typed that key in, And\nI could go back and do it right now, but\n\n284\n00:14:33.490 --> 00:14:36.260\nI don't think you guys wanna watch me\ngo back and type that number again.\n\n285\n00:14:36.260 --> 00:14:37.680\nAnd then we came to this screen.\n\n286\n00:14:37.680 --> 00:14:42.630\nIt would say 2016 Data Center and\nData Center with Desktop Experience.\n\n287\n00:14:42.630 --> 00:14:45.230\nSo it reads that key,\nit looks at that key, and it says,\n\n288\n00:14:45.230 --> 00:14:47.660\nall right that's gonna unlock\nthese particular versions.\n\n289\n00:14:47.660 --> 00:14:49.680\nMy point is this particular ISO, and\n\n290\n00:14:49.680 --> 00:14:53.100\nseveral of them that you get from\nMicrosoft, will have multiple editions.\n\n291\n00:14:53.100 --> 00:14:57.140\nOn the ISO or in the media and\na lot of it's determined by the product\n\n292\n00:14:57.140 --> 00:15:01.830\nkey that you type in which is gonna\nbe available for your installation.\n\n293\n00:15:01.830 --> 00:15:02.610\nRight.\n\n294\n00:15:02.610 --> 00:15:05.150\nSo we are gonna do the good\nold desktop experience first.\n\n295\n00:15:05.150 --> 00:15:06.590\nI'll click, next.\n\n296\n00:15:06.590 --> 00:15:08.980\nNotice that the default was actually,\ncore.\n\n297\n00:15:08.980 --> 00:15:10.350\nI'll agree to EULA.\n\n298\n00:15:11.600 --> 00:15:14.150\nI'm gonna do a custom install\nbecause there is nothing to upgrade,\n\n299\n00:15:14.150 --> 00:15:16.820\nthis is a brand new bare metal machine.\n\n300\n00:15:16.820 --> 00:15:19.490\nI'll use my 60 gigabyte\ndrive that I have available,\n\n301\n00:15:19.490 --> 00:15:22.940\nthat meets my minimum requirements,\nand the process will start.\n\n302\n00:15:22.940 --> 00:15:26.220\nHonestly, this will take\nmaybe five minutes.\n\n303\n00:15:26.220 --> 00:15:28.310\nA lot of it will depend on\nthe performance of your machine,\n\n304\n00:15:28.310 --> 00:15:30.330\nbut it really won't take that long.\n\n305\n00:15:30.330 --> 00:15:31.600\nSo we'll do a quick TV time out.\n\n306\n00:15:31.600 --> 00:15:35.340\nWe come back we should be up and\nrunning with the server 2016.\n\n307\n00:15:35.340 --> 00:15:37.230\nAlright there we go, we finished up.\n\n308\n00:15:37.230 --> 00:15:40.740\nOnce it finishes, this is the screen\nyou come to where you've gotta set your\n\n309\n00:15:40.740 --> 00:15:42.730\nadministrative password.\n\n310\n00:15:42.730 --> 00:15:44.230\nSo I will do that.\n\n311\n00:15:44.230 --> 00:15:46.139\nSomething complex and long and strong.\n\n312\n00:15:46.139 --> 00:15:48.977\n>> One, two, three, four, five.\n\n313\n00:15:48.977 --> 00:15:49.673\n>> Yeah.\n\n314\n00:15:49.673 --> 00:15:52.181\n>> [LAUGH]\n>> And that's it.\n\n315\n00:15:52.181 --> 00:15:57.379\nLog in With a super secret password and\n\n316\n00:15:57.379 --> 00:16:04.050\nwe now have an installation\nof 2016 server.\n\n317\n00:16:04.050 --> 00:16:05.168\nNow, it's not configured.\n\n318\n00:16:05.168 --> 00:16:08.970\nI mean we've still got a lot of work to\ndo to get this usable in our network,\n\n319\n00:16:08.970 --> 00:16:12.990\nin our production environment, but\nwe've got the operating system installed.\n\n320\n00:16:12.990 --> 00:16:13.670\nI promise we do.\n\n321\n00:16:13.670 --> 00:16:15.400\nIt's not just a black screen.\n\n322\n00:16:15.400 --> 00:16:16.470\nIt's thinking about it there.\n\n323\n00:16:16.470 --> 00:16:18.880\nNot the most exciting screen to look at,\nso\n\n324\n00:16:18.880 --> 00:16:20.245\nmay want to go off that for just a second.\n\n325\n00:16:20.245 --> 00:16:22.250\n>> [LAUGH]\n>> Look at Mike's smiling face.\n\n326\n00:16:22.250 --> 00:16:23.820\n>> Until they come back yeah.\n\n327\n00:16:23.820 --> 00:16:26.160\nSo we'll wait for that to pop up.\n\n328\n00:16:26.160 --> 00:16:28.770\nIt's finalizing some settings there.\n\n329\n00:16:28.770 --> 00:16:32.320\nAnd actually you know what, while we're\ndoing that, let's flip over to this one.\n\n330\n00:16:32.320 --> 00:16:35.120\nAnd this is one where I've\ndone the core install.\n\n331\n00:16:35.120 --> 00:16:36.956\n>> It's really not much\nbetter graphically.\n\n332\n00:16:36.956 --> 00:16:38.294\n[LAUGH]\n>> It's not.\n\n333\n00:16:38.294 --> 00:16:42.160\n[LAUGH] Remember core is the installation\nof server that I can do without\n\n334\n00:16:42.160 --> 00:16:43.720\nthe graphical user interface.\n\n335\n00:16:43.720 --> 00:16:47.080\nI wanna leave all that out,\nleave all the wizards out.\n\n336\n00:16:47.080 --> 00:16:50.120\nStrip all that and\nyou end up with a much smaller,\n\n337\n00:16:50.120 --> 00:16:52.650\nmuch lighter installation of Server 2016.\n\n338\n00:16:52.650 --> 00:16:56.040\nGreat when you're running\na Hyper-V server and\n\n339\n00:16:56.040 --> 00:16:59.260\nyou want all the resources dedicated to\nthe virtual machine cuz you don't want\n\n340\n00:16:59.260 --> 00:17:02.510\nthe host operating system\ntaking up that many resources.\n\n341\n00:17:02.510 --> 00:17:04.730\nSo any time or if you've got.\n\n342\n00:17:04.730 --> 00:17:06.160\nI dunno, multiple web servers.\n\n343\n00:17:06.160 --> 00:17:09.540\nYou really don't need the graphical\nuser interface on all of them,\n\n344\n00:17:09.540 --> 00:17:11.320\nyou can manage them remotely.\n\n345\n00:17:12.760 --> 00:17:16.610\nSo really core, it is the default,\nit is the preferred way to go.\n\n346\n00:17:16.610 --> 00:17:19.210\nIt does take a little bit of getting\nused to to administer it, but\n\n347\n00:17:19.210 --> 00:17:22.020\nwe do most of our administration remotely,\nanyway.\n\n348\n00:17:22.020 --> 00:17:24.950\nAnd we'll go through a lot of that\nas we go through these classes.\n\n349\n00:17:24.950 --> 00:17:25.700\nBut I went ahead and\n\n350\n00:17:25.700 --> 00:17:29.370\ninstalled it, cuzI wanted to show you the\nstart screen is a little bit different.\n\n351\n00:17:29.370 --> 00:17:32.070\nWhen it finishes installing,\nI'll zoom in so you can see that there.\n\n352\n00:17:32.070 --> 00:17:35.500\nIt says the user's password must\nbe changed before signing in.\n\n353\n00:17:35.500 --> 00:17:37.950\nLet me center that a little bit.\n\n354\n00:17:37.950 --> 00:17:39.880\nSo I'll hit enter for okay.\n\n355\n00:17:39.880 --> 00:17:41.393\nType in my new password.\n\n356\n00:17:45.200 --> 00:17:46.640\nI can't type and talk.\n\n357\n00:17:46.640 --> 00:17:48.780\nPassword has been changed.\n\n358\n00:17:48.780 --> 00:17:49.970\nI hit OK.\n\n359\n00:17:49.970 --> 00:17:53.560\nI zoom back out and\nthere's my desktop for core.\n\n360\n00:17:53.560 --> 00:17:56.660\nAnd let's go ahead and\nsay yes for that network.\n\n361\n00:17:56.660 --> 00:17:58.340\nAnd I got a couple of\nthings to do on these VMs.\n\n362\n00:17:58.340 --> 00:18:01.160\nWe just installed them, so I've got\na couple of things to do graphically to\n\n363\n00:18:01.160 --> 00:18:02.540\nmake it look good on our display.\n\n364\n00:18:02.540 --> 00:18:06.870\nBut what we're trying to do is get\nthe operating system installed.\n\n365\n00:18:06.870 --> 00:18:08.110\nAnd that we've done.\n\n366\n00:18:08.110 --> 00:18:11.640\nSo we've got a desktop edition,\n\n367\n00:18:11.640 --> 00:18:14.640\nif you will, the one that has\nthe graphical user interface.\n\n368\n00:18:14.640 --> 00:18:16.170\nAnd we got one without.\n\n369\n00:18:16.170 --> 00:18:20.890\nGetting it installed is mainly knowing\nyour minimum system requirements,\n\n370\n00:18:20.890 --> 00:18:24.840\nmaking sure that either your physical\nhardware or the virtual machine,\n\n371\n00:18:24.840 --> 00:18:28.850\nif you're doing it in a virtual,\nmaking sure you assign enough resources\n\n372\n00:18:28.850 --> 00:18:32.970\nto the VM to get that installed to\nrun properly, and there you have it.\n\n373\n00:18:32.970 --> 00:18:33.910\nYou go through the wizard.\n\n374\n00:18:33.910 --> 00:18:34.670\nReally what did we do?\n\n375\n00:18:34.670 --> 00:18:39.290\nWe had to put in a product key,\nwe had to agree to the EULA.\n\n376\n00:18:39.290 --> 00:18:43.380\nWe had to choose to do a custom install\nbecause we weren't upgrading anything, and\n\n377\n00:18:43.380 --> 00:18:45.400\nwe chose the drive that\nwe installed it on.\n\n378\n00:18:45.400 --> 00:18:49.060\n>> And if you wanted to, you could have\ndone some partitioning if that was\n\n379\n00:18:49.060 --> 00:18:53.410\nsomething necessary, but other than that,\nreally straight-forward process.\n\n380\n00:18:53.410 --> 00:18:56.300\nAnd it didn't take but maybe,\nwith Mike explaining it,\n\n381\n00:18:56.300 --> 00:18:58.830\nI think it was all of ten minutes.\n\n382\n00:18:58.830 --> 00:18:59.830\n>> Yeah.\n>> Very fast.\n\n383\n00:18:59.830 --> 00:19:02.250\n>> Yeah, and the core,\nI'll tell you guys a little secret.\n\n384\n00:19:02.250 --> 00:19:05.560\nWe did a TV Time Out, as you've seen\nin the video if you're watching this,\n\n385\n00:19:05.560 --> 00:19:07.841\nto finish the standard,\nthe desktop install.\n\n386\n00:19:08.890 --> 00:19:11.130\nOnce we took the time out,\nI said, well you know what,\n\n387\n00:19:11.130 --> 00:19:12.490\nthey're not gonna want to see this again.\n\n388\n00:19:12.490 --> 00:19:15.020\nI might as well go ahead and\nget core installed up to that same point.\n\n389\n00:19:15.020 --> 00:19:16.220\n>> It's the exact same process.\n\n390\n00:19:16.220 --> 00:19:17.610\n>> Yeah, it's the exact same process for\n\n391\n00:19:17.610 --> 00:19:20.530\nthe beginning part, just picking\ncore instead of desktop edition.\n\n392\n00:19:21.550 --> 00:19:24.905\nIt actually finished before\nthe install we took the time out for.\n\n393\n00:19:24.905 --> 00:19:26.345\nIt installed that fast.\n\n394\n00:19:26.345 --> 00:19:31.715\nSo, Server 2016, definitely optimized,\ndefinitely a quick install process.\n\n395\n00:19:31.715 --> 00:19:34.435\nAnd Daniel, I tell you, I know we got\na little time left in this episode, but\n\n396\n00:19:34.435 --> 00:19:36.600\nwe're getting ready to jump\ninto the configuration.\n\n397\n00:19:36.600 --> 00:19:39.420\nAnd I'm not gonna finish it in\nthe next eight minutes so you wanna-\n\n398\n00:19:39.420 --> 00:19:40.250\n>> Yeah, no that's perfect.\n\n399\n00:19:40.250 --> 00:19:41.170\nIt's a great spot.\n\n400\n00:19:41.170 --> 00:19:43.450\nThis is the natural stopping spot for us.\n\n401\n00:19:43.450 --> 00:19:46.620\nThat being said, we're gonna have to,\nwe are gonna make a part two on this,\n\n402\n00:19:46.620 --> 00:19:48.580\nto go the after effects, right.\n\n403\n00:19:48.580 --> 00:19:51.180\nJust because you've got something\ninstalled doesn't mean you don't have to\n\n404\n00:19:51.180 --> 00:19:52.240\ndo a little more configuration.\n\n405\n00:19:52.240 --> 00:19:53.800\nWe're gonna do that in part two.\n\n406\n00:19:53.800 --> 00:19:56.040\nBut Mike, you're right,\nit's a good spot for us to stop.\n\n407\n00:19:56.040 --> 00:19:58.910\nLook forward to seeing you in the next\nepisode and figuring this out.\n\n408\n00:19:58.910 --> 00:20:02.070\nWe look forward to seeing you there\nas well but we're going to sign off.\n\n409\n00:20:02.070 --> 00:20:04.310\nITProTV, I've been your\nhost Daniel Lowrie.\n\n410\n00:20:04.310 --> 00:20:04.996\n>> And I'm Mike Roderick.\n\n411\n00:20:04.996 --> 00:20:07.284\n>> See you next time.\n\n412\n00:20:07.284 --> 00:20:15.680\n[MUSIC]\n\n",
          "vimeoId": "178639000"
        },
        {
          "description": "In this episode, Daniel and Mike take you through installing, upgrading, and migrating to Windows Server 2016. Here they finish their standard installation as well as installing Server Core 2016. Finally, they take you through common post-installation procedures like setting a static IP, setting the admin password, and joining to a domain.",
          "length": "1698",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-2-instal_upgrade_and_migrate_pt.2-080816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-2-instal_upgrade_and_migrate_pt.2-080816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-2-instal_upgrade_and_migrate_pt.2-080816-1-sm.jpg",
          "title": "Install, Upgrade and Migrate Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.473 --> 00:00:13.595\nAll right, greetings everyone.\n\n3\n00:00:13.595 --> 00:00:16.550\nAnd welcome to to another\ngreat episode of ITProTV.\n\n4\n00:00:16.550 --> 00:00:17.710\nI'm your host Daniel Lowrie and\n\n5\n00:00:17.710 --> 00:00:21.400\non today's episode we continue on\nwith more on our installation.\n\n6\n00:00:21.400 --> 00:00:22.890\nMike, you're gonna have to help me out.\n\n7\n00:00:22.890 --> 00:00:26.390\nThis is the longest, longest and\nof course I've got it right here.\n\n8\n00:00:26.390 --> 00:00:27.120\nHere we go.\n\n9\n00:00:27.120 --> 00:00:30.670\nThe installation storage and\ncompute with Windows Server 2016.\n\n10\n00:00:30.670 --> 00:00:32.940\nWow, Microsoft really\ngave us a mouthful there.\n\n11\n00:00:32.940 --> 00:00:34.200\n>> Yes they did.\n\n12\n00:00:34.200 --> 00:00:37.080\n>> But, joining us today, obviously here,\nis our good friend Mr. Mike Roger.\n\n13\n00:00:37.080 --> 00:00:38.030\nMike, welcome back sir.\n\n14\n00:00:38.030 --> 00:00:38.920\n>> Thank you very much.\n\n15\n00:00:38.920 --> 00:00:40.110\nIt is an incredibly long one.\n\n16\n00:00:40.110 --> 00:00:41.310\nI don't know why they do that.\n\n17\n00:00:41.310 --> 00:00:45.230\nBut me anyway and\nthis is part two right, so\n\n18\n00:00:45.230 --> 00:00:51.320\nin part one we get installation started we\ninstalled Server 2016 in the desktop mode\n\n19\n00:00:51.320 --> 00:00:54.890\nas well as in the core mode now we just\ngonna finish up the installation which\n\n20\n00:00:54.890 --> 00:00:58.580\nmean we gonna do our basic configuration,\nget them joined to the domain so\n\n21\n00:00:58.580 --> 00:01:03.340\nthat they can be a productive member\nof our corporate environment.\n\n22\n00:01:03.340 --> 00:01:05.810\nSo let see how we go about doing that.\n\n23\n00:01:05.810 --> 00:01:10.690\nWe'll start with the desktop version\nhere and once you remember the very end.\n\n24\n00:01:10.690 --> 00:01:13.670\nWe set that password for\nthe administrator.\n\n25\n00:01:13.670 --> 00:01:16.480\nLogs may in and\nhere's the first thing we see.\n\n26\n00:01:16.480 --> 00:01:20.205\nWe get good old,\nserver manager opens up by default.\n\n27\n00:01:20.205 --> 00:01:24.765\nAnd if I want to do some configuration,\nyou can't start with adding roles and\n\n28\n00:01:24.765 --> 00:01:28.145\nthings like that, we still need to\nset the name, join it to the domain,\n\n29\n00:01:28.145 --> 00:01:31.355\nset its IP address and\nthat kind of thing, so\n\n30\n00:01:31.355 --> 00:01:37.640\nover here in the top left hand corner\nwe've got local server, all right?\n\n31\n00:01:37.640 --> 00:01:42.160\nAnd underneath local server you'll see\nI get a bunch, a lot of information and\n\n32\n00:01:42.160 --> 00:01:43.520\nall of these are clickable links.\n\n33\n00:01:43.520 --> 00:01:47.900\nYou can see as I hover my mouse\nover them they're actually links.\n\n34\n00:01:47.900 --> 00:01:49.460\nAnd they will take me where I need to go.\n\n35\n00:01:49.460 --> 00:01:52.410\nOkay if I want to change\nthe name of this computer\n\n36\n00:01:52.410 --> 00:01:57.010\nwhich is currently Window PVA 6851\nblah blah blah, I just click it.\n\n37\n00:01:57.010 --> 00:02:00.090\nCan I still get there by doing\nmy Windows key pause breaks,\n\n38\n00:02:00.090 --> 00:02:04.140\nkeyboard short cuts or right clicking\non computer and choosing properties?\n\n39\n00:02:04.140 --> 00:02:05.450\nAbsolutely, right?\n\n40\n00:02:05.450 --> 00:02:08.680\nBut there's nice, that they've got\nall the things that I really need\n\n41\n00:02:08.680 --> 00:02:10.450\nright there in that local server and\n\n42\n00:02:10.450 --> 00:02:14.210\nmy server manager clickable,\ntakes me right to where I need to go.\n\n43\n00:02:14.210 --> 00:02:15.370\nSo, we'll change the name.\n\n44\n00:02:15.370 --> 00:02:16.770\nI'm gonna call this guy SBR01.\n\n45\n00:02:16.770 --> 00:02:18.950\nWe'll click OK.\n\n46\n00:02:18.950 --> 00:02:22.960\nAnd remember, changing the name\nrequires a reboot on the system.\n\n47\n00:02:22.960 --> 00:02:27.410\nSo, it's gonna hopefully tell me,\nthank you for changing the name, but\n\n48\n00:02:27.410 --> 00:02:28.230\nyou've gotta restart.\n\n49\n00:02:28.230 --> 00:02:28.750\nWe'll click OK.\n\n50\n00:02:28.750 --> 00:02:33.650\nI'll close that, and I'm gonna restart\nlater, just the way I do things.\n\n51\n00:02:33.650 --> 00:02:35.580\nI'm gonna go ahead and do a couple more.\n\n52\n00:02:35.580 --> 00:02:37.870\nChanges, not that they require a reboot,\nbut\n\n53\n00:02:37.870 --> 00:02:41.820\nI'm just, once i get into that changing\ngear, I don't wanna stop, reboot.\n\n54\n00:02:41.820 --> 00:02:43.090\nBecause then I'm gonna\ngo get a cup of coffee,\n\n55\n00:02:43.090 --> 00:02:44.380\nI'm gonna think about\nsomething else I need to do,\n\n56\n00:02:44.380 --> 00:02:46.230\nand I'll forget to come back and do this.\n\n57\n00:02:46.230 --> 00:02:47.910\njust the way my brain works.\n\n58\n00:02:47.910 --> 00:02:50.520\nAs we change the name, we'll just kind\nof work our way down the list here.\n\n59\n00:02:50.520 --> 00:02:53.630\nThe next thing I wanna do is\nset my TCP/IP information.\n\n60\n00:02:53.630 --> 00:02:56.930\nMost of the time we statically map\nour servers, no requirement for that,\n\n61\n00:02:56.930 --> 00:03:02.020\nbut In most environment we will and you\nguys should know how to do this by now.\n\n62\n00:03:02.020 --> 00:03:05.120\nOnce I click on that link,\nyou probably need a network connection.\n\n63\n00:03:05.120 --> 00:03:08.710\nRight click properties or\ndouble click to get the details and\n\n64\n00:03:08.710 --> 00:03:13.029\nthen click properties, however you\nwant go to get your TCP IP settings.\n\n65\n00:03:14.270 --> 00:03:19.575\nAnd properties, and\nI'm gonna statically map this guys,\n\n66\n00:03:19.575 --> 00:03:26.440\n10.1.1.201, the class C subnet mask,\ndefault gateway, and\n\n67\n00:03:26.440 --> 00:03:31.540\nI already have a domain controller running\nso I'm going to set the DNS address.\n\n68\n00:03:31.540 --> 00:03:36.230\nTo point the DNS server to or set\nthe settings to point to that DNS server.\n\n69\n00:03:36.230 --> 00:03:39.260\nOne of the biggest things\npeople will forget to do or\n\n70\n00:03:39.260 --> 00:03:42.360\nit'll cause a problem when you go\nto join this guy to the domain,\n\n71\n00:03:42.360 --> 00:03:46.740\nin order to join the domain I need to\nfind a DNS server for that domain.\n\n72\n00:03:46.740 --> 00:03:49.150\nSo I can resolve the name\nof the domain controller,\n\n73\n00:03:49.150 --> 00:03:52.430\nconnect and\nrequest the joining of the domain.\n\n74\n00:03:52.430 --> 00:03:56.800\nSo if I Have a machine that's\nmaybe picked up an IP address from\n\n75\n00:03:58.310 --> 00:04:03.520\nyou know, the hotels that I've,\nI shouldn't say the hotel's ISP, anyway,\n\n76\n00:04:03.520 --> 00:04:06.060\nmake sure you're pointing\nit to the right DNS server.\n\n77\n00:04:06.060 --> 00:04:08.840\nTypically we see it with\nclients more often than not\n\n78\n00:04:08.840 --> 00:04:12.890\nbecause they'll come from the outside\nsay hey, I wanna join the domain, and\n\n79\n00:04:12.890 --> 00:04:16.300\ntheir DNS server is not pointed correctly,\nand they fail to join.\n\n80\n00:04:16.300 --> 00:04:18.240\nOr you forget to set the DNS server.\n\n81\n00:04:18.240 --> 00:04:18.900\nThat's the big one,\n\n82\n00:04:18.900 --> 00:04:22.710\nespecially when you're dealing with core,\nwhich I'll show you here in just a minute.\n\n83\n00:04:22.710 --> 00:04:28.460\nI'll set my TCPIP settings, I'll click\nokay, and close to all of those windows.\n\n84\n00:04:30.490 --> 00:04:32.940\nWhat else, I'm not going to worry\nabout updates for this lab.\n\n85\n00:04:32.940 --> 00:04:38.610\nAnd then I've got my time zone over here,\ncurrently says Pacific time.\n\n86\n00:04:38.610 --> 00:04:42.930\nWe'll click on that link, opens up my\ndialogue box, I can change that to\n\n87\n00:04:42.930 --> 00:04:48.690\nwhatever is appropriate for my area,\nEastern time zone, U.S. We'll click OK.\n\n88\n00:04:48.690 --> 00:04:51.540\nLooks like the clock address it correctly.\n\n89\n00:04:51.540 --> 00:04:54.700\nSometimes especially if you\ndon't have network access,\n\n90\n00:04:54.700 --> 00:04:57.560\nwhen you're setting up a machine,\nyou might address the time zone and\n\n91\n00:04:57.560 --> 00:05:00.260\nsee that the time doesn't\nstill doesn't set right.\n\n92\n00:05:00.260 --> 00:05:04.690\nYou can actually just go in and\nobviously change the date and\n\n93\n00:05:04.690 --> 00:05:10.740\ntime settings there and that's about\nit for my initial configuration.\n\n94\n00:05:10.740 --> 00:05:14.070\nAll right, now, you'll notice\nthat it still has the wrong name.\n\n95\n00:05:14.070 --> 00:05:16.720\nThe IP address is showing,\nthe time zone is not.\n\n96\n00:05:17.720 --> 00:05:21.620\nServer manager refreshes\nabout every five minutes,\n\n97\n00:05:21.620 --> 00:05:26.255\nyou can manually refresh it with this\nlittle refresh icon right up here.\n\n98\n00:05:26.255 --> 00:05:28.210\nThat'll refresh the information,\nbut the name,\n\n99\n00:05:28.210 --> 00:05:32.140\nnow you can see the time zone is eastern\nthe name still hasn't changed and\n\n100\n00:05:32.140 --> 00:05:35.840\nthat's because, remember, it requires\na reboot to set that computer name\n\n101\n00:05:35.840 --> 00:05:39.330\nwhich I haven't done yet, so\nyou can't forget to do that.\n\n102\n00:05:39.330 --> 00:05:43.560\nIf you try to do anything else at this\npoint, like add roles, it'll warn you.\n\n103\n00:05:43.560 --> 00:05:48.250\nIt'll say, look your server is\npending a reboot or there's a reboot\n\n104\n00:05:48.250 --> 00:05:52.210\noperation pending and you won't be able to\nmake any changes until that's finished, so\n\n105\n00:05:52.210 --> 00:05:57.030\nwe'll go ahead and restart this guy, and\n\n106\n00:05:57.030 --> 00:06:02.160\nit'll reboot, surprisingly fast for\nour server operating system, typically.\n\n107\n00:06:04.677 --> 00:06:07.210\nWe'll see what happens when it comes up.\n\n108\n00:06:07.210 --> 00:06:10.390\nStill not a member of the domain,\nI haven't joined the domain yet.\n\n109\n00:06:10.390 --> 00:06:11.690\nThat's the last step, right,\n\n110\n00:06:11.690 --> 00:06:16.139\nonce you get the name set, the IP address\nset, time zone, all that good stuff.\n\n111\n00:06:17.330 --> 00:06:23.430\nI'll log back in with my local\nadministrator account and\n\n112\n00:06:23.430 --> 00:06:30.560\nthen we'll wait for Server Manager to open\nback up, let it refresh it's information,\n\n113\n00:06:30.560 --> 00:06:34.440\nthere's this little blue bar you can\nsee it going across the top there\n\n114\n00:06:34.440 --> 00:06:38.010\nthat means Server Manager's in\nthe middle of collecting information.\n\n115\n00:06:38.010 --> 00:06:40.440\nTypically, just wait for that to finish.\n\n116\n00:06:40.440 --> 00:06:45.190\nIf you start clicking around before that\nfinishes it sometimes locks up on you,\n\n117\n00:06:45.190 --> 00:06:47.680\njust a little FYI.\n\n118\n00:06:47.680 --> 00:06:50.700\nThen back over to Local Server, and\n\n119\n00:06:50.700 --> 00:06:54.510\nnow I can see my name is proper,\neverything looks good.\n\n120\n00:06:54.510 --> 00:06:58.270\nIt's time to join the domain, so if I\nwanna join the domain using the GUI I'm,\n\n121\n00:06:58.270 --> 00:07:02.360\nsimply, gonna click where it says,\nwork group, it's gonna open up my system\n\n122\n00:07:02.360 --> 00:07:09.200\nproperties, And I'll click,\nchange, and, underneath domain,\n\n123\n00:07:09.200 --> 00:07:14.320\nI'll choose domain,\nunderneath member of, type in my domain.\n\n124\n00:07:14.320 --> 00:07:17.910\nMake sure you use a fully\nqualified name there.\n\n125\n00:07:17.910 --> 00:07:23.240\nIn other words,\nIf your domain is mylab.ITpro.tv.\n\n126\n00:07:23.240 --> 00:07:24.560\nDon't just say lab.\n\n127\n00:07:24.560 --> 00:07:27.770\nLab is the net net bio's name for\nthe domain.\n\n128\n00:07:27.770 --> 00:07:29.160\nAnd sometimes it might work.\n\n129\n00:07:29.160 --> 00:07:30.090\nSometimes it might not.\n\n130\n00:07:30.090 --> 00:07:34.210\nYou really wanna use a fully\nqualified DNS name for that.\n\n131\n00:07:34.210 --> 00:07:37.640\nWe'll click OK,\nit's gonna prompt me for credentials.\n\n132\n00:07:37.640 --> 00:07:40.060\nBecause I'm log on with\na local admin account,\n\n133\n00:07:40.060 --> 00:07:43.230\nthat's the only thing I have at this point\nwe just installed the operating system.\n\n134\n00:07:43.230 --> 00:07:45.240\nBut my local admin\naccount has no rights and\n\n135\n00:07:45.240 --> 00:07:47.650\nactive directory to join\nthis machine to the domain.\n\n136\n00:07:47.650 --> 00:07:50.630\nI'm gonna need to create a computer\naccount active directory and\n\n137\n00:07:50.630 --> 00:07:54.570\nassociate this with that computer account,\nwhich means I need certain rights.\n\n138\n00:07:54.570 --> 00:08:00.433\nSo, I'm gonna specify, you can type out\nthe domainlab/administrator, for example.\n\n139\n00:08:00.433 --> 00:08:02.621\nMost of the time,\nyou really should do that.\n\n140\n00:08:02.621 --> 00:08:05.559\nIn this case, though,\nif you're lazy like me,\n\n141\n00:08:05.559 --> 00:08:10.660\nit's already assuming you're gonna\nuse a lab.itpro.tv account, right?\n\n142\n00:08:10.660 --> 00:08:16.100\nSo, you could just put that, and\nit's not using the local admin.\n\n143\n00:08:16.100 --> 00:08:18.792\nIt is using the Lab Administrator account.\n\n144\n00:08:18.792 --> 00:08:24.520\nAlthough for the show, I will go ahead and\ndo it the proper way, right?\n\n145\n00:08:24.520 --> 00:08:28.000\nSpecifying lab/administrator,\nwe will click OK,\n\n146\n00:08:28.000 --> 00:08:31.020\nactually get a welcome to\nthe lab at pro it domain.\n\n147\n00:08:31.020 --> 00:08:35.040\nI click OK, another thing that is\ngoing to require a restart, and\n\n148\n00:08:35.040 --> 00:08:37.370\nthis one I will go ahead and restart now.\n\n149\n00:08:37.370 --> 00:08:40.540\nWhen it comes back up,\nwe'll have a functioning domain member.\n\n150\n00:08:40.540 --> 00:08:43.100\nWe have a new server on our domain.\n\n151\n00:08:43.100 --> 00:08:46.990\nWhile we're waiting for it to reboot if\nwe go over to the domain controller and\n\n152\n00:08:46.990 --> 00:08:51.120\nI log in and I open up active directory I\n\n153\n00:08:53.460 --> 00:08:55.920\nreally should start using\nthe Administrative Center.\n\n154\n00:08:55.920 --> 00:08:59.790\nI'm still old school,\nlove my Users and Computers.\n\n155\n00:08:59.790 --> 00:09:01.720\nUnderneath Computers, there's Servo 1, so\n\n156\n00:09:01.720 --> 00:09:04.940\nI can see that it did\nsuccessfully create the account.\n\n157\n00:09:04.940 --> 00:09:08.010\nShould be a member of the domain,\ncome back over here.\n\n158\n00:09:08.010 --> 00:09:11.920\nAnother easy mistake to do when you first\njoin a server to the domain is go, look,\n\n159\n00:09:11.920 --> 00:09:12.960\nadministrator, go ahead and\n\n160\n00:09:12.960 --> 00:09:16.950\nlog in and then try to connect to domain\nresources and go, why can't I connect?\n\n161\n00:09:16.950 --> 00:09:18.360\nThat's the local admin account,\n\n162\n00:09:18.360 --> 00:09:22.620\nthe last account you were logged on with\nis the one that shows up on this screen.\n\n163\n00:09:22.620 --> 00:09:27.050\nSo, I need to do Other User down here\non the bottom left hand corner, and\n\n164\n00:09:27.050 --> 00:09:29.560\nnow it says, Sign in to LAB.\n\n165\n00:09:29.560 --> 00:09:32.620\nBut, if I do administrator,\nhere's another little gotcha.\n\n166\n00:09:32.620 --> 00:09:37.980\nIf I type administrator,\ndo you see that change from LAB to SERVO1?\n\n167\n00:09:37.980 --> 00:09:42.100\nWhen you type in just administrator,\nit assumes local and\n\n168\n00:09:42.100 --> 00:09:45.460\nit switches the context so\nlet’s take that out.\n\n169\n00:09:45.460 --> 00:09:48.170\nWhat if I wanna login with\nthe LAB administrator account?\n\n170\n00:09:48.170 --> 00:09:50.230\nI have to specify lab/administrator.\n\n171\n00:09:50.230 --> 00:09:56.590\n>> Now, mike what if the administrator\nwasn't name of our administrator accounts\n\n172\n00:09:56.590 --> 00:09:57.380\n>> And we typed it in,\n\n173\n00:09:57.380 --> 00:10:00.050\nwe still wanted to log in to locally.\n\n174\n00:10:00.050 --> 00:10:02.630\nDoes the little trick where you\ndo the dot slash still work?\n\n175\n00:10:02.630 --> 00:10:06.410\n>> It does still work, so if you want dot\nback slack for the local context, and\n\n176\n00:10:06.410 --> 00:10:09.230\nif you renamed your administrator\naccount other than administrator.\n\n177\n00:10:09.230 --> 00:10:13.340\nYour domain admin account, you could log\non without putting the LAD because it's\n\n178\n00:10:13.340 --> 00:10:15.620\nonly when has that the name and conflict.\n\n179\n00:10:15.620 --> 00:10:18.490\nThere is a local administrator and\na domain administrator,\n\n180\n00:10:18.490 --> 00:10:21.020\nsame name\n>> Doesn't know which one you're referring\n\n181\n00:10:21.020 --> 00:10:24.260\nto, because you didn't specify,\nso it's gonna default to local.\n\n182\n00:10:24.260 --> 00:10:26.300\nIf they don't have the same names,\nyou wouldn't have a problem.\n\n183\n00:10:26.300 --> 00:10:29.420\n>> I guess someone would say,\nwhy does it default to the local, Mike?\n\n184\n00:10:29.420 --> 00:10:31.160\nI guess because it has\nto default to something.\n\n185\n00:10:31.160 --> 00:10:33.260\n>> It has to default from something,\nexactly.\n\n186\n00:10:33.260 --> 00:10:35.860\nAnd they figure you shouldn't be logging\non with your admin domain account\n\n187\n00:10:35.860 --> 00:10:36.590\nanyway, right?\n\n188\n00:10:36.590 --> 00:10:37.910\n>> Yeah, that's something, yeah.\n\n189\n00:10:37.910 --> 00:10:40.020\nIt's not something I should be\nrunning around in my members' servers\n\n190\n00:10:40.020 --> 00:10:41.420\nlogging on with.\n\n191\n00:10:41.420 --> 00:10:42.440\nOnly for TV, my friends.\n\n192\n00:10:42.440 --> 00:10:47.180\nAll right, so now that we've got\nthe server with the desktop GUI interface\n\n193\n00:10:47.180 --> 00:10:49.250\nset up, let's try it out on core.\n\n194\n00:10:49.250 --> 00:10:51.730\nSo I'll flip over to my core machine, and\n\n195\n00:10:51.730 --> 00:10:54.870\nwe set the password when\nwe did our installation.\n\n196\n00:10:54.870 --> 00:10:59.679\nSo now we'll go ahead and\nlog on as that local admin.\n\n197\n00:11:00.680 --> 00:11:03.790\nI bumped up my font a little bit so\nwe could see this a little better.\n\n198\n00:11:03.790 --> 00:11:05.950\nWe wanted to do the same things.\n\n199\n00:11:05.950 --> 00:11:10.690\nWe wanted to set the name of the computer,\nset the IP address of that computer,\n\n200\n00:11:10.690 --> 00:11:12.820\nI want to join it to the domain.\n\n201\n00:11:12.820 --> 00:11:16.700\nBut I don't have the GUI interface, we\ndon't have server manager to click on and\n\n202\n00:11:16.700 --> 00:11:20.150\nopen up those little Dialogue boxes,\nso how do we do it from here?\n\n203\n00:11:20.150 --> 00:11:21.890\nWe do it with Powershell.\n\n204\n00:11:21.890 --> 00:11:24.960\nNow there is still a tool called s config.\n\n205\n00:11:24.960 --> 00:11:29.370\nS config still tend the server,\nbuilt in the server, and love this.\n\n206\n00:11:29.370 --> 00:11:32.740\nI mean it's so easy, because you\ndon't have to know the commands.\n\n207\n00:11:32.740 --> 00:11:35.970\nIf I wanna set the date and\ntime for example, and\n\n208\n00:11:35.970 --> 00:11:39.460\nhit a number 9 because that's\nthe option on my menu here.\n\n209\n00:11:39.460 --> 00:11:42.900\nI hit enter and\nI can change the time zone.\n\n210\n00:11:42.900 --> 00:11:45.850\nNow the time zone still\nhas a GUI interface\n\n211\n00:11:45.850 --> 00:11:49.880\nonly because it's too hard to\ncode every possible time zone.\n\n212\n00:11:49.880 --> 00:11:54.980\nIt's about the only GUI interface left,\nbut it was that easy, I knew the number\n\n213\n00:11:54.980 --> 00:11:58.370\nthat I wanted to hit, so if I wanted to do\nnetwork settings, I hit number 8 And it'll\n\n214\n00:11:58.370 --> 00:12:02.460\nsay well which network adapter do you want\nand I can type in the index number and so\n\n215\n00:12:02.460 --> 00:12:06.600\non and so forth, but\nthat's not what we are going to do.\n\n216\n00:12:06.600 --> 00:12:09.860\nBecause, we need to learn our powershell\n\n217\n00:12:09.860 --> 00:12:13.030\nbecause SConfig is going to be going\naway it won't be around forever\n\n218\n00:12:13.030 --> 00:12:16.360\nI don't even know if it will make it\ninto the final version of Server 2016.\n\n219\n00:12:16.360 --> 00:12:20.680\nBut Microsoft has said several\ntimes that if being depreciated, so\n\n220\n00:12:20.680 --> 00:12:22.120\ndon't get used to it.\n\n221\n00:12:22.120 --> 00:12:23.870\nLearn your power shell commands.\n\n222\n00:12:23.870 --> 00:12:25.180\nSo, let's switch to power shell.\n\n223\n00:12:25.180 --> 00:12:28.180\nI'm gonna type in power shell,\nnot power show.\n\n224\n00:12:29.930 --> 00:12:34.000\nAnd, you see my prompt changes, and now it\nsays ps alter at the front of my prompt,\n\n225\n00:12:34.000 --> 00:12:37.270\nso I can start using my\npower shell commands.\n\n226\n00:12:37.270 --> 00:12:40.370\nSo let's start by setting\nup my IP address.\n\n227\n00:12:40.370 --> 00:12:42.640\nCouple of commands we\nneed to be familiar with,\n\n228\n00:12:42.640 --> 00:12:44.680\njust first to get the current information.\n\n229\n00:12:44.680 --> 00:12:49.819\nLet me see what it's set at,\nso get-netipconfiguration,\n\n230\n00:12:52.299 --> 00:12:57.522\nAnd it gives me some basic information\nabout my IP address My default gateway,\n\n231\n00:12:57.522 --> 00:13:00.470\nand my DNS server information.\n\n232\n00:13:00.470 --> 00:13:03.020\nGood one,\nI like it because it's a short output.\n\n233\n00:13:03.020 --> 00:13:06.500\nIf all I need is the IP address,\nreally easy one to do.\n\n234\n00:13:06.500 --> 00:13:10.040\nAnother other one is get-netip.\n\n235\n00:13:10.040 --> 00:13:10.750\nAddress.\n\n236\n00:13:12.590 --> 00:13:14.230\nThis returns a lot more information.\n\n237\n00:13:14.230 --> 00:13:17.760\nAll of your virtual network adapters\nlike your tunnel addressing.\n\n238\n00:13:17.760 --> 00:13:20.080\nYour loop back address.\n\n239\n00:13:20.080 --> 00:13:22.130\nAll of that gets returned as well.\n\n240\n00:13:22.130 --> 00:13:23.250\nSo, a little more information.\n\n241\n00:13:23.250 --> 00:13:26.060\nYou gotta dig around and\nfind what you're looking for.\n\n242\n00:13:26.060 --> 00:13:27.750\nHere is my Ethernet zero.\n\n243\n00:13:27.750 --> 00:13:30.090\nThat would be my first network adapter.\n\n244\n00:13:30.090 --> 00:13:33.810\nAnd what I really wanna look\nat is the interface index.\n\n245\n00:13:33.810 --> 00:13:36.990\nYou can use the alias,\neither one of these, when you get a set or\n\n246\n00:13:36.990 --> 00:13:40.490\nwork with your network adaptor\nsettings through PowerShell.\n\n247\n00:13:40.490 --> 00:13:43.410\nYou've gotta identify the network\nadaptor that you're going to be\n\n248\n00:13:43.410 --> 00:13:45.170\ntrying to configure.\n\n249\n00:13:45.170 --> 00:13:46.950\nYou might have more than one in there.\n\n250\n00:13:46.950 --> 00:13:49.470\nYou can use Either the index,\nor the alias.\n\n251\n00:13:49.470 --> 00:13:52.360\nThe alias is the name,\nin this case, Ethernet 0.\n\n252\n00:13:52.360 --> 00:13:56.050\nRemember it used to be Local Area\nConnection, Local Area Connection 2,\n\n253\n00:13:56.050 --> 00:13:57.000\nthins like that.\n\n254\n00:13:57.000 --> 00:13:59.870\nOr, you can rename your network adapters,\nif you want.\n\n255\n00:13:59.870 --> 00:14:01.490\nSo, the alias can change around.\n\n256\n00:14:01.490 --> 00:14:04.840\nThat's why I, kinda,\nprefer going with the index.\n\n257\n00:14:04.840 --> 00:14:06.640\nit's also much shorter, and\n\n258\n00:14:06.640 --> 00:14:10.160\neasier to type,\nin my commands Because if I use the alias,\n\n259\n00:14:10.160 --> 00:14:14.300\nI have to put it inside quotes, I have\nto delimit it and treat it as a string.\n\n260\n00:14:14.300 --> 00:14:19.280\nBut either way, index or alias will work,\nthat's what we're looking for.\n\n261\n00:14:19.280 --> 00:14:23.050\nSo I can see that I do have an IP address,\nbut it's a DHCP address.\n\n262\n00:14:23.050 --> 00:14:28.340\nAll right, and\nI want to statically map this guy, so\n\n263\n00:14:28.340 --> 00:14:35.690\nto set my IP address New, I'm sorry,\nyeah, new, dash net IP address.\n\n264\n00:14:35.690 --> 00:14:40.230\nBut I can't just hit enter,\nI got perimeters that I have to\n\n265\n00:14:40.230 --> 00:14:44.370\nsupply with this like the IP address,\nthe subnet mask, and so on.\n\n266\n00:14:44.370 --> 00:14:52.190\nSo let's do dash interface index,\nthose I could do alias Or index.\n\n267\n00:14:52.190 --> 00:14:55.470\nI know that was index 4, we just saw it\nin the output of the previous command.\n\n268\n00:14:55.470 --> 00:15:00.036\nSo now it knows what numeric\nadapter I'm trying to modify and\n\n269\n00:15:00.036 --> 00:15:07.520\nthen we're going to do a dash\nIP address 10.1.1.199.\n\n270\n00:15:07.520 --> 00:15:11.839\nAnd then I also need to\nset the prefix length\n\n271\n00:15:14.110 --> 00:15:16.230\nWhich is like,\nwhich is my subnet mask, right, but\n\n272\n00:15:16.230 --> 00:15:19.740\ninstead of denoting it as a subnet mask,\nuse the prefix length,\n\n273\n00:15:19.740 --> 00:15:25.920\nthe classless inner domain routing\ncidr notation slash 24 for a class c.\n\n274\n00:15:25.920 --> 00:15:33.833\nSo, I'm just going to put 24 dash\ndefault gateway 10.1.1.2 for\n\n275\n00:15:33.833 --> 00:15:38.180\nmy network, and then -, that should\nbe it actually, I take that back.\n\n276\n00:15:38.180 --> 00:15:43.610\nSo we'll take away that last dash, we'll\nhit enter, and we should be good to go.\n\n277\n00:15:43.610 --> 00:15:45.810\nThere is my new information.\n\n278\n00:15:45.810 --> 00:15:48.780\nI can see the IP address that I just set,\n\n279\n00:15:48.780 --> 00:15:52.650\n1.199 That's about all\nI can see from there.\n\n280\n00:15:52.650 --> 00:15:55.849\nIt doesn't show me the subnet mask or\nanything.\n\n281\n00:15:55.849 --> 00:15:57.251\nPrefix length, there it is, I lied.\n\n282\n00:15:57.251 --> 00:15:59.803\n24 right.\n\n283\n00:15:59.803 --> 00:16:04.951\nSo, now we've got our IP address set,\nbut Daniel what did we miss?\n\n284\n00:16:04.951 --> 00:16:07.341\nWhen you're thinking about\nyour TCP/IP settings,\n\n285\n00:16:07.341 --> 00:16:10.966\nyou've got IP address subnet mask,\ndefault gateway, what's that last part?\n\n286\n00:16:10.966 --> 00:16:14.437\n>> This is the best one right,\ncuz we can't live without it and\n\n287\n00:16:14.437 --> 00:16:16.939\nwe don't think about it from time to time,\n\n288\n00:16:16.939 --> 00:16:21.660\nyou'll run through every stinking IP\nconfiguration can think of you forgot,\n\n289\n00:16:21.660 --> 00:16:26.328\nyeah, I have to actually translate this\ninto a human-readable format, DNS.\n\n290\n00:16:26.328 --> 00:16:27.079\nOur good old friend, DNS.\n>> Yeah.\n\n291\n00:16:27.079 --> 00:16:28.235\nExactly.\n\n292\n00:16:28.235 --> 00:16:31.870\nWe've gotta have an IP address for a DNS\nserver so my server can resolve names.\n\n293\n00:16:31.870 --> 00:16:34.056\nRight?\nAnd, when you do it in the GUI,\n\n294\n00:16:34.056 --> 00:16:36.200\nit's all in that one screen.\n\n295\n00:16:36.200 --> 00:16:39.940\nYou've gone to your IPv4 settings, you've\ngot your IP address, your subnet mask,\n\n296\n00:16:39.940 --> 00:16:41.570\nyour default gateway, preferred and\n\n297\n00:16:41.570 --> 00:16:44.510\nalternate DNS server,\nall staring at you in the face.\n\n298\n00:16:44.510 --> 00:16:46.060\nSo, it's really hard to forget.\n\n299\n00:16:46.060 --> 00:16:47.459\nWhen you're doing it for\n\n300\n00:16:47.459 --> 00:16:52.840\na command line like this or in PowerShell,\nthat command DNS is a different command.\n\n301\n00:16:52.840 --> 00:16:56.160\nSo it's easy to forget to go and\nset your DNS settings.\n\n302\n00:16:56.160 --> 00:16:58.790\nSo you set your IP address,\nyou get your subnet mask,\n\n303\n00:16:58.790 --> 00:17:01.210\nyour default gateway You go\nto join it to the domain,\n\n304\n00:17:01.210 --> 00:17:05.260\nit says unable to resolve to the name of\nthe domain controller, process failed.\n\n305\n00:17:05.260 --> 00:17:06.480\nWhat happened?\n\n306\n00:17:06.480 --> 00:17:09.120\nI didn't set my DNS server\naddresses properly.\n\n307\n00:17:09.120 --> 00:17:14.367\nSo that's gonna be set- dnsclientserver,\n\n308\n00:17:14.367 --> 00:17:19.757\nwhoops, dnsclientserver address, right?\n\n309\n00:17:19.757 --> 00:17:24.497\nset- dnsclientserver address is\nthe command,- interface index,\n\n310\n00:17:24.497 --> 00:17:29.380\nI still have to tell it which one\nI'm dealing with, index or alias.\n\n311\n00:17:29.380 --> 00:17:33.280\nI'm gonna go with index\n4,- server addresses.\n\n312\n00:17:34.460 --> 00:17:38.500\nAnd it is plural, addresses, because\nwe can list more than one DNS server.\n\n313\n00:17:38.500 --> 00:17:42.685\nYou always should, you need at least two,\nthat way if the first one fails,\n\n314\n00:17:42.685 --> 00:17:46.338\nthen it has an alternate otherwise\nyou are not resolving names and\n\n315\n00:17:46.338 --> 00:17:49.477\nit's simply a comma separated\nlist is all you gonna do.\n\n316\n00:17:49.477 --> 00:17:54.773\nSo 10,1.1.200 from my domain controller\nI'm just gonna do a little Google\n\n317\n00:17:54.773 --> 00:17:59.920\n2.8.8.8 for my second which I'll only\nhave one DNS server on this network,\n\n318\n00:17:59.920 --> 00:18:02.920\nI hit Enter, no red text is a good thing.\n\n319\n00:18:02.920 --> 00:18:08.251\nWe could do our get-NetIPConfiguration.\n\n320\n00:18:08.251 --> 00:18:10.760\nI can see my IP address is set properly.\n\n321\n00:18:10.760 --> 00:18:13.664\nMy DNS servers are set properly as well.\n\n322\n00:18:13.664 --> 00:18:20.692\nIf I get out of PowerShell,\nthen I do an ipconfig.\n\n323\n00:18:20.692 --> 00:18:23.950\nAnd you can do an ipconfig from PowerShell\nbut it's not a PowerShell command.\n\n324\n00:18:23.950 --> 00:18:27.470\nI can see there's my subnet mask,\nit gets that properly.\n\n325\n00:18:27.470 --> 00:18:31.600\nSo everything looks good as\nfar as my TCP/IP settings.\n\n326\n00:18:31.600 --> 00:18:36.840\nSo the next thing we want to do\nIs join this guy to the domain.\n\n327\n00:18:38.100 --> 00:18:41.056\nSo we get back into PowerShell for\nthat goodness.\n\n328\n00:18:41.056 --> 00:18:47.550\nIf you needed to add a person\nto the Local admins group.\n\n329\n00:18:47.550 --> 00:18:50.850\nLike let's say you were trying to,\nI don't even know how you would do that,\n\n330\n00:18:50.850 --> 00:18:52.220\nif it's even worth saying.\n\n331\n00:18:53.560 --> 00:18:55.570\nThere is a net command you can use,\n\n332\n00:18:55.570 --> 00:19:00.330\nnet space local group, to add an account\nto the local administrators group.\n\n333\n00:19:00.330 --> 00:19:05.350\nSo if you had installed this,\nit log on as the local administrator,\n\n334\n00:19:05.350 --> 00:19:07.500\ncreated another local account and\n\n335\n00:19:07.500 --> 00:19:10.060\nthen we're logged on with that local\naccount trying to do this process.\n\n336\n00:19:10.060 --> 00:19:11.740\nIt would not have\nan administrative rights.\n\n337\n00:19:11.740 --> 00:19:13.716\nYou can add it to the local admins group.\n\n338\n00:19:13.716 --> 00:19:16.750\nI'm logged on as a local admin so\nI don't have to worry about that.\n\n339\n00:19:16.750 --> 00:19:18.500\nRemember, to join\na computer to the domain,\n\n340\n00:19:18.500 --> 00:19:22.350\nyou need administrative\nrights on the machine.\n\n341\n00:19:22.350 --> 00:19:28.870\nSo I'm gonna skip that and\nwe're just gonna do rename -computer.\n\n342\n00:19:28.870 --> 00:19:31.130\nAnd it says all right,\nwell what do you want to call it?\n\n343\n00:19:31.130 --> 00:19:33.800\nThe new name is gonna be core01.\n\n344\n00:19:35.180 --> 00:19:40.765\nIt says the changes will take effect\nwhen you restart the computer and\n\n345\n00:19:40.765 --> 00:19:43.567\nso let's do a shutdown -r -t 0.\n\n346\n00:19:43.567 --> 00:19:47.658\nYou could also do a Ctrl+Alt+Delete and\nyou get a little tiny list and\n\n347\n00:19:47.658 --> 00:19:51.910\nyou can choose sign out,\nshut down or restart from there.\n\n348\n00:19:51.910 --> 00:19:53.230\nWhen I've got my command prompt open,\n\n349\n00:19:53.230 --> 00:19:55.070\nI find it just as easy to type and\nshut down.\n\n350\n00:19:56.280 --> 00:19:57.450\nSo let this reboot real quick.\n\n351\n00:19:57.450 --> 00:20:02.080\nThat'll make that name change take effect,\nand we'll log back in\n\n352\n00:20:04.340 --> 00:20:09.050\nas a local administrator still, and\n\n353\n00:20:09.050 --> 00:20:15.854\nif I do a hostname,\nThere is my name, core01.\n\n354\n00:20:15.854 --> 00:20:18.560\nAll right, back into PowerShell, and\n\n355\n00:20:18.560 --> 00:20:24.190\nthe last thing we wanna do is try to\ninstall, well next to last thing I guess.\n\n356\n00:20:24.190 --> 00:20:26.230\nWe need to join into the domain, right?\n\n357\n00:20:26.230 --> 00:20:33.330\nSo how do we do that, well we simply\ntype add- computer, and that's it.\n\n358\n00:20:33.330 --> 00:20:34.150\nWe hit Enter.\n\n359\n00:20:34.150 --> 00:20:36.960\nThat's all we have to do, but\nthat's how we start the process.\n\n360\n00:20:36.960 --> 00:20:37.749\n>> Get the ball rolling.\n\n361\n00:20:37.749 --> 00:20:40.690\n>> Yes, and it says,\nwell wait, who are you?\n\n362\n00:20:40.690 --> 00:20:44.880\nDo you have permissions\nto do this operation?\n\n363\n00:20:44.880 --> 00:20:50.300\nAnd I'm gonna say Lab/administrator.\n\n364\n00:20:54.633 --> 00:20:58.671\nAnd the name of the domain is going to be,\ncuz I provided my domain credentials,\n\n365\n00:20:58.671 --> 00:21:01.305\nI have permission to join\nthe computer as a domain.\n\n366\n00:21:01.305 --> 00:21:05.650\nLab.itpro.tv full qualified domain,\n\n367\n00:21:07.040 --> 00:21:10.750\nand again it tells me I've gotta\nrestart for the changes to take effect.\n\n368\n00:21:10.750 --> 00:21:13.590\nThis time I'll show you\nthe Ctrl+Alt+Delete.\n\n369\n00:21:13.590 --> 00:21:14.660\nAnd I'll zoom in.\n\n370\n00:21:14.660 --> 00:21:15.969\nThere's my little list.\n\n371\n00:21:15.969 --> 00:21:21.590\nI'm gonna choose to,\nit does not give me, interesting.\n\n372\n00:21:21.590 --> 00:21:24.910\nI thought it gave me the option\nto reboot the machine.\n\n373\n00:21:24.910 --> 00:21:25.410\nIt does not.\n\n374\n00:21:26.790 --> 00:21:32.145\nSo, in that case,\nanother shutdown -r -t 0.\n\n375\n00:21:32.145 --> 00:21:36.006\nIf you're not familiar with\nthat command shutdown,\n\n376\n00:21:36.006 --> 00:21:40.716\nyou can do a -r to reboot,\na -s to shut it down, -t for time, and\n\n377\n00:21:40.716 --> 00:21:44.640\nthen a 0 for,\nit's gonna do this immediately.\n\n378\n00:21:44.640 --> 00:21:48.780\nIf I did a -t 10, it'd give me\na 10 second warning that, hey,\n\n379\n00:21:48.780 --> 00:21:50.780\nI'm getting ready to reboot the server.\n\n380\n00:21:50.780 --> 00:21:52.790\nNice if other people\nare connected to the server.\n\n381\n00:21:53.990 --> 00:21:55.710\nThey're not in this case so\nwe're good to go.\n\n382\n00:21:57.660 --> 00:21:58.410\nWe'll reboot that.\n\n383\n00:22:02.160 --> 00:22:04.330\nLet that come back up and\nwe'll log back in.\n\n384\n00:22:04.330 --> 00:22:06.500\nAt this point,\nit should be part of the domain.\n\n385\n00:22:06.500 --> 00:22:09.287\nIn fact,\nlet's go check out my domain controller.\n\n386\n00:22:12.740 --> 00:22:21.450\nAnd Active Directory uses the computers,\nAnd there is Core01.\n\n387\n00:22:21.450 --> 00:22:22.760\nSo, it didn't make that computer account,\n\n388\n00:22:22.760 --> 00:22:26.060\nwhich is a good indication that\nmy domain join process succeeded.\n\n389\n00:22:27.880 --> 00:22:31.440\nBack to my Core, we'll log in.\n\n390\n00:22:31.440 --> 00:22:32.480\nThis time,\n\n391\n00:22:32.480 --> 00:22:36.320\nI wanna log in as the domain admin,\nsame thing when we were sitting at a GUI.\n\n392\n00:22:36.320 --> 00:22:39.246\nIt's gonna default to that local admin,\nthat was the last account I used.\n\n393\n00:22:39.246 --> 00:22:44.430\nIf I zoom in, you see it says enter\ncredentials or hit ESC to switch users.\n\n394\n00:22:44.430 --> 00:22:50.480\nSo that's what I'm gonna do, I'm gonna\nhit ESC and select a sign in option.\n\n395\n00:22:50.480 --> 00:22:54.520\nWe might have enabled biometrics or\nsomething else that could show up here,\n\n396\n00:22:54.520 --> 00:22:55.110\ncertificates.\n\n397\n00:22:55.110 --> 00:22:57.040\n>> So we can use all those\nadvanced features inside\n\n398\n00:22:57.040 --> 00:22:58.145\nthe Core operating system as well?\n\n399\n00:22:58.145 --> 00:22:59.080\n>> Mm-hm absolutely.\n>> That's very nice.\n\n400\n00:22:59.080 --> 00:23:00.350\n>> Yeah, very cool.\n\n401\n00:23:00.350 --> 00:23:02.005\n>> So I'll choose password as my method.\n\n402\n00:23:02.005 --> 00:23:08.030\nSee if the switch users,\nsign in method should, let's see, ESC.\n\n403\n00:23:09.420 --> 00:23:10.890\nMy bad, I gotta hit ESC twice.\n\n404\n00:23:10.890 --> 00:23:12.780\nThe first ESC brings me to this.\n\n405\n00:23:12.780 --> 00:23:17.250\nSelect a sign-in option for administrator\nor hit ESC again to switch users.\n\n406\n00:23:17.250 --> 00:23:20.770\nSo ESC one more time,\nnow I can do other user.\n\n407\n00:23:21.840 --> 00:23:27.160\nAnd user name is gonna\nbe Administrator and\n\n408\n00:23:27.160 --> 00:23:30.550\nsee what it did,\nit defaulted to that local.\n\n409\n00:23:30.550 --> 00:23:38.782\nSo even in here, you're going to have to\nspecify even though, let me zoom back out.\n\n410\n00:23:38.782 --> 00:23:42.059\nIt says sign into lab but if I type\nadministrator, it's not going to work.\n\n411\n00:23:42.059 --> 00:23:46.509\nSo if I do lab / administrator,\nthat forces it to stay in the domain\n\n412\n00:23:46.509 --> 00:23:50.310\ncontext and\nnot switch over to the local context.\n\n413\n00:23:50.310 --> 00:23:52.127\nType in my super secret password.\n\n414\n00:23:53.916 --> 00:23:58.265\nAnd there we go,\nwe are now logged in as the domain\n\n415\n00:23:58.265 --> 00:24:03.053\nadmin which means that it is\nindeed part of my domain.\n\n416\n00:24:03.053 --> 00:24:05.832\nAll right,\nthe last thing I want to talk about here,\n\n417\n00:24:05.832 --> 00:24:09.510\nwell I keep saying that, I just keep\ncoming up with more cool things.\n\n418\n00:24:09.510 --> 00:24:12.070\n>> This is it, right,\nwe've come to the end of the line, but no.\n\n419\n00:24:12.070 --> 00:24:13.830\n>> No, there's so much more\n>> Plenty more.\n\n420\n00:24:13.830 --> 00:24:15.900\n[LAUGH]\n>> All right, last thing I want to do,\n\n421\n00:24:15.900 --> 00:24:20.600\nlast thing I want to show you\nis turning a product key,\n\n422\n00:24:20.600 --> 00:24:23.750\nhow do I do that, how do I\n>> Insert my company's key so\n\n423\n00:24:23.750 --> 00:24:27.830\nthis thing doesn't balk at me,\nit's activated, all that good stuff.\n\n424\n00:24:27.830 --> 00:24:29.410\nWhen we did it on the GUI, remember,\n\n425\n00:24:29.410 --> 00:24:32.650\nwe inserted that product\nkey at the beginning.\n\n426\n00:24:32.650 --> 00:24:34.670\nDid we do one on Core?\n\n427\n00:24:34.670 --> 00:24:35.820\nYou know, I take that back.\n\n428\n00:24:35.820 --> 00:24:37.840\nI did type n a key when we installed core.\n\n429\n00:24:37.840 --> 00:24:40.100\n>> Right,\nbecause it's during the installation.\n\n430\n00:24:40.100 --> 00:24:42.510\n>> Right, it's during the installation,\nso I take that back.\n\n431\n00:24:42.510 --> 00:24:49.090\nI do wanna show you though,\nyou can do an SLMGR switch IPK.\n\n432\n00:24:49.090 --> 00:24:54.600\nIf you ever need to change your product\nkey, if you installed it with a demo key,\n\n433\n00:24:54.600 --> 00:24:56.620\nnow you wanna switch over to your\ncorporate key or what have you,\n\n434\n00:24:57.720 --> 00:25:04.970\nit's SL MGR is the server license manager,\nthat's what that stands for.\n\n435\n00:25:04.970 --> 00:25:08.700\nAnd then the switch IPK will allow\nyou to insert a product key.\n\n436\n00:25:08.700 --> 00:25:12.230\nAll these things I'm clicking OK to,\nall the different switches, for\n\n437\n00:25:12.230 --> 00:25:15.940\nsome reason they give you multiple windows\nwith all the different switches when you\n\n438\n00:25:15.940 --> 00:25:17.890\ntry to get some help on that so.\n\n439\n00:25:17.890 --> 00:25:21.570\nGood one to know,\nif you need to change that product key.\n\n440\n00:25:21.570 --> 00:25:25.110\nAlso configuring the firewall,\nis something else I want to do,\n\n441\n00:25:25.110 --> 00:25:27.890\nbecause I need to set this up for\nremote administration.\n\n442\n00:25:27.890 --> 00:25:30.540\nI don't want to spend my days\nstaring at this command prompt.\n\n443\n00:25:30.540 --> 00:25:37.070\nI'll probably remote into it or\nremotely manage it from my Windows 10 box,\n\n444\n00:25:37.070 --> 00:25:41.410\nusing my Server Manager tools, something\nwe'll talk about in future episodes.\n\n445\n00:25:41.410 --> 00:25:43.720\nSo I very rarely log into this.\n\n446\n00:25:43.720 --> 00:25:46.320\nBut I do need to get it set up for\nremote administration, so\n\n447\n00:25:46.320 --> 00:25:47.730\nthat I can connect to it remotely.\n\n448\n00:25:47.730 --> 00:25:50.970\nAnd in Server 2016, guess what?\n\n449\n00:25:52.280 --> 00:25:53.995\nRemote administration\nis enabled by default.\n\n450\n00:25:53.995 --> 00:25:55.470\nTa-da.\n\n451\n00:25:55.470 --> 00:25:56.430\n>> I know, isn't that nice?\n\n452\n00:25:56.430 --> 00:25:57.570\n>> Now we're thinking ahead.\n\n453\n00:25:57.570 --> 00:25:59.310\nGood for Microsoft.\n\n454\n00:25:59.310 --> 00:26:00.910\n>> It really is nice.\n\n455\n00:26:00.910 --> 00:26:04.930\nIf we go over here to my domain controller\nagain, and I go to Server Manager, and\n\n456\n00:26:04.930 --> 00:26:07.690\nI go to All Servers.\n\n457\n00:26:07.690 --> 00:26:11.240\nWe'll talk about remote management,\ndon't worry, in upcoming episodes.\n\n458\n00:26:11.240 --> 00:26:12.850\nThis is just like a little teaser.\n\n459\n00:26:12.850 --> 00:26:17.900\nI can right click at servers and let's say\nI just want to find all my servers and\n\n460\n00:26:17.900 --> 00:26:23.050\nI'm going to grab Server 1 and\nCore, add them over and click OK.\n\n461\n00:26:23.050 --> 00:26:26.580\nWe'll cover how to do that\nin a future episode and\n\n462\n00:26:26.580 --> 00:26:28.230\nlet's give it just a second here.\n\n463\n00:26:28.230 --> 00:26:30.480\nAnd you can see everything populating.\n\n464\n00:26:30.480 --> 00:26:32.229\nAnd I haven't done anything to Server 1.\n\n465\n00:26:32.229 --> 00:26:35.730\nI haven't done anything to Core as far\nas firewalls and remote management go.\n\n466\n00:26:35.730 --> 00:26:38.620\nUsed to be we had to enable\nthe firewall rules and\n\n467\n00:26:38.620 --> 00:26:41.060\nwe had to enable remote management.\n\n468\n00:26:41.060 --> 00:26:42.890\nNow it's enabled by default.\n\n469\n00:26:42.890 --> 00:26:47.110\nSo I can at this point right click\non Core and choose Add Rules and\n\n470\n00:26:47.110 --> 00:26:49.710\nFeatures, and launch my Add Rule and\nFeature wizard.\n\n471\n00:26:49.710 --> 00:26:54.550\nI can start configuring that core\nfrom my Windows 10 desktop, or\n\n472\n00:26:54.550 --> 00:26:57.100\nfrom another server that does have a GUI.\n\n473\n00:26:57.100 --> 00:26:57.910\nSo just some things,\n\n474\n00:26:57.910 --> 00:27:01.490\nagain, some little teasers of some\nthings we'll see in future episodes.\n\n475\n00:27:01.490 --> 00:27:02.980\nBut Daniel, that's about it, I think.\n\n476\n00:27:02.980 --> 00:27:05.552\nI've finally run out of,\nbut wait, there's one more.\n\n477\n00:27:05.552 --> 00:27:07.467\n>> [LAUGH] The last\nthing you wanna show us.\n\n478\n00:27:07.467 --> 00:27:08.582\n>> Yeah.\n[LAUGH] The last,\n\n479\n00:27:08.582 --> 00:27:10.120\nlast thing I wanna show you.\n\n480\n00:27:10.120 --> 00:27:11.063\nWe did good.\n\n481\n00:27:11.063 --> 00:27:14.923\nWe've got a Core installed, and\na Core installed, both of them\n\n482\n00:27:14.923 --> 00:27:19.620\nwith their base configuration,\nnamed TCIP, join it to the domain.\n\n483\n00:27:19.620 --> 00:27:21.600\nSo, we are up and\nrunning with our two servers now.\n\n484\n00:27:21.600 --> 00:27:23.840\n>> Yeah, straightforward meat and\npotatoes kinda thing.\n\n485\n00:27:23.840 --> 00:27:26.940\nYou can now get Server 2016 installed,\nrunning,\n\n486\n00:27:26.940 --> 00:27:30.020\nconfigured to where it's\nactually a member of a domain.\n\n487\n00:27:30.020 --> 00:27:31.270\nThat is always a nice thing.\n\n488\n00:27:31.270 --> 00:27:34.640\nNow, you can start to play with these\nthings if you're building a lab at home,\n\n489\n00:27:34.640 --> 00:27:36.660\nso that you can experiment and learn.\n\n490\n00:27:36.660 --> 00:27:40.270\nCuz that's probably a good idea when\nit comes to doing something like this,\n\n491\n00:27:40.270 --> 00:27:43.060\nthat hands-on approach is invaluable.\n\n492\n00:27:43.060 --> 00:27:44.580\nMike did a great job in explaining it for\n\n493\n00:27:44.580 --> 00:27:48.290\nus and how easy it can be to\nget these things working.\n\n494\n00:27:48.290 --> 00:27:52.520\nAnd even with working inside of Core,\nwhere it's all text and PowerShells and\n\n495\n00:27:52.520 --> 00:27:53.470\ngood things like that.\n\n496\n00:27:53.470 --> 00:27:54.270\nStill not too difficult.\n\n497\n00:27:54.270 --> 00:27:57.800\nYou just have to know a couple of commands\nand, you showed us those as well.\n\n498\n00:27:57.800 --> 00:27:59.020\nSo, thank you for that.\n\n499\n00:27:59.020 --> 00:28:02.050\nBut, it looks like we've come\nto the end of our time today.\n\n500\n00:28:02.050 --> 00:28:05.060\nWe thank you guys for watching and\njoining us, but it's time to sign off.\n\n501\n00:28:05.060 --> 00:28:07.370\nFor IT Pro TV,\nI've been your host, Daniel Lowry.\n\n502\n00:28:07.370 --> 00:28:08.260\n>> And I'm Mike Rodrick.\n\n503\n00:28:08.260 --> 00:28:09.250\n>> We'll see you next time.\n\n504\n00:28:09.250 --> 00:28:18.400\n[MUSIC]\n\n",
          "vimeoId": "178639003"
        },
        {
          "description": "In this episode, Daniel and Mike continue taking you through installing, upgrading, and migrating to Windows Server 2016. Here they introduce you to the Desired State Configuration(DSC) which enables deploying and managing configuration data for software services and managing the environment in which these services run.",
          "length": "1634",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-3-install_upgrade_and_migrate_pt3-080916-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-3-install_upgrade_and_migrate_pt3-080916-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-3-install_upgrade_and_migrate_pt3-080916-1-sm.jpg",
          "title": "Install, Upgrade and Migrate Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.765 --> 00:00:16.170\nAll right, greetings everyone and\nwelcome to another episode of IT Pro TV.\n\n3\n00:00:16.170 --> 00:00:20.439\nI'm your host Daniel Lowry, and in today's\nepisode we continue on our series with\n\n4\n00:00:20.439 --> 00:00:23.981\ninstallation stores and\ncompute with Microsoft Windows 2016.\n\n5\n00:00:23.981 --> 00:00:25.800\nAnd joining me in the studio yet\n\n6\n00:00:25.800 --> 00:00:29.595\nagain to lend his expertise on that topic\nis our good friend Michael Rodrick.\n\n7\n00:00:29.595 --> 00:00:31.085\nMike, welcome back sir, how's it going?\n\n8\n00:00:31.085 --> 00:00:33.675\n>> Thank you very much,\nglad to be back, it's going great.\n\n9\n00:00:33.675 --> 00:00:35.715\nI'm excited because we are doing\none of my favorite topics,\n\n10\n00:00:35.715 --> 00:00:38.525\nwhich is Windows Server 2016.\n\n11\n00:00:38.525 --> 00:00:39.662\nAnd in this episode,\n\n12\n00:00:39.662 --> 00:00:44.095\nwe're gonna be focusing in on something\ncalled the desired state configuration.\n\n13\n00:00:44.095 --> 00:00:47.965\nThis is something that's, I'm trying\nto think of when, I can't remember for\n\n14\n00:00:47.965 --> 00:00:49.193\nsure when this came out.\n\n15\n00:00:49.193 --> 00:00:52.360\nR2, 2008, R2,\n2012 It's been a little while.\n\n16\n00:00:52.360 --> 00:00:56.900\nIt's not a brand new feature but\nit is a very powerful feature.\n\n17\n00:00:56.900 --> 00:00:59.990\nAnd it's something that is gonna be\ncalled out most likely on the exam.\n\n18\n00:00:59.990 --> 00:01:03.040\nSo, let's take a look at it,\ncuz it's something, like you said,\n\n19\n00:01:03.040 --> 00:01:05.450\nyou're gonna need to know for\nthe exam, and in the real world.\n\n20\n00:01:05.450 --> 00:01:08.006\nI mean,\nit's one of those things that just,\n\n21\n00:01:08.006 --> 00:01:11.571\nit can make your life if your job\nis to administer your servers,\n\n22\n00:01:11.571 --> 00:01:16.418\nset up new servers, make sure that those\nservers are in their desired state, right,\n\n23\n00:01:16.418 --> 00:01:20.360\nwhich means have the roles and\nfeatures and everything set up.\n\n24\n00:01:20.360 --> 00:01:24.088\nThis can make your life a whole lot\neasier, if I haven't said that already\n\n25\n00:01:24.088 --> 00:01:24.714\n>> [LAUGH]\n\n26\n00:01:24.714 --> 00:01:25.280\n>> All right.\n\n27\n00:01:25.280 --> 00:01:26.050\nSo let's take a look at it.\n\n28\n00:01:26.050 --> 00:01:29.113\nFirst of all, DSC,\nDesired State Configuration,\n\n29\n00:01:29.113 --> 00:01:33.091\nis what we're gonna be doing and\nit's an extension to PowerShell.\n\n30\n00:01:33.091 --> 00:01:36.882\nAnd it allows me to do what I\nwas just saying automate or\n\n31\n00:01:36.882 --> 00:01:42.240\nscript the ability to add roles and\nfeatures and maintain that state.\n\n32\n00:01:42.240 --> 00:01:46.140\nYou might say to yourself well, Mike,\nwe can do that with PowerShell already.\n\n33\n00:01:46.140 --> 00:01:50.350\nWe can script out ad dash and\nWindows feature and\n\n34\n00:01:50.350 --> 00:01:52.870\nwe can write some scripts to do that.\n\n35\n00:01:52.870 --> 00:01:56.470\nYes you can, but you're still\ngonna have to run those scripts.\n\n36\n00:01:56.470 --> 00:02:01.220\nAnd with the desired state configuration,\nwe can do a little bit more and\n\n37\n00:02:01.220 --> 00:02:03.950\nwe can start automating the process.\n\n38\n00:02:03.950 --> 00:02:06.940\nAnd, that's the key to\nmanaging large environments,\n\n39\n00:02:06.940 --> 00:02:10.500\nit's setting it up to where it's not\nsomething to have to remember to do.\n\n40\n00:02:10.500 --> 00:02:12.260\nWe could talk a PowerShell script or\n\n41\n00:02:12.260 --> 00:02:16.110\nPF one script and\nmaybe make a scheduled task out of it but\n\n42\n00:02:16.110 --> 00:02:21.265\nthe desired state configuration, I don't\nknow if you can tell, I really like it.\n\n43\n00:02:21.265 --> 00:02:23.910\n>> [LAUGH]\n>> It's one of those things that\n\n44\n00:02:23.910 --> 00:02:25.810\nI don't even feel like\nI've mastered it yet.\n\n45\n00:02:25.810 --> 00:02:27.010\nThere's so much to it.\n\n46\n00:02:27.010 --> 00:02:28.950\nThere's so much that it can do.\n\n47\n00:02:28.950 --> 00:02:30.110\nIt's very impressive.\n\n48\n00:02:30.110 --> 00:02:32.260\nSo, we know what it is.\n\n49\n00:02:32.260 --> 00:02:36.350\nIt's basically an extension to PS1\nthat allows me to do configuration\n\n50\n00:02:36.350 --> 00:02:40.950\non my Windows Servers and\nit allows me to automate the process.\n\n51\n00:02:40.950 --> 00:02:45.620\nNow the way it works,\nthere's several things that it can do.\n\n52\n00:02:45.620 --> 00:02:47.850\nWe'll just call them things for\nnow, right?\n\n53\n00:02:47.850 --> 00:02:50.410\nLike, we can install or\nremove server roles and\n\n54\n00:02:50.410 --> 00:02:52.040\nfeatures, we already said that one.\n\n55\n00:02:52.040 --> 00:02:53.670\nWe can manage registry settings.\n\n56\n00:02:53.670 --> 00:02:57.060\nWe can create files and\nfolders and manage directories.\n\n57\n00:02:57.060 --> 00:03:00.150\nWe can start and\nstop processes and services.\n\n58\n00:03:00.150 --> 00:03:02.940\nWe can manage local groups and users.\n\n59\n00:03:02.940 --> 00:03:05.680\nWe can work with MSI's and\nexecutables there.\n\n60\n00:03:05.680 --> 00:03:09.490\nWe can work with zip files,\nwe can uncompress zip files.\n\n61\n00:03:09.490 --> 00:03:12.660\nWe can run power shell scripts and\nwe can fix things.\n\n62\n00:03:12.660 --> 00:03:14.740\nThat's the really cool part about it,\n\n63\n00:03:14.740 --> 00:03:18.460\nis we can have it examine a server,\ncheck it's current state,\n\n64\n00:03:18.460 --> 00:03:23.630\nand if it doesn't match our desired state,\nit fixes it, right?\n\n65\n00:03:23.630 --> 00:03:26.570\nIt goes through remediation and\nit fixes the problem.\n\n66\n00:03:26.570 --> 00:03:31.520\nAnd we can, of course, discover the actual\nconfiguration of a node with this as well.\n\n67\n00:03:33.070 --> 00:03:36.970\nNow what we're gonna be using, and\nlet's take a look at my screen now.\n\n68\n00:03:36.970 --> 00:03:40.060\nSorry, I kind of hinted to our switchers\nthat we're gonna be viewing something,\n\n69\n00:03:40.060 --> 00:03:41.880\nthat's why they switched early.\n\n70\n00:03:41.880 --> 00:03:44.360\nWe've got what we called\nbuilt in providers and\n\n71\n00:03:44.360 --> 00:03:47.860\nthis is where the power comes for\nmy desired stake figuration.\n\n72\n00:03:47.860 --> 00:03:52.070\nThere's different resources these\nproviders that give me access or\n\n73\n00:03:52.070 --> 00:03:55.720\ngive us access to this different\nthings that I say we could do.\n\n74\n00:03:55.720 --> 00:03:57.950\nThere's a log provider and\n\n75\n00:03:57.950 --> 00:04:01.020\nthat's gonna allow me to post\nmessages into my log file system.\n\n76\n00:04:01.020 --> 00:04:03.620\nThere's an environment provider,\nthere's a registry provider,\n\n77\n00:04:03.620 --> 00:04:06.830\nthere's a file provider, and\nbecause of these providers,\n\n78\n00:04:06.830 --> 00:04:10.680\nthat's what gives me the ability to, say,\nwork with the file systems, or I can\n\n79\n00:04:10.680 --> 00:04:15.910\nuse the Windows feature provider to add,\nremove roles and features from a node.\n\n80\n00:04:15.910 --> 00:04:17.950\nThere's a group provider, a user provider.\n\n81\n00:04:17.950 --> 00:04:21.480\nScript provider, so you can see there's,\nI wanna see there's about 12,\n\n82\n00:04:21.480 --> 00:04:23.360\n13 of these guys that are built in.\n\n83\n00:04:23.360 --> 00:04:27.030\nThese come with desire to save\nconfiguration, or with Powershell.\n\n84\n00:04:27.030 --> 00:04:29.936\nThird parties can also create\ntheir own providers as you.\n\n85\n00:04:29.936 --> 00:04:32.552\nYou could write your own provider.\n\n86\n00:04:32.552 --> 00:04:35.509\nGive them some practice,\nyou could write your own provider.\n\n87\n00:04:36.570 --> 00:04:39.360\nSo really neat what it can do,\nlot of stuff built in to it.\n\n88\n00:04:40.390 --> 00:04:43.300\nLet's see how it works, all right?\n\n89\n00:04:43.300 --> 00:04:48.200\nSo back over to my server one, I've got\nfour servers up and running right now.\n\n90\n00:04:48.200 --> 00:04:52.440\nI've got my domain controller up,\njust to have Active Directory there.\n\n91\n00:04:52.440 --> 00:04:53.608\nI've got server one and\n\n92\n00:04:53.608 --> 00:04:56.711\nserver two, the one we're looking\nat right now is server one.\n\n93\n00:04:56.711 --> 00:04:59.940\nIt's a Windows 2016 install with the GUI.\n\n94\n00:04:59.940 --> 00:05:03.410\nI've got server two which is\nalso a 2016 install with a GUI.\n\n95\n00:05:03.410 --> 00:05:07.790\nAnd then I've got core01\nwhich is a server 2016.\n\n96\n00:05:07.790 --> 00:05:13.440\nCore install, no roles or features\nare installed on these devices currently,\n\n97\n00:05:13.440 --> 00:05:15.910\nother than what comes out of the box.\n\n98\n00:05:15.910 --> 00:05:20.180\nSo, what I've got here on my\nscreen is basically a very small\n\n99\n00:05:22.050 --> 00:05:24.470\nconfiguration that we're gonna create.\n\n100\n00:05:24.470 --> 00:05:26.830\nNow when it comes to working with\ndesired state configurations,\n\n101\n00:05:26.830 --> 00:05:29.230\nwe create configurations.\n\n102\n00:05:29.230 --> 00:05:32.130\nA configuration is really a function.\n\n103\n00:05:32.130 --> 00:05:34.860\nIf you're familiar with coding at all,\nif you've ever written any kind of code,\n\n104\n00:05:34.860 --> 00:05:37.790\nyou'll recognize this as a function.\n\n105\n00:05:37.790 --> 00:05:41.420\nI've got my, if you could replace that\nwith the word function and then the name\n\n106\n00:05:41.420 --> 00:05:45.760\nof the function and then your script block\nthat would reside inside your function.\n\n107\n00:05:45.760 --> 00:05:48.780\nFunctions are something you call and\nthey perform an action.\n\n108\n00:05:48.780 --> 00:05:50.778\n>> Looks like you have a function\nin a function that line.\n\n109\n00:05:50.778 --> 00:05:52.320\n[LAUGH]\n>> It kinda does, does it?\n\n110\n00:05:52.320 --> 00:05:56.160\nAnd that's a great point cuz we're\ngonna be able to nest things\n\n111\n00:05:56.160 --> 00:05:58.550\ninside this configuration block.\n\n112\n00:05:58.550 --> 00:06:01.380\nAgain, we're gonna call\nit a configuration block,\n\n113\n00:06:01.380 --> 00:06:03.490\nyou can think of it like a function.\n\n114\n00:06:03.490 --> 00:06:04.190\nAnd so basically,\n\n115\n00:06:04.190 --> 00:06:09.280\nwe've got the keyword configuration, that\ncomes from the extensions to PowerShell.\n\n116\n00:06:09.280 --> 00:06:12.817\nPowerShell version four adds\nintellisense and color coding for\n\n117\n00:06:12.817 --> 00:06:15.260\nthe desired state configuration.\n\n118\n00:06:15.260 --> 00:06:17.000\nYou can use PowerShell one,\n\n119\n00:06:17.000 --> 00:06:20.720\nPowerShell two, PowerShell three\nTo create these configurations.\n\n120\n00:06:20.720 --> 00:06:24.155\nThey're just not gonna have\nthe color coding in there, and\n\n121\n00:06:24.155 --> 00:06:28.720\nthen the help on the auto fill when\nyou tab, and things like that.\n\n122\n00:06:28.720 --> 00:06:30.940\nYou can use Notepad to\ncreate one of these.\n\n123\n00:06:30.940 --> 00:06:34.700\nI mean, you don't have to have PowerShell\nup and running to create one of these.\n\n124\n00:06:34.700 --> 00:06:36.680\n>> So you're saying that I can\ncreate one of these things,\n\n125\n00:06:36.680 --> 00:06:38.605\nbecause I absolutely\nneed all those things.\n\n126\n00:06:38.605 --> 00:06:39.526\n[LAUGH]\n>> You need them all.\n\n127\n00:06:39.526 --> 00:06:40.620\n>> It's not gonna work.\n\n128\n00:06:40.620 --> 00:06:42.560\n>> That's the great thing about it.\n\n129\n00:06:42.560 --> 00:06:46.040\nIf I know the syntax well enough,\nI can open up Notepad, write one up, and\n\n130\n00:06:46.040 --> 00:06:47.010\nbe done, boom, right?\n\n131\n00:06:47.010 --> 00:06:48.380\nBut why would I do that?\n\n132\n00:06:48.380 --> 00:06:51.690\nI've got the ISE, the Integrated Scripting\nEnvironment that does color coding, and\n\n133\n00:06:51.690 --> 00:06:52.622\nit's really nice.\n\n134\n00:06:52.622 --> 00:06:57.210\nAll right, so we've got our key\nword configuration and then a name.\n\n135\n00:06:57.210 --> 00:06:58.930\nThis is just something you make up.\n\n136\n00:06:58.930 --> 00:07:01.660\nI'm gonna call it webConfig, right?\n\n137\n00:07:01.660 --> 00:07:08.570\nThat's what we'll call it by, or that's\nwhat it's going to be known as I guess.\n\n138\n00:07:08.570 --> 00:07:11.120\nWithin that you've got\na set of curly braces here\n\n139\n00:07:12.820 --> 00:07:18.430\nthat's gonna open up this configuration\nblock and in there, I've got this node and\n\n140\n00:07:18.430 --> 00:07:22.485\nin the name of the machine that I\nwanna configure, inside quotes.\n\n141\n00:07:22.485 --> 00:07:27.555\nAnd in another curly block, curly brace\nblock, I don't know the best way.\n\n142\n00:07:27.555 --> 00:07:28.391\n>> It's a brace, yeah.\n\n143\n00:07:28.391 --> 00:07:29.715\n[LAUGH]\n>> I'll call it a brace, not a bracket.\n\n144\n00:07:29.715 --> 00:07:30.705\nI always add the word curly,\n\n145\n00:07:30.705 --> 00:07:33.805\neven though I guess that's\na little redundant if I say it.\n\n146\n00:07:33.805 --> 00:07:37.026\nBut sometimes people get confused\nbetween braces and brackets.\n\n147\n00:07:37.026 --> 00:07:38.388\n>> [LAUGH] It can be confusing.\n\n148\n00:07:38.388 --> 00:07:39.370\nWhich one do I use here?\n\n149\n00:07:39.370 --> 00:07:42.495\nIs it the straight squared-looking one,\nor the curly looking, I don't know.\n\n150\n00:07:42.495 --> 00:07:44.479\n>> So it should say,\ncurly brackets or brace.\n\n151\n00:07:45.600 --> 00:07:46.837\nWell the brackets are the square\n[CROSSTALK] ones right?\n\n152\n00:07:46.837 --> 00:07:47.690\n>> Yeah.\n\n153\n00:07:47.690 --> 00:07:49.648\nIt can be confusing right?\n\n154\n00:07:49.648 --> 00:07:50.486\n[LAUGH]\n>> All right, so\n\n155\n00:07:50.486 --> 00:07:54.364\nwe're gonna use our braces there,\nwe got the open and closed one, and\n\n156\n00:07:54.364 --> 00:07:59.033\ninside that you can see the name of one of\nthose providers we're just talking about,\n\n157\n00:07:59.033 --> 00:08:02.296\nWindows Feature, And\nthen this is just a name I give this.\n\n158\n00:08:02.296 --> 00:08:06.700\nIt's not the actual feature that\nI'm trying to install, right?\n\n159\n00:08:06.700 --> 00:08:08.860\nI just called it web-server.\n\n160\n00:08:08.860 --> 00:08:15.830\nBecause with your code, you can reference\nthis block here in other places like, did\n\n161\n00:08:15.830 --> 00:08:20.050\nthat complete, did that succeed, if you\nwanna get really fancy with your script.\n\n162\n00:08:20.050 --> 00:08:23.340\nSo you give this little inner block\na name, I call it a webServer.\n\n163\n00:08:23.340 --> 00:08:28.150\nAnd then I've got in the word ensure\ninside another set of braces,\n\n164\n00:08:28.150 --> 00:08:32.440\nI've got ensure equals and\nthen present, all right.\n\n165\n00:08:32.440 --> 00:08:34.260\nThat means is it installed.\n\n166\n00:08:34.260 --> 00:08:37.020\nI can also, if I was making\nsure something wasn't installed\n\n167\n00:08:37.020 --> 00:08:38.760\nI can use the word absent.\n\n168\n00:08:38.760 --> 00:08:40.120\nTo make sure it wasn't there.\n\n169\n00:08:40.120 --> 00:08:41.798\n>> It's also a tasty beverage for\nthe elderly.\n\n170\n00:08:41.798 --> 00:08:44.850\n>> [LAUGH]\n>> And then we also have\n\n171\n00:08:44.850 --> 00:08:49.160\nthe name of the Windows feature that\nI'm actually trying to install or\n\n172\n00:08:49.160 --> 00:08:50.508\nlook for, to see if it's present.\n\n173\n00:08:50.508 --> 00:08:54.050\nAnd that's web-server, and you would need\nto know the actual name of that, right?\n\n174\n00:08:54.050 --> 00:08:57.570\nI can't just say, IIS,\n\n175\n00:08:57.570 --> 00:09:01.490\nbecause that's not what it's called\nwhen you go look at your add features.\n\n176\n00:09:01.490 --> 00:09:04.550\nLike if we did a, let's do this,\n\n177\n00:09:04.550 --> 00:09:09.012\nlet's do a get-windows\n\n178\n00:09:09.012 --> 00:09:13.870\nfeature, oops, and we'll look for web.\n\n179\n00:09:13.870 --> 00:09:18.740\nSee if I can limit that list there,\nthen there's quite a bit of it,\n\n180\n00:09:18.740 --> 00:09:22.075\nbut if I scroll back up there we,\noops, little too far.\n\n181\n00:09:22.075 --> 00:09:23.685\nThere's web server IIS.\n\n182\n00:09:23.685 --> 00:09:26.515\nThat's what I want to\nmake sure is present.\n\n183\n00:09:26.515 --> 00:09:30.205\nThere's the actual name of that role,\nweb-server.\n\n184\n00:09:30.205 --> 00:09:31.175\nSo these are the names.\n\n185\n00:09:31.175 --> 00:09:35.110\nThis column over here on the right,\nthose are the one's that you're gonna,\n\n186\n00:09:35.110 --> 00:09:36.740\noops, a little too far there.\n\n187\n00:09:36.740 --> 00:09:38.840\nThose are the ones that we want\nto pay attention to right there.\n\n188\n00:09:38.840 --> 00:09:42.920\nThat's the name we'd have\nto use in my code here.\n\n189\n00:09:42.920 --> 00:09:46.530\nAll right, and\nthen I end that little node and\n\n190\n00:09:46.530 --> 00:09:49.570\nthen we've ended that block and\nthen we end the entire thing.\n\n191\n00:09:49.570 --> 00:09:54.960\nSo the idea is that this configuration\nwill go out and check on server one and\n\n192\n00:09:54.960 --> 00:10:00.600\nfind out is IIS or the role web dash\nserver Is that role installed and\n\n193\n00:10:00.600 --> 00:10:04.030\nif not let's do it,\nlet's make sure that it is installed.\n\n194\n00:10:04.030 --> 00:10:07.040\nWe are ensuring that\nthat role is present and\n\n195\n00:10:07.040 --> 00:10:10.428\nif it is great if is not let make it so.\n\n196\n00:10:10.428 --> 00:10:14.360\nSo use John Luke Ricard's\nfavorite saying there.\n\n197\n00:10:14.360 --> 00:10:18.412\nAll right now we need to execute this\nscript to generate that myfile and\n\n198\n00:10:18.412 --> 00:10:22.945\nthat that's the mof is the actual file\nit will execute on the server that we're\n\n199\n00:10:22.945 --> 00:10:24.260\ntrying to configure.\n\n200\n00:10:24.260 --> 00:10:26.050\nSo let's take a look at that.\n\n201\n00:10:26.050 --> 00:10:28.840\nAll I'm gonna do, and again I've said\nthis already I just wanna make sure we're\n\n202\n00:10:28.840 --> 00:10:34.160\naware, in my script I'm actually calling\nthe configuration at the very last line.\n\n203\n00:10:34.160 --> 00:10:36.200\nThis doesn't have to be\npart of your script.\n\n204\n00:10:36.200 --> 00:10:39.200\nYou could call this script from,\nsay PowerShell.\n\n205\n00:10:39.200 --> 00:10:41.740\nYou may have a folder where\nall these config files are.\n\n206\n00:10:41.740 --> 00:10:45.260\nAnd you just open up PowerShell,\nnavigate to that directory, and\n\n207\n00:10:45.260 --> 00:10:47.680\ncall that configuration from there.\n\n208\n00:10:47.680 --> 00:10:50.950\nI'm just saving a little step\nby doing this all at once.\n\n209\n00:10:50.950 --> 00:10:52.360\nSo we'll go ahead and execute that.\n\n210\n00:10:54.570 --> 00:10:58.530\nGive it a second, and we'll drag this\nup so we can look at the output.\n\n211\n00:10:58.530 --> 00:11:03.380\nIt is going to give me a warning and\nit's just telling me that the module for\n\n212\n00:11:04.850 --> 00:11:08.360\ndesired state configuration\nwas not preloaded and\n\n213\n00:11:08.360 --> 00:11:10.660\nit had to load it up when I executed that.\n\n214\n00:11:10.660 --> 00:11:14.920\nThese are just test machines, so I don't\nhave my normal power shell profile.\n\n215\n00:11:14.920 --> 00:11:17.280\nWhere I'm loading up all of\nthe modules that I normally use,\n\n216\n00:11:17.280 --> 00:11:19.850\nyou would probably do that\non your own system, but\n\n217\n00:11:19.850 --> 00:11:23.620\nas you can see it loads enough anyway it\nsays hey you should have preloaded this.\n\n218\n00:11:23.620 --> 00:11:26.920\nI could have had a line at the top\nof my script that loaded that module\n\n219\n00:11:26.920 --> 00:11:30.850\nas well done an import module or\nimport TC as resource DSC,\n\n220\n00:11:30.850 --> 00:11:32.452\nsorry I always get that backwards DSC.\n\n221\n00:11:32.452 --> 00:11:35.810\nAll right so now we got our\nmod files let's go take a look\n\n222\n00:11:35.810 --> 00:11:40.360\nwe open up file explorer and\nnow we get into,\n\n223\n00:11:40.360 --> 00:11:43.840\noops I was in the wrong directory when I\nexecuted that so it didn't put that there.\n\n224\n00:11:43.840 --> 00:11:46.760\nI am going to do that one more time\nbecause it;s down in sequel and\n\n225\n00:11:46.760 --> 00:11:51.180\nI left my PowerShell SQL Windows32\nwhich is where it generated and\n\n226\n00:11:51.180 --> 00:11:53.570\nI don't want to dive in there\nfind that and get it out.\n\n227\n00:11:53.570 --> 00:11:54.960\n>> There are a few files in that folder.\n\n228\n00:11:54.960 --> 00:11:57.796\n>> There is so let's just do that one\nmore time, it doesn't not take long\n\n229\n00:11:57.796 --> 00:12:01.053\n>> I'm gonna use C:\\dsc to change that\n\n230\n00:12:01.053 --> 00:12:02.180\ndirectory.\n\n231\n00:12:02.180 --> 00:12:05.170\nAnd then we'll just execute\nthat one more time.\n\n232\n00:12:05.170 --> 00:12:11.010\nOops, get rid of that, we'll execute that\nscript, it'll again put out that mof and\n\n233\n00:12:11.010 --> 00:12:14.738\nthis time it should be in this folder,\nso we'll go take a look.\n\n234\n00:12:14.738 --> 00:12:19.160\nWe'll do C: DSC, and there it is.\n\n235\n00:12:19.160 --> 00:12:23.570\nNow, there's a generator or\ncreated a folder, not just a single file.\n\n236\n00:12:23.570 --> 00:12:27.090\nInside that folder,\nI'm gonna find my muff file.\n\n237\n00:12:27.090 --> 00:12:30.410\nThat's what just got generated\nby executing that script.\n\n238\n00:12:30.410 --> 00:12:31.570\nNow, let's take a look at it.\n\n239\n00:12:31.570 --> 00:12:36.146\nIf I double click on it,\ntell it to use notepad to open that up.\n\n240\n00:12:38.191 --> 00:12:41.520\nThere is the file that it\ngenerated target node.\n\n241\n00:12:41.520 --> 00:12:44.890\nYou can see the name of my server,\ndate, and time.\n\n242\n00:12:44.890 --> 00:12:48.440\nWhere it's pulling in\nthe resource windows features.\n\n243\n00:12:48.440 --> 00:12:49.190\nIts going to be adding,\n\n244\n00:12:49.190 --> 00:12:54.150\nand that's the name I gave it\nweb server and then some things,\n\n245\n00:12:54.150 --> 00:12:57.580\nsome numbers that, I don't know what this\nmeans, it means something to Microsoft.\n\n246\n00:12:57.580 --> 00:13:00.920\nThere's the configuration name.\n\n247\n00:13:00.920 --> 00:13:03.190\nWhat else?\n\n248\n00:13:03.190 --> 00:13:05.350\nAnd that's pretty much it, right.\n\n249\n00:13:05.350 --> 00:13:07.950\nAgain, this was a pretty\nsimple one that we're doing,\n\n250\n00:13:07.950 --> 00:13:10.990\nit's just installing that one\nrole that that web feature.\n\n251\n00:13:10.990 --> 00:13:15.350\nAlright so now that we've got the mop file\nagain as I was saying before it makes\n\n252\n00:13:15.350 --> 00:13:19.580\na folder there might be other resources\nthat it generates depending on what\n\n253\n00:13:19.580 --> 00:13:23.990\nproviders your using there might be some\nsupporting files and things like that.\n\n254\n00:13:23.990 --> 00:13:25.320\nThat's why it creates that folder.\n\n255\n00:13:25.320 --> 00:13:27.120\nThere could be others in there.\n\n256\n00:13:27.120 --> 00:13:30.430\nAlso if we did more than one node which\nI'm gonna talk about in a minute,\n\n257\n00:13:30.430 --> 00:13:32.330\nwe could generate more\nthan one MA file for\n\n258\n00:13:32.330 --> 00:13:36.310\neach one of the nodes that's\ngoing to be configured.\n\n259\n00:13:36.310 --> 00:13:39.540\nAll right, so now that we got the MA\nfile then next thing to do is actually\n\n260\n00:13:39.540 --> 00:13:42.280\ncall that MA file and have it executed.\n\n261\n00:13:42.280 --> 00:13:45.130\nIf we do a quick get dash I\nthink we already looked at that.\n\n262\n00:13:45.130 --> 00:13:47.660\nWe know IIS is not installed on here.\n\n263\n00:13:47.660 --> 00:13:49.335\nSo now I'm going to attempt to call it.\n\n264\n00:13:49.335 --> 00:13:55.130\nWe're gonna do a Start-DscConfiguration.\n\n265\n00:13:55.130 --> 00:13:56.180\nThat's gonna be the command.\n\n266\n00:13:56.180 --> 00:14:00.220\nLet that executes that mof\nfile that performs the action.\n\n267\n00:14:00.220 --> 00:14:05.550\nI'm also gonna add a couple of\nswitches dash weight and dash verbose.\n\n268\n00:14:05.550 --> 00:14:07.400\nThis is gonna allow me to see the output.\n\n269\n00:14:07.400 --> 00:14:12.260\nYou know how power shell is, doesn't show\nyou any output unless you got an error,\n\n270\n00:14:12.260 --> 00:14:16.780\nI wanna see some of that output and then\nI'm gonna call it sequel and backslash or\n\n271\n00:14:16.780 --> 00:14:21.530\nno sorry and\nI'll call it DSC backslash web config\n\n272\n00:14:21.530 --> 00:14:25.390\nI am not putting the path all\nthe way to the MA file itself.\n\n273\n00:14:25.390 --> 00:14:27.360\nI am not calling the name of the MA file.\n\n274\n00:14:27.360 --> 00:14:29.695\nI am not putting server1.MA.\n\n275\n00:14:29.695 --> 00:14:33.650\nThis, and I almost forgot the dash\npath that goes in front of it.\n\n276\n00:14:33.650 --> 00:14:37.360\nThe dash path specifying where\nare those files contained.\n\n277\n00:14:37.360 --> 00:14:39.360\nWhere is that folder that got generated?\n\n278\n00:14:39.360 --> 00:14:41.840\nBecause there could, like I said,\nother supporting files in there.\n\n279\n00:14:41.840 --> 00:14:43.530\nSo point it to the directory.\n\n280\n00:14:43.530 --> 00:14:46.720\nThat it created,\nnot the not the mof file itself.\n\n281\n00:14:46.720 --> 00:14:48.170\nThat should be it, we'll hit enter.\n\n282\n00:14:49.680 --> 00:14:51.242\nAnd it's off to the races.\n\n283\n00:14:51.242 --> 00:14:56.580\nAll right and if you, when you guys\nare playing around, you'll see this stuff,\n\n284\n00:14:56.580 --> 00:14:59.520\nyou can take your time and go back and\nlook through the different steps,\n\n285\n00:14:59.520 --> 00:15:02.180\nit's basically saying, hey,\nI'm checking the, you can see right there,\n\n286\n00:15:02.180 --> 00:15:06.080\nget dash Windows feature,\nfinding out, hey, is the role there?\n\n287\n00:15:06.080 --> 00:15:10.480\nIf it's not, there I can see\nthe installation started, continue.\n\n288\n00:15:10.480 --> 00:15:14.860\nPrereq process started,\nnow it's doing a prereq process succeeded.\n\n289\n00:15:14.860 --> 00:15:19.304\nSo you can see it going through\nthe steps of installing that role\n\n290\n00:15:21.203 --> 00:15:22.555\nSo we'll let this finish.\n\n291\n00:15:22.555 --> 00:15:24.105\nShouldn't take too much longer.\n\n292\n00:15:26.395 --> 00:15:27.375\n>> Don't push it, Mike.\n\n293\n00:15:27.375 --> 00:15:29.905\n>> Yeah, right.\n[LAUGH]\n\n294\n00:15:29.905 --> 00:15:32.635\nAlmost done, there it goes.\n\n295\n00:15:32.635 --> 00:15:34.315\nAnd this is really what I'm looking for.\n\n296\n00:15:34.315 --> 00:15:40.250\nSuccessfully installed, the feature\ntook 38.6 seconds, not too bad.\n\n297\n00:15:40.250 --> 00:15:42.160\nOr something like that.\n\n298\n00:15:42.160 --> 00:15:45.290\nAll right, overall 41 seconds.\n\n299\n00:15:45.290 --> 00:15:45.790\nStill not bad.\n\n300\n00:15:45.790 --> 00:15:48.580\nAll right, so\nnow how do I verify that that worked?\n\n301\n00:15:48.580 --> 00:15:49.243\nWell, we could do it a couple of ways.\n\n302\n00:15:49.243 --> 00:15:55.181\nI could do a get-, see if it's still\nin my history here, get-, it's not.\n\n303\n00:15:55.181 --> 00:15:56.202\nSo get-windows.\n\n304\n00:15:56.202 --> 00:16:02.600\nFeature, And we'll look for\njust web-related features.\n\n305\n00:16:03.830 --> 00:16:10.030\nAnd if I scroll back up, I can see\nthat IIS is now installed, all right?\n\n306\n00:16:10.030 --> 00:16:11.530\nThat's one way you could check.\n\n307\n00:16:11.530 --> 00:16:17.270\nAnother way we could check would be to\ndo what's called test- dscConfiguration.\n\n308\n00:16:17.270 --> 00:16:21.280\nIf you run that,\nit's looking at that again and\n\n309\n00:16:21.280 --> 00:16:24.260\nit's parsing it and\nit's looking to see if that role is there.\n\n310\n00:16:24.260 --> 00:16:27.420\nNotice it says true,\ntrue means I pass right,\n\n311\n00:16:27.420 --> 00:16:32.810\nthat the desired stay configuration And\nthe current node match, all right?\n\n312\n00:16:32.810 --> 00:16:34.720\nFalse if it didn't match, okay?\n\n313\n00:16:36.050 --> 00:16:39.560\nSo that's pretty cool in another shelf,\nthe fact that I can run this, cuz if you\n\n314\n00:16:39.560 --> 00:16:44.690\nthink about it, I can go in there and\nchange this name, run the script again for\n\n315\n00:16:44.690 --> 00:16:51.320\nserver 2, for core 01, generate\nseveral mof files and execute that.\n\n316\n00:16:51.320 --> 00:16:52.940\nMight work if you got one or two.\n\n317\n00:16:52.940 --> 00:16:56.700\nWhat if you got five,\nten that you have to do this on.\n\n318\n00:16:56.700 --> 00:16:58.066\nNot nearly as fun now, okay?\n\n319\n00:16:58.066 --> 00:17:00.940\n>> [LAUGH]\n>> There's a couple of ways you can try to\n\n320\n00:17:00.940 --> 00:17:02.610\ndo this for multiple nodes.\n\n321\n00:17:02.610 --> 00:17:05.090\nOne way would be to do\nsomething like this.\n\n322\n00:17:05.090 --> 00:17:09.088\nTake this entire block and,\n\n323\n00:17:10.559 --> 00:17:14.895\nWhoops, paste another one in there, right?\n\n324\n00:17:14.895 --> 00:17:21.701\nAnd lets drag this down a little bit,\nand change this to svr02, right?\n\n325\n00:17:21.701 --> 00:17:24.079\nAnd now it will generate\nthat config file for\n\n326\n00:17:24.079 --> 00:17:26.462\neach one of those nodes\nin this config file.\n\n327\n00:17:26.462 --> 00:17:29.007\nIn fact lets just run it,\nlets see what it does, right?\n\n328\n00:17:29.007 --> 00:17:33.901\nSo I'll execute and save that file,\nit's gonna execute, we're gonna\n\n329\n00:17:33.901 --> 00:17:39.580\nlook in that folder in DCS, DSC,\nagain I will always get that backwards.\n\n330\n00:17:39.580 --> 00:17:41.970\n>> Mikes time he spent in the big house.\n\n331\n00:17:41.970 --> 00:17:42.640\n>> Yeah.\n>> [LAUGH]\n\n332\n00:17:42.640 --> 00:17:44.290\n>> So now in web config look what I have.\n\n333\n00:17:44.290 --> 00:17:48.790\nI have two different mofs, one for\neach of those nodes, right?\n\n334\n00:17:48.790 --> 00:17:50.770\nSo I could do the same thing,\n\n335\n00:17:50.770 --> 00:17:53.650\nI don't remember we don't call\nthe actual MOF file, right?\n\n336\n00:17:53.650 --> 00:17:57.740\nWhen I was in here and\nI wanted to execute that,\n\n337\n00:17:57.740 --> 00:18:01.460\nall we typed in was, I cleared my screen.\n\n338\n00:18:03.235 --> 00:18:04.055\nLet's do that again.\n\n339\n00:18:06.186 --> 00:18:09.035\nPull back my history and\nshow you that command.\n\n340\n00:18:09.035 --> 00:18:10.035\nThis is all we did, right?\n\n341\n00:18:10.035 --> 00:18:14.025\nStart DSC configuration and\nthen the path where those are.\n\n342\n00:18:14.025 --> 00:18:16.590\nNow there's two MOF's in this location.\n\n343\n00:18:16.590 --> 00:18:19.010\nIt will execute both of them, right?\n\n344\n00:18:19.010 --> 00:18:22.380\nSo you can say, great,\nnow I can do three, five, ten, right?\n\n345\n00:18:22.380 --> 00:18:26.110\nJust generate and just add more\nnote blocks into my config file.\n\n346\n00:18:26.110 --> 00:18:28.170\nIt will generate the MOF's and\nwe are good to go'.\n\n347\n00:18:28.170 --> 00:18:30.130\nAnd that will work just fine.\n\n348\n00:18:30.130 --> 00:18:32.330\nLot of people do that way.\n\n349\n00:18:32.330 --> 00:18:37.340\nThe down side of doing it that way is\nthis is my standard configuration.\n\n350\n00:18:37.340 --> 00:18:39.880\nLet's say this is my standard\nconfiguration for web and\n\n351\n00:18:39.880 --> 00:18:41.330\nI might have a couple of other things.\n\n352\n00:18:41.330 --> 00:18:46.030\nI might make sure that IIS is there,\nthat ASP.NET 4.5 is installed, that\n\n353\n00:18:46.030 --> 00:18:50.490\na certain directory exist, that certain\nfiles are in that directory, I got five\n\n354\n00:18:50.490 --> 00:18:54.020\nweb servers that are clustered and I wanna\nmake sure they are all exactly the same.\n\n355\n00:18:54.020 --> 00:18:55.830\nSo, this is the kind of\nthing I can do with DSC.\n\n356\n00:18:55.830 --> 00:18:59.250\nI can make sure IIS is there,\nthat .Net is installed,\n\n357\n00:18:59.250 --> 00:19:02.090\nthat there is a root directory for\nthat website, that there's certain\n\n358\n00:19:02.090 --> 00:19:06.520\nfiles copied into that website from\nsource location that I've got.\n\n359\n00:19:06.520 --> 00:19:08.410\nIf somebody pulls up a new web server and\n\n360\n00:19:08.410 --> 00:19:12.660\nwe can just use this to take care\nof all of that in one quick swoop.\n\n361\n00:19:12.660 --> 00:19:17.389\nThe problem is what if I change what I\nconsider a web servers desired state\n\n362\n00:19:17.389 --> 00:19:18.250\nconfiguration?\n\n363\n00:19:18.250 --> 00:19:20.960\nI have to modify this node,\nthen I have to modify this node.\n\n364\n00:19:20.960 --> 00:19:22.510\nAnd if there were ten in here,\n\n365\n00:19:22.510 --> 00:19:26.350\nI'd have to modify each node\nblock every time I made a change.\n\n366\n00:19:26.350 --> 00:19:29.420\nAnd again, we're going back\nto not being very efficient.\n\n367\n00:19:29.420 --> 00:19:33.920\nThat's the whole idea behind DSC,\nis to make administration efficient.\n\n368\n00:19:33.920 --> 00:19:35.590\nSo, let's do it a little differently.\n\n369\n00:19:35.590 --> 00:19:38.400\nWhat I'm gonna do is open\nup a different script.\n\n370\n00:19:38.400 --> 00:19:40.770\nAnd this one, same basic structure.\n\n371\n00:19:40.770 --> 00:19:43.070\nI've got my configuration keyword.\n\n372\n00:19:43.070 --> 00:19:45.770\nI've got the name,\nI'm gonna call this configuration.\n\n373\n00:19:45.770 --> 00:19:52.100\nI got my open brace and\nthe node block is almost the same.\n\n374\n00:19:52.100 --> 00:19:56.190\nBut right before the node block,\nI've added a keyword, param.\n\n375\n00:19:56.190 --> 00:19:59.370\nFor parameter and\nin there I made this name up.\n\n376\n00:19:59.370 --> 00:20:03.760\nI just called it machine name,\nit should have been shorter silly me\n\n377\n00:20:03.760 --> 00:20:08.420\njust do dollar sign machine name just\nset up a variable and then for the node,\n\n378\n00:20:08.420 --> 00:20:13.260\nnotice I used the variable machine name\nthat created a line before that and\n\n379\n00:20:13.260 --> 00:20:14.230\nthe rest of it's the same.\n\n380\n00:20:14.230 --> 00:20:18.360\nInstall a web server,\nensure that it's present, right?\n\n381\n00:20:18.360 --> 00:20:23.319\nSo with this, when I go to generate\nmy MOF for my different servers,\n\n382\n00:20:23.319 --> 00:20:28.110\nI'm gonna call it like we did before,\nwebConfigParam, right?\n\n383\n00:20:29.720 --> 00:20:32.760\nBut I'm gonna add a dash, machine name.\n\n384\n00:20:34.110 --> 00:20:35.080\nAll right?\n\n385\n00:20:35.080 --> 00:20:39.120\nIt picks it up, even in the teletype\nbecause I've created that variable there,\n\n386\n00:20:39.120 --> 00:20:39.990\npicks up machine name.\n\n387\n00:20:39.990 --> 00:20:45.310\nYou could call it again, whatever you\nwanted and then all I'm gonna do is do a,\n\n388\n00:20:45.310 --> 00:20:49.690\nlet's do svrO2, whoops.\n\n389\n00:20:49.690 --> 00:20:57.210\nAnd we'll do, let's do core 01 and\nnow I'm gonna execute that.\n\n390\n00:20:57.210 --> 00:20:59.510\nSo this is just a list of\nall of the different nodes.\n\n391\n00:20:59.510 --> 00:21:05.070\nRather than have a separate block for\neach node, I have one block to edit and\n\n392\n00:21:05.070 --> 00:21:07.900\nthen I just generate MOF\nfiles based on that for\n\n393\n00:21:07.900 --> 00:21:10.780\neach one of the individual\nnodes by listing them out here.\n\n394\n00:21:10.780 --> 00:21:13.030\nThis could even come from the CSV file,\n\n395\n00:21:13.030 --> 00:21:16.270\nif you had a list of all your\nservers that were web servers\n\n396\n00:21:16.270 --> 00:21:19.500\nthroughout your organization that\nneeded this same configuration.\n\n397\n00:21:19.500 --> 00:21:22.760\nYou could have that in a CSV file and\nnot even have to type them all out.\n\n398\n00:21:22.760 --> 00:21:26.010\nJust have this point to that CSV file and\nimport that.\n\n399\n00:21:26.010 --> 00:21:29.790\nYou guys have seen Import-Csv command\nin some of our other episodes.\n\n400\n00:21:29.790 --> 00:21:34.238\nSo we'll go ahead and\nexecute this script And\n\n401\n00:21:34.238 --> 00:21:41.490\nI can see the output was two MOF files,,\none for each one of the nodes down here.\n\n402\n00:21:41.490 --> 00:21:45.515\nAnd then as far as running it goes,\nit's actually the same command\n\n403\n00:21:45.515 --> 00:21:52.690\nstart-DSCconfiguration, we can\nadd a dash wait if we want.\n\n404\n00:21:52.690 --> 00:21:55.440\nWe can add a dash verbose if we want.\n\n405\n00:21:55.440 --> 00:22:03.877\nAnd then the dash path SQL\nin /DSC/webconfigparam.\n\n406\n00:22:05.930 --> 00:22:08.775\nAnd let's go peek, right?\n\n407\n00:22:08.775 --> 00:22:11.900\nNotice again I made another folder\nevery time you run that config.\n\n408\n00:22:11.900 --> 00:22:16.570\nMakes the folder to store the MOF's in and\nin there are the two MOF's.\n\n409\n00:22:16.570 --> 00:22:18.740\nSo we're just gonna\npoint it to the folder.\n\n410\n00:22:18.740 --> 00:22:22.050\nWe're gonna hit return and\nwe'll watch it run.\n\n411\n00:22:22.050 --> 00:22:24.360\nAll right.\n\n412\n00:22:24.360 --> 00:22:27.030\nNotice I have two going,\nthere's Core one and there's Serve two.\n\n413\n00:22:27.030 --> 00:22:31.970\nNow imagine you had to do this to ten or\n20 web servers in a farm.\n\n414\n00:22:31.970 --> 00:22:35.520\nI'm not installing IIS on each one\nof them as I set this farm up.\n\n415\n00:22:35.520 --> 00:22:37.420\nI'm running the script, right?\n\n416\n00:22:37.420 --> 00:22:41.989\nAnd maybe once a week I go back and I\ncheck and make sure that there's still in\n\n417\n00:22:41.989 --> 00:22:46.480\ncompliance, that some admin hasn't removed\na rule from the server mistakenly or\n\n418\n00:22:46.480 --> 00:22:49.260\ndeleted a directory or\nsomething like that.\n\n419\n00:22:49.260 --> 00:22:55.120\nThat's the idea behind desired state is\nwe can have it configure a machine and\n\n420\n00:22:55.120 --> 00:22:59.040\nthen maintain that configuration\nby periodically running this\n\n421\n00:22:59.040 --> 00:23:04.360\nto make sure they haven't, what we call,\nstage shift or I should say stage drift,\n\n422\n00:23:04.360 --> 00:23:07.880\nwhen they drift away\nfrom their desired state.\n\n423\n00:23:07.880 --> 00:23:08.570\nAll right.\n\n424\n00:23:08.570 --> 00:23:10.710\nNow, what we've been doing in here,\n\n425\n00:23:10.710 --> 00:23:15.480\nas this finishes up,\nis something called a push mode, right?\n\n426\n00:23:15.480 --> 00:23:18.710\nWhere we are pushing\nthese configurations out.\n\n427\n00:23:18.710 --> 00:23:23.840\nI am sitting at node one, pushing\nthe configuration out to server two, and\n\n428\n00:23:23.840 --> 00:23:24.460\nto core01.\n\n429\n00:23:24.460 --> 00:23:29.829\nAnd if we were to go look at let's\nsay core01 here, let me log back in.\n\n430\n00:23:32.280 --> 00:23:33.570\nAll right launch PowerShell.\n\n431\n00:23:35.260 --> 00:23:41.180\nDo a little get-windowsfeature,\nand we'll look for web.\n\n432\n00:23:41.180 --> 00:23:46.588\nAnd we should see that IIS is\nindeed installed on Serve Core and\n\n433\n00:23:46.588 --> 00:23:49.503\nit would be the same on Serve two.\n\n434\n00:23:49.503 --> 00:23:51.731\nRight, you guys trust me,\nhopefully, on that.\n\n435\n00:23:51.731 --> 00:23:55.184\nAnd it would be the same on ten\nmachines if I did it that way.\n\n436\n00:23:55.184 --> 00:23:57.355\nBut this is again, push.\n\n437\n00:23:57.355 --> 00:24:01.149\nI'm sitting here at my Windows ten box or\nmy server in this case, and\n\n438\n00:24:01.149 --> 00:24:05.210\nI'm pushing this configuration\nout to server two and four.\n\n439\n00:24:05.210 --> 00:24:06.510\nThere's another way we can do this,\n\n440\n00:24:06.510 --> 00:24:09.660\nbecause this is still a manual trigger,\nright?\n\n441\n00:24:09.660 --> 00:24:12.530\nI'm the one that actually had to go in and\nrun that command.\n\n442\n00:24:12.530 --> 00:24:17.290\nWe could create a scheduled task\nwithin Windows to try to do that.\n\n443\n00:24:18.610 --> 00:24:20.540\nBut it's going a little too much,\n\n444\n00:24:20.540 --> 00:24:25.060\nbecause we also have something known\nas a pull configuration model,\n\n445\n00:24:26.080 --> 00:24:31.620\nwhere I can set up a server that\nstores all these configurations.\n\n446\n00:24:31.620 --> 00:24:34.670\nIt runs IIS and\nit creates a special listener.\n\n447\n00:24:34.670 --> 00:24:37.900\nAnd then we enroll those nodes and\n\n448\n00:24:37.900 --> 00:24:42.380\nthey will periodically, every I think it's\n30 minutes by default, go and check and\n\n449\n00:24:42.380 --> 00:24:45.780\nrun that, nd verify that they're\nstill in that desired state.\n\n450\n00:24:45.780 --> 00:24:48.530\nRight, so now we can automate the whole\nthing, all we have to do now,\n\n451\n00:24:48.530 --> 00:24:51.870\nis we add a new server,\nwe enroll it in there, and\n\n452\n00:24:51.870 --> 00:24:54.320\nit'll automatically pull\nthe configuration down.\n\n453\n00:24:54.320 --> 00:24:56.430\nIt'll rerun that configuration every so\noften,\n\n454\n00:24:56.430 --> 00:24:59.030\nto make sure it stays\nin that desired state.\n\n455\n00:24:59.030 --> 00:25:00.210\nHow's that for easy?\n\n456\n00:25:00.210 --> 00:25:03.990\nHey, guy calls me up says you need\ntwo more nodes in your web farm.\n\n457\n00:25:03.990 --> 00:25:05.810\nNo problem, I whip them up,\nI put them in there,\n\n458\n00:25:05.810 --> 00:25:10.705\nI add them into my desired configuration\nand bada bing automatically it installs\n\n459\n00:25:10.705 --> 00:25:14.425\nIOS creates the folders,\ndoes whatever my configuration does.\n\n460\n00:25:14.425 --> 00:25:15.195\n>> Mike, really quickly.\n\n461\n00:25:15.195 --> 00:25:17.715\nDoes the mafiles conflict with each other?\n\n462\n00:25:17.715 --> 00:25:19.975\nSo, if I had one mafile\nthat does one thing and\n\n463\n00:25:19.975 --> 00:25:23.305\nanother one that does another and\nI ran them both against the same server.\n\n464\n00:25:23.305 --> 00:25:25.795\nWill one overwrite the previous things?\n\n465\n00:25:25.795 --> 00:25:27.265\n>> You do have to be careful with that.\n\n466\n00:25:27.265 --> 00:25:33.800\nBecause your setting that desires that\nwith that node and it will like I tried to\n\n467\n00:25:33.800 --> 00:25:39.230\nif you try to remove a feature it should\nwarn you and its gonna say fail, and\n\n468\n00:25:39.230 --> 00:25:44.970\nif you try to run more than one you can\nend up confusing it so you should have\n\n469\n00:25:44.970 --> 00:25:49.170\nserver one in that block to be everything\nthat is part of that desired state.\n\n470\n00:25:49.170 --> 00:25:50.950\nSo if my desired state changes.\n\n471\n00:25:50.950 --> 00:25:55.030\nIs what I wanna do is modify them off and\n\n472\n00:25:55.030 --> 00:25:59.630\nadd that whatever change it is and\nrerun that or generate a new one and\n\n473\n00:25:59.630 --> 00:26:03.250\nrun it just know that that the old\none isn't gonna be in place any more.\n\n474\n00:26:03.250 --> 00:26:05.150\nThat's basically the way that work and\n\n475\n00:26:05.150 --> 00:26:07.980\nI think what we will do I know we are\nrunning out of time maybe come back for\n\n476\n00:26:07.980 --> 00:26:12.180\nanother one and we can setup that pool,\nshow you how to set up the server\n\n477\n00:26:12.180 --> 00:26:14.960\nthat gonna host the configuration\nIt sounds like fun, Mike.\n\n478\n00:26:14.960 --> 00:26:16.790\n>> This has been an interesting episode,\n\n479\n00:26:16.790 --> 00:26:19.990\nreally learning a lot about\nautomating our environments right.\n\n480\n00:26:19.990 --> 00:26:23.890\nDesired state is probably one\nof the most definitional, right?\n\n481\n00:26:23.890 --> 00:26:27.710\nIt's in itself, it's not you\nexactly what we're trying to get\n\n482\n00:26:27.710 --> 00:26:31.460\nout of the operation network and\nusing here.\n\n483\n00:26:31.460 --> 00:26:33.350\nI have a desired state\nthat I want my server in,\n\n484\n00:26:33.350 --> 00:26:34.950\nand it's going to do that for me.\n\n485\n00:26:34.950 --> 00:26:38.960\nI just have to tell it exactly what that\nis, and we can get that rockin and rollin.\n\n486\n00:26:38.960 --> 00:26:41.620\nIt's a very nice thing to be able\nto automate these processes.\n\n487\n00:26:41.620 --> 00:26:44.220\nReally looking forward to\nseeing that pull operation.\n\n488\n00:26:44.220 --> 00:26:48.130\nLet the computer go even a little more\nautomated things that I don't have to do I\n\n489\n00:26:48.130 --> 00:26:50.755\ncan make sure that I can watch YouTube or\nsomething instead.\n\n490\n00:26:50.755 --> 00:26:51.264\n[LAUGH]\n>> [LAUGH]\n\n491\n00:26:51.264 --> 00:26:52.660\n>> That being said, Mike,\n\n492\n00:26:52.660 --> 00:26:54.850\nit looks like we've come\nto the end of this episode.\n\n493\n00:26:54.850 --> 00:26:56.590\nLooking forward to seeing\nyou in the next one.\n\n494\n00:26:56.590 --> 00:26:58.090\nHopefully you guys as well.\n\n495\n00:26:58.090 --> 00:26:59.900\nAs for this one,\nwe're gonna go ahead and sign off.\n\n496\n00:26:59.900 --> 00:27:02.590\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n497\n00:27:02.590 --> 00:27:03.380\n>> And I'm Mike Rodrick.\n\n498\n00:27:03.380 --> 00:27:04.883\n>> We'll see you next time.\n\n499\n00:27:04.883 --> 00:27:11.075\n[SOUND]\n\n",
          "vimeoId": "178639002"
        },
        {
          "description": "In this episode, Daniel and Mike continue taking you through installing, upgrading, and migrating to Windows Server 2016. They show you the final piece of the Desired State Configuration(DSC) puzzle; demonstrating how to implement a Pull Server for DSC, which will automate the DSC process.",
          "length": "1807",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-4-install_uprade_and_migrate_pt4-080916-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-4-install_uprade_and_migrate_pt4-080916-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-4-install_uprade_and_migrate_pt4-080916-1-sm.jpg",
          "title": "Install, Upgrade and Migrate Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:08.196\n[MUSIC]\n\n2\n00:00:08.196 --> 00:00:12.661\nAll right.\n\n3\n00:00:12.661 --> 00:00:15.600\nGreetings everyone and welcome to\nanother great episode of ITProTV.\n\n4\n00:00:15.600 --> 00:00:17.370\nI'm your host Daniel Lowrie and\n\n5\n00:00:17.370 --> 00:00:22.410\nin today's episode we continue on with\nour installing storage and compute.\n\n6\n00:00:22.410 --> 00:00:24.040\nLook at me, I'm getting it right.\n\n7\n00:00:24.040 --> 00:00:25.120\nWith Windows Server 2016.\n\n8\n00:00:25.120 --> 00:00:29.960\nJoining us back in the studio again for\na part four on some of\n\n9\n00:00:29.960 --> 00:00:33.440\nthe desired state we've been working on,\nand installing and configuring.\n\n10\n00:00:33.440 --> 00:00:36.940\nWe're down to the desired state, Mike you\ngot some really cool stuff for us today.\n\n11\n00:00:36.940 --> 00:00:39.636\nJoining us, obviously,\nis our good friend Mr. Mike Rodrick.\n\n12\n00:00:39.636 --> 00:00:41.420\nMike, welcome.\n>> Well thank you very much,\n\n13\n00:00:41.420 --> 00:00:44.840\nglad to be here, and yes, I got some\nreally neat stuff coming your way today.\n\n14\n00:00:44.840 --> 00:00:47.270\nI think anyway,\nhopefully you guys are geeks like me, and\n\n15\n00:00:47.270 --> 00:00:49.520\nthis will be as exciting for you.\n\n16\n00:00:49.520 --> 00:00:52.880\nWe are working with that\ndesired state configuration.\n\n17\n00:00:52.880 --> 00:00:57.310\nIt's not new to Server, but\nit's definitely working its way up to be\n\n18\n00:00:57.310 --> 00:01:02.060\nsomething that one,\nMicrosoft's gonna test you on for sure.\n\n19\n00:01:02.060 --> 00:01:03.810\nSo we need to know it for that.\n\n20\n00:01:03.810 --> 00:01:07.640\nAnd I think we'll see it more and more in\nthe enterprise as it gains popularity and\n\n21\n00:01:07.640 --> 00:01:11.350\nthey worked out most of the kinks and\nthings like that.\n\n22\n00:01:11.350 --> 00:01:12.450\nIt's kind of like PowerShell.\n\n23\n00:01:12.450 --> 00:01:15.020\nIt took a little bit to get that\nball rolling with PowerShell,\n\n24\n00:01:15.020 --> 00:01:17.690\nbut eventually everybody got on board.\n\n25\n00:01:17.690 --> 00:01:19.770\nSo anyway, desired state configuration.\n\n26\n00:01:19.770 --> 00:01:20.770\nWe've already talked about it.\n\n27\n00:01:20.770 --> 00:01:26.030\nWe said it was a way to automate\nconfiguring a node, a server.\n\n28\n00:01:26.030 --> 00:01:29.270\nIt doesn't have to be a server, but\nwe're gonna be dealing with servers here.\n\n29\n00:01:29.270 --> 00:01:33.790\nIt'll automate some of that configuration\nas well as maintain that configuration.\n\n30\n00:01:33.790 --> 00:01:37.760\nBecause we said we could run that\ndesired state configuration script.\n\n31\n00:01:37.760 --> 00:01:41.900\nAnd it could install IIS and\nASP.NET 4.5, right?\n\n32\n00:01:41.900 --> 00:01:45.500\nBut then the next time we run it,\nit'll make sure that it's there.\n\n33\n00:01:45.500 --> 00:01:51.025\nAnd if for some reason ASP got removed\nby some other admin, it'll put it back.\n\n34\n00:01:51.025 --> 00:01:54.615\nWe talked about it can access the file\nsystem, it can create files, folders,\n\n35\n00:01:54.615 --> 00:01:58.835\ncopy files and folders, PowerShell,\nI mean the list went on, right?\n\n36\n00:01:58.835 --> 00:02:03.444\nRegistry settings, what else,\nmanaging local groups and end-users.\n\n37\n00:02:04.850 --> 00:02:09.280\nEnvironmental variables, lots of stuff\nthat DSC can do, and it's just gonna grow.\n\n38\n00:02:09.280 --> 00:02:12.220\nThey're gonna add more and\nmore to it, as time goes on.\n\n39\n00:02:12.220 --> 00:02:14.700\nBut anyway, we talked about all that.\n\n40\n00:02:14.700 --> 00:02:18.910\nWe saw in a previous episode how we\ndid what we call a push configuration.\n\n41\n00:02:18.910 --> 00:02:21.710\nWhere we write a script, we run it.\n\n42\n00:02:21.710 --> 00:02:23.540\nIt creates that MOF file.\n\n43\n00:02:23.540 --> 00:02:25.250\nI take it to that machine.\n\n44\n00:02:25.250 --> 00:02:29.800\nWell I don't actually have to take it\nto the machine but I run a script to\n\n45\n00:02:29.800 --> 00:02:34.810\nexecute that MOF file on that target\nnode and it would perform the action.\n\n46\n00:02:34.810 --> 00:02:35.835\nBut then, that was it, right.\n\n47\n00:02:35.835 --> 00:02:38.630\nI'd have to execute again the next\ntime I wanted it, all right.\n\n48\n00:02:38.630 --> 00:02:43.050\nI could try to create a scheduled task\nI suppose to try to accomplish that.\n\n49\n00:02:43.050 --> 00:02:46.600\nAs I said in this episode we want\nto do what they call a pull server\n\n50\n00:02:46.600 --> 00:02:50.645\nwhich is a much more enterprise\nfriendly type of set-up.\n\n51\n00:02:50.645 --> 00:02:53.670\nAnd the idea here is,\n\n52\n00:02:53.670 --> 00:02:58.070\nwe can create a server that's going\nto host these configuration files.\n\n53\n00:02:58.070 --> 00:03:01.440\nAnd then we can enroll these\nnodes in this set up, and\n\n54\n00:03:01.440 --> 00:03:05.280\nthey will periodically check\nwith the pull server, and\n\n55\n00:03:05.280 --> 00:03:09.890\nsee if there's any configurations for\nthem, pull them down, execute them.\n\n56\n00:03:09.890 --> 00:03:13.170\nThat can be, like I said, installing\nroles, copying files, what have you.\n\n57\n00:03:13.170 --> 00:03:18.340\nAnd it will repeat that process by\ndefault every 30 minutes, it'll check in.\n\n58\n00:03:18.340 --> 00:03:20.150\nAnd you think,\nwow that's kinda cool, right?\n\n59\n00:03:20.150 --> 00:03:21.760\nCuz now I can take these web servers,\n\n60\n00:03:21.760 --> 00:03:24.900\nlet's say I've got ten web servers in my\nweb farm, I can make sure they're all\n\n61\n00:03:24.900 --> 00:03:28.780\nconfigured exactly the same,\nby using this one configuration file.\n\n62\n00:03:28.780 --> 00:03:31.140\nAll ten of them pull that down and\nthey run it.\n\n63\n00:03:31.140 --> 00:03:36.250\nIf I need to make a change to all ten of\nthose web servers I modify one DSC file,\n\n64\n00:03:36.250 --> 00:03:42.540\none MOF file to add a directory or\nanother role or whatever the case may be.\n\n65\n00:03:42.540 --> 00:03:45.280\nAnd all ten of those machines\nwill retrieve that file and\n\n66\n00:03:45.280 --> 00:03:46.880\nimplement that change.\n\n67\n00:03:46.880 --> 00:03:49.130\nLet's say I roll out ten new ones, right?\n\n68\n00:03:49.130 --> 00:03:53.120\nI gotta add ten more to my farm,\ncuz we need 20 servers in the farm now.\n\n69\n00:03:53.120 --> 00:03:56.950\nI just roll out ten servers, add them\nto the configuration, and step back.\n\n70\n00:03:56.950 --> 00:03:59.200\nAnd they're gonna go and\npull that configuration down and\n\n71\n00:03:59.200 --> 00:04:01.220\nmake themselves just like the other nodes.\n\n72\n00:04:01.220 --> 00:04:03.650\nThat's the kind of thing\nyou can do with DSCs.\n\n73\n00:04:03.650 --> 00:04:06.810\n>> And so, Mike, this is obviously going\nto be a very simple process, right?\n\n74\n00:04:06.810 --> 00:04:11.070\nAdd a role, add a feature, click\na couple of buttons, turn some dials.\n\n75\n00:04:11.070 --> 00:04:12.910\nAnd we're DSC pulling all day long, right?\n\n76\n00:04:12.910 --> 00:04:14.200\n>> All day long, yeah.\n\n77\n00:04:14.200 --> 00:04:17.400\nFor those of you that are watching live,\nyou know it's been a struggle\n\n78\n00:04:17.400 --> 00:04:20.350\njust trying to get some of\nthe kinks worked out in here.\n\n79\n00:04:20.350 --> 00:04:25.070\nThe information isn't quite there on some\nof the TechNet and things like that,\n\n80\n00:04:25.070 --> 00:04:28.370\nI'm trying to get this to work smoothly.\n\n81\n00:04:28.370 --> 00:04:32.370\nEspecially when you're in a test\nenvironment and maybe you don't\n\n82\n00:04:32.370 --> 00:04:35.240\nset up a certificate authority, so\nyou're using self-signed certificates.\n\n83\n00:04:35.240 --> 00:04:37.760\nAll that can add a little\nbit of complexity to it.\n\n84\n00:04:37.760 --> 00:04:39.160\nSo let's talk about it.\n\n85\n00:04:39.160 --> 00:04:41.540\nWe set up this pull server.\n\n86\n00:04:41.540 --> 00:04:44.250\nFirst of all there's two ways\nI can set the pull server up.\n\n87\n00:04:44.250 --> 00:04:48.485\nWe can use web services as the way that\nmy machines are gonna connect to that\n\n88\n00:04:48.485 --> 00:04:49.330\npull server.\n\n89\n00:04:49.330 --> 00:04:51.040\nOr I can do an SMB share.\n\n90\n00:04:51.040 --> 00:04:55.050\nSo an SMB share, a simple Windows\nshare that we host on a server.\n\n91\n00:04:55.050 --> 00:04:58.050\nIt could be any file server,\nit could host the config files, and\n\n92\n00:04:58.050 --> 00:04:59.170\nthey'll just connect via SMB.\n\n93\n00:04:59.170 --> 00:05:03.210\nAnd that's really easier to set up,\n\n94\n00:05:03.210 --> 00:05:07.280\nespecially if you're on a single subnet,\nI don't have any firewalls.\n\n95\n00:05:07.280 --> 00:05:11.210\nYou start introducing multiple subnets,\nyou start introducing firewalls, and\n\n96\n00:05:11.210 --> 00:05:14.500\nnow all of a sudden SMB sometimes becomes\na little more difficult to get through\n\n97\n00:05:14.500 --> 00:05:17.415\nthose, the way it uses dynamic ports and\nthings like that.\n\n98\n00:05:17.415 --> 00:05:20.380\nSo SMB starts to become\na little more difficult.\n\n99\n00:05:20.380 --> 00:05:24.538\nAnd that's where the web thing comes in\nbecause now we can go over web ports that\n\n100\n00:05:24.538 --> 00:05:26.693\nare typically open already on routers.\n\n101\n00:05:26.693 --> 00:05:33.102\nOr we can open up those firewall holes\nto a little more easier, not easier,\n\n102\n00:05:33.102 --> 00:05:39.350\nbut more realistic approach in\na complex enterprise environment.\n\n103\n00:05:39.350 --> 00:05:44.190\nAnd we can use HTTPS, we can secure\nthe transmissions of these MOF files and\n\n104\n00:05:44.190 --> 00:05:46.940\nthese configurations when we do the web.\n\n105\n00:05:46.940 --> 00:05:49.970\nSo the web is the one I'm\ngonna choose to do here.\n\n106\n00:05:49.970 --> 00:05:52.388\nMight as well make it\nas painful as possible.\n\n107\n00:05:52.388 --> 00:05:53.800\n>> [LAUGH]\n>> [LAUGH] I\n\n108\n00:05:53.800 --> 00:05:56.160\nalways like figuring the most difficult\none, and going for that, right?\n\n109\n00:05:56.160 --> 00:05:57.170\nThat's how you learn.\n\n110\n00:05:57.170 --> 00:06:00.530\nThat is how you figure this stuff out, is\nyou get in there and you pound on it, and\n\n111\n00:06:00.530 --> 00:06:03.990\nyou pound on it,\nuntil it starts to make sense, right?\n\n112\n00:06:03.990 --> 00:06:07.440\nAnd I've done most of that for you, so\nhopefully I can just share my knowledge,\n\n113\n00:06:07.440 --> 00:06:10.350\nand you can start from there and move on.\n\n114\n00:06:10.350 --> 00:06:14.300\nAll right, so to get this whole ball\nof wax rolling let's go ahead and\n\n115\n00:06:14.300 --> 00:06:16.120\npull up my screen here.\n\n116\n00:06:16.120 --> 00:06:19.470\nAll right, so switch over here to\nserver one and that's going to be,\n\n117\n00:06:19.470 --> 00:06:22.950\nwe're gonna use server one\nas my DSC pull server.\n\n118\n00:06:22.950 --> 00:06:25.960\nSo is the one that everybody's\ngonna connect to to pull their\n\n119\n00:06:25.960 --> 00:06:27.510\nconfiguration from.\n\n120\n00:06:27.510 --> 00:06:29.600\nSo we'll start by setting this guy up.\n\n121\n00:06:29.600 --> 00:06:33.330\nFirst thing I'm gonna do, open up a little\nPowerShell window as administrator.\n\n122\n00:06:35.662 --> 00:06:36.969\nWe'll get that fired up.\n\n123\n00:06:37.990 --> 00:06:42.130\nAnd there's a couple things I need to do\nto get ready to set this up, all right?\n\n124\n00:06:42.130 --> 00:06:47.590\nI need to first create a self-signed\ncertificate that we're gonna use.\n\n125\n00:06:47.590 --> 00:06:51.500\nRemember, I said we're gonna secure\nthe traffic, so we need a certificate for\n\n126\n00:06:51.500 --> 00:06:53.820\nthat SSL that it's going to use.\n\n127\n00:06:53.820 --> 00:06:57.289\nNow if I had a certificate authority\navailable, I'd issue a certificate.\n\n128\n00:06:58.740 --> 00:07:02.980\nI might be purchasing one from a third\nparty in an enterprise environment.\n\n129\n00:07:02.980 --> 00:07:05.850\nI'm gonna create what we call\na self signed certificate.\n\n130\n00:07:05.850 --> 00:07:08.674\nHopefully you've seen\nthe certificate authority episodes.\n\n131\n00:07:08.674 --> 00:07:15.580\nMicrosoft had a tool called MakeCert that\nyou could run from the command line.\n\n132\n00:07:15.580 --> 00:07:21.330\nThere's actually now a PowerShell command\nwe can use to create a new certificate,\n\n133\n00:07:21.330 --> 00:07:22.260\nso let's do that.\n\n134\n00:07:22.260 --> 00:07:27.740\nIt's new-SelfSignedCertificate.\n\n135\n00:07:27.740 --> 00:07:31.500\nAnd I'm gonna give it a CertStoreLocation.\n\n136\n00:07:31.500 --> 00:07:34.100\n>> Man,\nthat's a whole lot easier than MakeCert.\n\n137\n00:07:34.100 --> 00:07:34.694\n>> It is.\n\n138\n00:07:34.694 --> 00:07:39.096\n>> [LAUGH]\n>> [LAUGH] That's going to be,\n\n139\n00:07:39.096 --> 00:07:46.128\nlet me remember, cert:/LocalMachine/my.\n\n140\n00:07:46.128 --> 00:07:49.341\nI'm gonna take out that last slash there,\nas I auto fill that.\n\n141\n00:07:49.341 --> 00:07:53.433\nThat's gonna put the certificate in\nthe local store for the machine account,\n\n142\n00:07:53.433 --> 00:07:56.102\nnot for\nthe user that you're logged onto, right?\n\n143\n00:07:56.102 --> 00:07:58.137\nIt's going into LocalMachine/my.\n\n144\n00:07:58.137 --> 00:08:02.392\nThen I'm gonna put a Subject for\nthe certificate.\n\n145\n00:08:02.392 --> 00:08:10.472\nI'm gonna do a inside quote CN comma\nname equals psdsc pull server,\n\n146\n00:08:10.472 --> 00:08:14.460\nand that name's not important.\n\n147\n00:08:15.730 --> 00:08:18.380\nIt's scrolling over here.\n\n148\n00:08:18.380 --> 00:08:21.490\nWhat you give that name\nIsn't that important.\n\n149\n00:08:21.490 --> 00:08:23.670\nYou could really call\nit just about anything,\n\n150\n00:08:23.670 --> 00:08:27.380\nas long as in your other scripts,\nit matches, and I'll show you.\n\n151\n00:08:27.380 --> 00:08:31.190\nReally, we're actually going to be doing\nit by thumbprint from the certificate.\n\n152\n00:08:31.190 --> 00:08:34.029\nSo again, that common name you could\npretty much use what you wanted.\n\n153\n00:08:35.050 --> 00:08:39.220\nWe'll hit enter, and there we go,\nwe now have a new certificate.\n\n154\n00:08:40.290 --> 00:08:44.260\nThe next thing I'm going to do is\nopen up a new management console so\n\n155\n00:08:44.260 --> 00:08:46.170\nI can work with that certificate.\n\n156\n00:08:46.170 --> 00:08:48.880\nSo we hit enter, MMC, enter.\n\n157\n00:08:48.880 --> 00:08:50.859\nOpen up my Microsoft management console.\n\n158\n00:08:52.180 --> 00:08:55.110\nDual file, add remove snap in.\n\n159\n00:08:55.110 --> 00:08:58.750\nAnd do my certificate snap in for\nthe computer account.\n\n160\n00:09:01.410 --> 00:09:02.270\nAnd we'll click OK.\n\n161\n00:09:03.340 --> 00:09:05.240\nSo now I can work with\nthe certificates for\n\n162\n00:09:05.240 --> 00:09:09.150\nthis local machine,\nI'm expanding out personal certificates.\n\n163\n00:09:09.150 --> 00:09:13.170\nAnd there's the certificate that I just\ngenerated with that PowerShell command.\n\n164\n00:09:13.170 --> 00:09:14.320\nThe reason I'm going in here and\n\n165\n00:09:14.320 --> 00:09:17.140\ndoing this is because I need\nto export this certificate.\n\n166\n00:09:17.140 --> 00:09:20.010\nIt's not issued by a company\ncertificate authority or\n\n167\n00:09:20.010 --> 00:09:23.530\na public CA that all my other\nmachines are gonna know to trust.\n\n168\n00:09:23.530 --> 00:09:26.860\nIt's a self signed certificate, nobody\nwould trust it other than this machine.\n\n169\n00:09:26.860 --> 00:09:29.640\nSo I'm gonna export,\ngo into group policy and\n\n170\n00:09:29.640 --> 00:09:32.640\ndeploy it out to the other\nmachines on my network.\n\n171\n00:09:32.640 --> 00:09:37.630\nSo I'll right-click, all tasks, export,\nand I'll just go through the wizard.\n\n172\n00:09:37.630 --> 00:09:39.090\nHopefully you've seen this before.\n\n173\n00:09:39.090 --> 00:09:43.300\nI don't need the private key, so\nI'm just doing a .cer format.\n\n174\n00:09:43.300 --> 00:09:48.650\nAnd I am going to dump this on the C\ndrive directly cuz it makes it easier for\n\n175\n00:09:48.650 --> 00:09:50.850\nme to get to later.\n\n176\n00:09:50.850 --> 00:09:58.970\nAnd I'm gonna call it dsc pool server.\n\n177\n00:09:58.970 --> 00:10:03.980\nSo I'm dumping it out again to the C\ndrive, we'll click next and finish.\n\n178\n00:10:03.980 --> 00:10:05.110\nExport was successful.\n\n179\n00:10:05.110 --> 00:10:10.310\nAll right, and we'll minimize that,\nbut I don't need that console anymore.\n\n180\n00:10:10.310 --> 00:10:16.360\nNow if we go to my C drive, and\nwe take a look, there's that certificate.\n\n181\n00:10:16.360 --> 00:10:17.750\nSo I'm gonna go over to\nthe domain controller,\n\n182\n00:10:17.750 --> 00:10:21.250\nwe'll open up our\nGroup Policy Management console, and\n\n183\n00:10:21.250 --> 00:10:23.840\nwe'll just create a policy\nup at the domain level so\n\n184\n00:10:23.840 --> 00:10:27.010\nwe can deploy deploy that certificate\nto the other nodes in my network.\n\n185\n00:10:27.010 --> 00:10:31.290\nSo I'll create a GPO,\nI'll call it something like DCS.\n\n186\n00:10:31.290 --> 00:10:33.850\nWe'll go back in and edit that policy.\n\n187\n00:10:35.430 --> 00:10:38.943\nAnd I'm gonna go underneath\nComputer Configuration, Policies,\n\n188\n00:10:38.943 --> 00:10:43.860\nWindows Settings, Security Settings,\n\n189\n00:10:43.860 --> 00:10:49.000\nPublic Key Policies, and then\nTrusted Root certification Authorities.\n\n190\n00:10:49.000 --> 00:10:54.540\nI'm going to right click,\nImport, I'll go Next,\n\n191\n00:10:55.950 --> 00:11:02.880\nand I'm going to browse back over to\nserver 1 and grab that certificate.\n\n192\n00:11:02.880 --> 00:11:07.680\nSo there's that certificate we created,\nand then exported on server 1.\n\n193\n00:11:07.680 --> 00:11:13.640\nI'll click Open, and Next,\nand Next, and Finish, and OK.\n\n194\n00:11:13.640 --> 00:11:14.800\nAnd just make sure it shows up here.\n\n195\n00:11:14.800 --> 00:11:17.780\nSo that's gonna allow me to deploy that\nself signed certificate out to the other\n\n196\n00:11:17.780 --> 00:11:19.320\nnodes so they'll know to trust it.\n\n197\n00:11:19.320 --> 00:11:22.320\nCuz it wasn't issued by a trusted CA,\nit's not an enterprise CA, or\n\n198\n00:11:22.320 --> 00:11:24.530\na third party CA or anything like that.\n\n199\n00:11:24.530 --> 00:11:28.450\nSo we'll close the editor,\nwe'll close group policy management.\n\n200\n00:11:28.450 --> 00:11:32.910\nI'll flip back over to server one, server\none it's its own certificate so he's good.\n\n201\n00:11:32.910 --> 00:11:39.190\nBut just to be thorough, all right, we'll\ngo ahead and update policy on server one.\n\n202\n00:11:39.190 --> 00:11:44.174\nAnd the really important one the one\nthat's going to be connecting\n\n203\n00:11:44.174 --> 00:11:46.940\nto server one via HTTPS is server 2.\n\n204\n00:11:46.940 --> 00:11:52.440\nAnd so we'll do a little gp update\nswitch force on that one as well.\n\n205\n00:11:52.440 --> 00:11:55.040\nThat will add it to the trusted\nroute on this note so\n\n206\n00:11:55.040 --> 00:11:58.560\nthey'll trust our certificate and be able\nto set up that as a cell connection.\n\n207\n00:11:59.650 --> 00:12:04.420\nAll right so, we've got our certificate\nin place to support our HTTPS\n\n208\n00:12:04.420 --> 00:12:07.680\nconversations that we wanna us for\nDCS server.\n\n209\n00:12:07.680 --> 00:12:11.180\nThe next thing we're gonna do is\nwe're gonna create what's called\n\n210\n00:12:11.180 --> 00:12:14.030\na registration key.\n\n211\n00:12:14.030 --> 00:12:20.910\nAnd a registration key is gonna be\nused to identify the DCS pull server.\n\n212\n00:12:20.910 --> 00:12:24.170\nI don't want my nodes connecting to\njust anybody's poll server, right?\n\n213\n00:12:24.170 --> 00:12:26.170\nIt might poll some really bad stuff.\n\n214\n00:12:26.170 --> 00:12:28.670\nI want to make sure that other\nnodes can't connect to it\n\n215\n00:12:28.670 --> 00:12:30.970\nif they don't know that registration key.\n\n216\n00:12:30.970 --> 00:12:33.210\nSo really what we need\nis just a unique number.\n\n217\n00:12:33.210 --> 00:12:36.326\nAnother cool function\nin Powershell is GUID.\n\n218\n00:12:36.326 --> 00:12:37.461\nAll right?\n\n219\n00:12:37.461 --> 00:12:43.283\n[Guid]:: NewGuid(),\n\n220\n00:12:43.283 --> 00:12:48.644\nmake sure I got that right.\n\n221\n00:12:48.644 --> 00:12:52.615\nI like to Tab auto fill,\njust to make sure I can get that right.\n\n222\n00:12:52.615 --> 00:12:58.191\nFor some reason it's,\nbecause I missed d in the word guid.\n\n223\n00:12:58.191 --> 00:12:59.640\nThere we go.\n\n224\n00:13:01.420 --> 00:13:02.830\nAnd close that parenthesis.\n\n225\n00:13:02.830 --> 00:13:04.720\nThat's why that tab autofill's so\nfantastic.\n\n226\n00:13:04.720 --> 00:13:06.900\nIf it doesn't work-\n>> You know you've done something wrong.\n\n227\n00:13:06.900 --> 00:13:08.530\n>> Exactly, and I don't have to wait and\n\n228\n00:13:08.530 --> 00:13:10.218\nfigure out that later that\nI did something wrong.\n\n229\n00:13:10.218 --> 00:13:12.072\nSo new GUID, hit Enter, and\n\n230\n00:13:12.072 --> 00:13:16.491\nit's gonna generate this GUID that\nI can use as a registration key.\n\n231\n00:13:16.491 --> 00:13:21.461\nSo, typically what I'm going to do,\nwhen I set these up like this I need this\n\n232\n00:13:21.461 --> 00:13:24.969\nthumbprint later on,\nI also need this GUID later on.\n\n233\n00:13:24.969 --> 00:13:27.792\nSo what I'm going to do, is I'm just going\nto leave that PowerShell window there with\n\n234\n00:13:27.792 --> 00:13:28.910\nthose numbers right there.\n\n235\n00:13:28.910 --> 00:13:33.030\nYou could copy them to notepad, write\nthem down or something like that, but\n\n236\n00:13:33.030 --> 00:13:38.400\nyou start writing them down and\nthen you do a little dyslexia on there,\n\n237\n00:13:38.400 --> 00:13:41.880\nyou start flipping a couple of letters\naround or you miss a letter or number.\n\n238\n00:13:41.880 --> 00:13:44.920\nYeah, too easy to make that human error.\n\n239\n00:13:44.920 --> 00:13:45.640\nAll right,\n\n240\n00:13:45.640 --> 00:13:50.070\nnext thing I'm gonna do is just creat\nsome folders real quick on my C drive.\n\n241\n00:13:50.070 --> 00:13:53.100\nAgain, I think I've already got it,\nthere's my configs, and\n\n242\n00:13:53.100 --> 00:13:55.880\nI've got a PullServer and\na TargetNode folder.\n\n243\n00:13:55.880 --> 00:13:57.880\nReally, you could just\ndump them on the root,\n\n244\n00:13:57.880 --> 00:13:59.280\nyou can make your own folder somewhere.\n\n245\n00:13:59.280 --> 00:14:02.512\nI like to put them on the C drive and\nput a little organization to them.\n\n246\n00:14:02.512 --> 00:14:05.560\nMakes them a little bit\neasier to find later on but\n\n247\n00:14:05.560 --> 00:14:11.020\nagain those names don't mean anything as\nfar as this process being successful.\n\n248\n00:14:11.020 --> 00:14:14.780\nBut I will leave that window open as well\nas we can kinda see what happens as we go.\n\n249\n00:14:14.780 --> 00:14:20.200\nAll right,\nnow I'm gonna open up PowerShell ISE,\n\n250\n00:14:20.200 --> 00:14:22.030\nbecause we're gonna be\ndoing some scripting.\n\n251\n00:14:23.130 --> 00:14:25.950\nSo let me get that ISE up and\nrunning as and administrator.\n\n252\n00:14:29.200 --> 00:14:32.505\nAnd what What I need to do,\n\n253\n00:14:32.505 --> 00:14:37.625\nthere's a module that Microsoft\nprovides called XPSDCS, what was\n\n254\n00:14:37.625 --> 00:14:42.635\nthe full name of that thing,\nI think I wrote it down for myself.\n\n255\n00:14:44.810 --> 00:14:47.190\nMaybe not.\n\n256\n00:14:47.190 --> 00:14:50.060\nXPCS desired state configuration.\n\n257\n00:14:50.060 --> 00:14:52.980\nIt's a module you can get from Microsoft.\n\n258\n00:14:52.980 --> 00:14:56.630\nAnd if you haven't done this\nbefore this is another cool thing,\n\n259\n00:14:56.630 --> 00:14:59.350\nthe way Microsoft is now\nproviding these galleries.\n\n260\n00:14:59.350 --> 00:15:04.110\nWhere you can download modules\nfrom their online gallery story.\n\n261\n00:15:04.110 --> 00:15:07.230\nSo I'm gonna do what you would\ndo if you didn't know the name,\n\n262\n00:15:07.230 --> 00:15:12.445\nyou could do a find-module,\n\n263\n00:15:12.445 --> 00:15:15.225\nand then something like xpsdsc, like that.\n\n264\n00:15:15.225 --> 00:15:20.674\nA little wild card action in there.\n\n265\n00:15:22.629 --> 00:15:25.520\nAnd, I lied to you, you know what?\n\n266\n00:15:25.520 --> 00:15:26.900\nI just realized.\n\n267\n00:15:26.900 --> 00:15:31.290\nIt is going to use this what's called\nnew get provider, so go ahead and\n\n268\n00:15:31.290 --> 00:15:32.820\nlet it install that.\n\n269\n00:15:32.820 --> 00:15:36.080\nAnd that's not gonna work,\nlet me let it error out, or\n\n270\n00:15:36.080 --> 00:15:37.370\nI can go ahead and stop that.\n\n271\n00:15:38.590 --> 00:15:42.400\nCuz the actual name is not DCS,\nit's desired state.\n\n272\n00:15:44.830 --> 00:15:46.755\nSo we'll let it find it there.\n\n273\n00:15:46.755 --> 00:15:50.325\nAnd this is just something you can do to\nbrowse through the modules they have.\n\n274\n00:15:50.325 --> 00:15:54.312\nI'll say yes to that,\nlet it install the new get.\n\n275\n00:15:56.659 --> 00:15:58.091\nAnd I can give it just a second.\n\n276\n00:16:00.445 --> 00:16:02.110\nIt'll download, install.\n\n277\n00:16:02.110 --> 00:16:05.800\nThat's just what you need to connect\nto their gallery so you can browse it.\n\n278\n00:16:05.800 --> 00:16:09.230\nAnd here I can see my find module\nfound the module I'm looking for.\n\n279\n00:16:09.230 --> 00:16:10.540\nSo now I got that full name.\n\n280\n00:16:10.540 --> 00:16:11.540\nSo if you didn't know it,\n\n281\n00:16:11.540 --> 00:16:16.510\nyou might just do find-module asterisk,\ndesired state, asterisk.\n\n282\n00:16:16.510 --> 00:16:18.990\nAnd see what modules are up there for\ndesired state.\n\n283\n00:16:18.990 --> 00:16:23.388\nTo install the module is simply\n\n284\n00:16:23.388 --> 00:16:28.633\ninstall -module and then the name,\n\n285\n00:16:28.633 --> 00:16:35.080\nxpowershelldesiredstateconfiguration.\n\n286\n00:16:35.080 --> 00:16:36.160\nAnd we'll let that install.\n\n287\n00:16:36.160 --> 00:16:37.680\nI'm gonna say yes to all.\n\n288\n00:16:37.680 --> 00:16:41.340\nIt is funny that it says it is untrusted\nrepository, it is Microsoft repository.\n\n289\n00:16:42.860 --> 00:16:44.726\n>> They know a bad thing when they see it.\n\n290\n00:16:44.726 --> 00:16:45.359\n>> Yeah.\n\n291\n00:16:45.359 --> 00:16:47.260\n[LAUGH]\n>> [LAUGH] That's dangerous.\n\n292\n00:16:47.260 --> 00:16:48.690\n>> All right, and there we go.\n\n293\n00:16:48.690 --> 00:16:53.070\nAnd so what that mean is that module has\na lot of commands that we're gonna need\n\n294\n00:16:53.070 --> 00:16:55.520\nto support installing this DCS server.\n\n295\n00:16:55.520 --> 00:16:57.490\nSo that's why you're\ngonna need that module.\n\n296\n00:16:57.490 --> 00:17:02.060\nSo now that that module is installed,\nwe are going to\n\n297\n00:17:02.060 --> 00:17:06.340\nopen up some scripts that we can use\nto configure this as a pull server.\n\n298\n00:17:06.340 --> 00:17:10.960\nSo as a pull sever and we said we're gonna\ndo web 9 smb, so that means I need IIS.\n\n299\n00:17:10.960 --> 00:17:13.250\nThat's gonna create some websites.\n\n300\n00:17:13.250 --> 00:17:17.670\nBut fortunately for us,\nMicrosoft gives us sample scripts.\n\n301\n00:17:17.670 --> 00:17:18.570\nAnd let me show you where they are.\n\n302\n00:17:18.570 --> 00:17:24.333\nBecause I installed that module,\nif I navigate into C:programfiles,\n\n303\n00:17:24.333 --> 00:17:26.667\nWindowsPowerShell.\n\n304\n00:17:28.903 --> 00:17:32.200\nModules, there's the module\nI just imported.\n\n305\n00:17:32.200 --> 00:17:35.470\nIf I go inside there,\nthat's the version, 3.13, there's\n\n306\n00:17:36.940 --> 00:17:42.000\nan Examples folder and\nthese are all scripts that I can use.\n\n307\n00:17:42.000 --> 00:17:44.050\nSample InstallMSI, Sample,\n\n308\n00:17:44.050 --> 00:17:47.810\nthis is the one I'm going to\nbe using DSCWebService, right?\n\n309\n00:17:47.810 --> 00:17:49.745\nThat's gonna allow me to set this up.\n\n310\n00:17:49.745 --> 00:17:51.000\nI'll go ahead and open that one up.\n\n311\n00:17:52.360 --> 00:17:57.406\nZoom back out so we can see this,\ndrag this down a little bit, right?\n\n312\n00:17:57.406 --> 00:18:00.836\nAnd we can take a minute and\nkind of look through this script,\n\n313\n00:18:00.836 --> 00:18:05.380\nactually I've got one, well let's\nsee what needs to be modified here.\n\n314\n00:18:05.380 --> 00:18:09.480\nYou can see prereq\ncertificate needs to be in\n\n315\n00:18:09.480 --> 00:18:14.375\nthe cert:mylocalmachine\nwhich we already did.\n\n316\n00:18:14.375 --> 00:18:18.015\nAlso says you're gonna need a GUID\nto use as the registration key.\n\n317\n00:18:18.015 --> 00:18:19.529\nWe already took care of that, all right.\n\n318\n00:18:19.529 --> 00:18:23.455\nThen as we go down through the script,\nit's got some parameters.\n\n319\n00:18:23.455 --> 00:18:25.895\nWe're gonna supply\nthe certificate thumbprint\n\n320\n00:18:25.895 --> 00:18:29.360\nto let it know what certificate we\nwanna use for the SSL connection.\n\n321\n00:18:29.360 --> 00:18:34.800\nIt will generate a new GUID for\nyou if you don't already have one.\n\n322\n00:18:34.800 --> 00:18:37.580\nBut the problem with doing it this\nway is you don't see the GUID.\n\n323\n00:18:37.580 --> 00:18:40.570\nYou'd have to go dive into the file\nthat it generates to find it.\n\n324\n00:18:40.570 --> 00:18:43.020\nI've already generate one,\nso now I know what it is.\n\n325\n00:18:43.020 --> 00:18:46.030\nCuz I'm gonna need to use that\nin another place as well.\n\n326\n00:18:46.030 --> 00:18:51.720\nAnd then you can see import resource,\nDCS module is our state configuration,\n\n327\n00:18:51.720 --> 00:18:54.200\nas well as a second one for\ndesired state configuration.\n\n328\n00:18:55.590 --> 00:18:57.780\nThis is the extra notes.\n\n329\n00:18:57.780 --> 00:19:01.537\nNow I can't remember if they used that for\ntheir final version or\n\n330\n00:19:01.537 --> 00:19:05.363\nI think that is their not beta,\nbut the one that they're, yeah,\n\n331\n00:19:05.363 --> 00:19:08.929\nI'm not even gonna try to put logic to it,\nit's Microsoft.\n\n332\n00:19:08.929 --> 00:19:12.566\n>> [LAUGH]\n>> They add an X on the front of it as\n\n333\n00:19:12.566 --> 00:19:13.843\nthey modify these guys.\n\n334\n00:19:13.843 --> 00:19:15.601\nAll right, below that I've got,\n\n335\n00:19:15.601 --> 00:19:18.400\nwe saw this the other day when\nwe created a config file.\n\n336\n00:19:18.400 --> 00:19:21.810\nI've got my node and\nthen my little block that says\n\n337\n00:19:21.810 --> 00:19:27.290\nWindowsFeature DSCServiceFeature,\nmake sure that's Present.\n\n338\n00:19:27.290 --> 00:19:30.190\nAlso if we go down,\nit's gonna create my web service.\n\n339\n00:19:30.190 --> 00:19:35.210\nNow this is a command that's in that\nmodule that I just imported, right?\n\n340\n00:19:35.210 --> 00:19:37.160\nThis is what I wanna call it.\n\n341\n00:19:37.160 --> 00:19:41.580\nAnd it's gonna make sure that it's\ngonna create an endpoint called PSDSC\n\n342\n00:19:41.580 --> 00:19:42.570\npull server.\n\n343\n00:19:42.570 --> 00:19:44.130\nIt's gonna listen on port 80.\n\n344\n00:19:44.130 --> 00:19:46.020\nThere's an error in this script.\n\n345\n00:19:47.280 --> 00:19:51.590\nThis right here says\ninetpub psdsc pull server.\n\n346\n00:19:51.590 --> 00:19:54.020\nAnybody knows anything about IIS,\n\n347\n00:19:54.020 --> 00:19:58.470\nthat should be inetpub www root and\nthen my website in there.\n\n348\n00:19:58.470 --> 00:20:02.930\nSo I'm gonna add a www root to that,\nso it gets put in the right spot.\n\n349\n00:20:04.370 --> 00:20:07.920\nJust a little caveat that you might\nrun into using that sample script.\n\n350\n00:20:07.920 --> 00:20:09.980\nIt's gonna tell it where\nare the modules and\n\n351\n00:20:09.980 --> 00:20:14.650\nconfigurations are gonna be pulled from\nSQL program files, Windows PowerShell.\n\n352\n00:20:14.650 --> 00:20:17.770\nWe'll take a look at that\nlocation in just little bit.\n\n353\n00:20:17.770 --> 00:20:20.580\nIt's gonna make sure that\nthere's web service is started.\n\n354\n00:20:21.730 --> 00:20:23.880\nAnd it depends on the DCS Service.\n\n355\n00:20:23.880 --> 00:20:26.480\nIf DCS isn't running, then this won't run.\n\n356\n00:20:26.480 --> 00:20:28.330\nOkay, so\nthey're adding a dependency there.\n\n357\n00:20:28.330 --> 00:20:31.318\nAnd then below that,\nfile RegistrationKeyFile,\n\n358\n00:20:31.318 --> 00:20:33.300\nmake sure it's present.\n\n359\n00:20:33.300 --> 00:20:34.350\nIt's a file.\n\n360\n00:20:34.350 --> 00:20:37.750\nThis is the provider we haven't used yet,\nwe haven't seen this one yet.\n\n361\n00:20:37.750 --> 00:20:42.240\nRemember I said it can work that\nDSC has providers for file system.\n\n362\n00:20:42.240 --> 00:20:43.330\nThis is one of them.\n\n363\n00:20:43.330 --> 00:20:47.364\nSo it's gonna create a file\ncalled registrationkeys.txt and\n\n364\n00:20:47.364 --> 00:20:49.738\nit's gonna put it in this location.\n\n365\n00:20:49.738 --> 00:20:52.363\nAnd it's gonna put\nthe contents of the file.\n\n366\n00:20:52.363 --> 00:20:55.440\nIt's gonna be the variable\nregistration key\n\n367\n00:20:55.440 --> 00:21:00.640\nwhich we're gonna set when we\ncall this script, all right?\n\n368\n00:21:00.640 --> 00:21:02.410\nSo pretty neat that they\nbuilt this script for us.\n\n369\n00:21:02.410 --> 00:21:05.220\nAll we have to do now is call the script.\n\n370\n00:21:05.220 --> 00:21:06.800\nSo that's what we're going to do.\n\n371\n00:21:06.800 --> 00:21:09.450\nI'm going to go back up here and\ngrab the name of this guy.\n\n372\n00:21:10.910 --> 00:21:11.900\nI'm gonna grab that.\n\n373\n00:21:13.204 --> 00:21:16.019\nAnd actually, so\nyou guys don't have to watch me,\n\n374\n00:21:16.019 --> 00:21:19.500\nI am going to grab another script\nthat I've already modified.\n\n375\n00:21:21.839 --> 00:21:27.800\nSo I'm gonna go ahead to DCS Scripts and\nConfigFullServer.\n\n376\n00:21:27.800 --> 00:21:30.060\nSame script, it's that same sample script.\n\n377\n00:21:32.360 --> 00:21:33.530\nActually, I did not.\n\n378\n00:21:33.530 --> 00:21:34.773\nLet's go ahead and modify that.\n\n379\n00:21:34.773 --> 00:21:40.854\nWww root, put in there, and at the bottom,\nthis is the way you're gonna call it.\n\n380\n00:21:40.854 --> 00:21:44.490\nSo I'm gonna execute the script and\nthen call the script.\n\n381\n00:21:44.490 --> 00:21:47.980\nWhen I call the script,\nI've got to provide the two parameters.\n\n382\n00:21:47.980 --> 00:21:51.970\nThe certificate thumbprint and\nthe GUID, all right?\n\n383\n00:21:51.970 --> 00:21:54.340\nSo back over to my other\nPowerShell window.\n\n384\n00:21:55.420 --> 00:21:58.500\nThere is the thumb print that I want.\n\n385\n00:21:59.920 --> 00:22:09.530\nSo I'm going to copy that,\ncome over here and paste it in.\n\n386\n00:22:09.530 --> 00:22:12.460\nSame thing for that GUID that I\ngenerated that we're gonna use for\n\n387\n00:22:12.460 --> 00:22:14.230\nthe registration key.\n\n388\n00:22:14.230 --> 00:22:17.251\nI'm gonna copy that,\n\n389\n00:22:17.251 --> 00:22:22.346\nthen come over here and paste that in.\n\n390\n00:22:22.346 --> 00:22:24.280\nMy mouse is flipping out on me.\n\n391\n00:22:24.280 --> 00:22:27.530\nLet's do that a little slower there,\nMichael.\n\n392\n00:22:29.040 --> 00:22:30.330\nIt's jumping up a line on me.\n\n393\n00:22:30.330 --> 00:22:34.300\nGive me one more try here and\nsee if I can keep that level.\n\n394\n00:22:35.540 --> 00:22:36.244\n>> You did it.\n\n395\n00:22:36.244 --> 00:22:38.690\n>> Yay.\nAnd we'll place that value in there.\n\n396\n00:22:38.690 --> 00:22:40.710\nAnd for me I always get paranoid,\nI wanna double-check.\n\n397\n00:22:40.710 --> 00:22:42.385\nDO37.\n\n398\n00:22:42.385 --> 00:22:45.580\nDO37, looks like I've got\nthe right one pasted in there.\n\n399\n00:22:45.580 --> 00:22:49.940\nIn an output path, the results\nof this is gonna be a mof file,\n\n400\n00:22:49.940 --> 00:22:51.300\njust like all the others we've done.\n\n401\n00:22:51.300 --> 00:22:56.220\nAnd it's gonna dump it in that FullServer\nfolder inside configs on my C drive.\n\n402\n00:22:57.650 --> 00:22:59.970\nSo, should be good to go.\n\n403\n00:22:59.970 --> 00:23:01.129\nWe will execute.\n\n404\n00:23:02.570 --> 00:23:04.690\nTells me it's gonna save\nthe script before I execute it.\n\n405\n00:23:07.364 --> 00:23:10.887\nAnd now it executes and\nwe can see localhost.mof.\n\n406\n00:23:10.887 --> 00:23:14.602\nAnd if we look inside\nthat FullServer folder,\n\n407\n00:23:14.602 --> 00:23:18.160\nthere's the mof file I just created.\n\n408\n00:23:18.160 --> 00:23:24.240\nSo we're basically using DCS to\nconfigure our DCS full server, right?\n\n409\n00:23:24.240 --> 00:23:25.466\nWe're doing a push method here.\n\n410\n00:23:25.466 --> 00:23:31.850\nWe're doing it manually, but we're using\nDCS to setup our DSC, I keep saying DCS.\n\n411\n00:23:31.850 --> 00:23:34.640\nDSC to setup our DSC server.\n\n412\n00:23:34.640 --> 00:23:38.270\nAll right, so now what I need\nto do is run that mof file.\n\n413\n00:23:38.270 --> 00:23:42.883\nI need to apply it to this machine\nto start up that DSC service and\n\n414\n00:23:42.883 --> 00:23:45.333\nto create that website, right?\n\n415\n00:23:45.333 --> 00:23:52.339\nSo that's simply, I'm gonna come\ndown to my PowerShell down below and\n\n416\n00:23:52.339 --> 00:23:56.908\nI'm gonna do a start\nDash DSC Configuration.\n\n417\n00:23:56.908 --> 00:24:02.630\nAnd we're gonna do the dash path and\n\n418\n00:24:02.630 --> 00:24:10.300\nthat's gonna be c:\\ Configs\\FullServer.\n\n419\n00:24:10.300 --> 00:24:12.720\nNotice, I'm telling it what\nthe name of the file is.\n\n420\n00:24:12.720 --> 00:24:16.330\nRemember, you point it to the directory,\nnot the file itself.\n\n421\n00:24:16.330 --> 00:24:20.820\nIt'll see a file called localhost and\ngo, that MOF must be for\n\n422\n00:24:20.820 --> 00:24:24.270\nme, I'm localhost then it's\ngonna execute that MOF file.\n\n423\n00:24:24.270 --> 00:24:28.810\nAll right, and\nI'll also add a dash weight and\n\n424\n00:24:28.810 --> 00:24:32.190\na dash verbose just we\ncan see what's going on.\n\n425\n00:24:33.190 --> 00:24:36.837\nDrag this guy up a little bit and\nwe'll execute that statement.\n\n426\n00:24:41.920 --> 00:24:46.165\nAnd a lot of blue and\nno red that's always good with PowerShell.\n\n427\n00:24:48.739 --> 00:24:50.660\nSo, it should finish up\nhere in just a second.\n\n428\n00:24:52.260 --> 00:24:54.791\nBut what you can see if I\ndo this before it scrolls,\n\n429\n00:24:54.791 --> 00:24:57.346\nthere's Get-WindowsFeature\nright over here.\n\n430\n00:24:57.346 --> 00:24:59.740\nDCS service that is\nstarting up that service.\n\n431\n00:24:59.740 --> 00:25:03.310\nIt succeeded, it's now going out and\ngetting an IIS.\n\n432\n00:25:04.400 --> 00:25:05.550\nShould be installing that.\n\n433\n00:25:10.093 --> 00:25:12.700\nIt's taking its time, but that's okay.\n\n434\n00:25:12.700 --> 00:25:14.390\nAnd once this is done,\n\n435\n00:25:14.390 --> 00:25:19.590\nwe should have the full server,\na set up and we're ready to go.\n\n436\n00:25:19.590 --> 00:25:21.629\n>> Now once we have the full server up and\n\n437\n00:25:21.629 --> 00:25:25.440\nrunning, are all of the files that we\nneed to, I can't remember that ended.\n\n438\n00:25:25.440 --> 00:25:25.940\n>> The MOF.\n\n439\n00:25:25.940 --> 00:25:26.840\n>> The MOF, thank you.\n\n440\n00:25:26.840 --> 00:25:28.464\nThe MOF files are there and\nyou gonna be there?\n\n441\n00:25:28.464 --> 00:25:29.606\nOr do we have to create them and\n\n442\n00:25:29.606 --> 00:25:31.950\nset them in a specific directory or\nanything of that nature?\n\n443\n00:25:31.950 --> 00:25:34.620\n>> Great question, it's the latter,\nwe are gonna have to create them and\n\n444\n00:25:34.620 --> 00:25:36.450\nput them in appropriate places.\n\n445\n00:25:36.450 --> 00:25:40.330\nBecause we've got that website and in this\nconfig file we told it where to look.\n\n446\n00:25:40.330 --> 00:25:43.660\nIf somebody connects to you on port 8080,\nand it's asking for\n\n447\n00:25:43.660 --> 00:25:46.680\na configuration file,\nwhere is it supposed to look?\n\n448\n00:25:46.680 --> 00:25:48.911\nIt is suppose to look ain that\nSQL in program files, and\n\n449\n00:25:48.911 --> 00:25:50.390\nI'll show you that path again.\n\n450\n00:25:50.390 --> 00:25:52.492\nSo there we go, it finished up.\n\n451\n00:25:52.492 --> 00:25:57.410\nWe are golden,\neverything looks good, all right?\n\n452\n00:25:57.410 --> 00:26:00.799\nAnd the answer to Daniel's question again,\nif I look back at our script.\n\n453\n00:26:02.500 --> 00:26:04.190\nThese paths right here.\n\n454\n00:26:06.270 --> 00:26:09.030\nThis is how it knows where to look.\n\n455\n00:26:09.030 --> 00:26:12.640\nSo, this is where you'll have to\nplace your configuration MOF files or\n\n456\n00:26:12.640 --> 00:26:15.040\nif you're importing modules\nto these other nodes.\n\n457\n00:26:15.040 --> 00:26:16.530\nThis is where you would have to put it.\n\n458\n00:26:16.530 --> 00:26:18.180\nThat's where they're going\nto be looking for them.\n\n459\n00:26:19.570 --> 00:26:24.310\nAll right, the last script I wanna run for\nthis guy is one that we can use\n\n460\n00:26:24.310 --> 00:26:28.800\nto test the DSC configuration,\nto make sure my server's up and running.\n\n461\n00:26:28.800 --> 00:26:30.990\nThis is another one that's\nin those sample files.\n\n462\n00:26:32.030 --> 00:26:35.210\nI'm going to make sure I don't\nneed to modify anything.\n\n463\n00:26:35.210 --> 00:26:38.238\nLet's see here, so\nbefore I'll update the pull server.\n\n464\n00:26:38.238 --> 00:26:45.090\nI've just got HTTPS host name port 8080,\nPSDSC pull server I'm good to go there.\n\n465\n00:26:46.560 --> 00:26:54.700\nInetpub this is gonna have to be slash\nwww root pull server web config.\n\n466\n00:26:54.700 --> 00:26:57.750\nI think that's all I'm\ngonna need to modify.\n\n467\n00:26:57.750 --> 00:27:01.800\nIt's gonna look and make sure\nthe registrationkey.text file is there.\n\n468\n00:27:01.800 --> 00:27:06.280\nIt's going to make sure my past,\nmy configurations, repository,\n\n469\n00:27:06.280 --> 00:27:10.160\nwhere this supposed to look for the\nmodules and the config files is correct.\n\n470\n00:27:10.160 --> 00:27:12.976\nWhat else is this guy doing?\n\n471\n00:27:12.976 --> 00:27:16.080\nAnd it's got us some errors it'll\nthrow up if any of these tests fail.\n\n472\n00:27:18.240 --> 00:27:21.251\nAnything else I wanna point out.\n\n473\n00:27:21.251 --> 00:27:25.291\nLooks good, it's looking for a code 200\nto let me know that server is up and\n\n474\n00:27:25.291 --> 00:27:26.670\nrunning and responding.\n\n475\n00:27:27.890 --> 00:27:29.420\nSo, we should be good there.\n\n476\n00:27:29.420 --> 00:27:34.500\nAlso notice I've commented out\nAllow unsecure connection, true.\n\n477\n00:27:34.500 --> 00:27:38.670\nAll right, what that means is\nI want only HTTPS connections.\n\n478\n00:27:38.670 --> 00:27:41.511\nSo, I wanna test secure connections\non our configuration panel,\n\n479\n00:27:41.511 --> 00:27:43.500\nyou can set this up to\nwhere it's not secured.\n\n480\n00:27:43.500 --> 00:27:46.209\nYou can say allow unsecured connection,\ntrue.\n\n481\n00:27:46.209 --> 00:27:48.960\n$True and you won't have to use HTTPS.\n\n482\n00:27:48.960 --> 00:27:53.460\nYou could use HTTP, but now you're gonna\nhave potentially sensitive information\n\n483\n00:27:53.460 --> 00:27:55.510\nbeing transmitted across your network.\n\n484\n00:27:55.510 --> 00:27:57.580\nAnd of course we don't want that.\n\n485\n00:27:57.580 --> 00:28:03.810\nSo, we should be good,\nwhat else is going to?\n\n486\n00:28:03.810 --> 00:28:07.210\nIts gonna upload a little\ntest config file and\n\n487\n00:28:07.210 --> 00:28:09.580\nthen see if it can get\nthat test config file.\n\n488\n00:28:09.580 --> 00:28:13.680\nSo, pretty nice little script also\nits gonna try to check sum but\n\n489\n00:28:13.680 --> 00:28:15.640\nI'll talk about that check\nsum here in just a minute.\n\n490\n00:28:15.640 --> 00:28:20.353\nSo, I'm gonna execute the script,\nit's gonna save it.\n\n491\n00:28:22.989 --> 00:28:24.400\nAnd we'll let this guy run.\n\n492\n00:28:27.580 --> 00:28:30.740\nAnd lots of blue,\nthat's always a good sign.\n\n493\n00:28:30.740 --> 00:28:32.590\nAnd then the very last thing,\ngreen plus sign.\n\n494\n00:28:32.590 --> 00:28:35.310\nVerify pull into and works.\n\n495\n00:28:35.310 --> 00:28:38.800\nThat means it was able to upload that\nconfiguration file and then reach out and\n\n496\n00:28:38.800 --> 00:28:40.690\ngrab that configuration file.\n\n497\n00:28:40.690 --> 00:28:42.044\nSo, the DSC server is working.\n\n498\n00:28:42.044 --> 00:28:45.720\nThere was one error you might have\nsaw a little red go through here,\n\n499\n00:28:45.720 --> 00:28:48.530\nverified server is up and running.\n\n500\n00:28:48.530 --> 00:28:52.530\nNot exactly sure why I get that error,\ncuz obviously, the server is up and\n\n501\n00:28:52.530 --> 00:28:54.780\nrunning because, we log in to it.\n\n502\n00:28:54.780 --> 00:28:56.665\nSo, I'm not sure why\nthat gives me that error,\n\n503\n00:28:56.665 --> 00:29:01.440\nI'd have to dive in a little further and\nsee what it's using to test.\n\n504\n00:29:01.440 --> 00:29:02.730\nIt may be a ping packet or\n\n505\n00:29:02.730 --> 00:29:05.720\nsomething like that, that the firewall\nis blocking, I don't know.\n\n506\n00:29:05.720 --> 00:29:09.740\nBut again, everything works, so\nwe're fine ignoring that particular error.\n\n507\n00:29:11.110 --> 00:29:14.824\nAll right, Daniel we are getting there,\nwe've got the DSC,\n\n508\n00:29:14.824 --> 00:29:16.261\nif I can get that right.\n\n509\n00:29:16.261 --> 00:29:17.450\n>> You want to say DCS badly don't you?\n\n510\n00:29:17.450 --> 00:29:18.479\n>> I really do.\n\n511\n00:29:20.140 --> 00:29:22.890\nBut we got our DSC server up and running.\n\n512\n00:29:22.890 --> 00:29:26.260\nThe next step is really to\nconfigure the node now,\n\n513\n00:29:26.260 --> 00:29:28.770\ntell it where to go to start\npulling these configuration files.\n\n514\n00:29:28.770 --> 00:29:30.440\n>> Awesome,\nwell we look forward to seeing that.\n\n515\n00:29:30.440 --> 00:29:33.000\nObviously though, we are well out of time.\n\n516\n00:29:33.000 --> 00:29:36.713\nFor this episode we're gonna have to\ndive into a part five of our wonderful,\n\n517\n00:29:36.713 --> 00:29:40.033\nwonderful, I would say trilogy,\nbut we were well beyond that now.\n\n518\n00:29:40.033 --> 00:29:40.762\nWhat is this?\n\n519\n00:29:40.762 --> 00:29:42.665\nQuintilogy, I guess it is as part five.\n\n520\n00:29:42.665 --> 00:29:43.649\n>> That's it is, yes.\n\n521\n00:29:43.649 --> 00:29:45.230\nSomething to that effect anyway.\n\n522\n00:29:45.230 --> 00:29:46.645\n>> [INAUDIBLE]\n>> So, hopefully we'll see you guys,\n\n523\n00:29:46.645 --> 00:29:47.230\nbut it's really cool.\n\n524\n00:29:47.230 --> 00:29:48.562\nThis is cool stuff Mike-\n>> Mm-hm.\n\n525\n00:29:48.562 --> 00:29:50.608\n>> Really good demonstration,\nwe appreciate that.\n\n526\n00:29:50.608 --> 00:29:51.730\n>> Yeah.\n>> Hopefully, we'll see you guys in\n\n527\n00:29:51.730 --> 00:29:52.380\npart five.\n\n528\n00:29:52.380 --> 00:29:54.380\nBut as for this one,\nwe're gonna go ahead and sign off.\n\n529\n00:29:54.380 --> 00:29:56.890\nFor ITProTV, I've been your host,\nDaniel Lowrie.\n\n530\n00:29:56.890 --> 00:29:57.710\n>> And I'm Mike Rodrick.\n\n531\n00:29:57.710 --> 00:29:58.993\n>> We'll see you next time.\n\n532\n00:29:58.993 --> 00:30:07.090\n[MUSIC]\n\n",
          "vimeoId": "179056659"
        },
        {
          "description": "In this episode, Daniel and Mike finish taking you through installing, upgrading, and migrating to Windows Server 2016. They show you the final piece of the Desired State Configuration(DSC) puzzle; demonstrating how to implement the DSC Pull Clients to get their configs from the Pull Server.",
          "length": "1428",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-5-install_uprade_and_migrate_pt5-080916-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-5-install_uprade_and_migrate_pt5-080916-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-1-5-install_uprade_and_migrate_pt5-080916-1-sm.jpg",
          "title": "Install, Upgrade and Migrate Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.220 --> 00:00:16.642\nAll right, greetings everyone and welcome\nto another exciting episode of ITProTV.\n\n3\n00:00:16.642 --> 00:00:20.860\nI'm your host Daniel Lowrie and\nin today's episode, we continue on with\n\n4\n00:00:20.860 --> 00:00:25.390\nour installation, storage and\ncompute series for Windows Server 2016.\n\n5\n00:00:25.390 --> 00:00:28.700\nAnd joining us back in the studio again\nis our good friend, Mr. Mike Rodrick.\n\n6\n00:00:28.700 --> 00:00:29.550\nMike, welcome back.\n\n7\n00:00:29.550 --> 00:00:30.110\nHow's it going?\n\n8\n00:00:30.110 --> 00:00:31.400\n>> It's going fantastic, Daniel.\n\n9\n00:00:31.400 --> 00:00:36.400\nI'm excited because in this episode we're\nhopefully gonna set up our DSC pull client\n\n10\n00:00:36.400 --> 00:00:38.810\nand test it all out and see how it works.\n\n11\n00:00:38.810 --> 00:00:43.030\nSo in the previous episode,\nremember we set up our DSC pull server,\n\n12\n00:00:43.030 --> 00:00:45.340\nwe used some scripts to accomplish that.\n\n13\n00:00:45.340 --> 00:00:50.746\nWe actually used DSC in push mode\nto set up our DSC pull server,\n\n14\n00:00:50.746 --> 00:00:53.220\nwhich is kind of neat, I think.\n\n15\n00:00:53.220 --> 00:00:57.680\nAll right, anyways, our next step then\nis to start configuring our nodes.\n\n16\n00:00:57.680 --> 00:01:02.375\nAnd for that, I'm gonna flip over\nto my node and go ahead and log in.\n\n17\n00:01:02.375 --> 00:01:03.900\nThat's gonna be server 2 over here.\n\n18\n00:01:05.430 --> 00:01:08.940\nAnd remember, we updated policy so\nwe should be trusting the certificate\n\n19\n00:01:08.940 --> 00:01:12.170\nthat we generated that we'll use for\nthe SSL connection.\n\n20\n00:01:12.170 --> 00:01:17.104\nSo I'm going to fire up ISC.\n\n21\n00:01:20.553 --> 00:01:22.735\nAnd it likes to hide sometimes\nin the background, so\n\n22\n00:01:22.735 --> 00:01:24.860\nwe'll bring it out to the front.\n\n23\n00:01:24.860 --> 00:01:27.730\nWe're gonna make us a little more room.\n\n24\n00:01:27.730 --> 00:01:31.580\nAnd I'm gonna open up a script\n\n25\n00:01:32.800 --> 00:01:37.160\nthat I have named ConfigPullClient.\n\n26\n00:01:37.160 --> 00:01:38.355\nHow's that for appropriate?\n\n27\n00:01:38.355 --> 00:01:39.940\n>> [LAUGH] Very descriptive.\n\n28\n00:01:39.940 --> 00:01:40.870\n>> I like it.\n\n29\n00:01:40.870 --> 00:01:45.202\nAnd this is another one that comes out\nof some of those samples that are with\n\n30\n00:01:45.202 --> 00:01:49.970\nthat PSDSC configuration or\n\n31\n00:01:49.970 --> 00:01:54.422\na desire state configuration\nmodule that we got from Microsoft.\n\n32\n00:01:54.422 --> 00:01:57.790\nAll right, so let's just go in here and\ntake a peek at what it's going to do.\n\n33\n00:01:57.790 --> 00:02:00.680\nWe can see its name FullClientConfigID.\n\n34\n00:02:00.680 --> 00:02:02.460\nAgain, you can call it whatever you want.\n\n35\n00:02:02.460 --> 00:02:06.250\nBut the configuration node is gonna be for\nlocalhost.\n\n36\n00:02:06.250 --> 00:02:10.875\nAnd in here I've got a Settings block and\nI've got RefreshMode set to pull.\n\n37\n00:02:10.875 --> 00:02:12.763\nAll right, so I was gonna tell it hey,\n\n38\n00:02:12.763 --> 00:02:15.760\nyou're gonna start pulling\nthese configurations.\n\n39\n00:02:15.760 --> 00:02:20.030\nThe ConfigurationID says GUID,\nI'm gonna change that.\n\n40\n00:02:20.030 --> 00:02:23.870\nWe need a GUID, so\nI'm gonna flip over to my PowerShell here.\n\n41\n00:02:23.870 --> 00:02:26.801\nAnd we're gonna do that same\ncommand we did earlier.\n\n42\n00:02:26.801 --> 00:02:33.462\nGuid inside my brackets::NewGuid()\n\n43\n00:02:33.462 --> 00:02:38.985\njust to generate a unique number.\n\n44\n00:02:38.985 --> 00:02:42.670\nAnd actually, I just realized\nthat is not the time for this.\n\n45\n00:02:42.670 --> 00:02:43.640\nWait, yes it is.\n\n46\n00:02:43.640 --> 00:02:48.210\nSo I'm gonna take that and\nI'm gonna copy it.\n\n47\n00:02:49.970 --> 00:02:54.050\nAnd were gonna run over here and\nwe're gonna paste that in.\n\n48\n00:02:54.050 --> 00:02:59.490\nSo this is gonna become the ID for\nthis node.\n\n49\n00:02:59.490 --> 00:03:03.641\nI'm saying you're gonna go into full mode,\nyour ConfigurationID is this GUID.\n\n50\n00:03:03.641 --> 00:03:07.970\nYour RefreshFrequency is every 30\nminutes and 30 is as low as you can go.\n\n51\n00:03:07.970 --> 00:03:10.482\nYou can go up to somewhere\naround 44,000 minutes.\n\n52\n00:03:10.482 --> 00:03:14.350\nThere is most often we\ncan make it refresh.\n\n53\n00:03:14.350 --> 00:03:16.870\nRebootNodeIfNeeded to set to true.\n\n54\n00:03:16.870 --> 00:03:19.970\nSo if one of these configs comes\ndown like Hyper-V for example,\n\n55\n00:03:19.970 --> 00:03:22.940\nif I install Hyper-V,\nthat requires a reboot at the server.\n\n56\n00:03:22.940 --> 00:03:25.360\nSo this would allow it\nto reboot that server.\n\n57\n00:03:25.360 --> 00:03:28.270\nSomething you would wanna be careful\nwith in a production environment.\n\n58\n00:03:28.270 --> 00:03:31.450\nYou start pushing at a configuration\nthat requires a reboot and\n\n59\n00:03:31.450 --> 00:03:32.630\nit pulls in the middle of the day.\n\n60\n00:03:32.630 --> 00:03:34.170\nIt's refreshing every 30 minutes and\n\n61\n00:03:34.170 --> 00:03:37.230\nall of the sudden a production server\nreboots, it might not be a good thing.\n\n62\n00:03:37.230 --> 00:03:39.350\nSo make sure you're aware of that.\n\n63\n00:03:39.350 --> 00:03:42.753\nIt's also saying\nthe ConfigurationRepositoryweb for\n\n64\n00:03:42.753 --> 00:03:46.290\nLab-FullSrv and that's just a name\nI gave this configuration block.\n\n65\n00:03:47.560 --> 00:03:53.532\nIs server URL https://svr01:8080 and\n\n66\n00:03:53.532 --> 00:03:58.231\nthen PSDSCPullserver.svc, right?\n\n67\n00:03:58.231 --> 00:04:03.197\nRemember that script we used on the pull\nserver set the website to port 80.\n\n68\n00:04:03.197 --> 00:04:07.950\nAnd this is the service that's going to\nbe listening for that request, right?\n\n69\n00:04:07.950 --> 00:04:12.100\nSo down at the bottom,\nI'm calling this block or\n\n70\n00:04:12.100 --> 00:04:14.680\nthis configuration that we just created.\n\n71\n00:04:14.680 --> 00:04:19.780\nSo I'll go ahead and execute this and\nit'll save it before I execute it.\n\n72\n00:04:22.830 --> 00:04:27.220\nAnd again, no red text is a good,\noops, is a good thing,\n\n73\n00:04:27.220 --> 00:04:31.441\nwe see it generated a file\ncalled localhost.meta.mof.\n\n74\n00:04:31.441 --> 00:04:37.370\nAll right, now we are going\nto open up another script.\n\n75\n00:04:37.370 --> 00:04:41.180\nSo at this point, the DSC server set up,\n\n76\n00:04:42.180 --> 00:04:47.378\nthe DSC client is configured\nto talk to the DSC server.\n\n77\n00:04:47.378 --> 00:04:50.370\nWell, there's no configurations for him\nto pull, right, there is no settings for\n\n78\n00:04:50.370 --> 00:04:52.100\nhim to go grab just yet.\n\n79\n00:04:52.100 --> 00:04:56.020\nSo that's our next step is to actually\ncreate the configuration that we want\n\n80\n00:04:56.020 --> 00:04:57.220\nhim to use.\n\n81\n00:04:57.220 --> 00:04:58.590\nSo I'm gonna do that, not on here.\n\n82\n00:04:58.590 --> 00:05:03.757\nIf we were doing push, I would generate\nit here and I would apply it right here.\n\n83\n00:05:03.757 --> 00:05:09.600\nActually, you know what, I'm sorry,\nI almost forgot a very important step.\n\n84\n00:05:09.600 --> 00:05:14.360\nIt's easy to do, cuz I ran my script\nit generated the mof file and\n\n85\n00:05:14.360 --> 00:05:15.810\nyou think okay, I'm done.\n\n86\n00:05:15.810 --> 00:05:19.890\nRemember, generating the file and\napplying the file are not the same things.\n\n87\n00:05:19.890 --> 00:05:21.970\nI forget it all the time,\nit's really easy to do.\n\n88\n00:05:21.970 --> 00:05:25.220\nSo I need to tell it hey,\ngo get this mof file and apply it, so\n\n89\n00:05:25.220 --> 00:05:28.798\nthat at these settings we just\nconfigured are actually applied.\n\n90\n00:05:28.798 --> 00:05:29.418\nSo let me do that.\n\n91\n00:05:29.418 --> 00:05:37.180\nThat's going to be\nset-dsclocalconfigurationmanager.\n\n92\n00:05:37.180 --> 00:05:39.463\nRight, I need to tell\nit to go reach out and\n\n93\n00:05:39.463 --> 00:05:43.280\ntalk to the web server which is\nwhat the mof file is going to do.\n\n94\n00:05:43.280 --> 00:05:48.444\nSo set-dsclocalconfigurationmanager,\n\n95\n00:05:48.444 --> 00:05:53.888\nlook for something called localhost -path.\n\n96\n00:05:53.888 --> 00:05:59.028\nAnd actually, you know what, I'm going\nto take out, I'm going to see -path.\n\n97\n00:05:59.028 --> 00:06:02.990\nBecause its localhost is its own name,\nso it should be fine with that.\n\n98\n00:06:02.990 --> 00:06:10.060\n-Path is going to be, where am I at?\n\n99\n00:06:10.060 --> 00:06:11.860\nYou know what, I did when we ran this,\n\n100\n00:06:11.860 --> 00:06:14.210\nI didn't dump it out to\na particular location.\n\n101\n00:06:14.210 --> 00:06:17.610\nI bet I ended up dumping that\nout into my current path.\n\n102\n00:06:17.610 --> 00:06:20.180\nSo here is what we're gonna do,\nlet's just go find it.\n\n103\n00:06:21.430 --> 00:06:23.445\nC:Windows/system32.\n\n104\n00:06:23.445 --> 00:06:27.932\nC:Windows/system32 and\n\n105\n00:06:27.932 --> 00:06:32.780\nwe call it a FullClientConfig.\n\n106\n00:06:35.025 --> 00:06:36.470\nSure enough, there it is.\n\n107\n00:06:36.470 --> 00:06:39.155\nI can run it from right there,\n\n108\n00:06:39.155 --> 00:06:43.905\nI would suggest that you change your\nlocation first in PowerShell or\n\n109\n00:06:43.905 --> 00:06:49.290\nuse the -output path to put that\nout into a different location.\n\n110\n00:06:49.290 --> 00:06:58.420\nSo I need to tell it that it's\ngonna be .\\FullClientConfig.\n\n111\n00:06:58.420 --> 00:06:59.881\nWhoops, there it was.\n\n112\n00:06:59.881 --> 00:07:03.700\nAll right, I can use the .\\\nbecause I'm in that directory.\n\n113\n00:07:03.700 --> 00:07:04.630\nSo I'm saying hey, go ahead,\n\n114\n00:07:04.630 --> 00:07:07.880\nlook in the directory for\nsomething called FullClientConfig.\n\n115\n00:07:07.880 --> 00:07:11.040\nAgain, why it's a good idea to create\nthose folders ahead of time and\n\n116\n00:07:11.040 --> 00:07:13.240\nchange your prompt to\nthe appropriate location.\n\n117\n00:07:13.240 --> 00:07:15.140\nMakes it a little bit simpler for you.\n\n118\n00:07:15.140 --> 00:07:21.920\nWe'll go ahead and do this and\nwe'll do a -verbose, and there we go.\n\n119\n00:07:23.220 --> 00:07:26.730\nAll right, so we got all blue text,\neverything looks good.\n\n120\n00:07:26.730 --> 00:07:31.810\nSo we generated a mof file to tell this\nnode all it's configuration information.\n\n121\n00:07:31.810 --> 00:07:39.120\nThen we applied the mof file with\na set-dsclocalconfigurationmanager, okay?\n\n122\n00:07:39.120 --> 00:07:41.784\nNow we're gonna create our config file,\n\n123\n00:07:41.784 --> 00:07:44.685\nwhat we actually want them to pull and\napply.\n\n124\n00:07:44.685 --> 00:07:48.595\nSo we're going back over\nto the pull server and\n\n125\n00:07:48.595 --> 00:07:52.713\nwe're gonna pen up a script\ncalled NodeConfig.\n\n126\n00:07:52.713 --> 00:07:54.442\nAnd I called it Windows backup,\n\n127\n00:07:54.442 --> 00:07:58.050\nbecause I was gonna push out\nthe feature Windows server backup.\n\n128\n00:07:58.050 --> 00:08:01.760\nEasy one to check, and\nit doesn't take very long.\n\n129\n00:08:01.760 --> 00:08:03.300\nAnd I wanna show you a couple of things.\n\n130\n00:08:03.300 --> 00:08:11.410\nSo what I'm gonna do, is I am going to,\nlet's take this whole script,\n\n131\n00:08:14.490 --> 00:08:19.050\ncopy it, paste it over here,\nand make some changes to it.\n\n132\n00:08:19.050 --> 00:08:21.678\nI'm gonna remove IIS from this.\n\n133\n00:08:24.277 --> 00:08:26.440\nAll right,\nlet's just do a simple one first.\n\n134\n00:08:26.440 --> 00:08:29.960\nCuz I really need to show you what\nhappens if you ever have to change\n\n135\n00:08:29.960 --> 00:08:30.940\none of these files.\n\n136\n00:08:30.940 --> 00:08:32.960\nSo we'll start with just\nWindows Server Backup.\n\n137\n00:08:34.510 --> 00:08:39.223\nSo I need to generate the mof\nfile based on this configuration.\n\n138\n00:08:39.223 --> 00:08:44.274\nSo let's change Mike's location this time,\n\n139\n00:08:44.274 --> 00:08:46.998\nlet's do a what do I say?\n\n140\n00:08:46.998 --> 00:08:50.362\nI've got a file called\nConfigs\\TargetNodes,\n\n141\n00:08:50.362 --> 00:08:52.200\nwe'll dump it in there.\n\n142\n00:08:52.200 --> 00:08:59.400\nThat will make it nice and easy to find\nand then we'll execute our script.\n\n143\n00:09:01.660 --> 00:09:07.770\nWe will execute and\nit generates this mof file right?\n\n144\n00:09:07.770 --> 00:09:12.730\nNow let's take a look at it cuz\nhere's the part that can be easily\n\n145\n00:09:12.730 --> 00:09:15.310\nmissed when you're doing it this way.\n\n146\n00:09:15.310 --> 00:09:19.690\nSo in my target notes,\nthere's my folder Windows backup and\n\n147\n00:09:19.690 --> 00:09:21.278\nthere's the mof file\nthat it just generates.\n\n148\n00:09:21.278 --> 00:09:27.294\nSo this mof file is designed to verify\nthat Window Server backup is present,\n\n149\n00:09:27.294 --> 00:09:29.560\nif not, install it, okay?\n\n150\n00:09:29.560 --> 00:09:35.273\nWhat I need to do is I need to, remember\nwe told node 2 that this was his ID.\n\n151\n00:09:35.273 --> 00:09:40.334\nAnd he is going to look for\nmof files that are named with this ID,\n\n152\n00:09:40.334 --> 00:09:43.480\nnot his name, not server two.\n\n153\n00:09:43.480 --> 00:09:48.166\nSo we're gonna take this ID and\nwe're gonna copy it.\n\n154\n00:09:50.682 --> 00:09:56.780\nAnd we're gonna rename\nthis file to that ID.\n\n155\n00:09:58.110 --> 00:10:00.740\nI'll continue to let it do that,\nshould be good.\n\n156\n00:10:02.450 --> 00:10:05.370\nSo important there, and\nthe reason this is so cool, though,\n\n157\n00:10:05.370 --> 00:10:07.300\nrather than having the name,\nbecause what if I had.\n\n158\n00:10:07.300 --> 00:10:10.300\nAgain, think about what I said at\nthe very beginning of these episodes.\n\n159\n00:10:10.300 --> 00:10:14.840\nIf I had ten web servers I don't wanna\nhave to create ten different mof files,\n\n160\n00:10:14.840 --> 00:10:18.600\none with each web server's name because\nthen I'm back to the point if I ever need\n\n161\n00:10:18.600 --> 00:10:22.660\nto change the mof file,\nI gotta modify ten different mof files.\n\n162\n00:10:22.660 --> 00:10:25.050\nThat leaves room for\nerror and inconsistencies.\n\n163\n00:10:25.050 --> 00:10:26.364\nI want everybody using\nthe same configuration.\n\n164\n00:10:26.364 --> 00:10:28.091\n>> And it's just alot of work Mike.\n\n165\n00:10:28.091 --> 00:10:30.410\n>> [LAUGH]\n>> Who wants to do that?\n\n166\n00:10:30.410 --> 00:10:31.100\n>> Right?\n\n167\n00:10:31.100 --> 00:10:37.210\nSo by using this ID, I can set the same\nconfiguration ID on ten different nodes.\n\n168\n00:10:37.210 --> 00:10:39.720\nThey all reach out,\nsaying, hey, that's my ID.\n\n169\n00:10:39.720 --> 00:10:40.610\nI want that file.\n\n170\n00:10:40.610 --> 00:10:42.680\nNo, that's my ID, I want that file.\n\n171\n00:10:42.680 --> 00:10:45.240\nThey'll share,\nthey'll all pull the same mof file,\n\n172\n00:10:45.240 --> 00:10:47.280\nthey'll all be configured\nexactly the same way and\n\n173\n00:10:47.280 --> 00:10:51.180\nif I ever need to make a change I\nchange it one place, all right?\n\n174\n00:10:51.180 --> 00:10:55.480\nBut this is not where they're gonna look\nfor that file remember the script and\n\n175\n00:10:55.480 --> 00:10:58.380\nthe environment variable where\nthey're looking for the configuration.\n\n176\n00:10:58.380 --> 00:11:03.300\nSo now we're gonna copy this file and\nwe're gonna put it in that location\n\n177\n00:11:03.300 --> 00:11:07.808\nthat was specified in the script that\nset up the DSE server, which was\n\n178\n00:11:07.808 --> 00:11:15.130\nC:\\Program Files\\WindowsPowerShell\\DSC\nservice\\Configuration.\n\n179\n00:11:15.130 --> 00:11:18.940\nThere's the test mof that that\ntest script generated earlier.\n\n180\n00:11:18.940 --> 00:11:22.030\nGonna right click and\npaste that file in there.\n\n181\n00:11:22.030 --> 00:11:24.590\nThen I'll give myself permission\nto write in that folder.\n\n182\n00:11:24.590 --> 00:11:28.100\nAll right, so we're getting\nreally close to testing this out.\n\n183\n00:11:28.100 --> 00:11:29.906\nThere's one more thing\nwe're gonna need to do.\n\n184\n00:11:29.906 --> 00:11:34.260\nThese mof files,\nneed a check sign, all right?\n\n185\n00:11:34.260 --> 00:11:37.990\nIt wants to be able to verify that\nthe file has not been modified.\n\n186\n00:11:37.990 --> 00:11:42.240\nSo you notice this test script, or\nthe test mof that that script wrote?\n\n187\n00:11:42.240 --> 00:11:46.320\nThere's also a file with the same name,\ndot checksum, right?\n\n188\n00:11:46.320 --> 00:11:50.190\nWe need to do that for\nfvery mof file we put in there.\n\n189\n00:11:50.190 --> 00:11:50.830\nLuckily for\n\n190\n00:11:50.830 --> 00:11:55.420\nus, there's a very easy PowerShell command\nthat we can use that'll do just that.\n\n191\n00:11:56.570 --> 00:12:01.825\nIt is, and\nI've gotta remember that it's new\n\n192\n00:12:01.825 --> 00:12:07.486\n-dsechecksum That's the command,\ndash path,\n\n193\n00:12:07.486 --> 00:12:14.380\nand then C:\\Program Files\\,\nwhat was inside there?\n\n194\n00:12:14.380 --> 00:12:18.845\nWindows PowerShell.\n\n195\n00:12:18.845 --> 00:12:20.489\nIsn't it Windows PowerShell?\n\n196\n00:12:20.489 --> 00:12:23.666\nYeah, should be Windows PowerShell.\nThere it is, down at the bottom.\n\n197\n00:12:23.666 --> 00:12:32.104\n\\DESServcie\\Configuration and\n\n198\n00:12:32.104 --> 00:12:35.200\nthat's it.\n\n199\n00:12:35.200 --> 00:12:40.612\nI hit Enter, doesn't look like much\nhappened but if we go look at the folder,\n\n200\n00:12:40.612 --> 00:12:45.959\nnotice there's now a checksum file with\nthe exact same name as the mof file.\n\n201\n00:12:45.959 --> 00:12:48.759\nAnd if that's not there,\nthis won't work, and\n\n202\n00:12:48.759 --> 00:12:53.216\nif you ever make a change to this mof\nfile, you need to recreate the check sum.\n\n203\n00:12:53.216 --> 00:12:55.913\nBecause remember check sum's a hash value,\nand\n\n204\n00:12:55.913 --> 00:12:58.820\nit will tell it if anything\nhas changed in that file.\n\n205\n00:12:58.820 --> 00:13:02.360\nAll right,\neverything is in place at this point.\n\n206\n00:13:02.360 --> 00:13:07.000\nWe should be able to just wait and\nsee what happens.\n\n207\n00:13:07.000 --> 00:13:10.200\nLet's do a couple of things while we wait.\n\n208\n00:13:10.200 --> 00:13:17.200\nI'm gonna do a get-WindowsFeature and\nI'll do \"backup\".\n\n209\n00:13:19.470 --> 00:13:23.340\nNow you can see that it's\ncurrently not installed.\n\n210\n00:13:23.340 --> 00:13:28.150\nNow as I said it takes about 30 minutes\nof this the cycle for this to pull.\n\n211\n00:13:28.150 --> 00:13:31.650\nIt's been a few minutes already,\nit should be pulling pretty soon.\n\n212\n00:13:31.650 --> 00:13:34.230\nSo what we'll do is we'll step away, and\n\n213\n00:13:34.230 --> 00:13:39.060\nwe come back, we'll see if the pull\nworked and if it installed that feature.\n\n214\n00:13:39.060 --> 00:13:42.490\nAll right, so let's see if that worked,\nwe've waited,\n\n215\n00:13:42.490 --> 00:13:46.970\nagain it takes about 30 minutes right\nabout there before it'll kick off.\n\n216\n00:13:46.970 --> 00:13:50.650\nSometimes a little bit earlier than\nevery 30 minutes, it should rerun.\n\n217\n00:13:50.650 --> 00:13:53.620\nIt's gonna go and check and\nsee if there's any configuration files.\n\n218\n00:13:53.620 --> 00:13:57.690\nSo we'll flip over to our node two and\nsee what happened.\n\n219\n00:13:57.690 --> 00:14:03.120\nLet's do a get-windowsfeature and\n\n220\n00:14:03.120 --> 00:14:09.075\nwe'll do * backup* and look at there,\n\n221\n00:14:09.075 --> 00:14:14.690\nWindows Server Backup is installed.\n\n222\n00:14:14.690 --> 00:14:18.250\nAnd I never installed well I\ndidn't install it, DSC indeed.\n\n223\n00:14:18.250 --> 00:14:22.610\nAnother place you would want to\ngo to look is your event viewer.\n\n224\n00:14:22.610 --> 00:14:25.380\nLet me find that guy real quick.\n\n225\n00:14:25.380 --> 00:14:28.270\nShow you a couple things you would\nlook for if you're troubleshooting,\n\n226\n00:14:28.270 --> 00:14:30.640\ncuz I was doing a little troubleshooting\nover the last few days and\n\n227\n00:14:30.640 --> 00:14:33.240\nit's definitely helpful\nto be able to find this.\n\n228\n00:14:33.240 --> 00:14:37.575\nIn your Event Viewer\nunderneath Applications and\n\n229\n00:14:37.575 --> 00:14:44.811\nServices > Microsoft > Windows, there's\na log file specific for, where is it?\n\n230\n00:14:44.811 --> 00:14:50.060\nDesired state configuration,\nunderneath there, I've got my operational,\n\n231\n00:14:50.060 --> 00:14:53.765\nand this is where I'm gonna see,\nthe events from DSC.\n\n232\n00:14:53.765 --> 00:14:56.789\nNow you'll see there were actually\na couple of errors, while I was waiting.\n\n233\n00:14:58.440 --> 00:15:00.320\nWhere's that one I wanted to show you?\n\n234\n00:15:00.320 --> 00:15:04.014\nRemember we had configured the node,\nand then we went over and\n\n235\n00:15:04.014 --> 00:15:07.511\nconfigured the mof, and\nthen we added the checksum file.\n\n236\n00:15:07.511 --> 00:15:11.140\nWell while we were doing that,\nthis guy was already checking in.\n\n237\n00:15:11.140 --> 00:15:14.859\nAnd if we look at this error,\nit tells me a couple of things.\n\n238\n00:15:14.859 --> 00:15:18.607\nSo, as the event indicates that a failure\nhappened in the local configuration\n\n239\n00:15:18.607 --> 00:15:22.528\nmanagers trying to get the configuration\nfrom pull server using download manager\n\n240\n00:15:22.528 --> 00:15:23.630\nnull Error ID is 01.\n\n241\n00:15:23.630 --> 00:15:27.021\nBlah, blah, blah,\nfailed because of validation, or\n\n242\n00:15:27.021 --> 00:15:29.930\nvalid configuration cannot be found,\nright?\n\n243\n00:15:29.930 --> 00:15:35.080\nWe hadn't renamed the file yet\nto that ID that GUI generated,\n\n244\n00:15:35.080 --> 00:15:37.830\nso it actually checked in,\nthere was nothing there that matched its\n\n245\n00:15:37.830 --> 00:15:40.250\nconfiguration ID and it says,\nall right, I did my job.\n\n246\n00:15:40.250 --> 00:15:43.353\nBut the other thing this tells\nme is everything is working.\n\n247\n00:15:43.353 --> 00:15:47.365\nNotice how you can see the link where it\nwas connecting to, so even though it is\n\n248\n00:15:47.365 --> 00:15:51.254\nan error It's an expected error,\nwe hadn't put the mof file up there yet,\n\n249\n00:15:51.254 --> 00:15:54.326\nwe hadn't named it properly,\nand it already checked in.\n\n250\n00:15:54.326 --> 00:15:58.563\nSo we get to see that, hey, it is indeed\nchecking with the server And then I think\n\n251\n00:15:58.563 --> 00:16:03.990\nit goes on to say that it actually stopped\nthe process and shut down because of null.\n\n252\n00:16:03.990 --> 00:16:06.550\nResume back out and\ngo up to the latest messages, though.\n\n253\n00:16:08.630 --> 00:16:16.650\nAnd we should see, there we go there we\ngo, there's an error here, cannot invoke.\n\n254\n00:16:16.650 --> 00:16:19.600\nI tried to run a command while I was\nwaiting, while we were during that break,\n\n255\n00:16:19.600 --> 00:16:22.230\nI thought I'd run that command again\nto see if I could speed it up and\n\n256\n00:16:22.230 --> 00:16:24.430\nit was actually in\nthe process of checking.\n\n257\n00:16:24.430 --> 00:16:27.960\nAnd it says you can't run a set\nwhile I'm running the DSC, so\n\n258\n00:16:27.960 --> 00:16:29.830\nnow that's what that error is for.\n\n259\n00:16:29.830 --> 00:16:32.840\n>> You still have to worry\nabout cancelling it out or\n\n260\n00:16:32.840 --> 00:16:34.820\nbreaking it if you ran\nit twice on accident.\n\n261\n00:16:34.820 --> 00:16:36.225\n>> Exactly.\n>> It'll just keep running.\n\n262\n00:16:36.225 --> 00:16:38.440\n[LAUGH]\n>> So let me find the first message, and\n\n263\n00:16:38.440 --> 00:16:39.602\nwe'll kinda go through.\n\n264\n00:16:41.679 --> 00:16:45.231\nHere we go, skipping pulling modules,\ndesire to take configuration,\n\n265\n00:16:45.231 --> 00:16:47.036\nalready exist in this locations, so\n\n266\n00:16:47.036 --> 00:16:51.280\nit already has the module then I can see\na skipping and pulling another module.\n\n267\n00:16:51.280 --> 00:16:56.270\nSuccessfully got the configuration from\nthe pool server using downloaded manager.\n\n268\n00:16:56.270 --> 00:17:01.340\nResource execution sequence\nWindows feature backup so\n\n269\n00:17:01.340 --> 00:17:05.870\nthere you can see it's reading them\noff and it's executing that process.\n\n270\n00:17:05.870 --> 00:17:10.660\nAnd then I did the error there,\nyou have to forgive me for that one.\n\n271\n00:17:10.660 --> 00:17:13.940\nExecuted again it looks like cuz I\nprobably goofed it up a little bit\n\n272\n00:17:13.940 --> 00:17:15.230\ntrying to run that a second time.\n\n273\n00:17:15.230 --> 00:17:19.240\nBut here I can see information\nabout the job, the refresh cycle.\n\n274\n00:17:20.410 --> 00:17:24.120\nAnd that was me, again running that\ncommand a third time, trying to speed\n\n275\n00:17:24.120 --> 00:17:28.160\nthe process up, so we could get this\nepisode, film for you guys out there.\n\n276\n00:17:28.160 --> 00:17:29.920\n>> So you have to ignore those messages.\n\n277\n00:17:29.920 --> 00:17:33.080\nBut the ones I was showing you, where\nit said hey I successfully connected,\n\n278\n00:17:33.080 --> 00:17:37.105\nI'm now running Windows server backup,\nor I'm installing this feature.\n\n279\n00:17:37.105 --> 00:17:40.040\nThat's a good place to check\nthe operational log for desired state\n\n280\n00:17:40.040 --> 00:17:43.890\nconfiguration, to see what's going on and\ntry to figure out, if it's been 45 minutes\n\n281\n00:17:43.890 --> 00:17:47.810\nand you know he's checking in every\n30 minutes, something might be wrong.\n\n282\n00:17:47.810 --> 00:17:51.570\nSo let's go figure out why\nthat Node is not checking in.\n\n283\n00:17:51.570 --> 00:17:53.390\nSo beautiful, everything is working.\n\n284\n00:17:53.390 --> 00:17:55.660\nI can now configure this server and\n\n285\n00:17:55.660 --> 00:18:00.130\nany other server that I wanna\nassign that configuration ID to.\n\n286\n00:18:00.130 --> 00:18:04.420\nAll I have to do, let's say tomorrow\nI have to spin up four new servers\n\n287\n00:18:04.420 --> 00:18:06.520\nthat need that same set of features.\n\n288\n00:18:06.520 --> 00:18:11.210\nWell, all I have to do is run this\nscript here that tells that server\n\n289\n00:18:11.210 --> 00:18:12.800\nthis is its ID, right?\n\n290\n00:18:12.800 --> 00:18:14.300\nAnd it'll look, it will find that script,\n\n291\n00:18:14.300 --> 00:18:16.760\nit will pull it down,\nit will configure itself.\n\n292\n00:18:16.760 --> 00:18:20.770\nLast thing I wanna show you guys\nwith DSC is what if I wanna change\n\n293\n00:18:20.770 --> 00:18:22.580\nthe configuration, right?\n\n294\n00:18:22.580 --> 00:18:25.550\nLet's say we've been using that\nconfiguration to set up our web servers,\n\n295\n00:18:25.550 --> 00:18:29.330\nand we've been installing IOS and ASP but\nnow all of a sudden my developers come to\n\n296\n00:18:29.330 --> 00:18:34.170\nme and say we need this feature installed\non all the web servers in the server farm.\n\n297\n00:18:34.170 --> 00:18:36.000\nRight, and there's 25 of them.\n\n298\n00:18:36.000 --> 00:18:39.490\nWell I could go to each one or\nI could just modify my one.\n\n299\n00:18:39.490 --> 00:18:43.220\nMOF file and wait 30 minutes,\nall those guys are gonna pull that\n\n300\n00:18:43.220 --> 00:18:46.440\nnew MOF file down and\nthey're gonna install that new feature.\n\n301\n00:18:46.440 --> 00:18:49.720\nBut there is one thing you have to be\naware of if you ever change the MOF.\n\n302\n00:18:49.720 --> 00:18:51.800\nAnd that has to do with\nthe signature file.\n\n303\n00:18:51.800 --> 00:18:54.690\nRemember we created that checksum and\n\n304\n00:18:54.690 --> 00:18:57.280\nthat's how they can tell that\nthat file has not been modified.\n\n305\n00:18:58.620 --> 00:19:02.100\nWell, if we modify it, then\nthe checksum is not gonna work, right?\n\n306\n00:19:02.100 --> 00:19:03.960\nCuz it's gonna say this has been modified.\n\n307\n00:19:03.960 --> 00:19:05.800\nAnd the server's gonna say woah,\nI don't want that,\n\n308\n00:19:05.800 --> 00:19:07.340\nIt could be some bad code in there.\n\n309\n00:19:07.340 --> 00:19:12.620\nSo we need to, if we're gonna change this,\nwe need to update the MOF as well.\n\n310\n00:19:12.620 --> 00:19:14.770\nSo let's do this.\n\n311\n00:19:14.770 --> 00:19:19.160\nLet's go back, remember I had that other\nscript that's doing Windows backup\n\n312\n00:19:19.160 --> 00:19:22.310\nas well as IIS and ASP.net.\n\n313\n00:19:22.310 --> 00:19:28.170\nSo I'm just gonna run this script to\ngenerate a new MOF file, alright.\n\n314\n00:19:28.170 --> 00:19:30.840\nAnd then we're gonna go\nover to file explorer and\n\n315\n00:19:30.840 --> 00:19:33.515\nyou could script this part too,\nbe aware of that, right?\n\n316\n00:19:33.515 --> 00:19:38.310\nPowerShell can do copying, we can take the\nname of one file and make a Copy of it and\n\n317\n00:19:38.310 --> 00:19:39.920\nrename it from another file.\n\n318\n00:19:39.920 --> 00:19:42.700\nWe can get the configuration\nID programmatically and\n\n319\n00:19:42.700 --> 00:19:45.580\nwe can so all of this could be scripted.\n\n320\n00:19:45.580 --> 00:19:51.110\nSo let me go find that script we just\ngenerated that now includes IIS.\n\n321\n00:19:51.110 --> 00:19:55.070\nShould be in Config,\nTargetNodes, Windows Backup.\n\n322\n00:19:55.070 --> 00:19:57.890\nAnd there's the new one we just created.\n\n323\n00:19:57.890 --> 00:19:59.510\nI'm gonna copy that.\n\n324\n00:20:01.770 --> 00:20:05.756\nAnd I'm gonna go back\nover to Program Files,\n\n325\n00:20:05.756 --> 00:20:10.609\nPowerShell, DSC, Configuration.\n\n326\n00:20:10.609 --> 00:20:12.269\nI'm gonna paste that in there.\n\n327\n00:20:14.320 --> 00:20:16.030\nAnd give myself permission.\n\n328\n00:20:17.160 --> 00:20:19.380\nI'm gonna get rid of the old MOFs.\n\n329\n00:20:19.380 --> 00:20:22.930\nBut before I do that don't forget\n\n330\n00:20:22.930 --> 00:20:25.500\nthe configuration ID hasn't\nchanged on the node.\n\n331\n00:20:25.500 --> 00:20:28.760\nSo I'm gonna go ahead and\ngrab the configuration ID from right here.\n\n332\n00:20:29.830 --> 00:20:31.657\nThen I'm gonna delete these two files.\n\n333\n00:20:35.339 --> 00:20:40.620\nAnd I'm gonna rename this\none to their configuration.\n\n334\n00:20:40.620 --> 00:20:44.660\nSo basically just replace that\nold MOF with this new MOF\n\n335\n00:20:44.660 --> 00:20:47.300\nthen I need a new checksum\nto match the new file.\n\n336\n00:20:47.300 --> 00:20:52.040\nWe simply go back over PowerShell and\nwe run our,\n\n337\n00:20:52.040 --> 00:20:56.460\nI think I got it in here somewhere,\na new checksum to that location.\n\n338\n00:20:56.460 --> 00:20:59.450\nI hit enter.\nWe go back and double check.\n\n339\n00:21:01.020 --> 00:21:04.560\nAnd now there's a new checksum\nfile that matches the updated MOF.\n\n340\n00:21:04.560 --> 00:21:09.430\nSo in ballparkish 30 minutes,\nmy node will check in and\n\n341\n00:21:09.430 --> 00:21:11.940\nit will go ahead and pull this new MOF.\n\n342\n00:21:11.940 --> 00:21:16.860\nAnd we now have Windows Server back up,\nand IIS, and ASP 4.5, right?\n\n343\n00:21:17.860 --> 00:21:21.850\nSo that's how you set up a pull server for\nDSC.\n\n344\n00:21:21.850 --> 00:21:24.910\nThere's a lot to it, right?\n\n345\n00:21:24.910 --> 00:21:26.200\nIt's pretty complex.\n\n346\n00:21:26.200 --> 00:21:31.430\nBut once you get it set up It makes\nmanaging your environment extremely easy,\n\n347\n00:21:31.430 --> 00:21:34.910\nespecially when you have multiple servers\nthat need the same configuration.\n\n348\n00:21:34.910 --> 00:21:37.930\nIt's also a great way to just\ndouble check configuration and\n\n349\n00:21:37.930 --> 00:21:43.230\nmake sure they haven't done what we\ncalled desired state drift, right.\n\n350\n00:21:43.230 --> 00:21:46.460\nI could have this desired state\non all these web servers.\n\n351\n00:21:46.460 --> 00:21:47.350\nThey all have ASP.\n\n352\n00:21:47.350 --> 00:21:47.930\nNet .4.5.\n\n353\n00:21:47.930 --> 00:21:51.530\nSome admin gets the idea that hey, on this\nweb server I am going to remove that,\n\n354\n00:21:51.530 --> 00:21:53.350\nI think that it is causing a problem.\n\n355\n00:21:53.350 --> 00:21:57.690\nI don't know, maybe he didn't ask,\nhe just went and did it.\n\n356\n00:21:57.690 --> 00:22:02.489\nWell, now I've got one web server that\ndoesn't have that .net 4.5 that is\n\n357\n00:22:02.489 --> 00:22:04.430\ndesired state drift.\n\n358\n00:22:04.430 --> 00:22:07.560\nAnd if it is in a farm,\nthe site might work great\n\n359\n00:22:07.560 --> 00:22:11.140\nuntil you happen to hit that one server\nthat doesn't have it anymore and\n\n360\n00:22:11.140 --> 00:22:13.400\nsome customers are gonna\nhave a bad experience.\n\n361\n00:22:13.400 --> 00:22:17.080\nWith this, I can ensure every\nthirty minutes it's gonna verify\n\n362\n00:22:17.080 --> 00:22:21.600\nthat IIS is there and\nthat ASP.net 4.5 is there.\n\n363\n00:22:21.600 --> 00:22:26.270\nSo you start thinking about this and\nstart scaling it up in your head and\n\n364\n00:22:26.270 --> 00:22:29.280\nyou can see the power that you can get.\n\n365\n00:22:29.280 --> 00:22:31.700\nBy using DSC and that pull server service.\n\n366\n00:22:31.700 --> 00:22:35.980\n>> Well Mike, you did a fantastic\njob of showing us step by step,\n\n367\n00:22:35.980 --> 00:22:39.510\nfrom start to finish,\nhow to get the DSC server.\n\n368\n00:22:39.510 --> 00:22:40.310\nDid I say it right?\n\n369\n00:22:40.310 --> 00:22:41.960\nThe desired state configuration.\n\n370\n00:22:41.960 --> 00:22:45.210\nYou go me all twisted around\nwith your DCSness over there.\n\n371\n00:22:45.210 --> 00:22:47.098\nIt's like a correctional service or\nsomething.\n\n372\n00:22:47.098 --> 00:22:48.290\n[LAUGH]\n>> I don't know why.\n\n373\n00:22:48.290 --> 00:22:51.060\n>> We're all gonna be wearing jumpsuits\n>> Well,\n\n374\n00:22:51.060 --> 00:22:54.990\nI recently got released and\n>> It's just stuck in my brain.\n\n375\n00:22:54.990 --> 00:22:57.840\nBut you did, you showed us that,\nand that's what we needed.\n\n376\n00:22:57.840 --> 00:23:00.650\nWe know you spent a lot of time\nworking out all the kinks and\n\n377\n00:23:00.650 --> 00:23:04.850\nironing out all the wrinkles so\nthat we could see a step by step process,\n\n378\n00:23:04.850 --> 00:23:07.860\nstart to finish, how to make this work,\ncuz it is a little involved.\n\n379\n00:23:07.860 --> 00:23:10.740\nIt's a little complex,\nbut totally worth it for\n\n380\n00:23:10.740 --> 00:23:15.300\nour environments in real life because it's\ngonna automate a lot of things for us and\n\n381\n00:23:15.300 --> 00:23:19.040\nthat is nice if you've ever worked\nin an enterprise environment.\n\n382\n00:23:19.040 --> 00:23:21.240\nYou try to automate just about\neverything you possibly can.\n\n383\n00:23:21.240 --> 00:23:26.480\nThis is something you want to learn for\nyourself if not for an exam purposes.\n\n384\n00:23:26.480 --> 00:23:28.750\nThat being said Mike\nwe've talked a lot today.\n\n385\n00:23:28.750 --> 00:23:30.730\nSo I say we give our voice a rest.\n\n386\n00:23:30.730 --> 00:23:33.150\nWe appreciate you guys\njoining us today though.\n\n387\n00:23:33.150 --> 00:23:34.780\nWe are gonna go ahead and sign off.\n\n388\n00:23:34.780 --> 00:23:37.720\nFor IT ProTV,\nI've been your host Daniel Laurie.\n\n389\n00:23:37.720 --> 00:23:38.530\n>> And I'm Mike Roderick.\n\n390\n00:23:38.530 --> 00:23:40.421\n>> We'll see you next time.\n\n391\n00:23:40.421 --> 00:23:45.402\n>> [NOISE]\n\n",
          "vimeoId": "178947117"
        },
        {
          "description": "In this episode, Wes and Mike dive into the world of a new installation type called Nano inside Windows Server 2016. They talk about the basics of Nano Server as well as the scenarios that the viewer might find themselves using Nano Server. They finish with Powershell cmdlets to get the Nano installation started.",
          "length": "1748",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-2-1-install_and_configure_nano_server-082916-1.jpg",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-2-1-install_and_configure_nano_server-082916-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-2-1-install_and_configure_nano_server-082916-1-sm.jpg",
          "title": "Install and Configure Nano Server",
          "transcript": "WEBVTT\n\n1\n00:00:00.290 --> 00:00:10.290\n[MUSIC]\n\n2\n00:00:11.911 --> 00:00:14.772\nWelcome back to another exciting\nepisode here at ITPro.TV.\n\n3\n00:00:14.772 --> 00:00:16.330\nI'm your host, Wes Bryan.\n\n4\n00:00:16.330 --> 00:00:20.568\nAnd in today's episode, we're continuing\nthrough our installation storage and\n\n5\n00:00:20.568 --> 00:00:22.396\ncompute Windows Server 2016.\n\n6\n00:00:22.396 --> 00:00:24.013\nAnd if you think that title's enough,\n\n7\n00:00:24.013 --> 00:00:26.370\nwait till you see the information\nwe got in this episode.\n\n8\n00:00:26.370 --> 00:00:29.290\nAnd joining me for that very endeavor\nis none other than Mr. Mike Rodrick.\n\n9\n00:00:29.290 --> 00:00:30.440\nMike, how you doing, sir?\n\n10\n00:00:30.440 --> 00:00:30.940\n&gt;&gt; Doing great.\n\n11\n00:00:30.940 --> 00:00:32.680\nYou're right, that title is a mouthful,\n\n12\n00:00:32.680 --> 00:00:36.360\nand our content today is\ngonna be a handful, I guess.\n\n13\n00:00:36.360 --> 00:00:37.440\nIt's a lot of typing.\n\n14\n00:00:37.440 --> 00:00:40.920\nSome command line stuff or\nPowerShell to be more exact.\n\n15\n00:00:40.920 --> 00:00:46.380\nBut today we're gonna be looking at\na brand new way to install server or\n\n16\n00:00:46.380 --> 00:00:51.960\ninstallation option, I guess you could\ncall it, and that is Nano server, right?\n\n17\n00:00:51.960 --> 00:00:56.210\nWe're familiar, we've always had\ndiscussions back in when we started with\n\n18\n00:00:56.210 --> 00:00:59.700\nthis Windows 2000, we've had standard and\nEnterprise and data center.\n\n19\n00:00:59.700 --> 00:01:03.406\nAnd then they trimmed out Enterprise,\neventually, I think around 2008.\n\n20\n00:01:03.406 --> 00:01:07.877\nAnd then we had standard and\ndata center and then we've got Core,\n\n21\n00:01:07.877 --> 00:01:10.730\nremember that 2008, 2008 R2.\n\n22\n00:01:10.730 --> 00:01:12.780\nWe got that Core installation option,\n\n23\n00:01:12.780 --> 00:01:15.960\nwhich was basically installing\nWindows Server without a GUI,\n\n24\n00:01:15.960 --> 00:01:19.670\nwithout all the wizards and\nwiz bang and things like that.\n\n25\n00:01:19.670 --> 00:01:24.740\nVery stripped down version of verver,\ntook up a lot less resources\n\n26\n00:01:24.740 --> 00:01:29.230\nas far as what it took to run it,\na lot less space as far as installation.\n\n27\n00:01:29.230 --> 00:01:31.180\nA lot less updates and\n\n28\n00:01:31.180 --> 00:01:36.020\nour overall attack surface was much\nsmaller because of the lack of the GUI.\n\n29\n00:01:36.020 --> 00:01:39.570\nAnd because of all the wizards and\nthings like that were missing, all\n\n30\n00:01:39.570 --> 00:01:43.585\nthe vulnerabilities that were associated\nwith those are gone as well, right.\n\n31\n00:01:43.585 --> 00:01:44.845\nSo it was a great way to do it,\n\n32\n00:01:44.845 --> 00:01:49.115\nespecially when most of our\nadministration nowadays is done remotely.\n\n33\n00:01:49.115 --> 00:01:53.035\nWe really don't log into\nthe server as often as we used to.\n\n34\n00:01:53.035 --> 00:01:57.705\nWe'll sit at our Windows 10 box and\nwe'll remotely administer our servers or\n\n35\n00:01:57.705 --> 00:02:01.795\nwe'll have one server that has a GUI on\nit, the rest of them are all Core and\n\n36\n00:02:01.795 --> 00:02:03.235\nwe'll remotely administer from there.\n\n37\n00:02:03.235 --> 00:02:07.308\nMaybe I remote into that server, pull up\nits desktop and server manager, and just\n\n38\n00:02:07.308 --> 00:02:11.550\nadd all the servers to server manager,\nright, and manage them through there.\n\n39\n00:02:11.550 --> 00:02:15.010\nEither way, we're not logging in\ndirectly to the Core installations.\n\n40\n00:02:15.010 --> 00:02:19.090\nSo the lack of GUIs, the lack of all those\nwizards, didn't impact us all that much.\n\n41\n00:02:19.090 --> 00:02:22.850\nThere was a little bit of the initial\nconfiguration that you had to do so\n\n42\n00:02:22.850 --> 00:02:27.080\nthat you could remotely manage it, but\nonce you did that, it didn't matter.\n\n43\n00:02:27.080 --> 00:02:29.290\nThere was no GUI,\nbecause you managed it remotely, right?\n\n44\n00:02:29.290 --> 00:02:33.940\nI'd put the DNS console on my Win 10 box\nand just remotely administer that DNS\n\n45\n00:02:33.940 --> 00:02:37.220\nserver with a nice pretty GUI,\neven though I was running Core.\n\n46\n00:02:37.220 --> 00:02:40.200\nSo that was great, again,\na lot less resources.\n\n47\n00:02:40.200 --> 00:02:43.970\nAnd as we're virtualizing everything,\nresources are at a premium.\n\n48\n00:02:43.970 --> 00:02:48.940\nWe wanna limit how many resources I\nhave to give to that host machine or\n\n49\n00:02:48.940 --> 00:02:52.280\nto all the VMs that I'm running on it,\nbecause that just means I can have more\n\n50\n00:02:52.280 --> 00:02:56.570\nVMs, or I can give more resources to\neach VM and make them run better.\n\n51\n00:02:56.570 --> 00:03:00.010\nSo Server Core was great, we love it.\n\n52\n00:03:00.010 --> 00:03:02.740\nNow we've got Nano server.\n\n53\n00:03:02.740 --> 00:03:09.467\nAnd as you can probably surmise from\nthe name, Nano server's even smaller,\n\n54\n00:03:09.467 --> 00:03:13.619\nteeny tiny little install of Server 2016.\n\n55\n00:03:13.619 --> 00:03:14.579\nI go back in time there.\n\n56\n00:03:14.579 --> 00:03:18.528\nWe didn't have Nano server in 2012 so\nlet's be clear about that.\n\n57\n00:03:18.528 --> 00:03:22.240\n2016, we get our Nano server.\n\n58\n00:03:22.240 --> 00:03:26.050\nLike I said, it's just a very tiny,\ntiny install.\n\n59\n00:03:26.050 --> 00:03:27.910\nWe'll take a look once\nwe get it installed.\n\n60\n00:03:27.910 --> 00:03:30.980\nWe'll examine the hard drive and\nsee how big it is.\n\n61\n00:03:30.980 --> 00:03:34.310\n&gt;&gt; Mike, is this a repackaging and\na rebranding of the same old technologies?\n\n62\n00:03:34.310 --> 00:03:38.160\nNow I deal more in the client than server,\nand I know server's your playground there,\n\n63\n00:03:38.160 --> 00:03:41.190\ncuz let's take for a classic example\nsomething like Windows Explorer.\n\n64\n00:03:41.190 --> 00:03:44.110\nWindows Explorer really hasn't changed\nmuch since going back to when it was first\n\n65\n00:03:44.110 --> 00:03:46.985\ncame into Windows, but\ntoday we call it File Explorer and\n\n66\n00:03:46.985 --> 00:03:49.600\nit's really just a new paint job\nover a technology has been around.\n\n67\n00:03:49.600 --> 00:03:51.050\nIs that what we're looking at in Nano?\n\n68\n00:03:51.050 --> 00:03:51.940\n&gt;&gt; It's not.\n\n69\n00:03:51.940 --> 00:03:54.918\nYou might think that, hey, this is just\nServer Core with a new fancy name,\n\n70\n00:03:54.918 --> 00:03:56.710\nto indicate it's smaller, what have you.\n\n71\n00:03:56.710 --> 00:03:58.470\nIt's completely different from Core.\n\n72\n00:03:58.470 --> 00:04:03.390\nWhereas Core is more like the full\ninstallation of server just\n\n73\n00:04:03.390 --> 00:04:06.540\nwithout the GUI but all the roles\nare still there for the most part.\n\n74\n00:04:06.540 --> 00:04:10.005\nI mean, the majority of the roles and\nthe features can still be installed.\n\n75\n00:04:10.005 --> 00:04:14.410\nIt does take a few resources,\nbut Nano is a different animal.\n\n76\n00:04:14.410 --> 00:04:17.630\nYou don't choose to install\nit from the installation,\n\n77\n00:04:17.630 --> 00:04:19.840\nlike you don't pop in\nthe Server 2016 disk.\n\n78\n00:04:19.840 --> 00:04:23.780\nAnd say, do I wanna choose with the GUI,\nwithout a GUI, or Nano, right?\n\n79\n00:04:23.780 --> 00:04:25.497\nSo you don't choose Core, GUI, or\n\n80\n00:04:25.497 --> 00:04:29.620\nNano, Nano is done after the fact\nusing some PowerShell utilities.\n\n81\n00:04:29.620 --> 00:04:32.660\nAnd there's no desktop\nto speak of with Nano.\n\n82\n00:04:32.660 --> 00:04:35.560\nWith Core, I can still log in,\nand granted,\n\n83\n00:04:35.560 --> 00:04:38.840\nI'm at a PowerShell window, or a command\nprompt that I can launch PowerShell, but\n\n84\n00:04:38.840 --> 00:04:42.190\nI can still run all those commands,\nmy net SH commands, all of those.\n\n85\n00:04:42.190 --> 00:04:44.160\nIt really is still\nan installation of Server,\n\n86\n00:04:44.160 --> 00:04:46.330\njust severely trimmed down, all right?\n\n87\n00:04:46.330 --> 00:04:49.540\nVery, very,\nall the fluff has been removed.\n\n88\n00:04:49.540 --> 00:04:53.980\nNano is, I mean, it's a new animal.\n\n89\n00:04:53.980 --> 00:04:54.810\nIt really is.\n\n90\n00:04:54.810 --> 00:04:57.600\nIt has no interface whatsoever.\n\n91\n00:04:57.600 --> 00:04:58.380\nI shouldn't say that.\n\n92\n00:04:58.380 --> 00:05:03.095\nThere's a recovery console that we\ncan log into to connect to it, but\n\n93\n00:05:03.095 --> 00:05:07.566\nalmost 99% of everything else\nis just gonna be done remotely,\n\n94\n00:05:07.566 --> 00:05:10.605\nall done through PowerShell sessions.\n\n95\n00:05:10.605 --> 00:05:16.250\nCuz I can't even launch my GUIs\nto manage some of it, right?\n\n96\n00:05:16.250 --> 00:05:19.320\nIt really is a different beast altogether.\n\n97\n00:05:19.320 --> 00:05:21.720\nAnd we'll take a look at installing\nit here in just a minute.\n\n98\n00:05:21.720 --> 00:05:25.970\n&gt;&gt; Now Mike, you said it does have some of\nthe, maybe you're familiar with Core out\n\n99\n00:05:25.970 --> 00:05:28.080\nthere, so it does have some of\nthose characteristics, right,\n\n100\n00:05:28.080 --> 00:05:32.050\nyou've got the, I would say slimline,\nslimmed down GUI, there is no GUI.\n\n101\n00:05:32.050 --> 00:05:34.300\nSo you get better resource.\n\n102\n00:05:34.300 --> 00:05:36.960\nPerformance can be better on this one,\ntoo.\n\n103\n00:05:36.960 --> 00:05:39.990\nThe other thing, too, is your security\nplatform's a little bit less on this one.\n\n104\n00:05:39.990 --> 00:05:42.330\nWhat else are we looking\nat as far as Core?\n\n105\n00:05:42.330 --> 00:05:43.980\nExcuse me, I'm sorry, Nano.\n\n106\n00:05:43.980 --> 00:05:46.030\n&gt;&gt; Very few resources utilize memory.\n\n107\n00:05:46.030 --> 00:05:49.380\nI run it with 512 and of course that's\ngoing to depend on what you install,\n\n108\n00:05:49.380 --> 00:05:50.420\nright, what other roles and\n\n109\n00:05:50.420 --> 00:05:53.040\nfeatures you put on there,\nbecause those would need memory.\n\n110\n00:05:53.040 --> 00:05:56.872\nBut as far as Nano itself,\n512 megs of RAM and it runs just fine.\n\n111\n00:05:56.872 --> 00:05:57.650\n&gt;&gt; That's awesome.\n\n112\n00:05:57.650 --> 00:05:59.400\nNow where are we gonna see this in action,\nMike?\n\n113\n00:05:59.400 --> 00:06:01.790\nIf I decide that I've got\na server environment and\n\n114\n00:06:01.790 --> 00:06:04.810\nI might need something like Nano,\nwhere is this really gonna shine?\n\n115\n00:06:04.810 --> 00:06:10.580\n&gt;&gt; You're gonna see it where it's really\ndesigned for, optimized for private\n\n116\n00:06:10.580 --> 00:06:15.980\nclouds and data centers where I've gotta\nroll out a lot of number of machines.\n\n117\n00:06:15.980 --> 00:06:19.690\nClusters, if I wanted a cluster IIS,\nfor example.\n\n118\n00:06:19.690 --> 00:06:21.370\nAll it's doing is running that web server.\n\n119\n00:06:21.370 --> 00:06:25.290\nIt doesn't need a whole lot, but I need\n20 of them, right, to be in my front end,\n\n120\n00:06:25.290 --> 00:06:26.690\nto load balance across that front end,\n\n121\n00:06:26.690 --> 00:06:28.660\nand then just hidden\nthe database in the back end.\n\n122\n00:06:28.660 --> 00:06:32.690\nThey're not hosting a lot of it,\nthey're just hosting the website itself.\n\n123\n00:06:32.690 --> 00:06:34.660\nNano would be great for that.\n\n124\n00:06:34.660 --> 00:06:36.740\nWhen you need extra DNS servers and\n\n125\n00:06:36.740 --> 00:06:39.300\nyou don't wanna spend a lot\nof resources on there.\n\n126\n00:06:39.300 --> 00:06:45.540\nSo IIS, applications that we're developing\nup in the cloud, we can do that on Nano.\n\n127\n00:06:45.540 --> 00:06:50.770\nBut the big, big one is the data\ncenters and the cloud infrastructures\n\n128\n00:06:50.770 --> 00:06:53.940\nwhere I need a server, but it's just\ngonna sit there and provide a service.\n\n129\n00:06:53.940 --> 00:06:57.758\nI'm not remoting into it, I'm not\nlogging on to it, I'm not using it.\n\n130\n00:06:57.758 --> 00:07:00.010\nI just wanna set it up, provide a service,\n\n131\n00:07:00.010 --> 00:07:03.230\nbe done with it, have it take\nup as few resources as possible.\n\n132\n00:07:03.230 --> 00:07:07.190\nSmaller backups because it's a smaller\noperating system and I need 20 of them.\n\n133\n00:07:07.190 --> 00:07:09.310\nNano's ideal for something like that.\n\n134\n00:07:09.310 --> 00:07:13.385\nSo very teeny, tiny and yet very powerful.\n\n135\n00:07:13.385 --> 00:07:18.240\nSo we get an idea of what Nano is and\nwhere I might see it.\n\n136\n00:07:18.240 --> 00:07:21.910\nAgain, optimize for data center and\ncloud environments, or\n\n137\n00:07:21.910 --> 00:07:26.850\nanywhere you need a small footprint and\nyou need to run a service.\n\n138\n00:07:26.850 --> 00:07:28.880\n&gt;&gt; I was gonna help you with\nthis installation, Mike.\n\n139\n00:07:28.880 --> 00:07:29.530\nI was gonna say, okay.\n\n140\n00:07:29.530 --> 00:07:33.350\nLet me go ahead and go out and grab my\ninstallation media, or let me go ahead and\n\n141\n00:07:33.350 --> 00:07:35.240\ngrab my handy dandy ISO.\n\n142\n00:07:35.240 --> 00:07:38.540\nThen you threw me for a loop when\nyou said we can't do either there.\n\n143\n00:07:38.540 --> 00:07:40.710\n&gt;&gt; Yeah, that would be too easy.\n\n144\n00:07:40.710 --> 00:07:43.650\nAll right, now what we're gonna do,\nall we need is a disk, though, and\n\n145\n00:07:43.650 --> 00:07:48.610\nwe do need a machine that's running\nServer 2016, which I've got here.\n\n146\n00:07:48.610 --> 00:07:50.290\nSo let's just take a look at my screen and\n\n147\n00:07:50.290 --> 00:07:52.840\nI'll walk you through\nthe process of setting up Nano.\n\n148\n00:07:52.840 --> 00:07:54.541\nWe're gonna do it a couple\nof different ways.\n\n149\n00:07:54.541 --> 00:07:58.467\nThis first one I wanna do, I'm gonna\nprovide all the information to create\n\n150\n00:07:58.467 --> 00:08:01.893\nthis Nano image or this Nano server and\nI'm gonna go ahead and join\n\n151\n00:08:01.893 --> 00:08:06.094\nit to the domain Which is probably what\nyou're going to do nine times out of ten.\n\n152\n00:08:06.094 --> 00:08:09.815\nBut I do want to show you creating\none that's not part of the domain,\n\n153\n00:08:09.815 --> 00:08:12.090\njoining it to the domain after the fact.\n\n154\n00:08:12.090 --> 00:08:14.900\nBecause you might be setting this\nup in an environment where you\n\n155\n00:08:14.900 --> 00:08:16.800\ndon't have access to the domain, and\n\n156\n00:08:16.800 --> 00:08:20.070\nnow you want to join that nano to\nthe domain that you've already deployed.\n\n157\n00:08:20.070 --> 00:08:24.610\nWe'll deal with the trusted host issue,\nmanaging the machine that's not part of my\n\n158\n00:08:24.610 --> 00:08:29.700\ndomain, and how do we get on there and\nmanage it if it's not trusted yet, and\n\n159\n00:08:29.700 --> 00:08:32.950\nI can't connect to it with a PS session,\nhow do I do anything, right.\n\n160\n00:08:32.950 --> 00:08:36.800\nSo, there's a few things that we wanna\ndeal with there that's different from what\n\n161\n00:08:36.800 --> 00:08:40.720\nwe would deal with normally with our\nstandard installation whether is guid or\n\n162\n00:08:40.720 --> 00:08:42.230\nwhether it's core.\n\n163\n00:08:42.230 --> 00:08:45.580\nAll right, so the first thing I'm gonna\ndo, again I'm on my 2016 server here.\n\n164\n00:08:45.580 --> 00:08:48.960\nI'm gonna set a couple things up,\nI'm gonna open up File Explorer.\n\n165\n00:08:48.960 --> 00:08:50.950\nAnd I'm just gonna,\nactually let's do it this way,\n\n166\n00:08:50.950 --> 00:08:55.290\nI'm gonna go over to my DVD drive.\n\n167\n00:08:55.290 --> 00:08:58.400\nThis is the 2016 Install Media,\nso I just pop the disk in there,\n\n168\n00:08:58.400 --> 00:09:01.410\nand in there you're gonna see\na folder called Nano Server.\n\n169\n00:09:01.410 --> 00:09:05.060\nSo this is right on\nthe 2016 Install Media.\n\n170\n00:09:05.060 --> 00:09:11.500\nInside that Nano Server folder, is a\nfolder called Nano Server image generator,\n\n171\n00:09:11.500 --> 00:09:15.690\nand in there these are what I\nneed to start working with Nano.\n\n172\n00:09:15.690 --> 00:09:18.588\nThe PowerShell commands,\nthat's a module, you see this one,\n\n173\n00:09:18.588 --> 00:09:20.635\nactually I don't have\nmy file type showing.\n\n174\n00:09:20.635 --> 00:09:23.164\nLet's pull that up real quick,\n\n175\n00:09:23.164 --> 00:09:28.550\nyou can see this one right here\nis a PowerShell module psm1.\n\n176\n00:09:28.550 --> 00:09:32.470\nThat's gonna give me all those\ncommands I need to work with nano.\n\n177\n00:09:32.470 --> 00:09:37.810\nSo, our first step is simply to copy that\nentire folder NanoServerImageGenerator,\n\n178\n00:09:37.810 --> 00:09:41.590\nwhich I found on the DVD\ninside the Nano Server folder.\n\n179\n00:09:41.590 --> 00:09:43.260\nI'm just gonna copy it and\n\n180\n00:09:43.260 --> 00:09:46.710\nI'm gonna put it over here on\nmy hard drive, my local drive.\n\n181\n00:09:48.380 --> 00:09:50.420\nIf I can remember how to pace, all right.\n\n182\n00:09:50.420 --> 00:09:53.290\nI also have unattend file, we're going\nto deal with that a little bit later,\n\n183\n00:09:53.290 --> 00:09:55.660\nI'm going to show you\nhow to use that as well.\n\n184\n00:09:55.660 --> 00:09:58.250\nSo I've copied that locally\nover here to my drive.\n\n185\n00:09:58.250 --> 00:10:02.237\nAgain, it's got a couple of scripts,\nand a PowerShell module, and\n\n186\n00:10:02.237 --> 00:10:04.866\na support file for that module, that PSD1.\n\n187\n00:10:04.866 --> 00:10:07.059\nSo now, I'm going to open up Power Shell.\n\n188\n00:10:08.780 --> 00:10:10.922\nAll right, so\nI'm gonna run that as administrator.\n\n189\n00:10:13.358 --> 00:10:17.780\nAnd I'm gonna switch\nover to that directory.\n\n190\n00:10:17.780 --> 00:10:23.680\nSo we'll do\na cdv:/NanoServerImageGenerator.\n\n191\n00:10:23.680 --> 00:10:25.820\nA lot of times, I will rename that folder.\n\n192\n00:10:25.820 --> 00:10:28.210\nIn fact, you know what,\nlet's do that right now.\n\n193\n00:10:28.210 --> 00:10:31.520\nLet's go back to C:,\ncuz I don't wanna have to type that later.\n\n194\n00:10:32.980 --> 00:10:36.550\nSo, let's rename that folder just\nsomething a little bit shorter than nano\n\n195\n00:10:36.550 --> 00:10:39.280\nserver image generator.\n\n196\n00:10:39.280 --> 00:10:41.250\nHow 'bout we call it, nano.\n\n197\n00:10:42.575 --> 00:10:47.514\nThat'll be easier to work with, then I\ncan just do my change directory back over\n\n198\n00:10:47.514 --> 00:10:52.367\nto nano And we should be good to go.\n\n199\n00:10:52.367 --> 00:10:56.077\nAll right, so switch over to the directory\nthat you just created when copied those\n\n200\n00:10:56.077 --> 00:10:57.650\nfiles off of the disk.\n\n201\n00:10:57.650 --> 00:11:03.000\nAll right, next thing I wanna\ndo is import that module.\n\n202\n00:11:03.000 --> 00:11:08.582\nCuz if I do commands now,\nif I do like get-Command.\n\n203\n00:11:08.582 --> 00:11:15.390\nLet's do *nano* all right,\nI get a whole lot of nothing.\n\n204\n00:11:15.390 --> 00:11:16.920\nNothing comes back, right?\n\n205\n00:11:16.920 --> 00:11:21.307\nSo what I'm gonna do,\nis I'm gonna do an import-module,\n\n206\n00:11:21.307 --> 00:11:25.840\nall right, and it's in that same\nfolder's so dot/ and it should find it.\n\n207\n00:11:25.840 --> 00:11:30.150\nThere it is,\nNanoServerImageGenerator.psm1.\n\n208\n00:11:30.150 --> 00:11:35.267\nAnd I'm going to add a verbose to this,\nso we can see what's going on.\n\n209\n00:11:35.267 --> 00:11:38.862\nAnd you'll see,\nI loaded up three functions, basically.\n\n210\n00:11:38.862 --> 00:11:44.740\nImporting function Edit-NanoServerImage,\nGet-NanoServerImage, New-NanoServerImage.\n\n211\n00:11:44.740 --> 00:11:46.770\n&gt;&gt; Mike, does this require\nan Internet connection or\n\n212\n00:11:46.770 --> 00:11:49.870\nis this, cuz i know sometimes when\nyou get help in stuff like this, or\n\n213\n00:11:49.870 --> 00:11:51.650\njust all coming out the local ISO?\n\n214\n00:11:51.650 --> 00:11:54.518\n&gt;&gt; So far we're local,\ngreat question, so far we're local.\n\n215\n00:11:54.518 --> 00:11:57.770\nSome of this will require a connection,\nbut you can do without it.\n\n216\n00:11:57.770 --> 00:12:01.100\nYou just have to go to a different machine\nand download some things from Microsoft\n\n217\n00:12:01.100 --> 00:12:03.905\nlike some of the modules or\npackages, I should say.\n\n218\n00:12:03.905 --> 00:12:07.360\nNano-packages that I want to\ninstall might not be available.\n\n219\n00:12:07.360 --> 00:12:09.070\nI might have to go out to Microsoft and\n\n220\n00:12:09.070 --> 00:12:13.280\ndownload them from their gallery,\nwhich I'll show you here in a little bit.\n\n221\n00:12:13.280 --> 00:12:16.832\nAll right, so now that we've got that,\nwe're gonna run that same command again,\n\n222\n00:12:16.832 --> 00:12:17.962\nGet-Command *nano*.\n\n223\n00:12:17.962 --> 00:12:22.615\nWe'll see, I now have those three\ncommands available for my use,\n\n224\n00:12:22.615 --> 00:12:26.430\nedit, get, and new nano server image.\n\n225\n00:12:26.430 --> 00:12:31.060\nAll right, now for the big long command\nto create our first nano server image.\n\n226\n00:12:32.210 --> 00:12:35.530\nAll right, so now you can see that\na little better, bitter and better.\n\n227\n00:12:35.530 --> 00:12:37.538\nDon't be bitter about it, it is better.\n\n228\n00:12:37.538 --> 00:12:41.376\nNew-NanoServerImage, is the command\nthat we have available,\n\n229\n00:12:41.376 --> 00:12:43.930\nbecause we imported that module.\n\n230\n00:12:43.930 --> 00:12:46.370\nAnd then several switches\nthat we're gonna provide.\n\n231\n00:12:46.370 --> 00:12:49.440\nFirst off is Edition, and I'll show you,\n\n232\n00:12:49.440 --> 00:12:52.470\nwe get the option for\nDatacenter or Standard.\n\n233\n00:12:52.470 --> 00:12:54.058\nWe'll go Standard for this one.\n\n234\n00:12:54.058 --> 00:12:59.044\n-DeploymentType and, god I love tab auto\nfill, all I'm doing is hitting tab and\n\n235\n00:12:59.044 --> 00:13:02.170\nit's showing me the possibilities, right?\n\n236\n00:13:02.170 --> 00:13:04.285\nThis is the great thing about PowerShell,\n\n237\n00:13:04.285 --> 00:13:07.345\nI know we've harped on it in\nseveral videos that we've done.\n\n238\n00:13:07.345 --> 00:13:10.370\nLearn your PowerShell,\nlearn to use that tab auto fill.\n\n239\n00:13:10.370 --> 00:13:13.480\nBecause if you don't remember what the\npossibilities are, just start tabbing and\n\n240\n00:13:13.480 --> 00:13:15.590\nyou can see all the possibilities, right?\n\n241\n00:13:15.590 --> 00:13:18.590\nSo as you can see here, host or guest.\n\n242\n00:13:18.590 --> 00:13:21.550\nWhat it's asking me is, what am I going\nto do with this nano server image?\n\n243\n00:13:21.550 --> 00:13:25.840\nAm I creating a VHD that I'm going\nto create a virtual machine out,\n\n244\n00:13:25.840 --> 00:13:27.540\nof that would be guest.\n\n245\n00:13:27.540 --> 00:13:32.140\nNano is eventually going to be a guest\noperating system, in a virtual machine,\n\n246\n00:13:32.140 --> 00:13:33.620\non a hyper B server.\n\n247\n00:13:33.620 --> 00:13:37.203\nOr I could do host,\nwhere I'm going to create a VHD,\n\n248\n00:13:37.203 --> 00:13:40.306\nbut then boot a physical\nmachine to that VHD.\n\n249\n00:13:40.306 --> 00:13:43.128\nAll right,\nactually add it to my VHD information and\n\n250\n00:13:43.128 --> 00:13:47.130\nthen be able to select that VHD\nwhen I boot that physical machine.\n\n251\n00:13:47.130 --> 00:13:50.110\nSo you can do this,\nyou can do nano on a physical machine.\n\n252\n00:13:50.110 --> 00:13:53.310\nBut you can't install it on a physical\nmachine like you would by getting\n\n253\n00:13:53.310 --> 00:13:56.790\nthe media and throwing it in\nthe CD ROM drive or DVD drive.\n\n254\n00:13:56.790 --> 00:14:02.210\nWhat you have to do is create the VHD\nlike we're doing here, specify host,\n\n255\n00:14:02.210 --> 00:14:06.030\nand then you'll have to copy that VHD\nto the physical machine's hard drive.\n\n256\n00:14:06.030 --> 00:14:09.210\nAnd then, add it to your BCD information,\nand then when you reboot,\n\n257\n00:14:09.210 --> 00:14:10.450\nyou can pick it from boot order.\n\n258\n00:14:10.450 --> 00:14:13.630\n&gt;&gt; So that kind of hearkens back to\nwhen native boot came out in Windows 7,\n\n259\n00:14:13.630 --> 00:14:15.720\nwe're not really talking\nabout the client side here,\n\n260\n00:14:15.720 --> 00:14:17.600\nwe're actually talking\nabout the server side.\n\n261\n00:14:17.600 --> 00:14:18.330\nThat's really cool.\n\n262\n00:14:18.330 --> 00:14:19.724\n&gt;&gt; That's exactly what it is, yep.\n\n263\n00:14:19.724 --> 00:14:23.384\nAnd so, you might have a physical machine\nthat does not even have an operating\n\n264\n00:14:23.384 --> 00:14:26.050\nsystem installed on it,\nit just boots to that Nano VHD.\n\n265\n00:14:26.050 --> 00:14:27.910\nAll right, pretty cool stuff.\n\n266\n00:14:27.910 --> 00:14:29.603\nI'm going to go with guest, and\n\n267\n00:14:29.603 --> 00:14:33.313\nwhat that does is it actually effects\nthe drivers that are installed.\n\n268\n00:14:33.313 --> 00:14:35.904\nIf you choose guest its\ninstalling the hyper v add ons,\n\n269\n00:14:35.904 --> 00:14:37.780\nall those drivers that it needs.\n\n270\n00:14:37.780 --> 00:14:42.268\nIf you do host, it's putting in some OEM\ndrivers that would normally come with\n\n271\n00:14:42.268 --> 00:14:43.774\na standard core install.\n\n272\n00:14:43.774 --> 00:14:46.848\nIt would be the same set of drivers\nthat you would get with core or\n\n273\n00:14:46.848 --> 00:14:49.260\nserver core if you install that.\n\n274\n00:14:49.260 --> 00:14:52.875\nAll right so, guest and then -mediaPath.\n\n275\n00:14:52.875 --> 00:14:55.870\nNow media path,\nthis is where's my 2016 DVD, because\n\n276\n00:14:57.360 --> 00:15:00.840\nremember all I did was copy\nthat Nano Server folder.\n\n277\n00:15:00.840 --> 00:15:05.180\nI didn't copy everything else, all of\nthe installed files for Server 2016 and\n\n278\n00:15:05.180 --> 00:15:06.220\nthings like that.\n\n279\n00:15:06.220 --> 00:15:10.560\nSo there is more to it,\nyou could copy those locally.\n\n280\n00:15:10.560 --> 00:15:14.260\nIf you wanted to copy that DVD locally,\nor if you had those DVD files on a up on\n\n281\n00:15:14.260 --> 00:15:16.900\na share somewhere,\nyou could point to it using this.\n\n282\n00:15:16.900 --> 00:15:18.540\nAll right, you could do -mediapath, and\n\n283\n00:15:18.540 --> 00:15:22.540\njust point to wherever\nyour 2016 ISO is located.\n\n284\n00:15:22.540 --> 00:15:26.300\nJust remember, if it's mounted\nyou can point it to the ISO,\n\n285\n00:15:26.300 --> 00:15:30.580\nif it's a file you can't point it to the\nISO file, you'd have to extract it out.\n\n286\n00:15:30.580 --> 00:15:34.110\nAnd then point it to that folder\nthat has all those extracted files.\n\n287\n00:15:34.110 --> 00:15:38.541\nSo mine, if I remember right,\nis d: so, I put my d: in there for\n\n288\n00:15:38.541 --> 00:15:42.990\nmy media path, that's my dvd drive and\nthen we're going to do.\n\n289\n00:15:42.990 --> 00:15:44.672\nLet me remember where I am at.\n\n290\n00:15:44.672 --> 00:15:50.515\nWe'll do a -BasePath, all right,\n-BasePath and what this is gonna do,\n\n291\n00:15:50.515 --> 00:15:55.896\nit's gonna create a folder,\nwherever I specify in this parameter,\n\n292\n00:15:55.896 --> 00:16:01.320\nand it's gonna copy those files\nfrom that ISO into this folder.\n\n293\n00:16:01.320 --> 00:16:03.946\nSo, the Win files for\nactually installing server.\n\n294\n00:16:03.946 --> 00:16:04.799\nThat's where this is gonna be copied.\n\n295\n00:16:04.799 --> 00:16:07.020\nAnd the cool thing is you can reuse this.\n\n296\n00:16:07.020 --> 00:16:10.328\nOnce I created my first nano and\nit creates this base path,\n\n297\n00:16:10.328 --> 00:16:13.510\nI can then just point it to that path for\nother commands.\n\n298\n00:16:13.510 --> 00:16:17.430\nI don't have to copy it down each and\nevery time, right?\n\n299\n00:16:17.430 --> 00:16:21.130\nSo we do base path and\nthat's gonna be I'm just gonna do.\\.\n\n300\n00:16:21.130 --> 00:16:25.428\nSo in the Nano folder that\nI'm currently working in,\n\n301\n00:16:25.428 --> 00:16:31.265\nthe current working directory,\nv:\\Nano.\\ Base, that'll work.\n\n302\n00:16:31.265 --> 00:16:35.020\nAnd then I'm gonna do a -targetpath.\n\n303\n00:16:35.020 --> 00:16:37.550\nOops,- TargetPath.\n\n304\n00:16:37.550 --> 00:16:41.190\nThis is where you wanna put the VHD\nthat it's going to generate.\n\n305\n00:16:42.190 --> 00:16:45.620\nNow I forgot,\nlet's see if I created a folder over here.\n\n306\n00:16:45.620 --> 00:16:50.160\nI think on my C drive I've got HyperV,\nVHD so\n\n307\n00:16:50.160 --> 00:16:52.700\nthat's my default location for\nmy Hyper-V server.\n\n308\n00:16:52.700 --> 00:16:56.781\nI'll go ahead and dump it there,\nthat will be fine for us.\n\n309\n00:16:56.781 --> 00:16:59.891\nSo C:\\, let me zoom back in for you.\n\n310\n00:17:03.890 --> 00:17:09.674\nC: \\, hyperv\\VHDs\\.\n\n311\n00:17:09.674 --> 00:17:16.511\nAnd then in the TargetPath parameter,\npath plus the name of the VHD.\n\n312\n00:17:16.511 --> 00:17:24.080\nSo I'm gonna call it nano01.vhdx.\n\n313\n00:17:24.080 --> 00:17:28.390\nAnd why we're here,\nwhat if I wanted to create a gen 1, right?\n\n314\n00:17:28.390 --> 00:17:30.640\nWell I'll just specify VHD.\n\n315\n00:17:30.640 --> 00:17:33.649\nYou're basically deciding,\nright here in this name,\n\n316\n00:17:33.649 --> 00:17:36.924\nwhether you're creating a gen 1 or\ngen 2 virtual machine.\n\n317\n00:17:36.924 --> 00:17:41.640\nGen1.vhd, Gen2.vhdx.\n\n318\n00:17:41.640 --> 00:17:42.560\nThat's that easy.\n\n319\n00:17:42.560 --> 00:17:48.590\nSo we'll do a vhdx for\nthat and then -ComputerName.\n\n320\n00:17:48.590 --> 00:17:52.670\nAnd I'm gonna call it nano01,\nfor my computer name.\n\n321\n00:17:52.670 --> 00:18:00.130\nAnd then -DomainName and -lab.itpro.tv.\n\n322\n00:18:00.130 --> 00:18:04.383\nSo what this is gonna do, this is\nactually gonna join it to the domain name\n\n323\n00:18:04.383 --> 00:18:07.051\nby specifying the parameter- DomainName.\n\n324\n00:18:07.051 --> 00:18:12.028\nWe've seen offline domain\njoin in other episodes,\n\n325\n00:18:12.028 --> 00:18:17.240\nour whole de-join provision,\nall of that fun stuff.\n\n326\n00:18:17.240 --> 00:18:21.288\nWhich I know is one of my\nfavorite commands, just kidding.\n\n327\n00:18:21.288 --> 00:18:22.970\nBut that's what it's gonna do.\n\n328\n00:18:22.970 --> 00:18:28.270\nBecause the machine that I am doing\nthis on is part of the domain,\n\n329\n00:18:28.270 --> 00:18:33.200\nI'm on a Server 2016 box that's\npart of the domain, this will work.\n\n330\n00:18:33.200 --> 00:18:37.260\nBecause it can say, all right,\nI'm will go ahead and do de-join.\n\n331\n00:18:37.260 --> 00:18:38.650\nIt's gonna create that blob,\n\n332\n00:18:38.650 --> 00:18:43.210\nthat binary large objects, the result\nof an offline domain join command.\n\n333\n00:18:43.210 --> 00:18:47.120\nIt's gonna create that file and\nthen it's going to, as it's building\n\n334\n00:18:47.120 --> 00:18:51.920\nthe virtual machine, it's gonna basically,\nduring that unattend pass, grab that file,\n\n335\n00:18:51.920 --> 00:18:54.310\nget the information and\njoin it to the domain.\n\n336\n00:18:54.310 --> 00:18:55.850\nSo it does it all for me.\n\n337\n00:18:55.850 --> 00:19:00.150\nNow if I wasn't on a machine that was\npart of the domain this wouldn't work,\n\n338\n00:19:00.150 --> 00:19:03.950\nbecause it couldn't harvest the blob\nfrom the physical machine I'm on because\n\n339\n00:19:03.950 --> 00:19:05.200\nit's not part of the domain.\n\n340\n00:19:05.200 --> 00:19:07.540\nSo then that would fail,\nbut there's ways around it.\n\n341\n00:19:07.540 --> 00:19:10.160\nWe can go back and\ndo the blob after the fact.\n\n342\n00:19:10.160 --> 00:19:13.130\nWe could have a blob that\nwe created from another\n\n343\n00:19:13.130 --> 00:19:16.800\nWindows machine that's part of\nthe domain that we created earlier.\n\n344\n00:19:16.800 --> 00:19:18.770\nAnd I could have it available and\nI could point it to it.\n\n345\n00:19:18.770 --> 00:19:21.350\nSo there's several different\nways that you can do that.\n\n346\n00:19:21.350 --> 00:19:24.690\nBut by far the easiest, if you're doing it\non a machine that's part of the domain,\n\n347\n00:19:24.690 --> 00:19:26.970\nyou just simply put DomainName and\n\n348\n00:19:26.970 --> 00:19:29.029\nit will do the harvesting of\nthe blob in the background.\n\n349\n00:19:30.800 --> 00:19:35.730\nSo -DomainName and then we're going\nto set our TCP/IP information.\n\n350\n00:19:35.730 --> 00:19:44.460\nSo we'd have to do interface,\nit's -InterfaceNameOrIndex.\n\n351\n00:19:44.460 --> 00:19:48.530\nNow this is the part that threw me for\na little loop as I was studying up and\n\n352\n00:19:48.530 --> 00:19:52.260\ngetting ready to do this show for\neverybody out there in TV land.\n\n353\n00:19:52.260 --> 00:19:57.010\nBecause I don't know what my\ninterface name or index is, right?\n\n354\n00:19:57.010 --> 00:19:58.710\nI haven't built a machine yet.\n\n355\n00:19:58.710 --> 00:20:01.580\nAnd I'm thinking, okay, let's see.\n\n356\n00:20:01.580 --> 00:20:06.300\nBack in the day, we used to get local\nInternet connection, local Internet\n\n357\n00:20:06.300 --> 00:20:10.050\nconnection 2, local Internet connection 3,\nbut we all know that changed.\n\n358\n00:20:10.050 --> 00:20:14.878\nSomewhere around 2012, they started\ncalling it Ethernet 1, or Ethernet 2,\n\n359\n00:20:14.878 --> 00:20:17.220\nand Ethernet 3 for your multi-homed.\n\n360\n00:20:17.220 --> 00:20:19.312\nSo I know the first time I tried it,\nit was like, yeah,\n\n361\n00:20:19.312 --> 00:20:21.005\ngreat it's going to be called Ethernet 1.\n\n362\n00:20:21.005 --> 00:20:22.500\nIt's the first network adapter.\n\n363\n00:20:22.500 --> 00:20:23.700\nThat's what I'll do.\n\n364\n00:20:23.700 --> 00:20:24.510\nFailed.\n\n365\n00:20:24.510 --> 00:20:27.510\nI was banging my head against the desk\ntrying to figure out what to do or\n\n366\n00:20:27.510 --> 00:20:28.175\nhow to do this.\n\n367\n00:20:28.175 --> 00:20:32.860\nI come to find out, after just not\nsetting the TCP/IP information,\n\n368\n00:20:32.860 --> 00:20:37.120\ninstalling it, figuring out how\nto get into it and looking at it.\n\n369\n00:20:37.120 --> 00:20:37.910\nIt's called Ethernet.\n\n370\n00:20:39.010 --> 00:20:43.201\nI don't know if the next adapter would\nbe Ethernet 1 or Ethernet 2, but\n\n371\n00:20:43.201 --> 00:20:45.621\nwe know the first one is called Ethernet.\n\n372\n00:20:45.621 --> 00:20:48.830\nSo that's what we'll put,\nwe'll put ethernet.\n\n373\n00:20:48.830 --> 00:20:50.860\nJust a little FYI or\nheads up for you guys.\n\n374\n00:20:50.860 --> 00:20:51.959\nAs you're trying this at home.\n\n375\n00:20:53.360 --> 00:20:55.570\nThe first one on Nano is called Ethernet.\n\n376\n00:20:55.570 --> 00:20:59.050\nThen we're gonna do an IP\nif I can type here.\n\n377\n00:20:59.050 --> 00:21:03.730\nI need an i in front of that, ipv4Address.\n\n378\n00:21:03.730 --> 00:21:10.960\nAnd then this is pretty standard, 10.1.1,\nlet's call this 2, or let's call this 151.\n\n379\n00:21:10.960 --> 00:21:15.380\nAnd then we'll do a-\n\n380\n00:21:15.380 --> 00:21:20.539\nipv4SubnetMask 255\n\n381\n00:21:20.539 --> 00:21:24.472\n255 255 0.\n\n382\n00:21:24.472 --> 00:21:25.434\nWhat else do we need their Wes?\n\n383\n00:21:25.434 --> 00:21:27.880\nI've got the IP address,\nI've got the SubnetMask.\n\n384\n00:21:27.880 --> 00:21:29.890\nWe are gonna need a default gateway.\n\n385\n00:21:29.890 --> 00:21:30.930\nI ask you and answer for you.\n\n386\n00:21:30.930 --> 00:21:32.710\nSorry about that.\n\n387\n00:21:32.710 --> 00:21:37.530\nIPV4Gateway is 10.1.1.2 in my case.\n\n388\n00:21:37.530 --> 00:21:43.900\nAnd then one of the most important ones\nand the easy one to forget ipv4DNS, right?\n\n389\n00:21:43.900 --> 00:21:47.403\nIf I don't have the right DNS address\nit will not be able to join the domain.\n\n390\n00:21:47.403 --> 00:21:50.777\nIt won't be able to create a DNS record,\nyou won't be able too find it,\n\n391\n00:21:50.777 --> 00:21:53.750\nremotely managing it will\nbe a lot more difficult.\n\n392\n00:21:53.750 --> 00:21:55.660\nSo don't forget to assign the DNS.\n\n393\n00:21:55.660 --> 00:21:56.500\nAnd this is one,\n\n394\n00:21:56.500 --> 00:22:00.800\nif you've played with nano at all as our\ntechnical previews have been coming out\n\n395\n00:22:00.800 --> 00:22:05.240\nback in technical preview 3 and 4,\nthis command actually wasn't available.\n\n396\n00:22:05.240 --> 00:22:08.740\nThey finally added the IPV4DNS.\n\n397\n00:22:08.740 --> 00:22:12.560\nWhich made it a lot easier to work with,\nI can tell you that.\n\n398\n00:22:12.560 --> 00:22:13.733\nAnd who is my DNS server?\n\n399\n00:22:13.733 --> 00:22:16.178\n10.1.1.200.\n\n400\n00:22:16.178 --> 00:22:18.719\nAnd I also want to do an enable\n\n401\n00:22:19.900 --> 00:22:24.590\nRemoteManagementPort, which\nI can do after the fact.\n\n402\n00:22:24.590 --> 00:22:28.270\nBut it's a lot easier to do\nit here during the creation.\n\n403\n00:22:28.270 --> 00:22:31.240\nNow there are a couple commands I just\nwant to mention as I get ready to hit\n\n404\n00:22:31.240 --> 00:22:31.940\nEnter on this one.\n\n405\n00:22:33.780 --> 00:22:38.039\nIf you have custom drivers, if you have\ndrivers that maybe got a network adapter\n\n406\n00:22:38.039 --> 00:22:41.725\nthat the default drivers that come\nwith Windows doesn't work with so\n\n407\n00:22:41.725 --> 00:22:45.054\nyou have to add drivers or\na video card or something like that.\n\n408\n00:22:45.054 --> 00:22:48.507\nYou can do a -DriverPath.\n\n409\n00:22:48.507 --> 00:22:52.790\nAnd then you can just specify the path to\nwhere you've extracted those drivers out.\n\n410\n00:22:52.790 --> 00:22:57.590\nJust make sure all the files INIs, INF,\nSYS files that are part of that driver\n\n411\n00:22:57.590 --> 00:23:00.480\nare available in that\nfolder that you pointed to.\n\n412\n00:23:00.480 --> 00:23:02.190\nBut it can be more than one driver.\n\n413\n00:23:02.190 --> 00:23:04.080\nYou just have to move\nall the files in there.\n\n414\n00:23:04.080 --> 00:23:07.449\nSo you can do a -DriversPath.\n\n415\n00:23:07.449 --> 00:23:11.740\nYou can also do a -CopyFiles,\nwhich is another cool one.\n\n416\n00:23:11.740 --> 00:23:14.390\nYou can have a directory of maybe tools or\n\n417\n00:23:14.390 --> 00:23:18.110\nother things that you're gonna need\non that machine after the fact.\n\n418\n00:23:18.110 --> 00:23:19.320\nAnd rather than wait and\n\n419\n00:23:19.320 --> 00:23:24.020\ncopy them over you can actually just\nspecify -CopyFiles and then point it to\n\n420\n00:23:24.020 --> 00:23:28.710\nand it'll make sure those files are on\nthat VHD when the process is complete.\n\n421\n00:23:28.710 --> 00:23:30.600\nSo pretty darn cool, I think.\n\n422\n00:23:30.600 --> 00:23:35.110\nAnd there are a lot of other\nswitches that you can use.\n\n423\n00:23:35.110 --> 00:23:39.860\nThese are just the ones that I need to\nget this done for what we're doing here.\n\n424\n00:23:39.860 --> 00:23:42.840\nBecause you notice, I'm not installing\nany roles or features, right?\n\n425\n00:23:42.840 --> 00:23:45.200\nThat I could do as I'm doing this.\n\n426\n00:23:45.200 --> 00:23:48.675\nWe haven't looked at those yet, so we'll\nlook at them now as we're waiting for\n\n427\n00:23:48.675 --> 00:23:49.775\nthis to complete.\n\n428\n00:23:51.495 --> 00:23:52.275\nOr do we have time?\n\n429\n00:23:52.275 --> 00:23:55.202\nI'll tell you what,\nwe'll go ahead and start that up.\n\n430\n00:23:55.202 --> 00:23:56.123\nWe'll let that run.\n\n431\n00:23:56.123 --> 00:23:58.573\nIt is gonna prompt me for\nthe administrator password.\n\n432\n00:23:58.573 --> 00:24:01.585\nI can specify the password in the command.\n\n433\n00:24:01.585 --> 00:24:04.705\nNot usually a huge fan of that because\nif anybody's shoulder surfing or\n\n434\n00:24:04.705 --> 00:24:06.600\nanything like that they could see.\n\n435\n00:24:06.600 --> 00:24:10.840\nSo at least this way, if you don't\nspecify -AdminstratorPassword,\n\n436\n00:24:10.840 --> 00:24:14.860\nit just prompts you for it and\nit's obfuscated when you type it in, so\n\n437\n00:24:14.860 --> 00:24:18.400\nI feel a little more secure doing that.\n\n438\n00:24:18.400 --> 00:24:20.740\n&gt;&gt; And I know I'm kind of jumping\nahead on you on this one, Mike,\n\n439\n00:24:20.740 --> 00:24:22.150\nbecause you're going to talk\nabout the unattend file.\n\n440\n00:24:22.150 --> 00:24:23.150\nBut for security purposes,\n\n441\n00:24:23.150 --> 00:24:25.870\nthat might be something that you would\nleave out of the unattend file because\n\n442\n00:24:25.870 --> 00:24:27.700\nof course, you don't want somebody\nbeing able to write that down.\n\n443\n00:24:27.700 --> 00:24:28.550\n&gt;&gt; Absolutely, Ben.\n\n444\n00:24:28.550 --> 00:24:30.380\nYou know,\nthat's another cool thing about this,\n\n445\n00:24:30.380 --> 00:24:34.480\nis our unattend files that we use for\nnormal server installs work.\n\n446\n00:24:34.480 --> 00:24:40.180\nWe can point it to that un-attend file and\npull options from there.\n\n447\n00:24:40.180 --> 00:24:42.840\nLike one of the things that\nI get a frustrated with at\n\n448\n00:24:42.840 --> 00:24:44.580\nfirst was the time zone.\n\n449\n00:24:44.580 --> 00:24:49.480\nThere was no way for me to set the time\nzone during the installation and\n\n450\n00:24:49.480 --> 00:24:52.690\nI was having a hard time at that point\nI was having a hard time getting\n\n451\n00:24:52.690 --> 00:24:57.960\nthe time zone changed after the fact\nbecause it's Nano, there is no interface.\n\n452\n00:24:57.960 --> 00:24:58.980\nBut I learned something new.\n\n453\n00:24:58.980 --> 00:25:02.720\nThere's a timezone utility\nthat you can use in Windows.\n\n454\n00:25:02.720 --> 00:25:06.890\nI, all the years that I've been doing\nthis since Server 2000, I never realized.\n\n455\n00:25:06.890 --> 00:25:10.000\nI don't know where it came, if it's always\nbeen there and I just never knew or\n\n456\n00:25:10.000 --> 00:25:14.320\nif it's recent, but if you've ever needed\nor if you're curious, go out there and\n\n457\n00:25:14.320 --> 00:25:15.490\nsearch for Tzutil.\n\n458\n00:25:16.810 --> 00:25:19.650\nIt's basically tzutil forward slash g for\nget.\n\n459\n00:25:19.650 --> 00:25:21.540\nIt'll show you your current time zone.\n\n460\n00:25:21.540 --> 00:25:25.630\nTzutil forward slash s to set,\nand then in quotes,\n\n461\n00:25:25.630 --> 00:25:29.310\nEastern Standard Time, three separate\nwords, and you can set the time zone.\n\n462\n00:25:29.310 --> 00:25:32.490\nOr whatever's appropriate for\nyour scenario, of course.\n\n463\n00:25:32.490 --> 00:25:35.040\nBut nice that they give us that.\n\n464\n00:25:35.040 --> 00:25:37.710\nAll right while this is finishing up,\nI know we're just about out of time for\n\n465\n00:25:37.710 --> 00:25:40.160\nthis, and I wanna show you one thing and\nwe'll come back and\n\n466\n00:25:40.160 --> 00:25:42.210\ncheck on this finished process.\n\n467\n00:25:44.000 --> 00:25:45.310\nThis is a file that I've created, and\n\n468\n00:25:45.310 --> 00:25:47.930\nI'll make sure I give to Wes to\nput up there with the show notes.\n\n469\n00:25:47.930 --> 00:25:51.000\nNano roles and features,\nas I said, it's a limited set.\n\n470\n00:25:51.000 --> 00:25:55.830\nSo we can see Hyper-V is one of them and\nthis is the option you would use.\n\n471\n00:25:55.830 --> 00:25:59.500\nIn that Power Shell command that I\njust wrote to install nano-server,\n\n472\n00:25:59.500 --> 00:26:01.389\nI could have added a dash compute and\n\n473\n00:26:01.389 --> 00:26:03.810\nit would have the Hyper-V role\ninstalled on it when we got it done.\n\n474\n00:26:03.810 --> 00:26:08.565\nIf you want to set up fail over\nclustering, it's dash clustering.\n\n475\n00:26:08.565 --> 00:26:13.360\nThere's OEM drivers if you wanna include\nall the drivers that are normally included\n\n476\n00:26:13.360 --> 00:26:18.615\nwith the Server 2016 core install\n-Storage to include the file server role.\n\n477\n00:26:18.615 --> 00:26:23.200\n-Defender to install\nWindows Defender Anti-Malware.\n\n478\n00:26:23.200 --> 00:26:26.060\nThis one is no longer needed,\nit's included by default.\n\n479\n00:26:26.060 --> 00:26:31.048\nForwarders for development, Dev App\ntype environments, Ruby and Node js.\n\n480\n00:26:31.048 --> 00:26:37.070\nDNS, packages\nMicrosoft-NanoServer-DNS-Package.\n\n481\n00:26:37.070 --> 00:26:40.540\nThat's a fun one to type,\nto have auto fill as your friend.\n\n482\n00:26:40.540 --> 00:26:44.015\nDesired State Configuration,\nDSC is another package.\n\n483\n00:26:44.015 --> 00:26:47.630\nMicrosoft-NanoServer-DSC-Package.\n\n484\n00:26:47.630 --> 00:26:51.420\nAnd then IIS is another package,\nNanoServer-IIS-Package.\n\n485\n00:26:51.420 --> 00:26:54.130\nYou notice these packages have\nthe word NanoServer in them.\n\n486\n00:26:54.130 --> 00:26:57.460\nIt is something you gotta be conscious\nof when you go out looking at packages.\n\n487\n00:26:57.460 --> 00:27:02.730\nFor Microsoft's repository you have to\nmake sure that it's for NanoServer, right?\n\n488\n00:27:02.730 --> 00:27:07.030\nAnd I'll show you in our next episode,\nwe're gonna back and I'll show you how to\n\n489\n00:27:07.030 --> 00:27:13.130\npull down one of these modules,\ninstall it and do some searching\n\n490\n00:27:13.130 --> 00:27:17.480\nto find what's available out there, but\nfor now those are all we have available.\n\n491\n00:27:17.480 --> 00:27:20.440\nNow, we'll switch back over to my VM and\nwe are done.\n\n492\n00:27:20.440 --> 00:27:22.880\nAnd if we look closely\nat the process here,\n\n493\n00:27:24.610 --> 00:27:27.660\nnow there was our command that we wrote,\nright up here.\n\n494\n00:27:27.660 --> 00:27:31.100\nAnd so the first thing it does is\nit goes and it creates the VHD, and\n\n495\n00:27:31.100 --> 00:27:35.740\nyou can see mounting VHDX,\ninitializing disk, goes and\n\n496\n00:27:35.740 --> 00:27:40.500\ndoes all the partitioning, assigns\na path to it, makes it bootable and\n\n497\n00:27:40.500 --> 00:27:44.710\nthen it applies the actual WIM file,\nright here, applying image.\n\n498\n00:27:44.710 --> 00:27:49.351\nSo it's just taking that WIM and\napplying it to the VHDX, and\n\n499\n00:27:49.351 --> 00:27:54.265\nthen it's closing up the image and\nthen it actually goes back and\n\n500\n00:27:54.265 --> 00:27:58.997\napplies the Azure file,\nwhich I really didn't have one, and\n\n501\n00:27:58.997 --> 00:28:04.457\nthen it's done and at this point,\nif we go back and look inside the SQL or\n\n502\n00:28:04.457 --> 00:28:09.951\nHyper-V VHDs, there is my Nano Server VHD\nand look at the size 537.\n\n503\n00:28:09.951 --> 00:28:11.690\nYes, you read that correctly.\n\n504\n00:28:11.690 --> 00:28:14.940\nThat's 537 megabytes, right?\n\n505\n00:28:14.940 --> 00:28:18.480\n537 megabytes in size.\n\n506\n00:28:18.480 --> 00:28:20.510\nWhen's the last time you said that for\na Windows installation?\n\n507\n00:28:20.510 --> 00:28:23.845\n&gt;&gt; It's been a very long time [LAUGH] for\nsure.\n\n508\n00:28:23.845 --> 00:28:27.051\nNow Mike, I know that we've\ngot much more to go in this,\n\n509\n00:28:27.051 --> 00:28:28.980\nas far as it comes to Nano server.\n\n510\n00:28:28.980 --> 00:28:32.270\nAnd I have to tell you though as much\nas that PowerShell command like kinda\n\n511\n00:28:32.270 --> 00:28:34.290\nrolls right off the tongue\nthat you just showed us.\n\n512\n00:28:34.290 --> 00:28:36.170\n[LAUGH] I will be waiting for\nthe un-attend file.\n\n513\n00:28:36.170 --> 00:28:37.360\nYou can just export that and\n\n514\n00:28:37.360 --> 00:28:40.620\nsend it to me cause that PowerShell\ncommandlet really wasn't my friend, and\n\n515\n00:28:40.620 --> 00:28:43.310\nspeaking of not being my friend,\nI'm looking at the time clock.\n\n516\n00:28:43.310 --> 00:28:46.170\nLooks like it's not our friend right now,\nso how about we come back in and\n\n517\n00:28:46.170 --> 00:28:47.070\ndo a part two?\n\n518\n00:28:47.070 --> 00:28:47.840\n&gt;&gt; Okay.\n[LAUGH]\n\n519\n00:28:47.840 --> 00:28:48.530\n&gt;&gt; All right.\n\n520\n00:28:48.530 --> 00:28:50.050\nWell Mike, thanks for\nbeing in the studio but\n\n521\n00:28:50.050 --> 00:28:53.090\nit does look like we're gonna go ahead and\ntake the time to wrap this one up,\n\n522\n00:28:53.090 --> 00:28:55.670\nso we're gonna go ahead and\nsign out for ITProTV.\n\n523\n00:28:55.670 --> 00:28:57.270\nI've been your host, Wes Bryan.\n\n524\n00:28:57.270 --> 00:28:58.230\n&gt;&gt; And I'm Mike Rodrick.\n\n525\n00:28:58.230 --> 00:29:00.273\n&gt;&gt; And we'll see you next time.\n\n526\n00:29:00.273 --> 00:29:05.957\n[SOUND]\n\n",
          "vimeoId": "181126910"
        },
        {
          "description": "In this episode, Cherokee and Mike continue their discussion on Nano Server a new installation type in Windows Server 2016. They demonstrate how to configure a Hyper-V virtual machine ready to apply the Nano Server they created to the VM. They look at the interface and explain connecting to the server instance  as well as the some of the basic configurations such as using the Package Manager to install additional packages and driver installation.",
          "length": "1965",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-2-2-install_and_configure_nano_server_pt_2-112717-PGM.00_32_32_03.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-2-2-install_and_configure_nano_server_pt_2-112717-PGM.00_32_32_03.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-2-2-install_and_configure_nano_server_pt_2-112717-PGM.00_32_32_03.Still001-sm.jpg",
          "title": "Install and Configure Nano Server Part 2",
          "transcript": "",
          "vimeoId": "244898928"
        },
        {
          "description": "In this episode, Wes and Mike continue their discussion on Nano Server a new installation type in Windows Server 2016. They will explore how to setup a Nano Server installation up for remote management by configuring the Trusted Hosts through WSMan.",
          "length": "2145",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-2-3-install_and_configure_nano_server-pt3-083016-1.jpg",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-2-3-install_and_configure_nano_server-pt3-083016-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-1-2-3-install_and_configure_nano_server-pt3-083016-1-sm.jpg",
          "title": "Install and Configure Nano Server Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.136 --> 00:00:15.110\nWelcome back to another exciting\nepisode here at ITPro.TV.\n\n3\n00:00:15.110 --> 00:00:17.650\nI'm your host Wes Bryan and\nin today's episode,\n\n4\n00:00:17.650 --> 00:00:20.790\nwe're coming back at you with more\nof that installation, storage, and\n\n5\n00:00:20.790 --> 00:00:24.460\ncompute inside the brand\nnew Windows Server 2016.\n\n6\n00:00:24.460 --> 00:00:29.090\nWe're coming back at you even more\nimportantly with a part three on\n\n7\n00:00:29.090 --> 00:00:29.830\nNano Server.\n\n8\n00:00:29.830 --> 00:00:31.330\nJoining us in the studios, yet again,\n\n9\n00:00:31.330 --> 00:00:34.700\nthe legends expertise on this very topic\nis none other than Mr. Mike Rodrick.\n\n10\n00:00:34.700 --> 00:00:35.860\nMike, how you doing, sir?\n\n11\n00:00:35.860 --> 00:00:36.560\n&gt;&gt; I'm doing great, Wes.\n\n12\n00:00:36.560 --> 00:00:37.360\nThanks for having me back.\n\n13\n00:00:37.360 --> 00:00:38.180\nAnd that's right.\n\n14\n00:00:38.180 --> 00:00:40.520\nWe had left off in the previous episode.\n\n15\n00:00:40.520 --> 00:00:45.460\nWe created our second nano server, but\nthis one we didn't join it to the domain\n\n16\n00:00:45.460 --> 00:00:48.240\nimmediately or\nduring the creation process, right?\n\n17\n00:00:48.240 --> 00:00:52.590\nThe first one we did, we added that\nparameter to the new dash nano server.\n\n18\n00:00:52.590 --> 00:00:55.940\nWe added a parameter dash domain name.\n\n19\n00:00:55.940 --> 00:01:00.630\nAnd that way when we generated it,\nit was already part of their domain.\n\n20\n00:01:00.630 --> 00:01:02.630\nBecause it basically in the background,\n\n21\n00:01:02.630 --> 00:01:06.530\nwhat it's doing when you use that\nparameter, is it's harvesting a BLOB,\n\n22\n00:01:06.530 --> 00:01:10.980\na Binary Large Object, from the machine\nyou're running the command on.\n\n23\n00:01:10.980 --> 00:01:13.120\nAssuming that machine is\npart of your domain, and\n\n24\n00:01:13.120 --> 00:01:18.179\nthen it's using that as\nan Offline Domain Join to join that\n\n25\n00:01:19.330 --> 00:01:23.070\nnewly generated nano server to the domain.\n\n26\n00:01:23.070 --> 00:01:25.860\nAll right?\nSo it's basically just doing an offline to\n\n27\n00:01:25.860 --> 00:01:28.310\nmain join and\nusing D join in the background.\n\n28\n00:01:28.310 --> 00:01:29.430\nWe don't have to do it.\n\n29\n00:01:29.430 --> 00:01:31.980\nBut what if we've got\na machine like we've got now?\n\n30\n00:01:31.980 --> 00:01:34.800\nWe've got a nano server that's\nnot part of the domain and\n\n31\n00:01:34.800 --> 00:01:36.530\nnow I want to make it part of the domain.\n\n32\n00:01:36.530 --> 00:01:37.730\nHow do we go about doing that?\n\n33\n00:01:37.730 --> 00:01:39.220\nBecause we've looked at the interface.\n\n34\n00:01:39.220 --> 00:01:42.810\nWe've seen nano server all we\nget is the recovery console.\n\n35\n00:01:42.810 --> 00:01:47.680\nWe don't get anything else, and\nwhen you Power Shell into it,\n\n36\n00:01:47.680 --> 00:01:50.220\nyou are limited on what\ncommands you can run as well.\n\n37\n00:01:50.220 --> 00:01:52.540\nThere's some things that just don't work.\n\n38\n00:01:52.540 --> 00:01:55.520\nSo, we've got to have a way\nto join that guided domain so\n\n39\n00:01:55.520 --> 00:01:59.410\nwe can then use it as a domain server,\nwhich is what we're gonna do now.\n\n40\n00:01:59.410 --> 00:02:02.430\nAll right, so we've got our server set up,\n\n41\n00:02:02.430 --> 00:02:07.510\nagain, we finished creating, let's make\nsure I go back into file explorer.\n\n42\n00:02:07.510 --> 00:02:09.110\nThere's my hard drive for nano two so\n\n43\n00:02:09.110 --> 00:02:13.280\nI'm gonna flip back over to my\nhost machine Running hyper v.\n\n44\n00:02:13.280 --> 00:02:15.090\nI'm going to turn off nano one.\n\n45\n00:02:15.090 --> 00:02:18.080\nRemember, that was the one we\nbuilt in that first episode.\n\n46\n00:02:18.080 --> 00:02:18.840\nJust going to turn it off.\n\n47\n00:02:18.840 --> 00:02:22.800\nIt's running hyper v and it's taking\nup a lot of my resources in my VM, so\n\n48\n00:02:22.800 --> 00:02:24.070\nI just don't,\nwe don't need that right now.\n\n49\n00:02:24.070 --> 00:02:25.570\nSo we'll just turn that off.\n\n50\n00:02:25.570 --> 00:02:28.240\nThen we're going to make\na new virtual machine.\n\n51\n00:02:28.240 --> 00:02:29.320\nSo go new VM.\n\n52\n00:02:30.530 --> 00:02:32.500\nAnd again,\nI'm just going to do this really quick.\n\n53\n00:02:32.500 --> 00:02:33.040\nNano.\n\n54\n00:02:34.340 --> 00:02:41.260\nO2, next it'll be a gen two or\nit was a VHDX that we created.\n\n55\n00:02:41.260 --> 00:02:45.939\nI'll give it 512 on RAM,\nconnect it to the domain network.\n\n56\n00:02:48.880 --> 00:02:53.575\nUse an existing virtual hard drive because\nwe already created that with our new -nano\n\n57\n00:02:53.575 --> 00:02:58.850\nserver, and we'll click okay,\nNext, and Finish.\n\n58\n00:02:58.850 --> 00:03:02.560\nAnd give it a second and\nwe should have a brand new machine.\n\n59\n00:03:02.560 --> 00:03:05.890\nI'll go ahead and double click on that\nto connect to it and Start it up.\n\n60\n00:03:07.530 --> 00:03:11.570\nSo what this shout be is\na nano 2016 server but\n\n61\n00:03:11.570 --> 00:03:12.990\nit's not going to be part of the domain.\n\n62\n00:03:12.990 --> 00:03:17.250\nBasically it's in a work group and\nmy resolution is all kinds of whacked.\n\n63\n00:03:17.250 --> 00:03:20.610\nlet's see if we can drag\nthat back out here.\n\n64\n00:03:22.240 --> 00:03:24.700\nSee if I can just maximize that.\n\n65\n00:03:24.700 --> 00:03:27.630\nI still have to do a little horizontal\nscrolling, but that's life.\n\n66\n00:03:27.630 --> 00:03:29.650\nAll right, so again,\nhe's not part of the domain.\n\n67\n00:03:29.650 --> 00:03:34.790\nIf I try to log on with mike,\nmy domain account, use my password,\n\n68\n00:03:34.790 --> 00:03:38.870\nput lab for the domain,\nI get an error, which is expected.\n\n69\n00:03:38.870 --> 00:03:42.600\nSo if I try to log in as administrator,\nand\n\n70\n00:03:42.600 --> 00:03:47.280\nmy password, and no domain that\nwould be local admin account.\n\n71\n00:03:47.280 --> 00:03:48.680\nI can log on just fine.\n\n72\n00:03:48.680 --> 00:03:50.310\nHere I can see him nano two,\n\n73\n00:03:50.310 --> 00:03:55.900\nit's running 2016 TP five where\nthose bud is not part of the domain.\n\n74\n00:03:55.900 --> 00:03:57.310\nSo, how do we do this?\n\n75\n00:03:57.310 --> 00:03:59.570\nHow do we get this as to\nbe part of our domain?\n\n76\n00:03:59.570 --> 00:04:01.630\nWell, he first I need to do,\n\n77\n00:04:01.630 --> 00:04:05.560\nif I wanna be able to join this to\nthe domain is, I need to be able to remove\n\n78\n00:04:05.560 --> 00:04:09.460\nthe administrator I need to be able\nto connect to it and work with it.\n\n79\n00:04:09.460 --> 00:04:12.830\nThat's pretty straight forward,\nwell the concept is straight forward.\n\n80\n00:04:12.830 --> 00:04:14.290\nSo let's see what happens.\n\n81\n00:04:14.290 --> 00:04:18.970\nRemember the other day in our other\nepisode we were using PowerShell and\n\n82\n00:04:18.970 --> 00:04:19.750\nlet's see what I've got here.\n\n83\n00:04:19.750 --> 00:04:25.590\nAnd we would basically just\ndo enter-PsSession and\n\n84\n00:04:25.590 --> 00:04:28.860\nthen the name of that machine,\nnano 02 this time.\n\n85\n00:04:28.860 --> 00:04:29.550\nLast time, we did 01.\n\n86\n00:04:29.550 --> 00:04:32.700\nI'll hit enter and I get an error.\n\n87\n00:04:32.700 --> 00:04:34.030\nWe'll get a whole bunch of red text.\n\n88\n00:04:34.030 --> 00:04:37.610\nIf we look closely to the error,\ncannot find the computer Nano 02.\n\n89\n00:04:37.610 --> 00:04:41.550\nBasically, unable to resolve\nthat into an IP address.\n\n90\n00:04:41.550 --> 00:04:45.660\nRemember, this guy is\nnot part of the domain.\n\n91\n00:04:45.660 --> 00:04:48.840\nAnd DNS my DNS server is\non my domain controller,\n\n92\n00:04:48.840 --> 00:04:51.910\nand default it's an active\ndirectory integrated zone,\n\n93\n00:04:51.910 --> 00:04:55.690\nwhich requires secure dynamic updates,\nthis guy is not part of the domain.\n\n94\n00:04:55.690 --> 00:04:58.310\nHe is not allowed to\ncreate a record in DNS.\n\n95\n00:04:58.310 --> 00:04:59.830\n&gt;&gt; How about the\n&gt;&gt; Both the identities that are inside of\n\n96\n00:04:59.830 --> 00:05:00.700\nyour active directory.\n\n97\n00:05:00.700 --> 00:05:03.930\nI know that if I want to remote into\na computer and it is a part of the domain,\n\n98\n00:05:03.930 --> 00:05:07.790\nI can log in as myself,\nprovided I'm part of the domain myself.\n\n99\n00:05:07.790 --> 00:05:11.180\nDoes it trust any of the identities or\naccounts in your domain either?\n\n100\n00:05:11.180 --> 00:05:13.650\n&gt;&gt; Well it's not part of the domain,\nthe nano isn't, so\n\n101\n00:05:13.650 --> 00:05:14.930\nhe's not gonna trust anything.\n\n102\n00:05:14.930 --> 00:05:15.800\nCorrect.\n\n103\n00:05:15.800 --> 00:05:17.980\nSo if I flip back over\nto my domain controller,\n\n104\n00:05:17.980 --> 00:05:19.830\nactually we really don't I\ndon't need to look here yet.\n\n105\n00:05:19.830 --> 00:05:21.950\nI was gonna open up DNS,\n\n106\n00:05:21.950 --> 00:05:26.250\nand show you there's no record in there\nmapping its name to an IP address.\n\n107\n00:05:26.250 --> 00:05:27.220\nOkay, well that's fine.\n\n108\n00:05:27.220 --> 00:05:28.420\nYou know what will do?\n\n109\n00:05:28.420 --> 00:05:30.080\nWe'll get smart about this.\n\n110\n00:05:30.080 --> 00:05:31.150\nWe won't use a name.\n\n111\n00:05:31.150 --> 00:05:34.900\nWe'll just use an I address/ So\nwe'll do Enter-PSSession,\n\n112\n00:05:34.900 --> 00:05:39.480\nand then 10.1.1., and what's his address?\n\n113\n00:05:39.480 --> 00:05:40.930\nLet's go check.\n\n114\n00:05:40.930 --> 00:05:45.540\nGo to networking,\nethernet, and it is 1.152.\n\n115\n00:05:45.540 --> 00:05:49.620\nWe statically mapped that during\nour creation in a previous episode.\n\n116\n00:05:49.620 --> 00:05:52.820\nSo 152 and hit enter, Aand more red text.\n\n117\n00:05:52.820 --> 00:05:55.180\nEven more than last time.\n\n118\n00:05:55.180 --> 00:05:56.130\nHow about that?\n\n119\n00:05:56.130 --> 00:05:58.880\nAll right, now the error that I'm going\nto be getting is we've got an issue with\n\n120\n00:05:58.880 --> 00:06:00.480\nauthentication.\n\n121\n00:06:00.480 --> 00:06:04.250\nFailed with the following error, the WinRM\nclient cannot process the request.\n\n122\n00:06:04.250 --> 00:06:06.550\nAuthentication may be used with an IP,\nyada yada.\n\n123\n00:06:06.550 --> 00:06:08.480\nIf you want to try,\nyou can read that whole message.\n\n124\n00:06:08.480 --> 00:06:10.290\nIt's basically saying hey look,\n\n125\n00:06:10.290 --> 00:06:12.990\nI can't connect to that using\nthis authentication method.\n\n126\n00:06:12.990 --> 00:06:14.310\nThis is not a trusted host.\n\n127\n00:06:14.310 --> 00:06:15.320\nI don't know who this is.\n\n128\n00:06:15.320 --> 00:06:16.670\nHe's not part of the domain.\n\n129\n00:06:16.670 --> 00:06:17.950\nHe's not trusted.\n\n130\n00:06:17.950 --> 00:06:20.420\nTherefore, I'm not gonna connect to him.\n\n131\n00:06:20.420 --> 00:06:23.800\nSo what we need to do is we need\nto tell our host machine or\n\n132\n00:06:23.800 --> 00:06:26.190\nwhichever one work using\npower cell to connect.\n\n133\n00:06:26.190 --> 00:06:30.810\nThat might be your Windows 10 box that you\nsit at everyday to do your administration.\n\n134\n00:06:30.810 --> 00:06:36.350\nYou need to add the Nano Server to the\nlist of trusted hosts, on the machine that\n\n135\n00:06:36.350 --> 00:06:41.510\nyou're using, or attempting to connect\nthe PM session with, at a from, okay.\n\n136\n00:06:41.510 --> 00:06:44.240\nAs we need to work with our trusted hosts.\n\n137\n00:06:44.240 --> 00:06:48.450\nThe other issue we're going to have here,\nis actually credentials.\n\n138\n00:06:48.450 --> 00:06:50.250\nRight.\nI'm long gone,\n\n139\n00:06:50.250 --> 00:06:53.620\nto my host machine, as Mike.\n\n140\n00:06:53.620 --> 00:06:55.080\nIf I do a who am I?\n\n141\n00:06:56.700 --> 00:06:59.340\nYou'll see that I'm lad/mike.\n\n142\n00:06:59.340 --> 00:07:02.120\nWhich means,\nI'm logged on with my domain account.\n\n143\n00:07:02.120 --> 00:07:04.990\nBut my domain account,\nhas no rights on that local machine.\n\n144\n00:07:04.990 --> 00:07:05.960\nThat worker machine.\n\n145\n00:07:05.960 --> 00:07:07.140\nIt has no idea.\n\n146\n00:07:07.140 --> 00:07:07.870\nRemember work group,\n\n147\n00:07:07.870 --> 00:07:12.480\nall security is handled locally by the\nlocal security authority on that machine.\n\n148\n00:07:12.480 --> 00:07:15.730\nIt has no idea who lab\\Mike is,\nit's not gonna let me log on.\n\n149\n00:07:15.730 --> 00:07:19.040\nSo even if this was in my trusted hosts,\nit actually wouldn't let me log on.\n\n150\n00:07:19.040 --> 00:07:22.830\nI kinda give away a piece of the puzzle\nthere that we're gonna be working for.\n\n151\n00:07:22.830 --> 00:07:27.490\nBut, let's fix the first part,\nlet's get it into our trusted hosts.\n\n152\n00:07:30.260 --> 00:07:33.190\nWhat I want to do is to\nwork with our trusted host,\n\n153\n00:07:33.190 --> 00:07:37.110\nwe're going to be using WSMAN and\nthe command is.\n\n154\n00:07:37.110 --> 00:07:38.430\nAnd let me just zoom in a little bit so\n\n155\n00:07:38.430 --> 00:07:40.930\nyou can see this guy\njust a little bit better.\n\n156\n00:07:40.930 --> 00:07:44.340\nThe command I want to use is going to be.\n\n157\n00:07:44.340 --> 00:07:47.620\nActually before I do that,\nlet's test something else.\n\n158\n00:07:47.620 --> 00:07:49.430\nI forgot.\nI was reading through my notes here.\n\n159\n00:07:49.430 --> 00:07:51.250\nIt's like,\nwhat do I want to show everybody?\n\n160\n00:07:51.250 --> 00:07:53.080\nI also want to show you the ping.\n\n161\n00:07:53.080 --> 00:07:57.810\nSo if I try to ping, nano01, I mean 02.\n\n162\n00:08:00.036 --> 00:08:04.058\nNow we're gonna get a failure as you\nprobably guess because we couldn't resolve\n\n163\n00:08:04.058 --> 00:08:08.098\nthe name To establish the PSSession,\ncan't resolve the name to ping it either.\n\n164\n00:08:08.098 --> 00:08:10.264\nBut I know I can ping by IP address.\n\n165\n00:08:10.264 --> 00:08:14.469\n10.1.1.152.\n\n166\n00:08:17.182 --> 00:08:19.358\nAnd that works?\n\n167\n00:08:19.358 --> 00:08:22.007\nAw, request timed out.\n\n168\n00:08:22.007 --> 00:08:25.102\nAll right, well,\nthat was actually expected, too,\n\n169\n00:08:25.102 --> 00:08:26.860\nbecause of my firewall rules.\n\n170\n00:08:26.860 --> 00:08:28.380\nSo let's switch back over to Nano.\n\n171\n00:08:29.500 --> 00:08:32.280\nJump back out a couple of menus, right?\n\n172\n00:08:32.280 --> 00:08:34.710\nUsing my Esc key on my keyboard.\n\n173\n00:08:34.710 --> 00:08:39.480\nGo down to Inbound Firewall Rules\nwith my up and down arrow, hit Enter.\n\n174\n00:08:39.480 --> 00:08:43.440\nAnd jump down to my Echo Request,\nhit enter.\n\n175\n00:08:44.820 --> 00:08:49.740\nF4 to enable,\nyou'll see enable switches to Yes.\n\n176\n00:08:49.740 --> 00:08:55.315\nAnd now if I hit Esc to get back out\nof there, go back to our PowerShell,\n\n177\n00:08:55.315 --> 00:08:57.385\nand ping it, we can ping just fine.\n\n178\n00:08:57.385 --> 00:09:00.335\nSo remember, if you've got to set up\nyour firewall rules to support whatever\n\n179\n00:09:00.335 --> 00:09:03.295\nit is you're doing, we've already\nenabled the Remote Management port\n\n180\n00:09:03.295 --> 00:09:05.335\nduring the creation of this machine.\n\n181\n00:09:05.335 --> 00:09:06.555\nI just wanted to show you that, so\n\n182\n00:09:06.555 --> 00:09:08.495\nyou can see how you work\nwith those firewall rules.\n\n183\n00:09:10.025 --> 00:09:13.875\nAll right, now we've tried pinging\nit by name, that didn't work.\n\n184\n00:09:13.875 --> 00:09:16.605\nWe tried pinging it by IP address,\nthat does work.\n\n185\n00:09:16.605 --> 00:09:18.745\nBut again,\nwe still won't be able to connect.\n\n186\n00:09:18.745 --> 00:09:23.990\nEven though I fixed that that's not gonna\nallow me to do my inter PSSession because\n\n187\n00:09:23.990 --> 00:09:28.550\nI still have the whole authentication\nissue to deal with, all right?\n\n188\n00:09:28.550 --> 00:09:30.870\nSo we're gonna work with our TrustedHosts.\n\n189\n00:09:30.870 --> 00:09:34.398\nNow to work with a TrustedHost is a few\ncommands we need to be familiar with.\n\n190\n00:09:34.398 --> 00:09:37.731\nGet-item and then\n\n191\n00:09:37.731 --> 00:09:46.690\nWSMan:\\ Localhost\\client\\trustedhosts and\n\n192\n00:09:46.690 --> 00:09:50.650\nI'm gonna hit Enter.\n\n193\n00:09:50.650 --> 00:09:55.291\nAnd I'll zoom back in so we see that\njust a little bit better, all right?\n\n194\n00:09:55.291 --> 00:09:58.485\nAnd what this is doing is it's\nshowing me a list of my TrustedHosts.\n\n195\n00:09:58.485 --> 00:10:02.000\nIf currently, there are none that's\nwhy I've got a blank list there.\n\n196\n00:10:02.000 --> 00:10:03.530\nSo I wanna add to that.\n\n197\n00:10:03.530 --> 00:10:08.698\nSo instead of using Get, which is\na read command, I'm just gonna use set.\n\n198\n00:10:08.698 --> 00:10:12.054\nSo I'm gonna cheat and use my up arrow and\n\n199\n00:10:12.054 --> 00:10:16.512\nchange that G to an S,\njump back to the end of the line.\n\n200\n00:10:16.512 --> 00:10:20.049\nAnd we're gonna do a set-item\n\n201\n00:10:20.049 --> 00:10:29.443\nWSMan:\\localhost\\client\\Trustedhosts\n-Value 10.1.1.152.\n\n202\n00:10:29.443 --> 00:10:34.210\nAnd let me put that in quotes actually\nbecause I want that to be a string.\n\n203\n00:10:35.400 --> 00:10:39.190\nAnd we'll hit Enter and\nthen Yes for the warning.\n\n204\n00:10:39.190 --> 00:10:40.180\nAnd it's telling me that hey,\n\n205\n00:10:40.180 --> 00:10:43.170\nyou've got to be careful adding\npeople to your TrustedHosts.\n\n206\n00:10:43.170 --> 00:10:45.390\nWe understand the risks.\n\n207\n00:10:45.390 --> 00:10:46.470\nAnd if I do another Get,\n\n208\n00:10:48.030 --> 00:10:53.690\nwe'll see now that that IP address is in\nmy list of TrustedHosts there, so we can.\n\n209\n00:10:53.690 --> 00:10:55.470\nWe're now a TrustedHost.\n\n210\n00:10:55.470 --> 00:10:59.380\nNow a couple things I wanna point out\nwith this command before we move on\n\n211\n00:10:59.380 --> 00:11:03.010\nbecause it can get a little bit\nconfusing or you can goof yourself up.\n\n212\n00:11:03.010 --> 00:11:04.650\nBecause what if I had\nmore than one machine?\n\n213\n00:11:04.650 --> 00:11:09.000\nLet's say we just rolled\nout ten Nano Servers and\n\n214\n00:11:09.000 --> 00:11:12.540\nwe wanna make a little web farm out of it,\nor whatever we plan on doing with them.\n\n215\n00:11:12.540 --> 00:11:15.190\nAnd I need to get all ten of\nthose into my TrustedHost.\n\n216\n00:11:15.190 --> 00:11:16.380\nSo I'm gonna add the next one.\n\n217\n00:11:16.380 --> 00:11:19.240\nI'm just gonna modify my command here and\n\n218\n00:11:19.240 --> 00:11:24.900\nchange that to 153 to add the next\nNano Server if we had one, all right?\n\n219\n00:11:24.900 --> 00:11:25.820\nAnd Yes to enter.\n\n220\n00:11:27.010 --> 00:11:28.870\nLooks like it worked just fine.\n\n221\n00:11:28.870 --> 00:11:33.330\nIf I do get another Get,\nlook what happened.\n\n222\n00:11:33.330 --> 00:11:36.130\nThe only thing in my list\nis the last one I added.\n\n223\n00:11:36.130 --> 00:11:39.040\nSo when you do that set-item and\n\n224\n00:11:39.040 --> 00:11:42.730\nthen your WS, what it's doing is\nit's taking whatever you put and\n\n225\n00:11:42.730 --> 00:11:46.480\nit's wiping out the old list and replacing\nit with what you've typed in there.\n\n226\n00:11:46.480 --> 00:11:48.840\nSo it's not an add, it's not cumulative.\n\n227\n00:11:48.840 --> 00:11:52.880\nYou're re-doing the list and that's\nsomething you've got to keep in mind if\n\n228\n00:11:52.880 --> 00:11:56.210\nyou had to do this on the exam or\nhad to do it in the real world.\n\n229\n00:11:56.210 --> 00:11:59.120\nMaybe you do maybe you don't wanna\nwipe out what's currently in there,\n\n230\n00:11:59.120 --> 00:12:02.690\nbut you've got to understand that\nit does if you just do it this way.\n\n231\n00:12:02.690 --> 00:12:04.650\nSo how do we go about doing it?\n\n232\n00:12:04.650 --> 00:12:08.690\nHow do we add to it rather\nthan replace what's in there?\n\n233\n00:12:08.690 --> 00:12:11.870\nWe're simply going to,\nwe could do it manually, right?\n\n234\n00:12:11.870 --> 00:12:13.679\nI could do something like this.\n\n235\n00:12:13.679 --> 00:12:18.165\nI could use a comma-separated value list,\nso 151,\n\n236\n00:12:18.165 --> 00:12:24.758\n10.1.1.153 and that would accomplish\nwhat I'm trying to do, right?\n\n237\n00:12:24.758 --> 00:12:26.740\nIt would add both of them in there.\n\n238\n00:12:26.740 --> 00:12:28.880\nBut what if you had 5, 10 in there?\n\n239\n00:12:28.880 --> 00:12:33.330\nYou weren't sure what was in there and\nyou didn't wanna have to type it all out.\n\n240\n00:12:33.330 --> 00:12:35.250\nHow would you handle that?\n\n241\n00:12:35.250 --> 00:12:38.580\nWhat you do as you go and\nyou get the current list and\n\n242\n00:12:38.580 --> 00:12:42.720\nyou stored in a variable,\nthen you run the set command.\n\n243\n00:12:42.720 --> 00:12:46.860\nAnd one of the items in here\ncomma-delimited list is that variable.\n\n244\n00:12:46.860 --> 00:12:49.250\nSo basically, you're saying okay,\ngo ahead and wipe everything out, but,\n\n245\n00:12:49.250 --> 00:12:52.550\nbefore you do, grab the values that\nare in there, store it in a variable.\n\n246\n00:12:52.550 --> 00:12:56.640\nAnd then as I put everything back,\nput all these back and plus this one.\n\n247\n00:12:56.640 --> 00:12:57.680\nSee what I'm saying, all right?\n\n248\n00:12:58.700 --> 00:13:03.360\nSo let's try that,\nIf we do a let's just do a $curr.\n\n249\n00:13:03.360 --> 00:13:04.270\nYou can use anything for\n\n250\n00:13:04.270 --> 00:13:08.160\nyour variable name, $ something\nthat wasn't already being used.\n\n251\n00:13:08.160 --> 00:13:10.870\nAnd then in parentheses,\nwe're gonna do and you know what?\n\n252\n00:13:10.870 --> 00:13:15.850\nI'm gonna cheat again because I know\neverybody loves watching me type.\n\n253\n00:13:15.850 --> 00:13:19.660\nSo I'm just gonna grab this and\n\n254\n00:13:19.660 --> 00:13:24.641\nI'm gonna paste it down here and I'm gonna\nclose my parenthesis .value, all right?\n\n255\n00:13:26.030 --> 00:13:29.910\nSo the variable curr is gonna equal\n\n256\n00:13:29.910 --> 00:13:33.570\nthe value of this Get item\nis basically what I'm doing.\n\n257\n00:13:33.570 --> 00:13:34.860\nSo I hit Enter.\n\n258\n00:13:34.860 --> 00:13:41.390\nAnd if I just do a $curr right now,\nI'll see it's 153, all right?\n\n259\n00:13:41.390 --> 00:13:45.212\nSo now if I wanna add\nthat 152 to the list but\n\n260\n00:13:45.212 --> 00:13:49.546\nleave 153,\nall I have to do is another set item.\n\n261\n00:13:49.546 --> 00:13:54.792\nBut for my list, I'm gonna say do whatever\n\n262\n00:13:54.792 --> 00:13:59.177\nis in there currently, so $curr.\n\n263\n00:13:59.177 --> 00:14:00.624\nOops, if I can spell.\n\n264\n00:14:00.624 --> 00:14:08.728\nComma and add 10.1.1.152 and\nclose my quotes.\n\n265\n00:14:08.728 --> 00:14:12.779\nSo you see it's just a comma-separated\nlist and am using a variable for\n\n266\n00:14:12.779 --> 00:14:13.938\none of the entries.\n\n267\n00:14:13.938 --> 00:14:17.190\nI hit Enter, I say Yes.\n\n268\n00:14:17.190 --> 00:14:24.870\nAnd now if I do another Get, we'll see\nboth addresses listed in there, all right?\n\n269\n00:14:24.870 --> 00:14:27.650\nSo just something to be aware of when\nyou're working with those TrustedHosts\n\n270\n00:14:27.650 --> 00:14:28.585\nin that list.\n\n271\n00:14:28.585 --> 00:14:30.230\nIt'll wipe out whatever is in there and\n\n272\n00:14:30.230 --> 00:14:32.160\nreplace it with whatever\nyou're trying to add.\n\n273\n00:14:32.160 --> 00:14:35.280\nSo if you wanna leave what's in there,\nyou're gonna have to go grab that value\n\n274\n00:14:35.280 --> 00:14:40.380\nfirst, and then make sure you include\nthat in your new list all right?\n\n275\n00:14:40.380 --> 00:14:43.010\nMicrosoft will recommend that you\ndon't leave anybody in the list.\n\n276\n00:14:43.010 --> 00:14:45.170\nWes and\nI were talking about that before the show.\n\n277\n00:14:45.170 --> 00:14:50.590\nWhat kind of security risk do you face if\nyou leave people in your TrustedHost list?\n\n278\n00:14:50.590 --> 00:14:53.459\nI don't see a big risk there\nbecause you're really,\n\n279\n00:14:53.459 --> 00:14:55.380\nyou're saying they're trusted.\n\n280\n00:14:55.380 --> 00:14:58.080\nYou're not telling them to trust you.\n\n281\n00:14:58.080 --> 00:14:59.631\nSo I don't know that they would\nbe able to connect to you.\n\n282\n00:14:59.631 --> 00:15:02.200\nBut again,\nit's something I haven't tested and\n\n283\n00:15:02.200 --> 00:15:05.273\nsomething that it's easy enough\njust to wipe the list out.\n\n284\n00:15:05.273 --> 00:15:09.084\nAnd the other thing I wanna point out\nis if your list is currently blank,\n\n285\n00:15:09.084 --> 00:15:11.625\nin other words,\nthere's nobody in the list and\n\n286\n00:15:11.625 --> 00:15:15.240\nyou try to do this method\nhere that I just showed you.\n\n287\n00:15:15.240 --> 00:15:18.930\nThe problem is it's gonna see this as a\nnull value because there's nobody in your\n\n288\n00:15:18.930 --> 00:15:20.930\nlist and it'll fail.\n\n289\n00:15:20.930 --> 00:15:24.870\nSo if there's nobody in your list,\nthen you're just gonna have to add\n\n290\n00:15:24.870 --> 00:15:29.000\nthem in that comma-separated value list.\n\n291\n00:15:29.000 --> 00:15:30.420\nAll right, but let's see what happens now.\n\n292\n00:15:30.420 --> 00:15:35.802\nNow we've got 152 that's the IP\naddress of Mr. Nano, Nano 2.\n\n293\n00:15:35.802 --> 00:15:37.960\nLet's see if we can now connect to it.\n\n294\n00:15:37.960 --> 00:15:41.100\nSo we'll do a whole,\nwe'll scroll back up here.\n\n295\n00:15:41.100 --> 00:15:45.742\nFind my inner PSSession IP address,\nit's in the TrustedHosts.\n\n296\n00:15:45.742 --> 00:15:47.790\nGreat there.\n\n297\n00:15:47.790 --> 00:15:50.328\nNo, no, I think the errors keep\ngetting bigger, Wes, I'm not sure.\n\n298\n00:15:50.328 --> 00:15:55.845\n&gt;&gt; [LAUGH] All right, again remember just\nbecause it's in the TrustedHosts list,\n\n299\n00:15:55.845 --> 00:15:59.317\nthat's gonna allow my\ncomputer to connect to it.\n\n300\n00:15:59.317 --> 00:16:02.999\nAnd say it's okay to connect to it but\nit doesn't take care of my authentication.\n\n301\n00:16:02.999 --> 00:16:07.870\nI'm still logged on as Mike who has\nno rights on that work group server.\n\n302\n00:16:07.870 --> 00:16:10.180\nSo we're gonna do things\na little bit differently here.\n\n303\n00:16:10.180 --> 00:16:14.050\nWe're gonna change this up\njust a wee bit and Mike just-\n\n304\n00:16:14.050 --> 00:16:15.290\n&gt;&gt; I'm gonna jump in here real quick.\n\n305\n00:16:15.290 --> 00:16:19.040\nIs that because the other computer that\nyou're trying to connect to Isn't a part\n\n306\n00:16:19.040 --> 00:16:23.730\nof the domain, so that cumbrous\npass through's not happening here.\n\n307\n00:16:23.730 --> 00:16:24.550\n&gt;&gt; Exactly right.\n\n308\n00:16:24.550 --> 00:16:29.030\nIt's saying who are you that's trying\nto remote into me and connect to me?\n\n309\n00:16:29.030 --> 00:16:32.220\nLab slash Mike,\nI have no idea who that is.\n\n310\n00:16:32.220 --> 00:16:35.480\nThe only people I know\nare nano 0 2 administrator.\n\n311\n00:16:35.480 --> 00:16:37.020\nYou know,\nthe built in administrator account or\n\n312\n00:16:37.020 --> 00:16:39.520\nany other local accounts that might exist.\n\n313\n00:16:39.520 --> 00:16:41.040\nSo I just need to provide my credentials.\n\n314\n00:16:41.040 --> 00:16:45.480\nBasically to establish the connection,\nor let's re-phrase that.\n\n315\n00:16:45.480 --> 00:16:47.650\nNow my credentials that I'm\ncurrently logged on with,\n\n316\n00:16:47.650 --> 00:16:52.200\nI need to provide valid credentials that\nhave rights To log on to Nano 2, right?\n\n317\n00:16:53.280 --> 00:16:54.610\nWhich nobody in the domain does.\n\n318\n00:16:54.610 --> 00:16:58.640\nIt's a worker computer.\n\n319\n00:16:58.640 --> 00:17:01.080\nSo we're gonna do this.\n\n320\n00:17:01.080 --> 00:17:06.864\nWe're gonna store that IP address.\n\n321\n00:17:06.864 --> 00:17:12.430\nI'm gonna do $ip = 10.1.1.152 So\nI'm just storing that in that variable,\n\n322\n00:17:12.430 --> 00:17:17.450\nand then I'm gonna do my inner\ndash PS session command again but\n\n323\n00:17:17.450 --> 00:17:18.468\nI'm gonna do it this way.\n\n324\n00:17:18.468 --> 00:17:21.734\n-computername$IP.\n\n325\n00:17:21.734 --> 00:17:26.753\nSo that's gonna come back out as\na string for the computer name and\n\n326\n00:17:26.753 --> 00:17:32.153\nthen -credentials Is going to be\n\n327\n00:17:32.153 --> 00:17:37.535\n$ip\\administrator.\n\n328\n00:17:37.535 --> 00:17:39.830\nNow, I didn't have to basically,\n\n329\n00:17:39.830 --> 00:17:43.780\nI could have just typed the ip\naddress in there and put it in quotes.\n\n330\n00:17:43.780 --> 00:17:48.000\nStoring the unit of variable is just\neasier because I do have to use it twice.\n\n331\n00:17:48.000 --> 00:17:49.730\nThat's all that's for.\n\n332\n00:17:49.730 --> 00:17:52.980\nAll right?\nSo we'll go ahead and hit Enter.\n\n333\n00:17:52.980 --> 00:17:53.870\nAnd I got an error.\n\n334\n00:17:53.870 --> 00:17:55.200\nComputer name cannot be.\n\n335\n00:17:56.570 --> 00:17:59.480\nSilly me.\nI did not store that as a string,\n\n336\n00:18:00.790 --> 00:18:02.250\nwhich is going to cause a problem.\n\n337\n00:18:02.250 --> 00:18:04.100\nSo let me go back to my variable.\n\n338\n00:18:04.100 --> 00:18:08.970\nAnd reassign that value as a string and\nthen we'll try my command again.\n\n339\n00:18:11.250 --> 00:18:14.930\nNow it prompts me for a password,\nwe know we're on the right track,\n\n340\n00:18:14.930 --> 00:18:21.820\nI type in my password, and\nthen we wait, and then there we go.\n\n341\n00:18:21.820 --> 00:18:23.890\nI'll scroll up,\nget rid of some of that red text.\n\n342\n00:18:23.890 --> 00:18:26.550\nBut there is,\nget my mouse to work again, and\n\n343\n00:18:26.550 --> 00:18:30.260\nyou can see I've got my remote\nPowerShell session going to Nano2.\n\n344\n00:18:30.260 --> 00:18:32.950\nSo there was quite a few, not a lot, but\n\n345\n00:18:32.950 --> 00:18:35.600\nthere were a few steps\ninvolved to get that set up.\n\n346\n00:18:35.600 --> 00:18:38.450\nRemember the main thing was we\nhad to add it to our trusted\n\n347\n00:18:38.450 --> 00:18:41.240\nhost on the machine we're connecting from,\nand\n\n348\n00:18:41.240 --> 00:18:45.750\nwe have to use the right credentials\nas we're establishing That PS session.\n\n349\n00:18:47.250 --> 00:18:50.680\nAll right, so\nwe've got our connection established so\n\n350\n00:18:50.680 --> 00:18:53.710\nat this point we can now attempt to join.\n\n351\n00:18:53.710 --> 00:18:57.300\nRemember all we're trying to do,\nwe want to make this part of our domain.\n\n352\n00:18:57.300 --> 00:18:58.380\nThis has just been set up.\n\n353\n00:18:58.380 --> 00:19:03.010\nJust get me connected to the machine so\nI can remotely administer it.\n\n354\n00:19:03.010 --> 00:19:06.950\nNow we can actually do the job\nof joining it to the domain.\n\n355\n00:19:06.950 --> 00:19:11.220\nAnd as I said, we're gonna use DJOIN\nwhich is my offline domain join.\n\n356\n00:19:11.220 --> 00:19:12.940\nThat means I need to harvest a blob,\n\n357\n00:19:12.940 --> 00:19:16.360\na binary large object,\nfrom an existing domain member.\n\n358\n00:19:16.360 --> 00:19:21.040\nBasically, I'm gonna provision an account\nin Active Directory for nano 2.\n\n359\n00:19:21.040 --> 00:19:21.540\nAll right?\n\n360\n00:19:22.580 --> 00:19:25.430\nSo I'm gonna open up\nanother PowerShell window.\n\n361\n00:19:25.430 --> 00:19:28.140\nThis one Is.\n\n362\n00:19:28.140 --> 00:19:30.070\nWe'll just clear that screen there.\n\n363\n00:19:30.070 --> 00:19:35.970\nSo this power show window is local to my\nhost, the one I'm currently logged on to.\n\n364\n00:19:35.970 --> 00:19:40.950\nThis power show window is the one that has\nthe remote session over the nanoserver.\n\n365\n00:19:42.000 --> 00:19:44.090\nSo from my host,\nthe one I am logged on to.\n\n366\n00:19:44.090 --> 00:19:46.120\nThe one I want to reach out and\nconnect a nano with,\n\n367\n00:19:46.120 --> 00:19:52.570\nI am going to run my djoin command and\nprovision the computer account.\n\n368\n00:19:52.570 --> 00:19:58.710\nIf we look at active directory real quick,\nwe should see\n\n369\n00:20:00.430 --> 00:20:03.950\nthat in computers there is no count for\nnano2.\n\n370\n00:20:05.240 --> 00:20:09.170\nAll right.\n\n371\n00:20:09.170 --> 00:20:12.573\nSo nano two is not there.\n\n372\n00:20:12.573 --> 00:20:17.723\nWe're gonna do a djoin/provision/domain\n\n373\n00:20:17.723 --> 00:20:23.350\nlab.itpro.tv/machine and then the name of\n\n374\n00:20:23.350 --> 00:20:27.870\nthe machine you're trying to\nprovision the account for.\n\n375\n00:20:27.870 --> 00:20:32.050\nAll right.\nAnd then / Save file and where am I at?\n\n376\n00:20:32.050 --> 00:20:35.250\nI'm in nano, where do I want to put this?\n\n377\n00:20:35.250 --> 00:20:40.643\nI want to put it somewhere easy to find,\nI'll leave it there in nano, that's fine.\n\n378\n00:20:40.643 --> 00:20:44.380\nWell do ./ DJ block.\n\n379\n00:20:44.380 --> 00:20:46.740\nYou can call this anything you want.\n\n380\n00:20:46.740 --> 00:20:47.720\nDoesn't matter.\n\n381\n00:20:47.720 --> 00:20:51.820\nYou can use a .txt extension or\nnot, it doesn't matter.\n\n382\n00:20:51.820 --> 00:20:54.220\nMachine language, you're not gonna\nbe opening up and reading it.\n\n383\n00:20:54.220 --> 00:20:57.520\nIt's just something that we use for\nthe domain join process.\n\n384\n00:20:57.520 --> 00:20:58.699\nSo I'll go ahead and save that.\n\n385\n00:21:00.200 --> 00:21:03.090\nIt says provisioning\ncompleted successfully.\n\n386\n00:21:03.090 --> 00:21:05.380\nIf I go back over to\nthe domain controller and\n\n387\n00:21:05.380 --> 00:21:09.300\nrefresh my computer's OU\nthere's my account for Nano 02.\n\n388\n00:21:09.300 --> 00:21:12.360\nSo the first half of the offline\ndomain join is done.\n\n389\n00:21:12.360 --> 00:21:16.020\nI've generated the blob file,\nthe binary large object.\n\n390\n00:21:16.020 --> 00:21:19.700\nAnd we've got an account for\nthat machine in Active Directory.\n\n391\n00:21:19.700 --> 00:21:24.910\nSo the second part is going to be running\nthe other half of the Djoin command\n\n392\n00:21:24.910 --> 00:21:25.480\non nano2.\n\n393\n00:21:25.480 --> 00:21:30.020\nBut there are a couple things we're\ngonna have to do to set this up.\n\n394\n00:21:30.020 --> 00:21:32.710\nI need to get the file that got created.\n\n395\n00:21:32.710 --> 00:21:33.520\nAnd let's go look at it.\n\n396\n00:21:33.520 --> 00:21:37.305\nAnd if we look in, where did I put that?\n\n397\n00:21:37.305 --> 00:21:40.930\nV:nano There's my odjblob.\n\n398\n00:21:40.930 --> 00:21:43.230\nLet's take a look at it in Notepad,\njust for giggles.\n\n399\n00:21:44.540 --> 00:21:45.480\nFascinating?\n\n400\n00:21:46.640 --> 00:21:51.020\nIf you can see that, it's yeah,\nnothing that I'm going to read.\n\n401\n00:21:51.020 --> 00:21:52.920\nBut there's the file, that's what we need.\n\n402\n00:21:52.920 --> 00:21:55.190\nBut I need to get that\nover to Nano All right.\n\n403\n00:21:55.190 --> 00:21:57.500\n&gt;&gt; And one of the things I was gonna say\nis that's gonna be a little difficult,\n\n404\n00:21:57.500 --> 00:22:01.930\ncuz one of the things I do know\nabout non-domain computers, right?\n\n405\n00:22:01.930 --> 00:22:06.490\nIs they have this little service and\nit's completely disabled.\n\n406\n00:22:06.490 --> 00:22:10.520\nThe file printer sharing service,\nI believe is what it is.\n\n407\n00:22:10.520 --> 00:22:12.440\nAnd it's disabled, so\nhow are we gonna do that?\n\n408\n00:22:12.440 --> 00:22:13.210\n&gt;&gt; We're gonna enable it.\n\n409\n00:22:13.210 --> 00:22:16.500\nThat's a great question and it's exactly\nwhat we've got to deal with, right.\n\n410\n00:22:16.500 --> 00:22:20.050\nI've gotta somehow get that file over\nthere, so we're just gonna turn on file\n\n411\n00:22:20.050 --> 00:22:25.360\nand printer sharing by using our firewall\nrules and then we can do our provisioning.\n\n412\n00:22:25.360 --> 00:22:27.530\nSo on our session here for nano2.\n\n413\n00:22:27.530 --> 00:22:30.890\nLet's go back over to PowerShell.\n\n414\n00:22:30.890 --> 00:22:36.251\nOr to do a net SX advance firewall,\n\n415\n00:22:36.251 --> 00:22:42.330\nfirewall set rule group and\n\n416\n00:22:42.330 --> 00:22:46.470\nit's called I've got to look to remember\nthe name of that, equals quote file and\n\n417\n00:22:46.470 --> 00:22:54.370\nprinter sharing, should be easy to\nremember right, file and printer sharing.\n\n418\n00:22:54.370 --> 00:23:01.253\nEnd my quote for that name, and\nthen we're gonna put a little new and\n\n419\n00:23:01.253 --> 00:23:05.440\nenable equals yes.\n\n420\n00:23:05.440 --> 00:23:06.040\nAnd we'll hit enter.\n\n421\n00:23:07.130 --> 00:23:08.880\nUpdated 16 rules.\n\n422\n00:23:08.880 --> 00:23:12.890\nSo, that turned on those firewall\nrules over there on my Nano.\n\n423\n00:23:12.890 --> 00:23:15.420\nNow could I have gone to\nthe recovery console in Nano and\n\n424\n00:23:15.420 --> 00:23:19.360\njust turned on the firewall rules there?\n\n425\n00:23:19.360 --> 00:23:20.230\nAbsolutely.\n\n426\n00:23:20.230 --> 00:23:24.890\nNo reason we couldn't do that, but since\nI already got a PS session opened up,\n\n427\n00:23:24.890 --> 00:23:26.740\neasy enough to fire off that command and\n\n428\n00:23:26.740 --> 00:23:32.520\nenable all 16 rules as a group rather than\ngo one at a time trying to figure out.\n\n429\n00:23:32.520 --> 00:23:36.190\nBut then the converse of that is I\ndidn't need all 16 of those rules\n\n430\n00:23:36.190 --> 00:23:39.520\nsome of those are not necessary for\nwhat we are getting ready to do.\n\n431\n00:23:39.520 --> 00:23:42.000\nSo I really opened up holes\nthat maybe aren't necessary.\n\n432\n00:23:42.000 --> 00:23:44.950\nSo, you know take your peak there.\n\n433\n00:23:44.950 --> 00:23:49.449\nAll right so we got our firewall rules set\nup am also gonna make a little directory\n\n434\n00:23:49.449 --> 00:23:51.681\nover there on nanos, am gonna do an MD.\n\n435\n00:23:51.681 --> 00:23:57.810\nAnd let's do, actually you know what,\nbefore we do that,\n\n436\n00:23:57.810 --> 00:24:04.934\nlet's map our drive cuz I can't\nmake a directory until it's there.\n\n437\n00:24:04.934 --> 00:24:06.311\nSo did I completely leave that out?\n\n438\n00:24:06.311 --> 00:24:09.309\nI did, but that's okay,\nwe don't need notes.\n\n439\n00:24:09.309 --> 00:24:11.450\nSo, what we're going to do is we're\ngoing to map a network drive.\n\n440\n00:24:11.450 --> 00:24:12.000\nNow, that file and\n\n441\n00:24:12.000 --> 00:24:15.860\nprinting sharing is opened up,\nI'm going to do a net use command.\n\n442\n00:24:15.860 --> 00:24:17.580\nI'll call it x: whatever I want.\n\n443\n00:24:17.580 --> 00:24:18.520\nAnd let me zoom in, sorry.\n\n444\n00:24:19.930 --> 00:24:22.990\nWhatever I want to call it,\n\n445\n00:24:22.990 --> 00:24:29.252\n\\\\10.1.1.152\\c$ and I'll hit enter.\n\n446\n00:24:29.252 --> 00:24:32.670\nIt wants to know my username and password.\n\n447\n00:24:32.670 --> 00:24:37.570\nRemember, this is the PowerShell on\nthe local machine, not the remote session.\n\n448\n00:24:37.570 --> 00:24:39.320\nSo I gotta tell it, I'm administrator.\n\n449\n00:24:42.020 --> 00:24:43.420\nAnd here's my password.\n\n450\n00:24:44.940 --> 00:24:46.920\nAnd I get the command\ncompleted successfully.\n\n451\n00:24:46.920 --> 00:24:51.190\nSo at this point,\nif I do a cd x: and a dir,\n\n452\n00:24:51.190 --> 00:24:57.423\nthat's the Windows driver,\nthe C drive over there on nano.\n\n453\n00:24:57.423 --> 00:25:01.440\nAnd I'm gonna make a directory\nmd let's just call it Temp.\n\n454\n00:25:03.510 --> 00:25:08.120\nAnd so now I've got a folder called temp\non the c drive on the nano, all right.\n\n455\n00:25:08.120 --> 00:25:12.048\nThen, I'm gonna copy\n\n456\n00:25:12.048 --> 00:25:18.665\nv:\\Nano\\odjblob to x:\\temp and\n\n457\n00:25:18.665 --> 00:25:22.799\nif I change into temp and\n\n458\n00:25:22.799 --> 00:25:27.770\ndo a dir, there's my file.\n\n459\n00:25:27.770 --> 00:25:32.399\nSo, a lot of little steps there to get\nthat file copied over to the Nano Server,\n\n460\n00:25:32.399 --> 00:25:32.900\nright?\n\n461\n00:25:32.900 --> 00:25:37.130\nWe generated that file\nusing DJoin on server one,\n\n462\n00:25:37.130 --> 00:25:42.600\na member server, then we take that\nfile and we somehow get it to Nano.\n\n463\n00:25:42.600 --> 00:25:46.639\nDoing it this way, we just mapped\na network drive and copied it over there.\n\n464\n00:25:47.910 --> 00:25:54.150\nNow, I can go to Nano, right,\nmy remote PowerShell session, and\n\n465\n00:25:54.150 --> 00:26:00.370\nI can run the rest of my djoin command,\nthe other half, the part that finishes it.\n\n466\n00:26:00.370 --> 00:26:03.700\nWe do djoin, if I can type there, djoin\n\n467\n00:26:04.860 --> 00:26:10.440\nrequestodj, request offline domain join,\nand I do need a slash in front of that.\n\n468\n00:26:10.440 --> 00:26:12.769\nIt will make the command\nwork a little better.\n\n469\n00:26:12.769 --> 00:26:21.630\nSo, djoin requestodj /loadfile.\n\n470\n00:26:21.630 --> 00:26:28.116\nAnd where is that file C:\\temp\\,\nand then the name of the file.\n\n471\n00:26:33.629 --> 00:26:34.270\nThere it is, whoops.\n\n472\n00:26:34.270 --> 00:26:41.109\n&gt;&gt; All right, C:\\temp\\odjblob/windowspath,\n\n473\n00:26:41.109 --> 00:26:49.223\nI have to tell it where Windows\nis installed on that machine.\n\n474\n00:26:49.223 --> 00:26:56.050\nC:\\windows, it's the default,\nand then /localos.\n\n475\n00:26:56.050 --> 00:26:59.920\nJust means that I'm doing this offline\nto main join, on the locally installed\n\n476\n00:26:59.920 --> 00:27:05.120\noperating system, on this machine, not a\nVHD that might be located on that machine.\n\n477\n00:27:05.120 --> 00:27:10.390\nBecause we can also join a virtual hard\ndrive to the domain without booting,\n\n478\n00:27:10.390 --> 00:27:12.570\nwithout doing the extra reboot.\n\n479\n00:27:12.570 --> 00:27:15.990\nBut local OS says hey,\ndo it on the running operating system,\n\n480\n00:27:15.990 --> 00:27:18.330\nthe currently installed operating system.\n\n481\n00:27:18.330 --> 00:27:22.590\nSo, it's gonna reach out and find that\n\n482\n00:27:22.590 --> 00:27:27.670\ndjoin object blob that we just copied\nover, follow the instructions in there.\n\n483\n00:27:27.670 --> 00:27:30.460\nWe've already created the account and\nactive directory, so\n\n484\n00:27:30.460 --> 00:27:33.580\nit should be able to reach out and\ntalk to Active Directory,\n\n485\n00:27:33.580 --> 00:27:35.740\nand say hey look,\nthere's already an account with your name.\n\n486\n00:27:35.740 --> 00:27:36.530\nIs this you?\n\n487\n00:27:36.530 --> 00:27:37.610\nYep, that's me.\n\n488\n00:27:37.610 --> 00:27:41.280\nGreat, let's finish this process up,\nand now you're part of the domain.\n\n489\n00:27:41.280 --> 00:27:42.810\nThat's the idea here.\n\n490\n00:27:42.810 --> 00:27:43.842\nSo we'll go ahead and hit Enter.\n\n491\n00:27:45.390 --> 00:27:48.085\nAnd it tells me that it\ncompleted successfully,\n\n492\n00:27:48.085 --> 00:27:50.580\nthat I have to reboot the machine.\n\n493\n00:27:50.580 --> 00:27:54.260\nNow, I will tell you the one thing I\ndidn't do that I should have done,\n\n494\n00:27:54.260 --> 00:27:57.060\nwas I should have checked\nmy name resolution\n\n495\n00:27:57.060 --> 00:28:00.720\nto make sure that I can connect\nto the domain controller.\n\n496\n00:28:00.720 --> 00:28:03.800\nBecause this is a work group machine and\nwe've been messing around with settings,\n\n497\n00:28:03.800 --> 00:28:05.200\nand we've just set it up.\n\n498\n00:28:05.200 --> 00:28:08.093\nWhat if he is DNS server\nisn't set correctly?\n\n499\n00:28:08.093 --> 00:28:10.700\nAnd he can't resolve the name\nof the domain controller.\n\n500\n00:28:10.700 --> 00:28:13.840\nHe wouldn't be able to finish\nthe process and join the domain.\n\n501\n00:28:13.840 --> 00:28:17.800\nYou'd get an error, and you'd have to do\nthis again, and then you can run into some\n\n502\n00:28:17.800 --> 00:28:20.790\nissues because the account already\nexists and it's been tried once.\n\n503\n00:28:20.790 --> 00:28:24.710\nYou have to do a reuse computer\nname command, it becomes a pain.\n\n504\n00:28:24.710 --> 00:28:26.915\nI knew it was going to work,\nbut in the real world,\n\n505\n00:28:26.915 --> 00:28:28.760\nyou really should test that first.\n\n506\n00:28:28.760 --> 00:28:32.390\nAnd then the problem becomes,\nwell how do I test it?\n\n507\n00:28:32.390 --> 00:28:36.290\nWes, you're an A+, Net+,\nWindows, you know it all, so\n\n508\n00:28:36.290 --> 00:28:39.520\nhow do you normally check to\nsee if you can resolve a name?\n\n509\n00:28:39.520 --> 00:28:42.990\n&gt;&gt; Well usually I'll just use nslookup\nif it's a fully qualified name,\n\n510\n00:28:42.990 --> 00:28:47.500\nlike you did earlier when you tried to\nping Nano by its name, see if resolves.\n\n511\n00:28:47.500 --> 00:28:50.450\nCuz it doesn't always rely on DNS,\nif you're on the same network.\n\n512\n00:28:50.450 --> 00:28:53.230\nBut in this case,\nyou might wanna be relying on DNS.\n\n513\n00:28:53.230 --> 00:28:57.050\n&gt;&gt; Yeah and the problem is,\ncuz those are both great suggestions, but\n\n514\n00:28:57.050 --> 00:29:00.343\nthe problem is nslookup is\nnot available on data, right.\n\n515\n00:29:00.343 --> 00:29:03.766\nSo it's, sorry, you can't use that one.\n\n516\n00:29:03.766 --> 00:29:05.330\nThank you Microsoft.\n\n517\n00:29:05.330 --> 00:29:08.970\nNever fear, there is a PowerShell command\nthat let's we do the same thing as then as\n\n518\n00:29:08.970 --> 00:29:13.480\nlook up, right, nslookup utility that\nI can use a test name resolution.\n\n519\n00:29:13.480 --> 00:29:16.491\nIn PowerShell, we have resolve-dnsname.\n\n520\n00:29:16.491 --> 00:29:21.694\nResolve-dnsname and\nI'll just hit Enter just to show you,\n\n521\n00:29:21.694 --> 00:29:26.500\nbecause I know the rest\nof it's not gonna work.\n\n522\n00:29:26.500 --> 00:29:29.730\nIt is not the name of a recognized cmdlet.\n\n523\n00:29:29.730 --> 00:29:33.440\nNow, I'm hoping that changes because\neverything you read on Microsoft's site\n\n524\n00:29:33.440 --> 00:29:37.880\nsays to use resolve-dnsname to\ntest your name resolution and\n\n525\n00:29:37.880 --> 00:29:40.670\nmake sure that you can resolve\nthe name of the domain controller.\n\n526\n00:29:40.670 --> 00:29:44.690\nYet, it says right here that it's\nnot recognized as the name of\n\n527\n00:29:44.690 --> 00:29:46.520\na commandlet, all right.\n\n528\n00:29:46.520 --> 00:29:48.500\nSo, I don't know what\nhappened there Microsoft.\n\n529\n00:29:48.500 --> 00:29:50.872\nSomething slipped through\nthe cracks there,\n\n530\n00:29:50.872 --> 00:29:55.310\nhopefully resolve-dnsname will be part\nof it before it becomes finalized.\n\n531\n00:29:55.310 --> 00:29:57.110\nSo how would you test it?\n\n532\n00:29:57.110 --> 00:29:58.900\nYou do just like Wes said.\n\n533\n00:29:58.900 --> 00:30:06.540\nYou go old school, ping dc01 and it\nresulted with IPv6 which is a good start.\n\n534\n00:30:06.540 --> 00:30:10.263\nIf I want to force that to do 4-4,\nand I can see,\n\n535\n00:30:10.263 --> 00:30:13.836\nlook there it resolved it to and\nIPv4 address.\n\n536\n00:30:13.836 --> 00:30:14.780\nAll right?\n\n537\n00:30:14.780 --> 00:30:20.090\nSo, just use ping, is the best way at\nthis point to test your name resolution\n\n538\n00:30:20.090 --> 00:30:23.440\nbefore you run the rest of\nthat command and do the DJOIN.\n\n539\n00:30:23.440 --> 00:30:28.620\nAll right, so we've got this guy run, we\nran the command but remember what it said.\n\n540\n00:30:30.000 --> 00:30:32.306\nA reboot is required for\nchanges to be applied,\n\n541\n00:30:32.306 --> 00:30:35.261\njust like if you're joining\na normal machine to the domain.\n\n542\n00:30:35.261 --> 00:30:38.260\nYou have to restart it for\nthe changes to take effect.\n\n543\n00:30:38.260 --> 00:30:42.262\nI will tell you the caveat, I might have\nmentioned this in the other episode,\n\n544\n00:30:42.262 --> 00:30:44.182\nI know we talked about it off screen.\n\n545\n00:30:44.182 --> 00:30:47.665\nDo be careful if you restart the machine,\nbut your PowerShell session is still\n\n546\n00:30:47.665 --> 00:30:50.500\nconnected, it can hang on you and\nit's just frustrating.\n\n547\n00:30:50.500 --> 00:30:54.210\n&gt;&gt; Yeah, you did mention that in the first\nepisode, so time it out for ten seconds.\n\n548\n00:30:54.210 --> 00:30:56.620\nGive yourself a chance to\nactually close that down so\n\n549\n00:30:56.620 --> 00:31:00.420\nyou're not sitting there waiting and\nclicking and exactly right.\n\n550\n00:31:00.420 --> 00:31:07.740\nSo I'm gonna do shutdown -r -t 10 and\nthen exit -pssession.\n\n551\n00:31:07.740 --> 00:31:10.440\nAnd now it's okay,\nit can reboot all at once.\n\n552\n00:31:10.440 --> 00:31:14.510\nI was goofing around before this show,\nand I was like, ugh.\n\n553\n00:31:14.510 --> 00:31:17.550\n&gt;&gt; I don't need 10 seconds,\nI could do it in 5 I'm sure.\n\n554\n00:31:17.550 --> 00:31:20.800\nYet, no, cuz as soon as you try to\nhurry that's when you make the typo and\n\n555\n00:31:20.800 --> 00:31:25.730\nnow backspacing and then all of a sudden\nit freezes up and you're kinda stuck, so.\n\n556\n00:31:25.730 --> 00:31:27.160\n&gt;&gt; And I'm usually really OCD too.\n\n557\n00:31:27.160 --> 00:31:30.513\nIf I'm gonna remotely reboot something\nlike that, hopefully I am in the same\n\n558\n00:31:30.513 --> 00:31:33.783\nbuilding, I don't know if I would\nremotely, if I was off site on this one.\n\n559\n00:31:33.783 --> 00:31:36.993\nI usually fire up a ping, and\nI'll hit it with a persistent ping.\n\n560\n00:31:36.993 --> 00:31:38.370\n&gt;&gt; Yes.\n&gt;&gt; Just to wait till I know that\n\n561\n00:31:38.370 --> 00:31:40.653\nthe network adapter's reinitialized.\n\n562\n00:31:40.653 --> 00:31:42.245\n&gt;&gt; All right, so it's rebooted.\n\n563\n00:31:42.245 --> 00:31:44.888\nIt's lightening fast, it's nano,\n\n564\n00:31:44.888 --> 00:31:49.430\nI mean it's 500 megs on an install,\nit's a teeny tiny.\n\n565\n00:31:49.430 --> 00:31:53.452\nWell, let's see if I can now\nlog in with my domain account.\n\n566\n00:31:53.452 --> 00:31:57.935\nIf I can remember my password and\nmy domain name and\n\n567\n00:31:57.935 --> 00:32:01.368\nbotta bing, there we go, we're in.\n\n568\n00:32:01.368 --> 00:32:02.613\nNano is now part of the domain.\n\n569\n00:32:02.613 --> 00:32:07.541\nI can start running commands to\ninstall roles using those new\n\n570\n00:32:07.541 --> 00:32:11.609\nnet -NanoServerPackage and\ninstalling those.\n\n571\n00:32:11.609 --> 00:32:13.230\nWe can do whatever we want.\n\n572\n00:32:13.230 --> 00:32:15.182\nIn fact, I know we're short on time.\n\n573\n00:32:15.182 --> 00:32:19.219\nI'll show you on last little trick\nwith managing Nano Server and\n\n574\n00:32:19.219 --> 00:32:21.645\nthen I promise we'll be done with it.\n\n575\n00:32:21.645 --> 00:32:22.622\nHopefully, you guys have enjoyed all this.\n\n576\n00:32:22.622 --> 00:32:25.260\nI really am liking Nano Server.\n\n577\n00:32:25.260 --> 00:32:29.290\nBut, what you'll see here\nis I'm still Pacific Time.\n\n578\n00:32:29.290 --> 00:32:34.760\nI never did the Unattend file to set\nthe time zone, so it's Pacific Time.\n\n579\n00:32:34.760 --> 00:32:35.950\nSo let's change that.\n\n580\n00:32:37.290 --> 00:32:40.576\nLet's show you, let me reconnect.\n\n581\n00:32:42.757 --> 00:32:45.844\nBut this time I'm just going to,\nnow that it's part of the domain,\n\n582\n00:32:45.844 --> 00:32:47.370\nI'm just gonna start this over.\n\n583\n00:32:47.370 --> 00:32:52.420\nLet's clear my session and\nlet's do Enter-PSSession and\n\n584\n00:32:52.420 --> 00:33:00.310\nnano02, and it should work just fine cuz\nit's part of the domain, already trusted.\n\n585\n00:33:00.310 --> 00:33:03.410\nMy domain account has permission\nto log into member servers so\n\n586\n00:33:03.410 --> 00:33:07.356\nI don't need to do whole the credentials\nand IP address or anything like that.\n\n587\n00:33:07.356 --> 00:33:08.705\nAnd there you go, we're in.\n\n588\n00:33:08.705 --> 00:33:11.943\nNow to change that time zone,\nI'm gonna use,\n\n589\n00:33:11.943 --> 00:33:15.194\nI think I mentioned this\nthe other day as well.\n\n590\n00:33:15.194 --> 00:33:22.680\ntzutil shows me that I'm\ncurrently Pacific Standard Time.\n\n591\n00:33:22.680 --> 00:33:27.815\ntzutil/s \"Eastern\n\n592\n00:33:27.815 --> 00:33:35.290\nStandard Time\", Enter.\n\n593\n00:33:35.290 --> 00:33:40.680\nDo another g, and now you should\nsee I am Eastern Standard Time.\n\n594\n00:33:40.680 --> 00:33:45.887\nIf I was to log off on Nano,\nAnd log back in,\n\n595\n00:33:50.832 --> 00:33:53.550\nAnd type it all correctly,\nthat always helps.\n\n596\n00:33:59.301 --> 00:34:02.429\nThere we can see I'm now Eastern Time.\n\n597\n00:34:02.429 --> 00:34:03.640\nThere we have it.\n\n598\n00:34:03.640 --> 00:34:07.178\nSo really we've done a lot\nas far as working with Nano.\n\n599\n00:34:07.178 --> 00:34:10.810\nWe've, in these last couple of episodes,\ngenerated some Nano images,\n\n600\n00:34:10.810 --> 00:34:14.200\nmanaged the Nano Server that was\npart of our domain remotely.\n\n601\n00:34:14.200 --> 00:34:18.395\nThen we took one that wasn't part of\nthe domain and managed it remotely and\n\n602\n00:34:18.395 --> 00:34:22.990\nwe're able to get it joined to the domain\nas well, and all using PowerShell.\n\n603\n00:34:22.990 --> 00:34:23.961\n&gt;&gt; Great information, Mike.\n\n604\n00:34:23.961 --> 00:34:27.230\nAnd nice to see the new\ntype of installation here.\n\n605\n00:34:27.230 --> 00:34:29.400\nReal streamlined, I would say simplistic.\n\n606\n00:34:29.400 --> 00:34:33.110\nYou definitely had to take us through some\nsteps here to get everything set up, and\n\n607\n00:34:33.110 --> 00:34:34.160\nwe do appreciate that.\n\n608\n00:34:34.160 --> 00:34:35.550\nBut like you've mentioned,\n\n609\n00:34:35.550 --> 00:34:37.860\nit does look like we're pushing\nthe envelope on the clock there.\n\n610\n00:34:37.860 --> 00:34:40.780\nBut before we sign out, Mike,\nwhen it comes to Nano Server,\n\n611\n00:34:40.780 --> 00:34:43.960\ndo you have any additional\nwords you'd like to throw in?\n\n612\n00:34:43.960 --> 00:34:44.700\n&gt;&gt; Play around with it.\n\n613\n00:34:44.700 --> 00:34:46.210\nYou really don't need much.\n\n614\n00:34:46.210 --> 00:34:49.855\nAnd it's going to be on the exam\nbecause it's a new technology.\n\n615\n00:34:49.855 --> 00:34:52.070\nSo you're guaranteed.\n\n616\n00:34:52.070 --> 00:34:56.620\nI guess nothing in life is guaranteed,\nbut there's a good certainty that you're\n\n617\n00:34:56.620 --> 00:35:01.060\ngoing to see some questions dealing with\nNano on the exam, and it's brand new.\n\n618\n00:35:01.060 --> 00:35:01.990\nYou've never seen it before.\n\n619\n00:35:01.990 --> 00:35:04.330\nSo get in there and play with it,\nand it doesn't take much.\n\n620\n00:35:04.330 --> 00:35:06.430\nYou could take a Windows 10 machine,\n\n621\n00:35:06.430 --> 00:35:11.270\ninstall Hyper-V on there cuz you've\ngot your Hyper-V for client.\n\n622\n00:35:11.270 --> 00:35:14.070\nAnd a Nano machine needs\n512 megs of RAM to run.\n\n623\n00:35:14.070 --> 00:35:16.058\nSo even if you've only got 4 or\n\n624\n00:35:16.058 --> 00:35:19.760\n8 gigs of RAM on your laptop, you should\nbe able to spin one up and play with it.\n\n625\n00:35:19.760 --> 00:35:21.840\nBut you've always got access to our labs,\ntoo.\n\n626\n00:35:21.840 --> 00:35:25.350\nBut the point is, get out there and play\nwith it cuz it's gonna be test worthy.\n\n627\n00:35:25.350 --> 00:35:27.390\n&gt;&gt; Words of wisdom there\ncoming from Mike Rodrick.\n\n628\n00:35:27.390 --> 00:35:29.920\nWell, that does look like it's\ngonna wrap up another episode.\n\n629\n00:35:29.920 --> 00:35:32.780\nSo we're gonna go ahead and\nsign out here at ITProTV.\n\n630\n00:35:32.780 --> 00:35:33.910\nI've been your host, Wes Bryan.\n\n631\n00:35:33.910 --> 00:35:34.930\n&gt;&gt; And I'm Mike Rodrick.\n\n632\n00:35:34.930 --> 00:35:38.280\n&gt;&gt; And we'll see you next time.\n\n633\n00:35:38.280 --> 00:35:45.410\n[SOUND]\n\n",
          "vimeoId": "181126908"
        }
      ],
      "title": "Install Windows Servers in host and compute environments"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Wes and Mike explore the concepts of disks and volumes inside of Windows Server 2016. They explain concepts like MBR, GPT, basic and dynamic disks as well as their respective benefits and drawbacks.",
          "length": "1462",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-1-1-configure_disks_and_volumes-083116-1.jpg",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-1-1-configure_disks_and_volumes-083116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-1-1-configure_disks_and_volumes-083116-1-sm.jpg",
          "title": "Configure Disks and Volumes",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.995 --> 00:00:14.186\nWelcome back to another exciting\nepisode here in ITProTV.\n\n3\n00:00:14.186 --> 00:00:16.300\nI'm your host Wes Bryan.\n\n4\n00:00:16.300 --> 00:00:19.460\nAnd in today's episode we're coming back\nat you with more of that installation,\n\n5\n00:00:19.460 --> 00:00:20.990\nstorage, and compute.\n\n6\n00:00:20.990 --> 00:00:23.510\nThat's right,\nin the brand new Windows Server 2016,\n\n7\n00:00:23.510 --> 00:00:26.830\nstill got that fresh car smell and\nnice and shiny.\n\n8\n00:00:26.830 --> 00:00:29.860\nAnd joining me in the studios to help\nus out with that is none other than Mr.\n\n9\n00:00:29.860 --> 00:00:30.530\nMike Rodrick.\n\n10\n00:00:30.530 --> 00:00:31.600\nMike, how you doing sir?\n\n11\n00:00:31.600 --> 00:00:36.547\n&gt;&gt; I'm glad to be here, Wes, and ready\nto do some, as you say, some more 2016.\n\n12\n00:00:36.547 --> 00:00:41.570\nIn this one, we're gonna be focusing\nin on configuring disks and volumes.\n\n13\n00:00:42.720 --> 00:00:46.540\nSo we're gonna start by just taking\na little trip down memory lane and\n\n14\n00:00:46.540 --> 00:00:49.440\ntalking about some\nfoundational knowledge that we\n\n15\n00:00:49.440 --> 00:00:51.930\nprobably you're already aware of but\nif not that's okay.\n\n16\n00:00:51.930 --> 00:00:54.597\nWe can always learn it.\n\n17\n00:00:54.597 --> 00:00:58.368\nWell, we need to have a basic\nunderstanding of what we've got when we\n\n18\n00:00:58.368 --> 00:01:02.723\ntalk about our disks and our volumes and\nthe first thing I wanna talk about is just\n\n19\n00:01:02.723 --> 00:01:07.079\nthe fact that we're not really getting\ninto whether it's a mechanical drive or\n\n20\n00:01:07.079 --> 00:01:10.230\nwhether it's a Solid state drive or\nanything like that.\n\n21\n00:01:10.230 --> 00:01:13.367\nWe're talking about once we've\nplugged that thing into our system,\n\n22\n00:01:13.367 --> 00:01:14.332\nhow do we utilize it?\n\n23\n00:01:14.332 --> 00:01:17.918\nWhat do we have to do to make that\nstorage available to our system?\n\n24\n00:01:17.918 --> 00:01:24.860\nAnd where I wanna start is with MBR and\nGPT.\n\n25\n00:01:24.860 --> 00:01:26.300\nProbably heard this terms.\n\n26\n00:01:26.300 --> 00:01:30.975\nWe have master boot record or\nMBR and we also have GPT, or\n\n27\n00:01:30.975 --> 00:01:37.326\nGUID Partition Table so GPT is\nactually an acronym within an acronym.\n\n28\n00:01:37.326 --> 00:01:41.090\nGUID Partition Table globally\nunique identifier partition table\n\n29\n00:01:41.090 --> 00:01:43.290\nwould be the full name but\nnobody says that.\n\n30\n00:01:43.290 --> 00:01:45.700\nWe just say GPT based disk.\n\n31\n00:01:45.700 --> 00:01:48.310\nMBRs what we've had since\nthe dawn of computers.\n\n32\n00:01:48.310 --> 00:01:51.080\nWe've used that, that master boot record.\n\n33\n00:01:51.080 --> 00:01:55.890\nAnd it works fine for a long time where as\nour drives get bigger and bigger though,\n\n34\n00:01:55.890 --> 00:01:59.092\nwe started running in some\nof the limitations on MBR.\n\n35\n00:01:59.092 --> 00:02:02.950\nWhich just wasn't designed with\n2 terabytes drives in mind.\n\n36\n00:02:02.950 --> 00:02:07.510\nAnd we've got 2 terabytes and\nlarger drives readily available nowadays.\n\n37\n00:02:07.510 --> 00:02:10.297\nAnd MBR kind of falls a little\nshort when it deals with that.\n\n38\n00:02:10.297 --> 00:02:15.502\nAnd so, limitations within MBR\nmaster boot record it has a MBR\n\n39\n00:02:15.502 --> 00:02:20.630\ntable that it keeps track of\nthe partitions on that drive.\n\n40\n00:02:20.630 --> 00:02:24.510\nRemember, we take a drive and\nwe divide it up into partitions and\n\n41\n00:02:24.510 --> 00:02:26.330\npartitions are just containers.\n\n42\n00:02:26.330 --> 00:02:28.479\nThink of it as a box.\n\n43\n00:02:28.479 --> 00:02:31.884\nYou can't write to a partition,\nyou can't store data in a partition,\n\n44\n00:02:31.884 --> 00:02:33.962\nit's really just a beginning and ending.\n\n45\n00:02:33.962 --> 00:02:40.050\nI wanna take this much space off that hard\ndrive and make a partition out of it.\n\n46\n00:02:40.050 --> 00:02:45.230\nThen that partition, we go back and\nwe create a volume on it.\n\n47\n00:02:45.230 --> 00:02:48.610\nWe give it a file system we format it,\nwe give it a file system.\n\n48\n00:02:48.610 --> 00:02:52.340\nWe assign a drive letter and now it's\naccessible to the operating system.\n\n49\n00:02:52.340 --> 00:02:55.988\nI can save files there I can browse\nthrough it in File Explorer.\n\n50\n00:02:55.988 --> 00:02:56.820\nAnd what as you remember,\n\n51\n00:02:56.820 --> 00:03:00.480\nwas the limitation there with MBR my\nnumber of partitions I could create.\n\n52\n00:03:00.480 --> 00:03:01.560\n&gt;&gt; That's right.\nIf I remember right,\n\n53\n00:03:01.560 --> 00:03:03.320\nwe've got that master partition table.\n\n54\n00:03:03.320 --> 00:03:04.810\nIt's 32 bytes in length.\n\n55\n00:03:04.810 --> 00:03:08.470\nAnd that leaves us with only four\nidentifiers to identify those partitions.\n\n56\n00:03:08.470 --> 00:03:12.935\nSo if I remember right, it's gonna be\nfour primary partitions limited into\n\n57\n00:03:12.935 --> 00:03:14.135\ninside of the master boot record.\n\n58\n00:03:14.135 --> 00:03:15.035\n&gt;&gt; Exactly right.\n\n59\n00:03:15.035 --> 00:03:16.785\nYou can only have four partitions.\n\n60\n00:03:16.785 --> 00:03:17.545\nThere was a four line.\n\n61\n00:03:17.545 --> 00:03:21.545\nYou can basically think of it as\na little table with four rows in it.\n\n62\n00:03:21.545 --> 00:03:25.905\nAnd I could put the information about\npartition wall in it in row one,two,\n\n63\n00:03:25.905 --> 00:03:28.047\nthree and four, and then that was it,\nI couldn't create any more partitions,\n\n64\n00:03:28.047 --> 00:03:31.337\nbecause there was no more room in\nthat table to add any entries.\n\n65\n00:03:31.337 --> 00:03:32.357\n&gt;&gt; And if I remember right, Mike,\n\n66\n00:03:32.357 --> 00:03:35.757\none of the other limitations to master\nboot record, is when your BIOS.\n\n67\n00:03:35.757 --> 00:03:38.817\nThat system that gets our hardware going\nfor us, when it would find a master boot\n\n68\n00:03:38.817 --> 00:03:41.417\nrecord, it didn't matter what\nthe state of the record was in.\n\n69\n00:03:41.417 --> 00:03:44.690\nWhether it was a valid boot record,\nor whether it was corrupt.\n\n70\n00:03:44.690 --> 00:03:47.450\nOnce it found that master boot record,\nit's like hey my job is done.\n\n71\n00:03:47.450 --> 00:03:50.880\nNow, you hope that boot records\nare gonna start your operating system.\n\n72\n00:03:50.880 --> 00:03:53.660\n&gt;&gt; Yeah, that's why we have\ncommands like fit send VR and\n\n73\n00:03:53.660 --> 00:03:55.550\nthings like that to try\nto recover those drives.\n\n74\n00:03:55.550 --> 00:03:58.380\nCuz if that table gets messed up,\nthe data is still there,\n\n75\n00:03:58.380 --> 00:04:02.460\nit's still all sitting in the hard drive\nand it's volume and it's partition.\n\n76\n00:04:02.460 --> 00:04:05.280\nThe problem is the operating\nsystem can't find i.\n\n77\n00:04:05.280 --> 00:04:08.586\nBecause the table is what says,\nthis is where partition one starts,\n\n78\n00:04:08.586 --> 00:04:10.296\nthis is where partition one stops.\n\n79\n00:04:10.296 --> 00:04:13.460\nAnd this is the off-set or what have you.\n\n80\n00:04:13.460 --> 00:04:14.430\nSo that was a limitation.\n\n81\n00:04:14.430 --> 00:04:17.440\nWe couldnt get past four\nof those partitions.\n\n82\n00:04:17.440 --> 00:04:19.845\nNow, there were some workarounds,\nthat we could do.\n\n83\n00:04:19.845 --> 00:04:22.297\nTowards the end of the master boot record,\n\n84\n00:04:22.297 --> 00:04:25.510\nwe could trade in one of those\nprimary partition spots.\n\n85\n00:04:25.510 --> 00:04:28.390\nOne of those rows in that table,\nwe could say you know what,\n\n86\n00:04:28.390 --> 00:04:30.160\nI'm not gonna make\na partition in this row.\n\n87\n00:04:30.160 --> 00:04:32.300\nI'm gonna create an extended partition.\n\n88\n00:04:32.300 --> 00:04:35.910\nAnd extended partition was a way to kinda\n\n89\n00:04:35.910 --> 00:04:40.600\ncheat the system within that extended\npartition we could create logical drives.\n\n90\n00:04:40.600 --> 00:04:43.680\nAnd I could create as many\nlogical drives as I wanted\n\n91\n00:04:43.680 --> 00:04:45.430\nwithin that extended partition.\n\n92\n00:04:45.430 --> 00:04:47.660\nSo it didn't get one volume,\nit took multiples.\n\n93\n00:04:47.660 --> 00:04:50.010\nAnd so, we can get past that\nfour partition limit in a way-\n\n94\n00:04:50.010 --> 00:04:50.580\n&gt;&gt; That's right,\n\n95\n00:04:50.580 --> 00:04:54.190\none way I always thought about when\na teacher, for instance, A+ students.\n\n96\n00:04:54.190 --> 00:04:56.020\nI said look at your house.\n\n97\n00:04:56.020 --> 00:04:59.193\nIf I look at a house and this architect\ncomes in and says you've got four rooms in\n\n98\n00:04:59.193 --> 00:05:02.433\nyour house and that's all the walls I can\nput up, well what do I do with one room?\n\n99\n00:05:02.433 --> 00:05:05.510\nIf I need more than four rooms,\nwell, I could turn around.\n\n100\n00:05:05.510 --> 00:05:09.050\nAnd inside of that fourth room I could\nin your case make an extended partition.\n\n101\n00:05:09.050 --> 00:05:11.760\nAnd now I could put\ncubicles in between it.\n\n102\n00:05:11.760 --> 00:05:13.850\nAnd it has a limit to\nhow much space you have.\n\n103\n00:05:13.850 --> 00:05:15.840\nYou're gonna only be able to fit so\nmany cubicles.\n\n104\n00:05:15.840 --> 00:05:19.470\nAnd this case I believe in the operating\nsystem it's driven by the space and\n\n105\n00:05:19.470 --> 00:05:20.520\nhow many letters you have.\n\n106\n00:05:20.520 --> 00:05:23.640\nBut it's a way to break up\nthat last little bit of space,\n\n107\n00:05:23.640 --> 00:05:26.280\nif you will, and now kinda divide\nit up the way you need to kinda\n\n108\n00:05:26.280 --> 00:05:28.290\ncheat the system a little\nbit if I remember right.\n\n109\n00:05:28.290 --> 00:05:29.383\n&gt;&gt; Exactly right.\n\n110\n00:05:29.383 --> 00:05:33.476\nSo we could get around it but\nnot the most efficient way to go.\n\n111\n00:05:33.476 --> 00:05:35.720\nAnd that's when GPT disks.\n\n112\n00:05:35.720 --> 00:05:37.050\nWell, not because of that,\n\n113\n00:05:37.050 --> 00:05:41.020\nbut eventually we came out with\nthe GUID partition tables or GPTs.\n\n114\n00:05:41.020 --> 00:05:42.750\nAnd I say, it wasn't me, obviously.\n\n115\n00:05:42.750 --> 00:05:45.370\nBut GPTs, basically answer or\n\n116\n00:05:45.370 --> 00:05:50.217\nallowed us to overcome some\nof those limitations of NBR.\n\n117\n00:05:50.217 --> 00:05:55.327\nBecause with a GTP instead of\nhaving a four row table, or\n\n118\n00:05:55.327 --> 00:06:02.390\na four entry table to store\nthe partition there's a 32 spot array.\n\n119\n00:06:02.390 --> 00:06:05.140\nAnd what I always tell beginning\nprogramming students when you think of\n\n120\n00:06:05.140 --> 00:06:09.620\nan array, an array is just a container\nwith multiple spots to store stuff.\n\n121\n00:06:09.620 --> 00:06:14.900\nI think of it like either an egg crate,\nis one analogy we'll use.\n\n122\n00:06:14.900 --> 00:06:19.270\nOr the old racks at the kindergarten\nwhere everybody put their shoes in it.\n\n123\n00:06:19.270 --> 00:06:22.400\nEach person gets one little box in\nthis rack, puts their shoes in there.\n\n124\n00:06:22.400 --> 00:06:25.050\nAnd then, they go get in\nthe bouncy balls or what have you.\n\n125\n00:06:25.050 --> 00:06:27.290\nWell, that whole rack system\nwould be like the array.\n\n126\n00:06:27.290 --> 00:06:29.740\nOr that egg crate is the array, itself.\n\n127\n00:06:29.740 --> 00:06:32.990\nAnd a normal egg crate has 12 spots for\n12 eggs, so\n\n128\n00:06:32.990 --> 00:06:37.980\nI could store 12 bits of information, each\none in one little slot in that egg crate.\n\n129\n00:06:37.980 --> 00:06:42.640\nBut I deal with the crate as a unit,\nit holds 12 bits of information.\n\n130\n00:06:42.640 --> 00:06:45.969\nSo for a GPT based disc,\nhas got a 32 slot array,\n\n131\n00:06:45.969 --> 00:06:50.428\nwhich means I can create,\nguess how many partitions I can create?\n\n132\n00:06:50.428 --> 00:06:51.650\n&gt;&gt; I would say, 128.\n\n133\n00:06:51.650 --> 00:06:53.970\n&gt;&gt; [LAUGH]\n&gt;&gt; Or 32.\n\n134\n00:06:53.970 --> 00:06:56.820\n&gt;&gt; [LAUGH] That's a lot more than four,\n\n135\n00:06:56.820 --> 00:07:00.720\nbecause of the way that\nstores the information.\n\n136\n00:07:00.720 --> 00:07:02.305\nThat was a big advantage of GPT's.\n\n137\n00:07:02.305 --> 00:07:05.780\nAnd also GPT's were used with the UEFI.\n\n138\n00:07:05.780 --> 00:07:06.881\nWe're not gonna dive in that here.\n\n139\n00:07:06.881 --> 00:07:11.432\nBut MBR used, you will bios basically\ninput output system, GVTs are for\n\n140\n00:07:11.432 --> 00:07:13.080\nsystems, we're using.\n\n141\n00:07:13.080 --> 00:07:19.450\nUY5 unified extensible firmware interface,\njust so much more advanced for buyers.\n\n142\n00:07:20.860 --> 00:07:23.870\nSo we said if we could\nput 32 sector array, so\n\n143\n00:07:23.870 --> 00:07:27.420\nwe can create more partitions,\nwe could also create larger partitions.\n\n144\n00:07:27.420 --> 00:07:31.710\nWith MBRs, we were limited to 2\nterabytes in the max partition size.\n\n145\n00:07:31.710 --> 00:07:34.330\nWith GPTs, we don't have that limitation.\n\n146\n00:07:34.330 --> 00:07:36.900\nSo that's another big advantage there.\n\n147\n00:07:36.900 --> 00:07:37.470\n&gt;&gt; Mike, help me out.\n\n148\n00:07:37.470 --> 00:07:40.590\nYou were talking about when you\ntry to find these partitions.\n\n149\n00:07:40.590 --> 00:07:45.970\nWe had a master partition table there,\nand GUID, or the GPTs, I don't imagine\n\n150\n00:07:45.970 --> 00:07:48.810\nwe have like a label maker here that we're\ngoing back and stamping those arrays.\n\n151\n00:07:48.810 --> 00:07:51.750\nHow is it that we actually find those\narrays, or that they're identified?\n\n152\n00:07:51.750 --> 00:07:53.689\nAs this one's different\nfrom the other one.\n\n153\n00:07:53.689 --> 00:07:55.818\n&gt;&gt; In that array you can think of,\nlike I said,\n\n154\n00:07:55.818 --> 00:07:59.055\nthat array is a container that has\nlots of little containers in it.\n\n155\n00:07:59.055 --> 00:08:01.783\nAnd you just take that one\nlittle container out, and\n\n156\n00:08:01.783 --> 00:08:04.635\nit's still gonna have the starting and\nending spot for\n\n157\n00:08:04.635 --> 00:08:07.870\nthat partition in that little\none spot within that egg crate.\n\n158\n00:08:07.870 --> 00:08:10.990\nSo it still does have that\nsame information there.\n\n159\n00:08:10.990 --> 00:08:16.327\nAnother great thing that we get\nwith GPTs is we get redundancy with\n\n160\n00:08:16.327 --> 00:08:23.800\nthe partition array, that 32-bit,\nor not 32-bit, that 32-slot array.\n\n161\n00:08:23.800 --> 00:08:27.230\nWith MBRs, the master boot\nrecord was stored in sector 0.\n\n162\n00:08:27.230 --> 00:08:30.690\nIt was the very first thing\nyou found on that drive.\n\n163\n00:08:30.690 --> 00:08:32.750\nSo as the system accessed that drive,\n\n164\n00:08:32.750 --> 00:08:36.380\nit read that first bit of information\non the disk, readily accessible.\n\n165\n00:08:36.380 --> 00:08:39.390\nCould grab that information, and\nsee what was on the rest of the drive.\n\n166\n00:08:39.390 --> 00:08:44.000\nIt was only stored in that one spot and\nif that ever became corrupt, as Wes was\n\n167\n00:08:44.000 --> 00:08:48.380\nalluding to earlier, you lose access to\nall your data if that becomes corrupt.\n\n168\n00:08:48.380 --> 00:08:51.030\nAnd there's ways we can try to fix that.\n\n169\n00:08:51.030 --> 00:08:52.710\nBut sometimes you just can't, and\n\n170\n00:08:52.710 --> 00:08:57.180\nthen you're looking at recovering the data\nwith some kind of data recovery software.\n\n171\n00:08:57.180 --> 00:09:00.500\nWith GPT, it actually stores\nthat array in two places.\n\n172\n00:09:00.500 --> 00:09:03.230\nOnce at the beginning of the drive, but\n\n173\n00:09:03.230 --> 00:09:06.840\nagain at the end of the drive,\nwhich gives me redundancy.\n\n174\n00:09:06.840 --> 00:09:09.420\nNow if one of those\ncopies becomes corrupt,\n\n175\n00:09:09.420 --> 00:09:11.380\nI still have another copy of that array.\n\n176\n00:09:11.380 --> 00:09:14.260\nI don't lose access to those\npartitions and therefore,\n\n177\n00:09:14.260 --> 00:09:15.860\nI don't lose access to my data.\n\n178\n00:09:15.860 --> 00:09:18.590\nSo big advantage there with GPTs.\n\n179\n00:09:19.750 --> 00:09:23.550\nThe other thing that I think\nconfuses people with MBRs and\n\n180\n00:09:23.550 --> 00:09:27.150\nGPTs is the whole basic and dynamic thing.\n\n181\n00:09:27.150 --> 00:09:30.552\nAnd you've probably, hopefully,\nlearned about these a little bit in A+,\n\n182\n00:09:30.552 --> 00:09:34.320\nmaybe in the Windows 10 where\nwe're talking about basic disks,\n\n183\n00:09:34.320 --> 00:09:38.090\nwe can create simple,\nwe can actually create partitions.\n\n184\n00:09:38.090 --> 00:09:41.560\nMost people call them simple volumes,\nbut they're really partitions.\n\n185\n00:09:41.560 --> 00:09:46.170\nAnd, where was I going with that?\n\n186\n00:09:46.170 --> 00:09:50.340\nDynamic discs gave me the ability\nto do some pretty cool things.\n\n187\n00:09:50.340 --> 00:09:51.660\nIf I took a basic disk and\n\n188\n00:09:51.660 --> 00:09:56.570\nconvert it to dynamic,\nnow we can create extended partitions.\n\n189\n00:09:56.570 --> 00:10:02.580\nSpanned volumes, where I take of one\nvolume that spans across multiple drives.\n\n190\n00:10:02.580 --> 00:10:06.450\nThese were possible because\nof that dynamic disk.\n\n191\n00:10:06.450 --> 00:10:08.630\nIf we converted a disk to dynamic.\n\n192\n00:10:08.630 --> 00:10:10.800\nAnd so people are often confused.\n\n193\n00:10:10.800 --> 00:10:11.820\nDo I want MBR?\n\n194\n00:10:11.820 --> 00:10:12.920\nDo I want GPT?\n\n195\n00:10:12.920 --> 00:10:13.850\nDo I want dynamic?\n\n196\n00:10:13.850 --> 00:10:15.270\nDo I want basic?\n\n197\n00:10:15.270 --> 00:10:16.350\nAnd what we've gotta remember is,\n\n198\n00:10:16.350 --> 00:10:18.720\nwe're really talking about\ntwo different levels here.\n\n199\n00:10:18.720 --> 00:10:19.900\nIf we were to dive in and\n\n200\n00:10:19.900 --> 00:10:25.350\nlook under the hood at the Windows storage\nstack, we could imagine different layers.\n\n201\n00:10:25.350 --> 00:10:32.960\nAnd there's a layer that deals with\nthe partition manager towards the bottom.\n\n202\n00:10:32.960 --> 00:10:34.590\nAnd that partition manager,\n\n203\n00:10:34.590 --> 00:10:39.190\nthat's the one that's looking to\nsee if the disk is MBR or GPT.\n\n204\n00:10:39.190 --> 00:10:41.910\nBut there's a volume\nmanager the layer up and\n\n205\n00:10:41.910 --> 00:10:44.990\nthat's the one that's dealing\nwith basic or dynamic.\n\n206\n00:10:44.990 --> 00:10:48.380\nSo you can have an MBR disk\nthat's basic or dynamic.\n\n207\n00:10:48.380 --> 00:10:50.880\nBut you can have a GPT\ndisk that's basic or\n\n208\n00:10:50.880 --> 00:10:53.425\ndynamic the two\nare independent of each other.\n\n209\n00:10:53.425 --> 00:10:54.300\nAll right?\n\n210\n00:10:54.300 --> 00:10:57.662\nSo just make sure we understand\nthat I can have a, dynamic and\n\n211\n00:10:57.662 --> 00:11:00.620\nbasic has nothing to do with MBR and GPT.\n\n212\n00:11:00.620 --> 00:11:05.300\nThink of the partition manager, the MBR\nand the GPT, that's just the container.\n\n213\n00:11:05.300 --> 00:11:09.890\nIt has no idea what's inside it and\nit doesn't care what's inside it or\n\n214\n00:11:09.890 --> 00:11:10.590\nhow it's handled.\n\n215\n00:11:10.590 --> 00:11:12.970\nIt's like hey I manage\nthe partition the beginning and\n\n216\n00:11:12.970 --> 00:11:15.880\nthe ending of this container right?\n\n217\n00:11:15.880 --> 00:11:20.260\nThe basic and dynamic,\nthat's the volume manager,\n\n218\n00:11:20.260 --> 00:11:22.600\nand it's dealing with\nwhat's inside the box.\n\n219\n00:11:22.600 --> 00:11:25.560\nAnd it again,\nit doesn't care about the outside,\n\n220\n00:11:25.560 --> 00:11:27.410\nit doesn't deal with that part all right?\n\n221\n00:11:27.410 --> 00:11:31.520\nSo just keep that in mind,\nwhen you talk GPT you can still do basic,\n\n222\n00:11:31.520 --> 00:11:35.610\nyou can still do dynamic,\njust as we change over to GPT.\n\n223\n00:11:35.610 --> 00:11:37.628\nWhere do I choose these and why?\n\n224\n00:11:37.628 --> 00:11:39.669\nWhy do I choose one or the other?\n\n225\n00:11:39.669 --> 00:11:44.435\nMBR is still the default,I mean to this\nday if you go throw a drive in there, and\n\n226\n00:11:44.435 --> 00:11:47.340\nit's less than two terabytes,\nit will be MBR.\n\n227\n00:11:47.340 --> 00:11:50.061\nWindows still uses that as the default.\n\n228\n00:11:50.061 --> 00:11:54.474\nBut the rule of thumb is if you've\ngot a drive that's larger than two\n\n229\n00:11:54.474 --> 00:11:58.733\nterabytes you should use GPT\nbecause larger than two terabytes,\n\n230\n00:11:58.733 --> 00:12:02.660\nyou won't be able to partition\nthe entire drive using MBR.\n\n231\n00:12:02.660 --> 00:12:06.350\nAt least, you would be able to\ncreate one big volume of that size.\n\n232\n00:12:06.350 --> 00:12:07.890\n&gt;&gt; And\ndidn't you mention redundancy on GPT?\n\n233\n00:12:07.890 --> 00:12:11.120\nI mean,\nif something in that array goes wrong,\n\n234\n00:12:11.120 --> 00:12:13.880\nwe've got something else there that's\ngonna help us still get into our\n\n235\n00:12:13.880 --> 00:12:16.720\nsystems and unfortunately,\nwell, fortunately I should say,\n\n236\n00:12:16.720 --> 00:12:21.700\nwe don't have to pull out like a diskette,\nrecovery CD, and try to get our data back.\n\n237\n00:12:21.700 --> 00:12:22.250\n&gt;&gt; That Right.\nYeah.\n\n238\n00:12:22.250 --> 00:12:25.480\nCan grab it from that other copy of it and\njust rewrite it and\n\n239\n00:12:25.480 --> 00:12:27.180\neverything is golden there.\n\n240\n00:12:27.180 --> 00:12:30.690\nNow, when you import a disk,\nwhen you bring a disk into a machine,\n\n241\n00:12:30.690 --> 00:12:32.380\nyou shut it down, you pop in a disk.\n\n242\n00:12:32.380 --> 00:12:34.270\nYou boot it up for\nthe first time after that.\n\n243\n00:12:34.270 --> 00:12:35.660\nYou go into disk management.\n\n244\n00:12:35.660 --> 00:12:37.150\nYou've got to initialize that disk, right?\n\n245\n00:12:37.150 --> 00:12:40.110\nIt's a blank drive you just\nbought from NewEgg or wherever.\n\n246\n00:12:40.110 --> 00:12:46.390\nYou have to initialize the disk and that's\nwhen you're gonna choose MBR or GPT.\n\n247\n00:12:46.390 --> 00:12:49.170\nYou can convert after the fact.\n\n248\n00:12:49.170 --> 00:12:52.420\nMicrosoft will tell you you\nshould back that drive up because\n\n249\n00:12:52.420 --> 00:12:54.180\nthere's a possibility you could lose data.\n\n250\n00:12:54.180 --> 00:12:57.410\nNot supposed to,\nthe command is pretty transparent and\n\n251\n00:12:57.410 --> 00:13:00.221\nin the end I've never had\na problem converting a drive.\n\n252\n00:13:00.221 --> 00:13:02.710\nThat doesn't mean you won't and\nthat it can't happen.\n\n253\n00:13:02.710 --> 00:13:06.420\nSo in a production environment,\nalways back it up before you convert.\n\n254\n00:13:06.420 --> 00:13:09.810\nAnd we can do it in the GUI and\nwe can do it from the command line.\n\n255\n00:13:09.810 --> 00:13:13.400\nSo lets take a look here,\nit's enough of me talking,k let's dive in.\n\n256\n00:13:13.400 --> 00:13:18.410\nI've got my server opened up and\nI'm going to actually go into,\n\n257\n00:13:18.410 --> 00:13:20.680\nyou can really so this from a couple\nof different places, right?\n\n258\n00:13:20.680 --> 00:13:25.650\nFrom server manager, I can click on, and\nlet me bring that back over there File and\n\n259\n00:13:25.650 --> 00:13:29.610\nStorage Services over here\nin my navigation tree.\n\n260\n00:13:29.610 --> 00:13:31.970\nAnd from there I can click on Disks and\n\n261\n00:13:31.970 --> 00:13:34.380\nI can see all the different\ndrives in this machine.\n\n262\n00:13:34.380 --> 00:13:38.950\nI'd dumped a whole bunch of drives in\nhere so we'd have something to play with.\n\n263\n00:13:38.950 --> 00:13:43.150\nI can also go to Tools and\nComputer Management and\n\n264\n00:13:43.150 --> 00:13:49.006\nthen go to Disk Management, and\nI could work with them here as well.\n\n265\n00:13:49.006 --> 00:13:53.455\nYou'll see they don't show\nup in my GUI at the top, but\n\n266\n00:13:53.455 --> 00:13:57.515\nthey're all there and\nthey're showing as unknown and offline.\n\n267\n00:13:57.515 --> 00:13:58.495\nSo we'll do it both ways.\n\n268\n00:13:58.495 --> 00:14:00.907\nSince we're here we'll\nstart with this one.\n\n269\n00:14:00.907 --> 00:14:04.045\nI'm gonna take this first unknown disk,\nand\n\n270\n00:14:04.045 --> 00:14:06.445\nwhere you right click here is important.\n\n271\n00:14:06.445 --> 00:14:09.425\nIf I right click out here\nnotice I get nothing?\n\n272\n00:14:09.425 --> 00:14:14.240\nBecause I'm right clicking\non the space of the drive.\n\n273\n00:14:14.240 --> 00:14:16.430\nAnd that's not where I work with\nthe properties of the drive,\n\n274\n00:14:16.430 --> 00:14:18.480\nthis is where I work with volumes.\n\n275\n00:14:18.480 --> 00:14:22.090\nWhat you do is you right click over\nhere on this, what I call it a button,\n\n276\n00:14:22.090 --> 00:14:24.790\nit does kinda depress when you select it.\n\n277\n00:14:24.790 --> 00:14:27.835\nJust right click out there and\nchoose Online.\n\n278\n00:14:27.835 --> 00:14:30.216\nThat's gonna bring that disk online.\n\n279\n00:14:30.216 --> 00:14:34.303\nIt still says unknown and\nnot initialized but it's now online.\n\n280\n00:14:34.303 --> 00:14:38.126\nSo it's powered up and\nthe operating system sees it there.\n\n281\n00:14:38.126 --> 00:14:41.907\nI can right click on it again and\nchoose Initialize Disk.\n\n282\n00:14:41.907 --> 00:14:44.499\nThat's gonna bring up my little wizard for\n\n283\n00:14:44.499 --> 00:14:49.010\ninitializing the disk,\nit shows me the disk that I have selected.\n\n284\n00:14:49.010 --> 00:14:53.190\nAnd here's where I can\nchoose between GPT or MBR.\n\n285\n00:14:53.190 --> 00:14:55.920\nSo we'll do MBR for this first one,\nI'll go ahead and click OK.\n\n286\n00:14:55.920 --> 00:14:59.450\nAnd that was it, right,\n\n287\n00:14:59.450 --> 00:15:02.520\nnow you can see over here it\nis listed as Basic and Online.\n\n288\n00:15:02.520 --> 00:15:06.563\nWe'll do another one, I'll right click\non Disk 3, we'll bring it online.\n\n289\n00:15:09.839 --> 00:15:13.080\nAnd then we'll right click again and\nchoose Initialize Disk.\n\n290\n00:15:13.080 --> 00:15:16.220\nThis time I'll choose GPT and\nI'll click OK.\n\n291\n00:15:17.540 --> 00:15:21.520\nAnd you can't see any difference,\nalthough there is a little difference.\n\n292\n00:15:21.520 --> 00:15:23.215\nMaybe you guys noticed\nthe difference here.\n\n293\n00:15:25.139 --> 00:15:26.360\nSee that?\n\n294\n00:15:26.360 --> 00:15:32.180\nMy first one, 20 gigs,\nmy second one, the GPT, 19.88.\n\n295\n00:15:32.180 --> 00:15:37.150\nLittle bit of overheads storing that\nextra information about those drives,\n\n296\n00:15:37.150 --> 00:15:38.940\nthat extra copy of the array.\n\n297\n00:15:38.940 --> 00:15:43.458\nIt also does something, one thing I didn't\nmentioned there with the GTPT disks,\n\n298\n00:15:43.458 --> 00:15:44.580\nthe dynamic disks.\n\n299\n00:15:44.580 --> 00:15:50.309\nWhen you convert a disk to dynamic, right,\nand you can now create span volumes,\n\n300\n00:15:50.309 --> 00:15:53.931\nstripe volumes,\nsome of those other things Well,\n\n301\n00:15:53.931 --> 00:15:59.070\nthose are volume types that are spread\nacross more than one drive.\n\n302\n00:15:59.070 --> 00:16:01.880\nSo you create what's called\na disc family or a disc group.\n\n303\n00:16:01.880 --> 00:16:03.390\nAnd all those drives have to be present.\n\n304\n00:16:03.390 --> 00:16:08.420\nIf I've got a span drive, a span volume,\nthat goes across three physical disks,\n\n305\n00:16:08.420 --> 00:16:10.890\nthen all three of those physical\ndisks need to be present and\n\n306\n00:16:10.890 --> 00:16:12.270\nI'm gonna access that volume.\n\n307\n00:16:12.270 --> 00:16:14.520\nSo that's that little disk group.\n\n308\n00:16:14.520 --> 00:16:20.710\nThere's a table or a database called\na dynamic database management or\n\n309\n00:16:20.710 --> 00:16:25.470\na logical database management, LDM,\nthat's actually stored on the drive.\n\n310\n00:16:25.470 --> 00:16:26.900\nThat references itself and\n\n311\n00:16:26.900 --> 00:16:29.766\nthe other drives that\nare a member of that drive group.\n\n312\n00:16:29.766 --> 00:16:33.151\nSo if you have to move those drives,\nyou have to move them as a unit.\n\n313\n00:16:33.151 --> 00:16:35.763\nAnd if you only move two out of the three,\nit's gonna say wait,\n\n314\n00:16:35.763 --> 00:16:37.060\nI'm missing a family member.\n\n315\n00:16:37.060 --> 00:16:40.160\nI see the list, there should be one,\ntwo, three, one of them's missing.\n\n316\n00:16:40.160 --> 00:16:42.490\nEach drive in that group\ngets a copy of that table.\n\n317\n00:16:44.300 --> 00:16:48.878\nWith GPTs and NBRs, those are actually\nstored towards the end of the volume and\n\n318\n00:16:48.878 --> 00:16:50.190\nit was unprotected.\n\n319\n00:16:50.190 --> 00:16:54.430\nSo if that ever got damaged, then I would\nlose access to those dynamic volumes.\n\n320\n00:16:54.430 --> 00:16:55.170\nWith GPTs,\n\n321\n00:16:55.170 --> 00:16:58.650\nthey've actually carved out a little spot\nin the MS reserve of the very beginning,\n\n322\n00:16:58.650 --> 00:17:04.267\nthat teeny tiny partition, and they've put\nthat dynamic management database up there.\n\n323\n00:17:05.300 --> 00:17:09.107\nWhich protects it, keeps it a little safe,\ngives us a little redundancy there, too.\n\n324\n00:17:09.107 --> 00:17:11.539\nSomething I forgot to mention,\nI wanna throw in there, all right?\n\n325\n00:17:11.539 --> 00:17:14.685\nBut that's where some of the overhead\nis occurring with those unit\n\n326\n00:17:14.685 --> 00:17:16.210\npartition tables, all right?\n\n327\n00:17:17.870 --> 00:17:21.430\nBut other than that, there's really is\nno difference between these drives.\n\n328\n00:17:21.430 --> 00:17:26.700\nI can go create my volumes,\nI can right click New simple volume,\n\n329\n00:17:26.700 --> 00:17:29.240\nand we'll just make a quick one\nthat takes up the entire drive.\n\n330\n00:17:29.240 --> 00:17:30.880\nI'll give it a drive letter.\n\n331\n00:17:30.880 --> 00:17:35.130\nYou guys have seen all this a million\ntimes, so I'm not going too slow here.\n\n332\n00:17:36.780 --> 00:17:43.360\nI'll do another one,\nsimple volume, Next, Next, right?\n\n333\n00:17:43.360 --> 00:17:45.800\nI'm not a big fan of volume labels,\nI just keep wiping that out.\n\n334\n00:17:45.800 --> 00:17:47.707\nSorry, and I'll create that and\nI just wanna show you,\n\n335\n00:17:47.707 --> 00:17:49.711\nyou know both of them created fine,\nno difference there.\n\n336\n00:17:50.750 --> 00:17:55.030\nIf I go into File, Explore,\nI should see both of those drives here.\n\n337\n00:17:55.030 --> 00:17:57.730\nThere's local disk E and local disk F.\n\n338\n00:17:57.730 --> 00:18:01.710\nSo to the system or to me, there's\nno difference between those drives.\n\n339\n00:18:01.710 --> 00:18:05.180\nIt's all the stuff behind the scenes,\nthe larger partition size,\n\n340\n00:18:05.180 --> 00:18:11.680\nthe multiple partitions that I can create\nmore than four, and the redundancy\n\n341\n00:18:11.680 --> 00:18:16.135\nwith that partition table or\nthat partition array, all right?\n\n342\n00:18:16.135 --> 00:18:19.880\nNow if I wanna convert a drive, all right?\n\n343\n00:18:19.880 --> 00:18:24.130\nLet's say I've got this guy's NBR,\nI wanna convert it to GPT.\n\n344\n00:18:24.130 --> 00:18:29.713\nWell, I can right click on it and\nI can go to my Properties and\n\n345\n00:18:29.713 --> 00:18:34.981\nI should actually I take that back,\ndid I not do it here?\n\n346\n00:18:34.981 --> 00:18:36.988\nI might have lied to you.\n\n347\n00:18:36.988 --> 00:18:44.552\nI thought they gave me the option to\ndo it right here, evidently, I cannot.\n\n348\n00:18:44.552 --> 00:18:46.799\nIt's grayed out, why is it grayed out?\n\n349\n00:18:46.799 --> 00:18:49.903\nHmm, interesting.\n\n350\n00:18:49.903 --> 00:18:50.580\nYou know what?\n\n351\n00:18:50.580 --> 00:18:57.437\nLet's try something,\nlet's get rid of this volume, And see.\n\n352\n00:18:57.437 --> 00:19:01.187\nSure enough, that's interesting.\n\n353\n00:19:01.187 --> 00:19:02.943\nYou know what, Wes?\n\n354\n00:19:02.943 --> 00:19:06.111\nI think I was mistaken\nwhen I spoke earlier,\n\n355\n00:19:06.111 --> 00:19:11.006\nI said that you can convert this and\nit shouldn't cause a data loss.\n\n356\n00:19:11.006 --> 00:19:16.194\nI was thinking back to the days of\nconverting basic to dynamic disks,\n\n357\n00:19:16.194 --> 00:19:18.590\nnot the whole MBR to GPT.\n\n358\n00:19:18.590 --> 00:19:22.852\nBecause it has to rewrite,\nbasically, those partition tables,\n\n359\n00:19:22.852 --> 00:19:28.039\nIt's getting rid of the partition table\nand it's creating the GPT, the array.\n\n360\n00:19:28.039 --> 00:19:30.115\nI think you you have to wipe\nit before you can format it.\n\n361\n00:19:30.115 --> 00:19:32.297\nI'll have to-\n&gt;&gt; Mike, I'm not positive,\n\n362\n00:19:32.297 --> 00:19:35.020\nbut I bet if you actually\nclick that convert to GPT.\n\n363\n00:19:35.020 --> 00:19:38.830\nIt might give you one of the great Windows\nwarnings that says you're about to lose\n\n364\n00:19:38.830 --> 00:19:39.450\nall your data.\n\n365\n00:19:39.450 --> 00:19:43.638\n&gt;&gt; Yeah, let's try it,\nlet's see what it does here.\n\n366\n00:19:43.638 --> 00:19:46.814\nYeah, it's already converted to GTP,\nit did in the background and\n\n367\n00:19:46.814 --> 00:19:49.280\nnow I can right click and\nI can convert it back to MBR.\n\n368\n00:19:49.280 --> 00:19:53.820\nBut if there's a volume on there and\nthere's no data in the volume, but\n\n369\n00:19:53.820 --> 00:19:55.530\nit still will not let me convert that.\n\n370\n00:19:55.530 --> 00:19:57.950\nSo let me restate that.\n\n371\n00:19:57.950 --> 00:20:01.920\nI was in my mind, got confused, was\nthinking about converting basic to dynamic\n\n372\n00:20:01.920 --> 00:20:04.660\nbecause that you can do without data loss.\n\n373\n00:20:04.660 --> 00:20:08.030\nNBR to GPT, you're gonna have to\nwipe that partition basically,\n\n374\n00:20:08.030 --> 00:20:12.050\nback it up, blow it away, convert to\nthe drive, and then put your data back.\n\n375\n00:20:12.050 --> 00:20:14.972\nSo I apologize for misspeaking on that.\n\n376\n00:20:14.972 --> 00:20:19.465\nBut you saw how easy it was,\nall I did was delete my volume.\n\n377\n00:20:19.465 --> 00:20:21.790\nIn another world, I would have had\nto back up all the data first.\n\n378\n00:20:21.790 --> 00:20:25.560\nAnd then I simply right clicked and\nchose Convert GPT and\n\n379\n00:20:25.560 --> 00:20:27.820\nit converted it,\nbasically instantaneously.\n\n380\n00:20:27.820 --> 00:20:29.910\nI mean, it didn't take even a second.\n\n381\n00:20:29.910 --> 00:20:34.070\nI can convert it back to an MBR,\nif I choose to do so, right?\n\n382\n00:20:34.070 --> 00:20:39.183\nIn fact, let's do that,\nlet's right click, Convert disk to MBR.\n\n383\n00:20:39.183 --> 00:20:42.537\nAnd you see now the option\nsays Convert to GPT,\n\n384\n00:20:42.537 --> 00:20:46.504\nwhich means it's now an MBR-based disk,\nall right?\n\n385\n00:20:46.504 --> 00:20:51.360\nNow we can also do this from\nthe command line, using DiskPart.\n\n386\n00:20:51.360 --> 00:20:55.795\nI'll probably need, It'll prompt me for\nmy credentials here,\n\n387\n00:20:55.795 --> 00:20:58.200\nit'll escalate with the UAC.\n\n388\n00:20:58.200 --> 00:21:01.855\nSo I've opened up PowerShell and\nI'm gonna type in diskpart.\n\n389\n00:21:01.855 --> 00:21:03.124\nIt says hey, do you wanna run this?\n\n390\n00:21:03.124 --> 00:21:04.521\nI say, yes.\n\n391\n00:21:04.521 --> 00:21:07.130\nAnd here's my good old\ndiskpart command prompt.\n\n392\n00:21:07.130 --> 00:21:11.100\nAnd remember, Diskpart is my command\nline utility to manage my drives.\n\n393\n00:21:11.100 --> 00:21:15.871\nSo if I can, or what I would do is say\nselect, actually, let's do it this way.\n\n394\n00:21:15.871 --> 00:21:19.227\nLets do a list disk, all right?\n\n395\n00:21:19.227 --> 00:21:22.730\nThat's gonna show all\nthe drives I have in my system.\n\n396\n00:21:22.730 --> 00:21:24.995\nAnd I want this, which one?\n\n397\n00:21:24.995 --> 00:21:28.249\nThat one's GPT, this one is MBR.\n\n398\n00:21:28.249 --> 00:21:31.591\nThis is that second one, the one I\njust converted back to an MBR, so\n\n399\n00:21:31.591 --> 00:21:32.916\nI wanna convert that one.\n\n400\n00:21:32.916 --> 00:21:40.325\nSo I'm gonna do select Disc 2 and tells\nme that Disk 2 is now the selected disk.\n\n401\n00:21:40.325 --> 00:21:46.610\nSo I just type in convert GPT and\nit says we successfully converted.\n\n402\n00:21:46.610 --> 00:21:53.310\nSo lets do another list disk and we'll see\nthat that drive is now GPT, all right?\n\n403\n00:21:53.310 --> 00:21:57.550\nSo you can do it through the GUI by right\nclicking on the drive, not the volume or\n\n404\n00:21:57.550 --> 00:22:01.790\nyou can use Diskpart to convert that\nfrom MBR to GPT and vice versa.\n\n405\n00:22:01.790 --> 00:22:06.435\nI could do a convert MBR to switch it\nback to a master boot record-based\n\n406\n00:22:06.435 --> 00:22:08.125\ndisk, all right?\n\n407\n00:22:08.125 --> 00:22:09.965\nSo remember that command, diskpart?\n\n408\n00:22:09.965 --> 00:22:11.495\nYou do wanna be careful with this part and\n\n409\n00:22:11.495 --> 00:22:14.305\nyou wanna make sure you have\nthe right disk selected, right?\n\n410\n00:22:14.305 --> 00:22:19.875\nWhen I type these command using DiskPart,\nI'm not specifying what drive.\n\n411\n00:22:19.875 --> 00:22:22.460\nThe drive already has to be selected.\n\n412\n00:22:22.460 --> 00:22:26.927\nAnd so you could have the wrong disk\nselected very easily and issue a command,\n\n413\n00:22:26.927 --> 00:22:29.344\nand then go, uh-oh, that's not good.\n\n414\n00:22:29.344 --> 00:22:34.346\nSo I always like to do a list disk\nfirst to verify my disk numbers,\n\n415\n00:22:34.346 --> 00:22:36.303\nthen I'll do my select.\n\n416\n00:22:36.303 --> 00:22:40.330\nAnd then I'll usually do another list\ndisk to see the asterisk out here.\n\n417\n00:22:40.330 --> 00:22:41.570\nThat little asterisk,\n\n418\n00:22:41.570 --> 00:22:46.310\ntells me that that is the currently\nactive drive as far as the utility goes.\n\n419\n00:22:46.310 --> 00:22:49.135\nAny command I fire will be fired\nagainst that disk, all right?\n\n420\n00:22:50.750 --> 00:22:53.360\n&gt;&gt; And by that same association,\nMike, to jump in here.\n\n421\n00:22:53.360 --> 00:22:56.200\nHow is it that you were\ndetermining that the GPT or not?\n\n422\n00:22:56.200 --> 00:22:59.290\n&gt;&gt; I was looking at this\nlast column right here.\n\n423\n00:22:59.290 --> 00:23:00.120\nSo there's a little column for\n\n424\n00:23:00.120 --> 00:23:03.860\nGPT and these guys that have\nasterisks are the ones that are GPTs.\n\n425\n00:23:03.860 --> 00:23:07.730\nSo you can see up here,\nit was the second and fourth drive.\n\n426\n00:23:07.730 --> 00:23:12.340\nThen I selected Disk 2,\nwhich is that third drive in the list, and\n\n427\n00:23:12.340 --> 00:23:14.466\nthen I ran my command convert GPT.\n\n428\n00:23:14.466 --> 00:23:19.260\nAnd now that third one is listed\nout as a GPT as well, yeah.\n\n429\n00:23:19.260 --> 00:23:24.290\n&gt;&gt; I'll tell you, I personally do that\nsame exact thing with the list disk twice,\n\n430\n00:23:24.290 --> 00:23:27.310\njust because the clean command in that.\n\n431\n00:23:27.310 --> 00:23:28.750\nI'm not gonna tell you how I know and\n\n432\n00:23:28.750 --> 00:23:31.590\nwhy you should always verify that\nyou've selected the right disk.\n\n433\n00:23:31.590 --> 00:23:35.166\nNot that I've ever erased a disk that\nhad important information on it.\n\n434\n00:23:35.166 --> 00:23:38.890\n&gt;&gt; Yeah, yeah,\nits really easy to do in DiskPart.\n\n435\n00:23:38.890 --> 00:23:43.120\nBecause you forget that you didn't change\ndisks and you issue a command like that,\n\n436\n00:23:43.120 --> 00:23:45.050\ncome a little clean or a partition or\n\n437\n00:23:45.050 --> 00:23:48.520\nwhat have you and\nyou can wipe out all your data so.\n\n438\n00:23:48.520 --> 00:23:51.010\nI know we got a little more to go,\nWes, but\n\n439\n00:23:51.010 --> 00:23:53.380\nI think the clock is\ngetting a little low on us.\n\n440\n00:23:53.380 --> 00:23:54.640\n&gt;&gt; Yeah, so how about we go ahead,\n\n441\n00:23:54.640 --> 00:23:57.660\nwhat do you say we'll go ahead and\nstop it there for you guys.\n\n442\n00:23:57.660 --> 00:24:00.266\nWe'll leave you with another\none of Mike's cliffhangers,\n\n443\n00:24:00.266 --> 00:24:02.727\nwhich means you're gonna have\nto come back in a part two.\n\n444\n00:24:02.727 --> 00:24:07.208\nSo we'll go ahead and we'll take\nthe time to sign off here at ITProTV.\n\n445\n00:24:07.208 --> 00:24:09.453\nAnd you guys come back and\nsee us in part two.\n\n446\n00:24:09.453 --> 00:24:11.502\nSigning out here,\nI've been your host, Wes Bryan.\n\n447\n00:24:11.502 --> 00:24:12.223\n&gt;&gt; And I'm Mike Rodrick.\n\n448\n00:24:12.223 --> 00:24:14.286\n&gt;&gt; And we'll see you next time.\n\n449\n00:24:14.286 --> 00:24:21.930\n[MUSIC]\n\n",
          "vimeoId": "181126907"
        },
        {
          "description": "In this episode, Wes and Mike continue their exploration of disks and volumes inside of Windows Server 2016. They take a look at virtual hard disks and the formats associated with virtual disks such as VHD and VHDX. They demonstrate creating virtual disks inside of Disk Management and Powershell.",
          "length": "1428",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-1-2-configure_disks_and_volumes-pt2-083116-1.jpg",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-1-2-configure_disks_and_volumes-pt2-083116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-1-2-configure_disks_and_volumes-pt2-083116-1-sm.jpg",
          "title": "Configure Disks and Volumes Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.029 --> 00:00:10.029\n[MUSIC]\n\n2\n00:00:11.771 --> 00:00:15.793\nWelcome back to another exciting episode\nhere at ITPro.TV, I'm your host Wes Bryan.\n\n3\n00:00:15.793 --> 00:00:19.026\nAnd in today's episode,\nwe're coming back at you with more of\n\n4\n00:00:19.026 --> 00:00:23.115\nthat installation storage and compute\nin Windows newest iteration of server.\n\n5\n00:00:23.115 --> 00:00:25.100\nThat's right, Server 2016.\n\n6\n00:00:25.100 --> 00:00:26.350\nJoining me in the studios today for\n\n7\n00:00:26.350 --> 00:00:28.790\nthat very endeavor is none other than Mr.\nMike Rodrick.\n\n8\n00:00:28.790 --> 00:00:29.848\nMike, how you doing, sir?\n\n9\n00:00:29.848 --> 00:00:30.650\n&gt;&gt; Doing great, Wes.\n\n10\n00:00:30.650 --> 00:00:36.084\nGlad to be back and yeah, we're continuing\non with talking about volumes and discs.\n\n11\n00:00:36.084 --> 00:00:40.715\nIn our first part we took a look at NBR\nand GPT, broke down the difference there.\n\n12\n00:00:40.715 --> 00:00:44.600\nShows you how to convert back and\nforth between NBR and GPT and\n\n13\n00:00:44.600 --> 00:00:47.240\nexplain what the advantages and\ndisadvantages were.\n\n14\n00:00:47.240 --> 00:00:49.938\nNow we're gonna move into\nthe world of Virtual Hard Drives.\n\n15\n00:00:49.938 --> 00:00:53.686\nSomething else that we've gotta be\nfamiliar with, especially in this day and\n\n16\n00:00:53.686 --> 00:00:56.199\nage with all the virtualization\nthat we're doing.\n\n17\n00:00:56.199 --> 00:01:00.091\nVHD's and the VHDXs, the newer format,\nare going to come to bear,\n\n18\n00:01:00.091 --> 00:01:02.920\nthen you're gonna have to deal with those.\n\n19\n00:01:02.920 --> 00:01:04.490\nSo lets talk about that.\n\n20\n00:01:04.490 --> 00:01:10.551\nWe can work with VHD is the extension for\na Virtual Hard Drive file.\n\n21\n00:01:10.551 --> 00:01:15.256\nRemember a Virtual Hard Drive file is just\na file on your hard drive that is treated\n\n22\n00:01:15.256 --> 00:01:16.940\nlike a hard drive.\n\n23\n00:01:16.940 --> 00:01:19.280\nIt gets a little twisty when you\ntry to talk about it right, but\n\n24\n00:01:19.280 --> 00:01:22.110\nit's a file on your physical disc\n\n25\n00:01:22.110 --> 00:01:26.400\nthat the operating system is gonna see as\na hard drive, as a separate hard drive.\n\n26\n00:01:26.400 --> 00:01:29.990\nAnd we can use it just like we\ndo any other hard drive, right?\n\n27\n00:01:29.990 --> 00:01:32.676\nWe can mount it up,\nwe can store files to it.\n\n28\n00:01:32.676 --> 00:01:34.790\nWe can format it.\n\n29\n00:01:34.790 --> 00:01:37.510\nAnd you know, partition it,\nformat it, do whatever we need to do,\n\n30\n00:01:37.510 --> 00:01:39.180\njust like we would the physical disc.\n\n31\n00:01:39.180 --> 00:01:42.790\nThe difference is,\nit's a file, so I can move it.\n\n32\n00:01:42.790 --> 00:01:45.770\nThat's the big advantage\nof a VHD like that is\n\n33\n00:01:45.770 --> 00:01:49.160\nbacking it up is backing up a single file,\nfor example.\n\n34\n00:01:49.160 --> 00:01:50.510\nI can just make a copy of that file and\n\n35\n00:01:50.510 --> 00:01:53.100\nI've got a backup of\nthe entire hard drive.\n\n36\n00:01:53.100 --> 00:01:56.140\nI can move that file from\none machine to another.\n\n37\n00:01:56.140 --> 00:02:00.700\nI can unmount it from one machine, put it\non external media, or removable media,\n\n38\n00:02:00.700 --> 00:02:05.460\ntake it to another machine, copy it over,\nand then mount it back up over there.\n\n39\n00:02:05.460 --> 00:02:08.160\nI do that with several of my\nvirtuals in my test environments.\n\n40\n00:02:08.160 --> 00:02:11.520\nI have a Virtual Hard Drive that has\nall those nasty little tools that we\n\n41\n00:02:11.520 --> 00:02:12.600\nlike to play with.\n\n42\n00:02:12.600 --> 00:02:15.720\nAnd all I do is unmount it.\n\n43\n00:02:15.720 --> 00:02:19.270\nI could hook it to any virtual machine\nI want if I need access to those tools.\n\n44\n00:02:19.270 --> 00:02:22.100\nRight, so\nthey definitely have their place.\n\n45\n00:02:22.100 --> 00:02:23.790\nVHD is the old format.\n\n46\n00:02:23.790 --> 00:02:27.910\nIt's what we've had from the beginning\nof virtualization within Windows.\n\n47\n00:02:27.910 --> 00:02:30.090\nWe all now have something called VHDX.\n\n48\n00:02:30.090 --> 00:02:36.740\nSo a .VHDX, that's the new format for\nour Virtual Hard Drives.\n\n49\n00:02:36.740 --> 00:02:39.136\nAnd we're gonna work with these\nin a couple of different ways.\n\n50\n00:02:39.136 --> 00:02:42.796\nWe can work with them from PowerShell or\nwe can work with them through\n\n51\n00:02:42.796 --> 00:02:47.306\nthe GUI through Server Manager, and\nmore correctly really Computer Management.\n\n52\n00:02:47.306 --> 00:02:49.432\nAnd even more correctly\nthan that Disk Management,\n\n53\n00:02:49.432 --> 00:02:52.542\nwhich is part of Computer Management,\nwhich we get to from Server Manager.\n\n54\n00:02:52.542 --> 00:02:56.370\nSo in around about way you can use\nServer Manager to work with these guys.\n\n55\n00:02:56.370 --> 00:02:58.230\nBut we can also do it from PowerShell, and\n\n56\n00:02:58.230 --> 00:03:02.550\nI'm going to show you both because\nboth will be important for the exam.\n\n57\n00:03:02.550 --> 00:03:06.440\nSo what I want to do, I've still got\nComputer Management open from the last\n\n58\n00:03:06.440 --> 00:03:08.430\npart, let’s close that for a second.\n\n59\n00:03:08.430 --> 00:03:10.860\nAnd we'll jump back out to\nthe beginning of Server Manager.\n\n60\n00:03:12.046 --> 00:03:15.720\nWhat I wanna do is I want to\ncreate a Virtual Hard Drive.\n\n61\n00:03:15.720 --> 00:03:17.740\nSo I'm going to go to Tools.\n\n62\n00:03:17.740 --> 00:03:18.810\nAnd then Computer Management.\n\n63\n00:03:21.080 --> 00:03:24.120\nAnd from Computer Management I'm\ngonna select Disk Management.\n\n64\n00:03:24.120 --> 00:03:25.820\nLet's maximize this guy.\n\n65\n00:03:27.650 --> 00:03:30.410\nAnd you can either right-click\non Disk Management or\n\n66\n00:03:30.410 --> 00:03:33.737\nyou can go up to your Action menu\nwith Disk Management selected.\n\n67\n00:03:33.737 --> 00:03:39.160\nAnd you see I have two options here,\nI have Create and Attach VHDs.\n\n68\n00:03:39.160 --> 00:03:41.060\nSo I'll choose create a VHD, and\n\n69\n00:03:41.060 --> 00:03:45.370\nI have to give it the location\nwhere I want to store it.\n\n70\n00:03:45.370 --> 00:03:47.810\nSo let me just browse and\nsee what I got on this machine.\n\n71\n00:03:47.810 --> 00:03:52.360\nHey, I'll use one of our new drives that\nwe just created there and I'll call it\n\n72\n00:03:52.360 --> 00:03:57.870\nDisk 1, just for giggles,\nand I'll click Save.\n\n73\n00:03:57.870 --> 00:04:00.270\nNow notice that the type here,\nI have choices.\n\n74\n00:04:00.270 --> 00:04:04.560\nI can do VHD, VHDX, really it\ndoesn't really matter what you pick\n\n75\n00:04:04.560 --> 00:04:07.150\nthere because you have\nthe radio buttons here.\n\n76\n00:04:07.150 --> 00:04:10.320\nI'll zoom in a little bit where\nI can choose VHD or VHDX.\n\n77\n00:04:10.320 --> 00:04:13.610\nIf I change that you'll see\nit changes the extension,\n\n78\n00:04:13.610 --> 00:04:15.600\nup here it puts that little x on there.\n\n79\n00:04:15.600 --> 00:04:18.720\nIf you go back to VHD it takes that x off.\n\n80\n00:04:18.720 --> 00:04:21.340\n&gt;&gt; Mike, I also see some defaults\nhappening in the background with those\n\n81\n00:04:21.340 --> 00:04:22.030\nradio buttons.\n\n82\n00:04:22.030 --> 00:04:24.650\nIt looks like something's\nhappening together with them.\n\n83\n00:04:24.650 --> 00:04:27.650\nLike, I noticed when you changed\n\n84\n00:04:27.650 --> 00:04:32.310\nVHD to VHDX the bottom radio button\nseems to change around as well.\n\n85\n00:04:32.310 --> 00:04:33.256\nCan you tell us about that.\n\n86\n00:04:33.256 --> 00:04:38.174\n&gt;&gt; Yeah well, with VHDs we could use\ndynamically expanding drives but\n\n87\n00:04:38.174 --> 00:04:41.375\nit wasn't really a very efficient system.\n\n88\n00:04:41.375 --> 00:04:44.901\nWith VHDXs they got much better at\nthe way they handle dynamic disks and\n\n89\n00:04:44.901 --> 00:04:47.370\nit actually defaults to\nthat as you were saying.\n\n90\n00:04:48.600 --> 00:04:50.110\nLet me switch it back here.\n\n91\n00:04:50.110 --> 00:04:53.490\nSo you can see with VHD,\nFixed size is recommended, but\n\n92\n00:04:53.490 --> 00:04:59.140\nwith VHDX, Dynamically expanding is\nactually the recommended format.\n\n93\n00:04:59.140 --> 00:05:03.210\nI'll tell you,\nMicrosoft says that the performance for\n\n94\n00:05:03.210 --> 00:05:07.299\nthe dynamically expanding\nVirtual Hard Drives is good.\n\n95\n00:05:07.299 --> 00:05:10.605\nI still don't see them being used in\nproduction environments that much because\n\n96\n00:05:10.605 --> 00:05:11.550\nof some other issues.\n\n97\n00:05:11.550 --> 00:05:14.990\nIt might not be performance, but\nfragmentation becomes a real problem.\n\n98\n00:05:14.990 --> 00:05:18.470\nAnd let's discuss what they mean\nby fixed and dynamic real quick.\n\n99\n00:05:18.470 --> 00:05:22.450\nWhen you create a VHD,\nif you choose fixed,\n\n100\n00:05:22.450 --> 00:05:25.970\nif I create a 10GB Virtual Hard Drive,\n\n101\n00:05:25.970 --> 00:05:30.880\nit's gonna go grab ten gigabytes of\nphysical disk space, and claim it.\n\n102\n00:05:30.880 --> 00:05:34.260\nAnd say this is used for\nthis Virtual Hard Drive.\n\n103\n00:05:34.260 --> 00:05:37.930\nThis space is now allocated to this VHD.\n\n104\n00:05:37.930 --> 00:05:41.270\nWhereas a dynamically\nexpanding 10GB hard drive,\n\n105\n00:05:41.270 --> 00:05:43.590\nwould take up a few megs at the beginning.\n\n106\n00:05:43.590 --> 00:05:49.910\nAnd as I add data to that drive,\nit'll grow to a maximum of 10GB.\n\n107\n00:05:49.910 --> 00:05:51.870\nThat's that initial size that I set.\n\n108\n00:05:51.870 --> 00:05:54.440\nSo it doesn't claim all\nthe space right away.\n\n109\n00:05:54.440 --> 00:05:56.730\nAnd that's really where we can\nrun into some of the issues.\n\n110\n00:05:56.730 --> 00:06:01.390\nBecause we understand the way hard\ndrives write data to hard drives.\n\n111\n00:06:01.390 --> 00:06:03.490\nWe fill it in as we go.\n\n112\n00:06:03.490 --> 00:06:06.247\nAnd so if I create this\ndynamically expanding drive, but\n\n113\n00:06:06.247 --> 00:06:10.096\nit's only taken 500MG of disk space,\nthen I start creating other things and\n\n114\n00:06:10.096 --> 00:06:14.077\nwriting other things to the disk, that's\ngets written right around that drive.\n\n115\n00:06:14.077 --> 00:06:17.257\nAnd when it goes to expand,\nit now has to go and look for\n\n116\n00:06:17.257 --> 00:06:20.530\nfree disk space somewhere\nelse on that platter.\n\n117\n00:06:20.530 --> 00:06:26.410\nAnd now my Virtual Hard Drive is stored in\nmore than one location on the hard drive.\n\n118\n00:06:26.410 --> 00:06:27.998\nAgain, twisty, I know.\n\n119\n00:06:27.998 --> 00:06:32.000\nThe Virtual Hard Drive is now in several\npieces on my physical hard drive.\n\n120\n00:06:32.000 --> 00:06:36.430\nSo that means as it's reading from the\ndrive, at some point it has to stop and\n\n121\n00:06:36.430 --> 00:06:37.560\ndo another seek.\n\n122\n00:06:37.560 --> 00:06:41.910\nAnd find the next part of the Virtual Hard\nDrive to continue the read operation.\n\n123\n00:06:41.910 --> 00:06:43.435\nWhich is gonna cause a performance hit.\n\n124\n00:06:43.435 --> 00:06:50.500\nAnd to defrag it,\ntrying to think of the best way to say it.\n\n125\n00:06:50.500 --> 00:06:55.350\nYou have to defrag the physical disk\nto defrag the Virtual Hard Drive.\n\n126\n00:06:55.350 --> 00:06:58.350\nAnd I'm not talking about fragmentation\nwithin the Virtual Hard Drive cuz we can\n\n127\n00:06:58.350 --> 00:07:01.070\nstill have fragmentation in there.\n\n128\n00:07:01.070 --> 00:07:03.350\nIf that doesn't get too twisty for you.\n\n129\n00:07:03.350 --> 00:07:05.620\nAll right, so in the end,\n\n130\n00:07:05.620 --> 00:07:09.260\nwhat I'm trying to say is dynamic\ndisks can have some issues with that.\n\n131\n00:07:09.260 --> 00:07:12.520\nThey're great for test environments, where\nI don't need to claim all that space.\n\n132\n00:07:12.520 --> 00:07:15.929\nI'm not really worried about the small\nperformance hit I might get,\n\n133\n00:07:15.929 --> 00:07:16.940\nthen we're great.\n\n134\n00:07:16.940 --> 00:07:21.702\nIn production environment we're most\nlikely gonna be using a fixed size\n\n135\n00:07:21.702 --> 00:07:23.038\ndisk for the RPHDs.\n\n136\n00:07:23.038 --> 00:07:26.872\nYou can also see right here,\nthey tell us some of the differences,\n\n137\n00:07:26.872 --> 00:07:28.796\nVHD's maxed out at 2TB in size.\n\n138\n00:07:28.796 --> 00:07:33.980\nVHDX went up to 64TB and\nthey handle power failures better.\n\n139\n00:07:33.980 --> 00:07:40.213\nThey didn't become corrupt in\nthe event of a power failure.\n\n140\n00:07:40.213 --> 00:07:41.000\nLet's see what else we do.\n\n141\n00:07:41.000 --> 00:07:42.290\nThat should be good for that.\n\n142\n00:07:42.290 --> 00:07:43.710\nSo lets make one.\n\n143\n00:07:43.710 --> 00:07:46.832\nLets go ahead and\njust say we wanna do ten,\n\n144\n00:07:46.832 --> 00:07:51.480\nI'm gonna do lets do 5GB,\nthat won't take too long.\n\n145\n00:07:51.480 --> 00:07:52.952\nI get my mouse back here.\n\n146\n00:07:52.952 --> 00:08:00.235\nWould do 5GB and I'm gonna do a fixed\nsize VHDX and I'm gonna click OK.\n\n147\n00:08:00.235 --> 00:08:03.657\nAll right, it's gonna create that disc.\n\n148\n00:08:06.169 --> 00:08:09.531\nAnd as soon as my mouse\nstarts playing again.\n\n149\n00:08:11.710 --> 00:08:13.940\nLet's see if we can see it yet.\n\n150\n00:08:13.940 --> 00:08:16.240\nAnd now we should, once it.\n\n151\n00:08:16.240 --> 00:08:17.720\nThat's what it is, I'm zoomed out.\n\n152\n00:08:17.720 --> 00:08:19.890\nI was like, where did my task bar go?\n\n153\n00:08:19.890 --> 00:08:21.970\nI go into file explorer.\n\n154\n00:08:21.970 --> 00:08:24.560\nNow it's still creating\nthe virtual disc at this point.\n\n155\n00:08:24.560 --> 00:08:26.360\nLet me move this out of the way.\n\n156\n00:08:26.360 --> 00:08:30.440\nAnd it's taking a little bit of time and\nthat's because it's a fixed drive.\n\n157\n00:08:30.440 --> 00:08:34.510\nIt has to go out and\nclaim that space, okay?\n\n158\n00:08:35.570 --> 00:08:37.830\nIt's taking a really long time actually.\n\n159\n00:08:37.830 --> 00:08:38.770\nLet me close this.\n\n160\n00:08:38.770 --> 00:08:41.366\nMaybe it's mad because I'm opening\nFile Explorer while it's doing this.\n\n161\n00:08:41.366 --> 00:08:49.110\nIt's at 67%,\nit's almost done here creating that.\n\n162\n00:08:49.110 --> 00:08:51.850\nYou know, so with the fix,\nit is gonna have to create and\n\n163\n00:08:51.850 --> 00:08:54.400\nyou can see up there\nwent away as we changed.\n\n164\n00:08:54.400 --> 00:08:57.790\nIt was right down here in the bottom\nright-hand corner where I could see that\n\n165\n00:08:57.790 --> 00:08:58.940\nprogress bar.\n\n166\n00:08:58.940 --> 00:09:02.900\nNow if I go to File Explorer and\nI look on our new drive over there,\n\n167\n00:09:02.900 --> 00:09:05.750\nthere is disk one that I just created.\n\n168\n00:09:05.750 --> 00:09:08.340\nNotice the size is 5 GB in size.\n\n169\n00:09:08.340 --> 00:09:11.950\nEven though there's no data in there,\nI just created that disk.\n\n170\n00:09:11.950 --> 00:09:14.420\nIt doesn't even have\na file system on it yet.\n\n171\n00:09:14.420 --> 00:09:15.550\nIt's 5 GB in size.\n\n172\n00:09:15.550 --> 00:09:17.500\nWe go back over here.\n\n173\n00:09:17.500 --> 00:09:20.040\nAnd let's do that one more time, action.\n\n174\n00:09:20.040 --> 00:09:24.210\nCreate VHD and I'll keep apples to apples.\n\n175\n00:09:24.210 --> 00:09:25.690\nI'll call this disk two.\n\n176\n00:09:26.760 --> 00:09:29.400\nI'll do VHD X again but\n\n177\n00:09:29.400 --> 00:09:35.080\nthis time I'll do dynamically expanding\nfive gigabytes and let's time this one.\n\n178\n00:09:37.450 --> 00:09:38.610\nOops.\n\n179\n00:09:38.610 --> 00:09:40.190\nI misnamed that guy there.\n\n180\n00:09:40.190 --> 00:09:41.730\nLet me try that one more time.\n\n181\n00:09:41.730 --> 00:09:42.820\nCreate VHD.\n\n182\n00:09:42.820 --> 00:09:46.700\nLet me give it a location of where to\ncreate that and we'll call it Disk 2.\n\n183\n00:09:46.700 --> 00:09:52.880\nAnd we'll make sure we're doing a VHDX,\nfive gigabytes in size.\n\n184\n00:09:52.880 --> 00:09:58.530\nAnd this time dynamic and\nwe'll click Okay.\n\n185\n00:09:58.530 --> 00:10:01.950\nAnd you might have seen it just for\na second it flashed, it's already done.\n\n186\n00:10:01.950 --> 00:10:06.640\nIf we go over here and look,\nthere's this two, but look at the size.\n\n187\n00:10:06.640 --> 00:10:10.670\nTalking about 4 megabytes\nin size versus 5 gigabytes.\n\n188\n00:10:11.800 --> 00:10:13.030\nBut both are usable, all right?\n\n189\n00:10:13.030 --> 00:10:18.790\nOne is just gonna expand as we need\nthe space, it will grow up to 5 gigabytes.\n\n190\n00:10:18.790 --> 00:10:21.330\nThis first one is already 5 gigabytes.\n\n191\n00:10:21.330 --> 00:10:22.920\nAll right.\n\n192\n00:10:22.920 --> 00:10:26.210\nSo now that I've got those guys created,\nhow do I use it?\n\n193\n00:10:26.210 --> 00:10:29.870\nWell, we just need to mount them up,\nand we can do that from the same menu,\n\n194\n00:10:29.870 --> 00:10:36.040\nAction and Attach VHD and\nthen we'll browse and find that guy.\n\n195\n00:10:36.040 --> 00:10:39.520\nI'll grab disk one and\nclick Open and click Okay.\n\n196\n00:10:41.380 --> 00:10:45.310\nAnd looks like it already attached it, so\none of the things you'll find if you do\n\n197\n00:10:45.310 --> 00:10:48.660\nthis through PowerShell,\nyou have to manually attach it.\n\n198\n00:10:48.660 --> 00:10:52.170\nWhen I do it through the GUI,\nit doesn't seem like it's every time, but\n\n199\n00:10:52.170 --> 00:10:55.880\nnormally when I create one through\nthe GUI it will attach it, so\n\n200\n00:10:55.880 --> 00:10:57.770\nlet's see if we can see that in here.\n\n201\n00:10:59.160 --> 00:11:04.190\nThere are my two drives and\nthey are attached.\n\n202\n00:11:04.190 --> 00:11:05.970\nThey're just showing as unknown.\n\n203\n00:11:05.970 --> 00:11:10.630\nIf it hadn't attached it, then I would\njust simply go up to action, attach VHD,\n\n204\n00:11:10.630 --> 00:11:15.490\nI would have browsed and\nfound the VHD that I wanted to attach.\n\n205\n00:11:15.490 --> 00:11:17.060\nBut just like a normal disk,\n\n206\n00:11:17.060 --> 00:11:20.630\nonce you get to this point,\nyou treat it like a normal drive.\n\n207\n00:11:20.630 --> 00:11:22.320\nIt still has to be initialized.\n\n208\n00:11:22.320 --> 00:11:24.600\nWe still have to choose what\nwe're gonna do with it.\n\n209\n00:11:24.600 --> 00:11:27.310\nIf I right click on here,\nchoose initialize disk.\n\n210\n00:11:28.410 --> 00:11:33.530\nSpecify what you wanna do, mbr gpt,\njust like we did on a physical disk.\n\n211\n00:11:33.530 --> 00:11:35.400\nI'll go and do both of them and I'll do.\n\n212\n00:11:35.400 --> 00:11:39.380\nI'll leave them as,\nlet's do gpt since we're filling new.\n\n213\n00:11:39.380 --> 00:11:41.221\nAnd I'll click okay, all right?\n\n214\n00:11:41.221 --> 00:11:45.290\nSo there they are, and then I can\nright click and create new volume.\n\n215\n00:11:45.290 --> 00:11:47.690\nNow I'm just gonna this a little quick\njust to make a volume that takes up\n\n216\n00:11:47.690 --> 00:11:48.290\nthe entire drive.\n\n217\n00:11:48.290 --> 00:11:51.850\nNow I'll do the same\nthing on the other one.\n\n218\n00:11:54.760 --> 00:11:55.720\nNew simple volume.\n\n219\n00:11:57.650 --> 00:11:58.680\nJust take off the entire drive.\n\n220\n00:11:58.680 --> 00:11:59.510\nAll the defaults.\n\n221\n00:12:01.110 --> 00:12:04.820\nAnd if I go to File Explorer\nnow I should see,\n\n222\n00:12:04.820 --> 00:12:08.120\nwe'll have to make this\na little bit bigger.\n\n223\n00:12:12.360 --> 00:12:13.730\nE was one of them.\n\n224\n00:12:13.730 --> 00:12:17.130\nAll right, if I pull up the properties,\nthis guy's going to be 5 GB in size.\n\n225\n00:12:18.640 --> 00:12:23.240\nAnd if I look at G which is\nthe other new one, properties.\n\n226\n00:12:23.240 --> 00:12:27.150\nThose access 5 gigs in size,\nbut the difference here is,\n\n227\n00:12:27.150 --> 00:12:32.740\nit does not show me\nthe size on disk there but\n\n228\n00:12:32.740 --> 00:12:36.830\nthey are both showing as 5 gigabytes in\nsize, even the dynamically expanding one.\n\n229\n00:12:36.830 --> 00:12:40.280\nThe operating system see's it as\nfive gigs, because if it didn't,\n\n230\n00:12:40.280 --> 00:12:43.590\nthen when you try to save a file to it,\nit'll say there's no free space in here.\n\n231\n00:12:43.590 --> 00:12:46.140\nAs I save data to it,\nit'll expand that drive out.\n\n232\n00:12:46.140 --> 00:12:50.240\nThe physical file size will\ngrow up to that five gigabytes.\n\n233\n00:12:51.440 --> 00:12:55.040\nDoing it through computer management,\npretty straight forward.\n\n234\n00:12:55.040 --> 00:12:58.140\nI'll show you, let me un-mount one and\nthe I'll re-mount it.\n\n235\n00:12:59.170 --> 00:13:04.190\nRight, I'm just gonna right click on\nit and choose attach VHD and okay.\n\n236\n00:13:05.360 --> 00:13:06.180\nNow it's gonna go away,\n\n237\n00:13:06.180 --> 00:13:09.220\nit's not gonna be available through\nthe operating system anymore.\n\n238\n00:13:09.220 --> 00:13:12.910\nIf I want to re-attach it, maybe I've\ncopied it to remove all media and\n\n239\n00:13:12.910 --> 00:13:16.200\nthen taken it to another machine and\nwant to use it over there.\n\n240\n00:13:16.200 --> 00:13:23.570\nI simply action, attach VHD,\nfind that drive, click open,\n\n241\n00:13:24.800 --> 00:13:27.730\nand the other option I'll point out\nwhile we're here is this read only.\n\n242\n00:13:27.730 --> 00:13:31.010\nThat's a very handy one if I'm moving\nsomething like my tools drive.\n\n243\n00:13:31.010 --> 00:13:33.050\nI don't want to write\nthings to that drive.\n\n244\n00:13:33.050 --> 00:13:35.730\nI can mark it as read\nonly when I mount it,\n\n245\n00:13:35.730 --> 00:13:37.790\nthat way no changed will be made to it.\n\n246\n00:13:37.790 --> 00:13:40.530\nI don't want my, if I plug it into\na machine that has antivirus and\n\n247\n00:13:40.530 --> 00:13:44.480\nit sees that drive and start scanning it,\nit yanks half my tools and\n\n248\n00:13:44.480 --> 00:13:47.260\nthen I have to go download all\nthose tools again and find them.\n\n249\n00:13:47.260 --> 00:13:49.820\nSo that is a nice option there for\nread only.\n\n250\n00:13:49.820 --> 00:13:54.420\nI'll click okay and it should pop\nright back in, and there it is.\n\n251\n00:13:55.450 --> 00:13:58.770\nAll right, so working with it\nthrough computer management and\n\n252\n00:13:58.770 --> 00:14:01.270\nmore correctly again disk management.\n\n253\n00:14:01.270 --> 00:14:05.590\nYou can right click, create and\nthen right click, attach.\n\n254\n00:14:05.590 --> 00:14:08.620\nAnd then once you've done that\nthey're just like any other drive, you\n\n255\n00:14:08.620 --> 00:14:14.210\nwould format them, create your partitions\nand format them as you do a normal drive.\n\n256\n00:14:14.210 --> 00:14:18.070\nNow we can also work with\nthese through Powershell and\n\n257\n00:14:18.070 --> 00:14:21.180\na lot of times we do Powershell\nbecause we want to script it.\n\n258\n00:14:21.180 --> 00:14:25.600\nSo let me open up and administrative\ncommand prompt or a Powershell prompt.\n\n259\n00:14:25.600 --> 00:14:28.260\nAnd let's take a look at\nthe commands we have here.\n\n260\n00:14:28.260 --> 00:14:33.630\nThe first one we need to be\nfamiliar with is new dash v, h, d.\n\n261\n00:14:33.630 --> 00:14:39.020\nAnd let's see if we can do\na quick get dash command.\n\n262\n00:14:41.230 --> 00:14:42.050\nV, h, d.\n\n263\n00:14:42.050 --> 00:14:46.390\nAnd you'll see we have\na few different ones.\n\n264\n00:14:46.390 --> 00:14:51.390\nConvert VHD dismount get, get set,\nsnapshot, merges, mounts, so\n\n265\n00:14:51.390 --> 00:14:56.030\nthere's a storage module that comes\nwith PowerShell that gives me access\n\n266\n00:14:56.030 --> 00:15:00.140\nto the commands that I can use to work\nwith my virtual hard drives, right?\n\n267\n00:15:00.140 --> 00:15:05.140\nThe one we're gonna use first\nis going to be our new dash VHD.\n\n268\n00:15:05.140 --> 00:15:11.490\nRight, there are several parameters\nthat I can use with these switches.\n\n269\n00:15:11.490 --> 00:15:14.330\nLet me just run through a little,\n\n270\n00:15:14.330 --> 00:15:17.240\nI've typed up a list because I don't\nremember all of them by heart.\n\n271\n00:15:17.240 --> 00:15:18.080\nBut let me take a look.\n\n272\n00:15:18.080 --> 00:15:21.660\nA few of them that you're going to\nwant to use are going to be path.\n\n273\n00:15:21.660 --> 00:15:25.770\nPath is going to specify where\nyou're going to create the VHD at,\n\n274\n00:15:25.770 --> 00:15:29.830\nlike what physical disk you're\ngoing to be creating the VHD on.\n\n275\n00:15:29.830 --> 00:15:34.060\nAnd when I say VHD ,remember I'm just\ntalking about a virtual hard drive,\n\n276\n00:15:34.060 --> 00:15:35.000\nnot the format.\n\n277\n00:15:35.000 --> 00:15:38.160\nIt could be a VHD, it could be a dot VHDX.\n\n278\n00:15:38.160 --> 00:15:41.820\nOther ones that you may want to use,\nyou could do fixed or dynamic.\n\n279\n00:15:41.820 --> 00:15:43.520\nSpecify the size.\n\n280\n00:15:43.520 --> 00:15:45.370\nA few others.\n\n281\n00:15:45.370 --> 00:15:47.595\nComputer name, that's an interesting one.\n\n282\n00:15:47.595 --> 00:15:51.835\nComputer name lets you create\nthe VHD on a different computer.\n\n283\n00:15:51.835 --> 00:15:55.015\nAssuming you have all your\nremote management configured and\n\n284\n00:15:55.015 --> 00:15:59.126\nyour permissions, you can actually create\nthe VHD on a different machine, so\n\n285\n00:15:59.126 --> 00:16:00.760\nbasically doing it remotely.\n\n286\n00:16:00.760 --> 00:16:03.190\nIf you leave that out Computer name.\n\n287\n00:16:03.190 --> 00:16:08.237\nIt defaults to the local system,\nor you could do a -computername.,\n\n288\n00:16:08.237 --> 00:16:11.870\nto specify, or you can even say local.\n\n289\n00:16:11.870 --> 00:16:14.330\nBut if you just leave it out,\nit defaults to local.\n\n290\n00:16:14.330 --> 00:16:17.190\n&gt;&gt; Mike, now, that's pretty interesting,\nhere, if I can jump in now.\n\n291\n00:16:17.190 --> 00:16:19.210\nSo, if you've got, let's say,\n\n292\n00:16:19.210 --> 00:16:22.670\non another Hyper-V host, and\nyou decide you've got PS remoting set up.\n\n293\n00:16:22.670 --> 00:16:25.550\nNow this is a native command that PS\nremoting will allow me to connect to that\n\n294\n00:16:25.550 --> 00:16:27.790\nmachine, and\nI don't even have to be there.\n\n295\n00:16:27.790 --> 00:16:31.295\n&gt;&gt; Yeah, I don't even have to open up\na PS session, I can do it from here,\n\n296\n00:16:31.295 --> 00:16:35.480\n-computername and that'll fire\nthe command on the other machine.\n\n297\n00:16:35.480 --> 00:16:36.970\n&gt;&gt; That's really cool.\n\n298\n00:16:36.970 --> 00:16:39.720\n&gt;&gt; It is and it's especially useful cuz\n\n299\n00:16:39.720 --> 00:16:43.080\nyou're everyday box is probably your\nWindows 10 machine that you're sitting at.\n\n300\n00:16:43.080 --> 00:16:46.320\nAnd you need to create a new VHD\nup on that Hyper-V server, so\n\n301\n00:16:46.320 --> 00:16:48.690\nthat you can do it this way, all right.\n\n302\n00:16:48.690 --> 00:16:50.200\nWhat else do I want to talk about?\n\n303\n00:16:50.200 --> 00:16:53.140\nCredential, if you need to provide\ncredentials, especially if you're\n\n304\n00:16:53.140 --> 00:16:56.080\ndoing it on a remote machine,\nyou can specify their credentials.\n\n305\n00:16:56.080 --> 00:16:59.030\nOr if you're doing it on a drive or\nif you don't have write access,\n\n306\n00:16:59.030 --> 00:17:00.830\nyou can specify credentials.\n\n307\n00:17:00.830 --> 00:17:04.870\nYou can also set the block size and\nthe logical sector byte sizes.\n\n308\n00:17:04.870 --> 00:17:10.790\nThe path again, the physical path\nto where you're creating the VHD.\n\n309\n00:17:10.790 --> 00:17:11.610\nWhat else?\n\n310\n00:17:11.610 --> 00:17:15.420\nYou can create differencing\ndisks from PowerShell.\n\n311\n00:17:15.420 --> 00:17:18.522\nA differencing disk, let's make sure\nwe're familiar with this terminology.\n\n312\n00:17:18.522 --> 00:17:22.987\nA lot of these terminology is gonna come\nback in more detail when we get into\n\n313\n00:17:22.987 --> 00:17:24.872\nthe virtualization modules.\n\n314\n00:17:24.872 --> 00:17:28.165\nAs we're going to those episodes\nwe'll talk a little bit more about\n\n315\n00:17:28.165 --> 00:17:30.030\nwhat some of this stuff means.\n\n316\n00:17:30.030 --> 00:17:33.560\nBut a differencing disk\nis a way to create a VHD\n\n317\n00:17:33.560 --> 00:17:37.840\nthat just stores the differences\nfrom what we call a base VHD.\n\n318\n00:17:37.840 --> 00:17:39.940\nI use these in test environments a lot.\n\n319\n00:17:39.940 --> 00:17:45.250\nI might install 2016 Server\non one Virtual Hard Drive,\n\n320\n00:17:45.250 --> 00:17:48.420\nbut I need three 2016 Servers.\n\n321\n00:17:48.420 --> 00:17:51.480\nSo I create three differencing disks\n\n322\n00:17:51.480 --> 00:17:56.070\nbased off of that one parent\ndisk that's got 2016 installed.\n\n323\n00:17:56.070 --> 00:17:58.490\nAnd then I can take one of them and\ninstall DNS on it.\n\n324\n00:17:58.490 --> 00:18:01.230\nI can take another one and\ninstall DHTP on it.\n\n325\n00:18:01.230 --> 00:18:05.530\nThose installations are stored on the\ndifferencing disk, not the base disk or\n\n326\n00:18:05.530 --> 00:18:07.710\nthe parent disk, that doesn't change.\n\n327\n00:18:07.710 --> 00:18:10.730\nThat is common between all\nthree of the virtual machines.\n\n328\n00:18:10.730 --> 00:18:16.097\nSo when you use the switch differencing,\nyou also have to use the switch -parent\n\n329\n00:18:16.097 --> 00:18:20.382\nto tell it where that base or parent\nVirtual Hard Drive is going to be found.\n\n330\n00:18:20.382 --> 00:18:23.320\nAll right, and there's a few others,\n\n331\n00:18:23.320 --> 00:18:26.100\nI'm not gonna go every single switch so\nthat we can use.\n\n332\n00:18:26.100 --> 00:18:28.600\nYou can always do you're help\ncommands within PowerShell\n\n333\n00:18:28.600 --> 00:18:30.420\nto find out about more of those.\n\n334\n00:18:30.420 --> 00:18:32.090\nLet's go ahead and try and create one.\n\n335\n00:18:32.090 --> 00:18:34.920\nWhat was that drive I was using?\n\n336\n00:18:34.920 --> 00:18:36.220\nF:, I believe.\n\n337\n00:18:36.220 --> 00:18:38.900\nYeah we'll put it on F where\nwe're putting all the other ones.\n\n338\n00:18:38.900 --> 00:18:43.718\nSo I'm gonna put new VHD -path\n\n339\n00:18:43.718 --> 00:18:48.180\nthen I'll do F:/disk3.\n\n340\n00:18:48.180 --> 00:18:52.050\nAnd here's where you choose\nbetween VHD and VHDX.\n\n341\n00:18:52.050 --> 00:18:55.120\nNotice I never set any parameters\nabout hey, what do you wanna do.\n\n342\n00:18:55.120 --> 00:18:57.153\nDo you wanna make a VHD or a VHDX?\n\n343\n00:18:57.153 --> 00:19:00.350\nBecause you actually choose\nthat by naming the file.\n\n344\n00:19:00.350 --> 00:19:03.860\nIf I name it VHD, it'll be a VHD disk.\n\n345\n00:19:03.860 --> 00:19:09.649\nIf I do VHDX,\nit'll be a VHDX based Virtual Hard Drive.\n\n346\n00:19:09.649 --> 00:19:14.698\nLet's do VHDX, I'm gonna do a dynamic,\n\n347\n00:19:14.698 --> 00:19:17.449\nthe expanding drive.\n\n348\n00:19:17.449 --> 00:19:20.297\nThe other thing you'd want\nto do is a size bite,\n\n349\n00:19:20.297 --> 00:19:23.232\nso I don't think I mentioned that,\nsize bites.\n\n350\n00:19:23.232 --> 00:19:28.092\nAnd this is gonna be the size in bytes,\nso if we do 5GB,\n\n351\n00:19:28.092 --> 00:19:34.994\nthat's five megabytes, kilobytes,\nbytes, that'll be a ballpark 5GB.\n\n352\n00:19:34.994 --> 00:19:37.746\nI know it's a little more than that but\nthe number should be bigger but\n\n353\n00:19:37.746 --> 00:19:40.620\nthat's close enough for\ngovernment work right?\n\n354\n00:19:40.620 --> 00:19:41.490\nAnd I'll just hit Enter.\n\n355\n00:19:42.760 --> 00:19:45.420\nAnd you can see it's gonna go out and\ncreate it and because it's dynamic,\n\n356\n00:19:45.420 --> 00:19:47.160\nit's almost instant, right.\n\n357\n00:19:47.160 --> 00:19:53.130\nAnd here I can see that the size\nis gonna be 5000000 bytes.\n\n358\n00:19:53.130 --> 00:19:56.760\nWhat else do we really\nwanna check from here?\n\n359\n00:19:56.760 --> 00:20:00.117\nAnd that's the actual physical disk size,\nright,\n\n360\n00:20:00.117 --> 00:20:03.240\n4MB, just like we saw when we\ncreated it through the GUI.\n\n361\n00:20:03.240 --> 00:20:05.060\nIn fact, let's go check it out.\n\n362\n00:20:05.060 --> 00:20:08.220\nThere is disk, where is disk3?\n\n363\n00:20:08.220 --> 00:20:15.396\nThere is disk 3, and\nit's four megs in size, right.\n\n364\n00:20:15.396 --> 00:20:18.297\nSee the other one has grown,\nremember disk2 was also four megs,\n\n365\n00:20:18.297 --> 00:20:19.415\nthat was a dynamic disc.\n\n366\n00:20:19.415 --> 00:20:22.547\nBut as soon as I mounted it up and\ncreated a volume on it,\n\n367\n00:20:22.547 --> 00:20:25.548\nthat means we're writing\npartition information,\n\n368\n00:20:25.548 --> 00:20:30.620\nwe're adding a file system to it, and\nyou can see it's now up to 167 megabytes.\n\n369\n00:20:30.620 --> 00:20:32.900\nSo it's growing as we\nwrite information to it.\n\n370\n00:20:32.900 --> 00:20:34.510\n&gt;&gt; So Mike, you just created the VHD,\n\n371\n00:20:34.510 --> 00:20:37.220\nwhat command do we need to use\nin order to work with that VHD?\n\n372\n00:20:37.220 --> 00:20:39.650\nBecause at this point it is a VHD file but\n\n373\n00:20:39.650 --> 00:20:41.750\nit still is just a file at this point,\nright?\n\n374\n00:20:41.750 --> 00:20:44.770\nWe can't work with it yet,\nam I understanding that right?\n\n375\n00:20:44.770 --> 00:20:49.190\n&gt;&gt; Yes, because just like when we created\nit through the GUI, there it is but\n\n376\n00:20:49.190 --> 00:20:51.940\nit's not mounted, so\nthe operating system doesn't see it yet.\n\n377\n00:20:51.940 --> 00:20:56.785\nAnd it's just a file on my physical disk,\nso what I need to do is mount it up.\n\n378\n00:20:56.785 --> 00:21:01.094\nAnd at this point I could go back to\nthe GUI, right-click on Disk Management,\n\n379\n00:21:01.094 --> 00:21:02.738\nand I could mount it that way.\n\n380\n00:21:02.738 --> 00:21:07.786\nBut of course, there's PowerShell\ncommands for that as well,\n\n381\n00:21:07.786 --> 00:21:14.146\nand it is mount, in fact we should have\nseen it in our list right here mount-vhd.\n\n382\n00:21:14.146 --> 00:21:16.938\nSo mount-vhd.\n\n383\n00:21:16.938 --> 00:21:19.358\nAnd with that one we've got\na few switches as well but\n\n384\n00:21:19.358 --> 00:21:23.050\nnot as many because we're not creating\nanything, we're just mounting it up.\n\n385\n00:21:23.050 --> 00:21:27.420\nAnd we can do -computerName,\nspecify where we're mounting this up at.\n\n386\n00:21:27.420 --> 00:21:29.710\nNo drive letter,\nif I don't want to assign a drive.\n\n387\n00:21:29.710 --> 00:21:34.710\nMaybe I'm gonna do a, what am I\nthinking of, with the no drive letter.\n\n388\n00:21:34.710 --> 00:21:36.848\nYou can do a mount point,\nsomething like that,\n\n389\n00:21:36.848 --> 00:21:39.531\nwhere you're not actually\nassigning a drive letter to it.\n\n390\n00:21:39.531 --> 00:21:44.029\nYou can do path to specify where the disk\nis that you're trying to mount up.\n\n391\n00:21:44.029 --> 00:21:46.073\nAnd then you can do a -readonly,\n\n392\n00:21:46.073 --> 00:21:50.550\nlike checking that little check mark\nto mark that drive as read only.\n\n393\n00:21:50.550 --> 00:21:54.330\nSo we'll do mount VHD,\nit defaults to the local system, so\n\n394\n00:21:54.330 --> 00:21:57.060\nI'm not worried about\nthe dash computer name.\n\n395\n00:21:57.060 --> 00:22:00.340\nI'm going to do a -path, and\n\n396\n00:22:00.340 --> 00:22:05.860\nthat was what f:/disc3, I'm gonna do that.\n\n397\n00:22:05.860 --> 00:22:09.440\nAnd I'll hit Enter and there we go.\n\n398\n00:22:09.440 --> 00:22:14.540\nCome back over to File Explorer and\nwe refresh this guy.\n\n399\n00:22:14.540 --> 00:22:16.045\nWhere is my new one.\n\n400\n00:22:16.045 --> 00:22:18.780\nActually, we mounted it up but\nyou know what?\n\n401\n00:22:18.780 --> 00:22:21.230\nWe haven't actually partitioned it yet.\n\n402\n00:22:21.230 --> 00:22:22.350\nAnd so I would need to do that.\n\n403\n00:22:22.350 --> 00:22:24.489\nSo let's go back over to\nthe Computer Management.\n\n404\n00:22:25.570 --> 00:22:26.947\nRefresh this guy.\n\n405\n00:22:29.119 --> 00:22:31.928\nYou can see I've kind of lost track\nof all the drives we've created, but\n\n406\n00:22:31.928 --> 00:22:34.280\nthere's my disk 11,\nthe one we just created.\n\n407\n00:22:34.280 --> 00:22:37.484\nI'll right click,\nInitialize, we'll do MBR.\n\n408\n00:22:39.115 --> 00:22:40.945\nI'll right click New simple volume.\n\n409\n00:22:43.305 --> 00:22:45.285\nWe'll call it H,\nis going to be my next letter.\n\n410\n00:22:45.285 --> 00:22:51.305\nSo we'll go back into File Explorer,\nand we now have our, where'd it go?\n\n411\n00:22:53.305 --> 00:22:54.435\nGet this thing to refresh.\n\n412\n00:22:54.435 --> 00:22:59.370\nThere's my H:, right there.\n\n413\n00:22:59.370 --> 00:23:02.222\nSo two commands we need\nto be familiar with for\n\n414\n00:23:02.222 --> 00:23:06.434\nworking with the VHDs from\nthe command line, or from PowerShell.\n\n415\n00:23:06.434 --> 00:23:12.015\nThat's gonna be new-vhd and mount-vhd.\n\n416\n00:23:12.015 --> 00:23:15.166\nAnd that's how we manage\nour Virtual Hard Drives,\n\n417\n00:23:15.166 --> 00:23:20.320\neither using Disk Management within\nComputer Management or PowerShell.\n\n418\n00:23:20.320 --> 00:23:21.560\n&gt;&gt; Mike, thanks for that information.\n\n419\n00:23:21.560 --> 00:23:24.480\nDefinitely do your studying and if any\nof this seems a little foreign to you,\n\n420\n00:23:24.480 --> 00:23:25.530\nremember, there were two parts.\n\n421\n00:23:25.530 --> 00:23:28.980\nGo back and watch part one and\nthen come back here and watch part two.\n\n422\n00:23:28.980 --> 00:23:31.930\nBut it does look like that's gonna\nbe a great point to go ahead and\n\n423\n00:23:31.930 --> 00:23:33.080\nwrap up this episode.\n\n424\n00:23:33.080 --> 00:23:35.710\nSo we'll take this time to\nsign out here at ITProTV.\n\n425\n00:23:35.710 --> 00:23:37.260\nI've been your host, Wes Bryan.\n\n426\n00:23:37.260 --> 00:23:38.012\n&gt;&gt; And I'm Mike Rodrick.\n\n427\n00:23:38.012 --> 00:23:39.835\n&gt;&gt; And we'll see you next time.\n\n428\n00:23:39.835 --> 00:23:47.730\n[SOUND]\n\n",
          "vimeoId": "181126906"
        },
        {
          "description": "In this episode, Daniel and Mike explain and demonstrate implementing server storage in Windows Server 2016. They begin by looking at Storage Pools and Storage Spaces, then they implement Simple, Mirror, and Parity for disks or enclosures. Next they show you how to expand Storage Pools and finally configuring tiered storage.",
          "length": "2387",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-2-implement_server_storage-111016.00_39_32_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-2-implement_server_storage-111016.00_39_32_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-2-implement_server_storage-111016.00_39_32_28.Still001-sm.jpg",
          "title": "Implement Server Storage",
          "transcript": "WEBVTT\n\n1\n00:00:01.180 --> 00:00:02.927\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.927 --> 00:00:06.876\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.876 --> 00:00:08.331\n[MUSIC]\n\n4\n00:00:08.331 --> 00:00:12.430\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.430 --> 00:00:14.299\n&gt;&gt; All right, greetings everyone,\n\n6\n00:00:14.299 --> 00:00:17.010\nand welcome to another\ngreat episode of ITProTV.\n\n7\n00:00:17.010 --> 00:00:22.170\nI'm your host, Daniel Lowrie, in today's\nepisode we are moving on with more on our\n\n8\n00:00:22.170 --> 00:00:27.155\nserver 2016 series, the installation,\nstorage, and compute, that is.\n\n9\n00:00:27.155 --> 00:00:29.100\nAnd joining us back again for\n\n10\n00:00:29.100 --> 00:00:31.450\na little more is our good\nfriend mister Mike Rodrick.\n\n11\n00:00:31.450 --> 00:00:32.630\nMike, welcome back, how's it going?\n\n12\n00:00:32.630 --> 00:00:33.502\n&gt;&gt; It's going great Daniel.\n\n13\n00:00:33.502 --> 00:00:34.510\n&gt;&gt; [LAUGH]\n&gt;&gt; Thanks for having me back,\n\n14\n00:00:34.510 --> 00:00:35.690\nexcited to be here.\n\n15\n00:00:35.690 --> 00:00:39.882\nToday we are gonna be\nlooking at server storage.\n\n16\n00:00:39.882 --> 00:00:44.220\nAnd what that means is we're gonna\nbe talking about storage pools.\n\n17\n00:00:44.220 --> 00:00:46.258\nTwo of my favorite topics,\nstorage, and swimming pools.\n\n18\n00:00:46.258 --> 00:00:47.388\n&gt;&gt; And pools.\n&gt;&gt; Yeah, exactly.\n\n19\n00:00:47.388 --> 00:00:50.820\n[LAUGH] Right, just take all your storage,\nthrow it in the pool, you're good go go.\n\n20\n00:00:50.820 --> 00:00:55.780\nNow, storage pools, I'm sure you've\nheard of them, very cool concept.\n\n21\n00:00:55.780 --> 00:01:00.358\nIt's really, it can get a little bit,\nwhat's the word I'm looking for,\n\n22\n00:01:00.358 --> 00:01:03.770\ntwisty in the brain when you\nstart thinking about this.\n\n23\n00:01:03.770 --> 00:01:05.940\nWe're virtualizing storage.\n\n24\n00:01:05.940 --> 00:01:10.662\nSoftware defined storage is a term that's\nstarting to pop up after we've had storage\n\n25\n00:01:10.662 --> 00:01:11.720\npools for a while.\n\n26\n00:01:11.720 --> 00:01:15.882\nAnd this is a newer term, but it's\nreally referring to something like this,\n\n27\n00:01:15.882 --> 00:01:19.157\nwhere we define the storage at\na software level, all right?\n\n28\n00:01:19.157 --> 00:01:24.775\nAnd it's really nice, cuz it allows\nme to implement different types of\n\n29\n00:01:24.775 --> 00:01:30.380\nstorage solutions like parity and\nmirroring at the software level.\n\n30\n00:01:30.380 --> 00:01:34.510\nWe can take a JBOD enclosure\n\n31\n00:01:34.510 --> 00:01:39.200\nthat has dozens of drives in it, and\nwe can start creating these layouts.\n\n32\n00:01:39.200 --> 00:01:42.610\nAnd unlike RAID, for example, or\n\n33\n00:01:42.610 --> 00:01:47.590\nsome of those types of setups,\nthis is very flexible.\n\n34\n00:01:47.590 --> 00:01:50.450\nWith RAID, one of the big problems\nI have with RAID, Daniel, and\n\n35\n00:01:50.450 --> 00:01:54.260\nyou've probably experienced this as well,\nis when you try to grow it, right?\n\n36\n00:01:54.260 --> 00:01:58.130\nYou've got, let's keep the numbers\nsmall just to keep my math simple.\n\n37\n00:01:58.130 --> 00:02:01.000\nI've got five drives in my\nlittle storage device, and\n\n38\n00:02:01.000 --> 00:02:03.270\nI do a little RAID array in there.\n\n39\n00:02:03.270 --> 00:02:06.330\nAnd now I've filled up my drives and\nI need to put another one in there.\n\n40\n00:02:06.330 --> 00:02:09.060\nCan I just slap another drive in there and\nsay, go?\n\n41\n00:02:09.060 --> 00:02:13.079\n&gt;&gt; That would be heaven on earth, but no,\nyou gotta break the RAID array, right?\n\n42\n00:02:13.079 --> 00:02:16.354\nYou have to have all your backups ready\nto go, put in all the new drives,\n\n43\n00:02:16.354 --> 00:02:18.820\nhave the new appliance ready to rock,\nrebuild RAID.\n\n44\n00:02:18.820 --> 00:02:21.354\nSay, here's my data, dump it on there,\nand then you're back in action,\n\n45\n00:02:21.354 --> 00:02:22.175\nit's quite a process.\n\n46\n00:02:22.175 --> 00:02:24.400\n&gt;&gt; It is, but not with storage pools.\n\n47\n00:02:24.400 --> 00:02:26.970\nWith storage pools, because we're\ndefining this through software,\n\n48\n00:02:26.970 --> 00:02:30.380\nand we create these pools\nof physical disks, so\n\n49\n00:02:30.380 --> 00:02:35.110\nthat all the storage just is one big bowl,\nand I can just divide it up however\n\n50\n00:02:35.110 --> 00:02:39.590\nI want, I can reconfigure it,\nadd to it, remove to it, on the fly.\n\n51\n00:02:39.590 --> 00:02:41.575\nFantastic stuff.\n\n52\n00:02:41.575 --> 00:02:45.770\nPerformance-wise It's not quite RAID,\nbecause I mean, RAID's\n\n53\n00:02:45.770 --> 00:02:50.250\nimplemented at the hardware level, so you\nlose that overhead, but it's pretty close.\n\n54\n00:02:50.250 --> 00:02:51.082\nIt's pretty impressive.\n\n55\n00:02:51.082 --> 00:02:55.493\nAnd I think sometimes,\nI mean if it's strictly performance, okay,\n\n56\n00:02:55.493 --> 00:02:58.350\nI'll give you that RAID\nis probably better.\n\n57\n00:02:58.350 --> 00:03:01.990\nBut that's not the only consideration,\nright?\n\n58\n00:03:01.990 --> 00:03:04.130\nI mean, that flexibility,\nthe manageability,\n\n59\n00:03:04.130 --> 00:03:06.160\nand all that has to\ncome into play as well.\n\n60\n00:03:06.160 --> 00:03:08.731\nSo am I willing to take a little\nbit of hit on performance for\n\n61\n00:03:08.731 --> 00:03:09.998\nwhat I get on the other side?\n\n62\n00:03:09.998 --> 00:03:12.670\nUsually, in a lot of scenarios.\n\n63\n00:03:12.670 --> 00:03:15.890\nNot the solution for every scenario,\nbut in a lot of them.\n\n64\n00:03:15.890 --> 00:03:20.760\nSo let's talk about how these storage\npools work, how we can set them up,\n\n65\n00:03:20.760 --> 00:03:22.380\nwhat our different layouts are.\n\n66\n00:03:22.380 --> 00:03:25.380\nAnd we'll take a look at actually\nsetting up some storage pools.\n\n67\n00:03:25.380 --> 00:03:29.050\nSo to define some terms,\ncuz it does get a little bit confusing,\n\n68\n00:03:29.050 --> 00:03:35.030\nyou'll hear a word storage pools,\nstorage spaces, virtual disks.\n\n69\n00:03:35.030 --> 00:03:37.630\nAnd you're like, wait,\nwhat are you talking about?\n\n70\n00:03:37.630 --> 00:03:41.652\nSo the pool, the storage pool Is\nthe collection of physical disks,\n\n71\n00:03:41.652 --> 00:03:45.910\nall right, that makes up the pool\nof space that's available.\n\n72\n00:03:45.910 --> 00:03:50.730\nAnd the really cool thing about storage\npools is they don't have to be,\n\n73\n00:03:50.730 --> 00:03:54.860\nthe disks don't have to be the same size,\nthey don't have to be the same type.\n\n74\n00:03:54.860 --> 00:03:59.210\nAt home, just for giggles,\nI took on my computer,\n\n75\n00:03:59.210 --> 00:04:02.570\nthis time it was running,\nI think Windows 10 had just came out.\n\n76\n00:04:02.570 --> 00:04:08.110\nAnd I took two internal drives,\nan external MyBook,\n\n77\n00:04:08.110 --> 00:04:13.800\nand a little USB two and a half inch hard\ndrive, made a storage pool out of them.\n\n78\n00:04:13.800 --> 00:04:15.870\nSo my data is actually spread\nacross these external and\n\n79\n00:04:15.870 --> 00:04:19.590\ninternal devices,\njust to see if you could, and you can.\n\n80\n00:04:19.590 --> 00:04:21.040\nThat's pretty cool.\n\n81\n00:04:21.040 --> 00:04:23.305\n&gt;&gt; It does not discriminate on\nstorage types, does it, Mike?\n\n82\n00:04:23.305 --> 00:04:24.360\n[LAUGH]\n&gt;&gt; It doesn't,\n\n83\n00:04:24.360 --> 00:04:26.510\nprobably not the most\nefficient thing I could do.\n\n84\n00:04:26.510 --> 00:04:29.580\nBut hey, let's try it,\nlet's see what happens.\n\n85\n00:04:29.580 --> 00:04:31.660\nAll right, so storage pool,\n\n86\n00:04:31.660 --> 00:04:35.040\ncollection of physical disks that\nenable you to aggregate disks.\n\n87\n00:04:35.040 --> 00:04:40.140\nStorage spaces, the virtual disk created\nfrom free space in a storage pool.\n\n88\n00:04:40.140 --> 00:04:45.190\nSo it's the storage space that we\nactually used to create the virtual disk,\n\n89\n00:04:45.190 --> 00:04:49.550\nwhich is what's gonna actually show\nup as a drive letter, for example, or\n\n90\n00:04:49.550 --> 00:04:52.270\nallow me to store data on it, all right?\n\n91\n00:04:53.570 --> 00:04:57.420\nAs far as my layouts go,\nwhen we talk about storage layouts for\n\n92\n00:04:57.420 --> 00:05:02.590\nstorage pools and storage spaces, we have\nmirror, parity, and simple, all right?\n\n93\n00:05:02.590 --> 00:05:05.081\nSimple, I'll start there,\nbecause it is, simple.\n\n94\n00:05:05.081 --> 00:05:08.550\n[LAUGH] You're talking\nabout no resiliency here.\n\n95\n00:05:08.550 --> 00:05:13.490\nIf I make a simple layout,\nthen it's gonna take the data and\n\n96\n00:05:13.490 --> 00:05:17.830\nit'll spread it across the drives\nthat make up that storage space, but\n\n97\n00:05:17.830 --> 00:05:19.080\nthere's absolutely no resiliency.\n\n98\n00:05:19.080 --> 00:05:24.180\nIn other words, one of those drives goes,\nif something happens,\n\n99\n00:05:24.180 --> 00:05:27.560\nmy data's corrupt,\nthat's it, it's gone, okay?\n\n100\n00:05:27.560 --> 00:05:31.950\nWe have mirror, and these terms you've\nheard them when we talk about RAID,\n\n101\n00:05:31.950 --> 00:05:33.160\nthey're pretty much the same thing.\n\n102\n00:05:33.160 --> 00:05:36.980\nWhen we talk about a mirrored storage\nspace layout, we're talking about writing\n\n103\n00:05:36.980 --> 00:05:41.500\nthat data to more than one disk, so\nthat we can have some fault tolerance.\n\n104\n00:05:41.500 --> 00:05:44.940\nWe'll have two copies of our data,\ntwo or more copies of our data.\n\n105\n00:05:46.010 --> 00:05:51.040\nWith storage pools,\nI can do what they call,\n\n106\n00:05:51.040 --> 00:05:55.900\nwhen I set up the mirror, I can do\nit where we can recover from single\n\n107\n00:05:55.900 --> 00:06:00.140\ndisk failure, or two disk failure,\ndepending on what I wanna do.\n\n108\n00:06:00.140 --> 00:06:01.890\nI'll show you the options\nwhen we get in here, and\n\n109\n00:06:01.890 --> 00:06:03.810\nwe'll talk a little bit more about them.\n\n110\n00:06:03.810 --> 00:06:07.900\nWe also have parity layout, and parity\nlayout, much like when we think of RAID 5,\n\n111\n00:06:07.900 --> 00:06:12.920\nand some of those, we're actually\ngonna write some parity information\n\n112\n00:06:12.920 --> 00:06:15.540\nto give us that redundancy, all right?\n\n113\n00:06:15.540 --> 00:06:19.200\nMirrors are really what we're\ngonna use most of the time.\n\n114\n00:06:19.200 --> 00:06:23.196\nLike Microsoft will tell you, the mirrored\nlayout is good for most workloads, because\n\n115\n00:06:23.196 --> 00:06:27.380\nit's gonna give you good protection from\nfailure, as well as good performance.\n\n116\n00:06:27.380 --> 00:06:30.560\nWhen we hit the parity,\nthey'll say archival and\n\n117\n00:06:30.560 --> 00:06:35.300\nstreaming media, because you're going\nto take a hit when it comes to writing.\n\n118\n00:06:35.300 --> 00:06:38.930\nThe read is still pretty good, but\nwriting the data, because I've gotta write\n\n119\n00:06:38.930 --> 00:06:44.120\nthe extra parity information, the write's\ngonna be slowed down performance-wise.\n\n120\n00:06:44.120 --> 00:06:46.650\nSo, that's why I say, archival,\nright, we read a lot.\n\n121\n00:06:46.650 --> 00:06:50.370\nUsually once we archive something, we\nnow and again have to run reports on it.\n\n122\n00:06:50.370 --> 00:06:52.870\nWe're reading it, we're not changing it,\nwe're not writing to it.\n\n123\n00:06:52.870 --> 00:06:56.620\nStreaming media is another one,\nit's a read intensive process, but not so\n\n124\n00:06:56.620 --> 00:06:57.450\nmuch on the write.\n\n125\n00:06:57.450 --> 00:07:00.460\nOnce I've got that media stored,\nI'm just streaming it out.\n\n126\n00:07:00.460 --> 00:07:04.150\nSo, parity really good for\narchival and streaming media.\n\n127\n00:07:04.150 --> 00:07:06.550\nIt does require at least\nthree physical disks,\n\n128\n00:07:06.550 --> 00:07:08.450\nif we wanna protect from a single failure.\n\n129\n00:07:09.860 --> 00:07:12.680\nAll right, so that's some of the defining,\nsome of the terms that\n\n130\n00:07:12.680 --> 00:07:16.260\nwe need to be familiar with,\nstorage spaces, storage pools.\n\n131\n00:07:16.260 --> 00:07:20.570\nAnd the different layouts,\nmirror, parity, and simple.\n\n132\n00:07:20.570 --> 00:07:25.580\nNow let's take a look at implementing\nsome storage pools and storage spaces.\n\n133\n00:07:25.580 --> 00:07:29.670\nSo what I've got here is I've got my\n2016 box, and I'm gonna click on,\n\n134\n00:07:29.670 --> 00:07:32.780\nin Server Manager, over on the left,\nFile and Storage Services.\n\n135\n00:07:34.370 --> 00:07:37.060\nAnd then I'm going to\nclick on Storage Pools.\n\n136\n00:07:38.190 --> 00:07:41.290\nWhen you first start out with\nstorage pools, you have one.\n\n137\n00:07:41.290 --> 00:07:45.180\nYou have one by default, automatically,\nit's called primordial, I like that.\n\n138\n00:07:45.180 --> 00:07:46.377\n&gt;&gt; Yeah [LAUGH] it's just fun to say.\n\n139\n00:07:46.377 --> 00:07:47.013\n&gt;&gt; [LAUGH] It is.\n\n140\n00:07:47.013 --> 00:07:47.860\n&gt;&gt; Primordial.\n\n141\n00:07:47.860 --> 00:07:50.432\n&gt;&gt; [LAUGH] Yeah, I like it.\n\n142\n00:07:50.432 --> 00:07:54.535\nThe primordial pool is all of\nyour drives that have not been\n\n143\n00:07:54.535 --> 00:07:57.395\nassigned to any other pool, all right?\n\n144\n00:07:57.395 --> 00:07:59.978\nSo it's that base pool that you have.\n\n145\n00:07:59.978 --> 00:08:02.714\nAnd so I can see it there.\n\n146\n00:08:02.714 --> 00:08:03.886\nWhat other good information?\n\n147\n00:08:03.886 --> 00:08:08.210\nIf I scroll down a little bit, I'll see\nthe physical disks that I have in this\n\n148\n00:08:08.210 --> 00:08:10.845\nsystem that are part of\nthis primordial pool,\n\n149\n00:08:10.845 --> 00:08:13.630\nwhich is basically all of\nthe drives that I have.\n\n150\n00:08:13.630 --> 00:08:14.288\nWhat are they?\nOne, two,\n\n151\n00:08:14.288 --> 00:08:16.373\nthree, four, five, six,\nseven, eight, nine.\n\n152\n00:08:16.373 --> 00:08:19.370\nBut I know at least one\nof those is in use.\n\n153\n00:08:19.370 --> 00:08:21.260\n&gt;&gt; If you're gonna say primordial\nyou gotta start using your\n\n154\n00:08:21.260 --> 00:08:22.852\nbest David Attenborough impression, right?\n\n155\n00:08:22.852 --> 00:08:23.500\n&gt;&gt; [LAUGH] Okay.\n\n156\n00:08:23.500 --> 00:08:24.811\n&gt;&gt; The primordial, right?\n\n157\n00:08:24.811 --> 00:08:25.924\n[LAUGH]\n&gt;&gt; Do it that way.\n\n158\n00:08:25.924 --> 00:08:27.960\n&gt;&gt; [LAUGH]\n&gt;&gt; Makes it sound so much better.\n\n159\n00:08:27.960 --> 00:08:28.620\n&gt;&gt; It does.\n\n160\n00:08:28.620 --> 00:08:31.220\n&gt;&gt; All right, so\nif we're gonna work with storage pools,\n\n161\n00:08:31.220 --> 00:08:34.650\nthe first thing we're gonna\ndo is create a new pool.\n\n162\n00:08:34.650 --> 00:08:35.670\nSo let's do that.\n\n163\n00:08:35.670 --> 00:08:39.810\nLet's go up to Tasks in the top right and\nchoose New storage pool.\n\n164\n00:08:42.090 --> 00:08:44.900\nAnd we'll click Next on our intro screen.\n\n165\n00:08:46.040 --> 00:08:51.977\nI'll give it a name,\nI'm gonna call this one Pool01.\n\n166\n00:08:51.977 --> 00:08:53.534\n&gt;&gt; Very creative Mike.\n\n167\n00:08:53.534 --> 00:08:54.858\n&gt;&gt; I know, thank you so much.\n\n168\n00:08:54.858 --> 00:08:57.759\n&gt;&gt; Man, you should work for\nlike a think tank or something.\n\n169\n00:08:57.759 --> 00:09:02.770\n&gt;&gt; [LAUGH] And with me are the group\navailable discs is Node04.\n\n170\n00:09:02.770 --> 00:09:04.020\nWe'll click Next.\n\n171\n00:09:05.670 --> 00:09:10.340\nAnd then here's my drives that I have\navailable that I can include in this pool.\n\n172\n00:09:11.950 --> 00:09:16.830\nAnd unfortunately with virtual machines,\nit can get a little confusing in here.\n\n173\n00:09:16.830 --> 00:09:19.330\nBecause I see that I have a lot of drives.\n\n174\n00:09:19.330 --> 00:09:22.910\nBut I really don't know which\none is which to be honest.\n\n175\n00:09:22.910 --> 00:09:25.090\nI can see some different numbers.\n\n176\n00:09:25.090 --> 00:09:26.790\nLet's sort this by chassis.\n\n177\n00:09:28.460 --> 00:09:31.270\nIntegrated Adapter 1,\nPort 0, Target 0, Line 10.\n\n178\n00:09:31.270 --> 00:09:33.330\nSo that's probably the last drive I added.\n\n179\n00:09:33.330 --> 00:09:37.000\nSo I'm just going to start from\nthe bottom here and choose.\n\n180\n00:09:37.000 --> 00:09:41.370\nLet's do one, two, three,\nfour, five drives.\n\n181\n00:09:41.370 --> 00:09:44.930\nAll right so I'm selecting which drives\nI want to make part of this pool.\n\n182\n00:09:44.930 --> 00:09:46.900\nI can create several pools.\n\n183\n00:09:46.900 --> 00:09:51.980\nWithin a pool I can create several virtual\ndisks of different layouts if I want to.\n\n184\n00:09:51.980 --> 00:09:54.090\nI'll show you as we go.\n\n185\n00:09:54.090 --> 00:09:55.470\nWe'll start with five disks.\n\n186\n00:09:55.470 --> 00:09:58.710\nThere's a drop down list over here for\nallocation.\n\n187\n00:09:58.710 --> 00:10:03.260\nNotice my choices are Automatic,\nHot Spare or Manual.\n\n188\n00:10:03.260 --> 00:10:05.359\nAutomatic means that the Hype-,\nthe Hyper-V.\n\n189\n00:10:05.359 --> 00:10:07.640\n&gt;&gt; [LAUGH]\n&gt;&gt; Server 2016, right?\n\n190\n00:10:07.640 --> 00:10:09.435\nMy storage pools.\n\n191\n00:10:09.435 --> 00:10:11.640\nWill decide what to do with that disk,\n\n192\n00:10:11.640 --> 00:10:15.340\nmake it a part of the pool,\nuse it as a spare if not necessary.\n\n193\n00:10:15.340 --> 00:10:19.400\nI can say Hot Spare,\nwhich is a really cool idea.\n\n194\n00:10:19.400 --> 00:10:21.625\nI can take, in fact,\nlet's add one in there and\n\n195\n00:10:21.625 --> 00:10:23.191\nlet's just set it as a Hot Spare.\n\n196\n00:10:23.191 --> 00:10:27.380\nAll right, so now I've got an extra disk,\nI'm gonna set that as a Hot Spare.\n\n197\n00:10:27.380 --> 00:10:29.250\nHot spare means, hey,\nI'm not gonna use this.\n\n198\n00:10:29.250 --> 00:10:32.000\nThat space from that\nparticular physical disk,\n\n199\n00:10:32.000 --> 00:10:36.980\nis not gonna be available to work with\nwhen I go to create my storage spaces.\n\n200\n00:10:36.980 --> 00:10:42.291\nBut, if one of my other physical discs\nfails this one will automatically,\n\n201\n00:10:42.291 --> 00:10:48.025\nthe storage pool, Windows 2016,\nwill automatically grab that hot spare,\n\n202\n00:10:48.025 --> 00:10:52.095\nuse it, start replacing\nthe data from that failed disc.\n\n203\n00:10:52.095 --> 00:10:55.990\nAll right, I'll go ahead and click Next.\n\n204\n00:10:55.990 --> 00:10:58.530\nAnd we are good to go and\nI'll click Create.\n\n205\n00:11:00.090 --> 00:11:02.950\n762 gigs available, nice.\n\n206\n00:11:02.950 --> 00:11:04.250\n&gt;&gt; That's a few gigs.\n\n207\n00:11:04.250 --> 00:11:05.039\n&gt;&gt; That's a couple.\n\n208\n00:11:05.039 --> 00:11:06.177\n&gt;&gt; You could hold a couple\nof movies on that.\n\n209\n00:11:06.177 --> 00:11:07.234\n&gt;&gt; Mm-hm.\n\n210\n00:11:07.234 --> 00:11:10.300\nAll right, and we'll let this run through.\n\n211\n00:11:10.300 --> 00:11:11.240\nSo pretty simple.\n\n212\n00:11:11.240 --> 00:11:12.790\nI mean again, really to create pool,\n\n213\n00:11:12.790 --> 00:11:16.860\nyou're just saying which disks do I\nwant to be part of that particular pool.\n\n214\n00:11:16.860 --> 00:11:17.780\nSo not a lot to that.\n\n215\n00:11:18.880 --> 00:11:20.240\nThere is an option down\nhere at the bottom,\n\n216\n00:11:20.240 --> 00:11:22.610\nCreate a virtual disk\nwhen this wizard closes.\n\n217\n00:11:22.610 --> 00:11:25.950\nI'm gonna close it so I can show you how\nto do it if that wizard wasn't there.\n\n218\n00:11:25.950 --> 00:11:29.170\nBut that's obviously an easy,\ngood shortcut.\n\n219\n00:11:29.170 --> 00:11:32.115\nI'll click Close, and\nnow I can see my new pool.\n\n220\n00:11:32.115 --> 00:11:36.390\nYou'll see that primordial,\nnow only includes three drives, right?\n\n221\n00:11:36.390 --> 00:11:38.300\nWhereas before, it had like nine.\n\n222\n00:11:38.300 --> 00:11:42.550\nAnd that's because the other\nsix are now part of Pool01.\n\n223\n00:11:42.550 --> 00:11:46.550\nA physical disc can only\nbe part of a single pool.\n\n224\n00:11:46.550 --> 00:11:50.030\nSo when I move that to Pool01,\nthey are no longer part of primordial.\n\n225\n00:11:51.190 --> 00:11:55.420\nBut now that I have got this pool set up,\nit's not accessible,\n\n226\n00:11:55.420 --> 00:11:58.640\nit's not anything I can\nstore data on just yet.\n\n227\n00:11:58.640 --> 00:12:03.267\nThat's where I have to go down here and\ncreate a virtual disc, aka storage space,\n\n228\n00:12:03.267 --> 00:12:06.163\ndepending on which book you're reading,\nright?\n\n229\n00:12:06.163 --> 00:12:08.286\n&gt;&gt; [LAUGH]\n&gt;&gt; Which blog you're reading.\n\n230\n00:12:08.286 --> 00:12:11.934\nSo I'll go ahead and\nclick on Create a virtual disc.\n\n231\n00:12:11.934 --> 00:12:17.120\nAnd I\"m going to use Pool01 to create\nthat disc from and I'll click OK.\n\n232\n00:12:18.550 --> 00:12:21.330\nLaunches up a handy wizard,\nDaniel I know you love the wizards.\n\n233\n00:12:21.330 --> 00:12:22.780\n&gt;&gt; They are my favorite.\n\n234\n00:12:22.780 --> 00:12:26.170\n&gt;&gt; We're gonna click Next on our\nwizard and I'll give this one,\n\n235\n00:12:26.170 --> 00:12:30.180\nlet's call this Mirror, right?\n\n236\n00:12:30.180 --> 00:12:32.440\nAnd I could give it\na description if I wanted to.\n\n237\n00:12:32.440 --> 00:12:34.140\nAnd I know Daniel's gonna\nyell at me when I don't.\n\n238\n00:12:34.140 --> 00:12:35.690\nBut I'm not going to for the lab.\n\n239\n00:12:35.690 --> 00:12:37.392\n&gt;&gt; I'm gonna meet you in\nthe parking lot after work.\n\n240\n00:12:37.392 --> 00:12:38.702\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n241\n00:12:38.702 --> 00:12:39.370\n&gt;&gt; That is right,\n\n242\n00:12:39.370 --> 00:12:42.340\ndescriptions are obviously\nvery good to do.\n\n243\n00:12:42.340 --> 00:12:45.530\nThere's an option down here,\nCreate storage tiers on this virtual disk.\n\n244\n00:12:45.530 --> 00:12:49.368\nWe're gonna stop our our flow and\ntalk about that for just a second.\n\n245\n00:12:49.368 --> 00:12:53.670\nStorage tiers enables automatic movement\nof the most frequently accessed files to\n\n246\n00:12:53.670 --> 00:12:54.596\nfaster storage.\n\n247\n00:12:54.596 --> 00:12:57.210\nHm, that sounds really good.\n\n248\n00:12:57.210 --> 00:12:58.230\nWhat the heck are they talking about?\n\n249\n00:12:58.230 --> 00:13:00.070\nLet's look down here.\n\n250\n00:13:00.070 --> 00:13:04.420\nTo use storage tiers,\nthe storage pool requires a minimum of\n\n251\n00:13:04.420 --> 00:13:08.801\none automatically allocated physical\ndisk of each media type (SSD and HDD).\n\n252\n00:13:10.870 --> 00:13:13.260\nStarting to figure out what\nthey mean by that, right.\n\n253\n00:13:13.260 --> 00:13:16.660\n&gt;&gt; Yeah, it seems like they're saying\nthat you have a tier one as a high tier,\n\n254\n00:13:16.660 --> 00:13:18.810\nit's probably running all those SSDs.\n\n255\n00:13:18.810 --> 00:13:22.640\nAll your regular physical disks get put in\na secondary tier that's not quite as good.\n\n256\n00:13:22.640 --> 00:13:23.410\n&gt;&gt; Exactly right.\n\n257\n00:13:23.410 --> 00:13:28.390\nSo if we would've had, if I had\nsolid states in my primordial pool,\n\n258\n00:13:28.390 --> 00:13:34.010\nwhen I created my pool,\nand I would've picked some\n\n259\n00:13:34.010 --> 00:13:39.250\nmechanical drives, and some solid state\ndrives, this option would be available.\n\n260\n00:13:39.250 --> 00:13:41.470\nAnd I could choose to create storage here.\n\n261\n00:13:41.470 --> 00:13:44.380\nThen what's gonna happen is,\nI'm gonna create my space like normal,\n\n262\n00:13:44.380 --> 00:13:47.920\ncreate my mirror, create my parity,\nwhatever it is I want to do.\n\n263\n00:13:47.920 --> 00:13:52.450\nBut what's gonna happen in the background\nis storage spaces is going to\n\n264\n00:13:52.450 --> 00:13:55.540\nmove the data around\ntransparently in the background.\n\n265\n00:13:55.540 --> 00:14:00.250\nIt puts what it calls the hot files, the\nfiles that are most frequently accessed,\n\n266\n00:14:00.250 --> 00:14:03.000\nout there on those SSD drives, right?\n\n267\n00:14:03.000 --> 00:14:06.730\nIt takes the cold files, the ones\nthat aren't as commonly accessed or\n\n268\n00:14:06.730 --> 00:14:12.780\nfrequently accessed, and it moves that\nback to the mechanical drives, the HDDs.\n\n269\n00:14:12.780 --> 00:14:14.710\nSo we can get the best of both worlds.\n\n270\n00:14:14.710 --> 00:14:18.120\nI can get the speed and\nthe performance that's incredible,\n\n271\n00:14:18.120 --> 00:14:20.630\nthat we get from the solid state drives.\n\n272\n00:14:20.630 --> 00:14:24.410\nBut, I can also get the storage\ncapacity that I can afford,\n\n273\n00:14:24.410 --> 00:14:25.570\nusing mechanical drives, right?\n\n274\n00:14:25.570 --> 00:14:28.710\nI can't afford to go out and\nbuy terabytes and\n\n275\n00:14:28.710 --> 00:14:31.150\nterabytes of solid state storage, right?\n\n276\n00:14:31.150 --> 00:14:34.250\nBut, I can easily afford\nthat with mechanical drives.\n\n277\n00:14:34.250 --> 00:14:40.350\nSo I can take a couple 512 gigabyte\nsolid states, and take four or\n\n278\n00:14:40.350 --> 00:14:45.680\nfive 4 terrabyte mechanical drives,\nand make a pool out of them, right?\n\n279\n00:14:45.680 --> 00:14:48.190\nAnd now it can move stuff around and\nsay, all right,\n\n280\n00:14:48.190 --> 00:14:50.350\nI'll keep this stuff out\nhere on the solid states.\n\n281\n00:14:50.350 --> 00:14:53.540\nIf it's not commonly accessed,\nI'll move it back here to the mechanicals.\n\n282\n00:14:53.540 --> 00:14:54.640\nAnd again it's all behind the scenes.\n\n283\n00:14:54.640 --> 00:14:59.350\nIt all looks like it's in one volume but\nit's gonna give you that, take advantage\n\n284\n00:14:59.350 --> 00:15:04.130\nof that fast access of solid state and\nthe capacity of the mechanical drives.\n\n285\n00:15:04.130 --> 00:15:06.030\nSo very, very cool option there.\n\n286\n00:15:06.030 --> 00:15:09.430\nUnfortunately, it's\ndifficult to trick Hyper-V\n\n287\n00:15:09.430 --> 00:15:13.080\ninto seeing one of your virtual\ndrives as a solid state drive.\n\n288\n00:15:13.080 --> 00:15:16.280\nCan be done, I have done it,\nbut it is tricky.\n\n289\n00:15:16.280 --> 00:15:17.620\nAnd it doesn't always work.\n\n290\n00:15:17.620 --> 00:15:20.742\nSo I'll click Next.\n\n291\n00:15:20.742 --> 00:15:24.158\nAnd enclosure awareness here,\nenclosure awareness you can see,\n\n292\n00:15:24.158 --> 00:15:27.820\nstores copies of your data on separate\nstorage enclosures, or JBODs.\n\n293\n00:15:30.600 --> 00:15:32.150\nBut I don't have any enclosures.\n\n294\n00:15:32.150 --> 00:15:34.710\nWe're using drives that\nare internal to this server.\n\n295\n00:15:34.710 --> 00:15:35.670\nSo let's grayed it out.\n\n296\n00:15:35.670 --> 00:15:38.140\nWe'll go ahead and click Next.\n\n297\n00:15:38.140 --> 00:15:40.330\nAnd then here's my Layout options.\n\n298\n00:15:40.330 --> 00:15:44.160\nSo I've got Simple, which we can see\nis striped across physical disks,\n\n299\n00:15:44.160 --> 00:15:45.880\nmaximizing capacity.\n\n300\n00:15:45.880 --> 00:15:49.405\nIncreasing throughput, but\ndecreasing reliability.\n\n301\n00:15:49.405 --> 00:15:52.430\nNeeds one disk and\nit doesn't protect you from disk failure.\n\n302\n00:15:52.430 --> 00:15:56.645\nSo Simple is what you would use\nif you need maximum performance.\n\n303\n00:15:56.645 --> 00:16:00.751\nI need as fast as I can get that data,\nas fast as those drives will allow me,\n\n304\n00:16:00.751 --> 00:16:01.960\nthat's what I want.\n\n305\n00:16:01.960 --> 00:16:06.043\nThe data that's on there Is replaceable\nand I'm not worried about it,\n\n306\n00:16:06.043 --> 00:16:10.073\nif something fails and I'm gonna\nlose my data and I'm okay with that.\n\n307\n00:16:10.073 --> 00:16:13.839\nSo if you're okay with losing your data\nand you need that maximum performance,\n\n308\n00:16:13.839 --> 00:16:14.970\nsimple is the way to go.\n\n309\n00:16:16.020 --> 00:16:21.120\nIf you care about your data at all-\n&gt;&gt; Stay away from the [LAUGH]\n\n310\n00:16:21.120 --> 00:16:23.710\n&gt;&gt; Stay away, don't use the simple, right?\n\n311\n00:16:23.710 --> 00:16:26.980\nIt's really, it's probably not wise.\n\n312\n00:16:26.980 --> 00:16:31.630\nAt that point you might as well just use\na physical hard drive honestly in the end.\n\n313\n00:16:31.630 --> 00:16:36.600\nBut it is possible because I can\ntake multiple physical drives,\n\n314\n00:16:36.600 --> 00:16:41.410\ncreate a pool out of them and get much\nmore capacity using storage space.\n\n315\n00:16:41.410 --> 00:16:43.570\nI can add to them and things like that.\n\n316\n00:16:43.570 --> 00:16:45.190\nSo there still are some benefits.\n\n317\n00:16:45.190 --> 00:16:47.370\nBut just keep in mind, no resiliency.\n\n318\n00:16:47.370 --> 00:16:51.460\nIf we go to mirror, stripe across\nphysical disc creating two or\n\n319\n00:16:51.460 --> 00:16:56.550\nthree copies of your data to increase\nresiliency reduces capacity.\n\n320\n00:16:56.550 --> 00:16:59.350\nBecause we're storing more than one copy\nof the data, so everything we're writing,\n\n321\n00:16:59.350 --> 00:17:00.530\nwe're writing twice.\n\n322\n00:17:00.530 --> 00:17:03.060\nSo I'm gonna really cut\nmy storage in half.\n\n323\n00:17:03.060 --> 00:17:04.870\n&gt;&gt; This is sounding a lot like RAID,\nMichael.\n\n324\n00:17:04.870 --> 00:17:05.920\n[LAUGH]\n&gt;&gt; It is, isn't it?\n\n325\n00:17:05.920 --> 00:17:09.227\nNow, you do have an option here.\n\n326\n00:17:09.227 --> 00:17:13.003\nTo protect against a single disk failure,\nuse at least two disks,\n\n327\n00:17:13.003 --> 00:17:15.880\nthree if you're using a cluster,\nall right?\n\n328\n00:17:15.880 --> 00:17:19.660\nSo two physical disks\nto create that mirror.\n\n329\n00:17:19.660 --> 00:17:23.910\nTo protect against two disk failures,\nuse at least five disks.\n\n330\n00:17:23.910 --> 00:17:28.400\nSo depending on how many disks are in\nmy pool, if I'm only using three\n\n331\n00:17:29.820 --> 00:17:35.100\nor I should say two, sorry, I can protect\nmyself from a single disk failure.\n\n332\n00:17:35.100 --> 00:17:36.230\nIt kind of makes sense, right.\n\n333\n00:17:36.230 --> 00:17:39.450\nIf I've got two disks,\nwrite the data to each one.\n\n334\n00:17:39.450 --> 00:17:43.830\nIf one of them fails,\nI've got the other drive still, okay?\n\n335\n00:17:43.830 --> 00:17:45.980\nBut if that one fails,\ndo I have any data left?\n\n336\n00:17:45.980 --> 00:17:46.920\n&gt;&gt; You're dataless.\n\n337\n00:17:46.920 --> 00:17:48.814\n&gt;&gt; I'm dataless, right?\n\n338\n00:17:48.814 --> 00:17:52.670\nBut if I have five disks, now I get this\ndrive could fail, still have my data.\n\n339\n00:17:52.670 --> 00:17:55.790\nThis drive could fail, still have my data.\n\n340\n00:17:55.790 --> 00:17:59.555\nWe can handle two simultaneous failures,\nbut that's it.\n\n341\n00:17:59.555 --> 00:18:00.887\nIf one more drive fails, you're out.\n\n342\n00:18:00.887 --> 00:18:01.394\n&gt;&gt; Yeah [LAUGH].\n\n343\n00:18:01.394 --> 00:18:02.886\n&gt;&gt; But hey, that's pretty good.\n\n344\n00:18:02.886 --> 00:18:04.161\nI mean what are the odds of-\n&gt;&gt; Mikes running out of fingers.\n\n345\n00:18:04.161 --> 00:18:05.034\n&gt;&gt; Yeah.\n\n346\n00:18:05.034 --> 00:18:05.732\n[LAUGH] And\n\n347\n00:18:05.732 --> 00:18:11.851\nyou really got to be careful which finger\nis left when you are doing storage spaces.\n\n348\n00:18:11.851 --> 00:18:14.044\nSo yeah, if you think about that,\n\n349\n00:18:14.044 --> 00:18:18.800\nthat's pretty good cuz I can now\nhave two drives fail and still work.\n\n350\n00:18:18.800 --> 00:18:23.370\nAnd it's very seldom you're gonna have\ntwo drives fail at the same time.\n\n351\n00:18:23.370 --> 00:18:27.810\nBut it's such a great peace of\nmind when one drive has failed,\n\n352\n00:18:29.210 --> 00:18:33.790\nand you can say to yourself,\nI'm okay unless one more drive fails.\n\n353\n00:18:33.790 --> 00:18:35.019\nBecause I don't know about you Daniel,\n\n354\n00:18:35.019 --> 00:18:36.765\nI've been in that situation\nwhere you're sweating it.\n\n355\n00:18:36.765 --> 00:18:41.263\nWhen you've got a RAID array and you've\ngot protection from one disk failure and\n\n356\n00:18:41.263 --> 00:18:42.728\nthat one disk has failed.\n\n357\n00:18:42.728 --> 00:18:46.360\nNow you are on-\n&gt;&gt; Thin ice.\n\n358\n00:18:46.360 --> 00:18:49.275\n&gt;&gt; Yes.\nYou have got to get that replaced,\n\n359\n00:18:49.275 --> 00:18:51.175\ncuz it's Murphy's Law.\n\n360\n00:18:51.175 --> 00:18:52.640\n&gt;&gt; [LAUGH]\n&gt;&gt; If one more disk fails,\n\n361\n00:18:52.640 --> 00:18:54.280\nI lose all of this data.\n\n362\n00:18:54.280 --> 00:18:58.410\n&gt;&gt; And if you bought both disks at\nthe same time from the same vendor,\n\n363\n00:18:58.410 --> 00:18:59.990\nchances are-\n&gt;&gt; Odds are better.\n\n364\n00:18:59.990 --> 00:19:02.680\n&gt;&gt; Disks are failing because they're\nat the end of their life and\n\n365\n00:19:02.680 --> 00:19:07.110\nit's just gonna happen, so you better\nget some new disks in there ASAP.\n\n366\n00:19:07.110 --> 00:19:08.250\n&gt;&gt; Exactly, so\n\n367\n00:19:08.250 --> 00:19:13.210\nreally cool feature that I can survive\ntwo simultaneous disk failures.\n\n368\n00:19:13.210 --> 00:19:17.310\nThe last option there is parity,\nagain this is a lot like RAID 5.\n\n369\n00:19:17.310 --> 00:19:20.290\nWhere it's going to throw some\nparity information in there, so\n\n370\n00:19:20.290 --> 00:19:23.100\nit can rebuild in the case\nof a disk failure.\n\n371\n00:19:23.100 --> 00:19:25.430\nTo protect us against a single disk,\nuse three.\n\n372\n00:19:25.430 --> 00:19:29.520\nTo protect against two disk failures,\nuse at least seven drives.\n\n373\n00:19:29.520 --> 00:19:32.688\nThat's gonna be basically\nwhat we call dual parity, and\n\n374\n00:19:32.688 --> 00:19:35.271\nthen I can protect against\ntwo disk failures.\n\n375\n00:19:35.271 --> 00:19:36.288\nLet's go ahead and do mirror.\n\n376\n00:19:36.288 --> 00:19:38.460\nSince we did call it mirror,\nI'll click Next.\n\n377\n00:19:40.360 --> 00:19:41.840\nDo I wanna do a two-way mirror?\n\n378\n00:19:41.840 --> 00:19:43.335\nThat's the single disk failure.\n\n379\n00:19:43.335 --> 00:19:47.010\nThree-way mirror is gonna be\ntwo simultaneous disk failures.\n\n380\n00:19:47.010 --> 00:19:47.650\nWe'll do three way.\n\n381\n00:19:47.650 --> 00:19:49.500\nI do have five drives,\nwe're okay with that.\n\n382\n00:19:49.500 --> 00:19:50.130\n&gt;&gt; Go for it.\n\n383\n00:19:50.130 --> 00:19:51.030\n&gt;&gt; Yeah, let's do it.\n\n384\n00:19:51.030 --> 00:19:52.410\nWe'll click Next.\n\n385\n00:19:52.410 --> 00:19:54.040\nHere is my provisioning type.\n\n386\n00:19:54.040 --> 00:19:56.757\nDo I want to do thin or\nfixed provisioning, right?\n\n387\n00:19:58.030 --> 00:19:59.590\nFixed provisioning is\npretty straightforward,\n\n388\n00:19:59.590 --> 00:20:02.940\na volume uses space from the storage\npool equal to the volume size.\n\n389\n00:20:02.940 --> 00:20:06.540\nSo if I create a 50 gigabyte volume.\n\n390\n00:20:06.540 --> 00:20:11.050\nIt's gonna go grab 50 gigabytes from\nmy storage space that I'd created.\n\n391\n00:20:11.050 --> 00:20:14.480\nOurs I think had 760 gigs in there, right?\n\n392\n00:20:14.480 --> 00:20:15.813\nSo, pretty straightforward.\n\n393\n00:20:15.813 --> 00:20:21.154\nIf you're gonna make it 50, you better\nhave 50 gigs available to make, all right?\n\n394\n00:20:21.154 --> 00:20:22.145\nThin provisioning,\n\n395\n00:20:22.145 --> 00:20:25.620\nvolume usage of space from the storage\npool as needed up to the volume size.\n\n396\n00:20:27.870 --> 00:20:33.060\nSo I have 760 gigs,\nI can actually do thin provisioning and\n\n397\n00:20:33.060 --> 00:20:35.750\nsay I'm gonna make a 2 TB volume.\n\n398\n00:20:37.060 --> 00:20:39.980\nBut Mike, you don't have 2 TB.\n\n399\n00:20:39.980 --> 00:20:40.860\nIt's okay.\n\n400\n00:20:40.860 --> 00:20:42.922\nStorage spaces will let me do it.\n\n401\n00:20:42.922 --> 00:20:46.034\nAll it's gonna do is say when\nI start getting low on space,\n\n402\n00:20:46.034 --> 00:20:49.221\ncuz the volume will start to grow and\ngrow and grow and grow.\n\n403\n00:20:49.221 --> 00:20:53.562\nAnd it's told that it's 2 TB in size,\nso it can grow up to 2 TB, but\n\n404\n00:20:53.562 --> 00:20:56.478\nwhen it gets to 760, there's a problem.\n\n405\n00:20:56.478 --> 00:20:59.830\nI'm physically out of space, so\nit's not gonna be able to grow.\n\n406\n00:20:59.830 --> 00:21:03.020\nSo before it gets there, it's gonna\nremind you, it's gonna say hey buddy.\n\n407\n00:21:03.020 --> 00:21:07.050\nRemember, you thin provisioned me,\nyou said I could grow up to 2 TB.\n\n408\n00:21:07.050 --> 00:21:10.270\nI'm getting close to that 760 as we speak.\n\n409\n00:21:10.270 --> 00:21:12.860\nYou really need to toss\na couple more drives my way, so\n\n410\n00:21:12.860 --> 00:21:14.770\nthat I can continue to grow, all right?\n\n411\n00:21:14.770 --> 00:21:16.330\nBut that's really cool.\n\n412\n00:21:16.330 --> 00:21:19.430\nBecause what that allows,\nthink about what we can do with that.\n\n413\n00:21:19.430 --> 00:21:22.730\nStorage can start to add up expense-wise.\n\n414\n00:21:22.730 --> 00:21:25.010\nWhen we go to plan for storage capacities,\n\n415\n00:21:25.010 --> 00:21:28.140\nwe've got to try to think\nabout not what we need today.\n\n416\n00:21:28.140 --> 00:21:30.220\nWe don't just look at our storage and\ngo hey, you know what,\n\n417\n00:21:30.220 --> 00:21:32.800\nwe've got about 2 TB of data here.\n\n418\n00:21:32.800 --> 00:21:34.820\nWe have to think about what\nwe're gonna need tomorrow.\n\n419\n00:21:34.820 --> 00:21:36.700\nNext week, next month, next year, right?\n\n420\n00:21:37.760 --> 00:21:41.250\nAnd so we start doing formulas where\nwe calculate how much we're using,\n\n421\n00:21:41.250 --> 00:21:42.310\nhow much each user is using.\n\n422\n00:21:42.310 --> 00:21:46.110\nWe start multiplying these out,\naverage growth and we say, you know what?\n\n423\n00:21:46.110 --> 00:21:46.910\nIn five years,\n\n424\n00:21:46.910 --> 00:21:51.110\nI'm probably gonna need four times\nthe capacity that we've got now.\n\n425\n00:21:51.110 --> 00:21:54.840\nBut I can't afford to go out and\nbuy four times the capacity right now.\n\n426\n00:21:54.840 --> 00:21:57.110\nWith storage spaces,\nI don't have to, right?\n\n427\n00:21:57.110 --> 00:21:59.940\nI can thin provision and\nI can add as needed.\n\n428\n00:21:59.940 --> 00:22:04.360\nAnd I can spread out that\ncost over a period of time,\n\n429\n00:22:04.360 --> 00:22:07.730\nmaking it easier for smaller\norganizations, medium organizations that\n\n430\n00:22:07.730 --> 00:22:12.920\ncan't afford to spend all that money on\nstorage out of the box to do it over time.\n\n431\n00:22:12.920 --> 00:22:15.615\nVery cool option, another great\nreason to use storage spaces.\n\n432\n00:22:16.970 --> 00:22:21.220\nAll right, I'll go ahead and\ndo well, let's do fix for\n\n433\n00:22:21.220 --> 00:22:23.250\nthis when we got plenty of space.\n\n434\n00:22:23.250 --> 00:22:28.528\nI'll click Next, my size,\nI'm just gonna do a 10 GB mirror.\n\n435\n00:22:28.528 --> 00:22:31.532\nSo I can drop down and do megabytes,\ngigabytes, terabytes there or\n\n436\n00:22:31.532 --> 00:22:32.755\nI could use the entire one.\n\n437\n00:22:32.755 --> 00:22:37.215\nNow it says my free space from\nthe storage pool is 207, right?\n\n438\n00:22:37.215 --> 00:22:42.971\nCuz the overhead and the fact that\nI'm doing a three way mirror,\n\n439\n00:22:42.971 --> 00:22:46.394\nI don't get all 760 gigs, right?\n\n440\n00:22:46.394 --> 00:22:49.520\nWe'll click Next and Create.\n\n441\n00:22:52.708 --> 00:23:01.010\nAnd then we wait as it does its magic and\ncreates our virtual disk.\n\n442\n00:23:01.010 --> 00:23:04.530\nNow first terminology,\nthis was the Virtual Disk Wizard.\n\n443\n00:23:04.530 --> 00:23:10.131\nDo not confuse this with a virtual\nmachine's virtual hard drive.\n\n444\n00:23:10.131 --> 00:23:11.052\n&gt;&gt; Yeah [LAUGH].\n&gt;&gt; All right,\n\n445\n00:23:11.052 --> 00:23:13.769\ncuz we do start to call\nthose virtual disk as well,\n\n446\n00:23:13.769 --> 00:23:17.859\nbut they're VHDs, virtual hard drives,\nnot the same thing, all right?\n\n447\n00:23:17.859 --> 00:23:22.150\nThis is a virtual disk,\nnot a VHD or virtual hard drive.\n\n448\n00:23:22.150 --> 00:23:24.702\nDown below, it says Create\na volume when this wizard closes.\n\n449\n00:23:24.702 --> 00:23:29.060\nI'm gonna uncheck that so I can go do\nthat manually in just a minute and\n\n450\n00:23:29.060 --> 00:23:30.500\nI'll click Close.\n\n451\n00:23:30.500 --> 00:23:36.380\nAnd now I have my 10 GB mirror\nsitting here in my storage pool.\n\n452\n00:23:36.380 --> 00:23:39.350\nBut that is not accessible through\nWindows Explorer, all right?\n\n453\n00:23:40.540 --> 00:23:41.740\nWe're not gonna see that.\n\n454\n00:23:41.740 --> 00:23:45.030\nI'm gonna right-click on that guy and\nchoose New Volume.\n\n455\n00:23:46.720 --> 00:23:50.320\nSo this is what I was saying, it can\nget a little bit twisty in the brain.\n\n456\n00:23:50.320 --> 00:23:56.007\nI've got a storage pool and in that\nstorage pool, I make a virtual disk and\n\n457\n00:23:56.007 --> 00:24:00.334\nthen on that virtual disk I\ncreate volumes, all right?\n\n458\n00:24:00.334 --> 00:24:04.870\nSo the volume is the same volume wizard\nthat you would see in Computer Management\n\n459\n00:24:04.870 --> 00:24:06.097\nor Disk Management.\n\n460\n00:24:06.097 --> 00:24:09.425\nI'll click Next There's my Disk 10, right?\n\n461\n00:24:09.425 --> 00:24:11.792\nThere's no Disk 10 in my server, but\n\n462\n00:24:11.792 --> 00:24:16.760\nit's a software defined Disk 10 that's\na mirror of ten gigabytes in size.\n\n463\n00:24:16.760 --> 00:24:18.590\nWhich, behind the scenes,\n\n464\n00:24:18.590 --> 00:24:23.020\nis actually getting written across\nfive different physical disks.\n\n465\n00:24:24.070 --> 00:24:25.490\nWe'll click Next.\n\n466\n00:24:25.490 --> 00:24:27.420\nI'll go ahead and use the entire one.\n\n467\n00:24:27.420 --> 00:24:28.690\nI'll click Next.\n\n468\n00:24:28.690 --> 00:24:29.790\nI'll give it a drive letter.\n\n469\n00:24:29.790 --> 00:24:32.337\nAgain, you guys have seen this,\nit's just simple volume creation.\n\n470\n00:24:32.337 --> 00:24:35.762\nI'll click Next, I'll use good old NTFS,\n\n471\n00:24:35.762 --> 00:24:40.307\nwe'll call it mirror, and\nwe'll click Next and Create.\n\n472\n00:24:43.658 --> 00:24:48.469\nAnd as soon as that finishes,\nwe should have a new volume.\n\n473\n00:24:52.889 --> 00:24:54.450\nIt's taking it's time there.\n\n474\n00:24:54.450 --> 00:24:55.470\nITs it's really.\n\n475\n00:24:55.470 --> 00:24:56.820\n&gt;&gt; It's really pretty fast, yeah.\n\n476\n00:24:56.820 --> 00:24:57.830\n&gt;&gt; It's not taking that long.\n\n477\n00:24:57.830 --> 00:24:59.650\nI'll click Close.\n\n478\n00:24:59.650 --> 00:25:00.620\nAnd there we go.\n\n479\n00:25:00.620 --> 00:25:01.678\nSo if I open up File Explorer.\n\n480\n00:25:05.484 --> 00:25:06.587\nOr open it up twice.\n\n481\n00:25:06.587 --> 00:25:10.690\n&gt;&gt; [LAUGH]\n&gt;&gt; I should see my new eDrive that I\n\n482\n00:25:10.690 --> 00:25:12.030\nhave there.\n\n483\n00:25:12.030 --> 00:25:18.530\nI can create new files, new folders,\nwhatever I need to do on that new volume.\n\n484\n00:25:18.530 --> 00:25:22.160\nAnd I know that I've got\nresiliency built into this, right.\n\n485\n00:25:22.160 --> 00:25:26.641\nIf I start getting hardware failure,\nI will still have access to my data.\n\n486\n00:25:26.641 --> 00:25:30.220\nNow that doesn't protect, doesn't mean I\ncan't do, I don't have to do back ups.\n\n487\n00:25:30.220 --> 00:25:33.080\n&gt;&gt; I know and every time you tell\nsomebody about some cool thing you can do\n\n488\n00:25:33.080 --> 00:25:36.900\nwith storage and they think,\ngreat I am protected against back\n\n489\n00:25:36.900 --> 00:25:39.510\nup sorta thing in the past,\nback ups are not a thing of the past.\n\n490\n00:25:39.510 --> 00:25:43.380\nI can´t forsee anytime soon that\nthey will be a thing of the past.\n\n491\n00:25:43.380 --> 00:25:44.890\nYou're aways gonna need\nto back the data up.\n\n492\n00:25:44.890 --> 00:25:46.990\nSo just do both.\n\n493\n00:25:46.990 --> 00:25:50.520\n&gt;&gt; Exactly the mirror is fine if i have\n\n494\n00:25:50.520 --> 00:25:54.940\na physical drive failure,\nI'm protected from that.\n\n495\n00:25:54.940 --> 00:25:59.994\nIn my case, we use five drives,\nso two simultaneous failures,\n\n496\n00:25:59.994 --> 00:26:03.094\nbut I'm not protected from end users.\n\n497\n00:26:03.094 --> 00:26:05.120\nUh-oh, it's gone.\n\n498\n00:26:05.120 --> 00:26:06.030\n&gt;&gt; What have you done?\n\n499\n00:26:06.030 --> 00:26:07.840\n&gt;&gt; Is my mirror gonna help me out?\n\n500\n00:26:07.840 --> 00:26:12.320\nNo, because, guess what, it just deleted\nit from both copies of the mirror, right?\n\n501\n00:26:12.320 --> 00:26:14.180\nThat's the kinda thing,\nwe still have to do backups.\n\n502\n00:26:14.180 --> 00:26:17.620\nSo please don't think that,\nby implementing this kinda solution,\n\n503\n00:26:17.620 --> 00:26:19.550\nwe're protecting ourselves and\nwe don't need backups.\n\n504\n00:26:19.550 --> 00:26:20.900\nStill need backups.\n\n505\n00:26:20.900 --> 00:26:24.990\nThis is protecting me from physical\nhardware failure, not data corruption,\n\n506\n00:26:24.990 --> 00:26:28.020\ndata deletion, viruses, things like that.\n\n507\n00:26:28.020 --> 00:26:28.990\nIf the data gets corrupt,\n\n508\n00:26:28.990 --> 00:26:32.280\nguess what, it's gonna mirror that\ncorrupt data to the other volume.\n\n509\n00:26:32.280 --> 00:26:34.364\nSo it's not gonna help you out.\n\n510\n00:26:34.364 --> 00:26:38.227\nAll right, let's do another one, just\nto show you, I'm gonna go make another\n\n511\n00:26:38.227 --> 00:26:41.180\nvirtual disk, how we doing on time,\nDaniel, I lost track.\n\n512\n00:26:41.180 --> 00:26:42.800\n&gt;&gt; You got four minutes, three minutes.\n\n513\n00:26:42.800 --> 00:26:47.780\n&gt;&gt; All right, so I can do this quick,\nwe'll shake that same pool, right?\n\n514\n00:26:47.780 --> 00:26:55.287\nAnd I'll click Next and I'm gonna call\nthis one my Parody and, I'll click Next.\n\n515\n00:26:55.287 --> 00:26:57.850\nNot worried about enclosures.\n\n516\n00:26:57.850 --> 00:26:59.200\nWe'll choose parody.\n\n517\n00:27:01.120 --> 00:27:03.947\nAnd I'll do thin provision for\nthis one, since we didn't see that.\n\n518\n00:27:03.947 --> 00:27:05.474\nAnd I'll click next.\n\n519\n00:27:05.474 --> 00:27:10.833\nAnd notice it doesn't say\nanything about maximum size.\n\n520\n00:27:10.833 --> 00:27:12.120\nWhereas when we did the fixed,\n\n521\n00:27:12.120 --> 00:27:14.600\nit's telling you this is\nas big as you can make it.\n\n522\n00:27:14.600 --> 00:27:16.150\nBecause it actually has\nto claim the space,\n\n523\n00:27:16.150 --> 00:27:18.090\nthe space has to be available to make it.\n\n524\n00:27:18.090 --> 00:27:20.980\nWhen I'm doing thin provision,\nhey, do whatever you want.\n\n525\n00:27:20.980 --> 00:27:23.020\nJust know that if I start to grow and\nrun out of space,\n\n526\n00:27:23.020 --> 00:27:24.800\nyou're gonna need more drives.\n\n527\n00:27:24.800 --> 00:27:29.410\nAll right, so we'll make this guy,\nI dunno, 100 gigabytes in size.\n\n528\n00:27:29.410 --> 00:27:32.870\nWe'll click Next &gt; Create.\n\n529\n00:27:32.870 --> 00:27:37.219\nAnd it'll go through and\nit'll create my parody stripe, or\n\n530\n00:27:37.219 --> 00:27:40.535\nmy parody space,\nI guess we should call it.\n\n531\n00:27:40.535 --> 00:27:44.470\nParody virtual disk would be\na technical way to say that.\n\n532\n00:27:44.470 --> 00:27:45.930\nAnd I'll go and use the wizard right here.\n\n533\n00:27:45.930 --> 00:27:47.270\nI'll say, yep, open that up.\n\n534\n00:27:48.610 --> 00:27:54.410\nAnd I'll click Next, and we'll choose\nthat disc 11, 100 gigabytes in size.\n\n535\n00:27:54.410 --> 00:27:58.490\nEven though I know it's not taking up 100\ngigabytes right now, I'll click Next.\n\n536\n00:27:59.800 --> 00:28:05.840\nAnd, I'm gonna say, I'm gonna make this,\nI'm just gonna use 40 gigabytes of it.\n\n537\n00:28:05.840 --> 00:28:07.210\nCuz again, this is what's cool right.\n\n538\n00:28:07.210 --> 00:28:09.900\nI could actually make two\ndifferent volumes on that\n\n539\n00:28:09.900 --> 00:28:11.610\nvirtual disc that I've created.\n\n540\n00:28:13.520 --> 00:28:18.974\nIt's the flexibility, it's really a fun\ntechnology to play around with or to use.\n\n541\n00:28:18.974 --> 00:28:20.754\nI shouldn't say play around with.\n\n542\n00:28:20.754 --> 00:28:24.629\nI will call this one Parody.\n\n543\n00:28:24.629 --> 00:28:26.221\nI'll click next.\n\n544\n00:28:26.221 --> 00:28:30.445\nAnd create.\n\n545\n00:28:30.445 --> 00:28:32.051\nI'll give it just a second to finish up.\n\n546\n00:28:34.794 --> 00:28:38.151\nAnd the last thing, we already\ntalked about the solid state, and\n\n547\n00:28:38.151 --> 00:28:39.260\nthe tiered storage.\n\n548\n00:28:39.260 --> 00:28:40.280\nWhile this is finishing up,\n\n549\n00:28:40.280 --> 00:28:44.060\none more thing I wanna talk about,\nexpanding storage pools, right.\n\n550\n00:28:44.060 --> 00:28:47.660\nBecause we can add additional drives,\nto our storage pool.\n\n551\n00:28:47.660 --> 00:28:51.593\nAs soon as this finishes, I will show you\nbut, one thing you wanna keep in mind is,\n\n552\n00:28:51.593 --> 00:28:54.158\njust because you can add\ndrives to that storage pool,\n\n553\n00:28:54.158 --> 00:28:57.490\ndoesn't necessarily mean you\ncan expand your virtual disk.\n\n554\n00:28:57.490 --> 00:29:00.660\nHere's why, the way it treats this,\nit deals with them.\n\n555\n00:29:00.660 --> 00:29:02.620\nThey call them columns, all right?\n\n556\n00:29:02.620 --> 00:29:04.643\nSo here's an example,\nlet's say we don't have this.\n\n557\n00:29:07.703 --> 00:29:09.150\nLet's delete that.\n\n558\n00:29:09.150 --> 00:29:11.560\nAll right, so we got this,\nI got five disks.\n\n559\n00:29:11.560 --> 00:29:13.752\nAnd I've got a couple\nvirtual disks that I created.\n\n560\n00:29:13.752 --> 00:29:17.110\nOne that's maybe doing\nparity across five disks.\n\n561\n00:29:17.110 --> 00:29:20.350\nAnother one, who knows, maybe it's\na mirror with three drives, what have you.\n\n562\n00:29:20.350 --> 00:29:22.470\nAnd I want to add more space.\n\n563\n00:29:22.470 --> 00:29:26.840\nSo what I'm gonna do is I'm going\nto throw another drive in there.\n\n564\n00:29:26.840 --> 00:29:30.880\nAnd I got to expand this Virtual Disk 1,\nand it says, you can't.\n\n565\n00:29:30.880 --> 00:29:32.680\nYou don't have any drive space.\n\n566\n00:29:32.680 --> 00:29:34.770\nWell, I just threw another drive in there.\n\n567\n00:29:34.770 --> 00:29:37.720\nThe problem is the layout for\nthat requires five disks,\n\n568\n00:29:37.720 --> 00:29:39.910\nyou added one disk, right.\n\n569\n00:29:39.910 --> 00:29:44.380\nSo you would need to add five disks\nto be able to expand that out.\n\n570\n00:29:44.380 --> 00:29:46.990\nAll right now if there's\nspace available left here,\n\n571\n00:29:46.990 --> 00:29:48.680\nyes I can make it grow that way.\n\n572\n00:29:48.680 --> 00:29:52.200\nBut once I run out of space there,\nI would have to add five more discs.\n\n573\n00:29:52.200 --> 00:29:55.480\nOr if it was a mirror that was using\nthree discs, I'd need three more discs.\n\n574\n00:29:55.480 --> 00:29:58.520\nI could expand this one,\nbecause it's only using three, and\n\n575\n00:29:58.520 --> 00:30:01.300\nI have now three discs\navailable all right?\n\n576\n00:30:01.300 --> 00:30:02.299\nSo something to keep in mind.\n\n577\n00:30:03.340 --> 00:30:06.330\nRight, I'll close this and\nwe are good to go.\n\n578\n00:30:06.330 --> 00:30:10.010\nI've got another volume if\nI open up file explorer,\n\n579\n00:30:12.050 --> 00:30:18.670\nthere is my Parody drive and now I know\ninformation there is protected by Parody.\n\n580\n00:30:18.670 --> 00:30:22.840\nNow let's say I do want to add\nanother drive to that pool.\n\n581\n00:30:22.840 --> 00:30:27.333\nI can simply right click on it\nchoose add physical disk and\n\n582\n00:30:27.333 --> 00:30:29.600\nI can grab another one of my drives.\n\n583\n00:30:30.732 --> 00:30:32.863\nSet as a hot spare do\nwhat ever I want to do.\n\n584\n00:30:32.863 --> 00:30:34.322\nClick Ok.\n\n585\n00:30:34.322 --> 00:30:38.047\nAnd there we go that drive\nis now part of that pool so\n\n586\n00:30:38.047 --> 00:30:40.690\nI can make a new virtual disk.\n\n587\n00:30:40.690 --> 00:30:45.140\nThat is gonna take up space from that\nnew drive that I just added, all right.\n\n588\n00:30:45.140 --> 00:30:48.014\nSo that's really storage space,\nthere's a lot of parts to it there.\n\n589\n00:30:48.014 --> 00:30:49.926\nYou really gotta kinda get in there and\n\n590\n00:30:49.926 --> 00:30:53.748\nplay with it as you start to wrap your\nbrain around, wait, I've got pools,\n\n591\n00:30:53.748 --> 00:30:57.260\nI've got disks, and then I've got\nvolumes on top of that, right.\n\n592\n00:30:57.260 --> 00:30:59.964\nSo there's a lot of layers\nthere that are going on.\n\n593\n00:30:59.964 --> 00:31:03.067\nBut once you start playing with it,\nI think it It starts to make sense and\n\n594\n00:31:03.067 --> 00:31:04.270\nit's really not that bad.\n\n595\n00:31:04.270 --> 00:31:09.740\nAnd again, it's the flexibility that I\nget that really drives this technology.\n\n596\n00:31:09.740 --> 00:31:11.440\nCuz we know Raid's are good tried and\n\n597\n00:31:11.440 --> 00:31:14.490\ntrue, been around forever,\ntype of technology.\n\n598\n00:31:14.490 --> 00:31:16.220\nWhy do I want to get rid of that?\n\n599\n00:31:16.220 --> 00:31:18.500\nThe flexibility here that I can do.\n\n600\n00:31:18.500 --> 00:31:24.710\nI can get that JVOD,\nthat just basic JBOD, right?\n\n601\n00:31:26.330 --> 00:31:28.210\nJust basic, God,\nI can't remember that acronym.\n\n602\n00:31:28.210 --> 00:31:30.240\nAll of a sudden I've got a brain cramp.\n\n603\n00:31:30.240 --> 00:31:33.402\nBut we can get an enclosure, and\nwe can throw drives in there.\n\n604\n00:31:33.402 --> 00:31:35.614\nAnd we can make these,\nif we can modify them,\n\n605\n00:31:35.614 --> 00:31:39.107\nwithout having to worry about backing\nup my data, tearing it all down,\n\n606\n00:31:39.107 --> 00:31:42.310\nrebuilding it, and\nthen trying to restore that data.\n\n607\n00:31:42.310 --> 00:31:45.210\n&gt;&gt; Some very cool stuff, this is\nsomething that you're gonna want to.\n\n608\n00:31:45.210 --> 00:31:48.080\nAgain, we've been saying this,\nkind of beating this drum since we\n\n609\n00:31:48.080 --> 00:31:51.040\nbeen going through this series is,\nyou're going to want to do this.\n\n610\n00:31:51.040 --> 00:31:54.780\nYou're not going to just want to watch\nMike and go, yes, yes, I totally get that.\n\n611\n00:31:54.780 --> 00:31:56.520\nBuild a server.\n\n612\n00:31:56.520 --> 00:31:58.372\nGet some drives connected to it.\n\n613\n00:31:58.372 --> 00:32:00.404\nAnd attempt to actually make\nthis stuff work because,\n\n614\n00:32:00.404 --> 00:32:02.576\nthat's what's going to really\nsolidify it in your mind.\n\n615\n00:32:02.576 --> 00:32:05.642\nAnd you'll be able to watch Mike,\ndo exactly what it is he's doing.\n\n616\n00:32:05.642 --> 00:32:07.054\nTry to set up the exact same type of lab.\n\n617\n00:32:07.054 --> 00:32:09.514\nThat's what's gonna make\nit really sync home for\n\n618\n00:32:09.514 --> 00:32:11.540\nyou on how this is supposed to work.\n\n619\n00:32:11.540 --> 00:32:13.270\n&gt;&gt; You know what,\ncan we do one more thing real quick?\n\n620\n00:32:13.270 --> 00:32:14.110\n&gt;&gt; Do you wanna do one more thing?\n\n621\n00:32:14.110 --> 00:32:15.080\n&gt;&gt; I do wanna do one more thing.\n\n622\n00:32:15.080 --> 00:32:17.951\n&gt;&gt; You know, I'm feeling like Santa Claus\ntoday, so Merry Christmas Mike,\n\n623\n00:32:17.951 --> 00:32:18.880\ndo one more thing.\n\n624\n00:32:18.880 --> 00:32:20.070\n&gt;&gt; Yeah.\n&gt;&gt; There you go, bonus round.\n\n625\n00:32:20.070 --> 00:32:21.073\n&gt;&gt; That's why I love\nworking with this guy.\n\n626\n00:32:21.073 --> 00:32:23.057\n&gt;&gt; [LAUGH]\n&gt;&gt; You know what I was thinking,\n\n627\n00:32:23.057 --> 00:32:23.760\nlet's test this out.\n\n628\n00:32:23.760 --> 00:32:26.070\nI got that parity one set up.\n\n629\n00:32:26.070 --> 00:32:28.180\nLet's put a file on there and\nknock a drive out.\n\n630\n00:32:28.180 --> 00:32:28.900\n&gt;&gt; Let's see what happens.\n\n631\n00:32:28.900 --> 00:32:29.730\n&gt;&gt; Let's see what happens.\n\n632\n00:32:29.730 --> 00:32:30.770\n&gt;&gt; Why not?\n&gt;&gt; Right, why not?\n\n633\n00:32:30.770 --> 00:32:32.345\n&gt;&gt; Run it up the flag pole,\nsee who salutes.\n\n634\n00:32:32.345 --> 00:32:34.725\n&gt;&gt; Exactly, so\nwe're gonna go back over here.\n\n635\n00:32:34.725 --> 00:32:36.775\nWe are gonna show you a little\nbit of this in action.\n\n636\n00:32:36.775 --> 00:32:39.565\nI'm gonna create a new\nfolder on this drive.\n\n637\n00:32:39.565 --> 00:32:42.095\nAnd in there, I'll go ahead and\njust call it New Folder.\n\n638\n00:32:42.095 --> 00:32:44.785\nI'll even make a new file\ninside that new folder.\n\n639\n00:32:44.785 --> 00:32:46.752\nAnd I'm gonna start using\nmy auctioneer voice, so\n\n640\n00:32:46.752 --> 00:32:49.326\nwe can get this done in the time\nallotted by Daniel, so there we go.\n\n641\n00:32:49.326 --> 00:32:50.729\n&gt;&gt; Check, check, Michael.\n\n642\n00:32:50.729 --> 00:32:54.065\n&gt;&gt; I got my new text document\ncreated on that parity drive.\n\n643\n00:32:54.065 --> 00:32:57.530\nNow, the trick is to try to\nfigure out which drive I want to\n\n644\n00:32:57.530 --> 00:33:00.300\nkill that is part of that.\n\n645\n00:33:00.300 --> 00:33:08.469\nSo let me open up, I need device manager\nis gonna do what I want it to do.\n\n646\n00:33:08.469 --> 00:33:11.028\nSo let's go to Device Manager.\n\n647\n00:33:13.160 --> 00:33:14.543\nCome on Windows, play along.\n\n648\n00:33:14.543 --> 00:33:15.410\n&gt;&gt; You can do it.\n\n649\n00:33:15.410 --> 00:33:18.290\n&gt;&gt; Play along.\n\n650\n00:33:18.290 --> 00:33:19.914\nYou can do it.\n\n651\n00:33:19.914 --> 00:33:22.956\nIt knows I'm in a hurry and\nit's not going to-\n\n652\n00:33:22.956 --> 00:33:23.559\n&gt;&gt; Of course not.\n\n653\n00:33:23.559 --> 00:33:28.082\n&gt;&gt; Is Device Manager,\ninteresting, let's see.\n\n654\n00:33:32.864 --> 00:33:34.450\nIsn't that crazy?\n\n655\n00:33:35.960 --> 00:33:37.200\nAll right let's try looking for\nit this way.\n\n656\n00:33:37.200 --> 00:33:39.270\nLet's go to Control Panel.\n\n657\n00:33:42.579 --> 00:33:49.210\nAnd let's change this to my large icon\nview, and then we'll go to Device Manager.\n\n658\n00:33:49.210 --> 00:33:50.126\nStrange how the search doesn't find it.\n\n659\n00:33:50.126 --> 00:33:51.892\n&gt;&gt; It does it exist.\n\n660\n00:33:51.892 --> 00:33:55.000\n&gt;&gt; This is why Microsoft should\nstay out of the search business.\n\n661\n00:33:55.000 --> 00:33:58.480\n&gt;&gt; Yeah. [LAUGH] &gt;&gt; Maybe I spelled it\nwrong, I'll give Microsoft a chance there.\n\n662\n00:33:58.480 --> 00:34:00.972\nSo I'm gonna do disk drives,\nand I've got all these disks.\n\n663\n00:34:00.972 --> 00:34:03.430\nI'm gonna pick one random\ndrive from way down here.\n\n664\n00:34:03.430 --> 00:34:06.710\nI'm gonna right click on it and\nI'm going to disable it.\n\n665\n00:34:06.710 --> 00:34:09.195\nIf it crashes the operating system we'll\nknow that I picked the wrong drive.\n\n666\n00:34:09.195 --> 00:34:11.489\n&gt;&gt; [LAUGH]\n&gt;&gt; I'll say yes,\n\n667\n00:34:11.489 --> 00:34:13.560\nI really do want to disable that.\n\n668\n00:34:13.560 --> 00:34:16.530\n&gt;&gt; That can cause instability\nin your system [LAUGH].\n\n669\n00:34:16.530 --> 00:34:21.560\n&gt;&gt; So that drive is now disabled,\nlet's see what happened over here.\n\n670\n00:34:21.560 --> 00:34:25.343\nLet's do some refreshing\non my storage pools.\n\n671\n00:34:28.648 --> 00:34:32.854\nI might have to reboot to\nactually get that to kick in,\n\n672\n00:34:32.854 --> 00:34:36.505\nbecause that is done\nthrough Device Manager.\n\n673\n00:34:36.505 --> 00:34:37.948\nYeah, let's restart the server.\n\n674\n00:34:42.766 --> 00:34:44.600\nCuz it's enabled now,\nright So I'll reboot.\n\n675\n00:34:44.600 --> 00:34:45.910\nIt's gonna load up all the devices,\n\n676\n00:34:45.910 --> 00:34:48.670\nit'll see that one's disabled and\nit won't load up that device.\n\n677\n00:34:48.670 --> 00:34:51.470\nSo I'll keep an eye on our screen here.\n\n678\n00:34:51.470 --> 00:34:53.794\nThat was node four?\n\n679\n00:34:57.060 --> 00:35:00.221\nLet's double check the storage pools,\nyeah.\n\n680\n00:35:03.451 --> 00:35:07.654\nAs soon as it reboots.\n\n681\n00:35:07.654 --> 00:35:09.381\nLet's double check, yeah,\nthat was node four, so\n\n682\n00:35:09.381 --> 00:35:11.380\nlet's see what my thumbnail looks like.\n\n683\n00:35:11.380 --> 00:35:14.300\nJust an easy way to see if it's done\nrebooting before I attempt to remote\n\n684\n00:35:14.300 --> 00:35:15.590\ndesktop into it.\n\n685\n00:35:15.590 --> 00:35:17.460\nWatch this little thumbnail down here.\n\n686\n00:35:17.460 --> 00:35:19.680\nWe'll connect back to it and\nsee what's going on.\n\n687\n00:35:19.680 --> 00:35:21.680\nIt does seem to be booting, good sign.\n\n688\n00:35:21.680 --> 00:35:22.704\n&gt;&gt; That's a good sign, yeah.\n\n689\n00:35:22.704 --> 00:35:24.413\n[LAUGH]\n&gt;&gt; That I picked a drive that does not\n\n690\n00:35:24.413 --> 00:35:25.950\ncontain the operating system.\n\n691\n00:35:28.180 --> 00:35:31.210\nSo it's gotta be close.\n\n692\n00:35:31.210 --> 00:35:34.349\nThumbnails a little delayed there so\nwe will try it.\n\n693\n00:35:36.674 --> 00:35:40.650\nUnless it's having failures,\nmaybe I did pick the wrong drive [LAUGH].\n\n694\n00:35:40.650 --> 00:35:44.047\nIn that case, we'll edit this and\nwe'll just do away with that extra thing.\n\n695\n00:35:44.047 --> 00:35:45.459\n&gt;&gt; I think something's happening, yeah.\n\n696\n00:35:45.459 --> 00:35:46.431\n&gt;&gt; Woo-hoo!\n\n697\n00:35:46.431 --> 00:35:50.250\n&gt;&gt; Mike wipes the bead\nof sweat from his brow.\n\n698\n00:35:52.890 --> 00:35:54.920\n&gt;&gt; It is going a little slower.\n\n699\n00:35:54.920 --> 00:35:57.380\nIt's probably working now going,\nwhat the heck happened?\n\n700\n00:35:57.380 --> 00:35:58.121\n&gt;&gt; Where's that drive?\n\n701\n00:35:58.121 --> 00:36:00.800\n&gt;&gt; Where's my automatic spare,\ndid he include one in here?\n\n702\n00:36:00.800 --> 00:36:02.794\nLet's see if we can fix it.\n\n703\n00:36:02.794 --> 00:36:05.851\nSo we'll come back in here,\nget myself logged in.\n\n704\n00:36:08.959 --> 00:36:13.960\n[COUGH] Nice black screen of impatience.\n\n705\n00:36:13.960 --> 00:36:17.240\nAs I wait, there comes our desktop.\n\n706\n00:36:17.240 --> 00:36:20.790\n&gt;&gt; As Don always says, look what they did\nhere, black text on a black background.\n\n707\n00:36:20.790 --> 00:36:21.365\nThat really works out.\n\n708\n00:36:21.365 --> 00:36:24.419\n&gt;&gt; [LAUGH] Makes it to easy.\n\n709\n00:36:24.419 --> 00:36:28.406\nLet's see if I can open up File Explorer\nbefore server manager starts choking all\n\n710\n00:36:28.406 --> 00:36:29.470\nthe resources here.\n\n711\n00:36:30.690 --> 00:36:33.050\nAnd we'll go to this PC and\n\n712\n00:36:33.050 --> 00:36:38.110\nlook, parity is still there, there's my\nnew folder, there's my new text document.\n\n713\n00:36:38.110 --> 00:36:41.110\nAll good,\njust in case I kick the wrong one.\n\n714\n00:36:41.110 --> 00:36:42.630\nMirror's still there.\n\n715\n00:36:42.630 --> 00:36:46.710\nI didn't actually make a folder on\nthis one, but I can still write to it.\n\n716\n00:36:46.710 --> 00:36:48.620\nSo everything's looking good there.\n\n717\n00:36:48.620 --> 00:36:51.250\nWe'll get Server Manager now,\nwe'll let it have its fun.\n\n718\n00:36:51.250 --> 00:36:54.850\nI've got some notifications though,\nServer Manager is not responding.\n\n719\n00:36:55.930 --> 00:36:56.740\nThere it goes.\n\n720\n00:36:56.740 --> 00:36:59.741\nIt was mad because, again,\nif you don't wait for Server Manager,\n\n721\n00:36:59.741 --> 00:37:03.137\nthis is why I always choose to not\nstart it automatically, Server manager.\n\n722\n00:37:03.137 --> 00:37:05.030\n&gt;&gt; Yep\n&gt;&gt; Because otherwise you just kind of\n\n723\n00:37:05.030 --> 00:37:06.230\nhave to wait.\n\n724\n00:37:06.230 --> 00:37:09.050\nAnd normally when I'm rebooting a server,\nit's not just for giggles.\n\n725\n00:37:09.050 --> 00:37:11.490\nIt's because I wanna get back in there and\ndo something, and I have to wait for\n\n726\n00:37:11.490 --> 00:37:12.660\nServer Manager.\n\n727\n00:37:12.660 --> 00:37:14.020\nI've got some notifications over here.\n\n728\n00:37:14.020 --> 00:37:17.010\nLet's see if they have anything\nto do with what we're doing.\n\n729\n00:37:17.010 --> 00:37:18.380\nNope, updates and SmartScreen.\n\n730\n00:37:20.410 --> 00:37:25.530\nSo let Server Manager populate, we'll\nget down to our file storage services.\n\n731\n00:37:25.530 --> 00:37:30.465\nWe'll go check on it and\nsee what it did with that failed drive.\n\n732\n00:37:35.212 --> 00:37:36.590\nYou know what I just realized?\n\n733\n00:37:36.590 --> 00:37:37.430\n&gt;&gt; What did you realize?\n\n734\n00:37:37.430 --> 00:37:39.280\n&gt;&gt; We didn't use all of\nthe drives in our pool,\n\n735\n00:37:39.280 --> 00:37:41.443\nwhat if I killed a drive that\nwasn't actually being used?\n\n736\n00:37:41.443 --> 00:37:43.070\n&gt;&gt; [LAUGH] Well you get the idea.\n\n737\n00:37:43.070 --> 00:37:46.310\n&gt;&gt; That would be sad, yes,\nthat would be a sad demonstration.\n\n738\n00:37:46.310 --> 00:37:48.090\n&gt;&gt; That's kind of an on the fly thing.\n\n739\n00:37:48.090 --> 00:37:48.630\n&gt;&gt; It was.\n\n740\n00:37:48.630 --> 00:37:49.160\n&gt;&gt; We get the idea.\n\n741\n00:37:50.350 --> 00:37:52.570\n&gt;&gt; Yeah, it's tricky when you're\nvirtualizing because like I said,\n\n742\n00:37:52.570 --> 00:37:56.600\nthey all show up as just disc one,\ndisc two, disc three.\n\n743\n00:37:58.730 --> 00:38:00.040\nIt's hard to tell which one's which.\n\n744\n00:38:01.740 --> 00:38:03.010\nAll right, so we'll go to pool one.\n\n745\n00:38:05.110 --> 00:38:10.488\nAnd it looks like none of my\ndrives have failed for parity.\n\n746\n00:38:13.723 --> 00:38:18.740\nNone of them either, pool one,\nso all of those drives are fine.\n\n747\n00:38:18.740 --> 00:38:23.232\nNormally what would happen is you would\nsee a little yellow exclamation point here\n\n748\n00:38:23.232 --> 00:38:25.680\nthat would show you the drive had failed.\n\n749\n00:38:25.680 --> 00:38:29.830\nBecause I have got a hot spare, it would\nhave automatically started using that, and\n\n750\n00:38:29.830 --> 00:38:32.490\nit's easy as right-clicking on here and\nremoving.\n\n751\n00:38:32.490 --> 00:38:35.980\nAnother option that's pretty\ncool is this toggle drive light.\n\n752\n00:38:35.980 --> 00:38:39.710\nWhen you have the JBOD, which my brain\nfinally kicked in, just a bunch of discs.\n\n753\n00:38:39.710 --> 00:38:41.640\nI don't know why I couldn't\nthink of that earlier.\n\n754\n00:38:41.640 --> 00:38:44.890\nTrying to figure out which drive\nhas failed can be a tricky,\n\n755\n00:38:44.890 --> 00:38:48.880\nyou can toggle the drive light and\nthat'll actually make it blink in there.\n\n756\n00:38:48.880 --> 00:38:53.480\nI don't have that feature obviously here\nwith the virtual disk so I can't use that.\n\n757\n00:38:53.480 --> 00:38:58.120\nBut anyway, that one didn't\nwork out quite as it planned.\n\n758\n00:38:58.120 --> 00:39:00.470\nMaybe if we have some more time in\nanother episode I'll try that again.\n\n759\n00:39:00.470 --> 00:39:02.650\n&gt;&gt; Well you know,\nyou get the gist of what's going on.\n\n760\n00:39:02.650 --> 00:39:06.440\nWe're trying to show you that drives fail\nand what it looks like when a drive fails.\n\n761\n00:39:06.440 --> 00:39:10.786\nSo I'm sure that Mike will be able to\nkill a drive that we're actually using.\n\n762\n00:39:10.786 --> 00:39:13.680\n[LAUGH] On the next show about storage.\n\n763\n00:39:13.680 --> 00:39:15.970\nWhich I think we do have another\nshow coming up about storage,\n\n764\n00:39:15.970 --> 00:39:20.451\nso don't fret, ladies and gentlemen, there\nwill be a failed drive within that series.\n\n765\n00:39:20.451 --> 00:39:21.394\n&gt;&gt; [LAUGH]\n&gt;&gt; That being said, Mike,\n\n766\n00:39:21.394 --> 00:39:23.703\nanything else we wanna add to this\nshow before we close her down?\n\n767\n00:39:23.703 --> 00:39:25.890\n&gt;&gt; No, I think we're good to go.\n\n768\n00:39:25.890 --> 00:39:29.690\n&gt;&gt; Well, we appreciate you guys joining us\ntoday, but it is time for us to sign off.\n\n769\n00:39:29.690 --> 00:39:32.720\nThat's right, for ITProTV I've\nbeen your host, Daniel Lowrie.\n\n770\n00:39:32.720 --> 00:39:33.530\n&gt;&gt; And I'm Mike Rodrick.\n\n771\n00:39:33.530 --> 00:39:34.886\n&gt;&gt; And we'll see you next time.\n\n772\n00:39:34.886 --> 00:39:41.490\n[MUSIC]\n\n773\n00:39:41.490 --> 00:39:44.115\nThank you for watching ITProTV.\n\n",
          "vimeoId": "191686258"
        },
        {
          "description": "In this episode, Daniel and Mike explore the Data Deduplication technology in Windows Server 2016. They begin by explaining how implementing Dedup can save storage space and then walk you through installing and configuring Dedup on a 2016 server.",
          "length": "1188",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-3-implement_data_deduplication-111016.00_19_33_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-3-implement_data_deduplication-111016.00_19_33_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-2-3-implement_data_deduplication-111016.00_19_33_21.Still001-sm.jpg",
          "title": "Implement Data Deduplication",
          "transcript": "WEBVTT\n\n1\n00:00:00.170 --> 00:00:02.297\nAll right, so enable-dedupvolume,\nspace, in this case I wanna do e:, and\n\n2\n00:00:02.297 --> 00:00:03.452\nthat's the volume I wanna deduplicate.\n\n3\n00:00:03.452 --> 00:00:07.157\n[CROSSTALK]\n\n4\n00:00:07.157 --> 00:00:10.952\n[MUSIC]\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:10.952 --> 00:00:12.756\n[MUSIC]\n\n6\n00:00:12.756 --> 00:00:13.860\n&gt;&gt; All right, greetings everyone.\n\n7\n00:00:13.860 --> 00:00:16.550\nAnd welcome to another\ngreat episode of ITProTV.\n\n8\n00:00:16.550 --> 00:00:18.470\nI'm your host, Daniel Lowrie.\n\n9\n00:00:18.470 --> 00:00:22.560\nAnd in today's episode, well, moving on,\nmore of our installation, storage,\n\n10\n00:00:22.560 --> 00:00:25.730\nand compute series for Window server 2016.\n\n11\n00:00:25.730 --> 00:00:28.930\nAnd leaning as far back as\nhe can off of the screen\n\n12\n00:00:28.930 --> 00:00:31.520\nto my left is our good\nfriend Mister Mike Rodrick.\n\n13\n00:00:31.520 --> 00:00:32.550\nMike welcome back to the show.\n\n14\n00:00:32.550 --> 00:00:33.570\nHow’s it going today sir?\n\n15\n00:00:33.570 --> 00:00:35.920\n&gt;&gt; It's going great today thanks for\nhaving me back.\n\n16\n00:00:35.920 --> 00:00:37.807\nContinuing on as you said\nwith our server 2016.\n\n17\n00:00:37.807 --> 00:00:42.810\nIn this episode we are going to focus in\non something called data duplication.\n\n18\n00:00:42.810 --> 00:00:44.770\nIt's just a fun one to say,\nsay it with me.\n\n19\n00:00:44.770 --> 00:00:46.214\nData Deduplication.\n\n20\n00:00:46.214 --> 00:00:48.261\n[LAUGH]\n&gt;&gt; A little harmony there.\n\n21\n00:00:48.261 --> 00:00:50.730\n[LAUGH]\n&gt;&gt; It rolls right off the tongue,\n\n22\n00:00:50.730 --> 00:00:52.010\nI like it, I like it.\n\n23\n00:00:52.010 --> 00:00:56.460\nSo the idea behind data deduplication-\n&gt;&gt; And now you can't say it.\n\n24\n00:00:56.460 --> 00:00:58.320\n&gt;&gt; Now yeah,\nI'll never say it right again.\n\n25\n00:00:58.320 --> 00:01:01.070\nIs that we're gonna deduplicate our data.\n\n26\n00:01:01.070 --> 00:01:03.290\nDone and done, yeah, kidding.\n\n27\n00:01:03.290 --> 00:01:07.860\nWhen we look at our data obviously\nstorage is something that we fight with\n\n28\n00:01:07.860 --> 00:01:10.550\nall the time,\nin an enterprise environment especially.\n\n29\n00:01:10.550 --> 00:01:13.980\nBut you at home probably even\non your old home networks\n\n30\n00:01:13.980 --> 00:01:15.010\ndeal with this kind of thing.\n\n31\n00:01:15.010 --> 00:01:18.680\nI know me I've got movies,\nI've got music, I've got pictures.\n\n32\n00:01:18.680 --> 00:01:22.220\nIt's like before you know you\nstart running out of space.\n\n33\n00:01:22.220 --> 00:01:25.010\nIn a corporate environment\nI'll see typical\n\n34\n00:01:25.010 --> 00:01:26.360\nnot dealing with movies and pictures.\n\n35\n00:01:26.360 --> 00:01:31.080\nBut we're dealing with documents, PDFs,\nfiles that my users are generating.\n\n36\n00:01:31.080 --> 00:01:35.680\nAnd what happens is we have\n100s of users that have\n\n37\n00:01:35.680 --> 00:01:41.500\ncopies of the same document or slightly\nmodified versions of the same document.\n\n38\n00:01:41.500 --> 00:01:45.900\nAnd so we're storing this information,\nwe're basically storing redundant data.\n\n39\n00:01:45.900 --> 00:01:50.140\nIf we could get rid of that,\nwe could free up a lot of space.\n\n40\n00:01:50.140 --> 00:01:52.450\nAnd that's not the only place\nwe can use deduplication.\n\n41\n00:01:52.450 --> 00:01:55.360\nWe can use it on file servers,\nit's a great use of it.\n\n42\n00:01:55.360 --> 00:02:00.590\nWe can also use it in Hyper V with virtual\ndesktop infrastructure or a VDI setup.\n\n43\n00:02:00.590 --> 00:02:03.620\nCuz if you think about that,\nif I'm spawning up virtual machines for\n\n44\n00:02:03.620 --> 00:02:08.640\nall of my users, well, the good\nmajority of those virtual desktops or\n\n45\n00:02:08.640 --> 00:02:11.590\nvirtual machines\nare duplicate information.\n\n46\n00:02:11.590 --> 00:02:14.960\nAll right, I mean the underlying Windows\noperating system files, things like that.\n\n47\n00:02:14.960 --> 00:02:19.580\nSo, we can get rid of the duplicate\nstuff which really reduced the amount\n\n48\n00:02:19.580 --> 00:02:23.950\nof space that we are using for\nstorage, okay?\n\n49\n00:02:23.950 --> 00:02:27.680\nSo that's the idea,\nnow it's not a new concept.\n\n50\n00:02:27.680 --> 00:02:29.390\nWe actually had this,\nI wanna say it was 2008.\n\n51\n00:02:29.390 --> 00:02:32.020\nIt might have been back in 2000 or\nI think 2008.\n\n52\n00:02:32.020 --> 00:02:37.390\nWe had the single instance storage and\nwhat that would do if it found files that\n\n53\n00:02:37.390 --> 00:02:42.100\nwere exactly alike it could remove one of\nthose files and replace it with a pointer,\n\n54\n00:02:42.100 --> 00:02:46.740\nbasically, that pointed to the other copy\nof the file, because why have two copies?\n\n55\n00:02:46.740 --> 00:02:51.350\nBut with the single instancing it was\nlooking at the entire file as a whole.\n\n56\n00:02:51.350 --> 00:02:53.900\nSo, if Daniel and\nI had a copy of the same pdf and\n\n57\n00:02:53.900 --> 00:02:57.878\nI changed one character in there,\nmine is not the same as his anymore.\n\n58\n00:02:57.878 --> 00:03:02.420\nAnd so it have to store both complete\ncopies even though 99.9 percent of them\n\n59\n00:03:02.420 --> 00:03:03.350\nwere exactly the same.\n\n60\n00:03:03.350 --> 00:03:06.320\nThere was that one character\nthat was different.\n\n61\n00:03:06.320 --> 00:03:10.920\nWith data deduplication it\nworks with blocks of files.\n\n62\n00:03:10.920 --> 00:03:16.690\nIt breaks the files down into\nsmaller chunks and looks at those.\n\n63\n00:03:16.690 --> 00:03:20.060\nAnd so if we have that same scenario\nwhere Daniel and I have the same PDF.\n\n64\n00:03:20.060 --> 00:03:22.670\nMine's one word off or one character off.\n\n65\n00:03:22.670 --> 00:03:24.580\nIt can say, look,\nthe majority of this, this chunk and\n\n66\n00:03:24.580 --> 00:03:26.170\nthis chunk are exactly the same.\n\n67\n00:03:26.170 --> 00:03:29.140\nI only need to store one of these chunks,\nright?\n\n68\n00:03:29.140 --> 00:03:33.100\nThat's the way data deduplication\nis gonna work, it's very efficient.\n\n69\n00:03:33.100 --> 00:03:37.630\nIf I get a second, I'll try to go out to\nMicrosoft and find this site that can\n\n70\n00:03:37.630 --> 00:03:42.360\nshow you some of the average savings that\ncompanies are seeing in their storage,\n\n71\n00:03:42.360 --> 00:03:46.000\nfreeing up just from\nthe file data deduplication,\n\n72\n00:03:46.000 --> 00:03:49.650\nfreeing up 40% of their\nstorage on average.\n\n73\n00:03:49.650 --> 00:03:51.600\nThat's a huge chunk of storage.\n\n74\n00:03:51.600 --> 00:03:53.220\nThat's less storage I've gotta buy.\n\n75\n00:03:53.220 --> 00:03:56.090\nIt comes without saying,\nthose aren't cheap.\n\n76\n00:03:56.090 --> 00:03:59.820\nSo if I can reduce that or\nbacking up, right?\n\n77\n00:03:59.820 --> 00:04:02.040\nIf I can remove all that\nduplicate information.\n\n78\n00:04:02.040 --> 00:04:04.560\nI'll get a much smaller set\nof information to back up.\n\n79\n00:04:04.560 --> 00:04:07.490\nFantastic, that means\nmy backups are quicker.\n\n80\n00:04:07.490 --> 00:04:10.210\nThat means storing my\nbackups takes less space.\n\n81\n00:04:10.210 --> 00:04:14.050\nThat means I can keep more\nversions of my backups, right?\n\n82\n00:04:14.050 --> 00:04:15.700\nBecause normally it's first in, first out.\n\n83\n00:04:15.700 --> 00:04:18.740\nYou do a new backup you gotta throw the\noldest one out cuz you're out of space.\n\n84\n00:04:18.740 --> 00:04:22.600\nWell if they're smaller,\nI can store more versions of that backup.\n\n85\n00:04:22.600 --> 00:04:25.810\nSo lots of good benefits\nto data deduplication.\n\n86\n00:04:25.810 --> 00:04:29.190\n&gt;&gt; Yeah, Mike,\nactually at a company I worked for, we and\n\n87\n00:04:29.190 --> 00:04:30.740\nemployed data deduplication.\n\n88\n00:04:30.740 --> 00:04:35.120\nAnd we went from, at the time I think we\nwere using LTO 5 backup storage tapes.\n\n89\n00:04:35.120 --> 00:04:39.070\nWe have a tape library and robot and\nwhole nine yards, it was awesome.\n\n90\n00:04:39.070 --> 00:04:44.390\nWe went from doing eight to ten\ntapes on a full backup down to six.\n\n91\n00:04:44.390 --> 00:04:48.060\n&gt;&gt; Wow.\n&gt;&gt; So almost half on a bad day,\n\n92\n00:04:48.060 --> 00:04:50.360\nalmost half of that data cut out of there.\n\n93\n00:04:50.360 --> 00:04:55.080\nIt cost a whole less money on those tapes,\non servicing, if something went wrong.\n\n94\n00:04:55.080 --> 00:04:57.620\nIf we had to pull from the full\nbackup it took less time.\n\n95\n00:04:57.620 --> 00:05:00.330\nIt was a whole lot better of a scenario.\n\n96\n00:05:00.330 --> 00:05:01.510\n&gt;&gt; And I was trying to look real quick.\n\n97\n00:05:01.510 --> 00:05:03.860\nDon't pull up my screen yet\nI'm still browsing around.\n\n98\n00:05:03.860 --> 00:05:07.199\n&gt;&gt; [LAUGH] It's too late, you're on,\ndon't [CROSSTALK] dear in the highlights.\n\n99\n00:05:07.199 --> 00:05:12.273\n&gt;&gt; I was trying to find,\nI thought I bookmarked that link with some\n\n100\n00:05:12.273 --> 00:05:17.370\nof the statistics on data deduplication,\nand maybe I did not.\n\n101\n00:05:18.370 --> 00:05:21.140\nLet's just check real quick here.\n\n102\n00:05:22.650 --> 00:05:23.730\nYes, here we go.\n\n103\n00:05:23.730 --> 00:05:24.732\nNow let's pull up my screen.\n\n104\n00:05:24.732 --> 00:05:27.635\n[LAUGH] [INAUDIBLE] This is Microsoft,\nright off of\n\n105\n00:05:27.635 --> 00:05:32.120\ntechnet.microsoft.com We'll scroll\ndown here to the middle of the page.\n\n106\n00:05:32.120 --> 00:05:35.570\nAnd here, they're showing\nsome typical space savings.\n\n107\n00:05:35.570 --> 00:05:38.160\nNow, of course, this is Microsoft.\n\n108\n00:05:38.160 --> 00:05:39.500\nThey're gonna be proud of their product.\n\n109\n00:05:39.500 --> 00:05:44.460\nBut user documents, if you're doing\ndata deduplication on user documents,\n\n110\n00:05:44.460 --> 00:05:47.300\n30 to 50% space savings.\n\n111\n00:05:47.300 --> 00:05:51.080\nDeployment shares, like software binaries,\ncab files, symbols, like if you got\n\n112\n00:05:51.080 --> 00:05:57.510\na software deployment point, or something\nlike that, 70 to 80% storage space.\n\n113\n00:05:57.510 --> 00:06:02.389\nVirtualization libraries, ISOs,\nvirtual hard disk files, etc,\n\n114\n00:06:02.389 --> 00:06:05.250\n85 to 95%\n&gt;&gt; Storage stuff a lot.\n\n115\n00:06:05.250 --> 00:06:10.300\nSpace savings, that's huge,\ngeneral file shares, 50 to 60%.\n\n116\n00:06:10.300 --> 00:06:13.220\nSo you see that these numbers could\n\n117\n00:06:13.220 --> 00:06:16.270\nreally make a difference in\nthe amount of storage you were using.\n\n118\n00:06:16.270 --> 00:06:19.110\nSo how do we implement data deduplication?\n\n119\n00:06:19.110 --> 00:06:20.740\nWell, it's a role that\nwe're gonna install.\n\n120\n00:06:20.740 --> 00:06:25.430\nSo I'm gonna switch over here\nto one of my 2016 servers.\n\n121\n00:06:25.430 --> 00:06:28.860\nAnd I've launched, as you can see here,\nthe add roles and features wizard.\n\n122\n00:06:28.860 --> 00:06:33.440\nI'll click next three times\nto get to the role screen.\n\n123\n00:06:33.440 --> 00:06:37.830\nAnd it's actually a subcomponent\nof the file and storage services.\n\n124\n00:06:37.830 --> 00:06:41.510\nI'll Expand that out,\nexpand that file in iSCSI services and\n\n125\n00:06:41.510 --> 00:06:44.150\nthere is my data deduplication.\n\n126\n00:06:44.150 --> 00:06:44.830\nWhen I check it,\n\n127\n00:06:44.830 --> 00:06:48.110\nit's gonna also install the file server\nrole because that was not on here.\n\n128\n00:06:48.110 --> 00:06:53.370\nSo we'll click add and\nthen I'll click next, and next.\n\n129\n00:06:53.370 --> 00:06:57.310\nAnd just in case, it doesn't require\na restart but I'll go ahead and check it.\n\n130\n00:06:57.310 --> 00:06:58.350\nAnd we'll click install,\n\n131\n00:06:58.350 --> 00:07:02.030\nand we'll give this a minute to\nrun through and install this.\n\n132\n00:07:02.030 --> 00:07:06.580\nAnd then once we've got it installed,\nthen we're gonna be able to initialize or\n\n133\n00:07:06.580 --> 00:07:08.670\nset up our data deduplication.\n\n134\n00:07:08.670 --> 00:07:11.000\nSo, this should just take a second.\n\n135\n00:07:11.000 --> 00:07:13.160\nBut yeah, really impressive numbers.\n\n136\n00:07:13.160 --> 00:07:14.930\nAnd we see this and it's very common.\n\n137\n00:07:14.930 --> 00:07:18.100\nWhen you think about the things\nthat your users are storing.\n\n138\n00:07:18.100 --> 00:07:23.050\nI know like here we go look at\nthe share and I'm sure Daniel and\n\n139\n00:07:23.050 --> 00:07:30.330\nI have the same copies of the same,\nthe books for Server 2016 for example.\n\n140\n00:07:30.330 --> 00:07:32.190\nRonnie and everybody has the same.\n\n141\n00:07:32.190 --> 00:07:33.010\nSo we've got what?\n\n142\n00:07:33.010 --> 00:07:35.230\nFive, six instructors out here,\nhosts here,\n\n143\n00:07:35.230 --> 00:07:40.210\nprobably all have copies\nof the same stuff, right?\n\n144\n00:07:40.210 --> 00:07:43.110\nAnd that's where we can really\nstart saving up some space.\n\n145\n00:07:43.110 --> 00:07:46.620\nAll right, it finish I'll go ahead and\nclick Close, and\n\n146\n00:07:46.620 --> 00:07:49.000\nI'll flip over to Power Shell.\n\n147\n00:07:49.000 --> 00:07:52.696\nAnd let's just take a look at get-command.\n\n148\n00:07:55.365 --> 00:07:57.116\n&gt;&gt; It's like speak command.\n\n149\n00:07:57.116 --> 00:07:58.917\n&gt;&gt; [LAUGH]\n&gt;&gt; Right?\n\n150\n00:07:58.917 --> 00:08:01.630\n&gt;&gt; *dedup\n&gt;&gt; Asterisk,\n\n151\n00:08:01.630 --> 00:08:03.400\nsee what we can run up with here.\n\n152\n00:08:03.400 --> 00:08:07.910\nAnd there we can see a whole bunch of\ncommands, disable, enable on a volume,\n\n153\n00:08:07.910 --> 00:08:09.620\nget your job, get metadata.\n\n154\n00:08:09.620 --> 00:08:13.240\nWe'll take a look at a few of these,\nNew DedupSchedule.\n\n155\n00:08:13.240 --> 00:08:17.630\nAnd, of course,\nyou guys know that you can do get-help,\n\n156\n00:08:17.630 --> 00:08:22.019\nget-DedupJob and get more information and\nsyntax help with any of these commands.\n\n157\n00:08:23.760 --> 00:08:26.980\n&gt;&gt; All right so let's clear that up,\nand let's try it out.\n\n158\n00:08:26.980 --> 00:08:33.080\nWe are gonna enable,\nI have a volume over here, E:.\n\n159\n00:08:33.080 --> 00:08:37.560\nAnd in there I needed something\nthat we could try to deduplicate.\n\n160\n00:08:37.560 --> 00:08:41.110\nSo I've got a folder,\nI've got a bunch of sub folders in there.\n\n161\n00:08:41.110 --> 00:08:46.400\nAnd each one of them, I just took some\nPDFs and duplicated the heck out of them.\n\n162\n00:08:46.400 --> 00:08:49.580\nSo they've all kind of got\nthe same files in there.\n\n163\n00:08:49.580 --> 00:08:53.110\nSo that's what we're\ngonna be working with.\n\n164\n00:08:53.110 --> 00:08:59.260\nLet's take a look at some sizes actually\nwhile we're here let's go to this PC.\n\n165\n00:08:59.260 --> 00:09:03.440\nAnd we'll see right now on E drive,\n\n166\n00:09:03.440 --> 00:09:06.870\n19.8 gig free of 19.9, so\nsomewhere around, what is that?\n\n167\n00:09:06.870 --> 00:09:07.840\n100 megabytes?\n\n168\n00:09:09.240 --> 00:09:10.150\nLet's do it this way.\n\n169\n00:09:10.150 --> 00:09:13.620\n&gt;&gt; Roughly I guess.\n\n170\n00:09:13.620 --> 00:09:17.030\n&gt;&gt; Properties, yeah 126 megabytes,\nour math is good, all right.\n\n171\n00:09:17.030 --> 00:09:18.430\nSo that's what we got to start with.\n\n172\n00:09:18.430 --> 00:09:20.148\nWhoops, PowerShell went away.\n\n173\n00:09:24.581 --> 00:09:26.460\nYeah, I guess it doesn't matter which one.\n\n174\n00:09:26.460 --> 00:09:30.282\nAll right,\nwe're gonna do enable-dedupvolume.\n\n175\n00:09:30.282 --> 00:09:33.852\nAll right, so enable-dedupvolume, space,\n\n176\n00:09:33.852 --> 00:09:39.420\nin this case I wanna do e:, and\nthat's the volume I wanna deduplicate.\n\n177\n00:09:39.420 --> 00:09:42.068\nSpace-\n&gt;&gt; Is that a bacteria now?\n\n178\n00:09:42.068 --> 00:09:42.884\n&gt;&gt; Yeah.\n[LAUGH]\n\n179\n00:09:42.884 --> 00:09:43.448\n&gt;&gt; [LAUGH]\n\n180\n00:09:43.448 --> 00:09:44.770\n&gt;&gt; That's a good one, UsageType\n\n181\n00:09:44.770 --> 00:09:45.862\n&gt;&gt; All right, and\n\n182\n00:09:45.862 --> 00:09:49.890\nI've got Back Up, Default,\nHyper-V, all right?\n\n183\n00:09:49.890 --> 00:09:51.020\nThose are my three options.\n\n184\n00:09:51.020 --> 00:09:53.600\nWhat is it that I'm trying to deduplicate?\n\n185\n00:09:53.600 --> 00:09:55.970\nAnd that changes a little\nbit that the way and\n\n186\n00:09:55.970 --> 00:09:57.920\nthe algorithms that\nworks in the background.\n\n187\n00:09:57.920 --> 00:10:00.830\nSo in my case it's not a back up, oops.\n\n188\n00:10:03.470 --> 00:10:05.488\nAnd I've lost my tag capabilities.\n\n189\n00:10:05.488 --> 00:10:10.550\nIt's not Hyper-V so I'm going with default\nwhich is for my file optimization.\n\n190\n00:10:10.550 --> 00:10:12.437\nAnd I'll go ahead and hit enter.\n\n191\n00:10:12.437 --> 00:10:19.570\nAnd a general error occurred that is not\ncovered by a more specific error code.\n\n192\n00:10:19.570 --> 00:10:20.550\n&gt;&gt; [LAUGH] I love those.\n\n193\n00:10:20.550 --> 00:10:22.800\n&gt;&gt; Interesting, permission is denied.\n\n194\n00:10:22.800 --> 00:10:24.090\nSo let's make sure.\n\n195\n00:10:24.090 --> 00:10:26.060\n&gt;&gt; You're running as admin?\n\n196\n00:10:26.060 --> 00:10:31.020\n&gt;&gt; Yeah, we might need a little bit of\nan administrative power, gosh darn.\n\n197\n00:10:31.020 --> 00:10:32.170\n&gt;&gt; You can't do it.\n\n198\n00:10:32.170 --> 00:10:36.620\n&gt;&gt; I can't right click,\nit's a challenge, run as administrator.\n\n199\n00:10:36.620 --> 00:10:38.470\nWe'll give the SM permissions there.\n\n200\n00:10:38.470 --> 00:10:40.388\nAnd we'll try that one more time.\n\n201\n00:10:40.388 --> 00:10:44.320\nAll right, enable,\nnew thing with PowerShell,\n\n202\n00:10:44.320 --> 00:10:47.642\nmuch more like Linux,\nwhere you saw it open up a new window.\n\n203\n00:10:47.642 --> 00:10:49.800\n&gt;&gt; Right, right.\n&gt;&gt; Yet my command was in my history,\n\n204\n00:10:49.800 --> 00:10:51.690\nthank you, Microsoft, all right.\n\n205\n00:10:51.690 --> 00:10:53.180\n&gt;&gt; Thank you Linus\n&gt;&gt; Yeah [LAUGH]\n\n206\n00:10:53.180 --> 00:10:55.528\n&gt;&gt; Thank you SystemV, thank you Bell Labs,\n\n207\n00:10:55.528 --> 00:10:57.480\n[LAUGH]\n&gt;&gt; Yeah [LAUGH] thank you Microsoft,\n\n208\n00:10:57.480 --> 00:10:58.548\nwe're finally catching up, yeah.\n\n209\n00:10:58.548 --> 00:11:00.112\n&gt;&gt; [LAUGH]\n&gt;&gt; Yeah [LAUGH] allright so\n\n210\n00:11:00.112 --> 00:11:02.560\nwe'll label deduplication on e volume and\n\n211\n00:11:02.560 --> 00:11:07.230\nthere we go with that administrative\npower shell makes a huge difference.\n\n212\n00:11:07.230 --> 00:11:10.820\nAnd you can see it hasn't\nreally done anything yet.\n\n213\n00:11:10.820 --> 00:11:13.195\nLet's run a couple grand and\nwe just enabled it.\n\n214\n00:11:13.195 --> 00:11:17.905\nAnd by default what it does is it won't\ndo anything with files that are less than\n\n215\n00:11:17.905 --> 00:11:19.595\nthree days old right?\n\n216\n00:11:19.595 --> 00:11:24.645\nOnce the file becomes three days old\nthen it's eligible for deduplication.\n\n217\n00:11:24.645 --> 00:11:27.955\nWe can change all that,\nwe can change all of this information.\n\n218\n00:11:27.955 --> 00:11:29.195\nLet's do this,\n\n219\n00:11:29.195 --> 00:11:32.675\nlet's do get dash and we'll run through\na couple of these, deduplication.\n\n220\n00:11:34.950 --> 00:11:37.410\nStatus would be a good one.\n\n221\n00:11:38.580 --> 00:11:43.810\nShows you what's going on, free space,\nsave space, optimize files volume.\n\n222\n00:11:43.810 --> 00:11:47.853\nLet's also do getdedup schedule.\n\n223\n00:11:47.853 --> 00:11:54.850\nOops, having trouble typing again,\nschedule.\n\n224\n00:11:55.910 --> 00:11:57.980\nAnd we can see optimization\nis going to run.\n\n225\n00:11:57.980 --> 00:11:58.910\nIt doesn't have a start time.\n\n226\n00:11:58.910 --> 00:12:02.600\nIt looks like garbage collection and\nscrubbing is gonna occur once a week.\n\n227\n00:12:02.600 --> 00:12:08.340\nIf we want to take a look at,\nwhat else should we look at here?\n\n228\n00:12:08.340 --> 00:12:15.734\nProperties and we'll do drive\nletter e: Doesn't like that.\n\n229\n00:12:17.632 --> 00:12:21.256\nDoesn't like that, interesting.\n\n230\n00:12:21.256 --> 00:12:23.781\nAs a system character.\n\n231\n00:12:26.268 --> 00:12:30.370\nDrive, well no drive loader, interesting.\n\n232\n00:12:30.370 --> 00:12:33.950\nI'm not sure why that one's not working,\n\n233\n00:12:33.950 --> 00:12:38.630\nlet's do a little get-help,\nget-d dupproperties.\n\n234\n00:12:41.100 --> 00:12:42.670\nAnd no we don't want to update that.\n\n235\n00:12:44.032 --> 00:12:47.470\nLet's just verify I was typing\nthat command in correctly.\n\n236\n00:12:47.470 --> 00:12:51.020\nGetddab, drive letter, character.\n\n237\n00:12:51.020 --> 00:12:52.940\nCan I not use position?\n\n238\n00:12:52.940 --> 00:12:57.210\nNormally with power shell you\ncan do positional parameters.\n\n239\n00:12:57.210 --> 00:12:59.700\nSo I just type e and\nit knows that's the first parameter,\n\n240\n00:12:59.700 --> 00:13:01.260\nshould be the drive letter.\n\n241\n00:13:01.260 --> 00:13:06.890\nLet's try that again\nwith dash drive letter e.\n\n242\n00:13:09.000 --> 00:13:12.260\nAnd evidently you cannot use positional\nparameters on this particular command.\n\n243\n00:13:12.260 --> 00:13:12.940\n&gt;&gt; Does not like it.\n\n244\n00:13:12.940 --> 00:13:16.720\n&gt;&gt; Does not like it, so again I'm seeing\ninformation in policy file count and\n\n245\n00:13:16.720 --> 00:13:22.560\npolicy file size, just information\nabout the policy that I've set.\n\n246\n00:13:22.560 --> 00:13:26.250\nLet's change one of them,\n\n247\n00:13:26.250 --> 00:13:31.810\nI was going to show you, to.\n\n248\n00:13:31.810 --> 00:13:37.730\nBefore I do that let's run that\nstatus again cuz I want to show you,\n\n249\n00:13:37.730 --> 00:13:39.274\nwe can get a little more information.\n\n250\n00:13:39.274 --> 00:13:44.480\nI'm gonna re-run the git-dedup status but\nI'm gonna do a format list.\n\n251\n00:13:44.480 --> 00:13:48.500\nI'm gonna pipe that out to an FL or\nformat list.\n\n252\n00:13:48.500 --> 00:13:51.620\nAnd you see you get a lot\nmore information back.\n\n253\n00:13:51.620 --> 00:13:54.850\nSo most of these commands you'll get\nsome information if you just run it.\n\n254\n00:13:54.850 --> 00:13:59.980\nIf you pipe that out to a format list\nyou'll get even more information.\n\n255\n00:13:59.980 --> 00:14:03.320\nAnd what I was gonna try to see,\neverything's still at 0.\n\n256\n00:14:03.320 --> 00:14:08.030\nAgain, because it really hasn't run yet.\n\n257\n00:14:08.030 --> 00:14:09.500\nLet's run it, let's trigger it.\n\n258\n00:14:09.500 --> 00:14:12.470\nIt's got a schedule that it's\ngonna run automatically.\n\n259\n00:14:12.470 --> 00:14:17.720\nBut let's take a look at the,\ntry to trigger it manually, all right?\n\n260\n00:14:17.720 --> 00:14:22.664\nWe're gonna do start-dedupJob-volume.\n\n261\n00:14:22.664 --> 00:14:25.839\nAnd I'll do e: -type and\n\n262\n00:14:25.839 --> 00:14:31.325\nyou'll see we've got garbage collection,\n\n263\n00:14:31.325 --> 00:14:35.540\noptimization and scrubbing.\n\n264\n00:14:35.540 --> 00:14:38.600\nWell, we're gonna go with, oops, and\nthere was one more unoptimization.\n\n265\n00:14:38.600 --> 00:14:40.010\nThat one I'm actually not familiar with.\n\n266\n00:14:40.010 --> 00:14:42.420\nI'll have to look that one up.\n\n267\n00:14:42.420 --> 00:14:44.150\nSounds like I wouldn't wanna do that.\n\n268\n00:14:44.150 --> 00:14:47.830\nOptimization, notice there wasn't Hyper-V,\n\n269\n00:14:47.830 --> 00:14:52.370\ndefault, or the other properties, because\nI've already told it that I'm doing this.\n\n270\n00:14:52.370 --> 00:14:54.860\nI wanna do default for file shares.\n\n271\n00:14:54.860 --> 00:14:57.050\nSo optimization is gonna use that default.\n\n272\n00:14:57.050 --> 00:15:00.300\nIf I had chosen Hyper-V,\nI'd still choose optimization here.\n\n273\n00:15:00.300 --> 00:15:03.580\nBut it's gonna do it based on\nthe fact that it's a Hyper-V server.\n\n274\n00:15:03.580 --> 00:15:06.630\nAnd it's dealing with virtual\ndesktop infrastructure.\n\n275\n00:15:06.630 --> 00:15:07.920\nSo I'll go ahead and enter, run it.\n\n276\n00:15:09.380 --> 00:15:13.840\nRight, I've got a progress of 0, so far.\n\n277\n00:15:13.840 --> 00:15:18.920\nRight, and we'll let it run and\nwe'll see what it does.\n\n278\n00:15:18.920 --> 00:15:20.170\nWhile it's doing that,\n\n279\n00:15:20.170 --> 00:15:23.060\nI wanna show you how to set some\nof the properties for this.\n\n280\n00:15:23.060 --> 00:15:26.164\nYou can do Set-DedoopVolume.\n\n281\n00:15:29.017 --> 00:15:33.090\nAnd let's say e: -Minimum file days.\n\n282\n00:15:33.090 --> 00:15:37.988\nYou know what, I'm gonna put drive\nletter in there, just so this doesn't,\n\n283\n00:15:37.988 --> 00:15:43.140\nwe'll do -drive.\n\n284\n00:15:43.140 --> 00:15:46.720\nNo, on this command,\nit doesn't need the drive letter.\n\n285\n00:15:46.720 --> 00:15:50.340\nSo we'll do minimum file days,\nfile age days, sorry.\n\n286\n00:15:50.340 --> 00:15:51.420\nI can set this to 0.\n\n287\n00:15:51.420 --> 00:15:53.030\nRemember I said the default is 3.\n\n288\n00:15:53.030 --> 00:15:57.780\nIf you set it to 0, it will de-dupe\neverything as soon as it gets created.\n\n289\n00:15:57.780 --> 00:16:00.700\nIt can actually start\nde-duplicating those files.\n\n290\n00:16:00.700 --> 00:16:03.864\nAnd since none of my files are that old,\nlet's go ahead and set that.\n\n291\n00:16:06.130 --> 00:16:07.789\nWhat else could we do?\n\n292\n00:16:09.146 --> 00:16:12.315\nLet's see if we can get our status again.\n\n293\n00:16:14.096 --> 00:16:18.820\nSee if it's actually\nmaking any progress yet.\n\n294\n00:16:18.820 --> 00:16:20.870\nLast optization time was at 3:17, so\n\n295\n00:16:20.870 --> 00:16:25.660\nit was just a minute ago,\noperation completed successfully.\n\n296\n00:16:25.660 --> 00:16:28.300\nBut I'm not seeing any space savings.\n\n297\n00:16:28.300 --> 00:16:30.966\nBut, then again,\nI ran that before I set that as zero, so\n\n298\n00:16:30.966 --> 00:16:32.477\nlet's try running that again.\n\n299\n00:16:39.960 --> 00:16:41.723\nAnd we'll let it go for just a second.\n\n300\n00:16:47.219 --> 00:16:49.610\nAnd that looks a little better.\n\n301\n00:16:49.610 --> 00:16:50.220\n&gt;&gt; Yeah.\n\n302\n00:16:50.220 --> 00:16:51.740\n&gt;&gt; Now we got some activity.\n\n303\n00:16:51.740 --> 00:16:54.820\nSo let's take a closer look\nat what we've got here.\n\n304\n00:16:54.820 --> 00:16:59.520\nFree space 198, used space,\nwe've got unoptimized space,\n\n305\n00:16:59.520 --> 00:17:02.710\nsaved space 126 megabytes.\n\n306\n00:17:02.710 --> 00:17:06.500\nWait, that can't be right, is it?\n\n307\n00:17:06.500 --> 00:17:08.190\nWhat was our initial size?\n\n308\n00:17:08.190 --> 00:17:09.108\n&gt;&gt; 126 Megabytes.\n&gt;&gt; 126, 127 Megabytes?\n\n309\n00:17:09.108 --> 00:17:14.170\nSavings rate 40%,\noptimized file counts 50,\n\n310\n00:17:14.170 --> 00:17:18.350\noptimized file size,\noptimized savings, 96%.\n\n311\n00:17:18.350 --> 00:17:19.968\nNow I cheated right?\n\n312\n00:17:19.968 --> 00:17:22.964\n&gt;&gt; [LAUGH]\n&gt;&gt; I have two PDFs duplicated over and\n\n313\n00:17:22.964 --> 00:17:23.910\nover again.\n\n314\n00:17:23.910 --> 00:17:25.280\n&gt;&gt; Over and over again.\n\n315\n00:17:25.280 --> 00:17:26.123\nExactly at least 20 times.\n\n316\n00:17:26.123 --> 00:17:30.919\nSo in the end there's really only\ntwo individual files up there right?\n\n317\n00:17:30.919 --> 00:17:32.453\n&gt;&gt; Really like this PDF.\n\n318\n00:17:32.453 --> 00:17:34.212\n&gt;&gt; Right, but pretty cool.\n\n319\n00:17:34.212 --> 00:17:35.605\nYou are seeing that it can go through it.\n\n320\n00:17:35.605 --> 00:17:38.405\nIt didn't take long at all,\nagain, tenny tiny volume, so\n\n321\n00:17:38.405 --> 00:17:40.376\nthat is something you gotta think about.\n\n322\n00:17:40.376 --> 00:17:43.592\nAnd that's a look at data deduplication.\n\n323\n00:17:43.592 --> 00:17:45.135\nIt's really come a long way.\n\n324\n00:17:45.135 --> 00:17:49.422\nIt's something you should look into if\nyou are in an enterprise environment.\n\n325\n00:17:49.422 --> 00:17:52.532\nAnd most enterprises are in\nthat storage crunch, right?\n\n326\n00:17:52.532 --> 00:17:56.736\nTrying to figure out how I can reduce\nthat amount of data I have to store,\n\n327\n00:17:56.736 --> 00:18:00.370\nthat I have to back up data\ndeduplication is the way to go.\n\n328\n00:18:00.370 --> 00:18:04.064\n&gt;&gt; Yeah Mike, I can't imagine that if\nanybody out there is doing any kind of\n\n329\n00:18:04.064 --> 00:18:06.670\nbackup on their systems\nwhich you should be doing,\n\n330\n00:18:06.670 --> 00:18:08.985\nI don't care if you're running Windows XP.\n\n331\n00:18:08.985 --> 00:18:11.203\nYou have data on there\nthat you wanna keep.\n\n332\n00:18:11.203 --> 00:18:13.242\nYou should be running some other backup,\n\n333\n00:18:13.242 --> 00:18:15.640\nespecially in this environment,\nturn this on.\n\n334\n00:18:15.640 --> 00:18:18.300\nIt obviously was not a very\ndifficult thing to implement and\n\n335\n00:18:18.300 --> 00:18:20.600\nemploy, it works very well.\n\n336\n00:18:20.600 --> 00:18:23.050\nThere's no reason not to that\nI can think of unless, Mike,\n\n337\n00:18:23.050 --> 00:18:24.390\nyou know of some good\nreason not to use it.\n\n338\n00:18:24.390 --> 00:18:26.020\n&gt;&gt; No,\nMicrosoft has done a really good job.\n\n339\n00:18:26.020 --> 00:18:28.631\nI mean they tried to make this\nas efficient as possible so\n\n340\n00:18:28.631 --> 00:18:31.910\nthat it wouldn't impact\nperformance on our servers.\n\n341\n00:18:31.910 --> 00:18:36.490\nThe way it handles the files with\nthe deduplication, it's pretty neat.\n\n342\n00:18:36.490 --> 00:18:37.990\nI'll throw a link in the show notes.\n\n343\n00:18:37.990 --> 00:18:41.950\nTechnet has a really good page that kind\nof shows you this graphical representation\n\n344\n00:18:41.950 --> 00:18:45.560\nof the way it's chunking up\nthe files into these little blocks.\n\n345\n00:18:45.560 --> 00:18:47.800\nAnd then it just says all right,\n\n346\n00:18:47.800 --> 00:18:52.500\nthis files got block a, b, and\nc, this file's got block d.\n\n347\n00:18:52.500 --> 00:18:55.004\nBut in block b and block e right?\n\n348\n00:18:55.004 --> 00:18:57.860\nCuz there was a duplicate block\nbetween those two files it\n\n349\n00:18:57.860 --> 00:19:01.970\njust saves one copy of each of the blocks\nand puts them in this chunk storage.\n\n350\n00:19:01.970 --> 00:19:05.110\nAnd then there is a point of reference\nwhere the file use to be that says,\n\n351\n00:19:05.110 --> 00:19:08.320\nhey if somebody opens up this file\nthey will get chunk a, c and f.\n\n352\n00:19:08.320 --> 00:19:12.020\nAnd that's the file and it does it\non a fly, it's really impressive.\n\n353\n00:19:12.020 --> 00:19:13.810\n&gt;&gt; Yeah, it's really, really cool.\n\n354\n00:19:13.810 --> 00:19:16.610\nAnd now we know how to use\nthat very simple thing.\n\n355\n00:19:16.610 --> 00:19:20.690\nJump into your server management,\ninstall that role feature, and\n\n356\n00:19:20.690 --> 00:19:22.030\nget to running with deduplication.\n\n357\n00:19:22.030 --> 00:19:24.800\nMike, thanks for explaining d dupe for us.\n\n358\n00:19:24.800 --> 00:19:26.880\nBut it looks like we've come to\nthe end of yet another great show.\n\n359\n00:19:26.880 --> 00:19:28.400\nWe thank you guys for watching.\n\n360\n00:19:28.400 --> 00:19:32.320\nBut we're gonna go ahead and sign off for\nItProTV I've been your host Daniel Lowrie.\n\n361\n00:19:32.320 --> 00:19:33.130\n&gt;&gt; And I'm Mike Rodrick.\n\n362\n00:19:33.130 --> 00:19:34.055\n&gt;&gt; And we'll see you next time.\n\n363\n00:19:34.055 --> 00:19:41.050\n[MUSIC]\n\n364\n00:19:41.050 --> 00:19:44.246\nThank you for watching ITProTV.\n\n",
          "vimeoId": "191686259"
        }
      ],
      "title": "Implement storage solutions"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Mike take you through installing and configuring Hyper-V in Windows Server 2016. They begin by determining the hardware compatibility requirements for installing Hyper-V. Next, they show you how to install Hyper-V along with the Management Tools.",
          "length": "1784",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-1-1-install_and_configure_hyper_v-110316-PGM.00_29_31_02.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-1-1-install_and_configure_hyper_v-110316-PGM.00_29_31_02.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-1-1-install_and_configure_hyper_v-110316-PGM.00_29_31_02.Still001-sm.jpg",
          "title": "Install and Configure Hyper-V",
          "transcript": "WEBVTT\n\n1\n00:00:00.210 --> 00:00:06.658\nWelcome to ITPro TV,\nI'm your host [CROSSTALK]\n\n2\n00:00:06.658 --> 00:00:08.428\n[MUSIC]\n\n3\n00:00:08.428 --> 00:00:12.600\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.600 --> 00:00:14.410\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:14.410 --> 00:00:18.830\nwelcome to another exciting episode of\nITProTV, I'm your host Daniel Lowrie.\n\n6\n00:00:18.830 --> 00:00:21.990\nAnd in today's episode, we're moving\nforward on our installation, storage, and\n\n7\n00:00:21.990 --> 00:00:24.750\ncompute series for Windows Server 2016.\n\n8\n00:00:24.750 --> 00:00:29.080\nJoining us back in the studio today for\na little bit of the virtualization,\n\n9\n00:00:29.080 --> 00:00:31.160\nif that's your thing, is Mr. Mike Rodrick.\n\n10\n00:00:31.160 --> 00:00:32.000\nMike, welcome back, sir.\n\n11\n00:00:32.000 --> 00:00:32.860\nHow's it going today?\n\n12\n00:00:32.860 --> 00:00:33.660\n&gt;&gt; It's going great, Daniel.\n\n13\n00:00:33.660 --> 00:00:35.275\nThanks for having me back,\nand I am excited.\n\n14\n00:00:35.275 --> 00:00:37.650\nCuz today we are starting our journey,\nas you said,\n\n15\n00:00:37.650 --> 00:00:38.920\ninto the world of virtualization.\n\n16\n00:00:38.920 --> 00:00:40.060\nWe've got a lot to cover.\n\n17\n00:00:40.060 --> 00:00:43.760\nA lot of different things we want\nto look at with virtualization.\n\n18\n00:00:43.760 --> 00:00:47.490\nIncluding some new stuff,\nlike nested virtualization.\n\n19\n00:00:47.490 --> 00:00:49.240\nI'll go ahead and\ngive you a little Easter egg there, for\n\n20\n00:00:49.240 --> 00:00:51.610\nsomething to look forward to.\n\n21\n00:00:51.610 --> 00:00:56.772\nSo virtualization, obviously a big part\nof just about every network nowadays.\n\n22\n00:00:56.772 --> 00:01:00.460\nWe're gonna see some form\nof virtualization going on\n\n23\n00:01:00.460 --> 00:01:03.470\nIf it's simply the servers\nin our server closet.\n\n24\n00:01:03.470 --> 00:01:06.963\nThat DNS server you're connecting\nto might be a virtual server.\n\n25\n00:01:06.963 --> 00:01:10.203\nAll the way up to more complex\nenvironments where everybody's desktop\n\n26\n00:01:10.203 --> 00:01:11.990\nis a virtual desktop infrastructure.\n\n27\n00:01:11.990 --> 00:01:16.170\nRunning on a terminal server or\nremote desktop services server.\n\n28\n00:01:16.170 --> 00:01:21.432\nServing out remote desktops or\ndesktops virtually to everybody out there.\n\n29\n00:01:21.432 --> 00:01:24.840\nSo, virtualization, big part,\nwe see, I mean, the cloud, right?\n\n30\n00:01:24.840 --> 00:01:26.422\nThat's all virtualized.\n\n31\n00:01:26.422 --> 00:01:29.140\nI know that's not happening in\nphysical land, where you say,\n\n32\n00:01:29.140 --> 00:01:30.620\nhey I need to spin up three new servers.\n\n33\n00:01:30.620 --> 00:01:34.080\nNobody's going and getting three\nservers off a rack or off a shelf.\n\n34\n00:01:34.080 --> 00:01:36.530\nAnd putting them in the rack for\nyou and setting them up.\n\n35\n00:01:36.530 --> 00:01:41.410\nIt's just templates and virtual\nmachines that gives us that elasticity.\n\n36\n00:01:41.410 --> 00:01:43.680\nIt's a fantastic thing.\n\n37\n00:01:43.680 --> 00:01:46.990\nHeck, half the stuff inside our\nmachines is virtualizing for\n\n38\n00:01:46.990 --> 00:01:48.390\nsecurity reasons and things like that.\n\n39\n00:01:48.390 --> 00:01:50.100\nBut that's a whole 'nother story.\n\n40\n00:01:50.100 --> 00:01:55.334\nWe're here to talk about Hyper-V, which\nis Microsoft's virtualization platform or\n\n41\n00:01:55.334 --> 00:01:58.739\ntheir hypervisor that's\nincluded in Server 2016.\n\n42\n00:01:58.739 --> 00:02:01.990\nIt's not new to 2016 but\nit's definitely been improved upon.\n\n43\n00:02:01.990 --> 00:02:05.430\nA lot of cool things that\nwe're going to talk about.\n\n44\n00:02:05.430 --> 00:02:09.890\nSo, with that being said, we are going to\n\n45\n00:02:09.890 --> 00:02:14.140\nstart by talking about the fun stuff that\nwe always have to get out of the way.\n\n46\n00:02:14.140 --> 00:02:19.910\nAnd that's the good old requirements for\ninstalling Hyper-V.\n\n47\n00:02:19.910 --> 00:02:24.430\nFirst off it's gotta be a 64\nbit based processor, right?\n\n48\n00:02:24.430 --> 00:02:26.120\nSo 64 bit processor.\n\n49\n00:02:26.120 --> 00:02:30.956\nWe also need hardware\nassisted virtualization.\n\n50\n00:02:30.956 --> 00:02:34.530\nThat's a term you might not have heard of,\nhardware assisted virtualization.\n\n51\n00:02:34.530 --> 00:02:35.509\n&gt;&gt; Lot of big words there, Mike.\n\n52\n00:02:35.509 --> 00:02:37.182\n[LAUGH]\n&gt;&gt; Yeah, I know, right?\n\n53\n00:02:37.182 --> 00:02:40.717\nBut you probably have heard of Intel VT,\nor AMDV.\n\n54\n00:02:40.717 --> 00:02:44.681\nThese are Intel's version of\nhardware assisted virtualization and\n\n55\n00:02:44.681 --> 00:02:48.700\nAMD's implementation of hardware\nassisted virtualization.\n\n56\n00:02:48.700 --> 00:02:50.940\nThese are typically enabled in the BIOS.\n\n57\n00:02:50.940 --> 00:02:54.229\nMost of the time they're\nnot enabled by default so\n\n58\n00:02:54.229 --> 00:02:58.784\nyou need to go in and turn them on on\nthe BIOS on your physical machine.\n\n59\n00:02:58.784 --> 00:03:03.622\nSo 64-bit, some sort of hardware\nassisted virtualization as well\n\n60\n00:03:03.622 --> 00:03:08.378\nas hardware enforced data execution\nprevention, or DEP for short.\n\n61\n00:03:08.378 --> 00:03:13.107\nThat would be Intel's XD,\ntheir execute disable bit, and\n\n62\n00:03:13.107 --> 00:03:17.260\ntheir AMDNX bit is the no execute bit for\nAMD.\n\n63\n00:03:17.260 --> 00:03:20.480\nAgain you see both major players\nin the chip manufacturers\n\n64\n00:03:20.480 --> 00:03:23.460\nhave their own version of\nhardware-assisted virtualization.\n\n65\n00:03:23.460 --> 00:03:26.520\nAnd the hardware-enforced\ndata execution prevention.\n\n66\n00:03:26.520 --> 00:03:29.960\nAnd the data execution prevention,\nif you think about it and\n\n67\n00:03:29.960 --> 00:03:34.520\nthose words a little bit slower,\ndata execution prevention.\n\n68\n00:03:34.520 --> 00:03:36.740\nWe're gonna prevent data\nfrom being executed.\n\n69\n00:03:36.740 --> 00:03:41.259\nGives me the ability to mark certain\nareas in memory as non-executable, right?\n\n70\n00:03:41.259 --> 00:03:44.636\n&gt;&gt; You're like the governor giving a,\nright, a stay of execution?\n\n71\n00:03:44.636 --> 00:03:45.192\n[LAUGH]\n&gt;&gt; That's right.\n\n72\n00:03:45.192 --> 00:03:46.200\n[LAUGH]\n&gt;&gt; No execution for\n\n73\n00:03:46.200 --> 00:03:49.020\nhim, let him out of that room\n&gt;&gt; [LAUGH] So\n\n74\n00:03:49.020 --> 00:03:51.950\nas long as your hardware supports that,\nyou should be good to go.\n\n75\n00:03:51.950 --> 00:03:53.360\nThat's a good one, I like that.\n\n76\n00:03:53.360 --> 00:03:55.212\nAll right.\n&gt;&gt; And you'll never forget it [LAUGH]\n\n77\n00:03:55.212 --> 00:03:56.112\n&gt;&gt; I know, right?\n\n78\n00:03:56.112 --> 00:04:00.507\n[LAUGH] Now everybody will remember\nthat we need hardware enforced data\n\n79\n00:04:00.507 --> 00:04:02.078\nexecution prevention.\n\n80\n00:04:02.078 --> 00:04:04.014\nEven if it does come at 11:59:58 seconds.\n\n81\n00:04:04.014 --> 00:04:06.635\n&gt;&gt; [LAUGH] And the phone rings.\n\n82\n00:04:06.635 --> 00:04:07.957\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH].\n\n83\n00:04:07.957 --> 00:04:10.210\n&gt;&gt; All right.\n\n84\n00:04:10.210 --> 00:04:12.086\nSo those are our requirements which,\nhonestly,\n\n85\n00:04:12.086 --> 00:04:15.093\nmost physical servers that you're dealing\nwith nowadays are gonna have that.\n\n86\n00:04:15.093 --> 00:04:17.020\nA 64-bit processor.\n\n87\n00:04:17.020 --> 00:04:20.060\nMost of them are gonna have\nthe hardware-assisted virtualization and\n\n88\n00:04:20.060 --> 00:04:21.270\nthe data execution prevention.\n\n89\n00:04:22.310 --> 00:04:23.990\nSo all you gotta do is make\nsure you go into the BIOS,\n\n90\n00:04:23.990 --> 00:04:25.880\nfind out where those\nsettings are in your BIOS.\n\n91\n00:04:25.880 --> 00:04:29.120\nThey might call them different things,\ndepending on that BIOS manufacturer.\n\n92\n00:04:29.120 --> 00:04:32.195\nYou should be able to find them and\nturn them on.\n\n93\n00:04:32.195 --> 00:04:36.166\nNext thing we need to talk about is\ninstalling Hyper-V, which is just like\n\n94\n00:04:36.166 --> 00:04:40.596\nany other role in Windows Server 2016,\nwe use our add/remove roles, right?\n\n95\n00:04:40.596 --> 00:04:41.185\n&gt;&gt; Gotta love that.\n\n96\n00:04:41.185 --> 00:04:44.244\n&gt;&gt; Yeah, or add, I'm sorry,\nnot the add/remove roles,\n\n97\n00:04:44.244 --> 00:04:47.304\nI'm going back to the old\nschool Add roles and features,\n\n98\n00:04:47.304 --> 00:04:50.950\ncuz there's a separate wizard for\nremove roles and features.\n\n99\n00:04:50.950 --> 00:04:54.171\nBut you're going to add roles and features\nand you go to the roles screen and\n\n100\n00:04:54.171 --> 00:04:55.156\nyou select Hyper-V.\n\n101\n00:04:55.156 --> 00:04:56.720\nYou click next, next, next, right.\n\n102\n00:04:56.720 --> 00:04:58.820\nAnd you click install at the end of it.\n\n103\n00:04:58.820 --> 00:05:00.450\nInstalling roles has always been, or\n\n104\n00:05:00.450 --> 00:05:04.580\nin our last few iterations it's very easy\nIt's configuring the roles afterward\n\n105\n00:05:04.580 --> 00:05:06.110\nthat's where our skill\nset comes into play.\n\n106\n00:05:07.250 --> 00:05:10.860\nI would recommend, however, checking the\nlittle check mark at the end of the wizard\n\n107\n00:05:10.860 --> 00:05:13.410\nthat says reboot if necessary.\n\n108\n00:05:13.410 --> 00:05:16.870\nBecause this role does,\nnot many of them do any more.\n\n109\n00:05:16.870 --> 00:05:19.830\nBut this role does require a reboot\nbecause we're talking about\n\n110\n00:05:19.830 --> 00:05:24.620\nslipping a layer in between my\nhardware and my user layer, right.\n\n111\n00:05:24.620 --> 00:05:26.970\nThat user mode and the kernel mode.\n\n112\n00:05:26.970 --> 00:05:30.970\nWe're getting that hypervisor down in\nthere, so it is gonna require a reboot for\n\n113\n00:05:30.970 --> 00:05:32.110\nthat to happen.\n\n114\n00:05:32.110 --> 00:05:36.870\nAnd it seems to work better\nif you let it do it itself.\n\n115\n00:05:36.870 --> 00:05:41.020\nBecause what should happen is when you\ninstall it, it reboots, it comes back up,\n\n116\n00:05:41.020 --> 00:05:42.310\nyou open the server manager.\n\n117\n00:05:42.310 --> 00:05:44.790\nAnd the wizard pops open again,\nand it says, hey,\n\n118\n00:05:44.790 --> 00:05:46.770\nfinishing installing your features.\n\n119\n00:05:46.770 --> 00:05:49.210\nAnd then all of a sudden\nyou've got a Hyper-V server.\n\n120\n00:05:49.210 --> 00:05:52.420\nI'm not gonna show you because,\nwell maybe I'll install it on the client.\n\n121\n00:05:52.420 --> 00:05:56.050\nCould try that, let's try it and see.\n\n122\n00:05:56.050 --> 00:05:58.730\nI'm not sure if it's there\non the client right here.\n\n123\n00:05:58.730 --> 00:06:02.270\nThis is a Windows 10 Evaluation Edition.\n\n124\n00:06:03.890 --> 00:06:04.872\nLet's see if we can make it happen.\n\n125\n00:06:04.872 --> 00:06:07.956\nWhat the heck,\nlet's live by the seat of our pants.\n\n126\n00:06:07.956 --> 00:06:11.572\nPowerShell is what I'm\ngonna use to try that.\n\n127\n00:06:11.572 --> 00:06:14.081\nI say that and.\n\n128\n00:06:16.776 --> 00:06:17.904\nLet's try that one more time.\n\n129\n00:06:17.904 --> 00:06:22.424\nPowerShell, and\nI'll at least show you the command.\n\n130\n00:06:22.424 --> 00:06:24.339\nI need to run that as an administrator,\ngosh darn it.\n\n131\n00:06:25.530 --> 00:06:26.490\nLet's try that again.\n\n132\n00:06:26.490 --> 00:06:31.636\nPowerShell, Give a little\nadministrative access.\n\n133\n00:06:34.358 --> 00:06:34.992\nAlthough you know what?\n\n134\n00:06:34.992 --> 00:06:36.045\nActually now that I think about it,\n\n135\n00:06:36.045 --> 00:06:38.910\nthis really isn't gonna show you anything\ncuz It's not gonna be the wizard.\n\n136\n00:06:38.910 --> 00:06:43.480\nThe command is just like any other role,\ninstall-Windows feature.\n\n137\n00:06:43.480 --> 00:06:47.300\nAnd the name is going to be Hyper-V.\n\n138\n00:06:47.300 --> 00:06:50.030\nSo I'm gonna wait on this cuz\nI wanna use this machine for\n\n139\n00:06:50.030 --> 00:06:52.360\nsomething else a little\nbit later in this episode.\n\n140\n00:06:52.360 --> 00:06:57.135\nSo again, getting it installed, go\nthrough the wizard or use PowerShell and\n\n141\n00:06:57.135 --> 00:07:01.040\nrun your install-Windows feature,\nyou should be good to go.\n\n142\n00:07:01.040 --> 00:07:06.449\nAll right, let's see what\nelse I want to do with that.\n\n143\n00:07:06.449 --> 00:07:10.670\nLet's talk about upgrading, all right.\n\n144\n00:07:10.670 --> 00:07:14.030\nSo we can upgrade from\nprior versions of Hyper-V.\n\n145\n00:07:14.030 --> 00:07:19.899\nIf we've got 2012, 2012 R2,\nwe can upgrade those to 2016,\n\n146\n00:07:19.899 --> 00:07:23.269\nwhich would upgrade the Hyper-V as well.\n\n147\n00:07:23.269 --> 00:07:26.025\nA couple things I wanna point out about\nupgrade though that's a little bit, or\n\n148\n00:07:26.025 --> 00:07:27.490\nwe have to keep in mind.\n\n149\n00:07:27.490 --> 00:07:28.893\nIs when we upgrade,\n\n150\n00:07:28.893 --> 00:07:33.523\nlets say a lot of times we'll have\na Hyper-V Cluster, all right?\n\n151\n00:07:33.523 --> 00:07:38.910\nSo I've got a cluster of five nodes\nall running 2012 R2, running Hyper-V.\n\n152\n00:07:38.910 --> 00:07:40.750\nWe can do what we call a rolling upgrade,\n\n153\n00:07:40.750 --> 00:07:44.460\nmeaning I don't have to upgrade all those\nnodes at once like we used to have to do.\n\n154\n00:07:44.460 --> 00:07:48.520\nI can upgrade one of them to 2016 and\ncontinue on.\n\n155\n00:07:48.520 --> 00:07:53.384\nSo I can have a Hyper-V cluster that's\nmixed, that has both 2012, 2012 R2, or\n\n156\n00:07:53.384 --> 00:07:57.235\nall three, 2012, 2012 R2,\nand 2016 servers in there.\n\n157\n00:07:57.235 --> 00:08:01.159\nThe thing to keep in mind is\nthe version of the virtual machine.\n\n158\n00:08:01.159 --> 00:08:05.768\nWith 2012 R2 they were on the virtual\nmachine configuration version,\n\n159\n00:08:05.768 --> 00:08:09.060\nhas to do with the vmc or\nthe configuration file.\n\n160\n00:08:09.060 --> 00:08:11.760\nNot talking about generation one or\ngeneration two when you\n\n161\n00:08:11.760 --> 00:08:14.250\ngo to create a virtual machine\nwhich you'll see in a little bit.\n\n162\n00:08:14.250 --> 00:08:18.040\nThis has to do with the configuration\nfile for the virtual machine itself.\n\n163\n00:08:18.040 --> 00:08:21.180\nHow it's written, what language\nit's written in How it structured,\n\n164\n00:08:21.180 --> 00:08:26.100\nused to be in a XML based format,\npretty human readable.\n\n165\n00:08:26.100 --> 00:08:30.330\nIt's kinda binary,\nit's not nearly as human readable but\n\n166\n00:08:30.330 --> 00:08:34.370\nit's supposed to be more efficient, much\nfaster so the sacrifice was there you know\n\n167\n00:08:34.370 --> 00:08:37.960\nyou can't read it anymore,\nedit it directly but it's a lot quicker.\n\n168\n00:08:37.960 --> 00:08:42.610\nAnd that's gonna be version\nIf I can remember this right,\n\n169\n00:08:42.610 --> 00:08:44.790\nI have to check on that\nversion it becomes.\n\n170\n00:08:44.790 --> 00:08:48.910\nBut my point was, when you do an upgrade,\n\n171\n00:08:48.910 --> 00:08:51.660\nyou're machines from\n2012 R2 are version 5.\n\n172\n00:08:51.660 --> 00:08:52.790\nWhen you upgrade,\n\n173\n00:08:52.790 --> 00:08:56.690\nit does not automatically upgrade\nthe Virtual Machines version.\n\n174\n00:08:56.690 --> 00:09:01.490\nIt leaves them at version 5, which is\nwhy we can do that rolling upgrade.\n\n175\n00:09:01.490 --> 00:09:06.650\nIf I have a cluster, and a machine gets\nmoved over to 2016 It can run just fine.\n\n176\n00:09:06.650 --> 00:09:10.920\nIf it wasn't version five though if it\ngot updated to the version for 2016.\n\n177\n00:09:10.920 --> 00:09:14.460\nIt would never be able to move\nback to one of the other nodes.\n\n178\n00:09:14.460 --> 00:09:17.150\nBecause the other nodes are still\nrunning 2012 or twice of R2.\n\n179\n00:09:17.150 --> 00:09:19.480\nAnd that version would be incompatible.\n\n180\n00:09:19.480 --> 00:09:25.610\nSo, it's done for that sort of\nI'm looking for the flexibility.\n\n181\n00:09:25.610 --> 00:09:28.000\nThe ability to do that rolling upgrade.\n\n182\n00:09:28.000 --> 00:09:31.660\nOnce you get all your machine\nall your Hosts to 2016,\n\n183\n00:09:31.660 --> 00:09:35.450\nthen you can go and\nupgrade the vm version.\n\n184\n00:09:35.450 --> 00:09:38.680\nI don't have that command,\n\n185\n00:09:38.680 --> 00:09:43.307\nbut it's basically an update-vm\nconfiguration version.\n\n186\n00:09:43.307 --> 00:09:45.815\nAnd it will allow you,\nI thought I had that written down,\n\n187\n00:09:45.815 --> 00:09:49.120\nupdate-vm configuration\nversion is the command.\n\n188\n00:09:49.120 --> 00:09:53.300\nAnd that would let you upgrade that\nvirtual machine to the latest version.\n\n189\n00:09:53.300 --> 00:09:55.780\nTake advantage of all the latest and\ngreatest features.\n\n190\n00:09:57.450 --> 00:10:01.970\nAll right, so now I think we\nneed to start playing around.\n\n191\n00:10:01.970 --> 00:10:04.520\nSo, we're gonna do a few things in here.\n\n192\n00:10:04.520 --> 00:10:08.700\nThe way Microsoft organizes their\nobjectives, we're gonna go in and\n\n193\n00:10:08.700 --> 00:10:11.360\ntake a look at some technologies\nwith Hyper-V itself\n\n194\n00:10:11.360 --> 00:10:14.680\nI've already got some virtual machines\nrunning that we're gonna be using.\n\n195\n00:10:14.680 --> 00:10:17.870\nWe are gonna go back and\nsee how to create a virtual machine,\n\n196\n00:10:17.870 --> 00:10:20.620\nhow to configure the settings\non the VMs and things like that.\n\n197\n00:10:20.620 --> 00:10:23.030\nSo, don't think I'm skipping over that,\nI'm just pushing that.\n\n198\n00:10:23.030 --> 00:10:26.380\nThat's gonna be in a later\nepisode in this series.\n\n199\n00:10:27.980 --> 00:10:30.280\nAll right Daniel,\nyou ready for all of this?\n\n200\n00:10:30.280 --> 00:10:33.505\nBeen sitting here waiting with [CROSSTALK]\n&gt;&gt; All right, so let's start, so\n\n201\n00:10:33.505 --> 00:10:37.994\nI have, if we take a look at my screen\nhere, I've got my Server 2016 box,\n\n202\n00:10:37.994 --> 00:10:42.020\nI have installed Hyper-V on it, so\nI'm going to open up my console.\n\n203\n00:10:43.760 --> 00:10:47.170\nI go to my Start Menu,\nif it wants to play along today,\n\n204\n00:10:47.170 --> 00:10:51.430\nAdministrative Tools, and\nthen Hyper-V Manager.\n\n205\n00:10:51.430 --> 00:10:56.283\nThat is the console we use to\nmanage our Hyper-V Server.\n\n206\n00:10:58.798 --> 00:11:00.580\nIt's being a little slow.\n\n207\n00:11:00.580 --> 00:11:01.570\nThere we go.\n\n208\n00:11:01.570 --> 00:11:04.721\nEventually that will kick in, all right?\n\n209\n00:11:07.242 --> 00:11:10.270\nAnd from this console this is where\nI can manage the virtual machines.\n\n210\n00:11:10.270 --> 00:11:13.400\nI can create new virtual machines,\nI can work with their configurations,\n\n211\n00:11:13.400 --> 00:11:14.840\ntheir settings.\n\n212\n00:11:14.840 --> 00:11:19.160\nI can delete virtual machines,\nwhatever I need to do.\n\n213\n00:11:19.160 --> 00:11:24.860\nOne of the newer features with 2016 is the\nability to Manage other hyper-V servers.\n\n214\n00:11:24.860 --> 00:11:29.110\nThis console, we've always been able\nto connect to other hyper-V server and\n\n215\n00:11:29.110 --> 00:11:33.880\nmanage them remotely but not add\nthem all in there at the same time,\n\n216\n00:11:33.880 --> 00:11:39.040\nit's really this console was designed\nas a manage a single server at a time,\n\n217\n00:11:39.040 --> 00:11:42.198\nno longer the case, we can actually\nadd multiple servers in here.\n\n218\n00:11:42.198 --> 00:11:45.190\nI have hyper-V running on server two.\n\n219\n00:11:45.190 --> 00:11:48.220\nSo what I'm gonna do is I'm gonna\nright click on Hyper-V manager and\n\n220\n00:11:48.220 --> 00:11:49.410\nchoose connect to server.\n\n221\n00:11:49.410 --> 00:11:53.860\nI'm gonna choose another computer and\nI go ahead and\n\n222\n00:11:53.860 --> 00:11:59.016\ntype in svr02.lab.itpro.tv.\n\n223\n00:11:59.016 --> 00:12:03.650\nAnd another great new improvement\nis connect as another user right.\n\n224\n00:12:03.650 --> 00:12:07.170\nYou might think well Now\nwhy is that a good thing?\n\n225\n00:12:07.170 --> 00:12:09.030\nBecause I can use alternate credentials,\nand\n\n226\n00:12:09.030 --> 00:12:11.500\nthat's always been\na struggle in this console.\n\n227\n00:12:11.500 --> 00:12:14.160\nEspecially if you've got\na machine that's stand-alone.\n\n228\n00:12:14.160 --> 00:12:15.770\nThat's not part of your domain.\n\n229\n00:12:15.770 --> 00:12:19.745\nIf you've got all domain-based hyper-v\nMost we would usually we could connect to\n\n230\n00:12:19.745 --> 00:12:22.525\nhim because our credentials were\nvalid I might be the administrator\n\n231\n00:12:22.525 --> 00:12:26.295\non all those machines but if you had\na machine that you weren't an admin on so\n\n232\n00:12:26.295 --> 00:12:29.365\nyou didn't have access to the console or\nif it was Standalone and\n\n233\n00:12:29.365 --> 00:12:33.575\nnot part of your domain it became\ndifficult cuz you couldn't do the run\n\n234\n00:12:33.575 --> 00:12:38.295\nas to try to use alternate credentials it\nwas painful now I should be able to come\n\n235\n00:12:38.295 --> 00:12:41.320\nin here and I don't need to in this case\nbecause it is part of interphase, but\n\n236\n00:12:41.320 --> 00:12:44.630\ngood to know that we can provide\nalternate credentials and\n\n237\n00:12:44.630 --> 00:12:48.220\nI could just click set user and\nit'll establish that connection.\n\n238\n00:12:48.220 --> 00:12:51.920\nI'll still be able to manage server one\nusing the credentials I'm logged on with\n\n239\n00:12:51.920 --> 00:12:53.730\nas well as manage server three or\n\n240\n00:12:53.730 --> 00:12:57.720\nfour or whatever it was using that\nalternate set of credentials.\n\n241\n00:12:57.720 --> 00:12:58.510\nAll right?\n\n242\n00:12:58.510 --> 00:13:00.030\nSo, I'm going to uncheck that and\n\n243\n00:13:00.030 --> 00:13:04.550\nI'm going to click okay cuz it is part of\nmy domain, should connect And there it is.\n\n244\n00:13:04.550 --> 00:13:08.320\nSo now, I can flip back and\nfourth between my servers.\n\n245\n00:13:08.320 --> 00:13:11.520\nThis is fantastic,\nright I don't have to go to SCCN or\n\n246\n00:13:11.520 --> 00:13:15.400\nSystem Center Virtual Machine manager\nto start managing all my Hyper-V host.\n\n247\n00:13:15.400 --> 00:13:17.980\n&gt;&gt; Just go right in to\nthe Operating System you are all ready on.\n\n248\n00:13:17.980 --> 00:13:21.830\nThis is what we've been\nHeralding a Microsoft server for\n\n249\n00:13:21.830 --> 00:13:23.750\nthe entirety of the show, just about.\n\n250\n00:13:23.750 --> 00:13:25.550\nThey don't leave you out in the ditch,\nright?\n\n251\n00:13:25.550 --> 00:13:28.550\nThey don't say, man,\nwouldn't you just love to have Hyper V?\n\n252\n00:13:28.550 --> 00:13:31.220\nAnd yes, you can install it but\ncentralized management, that's for\n\n253\n00:13:31.220 --> 00:13:31.860\nthe big boys.\n\n254\n00:13:31.860 --> 00:13:34.540\nNo, that's for\neveryone that wants to run Microsoft.\n\n255\n00:13:34.540 --> 00:13:37.790\nThey throw it right in there, and\nyes we love centralized management.\n\n256\n00:13:37.790 --> 00:13:40.090\nOtherwise, what's the purpose\nof being an admin?\n\n257\n00:13:40.090 --> 00:13:43.000\nI got to run around from\ncomputer to server to server?\n\n258\n00:13:43.000 --> 00:13:43.900\nNo thank you.\n\n259\n00:13:43.900 --> 00:13:45.070\n&gt;&gt; Exactly.\n\n260\n00:13:45.070 --> 00:13:47.760\nSo, there we go, and\nwe can manage anything running 2012 and\n\n261\n00:13:47.760 --> 00:13:49.480\nlater, Windows 8.1 and later.\n\n262\n00:13:49.480 --> 00:13:53.820\nNow, if you've got a Hyper-V host,\nthat's running 2008 R2 or\n\n263\n00:13:53.820 --> 00:13:57.930\nWindows 7, you're not gonna be able\nto do this With those machines.\n\n264\n00:13:57.930 --> 00:13:59.550\nSo, keep that in mind.\n\n265\n00:13:59.550 --> 00:14:02.130\nYou need to upgrade at least 2012 or\nWindows 8.\n\n266\n00:14:02.130 --> 00:14:05.520\n&gt;&gt; So, if I'm still running\nVirtual Server then, I'm out of the game?\n\n267\n00:14:05.520 --> 00:14:06.450\n&gt;&gt; You're toast, yeah.\n\n268\n00:14:06.450 --> 00:14:07.910\nYou're toast.\n\n269\n00:14:07.910 --> 00:14:12.430\nBut when I say that I have it showing up\nin the console, I can come over here and\n\n270\n00:14:12.430 --> 00:14:14.760\nclick New Virtual Machine, and\n\n271\n00:14:14.760 --> 00:14:18.400\nI can go through the process of creating\na VM not on the one that I'm logged on to.\n\n272\n00:14:18.400 --> 00:14:19.550\nBut the one that's remote, right?\n\n273\n00:14:19.550 --> 00:14:21.710\nThat might be in a branch office\nsomewhere, they call me up and\n\n274\n00:14:21.710 --> 00:14:23.520\nthey say hey,\nwe need a new virtual machine.\n\n275\n00:14:23.520 --> 00:14:27.340\nI don't have to try to remote desktop\ninto that Hyper-V server over there or\n\n276\n00:14:27.340 --> 00:14:28.380\nanything like that.\n\n277\n00:14:28.380 --> 00:14:31.210\nI've probably already have\na Hyper-V console installed,\n\n278\n00:14:31.210 --> 00:14:34.190\nall I have to do is add that\nserver here and I can manage it.\n\n279\n00:14:34.190 --> 00:14:36.790\nSo fantastic, love it, love it.\n\n280\n00:14:36.790 --> 00:14:40.460\nAnd speaking of which Most of the time\nwe're not sitting at a server, right?\n\n281\n00:14:40.460 --> 00:14:42.810\nWe're typically sitting\nat a Windows 10 box, so\n\n282\n00:14:42.810 --> 00:14:45.390\nhow can I manage my servers from there?\n\n283\n00:14:45.390 --> 00:14:46.530\nAbsolutely.\n\n284\n00:14:46.530 --> 00:14:49.970\nWe just need a remote server admin tools.\n\n285\n00:14:49.970 --> 00:14:54.560\nSo, over here on the client, I've already\ndownloaded those for us, not included.\n\n286\n00:14:54.560 --> 00:14:55.950\nYou do have to go out to Microsoft and\n\n287\n00:14:55.950 --> 00:15:00.820\ndownload rsat Remote server\nadministration tools, RSAT, and\n\n288\n00:15:00.820 --> 00:15:04.410\nyou have to make sure you get the right\none for the platform you're running it on.\n\n289\n00:15:04.410 --> 00:15:06.170\nNow, for what you're trying to wealth,\na little bit for\n\n290\n00:15:06.170 --> 00:15:09.390\nwhat you're trying to manage but mainly\nfor what you're trying to run it on.\n\n291\n00:15:09.390 --> 00:15:12.060\nAs I'm running windows 10,\nI had to go out and\n\n292\n00:15:12.060 --> 00:15:16.980\ndownload the Windows 10 version\nof the server admin tools.\n\n293\n00:15:16.980 --> 00:15:22.056\nFor x64, I'm gonna go ahead and\nrun this guy.\n\n294\n00:15:24.079 --> 00:15:29.690\nNow, see it's actually an update,\nnot a straight up installation.\n\n295\n00:15:29.690 --> 00:15:32.820\nBut this is gonna install those\nremote server admin tools.\n\n296\n00:15:32.820 --> 00:15:34.410\nSo, we'll let this run for a second.\n\n297\n00:15:34.410 --> 00:15:41.230\nYes, I want to run the Installer And\nwe'll let this go.\n\n298\n00:15:41.230 --> 00:15:45.320\nAnd while that's running I'll go ahead and\nclick I accept for my license.\n\n299\n00:15:45.320 --> 00:15:47.282\nIt'll begin the installation.\n\n300\n00:15:47.282 --> 00:15:52.408\nNow, the next thing I wanna talk about,\nthe really cool feature that they've\n\n301\n00:15:52.408 --> 00:15:57.533\nadded, and this something that You might\nnot see the benefit of it right away,\n\n302\n00:15:57.533 --> 00:16:00.700\nbut once you start managing VMs,\nyou would.\n\n303\n00:16:00.700 --> 00:16:03.600\nAnd that is, PowerShell Direct.\n\n304\n00:16:03.600 --> 00:16:07.590\nNow PowerShell Direct, is a way that I\ncan interact with the Virtual Machines.\n\n305\n00:16:07.590 --> 00:16:10.110\nThrough PowerShell, from the host machine.\n\n306\n00:16:10.110 --> 00:16:11.860\nFrom the Hyper-V server.\n\n307\n00:16:11.860 --> 00:16:15.630\nAnd you might say to me, hey Mike you\nsilly, we've been able to do that forever.\n\n308\n00:16:15.630 --> 00:16:20.190\nWe've got PsSession, I can enter\na PS Session or I can invoke a command.\n\n309\n00:16:20.190 --> 00:16:25.577\nYes we could, if we had network\nconnections to that Virtual Machine.\n\n310\n00:16:25.577 --> 00:16:27.565\nIt was just like any\nother physical machine,\n\n311\n00:16:27.565 --> 00:16:29.931\nas long as you could connect to it,\nover the network.\n\n312\n00:16:29.931 --> 00:16:33.474\nAnd the firewall was setup for\nyour Windows remote management,\n\n313\n00:16:33.474 --> 00:16:36.680\nour WinRM quickconfig,\nremember those commands?\n\n314\n00:16:36.680 --> 00:16:40.476\nAll that had to be set up and\nthen sure, I could enter a PS Session,\n\n315\n00:16:40.476 --> 00:16:43.457\nconnect to that machine,\nand manage it remotely.\n\n316\n00:16:43.457 --> 00:16:48.103\nWhat PS Direct, or PowerShell Direct\nallows me to do, is connect to the VMs,\n\n317\n00:16:48.103 --> 00:16:51.180\nwhether they're connected\nto the network or not.\n\n318\n00:16:51.180 --> 00:16:52.116\nWait what?\n\n319\n00:16:52.116 --> 00:16:53.022\n&gt;&gt; That doesn't make sense.\n\n320\n00:16:53.022 --> 00:16:54.589\n[LAUGH]\n&gt;&gt; I know, right?\n\n321\n00:16:54.589 --> 00:16:56.810\nHow can I connect to\nsomething I can't connect to.\n\n322\n00:16:56.810 --> 00:16:59.590\n&gt;&gt; It's crazy, it's crazy,\nso let's clear it up.\n\n323\n00:16:59.590 --> 00:17:01.700\nOne, you do have to be\non the host machine.\n\n324\n00:17:01.700 --> 00:17:04.150\nSo if I, this guys still installing, so\n\n325\n00:17:04.150 --> 00:17:09.990\nI'm going to skip back over to my Hyper-V\nhost, so here I am on server one.\n\n326\n00:17:09.990 --> 00:17:13.610\nMy Hyper-V host on this host,\nis a Virtual Machine called server10.\n\n327\n00:17:15.110 --> 00:17:18.523\nSo that's my VM, and\nif we look at the settings for this VM.\n\n328\n00:17:20.463 --> 00:17:22.106\nI take a look at Network Adapter.\n\n329\n00:17:22.106 --> 00:17:27.100\nAnd what's it say,\nafter it finish saying loading, it says.\n\n330\n00:17:27.100 --> 00:17:28.390\n&gt;&gt; Not connected.\n&gt;&gt; Not connected so\n\n331\n00:17:28.390 --> 00:17:31.411\nthis Virtual Machine,\nis not connected to any network.\n\n332\n00:17:31.411 --> 00:17:34.547\nBasically it has the network\ncable unplugged.\n\n333\n00:17:34.547 --> 00:17:36.748\nWell I'm gonna fire up PowerShell, and\n\n334\n00:17:36.748 --> 00:17:39.864\nyou do have to make sure you\nrun this as an administrator.\n\n335\n00:17:44.737 --> 00:17:47.239\nAnd once that fires up,\nwe'll bump up the font so\n\n336\n00:17:47.239 --> 00:17:50.487\neverybody out there in TV land,\ncan see it a little bit better.\n\n337\n00:17:53.001 --> 00:17:56.240\nWhich annoyingly enough,\nyou cannot make part of your profile.\n\n338\n00:17:56.240 --> 00:17:58.633\nYou're probably wondering, well Mike\nwhy don't you do that ahead of time?\n\n339\n00:17:58.633 --> 00:17:59.788\n&gt;&gt; [LAUGH]\n&gt;&gt; The font,\n\n340\n00:17:59.788 --> 00:18:02.318\nis defined as a system thing for\nall of your consoles and\n\n341\n00:18:02.318 --> 00:18:04.907\nthings like that, so\nyou can't add it to your profile.\n\n342\n00:18:04.907 --> 00:18:05.649\nIt's really annoying.\n\n343\n00:18:05.649 --> 00:18:06.634\n&gt;&gt; Microsoft is not TV friendly.\n\n344\n00:18:06.634 --> 00:18:08.225\n[LAUGH]\n&gt;&gt; I know, what is up with that?\n\n345\n00:18:08.225 --> 00:18:11.068\nSo Enter-PSSsession.\n\n346\n00:18:11.068 --> 00:18:12.708\nWell you guys have seen that before.\n\n347\n00:18:12.708 --> 00:18:16.649\nAnd if I just try to do svr10, cuz\nthat's the name of the Virtual Machine.\n\n348\n00:18:16.649 --> 00:18:17.274\nSee what happens.\n\n349\n00:18:17.274 --> 00:18:19.872\n&gt;&gt; [SOUND]\n&gt;&gt; Can't connect.\n\n350\n00:18:19.872 --> 00:18:20.750\nFail of the following error.\n\n351\n00:18:20.750 --> 00:18:24.230\nCan't resolve the name, probably,\nis what it's telling me.\n\n352\n00:18:24.230 --> 00:18:25.356\n&gt;&gt; That's an angry PowerShell right there.\n\n353\n00:18:25.356 --> 00:18:26.999\n&gt;&gt; Your computer exists on the network.\nMake sure the computer exists and\n\n354\n00:18:26.999 --> 00:18:30.039\nthe name provided,\nis spelled correctly, yada, yada, yada.\n\n355\n00:18:30.039 --> 00:18:33.809\nIt's not gonna connect, even if I did make\nsure there was a record for it in DNS,\n\n356\n00:18:33.809 --> 00:18:35.679\nbecause it's not connected to the network.\n\n357\n00:18:35.679 --> 00:18:37.690\nThere's no physical connectivity there.\n\n358\n00:18:37.690 --> 00:18:39.231\nUnless I do this.\n\n359\n00:18:41.525 --> 00:18:45.800\nLet me add a little extra\nspace-vmname_svr10.\n\n360\n00:18:45.800 --> 00:18:48.720\nSo all I did was add,\na little parameter in there.\n\n361\n00:18:50.660 --> 00:18:54.260\nAnd lo and behold,\nI've got a dialog box for credentials.\n\n362\n00:18:54.260 --> 00:18:57.270\n&gt;&gt; And this is because, it's not\nconnecting through a network connection.\n\n363\n00:18:57.270 --> 00:19:00.080\nIt's connecting because,\nthis server's hosting that machine.\n\n364\n00:19:00.080 --> 00:19:02.280\n&gt;&gt; Exactly right, exactly right.\n\n365\n00:19:02.280 --> 00:19:03.960\nSo I should here, give it just a second.\n\n366\n00:19:03.960 --> 00:19:04.790\nI typed in,\n\n367\n00:19:04.790 --> 00:19:08.090\nyou did need credentials obviously that\nare valid on the Virtual Machine itself.\n\n368\n00:19:08.090 --> 00:19:09.580\nThat machine's not part of my domain or\n\n369\n00:19:09.580 --> 00:19:12.350\nanything, so\nyou saw me use that local Administrator.\n\n370\n00:19:12.350 --> 00:19:14.412\n&gt;&gt; You mean to tell me,\nyou could not do this before her?\n\n371\n00:19:14.412 --> 00:19:16.450\n[LAUGH]\n&gt;&gt; No, this is ridiculous.\n\n372\n00:19:16.450 --> 00:19:19.860\n&gt;&gt; They were like, hey I think we\nforgot some on that last version,\n\n373\n00:19:19.860 --> 00:19:21.000\nwe need to throw that in.\n\n374\n00:19:21.000 --> 00:19:23.668\n&gt;&gt; Well the thing is, that Microsoft\nis always treated the Virtual Machine's\n\n375\n00:19:23.668 --> 00:19:24.800\njust like physical machines.\n\n376\n00:19:24.800 --> 00:19:26.740\nSo if you unplug your\nmachine from the network.\n\n377\n00:19:26.740 --> 00:19:27.330\n&gt;&gt; There's no connection.\n\n378\n00:19:27.330 --> 00:19:29.610\n&gt;&gt; I can't PowerShell into you and\nremotely manage it.\n\n379\n00:19:29.610 --> 00:19:32.460\nAnd it was the same with the virtual,\nso they were unplug.\n\n380\n00:19:32.460 --> 00:19:36.830\nYou couldn't connect to physically, so\nhow could you possibly PowerShell into.\n\n381\n00:19:36.830 --> 00:19:39.860\n&gt;&gt; I just see the scenario of Microsoft,\na janitor is slinging by and\n\n382\n00:19:39.860 --> 00:19:42.865\nhe's like,\nwhy can't you just connect to it locally.\n\n383\n00:19:42.865 --> 00:19:45.098\n[LAUGH] Shut up Bob.\n\n384\n00:19:45.098 --> 00:19:47.850\n[LAUGH] Get in there.\n\n385\n00:19:47.850 --> 00:19:49.225\n&gt;&gt; Hey Bill I've got an idea.\n\n386\n00:19:49.225 --> 00:19:49.922\n&gt;&gt; I got a great idea.\n\n387\n00:19:49.922 --> 00:19:52.751\n[LAUGH]\n&gt;&gt; That might have been what happened to\n\n388\n00:19:52.751 --> 00:19:53.369\nus right?\n\n389\n00:19:53.369 --> 00:19:54.027\nBut there you go.\n\n390\n00:19:54.027 --> 00:19:58.520\nIf you look at my screen, I had a PS\nSession connection connected to svr10.\n\n391\n00:19:58.520 --> 00:20:02.350\nThis is fantastic, cuz we're setting\nup DevNetworks, test networks.\n\n392\n00:20:02.350 --> 00:20:04.060\nThey're not connected\nto my internal network.\n\n393\n00:20:04.060 --> 00:20:05.280\nThat's because they're isolated.\n\n394\n00:20:05.280 --> 00:20:06.850\nThey're development network.\n\n395\n00:20:06.850 --> 00:20:08.896\nBut I wanna be able to\nremotely manage them.\n\n396\n00:20:08.896 --> 00:20:09.500\nNow I can.\n\n397\n00:20:09.500 --> 00:20:11.300\nI can type in, host name.\n\n398\n00:20:13.542 --> 00:20:17.880\nAnd so, you can see these commands are\nbeing fired against that Virtual Machine,\n\n399\n00:20:17.880 --> 00:20:19.910\neven though it's not\nconnected to any network.\n\n400\n00:20:19.910 --> 00:20:21.548\nSo that's a really powerful thing there.\n\n401\n00:20:21.548 --> 00:20:23.697\nCuz now I can,\nI don't have to worry about,\n\n402\n00:20:23.697 --> 00:20:26.905\nlet me temporarily connect this\nmachine to an internal network.\n\n403\n00:20:26.905 --> 00:20:30.710\nSo that my host machine can talk to it,\nyadda, yadda, yadda and things like that.\n\n404\n00:20:30.710 --> 00:20:33.730\nI mean, we can start copying files around,\nthink about that?\n\n405\n00:20:33.730 --> 00:20:37.750\nI used to have to make a share or\ntry to move files back and\n\n406\n00:20:37.750 --> 00:20:40.800\nforth this VMs, I can do it right here.\n\n407\n00:20:40.800 --> 00:20:44.700\nThrough a PS Session, even though it's\nnot connected, so I don't have to change\n\n408\n00:20:44.700 --> 00:20:47.470\nany of that networking activity,\non those Virtual Machine.\n\n409\n00:20:47.470 --> 00:20:49.980\nSO love it, I'm gonna exit out of that.\n\n410\n00:20:49.980 --> 00:20:52.860\nThat is called PowerShell Direct,\n\n411\n00:20:52.860 --> 00:20:56.200\nthe ability to connect to\nthe VM through Powershell,\n\n412\n00:20:56.200 --> 00:21:00.780\nPS Session, without having networking\nactivity, to that Virtual Machine.\n\n413\n00:21:00.780 --> 00:21:02.555\nYou can also do now, PS Session.\n\n414\n00:21:02.555 --> 00:21:05.460\nEnter-PS Session,\nthat's an interactive session.\n\n415\n00:21:05.460 --> 00:21:10.267\nYou saw when I type that in,\nhere we'll do it one more time,\n\n416\n00:21:10.267 --> 00:21:13.353\nI supply my credentials, I can type.\n\n417\n00:21:15.645 --> 00:21:17.640\nAnd once I get that\nprompt it's interactive.\n\n418\n00:21:17.640 --> 00:21:19.070\nIn other words, I can run a command.\n\n419\n00:21:20.390 --> 00:21:22.160\nI hit Enter, I'm still connected.\n\n420\n00:21:22.160 --> 00:21:23.914\nSo I could run another command.\n\n421\n00:21:26.359 --> 00:21:29.050\nAnd I'm still connected,\ninteractive session.\n\n422\n00:21:29.050 --> 00:21:34.119\nYou can also, and I'll exit out of that,\nyou could also do an invoke- command.\n\n423\n00:21:35.330 --> 00:21:37.020\nWe can do an invoke -command.\n\n424\n00:21:37.020 --> 00:21:44.200\nThis syntax is a little bit different,\n-VMName, and then -ScriptBlock.\n\n425\n00:21:44.200 --> 00:21:46.020\nAnd let's actually put\nthe VM name in there, Mike.\n\n426\n00:21:46.020 --> 00:21:46.870\nI got a little excited.\n\n427\n00:21:46.870 --> 00:21:47.745\n&gt;&gt; It does help.\n\n428\n00:21:47.745 --> 00:21:50.178\n&gt;&gt; It does help, svr10.\n\n429\n00:21:50.178 --> 00:21:51.023\n&gt;&gt; Slow down there, Mike.\n\n430\n00:21:51.023 --> 00:21:51.816\nYou can do it.\n\n431\n00:21:51.816 --> 00:21:53.930\n[LAUGH]\n&gt;&gt; And then my ScriptBlock.\n\n432\n00:21:53.930 --> 00:21:54.770\n&gt;&gt; Don't be nervous.\n\n433\n00:21:54.770 --> 00:21:56.240\n&gt;&gt; And then my commands go in here, and\n\n434\n00:21:56.240 --> 00:21:58.055\nlet's see if I can just do\nan ipconfig here real quick.\n\n435\n00:21:58.055 --> 00:22:02.363\nIt doesn't like that, I'm gonna have\nto put that probably in quotes.\n\n436\n00:22:05.361 --> 00:22:09.379\nMy ScriptBlock needs to be read a little\nbit differently and I don't do this a lot,\n\n437\n00:22:09.379 --> 00:22:12.260\nI don't think that's gonna work either.\n\n438\n00:22:12.260 --> 00:22:15.570\nBut the point is if I,\nlet me just clear that looks horrible.\n\n439\n00:22:15.570 --> 00:22:18.190\n&gt;&gt; It is just need to be in\nScriptBlocked type syntax.\n\n440\n00:22:18.190 --> 00:22:22.453\n&gt;&gt; Yes and that's not of the top of my\nhead I don't have but, what would happen\n\n441\n00:22:22.453 --> 00:22:26.715\nis when you do the invoke-command,\nit's still connected to the VM.\n\n442\n00:22:26.715 --> 00:22:31.395\nIt still executes the command,\nit gives you the results.\n\n443\n00:22:31.395 --> 00:22:33.174\nBut then you go back to\na normal PowerShell.\n\n444\n00:22:33.174 --> 00:22:35.143\nYou are not still\nconnected to the machine.\n\n445\n00:22:35.143 --> 00:22:37.387\nIn other words,\nit is a non-interactive session.\n\n446\n00:22:37.387 --> 00:22:39.967\nYou fire one command or\na block of commands,\n\n447\n00:22:39.967 --> 00:22:44.875\nthat you have written out ahead of time in\na little script file and, it executes it.\n\n448\n00:22:44.875 --> 00:22:49.029\nBut then you're back to your PS Session,\nso that's your normal PowerShell, so\n\n449\n00:22:49.029 --> 00:22:50.631\nthat's a non-interactive.\n\n450\n00:22:53.161 --> 00:22:54.140\nSession.\n\n451\n00:22:54.140 --> 00:22:55.031\nI guess we could say.\n\n452\n00:22:55.031 --> 00:22:57.916\nI didn't really wanna call\nit a session cuz it ends, so\n\n453\n00:22:57.916 --> 00:23:00.699\nit's just a temporary session maybe or\nsomething.\n\n454\n00:23:00.699 --> 00:23:03.160\n&gt;&gt; I don't think of any better\nword to call it than session.\n\n455\n00:23:03.160 --> 00:23:04.950\n&gt;&gt; I can't either so.\n\n456\n00:23:04.950 --> 00:23:06.770\n&gt;&gt; That's another great features.\n\n457\n00:23:06.770 --> 00:23:10.560\nPlay around with that, be familiar with\nit, at least understand the requirements.\n\n458\n00:23:10.560 --> 00:23:12.830\nYou do have to be on the Hyper-V host.\n\n459\n00:23:12.830 --> 00:23:16.050\nIf I go over to my WIndows 10 machine,\nor even server 2, not 2010,\n\n460\n00:23:16.050 --> 00:23:17.620\nthen I pull up PowerShell.\n\n461\n00:23:19.730 --> 00:23:26.628\nAnd I try to do a, and I'll just\nzoom in after is issue this command.\n\n462\n00:23:26.628 --> 00:23:30.174\nEnter-PS Session.\n\n463\n00:23:32.423 --> 00:23:36.860\nAnd I'll do -VMName svr10.\n\n464\n00:23:39.065 --> 00:23:40.419\nAnd I hit Enter.\n\n465\n00:23:41.435 --> 00:23:46.160\nIt looks like it's gonna work, and\nI'm gonna type in administrator, and\n\n466\n00:23:46.160 --> 00:23:47.062\nmy password.\n\n467\n00:23:47.062 --> 00:23:50.604\nAnd then I get the red text, right?\n\n468\n00:23:50.604 --> 00:23:54.350\nInput VM name parameter does not\nresult any virtual machines.\n\n469\n00:23:54.350 --> 00:23:57.400\nBecause it's not running\non this physical machine.\n\n470\n00:23:57.400 --> 00:24:00.410\nSo it's not be able to reach\nout across the network and\n\n471\n00:24:00.410 --> 00:24:02.590\nconnect to that virtual machine that way.\n\n472\n00:24:02.590 --> 00:24:06.560\nAlthough I would see that as\na logical progression maybe.\n\n473\n00:24:06.560 --> 00:24:10.920\nAlthough that then starts opening up\nsome serious security concern as well,\n\n474\n00:24:10.920 --> 00:24:12.575\nso maybe that's not gonna happen.\n\n475\n00:24:12.575 --> 00:24:14.610\n&gt;&gt; [LAUGH]\n&gt;&gt; All right back over to last thing I\n\n476\n00:24:14.610 --> 00:24:17.150\nwanna do for this episode,\nback over to my client machine.\n\n477\n00:24:17.150 --> 00:24:19.340\nI am gonna need to restart, so\n\n478\n00:24:19.340 --> 00:24:23.173\nlet me reboot this client role quick\nis Windows 10 should take but a second.\n\n479\n00:24:23.173 --> 00:24:25.570\nAnd we'll look at those R Sat tools and\n\n480\n00:24:25.570 --> 00:24:29.930\nhow I can remotely manage my Hyper-V\nserver from my Windows 10 machine.\n\n481\n00:24:29.930 --> 00:24:32.100\nWhich is really a more common scenario.\n\n482\n00:24:32.100 --> 00:24:34.845\nLike back when you were\nworking at the bureau.\n\n483\n00:24:34.845 --> 00:24:35.970\n&gt;&gt; Mm-hm.\nThe Bureau.\n\n484\n00:24:35.970 --> 00:24:38.085\n&gt;&gt; The Federal Bureau, that right?\n\n485\n00:24:38.085 --> 00:24:39.810\n&gt;&gt; [LAUGH]\n&gt;&gt; It was the Bureau.\n\n486\n00:24:39.810 --> 00:24:43.240\n&gt;&gt; Did you run Server Operating System\non your help desk machines, or\n\n487\n00:24:43.240 --> 00:24:44.040\ndid you guys run.\n\n488\n00:24:44.040 --> 00:24:46.560\n&gt;&gt; Yeah,\nit was all administrative tools, right?\n\n489\n00:24:46.560 --> 00:24:47.170\n&gt;&gt; Yeah.\n\n490\n00:24:47.170 --> 00:24:48.430\n&gt;&gt; Because that's what\nyou're normally doing.\n\n491\n00:24:48.430 --> 00:24:52.540\nTypically you're supporting not only\nyour servers but your users as well.\n\n492\n00:24:52.540 --> 00:24:55.510\nAny level three stuff that comes up\nthat the help desk can't handle.\n\n493\n00:24:55.510 --> 00:24:57.030\nThey're gonna shovel it your way.\n\n494\n00:24:57.030 --> 00:24:58.080\nWhat are you gonna want?\n\n495\n00:24:58.080 --> 00:25:00.990\nYou're not gonna be wanna\nrunning server operating system,\n\n496\n00:25:00.990 --> 00:25:03.460\nyou're gonna be running a client so\nyou can say, okay.\n\n497\n00:25:03.460 --> 00:25:06.128\nLet's walk through this,\nyou have client tools.\n\n498\n00:25:06.128 --> 00:25:08.400\nYou don't wanna be doing that\nfrom a server environment, so\n\n499\n00:25:08.400 --> 00:25:11.670\nit's better to remotely\nadminister your servers\n\n500\n00:25:11.670 --> 00:25:15.705\nthrough a remote administration\nsoftware of some sort.\n\n501\n00:25:15.705 --> 00:25:17.475\nLike the RSAT tools or whatever.\n\n502\n00:25:17.475 --> 00:25:20.855\nAnd then running a client operating system\nso you can support your users as well.\n\n503\n00:25:20.855 --> 00:25:23.615\nThat's what we found to\nbe the best way to go.\n\n504\n00:25:23.615 --> 00:25:26.165\n&gt;&gt; And that's the way I see\nit in most environments.\n\n505\n00:25:26.165 --> 00:25:30.875\nThe IT guys typically don't run the server\noperating system on their laptop.\n\n506\n00:25:30.875 --> 00:25:33.385\nYou run the client operating system\n\n507\n00:25:33.385 --> 00:25:37.530\nbecause it's designed to run\nyour tasks in the foreground.\n\n508\n00:25:37.530 --> 00:25:40.830\nAnd put more processing power to\nforeground tasks than background tasks.\n\n509\n00:25:40.830 --> 00:25:44.770\nWhere a server is prioritizing those\nbackground tasks and services.\n\n510\n00:25:44.770 --> 00:25:46.440\nThat's not what I want\non my everyday driver.\n\n511\n00:25:46.440 --> 00:25:48.520\nBut I still need to\nremotely manage those guys.\n\n512\n00:25:48.520 --> 00:25:51.030\nSo that's where those remote\nserver admin tools come into play.\n\n513\n00:25:51.030 --> 00:25:52.800\nIt's the exact same console.\n\n514\n00:25:52.800 --> 00:25:55.908\nThough the same console that\nyou install on Server 2016.\n\n515\n00:25:55.908 --> 00:26:01.260\nI'm just gonna install that same\nHyper V console on my Windows 10 box.\n\n516\n00:26:01.260 --> 00:26:04.320\nAnd then just point it,\njust like you saw me from server one,\n\n517\n00:26:04.320 --> 00:26:06.980\npoint the console to server two and\nmanage it remotely.\n\n518\n00:26:06.980 --> 00:26:10.300\nIt's the same thing, except for\nwhen I do it on my client,\n\n519\n00:26:10.300 --> 00:26:12.970\nI won't be pointing it locally and\nto another remote server.\n\n520\n00:26:12.970 --> 00:26:15.320\nI'll point it to both remote servers,\n\n521\n00:26:15.320 --> 00:26:18.230\nalthough you can run\nHyper-V on Windows 10.\n\n522\n00:26:18.230 --> 00:26:19.910\nThere is Hyper-V for clients,\n\n523\n00:26:19.910 --> 00:26:23.550\nsomething we'll probably talk\nabout a little bit later.\n\n524\n00:26:23.550 --> 00:26:25.300\nWhich I think is fantastic,\n\n525\n00:26:25.300 --> 00:26:29.360\nbecause it's the exact same Hyper-V\nthat you're gonna be running on 2016.\n\n526\n00:26:29.360 --> 00:26:33.630\nThat means, as a developer or a tester,\nI can run HyperV on my Windows 10 machine.\n\n527\n00:26:33.630 --> 00:26:35.950\nAnd I can create VMs, I can test them.\n\n528\n00:26:35.950 --> 00:26:36.910\nI can do whatever I need to do.\n\n529\n00:26:36.910 --> 00:26:39.700\nAnd I could just export it\nout to my production team.\n\n530\n00:26:39.700 --> 00:26:41.390\nThey can import it in their server.\n\n531\n00:26:41.390 --> 00:26:42.840\nThere is no conversion to do.\n\n532\n00:26:42.840 --> 00:26:44.830\nThere is no upgrading to do.\n\n533\n00:26:44.830 --> 00:26:50.220\nThe VM that I create on my Windows 10 box\nwill run perfectly on my 2016 server.\n\n534\n00:26:51.420 --> 00:26:54.230\nAll right let me log back in\nhere to my Win 10 client.\n\n535\n00:26:54.230 --> 00:26:57.175\nAnd we'll see what we've got going on.\n\n536\n00:27:00.427 --> 00:27:01.250\nThey finished.\n\n537\n00:27:01.250 --> 00:27:04.800\nIt did require a reboot for\nthose remote server admin tools.\n\n538\n00:27:04.800 --> 00:27:05.620\nSomething to keep in mind.\n\n539\n00:27:05.620 --> 00:27:09.200\nAnd I'll go over here to my start menu.\n\n540\n00:27:09.200 --> 00:27:11.280\nAnd let's see if we have anything.\n\n541\n00:27:12.530 --> 00:27:16.980\nAll right, notice I don't really\nsee anything here that looks new.\n\n542\n00:27:19.140 --> 00:27:20.210\nShouldn't, there we go.\n\n543\n00:27:20.210 --> 00:27:21.010\nThere they are.\n\n544\n00:27:21.010 --> 00:27:22.860\nI knew they were hiding\ndown there somewhere.\n\n545\n00:27:22.860 --> 00:27:25.340\nA little bit different than\nthe way it used to be.\n\n546\n00:27:25.340 --> 00:27:29.180\nAll right, if you remember back, if you've\nworked with prior operating systems,\n\n547\n00:27:29.180 --> 00:27:32.990\nwhen you installed RSAT you didn't\nget anything new on your menu.\n\n548\n00:27:32.990 --> 00:27:36.910\nYou still had to go into add remove\nprograms and pick the ones you needed.\n\n549\n00:27:36.910 --> 00:27:38.530\nNow it just installs them all.\n\n550\n00:27:38.530 --> 00:27:42.650\nI should be able to find my Hyper-V,\nif I can spell, it's alphabetical.\n\n551\n00:27:44.340 --> 00:27:46.400\n&gt;&gt; I said that one time and\nit Help Desk a situation, and\n\n552\n00:27:46.400 --> 00:27:50.650\nthey thought I was being like\npejorative to them like being mean.\n\n553\n00:27:50.650 --> 00:27:52.380\nI'm like I'm just trying\nto help you find it.\n\n554\n00:27:52.380 --> 00:27:56.730\nYou might not have realized\nthis is an alphabetical list so\n\n555\n00:27:56.730 --> 00:27:59.140\nbe careful when you say I\ntell you it's alphabetical.\n\n556\n00:27:59.140 --> 00:28:04.670\n&gt;&gt; I do love the whole new start\nmenu like being able to do that.\n\n557\n00:28:04.670 --> 00:28:05.340\n&gt;&gt; Yeah that's nice.\n\n558\n00:28:05.340 --> 00:28:07.010\n&gt;&gt; And jump to a certain letter for\nexample or whatever.\n\n559\n00:28:07.010 --> 00:28:09.240\n&gt;&gt; Just pretty straight\nto do some good stuff.\n\n560\n00:28:09.240 --> 00:28:09.940\n&gt;&gt; Yeah it really is.\n\n561\n00:28:09.940 --> 00:28:12.159\nAll right so I launched Hyper-V manager.\n\n562\n00:28:13.180 --> 00:28:17.810\nAnd I'm just gonna right-click connect\nto server, and I'm gonna add SBR01.\n\n563\n00:28:17.810 --> 00:28:23.090\nI should be able to find it with an\nunqualified name, let's see how it does.\n\n564\n00:28:25.170 --> 00:28:29.700\nAnd there it is, there is the virtual\nmachine's running on server one.\n\n565\n00:28:29.700 --> 00:28:32.900\nSo now I can manage this Hyper-V\nserver from my Windows 10 client.\n\n566\n00:28:32.900 --> 00:28:35.664\n&gt;&gt; All right well Mike that's\nenough out of you for today.\n\n567\n00:28:35.664 --> 00:28:36.380\n&gt;&gt; [LAUGH].\n\n568\n00:28:36.380 --> 00:28:39.800\n&gt;&gt; Well this was a lot of fun right we've\nseen that Hyper-V is not that scary.\n\n569\n00:28:39.800 --> 00:28:43.000\nI know virtualization if you've\nnever done virtualization before\n\n570\n00:28:43.000 --> 00:28:45.130\nit can seem like a really big mountain.\n\n571\n00:28:45.130 --> 00:28:46.950\nIt's not that bad right.\n\n572\n00:28:46.950 --> 00:28:49.285\nI've worked in multiple different\nvirtualization environments.\n\n573\n00:28:49.285 --> 00:28:50.920\nHyper-V is an extremely simple.\n\n574\n00:28:50.920 --> 00:28:52.720\nYou saw Mike walk you through it.\n\n575\n00:28:52.720 --> 00:28:56.090\nGetting it running, getting it working\neven getting the administration\n\n576\n00:28:56.090 --> 00:28:59.640\ntool on to your client\nmachine very simple process.\n\n577\n00:28:59.640 --> 00:29:03.566\nYes the bulk of the work comes when you\nstart trying to configure things and\n\n578\n00:29:03.566 --> 00:29:05.800\nmake everything work correctly and\nfor your environments.\n\n579\n00:29:05.800 --> 00:29:09.010\nBut and getting it running at\nleast to where you can do that\n\n580\n00:29:09.010 --> 00:29:09.930\nnot that big of a deal.\n\n581\n00:29:09.930 --> 00:29:13.680\nSo like we've always been saying\nspin up some virtual servers and and\n\n582\n00:29:13.680 --> 00:29:15.578\nhave fun with a cuz it is a lot of fun.\n\n583\n00:29:15.578 --> 00:29:16.370\n&gt;&gt; Mike, we do thank you but\n\n584\n00:29:16.370 --> 00:29:20.540\nI know you got more to go over\nour time is not allow for that.\n\n585\n00:29:20.540 --> 00:29:22.259\nWell that just means we'll\nhave to have a part two right?\n\n586\n00:29:22.259 --> 00:29:25.406\n&gt;&gt; That's right part two\nwill see you guys there.\n\n587\n00:29:25.406 --> 00:29:28.141\nIt looks like w're gonna go ahead and\nsign off for this episode though.\n\n588\n00:29:28.141 --> 00:29:29.029\nThanks for watching.\n\n589\n00:29:29.029 --> 00:29:30.488\nI've been your host Daniel Lowry.\n\n590\n00:29:30.488 --> 00:29:31.390\n&gt;&gt; And I'm Mike Roderick.\n\n591\n00:29:31.390 --> 00:29:33.308\nWe'll see you next time.\n\n592\n00:29:33.308 --> 00:29:39.292\n[MUSIC]\n\n593\n00:29:39.292 --> 00:29:41.980\n&gt;&gt; Thank you for watching ITPro TV\n\n",
          "vimeoId": "194362937"
        },
        {
          "description": "In this episode, Daniel and Mike continue their demo of Microsoft's Hyper-V virtualization software, showing you how to install and configure nested virtual machines. They also show you how to configure the nested VM's networking components NestedNAT and MAC Spoofing.",
          "length": "2201",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-1-2-install_and_configure_hyper_v-110716-110716-PGM.00_36_27_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-1-2-install_and_configure_hyper_v-110716-110716-PGM.00_36_27_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-1-2-install_and_configure_hyper_v-110716-110716-PGM.00_36_27_29.Still001-sm.jpg",
          "title": "Install and Configure Hyper-V Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:07.054\nWelcome to ITProTV,\nI'm your host- [CROSSTALK]\n\n2\n00:00:07.054 --> 00:00:08.281\n[MUSIC]\n\n3\n00:00:08.281 --> 00:00:11.998\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.998 --> 00:00:13.927\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:13.927 --> 00:00:16.440\nwelcome to another great\nepisode of ITProTV.\n\n6\n00:00:16.440 --> 00:00:20.360\nI'm your host Daniel Lowrie, and in\ntoday's episode we're continuing on with\n\n7\n00:00:20.360 --> 00:00:24.230\nour installation, storage, and\ncompute series for Windows Server 2016.\n\n8\n00:00:24.230 --> 00:00:26.150\nAnd joining us back in\nthe studio again for\n\n9\n00:00:26.150 --> 00:00:29.260\na part two on Hyper-V,\na good friend Mister Mike Rodrick.\n\n10\n00:00:29.260 --> 00:00:29.870\nMike, welcome back.\n\n11\n00:00:29.870 --> 00:00:30.840\nSir, how's it going today?\n\n12\n00:00:30.840 --> 00:00:32.530\n&gt;&gt; It's going great Daniel,\nthanks for having me back.\n\n13\n00:00:32.530 --> 00:00:35.090\nAnd you're exactly right,\nmore about Hyper-V, right.\n\n14\n00:00:35.090 --> 00:00:37.830\nThis is part two, if you missed\nthe first one make sure you go back and\n\n15\n00:00:37.830 --> 00:00:40.798\nwatch that cuz we covered\nlike installing Hyper-V,\n\n16\n00:00:40.798 --> 00:00:43.630\nsystem requirements,\nthings of that nature.\n\n17\n00:00:43.630 --> 00:00:48.640\nNow we're gonna take a look at something\nbrand new to Server 2016 Hyper-V, and\n\n18\n00:00:48.640 --> 00:00:50.600\nthat is nested virtualization.\n\n19\n00:00:50.600 --> 00:00:52.670\nThat's right, nested virtualization.\n\n20\n00:00:52.670 --> 00:00:54.500\nA really cool concept.\n\n21\n00:00:54.500 --> 00:00:58.840\nMicrosoft finally got their\nHyper-V product to support this.\n\n22\n00:00:58.840 --> 00:01:02.130\nAnd we're ready to dive in and\ntake a look at it and see what we got.\n\n23\n00:01:02.130 --> 00:01:06.040\nSo first let's start off talking\nabout what the heck do I mean\n\n24\n00:01:06.040 --> 00:01:07.650\nby nested virtualization?\n\n25\n00:01:07.650 --> 00:01:08.940\nWe're not building a nest, right?\n\n26\n00:01:08.940 --> 00:01:09.700\n&gt;&gt; No birds at all.\n\n27\n00:01:09.700 --> 00:01:12.240\n&gt;&gt; No birds involved at all,\n[LAUGH] all right.\n\n28\n00:01:12.240 --> 00:01:15.412\nBut nested virtualization means\nwe're gonna do virtualization\n\n29\n00:01:15.412 --> 00:01:17.480\ninside virtualization, right.\n\n30\n00:01:17.480 --> 00:01:20.370\nSo that's what we mean by nested,\nlike if you are doing a nested OUs,\n\n31\n00:01:20.370 --> 00:01:23.880\nyou got an OU inside an OU, right.\n\n32\n00:01:23.880 --> 00:01:26.130\nSame concept here,\nexcept we're doing it with virtualization.\n\n33\n00:01:26.130 --> 00:01:31.200\nWe're talking about taking a physical\nserver, installing 2016 Server on it,\n\n34\n00:01:31.200 --> 00:01:34.800\ninstalling the Hyper-V role\non that physical server.\n\n35\n00:01:34.800 --> 00:01:38.360\nCreating a virtual machine\non that Hyper-V server,\n\n36\n00:01:38.360 --> 00:01:41.300\nthe virtual machine is\nrunning Server 2016.\n\n37\n00:01:41.300 --> 00:01:45.830\nWithin that virtual machine I'm going to\ninstall Hyper-V and then I'm going to go\n\n38\n00:01:45.830 --> 00:01:50.970\nin and create a virtual machine in\nthat second layer of virtualization.\n\n39\n00:01:50.970 --> 00:01:54.250\nThat Hyper-V running\nin the virtual machine\n\n40\n00:01:54.250 --> 00:01:57.060\nrunning in Hyper-V on my physical server.\n\n41\n00:01:57.060 --> 00:01:59.022\nAnd we don't have to stop there,\nwe could actually go further, Daniel.\n\n42\n00:01:59.022 --> 00:02:03.560\nWe could do, in that VM, we could install\nHyper-V, and we could create another\n\n43\n00:02:03.560 --> 00:02:07.449\nvirtual machine and install,\nyou can actually go as far as you want.\n\n44\n00:02:07.449 --> 00:02:11.430\nBut it gets to the point where it's like,\nokay, now you're just being silly, right?\n\n45\n00:02:11.430 --> 00:02:13.935\n&gt;&gt; [LAUGH] You're just doing it for\nthe fun of it now.\n\n46\n00:02:13.935 --> 00:02:16.905\n&gt;&gt; And trying to allocate resources\nall the way through there\n\n47\n00:02:16.905 --> 00:02:18.185\ncould probably be a challenge.\n\n48\n00:02:18.185 --> 00:02:21.005\nBut that's basically what\nnested virtualization is.\n\n49\n00:02:21.005 --> 00:02:22.795\nAnd let's take a look at my screen here.\n\n50\n00:02:22.795 --> 00:02:25.065\nI've got a drawing that will\nhelp us kind of visualize this.\n\n51\n00:02:25.065 --> 00:02:29.445\nSometimes me saying, hey, this inside this\ninside this, can get a little confusing.\n\n52\n00:02:29.445 --> 00:02:31.590\nSo here's what we're talking about.\n\n53\n00:02:31.590 --> 00:02:36.270\nWe have, down at this bottom layer, I've\ngot my physical Hyper-V host, all right.\n\n54\n00:02:36.270 --> 00:02:36.980\nAnd so\n\n55\n00:02:36.980 --> 00:02:40.940\nI've got a physical server, I've installed\n2016 on it, we've installed Hyper-V.\n\n56\n00:02:40.940 --> 00:02:46.010\nWe can see this Hyper Visor layer running\nright here above that physical machine.\n\n57\n00:02:46.010 --> 00:02:51.400\nAnd then on that Hyper Visor, we've got\ntwo VMs, one over here and one over here.\n\n58\n00:02:51.400 --> 00:02:52.895\nThis one's just a standard,\n\n59\n00:02:52.895 --> 00:02:57.580\nrun-of-the-mill VM, maybe it's a DNS\nserver, client, who knows what?\n\n60\n00:02:57.580 --> 00:03:00.000\nThis one over here though,\nI've actually gone and\n\n61\n00:03:00.000 --> 00:03:03.970\ninstalled Hyper-V inside\nthis virtual machine.\n\n62\n00:03:03.970 --> 00:03:06.500\nSo now you can see another\nlayer of virtualization,\n\n63\n00:03:06.500 --> 00:03:11.740\nanother Hyper Visor layer there, and\nwe've created a VM on top of that.\n\n64\n00:03:11.740 --> 00:03:16.020\nSo you can see we're actually going\nthrough two layers of virtualization\n\n65\n00:03:16.020 --> 00:03:21.000\nwhen we're running and\naccessing this third level VM up here.\n\n66\n00:03:21.000 --> 00:03:26.090\nThat's what nesting virtualization,\nor nested Hyper-V, is all about.\n\n67\n00:03:26.090 --> 00:03:27.640\nRight, now you might think to yourself,\n\n68\n00:03:27.640 --> 00:03:30.805\nyou might have this question burning\nin the back of your mind, why?\n\n69\n00:03:30.805 --> 00:03:32.840\n[LAUGH] What the heck?\n\n70\n00:03:32.840 --> 00:03:35.010\nWhy would I ever want to\ndo something like that?\n\n71\n00:03:35.010 --> 00:03:36.090\nLooks ridiculous.\n\n72\n00:03:37.180 --> 00:03:41.000\nIt's actually very cool and\nit has a couple of very good uses.\n\n73\n00:03:41.000 --> 00:03:44.860\nThere are two very big areas you're\ngoing to see nested virtualization in,\n\n74\n00:03:44.860 --> 00:03:46.870\none is testing and development, right.\n\n75\n00:03:46.870 --> 00:03:51.090\nBecause if I want my dev team to be\nable to create new virtual machines,\n\n76\n00:03:51.090 --> 00:03:55.370\ndestroy them, build them up, do whatever\nthey need to do in their dev environment,\n\n77\n00:03:55.370 --> 00:03:57.725\nI need to give them access to\nthe Hyper-V server itself.\n\n78\n00:03:57.725 --> 00:04:00.950\nWell that Hyper-V server,\nif they're gonna ripping up machines and\n\n79\n00:04:00.950 --> 00:04:04.430\nthings like that, that Hyper-V server\ncould be running other machines\n\n80\n00:04:04.430 --> 00:04:07.870\nthat are very important to my network and\ncan't be accidentally turned off or\n\n81\n00:04:07.870 --> 00:04:11.140\ndeleted or disconnected from\nthe network and things like that.\n\n82\n00:04:11.140 --> 00:04:14.280\nBut by giving them access to\nthe virtualization platform,\n\n83\n00:04:14.280 --> 00:04:17.370\nnow I run that risk, right, cuz they're\ngonna have to be Hyper-V admins\n\n84\n00:04:17.370 --> 00:04:20.120\nto be able to make up new machines,\nthings like that.\n\n85\n00:04:20.120 --> 00:04:21.050\nSo that's a problem.\n\n86\n00:04:21.050 --> 00:04:22.650\nWhere as if I create a VM and\n\n87\n00:04:22.650 --> 00:04:27.070\ninstall Hyper-V in it, I can give them\nadmin access to this machine no problem.\n\n88\n00:04:27.070 --> 00:04:29.910\nThey can create VMs,\nthey can do whatever they need to do.\n\n89\n00:04:29.910 --> 00:04:33.490\nThey will not be able to\nmess with this VM, right.\n\n90\n00:04:33.490 --> 00:04:37.000\nSo that separation of\nadministration there is possible\n\n91\n00:04:37.000 --> 00:04:39.370\nthrough nesting virtualization.\n\n92\n00:04:39.370 --> 00:04:41.005\nSo, we use there.\n\n93\n00:04:41.005 --> 00:04:42.985\nAnother big use is cloud.\n\n94\n00:04:42.985 --> 00:04:45.635\nReally goes along the same principle.\n\n95\n00:04:45.635 --> 00:04:49.775\nI'm gonna have customers that are want\nto be able to whip up new machines,\n\n96\n00:04:49.775 --> 00:04:51.345\nspawn up new VMs.\n\n97\n00:04:51.345 --> 00:04:55.952\nBut I can't have them getting access\nto the actual physical Hyper-V server,\n\n98\n00:04:55.952 --> 00:05:00.042\nmy virtualization platform, cuz they could\nhave, I could be a multi-tenant provider,\n\n99\n00:05:00.042 --> 00:05:04.532\nright, and I've gotta make sure they've\ngot no way of accessing those other VMs.\n\n100\n00:05:04.532 --> 00:05:08.142\nAnd we've got other technologies that can\nhelp with that, but this ensures that if I\n\n101\n00:05:08.142 --> 00:05:13.022\ngive my customer access to this machine\nthey've got full access to Hyper-V.\n\n102\n00:05:13.022 --> 00:05:14.142\nThey can change it's settings,\n\n103\n00:05:14.142 --> 00:05:16.800\nthey can work with machines,\nwhatever they need to do.\n\n104\n00:05:16.800 --> 00:05:21.280\nWill not affect any other customers'\nvirtual machines, other than resources.\n\n105\n00:05:21.280 --> 00:05:23.960\nI mean, there are some things in there,\nbut we can divvy those up as well.\n\n106\n00:05:23.960 --> 00:05:31.660\nSo that's the use case scenarios,\nI guess, for nested virtualization.\n\n107\n00:05:31.660 --> 00:05:34.770\nAll right, so\nnow we wanna talk about how do we do this?\n\n108\n00:05:34.770 --> 00:05:37.540\nWell, it's pretty straight forward.\n\n109\n00:05:37.540 --> 00:05:39.940\nWhen I say it's straightforward,\nit's not really, I shouldn't say that.\n\n110\n00:05:39.940 --> 00:05:40.501\nI lied to you.\n\n111\n00:05:40.501 --> 00:05:42.222\n&gt;&gt; [LAUGH]\n&gt;&gt; And I don't wanna lie to you, so-\n\n112\n00:05:42.222 --> 00:05:42.999\n&gt;&gt; So, Mike's a liar.\n\n113\n00:05:42.999 --> 00:05:44.274\n&gt;&gt; It's not straightforward.\n\n114\n00:05:44.274 --> 00:05:46.060\n[LAUGH] It can be a little complex.\n\n115\n00:05:46.060 --> 00:05:47.350\nI think more than anything,\n\n116\n00:05:47.350 --> 00:05:52.060\nplanning things out is a big part\nof being successful with this.\n\n117\n00:05:52.060 --> 00:05:57.050\nThinking about resources because this\nguy might have 64 gigs of RAM, and\n\n118\n00:05:57.050 --> 00:06:01.630\nwhen I spin up my VMs I give him 4 gigs\nof RAM that's plenty for a 2016 server.\n\n119\n00:06:01.630 --> 00:06:03.010\nBut if I'm gonna install Hyper-V on this,\n\n120\n00:06:03.010 --> 00:06:05.590\nhe's gonna need more than\nfour gigs of RAM, right.\n\n121\n00:06:05.590 --> 00:06:08.490\nI mean cuz he's gotta have\nresources to delve out\n\n122\n00:06:08.490 --> 00:06:11.230\nto the virtual machines I\ncreate on that platform.\n\n123\n00:06:11.230 --> 00:06:15.270\nSo I need to give this guy a lot more\nmemory than I normally would a VM so\n\n124\n00:06:15.270 --> 00:06:16.960\nthat he can spin up VMs.\n\n125\n00:06:16.960 --> 00:06:18.330\n&gt;&gt; So,\nMike you make a really good point there.\n\n126\n00:06:18.330 --> 00:06:24.840\nCuz it begs the question, if I'm\nputting a VM host, the Hyper-V server,\n\n127\n00:06:24.840 --> 00:06:29.420\ninside the Hyper-V server and\nI wanna delve out different resources.\n\n128\n00:06:29.420 --> 00:06:32.470\nIt's not reaching back to the bare\nmetal and saying, hey, I need this,\n\n129\n00:06:32.470 --> 00:06:34.260\nI need this for this virtual machine.\n\n130\n00:06:34.260 --> 00:06:38.640\nThat bare metal server is saying, here's\nwhat you have, divvy it out as necessary.\n\n131\n00:06:38.640 --> 00:06:39.380\n&gt;&gt; Exactly right.\n\n132\n00:06:39.380 --> 00:06:43.081\nSo if this physical server\nhad 64 gigs of RAM and\n\n133\n00:06:43.081 --> 00:06:46.650\nI gave 12 gigs to this Hyper-V host.\n\n134\n00:06:46.650 --> 00:06:50.390\nIf I start assigning four gigs\nof memory to each one of those,\n\n135\n00:06:50.390 --> 00:06:51.880\nwhen I get to three VM's that's it.\n\n136\n00:06:51.880 --> 00:06:53.300\nWell two really cuz I need some for\n\n137\n00:06:53.300 --> 00:06:57.780\nthe host even though it's virtual\nit still needs memory right.\n\n138\n00:06:57.780 --> 00:07:02.573\nSo all you have to delve out is what this\nlayer of virtualization has available.\n\n139\n00:07:02.573 --> 00:07:07.710\nI can't over allocate,\nthat's the word I'm looking for.\n\n140\n00:07:07.710 --> 00:07:09.750\nI can't over allocate resources.\n\n141\n00:07:09.750 --> 00:07:12.960\nIf this machine doesn't have it, I can't\ngive it to VMs that are running on it.\n\n142\n00:07:12.960 --> 00:07:17.040\nSo I'd have to go all the way back down\nhere, give more resources to this guy so\n\n143\n00:07:17.040 --> 00:07:20.360\nthat I could spin out more VMs up on\nthat second layer of virtualization.\n\n144\n00:07:20.360 --> 00:07:21.130\nGreat question, Daniel.\n\n145\n00:07:22.200 --> 00:07:24.113\nAll right, so let's look and see and\n\n146\n00:07:24.113 --> 00:07:27.090\nhow we're gonna go about\ndoing nested virtualization.\n\n147\n00:07:27.090 --> 00:07:31.630\nWhat I've got, I've got a physical\nserver here that's running 2016 Server.\n\n148\n00:07:31.630 --> 00:07:35.770\nAnd I've already taken the liberty of\ninstalling Hyper-V on this guy again.\n\n149\n00:07:35.770 --> 00:07:37.070\nThis is my physical machine, so\n\n150\n00:07:37.070 --> 00:07:41.220\nthis would be layer one if we were\nthinking about that drawing back there.\n\n151\n00:07:41.220 --> 00:07:48.782\nAnd I am going to, I've got a machine that\nI've already created, HVO1A, all right.\n\n152\n00:07:48.782 --> 00:07:56.397\nSo HVO1, HyperVO1-A is a virtual\nmachine running on the physical server.\n\n153\n00:07:56.397 --> 00:07:58.192\nSo I'm gonna remote in to that one.\n\n154\n00:08:01.192 --> 00:08:02.239\nAnd that's this guy here.\n\n155\n00:08:02.239 --> 00:08:04.280\nAgain let's keep it straight.\n\n156\n00:08:04.280 --> 00:08:08.980\nHV01 is really this guys right here\nthat I wanna install Hyper-V, right?\n\n157\n00:08:10.530 --> 00:08:12.690\nSo we would do it just\nlike any other role.\n\n158\n00:08:12.690 --> 00:08:15.330\nI'm gonna go to the dashboard and\nthis Virtual Machine.\n\n159\n00:08:15.330 --> 00:08:17.204\nI'm gonna go add rolls and features.\n\n160\n00:08:17.204 --> 00:08:23.300\nClick Next&gt; Next &gt; Next And\nI'm gonna install Hyper-V.\n\n161\n00:08:23.300 --> 00:08:24.380\nI'll add the features.\n\n162\n00:08:26.010 --> 00:08:26.820\nAnd we get a failure.\n\n163\n00:08:26.820 --> 00:08:28.545\nLet's take a quick look at that.\n\n164\n00:08:28.545 --> 00:08:30.390\nHyperV cannot be installed.\n\n165\n00:08:30.390 --> 00:08:35.370\nThe processor does not have required\nvirtualization capabilities, all right.\n\n166\n00:08:35.370 --> 00:08:39.560\nWhat this means is you can't just\ninstall Hyper-V in a Virtual Machine.\n\n167\n00:08:39.560 --> 00:08:41.690\nYou have to do a little\nbit of preparation.\n\n168\n00:08:41.690 --> 00:08:46.295\nI have let the physical host know that\nthis Virtual Machine Is gonna be running\n\n169\n00:08:46.295 --> 00:08:47.020\nHyper-V.\n\n170\n00:08:47.020 --> 00:08:50.910\nAnd it needs those virtualization\nextensions enabled on the processor and\n\n171\n00:08:50.910 --> 00:08:52.370\nthe Virtual Machine.\n\n172\n00:08:52.370 --> 00:08:54.560\nSo I'm gonna cancel out my wizard.\n\n173\n00:08:54.560 --> 00:08:57.150\nAnd I'm gonna shut it down\nbecause I cannot make changes,\n\n174\n00:08:57.150 --> 00:09:01.940\nthis kind of change to this Virtual\nMachine without powering it down first.\n\n175\n00:09:01.940 --> 00:09:03.127\nSo I'm gonna shut it off.\n\n176\n00:09:07.161 --> 00:09:13.740\nAnd then I'm gonna flip back over\nto the physical host, all right?\n\n177\n00:09:13.740 --> 00:09:18.875\nAnd on my host I'm gonna\nfire up PowerShell, And\n\n178\n00:09:18.875 --> 00:09:20.140\nI'm gonna run it as an administrator.\n\n179\n00:09:21.600 --> 00:09:22.470\nIt's always good.\n\n180\n00:09:22.470 --> 00:09:24.900\nRun it as an administrator,\nif you've got the power use it.\n\n181\n00:09:24.900 --> 00:09:33.380\nAnd I'm gonna run set-VMProcessor-VMName.\n\n182\n00:09:33.380 --> 00:09:38.792\nAnd then the name of the Virtual Machine\n\n183\n00:09:38.792 --> 00:09:44.702\nwhich in my case is WS 740 -hv01-a.\n\n184\n00:09:44.702 --> 00:09:50.240\nAnd then a long one here,\nexposevirtualizationExtensions.\n\n185\n00:09:50.240 --> 00:09:55.390\nLucky for us we have tab auto fill, I type\nexe tab, and it all fills out for me.\n\n186\n00:09:55.390 --> 00:09:58.380\nAnd we're gonna say $, true.\n\n187\n00:09:59.460 --> 00:10:00.950\nAnd I'll hit enter.\n\n188\n00:10:00.950 --> 00:10:05.550\nAnd as long as it can find this VM\nwe should be good to go, all right.\n\n189\n00:10:06.920 --> 00:10:09.810\nAnd we'll read this little message\nhere it says, nested virtualization is\n\n190\n00:10:09.810 --> 00:10:14.210\nan unsupported preview feature which\nat this point, I don't believe it is.\n\n191\n00:10:14.210 --> 00:10:15.870\nI don't think they've\nupdated this message.\n\n192\n00:10:15.870 --> 00:10:18.300\nWe are in the evaluation\nversion of Server 2016.\n\n193\n00:10:18.300 --> 00:10:20.500\nIt's out of the technical preview.\n\n194\n00:10:20.500 --> 00:10:24.460\nAnd I don't believe this feature's\ngoing anywhere, but we'll update that.\n\n195\n00:10:24.460 --> 00:10:26.480\nBut anyway, unsupported preview feature.\n\n196\n00:10:26.480 --> 00:10:29.350\nHypervisors other than Hyper-V hypervisor\n\n197\n00:10:29.350 --> 00:10:31.830\nrunning in a guest Virtual Machine\nare likely to fail.\n\n198\n00:10:31.830 --> 00:10:34.000\nThat means I'm not gonna spin up a VM.\n\n199\n00:10:34.000 --> 00:10:38.630\nAnd then in that VM try to install\nsome other virtualization platform,\n\n200\n00:10:38.630 --> 00:10:41.800\nVMware products, Oracle,\nFusion, something like that.\n\n201\n00:10:41.800 --> 00:10:43.180\nThat's probably going to fail.\n\n202\n00:10:43.180 --> 00:10:44.140\nMicrosoft saying hey,\n\n203\n00:10:44.140 --> 00:10:47.528\ntry it if you want, it's unsupported\nwe're not gonna help you at all.\n\n204\n00:10:47.528 --> 00:10:51.500\nFurthermore, some Hyper-V features are\nincompatible with nested virtualization\n\n205\n00:10:51.500 --> 00:10:53.870\nDynamic memory being a big one.\n\n206\n00:10:53.870 --> 00:10:59.840\nCheckpoints being even a bigger one,\nand save and restore, right.\n\n207\n00:10:59.840 --> 00:11:02.340\nSo, once you start doing\nthis virtualization,\n\n208\n00:11:02.340 --> 00:11:06.250\nthrow checkpoints out the window,\nthrow dynamic memory out the window.\n\n209\n00:11:06.250 --> 00:11:09.820\nCan I use those and\ndo nested virtualization, right.\n\n210\n00:11:09.820 --> 00:11:11.870\nWell in there, I mean there's low errors,\n\n211\n00:11:11.870 --> 00:11:14.990\nits just a waning,letting me know what's\ngoing on, we should be good to go.\n\n212\n00:11:14.990 --> 00:11:16.150\nSo many close PowerShell.\n\n213\n00:11:16.150 --> 00:11:21.547\nI am gonna start the server back up,\nand we will let it move.\n\n214\n00:11:23.934 --> 00:11:25.177\nJust a second.\n\n215\n00:11:28.571 --> 00:11:33.550\nOnce you finishes booting over some\ntimes I like to open the VM connection.\n\n216\n00:11:33.550 --> 00:11:38.802\nJust to see when it's done so\nI can kind of watch the boot process here.\n\n217\n00:11:41.299 --> 00:11:44.435\nAnd once that boots up,\nI will remote back into it.\n\n218\n00:11:47.398 --> 00:11:48.728\nHVO1A.\n\n219\n00:11:48.728 --> 00:11:51.009\nAnd we'll just try to\ninstall the role again, and\n\n220\n00:11:51.009 --> 00:11:53.630\nwe'll see if that command did\nwhat it was supposed to do.\n\n221\n00:11:55.360 --> 00:12:00.110\nSo I give this a second to boot up and\nthen we'll let\n\n222\n00:12:00.110 --> 00:12:03.630\nServer Manager open up and\nwe'll go about installing Hyper-V.\n\n223\n00:12:03.630 --> 00:12:07.940\nSo waiting on Server Manager.\n\n224\n00:12:07.940 --> 00:12:09.680\n&gt;&gt; Patience is a virtue Michael.\n\n225\n00:12:09.680 --> 00:12:10.760\n&gt;&gt; It is I know.\n\n226\n00:12:12.150 --> 00:12:14.520\nAnd you guys know the deal\nwith the Server Manager.\n\n227\n00:12:14.520 --> 00:12:16.500\nLittle blue bar going across the top.\n\n228\n00:12:16.500 --> 00:12:18.340\nMeans it's refreshing information.\n\n229\n00:12:18.340 --> 00:12:21.900\nIt's pulling a lot of information\nfrom log files and services, so\n\n230\n00:12:21.900 --> 00:12:23.230\nit takes it a minute, and\n\n231\n00:12:23.230 --> 00:12:26.800\nif click on anything before it's done,\nit just gets angry and takes longer.\n\n232\n00:12:26.800 --> 00:12:28.983\n&gt;&gt; I feel like the server\nis going wait for it.\n\n233\n00:12:28.983 --> 00:12:33.170\n[LAUGH]\n&gt;&gt; All right, here we go, add roles and\n\n234\n00:12:33.170 --> 00:12:37.625\nfeatures next three times to get\nto my roll selection screen.\n\n235\n00:12:37.625 --> 00:12:39.300\nHyper-V one more time.\n\n236\n00:12:39.300 --> 00:12:43.790\nAdd all my features, my management tools.\n\n237\n00:12:45.270 --> 00:12:49.560\nAnd notice this time I did not get\nan error and it's allowing me to move on.\n\n238\n00:12:49.560 --> 00:12:52.370\nSo I'm just gonna click\nNext all the way through.\n\n239\n00:12:52.370 --> 00:12:55.790\nI'm not gonna create a switch right now,\nwe'll click Next.\n\n240\n00:12:55.790 --> 00:12:56.840\nNot worried about any of these settings,\n\n241\n00:12:56.840 --> 00:13:01.640\nwe'll talk a lot about these\nsettings In another episode.\n\n242\n00:13:01.640 --> 00:13:06.170\nAnd I am gonna choose,\nrestart if automatically required, and\n\n243\n00:13:06.170 --> 00:13:09.120\nI'll say Yes,\nI wanna allow that to restart.\n\n244\n00:13:09.120 --> 00:13:14.930\nClick Install, and it'll begin\nthe process of installing Hyper-Vs.\n\n245\n00:13:14.930 --> 00:13:19.100\nWhat we'll do is, we'll step away,\nlet it do its thing, when we come back\n\n246\n00:13:19.100 --> 00:13:23.290\nit will have rebooted, Hyper-V\nshould be installed and ready to go.\n\n247\n00:13:23.290 --> 00:13:24.440\nSo we'll be back in just a minute.\n\n248\n00:13:25.970 --> 00:13:27.800\nAll right, so\nHyper-V has finished installing.\n\n249\n00:13:27.800 --> 00:13:29.110\nThe server rebooted.\n\n250\n00:13:29.110 --> 00:13:30.330\nI've logged back into it.\n\n251\n00:13:30.330 --> 00:13:31.630\nLet's jump back over to this machine.\n\n252\n00:13:31.630 --> 00:13:34.900\nAnd we can see installation succeeded so\nI'll go ahead and\n\n253\n00:13:34.900 --> 00:13:38.900\nclose my ad roles in feature wizard.\n\n254\n00:13:38.900 --> 00:13:40.000\nAll right, and let's see if it worked.\n\n255\n00:13:40.000 --> 00:13:41.960\nWe will go to my start menu.\n\n256\n00:13:43.740 --> 00:13:51.735\nDown to Windows administrative tools and\nHyper-V manager.\n\n257\n00:13:51.735 --> 00:13:55.560\nKeep your fingers crossed and\nthere we go we are in.\n\n258\n00:13:55.560 --> 00:13:56.510\nSo again this is HVO1.\n\n259\n00:13:56.510 --> 00:13:59.320\nThis is, let's look at the drawing again.\n\n260\n00:13:59.320 --> 00:14:01.570\nThat's this VM right here.\n\n261\n00:14:01.570 --> 00:14:07.720\nIs running as a Hyper-V host,\neven though it itself is a Virtual Machine\n\n262\n00:14:07.720 --> 00:14:11.140\nrunning on this physical server,\nbut we can create Virtual Machines.\n\n263\n00:14:11.140 --> 00:14:16.950\nI can go new, virtual machine, give it\na name, we'll click next on my wizard.\n\n264\n00:14:16.950 --> 00:14:21.430\nI'll call it nested VM.\n\n265\n00:14:21.430 --> 00:14:23.380\nI'll click next, and\nwe're gonna go through these options.\n\n266\n00:14:23.380 --> 00:14:24.720\nDon't worry about that.\n\n267\n00:14:24.720 --> 00:14:26.190\nAs far as creating VM's go,\n\n268\n00:14:26.190 --> 00:14:29.750\nI'm just real quickly trying\nto show you to prove a point.\n\n269\n00:14:29.750 --> 00:14:34.600\nNext, worried about that,\nnext, give it a hard drive.\n\n270\n00:14:34.600 --> 00:14:38.740\nMaybe install an operating\nsystem from an ISO of some kind.\n\n271\n00:14:38.740 --> 00:14:41.710\nIf we have one\n\n272\n00:14:43.750 --> 00:14:47.710\nI know there was an ISO folder there but\nthat was remote, this one was local.\n\n273\n00:14:47.710 --> 00:14:48.990\nNext and then finish.\n\n274\n00:14:51.550 --> 00:14:53.360\nAnd it's creating that Virtual Machine.\n\n275\n00:14:56.860 --> 00:15:01.654\nAt this point I could\nfire this machine up.\n\n276\n00:15:01.654 --> 00:15:03.392\nI could start it up.\n\n277\n00:15:06.924 --> 00:15:09.730\nWe've got that iso loaded up,\nso I'll press any key.\n\n278\n00:15:11.670 --> 00:15:13.080\nAnd, there we go.\n\n279\n00:15:13.080 --> 00:15:18.170\nWe are now installing,\nin this case I chose the 2016 iso,\n\n280\n00:15:18.170 --> 00:15:19.540\nbut that wouldn't matter.\n\n281\n00:15:19.540 --> 00:15:23.250\nSo we're actually creating this\nVirtual Machine right up here.\n\n282\n00:15:24.370 --> 00:15:27.390\nSo that's what nested\nvirtualization is all about.\n\n283\n00:15:27.390 --> 00:15:31.310\nNow, once this machine finishes,\nI've already got one created,\n\n284\n00:15:31.310 --> 00:15:34.150\nwe're gonna jump over to it so\nwe can kind of jump ahead in time.\n\n285\n00:15:34.150 --> 00:15:37.980\nImagine that this process we went through\nit, you've seen server being installed so\n\n286\n00:15:37.980 --> 00:15:39.220\nnothing new here.\n\n287\n00:15:39.220 --> 00:15:42.919\nOnce we finished installing that VM,\nit would look something like this.\n\n288\n00:15:44.440 --> 00:15:47.122\nWe'll jump over to the HVO2B and\nthere we go.\n\n289\n00:15:47.122 --> 00:15:52.832\nSo I've got, again,\nHVO1B is this guy here, right?\n\n290\n00:15:52.832 --> 00:15:54.706\nThat middle tier.\n\n291\n00:15:54.706 --> 00:16:00.670\nAnd then nested VM is that virtual machine\nI've created inside the virtual machine.\n\n292\n00:16:00.670 --> 00:16:03.470\nAnd we can start it up,\nin fact it's running right now.\n\n293\n00:16:03.470 --> 00:16:08.890\nI can connect to it, and\nthere it is, all right?\n\n294\n00:16:08.890 --> 00:16:13.620\nSo we've got a VM, inside a VM,\nrunning on a physical host.\n\n295\n00:16:13.620 --> 00:16:15.350\nThat nested virtualization.\n\n296\n00:16:15.350 --> 00:16:16.670\nBut we can't stop there,\n\n297\n00:16:16.670 --> 00:16:20.510\nbecause what we're gonna find is\nthat networking can become an issue.\n\n298\n00:16:20.510 --> 00:16:23.690\nBecause we're going through\ntwo layers of virtualization.\n\n299\n00:16:23.690 --> 00:16:27.350\nWhen i create this VM,\nI have to connect it to a virtual switch.\n\n300\n00:16:27.350 --> 00:16:31.040\nThat virtual switch was\ncreated on this host here.\n\n301\n00:16:31.040 --> 00:16:34.580\nThat virtual machine is\nconnected to a virtual switch\n\n302\n00:16:34.580 --> 00:16:35.770\nthat was created on this guy.\n\n303\n00:16:35.770 --> 00:16:40.710\nAnd the physical host is the one that's\ntied to the actual external network.\n\n304\n00:16:40.710 --> 00:16:43.510\nSo somehow I've got to be able to\ntrack past this traffic down through,\n\n305\n00:16:43.510 --> 00:16:45.540\nwhich is really not the difficult part.\n\n306\n00:16:45.540 --> 00:16:49.500\nThe tricky part is getting it back to the\nvirtual machine because this guy doesn't\n\n307\n00:16:49.500 --> 00:16:53.340\nknow to listen for traffic destined for\nthis little VM right here.\n\n308\n00:16:53.340 --> 00:16:54.170\nRight, I mean, it's a mess.\n\n309\n00:16:54.170 --> 00:16:58.973\n&gt;&gt; Microsoft couldn't have just built\nthis into their little virtual networking\n\n310\n00:16:58.973 --> 00:16:59.552\nsystem?\n\n311\n00:16:59.552 --> 00:17:00.380\nThat would of been nice.\n\n312\n00:17:00.380 --> 00:17:01.090\n&gt;&gt; It would have been nice.\n\n313\n00:17:01.090 --> 00:17:02.125\n&gt;&gt; I got to figure it out.\n\n314\n00:17:02.125 --> 00:17:02.950\n[LAUGH]\n&gt;&gt; We do.\n\n315\n00:17:02.950 --> 00:17:07.530\nBut they gave us the tools, what we need,\nto fix it so we should be good to go.\n\n316\n00:17:07.530 --> 00:17:11.410\nThere's two different ways they can handle\nnetworking with nested virtualization.\n\n317\n00:17:11.410 --> 00:17:14.620\nI can do max spoofing,\nwhere as that packet leaves,\n\n318\n00:17:14.620 --> 00:17:18.490\nthe MAC address gets modified, so\nthat it can make it back to that\n\n319\n00:17:18.490 --> 00:17:21.080\nfirst layer of virtualization\non the physical host.\n\n320\n00:17:21.080 --> 00:17:24.400\nWe can enable MAC address spoofing,\nthat'll work just fine.\n\n321\n00:17:24.400 --> 00:17:29.230\nIt's very easy to do as a matter of fact,\nor we can do network address translation\n\n322\n00:17:29.230 --> 00:17:32.770\nas that goes down through that\nsecond layer of virtualization.\n\n323\n00:17:32.770 --> 00:17:35.160\nAgain, MAC address spoofing\nis by far the easiest.\n\n324\n00:17:35.160 --> 00:17:37.050\nThere are sometimes I can't do that.\n\n325\n00:17:37.050 --> 00:17:40.970\nPublic cloud environments being one of\nthem, where Mac address spoofing just\n\n326\n00:17:40.970 --> 00:17:45.880\nwon't work, or is not appropriate, so\nthat's when we might have to use the nat.\n\n327\n00:17:45.880 --> 00:17:48.710\nBut I'm going to show you both so\nlet's do it.\n\n328\n00:17:48.710 --> 00:17:51.960\nWhat I am going to show you here.\n\n329\n00:17:51.960 --> 00:17:54.320\nUnfortunately I'm not\nremoted into this one, so\n\n330\n00:17:54.320 --> 00:17:59.110\nI have to use the VM connection, which\nthe resolution is a little bit off on.\n\n331\n00:17:59.110 --> 00:18:00.920\nSo I'll have to scroll around.\n\n332\n00:18:00.920 --> 00:18:02.050\nBut this is nested VM.\n\n333\n00:18:02.050 --> 00:18:04.190\nAnd I'm gonna open up PowerShell.\n\n334\n00:18:06.730 --> 00:18:08.910\nAnd I'm just gonna start\nby changing that font.\n\n335\n00:18:08.910 --> 00:18:10.940\nGood gracious, well let's fix that.\n\n336\n00:18:10.940 --> 00:18:12.010\nI can't even read that.\n\n337\n00:18:12.010 --> 00:18:13.540\nI know you guys out there can't see that.\n\n338\n00:18:14.968 --> 00:18:17.748\nAnd my layout's gonna be\nall kind of wacked, so\n\n339\n00:18:17.748 --> 00:18:22.580\nlet's change that up a little bit,\nso we don't have to scroll as much.\n\n340\n00:18:22.580 --> 00:18:25.650\nAnd let's do little Ip config, all right.\n\n341\n00:18:25.650 --> 00:18:29.250\n169254 a paper all right.\n\n342\n00:18:29.250 --> 00:18:33.760\nThat means MDHCP, I have DHCP\nrunning on my physical network.\n\n343\n00:18:33.760 --> 00:18:37.800\nBut this second layer of virtualization\nis never going to get it.\n\n344\n00:18:37.800 --> 00:18:38.550\n&gt;&gt; It's dense.\n\n345\n00:18:38.550 --> 00:18:39.470\n&gt;&gt; It's dense, yes.\n\n346\n00:18:39.470 --> 00:18:40.260\nAll right.\n\n347\n00:18:40.260 --> 00:18:41.750\nSo how do we fix that?\n\n348\n00:18:41.750 --> 00:18:43.890\nWell, we go to the host.\n\n349\n00:18:43.890 --> 00:18:44.670\nWhich host?\n\n350\n00:18:44.670 --> 00:18:46.740\nThose are questions you\nhave to think about.\n\n351\n00:18:46.740 --> 00:18:48.090\nEasy to get confused.\n\n352\n00:18:48.090 --> 00:18:50.790\nWhich host?\nYou're talking about the virtual host or\n\n353\n00:18:50.790 --> 00:18:53.180\nthe physical host, right?\n\n354\n00:18:53.180 --> 00:18:58.770\nAnd in this case we're talking about that\nsecond layer, the virtual hyper v server.\n\n355\n00:18:58.770 --> 00:19:00.210\nSo I'll leave PowerShell open.\n\n356\n00:19:00.210 --> 00:19:02.400\nI'm just gonna minimize\nthis guy right here.\n\n357\n00:19:03.580 --> 00:19:07.610\nAnd I'm gonna open up\nPowerShell on my host.\n\n358\n00:19:07.610 --> 00:19:08.690\nOops, I can't type.\n\n359\n00:19:11.210 --> 00:19:13.628\nAnd I'll show you,\nI'll do a little host name.\n\n360\n00:19:13.628 --> 00:19:15.610\nSo this is HVO 1B, right?\n\n361\n00:19:15.610 --> 00:19:17.960\nThe one that's running the nested VM.\n\n362\n00:19:17.960 --> 00:19:21.065\nAnd the command I'm gonna\nbe running on this guy is\n\n363\n00:19:21.065 --> 00:19:30.680\na Get-VMNetworkAdapter-VMName.\n\n364\n00:19:30.680 --> 00:19:36.690\nAnd that VM is Nested-VM\nif I'm not mistaken.\n\n365\n00:19:36.690 --> 00:19:39.150\nNow I'm just gonna hit Enter to make\nsure this part of the command works.\n\n366\n00:19:41.180 --> 00:19:41.960\nAll right, so there we go.\n\n367\n00:19:41.960 --> 00:19:46.730\nGood, I'm able to return the network\nadapter for the virtual machine.\n\n368\n00:19:46.730 --> 00:19:51.290\nNow that I know that part of the command\nworks, I'm gonna pipe that out.\n\n369\n00:19:51.290 --> 00:19:59.860\nInto a\nSet-VMNetworkAdapter-MacAddressSpoofingOn.\n\n370\n00:20:02.570 --> 00:20:05.680\nNo red text, I like that.\n\n371\n00:20:05.680 --> 00:20:08.800\nSo now we're going to go back\nover to the virtual machine.\n\n372\n00:20:09.840 --> 00:20:11.985\nNested VM.\n\n373\n00:20:11.985 --> 00:20:18.159\nAnd I'm gonna do an ipconfig,\n\n374\n00:20:18.159 --> 00:20:22.434\nswitch release, and\n\n375\n00:20:22.434 --> 00:20:27.431\nipconfig switch renew.\n\n376\n00:20:27.431 --> 00:20:29.370\nAnd give it just a second.\n\n377\n00:20:33.750 --> 00:20:34.960\nThinking about it.\n\n378\n00:20:34.960 --> 00:20:36.010\nCome on baby.\n\n379\n00:20:36.010 --> 00:20:36.791\nYou can do it.\n\n380\n00:20:39.795 --> 00:20:43.180\nAnd it should pop up with\nan address here in just a second.\n\n381\n00:20:44.590 --> 00:20:47.370\n&gt;&gt; Gotta love waiting for\ncomputers to do their thing, don't you?\n\n382\n00:20:47.370 --> 00:20:48.234\n&gt;&gt; I know, right.\n\n383\n00:20:50.501 --> 00:20:51.638\nIt is taking a sweet time though.\n\n384\n00:20:51.638 --> 00:20:52.503\n&gt;&gt; It is that.\n\n385\n00:20:55.879 --> 00:20:59.280\n&gt;&gt; Testing, it didn't take quite this\nlong, but our network could be busy\n\n386\n00:20:59.280 --> 00:21:02.082\nwith other things going on, so\nI will give it just a second.\n\n387\n00:21:02.082 --> 00:21:08.240\nBut it should pop up with a nice shiny\nnew IP address here in just a second.\n\n388\n00:21:08.240 --> 00:21:11.200\nSo again, all we really did was\nwe turned Mac address spoofing,\n\n389\n00:21:11.200 --> 00:21:12.710\nand you saw what we did it on.\n\n390\n00:21:12.710 --> 00:21:19.596\nWe did it on the, Shoot,\nyou know what I did?\n\n391\n00:21:19.596 --> 00:21:20.372\n&gt;&gt; You did something wrong.\n\n392\n00:21:20.372 --> 00:21:22.822\n&gt;&gt; I did it on the wrong machine, I did.\n\n393\n00:21:22.822 --> 00:21:27.647\nLet me Cmd+c this guy, Ctrl+c that.\n\n394\n00:21:27.647 --> 00:21:28.611\nAnd this is what I was saying.\n\n395\n00:21:28.611 --> 00:21:30.239\nRemember when I said you have\nto pay attention to which\n\n396\n00:21:30.239 --> 00:21:31.221\nmachine you're running it on?\n\n397\n00:21:31.221 --> 00:21:33.315\nI did do it on the wrong machine.\n\n398\n00:21:33.315 --> 00:21:40.685\nI've got to do this not on the network\nadapter, so I need to turn that back off.\n\n399\n00:21:40.685 --> 00:21:44.900\nLet's do this, let's go back over here,\nand I'm gonna set this to off.\n\n400\n00:21:44.900 --> 00:21:47.580\nAll right, cuz here I was setting\n\n401\n00:21:47.580 --> 00:21:51.460\nMAC address spoofing on the network\nadaptor of the nested VM.\n\n402\n00:21:51.460 --> 00:21:54.560\nThat's not the one that has to\ndo the MAC address spoofing.\n\n403\n00:21:54.560 --> 00:21:57.740\nSo I'm going to turn it off just to\nprevent that from giving us any issues in\n\n404\n00:21:57.740 --> 00:22:01.030\nthe future, and I'm actually\ngonna go to the physical host.\n\n405\n00:22:02.430 --> 00:22:05.200\nSo HV, VM host.\n\n406\n00:22:05.200 --> 00:22:09.060\nWhat I need to do is turn on Mac address\nspoofing on the virtual machine that's\n\n407\n00:22:09.060 --> 00:22:10.360\nrunning on hyper V.\n\n408\n00:22:10.360 --> 00:22:12.500\nWhich is HV01, or in this case, HV01B.\n\n409\n00:22:12.500 --> 00:22:17.300\nSo I'm gonna open up PowerShell\non the physical host.\n\n410\n00:22:17.300 --> 00:22:19.580\nI knew it was taking way too long.\n\n411\n00:22:19.580 --> 00:22:22.260\nIt's like that shouldn't take that long.\n\n412\n00:22:22.260 --> 00:22:24.950\nSo I'm gonna run this as administrator,\nsame command.\n\n413\n00:22:24.950 --> 00:22:31.510\nIt's gonna be get-VMnetworkAdapter.\n\n414\n00:22:31.510 --> 00:22:37.475\nThe name of the machine,\n-VMname, is going to be hv01-b.\n\n415\n00:22:37.475 --> 00:22:43.670\nI'll make sure that works, and it doesn't\nbecause I didn't use the right name.\n\n416\n00:22:43.670 --> 00:22:47.060\nWS740-HB01B.\n\n417\n00:22:47.060 --> 00:22:52.870\nAll right, so there it is\npulling back my network adapter.\n\n418\n00:22:52.870 --> 00:22:57.803\nSo we're going to pipe that out\n\n419\n00:22:57.803 --> 00:23:03.495\nagain to set- VM network adaptor-\n\n420\n00:23:03.495 --> 00:23:08.070\nmacaddressspoofing is on.\n\n421\n00:23:08.070 --> 00:23:09.970\nAgain, no red text.\n\n422\n00:23:09.970 --> 00:23:13.250\nNow we're gonna flip over to hb1b.\n\n423\n00:23:13.250 --> 00:23:17.873\nWe're going to make sure that\nthe virtual machine is connected,\n\n424\n00:23:17.873 --> 00:23:20.151\nbecause I do need to check that.\n\n425\n00:23:24.688 --> 00:23:27.570\nNetworking isn't connected to external.\n\n426\n00:23:27.570 --> 00:23:29.640\nSo we'll go back to this machine.\n\n427\n00:23:32.981 --> 00:23:34.624\nFire up PowerShell.\n\n428\n00:23:37.829 --> 00:23:39.850\nResolution's killing me.\n\n429\n00:23:39.850 --> 00:23:41.120\nDo a little ipconfig.\n\n430\n00:23:43.570 --> 00:23:50.888\nAnd we've still got the ip address,\nIP config release.\n\n431\n00:23:50.888 --> 00:23:54.228\nIP config brand new.\n\n432\n00:23:59.358 --> 00:24:00.226\nAnd there we go.\n\n433\n00:24:00.226 --> 00:24:03.100\nWe have a 10.0 address.\n\n434\n00:24:03.100 --> 00:24:06.170\nThat is our physical\nnetwork here in our studio.\n\n435\n00:24:06.170 --> 00:24:12.251\nSo at this point,\nI should be able to ping 8.8.8.8.\n\n436\n00:24:12.251 --> 00:24:19.558\nAnd this is again from the nested VM I\nshould be able to, oops Ping Google.com.\n\n437\n00:24:23.828 --> 00:24:25.470\nSee if my name resolution's coming back.\n\n438\n00:24:27.190 --> 00:24:28.861\nLook at that.\nIts being painfully slow.\n\n439\n00:24:28.861 --> 00:24:29.438\nI could watch it paint the screen.\n\n440\n00:24:29.438 --> 00:24:30.428\n&gt;&gt; That is fun.\n[LAUGH]\n\n441\n00:24:30.428 --> 00:24:32.670\n&gt;&gt; [LAUGH]\n\n442\n00:24:32.670 --> 00:24:33.530\n&gt;&gt; All right?\n\n443\n00:24:33.530 --> 00:24:35.010\nBut the point is, it's working.\n\n444\n00:24:35.010 --> 00:24:36.020\n&gt;&gt; It's working.\n\n445\n00:24:36.020 --> 00:24:37.790\nYeah.\n&gt;&gt; So don't do what I did,\n\n446\n00:24:37.790 --> 00:24:41.610\nmake sure you enable the Mac address\nspoofing on the right network adapter.\n\n447\n00:24:41.610 --> 00:24:43.150\nAnd let's look at the drawing.\n\n448\n00:24:43.150 --> 00:24:48.000\nI had to do the Mac address spoofing not\non the network adapter for the nested VM,\n\n449\n00:24:48.000 --> 00:24:52.760\nenable Mac address spoofing on\nthe network adaptor for this VM.\n\n450\n00:24:52.760 --> 00:24:56.790\nWhich means you're running\nthe command from the physical host.\n\n451\n00:24:56.790 --> 00:24:57.320\nAll right?\n\n452\n00:24:57.320 --> 00:25:00.450\nThat's where you're running the command\nto enable Mac address spoofing\n\n453\n00:25:00.450 --> 00:25:04.620\non the second layer of virtualization\non it's network adapter.\n\n454\n00:25:04.620 --> 00:25:06.510\nAll right, so that is one way to do this.\n\n455\n00:25:06.510 --> 00:25:11.570\nWe got a few more minutes so\nlet's go ahead and show you the NAT.\n\n456\n00:25:11.570 --> 00:25:14.900\nThe network address translation,\ncuz what if the spoofing,\n\n457\n00:25:14.900 --> 00:25:17.500\nyou can't do Mac address\nspoofing in your environment.\n\n458\n00:25:17.500 --> 00:25:20.730\nIt's not allowed,\nthere's other things that it breaks.\n\n459\n00:25:20.730 --> 00:25:23.050\nMaybe it's not something\nyou're supposed to be doing.\n\n460\n00:25:23.050 --> 00:25:26.593\nSo I'm gonna just to simplify things\nclose a couple of these windows here,\n\n461\n00:25:26.593 --> 00:25:28.688\nand I'm gonna go back\nto the physical host.\n\n462\n00:25:32.889 --> 00:25:35.110\nAnd I'm going to turn that\nMac address spoofing off.\n\n463\n00:25:36.840 --> 00:25:39.560\nWhich is just changing word on to off,\nsame command.\n\n464\n00:25:41.250 --> 00:25:45.220\nAnd now if I go back to my middle\nlayer of virtualization hbo1b.\n\n465\n00:25:45.220 --> 00:25:48.230\nAnd I pull up nested VM.\n\n466\n00:25:51.638 --> 00:25:53.070\nAnd we open up PowerShell.\n\n467\n00:25:56.817 --> 00:26:04.348\nAnd I do an ipconfig release and\nipconfig renew.\n\n468\n00:26:04.348 --> 00:26:06.570\nIt's not going to get an address.\n\n469\n00:26:06.570 --> 00:26:08.340\nI turned Mac address spoofing off so\n\n470\n00:26:08.340 --> 00:26:10.910\nwe know it's going to\ncome up with an address.\n\n471\n00:26:10.910 --> 00:26:14.160\nAnd we're back to basically where\nwe started with our networking.\n\n472\n00:26:14.160 --> 00:26:15.970\nAnother way we can provide networking for\n\n473\n00:26:15.970 --> 00:26:19.390\nthose nested VMs is through\nnetwork address translation.\n\n474\n00:26:19.390 --> 00:26:21.540\nA little more complex to set up but\n\n475\n00:26:21.540 --> 00:26:25.040\nthere's gonna be some scenarios where\nMac address spoofing is not an option.\n\n476\n00:26:25.040 --> 00:26:26.550\nIt's not appropriate for your environment.\n\n477\n00:26:26.550 --> 00:26:27.980\nIt's not allowed.\n\n478\n00:26:27.980 --> 00:26:29.820\nIt breaks something else.\n\n479\n00:26:29.820 --> 00:26:33.590\nAnd if I can't use Mac address spoofing,\nnetwork address translation,\n\n480\n00:26:33.590 --> 00:26:35.590\nfor my nested VMs, is the way to go.\n\n481\n00:26:35.590 --> 00:26:40.337\nAnd what we'll end up doing is creating\na virtual switch on that second layer\n\n482\n00:26:40.337 --> 00:26:44.210\nhypervisor, assigning network\naddress translation to it.\n\n483\n00:26:44.210 --> 00:26:48.342\nAnd they connecting my nested\nVMs to the virtual switch,\n\n484\n00:26:48.342 --> 00:26:52.140\nthat's doing net on that\nsecond layer hypervisor.\n\n485\n00:26:52.140 --> 00:26:56.620\nAnd signing appropriate IP address should\nbe able to go right through there and\n\n486\n00:26:56.620 --> 00:26:58.240\ntalk to the external network.\n\n487\n00:26:58.240 --> 00:26:59.958\nSo lets see if we can get that.\n\n488\n00:26:59.958 --> 00:27:02.379\nSo what I am gonna do,\nagain I am on HPO 1,\n\n489\n00:27:02.379 --> 00:27:05.031\nremember if I take a look\nat my drawing HPO 1.\n\n490\n00:27:05.031 --> 00:27:10.530\nIs this guy here, my middle tier or\nmy second layer hyperviser.\n\n491\n00:27:10.530 --> 00:27:14.810\nAnd we're gonna create\na new switch on this guy.\n\n492\n00:27:16.050 --> 00:27:20.710\nSo the command I'm gonna\nuse is just new-vmswitch.\n\n493\n00:27:20.710 --> 00:27:23.100\nAnd I'm gonna give it a name.\n\n494\n00:27:23.100 --> 00:27:24.710\nWe'll call it vmnat.\n\n495\n00:27:26.210 --> 00:27:31.065\nI like that easy to remember, -SwitchType\n\n496\n00:27:31.065 --> 00:27:35.662\nis gonna be internal and I'll hit Enter.\n\n497\n00:27:35.662 --> 00:27:38.665\nAll right and if I wanted to\ncheat I could come over here and\n\n498\n00:27:38.665 --> 00:27:41.745\nlook, if I look at my\nSwitch Manager in Hyper-V console.\n\n499\n00:27:41.745 --> 00:27:47.270\nThere's the new VM NAT Internal Switch\nthat I just created using PowerShell.\n\n500\n00:27:49.160 --> 00:27:53.270\nSo now that we've got that switch created,\nI need to assign, I need to create\n\n501\n00:27:54.730 --> 00:28:00.170\na pool of, I need to set up network\naddress translation on this guy.\n\n502\n00:28:00.170 --> 00:28:06.880\nThat command is New-NetNat-Name.\n\n503\n00:28:06.880 --> 00:28:12.824\nAnd I'm going to call it LocalTNet and\n\n504\n00:28:12.824 --> 00:28:21.000\nthen dash internal IP\ninterface address prefix.\n\n505\n00:28:21.000 --> 00:28:22.040\nReally long one.\n\n506\n00:28:22.040 --> 00:28:25.000\nThank goodness for tab autofill.\n\n507\n00:28:25.000 --> 00:28:29.570\nAnd the prefix or basically the network\naddress for this NAT range.\n\n508\n00:28:29.570 --> 00:28:34.667\nI'm gonna use 192.168.100.0/24,\n\n509\n00:28:34.667 --> 00:28:40.120\nand of course you use whatever\nis appropriate for you.\n\n510\n00:28:40.120 --> 00:28:44.690\nThis gonna be the IP range of those nested\nVMs the one that I'm trying to get in\n\n511\n00:28:44.690 --> 00:28:45.720\nthat work access to.\n\n512\n00:28:46.990 --> 00:28:48.600\nI'll hit Enter.\n\n513\n00:28:48.600 --> 00:28:51.440\nAnd I do have my new range set up.\n\n514\n00:28:52.570 --> 00:28:54.450\nWe are good to go there.\n\n515\n00:28:54.450 --> 00:28:59.670\nI also need to assign\nan IP address to this HVO1\n\n516\n00:28:59.670 --> 00:29:04.720\nthat's valid on that NetNat I\njust like saying that, NetNat.\n\n517\n00:29:04.720 --> 00:29:07.740\nSo that command is gonna be first\nwe have to get the network adapter.\n\n518\n00:29:07.740 --> 00:29:09.280\nSo get net adapter.\n\n519\n00:29:10.330 --> 00:29:14.750\nAnd in here let's cheat for\njust a second and take a look at this.\n\n520\n00:29:14.750 --> 00:29:19.390\nI'm gonna pull up my network and sharing\ncenter on that second layer hypervisor.\n\n521\n00:29:21.030 --> 00:29:26.860\nAnd when we created that virtual switch VM\nNAT Windows it is known as V Ethernet and\n\n522\n00:29:26.860 --> 00:29:28.760\nthen in parenthesis VM NAT.\n\n523\n00:29:28.760 --> 00:29:30.420\nSo I need to know that name.\n\n524\n00:29:30.420 --> 00:29:32.320\nThat's what I am trying to\nassign the IP address to.\n\n525\n00:29:32.320 --> 00:29:36.150\nCould I do it through the GUI,\nsure but that would be too easy right.\n\n526\n00:29:36.150 --> 00:29:37.885\nWhy would we want to do that.\n\n527\n00:29:37.885 --> 00:29:41.790\n[LAUGH] So get dash net adapter and\n\n528\n00:29:41.790 --> 00:29:46.633\nthat's gonna be V Ethernet,\n\n529\n00:29:46.633 --> 00:29:51.560\nVM, NAT, close my parentheses,\nclose my quote.\n\n530\n00:29:51.560 --> 00:29:52.200\nLet's test it.\n\n531\n00:29:53.660 --> 00:29:57.260\nSure enough it brings back\nthe appropriate network adaptor.\n\n532\n00:29:57.260 --> 00:30:01.410\nSo now that I know that this command is\npulling back the right network adaptor\n\n533\n00:30:01.410 --> 00:30:04.090\nwe're simply going to reuse that command.\n\n534\n00:30:04.090 --> 00:30:08.750\nAnd this time, we're going to pipe it out,\ninto a new net IP address.\n\n535\n00:30:08.750 --> 00:30:13.168\nNew-netIPaddress, and\n\n536\n00:30:13.168 --> 00:30:18.587\nthe address I want to assign it,\n\n537\n00:30:18.587 --> 00:30:24.623\nis 192.168.100.1.\n\n538\n00:30:24.623 --> 00:30:27.560\nThe address family is IPv4.\n\n539\n00:30:29.520 --> 00:30:33.820\nAnd the prefix length or\nmy subnet mask is 24.\n\n540\n00:30:33.820 --> 00:30:35.800\nAnd I'll hit Enter.\n\n541\n00:30:37.740 --> 00:30:40.450\nAnd I missed the decimal point in there,\nI put on the wrong side.\n\n542\n00:30:40.450 --> 00:30:41.466\nLet's try that one more time.\n\n543\n00:30:43.519 --> 00:30:45.840\nTyping skills are very important.\n\n544\n00:30:45.840 --> 00:30:47.510\n&gt;&gt; Highly overrated Michael.\n\n545\n00:30:47.510 --> 00:30:48.030\n&gt;&gt; And there we go.\n\n546\n00:30:48.030 --> 00:30:52.497\nAll right,\nnow I've signed an address for the HVO1,\n\n547\n00:30:52.497 --> 00:30:56.877\nto that NAT,\nthat virtual switch there, the VM NAT.\n\n548\n00:30:56.877 --> 00:31:02.157\nThis becomes the default gateway,\nfor all the nested VMs.\n\n549\n00:31:02.157 --> 00:31:05.621\nThey're gonna have an IP in that range,\n192.168.100.0/24.\n\n550\n00:31:05.621 --> 00:31:10.538\nTheir default gateway is gonna be\nmy Hyper V host that's hosting this\n\n551\n00:31:10.538 --> 00:31:16.140\nvirtual switch that's doing\nthe network address translation.\n\n552\n00:31:16.140 --> 00:31:16.640\nAll right?\n\n553\n00:31:17.690 --> 00:31:19.760\nAll right, so we got this guy set up,\n\n554\n00:31:19.760 --> 00:31:23.020\nnow we're going to move\nto the nested VM itself.\n\n555\n00:31:24.070 --> 00:31:25.400\nAnd we get into a couple of things here.\n\n556\n00:31:25.400 --> 00:31:28.048\nFirst actually,\nlet's go back over to the host.\n\n557\n00:31:29.470 --> 00:31:32.150\nAll right, I'm gonna pull up\nthe properties for this nested VM.\n\n558\n00:31:32.150 --> 00:31:37.030\nAnd I want to make sure I\nattach it to that new switch\n\n559\n00:31:37.030 --> 00:31:40.730\nthat we just created that's providing\nthe network address translation.\n\n560\n00:31:40.730 --> 00:31:44.910\nSo I'm basically plugging its cable in\nto that new VM NAT switch we created.\n\n561\n00:31:46.890 --> 00:31:48.970\nThen I'll click okay.\n\n562\n00:31:48.970 --> 00:31:55.014\nOkay so we got the address assigned\nto the virtual switch we created.\n\n563\n00:31:55.014 --> 00:31:59.096\nNow we'll go configure\nthe actual nested VM.\n\n564\n00:31:59.096 --> 00:32:00.877\nSo, we'll pull up PowerShell.\n\n565\n00:32:04.060 --> 00:32:07.560\nAnd we'll have to scroll up a little\nbit so we can see that PowerShell.\n\n566\n00:32:07.560 --> 00:32:09.930\nAnd the command here,\nwe gotta get its network adapter.\n\n567\n00:32:09.930 --> 00:32:15.965\nSo, Get-NetAdapter, and the name for\nthis one should just be ethernet.\n\n568\n00:32:18.838 --> 00:32:23.101\nWe'll verify that works, and sure enough\nthat pulls back the network adapter for\n\n569\n00:32:23.101 --> 00:32:24.810\nthis virtual machine.\n\n570\n00:32:24.810 --> 00:32:32.460\nSo now we're just gonna pipe that\ncommand it a New-NetIPAddress.\n\n571\n00:32:32.460 --> 00:32:35.419\nAnd we'll do an IP address of,\n\n572\n00:32:37.362 --> 00:32:43.936\n192.168.100.2.\n\n573\n00:32:43.936 --> 00:32:47.374\nWe'll do a DefaultGateway,\n\n574\n00:32:47.374 --> 00:32:51.917\nI have 192.168.100.1.\n\n575\n00:32:51.917 --> 00:32:56.738\nRemember, that's the IP address\nthat I just assigned to hv01,\n\n576\n00:32:56.738 --> 00:32:59.900\nto that virtual switch VM net, right.\n\n577\n00:32:59.900 --> 00:33:04.089\nThat becomes the default gateway for\nall of my nested VMs.\n\n578\n00:33:04.089 --> 00:33:08.060\nWe'll do AddressFamily is IPv4,\n\n579\n00:33:08.060 --> 00:33:12.634\nand we need a PrefixLength.\n\n580\n00:33:12.634 --> 00:33:17.360\nAnd it's gonna be 24, and we hit Enter.\n\n581\n00:33:18.760 --> 00:33:20.030\nAnd that's always a good sign.\n\n582\n00:33:20.030 --> 00:33:22.530\nWhen that pops up,\nyou know that the machine is saying hey,\n\n583\n00:33:22.530 --> 00:33:23.740\nI just found a new network.\n\n584\n00:33:23.740 --> 00:33:25.150\nWhat do you want me to do with it?\n\n585\n00:33:25.150 --> 00:33:27.813\nWe'll say yes, we'll trust it.\n\n586\n00:33:27.813 --> 00:33:29.563\n&gt;&gt; [INAUDIBLE] Viruses here.\n\n587\n00:33:29.563 --> 00:33:30.859\n[LAUGH]\n&gt;&gt; Yeah, please!\n\n588\n00:33:30.859 --> 00:33:36.720\nWe'll try to ping something external,\n8.8.8.8, public DNS server.\n\n589\n00:33:36.720 --> 00:33:40.427\nAnd sure enough,\nfrom my nested VM through hv01,\n\n590\n00:33:40.427 --> 00:33:44.726\nthrough vmhost the physical machine,\nout to the Internet,\n\n591\n00:33:44.726 --> 00:33:49.970\nback up through both layers of\nvirtualization, and back to my nested VM.\n\n592\n00:33:51.020 --> 00:33:52.974\nKeep in mind,\nI don't have DNS at this point.\n\n593\n00:33:52.974 --> 00:33:55.217\nIf I do a ping google.com,\n\n594\n00:33:55.217 --> 00:34:00.010\nI can't get that because we\nhaven't set the DNS servers.\n\n595\n00:34:00.010 --> 00:34:08.234\nWe can do a netsh\ninterface ip add dnsserver,\n\n596\n00:34:08.234 --> 00:34:12.780\nsomething to ethernet,\n\n597\n00:34:12.780 --> 00:34:16.027\naddress equals,\n\n598\n00:34:16.027 --> 00:34:21.885\nnow let's do 8.8.8.8.\n\n599\n00:34:21.885 --> 00:34:26.931\nAnd now, ping google.com, and there we go.\n\n600\n00:34:26.931 --> 00:34:31.465\nSo that's how you can setup network\naddress translation to allow\n\n601\n00:34:31.465 --> 00:34:35.140\nthose nested VMs access\nto the external network.\n\n602\n00:34:35.140 --> 00:34:37.680\nEither doing that MAC address spoofing,\nwhich is simply\n\n603\n00:34:37.680 --> 00:34:42.560\nturning on MAC address spoofing on\nthe second layer of virtualization right.\n\n604\n00:34:42.560 --> 00:34:47.240\nOr, enabling that by creating a virtual\nswitch on that second layer of\n\n605\n00:34:47.240 --> 00:34:50.330\nvirtualization, assigning\na NAT pool to it, and\n\n606\n00:34:50.330 --> 00:34:55.240\nthen configuring the nested VMs to use\nthat switch as their default gateway.\n\n607\n00:34:55.240 --> 00:34:57.050\nSo a couple of different\nways we can go about it.\n\n608\n00:34:57.050 --> 00:35:01.740\nBut in the end, we know we can\ncreate nested virtualization and\n\n609\n00:35:01.740 --> 00:35:05.330\nwe can still get external network\naccess to those nested VMs.\n\n610\n00:35:05.330 --> 00:35:07.986\n&gt;&gt; Mike,\nif I learned anything in today's episode,\n\n611\n00:35:07.986 --> 00:35:10.100\nit's use the MAC spoofing at all costs.\n\n612\n00:35:10.100 --> 00:35:12.119\n&gt;&gt; [LAUGH]\n&gt;&gt; Unless you absolutely,\n\n613\n00:35:12.119 --> 00:35:14.630\nnecessarily need to use\nthe nested NAT stuff.\n\n614\n00:35:14.630 --> 00:35:15.970\nSo, very cool though.\n\n615\n00:35:15.970 --> 00:35:19.160\nIt's good stuff to know because you never\nknow what situation you're going to\n\n616\n00:35:19.160 --> 00:35:19.740\nfind yourself in.\n\n617\n00:35:19.740 --> 00:35:24.050\nSo it is good to know both sides of\nthat coin to get things working.\n\n618\n00:35:24.050 --> 00:35:27.250\nAnd until then, well,\nuse that MAC spoofing.\n\n619\n00:35:27.250 --> 00:35:29.115\nMAC spoofing, MAC spoofing.\n\n620\n00:35:29.115 --> 00:35:31.950\n[LAUGH]\n&gt;&gt; It's definitely the easier route to go,\n\n621\n00:35:31.950 --> 00:35:34.560\nunless it's not available in your\nenvironment because of something\n\n622\n00:35:34.560 --> 00:35:37.610\nelse that's running that would break or\n\n623\n00:35:37.610 --> 00:35:39.610\nsecurity reasons you\ndon't allow MAC spoofing.\n\n624\n00:35:41.070 --> 00:35:45.190\nThe key, and turning on the NAT\nis not too terribly difficult.\n\n625\n00:35:45.190 --> 00:35:46.312\n&gt;&gt; [LAUGH] You're funny, Mike.\n\n626\n00:35:46.312 --> 00:35:47.730\n&gt;&gt; The biggest challenge, yeah.\n\n627\n00:35:47.730 --> 00:35:49.850\nThe biggest challenge is trying\nto keep things straight.\n\n628\n00:35:49.850 --> 00:35:53.896\nWait, which level of virtualization\ndo I need to run these commands on?\n\n629\n00:35:53.896 --> 00:35:57.330\nWhere am I my applying this\nnetwork address translation?\n\n630\n00:35:57.330 --> 00:36:00.520\nAnd then also, use different\nbackground colors for your VMs.\n\n631\n00:36:00.520 --> 00:36:02.790\nYeah, let's make sure you\nknow which VM you're on.\n\n632\n00:36:02.790 --> 00:36:06.085\nBecause now even your Hyper-V\nhost is a virtual machine, so\n\n633\n00:36:06.085 --> 00:36:08.034\nit can get a little twisty in there.\n\n634\n00:36:08.034 --> 00:36:08.898\n&gt;&gt; Yeah, it definitely does.\n\n635\n00:36:08.898 --> 00:36:13.700\nAnd they wonder why sys admins and\nnet admins have 12 different screens.\n\n636\n00:36:13.700 --> 00:36:17.390\nIt's because if we don't keep that\nstuff in line, aww, you're in for\n\n637\n00:36:17.390 --> 00:36:18.980\na bad day, right, so.\n\n638\n00:36:18.980 --> 00:36:21.750\nAnyway, Mike, thank you so\nmuch for the very cool demo.\n\n639\n00:36:21.750 --> 00:36:22.777\nWe thank you guys for watching.\n\n640\n00:36:22.777 --> 00:36:25.100\nBut is the time for us to call it a day.\n\n641\n00:36:25.100 --> 00:36:27.820\nSigning off for ITPro.TV,\nI've been your host Daniel Lowery.\n\n642\n00:36:27.820 --> 00:36:28.550\n&gt;&gt; And I'm Mike Roderick.\n\n643\n00:36:28.550 --> 00:36:30.857\n&gt;&gt; We'll see you next time.\n\n644\n00:36:30.857 --> 00:36:36.792\n[MUSIC]\n\n645\n00:36:36.792 --> 00:36:38.735\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "191183723"
        },
        {
          "description": "In this episode, Ronnie and Mike walk you through configuring a Hyper-V virtual machine. They demonstrate configuring dynamic RAM options like Startup RAM, Min/Max Ram, Memory Buffer and Weight. They also show you how to configure Non-Uniform Memory Access(NUMA) and resource metering of the CPU, Memory, Network, and Disk.",
          "length": "2105",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-2-1-configure_virtual_machine_settings-113017-PGM.00_34_51_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-2-1-configure_virtual_machine_settings-113017-PGM.00_34_51_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-2-1-configure_virtual_machine_settings-113017-PGM.00_34_51_17.Still001-sm.jpg",
          "title": "Configure Virtual Machine Settings",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:00.859\nWelcome to ITPRO.TV.\n\n2\n00:00:00.859 --> 00:00:04.176\nI'm your host Don Pezet, reporting to\nyou live from San Francisco [CROSSTALK].\n\n3\n00:00:04.176 --> 00:00:07.833\n[MUSIC]\n\n4\n00:00:07.833 --> 00:00:10.710\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:10.710 --> 00:00:14.580\n&gt;&gt; Welcome to another big\nepisode right here on ITPRO.TV.\n\n6\n00:00:14.580 --> 00:00:20.570\nYou're watching the MCSA for\nWindows Server 2016 show for exam 70-740.\n\n7\n00:00:20.570 --> 00:00:22.543\nI'm your host, Ronnie Wong, and\n\n8\n00:00:22.543 --> 00:00:27.160\ntoday we're gonna take a look at\nConfiguring Virtual Machine Settings.\n\n9\n00:00:27.160 --> 00:00:31.230\nAnd here to help us out and to guide us\nthrough this monumental task of course\n\n10\n00:00:31.230 --> 00:00:35.020\nit's gonna be our Microsoft Kung Fu\nmaster himself, Mr. Mike Rodrick.\n\n11\n00:00:35.020 --> 00:00:36.650\nMike, welcome back to the show.\n\n12\n00:00:36.650 --> 00:00:38.060\n&gt;&gt; Hi, Ronnie, how are you doing?\n\n13\n00:00:38.060 --> 00:00:40.370\n&gt;&gt; We are doing fine as we\nget started here, Mike.\n\n14\n00:00:40.370 --> 00:00:44.940\nNow we're talking about the idea of\nvirtual machines settings and people that\n\n15\n00:00:44.940 --> 00:00:48.750\nmay have actually played around\na little bit with client side settings.\n\n16\n00:00:48.750 --> 00:00:51.920\nAnd may have something to\ndo with virtual machines\n\n17\n00:00:51.920 --> 00:00:54.050\nmay not understand all\nthe intricacies that there are.\n\n18\n00:00:54.050 --> 00:00:55.250\nSo Mike, help us out.\n\n19\n00:00:55.250 --> 00:00:56.116\nWhat are we gonna take a look at?\n\n20\n00:00:56.116 --> 00:00:59.030\n&gt;&gt; Absolutely, I think Ronnie probably\nthe best way to do this is just pull up\n\n21\n00:00:59.030 --> 00:01:01.800\na virtual machine, look at the settings\nand maybe just start going through them.\n\n22\n00:01:01.800 --> 00:01:03.460\n&gt;&gt; Sounds good.\n&gt;&gt; All right, let's do it.\n\n23\n00:01:03.460 --> 00:01:08.090\nIf you take a look at my screen here, I've\ngot my Server 2016 box up and running and\n\n24\n00:01:08.090 --> 00:01:12.100\nI'm gonna go ahead and\nlaunch my Hyper-V management console.\n\n25\n00:01:12.100 --> 00:01:14.380\nAnd here I've got a a couple of virtual\nmachines, one of them is running,\n\n26\n00:01:14.380 --> 00:01:15.600\none of them is not.\n\n27\n00:01:15.600 --> 00:01:17.940\nAnd I think I'll start with, which one?\n\n28\n00:01:17.940 --> 00:01:21.440\nLet's start with the one\nthat's not running, all right?\n\n29\n00:01:21.440 --> 00:01:25.282\nSo all I did was right click on that\nvirtual machine and choose settings.\n\n30\n00:01:25.282 --> 00:01:29.630\nLet me close that for a second, so\nI right clicked and I chose settings,\n\n31\n00:01:29.630 --> 00:01:32.460\nthen it takes me to the settings for\nthat particular virtual machine.\n\n32\n00:01:32.460 --> 00:01:35.600\nYou keep in mind, I know we've talked\nabout this in other episodes, when you're\n\n33\n00:01:35.600 --> 00:01:39.610\nworking with the actions paying over here,\nit can get a little confusing sometimes.\n\n34\n00:01:39.610 --> 00:01:42.950\nLike right now I don't have anything\nselected so I'm seeing actions for\n\n35\n00:01:42.950 --> 00:01:46.250\nthe server itself,\nnot one of the virtual machines.\n\n36\n00:01:46.250 --> 00:01:50.620\nAnd if I look, I think they've actually\nmade it a little bit easier because\n\n37\n00:01:50.620 --> 00:01:53.880\nit does say Hyper-V Settings\ninstead of just Settings.\n\n38\n00:01:53.880 --> 00:01:58.560\nWhen you have a machine selected, you get\nthat split pane over here in your actions.\n\n39\n00:01:58.560 --> 00:02:02.190\nAnd you're looking for the settings\ndown here, not up at the top, right?\n\n40\n00:02:02.190 --> 00:02:05.270\nBut this is another way to get to\nthe settings with that particular VM\n\n41\n00:02:05.270 --> 00:02:06.730\nis to click settings over there.\n\n42\n00:02:06.730 --> 00:02:10.190\nEither way its gonna take\nyou to the same window.\n\n43\n00:02:10.190 --> 00:02:11.680\nAnd I've got one running and\n\n44\n00:02:11.680 --> 00:02:15.880\none not running because I wanted to take a\nlook at, some of the things we do have to\n\n45\n00:02:15.880 --> 00:02:19.190\nconsider is what can I change\nwhen the machine's running?\n\n46\n00:02:19.190 --> 00:02:22.920\nOr some of the settings, do I have to\nshut them down to make those changes?\n\n47\n00:02:22.920 --> 00:02:24.690\nAnd you do, you absolutely do.\n\n48\n00:02:24.690 --> 00:02:28.230\nAnd it's very much like\na physical machine.\n\n49\n00:02:28.230 --> 00:02:32.116\nWell, we used to say that, but it was\nexactly like a physical machine, just\n\n50\n00:02:32.116 --> 00:02:36.278\nlike your home computer or any other PC\nyou're working on a server in the closet.\n\n51\n00:02:36.278 --> 00:02:37.590\nIf you gonna put a new hard drive and\n\n52\n00:02:37.590 --> 00:02:39.800\nthere Ronnie,do you usually\nshut it down first?\n\n53\n00:02:39.800 --> 00:02:42.880\n&gt;&gt; You normally word shut it down,\nyeah definitely first.\n\n54\n00:02:42.880 --> 00:02:45.450\n&gt;&gt; All right, if you gonna change\nthe amount of ram that's in there,\n\n55\n00:02:45.450 --> 00:02:48.800\nif you can do any of that,\nyou would powered it down.\n\n56\n00:02:48.800 --> 00:02:50.990\nIf you were plugging your server in,\n\n57\n00:02:50.990 --> 00:02:54.436\nif you're changing switches that l\nspoke to, right l wanna set up or\n\n58\n00:02:54.436 --> 00:02:58.240\nchange the routing port,\nI wanna plug it into a different VLAN.\n\n59\n00:02:58.240 --> 00:03:00.410\nWell, that we didn't have\nto shut the server down.\n\n60\n00:03:00.410 --> 00:03:04.550\nI can go in the server closet, and I can\nunplug the cable and plug it back it in,\n\n61\n00:03:04.550 --> 00:03:07.760\nwithout shutting the server down,\nand it's the same thing with VMs.\n\n62\n00:03:07.760 --> 00:03:10.790\nWell, it used to be, and\nwe'll show you what you can do now.\n\n63\n00:03:10.790 --> 00:03:13.620\nBut it used to be where if you\nwanted to change the amount of\n\n64\n00:03:13.620 --> 00:03:16.300\nmemory that was in that VM,\nyou shut it down first.\n\n65\n00:03:16.300 --> 00:03:19.980\nYou wanted to add a new piece\nof hardware like a hard drive or\n\n66\n00:03:19.980 --> 00:03:24.130\na network adapter or a CD-ROM drive,\nyou shut it down first.\n\n67\n00:03:24.130 --> 00:03:28.180\nBut if you wanted to change what virtual\nswitch your virtual machine is plugged\n\n68\n00:03:28.180 --> 00:03:31.010\ninto, you simply use your drop down and\nit could be up and running and\n\n69\n00:03:31.010 --> 00:03:31.870\nit wouldn't cause a problem.\n\n70\n00:03:31.870 --> 00:03:35.260\nSo it's very much like a physical machine,\nnow it's a little bit different\n\n71\n00:03:35.260 --> 00:03:37.890\nbecause they let us play with\nsome things while it's running.\n\n72\n00:03:37.890 --> 00:03:40.560\nAnd the some things I'm\nreferring to really, is memory.\n\n73\n00:03:40.560 --> 00:03:41.220\nWe can go in and\n\n74\n00:03:41.220 --> 00:03:45.960\nchange the amount of memory that other\nmachine has, while it's running.\n\n75\n00:03:45.960 --> 00:03:48.430\nIn some cases, I'll show you what I mean.\n\n76\n00:03:48.430 --> 00:03:51.550\nSo let's just start going through here and\nwe'll point out what we can and\n\n77\n00:03:51.550 --> 00:03:53.260\ncan't do as we go along.\n\n78\n00:03:53.260 --> 00:03:54.910\nSo I've got my add hardware wizard.\n\n79\n00:03:54.910 --> 00:03:58.090\nI wonder if it'll let me open\nup both properties, Ronnie.\n\n80\n00:03:58.090 --> 00:03:59.050\nLet's see if it will.\n\n81\n00:03:59.050 --> 00:04:02.330\nI'm gonna try to open up one,\n\n82\n00:04:04.030 --> 00:04:07.830\nput it over here and the other one,\nand put it over here.\n\n83\n00:04:07.830 --> 00:04:08.840\nHow about that?\n\n84\n00:04:08.840 --> 00:04:09.350\nWe get them both.\n\n85\n00:04:09.350 --> 00:04:13.745\nAll right, so on the left,\nwe've got a running VM and on the right,\n\n86\n00:04:13.745 --> 00:04:15.767\nwe have a VM that is turned off.\n\n87\n00:04:15.767 --> 00:04:19.453\nAll right, and if we take a look,\neven starting right here at the hard\n\n88\n00:04:19.453 --> 00:04:23.350\nhardware wizard, we'll see on the right,\nthe one that's turned off.\n\n89\n00:04:23.350 --> 00:04:26.304\nI can add it to a controller,\nI can add a network adaptor,\n\n90\n00:04:26.304 --> 00:04:28.550\nI can add a fiber channel adapter.\n\n91\n00:04:28.550 --> 00:04:29.750\nOn the one on the left,\n\n92\n00:04:29.750 --> 00:04:33.868\nthe one that is running, the only\nthing I can add is a network adapter.\n\n93\n00:04:33.868 --> 00:04:38.650\nSo will let me add a network adapter while\nit's up and running, but that is it.\n\n94\n00:04:38.650 --> 00:04:43.370\nAs we go down through the lists, here,\nsome of these we're not gonna go over\n\n95\n00:04:43.370 --> 00:04:46.000\neverything, because it's not\ncalled out in the objectives.\n\n96\n00:04:46.000 --> 00:04:48.740\nAnd we don't need to worry\nabout it at this point, but\n\n97\n00:04:48.740 --> 00:04:53.990\nwe can look at the firmware that\nthe machine, is it set up to be a UEFI.\n\n98\n00:04:53.990 --> 00:04:55.720\nWe've got our secure boot options.\n\n99\n00:04:55.720 --> 00:04:58.010\nAnd you'll see things like\nthis are grayed out, and\n\n100\n00:04:58.010 --> 00:05:01.610\nwhat that means is I can't change them\nwhile that machine is running, right?\n\n101\n00:05:01.610 --> 00:05:03.990\nIf we take a look at\nthe machine that's shut down.\n\n102\n00:05:03.990 --> 00:05:05.070\nI can make changes to that.\n\n103\n00:05:05.070 --> 00:05:09.200\nI can change whether or not I have a TPM\navailable in this virtual machine,\n\n104\n00:05:09.200 --> 00:05:13.180\nor whether we're using secure boot,\nif it's running I can't change that.\n\n105\n00:05:13.180 --> 00:05:16.660\nThat's the kind of thing that gets set\nup during the boot process, all right?\n\n106\n00:05:16.660 --> 00:05:19.820\nSo, I need to shut it down,\nmake those changes, and\n\n107\n00:05:19.820 --> 00:05:21.590\nthen allow that machine to come back up.\n\n108\n00:05:21.590 --> 00:05:24.930\nSo, it's really, you just have to think\nabout what is it that I'm trying to do,\n\n109\n00:05:24.930 --> 00:05:28.040\nand I was on a real machine or\nwhen does this change take effect.\n\n110\n00:05:28.040 --> 00:05:30.000\nAnd you can kind of determine if\nyou need to shut it down or not.\n\n111\n00:05:31.080 --> 00:05:34.200\nAll right, so now let's take a look\nat some of the specific settings.\n\n112\n00:05:34.200 --> 00:05:37.050\nI am going to get rid of this\none property window for now,\n\n113\n00:05:37.050 --> 00:05:38.910\nwe'll kinda keep it simple.\n\n114\n00:05:38.910 --> 00:05:41.630\nThe first real setting category\nthat we need to worry about for\n\n115\n00:05:41.630 --> 00:05:46.240\nthis exam is memory and on this memory\nscreen, we have a few different options.\n\n116\n00:05:46.240 --> 00:05:52.150\nWe have, up at the very top, the amount of\nmemory this virtual machine can use RAM,\n\n117\n00:05:52.150 --> 00:05:54.940\nthis is known really as what\nwe call the start up memory.\n\n118\n00:05:55.960 --> 00:05:59.300\nThis is how much RAM you're\nassigning to that machine and\n\n119\n00:05:59.300 --> 00:06:02.860\nwhen you turn this machine on,\nit's gonna need that much memory.\n\n120\n00:06:02.860 --> 00:06:06.790\nIf that much memory is not\navailable to the Hyper-V host,\n\n121\n00:06:06.790 --> 00:06:08.930\nthere's potential that it's\nnot gonna start that machine.\n\n122\n00:06:08.930 --> 00:06:12.870\nBut we'll talk about some different things\nthat it can do in just a little bit.\n\n123\n00:06:12.870 --> 00:06:13.900\nBut that's the startup RAM.\n\n124\n00:06:13.900 --> 00:06:16.900\nAnd so this,\nyou wanna assign the startup RAM,\n\n125\n00:06:16.900 --> 00:06:20.720\nthink about installing the operating\nsystem or booting the operating system up.\n\n126\n00:06:20.720 --> 00:06:23.960\nThis is what you're gonna,\nthis is what you're going to assign to it.\n\n127\n00:06:23.960 --> 00:06:29.000\nIn this case we're just using,\nI've assigned two gigs of RAM to this, and\n\n128\n00:06:29.000 --> 00:06:31.290\nthat's what it will always have,\ntwo gigs of RAM.\n\n129\n00:06:31.290 --> 00:06:32.288\nSo when it starts up,\n\n130\n00:06:32.288 --> 00:06:37.070\nHyper-V is gonna assign two gigs of RAM\nfrom physical memory to this virtual\n\n131\n00:06:37.070 --> 00:06:41.240\nmachine and it will have that available\nwhile that machine is running.\n\n132\n00:06:41.240 --> 00:06:42.630\nAnd whether the machine is busy or\n\n133\n00:06:42.630 --> 00:06:48.120\nnot, it's gonna have two gigs of RAM that\nit has claimed out of virtual memory.\n\n134\n00:06:48.120 --> 00:06:51.500\nBelow that,\nI have some dynamic memory options.\n\n135\n00:06:51.500 --> 00:06:57.050\nAnd dynamic memory allows me to set\na range, rather than a specific value.\n\n136\n00:06:57.050 --> 00:07:01.590\nAnd Ronnie, this is good when you have\nmachine that are gonna, maybe start up,\n\n137\n00:07:01.590 --> 00:07:03.262\nbut then not be that busy.\n\n138\n00:07:03.262 --> 00:07:06.630\nAll right, and so,\nwhat I can do, is I can set.\n\n139\n00:07:06.630 --> 00:07:09.190\nAnd let me go back to the other\nmachine's property so\n\n140\n00:07:09.190 --> 00:07:10.820\nwe can actually make some changes.\n\n141\n00:07:10.820 --> 00:07:15.570\nTo work with the dynamic memory I do have\nto have the machine turned off, right?\n\n142\n00:07:15.570 --> 00:07:20.110\nSo we go back to memory, and\nI can turn on dynamic memory.\n\n143\n00:07:20.110 --> 00:07:24.480\nNow you still specify how much\nRAM the machine starts with, but\n\n144\n00:07:24.480 --> 00:07:28.760\nthen you check enable dynamic memory,\nthen you can set the minimum and\n\n145\n00:07:28.760 --> 00:07:31.820\nmaximum amounts of RAM for that machine.\n\n146\n00:07:31.820 --> 00:07:34.810\nAnd what it's gonna do, is if it boots up,\nit has two gigs of RAM.\n\n147\n00:07:34.810 --> 00:07:36.795\nAnd if that servers not doing much,\n\n148\n00:07:36.795 --> 00:07:41.280\nHyper-V can actually take some of that\nmemory back from that virtual machine.\n\n149\n00:07:41.280 --> 00:07:44.160\n&gt;&gt; There's no reason for it too have two\ngigs if it's just sitting there idle,\n\n150\n00:07:44.160 --> 00:07:45.700\nnot really doing anything.\n\n151\n00:07:45.700 --> 00:07:50.590\nSo you can drop down, as far as whatever\nyou set for your minimum amount of RAM.\n\n152\n00:07:50.590 --> 00:07:52.994\nYou wanna think about what\ndo I need to set there?\n\n153\n00:07:52.994 --> 00:07:57.578\nWhat is the least amount of RAM this\nmachine can function with if it doesn't\n\n154\n00:07:57.578 --> 00:08:00.727\nhave any workload and\nthat's what you set that to.\n\n155\n00:08:00.727 --> 00:08:02.715\nAnd then your maximum amount of RAM,\n\n156\n00:08:02.715 --> 00:08:07.510\nthat's way more RAM than I have physically\nin my system, but this is the top end.\n\n157\n00:08:07.510 --> 00:08:11.680\nSo if that machine, if that virtual\nmachine, starts to become busy.\n\n158\n00:08:11.680 --> 00:08:15.663\nThat workload starts increasing on the VM,\nHyperV can see ooh,\n\n159\n00:08:15.663 --> 00:08:18.191\nit can request more memory from HyperV.\n\n160\n00:08:18.191 --> 00:08:22.099\nAnd HyperV can then give that information,\nor give that memory.\n\n161\n00:08:22.099 --> 00:08:25.574\n&gt;&gt; All right Mike now,\nI've noticed that there's a checkmark for\n\n162\n00:08:25.574 --> 00:08:28.220\nthis, to enable it or to not enable it.\n\n163\n00:08:28.220 --> 00:08:32.980\nWhen should I choose not to enable it,\nand when should I choose to enable it?\n\n164\n00:08:32.980 --> 00:08:36.699\n&gt;&gt; Well you know, in some production\nmachines, if I don't check this,\n\n165\n00:08:36.699 --> 00:08:40.997\nif I just leave it static, I know this\nmachine always has two gigs of RAM,right?\n\n166\n00:08:40.997 --> 00:08:44.429\nAnd let's say that was even more,\nlet's say this was the server,\n\n167\n00:08:44.429 --> 00:08:46.370\nand I gave it 8 gigs of RAM.\n\n168\n00:08:46.370 --> 00:08:49.585\nBecause that server, maybe it's one\nof my production web servers and\n\n169\n00:08:49.585 --> 00:08:51.890\nI've got customers that visit my web page.\n\n170\n00:08:51.890 --> 00:08:55.955\nIt needs a lot of memory for\nwhat ever it's doing all right?\n\n171\n00:08:55.955 --> 00:08:59.211\nI never want the scenario to where,\nall of a sudden,\n\n172\n00:08:59.211 --> 00:09:03.059\nthat machine gets a heavy workload,\nand it's gotta wait,.\n\n173\n00:09:03.059 --> 00:09:06.707\nIt's gotta put in a request to HyperV for\nmore memory.\n\n174\n00:09:06.707 --> 00:09:10.910\nHyperV's gotta scramble around and figure\nout where to get more memory from, and\n\n175\n00:09:10.910 --> 00:09:12.560\nthen assigned it to the machine.\n\n176\n00:09:12.560 --> 00:09:15.563\nThat whole time that's going on\nmy customer is sitting there,\n\n177\n00:09:15.563 --> 00:09:17.554\ngoing, why is this web page not loading?\n\n178\n00:09:17.554 --> 00:09:19.663\n&gt;&gt; [LAUGH]\n&gt;&gt; Why am I getting this spinning Cheerio?\n\n179\n00:09:19.663 --> 00:09:22.690\nWhen I could buy this same\nproduct from somebody else?\n\n180\n00:09:22.690 --> 00:09:24.770\nAnd I think I'll just go there, all right?\n\n181\n00:09:24.770 --> 00:09:28.560\nOr my users are calling the help desk\ncuz the SQL server's not responding,\n\n182\n00:09:28.560 --> 00:09:30.790\nbecause we tried to use\ndynamic memory on it.\n\n183\n00:09:30.790 --> 00:09:33.850\nSo work loads that can jump up and\ndown, and\n\n184\n00:09:33.850 --> 00:09:36.740\nI can't take a performance\nhit when they do jump.\n\n185\n00:09:36.740 --> 00:09:41.327\nThat's really when you don't\nwanna use the dynamic memory.\n\n186\n00:09:41.327 --> 00:09:42.060\n&gt;&gt; Okay.\n\n187\n00:09:42.060 --> 00:09:45.850\n&gt;&gt; If it's a scenario where it's a test\nenvironment, I love dynamic memory.\n\n188\n00:09:45.850 --> 00:09:48.903\nIf it's a machine that I don't mind\na little bit of a performance hit while\n\n189\n00:09:48.903 --> 00:09:49.995\nit requests more memory.\n\n190\n00:09:49.995 --> 00:09:54.300\nIt's a redundant server, and it's only\nneeded if certain things happen, right?\n\n191\n00:09:54.300 --> 00:10:00.224\nSo something like that is when dynamic\nmemory would really come into play, right.\n\n192\n00:10:00.224 --> 00:10:03.170\nBut again you can set the minimum,\nand you can set the maximum.\n\n193\n00:10:03.170 --> 00:10:06.660\nThe minimum can be below\nthe start-up RAM,right?.\n\n194\n00:10:06.660 --> 00:10:10.190\nAnd so it will assign the start-up\nmemory when that machine starts up.\n\n195\n00:10:10.190 --> 00:10:12.250\nAnd then as soon as the machine\nfinishes booting and\n\n196\n00:10:12.250 --> 00:10:16.650\nit doesn't need the memory any more,\nit can reduce it down to that minimum.\n\n197\n00:10:16.650 --> 00:10:19.332\nBut it'll always have this\nevery time that machine starts,\n\n198\n00:10:19.332 --> 00:10:21.120\nIt'll use that startup RAM.\n\n199\n00:10:21.120 --> 00:10:23.190\nBelow that is the memory buffer.\n\n200\n00:10:23.190 --> 00:10:28.060\nAnd this is saying what percentage of\nmemory HyperV should try to reserve\n\n201\n00:10:28.060 --> 00:10:29.700\nas a buffer, right?\n\n202\n00:10:29.700 --> 00:10:33.380\nSo if that machine is currently\nusing a gig of RAM, right?\n\n203\n00:10:33.380 --> 00:10:35.408\nIt's got dynamic memory, it's using a gig.\n\n204\n00:10:35.408 --> 00:10:39.598\nI'm saying I want 20% more than\nwhat the machine is requesting,\n\n205\n00:10:39.598 --> 00:10:41.890\nthat's what I want you to assign it.\n\n206\n00:10:41.890 --> 00:10:46.174\nSo If the workload is low,\ntheir machine will request less RAM, but\n\n207\n00:10:46.174 --> 00:10:50.175\ndon't cut it right to the line\nthe machine is saying this is what\n\n208\n00:10:50.175 --> 00:10:50.819\n&gt;&gt; [LAUGH]\n\n209\n00:10:50.819 --> 00:10:51.770\n&gt;&gt; I need, right?\n\n210\n00:10:51.770 --> 00:10:54.580\nGive me a little bit of a buffer\nthere which can help with our\n\n211\n00:10:54.580 --> 00:10:55.620\nperformance issue, right?\n\n212\n00:10:55.620 --> 00:10:59.560\nAs it request more RAM,\nit's got a little bit of a buffer there.\n\n213\n00:10:59.560 --> 00:11:03.840\nAnd you can control how much buffer\nis assigned to each virtual machine.\n\n214\n00:11:03.840 --> 00:11:05.533\nRight below that is memory weight and\n\n215\n00:11:05.533 --> 00:11:08.381\nthis is what happens when we\nstart getting into competition.\n\n216\n00:11:08.381 --> 00:11:12.087\nIf I've got more than one virtual\nmachine asking for more ram but\n\n217\n00:11:12.087 --> 00:11:16.360\nthe HyperV server doesn't have\nenough to satisfy both requests.\n\n218\n00:11:16.360 --> 00:11:18.458\nWho is it gonna try to satisfy first?\n\n219\n00:11:18.458 --> 00:11:22.250\nAnd that's really where the memory\nweight comes into play.\n\n220\n00:11:22.250 --> 00:11:25.640\nSo you have some servers where their\nworkload is a little more important and\n\n221\n00:11:25.640 --> 00:11:28.330\nyou can assign more weight to them, right?\n\n222\n00:11:28.330 --> 00:11:31.670\nNow, the other thing I want\nto point out about memory\n\n223\n00:11:31.670 --> 00:11:34.670\nis that I can change the startup RAM.\n\n224\n00:11:34.670 --> 00:11:38.850\nNotice if I go back to this running\nmachine, and I go to memory,\n\n225\n00:11:39.920 --> 00:11:45.200\nI can change this RAM right now,\n4896 I can go ahead and hit apply.\n\n226\n00:11:45.200 --> 00:11:47.010\nThe machine is running, right?\n\n227\n00:11:47.010 --> 00:11:51.079\nAnd I can play with these settings\nwhile the machine is running.\n\n228\n00:11:51.079 --> 00:11:55.912\nBut I cannot enable dynamic memory\nwhile the machine is running.\n\n229\n00:11:55.912 --> 00:11:59.280\nI'd have to shut it down first,\nthen enable dynamic memory.\n\n230\n00:11:59.280 --> 00:12:00.910\nIf I wanna change the minimum and\n\n231\n00:12:00.910 --> 00:12:04.920\nmaximum RAM within dynamic memory,\nI have to shut it down.\n\n232\n00:12:04.920 --> 00:12:06.890\nSo you might see some\nthings out of this you say,\n\n233\n00:12:06.890 --> 00:12:09.904\nhey HyperV will let' you work with\nmemory while the machine is running.\n\n234\n00:12:09.904 --> 00:12:12.648\nIt will but only the start up RAM,\nnot the dynamic RAMs.\n\n235\n00:12:12.648 --> 00:12:14.250\nKeep that in mind.\n\n236\n00:12:14.250 --> 00:12:17.170\n&gt;&gt; And Mike, I noticed that in\nthe sections that are greyed out,\n\n237\n00:12:17.170 --> 00:12:20.162\nas soon as you change it,\nit also change our numbers there too.\n\n238\n00:12:20.162 --> 00:12:21.987\n&gt;&gt; Yes.\n&gt;&gt; So it's kind need when l see that,\n\n239\n00:12:21.987 --> 00:12:22.979\nall right yeah.\n\n240\n00:12:22.979 --> 00:12:23.542\n&gt;&gt; When I changed here?\n&gt;&gt; Yeah.\n\n241\n00:12:23.542 --> 00:12:26.354\n&gt;&gt; Let's change it back to\n&gt;&gt; 2048 [LAUGH]\n\n242\n00:12:26.354 --> 00:12:27.516\n&gt;&gt; 2048, wow,\n\n243\n00:12:27.516 --> 00:12:31.240\nI was trying to remember\nmy standard numbers there.\n\n244\n00:12:31.240 --> 00:12:33.880\nAnd I click apply, and\nRonnie's talking about that right there.\n\n245\n00:12:33.880 --> 00:12:35.266\nYou can see the minimum and\n\n246\n00:12:35.266 --> 00:12:39.710\nmaximum is now set to 2048 because\nwe're not using dynamic memory.\n\n247\n00:12:39.710 --> 00:12:42.730\nAnd you can see that the change\nwas applied, so pretty cool.\n\n248\n00:12:42.730 --> 00:12:45.083\n&gt;&gt; And that memory weight option\nalso looks like it might be good.\n\n249\n00:12:45.083 --> 00:12:48.416\nIf for one reason or another, your\nserver might have a limitation in terms\n\n250\n00:12:48.416 --> 00:12:50.620\nof the amount of memory that you have.\n\n251\n00:12:50.620 --> 00:12:55.210\nAnd you need to make sure that one server\nwhen it does need to request more memory,\n\n252\n00:12:55.210 --> 00:12:59.100\nit can say I can take out more than this\nguy can kind of wait a little bit too.\n\n253\n00:12:59.100 --> 00:13:01.360\n&gt;&gt; Absolutely.\nYou might have a, I'm trying to think of,\n\n254\n00:13:01.360 --> 00:13:02.630\nSQLservers or something.\n\n255\n00:13:02.630 --> 00:13:03.160\n&gt;&gt; Right.\n\n256\n00:13:03.160 --> 00:13:06.460\nWhere it's constantly,\nthey are memory hogs as it is.\n\n257\n00:13:06.460 --> 00:13:08.770\nBut some heavy queries are getting run,\nand\n\n258\n00:13:08.770 --> 00:13:13.070\nit needs more memory and if it doesn't\nget it, it really hurts performance.\n\n259\n00:13:13.070 --> 00:13:15.979\nWhereas my web server,\nwhen it requests more memory,\n\n260\n00:13:15.979 --> 00:13:19.277\nit might not affect the performance\nof the web server as much.\n\n261\n00:13:19.277 --> 00:13:22.330\nOr it might be something that\nI'm willing to live with.\n\n262\n00:13:22.330 --> 00:13:25.460\nBut if that SQL server starts bogging\ndown, that affects a lot of things.\n\n263\n00:13:25.460 --> 00:13:28.950\nSo I might give it more weight so\nthat when it says I need more memory,\n\n264\n00:13:28.950 --> 00:13:31.423\neverybody else says, okay, I'm backing up.\n\n265\n00:13:31.423 --> 00:13:32.218\n&gt;&gt; [LAUGH]\n&gt;&gt; Let SQL have what it wants.\n\n266\n00:13:32.218 --> 00:13:36.580\nAll right,\nthen we get to our processor settings.\n\n267\n00:13:36.580 --> 00:13:40.820\nAnd here I can change the number of\nprocessors that my virtual machine has.\n\n268\n00:13:40.820 --> 00:13:42.511\nAs you can see it's greyed out,\n\n269\n00:13:42.511 --> 00:13:45.655\nmeaning I cannot modify this\nwhile the machine is running.\n\n270\n00:13:45.655 --> 00:13:49.420\nI also have some resource\ncontrol that we can use.\n\n271\n00:13:49.420 --> 00:13:52.540\nVirtual machine reserve,\nif I wanna reserve a certain percentage\n\n272\n00:13:52.540 --> 00:13:56.930\nof the processor, of this physical\nprocessor, right,for this virtual machine.\n\n273\n00:13:56.930 --> 00:13:59.100\nPercent of total system resources.\n\n274\n00:13:59.100 --> 00:14:00.580\nVirtual machine limit percentage.\n\n275\n00:14:00.580 --> 00:14:05.485\nI don't ever want this guy\ngoing over 80% CPU, right?\n\n276\n00:14:05.485 --> 00:14:06.690\nNow, do be careful.\n\n277\n00:14:06.690 --> 00:14:11.560\nThe virtual machine reserve\npercent of total system resources,\n\n278\n00:14:11.560 --> 00:14:14.920\nvirtual machine reserve is really\ntalking about the machine itself.\n\n279\n00:14:14.920 --> 00:14:17.000\nWhere as total system resources,\n\n280\n00:14:17.000 --> 00:14:21.210\nhow I'm dividing that processor up\namongst multiple virtual machines.\n\n281\n00:14:21.210 --> 00:14:24.563\nVirtual machine limit percentage,\n\n282\n00:14:24.563 --> 00:14:29.436\nthis is dealing with,\nwell it's a good way to say it?\n\n283\n00:14:29.436 --> 00:14:31.360\nWithin the virtual machine itself,\n\n284\n00:14:31.360 --> 00:14:34.845\nif that thing spiking up I don't\nwant to spiking over that 80%.\n\n285\n00:14:34.845 --> 00:14:36.806\nPercent of total system resources,\n\n286\n00:14:36.806 --> 00:14:40.423\nI don't want it using more than\n40 % of the physical CPU, right?\n\n287\n00:14:40.423 --> 00:14:44.281\nSo we've got settings in here some of\nthese are dealing with CPU utilization\n\n288\n00:14:44.281 --> 00:14:45.073\nwithin the VM.\n\n289\n00:14:45.073 --> 00:14:46.910\nSome of them with the physical CPU.\n\n290\n00:14:46.910 --> 00:14:49.209\nRelative weight, same idea here.\n\n291\n00:14:49.209 --> 00:14:52.674\nI want one machine to have\na higher priority when it comes to\n\n292\n00:14:52.674 --> 00:14:56.792\nrequesting CPU resources,\nI can use that relative weight, right?\n\n293\n00:14:56.792 --> 00:14:57.663\n&gt;&gt; All right so Mike,\n\n294\n00:14:57.663 --> 00:15:01.258\non this one even thought it's grayed out\nin terms of the number of processors,\n\n295\n00:15:01.258 --> 00:15:04.580\nis there a limit of processors,\nsince this is all virtual right?\n\n296\n00:15:04.580 --> 00:15:08.037\nSo if I have a quad-core processor\ncould I say I can assign it\n\n297\n00:15:08.037 --> 00:15:10.816\nto 16 cords if I want to\njust because I do that?\n\n298\n00:15:10.816 --> 00:15:12.060\n&gt;&gt; You can not.\n\n299\n00:15:12.060 --> 00:15:12.797\nIt wont let you,\n\n300\n00:15:12.797 --> 00:15:14.483\nit would be nice if you could,\n&gt;&gt; [LAUGH]\n\n301\n00:15:14.483 --> 00:15:15.639\n&gt;&gt; But it does need the physical,\n\n302\n00:15:15.639 --> 00:15:16.800\nif you think about it, right?\n\n303\n00:15:16.800 --> 00:15:19.810\nIt needs the phyical hardware\nto emulate to that VM.\n\n304\n00:15:19.810 --> 00:15:22.280\nAnd then you're right,\nyou think, well it's virtual, so\n\n305\n00:15:22.280 --> 00:15:25.510\ncan't we just tell it that there's\nfour in there or eight in there?\n\n306\n00:15:25.510 --> 00:15:26.710\nAnd it doesn't work that way.\n\n307\n00:15:26.710 --> 00:15:29.876\nLet's pull up the one that's not running,\nso they're not grayed out, and\n\n308\n00:15:29.876 --> 00:15:31.322\nwe'll go back down to processor.\n\n309\n00:15:31.322 --> 00:15:35.934\nAnd evidently I didn't apply my changes\nto that, so let's cancel those changes.\n\n310\n00:15:35.934 --> 00:15:37.320\nCuz I don't even remember what\n\n311\n00:15:37.320 --> 00:15:38.483\nI was changing now,\n&gt;&gt; [LAUGH]\n\n312\n00:15:38.483 --> 00:15:40.743\n&gt;&gt; And we'll go back to processor in here,\n\n313\n00:15:40.743 --> 00:15:42.476\nyou can see as I start going up.\n\n314\n00:15:46.954 --> 00:15:50.309\nIt is allowing me to go a lot further.\n\n315\n00:15:50.309 --> 00:15:54.990\n&gt;&gt; [LAUGH]\n&gt;&gt; Than I actually have.\n\n316\n00:15:54.990 --> 00:15:55.687\n&gt;&gt; Yeah.\n\n317\n00:15:55.687 --> 00:15:56.817\n&gt;&gt; Let's see if I try to apply that.\n\n318\n00:15:56.817 --> 00:16:00.227\n&gt;&gt; [LAUGH] Okay.\n\n319\n00:16:00.227 --> 00:16:03.518\nWell, this is something I'm\ngonna need to look into.\n\n320\n00:16:03.518 --> 00:16:04.409\nI mean,\n&gt;&gt; Yeah,\n\n321\n00:16:04.409 --> 00:16:06.582\nI think that it will let\nyou apply any number, but\n\n322\n00:16:06.582 --> 00:16:09.762\nthe very fact that the limitation\nis the physical limitation, right?\n\n323\n00:16:09.762 --> 00:16:14.508\nSo usually, at least as far as I know,\nthe best practice is you have what,\n\n324\n00:16:14.508 --> 00:16:17.203\nlet's say, it's eight cores, right?\n\n325\n00:16:17.203 --> 00:16:19.772\n&gt;&gt; Mm-hm.\n&gt;&gt; But you don't go and assign 55\n\n326\n00:16:19.772 --> 00:16:25.295\nprocessors to your virtual machine because\nit's not gonna be able to handle that and\n\n327\n00:16:25.295 --> 00:16:30.534\nyour physical machine is not gonna know\nwhat's being requested at that point.\n\n328\n00:16:30.534 --> 00:16:35.133\nSo if you have a bay course, in theory\nthat should be your limit or 16 or\n\n329\n00:16:35.133 --> 00:16:37.985\n32 or if you have 55 then [CROSSTALK]\n&gt;&gt; Yeah,\n\n330\n00:16:37.985 --> 00:16:40.999\nI honestly thought that you\nwould at least hold me back.\n\n331\n00:16:40.999 --> 00:16:44.411\nAs you can see right here, you can modify\nthe number of virtual processors based on\n\n332\n00:16:44.411 --> 00:16:46.602\nthe number of processors\non the physical computer.\n\n333\n00:16:46.602 --> 00:16:48.270\n&gt;&gt; Yeah.\n&gt;&gt; So it should have stuff.\n\n334\n00:16:48.270 --> 00:16:49.978\n&gt;&gt; [LAUGH]\n&gt;&gt; The other thing too, Ronnie,\n\n335\n00:16:49.978 --> 00:16:52.006\nthis is Nested Virtualization\nthat we're using.\n\n336\n00:16:52.006 --> 00:16:52.738\n&gt;&gt; Right.\nYeah.\n\n337\n00:16:52.738 --> 00:16:55.445\n&gt;&gt; So I'm actually doing virtual\nmachines within virtual machines.\n\n338\n00:16:55.445 --> 00:16:55.996\n&gt;&gt; There you go.\n\n339\n00:16:55.996 --> 00:16:57.917\n&gt;&gt; Which might be throwing it off and\n\n340\n00:16:57.917 --> 00:17:02.251\nI might not be able to truly detect how\nmany physical processes I have, so.\n\n341\n00:17:02.251 --> 00:17:05.586\nBut yes, don't set this above the number\nof physical processes you have.\n\n342\n00:17:05.586 --> 00:17:07.255\n&gt;&gt; [LAUGH]\n&gt;&gt; It's not gonna be good.\n\n343\n00:17:07.255 --> 00:17:10.774\nIt's not gonna do anything for\nyou performance wise.\n\n344\n00:17:10.774 --> 00:17:14.511\nIn fact, I've read a lot of interesting\narticles about working with processors.\n\n345\n00:17:14.511 --> 00:17:18.660\nAnd even if you have multiple\nprocessors in the physical machine,\n\n346\n00:17:18.660 --> 00:17:23.714\nsometimes you get better performance by\nonly assigning one processor to the VM.\n\n347\n00:17:23.714 --> 00:17:26.863\nAnd maybe multiple cores\nwithin the processor,\n\n348\n00:17:26.863 --> 00:17:31.481\nbut that's a debate that goes back and\nforth about which one is better.\n\n349\n00:17:31.481 --> 00:17:34.071\nAll right, so\nwe've got our reserves over the processor.\n\n350\n00:17:34.071 --> 00:17:35.432\nProcessor has some other settings.\n\n351\n00:17:35.432 --> 00:17:39.001\nIf I expand this out I can\nsee there is a compatibility.\n\n352\n00:17:39.001 --> 00:17:40.433\nThis has to do with live migration.\n\n353\n00:17:40.433 --> 00:17:44.300\nIf I've got a certain processor\non via the Hyper-V host and\n\n354\n00:17:44.300 --> 00:17:49.094\nI'm gonna go live via create a virtual\nmachine to another Hyper-V host,\n\n355\n00:17:49.094 --> 00:17:52.054\nby default, they need the same processors.\n\n356\n00:17:52.054 --> 00:17:55.785\nThey need the same instruction\nsets on those Hyper-V servers or\n\n357\n00:17:55.785 --> 00:17:57.521\nit won't be able to migrate.\n\n358\n00:17:57.521 --> 00:18:01.145\nThis allows me, if I turn this on,\nbecause like, all right,\n\n359\n00:18:01.145 --> 00:18:05.680\nwe'll cut you a little slack if the\nprocessor on the machine I'm migrating to\n\n360\n00:18:05.680 --> 00:18:08.506\nisn't the same as the one\nI'm migrating from.\n\n361\n00:18:08.506 --> 00:18:10.734\nSo that's what that one's for.\n\n362\n00:18:10.734 --> 00:18:15.370\nBetter off leaving that unchecked\nunless you are maybe taking a Hyper-V\n\n363\n00:18:15.370 --> 00:18:19.171\nserver down, and\nyou need to migrate these machines over.\n\n364\n00:18:19.171 --> 00:18:23.437\nAnd it doesn't have the same processor,\nyou could turn this on.\n\n365\n00:18:23.437 --> 00:18:25.964\nNUMA.\nNUMA is gonna to be my non-uniform\n\n366\n00:18:25.964 --> 00:18:26.992\nmemory access.\n\n367\n00:18:26.992 --> 00:18:32.957\nThis has to do with the way since 2012,\nI believe, don't quote me on that.\n\n368\n00:18:32.957 --> 00:18:37.446\nWindows Server uses this non-uniform\nmemory access to create,\n\n369\n00:18:37.446 --> 00:18:40.064\nwhat's a good way to say it, Ronnie?\n\n370\n00:18:40.064 --> 00:18:42.513\nWhen we look at processors and memory-\n&gt;&gt; Logical groupings.\n\n371\n00:18:42.513 --> 00:18:43.704\n&gt;&gt; Logical groupings, right?\n\n372\n00:18:43.704 --> 00:18:47.526\nSome memory actually has more latency\nthan others but from the processor's\n\n373\n00:18:47.526 --> 00:18:50.881\nperspective, really depending on\nhow close it is to the process.\n\n374\n00:18:50.881 --> 00:18:53.793\nIs it on dice, is it on chip,\nis it on board?\n\n375\n00:18:53.793 --> 00:18:55.456\nWhere is it located?\n\n376\n00:18:55.456 --> 00:18:59.906\nAnd NUMA basically creates these\nlogical groupings of a processor and\n\n377\n00:18:59.906 --> 00:19:04.894\nmemory based on performance from that\nparticular processor's standpoint.\n\n378\n00:19:04.894 --> 00:19:07.481\nAnd it really comes into play\nin multiple processor systems.\n\n379\n00:19:07.481 --> 00:19:11.791\nIn a single processor system you\nend up with one logical NUMA and\n\n380\n00:19:11.791 --> 00:19:14.082\neverything goes through there.\n\n381\n00:19:14.082 --> 00:19:19.502\nBut we can assign NUMA to our\nvirtual machines as well.\n\n382\n00:19:19.502 --> 00:19:22.158\nTypically, we're gonna just\nuse the hardware topology.\n\n383\n00:19:22.158 --> 00:19:27.006\nSo you can see here there's button that\nsays, hey, my server has eight cores and\n\n384\n00:19:27.006 --> 00:19:31.571\ntwo terabytes of RAM, just use the NUMA\ntopology that the physical sever has\n\n385\n00:19:31.571 --> 00:19:34.741\nlaid out,\nmirror that within the virtual machine.\n\n386\n00:19:34.741 --> 00:19:39.513\nAnd that way,\nif a workload understands that,\n\n387\n00:19:39.513 --> 00:19:45.853\nit can be assigned a processor and\nmemory that has low latency.\n\n388\n00:19:45.853 --> 00:19:47.189\nYou can go in here and\n\n389\n00:19:47.189 --> 00:19:51.677\ncreate NUMA topology that doesn't\nexist on the physical machine.\n\n390\n00:19:51.677 --> 00:19:56.657\nFrom what I've read, you don't get a lot\nof performance benefits from that,\n\n391\n00:19:56.657 --> 00:19:58.550\nbut understand that you can.\n\n392\n00:19:58.550 --> 00:20:03.078\nAll right, and another thing that Hyper-V\nwill do is help us with our memory\n\n393\n00:20:03.078 --> 00:20:07.537\nconsumption and making sure that\nthe machine has had the memory they need,\n\n394\n00:20:07.537 --> 00:20:10.189\nis the Smart Paging File Location, right?\n\n395\n00:20:10.189 --> 00:20:14.731\nSmart paging is the way that we can,\nit's a good way to say this one,\n\n396\n00:20:14.731 --> 00:20:17.240\nit gets a little confusing, right?\n\n397\n00:20:17.240 --> 00:20:21.291\nIf we have a startup RAM, let's say for\nour example, we look up here,\n\n398\n00:20:21.291 --> 00:20:24.263\nstartup RAM is 2048 for\nthis virtual machine.\n\n399\n00:20:24.263 --> 00:20:28.241\nLet's say we had dynamic memory\nenabled and it started up and\n\n400\n00:20:28.241 --> 00:20:33.311\nit grabbed two gigs of RAM, but then\nbecause its work load was not that heavy,\n\n401\n00:20:33.311 --> 00:20:38.083\nHyper-V took some of that memory back and\ndropped it down to about a gig.\n\n402\n00:20:38.083 --> 00:20:42.785\nWhen we restart the machine, well,\nstartup memory says you need 2048, but\n\n403\n00:20:42.785 --> 00:20:46.587\nwhen it goes to restart, remember,\nyou dropped it down to a gig,\n\n404\n00:20:46.587 --> 00:20:50.251\nwhen it goes to give it the full\ntwo gigs sot that it can restart,\n\n405\n00:20:50.251 --> 00:20:54.703\nthere's no memory available cuz we've\nlaunched other virtual machines.\n\n406\n00:20:54.703 --> 00:20:58.451\nWe can end up doing what's\ncalled overallocating,\n\n407\n00:20:58.451 --> 00:21:01.782\nit's very easy to do\nwith the dynamic memory.\n\n408\n00:21:01.782 --> 00:21:05.476\nAll right, you got all these machines, you\ngive them a nice chunk of startup memory,\n\n409\n00:21:05.476 --> 00:21:08.622\nbut then you have them dropping down\nwhen they don't need that much RAM.\n\n410\n00:21:08.622 --> 00:21:12.041\nAnd then what happens is you get\nmore machines that are running than\n\n411\n00:21:12.041 --> 00:21:15.521\nyou actually have memory, so\nwhen you get to restart the machine and\n\n412\n00:21:15.521 --> 00:21:18.652\nit needs to jump its memory\nback up there's none available.\n\n413\n00:21:18.652 --> 00:21:22.413\nThat's when smart paging comes into play,\nand it's enabled down here.\n\n414\n00:21:22.413 --> 00:21:25.434\nOr it's not that it's enabled,\nit is part of Hyper-V.\n\n415\n00:21:25.434 --> 00:21:28.160\nWe don't turn it on or\nturn it off, it is a feature.\n\n416\n00:21:28.160 --> 00:21:32.011\nYou can change the location\nof where it does the paging.\n\n417\n00:21:32.011 --> 00:21:35.799\nAnd it's just like the paging you'd\nthink of with normal Microsoft Windows\n\n418\n00:21:35.799 --> 00:21:36.932\noperations, right?\n\n419\n00:21:36.932 --> 00:21:39.135\nIf you're short on RAM we can swap,\n\n420\n00:21:39.135 --> 00:21:43.184\nwe can write something to this\nthat's not currently being used.\n\n421\n00:21:43.184 --> 00:21:46.209\nFree up some space and\nmemory to do something else and\n\n422\n00:21:46.209 --> 00:21:47.873\nthen swap back if we need to.\n\n423\n00:21:47.873 --> 00:21:49.713\nWell, it's the same concept here.\n\n424\n00:21:49.713 --> 00:21:52.659\nWhen that machine goes to restart,\nHyper-V is gonna go,\n\n425\n00:21:52.659 --> 00:21:56.512\nyou've only got a gig of RAM and you're\nsuppose to have two gigs when you startup.\n\n426\n00:21:56.512 --> 00:22:00.484\nI don't have any other memory to give,\nhere's what I'm gonna do, I'm gonna take\n\n427\n00:22:00.484 --> 00:22:04.253\na chunk of the hard drive and pretend\nthat's memory and give it to you, right?\n\n428\n00:22:04.253 --> 00:22:06.170\nSo now,\nyou think you have two gigs of RAM,\n\n429\n00:22:06.170 --> 00:22:08.258\none gig is actually on the hard drive,\nright?\n\n430\n00:22:08.258 --> 00:22:11.762\nIt's like a page file, but\nit's only for that startup process.\n\n431\n00:22:11.762 --> 00:22:14.965\nAnd then as soon as you finish starting\nup, I'll take it back from you.\n\n432\n00:22:14.965 --> 00:22:17.203\nIt's not like it keeps that memory.\n\n433\n00:22:17.203 --> 00:22:18.257\nSo it's just for\n\n434\n00:22:18.257 --> 00:22:23.089\nthe startup process when we've\noverallocated RAM on our Hyper-V server.\n\n435\n00:22:23.089 --> 00:22:26.958\nCouple of things we need to know about\nsmart paging for the exam, I wanna make\n\n436\n00:22:26.958 --> 00:22:31.129\nsure you're aware of, it's only used when\nthe virtual machine is restarting and\n\n437\n00:22:31.129 --> 00:22:33.427\nthere's no physical memory available, and\n\n438\n00:22:33.427 --> 00:22:36.343\nno memory can be reclaimed\nfrom other virtual machines.\n\n439\n00:22:36.343 --> 00:22:40.702\nIf I was rebooting this machine and\nthen it dropped down to a gig.\n\n440\n00:22:40.702 --> 00:22:43.922\nAnd when I rebooted it,\nit needs to jump back up to two gigs.\n\n441\n00:22:43.922 --> 00:22:47.302\nIf another virtual machine\nhas dynamic memory enabled.\n\n442\n00:22:47.302 --> 00:22:50.535\nAnd it's not using all of\nthe memory that it's been assigned,\n\n443\n00:22:50.535 --> 00:22:53.647\nHyper-V can reduce its RAM and\nthen give it to that machine.\n\n444\n00:22:53.647 --> 00:22:56.310\nAnd then there's no need to\ndo the smart paging, right?\n\n445\n00:22:56.310 --> 00:22:58.105\nSmart paging is a last resort.\n\n446\n00:22:58.105 --> 00:22:59.413\nIt's the slowest thing we can do.\n\n447\n00:22:59.413 --> 00:23:03.940\nWe're now treating hard drive like RAM and\nwe know that's a lot slower.\n\n448\n00:23:03.940 --> 00:23:06.812\nSo it's only used in those situations.\n\n449\n00:23:06.812 --> 00:23:11.083\nWhen you're rebooting a machine,\nthere's no physical RAM available, and\n\n450\n00:23:11.083 --> 00:23:16.023\nthere's no way to reclaim dynamic RAM from\nany other running virtual machines, right?\n\n451\n00:23:16.023 --> 00:23:19.011\nIt is not used when you\nstart a virtual machine.\n\n452\n00:23:19.011 --> 00:23:22.473\nNotice every time I've said it,\nI've said restart a virtual machine.\n\n453\n00:23:22.473 --> 00:23:27.336\nIf you're doing a cold boot, that's when\nit has to have all the RAM that we've\n\n454\n00:23:27.336 --> 00:23:29.853\nset for startup RAM or it does not start.\n\n455\n00:23:29.853 --> 00:23:32.502\nIt doesn't say, well,\nI'll use some of the hard drive.\n\n456\n00:23:32.502 --> 00:23:37.154\nSmart paging is only for the reboot\nprocess, not the startup process.\n\n457\n00:23:37.154 --> 00:23:40.609\nOver subscribing memory is an issue.\n\n458\n00:23:40.609 --> 00:23:45.141\nAnd if a virtual machine is failing over\non a Hyper-V cluster it doesn't user smart\n\n459\n00:23:45.141 --> 00:23:45.668\npaging.\n\n460\n00:23:45.668 --> 00:23:50.581\nIf you're failing it over and that machine\ndoes not have enough memory to move that\n\n461\n00:23:50.581 --> 00:23:53.157\nvirtual machine over, it won't move it.\n\n462\n00:23:53.157 --> 00:23:54.939\nThat process will fail.\n\n463\n00:23:54.939 --> 00:23:58.759\nSo smart paging, again,\nis only used during a reboot process,\n\n464\n00:23:58.759 --> 00:24:01.535\nand only under those\ncertain circumstances.\n\n465\n00:24:01.535 --> 00:24:03.097\nAll right,\nlast thing I want to talk about, Ronnie,\n\n466\n00:24:03.097 --> 00:24:04.190\nwith our virtual machine settings.\n\n467\n00:24:04.190 --> 00:24:05.367\nWell, we've got a lot more to go.\n\n468\n00:24:05.367 --> 00:24:07.610\nI know these are gonna\ntake a couple episodes.\n\n469\n00:24:07.610 --> 00:24:10.480\nBut there's one more thing that I want\nto try to squeeze into this one, and\n\n470\n00:24:10.480 --> 00:24:12.550\nthat is resource metering.\n\n471\n00:24:12.550 --> 00:24:14.436\nResource metering is a pretty cool option.\n\n472\n00:24:14.436 --> 00:24:19.090\nIt allows me to monitor my virtual\nmachine's resource consumption.\n\n473\n00:24:19.090 --> 00:24:22.227\nAnd we have tools that can do this, right?\n\n474\n00:24:22.227 --> 00:24:27.880\nI can see right here CPU usage,\nassigned memory, uptime, things like that.\n\n475\n00:24:27.880 --> 00:24:30.804\nWhere resource metering\ncomes in is really, If I'm,\n\n476\n00:24:30.804 --> 00:24:33.851\nlet's say I'm the guy that's\nrunning our data center or\n\n477\n00:24:33.851 --> 00:24:36.920\nwhat have you,\nin our virtualization infrastructure.\n\n478\n00:24:36.920 --> 00:24:39.884\nAnd we're a large company and\nwe charge back to different\n\n479\n00:24:39.884 --> 00:24:42.910\ndepartments band width that they use or\nCPU utilization,\n\n480\n00:24:42.910 --> 00:24:47.191\nright, to keep them from spinning up\nunnecessary machines and things like that.\n\n481\n00:24:47.191 --> 00:24:49.959\nI need to know,\nhow much did that virtual machine use?\n\n482\n00:24:49.959 --> 00:24:51.290\nHow much RAM did it use?\n\n483\n00:24:51.290 --> 00:24:53.840\nHow much networking did it use?\n\n484\n00:24:53.840 --> 00:24:59.480\nA lot of times with billing,\nlocal network is not billed.\n\n485\n00:24:59.480 --> 00:25:02.740\nOnly Internet access is billed\nfrom those virtual machines.\n\n486\n00:25:02.740 --> 00:25:05.722\nSo if you're service provider,\nyou're working with a service provider or\n\n487\n00:25:05.722 --> 00:25:07.910\nyou're a large organization\nwhere you bill,\n\n488\n00:25:07.910 --> 00:25:12.120\nyour IT department bills the different\ndepartments, this is really a cool tool.\n\n489\n00:25:12.120 --> 00:25:14.225\nSo let's take a look at how\nwe can get that set up.\n\n490\n00:25:14.225 --> 00:25:17.539\nI am gonna need an administrative\nPowerShell, so let's launch that again.\n\n491\n00:25:21.175 --> 00:25:25.490\nRight, and we are going to take a look.\n\n492\n00:25:25.490 --> 00:25:29.599\nLet's do get-command and\n\n493\n00:25:29.599 --> 00:25:37.879\nI'll do vmresourcemetering,\nA couple of asterisks wrapped around it,\n\n494\n00:25:37.879 --> 00:25:39.946\nand we'll see there's a whopping\nthree commands there.\n\n495\n00:25:39.946 --> 00:25:44.537\nDisable-vmresourcemetering,\nEnable-vmresourcemetering,\n\n496\n00:25:44.537 --> 00:25:46.714\nReset-vmresourcemetering.\n\n497\n00:25:46.714 --> 00:25:48.960\nReally all we need [LAUGH] all right?\n\n498\n00:25:48.960 --> 00:25:50.725\nSo let's do enable.\n\n499\n00:25:50.725 --> 00:25:54.820\nWe're gonna do Enable-vmresourcemetering.\n\n500\n00:25:54.820 --> 00:25:57.270\nThis is done on a per machine basis.\n\n501\n00:25:57.270 --> 00:26:01.245\nSo we do need a VM name,\nand I'm gonna say client01.\n\n502\n00:26:01.245 --> 00:26:08.726\nAll right, we're also going to, let's say,\nactually that's all I need for that.\n\n503\n00:26:08.726 --> 00:26:12.000\nSo I'll go ahead and hit that Enter and\nthat will turn it on.\n\n504\n00:26:12.000 --> 00:26:16.610\nSo that enables the vm resource\nmetering on that one particular client.\n\n505\n00:26:16.610 --> 00:26:18.962\nNot the other one in this case, right,\n\n506\n00:26:18.962 --> 00:26:21.827\nso you have to do it on\neach individual machine.\n\n507\n00:26:21.827 --> 00:26:28.116\nLet's see you could do a get-vm client,\nwhat is it, 01.\n\n508\n00:26:28.116 --> 00:26:35.454\nAnd let's say we wanted to do\na format table with the name and,\n\n509\n00:26:35.454 --> 00:26:40.396\nwhat is it, resource metering enabled,\n\n510\n00:26:40.396 --> 00:26:47.140\nspell that right, Vm resource metering.\n\n511\n00:26:54.061 --> 00:26:55.907\nHopefully, I spelled that right.\n\n512\n00:26:55.907 --> 00:26:59.916\nAnd that is not, I think it's without\nthe vmresourcemetering enabled.\n\n513\n00:27:04.078 --> 00:27:04.650\nAnd I spelled that wrong too.\n\n514\n00:27:07.700 --> 00:27:08.640\nThere we go.\n\n515\n00:27:08.640 --> 00:27:12.755\nOnce you spell it right, it's amazing how\nPowerShell works the way you want it to.\n\n516\n00:27:12.755 --> 00:27:17.546\nSo what I did was, I did a get vm,\nname of the virtual machine, shortcut for\n\n517\n00:27:17.546 --> 00:27:21.460\nformat table, right,\nformat-table ft is the alias.\n\n518\n00:27:21.460 --> 00:27:22.911\nAnd I said return the name and\n\n519\n00:27:22.911 --> 00:27:27.470\nthen I spelled it right on this one,\nresource metering enabled.\n\n520\n00:27:27.470 --> 00:27:29.120\nAnd I can see that that's true.\n\n521\n00:27:29.120 --> 00:27:32.688\nSo you could do a wild card here if you\nneeded to get a list of all your vms.\n\n522\n00:27:32.688 --> 00:27:35.382\nSee which ones this was turned on or\nturned off for,\n\n523\n00:27:35.382 --> 00:27:37.330\nthat is what you would use.\n\n524\n00:27:37.330 --> 00:27:42.410\nNow once that's enabled,\nwe need to, it's now turned on but\n\n525\n00:27:42.410 --> 00:27:47.730\nwe trigger it by running a measure-vm.\n\n526\n00:27:47.730 --> 00:27:52.880\nSo if I type in measure-vm, and then my vm\n\n527\n00:27:52.880 --> 00:27:58.400\nname is client01,\nit's gonna return some information.\n\n528\n00:27:58.400 --> 00:28:01.630\nI can see the average CPU in MHz,\naverage RAM,\n\n529\n00:28:01.630 --> 00:28:04.110\nand this is what the machine is using.\n\n530\n00:28:04.110 --> 00:28:07.250\nEver since we turned it on,\nthis is what it's doing.\n\n531\n00:28:07.250 --> 00:28:08.494\nIt's keeping track of that.\n\n532\n00:28:08.494 --> 00:28:10.160\nIt's like performance monitor, right?\n\n533\n00:28:10.160 --> 00:28:12.430\nSo as soon as we enabled\non this virtual machine,\n\n534\n00:28:12.430 --> 00:28:14.340\nit started recording this information.\n\n535\n00:28:14.340 --> 00:28:17.570\nEvery time I type in measurevm,\nit's just going and\n\n536\n00:28:17.570 --> 00:28:20.360\ngrabbing the current values for that.\n\n537\n00:28:20.360 --> 00:28:23.645\nIf I run it again, right,\nI don't know if anything's changed,\n\n538\n00:28:23.645 --> 00:28:26.060\ncuz I'm not really using\nthat virtual machine, but\n\n539\n00:28:26.060 --> 00:28:32.340\nwe would start to see these numbers go up,\nright, over time as the machine was used.\n\n540\n00:28:32.340 --> 00:28:35.820\nNow this shows you some, but\nthere's actually a lot more to it.\n\n541\n00:28:35.820 --> 00:28:42.281\nIf we store this in a variable,\nlet's do that same command actually.\n\n542\n00:28:42.281 --> 00:28:46.020\nI'm just gonna pull that\nsame command back, and\n\n543\n00:28:46.020 --> 00:28:50.260\nI'm gonna add a $report\nto the front of it.\n\n544\n00:28:50.260 --> 00:28:54.740\nSo now I'm running that command, but I'm\nstoring it in this variable called report,\n\n545\n00:28:56.100 --> 00:29:01.250\nand now if I call back $report,\nI'll see that same information.\n\n546\n00:29:01.250 --> 00:29:06.253\nBut if I pipe this out into a list,\nif we do format-list,\n\n547\n00:29:06.253 --> 00:29:13.264\nwe'll see there's actually a lot more\ninformation available in this report.\n\n548\n00:29:13.264 --> 00:29:16.878\nAnd we can start getting some detailed\ninformation like let's take a look at\n\n549\n00:29:16.878 --> 00:29:21.390\nmaybe hard disk metrics, which I can\nsee right here doesn't show me a value.\n\n550\n00:29:21.390 --> 00:29:29.940\nSo I could do $report.harddiskmetrics and\n\n551\n00:29:29.940 --> 00:29:33.630\nthere I can see I get more\ninformation back about those drives.\n\n552\n00:29:34.740 --> 00:29:37.920\nSo great way to monitor resource\nutilization of virtual machine.\n\n553\n00:29:37.920 --> 00:29:42.230\nI need to show you one more that's\na very possible as a good test question,\n\n554\n00:29:42.230 --> 00:29:44.220\nis network metering.\n\n555\n00:29:44.220 --> 00:29:49.090\nIn my report, I can see right here,\nNetworkMeteredTrafficReport,\n\n556\n00:29:49.090 --> 00:29:50.710\nlike a report within a report.\n\n557\n00:29:50.710 --> 00:29:54.484\nGonna pull that back using\nthe same technique here,\n\n558\n00:29:54.484 --> 00:30:00.100\nNetworkMeteredTrafficReport.\n\n559\n00:30:00.100 --> 00:30:04.110\nAnd what you'll see is I've\ngot inbound and outbound and\n\n560\n00:30:04.110 --> 00:30:06.680\nkind of these default remote addresses.\n\n561\n00:30:06.680 --> 00:30:11.200\nThese are what's called network metering\naccess control list are applied to\n\n562\n00:30:11.200 --> 00:30:12.930\nthe virtual machine.\n\n563\n00:30:12.930 --> 00:30:17.369\nAnd this is gonna monitor outbound\ntraffic to anything, IPv4,\n\n564\n00:30:17.369 --> 00:30:22.080\noutbound traffic going anywhere,\nIPv6, so these are defaults.\n\n565\n00:30:22.080 --> 00:30:24.340\nThese are basically wild\ncard access control lists.\n\n566\n00:30:24.340 --> 00:30:30.984\nAnd, Ronnie,\nwe can add our own access control lists.\n\n567\n00:30:30.984 --> 00:30:37.424\nWe can do add-networkmetered and\nagain you gotta spell it right,\n\n568\n00:30:37.424 --> 00:30:43.060\nvm, thank you,\nvm networkmeteredaccesscontrol list.\n\n569\n00:30:43.060 --> 00:30:46.570\nSo there we go,\nnetwork adapter access control list.\n\n570\n00:30:46.570 --> 00:30:50.570\nNow with this one,\na few switches that I'm going to need.\n\n571\n00:30:50.570 --> 00:30:59.173\nI need my vm name, And\nthat's going to be client01.\n\n572\n00:30:59.173 --> 00:31:02.430\nSo I'm adding the access\ncontrol list to that.\n\n573\n00:31:02.430 --> 00:31:03.728\nThere's only one network adapter.\n\n574\n00:31:03.728 --> 00:31:06.120\nIf there was more than\none then I could specify.\n\n575\n00:31:06.120 --> 00:31:09.750\nOther things that are required\nare going to be direction, right?\n\n576\n00:31:09.750 --> 00:31:14.000\nYou can do inbound, outbound, or both.\n\n577\n00:31:14.000 --> 00:31:17.730\nLet's say I wanna do outbound\non this particular example.\n\n578\n00:31:17.730 --> 00:31:22.240\nAnd then you also need\na remote IP address.\n\n579\n00:31:22.240 --> 00:31:28.361\nAnd so let say I needed to monitor\ntraffic going to a particular subnet,\n\n580\n00:31:28.361 --> 00:31:35.422\n10.10, check your number lock,\n10.10.8.0/24, all right?\n\n581\n00:31:35.422 --> 00:31:36.318\n&gt;&gt; Uh-huh.\n\n582\n00:31:36.318 --> 00:31:40.390\nNow Mike, before we go on with that, cuz\nit looks like you're setting it up, but\n\n583\n00:31:40.390 --> 00:31:44.400\nbecause this is an access control list,\nright, we need either inbound, outbound,\n\n584\n00:31:44.400 --> 00:31:47.310\nor maybe, perhaps,\nmeter on this as well, right?\n\n585\n00:31:47.310 --> 00:31:48.513\n&gt;&gt; We absolutely do, right?\n\n586\n00:31:48.513 --> 00:31:51.757\nWe gotta tell it what\nthe action is going to be, and\n\n587\n00:31:51.757 --> 00:31:54.555\nmeter is the one that we're gonna choose.\n\n588\n00:31:54.555 --> 00:31:57.976\nBut you bring up a great point, Ronnie,\neven though not really part of this,\n\n589\n00:31:57.976 --> 00:31:59.937\nwe should point this out while we're here.\n\n590\n00:31:59.937 --> 00:32:01.539\nAllow and deny.\n\n591\n00:32:01.539 --> 00:32:06.372\nSo the VM network adapter access\ncontrol is used within this resource\n\n592\n00:32:06.372 --> 00:32:10.510\nmetering process, but\nit can be used for other things.\n\n593\n00:32:10.510 --> 00:32:14.510\nI can use it to set up an access control\nlist to block traffic from certain\n\n594\n00:32:14.510 --> 00:32:18.800\nsubnets, not allow access to certain\nsubnets, so it's a great point.\n\n595\n00:32:18.800 --> 00:32:21.470\nIn our case, we want to put Meter and\nwe'll hit enter.\n\n596\n00:32:21.470 --> 00:32:24.421\nAnd now if we run that again.\n\n597\n00:32:24.421 --> 00:32:28.810\nNow what I need to do is update my report.\n\n598\n00:32:28.810 --> 00:32:33.480\nI'm going to go back up here and remeasure\nthe VM and store it in that report again.\n\n599\n00:32:34.900 --> 00:32:40.500\nAnd now if I pull back\nthe report I can't spell today.\n\n600\n00:32:40.500 --> 00:32:42.950\nAll right,\nI don't see anything different there, but\n\n601\n00:32:42.950 --> 00:32:45.460\nif we pull back the networks\ntraffic report.\n\n602\n00:32:46.750 --> 00:32:50.700\nNotice my new option, or\nmy new access control list.\n\n603\n00:32:50.700 --> 00:32:55.500\nSo now if I need to bill them based\non how much traffic they're sending\n\n604\n00:32:55.500 --> 00:33:00.210\nto that ten ten eight subnet,\nI've got it right here, all right.\n\n605\n00:33:00.210 --> 00:33:04.740\nNow, what else do we need to\ndo to this resource metering?\n\n606\n00:33:04.740 --> 00:33:07.780\nWe need to reset it, all right.\n\n607\n00:33:09.680 --> 00:33:11.750\nLet's say we're billing\non a monthly cycle,\n\n608\n00:33:11.750 --> 00:33:15.420\nthis thing is gonna keep on trucking and\nkeep tracking and keep totaling up.\n\n609\n00:33:15.420 --> 00:33:17.790\nSo what you would do is,\n\n610\n00:33:17.790 --> 00:33:21.040\nat the end of the month,\nis you run these measure VM commands.\n\n611\n00:33:21.040 --> 00:33:23.846\nAnd you snapshot, or you grab,\nthat information, and\n\n612\n00:33:23.846 --> 00:33:25.829\nthat's what you base your billing on.\n\n613\n00:33:25.829 --> 00:33:30.012\nBut then you also need to reset that,\nand that's where,\n\n614\n00:33:30.012 --> 00:33:33.160\nif you remember the commands we looked at.\n\n615\n00:33:36.650 --> 00:33:37.439\nOkay.\n\n616\n00:33:37.439 --> 00:33:39.740\nReset VM resource metering.\n\n617\n00:33:39.740 --> 00:33:43.250\nUnfortunately all of ours are still zero\nbecause that machine is not doing a whole\n\n618\n00:33:43.250 --> 00:33:49.460\nlot but\nthat reset dash VM resource metering\n\n619\n00:33:49.460 --> 00:33:57.010\ndash VM name client one and that would\nset all the counters back to zero.\n\n620\n00:33:57.010 --> 00:34:00.790\nSo that I can start my billing cycle over\nand billing for this particular month, or\n\n621\n00:34:00.790 --> 00:34:04.070\nthis particular week or quarter or\nwhatever that you're doing.\n\n622\n00:34:04.070 --> 00:34:07.258\nBut you had to reset those numbers\notherwise they just keeps totaling up and\n\n623\n00:34:07.258 --> 00:34:08.471\nthe next time you bill them,\n\n624\n00:34:08.471 --> 00:34:11.116\nyou're billing them for\ntwo periods instead of one or three.\n\n625\n00:34:11.116 --> 00:34:12.990\nSo make sure you reset those.\n\n626\n00:34:12.990 --> 00:34:16.790\nGreat option to have a script to do\nthis actually probably the way to do it.\n\n627\n00:34:17.900 --> 00:34:20.780\n&gt;&gt; All right Mike, well thank you for\nhelping us to understand a little bit\n\n628\n00:34:20.780 --> 00:34:24.982\nmore about of course these different\nsettings that we find inside of Hyper-V to\n\n629\n00:34:24.982 --> 00:34:29.010\nhelp us to control our VMs a little\nbit better, as well as to monitor and\n\n630\n00:34:29.010 --> 00:34:33.890\nmeasure the different ways that we're\nactually accessing this VM as well.\n\n631\n00:34:33.890 --> 00:34:35.960\nSo with that in mind, right?\n\n632\n00:34:35.960 --> 00:34:40.610\nThere's plenty of more to go, of course,\nfor Exam 70-740, but that is for\n\n633\n00:34:40.610 --> 00:34:41.850\nanother day.\n\n634\n00:34:41.850 --> 00:34:45.880\nSo signing off for ITProTV,\nI'm your host Ronnie Wong.\n\n635\n00:34:45.880 --> 00:34:46.990\n&gt;&gt; And I'm Mike Rodrick.\n\n636\n00:34:46.990 --> 00:34:52.040\n&gt;&gt; Stay tuned right here for\nmore of the 70-740 Exam show.\n\n637\n00:34:52.040 --> 00:34:58.193\n[MUSIC]\n\n638\n00:34:58.193 --> 00:35:01.315\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "245438241"
        },
        {
          "description": "In this episode, Daniel and Mike continue working their way through Virtual Machine configurations. Here they pick up by examining Integration Services and then looking at the difference between using Gen1 and Gen2 VMs. Also covered is Enhanced Session Mode, Linux/FreeBSD VMs and their associated Integration Services, exporting/importing VMs, and finally implementation of Discrete Device Assignment(DDA).",
          "length": "1719",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-2-2-configure_virtual_machine_settings_pt2-110916-PGM.00_28_26_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-2-2-configure_virtual_machine_settings_pt2-110916-PGM.00_28_26_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-2-2-configure_virtual_machine_settings_pt2-110916-PGM.00_28_26_04.Still001-sm.jpg",
          "title": "Configure Virtual Machine Settings Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:03.895\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.895 --> 00:00:06.668\n[CROSSTALK]\n\n3\n00:00:06.668 --> 00:00:08.315\n[MUSIC]\n\n4\n00:00:08.315 --> 00:00:12.181\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:12.181 --> 00:00:14.106\n&gt;&gt; All right, greetings everyone, and\n\n6\n00:00:14.106 --> 00:00:17.040\nwelcome to another great\nepisode of ITProTV.\n\n7\n00:00:17.040 --> 00:00:19.000\nI'm your host Daniel Lowrie,\nand in today's episode,\n\n8\n00:00:19.000 --> 00:00:23.390\nwe are moving on with now,\nour install, installation, storage and\n\n9\n00:00:23.390 --> 00:00:26.220\ncompute series for Windows Server 2016.\n\n10\n00:00:26.220 --> 00:00:29.550\nJoining us in the studio to lend\nhis expertise on that very topic,\n\n11\n00:00:29.550 --> 00:00:31.110\nour good friend Mr. Mike Rodrick.\n\n12\n00:00:31.110 --> 00:00:32.310\nMikey, how's it going today?\n\n13\n00:00:32.310 --> 00:00:33.700\n&gt;&gt; [LAUGH] It's going great Daniel.\n\n14\n00:00:33.700 --> 00:00:36.400\nThanks for having me back and\nwe are continuing on.\n\n15\n00:00:36.400 --> 00:00:38.980\nWe're looking at our\nvirtual machine settings.\n\n16\n00:00:38.980 --> 00:00:39.710\nSo this is part two.\n\n17\n00:00:39.710 --> 00:00:42.620\nMake sure you go back and watch part one.\n\n18\n00:00:42.620 --> 00:00:45.520\nToday we're gonna kick it off\nwith Integration Services, right?\n\n19\n00:00:45.520 --> 00:00:50.310\nIntegration Services are really something\nthat allows the virtual machine\n\n20\n00:00:50.310 --> 00:00:52.010\nto communicate with the host.\n\n21\n00:00:52.010 --> 00:00:54.420\nIt kind of starts tying them together.\n\n22\n00:00:54.420 --> 00:00:56.930\nI think I mentioned it the other\nday in one of our episodes.\n\n23\n00:00:56.930 --> 00:01:00.860\nWe were talking about how the integration\nservices allows me to do a graceful\n\n24\n00:01:00.860 --> 00:01:04.150\nshutdown of the operating system for\nexample.\n\n25\n00:01:04.150 --> 00:01:07.140\nThere are several integration services\nthat we're gonna take a look at.\n\n26\n00:01:07.140 --> 00:01:10.340\nWe're just gonna look at the options\nwhere we gonna configure them.\n\n27\n00:01:10.340 --> 00:01:14.270\nWe also need to talk about Linux\na little bit because Hyper-V\n\n28\n00:01:14.270 --> 00:01:17.360\nsupport creating Linux virtual\nmachines running legs.\n\n29\n00:01:17.360 --> 00:01:18.000\nVirtual machines and\n\n30\n00:01:18.000 --> 00:01:21.270\nwe need to look at the way Integration\nServices are handled there as well.\n\n31\n00:01:21.270 --> 00:01:23.051\n&gt;&gt; I'm sorry Mike,\nI thought you said Linux.\n\n32\n00:01:23.051 --> 00:01:25.002\n&gt;&gt; [LAUGH]\n&gt;&gt; This is a Windows server show, right?\n\n33\n00:01:25.002 --> 00:01:25.747\n&gt;&gt; It is, right?\nI know.\n\n34\n00:01:25.747 --> 00:01:30.380\n[LAUGH] But Microsoft, you've seen it over\nthe last few years has really gone a long\n\n35\n00:01:30.380 --> 00:01:35.380\nways to kind of closing the gap, and\nnot being so, you run our stuff and\n\n36\n00:01:35.380 --> 00:01:38.840\nour stuff only, and if you don't run our\nstuff, well we're not gonna help you and\n\n37\n00:01:38.840 --> 00:01:39.690\nwe're not gonna support it.\n\n38\n00:01:39.690 --> 00:01:41.890\nWe're not even gonna make it possible.\n\n39\n00:01:41.890 --> 00:01:46.610\nNow it's- Hey, we understand, we know\nthat were not the only game in town.\n\n40\n00:01:46.610 --> 00:01:49.190\nWe have our strengths,\nother have their strengths.\n\n41\n00:01:49.190 --> 00:01:51.510\nWe know you're gonna be\nin a mixed environment.\n\n42\n00:01:51.510 --> 00:01:52.530\nLet's help you.\n\n43\n00:01:52.530 --> 00:01:55.020\nI mean, it's either that or\nI don't run Hyper-V, right?\n\n44\n00:01:55.020 --> 00:01:57.030\nI mean, I think they get smart and\nthey say, look,\n\n45\n00:01:57.030 --> 00:01:59.540\nwe really want people to run Server,\nHyper-V.\n\n46\n00:01:59.540 --> 00:02:00.680\nSo we better support Linux.\n\n47\n00:02:00.680 --> 00:02:03.370\n&gt;&gt; Well, Mike, if they're trying\nto endear themselves to me,\n\n48\n00:02:03.370 --> 00:02:04.375\nthen they're doing a great job.\n\n49\n00:02:04.375 --> 00:02:07.380\n[LAUGH] Keep up the good work, Microsoft.\n\n50\n00:02:07.380 --> 00:02:11.250\n&gt;&gt; All right, so let's take a look\nat the Integration Services and\n\n51\n00:02:11.250 --> 00:02:12.570\nwhat we can do with those.\n\n52\n00:02:12.570 --> 00:02:16.230\nSo we pull up my screen here,\nwhat I'm gonna do, is take a look,\n\n53\n00:02:16.230 --> 00:02:21.320\nI've got my Hyper-V Server set up, the one\nthat we've been using this whole time.\n\n54\n00:02:21.320 --> 00:02:25.020\nAnd, let's see where I wanna go,\nnot there Mike, silly me.\n\n55\n00:02:25.020 --> 00:02:28.660\nWanna take a look at managing\nthe Integration Services\n\n56\n00:02:28.660 --> 00:02:29.930\na couple of different ways.\n\n57\n00:02:29.930 --> 00:02:32.270\nSo I'm gonna take one of my machines here.\n\n58\n00:02:32.270 --> 00:02:33.350\nWe'll start with node one.\n\n59\n00:02:33.350 --> 00:02:34.240\nIt's a Windows Server.\n\n60\n00:02:34.240 --> 00:02:37.600\nAnd I'm going to pull up the settings for\nthat virtual machine.\n\n61\n00:02:37.600 --> 00:02:42.310\nAnd underneath the settings we scroll\ndown, we see Integration Services offered.\n\n62\n00:02:43.600 --> 00:02:46.320\nIt says some services offered.\n\n63\n00:02:46.320 --> 00:02:49.470\nAnd that's because one of\nthem is not selected right?\n\n64\n00:02:49.470 --> 00:02:52.270\nThese are the different\nIntegration Services we have available.\n\n65\n00:02:52.270 --> 00:02:55.250\nOperating system shut down was\nthe one I mentioned the other day\n\n66\n00:02:55.250 --> 00:02:56.780\nin the other episodes.\n\n67\n00:02:56.780 --> 00:03:00.420\nTime synchronization could be very\nimportant especially like in a domain\n\n68\n00:03:00.420 --> 00:03:01.690\nenvironment.\n\n69\n00:03:01.690 --> 00:03:03.660\nThis is one that you have\nto be careful with though.\n\n70\n00:03:03.660 --> 00:03:04.560\nI'll just throw this out.\n\n71\n00:03:04.560 --> 00:03:06.500\nIt's not really part of this exam or\nanything but\n\n72\n00:03:06.500 --> 00:03:08.570\nit is something you want\nto pay attention to.\n\n73\n00:03:08.570 --> 00:03:11.550\nWhen you're virtualizing\nthe main controls and\n\n74\n00:03:11.550 --> 00:03:14.840\nthe things like that, we do have to\nworry about that time synchronization.\n\n75\n00:03:14.840 --> 00:03:19.550\nIf the host is not a member of our domain,\nsometimes we actually wanna turn that off.\n\n76\n00:03:19.550 --> 00:03:22.440\nThat's another story, but\nthis is where you can go,\n\n77\n00:03:22.440 --> 00:03:25.830\nto do that if you need to disable\ntime synchronisation between,\n\n78\n00:03:25.830 --> 00:03:28.700\ncuz what this is doing is\nsinking time the VM's.\n\n79\n00:03:28.700 --> 00:03:30.160\nWith the host machine.\n\n80\n00:03:30.160 --> 00:03:33.350\nWith the VM the domain member,\nI really want it syncing its time\n\n81\n00:03:33.350 --> 00:03:36.340\nwith my domain controllers\nnot necessarily the host.\n\n82\n00:03:36.340 --> 00:03:40.870\nBecause the host might be a provided\nservice or a cloud provider.\n\n83\n00:03:40.870 --> 00:03:43.090\nWho knows what their time is\nsynced to right so anyway,\n\n84\n00:03:43.090 --> 00:03:45.070\nthis is where you're gonna turn that off.\n\n85\n00:03:45.070 --> 00:03:48.030\nData exchange, data flowing back and\nforth between the VM and the host.\n\n86\n00:03:48.030 --> 00:03:48.930\nThe heart beat.\n\n87\n00:03:48.930 --> 00:03:52.830\nThis is how we get those\nhandy dandy status messages.\n\n88\n00:03:52.830 --> 00:03:54.340\nI'll cancel this out for just a second.\n\n89\n00:03:54.340 --> 00:03:55.890\nAnd we can see here.\n\n90\n00:03:55.890 --> 00:03:56.410\nHeartbeat OK.\n\n91\n00:03:56.410 --> 00:04:00.000\nApplications are healthy telling\nme that the VM is up, running,\n\n92\n00:04:00.000 --> 00:04:01.600\nresponding, all that good stuff.\n\n93\n00:04:02.800 --> 00:04:05.130\nGet back to Integration Services.\n\n94\n00:04:05.130 --> 00:04:08.570\nWe've got back up using\nvolume shadow copy service.\n\n95\n00:04:08.570 --> 00:04:11.480\nThat's nice to be able to reach\ninto that virtual machine and\n\n96\n00:04:11.480 --> 00:04:13.930\ndo those backups from the host machine,\nright.\n\n97\n00:04:13.930 --> 00:04:15.870\nWe've seen that in another episode.\n\n98\n00:04:15.870 --> 00:04:18.850\nI saw where we could do a backup\nusing Windows Server Backup\n\n99\n00:04:18.850 --> 00:04:20.370\non the physical host machine.\n\n100\n00:04:20.370 --> 00:04:24.010\nAnd I was able to choose what\nI wanted to back up, and\n\n101\n00:04:24.010 --> 00:04:26.590\nI could see the VMs themselves and\nI could back them up.\n\n102\n00:04:26.590 --> 00:04:28.650\nThis is how it's gonna reach in there and\ngrab a snapshot,\n\n103\n00:04:28.650 --> 00:04:31.700\na point in time of the VM so\nwe can back that up.\n\n104\n00:04:31.700 --> 00:04:34.270\nAnd then Guest Services.\n\n105\n00:04:34.270 --> 00:04:39.270\nGuest Services, gosh I'm trying to\nremember exactly what Guest Services does.\n\n106\n00:04:39.270 --> 00:04:40.770\nYou can see it's not selected.\n\n107\n00:04:40.770 --> 00:04:44.660\nI'll show you a great little cheat\nsheet that I use when I'm looking at\n\n108\n00:04:44.660 --> 00:04:45.170\nthese services.\n\n109\n00:04:45.170 --> 00:04:46.620\nSo there's where I can go.\n\n110\n00:04:46.620 --> 00:04:47.560\nTurn them on and off.\n\n111\n00:04:47.560 --> 00:04:50.030\nNotice that's on a per machine basis.\n\n112\n00:04:50.030 --> 00:04:52.030\nAnd this is all on by default by the way.\n\n113\n00:04:52.030 --> 00:04:57.220\nWhen I created these Windows based virtual\nmachines this is all on by default.\n\n114\n00:04:57.220 --> 00:05:00.150\nUsed to be back in the day\nyou probably remember Daniel.\n\n115\n00:05:00.150 --> 00:05:02.840\nWe would build a virtual machine and\nI would have to then\n\n116\n00:05:02.840 --> 00:05:06.880\ninstall the Integration Services once\nI had built that virtual machine.\n\n117\n00:05:06.880 --> 00:05:12.640\nBecause the VM's of the 2003, 2008, these\nvirtual machines were not aware that they\n\n118\n00:05:12.640 --> 00:05:16.060\nwere virtual, so we had to install\nthose Integration Services.\n\n119\n00:05:16.060 --> 00:05:21.636\nNow that the Integration Services are\nincluded with our modern windows operating\n\n120\n00:05:21.636 --> 00:05:25.630\nsystem 2012, 2016, 2010 I want to say even\n2008 one but don't quite me on that one.\n\n121\n00:05:25.630 --> 00:05:26.740\nWe'll take a look.\n\n122\n00:05:26.740 --> 00:05:30.830\n&gt;&gt; Yeah it's nice to be able to like copy\nand paste between your actual machine and\n\n123\n00:05:30.830 --> 00:05:36.260\nyour virtual machine, or let the mouse\nhover on over as soon as it gets over it,\n\n124\n00:05:36.260 --> 00:05:39.500\nI'm in the virtual machine, I move away,\nI'm out of the virtual machine.\n\n125\n00:05:39.500 --> 00:05:44.090\nJust setting resolutions, things of that\nnature, it was a bear because you had to\n\n126\n00:05:44.090 --> 00:05:48.160\ngo, if you didn't do the guest services\nforget it those integration servers had to\n\n127\n00:05:48.160 --> 00:05:51.090\nbe there or it just it wasn't\na great a experience [LAUGH].\n\n128\n00:05:51.090 --> 00:05:55.210\n&gt;&gt; It wasn't and that was you mentioned\none of my most hated ones was you click\n\n129\n00:05:55.210 --> 00:05:59.614\nin that virtual machine and now your\nmouse is captured by the virtual machine.\n\n130\n00:05:59.614 --> 00:06:02.894\nAnd you go to move it out and it bumps up\nagainst the side of the virtual machine\n\n131\n00:06:02.894 --> 00:06:06.127\nright it can't get out like glass walls\nare there and you had to do some crazy\n\n132\n00:06:06.127 --> 00:06:08.970\nkeyboard combination to\nrelease your mouse every time.\n\n133\n00:06:08.970 --> 00:06:10.660\nPain in the you know what.\n\n134\n00:06:10.660 --> 00:06:12.110\n&gt;&gt; It's the right control.\n\n135\n00:06:12.110 --> 00:06:13.902\nNot, what was I thinking.\n\n136\n00:06:13.902 --> 00:06:14.581\n&gt;&gt; [LAUGH]\n\n137\n00:06:14.581 --> 00:06:15.600\n&gt;&gt; [LAUGH]\n&gt;&gt; Crazy.\n\n138\n00:06:15.600 --> 00:06:17.535\n&gt;&gt; Can't just use any\nold control button Mike.\n\n139\n00:06:17.535 --> 00:06:19.740\n[LAUGH]\n&gt;&gt; No, no, it's got to be the right one.\n\n140\n00:06:19.740 --> 00:06:22.480\nThe correct one,\nnot necessarily the right one.\n\n141\n00:06:22.480 --> 00:06:23.183\n&gt;&gt; Exactly.\n[LAUGH]\n\n142\n00:06:23.183 --> 00:06:23.688\n&gt;&gt; [LAUGH]\n\n143\n00:06:23.688 --> 00:06:24.193\n&gt;&gt; Moving on.\n\n144\n00:06:24.193 --> 00:06:25.139\n&gt;&gt; Yes, all right.\n\n145\n00:06:25.139 --> 00:06:26.489\nSo that's Integration Services,\n\n146\n00:06:26.489 --> 00:06:28.930\nmanaging them from the VM host.\n\n147\n00:06:28.930 --> 00:06:30.740\nWe can manage them from the,\n\n148\n00:06:30.740 --> 00:06:34.190\nwell let me just see if I can\nremote into this guy real quick.\n\n149\n00:06:34.190 --> 00:06:35.900\nMake it a little bit easier for us to see.\n\n150\n00:06:35.900 --> 00:06:37.160\nWhich one do I fire up?\n\n151\n00:06:37.160 --> 00:06:38.320\nNode one?\n\n152\n00:06:38.320 --> 00:06:41.860\nSo we'll jump in here and\nyou can mange these from\n\n153\n00:06:41.860 --> 00:06:46.940\nthe guest operating system, but it's just\ngoing to be just like any other service.\n\n154\n00:06:46.940 --> 00:06:48.830\nWow that's an exciting screen there.\n\n155\n00:06:48.830 --> 00:06:49.800\n&gt;&gt; I like it.\n\n156\n00:06:49.800 --> 00:06:53.910\n&gt;&gt; We'll flip back over to something else,\njust to make sure, there it goes.\n\n157\n00:06:53.910 --> 00:06:56.704\nAll right, so\nlet me pop up a PowerShell window.\n\n158\n00:06:58.476 --> 00:07:01.048\nHe's mad cuz I just logged in and\nI'm already making him do things.\n\n159\n00:07:01.048 --> 00:07:05.775\n[INAUDIBLE] you on weight,\nwhat, wait not Siri, oops.\n\n160\n00:07:05.775 --> 00:07:09.330\n[LAUGH]\nJust teasing.\n\n161\n00:07:09.330 --> 00:07:10.862\n&gt;&gt; Mike's giving us cease and\ndesist right now.\n\n162\n00:07:10.862 --> 00:07:15.720\n&gt;&gt; [LAUGH] All right, hopefully\nwe'll get some PowerShell open up.\n\n163\n00:07:15.720 --> 00:07:16.760\nThere we go.\n\n164\n00:07:16.760 --> 00:07:21.550\nI can do a get dash, and I start typing\nit before the darn thing even loads up.\n\n165\n00:07:21.550 --> 00:07:23.400\nIt's smart enough to know.\n\n166\n00:07:23.400 --> 00:07:24.380\nGet-service.\n\n167\n00:07:26.510 --> 00:07:31.145\nJust thinking about it,\nand we could do just\n\n168\n00:07:31.145 --> 00:07:36.426\na little -name, vm*,\nor something like that.\n\n169\n00:07:36.426 --> 00:07:39.270\nIt should show me all the different,\nthere we go,\n\n170\n00:07:39.270 --> 00:07:44.730\nall the different services that are either\nrunning or stopped and their status.\n\n171\n00:07:44.730 --> 00:07:47.180\nSo I did a get service dash name VM.\n\n172\n00:07:47.180 --> 00:07:49.640\nSo it's got all the different\nvirtual machine services.\n\n173\n00:07:49.640 --> 00:07:51.510\nAnd there you can see,\nguest integration is stopped.\n\n174\n00:07:51.510 --> 00:07:53.835\nRemember that check mark was unchecked.\n\n175\n00:07:53.835 --> 00:07:58.123\nBut the rest of them were checked,\nso I've got my heartbeat,\n\n176\n00:07:58.123 --> 00:08:01.679\nmy exchange, Remote desktop,\nvirtualization.\n\n177\n00:08:01.679 --> 00:08:06.040\nThe guest shutdown service,\ntimesync, all of that good stuff.\n\n178\n00:08:06.040 --> 00:08:09.696\nPowerShell direct is not\nturned on on that one.\n\n179\n00:08:09.696 --> 00:08:11.771\n[COUGH] Excuse me.\n\n180\n00:08:11.771 --> 00:08:14.670\nSo, we can do this,\njust like any other service,\n\n181\n00:08:14.670 --> 00:08:18.270\nI could do it through\nthe graphical user interface here.\n\n182\n00:08:18.270 --> 00:08:24.590\nWe could do a start-service, or\na stop-service, or a restart-service.\n\n183\n00:08:24.590 --> 00:08:25.100\nRight?\n\n184\n00:08:25.100 --> 00:08:28.890\nSo we can manage these from the host,\nusing the properties of the VM,\n\n185\n00:08:28.890 --> 00:08:30.750\nand our little check marks.\n\n186\n00:08:30.750 --> 00:08:33.980\nOr we can go into the virtual machine\nitself, manage it like a normal service,\n\n187\n00:08:33.980 --> 00:08:38.060\nstop and start and\nrestart these guest integration services.\n\n188\n00:08:39.130 --> 00:08:42.700\nNow with Linux,\nit's gonna be a little bit different.\n\n189\n00:08:42.700 --> 00:08:45.990\nSo let me just over to my host again, and\n\n190\n00:08:45.990 --> 00:08:49.490\nI will take a peak at a couple Linex\nVirtual Machines that I have running.\n\n191\n00:08:51.710 --> 00:08:55.440\nHere's my little CentOS guy,\nwe'll pull up the settings for here.\n\n192\n00:08:56.700 --> 00:09:01.700\nAnd, if we go to integration services,\nwe'll see we've got most of them.\n\n193\n00:09:01.700 --> 00:09:04.520\nOperating system shutdown,\ntimesync data exchange,\n\n194\n00:09:04.520 --> 00:09:09.090\nheartbeat, volume shadow copy service,\nguest services as well.\n\n195\n00:09:09.090 --> 00:09:10.860\nAnd I can manage them the same way.\n\n196\n00:09:10.860 --> 00:09:14.500\nI'm in here and I can check or\nuncheck these check marks, all right?\n\n197\n00:09:14.500 --> 00:09:19.550\nNow the thing with Linux, we can also\nmanage it through the Linux interface.\n\n198\n00:09:20.880 --> 00:09:26.004\nI am not the Linux guru Daniel is,\n\n199\n00:09:26.004 --> 00:09:28.945\nso I might have some questions for\nhim once I get in here.\n\n200\n00:09:28.945 --> 00:09:31.500\n&gt;&gt; [LAUGH]\n&gt;&gt; Hey, how do I type in here?\n\n201\n00:09:31.500 --> 00:09:33.540\n&gt;&gt; You used the keyboard Mike.\n\n202\n00:09:33.540 --> 00:09:35.840\n&gt;&gt; All right,\nlet me just do a couple of commands.\n\n203\n00:09:35.840 --> 00:09:41.313\nLS mod, and I could just pipe that out\n\n204\n00:09:41.313 --> 00:09:48.040\ninto a grip looking for\nHV underscore utils.\n\n205\n00:09:48.040 --> 00:09:50.330\nAnd I'll see I've got a few\nof them listed there.\n\n206\n00:09:50.330 --> 00:09:56.730\nHV balloon, hyper v keyboard, hvnet\nservice HID, Hyper-V and a few others.\n\n207\n00:09:56.730 --> 00:10:00.950\nI won't read them all to you but\nthose are all the things that are going,\n\n208\n00:10:00.950 --> 00:10:05.650\nI'll zoom in here, over the HVE,\nthe VM bus, the virtual machine bus.\n\n209\n00:10:05.650 --> 00:10:07.880\nThe network that's used to\ncommunicate with those.\n\n210\n00:10:07.880 --> 00:10:11.240\nSo we can see those there, and\nyou can stop and start these services.\n\n211\n00:10:11.240 --> 00:10:15.210\nJust like you could in Windows\nusing the Linux operating system\n\n212\n00:10:15.210 --> 00:10:16.650\nlike in any other service.\n\n213\n00:10:16.650 --> 00:10:19.340\nSo whatever your commands\nare in Linux to start or\n\n214\n00:10:19.340 --> 00:10:21.780\nstop a Daemon I guess we should call it.\n\n215\n00:10:21.780 --> 00:10:22.430\nDaemon, Demon?\n\n216\n00:10:22.430 --> 00:10:23.880\n&gt;&gt; Demon, either is acceptable.\n\n217\n00:10:23.880 --> 00:10:24.620\n&gt;&gt; Either's acceptable?\n\n218\n00:10:24.620 --> 00:10:25.760\n&gt;&gt; Yeah.\n&gt;&gt; I'll say Daemon,\n\n219\n00:10:25.760 --> 00:10:26.890\nit sounds better to me.\n\n220\n00:10:26.890 --> 00:10:30.010\nSo you can manage this\njust like any other Daemon\n\n221\n00:10:30.010 --> 00:10:32.155\nthat you're running in\nLinux Mike's a Ferengi.\n\n222\n00:10:32.155 --> 00:10:34.280\n&gt;&gt; [LAUGH]\n&gt;&gt; That's what they're called, Daemons.\n\n223\n00:10:34.280 --> 00:10:34.890\n&gt;&gt; Are they?\n&gt;&gt; Yeah.\n\n224\n00:10:34.890 --> 00:10:37.930\n&gt;&gt; Yeah, nice [LAUGH] all right.\n\n225\n00:10:37.930 --> 00:10:44.260\nThe trick though, with Linux, is, does the\nversion support the Integration Services?\n\n226\n00:10:44.260 --> 00:10:46.240\nThat's gonna be your key here.\n\n227\n00:10:46.240 --> 00:10:50.360\nAnd rather than write up a list,\nI've actually got a cheat sheet for\n\n228\n00:10:50.360 --> 00:10:51.330\nus from Microsoft.\n\n229\n00:10:51.330 --> 00:10:53.620\nI'll show this link into\nthe show notes for you,\n\n230\n00:10:53.620 --> 00:10:55.400\nin case you want to go through and look.\n\n231\n00:10:55.400 --> 00:10:59.770\nIt's not like on the exam, they're\ngonna test which one supports which.\n\n232\n00:10:59.770 --> 00:11:02.720\nIt's more about understanding the fact\nthat the Integration Services\n\n233\n00:11:02.720 --> 00:11:04.220\nare available for Linux.\n\n234\n00:11:04.220 --> 00:11:11.660\nA lot of the distros now include\nthe Linux Integration Services.\n\n235\n00:11:11.660 --> 00:11:13.630\nIn their distribution.\n\n236\n00:11:13.630 --> 00:11:14.220\nAll right?\n\n237\n00:11:14.220 --> 00:11:17.840\nSo and you can check for your updates,\ngoing through your repositories.\n\n238\n00:11:17.840 --> 00:11:20.450\nJust like you would update any\nother application in Linux,\n\n239\n00:11:20.450 --> 00:11:23.550\nyou can check to see if there's\nintegration service updates for you.\n\n240\n00:11:23.550 --> 00:11:24.660\nSo I'll give you a link to this page.\n\n241\n00:11:24.660 --> 00:11:26.840\nThis is like the main page.\n\n242\n00:11:26.840 --> 00:11:28.560\nBut then what you would do is,\nlet's say I'm curious,\n\n243\n00:11:28.560 --> 00:11:33.460\nI'm thinking about running some Dev E\nin VM's I need to run Debian in a VM.\n\n244\n00:11:33.460 --> 00:11:38.740\nSo I can come down here and I can see,\nall right, let's see, if I want to run,\n\n245\n00:11:40.610 --> 00:11:45.610\nwhere are we at, you can see like\n8 through 8, 5, Jessie, whether it\n\n246\n00:11:45.610 --> 00:11:50.170\ncan include, whether it includes the,\nthese are some of the different features.\n\n247\n00:11:50.170 --> 00:11:55.109\nWhat we're worried about is\nthe Integration Services, which is where,\n\n248\n00:11:55.109 --> 00:11:56.472\nsomewhere in here.\n\n249\n00:11:59.696 --> 00:12:01.200\nMy migration.\n\n250\n00:12:01.200 --> 00:12:03.670\nBlah, blah, blah.\nWell, I swear it was in here a minute ago.\n\n251\n00:12:03.670 --> 00:12:04.900\n&gt;&gt; Control F.\n[LAUGH]\n\n252\n00:12:04.900 --> 00:12:05.520\n&gt;&gt; Yeah, right.\n\n253\n00:12:05.520 --> 00:12:06.940\n&gt;&gt; Search for integration.\n\n254\n00:12:06.940 --> 00:12:11.963\n&gt;&gt; Although this might be, let me just\ndouble check, make sure I'm on the right.\n\n255\n00:12:14.413 --> 00:12:21.089\nYeah, this is all the individual services\nlike key value pair as your data exchange,\n\n256\n00:12:21.089 --> 00:12:26.230\nso it's not just showing\nintegration services in general.\n\n257\n00:12:26.230 --> 00:12:28.730\nAlthough I thought I\nhad a nice handy chart.\n\n258\n00:12:28.730 --> 00:12:30.570\nHere we go this is\nthe one I'm looking for.\n\n259\n00:12:30.570 --> 00:12:33.350\nThe other one's kind a breaking\nin down very specifically,\n\n260\n00:12:33.350 --> 00:12:35.617\nthis one is again is\nanother one from Microsoft.\n\n261\n00:12:35.617 --> 00:12:39.000\nGood ol' Sarah Cooley put together\na great little chart here.\n\n262\n00:12:39.000 --> 00:12:42.110\nSo if you're curious to see\nis that supported in Linux,\n\n263\n00:12:42.110 --> 00:12:46.500\nhere we go I can see\nthe heartbeat service is.\n\n264\n00:12:46.500 --> 00:12:49.290\nThen you see the names of those Daemons,\nif you need to manage them.\n\n265\n00:12:49.290 --> 00:12:53.150\nAlso a great little cheat sheet on\nwhat the different guest services are.\n\n266\n00:12:53.150 --> 00:12:53.863\nSo i'll make sure throw those in there.\n\n267\n00:12:53.863 --> 00:12:59.120\nLike I said the main thing I want you to\nfocus on for the exam, and for studying,\n\n268\n00:12:59.120 --> 00:13:03.270\nor for doing this in the real world is\nI need to make sure that the version of\n\n269\n00:13:03.270 --> 00:13:07.170\nLinux that i'm planning to implement\nsupports those integration services.\n\n270\n00:13:07.170 --> 00:13:10.710\nIf those integration services\nare important to me and our environment.\n\n271\n00:13:12.980 --> 00:13:14.690\nAll right, good for that.\n\n272\n00:13:14.690 --> 00:13:19.710\nNext thing we want to talk about\nis going to be generation one and\n\n273\n00:13:19.710 --> 00:13:22.730\ngeneration two virtual machines.\n\n274\n00:13:22.730 --> 00:13:27.059\nNow, let's go back to my Hyper-V host and\nI'm gonna create a new virtual machine.\n\n275\n00:13:28.440 --> 00:13:31.550\nAll right so I'm just going to launch\nthe wizard and I'll click next.\n\n276\n00:13:31.550 --> 00:13:32.930\nI'll give it a name.\n\n277\n00:13:32.930 --> 00:13:33.610\nCall it test one.\n\n278\n00:13:33.610 --> 00:13:35.310\nAnd I'll click next.\n\n279\n00:13:35.310 --> 00:13:38.500\nI'm not going to actually finish this\none cuz I wanted to get to this screen\n\n280\n00:13:38.500 --> 00:13:39.930\nhere all right.\n\n281\n00:13:39.930 --> 00:13:43.750\nWhen you create a virtual machine you need\nto choose whether it's going to be a Gen 1\n\n282\n00:13:43.750 --> 00:13:47.120\nvirtual machine or\na Gen 2 virtual machine.\n\n283\n00:13:47.120 --> 00:13:48.290\nHow do I know which one I want?\n\n284\n00:13:48.290 --> 00:13:50.850\n&gt;&gt; Gen 2 is obviously better Mike,\nit's a larger number.\n\n285\n00:13:50.850 --> 00:13:51.770\n&gt;&gt; Obviously.\n\n286\n00:13:51.770 --> 00:13:54.430\n&gt;&gt; Hello [LAUGH].\n&gt;&gt; Exactly which is actually true.\n\n287\n00:13:54.430 --> 00:13:58.560\nFor most cases you are going to want to\ndo a Gen 2 virtual machine because it's\n\n288\n00:13:58.560 --> 00:14:01.338\ngot the latest and greatest features\nthat we want to take advantage of.\n\n289\n00:14:01.338 --> 00:14:04.590\nWhere Generation 1 comes into play though\n\n290\n00:14:04.590 --> 00:14:08.310\nis if you need a 32 bit\noperating system support.\n\n291\n00:14:08.310 --> 00:14:11.820\nIf you need to run a 32 bit\nversion of an operating system,\n\n292\n00:14:11.820 --> 00:14:16.290\nGen 1 is going to be the way to go.\n\n293\n00:14:16.290 --> 00:14:20.436\nGen 2 supports online new features,\nmy UEFI, my secure booth, or\n\n294\n00:14:20.436 --> 00:14:24.270\nmy 64 bit operating system,\nGen 1 supports 64 bit.\n\n295\n00:14:24.270 --> 00:14:28.950\nBut it also support 32 bit,\nGen 2, 64 bit only, all right.\n\n296\n00:14:30.010 --> 00:14:31.988\nAnd what they will tell\nyou is if you need,\n\n297\n00:14:31.988 --> 00:14:36.180\nuse Gen 2 unless the following are true.\n\n298\n00:14:36.180 --> 00:14:40.760\nThe VHD you want to boot\nfrom is not UEFI compatible.\n\n299\n00:14:40.760 --> 00:14:45.220\nYou plan to move your virtual\nmachine to Azure and I think wait.\n\n300\n00:14:45.220 --> 00:14:50.550\nAzure's new stuff, why do I have to\ngo back to the older version here,\n\n301\n00:14:50.550 --> 00:14:54.590\ngeneration one, if I wanna put this\nvirtual machine up there in the cloud,\n\n302\n00:14:54.590 --> 00:14:56.970\nbecause Azure doesn't support\nGen 2 machines as of yet.\n\n303\n00:14:56.970 --> 00:15:00.500\nThey do plan on doing that, but\nit is something to keep in mind.\n\n304\n00:15:00.500 --> 00:15:04.130\nIf you're gonna migrate out to the cloud\nwith some of your virtual machines,\n\n305\n00:15:04.130 --> 00:15:05.970\nyou wanna set this up in Azure.\n\n306\n00:15:05.970 --> 00:15:08.900\nMake sure you do Gen 1, all right.\n\n307\n00:15:08.900 --> 00:15:10.200\nWhat else,\n\n308\n00:15:10.200 --> 00:15:14.870\nthey've got Gen 2 doesn't support\nthe operating system you wanna run.\n\n309\n00:15:14.870 --> 00:15:17.740\nThere are some operating systems\nthat doesn't support, or\n\n310\n00:15:17.740 --> 00:15:20.220\nis not supported in\nthe Generation 2 virtual machine.\n\n311\n00:15:20.220 --> 00:15:22.980\nSo for that I have another\nhandy-dandy cheat sheet.\n\n312\n00:15:22.980 --> 00:15:25.080\nSo let's flip back over here.\n\n313\n00:15:25.080 --> 00:15:28.820\nKathy Davies, out there at Microsoft,\nshe writes a bunch of great articles.\n\n314\n00:15:28.820 --> 00:15:31.370\nAgain, a great little cheat sheet here.\n\n315\n00:15:31.370 --> 00:15:33.780\nWindows guest operating system,\nGen 1 and Gen 2.\n\n316\n00:15:33.780 --> 00:15:39.117\nAnd if we look at this list,\nWe'll see that, as we go back in time,\n\n317\n00:15:39.117 --> 00:15:45.190\neverything supported by Gen 1 Gen 2,\n2008 R2 2008 was not supported.\n\n318\n00:15:45.190 --> 00:15:48.570\nWindows 7 was not supported in Gen 2,\nall right?\n\n319\n00:15:48.570 --> 00:15:51.639\nSo it has basically Windows\n8 later on a client.\n\n320\n00:15:51.639 --> 00:15:57.845\nAnd in 2012 or later on the server\noperating system, right?\n\n321\n00:15:57.845 --> 00:16:00.643\n32-bit version Gen 1 only, right.\n\n322\n00:16:00.643 --> 00:16:04.200\nYou're not gonna do any 32bit\nversions in Generation 2.\n\n323\n00:16:04.200 --> 00:16:05.460\nWhat about Linux?\n\n324\n00:16:05.460 --> 00:16:07.458\nWell again, we're not gonna\ngo through each one of these.\n\n325\n00:16:07.458 --> 00:16:08.419\nBut you can see,\n\n326\n00:16:08.419 --> 00:16:12.947\nshe got a nice little chart of which\nseries supports which operating systems or\n\n327\n00:16:12.947 --> 00:16:17.696\nwhich versions of Linux support the\ndifferent generations of virtual machines.\n\n328\n00:16:17.696 --> 00:16:21.629\nSo again, it's not one of those things\nthat you have to memorize for the exam.\n\n329\n00:16:21.629 --> 00:16:26.510\nDoes red have version 6.7\nwork in Generation 2?\n\n330\n00:16:26.510 --> 00:16:27.160\nIt doesn't.\n\n331\n00:16:27.160 --> 00:16:28.970\nBut you don't need to know that, right?\n\n332\n00:16:28.970 --> 00:16:32.090\nYou don't need to have everyone\nof those versions memorized.\n\n333\n00:16:32.090 --> 00:16:34.850\nYou need to understand that\nthere are some limitations, and\n\n334\n00:16:34.850 --> 00:16:38.600\nit is something that we have to think\nabout during that planning phase.\n\n335\n00:16:38.600 --> 00:16:40.650\n&gt;&gt; Most people get that\nexact question on the exam.\n\n336\n00:16:40.650 --> 00:16:43.967\n&gt;&gt; [LAUGH]\n&gt;&gt; I didn't know, everyone, I'm sorry.\n\n337\n00:16:43.967 --> 00:16:47.440\n[LAUGH]\n&gt;&gt; [LAUGH] That's too funny.\n\n338\n00:16:47.440 --> 00:16:49.950\nAll right, so that's what we're gonna say,\nand that's pretty good, I think, for\n\n339\n00:16:49.950 --> 00:16:53.720\nthe integration services with\nLinux Integration Service.\n\n340\n00:16:53.720 --> 00:16:57.500\nSo we've got our Windows Integration\nServices installed by default on my modern\n\n341\n00:16:57.500 --> 00:16:58.720\noperating systems.\n\n342\n00:16:58.720 --> 00:17:01.568\nOtherwise, we have to go get it,\ndownload the Integration Services.\n\n343\n00:17:01.568 --> 00:17:05.630\nOr in Hyper-V, it'll have an ISO\nthat you can mount up and\n\n344\n00:17:05.630 --> 00:17:08.560\ninstall those Integration Services\nif you're running Windows 7 or\n\n345\n00:17:08.560 --> 00:17:10.470\nsomething older that doesn't have them.\n\n346\n00:17:10.470 --> 00:17:13.490\nFor Linux, it's\nthe Linux Integration Services, again,\n\n347\n00:17:13.490 --> 00:17:17.550\nbuilt in with most of my\nmodern disc rows of Linux.\n\n348\n00:17:17.550 --> 00:17:20.490\nIf you've got an older version\nthat doesn't have it built in,\n\n349\n00:17:20.490 --> 00:17:25.260\ntypically they're available as some\nkind of package that you can download.\n\n350\n00:17:25.260 --> 00:17:28.750\nSame thing with free BSD,\nwe've got the BSD Integration Services or\n\n351\n00:17:28.750 --> 00:17:33.370\nBIS that you'll have to go get and\ninstall in those virtual machines.\n\n352\n00:17:34.610 --> 00:17:36.309\nNow, another thing that\nwe have to deal with,\n\n353\n00:17:36.309 --> 00:17:39.920\nand I'm gonna cancel out of this wizard,\nis secure boot, right?\n\n354\n00:17:39.920 --> 00:17:40.900\nGood old secure boot.\n\n355\n00:17:40.900 --> 00:17:45.702\nSecure boot is how we can try to protect\nour machines during that boot phase,\n\n356\n00:17:45.702 --> 00:17:48.910\nit is a way to double check\nthe system files, those boot files,\n\n357\n00:17:48.910 --> 00:17:51.540\nto make sure they haven't been modified.\n\n358\n00:17:51.540 --> 00:17:54.890\nSomething that's available with\nour new UEFI, I don't wanna\n\n359\n00:17:57.670 --> 00:18:04.340\nsay UEFI BIOS, but the UEFI, gosh, do\nyou remember what it stands for, Daniel?\n\n360\n00:18:04.340 --> 00:18:07.677\n&gt;&gt; Extensible-\n&gt;&gt; Unified Extensible Firmware [CROSSTALK]\n\n361\n00:18:07.677 --> 00:18:08.383\n&gt;&gt; Interface, yeah,\n\n362\n00:18:08.383 --> 00:18:09.342\nsomething to that effect.\n\n363\n00:18:09.342 --> 00:18:11.549\n[LAUGH]\n&gt;&gt; Which replaces BIOS, right?\n\n364\n00:18:11.549 --> 00:18:12.833\n&gt;&gt; Yeah, it's not BIOS.\n\n365\n00:18:12.833 --> 00:18:15.420\n&gt;&gt; It's not BIOS, it's an updated version.\n\n366\n00:18:15.420 --> 00:18:20.320\nAnyway, if you're running that,\nyou can do secure boot.\n\n367\n00:18:20.320 --> 00:18:22.250\nWell, Ken, is that supported in Hyper-V?\n\n368\n00:18:22.250 --> 00:18:24.810\nAnd the answer is yes, but with Windows.\n\n369\n00:18:24.810 --> 00:18:27.050\nWith Linux for awhile,\nwe had an issue with that.\n\n370\n00:18:27.050 --> 00:18:31.150\nAnd I know the Linux community was kind of\nin an uproar about that because we had to\n\n371\n00:18:31.150 --> 00:18:35.710\nhave those boot files needed to be\nsigned with a certificate that's trusted\n\n372\n00:18:35.710 --> 00:18:39.400\nby Windows, or by Hyper-V in this case.\n\n373\n00:18:39.400 --> 00:18:43.390\nSo they can verify the signature of\nthose files, which is a real problem for\n\n374\n00:18:43.390 --> 00:18:48.095\na lot of the Linux systems because\nthere are so many of them.\n\n375\n00:18:48.095 --> 00:18:51.360\nSo you're talking about a lot\nof work to get this done.\n\n376\n00:18:51.360 --> 00:18:52.250\nBut they did get it done.\n\n377\n00:18:52.250 --> 00:18:55.710\nSo when we look at our VMs now,\nlet me pull up the settings for\n\n378\n00:18:55.710 --> 00:18:56.970\none of my Windows boxes.\n\n379\n00:18:58.560 --> 00:19:02.190\nI can see under my security,\nit is using secure boot.\n\n380\n00:19:02.190 --> 00:19:05.860\nI can't change that because\nit's running currently, so\n\n381\n00:19:05.860 --> 00:19:08.160\nlet me grab one that's\nnot running currently.\n\n382\n00:19:10.300 --> 00:19:14.990\nAnd I go in there, secure boot is\nenabled by default, that is recommended,\n\n383\n00:19:14.990 --> 00:19:16.991\nif I can speak English today.\n\n384\n00:19:16.991 --> 00:19:20.130\n&gt;&gt; [LAUGH]\n&gt;&gt; I can check or uncheck that obviously,\n\n385\n00:19:20.130 --> 00:19:25.225\nbut it's this drop down list that's\nthe key when it comes to supporting Linux,\n\n386\n00:19:25.225 --> 00:19:26.360\nall right?\n\n387\n00:19:26.360 --> 00:19:30.134\nWhen we go to Linux,\nin this case, my CentOS machine,\n\n388\n00:19:30.134 --> 00:19:37.645\nright-click settings,\nsecure boot is enabled, how about that?\n\n389\n00:19:37.645 --> 00:19:41.420\nAll right, so we are able to do secure\nboot with a Linux operating system because\n\n390\n00:19:41.420 --> 00:19:45.210\nI was able to change the template that\nit was using for the code center,\n\n391\n00:19:45.210 --> 00:19:49.470\nverifying those signatures of\nthose Linux boot files, all right?\n\n392\n00:19:49.470 --> 00:19:51.118\nCould not do that before, so\n\n393\n00:19:51.118 --> 00:19:54.769\nwe could not use secure boot with\nour Linux operating systems.\n\n394\n00:19:54.769 --> 00:19:57.460\n2016 Hyper-V has fixed all of that.\n\n395\n00:19:57.460 --> 00:20:02.065\nAll I did, and let me go over here,\nfree VSD is actually running, too.\n\n396\n00:20:03.320 --> 00:20:04.950\nTell you what, let me go back\nto that one that's not running.\n\n397\n00:20:04.950 --> 00:20:07.910\nEven though it's not a Linux machine,\nI can show you the option there.\n\n398\n00:20:09.700 --> 00:20:14.670\nSo I go to my secure boot,\nyou'll see the choices I have there,\n\n399\n00:20:14.670 --> 00:20:18.610\nMicrosoft Windows or\nMicrosoft UEFI Certificate Authority.\n\n400\n00:20:18.610 --> 00:20:23.480\nWe change it to that one for\nour Linux machines, all right?\n\n401\n00:20:23.480 --> 00:20:26.410\nSo fantastic, now I can run my Linux and\n\n402\n00:20:26.410 --> 00:20:30.240\nmy Windows doing secure boot,\nkeeping everything safe.\n\n403\n00:20:30.240 --> 00:20:33.130\nAnd usually if I'm running Linux servers,\nthese are my infrastructure servers.\n\n404\n00:20:33.130 --> 00:20:34.042\nThey're very important.\n\n405\n00:20:34.042 --> 00:20:36.810\nI don't need root kits on there.\n\n406\n00:20:36.810 --> 00:20:37.843\nI usually never want a root kit.\n\n407\n00:20:37.843 --> 00:20:38.360\n&gt;&gt; Not yet.\n\n408\n00:20:38.360 --> 00:20:41.340\n[LAUGH]\n&gt;&gt; Especially on those, right?\n\n409\n00:20:41.340 --> 00:20:43.794\nSo that's how we can enable\nsecure boot in Linux.\n\n410\n00:20:43.794 --> 00:20:47.120\nSimply go into your settings,\nand change that template to\n\n411\n00:20:47.120 --> 00:20:52.550\nMicrosoft UEFI Certificate Authority, and\nthat will support your Linux distrust.\n\n412\n00:20:54.990 --> 00:20:57.990\nAll right, Daniel,\nwhat else do we got here?\n\n413\n00:20:57.990 --> 00:21:02.615\nMoving and converting VMs from previous\nand importing and exporting VMs.\n\n414\n00:21:03.680 --> 00:21:08.488\nLet's do little import export, we might\nhave to hold off on moving and converting.\n\n415\n00:21:08.488 --> 00:21:13.040\nImporting and exporting VMs is actually\na pretty straightforward process.\n\n416\n00:21:13.040 --> 00:21:16.740\nIf we're moving a VM from one\nHyper-V server to another,\n\n417\n00:21:16.740 --> 00:21:21.500\nwe can simply export that and then\nimport it into our other Hyper-V server.\n\n418\n00:21:21.500 --> 00:21:27.570\nImporting it is really what registers the\nvirtual machine with Hyper-V, all right.\n\n419\n00:21:27.570 --> 00:21:30.080\nSo not like some of your\nfree little virtualizations,\n\n420\n00:21:30.080 --> 00:21:34.170\nwhere you just double click on a file,\nand it pops up in your VM or a console,\n\n421\n00:21:34.170 --> 00:21:37.800\nor something like that, and\nyou can start playing with it.\n\n422\n00:21:37.800 --> 00:21:41.330\nYou can't just double-click on it and\nexpect Hyper-V to see it loaded up and\n\n423\n00:21:41.330 --> 00:21:42.320\nstart running it.\n\n424\n00:21:42.320 --> 00:21:45.370\nYou need to import it into\nyour Hyper-V console.\n\n425\n00:21:45.370 --> 00:21:51.119\nIt also has a cool little side benefit\nof being able to duplicate machines,\n\n426\n00:21:51.119 --> 00:21:54.123\nit's almost a cheap way of-\n&gt;&gt; Like cloning?\n\n427\n00:21:54.123 --> 00:21:55.871\n&gt;&gt; Cloning, exactly.\n\n428\n00:21:55.871 --> 00:21:57.380\nAll right, so\nlet's take a look at it here.\n\n429\n00:21:57.380 --> 00:21:59.419\nI'm gonna go ahead and start the process.\n\n430\n00:21:59.419 --> 00:22:03.917\nWe probably won't wait, I should have\ndone one already, but let's go ahead and\n\n431\n00:22:03.917 --> 00:22:06.410\nexport one that I don't care about.\n\n432\n00:22:06.410 --> 00:22:08.230\nWe'll go grab one of Don's machines.\n\n433\n00:22:08.230 --> 00:22:10.465\n&gt;&gt; [LAUGH] Yeah.\n\n434\n00:22:10.465 --> 00:22:11.437\n&gt;&gt; He won't mind.\n\n435\n00:22:11.437 --> 00:22:13.013\n&gt;&gt; You're not doing\nthat show tomorrow Dan.\n\n436\n00:22:13.013 --> 00:22:14.907\n&gt;&gt; He doesn't need these things.\n\n437\n00:22:14.907 --> 00:22:21.530\nAll right, so I'm simply gonna right click\non this guy and choose to export the VM.\n\n438\n00:22:21.530 --> 00:22:22.860\nWhere do I wanna put it?\n\n439\n00:22:22.860 --> 00:22:25.100\nLet me go find a location here.\n\n440\n00:22:25.100 --> 00:22:28.022\nI'll dump it on my Seagate drive.\n\n441\n00:22:28.022 --> 00:22:30.025\nLook, there's already an exported folder.\n\n442\n00:22:30.025 --> 00:22:33.336\nAnd we've already got some exported VMs,\nwe've set that up so\n\n443\n00:22:33.336 --> 00:22:35.346\nwe can show you how to import some VMs.\n\n444\n00:22:35.346 --> 00:22:39.403\nSo all I would do is create a,\nI'm a little OCD,\n\n445\n00:22:39.403 --> 00:22:47.021\nI'll probably create a folder called SC,\nwhat did he call this, 2016-host01.\n\n446\n00:22:51.696 --> 00:22:53.530\nAnd I'll select that folder.\n\n447\n00:22:53.530 --> 00:22:58.287\nSo now it knows where\nI wanna export it to.\n\n448\n00:22:58.287 --> 00:22:58.920\nThat was it.\n\n449\n00:22:58.920 --> 00:22:59.490\n&gt;&gt; That's all.\n\n450\n00:22:59.490 --> 00:23:00.630\n&gt;&gt; That was it, right?\n\n451\n00:23:00.630 --> 00:23:01.696\nYou want me to just do that again?\n\n452\n00:23:01.696 --> 00:23:03.722\n&gt;&gt; [LAUGH] Yes, if you blinked,\nyou missed it, yes, right.\n\n453\n00:23:03.722 --> 00:23:06.739\n&gt;&gt; That's right, right-click, export,\n\n454\n00:23:06.739 --> 00:23:10.690\ntell it where you wanna export it,\nand off she goes.\n\n455\n00:23:10.690 --> 00:23:15.091\nThat's gonna include everything, check\npoints, the VMC files, the hard drives,\n\n456\n00:23:15.091 --> 00:23:19.263\nthe whole kit and kaboodle, or the kitchen\nsink, or however you wanna say that.\n\n457\n00:23:19.263 --> 00:23:22.643\nNow once we've exported it,\nwe can turn around and\n\n458\n00:23:22.643 --> 00:23:27.520\nimport them with the wizard as well,\nso let me fire that up.\n\n459\n00:23:27.520 --> 00:23:29.340\nGonna click on Import Virtual Machine.\n\n460\n00:23:30.980 --> 00:23:32.525\nAnd I'll click Next.\n\n461\n00:23:32.525 --> 00:23:35.400\nThen I'm gonna browse where\nI wanna import that from.\n\n462\n00:23:35.400 --> 00:23:38.270\nSince we've got a few of them over here\non Seagate's drive, we'll go ahead and\n\n463\n00:23:38.270 --> 00:23:42.548\ngrab one of these, if I can find one\nthat's maybe not in the console already.\n\n464\n00:23:42.548 --> 00:23:45.690\nBoon2 looks good.\n\n465\n00:23:45.690 --> 00:23:47.133\nSo I'll grab this Boon2 guy.\n\n466\n00:23:47.133 --> 00:23:48.710\nWe'll select the folder.\n\n467\n00:23:48.710 --> 00:23:50.917\nAnd notice I just selected\nthe top level of the folder.\n\n468\n00:23:50.917 --> 00:23:55.041\nIt'll figure out what's in there,\nwhere the VMC files are,\n\n469\n00:23:55.041 --> 00:23:58.780\nwhere the VHD files are and\nall that, I'll click Next.\n\n470\n00:23:58.780 --> 00:24:01.700\nThis is, look I found this virtual\nmachine in that directory,\n\n471\n00:24:01.700 --> 00:24:04.090\ncould be more than one in there actually.\n\n472\n00:24:04.090 --> 00:24:08.510\nWe'll click next, and here is,\nthis is some pretty cool options.\n\n473\n00:24:08.510 --> 00:24:12.360\nRegister the virtual machine in-place,\nuse the existing unique ID.\n\n474\n00:24:12.360 --> 00:24:15.980\nWhat this is going to do it says I'm not\ngonna move the virtual machine, so where\n\n475\n00:24:15.980 --> 00:24:20.320\nit is now on the physical hard drives,\nit's going to stay and run from there.\n\n476\n00:24:20.320 --> 00:24:23.840\nIt will create,\nit will use the existing unique ID,\n\n477\n00:24:23.840 --> 00:24:27.170\nwhich means if this machine was already\nin my console and I tried to import it,\n\n478\n00:24:27.170 --> 00:24:30.500\nit's gonna fail,\nbecause it's gonna have a duplicate ID.\n\n479\n00:24:30.500 --> 00:24:34.440\nRestore the virtual machine,\nuse the existing unique ID.\n\n480\n00:24:34.440 --> 00:24:39.490\nThis is gonna let me change the location,\nmaybe that was on my portable hard drive\n\n481\n00:24:39.490 --> 00:24:42.750\nor some kind of back up drive, so\nI don't wanna run it from there,\n\n482\n00:24:42.750 --> 00:24:46.380\nI wanna move it to my other stripe where\nall my other virtual machines are.\n\n483\n00:24:46.380 --> 00:24:47.560\nI would choose this option,\n\n484\n00:24:47.560 --> 00:24:52.010\nrestore the virtual machine, cuz that's\ngonna let me select a location, it's gonna\n\n485\n00:24:52.010 --> 00:24:56.780\ncopy all those files over there and\nthen register it with the Hyper-V console.\n\n486\n00:24:56.780 --> 00:25:02.969\nThe last option is my favorite, copy the\nvirtual machine, create a new unique ID.\n\n487\n00:25:02.969 --> 00:25:05.970\nSo this is gonna allow me to\nbasically clone or duplicate.\n\n488\n00:25:05.970 --> 00:25:09.430\nNow, keep in mind that within Windows,\nthere's still a lot of things that\n\n489\n00:25:09.430 --> 00:25:14.850\nare gonna be duplicated, the name,\na CID on there, things like that.\n\n490\n00:25:14.850 --> 00:25:18.550\nSo it's not a true cloning process,\nbut it is a neat way to,\n\n491\n00:25:18.550 --> 00:25:20.844\nI wanna bring in this machine again,\n\n492\n00:25:20.844 --> 00:25:25.296\nI'm gonna shut the other copy of it\ndown so I don't have any conflicts.\n\n493\n00:25:25.296 --> 00:25:29.008\nBut I wanna bring it in again as a new\nmachine and maybe do some tests on it, and\n\n494\n00:25:29.008 --> 00:25:32.490\nI can just throw it away,\ncuz I know I've got the original VM there.\n\n495\n00:25:32.490 --> 00:25:36.740\n&gt;&gt; Yeah, that's definitely where the real\nbenefit of doing this comes from.\n\n496\n00:25:36.740 --> 00:25:39.310\nI can make an exact copy of this,\njust shut down my old one.\n\n497\n00:25:39.310 --> 00:25:40.980\nAnd if you're working\na production environment,\n\n498\n00:25:40.980 --> 00:25:42.910\nthis is something you\ntend to do quite a bit.\n\n499\n00:25:42.910 --> 00:25:45.470\nI want to throw everything and\nthe kitchen sink out, and you know,\n\n500\n00:25:45.470 --> 00:25:48.750\nI want to try that latest\nbleeding edge hotfix for\n\n501\n00:25:48.750 --> 00:25:52.190\nwhatever line of business thing I've\ngot running and not worry about.\n\n502\n00:25:52.190 --> 00:25:53.790\nI don't want to worry\nabout doing snapshot or\n\n503\n00:25:53.790 --> 00:25:56.740\nrolling things back,\nI just bring it up, work on it,\n\n504\n00:25:56.740 --> 00:26:00.300\nI can even put it in a test if I want to\nand then just blow it away when I'm done.\n\n505\n00:26:00.300 --> 00:26:03.110\nI don't have to revert and\ngo through all that rigmarole.\n\n506\n00:26:03.110 --> 00:26:06.410\nJust use it, or if it works,\nI like the way it goes, rename it,\n\n507\n00:26:06.410 --> 00:26:08.880\nnow we've got part two,\nhave both of them running.\n\n508\n00:26:08.880 --> 00:26:11.380\n&gt;&gt; Exactly right, I'll go ahead and\nrun through this.\n\n509\n00:26:11.380 --> 00:26:16.010\nI'll leave it on copy, I'll click next,\nand all it's gonna do is if I\n\n510\n00:26:16.010 --> 00:26:19.290\ndon't change anything it's gonna use my\ndefaults, the Hyper-V, as far as where\n\n511\n00:26:19.290 --> 00:26:22.780\nit's gonna put the hard drive, the check\npoints, and the configuration file.\n\n512\n00:26:22.780 --> 00:26:24.760\nI'll click next.\n\n513\n00:26:24.760 --> 00:26:29.630\nPut the hard drives there,\nwe'll click next and finish.\n\n514\n00:26:30.910 --> 00:26:33.220\nAnd it's going to begin the process, and\n\n515\n00:26:33.220 --> 00:26:36.980\nso nothing too terribly exciting to\nwatch here, but once it finishes,\n\n516\n00:26:36.980 --> 00:26:41.450\nit will show up in my console, and\nI can now start that virtual machine.\n\n517\n00:26:41.450 --> 00:26:46.210\nSo importing and exporting is a great\nway to move your machines around,\n\n518\n00:26:46.210 --> 00:26:50.200\nthat's how we're gonna move our machines\nfrom one Hyper-V server to another.\n\n519\n00:26:50.200 --> 00:26:54.530\nMaybe we're getting building up a new\nset of hardware, physical host for\n\n520\n00:26:54.530 --> 00:26:57.320\nour Hyper-V server, and we need to get\nthose virtual machines over there.\n\n521\n00:26:57.320 --> 00:27:02.520\nYou can't just go copy the folder\nwith all your VHDs or VMC files and\n\n522\n00:27:02.520 --> 00:27:06.710\nmove to your new Hyper-V server, you have\nto go through this process of exporting it\n\n523\n00:27:06.710 --> 00:27:11.020\nout, so that it knows it's no longer\nbeing managed by this Hyper-V host.\n\n524\n00:27:11.020 --> 00:27:14.650\nAnd then importing it into your\nnew Hyper-V host, so that it says,\n\n525\n00:27:14.650 --> 00:27:19.340\nhey I've got this new VM, I'm gonna\nregister it, and begin to use it.\n\n526\n00:27:19.340 --> 00:27:22.940\nSo there we go, it's done, and,\noops, I scroll right by him.\n\n527\n00:27:25.120 --> 00:27:27.840\nIf I go a little bit slower, there is Mr.\n\n528\n00:27:27.840 --> 00:27:33.310\nUbuntu right there ready to rock and\nroll, right?\n\n529\n00:27:33.310 --> 00:27:38.190\nAnd so that is in a nutshell how we\nimport and export our virtual machines.\n\n530\n00:27:38.190 --> 00:27:40.760\n&gt;&gt; Pretty straightforward process,\nnothing too difficult.\n\n531\n00:27:40.760 --> 00:27:45.810\nI love it when they make things that\nwe need to do on a very common basis,\n\n532\n00:27:45.810 --> 00:27:46.790\nvery simple, right?\n\n533\n00:27:46.790 --> 00:27:51.510\nAnd then no bells unless you want to know,\ncrazy switches or weird techniques.\n\n534\n00:27:51.510 --> 00:27:53.085\nDo I use this type of?, no.\n\n535\n00:27:53.085 --> 00:27:56.990\nRight-click, export, it's done,\nright-click, import, it's done.\n\n536\n00:27:56.990 --> 00:27:59.790\nBe done with it, that's the way\nthese things work in Microsoft,\n\n537\n00:27:59.790 --> 00:28:01.130\nyou did a great job on this one.\n\n538\n00:28:01.130 --> 00:28:04.191\nMike, anything else we want to know\nabout virtual machines settings?\n\n539\n00:28:04.191 --> 00:28:06.450\nNo, Daniel, I think that pretty\nmuch does it for this one.\n\n540\n00:28:06.450 --> 00:28:08.980\nAll right, well, Mike,\ngreat stuff today, and\n\n541\n00:28:08.980 --> 00:28:12.170\nif you've been watching you should now\nhave a nice foundation knowledge of\n\n542\n00:28:12.170 --> 00:28:16.760\nworking on Hyper-V configuration, and the\nvirtual machines themselves doing that.\n\n543\n00:28:16.760 --> 00:28:19.500\nWe do thank you, Michael, for that,\nso we thank you guys for watching,\n\n544\n00:28:19.500 --> 00:28:23.670\nbut we have come to the end of yet another\ngreat episode, signing off for ITProTV,\n\n545\n00:28:23.670 --> 00:28:25.360\nI've been your host Daniel Lowrie.\n\n546\n00:28:25.360 --> 00:28:26.350\n&gt;&gt; And I'm Mike Rodrick.\n\n547\n00:28:26.350 --> 00:28:28.263\n&gt;&gt; We'll see you next time.\n\n548\n00:28:28.263 --> 00:28:34.310\n[MUSIC]\n\n549\n00:28:34.310 --> 00:28:37.302\n&gt;&gt; Thank you for watching ITProTV\n\n",
          "vimeoId": "191182641"
        },
        {
          "description": "In this episode, Daniel and Mike take you through configuring Hyper-V Storage. They begin by creating VHDs, and VHDX files using Hyper-V Manager. Then they explain and demonstrate a crucial and convenient component called Differencing Disks which allow for rapid deployment of VMs.",
          "length": "1598",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-3-1-configure_hyper_v_storage-110916-PGM.00_26_37_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-3-1-configure_hyper_v_storage-110916-PGM.00_26_37_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-3-1-configure_hyper_v_storage-110916-PGM.00_26_37_15.Still001-sm.jpg",
          "title": "Configure Hyper-V Storage",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.622\nWelcome to ITProTV.\n\n2\n00:00:01.622 --> 00:00:08.247\nI am your host [CROSSTALK]\n\n3\n00:00:08.247 --> 00:00:12.420\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.420 --> 00:00:14.040\n&gt;&gt; All right, greetings, everyone, and\n\n5\n00:00:14.040 --> 00:00:16.830\nwelcome to another great\nepisode of ITProTV.\n\n6\n00:00:16.830 --> 00:00:20.480\nI'm your host, Daniel Lowrie, and\nin today's episode it's more on our\n\n7\n00:00:20.480 --> 00:00:24.200\nInstallation, Storage and\nCompute series for Windows Server 2016.\n\n8\n00:00:24.200 --> 00:00:27.610\nJoining us back today, you know him,\nyou love him, he's our good friend,\n\n9\n00:00:27.610 --> 00:00:28.421\nMr Mike Rodrick.\n\n10\n00:00:28.421 --> 00:00:29.377\nMike, welcome back.\n\n11\n00:00:29.377 --> 00:00:30.499\nWe love to have you.\n\n12\n00:00:30.499 --> 00:00:32.248\nWe're wearing the same clothes so\nit must be the same day.\n\n13\n00:00:32.248 --> 00:00:33.514\n[LAUGH]\n&gt;&gt; Must be the same day.\n\n14\n00:00:33.514 --> 00:00:34.729\n[LAUGH]\n&gt;&gt; I shouldn't have said that.\n\n15\n00:00:34.729 --> 00:00:36.290\n&gt;&gt; This is the only shirt I own.\n\n16\n00:00:36.290 --> 00:00:37.083\nDon't tell anyone out there.\n\n17\n00:00:37.083 --> 00:00:38.430\n[LAUGH]\n&gt;&gt; The only one shirt you have.\n\n18\n00:00:38.430 --> 00:00:39.060\n&gt;&gt; That's right.\n\n19\n00:00:39.060 --> 00:00:39.820\n&gt;&gt; How's it going today, Mike?\n\n20\n00:00:39.820 --> 00:00:40.590\n&gt;&gt; It's going great, Daniel.\n\n21\n00:00:40.590 --> 00:00:41.757\nThanks for having me back and\n\n22\n00:00:41.757 --> 00:00:44.240\nyet we're continuing on with\nour good old Server 2016.\n\n23\n00:00:44.240 --> 00:00:47.859\nThis one we're gonna be looking\nat Hyper-V storage, right?\n\n24\n00:00:47.859 --> 00:00:51.738\nNot so much storage for the Hyper-V server\nbut really dealing with the virtual\n\n25\n00:00:51.738 --> 00:00:54.570\nmachines and what they're using for\ntheir hard drives.\n\n26\n00:00:54.570 --> 00:00:59.571\nCuz we do have some choices to\nmake when it comes to our VHDs.\n\n27\n00:00:59.571 --> 00:01:01.772\nAll right, so let's talk about that first.\n\n28\n00:01:01.772 --> 00:01:05.114\nLet's talk about what our choices are.\n\n29\n00:01:05.114 --> 00:01:07.513\nVHD, or a .vhd file.\n\n30\n00:01:07.513 --> 00:01:11.440\nSo the extension is a .vhd,\nvirtual hard disk.\n\n31\n00:01:11.440 --> 00:01:13.400\nThat's what we had since, well,\n\n32\n00:01:13.400 --> 00:01:18.020\nit goes pretty far back with Microsoft's\nvirtualization technologies.\n\n33\n00:01:18.020 --> 00:01:21.920\nRecently, I guess it's been, I'm trying\nto think when they came with VHDX.\n\n34\n00:01:21.920 --> 00:01:25.350\nI can't remember off the top of my head,\nbut it's been a couple of editions.\n\n35\n00:01:25.350 --> 00:01:28.230\n2008, somewhere around there I\nthink they came out with 2008 R2.\n\n36\n00:01:28.230 --> 00:01:31.990\nNow we came out with this\nVHDX file format, the new and\n\n37\n00:01:31.990 --> 00:01:33.900\nimproved virtual hard drive.\n\n38\n00:01:33.900 --> 00:01:35.920\nRight, they started putting\nan x on the end of everything,\n\n39\n00:01:35.920 --> 00:01:38.180\nall their Microsoft documents,\nall that good stuff.\n\n40\n00:01:38.180 --> 00:01:40.012\nBut that meant that new and\nimproved, right.\n\n41\n00:01:40.012 --> 00:01:40.964\n&gt;&gt; That's what x means right?\n\n42\n00:01:40.964 --> 00:01:41.649\nCuz it's awesome.\n\n43\n00:01:41.649 --> 00:01:42.469\n&gt;&gt; Right.\n\n44\n00:01:42.469 --> 00:01:44.727\n[LAUGH]\n&gt;&gt; It's got the x factor.\n\n45\n00:01:44.727 --> 00:01:46.025\n&gt;&gt; [LAUGH] Exactly.\n\n46\n00:01:46.025 --> 00:01:48.320\nSo they've gotta be better.\n\n47\n00:01:48.320 --> 00:01:49.700\nAnd they are, actually.\n\n48\n00:01:49.700 --> 00:01:50.730\nThey're a lot better.\n\n49\n00:01:50.730 --> 00:01:54.220\nThey are larger capacity.\n\n50\n00:01:54.220 --> 00:01:57.960\nWith VHDs we topped out at\nabout two terabytes in size.\n\n51\n00:01:57.960 --> 00:02:05.064\nWith VHDXs we can go up to 64 terabytes\nin size for a virtual hard drive.\n\n52\n00:02:05.064 --> 00:02:06.550\nThey're more resilient.\n\n53\n00:02:06.550 --> 00:02:08.340\nAnd one of the biggest things,\n\n54\n00:02:08.340 --> 00:02:13.610\nis they're faster with better performance,\nespecially when it comes to resizing.\n\n55\n00:02:13.610 --> 00:02:17.450\nWe've often said we don't wanna\nuse dynamically expanding disks in\n\n56\n00:02:17.450 --> 00:02:20.820\nproduction environment because that\ncan really our hamper performance,\n\n57\n00:02:20.820 --> 00:02:25.629\nif in the middle of production day,\nit's gotta grow that VHD in size.\n\n58\n00:02:26.730 --> 00:02:30.006\nPerformance just takes a nose dive because\nit takes a little while to do that.\n\n59\n00:02:30.006 --> 00:02:32.930\nWith these VHDXs, it's much, much faster.\n\n60\n00:02:32.930 --> 00:02:35.460\nI still don't know\npeople that actually use\n\n61\n00:02:35.460 --> 00:02:38.550\ndynamically expanding drives in\na production environment, but\n\n62\n00:02:38.550 --> 00:02:43.410\nthe numbers say that you probably could,\nwhich is kind of interesting.\n\n63\n00:02:43.410 --> 00:02:45.710\nMe personally, I like fixed size.\n\n64\n00:02:45.710 --> 00:02:49.270\nThat's just one less thing I have to deal\nwith when it comes to the performance of\n\n65\n00:02:49.270 --> 00:02:50.150\nmy virtual machines.\n\n66\n00:02:50.150 --> 00:02:53.450\nBut understand, and even in a development\nenvironment, I don't wanna wait around.\n\n67\n00:02:53.450 --> 00:02:56.950\nSo it's great that they improved\nthe performance of these guys.\n\n68\n00:02:56.950 --> 00:03:00.360\nAnd again, the disc expansion is\njust one aspect of the performance.\n\n69\n00:03:00.360 --> 00:03:04.420\nMuch more resilient recovering from\nfailures and things like that.\n\n70\n00:03:04.420 --> 00:03:06.180\nSo really, really good.\n\n71\n00:03:06.180 --> 00:03:10.480\nSo why would you, why do we still have\nVHDs would be the next question then.\n\n72\n00:03:10.480 --> 00:03:14.740\nIf VHDXs are so much better,\nwhy do we continue to have VHDs?\n\n73\n00:03:14.740 --> 00:03:17.080\nThat's because we have\nGeneration One virtual machines.\n\n74\n00:03:17.080 --> 00:03:18.972\n&gt;&gt; Backwards compatibility, right, Mike?\n\n75\n00:03:18.972 --> 00:03:20.980\nDon't forget the old guys right?\n\n76\n00:03:20.980 --> 00:03:25.152\n&gt;&gt; We can't just throw the old ones out,\notherwise I'd be out in the trash.\n\n77\n00:03:25.152 --> 00:03:27.580\nI like keeping the old things around.\n\n78\n00:03:27.580 --> 00:03:29.578\nSo yeah,\nthat's what it really comes down to.\n\n79\n00:03:29.578 --> 00:03:34.636\nOur Generation 1 virtual machines\ncan use either a VHD or a VHDX for\n\n80\n00:03:34.636 --> 00:03:40.431\ntheir storage, whereas a Generation\n2 virtual machine can only use VHDX.\n\n81\n00:03:40.431 --> 00:03:42.500\nIt cannot use the VHD.\n\n82\n00:03:42.500 --> 00:03:46.550\nSo if I've got something where it has to\nbe on a Generation 1 virtual machine, or\n\n83\n00:03:46.550 --> 00:03:47.090\nmaybe i'm planning.\n\n84\n00:03:47.090 --> 00:03:49.100\nRemember we talked about\ngoing out to Azure.\n\n85\n00:03:49.100 --> 00:03:51.770\nIt needs to be a Generation\n1 virtual machine,\n\n86\n00:03:51.770 --> 00:03:56.490\nmaybe that's why i'm using those\nVHD files for that, right.\n\n87\n00:03:56.490 --> 00:03:58.660\nNow as far as creating them goes, well,\n\n88\n00:03:58.660 --> 00:04:01.970\nwe can create virtual hard drives\nwhen we create a virtual machine.\n\n89\n00:04:01.970 --> 00:04:03.665\nWe also have a wizard\nwhere we can go ahead and\n\n90\n00:04:03.665 --> 00:04:07.800\npre-create those virtual hard drives\nbefore we create our virtual machine.\n\n91\n00:04:07.800 --> 00:04:11.750\nMaybe we're creating a second or\nthird or fourth drive for storage for\n\n92\n00:04:11.750 --> 00:04:13.070\nthat virtual machine.\n\n93\n00:04:13.070 --> 00:04:16.400\nSo we can do it outside of the creation\nof the virtual machine as well.\n\n94\n00:04:16.400 --> 00:04:20.972\nBut I'm gonna show you both, what we're\ngonna do is first show you how to do it\n\n95\n00:04:20.972 --> 00:04:22.750\nwhile we were creating a virtual machine.\n\n96\n00:04:22.750 --> 00:04:25.840\nAnd then we can get into the next topic\nand creating differencing drives,\n\n97\n00:04:25.840 --> 00:04:27.530\nI'm gonna have to use that wizard anyway.\n\n98\n00:04:27.530 --> 00:04:30.800\nSo I'll show you their wizard\nwhen we get to that step.\n\n99\n00:04:30.800 --> 00:04:32.520\nSo let's do,\nlet's create a new virtual machine.\n\n100\n00:04:32.520 --> 00:04:35.400\nWell take a look at my screen here,\nI'm on my VM host,\n\n101\n00:04:35.400 --> 00:04:37.524\nmy Hyper-V server running 2016.\n\n102\n00:04:37.524 --> 00:04:44.516\nAnd in my Actions pane I'm gonna click\non New &gt; Virtual Machine &gt; Next.\n\n103\n00:04:44.516 --> 00:04:45.120\nWe'll give it a name.\n\n104\n00:04:45.120 --> 00:04:49.210\nI'm gonna call this one Gen1,\nand I'll click Next.\n\n105\n00:04:49.210 --> 00:04:52.080\nAnd I'm gonna leave it on Generation 1 for\nthe gen type.\n\n106\n00:04:52.080 --> 00:04:52.670\n&gt;&gt; Not going with two?\n\n107\n00:04:52.670 --> 00:04:53.502\n&gt;&gt; You didn't see that coming, did you?\n\n108\n00:04:53.502 --> 00:04:54.265\n&gt;&gt; No, not at all.\n\n109\n00:04:54.265 --> 00:04:56.720\n[LAUGH]\n&gt;&gt; I'll click Next.\n\n110\n00:04:56.720 --> 00:05:00.020\nI'm not gonna really set this up, so I'm\njust gonna leave the default memory there,\n\n111\n00:05:00.020 --> 00:05:01.230\na gigabyte.\n\n112\n00:05:01.230 --> 00:05:02.990\nI'm not worried about networking.\n\n113\n00:05:02.990 --> 00:05:04.870\nThis is what I wanted us to see.\n\n114\n00:05:04.870 --> 00:05:08.140\nThis is where we can go ahead and\ncreate that virtual hard drive, but\n\n115\n00:05:08.140 --> 00:05:11.820\nnotice what type of disc it\nsays it's going to create.\n\n116\n00:05:11.820 --> 00:05:16.532\nThis option is to create a VHDX\ndynamically expanding virtual hard disk,\n\n117\n00:05:16.532 --> 00:05:21.310\nall right, which means during the creation\nof the VM, I don't have any choices.\n\n118\n00:05:21.310 --> 00:05:26.240\nI can create a dynamically expanding,\nnot a fixed, and it has to be a VHDX.\n\n119\n00:05:26.240 --> 00:05:28.350\nSo what if I wanna use\na fixed size driver,\n\n120\n00:05:28.350 --> 00:05:32.150\nwhat if I wanna use a VHD and not a VHDX.\n\n121\n00:05:32.150 --> 00:05:34.000\nHow do we go about creating that?\n\n122\n00:05:34.000 --> 00:05:37.690\nThat's where we get to\nuse the other wizard.\n\n123\n00:05:37.690 --> 00:05:38.920\nNo choices here.\n\n124\n00:05:38.920 --> 00:05:41.298\nAnd I'll go ahead and\nI'm just gonna cancel this out.\n\n125\n00:05:41.298 --> 00:05:42.757\nI'm gonna make another one.\n\n126\n00:05:42.757 --> 00:05:45.710\nI wanted to show you that was the Gen 1,\nno choice there.\n\n127\n00:05:45.710 --> 00:05:48.862\nGen 2, you know you're not\ngonna get a choice, right,\n\n128\n00:05:48.862 --> 00:05:51.632\nbecause the only type of\ndrive you can use Is VHDX.\n\n129\n00:05:51.632 --> 00:05:54.430\nBut just to show you,\nlet's actually choose Gen 2.\n\n130\n00:05:57.080 --> 00:06:01.130\nThere I can see it also creates\na VHDX file, all right.\n\n131\n00:06:01.130 --> 00:06:04.900\nSo we can simply create them during\nthe creation of the virtual machine.\n\n132\n00:06:04.900 --> 00:06:08.560\nAnd if I'm not starting with\nan existing hard drive, or I'm just\n\n133\n00:06:08.560 --> 00:06:11.980\nbuilding up a machine from scratch,\nthat's typically how I do it, right?\n\n134\n00:06:11.980 --> 00:06:14.970\nJust like you go out and\nbuy a set of physical hardware and\n\n135\n00:06:14.970 --> 00:06:16.660\nyou gotta install your operating system.\n\n136\n00:06:16.660 --> 00:06:18.300\nYou gotta put a hard drive in there.\n\n137\n00:06:18.300 --> 00:06:21.930\nSame thing when I'm creating these\nvirtual machines, all right?\n\n138\n00:06:21.930 --> 00:06:24.730\nBut as I said,\nthere might be times when, two things.\n\n139\n00:06:24.730 --> 00:06:27.842\nWell, a couple of reasons I can\nthink of off the top of my head.\n\n140\n00:06:27.842 --> 00:06:29.360\nI wanna create a virtual machine but\n\n141\n00:06:29.360 --> 00:06:32.580\nI do not want to use\na dynamically expanding drive.\n\n142\n00:06:32.580 --> 00:06:34.610\nMaybe I'm okay with the VHDX.\n\n143\n00:06:34.610 --> 00:06:35.980\nBut I don't want it dynamically expanding.\n\n144\n00:06:35.980 --> 00:06:36.955\nI want it to be fixed.\n\n145\n00:06:36.955 --> 00:06:39.220\nThere was no option for\nthat in that wizard.\n\n146\n00:06:39.220 --> 00:06:43.548\nOr maybe I wanna create a VHD because I\nknow I'm gonna be doing a Gen One, and\n\n147\n00:06:43.548 --> 00:06:46.110\nVHDXs aren't supported on Generation 1.\n\n148\n00:06:46.110 --> 00:06:48.260\nSo let's see how we do that.\n\n149\n00:06:48.260 --> 00:06:52.870\nI'm gonna click New, and I'm gonna go to\nhard disk instead of virtual machine.\n\n150\n00:06:54.340 --> 00:06:57.685\nI'll click Next, and\nhere's where I get my choice.\n\n151\n00:06:57.685 --> 00:07:00.630\nI get VHD, I get VHDX.\n\n152\n00:07:00.630 --> 00:07:04.990\nI also get something brand new to\nServer 2016 which is a VHD set.\n\n153\n00:07:04.990 --> 00:07:10.970\nWe got more about that in a later episode,\nthe cliffhanger I'll leave you with.\n\n154\n00:07:10.970 --> 00:07:13.130\nThese are shared virtual hard drives.\n\n155\n00:07:13.130 --> 00:07:16.380\nThat's right, hard drives that more\nthan one virtual machine can access.\n\n156\n00:07:16.380 --> 00:07:18.130\nYou can share amongst multiples.\n\n157\n00:07:18.130 --> 00:07:21.340\nBut we'll come back to that when\nwe get into our clustering.\n\n158\n00:07:21.340 --> 00:07:23.240\nSo but here's my option for my VHD.\n\n159\n00:07:23.240 --> 00:07:27.068\nSo now I can choose VHD or VHDX.\n\n160\n00:07:27.068 --> 00:07:29.100\nI'm gonna zoom back out so\nI can see my buttons.\n\n161\n00:07:29.100 --> 00:07:31.680\nI'll choose VHD, I'll click Next.\n\n162\n00:07:31.680 --> 00:07:34.960\nNow I can choose either Fixed,\nDynamically expanding,\n\n163\n00:07:34.960 --> 00:07:38.380\nwhich was the default that we saw\non the wizard, or Differencing.\n\n164\n00:07:38.380 --> 00:07:40.756\nDifferencing I'm gonna\ncome to in just a second.\n\n165\n00:07:40.756 --> 00:07:44.644\nFixed is what I wanna try to do here\nbecause I could not do that through\n\n166\n00:07:44.644 --> 00:07:46.840\nthe creation of the virtual machine.\n\n167\n00:07:46.840 --> 00:07:51.750\nI'll Click Next, and\nI'll call it New Virtual Hard Disk.\n\n168\n00:07:51.750 --> 00:07:52.768\nHow about something like that?\n\n169\n00:07:52.768 --> 00:07:53.308\n&gt;&gt; That sounds good.\n\n170\n00:07:53.308 --> 00:07:54.036\n&gt;&gt; I like it.\n\n171\n00:07:54.036 --> 00:07:55.535\nAnd I'll click Next.\n\n172\n00:07:55.535 --> 00:08:00.155\nAnd for the size, I'm going to\nmake it teeny tiny because When I\n\n173\n00:08:00.155 --> 00:08:05.140\nchoose fixed it's got to get one\ngigabyte of space and create that.\n\n174\n00:08:05.140 --> 00:08:08.760\nWhen you choose dynamically expanding,\nthey're created almost instantly\n\n175\n00:08:08.760 --> 00:08:10.980\nbecause they're only about\ntwo megs in size, right.\n\n176\n00:08:10.980 --> 00:08:12.590\nThere's no data in there.\n\n177\n00:08:12.590 --> 00:08:16.730\nEven if you say I want a 127 gigabyte\nhard drive, it's dynamically expanding.\n\n178\n00:08:16.730 --> 00:08:19.570\nSo it starts out with just\nthe overhead of the drive itself.\n\n179\n00:08:19.570 --> 00:08:25.060\nAs you add the operating system, files,\ndata, applications, it can expand out.\n\n180\n00:08:25.060 --> 00:08:28.810\nHence the name the expanding drive or\ndynamically expanding.\n\n181\n00:08:28.810 --> 00:08:30.590\nFixed, it's gonna have\nto grab all that space.\n\n182\n00:08:30.590 --> 00:08:35.570\nSo if you create 127 gigabyte\nfixed size hard drive,\n\n183\n00:08:35.570 --> 00:08:38.160\nit can take a minute to claim that space.\n\n184\n00:08:38.160 --> 00:08:39.654\nNext, Finish.\n\n185\n00:08:40.819 --> 00:08:42.980\nAnd it'll create my drive.\n\n186\n00:08:42.980 --> 00:08:44.370\nShouldn't take too terribly long.\n\n187\n00:08:45.530 --> 00:08:47.060\nEasy enough, right?\n\n188\n00:08:47.060 --> 00:08:51.490\nIf I go back through that wizard,\nhard disk, I'll click Next.\n\n189\n00:08:51.490 --> 00:08:54.030\nI can choose again the VHDX.\n\n190\n00:08:54.030 --> 00:08:55.210\nI'm not going to finish this one.\n\n191\n00:08:55.210 --> 00:08:56.700\nThe options are the same.\n\n192\n00:08:56.700 --> 00:09:00.420\nJust choosing that different extension,\nwhich gives you more resiliency,\n\n193\n00:09:00.420 --> 00:09:03.940\nbetter performance and\na greater size capacity.\n\n194\n00:09:05.260 --> 00:09:06.810\nAll right, so that's how we do the VM.\n\n195\n00:09:06.810 --> 00:09:10.390\nNow, once I've created, let's say I\nwanted to create a virtual machine\n\n196\n00:09:10.390 --> 00:09:12.350\nthat was using a fixed drive, right.\n\n197\n00:09:12.350 --> 00:09:14.708\nWe saw in the wizard I\ncan only create dynamic.\n\n198\n00:09:14.708 --> 00:09:16.210\nHow would I do that?\n\n199\n00:09:16.210 --> 00:09:19.950\nPut what you just learned together with\nwhat we learned just a minute ago, right?\n\n200\n00:09:19.950 --> 00:09:23.926\nI've created a fixed drive, it's not\nnearly big enough but it'll work for\n\n201\n00:09:23.926 --> 00:09:24.740\nthis example.\n\n202\n00:09:24.740 --> 00:09:29.867\nI'll click New &gt; Virtual Machine\n\n203\n00:09:29.867 --> 00:09:34.649\n&gt; Next, I'll call it Test2.\n\n204\n00:09:34.649 --> 00:09:38.230\nNext, we'll do generation 2,\nI'll click Next.\n\n205\n00:09:38.230 --> 00:09:42.060\nActually that was a VHD, so\nlet me do a generation 1.\n\n206\n00:09:42.060 --> 00:09:46.120\nI'll click Next &gt; Next &gt; Next.\n\n207\n00:09:46.120 --> 00:09:50.763\nAnd then here, instead of creating\na dynamically expanding VHDX,\n\n208\n00:09:50.763 --> 00:09:54.436\nI'm gonna choose use\nan existing virtual hard disk.\n\n209\n00:09:54.436 --> 00:10:01.640\nI'll browse and find that fixed\nsize hard disk right there.\n\n210\n00:10:01.640 --> 00:10:07.400\nI'll click Open and that's how you create\na machine using a fixed size drive.\n\n211\n00:10:07.400 --> 00:10:12.190\nCreate the drive ahead of time, then go\nback and create your virtual machine, and\n\n212\n00:10:12.190 --> 00:10:14.018\njust point it to that existing drive,\nright.\n\n213\n00:10:15.110 --> 00:10:18.480\nThen I can boot it up, or I can install\nmy operating system and we're good to go.\n\n214\n00:10:18.480 --> 00:10:19.380\n&gt;&gt; That's pretty straightforward.\n\n215\n00:10:19.380 --> 00:10:22.720\nAnd then that's why they do this,\nI love the wizards inside of Microsoft.\n\n216\n00:10:22.720 --> 00:10:25.550\nThat is really, as far as I'm concerned,\ntheir biggest selling point.\n\n217\n00:10:25.550 --> 00:10:26.690\nWizards are easy.\n\n218\n00:10:26.690 --> 00:10:28.645\nHit Next &gt; Next &gt; Next your\nway through the thing and\n\n219\n00:10:28.645 --> 00:10:29.850\nit gets where you're going to.\n\n220\n00:10:29.850 --> 00:10:31.650\nSo once in a while you're\nrunning something like this,\n\n221\n00:10:31.650 --> 00:10:33.340\nhas a little bit of an option for you.\n\n222\n00:10:33.340 --> 00:10:34.270\nSo you gotta be ready for\n\n223\n00:10:34.270 --> 00:10:36.790\nthat cuz they might ask you\nsomething about that on the exam.\n\n224\n00:10:36.790 --> 00:10:39.860\nSo be prepared to know what the options\nare and what each one of them do so\n\n225\n00:10:39.860 --> 00:10:42.090\nthat you can answer\nthe questions accordingly.\n\n226\n00:10:42.090 --> 00:10:44.870\nThat's where you're gonna really\nearn your money when it comes to\n\n227\n00:10:44.870 --> 00:10:46.000\nfiguring out what's going on here.\n\n228\n00:10:46.000 --> 00:10:47.200\nBut good job explaining that.\n\n229\n00:10:47.200 --> 00:10:48.420\n&gt;&gt; Thank you very much.\n\n230\n00:10:48.420 --> 00:10:48.940\nAll right,\n\n231\n00:10:48.940 --> 00:10:52.431\nnow the next thing I want to talk to you\nguys about are those differencing disks.\n\n232\n00:10:52.431 --> 00:10:55.620\nAnd I've got a drawing\nthat I have whipped up for\n\n233\n00:10:55.620 --> 00:10:58.821\nyou to hopefully make\nthis a little bit easier.\n\n234\n00:10:58.821 --> 00:11:00.273\n&gt;&gt; You didn't draw this.\n\n235\n00:11:00.273 --> 00:11:01.962\n&gt;&gt; [LAUGH]\n&gt;&gt; I've seen you draw.\n\n236\n00:11:01.962 --> 00:11:05.531\n&gt;&gt; [LAUGH] I got the chalk and\nI drew the whole thing.\n\n237\n00:11:05.531 --> 00:11:08.800\n[LAUGH] Because talking about differencing\ndisks can be a little bit confusing.\n\n238\n00:11:08.800 --> 00:11:11.600\nYou're like wait, wait, I don't\nunderstand what you're trying to say.\n\n239\n00:11:11.600 --> 00:11:13.771\nSo when we talk about a differencing disk,\n\n240\n00:11:13.771 --> 00:11:16.380\nall right,\nthink about the word differencing.\n\n241\n00:11:16.380 --> 00:11:21.850\nThe differencing disk is gonna\nstore the differences between-\n\n242\n00:11:23.020 --> 00:11:24.120\n&gt;&gt; Multiple disks.\n\n243\n00:11:24.120 --> 00:11:25.480\n&gt;&gt; Multiple disks, yeah, I like that.\n\n244\n00:11:25.480 --> 00:11:31.239\nOr between a parent disk and\na child disk, if you will, all right.\n\n245\n00:11:31.239 --> 00:11:32.300\nAnd you think okay, well, that's good.\n\n246\n00:11:32.300 --> 00:11:34.400\nI don't understand,\nwhere would I actually use that?\n\n247\n00:11:34.400 --> 00:11:35.130\nHere's an example.\n\n248\n00:11:35.130 --> 00:11:36.640\nI've got a test environment.\n\n249\n00:11:36.640 --> 00:11:38.800\nI need to whip up a couple of new servers.\n\n250\n00:11:38.800 --> 00:11:41.050\nWell, I could create two\nseparate virtual machines.\n\n251\n00:11:41.050 --> 00:11:45.140\nI could install Server 2016 on both\nof those machines one at a time.\n\n252\n00:11:45.140 --> 00:11:48.852\nGo through the entire process, and\neventually I'd be done, right?\n\n253\n00:11:48.852 --> 00:11:51.390\nImagine trying to do that for\nthree or four or five machines.\n\n254\n00:11:51.390 --> 00:11:53.640\nJust a test environment, all right.\n\n255\n00:11:53.640 --> 00:11:59.170\nOr what I could do is I could create one\nvirtual machine, running Server 2016,\n\n256\n00:11:59.170 --> 00:12:03.210\nand then what I like to do is\njust sysprep that drive, right.\n\n257\n00:12:03.210 --> 00:12:07.382\nCreate this VM, running Server 2016,\ninstall the operating system.\n\n258\n00:12:07.382 --> 00:12:10.210\nLog into it, get all the way through it.\n\n259\n00:12:10.210 --> 00:12:13.710\nOnce you log in, open up your\ncommand prompt and you run sysprep,\n\n260\n00:12:13.710 --> 00:12:18.680\nwhich generalizes that drive, remove all\nthe uniquely identifying information.\n\n261\n00:12:18.680 --> 00:12:20.580\nShut it down, right?\n\n262\n00:12:20.580 --> 00:12:25.810\nNow I've got this drive that has\na sysprepped version of Server 2016.\n\n263\n00:12:25.810 --> 00:12:27.548\nI'll leave that sitting there.\n\n264\n00:12:27.548 --> 00:12:32.219\nI go and I create a new virtual\nhard drive using that wizard we\n\n265\n00:12:32.219 --> 00:12:35.029\njust did selecting differencing.\n\n266\n00:12:35.029 --> 00:12:37.589\nWizard is gonna change a little\nbit when you select differencing.\n\n267\n00:12:37.589 --> 00:12:41.125\nIt's gonna ask you the same things\nas far as type and size, but\n\n268\n00:12:41.125 --> 00:12:43.856\nit's also gonna say\nwhere's the parent disk?\n\n269\n00:12:43.856 --> 00:12:47.860\nAnd I'm gonna point it\nto this guy over here.\n\n270\n00:12:47.860 --> 00:12:53.040\nWhen I fire up that machine, it's gonna\nbe like it just came out of sysprep and\n\n271\n00:12:53.040 --> 00:12:55.620\nask, it's gonna generate all\nthat unique information.\n\n272\n00:12:55.620 --> 00:13:00.610\nAnd it's gonna allow me to just start it\nup and finish, complete the install of\n\n273\n00:13:00.610 --> 00:13:05.100\nServer 2016, just like it would if you had\nsysprepped it and then booted it back up.\n\n274\n00:13:05.100 --> 00:13:06.730\nBut here's where it gets cool.\n\n275\n00:13:06.730 --> 00:13:08.100\nI want another Server 2016 machine,\n\n276\n00:13:08.100 --> 00:13:12.130\nI don't wanna go through the whole\ninstallation process again.\n\n277\n00:13:12.130 --> 00:13:16.990\nI create another differencing drive,\nI point it back to the same parent.\n\n278\n00:13:16.990 --> 00:13:20.680\nI create a new virtual machine\nusing an existing hard drive,\n\n279\n00:13:20.680 --> 00:13:23.330\npoint it to that differencing disk,\nand bada bing.\n\n280\n00:13:23.330 --> 00:13:27.535\nI fire it up, and I've got another\nServer 2016 box, almost immediately,\n\n281\n00:13:27.535 --> 00:13:28.680\nready to go, right.\n\n282\n00:13:30.520 --> 00:13:33.887\nEverything I do to node one on this\ndrawing is gonna be stored here, right.\n\n283\n00:13:35.160 --> 00:13:39.750\nIf I name it, if I install DNS on it,\nwhatever I do, all stored here.\n\n284\n00:13:39.750 --> 00:13:43.878\nThe differencing disk is storing the\ndifferences between the current state and\n\n285\n00:13:43.878 --> 00:13:45.470\nthis parent disk.\n\n286\n00:13:45.470 --> 00:13:47.690\nSame thing here, this one I'm\ngonna name something different,\n\n287\n00:13:47.690 --> 00:13:49.149\nI'm gonna install different roles on it.\n\n288\n00:13:50.200 --> 00:13:54.390\nThe only thing in these drives are those\nchanges that are actually not very\n\n289\n00:13:54.390 --> 00:13:57.360\nbig because the bulk of\nthe Windows operating system\n\n290\n00:13:57.360 --> 00:13:59.280\nis sitting right back\nhere in the parent drive.\n\n291\n00:13:59.280 --> 00:14:01.930\nBut I've only got one copy of that so\nI'm saving space.\n\n292\n00:14:01.930 --> 00:14:04.570\nAgain, when I'm doing\ntesting on my laptop,\n\n293\n00:14:04.570 --> 00:14:08.000\nI don't have an unlimited\namount of storage space.\n\n294\n00:14:08.000 --> 00:14:12.840\nI don't want two or three or\nfour full installations of Server 2016.\n\n295\n00:14:12.840 --> 00:14:13.859\nI'd like to have that one and\n\n296\n00:14:13.859 --> 00:14:16.060\njust kind of make differencing\njust based off of it, right?\n\n297\n00:14:16.060 --> 00:14:19.261\n&gt;&gt; So it just allows you to outsource\nthe operating system files and\n\n298\n00:14:19.261 --> 00:14:22.460\nthings that you're not gonna be\nreally going after a whole lot,\n\n299\n00:14:22.460 --> 00:14:26.132\nthat just needs this place to sit so\nthat they can be referenced when need be\n\n300\n00:14:26.132 --> 00:14:28.819\nwithout having to take up\nthe space on the VHD itself.\n\n301\n00:14:28.819 --> 00:14:31.393\n&gt;&gt; Yeah,\nit's kind of a way of doing d duplication.\n\n302\n00:14:31.393 --> 00:14:32.685\n&gt;&gt; Yeah, that's a good way to put it.\n\n303\n00:14:32.685 --> 00:14:36.722\n&gt;&gt; It's single instancing the operating\nsystem files, which is fantastic,\n\n304\n00:14:36.722 --> 00:14:37.360\nall right.\n\n305\n00:14:38.550 --> 00:14:43.433\nAnd you don't have to sysprep it like\nI do when I need two new machines\n\n306\n00:14:43.433 --> 00:14:47.814\nthat I can network together and\ninstall services on and run.\n\n307\n00:14:47.814 --> 00:14:52.225\nYou could make a differencing disk\nbased off of a fully running server.\n\n308\n00:14:52.225 --> 00:14:56.255\nMaybe you wanna do some testing, but you\ndon't want to mess up the original server.\n\n309\n00:14:56.255 --> 00:14:57.747\nI don't know,\nI'm trying to give another scenario.\n\n310\n00:14:57.747 --> 00:15:00.495\n&gt;&gt; Do you want me to, I'll give you guys,\nthis little free, all right.\n\n311\n00:15:00.495 --> 00:15:04.115\nFrom a guy that's been in the field and\nI hate sysprepping things.\n\n312\n00:15:04.115 --> 00:15:05.655\nYou don't have to sysprep.\n\n313\n00:15:05.655 --> 00:15:10.647\nYou can just take the computer that you\ncloned or you VMSed, whatever you've done,\n\n314\n00:15:10.647 --> 00:15:14.862\nkeep it off the network, rename it,\nplug it into the network, log in,\n\n315\n00:15:14.862 --> 00:15:17.279\njoin it to your domain and you're done.\n\n316\n00:15:17.279 --> 00:15:18.246\n[LAUGH]\n&gt;&gt; But usually,\n\n317\n00:15:18.246 --> 00:15:20.151\nit does work [CROSSTALK] gonna try.\n\n318\n00:15:20.151 --> 00:15:23.370\nBut then, we do have to worry about\nobviously the licensing with Microsoft-\n\n319\n00:15:23.370 --> 00:15:24.660\n&gt;&gt; Yes, have a license.\n\n320\n00:15:24.660 --> 00:15:26.963\nUsually, this is a volume license\nagreement happening there.\n\n321\n00:15:26.963 --> 00:15:27.554\n[LAUGH]\n&gt;&gt; And\n\n322\n00:15:27.554 --> 00:15:30.392\nthe only problem I've seen with that is\nsometimes we end up with where it won't\n\n323\n00:15:30.392 --> 00:15:32.510\njoin back to the domain,\nbecause it sees a duplicate sys.\n\n324\n00:15:32.510 --> 00:15:33.850\n&gt;&gt; I've never had that problem.\n\n325\n00:15:33.850 --> 00:15:36.040\nI've never had, not one time.\n\n326\n00:15:36.040 --> 00:15:39.710\n&gt;&gt; I have had machines where it\nwon't join the domain anymore,\n\n327\n00:15:39.710 --> 00:15:43.040\nand it says I can't do it\nbecause I already exist.\n\n328\n00:15:43.040 --> 00:15:45.640\n&gt;&gt; Right, because you have them\nboth connected to the network.\n\n329\n00:15:45.640 --> 00:15:47.890\nYou have to take one\noff the network first,\n\n330\n00:15:47.890 --> 00:15:50.150\nthen rename it,\nplug it back into the network.\n\n331\n00:15:50.150 --> 00:15:51.425\nJoin to the domain, no problems.\n\n332\n00:15:51.425 --> 00:15:53.490\n&gt;&gt; Gotcha, so let's put it into use.\n\n333\n00:15:53.490 --> 00:15:59.573\nWhat I've got here on my machine, I'm back\non my Server 2016 Hyper-V host, VM host,\n\n334\n00:15:59.573 --> 00:16:05.596\nand I've created, ahead of time, I created\na Virtual machine running Server 2016.\n\n335\n00:16:05.596 --> 00:16:08.887\nI sysprepped it using the Windows\noperating system sysprep command.\n\n336\n00:16:08.887 --> 00:16:14.870\nGeneralize/oobe/shutdown were\nthe switches I used with sysprep.\n\n337\n00:16:14.870 --> 00:16:15.760\nSo it shuts down.\n\n338\n00:16:15.760 --> 00:16:22.600\nSo now I've got this generalized image of\nWindows Server 2016 on this hard drive.\n\n339\n00:16:22.600 --> 00:16:25.580\nThe hard drive is located right over here.\n\n340\n00:16:25.580 --> 00:16:27.470\nThere it is, right there, 2016 sysprepped.\n\n341\n00:16:27.470 --> 00:16:29.720\nThat's the VHD for that machine.\n\n342\n00:16:29.720 --> 00:16:32.750\nSo now I wanna whip up a new 2016 server.\n\n343\n00:16:32.750 --> 00:16:35.850\nBut I don't wanna go through\nthe trouble of getting the disk,\n\n344\n00:16:35.850 --> 00:16:39.140\nor mounting up the ISO, and\ngoing through that entire process.\n\n345\n00:16:39.140 --> 00:16:43.607\nIt's a lengthy, even 2016,\nwhich is pretty fast, it's 15, 20 minutes,\n\n346\n00:16:43.607 --> 00:16:46.040\nprobably, to install the operating system.\n\n347\n00:16:46.040 --> 00:16:48.657\n&gt;&gt; I remember it used to\ntake like over an hour.\n\n348\n00:16:48.657 --> 00:16:49.957\n[LAUGH]\n&gt;&gt; I know [CROSSTALK]\n\n349\n00:16:49.957 --> 00:16:51.536\n&gt;&gt; We're complaining about 20 minutes.\n\n350\n00:16:51.536 --> 00:16:54.091\n&gt;&gt; [CROSSTALK] [LAUGH] all right.\n\n351\n00:16:54.091 --> 00:16:58.559\nSo what I'm gonna do is I'm gonna create\na new differencing drive based off of that\n\n352\n00:16:58.559 --> 00:17:00.110\nsysprepped drive.\n\n353\n00:17:00.110 --> 00:17:03.301\nSo I'm gonna click New &gt; Hard Drive.\n\n354\n00:17:03.301 --> 00:17:06.109\nNot creating the machine, yet,\nI'm creating a new hard drive.\n\n355\n00:17:06.109 --> 00:17:09.810\nCuz remember, when you go through\nthe New Machine Wizard you get one choice.\n\n356\n00:17:09.810 --> 00:17:12.601\nWell, you get a choice of\neither attaching an existing or\n\n357\n00:17:12.601 --> 00:17:15.340\ncreate a dynamically expanding VHDX.\n\n358\n00:17:15.340 --> 00:17:18.020\nSo I'm gonna click Next\non my New Disk Wizard.\n\n359\n00:17:18.020 --> 00:17:21.160\nI'll use VHDX, and I'll click Next.\n\n360\n00:17:21.160 --> 00:17:24.370\nI'm gonna choose Differencing for\nthe disk type.\n\n361\n00:17:25.740 --> 00:17:27.380\nI'll click Next.\n\n362\n00:17:27.380 --> 00:17:27.889\nI'll give it a name.\n\n363\n00:17:27.889 --> 00:17:32.034\nI'll call it diff01.vhdx.\n\n364\n00:17:32.034 --> 00:17:34.622\nI'll click Next.\n\n365\n00:17:34.622 --> 00:17:37.955\nI'll just dump it in the root\nof virtuals there, that's fine.\n\n366\n00:17:37.955 --> 00:17:42.090\nOr actually, I'm sorry, at this step,\nthis is where the Wizard changes.\n\n367\n00:17:42.090 --> 00:17:46.700\nSpecify the virtual hard disk that\nyou want to use as the parent for\n\n368\n00:17:46.700 --> 00:17:49.050\nthe new differencing virtual hard disk.\n\n369\n00:17:49.050 --> 00:17:50.110\nWhere is that parent?\n\n370\n00:17:50.110 --> 00:17:53.103\nIf we go back to my drawing,\nit's wanting to know where this disk is.\n\n371\n00:17:53.103 --> 00:17:54.486\nI'm creating this one.\n\n372\n00:17:54.486 --> 00:17:57.201\nWhere is this one located at?\n\n373\n00:17:57.201 --> 00:18:03.706\nSo I'm gonna browse into that 2016\nsysprepped &gt; Virtual Hard Drives.\n\n374\n00:18:03.706 --> 00:18:08.826\nI'll select that drive,\nI'll click Next &gt; Finish.\n\n375\n00:18:12.659 --> 00:18:15.201\nThere we go, so\nnow I got a new hard drive.\n\n376\n00:18:15.201 --> 00:18:18.080\nNow, I'm gonna create\na new virtual machine.\n\n377\n00:18:18.080 --> 00:18:22.484\nNew &gt; Virtual Machine &gt; Next on my Wizard.\n\n378\n00:18:22.484 --> 00:18:24.853\nI'll call this one diff01, as well.\n\n379\n00:18:24.853 --> 00:18:28.858\nWe'll click Next.\n\n380\n00:18:28.858 --> 00:18:32.387\nI'll go ahead and do a Gen II,\nwe'll click Next.\n\n381\n00:18:32.387 --> 00:18:38.780\nI'll give it 2048 for memory, Next,\nnot worried about networking.\n\n382\n00:18:38.780 --> 00:18:45.660\nVirtual hard drive &gt; Use an existing\nvirtual hard disk &gt; Browse.\n\n383\n00:18:45.660 --> 00:18:48.300\nAnd don't go find the sysprepped drive.\n\n384\n00:18:48.300 --> 00:18:50.891\nFind the differencing drive\nthat you just created.\n\n385\n00:18:50.891 --> 00:18:54.855\nAnd click Open &gt; Next &gt; Finish,\n\n386\n00:18:54.855 --> 00:18:58.683\nand now let's see what it does.\n\n387\n00:18:58.683 --> 00:19:00.715\nI'm gonna double-click\non it to connect to it.\n\n388\n00:19:00.715 --> 00:19:03.896\nI'm gonna start it up,\nand let's see what we got.\n\n389\n00:19:06.531 --> 00:19:12.172\nWe'll give it just a second,\nFor it to boot up.\n\n390\n00:19:12.172 --> 00:19:16.363\nAnd what we should have is\nbasically coming out of sysprepped.\n\n391\n00:19:16.363 --> 00:19:19.011\nBecause I sysprepped that other drive,\nshut it down,\n\n392\n00:19:19.011 --> 00:19:21.770\nand then made this differencing drive.\n\n393\n00:19:21.770 --> 00:19:22.950\nSo give it just a second.\n\n394\n00:19:22.950 --> 00:19:26.960\nWhile it's doing that, we'll come back and\ncheck on it, I'm gonna make another one.\n\n395\n00:19:26.960 --> 00:19:31.953\nI'm gonna click New &gt; Hard Drive &gt;\n\n396\n00:19:31.953 --> 00:19:36.289\nNext &gt; VHDX &gt; Differencing.\n\n397\n00:19:36.289 --> 00:19:40.590\nI'll call this diff02.vhdx, Next.\n\n398\n00:19:44.660 --> 00:19:46.360\nWhere's the parent?\n\n399\n00:19:46.360 --> 00:19:48.550\nSame parent.\n\n400\n00:19:48.550 --> 00:19:55.580\nVirtual hard disks &gt;\nsysprepped &gt; Next &gt; Finish.\n\n401\n00:19:55.580 --> 00:19:58.512\nAnd now I'm gonna make\nanother virtual machine.\n\n402\n00:19:58.512 --> 00:20:04.077\nNew &gt; Virtual Machine, I'll click Next\n\n403\n00:20:04.077 --> 00:20:10.970\n&gt; diff02 &gt; Next &gt; Generation II &gt; Next.\n\n404\n00:20:10.970 --> 00:20:12.190\nIt doesn't have to be Generation II for\nthis.\n\n405\n00:20:12.190 --> 00:20:16.370\nI just use them cuz they're the new and\ngreatest, latest stuff.\n\n406\n00:20:16.370 --> 00:20:20.578\nNext &gt; Next &gt; Use an existing &gt; Browse,\n\n407\n00:20:20.578 --> 00:20:27.807\nfind my diff02 drive that we just created,\n&gt; Open &gt; Next &gt; Finish.\n\n408\n00:20:30.281 --> 00:20:31.419\nAnd now let's go check.\n\n409\n00:20:31.419 --> 00:20:36.572\nWe'll go ahead and start that up,\nand I'll check on diff01.\n\n410\n00:20:38.871 --> 00:20:42.805\nAnd it is booting up,\nstill, slowly, but surely.\n\n411\n00:20:42.805 --> 00:20:46.420\nSo we'll give it just a second,\nbut think about what we just did.\n\n412\n00:20:46.420 --> 00:20:49.223\nAnd you'll see, these are full,\nrunning Server 2016 machines.\n\n413\n00:20:49.223 --> 00:20:51.990\nJust takes a minute for that initial boot.\n\n414\n00:20:51.990 --> 00:20:54.280\n2016 is already installed, but\n\n415\n00:20:54.280 --> 00:20:59.520\nonly one parent hard drive\nhas 2016 installed on it.\n\n416\n00:20:59.520 --> 00:21:04.440\nIf we look at the size,\nthat 2016 hard drive, the sysprepped one,\n\n417\n00:21:04.440 --> 00:21:09.447\nthe parent drive, is 10.3 and\na little over 10 gigabytes in size.\n\n418\n00:21:09.447 --> 00:21:15.695\nWe go to take a look at diff01 and\ndiff02, look, diff01, one gigabyte.\n\n419\n00:21:15.695 --> 00:21:20.030\ndiff02 hasn't finished up booting and\nfinishing the sysprep process.\n\n420\n00:21:20.030 --> 00:21:21.710\nYou can see it growing in size.\n\n421\n00:21:21.710 --> 00:21:23.450\nIt'll get to about a gigabyte in size.\n\n422\n00:21:24.860 --> 00:21:29.640\nSo much,\nmuch smaller than a full-blown machine.\n\n423\n00:21:29.640 --> 00:21:32.450\n&gt;&gt; And do we have to worry about\nperformance too much when it comes\n\n424\n00:21:32.450 --> 00:21:33.040\nto this?\n\n425\n00:21:33.040 --> 00:21:35.515\n&gt;&gt; A little bit.\nThis is not something you'd probably do in\n\n426\n00:21:35.515 --> 00:21:37.020\na production environment.\n\n427\n00:21:38.140 --> 00:21:42.640\nIt's really more for\ntesting and development.\n\n428\n00:21:42.640 --> 00:21:48.332\nLike I said, I keep a sysprep version\nof 2016, 2012 R2, 2012, 2008 R2.\n\n429\n00:21:48.332 --> 00:21:51.163\nI have sysprep versions\nof those drives kept.\n\n430\n00:21:51.163 --> 00:21:55.405\nAnd whenever I need a new machine,\nI can just spin up a differencing disk.\n\n431\n00:21:55.405 --> 00:22:00.260\nAnd I've got an instant virtual\nmachine running that operating system.\n\n432\n00:22:00.260 --> 00:22:02.060\nDo whatever I want to it.\n\n433\n00:22:02.060 --> 00:22:03.510\nThrow it away when I'm done with it.\n\n434\n00:22:03.510 --> 00:22:07.640\nBecause I know I can spin up another,\nbrand-new 2016 machine instantly.\n\n435\n00:22:07.640 --> 00:22:09.640\nAnd do whatever I want.\n\n436\n00:22:09.640 --> 00:22:10.920\nBut there is some contention.\n\n437\n00:22:10.920 --> 00:22:13.810\nBecause at this point,\nI've got two machines\n\n438\n00:22:13.810 --> 00:22:18.520\nwith differencing disks both pointing\nback to the same parent drive.\n\n439\n00:22:18.520 --> 00:22:20.961\nSo there's gonna be some contention for\nthat parent drive.\n\n440\n00:22:20.961 --> 00:22:26.570\nHere, you can see me just finishing\nup the sysprep process on diff01.\n\n441\n00:22:28.090 --> 00:22:33.130\nChoose my keyboard layout,\nit's thinking about it.\n\n442\n00:22:33.130 --> 00:22:37.233\nI'll accept their license, I'll go ahead\nand enter in a password real quick.\n\n443\n00:22:37.233 --> 00:22:40.414\nAnd it's gonna finish up my settings.\n\n444\n00:22:40.414 --> 00:22:43.940\nAnd while it's doing that,\nwe'll go check on diff02.\n\n445\n00:22:43.940 --> 00:22:50.404\nAnd it's still finishing up\nthe boot process there, as well.\n\n446\n00:22:50.404 --> 00:22:52.982\nSo I think we've seen probably enough.\n\n447\n00:22:52.982 --> 00:22:55.176\nWe can come back and\ncheck on this if we want.\n\n448\n00:22:55.176 --> 00:22:57.860\nWe'll go back to one.\n\n449\n00:22:57.860 --> 00:22:59.042\nIt's probably done by now.\n\n450\n00:22:59.042 --> 00:23:02.690\nThere's diff01, ready to rock and roll.\n\n451\n00:23:02.690 --> 00:23:04.780\n&gt;&gt; That was a lot less\nthan 20 to 30 minutes.\n\n452\n00:23:04.780 --> 00:23:08.540\n&gt;&gt; Absolutely, as far as trying\nto install this from scratch.\n\n453\n00:23:08.540 --> 00:23:11.510\nAnd the cool thing is, again,\nthink back to the drawing.\n\n454\n00:23:11.510 --> 00:23:13.780\nI can do whatever I want to this node.\n\n455\n00:23:13.780 --> 00:23:18.050\nInstall DNS, change its name,\nchange its IP address.\n\n456\n00:23:18.050 --> 00:23:20.942\nAll that stored here,\nit's not gonna affect node02 at all.\n\n457\n00:23:20.942 --> 00:23:23.578\nIt can have a different name,\ndifferent IP address, different services.\n\n458\n00:23:23.578 --> 00:23:25.800\nI could Service Pack it.\n\n459\n00:23:25.800 --> 00:23:27.870\nI could do updates to this one,\nbut not this one.\n\n460\n00:23:29.290 --> 00:23:30.694\nThat's the thing.\nThese are completely different machines.\n\n461\n00:23:30.694 --> 00:23:33.530\nThey're just sharing the same parent disk.\n\n462\n00:23:33.530 --> 00:23:37.721\nAnything I did to the parent disk would\nbe available in the differencing disk,\n\n463\n00:23:37.721 --> 00:23:38.238\nthough.\n\n464\n00:23:38.238 --> 00:23:43.057\nWhat if instead of just installing 2016,\nand in sysprepping it, shutting it down,\n\n465\n00:23:43.057 --> 00:23:45.899\nI installed 2016 and\nI added some other things?\n\n466\n00:23:45.899 --> 00:23:50.260\nI did some basic configuration to it,\nthen I sysprepped it and shut it down?\n\n467\n00:23:50.260 --> 00:23:53.623\nWell, that would be present\nin both of these guys.\n\n468\n00:23:53.623 --> 00:23:57.307\nThat's what's cool about using these\ndifferencing drives in your tests or\n\n469\n00:23:57.307 --> 00:23:59.770\nyour development-type environment.\n\n470\n00:23:59.770 --> 00:24:03.250\nCaveat, or not really a caveat,\nbut a word of warning.\n\n471\n00:24:03.250 --> 00:24:06.970\nThis drive cannot change.\n\n472\n00:24:06.970 --> 00:24:08.646\nIt cannot change.\nIt cannot be modified.\n\n473\n00:24:08.646 --> 00:24:11.460\nI can never start this machine up again.\n\n474\n00:24:11.460 --> 00:24:15.510\nNormally, I delete this virtual machine\ncompletely to make sure I don't\n\n475\n00:24:15.510 --> 00:24:17.027\naccidentally start it up.\n\n476\n00:24:17.027 --> 00:24:20.220\nThen I'll go to the folder that\ncontains this parent disk.\n\n477\n00:24:20.220 --> 00:24:25.001\nAnd I will mark this drive as read-only,\nanother way of ensuring that no changes\n\n478\n00:24:25.001 --> 00:24:27.622\nare made by me or\nanybody else to that drive.\n\n479\n00:24:27.622 --> 00:24:32.486\nBecause if that drive changes,\nboth of these virtual machines will fail.\n\n480\n00:24:32.486 --> 00:24:36.097\nBecause they're gonna say, hey,\nthe parent drive has been modified.\n\n481\n00:24:36.097 --> 00:24:37.560\nI don't know what to do.\n\n482\n00:24:37.560 --> 00:24:42.900\nIt just freaks them out, they get lost,\nand they will fail to work.\n\n483\n00:24:42.900 --> 00:24:46.744\nSo something to keep in mind,\nyou must keep that drive safe.\n\n484\n00:24:46.744 --> 00:24:51.680\nMake sure that it, and here's the second\none, again, ready to rock and roll.\n\n485\n00:24:51.680 --> 00:24:54.300\nI could go through this,\nfinish it up, and we'd be good to go.\n\n486\n00:24:55.410 --> 00:24:57.610\nAnd I could spin up a third, or a fourth.\n\n487\n00:24:57.610 --> 00:24:58.550\nBut as Daniel pointed out,\n\n488\n00:24:58.550 --> 00:25:02.480\nwe will see some performance\ndegradation as we add more and more.\n\n489\n00:25:02.480 --> 00:25:06.420\nBecause they're all in contention for\naccessing the operating system files or\n\n490\n00:25:06.420 --> 00:25:10.020\nwhatever they have in common\nback on that parent drive.\n\n491\n00:25:10.020 --> 00:25:12.420\n&gt;&gt; All right, Mike,\nI know you got a little more to go.\n\n492\n00:25:12.420 --> 00:25:14.280\nAnd I told you,\nyou could have a longer episode.\n\n493\n00:25:14.280 --> 00:25:18.170\nBut I'm looking at this and I'm thinking,\nwe got a little bit of detail.\n\n494\n00:25:18.170 --> 00:25:20.842\nWe need to give these people\na good amount of time, so\n\n495\n00:25:20.842 --> 00:25:22.250\nI think a part two is in order.\n\n496\n00:25:22.250 --> 00:25:24.358\nBut today, differencing disks, man,\n\n497\n00:25:24.358 --> 00:25:28.576\nthat's a really good technology to wrap\nyour mind around, be able to work with.\n\n498\n00:25:28.576 --> 00:25:35.210\nCuz it's so convenient for you to be able\nto just spin up a drive or spin up a VM.\n\n499\n00:25:35.210 --> 00:25:38.660\nUse it to your heart's content,\ndestroy it to your heart's content, and\n\n500\n00:25:38.660 --> 00:25:39.547\nthen get rid of it.\n\n501\n00:25:39.547 --> 00:25:42.280\nAnd then make another one, or\nmake three others, do whatever.\n\n502\n00:25:42.280 --> 00:25:44.430\nAnd you do it within the span of minutes.\n\n503\n00:25:44.430 --> 00:25:49.180\nThat is the je ne sais quoi of being\nable to use differencing discs.\n\n504\n00:25:49.180 --> 00:25:52.810\nAnd you did a great job of\ngetting rid of the fog around it.\n\n505\n00:25:52.810 --> 00:25:54.173\nCuz it does seem to trip people up a lot.\n\n506\n00:25:54.173 --> 00:25:55.171\n&gt;&gt; It does.\n\n507\n00:25:55.171 --> 00:25:57.154\nLike I said, I use it here for\n\n508\n00:25:57.154 --> 00:26:01.130\nmost all my labs are based on\nthese differencing drives.\n\n509\n00:26:01.130 --> 00:26:05.485\nIf I need more than one machine,\ncuz it's a space-saver and a time-saver.\n\n510\n00:26:05.485 --> 00:26:09.000\n&gt;&gt; Yep, that being said guys,\nwe are gonna have a part two coming up.\n\n511\n00:26:09.000 --> 00:26:12.210\nWe got a little more about working\nwith these drives, and storage,\n\n512\n00:26:12.210 --> 00:26:15.250\nwhat's inside of virtual machines,\nand Hyper-V we want you to know.\n\n513\n00:26:15.250 --> 00:26:17.140\nSo hopefully we'll see you in part two.\n\n514\n00:26:17.140 --> 00:26:18.590\nMike, thanks for\njoining us today in part one.\n\n515\n00:26:18.590 --> 00:26:20.169\nWe'll look forward to seeing you there,\nas well.\n\n516\n00:26:20.169 --> 00:26:21.979\nBut we're gonna go ahead and\nsign off for this one.\n\n517\n00:26:21.979 --> 00:26:24.420\nFor ITProTV, I've been your host,\nDaniel Lowrie.\n\n518\n00:26:24.420 --> 00:26:25.265\n&gt;&gt; And I'm Mike Rodrick.\n\n519\n00:26:25.265 --> 00:26:26.344\n&gt;&gt; We'll see you next time.\n\n520\n00:26:26.344 --> 00:26:33.254\n[MUSIC]\n\n521\n00:26:33.254 --> 00:26:37.970\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "191183218"
        },
        {
          "description": "In this episode, Daniel and Mike finish up their exposition on Hyper-V Storage by showing and explaining how to modify and resize VHDs. Lastly they explore the wonderful world of Hyper-V Checkpoints for quick backup/restore of VMs.",
          "length": "1522",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-3-2-configure_hyper_v_storage_pt2-110916-PGM.00_25_09_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-3-2-configure_hyper_v_storage_pt2-110916-PGM.00_25_09_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-3-2-configure_hyper_v_storage_pt2-110916-PGM.00_25_09_10.Still001-sm.jpg",
          "title": "Configure Hyper-V Storage Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:03.080\nWelcome to ITProTV I'm\nyour host Don Pezet.\n\n2\n00:00:03.080 --> 00:00:06.866\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.866 --> 00:00:08.308\n&gt;&gt; [MUSIC]\n\n4\n00:00:08.308 --> 00:00:12.307\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.307 --> 00:00:14.061\n&gt;&gt; All right greetings everyone and\n\n6\n00:00:14.061 --> 00:00:16.510\nwelcome to another great\nepisode of ITProTV.\n\n7\n00:00:16.510 --> 00:00:20.580\n&gt;&gt; I am your host Daniel Lowrie and\nwe are back with more on our series of\n\n8\n00:00:20.580 --> 00:00:23.910\nthe installation storage and\ncompute servers for Windows Server 2016.\n\n9\n00:00:23.910 --> 00:00:28.285\nAnd during it's part two on Hyper V\nstorage, is our good friend, Mr.\n\n10\n00:00:28.285 --> 00:00:29.260\nMike Rodrick.\n\n11\n00:00:29.260 --> 00:00:31.480\nMike, welcome back and I know we\nhave a little more to go through.\n\n12\n00:00:31.480 --> 00:00:32.860\nSo, we'll get right back to you.\n\n13\n00:00:32.860 --> 00:00:35.229\n&gt;&gt; We do, we got a little bit more,\nwe don't want to try to rush it, and\n\n14\n00:00:35.229 --> 00:00:37.560\nsqueeze it into that last one,\nso good call there.\n\n15\n00:00:37.560 --> 00:00:42.530\nWe're gonna take a look at\ncheckpoints as well as modifying and\n\n16\n00:00:42.530 --> 00:00:46.910\nresizing those good old VHD's or\nVirtual Hard Drives.\n\n17\n00:00:46.910 --> 00:00:48.490\nSo, we'll just dive right in.\n\n18\n00:00:48.490 --> 00:00:50.600\nThis is a part two,\nwe've been already kind of going.\n\n19\n00:00:50.600 --> 00:00:51.980\nWe'll jump right back into it.\n\n20\n00:00:51.980 --> 00:00:53.680\nSo, let's take a look at my screen here.\n\n21\n00:00:53.680 --> 00:00:57.250\nAnd, for the first, we'll start of talking\nabout just modifying and resizing.\n\n22\n00:00:57.250 --> 00:01:00.460\nI like how they differentiate\nbetween modifying and resizing.\n\n23\n00:01:00.460 --> 00:01:03.140\nI think resizing is\na form of modification.\n\n24\n00:01:03.140 --> 00:01:06.490\n&gt;&gt; Right, one is more an umbrella\nterm one is a more specific idea.\n\n25\n00:01:06.490 --> 00:01:07.080\n&gt;&gt; Yeah, yeah.\n\n26\n00:01:07.080 --> 00:01:08.390\nSo do them both, right?\n\n27\n00:01:08.390 --> 00:01:12.890\nSo anyway, let's take a look\nat what we can do with that.\n\n28\n00:01:12.890 --> 00:01:14.640\nFirst off, you need to shut it down.\n\n29\n00:01:14.640 --> 00:01:17.790\nBecause if I take a look at\nthe settings here on one of my running\n\n30\n00:01:17.790 --> 00:01:22.400\nVM's Right click settings and\nagain take a look at this hard drive.\n\n31\n00:01:22.400 --> 00:01:25.100\nI'll see that I have an edit button but\n\n32\n00:01:25.100 --> 00:01:29.020\nit's telling me that actually\nisn't that interesting?\n\n33\n00:01:29.020 --> 00:01:31.330\nIt looks like it's going to let\nme make some changes to it.\n\n34\n00:01:31.330 --> 00:01:32.260\n&gt;&gt; Hey, hey.\n\n35\n00:01:32.260 --> 00:01:34.430\n&gt;&gt; Not all of my changes are available.\n\n36\n00:01:34.430 --> 00:01:37.710\nExpand or merge all right.\n\n37\n00:01:37.710 --> 00:01:41.450\nThis could be because, hm interesting.\n\n38\n00:01:41.450 --> 00:01:43.260\nMaybe I was looking at\na Gen 1 machine earlier.\n\n39\n00:01:43.260 --> 00:01:44.720\nWe'll compare and contrast.\n\n40\n00:01:44.720 --> 00:01:46.440\nWe'll take a look at that.\n\n41\n00:01:46.440 --> 00:01:49.460\nSo back to what we need to know for\nthe exam.\n\n42\n00:01:49.460 --> 00:01:52.270\nAll I did again I'll cancel this out so\nyou can see it again.\n\n43\n00:01:52.270 --> 00:01:54.530\nI pulled up the setting for\nthe virtual machine.\n\n44\n00:01:54.530 --> 00:01:58.530\nI went to the hard drive and\nI've got an edit button over here.\n\n45\n00:01:58.530 --> 00:02:00.030\nI click Edit and\n\n46\n00:02:00.030 --> 00:02:03.960\nthis allows me to make changes to\nthese drives as where is it located?\n\n47\n00:02:03.960 --> 00:02:07.830\nThat part is grayed out, because pretty\nmuch told at what drive I'm selecting it\n\n48\n00:02:07.830 --> 00:02:09.890\non the left side and choosing Edit.\n\n49\n00:02:09.890 --> 00:02:13.130\nYou can see that editing the following\ntypes of virtual hard disks\n\n50\n00:02:13.130 --> 00:02:15.290\nmight result in data loss.\n\n51\n00:02:15.290 --> 00:02:17.810\nVirtual hard disks in\na differencing disk chain\n\n52\n00:02:17.810 --> 00:02:20.260\nthat have child virtual hard\ndisks associated with them.\n\n53\n00:02:20.260 --> 00:02:24.720\nThat's what I was just saying in that last\nepisode, never modify the parent drive.\n\n54\n00:02:24.720 --> 00:02:28.670\nYou can actually have multiple\nlevels of differencing drives too.\n\n55\n00:02:28.670 --> 00:02:31.950\nTwisty, I don't know where that\nwould actually come into play,\n\n56\n00:02:31.950 --> 00:02:36.210\nbut maybe a temporary test for something,\nyou just wanna store changes in\n\n57\n00:02:36.210 --> 00:02:38.830\na different drive and\nbe able to blow it away.\n\n58\n00:02:38.830 --> 00:02:40.820\n&gt;&gt; I'm too paranoid to\ntrust things like that.\n\n59\n00:02:40.820 --> 00:02:42.490\nMy data is precious to me.\n\n60\n00:02:42.490 --> 00:02:43.730\n[LAUGH]\n&gt;&gt; Because at that point,\n\n61\n00:02:43.730 --> 00:02:45.180\nI'm trying to think if it would even work.\n\n62\n00:02:45.180 --> 00:02:48.950\nIf parent and child,\nnow that's a parent for this child,\n\n63\n00:02:48.950 --> 00:02:50.590\nthat drive can't change any, wow.\n\n64\n00:02:50.590 --> 00:02:52.230\nYeah.\n&gt;&gt; I think the smoke I see is coming out\n\n65\n00:02:52.230 --> 00:02:52.940\nof your ears right now.\n\n66\n00:02:52.940 --> 00:02:54.681\nDo you see that ladies and gentlemen?\n\n67\n00:02:54.681 --> 00:02:56.653\n[LAUGH]\n&gt;&gt; [LAUGH] That would be crazy.\n\n68\n00:02:56.653 --> 00:03:00.010\nVirtual Hard Disc associated with\nvirtual machine checkpoints.\n\n69\n00:03:00.010 --> 00:03:01.840\nNow, if we start making changes,\n\n70\n00:03:01.840 --> 00:03:06.180\nthe problem is the other things associated\nwith it, parent drive, child drive, or\n\n71\n00:03:06.180 --> 00:03:12.420\ncheckpoint that are supposed to get us the\nability to go back in time on that drive.\n\n72\n00:03:12.420 --> 00:03:17.520\nYou modify that and all those other\nthings are gonna break, all right?\n\n73\n00:03:17.520 --> 00:03:18.360\nSo, but let's go ahead.\n\n74\n00:03:18.360 --> 00:03:19.196\nI'm gonna click Next.\n\n75\n00:03:19.196 --> 00:03:23.930\nOn this guy, I can expand the capacity\nof the virtual hard drive.\n\n76\n00:03:23.930 --> 00:03:27.560\nI can merge the changes in a differencing\ndisk into the parent disk.\n\n77\n00:03:27.560 --> 00:03:31.600\nLet's say I had the differencing thing\nlike we did in here, and I decided you\n\n78\n00:03:31.600 --> 00:03:35.380\nknow what, I really wanna keep this\nserver, I don't want two separate drives,\n\n79\n00:03:35.380 --> 00:03:37.610\ntake the performance hit\nthat's associated with that.\n\n80\n00:03:37.610 --> 00:03:40.250\nI don't need the second server\nthat was based off that parent,\n\n81\n00:03:40.250 --> 00:03:41.960\nI'm gonna blow it away anyway.\n\n82\n00:03:41.960 --> 00:03:47.140\nSo when I'm left with just one child and\nparent, I can merge that differencing disc\n\n83\n00:03:47.140 --> 00:03:51.420\nback with the parent, make a single\nVHD out of it, end up with one machine\n\n84\n00:03:51.420 --> 00:03:55.010\nthat doesn't have that differencing\ndisc in it as well or anymore.\n\n85\n00:03:55.010 --> 00:03:55.550\nRight?\n\n86\n00:03:55.550 --> 00:03:57.450\nSo those are my options there.\n\n87\n00:03:57.450 --> 00:03:58.980\nI'll do expand.\n\n88\n00:03:58.980 --> 00:04:01.610\nI'll click next,\nyou can see I can grow this guy.\n\n89\n00:04:01.610 --> 00:04:03.330\nMaybe we bump this up to 150.\n\n90\n00:04:03.330 --> 00:04:09.580\nI'll click next, and finish,\nand then it blows up.\n\n91\n00:04:09.580 --> 00:04:10.355\nNo, just kidding.\n\n92\n00:04:10.355 --> 00:04:11.210\n&gt;&gt; [LAUGH]\n&gt;&gt; Look at that.\n\n93\n00:04:11.210 --> 00:04:12.800\nIt's good to go.\n\n94\n00:04:12.800 --> 00:04:15.380\nMy drive is fine.\n\n95\n00:04:15.380 --> 00:04:18.820\nSo you can even do that\non a running machine.\n\n96\n00:04:18.820 --> 00:04:22.940\nNotice I couldn't shrink it in this case,\nbut I could expand it.\n\n97\n00:04:22.940 --> 00:04:23.780\nThat's gonna come into play.\n\n98\n00:04:23.780 --> 00:04:25.550\nThat's with the whole\nwhether it's running or\n\n99\n00:04:25.550 --> 00:04:28.400\nnot the option that you're going to get.\n\n100\n00:04:28.400 --> 00:04:30.040\nAlright, I'll click okay on this.\n\n101\n00:04:30.040 --> 00:04:35.540\nJust take a look at, what did I use,\nlet's see if Don has one that's\n\n102\n00:04:35.540 --> 00:04:40.390\na, actually,\nI know my free BSD is a Gen 1.\n\n103\n00:04:40.390 --> 00:04:44.760\nSo this guy's running as\nwell I'll go settings.\n\n104\n00:04:44.760 --> 00:04:46.780\nAnd I'm gonna go to that drive.\n\n105\n00:04:48.830 --> 00:04:53.050\nThat's a VHDX but notice my edit is gone.\n\n106\n00:04:53.050 --> 00:04:53.730\nRight?\n\n107\n00:04:53.730 --> 00:04:57.710\nSo with these Gen 1's I'm not\nable to modify the hard drive,\n\n108\n00:04:57.710 --> 00:05:00.760\neven though both of them are VHDX's,\nGen 1 versus Gen 2,\n\n109\n00:05:00.760 --> 00:05:06.080\ncannot modify the hard drive on a Gen 1\nmachine While it's running, all right.\n\n110\n00:05:06.080 --> 00:05:08.190\nSo, I'd have to shut it down to do that.\n\n111\n00:05:08.190 --> 00:05:13.010\nSo, let's take a look now at\na machine that is not running, but\n\n112\n00:05:13.010 --> 00:05:17.100\nis a Gen 2, and see if those changes, or\nsee what the different options are there.\n\n113\n00:05:17.100 --> 00:05:22.100\nGo back into settings,\ngonna find one of my hard drives, and\n\n114\n00:05:22.100 --> 00:05:26.960\nI'm not able to edit that one because that\nis actually, what did I do with that one?\n\n115\n00:05:26.960 --> 00:05:27.460\nThis one.\n\n116\n00:05:28.950 --> 00:05:30.530\n&gt;&gt; Cuz you have check points.\n\n117\n00:05:30.530 --> 00:05:31.870\n&gt;&gt; Do I have a check, you know what?\n\n118\n00:05:31.870 --> 00:05:33.300\nI do have checkpoints on this one.\n\n119\n00:05:33.300 --> 00:05:34.770\nIt says right there, good job.\n\n120\n00:05:34.770 --> 00:05:38.400\nYeah, I forgot I set up checkpoints on\nthese cuz we're gonna use these later on\n\n121\n00:05:38.400 --> 00:05:39.810\nin our storage pool lab.\n\n122\n00:05:39.810 --> 00:05:41.630\nSo that's not a good one to do.\n\n123\n00:05:41.630 --> 00:05:44.420\nLet's try another one,\nwhat about this one?\n\n124\n00:05:44.420 --> 00:05:47.080\nLook, no checkpoints, so\nwe're good to go there.\n\n125\n00:05:47.080 --> 00:05:49.660\nAll right, click on it and\nchoose Settings.\n\n126\n00:05:51.470 --> 00:05:56.631\nAnd I'll go to the hard drive and\nI'll click Edit.\n\n127\n00:05:56.631 --> 00:06:00.170\nAnd I'll click Next and\nnotice I have a third option here.\n\n128\n00:06:00.170 --> 00:06:02.020\nI've got expand.\n\n129\n00:06:02.020 --> 00:06:07.900\nI don't have the whole I forget\nnow what they called that option.\n\n130\n00:06:07.900 --> 00:06:10.050\nBut I can't merge, so\nI can't merge the drives.\n\n131\n00:06:10.050 --> 00:06:13.180\nCuz this isn't a differencing drive, so\nit doesn't show me the merge option.\n\n132\n00:06:13.180 --> 00:06:17.100\nBut it does show me Compact and\nConvert, all right?\n\n133\n00:06:17.100 --> 00:06:21.920\nCompact is gonna allow me to shrink\nthe compacted contents of the drive.\n\n134\n00:06:21.920 --> 00:06:22.670\nNotice what it says here,\n\n135\n00:06:22.670 --> 00:06:27.040\nthe storage capacity of the virtual\nhard disk remains the same.\n\n136\n00:06:27.040 --> 00:06:27.680\nRight?\n\n137\n00:06:27.680 --> 00:06:32.080\nSo it's kind a way,\nyour virtual hard drive is,\n\n138\n00:06:32.080 --> 00:06:34.800\nif it's a 127 gigabyte\nexpanding hard drive.\n\n139\n00:06:34.800 --> 00:06:39.320\nWell as it expands out,\nit grows in physical size on the drive.\n\n140\n00:06:39.320 --> 00:06:43.330\nOver all capacity is still 127 gigabytes\nbut only takes up 50 gigabytes on\n\n141\n00:06:43.330 --> 00:06:46.480\nyour disk because that's all\nthe data if you put in there.\n\n142\n00:06:46.480 --> 00:06:50.210\nWell, if you delete data,\nthat size on disk doesn't change.\n\n143\n00:06:50.210 --> 00:06:53.130\nIt's still had it expanded out to 50,\nit's gonna stay at 50.\n\n144\n00:06:53.130 --> 00:06:58.050\nIt can grow up to 127, but it's not\ngonna shrink as you delete information.\n\n145\n00:06:58.050 --> 00:06:59.510\nCompacting will.\n\n146\n00:06:59.510 --> 00:07:03.580\nCompacting will say, all right,\nI'm gonna take that and compact it up.\n\n147\n00:07:03.580 --> 00:07:06.300\nAnd it might get it done to 40 gigs,\nright.\n\n148\n00:07:06.300 --> 00:07:10.730\nOverall size total expandable\ncapacity is still 127.\n\n149\n00:07:10.730 --> 00:07:14.050\nBut the size on disk is now\n40 instead of 50, all right.\n\n150\n00:07:14.050 --> 00:07:18.710\nSo you just compacting the data\nup getting rid of the new,\n\n151\n00:07:18.710 --> 00:07:20.630\nreclaiming is far way a better word.\n\n152\n00:07:20.630 --> 00:07:25.690\nReclaiming a new space of other drive\nbecause now a disk is only 40 gigs,\n\n153\n00:07:25.690 --> 00:07:28.590\nthat's 10 gigs of disk space I\ncould use for something else.\n\n154\n00:07:28.590 --> 00:07:30.030\nAnd that's just one example.\n\n155\n00:07:30.030 --> 00:07:31.460\nIf I did that over multiple machines,\n\n156\n00:07:31.460 --> 00:07:33.910\nmultiple drives,\nI could end up freeing up a lot of space.\n\n157\n00:07:33.910 --> 00:07:36.050\nSo that's what compact is for.\n\n158\n00:07:36.050 --> 00:07:40.980\nConvert allows allows me to convert\nthe drive into different types.\n\n159\n00:07:40.980 --> 00:07:43.050\nI'll go ahead and\nchoose Convert and I'll click Next.\n\n160\n00:07:44.590 --> 00:07:46.750\nCompact, if you wanted just to see that.\n\n161\n00:07:46.750 --> 00:07:48.650\nNotice there's no other options.\n\n162\n00:07:48.650 --> 00:07:49.640\nIt's just going to compact it up.\n\n163\n00:07:49.640 --> 00:07:50.910\nIt's going to say, all right,\nI'll crush it down.\n\n164\n00:07:50.910 --> 00:07:54.180\nNot crush it, but\nI'll shrink it down as far as I can.\n\n165\n00:07:54.180 --> 00:07:56.667\nConvert, I get some new options over here.\n\n166\n00:07:56.667 --> 00:08:01.859\nI'll click Next, and I can go to VHD or\nVHDX, depending on what it is.\n\n167\n00:08:01.859 --> 00:08:07.811\nIt's currently A VHDX so\nI can convert this to VHD.\n\n168\n00:08:07.811 --> 00:08:11.000\nIf it was a VHD,\nI can convert it to a VHDX, right?\n\n169\n00:08:11.000 --> 00:08:16.710\nI can also change it from dynamic\nto fixed or back to dynamic.\n\n170\n00:08:17.730 --> 00:08:19.860\nIf it was a fixed change it to dynamic.\n\n171\n00:08:19.860 --> 00:08:25.320\nI can also chance where and\ngive it a new name.\n\n172\n00:08:25.320 --> 00:08:29.840\nAll right, so a few different things I can\ndo if I choose the whole convert option\n\n173\n00:08:29.840 --> 00:08:33.150\nand then expand, we just saw,\nthat's just gonna make that drive larger.\n\n174\n00:08:33.150 --> 00:08:35.740\nSo that's what I can do when\nit comes to managing or\n\n175\n00:08:35.740 --> 00:08:38.780\nmodifying these virtual hard drives.\n\n176\n00:08:38.780 --> 00:08:43.400\nUsing the little wizard the edit option\nunder the settings for the VM depending\n\n177\n00:08:43.400 --> 00:08:47.930\non a type of drives whether it's running\nor not that's gonna change the option, but\n\n178\n00:08:47.930 --> 00:08:52.200\nfor the most in general we\ncan compact this drives,\n\n179\n00:08:52.200 --> 00:08:57.030\nwe can convert this drives and\nwe can merge this drives.\n\n180\n00:08:57.030 --> 00:08:59.290\nAnd we can expand the drives, all right.\n\n181\n00:08:59.290 --> 00:09:02.640\nSo, those are the four different things\nyou can do when it comes to managing\n\n182\n00:09:02.640 --> 00:09:03.980\nyour virtual hard drives.\n\n183\n00:09:03.980 --> 00:09:06.050\n&gt;&gt; Yeah, it doesn't give you a lot\nof options when it comes to your\n\n184\n00:09:06.050 --> 00:09:06.750\nvirtual hard drives.\n\n185\n00:09:06.750 --> 00:09:09.560\nCuz they want you to be able to work\ninside of that virtual environment,\n\n186\n00:09:09.560 --> 00:09:11.540\njust like you would,\nand maybe even more so,\n\n187\n00:09:11.540 --> 00:09:14.210\nto be honest with you,\nthan you would in a physical world.\n\n188\n00:09:14.210 --> 00:09:16.140\nJust God, everything's going virtual now.\n\n189\n00:09:16.140 --> 00:09:20.140\nWhether you're gonna have an on site,\nor on-prem private cloud, or\n\n190\n00:09:20.140 --> 00:09:25.440\nsomething out in, like Azure or\nsomething, but you need to be very versed\n\n191\n00:09:25.440 --> 00:09:29.300\nin how to work with virtualized hard\ndrives, and virtualization in general.\n\n192\n00:09:29.300 --> 00:09:32.730\nSo, this is a really good thing for\nyou guys to get your feet wet with,\n\n193\n00:09:32.730 --> 00:09:35.560\nand understand how, and\nthe options that you have.\n\n194\n00:09:35.560 --> 00:09:39.160\nMike, really nice job of walking us\nthrough each one of the ones, and\n\n195\n00:09:39.160 --> 00:09:44.400\nhow we can expect to see them react,\nbased off of whether it's Gen 1.\n\n196\n00:09:44.400 --> 00:09:45.970\nAre they differencing?\n\n197\n00:09:45.970 --> 00:09:48.070\nThings change once you start changing.\n\n198\n00:09:48.070 --> 00:09:50.260\nSo you gotta be really familiar with that.\n\n199\n00:09:50.260 --> 00:09:51.150\nSo when you sit the test,\n\n200\n00:09:51.150 --> 00:09:54.240\nwith any question they throw at you,\nyou'll just hit it out of the park.\n\n201\n00:09:54.240 --> 00:09:58.190\nNow Mike, one of the greatest things about\nvirtualization, ever since virtualization\n\n202\n00:09:58.190 --> 00:10:05.030\nhas come out, I think, has been the\nability to say freeze this, this in time.\n\n203\n00:10:05.030 --> 00:10:10.750\nSo, when I screw this up, [LAUGH] I\ncan revert it back very very easily.\n\n204\n00:10:10.750 --> 00:10:14.353\nAnd we typical refer to these as\nsnapshots cuz that is what it was,\n\n205\n00:10:14.353 --> 00:10:19.260\nand still that nomenclature is around,\nbut Microsoft uses the term checkpoint.\n\n206\n00:10:19.260 --> 00:10:22.355\nWe saw how you can get in\ntrouble with them if you're not.\n\n207\n00:10:22.355 --> 00:10:25.120\n[LAUGH] Paying attention,\nthey can kind of hose you.\n\n208\n00:10:25.120 --> 00:10:27.616\nBut for the most part,\ncheckpoint is great technology.\n\n209\n00:10:27.616 --> 00:10:28.620\nTeach us, Obi-Wan.\n\n210\n00:10:28.620 --> 00:10:30.440\n[LAUGH]\n&gt;&gt; Absolutely, will do.\n\n211\n00:10:30.440 --> 00:10:34.835\nSo yeah, the first thing is, snapshot,\ncheckpoints, just a different term for\n\n212\n00:10:34.835 --> 00:10:36.840\nthe same thing in reality.\n\n213\n00:10:36.840 --> 00:10:42.240\nCheckpoint might be more accurate in\nits description, I guess, I don't know.\n\n214\n00:10:42.240 --> 00:10:45.990\nBut Microsoft wanted to go with checkpoint\nso they got away from the snapshots.\n\n215\n00:10:45.990 --> 00:10:48.650\nAll right, so what is it?\n\n216\n00:10:48.650 --> 00:10:50.030\nWell, Daniel gave you a great description.\n\n217\n00:10:50.030 --> 00:10:55.090\nIt's gonna let me really kind of freeze a\nmoment in time on that virtual machine so\n\n218\n00:10:55.090 --> 00:10:57.320\nI can go back to it if necessary.\n\n219\n00:10:57.320 --> 00:11:00.510\nSo if I'm getting ready to roll out\na service back that I haven't tested,\n\n220\n00:11:00.510 --> 00:11:02.280\nI can take a check point first.\n\n221\n00:11:02.280 --> 00:11:04.840\nDo that, if it bombs, if it fails.\n\n222\n00:11:04.840 --> 00:11:08.770\nI know I can go back to a known good\nspot and get that machine back up and\n\n223\n00:11:08.770 --> 00:11:12.140\nrunning without a lot of down time right?\n\n224\n00:11:12.140 --> 00:11:13.610\nOr if I'm experimenting.\n\n225\n00:11:13.610 --> 00:11:15.210\nI do this all the time.\n\n226\n00:11:15.210 --> 00:11:16.340\nI'll make check points.\n\n227\n00:11:16.340 --> 00:11:20.610\nBefore I install bigger\napplication like visual studio or\n\n228\n00:11:20.610 --> 00:11:25.390\nphoto shop, I will go and creat a check\npoint, install this if some fails or\n\n229\n00:11:25.390 --> 00:11:29.160\ngo horribly go wrong I go back to\nthe check point if everything works\n\n230\n00:11:29.160 --> 00:11:32.560\nfine I can just delete the check point\ni don't really need it any more.\n\n231\n00:11:32.560 --> 00:11:37.260\nI do it here when we are doing laps,I will\ncreate several check points along the way\n\n232\n00:11:37.260 --> 00:11:39.970\nso we don't have to wait for\nsomething to finish it for example.\n\n233\n00:11:39.970 --> 00:11:44.460\nThere are couple of different uses that\nyou would have for this checkpoints,\n\n234\n00:11:44.460 --> 00:11:49.430\nnow, other than a name my Microsoft\nchange checkpoints in 2016,\n\n235\n00:11:49.430 --> 00:11:53.680\nthat checkpoints where from snapshot\nto checkpoints I think, in 2008 or\n\n236\n00:11:53.680 --> 00:11:58.150\nmaybe in 2012, but\nin 2016 there is a bigger change.\n\n237\n00:11:58.150 --> 00:12:00.720\nAnd that is,\nhow do checkpoints actually work?\n\n238\n00:12:00.720 --> 00:12:02.670\nWhat they're doing in the background.\n\n239\n00:12:02.670 --> 00:12:07.040\nWe now have, what we call,\nproduction checkpoints and\n\n240\n00:12:07.040 --> 00:12:09.990\nstandard checkpoints, right?\n\n241\n00:12:09.990 --> 00:12:12.470\nBecause we learned,\nI'm sure you're in the same boat.\n\n242\n00:12:12.470 --> 00:12:15.230\nWe learned, don't use checkpoints\nin a production environment.\n\n243\n00:12:15.230 --> 00:12:17.690\nIt was test, test, test.\n\n244\n00:12:17.690 --> 00:12:19.940\nBut, in production environment\nyou could use them.\n\n245\n00:12:19.940 --> 00:12:23.570\nBut you wanted to get rid of them\nbecause of performance reasons.\n\n246\n00:12:23.570 --> 00:12:27.060\nIt basically made a kind of\ndifferencing disk is what it did.\n\n247\n00:12:27.060 --> 00:12:29.530\nThere's an AVHD file\nthat would get created.\n\n248\n00:12:29.530 --> 00:12:32.870\nAnd all your changes after\nyou made the check point\n\n249\n00:12:32.870 --> 00:12:35.740\nwould be written to that AVHD\ninstead of the real VHD.\n\n250\n00:12:35.740 --> 00:12:38.760\nSo if you wanted to go back\nto before the check point,\n\n251\n00:12:38.760 --> 00:12:43.090\nyou just delete the AVHD file In\nyour back the original drive, right?\n\n252\n00:12:43.090 --> 00:12:45.670\nSo it's kinda using differencing\ndrives in the background.\n\n253\n00:12:45.670 --> 00:12:48.700\nBut as I make one or two, or\nthree checkpoints on this machine,\n\n254\n00:12:48.700 --> 00:12:53.680\nI gotta read through three or\nfour virtual layers of hard drives\n\n255\n00:12:53.680 --> 00:12:57.770\nto get to the base operating system files\nfor example, the stuff that hasn't change.\n\n256\n00:12:57.770 --> 00:13:02.000\nSo I really did create\na performance degradation there.\n\n257\n00:13:02.000 --> 00:13:04.660\n&gt;&gt; Not to mention the storage\nthat you need to start\n\n258\n00:13:04.660 --> 00:13:08.640\nkeeping all this checkpoints around,\nwe used to get hands slap all the time.\n\n259\n00:13:08.640 --> 00:13:17.415\nWhat are this five\ncheckpoints that you have?\n\n260\n00:13:17.415 --> 00:13:21.325\nYeah, you can delete this.\n\n261\n00:13:21.325 --> 00:13:22.866\n&gt;&gt; [LAUGH]\n&gt;&gt; [CROSSTALK] [LAUGH]\n\n262\n00:13:22.866 --> 00:13:24.328\n&gt;&gt; Because it's a great point.\n\n263\n00:13:24.328 --> 00:13:26.600\nBecause originally we check points.\n\n264\n00:13:26.600 --> 00:13:31.290\nBefore we had production checkpoints,\ncheckpoints were save states.\n\n265\n00:13:31.290 --> 00:13:35.170\nEverything about that machine was saved.\n\n266\n00:13:35.170 --> 00:13:38.210\nThe contents of memory, the applications,\n\n267\n00:13:38.210 --> 00:13:41.780\nthe status of those applications,\nthe data they were using.\n\n268\n00:13:41.780 --> 00:13:45.900\nI mean, it was a complete\npicture of that machine state.\n\n269\n00:13:45.900 --> 00:13:48.950\nSo, you could get if the machine was\nrunning, when you took that checkpoint.\n\n270\n00:13:48.950 --> 00:13:49.950\n&gt;&gt; But it took forever.\n\n271\n00:13:49.950 --> 00:13:50.953\n&gt;&gt; It's a huge checkpoint.\n\n272\n00:13:50.953 --> 00:13:52.996\n&gt;&gt; [CROSSTALK] Because that\ncheckpoint is massive.\n\n273\n00:13:52.996 --> 00:13:56.903\nI was like, I'm shutting this down so\nthat I can take a checkpoint.\n\n274\n00:13:56.903 --> 00:13:58.960\n[LAUGH]\n&gt;&gt; You needed that certain state,\n\n275\n00:13:58.960 --> 00:13:59.616\nI don't know.\n\n276\n00:13:59.616 --> 00:14:01.974\n&gt;&gt; Could be.\n&gt;&gt; That was the issue with the checkpoint,\n\n277\n00:14:01.974 --> 00:14:05.869\nand why we get such a performance with\nthem, production checkpoints we use now,\n\n278\n00:14:05.869 --> 00:14:07.410\nwhich is the default.\n\n279\n00:14:07.410 --> 00:14:09.740\n&gt;&gt; Don't do a safe state.\n\n280\n00:14:09.740 --> 00:14:12.920\nThey are not gonna\nretain application data,\n\n281\n00:14:12.920 --> 00:14:15.370\nstate of the virtual machine all right.\n\n282\n00:14:15.370 --> 00:14:18.470\nWhat it's doing is it's actually\nreaching into the virtual machine, and\n\n283\n00:14:18.470 --> 00:14:21.110\nusing backup technology\nwithin the virtual machine\n\n284\n00:14:21.110 --> 00:14:24.410\nto create a quick snapshot of\nthe virtual machine and back that up.\n\n285\n00:14:24.410 --> 00:14:29.340\nSo it's not saving the state of the VM\nwhich makes it a lot more efficient,\n\n286\n00:14:29.340 --> 00:14:31.910\nlittle bit quicker to do.\n\n287\n00:14:31.910 --> 00:14:35.210\nNot the big performance hit that\nwe have and not the storage\n\n288\n00:14:37.660 --> 00:14:41.300\nutilization that we had with\nour original checkpoints.\n\n289\n00:14:41.300 --> 00:14:42.610\nAll right, so that's the idea.\n\n290\n00:14:42.610 --> 00:14:45.840\nSo keys for the exam and for\nthe real world, but mainly for\n\n291\n00:14:45.840 --> 00:14:47.100\nthe exam for this one.\n\n292\n00:14:47.100 --> 00:14:50.630\nThat is, the new default is\nproduction check points, right?\n\n293\n00:14:50.630 --> 00:14:54.460\nYou can still do the old version of check\npoints, but you do have to go in there and\n\n294\n00:14:54.460 --> 00:14:55.130\nchange your setting.\n\n295\n00:14:55.130 --> 00:14:59.870\nAnd let's take a look at my machine, and\nI'll show you exactly how to do that.\n\n296\n00:14:59.870 --> 00:15:02.920\nLet's use,\nwhere's our other good old Dif 1 and\n\n297\n00:15:02.920 --> 00:15:05.600\nDif 2 that we created\nin a previous episode.\n\n298\n00:15:05.600 --> 00:15:09.400\nThese guys are based off a differencing\ndisk and same paired drive.\n\n299\n00:15:09.400 --> 00:15:12.360\nI'm gonna pull up the settings for DIF01.\n\n300\n00:15:12.360 --> 00:15:16.300\nAnd down towards the bottom of\nthe settings there's Checkpoints.\n\n301\n00:15:16.300 --> 00:15:19.810\nAnd you can see right there it\nsays Production, all right?\n\n302\n00:15:19.810 --> 00:15:22.050\nOver here on this side I can see,\n\n303\n00:15:22.050 --> 00:15:27.022\nlet me zoom out just a wee bit there,\nCheckpoint Type.\n\n304\n00:15:27.022 --> 00:15:31.660\nEnable checkpoints and\nthen production is selected or\n\n305\n00:15:31.660 --> 00:15:33.200\nI could do standard checkpoint.\n\n306\n00:15:33.200 --> 00:15:37.922\nSo this is where I'm going to change it\nfrom standard checkpoints to production\n\n307\n00:15:37.922 --> 00:15:38.840\ncheckpoints.\n\n308\n00:15:38.840 --> 00:15:42.410\nIt tells you backup technology is using\nthe guest operating system is used.\n\n309\n00:15:42.410 --> 00:15:46.891\nThere's also a check mark here, create\nstandard checkpoints if it's not possible\n\n310\n00:15:46.891 --> 00:15:48.861\nto create a production checkpoint.\n\n311\n00:15:48.861 --> 00:15:52.529\nIf there's something up where it\ncan't access the backups technology\n\n312\n00:15:52.529 --> 00:15:55.952\ninside the guest operating system,\nor the guest operating system\n\n313\n00:15:55.952 --> 00:15:59.329\ndoesn't have a backup technology\nthat's compatible with VSS.\n\n314\n00:15:59.329 --> 00:16:01.786\nMaybe a Linux keystroke or\nsomething like that.\n\n315\n00:16:01.786 --> 00:16:07.880\nIt will use standard checkpoints if it\ncan not do a production checkpoint.\n\n316\n00:16:07.880 --> 00:16:12.621\nYou can also change the checkpoint\nfile location down here at the bottom.\n\n317\n00:16:12.621 --> 00:16:14.350\nSo let's test this out.\n\n318\n00:16:14.350 --> 00:16:16.260\nLet's see what the heck is going on here.\n\n319\n00:16:16.260 --> 00:16:17.740\nI'm going to click OK.\n\n320\n00:16:17.740 --> 00:16:19.120\nClose those properties.\n\n321\n00:16:19.120 --> 00:16:21.162\nI'm gonna right click on diff01.\n\n322\n00:16:21.162 --> 00:16:23.430\nNow diff01, currently,\nlet's take a look at it first.\n\n323\n00:16:24.980 --> 00:16:28.250\nThere he is, it's logged in,\nI've got Server Manager opened up.\n\n324\n00:16:28.250 --> 00:16:30.630\nLet's open up a couple of tools.\n\n325\n00:16:30.630 --> 00:16:33.840\nLet's open up Computer Management,\nwe're gonna get that open.\n\n326\n00:16:36.720 --> 00:16:37.980\nMaybe.\n\n327\n00:16:37.980 --> 00:16:41.859\nThen while it's thinking about that,\nmaybe I'll go ahead and\n\n328\n00:16:41.859 --> 00:16:44.281\nlaunch some PowerShell or something.\n\n329\n00:16:50.268 --> 00:16:51.380\nSo we'll launch PowerShell.\n\n330\n00:16:51.380 --> 00:16:53.920\nI don't know what happened to\nComputer Management it's thinking about\n\n331\n00:16:53.920 --> 00:16:54.950\nit evidently.\n\n332\n00:16:54.950 --> 00:16:57.728\nThere it is it's hiding in the background.\n\n333\n00:16:57.728 --> 00:17:01.980\nSo I've got a couple of applications open,\nI've got Computer Management and\n\n334\n00:17:01.980 --> 00:17:07.140\nI have a PowerShell opened up,\nwere just gonna leave that stuff out here.\n\n335\n00:17:07.140 --> 00:17:09.934\nI'll close my connection to it\njust to simplify my screen.\n\n336\n00:17:09.934 --> 00:17:14.899\nI'm gonna right-click on this guy,\nand choose Checkpoint.\n\n337\n00:17:16.070 --> 00:17:18.860\nAnd watch the little icon down here,\ndid you see that?\n\n338\n00:17:18.860 --> 00:17:20.975\nSee how it went blank?\n\n339\n00:17:20.975 --> 00:17:22.830\nAgain, it's not a saved state.\n\n340\n00:17:22.830 --> 00:17:27.670\nThe machine is not gonna be exactly\nlike it was when I took that checkpoint.\n\n341\n00:17:27.670 --> 00:17:30.150\nSo it tells me that it created\nthe checkpoint, I'll click OK.\n\n342\n00:17:31.150 --> 00:17:36.816\nOn diff02, I'm gonna right-click,\nSettings &gt; Checkpoints,\n\n343\n00:17:36.816 --> 00:17:40.440\nlet me change that to Standard Checkpoint.\n\n344\n00:17:41.760 --> 00:17:43.392\nI'll click OK.\n\n345\n00:17:43.392 --> 00:17:48.479\nAnd on diff02 we'll connect, we'll launch\n\n346\n00:17:48.479 --> 00:17:54.468\nComputer Management, and\nwe'll launch PowerShell.\n\n347\n00:17:58.711 --> 00:17:59.940\nMy resolution is killing me.\n\n348\n00:17:59.940 --> 00:18:03.380\nI hate having to scroll around in here.\n\n349\n00:18:03.380 --> 00:18:04.470\nWe just made these guys.\n\n350\n00:18:04.470 --> 00:18:05.880\nI don't have remote desktop set up yet.\n\n351\n00:18:05.880 --> 00:18:09.130\nSo there we go, Computer Management,\nPowerShell Server Manager.\n\n352\n00:18:09.130 --> 00:18:10.825\nPretty much the same as diff01.\n\n353\n00:18:11.860 --> 00:18:13.640\nI'm going to right-click on this guy.\n\n354\n00:18:15.654 --> 00:18:16.959\nAnd choose Checkpoint.\n\n355\n00:18:19.342 --> 00:18:24.120\nNotice it does pause it there for just\na second to get that checkpoint created.\n\n356\n00:18:24.120 --> 00:18:27.810\nIt's taking about the same time,\nI suppose.\n\n357\n00:18:27.810 --> 00:18:29.920\nAnd now when we look,\nmanaging checkpoints.\n\n358\n00:18:29.920 --> 00:18:31.840\nI've got my checkpoints right here.\n\n359\n00:18:31.840 --> 00:18:35.935\nSo if I look at diff01,\nI've got now current state, and\n\n360\n00:18:35.935 --> 00:18:37.782\nI've got my check point.\n\n361\n00:18:37.782 --> 00:18:42.374\nDiff02, I've got now and\nI've got my checkpoint.\n\n362\n00:18:42.374 --> 00:18:43.890\nDid you see the difference there?\n\n363\n00:18:43.890 --> 00:18:44.926\nLet's do that again.\n\n364\n00:18:44.926 --> 00:18:47.745\nDiff01, checkpoint.\n\n365\n00:18:47.745 --> 00:18:49.740\nLook at my thumbnail.\n\n366\n00:18:49.740 --> 00:18:55.576\nDiff02, check point, look at my thumbnail.\n\n367\n00:18:55.576 --> 00:19:00.033\nSo you're really starting to see\nthat one is that save state, memory,\n\n368\n00:19:00.033 --> 00:19:02.650\neverything whereas the other one is not.\n\n369\n00:19:02.650 --> 00:19:04.420\nLet's see if we can see\na difference in the files.\n\n370\n00:19:04.420 --> 00:19:05.501\nThese machines are so\n\n371\n00:19:05.501 --> 00:19:09.296\nsmall that I don't know if we're gonna\nbe able to see much of a difference.\n\n372\n00:19:09.296 --> 00:19:13.612\n200 megs for diff01.\n\n373\n00:19:13.612 --> 00:19:14.772\n167 for diff02.\n\n374\n00:19:14.772 --> 00:19:18.674\nDiff02 is actually a little bit smaller,\nbut it's kinda interesting.\n\n375\n00:19:18.674 --> 00:19:22.980\nSomething I'd wanna do a little more\nexperimentation just for my own benefit.\n\n376\n00:19:22.980 --> 00:19:27.680\nBut there we go, so, now let's\nsee how we can restore this guys.\n\n377\n00:19:27.680 --> 00:19:33.990\nGet back to the checkpoint, right?\n\n378\n00:19:33.990 --> 00:19:37.227\nSo, we gonna diff01 and\nyou simply going to select this.\n\n379\n00:19:37.227 --> 00:19:40.580\nRight-click on it, and choose Apply, but\n\n380\n00:19:40.580 --> 00:19:42.430\nlet's take a look at\nthe other options I have.\n\n381\n00:19:42.430 --> 00:19:44.330\nI can export this check point.\n\n382\n00:19:44.330 --> 00:19:47.190\nKind of odd, but you can actually\nexport this VM out at that particular\n\n383\n00:19:47.190 --> 00:19:48.270\npoint in time.\n\n384\n00:19:48.270 --> 00:19:51.140\nYou can rename the check point,\nand I like to do that.\n\n385\n00:19:51.140 --> 00:19:55.060\nMicrosoft does a good job, they put the\ndate and time of the check point there,\n\n386\n00:19:55.060 --> 00:20:00.380\nbut a lot of times, I'll rename it,\nand just add to it and I'll say,\n\n387\n00:20:00.380 --> 00:20:05.020\nb4 Visual Studio or something like.\n\n388\n00:20:05.020 --> 00:20:06.350\nOr whatever I'm trying to.\n\n389\n00:20:06.350 --> 00:20:08.320\nIt gives me an idea of\nwhat the heck did I do.\n\n390\n00:20:08.320 --> 00:20:10.600\nWhy did I take that checkpoint?\n\n391\n00:20:10.600 --> 00:20:12.729\nBut that's just my personal thing.\n\n392\n00:20:12.729 --> 00:20:16.190\nI'm going to right-click on it again,\nso we've got Apply, Export, Rename.\n\n393\n00:20:16.190 --> 00:20:17.200\nYou can delete the checkpoint.\n\n394\n00:20:17.200 --> 00:20:19.380\nIf I don't need it anymore,\nyou can delete it.\n\n395\n00:20:19.380 --> 00:20:23.500\nYou can also delete the sub-tree,\nbecause we can get branches going in here.\n\n396\n00:20:23.500 --> 00:20:24.840\nHere is now.\n\n397\n00:20:24.840 --> 00:20:29.095\nWhat if I made some changes, made another\ncheckpoint, went back to this first\n\n398\n00:20:29.095 --> 00:20:33.427\ncheckpoint, applied it, made some changes,\nwell now I've kinda did a fork.\n\n399\n00:20:33.427 --> 00:20:34.800\nI've kinda forked off.\n\n400\n00:20:34.800 --> 00:20:38.320\nSo we can end up with multiple\ntrees of these checkpoints and\n\n401\n00:20:38.320 --> 00:20:40.688\nthat just allows you to\ndelete the entire tree.\n\n402\n00:20:40.688 --> 00:20:47.100\nI'm gonna right-click on that though,\nand I'm gonna choose Apply.\n\n403\n00:20:47.100 --> 00:20:50.761\nNow, it'll offer you to create\na checkpoint of the current state before\n\n404\n00:20:50.761 --> 00:20:51.430\nyou go back.\n\n405\n00:20:51.430 --> 00:20:52.191\nAnd sometimes,\n\n406\n00:20:52.191 --> 00:20:54.960\nthat gets twisty to me [LAUGH]\n&gt;&gt; [LAUGH] That's when I start getting\n\n407\n00:20:54.960 --> 00:20:55.780\nreal confused.\n\n408\n00:20:55.780 --> 00:20:58.680\nI'm like, which one is my good checkpoint,\nI don't remember.\n\n409\n00:20:58.680 --> 00:21:00.686\n[LAUGH]\n&gt;&gt; Yes, cuz this is the checkpoint of\n\n410\n00:21:00.686 --> 00:21:04.664\nbefore you went back to the check point\nwhich is after you made the check\n\n411\n00:21:04.664 --> 00:21:05.553\npoint, yeah.\n\n412\n00:21:05.553 --> 00:21:06.736\n[LAUGH]\n&gt;&gt; Yeah, no thank you.\n\n413\n00:21:06.736 --> 00:21:09.585\n[LAUGH]\n&gt;&gt; Make sure you rename it with something\n\n414\n00:21:09.585 --> 00:21:11.010\nmeaningful in there.\n\n415\n00:21:11.010 --> 00:21:13.630\nI'm not gonna create the checkpoint,\nI'm gonna go ahead and apply that.\n\n416\n00:21:15.295 --> 00:21:18.935\nI only like to apply one at a time, I\nknow that this machine is super beefy but\n\n417\n00:21:18.935 --> 00:21:20.615\ndidn't take that long.\n\n418\n00:21:20.615 --> 00:21:23.463\nIt is discontensive starting\nto do those applications.\n\n419\n00:21:23.463 --> 00:21:27.205\nI'm gonna right-click on this one and\nI'm going to, oops, not there.\n\n420\n00:21:27.205 --> 00:21:33.466\nRight-click on diff02 and\napply that check point we just created.\n\n421\n00:21:33.466 --> 00:21:36.131\nSo let that go, give it just a second.\n\n422\n00:21:40.612 --> 00:21:44.880\nAnd you should see another\ndifference already.\n\n423\n00:21:44.880 --> 00:21:48.435\nPointing back to the same thing\nwe've been talking about,\n\n424\n00:21:48.435 --> 00:21:51.361\nwhat's the state of diff02 versus diff01?\n\n425\n00:21:51.361 --> 00:21:53.709\nDiff02 is the old school check points.\n\n426\n00:21:53.709 --> 00:21:56.592\nNotice, it's back up and running.\n\n427\n00:21:56.592 --> 00:22:03.686\nIt applied the check point and it started\nit back up and look there's PowerShell.\n\n428\n00:22:03.686 --> 00:22:04.402\n&gt;&gt; Right where we left it.\n\n429\n00:22:04.402 --> 00:22:05.738\n&gt;&gt; Right where we left it.\n\n430\n00:22:05.738 --> 00:22:09.395\nThere's Computer Management,\nall still there.\n\n431\n00:22:09.395 --> 00:22:11.510\nDiff01 however has shut down.\n\n432\n00:22:11.510 --> 00:22:13.400\nWhen I applied that check point\nthat machine was running.\n\n433\n00:22:13.400 --> 00:22:16.860\nI applied the checkpoint,\nthis shut down now.\n\n434\n00:22:16.860 --> 00:22:19.326\nLet's start it back up and\nsee what we got.\n\n435\n00:22:19.326 --> 00:22:22.850\nAs you guys know, if I start it up, right,\nmy applications are not gonna be there.\n\n436\n00:22:22.850 --> 00:22:26.480\nBut we'll verify that,\nwe'll prove it to ourselves anyway.\n\n437\n00:22:26.480 --> 00:22:30.290\nThat's the big difference between\nthe production checkpoints and standard\n\n438\n00:22:30.290 --> 00:22:33.992\ncheckpoints is the fact that production\ncheckpoints are not a save state.\n\n439\n00:22:33.992 --> 00:22:37.531\nIt's not saving memory,\nanything like that,\n\n440\n00:22:37.531 --> 00:22:41.730\nit's doing an actual backup\nof the VM at that time.\n\n441\n00:22:41.730 --> 00:22:44.910\nSo I can go back to\na particular point in time\n\n442\n00:22:44.910 --> 00:22:47.330\nsuccessfully no matter\nwhat the workload is.\n\n443\n00:22:47.330 --> 00:22:52.450\nThat was a big problem with the regular\ncheckpoints, certain workloads would fail\n\n444\n00:22:52.450 --> 00:22:55.150\nor would have problems when you try\nto roll them back into a checkpoint.\n\n445\n00:22:56.300 --> 00:22:57.540\nI was trying to think of a good example.\n\n446\n00:22:57.540 --> 00:23:00.350\nSQL is one that if you tried\nto use check points on it,\n\n447\n00:23:00.350 --> 00:23:02.480\nyou end up with data\ninconsistencies there.\n\n448\n00:23:02.480 --> 00:23:04.670\nThe domain controller's still\nhave problems with check points.\n\n449\n00:23:04.670 --> 00:23:05.840\nBut yeah, there we go.\n\n450\n00:23:05.840 --> 00:23:06.940\nI'm back to my screen.\n\n451\n00:23:06.940 --> 00:23:12.120\nI could log on if you really wanna see it,\nbut I think you know at this point\n\n452\n00:23:12.120 --> 00:23:17.084\nnone of my applications\nare going to be up and running.\n\n453\n00:23:17.084 --> 00:23:19.040\nIs that the wrong password?\n\n454\n00:23:20.953 --> 00:23:22.003\nThere we go.\n\n455\n00:23:22.003 --> 00:23:22.973\nWe'll log back in.\n\n456\n00:23:22.973 --> 00:23:24.650\nThen again,\nit's gonna just be standard desktop.\n\n457\n00:23:24.650 --> 00:23:29.090\nSo that's the idea behind checkpoints and\nmanaging them.\n\n458\n00:23:29.090 --> 00:23:32.890\nWe just right-click, take Checkpoints,\nyou have a checkpoint tree.\n\n459\n00:23:32.890 --> 00:23:35.881\nYou can go and look at the checkpoints.\n\n460\n00:23:35.881 --> 00:23:37.043\nYou can apply them.\n\n461\n00:23:37.043 --> 00:23:39.130\nYou can delete them.\n\n462\n00:23:39.130 --> 00:23:43.672\nUnderstand the difference between\ncheckpoints and production checkpoints.\n\n463\n00:23:43.672 --> 00:23:47.250\nKnow that production checkpoints\nare the new default and\n\n464\n00:23:47.250 --> 00:23:51.180\nif you wanna do anything else you gonna\nhave to switch it like I did on diff02.\n\n465\n00:23:51.180 --> 00:23:54.048\nThe other one I was gonna say was Linux.\n\n466\n00:23:54.048 --> 00:24:00.254\nWith Linux and it can do checkpoints, it\ncan still do the production checkpoints,\n\n467\n00:24:00.254 --> 00:24:05.130\nas long as it has a compatible\nbackup software inside there that my\n\n468\n00:24:05.130 --> 00:24:09.860\nintegration services supports and\ncan reach out and touch.\n\n469\n00:24:09.860 --> 00:24:13.300\nOtherwise it's just gonna do a save state.\n\n470\n00:24:13.300 --> 00:24:17.670\nWhen it does the production checkpoint,\nit flushes out the buffers for\n\n471\n00:24:17.670 --> 00:24:18.790\nthe file systems.\n\n472\n00:24:18.790 --> 00:24:21.580\nSo it gives you a consistent state\nwhen you bring that machine back.\n\n473\n00:24:21.580 --> 00:24:22.220\n&gt;&gt; Makes sense.\n\n474\n00:24:22.220 --> 00:24:22.780\n&gt;&gt; Yes.\n\n475\n00:24:22.780 --> 00:24:26.310\n&gt;&gt; Now, checkpoints, know them, use them,\nlove them, they are a great great tool.\n\n476\n00:24:26.310 --> 00:24:29.390\nThey are definitely a convenience\nfactor for us to have.\n\n477\n00:24:29.390 --> 00:24:32.324\nMike, anything else we need to know\nabout checkpoints or storage, or\n\n478\n00:24:32.324 --> 00:24:33.180\nvirtual machines?\n\n479\n00:24:33.180 --> 00:24:35.080\n&gt;&gt; No,\nI think we pretty much covered it all.\n\n480\n00:24:35.080 --> 00:24:35.990\nI mean there's a lot, right?\n\n481\n00:24:35.990 --> 00:24:38.080\n&gt;&gt; It was.\nIt's a lot of information,\n\n482\n00:24:38.080 --> 00:24:40.200\nbut this is the way things are going.\n\n483\n00:24:40.200 --> 00:24:42.110\nYou are going to be working\nwith virtualization.\n\n484\n00:24:42.110 --> 00:24:46.700\nSo definitely spend some time in this\ndomain as far as a Window Server\n\n485\n00:24:46.700 --> 00:24:51.380\ngoes it will serve you well as\nyou move forward in your career.\n\n486\n00:24:51.380 --> 00:24:53.542\nSo get a good grasp on that.\n\n487\n00:24:53.542 --> 00:24:56.090\nMike, you did a fantastic job\nin explaining checkpoints\n\n488\n00:24:56.090 --> 00:24:59.620\nhow we can use them, how we can love them\nand work with them in our environments.\n\n489\n00:24:59.620 --> 00:25:02.030\nThat being said, looking at the clock,\nlooks like we ran out of time.\n\n490\n00:25:02.030 --> 00:25:03.910\nWe don't have anything\nelse to talk about anyway.\n\n491\n00:25:03.910 --> 00:25:04.782\nSo, thanks for watching.\n\n492\n00:25:04.782 --> 00:25:07.084\nWe're gonna go ahead and\nsign off for ITProTV.\n\n493\n00:25:07.084 --> 00:25:08.406\nI've been your host Daniel Lowrie.\n\n494\n00:25:08.406 --> 00:25:09.158\n&gt;&gt; And I'm Mike Rodrick.\n\n495\n00:25:09.158 --> 00:25:11.047\n&gt;&gt; And we'll see you next time.\n\n496\n00:25:11.047 --> 00:25:16.913\n[MUSIC]\n\n497\n00:25:16.913 --> 00:25:17.810\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "191182867"
        },
        {
          "description": "In this episode, Daniel and Mike explain how to connect your Hyper-V Virtual Machines by configuring Hyper-V networking. They begin by looking at connecting a virtual Network Interface Card(NIC). From there they jump into Virtual Switch config as well as MAC address, network isolation, synthetic and legacy virtual adapters, and NIC Teaming configuration.",
          "length": "1934",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-4-configure_hyper_v_networking-111016.00_32_00_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-4-configure_hyper_v_networking-111016.00_32_00_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-3-4-configure_hyper_v_networking-111016.00_32_00_21.Still001-sm.jpg",
          "title": "Configure Hyper-V Networking",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.180\nWelcome to ITPRO.TV.\n\n2\n00:00:01.180 --> 00:00:08.180\nI'm your host, Don\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:08.180 --> 00:00:12.630\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:12.630 --> 00:00:14.430\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:14.430 --> 00:00:17.070\nwelcome to another exciting\nepisode of ITPRO.TV.\n\n6\n00:00:17.070 --> 00:00:20.755\nI'm your host Daniel Lowrie and today's\nepisode we are continuing on with that\n\n7\n00:00:20.755 --> 00:00:24.500\ngood old Installation storage and\ncompute series for Windows server 2016.\n\n8\n00:00:24.500 --> 00:00:28.148\nSo if you're back for a little more of\nthat action then you'll be glad to know\n\n9\n00:00:28.148 --> 00:00:31.578\nthat Mike is joining us back as well\nto lend his expertise on that topic.\n\n10\n00:00:31.578 --> 00:00:32.800\nMikey how's it going today?\n\n11\n00:00:32.800 --> 00:00:34.030\n&gt;&gt; Its going fantastic Daniel.\n\n12\n00:00:34.030 --> 00:00:35.950\nGlad to be here, excited.\n\n13\n00:00:35.950 --> 00:00:36.990\nWe are continuing on.\n\n14\n00:00:36.990 --> 00:00:37.970\nWe're looking at Hyper-V here.\n\n15\n00:00:37.970 --> 00:00:40.690\nThis is what we've been looking\nat in the last few episodes, and\n\n16\n00:00:40.690 --> 00:00:44.030\nin this one we're gonna take a look\nat networking within Hyper-V.\n\n17\n00:00:44.030 --> 00:00:46.390\nWe've seen how to create virtual machines.\n\n18\n00:00:46.390 --> 00:00:53.090\nWe've talked about Gen 1 and Gen 2, and\nVHDs and VHDXs, and all that good stuff.\n\n19\n00:00:53.090 --> 00:00:55.712\nOnce we get those virtual\nmachines created,\n\n20\n00:00:55.712 --> 00:00:59.300\nIt would be nice if they could\ntalk to other virtual machines or\n\n21\n00:00:59.300 --> 00:01:03.168\nthe physical network or\neven the outside world out there, right?\n\n22\n00:01:03.168 --> 00:01:04.094\nAnd all that other good stuff.\n\n23\n00:01:04.094 --> 00:01:06.259\n&gt;&gt; That's so very antisocial.\n\n24\n00:01:06.259 --> 00:01:08.350\n[LAUGH]\n&gt;&gt; Yeah, they might remain isolated,\n\n25\n00:01:08.350 --> 00:01:11.900\nthat's always a possibility and\nwe can do that with Hyper-V.\n\n26\n00:01:11.900 --> 00:01:14.850\nSo let's dive in and\ntake a look at networking within Hyper-V.\n\n27\n00:01:14.850 --> 00:01:18.680\nThe first thing we're gonna talk about\nis the network adaptors that we can\n\n28\n00:01:18.680 --> 00:01:20.920\nadd to these virtual machines.\n\n29\n00:01:20.920 --> 00:01:23.510\nSo let's take a look at my screen here.\n\n30\n00:01:23.510 --> 00:01:27.933\nAnd I'm going to pull up one of these\nmachines, eenie, meenie, miney, moe.\n\n31\n00:01:27.933 --> 00:01:30.028\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] And\n\n32\n00:01:30.028 --> 00:01:34.031\nwe'll go into his settings there.\n\n33\n00:01:34.031 --> 00:01:36.385\nAnd in the settings, I can see down here,\n\n34\n00:01:36.385 --> 00:01:40.500\nI actually have two network adapters\nalready assigned to this machine.\n\n35\n00:01:40.500 --> 00:01:45.200\nBut I'm simply going to add another\none for us for demonstration purposes.\n\n36\n00:01:45.200 --> 00:01:47.880\nSo what' I'm gonna do is go up to\nthe top and click add hardware.\n\n37\n00:01:47.880 --> 00:01:52.146\nWhen you create a virtual machine, it\ntypically prompts you to create at least\n\n38\n00:01:52.146 --> 00:01:55.830\none, it's going to create one by default,\na network adapter, but\n\n39\n00:01:55.830 --> 00:01:58.627\nwe can add as many as we\nneed in the virtual machine.\n\n40\n00:01:58.627 --> 00:02:02.935\nReally makes it easy to multi-home a\nmachine whereas when we're doing physical\n\n41\n00:02:02.935 --> 00:02:06.924\nstuff I gotta go buy another card and\nthrow it in there, hope my motherboard\n\n42\n00:02:06.924 --> 00:02:11.430\nhas another port on there, got a cable and\nI've got to patch it down somehow.\n\n43\n00:02:11.430 --> 00:02:12.970\nVirtual machines just simply open this up,\n\n44\n00:02:12.970 --> 00:02:16.730\nclick add hardware, pop a new network\nadaptor in there, throw a cable to it.\n\n45\n00:02:16.730 --> 00:02:19.490\n&gt;&gt; I know your pain man cuz when\nI gotta add a new network card or\n\n46\n00:02:19.490 --> 00:02:22.740\nsomething like that, I've got to\nrun Nate down, get him to do it.\n\n47\n00:02:22.740 --> 00:02:23.715\nIt's really hard.\n\n48\n00:02:23.715 --> 00:02:24.850\n&gt;&gt; [LAUGH] It is.\n\n49\n00:02:24.850 --> 00:02:27.475\nI mean it's a pain\nsometimes to find that guy.\n\n50\n00:02:27.475 --> 00:02:28.860\n[LAUGH]\n&gt;&gt; It's elusive.\n\n51\n00:02:28.860 --> 00:02:31.660\n&gt;&gt; All right so I'm going to click\nup here again, add hardware.\n\n52\n00:02:31.660 --> 00:02:35.700\nAnd you'll see I have a list of\noptions and I've got network adapter.\n\n53\n00:02:35.700 --> 00:02:38.910\nAll I do is select network adapter,\nclick add, and\n\n54\n00:02:38.910 --> 00:02:42.680\nthere is my new network\nadapter listed down below.\n\n55\n00:02:42.680 --> 00:02:45.420\nNow when you pop that network adapter in\nthere just like you would on a physical\n\n56\n00:02:45.420 --> 00:02:47.890\nmachine, you put in,\nyou close the case up,\n\n57\n00:02:47.890 --> 00:02:51.440\nyou button it all back up, still have\nto attach it to something, right?\n\n58\n00:02:51.440 --> 00:02:54.200\nThere's this port on the back of there,\nyou've gotta plug your cable into it and\n\n59\n00:02:54.200 --> 00:02:55.580\nrun that cable somewhere.\n\n60\n00:02:55.580 --> 00:02:56.575\nSame thing here.\n\n61\n00:02:56.575 --> 00:03:01.135\nI've got to patch this computer down\nto what we call a virtual switch\n\n62\n00:03:01.135 --> 00:03:02.440\nwithin Hyper-V.\n\n63\n00:03:02.440 --> 00:03:05.330\nAnd we're gonna come back around and\ntalk about the different\n\n64\n00:03:05.330 --> 00:03:08.770\ntypes of virtual switches that we\ncan create, what they're used for.\n\n65\n00:03:08.770 --> 00:03:12.640\nI'm simply going to go up to I\nhave my network adapter selected,\n\n66\n00:03:12.640 --> 00:03:16.960\nhit my drop down list and\nI'll choose any old network here.\n\n67\n00:03:16.960 --> 00:03:19.500\nWe'll go to external, for example.\n\n68\n00:03:19.500 --> 00:03:24.270\nAnd I'll click apply so I can leave\nthis window open and there we go.\n\n69\n00:03:24.270 --> 00:03:26.120\nIt now has a new network adapter.\n\n70\n00:03:26.120 --> 00:03:30.830\nNow the cool thing is I'm gonna go\nahead and switch to another node.\n\n71\n00:03:30.830 --> 00:03:32.340\nLet's go to Node2.\n\n72\n00:03:32.340 --> 00:03:34.720\nNode2 Is up and running.\n\n73\n00:03:35.760 --> 00:03:38.790\nSo, of course I can't add a network\nadapter to a machine that's up and\n\n74\n00:03:38.790 --> 00:03:39.390\nrunning, right?\n\n75\n00:03:39.390 --> 00:03:40.250\n&gt;&gt; That's impossible.\n\n76\n00:03:40.250 --> 00:03:42.960\n&gt;&gt; Yeah, I know, so\nI'm gonna select network adapter, and\n\n77\n00:03:42.960 --> 00:03:47.210\nI'm gonna click add, and voila,\nI have another network adapter.\n\n78\n00:03:47.210 --> 00:03:48.780\n&gt;&gt; You're like a wizard.\n\n79\n00:03:48.780 --> 00:03:49.750\n&gt;&gt; It's magic.\n\n80\n00:03:49.750 --> 00:03:51.980\nShut it down really fast,\nadded it, and turned it back on.\n\n81\n00:03:51.980 --> 00:03:54.170\nNow, that's the cool thing with 2016,\n\n82\n00:03:54.170 --> 00:03:58.100\nnetwork adapters are basically hot\nswappable inside these virtual machines.\n\n83\n00:03:58.100 --> 00:04:01.400\nIt used to be, we could always change\nthe network they were connected to.\n\n84\n00:04:01.400 --> 00:04:03.510\nIn other words,\nif I had a network adapter,\n\n85\n00:04:03.510 --> 00:04:07.080\nvirtual machine was running, I could\ncome up here, hit my drop down list, and\n\n86\n00:04:07.080 --> 00:04:09.800\nI could change the network it\nwas connected to, no problem.\n\n87\n00:04:09.800 --> 00:04:11.130\nThink about a physical machine.\n\n88\n00:04:11.130 --> 00:04:13.140\nThat cable that comes out of\nthe back of your computer,\n\n89\n00:04:13.140 --> 00:04:16.140\nyou could unplug it from one switch,\nplug it in to another switch.\n\n90\n00:04:16.140 --> 00:04:18.725\nYou don't have to turn off\nthe machine to do that, but\n\n91\n00:04:18.725 --> 00:04:21.953\nyou did had to turn it off to change\nthe card itself or add a new card.\n\n92\n00:04:21.953 --> 00:04:24.110\nNow with VMs, I don't have to.\n\n93\n00:04:24.110 --> 00:04:25.170\n&gt;&gt; Unless it's USB.\n\n94\n00:04:25.170 --> 00:04:26.660\n&gt;&gt; Unless it's USB that is true.\n\n95\n00:04:26.660 --> 00:04:31.580\n&gt;&gt; What seems to be kind of like\nthe anything that's USB attachable now\n\n96\n00:04:31.580 --> 00:04:35.110\nseems to be hot attachable and\nvirtual appliances anymore.\n\n97\n00:04:35.110 --> 00:04:36.980\n&gt;&gt; I think so, that's a good point.\n\n98\n00:04:36.980 --> 00:04:41.490\nSo and I'll connect it to a network,\nreal quick just for giggles.\n\n99\n00:04:41.490 --> 00:04:43.655\nI'll put him on something\nthat he's not on already.\n\n100\n00:04:43.655 --> 00:04:45.833\nIt's gonna hose up the rest\nof our labs but that's okay.\n\n101\n00:04:45.833 --> 00:04:47.247\n&gt;&gt; Who needs those?\n&gt;&gt; We'll deal with that later.\n\n102\n00:04:47.247 --> 00:04:48.084\nAnd I'll click okay.\n\n103\n00:04:48.084 --> 00:04:50.616\nSo the point was,\nI wanted to show you that,\n\n104\n00:04:50.616 --> 00:04:55.562\nyou could add them when they're off, you\ncan add them when they're on, no problem.\n\n105\n00:04:55.562 --> 00:04:58.850\nNow we've got to understand about\nthese network adaptors themselves.\n\n106\n00:04:58.850 --> 00:05:02.180\nWhen I click add hardware, you'll see\nI have one choice, network adaptor.\n\n107\n00:05:02.180 --> 00:05:07.760\nThat is because this machine is\na Generation 2 virtual machine.\n\n108\n00:05:07.760 --> 00:05:10.530\nRemember when we create the VM,\nyou choose Gen 1 or Gen 2?\n\n109\n00:05:10.530 --> 00:05:13.930\nIt's a Gen 2 virtual machine, which means\nthe network adaptor that I'm using is what\n\n110\n00:05:13.930 --> 00:05:16.360\nthey call a synthetic network adaptor.\n\n111\n00:05:16.360 --> 00:05:20.100\nIt's a much more efficient than the old\nlegacy network adaptors which were\n\n112\n00:05:20.100 --> 00:05:24.490\nemulating, I forgot the actual Intel two\nfour, four years, something like that.\n\n113\n00:05:24.490 --> 00:05:27.190\nIt was emulating a network adaptor.\n\n114\n00:05:27.190 --> 00:05:31.210\nThis is a synthetic, designed for\nthe virtual environment network adapter.\n\n115\n00:05:31.210 --> 00:05:37.670\nMuch more efficient, or better performing,\nthan the old legacy network adapters.\n\n116\n00:05:37.670 --> 00:05:42.222\nBut we still have the old legacies,\njust can't add them to a Gen 2.\n\n117\n00:05:42.222 --> 00:05:43.948\nIf I go to a Gen 1 machine,\n\n118\n00:05:43.948 --> 00:05:49.620\nwhich I believe I created one the other\nday in one of our videos, there we go.\n\n119\n00:05:49.620 --> 00:05:54.470\nAnd I go to add hardware,\nnotice I have two options.\n\n120\n00:05:54.470 --> 00:05:58.340\nI have a network adapter and\nI have legacy network adapter.\n\n121\n00:05:58.340 --> 00:06:03.230\nThat legacy network adapter is the\nemulated one, the one we want to avoid in\n\n122\n00:06:03.230 --> 00:06:08.240\nmost cases, can't use them in Gen\n2 at all, can use them in Gen1.\n\n123\n00:06:08.240 --> 00:06:11.030\nNow, why, why do I have those there?\n\n124\n00:06:11.030 --> 00:06:12.200\nWell that's what we've always had, right?\n\n125\n00:06:12.200 --> 00:06:16.120\nThat was the first one until we\ncame up with, until Microsoft,\n\n126\n00:06:16.120 --> 00:06:19.350\nI shouldn't say we,\nthey got the new synthetic,\n\n127\n00:06:19.350 --> 00:06:23.250\nthis was the only one we had and it wasn't\ncalled legacy obviously at that point.\n\n128\n00:06:23.250 --> 00:06:25.720\nThen they added the new one and\nthis became legacy.\n\n129\n00:06:25.720 --> 00:06:27.690\nBut it stuck around,\nthey didn't just remove it.\n\n130\n00:06:27.690 --> 00:06:31.710\nThey added the new synthetic and\nleft that one and called it legacy.\n\n131\n00:06:31.710 --> 00:06:32.540\nWhy?\n\n132\n00:06:32.540 --> 00:06:38.364\nBecause in Gen 1 machines\nthe synthetics cannot PXE boot.\n\n133\n00:06:38.364 --> 00:06:42.441\nYou couldn't boot to the network to\nconnect to a deployment server and\n\n134\n00:06:42.441 --> 00:06:45.700\npull down an image,\nwhereas with the legacies I could.\n\n135\n00:06:46.910 --> 00:06:50.940\nSo in your Gen 1 machines you still might\nput a legacy network adapter in there\n\n136\n00:06:50.940 --> 00:06:53.580\nif you need to PXE boot that machine.\n\n137\n00:06:53.580 --> 00:06:57.210\nNow in Gen 2 virtual machines,\nthe synthetic or\n\n138\n00:06:57.210 --> 00:07:01.770\nthe newer network adapter can do PXE boot,\nso there's no need for the legacies, which\n\n139\n00:07:01.770 --> 00:07:06.420\nis why we don't see it even in our list\nof options there when we go to add it.\n\n140\n00:07:06.420 --> 00:07:08.008\nSo just keep that in mind for the exam.\n\n141\n00:07:08.008 --> 00:07:11.350\nThey might say, why would you ever\nuse a legacy network adapter?\n\n142\n00:07:11.350 --> 00:07:15.410\nIt's if you have a Gen 1 virtual\nmachine that needs to PXE boot.\n\n143\n00:07:15.410 --> 00:07:19.080\nAnd you're going to have to use that\nlegacy emulated network adapter.\n\n144\n00:07:19.080 --> 00:07:21.630\nOtherwise you're going to use\nthe latest and greatest guy.\n\n145\n00:07:21.630 --> 00:07:24.890\nAll right,\nwe'll cancel out of those properties.\n\n146\n00:07:24.890 --> 00:07:27.430\nSo we saw how to add,\nremoving them is just as easy.\n\n147\n00:07:27.430 --> 00:07:31.040\nIf I could remember which ones I added to,\nI would go back and remove them.\n\n148\n00:07:31.040 --> 00:07:34.400\nLet's see, we'll go into Node 3,\nsettings, and\n\n149\n00:07:34.400 --> 00:07:38.330\nI'll grab one of these network adapters,\nand I'll simply click remove.\n\n150\n00:07:39.810 --> 00:07:44.150\nAnd you'll see its got that nice strike\nthrough on there until I apply my changes,\n\n151\n00:07:44.150 --> 00:07:48.910\nclick apply and\nthe network adapter will be gone.\n\n152\n00:07:48.910 --> 00:07:52.966\nAnd so\nremoving them is pretty easy as well.\n\n153\n00:07:52.966 --> 00:07:57.839\nNow, with these network adapters, we've\nseen that I've had to hit this drop-down\n\n154\n00:07:57.839 --> 00:08:02.185\nlist And choose the network that I wanted\nto connect the virtual machine to.\n\n155\n00:08:02.185 --> 00:08:07.780\nNow where is that list coming from,\nwhat are all of these virtual switches?\n\n156\n00:08:07.780 --> 00:08:12.420\nThose are created on the Hyper-V\nconsole and the Hyper-V server itself.\n\n157\n00:08:12.420 --> 00:08:15.713\nSo I'm gonna go over to my actions pane,\non the right here, and\n\n158\n00:08:15.713 --> 00:08:17.527\nI'll choose Hyper-V Settings.\n\n159\n00:08:20.355 --> 00:08:24.230\nActually you know what, I'm kinda,\nthat's not what I wanted to click on.\n\n160\n00:08:24.230 --> 00:08:28.250\nI wanted to click on Virtual Switch\nManager, not Hyper-V Settings.\n\n161\n00:08:28.250 --> 00:08:30.530\nIt's the Virtual Switch Manager,\nmakes sense.\n\n162\n00:08:30.530 --> 00:08:33.360\nThat name pretty much tells you\nyou're gonna be managing the virtual\n\n163\n00:08:33.360 --> 00:08:34.890\nswitches from here.\n\n164\n00:08:34.890 --> 00:08:38.460\nAnd there you can see my list of\nvirtual switches that already exist,\n\n165\n00:08:38.460 --> 00:08:41.410\nthat have been created by\nadministrators on this machine.\n\n166\n00:08:41.410 --> 00:08:43.930\nNow if I wanna create a new one,\n\n167\n00:08:43.930 --> 00:08:47.160\nI can choose new virtual\nnetwork switch up at the top.\n\n168\n00:08:47.160 --> 00:08:52.350\nAnd I have three choices,\nI have external, internal, and private.\n\n169\n00:08:52.350 --> 00:08:56.260\nExternal, and you can read the description\nright below here, it's very helpful,\n\n170\n00:08:56.260 --> 00:08:59.140\ncreates a virtual switch that binds\nto the physical network adapter so\n\n171\n00:08:59.140 --> 00:09:01.630\nthat virtual machines can\nact as a physical network.\n\n172\n00:09:01.630 --> 00:09:05.444\nSo when you create an external\nvirtual switch you're binding it to\n\n173\n00:09:05.444 --> 00:09:10.430\none of the physical network adapters in\nthe physical Hyper-V host, all right.\n\n174\n00:09:10.430 --> 00:09:16.205\nYou can only create one external virtual\nswitch per physical network adapter.\n\n175\n00:09:16.205 --> 00:09:20.325\nIf I have two physical adapters\nin the physical host, then\n\n176\n00:09:20.325 --> 00:09:25.195\nI can create an external virtual switch\non each one of those network adapters.\n\n177\n00:09:25.195 --> 00:09:28.205\nBut only one per physical network adapter.\n\n178\n00:09:28.205 --> 00:09:32.625\nYou also want to be careful when\nyou create a new external switch.\n\n179\n00:09:32.625 --> 00:09:33.675\nI'm gonna remove this one.\n\n180\n00:09:35.440 --> 00:09:40.085\nAnd I'll create another one, so\nyou guys can see the process.\n\n181\n00:09:40.085 --> 00:09:45.990\n[LAUGH]\nOr I won't remove it.\n\n182\n00:09:45.990 --> 00:09:49.030\nIt's not gonna be happy about that, is it?\n\n183\n00:09:49.030 --> 00:09:52.390\nBecause I have, I think I have\na virtual machine that is bound to it.\n\n184\n00:09:52.390 --> 00:09:56.322\nIf I can remember which one that was.\n\n185\n00:09:56.322 --> 00:09:58.930\nIt wasn't Gen1 was it?\n\n186\n00:09:58.930 --> 00:10:01.060\nGood point, good thing to understand.\n\n187\n00:10:01.060 --> 00:10:07.842\nYou cannot remove a virtual switch if\nthere is a node connected to that switch.\n\n188\n00:10:10.464 --> 00:10:12.840\nAnd of course now I can't remember,\nthere it is.\n\n189\n00:10:12.840 --> 00:10:14.902\nWe'll just remove that network\nadapter from that virtual machine.\n\n190\n00:10:17.498 --> 00:10:19.850\nKinda nice that it won't let\nyou do that though, right.\n\n191\n00:10:19.850 --> 00:10:23.460\n&gt;&gt; I know, you would think I'm the\nadministrator, I should have at least some\n\n192\n00:10:23.460 --> 00:10:26.620\noverride privileges that\nsays I still wanna do this.\n\n193\n00:10:26.620 --> 00:10:29.360\nBut they do that for\ngood reason because you might go yeah,\n\n194\n00:10:29.360 --> 00:10:32.580\nI don't care about that machine,\nI'm gonna blow it away or whatever.\n\n195\n00:10:32.580 --> 00:10:36.020\nAnd go ahead and disconnect it and\nit does, you say you overrode it.\n\n196\n00:10:36.020 --> 00:10:38.930\nAnd it would be I chose the wrong one.\n\n197\n00:10:38.930 --> 00:10:41.050\nI thought it was this one,\nwhat was I thinking?\n\n198\n00:10:41.050 --> 00:10:41.650\nMy goodness!\n\n199\n00:10:41.650 --> 00:10:44.845\nAnd the boss is calling and going, why\ndoes no one have access to email on here?\n\n200\n00:10:44.845 --> 00:10:46.635\n&gt;&gt; [LAUGH]\n&gt;&gt; Well, because Bob, see.\n\n201\n00:10:46.635 --> 00:10:49.480\n[LAUGH]\n&gt;&gt; Yeah, right, gotta get that Nate guy.\n\n202\n00:10:49.480 --> 00:10:50.398\n&gt;&gt; Yeah.\n[LAUGH]\n\n203\n00:10:50.398 --> 00:10:51.197\n&gt;&gt; Stick with Nate.\n\n204\n00:10:51.197 --> 00:10:54.220\n&gt;&gt; [LAUGH] So we'll go back into\nmy Virtual Switch Manager now and\n\n205\n00:10:54.220 --> 00:10:56.290\nI should be able to remove that.\n\n206\n00:10:56.290 --> 00:11:00.110\nBut if it's in use by any virtual\nmachines, we won't be able to remove it.\n\n207\n00:11:00.110 --> 00:11:03.140\nNow that warning that I keep\nclicking OK on I wanna show you, but\n\n208\n00:11:03.140 --> 00:11:04.330\nI'm gonna wait until I'm creating one.\n\n209\n00:11:04.330 --> 00:11:07.890\nI'm gonna do a new virtual switch,\nI'll do external, and\n\n210\n00:11:07.890 --> 00:11:10.300\nI'll choose create virtual switch.\n\n211\n00:11:10.300 --> 00:11:12.860\nNow all you have to do is give it a name,\nand\n\n212\n00:11:12.860 --> 00:11:18.530\nI'll call it external 2\ncuz it is my second one.\n\n213\n00:11:18.530 --> 00:11:19.420\nOr maybe I'll call it,\n\n214\n00:11:19.420 --> 00:11:23.560\nmaybe we'll say External Intel,\nthat's the Intel adapter over there.\n\n215\n00:11:23.560 --> 00:11:26.110\nBut I mean it gives you that\ninformation in the description.\n\n216\n00:11:26.110 --> 00:11:31.098\nAnd then down below here, I choose the\nnetwork adapter that I wanna bind to for\n\n217\n00:11:31.098 --> 00:11:35.430\nthis virtual switch and\nI'm gonna choose that Intel Pro.\n\n218\n00:11:35.430 --> 00:11:36.200\nWe also have options,\n\n219\n00:11:36.200 --> 00:11:40.100\nallow management operating system\nto share this network adapter.\n\n220\n00:11:40.100 --> 00:11:43.700\nManagement operating system,\nthat's the physical host, all right.\n\n221\n00:11:43.700 --> 00:11:45.560\nSo can it use that network adapter?\n\n222\n00:11:45.560 --> 00:11:48.760\nI might wanna use this for\njust the VMs to communicate across.\n\n223\n00:11:48.760 --> 00:11:52.639\nIf I've got a multi-home Hyper-V host,\nright, we've got three or\n\n224\n00:11:52.639 --> 00:11:54.350\nfour network adapters.\n\n225\n00:11:54.350 --> 00:11:56.872\nI might wanna say this\nnetwork adapter is solely for\n\n226\n00:11:56.872 --> 00:11:59.523\nthese VMs to communicate\nwith the external network.\n\n227\n00:11:59.523 --> 00:12:00.370\nI don't want-\n&gt;&gt; You\n\n228\n00:12:00.370 --> 00:12:01.620\nknow where a good place\nto put that would be is?\n\n229\n00:12:01.620 --> 00:12:02.250\n&gt;&gt; What's that?\n\n230\n00:12:02.250 --> 00:12:03.370\n&gt;&gt; In those notes.\n\n231\n00:12:03.370 --> 00:12:04.210\n&gt;&gt; In those notes?\n\n232\n00:12:04.210 --> 00:12:05.090\n&gt;&gt; Where it says notes.\n\n233\n00:12:05.090 --> 00:12:06.000\n[LAUGH]\n&gt;&gt; Yes, yeah, right up there?\n\n234\n00:12:06.000 --> 00:12:07.155\nThat would be a good idea.\n\n235\n00:12:07.155 --> 00:12:09.985\n&gt;&gt; It's like, wait, which one of\nthese machines is 02, I don't know.\n\n236\n00:12:09.985 --> 00:12:11.810\n[LAUGH]\n&gt;&gt; We can put things like that there,\n\n237\n00:12:11.810 --> 00:12:12.480\nthat's what that's for.\n\n238\n00:12:12.480 --> 00:12:13.870\n&gt;&gt; I was a stickler about that,\n\n239\n00:12:13.870 --> 00:12:16.440\nbecause there's a notes reason,\nand cuz I would always forget.\n\n240\n00:12:16.440 --> 00:12:17.680\nYou'll do it too, you get out there,\n\n241\n00:12:17.680 --> 00:12:19.910\nyou get in the,\nespecially with a bunch of machines.\n\n242\n00:12:19.910 --> 00:12:24.010\nYou got hundreds, maybe thousands of\nmachines, you wanna use those notes area.\n\n243\n00:12:24.010 --> 00:12:27.062\nWe're working with two,\nthree machines cuz it's a demonstration.\n\n244\n00:12:27.062 --> 00:12:28.440\n&gt;&gt; Right.\n&gt;&gt; But you get a big job,\n\n245\n00:12:28.440 --> 00:12:30.500\nyou need to put those notes,\nput exactly what it's for,\n\n246\n00:12:30.500 --> 00:12:31.760\nbe descriptive, it's helpful.\n\n247\n00:12:31.760 --> 00:12:33.980\n&gt;&gt; Absolutely,\nbecause you won't remember later, or\n\n248\n00:12:33.980 --> 00:12:37.320\nother admins that are working with it,\nit's very, very helpful.\n\n249\n00:12:37.320 --> 00:12:40.650\nSo we can allow the management, or\nnot, to use that network adapter.\n\n250\n00:12:40.650 --> 00:12:41.980\nWe can also do some SR-IOV,\n\n251\n00:12:41.980 --> 00:12:45.970\nthat's a little bit,\nwe'll talk about that in a later episode.\n\n252\n00:12:45.970 --> 00:12:48.600\nThat takes some special\nphysical equipment, or\n\n253\n00:12:48.600 --> 00:12:50.780\nan adapter that supports that.\n\n254\n00:12:50.780 --> 00:12:53.060\nSo we'll create it,\nI'll call it External Intel.\n\n255\n00:12:53.060 --> 00:12:55.940\nI've bound it to a network, and\nI'm gonna go ahead and click Apply.\n\n256\n00:12:55.940 --> 00:12:57.790\nAnd now let's take a look at this warning.\n\n257\n00:12:57.790 --> 00:13:00.530\nThe computer may lose its network\nconnection while the changes are applied,\n\n258\n00:13:00.530 --> 00:13:04.620\nmay affect network operations in progress,\noverwrite some static changes.\n\n259\n00:13:04.620 --> 00:13:07.540\nLooks like all kinds of bad things\ncould possibly happen when I do this.\n\n260\n00:13:07.540 --> 00:13:10.115\n&gt;&gt; Dogs and cats living together,\ntotal chaos.\n\n261\n00:13:10.115 --> 00:13:12.083\n[LAUGH]\n&gt;&gt; It's really not as bad as it sounds,\n\n262\n00:13:12.083 --> 00:13:13.539\nbut what's gonna happen is,\n\n263\n00:13:13.539 --> 00:13:16.700\nwhen we look at the network adapters for\nthis physical machine.\n\n264\n00:13:16.700 --> 00:13:18.891\nIf we go open up network and sharing, and\n\n265\n00:13:18.891 --> 00:13:21.540\nget into the network\nadapter's settings page.\n\n266\n00:13:21.540 --> 00:13:26.525\nWe'll see that what Hyper-V is\ndoing is creating a virtual network\n\n267\n00:13:26.525 --> 00:13:31.771\nadapter that has all the settings\nfrom the physical network adapter and\n\n268\n00:13:31.771 --> 00:13:34.140\nI'll show you here in a second.\n\n269\n00:13:34.140 --> 00:13:37.930\nBut the point is is that while it's doing\nthat, while it's basically turning,\n\n270\n00:13:37.930 --> 00:13:42.200\nnot turning off, but creating this virtual\nswitch that's bound to the network\n\n271\n00:13:42.200 --> 00:13:44.680\nadapter, that network adapter can't speak.\n\n272\n00:13:44.680 --> 00:13:47.650\nSo if I'm remoted into that Hyper-V\nserver, and I've done this,\n\n273\n00:13:47.650 --> 00:13:51.610\nI'm remoted into that Hyper-V server and I\nwanna create an external network on there.\n\n274\n00:13:51.610 --> 00:13:55.160\nAnd I pick the only network adapter\nthat's in that machine and I say yeah,\n\n275\n00:13:55.160 --> 00:13:55.930\ngo ahead and create it.\n\n276\n00:13:55.930 --> 00:13:58.730\nAnd all of a sudden my screen freezes.\n\n277\n00:13:58.730 --> 00:14:01.470\nWhat happened, no, what did I do?\n\n278\n00:14:01.470 --> 00:14:03.710\nNothing, it lost network connectivity,\nright.\n\n279\n00:14:03.710 --> 00:14:07.570\nI'm remoted into it but\nI just said to create an external\n\n280\n00:14:07.570 --> 00:14:11.280\nvirtual switch based on the network\nadapter, you lose connectivity.\n\n281\n00:14:11.280 --> 00:14:14.190\nSo something to keep in mind,\ndo be careful with that.\n\n282\n00:14:14.190 --> 00:14:18.630\nIf there were other virtual machines\nthat were communicating across that\n\n283\n00:14:18.630 --> 00:14:21.435\nnetwork adapter, all of a sudden\nwe're gonna have a problem, right?\n\n284\n00:14:21.435 --> 00:14:24.090\n[COUGH] We're gonna bring\nthem down temporarily,\n\n285\n00:14:24.090 --> 00:14:25.300\nI mean it will pop right back up.\n\n286\n00:14:25.300 --> 00:14:25.800\nSo, I'll say yes.\n\n287\n00:14:27.633 --> 00:14:31.790\nAnd I'll be honest, I mean typically\neven my remote desktop recovers from it.\n\n288\n00:14:31.790 --> 00:14:33.490\nIt freezes up for a second, and\n\n289\n00:14:33.490 --> 00:14:37.465\nas soon as the switch comes back online,\nor that network adapter, it reconnects.\n\n290\n00:14:37.465 --> 00:14:39.520\nSo we're usually we're good to go,\nall right.\n\n291\n00:14:39.520 --> 00:14:42.410\nSo that's external,\nthat's one type of network switch.\n\n292\n00:14:42.410 --> 00:14:45.810\nNow external again is bound to\nthe physical network adapter.\n\n293\n00:14:45.810 --> 00:14:49.750\nAnd that means any virtual\nmachines that I connect to that\n\n294\n00:14:49.750 --> 00:14:53.040\nvirtual switch will have access\nto the physical network,\n\n295\n00:14:53.040 --> 00:14:56.618\njust like they were plugged into\nthe actual physical network at a switch.\n\n296\n00:14:56.618 --> 00:15:00.890\nThat means they can get DHCP,\nif we're providing that on the network.\n\n297\n00:15:00.890 --> 00:15:04.420\nThey can communicate with other\nphysical servers on the network,\n\n298\n00:15:04.420 --> 00:15:07.160\nthey can communicate with\nthe Hyper-V host itself.\n\n299\n00:15:07.160 --> 00:15:10.080\nAnd they can communicate with\nany other virtual machines\n\n300\n00:15:10.080 --> 00:15:12.240\nthat are also connected\nto that virtual switch.\n\n301\n00:15:12.240 --> 00:15:15.460\nAll right, so they can connect to\nother virtual machines, the host, and\n\n302\n00:15:15.460 --> 00:15:16.250\nthe external network.\n\n303\n00:15:17.890 --> 00:15:21.000\nInternal, all right,\nlet's take a look at this one.\n\n304\n00:15:21.000 --> 00:15:24.400\nVirtual switch can be used only by the\nvirtual machines that run on this physical\n\n305\n00:15:24.400 --> 00:15:28.450\ncomputer, and between the virtual\nmachines and the physical computer.\n\n306\n00:15:28.450 --> 00:15:32.670\nSo when I create an internal I don't\nbind it to a physical network adapter,\n\n307\n00:15:32.670 --> 00:15:36.490\nit's a completely virtual concept,\nor device, and\n\n308\n00:15:36.490 --> 00:15:38.900\nI can plug my virtual machines into it.\n\n309\n00:15:38.900 --> 00:15:42.050\nAny machines that are plugged into that\ninternal switch can communicate with each\n\n310\n00:15:42.050 --> 00:15:44.710\nother, they can communicate\nwith the physical host.\n\n311\n00:15:44.710 --> 00:15:48.699\nThe physical host can talk on that\ninternal network adapter, but\n\n312\n00:15:48.699 --> 00:15:52.554\nvirtual machines cannot reach\nthe external network, right.\n\n313\n00:15:52.554 --> 00:15:55.374\nBecause it's not bound to\na physical network adapter,\n\n314\n00:15:55.374 --> 00:15:58.196\nit has no connectivity to\nthe actual physical network.\n\n315\n00:15:58.196 --> 00:16:02.309\nIt's all virtual,\nall contained within that host, so\n\n316\n00:16:02.309 --> 00:16:06.609\nonly VMs on that host And\nthe host itself can communicate.\n\n317\n00:16:06.609 --> 00:16:08.470\nThen you've got private.\n\n318\n00:16:08.470 --> 00:16:12.150\nAnd private is only used by\nthe virtual machines that run\n\n319\n00:16:12.150 --> 00:16:13.800\non the physical computer.\n\n320\n00:16:13.800 --> 00:16:14.690\nNot even the host.\n\n321\n00:16:14.690 --> 00:16:15.970\nThey can't ping the host.\n\n322\n00:16:15.970 --> 00:16:19.090\nThey can't connect to file shares\nthat are on the Hyper-V host.\n\n323\n00:16:19.090 --> 00:16:21.610\nThey can only talk to\nother virtual machines.\n\n324\n00:16:21.610 --> 00:16:24.540\nThat are connected to that private switch,\nall right?\n\n325\n00:16:25.590 --> 00:16:27.980\nSo that's the three different\ntypes of switches we can create.\n\n326\n00:16:27.980 --> 00:16:29.890\nWhere we go to create them.\n\n327\n00:16:29.890 --> 00:16:33.540\nWe talk about optimizing network\nperformance in Hyper-V and\n\n328\n00:16:33.540 --> 00:16:35.630\nisolating networks in Hyper-V.\n\n329\n00:16:35.630 --> 00:16:37.370\nThis is how we're doing it, right?\n\n330\n00:16:37.370 --> 00:16:42.440\nIf I wanna limit that traffic, like for\nexample later on we're gonna be doing some\n\n331\n00:16:42.440 --> 00:16:46.020\nclustering and some storage spaces direct.\n\n332\n00:16:46.020 --> 00:16:50.090\nAnd when I set this up,\nI create an external network adapter so\n\n333\n00:16:50.090 --> 00:16:53.160\nthat all my virtual machines can\nconnect to the physical network,\n\n334\n00:16:53.160 --> 00:16:57.120\nthey can get internet access because my\nphysical network has internet access.\n\n335\n00:16:57.120 --> 00:17:01.760\nBut I add a second network adapter to\neach one of those virtual machines.\n\n336\n00:17:01.760 --> 00:17:06.560\nAnd that is a private or internal,\nreally doesn't matter, network adapter.\n\n337\n00:17:06.560 --> 00:17:08.290\nIt depends on how I'm trying to limit it.\n\n338\n00:17:08.290 --> 00:17:11.350\nAnd I connect all four of those\nvirtual machines in my case\n\n339\n00:17:11.350 --> 00:17:13.400\nto that internal network, right?\n\n340\n00:17:13.400 --> 00:17:17.250\nSo they can use that network for\nthe heartbeat on the cluster, or\n\n341\n00:17:17.250 --> 00:17:21.700\nfor replicating data on\nthis storage spaces direct.\n\n342\n00:17:21.700 --> 00:17:22.670\nAnd things like that.\n\n343\n00:17:22.670 --> 00:17:26.895\nAnd it's not going to interfere\nwith traffic on the other network's\n\n344\n00:17:26.895 --> 00:17:27.850\nIt's isolated.\n\n345\n00:17:27.850 --> 00:17:31.730\nThe only nodes that can use it are the\nfour nodes that i've connected to it.\n\n346\n00:17:31.730 --> 00:17:33.970\nSo they can take full\nadvantage of the bandwidth.\n\n347\n00:17:33.970 --> 00:17:38.720\nThere's no other traffic, there's no\nfile sharing going on between users.\n\n348\n00:17:38.720 --> 00:17:40.610\nNothing else is going on, right?\n\n349\n00:17:40.610 --> 00:17:43.250\nSo when you need to isolate\nyour virtual machines,\n\n350\n00:17:43.250 --> 00:17:45.290\nyou simply create either a private or\n\n351\n00:17:45.290 --> 00:17:49.710\ninternal, depending if you want the host\nmachine to talk as well, network adaptor.\n\n352\n00:17:49.710 --> 00:17:51.030\nI'm sorry virtual switch.\n\n353\n00:17:51.030 --> 00:17:56.096\nAnd then you connect those vm's to that\nvirtual switch and it's so easy to\n\n354\n00:17:56.096 --> 00:18:01.664\nadd additional network adapters to a\nvirtual machine that I can do that, right?\n\n355\n00:18:01.664 --> 00:18:05.362\nI might, if I have two nodes that\nare connected to the external network they\n\n356\n00:18:05.362 --> 00:18:08.770\nalso have an internal there connecting\nto the domain controllers and\n\n357\n00:18:08.770 --> 00:18:10.473\nthe other members of that domain,\n\n358\n00:18:10.473 --> 00:18:13.902\nI might set up a private one just\nbetween those two virtual machines.\n\n359\n00:18:13.902 --> 00:18:17.486\nIf they need to do some communication\nthat's bandwidth intensive and\n\n360\n00:18:17.486 --> 00:18:21.186\nI wanna isolate it from the rest of my\nnetwork traffic, put it on a private\n\n361\n00:18:21.186 --> 00:18:24.490\nvirtual switch, connect them to it,\nno problems, all right?\n\n362\n00:18:25.930 --> 00:18:30.120\nAll right, next we wanna talk\nabout MAC addresses and so\n\n363\n00:18:30.120 --> 00:18:31.700\nlet's take a look at that.\n\n364\n00:18:31.700 --> 00:18:34.140\nI'm gonna cancel out of\nmy properties there, and\n\n365\n00:18:34.140 --> 00:18:36.550\nI'm gonna pull up the settings for\none of my virtual machines.\n\n366\n00:18:38.290 --> 00:18:44.570\nAnd let's go down to my,\nlet's see where I wanna do this.\n\n367\n00:18:44.570 --> 00:18:48.548\nMy network adapter.\n\n368\n00:18:48.548 --> 00:18:53.435\nYeah, I'm just going to dive in here for\njust a minute.\n\n369\n00:18:53.435 --> 00:18:54.817\nWhere did they?\n\n370\n00:18:54.817 --> 00:18:58.358\nAdvanced features, sorry there we go.\n\n371\n00:18:58.358 --> 00:19:01.915\nAnd you notice what I did there I\ntook one of my network adapters and\n\n372\n00:19:01.915 --> 00:19:03.030\nI expanded it out.\n\n373\n00:19:03.030 --> 00:19:06.140\nAnd underneath there I've got hardware\nacceleration which we're not getting into\n\n374\n00:19:06.140 --> 00:19:07.440\nin this particular one.\n\n375\n00:19:07.440 --> 00:19:09.300\nAnd then I've got these advanced features.\n\n376\n00:19:09.300 --> 00:19:13.870\nAnd that's for each network adapter,\nhas this advanced features.\n\n377\n00:19:13.870 --> 00:19:18.640\nAnd one of the things that I can do in\nhere is work with a machines MAC address.\n\n378\n00:19:18.640 --> 00:19:22.300\nNow this machine is running so\nI cannot change\n\n379\n00:19:22.300 --> 00:19:26.070\nthe MAC address information up there, but\nwe talk about it, I can pull it here.\n\n380\n00:19:26.070 --> 00:19:29.750\nLet's pull up the settings for\na machine that's not running,\n\n381\n00:19:29.750 --> 00:19:33.130\nwe'll go to node four,\ngonna do the same thing.\n\n382\n00:19:33.130 --> 00:19:36.780\nI'll expand out that network adapter,\nclick on advanced features.\n\n383\n00:19:37.790 --> 00:19:39.000\nIs node four?\n\n384\n00:19:39.000 --> 00:19:39.785\nWrong node four.\n\n385\n00:19:39.785 --> 00:19:42.360\n&gt;&gt; [LAUGH] There's multiple node fours.\n\n386\n00:19:42.360 --> 00:19:45.790\n&gt;&gt; Silly me, yeah, there we go.\n\n387\n00:19:45.790 --> 00:19:50.247\nAnd we'll go down to network, adapter.\n\n388\n00:19:51.548 --> 00:19:54.330\nAdvanced features, there we go.\n\n389\n00:19:54.330 --> 00:19:57.430\nAnd by default,\nit's gonna be set to dynamic,\n\n390\n00:19:57.430 --> 00:20:02.520\nwhich means it's gonna generate a MAC\naddress for this virtual machine.\n\n391\n00:20:02.520 --> 00:20:05.480\nOut of a pool of addresses\nthat's a sign to my server.\n\n392\n00:20:05.480 --> 00:20:06.920\nI don't know if I can open both of these\n\n393\n00:20:06.920 --> 00:20:08.555\nproperties up at the same time,\nlet's try it.\n\n394\n00:20:08.555 --> 00:20:11.680\nHyper-V setting, sure there we go.\n\n395\n00:20:11.680 --> 00:20:14.572\nAnd let's take a look at.\n\n396\n00:20:19.773 --> 00:20:25.226\nWell you know, I am,\nsorry that's gonna be again underneath my,\n\n397\n00:20:25.226 --> 00:20:28.328\nI keep going to the Hyper-V settings,\n\n398\n00:20:28.328 --> 00:20:33.000\ncuz way back when we didn't\nhave the separation.\n\n399\n00:20:33.000 --> 00:20:36.390\nVirtual switches, so\nI'm in my virtual switch manager.\n\n400\n00:20:36.390 --> 00:20:38.780\nDown at the bottom is\nmy MAC address range.\n\n401\n00:20:38.780 --> 00:20:42.250\nThis is where it's pooling,\nthis is the pool of MAC addresses\n\n402\n00:20:42.250 --> 00:20:46.570\nthat Hyper-V has available to\nassign to those virtual machines.\n\n403\n00:20:46.570 --> 00:20:47.130\nAll right.\n\n404\n00:20:47.130 --> 00:20:51.190\nSo if you had a particular range\nin mind that you wanted to use for\n\n405\n00:20:51.190 --> 00:20:54.840\nyour virtual machines,\nyou'd come in here, set your pool up.\n\n406\n00:20:54.840 --> 00:20:59.500\nUse your first six digits for your\nidentifier, your last six for your unique.\n\n407\n00:20:59.500 --> 00:21:02.980\nWhatever you wanna do, you can change\nthis up, this is just a default range.\n\n408\n00:21:02.980 --> 00:21:06.770\nIt's one that Microsoft uses\non all the Hyper-V servers.\n\n409\n00:21:06.770 --> 00:21:09.970\nAll right, so you can change that there\nagain, that's the pool of addresses.\n\n410\n00:21:09.970 --> 00:21:15.150\nBut, and we'll see that it's pulled\none from that pool of addresses.\n\n411\n00:21:15.150 --> 00:21:16.400\nBut what if I don't want it?\n\n412\n00:21:16.400 --> 00:21:20.860\nWhat if I have a specific MAC address in\nmind that I need that machine to use?\n\n413\n00:21:20.860 --> 00:21:23.520\nI can simply choose static, and\n\n414\n00:21:23.520 --> 00:21:27.640\nthen I can type in the MAC address that I\nwant to assign to that virtual machine.\n\n415\n00:21:27.640 --> 00:21:29.170\nAs long as we make sure it's unique right?\n\n416\n00:21:29.170 --> 00:21:30.360\n&gt;&gt; It has to be unique.\n\n417\n00:21:30.360 --> 00:21:32.670\n&gt;&gt; We've been through network flaws,\nwe've studied that.\n\n418\n00:21:32.670 --> 00:21:35.300\nWe know how the Mac address\nto IP address works.\n\n419\n00:21:35.300 --> 00:21:38.970\nWe know that the Mac addresses that unique\nidentifier for that network adapter.\n\n420\n00:21:38.970 --> 00:21:41.750\nIf I have two machines that\nare using the same, or\n\n421\n00:21:41.750 --> 00:21:44.240\nnetwork adapters,\nI should say more correctly,\n\n422\n00:21:44.240 --> 00:21:46.918\nthat are using the same MAC address we're\ngonna have problems delivering traffic.\n\n423\n00:21:46.918 --> 00:21:48.187\n&gt;&gt; Well maybe.\n\n424\n00:21:48.187 --> 00:21:51.430\n[LAUGH] It's basically the foundation for\n\n425\n00:21:51.430 --> 00:21:52.820\nman in the middle that\nacts on the network.\n\n426\n00:21:52.820 --> 00:21:55.960\nIt's just saying I am that MAC\naddress send me all your data.\n\n427\n00:21:55.960 --> 00:21:57.490\nAnd then I say there,\n\n428\n00:21:57.490 --> 00:22:01.260\ncomputer I'm that MAC address I'll,\nyou know you send me all your data and\n\n429\n00:22:01.260 --> 00:22:03.400\nyou get to see in the middle and\nwatch all the traffic fall through you.\n\n430\n00:22:03.400 --> 00:22:04.300\n&gt;&gt; Well there you go.\n\n431\n00:22:04.300 --> 00:22:07.016\n&gt;&gt; So, there are reasons you may\nwanna do this but not usually.\n\n432\n00:22:07.016 --> 00:22:08.204\n[LAUGH]\n&gt;&gt; Not usually.\n\n433\n00:22:08.204 --> 00:22:10.532\n&gt;&gt; [LAUGH] Exactly.\n\n434\n00:22:10.532 --> 00:22:11.050\nDepends on what you're trying to do.\n\n435\n00:22:11.050 --> 00:22:15.190\nIf you're doing a pen test, you might\nneed to spoof some MAC addresses in here.\n\n436\n00:22:15.190 --> 00:22:20.770\nSo you can definitely change that,\nyou can also enable MAC address spoofing.\n\n437\n00:22:20.770 --> 00:22:21.400\nYou can see here,\n\n438\n00:22:21.400 --> 00:22:25.080\nMAC address spoofing allows the virtual\nmachine to change the source MAC address.\n\n439\n00:22:25.080 --> 00:22:28.730\nAnd outgoing packets to one\nthat is not assigned to them.\n\n440\n00:22:28.730 --> 00:22:32.580\nSo if you have some application where\nyou need to do Mac address spoofing,\n\n441\n00:22:32.580 --> 00:22:34.260\nyou can enable that here.\n\n442\n00:22:34.260 --> 00:22:37.410\nThat would allow that\nmachine to do just that.\n\n443\n00:22:37.410 --> 00:22:39.230\nI'm gonna change this back to dynamic.\n\n444\n00:22:41.420 --> 00:22:44.560\nSo that's where I can control, again,\ntwo places I want to look at for\n\n445\n00:22:44.560 --> 00:22:45.960\nMac address information.\n\n446\n00:22:45.960 --> 00:22:49.950\nOn my virtual switch manager is where\nI can control the pool of addresses,\n\n447\n00:22:49.950 --> 00:22:51.990\nthat's available to give\nout to the machines.\n\n448\n00:22:51.990 --> 00:22:54.770\nEach machine has its own settings,\nor I should say,\n\n449\n00:22:54.770 --> 00:22:58.940\neach network adapter has its own\nsettings for its Mac address.\n\n450\n00:23:00.350 --> 00:23:04.125\nAlright, last thing that we've gotta talk\nabout here in networking when it comes to\n\n451\n00:23:04.125 --> 00:23:08.120\nHyper-V is going to be NIC Teaming.\n\n452\n00:23:08.120 --> 00:23:10.965\nNIC Teaming is where we\ntake a virtual machine or\n\n453\n00:23:10.965 --> 00:23:14.500\nNIC teaming in general is where\nyou take two network adapters and\n\n454\n00:23:14.500 --> 00:23:16.690\nyou create a team out of them,\nrah, rah, right?\n\n455\n00:23:16.690 --> 00:23:17.600\nAnd then they.\n&gt;&gt; It's\n\n456\n00:23:17.600 --> 00:23:19.350\nlike two Clydesdale's instead of one,\nright?\n\n457\n00:23:19.350 --> 00:23:21.450\nPuling the horse, or puling the cart.\n\n458\n00:23:21.450 --> 00:23:23.388\n&gt;&gt; Exactly, that's the idea.\n\n459\n00:23:23.388 --> 00:23:29.570\nWith NIC teaming what we're trying to do\nis provide a level of redundancy, right?\n\n460\n00:23:29.570 --> 00:23:33.650\nWhere I have two network adapters,\nI can create a team out of that.\n\n461\n00:23:33.650 --> 00:23:36.870\nAnd when all is going well,\ndepending on the options I choose,\n\n462\n00:23:36.870 --> 00:23:38.720\nI could use both of\nthose network adapters.\n\n463\n00:23:38.720 --> 00:23:42.460\nI could double up on my bandwidth,\none for inbound one for outbound.\n\n464\n00:23:42.460 --> 00:23:45.480\nAnd I could get a lot more\nthroughput on that network.\n\n465\n00:23:45.480 --> 00:23:48.922\nBut the reason we do the NIC team\ntypically is for fault tolerance,\n\n466\n00:23:48.922 --> 00:23:52.855\nwhereas if one of those network adapters\nfails, the other one is still up and\n\n467\n00:23:52.855 --> 00:23:56.009\nrunning and it keeps communicating\nlike nothing happened.\n\n468\n00:23:56.009 --> 00:23:58.822\nThat's the idea behind NIC Teaming.\n\n469\n00:23:58.822 --> 00:24:00.578\nSo in order to do NIC Teaming,\n\n470\n00:24:00.578 --> 00:24:04.109\nwe are gonna need a node that\nhas two network adapters in it.\n\n471\n00:24:04.109 --> 00:24:08.862\nWhich I believe, let's see,\nand to do NIC Teaming in my\n\n472\n00:24:08.862 --> 00:24:13.940\nvirtual machine,\nI don't need a NIC Team on the host.\n\n473\n00:24:13.940 --> 00:24:17.340\nBut I do need two network adaptors, right?\n\n474\n00:24:17.340 --> 00:24:21.630\nMe taking a virtual machine,\nadding two network adaptors to it and\n\n475\n00:24:21.630 --> 00:24:26.430\nconnecting them both to the same external\nvirtual switch on the Hyper-V Server\n\n476\n00:24:26.430 --> 00:24:27.970\ndoesn't do me any good, right?\n\n477\n00:24:27.970 --> 00:24:30.938\nBecause if that one network adapter\non the Hyper-V server fails,\n\n478\n00:24:30.938 --> 00:24:33.603\nwell both of the virtual NICs\nare connected to the same one.\n\n479\n00:24:33.603 --> 00:24:36.170\nSo they're both gonna be\ndead in the water, right?\n\n480\n00:24:36.170 --> 00:24:37.150\nSo we wanna think about that.\n\n481\n00:24:37.150 --> 00:24:41.216\nIt doesn't make any sense if I don't\nhave at least two network adapters in\n\n482\n00:24:41.216 --> 00:24:43.128\nthe physical host to do this with.\n\n483\n00:24:43.128 --> 00:24:45.462\n&gt;&gt; It's like storing your backups\non the drive you're backing up.\n\n484\n00:24:45.462 --> 00:24:47.738\n[LAUGH]\n&gt;&gt; Exactly,\n\n485\n00:24:47.738 --> 00:24:51.345\nthat's not gonna work out too well for\nyou, in the event of a failure.\n\n486\n00:24:51.345 --> 00:24:53.905\nAll right, so that's the same\nthing with NIC Teaming here.\n\n487\n00:24:53.905 --> 00:24:57.065\nWe do have to, again, underneath\nit doesn't have to be a team, but\n\n488\n00:24:57.065 --> 00:25:00.010\nit does have to be two\nphysical network adapters, and\n\n489\n00:25:00.010 --> 00:25:05.780\nthey have to be virtual external switches\nattached to those network adapters.\n\n490\n00:25:05.780 --> 00:25:10.037\nIf that network adapter, if you're\nconnecting it to an internal or a private,\n\n491\n00:25:10.037 --> 00:25:12.332\nnot gonna allow you to create NIC Teaming.\n\n492\n00:25:12.332 --> 00:25:16.690\nCuz again, you're just looking\nlike you have fault tolerance.\n\n493\n00:25:16.690 --> 00:25:19.520\nYou're connected to a virtual switch,\nbut that's an internal or\n\n494\n00:25:19.520 --> 00:25:21.818\nprivate that doesn't go anywhere.\n\n495\n00:25:21.818 --> 00:25:24.655\nIt's not gonna help you out in\nthe event of any kind of failure, okay?\n\n496\n00:25:24.655 --> 00:25:26.092\n&gt;&gt; I'm gonna make ten NICs.\n\n497\n00:25:26.092 --> 00:25:28.810\nI'm gonna connect them to\nthe same physical adapter.\n\n498\n00:25:28.810 --> 00:25:30.470\nI'm gonna get ten times the throughput.\n\n499\n00:25:30.470 --> 00:25:31.215\n&gt;&gt; Yeah, no.\n\n500\n00:25:31.215 --> 00:25:32.757\n&gt;&gt; Yeah, no, not gonna happen, right?\n\n501\n00:25:32.757 --> 00:25:34.821\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's double check,\n\n502\n00:25:34.821 --> 00:25:39.073\nin my virtual switch manager here I do\nhave two external networks created.\n\n503\n00:25:39.073 --> 00:25:42.150\nI've got one that's\nattached to that Intel Pro.\n\n504\n00:25:42.150 --> 00:25:45.590\nI've got another one that's attached\nto my Qualcomm network adapter.\n\n505\n00:25:45.590 --> 00:25:47.739\nSo I'm good to go there\non the physical setup.\n\n506\n00:25:47.739 --> 00:25:51.100\nNow we're gonna take a look\nat my virtual machine.\n\n507\n00:25:51.100 --> 00:25:54.160\nLet's take one that's already running,\n\n508\n00:25:54.160 --> 00:25:56.100\nthat way it'll be a little\nquicker to get into it.\n\n509\n00:25:56.100 --> 00:25:56.920\nI'll go to Settings.\n\n510\n00:25:58.810 --> 00:26:02.380\nAnd I've got one network\nadapter connected to external.\n\n511\n00:26:02.380 --> 00:26:05.340\nI'm gonna take the other network adapter.\n\n512\n00:26:05.340 --> 00:26:08.306\nAnd I'm going to connect\nit to the external intel.\n\n513\n00:26:08.306 --> 00:26:12.722\nSo again, two virtual network adapters\nconnected to two different virtual\n\n514\n00:26:12.722 --> 00:26:16.803\nswitches that are bound to two\ndifferent physical network adapters.\n\n515\n00:26:16.803 --> 00:26:18.939\nAll right, and I'll click OK.\n\n516\n00:26:18.939 --> 00:26:23.351\nAll right,\nnow we'll connect to that virtual machine.\n\n517\n00:26:26.033 --> 00:26:27.498\nThat was node one.\n\n518\n00:26:31.075 --> 00:26:35.703\nAnd get logged in, and then we do it just\nlike we would on a physical machine that's\n\n519\n00:26:35.703 --> 00:26:37.261\nrunning Server 2016.\n\n520\n00:26:37.261 --> 00:26:40.313\nRight, I'm gonna go to my local server and\nserver manager.\n\n521\n00:26:42.487 --> 00:26:46.060\nNIC Teaming is currently disabled,\nI can see that right there.\n\n522\n00:26:47.860 --> 00:26:49.635\nI'm gonna click on that word Disabled.\n\n523\n00:26:52.979 --> 00:26:56.560\nAnd then that one IP address is\nnot correct for this network.\n\n524\n00:26:56.560 --> 00:26:59.980\nWe'll see how that is statically\nmapped for a different lab, so\n\n525\n00:26:59.980 --> 00:27:02.070\nwe'll see if I need to adjust that.\n\n526\n00:27:02.070 --> 00:27:04.040\nBut there's my NIC Teaming dialogue box.\n\n527\n00:27:04.040 --> 00:27:06.200\nI got my node one.\n\n528\n00:27:06.200 --> 00:27:08.120\nYou can see adapters and interfaces.\n\n529\n00:27:08.120 --> 00:27:09.919\nBoy, this window is tiny,\nlet's make that bigger, there we go.\n\n530\n00:27:09.919 --> 00:27:13.752\nI've got Ethernet 1, and Ethernet 2.\n\n531\n00:27:13.752 --> 00:27:16.584\nSo I'm gonna go to Tasks&gt;New team.\n\n532\n00:27:19.361 --> 00:27:26.850\nAnd I'm gonna call this one,\nTeam NIC, go team.\n\n533\n00:27:26.850 --> 00:27:27.915\nYeah I'm not the most creative.\n\n534\n00:27:27.915 --> 00:27:29.723\n&gt;&gt; [LAUGH]\n&gt;&gt; I'll choose both of those network\n\n535\n00:27:29.723 --> 00:27:30.381\nadapters there.\n\n536\n00:27:30.381 --> 00:27:31.113\n&gt;&gt; That was good Mike.\n\n537\n00:27:31.113 --> 00:27:32.761\n&gt;&gt; And I'll click OK.\n\n538\n00:27:32.761 --> 00:27:36.235\nAnd it's gonna begin the process.\n\n539\n00:27:40.876 --> 00:27:42.508\nAnd eventually it will have created-\n&gt;&gt; To the waiting game, right?\n\n540\n00:27:42.508 --> 00:27:43.114\n&gt;&gt; Yeah.\n\n541\n00:27:43.114 --> 00:27:45.051\n&gt;&gt; We need some Jeopardy music or\nsomething there.\n\n542\n00:27:45.051 --> 00:27:46.397\n&gt;&gt; Yeah.\n&gt;&gt; [LAUGH]\n\n543\n00:27:46.397 --> 00:27:47.418\n&gt;&gt; And now look what happened.\n\n544\n00:27:47.418 --> 00:27:52.121\nI've lost my connection to that machine\nbecause I was remoted into it and\n\n545\n00:27:52.121 --> 00:27:54.910\nit's modifying those network adapters.\n\n546\n00:27:54.910 --> 00:27:58.860\nSo let's switch back over to VM host.\n\n547\n00:27:58.860 --> 00:28:01.432\nAnd we'll connect to that guy this way,\noops, and see what's going on.\n\n548\n00:28:01.432 --> 00:28:02.871\nJust use VM connect.\n\n549\n00:28:05.973 --> 00:28:09.040\nAnd I'll log in real quick,\nit was node one right?\n\n550\n00:28:09.040 --> 00:28:09.540\nPretty sure.\n\n551\n00:28:12.475 --> 00:28:17.626\nAll right, faulted connection pending,\nthere it is.\n\n552\n00:28:17.626 --> 00:28:18.221\n&gt;&gt; There it goes.\n\n553\n00:28:18.221 --> 00:28:21.020\n&gt;&gt; It was just being\na little slow on us there.\n\n554\n00:28:21.020 --> 00:28:23.390\nAnd now I have my NIC Team, right?\n\n555\n00:28:23.390 --> 00:28:26.980\nGot my NIC Team setup, got two network\nadapters, both at a gigabit, so\n\n556\n00:28:26.980 --> 00:28:29.850\nI should be able to double\nup on that throughput.\n\n557\n00:28:29.850 --> 00:28:31.350\nAnd let's do an experiment.\n\n558\n00:28:31.350 --> 00:28:33.580\nI think we've got just a little\nbit of time left, right?\n\n559\n00:28:33.580 --> 00:28:34.640\n&gt;&gt; Experiment away, Michael.\n\n560\n00:28:34.640 --> 00:28:38.100\n&gt;&gt; Okay, let's open up PowerShell, and\n\n561\n00:28:38.100 --> 00:28:43.795\nlet's do an ipconfig and\nsee what we got here.\n\n562\n00:28:43.795 --> 00:28:49.744\nTwo, I'm trying to think if it's going\nto mess with me with the IP addresses.\n\n563\n00:28:52.005 --> 00:28:54.489\nYeah, that's what I was,\nI don't know what that was.\n\n564\n00:28:54.489 --> 00:28:56.161\nI didn't even read it.\n\n565\n00:28:56.161 --> 00:28:57.125\n&gt;&gt; [LAUGH]\n&gt;&gt; I just clicked OK.\n\n566\n00:28:57.125 --> 00:28:58.518\n[LAUGH] I did the typical IT thing there.\n\n567\n00:28:58.518 --> 00:29:00.492\n&gt;&gt; Mike is a traditional user here.\n\n568\n00:29:00.492 --> 00:29:02.348\n&gt;&gt; [LAUGH]\n&gt;&gt; If it says error,\n\n569\n00:29:02.348 --> 00:29:03.913\nwe're gonna click OK and\nget it out of my face.\n\n570\n00:29:03.913 --> 00:29:06.220\n&gt;&gt; [LAUGH] All right, so there we go.\n\n571\n00:29:06.220 --> 00:29:08.170\nI can ping google.com.\n\n572\n00:29:08.170 --> 00:29:10.917\nAnd what was I gonna try to do?\n\n573\n00:29:10.917 --> 00:29:15.371\nLet's do a ping google.com-t.\n\n574\n00:29:15.371 --> 00:29:20.281\nAll right, so it's pinging away,\npinging away, pinging away.\n\n575\n00:29:20.281 --> 00:29:23.324\nAnd I'm gonna go to my physical host.\n\n576\n00:29:27.004 --> 00:29:29.688\nAnd we're gonna go to those adapters.\n\n577\n00:29:29.688 --> 00:29:35.763\nAnd I'm gonna grab my Intel,\nand I'm going to disable it.\n\n578\n00:29:35.763 --> 00:29:37.198\nNo.\n&gt;&gt; What have you done?\n\n579\n00:29:37.198 --> 00:29:40.424\n&gt;&gt; And we'll go back over here.\n\n580\n00:29:40.424 --> 00:29:42.363\n&gt;&gt; So many pings we lose.\n\n581\n00:29:42.363 --> 00:29:44.691\n&gt;&gt; See what happens.\n\n582\n00:29:44.691 --> 00:29:46.250\nAnd you know what?\n\n583\n00:29:46.250 --> 00:29:49.140\nBecause that other network\nadaptor has the wrong IP address,\n\n584\n00:29:49.140 --> 00:29:50.770\nI bet you it is going to fail.\n\n585\n00:29:50.770 --> 00:29:51.402\n&gt;&gt; Good demo, Mike.\n\n586\n00:29:51.402 --> 00:29:52.149\n[LAUGH]\n&gt;&gt; No, there it is.\n\n587\n00:29:52.149 --> 00:29:53.021\nIt picked back up.\n\n588\n00:29:53.021 --> 00:29:53.761\n&gt;&gt; It did do it.\n\n589\n00:29:53.761 --> 00:29:56.510\n&gt;&gt; I was worried there, I was like wait\na second, I don't know if it changed.\n\n590\n00:29:56.510 --> 00:29:57.330\n&gt;&gt; It didn't matter.\n\n591\n00:29:57.330 --> 00:29:59.980\n&gt;&gt; Because your NIC Team\nreally gets one IP address.\n\n592\n00:29:59.980 --> 00:30:03.102\nAnd so it got that from DHTP most likely,\nin my physical.\n\n593\n00:30:03.102 --> 00:30:05.820\nYou don't maintain two separate\nnetwork adapters in there.\n\n594\n00:30:05.820 --> 00:30:07.580\n&gt;&gt; Still not bad, you lost three pings.\n\n595\n00:30:07.580 --> 00:30:08.481\n&gt;&gt; Three pings.\n\n596\n00:30:08.481 --> 00:30:09.043\n&gt;&gt; That's pretty good.\n\n597\n00:30:09.043 --> 00:30:10.355\n&gt;&gt; That was it, right?\n\n598\n00:30:10.355 --> 00:30:14.937\nLet me enable that network adapter\nagain on my physical host, just so\n\n599\n00:30:14.937 --> 00:30:16.439\nthat I don't forget.\n\n600\n00:30:16.439 --> 00:30:21.508\nAnd while I'm in here,\nlast thing I will show is,\n\n601\n00:30:21.508 --> 00:30:27.445\nagain, when we look at the,\nhere is my Intel Pro, right?\n\n602\n00:30:27.445 --> 00:30:29.560\nThat's a physical network\nadapter in my host.\n\n603\n00:30:29.560 --> 00:30:30.640\nDo you wanna look at the properties?\n\n604\n00:30:33.250 --> 00:30:35.480\nRight, look, everything is unbound.\n\n605\n00:30:35.480 --> 00:30:39.336\nRight, the only protocols that are bound\nto that physical network adapter\n\n606\n00:30:39.336 --> 00:30:40.866\nis Microsoft's link local,\n\n607\n00:30:40.866 --> 00:30:44.640\none of their protocols, and\nHyper-V extensible virtual switch.\n\n608\n00:30:44.640 --> 00:30:46.430\nIt's like, wait, where's my IP address?\n\n609\n00:30:46.430 --> 00:30:47.910\nWhere's all that good stuff?\n\n610\n00:30:47.910 --> 00:30:51.230\nWell here is the virtual\nswitch that was created\n\n611\n00:30:51.230 --> 00:30:54.940\nwhen I bound that virtual\nswitch to that network adapter.\n\n612\n00:30:54.940 --> 00:31:01.250\nAnd if I look at that,\nThat's where my IPv4 protocol is attached.\n\n613\n00:31:01.250 --> 00:31:02.811\nThat's where it's getting it's IP address,\n\n614\n00:31:02.811 --> 00:31:05.140\nand when we're setting\nall of that information.\n\n615\n00:31:05.140 --> 00:31:08.890\nAnd that process, when I first\ncreated the switch, creating this and\n\n616\n00:31:08.890 --> 00:31:11.850\nremoving all the settings from this,\nthat's what makes us lose that network\n\n617\n00:31:11.850 --> 00:31:15.030\nconnectivity when we create that\nexternal network for the first time.\n\n618\n00:31:15.030 --> 00:31:15.830\nSo I just wanted to show you that.\n\n619\n00:31:15.830 --> 00:31:18.340\nI think I mentioned it and\nnever got around to showing you.\n\n620\n00:31:18.340 --> 00:31:19.480\nSo let me kill my ping.\n\n621\n00:31:21.040 --> 00:31:25.730\nAnd we should be, that's really about\nit I think for networking in Hyper-V.\n\n622\n00:31:25.730 --> 00:31:26.880\n&gt;&gt; Yeah, pretty straight forward.\n\n623\n00:31:26.880 --> 00:31:30.665\nYou just take your already foundational\nnetworking knowledge, and you're gonna\n\n624\n00:31:30.665 --> 00:31:34.084\nexpound upon it with a little bit of\nspecificity when it comes to Hyper-V.\n\n625\n00:31:34.084 --> 00:31:36.710\nIt's got its own little ways\nof doing some certain things.\n\n626\n00:31:36.710 --> 00:31:40.022\nBut if you understand networking, you\nshould be able to kick around there pretty\n\n627\n00:31:40.022 --> 00:31:41.690\neasily and figure out what's going on.\n\n628\n00:31:41.690 --> 00:31:45.400\nAnd if you can't, well then watch\nMike do it many, many times and\n\n629\n00:31:45.400 --> 00:31:48.720\nthen you'll go, yeah,\nthat's how we do that.\n\n630\n00:31:48.720 --> 00:31:51.500\nAll right, Mike, well we appreciate\nyou explaining these things to us so\n\n631\n00:31:51.500 --> 00:31:53.710\nthat we might use them\nin our environments.\n\n632\n00:31:53.710 --> 00:31:56.690\nWe thank you guys for watching, but\nour time has elapsed for today.\n\n633\n00:31:56.690 --> 00:31:58.826\nWe're going to go ahead and\nsign off for ITProTV.\n\n634\n00:31:58.826 --> 00:31:59.966\nI've been your host Daniel Lowrie.\n\n635\n00:31:59.966 --> 00:32:00.824\n&gt;&gt; And I'm Mike Rodrick.\n\n636\n00:32:00.824 --> 00:32:02.265\n&gt;&gt; And we'll see you next time.\n\n637\n00:32:02.265 --> 00:32:08.637\n[MUSIC]\n\n638\n00:32:08.637 --> 00:32:10.260\n&gt;&gt; Thank you for watching ITProTV\n\n",
          "vimeoId": "191688025"
        }
      ],
      "title": "Implement Hyper-V"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Don introduces the viewers to Hyper-V containers. He explains how they differ from traditional Docker containers and then demonstrates how to launch and manage Hyper-V containers.",
          "length": "1360",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-4-2-1-hyper-v-containers-101217-PGM.00_22_28_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-4-2-1-hyper-v-containers-101217-PGM.00_22_28_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-4-2-1-hyper-v-containers-101217-PGM.00_22_28_11.Still001-sm.jpg",
          "title": "Hyper V Containers",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:01.160\nWelcome to ITPROTV.\n\n2\n00:00:01.160 --> 00:00:02.495\nI'm your host Don Pezet.\n\n3\n00:00:02.495 --> 00:00:06.341\n[CROSSTALK]\n\n4\n00:00:06.341 --> 00:00:08.005\n[MUSIC]\n\n5\n00:00:08.005 --> 00:00:10.823\n&gt;&gt; You're watching ITPRO.TV.\n\n6\n00:00:10.823 --> 00:00:14.510\n&gt;&gt; Hello to all our viewers out there,\nthanks for tuning in.\n\n7\n00:00:14.510 --> 00:00:16.340\nWe got a great show in store for\nyou today.\n\n8\n00:00:16.340 --> 00:00:18.150\nI'm your show host, Wes Bryan, and\n\n9\n00:00:18.150 --> 00:00:22.250\nin today's episode we're gonna be\ncontinuing through our series on 7740.\n\n10\n00:00:22.250 --> 00:00:24.560\nThat's right, the MCSA and\nWindows Server 2016.\n\n11\n00:00:24.560 --> 00:00:28.404\nJoining us back in the studios is\nnone other than Mr. Don Pezet.\n\n12\n00:00:28.404 --> 00:00:29.508\nDon, how are you doing today, sir?\n\n13\n00:00:29.508 --> 00:00:30.474\n&gt;&gt; I am doing great,\n\n14\n00:00:30.474 --> 00:00:34.500\nready continue our adventure into\nthe world of Windows Server 2016.\n\n15\n00:00:34.500 --> 00:00:37.830\nAnd in this episode, we're gonna be\ntaking a look at Hyper-V containers.\n\n16\n00:00:37.830 --> 00:00:39.703\nNow, we already talked about\ncontainers in another episode.\n\n17\n00:00:39.703 --> 00:00:40.787\nWe did Docker, right?\n\n18\n00:00:40.787 --> 00:00:42.030\nDocker on top of Windows.\n\n19\n00:00:42.030 --> 00:00:44.280\nDocker is magic and\namazing and all that stuff.\n\n20\n00:00:44.280 --> 00:00:48.200\nBut one of the things I didn't talk about\nin that episode is there's actually two\n\n21\n00:00:48.200 --> 00:00:52.730\ndifferent deployment models for\nDocker inside of Windows Server 2016.\n\n22\n00:00:52.730 --> 00:00:55.640\nAnd everything that we saw in that last\nepisode was really what was called\n\n23\n00:00:55.640 --> 00:00:58.480\na Windows container, and\nit is the most common.\n\n24\n00:00:58.480 --> 00:01:03.412\nBut I wanna show you this new model,\nthat's a far less commonly used,\n\n25\n00:01:03.412 --> 00:01:05.390\na fringe item, but\nwe are gonna take at a look here,\n\n26\n00:01:05.390 --> 00:01:07.810\nthis episode which is\ncalled a Hyper-V container.\n\n27\n00:01:07.810 --> 00:01:10.430\nIt's still working with Docker,\nbut in a different way.\n\n28\n00:01:10.430 --> 00:01:13.535\nAnd that's what we are gonna be taking\na look at, right here in this episode.\n\n29\n00:01:13.535 --> 00:01:15.945\n&gt;&gt; So, you know,\nthe title is Hyper V containers.\n\n30\n00:01:15.945 --> 00:01:19.105\nBut that's not the only type of container\nthat we need to be aware of, right?\n\n31\n00:01:19.105 --> 00:01:20.835\nSo what other type of\ncontainers do we have?\n\n32\n00:01:20.835 --> 00:01:21.344\n&gt;&gt; All right.\nSo\n\n33\n00:01:21.344 --> 00:01:24.747\nwhat we used in the earlier episodes\nare technically what are called\n\n34\n00:01:24.747 --> 00:01:26.309\nWindows Containers, right?\n\n35\n00:01:26.309 --> 00:01:27.172\nThere's two types, right?\n\n36\n00:01:27.172 --> 00:01:28.945\nWindows Containers and Hyper V Containers.\n\n37\n00:01:28.945 --> 00:01:32.385\nAnd in the early days, these were\nactually proprietary containers.\n\n38\n00:01:32.385 --> 00:01:33.969\nThey weren't Docker containers at all.\n\n39\n00:01:33.969 --> 00:01:36.313\nAnd Microsoft eventually said,\nyou know what?\n\n40\n00:01:36.313 --> 00:01:39.180\nForget it, [LAUGH] we're not gonna\ndo our own container format.\n\n41\n00:01:39.180 --> 00:01:41.590\nSo they dumped theirs and\nthey adopt Docker.\n\n42\n00:01:41.590 --> 00:01:42.880\nAnd so that's what they've got.\n\n43\n00:01:42.880 --> 00:01:45.530\nSo now you have Windows containers,\nwhich are Docker.\n\n44\n00:01:45.530 --> 00:01:48.555\nAnd you have Hyper-V containers,\nwhich are Docker, all right.\n\n45\n00:01:48.555 --> 00:01:51.980\n[LAUGH] The difference is\nhow they're deployed, right?\n\n46\n00:01:51.980 --> 00:01:54.548\nAnd I didn't really harp on\nthis much in the other episode\n\n47\n00:01:54.548 --> 00:01:58.020\nbecause I was focused more on just\nshowing you how containers work.\n\n48\n00:01:58.020 --> 00:01:58.640\nBut now,\n\n49\n00:01:58.640 --> 00:02:02.690\nI wanna show you a little bit under\nthe hood of what's really going on, okay?\n\n50\n00:02:02.690 --> 00:02:04.550\nWhen we fire up a Docker container,\n\n51\n00:02:04.550 --> 00:02:07.910\nlike I did in the other episode,\nthat was a Windows container, and\n\n52\n00:02:07.910 --> 00:02:12.700\nthat meant that it was sharing the kernel\nwith the underlying operating system.\n\n53\n00:02:12.700 --> 00:02:14.250\nNow, there's pros and cons for that,\n\n54\n00:02:14.250 --> 00:02:17.058\nand on a positive side\nwe just need one kernel.\n\n55\n00:02:17.058 --> 00:02:21.030\nI could have 10 containers, 100 containers\nand they're all using one kernel.\n\n56\n00:02:21.030 --> 00:02:23.140\nThat's a good thing, right?\n\n57\n00:02:23.140 --> 00:02:26.240\nOn a negative side,\nsince they're all sharing the kernel,\n\n58\n00:02:26.240 --> 00:02:28.880\nthey're all running in\nthe same process space.\n\n59\n00:02:28.880 --> 00:02:34.440\nAnd that is not a good thing, if you want\nto have a multi-tenant installation.\n\n60\n00:02:34.440 --> 00:02:37.400\nAnd I think I did mention that\nin the episode that in theory,\n\n61\n00:02:37.400 --> 00:02:40.100\nyou could escape one container.\n\n62\n00:02:40.100 --> 00:02:41.740\nAccess data in another container.\n\n63\n00:02:41.740 --> 00:02:42.460\nAnd that would be bad.\n\n64\n00:02:42.460 --> 00:02:45.000\nIf you were a single tenant,\nit's not that big of a deal, but\n\n65\n00:02:45.000 --> 00:02:47.840\nin a multi-tenant, if you have\nmore than one company for example?\n\n66\n00:02:47.840 --> 00:02:50.660\nYou wouldn't want them to be\nable to cross over like that.\n\n67\n00:02:50.660 --> 00:02:54.780\nSo, that's a problem and it makes Windows\ncontainers a little less desirable.\n\n68\n00:02:54.780 --> 00:02:58.550\nNow, Windows containers are really\ndesigned, for developers.\n\n69\n00:02:58.550 --> 00:03:00.870\nI'm a developer,\nI'm on my own work station,\n\n70\n00:03:00.870 --> 00:03:03.640\nI wanna spin up these containers,\nthat's what they were designed for.\n\n71\n00:03:03.640 --> 00:03:05.880\nSo we didn't worry about\nthings like crossing over and\n\n72\n00:03:05.880 --> 00:03:07.900\nWindows Containers worked great, right?\n\n73\n00:03:07.900 --> 00:03:12.660\nBut if security is a concern, or\neven a changing architecture for\n\n74\n00:03:12.660 --> 00:03:15.450\nthat matter, then that's where\nthe Hyper-V containers come in.\n\n75\n00:03:15.450 --> 00:03:17.700\nSo Ill talk about those\na little bit later.\n\n76\n00:03:17.700 --> 00:03:20.550\nBut, the main thing with the Windows\ncontainers is that they will share\n\n77\n00:03:20.550 --> 00:03:22.320\nthe kernel, and\nI never really showed that.\n\n78\n00:03:22.320 --> 00:03:26.540\nSo I want to show you guys exactly how\nthat works, and what that means, right?\n\n79\n00:03:26.540 --> 00:03:30.245\nSo for example I've got my\nhandy PowerShell up and\n\n80\n00:03:30.245 --> 00:03:33.915\nthis is actually the exact same machine\nI used in the Docker episodes and so\n\n81\n00:03:33.915 --> 00:03:37.445\nI've already got docker installed\nalthough it's not doing anything, right?\n\n82\n00:03:37.445 --> 00:03:38.862\nI've got no containers.\n\n83\n00:03:38.862 --> 00:03:40.571\nAnd what I'm gonna do is,\n\n84\n00:03:40.571 --> 00:03:44.945\nI'm gonna run the ping command\ninside of a container, all right?\n\n85\n00:03:44.945 --> 00:03:47.885\nAnd I wanna do that so I can show\nyou a process that's running and\n\n86\n00:03:47.885 --> 00:03:50.824\nyou with ping you could use a dash T and\nthat it'll run forever so\n\n87\n00:03:50.824 --> 00:03:53.370\nit's an easy process for me to track.\n\n88\n00:03:53.370 --> 00:03:58.102\nIf I do a get dash process and\nI look for ping.\n\n89\n00:03:58.102 --> 00:04:02.103\nRight now I get cannot find\na process with the name of ping, so\n\n90\n00:04:02.103 --> 00:04:05.200\nI'm not running ping on my host at all,\nokay?\n\n91\n00:04:05.200 --> 00:04:08.454\nNow If I spin up a container,\nI'll do a Docker run,\n\n92\n00:04:08.454 --> 00:04:12.412\nI'm gonna dash d to detach it so\nit'll run in the background.\n\n93\n00:04:12.412 --> 00:04:15.600\nI need this to keep running for\nme, all right?.\n\n94\n00:04:15.600 --> 00:04:20.320\nAnd then I'll do a --name, I'm gonna call\nmine pingtest, so I can remember it.\n\n95\n00:04:20.320 --> 00:04:25.570\nAnd I'll use microsoft/windowsservercore.\n\n96\n00:04:25.570 --> 00:04:31.150\nAnd I'm gonna have it run ping -t and\nI'll ping Google.\n\n97\n00:04:31.150 --> 00:04:32.069\nBecause why not, right?\n\n98\n00:04:32.069 --> 00:04:35.620\nSo, that's gonna create a container,\nand what I just showed you,\n\n99\n00:04:35.620 --> 00:04:39.065\nthis comes right out of that first\nepisode, the Docker episode.\n\n100\n00:04:39.065 --> 00:04:41.512\nSo if you've seen that one,\nnothing here is new, right?\n\n101\n00:04:41.512 --> 00:04:44.620\nAnd when I run that,\nit's gonna create a container, right?\n\n102\n00:04:44.620 --> 00:04:49.330\nThere's my Shaw 256 hash and\nit's up and it's running, okay?\n\n103\n00:04:49.330 --> 00:04:51.440\nNow it's running ping in the background.\n\n104\n00:04:51.440 --> 00:04:53.090\nI don't see it but it is.\n\n105\n00:04:53.090 --> 00:04:57.730\nAnd if I do a dockerps I can see there's\nmy container called pingtest and\n\n106\n00:04:57.730 --> 00:04:58.560\nit is running.\n\n107\n00:04:58.560 --> 00:05:00.250\nIt's up and it's doing its job.\n\n108\n00:05:00.250 --> 00:05:02.870\nOkay, so what did it really do?\n\n109\n00:05:02.870 --> 00:05:08.140\nWell, it created a Windows Server Core\ncontainer, that's sharing my kernel.\n\n110\n00:05:08.140 --> 00:05:10.590\nAnd it's running ping.\n\n111\n00:05:10.590 --> 00:05:14.120\nAnd I can see that using\nthe Docker top command.\n\n112\n00:05:14.120 --> 00:05:17.330\nThe Docker top command is really cool\nbecause it shows you processes inside of\n\n113\n00:05:17.330 --> 00:05:18.410\na container.\n\n114\n00:05:18.410 --> 00:05:22.400\nSo I can say Docker top pingtest and\nit'll show me all\n\n115\n00:05:22.400 --> 00:05:26.500\nthe processes running inside my\npingtest container that I just made.\n\n116\n00:05:26.500 --> 00:05:27.610\nAnd there's not many.\n\n117\n00:05:27.610 --> 00:05:30.450\nBecause containers are ultra small, right?\n\n118\n00:05:30.450 --> 00:05:33.190\nIf you pull up the process list for your\nown computer it'll have a ton of stuff in\n\n119\n00:05:33.190 --> 00:05:36.310\nthere, but a container is ultra small,\nit fits on one screen.\n\n120\n00:05:36.310 --> 00:05:37.840\nAnd most of that's service host.\n\n121\n00:05:37.840 --> 00:05:42.300\nBut what I can find as I look down the\nlist, is this guy right here, .exe, right?\n\n122\n00:05:42.300 --> 00:05:46.640\nPing is running inside of this container,\nand that's great, right?\n\n123\n00:05:46.640 --> 00:05:48.700\nAnd it's running, and it's happy.\n\n124\n00:05:48.700 --> 00:05:51.760\nWell, what about on my host computer?\n\n125\n00:05:51.760 --> 00:05:57.840\nEarlier I ran get-process and I was\nlooking for ping and it didn't find it.\n\n126\n00:05:57.840 --> 00:05:58.629\nI got an error, right?\n\n127\n00:05:58.629 --> 00:06:01.005\nNow if I run it, there it is.\n\n128\n00:06:01.005 --> 00:06:03.030\nI'm running ping.\n\n129\n00:06:03.030 --> 00:06:04.590\nWhere am I running ping?\n\n130\n00:06:04.590 --> 00:06:06.120\nOn my host.\n\n131\n00:06:06.120 --> 00:06:08.410\nBut isn't this in a container?\n\n132\n00:06:08.410 --> 00:06:11.180\nThe short answer is, yes,\nit's in a container, but\n\n133\n00:06:11.180 --> 00:06:15.300\nthe container is sharing\nthe kernel with your host.\n\n134\n00:06:15.300 --> 00:06:16.780\nLook at the process ID.\n\n135\n00:06:16.780 --> 00:06:20.940\nOn my computer, on my host,\nthe process ID is 6288.\n\n136\n00:06:20.940 --> 00:06:23.110\nLook at the process ID\ninside of the container.\n\n137\n00:06:23.110 --> 00:06:27.680\n6288.\nThat is the same process.\n\n138\n00:06:27.680 --> 00:06:29.700\nI can see it in the container.\n\n139\n00:06:29.700 --> 00:06:31.910\nI can see it outside of the container.\n\n140\n00:06:31.910 --> 00:06:35.720\nContainers are not security boundaries,\nright?\n\n141\n00:06:35.720 --> 00:06:38.668\nIt is not providing security at all.\n\n142\n00:06:38.668 --> 00:06:41.249\nI've got full bleed over\nright here into the host OS.\n\n143\n00:06:42.270 --> 00:06:47.010\nWhat the container does is it creates\na consistent environment, right?\n\n144\n00:06:47.010 --> 00:06:50.050\nIt creates an environment for\nwell, ping in this case to run.\n\n145\n00:06:50.050 --> 00:06:51.092\nAnd it'll see,\n\n146\n00:06:51.092 --> 00:06:56.180\nsmss.exe in these other services that\nare part of our regular operations.\n\n147\n00:06:56.180 --> 00:07:00.455\nIt will see these things running it will\nknow what to expect and I can run ping on\n\n148\n00:07:00.455 --> 00:07:05.390\n1000 different computers using a container\nlike this and they'll all look the same.\n\n149\n00:07:05.390 --> 00:07:08.932\nEven though their underlying hardware and\nupdates on it might be completely\n\n150\n00:07:08.932 --> 00:07:11.160\ndifferent, the container\nwill look the same.\n\n151\n00:07:11.160 --> 00:07:13.110\nThat's what containers do, all right?\n\n152\n00:07:13.110 --> 00:07:17.420\nSo that's a Windows container and\nthat's how they work, how they do it.\n\n153\n00:07:17.420 --> 00:07:21.290\nThey share that kernel and\nthey don't even have to escape.\n\n154\n00:07:21.290 --> 00:07:24.070\nThey're already escaped,\nthey're already running on the host.\n\n155\n00:07:24.070 --> 00:07:27.820\nI can see that ping process and\nif I kill it.\n\n156\n00:07:27.820 --> 00:07:31.620\nSo if I do a Docker stop pingtest, right?\n\n157\n00:07:31.620 --> 00:07:34.450\nAnd I'll go ahead and\nstop that container, right?\n\n158\n00:07:34.450 --> 00:07:37.850\nNow if I do a Docker top pingtest,\nwell it's not even running, right?\n\n159\n00:07:37.850 --> 00:07:41.791\nSo it doesn't like that and\nif I do a get-process ping.\n\n160\n00:07:41.791 --> 00:07:44.370\nIt's not running on my host either, right?\n\n161\n00:07:44.370 --> 00:07:47.510\nI killed the container,\nI killed the process and it's gone.\n\n162\n00:07:47.510 --> 00:07:50.396\nAlright, so\nthat's how Windows containers work.\n\n163\n00:07:50.396 --> 00:07:54.227\nNow, it might sound like I'm\nmaking these things sound bad.\n\n164\n00:07:54.227 --> 00:07:55.035\nThey're not bad, right?\n\n165\n00:07:55.035 --> 00:07:56.282\nThey serve a purpose.\n\n166\n00:07:56.282 --> 00:07:58.374\nThe point I'm trying to make is that,\nit's not a security purpose.\n\n167\n00:07:58.374 --> 00:08:00.095\nIt's a configuration purpose.\n\n168\n00:08:00.095 --> 00:08:03.245\nIt gives us a consistent\nenvironment to work in.\n\n169\n00:08:03.245 --> 00:08:05.313\nAnd then we just have to understand that.\n\n170\n00:08:05.313 --> 00:08:07.635\n&gt;&gt; Now, Don if you're gonna\nrun Windows containers,\n\n171\n00:08:07.635 --> 00:08:10.910\nwhat are some of the requirements\nto running those Containers?\n\n172\n00:08:10.910 --> 00:08:13.220\n&gt;&gt; Well, you know in this case\nit's just using Docker, right?\n\n173\n00:08:13.220 --> 00:08:17.290\nSo we have to have Docker installed and\nwe bring up the Containers and\n\n174\n00:08:17.290 --> 00:08:20.700\nthey're in business and\nthat's basically it.\n\n175\n00:08:20.700 --> 00:08:23.980\nRight, that's the joy of Docker is\nthat I can go to 100 machines and\n\n176\n00:08:23.980 --> 00:08:27.829\nif I just install Docker, I can then start\nspinning up these containers, right?\n\n177\n00:08:27.829 --> 00:08:29.980\nThat's all there is to it.\n\n178\n00:08:29.980 --> 00:08:33.550\nNow, the challenge with a Windows\nContainer that we have to remember though,\n\n179\n00:08:33.550 --> 00:08:37.380\nis that it is going to share\nthe kernel of the host OS.\n\n180\n00:08:37.380 --> 00:08:38.420\nWhat's our host OS?\n\n181\n00:08:38.420 --> 00:08:41.250\nIn my case it's Windows Server 2016.\n\n182\n00:08:41.250 --> 00:08:45.210\nSo my containers are Windows Server 2016.\n\n183\n00:08:45.210 --> 00:08:50.881\nIt might be a nanobuild or a server core\nbuild, but it's still Windows Server 2016.\n\n184\n00:08:50.881 --> 00:08:52.570\nWhat if I wanna run a Linux container?\n\n185\n00:08:53.690 --> 00:08:56.710\nToo bad,\nLinux has a different kernel than Windows.\n\n186\n00:08:56.710 --> 00:08:58.520\nI can't run a Linux container.\n\n187\n00:08:58.520 --> 00:09:05.200\nIf I do a Docker pull\nmicrosoft/nanoserver, right?\n\n188\n00:09:05.200 --> 00:09:08.570\nIt's gonna reach out and it's gonna try\nand get the latest copy of Nano Server,\n\n189\n00:09:08.570 --> 00:09:09.340\nwhich I've already got.\n\n190\n00:09:09.340 --> 00:09:10.860\nIt's happy with that, right?\n\n191\n00:09:10.860 --> 00:09:17.820\nBut if I do a docker pull centos,\nthat's a Linux distribution.\n\n192\n00:09:17.820 --> 00:09:21.720\nWell, it's gonna look and it's gonna say,\nokay, I need to get the copy of\n\n193\n00:09:21.720 --> 00:09:26.380\nCentOS that uses the Windows kernel\n[LAUGH] and it doesn't exist, right?\n\n194\n00:09:26.380 --> 00:09:29.467\nThere is no Linux that uses the Windows\nkernel, that doesn't happen.\n\n195\n00:09:29.467 --> 00:09:31.530\nAnd so I can't download it,\nI can't get it, right?\n\n196\n00:09:31.530 --> 00:09:34.520\nNo matching manifest for 64-bit Windows.\n\n197\n00:09:34.520 --> 00:09:37.515\nThat's what windows/amd6 64,\nso a 64 version of Windows.\n\n198\n00:09:37.515 --> 00:09:38.625\nIt can't find it, right?\n\n199\n00:09:38.625 --> 00:09:40.235\nIt doesn't work.\n\n200\n00:09:40.235 --> 00:09:41.985\nRegular containers share the kernel.\n\n201\n00:09:41.985 --> 00:09:46.155\nIf I'm running the container on a Linux\nbox, it's looking for the Linux kernel.\n\n202\n00:09:46.155 --> 00:09:48.515\nIf I run it on a Windows box,\nlooking for the Windows kernel.\n\n203\n00:09:48.515 --> 00:09:51.355\nAnd that's one of the reasons\nwhy you see a lot of people,\n\n204\n00:09:51.355 --> 00:09:55.155\nthey don't like to use Docker on Windows.\n\n205\n00:09:55.155 --> 00:09:59.570\nOr they'll use Docker in conjunction\nwith a virtualization platform.\n\n206\n00:09:59.570 --> 00:10:01.130\nWell, now wait a minute,\n\n207\n00:10:01.130 --> 00:10:04.720\ndidn't I say the other type of\ncontainer was a Hyper-V container?\n\n208\n00:10:04.720 --> 00:10:08.530\nThere it is, we're bringing\na virtualization platform in.\n\n209\n00:10:08.530 --> 00:10:10.808\nWhat Operating Systems\ncan I run on Hyper-V?\n\n210\n00:10:10.808 --> 00:10:15.476\nI can run Windows, sure, but\nI can also run Linux, I can run FreeBSD,\n\n211\n00:10:15.476 --> 00:10:19.170\nI can run all sorts of\noperating systems on there.\n\n212\n00:10:19.170 --> 00:10:23.203\nAnd now I can have containers that\nare far more powerful, all right?\n\n213\n00:10:23.203 --> 00:10:28.125\nNow, if we had a scale of one to ten\non how cutting edge a technology was,\n\n214\n00:10:28.125 --> 00:10:32.660\nmulti-platform containers\nare probably at a nine right now.\n\n215\n00:10:32.660 --> 00:10:35.060\nThis is really cutting edge for Microsoft.\n\n216\n00:10:35.060 --> 00:10:39.400\nIn fact, they've all ready rolled out\nthe Hyper-V container support for\n\n217\n00:10:39.400 --> 00:10:44.750\nrunning containers in their own Hyper-V\ninstance, in their own virtual machine.\n\n218\n00:10:44.750 --> 00:10:48.740\nBut, they're holding it just to\nthe Windows platform in the production\n\n219\n00:10:48.740 --> 00:10:49.620\nsoftware right now.\n\n220\n00:10:49.620 --> 00:10:52.050\nSo on the exam you'll only\nsee the Windows platform.\n\n221\n00:10:52.050 --> 00:10:56.470\nBut if you do the Windows insider builds\nof server 2016, they've already got\n\n222\n00:10:56.470 --> 00:11:00.830\nsupport for Linux and FreeBSD that are\nalready a part of it that are ready to go.\n\n223\n00:11:00.830 --> 00:11:02.510\nIt just hasn't made it\nover to production yet,\n\n224\n00:11:02.510 --> 00:11:04.390\nwhich means it also hasn't\nmade it on the exam.\n\n225\n00:11:04.390 --> 00:11:06.090\nIn real life, you care about that.\n\n226\n00:11:06.090 --> 00:11:08.980\nYou want those Linux containers cuz\nthat's what's gonna give you the full\n\n227\n00:11:08.980 --> 00:11:10.980\ncompatibility with everybody else.\n\n228\n00:11:10.980 --> 00:11:14.860\nIn the exam we don't care about that,\nwe just need to know what we need to know.\n\n229\n00:11:14.860 --> 00:11:18.940\nSo I want to show you how\nthese Hyper-V containers work.\n\n230\n00:11:18.940 --> 00:11:22.010\nAnd actually bring one up and\nthe main thing that we are looking for\n\n231\n00:11:22.010 --> 00:11:25.340\nis I'm going to basically repeat\nthe same demo that I just did.\n\n232\n00:11:25.340 --> 00:11:30.960\nAnd what we should see when\nwe run the container inside\n\n233\n00:11:30.960 --> 00:11:36.790\nof a Hyper-V virtual machine, that the\nprocess will be in the virtual machine.\n\n234\n00:11:36.790 --> 00:11:39.210\nThe process will not be in our host OS.\n\n235\n00:11:39.210 --> 00:11:42.950\nThat we've now created a security\nboundary around that virtual machine.\n\n236\n00:11:42.950 --> 00:11:47.142\nThat's the big advantage of doing\na Hyper-V container, right?\n\n237\n00:11:47.142 --> 00:11:49.330\nSo let's repeat this process, right?\n\n238\n00:11:49.330 --> 00:11:51.680\nLet's jump in here and\nkinda see what we're gonna see.\n\n239\n00:11:53.290 --> 00:11:59.560\nEarlier, I did a get -process and\nI looked for ping and I didn't find it.\n\n240\n00:11:59.560 --> 00:12:01.155\nOkay, great, I did it again.\n\n241\n00:12:01.155 --> 00:12:03.260\nWoo-hoo, so I didn't find it.\n\n242\n00:12:03.260 --> 00:12:05.926\nThen I spun up a container.\n\n243\n00:12:05.926 --> 00:12:09.048\nLet me find where I did,\nright here where I pulled\n\n244\n00:12:09.048 --> 00:12:13.850\na Microsoft Windows Server Core and\nI did a ping to Google, right?\n\n245\n00:12:13.850 --> 00:12:15.970\nI'm wanna modify this command line.\n\n246\n00:12:15.970 --> 00:12:18.830\nAnd after I set the name,\nI'm gonna add a little more to it.\n\n247\n00:12:18.830 --> 00:12:28.130\nI'm gonna add\n--isolation=hyperv like that.\n\n248\n00:12:28.130 --> 00:12:31.200\nOkay, the line is the same otherwise.\n\n249\n00:12:31.200 --> 00:12:34.685\nI'm just adding this one little entry,\nisolation=hyperv.\n\n250\n00:12:34.685 --> 00:12:39.095\nThere's actually two different values\nhere, one is isolation equals default and\n\n251\n00:12:39.095 --> 00:12:40.310\nisolation=hyperv.\n\n252\n00:12:40.310 --> 00:12:42.428\nDefault is, well the default so\nyou leave that off and\n\n253\n00:12:42.428 --> 00:12:45.266\nthat's a Windows container which\nmight as well say isolation=none.\n\n254\n00:12:45.266 --> 00:12:49.000\n[LAUGH] Cuz you don't really have a whole\nheck of a lot of isolation there.\n\n255\n00:12:49.000 --> 00:12:53.550\nBut with this one, what it's telling\nit to do is saying, hey, when you run\n\n256\n00:12:53.550 --> 00:12:58.530\nthis container, don't just run it on the\nnormal kernel, create a virtual machine.\n\n257\n00:12:58.530 --> 00:13:00.250\nAnd in that virtual machine,\n\n258\n00:13:00.250 --> 00:13:04.320\nyou're getting your kernel from\nthe package right here, okay?\n\n259\n00:13:04.320 --> 00:13:06.660\nFrom this particular image,\n\n260\n00:13:06.660 --> 00:13:09.280\nthe Windows Server Core image which\ndoes have the kernel in there.\n\n261\n00:13:09.280 --> 00:13:11.230\nIt just doesn't normally use it, right?\n\n262\n00:13:11.230 --> 00:13:12.800\nNow we're gonna tell it to use it.\n\n263\n00:13:12.800 --> 00:13:16.840\nNow, before I run this, though,\nI wanna point out two things, one,\n\n264\n00:13:16.840 --> 00:13:19.900\nit takes a little longer to run, because\nit's gotta create a virtual machine.\n\n265\n00:13:19.900 --> 00:13:21.750\nWhen I launch the container,\nit launches pretty damn fast,\n\n266\n00:13:21.750 --> 00:13:23.350\nthis will take it just\na little bit longer.\n\n267\n00:13:23.350 --> 00:13:27.090\nThe other thing is,\nif you fire up your Hyper-V Manager and\n\n268\n00:13:27.090 --> 00:13:31.290\nyou start looking at all of your\nHyper-V host or guest that you've got.\n\n269\n00:13:31.290 --> 00:13:36.803\nRight I've got ton on the server\nquite a few here, right?\n\n270\n00:13:36.803 --> 00:13:38.370\nYou won't see it here.\n\n271\n00:13:38.370 --> 00:13:40.130\nIt doesn't show up, right?\n\n272\n00:13:40.130 --> 00:13:44.250\nIt is a Hyper-V virtual machine but\nit's special.\n\n273\n00:13:44.250 --> 00:13:44.990\nIt is Magic, I don't know.\n\n274\n00:13:44.990 --> 00:13:47.290\nWhatever the official term is there.\n\n275\n00:13:47.290 --> 00:13:48.800\nBut it won't show up here in this list.\n\n276\n00:13:48.800 --> 00:13:52.210\nIt can't be managed with\nthe Hyper V manager.\n\n277\n00:13:52.210 --> 00:13:54.000\nIt's managed by Docker, right?\n\n278\n00:13:54.000 --> 00:13:55.780\nSo it's in a separate management domain.\n\n279\n00:13:55.780 --> 00:13:59.270\nBut it is using the Hyper-V\nhypervisor to do the work, right?\n\n280\n00:13:59.270 --> 00:14:00.760\nSo a key thing I want to point out.\n\n281\n00:14:00.760 --> 00:14:03.130\nA lot of people get confused on that cuz\nthey come here looking for it, like,\n\n282\n00:14:03.130 --> 00:14:04.250\nwhere's ping test?\n\n283\n00:14:04.250 --> 00:14:05.780\nAnd it doesn't show up, right?\n\n284\n00:14:05.780 --> 00:14:07.460\nSo maybe one day that'll change.\n\n285\n00:14:07.460 --> 00:14:11.470\nAgain, this is on a scale of one to ten,\nthis is a nine on the cutting edge rating.\n\n286\n00:14:11.470 --> 00:14:14.350\nSo this is pretty new stuff so\nmaybe that'll change later on.\n\n287\n00:14:14.350 --> 00:14:15.570\nBut I'm gonna go ahead and\n\n288\n00:14:15.570 --> 00:14:20.835\nrun this and there it goes and\nI got an error, what was my error.\n\n289\n00:14:20.835 --> 00:14:26.465\nLet's see I got an instance called\nping test, I didn't remove it.\n\n290\n00:14:26.465 --> 00:14:30.045\nSo let me get rid of my instance\ncalled ping test, there we go.\n\n291\n00:14:30.045 --> 00:14:32.925\nAnd now I'll spin it up,\nand there it goes.\n\n292\n00:14:32.925 --> 00:14:35.560\nIt actually created the container\nreally fast, right?\n\n293\n00:14:35.560 --> 00:14:38.900\nAnd it gave me my SHA 256 sum\nof the container that it made.\n\n294\n00:14:38.900 --> 00:14:40.550\nBut then it paused for a moment, and\n\n295\n00:14:40.550 --> 00:14:44.070\nthat was it creating a virtual machine,\nsticking the container data in it,\n\n296\n00:14:44.070 --> 00:14:46.708\nwhich is basically like creating a VHD,\nand then firing it up.\n\n297\n00:14:46.708 --> 00:14:50.070\nMy container is really small, so\nthat whole process didn't take that long.\n\n298\n00:14:50.070 --> 00:14:52.310\nBut now it's up and\nrunning, and I'm pinging.\n\n299\n00:14:53.480 --> 00:14:54.750\nHow do I know that?\n\n300\n00:14:54.750 --> 00:14:57.992\nWell, I knew that earlier\nby doing docker top, right?\n\n301\n00:14:57.992 --> 00:15:00.260\nI said docker top pingtest.\n\n302\n00:15:00.260 --> 00:15:02.360\nShow me what's running inside a pingtest.\n\n303\n00:15:02.360 --> 00:15:06.980\nAnd when I ran that, I was able to find\nping right there, and I can again.\n\n304\n00:15:06.980 --> 00:15:11.155\nSo there it is, it's running and\nit's process 1892.\n\n305\n00:15:11.155 --> 00:15:16.710\nAnd then I can run Get-Process, and\nI can look for ping on my host.\n\n306\n00:15:16.710 --> 00:15:21.220\nAnd when I run that, I get an error,\nright, it's not there.\n\n307\n00:15:21.220 --> 00:15:25.080\n&gt;&gt; Now I see some separation going on here\nbetween the container and the host here.\n\n308\n00:15:25.080 --> 00:15:27.300\nHow does that affect your\nmulti-tenant solution?\n\n309\n00:15:27.300 --> 00:15:30.050\n&gt;&gt; So now, we have real isolation, right?\n\n310\n00:15:30.050 --> 00:15:31.769\nMy host doesn't see ping running anymore,\n\n311\n00:15:31.769 --> 00:15:33.864\nbecause ping is running\ninside of a virtual machine.\n\n312\n00:15:33.864 --> 00:15:36.629\nAnd so if I had a multi-tenant\ndistribution, right, or\n\n313\n00:15:36.629 --> 00:15:40.894\nI had three different companies, all in\nthree different containers, that's great,\n\n314\n00:15:40.894 --> 00:15:44.050\nI've got isolation,\nI've got that separation.\n\n315\n00:15:44.050 --> 00:15:47.184\nPerformance it's gonna be the same as\nanything that you run on Hyper-V which is\n\n316\n00:15:47.184 --> 00:15:49.090\ndone near bear metal speeds anyway.\n\n317\n00:15:49.090 --> 00:15:51.471\nPerformance is better\nwith a Windows Container,\n\n318\n00:15:51.471 --> 00:15:54.658\nI'm not gonna lie to you there but\nit is not by that much of a margin.\n\n319\n00:15:54.658 --> 00:15:58.879\nSo our performance isn't that much\naffected, but now we have real isolation,\n\n320\n00:15:58.879 --> 00:16:02.788\nmy host doesn't see ping ,it doesn't\nknow it's running while Sort of.\n\n321\n00:16:02.788 --> 00:16:05.251\nI mean there's the traffic going\nthrough the virtual network adapter,\n\n322\n00:16:05.251 --> 00:16:05.987\nit knows about that.\n\n323\n00:16:05.987 --> 00:16:08.970\nBut it doesn't see the process.\n\n324\n00:16:08.970 --> 00:16:12.150\nAnd more importantly, each container\ncan't see each others' processes.\n\n325\n00:16:12.150 --> 00:16:13.630\nThey are isolated.\n\n326\n00:16:13.630 --> 00:16:16.450\nNow I've got a security\nboundary on that container.\n\n327\n00:16:16.450 --> 00:16:21.360\nFunctionality wise, if I did a Windows\ntask in a Windows container, or\n\n328\n00:16:21.360 --> 00:16:23.360\nI did a Windows task in\na Hyper-V container,\n\n329\n00:16:23.360 --> 00:16:26.490\nthere's not much difference\naside from security.\n\n330\n00:16:26.490 --> 00:16:29.990\nSo if you're not worried about multi\ntenant, stick with the Windows container.\n\n331\n00:16:29.990 --> 00:16:33.670\nBut if you are multi tenant, or you're\nat least just worried about security,\n\n332\n00:16:33.670 --> 00:16:35.420\nthen you go with a Hyper-V container.\n\n333\n00:16:35.420 --> 00:16:38.030\nNow, in the future that's gonna change.\n\n334\n00:16:38.030 --> 00:16:40.530\nIf I wanna do a Linux container,\n\n335\n00:16:40.530 --> 00:16:45.590\na Linux based image inside of a container,\nI have to do Hyper-V, okay?\n\n336\n00:16:45.590 --> 00:16:48.860\nI can't do a Windows container,\ncuz this is a different kernel.\n\n337\n00:16:48.860 --> 00:16:53.230\nIt's not how the system works, I've got\nto have a Hyper-V container for that.\n\n338\n00:16:53.230 --> 00:16:55.870\nBut right now,\nI can't even download the image, so\n\n339\n00:16:55.870 --> 00:16:58.440\nI can't deploy a Linux image yet.\n\n340\n00:16:58.440 --> 00:16:59.950\nBut if you go to Microsoft's website,\n\n341\n00:16:59.950 --> 00:17:02.690\nthey've got the insider builds that\ndo it and the instructions to do it.\n\n342\n00:17:02.690 --> 00:17:07.350\nSo depending on when you watch\nthe episode, we're in October.\n\n343\n00:17:07.350 --> 00:17:10.440\nI'm gonna date my episode,\nwe try not to do that normally.\n\n344\n00:17:10.440 --> 00:17:12.170\nBut this is October of 2017.\n\n345\n00:17:12.170 --> 00:17:15.000\nIf you're watching the episode in 2018,\n\n346\n00:17:15.000 --> 00:17:17.550\nthe odds are you can already\ndo Linux containers.\n\n347\n00:17:17.550 --> 00:17:21.180\nIt should be less than three months from\nnow where we have that functionality.\n\n348\n00:17:21.180 --> 00:17:24.810\nBut if you're watching this in 2017,\nwhich is where we exist right now,\n\n349\n00:17:24.810 --> 00:17:29.290\nit's kinda like time travel in a way,\nthen you don't have that support,\n\n350\n00:17:29.290 --> 00:17:32.400\nexcept in the beta versions, which you\ndon't wanna run production anyway.\n\n351\n00:17:32.400 --> 00:17:33.970\nAnd Windows 10 is the same way.\n\n352\n00:17:33.970 --> 00:17:36.030\nIt's in the Windows 10 insider builds.\n\n353\n00:17:36.030 --> 00:17:39.150\nBut now I am isolated,\nand it stays isolated.\n\n354\n00:17:39.150 --> 00:17:42.426\nI can still do my docker top and\nlook inside of that instance and\n\n355\n00:17:42.426 --> 00:17:44.760\nmake sure that it is still running.\n\n356\n00:17:44.760 --> 00:17:46.400\nSo there it is, ping is still running.\n\n357\n00:17:46.400 --> 00:17:47.820\nI can kill that off.\n\n358\n00:17:48.880 --> 00:17:55.300\nI will do a, not a ping,\nI will do a docker stop pingtest.\n\n359\n00:17:55.300 --> 00:17:57.330\nAnd we'll kill that off.\n\n360\n00:17:57.330 --> 00:17:58.030\nYou know what?\n\n361\n00:17:58.030 --> 00:17:59.680\nLet me start that back up again.\n\n362\n00:17:59.680 --> 00:18:04.290\nI'm going to start that one back up again\nbecause I wanted to show you guys how,\n\n363\n00:18:04.290 --> 00:18:06.860\nin the Hyper-V manager,\nit didn't show up, right?\n\n364\n00:18:08.500 --> 00:18:09.168\nIt's gonna be unhappy, isn't it?\n\n365\n00:18:10.210 --> 00:18:12.281\nNo, it's running, all right.\n\n366\n00:18:12.281 --> 00:18:15.380\n[LAUGH] I wasn't sure if\nthe command would resume.\n\n367\n00:18:15.380 --> 00:18:18.270\nSometimes you just have to\nspin up an all new container,\n\n368\n00:18:18.270 --> 00:18:20.115\nwhich honestly wouldn't be that hard for\nme to do anyway.\n\n369\n00:18:20.115 --> 00:18:23.550\n[LAUGH] I'll do a pingtest two.\n\n370\n00:18:23.550 --> 00:18:25.420\nWe'll see how many pingtests\nI can get running.\n\n371\n00:18:25.420 --> 00:18:26.660\nSo I'm spinning up yet another container.\n\n372\n00:18:26.660 --> 00:18:28.600\nSo now I've got multiple\ncontainers that are up,\n\n373\n00:18:28.600 --> 00:18:30.970\nand that are running the ping tests,\nright?\n\n374\n00:18:30.970 --> 00:18:34.110\nAnd if I go back to my Hyper-V manager and\n\n375\n00:18:34.110 --> 00:18:37.420\nI take a look back in here,\nI'm just gonna refresh this screen.\n\n376\n00:18:37.420 --> 00:18:40.330\nAnd let's zoom in a bit so\nyou guys know I'm not lying.\n\n377\n00:18:40.330 --> 00:18:44.360\nAnd we'll alphabetize\ncuz I like the alphabet.\n\n378\n00:18:44.360 --> 00:18:46.820\nI don't see pingtest, or even something\nwith a fake name or whatever.\n\n379\n00:18:46.820 --> 00:18:50.916\nThey don't show up in here and\nthat's because, at least as of right now,\n\n380\n00:18:50.916 --> 00:18:55.550\nOctober 2017, Hyper-V manager\ncannot manage these containers.\n\n381\n00:18:55.550 --> 00:18:58.680\nIt is Docker that manages the containers,\nnot Hyper-V.\n\n382\n00:18:58.680 --> 00:19:02.110\nEven though they are actually\nHyper-V virtual machines.\n\n383\n00:19:02.110 --> 00:19:04.480\n&gt;&gt; You know Don, you said when it\ncomes to the Windows containers,\n\n384\n00:19:04.480 --> 00:19:06.090\nthat they run in user mode, right?\n\n385\n00:19:06.090 --> 00:19:09.050\nHow does that apply to\nthe Hyper-V containers now?\n\n386\n00:19:09.050 --> 00:19:11.160\n&gt;&gt; Wow, yeah,\nI didn't think about mentioning that.\n\n387\n00:19:11.160 --> 00:19:15.155\nWhen we run applications, I'm glad you\nasked, when you run an application,\n\n388\n00:19:15.155 --> 00:19:18.940\nit can run in user mode, or\nyou can run kernel mode, right?\n\n389\n00:19:18.940 --> 00:19:20.370\nThings like hardware drivers.\n\n390\n00:19:20.370 --> 00:19:21.960\nHardware drivers run in kernel mode,\nright?\n\n391\n00:19:21.960 --> 00:19:24.980\nThe kernel is talking to hardware, it\nneeds this high level access that doesn't\n\n392\n00:19:24.980 --> 00:19:26.360\nhave have a lot of\nsecurity controls in it.\n\n393\n00:19:26.360 --> 00:19:28.940\nThat's why we need to have\ndigitally signed drivers.\n\n394\n00:19:28.940 --> 00:19:32.400\nBecause now where it can be stuck\nin a driver extremely easy.\n\n395\n00:19:32.400 --> 00:19:37.640\nBut in user mode, those are just\nregular applications that we run.\n\n396\n00:19:37.640 --> 00:19:41.500\nAnd in the user mode,\nyou don't need direct access to hardware.\n\n397\n00:19:41.500 --> 00:19:44.710\nYou access it through the kernel,\nthe kernel needs that access.\n\n398\n00:19:44.710 --> 00:19:48.280\nSo when you run a Windows container,\nit can actually do either.\n\n399\n00:19:48.280 --> 00:19:51.970\nIt can do kernel mode or\nuser mode applications.\n\n400\n00:19:51.970 --> 00:19:56.530\nBecause the kernel is right there,\nit's able to talk to it.\n\n401\n00:19:56.530 --> 00:19:59.560\nBut when we go, or actually wait,\nI'm screwing this up,\n\n402\n00:19:59.560 --> 00:20:00.580\nI'm getting it backwards.\n\n403\n00:20:00.580 --> 00:20:05.000\nSo when we fire up a Windows container,\nI'll make sure I get this right,\n\n404\n00:20:05.000 --> 00:20:07.890\nwe fire up a Windows container,\nit only has user mode.\n\n405\n00:20:07.890 --> 00:20:12.080\nThe kernel is there but\nit doesn't see the hardware and so\n\n406\n00:20:12.080 --> 00:20:14.650\nthey leave the kernel\nmode functionality off.\n\n407\n00:20:14.650 --> 00:20:17.430\nThe kernel does that and\nthe underlying host will ask so\n\n408\n00:20:17.430 --> 00:20:22.090\nthat container only has user mode,\nand that's fine for most of us.\n\n409\n00:20:22.090 --> 00:20:24.630\nWe're running traditional applications so\nit's not a big deal.\n\n410\n00:20:24.630 --> 00:20:28.290\nBut if you got something like a Bitcoin\nminer that needs to interact with a video\n\n411\n00:20:28.290 --> 00:20:32.840\ncard driver, you can't do that\ninside of a Windows container,\n\n412\n00:20:32.840 --> 00:20:34.770\ninside of a regular docker container.\n\n413\n00:20:34.770 --> 00:20:39.670\nBut when you go into a Hyper-V container,\nit's simulating the entire set of\n\n414\n00:20:39.670 --> 00:20:42.490\nhardware, and you actually have\nkernel mode and user mode.\n\n415\n00:20:42.490 --> 00:20:45.160\nYou have both modes present\nright inside of there.\n\n416\n00:20:45.160 --> 00:20:47.260\nNow, you're in a virtual\nmachine at that point, so\n\n417\n00:20:47.260 --> 00:20:49.330\nthere's not necessarily a whole\nlot of reason for that.\n\n418\n00:20:49.330 --> 00:20:50.550\nBut if you've got some special,\n\n419\n00:20:50.550 --> 00:20:55.135\nlike an SSL acceleration board that's tied\nto a virtual machine, that container will\n\n420\n00:20:55.135 --> 00:20:58.820\nbe able access it without having\nto rely on the unrelying host OS.\n\n421\n00:20:58.820 --> 00:21:02.540\nSo that's a weird characteristic that we\nuse, the difference between, it's another\n\n422\n00:21:02.540 --> 00:21:06.530\nreason why you might choose to use Hyper-V\ncontainers over using a Windows Container.\n\n423\n00:21:06.530 --> 00:21:09.750\nAnd this whole landscape is gonna change\nover the next couple of years as that\n\n424\n00:21:09.750 --> 00:21:10.800\nevolves more.\n\n425\n00:21:10.800 --> 00:21:14.760\nBut for now, that is a difference\nthat most of us won't ever notice.\n\n426\n00:21:14.760 --> 00:21:17.110\n&gt;&gt; Don, a lot of great information\non Hyper-V containers.\n\n427\n00:21:17.110 --> 00:21:19.080\nDo you have any finals words?\n\n428\n00:21:19.080 --> 00:21:20.450\nCuz looking at our time clock,\n\n429\n00:21:20.450 --> 00:21:22.415\nit does look like we're coming\nto the end of another episode.\n\n430\n00:21:22.415 --> 00:21:27.335\n&gt;&gt; Yeah, main thing is, and I said this\nbefore, the docker is, at least right now,\n\n431\n00:21:27.335 --> 00:21:29.820\nit's a big buzz word and\nit's the way of the future,\n\n432\n00:21:29.820 --> 00:21:33.390\nwhich the future is really only\n12 to 16 months these days.\n\n433\n00:21:33.390 --> 00:21:37.260\nSo there's something all\nnew two years from now.\n\n434\n00:21:37.260 --> 00:21:38.310\nBut docker is a big deal.\n\n435\n00:21:38.310 --> 00:21:40.940\nThe fact that we can run it\nright on Hyper-V is really nice.\n\n436\n00:21:40.940 --> 00:21:43.890\nThe fact that we can run it in\nMicrosoft Azure is really nice.\n\n437\n00:21:43.890 --> 00:21:45.440\nAnd then you can create\nthese deployments and\n\n438\n00:21:45.440 --> 00:21:48.280\nmove them around and\nknow that it is consistent everywhere.\n\n439\n00:21:48.280 --> 00:21:51.190\nSo it's definitely technology\nyou want to learn.\n\n440\n00:21:51.190 --> 00:21:54.815\nDoctor on Hyper-V, it's got somewhat\nlimited usage right now, but\n\n441\n00:21:54.815 --> 00:21:58.030\nit is important to know about it,\nat least for the exam.\n\n442\n00:21:58.030 --> 00:22:01.706\nBut then as it evolves over the next\nfew months, it will become incredibly\n\n443\n00:22:01.706 --> 00:22:05.146\nuseful and I feel like it will\nultimately replace the normal docker,\n\n444\n00:22:05.146 --> 00:22:06.830\nthe normal Windows containers.\n\n445\n00:22:06.830 --> 00:22:09.640\nAnd then we'll always use Hyper-V\ncontainers in the future.\n\n446\n00:22:09.640 --> 00:22:12.830\n&gt;&gt; All right Don, well we appreciate\nyou being here in the studios and\n\n447\n00:22:12.830 --> 00:22:14.760\nwe appreciate you the viewer watching.\n\n448\n00:22:14.760 --> 00:22:16.520\nLook like we're gonna go ahead and\nsign out.\n\n449\n00:22:16.520 --> 00:22:20.520\nKeep in mind that you can see this episode\nand thousands of hours of additional\n\n450\n00:22:20.520 --> 00:22:23.780\ncontent by jumping over to our course\nlibrary till we see you again.\n\n451\n00:22:23.780 --> 00:22:24.870\nSigning off for IT Pro TV.\n\n452\n00:22:24.870 --> 00:22:26.730\n&gt;&gt; I've been your host, Wes Bryan.\n\n453\n00:22:26.730 --> 00:22:27.320\n&gt;&gt; And I'm Don Pisset.\n\n454\n00:22:27.320 --> 00:22:29.099\n&gt;&gt; And we'll see you next time.\n\n455\n00:22:29.099 --> 00:22:35.540\n[MUSIC]\n\n456\n00:22:35.540 --> 00:22:38.460\n&gt;&gt; Thank you for watching IT Pro TV.\n\n",
          "vimeoId": "238056151"
        },
        {
          "description": "In this episode, Don introduces the viewers to Docker containers. He then shows how to install Docker support on Windows Server 2016. Finally, he demonstrates how to create and manage containers inside of Docker.",
          "length": "1752",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-4-4-1-docker-containers-100917-PGM.00_28_58_15.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-4-4-1-docker-containers-100917-PGM.00_28_58_15.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-4-4-1-docker-containers-100917-PGM.00_28_58_15.Still002-sm.jpg",
          "title": "Docker Containers",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:06.398\nWelcome to IT Pro TV I'm your\nhost Don Pezet [CROSSTALK].\n\n2\n00:00:06.398 --> 00:00:08.182\n[MUSIC]\n\n3\n00:00:08.182 --> 00:00:12.086\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:12.086 --> 00:00:15.260\n&gt;&gt; Hello to all our viewers out there,\nthanks for joining us today.\n\n5\n00:00:15.260 --> 00:00:17.150\nWe got a great show for you in store.\n\n6\n00:00:17.150 --> 00:00:18.736\nI'm your show host, Wes Bryan and\n\n7\n00:00:18.736 --> 00:00:22.380\ntoday's episode we're continuing\nthrough our series of the 70, 740.\n\n8\n00:00:22.380 --> 00:00:25.900\nThat's right, the installation, storage\nand compute in Windows server 2016, and\n\n9\n00:00:25.900 --> 00:00:29.460\njoining us in the studios is\nnone other than Mr. Don Pazed.\n\n10\n00:00:29.460 --> 00:00:30.470\nDon how you doing today, sir?\n\n11\n00:00:30.470 --> 00:00:31.970\n&gt;&gt; I am doing great, Wes.\n\n12\n00:00:31.970 --> 00:00:37.641\nI have so much energy and\nexcitement that I just can't contain it.\n\n13\n00:00:37.641 --> 00:00:38.577\nThat's my container pun.\n&gt;&gt; That's it.\n\n14\n00:00:38.577 --> 00:00:39.842\nThere we go.\n&gt;&gt; [LAUGH]\n\n15\n00:00:39.842 --> 00:00:41.739\n&gt;&gt; So we're gonna be learning\n\n16\n00:00:41.739 --> 00:00:43.143\nabout containers.\n\n17\n00:00:43.143 --> 00:00:46.781\nI promise,\nI know more about containers than puns, so\n\n18\n00:00:46.781 --> 00:00:49.321\nwe'll get a chance to look at Docker.\n\n19\n00:00:49.321 --> 00:00:51.501\nWhat the heck it is,\nwhat it does, how we can use it.\n\n20\n00:00:51.501 --> 00:00:54.430\nHow we can get it implemented on\ntop of Windows Server 2016 and\n\n21\n00:00:54.430 --> 00:00:57.040\nhow we can start to spin up\ncontainerized applications and\n\n22\n00:00:57.040 --> 00:00:59.182\nyou'll see it's actually\nreally neat stuff.\n\n23\n00:00:59.182 --> 00:01:01.632\nThis is It's kinda one of those\nepisodes I really enjoy doing,\n\n24\n00:01:01.632 --> 00:01:03.500\nbecause it's the way of the future right?\n\n25\n00:01:03.500 --> 00:01:06.583\nIn the future everything will be in\na container, so it's nice to be able to\n\n26\n00:01:06.583 --> 00:01:09.493\nsee that and get to deploy it and\nactually work on it on top of Windows.\n\n27\n00:01:09.493 --> 00:01:11.902\nSo, that's what we got lined\nup here right in this episode.\n\n28\n00:01:11.902 --> 00:01:12.454\n&gt;&gt; You know Don,\n\n29\n00:01:12.454 --> 00:01:15.412\nwhen it comes to docker one of the first\nthings I think of it virtualization.\n\n30\n00:01:15.412 --> 00:01:19.436\nBut it's kinda interesting because when i\nlike of virtual machines right well it's\n\n31\n00:01:19.436 --> 00:01:23.245\nclose but that's not completely what it\nreally what it is, so what Docker dot?\n\n32\n00:01:23.245 --> 00:01:27.756\n&gt;&gt; It's a Docker kind of skirts the line\nbetween the two application models we have\n\n33\n00:01:27.756 --> 00:01:28.441\nright now.\n\n34\n00:01:28.441 --> 00:01:31.334\nSo right now,\nthere's two primary application models.\n\n35\n00:01:31.334 --> 00:01:34.188\nApplication model one is,\nif I wanna software,\n\n36\n00:01:34.188 --> 00:01:37.680\nI just put it on my operating system and\nthat's it, right?\n\n37\n00:01:37.680 --> 00:01:38.810\nSo I've got a laptop in front of me.\n\n38\n00:01:38.810 --> 00:01:39.930\nI was running an operating system.\n\n39\n00:01:39.930 --> 00:01:42.560\nI've been load the application and\nthere it goes.\n\n40\n00:01:42.560 --> 00:01:45.360\nThe application has accessed\nall of my hardware resources.\n\n41\n00:01:45.360 --> 00:01:46.865\nIt runs at bare metal speed,\n\n42\n00:01:46.865 --> 00:01:50.891\nbecause the operating system is right\non top of the metal, and there you go.\n\n43\n00:01:50.891 --> 00:01:54.865\nBut, the negative of that model is\nif I have two applications running,\n\n44\n00:01:54.865 --> 00:01:56.930\none could affect the other, right?\n\n45\n00:01:56.930 --> 00:01:59.130\nThey're not isolated,\nthere's a shared space.\n\n46\n00:01:59.130 --> 00:02:01.661\nThat's the traditional application model.\n\n47\n00:02:01.661 --> 00:02:04.230\nThen we have the virtualization\nmodel that Wes mentioned, right?\n\n48\n00:02:04.230 --> 00:02:08.360\nWith virtualization, we bring in HyperV,\nor VMware, or Virtualbox or\n\n49\n00:02:08.360 --> 00:02:10.490\nwhatever it is that we're using for\nvirtualization.\n\n50\n00:02:10.490 --> 00:02:12.800\nAnd it creates these isolated worlds, and\n\n51\n00:02:12.800 --> 00:02:15.570\neach isolated world has\nits own operating system.\n\n52\n00:02:15.570 --> 00:02:19.768\nIts own completely separate operating\nsystem that could be completely different\n\n53\n00:02:19.768 --> 00:02:21.729\nfrom what's underneath it, right?\n\n54\n00:02:21.729 --> 00:02:26.722\nI might have, Windows 10 as my desktop and\nrun Windows server in a virtual machine.\n\n55\n00:02:26.722 --> 00:02:30.733\nOr I might have Linux as my desktop and\nI run Windows server as a virtual machine.\n\n56\n00:02:30.733 --> 00:02:34.770\nIt doesn't matter, because the operating\nsystem is completely isolated.\n\n57\n00:02:34.770 --> 00:02:37.910\nAnd then I run the application on\ntop of that isolated environment.\n\n58\n00:02:37.910 --> 00:02:42.010\nSo, on a positive side we have great\nsecurity, we can create isolation.\n\n59\n00:02:42.010 --> 00:02:45.670\nWe get the ability to have different\nconfigurations for different applications.\n\n60\n00:02:45.670 --> 00:02:48.480\nI might have one application\nthat needs Window server 2016,\n\n61\n00:02:48.480 --> 00:02:52.760\nand another application that\nneeds Red Hat Enterprise Linux 7.\n\n62\n00:02:52.760 --> 00:02:55.963\nSo I have two VMs and\nI knock that out, right?\n\n63\n00:02:55.963 --> 00:03:00.126\nThe negative of the virtualization\nmachine model, whatever,\n\n64\n00:03:00.126 --> 00:03:04.453\nthe VM model [LAUGH] is it actually\nkind of two limitations, right?\n\n65\n00:03:04.453 --> 00:03:10.092\nThe first limitation is that it\ncreates these hard boundaries.\n\n66\n00:03:10.092 --> 00:03:13.164\nWhere I say, this virtual\nmachine gets two gigs of RAM And\n\n67\n00:03:13.164 --> 00:03:16.172\nthis other virtual machine\ngets two gigs of RAM as well.\n\n68\n00:03:16.172 --> 00:03:18.823\nAnd they don't share,\nthey have their own exclusive memory.\n\n69\n00:03:18.823 --> 00:03:21.649\nThey've kind of got it locked in,\nthat's what they've got.\n\n70\n00:03:21.649 --> 00:03:24.498\nAnd the other negative is that,\nin addition to the resources,\n\n71\n00:03:24.498 --> 00:03:28.374\nwe don't necessarily have consistency as\nwe move from a virtualization environment\n\n72\n00:03:28.374 --> 00:03:29.580\nto another environment.\n\n73\n00:03:29.580 --> 00:03:34.074\nSo as we move around can become a little\nbit challenging to replicate in the same\n\n74\n00:03:34.074 --> 00:03:37.013\nmanner as they were the way\nthat we developed them.\n\n75\n00:03:37.013 --> 00:03:37.792\nSo and I guess we could\n\n76\n00:03:37.792 --> 00:03:40.752\ngo in a third one which is that virtual\nmachines are a little bit complex, right?\n\n77\n00:03:40.752 --> 00:03:44.144\nSo your average developer, they don't\nnecessarily know how to use Hyper-V.\n\n78\n00:03:44.144 --> 00:03:46.851\nThey don't know how to fire up virtual\nmachines and install operating systems.\n\n79\n00:03:46.851 --> 00:03:50.140\nThey write applications and in the old day\nthey could test the application ran on\n\n80\n00:03:50.140 --> 00:03:52.349\ntheir own machine, but\nwhen you bring VM's into it,\n\n81\n00:03:52.349 --> 00:03:54.530\nit gets a heck of a lot more complex and\nharder to use.\n\n82\n00:03:54.530 --> 00:03:56.900\n&gt;&gt; And it seems like you're getting\ninto teams involved, right?\n\n83\n00:03:56.900 --> 00:03:59.290\nYou're getting your\nadministrators involved and\n\n84\n00:03:59.290 --> 00:04:01.440\nyou're getting your dev team here.\n\n85\n00:04:01.440 --> 00:04:03.953\nWe'll make our own\ncontributions right here but\n\n86\n00:04:03.953 --> 00:04:08.363\nyou're getting two teams involved and each\none is relying on the other and who knows,\n\n87\n00:04:08.363 --> 00:04:10.702\nmaybe they might delay production, right?\n\n88\n00:04:10.702 --> 00:04:13.960\n&gt;&gt; Yeah, well, you see, this is where\nthat buzz word of devops comes in, right?\n\n89\n00:04:13.960 --> 00:04:17.209\nYou have your operations staff,\nyour system administrators, and\n\n90\n00:04:17.209 --> 00:04:20.121\nthen you've got your developers staff,\nyour developers.\n\n91\n00:04:20.121 --> 00:04:22.773\nSo they combine them together and\ngot Devops.\n\n92\n00:04:22.773 --> 00:04:25.074\nYou get when the developers\nare able to do operations task, or\n\n93\n00:04:25.074 --> 00:04:26.630\nyou could look at it the other way around.\n\n94\n00:04:26.630 --> 00:04:28.743\nWhere operations team is\nable to do developers tasks.\n\n95\n00:04:28.743 --> 00:04:31.860\nYou look at the evolution of\nPowerShell over the last few years.\n\n96\n00:04:31.860 --> 00:04:36.376\nIt's been more, and more developed\ntype stuff that we, sys admins do.\n\n97\n00:04:36.376 --> 00:04:40.400\nSo, but the neat part about Docker, and\nreally container technology in general\n\n98\n00:04:40.400 --> 00:04:45.210\nis that it sits in between the two models,\nwhere we don't have a virtual machine,\n\n99\n00:04:45.210 --> 00:04:50.010\nwe don't have this hard isolation\nboundary, but we do still have isolation.\n\n100\n00:04:50.010 --> 00:04:54.710\nAnd we install an application, and\nit runs on top of this container.\n\n101\n00:04:54.710 --> 00:04:57.972\nAnd let me explain the big difference\nbetween a container and a virtual machine.\n\n102\n00:04:57.972 --> 00:05:01.988\nIn a virtual machine,\nit virtualizes everything,\n\n103\n00:05:01.988 --> 00:05:05.102\nprocessor, memory, RAM, hard disk.\n\n104\n00:05:05.102 --> 00:05:10.160\nThe entire operating system is independent\nof the host operating system, right?\n\n105\n00:05:10.160 --> 00:05:12.320\nThat's how a virtual machine works.\n\n106\n00:05:12.320 --> 00:05:13.670\nA container doesn't do that.\n\n107\n00:05:13.670 --> 00:05:17.433\nA container doesn't virtualize\nany hardware right so to say,\n\n108\n00:05:17.433 --> 00:05:22.482\nthe network adaptor would be the closest\nthing that it gets to really virtualizing.\n\n109\n00:05:22.482 --> 00:05:26.271\nIt shares the kernel with\nthe underlying operating system.\n\n110\n00:05:26.271 --> 00:05:29.836\nIf I am running Windows server\nas my host my containers will\n\n111\n00:05:29.836 --> 00:05:31.870\nrun Window server as well.\n\n112\n00:05:31.870 --> 00:05:36.030\nAnd when they're up and running,\nthey share the same kernel.\n\n113\n00:05:36.030 --> 00:05:37.591\nI don't have multiple copies\nof the kernel running.\n\n114\n00:05:37.591 --> 00:05:39.261\nIt's just one kernel.\n\n115\n00:05:39.261 --> 00:05:44.150\nBut then the application environment on\ntop of that, is isolated it is separate.\n\n116\n00:05:44.150 --> 00:05:45.640\nSo I don't have to allocate memory.\n\n117\n00:05:45.640 --> 00:05:48.181\nI don't have to say,\nthis container gets two gigs of RAM.\n\n118\n00:05:48.181 --> 00:05:50.863\nBecause that container gets\nwhatever RAM the host has.\n\n119\n00:05:50.863 --> 00:05:52.693\nAnd if I'm running one container,\n\n120\n00:05:52.693 --> 00:05:55.441\nthen it has access to all\nthe memory that the host has.\n\n121\n00:05:55.441 --> 00:05:58.434\nIf I'm running five containers,\nthey all share that access right?\n\n122\n00:05:58.434 --> 00:06:00.253\nBut they're not capped at a certain limit.\n\n123\n00:06:00.253 --> 00:06:02.542\nThey have access to that\nshared pool of memory, so\n\n124\n00:06:02.542 --> 00:06:04.722\nit's a different model\nthan virtualization.\n\n125\n00:06:04.722 --> 00:06:09.595\nWe get isolation, but we don't get like\ndedicated hardware limitations like we do\n\n126\n00:06:09.595 --> 00:06:10.992\nwith virtualization.\n\n127\n00:06:10.992 --> 00:06:14.050\n&gt;&gt; And does that limit some of that\ninconsistency that you were saying in\n\n128\n00:06:14.050 --> 00:06:17.372\nthe virtualization model as we're\ngoing to different virtual machines,\n\n129\n00:06:17.372 --> 00:06:21.009\nnow that since they're all sharing the\nsame entire operating system we don't get\n\n130\n00:06:21.009 --> 00:06:22.140\nthat inconsistency?\n\n131\n00:06:22.140 --> 00:06:22.681\n&gt;&gt; That's exactly correct.\n\n132\n00:06:22.681 --> 00:06:25.240\nSo as long as I develop in\nan environment that's using Docker,\n\n133\n00:06:25.240 --> 00:06:28.542\nI can then deploy in a completely separate\nenvironment that's running docker.\n\n134\n00:06:28.542 --> 00:06:32.978\nSo, I might have a development\nenvironment, a staging, a production,\n\n135\n00:06:32.978 --> 00:06:37.790\nmaybe you got a QC or QA, you can deploy\nthrough and they'll always be the same.\n\n136\n00:06:37.790 --> 00:06:39.270\nThe container is always treated the same,\n\n137\n00:06:39.270 --> 00:06:42.100\nbecause all it really needs to see\nis that kernel under the hood.\n\n138\n00:06:42.100 --> 00:06:43.850\nNow, I do want to throw\nout one quick comment,\n\n139\n00:06:43.850 --> 00:06:45.380\nbecause it sounds exciting, right?\n\n140\n00:06:45.380 --> 00:06:48.827\nAnd it is the latest technology, and\nthis is how we want to start deploying\n\n141\n00:06:48.827 --> 00:06:52.731\napplications in the future, and Microsoft\nhas bought into this, very very hard.\n\n142\n00:06:52.731 --> 00:06:56.210\nLike, they contribute large\namounts of money to Docker.\n\n143\n00:06:56.210 --> 00:06:59.092\nThere are products like Microsoft sequel\nthat can already be deployed inside\n\n144\n00:06:59.092 --> 00:07:00.831\na Docker container, so they're doing that.\n\n145\n00:07:00.831 --> 00:07:05.151\nBut a quick caveat I want to throw out,\nis security.\n\n146\n00:07:05.151 --> 00:07:06.320\nSecurity is a concern.\n\n147\n00:07:06.320 --> 00:07:08.256\nRemember, developers\naren't big on security,\n\n148\n00:07:08.256 --> 00:07:11.121\nsome of them are trained to do secure\ncode practices, but not all of them.\n\n149\n00:07:11.121 --> 00:07:14.862\nAnd so, with the developers,\nthey want to get things working first.\n\n150\n00:07:14.862 --> 00:07:17.757\nContainers make it really easy\nto get things working, but\n\n151\n00:07:17.757 --> 00:07:19.951\ncontainers don't create true isolation.\n\n152\n00:07:19.951 --> 00:07:24.068\nIf I have five containers,\nthere's numerous ways that you can escape\n\n153\n00:07:24.068 --> 00:07:28.760\na container, and potentially access\nthe host OS or the other containers.\n\n154\n00:07:28.760 --> 00:07:32.260\nThat's much more similar to when we just\nrun multiple applications in the same\n\n155\n00:07:32.260 --> 00:07:33.310\nOS, right?\n\n156\n00:07:33.310 --> 00:07:34.441\nIn a virtual machine,\n\n157\n00:07:34.441 --> 00:07:37.720\nit is near impossible to escape\nout of a virtual machine, right.\n\n158\n00:07:37.720 --> 00:07:40.936\nSo if I'm doing what's called\na multi-tenant installation,\n\n159\n00:07:40.936 --> 00:07:43.734\nwhen I'm running software\nfrom more than one company,\n\n160\n00:07:43.734 --> 00:07:45.833\nI don't want to use containers for that.\n\n161\n00:07:45.833 --> 00:07:47.737\nI want to use virtual machines for that,\n\n162\n00:07:47.737 --> 00:07:50.322\nbecause virtual machines\ncan give me true isolation.\n\n163\n00:07:50.322 --> 00:07:54.053\nWith containers, there's too much\nrisk involved in testing, in lab, and\n\n164\n00:07:54.053 --> 00:07:54.822\ndevelopment.\n\n165\n00:07:54.822 --> 00:07:57.833\nThat's fine, but in production, you'll\nwant to use virtual machines for that.\n\n166\n00:07:57.833 --> 00:08:01.360\nNow, you could use containers\non top of a virtual machine.\n\n167\n00:08:01.360 --> 00:08:03.221\nYou can do nested virtualization,\n\n168\n00:08:03.221 --> 00:08:07.562\nHyper-V supports nested virtualization\nwhere I have a host, and then on my host,\n\n169\n00:08:07.562 --> 00:08:12.510\nI run a VM that's running Windows server,\nand that VM, I can then run containers.\n\n170\n00:08:12.510 --> 00:08:14.980\nSo you can still use containers that way,\nbut\n\n171\n00:08:14.980 --> 00:08:19.300\njust be aware that containers by\nthemselves, won't give you true isolation.\n\n172\n00:08:19.300 --> 00:08:21.030\nIn a single tenant environment?\n\n173\n00:08:21.030 --> 00:08:24.690\nThat's fine, it's all your data or\nthat one customer's data.\n\n174\n00:08:24.690 --> 00:08:28.227\nBut in a multi tenant environment,\nyou'll want to leverage virtual machines.\n\n175\n00:08:28.227 --> 00:08:29.183\nSo some people ask,\n\n176\n00:08:29.183 --> 00:08:32.625\nif Microsoft's so hot to trot on Docker,\nwhy do they still have Hyper V?\n\n177\n00:08:32.625 --> 00:08:35.643\nAnd it's because Hyper V still serves\na very, very important purpose, and\n\n178\n00:08:35.643 --> 00:08:38.660\na lot of times when you're deploying\nDocker, it'll be on top of Hyper V.\n\n179\n00:08:38.660 --> 00:08:41.980\nSo they work together,\none is not a replacement for the other.\n\n180\n00:08:41.980 --> 00:08:45.070\n&gt;&gt; Don, now that we know a little\nbit about what Docker is,\n\n181\n00:08:45.070 --> 00:08:49.580\nwhere do we see the avenues for\nobtaining that docker environment?\n\n182\n00:08:49.580 --> 00:08:53.573\n&gt;&gt; This is the fun part of this show,\nbecause there is the way I do it in real\n\n183\n00:08:53.573 --> 00:08:57.048\nlife and then there's the way I\nhave to show you for the exam.\n\n184\n00:08:57.048 --> 00:09:00.609\n[LAUGH] So first off, Docker is an entity.\n\n185\n00:09:00.609 --> 00:09:01.650\nThey're a company.\n\n186\n00:09:01.650 --> 00:09:05.060\nThey're a kind of open-sourcy.\n\n187\n00:09:05.060 --> 00:09:06.020\nThey used to be not for profit.\n\n188\n00:09:06.020 --> 00:09:07.270\nNow they actually do make some money.\n\n189\n00:09:07.270 --> 00:09:08.127\nBut you can go to their website.\n\n190\n00:09:08.127 --> 00:09:10.502\nIt's at docker.io or docker.com.\n\n191\n00:09:10.502 --> 00:09:13.080\nI've got their website\npulled up right here.\n\n192\n00:09:13.080 --> 00:09:16.080\nAnd when you go to the Docker website.\n\n193\n00:09:16.080 --> 00:09:20.440\nIt's got a lot of information here, and\na lot of it is geared towards Linux.\n\n194\n00:09:20.440 --> 00:09:24.240\nAnd that's because Docker was developed\non Linux, Microsoft came in and\n\n195\n00:09:24.240 --> 00:09:27.660\nfunded the development to get it ported\nover to run on Windows 2, so, now,\n\n196\n00:09:27.660 --> 00:09:28.940\nwe've got it on Windows.\n\n197\n00:09:28.940 --> 00:09:32.460\nBut, you will run into people that tell\nyou, hey, Docker's only for Linux, and\n\n198\n00:09:32.460 --> 00:09:35.900\nyou can tell them, well, actually it's\nnot, you can run now on Windows server.\n\n199\n00:09:35.900 --> 00:09:38.060\nYou can run on Windows 10,\nyou can run it on your desktop,\n\n200\n00:09:38.060 --> 00:09:40.100\nit's actually really easy to get it going.\n\n201\n00:09:40.100 --> 00:09:43.130\nAs far as getting it installed,\nif you go to the Docker for\n\n202\n00:09:43.130 --> 00:09:46.820\nWindows Server page, they've got where\nyou can go and you can download it.\n\n203\n00:09:46.820 --> 00:09:49.610\nNow, you don't even technically\nhave to download it.\n\n204\n00:09:49.610 --> 00:09:54.940\nIf you click on the get the enterprise\nedition from Docker store, you'll actually\n\n205\n00:09:54.940 --> 00:09:58.350\nnotice a few things, I should mention\nthis, get the enterprise edition.\n\n206\n00:09:58.350 --> 00:10:01.190\nNow normally when I see that I'm like\ngreat, this is going to be expensive,\n\n207\n00:10:01.190 --> 00:10:02.720\nthis is gonna cost us some money.\n\n208\n00:10:02.720 --> 00:10:04.518\nBut Microsoft has actually\nfooted the bill for this.\n\n209\n00:10:04.518 --> 00:10:08.360\nThey've paid all of the docker fees for\nthis.\n\n210\n00:10:08.360 --> 00:10:09.810\nSo, you get it for free.\n\n211\n00:10:09.810 --> 00:10:11.690\nIf you've got Window's 10 or\nWindow's Server 2016,\n\n212\n00:10:11.690 --> 00:10:14.170\nyou get the full enterprise\nedition to docker.\n\n213\n00:10:14.170 --> 00:10:14.670\nYou can install.\n\n214\n00:10:14.670 --> 00:10:18.250\nIt doesn't cost you a dime, and\nit works right alongside Hyper-V and\n\n215\n00:10:18.250 --> 00:10:19.600\nany of your other technologies.\n\n216\n00:10:19.600 --> 00:10:25.040\nBut when you go to get it, they've got\nsome really simple instructions here.\n\n217\n00:10:25.040 --> 00:10:28.000\nAnd if we look, they are right here.\n\n218\n00:10:28.000 --> 00:10:30.700\nInstallation, 2 commands.\n\n219\n00:10:30.700 --> 00:10:34.580\nThis is how I do it in real life, if I\nwanna install Docker on a Windows server,\n\n220\n00:10:34.580 --> 00:10:36.908\nthese 2 commands right\nhere are all it takes.\n\n221\n00:10:36.908 --> 00:10:40.534\nInstall-Module DockerProvider -Force,\nthese are PowerShell commands by the way,\n\n222\n00:10:40.534 --> 00:10:42.090\nyou gotta be in PowerShell.\n\n223\n00:10:42.090 --> 00:10:46.800\nAnd then Install-Packer Docker\n-ProviderName DockerProvider -Force.\n\n224\n00:10:46.800 --> 00:10:49.180\nThough the force,\nyou actually don't need it.\n\n225\n00:10:49.180 --> 00:10:50.890\nIf it already exist, it would reinstall.\n\n226\n00:10:50.890 --> 00:10:54.770\nBut those two commands right there are\nactually Get Docker install, and up and\n\n227\n00:10:54.770 --> 00:10:57.340\nrunning, and\nnow you're ready to go and use it.\n\n228\n00:10:57.340 --> 00:10:59.470\nIt's really, really simple.\n\n229\n00:10:59.470 --> 00:11:00.840\nTwo commands.\n\n230\n00:11:00.840 --> 00:11:04.120\nBut, the exam hasn't been\nupdated to show that yet.\n\n231\n00:11:04.120 --> 00:11:05.890\nThat's actually a fairly new\nthing that that happened.\n\n232\n00:11:05.890 --> 00:11:08.460\nSo, if you're watching this show\nI want you to do it the new way,\n\n233\n00:11:08.460 --> 00:11:09.470\nbecause that's easier.\n\n234\n00:11:09.470 --> 00:11:11.190\nBut on the exam,\nthey still want you to do it the old way.\n\n235\n00:11:11.190 --> 00:11:13.990\nIt's not that they want you to, it's just\nthat the exam hasn't been updated yet.\n\n236\n00:11:13.990 --> 00:11:16.670\nSo, the old way is that we\nwould go into PowerShell.\n\n237\n00:11:16.670 --> 00:11:21.140\nWe would download the Docker files and\ninstall them,\n\n238\n00:11:21.140 --> 00:11:24.820\nwhich is actually not hard at all,\nbecause Docker is designed to be portable.\n\n239\n00:11:24.820 --> 00:11:28.380\nIt's all self contained which you're\nreally just unzipping an archive and\n\n240\n00:11:28.380 --> 00:11:30.660\nthat's it to get it installed and\nin place.\n\n241\n00:11:30.660 --> 00:11:33.860\nSo if we wanna see that,\nlet's say I'm gonna go hard core.\n\n242\n00:11:33.860 --> 00:11:35.680\nLet's do it all through PowerShell.\n\n243\n00:11:35.680 --> 00:11:37.659\nAnd, if you're on a GUI system,\n\n244\n00:11:37.659 --> 00:11:41.498\nyou could just go to Dockers website,\nclick the download link.\n\n245\n00:11:41.498 --> 00:11:43.871\nYou could extract the zip,\ndo it all through the GUI.\n\n246\n00:11:43.871 --> 00:11:46.260\nBut if you're on a server core install.\n\n247\n00:11:46.260 --> 00:11:49.180\nOr some kind of minimal install where\nall you have is the PowerShell,\n\n248\n00:11:49.180 --> 00:11:51.320\nit's important to know\nhow to do it right here.\n\n249\n00:11:51.320 --> 00:11:54.910\nAnd from the PowerShell,\nit's not too terribly difficult.\n\n250\n00:11:54.910 --> 00:11:56.440\nFirst, we need to download the file.\n\n251\n00:11:56.440 --> 00:12:00.713\nSo I'm gonna do a invoke-web request,\nwhich will let us reach and\n\n252\n00:12:00.713 --> 00:12:03.522\nthen download files from a website.\n\n253\n00:12:03.522 --> 00:12:08.500\nI'm gonna tell it that I'm going to\nuse basic parsing, because I need to\n\n254\n00:12:08.500 --> 00:12:12.670\ngive it a basic get command, and\nthen I'll tell it the out file.\n\n255\n00:12:12.670 --> 00:12:17.010\nI'm gonna download a file, and\nthat file is gonna be called docker.zip.\n\n256\n00:12:17.010 --> 00:12:20.083\nNow normally, I don't provide the out\nfile, I just let it keep its name, but\n\n257\n00:12:20.083 --> 00:12:22.920\nthe name of the docker file is actually\npretty long, so that's why I'm\n\n258\n00:12:22.920 --> 00:12:25.559\njust renaming it to docker.zip,\nto make my life a less painful.\n\n259\n00:12:25.559 --> 00:12:28.107\nAnd then I'll do\n\n260\n00:12:28.107 --> 00:12:35.192\nan\nhttps//download.docker.com/components/eng-\n\n261\n00:12:35.192 --> 00:12:41.395\nine/windows-server/.\n\n262\n00:12:41.395 --> 00:12:44.690\nAnd then here's where it gets a little bit\ntricky, cuz we need the version number.\n\n263\n00:12:44.690 --> 00:12:48.865\nAnd so you can go to their website and\nget the version number right off the site,\n\n264\n00:12:48.865 --> 00:12:53.375\nthat's usually the easiest, but the\ncurrent one as of this filming is 17.06.\n\n265\n00:12:53.375 --> 00:12:59.738\nAnd then I'll point to the actual file,\nso 17.06.2.\n\n266\n00:12:59.738 --> 00:13:03.635\nThere we go, -ee-3.zip.\n\n267\n00:13:03.635 --> 00:13:05.515\nNot exactly something that you memorize.\n\n268\n00:13:05.515 --> 00:13:08.540\n[LAUGH] Get it off their website, and\nyou can copy and paste that in there.\n\n269\n00:13:08.540 --> 00:13:10.280\nIt's gonna reach out and\ndownload that file.\n\n270\n00:13:10.280 --> 00:13:12.570\nDocker is not very big.\n\n271\n00:13:12.570 --> 00:13:15.440\nThe actual installation file\nis not too terribly large.\n\n272\n00:13:15.440 --> 00:13:17.760\nBut it contains a lot, right?\n\n273\n00:13:17.760 --> 00:13:20.820\nBecause it's gotta contain this,\nI'll call it a virtualization engine, but\n\n274\n00:13:20.820 --> 00:13:22.020\nit's really the container engine,\n\n275\n00:13:22.020 --> 00:13:25.830\nthe way that it isolates out these\napplications, and it builds me a platform.\n\n276\n00:13:25.830 --> 00:13:29.530\nNow, most of this file is not\nthe Docker executable itself,\n\n277\n00:13:29.530 --> 00:13:31.920\nthe Docker daemon is pretty small.\n\n278\n00:13:31.920 --> 00:13:34.980\nBut, the utility tool set\nthat comes along with it,\n\n279\n00:13:34.980 --> 00:13:38.070\nthat we'll use to download images,\nto create containers,\n\n280\n00:13:38.070 --> 00:13:42.550\nto spin out machines, the utilities\nare what actually amounts to most of that.\n\n281\n00:13:42.550 --> 00:13:44.650\nBut once it's downloaded, I'll have it, so\n\n282\n00:13:44.650 --> 00:13:48.690\nthere's my docker.zip file right there,\nI've got it, I've downloaded it,\n\n283\n00:13:48.690 --> 00:13:51.540\nnow I just need to extract it and\nput it in place.\n\n284\n00:13:51.540 --> 00:13:54.035\nAnd to do that,\nI can use the expand archive command.\n\n285\n00:13:54.035 --> 00:13:58.827\nAnd so I'll say expand archive docker.zip\nand actually I'm in PowerShell so\n\n286\n00:13:58.827 --> 00:14:01.520\nlet me do literally path, docker.zip.\n\n287\n00:14:01.520 --> 00:14:04.725\nAnd I'm gonna give it a destination path,\nand\n\n288\n00:14:04.725 --> 00:14:09.010\nhere I needed to go into\nmy program files directory.\n\n289\n00:14:09.010 --> 00:14:14.820\nSo I will do the you could just\nsay C:\\ProgramFile\\docker, but I'm\n\n290\n00:14:14.820 --> 00:14:20.120\ngonna do the fancy Microsoft way, which\nis to rely on my environment variables.\n\n291\n00:14:20.120 --> 00:14:26.020\nSo I'll say dollar $env:programFiles,\nthat's where I want it to go.\n\n292\n00:14:26.020 --> 00:14:29.781\nSo that's gonna extract that and\ngenerate an error,\n\n293\n00:14:29.781 --> 00:14:32.800\ndid I forget to be an administrator today?\n\n294\n00:14:34.250 --> 00:14:38.500\nAnd, actually, so\nI had downloaded this before the show,\n\n295\n00:14:38.500 --> 00:14:39.870\nbecause I wanted to save some time.\n\n296\n00:14:39.870 --> 00:14:43.670\nAnd so, it's complaining telling me that,\nI've already got that existing directory,\n\n297\n00:14:43.670 --> 00:14:44.710\nso, that's fine.\n\n298\n00:14:44.710 --> 00:14:47.190\nSo we expanded out and\nit's gonna drop that in there, and\n\n299\n00:14:47.190 --> 00:14:50.420\nit's gonna create C:\\ProgramFiles\\docker.\n\n300\n00:14:50.420 --> 00:14:52.970\nBut that's the command that we\nneed to do that and get it done.\n\n301\n00:14:52.970 --> 00:14:54.853\nIn real life I wouldn't do it this way.\n\n302\n00:14:54.853 --> 00:14:57.590\n[LAUGH] But on the exam,\nI want you to do it the true,\n\n303\n00:14:57.590 --> 00:15:01.840\nyou only have access to PowerShell,\nhow do you get this done type way.\n\n304\n00:15:01.840 --> 00:15:07.390\nAnd when that's done, technically,\nI've got Docker installed,\n\n305\n00:15:07.390 --> 00:15:10.084\nbut if we wanna go in and see that.\n\n306\n00:15:10.084 --> 00:15:16.500\nIt's C:\\ ProgramFiles\\docker is where\nI put it, and there's just two files.\n\n307\n00:15:16.500 --> 00:15:19.643\nDocker.exe and dockerd.exe.\n\n308\n00:15:19.643 --> 00:15:24.620\nNow dockerd.exe that's\nthe actual platform.\n\n309\n00:15:24.620 --> 00:15:28.046\nWhat's gonna create the virtual\nmachines that we use.\n\n310\n00:15:28.046 --> 00:15:32.110\ndocker.exe, that's the utility that we use\nto manage, that we use to talk to it and\n\n311\n00:15:32.110 --> 00:15:34.150\nstart to work with other containers.\n\n312\n00:15:34.150 --> 00:15:36.890\n&gt;&gt; The dockerd, is that kinda like\nsome of the Linux extensions or\n\n313\n00:15:36.890 --> 00:15:37.780\nservices that you see?\n\n314\n00:15:37.780 --> 00:15:39.580\nIs that the daemon that's running there?\n\n315\n00:15:39.580 --> 00:15:41.420\n&gt;&gt; In Windows, we call them services.\n\n316\n00:15:41.420 --> 00:15:43.520\nBut in the Linux world,\nthey call them daemons.\n\n317\n00:15:43.520 --> 00:15:44.750\nI don't know why.\n\n318\n00:15:44.750 --> 00:15:47.355\nPossessed, they're of the devil or\nsomething, I don't know.\n\n319\n00:15:47.355 --> 00:15:49.970\n[LAUGH] But they run and\nthey stay running in the background.\n\n320\n00:15:49.970 --> 00:15:52.710\nSo, in Windows that would be a service for\nus.\n\n321\n00:15:52.710 --> 00:15:54.690\nHere it's got that docker d name.\n\n322\n00:15:54.690 --> 00:15:57.923\nBecause, again, all this was developed for\nLinux originally and\n\n323\n00:15:57.923 --> 00:16:01.915\nthen ordered over to Windows, so it kept\nthat same name for consistency's sake.\n\n324\n00:16:01.915 --> 00:16:02.679\nBut it's there, right?\n\n325\n00:16:02.679 --> 00:16:06.201\nNow, it's not actually\ninstalled as a service, right?\n\n326\n00:16:06.201 --> 00:16:08.370\nI want it to show up in my services panel.\n\n327\n00:16:08.370 --> 00:16:10.990\nI want it to start automatically\nwhen my system starts up.\n\n328\n00:16:10.990 --> 00:16:14.450\nSo I need to get this thing registered and\nput in place.\n\n329\n00:16:14.450 --> 00:16:17.510\nSo that's not too terribly\na difficult thing to do.\n\n330\n00:16:17.510 --> 00:16:19.100\nI can run the docker d command to do that.\n\n331\n00:16:19.100 --> 00:16:22.460\nNow, before I do it, right now,\n\n332\n00:16:22.460 --> 00:16:27.000\ndocker is technically in the right place,\nbut it's not necessarily my path.\n\n333\n00:16:27.000 --> 00:16:28.910\nSo if I run the docker command,\n\n334\n00:16:28.910 --> 00:16:33.540\nI'm gonna have to always precede it\nwith a .\\, or if I'm not in this folder,\n\n335\n00:16:33.540 --> 00:16:37.210\nI would have to put the fully qualified\npath to get to the docker executable.\n\n336\n00:16:37.210 --> 00:16:39.490\nSo, if you wanna save a little time,\n\n337\n00:16:39.490 --> 00:16:43.390\nit's a good idea to add\nthe docker folder to your path.\n\n338\n00:16:43.390 --> 00:16:45.890\nI'll put instructions in the show\nnotes on how to do that permanently.\n\n339\n00:16:45.890 --> 00:16:48.750\nCuz you may want it to be\nin your path all the time.\n\n340\n00:16:48.750 --> 00:16:51.330\nBut just to do it temporarily,\nsave me a little pain and\n\n341\n00:16:51.330 --> 00:16:55.950\nsuffering here, I'm going to modify\nmy path environment variable.\n\n342\n00:16:55.950 --> 00:17:00.560\nSo I'm just going to call up that path,\nand I'm gonna add a little bit to it.\n\n343\n00:17:00.560 --> 00:17:05.250\nSo, I'll do plus equals, and\nthen I'm gonna point it to C colon\n\n344\n00:17:05.250 --> 00:17:11.170\nslash program files slash docker,\nlike that.\n\n345\n00:17:11.170 --> 00:17:12.695\nSo that it's gonna add that on to my path.\n\n346\n00:17:12.695 --> 00:17:16.110\nAnd let me zoom in on that\na bit cuz the coloring.\n\n347\n00:17:16.110 --> 00:17:19.100\nI don't know who thought cyan on\ndark blue was a good mix there,\n\n348\n00:17:19.100 --> 00:17:22.420\nbut basically what I'm\ndoing is that $env:Path.\n\n349\n00:17:22.420 --> 00:17:26.540\nI want to take my current path and\nthen I want to add to it.\n\n350\n00:17:26.540 --> 00:17:30.390\nSo I'm doing plus equals, and I'm adding\na semicolon to close off whatever\n\n351\n00:17:30.390 --> 00:17:33.900\nthe last directory was, and\nthen add C:\\Program Files\\docker to it.\n\n352\n00:17:33.900 --> 00:17:35.960\nAnd by doing that,\nit's going to make my life so\n\n353\n00:17:35.960 --> 00:17:39.990\nmuch easier, because now I'll just be able\nto run docker without that dot slash.\n\n354\n00:17:39.990 --> 00:17:43.710\nAnd even if I get out of that folder,\nso if I get like to my root,\n\n355\n00:17:43.710 --> 00:17:49.170\nI can say docker ps, and run it, and\nstart to use those docker commands,\n\n356\n00:17:49.170 --> 00:17:52.500\nand have a little bit more screen real\nestate, which I certainly appreciate, so.\n\n357\n00:17:52.500 --> 00:17:53.300\nI'm gonna do that.\n\n358\n00:17:53.300 --> 00:17:57.640\nThe last thing I need to do is I actually\nneed to start up the docker service.\n\n359\n00:17:57.640 --> 00:17:59.590\nSo that command that I just ran,\ndocker ps,\n\n360\n00:17:59.590 --> 00:18:02.510\nthat shows you any running\ncontainers that you've got.\n\n361\n00:18:02.510 --> 00:18:05.907\nSo what it just did is it tried to\ncheck in my with my docker daemon, and\n\n362\n00:18:05.907 --> 00:18:08.680\nget a list of how many\ncontainers I'm running.\n\n363\n00:18:08.680 --> 00:18:12.580\nWell, the docker daemon is not running so\nit's not going to get any answer back.\n\n364\n00:18:12.580 --> 00:18:14.150\nThat command didn't actually work.\n\n365\n00:18:14.150 --> 00:18:15.310\nSo I need to get that going.\n\n366\n00:18:15.310 --> 00:18:22.207\nSo to do that,\nI can say dockerd--register-service.\n\n367\n00:18:22.207 --> 00:18:27.030\nOkay, and that's going to add\ndockerd to my service list.\n\n368\n00:18:27.030 --> 00:18:30.970\nAnd when you run that, in my case, it\nalready exists cuz it's already installed.\n\n369\n00:18:30.970 --> 00:18:33.920\nBut if it's not, it'll just add\nit into that service list, and\n\n370\n00:18:33.920 --> 00:18:35.120\nyou actually won't get\nany feedback at all.\n\n371\n00:18:35.120 --> 00:18:36.732\nIt'll just drop you back\nto the command prompt.\n\n372\n00:18:36.732 --> 00:18:38.590\nAnd now that that's registered,\n\n373\n00:18:38.590 --> 00:18:41.400\nyou just need to start it,\nwhich standard PowerShell for that.\n\n374\n00:18:41.400 --> 00:18:47.150\nWe can say Start-Service, and\nthen it's just called docker.\n\n375\n00:18:47.150 --> 00:18:50.350\nLittle odd that it doesn't have the d,\nbut when it registers the service,\n\n376\n00:18:50.350 --> 00:18:52.000\nit just calls itself docker.\n\n377\n00:18:52.000 --> 00:18:52.960\nAnd that'll start it up.\n\n378\n00:18:52.960 --> 00:18:54.620\nIn my case, it's already running.\n\n379\n00:18:54.620 --> 00:18:55.580\n&gt;&gt; Now is this something, Don,\n\n380\n00:18:55.580 --> 00:18:58.390\nthat if you're gonna work with it\nyou have to start it every time?\n\n381\n00:18:58.390 --> 00:19:01.860\nOr is this gonna kinda do one of those\nautomatic startups when the server\n\n382\n00:19:01.860 --> 00:19:02.790\nstarts up?\n\n383\n00:19:02.790 --> 00:19:04.240\n&gt;&gt; It defaults to the automatic startup.\n\n384\n00:19:04.240 --> 00:19:05.790\nSo, that's how it's set now.\n\n385\n00:19:05.790 --> 00:19:08.930\nAnd if I were to reboot the docker\ndaemon would be running, but\n\n386\n00:19:08.930 --> 00:19:10.580\nyou can always go and\nmodify that if you want.\n\n387\n00:19:10.580 --> 00:19:14.330\nIf this is, let's say this is a,\nyou're on a Windows 10 laptop.\n\n388\n00:19:14.330 --> 00:19:17.750\nAnd you just, every now and then are using\ndocker to experiment around with.\n\n389\n00:19:17.750 --> 00:19:20.910\nYou don't necessarily want the Docker\ndaemon running every single time, right?\n\n390\n00:19:20.910 --> 00:19:24.873\nSo in that case,\nyou'd just run the daemon manually.\n\n391\n00:19:24.873 --> 00:19:27.160\nYou don't even have to\nregister it as a service.\n\n392\n00:19:27.160 --> 00:19:29.260\nYou could just run dockerd.exe, and\n\n393\n00:19:29.260 --> 00:19:31.570\nit'll run in the background as\nlong as that window stays open.\n\n394\n00:19:31.570 --> 00:19:34.450\nBut if you set it to automatically start\nlike you would on a server, then, yeah,\n\n395\n00:19:34.450 --> 00:19:37.790\nevery time you boot up, it's going to run\nand your containers will be ready to rock.\n\n396\n00:19:37.790 --> 00:19:39.220\n&gt;&gt; All right, so you've got it installed.\n\n397\n00:19:39.220 --> 00:19:39.940\nWe're ready to go.\n\n398\n00:19:39.940 --> 00:19:43.170\nCan you show us how we would go about if\nwe were going to decide now we're going to\n\n399\n00:19:43.170 --> 00:19:44.940\nstart working with containers?\n\n400\n00:19:44.940 --> 00:19:48.680\n&gt;&gt; All right,\nbefore we dive into the commands,\n\n401\n00:19:48.680 --> 00:19:51.840\nwe need to understand where these\ncontainers come from, right?\n\n402\n00:19:51.840 --> 00:19:55.490\nBecause you can create a container\nfrom scratch, if you want.\n\n403\n00:19:55.490 --> 00:19:59.190\nBut it's a lot of work, [LAUGH] and\nso, normally what we do is,\n\n404\n00:19:59.190 --> 00:20:03.390\nwe take somebody else's container,\nand we modify it, all right?\n\n405\n00:20:03.390 --> 00:20:05.160\nSo in order to do that,\n\n406\n00:20:05.160 --> 00:20:07.730\nwe have to understand who else has\ncontainers that are out there.\n\n407\n00:20:07.730 --> 00:20:11.270\nSo let me show real quick,\nI'm gonna go back to docker's website.\n\n408\n00:20:11.270 --> 00:20:13.720\nDocker has what's called the Docker hub,\nright?\n\n409\n00:20:13.720 --> 00:20:15.520\nYou can go to hub.docker.com.\n\n410\n00:20:15.520 --> 00:20:16.925\nLet me zoom in you can see it.\n\n411\n00:20:16.925 --> 00:20:18.820\nHub.docker.com.\n\n412\n00:20:18.820 --> 00:20:20.990\nAnd you can browse through Docker Hub,\n\n413\n00:20:20.990 --> 00:20:24.420\nand you can see tons of\ncontainers that are out there.\n\n414\n00:20:24.420 --> 00:20:26.790\nWell, you can if you're logged in,\nI'm not logged in right now.\n\n415\n00:20:26.790 --> 00:20:29.100\nBut, well, actually,\nI should still be able to search.\n\n416\n00:20:29.100 --> 00:20:31.480\nLet's jump in here, and\nI'll do a search for Microsoft.\n\n417\n00:20:31.480 --> 00:20:32.340\nThere we go.\n\n418\n00:20:32.340 --> 00:20:35.530\nSo I just typed Microsoft up in\nthe top bar and did a search.\n\n419\n00:20:35.530 --> 00:20:39.430\nNow, when you look for containers here,\nyou're going to find containers made by\n\n420\n00:20:39.430 --> 00:20:43.513\nall sorts of people, random people you've\nnever met that you cannot trust, right?\n\n421\n00:20:43.513 --> 00:20:46.117\nBecause, just because they uploaded\na container doesn't mean they're\n\n422\n00:20:46.117 --> 00:20:46.670\ntrustworthy.\n\n423\n00:20:46.670 --> 00:20:49.500\nBut guess who uploads containers?\n\n424\n00:20:49.500 --> 00:20:53.290\nMicrosoft.\nMicrosoft has official containers they've\n\n425\n00:20:53.290 --> 00:20:56.970\nalready made that they've\ndeposited up here.\n\n426\n00:20:56.970 --> 00:20:59.030\nThis can really save a ton of time cuz,\n\n427\n00:20:59.030 --> 00:21:02.210\nfor example, as a viewer I'm not\nsure if you've done this or not.\n\n428\n00:21:02.210 --> 00:21:06.070\nBut like, Wes,\nhave you ever built a nano server VHD?\n\n429\n00:21:06.070 --> 00:21:07.120\n&gt;&gt; No, I have not, not yet.\n\n430\n00:21:07.120 --> 00:21:08.469\n&gt;&gt; You'd think it would be easy.\n\n431\n00:21:08.469 --> 00:21:09.353\nIt's a nano server.\n\n432\n00:21:09.353 --> 00:21:10.190\nIt's small.\n\n433\n00:21:10.190 --> 00:21:11.962\n&gt;&gt; Right.\n&gt;&gt; But it's a pain in the butt.\n\n434\n00:21:11.962 --> 00:21:15.460\nYou've gotta prebuild a VHD, and\nthen you've gotta load it in the system.\n\n435\n00:21:15.460 --> 00:21:16.980\nYou've got to do all sorts of craziness.\n\n436\n00:21:16.980 --> 00:21:20.610\nWell, here, they've already got\na nano-container built for me.\n\n437\n00:21:20.610 --> 00:21:21.825\nMicrosoft made it themselves.\n\n438\n00:21:21.825 --> 00:21:23.200\nIt's parked right here in docker hub.\n\n439\n00:21:23.200 --> 00:21:24.540\nI can reach out and I can get it.\n\n440\n00:21:24.540 --> 00:21:27.680\nBut more importantly, I can get\ncontainers from anybody, any third party.\n\n441\n00:21:27.680 --> 00:21:31.040\nThere might be a company I work\nwith that has some software and\n\n442\n00:21:31.040 --> 00:21:32.500\nthey've already built the container.\n\n443\n00:21:32.500 --> 00:21:35.120\nI can search Docker Hub and\nI just need to find it's name.\n\n444\n00:21:35.120 --> 00:21:38.070\nThat's all you need is to know\nthe name of the container.\n\n445\n00:21:38.070 --> 00:21:39.280\nAnd if I poke around in here,\n\n446\n00:21:39.280 --> 00:21:43.100\nyou'll find all sorts of really cool\nstuff like microsoft/iis, right?\n\n447\n00:21:44.440 --> 00:21:47.590\nIf I need a quick web server,\nhere I can pull this one.\n\n448\n00:21:47.590 --> 00:21:50.570\nBut you do have to just be careful\nabout who it is that made it.\n\n449\n00:21:50.570 --> 00:21:52.890\nTake a look at the container,\nmake sure you can trust it.\n\n450\n00:21:52.890 --> 00:21:55.020\nHere's microsoft/nanoserver.\n\n451\n00:21:55.020 --> 00:21:56.150\nI want a nanoserver.\n\n452\n00:21:56.150 --> 00:21:58.390\nNo messing about with VHDs and\nall that stuff.\n\n453\n00:21:58.390 --> 00:22:00.000\nI can just come right here and\ngrab this one.\n\n454\n00:22:00.000 --> 00:22:03.210\nAnd if you click on the container,\nyou can learn a little more about it and\n\n455\n00:22:03.210 --> 00:22:04.780\nit'll tell you who built it, right?\n\n456\n00:22:04.780 --> 00:22:06.160\nWho's the owner?\n\n457\n00:22:06.160 --> 00:22:07.060\nMicrosoft.\n\n458\n00:22:07.060 --> 00:22:08.960\nI can probably trust that one, right?\n\n459\n00:22:08.960 --> 00:22:09.660\nAnd you'd be surprised.\n\n460\n00:22:09.660 --> 00:22:12.600\nSome of these you go and look at them,\nthey don't necessarily match up.\n\n461\n00:22:12.600 --> 00:22:15.120\nBut the cool part here is when\nyou find a container you like,\n\n462\n00:22:15.120 --> 00:22:19.220\nit gives you the command right here on\nthe screen that you need to run to create\n\n463\n00:22:19.220 --> 00:22:23.390\na container based off of that image,\nbased off of that model.\n\n464\n00:22:23.390 --> 00:22:25.420\nSo, we need to know about Docker Hub,\n\n465\n00:22:25.420 --> 00:22:27.860\nbecause that's where we're gonna\nfind the most of what we want.\n\n466\n00:22:27.860 --> 00:22:32.460\nIf I wanna build a web server container,\nI don't go and build one from scratch.\n\n467\n00:22:32.460 --> 00:22:34.700\nI go and I grab this nano container, or\n\n468\n00:22:34.700 --> 00:22:36.900\na Windows server core container\nis what I normally grab.\n\n469\n00:22:36.900 --> 00:22:41.100\nAnd I'll grab that server core container,\nand then I add IIS to it.\n\n470\n00:22:41.100 --> 00:22:42.640\nAnd now, I've got my web server container.\n\n471\n00:22:42.640 --> 00:22:43.690\nI made it myself.\n\n472\n00:22:43.690 --> 00:22:46.230\nI don't have to trust that\nsomebody else did it,\n\n473\n00:22:46.230 --> 00:22:48.080\nsomebody other than\nMicrosoft got involved.\n\n474\n00:22:48.080 --> 00:22:50.160\nSo, be careful as you browse around here,\n\n475\n00:22:50.160 --> 00:22:55.860\nbecause you'll find containers that\nare not necessarily made by Microsoft.\n\n476\n00:22:55.860 --> 00:23:00.945\nSo if I start poking around for,\nlike here's a Nanoserver with IIS,\n\n477\n00:23:00.945 --> 00:23:03.677\nMySQL, PHP and Wordpress, right?\n\n478\n00:23:03.677 --> 00:23:07.770\nA full Wordpress install run\nright off top of nano server.\n\n479\n00:23:07.770 --> 00:23:09.640\nAnd it's owned by Nanoserver.\n\n480\n00:23:11.090 --> 00:23:13.070\nAll right, well,\nNano Server is not a company.\n\n481\n00:23:13.070 --> 00:23:14.290\nIt's a product that Microsoft made.\n\n482\n00:23:14.290 --> 00:23:17.440\nWell, this is somebody else that's\njust named themselves Nano Server.\n\n483\n00:23:17.440 --> 00:23:19.000\nSo is that trustworthy?\n\n484\n00:23:19.000 --> 00:23:20.790\nI don't really know.\n\n485\n00:23:20.790 --> 00:23:23.250\nI apologize if you work for\nNano Server and you're a great company and\n\n486\n00:23:23.250 --> 00:23:25.990\nyou're highly reputable, but\nat the same time, who knows, right?\n\n487\n00:23:25.990 --> 00:23:29.820\nSo we want to make sure\nwe find the right image.\n\n488\n00:23:29.820 --> 00:23:30.830\nOnce we've got that,\n\n489\n00:23:30.830 --> 00:23:34.190\nonce we know the right image,\nthen we can go and download it.\n\n490\n00:23:34.190 --> 00:23:36.988\nNow, I said at the beginning of the\nepisode, I was gonna try and be hardcore,\n\n491\n00:23:36.988 --> 00:23:39.503\nuse PowerShell, and then here\nI've already abandoned it, right?\n\n492\n00:23:39.503 --> 00:23:41.887\nBut if we were in the PowerShell,\n\n493\n00:23:41.887 --> 00:23:46.865\nyou can actually run docker search,\nwhoops, do a little space bar.\n\n494\n00:23:46.865 --> 00:23:50.060\nDocker search, and\nthen a search term you want to look for.\n\n495\n00:23:50.060 --> 00:23:52.120\nSo if I want to see all\nthe containers that Microsoft made,\n\n496\n00:23:52.120 --> 00:23:54.940\nI could do microsoft/, right?\n\n497\n00:23:54.940 --> 00:23:57.728\nBecause Microsoft always puts their name\nat the beginning of a container name.\n\n498\n00:23:57.728 --> 00:24:00.210\nAnd it will search, and\nI get my results back.\n\n499\n00:24:00.210 --> 00:24:04.446\nAnd it's going to show me All those ones\nthat I just showed you on the website, so\n\n500\n00:24:04.446 --> 00:24:08.470\nI don't need a web browser,\nI can stay hardcore in PowerShell.\n\n501\n00:24:08.470 --> 00:24:10.572\nAnd you know another thing\nworth mentioning here,\n\n502\n00:24:10.572 --> 00:24:13.850\nDocker really wasn't designed for\nPowerShell, right?\n\n503\n00:24:13.850 --> 00:24:16.315\nYou can install it with the PowerShell,\nbut once it's installed,\n\n504\n00:24:16.315 --> 00:24:18.365\nit doesn't really matter if\nyou use PowerShell or not.\n\n505\n00:24:18.365 --> 00:24:22.675\nYou could use a regular old command prompt\nand these Docker commands would work.\n\n506\n00:24:22.675 --> 00:24:24.945\nWell, it is microscopic, isn't it?\n\n507\n00:24:24.945 --> 00:24:27.320\nLet me make this where\nyou can actually see it.\n\n508\n00:24:27.320 --> 00:24:33.488\nAnd assuming I can see it, which even I'm\nhaving a hard time reading any of that.\n\n509\n00:24:33.488 --> 00:24:38.460\nBut I could drop to a command prompt and\nget into that Docker folder because\n\n510\n00:24:38.460 --> 00:24:41.188\nit's in my PowerShell path but\nnot in my command prompt path.\n\n511\n00:24:41.188 --> 00:24:45.910\nBut I could come in here and\ndo Docker search Microsoft,\n\n512\n00:24:45.910 --> 00:24:48.800\nforward slash, and it's gonna reach\nout and do that search, and so on.\n\n513\n00:24:48.800 --> 00:24:51.880\nSo I don't really need the PowerShell\nanymore, but if you're in the PowerShell,\n\n514\n00:24:51.880 --> 00:24:53.280\nyou might as well stay in it.\n\n515\n00:24:53.280 --> 00:24:56.170\nAnd so that's kind of what I'm doing,\nbut right now I can look.\n\n516\n00:24:56.170 --> 00:24:59.890\nI can find the image that I want, and\n\n517\n00:24:59.890 --> 00:25:02.430\nthen we're actually ready to\nstart working with the stuff.\n\n518\n00:25:02.430 --> 00:25:07.500\nNow, when you go to deploy a container,\nyou don't have to really\n\n519\n00:25:07.500 --> 00:25:10.870\ndo anything ahead of time, you can just\njump right in and deploy the container.\n\n520\n00:25:10.870 --> 00:25:14.098\nBut if it's the first time\nyou've deployed an image,\n\n521\n00:25:14.098 --> 00:25:16.635\nit can take awhile to download that image.\n\n522\n00:25:16.635 --> 00:25:18.894\nEspecially, a bigger one,\nlike the Windows server core image,\n\n523\n00:25:18.894 --> 00:25:20.460\nit's like four gigs in size.\n\n524\n00:25:20.460 --> 00:25:21.880\nSo if I want to deploy with it,\n\n525\n00:25:21.880 --> 00:25:26.120\nthe very first time I deploy it's\ngonna take some time to download that.\n\n526\n00:25:26.120 --> 00:25:30.270\nSo it's recommended that you download\nthe images you want first so\n\n527\n00:25:30.270 --> 00:25:34.340\nthat you've already got them before\nyou deploy an actual container, right?\n\n528\n00:25:34.340 --> 00:25:36.774\nSo to do that we search and\nwe find their name, right?\n\n529\n00:25:36.774 --> 00:25:38.890\nYou find the name of\nthe container that you want.\n\n530\n00:25:38.890 --> 00:25:43.660\nAnd then, you just come in and\nsay, docker pull, and\n\n531\n00:25:43.660 --> 00:25:45.880\nthen the name of the image, right?\n\n532\n00:25:45.880 --> 00:25:49.570\nYou can run docker images to see\nthe images you've already got.\n\n533\n00:25:49.570 --> 00:25:52.615\nAnd if you just installed Docker,\nguess what?\n\n534\n00:25:52.615 --> 00:25:53.415\nYou don't have any.\n\n535\n00:25:53.415 --> 00:25:54.925\nIt will be empty, right?\n\n536\n00:25:54.925 --> 00:25:56.915\nBut, if you start to download them,\n\n537\n00:25:56.915 --> 00:25:59.815\nthen they'll start to show up\nright here under docker images.\n\n538\n00:25:59.815 --> 00:26:02.445\nSo you can see, I've already got\nmicrosoft/windowsservercore.\n\n539\n00:26:02.445 --> 00:26:06.835\nI downloaded it before the show,\nbecause, look at the size, 10.3 gigs.\n\n540\n00:26:06.835 --> 00:26:08.905\nDidn't I just say it was four gigs?\n\n541\n00:26:08.905 --> 00:26:10.685\nWell, four gigs compressed.\n\n542\n00:26:10.685 --> 00:26:12.201\nYou download it, it uncompresses.\n\n543\n00:26:12.201 --> 00:26:13.089\nNow it's 10.3 gigs.\n\n544\n00:26:13.089 --> 00:26:15.990\nEither way, it's big and\nthat takes awhile to download.\n\n545\n00:26:15.990 --> 00:26:18.180\nBut if I want to get like\nthat nano server one, right?\n\n546\n00:26:18.180 --> 00:26:24.890\nI can say docker pull\nmicrosoft/nanoserver, right?\n\n547\n00:26:24.890 --> 00:26:26.542\nAnd it's gonna reach out to docker hub.\n\n548\n00:26:26.542 --> 00:26:29.810\nIt's gonna find that nano\nserver container image,\n\n549\n00:26:29.810 --> 00:26:32.710\nand it's gonna download the image, right?\n\n550\n00:26:32.710 --> 00:26:34.830\nIt's not creating a container.\n\n551\n00:26:34.830 --> 00:26:36.230\nIt's not running a container.\n\n552\n00:26:36.230 --> 00:26:37.370\nIt's not launching application.\n\n553\n00:26:37.370 --> 00:26:38.590\nIt's just downloading an image.\n\n554\n00:26:38.590 --> 00:26:41.060\nAnd now the image is gonna sit\nright there on my hard drive.\n\n555\n00:26:41.060 --> 00:26:44.600\nAnd the next time I spin up a container,\nit won't have to go and download this.\n\n556\n00:26:44.600 --> 00:26:48.080\nIt's already got it and\nit's ready to rock, ready to jump in and\n\n557\n00:26:48.080 --> 00:26:49.430\nready to do some work.\n\n558\n00:26:49.430 --> 00:26:52.070\nNow the interesting\nthing here is that these\n\n559\n00:26:52.070 --> 00:26:54.520\ncontainer images don't update, right?\n\n560\n00:26:54.520 --> 00:26:58.951\nSo this nano server image\nis current as of right now.\n\n561\n00:26:58.951 --> 00:27:02.025\nThe windowsservercore image that I\ndownloaded is current as of right now,\n\n562\n00:27:02.025 --> 00:27:04.030\nwhich it says created three weeks ago.\n\n563\n00:27:04.030 --> 00:27:06.800\nSo, have any updates come\nout in the last three weeks?\n\n564\n00:27:06.800 --> 00:27:07.675\nI don't know, maybe.\n\n565\n00:27:07.675 --> 00:27:11.460\n[LAUGH] So every now and\nthen I need to go and\n\n566\n00:27:11.460 --> 00:27:14.650\ndownload that image again to make sure\nit's got the latest and greatest.\n\n567\n00:27:14.650 --> 00:27:17.770\nBut we'll see where that can be a bit of a\nproblem later on cuz of the way we modify\n\n568\n00:27:17.770 --> 00:27:18.570\nthese images.\n\n569\n00:27:18.570 --> 00:27:22.190\nBut you do need to be aware that\nDocker is all about consistency.\n\n570\n00:27:22.190 --> 00:27:25.290\nDevelopers always want their\ncontainers to run the same way.\n\n571\n00:27:25.290 --> 00:27:28.120\nAnd if you update a container it\nmight not run the same way anymore.\n\n572\n00:27:28.120 --> 00:27:29.900\nSo it doesn't automatically update.\n\n573\n00:27:29.900 --> 00:27:31.130\nSo just be aware of that.\n\n574\n00:27:31.130 --> 00:27:32.380\nWe download the images.\n\n575\n00:27:32.380 --> 00:27:35.100\nNow we can start to deploy them and\nstart to build containers, and\n\n576\n00:27:35.100 --> 00:27:37.880\nreally kick the tires and\nsee what Docker can do.\n\n577\n00:27:37.880 --> 00:27:40.370\n&gt;&gt; Don, that's a lot of great information\nand I'm looking at our show notes.\n\n578\n00:27:40.370 --> 00:27:43.160\nI know we've got a lot more to go\nwhen it comes to containers, but\n\n579\n00:27:43.160 --> 00:27:45.210\nwe couldn't contain it in all episodes.\n\n580\n00:27:45.210 --> 00:27:45.830\nYou like what I did?\n\n581\n00:27:45.830 --> 00:27:47.590\nI had to throw my pun in there, right?\n\n582\n00:27:47.590 --> 00:27:48.300\n&gt;&gt; We've come full circle.\n\n583\n00:27:48.300 --> 00:27:49.560\n&gt;&gt; But before we do, that's right.\n\n584\n00:27:49.560 --> 00:27:52.879\nDo you have any additional words that\nmaybe you'd like to impart to our viewers.\n\n585\n00:27:52.879 --> 00:27:57.340\n&gt;&gt; The main thing here is remember\nthat Docker is not just Linux only.\n\n586\n00:27:57.340 --> 00:27:59.790\nIt runs great on Windows and\nit really works well.\n\n587\n00:27:59.790 --> 00:28:01.260\nMicrosoft has invested quite a bit.\n\n588\n00:28:01.260 --> 00:28:02.770\nSo they're moving forward.\n\n589\n00:28:02.770 --> 00:28:05.095\nIt's really exciting stuff,\nyou definitely want to learn it.\n\n590\n00:28:05.095 --> 00:28:09.145\nIn this episode we only saw getting it\ninstalled, which is not terribly exciting.\n\n591\n00:28:09.145 --> 00:28:10.774\nI downloaded an image, whoo.\n\n592\n00:28:10.774 --> 00:28:14.615\n[LAUGH] But in the next episode\nwe're gonna build some containers.\n\n593\n00:28:14.615 --> 00:28:15.835\nWe'll throw some applications in there.\n\n594\n00:28:15.835 --> 00:28:17.405\nWe'll actually see what containers can do.\n\n595\n00:28:17.405 --> 00:28:20.835\nIf you're doing this on your desktop\nthere's actually a graphical\n\n596\n00:28:20.835 --> 00:28:24.455\nuser interface that you can get from\nDocker's website called Kitematic.\n\n597\n00:28:24.455 --> 00:28:28.390\nAnd it actually does all this in a GUI so\nyou can kinda hide all this.\n\n598\n00:28:28.390 --> 00:28:30.272\nI don't recommend using Kitematic,\n\n599\n00:28:30.272 --> 00:28:33.270\njust because you're not gonna\nhave it on the servers.\n\n600\n00:28:33.270 --> 00:28:36.500\nAnd so now you've learned it one way, and\nit doesn't work that way in production.\n\n601\n00:28:36.500 --> 00:28:39.240\nSo I always recommend sticking with\nthe command line tools cuz they're\n\n602\n00:28:39.240 --> 00:28:43.150\npretty consistent between Linux and\nWindows, and servers and desktops.\n\n603\n00:28:43.150 --> 00:28:44.880\nYou're always gonna have them.\n\n604\n00:28:44.880 --> 00:28:45.570\n&gt;&gt; All right, Don.\n\n605\n00:28:45.570 --> 00:28:46.960\nThat's a great place to stop here.\n\n606\n00:28:46.960 --> 00:28:50.600\nWe appreciate you joining us and\nwe appreciate, you, the viewer watching.\n\n607\n00:28:50.600 --> 00:28:52.140\nRemember, you can watch this episode and\n\n608\n00:28:52.140 --> 00:28:55.830\nthousands of hours of other great content\nby checking out our course library.\n\n609\n00:28:55.830 --> 00:28:58.172\nTil we see you again,\nI've been your show host, Wes Bryan.\n\n610\n00:28:58.172 --> 00:28:58.872\n&gt;&gt; And I'm Don Pezet.\n\n611\n00:28:58.872 --> 00:29:01.265\n&gt;&gt; And we'll see you next time.\n\n612\n00:29:01.265 --> 00:29:07.292\n[MUSIC]\n\n613\n00:29:07.292 --> 00:29:09.200\n&gt;&gt; Thank you for watching ITPRO TV.\n\n",
          "vimeoId": "237623821"
        },
        {
          "description": "In this episode, Don introduces the viewers to Docker containers. He then shows how to install Docker support on Windows Server 2016. Finally, he demonstrates how to create and manage containers inside of Docker.",
          "length": "1898",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-4-4-2-docker-containers_pt2-100917-PGM.00_31_24_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-4-4-2-docker-containers_pt2-100917-PGM.00_31_24_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-4-4-2-docker-containers_pt2-100917-PGM.00_31_24_28.Still001-sm.jpg",
          "title": "Docker Containers Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.172 --> 00:00:01.496\nWelcome to ITPRO.TV.\n\n2\n00:00:01.496 --> 00:00:02.890\nI'm your host Don Pezet.\n\n3\n00:00:02.890 --> 00:00:05.786\n[CROSSTALK]\n\n4\n00:00:05.786 --> 00:00:08.414\n[MUSIC]\n\n5\n00:00:08.414 --> 00:00:12.227\n&gt;&gt; You're watching ITPRO.TV.\n\n6\n00:00:12.227 --> 00:00:13.520\n&gt;&gt; Hello to all our viewers out there.\n\n7\n00:00:13.520 --> 00:00:14.630\nThanks for joining us today.\n\n8\n00:00:14.630 --> 00:00:16.510\nWe've got a great show in store for ya.\n\n9\n00:00:16.510 --> 00:00:20.793\nWe are continuing along in\nour series in the 7740 exam.\n\n10\n00:00:20.793 --> 00:00:24.775\nThat's right, the installation, storage\nand compute in Windows Server 2016.\n\n11\n00:00:24.775 --> 00:00:27.480\nAnd joining us back in the studios,\nis none other than Mr Don Pezet.\n\n12\n00:00:27.480 --> 00:00:28.930\nDon, how you doing today, sir?\n\n13\n00:00:28.930 --> 00:00:29.820\n&gt;&gt; I'm doing great, Wes.\n\n14\n00:00:29.820 --> 00:00:32.320\nReady to dive right back\ninto the world of Docker.\n\n15\n00:00:32.320 --> 00:00:34.943\nRight, we're gonna try to contain\nour excitement once more.\n\n16\n00:00:34.943 --> 00:00:35.828\nI'm just gonna recycle that line over and\nover again.\n\n17\n00:00:35.828 --> 00:00:36.392\n&gt;&gt; There we go.\n\n18\n00:00:36.392 --> 00:00:37.880\n[LAUGH]\n&gt;&gt; I've got to come up with some\n\n19\n00:00:37.880 --> 00:00:38.420\nbetter ones.\n\n20\n00:00:38.420 --> 00:00:40.010\nBut we are picking up with part two,\nright?\n\n21\n00:00:40.010 --> 00:00:42.990\nBecause in part one,\nwe got to see what Docker was.\n\n22\n00:00:42.990 --> 00:00:44.270\nHow to get it installed.\n\n23\n00:00:44.270 --> 00:00:46.410\nWe even pulled out some images.\n\n24\n00:00:46.410 --> 00:00:48.970\nBut we never actually created a container.\n\n25\n00:00:48.970 --> 00:00:52.650\nSo, as exciting as the technology is,\nwe didn't actually [LAUGH] use it.\n\n26\n00:00:52.650 --> 00:00:54.660\nBut everything we did was important\nin the first episode, but\n\n27\n00:00:54.660 --> 00:00:56.570\nhere in this episode,\nwe're gonna see the real stuff.\n\n28\n00:00:56.570 --> 00:00:58.440\nWe're actually gonna\ncreate some Containers.\n\n29\n00:00:58.440 --> 00:00:59.410\nGet a chance to work with them and\n\n30\n00:00:59.410 --> 00:01:02.300\nsee what they can do,\nall right here in this episode.\n\n31\n00:01:02.300 --> 00:01:05.410\n&gt;&gt; Now in the first part,\nyou showed us how to download that image.\n\n32\n00:01:05.410 --> 00:01:08.420\nNow, how do we use that image now\nthat we've got it downloaded,\n\n33\n00:01:08.420 --> 00:01:10.810\nto start building and\nworking with containers?\n\n34\n00:01:10.810 --> 00:01:13.590\n&gt;&gt; So the two components are images and\ncontainers.\n\n35\n00:01:13.590 --> 00:01:15.600\nContainers are built from the images.\n\n36\n00:01:15.600 --> 00:01:19.570\nAnd so at the end of the last episode,\nI had downloaded a NanoServer image.\n\n37\n00:01:19.570 --> 00:01:21.190\nAnd it's just sitting there, right?\n\n38\n00:01:21.190 --> 00:01:24.000\nWhich we can see with\nthe Docker images command.\n\n39\n00:01:24.000 --> 00:01:26.390\nSo let me just run Docker images.\n\n40\n00:01:26.390 --> 00:01:29.360\nAnd I can see each of the images\nthat I've downloaded.\n\n41\n00:01:29.360 --> 00:01:32.990\nSo I can see that I've got,\nMicrosoft IIS, or Windows Server Core,\n\n42\n00:01:32.990 --> 00:01:36.450\nor NanoServer, these are all just\ndifferent ones that I've downloaded.\n\n43\n00:01:36.450 --> 00:01:38.870\nAnd we got that with\nthe Docker poll command.\n\n44\n00:01:38.870 --> 00:01:42.255\nWe said docker poll, and then whatever\nthe name of that container was.\n\n45\n00:01:42.255 --> 00:01:44.910\nAnd I showed you guys\nhow to download them.\n\n46\n00:01:44.910 --> 00:01:46.790\nI didn't show you how to delete them.\n\n47\n00:01:46.790 --> 00:01:48.090\nIf you wanna get rid of a container.\n\n48\n00:01:48.090 --> 00:01:49.890\nMaybe you don't need it anymore, or\n\n49\n00:01:49.890 --> 00:01:53.527\nyou just want to make sure that\nyou've got the absolute latest, or\n\n50\n00:01:53.527 --> 00:01:59.000\nsomething like that, you can do docker\nrmi, which is short for remove image.\n\n51\n00:01:59.000 --> 00:02:04.410\nWe can say docker rmi, and\nthen like I'll get rid of microsoft/iis.\n\n52\n00:02:04.410 --> 00:02:06.130\nAnd when I run that,\nit's going to delete that image.\n\n53\n00:02:06.130 --> 00:02:10.220\nNow, if you pulled the image from Docker\nHub, you can always turn right around and\n\n54\n00:02:10.220 --> 00:02:12.630\nget it from Docker Hub again,\nit's not a big deal, right.\n\n55\n00:02:12.630 --> 00:02:17.188\nBut, if you made it yourself, you remove\nthat image, now it's kind of gone forever.\n\n56\n00:02:17.188 --> 00:02:19.390\nSo you wanna make sure that\nyou've got this data saved,\n\n57\n00:02:19.390 --> 00:02:20.390\nif it's actually important.\n\n58\n00:02:20.390 --> 00:02:22.480\nBut if you don't need it anymore,\nyou just toast it.\n\n59\n00:02:22.480 --> 00:02:25.010\nEspecially, if it's coming from\nDocker Hub, so easy to get it again.\n\n60\n00:02:25.010 --> 00:02:30.220\nAnd I can run docker Images, and\nI can see that Microsoft/iis is gone.\n\n61\n00:02:30.220 --> 00:02:34.460\nOkay, so I've got these images sitting\nhere, Windows Server Core, NanoServer.\n\n62\n00:02:34.460 --> 00:02:37.780\nAnd if I wanna build up a container,\nI can do that really easy.\n\n63\n00:02:37.780 --> 00:02:43.312\nIn fact, Docker has a test container\nthat you can fire up really easy.\n\n64\n00:02:43.312 --> 00:02:48.229\nIf you run docker container run\n\n65\n00:02:48.229 --> 00:02:53.156\nhello-world:nanoserver.\n\n66\n00:02:53.156 --> 00:02:55.790\nThat :nanoserver part is pretty important.\n\n67\n00:02:55.790 --> 00:03:00.060\nDocker was developed under Linux, and\nso the default hello-world container is\n\n68\n00:03:00.060 --> 00:03:03.130\nactually designed to run under\na Linux kernel, which doesn't work so\n\n69\n00:03:03.130 --> 00:03:05.430\nwell when you're [LAUGH]\nrunning on a Windows Server.\n\n70\n00:03:05.430 --> 00:03:09.750\nSo by telling it to use NanoServer, it's\ngonna basically build a simple hello-world\n\n71\n00:03:09.750 --> 00:03:12.240\napplication that runs right\non top of NanoServer.\n\n72\n00:03:12.240 --> 00:03:13.390\nThis will be our first container.\n\n73\n00:03:13.390 --> 00:03:17.010\nNow, this container is a little different\nthan what you might be expecting.\n\n74\n00:03:17.010 --> 00:03:19.420\nA lot of people come in her thinking\nabout it like a virtual machine.\n\n75\n00:03:19.420 --> 00:03:20.540\nIt's gonna fire up NanoServer.\n\n76\n00:03:20.540 --> 00:03:21.260\nIt's gonna run applications.\n\n77\n00:03:21.260 --> 00:03:21.893\nIt's gonna sit there.\n\n78\n00:03:21.893 --> 00:03:25.440\nBut in containers,\n\n79\n00:03:25.440 --> 00:03:29.940\nthey're designed to basically launch,\nrun an application and then terminate.\n\n80\n00:03:29.940 --> 00:03:33.068\nSo, it's going to create the container,\npower it on,\n\n81\n00:03:33.068 --> 00:03:37.030\nrun this hello-world app,\nand then power it off.\n\n82\n00:03:37.030 --> 00:03:39.290\nAnd it's done it's job, and it's over.\n\n83\n00:03:39.290 --> 00:03:40.550\nSome containers will be like that.\n\n84\n00:03:40.550 --> 00:03:43.190\nSome containers are designed to do\none quick thing and then get out, and\n\n85\n00:03:43.190 --> 00:03:45.960\nthen you run it periodically\nto do whatever it's job is.\n\n86\n00:03:45.960 --> 00:03:47.980\nOther containers,\nwe do use like virtual machines,\n\n87\n00:03:47.980 --> 00:03:51.440\nwe run it, it does it's job and\nit keeps doing it's job.\n\n88\n00:03:51.440 --> 00:03:52.440\nIt stays running.\n\n89\n00:03:52.440 --> 00:03:55.310\nIf it's a database server,\nyou want that to stay running.\n\n90\n00:03:55.310 --> 00:03:57.520\nSo containers can behave differently.\n\n91\n00:03:57.520 --> 00:03:59.030\nVirtual machines aren't really like that.\n\n92\n00:03:59.030 --> 00:04:02.450\nVirtual machines are usually intended\nto be started, run and stay running.\n\n93\n00:04:03.480 --> 00:04:07.547\nSo here I can see the hello-world app\njust run, and all it does is output this.\n\n94\n00:04:07.547 --> 00:04:11.922\nHello from Docker, and then it gives\nme some tips on getting started, and\n\n95\n00:04:11.922 --> 00:04:12.989\nthen it's done.\n\n96\n00:04:12.989 --> 00:04:14.760\nThe container was created.\n\n97\n00:04:14.760 --> 00:04:18.920\nIt did it's job, and it got out,\nand it happened fairly quickly.\n\n98\n00:04:18.920 --> 00:04:23.320\nA big part of that is, that is it had to\npull the hello-world application from\n\n99\n00:04:23.320 --> 00:04:27.690\nDocker Hub, but\nI already had the NanoServer image here.\n\n100\n00:04:27.690 --> 00:04:31.359\nSo that was able to go really quick, so\nyou get these messages already exists,\n\n101\n00:04:31.359 --> 00:04:34.764\nalready exists, pull complete,\nit already had the NanoServer image.\n\n102\n00:04:34.764 --> 00:04:36.453\nNow, NanoServer's a pretty small image.\n\n103\n00:04:36.453 --> 00:04:38.850\n200, 250 megs, something like that.\n\n104\n00:04:38.850 --> 00:04:40.860\nBut it still would take\ntime to download it.\n\n105\n00:04:40.860 --> 00:04:43.710\nIf I was doing\na Window Server Core at 4 gigs,\n\n106\n00:04:43.710 --> 00:04:47.390\nit would have taken me ten minutes to have\njust run that one little application.\n\n107\n00:04:47.390 --> 00:04:50.930\nSo that again kind of reinforces\nthe benefit of download the images\n\n108\n00:04:50.930 --> 00:04:54.040\nahead of time, make sure you got them in\nthat way when you run applications like\n\n109\n00:04:54.040 --> 00:04:56.030\nthese they run much more quickly.\n\n110\n00:04:57.030 --> 00:05:01.490\nAnd now that it's running down it's job,\nthe container is gone.\n\n111\n00:05:01.490 --> 00:05:04.080\nAnd I can see that in\na few different ways.\n\n112\n00:05:04.080 --> 00:05:08.686\nThere's the Docker PS command.\n\n113\n00:05:08.686 --> 00:05:11.890\nWhich is short for processes,\nshow me my Docker processes, and\n\n114\n00:05:11.890 --> 00:05:14.850\nreally each container is a process.\n\n115\n00:05:14.850 --> 00:05:16.070\nI've got none.\n\n116\n00:05:16.070 --> 00:05:19.650\nWell, that's because the container run and\nthen exited.\n\n117\n00:05:19.650 --> 00:05:22.410\nIf you add a little bit more to it,\nI'm going to do a doccerps-a,\n\n118\n00:05:22.410 --> 00:05:27.350\nthat will show me all the containers,\neven ones that have exited out.\n\n119\n00:05:27.350 --> 00:05:29.970\nAnd here I can see,\nhello-world: NanoServer.\n\n120\n00:05:29.970 --> 00:05:31.200\nIt run.\n\n121\n00:05:31.200 --> 00:05:35.430\nIt's command was to type a simple file,\nto display it on the screen, and\n\n122\n00:05:35.430 --> 00:05:38.090\nthen it run about a minute ago and\nexited out.\n\n123\n00:05:38.090 --> 00:05:40.160\n&gt;&gt; Now, Don,\nthat was very kinda anti-climatic there.\n\n124\n00:05:40.160 --> 00:05:42.056\n[LAUGH]\n&gt;&gt; You ran the NanoServer container, but\n\n125\n00:05:42.056 --> 00:05:43.424\nwe didn't really see anything.\n\n126\n00:05:43.424 --> 00:05:44.940\nIs that something we can actually see?\n\n127\n00:05:44.940 --> 00:05:46.130\n&gt;&gt; Yeah, and I know.\n\n128\n00:05:46.130 --> 00:05:49.010\nWith a virtual machine,\nyou see the operating system boot up or\n\n129\n00:05:49.010 --> 00:05:50.840\nyou see a command prompt at least.\n\n130\n00:05:50.840 --> 00:05:54.600\nIt's something that you can ssh into, but\nwith a container it does it's job and\n\n131\n00:05:54.600 --> 00:05:56.040\nit gets out.\n\n132\n00:05:56.040 --> 00:05:59.500\nContainers, they don't always\ngive us an interactive interface.\n\n133\n00:05:59.500 --> 00:06:01.560\nIf we wanted that,\nsomething a little more traditional.\n\n134\n00:06:01.560 --> 00:06:05.350\nHere, let me spin something up,\nwe'll go a little bit different.\n\n135\n00:06:05.350 --> 00:06:10.150\nSo I'll come in here and\ndo a, we'll do a docker run.\n\n136\n00:06:11.230 --> 00:06:15.270\nAnd, docker run is kinda the key word\nsaying, I want to run a container.\n\n137\n00:06:15.270 --> 00:06:18.440\nI wanna launch a container, and\nget it up and going, and in place.\n\n138\n00:06:18.440 --> 00:06:19.530\nAnd so I'm gonna run one.\n\n139\n00:06:19.530 --> 00:06:22.120\nAnd I will do, let's see,\n\n140\n00:06:22.120 --> 00:06:30.210\nlet's do microsoft/windowsservercore.\n\n141\n00:06:30.210 --> 00:06:34.220\nSo with Nano,\nyou get this like super small limited OS.\n\n142\n00:06:34.220 --> 00:06:35.890\nI want something a little beefier.\n\n143\n00:06:35.890 --> 00:06:37.480\nI want Windows Server Core.\n\n144\n00:06:37.480 --> 00:06:39.820\nSo I'm gonna be pulling\nup this bigger install.\n\n145\n00:06:39.820 --> 00:06:42.000\nI've already downloaded the image,\notherwise this would take a long time.\n\n146\n00:06:42.000 --> 00:06:43.690\nSo I'll be able to spin\nthis up pretty quick.\n\n147\n00:06:43.690 --> 00:06:49.850\nAnd before I do it, looking up here,\nsee the container that was run.\n\n148\n00:06:49.850 --> 00:06:53.547\nThe container gets a name\nassigned to it and\n\n149\n00:06:53.547 --> 00:06:57.970\nthis container that run\nwas named zen_dubinsky.\n\n150\n00:06:57.970 --> 00:06:59.630\nWell that doesn't make any sense.\n\n151\n00:06:59.630 --> 00:07:02.319\nWhen you run a container,\nif you don't give it any name,\n\n152\n00:07:02.319 --> 00:07:04.680\nit generates two words and\nsticks them together.\n\n153\n00:07:04.680 --> 00:07:06.331\nAnd it will be random things.\n\n154\n00:07:06.331 --> 00:07:07.234\nYou'll see all sorts of stuff.\n\n155\n00:07:07.234 --> 00:07:09.660\nIt'll be like greenbattleship or whatever.\n\n156\n00:07:09.660 --> 00:07:11.971\nThey're usually weirder than that.\n\n157\n00:07:11.971 --> 00:07:14.838\nSo as you create containers,\nthe names aren't really meaningful, so\n\n158\n00:07:14.838 --> 00:07:17.531\nif this is something I care about,\nI probably wanna give it a name.\n\n159\n00:07:17.531 --> 00:07:19.340\nAnd so I'm gonna add a little\nbit more to this line.\n\n160\n00:07:19.340 --> 00:07:24.722\nI'm going to say, docker run --name,\nand I'm gonna give it a name.\n\n161\n00:07:24.722 --> 00:07:28.408\nI'm gonna call mine, maybe webserver01.\n\n162\n00:07:28.408 --> 00:07:30.960\nI wanna spin up a web server,\nI wanna have a name like that.\n\n163\n00:07:30.960 --> 00:07:34.066\nNot Zen Zubenski,\nI want it to be, webserver01.\n\n164\n00:07:34.066 --> 00:07:38.973\nAnd I'm gonna bill it off of that\nmicrosoft/windowsservercore image.\n\n165\n00:07:38.973 --> 00:07:41.110\nThat's the image that I wanna use.\n\n166\n00:07:41.110 --> 00:07:45.490\nAnd if I just want it like this,\nit's gonna be very similar to hello-world.\n\n167\n00:07:45.490 --> 00:07:47.570\nIt's gonna create a container\nwith Windows Server Core.\n\n168\n00:07:47.570 --> 00:07:51.040\nIt's gonna boot it up and\nit has no command, so\n\n169\n00:07:51.040 --> 00:07:53.050\nthen it's just gonna shut it\ndown again and then that's it.\n\n170\n00:07:53.050 --> 00:07:55.820\nIt's gonna go away.\nSo I'm gonna add a little bit more to it.\n\n171\n00:07:55.820 --> 00:07:59.303\nI'm gonna add a -it.\n\n172\n00:07:59.303 --> 00:08:00.555\nIt.\n\n173\n00:08:00.555 --> 00:08:02.099\nNow, what the heck is that?\n\n174\n00:08:02.099 --> 00:08:05.410\nI says, I want to start this\nin an interactive mode.\n\n175\n00:08:05.410 --> 00:08:09.550\nI want to be able to interact with\nthis virtual machine or container.\n\n176\n00:08:09.550 --> 00:08:11.960\nI want to be able to\ntalk to the container.\n\n177\n00:08:11.960 --> 00:08:13.490\nAnd then speaking of talking.\n\n178\n00:08:13.490 --> 00:08:17.030\nT means create a virtual TTY,\na teletype interface.\n\n179\n00:08:17.030 --> 00:08:20.240\nGive me a console, a console so\nI can get into this darn thing so\n\n180\n00:08:20.240 --> 00:08:21.840\nI can start to work with it.\n\n181\n00:08:21.840 --> 00:08:24.930\nThat dash IT is really important,\n\n182\n00:08:24.930 --> 00:08:29.250\nif I had run the hello world app with\na dash IT on it, then I would have ended\n\n183\n00:08:29.250 --> 00:08:32.280\nup with a shell that I could\ninteract with and I could talk to.\n\n184\n00:08:32.280 --> 00:08:33.680\nThat's how we actually see it and\n\n185\n00:08:33.680 --> 00:08:35.890\nmake it behave a little more\nlike a virtual machine.\n\n186\n00:08:35.890 --> 00:08:39.860\nSo when I run this it's gonna fire up,\nit's gonna create a container named web\n\n187\n00:08:39.860 --> 00:08:45.940\nserver 01 and it's gonna launch it off\na Windows server core and it just did it.\n\n188\n00:08:45.940 --> 00:08:48.400\nNow I'm not seeing my PowerShell anymore.\n\n189\n00:08:48.400 --> 00:08:51.280\nI'm seeing a regular command prompt,\nright?\n\n190\n00:08:51.280 --> 00:08:54.222\nAnd that's me inside of this container.\n\n191\n00:08:54.222 --> 00:09:01.110\nIf I do a hostname,\nmy hostname is 6eb64c22495b, right?\n\n192\n00:09:01.110 --> 00:09:04.644\nThat's a GUID that's generated for\neach container.\n\n193\n00:09:04.644 --> 00:09:06.278\nEvery container has its own identifier.\n\n194\n00:09:06.278 --> 00:09:08.640\nThat's tied to it and so\nthat's the host name of this machine.\n\n195\n00:09:08.640 --> 00:09:12.320\nBut I am now in\na Windows Server Core install.\n\n196\n00:09:12.320 --> 00:09:15.920\nAnd I can do all the things that I\nnormally do inside of Windows Server Core.\n\n197\n00:09:15.920 --> 00:09:19.980\nI can install roles and features, I can\nrun commands, this is the regular command\n\n198\n00:09:19.980 --> 00:09:23.570\nprompt so I could run things like ip\nconfig and now I see my network interface.\n\n199\n00:09:23.570 --> 00:09:25.140\nSo all that is there.\n\n200\n00:09:25.140 --> 00:09:26.550\nI'm interacting with it.\n\n201\n00:09:26.550 --> 00:09:28.930\n&gt;&gt; Now I noticed that you\ncalled this web server right?\n\n202\n00:09:28.930 --> 00:09:33.440\nBut one of the things that we don't see\nyet is well is IIS even running on that?\n\n203\n00:09:33.440 --> 00:09:35.090\nIs that something that you\ncan do now that you've got\n\n204\n00:09:35.090 --> 00:09:36.540\nthis interactive command prompt?\n\n205\n00:09:36.540 --> 00:09:38.480\n&gt;&gt; Yeah, so it's not running, right?\n\n206\n00:09:38.480 --> 00:09:43.370\nBecause I used just the base\nserver core install, right?\n\n207\n00:09:43.370 --> 00:09:47.830\nSo it's basically like I just installed\nWindows Server Core on hardware.\n\n208\n00:09:47.830 --> 00:09:50.240\nWhat do you have to do?\nYou have to add the IIS role.\n\n209\n00:09:50.240 --> 00:09:52.130\nYou have to open up ports in the firewall.\n\n210\n00:09:52.130 --> 00:09:55.240\nYou have to do all those other crazy\nthings that are involved with setting up\n\n211\n00:09:55.240 --> 00:09:56.940\na web server, that's what this is.\n\n212\n00:09:56.940 --> 00:10:00.190\nI treat this exactly like any\nother Server Core install.\n\n213\n00:10:00.190 --> 00:10:01.130\nRight?\n\n214\n00:10:01.130 --> 00:10:04.330\nWell, I guess one little problem I'll\nhave here is that I'm in just the regular\n\n215\n00:10:04.330 --> 00:10:05.250\ncommand prompt.\n\n216\n00:10:05.250 --> 00:10:08.340\nSo I would need to get into\nthe PowerShell to really start to do work.\n\n217\n00:10:08.340 --> 00:10:12.420\nRight?\nSo I could run PowerShell.\n\n218\n00:10:12.420 --> 00:10:15.120\nAnd it's gonna take a moment cuz it's\nthe first time, but it's gonna fire up\n\n219\n00:10:15.120 --> 00:10:19.350\na PowerShell and then I'll be in\nthe PowerShell on this instance and\n\n220\n00:10:19.350 --> 00:10:22.870\nI can start to install roles or\ninstall-Windows feature or\n\n221\n00:10:22.870 --> 00:10:26.060\nwhatever and\nstart to work with it just like normal.\n\n222\n00:10:26.060 --> 00:10:28.400\nBut let me show you where\nthings get really weird.\n\n223\n00:10:28.400 --> 00:10:29.750\nThis machine is up and running.\n\n224\n00:10:29.750 --> 00:10:30.920\nIt's a server.\n\n225\n00:10:30.920 --> 00:10:32.330\nIt's doing its job.\n\n226\n00:10:32.330 --> 00:10:35.960\nAnd if I exit out, right,\nwell I just exited out of the PowerShell.\n\n227\n00:10:35.960 --> 00:10:37.760\nSo I'm back in my command prompt, right,\n\n228\n00:10:37.760 --> 00:10:41.080\nif I do a host name,\nI can see I'm still in my container.\n\n229\n00:10:41.080 --> 00:10:45.420\nIf I run exit again, I'm now\ngetting out of the container, okay?\n\n230\n00:10:45.420 --> 00:10:48.270\nWell, when I ran the container,\nI gave it a job.\n\n231\n00:10:48.270 --> 00:10:51.470\nThe job was dash IT,\ngive me an interactive TTY,\n\n232\n00:10:51.470 --> 00:10:53.320\nor an interactive terminal.\n\n233\n00:10:53.320 --> 00:10:57.300\nWhen I exited out, I closed that terminal,\nit's now done its job.\n\n234\n00:10:57.300 --> 00:11:00.450\nIt's done its job and\nit shuts down, right.\n\n235\n00:11:00.450 --> 00:11:03.920\nSo here I am back on my,\nI have to do a get hostname,\n\n236\n00:11:03.920 --> 00:11:06.180\nbut I'm back on my own server.\n\n237\n00:11:06.180 --> 00:11:12.520\nAnd if I do a docker ps,\nI don't have any running containers.\n\n238\n00:11:12.520 --> 00:11:15.240\nAnd if I do docker ps-a,\n\n239\n00:11:15.240 --> 00:11:20.360\nI can see where the web server that\nI created, I see its name right here.\n\n240\n00:11:20.360 --> 00:11:23.110\nNot zen_dubinsky, but webserver01.\n\n241\n00:11:23.110 --> 00:11:26.670\nIt fired up and\nthen it exited 32 seconds ago.\n\n242\n00:11:26.670 --> 00:11:29.320\nIt's closed and that's that.\n\n243\n00:11:29.320 --> 00:11:31.370\nIt did its job and now it's out.\n\n244\n00:11:31.370 --> 00:11:33.340\nBut that's a little more\nlike a virtual machine.\n\n245\n00:11:33.340 --> 00:11:38.020\nI find for most people that that really\nhelps to kind of help you understand\n\n246\n00:11:38.020 --> 00:11:42.360\nwhat's going on is that these\ncontainers are not interactive,\n\n247\n00:11:42.360 --> 00:11:43.365\nat least not normally.\n\n248\n00:11:43.365 --> 00:11:45.030\nThey're expecting some\nkind of job to do and\n\n249\n00:11:45.030 --> 00:11:47.970\nonce they do that job,\nthey close and that's the end.\n\n250\n00:11:47.970 --> 00:11:51.919\n&gt;&gt; Don, I can only imagine that as you\nstart to collect these containers here and\n\n251\n00:11:51.919 --> 00:11:54.913\nthey're not running that it\ncan get a little convoluted.\n\n252\n00:11:54.913 --> 00:11:57.972\nIs there a way that we can do\nsome type of spring cleaning?\n\n253\n00:11:57.972 --> 00:11:59.383\nCan we get rid of containers and\n\n254\n00:11:59.383 --> 00:12:02.480\nget them out of the interface\nif we're no longer using them?\n\n255\n00:12:02.480 --> 00:12:03.010\n&gt;&gt; Yeah.\n\n256\n00:12:03.010 --> 00:12:05.990\nYou know,\nwith these containers they're stopped.\n\n257\n00:12:05.990 --> 00:12:06.960\nI don't need them anymore.\n\n258\n00:12:06.960 --> 00:12:07.800\nThey're not gonna do anything.\n\n259\n00:12:07.800 --> 00:12:09.180\nThey're just kinda sitting there.\n\n260\n00:12:09.180 --> 00:12:13.270\nSo, if I wanna get rid of\nthem I can run docker.\n\n261\n00:12:13.270 --> 00:12:16.480\nAnd then, I showed you guys Docker RMI for\n\n262\n00:12:16.480 --> 00:12:21.089\nremove image,\nit's just Docker RM to remove a container.\n\n263\n00:12:21.089 --> 00:12:22.370\nSo you see Docker RM and\n\n264\n00:12:22.370 --> 00:12:26.427\nthen you need the container ID which\nI got right here from Docker PS-A.\n\n265\n00:12:26.427 --> 00:12:30.133\nI can see that web server 01,\nhere's its ID so\n\n266\n00:12:30.133 --> 00:12:34.170\nI can just grab that ID and\nthen paste it in.\n\n267\n00:12:34.170 --> 00:12:35.363\nAnd that's gonna remove it.\n\n268\n00:12:35.363 --> 00:12:39.335\nAnd now, when I do a docker ps-a,\nI see that it's gone.\n\n269\n00:12:39.335 --> 00:12:41.200\nAnd I could sit here and\nclean up each one.\n\n270\n00:12:41.200 --> 00:12:42.840\nA lot people write scripts to do this.\n\n271\n00:12:42.840 --> 00:12:46.160\nJust go in and get rid of everything\nthat's stopped or whatever.\n\n272\n00:12:46.160 --> 00:12:50.640\nIf I can actually highlight,\nthen I can get rid of this one, too.\n\n273\n00:12:50.640 --> 00:12:52.930\nI should mention something, though.\n\n274\n00:12:52.930 --> 00:12:55.900\nAll of my containers were stopped, right?\n\n275\n00:12:55.900 --> 00:12:57.370\nWell now they're all gone.\n\n276\n00:12:58.470 --> 00:13:00.670\nSo there we go, so\nthey're all gone, stopped or not.\n\n277\n00:13:00.670 --> 00:13:01.170\nThey're gone.\n\n278\n00:13:02.220 --> 00:13:05.660\nI could have left a container\nrunning in the background.\n\n279\n00:13:05.660 --> 00:13:07.040\nI didn't, right but I could have.\n\n280\n00:13:07.040 --> 00:13:10.780\nSo for example when I fired up that\nWindows container here, that webserver01,\n\n281\n00:13:10.780 --> 00:13:12.910\nI'll spin it up again.\n\n282\n00:13:12.910 --> 00:13:16.990\nBecause I terminated that old one,\nany changes I made are now gone, right?\n\n283\n00:13:16.990 --> 00:13:20.910\nSo this is gonna be an all new container\nthat just happens to be called web server\n\n284\n00:13:20.910 --> 00:13:23.320\n01 built off of that Windows Server Core.\n\n285\n00:13:23.320 --> 00:13:26.130\nSo that's gonna boot and\nit's gonna take me into its prompt.\n\n286\n00:13:26.130 --> 00:13:26.740\nOkay?\n\n287\n00:13:26.740 --> 00:13:30.920\nNow technically this container\nis running right now.\n\n288\n00:13:30.920 --> 00:13:35.616\nAnd if I wanna leave it running,\nyou can hit, it's a weird key\n\n289\n00:13:35.616 --> 00:13:40.620\nsequence it's Ctrl P and then Ctrl Q,\nyou have to do both right?\n\n290\n00:13:40.620 --> 00:13:43.070\nSo Ctrl P and then Ctrl Q.\n\n291\n00:13:43.070 --> 00:13:47.560\nAnd what that does is it exits\nthe container but it leaves it running.\n\n292\n00:13:47.560 --> 00:13:52.300\nSo it's still running in the background\nand if I do a docker ps.\n\n293\n00:13:52.300 --> 00:13:54.050\nI see that container right there.\n\n294\n00:13:54.050 --> 00:13:55.400\nIt’s up and it’s running.\n\n295\n00:13:55.400 --> 00:13:58.690\nIt’s still going, it’s not exited.\n\n296\n00:13:58.690 --> 00:13:59.550\nRight?\n\n297\n00:13:59.550 --> 00:14:02.720\nAnd if you try and\ndelete a container that’s still running,\n\n298\n00:14:02.720 --> 00:14:04.970\nit won’t let you do it,\nbecause the container's running.\n\n299\n00:14:04.970 --> 00:14:06.490\nIt’s doing a job.\n\n300\n00:14:06.490 --> 00:14:09.200\nSo we need to stop the container first.\n\n301\n00:14:09.200 --> 00:14:11.550\nBefore we can actually remove it.\n\n302\n00:14:11.550 --> 00:14:15.545\nAnd so if I wanna stop it,\nI can just come in and I can say,\n\n303\n00:14:15.545 --> 00:14:20.153\ndocker stop, and then the id of\nthe container that I wanna stop.\n\n304\n00:14:20.153 --> 00:14:23.255\nSo, I'll punch that in.\n\n305\n00:14:23.255 --> 00:14:25.450\nThe hardest part of this is copying and\npasting.\n\n306\n00:14:25.450 --> 00:14:27.430\nIt would've been faster for me to type.\n\n307\n00:14:27.430 --> 00:14:28.280\nThere we go.\n\n308\n00:14:28.280 --> 00:14:32.640\nSo, I'll go ahead and stop it and then\nwhen it's stopped, then we can just remove\n\n309\n00:14:32.640 --> 00:14:35.650\nit and get it out of there, right,\nbecause I don't need it anymore.\n\n310\n00:14:35.650 --> 00:14:37.610\nAnd, we can get rid of it and\nnow it's gone.\n\n311\n00:14:37.610 --> 00:14:40.340\nSo, just be aware that if a container\nis actively running you might have to\n\n312\n00:14:40.340 --> 00:14:42.320\nstop it first before you can delete it.\n\n313\n00:14:42.320 --> 00:14:44.950\n&gt;&gt; Don,\nwhat happens when a container is exited?\n\n314\n00:14:44.950 --> 00:14:46.720\nWhat can we expect to see?\n\n315\n00:14:46.720 --> 00:14:52.080\nWell it kinda, it shuts down [LAUGH] so\nthere's that which isn't too exciting.\n\n316\n00:14:52.080 --> 00:14:56.730\nBut more importantly with containers,\n\n317\n00:14:56.730 --> 00:15:01.810\nwhen you make changes,\nthe changes actually don't get saved.\n\n318\n00:15:01.810 --> 00:15:03.800\nSo if I stop a container and\n\n319\n00:15:03.800 --> 00:15:07.270\nit exits I can technically start it again,\nyou could fire it back up.\n\n320\n00:15:07.270 --> 00:15:10.580\nBut if I remove it like I just did,\nall those changes are gone.\n\n321\n00:15:10.580 --> 00:15:13.300\nThe Docker image makes\nup part of a container.\n\n322\n00:15:13.300 --> 00:15:14.880\nIf you were to crack open a container,\n\n323\n00:15:14.880 --> 00:15:16.668\nit's actually got several\npieces inside of it.\n\n324\n00:15:16.668 --> 00:15:17.790\nAnd the original image is one piece,\n\n325\n00:15:17.790 --> 00:15:20.180\nright, it's got that image\nthat it's based off of.\n\n326\n00:15:20.180 --> 00:15:22.580\nBut then it's got an area\nthat's called the sandbox.\n\n327\n00:15:22.580 --> 00:15:25.070\nAnd the sandbox are any\nchanges that you made.\n\n328\n00:15:25.070 --> 00:15:28.580\nAny software you installed,\nany configurations you modified,\n\n329\n00:15:28.580 --> 00:15:31.720\nany data your application's generating,\nthat's all part of a sandbox.\n\n330\n00:15:31.720 --> 00:15:37.330\nAnd when I remove a container I still\nhave the image, but that sandbox is gone.\n\n331\n00:15:37.330 --> 00:15:38.980\nI just lost what I did.\n\n332\n00:15:38.980 --> 00:15:41.450\nSo, if you want to save those changes.\n\n333\n00:15:41.450 --> 00:15:44.481\nIf you want to keep them around you\nneed to make sure that you do what's\n\n334\n00:15:44.481 --> 00:15:45.910\ncalled committing the change.\n\n335\n00:15:45.910 --> 00:15:49.500\nAnd when you commit a change what you're\nreally doing is creating an all new image.\n\n336\n00:15:49.500 --> 00:15:50.624\nRight?\nIf I've got\n\n337\n00:15:50.624 --> 00:15:52.590\nan image like Windows server core.\n\n338\n00:15:52.590 --> 00:15:56.567\nAnd then I go and I start adding software\nto it, and changing it, or whatever,\n\n339\n00:15:56.567 --> 00:15:59.700\nI could then save it as an all new\nimage that has all of my changes\n\n340\n00:15:59.700 --> 00:16:00.808\nincorporated in it.\n\n341\n00:16:00.808 --> 00:16:02.293\nAnd that's really handy.\n\n342\n00:16:02.293 --> 00:16:04.215\nBecause most web servers these days,\n\n343\n00:16:04.215 --> 00:16:08.430\nmost web applications in general don't\njust run on one server, do they?\n\n344\n00:16:08.430 --> 00:16:11.854\nWe need to be able to scale out, as my\nwebsite gets busier I need to have 10\n\n345\n00:16:11.854 --> 00:16:14.583\nservers, or a 100 servers,\nor a 1,000 servers.\n\n346\n00:16:14.583 --> 00:16:18.683\nSo if I can create an image that has\neverything exactly the way that I want, I\n\n347\n00:16:18.683 --> 00:16:23.388\ncan spin that image up over, and over, and\nover again, and scale out my server form.\n\n348\n00:16:23.388 --> 00:16:26.542\nAnd then when I don't need so many servers\nanymore I can start trimming them off and\n\n349\n00:16:26.542 --> 00:16:27.194\ndeleting them.\n\n350\n00:16:27.194 --> 00:16:30.115\nAnd what do I care, cuz I've got\nthe image I can always pull it right back\n\n351\n00:16:30.115 --> 00:16:32.250\nfrom the image and\nget it back up and going.\n\n352\n00:16:32.250 --> 00:16:34.031\nSo that needs to be part of our work flow.\n\n353\n00:16:34.031 --> 00:16:37.093\nThat when you create a container and\nyou start making changes to it,\n\n354\n00:16:37.093 --> 00:16:40.547\nthat you then need to save them into your\nown custom image that you work with.\n\n355\n00:16:40.547 --> 00:16:43.667\nAnd that's really where we start to\nadd tons and tons of images, and\n\n356\n00:16:43.667 --> 00:16:46.310\nwe need to do clean up,\nlike what we've been doing here.\n\n357\n00:16:46.310 --> 00:16:50.034\nYou go back and remove stale images, you\nremove stale containers, get rid of them.\n\n358\n00:16:50.034 --> 00:16:52.792\nCuz they do occupy disk\nspace at a minimum, but\n\n359\n00:16:52.792 --> 00:16:55.138\nthey can occupy RAM in some scenarios.\n\n360\n00:16:55.138 --> 00:16:59.440\nAnd so we wanna make sure that\nwe stay lean on a lot of that.\n\n361\n00:16:59.440 --> 00:17:03.465\nSo with this one, if I were to actually\nget in and fire up a container and\n\n362\n00:17:03.465 --> 00:17:05.388\nstart to make some changes to it.\n\n363\n00:17:05.388 --> 00:17:07.489\nSo for example, let's say I wanna\nset up a web server, right.\n\n364\n00:17:07.489 --> 00:17:10.359\nI'm gonna spin up webserver01 again,\nso I've deleted it now, right.\n\n365\n00:17:10.359 --> 00:17:11.769\nSo I'm gonna create an all new one,\n\n366\n00:17:11.769 --> 00:17:15.026\nbuilt right off of that Windows Server\nCore image just like we did before, right.\n\n367\n00:17:15.026 --> 00:17:16.883\nBut this time I'm gonna go ahead and\nmake some changes,\n\n368\n00:17:16.883 --> 00:17:18.077\nI'm actually gonna do something.\n\n369\n00:17:18.077 --> 00:17:21.546\nI'm calling it web server 01, but\nI didn't even install iOS on it, right.\n\n370\n00:17:21.546 --> 00:17:23.560\nSo I need to get in there and\nstart to make some change.\n\n371\n00:17:23.560 --> 00:17:25.826\nSo I'll get into the container, and\n\n372\n00:17:25.826 --> 00:17:29.052\nthen I'll jump into\nPowerShell on that container.\n\n373\n00:17:29.052 --> 00:17:32.802\nAnd once I'm in that PowerShell I\ncan start to install stuff, right.\n\n374\n00:17:32.802 --> 00:17:34.883\n[LAUGH] Whatever it is that I want to do.\n\n375\n00:17:34.883 --> 00:17:38.121\nSo I'm gonna say install-Windowsfeature,\n\n376\n00:17:38.121 --> 00:17:43.930\nwhich my tab autocomplete will,\nthere we go, will get what I'm doing soon.\n\n377\n00:17:43.930 --> 00:17:46.686\nAnd then I'll do web-server at IIS.\n\n378\n00:17:46.686 --> 00:17:49.590\nAnd let me point out something real quick,\n\n379\n00:17:49.590 --> 00:17:53.957\nnotice how my PowerShell it was\ngoing to a black window, right.\n\n380\n00:17:53.957 --> 00:17:57.775\nWhen you're nesting containers,\nnot really nesting containers,\n\n381\n00:17:57.775 --> 00:18:00.680\nwhen I'm in my PowerShell and\nI create a container.\n\n382\n00:18:00.680 --> 00:18:02.233\nAnd I go into it's command prompt, and\n\n383\n00:18:02.233 --> 00:18:05.588\nI launch it's PowerShell the coloring in\nyour pop-up starts to get really screwy.\n\n384\n00:18:05.588 --> 00:18:08.120\nSo we don't have that\nwhole trustworthiness of,\n\n385\n00:18:08.120 --> 00:18:11.694\nif it's blue I'm in PowerShell,\nif it's black I'm in CMD, right?\n\n386\n00:18:11.694 --> 00:18:15.065\nSo always pay attention to your prompt\nright here, that's what you can trust,\n\n387\n00:18:15.065 --> 00:18:16.491\nSso I know I'm in my PowerShell.\n\n388\n00:18:16.491 --> 00:18:19.567\nSo I'll do Install-Windowsfeature\nweb-Server, and\n\n389\n00:18:19.567 --> 00:18:22.010\nthat's gonna install that role, right.\n\n390\n00:18:22.010 --> 00:18:25.057\nThis is no different than managing\na server core install, or\n\n391\n00:18:25.057 --> 00:18:27.938\na core services install,\nthis is the same as any of that.\n\n392\n00:18:27.938 --> 00:18:33.350\nI install it, maybe I add some HTML\npages or ASP, PHP, whatever it is.\n\n393\n00:18:33.350 --> 00:18:38.124\nAnd we need to install PHP, right,\nwe go through all of that routine to get\n\n394\n00:18:38.124 --> 00:18:41.285\nthis web server set up just\nthe way that I want it.\n\n395\n00:18:41.285 --> 00:18:44.413\nNow when it's done, it's a good idea to\ntest this out, make sure it works, right.\n\n396\n00:18:44.413 --> 00:18:49.171\nThis container does have an IP address,\nand if it's got a web server running,\n\n397\n00:18:49.171 --> 00:18:52.287\nI should be able to browse that IP and\nsee a web page.\n\n398\n00:18:52.287 --> 00:18:55.344\nAnd so you wanna test all that out,\nmake sure it works.\n\n399\n00:18:55.344 --> 00:18:59.732\nBut once you've got everything configured\nthe way that you want it, now we can\n\n400\n00:18:59.732 --> 00:19:03.936\nshut the instance down, shut the container\ndown and turn it into an image.\n\n401\n00:19:03.936 --> 00:19:07.930\nAnd I can use that image anytime I\nwanna deploy a new web server, and\n\n402\n00:19:07.930 --> 00:19:10.153\nit'll already have IIS installed.\n\n403\n00:19:10.153 --> 00:19:12.034\nIt'll already have my web page files,\n\n404\n00:19:12.034 --> 00:19:15.080\nit will already have all\nthe contents that are on there.\n\n405\n00:19:15.080 --> 00:19:19.682\nAnd what a lot of people do when they\nbuild these is they'll put in like IIS\n\n406\n00:19:19.682 --> 00:19:20.442\nlike this.\n\n407\n00:19:20.442 --> 00:19:24.585\nBut they'll also put a script in that\nsays, when I boot up check this central\n\n408\n00:19:24.585 --> 00:19:28.020\nrepository for\nthe latest copy of my web page, all right.\n\n409\n00:19:28.020 --> 00:19:31.158\nAnd it can go and pull the latest copy\nof the web page from a SFTP server, or\n\n410\n00:19:31.158 --> 00:19:32.149\nsomething like that.\n\n411\n00:19:32.149 --> 00:19:34.241\nAnd that way every time\nyou change the web page,\n\n412\n00:19:34.241 --> 00:19:37.556\nyou don't have to go rebuilt all your\nimages, cuz that's a pain, right?\n\n413\n00:19:37.556 --> 00:19:41.217\nBut if your image has a script, it has\na run book that when you fire it up,\n\n414\n00:19:41.217 --> 00:19:44.408\nit reaches out and gets this data\nthat makes a big difference.\n\n415\n00:19:44.408 --> 00:19:47.945\nOr you could even have your webpage stored\nin a database server somewhere that uses\n\n416\n00:19:47.945 --> 00:19:51.030\na sequel client to reach out to it,\nor any kind of technology like that.\n\n417\n00:19:52.090 --> 00:19:54.969\nBut the point is you wanna get it\nset up the way you need it, right?\n\n418\n00:19:54.969 --> 00:19:56.616\nSo mine's running a web server.\n\n419\n00:19:56.616 --> 00:19:59.422\nIf I get my IP address here,\n\n420\n00:19:59.422 --> 00:20:04.912\nI should be able to take that and\nfire up a web browser,\n\n421\n00:20:04.912 --> 00:20:10.287\nand browse to it, and\nassuming it worked, whoops.\n\n422\n00:20:10.287 --> 00:20:14.155\nAssuming it works,\nthen we should get the IIS home page,\n\n423\n00:20:14.155 --> 00:20:18.436\nwhich maybe did not start, or\nI may not be waiting long enough.\n\n424\n00:20:18.436 --> 00:20:23.748\nBut once it is done, let's see, it's\ntelling me we did a successful install.\n\n425\n00:20:23.748 --> 00:20:25.670\nI'm probably just being\njust being impatient.\n\n426\n00:20:25.670 --> 00:20:28.868\nBut once it's done I've got my\nweb server and it's ready to run.\n\n427\n00:20:28.868 --> 00:20:31.316\nNow when I exit out,\nthat exits me out of the PowerShell.\n\n428\n00:20:31.316 --> 00:20:34.117\nSo I'm back into my command prompt and\nconveniently my background has turned\n\n429\n00:20:34.117 --> 00:20:35.980\nblue now,\neven though I'm in the command prompt.\n\n430\n00:20:35.980 --> 00:20:40.696\nAnd then I'll exit, and\nI'll get back to my PowerShell, okay?\n\n431\n00:20:40.696 --> 00:20:45.220\nNow if I do a docker ps,\nthat container is no longer running.\n\n432\n00:20:45.220 --> 00:20:47.856\nNow we do a docker ps -a, there it is.\n\n433\n00:20:47.856 --> 00:20:50.070\nI can see it running right\nthere in the backup, okay?\n\n434\n00:20:51.210 --> 00:20:54.205\nI wanna take that container,\nand it's not running, sorry,\n\n435\n00:20:54.205 --> 00:20:55.712\nit stopped in the background.\n\n436\n00:20:55.712 --> 00:20:59.370\nI wanna take that container and\nmake it into an image.\n\n437\n00:20:59.370 --> 00:21:03.651\nSo all I do is come in and\nI run the docker commit command, right.\n\n438\n00:21:03.651 --> 00:21:05.941\nDocker commit is how we go in and\n\n439\n00:21:05.941 --> 00:21:10.360\nwe save our changes in actuality\ncreating an all new image.\n\n440\n00:21:10.360 --> 00:21:13.329\nAnd the command's a little bit long\nbecause it has the opportunity for\n\n441\n00:21:13.329 --> 00:21:14.999\nus to put a lot of stuff in here, right.\n\n442\n00:21:14.999 --> 00:21:18.922\nFirst off, we could put a note, full of\nmessage that tells people why we made this\n\n443\n00:21:18.922 --> 00:21:21.590\nimage, right, or what it is or\na little description.\n\n444\n00:21:21.590 --> 00:21:26.392\nSo I'm gonna say -m and\nthen I'll say \"Installed IIS with PHP\" or\n\n445\n00:21:26.392 --> 00:21:30.195\nwhatever it is that I did\nthat made this image unique.\n\n446\n00:21:30.195 --> 00:21:33.730\nSo when other people look at it they\nknow why this image even exists.\n\n447\n00:21:33.730 --> 00:21:38.706\nAnd then I can say -a and\nspecify an author, I did it, Don Pizzett.\n\n448\n00:21:38.706 --> 00:21:41.110\nSo now people know who's responsible for\nthis, right?\n\n449\n00:21:41.110 --> 00:21:43.828\nWhen I went to docker hub remember\nthe author was pretty important,\n\n450\n00:21:43.828 --> 00:21:45.557\nI wanted to know Microsoft was the author.\n\n451\n00:21:45.557 --> 00:21:49.686\nI didn't want Billy Bob's IIS server,\nI wanted one I could trust.\n\n452\n00:21:49.686 --> 00:21:52.460\nSo there it's stamp says, doesn't\nnecessarily mean you can trust it but\n\n453\n00:21:52.460 --> 00:21:53.544\nat least you know who did it.\n\n454\n00:21:53.544 --> 00:21:58.387\nAnd then after that we need to specify\nthe ID of the container we're building\n\n455\n00:21:58.387 --> 00:21:59.529\nthis image from.\n\n456\n00:21:59.529 --> 00:22:05.592\nSo I'll cut and paste that ID in, and\nlastly we need to give it a name, okay.\n\n457\n00:22:05.592 --> 00:22:09.410\nI'm just gonna call it web server\nwith no number on the end right.\n\n458\n00:22:09.410 --> 00:22:14.058\nSo every time I wanna spin up a new web\nserver container I can just use this\n\n459\n00:22:14.058 --> 00:22:18.959\nimage that I just call web server,\nthis has a server clor with IIS, right.\n\n460\n00:22:18.959 --> 00:22:21.575\nSo it gives me a head start\nit gets things moving along.\n\n461\n00:22:21.575 --> 00:22:25.988\nWhen I run that it's gonna take\nthe sandbox portion of that container and\n\n462\n00:22:25.988 --> 00:22:30.488\nmove it into the image portion of that\ncontainer and build a custom image.\n\n463\n00:22:30.488 --> 00:22:34.065\nNow depending on the size of your\ncontainer this can take a long time or\n\n464\n00:22:34.065 --> 00:22:35.306\nit can be really short.\n\n465\n00:22:35.306 --> 00:22:39.340\nIf I had done a nanoserver it'd already\nbe done, but I did a servercor.\n\n466\n00:22:39.340 --> 00:22:44.143\nAnd with servercore the fully uncompressed\nserver core is like 10 gigs I added\n\n467\n00:22:44.143 --> 00:22:46.660\nIIS to it so\nit probably grew a little bit.\n\n468\n00:22:46.660 --> 00:22:50.368\nLet's say it's 11 gigs, so\nit's having to write an 11 gig file.\n\n469\n00:22:50.368 --> 00:22:52.140\nIf you're on an SSD,\nthis happens pretty fast.\n\n470\n00:22:52.140 --> 00:22:53.645\nIf you're on a spinning disk,\nit's a little bit slower.\n\n471\n00:22:53.645 --> 00:22:57.096\nI have no idea what type of\ndisk I'm on on this server.\n\n472\n00:22:57.096 --> 00:23:01.240\nSo it's gonna run and create,\nthere we go, I stalled long enough.\n\n473\n00:23:01.240 --> 00:23:02.452\nSo it just created it and\n\n474\n00:23:02.452 --> 00:23:05.551\nI get a sha256 check sum letting\nme know that it finished.\n\n475\n00:23:05.551 --> 00:23:11.560\nAnd if I run docker images and\nI take a look, let me clear this out.\n\n476\n00:23:11.560 --> 00:23:13.335\nMultiple colors are gonna drive me nuts,\nthere we go.\n\n477\n00:23:13.335 --> 00:23:15.784\nAnd I take a look at my docker images,\n\n478\n00:23:15.784 --> 00:23:19.421\nhere's the webserver image\nthat I just made, right.\n\n479\n00:23:19.421 --> 00:23:25.460\nThis is the latest version of it and\nit is a blazing 10.6 gigs in size.\n\n480\n00:23:25.460 --> 00:23:29.580\nBut the cool part here, is that now that\nI've got that image built, any time I need\n\n481\n00:23:29.580 --> 00:23:33.136\na web server I don't have to go\nthrough that routine any more, right.\n\n482\n00:23:33.136 --> 00:23:37.672\nI can just come in and I can say,\ndocker run dash it, if I want interactive,\n\n483\n00:23:37.672 --> 00:23:39.570\nor maybe I don't, right.\n\n484\n00:23:39.570 --> 00:23:43.970\nAnd then I can specify that I'm\nusing webserver as my image.\n\n485\n00:23:43.970 --> 00:23:47.781\nNow I could throw in a dash dash name,\nand this will be webserver01.\n\n486\n00:23:47.781 --> 00:23:50.330\nAnd then I could continue doing that\nover and over and over again, right?\n\n487\n00:23:50.330 --> 00:23:52.650\nLet me get rid of the,\nI don't wanna an interactive.\n\n488\n00:23:52.650 --> 00:23:55.613\nSo I can run that and that's gonna\ncreate webserver01 and get it going.\n\n489\n00:23:55.613 --> 00:23:59.450\nAnd then I could run it again and do 02,\nand then 03, and 04, and so on, and\n\n490\n00:23:59.450 --> 00:24:00.880\nkeep spinning them up.\n\n491\n00:24:00.880 --> 00:24:03.126\nAnd what did they get mad at me for?\n\n492\n00:24:03.126 --> 00:24:06.130\n[LAUGH] It got mad at\nthe name that I added.\n\n493\n00:24:06.130 --> 00:24:07.550\nI'll just leave it off for now.\n\n494\n00:24:07.550 --> 00:24:09.230\nSo we can start spinning these up and\n\n495\n00:24:09.230 --> 00:24:11.850\nI can now create as many\nweb servers as I want.\n\n496\n00:24:11.850 --> 00:24:16.094\nThat --name, it needed to go before\nthe image name I put it, yeah, and\n\n497\n00:24:16.094 --> 00:24:18.010\nthat's why it was upset.\n\n498\n00:24:18.010 --> 00:24:22.140\nBut now that it runs, it's gonna\nlaunch and now I've got the container.\n\n499\n00:24:22.140 --> 00:24:24.860\nSee I didn't give it any command, so\nit showed me the command prompt and\n\n500\n00:24:24.860 --> 00:24:26.440\nthen exited right out, right?\n\n501\n00:24:26.440 --> 00:24:27.910\nI didn't give it a job to do.\n\n502\n00:24:27.910 --> 00:24:33.720\nBut it ran and it created it and\nif I do a docker ps, docker ps -a,\n\n503\n00:24:33.720 --> 00:24:38.450\nI can see where it spun that one up and\nthis one is called ecstatic_newmann.\n\n504\n00:24:38.450 --> 00:24:39.890\nAgain, random name stuck together.\n\n505\n00:24:39.890 --> 00:24:42.681\nBut there it is, created that\ncontainer and it dropped it in place.\n\n506\n00:24:42.681 --> 00:24:47.195\n&gt;&gt; Now Don, do we always have to\nrun the containers interactively?\n\n507\n00:24:47.195 --> 00:24:49.870\nCuz I've noticed you've run that\nwith that IT switch on there.\n\n508\n00:24:51.050 --> 00:24:52.540\n&gt;&gt; I'm doing that here for the examples,\n\n509\n00:24:52.540 --> 00:24:54.870\nin real life land you\nalmost never do that.\n\n510\n00:24:54.870 --> 00:24:57.440\nBecause you need to give\nthe container a job.\n\n511\n00:24:57.440 --> 00:24:59.970\nAnd so\nyou normally pass a command onto it.\n\n512\n00:24:59.970 --> 00:25:03.620\nAnd that command might just be simply\nhey I want you to run and stay running.\n\n513\n00:25:03.620 --> 00:25:06.250\nAnd to do that you add\nthe -d to the command line,\n\n514\n00:25:06.250 --> 00:25:07.950\nwhich just says run in the background.\n\n515\n00:25:07.950 --> 00:25:10.360\nIt run as a daemon, is what it stands for.\n\n516\n00:25:10.360 --> 00:25:16.730\nBut to get in the background and\nstay there it's in a detached mode.\n\n517\n00:25:16.730 --> 00:25:18.960\nDetached means it is running,\nit's doing it's thing,\n\n518\n00:25:18.960 --> 00:25:21.770\nwe're just not attached to it, and\nit can stay up and it can stay going.\n\n519\n00:25:21.770 --> 00:25:24.800\nSo normally like if I were to\nspin up a web server like this,\n\n520\n00:25:24.800 --> 00:25:26.990\nI would say something like this.\n\n521\n00:25:26.990 --> 00:25:31.160\nDocker run -d, because I want it detached.\n\n522\n00:25:31.160 --> 00:25:34.550\nI want it to stay running and\nnot mess with my console.\n\n523\n00:25:34.550 --> 00:25:38.650\nAnd then if it's a web server,\nyou probably wanna do some port mappings.\n\n524\n00:25:38.650 --> 00:25:43.200\nSo you'll do something like -p 8080:80.\n\n525\n00:25:43.200 --> 00:25:46.490\nAnd that says,\nI've got a port 8080 on my desktop and\n\n526\n00:25:46.490 --> 00:25:48.650\nI wanna map that to port\n80 inside of the container.\n\n527\n00:25:48.650 --> 00:25:50.720\nIf I've got five web servers,\nthey can't all have port 80 so\n\n528\n00:25:50.720 --> 00:25:53.230\nyou'll normally do port remaps like this.\n\n529\n00:25:53.230 --> 00:25:56.230\nDocker's really powerful and we've only\ngot so much time in these episodes.\n\n530\n00:25:56.230 --> 00:25:58.330\nI can't go into all the intricacies.\n\n531\n00:25:58.330 --> 00:26:00.640\nBut that'll map that port.\n\n532\n00:26:00.640 --> 00:26:03.900\nAnd then I'll give it a name,\nso like webserver01.\n\n533\n00:26:04.900 --> 00:26:08.520\nAnd I'll tell the image I wanna use,\nI'm using the web server image.\n\n534\n00:26:08.520 --> 00:26:12.450\nAnd then here's where it gets a little bit\ntricky cuz this is where I would normally\n\n535\n00:26:12.450 --> 00:26:16.790\ngive it a script,\nsome kind of script to run.\n\n536\n00:26:16.790 --> 00:26:20.220\nHey, when you launch,\nrun the script and do whatever it says.\n\n537\n00:26:20.220 --> 00:26:24.510\nAnd what it says might be I want\nyou to launch IIS and stop.\n\n538\n00:26:24.510 --> 00:26:26.430\nAnd you can even,\nyou can just give it a command.\n\n539\n00:26:26.430 --> 00:26:29.670\nIf I type VR it's gonna run,\n\n540\n00:26:29.670 --> 00:26:33.350\nit's gonna run the VR command and\nthen it's going to exit.\n\n541\n00:26:33.350 --> 00:26:35.960\nCuz that's not one that stays running.\n\n542\n00:26:35.960 --> 00:26:37.270\nBut if I give it something else,\n\n543\n00:26:37.270 --> 00:26:40.160\nlike maybe I have Apache\nrunning on top of this server.\n\n544\n00:26:40.160 --> 00:26:44.360\nI could tell it to run Apache and\nstay running in background mode and\n\n545\n00:26:44.360 --> 00:26:45.010\nit will just keep running.\n\n546\n00:26:45.010 --> 00:26:48.090\nAs long as the container is up,\nit's gonna be serving that webpage and\n\n547\n00:26:48.090 --> 00:26:49.090\ndoing it's job.\n\n548\n00:26:49.090 --> 00:26:53.240\nBut that's how we normally do this,\nis that you provide some kind of script or\n\n549\n00:26:53.240 --> 00:26:58.200\na command or routine for it to perform and\nthen it just runs and it stays running.\n\n550\n00:26:58.200 --> 00:27:02.754\nAnd you use that docker ps, you don't even\nneed -a, just docker ps to be able to\n\n551\n00:27:02.754 --> 00:27:06.516\nsee the containers that are running and\nactive in the background and\n\n552\n00:27:06.516 --> 00:27:10.770\nto work with it and use it and\nhave all the advantages of that container.\n\n553\n00:27:10.770 --> 00:27:14.433\nThen you use docker stop to stop it,\ndocker stop followed by the container ID,\n\n554\n00:27:14.433 --> 00:27:17.060\nand then ultimately remove\nit if that's what you need.\n\n555\n00:27:17.060 --> 00:27:20.514\n&gt;&gt; It's interesting you've been\nshowing us running our containers and\n\n556\n00:27:20.514 --> 00:27:23.625\nwhat I've seen so\nfar is you're running everything locally.\n\n557\n00:27:23.625 --> 00:27:27.027\nNow, you have shown us some\nother avenues for Docker.\n\n558\n00:27:27.027 --> 00:27:28.322\nHow about the Cloud offerings?\n\n559\n00:27:28.322 --> 00:27:31.148\nDo we have a Cloud offering when\nit comes to something like Docker?\n\n560\n00:27:31.148 --> 00:27:32.450\n&gt;&gt; All right, so\n\n561\n00:27:32.450 --> 00:27:38.670\nI've been doing everything right here on\nthis server and it worked really well.\n\n562\n00:27:38.670 --> 00:27:41.210\nAnd for a developer they want\nto be able to create an app and\n\n563\n00:27:41.210 --> 00:27:44.260\nknow that it works the same way in one\nenvironment as it will in another.\n\n564\n00:27:44.260 --> 00:27:45.930\nMoving to the Cloud is really tricky,\n\n565\n00:27:45.930 --> 00:27:49.060\nbecause in the Cloud you don't\nknow what's running underneath.\n\n566\n00:27:49.060 --> 00:27:53.380\nSo if I go into Azure, for example, or\nif I go into AWS or Google Compute,\n\n567\n00:27:53.380 --> 00:27:55.220\nI don't know what their hardware is.\n\n568\n00:27:55.220 --> 00:27:57.460\nI don't even know what operating\nsystem they're running.\n\n569\n00:27:57.460 --> 00:27:59.770\nSo are they running Window Server?\n\n570\n00:27:59.770 --> 00:28:00.310\nProbably not.\n\n571\n00:28:00.310 --> 00:28:05.600\nWell I mean in Azure they are, but [LAUGH]\nin AWS and Google Compute they aren't.\n\n572\n00:28:05.600 --> 00:28:08.800\nSo if designed an application container,\n\n573\n00:28:08.800 --> 00:28:11.930\nI don't necessarily know about\nthe environment underneath.\n\n574\n00:28:11.930 --> 00:28:14.190\nAnd that can be a real problem\nif I want consistency.\n\n575\n00:28:14.190 --> 00:28:15.110\nWell fortunately,\n\n576\n00:28:15.110 --> 00:28:17.420\nMicrosoft says it's worked with\nDocker to be able to handle this.\n\n577\n00:28:17.420 --> 00:28:24.580\nAnd if you go like on Docker's website,\nI'm at www.docker.com/docker-azure.\n\n578\n00:28:24.580 --> 00:28:27.260\nOn their site they have Docker for Azure.\n\n579\n00:28:27.260 --> 00:28:30.750\nYou can actually deploy Docker\ncontainers on top of Azure.\n\n580\n00:28:30.750 --> 00:28:33.100\nThey've got a whole toolkit\nthat's available here.\n\n581\n00:28:33.100 --> 00:28:36.220\nAnd this one's a little bit different\nthan the Docker we've been using.\n\n582\n00:28:36.220 --> 00:28:39.300\nOn your own hardware you get\nthe Enterprise Edition for free.\n\n583\n00:28:39.300 --> 00:28:42.430\nIt's part of your Hyper-V,\nMicrosoft has worked that out.\n\n584\n00:28:42.430 --> 00:28:44.750\nBut inside of Azure,\nit's not quite like that.\n\n585\n00:28:46.030 --> 00:28:48.660\nIt's on here somewhere, right here.\n\n586\n00:28:48.660 --> 00:28:51.160\nThere's the Docker Community Edition\nthat is free.\n\n587\n00:28:51.160 --> 00:28:53.948\nSo you can create Docker\ncontainers on your desktop.\n\n588\n00:28:53.948 --> 00:28:56.580\nYou can then upload them into Azure and\nthey'll run and\n\n589\n00:28:56.580 --> 00:28:58.060\nit's the same exact same environment.\n\n590\n00:28:58.060 --> 00:29:00.720\nThe application will behave the exact\nsame way in both environments,\n\n591\n00:29:00.720 --> 00:29:02.082\nit works out really, really well.\n\n592\n00:29:02.082 --> 00:29:06.919\nBut if you want the Enterprise Edition,\nthere's actually a licensing fee that has\n\n593\n00:29:06.919 --> 00:29:11.290\nto be paid and it's about, almost 12\ncents per hour, per node per hour.\n\n594\n00:29:11.290 --> 00:29:12.481\nAnd that can add up a good bid.\n\n595\n00:29:12.481 --> 00:29:17.824\nBut if you need those enterprise\nfeatures like swarm, if I could say it.\n\n596\n00:29:17.824 --> 00:29:21.470\n[LAUGH] We do Docker clusters and\nall sorts of things like that.\n\n597\n00:29:21.470 --> 00:29:23.954\nThat's a part of those features\nthat come in with that and\n\n598\n00:29:23.954 --> 00:29:25.990\nthere is a license fee\nthat's attached to it.\n\n599\n00:29:25.990 --> 00:29:30.349\nBut when you use the Community Edition\nyou can take any container you've made\n\n600\n00:29:30.349 --> 00:29:34.772\nlocally, you can chuck it right into the\nAzure Cloud and it runs the same way and\n\n601\n00:29:34.772 --> 00:29:36.340\nyou've bridged that gap.\n\n602\n00:29:36.340 --> 00:29:39.120\nSo that's usually the development\nmodel for this stuff.\n\n603\n00:29:39.120 --> 00:29:43.160\nYour dev team, they're creating,\ntesting, researching, experimenting,\n\n604\n00:29:43.160 --> 00:29:45.120\ndoing all that right on local equipment.\n\n605\n00:29:45.120 --> 00:29:48.420\nAnd then when it's time to go into\nproduction, for the customers to get it,\n\n606\n00:29:48.420 --> 00:29:52.300\nthen it goes up into the Cloud where\nyou've got limitless resources available.\n\n607\n00:29:52.300 --> 00:29:53.747\n&gt;&gt; Don,\nlot of great information on containers.\n\n608\n00:29:53.747 --> 00:29:56.755\nIt does look like we are coming to\nthe end of yet another great episode.\n\n609\n00:29:56.755 --> 00:29:59.909\nBut before we do, do you have any parting\nwords that you'd like to tell our viewers\n\n610\n00:29:59.909 --> 00:30:02.590\nwhen it comes to using Docker and\ncontainers in general?\n\n611\n00:30:02.590 --> 00:30:05.440\n&gt;&gt; All right, I know it's tempting\nwhen you have Windows Server 2016.\n\n612\n00:30:05.440 --> 00:30:07.000\nYou've got Hyper-V built in.\n\n613\n00:30:07.000 --> 00:30:08.370\nIt's a great virtualization platform.\n\n614\n00:30:08.370 --> 00:30:10.405\nIt's tempting to just say, you know what,\n\n615\n00:30:10.405 --> 00:30:12.550\nscrew Docker [LAUGH] I'm\nnot gonna learn that.\n\n616\n00:30:12.550 --> 00:30:13.550\nI got Hyper-V, I like it.\n\n617\n00:30:13.550 --> 00:30:14.640\nI'm gonna stick with that.\n\n618\n00:30:14.640 --> 00:30:16.062\nAnd that's not necessarily wrong.\n\n619\n00:30:16.062 --> 00:30:17.340\n[LAUGH] It's not necessarily bad.\n\n620\n00:30:17.340 --> 00:30:20.230\nBut I will tell you that Docker is, or\n\n621\n00:30:20.230 --> 00:30:24.600\ncontainers in general are the way of\nthe future, that we are seeing that.\n\n622\n00:30:24.600 --> 00:30:27.592\nAnd Microsoft for a while developed\ntheir own container solution.\n\n623\n00:30:27.592 --> 00:30:31.228\nYou'll read about, and actually\nwe'll talk about it in another show,\n\n624\n00:30:31.228 --> 00:30:34.750\nWindows Server cntainers, and\nWindows Hyper-V containers.\n\n625\n00:30:34.750 --> 00:30:37.690\nThose are actually Microsoft's\nown container technology.\n\n626\n00:30:37.690 --> 00:30:40.980\nAnd Microsoft finally\ndecided Docker is better.\n\n627\n00:30:40.980 --> 00:30:42.320\nOr not necessarily Docker is better but\n\n628\n00:30:42.320 --> 00:30:45.890\npeople are accepting Docker at a higher\nrate than they are our own product.\n\n629\n00:30:45.890 --> 00:30:48.850\nAnd so they've basically killed off\nthose other container products just\n\n630\n00:30:48.850 --> 00:30:49.770\nto focus on Docker.\n\n631\n00:30:49.770 --> 00:30:53.120\nSo Microsoft feels that it's the future,\nthe community feels that it's the future.\n\n632\n00:30:53.120 --> 00:30:54.420\nIt's definitely something\nthat you wanna learn.\n\n633\n00:30:54.420 --> 00:30:57.640\nSo even if you're a Hyper-V stalwart,\n\n634\n00:30:57.640 --> 00:31:01.840\njust know that Docker doesn't\nreplace Hyper-V, they work together.\n\n635\n00:31:01.840 --> 00:31:03.880\nThey're kind of like teammates.\n\n636\n00:31:03.880 --> 00:31:04.975\nSo you're not having to\nabandon what you've got.\n\n637\n00:31:04.975 --> 00:31:07.948\nBut you definitely wanna make sure\nyou learn Docker, get used to it.\n\n638\n00:31:07.948 --> 00:31:10.540\nYou are gonna be seeing more and\nmore of it in the future.\n\n639\n00:31:10.540 --> 00:31:12.090\n&gt;&gt; All right Don,\nthat's a great stopping point.\n\n640\n00:31:12.090 --> 00:31:14.780\nWe appreciate having you\nhere in the studios with us.\n\n641\n00:31:14.780 --> 00:31:16.840\nAnd we appreciate you,\nthe viewer, watching.\n\n642\n00:31:16.840 --> 00:31:18.825\nRemember, you can see this episode and\n\n643\n00:31:18.825 --> 00:31:22.110\nthousands of hours of great content by\njumping over to our course library.\n\n644\n00:31:22.110 --> 00:31:24.650\nAnd until we see you again,\nI've been your show host Wes Bryan.\n\n645\n00:31:24.650 --> 00:31:25.740\n&gt;&gt; And I'm Don Pezet.\n\n646\n00:31:25.740 --> 00:31:27.920\n&gt;&gt; And we'll see you next time.\n\n647\n00:31:27.920 --> 00:31:34.001\n[MUSIC]\n\n648\n00:31:34.001 --> 00:31:36.020\nThank you for watching ITProTV.\n\n",
          "vimeoId": "237624290"
        }
      ],
      "title": "Implement Windows containers"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Don explains how to use the Network Load Balancing (NLB) feature in Windows Server 2016 to create a scale-out cluster. He then walks the viewers through installing, configuring and managing NLB in a small load-balanced cluster.",
          "length": "1470",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-2-1-network-load-balancing-101117.00_27_33_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-2-1-network-load-balancing-101117.00_27_33_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-2-1-network-load-balancing-101117.00_27_33_06.Still001-sm.jpg",
          "title": "Network Load Balancing",
          "transcript": "WEBVTT\n\n1\n00:00:00.170 --> 00:00:06.782\nWelcome to ITPro TV [CROSSTALK]\n\n2\n00:00:06.782 --> 00:00:08.628\n[MUSIC]\n\n3\n00:00:08.628 --> 00:00:12.160\nYou're watching ITPro TV.\n\n4\n00:00:12.160 --> 00:00:15.307\n&gt;&gt; Welcome, ladies and gentlemen,\nto your installation, storage and\n\n5\n00:00:15.307 --> 00:00:17.715\ncompute with Windows Server 2016.\n\n6\n00:00:17.715 --> 00:00:19.580\nI'm your show host, Cherokee Boose.\n\n7\n00:00:19.580 --> 00:00:22.851\nIn this episode, we'll be taking\na look at network load balancing.\n\n8\n00:00:22.851 --> 00:00:26.044\nAnd with us today, in studios,\nwe have Don Pezet.\n\n9\n00:00:26.044 --> 00:00:27.150\nHow's it going today, Don?\n\n10\n00:00:27.150 --> 00:00:30.307\n&gt;&gt; It is going great Cherokee,\nI'm glad to be back in the studio,\n\n11\n00:00:30.307 --> 00:00:34.480\nI'm really excited to be diving into the\nworld of Network Load Balancing, or NLB,\n\n12\n00:00:34.480 --> 00:00:38.437\nwhich is a technology from Microsoft that\nI think is really, really [CROSSTALK]\n\n13\n00:00:38.437 --> 00:00:39.240\n&gt;&gt; What are you looking for [LAUGH]?\n\n14\n00:00:39.240 --> 00:00:42.520\n&gt;&gt; It's a really cool technology\nthat people just kind of discount.\n\n15\n00:00:42.520 --> 00:00:43.699\n&gt;&gt; Okay.\n&gt;&gt; And the reason is,\n\n16\n00:00:43.699 --> 00:00:45.530\nit's a form of clustering.\n\n17\n00:00:45.530 --> 00:00:49.380\nAnd when people hear that term cluster,\nthey think expensive hardware,\n\n18\n00:00:49.380 --> 00:00:52.720\ncomplex technology,\nreally difficult to manage.\n\n19\n00:00:52.720 --> 00:00:56.351\nBut in reality, NLB is like the easiest\ncluster you can set up on the planet,\n\n20\n00:00:56.351 --> 00:00:59.940\nand it gives you a great ability to be\nable to load balance across machines and\n\n21\n00:00:59.940 --> 00:01:02.020\nreally get your money's worth.\n\n22\n00:01:02.020 --> 00:01:05.360\nBe able to provide performance that goes\nwell beyond what a single server can do.\n\n23\n00:01:05.360 --> 00:01:07.120\nSo NLB is an amazing technology and\n\n24\n00:01:07.120 --> 00:01:09.188\nwe we're gonna learn about it\nright here in this episode.\n\n25\n00:01:09.188 --> 00:01:13.100\n&gt;&gt; Great, so I'm expecting to learn\nabout it so I'm not intimidated and\n\n26\n00:01:13.100 --> 00:01:15.410\nwanna really leverage this\nnews in my environment.\n\n27\n00:01:15.410 --> 00:01:16.470\nYeah.\n&gt;&gt; Is that what we're looking at, here?\n\n28\n00:01:16.470 --> 00:01:19.730\n&gt;&gt; Absolutely, yeah, because what you'll\nfind as we go through all this is that\n\n29\n00:01:19.730 --> 00:01:21.250\nit's actually pretty easy to implement.\n\n30\n00:01:21.250 --> 00:01:25.220\nIt doesn't have all of that many bells and\nwhistles, but it actually does a great job\n\n31\n00:01:25.220 --> 00:01:28.850\nof what it does, and\nit's included in Windows server already.\n\n32\n00:01:28.850 --> 00:01:31.380\nSo it's not like it's extra software\nwe have to purchase or licensing,\n\n33\n00:01:31.380 --> 00:01:33.360\nit's just a part of the server platform.\n\n34\n00:01:33.360 --> 00:01:35.397\nAnd we're gonna run right through it.\n\n35\n00:01:35.397 --> 00:01:40.060\nNow, there's a few things we need to be\naware of before we dive right in to NLB.\n\n36\n00:01:40.060 --> 00:01:44.190\nThere's a couple of just kinda little\ncharacteristics that we need to be\n\n37\n00:01:44.190 --> 00:01:48.870\naware of and one of those is that NLB\nallows us to quickly build a cluster.\n\n38\n00:01:48.870 --> 00:01:52.420\nAnd a cluster kinda implies that we\nhave more than one machine, right?\n\n39\n00:01:52.420 --> 00:01:55.650\nSo why would we want more\nthan one machine, right?\n\n40\n00:01:55.650 --> 00:01:59.860\nWhen it comes to servers, you've really\ngot two different models of performance.\n\n41\n00:01:59.860 --> 00:02:03.460\nSo let's say that I come up with\na brand new idea for a company and\n\n42\n00:02:03.460 --> 00:02:04.680\nI need a website.\n\n43\n00:02:04.680 --> 00:02:06.520\nAnd so I go out and I buy a server.\n\n44\n00:02:06.520 --> 00:02:07.350\nOne server.\n\n45\n00:02:07.350 --> 00:02:10.110\nI install Windows Server and IIS on it,\nI throw my website on it, and\n\n46\n00:02:10.110 --> 00:02:11.720\nI put it out there on the internet.\n\n47\n00:02:11.720 --> 00:02:14.900\nAnd in the beginning nobody knows\nmy company, so one server is great.\n\n48\n00:02:14.900 --> 00:02:17.020\nBut as things start getting busier,\nand busier, right?\n\n49\n00:02:17.020 --> 00:02:19.110\nPeople start learning about my product,\n\n50\n00:02:19.110 --> 00:02:20.860\nthe server may not be able\nto handle the load anymore.\n\n51\n00:02:20.860 --> 00:02:21.372\nSo what will I do?\n\n52\n00:02:21.372 --> 00:02:23.292\n&gt;&gt; Especially if you have like\na sale going on, or something.\n\n53\n00:02:23.292 --> 00:02:24.280\n&gt;&gt; Increased traffic [LAUGH].\n\n54\n00:02:24.280 --> 00:02:27.097\n&gt;&gt; Yeah, or in this day and\nage, you go viral, right?\n\n55\n00:02:27.097 --> 00:02:29.069\n&gt;&gt; Yeah.\n&gt;&gt; You blew up on YouTube, right?\n\n56\n00:02:29.069 --> 00:02:30.724\n&gt;&gt; Told me about this cat video or\nsomething [LAUGH].\n\n57\n00:02:30.724 --> 00:02:32.538\n&gt;&gt; It always takes cats, doesn't it?\n\n58\n00:02:32.538 --> 00:02:35.323\n&gt;&gt; Yeah.\nCats or puppies or babies [LAUGH].\n\n59\n00:02:35.323 --> 00:02:37.580\n&gt;&gt; [LAUGH] And anything cute.\n\n60\n00:02:37.580 --> 00:02:43.160\nSo when you got that, you need to\nbe able to grow your engine, right?\n\n61\n00:02:43.160 --> 00:02:46.710\nThe machinery behind your product\nto be able to support the workload.\n\n62\n00:02:46.710 --> 00:02:48.540\nAnd there's two ways to do that.\n\n63\n00:02:48.540 --> 00:02:51.430\nWe can scale up or we can scale out.\n\n64\n00:02:51.430 --> 00:02:53.350\nAnd scaling up is what\na lot of people think of.\n\n65\n00:02:53.350 --> 00:02:56.270\nHey, my web server has\nfour gigs of RAM in it.\n\n66\n00:02:56.270 --> 00:02:57.800\nAnd, it can barely handle the load.\n\n67\n00:02:57.800 --> 00:03:00.152\nSo, let me go and add more memory.\n\n68\n00:03:00.152 --> 00:03:02.862\nAnd now it's got 8 gigs of RAM,\nor 16, 32, 64, right,\n\n69\n00:03:02.862 --> 00:03:04.332\nwe keep getting more and more RAM.\n\n70\n00:03:04.332 --> 00:03:07.840\nAnd the more RAM we add, the more people\ncan be on our site at the same time.\n\n71\n00:03:07.840 --> 00:03:09.380\nAnd, the network interface, right?\n\n72\n00:03:09.380 --> 00:03:11.830\nI've got a 1-gig network adapter and\nwhen it starts filling up,\n\n73\n00:03:11.830 --> 00:03:13.100\nI add another adapter, right?\n\n74\n00:03:13.100 --> 00:03:13.990\nThat's scaling up.\n\n75\n00:03:13.990 --> 00:03:16.110\nWe're adding more hardware to our server.\n\n76\n00:03:16.110 --> 00:03:19.253\n&gt;&gt; That kind of sounds like you're putting\nall your eggs in one basket, there.\n\n77\n00:03:19.253 --> 00:03:20.210\n&gt;&gt; You are.\n\n78\n00:03:20.210 --> 00:03:21.660\nAnd there's a few problems with that,\nright?\n\n79\n00:03:21.660 --> 00:03:25.611\nSo, problem one,\neggs in one basket, right?\n\n80\n00:03:25.611 --> 00:03:26.570\nWhat happens if the basket fails?\n\n81\n00:03:26.570 --> 00:03:27.370\n&gt;&gt; Right.\n\n82\n00:03:27.370 --> 00:03:30.530\n&gt;&gt; We lose all our eggs, right, so I've\ngot one server, I've got no redundancy or\n\n83\n00:03:30.530 --> 00:03:32.640\navailability, so that's problem one.\n\n84\n00:03:32.640 --> 00:03:36.150\nProblem two, every time I want to\nupgrade it, I've got to shut it down.\n\n85\n00:03:36.150 --> 00:03:38.300\nI can't just add a network\nadapter while the server's on.\n\n86\n00:03:38.300 --> 00:03:40.710\nWell, some servers you can,\nbut most of them you can't.\n\n87\n00:03:40.710 --> 00:03:43.270\nI can't add more memory\nwhile the server is on.\n\n88\n00:03:43.270 --> 00:03:46.800\nI've gotta shut, so now I've got down\ntime every time I wanna do maintenance.\n\n89\n00:03:46.800 --> 00:03:48.370\nAnd the third problem is a limit.\n\n90\n00:03:48.370 --> 00:03:50.560\nI can only scale up so high, right?\n\n91\n00:03:50.560 --> 00:03:54.610\nEventually you hit the maximum memory\nthat a motherboard can support,\n\n92\n00:03:54.610 --> 00:03:56.190\nor maximum CPUs.\n\n93\n00:03:56.190 --> 00:03:58.230\nUsually, you can't really even\nswap those out very much.\n\n94\n00:03:58.230 --> 00:04:02.520\nYou max things out when you scale up, so\nthere's a hard limit you can't get past.\n\n95\n00:04:02.520 --> 00:04:04.740\nEven money can't solve that problem.\n\n96\n00:04:04.740 --> 00:04:05.980\nUsually money can solve any problem.\n\n97\n00:04:05.980 --> 00:04:07.500\n&gt;&gt; [LAUGH]\n&gt;&gt; But you can only fit so\n\n98\n00:04:07.500 --> 00:04:08.760\nmuch memory in a server.\n\n99\n00:04:08.760 --> 00:04:13.860\nAnd so that's where scaling out comes in,\nand with scaling out, instead of saying,\n\n100\n00:04:13.860 --> 00:04:15.960\nI'm gonna make this one server\nstronger and stronger and\n\n101\n00:04:15.960 --> 00:04:18.830\nstronger- instead you say, you know what,\nI'm just gonna add a second server.\n\n102\n00:04:18.830 --> 00:04:22.324\nAnd a third one, and a fourth one, and\nhere's a problem that we can solve,\n\n103\n00:04:22.324 --> 00:04:24.338\nbecause I can add as\nmany servers as I want.\n\n104\n00:04:24.338 --> 00:04:28.562\nI can just blow it up to add a ton of\nservers and that's what Twitter, YouTube,\n\n105\n00:04:28.562 --> 00:04:30.878\nFacebook, that's exactly what they do.\n\n106\n00:04:30.878 --> 00:04:35.301\nThey don't have really massive servers\nthat are amazing with terabytes of memory\n\n107\n00:04:35.301 --> 00:04:36.190\nin them.\n\n108\n00:04:36.190 --> 00:04:39.840\nNo, they have thousands upon\nthousands of small servers.\n\n109\n00:04:39.840 --> 00:04:44.230\nServers that have four gigs of RAM and\none processor, and two hard drives.\n\n110\n00:04:44.230 --> 00:04:45.910\nThey're really nothing spectacular at all.\n\n111\n00:04:45.910 --> 00:04:49.060\nBut they have so many of them,\nthey can carry the workload.\n\n112\n00:04:49.060 --> 00:04:51.700\nAnd that's what NLB is\nall about helping us do.\n\n113\n00:04:51.700 --> 00:04:57.650\nWith NLB we can build clusters from\ntwo to 32 nodes, I can have 32 nodes.\n\n114\n00:04:57.650 --> 00:04:59.110\nThat are all working together.\n\n115\n00:04:59.110 --> 00:05:02.720\nThat all appear as one\nentity on the network and\n\n116\n00:05:02.720 --> 00:05:07.870\nnow I really get that impressive workload\nall done with just standard-class servers.\n\n117\n00:05:07.870 --> 00:05:10.690\n&gt;&gt; So in addition to availability,\nare we looking at\n\n118\n00:05:10.690 --> 00:05:14.340\nincreased performance and/or are we taking\na look at both of these options here?\n\n119\n00:05:14.340 --> 00:05:15.930\nHow can we configure that?\n\n120\n00:05:15.930 --> 00:05:18.762\n&gt;&gt; You get both,\nwhether you want it or not, right?\n\n121\n00:05:18.762 --> 00:05:22.479\n[LAUGH] I mean, I guess you can break\na little bit but If I have two network\n\n122\n00:05:22.479 --> 00:05:26.180\nload-balanced servers, right,\nmy goal might be availability.\n\n123\n00:05:26.180 --> 00:05:28.650\nHey, if my first server fails,\nI want a second server that takes over.\n\n124\n00:05:28.650 --> 00:05:30.530\nAll right, great, NLB does that.\n\n125\n00:05:30.530 --> 00:05:33.140\nBut when you put that second server in,\n\n126\n00:05:33.140 --> 00:05:35.010\nit's going to load\nbalance between the two.\n\n127\n00:05:35.010 --> 00:05:36.910\nAnd so you're gonna get extra performance.\n\n128\n00:05:36.910 --> 00:05:40.620\nYou're doubling your workload or your\nthroughput or your bandwidth, or whatever.\n\n129\n00:05:40.620 --> 00:05:43.140\nYou're doubling the amount of\nwork those servers can do.\n\n130\n00:05:43.140 --> 00:05:46.100\nAnd if I go to three servers,\nfour servers, five servers, I'm increasing\n\n131\n00:05:46.100 --> 00:05:50.160\nit even more and at the same time building\nup my availability and reliability.\n\n132\n00:05:50.160 --> 00:05:52.280\nSo I could have one node fail,\ntwo nodes fail.\n\n133\n00:05:52.280 --> 00:05:53.900\nI could have many nodes fail.\n\n134\n00:05:53.900 --> 00:05:56.700\nAnd you know what, I mentioned\nthat we could have up to 32 nodes.\n\n135\n00:05:56.700 --> 00:05:58.670\nBut then I said like,\nTwitter has thousands.\n\n136\n00:05:58.670 --> 00:06:00.014\nSo does that mean NLB doesn't work?\n\n137\n00:06:00.014 --> 00:06:01.340\n&gt;&gt; So what's the caveat to that?\n\n138\n00:06:01.340 --> 00:06:06.890\n&gt;&gt; So the trick here is that a single NLB\ncluster can only have up to 32 nodes But\n\n139\n00:06:06.890 --> 00:06:09.300\nyou can have as many clusters as you want.\n\n140\n00:06:09.300 --> 00:06:11.370\nSo I might build up several clusters.\n\n141\n00:06:11.370 --> 00:06:13.415\nI might build one cluster and\n\n142\n00:06:13.415 --> 00:06:17.410\nhave it right here in the Server X\nbehind me and have 32 nodes.\n\n143\n00:06:17.410 --> 00:06:22.106\nAnd then, I build another cluster and\nI stick that at Rackspace, in Texas.\n\n144\n00:06:22.106 --> 00:06:25.470\nOr I have another 32-node cluster\nthat's in Amazon Web Services and\n\n145\n00:06:25.470 --> 00:06:27.240\nanother 32-node cluster that's in Azure.\n\n146\n00:06:27.240 --> 00:06:28.635\nNow I'm spreading out, right?\n\n147\n00:06:28.635 --> 00:06:31.140\n&gt;&gt; Really diversifying where\nyou're getting that information.\n\n148\n00:06:31.140 --> 00:06:31.801\n&gt;&gt; Absolutely.\n\n149\n00:06:31.801 --> 00:06:32.960\n&gt;&gt; So you have that redundancy there.\n\n150\n00:06:32.960 --> 00:06:36.258\n&gt;&gt; So now redundancy, not just for the\nservers but the data centers themselves.\n\n151\n00:06:36.258 --> 00:06:39.681\nAll this junk behind me,\ntechnology behind me could fail.\n\n152\n00:06:39.681 --> 00:06:44.802\n&gt;&gt; [LAUGH]\n&gt;&gt; Not all some of it maybe [LAUGH].\n\n153\n00:06:44.802 --> 00:06:45.544\nIt can all fail.\n\n154\n00:06:45.544 --> 00:06:47.090\nAnd I've got other data centers, right?\n\n155\n00:06:47.090 --> 00:06:49.100\nAnd that's how we get to the thousands.\n\n156\n00:06:49.100 --> 00:06:52.490\nWhen you want to have that many\nservers you certainly can, right?\n\n157\n00:06:52.490 --> 00:06:55.420\nAnd what we do is we actually combine\n\n158\n00:06:55.420 --> 00:06:57.920\nNLB with another technology\ncalled DNS Round Robin.\n\n159\n00:06:57.920 --> 00:07:01.100\nIn fact, NLB is kind of the brainchild of\n\n160\n00:07:01.100 --> 00:07:05.240\nwhat came from DNS round robbining\nin the early days, right?\n\n161\n00:07:05.240 --> 00:07:09.050\nI'm gonna go off our notes here for\na minute and talk a little bit about DNS\n\n162\n00:07:09.050 --> 00:07:12.428\nround robbining because, technically,\nif I have a website, right?\n\n163\n00:07:12.428 --> 00:07:14.905\nAnd [CROSSTALK]\n&gt;&gt; Like www.donscats.com [LAUGH].\n\n164\n00:07:14.905 --> 00:07:17.353\n&gt;&gt; Donscats.com,\nit would be a very limited website.\n\n165\n00:07:17.353 --> 00:07:23.110\n[LAUGH] But, if I have a website,\nand it's a load balance, right?\n\n166\n00:07:23.110 --> 00:07:24.290\nSo what do I do?\n\n167\n00:07:24.290 --> 00:07:25.410\nWell, I can go into DNS.\n\n168\n00:07:25.410 --> 00:07:26.960\nAnd here let me just,\nI'll show you an example.\n\n169\n00:07:26.960 --> 00:07:27.680\nAll right, let's see.\n\n170\n00:07:27.680 --> 00:07:29.630\nI have a server sitting\naround here I can use.\n\n171\n00:07:29.630 --> 00:07:32.465\nWe'll use this one and\nI know it's kind of microscopic, here.\n\n172\n00:07:32.465 --> 00:07:35.000\n&gt;&gt; [LAUGH]\n&gt;&gt; Let me get into DNS and\n\n173\n00:07:35.000 --> 00:07:36.820\nthen I will zoom in.\n\n174\n00:07:36.820 --> 00:07:37.810\nThere we go, all right.\n\n175\n00:07:37.810 --> 00:07:41.380\nSo let's say that I've got,\nwhat was it, donscats.com?\n\n176\n00:07:41.380 --> 00:07:43.700\n&gt;&gt; Yes.\n&gt;&gt; We'll go, we'll go donscats right, so\n\n177\n00:07:43.700 --> 00:07:44.500\n&gt;&gt; All right.\n\n178\n00:07:44.500 --> 00:07:47.490\n&gt;&gt; So I'm gonna create a DNS zone here,\nreal quick.\n\n179\n00:07:47.490 --> 00:07:53.410\nAnd I'm gonna, whoops,\nI'm gonna call it donscats.com.\n\n180\n00:07:53.410 --> 00:07:55.800\nRight?\nIt's gonna be an amazing website.\n\n181\n00:07:55.800 --> 00:07:56.355\nI can feel it already.\n\n182\n00:07:56.355 --> 00:08:00.311\nAfter the show I'm gonna have to-\n&gt;&gt; Secure that name space.\n\n183\n00:08:00.311 --> 00:08:02.162\n[LAUGH]\n&gt;&gt; Yeah definitely gonna have to do\n\n184\n00:08:02.162 --> 00:08:04.347\nthat one, all right, so So\nI've got the old donscats.com.\n\n185\n00:08:04.347 --> 00:08:06.025\nAnd I'm on a web server, right?\n\n186\n00:08:06.025 --> 00:08:09.228\nSo I'm gonna create a record here for www.\n\n187\n00:08:09.228 --> 00:08:11.005\nAnd I'm gonna point that at a server.\n\n188\n00:08:11.005 --> 00:08:16.371\nSo I got a server, 192.168.0.201, right?\n\n189\n00:08:16.371 --> 00:08:18.820\nAnd I'll go ahead and add that host.\n\n190\n00:08:18.820 --> 00:08:20.190\nAnd so now, it's in there.\n\n191\n00:08:20.190 --> 00:08:21.770\nAnd it is done, right?\n\n192\n00:08:21.770 --> 00:08:28.070\nSo if somebody goes to www.donscats.com,\nthey get whatever's on the server, right?\n\n193\n00:08:28.070 --> 00:08:31.880\nAnd right now I actually don't\nhave a whole ton on there.\n\n194\n00:08:31.880 --> 00:08:37.280\nBut what you'll see is if I\nbrowse to www.donscats.com.\n\n195\n00:08:37.280 --> 00:08:39.876\nThere we go, I get a little message,\nI'm on NODE01.\n\n196\n00:08:39.876 --> 00:08:42.470\nI have a server that I've\ncreatively named NODE01.\n\n197\n00:08:42.470 --> 00:08:46.480\nAnd it's just telling, hey,\nI'm on node01.lab.itpro.tv, and\n\n198\n00:08:46.480 --> 00:08:51.030\nits IP address 192.168.0.201,\nthere it is, right?\n\n199\n00:08:51.030 --> 00:08:54.260\nAnd then one day I noticed,\nserver's getting a little busy, right?\n\n200\n00:08:54.260 --> 00:08:57.350\nAnd so I wanna add a second server.\n\n201\n00:08:57.350 --> 00:09:01.299\nNow when I add a second server, I got\na few choices about how I can get people\n\n202\n00:09:01.299 --> 00:09:05.437\nto it, because I need my customers to\nbe going, or my viewers, or my fans, or\n\n203\n00:09:05.437 --> 00:09:07.344\nmy massive rabid cat fan base,\n&gt;&gt; [LAUGH]\n\n204\n00:09:07.344 --> 00:09:08.730\n&gt;&gt; To be able to go to these two servers.\n\n205\n00:09:08.730 --> 00:09:15.455\nSo I could create www2.donscats, and\nthen I could just ask the audience.\n\n206\n00:09:15.455 --> 00:09:17.168\nHey, could you guys do me a favor and\n\n207\n00:09:17.168 --> 00:09:20.500\nmaybe like half of you go to one of\nthese and half of you go to the other?\n\n208\n00:09:20.500 --> 00:09:21.840\n&gt;&gt; That's super lame.\n\n209\n00:09:21.840 --> 00:09:24.275\n&gt;&gt; Yeah, it's lame and\nit's not reliable, and if-\n\n210\n00:09:24.275 --> 00:09:26.015\n&gt;&gt; How would you get the message out and\n\n211\n00:09:26.015 --> 00:09:27.060\nnot practical?\n\n212\n00:09:27.060 --> 00:09:28.131\n&gt;&gt; And why would the viewer care?\n\n213\n00:09:28.131 --> 00:09:30.204\nThey're just gonna say,\nscrew it, I'm gonna go to www.\n\n214\n00:09:30.204 --> 00:09:32.132\nI'm not typing an extra number two,\nthat's crazy.\n\n215\n00:09:32.132 --> 00:09:33.830\n&gt;&gt; So that doesn't work out, right?\n\n216\n00:09:33.830 --> 00:09:37.060\nAnd that's where\nDNS Round Robining comes in.\n\n217\n00:09:37.060 --> 00:09:40.920\nIs that with DNS Round Robining we can\n\n218\n00:09:40.920 --> 00:09:44.770\ncreate more than one host\nwith the same IP, right?\n\n219\n00:09:44.770 --> 00:09:51.340\nSo when I can into olddonscats here again,\nI can add another A record.\n\n220\n00:09:51.340 --> 00:09:54.590\nSo I'll just do\na New Host A Record here for www.\n\n221\n00:09:54.590 --> 00:09:57.440\nAnd I can add a second IP address\nof another server, right?\n\n222\n00:09:57.440 --> 00:10:01.260\nSo I'll put in, whoop,\nzoom is crazy today.\n\n223\n00:10:01.260 --> 00:10:01.990\nThere we go.\n\n224\n00:10:01.990 --> 00:10:05.543\nAnd so now I've got these\ntwo A records right here,\n\n225\n00:10:05.543 --> 00:10:11.177\none that points to 192.168.0.201,\nthe other one points 202.\n\n226\n00:10:11.177 --> 00:10:12.250\nThat's where they are.\n\n227\n00:10:12.250 --> 00:10:15.950\nAnd now when people go DNS\nwill round robin between.\n\n228\n00:10:15.950 --> 00:10:19.720\nThe first person gets the first server,\nsecond person gets the second server,\n\n229\n00:10:19.720 --> 00:10:21.910\nthird person gets the first server.\n\n230\n00:10:21.910 --> 00:10:23.960\nIt rotates back and forth.\n\n231\n00:10:23.960 --> 00:10:26.620\n&gt;&gt; This is a really simple\nway to load balance.\n\n232\n00:10:26.620 --> 00:10:27.900\n&gt;&gt; It didn't cost you anything extra.\n\n233\n00:10:27.900 --> 00:10:30.580\nIt's just something you\ndid right here within DNS.\n\n234\n00:10:30.580 --> 00:10:34.450\n&gt;&gt; It took a minute, half that minute was\nme trying to Alt-Tab between programs.\n\n235\n00:10:34.450 --> 00:10:39.110\nSo [LAUGH] it's really not that big\nof a deal to set this up, right?\n\n236\n00:10:39.110 --> 00:10:41.438\nThis is like poor man's load balancing.\n\n237\n00:10:41.438 --> 00:10:45.200\nBecause now 50% of my traffic\ngoes one way, 50% goes the other.\n\n238\n00:10:45.200 --> 00:10:46.800\nBut there's a few problems here.\n\n239\n00:10:46.800 --> 00:10:50.830\nProblem one,\nit's not necessarily even load balancing.\n\n240\n00:10:50.830 --> 00:10:54.425\nThere might be one person who comes\nto my site and says, this is stupid.\n\n241\n00:10:54.425 --> 00:10:55.650\n[LAUGH] And leaves after a minute.\n\n242\n00:10:55.650 --> 00:10:56.770\nActually, I hope that's everybody.\n\n243\n00:10:56.770 --> 00:11:00.510\nBut then there's other people who\nare gonna come and say, I love cats!\n\n244\n00:11:00.510 --> 00:11:03.670\nSo they're going to spend\nan hour on that site.\n\n245\n00:11:03.670 --> 00:11:09.003\nAnd when they do that,\nthey're upsetting the balance.\n\n246\n00:11:09.003 --> 00:11:11.399\nWe end up with more people on one server,\ncuz they're staying longer, and\n\n247\n00:11:11.399 --> 00:11:13.430\nless people on the other server\ncuz they're staying shorter.\n\n248\n00:11:13.430 --> 00:11:14.560\nIt's not necessarily even.\n\n249\n00:11:14.560 --> 00:11:16.470\nThere's no logic behind this.\n\n250\n00:11:16.470 --> 00:11:19.680\nAnd the other problem is,\nwhat if one of the server fails?\n\n251\n00:11:19.680 --> 00:11:22.040\nIf a server fails, DNS doesn't know it.\n\n252\n00:11:22.040 --> 00:11:25.370\nAnd so now, 50% of my traffic\nis being sent to a dead server.\n\n253\n00:11:25.370 --> 00:11:27.720\nThere's no availability or\nredundancy here.\n\n254\n00:11:27.720 --> 00:11:30.460\nSo DNS round-robining is pretty limited.\n\n255\n00:11:30.460 --> 00:11:34.590\nBut if I had multiple NLB clusters,\n\n256\n00:11:34.590 --> 00:11:39.320\nif I had a cluster here in our office,\nI could put that as one of these entries.\n\n257\n00:11:39.320 --> 00:11:42.590\nAnd if I had a cluster in Azure,\nI could make that a second entry.\n\n258\n00:11:42.590 --> 00:11:46.066\nAnd a cluster in AWS,\nI could make that a third entry.\n\n259\n00:11:46.066 --> 00:11:48.800\nAnd now I'm round-robining between\nthese entire data centers,\n\n260\n00:11:48.800 --> 00:11:50.460\nwhere I might have 32 nodes in each.\n\n261\n00:11:50.460 --> 00:11:53.820\nNow I've got great availability and I can\nhave that cluster really, really grow.\n\n262\n00:11:53.820 --> 00:11:55.520\nAll right, well, we're gonna try and\n\n263\n00:11:55.520 --> 00:11:57.570\nkeep things a little bit\nmore simple in this episode.\n\n264\n00:11:57.570 --> 00:12:02.820\nI wanna set up a two node NLB cluster,\na little bit more simple, right?\n\n265\n00:12:02.820 --> 00:12:06.630\nI've got my two nodes, I just need\nsome way to load balance between them.\n\n266\n00:12:06.630 --> 00:12:09.470\nSo what I'm gonna do is I'm going\nto delete that second entry so\n\n267\n00:12:09.470 --> 00:12:11.110\nthat I've only got one A record.\n\n268\n00:12:11.110 --> 00:12:15.720\nAnd that A record is pointing to my\nfirst server, so it's good to go.\n\n269\n00:12:15.720 --> 00:12:18.050\nBut I need something to be able\nto do that load balancing.\n\n270\n00:12:18.050 --> 00:12:19.889\nAnd this is where NLB comes in.\n\n271\n00:12:19.889 --> 00:12:21.790\nAnd it works its magic, right?\n\n272\n00:12:21.790 --> 00:12:23.900\nWith NLB, you can take up to 32 nodes.\n\n273\n00:12:23.900 --> 00:12:27.140\nYou put them together, and\nthey talk to each other.\n\n274\n00:12:27.140 --> 00:12:30.680\nNot like DNS, they talk to each other and\nlearn how busy they are.\n\n275\n00:12:30.680 --> 00:12:32.848\nIt's like they say, hey, how's it going?\n\n276\n00:12:32.848 --> 00:12:34.480\nHow's your day been?\nAnd the other server says,\n\n277\n00:12:34.480 --> 00:12:35.940\nI'm really busy.\n\n278\n00:12:35.940 --> 00:12:37.640\nCan you maybe take over some work load?\n\n279\n00:12:37.640 --> 00:12:38.670\nAnd they actually communicate.\n\n280\n00:12:38.670 --> 00:12:40.130\nIt's really, really useful.\n\n281\n00:12:40.130 --> 00:12:44.140\n&gt;&gt; So Don, I know with Hyper-V,\nthat communication that transpires between\n\n282\n00:12:44.140 --> 00:12:47.910\nthe host and the guest operating systems,\nthey use something called a heart beat.\n\n283\n00:12:47.910 --> 00:12:49.836\nAnd when we're talking about clustering,\n\n284\n00:12:49.836 --> 00:12:53.178\nI know that terminology is still existing\nthere, but how does that differ?\n\n285\n00:12:53.178 --> 00:12:54.190\nI mean, is it the same?\n\n286\n00:12:54.190 --> 00:12:55.100\nIs it similar?\n\n287\n00:12:55.100 --> 00:12:57.440\n&gt;&gt; It's the same concept, but\nit is a different technology.\n\n288\n00:12:57.440 --> 00:12:59.100\nSo it's a heartbeat, right?\n\n289\n00:12:59.100 --> 00:13:02.510\nThose servers that are in a NLB cluster\nwill send a heartbeat every two seconds.\n\n290\n00:13:02.510 --> 00:13:04.680\nSo every two seconds they\nsend a message to each other.\n\n291\n00:13:04.680 --> 00:13:08.590\nAnd in reality, one of the cluster\nnodes would be elected as a master.\n\n292\n00:13:08.590 --> 00:13:11.320\nAnd we'll see that later on where one\nbecomes the master of the cluster.\n\n293\n00:13:11.320 --> 00:13:13.200\nAnd when they send a heartbeat,\nthat's who they're sending it to.\n\n294\n00:13:13.200 --> 00:13:14.990\nThey don't send the heartbeat\nacross every single one.\n\n295\n00:13:14.990 --> 00:13:16.240\nIt's just going to the master.\n\n296\n00:13:16.240 --> 00:13:20.020\nAnd that heartbeat, in Hyper-V,\nis a simple way for\n\n297\n00:13:20.020 --> 00:13:21.960\nit to make sure that the virtual\nmachine is still running.\n\n298\n00:13:21.960 --> 00:13:24.660\nAnd if it's locked up,\nit'll know it is locked up.\n\n299\n00:13:24.660 --> 00:13:28.660\nBut here it's not just telling us whether\na node is locked up, which it does.\n\n300\n00:13:28.660 --> 00:13:32.690\nBut it's also telling us how\nbusy is that node, right?\n\n301\n00:13:32.690 --> 00:13:34.218\nIs it fully utilized right now?\n\n302\n00:13:34.218 --> 00:13:38.520\nIf I have one node at 80% utilization and\nanother node at 20% utilization,\n\n303\n00:13:38.520 --> 00:13:41.645\nI need to send the traffic\nover to the node that's 20%.\n\n304\n00:13:41.645 --> 00:13:43.740\nNLB can make that decision, right?\n\n305\n00:13:43.740 --> 00:13:48.040\nAnd it's also managing nodes coming into\nthe cluster and coming out of the cluster.\n\n306\n00:13:48.040 --> 00:13:50.470\nBecause you'll find that there's\ntimes when you want to take them out.\n\n307\n00:13:50.470 --> 00:13:53.190\nSo for example,\nlet's say that I had a server.\n\n308\n00:13:53.190 --> 00:13:55.310\nIf I just had one web server, and\n\n309\n00:13:55.310 --> 00:13:59.170\nI wanted to do Windows updates on it,\nwhich we all should doing.\n\n310\n00:13:59.170 --> 00:14:02.730\nWell, most of the really good\nupdates require a reboot, and\n\n311\n00:14:02.730 --> 00:14:04.160\nnow my website's offline.\n\n312\n00:14:04.160 --> 00:14:07.540\nBut if I had an NLB cluster\nI could update one node, and\n\n313\n00:14:07.540 --> 00:14:09.580\nwhile it's rebooting, NLB will know it.\n\n314\n00:14:09.580 --> 00:14:11.880\nIt'll know it.\nIt'll stop sending people to that node.\n\n315\n00:14:11.880 --> 00:14:14.410\nSo your end users never\nexperience that outage.\n\n316\n00:14:14.410 --> 00:14:16.788\nThe other node comes back up,\nand then you're back in business.\n\n317\n00:14:16.788 --> 00:14:19.010\n&gt;&gt; Stagger them and\nyou can get your updates?\n\n318\n00:14:19.010 --> 00:14:21.150\n&gt;&gt; Absolutely, you can do your\nupdates in the middle of the day.\n\n319\n00:14:21.150 --> 00:14:24.980\nI remember the first time I did this,\nbecause I was working at a company where\n\n320\n00:14:24.980 --> 00:14:27.350\nwe always had the fourth\nSunday of every month.\n\n321\n00:14:27.350 --> 00:14:28.780\nThat was our maintenance window.\n\n322\n00:14:28.780 --> 00:14:32.496\nSo on Sunday, you'd come in and from like\n2 PM to 4 PM or something like that, we\n\n323\n00:14:32.496 --> 00:14:36.232\nhad this window of time where we can take\nservers off line and that's what we did.\n\n324\n00:14:36.232 --> 00:14:38.070\nAnd this was back in the NC4 days.\n\n325\n00:14:38.070 --> 00:14:40.000\nWell, when we started\ngetting things like NLB,\n\n326\n00:14:40.000 --> 00:14:42.770\nwe didn't need that\nmaintenance window anymore.\n\n327\n00:14:42.770 --> 00:14:43.450\nIt could be Wednesday afternoon.\n\n328\n00:14:43.450 --> 00:14:44.636\n&gt;&gt; You could go fishing on Sundays.\n\n329\n00:14:44.636 --> 00:14:46.761\n[LAUGH]\n&gt;&gt; [LAUGH] You could stay home like\n\n330\n00:14:46.761 --> 00:14:47.702\nyou're supposed to.\n\n331\n00:14:47.702 --> 00:14:51.573\nIt's crazy, but\nit can be Wednesday at 1 o'clock.\n\n332\n00:14:51.573 --> 00:14:52.795\nI'm gonna go and take that server down.\n\n333\n00:14:52.795 --> 00:14:54.596\nAnd it's okay because you've got\nother ones that are there to take\n\n334\n00:14:54.596 --> 00:14:55.150\nover the workload.\n\n335\n00:14:55.150 --> 00:14:57.960\nNow obviously, you don't wanna\nweaken your performance, right?\n\n336\n00:14:57.960 --> 00:14:59.700\nBut the less nodes you have,\nthe less performance you get.\n\n337\n00:14:59.700 --> 00:15:02.350\nBut as long as you've got the extra\ncapacity, you can take one or\n\n338\n00:15:02.350 --> 00:15:03.650\ntwo nodes out.\n\n339\n00:15:03.650 --> 00:15:04.920\nMost people never even notice.\n\n340\n00:15:04.920 --> 00:15:06.600\nAnd you do your maintainance,\nyou bring them back on line.\n\n341\n00:15:06.600 --> 00:15:08.010\nIt's really a great system.\n\n342\n00:15:08.010 --> 00:15:11.040\nBut even better,\nas the system starts to get overloaded,\n\n343\n00:15:11.040 --> 00:15:14.550\nas you get too many people in there,\nyou can easily add more nodes.\n\n344\n00:15:14.550 --> 00:15:15.743\nAnd you don't have to take it offline.\n\n345\n00:15:15.743 --> 00:15:18.890\nIt's not like scaling up where I gotta\nshut it down and add more memory.\n\n346\n00:15:18.890 --> 00:15:22.530\nHere, I just add another node into\nthe cluster while it's online.\n\n347\n00:15:22.530 --> 00:15:25.930\nAnd now people start getting sent to the\nnew node, and we're balanced across it.\n\n348\n00:15:25.930 --> 00:15:26.710\nit's really impressive.\n\n349\n00:15:26.710 --> 00:15:28.770\nAnd the heartbeat is what\nfacilitates all of it.\n\n350\n00:15:28.770 --> 00:15:31.000\n&gt;&gt; Okay, so\nbecause this is a technical show,\n\n351\n00:15:31.000 --> 00:15:33.400\nhow is that communication\nactually happening?\n\n352\n00:15:33.400 --> 00:15:35.112\nLike the nuts and bolts here.\n\n353\n00:15:35.112 --> 00:15:35.690\n&gt;&gt; All right,\n\n354\n00:15:35.690 --> 00:15:39.770\nwhen we go to get this set up, it's going\nto ask us a really important question.\n\n355\n00:15:39.770 --> 00:15:42.915\nAnd that question is what mode we\nwant the cluster to operate in.\n\n356\n00:15:42.915 --> 00:15:44.800\nSee what's gonna happen is,\n\n357\n00:15:44.800 --> 00:15:46.930\nwe've got all these real servers,\nthese physical servers.\n\n358\n00:15:46.930 --> 00:15:49.520\nAnd they might be virtual machines,\nbut either way, they're servers.\n\n359\n00:15:49.520 --> 00:15:52.400\nAnd they're represented as\nunique entities on the network.\n\n360\n00:15:52.400 --> 00:15:53.420\nEvery server has its own IP address.\n\n361\n00:15:53.420 --> 00:15:57.040\nEvery server has its own SSID and\nhostname, right?\n\n362\n00:15:57.040 --> 00:16:00.069\nBut we need them to appear\nas one on the network.\n\n363\n00:16:00.069 --> 00:16:03.877\nSo when we set this up,\nit's gonna generate a virtual IP address,\n\n364\n00:16:03.877 --> 00:16:08.010\nan IP address that's shared across\nall of the virtual machines.\n\n365\n00:16:08.010 --> 00:16:11.130\nAnd it's gonna generate a MAC address.\n\n366\n00:16:11.130 --> 00:16:13.710\nAnd that MAC address is gonna\nbe virtual as well, and\n\n367\n00:16:13.710 --> 00:16:16.080\nshared across all of these devices.\n\n368\n00:16:16.080 --> 00:16:18.863\nSo if you're a network switch,\nlike a layer 2 switch,\n\n369\n00:16:18.863 --> 00:16:21.663\nlayer 2 switches track an IP address and\na MAC address.\n\n370\n00:16:21.663 --> 00:16:23.768\nAnd well,\na layer 3 switch would track the IP, so\n\n371\n00:16:23.768 --> 00:16:26.090\na regular switch would\njust do the MAC address.\n\n372\n00:16:26.090 --> 00:16:29.330\nBut it's expecting a MAC address\nto just appear on one port.\n\n373\n00:16:29.330 --> 00:16:32.990\nBut with NLB, that MAC address\ncould appear on many ports.\n\n374\n00:16:32.990 --> 00:16:36.160\nIf I've got 32 nodes, then I'd have\nthat MAC address on 32 different ports.\n\n375\n00:16:36.160 --> 00:16:37.073\nThat's gonna freak a switch out.\n\n376\n00:16:37.073 --> 00:16:41.120\n[LAUGH] And so\nthere's a few ways this can operate.\n\n377\n00:16:41.120 --> 00:16:42.641\nOne mode is called the unicast mode.\n\n378\n00:16:42.641 --> 00:16:47.600\nAnd in the unicast mode,\nevery node maintains its own MAC address.\n\n379\n00:16:47.600 --> 00:16:52.240\nAnd now that one IP has up to 32\ndifferent MAC addresses tied to it.\n\n380\n00:16:52.240 --> 00:16:56.420\nAnd whenever a client does an arp request,\nthe node that's the least bus,\n\n381\n00:16:56.420 --> 00:16:58.490\nwill answer back with its MAC address.\n\n382\n00:16:58.490 --> 00:17:00.640\nAnd that's how people get\ndirected to that node.\n\n383\n00:17:00.640 --> 00:17:02.300\nThat works really really well.\n\n384\n00:17:02.300 --> 00:17:04.980\nIt works in every environment, doesn't\nrequire changing your switches, and\n\n385\n00:17:04.980 --> 00:17:06.590\nis very very stable.\n\n386\n00:17:06.590 --> 00:17:09.060\nBut it's not terribly efficient.\n\n387\n00:17:09.060 --> 00:17:10.550\nBecause all the incoming traffic,\n\n388\n00:17:10.550 --> 00:17:14.280\nwhen people come in, is really being\nreflected across all the nodes, so\n\n389\n00:17:14.280 --> 00:17:16.940\nthere's a lot of extra crosstalk\nthat goes on when you do that.\n\n390\n00:17:16.940 --> 00:17:18.573\nSo there's some enhanced\nmodes that you can do.\n\n391\n00:17:18.573 --> 00:17:20.312\nThere's a multicast mode.\n\n392\n00:17:20.312 --> 00:17:23.770\nAnd with multicast, instead of doing\nbroadcast between the various cluster\n\n393\n00:17:23.770 --> 00:17:24.790\nnodes, it does a multicast.\n\n394\n00:17:24.790 --> 00:17:27.600\nSo the cluster nodes can vote to\nbe into that conversation, and\n\n395\n00:17:27.600 --> 00:17:29.450\nother people can chose to ignore it.\n\n396\n00:17:29.450 --> 00:17:34.690\nAnd even better, is if you use IGMP,\nthe Internet Group Management Protocol.\n\n397\n00:17:34.690 --> 00:17:39.650\nAnd with IGMP, now the servers and their\nassociated ports on the switch, can opt\n\n398\n00:17:39.650 --> 00:17:43.230\ninto those communications, and people who\nare in the communication, don't opt-in.\n\n399\n00:17:43.230 --> 00:17:43.819\nThey don't see it at all.\n\n400\n00:17:43.819 --> 00:17:45.374\nThat's the most efficient.\n\n401\n00:17:45.374 --> 00:17:49.530\nThe problem with multicast,\nis that your switches have to support it.\n\n402\n00:17:49.530 --> 00:17:52.640\nAnd the problem with IGMP,\nis that your switches and your routers,\n\n403\n00:17:52.640 --> 00:17:53.700\nhave to support it.\n\n404\n00:17:53.700 --> 00:17:56.090\nSo you've gotta have\nthe network team get involved.\n\n405\n00:17:56.090 --> 00:17:58.470\nThey've gotta set up\nan infrastructure to work with it.\n\n406\n00:17:58.470 --> 00:18:01.910\nIf it doesn't, if they don't support that,\nthen you need to use unicast mode.\n\n407\n00:18:01.910 --> 00:18:04.264\nAnd I'll tell you,\nunicast mode works great, it really is.\n\n408\n00:18:04.264 --> 00:18:09.250\nUnless you're dealing with high\nvolumes of large traffic, right?\n\n409\n00:18:09.250 --> 00:18:12.405\nSo not like a web page, but if you do\nyou're doing file transfers and things.\n\n410\n00:18:12.405 --> 00:18:16.295\nThat's where it starts to bog down and you\nreally benefit by doing IGMP, if you can,\n\n411\n00:18:16.295 --> 00:18:17.365\nbut you need to get involved.\n\n412\n00:18:17.365 --> 00:18:20.395\nSo when we go to do this set up, that's\none of the questions that we'll have to\n\n413\n00:18:20.395 --> 00:18:22.185\nanswer, is which one of these\nmodes do we wanna go in?\n\n414\n00:18:22.185 --> 00:18:22.865\nAnd here in this show,\n\n415\n00:18:22.865 --> 00:18:25.685\nI'm gonna do unicast,\nbecause that works everywhere, right?\n\n416\n00:18:25.685 --> 00:18:28.785\nBut just be aware, there are two\nother modes that are more efficient,\n\n417\n00:18:28.785 --> 00:18:30.510\nif your network here supports it.\n\n418\n00:18:30.510 --> 00:18:31.980\n&gt;&gt; Okay, so thinking about that,\n\n419\n00:18:31.980 --> 00:18:34.820\nare there any other questions that we\nneed to be asking ourselves as well,\n\n420\n00:18:34.820 --> 00:18:37.770\nlike prerequisites or\nany kind of system requirements?\n\n421\n00:18:37.770 --> 00:18:40.300\n&gt;&gt; So on the prerequisite side,\nthere's not much.\n\n422\n00:18:40.300 --> 00:18:45.404\nNLB is actually built into Windows Server\n2016, server core and full UI.\n\n423\n00:18:45.404 --> 00:18:49.338\nIt's in the Standard Edition and\nthe Enterprise Edition.\n\n424\n00:18:49.338 --> 00:18:51.867\nSo it's there, it's a part of it.\n\n425\n00:18:51.867 --> 00:18:54.629\nIt's actually given in Nano Server,\nif you really wanna go crazy.\n\n426\n00:18:54.629 --> 00:18:57.800\nI don't think that's necessarily\na great idea, but you could.\n\n427\n00:18:57.800 --> 00:19:01.020\nThere's other technologies\nyou could use with Nano, but\n\n428\n00:19:01.020 --> 00:19:02.730\nit's built in, so we've got that.\n\n429\n00:19:02.730 --> 00:19:04.430\nBut there are a few things\nwe need to think about.\n\n430\n00:19:04.430 --> 00:19:08.350\nAnd first off, you really should have\ntwo network adapters, all right?\n\n431\n00:19:08.350 --> 00:19:10.350\nTechnically, you don't have\nto have two network adapters,\n\n432\n00:19:10.350 --> 00:19:11.900\nyou could get by with one.\n\n433\n00:19:11.900 --> 00:19:13.420\nBut if you've only got\none network adapter,\n\n434\n00:19:13.420 --> 00:19:16.350\nit really makes it difficult\nto manage the nodes.\n\n435\n00:19:16.350 --> 00:19:18.910\nBecause when you go to connect,\nyou're gonna get load-balanced and so\n\n436\n00:19:18.910 --> 00:19:20.390\nyou won't know what node\nyou're gonna land on.\n\n437\n00:19:20.390 --> 00:19:23.924\nSo I might wanna manage node 17, and\nI go to connect, and I get on node 3.\n\n438\n00:19:23.924 --> 00:19:26.840\nAnd you get kinda locked like that,\nit's a problem.\n\n439\n00:19:26.840 --> 00:19:30.510\nNow, if they're virtual machines,\nyou can use the Hyper-V console.\n\n440\n00:19:30.510 --> 00:19:33.550\nAnd you can go into Hyper-V, and you can\npull up the console of any node that\n\n441\n00:19:33.550 --> 00:19:36.420\nyou want, so\nyou can get by with one network adapter.\n\n442\n00:19:36.420 --> 00:19:38.910\nBut for most of us, you want two, right?\n\n443\n00:19:38.910 --> 00:19:41.910\nOne network adapter that will\nserve as the cluster adapter,\n\n444\n00:19:41.910 --> 00:19:44.720\nand then the other network adapter\nthat will be the management adapter.\n\n445\n00:19:44.720 --> 00:19:48.613\nSo that every node can still maintain its\nown unique IP address and MAC address, so\n\n446\n00:19:48.613 --> 00:19:49.350\nthat we can remote in.\n\n447\n00:19:49.350 --> 00:19:52.140\nIf I wanna work on node 17,\nI can get into node 17.\n\n448\n00:19:52.140 --> 00:19:53.587\nSo having two network\nadaptors is a good idea.\n\n449\n00:19:53.587 --> 00:19:57.570\nNot required, but\na really good idea you want to do.\n\n450\n00:19:57.570 --> 00:20:02.070\nAll right, after that,\nif we wanna support IGMP or\n\n451\n00:20:02.070 --> 00:20:05.320\nmulticast, we need to make sure our\nswitches and our routers support that.\n\n452\n00:20:05.320 --> 00:20:09.040\nAnd then we need to get NLB installed,\nright?\n\n453\n00:20:09.040 --> 00:20:11.830\nThe only other thing I wanna mention here\nis that there are some times where NLB is\n\n454\n00:20:11.830 --> 00:20:14.499\nnot a good fit,\nwhere you wanna do load-balancing, and\n\n455\n00:20:14.499 --> 00:20:16.260\nit just doesn't make sense.\n\n456\n00:20:16.260 --> 00:20:19.030\nAn example of that will be a SQL database,\nright?\n\n457\n00:20:19.030 --> 00:20:21.760\nWith a SQL database,\nyou might have replicas, and\n\n458\n00:20:21.760 --> 00:20:23.620\na lot of those replicas\nare read-only replicas.\n\n459\n00:20:23.620 --> 00:20:25.340\nWell, you don't wanna\nload-balance across that.\n\n460\n00:20:25.340 --> 00:20:28.480\nBecause when somebody goes to write, they\nneed to go to a specific database that's\n\n461\n00:20:28.480 --> 00:20:30.840\nin write mode,\nall the other ones are read.\n\n462\n00:20:30.840 --> 00:20:32.958\nSo SQL has its own ways of handling that.\n\n463\n00:20:32.958 --> 00:20:36.777\nIn the SQL client, it can do its own\nload-balancing, it doesn't need NLB.\n\n464\n00:20:36.777 --> 00:20:39.820\nThere's other technologies\nlike DHCP servers.\n\n465\n00:20:39.820 --> 00:20:43.527\nI wouldn't wanna do NLB between DHCP\nservers, because they work on broadcast\n\n466\n00:20:43.527 --> 00:20:46.950\nanyway, I just add more DHCP servers,\nI don't need to balance.\n\n467\n00:20:46.950 --> 00:20:49.610\nSo understand what your software is,\nand whether or\n\n468\n00:20:49.610 --> 00:20:51.730\nnot you even need to load\nbalance in the first place.\n\n469\n00:20:51.730 --> 00:20:54.070\nThere's sometimes where\nit's just not a good fit.\n\n470\n00:20:54.070 --> 00:20:57.520\nBut if it's something like a website,\nNLB is great.\n\n471\n00:20:57.520 --> 00:21:01.590\nOr I've done terminal services farms,\nthe remote desktop experience,\n\n472\n00:21:01.590 --> 00:21:04.130\nwhere people remote in and\nthere might be 50 servers, and\n\n473\n00:21:04.130 --> 00:21:05.470\nthey can get a session on any one of them.\n\n474\n00:21:05.470 --> 00:21:08.828\nI don't care which one they get, I just\nneed them to get that remote desktop.\n\n475\n00:21:08.828 --> 00:21:10.880\nNLB works great in situations like that.\n\n476\n00:21:10.880 --> 00:21:13.600\nSo as long as you know it's a good fit,\nand we've got our multiple network\n\n477\n00:21:13.600 --> 00:21:17.830\nadapters, and we've got a good handle\non what our network is able to support.\n\n478\n00:21:17.830 --> 00:21:20.290\nThen we're ready to actually get\nin there and install that role.\n\n479\n00:21:20.290 --> 00:21:23.448\n&gt;&gt; Okay, so I definitely feel more\ncomfortable knowing about network\n\n480\n00:21:23.448 --> 00:21:24.460\nload-balancing, but\n\n481\n00:21:24.460 --> 00:21:28.310\nI still think I could use a little extra\nhelp with getting it up and configured.\n\n482\n00:21:28.310 --> 00:21:32.819\nSo I think we'll go ahead and stop right\nhere, and come back with a part two.\n\n483\n00:21:32.819 --> 00:21:33.959\nHow does that sound, Don?\n\n484\n00:21:33.959 --> 00:21:36.499\n&gt;&gt; Yeah, what we need to do is we\nneed to get the feature installed,\n\n485\n00:21:36.499 --> 00:21:37.595\nwhich takes a few moments.\n\n486\n00:21:37.595 --> 00:21:38.874\nIn fact, why don't we do that now?\n\n487\n00:21:38.874 --> 00:21:42.170\nBecause the feature, it takes a moment,\nand then requires a reboot.\n\n488\n00:21:42.170 --> 00:21:43.088\nWell, not always, but usually does.\n\n489\n00:21:43.088 --> 00:21:45.571\n&gt;&gt; [CROSSTALK] [INAUDIBLE]\n&gt;&gt; Yeah, so let's do that now, that way,\n\n490\n00:21:45.571 --> 00:21:47.545\nwe can kinda run while\nwe're in between shows.\n\n491\n00:21:47.545 --> 00:21:50.757\nBut when we get back, like Cherokee said,\nwe've got a lot more we've gotta do.\n\n492\n00:21:50.757 --> 00:21:52.125\nWe actually have to create the cluster.\n\n493\n00:21:52.125 --> 00:21:53.872\nKind of haven't done that yet, right?\n\n494\n00:21:53.872 --> 00:21:57.162\nWe've got to configure our DNS record,\nso people can find find it.\n\n495\n00:21:57.162 --> 00:21:59.662\nWe've gotta test our servers out,\nwe've got a lot of work.\n\n496\n00:21:59.662 --> 00:22:02.062\nBut the first step on our journey,\n\n497\n00:22:02.062 --> 00:22:04.032\nis just installing the network\nload-balancing feature.\n\n498\n00:22:04.032 --> 00:22:06.082\nAnd I think, earlier in the show,\nI might have said role.\n\n499\n00:22:06.082 --> 00:22:09.262\nAnd I wanna be carefully with that,\ncuz it's not a role, it is just a feature.\n\n500\n00:22:09.262 --> 00:22:10.502\nSo let's get that installed.\n\n501\n00:22:10.502 --> 00:22:12.680\nI'm gonna jump over to one of my nodes.\n\n502\n00:22:12.680 --> 00:22:14.910\nAnd you'll have to do this on every node.\n\n503\n00:22:14.910 --> 00:22:18.320\nSo if you've got 32 nodes,\nget ready to do this 32 times.\n\n504\n00:22:18.320 --> 00:22:20.305\nYou can use PowerShell, or\neven in Server Manager,\n\n505\n00:22:20.305 --> 00:22:22.619\nyou can connect to multiple servers and\nmake it a lot easier.\n\n506\n00:22:22.619 --> 00:22:24.859\nI've only got two servers, so\nI'm just gonna jump between them.\n\n507\n00:22:24.859 --> 00:22:29.155\nBut what I wanna do is, up top here,\nI'm gonna go to manage, and\n\n508\n00:22:29.155 --> 00:22:30.838\nadd roles and features.\n\n509\n00:22:30.838 --> 00:22:34.940\nAnd then inside the role in feature list,\nwhen we get over to features, so\n\n510\n00:22:34.940 --> 00:22:39.394\nI'm just gonna skip past all the defaults\nhere, leaving in the default roles.\n\n511\n00:22:39.394 --> 00:22:40.996\nAnd when I get to the feature screen,\n\n512\n00:22:40.996 --> 00:22:43.853\noops, I clicked something when\nI shouldn't have, there we go.\n\n513\n00:22:43.853 --> 00:22:47.549\nWhen we get to the feature list, look in\nthe feature list and you'll find NLB,\n\n514\n00:22:47.549 --> 00:22:49.345\nNetwork Load Balancing right there.\n\n515\n00:22:49.345 --> 00:22:51.132\nI'm just gonna check that off, right?\n\n516\n00:22:51.132 --> 00:22:53.431\nAnd because I've got\nthe full UI installed,\n\n517\n00:22:53.431 --> 00:22:56.043\nit's offering to install\nthe admin tools as well.\n\n518\n00:22:56.043 --> 00:22:58.938\nIf you're on the server core,\nyou would just install the feature, and\n\n519\n00:22:58.938 --> 00:23:01.690\nthen you'd install this management\ntool on your own workstation,\n\n520\n00:23:01.690 --> 00:23:03.008\nor remotely connect like that.\n\n521\n00:23:03.008 --> 00:23:05.685\nSo I'm gonna go ahead and add that,\nand we'll let that install.\n\n522\n00:23:05.685 --> 00:23:09.108\nAnd then I'm just going to do the same\nthing over on my second node, so\n\n523\n00:23:09.108 --> 00:23:11.604\nwhen I jump over to this one,\nsame exact process.\n\n524\n00:23:11.604 --> 00:23:15.493\nI'm just gonna come in here and tell it to\nadd that role, and get that put in here.\n\n525\n00:23:15.493 --> 00:23:17.467\nAnd like any, I said role.\n\n526\n00:23:17.467 --> 00:23:18.784\n&gt;&gt; [LAUGH]\n&gt;&gt; Like any feature,\n\n527\n00:23:18.784 --> 00:23:20.991\nit takes a moment to get installed,\nand then once it's done,\n\n528\n00:23:20.991 --> 00:23:22.440\nyou're ready to actually work with it.\n\n529\n00:23:22.440 --> 00:23:26.097\nSo that's gonna set us up for a good\nplace to be at the beginning of part two.\n\n530\n00:23:26.097 --> 00:23:29.042\n&gt;&gt; You know it does almost seem like\na role, because it's so robust and\n\n531\n00:23:29.042 --> 00:23:30.060\nit can handle so much.\n\n532\n00:23:30.060 --> 00:23:34.097\nBut it's like feature, kind of like\ndiminishes the concept here or something.\n\n533\n00:23:34.097 --> 00:23:36.136\n[LAUGH]\n&gt;&gt; The reason they did that,\n\n534\n00:23:36.136 --> 00:23:38.416\nis because NLB by itself is useless,\nright?\n\n535\n00:23:38.416 --> 00:23:41.391\nThere has to be a role\nbehind it to be balancing.\n\n536\n00:23:41.391 --> 00:23:44.445\nSo I'm gonna balance a web server,\nso IIS is the role.\n\n537\n00:23:44.445 --> 00:23:46.256\nOr I might balance a-\n&gt;&gt; That makes sense.\n\n538\n00:23:46.256 --> 00:23:46.790\n&gt;&gt; File server.\n\n539\n00:23:46.790 --> 00:23:48.404\nThe file server would be the role,\nugh, that'd be a bad idea.\n\n540\n00:23:48.404 --> 00:23:49.844\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n541\n00:23:49.844 --> 00:23:51.294\n&gt;&gt; Balance is something like that, and\n\n542\n00:23:51.294 --> 00:23:52.050\nthat's the role.\n\n543\n00:23:52.050 --> 00:23:53.890\nThis is a feature that helps us get to it.\n\n544\n00:23:53.890 --> 00:23:54.807\nBut you're right.\n\n545\n00:23:54.807 --> 00:23:57.706\nI mean it's very powerful, so\nwe think of it, or I think of it, as role,\n\n546\n00:23:57.706 --> 00:23:58.766\nmore often than I should.\n\n547\n00:23:58.766 --> 00:24:00.927\n[LAUGH]\n&gt;&gt; All right, perfect, so\n\n548\n00:24:00.927 --> 00:24:03.588\nnow that we've got that cooking\nin the oven, we can come back and\n\n549\n00:24:03.588 --> 00:24:05.970\ncheck on that part two, so\nyou don't want to miss that.\n\n550\n00:24:05.970 --> 00:24:08.880\nThank you for your time Don, and\nthank you for being with us as well.\n\n551\n00:24:08.880 --> 00:24:11.020\nBut we'll go ahead and\nsign off for this show.\n\n552\n00:24:11.020 --> 00:24:12.179\nI've been your host, Cherokee Boose.\n\n553\n00:24:12.179 --> 00:24:13.294\n&gt;&gt; And I'm Don Pezet.\n\n554\n00:24:13.294 --> 00:24:16.104\n&gt;&gt; See you next time here at ITProTV.\n\n555\n00:24:16.104 --> 00:24:22.507\n[MUSIC]\n\n556\n00:24:22.507 --> 00:24:25.688\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "237916610"
        },
        {
          "description": "In this episode, Don explains how to use the Network Load Balancing (NLB) feature in Windows Server 2016 to create a scale-out cluster. He then walks the viewers through installing, configuring and managing NLB in a small load-balanced cluster.",
          "length": "1749",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-2-2-network_load_balancing_pt2-101117-PGM.00_30_08_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-2-2-network_load_balancing_pt2-101117-PGM.00_30_08_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-2-2-network_load_balancing_pt2-101117-PGM.00_30_08_01.Still001-sm.jpg",
          "title": "Network Load Balancing Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.170 --> 00:00:02.980\nWelcome to IT Pro TV,\nI'm your host Don Prezet.\n\n2\n00:00:02.980 --> 00:00:06.102\n&gt;&gt; Coming to you live from\nSan Francisco California.\n\n3\n00:00:06.102 --> 00:00:06.938\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.938 --> 00:00:08.422\n[MUSIC]\n\n5\n00:00:08.422 --> 00:00:12.037\n&gt;&gt; You're watching IT Pro TV.\n\n6\n00:00:12.037 --> 00:00:14.369\n&gt;&gt; Welcome to your installation,\nstorage, and\n\n7\n00:00:14.369 --> 00:00:16.774\ncompute with WIndows Server 2016 series.\n\n8\n00:00:16.774 --> 00:00:18.860\nI'm your show host Cherokee Boose.\n\n9\n00:00:18.860 --> 00:00:20.300\nIn this episode, we will go ahead and\n\n10\n00:00:20.300 --> 00:00:22.740\ncontinue talking about\nnetwork load balancing.\n\n11\n00:00:22.740 --> 00:00:25.440\nThis is a part two, so\nyou will want to check that out.\n\n12\n00:00:25.440 --> 00:00:30.310\nIn the first episode, we were looking at,\njust looking at the actual feature,\n\n13\n00:00:30.310 --> 00:00:31.420\ngetting it installed.\n\n14\n00:00:31.420 --> 00:00:31.940\nAnd of course,\n\n15\n00:00:31.940 --> 00:00:34.790\nyou're able to talk Don into coming back-\n&gt;&gt; [LAUGH]\n\n16\n00:00:34.790 --> 00:00:35.880\n&gt;&gt; In the studios today and\n\n17\n00:00:35.880 --> 00:00:37.390\nshowing us how to get this spun up.\n\n18\n00:00:37.390 --> 00:00:38.610\nSo how is it going today, Don?\n\n19\n00:00:38.610 --> 00:00:40.620\n&gt;&gt; It's going good.\nAlthough after that whole Don's cats\n\n20\n00:00:40.620 --> 00:00:42.706\nthing, I was attempted to run-\n&gt;&gt; [LAUGH]\n\n21\n00:00:42.706 --> 00:00:43.270\n&gt;&gt; That's right.\n\n22\n00:00:43.270 --> 00:00:44.120\n[LAUGH]\n&gt;&gt; We did\n\n23\n00:00:44.120 --> 00:00:45.920\nleave off on a bit of a cliffhanger,\nright?\n\n24\n00:00:45.920 --> 00:00:48.090\nWe installed\nthe Network Load Balancing feature.\n\n25\n00:00:48.090 --> 00:00:49.610\nAnd then we kind of stop using it.\n\n26\n00:00:49.610 --> 00:00:51.320\nIt takes a little bit of\ntime to install the feature.\n\n27\n00:00:51.320 --> 00:00:52.090\nThat is done now.\n\n28\n00:00:52.090 --> 00:00:55.070\nSo in this episode we're gonna be\nactually doing the real work, right?\n\n29\n00:00:55.070 --> 00:00:58.780\nWe'll get a cluster created, we'll setup\nthe load balancing between our two\n\n30\n00:00:58.780 --> 00:01:02.940\nservers, and before we know it we're\ngonna have the most high performing,\n\n31\n00:01:02.940 --> 00:01:05.888\nhighly available Don's cat website\nthis planet has ever seen.\n\n32\n00:01:05.888 --> 00:01:06.439\nThat's right.\n\n33\n00:01:06.439 --> 00:01:09.070\n&gt;&gt; [LAUGH]\n&gt;&gt; To provide you with the most amount of\n\n34\n00:01:09.070 --> 00:01:10.895\nentertainment that you can stand.\n\n35\n00:01:10.895 --> 00:01:14.585\n&gt;&gt; [LAUGH] Yeah, I don't think we\ncan live up to this, but we'll try.\n\n36\n00:01:14.585 --> 00:01:17.030\n&gt;&gt; [LAUGH]\n&gt;&gt; So, let's get back and get started.\n\n37\n00:01:17.030 --> 00:01:20.675\nWith our configuration at this point,\nwe've talked about our pre-requisites,\n\n38\n00:01:20.675 --> 00:01:24.545\nwe got the feature installed,\nnow we're ready for the real work.\n\n39\n00:01:24.545 --> 00:01:27.495\nAll right, now there is one other\nlittle pre-requisite that I forgot\n\n40\n00:01:27.495 --> 00:01:30.305\nto mention in the last show, that Cherokee\nreminded me of during the break, so\n\n41\n00:01:30.305 --> 00:01:31.857\nlet me mention that here.\n\n42\n00:01:31.857 --> 00:01:35.497\nYour servers need to\nhave a static IP right?\n\n43\n00:01:35.497 --> 00:01:38.097\nNetwork load balancing,\nNLB, hates DHCP [LAUGH].\n\n44\n00:01:38.097 --> 00:01:41.387\nIf your IP changes,\nit thinks you're all new node.\n\n45\n00:01:41.387 --> 00:01:44.967\nAnd so that's not a good thing,\nespecially if you gotta 32 node cluster.\n\n46\n00:01:44.967 --> 00:01:46.587\nIf an IP changes,\nthat would be a 33rd node and\n\n47\n00:01:46.587 --> 00:01:48.907\nyou would just drop out till you\nlose this, that would be a problem.\n\n48\n00:01:48.907 --> 00:01:50.677\nSo you'd lose, so that would be a problem.\n\n49\n00:01:50.677 --> 00:01:52.347\nSo we need to make sure\nwe have a static IP, and\n\n50\n00:01:52.347 --> 00:01:55.770\nthe reason I forgot Is,\nI already have a static IP on my server.\n\n51\n00:01:55.770 --> 00:01:57.530\nso it's easy to forget that one.\n\n52\n00:01:57.530 --> 00:01:58.390\n&gt;&gt; And it just makes sense.\n\n53\n00:01:58.390 --> 00:02:02.100\nI mean, we're talking about reliability\nand availability here, so we want to be\n\n54\n00:02:02.100 --> 00:02:06.340\nhaving that reliability and having them\nkind of etched in stone so to speak there.\n\n55\n00:02:06.340 --> 00:02:07.831\n&gt;&gt; Yeah, and that's basically it.\n\n56\n00:02:07.831 --> 00:02:11.633\nAnd I usually do static IP's of all my\nservers anyway, but here it's even more\n\n57\n00:02:11.633 --> 00:02:15.668\nimportant because that virtual IP that's\nbeen floating around, the server still\n\n58\n00:02:15.668 --> 00:02:18.860\nneed some kind of identity so\nwe need to have a static IP assigned.\n\n59\n00:02:18.860 --> 00:02:19.950\nAnd I've already got that, but\n\n60\n00:02:19.950 --> 00:02:22.660\nI just want to mention that\nright here at the beginning.\n\n61\n00:02:22.660 --> 00:02:26.320\nOkay, so let's go back to,\nwe'll be on node one and\n\n62\n00:02:26.320 --> 00:02:29.210\nI could actually do the majority of\nthe work I need here on node one.\n\n63\n00:02:29.210 --> 00:02:30.290\nOn the other nodes,\n\n64\n00:02:30.290 --> 00:02:34.520\nonce I've installed the NLB feature\nwe can then remotely manage them.\n\n65\n00:02:34.520 --> 00:02:35.700\nI can add them right here.\n\n66\n00:02:35.700 --> 00:02:37.340\nSo I can do all my work\nright from one node.\n\n67\n00:02:37.340 --> 00:02:40.140\nOr I can even do the work\nfrom my own laptop if I\n\n68\n00:02:40.140 --> 00:02:43.490\nhad the management software installed\nthere and kinda work that way.\n\n69\n00:02:43.490 --> 00:02:48.270\nBut once it's set up, we do everything\nright from one little console.\n\n70\n00:02:48.270 --> 00:02:51.370\nSo I'm going to do everything right here\nfrom node one, and I'm going to close out.\n\n71\n00:02:51.370 --> 00:02:53.320\nThat was the feature installation\nthere that just finished,\n\n72\n00:02:53.320 --> 00:02:54.900\nthat's where we left ourselves off.\n\n73\n00:02:54.900 --> 00:02:57.040\nAnd I'm going to go up to my tools menu,\nand\n\n74\n00:02:57.040 --> 00:03:01.420\nin our tools menu we will have a nice,\nnew, shiny entry.\n\n75\n00:03:01.420 --> 00:03:04.360\nCalled the network load balancing manager,\nand that's where we're gonna do our work.\n\n76\n00:03:04.360 --> 00:03:10.469\nNow if you worked with NLB in the past,\nthis is Windows Server 2016.\n\n77\n00:03:10.469 --> 00:03:14.100\nThis console has not\nchanged since Windows 2000.\n\n78\n00:03:14.100 --> 00:03:17.120\nIt's actually been the same for\n17 years, which is pretty amazing.\n\n79\n00:03:17.120 --> 00:03:20.350\nIt doesn't mean the technology hasn't been\nadvanced, like they really improved it,\n\n80\n00:03:20.350 --> 00:03:23.450\nthey made it work better,\nit's really cool stuff, but\n\n81\n00:03:23.450 --> 00:03:25.920\nthe console itself really hasn't\nchanged in a long, long time.\n\n82\n00:03:25.920 --> 00:03:27.980\nSo if it looks a little dated, that's why.\n\n83\n00:03:27.980 --> 00:03:30.910\nBut definitely don't let that\ntake away from the technology,\n\n84\n00:03:30.910 --> 00:03:32.030\nbecause it is really impressive.\n\n85\n00:03:32.030 --> 00:03:36.030\n&gt;&gt; So Don, is this neglect a sign of them\nphasing it out or would you say it's just\n\n86\n00:03:36.030 --> 00:03:39.426\nso perfect that they haven't had to make\nany [LAUGH] advancements or changes?\n\n87\n00:03:39.426 --> 00:03:42.690\n&gt;&gt; Well, they haven't neglected it\n&gt;&gt; Been doing updates and improvements.\n\n88\n00:03:42.690 --> 00:03:44.020\nIt's all been on the back end though,\nright?\n\n89\n00:03:44.020 --> 00:03:46.740\nSo the user interface,\nthey just haven't changed, so\n\n90\n00:03:46.740 --> 00:03:48.190\nthey really haven't needed to I guess.\n\n91\n00:03:48.190 --> 00:03:51.890\nIt could stand to be a little prettier,\nbut its functionality-wise,\n\n92\n00:03:51.890 --> 00:03:54.590\nit is still being improved and maintained,\nso definitely feel free to use this.\n\n93\n00:03:54.590 --> 00:03:56.940\nDon't worry about it\ngoing away any time soon.\n\n94\n00:03:56.940 --> 00:04:00.220\nBut what I need to do is I need to get in\nhere and even though the tools ancient,\n\n95\n00:04:00.220 --> 00:04:02.410\nit's still serve exactly\nwhat purpose I need.\n\n96\n00:04:02.410 --> 00:04:03.700\nI need to get in and create my cluster.\n\n97\n00:04:03.700 --> 00:04:06.509\nSo I'm just gonna Right-click on\nnetwork load balancing clusters and\n\n98\n00:04:06.509 --> 00:04:07.360\nchoose New Cluster.\n\n99\n00:04:07.360 --> 00:04:10.139\nIf I already had one,\nI'd connect to an existing, but I don't.\n\n100\n00:04:10.139 --> 00:04:11.420\nSo I'll do a new one.\n\n101\n00:04:11.420 --> 00:04:13.850\nAnd now I need to specify the host\nthat I'm gonna connect to.\n\n102\n00:04:13.850 --> 00:04:15.960\nNow this is where things get\na little bit tricky, right?\n\n103\n00:04:15.960 --> 00:04:20.489\nBecause remember we need more than one\nnetwork adapter, a management adapter and\n\n104\n00:04:20.489 --> 00:04:22.710\na cluster adapter for our system.\n\n105\n00:04:22.710 --> 00:04:26.050\nSo when I punch in my\nnode that I wanna add,\n\n106\n00:04:26.050 --> 00:04:31.560\nI'm gonna add node1.lab.itpro.tv and\nI'll choose to connect,\n\n107\n00:04:31.560 --> 00:04:35.180\nit's gonna reach out, it's gonna find it\nand there's the two interfaces, right?\n\n108\n00:04:35.180 --> 00:04:39.688\nThe first one is 10.0.222.201,\nthat's my management interface.\n\n109\n00:04:39.688 --> 00:04:42.900\nI wanna leave that one alone so that I'll\nstill be able to get into this server.\n\n110\n00:04:42.900 --> 00:04:48.320\nThe second one is 192.168.0.201, that's\nthe one I wanna build the cluster on.\n\n111\n00:04:48.320 --> 00:04:51.990\nThat's the one that's facing the DMZ or\nthe internet, facing my firewall, and\n\n112\n00:04:51.990 --> 00:04:53.460\nthat's the one that I want to cluster on.\n\n113\n00:04:53.460 --> 00:04:56.320\nSo I need to make sure I\nchoose the right adapter,\n\n114\n00:04:56.320 --> 00:05:00.530\nthen when I move forward it's gonna ask\nme if there's more than one IP address,\n\n115\n00:05:00.530 --> 00:05:02.660\ncuz you can have more than one IP\naddress on the network adapter, right?\n\n116\n00:05:02.660 --> 00:05:06.720\nIf I'm load balancing for a web server,\nthen I might have more than one IP on\n\n117\n00:05:06.720 --> 00:05:09.960\nthat adapter because I have more than one\ndomain name mapped in different IP or\n\n118\n00:05:09.960 --> 00:05:11.010\nsomething of that nature.\n\n119\n00:05:11.010 --> 00:05:13.300\nBut typically we do just\nhave one IP address.\n\n120\n00:05:13.300 --> 00:05:15.904\nIt's got mine there, I can add or\nchange it if need be.\n\n121\n00:05:15.904 --> 00:05:21.260\nAll right, and that's the unique IP,\nthe dedicated IP for this node.\n\n122\n00:05:21.260 --> 00:05:23.090\nThere will be other nodes,\nthey'll have their own IP and\n\n123\n00:05:23.090 --> 00:05:25.920\nthen there'll be a shared IP\nwe'll see in just a moment.\n\n124\n00:05:25.920 --> 00:05:28.570\nNow, one thing that's on this screen that\nwe talked about a little bit earlier\n\n125\n00:05:28.570 --> 00:05:30.010\nwas the priority, right?\n\n126\n00:05:30.010 --> 00:05:33.381\nI've got a drop down box here here where\nI can choose the priority of this node,\n\n127\n00:05:33.381 --> 00:05:38.110\n1 through 32, and if I set this,\nI can change it later on.\n\n128\n00:05:38.110 --> 00:05:39.210\nI'm not locked in.\n\n129\n00:05:39.210 --> 00:05:42.361\nThat was what I mentioned earlier, you're\nnot locked in, you can change these easy,\n\n130\n00:05:42.361 --> 00:05:45.080\nbut this is how it's gonna determine\nwho's the master for this cluster and\n\n131\n00:05:45.080 --> 00:05:47.740\nwho isn't and the order of succession\nin the even that the master fails.\n\n132\n00:05:47.740 --> 00:05:50.009\nWe can choose that right there.\n\n133\n00:05:50.009 --> 00:05:53.589\nAnd since this is the first node that\nI'm creating, it's just doing one.\n\n134\n00:05:53.589 --> 00:05:56.080\nAnd then down here at the bottom,\nI've got the default state.\n\n135\n00:05:56.080 --> 00:05:58.100\nThe default state is started,\nwhich is what you want.\n\n136\n00:05:58.100 --> 00:06:00.570\nWhen the system boots up,\nyou want the start NLB, so\n\n137\n00:06:00.570 --> 00:06:02.580\nit's gonna be running as long\nas the system is running.\n\n138\n00:06:02.580 --> 00:06:03.700\nYou can stop it.\n\n139\n00:06:03.700 --> 00:06:07.070\nIf you choose stopped, then it's going\nto stay stopped until you come in and\n\n140\n00:06:07.070 --> 00:06:07.740\nrestart it again.\n\n141\n00:06:07.740 --> 00:06:10.480\nSo this is if you want to manually\ntake a node out for some reason.\n\n142\n00:06:10.480 --> 00:06:12.350\nMaybe doing maintenance for a long time.\n\n143\n00:06:12.350 --> 00:06:16.600\nIf you do suspended, it'll take it\nout of the cluster until you reboot.\n\n144\n00:06:16.600 --> 00:06:18.560\nAnd when you reboot it'll start again.\n\n145\n00:06:18.560 --> 00:06:20.620\nSo that's like temporarily stopping it.\n\n146\n00:06:20.620 --> 00:06:22.990\nBut start it is generally what we want,\nand that's what I'm gonna set to.\n\n147\n00:06:22.990 --> 00:06:27.280\nAnd then right here you got retain\nsuspended state after computer restarts.\n\n148\n00:06:27.280 --> 00:06:30.750\nNormally when you suspend,\nyou reboot and it comes right back up.\n\n149\n00:06:30.750 --> 00:06:35.190\nIf you check that, suspend operates a lot\nmore like stopped, that when you reboot,\n\n150\n00:06:35.190 --> 00:06:38.662\nit stays suspended, and\nthen you can start it when you're ready.\n\n151\n00:06:38.662 --> 00:06:44.120\nAll right, so I'm going to leave all\nthat set like it is, I'll move forward.\n\n152\n00:06:44.120 --> 00:06:48.758\nAnd now it's asking a really important\nquestion, what's gonna be my virtual IP?\n\n153\n00:06:48.758 --> 00:06:52.300\nThe shared IP that all\nthe nodes are gonna use.\n\n154\n00:06:52.300 --> 00:06:54.933\nThe end user, the customer,\nthe viewer, the visiter, or\n\n155\n00:06:54.933 --> 00:06:56.736\nwhatever, they're gonna see this IP.\n\n156\n00:06:56.736 --> 00:07:00.160\nAll right, and here's where I need to add\nin this shared IP that they're gonna use.\n\n157\n00:07:00.160 --> 00:07:05.130\n&gt;&gt; So this needs to be that IP\nassociated with donscats.com, or.\n\n158\n00:07:05.130 --> 00:07:06.100\n&gt;&gt; Yeah, absolutely.\n\n159\n00:07:06.100 --> 00:07:11.780\nSo what I really need to do here is if I\njump back over to my DNS server, right?\n\n160\n00:07:11.780 --> 00:07:16.210\nBefore I created this A record,\nwww.donscats.com,\n\n161\n00:07:16.210 --> 00:07:20.150\nwhich points to 192.168.02.201,\nthat's my main server.\n\n162\n00:07:20.150 --> 00:07:23.020\nBut I've got 202, that's my second server.\n\n163\n00:07:23.020 --> 00:07:24.632\nI want a virtual IP.\n\n164\n00:07:24.632 --> 00:07:27.000\nI'm gonna do 203,\nlet's pick the next one in line.\n\n165\n00:07:27.000 --> 00:07:28.930\nI need an IP that nobody else is using.\n\n166\n00:07:28.930 --> 00:07:33.540\nAnd I'm going to change that DNS record so\nthat instead of pointing to server one, or\n\n167\n00:07:33.540 --> 00:07:36.090\nnode one, or node two, for that matter.\n\n168\n00:07:36.090 --> 00:07:37.155\nI'm gonna point it to 203.\n\n169\n00:07:37.155 --> 00:07:41.055\nOr, maybe something completely overly,\nlike 222.\n\n170\n00:07:41.055 --> 00:07:43.710\nI'll do that one.\nSo, 192.162.0.222.\n\n171\n00:07:43.710 --> 00:07:48.651\nThat's going to be the shared IP that\nall of my cluster nodes are using.\n\n172\n00:07:48.651 --> 00:07:56.018\nAnd so now when a visitor comes, they're\nlooking for a server at 192.168.0.222 And\n\n173\n00:07:56.018 --> 00:08:00.204\nback here when I setup my cluster,\nI just add that IP in.\n\n174\n00:08:00.204 --> 00:08:05.364\nAnd so I'm gonna tell it,\nhey you've got 192.168.0.222 and\n\n175\n00:08:05.364 --> 00:08:07.468\nI punch in a subnet mask for it.\n\n176\n00:08:07.468 --> 00:08:10.166\nI don't need a default gateway\nbecause it will pull the gateway from\n\n177\n00:08:10.166 --> 00:08:11.073\nthe network adapter.\n\n178\n00:08:11.073 --> 00:08:13.225\nThe network adapter already\nhas a default gateway.\n\n179\n00:08:13.225 --> 00:08:18.408\nSo I punch that in and there we go now,\nI get to pick whether I want IPv4 which\n\n180\n00:08:18.408 --> 00:08:23.365\nis what I want or IPv6, or\nan automatically generated IPv6 address.\n\n181\n00:08:23.365 --> 00:08:25.184\nAnd here are the radio buttons.\n\n182\n00:08:25.184 --> 00:08:30.253\nSo if I choose IPv6 I lose IPv4, but\nthat doesn't mean you can't have both.\n\n183\n00:08:30.253 --> 00:08:31.531\nYou just set them up one at a time.\n\n184\n00:08:31.531 --> 00:08:34.190\nSo I'm setting up IPv4 right now.\n\n185\n00:08:34.190 --> 00:08:37.847\nThen I hit the Add button and\nI can add in an IPv6 address and\n\n186\n00:08:37.847 --> 00:08:40.844\nI can stick that onto the list or\nanother IPv4.\n\n187\n00:08:40.844 --> 00:08:43.873\nI can add multiple addresses and get\nthat configured the way that I want it.\n\n188\n00:08:43.873 --> 00:08:47.018\nAnd there it will be set up, but for\nme I just want an IPv4 network, so\n\n189\n00:08:47.018 --> 00:08:49.152\nI'm gonna stick the single\naddress in there.\n\n190\n00:08:49.152 --> 00:08:52.621\nIt's got the subnet mask and\nthat's everything I need.\n\n191\n00:08:52.621 --> 00:08:56.317\nAll right, then we get where it's\nkinda summarizing the settings\n\n192\n00:08:56.317 --> 00:09:00.085\nthat we've seen before but\nI get to specify the full Internet name.\n\n193\n00:09:00.085 --> 00:09:04.787\nThe full Internet name from mine\nis www.donscats.com, right?\n\n194\n00:09:04.787 --> 00:09:09.310\nSo we'll go ahead and type that in and\nit's tied to 192.168.0222.\n\n195\n00:09:09.310 --> 00:09:13.914\nYou can drop that down and pick your other\naddresses because you might have more than\n\n196\n00:09:13.914 --> 00:09:18.144\none domain name for each address and\nyou can kinda specify those right here.\n\n197\n00:09:18.144 --> 00:09:21.624\nAnd then, the all important operation mode\nwhich we already talked about a little\n\n198\n00:09:21.624 --> 00:09:22.235\nbit, right?\n\n199\n00:09:22.235 --> 00:09:26.961\nSo, Unicast well each machine maintains\ntheir own Mac address and the answer for\n\n200\n00:09:26.961 --> 00:09:28.780\nthe IP depending on workload.\n\n201\n00:09:28.780 --> 00:09:32.124\nWhoever is busy, won't answer,\nwhoever is not busy, will answer.\n\n202\n00:09:32.124 --> 00:09:34.730\nIn Unicast mode, we know it will work,\nthat's what I'm gonna do.\n\n203\n00:09:34.730 --> 00:09:38.305\nWe've also got Multicast mode and\nIGMP Multicast.\n\n204\n00:09:38.305 --> 00:09:41.164\nSo IGMP Multicast is\nreally the most efficient.\n\n205\n00:09:41.164 --> 00:09:41.903\n&gt;&gt; Ideal?\n\n206\n00:09:41.903 --> 00:09:45.413\n&gt;&gt; Yeah, if our network gear supports,\nif the network team is on board and\n\n207\n00:09:45.413 --> 00:09:49.098\nthey configure the routers, you have\nto have a couple of things in place for\n\n208\n00:09:49.098 --> 00:09:50.108\nIGMP to work right.\n\n209\n00:09:50.108 --> 00:09:53.416\nIf you don't have it though,\nyou can always get away with Unicast.\n\n210\n00:09:53.416 --> 00:09:57.580\nAll right, then, that is pretty much\nall it needs to know, except, well,\n\n211\n00:09:57.580 --> 00:10:02.005\ntechnically I could just hit Next a bunch\nand be done, but we get this one screen,\n\n212\n00:10:02.005 --> 00:10:03.268\nthe Port Rule screen.\n\n213\n00:10:03.268 --> 00:10:06.334\nAnd the port rules are kind of important,\nfor some people.\n\n214\n00:10:06.334 --> 00:10:12.172\nSo by default NLB will\nload balance everything.\n\n215\n00:10:12.172 --> 00:10:14.674\nAll traffic that goes to\nthe load balanced IP,\n\n216\n00:10:14.674 --> 00:10:17.763\nthe virtual IP will get balanced\nacross all the servers.\n\n217\n00:10:17.763 --> 00:10:19.353\nAnd the default rule is saying that.\n\n218\n00:10:19.353 --> 00:10:23.940\nIt's saying all cluster IP addresses,\nall ports,\n\n219\n00:10:23.940 --> 00:10:28.850\nport 0 to 65,535,\nall protocols, TCP and UDP.\n\n220\n00:10:28.850 --> 00:10:31.827\nIt's gonna load balance\nthem across the nodes.\n\n221\n00:10:31.827 --> 00:10:34.451\n&gt;&gt; So is there any kind of traffic that we\nreally wouldn't want to be load balanced?\n\n222\n00:10:34.451 --> 00:10:36.978\nIt sounds like there might be\nsome reasoning behind that.\n\n223\n00:10:36.978 --> 00:10:39.996\n&gt;&gt; Yeah, this is not intended\nto be used like a firewall.\n\n224\n00:10:39.996 --> 00:10:43.669\nSo I wouldn't wanna come in, you can\ncome in and block certain things, but\n\n225\n00:10:43.669 --> 00:10:45.724\nit's really about efficiency, right?\n\n226\n00:10:45.724 --> 00:10:46.934\nI'm running web servers.\n\n227\n00:10:46.934 --> 00:10:50.022\nWhat kind of traffic\ndoes a web server have?\n\n228\n00:10:50.022 --> 00:10:51.972\nTCP port 80, TCP port 443.\n\n229\n00:10:51.972 --> 00:10:54.846\nAnything else, I don't really care about.\n\n230\n00:10:54.846 --> 00:10:59.054\nAnd so, if I'm balancing traffic I don't\ncare about, that's eating up resources.\n\n231\n00:10:59.054 --> 00:11:01.758\nIt's taking away performance\nfrom my web farm.\n\n232\n00:11:01.758 --> 00:11:03.895\nSo it's not so\nmuch about security but performance.\n\n233\n00:11:03.895 --> 00:11:06.606\nThis is not a substitute for\na firewall, you still need a firewall,\n\n234\n00:11:06.606 --> 00:11:09.331\nthat's where your security comes from,\nbut this is performance.\n\n235\n00:11:09.331 --> 00:11:11.734\nSo I'm gonna remove that rule.\n\n236\n00:11:11.734 --> 00:11:16.169\nAnd I'm gonna add in new rules\nthat just do web traffic.\n\n237\n00:11:16.169 --> 00:11:19.867\nNow I get to pick the IP addresses it's\nanswering on or I can leave it at all.\n\n238\n00:11:19.867 --> 00:11:22.740\nI've only got one address so\nthere's not much for me to pick here, and\n\n239\n00:11:22.740 --> 00:11:23.628\nthen the port range.\n\n240\n00:11:23.628 --> 00:11:27.152\nYou can't say a single port,\nit always wants a range.\n\n241\n00:11:27.152 --> 00:11:29.815\nSo if you wanna do a single port you\njust have to put it into both fields.\n\n242\n00:11:29.815 --> 00:11:33.844\nI'm gonna be balancing port 80,\nso from 80 to 80.\n\n243\n00:11:33.844 --> 00:11:37.842\nAnd then, web traffic is just TCP,\nyou'll have to think about your protocol.\n\n244\n00:11:37.842 --> 00:11:41.297\nWhatever it is that you're balancing,\nmaybe it uses UDP, maybe it uses both.\n\n245\n00:11:41.297 --> 00:11:42.879\nAnd so,\nyou can choose that option right there.\n\n246\n00:11:42.879 --> 00:11:45.234\nMine uses just TCP.\n\n247\n00:11:45.234 --> 00:11:47.824\nThen, you get to pick the filtering mode.\n\n248\n00:11:47.824 --> 00:11:53.462\nNow, the default filtering mode,\nis that it is set for multiple hosts that\n\n249\n00:11:53.462 --> 00:11:58.488\nmeans that multiple nodes inside\nof a cluster can answer for this.\n\n250\n00:11:58.488 --> 00:12:01.723\nAnd when you're trying to improve\nperformance, that's exactly what you want.\n\n251\n00:12:01.723 --> 00:12:04.213\nThe next option is Single Host.\n\n252\n00:12:04.213 --> 00:12:08.567\nSingle Host says,\nI'm gonna try to improve performance.\n\n253\n00:12:08.567 --> 00:12:10.806\nI'm just trying to improve availability.\n\n254\n00:12:10.806 --> 00:12:13.863\nI want the traffic to all go to one node,\nand if that node fails,\n\n255\n00:12:13.863 --> 00:12:15.445\nthen send it to the second node.\n\n256\n00:12:15.445 --> 00:12:17.603\nAnd if that one fails,\nthen send it to the third.\n\n257\n00:12:17.603 --> 00:12:22.036\nSo I get no performance improvement,\nbut I do get high availability, right?\n\n258\n00:12:22.036 --> 00:12:24.526\nI keep my systems online\nin the event of a failure.\n\n259\n00:12:24.526 --> 00:12:27.690\nAnd then lastly there's disable the port\nrange, that means act like a firewall.\n\n260\n00:12:27.690 --> 00:12:31.487\nJust block this traffic, we don't even\nneed to forward that to the nodes, right?\n\n261\n00:12:31.487 --> 00:12:33.908\nWhich it's not,\nit is actually waste to bypass that,\n\n262\n00:12:33.908 --> 00:12:36.924\nit's not a great way to do it, so\nyou wanna have a firewall instead.\n\n263\n00:12:36.924 --> 00:12:40.993\nNow, under multiple hosts,\nI have some choices here.\n\n264\n00:12:40.993 --> 00:12:42.501\nAnd I was gonna talk about these later but\n\n265\n00:12:42.501 --> 00:12:45.126\nlet me talk about them now since it's\nright here on the screen with me.\n\n266\n00:12:45.126 --> 00:12:46.556\nYou have what's called Affinity.\n\n267\n00:12:46.556 --> 00:12:51.889\nAffinity says when somebody connects, how\ndoes it pick what node they go to, right?\n\n268\n00:12:51.889 --> 00:12:53.916\nWell, normally it's based on workload.\n\n269\n00:12:53.916 --> 00:12:57.679\nWhichever node is the least busy,\nthat's where you're gonna go,\n\n270\n00:12:57.679 --> 00:12:59.538\nthe very first time you connect.\n\n271\n00:12:59.538 --> 00:13:01.835\nBut the second time you connect,\nit's a different story.\n\n272\n00:13:01.835 --> 00:13:05.004\n&gt;&gt; Kinda like the preference that term\naffinity meaning who do you prefer?\n\n273\n00:13:05.004 --> 00:13:07.348\n&gt;&gt; Yes,\nthat's exactly that you have a preference.\n\n274\n00:13:07.348 --> 00:13:08.826\nAnd with the web server,\nthis is really important.\n\n275\n00:13:08.826 --> 00:13:11.256\nWith some protocols,\nit's not important at all, right?\n\n276\n00:13:11.256 --> 00:13:12.828\nLike if I had 20 DNS Servers behind here,\n\n277\n00:13:12.828 --> 00:13:15.022\nI don't not really care what\nDNS Server people connect to.\n\n278\n00:13:15.022 --> 00:13:16.670\nSo they can connect to\na different one every time.\n\n279\n00:13:16.670 --> 00:13:18.898\nBig deal, I can turn affinity off.\n\n280\n00:13:18.898 --> 00:13:21.893\nSay no offending each, connect to\nwhatever server you want, all right?\n\n281\n00:13:21.893 --> 00:13:26.129\nBut think about websites like Amazon.com.\n\n282\n00:13:26.129 --> 00:13:30.021\nIf I go to Amazon and\nI'm not logged in, what do I see?\n\n283\n00:13:30.021 --> 00:13:31.938\nI see a generic homepage, right?\n\n284\n00:13:31.938 --> 00:13:35.648\nThis homepage has a bunch of products\non it and it's just junk, right?\n\n285\n00:13:35.648 --> 00:13:39.093\nBut if I log in,\nall of a sudden I see recommended for me.\n\n286\n00:13:39.093 --> 00:13:39.814\n&gt;&gt; Of course.\n[LAUGH]\n\n287\n00:13:39.814 --> 00:13:40.314\n&gt;&gt; And I see my order history.\n\n288\n00:13:40.314 --> 00:13:41.449\nIt's customized,\n\n289\n00:13:41.449 --> 00:13:45.126\nit's what called a Session, right?\nI have a session with Amazon,\n\n290\n00:13:45.126 --> 00:13:47.845\nthey know who I am and\nthey know how to sell crap to me.\n\n291\n00:13:47.845 --> 00:13:51.453\n[LAUGH] So that's important.\n\n292\n00:13:51.453 --> 00:13:54.264\nIf I connect to one node, and\n\n293\n00:13:54.264 --> 00:13:57.551\nI log in.\nAnd then I click a link and I get sent to\n\n294\n00:13:57.551 --> 00:14:01.691\nnode two, I'm not logged in anymore.\nOr if I go to node three, I don't want to\n\n295\n00:14:01.691 --> 00:14:03.799\nhave to log in every time I move nodes.\nThat's crazy,\n\n296\n00:14:03.799 --> 00:14:05.214\nit would be a horrible user experience.\n&gt;&gt; Yes,\n\n297\n00:14:05.214 --> 00:14:07.009\nwe would have like a persistent session or\nsomething like that.\n\n298\n00:14:07.009 --> 00:14:08.801\nWe wanna make sure we retain that.\n\n299\n00:14:08.801 --> 00:14:10.448\n&gt;&gt; That's exactly what this is.\n\n300\n00:14:10.448 --> 00:14:11.953\nAnd so, the default,\n\n301\n00:14:11.953 --> 00:14:15.457\nwhen you choose multiple hosts.\nI'm changing it now, but\n\n302\n00:14:15.457 --> 00:14:19.805\nthe default was single, right?\nAnd that means that when a user connects,\n\n303\n00:14:19.805 --> 00:14:24.755\nit looks at their single IP address.\nTheir one IP address, and it says,\n\n304\n00:14:24.755 --> 00:14:29.152\nI'm gonna map you to node five.\nAnd, the whole rest of your session\n\n305\n00:14:29.152 --> 00:14:31.786\nyou're gonna stay on node five.\nAnd that way,\n\n306\n00:14:31.786 --> 00:14:34.834\nyou have that persistent experience.\nNow, on a positive side,\n\n307\n00:14:34.834 --> 00:14:38.499\nyour end users have an experience that\ndoesn't suck, that's good, right?\n\n308\n00:14:38.499 --> 00:14:39.672\nOn a negative side,\n\n309\n00:14:39.672 --> 00:14:43.836\nit makes it harder to load balance, right?\nBecause now you've got people coming in\n\n310\n00:14:43.836 --> 00:14:47.101\nand not going to the least busy server,\nthey're going to the server that has their\n\n311\n00:14:47.101 --> 00:14:47.717\nsession.\n&gt;&gt; And\n\n312\n00:14:47.717 --> 00:14:51.788\nI can do a lot more shopping than Don\nmight be doing, or something like that.\n\n313\n00:14:51.788 --> 00:14:52.625\n&gt;&gt; Maybe not.\n\n314\n00:14:52.625 --> 00:14:53.599\n[LAUGH] You never know.\n\n315\n00:14:53.599 --> 00:14:55.037\n&gt;&gt; I challenge you.\n\n316\n00:14:55.037 --> 00:14:57.471\n[LAUGH]\n&gt;&gt; [LAUGH] Let's go buy CAD accessories.\n\n317\n00:14:57.471 --> 00:14:59.593\nSo you can set a time out though.\n\n318\n00:14:59.593 --> 00:15:03.025\nThat it says like when you have a session,\nhere's how long I'm gonna track it for.\n\n319\n00:15:03.025 --> 00:15:04.187\nI don't wanna track it forever.\n\n320\n00:15:04.187 --> 00:15:06.609\nWell, the default is it\nactually does track it for\n\n321\n00:15:06.609 --> 00:15:09.444\na long time until the database stills and\nit kinda resets.\n\n322\n00:15:09.444 --> 00:15:10.734\nBut you can set a limit.\n\n323\n00:15:10.734 --> 00:15:12.522\nAnd so maybe I'll only track it for\nan hour, and\n\n324\n00:15:12.522 --> 00:15:14.682\nso for an hour,\nyou're guaranteed you're on one node.\n\n325\n00:15:14.682 --> 00:15:18.193\nBut once that hour is up, if you haven't\nbeen here, it allow then we'll send you in\n\n326\n00:15:18.193 --> 00:15:20.923\nwhich ever nodes available that\ncan help out with that, right?\n\n327\n00:15:20.923 --> 00:15:25.355\nAnd you can even perform it's a little\nbit more by switching the network.\n\n328\n00:15:25.355 --> 00:15:30.004\nNetwork is a funny one, it says, I'm\nnot gonna track your single IP anymore,\n\n329\n00:15:30.004 --> 00:15:33.392\nI'm instead going to track\nyour class C subnet, right?\n\n330\n00:15:33.392 --> 00:15:37.298\nAnd by class C it look to your IP\naddress and takes first three octets, so\n\n331\n00:15:37.298 --> 00:15:38.871\nlike 192.168.0.\n\n332\n00:15:38.871 --> 00:15:44.173\nAnd it says anybody coming from 192.168.0\nis gonna go to this particular node and\n\n333\n00:15:44.173 --> 00:15:47.327\nthat helps reduce some of\nthe workload of the server.\n\n334\n00:15:47.327 --> 00:15:51.102\nCuz it can have hundreds of people that\nare all covered by one affinity rule.\n\n335\n00:15:51.102 --> 00:15:52.574\nOkay, so just thinking about that,\n\n336\n00:15:52.574 --> 00:15:54.713\nmaybe like utilizing network\naddress translation.\n\n337\n00:15:54.713 --> 00:15:57.892\nIs that kind of where\nthe idea comes from or?\n\n338\n00:15:57.892 --> 00:16:03.310\n&gt;&gt; This one doesn't really benefit the end\nuser so much as it benefits us, right?\n\n339\n00:16:03.310 --> 00:16:07.627\nBecause when you're tracking a single IP,\nI could have 100 users, that's 100 rules I\n\n340\n00:16:07.627 --> 00:16:11.253\ngot to track, 100 sessions, I've gotta\nremember what node they were on.\n\n341\n00:16:11.253 --> 00:16:14.790\nBut if we do it as a subnet,\nnow it's entire networks.\n\n342\n00:16:14.790 --> 00:16:17.917\nAnd so I'm gonna have one rule\nthat covers hundreds of people,\n\n343\n00:16:17.917 --> 00:16:20.631\nthat's far easier for\nNLB to keep of track of, right?\n\n344\n00:16:20.631 --> 00:16:24.680\nAnd when people get and going to\nthe internet, they're getting public IPs.\n\n345\n00:16:24.680 --> 00:16:29.690\nAnd so it would really be like a group\nof IPs from the same service provider.\n\n346\n00:16:29.690 --> 00:16:33.320\nWe'll all get to this one node, and\nthat's not always the greatest,\n\n347\n00:16:33.320 --> 00:16:36.130\nthat's why single is\nchosen as the default.\n\n348\n00:16:36.130 --> 00:16:40.200\nYou have to have a really\nreally really high-volume site,\n\n349\n00:16:40.200 --> 00:16:42.455\nto need to switch over to network.\n\n350\n00:16:42.455 --> 00:16:44.560\nAnd most of us, aren't that fortunate.\n\n351\n00:16:44.560 --> 00:16:48.186\n[LAUGH] If you're running twitter-\n&gt;&gt; You're just setting your expectations\n\n352\n00:16:48.186 --> 00:16:49.374\nso low for our site, Don.\n\n353\n00:16:49.374 --> 00:16:51.283\n[LAUGH]\n&gt;&gt; Well, on a positive side,\n\n354\n00:16:51.283 --> 00:16:52.725\nyou could always come in and\nchange it, right?\n\n355\n00:16:52.725 --> 00:16:55.984\nSo when your site goes viral and\nblows up, then there you go.\n\n356\n00:16:55.984 --> 00:16:58.382\nBut yeah, I just don't see the demand for\nDon's cats being there.\n\n357\n00:16:58.382 --> 00:16:59.444\n&gt;&gt; [LAUGH]\n&gt;&gt; But we'll see.\n\n358\n00:16:59.444 --> 00:17:01.607\n[LAUGH]\n&gt;&gt; Ye with little faith.\n\n359\n00:17:01.607 --> 00:17:02.609\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n360\n00:17:02.609 --> 00:17:04.276\n&gt;&gt; Never underestimate people's demand for\n\n361\n00:17:04.276 --> 00:17:05.113\ncat entertainment.\n\n362\n00:17:05.113 --> 00:17:07.887\nSo I created that rule right there for\nport 80,\n\n363\n00:17:07.887 --> 00:17:10.805\nI'm gonna add the same exact rule for\nport 443.\n\n364\n00:17:10.805 --> 00:17:12.765\nAnd so I can come in, and\nI can start to specify that.\n\n365\n00:17:12.765 --> 00:17:18.442\nI'll just say traffic from 443 to 443,\nit'll be TCP traffic, I'll stick with\n\n366\n00:17:18.442 --> 00:17:23.679\na multiple filtering mode going, based\non a single IP, and I'll add that row.\n\n367\n00:17:23.679 --> 00:17:26.837\nAnd I can add any other ports that\nI needed, I could add exclusions,\n\n368\n00:17:26.837 --> 00:17:29.063\nmaybe I don't want to\nbalance certain things.\n\n369\n00:17:29.063 --> 00:17:31.534\nAnd we can go in, and\nyou kind of set that up.\n\n370\n00:17:31.534 --> 00:17:35.293\nAnd you can always come in and\nchange these later as well.\n\n371\n00:17:35.293 --> 00:17:39.253\nAll right, once that's done,\nI can finish up, and\n\n372\n00:17:39.253 --> 00:17:42.583\ntechnically, I just created NLB cluster.\n\n373\n00:17:42.583 --> 00:17:43.367\n&gt;&gt; God job!\n\n374\n00:17:43.367 --> 00:17:45.320\n[LAUGH]\n&gt;&gt; [LAUGH] It's pretty lame,\n\n375\n00:17:45.320 --> 00:17:47.300\nbecause it's only got one node, right?\n\n376\n00:17:47.300 --> 00:17:48.682\nOne node is not terribly helpful.\n\n377\n00:17:48.682 --> 00:17:52.700\nBut I can add more nodes here soon, and\nwe'll really see some impressive stuff.\n\n378\n00:17:52.700 --> 00:17:54.832\nNow, I have to wait, I'm stalling.\n\n379\n00:17:54.832 --> 00:17:58.958\nAnd the reason is your nodes have\nto do what's called convergence.\n\n380\n00:17:58.958 --> 00:18:01.256\nAny time you make a change to the cluster,\n\n381\n00:18:01.256 --> 00:18:04.485\nall the nodes have to learn\nabout the change and accept it.\n\n382\n00:18:04.485 --> 00:18:05.947\nAccept the change, right?\n\n383\n00:18:05.947 --> 00:18:09.244\n&gt;&gt; So exponentially, if we had multiple\nnodes, this could take some time?\n\n384\n00:18:09.244 --> 00:18:09.961\n&gt;&gt; It could, yep.\n\n385\n00:18:09.961 --> 00:18:10.988\nAnd I only had one node, and\n\n386\n00:18:10.988 --> 00:18:13.149\nthis still took a second there for\nthis one node to learn.\n\n387\n00:18:13.149 --> 00:18:15.850\nBut when you're converged,\nit's kind of hard to see, but\n\n388\n00:18:15.850 --> 00:18:18.725\nthe little computer icon has\na green square around it, right?\n\n389\n00:18:18.725 --> 00:18:19.922\nSo it's kind of like a green light.\n\n390\n00:18:19.922 --> 00:18:20.663\nYes, we're converged.\n\n391\n00:18:20.663 --> 00:18:23.788\nAnd I could see right here on the status,\nit actually says converged, so\n\n392\n00:18:23.788 --> 00:18:25.029\nI know that it's good to go.\n\n393\n00:18:25.029 --> 00:18:29.486\nAnytime you make a change to the cluster,\nyou need the hands off the keyboard, and\n\n394\n00:18:29.486 --> 00:18:32.560\nwait a moment until you see\nall green lights, okay?\n\n395\n00:18:32.560 --> 00:18:35.860\nSo I know I wanna add a second node,\nbut I need to wait,\n\n396\n00:18:35.860 --> 00:18:38.450\nwait until I get that green light,\nand now we're in business, right?\n\n397\n00:18:38.450 --> 00:18:40.120\nSo my cluster is up.\n\n398\n00:18:40.120 --> 00:18:43.760\nThis server should be\nanswering from 192.168.0.222,\n\n399\n00:18:43.760 --> 00:18:49.440\nwhich we have mapped www.donscats.com to,\nand so now it's up, and it's going.\n\n400\n00:18:49.440 --> 00:18:53.311\nBut I wanna add more nodes to\nreally get that flexibility in.\n\n401\n00:18:53.311 --> 00:18:54.505\nAll right, adding nodes is pretty easy.\n\n402\n00:18:54.505 --> 00:18:58.764\nWe just right-click on the cluster, not on\nnetwork load balancing clusters up top,\n\n403\n00:18:58.764 --> 00:19:00.980\nbut on the actual name of the cluster.\n\n404\n00:19:00.980 --> 00:19:04.233\nSo when I right-click on www.donscats.com,\n\n405\n00:19:04.233 --> 00:19:07.339\nI can choose add a host to the cluster,\nright?\n\n406\n00:19:07.339 --> 00:19:08.879\nSo easy enough to add them in, and\n\n407\n00:19:08.879 --> 00:19:12.248\nyou can always remove host from\nthe cluster as well, but I'm gonna add.\n\n408\n00:19:12.248 --> 00:19:15.549\nAnd when I add, it's a very similar\nprocess to what we you just went through.\n\n409\n00:19:15.549 --> 00:19:19.789\nI'm gonna add in node02.lab.itpro.tv.\n\n410\n00:19:19.789 --> 00:19:22.930\nAnd when it connects, it'll see that\nthat node has two network adapters.\n\n411\n00:19:22.930 --> 00:19:26.440\nAnd just like before, I'm gonna make sure\nto choose the one that's facing the DMZ,\n\n412\n00:19:26.440 --> 00:19:27.370\nso I can get that in.\n\n413\n00:19:27.370 --> 00:19:30.520\nNow, occasionally,\nyou'll bump into a problem, and\n\n414\n00:19:30.520 --> 00:19:34.730\nI think I'm about to bump into it, where\nthe name resolution might not work right.\n\n415\n00:19:34.730 --> 00:19:38.390\nAnd that's because the cluster\nnode is actually doing the lookup,\n\n416\n00:19:38.390 --> 00:19:40.800\nnot the machine where\nyou're running this tool.\n\n417\n00:19:40.800 --> 00:19:44.880\nAnd so in this scenario,\nit might not find it by name.\n\n418\n00:19:44.880 --> 00:19:48.185\nAnd so if it sits here and\nit doesn't find it like mine's doing.\n\n419\n00:19:48.185 --> 00:19:50.991\nSo it says connecting, and\nit's kinda sitting there.\n\n420\n00:19:50.991 --> 00:19:53.792\nIf you wait long enough,\neventually, it will find it.\n\n421\n00:19:53.792 --> 00:19:54.385\nThere it goes.\n\n422\n00:19:54.385 --> 00:19:56.114\n&gt;&gt; But\nit might be faster to put that IP in?\n\n423\n00:19:56.114 --> 00:19:57.490\n&gt;&gt; Absolutely, you're exactly right.\n\n424\n00:19:57.490 --> 00:20:00.101\nYeah, if I put the IP in,\nit'll find it really fast, right?\n\n425\n00:20:00.101 --> 00:20:01.559\nSo if you bump into that.\n\n426\n00:20:01.559 --> 00:20:03.862\nNow, I don't like to do that,\nand I have a really dumb reason.\n\n427\n00:20:03.862 --> 00:20:05.060\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n428\n00:20:05.060 --> 00:20:06.314\n&gt;&gt; Let's hear it.\n\n429\n00:20:06.314 --> 00:20:07.510\n&gt;&gt; When you add the node by IP,\n\n430\n00:20:07.510 --> 00:20:11.105\nit actually shows up at the management\ntool by IP, and it doesn't look as pretty.\n\n431\n00:20:11.105 --> 00:20:12.748\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] And so\n\n432\n00:20:12.748 --> 00:20:15.422\nif you can be a little patient,\nyou do the name and wait, like I did, and\n\n433\n00:20:15.422 --> 00:20:16.413\nthen it'll come up here.\n\n434\n00:20:16.413 --> 00:20:20.185\nAnd so here it is, and I can prick\nthe appropriate IP that I want to manage.\n\n435\n00:20:20.185 --> 00:20:23.265\nAgain, remembering I'm wanna leave\nthe management interface alone,\n\n436\n00:20:23.265 --> 00:20:25.235\nso I can still remote into this server.\n\n437\n00:20:25.235 --> 00:20:26.760\nIt's got the specific IP.\n\n438\n00:20:26.760 --> 00:20:30.740\nI'll choose my DMZ interface,\nand I'll move forward.\n\n439\n00:20:30.740 --> 00:20:33.390\nAnd now,\nthe rest of this wizard is really easy.\n\n440\n00:20:33.390 --> 00:20:38.230\nBecause it learns all of the settings\nfrom the existing nodes, right?\n\n441\n00:20:38.230 --> 00:20:41.240\nSo it's asking me to pick a priority,\nand see how this one did priority 2?\n\n442\n00:20:41.240 --> 00:20:44.925\nCuz it knows priority 1 is already taken,\nso it just goes to the next available.\n\n443\n00:20:44.925 --> 00:20:47.837\nIt's got the IP address right here,\nthe default mode is started,\n\n444\n00:20:47.837 --> 00:20:48.776\nthat's what I want.\n\n445\n00:20:48.776 --> 00:20:51.990\nAnd as I move forward,\nall the port rules are the same.\n\n446\n00:20:51.990 --> 00:20:56.050\nNow, you can actually define different\nport rules on individual cluster nodes.\n\n447\n00:20:56.050 --> 00:20:58.370\nIt's not a good idea, but you can do it.\n\n448\n00:20:58.370 --> 00:21:02.277\nNormally, we want common port rules\namongst all the nodes in the cluster.\n\n449\n00:21:02.277 --> 00:21:04.364\nSo we normally edit these\nat the cluster level, but\n\n450\n00:21:04.364 --> 00:21:07.380\nits giving me the option to edit\nthem right here on this node.\n\n451\n00:21:07.380 --> 00:21:13.593\nI might have 32 nodes, and only 16 of\nthem have IIS, and the other 16 have DNS.\n\n452\n00:21:13.593 --> 00:21:17.857\nAnd so I might have different rules\nover who gets DNS and who gets IIS.\n\n453\n00:21:17.857 --> 00:21:21.420\nNow, in real life, I just set up two\nclusters, it makes a lot more sense.\n\n454\n00:21:21.420 --> 00:21:23.779\nBut you have the ability\nto be granular like that.\n\n455\n00:21:23.779 --> 00:21:24.397\n&gt;&gt; I'm kind of curious.\n\n456\n00:21:24.397 --> 00:21:27.172\nI wonder if you were using\nthis as like a web server.\n\n457\n00:21:27.172 --> 00:21:29.824\nAnd then you had some kind of\ne-commerce checkout portion.\n\n458\n00:21:29.824 --> 00:21:34.687\nSo would you maybe be able to flow that\ntraffic for HTTPS to a server that had\n\n459\n00:21:34.687 --> 00:21:39.630\nbetter processor that could compute\nthat encryption a little bit faster,\n\n460\n00:21:39.630 --> 00:21:41.132\nsomething like that?\n\n461\n00:21:41.132 --> 00:21:43.869\n&gt;&gt; You could, in real life land, normally,\n\n462\n00:21:43.869 --> 00:21:45.125\nlike when you-\n&gt;&gt; [LAUGH]\n\n463\n00:21:45.125 --> 00:21:45.703\n&gt;&gt; Go to Amazon,\n\n464\n00:21:45.703 --> 00:21:48.407\nand you're just logged in and\nyou're searching their products,\n\n465\n00:21:48.407 --> 00:21:49.673\nyou're on one set of servers.\n\n466\n00:21:49.673 --> 00:21:50.532\nAnd when you go to buy,\n\n467\n00:21:50.532 --> 00:21:52.983\nyou're actually moved to an entirely\nseparate set of servers.\n\n468\n00:21:52.983 --> 00:21:55.720\nCuz the security level has to be so\nmuch higher.\n\n469\n00:21:55.720 --> 00:21:58.400\nSo you've got that ability\nwithin the cluster, but\n\n470\n00:21:58.400 --> 00:22:00.690\nusually it is two completely\nseparate clusters.\n\n471\n00:22:00.690 --> 00:22:03.640\nSo that one you can add the way\nhigher security information set.\n\n472\n00:22:03.640 --> 00:22:06.560\nSo you've got the flexibility\ndo either way.\n\n473\n00:22:06.560 --> 00:22:10.102\nThe tools are there, even though we\nmight not necessarily use them, right?\n\n474\n00:22:10.102 --> 00:22:13.133\nNow, that was actually really good timing,\nbecause while we waited,\n\n475\n00:22:13.133 --> 00:22:14.496\nif you are watching the screen,\n\n476\n00:22:14.496 --> 00:22:18.157\nyou probably saw where it went pending on\nnode 2, and then it switched to converged.\n\n477\n00:22:18.157 --> 00:22:20.862\nNow, I've got a real cluster.\n\n478\n00:22:20.862 --> 00:22:25.609\nTraffic going to the doncats website is\ngoing to be load-balanced between these\n\n479\n00:22:25.609 --> 00:22:26.318\ntwo nodes.\n\n480\n00:22:26.318 --> 00:22:31.511\nNow, if I wanna test that out, I could\njump over to another machine somewhere,\n\n481\n00:22:31.511 --> 00:22:34.235\nand I could fire up a web browser, right?\n\n482\n00:22:34.235 --> 00:22:39.108\nSo here I've got a web browser, and when\nI go to www.donscats.com, it's going to,\n\n483\n00:22:39.108 --> 00:22:43.477\nyou know what, actually Internet Explorer\ndoes this annoying caching thing, so\n\n484\n00:22:43.477 --> 00:22:44.520\nI need to close it.\n\n485\n00:22:44.520 --> 00:22:48.025\nLet me just make sure my DNS is, whoops.\n\n486\n00:22:48.025 --> 00:22:50.329\n[LAUGH] Let me see how many different-\n&gt;&gt; [LAUGH]\n\n487\n00:22:50.329 --> 00:22:51.387\n&gt;&gt; [INAUDIBLE] of Windows I can\n\n488\n00:22:51.387 --> 00:22:51.920\npop up here.\n\n489\n00:22:51.920 --> 00:22:53.658\n&gt;&gt; [LAUGH] That was so\nevil and sinister, really.\n\n490\n00:22:53.658 --> 00:22:54.815\n&gt;&gt; I know.\n[LAUGH]\n\n491\n00:22:54.815 --> 00:22:55.315\n&gt;&gt; Wa-ha-ha, yes.\n\n492\n00:22:55.315 --> 00:22:58.663\n&gt;&gt; So DNS is the enemy of change, right?\n\n493\n00:22:58.663 --> 00:23:01.768\nSo [LAUGH] when I made that DNS change,\n\n494\n00:23:01.768 --> 00:23:04.671\nI may have cached the old value, so\n\n495\n00:23:04.671 --> 00:23:08.594\nI just need to do a quick test.\nAnd there's actually two different tests,\n\n496\n00:23:08.594 --> 00:23:11.134\nI need to do.\nSo I need to just do a quick NSlookup of\n\n497\n00:23:11.134 --> 00:23:15.124\nwww.donscats.com, and\nmake sure that I haven't cached 201,\n\n498\n00:23:15.124 --> 00:23:18.721\nwhich I haven't, I see that I got 222.\nNSlookup though,\n\n499\n00:23:18.721 --> 00:23:22.217\nit bypasses your local cache.\nNSlookup always go straight to\n\n500\n00:23:22.217 --> 00:23:25.763\nthe nameserver, so\nI'm also gonna do an ipconfig/flushdns,\n\n501\n00:23:25.763 --> 00:23:28.914\njust to make sure I don't have\na local resolver cache, so\n\n502\n00:23:28.914 --> 00:23:32.676\nthat I am definitely getting the new IP.\nAnd now I can test it out,\n\n503\n00:23:32.676 --> 00:23:37.147\nif I ping donscats.com, I expect this\nto fail, because I didn't create\n\n504\n00:23:37.147 --> 00:23:40.581\na load-balancing rule for ICNP, right?\n&gt;&gt; Gotcha.\n\n505\n00:23:40.581 --> 00:23:41.898\n&gt;&gt; So it's not gonna load-balance, so\n\n506\n00:23:41.898 --> 00:23:43.126\nI expect it to fail.\nBut the important part-\n\n507\n00:23:43.126 --> 00:23:44.813\n&gt;&gt; You just specified that web traffic.\n\n508\n00:23:44.813 --> 00:23:45.715\n&gt;&gt; Right, yep, and so\n\n509\n00:23:45.715 --> 00:23:48.212\nthe important part here is\nthat I can see the IP address,\n\n510\n00:23:48.212 --> 00:23:49.752\nthat it did resolve to 222, and\n\n511\n00:23:49.752 --> 00:23:53.743\nI know that I used my local cache as well.\nSo now if I switch back to\n\n512\n00:23:53.743 --> 00:23:59.283\nInternet Explorer,\nmy favorite web browser on the planet.\n\n513\n00:23:59.283 --> 00:24:03.300\nOr actually I wanna do this yeah and\n\n514\n00:24:03.300 --> 00:24:07.880\nI go to www.doncats.com.\n\n515\n00:24:07.880 --> 00:24:10.130\nI got NODE01, I got NODE01.\n\n516\n00:24:11.410 --> 00:24:13.370\nI know the cluster's up,\nbecause I went to the virtual IP.\n\n517\n00:24:13.370 --> 00:24:16.020\nAnd the virtual IP was\nbeing answered by NODE01.\n\n518\n00:24:16.020 --> 00:24:18.980\nBut I got NODE01 before, so,\n&gt;&gt; Let's try it again.\n\n519\n00:24:18.980 --> 00:24:20.130\n&gt;&gt; Do I really know it worked?\n\n520\n00:24:20.130 --> 00:24:23.380\nWell, let's try it again,\nthat's what you would think, right?\n\n521\n00:24:23.380 --> 00:24:25.370\nBut, remember infinity?\n\n522\n00:24:25.370 --> 00:24:26.720\nThe IP address.\n\n523\n00:24:26.720 --> 00:24:29.783\n&gt;&gt; Well,\nit's mapped my IP address to NODE01.\n\n524\n00:24:29.783 --> 00:24:31.390\n&gt;&gt; Okay\n&gt;&gt; So, even if I refresh,\n\n525\n00:24:31.390 --> 00:24:32.300\nI'm gonna keep going to NODE01.\n\n526\n00:24:32.300 --> 00:24:35.280\n&gt;&gt; So\nlike I would have to try to access that.\n\n527\n00:24:35.280 --> 00:24:37.760\n&gt;&gt; Or, because then you might get NODE01,\nright?\n\n528\n00:24:37.760 --> 00:24:39.332\nCuz NODE01 is kinda\nsitting idle right now.\n\n529\n00:24:39.332 --> 00:24:40.950\nSo why send somebody to node two?\n\n530\n00:24:40.950 --> 00:24:44.430\nSo if you really wanna test,\nyou have to simulate a failure.\n\n531\n00:24:44.430 --> 00:24:47.140\n&gt;&gt; Okay.\n&gt;&gt; What if I simulate NODE01 failing?\n\n532\n00:24:47.140 --> 00:24:48.580\n&gt;&gt; Bring it offline and try it that way.\n\n533\n00:24:48.580 --> 00:24:49.340\n&gt;&gt; Absolutely.\n\n534\n00:24:49.340 --> 00:24:53.020\nSo if I just back over to my\nmanagement tool, I can come in here and\n\n535\n00:24:53.020 --> 00:24:57.850\nI can take a node, like NODE01, and if you\nRight-click on it you can delete the host.\n\n536\n00:24:57.850 --> 00:24:58.550\nThat's fun.\n\n537\n00:24:58.550 --> 00:25:00.760\nI don't want to do that,\nI just want to temporarily kick it out.\n\n538\n00:25:00.760 --> 00:25:01.570\nRight?\n\n539\n00:25:01.570 --> 00:25:06.760\nSo if I go to ControlHost I've\ngot five options on what to do.\n\n540\n00:25:06.760 --> 00:25:07.300\nOkay?\n\n541\n00:25:07.300 --> 00:25:10.010\nStart, Stop, Drainstop,\nSuspend, and Resume.\n\n542\n00:25:10.010 --> 00:25:10.620\nAll right?\n\n543\n00:25:10.620 --> 00:25:12.555\nStart and Stop, just like the name means.\n\n544\n00:25:12.555 --> 00:25:16.120\nRight, I can stop it,\nwhich will effectively shut it down.\n\n545\n00:25:16.120 --> 00:25:17.940\nIt doesn't actually shut it down, but\n\n546\n00:25:17.940 --> 00:25:21.000\nit takes it out of NLB, so\nnode traffic can get sent to it.\n\n547\n00:25:21.000 --> 00:25:22.510\nStarted to get it back on again.\n\n548\n00:25:22.510 --> 00:25:26.640\nThat process takes time.I can suspend\nit which is much faster, right?\n\n549\n00:25:26.640 --> 00:25:28.425\nIt basically pauses it.\n\n550\n00:25:28.425 --> 00:25:29.580\nAnd says don't send more traffic to it.\n\n551\n00:25:29.580 --> 00:25:31.960\nAnd then I can resume.\n\n552\n00:25:31.960 --> 00:25:34.030\nBut Drainstop is the best one.\n\n553\n00:25:34.030 --> 00:25:38.350\nDrainstop says don't send\nany new traffic to the node.\n\n554\n00:25:38.350 --> 00:25:40.790\nBut if there's anybody on it right now,\nlet them finish.\n\n555\n00:25:40.790 --> 00:25:42.915\nLet them do what,\nlet them finish their shopping experience.\n\n556\n00:25:42.915 --> 00:25:45.470\n&gt;&gt; [LAUGH]\n&gt;&gt; So if I configured Affinity\n\n557\n00:25:45.470 --> 00:25:50.310\nwith a three hour time out, I can do\nDrainstop and then wait three hours, and\n\n558\n00:25:50.310 --> 00:25:52.800\nin three hours I would know that\neverybody was off of this node.\n\n559\n00:25:52.800 --> 00:25:53.870\nAnd you don't even have to wait that long.\n\n560\n00:25:53.870 --> 00:25:56.170\nAs soon as everybody's off the node,\nit'll stop it for you.\n\n561\n00:25:56.170 --> 00:25:59.140\nBut that's a great way, if I want to\ntake the server offline in the middle of\n\n562\n00:25:59.140 --> 00:26:02.290\nthe day, I can Drainstop it,\nnobody will even notice.\n\n563\n00:26:02.290 --> 00:26:04.030\nNobody get impacted, right?\n\n564\n00:26:04.030 --> 00:26:06.340\nBut since this is a new cluster, and\nI don't care I'm gonna choose stop.\n\n565\n00:26:06.340 --> 00:26:06.840\n&gt;&gt; Drainstop?\n&gt;&gt; [LAUGH]\n\n566\n00:26:06.840 --> 00:26:08.110\n&gt;&gt; I wonder who came up with that name.\n\n567\n00:26:08.110 --> 00:26:12.000\n&gt;&gt; So I'm stopping NODE01, and\nnow I can see that NODE01 has gone red.\n\n568\n00:26:12.000 --> 00:26:14.740\nRight, instead of a green\nsquare behind it, it's red.\n\n569\n00:26:14.740 --> 00:26:19.218\nIt's no longer considered converged,\nit's now considered stopped right?\n\n570\n00:26:19.218 --> 00:26:24.830\nSo it's offline, and so now if I go back\nto that machine, and just to be fair,\n\n571\n00:26:24.830 --> 00:26:28.310\nI'm gonna close that window and\nopen Internet Explorer all over again.\n\n572\n00:26:28.310 --> 00:26:30.596\nWhich apparently I've opened\nmultiple times already.\n\n573\n00:26:30.596 --> 00:26:36.040\nAnd I'm gonna go back in here and\nwe're gonna go to WWW.DonsCats.com.\n\n574\n00:26:36.040 --> 00:26:38.930\nAnd when I go and pull it up, darn it.\n\n575\n00:26:38.930 --> 00:26:39.460\n&gt;&gt; Okay, Don.\n\n576\n00:26:39.460 --> 00:26:42.010\nCould this possibly be that DNS issue?\n\n577\n00:26:42.010 --> 00:26:43.880\n&gt;&gt; Yeah.\nSo DNS shouldn't be the problem,\n\n578\n00:26:43.880 --> 00:26:48.300\nbecause the IP doesn't change, but\nthe cached webpage is a problem so\n\n579\n00:26:48.300 --> 00:26:51.320\nI got to delete that out of IE, which is\nwhat I'm doing here in the background.\n\n580\n00:26:51.320 --> 00:26:56.160\nWhen you're in unicast mode and you're\ntesting the machine on the same network\n\n581\n00:26:56.160 --> 00:27:00.190\nas the load balance cluster, there\ncould be an ARP caching issue, right?\n\n582\n00:27:00.190 --> 00:27:03.350\nSo I'm in unicast mode, so\nI got the Mac address of node one and\n\n583\n00:27:03.350 --> 00:27:05.530\nI haven't necessarily learned\nthe Mac address of node two.\n\n584\n00:27:05.530 --> 00:27:07.240\nSo you might need to flush your ARP cache.\n\n585\n00:27:07.240 --> 00:27:11.750\nDo like an ARP-d star or ARP-d in the Mac\naddress that you got to clear out.\n\n586\n00:27:11.750 --> 00:27:13.870\nThat wouldn't happen to any customer.\n\n587\n00:27:13.870 --> 00:27:17.600\nSomebody on different subnet, they don't\ncache that ARP value like that so it's not\n\n588\n00:27:17.600 --> 00:27:20.370\na problem, but because I'm testing on\nthe same subnet that may be it too.\n\n589\n00:27:20.370 --> 00:27:22.790\nSo in the background here\nI'm flushing both of those.\n\n590\n00:27:22.790 --> 00:27:26.202\nBut now that it's done, let's fire\na buddy, we'll give it another shot here.\n\n591\n00:27:26.202 --> 00:27:31.200\nAnd I'm gonna launch up IE, and\nI'm gonna go to www.donscats.com.\n\n592\n00:27:31.200 --> 00:27:32.950\nThere we go, all right.\n\n593\n00:27:32.950 --> 00:27:35.890\nSo In this case, I get NODE02.\n\n594\n00:27:35.890 --> 00:27:40.450\nSo it's actually failed me over, I'm now\non the other node, and as an end user,\n\n595\n00:27:40.450 --> 00:27:42.390\nthat would have happened seamlessly.\n\n596\n00:27:42.390 --> 00:27:46.770\nAgain I'm on the same network as my\ncluster, so I had a little extra to do.\n\n597\n00:27:46.770 --> 00:27:50.140\nBut I've flipped over and we're good, and\nnow that we've tested it out I can just\n\n598\n00:27:50.140 --> 00:27:55.220\njump back over here to the actual\ncluster and I can take NODE01.\n\n599\n00:27:55.220 --> 00:27:56.871\nAnd I can [CROSSTALK]\n&gt;&gt; Bring it back online?\n\n600\n00:27:56.871 --> 00:27:58.560\n&gt;&gt; Yeah.\nWe just go control host,\n\n601\n00:27:58.560 --> 00:28:00.540\nstart it and it's gonna bring it back up.\n\n602\n00:28:00.540 --> 00:28:03.210\nIt's gonna go yellow,\nwhich is pending, and\n\n603\n00:28:03.210 --> 00:28:04.730\nthen it's gonna go to\nthe converging process.\n\n604\n00:28:04.730 --> 00:28:08.680\nIt's gonna talk to NODE02, and\nbasically bring itself back online and\n\n605\n00:28:08.680 --> 00:28:11.590\nthen after it does that, this can\nactually take a little while because\n\n606\n00:28:11.590 --> 00:28:13.400\nit's gonna become the master again, right?\n\n607\n00:28:13.400 --> 00:28:15.880\nSo it's gonna kick NODE02 out,\nnot kick it out of the cluster but\n\n608\n00:28:15.880 --> 00:28:18.930\nit just kick it out of that master role,\nand then it will take it back over.\n\n609\n00:28:18.930 --> 00:28:22.530\nSo that whole process happens\nall automatically, and\n\n610\n00:28:22.530 --> 00:28:25.510\nif you have multiple nodes, that happens\nwithout your end users even seeing it.\n\n611\n00:28:25.510 --> 00:28:28.830\nIt's a pretty neat process and it's\nreally not all that hard to implement.\n\n612\n00:28:28.830 --> 00:28:32.971\n&gt;&gt; Right, I think the most difficult task\nleft is just gonna be coming up with that\n\n613\n00:28:32.971 --> 00:28:33.931\nnext viral idea.\n\n614\n00:28:33.931 --> 00:28:36.100\n&gt;&gt; [LAUGH] I think we got Don's cats.\n\n615\n00:28:36.100 --> 00:28:37.120\nWe gotta work that out.\n\n616\n00:28:37.120 --> 00:28:39.100\nI'm gonna have to get some cats I guess.\n\n617\n00:28:39.100 --> 00:28:40.290\nThere's that part.\n\n618\n00:28:40.290 --> 00:28:41.810\nBut, the rest of it, that's logistics.\n\n619\n00:28:41.810 --> 00:28:43.425\n&gt;&gt; At least I don't have to get the cats.\n\n620\n00:28:43.425 --> 00:28:48.090\n[LAUGH] All right, well thank you so much\nfor your time today Don and thank you for\n\n621\n00:28:48.090 --> 00:28:49.720\njoining us as well for this show.\n\n622\n00:28:49.720 --> 00:28:50.930\nWe are out of time, so\n\n623\n00:28:50.930 --> 00:28:54.100\nwe'll go ahead and sign out\n&gt;&gt; I've been your host, Cherokee Boose.\n\n624\n00:28:54.100 --> 00:28:54.980\n&gt;&gt; And I'm Don Pezet.\n\n625\n00:28:54.980 --> 00:28:58.153\n&gt;&gt; See you next time here at ITProTV.\n\n626\n00:28:58.153 --> 00:29:04.143\n[MUSIC]\n\n627\n00:29:04.143 --> 00:29:06.904\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "237915229"
        },
        {
          "description": "In this episode, Don explains how the Failover Cluster feature works in Windows Server 2016. He explains scenarios where clusters can be used and walks the viewers through the various requirements to be met before we can install a failover cluster.",
          "length": "1822",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-3-1-failover_clustering-101117.00_30_07_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-3-1-failover_clustering-101117.00_30_07_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-3-1-failover_clustering-101117.00_30_07_24.Still001-sm.jpg",
          "title": "Failover Clustering",
          "transcript": "WEBVTT\n\n1\n00:00:00.190 --> 00:00:07.355\nWelcome to ITPRO.TV,\nI'm your host [CROSSTALK]\n\n2\n00:00:07.355 --> 00:00:12.042\n&gt;&gt; You're watching ITPRO.TV.\n\n3\n00:00:12.042 --> 00:00:15.678\n&gt;&gt; Welcome, ladies and gentlemen,\nto your Installation, Storage,\n\n4\n00:00:15.678 --> 00:00:18.575\nand Compute with\nMicrosoft Windows Server 2016.\n\n5\n00:00:18.575 --> 00:00:20.541\nI'm your show host, Cherooke Boose.\n\n6\n00:00:20.541 --> 00:00:23.790\nIn this episode, we'll be taking\na look at failover clustering.\n\n7\n00:00:23.790 --> 00:00:26.720\nAnd back in studios with us today,\nwe have Mr. Don Pezet.\n\n8\n00:00:26.720 --> 00:00:28.420\nThank you, for joining us today, Don.\n\n9\n00:00:28.420 --> 00:00:29.750\n&gt;&gt; Hey, thank you for having me.\n\n10\n00:00:29.750 --> 00:00:31.660\nI'm really excited to jump in and\ntalk about clustering.\n\n11\n00:00:31.660 --> 00:00:34.462\nYou know, I've been accused of creating\nclusters everywhere that I've worked.\n\n12\n00:00:34.462 --> 00:00:36.811\n&gt;&gt; [LAUGH]\n&gt;&gt; It's my pun of the day.\n\n13\n00:00:36.811 --> 00:00:39.728\nBut we are gonna be creating failover\nclusters right here in this episode.\n\n14\n00:00:39.728 --> 00:00:44.286\nAnd if you're not familiar with them, they\nare an amazing technology used in pretty\n\n15\n00:00:44.286 --> 00:00:48.073\nmuch every enterprise data center\nacross the planet where you can take\n\n16\n00:00:48.073 --> 00:00:52.119\nmultiple servers, combine them together,\nand have them share a workload\n\n17\n00:00:52.119 --> 00:00:56.384\nto really improve availability,\nresiliency, redundancy, performance.\n\n18\n00:00:56.384 --> 00:00:58.648\nAny crazy buzzword you can think\nthat goes along with the cloud.\n\n19\n00:00:58.648 --> 00:01:00.510\n&gt;&gt; [LAUGH] Synergy.\n&gt;&gt; [LAUGH] Yeah, synergy.\n\n20\n00:01:00.510 --> 00:01:01.016\nGreat.\n&gt;&gt; [LAUGH]\n\n21\n00:01:01.016 --> 00:01:02.590\n&gt;&gt; It can do all that stuff.\n\n22\n00:01:02.590 --> 00:01:03.090\nIt's awesome.\n\n23\n00:01:03.090 --> 00:01:03.940\nIt's magic.\n\n24\n00:01:03.940 --> 00:01:06.110\nWe're gonna see how it works and\nwhat it does,\n\n25\n00:01:06.110 --> 00:01:10.130\nas well as see how to get it setup and\nconfigured right here in this episode.\n\n26\n00:01:10.130 --> 00:01:12.260\n&gt;&gt; Okay, so when would I use clustering?\n\n27\n00:01:12.260 --> 00:01:12.860\n&gt;&gt; All right.\nSo\n\n28\n00:01:12.860 --> 00:01:16.730\nclustering is really\nuseful in two scenarios.\n\n29\n00:01:16.730 --> 00:01:21.760\nSo one,\nwhere you have a workload that absolutely\n\n30\n00:01:21.760 --> 00:01:27.590\nhas to stay online, that you need to be\nable to survive the software locking up,\n\n31\n00:01:27.590 --> 00:01:30.750\nor survive a video card failure or\na power supply failure.\n\n32\n00:01:30.750 --> 00:01:33.710\nYou need to be able to survive\nan entire server failing.\n\n33\n00:01:33.710 --> 00:01:35.390\nThat's where clusters come in.\n\n34\n00:01:35.390 --> 00:01:39.710\nA cluster allows more than one server\nto be able to carry the workload for\n\n35\n00:01:39.710 --> 00:01:40.798\nan application.\n\n36\n00:01:40.798 --> 00:01:46.120\nAnd if one server fails for any reason,\nthe other server can take over that load.\n\n37\n00:01:46.120 --> 00:01:48.292\nThat's one scenario\nwhere we need clusters.\n\n38\n00:01:48.292 --> 00:01:51.470\nNow, the second scenario is when we're\ntrying to get better performance.\n\n39\n00:01:51.470 --> 00:01:54.244\nThere's only so\nmuch work one server can do.\n\n40\n00:01:54.244 --> 00:01:57.853\nAnd so, if we have two servers or\nthree servers or four servers and\n\n41\n00:01:57.853 --> 00:02:02.008\nthey're all carrying that workload,\nwe can get that much more work done.\n\n42\n00:02:02.008 --> 00:02:05.150\nNow, we have to be careful\nof that one because not\n\n43\n00:02:05.150 --> 00:02:08.020\nevery cluster gives us extra performance.\n\n44\n00:02:08.020 --> 00:02:13.060\nA lot of cluster is operating\na what's on active passive-mode where\n\n45\n00:02:13.060 --> 00:02:16.200\nyou have one server that's active, and\nall the other ones are passive just\n\n46\n00:02:16.200 --> 00:02:18.520\nwaiting to take over in\nthe event of a failure.\n\n47\n00:02:18.520 --> 00:02:20.180\nThat's gives us high availability.\n\n48\n00:02:20.180 --> 00:02:22.610\nIt does not give us increased performance.\n\n49\n00:02:22.610 --> 00:02:25.840\nSo, at a minimum, with clusters,\nit's about high availability.\n\n50\n00:02:25.840 --> 00:02:29.490\nWhen I'm trying to guarantee\na service is online all the time,\n\n51\n00:02:29.490 --> 00:02:30.480\nI want to have a cluster.\n\n52\n00:02:30.480 --> 00:02:32.660\nThat's the main scenario\nwhere we need to have it.\n\n53\n00:02:32.660 --> 00:02:36.180\nBut you can sometimes extra\nperformance out of it.\n\n54\n00:02:36.180 --> 00:02:39.160\nSome software plays really nice with that,\nand you get some great benefits\n\n55\n00:02:39.160 --> 00:02:43.990\nlike web servers, DNS even, although\nwe don't normally have to cluster that.\n\n56\n00:02:43.990 --> 00:02:46.480\nBut there's other technologies like\nthat that can really benefit from it.\n\n57\n00:02:46.480 --> 00:02:47.340\nFile servers.\n\n58\n00:02:47.340 --> 00:02:49.080\nFile servers are a great example.\n\n59\n00:02:49.080 --> 00:02:51.530\nAnd virtualization,\nwith Hyper-V, for example.\n\n60\n00:02:51.530 --> 00:02:55.090\nIf I have virtual machines and I want\nthe virtual machines to be independent\n\n61\n00:02:55.090 --> 00:02:59.010\nof the hardware that they're running on,\nI can do that with a Hyper-V cluster, and\n\n62\n00:02:59.010 --> 00:03:01.890\nI can have a VM move from\nhost to host to host.\n\n63\n00:03:01.890 --> 00:03:04.902\nAnd if one host is failing or\njust getting too busy, no big deal.\n\n64\n00:03:04.902 --> 00:03:07.580\nI can move the VM to another one,\nand I get that flexibility.\n\n65\n00:03:07.580 --> 00:03:11.550\nThose are all scenarios where clusters\nreally, really benefit us, and\n\n66\n00:03:11.550 --> 00:03:13.080\nwe want to make sure\nwe have them deployed.\n\n67\n00:03:13.080 --> 00:03:15.490\n&gt;&gt; Okay, well, what about situations\nwhere we really wouldn't or\n\n68\n00:03:15.490 --> 00:03:17.350\nshouldn't be using clustering?\n\n69\n00:03:17.350 --> 00:03:19.812\n&gt;&gt; You know, it does sound like\nsunshine and rainbows, right?\n\n70\n00:03:19.812 --> 00:03:20.830\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] But\n\n71\n00:03:20.830 --> 00:03:22.950\nthere's a negative side to clusters.\n\n72\n00:03:22.950 --> 00:03:27.090\nThere's times that clusters are absolutely\nnot the right solution for us.\n\n73\n00:03:27.090 --> 00:03:29.580\nThe first glaring example\nI can think of is\n\n74\n00:03:29.580 --> 00:03:31.460\nwhen your software doesn't\nsupport clustering.\n\n75\n00:03:31.460 --> 00:03:32.270\nRight?\n\n76\n00:03:32.270 --> 00:03:34.569\nNot all software supports being clustered.\n\n77\n00:03:34.569 --> 00:03:35.552\nAnd a great example of that?\n\n78\n00:03:35.552 --> 00:03:37.190\nMicrosoft Exchange.\n\n79\n00:03:37.190 --> 00:03:40.435\nMicrosoft Exchange has its own\ntechnology for doing load balancing,\n\n80\n00:03:40.435 --> 00:03:42.530\nhigh availability, and all of that.\n\n81\n00:03:42.530 --> 00:03:45.650\nIt doesn't need an enterprise\ncluster to handle that.\n\n82\n00:03:45.650 --> 00:03:50.339\nSo if you were to try and put Exchange\nonto a Windows Server 2016 cluster,\n\n83\n00:03:50.339 --> 00:03:52.370\nit actually won't do it for you.\n\n84\n00:03:52.370 --> 00:03:55.260\nThere's a couple of roles inside of\nExchange that will, but most of them,\n\n85\n00:03:55.260 --> 00:03:58.670\nlike the mailbox role,\nwill not work on a Microsoft cluster.\n\n86\n00:03:58.670 --> 00:04:00.260\nAnd that's not an accident.\n\n87\n00:04:00.260 --> 00:04:02.150\nIt's not that Microsoft\ndidn't get around to it.\n\n88\n00:04:02.150 --> 00:04:06.110\nIt's that Exchange has another way\nthat's better, that handles that.\n\n89\n00:04:06.110 --> 00:04:09.020\nMicrosoft SQL, on the other hand,\ndoes support clustering.\n\n90\n00:04:09.020 --> 00:04:11.715\nAnd you could throw it on a cluster and\nyou can get great availability out of it.\n\n91\n00:04:11.715 --> 00:04:15.130\nBut it also has alternatives you can\nuse where you don't need a cluster.\n\n92\n00:04:15.130 --> 00:04:16.560\nSo you need to evaluate that.\n\n93\n00:04:16.560 --> 00:04:20.640\nIt may be that the cluster is just extra\noverhead, extra configuration work.\n\n94\n00:04:20.640 --> 00:04:21.940\nThey are kind of hard to set up.\n\n95\n00:04:21.940 --> 00:04:24.080\nThey're not the easiest thing\nin the world to work with.\n\n96\n00:04:24.080 --> 00:04:25.710\nAnd you might look at it and\nsay, you know what?\n\n97\n00:04:25.710 --> 00:04:29.260\nI'm just gonna use SQL's native\nreplication and go that route and\n\n98\n00:04:29.260 --> 00:04:30.480\nnot worry about a cluster.\n\n99\n00:04:30.480 --> 00:04:34.140\nSo you always need to evaluate that\nwith each solution that you deploy,\n\n100\n00:04:34.140 --> 00:04:36.556\na cluster might not be the right thing for\nyou.\n\n101\n00:04:36.556 --> 00:04:38.677\nSo that's compatibility.\n\n102\n00:04:38.677 --> 00:04:39.960\nIt is one of the big reasons.\n\n103\n00:04:41.210 --> 00:04:42.810\nWe also have resiliency.\n\n104\n00:04:42.810 --> 00:04:43.440\nRight?\n\n105\n00:04:43.440 --> 00:04:48.870\nWith a cluster, it's real shining feature\nis you can have an entire server fail,\n\n106\n00:04:48.870 --> 00:04:50.220\nand no one notices.\n\n107\n00:04:50.220 --> 00:04:52.970\nOther servers take over the load.\n\n108\n00:04:52.970 --> 00:04:57.440\nWell, in order to provide that kind\nof functionality, it's complex and\n\n109\n00:04:57.440 --> 00:04:58.602\nit's expensive.\n\n110\n00:04:58.602 --> 00:04:59.889\nYou got to have a shared storage.\n\n111\n00:04:59.889 --> 00:05:03.910\nYou have to have a SAN, and\na SAN is tens of thousands of dollars.\n\n112\n00:05:03.910 --> 00:05:05.300\nIt's a lot of money.\n\n113\n00:05:05.300 --> 00:05:09.910\nWell, what if it's okay for\nyour server to be down for 30 minutes?\n\n114\n00:05:09.910 --> 00:05:11.240\nAn hour?\n2 days?\n\n115\n00:05:11.240 --> 00:05:12.650\n10 days, right?\n\n116\n00:05:12.650 --> 00:05:14.570\nNot every server is mission critical.\n\n117\n00:05:14.570 --> 00:05:16.630\nIf you have a server that's\nnot mission critical,\n\n118\n00:05:16.630 --> 00:05:20.680\nif you can afford a few hours of downtime,\nit's not worth it to do a cluster.\n\n119\n00:05:20.680 --> 00:05:21.940\nRight?\n\n120\n00:05:21.940 --> 00:05:24.490\nIf you have a failed power supply,\nyou could swap out a power supply.\n\n121\n00:05:24.490 --> 00:05:25.780\nHow long is that gonna take you?\n\n122\n00:05:25.780 --> 00:05:26.410\nCouple of hours?\n\n123\n00:05:26.410 --> 00:05:28.280\nAssuming you have them lying around.\n\n124\n00:05:28.280 --> 00:05:34.370\nSo, having spare parts is far cheaper than\na cluster, and far easier to maintain.\n\n125\n00:05:34.370 --> 00:05:36.630\nAnd so in that scenario, a cluster would\nreally just be a waste of time and\n\n126\n00:05:36.630 --> 00:05:37.160\nresources.\n\n127\n00:05:37.160 --> 00:05:40.420\nSo, that's another scenario where\nwe don't necessarily need it.\n\n128\n00:05:40.420 --> 00:05:44.190\nAnd then, just remember that sometimes,\na cluster is unnecessary.\n\n129\n00:05:44.190 --> 00:05:45.490\nFor example, DNS.\n\n130\n00:05:45.490 --> 00:05:47.178\nRight?\nIf I have a DNS server on every\n\n131\n00:05:47.178 --> 00:05:51.710\nclient that's out there, when you setup\ntheir network adapter, what do you do?\n\n132\n00:05:51.710 --> 00:05:53.950\nYou provide multiple-\n&gt;&gt; Specify, yeah.\n\n133\n00:05:53.950 --> 00:05:56.020\nUsually at least have two DNS servers.\n\n134\n00:05:56.020 --> 00:05:57.910\n&gt;&gt; Yeah.\nSo if the first one fails, what happens?\n\n135\n00:05:57.910 --> 00:05:58.703\n&gt;&gt; Look for the other one.\n\n136\n00:05:58.703 --> 00:05:59.460\n&gt;&gt; Yeah.\n\n137\n00:05:59.460 --> 00:06:01.380\nSo do I need to cluster that first one?\n\n138\n00:06:01.380 --> 00:06:02.629\nNo, it can fail.\n\n139\n00:06:02.629 --> 00:06:03.600\nEverybody else go to the second one.\n\n140\n00:06:03.600 --> 00:06:04.560\nIt's fine, right?\n\n141\n00:06:04.560 --> 00:06:06.490\nAnd so in that case,\na cluster is just unnecessary.\n\n142\n00:06:06.490 --> 00:06:08.345\nYou could do it just for fun, I guess.\n\n143\n00:06:08.345 --> 00:06:11.490\n[LAUGH] But that's a scenario\nwhere you don't need it, right?\n\n144\n00:06:11.490 --> 00:06:13.550\nSo we always need to be\nthinking about that.\n\n145\n00:06:13.550 --> 00:06:14.500\nWhen you look at a cluster,\n\n146\n00:06:14.500 --> 00:06:17.260\nwhen you learn about it,\nyou learn about how it's amazing.\n\n147\n00:06:17.260 --> 00:06:19.010\nIt does all this high availability,\nmy gosh!\n\n148\n00:06:19.010 --> 00:06:21.100\nI can make my server survive any failure.\n\n149\n00:06:21.100 --> 00:06:22.750\nI can be the hero of the day.\n\n150\n00:06:22.750 --> 00:06:23.680\nRight?\n\n151\n00:06:23.680 --> 00:06:26.490\nWell, you know, there's plenty of\ntimes where it's just not necessary,\n\n152\n00:06:26.490 --> 00:06:28.110\nwhere it is overkill.\n\n153\n00:06:28.110 --> 00:06:32.330\nBut boy, when you need a cluster,\nit is a great solution\n\n154\n00:06:32.330 --> 00:06:35.300\nwhen it actually matches up with\nwhat you're trying to achieve.\n\n155\n00:06:35.300 --> 00:06:38.360\nIf you're trying to have\na file server that's always\n\n156\n00:06:38.360 --> 00:06:42.270\nonline that can survive an entire server\nfailing, when you're trying to have\n\n157\n00:06:42.270 --> 00:06:47.210\na website that's always online,\na cluster is a great solution for that.\n\n158\n00:06:47.210 --> 00:06:50.400\n&gt;&gt; Okay, so if I think about planning\nbecause maybe I just don't wanna\n\n159\n00:06:50.400 --> 00:06:52.230\nwing it and live on the edge there,\n\n160\n00:06:52.230 --> 00:06:56.360\nwhat are some things that I need to\nthink about like prerequisites, Don?\n\n161\n00:06:56.360 --> 00:06:59.160\nAll right, we got a couple of\nprerequisites to setting up a cluster.\n\n162\n00:06:59.160 --> 00:07:02.520\nThe first one is that you're gonna\nneed multiple network adapters.\n\n163\n00:07:02.520 --> 00:07:03.650\nRight?\n\n164\n00:07:03.650 --> 00:07:08.370\nWhen you build a cluster, Microsoft\nrecommends at least two network adapters,\n\n165\n00:07:08.370 --> 00:07:11.250\nand you'll probably want more\nbefore it's all said and done.\n\n166\n00:07:11.250 --> 00:07:15.330\nYou need to have one network adapter for\nmanagement to be able to manage the nodes\n\n167\n00:07:15.330 --> 00:07:18.840\nindividually, to be able to connect to\neach server that's a part of the cluster.\n\n168\n00:07:18.840 --> 00:07:22.360\nAnd you may need a second adapter for\nthe clustered services.\n\n169\n00:07:22.360 --> 00:07:26.490\nSo whatever it is that you're clustering,\nif I'm clustering a web server, this\n\n170\n00:07:26.490 --> 00:07:30.310\nwill be an adapter that's actually got my\nIIS instance servering up a webpage on it.\n\n171\n00:07:30.310 --> 00:07:32.659\nRight?\nSo a management adapter, and a data or\n\n172\n00:07:32.659 --> 00:07:33.718\nnetwork adapter.\n\n173\n00:07:33.718 --> 00:07:35.310\nBut you'll likely need more.\n\n174\n00:07:35.310 --> 00:07:37.559\nFor example, if you got an iSCSI SAN.\n\n175\n00:07:37.559 --> 00:07:40.573\nYou probably want a dedicated network\nadapter for you iSCSI traffic so\n\n176\n00:07:40.573 --> 00:07:43.610\nyou can get the maximum bandwidth\npossible to your storage.\n\n177\n00:07:43.610 --> 00:07:46.721\nIf you've got backups that are running,\nlike with Hyper-V,\n\n178\n00:07:46.721 --> 00:07:49.666\nthen you might wanna have\na dedicated adapter for backups.\n\n179\n00:07:49.666 --> 00:07:51.406\nYou might have more than one network.\n\n180\n00:07:51.406 --> 00:07:54.770\nYou might have a DMZ, and\na private network, or a guest network, and\n\n181\n00:07:54.770 --> 00:07:58.946\nyou have virtual machines that need to run\non each, you'll need network adapters for\n\n182\n00:07:58.946 --> 00:08:00.167\neach of those networks.\n\n183\n00:08:00.167 --> 00:08:04.045\nYou can end up in a scenario where you\nneed many, many network adapters plugged\n\n184\n00:08:04.045 --> 00:08:08.040\ninto each clustered node And if you have\nfive servers in the cluster, and you need\n\n185\n00:08:08.040 --> 00:08:12.257\nfour network adapters, that's four network\nadapters in each of those five nodes.\n\n186\n00:08:12.257 --> 00:08:17.560\nCuz you want your nodes to be as\nclose to equal as possible, right?\n\n187\n00:08:17.560 --> 00:08:20.324\nIn a perfect world,\nif I'm gonna build a five node cluster,\n\n188\n00:08:20.324 --> 00:08:22.073\nI would have five identical servers.\n\n189\n00:08:22.073 --> 00:08:23.069\nJust buy them at the same time.\n\n190\n00:08:23.069 --> 00:08:25.176\nBuy them all in the same batch,\nconfigured the same way.\n\n191\n00:08:25.176 --> 00:08:26.785\nThat's a perfect world.\n\n192\n00:08:26.785 --> 00:08:29.493\nBut the reality is that doesn't\nnormally happen, right?\n\n193\n00:08:29.493 --> 00:08:31.743\nWe build a three node cluster.\n\n194\n00:08:31.743 --> 00:08:36.178\nThings get busy and then a few\nmonths later I buy a fourth server.\n\n195\n00:08:36.178 --> 00:08:38.783\nAnd then I buy a fifth, and\neach one's a little bit different.\n\n196\n00:08:38.783 --> 00:08:41.835\nBecause over time hardware changes,\nand we don't get the same one.\n\n197\n00:08:41.835 --> 00:08:43.926\nSo they don't have to be identical.\n\n198\n00:08:43.926 --> 00:08:47.883\nBut the closer they are to identical, the\nmore stable your cluster's going to be and\n\n199\n00:08:47.883 --> 00:08:49.287\nthe easier it is to work with.\n\n200\n00:08:49.287 --> 00:08:49.934\n&gt;&gt; Well, it makes sense.\n\n201\n00:08:49.934 --> 00:08:54.450\nI mean, we've looked at different\nconcepts before like with aggregation,\n\n202\n00:08:54.450 --> 00:08:56.190\nNIC teaming and NIC bonding.\n\n203\n00:08:56.190 --> 00:08:59.226\nAnd so you might lose some performance\nif you had a slower card or\n\n204\n00:08:59.226 --> 00:09:00.901\nsomething to that nature as well.\n\n205\n00:09:00.901 --> 00:09:04.182\n&gt;&gt; Yeah, absolutely, and where you'll\nreally notice in our CPUs, right?\n\n206\n00:09:04.182 --> 00:09:07.910\nBecause the cluster, if you have\nan application like let's say I've got\n\n207\n00:09:07.910 --> 00:09:12.001\na Hyper-V cluster, and I have a virtual\nmachine that could be moving from host to\n\n208\n00:09:12.001 --> 00:09:16.213\nhost to host, I might have one server that\nhas Xeon processors that have all sorts of\n\n209\n00:09:16.213 --> 00:09:18.041\nacceleration extensions in them.\n\n210\n00:09:18.041 --> 00:09:21.532\nBut then I have another cluster\nnode that just has a regular i7 and\n\n211\n00:09:21.532 --> 00:09:23.768\ndoesn't have some of those extensions.\n\n212\n00:09:23.768 --> 00:09:27.652\nWell, the cluster has to dumb down\nthe virtual machines to the lowest common\n\n213\n00:09:27.652 --> 00:09:28.451\ndenominator.\n\n214\n00:09:28.451 --> 00:09:30.280\nOr if you're doing a web server or\nwhatever,\n\n215\n00:09:30.280 --> 00:09:32.700\nit's gonna dumb it down to\nthe lowest common denominator.\n\n216\n00:09:32.700 --> 00:09:35.026\nAnd so\nyou're gonna lose performance as a result.\n\n217\n00:09:35.026 --> 00:09:37.188\nAnd sometimes the service can crash.\n\n218\n00:09:37.188 --> 00:09:40.675\nThat if we move a virtual machine\nfrom one host to another, and\n\n219\n00:09:40.675 --> 00:09:43.557\none had an Intel processor and\nthe other has an AMD,\n\n220\n00:09:43.557 --> 00:09:47.335\nthen when you move that virtual\nmachine over, it's gonna crash.\n\n221\n00:09:47.335 --> 00:09:48.850\nIt's gonna blue screen and reboot.\n\n222\n00:09:48.850 --> 00:09:50.153\nAnd when it reboots,\nit'll come back online.\n\n223\n00:09:50.153 --> 00:09:52.507\nI'll probably be happy, probably.\n\n224\n00:09:52.507 --> 00:09:55.190\nBut if they were of the same processors\nthat wouldn't have happened, right?\n\n225\n00:09:55.190 --> 00:09:58.954\nSo that's a challenge that we have with\nclusters is making sure that we keep our\n\n226\n00:09:58.954 --> 00:10:01.131\nhardware as close to\nidentical as possible.\n\n227\n00:10:01.131 --> 00:10:05.344\nThere can be little variations, but it\nneed to be very, very, similar, all right?\n\n228\n00:10:05.344 --> 00:10:09.136\nOther things we need to think about\nhardware-wise are gonna depend on our\n\n229\n00:10:09.136 --> 00:10:10.183\nservices, right?\n\n230\n00:10:10.183 --> 00:10:15.027\nIf I'm clustering a file server, I might\nneed higher-end network adapters or\n\n231\n00:10:15.027 --> 00:10:19.451\nnetwork adapters that have\nTCP Offload Engines to improve throughput.\n\n232\n00:10:19.451 --> 00:10:23.116\nIf I have a website,\nI might need SSL acceleration boards or\n\n233\n00:10:23.116 --> 00:10:24.812\nother hardware like that.\n\n234\n00:10:24.812 --> 00:10:28.153\nAnd that would be throughout my\ncluster that I would need that or\n\n235\n00:10:28.153 --> 00:10:31.569\nI'd have to have some kind of\nout-of-band encryption board.\n\n236\n00:10:31.569 --> 00:10:34.319\nThere's different solutions that\nwe need to think about that.\n\n237\n00:10:34.319 --> 00:10:37.301\nBut regardless of which\nhardware we go with,\n\n238\n00:10:37.301 --> 00:10:42.257\nwe need to make sure first and\nforemost that it's supported by Microsoft.\n\n239\n00:10:42.257 --> 00:10:46.353\nMicrosoft has what are called\nthe Windows Hardware Quality Labs or WHQL,\n\n240\n00:10:46.353 --> 00:10:48.475\nwhich they rebranded a few years ago.\n\n241\n00:10:48.475 --> 00:10:54.234\nAnd now it's just a made for Windows\nServer certification sticker thing.\n\n242\n00:10:54.234 --> 00:10:56.094\n[LAUGH] And so when you buy a hardware,\n\n243\n00:10:56.094 --> 00:10:58.498\nyou might notice this like\nif you go to Best Buy.\n\n244\n00:10:58.498 --> 00:11:00.234\nAnd you walk down and\nyou look at the shelves of parts,\n\n245\n00:11:00.234 --> 00:11:02.354\nwhich they don't have as much as\nthey used to, but they still do,\n\n246\n00:11:02.354 --> 00:11:04.977\nyou'll see these little stickers that\nsays, made for Windows 10, or made for\n\n247\n00:11:04.977 --> 00:11:06.548\nWindows Vista, or\nsomething crazy like that.\n\n248\n00:11:06.548 --> 00:11:11.531\nAnd that's letting you know that hardware\nwent through Microsoft's testing to\n\n249\n00:11:11.531 --> 00:11:12.562\nbe authorized.\n\n250\n00:11:12.562 --> 00:11:14.688\nBut when you build a cluster,\n\n251\n00:11:14.688 --> 00:11:19.717\nMicrosoft requires all of your\nhardware to be verified by Microsoft.\n\n252\n00:11:19.717 --> 00:11:22.149\nAnd if it isn't, they won't support you.\n\n253\n00:11:22.149 --> 00:11:25.278\nSo if you have hardware that's\nnot certified by Microsoft and\n\n254\n00:11:25.278 --> 00:11:28.106\nyou call them for support,\nthey'll say, I'm sorry,\n\n255\n00:11:28.106 --> 00:11:30.891\nyou're running uncertified hardware and\nthen what?\n\n256\n00:11:30.891 --> 00:11:34.591\n&gt;&gt; Right, so like if we had a lower\nspinning, if were using spindle drives and\n\n257\n00:11:34.591 --> 00:11:36.665\nwe had a lower RPM or something like that.\n\n258\n00:11:36.665 --> 00:11:39.534\n&gt;&gt; Yeah,\nit really comes down to the driver, right?\n\n259\n00:11:39.534 --> 00:11:40.680\nI mean, the hardware is important.\n\n260\n00:11:40.680 --> 00:11:44.357\nBut when somebody makes a drive,\nwhether it's a fast drive or\n\n261\n00:11:44.357 --> 00:11:47.819\na slow drive, or\nwhether it's a fiber NIC or a copper NIC,\n\n262\n00:11:47.819 --> 00:11:51.425\nwhen they make it, they can then\nsend a batch to Microsoft and\n\n263\n00:11:51.425 --> 00:11:56.186\ngo through the six-month process where\nMicrosoft runs tests on the hardware.\n\n264\n00:11:56.186 --> 00:11:56.771\nAnd it costs a lot of money.\n\n265\n00:11:56.771 --> 00:11:59.090\nIt's something like\n$20,000 to get it tested.\n\n266\n00:11:59.090 --> 00:12:01.978\nAnd when Microsoft tested to make\nsure everything works right the way\n\n267\n00:12:01.978 --> 00:12:05.312\nthat it's supposed to, then they allow\nthat vendor to put that sticker on there\n\n268\n00:12:05.312 --> 00:12:07.176\nthat says made for Windows Server, right?\n\n269\n00:12:07.176 --> 00:12:09.027\nAnd so when you're running a cluster,\n\n270\n00:12:09.027 --> 00:12:11.842\nremember that our primary goal\nhere is high availability.\n\n271\n00:12:11.842 --> 00:12:14.692\nWe wanna make sure that our systems\nare up and running as much as possible.\n\n272\n00:12:14.692 --> 00:12:18.638\nSo that means using quality hardware.\n\n273\n00:12:18.638 --> 00:12:21.927\nAnd when you buy hardware,\nlike if you buy a server from Dell,\n\n274\n00:12:21.927 --> 00:12:26.037\nor if you buy a server from HP, you know\nit's gonna be WHQL listed because they\n\n275\n00:12:26.037 --> 00:12:28.270\npartner with Microsoft so much, right?\n\n276\n00:12:28.270 --> 00:12:30.151\nAnd they're so big, they do that.\n\n277\n00:12:30.151 --> 00:12:33.058\nBut if you white label your service,\nif you just buy parts and\n\n278\n00:12:33.058 --> 00:12:35.967\nput them together yourself,\nyou don't know that, right?\n\n279\n00:12:35.967 --> 00:12:39.490\nAnd I know some of you are thinking,\nwhy the heck would I buy my own server?\n\n280\n00:12:39.490 --> 00:12:41.106\nWhy would I put stuff together like that?\n\n281\n00:12:41.106 --> 00:12:46.523\nGoogle does, Amazon does,\nFacebook does, right?\n\n282\n00:12:46.523 --> 00:12:49.385\nAll the really big vendors that are out\nthere, they don't run HP servers.\n\n283\n00:12:49.385 --> 00:12:50.382\nThey don't run Dell.\n\n284\n00:12:50.382 --> 00:12:51.445\nThey build their own servers.\n\n285\n00:12:51.445 --> 00:12:52.632\nNow they also don't run Windows.\n\n286\n00:12:52.632 --> 00:12:56.354\nBut if they did [LAUGH] they would have\nto have all those individual hardware\n\n287\n00:12:56.354 --> 00:13:00.510\ncomponents certified through Microsoft\nin order to get support from Microsoft.\n\n288\n00:13:00.510 --> 00:13:03.932\nNow those guys, they hire some of\nthe biggest talents in the world.\n\n289\n00:13:03.932 --> 00:13:07.232\nSo they don't necessarily need\nsupport from Microsoft or whoever, but\n\n290\n00:13:07.232 --> 00:13:07.888\nmost of us do.\n\n291\n00:13:07.888 --> 00:13:09.634\nSo let me show you a couple of websites.\n\n292\n00:13:09.634 --> 00:13:13.642\nThis website right here is\nthe Microsoft Hardware Dev Center.\n\n293\n00:13:13.642 --> 00:13:16.629\nAnd this is the site that\nhardware manufacturers use.\n\n294\n00:13:16.629 --> 00:13:20.688\nSo when they create a new network adapter,\nthey come in here and\n\n295\n00:13:20.688 --> 00:13:25.517\nthey use the Windows Driver Kits and\nthe Assessment and Deployment Kit to be\n\n296\n00:13:25.517 --> 00:13:30.341\nable to test their hardware, make sure\nthat it meets Microsoft needs, and\n\n297\n00:13:30.341 --> 00:13:33.048\nthen submit it to Microsoft for testing.\n\n298\n00:13:33.048 --> 00:13:35.114\nSo this is the program that does that,\n\n299\n00:13:35.114 --> 00:13:39.240\nthat they have to participate in\nin order to get that authorized.\n\n300\n00:13:39.240 --> 00:13:42.706\nAnd if you read the clustering\ndocumentation on Microsoft's site,\n\n301\n00:13:42.706 --> 00:13:45.469\nit'll talk a lot about\nthe validation tests, right?\n\n302\n00:13:45.469 --> 00:13:50.439\nWhen we build a cluster, it's gonna offer\nto validate the hardware in the cluster.\n\n303\n00:13:50.439 --> 00:13:51.325\nAnd you could skip it.\n\n304\n00:13:51.325 --> 00:13:53.560\nYou can say, yeah,\nwhatever, and that's fine.\n\n305\n00:13:53.560 --> 00:13:56.407\nIf you skip it,\nyou just can't call Microsoft for support.\n\n306\n00:13:56.407 --> 00:13:57.925\nIf you were gonna do that anyway,\nbig deal, right?\n\n307\n00:13:57.925 --> 00:14:00.875\nBut if you ever think you're\ngonna call Microsoft, and\n\n308\n00:14:00.875 --> 00:14:04.327\nif this is critical systems,\nthen you are gonna call Microsoft,\n\n309\n00:14:04.327 --> 00:14:06.679\nthen you wanna make sure that it's tested.\n\n310\n00:14:06.679 --> 00:14:10.932\nAnd so they've got a series of tests\nthe software runs, which let's see.\n\n311\n00:14:10.932 --> 00:14:15.480\nI thought I had, nope, that's not it,\nbrought up on one of these pages.\n\n312\n00:14:15.480 --> 00:14:18.626\nHere it is, where it tests,\nit tests the BIOS, right?\n\n313\n00:14:18.626 --> 00:14:22.155\nSo it's gotta look in to see is\nthe BIOS and the motherboard tested?\n\n314\n00:14:22.155 --> 00:14:24.155\nAre the environment variables functioning?\n\n315\n00:14:24.155 --> 00:14:28.353\nThe Fibre Channel Host Bus Adapters,\nif we've got those, iSCSI,\n\n316\n00:14:28.353 --> 00:14:32.698\nmemory, operating system, plug and\nplay devices, it looks at all of\n\n317\n00:14:32.698 --> 00:14:37.283\nthese things to test and make sure\nthat they are authorized by Microsoft.\n\n318\n00:14:37.283 --> 00:14:39.403\nThat they have been specifically\napproved for clustering.\n\n319\n00:14:39.403 --> 00:14:42.431\nIf they aren't,\nthen Microsoft's not ready to say, yeah,\n\n320\n00:14:42.431 --> 00:14:44.596\nyou'll have a highly available solution.\n\n321\n00:14:44.596 --> 00:14:47.748\nYou'll have a solution\nthat is up all the time.\n\n322\n00:14:47.748 --> 00:14:52.016\nThat's not something they're willing to\nstand behind unless everything is tested\n\n323\n00:14:52.016 --> 00:14:53.524\nand authorized, all right?\n\n324\n00:14:53.524 --> 00:14:58.581\nNow let's say that you don't have\nthe advantage to go and shop for hardware.\n\n325\n00:14:58.581 --> 00:15:03.816\nMaybe we hire you to come work at ITProTV\nand I point at some servers behind me.\n\n326\n00:15:03.816 --> 00:15:05.851\nI say, go build a cluster on those things,\nright?\n\n327\n00:15:05.851 --> 00:15:07.485\nWell, you didn't shop for them, so\n\n328\n00:15:07.485 --> 00:15:09.877\nyou don't know if they're WHQL certified,\nright?\n\n329\n00:15:09.877 --> 00:15:12.913\nWell, that's okay because\nin the cluster software,\n\n330\n00:15:12.913 --> 00:15:15.686\nwe have the ability to run some tests and\nfind out.\n\n331\n00:15:15.686 --> 00:15:18.582\nWe can validate that hardware easy\nenough ourselves without having to get\n\n332\n00:15:18.582 --> 00:15:19.479\nMicrosoft involved.\n\n333\n00:15:19.479 --> 00:15:20.735\nAnd hopefully, it all passes.\n\n334\n00:15:20.735 --> 00:15:24.763\nYou'd be surprised that there is a lot\nof hardware that's already been tested.\n\n335\n00:15:24.763 --> 00:15:28.916\nSo more often than not,\nyou'll find your hardware is okay.\n\n336\n00:15:28.916 --> 00:15:31.857\nIf you wanna see that,\nlet me jump over to, let's see,\n\n337\n00:15:31.857 --> 00:15:34.375\nI've got a node lying around here,\nall right.\n\n338\n00:15:34.375 --> 00:15:39.232\nSo here's a server that I wanna\nuse as a node in a cluster, right?\n\n339\n00:15:39.232 --> 00:15:42.145\nAnd before I even get to\nbuilding the cluster,\n\n340\n00:15:42.145 --> 00:15:46.267\nI can install the cluster tools,\nand I can validate my hardware.\n\n341\n00:15:46.267 --> 00:15:47.595\nSo let me show you that real quick.\n\n342\n00:15:47.595 --> 00:15:50.254\nIn order to get the tool that I need,\n\n343\n00:15:50.254 --> 00:15:54.254\nI need what's called\nthe Failover Cluster Manager.\n\n344\n00:15:54.254 --> 00:15:56.920\nSo if I go up here under\nTools in my Server Manager,\n\n345\n00:15:56.920 --> 00:15:59.722\nI don't have it by default,\nso I need to install it.\n\n346\n00:15:59.722 --> 00:16:01.933\nYou can install it on your\nwork station as part of\n\n347\n00:16:01.933 --> 00:16:04.550\nthe Remote Server Administration Tool kit,\nthe RSAT.\n\n348\n00:16:04.550 --> 00:16:07.940\nBut I'm just gonna install it here on\nthis node cuz I'll need it anyway.\n\n349\n00:16:07.940 --> 00:16:12.009\nSo I'm gonna go up here to Manage and\nAdd Roles and Features.\n\n350\n00:16:12.009 --> 00:16:15.792\nAnd when I go in to this wizard it's gonna\nask me what server I'm connecting to,\n\n351\n00:16:15.792 --> 00:16:17.390\nI'm gonna connect to this one.\n\n352\n00:16:17.390 --> 00:16:23.537\nSo this is my NODE01.lab.itprotv, and then\nit's gonna ask what I want to install now.\n\n353\n00:16:23.537 --> 00:16:28.600\nThe failover cluster services\nare a feature, not a role.\n\n354\n00:16:28.600 --> 00:16:30.560\nSo when I look at roles\nI'm not gonna find them.\n\n355\n00:16:30.560 --> 00:16:33.060\nThe roles are what I'm gonna\nput on top of the cluster.\n\n356\n00:16:33.060 --> 00:16:35.810\nSo the failover feature\nis what I actually need.\n\n357\n00:16:35.810 --> 00:16:38.684\nSo if I move forward to the Features\nscreen, I can look in here and\n\n358\n00:16:38.684 --> 00:16:40.878\nthere it is,\nFailover Clustering, all right?\n\n359\n00:16:40.878 --> 00:16:46.430\nNow, installing this doesn't\nactually create the cluster, right?\n\n360\n00:16:46.430 --> 00:16:49.340\nInstalling this is just giving me\nthe tools to make the cluster.\n\n361\n00:16:49.340 --> 00:16:51.600\nAnd that's what I need right now to\nbe able to validate my hardware.\n\n362\n00:16:51.600 --> 00:16:55.990\nSo I'm not building a cluster yet,\nbut I'm installing the tools to do it.\n\n363\n00:16:55.990 --> 00:17:01.060\nNow I need those tools on each of the\nnodes that are going to be in my cluster.\n\n364\n00:17:01.060 --> 00:17:03.830\nAnd when I installed it, it asked if I\nalso wanted the management tools and\n\n365\n00:17:03.830 --> 00:17:05.020\nI said okay to that.\n\n366\n00:17:05.020 --> 00:17:08.530\nYou don't necessarily need to install the\nmanagement tools because you can run them\n\n367\n00:17:08.530 --> 00:17:11.060\nfrom your own workstation, but\nI chose to install it here.\n\n368\n00:17:11.060 --> 00:17:15.450\nIf you're doing a server core install,\nyou can't install the management tools.\n\n369\n00:17:15.450 --> 00:17:17.520\nSo that would make a big difference there.\n\n370\n00:17:17.520 --> 00:17:20.120\nSo I'm gonna get that one installing, and\nactually while it's doing that, I'm gonna\n\n371\n00:17:20.120 --> 00:17:23.730\njump down to my other node and do the\nexact same thing so I can get it added.\n\n372\n00:17:23.730 --> 00:17:28.320\nIt doesn't require a reboot, although in\nthe long run we might end up rebooting\n\n373\n00:17:28.320 --> 00:17:32.070\nafter updates and things that happen,\nso it's not a bad idea to reboot.\n\n374\n00:17:32.070 --> 00:17:33.700\nWe can always take care of that later.\n\n375\n00:17:33.700 --> 00:17:37.360\nI'm just gonna come in here and\nadd that feature on this server as well.\n\n376\n00:17:37.360 --> 00:17:39.310\nNow my two servers are identical so\n\n377\n00:17:39.310 --> 00:17:43.210\nif I validate one,\nI know the other one is fine.\n\n378\n00:17:43.210 --> 00:17:46.720\nBut you still have to run the validation\nwizard on the other one as well, right?\n\n379\n00:17:46.720 --> 00:17:51.100\nMicrosoft wants to know for\nsure that that hardware is compatible.\n\n380\n00:17:51.100 --> 00:17:54.840\nSo for every node that you get,\nsorry, I can't read the list.\n\n381\n00:17:54.840 --> 00:17:57.431\nThere we go,\n[LAUGH] it's too small for me to read.\n\n382\n00:17:57.431 --> 00:17:58.840\nI want that fail over clustering.\n\n383\n00:17:58.840 --> 00:18:02.025\nSo for every node that's in your cluster,\nyou'll need to run this validation wizard.\n\n384\n00:18:02.025 --> 00:18:05.993\nAnd any time you change out hardware,\nmaybe you replace a network adapter,\n\n385\n00:18:05.993 --> 00:18:10.280\nyou add some more hard drives, changing\nHBA or whatever, every time you do that.\n\n386\n00:18:10.280 --> 00:18:11.850\n&gt;&gt; Interesting,\nyou change the hardware profile,\n\n387\n00:18:11.850 --> 00:18:13.930\nthey're gonna say hey we need\nyou to go ahead and rerun this?\n\n388\n00:18:13.930 --> 00:18:14.690\n&gt;&gt; Yep, yep.\n\n389\n00:18:14.690 --> 00:18:18.750\nOr if you don't, cuz you can choose to\nskip it, when you call Microsoft for\n\n390\n00:18:18.750 --> 00:18:20.290\nsupport, they'll make you run it then.\n\n391\n00:18:20.290 --> 00:18:20.880\n&gt;&gt; Okay.\n\n392\n00:18:20.880 --> 00:18:23.350\n&gt;&gt; And that doesn't like a big deal, but\n\n393\n00:18:23.350 --> 00:18:26.260\nlet me tell you as somebody who's\nbeen in this situation before.\n\n394\n00:18:26.260 --> 00:18:29.686\nIf your cluster is down, and you can't\nbring it online, and they're telling you,\n\n395\n00:18:29.686 --> 00:18:31.535\nwell, we need you to\nrun validation wizard.\n\n396\n00:18:31.535 --> 00:18:33.060\n&gt;&gt; Let's do some tests, yeah.\n\n397\n00:18:33.060 --> 00:18:34.800\n&gt;&gt; Well, my node won't boot up, okay?\n\n398\n00:18:34.800 --> 00:18:37.245\nWell, we need you to run\nthe validation test.\n\n399\n00:18:37.245 --> 00:18:39.650\nYou can't run it, and\nnow you're kinda out of luck.\n\n400\n00:18:39.650 --> 00:18:41.420\nSo you definitely wanna make sure\nyou're running yourself and-\n\n401\n00:18:41.420 --> 00:18:43.070\n&gt;&gt; I love it when you call tech support.\n\n402\n00:18:43.070 --> 00:18:47.751\nI like for Home connectivity issues or\nsomething like okay,\n\n403\n00:18:47.751 --> 00:18:49.968\ngo to our website and [SOUND].\n\n404\n00:18:49.968 --> 00:18:52.315\nIt's like yes, so\nI don't have Internet connection.\n\n405\n00:18:52.315 --> 00:18:53.440\n[LAUGH]\n&gt;&gt; Yeah,\n\n406\n00:18:53.440 --> 00:18:56.380\n[LAUGH] I have seen that far too often.\n\n407\n00:18:56.380 --> 00:18:58.860\nAnd with a cluster it's\nmuch higher pressure.\n\n408\n00:18:58.860 --> 00:19:01.610\nRight, remember,\nwe don't cluster just any old service.\n\n409\n00:19:01.610 --> 00:19:03.505\nRight, I don't have a video\ngame server that's clustered,\n\n410\n00:19:03.505 --> 00:19:05.060\ncuz who cares about that, right?\n\n411\n00:19:05.060 --> 00:19:06.640\nThis is mission critical stuff.\n\n412\n00:19:06.640 --> 00:19:10.440\nThis is the website that's\nselling a product, or\n\n413\n00:19:10.440 --> 00:19:14.808\na database server that's actually got\nour mission critical company data in it.\n\n414\n00:19:14.808 --> 00:19:17.230\nThis is stuff you can't\nafford the downtime for.\n\n415\n00:19:17.230 --> 00:19:20.270\nIf you could afford downtime, you wouldn't\nhave a cluster in the first place, right?\n\n416\n00:19:20.270 --> 00:19:21.260\n&gt;&gt; [LAUGH] Right.\n&gt;&gt; So,\n\n417\n00:19:21.260 --> 00:19:24.750\njust by having a cluster you're saying,\nthis is really important to me.\n\n418\n00:19:24.750 --> 00:19:29.104\nSo we don't want to skimp, we don't want\nto cut corners, we wanna make sure that we\n\n419\n00:19:29.104 --> 00:19:32.984\nactually do a full implementation,\nthat we use the right tools and so on.\n\n420\n00:19:32.984 --> 00:19:36.296\nBut once this is installed\nI'll be able to use that tool,\n\n421\n00:19:36.296 --> 00:19:39.070\nit's just kind of slowly\nchurning along here.\n\n422\n00:19:39.070 --> 00:19:41.230\nBut I'll be able to use that tool\nto run the validation manager.\n\n423\n00:19:41.230 --> 00:19:44.650\nAnd there's PowerShell tools you can use\nas well, if you wanna go that route.\n\n424\n00:19:44.650 --> 00:19:47.540\nBut through the GUI is the easiest cuz you\nget this nice little report that tells\n\n425\n00:19:47.540 --> 00:19:48.760\nyou whether it's validated.\n\n426\n00:19:48.760 --> 00:19:50.260\nWhile we're waiting on this,\nlet me mention,\n\n427\n00:19:50.260 --> 00:19:53.840\nI'm actually gonna build this\ncluster on virtual machines, right.\n\n428\n00:19:53.840 --> 00:19:56.730\nThese are virtualized installs.\n\n429\n00:19:56.730 --> 00:19:59.440\nSo how do we validate our hardware there?\n\n430\n00:19:59.440 --> 00:20:00.190\nWell-\n&gt;&gt; [LAUGH]\n\n431\n00:20:00.190 --> 00:20:02.780\n&gt;&gt; It's validating your virtual hardware.\n\n432\n00:20:02.780 --> 00:20:05.590\nIf you're running on Hyper-V,\nMicrosoft supports it.\n\n433\n00:20:05.590 --> 00:20:08.640\nIf you're running on VMware,\nMicrosoft supports it.\n\n434\n00:20:08.640 --> 00:20:12.510\nIf you're running on XenServer,\nMicrosoft doesn't support that one.\n\n435\n00:20:12.510 --> 00:20:14.512\nSo, they don't support all\nvirtualization platforms-\n\n436\n00:20:14.512 --> 00:20:15.781\n&gt;&gt; But it makes sense because you were\n\n437\n00:20:15.781 --> 00:20:18.495\ntalking about looking at those drivers\nthere, so if its software based in\n\n438\n00:20:18.495 --> 00:20:21.646\nthat virtualized environment,\nthey're still going to be supporting that.\n\n439\n00:20:21.646 --> 00:20:22.453\nYes, absolutely.\n\n440\n00:20:22.453 --> 00:20:23.561\n&gt;&gt; Hardware/software.\n\n441\n00:20:23.561 --> 00:20:26.430\n[LAUGH]\n&gt;&gt; And you want to be able to get support.\n\n442\n00:20:26.430 --> 00:20:32.038\nCuz the flip side is, let's say,\nI'm running VirtualBox, right?\n\n443\n00:20:32.038 --> 00:20:33.130\nAnd so I call Oracle up.\n\n444\n00:20:33.130 --> 00:20:34.760\nAnd I'm like hey,\nmy Microsoft cluster isn't working.\n\n445\n00:20:34.760 --> 00:20:36.620\nThen they'll say we don't support that.\n\n446\n00:20:36.620 --> 00:20:39.250\nOkay, so then I call up Microsoft and\nI say, Microsoft my cluster isn't working.\n\n447\n00:20:39.250 --> 00:20:40.920\nAnd they say we don't support virtual box.\n\n448\n00:20:40.920 --> 00:20:41.667\n&gt;&gt; The blame game.\n\n449\n00:20:41.667 --> 00:20:44.920\n&gt;&gt; And so\nyou have no one to go to for support.\n\n450\n00:20:44.920 --> 00:20:49.432\nSo, the reality is you wouldn't do\na highly available cluster in virtual\n\n451\n00:20:49.432 --> 00:20:54.088\nbox other than like Lab or a Learning,\nversus I might do a production cluster\n\n452\n00:20:54.088 --> 00:20:57.753\non top of virtual machines that\nyou might choose to do that.\n\n453\n00:20:57.753 --> 00:21:00.335\nThere's usually other\nways to work around that.\n\n454\n00:21:00.335 --> 00:21:03.235\nWhere you don't need\nthe cluster nightmare on it.\n\n455\n00:21:03.235 --> 00:21:06.195\nAnother thing that I want to mention\nwhile waiting on this to finish is,\n\n456\n00:21:06.195 --> 00:21:07.955\nI mention sands briefly, right?\n\n457\n00:21:07.955 --> 00:21:09.873\nStorage area networks.\n\n458\n00:21:09.873 --> 00:21:12.840\nWith a cluster,\nin order to be highly available,\n\n459\n00:21:12.840 --> 00:21:17.435\nin order to have one server fail and\nanother server take over instantaneous,\n\n460\n00:21:17.435 --> 00:21:20.280\nwe need to have the same\ndata on the two servers.\n\n461\n00:21:21.470 --> 00:21:23.198\nSo let's say it's a file server.\n\n462\n00:21:23.198 --> 00:21:26.040\nI've got a shared folder and\nit's got a bunch of files in it.\n\n463\n00:21:26.040 --> 00:21:29.110\nAnd server A has that data right now.\n\n464\n00:21:29.110 --> 00:21:32.110\nAnd server B wants to\nbe able to take over.\n\n465\n00:21:32.110 --> 00:21:34.220\nCan I connect two servers\nto the same hard drive?\n\n466\n00:21:35.250 --> 00:21:36.270\nNo, not normally.\n\n467\n00:21:36.270 --> 00:21:38.360\nNormally you can't have to systems\nconnected to a hard drive.\n\n468\n00:21:38.360 --> 00:21:40.760\nIf you think about a hard drive,\nit's only got one connector on it.\n\n469\n00:21:40.760 --> 00:21:45.180\nAnd the reason is,\nif two servers access the same data,\n\n470\n00:21:45.180 --> 00:21:48.960\non the same drive, at the same time,\nit corrupts the data.\n\n471\n00:21:48.960 --> 00:21:50.630\nIt's instant data corruption.\n\n472\n00:21:50.630 --> 00:21:52.886\nAnd so it's really easy to ruin your data.\n\n473\n00:21:52.886 --> 00:21:57.070\nAnd if this is mission critical\nwe don't want that, right?\n\n474\n00:21:57.070 --> 00:22:01.050\nBut what a cluster does is\na cluster acts like a traffic cop.\n\n475\n00:22:01.050 --> 00:22:06.000\nAnd it says, yes, you can have two servers\naccessing the same storage at the same,\n\n476\n00:22:06.000 --> 00:22:08.681\nand I'm gonna act like a red light,\ngreen light.\n\n477\n00:22:08.681 --> 00:22:12.050\nAnd I'll say right now server\none has the green light and\n\n478\n00:22:12.050 --> 00:22:14.000\nserver two has the red light.\n\n479\n00:22:14.000 --> 00:22:17.450\nBut the instant I notice\nserver one is down,\n\n480\n00:22:17.450 --> 00:22:19.140\nI'll give server two the green light.\n\n481\n00:22:19.140 --> 00:22:21.153\nAnd now server two can\naccess that storage.\n\n482\n00:22:21.153 --> 00:22:23.120\nNow you can work around\nthat by replicating.\n\n483\n00:22:23.120 --> 00:22:25.740\nI could have a complete\nreplica of my data, but\n\n484\n00:22:25.740 --> 00:22:30.620\nif I've got 5 TB of data And\nI wanna replicate that well,\n\n485\n00:22:30.620 --> 00:22:34.620\nfirst off I need 10 TB of storage, right,\nso it's a lot higher storage cost.\n\n486\n00:22:34.620 --> 00:22:38.724\nSecondly, it takes a lot to\nreplicate data like that.\n\n487\n00:22:38.724 --> 00:22:42.120\nI mean that's a huge data set\nto detect a simple change,\n\n488\n00:22:42.120 --> 00:22:44.040\nthat's a stinking nightmare, right.\n\n489\n00:22:44.040 --> 00:22:50.040\nSo that's not ideal, instead, if I just\nhave one set of that 5 TB of data and\n\n490\n00:22:50.040 --> 00:22:52.210\nservers could connect\nto it simultaneously.\n\n491\n00:22:52.210 --> 00:22:53.890\nThat solves the problem.\n\n492\n00:22:53.890 --> 00:22:57.980\nAnd the easiest way to do that is with a\nstorage area network, where the storage is\n\n493\n00:22:57.980 --> 00:23:02.250\nnot in the server, the server is\nin a separate chassis, a big box.\n\n494\n00:23:02.250 --> 00:23:04.990\nYou can't really see it but\nthere's like two or\n\n495\n00:23:04.990 --> 00:23:06.890\nthree of them in the racks\nbehind me down at the bottom.\n\n496\n00:23:06.890 --> 00:23:08.060\nThey're kinda off camera.\n\n497\n00:23:08.060 --> 00:23:12.350\nBut the servers connect to that and\nthat's where they get the storage, right.\n\n498\n00:23:12.350 --> 00:23:17.970\nIn order to get high speed performance\nit's normally a fiber channel san.\n\n499\n00:23:17.970 --> 00:23:22.740\nThere's iSCSI which sends SCSI\ntraffic over TCP/IP, which is slow.\n\n500\n00:23:22.740 --> 00:23:25.460\nRight, you have a gigabit network for\nmost people, maybe a 10 GB.\n\n501\n00:23:25.460 --> 00:23:27.630\n&gt;&gt; Just regular network adapter cards,\n\n502\n00:23:27.630 --> 00:23:31.840\nyou don't have to buy any special\nfiber channel equipment or anything.\n\n503\n00:23:31.840 --> 00:23:33.290\n&gt;&gt; Right, that's the positive side.\n\n504\n00:23:33.290 --> 00:23:34.130\nIt's cheaper.\n\n505\n00:23:34.130 --> 00:23:35.610\nIt uses hardware you've already got.\n\n506\n00:23:35.610 --> 00:23:37.770\nBut on the negative side, it's slower.\n\n507\n00:23:37.770 --> 00:23:41.690\nFiber channel, like super proprietary,\nwe need the host bus adapters,\n\n508\n00:23:41.690 --> 00:23:43.880\nthe little adapters that look\nlike storage controllers.\n\n509\n00:23:43.880 --> 00:23:48.060\nWe need the fiber optic cable, fiber\nswitches, fiber sand, it's expensive.\n\n510\n00:23:48.060 --> 00:23:52.810\nEvery time I say fiber, just add another\ndollar sign to to your little list.\n\n511\n00:23:52.810 --> 00:23:55.090\nBut boy, is it fast.\n\n512\n00:23:55.090 --> 00:23:56.826\nIt's fast.\nYou get great performance,\n\n513\n00:23:56.826 --> 00:23:59.123\nat super stable,\nscales really, really well.\n\n514\n00:23:59.123 --> 00:24:01.834\nThose fiber channel SANs really,\nreally work out.\n\n515\n00:24:01.834 --> 00:24:06.934\nDon, if I can afford all those\ndollar signs, I can't implement\n\n516\n00:24:06.934 --> 00:24:13.465\na storage now if I don't want to see that\ncorruption that you spoke about earlier.\n\n517\n00:24:13.465 --> 00:24:14.821\nDo I have another option?\n\n518\n00:24:14.821 --> 00:24:20.449\n&gt;&gt; There are a couple of the [LAUGH],\nso for example, Hyper-V.\n\n519\n00:24:20.449 --> 00:24:23.230\nI'm building my cluster here\non top of Hyper-V, right,\n\n520\n00:24:23.230 --> 00:24:25.660\nlet me show you on top of Hyper-V manager.\n\n521\n00:24:25.660 --> 00:24:29.310\nAnd let me zoom in a bit, whoops,\nI didn't wanna start that.\n\n522\n00:24:29.310 --> 00:24:32.383\nServer 2003, what are we doing,\na nostalgia episode?\n\n523\n00:24:32.383 --> 00:24:36.520\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] So I've got a NODE00, NODE01,\n\n524\n00:24:36.520 --> 00:24:40.070\nNODE02, these are gonna be\nmy cluster nodes, okay?\n\n525\n00:24:40.070 --> 00:24:44.550\nSo if I want shared storage between NODE01\nand NODE02, if these are physical servers,\n\n526\n00:24:44.550 --> 00:24:48.440\nI could do Fiber Channel SAN or\nI could an iSCSI SAN, right?\n\n527\n00:24:48.440 --> 00:24:51.870\nBut because these are virtual,\nwhat I could do is\n\n528\n00:24:51.870 --> 00:24:55.370\nI could create a virtual hard drive and\nhave it connect between them.\n\n529\n00:24:55.370 --> 00:24:59.060\nThat's actually a new feature,\nI think they introduced it in 2012 R2 or\n\n530\n00:24:59.060 --> 00:25:00.442\nit might be new in 2016.\n\n531\n00:25:00.442 --> 00:25:02.020\nBut it is a newer feature.\n\n532\n00:25:02.020 --> 00:25:07.310\nIf you go into the setting of a virtual\nmachine, and you go into Add a disk.\n\n533\n00:25:07.310 --> 00:25:11.650\nRight, so if I want to go to my SCSI\ncontroller and add a hard drive or\n\n534\n00:25:11.650 --> 00:25:16.800\na hard drive is one system is able to see\nthe hard drive of his internal hard drive.\n\n535\n00:25:16.800 --> 00:25:19.930\nBut I can also do a shared drive,\n\n536\n00:25:19.930 --> 00:25:24.190\nthat's a VHDX that's shared between\nmore than one virtual machine.\n\n537\n00:25:24.190 --> 00:25:28.220\nAnd if I add that kind of drive,\nit'll show up over here as a normal drive.\n\n538\n00:25:28.220 --> 00:25:30.960\nProbably don't want to do this but\nI'm gonna go ahead and add one anyway.\n\n539\n00:25:30.960 --> 00:25:33.950\nSo I'm gonna add one here,\nI'll choose to set it as a,\n\n540\n00:25:33.950 --> 00:25:37.669\nsee how it's showing up as a VHD set\nas opposed to a traditional VHD.\n\n541\n00:25:37.669 --> 00:25:40.933\nAnd so I can run through and\nset it dynamically expanding,\n\n542\n00:25:40.933 --> 00:25:43.750\nI can specify where I\nwant it to be stored.\n\n543\n00:25:43.750 --> 00:25:45.270\nAnd I can specify its size,\n\n544\n00:25:45.270 --> 00:25:47.680\nI'm just accepting the defaults here for\nsome long time.\n\n545\n00:25:47.680 --> 00:25:50.900\nBut I'll go ahead and finish that,\nand when it creates it,\n\n546\n00:25:50.900 --> 00:25:56.354\nI now have a shared VHDX that I\ncan connect to more than one.\n\n547\n00:25:56.354 --> 00:25:59.650\nOops, what am I out of space or\nsomething, cannot get information,\n\n548\n00:26:01.300 --> 00:26:04.910\nthe virtual hard disk is located does\nnot support virtual hard disk sharing.\n\n549\n00:26:04.910 --> 00:26:07.230\nI stored it on storage\nthat doesn't support it.\n\n550\n00:26:07.230 --> 00:26:12.560\nIt needs to be stored on this actual\nmachine and I was picking remote storage.\n\n551\n00:26:12.560 --> 00:26:18.240\nBut basically, I can have this drive\nthat's now connected to more than one VM.\n\n552\n00:26:18.240 --> 00:26:20.930\nAnd I didn't have to have\ncrazy hardware to support it.\n\n553\n00:26:20.930 --> 00:26:24.770\nRight, I didn't have to have an actual SAN\nor even like a low-performing iSCSI SAN.\n\n554\n00:26:24.770 --> 00:26:28.165\nThis will we a lot faster,\nI don't get a lot of redundancy and\n\n555\n00:26:28.165 --> 00:26:29.065\nresiliency out of this.\n\n556\n00:26:29.065 --> 00:26:32.205\nCuz the storage is right here\non the Hyper-V host, right?\n\n557\n00:26:32.205 --> 00:26:36.115\nBut in a lab, in a learning environment,\nif I am just wanting to practice and\n\n558\n00:26:36.115 --> 00:26:38.760\nlearn, it's a great way to\njust jump in and do that.\n\n559\n00:26:38.760 --> 00:26:40.610\nAnd not have to worry about it.\n\n560\n00:26:40.610 --> 00:26:43.890\nThat won't pass Microsoft's\nverification though.\n\n561\n00:26:43.890 --> 00:26:45.890\nThey don't want you doing\nthat in production.\n\n562\n00:26:45.890 --> 00:26:48.260\nBut in lab and learning, that does work.\n\n563\n00:26:48.260 --> 00:26:51.860\nSpeaking of Microsoft's validation, I can\nsee that cluster tool finished installing.\n\n564\n00:26:51.860 --> 00:26:53.390\nLet me jump back over to that.\n\n565\n00:26:53.390 --> 00:26:58.160\nAnd now that it's installed,\nif I go up here to tools,\n\n566\n00:26:58.160 --> 00:27:01.650\nI have a nice, shiny, new tool,\nthe Failover Cluster Manager and\n\n567\n00:27:01.650 --> 00:27:06.810\nI can jump into that and\neventually it'll launch, there we go.\n\n568\n00:27:06.810 --> 00:27:11.910\nAnd I can come in here and\nI can do the validate configuration,\n\n569\n00:27:11.910 --> 00:27:15.430\nand I'll see that option in here in a\nmoment right here, validate configuration.\n\n570\n00:27:15.430 --> 00:27:18.660\nSo even before I build a cluster,\nI can come in and\n\n571\n00:27:18.660 --> 00:27:21.730\nI can validate the hardware\nthat I'm using.\n\n572\n00:27:21.730 --> 00:27:26.510\nAnd if you click on that, it's a simple\nlittle wizard that it walks you through\n\n573\n00:27:26.510 --> 00:27:28.460\nand you basically tell it you\nwant it to run the test, right.\n\n574\n00:27:28.460 --> 00:27:31.156\nSo here it's just giving me the little\ndialogue telling me what it's gonna do.\n\n575\n00:27:31.156 --> 00:27:34.460\nThis is all the stuff I've been\ntalking about for 20 minutes now.\n\n576\n00:27:34.460 --> 00:27:35.960\nAnd then after here,\n\n577\n00:27:35.960 --> 00:27:40.030\nit gives me the chance to pick the servers\nthat I want to validate, right?\n\n578\n00:27:40.030 --> 00:27:46.290\nSo if I'm on node01.lab.itpro.tv,\nI can punch that in and add that one.\n\n579\n00:27:46.290 --> 00:27:48.620\nIt's reaching out to that\nserver to verify, and\n\n580\n00:27:48.620 --> 00:27:50.410\nthen we can start to run the tests.\n\n581\n00:27:50.410 --> 00:27:53.700\nSo when you look at the tests,\nthere's a lot of tests.\n\n582\n00:27:53.700 --> 00:27:56.990\nSo run all tests is selected by default or\nI can pick and\n\n583\n00:27:56.990 --> 00:27:58.950\nchoose the tests I wanna run.\n\n584\n00:27:58.950 --> 00:28:02.310\nAnd it's kind of fun to do that cuz you\ncan see all the tests that it does run.\n\n585\n00:28:02.310 --> 00:28:04.860\nThe inventory, network storage, and so on.\n\n586\n00:28:04.860 --> 00:28:08.180\nBut you can run all of\nthese different tests, and\n\n587\n00:28:08.180 --> 00:28:10.530\nmake sure that you are able\nto do be supported.\n\n588\n00:28:10.530 --> 00:28:12.514\n&gt;&gt; In compliance or\nyeah, they're supported.\n\n589\n00:28:12.514 --> 00:28:14.920\n&gt;&gt; So I'll just go back and\nchoose random all.\n\n590\n00:28:14.920 --> 00:28:17.340\nAnd then when you hit Next,\nit's just gonna tell you, okay,\n\n591\n00:28:17.340 --> 00:28:20.730\nhere's all the stuff that it's\ngonna run and it's a big list.\n\n592\n00:28:20.730 --> 00:28:22.980\nAnd we move forward and\nthere it goes running.\n\n593\n00:28:22.980 --> 00:28:26.720\nOkay, now hopefully it get all green and\nif you do, that means you're supported and\n\n594\n00:28:26.720 --> 00:28:29.880\nyou're ready to do your cluster and\nMicrosoft will be ready to help you too.\n\n595\n00:28:29.880 --> 00:28:33.610\nIf you get red, that means that Microsoft\nisn't gonna be able to help you and\n\n596\n00:28:33.610 --> 00:28:37.600\nyou can either a, replace that hardware\nwith something that is supported,\n\n597\n00:28:37.600 --> 00:28:39.150\nwhich sometimes means updating a driver.\n\n598\n00:28:39.150 --> 00:28:40.630\nSometimes that's all it takes.\n\n599\n00:28:40.630 --> 00:28:44.730\nOr b, you can proceed and just never\ncall Microsoft for support, right?\n\n600\n00:28:44.730 --> 00:28:45.925\nThat's the other option.\n\n601\n00:28:45.925 --> 00:28:49.260\nOkay, now my system did validate,\nit shows, right there, I'm validated.\n\n602\n00:28:49.260 --> 00:28:54.490\nBut I got a warning, and so I can look at\nmy report, if I choose to view the report.\n\n603\n00:28:54.490 --> 00:29:01.240\nAnd I can poke around in here and try and\nfind why I didn't get a full on success\n\n604\n00:29:01.240 --> 00:29:05.700\nand sorry, this is the first time I've run\nIE, so it's doing a lot of good stuff.\n\n605\n00:29:05.700 --> 00:29:07.690\nThere we go, but I can come in here and\n\n606\n00:29:07.690 --> 00:29:10.100\nI can look in try to find\nout why I got a warning.\n\n607\n00:29:10.100 --> 00:29:12.950\nNow looking at it, I get a lot\nof not applicable because I'm in\n\n608\n00:29:12.950 --> 00:29:16.060\na virtual machine and so\nthat's like my warning was.\n\n609\n00:29:16.060 --> 00:29:18.900\nBut you can continue to read through\nall these different reports, and\n\n610\n00:29:18.900 --> 00:29:21.550\nI see that I got quite a few successes.\n\n611\n00:29:21.550 --> 00:29:26.230\nAnd so far I'm not seeing a warning, so it\nlooks like it's just the fact that I'm on\n\n612\n00:29:26.230 --> 00:29:32.060\nthe Hyper-V node in my case and\nhere's some of the disk output.\n\n613\n00:29:32.060 --> 00:29:37.500\nAnd yeah, actually, everything looks good\nhere, and I'm ready to move forward.\n\n614\n00:29:37.500 --> 00:29:39.970\nThere's this test I wasn't able to run,\nthere's my warning.\n\n615\n00:29:39.970 --> 00:29:43.870\nThis test requires more than one node,\nI haven't built my cluster yet, so\n\n616\n00:29:43.870 --> 00:29:45.520\nI can't do a multi-node test.\n\n617\n00:29:45.520 --> 00:29:46.930\nAnd so that's why we got that warning.\n\n618\n00:29:46.930 --> 00:29:51.007\nBut otherwise, I'm valid and now I'm\nready to go and actually build a cluster.\n\n619\n00:29:51.007 --> 00:29:53.120\n&gt;&gt; Okay, now that we're all teed up,\nwe're ready to go ahead and\n\n620\n00:29:53.120 --> 00:29:54.770\ncreate that cluster and configure it.\n\n621\n00:29:54.770 --> 00:29:55.916\nI look at the clock and we're out of time.\n\n622\n00:29:55.916 --> 00:29:56.630\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n623\n00:29:56.630 --> 00:29:59.470\nthat means we're gonna have to\ncome back for a part two, Don.\n\n624\n00:29:59.470 --> 00:30:02.520\nThank you for joining us today and\nthank you for joining us as well, but\n\n625\n00:30:02.520 --> 00:30:03.890\nwe are out of time.\n\n626\n00:30:03.890 --> 00:30:05.801\nSo I'll go ahead and\nsign out as your host, Cherokee Boose.\n\n627\n00:30:05.801 --> 00:30:07.284\n&gt;&gt; And I'm Don Pezet.\n\n628\n00:30:07.284 --> 00:30:09.209\n&gt;&gt; See you next time here at ITProTV.\n\n629\n00:30:09.209 --> 00:30:17.005\n[MUSIC]\n\n630\n00:30:17.005 --> 00:30:21.740\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "237915966"
        },
        {
          "description": "In this episode, Don continues explaining how the Failover Cluster feature works in Windows Server 2016. He demonstrates installing the Failover Cluster feature, configuring shared storage and configuring cluster quorum.",
          "length": "1946",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-3-2-failover_clustering_pt2-101117.00_38_46_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-3-2-failover_clustering_pt2-101117.00_38_46_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-3-2-failover_clustering_pt2-101117.00_38_46_22.Still001-sm.jpg",
          "title": "Failover Clustering Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:02.681\nWelcome to ITPro.TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.681 --> 00:00:06.154\n[CROSSTALK]\n\n3\n00:00:06.154 --> 00:00:08.219\n[MUSIC]\n\n4\n00:00:08.219 --> 00:00:10.530\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:10.530 --> 00:00:17.270\n&gt;&gt; Welcome to your Installation, Storage,\nand Compute with Windows Server 2016 show.\n\n6\n00:00:17.270 --> 00:00:19.260\nI'm your host, Cherokee Boose.\n\n7\n00:00:19.260 --> 00:00:21.480\nThis is actually a Part Two continuation,\n\n8\n00:00:21.480 --> 00:00:24.520\nwhere we will look at the setup\nof failover clustering.\n\n9\n00:00:24.520 --> 00:00:27.570\nAnd back in studios with us\ntoday we have Mr. Don Pezet.\n\n10\n00:00:27.570 --> 00:00:29.240\nThank you for joining us Don,\nhow's it going?\n\n11\n00:00:29.240 --> 00:00:31.160\n&gt;&gt; It is going great, and\nglad to be back, and,\n\n12\n00:00:31.160 --> 00:00:34.300\nand continuing on the adventure that\nwe kind of set part in in Part One.\n\n13\n00:00:35.900 --> 00:00:39.600\nWe talk a lot about clustering, failover\nclustering, what it is, and what it does.\n\n14\n00:00:39.600 --> 00:00:42.339\nWe talked about validating our cluster for\nsupport reasons,\n\n15\n00:00:42.339 --> 00:00:44.350\nwe installed the failover cluster feature.\n\n16\n00:00:44.350 --> 00:00:45.560\n&gt;&gt; We got everything ready.\n\n17\n00:00:45.560 --> 00:00:49.250\n&gt;&gt; But, we didn't really achieve much,\nright, it was all prep work.\n\n18\n00:00:49.250 --> 00:00:51.700\nAnd so now, in this episode,\nwe actually get to have some fun.\n\n19\n00:00:51.700 --> 00:00:53.770\nWe're going to build a failover cluster.\n\n20\n00:00:53.770 --> 00:00:55.890\nWe're gonna get two nodes up and\ngoing, and happy, and\n\n21\n00:00:55.890 --> 00:01:00.120\ntalking, using shared storage, actually\nproviding the services that we need\n\n22\n00:01:00.120 --> 00:01:03.700\nto keep an application up and\navailable even if an entire server fails.\n\n23\n00:01:03.700 --> 00:01:06.380\nAnd we're going to get to see all that,\nright here in this episode.\n\n24\n00:01:07.800 --> 00:01:10.740\n&gt;&gt; I feel like you're like,\nokay, and then you drum roll or\n\n25\n00:01:10.740 --> 00:01:12.200\nsomething like spectacular.\n\n26\n00:01:12.200 --> 00:01:13.261\n&gt;&gt; Well yeah, a moment of anticipation.\n\n27\n00:01:13.261 --> 00:01:14.900\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] I know.\n\n28\n00:01:14.900 --> 00:01:17.840\n&gt;&gt; Well for a lot of people this\nis the moment of trepidation.\n\n29\n00:01:17.840 --> 00:01:19.240\nThat building a cluster.\n\n30\n00:01:19.240 --> 00:01:21.010\n&gt;&gt; Like okay, it's gonna work or\nit's gonna fail.\n\n31\n00:01:21.010 --> 00:01:24.050\n&gt;&gt; And there's a lot of money on the line,\nright, the servers are expensive,\n\n32\n00:01:24.050 --> 00:01:25.320\nthe storage is expensive.\n\n33\n00:01:25.320 --> 00:01:27.570\nThere's a lot of places you\ncan make a bad decision,\n\n34\n00:01:27.570 --> 00:01:30.720\nbut it's usually pretty easy\nto find those bad decisions.\n\n35\n00:01:30.720 --> 00:01:35.600\nAll right, maybe that's not a good, but,\n[LAUGH] Spot the mistakes that we made and\n\n36\n00:01:35.600 --> 00:01:38.090\nget in there and correct it and\nget going with it.\n\n37\n00:01:38.090 --> 00:01:41.450\nSo What we did at the end of the last\nepisode is I had installed the failover\n\n38\n00:01:41.450 --> 00:01:46.030\ncluster feature on two nodes,\non node one and node two.\n\n39\n00:01:46.030 --> 00:01:49.520\nAnd now I'm ready to actually get in and\nbuild the cluster,\n\n40\n00:01:49.520 --> 00:01:50.750\nto tell them they're gonna be clustering.\n\n41\n00:01:50.750 --> 00:01:53.130\nSo I'm assuming at this point,\nif you're following along,\n\n42\n00:01:53.130 --> 00:01:55.820\nyou've already installed that feature and\nyou've already run the validation test,\n\n43\n00:01:55.820 --> 00:01:58.540\nor if you're doing it in lab who cares,\nskip validation.\n\n44\n00:01:58.540 --> 00:02:00.720\nAnd now we're ready to go in and\nbuild a cluster.\n\n45\n00:02:00.720 --> 00:02:04.020\nAnd it will harp on us about validation\nagain, even if we've already run it.\n\n46\n00:02:04.020 --> 00:02:06.030\nSo, we'll see that more than once.\n\n47\n00:02:06.030 --> 00:02:07.110\nBut if I'm ready to go and\n\n48\n00:02:07.110 --> 00:02:11.020\nbuild that cluster then I need to start\nby launching my Failover Cluster Manager.\n\n49\n00:02:11.020 --> 00:02:14.670\nSo I'm gonna jump over to node one,\nand this is my first node.\n\n50\n00:02:14.670 --> 00:02:16.740\nAnd I just gonna go into\nmy Server manager and\n\n51\n00:02:16.740 --> 00:02:20.260\nI'll go to Tools, and\nFailover Cluster Manager.\n\n52\n00:02:20.260 --> 00:02:23.940\nAnd in the Failover Cluster Manager when\nit launches, it's kind of a busy window,\n\n53\n00:02:23.940 --> 00:02:26.490\nthere's a lot of stuff\ngoing on inside of it.\n\n54\n00:02:26.490 --> 00:02:30.500\nAnd it's basically giving me\nthe tools I need to get in and\n\n55\n00:02:30.500 --> 00:02:32.590\nget started with creating this cluster.\n\n56\n00:02:32.590 --> 00:02:35.630\nNow, if I already had a cluster, I could\nconnect to one that already existed,\n\n57\n00:02:35.630 --> 00:02:37.728\nif I kinda look over\nhere on my action pane.\n\n58\n00:02:37.728 --> 00:02:41.160\nSee how I've got connect to a cluster,\nbut I want to create a cluster.\n\n59\n00:02:41.160 --> 00:02:44.420\nI'm starting over because I\ndon't have one and I'm lonely.\n\n60\n00:02:44.420 --> 00:02:48.110\nSo I'm gonna create a cluster and\nwhen we do that,\n\n61\n00:02:48.110 --> 00:02:49.380\nwe just walk through a simple wizard.\n\n62\n00:02:49.380 --> 00:02:53.210\nNow quick word of caution,\nif you watch the NLB episode,\n\n63\n00:02:53.210 --> 00:02:56.880\nthe Network Load Balancing episode,\nwe created the cluster there, right,\n\n64\n00:02:56.880 --> 00:02:58.050\na different kind of cluster,\n\n65\n00:02:58.050 --> 00:03:01.540\none that didn't have shared storage,\nwe are going to have shared storage.\n\n66\n00:03:01.540 --> 00:03:05.492\nWith NLB is was perfectly happy with\nme creating a one node cluster.\n\n67\n00:03:05.492 --> 00:03:10.450\nWith failover clusters though,\nit really doesn't like a one node cluster.\n\n68\n00:03:10.450 --> 00:03:14.800\nAnd if you do a one node cluster, there's\na step in the wizard where it goes to\n\n69\n00:03:14.800 --> 00:03:18.540\nvalidate information and create\nthe cluster, it can take 20 minutes,\n\n70\n00:03:18.540 --> 00:03:21.550\nbecause it's waiting for this other node\nto appear that's never going to appear.\n\n71\n00:03:21.550 --> 00:03:23.640\nIt will finish, but\nit'll take a long time, and\n\n72\n00:03:23.640 --> 00:03:25.150\nI don't have that much\ntime in the episode.\n\n73\n00:03:25.150 --> 00:03:28.360\nSo we normally want to make sure by\nthe time we're ready to create a cluster,\n\n74\n00:03:28.360 --> 00:03:30.940\nthat we've got at least two nodes ready.\n\n75\n00:03:30.940 --> 00:03:32.710\nSo none of this one node mess.\n\n76\n00:03:32.710 --> 00:03:34.040\nSo when I come in here and create it,\n\n77\n00:03:34.040 --> 00:03:36.850\nthat something is gonna be important,\nI need to have that second node ready.\n\n78\n00:03:36.850 --> 00:03:38.385\nNow I can start to move to the wizard and\n\n79\n00:03:38.385 --> 00:03:40.300\nit's gonna ask some simple questions,\nright.\n\n80\n00:03:40.300 --> 00:03:42.590\nWhat servers do I wanna cluster?\n\n81\n00:03:42.590 --> 00:03:46.650\nAnd I'll punch in,\nI'm gonna do node01.lab.itpro.tv,\n\n82\n00:03:46.650 --> 00:03:49.220\nthat's the node that I'm on right now.\n\n83\n00:03:49.220 --> 00:03:50.620\nAnd I don't have to be on the node,\n\n84\n00:03:50.620 --> 00:03:54.090\nI could have been doing this from my\nworkstation, I just happen to be here.\n\n85\n00:03:54.090 --> 00:04:00.030\nAnd then I'll add node02.lab.itprotv,\nand I'll add that one in.\n\n86\n00:04:00.030 --> 00:04:03.340\nSo there's my two nodes,\nnode01 and node02.\n\n87\n00:04:03.340 --> 00:04:07.740\nAgain, if you just do one, the wizard\ntakes way longer because of some of it's\n\n88\n00:04:07.740 --> 00:04:10.260\nsteps that it goes through, but\nI could continue adding here, and\n\n89\n00:04:10.260 --> 00:04:13.050\nadd as many as I needed to\nget my cluster built up.\n\n90\n00:04:14.450 --> 00:04:16.357\nAll right, then as we move forward,\n\n91\n00:04:16.357 --> 00:04:18.949\nit's gonna ask do I want\nto run a validation test.\n\n92\n00:04:18.949 --> 00:04:22.213\nNow, I already read the evaluation test,\nand we were fine here, but\n\n93\n00:04:22.213 --> 00:04:24.250\nit's offering to run them again.\n\n94\n00:04:24.250 --> 00:04:25.278\nI'm gonna choose no.\n\n95\n00:04:25.278 --> 00:04:26.950\n&gt;&gt; We're going to opt out.\n[LAUGH]\n\n96\n00:04:26.950 --> 00:04:28.374\n&gt;&gt; We don't wanna do double work,\n\n97\n00:04:28.374 --> 00:04:29.590\nextra work here.\n\n98\n00:04:29.590 --> 00:04:33.547\n&gt;&gt; [LAUGH] That's right, but\nif you read it, it really does hit home\n\n99\n00:04:33.547 --> 00:04:34.080\n&gt;&gt; It says no,\n\n100\n00:04:34.080 --> 00:04:37.500\nI do not require support from\nMicrosoft for this cluster.\n\n101\n00:04:37.500 --> 00:04:41.089\nYou're basically saying I just\ncan't call phone support.\n\n102\n00:04:41.089 --> 00:04:42.922\n&gt;&gt; So that's what I'm gonna tell it, but\n\n103\n00:04:42.922 --> 00:04:45.320\nin production,\nI do want support from Microsoft.\n\n104\n00:04:45.320 --> 00:04:47.650\n&gt;&gt; So\nyou actually do have to run it twice.\n\n105\n00:04:47.650 --> 00:04:50.090\n&gt;&gt; Yeah.\n&gt;&gt; Or we were just doing it preemptively.\n\n106\n00:04:50.090 --> 00:04:53.580\n&gt;&gt; Right, otherwise you run into a\nsituation where support might harp on you\n\n107\n00:04:53.580 --> 00:04:55.370\nwhile you're on the phone,\nand you gotta run it again.\n\n108\n00:04:55.370 --> 00:04:57.040\n&gt;&gt; Good to know.\n&gt;&gt; Yep, all right, so\n\n109\n00:04:57.040 --> 00:04:58.980\nthen when I move forward it's gonna\nask me to pick the cluster name.\n\n110\n00:04:58.980 --> 00:05:02.550\nNow, you can the cluster whatever you\nwant, call it Bob, it'll be fine, but\n\n111\n00:05:02.550 --> 00:05:03.920\nit needs to be a name\nthat you can recognize.\n\n112\n00:05:03.920 --> 00:05:07.310\nCuz if you have a bunch of clusters,\nhow do you know what the cluster does?\n\n113\n00:05:07.310 --> 00:05:11.290\nAnd you might be tempted to name it based\noff of a service, if I'm clustering a web\n\n114\n00:05:11.290 --> 00:05:14.970\nserver and I've got a one website on\nthere I might wanna name it after that.\n\n115\n00:05:14.970 --> 00:05:19.780\nBut a cluster can actually balance and do\nfailover from more than one application.\n\n116\n00:05:19.780 --> 00:05:24.160\nI might have a clustered web server and\nfile server, and\n\n117\n00:05:24.160 --> 00:05:27.270\nDACP server,\nall right here inside of one cluster.\n\n118\n00:05:27.270 --> 00:05:30.830\nSo I'm gonna name mine a little more\ngeneric and just call it cluster01.\n\n119\n00:05:30.830 --> 00:05:35.510\nThis is gonna be my first cluster,\nbut it just needs to be that name.\n\n120\n00:05:35.510 --> 00:05:40.160\nAnd then down here, it's asking about\nthe IP address for the cluster.\n\n121\n00:05:40.160 --> 00:05:43.697\nThis is very similar to network\nload balancing, that in order for\n\n122\n00:05:43.697 --> 00:05:47.748\nthese multiple pieces of hardware to\nlook like ones server on the network,\n\n123\n00:05:47.748 --> 00:05:51.473\nwe need a virtual IP, an IP that they\ncan use that will look like them,\n\n124\n00:05:51.473 --> 00:05:54.025\nthat will look like them on the network.\n\n125\n00:05:54.025 --> 00:05:58.166\nAnd so I'm going to come in here and\nassign an IP,\n\n126\n00:05:58.166 --> 00:06:03.016\nwow I'm going to need 10.0.2.2 2 network,\nand\n\n127\n00:06:03.016 --> 00:06:08.791\nI will make this 10.0.222.210,\nor let's do 205.\n\n128\n00:06:08.791 --> 00:06:10.572\nI'm trying to think of an IP\nthat I know is not in use.\n\n129\n00:06:10.572 --> 00:06:14.175\n[LAUGH] If you pick an IP that's in\nuse that's fun, because then you get\n\n130\n00:06:14.175 --> 00:06:17.676\na duplicate and and you collide with\na host that already has that IP.\n\n131\n00:06:17.676 --> 00:06:19.980\nSo you need to pick one that's not in use.\n\n132\n00:06:19.980 --> 00:06:23.010\nAnd that's gonna be the IP\naddress of the cluster.\n\n133\n00:06:23.010 --> 00:06:26.790\nEach node has its own IP, but this will\nbe the IP of the cluster itself, and\n\n134\n00:06:26.790 --> 00:06:29.790\nwhen I connect to this, that's where\nI'll want to do my management from.\n\n135\n00:06:29.790 --> 00:06:32.980\nNow as I move forward from here,\n\n136\n00:06:32.980 --> 00:06:36.090\nit's going to ask just a few more\nlittle questions, not really much.\n\n137\n00:06:36.090 --> 00:06:38.480\nIt's gonna give me the summary\nof the nodes that are in here,\n\n138\n00:06:38.480 --> 00:06:43.700\nand it's gonna ask if I want to add\nall eligible storage to the cluster.\n\n139\n00:06:43.700 --> 00:06:49.350\nNow this is an important one, when you set\nup a cluster, you need shared storage.\n\n140\n00:06:49.350 --> 00:06:53.080\nBut there are some scenarios where you\ndon't need shared storage, where you're\n\n141\n00:06:53.080 --> 00:06:57.020\nreplicating the data yourself, so you\nactually have more than set of storage.\n\n142\n00:06:57.020 --> 00:06:59.520\nThere's no way for the Cluster Manager\nto know you're doing that.\n\n143\n00:06:59.520 --> 00:07:02.070\nSo if you are,\nyou need to turn this option off and\n\n144\n00:07:02.070 --> 00:07:03.940\nsay I'll set the storage up later.\n\n145\n00:07:03.940 --> 00:07:06.370\nAnd that way you can tell it\nwhere the storage is found.\n\n146\n00:07:06.370 --> 00:07:09.530\nThere are also some cluster roles\nthat just don't need shared storage.\n\n147\n00:07:09.530 --> 00:07:11.739\nLike if you have a web server\nthat you're clustering,\n\n148\n00:07:11.739 --> 00:07:14.705\nyou might have where each node maintains\na separate copy of the web page.\n\n149\n00:07:14.705 --> 00:07:17.900\nThis is not a lot of data, so\nyou don't need to do that.\n\n150\n00:07:17.900 --> 00:07:21.880\nBut if you check this off, it will look\nfor any hard drives that are available on\n\n151\n00:07:21.880 --> 00:07:24.890\nthe system that are ready to be used for\nthe cluster.\n\n152\n00:07:24.890 --> 00:07:26.990\nSo before I do that,\nlet me show you on mine,\n\n153\n00:07:28.070 --> 00:07:33.870\nif I go into my computer management,\nI want to show you my discs.\n\n154\n00:07:33.870 --> 00:07:37.560\nNow, I didn't have an extra SAN\nlaying around, oddly enough.\n\n155\n00:07:38.880 --> 00:07:40.530\n&gt;&gt; Funny how that works, right?\n\n156\n00:07:40.530 --> 00:07:43.155\n&gt;&gt; So I used an iSCSI SAN, right.\n\n157\n00:07:43.155 --> 00:07:46.917\nAn iSCSI SAN is that regular network one,\nit's a lot less expensive, easier for\n\n158\n00:07:46.917 --> 00:07:48.315\nme to have one laying around.\n\n159\n00:07:48.315 --> 00:07:52.250\nAnd with that iSCSI SAN, can have more\nthan one server connected to the same\n\n160\n00:07:52.250 --> 00:07:55.934\nstorage and that's exactly what\nI've got And when I connected that,\n\n161\n00:07:55.934 --> 00:07:58.764\nthe storage will show up\nhere under Disk Management.\n\n162\n00:07:58.764 --> 00:07:59.590\nHere it is.\n\n163\n00:07:59.590 --> 00:08:01.030\nI've got Disk 1, Disk 2, and\n\n164\n00:08:01.030 --> 00:08:04.690\nthere's actually a third disk which\nI may have forgotten to connect.\n\n165\n00:08:04.690 --> 00:08:06.060\nNo, there it is, down there at the bottom.\n\n166\n00:08:06.060 --> 00:08:07.240\nSo it's three disks.\n\n167\n00:08:07.240 --> 00:08:10.830\nAnd see how they show up as Unknown and\nOffline.\n\n168\n00:08:10.830 --> 00:08:14.940\nAll right, that means my server sees the\ndisks but I haven't told it to use that.\n\n169\n00:08:14.940 --> 00:08:18.900\nWindows Server defaults to disk mode,\nbecause if another server is accessing\n\n170\n00:08:18.900 --> 00:08:22.800\nthese disks already and I don't have\nthe cluster acting as that traffic cop to\n\n171\n00:08:22.800 --> 00:08:25.570\nprotect my data-\n&gt;&gt; Like a fail-safe mechanism.\n\n172\n00:08:25.570 --> 00:08:26.650\n&gt;&gt; Right, we could corrupt our data.\n\n173\n00:08:26.650 --> 00:08:28.762\nThe two servers hit the same\ndrive at the same time,\n\n174\n00:08:28.762 --> 00:08:31.233\nit's like crossing the streams\nin GhostBusters, right?\n\n175\n00:08:31.233 --> 00:08:33.440\n&gt;&gt; [LAUGH]\n&gt;&gt; You know, the universe destroys itself.\n\n176\n00:08:33.440 --> 00:08:36.220\nSo, we don't want that, and\nso it's protecting itself.\n\n177\n00:08:36.220 --> 00:08:38.880\nNow, when i run the cluster wizard,\n\n178\n00:08:38.880 --> 00:08:42.050\nit's asking to add eligible\nstorage to the cluster.\n\n179\n00:08:42.050 --> 00:08:45.280\nWell, this is not eligible storage, right?\n\n180\n00:08:45.280 --> 00:08:47.500\nBecause it's all offline.\n\n181\n00:08:47.500 --> 00:08:48.990\nIt's not gonna be able to see it.\n\n182\n00:08:48.990 --> 00:08:52.411\nSo if I wanted to automatically add\nstorage, I need to come in and tell you.\n\n183\n00:08:52.411 --> 00:08:56.063\nNow, I can do it by hand later if I\nwanted, or I could come in here and\n\n184\n00:08:56.063 --> 00:08:57.060\nprep this stuff.\n\n185\n00:08:57.060 --> 00:08:58.260\nNow, I'll be honest with you,\n\n186\n00:08:58.260 --> 00:09:02.372\nin real life, I almost always add it\nlater because I forget what steps to do.\n\n187\n00:09:02.372 --> 00:09:02.872\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n188\n00:09:02.872 --> 00:09:04.390\n&gt;&gt; Not the greatest here.\n\n189\n00:09:04.390 --> 00:09:06.660\nBecause there's three steps.\n\n190\n00:09:06.660 --> 00:09:08.350\nYou need to bring the disk online.\n\n191\n00:09:08.350 --> 00:09:10.210\nYou need to initialize the disk.\n\n192\n00:09:10.210 --> 00:09:12.690\nAnd then you need to partition and\nformat the disk.\n\n193\n00:09:12.690 --> 00:09:14.711\nWell, you actually don't\nwant to partition and\n\n194\n00:09:14.711 --> 00:09:16.742\nformat the disk until\nafter the cluster is made.\n\n195\n00:09:16.742 --> 00:09:18.370\n&gt;&gt; [CROSSTALK] Data or do you have to?\n\n196\n00:09:18.370 --> 00:09:19.806\nOkay.\n&gt;&gt; These are brand new disks,\n\n197\n00:09:19.806 --> 00:09:22.657\nso they're empty, but you're right\nif there was already data on them,\n\n198\n00:09:22.657 --> 00:09:24.355\nI don't wanna partition and format them.\n\n199\n00:09:24.355 --> 00:09:28.473\nSo in those scenarios, you might not want\nto go the automatic route,you might wanna\n\n200\n00:09:28.473 --> 00:09:32.475\ndo it manually, so that you have a little\nmore control over that process But here,\n\n201\n00:09:32.475 --> 00:09:35.170\nI'll go ahead and\nbring two of them online.\n\n202\n00:09:35.170 --> 00:09:38.674\nSo I'm gonna take Disk 1 and Disk 2,\nand I'm gonna bring them online.\n\n203\n00:09:38.674 --> 00:09:42.683\nAnd then I'm gonna initialize\nthem which just drops\n\n204\n00:09:42.683 --> 00:09:46.430\na boot record on either MBR or\nGPT, you can pick.\n\n205\n00:09:46.430 --> 00:09:47.960\nIt's worth both RGPT.\n\n206\n00:09:48.960 --> 00:09:50.170\nSo we're just gonna put on there.\n\n207\n00:09:50.170 --> 00:09:51.949\nAnd so now they're online, right?\n\n208\n00:09:51.949 --> 00:09:56.100\nAnd that shared storage, other servers\ncan see it but I'm now accessing it.\n\n209\n00:09:56.100 --> 00:09:57.910\nAnd I haven't formatted or\npartitioned it yet,\n\n210\n00:09:57.910 --> 00:10:01.698\nI'm gonna leave that be, but\nwe can always do that later on, right?\n\n211\n00:10:01.698 --> 00:10:04.640\nAnd I can go back to my wizard,\n\n212\n00:10:06.010 --> 00:10:09.590\nwhich I have left stuck back\nhere in the background.\n\n213\n00:10:09.590 --> 00:10:13.307\nAnd I'll leave that little check mark\nthat says, add eligible storage, and\n\n214\n00:10:13.307 --> 00:10:17.366\njust notice the third disk that's offline,\nthat one's not gonna get picked out and\n\n215\n00:10:17.366 --> 00:10:18.932\nI'll have to add that later on.\n\n216\n00:10:18.932 --> 00:10:20.769\nAll right, then when I move forward,\nit's ready to go, right?\n\n217\n00:10:20.769 --> 00:10:22.968\nAnd what it's actually\ndoing here is kinda neat.\n\n218\n00:10:22.968 --> 00:10:27.260\nLet me walk you through what it's doing\ncuz it's too fast on the screen to see.\n\n219\n00:10:27.260 --> 00:10:30.210\nFirst off,\nit's reaching into the Active Directory.\n\n220\n00:10:30.210 --> 00:10:35.040\nAnd it's creating a fake computer\nrecord inside of the Active Directory.\n\n221\n00:10:35.040 --> 00:10:39.755\nSo it's saying, I've got a node\ncalled cluster01.lab.itpro.tv.\n\n222\n00:10:39.755 --> 00:10:42.042\nAnd it's a real computer,\neven though it isn't.\n\n223\n00:10:42.042 --> 00:10:42.781\n&gt;&gt; It's like a real boy.\n\n224\n00:10:42.781 --> 00:10:45.210\n[LAUGH]\n&gt;&gt; [LAUGH] It's like Pinocchio.\n\n225\n00:10:45.210 --> 00:10:46.260\nBut in this case,\n\n226\n00:10:46.260 --> 00:10:49.310\nit's a fake computer that represents\nthese two real computers behind it.\n\n227\n00:10:49.310 --> 00:10:51.380\nAnd it's putting the cluster\nconfiguration in the AD.\n\n228\n00:10:51.380 --> 00:10:52.720\nThat's really neat,\n\n229\n00:10:52.720 --> 00:10:57.360\nbecause each node can find\nthe configuration in the Active Directory.\n\n230\n00:10:57.360 --> 00:11:00.947\nIf one node were to fail,\nthe other node is now all by itself.\n\n231\n00:11:00.947 --> 00:11:02.780\nHow does it know its\nconfiguration is right?\n\n232\n00:11:02.780 --> 00:11:03.698\nIt can see it in the AD.\n\n233\n00:11:03.698 --> 00:11:05.310\nSo it's actually talking to that.\n\n234\n00:11:05.310 --> 00:11:07.912\nIt will try to register with DNS,\nwhich may or may not work.\n\n235\n00:11:07.912 --> 00:11:11.186\nI find that it generally takes a long\ntime and I get impatient and go and\n\n236\n00:11:11.186 --> 00:11:12.950\ncreate DNS records myself.\n\n237\n00:11:12.950 --> 00:11:14.140\nBut it'll try and\n\n238\n00:11:14.140 --> 00:11:18.326\ncreate a record with DNS and because-\n&gt;&gt; Is that something you should just check\n\n239\n00:11:18.326 --> 00:11:19.976\nbefore you, you know-\n&gt;&gt; Yeah.\n\n240\n00:11:19.976 --> 00:11:21.580\nYeah, I usually go check it.\n\n241\n00:11:21.580 --> 00:11:25.620\nThe reality is you can get by without the\nDNS record until you get a service up and\n\n242\n00:11:25.620 --> 00:11:27.430\nrunning, then you really need that record.\n\n243\n00:11:27.430 --> 00:11:31.370\nBut in the beginning, we can get by, so\nif you can wait, it'll usually turn up.\n\n244\n00:11:31.370 --> 00:11:35.431\nBut then the other thing is that,\nbecause I chose NODE01 and NODE02,\n\n245\n00:11:35.431 --> 00:11:37.930\nit didn't just configure this on NODE01.\n\n246\n00:11:37.930 --> 00:11:42.600\nIt reached out to NODE02 and did this at\nthe same time, so I don't have to go and\n\n247\n00:11:42.600 --> 00:11:46.840\nconfigure NODE02, I only have to add it\nafter the fact that it'll already be added\n\n248\n00:11:46.840 --> 00:11:50.560\nwhen the cluster comes up, and\nit's already done, I'll hit finish.\n\n249\n00:11:50.560 --> 00:11:53.429\nAnd my screen is gonna\nupdate here in a moment and\n\n250\n00:11:53.429 --> 00:11:57.950\nwhat's gonna look different is that up\nat the top left instead of just being\n\n251\n00:11:57.950 --> 00:12:03.008\nthe Failover Cluster Manager I now see,\nCLUSTER01.lab.itpro.tv, right?\n\n252\n00:12:03.008 --> 00:12:08.608\nAnd I can see that the current\nhost server is NODE02,\n\n253\n00:12:08.608 --> 00:12:11.422\nI'm running on NODE01.\n\n254\n00:12:11.422 --> 00:12:14.377\nWell, for whatever reason,\nNODE02 just happen to come up faster,\n\n255\n00:12:14.377 --> 00:12:16.746\nand so it's become the master for\nthis particular one.\n\n256\n00:12:16.746 --> 00:12:19.405\nNow, in failover clusters you\ndon't actually have a master,\n\n257\n00:12:19.405 --> 00:12:21.660\nlike you do with NLB,\nreally all nodes are equal, but\n\n258\n00:12:21.660 --> 00:12:24.435\nthere's a little bit of a preference\nbased on who comes up first.\n\n259\n00:12:24.435 --> 00:12:25.768\n&gt;&gt; Almost like a little democracy I think\n\n260\n00:12:25.768 --> 00:12:26.507\nwe'll get\n&gt;&gt; Yeah.\n\n261\n00:12:26.507 --> 00:12:27.132\n&gt;&gt; Voting too, here.\n\n262\n00:12:27.132 --> 00:12:29.645\n&gt;&gt; Yeah, it's a [LAUGH]\n&gt;&gt; [LAUGH]\n\n263\n00:12:29.645 --> 00:12:31.009\n&gt;&gt; We could have a whole political\n\n264\n00:12:31.009 --> 00:12:32.702\nstructure going on [LAUGH] [INAUDIBLE].\n\n265\n00:12:32.702 --> 00:12:35.527\n&gt;&gt; [LAUGH] Yeah,\nwe might get ourselves in trouble.\n\n266\n00:12:35.527 --> 00:12:37.421\n&gt;&gt; [LAUGH] This one's the tea party.\n\n267\n00:12:37.421 --> 00:12:38.626\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] And so\n\n268\n00:12:38.626 --> 00:12:40.606\nyou wanna come up for\nsaying, you'll be surprised.\n\n269\n00:12:40.606 --> 00:12:43.427\nI used to have a lot of fun\nwith this because I worked for\n\n270\n00:12:43.427 --> 00:12:46.480\na bank out in Seattle and\nwe had some big clusters.\n\n271\n00:12:46.480 --> 00:12:49.240\nAnd they did load balancing\nbased on performance.\n\n272\n00:12:49.240 --> 00:12:50.820\nIf one cluster node got really busy,\n\n273\n00:12:50.820 --> 00:12:53.070\nthey'd shift resources\nover to another node.\n\n274\n00:12:53.070 --> 00:12:56.660\nAnd when you had virtual machines\nthat were moving around like that,\n\n275\n00:12:56.660 --> 00:12:59.220\nyou'd come in in the morning, and\nit was almost like a guessing game.\n\n276\n00:12:59.220 --> 00:13:01.750\nLike, I wonder where this\nvirtual machine is today?\n\n277\n00:13:01.750 --> 00:13:04.738\nAnd so you wouldn't necessarily\nknow what a hardware it was on\n\n278\n00:13:04.738 --> 00:13:06.354\nbecause the situation changed.\n\n279\n00:13:06.354 --> 00:13:07.271\nSo in this case-\n&gt;&gt; But\n\n280\n00:13:07.271 --> 00:13:10.240\nyou could imagine in the documentation\nwould just be, and I mean, and\n\n281\n00:13:10.240 --> 00:13:11.547\nwe talk about it all the time but\n\n282\n00:13:11.547 --> 00:13:13.267\neven more important because-\n&gt;&gt; Absolutely.\n\n283\n00:13:13.267 --> 00:13:16.440\n&gt;&gt; We might be changing shifts,\nit's like coming on different times.\n\n284\n00:13:16.440 --> 00:13:17.500\n&gt;&gt; Yep, absolutely.\n\n285\n00:13:17.500 --> 00:13:18.380\nIt can be a problem.\n\n286\n00:13:18.380 --> 00:13:20.748\nAnd it's something that you\nshould need to account for,\n\n287\n00:13:20.748 --> 00:13:23.855\nthat when you're dealing with a cluster,\nit's a virtual fake server, so\n\n288\n00:13:23.855 --> 00:13:27.210\nthe actual hardware behind it can change\nsignificantly and you don't notice and\n\n289\n00:13:27.210 --> 00:13:29.980\nthat does make it a little\nmore difficult to track.\n\n290\n00:13:29.980 --> 00:13:33.264\nBut looking at it here I can\nsee that I do have Cluster01,\n\n291\n00:13:33.264 --> 00:13:35.283\nit is up, it appears to be healthy.\n\n292\n00:13:35.283 --> 00:13:38.577\nI don't have any warning, like if\nthere's a problem with it you'll get\n\n293\n00:13:38.577 --> 00:13:42.230\na little red circle with a white X\nthat'll appear on the server name.\n\n294\n00:13:42.230 --> 00:13:43.750\nOr rather symbols.\n\n295\n00:13:43.750 --> 00:13:47.220\nAnd you can expand that out and\nyou can start to look inside of it.\n\n296\n00:13:47.220 --> 00:13:51.940\nAnd if I go in here to the Nodes folder,\nI can see there's NODE01 and\n\n297\n00:13:51.940 --> 00:13:54.300\nNODE02 and they're both up.\n\n298\n00:13:54.300 --> 00:13:57.510\nOkay, they're up and they're running and\nthey each have a vote, right?\n\n299\n00:13:57.510 --> 00:13:59.240\nCherokee mentioned democracy, right?\n\n300\n00:13:59.240 --> 00:14:03.448\nThey each have a vote and they're both\nvoting right now saying that the nodes,\n\n301\n00:14:03.448 --> 00:14:05.540\nthat the cluster is up and healthy.\n\n302\n00:14:05.540 --> 00:14:10.590\nEverybody's healthy If somebody thinks the\ncluster is sick, it changes their vote,\n\n303\n00:14:10.590 --> 00:14:14.380\nand if enough nodes vote together\nto say that the cluster is sick,\n\n304\n00:14:14.380 --> 00:14:17.220\nthen they decide that's there's\na need to fail over, right?\n\n305\n00:14:17.220 --> 00:14:19.740\nThat's how they identify\nthat type of a failure.\n\n306\n00:14:19.740 --> 00:14:22.320\nAnd if I look at my storage over here\nlet's see what happens, this one's\n\n307\n00:14:22.320 --> 00:14:25.810\nalways a bit of a mystery to me which is\nwhy normally I add storage after the fact.\n\n308\n00:14:25.810 --> 00:14:28.400\nBut if I go under disks,\nthere we go, all right?\n\n309\n00:14:28.400 --> 00:14:33.210\nI can see where it has Cluster Disk 1 and\nCluster Disk 2, they're both online and\n\n310\n00:14:33.210 --> 00:14:34.830\nshowing as available.\n\n311\n00:14:34.830 --> 00:14:38.305\nAnd if I scroll over a bit here.\n\n312\n00:14:38.305 --> 00:14:41.149\nI can see one is 256GB and one is 2GB,\n\n313\n00:14:41.149 --> 00:14:45.675\nthose are the two disks that I\nbought online and I added in.\n\n314\n00:14:45.675 --> 00:14:46.975\n&gt;&gt; So that available status,\n\n315\n00:14:46.975 --> 00:14:51.249\ndoes that mean that both of the storage\nunits of those drives are able to be used?\n\n316\n00:14:51.249 --> 00:14:54.177\n&gt;&gt; Yeah, yeah those are ready,\nI can now take them and see they're,\n\n317\n00:14:54.177 --> 00:14:55.865\nlet me make my screen a little bigger.\n\n318\n00:14:55.865 --> 00:14:59.194\nThey were showing as being\nowned by NODE02, right?\n\n319\n00:14:59.194 --> 00:15:05.110\nSo, let's say that I had a file server\n&gt;&gt; And I was putting the file server in\n\n320\n00:15:05.110 --> 00:15:09.870\na cluster and the file server was fronting\ndata that was stored on these two disks.\n\n321\n00:15:09.870 --> 00:15:12.490\nWell, these two disks\nare owned by NODE02 and\n\n322\n00:15:12.490 --> 00:15:15.880\nthat means that the file server\nwill be running on NODE02.\n\n323\n00:15:15.880 --> 00:15:19.998\nAnd if NODE02 fails, the ownership\nof this storage will flip to NODE01.\n\n324\n00:15:19.998 --> 00:15:20.693\n&gt;&gt; Transfer, got it.\n\n325\n00:15:20.693 --> 00:15:26.915\n&gt;&gt; NODE01 knows that it can see these\ndisks but it also knows not to touch them.\n\n326\n00:15:26.915 --> 00:15:30.815\nNODE01 knows that if it touches\nthose disks it can corrupt them.\n\n327\n00:15:30.815 --> 00:15:32.310\nNODE02 knows that it's okay.\n\n328\n00:15:32.310 --> 00:15:34.540\nThis is the red light, green light,\nright, the traffic cop.\n\n329\n00:15:34.540 --> 00:15:36.570\nI can see that right\nhere with the storage.\n\n330\n00:15:36.570 --> 00:15:38.850\nAnd you'll see this change over time.\n\n331\n00:15:38.850 --> 00:15:40.532\nIf you reboot a node\nthe ownership might move.\n\n332\n00:15:40.532 --> 00:15:43.710\nOr you can move the ownership yourself and\nshift it around.\n\n333\n00:15:43.710 --> 00:15:45.240\nWe'll see that later on.\n\n334\n00:15:45.240 --> 00:15:46.430\nBut that can change.\n\n335\n00:15:46.430 --> 00:15:47.210\nYou can move it.\n\n336\n00:15:47.210 --> 00:15:49.220\nAnd you'll be surprised\nsometimes we're hands up.\n\n337\n00:15:49.220 --> 00:15:50.621\nI can figure all of those on NODE01.\n\n338\n00:15:50.621 --> 00:15:53.316\nIt's like I never expected\nit to be on NODE01.\n\n339\n00:15:53.316 --> 00:15:56.555\nBut it went faster on NODE02, apparently.\n\n340\n00:15:56.555 --> 00:15:58.250\nSo that's where it ended up.\n\n341\n00:15:58.250 --> 00:16:00.623\nI do have that third disk\nthat I didn't set up.\n\n342\n00:16:00.623 --> 00:16:02.690\nSo let's say that I wanna get\nthat one added in, right?\n\n343\n00:16:02.690 --> 00:16:06.430\nSo I'm gonna go take that disk three, and\n\n344\n00:16:06.430 --> 00:16:09.160\nI left it where it was offline and\nuninitialized, right?\n\n345\n00:16:09.160 --> 00:16:13.430\nSo I'm gonna bring it online and\nthen I'm going to initialize it, and\n\n346\n00:16:13.430 --> 00:16:15.230\nwe'll just do GTP again.\n\n347\n00:16:15.230 --> 00:16:18.010\nSo here it goes,\nit's gonna be initialized and it'll be up.\n\n348\n00:16:18.010 --> 00:16:21.860\nI'm not gonna partition it yet, again,\nI can partition it whenever I want but\n\n349\n00:16:21.860 --> 00:16:22.640\nI'll leave it be.\n\n350\n00:16:22.640 --> 00:16:24.800\nAnd now I can go back\nto my cluster manager.\n\n351\n00:16:26.110 --> 00:16:28.620\nAnd when I'm looking at the disks here,\n\n352\n00:16:28.620 --> 00:16:33.580\nall the way on the right side you'll\nsee where I can add a disk, right?\n\n353\n00:16:33.580 --> 00:16:35.510\nAnd I can move available storage,\n\n354\n00:16:35.510 --> 00:16:38.330\nthis is how I would move it from\nnode one to node two or whatever.\n\n355\n00:16:38.330 --> 00:16:40.250\nSo I'm gonna add a disk.\n\n356\n00:16:40.250 --> 00:16:45.880\nAnd when I do that, eventually a little\nwindow's gonna pop up, there it is.\n\n357\n00:16:45.880 --> 00:16:47.460\nAnd it'll show any available storage now.\n\n358\n00:16:47.460 --> 00:16:48.650\nIt shows that disk three,\n\n359\n00:16:48.650 --> 00:16:51.490\nthat I just activated and\nI can choose okay to add that in.\n\n360\n00:16:51.490 --> 00:16:54.420\nSo, really easy to add\nthe storage after the fact.\n\n361\n00:16:54.420 --> 00:16:55.080\nAnd, there it goes.\n\n362\n00:16:55.080 --> 00:16:57.175\nIt's added in and it's on node two.\n\n363\n00:16:57.175 --> 00:17:01.090\nNode two must be the leader right now.\n\n364\n00:17:01.090 --> 00:17:02.250\nSo, it's getting everything.\n\n365\n00:17:02.250 --> 00:17:05.380\n&gt;&gt; And, we don't see, you didn't\nhave to bring any machines down.\n\n366\n00:17:05.380 --> 00:17:08.780\nYou were able to go ahead and\nexpand that storage without any down time.\n\n367\n00:17:08.780 --> 00:17:11.190\nAnd, this is exactly why we're\nimplementing these clusters.\n\n368\n00:17:11.190 --> 00:17:13.630\n&gt;&gt; Yeah, now, technically the storage\nisn't doing anything yet.\n\n369\n00:17:13.630 --> 00:17:14.643\nSo it's not that exciting.\n\n370\n00:17:14.643 --> 00:17:15.156\nBut-\n&gt;&gt; [LAUGH]\n\n371\n00:17:15.156 --> 00:17:16.280\n&gt;&gt; But yeah, we're able to do all\n\n372\n00:17:16.280 --> 00:17:17.790\nthis stuff without taking it offline.\n\n373\n00:17:17.790 --> 00:17:18.350\n&gt;&gt; Right.\n\n374\n00:17:18.350 --> 00:17:21.450\n&gt;&gt; Now, I mentioned to you, that,\nit's not actually doing anything.\n\n375\n00:17:21.450 --> 00:17:26.370\nWell, we still need to create a service,\nlike a file server, or a web server,\n\n376\n00:17:26.370 --> 00:17:30.040\nor some kind of role for\nthis to actually be doing something.\n\n377\n00:17:30.040 --> 00:17:33.950\nBut before we do that, there's still one\nmore little set of tasks I wanna do.\n\n378\n00:17:33.950 --> 00:17:36.530\nTechnically, our cluster's done,\nall right.\n\n379\n00:17:36.530 --> 00:17:37.620\nWe've built a cluster.\n\n380\n00:17:37.620 --> 00:17:39.198\nNode one and\nnode two are talking to each other.\n\n381\n00:17:39.198 --> 00:17:40.769\nThey're sending heartbeats back and\n\n382\n00:17:40.769 --> 00:17:43.821\nforth between each other to know if\none goes down or the other, all right.\n\n383\n00:17:43.821 --> 00:17:47.630\nBut, I've got a problem with this cluster,\nall right.\n\n384\n00:17:47.630 --> 00:17:51.340\nWhat I built is an even node cluster.\n\n385\n00:17:51.340 --> 00:17:54.810\nAnd if you do some reading,\nif you dig around on the Internet or\n\n386\n00:17:54.810 --> 00:17:56.710\nwhatever it is that you\nget information from.\n\n387\n00:17:56.710 --> 00:18:00.645\nYou'll hear people talk about even node\nclusters in derogatory terms, right?\n\n388\n00:18:00.645 --> 00:18:01.824\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n389\n00:18:01.824 --> 00:18:04.850\n&gt;&gt; And the reason is when you have two\n\n390\n00:18:04.850 --> 00:18:10.420\npeople right, so Cherokee and I, and\nwe have a vote, right You can have a tie.\n\n391\n00:18:10.420 --> 00:18:14.620\nIf I say yes,\nthat I want to shut down this server.\n\n392\n00:18:14.620 --> 00:18:16.540\nAnd she says no,\nwe don't want to shut down the server.\n\n393\n00:18:16.540 --> 00:18:18.240\nWe've got a tie.\nWhat do we do?\n\n394\n00:18:19.590 --> 00:18:20.930\nYou can't make a decision.\n\n395\n00:18:20.930 --> 00:18:23.165\nSo when you have an even number of nodes.\n\n396\n00:18:23.165 --> 00:18:24.388\n&gt;&gt; [LAUGH] We battle it out.\n\n397\n00:18:24.388 --> 00:18:26.070\n[LAUGH]\n&gt;&gt; Arm wrestling or\n\n398\n00:18:26.070 --> 00:18:27.690\nwhatever solution is we come up with.\n\n399\n00:18:27.690 --> 00:18:30.133\nServers don't have arms so\nthe arm wrestling part doesn't work.\n\n400\n00:18:30.133 --> 00:18:31.830\n&gt;&gt; [LAUGH]\n&gt;&gt; Well cable management arms I guess, but\n\n401\n00:18:31.830 --> 00:18:33.440\nanyhow, so we need something else.\n\n402\n00:18:33.440 --> 00:18:34.890\nWe need a tie breaker, right?\n\n403\n00:18:34.890 --> 00:18:38.759\nIf you have an odd numbered cluster,\nthen you're fine.\n\n404\n00:18:38.759 --> 00:18:41.748\nRight, so if I had seven nodes or\nthree nodes, I'd be fine.\n\n405\n00:18:41.748 --> 00:18:45.954\nBut with two nodes I've got\na potential for a tie, right?\n\n406\n00:18:45.954 --> 00:18:50.430\nAnd what happens is, let's say I've\ngot two servers, all right, and\n\n407\n00:18:50.430 --> 00:18:53.268\nthe network connection dies\nbetween the two servers.\n\n408\n00:18:53.268 --> 00:18:56.120\nNow the servers can't send\neach other a heartbeat.\n\n409\n00:18:56.120 --> 00:18:58.680\nSo they're gonna think\neach other are down.\n\n410\n00:18:58.680 --> 00:19:03.280\nServer one can't see server two,\nso server one goes active.\n\n411\n00:19:03.280 --> 00:19:06.310\nServer two can't see server one,\nso server two goes active.\n\n412\n00:19:06.310 --> 00:19:08.450\nI've got two active servers.\n\n413\n00:19:08.450 --> 00:19:11.110\nWhat happens when two servers access\nthe same storage at the same time?\n\n414\n00:19:11.110 --> 00:19:12.350\n&gt;&gt; You get that corruption.\n\n415\n00:19:12.350 --> 00:19:13.720\n&gt;&gt; That's what happens, right?\n\n416\n00:19:13.720 --> 00:19:18.150\nSo if I just leave my cluster alone right\nnow it's a recipe for disaster, right?\n\n417\n00:19:18.150 --> 00:19:20.880\nSo I don't wanna bring\nup any services yet.\n\n418\n00:19:20.880 --> 00:19:22.445\nBecause I'll likely have to redo it.\n\n419\n00:19:22.445 --> 00:19:24.550\n[LAUGH] Cuz my data's\ngonna get all messed up.\n\n420\n00:19:24.550 --> 00:19:26.560\nSo, I need a tie breaker.\n\n421\n00:19:26.560 --> 00:19:29.400\nAnd that means I can either bring in a\nthird node, if I've got one laying around.\n\n422\n00:19:29.400 --> 00:19:31.840\nThese virtual machines,\nI really could, right?\n\n423\n00:19:31.840 --> 00:19:35.060\nBut if this was real hardware, I might not\nwant to kinda buy another hardware, right?\n\n424\n00:19:35.060 --> 00:19:38.230\nI'm gonna blow my entire IT budget\nright here in this hardware, right?\n\n425\n00:19:38.230 --> 00:19:39.450\nSo, I need a tie breaker.\n\n426\n00:19:39.450 --> 00:19:43.550\nAnd that tie breaker is part of\na system that's what's called Quorum.\n\n427\n00:19:43.550 --> 00:19:48.260\nQuorum, I don't know the history of that\nword if it is Latin or whatever, but\n\n428\n00:19:48.260 --> 00:19:52.720\nquorum is basically the vote that\noccurs between all these nodes.\n\n429\n00:19:52.720 --> 00:19:56.680\nThey take a vote and\nthe majority or the quorum wins.\n\n430\n00:19:56.680 --> 00:19:59.130\nSo if you're a node all by yourself,\n\n431\n00:19:59.130 --> 00:20:01.653\nyou can't get Quorum\nbecause you're by yourself.\n\n432\n00:20:01.653 --> 00:20:04.832\nYou need at least one or the [CROSSTALK]\n&gt;&gt; There is no majority of [CROSSTALK]\n\n433\n00:20:04.832 --> 00:20:05.581\n&gt;&gt; Yeah, and\n\n434\n00:20:05.581 --> 00:20:08.661\nso in a two node cluster,\nif one node fails,\n\n435\n00:20:08.661 --> 00:20:14.620\nthe cluster actually goes down because\nthe second node can't make up its mind.\n\n436\n00:20:14.620 --> 00:20:17.650\nAnd we would have to go in and\nmanually tell it, hey, it's okay,\n\n437\n00:20:17.650 --> 00:20:20.470\ngo ahead and fill it up, you can do it,\nyou can do it buddy, right?\n\n438\n00:20:20.470 --> 00:20:22.360\nAnd then node two will take over, right?\n\n439\n00:20:22.360 --> 00:20:23.750\nBut we have to manually do it.\n\n440\n00:20:23.750 --> 00:20:25.930\nThe whole point is cluster\nis high availability,\n\n441\n00:20:25.930 --> 00:20:28.240\nI want this to happen automatically.\n\n442\n00:20:28.240 --> 00:20:29.660\nSo I need a tie breaker.\n\n443\n00:20:29.660 --> 00:20:34.478\nI need a second independent party,\nsomebody who can step in and say, no,\n\n444\n00:20:34.478 --> 00:20:38.038\nyou think node one's down but\nnode one's actually up.\n\n445\n00:20:38.038 --> 00:20:40.980\nOr no, it's just you,\nyou're down, not node one.\n\n446\n00:20:40.980 --> 00:20:42.570\nSo we need somebody who can do that.\n\n447\n00:20:42.570 --> 00:20:44.540\nAnd that's where Quorum comes in.\n\n448\n00:20:44.540 --> 00:20:49.400\nSo we need to get that configured on here\nif we want this to work well, right.\n\n449\n00:20:49.400 --> 00:20:53.310\nSo what I'm gonna do, is I'm gonna\ngo ahead in my cluster manager here,\n\n450\n00:20:53.310 --> 00:20:54.260\nI'm gonna choose the cluster.\n\n451\n00:20:54.260 --> 00:20:57.462\nAnd if you right click on the cluster,\nyou'll see, you know,\n\n452\n00:20:57.462 --> 00:20:59.100\na number of different options.\n\n453\n00:20:59.100 --> 00:21:01.039\nIf you go under more actions,\n\n454\n00:21:01.039 --> 00:21:05.158\nyou'll find Configure Cluster\nQuorum Settings, all right?\n\n455\n00:21:05.158 --> 00:21:06.293\nAnd there's a shortcut for\n\n456\n00:21:06.293 --> 00:21:09.110\nthis that shows up on the main screen\nwhen you first launch the tool.\n\n457\n00:21:09.110 --> 00:21:12.070\nBut sometimes it shows up, sometimes it\ndoesn't, so I always come in this way.\n\n458\n00:21:12.070 --> 00:21:14.275\nRight click on the cluster,\ngo to More Actions,\n\n459\n00:21:14.275 --> 00:21:17.370\nchoose Configure Cluster Quorum Settings,\nall right?\n\n460\n00:21:17.370 --> 00:21:20.710\nAnd when you launch that, it's got a\nlittle wizard, and we can walk through and\n\n461\n00:21:20.710 --> 00:21:24.590\nwe can choose how we\nwant to do our Quorum.\n\n462\n00:21:24.590 --> 00:21:27.452\nNow this is really interesting because\nthere's several different choices,\n\n463\n00:21:27.452 --> 00:21:30.325\nseveral different ways that we can do\nthis, several different tie breakers.\n\n464\n00:21:30.325 --> 00:21:34.006\nSo I wanna walk through each one and\ngive you guys an example.\n\n465\n00:21:34.006 --> 00:21:37.510\nSo here, it's asking me to pick\nwhat Quorum configuration I want?\n\n466\n00:21:37.510 --> 00:21:39.560\nNow I've got a default\nQuorum configuration, right?\n\n467\n00:21:39.560 --> 00:21:43.040\nAnd it tells me the cluster\ndetermines Quorum management options,\n\n468\n00:21:43.040 --> 00:21:44.660\nincluding the Quorum witness.\n\n469\n00:21:44.660 --> 00:21:46.720\nWhat the heck does that even mean, right?\n\n470\n00:21:46.720 --> 00:21:49.480\nWhat it's saying is, the cluster will\nlook at how many nodes you have,\n\n471\n00:21:49.480 --> 00:21:53.020\nand if you have three nodes it\ndoesn't worry about Quorum.\n\n472\n00:21:53.020 --> 00:21:54.570\nIt says, whatever, right?\n\n473\n00:21:54.570 --> 00:21:59.360\nBut if it sees you having even number\nof nodes, it will build a witness.\n\n474\n00:21:59.360 --> 00:22:01.470\nThe witness, that's the tie breaker.\n\n475\n00:22:01.470 --> 00:22:06.530\nThat's another system that acts as\nthe witness to say, I'll step in and\n\n476\n00:22:06.530 --> 00:22:08.230\nbe that tie breaker, all right.\n\n477\n00:22:08.230 --> 00:22:11.050\nAnd, the witness can be one\nof a number of different\n\n478\n00:22:11.050 --> 00:22:13.670\ntechnologies which we will see\nhere in just a moment, all right.\n\n479\n00:22:13.670 --> 00:22:16.470\nNow, if I don't want it to be automatic,\nI can choose right here.\n\n480\n00:22:16.470 --> 00:22:17.560\nSelect the quorum witness.\n\n481\n00:22:17.560 --> 00:22:21.180\nI can manually put in what\nI want that witness to be.\n\n482\n00:22:21.180 --> 00:22:23.940\nAnd so we can choose to\nspecify something here and\n\n483\n00:22:23.940 --> 00:22:26.200\nmake sure it's set\nthe way that we want it.\n\n484\n00:22:26.200 --> 00:22:28.400\nAnd when you're dealing with high\navailability solutions like this,\n\n485\n00:22:28.400 --> 00:22:29.860\nsometimes, we really want that.\n\n486\n00:22:29.860 --> 00:22:32.790\nWe want to know for\na fact that it's set up a certain way.\n\n487\n00:22:32.790 --> 00:22:36.237\nThe challenge there is you can actually\nend up creating a tie situation if you're\n\n488\n00:22:36.237 --> 00:22:37.978\nforcing quorum when you don't need it.\n\n489\n00:22:37.978 --> 00:22:41.190\nSo automatic is usually the better\noption for us when we go through and\n\n490\n00:22:41.190 --> 00:22:42.740\nset something up like this.\n\n491\n00:22:42.740 --> 00:22:44.160\nAnd the last we've got in advanced.\n\n492\n00:22:44.160 --> 00:22:46.860\nThere's some advanced configurations\nthat you can do with Quorum.\n\n493\n00:22:46.860 --> 00:22:49.410\nThere's some crazy witness types\nscenarios that you can set\n\n494\n00:22:49.410 --> 00:22:51.560\nup if you really know\nwhat you're doing and\n\n495\n00:22:51.560 --> 00:22:55.220\nyou really want configure it with\na very specific way, you could do that.\n\n496\n00:22:55.220 --> 00:22:57.713\nBut for most people the automatic\nconfiguration is gonna be what you\n\n497\n00:22:57.713 --> 00:22:58.770\nwant, all right?\n\n498\n00:22:58.770 --> 00:23:01.270\nNow as I move forward on automatic.\n\n499\n00:23:01.270 --> 00:23:02.486\nThat's really it, right?\n\n500\n00:23:02.486 --> 00:23:03.581\nI don't get much else.\n\n501\n00:23:03.581 --> 00:23:05.231\nThere's cluster manage voting.\n\n502\n00:23:05.231 --> 00:23:07.664\nThey're gonna handle,\nthey're gonna figure it out.\n\n503\n00:23:07.664 --> 00:23:11.160\nAll nodes are configured to have\nquorum votes and that's that.\n\n504\n00:23:11.160 --> 00:23:16.460\nBut on the next screen it tells me well,\nthere is no witness configured.\n\n505\n00:23:16.460 --> 00:23:19.820\nAnd it's not gonna work out very well for\nme is it?\n\n506\n00:23:19.820 --> 00:23:22.951\nSo in my scenario going with the default\nis gonna be good enough, right?\n\n507\n00:23:22.951 --> 00:23:24.460\nAnd it's because I've only got two nodes.\n\n508\n00:23:24.460 --> 00:23:26.740\nBut a two node cluster is not uncommon.\n\n509\n00:23:26.740 --> 00:23:30.260\nIf I had more nodes, this would be fine,\nbut I'm gonna rerun the wizard and\n\n510\n00:23:30.260 --> 00:23:33.955\nthis time I'm gonna go and choose that\nI want to manually tell it what I want.\n\n511\n00:23:33.955 --> 00:23:36.410\nOops, I'm gonna launch the wrong\nwizard and then I'm gonna go in and\n\n512\n00:23:36.410 --> 00:23:37.370\nlaunch the right one.\n\n513\n00:23:37.370 --> 00:23:39.060\nSo, I'm gonna right click on my cluster.\n\n514\n00:23:39.060 --> 00:23:40.540\nI'll go to more actions.\n\n515\n00:23:40.540 --> 00:23:42.570\nI'll configure\nthe Cluster Quorum Settings,\n\n516\n00:23:42.570 --> 00:23:44.180\nwhich is getting harder to\nsay every time I say it.\n\n517\n00:23:44.180 --> 00:23:44.880\n&gt;&gt; Yeah, that is a mouthful.\n\n518\n00:23:44.880 --> 00:23:46.420\n&gt;&gt; All right, and\n\n519\n00:23:46.420 --> 00:23:49.120\nthen this time, I'm gonna choose that\nI want to select the witness, right.\n\n520\n00:23:49.120 --> 00:23:50.938\nI'm gonna tell it what I'm gonna do.\n\n521\n00:23:50.938 --> 00:23:52.302\nI need a witness, right?\n\n522\n00:23:52.302 --> 00:23:53.695\nAnd, here's my choice.\n\n523\n00:23:53.695 --> 00:23:55.101\nThere's four different choices.\n\n524\n00:23:55.101 --> 00:23:56.240\nNotice the default.\n\n525\n00:23:56.240 --> 00:23:57.391\nDon't configure one.\n\n526\n00:23:57.391 --> 00:24:00.202\nAnd that's fine,\nif you have an odd number of nodes.\n\n527\n00:24:00.202 --> 00:24:01.960\nI don't, so I need one of the other three.\n\n528\n00:24:01.960 --> 00:24:05.220\nThe first one is really the easiest one.\n\n529\n00:24:05.220 --> 00:24:06.720\nConfigure a disk witness.\n\n530\n00:24:06.720 --> 00:24:09.800\nA disk witness says look,\nyou've got shared storage.\n\n531\n00:24:09.800 --> 00:24:14.570\nSo that means you've got a SAN somewhere,\nor a iSCSI SAN at least.\n\n532\n00:24:14.570 --> 00:24:15.960\nWhy don't we use that as the tie breaker?\n\n533\n00:24:15.960 --> 00:24:17.840\nYou've already got it,\nthe hardware is already in,\n\n534\n00:24:17.840 --> 00:24:19.270\nyou don't have to buy anything else.\n\n535\n00:24:19.270 --> 00:24:21.450\nYou just use that shared storage.\n\n536\n00:24:21.450 --> 00:24:25.630\nAnd each server will write\nto a little text file\n\n537\n00:24:25.630 --> 00:24:29.820\non that SAN that says hey,\nI'm here and I'm awake.\n\n538\n00:24:29.820 --> 00:24:34.290\nAnd then if I'm node two and\nI can't see node one\n\n539\n00:24:34.290 --> 00:24:37.250\nI can look at the shared storage and\nsay, did node one write a file here?\n\n540\n00:24:37.250 --> 00:24:40.750\nAnd if node one is still writing files but\nI can't see node one,\n\n541\n00:24:40.750 --> 00:24:45.190\nthat means that I'm the problem, then\nnode one is talking to the SAN just fine.\n\n542\n00:24:45.190 --> 00:24:48.089\nSo the SAN is now able\nto be that tie breaker.\n\n543\n00:24:48.089 --> 00:24:51.220\nAnd this is one of my favorite options\ncuz it doesn't cost any extra money.\n\n544\n00:24:51.220 --> 00:24:56.870\nYou've already got the SAN,\nall you need is one drive on the SAN\n\n545\n00:24:56.870 --> 00:24:58.630\nthat's at least 512 gigs in size.\n\n546\n00:24:59.810 --> 00:25:01.100\nWait, sorry, 512 megs.\n\n547\n00:25:01.100 --> 00:25:02.473\nThat's a big difference.\n\n548\n00:25:02.473 --> 00:25:04.152\n[LAUGH] Half a terabyte.\n\n549\n00:25:04.152 --> 00:25:08.260\nIt's gotta be 512 megs in size or bigger.\n\n550\n00:25:08.260 --> 00:25:10.020\nWhich is not a lot of storage anymore.\n\n551\n00:25:10.020 --> 00:25:12.720\nSo I normally create a one gig or\na two gig disk.\n\n552\n00:25:12.720 --> 00:25:16.490\nAnd then that's what I'll share and\nuse that for my quorum.\n\n553\n00:25:16.490 --> 00:25:17.690\nSo that one's easy.\n\n554\n00:25:17.690 --> 00:25:19.370\nYou can also configure a file share.\n\n555\n00:25:20.460 --> 00:25:25.730\nI might have a member server in my domain\nthat's not a part of their cluster and\n\n556\n00:25:25.730 --> 00:25:27.210\nit's got a shared folder on it.\n\n557\n00:25:27.210 --> 00:25:30.500\nAnd I can just use the shared folder the\nsame way as I would use that cluster disk.\n\n558\n00:25:30.500 --> 00:25:32.537\nSo anytime you fire up a cluster node,\n\n559\n00:25:32.537 --> 00:25:35.920\nit starts writing this little\ntext file to that shared folder.\n\n560\n00:25:35.920 --> 00:25:37.970\nIt says hey, I'm awake I'm doing my job.\n\n561\n00:25:37.970 --> 00:25:42.015\nAnd if I can't see node one but\nI look in that share folder and\n\n562\n00:25:42.015 --> 00:25:46.010\nI see where node one has been writing its\nfile every two seconds, I know it's up and\n\n563\n00:25:46.010 --> 00:25:47.480\nI know that I'm the problem.\n\n564\n00:25:47.480 --> 00:25:49.030\nI can't see node one for some reason.\n\n565\n00:25:50.200 --> 00:25:53.720\nNow if you really wanna go crazy,\na cloud witness.\n\n566\n00:25:53.720 --> 00:25:57.930\nI might want to have a witness and\nhave it up in Microsoft Azure.\n\n567\n00:25:57.930 --> 00:26:00.730\nI can use a Microsoft Azure Storage group.\n\n568\n00:26:00.730 --> 00:26:02.940\nIf you have a storage account-\n&gt;&gt; Not affiliated,\n\n569\n00:26:02.940 --> 00:26:05.020\nlike it's just its own entity there.\n\n570\n00:26:05.020 --> 00:26:07.130\n&gt;&gt; Yeah, it doesn't even need a server.\n\n571\n00:26:07.130 --> 00:26:09.380\nSo it's not even a virtual machine or\ninstance in Azure.\n\n572\n00:26:09.380 --> 00:26:11.040\nIt's just a storage account.\n\n573\n00:26:11.040 --> 00:26:12.380\nAnd it's out in the cloud.\n\n574\n00:26:12.380 --> 00:26:15.110\nIt's not even on your infrastructure,\nit's completely out there.\n\n575\n00:26:15.110 --> 00:26:17.590\nThat works really well also.\n\n576\n00:26:17.590 --> 00:26:19.670\nBut I typically don't use this,\n\n577\n00:26:19.670 --> 00:26:22.270\nbecause if your Internet connection\ngoes down you just lost your quorum.\n\n578\n00:26:22.270 --> 00:26:24.087\nSo on-premises servers\ndon't play nice with this.\n\n579\n00:26:24.087 --> 00:26:28.150\nBut if you're creating clusters in Azure,\nthis is the best solution.\n\n580\n00:26:28.150 --> 00:26:31.210\nBecause now you don't even\nneed extra crazy storage or\n\n581\n00:26:31.210 --> 00:26:33.147\nwhatever that you might not have.\n\n582\n00:26:33.147 --> 00:26:34.115\nSo that's another option for us.\n\n583\n00:26:34.115 --> 00:26:35.703\n&gt;&gt; Yeah,\nactually if the Internet's working,\n\n584\n00:26:35.703 --> 00:26:37.304\nyou're probably gonna have issues anyways.\n\n585\n00:26:37.304 --> 00:26:38.289\n[LAUGH]\n&gt;&gt; That's a good point.\n\n586\n00:26:38.289 --> 00:26:39.790\n[LAUGH] That is a great point.\n\n587\n00:26:39.790 --> 00:26:42.900\nAll right, so I'm gonna choose to\nconfigure a disk witness cuz it's my\n\n588\n00:26:42.900 --> 00:26:46.350\nfavorite and honestly it works\nthe best in most scenarios.\n\n589\n00:26:46.350 --> 00:26:47.250\nSo I'll choose that.\n\n590\n00:26:47.250 --> 00:26:49.760\nNow, after that it's gonna ask me\nto configure a storage witness.\n\n591\n00:26:49.760 --> 00:26:51.080\nAnd I've got that there's no\n\n592\n00:26:51.080 --> 00:26:53.000\nquorum witness is being configured for\nthe cluster.\n\n593\n00:26:53.000 --> 00:26:55.300\nAll right, well, that's a problem.\n\n594\n00:26:55.300 --> 00:26:57.630\nSo what it's telling me here\nis I don't have a disk,\n\n595\n00:26:57.630 --> 00:27:02.570\nI don't have a storage volume that\nI can assign as the disk witness.\n\n596\n00:27:02.570 --> 00:27:04.223\nBut I added plenty of storage.\n\n597\n00:27:04.223 --> 00:27:07.904\n&gt;&gt; You did.\n&gt;&gt; I even added a two gig disk that was in\n\n598\n00:27:07.904 --> 00:27:08.675\nthere.\n\n599\n00:27:08.675 --> 00:27:09.720\nA nice small one, right?\n\n600\n00:27:09.720 --> 00:27:12.560\nMy problem is,\nremember how I didn't partition them?\n\n601\n00:27:12.560 --> 00:27:13.235\n&gt;&gt; Yes.\n&gt;&gt; And so\n\n602\n00:27:13.235 --> 00:27:15.578\nthey're not really ready to be used.\n\n603\n00:27:15.578 --> 00:27:17.194\nIf I go in here into my disks and\n\n604\n00:27:17.194 --> 00:27:20.131\nI take a look, I can find-\n&gt;&gt; You're gonna write to them if that's\n\n605\n00:27:20.131 --> 00:27:21.570\nthe-\n&gt;&gt; Here's that two gig one right there,\n\n606\n00:27:21.570 --> 00:27:22.710\nand it's online.\n\n607\n00:27:22.710 --> 00:27:26.170\nSo technically,\nit's showing it's like already being used.\n\n608\n00:27:26.170 --> 00:27:27.910\nAnd so it's just kind of sitting there.\n\n609\n00:27:27.910 --> 00:27:30.260\nAnd I got a few choices\non how I wanna do this.\n\n610\n00:27:30.260 --> 00:27:32.610\nI can partition it or if I remember right,\n\n611\n00:27:32.610 --> 00:27:34.040\nlet me see if I can\ncheat a little bit here.\n\n612\n00:27:34.040 --> 00:27:35.760\nI'm just gonna remove it.\n\n613\n00:27:35.760 --> 00:27:38.239\nAnd if we remove it and\ntake it out of the cluster,\n\n614\n00:27:38.239 --> 00:27:42.060\nthen that wizard will add it in and\nformat it for us If I remember correctly.\n\n615\n00:27:42.060 --> 00:27:43.888\nWorst-case scenario,\nwe just have to format it and\n\n616\n00:27:43.888 --> 00:27:45.058\nwe can get it taken care of there.\n\n617\n00:27:45.058 --> 00:27:46.481\nBut we'll go through and do this.\n\n618\n00:27:46.481 --> 00:27:48.780\nI know I'm out of of time, so\nI'm trying to get this done quickly.\n\n619\n00:27:49.940 --> 00:27:52.950\nAnd I will choose to\nselect a quorum witness.\n\n620\n00:27:52.950 --> 00:27:54.100\n&gt;&gt; You know, every time I'm hosting and\n\n621\n00:27:54.100 --> 00:27:55.860\npeople are like,\nyeah I'm getting close to out of time.\n\n622\n00:27:55.860 --> 00:27:58.694\nIt's not like I don't have a big buzzer\nand I'm not gonna hit you, you know?\n\n623\n00:27:58.694 --> 00:28:00.179\n&gt;&gt; [LAUGH] She's so angry.\n\n624\n00:28:00.179 --> 00:28:01.289\n&gt;&gt; We do, we can have another part here.\n\n625\n00:28:01.289 --> 00:28:03.884\n[LAUGH]\n&gt;&gt; All right, it didn't pick it up for me,\n\n626\n00:28:03.884 --> 00:28:06.060\nso I am gonna have to format\nit to get it added on there.\n\n627\n00:28:06.060 --> 00:28:08.094\nSo let me do that a little quick.\n\n628\n00:28:08.094 --> 00:28:11.199\nAnd as soon as I have formatted it'll\nshow up in this list so I can add it.\n\n629\n00:28:11.199 --> 00:28:14.219\nIt needs to be formatted so that it\ncan write the little text files to it.\n\n630\n00:28:14.219 --> 00:28:16.953\nCuz really what it's doing,\nit's like a heartbeat,\n\n631\n00:28:16.953 --> 00:28:20.637\nevery two seconds it's writing a text\nfile, getting it put on there, and\n\n632\n00:28:20.637 --> 00:28:23.508\nthen it's able to read that and\nuse that as that witness.\n\n633\n00:28:23.508 --> 00:28:25.036\n&gt;&gt; A verification there.\n\n634\n00:28:25.036 --> 00:28:27.563\n&gt;&gt; So it is another one of those reasons\nwhy I don't like adding the storage\n\n635\n00:28:27.563 --> 00:28:28.207\nautomatically.\n\n636\n00:28:28.207 --> 00:28:30.655\nCuz I've missed a step here,\nI haven't formatted that quorum disk.\n\n637\n00:28:30.655 --> 00:28:32.066\n&gt;&gt; So let's jump over and\ntake care of that.\n\n638\n00:28:32.066 --> 00:28:33.537\nUnfortunately it's not as easy.\n\n639\n00:28:33.537 --> 00:28:37.473\nI gotta come in here and I've gotta\nremove that disk from the cluster,\n\n640\n00:28:37.473 --> 00:28:39.885\notherwise I won't be able to work with it.\n\n641\n00:28:39.885 --> 00:28:41.212\nSo I'm gonna find that two gig disk and\n\n642\n00:28:41.212 --> 00:28:42.797\nI'm just gonna yank that\nout of the cluster.\n\n643\n00:28:42.797 --> 00:28:45.310\nI'll right-click on it and choose Remove,\n\n644\n00:28:45.310 --> 00:28:49.245\nand that's going to, for\nlack of a better word, de-clusterize it.\n\n645\n00:28:49.245 --> 00:28:50.380\n&gt;&gt; [LAUGH] That's great.\n\n646\n00:28:50.380 --> 00:28:52.820\n&gt;&gt; And then that disk is\nowned by node two right now.\n\n647\n00:28:52.820 --> 00:28:54.458\nSo I'm gonna switch over to node two.\n\n648\n00:28:54.458 --> 00:28:57.932\nAnd on node two if I go into\nmy computer management, and\n\n649\n00:28:57.932 --> 00:29:00.720\nI go into my disk management\nI'll see all the disks.\n\n650\n00:29:00.720 --> 00:29:02.205\nAnd that disk is gonna show up, but\n\n651\n00:29:02.205 --> 00:29:06.150\nit's gonna show up as offline because\nit's been kicked out of the cluster.\n\n652\n00:29:06.150 --> 00:29:07.680\nWell now it's just a normal disk.\n\n653\n00:29:07.680 --> 00:29:09.320\nSo I'm gonna bring it online.\n\n654\n00:29:09.320 --> 00:29:12.437\nAnd once it's online I'm gonna\ncreate a new simple volume.\n\n655\n00:29:12.437 --> 00:29:14.247\nThis is why I couldn't\nsee it a moment ago.\n\n656\n00:29:14.247 --> 00:29:16.450\nSo I need to have a partition.\n\n657\n00:29:16.450 --> 00:29:19.090\nMy disk is only two gigs in size,\nso that's fine.\n\n658\n00:29:19.090 --> 00:29:21.680\nI'll give it a drive load, that's not\ngonna matter cuz the drive load is gonna\n\n659\n00:29:21.680 --> 00:29:24.025\ngo away in a minute and\nthen I can format it.\n\n660\n00:29:24.025 --> 00:29:28.130\nIt needs to be NTFS, and\nyou can give it a volume name if you want.\n\n661\n00:29:28.130 --> 00:29:31.670\nAgain, nobody is gonna see this so\nit doesn't truly matter.\n\n662\n00:29:31.670 --> 00:29:36.070\nSo like if I misspell quorum,\nwhich I'm doing, there we go, quorum.\n\n663\n00:29:36.070 --> 00:29:39.910\nSo we can get that set up and\nwe can format that, and so now it's done.\n\n664\n00:29:39.910 --> 00:29:41.686\nSo now that it's formatted,\n\n665\n00:29:41.686 --> 00:29:45.400\nI'm gonna wait just a second\nwhile I finish this formatting.\n\n666\n00:29:45.400 --> 00:29:47.170\nAnd then I'm gonna take it offline again.\n\n667\n00:29:48.190 --> 00:29:50.060\nSo I'll just bump that one to be offline.\n\n668\n00:29:50.060 --> 00:29:54.330\nAnd I need it offline cuz I'm about to\ngo and add it back into the cluster.\n\n669\n00:29:54.330 --> 00:29:57.640\nSo I can jump back over to node\none where I've been doing my work.\n\n670\n00:29:58.690 --> 00:30:01.620\nAnd I can go to Disks and\nI can choose the Add a Disk.\n\n671\n00:30:01.620 --> 00:30:04.250\nAnd there it is,\nit finds that cluster disk.\n\n672\n00:30:04.250 --> 00:30:06.280\nSo really not any different\nexcept now it's got a format,\n\n673\n00:30:06.280 --> 00:30:08.300\nit's got a file system on it.\n\n674\n00:30:08.300 --> 00:30:11.130\nAnd so\nwhen I go back here to modify my quorum.\n\n675\n00:30:11.130 --> 00:30:14.383\nI'll go and right-click on\nthe Cluster Name, go to More Actions,\n\n676\n00:30:14.383 --> 00:30:15.762\nConfigure Cluster Quorum.\n\n677\n00:30:15.762 --> 00:30:20.104\nAnd now when I start to walk forward in\nthe wizard I'll tell it that I want to\n\n678\n00:30:20.104 --> 00:30:23.974\nselect my witness, I'll tell it\nthat I want to do a disk witness.\n\n679\n00:30:23.974 --> 00:30:29.250\nAnd now, drum roll please,\nwe see our disk!\n\n680\n00:30:29.250 --> 00:30:31.161\nSo I see the disk cuz it's\nactually formatted, and\n\n681\n00:30:31.161 --> 00:30:32.830\nI can use it to create my quorum on it.\n\n682\n00:30:32.830 --> 00:30:34.370\nYou can expand it out here and\n\n683\n00:30:34.370 --> 00:30:37.550\nlook at it, it's very exciting,\nit's got the E drive letter.\n\n684\n00:30:37.550 --> 00:30:39.860\nAnd there it is, that's what\nI'm going to use for my quorum.\n\n685\n00:30:39.860 --> 00:30:42.640\nAnd I'll move forward and\nwe'll finish that one up.\n\n686\n00:30:42.640 --> 00:30:46.830\nNow, the interesting part about this one\nis it's a shared disk and repeatedly\n\n687\n00:30:46.830 --> 00:30:49.880\nI've said if you have multiple servers\nwrite to the same disk at the same time,\n\n688\n00:30:49.880 --> 00:30:51.080\nit's horrible.\n\n689\n00:30:51.080 --> 00:30:53.320\nWell, this one's actually a special disc.\n\n690\n00:30:53.320 --> 00:30:55.864\nIt is what's called a CSV or\nCluster Shared Volume.\n\n691\n00:30:55.864 --> 00:30:57.710\nAnd a Cluster Shared Volume,\n\n692\n00:30:57.710 --> 00:31:00.670\nyou actually can have more than one\nserver writing to it at the same time.\n\n693\n00:31:00.670 --> 00:31:04.130\nInstead of tracking it by the volume,\nthey track it by the file.\n\n694\n00:31:04.130 --> 00:31:07.360\nSo the servers won't write to\nthe same file at the same time.\n\n695\n00:31:07.360 --> 00:31:09.950\nThat works really well when\nyou only have a few files.\n\n696\n00:31:09.950 --> 00:31:11.570\nIf you have a lot of files, it's terrible.\n\n697\n00:31:11.570 --> 00:31:14.380\nPerformance is horrible and\nit breaks everything.\n\n698\n00:31:14.380 --> 00:31:17.550\nBut when you have just a handful of files,\nlike when you're doing virtual hard drives\n\n699\n00:31:17.550 --> 00:31:22.490\nfor VMs or doing heartbeat files for\nour quorum, it works really well.\n\n700\n00:31:22.490 --> 00:31:26.800\nSo now that's a special disk in my system\nbecause that's being used as the quorum.\n\n701\n00:31:26.800 --> 00:31:30.560\nAnd if I come and look at my disks here,\nso in my tree I'm choosing Disks.\n\n702\n00:31:30.560 --> 00:31:33.435\nAnd I see it doesn't show us\navailable storage anymore.\n\n703\n00:31:33.435 --> 00:31:37.130\nNow it shows as Disk Witness in Quorum.\n\n704\n00:31:37.130 --> 00:31:39.180\nThat is my disk witness,\n\n705\n00:31:39.180 --> 00:31:42.090\nthat's how my nodes are gonna know\nwhether they're healthy or not.\n\n706\n00:31:42.090 --> 00:31:46.110\nAnd it's important we get this set\nup before we start adding roles and\n\n707\n00:31:46.110 --> 00:31:48.830\nservices to our cluster and\ngetting them to do that work.\n\n708\n00:31:48.830 --> 00:31:52.350\nBut now our ground work is done,\nwe're ready to do roles.\n\n709\n00:31:52.350 --> 00:31:56.138\n&gt;&gt; Alright Don, we are ready to do roles,\nbut we are out of time as well.\n\n710\n00:31:56.138 --> 00:31:59.410\nSo I'm gonna go ahead and\nsign us off for this particular episode.\n\n711\n00:31:59.410 --> 00:32:02.493\nBut don't forget to come back for\nour part three-\n\n712\n00:32:02.493 --> 00:32:03.455\n&gt;&gt; Part three, yeah, [LAUGH].\n\n713\n00:32:03.455 --> 00:32:04.613\n&gt;&gt; Part three now, wow, all right.\n\n714\n00:32:04.613 --> 00:32:05.295\n&gt;&gt; Revenge of the Sith.\n\n715\n00:32:05.295 --> 00:32:08.410\n&gt;&gt; [LAUGH] But we'll go ahead and\nsign out for now.\n\n716\n00:32:08.410 --> 00:32:09.890\nI've been your host, Cherokee Boose.\n\n717\n00:32:09.890 --> 00:32:10.791\n&gt;&gt; And I'm Don Pezet.\n\n718\n00:32:10.791 --> 00:32:12.471\n&gt;&gt; See you next time here at ITProTV.\n\n719\n00:32:12.471 --> 00:32:20.010\n[MUSIC]\n\n720\n00:32:20.010 --> 00:32:22.841\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "237915966"
        },
        {
          "description": "In this episode, Don completes his explenation of the Failover Cluster feature in Windows Server 2016. He explains the various services that can be clustered for high-availability. He also demonstrates some of the PowerShell commands available for managing a cluster. He completes the show by demonstrating how to test a cluster as well as how to perform routine maintenance tasks to ensure the cluster is running smoothly.",
          "length": "1834",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-3-3-failover-clustering-pt3-101217-CLN.00_31_22_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-3-3-failover-clustering-pt3-101217-CLN.00_31_22_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-3-3-failover-clustering-pt3-101217-CLN.00_31_22_19.Still001-sm.jpg",
          "title": "Failover Clustering Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:02.305\nWelcome to ITPro.TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.305 --> 00:00:06.013\n[CROSSTALK]\n\n3\n00:00:06.013 --> 00:00:07.791\n[MUSIC]\n\n4\n00:00:07.791 --> 00:00:11.397\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:11.397 --> 00:00:14.000\n&gt;&gt; Welcome back to your installation,\nstorage, and\n\n6\n00:00:14.000 --> 00:00:16.067\ncompute with Windows Server 2016.\n\n7\n00:00:16.067 --> 00:00:18.373\nI'm your show host, Cherokee Boose.\n\n8\n00:00:18.373 --> 00:00:20.970\nAnd I say welcome back because\nthis is actually a part three.\n\n9\n00:00:20.970 --> 00:00:23.613\nAnd if you haven't seen the other two\nepisodes you definitely need to go\n\n10\n00:00:23.613 --> 00:00:24.280\ncheck those out.\n\n11\n00:00:24.280 --> 00:00:28.834\nBecause we're right in the middle\nof configuration and hopefully, Mr.\n\n12\n00:00:28.834 --> 00:00:29.940\nDon Pezet today.\n\n13\n00:00:29.940 --> 00:00:31.014\nHow is it going today, Don?\n\n14\n00:00:31.014 --> 00:00:33.820\n&gt;&gt; It is going great and\njust to recap what we've already done.\n\n15\n00:00:33.820 --> 00:00:36.429\nWe talked about what\na failover cluster is and\n\n16\n00:00:36.429 --> 00:00:38.770\nwe got to see how to get it set up, right?\n\n17\n00:00:38.770 --> 00:00:42.341\nIn our last episode, we installed\nthe fail over cluster feature,\n\n18\n00:00:42.341 --> 00:00:45.610\nwe brought some hard drive,\nsome storage into the cluster.\n\n19\n00:00:45.610 --> 00:00:47.810\nWe brought our nodes in,\nwe got it healthy.\n\n20\n00:00:47.810 --> 00:00:49.787\nAnd at the end of the episode,\n\n21\n00:00:49.787 --> 00:00:54.550\nwe had a perfectly healthy windows\nserver 2016 fail over cluster.\n\n22\n00:00:54.550 --> 00:00:55.268\nThat's quite a mouthful.\n\n23\n00:00:55.268 --> 00:00:57.051\n&gt;&gt; [LAUGH]\n&gt;&gt; But it's up and it's running, and\n\n24\n00:00:57.051 --> 00:00:59.637\nit's good to go and ready for\nus to push it into production and\n\n25\n00:00:59.637 --> 00:01:00.919\nlet it do something, right?\n\n26\n00:01:00.919 --> 00:01:03.581\nThe only problem is it's not\nactually doing anything.\n\n27\n00:01:03.581 --> 00:01:05.300\n[LAUGH] It's very redundant-\n&gt;&gt; [LAUGH]\n\n28\n00:01:05.300 --> 00:01:06.079\n&gt;&gt; Very available, but\n\n29\n00:01:06.079 --> 00:01:07.510\nnot actually providing new services.\n\n30\n00:01:07.510 --> 00:01:10.450\nSo in this episode, we're gonna take\na look at that next step, right?\n\n31\n00:01:10.450 --> 00:01:14.110\nOf how we would actually leverage\nthis failover cluster in production.\n\n32\n00:01:14.110 --> 00:01:15.640\n&gt;&gt; All right, so Don,\nwhat is that next step?\n\n33\n00:01:15.640 --> 00:01:19.713\nAre we gonna be installing a role or were\ngetting it ready for actual production and\n\n34\n00:01:19.713 --> 00:01:20.250\nuse here?\n\n35\n00:01:20.250 --> 00:01:22.257\n&gt;&gt; Yeah, and that's exactly right.\n\n36\n00:01:22.257 --> 00:01:25.328\nThat the next step is we gotta\nget a role in there, right?\n\n37\n00:01:25.328 --> 00:01:28.250\nOr it might be a built in Windows role, or\nit might be some third party service or\n\n38\n00:01:28.250 --> 00:01:28.838\napplication.\n\n39\n00:01:28.838 --> 00:01:32.490\nYou may have some third party software\nthat directly supports Windows fail over\n\n40\n00:01:32.490 --> 00:01:35.970\nclustering and our next step will\nbe to get that installed, right?\n\n41\n00:01:35.970 --> 00:01:38.700\nAnd if that's the case, you got to\nget that vendor's documentation,\n\n42\n00:01:38.700 --> 00:01:40.870\nthere's a lot of\ninstruction on what to do.\n\n43\n00:01:40.870 --> 00:01:44.290\nIf it's a Windows role though,\nit's actually pretty easy.\n\n44\n00:01:44.290 --> 00:01:45.937\nAnd so let's say, well in this episode,\n\n45\n00:01:45.937 --> 00:01:47.970\nI'll use an example here of a file server,\nright?\n\n46\n00:01:47.970 --> 00:01:52.330\nI've got a file server and I wanna have\ncentral storage for all my employees.\n\n47\n00:01:52.330 --> 00:01:53.760\nThey can browse this folder and\nthat's where the data is.\n\n48\n00:01:53.760 --> 00:01:57.646\nWell that's important for me, if that\nserver goes offline, I still need these\n\n49\n00:01:57.646 --> 00:02:01.790\npeople to be able to get access to the\nfiles that's where all the data is, right?\n\n50\n00:02:01.790 --> 00:02:04.218\nMaybe we tell them that we back\nup the central location and\n\n51\n00:02:04.218 --> 00:02:06.000\nwe don't backup their laptops, right?\n\n52\n00:02:06.000 --> 00:02:08.190\nSo they're encouraged\nto put their data here.\n\n53\n00:02:08.190 --> 00:02:11.250\nWe need to make sure,\nit's online as much as possible.\n\n54\n00:02:11.250 --> 00:02:14.170\nSo I've got this nice shiny\ncluster that we created.\n\n55\n00:02:14.170 --> 00:02:16.120\nLet's stick some file services on, right?\n\n56\n00:02:16.120 --> 00:02:18.870\nSo step one, I need to make\nsure that I've got some disks.\n\n57\n00:02:18.870 --> 00:02:22.210\nSo I'm gonna jump in here into\nmy management utility and\n\n58\n00:02:22.210 --> 00:02:24.040\nI'm just gonna go into my cluster.\n\n59\n00:02:24.040 --> 00:02:25.657\nAnd I'll go down into Storage &gt; Disks, and\n\n60\n00:02:25.657 --> 00:02:27.634\nI'll make sure that I've\ngot some available disks.\n\n61\n00:02:27.634 --> 00:02:33.588\nNow in the last episode, we stole one disk\nto set up a witness for our quorum, right?\n\n62\n00:02:33.588 --> 00:02:35.169\nOur tie breaker for our failover, but\n\n63\n00:02:35.169 --> 00:02:39.200\nI still have two other disks that are\nsitting right here that are ready to rock.\n\n64\n00:02:39.200 --> 00:02:42.054\nI can grab either one and\nstart to put some storage on it and\n\n65\n00:02:42.054 --> 00:02:44.030\nstart to leverage inside of my system.\n\n66\n00:02:44.030 --> 00:02:47.592\nNow in order to tell my system\nthat it's gonna be a file server,\n\n67\n00:02:47.592 --> 00:02:49.820\nI actually need to add the Role.\n\n68\n00:02:49.820 --> 00:02:52.781\nAnd when you come up here to\nthe Roles folder you'll see,\n\n69\n00:02:52.781 --> 00:02:54.641\nI currently have no roles, right?\n\n70\n00:02:54.641 --> 00:02:57.960\n[LAUGH] So\nthe clusters not actually doing anything.\n\n71\n00:02:57.960 --> 00:03:01.185\nWell it's not that it's not doing\nanything, the nodes are sending heartbeat,\n\n72\n00:03:01.185 --> 00:03:02.857\nthey're managing themselves, right?\n\n73\n00:03:02.857 --> 00:03:06.680\nIf one node went down the other node\nwould take responsibility of things.\n\n74\n00:03:06.680 --> 00:03:09.150\nThe only things we have though are disks,\nright?\n\n75\n00:03:09.150 --> 00:03:13.360\nAnd see how NODE2 is the owner\nof all these disks right now?\n\n76\n00:03:13.360 --> 00:03:17.230\nAnd I could change that, I could move one\nof these to be on NODE1, if I wanted.\n\n77\n00:03:17.230 --> 00:03:19.850\nBut the nice thing about high\navailability cluster is I don't\n\n78\n00:03:19.850 --> 00:03:23.150\nreally care which host has it,\nas long as my hosts are equal.\n\n79\n00:03:23.150 --> 00:03:25.780\nIf I had unequal hardware,\nthen I might worry about it a little more.\n\n80\n00:03:25.780 --> 00:03:29.700\nBut if I have equal hardware,\ndoesn't matter which one's the host.\n\n81\n00:03:29.700 --> 00:03:32.330\nSo I can come up here to the role,\nand I need to add a role in.\n\n82\n00:03:32.330 --> 00:03:36.430\nSo I'm gonna right click on that Roles\nfolder and choose Configure Role.\n\n83\n00:03:36.430 --> 00:03:38.844\nNow, you'll notice there's another\noption here, Virtual Machines.\n\n84\n00:03:38.844 --> 00:03:42.592\nYou can cluster Hyper-V,\nand if you cluster Hyper-V,\n\n85\n00:03:42.592 --> 00:03:47.450\nyou can create virtual machines\nthat kind of are themselves a role.\n\n86\n00:03:47.450 --> 00:03:49.990\nEach virtual machine can be\nfailed over individually.\n\n87\n00:03:49.990 --> 00:03:52.921\nSo it's not a role in\nterms of Hyper-V itself,\n\n88\n00:03:52.921 --> 00:03:56.380\nits a role in terms of each\nindividual virtual machine.\n\n89\n00:03:56.380 --> 00:03:58.273\nThat's why it gets its own\nlittle menu entry here.\n\n90\n00:03:58.273 --> 00:04:01.376\nAnd I can come in and create a new\nvirtual machine or a new hard disk for\n\n91\n00:04:01.376 --> 00:04:03.135\na virtual machine and balance those.\n\n92\n00:04:03.135 --> 00:04:05.163\nThose are a little bit separate, but\n\n93\n00:04:05.163 --> 00:04:08.400\neverything else is right\nhere under Configure role.\n\n94\n00:04:08.400 --> 00:04:11.580\nAnd when I choose that,\nit launched a little wizard.\n\n95\n00:04:11.580 --> 00:04:15.487\nAnd we can walk through it to see all\nthe different things that we can put in\n\n96\n00:04:15.487 --> 00:04:17.560\nthe failover cluster.\n\n97\n00:04:17.560 --> 00:04:21.210\nMost Microsoft services are supported\nhere, but not all of them, right?\n\n98\n00:04:21.210 --> 00:04:22.759\nYou'll notice there's some\nthat are kind of missing.\n\n99\n00:04:22.759 --> 00:04:25.487\nIf you look,\nthere's things like DHCP, right?\n\n100\n00:04:25.487 --> 00:04:28.682\nDynamic Host Configuration Protocol,\nif I wanna set up a DHCP [INAUDIBLE]\n\n101\n00:04:28.682 --> 00:04:29.367\n&gt;&gt; Against that.\n\n102\n00:04:29.367 --> 00:04:30.632\n&gt;&gt; Exactly, right?\n\n103\n00:04:30.632 --> 00:04:33.030\nJust because we can,\ndoesn't mean we should, right?\n\n104\n00:04:33.030 --> 00:04:35.353\n[LAUGH] I think it's what\nmy mom used to always say.\n\n105\n00:04:35.353 --> 00:04:38.070\n&gt;&gt; [LAUGH] [LAUGH] Just because you\ncan do that, doesn't mean you should.\n\n106\n00:04:39.560 --> 00:04:42.710\nWith DHCP, I could always set\nup two DHCP servers, right?\n\n107\n00:04:42.710 --> 00:04:43.304\n&gt;&gt; Right.\n\n108\n00:04:43.304 --> 00:04:46.312\n&gt;&gt; And if one fails the other\none's answering and that's fine.\n\n109\n00:04:46.312 --> 00:04:47.743\nSo why would I wanna cluster it?\n\n110\n00:04:47.743 --> 00:04:52.840\nWell if I have two DHCP servers,\nthey don't have the same database, right?\n\n111\n00:04:52.840 --> 00:04:57.912\nIf my client gets the lease, it's on one\nof those DHCP servers not the other.\n\n112\n00:04:57.912 --> 00:05:01.560\nAnd if that first DHCP server fails, the\nsecond server doesn't know about my lease.\n\n113\n00:05:01.560 --> 00:05:04.970\nAnd so I have to have two IP pools that\ndon't overlap on those two different\n\n114\n00:05:04.970 --> 00:05:05.472\nservers.\n\n115\n00:05:05.472 --> 00:05:06.744\nI've got a lot of IPs.\n\n116\n00:05:06.744 --> 00:05:10.353\nWell if I'm stingy, if these are public\nIPs and I don't wanna waste them,\n\n117\n00:05:10.353 --> 00:05:12.430\nit's actually better to set up a cluster.\n\n118\n00:05:12.430 --> 00:05:15.850\nBecause in this case, one node could fail,\nthe other takes over and\n\n119\n00:05:15.850 --> 00:05:17.240\nit knows all of the leases.\n\n120\n00:05:17.240 --> 00:05:20.116\nIt uses the same pool,\nyou get that functionality.\n\n121\n00:05:20.116 --> 00:05:22.976\nAnd most people don't care about that,\nbecause we're doing DACP for\n\n122\n00:05:22.976 --> 00:05:25.100\nprivate IDs and there's no limit, right?\n\n123\n00:05:25.100 --> 00:05:27.753\nSo from most people,\nyou don't want a cluster DACP, but\n\n124\n00:05:27.753 --> 00:05:29.870\nthere is a used case scenario there,\nright?\n\n125\n00:05:29.870 --> 00:05:33.062\nThere are some people where they're\ndealing with public IPs, and\n\n126\n00:05:33.062 --> 00:05:36.656\nthey would wanna cluster it and\nwe've got that option right here, right?\n\n127\n00:05:36.656 --> 00:05:40.220\nBut notice DNS is not on the list.\n\n128\n00:05:40.220 --> 00:05:42.250\nDNS is a pretty big service, right?\n\n129\n00:05:42.250 --> 00:05:43.850\nBut we don't need to cluster it,\n\n130\n00:05:43.850 --> 00:05:48.310\nbecause every client out there supports\nhaving multiple DNS servers centered.\n\n131\n00:05:48.310 --> 00:05:51.170\nSo if one fails, it just go to\nthe next one and that's that, right?\n\n132\n00:05:51.170 --> 00:05:52.888\nSo I don't need a cluster for DNS, and\n\n133\n00:05:52.888 --> 00:05:55.381\nthere's no state information\nI need to synchronize.\n\n134\n00:05:55.381 --> 00:05:57.580\nDNS does its own synchronization.\n\n135\n00:05:57.580 --> 00:06:01.566\nSo they all have the same database unlike\na DHCP server where there's only one copy\n\n136\n00:06:01.566 --> 00:06:02.442\nof the database.\n\n137\n00:06:02.442 --> 00:06:05.669\nSo that's a different, so\nbecause we don't need the cluster it,\n\n138\n00:06:05.669 --> 00:06:08.750\nMicrosoft doesn't support it,\nit's not here.\n\n139\n00:06:08.750 --> 00:06:12.260\nNow the dirty little secret\nis you can actually force it\n\n140\n00:06:12.260 --> 00:06:13.190\nif you look down to the list.\n\n141\n00:06:13.190 --> 00:06:16.090\nThere's Generic Application,\nGeneric Script,\n\n142\n00:06:16.090 --> 00:06:19.920\nGeneric Service,\nyou can cluster anything, right?\n\n143\n00:06:19.920 --> 00:06:24.610\nBut a lot of software doesn't work\nwell in a cluster if it's not designed\n\n144\n00:06:24.610 --> 00:06:28.100\nto work in a cluster, a DNS is not\ndesigned to work in a cluster.\n\n145\n00:06:28.100 --> 00:06:30.680\nSo if you try it It doesn't work\nout very well, but you can try.\n\n146\n00:06:30.680 --> 00:06:32.097\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] All right,\n\n147\n00:06:32.097 --> 00:06:35.474\nyou'll see other things in here though,\nlike Hyper-V Replica Broker,\n\n148\n00:06:35.474 --> 00:06:37.940\nif we're doing virtual\nmachine replication.\n\n149\n00:06:37.940 --> 00:06:40.170\nNotice mine won't work,\nbecause I don't have Hyper-V installed.\n\n150\n00:06:40.170 --> 00:06:43.412\nSo some of these roles, you have\na little bit extra you've got to do.\n\n151\n00:06:43.412 --> 00:06:46.920\nAnd it's telling me over here that I need\nto get in it and do a little more work.\n\n152\n00:06:46.920 --> 00:06:49.411\nI can set up an iSCSI target server.\n\n153\n00:06:49.411 --> 00:06:51.910\nISNS, I always get a kick out of this one.\n\n154\n00:06:51.910 --> 00:06:55.100\nISNS, if you're not familiar with it,\nis a registration service for iSCSI.\n\n155\n00:06:55.100 --> 00:06:59.249\nAnd if you've got multiple iSCSI devices,\nand they all register right with ISNS and\n\n156\n00:06:59.249 --> 00:07:01.780\nso your clients just connect to one point.\n\n157\n00:07:01.780 --> 00:07:06.340\nIt's neat, but Microsoft doesn't even\nsupport ISNS with their own iSCSI target.\n\n158\n00:07:06.340 --> 00:07:09.185\nSo I don't know why they support it here,\nbut they do.\n\n159\n00:07:09.185 --> 00:07:11.194\n[LAUGH] So\nyou'll see other things in here.\n\n160\n00:07:11.194 --> 00:07:15.230\nVirtual Machine pops up again,\nwhich I don't have Hyper-V installed.\n\n161\n00:07:15.230 --> 00:07:16.795\nSo I won't be able to\nrun through that one.\n\n162\n00:07:16.795 --> 00:07:20.245\nAnd the wind server hopefully,\nyou are not running that one.\n\n163\n00:07:20.245 --> 00:07:22.929\n&gt;&gt; [LAUGH]\n&gt;&gt; Now there are some other systems that\n\n164\n00:07:22.929 --> 00:07:25.802\ndo support clustering that\ndon't show up here on the list.\n\n165\n00:07:25.802 --> 00:07:28.705\nLike Microsoft SQL Server,\nit supports clustering,\n\n166\n00:07:28.705 --> 00:07:31.300\nit doesn't show up in the list here.\n\n167\n00:07:31.300 --> 00:07:34.730\nAnd if you wanna install a SQL cluster,\nyou actually use that software.\n\n168\n00:07:34.730 --> 00:07:38.976\nUse the installer, it recognizes\nthe cluster, it configures itself and\n\n169\n00:07:38.976 --> 00:07:40.010\nthen plays nice.\n\n170\n00:07:40.010 --> 00:07:42.287\nNot everything is going\nto be in this list,\n\n171\n00:07:42.287 --> 00:07:45.910\nsome things are gonna be part of\na third party or a separate install.\n\n172\n00:07:45.910 --> 00:07:48.761\nI'm gonna do a file server,\nso I'll just choose that one.\n\n173\n00:07:48.761 --> 00:07:53.034\nAnd I've got a warning down here telling\nme the required role in feature file\n\n174\n00:07:53.034 --> 00:07:57.266\nservices could not be found on any node,\nI need to add the role, all right?\n\n175\n00:07:57.266 --> 00:08:01.762\nIf I want to be a file server, I need\nto kind of be set up as a file server.\n\n176\n00:08:01.762 --> 00:08:06.070\nI need to have that role installed, just\nlike with Hyper-V, so I need to add it.\n\n177\n00:08:06.070 --> 00:08:09.082\nAnd notice it's not saying that I\nneed to have it on all of my nodes.\n\n178\n00:08:09.082 --> 00:08:10.600\nIt's saying I need to\nhave it on at least one.\n\n179\n00:08:10.600 --> 00:08:13.025\nI might have a 16 node cluster, and\n\n180\n00:08:13.025 --> 00:08:17.360\nI only have file services\ninstalled on five of those nodes.\n\n181\n00:08:17.360 --> 00:08:20.150\nWell, those are the five that'll\nprovide that redundancy.\n\n182\n00:08:20.150 --> 00:08:23.660\nBut the other ones won't unless I\ninstall the role in them as well, so\n\n183\n00:08:23.660 --> 00:08:25.790\nI need to get that role installed.\n\n184\n00:08:25.790 --> 00:08:27.560\nAnother thing that just occurred to me is,\n\n185\n00:08:27.560 --> 00:08:29.520\nI don't think I ever\nformatted those hard drives.\n\n186\n00:08:29.520 --> 00:08:31.050\nAnd for me to create a share on them,\nI mean,\n\n187\n00:08:31.050 --> 00:08:33.400\nit going to need to format\nthose hard drives as well.\n\n188\n00:08:33.400 --> 00:08:38.820\nSo let me back out this a little bit and\nI'm gonna go back to my Server Manager.\n\n189\n00:08:38.820 --> 00:08:39.870\nAnd I'll do two things.\n\n190\n00:08:39.870 --> 00:08:44.730\nFirst off, I'm gonna install that role so\nI'm gonna go up top here to Manage, and\n\n191\n00:08:44.730 --> 00:08:45.948\nAdd Roles and Features.\n\n192\n00:08:45.948 --> 00:08:49.870\nAnd we'll kinda cruise through\nthis little wizard here and\n\n193\n00:08:49.870 --> 00:08:54.120\nthe role that I want to\ninstall which will come up.\n\n194\n00:08:54.120 --> 00:08:57.830\nAnd actually since I'm now in a clustered\npull, I can do both at the same time,\n\n195\n00:08:57.830 --> 00:09:01.070\nhere in Server Manager to let me\npick the server that I wanna manage.\n\n196\n00:09:01.070 --> 00:09:01.950\nI'll stick with node one.\n\n197\n00:09:03.410 --> 00:09:08.000\nAnd I'm gonna come in and\nadd the file services role.\n\n198\n00:09:08.000 --> 00:09:11.900\nSo notice as I expand this out,\nI've got some tools installed, right.\n\n199\n00:09:11.900 --> 00:09:14.080\nIt looks like the Storage Services, but\n\n200\n00:09:14.080 --> 00:09:17.460\nI don't actually have\nthe File Server role installed.\n\n201\n00:09:17.460 --> 00:09:19.780\nSo I'm gonna check that to\nget that File Server role.\n\n202\n00:09:19.780 --> 00:09:22.552\nAs you look down, you'll see these other\nthings that I might want to install here.\n\n203\n00:09:22.552 --> 00:09:25.030\nFile Server Resource Manager and so on.\n\n204\n00:09:25.030 --> 00:09:29.200\nIf this were a server core install,\nI would really just want that file server.\n\n205\n00:09:29.200 --> 00:09:32.903\n&gt;&gt; Because by default, we have that the\ntop level, the file, what was that one?\n\n206\n00:09:32.903 --> 00:09:33.470\nThe file-\n&gt;&gt; Yeah.\n\n207\n00:09:33.470 --> 00:09:34.110\n&gt;&gt; And storage.\n\n208\n00:09:34.110 --> 00:09:36.202\nThey're just like with every install but.\n\n209\n00:09:36.202 --> 00:09:38.391\n&gt;&gt; Yep, and that because of some of the\nmanagement tools, they're a part of it.\n\n210\n00:09:38.391 --> 00:09:40.775\nAnd some of the other resources\nthat it's checked off.\n\n211\n00:09:40.775 --> 00:09:44.260\nSo it almost looks like you have the file\nserver role installed but you don't.\n\n212\n00:09:44.260 --> 00:09:44.766\n&gt;&gt; Right.\n\n213\n00:09:44.766 --> 00:09:47.220\n&gt;&gt; So I'm gonna install that and\nactually I don't need to wait.\n\n214\n00:09:47.220 --> 00:09:50.680\nI can go and install on the other\nnode as well while I'm in here.\n\n215\n00:09:50.680 --> 00:09:52.810\nSo I'll do add roles and features.\n\n216\n00:09:52.810 --> 00:09:56.383\nAnd as I move forward,\nthis time I'll just pick node two.\n\n217\n00:09:56.383 --> 00:10:00.160\nAnd on that one, I'll be able to\ndo the same exact thing, right.\n\n218\n00:10:00.160 --> 00:10:03.610\nPicking that file server role\nto get that one on there.\n\n219\n00:10:03.610 --> 00:10:06.650\nNow as it's doing that,\nthe other thing that I need to do\n\n220\n00:10:06.650 --> 00:10:10.660\nis I need to format those hard drives, or\nwhichever hard drives I intend to use.\n\n221\n00:10:10.660 --> 00:10:13.450\nAnd I can use just a regular\ndisk manager to do that.\n\n222\n00:10:13.450 --> 00:10:18.510\nNow, right now, those disks\nare actually owned by node two,\n\n223\n00:10:18.510 --> 00:10:20.590\nand I'm on node one, right?\n\n224\n00:10:20.590 --> 00:10:23.109\nSo, if I try and format them on node one,\nthat's gonna cause a problem.\n\n225\n00:10:23.109 --> 00:10:24.900\nSo I get two choices.\n\n226\n00:10:24.900 --> 00:10:27.180\nOne, I could switch over to node two,\nright.\n\n227\n00:10:27.180 --> 00:10:29.310\nI've got it open in the background,\nso I could always do that.\n\n228\n00:10:29.310 --> 00:10:35.510\nOr I could transition those disks to be\nowned by node 1, if I wanted that, right?\n\n229\n00:10:35.510 --> 00:10:36.092\nLet me show you what I mean there.\n\n230\n00:10:36.092 --> 00:10:41.113\nIf I go into my Computer Management,\nand I pull up the disks,\n\n231\n00:10:41.113 --> 00:10:45.452\nit's gonna see all of the clustered disks,\nright?\n\n232\n00:10:45.452 --> 00:10:46.509\nWell, yeah, it will eventually.\n\n233\n00:10:46.509 --> 00:10:47.355\n&gt;&gt; Hopefully.\n\n234\n00:10:47.355 --> 00:10:49.132\n[LAUGH]\n&gt;&gt; [LAUGH] Have to be a little patient,\n\n235\n00:10:49.132 --> 00:10:50.690\nbut it'll load them.\n\n236\n00:10:50.690 --> 00:10:53.500\nAnd there was the quorum\ndisk that was two gigs.\n\n237\n00:10:53.500 --> 00:10:56.217\nAnd then I had two other disks\nthat were 256 gigs each, right?\n\n238\n00:10:57.310 --> 00:11:01.990\nAnd it should see them, but\nthey should be flagged as reserved.\n\n239\n00:11:01.990 --> 00:11:03.850\nOkay, so what does reserved mean?\n\n240\n00:11:03.850 --> 00:11:06.503\nThat means we're connected but\nwe're not actually using them.\n\n241\n00:11:06.503 --> 00:11:08.038\nSomeone else is in charge,\n\n242\n00:11:08.038 --> 00:11:12.290\nand we're not messing with it cuz\nwe don't wanna corrupt any data.\n\n243\n00:11:12.290 --> 00:11:12.820\nAll right.\n\n244\n00:11:12.820 --> 00:11:15.710\nSo if I try and mess with it here,\nthat's gonna be a problem.\n\n245\n00:11:15.710 --> 00:11:18.400\nSo I'm gonna leave that just like it is.\n\n246\n00:11:18.400 --> 00:11:22.140\nAnd I'm going to jump back\nto my cluster manager.\n\n247\n00:11:23.740 --> 00:11:28.280\nAnd back here in my cluster manager,\nI can come into Disks.\n\n248\n00:11:28.280 --> 00:11:30.310\nAnd I can come into Disks.\n\n249\n00:11:30.310 --> 00:11:30.990\nThere we go.\n\n250\n00:11:30.990 --> 00:11:32.280\nAnd I can pick one of the disks.\n\n251\n00:11:32.280 --> 00:11:34.820\nI'll just take Cluster Disk 2 here.\n\n252\n00:11:34.820 --> 00:11:39.423\nAnd if you right-click on it, you'll\nsee where you can adjust replication,\n\n253\n00:11:39.423 --> 00:11:41.460\nyou can turn on maintenance mode.\n\n254\n00:11:41.460 --> 00:11:46.270\nWe can do all these different things but\nsee how I don't really have a move.\n\n255\n00:11:46.270 --> 00:11:48.520\nI can't move it to someone else.\n\n256\n00:11:48.520 --> 00:11:51.522\nAnd that's because that resource\nis currently tied up and\n\n257\n00:11:51.522 --> 00:11:55.270\nif I go over here to the right side,\nI'll start to see a few more options.\n\n258\n00:11:55.270 --> 00:11:59.460\nAnd some of these is a little bit tricky\ncuz it'll say Move Available Storage.\n\n259\n00:11:59.460 --> 00:12:02.900\nAnd that's actually talking about\nwho is owning it right now.\n\n260\n00:12:02.900 --> 00:12:06.460\nAnd that's the one that I want so I didn't\nsee that option when I right-click.\n\n261\n00:12:06.460 --> 00:12:07.814\nBut I do see it over\nhere on the right pane.\n\n262\n00:12:07.814 --> 00:12:11.545\nSo I'm gonna take that and\nI'll choose to select the node and\n\n263\n00:12:11.545 --> 00:12:14.630\nI'm gonna move that over to node one,\nall right?\n\n264\n00:12:14.630 --> 00:12:17.819\nAnd when I do that, it's gonna move\nover and it'll take just a second and\n\n265\n00:12:17.819 --> 00:12:18.930\nactually there it goes.\n\n266\n00:12:18.930 --> 00:12:20.560\nThat happened really fast.\n\n267\n00:12:20.560 --> 00:12:23.590\nAnd now I can see that available\nstorage is tied to node one.\n\n268\n00:12:23.590 --> 00:12:28.590\nAnd notice how I just moved one disk,\nbut it grabbed them both, right?\n\n269\n00:12:28.590 --> 00:12:29.760\nBy moving one,\n\n270\n00:12:29.760 --> 00:12:33.600\nit determined that it was better to have\nthat node in charge of the other as well.\n\n271\n00:12:33.600 --> 00:12:36.390\nThe cluster manager will make\na lot of decisions like this,\n\n272\n00:12:36.390 --> 00:12:37.625\nover what it thinks is best.\n\n273\n00:12:37.625 --> 00:12:39.640\nWhat's gonna keep thing the most healthy,\nso\n\n274\n00:12:39.640 --> 00:12:41.570\nit'll do that kind of in the background.\n\n275\n00:12:41.570 --> 00:12:42.980\n&gt;&gt; Okay, so now you're ready\nto go ahead and format those?\n\n276\n00:12:42.980 --> 00:12:43.572\n&gt;&gt; I should be.\n\n277\n00:12:43.572 --> 00:12:44.507\n&gt;&gt; All right.\n&gt;&gt; [LAUGH]\n\n278\n00:12:44.507 --> 00:12:45.511\n&gt;&gt; [LAUGH]\n\n279\n00:12:45.511 --> 00:12:46.103\n&gt;&gt; If I go back to my Computer\n\n280\n00:12:46.103 --> 00:12:46.736\nManagement screen here.\n\n281\n00:12:46.736 --> 00:12:49.854\nHere's the disk.\n\n282\n00:12:49.854 --> 00:12:52.890\nThey're still showing as reserved, right?\n\n283\n00:12:52.890 --> 00:12:54.785\nSo I might need to do a rescan so\nI'll do that.\n\n284\n00:12:54.785 --> 00:12:56.477\nI'm just gonna right-click.\nLet me do a refresh first.\n\n285\n00:12:56.477 --> 00:12:59.080\nRefresh is a little faster than a rescan.\n\n286\n00:12:59.080 --> 00:13:01.035\nRescan, you normally do when you're\ntrying to detect new drives.\n\n287\n00:13:01.035 --> 00:13:03.760\nHere they're not new,\nthey're just in a new state.\n\n288\n00:13:03.760 --> 00:13:06.130\nAnd as I do that, that didn't change.\n\n289\n00:13:06.130 --> 00:13:07.990\nI guess I will do a rescan after all.\n\n290\n00:13:07.990 --> 00:13:09.570\nSo let me do a rescan.\n\n291\n00:13:09.570 --> 00:13:10.510\nAnd it'll take a look in.\n\n292\n00:13:10.510 --> 00:13:14.990\nWe should see that we're now the owner\nof these disks, and there you go.\n\n293\n00:13:14.990 --> 00:13:17.200\nSee how it, actually,\nit still says reserved, doesn't it?\n\n294\n00:13:18.710 --> 00:13:19.620\nBut, well, we are the owner.\n\n295\n00:13:19.620 --> 00:13:23.340\nSo it still shows it's reserved but\nwe are now the owner cuz I can come in and\n\n296\n00:13:23.340 --> 00:13:26.110\nI can create that new simple volume and\nget that set up.\n\n297\n00:13:26.110 --> 00:13:27.100\nSo I'm gonna go ahead and do that.\n\n298\n00:13:27.100 --> 00:13:29.010\nI'll create that new simple volume.\n\n299\n00:13:29.010 --> 00:13:33.510\nAnd we'll just get that formatted so\nthat I have it and\n\n300\n00:13:33.510 --> 00:13:35.960\nI'll just call this Storage or something.\n\n301\n00:13:35.960 --> 00:13:36.900\nWhatever it is you wanna call it.\n\n302\n00:13:36.900 --> 00:13:38.920\nThe end users never\nactually see that name.\n\n303\n00:13:38.920 --> 00:13:40.340\nIt's just for your own reference.\n\n304\n00:13:40.340 --> 00:13:44.130\nBut now that it's got the name on there,\nI can see it was created successfully but\n\n305\n00:13:44.130 --> 00:13:45.620\nit was not formatted.\n\n306\n00:13:45.620 --> 00:13:48.090\nAll right, so\nnow I definitely have a problem.\n\n307\n00:13:48.090 --> 00:13:50.190\nSo it didn't format it.\n\n308\n00:13:50.190 --> 00:13:50.870\nWhy not?\n\n309\n00:13:50.870 --> 00:13:53.360\nWell, I may not have waited long enough,\nso\n\n310\n00:13:53.360 --> 00:13:55.540\nI may not actually have\nownership of these disks.\n\n311\n00:13:55.540 --> 00:13:57.449\nIt takes a second for\nit to transition over,\n\n312\n00:13:57.449 --> 00:14:00.917\nand when I saw that reserved note right\nthere, I should have said, I'll wait.\n\n313\n00:14:00.917 --> 00:14:01.730\n&gt;&gt; It happened so quickly.\n\n314\n00:14:01.730 --> 00:14:02.720\nYou thought uh-oh.\n\n315\n00:14:02.720 --> 00:14:04.629\n&gt;&gt; Yeah.\n&gt;&gt; Usually it's too good to be true if\n\n316\n00:14:04.629 --> 00:14:05.927\nsomething seems that way.\n\n317\n00:14:05.927 --> 00:14:07.650\n[LAUGH]\n&gt;&gt; And so if you're getting an error like\n\n318\n00:14:07.650 --> 00:14:10.558\nthis, I wasn't able to format it cuz\nthe other node still had control.\n\n319\n00:14:10.558 --> 00:14:12.632\n&gt;&gt; Okay.\n&gt;&gt; And the failover cluster stopped me,\n\n320\n00:14:12.632 --> 00:14:14.030\ncuz that's what it does.\n\n321\n00:14:14.030 --> 00:14:15.457\nIt's that gatekeeper.\n&gt;&gt; Yeah, to prevent that corruption.\n\n322\n00:14:15.457 --> 00:14:16.790\n&gt;&gt; Yeah.\n\n323\n00:14:16.790 --> 00:14:19.240\nSo I got a few choices\nof what I can do here.\n\n324\n00:14:19.240 --> 00:14:21.029\nI can wait.\nI can refresh.\n\n325\n00:14:21.029 --> 00:14:23.299\nI think I'm gonna ignore it for\nright now cuz I can always come back and\n\n326\n00:14:23.299 --> 00:14:24.256\nfix this a little bit later.\n\n327\n00:14:24.256 --> 00:14:26.120\nSo, all right, so let's leave that be.\n\n328\n00:14:26.120 --> 00:14:28.720\nLet's go check on our role\nwhile that's running.\n\n329\n00:14:28.720 --> 00:14:31.115\nAnd in real life,\nyou wanna take your time with this stuff.\n\n330\n00:14:31.115 --> 00:14:34.727\nIn the show, I try and\nget through it in 30 minutes.\n\n331\n00:14:34.727 --> 00:14:38.819\nSo, [LAUGH] all right, so it is still\nshowing up and healthy on node one, so\n\n332\n00:14:38.819 --> 00:14:42.010\nI think we'll just let that one sit and\nwait.\n\n333\n00:14:42.010 --> 00:14:45.609\nAll right, now at this point,\nI should be done installing my role, so\n\n334\n00:14:45.609 --> 00:14:49.830\nback in my Server Manager here, looks\nlike we don't have any outstanding tasks.\n\n335\n00:14:49.830 --> 00:14:53.600\nI'm just looking up here to verify that\nI don't have anything outstanding.\n\n336\n00:14:54.630 --> 00:14:56.660\n&gt;&gt; All right, and Don, you've been\nshowing a lot of these steps here\n\n337\n00:14:56.660 --> 00:14:58.240\nwithin the graphical user interface.\n\n338\n00:14:58.240 --> 00:15:02.180\nAnd Microsoft, we've talked about this a\nlot in different shows, really pushing for\n\n339\n00:15:02.180 --> 00:15:04.600\nthat PowerShell install and\nconfigurations.\n\n340\n00:15:04.600 --> 00:15:07.060\nIs that an option here as well?\n\n341\n00:15:07.060 --> 00:15:08.300\n&gt;&gt; Yeah, you can certainly do it.\n\n342\n00:15:08.300 --> 00:15:09.710\nI typically do this stuff through the GUI,\n\n343\n00:15:09.710 --> 00:15:11.810\nbecause I'm running the tools\nfrom my own workstation.\n\n344\n00:15:11.810 --> 00:15:13.930\nBut if we wanted to do it from\nthe PowerShell, you could,\n\n345\n00:15:13.930 --> 00:15:16.840\nand while we're waiting on this to finish,\nwe've got a few moments.\n\n346\n00:15:16.840 --> 00:15:18.420\nLet me bring up a PowerShell here.\n\n347\n00:15:18.420 --> 00:15:22.100\nWhat you'll find is that there's a lot\nof commands that are all baked in\n\n348\n00:15:22.100 --> 00:15:24.170\nready to do everything that\nwe've been doing, right?\n\n349\n00:15:24.170 --> 00:15:27.981\nSo, like when we installed\nthe failover cluster itself,\n\n350\n00:15:27.981 --> 00:15:33.137\nI could have just dropped to a PowerShell\nand said Install -WindowsFeature.\n\n351\n00:15:33.137 --> 00:15:34.503\nI did a tab autocomplete.\n\n352\n00:15:34.503 --> 00:15:36.220\nIt's thinking apparently.\n\n353\n00:15:36.220 --> 00:15:37.370\nThere we go.\n\n354\n00:15:37.370 --> 00:15:38.670\nInstall -WindowsFeature.\n\n355\n00:15:38.670 --> 00:15:42.801\nAnd then -Name Failover-Custering, right.\n\n356\n00:15:42.801 --> 00:15:45.363\nAnd that could have\ninstalled the feature and\n\n357\n00:15:45.363 --> 00:15:48.408\nI could have done that on each\nnode that I wanted to do.\n\n358\n00:15:48.408 --> 00:15:50.075\nI'll probably make that\na little bigger here.\n\n359\n00:15:50.075 --> 00:15:52.115\nSo we've got that to get it installed.\n\n360\n00:15:52.115 --> 00:15:53.495\nI've already got that feature installed.\n\n361\n00:15:53.495 --> 00:15:55.264\nSo it's not gonna do anything.\n\n362\n00:15:55.264 --> 00:15:59.663\nBut then from there I could've created\nthe cluster, I could've added the nodes.\n\n363\n00:15:59.663 --> 00:16:01.054\nWe did harbor validation, right?\n\n364\n00:16:01.054 --> 00:16:07.340\nI could've said Test-Cluster -Node and\nthen the names of the nodes.\n\n365\n00:16:07.340 --> 00:16:08.570\n&gt;&gt; Specify them.\n\n366\n00:16:08.570 --> 00:16:10.335\n&gt;&gt; Yep, if I could type.\n\n367\n00:16:10.335 --> 00:16:12.520\nAnd that'll run the hardware valuation,\n\n368\n00:16:12.520 --> 00:16:14.420\nI don't wanna do that again\ncuz it takes too long.\n\n369\n00:16:14.420 --> 00:16:16.986\nAnd then we could've created\nthe actual cluster, right?\n\n370\n00:16:16.986 --> 00:16:21.759\nI could've said New-Cluster -Name.\n\n371\n00:16:21.759 --> 00:16:24.897\nAnd then whatever,\nI think I called it CLUSTER01.\n\n372\n00:16:24.897 --> 00:16:30.379\nAnd then I could specify the node that I\nwanted to be a part of it like NODE01 and\n\n373\n00:16:30.379 --> 00:16:31.055\nNODE2.\n\n374\n00:16:32.510 --> 00:16:35.588\nAnd then the virtual IP\nthat I wanted to share, and\n\n375\n00:16:35.588 --> 00:16:37.800\nmy head's gonna get on top of this.\n\n376\n00:16:37.800 --> 00:16:39.690\nLet me zoom back out, there.\n\n377\n00:16:40.700 --> 00:16:45.650\nSo then I can provide the static IP that\nI was using, whatever that happens to be.\n\n378\n00:16:45.650 --> 00:16:46.550\nAnd you punch that in.\n\n379\n00:16:46.550 --> 00:16:48.641\nSo, we can do all of\nthis from the PowerShell.\n\n380\n00:16:48.641 --> 00:16:51.406\nEverything that we need to do,\nadding the rules, all that,\n\n381\n00:16:51.406 --> 00:16:53.590\nit's all there if you take a look at it.\n\n382\n00:16:53.590 --> 00:16:55.530\nSo you've got that functionality.\n\n383\n00:16:55.530 --> 00:16:56.188\nAnd that's really\n\n384\n00:16:56.188 --> 00:16:58.725\nimportant if you go server core install\nbecause you don't have the GUI.\n\n385\n00:16:58.725 --> 00:17:02.649\nBut like I said, I normally run the GUI\non my workstation, connect up, and\n\n386\n00:17:02.649 --> 00:17:04.221\nbuild the cluster like that.\n\n387\n00:17:04.221 --> 00:17:04.965\nAll right, so\n\n388\n00:17:04.965 --> 00:17:08.760\nlet's just jump back here and\ntake a look at that cluster manager again.\n\n389\n00:17:08.760 --> 00:17:10.876\nAnd I'm gonna go back up to my Roles and\n\n390\n00:17:10.876 --> 00:17:15.189\nit should be a little happier this time\nbecause I've got the role installed.\n\n391\n00:17:15.189 --> 00:17:19.026\nSo when I right-click on that Role\nfolder and choose Configure Role,\n\n392\n00:17:19.026 --> 00:17:22.745\nI'm gonna come in here and\nchoose the File Server role, all right?\n\n393\n00:17:22.745 --> 00:17:27.250\nAnd it just did a quick check to see if\nI had that role on any of my servers.\n\n394\n00:17:27.250 --> 00:17:29.200\nAnd then I can move forward,\nit's gonna ask what I'm gonna do.\n\n395\n00:17:29.200 --> 00:17:32.020\nI'm setting up a File Server for\ngeneral use.\n\n396\n00:17:32.020 --> 00:17:34.710\nI'm gonna talk about Scale Out file\nservers in another episodes, so\n\n397\n00:17:34.710 --> 00:17:38.530\nwe'll hold off on that one, but\njust a regular old file server.\n\n398\n00:17:38.530 --> 00:17:40.630\nAnd when I move forward,\nit's gonna ask me to create a name.\n\n399\n00:17:40.630 --> 00:17:43.260\nI need to have a NetBIOS name for this.\n\n400\n00:17:43.260 --> 00:17:48.570\nAnd so I might call this STORAGE01, or\nwhatever name it is that I wanna give it,\n\n401\n00:17:48.570 --> 00:17:50.120\ncuz this is what I'm\ngonna tell the end users.\n\n402\n00:17:50.120 --> 00:17:52.710\nThey're gonna see this as\na server on my network.\n\n403\n00:17:52.710 --> 00:17:53.830\nIt's not a real server.\n\n404\n00:17:53.830 --> 00:17:58.232\nIt's a virtual server that's being bounced\nback and forth between the cluster nodes,\n\n405\n00:17:58.232 --> 00:17:59.551\nand I need to give it an IP.\n\n406\n00:17:59.551 --> 00:18:04.661\nSo I'll do 10.0.222.20, I don't know, 209.\n\n407\n00:18:04.661 --> 00:18:06.586\n&gt;&gt; So we're not using the virtual IP here?\n\n408\n00:18:06.586 --> 00:18:08.166\nWe're just specifying-\n&gt;&gt; Right,\n\n409\n00:18:08.166 --> 00:18:09.623\nthe virtual IP is tied to the cluster.\n\n410\n00:18:09.623 --> 00:18:12.014\nWhen we instaledl the cluster,\nwe picked a virtual IP.\n\n411\n00:18:12.014 --> 00:18:14.750\nAnd that's what we wanna connect to\nwhen we're managing the cluster.\n\n412\n00:18:14.750 --> 00:18:18.960\nBut each role that you add\nwill get its own IP as well.\n\n413\n00:18:18.960 --> 00:18:21.822\nSo your cluster actually have a lot\nof IPs if you have a lot of roles.\n\n414\n00:18:21.822 --> 00:18:25.072\nIf you only have one role,\nthen you'll just have two IPs, one IP for\n\n415\n00:18:25.072 --> 00:18:27.833\nthe cluster and one IP for\nthe role that you're running.\n\n416\n00:18:27.833 --> 00:18:28.408\n&gt;&gt; Cool.\n\n417\n00:18:28.408 --> 00:18:31.086\n&gt;&gt; Yeah, little confusing because you\nthink it would just reuse the same one.\n\n418\n00:18:31.086 --> 00:18:35.648\nBut there is a reason for that because I\ncould have more than one file server role.\n\n419\n00:18:35.648 --> 00:18:39.297\nSo this is STORAGE01, and I could have\nSTORAGE02, which had a different IP.\n\n420\n00:18:39.297 --> 00:18:42.954\nAnd I might have a sixteen node cluster,\nand the first eight nodes are handling\n\n421\n00:18:42.954 --> 00:18:46.520\none of those roles, and the other eight\nnodes are handling the other roles.\n\n422\n00:18:46.520 --> 00:18:48.540\nSo you can kinda balance\nit however you want.\n\n423\n00:18:48.540 --> 00:18:49.270\nThat's why they do that.\n\n424\n00:18:50.900 --> 00:18:53.803\nAll right then,\nit's gonna ask me to select my storage.\n\n425\n00:18:53.803 --> 00:18:56.620\nAnd so it's parsing the storage in and\nI've got no storages available.\n\n426\n00:18:56.620 --> 00:18:58.033\nAnd this is because I\nhaven't formated my disk.\n\n427\n00:18:58.033 --> 00:18:59.341\n&gt;&gt; The issue with the drives.\n\n428\n00:18:59.341 --> 00:19:03.669\n&gt;&gt; Yep, so it's telling me down here some\navailable disks not listed because they do\n\n429\n00:19:03.669 --> 00:19:05.818\nnot contain any formatted partitions.\n\n430\n00:19:05.818 --> 00:19:07.880\nSo I've gotta get that squared away.\n\n431\n00:19:07.880 --> 00:19:11.540\nBut once we get that done,\nyou choose your disk here and\n\n432\n00:19:11.540 --> 00:19:14.620\nnow you've got that file service up and\nit's running.\n\n433\n00:19:14.620 --> 00:19:16.272\nSo let me just kinda,\n\n434\n00:19:16.272 --> 00:19:19.290\nI'm gonna hit the Previous button to\nmove back cuz you can get us a re-scan.\n\n435\n00:19:19.290 --> 00:19:23.258\nAnd let me see if it's ready for\nme to go in and format that disk yet.\n\n436\n00:19:23.258 --> 00:19:25.971\nOtherwise, we might just\nhave to continue to wait or\n\n437\n00:19:25.971 --> 00:19:28.260\nif it hasn't actually transitioned over.\n\n438\n00:19:28.260 --> 00:19:31.225\nI might just jump over to node 2 and\nformat it there.\n\n439\n00:19:31.225 --> 00:19:32.880\nSo let me try and format this one again.\n\n440\n00:19:32.880 --> 00:19:35.645\nAnd, all right, so it failed.\n\n441\n00:19:35.645 --> 00:19:38.602\nAll right, so we're gonna go a little\noff the certification path on this one.\n\n442\n00:19:38.602 --> 00:19:39.423\nI wanna show you guys a trick.\n\n443\n00:19:39.423 --> 00:19:42.251\nIf you ever have a storage that gets\nkind of in limbo where somebody's\n\n444\n00:19:42.251 --> 00:19:45.665\nnot necessarily in control of it or you're\njust not sure that the ownership is right\n\n445\n00:19:45.665 --> 00:19:47.698\non it,\nthere's a maintenance mode you can use.\n\n446\n00:19:47.698 --> 00:19:49.170\nThat you can flip a drive\ninto maintenance mode,\n\n447\n00:19:49.170 --> 00:19:53.810\nand it temporarily suspends\ncluster operations for that disk.\n\n448\n00:19:53.810 --> 00:19:56.310\nAnd while it's suspended,\nyou can do whatever you want to the disk.\n\n449\n00:19:56.310 --> 00:19:57.950\nAnd then you can bring it right back in.\n\n450\n00:19:57.950 --> 00:19:59.892\nYou turn maintenance mode off and\nnow it's back in the cluster.\n\n451\n00:19:59.892 --> 00:20:02.040\nSometimes I'll use this where\nI don't even change anything.\n\n452\n00:20:02.040 --> 00:20:04.623\nI just move it into maintenance mode,\nand move it back out.\n\n453\n00:20:04.623 --> 00:20:06.459\nAnd that reasserts who\nthe owner of that disk is and\n\n454\n00:20:06.459 --> 00:20:07.739\nmakes sure that it's connected.\n\n455\n00:20:07.739 --> 00:20:10.900\nSo it's a little trick that I've had\nto use a few times over the years.\n\n456\n00:20:10.900 --> 00:20:13.700\nNot something you routinely have to do,\nbut I've created this perfect storm here.\n\n457\n00:20:13.700 --> 00:20:15.317\n&gt;&gt; Good to know.\n\n458\n00:20:15.317 --> 00:20:16.825\n[LAUGH]\n&gt;&gt; [LAUGH] So, let me go in here and\n\n459\n00:20:16.825 --> 00:20:18.040\ndo that real quick.\n\n460\n00:20:18.040 --> 00:20:22.876\nI'm gonna go down to my Disks, and\nI will find the disk I wanna mess with.\n\n461\n00:20:22.876 --> 00:20:24.377\nAnd right now it shows as online.\n\n462\n00:20:24.377 --> 00:20:29.180\nI'm gonna right-click and go to\nMore Actions and turn on maintenance mode.\n\n463\n00:20:29.180 --> 00:20:30.210\nIt only takes a second.\n\n464\n00:20:30.210 --> 00:20:31.602\nIt goes into maintenance mode and\n\n465\n00:20:31.602 --> 00:20:33.794\nnow the cluster is no longer\nmessing with that disk.\n\n466\n00:20:33.794 --> 00:20:34.395\nright?\n\n467\n00:20:34.395 --> 00:20:36.906\nWhich means any service tied to\nit is sort of closed right now.\n\n468\n00:20:36.906 --> 00:20:38.310\n&gt;&gt; Okay, that is what I was going to ask.\n\n469\n00:20:38.310 --> 00:20:41.160\nIf you were in a production\nenvironment and you brought\n\n470\n00:20:41.160 --> 00:20:45.600\none of these drives into maintenance mode,\nwould that data be inaccessible or?\n\n471\n00:20:45.600 --> 00:20:48.848\n&gt;&gt; Well, the data's still there.\n\n472\n00:20:48.848 --> 00:20:51.050\nSometimes it can be accessible, but\nmost of the time it isn't, right?\n\n473\n00:20:51.050 --> 00:20:52.864\n&gt;&gt; Okay.\n&gt;&gt; So that causes a problem.\n\n474\n00:20:52.864 --> 00:20:56.275\nAnd the other thing is it definitely can't\nfailover while it's in maintenance mode,\n\n475\n00:20:56.275 --> 00:20:57.170\nso you lose a lot here.\n\n476\n00:20:57.170 --> 00:20:58.980\nYou don't wanna do this during production.\n\n477\n00:20:58.980 --> 00:21:01.640\nThis should be done in\na maintenance window.\n\n478\n00:21:01.640 --> 00:21:02.190\n&gt;&gt; Okay.\n\n479\n00:21:02.190 --> 00:21:07.062\n&gt;&gt; But once that's done, I can now\nswitch back over to computer management.\n\n480\n00:21:07.062 --> 00:21:10.844\nI can find the disk, and I'm just gonna\ndelete that partition that I made earlier,\n\n481\n00:21:10.844 --> 00:21:12.315\nso I let me that get out of there.\n\n482\n00:21:12.315 --> 00:21:17.672\nAnd I will come in and create a new\nsimple volume and we'll just walk you.\n\n483\n00:21:17.672 --> 00:21:18.921\nI'm gonna format that whole drive.\n\n484\n00:21:18.921 --> 00:21:21.287\nI'm gonna assign a drive letter,\nthis is storage.\n\n485\n00:21:21.287 --> 00:21:24.970\nI'm gonna go S for storage,\nvery easy to remember.\n\n486\n00:21:24.970 --> 00:21:29.050\nI will call it storage, although you can\nname it whatever makes you happy and\n\n487\n00:21:29.050 --> 00:21:31.590\nwe'll do a quick format on that one.\n\n488\n00:21:31.590 --> 00:21:33.468\nAnd we'll let that run and\nthat's gonna format it,\n\n489\n00:21:33.468 --> 00:21:35.700\nso I'm gonna give it just a minute here,\nI'm gonna watch it.\n\n490\n00:21:35.700 --> 00:21:38.100\nNow there are a couple things\nwe need to watch out for here.\n\n491\n00:21:38.100 --> 00:21:39.736\nFirst to make sure it finishes, right?\n\n492\n00:21:39.736 --> 00:21:43.198\nCuz I could get an error kickback at me,\nit finished.\n\n493\n00:21:43.198 --> 00:21:44.620\nAnd it got a drive letter.\n\n494\n00:21:44.620 --> 00:21:48.565\nHere's another thing you wanna watch out\nfor is it has a drive letter right now.\n\n495\n00:21:48.565 --> 00:21:51.980\nWhen we bring it back into the cluster,\nit's gonna load the cluster configuration,\n\n496\n00:21:51.980 --> 00:21:54.430\nand I've seen before where\nwe lose that drive letter.\n\n497\n00:21:54.430 --> 00:21:56.880\nYou'll see in the wizard that's it's\nactually important that we have that drive\n\n498\n00:21:56.880 --> 00:21:57.490\nletter in place.\n\n499\n00:21:57.490 --> 00:22:02.358\nSo now that the drive is formated and back\nup, I can jump back to my cluster screen\n\n500\n00:22:02.358 --> 00:22:05.420\nand I'll take the disk\nout of maintainance mode.\n\n501\n00:22:05.420 --> 00:22:09.820\nSo I'll right-click on it, a go to\nMore Actions &gt; Turn Off Maintainance Mode.\n\n502\n00:22:09.820 --> 00:22:12.069\nAnd it's gonna come out\nof maintainance mode.\n\n503\n00:22:12.069 --> 00:22:14.478\nAnd before I rush right over\nto that file server wizard,\n\n504\n00:22:14.478 --> 00:22:17.555\nI'm gonna go just double-check real\nquick in computer management and\n\n505\n00:22:17.555 --> 00:22:20.160\nmake sure that I still have\nmy drive letter in place.\n\n506\n00:22:20.160 --> 00:22:21.140\nI'm gonna refresh that.\n\n507\n00:22:22.150 --> 00:22:24.270\nOne problem that I bumped into before, and\n\n508\n00:22:24.270 --> 00:22:26.520\nactually I'm bumping into right now,\naren't I?\n\n509\n00:22:26.520 --> 00:22:30.973\nSee how my storage drive has gotten\nthe drive letter E, all right?\n\n510\n00:22:30.973 --> 00:22:32.656\nI've gotta be really careful\nwith these drive letters.\n\n511\n00:22:32.656 --> 00:22:35.340\nThey come from the cluster configuration.\n\n512\n00:22:35.340 --> 00:22:38.690\nAnd the other disks, if they're\nbeing controlled by other nodes,\n\n513\n00:22:38.690 --> 00:22:42.200\nyou can run into duplicate drive letters\nand that can cause some problems.\n\n514\n00:22:42.200 --> 00:22:45.060\nIn this case, I have a little\nbit of secret knowledge that\n\n515\n00:22:45.060 --> 00:22:47.610\nI might not necessarily know in real life.\n\n516\n00:22:47.610 --> 00:22:49.760\nRight now, node2 is my master, right?\n\n517\n00:22:49.760 --> 00:22:51.380\nHere is the cluster master.\n\n518\n00:22:51.380 --> 00:22:54.280\nAnd it is in charge of the quorum disk.\n\n519\n00:22:54.280 --> 00:22:57.550\nAnd so when I look at the quorum disk,\nit doesn't have a drive letter.\n\n520\n00:22:57.550 --> 00:23:01.820\nIf I jump over to my other node and\ntake a look at it,\n\n521\n00:23:01.820 --> 00:23:04.450\nthe quorum disk has drive letter E.\n\n522\n00:23:04.450 --> 00:23:06.330\nThat's why I was picking\na different drive letter.\n\n523\n00:23:06.330 --> 00:23:09.430\nI didn't want to reuse E because\nwe'd have duplicate letters.\n\n524\n00:23:09.430 --> 00:23:14.310\nIf node became the master, then the quorum\ndisk and disk one would both be drive E,\n\n525\n00:23:14.310 --> 00:23:15.860\nand that's gonna cause a problem.\n\n526\n00:23:15.860 --> 00:23:19.580\nSo after I mounted the disk,\nthat drive letter changed-\n\n527\n00:23:19.580 --> 00:23:20.161\n&gt;&gt; [CROSSTALK] The operating\n\n528\n00:23:20.161 --> 00:23:20.800\nsystem changed it for you.\n\n529\n00:23:20.800 --> 00:23:23.002\n&gt;&gt; It did, and it changed it in a bad way.\n\n530\n00:23:23.002 --> 00:23:28.462\nSo the failover cluster is smart, but\nsometimes smart people make mistakes.\n\n531\n00:23:28.462 --> 00:23:29.257\nI'd certainly know that.\n\n532\n00:23:29.257 --> 00:23:30.443\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n533\n00:23:30.443 --> 00:23:31.643\n&gt;&gt; And so I'm gonna come in here,\n\n534\n00:23:31.643 --> 00:23:34.350\nI'm just gonna change that drive\nletter after the fact now.\n\n535\n00:23:34.350 --> 00:23:38.012\nI'm out of maintenance mode, so\nI'm actually up and running.\n\n536\n00:23:38.012 --> 00:23:40.233\nBut since node one is\ncontrolling this disk,\n\n537\n00:23:40.233 --> 00:23:42.107\nI should be able to make changes to it.\n\n538\n00:23:42.107 --> 00:23:47.774\nSo I'm gonna change driver letter to path\nand I'm going to remove the E designation.\n\n539\n00:23:47.774 --> 00:23:53.166\nSo I'll do that and\nthen I'm gonna come in add a drive letter.\n\n540\n00:23:53.166 --> 00:23:55.794\nAnd I'm going to add\nthat S again afterwards.\n\n541\n00:23:55.794 --> 00:23:59.995\nNow because the cluster is online and\nbecause node one is the master,\n\n542\n00:23:59.995 --> 00:24:02.200\nor node one is in control as is this.\n\n543\n00:24:02.200 --> 00:24:06.360\nThat should be part of the cluster\nconfiguration now so be careful with that.\n\n544\n00:24:06.360 --> 00:24:10.410\nChanges made outside have\nto be cluster config and\n\n545\n00:24:10.410 --> 00:24:12.680\nsometimes that not as\nautomatic as we like.\n\n546\n00:24:12.680 --> 00:24:15.300\nSo now I've got that and now I'm ready\n\n547\n00:24:15.300 --> 00:24:19.810\nto jump right back over into my cluster\nwizard here and create that file server.\n\n548\n00:24:19.810 --> 00:24:24.390\nThird time's a charm, and as we move\nforward, I know it should be simple,\n\n549\n00:24:24.390 --> 00:24:25.420\nit's just a file server.\n\n550\n00:24:25.420 --> 00:24:27.630\nBut there's a lot of moving parts, right?\n\n551\n00:24:27.630 --> 00:24:32.020\nSo I'm gonna create that file server for\ngeneral use, I'll give it a name.\n\n552\n00:24:32.020 --> 00:24:38.640\nI called it storage01 earlier and\nI gave it an IP of 10.0.222.209.\n\n553\n00:24:38.640 --> 00:24:41.970\nAnd now it's gonna scan for\nmy disks, all right, and\n\n554\n00:24:41.970 --> 00:24:44.320\nit should find that\ndisk that is formatted.\n\n555\n00:24:44.320 --> 00:24:46.300\nIt does have a drive letter,\nso there it is.\n\n556\n00:24:46.300 --> 00:24:48.980\nIt's happy, I'll check it off and\nthere it is.\n\n557\n00:24:48.980 --> 00:24:51.400\nIt does have an S for\nthe drive letter instead of an E so\n\n558\n00:24:51.400 --> 00:24:52.690\nthat's exactly what I want.\n\n559\n00:24:52.690 --> 00:24:54.080\nAnd I can move forward.\n\n560\n00:24:54.080 --> 00:24:56.800\nAnd that's all the information\nit needs to finish up.\n\n561\n00:24:56.800 --> 00:24:59.780\nIt is reaching out and configuring\nthe high availability right now.\n\n562\n00:24:59.780 --> 00:25:04.120\nIt's telling node two about it and\nit's bringing this roll up,\n\n563\n00:25:04.120 --> 00:25:06.660\nin fact it does something\nkind of interesting here.\n\n564\n00:25:06.660 --> 00:25:09.080\nNode one is not guaranteed\nto be the owner,\n\n565\n00:25:09.080 --> 00:25:12.310\neven though I'm running all of this on\nnode one, node two could be the owner.\n\n566\n00:25:12.310 --> 00:25:13.190\nBut now that it's done,\n\n567\n00:25:13.190 --> 00:25:17.220\nthere it is, the roll is up,\nit's running and it's in business.\n\n568\n00:25:17.220 --> 00:25:19.650\nI've now got a file server.\n\n569\n00:25:19.650 --> 00:25:21.830\nNow there's more that I need to do\nto get the file server working,\n\n570\n00:25:21.830 --> 00:25:25.195\nlike if I right click on it you'll\nsee where I can add a file share.\n\n571\n00:25:25.195 --> 00:25:28.880\nKinda hard to use a file server if\nthere's no shared folders there, right?\n\n572\n00:25:28.880 --> 00:25:30.563\nSo we would need to come through and\n\n573\n00:25:30.563 --> 00:25:33.590\nadd any shared folders that we\nwanted to get this one in place.\n\n574\n00:25:33.590 --> 00:25:37.120\nAnd so here it's going and reaching for\nthat configuration and it's gonna launch\n\n575\n00:25:37.120 --> 00:25:40.590\na little wizard here where I can start\nto create the file share that I want.\n\n576\n00:25:40.590 --> 00:25:44.380\nI'm running low on time so I'll show this\nmore on the scale out file server episode\n\n577\n00:25:44.380 --> 00:25:46.540\nand we'll talk more about these\noptions and what they are.\n\n578\n00:25:46.540 --> 00:25:50.510\nBut I can start to create my file shares\nand what's more important is that\n\n579\n00:25:50.510 --> 00:25:55.280\nnode one is in charge but if node one\nfailed, node two has access to this disk.\n\n580\n00:25:55.280 --> 00:25:58.630\nIt'll take ownership of this disk, it'll\ntake ownership of the shared folders and\n\n581\n00:25:58.630 --> 00:26:01.250\nthen it will make those available\nto the people on the network.\n\n582\n00:26:01.250 --> 00:26:02.960\nAnd the file server will stay up and\n\n583\n00:26:02.960 --> 00:26:06.430\nonline even though an entire\npiece of hardware fail.\n\n584\n00:26:06.430 --> 00:26:08.830\n&gt;&gt; Now Don, you did mention that\nwe were getting close on time.\n\n585\n00:26:08.830 --> 00:26:11.640\nBut are there any kind of maintenance or\n\n586\n00:26:11.640 --> 00:26:14.270\nadditional information of tips\nthat you'd like to share with us?\n\n587\n00:26:14.270 --> 00:26:17.560\n&gt;&gt; Yeah, there's a few really neat\nfeatures inside of the failover cluster\n\n588\n00:26:17.560 --> 00:26:18.540\nthat we configure.\n\n589\n00:26:18.540 --> 00:26:21.520\nOne, is what's called CUA or Cluster or\n\n590\n00:26:21.520 --> 00:26:25.500\nwhat, CAU, Cluster Aware Updates,\nthere we go.\n\n591\n00:26:25.500 --> 00:26:27.360\nWhen you deploy Windows updates, right?\n\n592\n00:26:27.360 --> 00:26:31.800\nIf I have five cluster nodes and they all\ncheck in for Windows updates at 3 AM and\n\n593\n00:26:31.800 --> 00:26:34.840\nthey all reboot at the same time,\nwhat happens to my cluster?\n\n594\n00:26:34.840 --> 00:26:36.360\nIt goes offline, right?\n\n595\n00:26:36.360 --> 00:26:40.690\n&gt;&gt; So Cluster Aware Updates recognize that\nyou're in a cluster and instead of all\n\n596\n00:26:40.690 --> 00:26:44.160\nthe nodes rebooting at the same time it\nstaggers them, it does one at a time.\n\n597\n00:26:44.160 --> 00:26:45.630\nRight one at a time\napplying those updates,\n\n598\n00:26:45.630 --> 00:26:48.690\nthat way your cluster stays up\neven while it's doing updates.\n\n599\n00:26:48.690 --> 00:26:52.009\nSo a really neat technology and\nit's pretty simple to get configured,\n\n600\n00:26:52.009 --> 00:26:52.893\nif you [CROSSTALK]\n&gt;&gt; So\n\n601\n00:26:52.893 --> 00:26:56.368\nthis is something that we have to specify,\nit's not intuitive [CROSSTALK] okay.\n\n602\n00:26:56.368 --> 00:27:00.218\n&gt;&gt; By default it just kind of relies\nto whatever your policy happens\n\n603\n00:27:00.218 --> 00:27:04.900\nto be already which is not usually good,\nso we wanna kind of change that.\n\n604\n00:27:04.900 --> 00:27:07.900\nBut if you go into your\nFailover Cluster Manager and\n\n605\n00:27:07.900 --> 00:27:11.150\nyou take a look at your cluster itself.\n\n606\n00:27:11.150 --> 00:27:14.630\nIt's turned on here at the cluster level,\nso when I choose CLUSTER01,\n\n607\n00:27:14.630 --> 00:27:19.960\nhere in the configuration screen, see I've\ngot Cluster Aware Updating right there.\n\n608\n00:27:19.960 --> 00:27:24.180\nAnd I can click on that, and\nwe can get this configured and turned on.\n\n609\n00:27:24.180 --> 00:27:28.680\nSo here it's basically asking me,\nwhat nodes I've got, the last\n\n610\n00:27:28.680 --> 00:27:32.670\ntime I ran a Cluster Aware Update, which I\nhaven't, so it says Not Applicable, right?\n\n611\n00:27:32.670 --> 00:27:36.280\nAnd now I can come through, and\nI can start to apply those updates.\n\n612\n00:27:36.280 --> 00:27:39.180\nAnd instead of applying it\nto all of the nodes at once,\n\n613\n00:27:39.180 --> 00:27:44.440\nit'll parse through them one at a time,\nmaking sure the cluster stays online.\n\n614\n00:27:44.440 --> 00:27:48.270\nSo you come over here to Apply Updates to\nthis Cluster, and you choose that, and\n\n615\n00:27:48.270 --> 00:27:50.640\nit basically just has a little\nwizard that you run through.\n\n616\n00:27:50.640 --> 00:27:51.860\nAnd you start to get it configured.\n\n617\n00:27:51.860 --> 00:27:56.682\nNow it's telling me right here that my\nconnected cluster does not have enabled\n\n618\n00:27:56.682 --> 00:27:58.560\nCAU cluster role.\n\n619\n00:27:58.560 --> 00:28:01.490\nIt's required to get it going, so\nI need to configure those options and\n\n620\n00:28:01.490 --> 00:28:02.110\nget that set up.\n\n621\n00:28:02.110 --> 00:28:05.940\nAnd it is telling me exactly how to\ndo that, it's a simple process to do.\n\n622\n00:28:05.940 --> 00:28:08.980\nAnd once you've got that in place\nyou'll find that your updates\n\n623\n00:28:08.980 --> 00:28:10.720\nbecome much more easy to do.\n\n624\n00:28:10.720 --> 00:28:14.190\nAnd easy to do just in the middle\nof the day without having to\n\n625\n00:28:14.190 --> 00:28:15.860\nreally reboot anything.\n\n626\n00:28:15.860 --> 00:28:17.870\nThe configuration is telling\nme to do this right here, on\n\n627\n00:28:17.870 --> 00:28:21.330\nthe right side of the screen I can choose\nconfigure cluster self updating options.\n\n628\n00:28:21.330 --> 00:28:24.200\nAnd when you walk through this it's\ngonna get your cluster set up to\n\n629\n00:28:24.200 --> 00:28:25.090\nbe able to do that.\n\n630\n00:28:25.090 --> 00:28:28.210\nIt actually creates a role to handle it\ncuz that role will have to move around to\n\n631\n00:28:28.210 --> 00:28:30.340\nmonitor the updates\nduring the whole process.\n\n632\n00:28:30.340 --> 00:28:34.210\nAnd then you set a self-updating schedule,\nset any other options you want, and\n\n633\n00:28:34.210 --> 00:28:36.430\nthen off it goes, so that's one thing.\n\n634\n00:28:36.430 --> 00:28:41.260\nAnother thing to be aware of is when\nyou do operating system upgrades,\n\n635\n00:28:41.260 --> 00:28:43.600\nnot just an update, but\na full blown upgrade.\n\n636\n00:28:43.600 --> 00:28:46.420\nLike if you have a Windows Server\n2012 R2 cluster and\n\n637\n00:28:46.420 --> 00:28:48.920\nyou wanna upgrade it to\nWindows Server 2016.\n\n638\n00:28:48.920 --> 00:28:52.847\nYou can actually do what's called\na mixed-OS cluster where your cluster is\n\n639\n00:28:52.847 --> 00:28:55.192\nmade up of both 2012 and 2016 nodes.\n\n640\n00:28:55.192 --> 00:28:57.735\nAnd eventually, there will be\na new version as server 2020.\n\n641\n00:28:57.735 --> 00:29:03.170\nYeah, whatever's next, who knows.\n\n642\n00:29:03.170 --> 00:29:06.330\nAnd so when you upgrade to that,\nwhat you'll wanna do is mix mode and\n\n643\n00:29:06.330 --> 00:29:09.120\nMicrosoft has great\ndocumentation on the site.\n\n644\n00:29:09.120 --> 00:29:11.210\nIt's not a wizard, it's not super easy,\n\n645\n00:29:11.210 --> 00:29:15.670\nit's actually a lot of processes you have\nto go through in order to migrate it.\n\n646\n00:29:15.670 --> 00:29:20.320\nBut at a high level, you have all of your\nservers at one version of the OS and\n\n647\n00:29:20.320 --> 00:29:23.500\nthen you effectively just kick a node out,\nyou remove it from the cluster.\n\n648\n00:29:23.500 --> 00:29:27.680\nAnd then you format it, install the new OS\nand you bring it back into the cluster.\n\n649\n00:29:27.680 --> 00:29:31.110\nAnd the important part there is that\nthe cluster will operate with a mixture of\n\n650\n00:29:31.110 --> 00:29:32.390\noperating systems.\n\n651\n00:29:32.390 --> 00:29:36.380\nEven though they're all serving up\nthe same role, they're different OSs..\n\n652\n00:29:36.380 --> 00:29:38.900\n&gt;&gt; It's so\ncrazy like the things we can do nowadays.\n\n653\n00:29:38.900 --> 00:29:40.630\n&gt;&gt; It is, cuz this used to be a nightmare,\n\n654\n00:29:40.630 --> 00:29:42.160\nupgrading a cluster was\na nightmare before.\n\n655\n00:29:42.160 --> 00:29:44.060\nBut this, it makes it a lot easier.\n\n656\n00:29:44.060 --> 00:29:45.610\n&gt;&gt; Pretty cool Don.\n\n657\n00:29:45.610 --> 00:29:47.550\nAll right, do we have anything\nelse that we wanna cover?\n\n658\n00:29:47.550 --> 00:29:49.030\nI think you've shown us quite a bit so\nfar.\n\n659\n00:29:49.030 --> 00:29:50.980\nWe finally got our cluster up and\nrunning and\n\n660\n00:29:50.980 --> 00:29:54.580\nconfigured with that role and\ngot the storage squared away but.\n\n661\n00:29:54.580 --> 00:29:58.597\n&gt;&gt; Yeah, we're gonna talk about scale\nout file servers in a separate episode,\n\n662\n00:29:58.597 --> 00:29:59.930\nso that's another one that's on the exam.\n\n663\n00:29:59.930 --> 00:30:02.500\nAnd we're gonna talk about Hyper V\nclusters in another episode.\n\n664\n00:30:02.500 --> 00:30:03.374\nSo we haven't gotten into those.\n\n665\n00:30:03.374 --> 00:30:07.460\nWe've really been laying the framework for\nwhat the cluster is in these episodes.\n\n666\n00:30:07.460 --> 00:30:10.814\nBut we'll see more if you check on\nepisodes on Hyper-V as well as on scale\n\n667\n00:30:10.814 --> 00:30:11.631\nout file service.\n\n668\n00:30:11.631 --> 00:30:13.280\n&gt;&gt; Perfect thank you for joining us today.\n\n669\n00:30:13.280 --> 00:30:14.980\nAnd thank you for joining us as well but\n\n670\n00:30:14.980 --> 00:30:18.900\nwe are going to sign off of this\nshow.I've been your host Cherokee Boost.\n\n671\n00:30:18.900 --> 00:30:19.720\n&gt;&gt; And I'm Don Pezet.\n\n672\n00:30:19.720 --> 00:30:22.940\n&gt;&gt; See you next time at ITPROTV.\n\n673\n00:30:22.940 --> 00:30:28.865\n[MUSIC]\n\n674\n00:30:28.865 --> 00:30:33.890\nThank you for watching ITPro.tv.\n\n",
          "vimeoId": "238056255"
        },
        {
          "description": "In this episode, Don explains how Microsoft's Scale-Out File Server role functions in a Windows Server 2016 failover cluster. He explains the use-case scenario for SOFS and then demonstrates how to install and configure SOFS in a cluster using cluster shared volumes.",
          "length": "1836",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-4-1-scale-out-file-server-101217-PGM.00_52_47_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-4-1-scale-out-file-server-101217-PGM.00_52_47_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-4-1-scale-out-file-server-101217-PGM.00_52_47_11.Still001-sm.jpg",
          "title": "Scale Out File Server",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.187\nWelcome to ITPRO.TV.\n\n2\n00:00:01.187 --> 00:00:06.291\nI'm your host, Don [CROSSTALK]\n\n3\n00:00:06.291 --> 00:00:08.179\n[MUSIC]\n\n4\n00:00:08.179 --> 00:00:11.820\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:11.820 --> 00:00:14.164\n&gt;&gt; Hello to all our viewers out there,\nthanks for tuning in.\n\n6\n00:00:14.164 --> 00:00:16.371\nWe got a great show for\nyou in store today.\n\n7\n00:00:16.371 --> 00:00:18.698\nThat's right,\nI'm your show host Wes Bryan.\n\n8\n00:00:18.698 --> 00:00:22.843\nAnd in today's episode we are continuing\nthrough our series in 7740,\n\n9\n00:00:22.843 --> 00:00:25.950\nthat's right, the MCSA and\nWindows Serves 2016.\n\n10\n00:00:25.950 --> 00:00:28.874\nJoining us back in the studio\nis no other than Mr. Don Pezet.\n\n11\n00:00:28.874 --> 00:00:29.874\nDon how you doing sir?\n\n12\n00:00:29.874 --> 00:00:31.010\n&gt;&gt; I am doing great, Wes.\n\n13\n00:00:31.010 --> 00:00:33.021\nReady to dive back into\nthe world of clustering.\n\n14\n00:00:33.021 --> 00:00:35.883\nIf you've been watching our\nepisodes we spent some time talking\n\n15\n00:00:35.883 --> 00:00:37.852\nabout fail over clusters and\nhow they work.\n\n16\n00:00:37.852 --> 00:00:40.240\nAnd at one point in that\nseries I'm doing an off cam,\n\n17\n00:00:40.240 --> 00:00:41.938\nwe're talking about file servers.\n\n18\n00:00:41.938 --> 00:00:45.400\nAnd there was a little option for\ncreating Scale-Out File Servers.\n\n19\n00:00:45.400 --> 00:00:48.061\nAnd I said hey, ignore that,\nwe'll talk about it later, right?\n\n20\n00:00:48.061 --> 00:00:49.694\nWell, now it's later, right?\n\n21\n00:00:49.694 --> 00:00:52.668\nSo in this episode we're gonna take\na look at Scale-Out File Servers.\n\n22\n00:00:52.668 --> 00:00:55.965\nHow we set them up, how they differ,\nwhat makes them special?\n\n23\n00:00:55.965 --> 00:00:58.802\nAnd how we can get one configured,\nand in place on our network.\n\n24\n00:00:58.802 --> 00:01:02.314\nAnd ultimately improve the redundancy,\navailability, and\n\n25\n00:01:02.314 --> 00:01:06.177\nperformance of our file servers,\nthanks to fail-over clusters.\n\n26\n00:01:06.177 --> 00:01:07.377\nWe see that right here in this episode.\n\n27\n00:01:07.377 --> 00:01:11.045\n&gt;&gt; You know, Don, I've brought a basic\nfile server online I've seen those, and\n\n28\n00:01:11.045 --> 00:01:13.806\nI've worked for them,\nwith them I should say a little bit.\n\n29\n00:01:13.806 --> 00:01:16.405\nBut one thing I haven't seen\nis a Scale-Out file server.\n\n30\n00:01:16.405 --> 00:01:20.195\nWhat's the difference between that and\nyour traditional basic file server?\n\n31\n00:01:20.195 --> 00:01:20.841\n&gt;&gt; Well, it's got a different name.\n\n32\n00:01:20.841 --> 00:01:23.199\n&gt;&gt; [LAUGH]\n&gt;&gt; So that's where we'll start and,\n\n33\n00:01:23.199 --> 00:01:26.927\n[LAUGH] what the name implies, the\nscale-out file cluster, the scaling out,\n\n34\n00:01:26.927 --> 00:01:28.919\nthat means adding more servers, right?\n\n35\n00:01:28.919 --> 00:01:32.082\nScaling up means adding more hardware,\nmore CPUs, more network cards,\n\n36\n00:01:32.082 --> 00:01:32.958\nthat kind of thing.\n\n37\n00:01:32.958 --> 00:01:34.777\nScaling out means adding more servers.\n\n38\n00:01:34.777 --> 00:01:36.796\nNow if I have a file server and\n\n39\n00:01:36.796 --> 00:01:42.278\nit's just getting overwhelmed with\ndata access and it's getting too busy.\n\n40\n00:01:42.278 --> 00:01:47.645\nAnd I add a second file server, how do I\ntell users the second files ever exist?\n\n41\n00:01:47.645 --> 00:01:50.695\nHow do I tell them they can go to\nthis other server and get the data,\n\n42\n00:01:50.695 --> 00:01:51.650\nyou really can't.\n\n43\n00:01:51.650 --> 00:01:54.796\nI mean you can give them like two\nmap drives and we just have to know.\n\n44\n00:01:54.796 --> 00:01:57.529\nBut that's not really a great\nway of balancing things,\n\n45\n00:01:57.529 --> 00:02:01.620\nyou can do a traditional file server which\nin the clustering episodes we setup one.\n\n46\n00:02:01.620 --> 00:02:06.814\nWe setup a traditional file server role\ninside of the failover cluster manager.\n\n47\n00:02:06.814 --> 00:02:10.500\nThe problem with that is just really not\nany different than a regular file server.\n\n48\n00:02:10.500 --> 00:02:15.500\nWhen you do a clustered file server,\nit's in a active passive model.\n\n49\n00:02:15.500 --> 00:02:18.272\nIn other words,\none node of your cluster will be active.\n\n50\n00:02:18.272 --> 00:02:22.589\nIt doesn't matter if you have two nodes or\nsixteen nodes, one node would be active.\n\n51\n00:02:22.589 --> 00:02:25.482\nAnd all the other ones would be\npassive they are sitting there doing\n\n52\n00:02:25.482 --> 00:02:26.318\nnothing, right.\n\n53\n00:02:26.318 --> 00:02:29.442\nAnd if the active node fails one\nof the passive will step up and\n\n54\n00:02:29.442 --> 00:02:33.494\ntake up that role, so our file servers\nstays online that's great, right,.\n\n55\n00:02:33.494 --> 00:02:36.919\nWith the traditional file server in\na failover cluster you're getting\n\n56\n00:02:36.919 --> 00:02:40.982\nredundancy, you're getting availability,\nif one fails another one takes over.\n\n57\n00:02:40.982 --> 00:02:44.560\nBut you don't get any performance\nimprovement because it is still just one\n\n58\n00:02:44.560 --> 00:02:47.531\nnode, you get the same performance\nas a single node, right.\n\n59\n00:02:47.531 --> 00:02:50.945\nThat's what you have with the standard\nfile server when you do it in a cluster or\n\n60\n00:02:50.945 --> 00:02:54.481\neven outside of a cluster for that matter,\nbut in a cluster that's what you get.\n\n61\n00:02:54.481 --> 00:02:58.160\nWith the Scale-Out File Server\nthough that's different,\n\n62\n00:02:58.160 --> 00:03:00.911\nScale-Out File Servers are active active.\n\n63\n00:03:00.911 --> 00:03:03.314\nIf I have two nodes or if I have 16 nodes,\n\n64\n00:03:03.314 --> 00:03:07.010\nthey can be all be active for\nthat file server, all right?\n\n65\n00:03:07.010 --> 00:03:11.730\nAnd now when users connect, if one server\nfails, they just connects to anyone that,\n\n66\n00:03:11.730 --> 00:03:12.940\nthe others that are already up.\n\n67\n00:03:12.940 --> 00:03:17.020\nAnd if there's a lot of traffic on one,\nanother one starts taking upload and\n\n68\n00:03:17.020 --> 00:03:19.210\nwe're actually getting\na performance improvement.\n\n69\n00:03:19.210 --> 00:03:23.088\nSo a traditional file server\nfailover cluster is just for\n\n70\n00:03:23.088 --> 00:03:25.851\navailability and redundancy, right.\n\n71\n00:03:25.851 --> 00:03:30.096\nA scale out file cluster bring in\nperformance as well, we get better\n\n72\n00:03:30.096 --> 00:03:35.323\nperformance, we can scale-out dispute\nmore workload by using that technology.\n\n73\n00:03:35.323 --> 00:03:39.363\n&gt;&gt; Now Don I know that it seems that would\ncause problems, if I've got more than one\n\n74\n00:03:39.363 --> 00:03:43.175\nserver accessing the same data there's\ngonna be some kind of corruption.\n\n75\n00:03:43.175 --> 00:03:45.299\nSo how would you [LAUGH] avoid that?\n\n76\n00:03:45.299 --> 00:03:47.796\n&gt;&gt; I think in the example I gave\nin the other show was that,\n\n77\n00:03:47.796 --> 00:03:50.472\nit's like ghost buster when\nI cross the streams, right?\n\n78\n00:03:50.472 --> 00:03:53.749\nIf you have two servers trying to\naccess the same hard drive and\n\n79\n00:03:53.749 --> 00:03:56.282\ntrying to access the same\nfile at the same time.\n\n80\n00:03:56.282 --> 00:03:58.873\nAnd they're both writing data,\nyour gonna get data corruption and\n\n81\n00:03:58.873 --> 00:04:01.881\nit doesn't take very long for that to\nhappen, it gets corrupt very very fast.\n\n82\n00:04:01.881 --> 00:04:05.997\nSo that's a problem, and in a normal\nactive passive model you've got\n\n83\n00:04:05.997 --> 00:04:08.386\nthe cluster acting as that gate keeper.\n\n84\n00:04:08.386 --> 00:04:10.076\nIt's sitting there and saying,\n\n85\n00:04:10.076 --> 00:04:13.346\nall right node one is allowed to\naccess the drive node two is not.\n\n86\n00:04:13.346 --> 00:04:17.406\nOop, node one just failed, now node\ntwo you can do it, you get permission,\n\n87\n00:04:17.406 --> 00:04:18.557\nits the gatekeeper.\n\n88\n00:04:18.557 --> 00:04:20.184\nBut when you're active active,\n\n89\n00:04:20.184 --> 00:04:23.155\nall of these guys have to be able\nto write to the same storage.\n\n90\n00:04:23.155 --> 00:04:24.489\nAnd when that happens,\n\n91\n00:04:24.489 --> 00:04:28.162\nyou're odds of getting data\ncorrupted they sky rocket, right.\n\n92\n00:04:28.162 --> 00:04:32.582\nSo what happens is in a Scale-Out File\nCluster, there's an extra layer of logic\n\n93\n00:04:32.582 --> 00:04:36.623\nput in where the servers talk to each\nother, and they do buffered writes.\n\n94\n00:04:36.623 --> 00:04:40.645\nWhen they go to write data to the storage\nIf they're writing to two separate files,\n\n95\n00:04:40.645 --> 00:04:43.181\nthat's no big deal,\nit can happen at the same time.\n\n96\n00:04:43.181 --> 00:04:46.797\nBut if two nodes are trying to write\nto the same file at the same time,\n\n97\n00:04:46.797 --> 00:04:50.936\nit goes on a first come first served basis\nand it will buffer the second write.\n\n98\n00:04:50.936 --> 00:04:53.304\nApply the first write, and\nthen apply the second write afterwards.\n\n99\n00:04:53.304 --> 00:04:55.370\nSo the second write is\nactually the one who wins.\n\n100\n00:04:55.370 --> 00:04:59.728\nBut what's really important here is\nthat it doesn't corrupt the data because\n\n101\n00:04:59.728 --> 00:05:02.247\ntechnically only one\nperson wrote at a time.\n\n102\n00:05:02.247 --> 00:05:05.346\nNow for reads, reads don't corrupt,\nyou could read all you want, right.\n\n103\n00:05:05.346 --> 00:05:09.646\nYou could have 16 servers all reading the\nsame file at the same time perfectly fine,\n\n104\n00:05:09.646 --> 00:05:11.686\nif the rights that have to be protected.\n\n105\n00:05:11.686 --> 00:05:16.309\nAnd a Scale-Out File Server has that\nprotection, that's the big difference.\n\n106\n00:05:16.309 --> 00:05:20.135\nAnd to make all this work is\na very special technology.\n\n107\n00:05:20.135 --> 00:05:24.898\nWhen you normally have a disc inside of a\ncluster only one node can be in charge of\n\n108\n00:05:24.898 --> 00:05:25.632\nthat disk.\n\n109\n00:05:25.632 --> 00:05:26.514\nLet me show you here.\n\n110\n00:05:26.514 --> 00:05:30.735\nSo in my cluster I'm using the same\ncluster we built in the failover cluster\n\n111\n00:05:30.735 --> 00:05:31.405\nepisodes.\n\n112\n00:05:31.405 --> 00:05:34.073\nSo if you watch those episodes\nit's the same cluster.\n\n113\n00:05:34.073 --> 00:05:36.400\nIt's got no roles, but\nit's the same cluster.\n\n114\n00:05:36.400 --> 00:05:39.314\nAnd if I go down to disks I can take\na look at the disks under my cluster,\n\n115\n00:05:39.314 --> 00:05:40.535\nI got three of them, right?\n\n116\n00:05:40.535 --> 00:05:43.080\nThe first one is a core,\nso we'll ignore that one.\n\n117\n00:05:43.080 --> 00:05:46.337\nBut then I've got these other two disks,\ndisk 2 and disk 3, and\n\n118\n00:05:46.337 --> 00:05:48.598\nthey're both currently owned by NODE01.\n\n119\n00:05:48.598 --> 00:05:53.731\nSo NODE01 has read and\nwrite access to this disk, NODE02?\n\n120\n00:05:53.731 --> 00:05:58.222\nNODE02 knows the disks exist but\nit's not messing with them.\n\n121\n00:05:58.222 --> 00:05:59.942\nIt's leaving them alone, right.\n\n122\n00:05:59.942 --> 00:06:06.426\nAnd that's how a normal disk would work\ninside of a cluster like this, alright.\n\n123\n00:06:06.426 --> 00:06:09.124\nBut we can convert one of this disks and\n\n124\n00:06:09.124 --> 00:06:13.100\nconvert it into what is called\na cluster shared volume.\n\n125\n00:06:13.100 --> 00:06:17.721\nA Cluster Shared Volume or CSV is\na disc that is allowed to be written by\n\n126\n00:06:17.721 --> 00:06:22.682\nmultiple systems, and it was original\ndeveloped for Hyper-V, right?\n\n127\n00:06:22.682 --> 00:06:26.105\nIn Hyper-V it used to\na video cluster of Hyper-V.\n\n128\n00:06:26.105 --> 00:06:29.805\nIf you had multiple VM stored\nin a single disk like this,\n\n129\n00:06:29.805 --> 00:06:34.160\nwe needed fail over all the VMs on\nthat disk will have to fail over.\n\n130\n00:06:34.160 --> 00:06:36.296\nThat was not always what we wanted.\n\n131\n00:06:36.296 --> 00:06:38.780\nSo with a lot of people had to\ndo is create a separate disk for\n\n132\n00:06:38.780 --> 00:06:39.711\neach individual VM.\n\n133\n00:06:39.711 --> 00:06:43.414\nWhich was a lot of solid administrative\noverhead it wasn't like process or\n\n134\n00:06:43.414 --> 00:06:46.075\nintense or anything but for\nus theres' a lot of work.\n\n135\n00:06:46.075 --> 00:06:48.778\nSo Cluster Shared Volumes\nwere designed to fix that.\n\n136\n00:06:48.778 --> 00:06:52.170\nTo make it where you could have multiple\nVirtual Machines on the same disk and\n\n137\n00:06:52.170 --> 00:06:55.576\nfail them over independently cuz more\nthan one server can access that data.\n\n138\n00:06:55.576 --> 00:06:58.138\nWell now they've applied it\nto file servers as well and\n\n139\n00:06:58.138 --> 00:07:00.150\nthat's what a Scale-Out File Server is.\n\n140\n00:07:00.150 --> 00:07:04.306\nEvery individual file on there is\nbeing treated kind of like how VMs,\n\n141\n00:07:04.306 --> 00:07:06.249\nvirtual hardrives are stored.\n\n142\n00:07:06.249 --> 00:07:10.194\nSo when I look at a disk like this,\nlike Disk 3 you can right click on it and\n\n143\n00:07:10.194 --> 00:07:14.035\nsee I've got this option here add\nto cluster shared volumes, right.\n\n144\n00:07:14.035 --> 00:07:18.674\nBy default this is just a normal disk, but\nwhen I add it to a Cluster Shared Volume\n\n145\n00:07:18.674 --> 00:07:21.735\nit's gonna convert it and\nnow it's a magical disk.\n\n146\n00:07:21.735 --> 00:07:25.355\nRight now it's a disk that can be\naccessed by more than one node.\n\n147\n00:07:25.355 --> 00:07:29.775\nAnd that process takes a few moments so\nyou might have to wait a little bit and\n\n148\n00:07:29.775 --> 00:07:31.755\nactually I'm getting warning.\n\n149\n00:07:31.755 --> 00:07:32.850\nSo it's not even a matter of waiting.\n\n150\n00:07:32.850 --> 00:07:34.601\nIf I look over here under information,\nI get a warning.\n\n151\n00:07:34.601 --> 00:07:38.073\nAnd if I take a look at it, tit's telling\nme the disk cannot be added to the cluster\n\n152\n00:07:38.073 --> 00:07:40.976\nshare volume because it does not\nhave any suitable partitions.\n\n153\n00:07:40.976 --> 00:07:42.335\nShoot, I haven't formatted this one,\nright.\n\n154\n00:07:42.335 --> 00:07:44.830\nLet me do my other disk\nthat I have formatted.\n\n155\n00:07:44.830 --> 00:07:50.866\nSo I'll take disc one and I'll just\ngo into add a cluster share volume.\n\n156\n00:07:50.866 --> 00:07:53.166\nAnd that one happened really fast, right.\n\n157\n00:07:53.166 --> 00:07:56.133\nAnd did you see how the capacity\ndisappeared for a moment and\n\n158\n00:07:56.133 --> 00:07:57.089\nthen reappeared?\n\n159\n00:07:57.089 --> 00:07:59.389\nThat's cuz it took the disc offline and\n\n160\n00:07:59.389 --> 00:08:03.298\nthen brought it back online in\nthe new cluster shared volume mode.\n\n161\n00:08:03.298 --> 00:08:05.980\nAnd so when I look at\nthe assigned to column here.\n\n162\n00:08:05.980 --> 00:08:09.545\nSee how it actually says it right there,\nCluster Shared Volume.\n\n163\n00:08:09.545 --> 00:08:12.480\nAnd if I want this three to be a Cluster\nShared Volume, I need to format it, right?\n\n164\n00:08:12.480 --> 00:08:14.890\nAnd if I format it,\nstick the File System on it,\n\n165\n00:08:14.890 --> 00:08:17.120\nthen it can become\na Cluster Shared Volume also.\n\n166\n00:08:17.120 --> 00:08:19.250\nIt does need to be NTFS, right?\n\n167\n00:08:19.250 --> 00:08:20.780\nSo I can't format it like that, 32.\n\n168\n00:08:20.780 --> 00:08:22.280\nThat's not gonna work.\n\n169\n00:08:22.280 --> 00:08:24.550\nBut if I do that,\n\n170\n00:08:24.550 --> 00:08:28.130\nnow it's a Cluster Shared Volume and it's\nready to be shared between the systems.\n\n171\n00:08:28.130 --> 00:08:30.740\nThis is really the secret sauce\nof a ScaleOut file cluster.\n\n172\n00:08:30.740 --> 00:08:33.250\nThis is what makes a ScaleOut\nfile cluster work.\n\n173\n00:08:33.250 --> 00:08:36.770\nIf we didn't have this, then it would\njust be traditional file servers.\n\n174\n00:08:36.770 --> 00:08:40.450\n&gt;&gt; Don, are there any special requirements\nwhen it comes to getting this online?\n\n175\n00:08:41.700 --> 00:08:43.895\n&gt;&gt; There's not a ton, right?\n\n176\n00:08:43.895 --> 00:08:46.360\nI mean, we do need the clustered\nshare volume, right?\n\n177\n00:08:46.360 --> 00:08:47.660\nSo that, that's gonna be the first thing.\n\n178\n00:08:47.660 --> 00:08:48.840\nWe've got to have that.\n\n179\n00:08:48.840 --> 00:08:51.480\nOur cluster has to be healthy,\nwhich in our case,\n\n180\n00:08:51.480 --> 00:08:53.240\nwe've already built out the cluster.\n\n181\n00:08:53.240 --> 00:08:56.320\nIdeally, you want to have fast storage,\nright?\n\n182\n00:08:56.320 --> 00:08:59.180\nBecause you have more than one server\nhitting the same storage at the same time.\n\n183\n00:08:59.180 --> 00:09:02.700\nIf this is ISCSI storage and\nit has got a 1 GB adapter.\n\n184\n00:09:02.700 --> 00:09:04.850\nAnd I have 10 nodes hitting it, right?\n\n185\n00:09:04.850 --> 00:09:06.700\nThey're all gonna be at a 100 MB each.\n\n186\n00:09:06.700 --> 00:09:08.260\nYou really get things kinda cut down.\n\n187\n00:09:08.260 --> 00:09:09.610\nSo you're really need to\nthink about bandwidth.\n\n188\n00:09:09.610 --> 00:09:13.310\nIf you have a fiber channel SAN, you still\nhave to worry about bandwidth, right?\n\n189\n00:09:13.310 --> 00:09:17.210\nYou might have 4 GB fiber channel\nHPAs on each of your hosts.\n\n190\n00:09:17.210 --> 00:09:18.800\nWell, if you got 10 hosts,\n\n191\n00:09:18.800 --> 00:09:22.340\nthat's a potential of 40 GBs of\ntraffic on the fiber channel bus.\n\n192\n00:09:22.340 --> 00:09:26.650\nSo do you have 40 GBs of\ningest bandwidth on the SAN?\n\n193\n00:09:26.650 --> 00:09:28.340\nI don't know,\nit depends on what you bought.\n\n194\n00:09:28.340 --> 00:09:30.570\nMe, but\nwe do need to be aware of that bandwidth,\n\n195\n00:09:30.570 --> 00:09:32.920\nthat stuff that we need\nto think about there.\n\n196\n00:09:32.920 --> 00:09:37.521\nThe other thing is right now,\nthe cluster shared volume support is\n\n197\n00:09:37.521 --> 00:09:42.440\nreally just available for\nHyper-V and for file servers, right?\n\n198\n00:09:42.440 --> 00:09:43.990\nBut Microsoft is working to add this for\n\n199\n00:09:43.990 --> 00:09:46.110\nmore stuff and\nthird parties are working on it too.\n\n200\n00:09:46.110 --> 00:09:49.520\nSo by the time you watch this video,\nyou might be able to use CSVs for\n\n201\n00:09:49.520 --> 00:09:50.580\nall sorts of things.\n\n202\n00:09:50.580 --> 00:09:53.020\n&gt;&gt; But right now, it's really designed for\nHyper-V, and for file service.\n\n203\n00:09:53.020 --> 00:09:55.700\nSo on the exam, that's all\nyou're gonna see as far as CSVs.\n\n204\n00:09:55.700 --> 00:09:57.930\nYou'll just see Hyper-V and file servers.\n\n205\n00:09:57.930 --> 00:10:00.520\n&gt;&gt; Now if we wanna get this set up,\nDon, how do we configure it?\n\n206\n00:10:00.520 --> 00:10:02.957\nHow can we configure this so\nwe can start using it?\n\n207\n00:10:02.957 --> 00:10:05.580\n&gt;&gt; Okay, step 1, we need a CSV, right?\n\n208\n00:10:05.580 --> 00:10:07.130\nSo I've created a cluster shared volume.\n\n209\n00:10:07.130 --> 00:10:08.390\nAnd you might have more than one, right?\n\n210\n00:10:08.390 --> 00:10:10.568\nYou create however many you need,\nand that was not hard.\n\n211\n00:10:10.568 --> 00:10:15.510\n[LAUGH] You right-click the disk, you\nchoose Add to Cluster Shared Volumes and\n\n212\n00:10:15.510 --> 00:10:16.240\nyou're in business, right?\n\n213\n00:10:16.240 --> 00:10:17.740\nSo that was easy, right?\n\n214\n00:10:17.740 --> 00:10:18.950\nThat's step 1.\n\n215\n00:10:18.950 --> 00:10:22.862\nStep 2, I need to mess around with some\nActive Directory permissions a little bit\n\n216\n00:10:22.862 --> 00:10:24.220\nhere, right?\n\n217\n00:10:24.220 --> 00:10:25.090\nWhat happens is,\n\n218\n00:10:25.090 --> 00:10:29.458\nwhen I create a scale out file cluster\nserver, it's gonna have a NETBIOS name.\n\n219\n00:10:29.458 --> 00:10:32.840\nAnd the NETBIOS name is going\nto be a virtual computer\n\n220\n00:10:32.840 --> 00:10:35.030\ninside of Active Directory\nuses a computers.\n\n221\n00:10:35.030 --> 00:10:39.270\nOkay, now I can pre-stage that item if\nI want or I can create it afterwards.\n\n222\n00:10:39.270 --> 00:10:42.483\nBut I need that to exist in the Active\nDirectory cuz I'm gonna have to assign\n\n223\n00:10:42.483 --> 00:10:43.660\nsome permissions to it.\n\n224\n00:10:43.660 --> 00:10:46.080\nNow, if I go and\ntake a look at my Active Directory.\n\n225\n00:10:46.080 --> 00:10:48.350\nSo I've got mine parked\naround here somewhere.\n\n226\n00:10:48.350 --> 00:10:49.300\nAll right.\n\n227\n00:10:49.300 --> 00:10:52.270\nAnd I take a look at computers right here.\n\n228\n00:10:52.270 --> 00:10:56.840\nI've got my cluster node and\nthen I've got my individual nodes.\n\n229\n00:10:56.840 --> 00:10:59.210\nRight, now these individual nodes,\nthose are real computers.\n\n230\n00:10:59.210 --> 00:11:01.410\nRight, node 1, node 2,\nthose are real computers.\n\n231\n00:11:01.410 --> 00:11:05.320\nBut the CLUSTER01,\nthat's not a real computer, right.\n\n232\n00:11:05.320 --> 00:11:08.943\nWhen I created the cluster,\nthat's the name I gave to it, CLUSTER01.\n\n233\n00:11:08.943 --> 00:11:12.701\nWell, when CLUSTER01 builds\nthe scale-out file server,\n\n234\n00:11:12.701 --> 00:11:16.612\nit needs to modify the configuration\nof NODE01 and NODE02.\n\n235\n00:11:16.612 --> 00:11:18.910\nSo I need to give it\nthe permissions to do that.\n\n236\n00:11:18.910 --> 00:11:20.460\nAnd it also needs to have\nthe permission to do it for\n\n237\n00:11:20.460 --> 00:11:22.980\nany other nodes that I add in the future.\n\n238\n00:11:22.980 --> 00:11:27.660\nSo the best way to handle this, is to\ncreate a dedicated organizational unit\n\n239\n00:11:27.660 --> 00:11:29.180\nin your Active Directory for the cluster.\n\n240\n00:11:29.180 --> 00:11:33.600\nSo that's what I'm gonna do,\nis I'm gonna come in here to my domain.\n\n241\n00:11:33.600 --> 00:11:36.260\nAnd I'll create a new organizational unit.\n\n242\n00:11:36.260 --> 00:11:39.110\nAnd you'd name this\nwhatever you want it to be.\n\n243\n00:11:39.110 --> 00:11:43.140\nI'll just call mine Cluster, but\nyours might be your file server cluster.\n\n244\n00:11:43.140 --> 00:11:44.860\nCuz you might have more than one cluster.\n\n245\n00:11:44.860 --> 00:11:47.990\nSo inside of this folder, you might have\nindividual you use for other clusters,\n\n246\n00:11:47.990 --> 00:11:49.590\nwhatever it is you wanna do.\n\n247\n00:11:49.590 --> 00:11:52.970\nAnd then I'm gonna take\nthese three entities, and\n\n248\n00:11:52.970 --> 00:11:55.750\nI'm gonna move them down into that OU.\n\n249\n00:11:57.200 --> 00:12:00.670\nAnd it's just warning that my policies\nmight change, which I'm okay with.\n\n250\n00:12:00.670 --> 00:12:02.290\nAnd there it is, right?\n\n251\n00:12:02.290 --> 00:12:06.880\nAnd I'm gonna give\nCLUSTER01 authority over\n\n252\n00:12:06.880 --> 00:12:09.980\nany computer objects\nthat's inside of this OU.\n\n253\n00:12:09.980 --> 00:12:13.220\nOkay, I could have done it back\nhere onto the computer's OU but\n\n254\n00:12:13.220 --> 00:12:14.270\nthat's actually not an OU.\n\n255\n00:12:14.270 --> 00:12:15.070\nThat's a container.\n\n256\n00:12:15.070 --> 00:12:16.260\nIt's a little different.\n\n257\n00:12:16.260 --> 00:12:19.240\nAnd every new computer added to\nmy network will end up in there.\n\n258\n00:12:19.240 --> 00:12:21.840\nI don't want the cluster to control\nevery computer in my network.\n\n259\n00:12:21.840 --> 00:12:24.310\nI just want the cluster to\ncontrol its cluster nodes.\n\n260\n00:12:24.310 --> 00:12:27.240\nThat's why I recommend\nputting it in its own OU.\n\n261\n00:12:27.240 --> 00:12:31.230\nAnd once it's there, you can right-click\non the OU and choose Delegate Control.\n\n262\n00:12:31.230 --> 00:12:33.800\nAnd I'm gonna delegate\ncontrol to that cluster node.\n\n263\n00:12:33.800 --> 00:12:37.820\nNow this gets a little tricky cuz normally\nwhen you delegate, you delegate to a user.\n\n264\n00:12:37.820 --> 00:12:39.430\nAnd I want to delegate to a computer.\n\n265\n00:12:39.430 --> 00:12:42.670\nThat makes things a little difficult\nbecause by default it doesn't expect\n\n266\n00:12:42.670 --> 00:12:43.670\na computer.\n\n267\n00:12:43.670 --> 00:12:47.300\nSo I have to modify this screen and tell\nit that I'm actually looking for computer.\n\n268\n00:12:47.300 --> 00:12:48.830\nI don't even care about these other items.\n\n269\n00:12:48.830 --> 00:12:50.030\nI guess you can remove them.\n\n270\n00:12:50.030 --> 00:12:56.870\nBut I'm looking for a computer and\nI'm looking for CLUSTER01, all right?\n\n271\n00:12:56.870 --> 00:12:58.210\nThat's what I want to give authority.\n\n272\n00:12:58.210 --> 00:12:59.330\nSo I'm gonna find that one.\n\n273\n00:12:59.330 --> 00:13:03.310\nAnd you would pick whatever you named your\ncluster when you created it, all right?\n\n274\n00:13:03.310 --> 00:13:04.340\nSo that's who I wanna give authority.\n\n275\n00:13:04.340 --> 00:13:09.338\nAnd then on the next screen, I wanna\nchoose a custom task to delegate, right?\n\n276\n00:13:09.338 --> 00:13:11.000\nThere's all sorts of stuff\nyou can delegate up here, but\n\n277\n00:13:11.000 --> 00:13:13.420\nagain it's all geared really\ntowards user accounts and\n\n278\n00:13:13.420 --> 00:13:15.640\ngroups, I wanna mess with computers.\n\n279\n00:13:15.640 --> 00:13:17.640\nSo I'll choose Custom, and\n\n280\n00:13:17.640 --> 00:13:19.840\nthen on the next screen I'm telling\nit what I want to give out.\n\n281\n00:13:19.840 --> 00:13:23.700\nAnd I'm gonna tell it only the following\nobjects in the folder, and\n\n282\n00:13:23.700 --> 00:13:25.900\nthen I'm gonna find computer objects.\n\n283\n00:13:25.900 --> 00:13:28.982\nI'm just giving it access to\ncomputer objects in this folder.\n\n284\n00:13:28.982 --> 00:13:30.710\nWe're trying to be specific, right,.\n\n285\n00:13:31.840 --> 00:13:34.930\nAfter that I'll pick what authority, and\nthis is one of the reasons why I want it\n\n286\n00:13:34.930 --> 00:13:38.120\nto be so careful,\nis I wanna give it full control.\n\n287\n00:13:38.120 --> 00:13:40.750\nI wanna give it the ability\nto do anything it wants,\n\n288\n00:13:40.750 --> 00:13:42.630\nthe computer objects that are in this OU.\n\n289\n00:13:42.630 --> 00:13:46.140\nThat way the cluster entity will\nbe able to configure the nodes.\n\n290\n00:13:46.140 --> 00:13:47.740\nThis is really important.\n\n291\n00:13:47.740 --> 00:13:50.230\nBecause it's gotta put in a gatekeeper,\n\n292\n00:13:50.230 --> 00:13:53.220\nto say, you can't just write to\nthis disk whenever you want.\n\n293\n00:13:53.220 --> 00:13:55.200\nYou can write to when I say you can,\nright?\n\n294\n00:13:55.200 --> 00:13:57.020\nIt's gotta have the authority to do that.\n\n295\n00:13:57.020 --> 00:14:01.721\nAnd because it's such a big amount of\ncontrol, that's why I needed to filter\n\n296\n00:14:01.721 --> 00:14:05.425\nthis down to just this OU and\njust computer objects in the OU.\n\n297\n00:14:05.425 --> 00:14:07.978\nBecause if a user account were\nto sneak in there or whatever,\n\n298\n00:14:07.978 --> 00:14:11.010\nthen that could give out more\npermissions than I want, right?\n\n299\n00:14:11.010 --> 00:14:12.348\nSo I'll go ahead and finish that up.\n\n300\n00:14:12.348 --> 00:14:17.063\nAnd now CLUSTER01 will have the authority\nto configure, not only node 1 and node 2,\n\n301\n00:14:17.063 --> 00:14:20.076\nbut any other node that I drop\ninto this OU in the future.\n\n302\n00:14:20.076 --> 00:14:22.710\nSo I don't have to do this over and\nover again.\n\n303\n00:14:22.710 --> 00:14:23.460\nAll right,\n\n304\n00:14:23.460 --> 00:14:27.090\nnow that that's done, that's actually all\nthe prep work we needed to do, right?\n\n305\n00:14:27.090 --> 00:14:29.400\nWe created the cluster shared volume,\n\n306\n00:14:29.400 --> 00:14:31.940\nwe've set our permissions\nin the Active Directory.\n\n307\n00:14:31.940 --> 00:14:33.640\nNow, it's just like adding another role.\n\n308\n00:14:33.640 --> 00:14:37.230\nI can come in here and pop that role\ninto the fail over cluster manager.\n\n309\n00:14:37.230 --> 00:14:39.650\nSo in my software here\nI'll go up here to roles.\n\n310\n00:14:40.740 --> 00:14:42.170\nAnd if you've watched all our shows,\n\n311\n00:14:42.170 --> 00:14:45.050\nI did delete the file server\nrole that we had added before.\n\n312\n00:14:45.050 --> 00:14:48.188\nBut adding a ScaleOut file cluster\nrole is not really much different.\n\n313\n00:14:48.188 --> 00:14:51.260\nI'm gonna right-click on Roles and\nchoose Configure Role.\n\n314\n00:14:51.260 --> 00:14:54.510\nAnd in the wizard, where it asks\nme what kind of role I wanna pick,\n\n315\n00:14:54.510 --> 00:14:56.680\nI'm gonna find file sever.\n\n316\n00:14:56.680 --> 00:15:00.010\nAnd at this point it doesn't differentiate\nbetween a regular file server or\n\n317\n00:15:00.010 --> 00:15:00.630\na scale out.\n\n318\n00:15:00.630 --> 00:15:01.970\nWe'll see that in a moment.\n\n319\n00:15:01.970 --> 00:15:04.490\nSo I'll just choose File Server and\nhit Next.\n\n320\n00:15:04.490 --> 00:15:06.690\nAnd here's where it differentiates.\n\n321\n00:15:06.690 --> 00:15:10.506\nOkay, if I choose the first one,\nfile server for general use,\n\n322\n00:15:10.506 --> 00:15:13.533\nthat's gonna give me\nan active passive cluster.\n\n323\n00:15:13.533 --> 00:15:14.940\nOne node will be active.\n\n324\n00:15:14.940 --> 00:15:17.810\nAll the others would be passive and\nthat's it, right?\n\n325\n00:15:17.810 --> 00:15:18.500\nSo that's cool.\n\n326\n00:15:18.500 --> 00:15:19.550\nMaybe that's what I want.\n\n327\n00:15:19.550 --> 00:15:21.958\nBut since the show is titled scale\nout file server, I'll go and\n\n328\n00:15:21.958 --> 00:15:22.873\nahead choose that one.\n\n329\n00:15:22.873 --> 00:15:23.822\nThat's what I want.\n\n330\n00:15:23.822 --> 00:15:25.564\nAnd it tells you writing here\nthat it gives you support for\n\n331\n00:15:25.564 --> 00:15:28.145\nall those crazy stuff, it's magic,\nit's amazing, you definitely wanna do it.\n\n332\n00:15:28.145 --> 00:15:31.050\n[LAUGH] And so\nI'll move forward from there.\n\n333\n00:15:31.050 --> 00:15:31.720\nAnd now,\n\n334\n00:15:31.720 --> 00:15:37.340\nI need to give it a NetBIOS name that\nreflects what the end users are gonna see.\n\n335\n00:15:37.340 --> 00:15:40.730\nSo when the end users browse to this,\nwhat are they gonna see?\n\n336\n00:15:40.730 --> 00:15:43.506\nAnd I'll call this one STORAGE02.\n\n337\n00:15:43.506 --> 00:15:45.610\nI did 01 in the other episode,\nso I'll do 02 now.\n\n338\n00:15:47.080 --> 00:15:48.360\nSo I'll pick that as my name.\n\n339\n00:15:48.360 --> 00:15:49.980\nThat's my NetBIOS name.\n\n340\n00:15:49.980 --> 00:15:51.970\nAnd then I get my confirmation, right?\n\n341\n00:15:51.970 --> 00:15:54.274\nNot really a whole lot of\ninformation I had to provide here.\n\n342\n00:15:54.274 --> 00:15:57.781\nIf I had forgotten a step, if I hadn't\ncreated my cluster shared volume with,\n\n343\n00:15:57.781 --> 00:16:01.183\nif it hadn't already been formatted or\nif didn't have drive letter, those\n\n344\n00:16:01.183 --> 00:16:04.930\nare all things that could have generated\nan error to stop this wizard from working.\n\n345\n00:16:04.930 --> 00:16:08.632\nBut assuming you've got all that set up,\nmoves through pretty straightforward, and\n\n346\n00:16:08.632 --> 00:16:10.470\nit's gonna reach out and configure that.\n\n347\n00:16:10.470 --> 00:16:15.870\nNow when it configures it, it's making\nsure the CSV responds correctly.\n\n348\n00:16:15.870 --> 00:16:19.640\nIt's making sure the nodes are aware\nof it, that they know about it.\n\n349\n00:16:19.640 --> 00:16:23.777\nAnd more importantly, it's creating\nan active directory entry for\n\n350\n00:16:23.777 --> 00:16:27.854\nSTORAGE02, so when I finish that up,\nI can see that it is failed.\n\n351\n00:16:27.854 --> 00:16:30.770\nNow don't freak out if it\ncomes up failed like this,\n\n352\n00:16:30.770 --> 00:16:35.229\nit takes it a moment to talk between the\nnodes, and get that cluster sorted out.\n\n353\n00:16:35.229 --> 00:16:37.403\nNow it could have a legitimate failure,\nbut\n\n354\n00:16:37.403 --> 00:16:40.060\nI'm gonna wait a minute\nbefore I troubleshoot that.\n\n355\n00:16:40.060 --> 00:16:43.400\nAnd while I wait on it, cuz actually,\nit's not really giving me any information,\n\n356\n00:16:43.400 --> 00:16:46.070\nis it, just sync failed.\n\n357\n00:16:46.070 --> 00:16:48.750\nSo we'll wait a minute and\nI'll refresh that in a moment, but\n\n358\n00:16:48.750 --> 00:16:51.900\nwhile we're waiting on it,\nif I go down here to my disks.\n\n359\n00:16:51.900 --> 00:16:55.050\nI just wanna take a look, and\nI see that Disk 2 is still Online,\n\n360\n00:16:55.050 --> 00:16:56.667\nstill a Cluster Shared Volume.\n\n361\n00:16:56.667 --> 00:17:00.280\nAnd I wanna show you what that looks\nlike when I go into Computer Management.\n\n362\n00:17:00.280 --> 00:17:06.760\nSo in Computer Management, if I find\nthat disk, here it is, right, Disk 1.\n\n363\n00:17:06.760 --> 00:17:11.820\nAnd it's showing as reserved, and it's\ngot the little down arrow on it, okay?\n\n364\n00:17:11.820 --> 00:17:14.140\nIt's got the down arrow,\nwhat's that all about?\n\n365\n00:17:14.140 --> 00:17:18.980\nWell the down arrow means that I see\nthe disk, I know it's there, but\n\n366\n00:17:18.980 --> 00:17:20.850\nit's not active for me, all right?\n\n367\n00:17:20.850 --> 00:17:24.520\nSo node one is not seeing\nthat disk correctly.\n\n368\n00:17:24.520 --> 00:17:27.439\nNow I might just need to refresh my\nscreen, and then it'll be fine, but\n\n369\n00:17:27.439 --> 00:17:28.810\nthat might actually be my error.\n\n370\n00:17:28.810 --> 00:17:31.176\nI also notice that it\ndoesn't have a drive letter,\n\n371\n00:17:31.176 --> 00:17:34.480\nwell Cluster Shared Volumes don't\nnormally have drive letters.\n\n372\n00:17:34.480 --> 00:17:38.666\nInstead they're accessed via a mount\npoint, and so that mount point,\n\n373\n00:17:38.666 --> 00:17:41.125\nyou can see if browse on your file system.\n\n374\n00:17:41.125 --> 00:17:45.533\nLet me just get a Windows Explorer\nto come up, please?\n\n375\n00:17:45.533 --> 00:17:47.521\n&gt;&gt; [LAUGH]\n&gt;&gt; Sometimes you have to be nice.\n\n376\n00:17:47.521 --> 00:17:49.211\nAnd so if I browse to C drive,\n\n377\n00:17:49.211 --> 00:17:54.084\nCluster Shared Volumes show in a mount\npoint called cluster storage, all right?\n\n378\n00:17:54.084 --> 00:17:55.819\nThat's something that's\nconfusing to a lot of people,\n\n379\n00:17:55.819 --> 00:17:56.910\ncuz the driver letter will go away.\n\n380\n00:17:56.910 --> 00:17:59.808\nIf you watched the other episodes,\nI had that assigned as drive letter S, and\n\n381\n00:17:59.808 --> 00:18:00.977\nthe drive letter's now gone.\n\n382\n00:18:00.977 --> 00:18:03.486\nBut if I browse into C:/ClusterStorage,\n\n383\n00:18:03.486 --> 00:18:08.290\nevery Cluster Shared Volume you create\nwill have a folder in here, all right?\n\n384\n00:18:08.290 --> 00:18:11.999\nAnd I can see this is called Volume 1,\nand if I browse into that,\n\n385\n00:18:11.999 --> 00:18:13.803\nI'm seeing that file system.\n\n386\n00:18:13.803 --> 00:18:17.104\nAnd if I come in here and\ncreate a new file, so\n\n387\n00:18:17.104 --> 00:18:22.649\nI'll just create a text document and\nI'll call it File1.txt, right?\n\n388\n00:18:22.649 --> 00:18:26.223\nSo there I created a text document, I was\nable to write to that disc, all right?\n\n389\n00:18:26.223 --> 00:18:30.205\nNow let's go and\ntake a look at my other cluster node,\n\n390\n00:18:30.205 --> 00:18:34.290\ncluster two, and\nI'm gonna refresh its view as well.\n\n391\n00:18:35.480 --> 00:18:38.132\nAll right, so here I am on node two,\nnode two shows the disk,\n\n392\n00:18:38.132 --> 00:18:41.060\nit doesn't have the little\nred down arrow on it, right?\n\n393\n00:18:41.060 --> 00:18:44.313\nAnd it is up and it's healthy,\nand so we're looking good here,\n\n394\n00:18:44.313 --> 00:18:47.220\nright, it shows that it has\nno drive letter, right?\n\n395\n00:18:47.220 --> 00:18:49.720\nBut we saw before that's\nnot big of a deal.\n\n396\n00:18:49.720 --> 00:18:55.360\nAnd if I browse my file system,\nif I can get it, there we go.\n\n397\n00:18:55.360 --> 00:19:00.969\nI'll browse to this PC, and\nI'll browse to C:/ClusterStorage,\n\n398\n00:19:00.969 --> 00:19:04.753\nthere's Volume1, and I see File1.text.\n\n399\n00:19:04.753 --> 00:19:09.591\nAnd more importantly, I can come in\nhere and I can create a new file, so\n\n400\n00:19:09.591 --> 00:19:14.290\nI'll create a new text document,\nwhich I will call File2.text.\n\n401\n00:19:14.290 --> 00:19:15.390\nThere we go, and\n\n402\n00:19:15.390 --> 00:19:19.790\nI wrote to it also, right, both servers\nare able to write to this disk, okay?\n\n403\n00:19:19.790 --> 00:19:24.790\nSo that looks good, right, the CSV is\nworking the way that it's supposed to.\n\n404\n00:19:24.790 --> 00:19:28.920\nSo now I can go back to\nmy Cluster Manager, and\n\n405\n00:19:28.920 --> 00:19:31.110\nlet's take a look at that role.\n\n406\n00:19:31.110 --> 00:19:33.780\nAnd I'm gonna refresh that\nscreen real quick and\n\n407\n00:19:33.780 --> 00:19:35.370\njust make sure it doesn't\nshow failed anymore.\n\n408\n00:19:35.370 --> 00:19:38.180\nNow it does still show failed,\nso I've got a bigger problem.\n\n409\n00:19:38.180 --> 00:19:40.547\nNow actually I think I\nknow what my problem is.\n\n410\n00:19:40.547 --> 00:19:44.276\nBut this one shows as failed, and\nwe can try and stop and restart it,\n\n411\n00:19:44.276 --> 00:19:45.593\nsometimes that helps.\n\n412\n00:19:45.593 --> 00:19:48.368\nBut otherwise we're gonna end up needing\nto go our event viewer to find out\n\n413\n00:19:48.368 --> 00:19:49.100\nwhat's going on.\n\n414\n00:19:49.100 --> 00:19:56.190\nNow, one common reason why this can\nfail is if multi-pathing is not enabled.\n\n415\n00:19:56.190 --> 00:20:00.740\nTechnically, I've got more than\none path to get to that disc.\n\n416\n00:20:00.740 --> 00:20:04.270\nI can take the HBA that's a part\nof node two, or I can take the HBA\n\n417\n00:20:04.270 --> 00:20:08.100\nthat's a part of node one,\nI've got two paths to get to that storage.\n\n418\n00:20:08.100 --> 00:20:13.308\nNow if multipathing is not turned on,\non my SAN, right, my SAN might only\n\n419\n00:20:13.308 --> 00:20:19.030\nallow one person to connect to a storage\nLAN at a time, that makes sense, right?\n\n420\n00:20:19.030 --> 00:20:21.460\nMost SANs will say, well if only\none person should be attached,\n\n421\n00:20:21.460 --> 00:20:24.600\nwhy are you trying to attach two,\nthis is crazy talk, right?\n\n422\n00:20:24.600 --> 00:20:28.560\nAnd what will happen is the Failover\nCluster Manager will recognize that, and\n\n423\n00:20:28.560 --> 00:20:31.490\nit'll start to do what's\ncalled proxy connections.\n\n424\n00:20:31.490 --> 00:20:35.790\nAnd proxy connections are bad,\nbecause what happens is one node will\n\n425\n00:20:35.790 --> 00:20:38.790\nbe able to write straight\nthrough the storage.\n\n426\n00:20:38.790 --> 00:20:41.785\nThe other node will have to\ntake all of its disk activity,\n\n427\n00:20:41.785 --> 00:20:45.945\nand send it to the first node, so\nit can relay it to the storage.\n\n428\n00:20:45.945 --> 00:20:47.295\nSo I might have five nodes,\n\n429\n00:20:47.295 --> 00:20:50.355\nand all of their storage traffic\nis going to the one of the nodes.\n\n430\n00:20:50.355 --> 00:20:52.875\nAt that point you might as well not even\nhave the five nodes, you're not gonna get\n\n431\n00:20:52.875 --> 00:20:55.775\nperformance improvements,\nyou've really wasted your time.\n\n432\n00:20:55.775 --> 00:20:58.228\nSo I likely have a backend problem here,\n\n433\n00:20:58.228 --> 00:21:02.061\nthat my SAN may not be set to\nallow those multiple connections.\n\n434\n00:21:02.061 --> 00:21:06.541\nBut I can stop it and restart it to\nfind out, and so it's gonna stop, and\n\n435\n00:21:06.541 --> 00:21:08.630\nthen I can start it back up.\n\n436\n00:21:08.630 --> 00:21:13.010\nAnother option here is I could try and\nfail it over to another node and see.\n\n437\n00:21:13.010 --> 00:21:15.862\nAnd during this whole time,\nif it actually is failing,\n\n438\n00:21:15.862 --> 00:21:19.092\nI can pull up my Event Viewer and\nthen find out what's going on.\n\n439\n00:21:19.092 --> 00:21:22.189\nSo it is failed out, I'm gonna try and\nfail it over real quick.\n\n440\n00:21:22.189 --> 00:21:27.348\nSo I'll choose move, and select node,\nand I'm gonna move it over to node one,\n\n441\n00:21:27.348 --> 00:21:31.270\nand see if it cleans up,\nnope it didn't, all right.\n\n442\n00:21:31.270 --> 00:21:33.300\nSo in the event of a failure like this,\n\n443\n00:21:33.300 --> 00:21:36.000\nwhere you don't get a lot of information,\nI just get Failed.\n\n444\n00:21:36.000 --> 00:21:40.468\nOver here in our manager you've got\ncluster events, you can real quick jump in\n\n445\n00:21:40.468 --> 00:21:44.882\nand see the event viewer logs right here\nand I might have a few errors, right?\n\n446\n00:21:44.882 --> 00:21:45.952\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n447\n00:21:45.952 --> 00:21:48.123\n&gt;&gt; And so we can take a look at this and\n\n448\n00:21:48.123 --> 00:21:54.040\nfind out why, I'm gonna start here at 753,\nthat's probably where it happened.\n\n449\n00:21:54.040 --> 00:21:58.170\nNow, neat part about this view,\nif you look over here on the right side,\n\n450\n00:21:58.170 --> 00:22:00.152\nit's got NODE 01 and NODE 02.\n\n451\n00:22:00.152 --> 00:22:04.160\nIt's got all the cluster events for\nall of my nodes in one place, and\n\n452\n00:22:04.160 --> 00:22:05.890\nthat's really handy.\n\n453\n00:22:05.890 --> 00:22:07.590\nSo I can come in and I can look at it, and\n\n454\n00:22:07.590 --> 00:22:11.490\ntry to get a handle on why\nmy connection was failing.\n\n455\n00:22:11.490 --> 00:22:13.350\nSo here it gives me a little\nbit more information,\n\n456\n00:22:13.350 --> 00:22:16.790\nit's telling me Cluster network name\nresource STORAGE02 failed to create its\n\n457\n00:22:16.790 --> 00:22:22.620\nassociated computer object in domain\nlab.itpro.tv during Resource online.\n\n458\n00:22:22.620 --> 00:22:27.650\nOkay so I mentioned how it's trying to\ncreate an Active Directory Resource,\n\n459\n00:22:27.650 --> 00:22:30.590\nright, and it should have created it.\n\n460\n00:22:30.590 --> 00:22:35.020\nSo let's just jump over and see what\nthat looks like on my Domain Controller.\n\n461\n00:22:35.020 --> 00:22:38.800\nNow I moved these guys\ninto the Cluster OU, but\n\n462\n00:22:38.800 --> 00:22:41.860\nanybody knew would end\nup here under Computers.\n\n463\n00:22:41.860 --> 00:22:44.338\nAnd I created a cluster called STORAGE02.\n\n464\n00:22:44.338 --> 00:22:49.660\nAnd STORAGE02 should have defaulted to\nthe computer's OU, it should be here.\n\n465\n00:22:49.660 --> 00:22:52.670\nI don't see it, all right,\nso it didn't create it.\n\n466\n00:22:52.670 --> 00:22:54.480\nNow, why not?\n\n467\n00:22:54.480 --> 00:22:57.050\nI'm not sure,\nmaybe I'm not logged in as a Domain Admin,\n\n468\n00:22:57.050 --> 00:22:59.888\nmaybe I don't have permissions to do it,\nso that's possible.\n\n469\n00:22:59.888 --> 00:23:03.790\nOne way to get around that is\nyou can prestage the account.\n\n470\n00:23:03.790 --> 00:23:07.932\nI can come in here and\nI can create a New &gt; Computer, and\n\n471\n00:23:07.932 --> 00:23:10.648\nI can call it STORAGE02, right?\n\n472\n00:23:10.648 --> 00:23:13.107\nAnd you can attach\na usergroup to if you want,\n\n473\n00:23:13.107 --> 00:23:16.180\nI'm just gonna leave\nmine the way that it is.\n\n474\n00:23:16.180 --> 00:23:18.043\nAnd we'll get that put in place, and\n\n475\n00:23:18.043 --> 00:23:21.380\nthat creates was called\nthe prestaged computer account.\n\n476\n00:23:21.380 --> 00:23:23.781\nIf the Computer account already exists,\nthen I could right-click on it and\n\n477\n00:23:23.781 --> 00:23:25.000\nchoose Reset Account.\n\n478\n00:23:25.000 --> 00:23:27.961\nAnd that, it removes the SID,\nthe security identifier for it.\n\n479\n00:23:27.961 --> 00:23:32.583\nSo this little entity right here,\nright now doesn't have a SID, right, so\n\n480\n00:23:32.583 --> 00:23:36.810\nthere, it's reset,\nnow it double doesn't have a SID, right?\n\n481\n00:23:36.810 --> 00:23:40.240\nAnd so now, when something tries to\njoin the domain under a new name,\n\n482\n00:23:40.240 --> 00:23:42.780\nit doesn't have to create an account, so\nit doesn't need those permissions, and\n\n483\n00:23:42.780 --> 00:23:43.770\nit can just bond to it.\n\n484\n00:23:43.770 --> 00:23:47.129\n&gt;&gt; Now, Don, what do you think, you think\nmaybe you need to move that [LAUGH]\n\n485\n00:23:47.129 --> 00:23:49.680\nSTORAGE02 from the container\nto the OU you created?\n\n486\n00:23:49.680 --> 00:23:53.426\n&gt;&gt; [LAUGH] I don't just think I need to,\nI know I need to, but I had forgotten, so\n\n487\n00:23:53.426 --> 00:23:55.437\n[LAUGH] I'm glad you mentioned that Wes.\n\n488\n00:23:55.437 --> 00:23:56.893\nYeah so I prestaged the account,\n\n489\n00:23:56.893 --> 00:23:59.237\nwhich is good if I was just\njoining a normal computer.\n\n490\n00:23:59.237 --> 00:24:02.741\nBut I need the cluster to be able to\ncontrol this, so I do need to move it and\n\n491\n00:24:02.741 --> 00:24:05.735\nI'll drop it down in that OU,\nright alongside the other one.\n\n492\n00:24:05.735 --> 00:24:10.063\nSo now CLUSTER01 will be able\nto modify STORAGE02's settings.\n\n493\n00:24:10.063 --> 00:24:13.549\nAnd with that,\nwe should now be back in business, so\n\n494\n00:24:13.549 --> 00:24:16.860\nlet me jump over to my failed node here.\n\n495\n00:24:16.860 --> 00:24:21.016\nAnd I'm just gonna take it and\nI will stop it, if it's running, and so\n\n496\n00:24:21.016 --> 00:24:22.219\nwe'll let it stop.\n\n497\n00:24:22.219 --> 00:24:25.603\nAnd then I'm gonna start it back again,\nand this time it should go to create that\n\n498\n00:24:25.603 --> 00:24:28.050\naccount, there we go,\nthat's what I wanna see.\n\n499\n00:24:28.050 --> 00:24:31.659\nAnd now, we're up and running,\nI've got a Scale-Out File Server running.\n\n500\n00:24:31.659 --> 00:24:35.073\nNODE02's in control right now, which is\nkinda funny, cuz I keep running all these\n\n501\n00:24:35.073 --> 00:24:38.670\nstuff on NODE01, and\nNODE02 is just apparently more awesome.\n\n502\n00:24:38.670 --> 00:24:41.369\nSo, it's up and running, and\nit's now the one in control.\n\n503\n00:24:41.369 --> 00:24:46.690\nAnd now technically I'm done,\nI've created a Scale-Out File Server.\n\n504\n00:24:46.690 --> 00:24:50.010\nBut the file server's not terribly useful,\nif somebody were to browse the network\n\n505\n00:24:50.010 --> 00:24:51.700\nright now they'd see\na server called STORAGE02,\n\n506\n00:24:51.700 --> 00:24:53.930\nand they could browse to it and\nauthenticate it.\n\n507\n00:24:53.930 --> 00:24:57.370\nAnd then it would have nothing in it,\nbecause I need to create some file shares.\n\n508\n00:24:57.370 --> 00:25:02.190\nSo if I right-click on that storage,\nI can choose Add File Share.\n\n509\n00:25:02.190 --> 00:25:04.640\nAnd now it's gonna take\nme into a little wizard\n\n510\n00:25:04.640 --> 00:25:07.580\nwhere I can start to create the folders\nthat are gonna be inside of it.\n\n511\n00:25:07.580 --> 00:25:12.530\nAnd there we go, and it's telling me\nmy Client Access Point is not quite\n\n512\n00:25:12.530 --> 00:25:14.670\nready yet, so I still need to wait.\n\n513\n00:25:14.670 --> 00:25:18.347\nWhen you're dealing with CSVs, Cluster\nShared Volumes, you've got more than one\n\n514\n00:25:18.347 --> 00:25:21.571\nserver that's participating in it,\nand so my nodes are synchronizing.\n\n515\n00:25:21.571 --> 00:25:23.157\nAnd if I take a look at my nodes,\n\n516\n00:25:23.157 --> 00:25:26.637\nI might actually see where one's\nnot currently happy or whatever.\n\n517\n00:25:26.637 --> 00:25:31.329\nActually, everybody looks happy in mine,\nso I may just be being super impatient, so\n\n518\n00:25:31.329 --> 00:25:35.320\nwe'll wait just a second,\nI'm gonna refresh that screen.\n\n519\n00:25:35.320 --> 00:25:39.410\nAnd I will try to add that\nfile share again, and\n\n520\n00:25:39.410 --> 00:25:42.130\nit's gonna wait just a second and\nhopefully launch into the wizard.\n\n521\n00:25:42.130 --> 00:25:43.859\nWhen the wizard does launch,\n\n522\n00:25:43.859 --> 00:25:47.256\nit's gonna ask me which type\nof file share I wanna create.\n\n523\n00:25:47.256 --> 00:25:51.033\nAnd there's a few modes in there based\non whether or not we wanna support SMB,\n\n524\n00:25:51.033 --> 00:25:55.350\nwhether we wanna support load balancing,\nthere's all sort of different modes.\n\n525\n00:25:55.350 --> 00:25:58.395\nBut at the end of the day you're creating\na standard file share, a shared folder\n\n526\n00:25:58.395 --> 00:26:01.860\nthat people can access, and that's really\nthe last step to getting up and going.\n\n527\n00:26:01.860 --> 00:26:05.510\nAnd when that's done, we'll now have\na file server that give us improved\n\n528\n00:26:05.510 --> 00:26:08.990\nperformance, and it's up and\nrunning the rest of way.\n\n529\n00:26:08.990 --> 00:26:11.274\nNow, I had mentioned when\nI first got my error,\n\n530\n00:26:11.274 --> 00:26:13.397\nthat I thought my problem\nwas back on my SAN.\n\n531\n00:26:13.397 --> 00:26:15.740\nIt actually turned out not to be,\nbecause I'm not proxying.\n\n532\n00:26:15.740 --> 00:26:20.120\nIf I was proxying, I would actually be\nseeing another warning here on my disk.\n\n533\n00:26:20.120 --> 00:26:24.590\nSo right now, when I look at that Cluster\nShared Volume, I've got a green up arrow,\n\n534\n00:26:24.590 --> 00:26:27.080\nand it's up, and\nthere's no warning information over here.\n\n535\n00:26:27.080 --> 00:26:29.834\nIf I was proxying it would say right here,\nso I know that's good,\n\n536\n00:26:29.834 --> 00:26:30.947\nthat wasn't my problem.\n\n537\n00:26:30.947 --> 00:26:35.211\nIt was just Active Directory Permissions\nin my case, and so that's kind of fixed.\n\n538\n00:26:35.211 --> 00:26:39.933\nNow, I'm just Growing impatient\n[LAUGH] and if it takes too long here,\n\n539\n00:26:39.933 --> 00:26:44.656\nif you really grow super impatient,\nyou could always move the role and\n\n540\n00:26:44.656 --> 00:26:46.919\nshift it over to another server.\n\n541\n00:26:46.919 --> 00:26:50.791\nThe problem with moving it here is that\nyou've actually go more than one node\n\n542\n00:26:50.791 --> 00:26:54.057\nthat's really already doing the work,\nbecause of the CSV, but\n\n543\n00:26:54.057 --> 00:26:55.800\nit'll move pretty quick.\n\n544\n00:26:55.800 --> 00:26:57.070\nAnd let's see if that takes care of it,\n\n545\n00:26:57.070 --> 00:26:59.210\notherwise I just need to\nstop messing with it.\n\n546\n00:26:59.210 --> 00:27:01.520\nIt's trying to synchronize and\nconverge, and\n\n547\n00:27:01.520 --> 00:27:03.498\nI get in a hurry on this shows sometimes.\n\n548\n00:27:03.498 --> 00:27:07.700\nAnd yeah it's, it's retrieving\na configuration, let's see.\n\n549\n00:27:07.700 --> 00:27:09.260\nThis is it,\nit just kinda parsing the servers\n\n550\n00:27:09.260 --> 00:27:11.180\nto make sure that they're both ready.\n\n551\n00:27:11.180 --> 00:27:14.257\nAnd assuming they're ready,\n\n552\n00:27:14.257 --> 00:27:19.095\nI should get my Wizard to\nadd a share any moment.\n\n553\n00:27:19.095 --> 00:27:20.508\nMan, you gotta love technology,\n\n554\n00:27:20.508 --> 00:27:26.359\nand, [LAUGH]\n&gt;&gt; All right,\n\n555\n00:27:26.359 --> 00:27:29.716\nDon, so speaking of time, is this\nsomething that's gonna take a lot of time?\n\n556\n00:27:29.716 --> 00:27:32.959\n&gt;&gt; It usually doesn't, usually cluster\nhardware's pretty beefy so this stuff\n\n557\n00:27:32.959 --> 00:27:36.461\n[LAUGH] runs pretty fast I'm running this\non some virtual machine, so a little slow.\n\n558\n00:27:36.461 --> 00:27:40.098\nIt's probably good now if I try it again,\nyou just wait a moment, and\n\n559\n00:27:40.098 --> 00:27:41.182\nthen give it a shot.\n\n560\n00:27:41.182 --> 00:27:44.034\nSo if I go back in here and\nI will just right-click on that,\n\n561\n00:27:44.034 --> 00:27:45.620\nwe'll choose Add a File Share.\n\n562\n00:27:45.620 --> 00:27:48.780\nAnd it will, there we go,\nthat's what I wanted to see.\n\n563\n00:27:48.780 --> 00:27:52.240\nThe gathering data message a moment ago\nwas what let me know I needed to wait.\n\n564\n00:27:52.240 --> 00:27:53.430\nBut now that I'm ready to rock,\n\n565\n00:27:53.430 --> 00:27:55.590\nit's asking me what kind\nof share I wanna create.\n\n566\n00:27:55.590 --> 00:27:58.722\nAnd notice how you can do NFS shares,\nif you're doing the Network File System,\n\n567\n00:27:58.722 --> 00:28:00.571\nif you're supporting Unix or\nLinux systems.\n\n568\n00:28:00.571 --> 00:28:03.520\nWe've also got SMB shares, and\nthere's three different ones.\n\n569\n00:28:03.520 --> 00:28:07.400\nYou've got quick, which sets up\na really standard type file share for\n\n570\n00:28:07.400 --> 00:28:08.670\nwhat you'd normally want.\n\n571\n00:28:08.670 --> 00:28:09.421\nThere's advanced,\n\n572\n00:28:09.421 --> 00:28:12.349\nwhere you can actually tweak a lot of the\nperformance settings that are based on it.\n\n573\n00:28:12.349 --> 00:28:14.509\nAnd then you've got a special mode for\napplications, and\n\n574\n00:28:14.509 --> 00:28:16.950\nthe applications mode is what's\nreally designed for Hyper-V.\n\n575\n00:28:16.950 --> 00:28:19.195\nBut it also supports certain databases,\nand\n\n576\n00:28:19.195 --> 00:28:22.220\nother technologies can really\nbenefit from that one.\n\n577\n00:28:22.220 --> 00:28:25.800\nBut normally what we want is the Quick\nshare, to create the standard file share\n\n578\n00:28:25.800 --> 00:28:29.110\nthat users are expecting to see,\nand get that put in place.\n\n579\n00:28:29.110 --> 00:28:31.550\nThe share location will\nbe where we pick our CSV,\n\n580\n00:28:31.550 --> 00:28:33.880\nour Cluster Shared Volume\nthat it's gonna reside on.\n\n581\n00:28:33.880 --> 00:28:37.445\nThen, you treat it just like any other\nshare, you have to give it a name,\n\n582\n00:28:37.445 --> 00:28:39.328\nyou have to set permissions, right?\n\n583\n00:28:39.328 --> 00:28:43.956\nSo, here it's got it tied to the CSV,\nthat C:\\ClusterStorage\\Volume1, right,\n\n584\n00:28:43.956 --> 00:28:47.620\nthat's where the Cluster Shared Storage\nis mounted to.\n\n585\n00:28:47.620 --> 00:28:50.130\nAnd I give it a shared folder name,\n\n586\n00:28:50.130 --> 00:28:54.180\nmaybe this is where I want my company\nreports to be, so I'll call it reports.\n\n587\n00:28:54.180 --> 00:28:58.150\nAnd people will browse to it\nas \\\\storage02\\reports, right,\n\n588\n00:28:58.150 --> 00:29:03.130\nthey see storage02 as a server,\nnot as like a virtual IP that's shared.\n\n589\n00:29:03.130 --> 00:29:07.073\nI can specify any other IP addresses that,\nor not IPs, but other advanced settings.\n\n590\n00:29:07.073 --> 00:29:09.124\nLike if I wanted to do\naccess-based enumeration,\n\n591\n00:29:09.124 --> 00:29:11.366\nwhere if somebody doesn't\nhave a permission to a file,\n\n592\n00:29:11.366 --> 00:29:14.110\nit just doesn't even show up,\nI can turn that on if I want.\n\n593\n00:29:14.110 --> 00:29:18.200\nThe defaults here are actually set up\nto reflect the defaults with a standard\n\n594\n00:29:18.200 --> 00:29:21.750\nWindows server file share, so that's\nusually what people will start with.\n\n595\n00:29:21.750 --> 00:29:24.839\nAnd then we can assign permissions where\nwho's allowed to access the thing,\n\n596\n00:29:24.839 --> 00:29:27.470\nyou customize it, again,\njust like any other share.\n\n597\n00:29:27.470 --> 00:29:31.811\nAnd when it's done, that's gonna get\ncreated, and now I've got a real\n\n598\n00:29:31.811 --> 00:29:36.600\nScale-Out File Server, a server that\nactually has some folders inside of it.\n\n599\n00:29:36.600 --> 00:29:39.360\nAnd after a moment this will refresh,\nso that we'll be\n\n600\n00:29:39.360 --> 00:29:43.560\nable to see the shares underneath it, but\nthat takes a little time as well, right?\n\n601\n00:29:43.560 --> 00:29:47.028\nPatience is a virtue, and some other\nstuff which I know I don't have.\n\n602\n00:29:47.028 --> 00:29:49.337\nBut basically that's what\ngets it in place, and\n\n603\n00:29:49.337 --> 00:29:51.500\nnow we've got the Scale-Out File Cluster.\n\n604\n00:29:51.500 --> 00:29:53.670\nSo not a terribly\ndifficult thing to get set,\n\n605\n00:29:53.670 --> 00:29:56.765\npermissions are usually one of\nthe bigger options that we have.\n\n606\n00:29:56.765 --> 00:30:00.091\nAnd then just network communications,\nonce we've got those squared away,\n\n607\n00:30:00.091 --> 00:30:03.490\nthe rest of it all falls into place and\nnow we've got a Scale-Out File Server.\n\n608\n00:30:03.490 --> 00:30:06.913\n&gt;&gt; Alright, Don, a lot of great\ninformation on Scale-Out File Servers,\n\n609\n00:30:06.913 --> 00:30:09.563\nand congratulations no\nprotonic reversal on that one.\n\n610\n00:30:09.563 --> 00:30:10.720\n&gt;&gt; [LAUGH]\n&gt;&gt; I mean you did a [LAUGH] great job,\n\n611\n00:30:10.720 --> 00:30:13.170\nand it does look like we're [LAUGH]\ncoming to the end of another episode.\n\n612\n00:30:13.170 --> 00:30:16.370\nBut before we do, do you have final\nwords that you'd like to impart to our\n\n613\n00:30:16.370 --> 00:30:17.760\nviewers when using this technology?\n\n614\n00:30:19.600 --> 00:30:20.910\n&gt;&gt; It's good technology,\n\n615\n00:30:20.910 --> 00:30:24.830\nif you've got local file servers this\nstuff really is beneficial, but more and\n\n616\n00:30:24.830 --> 00:30:28.420\nmore people are moving to Cloud\nstorage for a lot of this stuff.\n\n617\n00:30:28.420 --> 00:30:31.220\nAnd so this technology is\nprobably not gonna see a ton of\n\n618\n00:30:31.220 --> 00:30:32.620\nadvancement over the next few years.\n\n619\n00:30:32.620 --> 00:30:36.063\nThe way that you've got it right here\nis pretty much the way it's gonna be,\n\n620\n00:30:36.063 --> 00:30:38.590\nit's very robust,\nit does a great job at what it does.\n\n621\n00:30:38.590 --> 00:30:41.338\nBut when you have\nCluster Shared Volumes like this,\n\n622\n00:30:41.338 --> 00:30:44.160\nthe servers are all\npointing to the same SAN.\n\n623\n00:30:44.160 --> 00:30:48.710\nAnd that makes it where you can't do\nthings like geo-located SANs, where I\n\n624\n00:30:48.710 --> 00:30:54.580\nmight have one cluster node here, and\nanother one at my disaster recovery site.\n\n625\n00:30:54.580 --> 00:30:57.800\nSo I'll still need other technologies\nto be able to provide that kind\n\n626\n00:30:57.800 --> 00:31:01.800\nof redundancy, but as far as local,\non premises redundancy,\n\n627\n00:31:01.800 --> 00:31:05.170\nthis is a great solution,\nand it's ready to deploy.\n\n628\n00:31:05.170 --> 00:31:07.330\n&gt;&gt; All right, Don,\nthat's a great place to wrap this one up.\n\n629\n00:31:07.330 --> 00:31:10.970\nWe appreciate having you here, and\nwe appreciate you the viewer watching.\n\n630\n00:31:10.970 --> 00:31:15.325\nRemember, you can see this video and\nthousands of hours of additional course\n\n631\n00:31:15.325 --> 00:31:18.149\ncontent, just hop on over\nto our course library.\n\n632\n00:31:18.149 --> 00:31:20.318\nUntil we see you again,\nI've been your host Wes Brian.\n\n633\n00:31:20.318 --> 00:31:21.047\n&gt;&gt; And I'm Don Pezet.\n\n634\n00:31:21.047 --> 00:31:22.136\n&gt;&gt; And we'll see you next time.\n\n635\n00:31:22.136 --> 00:31:29.526\n[MUSIC]\n\n636\n00:31:29.526 --> 00:31:32.574\nThank you for watching ITProTV.\n\n",
          "vimeoId": "238051662"
        },
        {
          "description": "In this episode, Don introduces the viewers to Storage Spaces Direct (S2D), a new feature in Windows Server 2016. He explains how S2D functions and then demonstrates configuring S2D in a Windows Server 2016 Failover Cluster.",
          "length": "1869",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-5-1-storage_spaces_direct_RESHOOT-101917-PGM.00_33_16_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-5-1-storage_spaces_direct_RESHOOT-101917-PGM.00_33_16_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-5-1-storage_spaces_direct_RESHOOT-101917-PGM.00_33_16_11.Still001-sm.jpg",
          "title": "Storage Spaces Direct (S2D)",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:00.998\nWelcome to ITPro.\n\n2\n00:00:00.998 --> 00:00:06.425\nI'm your host Don Pezet,\ncoming at you live [CROSSTALK]\n\n3\n00:00:06.425 --> 00:00:08.176\n[MUSIC]\n\n4\n00:00:08.176 --> 00:00:10.737\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:10.737 --> 00:00:11.881\n[MUSIC]\n\n6\n00:00:11.881 --> 00:00:14.450\n&gt;&gt; Hello to all our viewers out there,\nthanks for tuning in.\n\n7\n00:00:14.450 --> 00:00:16.120\nWe've got a great show in store for\nyou today.\n\n8\n00:00:16.120 --> 00:00:17.550\nI'm your show host, Wes Bryan.\n\n9\n00:00:17.550 --> 00:00:22.210\nAnd in today's episode we are continuing\nthrough our series in the 7740 exam.\n\n10\n00:00:22.210 --> 00:00:25.040\nThat's right,\nthe MCSA Windows server 2016.\n\n11\n00:00:25.040 --> 00:00:28.320\nAnd joining us back in the studios\nis none other than Mr. Don Pezet.\n\n12\n00:00:28.320 --> 00:00:29.670\nDon, how you doing today, sir?\n\n13\n00:00:29.670 --> 00:00:30.720\n&gt;&gt; I'm doing great, Wes.\n\n14\n00:00:30.720 --> 00:00:33.030\nReady to dive right back into\nthe world of clustering.\n\n15\n00:00:33.030 --> 00:00:35.570\nWe spent the last few episodes\ntalking about fail-over clusters and\n\n16\n00:00:35.570 --> 00:00:36.500\ndifferent stuff.\n\n17\n00:00:36.500 --> 00:00:39.770\nIn this episode, we're gonna be\ntalking about clustering, sure.\n\n18\n00:00:39.770 --> 00:00:43.700\nBut we're really gonna be focusing on\nthe storage that our cluster uses.\n\n19\n00:00:43.700 --> 00:00:48.240\nAnd specifically, a technology called\nstorage spaces direct, or S2D.\n\n20\n00:00:48.240 --> 00:00:52.194\nIt's a brand new feature in Windows Server\n2016 that Microsoft has rolled out, and\n\n21\n00:00:52.194 --> 00:00:55.680\nit is a really neat way to handle your\nstorage inside of a fail-over cluster.\n\n22\n00:00:55.680 --> 00:00:57.730\nSo that's what we're looking\nat right here in this episode.\n\n23\n00:00:57.730 --> 00:01:00.810\n&gt;&gt; Now, Don, I'm familiar with a little\nbit of the traditional storage, right?\n\n24\n00:01:00.810 --> 00:01:02.100\nOur traditional storage mechanism.\n\n25\n00:01:02.100 --> 00:01:05.650\nHow is it that S2D differs from\nthe traditional storage that we already\n\n26\n00:01:05.650 --> 00:01:06.700\nhave in existence?\n\n27\n00:01:06.700 --> 00:01:10.050\n&gt;&gt; All right, so the most intimidating\nthing about setting up a cluster is that\n\n28\n00:01:10.050 --> 00:01:14.230\nnormally if we're gonna cluster a service\ntogether, we need shared storage.\n\n29\n00:01:14.230 --> 00:01:16.610\nAnd shared storage equals money.\n\n30\n00:01:16.610 --> 00:01:17.790\nIt's expensive, right?\n\n31\n00:01:17.790 --> 00:01:20.810\nIf you want a fiber channel SAN\nthat's of any decent make and\n\n32\n00:01:20.810 --> 00:01:23.960\nmodel, it's probably gonna run\nyou $50,000 or more, right?\n\n33\n00:01:23.960 --> 00:01:25.443\nIt adds up really, really quick.\n\n34\n00:01:25.443 --> 00:01:28.100\nAnd if you want redundancy,\nyou gotta have more than one SAN.\n\n35\n00:01:28.100 --> 00:01:31.063\nAnd I mean,\nit's just a huge price tag expense.\n\n36\n00:01:31.063 --> 00:01:33.769\nAnd so a lot of people get\nintimidated by that, and\n\n37\n00:01:33.769 --> 00:01:35.901\nit makes them want to deploy clusters.\n\n38\n00:01:35.901 --> 00:01:39.520\nWell, S2D works to help with that.\n\n39\n00:01:39.520 --> 00:01:42.390\nSometimes we don't need a massive\nstorage infrastructure to\n\n40\n00:01:42.390 --> 00:01:44.170\nbe able to support our servers.\n\n41\n00:01:44.170 --> 00:01:47.740\nInstead, wouldn't it be nice if there was\nsome kind of alternative that made things\n\n42\n00:01:47.740 --> 00:01:51.950\na little more simple, but at the same time\ndidn't make us sacrifice features, right?\n\n43\n00:01:51.950 --> 00:01:53.945\nAnd that's what S2D aims to do.\n\n44\n00:01:53.945 --> 00:01:58.890\nCuz it says, look, if you've got a bunch\nof servers, instead of having a separate\n\n45\n00:01:58.890 --> 00:02:03.980\nSAN, what if we have hard drives\nthat were inside of the servers?\n\n46\n00:02:03.980 --> 00:02:05.986\nWe've got a 10 server cluster.\n\n47\n00:02:05.986 --> 00:02:08.750\nAnd so in each server,\nyou add some hard drives.\n\n48\n00:02:08.750 --> 00:02:11.259\nAnd then,\nif the servers could pool those together,\n\n49\n00:02:11.259 --> 00:02:15.130\npool that local storage together,\nthey could use it like a SAN.\n\n50\n00:02:15.130 --> 00:02:18.710\nNow, if I had, let's say I had\ntwo drives in each server, and\n\n51\n00:02:18.710 --> 00:02:20.010\nI had 10 servers, that's 20 drives.\n\n52\n00:02:20.010 --> 00:02:23.380\nI could have a 20 drive array\nspread across these servers, and\n\n53\n00:02:23.380 --> 00:02:26.910\neach server has access to that through\nthe clustering mechanism, all right?\n\n54\n00:02:26.910 --> 00:02:29.540\nThat's what S2D really aims to do.\n\n55\n00:02:29.540 --> 00:02:33.480\nAnd this technology actually came from\nSystem Center Data Protection Manager is\n\n56\n00:02:33.480 --> 00:02:35.080\na lot of where evolved from.\n\n57\n00:02:35.080 --> 00:02:36.570\nAnd Microsoft found that\nit went well beyond that.\n\n58\n00:02:36.570 --> 00:02:38.420\nThey could get performance out of it.\n\n59\n00:02:38.420 --> 00:02:43.026\nIf it was configured exactly right,\nyou could get performance out of it and\n\n60\n00:02:43.026 --> 00:02:44.644\nnot need a dedicated SAN.\n\n61\n00:02:44.644 --> 00:02:46.260\nNow, I know what you're thinking.\n\n62\n00:02:47.330 --> 00:02:48.365\nWhen would I use this?\n\n63\n00:02:48.365 --> 00:02:50.397\nIf I've got a dedicated SAN,\nthat's the best solution, right?\n\n64\n00:02:50.397 --> 00:02:52.080\nAnd my answer would be yes, absolutely.\n\n65\n00:02:52.080 --> 00:02:55.950\nIf you can go with a dedicated SAN,\nyou will be better off than using S2D.\n\n66\n00:02:55.950 --> 00:02:59.470\nBut S2D has a couple of\nuse case scenarios, right?\n\n67\n00:02:59.470 --> 00:03:01.100\nUse case scenario one.\n\n68\n00:03:01.100 --> 00:03:02.550\nYou don't wanna invest\nin a SAN infrastructure.\n\n69\n00:03:02.550 --> 00:03:04.300\nYou wanna keep it small and simple.\n\n70\n00:03:04.300 --> 00:03:06.590\nSmall clusters, not a ten node cluster.\n\n71\n00:03:06.590 --> 00:03:08.810\nMaybe a four node cluster, right?\n\n72\n00:03:08.810 --> 00:03:11.860\nNow, it's hard to justify a giant\nSAN expense when I've only got four\n\n73\n00:03:11.860 --> 00:03:12.750\nnodes, right?\n\n74\n00:03:12.750 --> 00:03:14.350\nS2D is a good solution there.\n\n75\n00:03:14.350 --> 00:03:15.450\nOr another solution.\n\n76\n00:03:15.450 --> 00:03:18.480\nMaybe I'm deploying in the Cloud.\n\n77\n00:03:18.480 --> 00:03:21.900\nIf I'm creating my own cluster solution\nthat's running on Cloud servers,\n\n78\n00:03:21.900 --> 00:03:25.630\nlike in Microsoft Azure,\nI don't have access to the underlying SAN.\n\n79\n00:03:25.630 --> 00:03:28.870\nI don't see that, I can't create\nshared storage with that mechanism.\n\n80\n00:03:28.870 --> 00:03:33.797\nBut I could add individual storage\nto each of my Azure VMs, and\n\n81\n00:03:33.797 --> 00:03:36.780\nthen pool them together\ninto an S2D cluster.\n\n82\n00:03:36.780 --> 00:03:40.380\nAnd now, I have shared storage even though\nI'm running on top of a Cloud technology.\n\n83\n00:03:40.380 --> 00:03:42.400\nThat's another use case scenario for this.\n\n84\n00:03:42.400 --> 00:03:43.880\nSo it's pretty neat.\n\n85\n00:03:43.880 --> 00:03:47.830\nAnd then feature-wise, it actually\ngoes beyond what you'd expect for\n\n86\n00:03:47.830 --> 00:03:49.470\njust simple shared storage.\n\n87\n00:03:50.470 --> 00:03:54.590\nFor example, if I have a physical SAN,\nI might have SSD or\n\n88\n00:03:54.590 --> 00:03:56.240\nNVMe disks that I'm using for cache.\n\n89\n00:03:56.240 --> 00:03:59.600\nAnd then I might have spinning disks that\nI'm using for capacity storage, right?\n\n90\n00:03:59.600 --> 00:04:02.500\nJust tons and tons of cheap disks for\nmassive storage.\n\n91\n00:04:02.500 --> 00:04:04.820\nWell, S2D can do that, too.\n\n92\n00:04:04.820 --> 00:04:08.480\nThat, if you have SSDs, it'll pick\nthose up and it'll use them as cache.\n\n93\n00:04:08.480 --> 00:04:11.620\nAnd if you have a spinning disk,\nit'll use them as regular capacity.\n\n94\n00:04:11.620 --> 00:04:14.157\nOr if you have all spinning disks,\nthen it just forgoes the cache.\n\n95\n00:04:14.157 --> 00:04:17.700\nOr if you have all SSD, again,\nit can forgo the cache cuz it can\n\n96\n00:04:17.700 --> 00:04:19.060\njust use the SSD.\n\n97\n00:04:19.060 --> 00:04:20.480\nSo you've got the ability to kina mix and\n\n98\n00:04:20.480 --> 00:04:23.340\nmatch that hardware based on\nthe performance that you want.\n\n99\n00:04:23.340 --> 00:04:27.090\nSo it's a pretty neat solution because\ninstead of having a separate SAN,\n\n100\n00:04:27.090 --> 00:04:31.000\nwe're just using internal hard drives\nright on the server nodes that are a part\n\n101\n00:04:31.000 --> 00:04:31.840\nof our cluster.\n\n102\n00:04:31.840 --> 00:04:34.570\n&gt;&gt; Now, Don, if I understand this right,\nyou're gonna have multiple servers, and\n\n103\n00:04:34.570 --> 00:04:37.920\neach server is gonna hold a portion of\nyour information, your data, right?\n\n104\n00:04:37.920 --> 00:04:40.469\nSo, to me, it would make sense\nthat if your server fails,\n\n105\n00:04:40.469 --> 00:04:43.189\none of those servers fails,\nthat we're gonna get data loss.\n\n106\n00:04:43.189 --> 00:04:44.680\nIs that what we're gonna see?\n\n107\n00:04:44.680 --> 00:04:46.066\n&gt;&gt; Well, normally, you would, right?\n\n108\n00:04:46.066 --> 00:04:48.040\nIf I was just spreading\nmy data across servers.\n\n109\n00:04:48.040 --> 00:04:52.277\nIn a SAN, I might have a RAID5,\nRAID6, RAID10.\n\n110\n00:04:52.277 --> 00:04:55.290\nSome kind of an array like that\nwhere I can survive drive failures.\n\n111\n00:04:55.290 --> 00:04:57.860\nAnd all the servers,\nthey just see the virtual LAN anyway.\n\n112\n00:04:57.860 --> 00:04:59.930\nSo they don't even know about\nthe physical disc failing.\n\n113\n00:04:59.930 --> 00:05:03.190\nBut if the physical discs are in\nthe servers themselves, okay,\n\n114\n00:05:03.190 --> 00:05:07.390\nand if I've got like two drives in each\nserver, and I build a RAID array that\n\n115\n00:05:07.390 --> 00:05:11.670\nspans across multiple servers,\nand a whole server fails?\n\n116\n00:05:11.670 --> 00:05:12.852\nI just lost two drives.\n\n117\n00:05:12.852 --> 00:05:16.910\nSo RAID5 doesn't really work, cuz RAID5\nwould normally survive one disk failing,\n\n118\n00:05:16.910 --> 00:05:19.960\nand if I lose a server with multiple\ndrives, I just lost multiple disks.\n\n119\n00:05:19.960 --> 00:05:21.560\nI'd lose the whole array.\n\n120\n00:05:21.560 --> 00:05:25.690\nSo, S2D foregoes normal RAID technologies,\nand\n\n121\n00:05:25.690 --> 00:05:28.930\nit uses its own data redundancy and\ndata deduplication.\n\n122\n00:05:28.930 --> 00:05:31.090\nSo let me explain that real quick.\n\n123\n00:05:31.090 --> 00:05:33.220\nI wanna make sure you\nguys understand this.\n\n124\n00:05:33.220 --> 00:05:36.206\nS2D should not be\ndeployed on a RAID array.\n\n125\n00:05:36.206 --> 00:05:40.460\nAnd this is counter-intuitive cuz\nnormally we think, this is my data,\n\n126\n00:05:40.460 --> 00:05:41.659\nI need it to be redundant.\n\n127\n00:05:42.730 --> 00:05:45.980\nIf you've got your drives in a RAID array,\nS2D won't work.\n\n128\n00:05:45.980 --> 00:05:47.440\nIt won't incorporate the disks.\n\n129\n00:05:47.440 --> 00:05:48.700\nIt won't allow it, right?\n\n130\n00:05:48.700 --> 00:05:51.360\nSo if you've got a RAID array,\nyou gotta set it to the JBOD mode,\n\n131\n00:05:51.360 --> 00:05:53.170\nthe just a bunch of disks mode.\n\n132\n00:05:53.170 --> 00:05:56.030\nOr if they're just regular SASS or\nSATA disks or\n\n133\n00:05:56.030 --> 00:05:58.420\nwhatever that are attached,\njust leave them in a non-array.\n\n134\n00:05:58.420 --> 00:06:02.600\nAnd when we configure S2D,\nit'll absorb those disks.\n\n135\n00:06:02.600 --> 00:06:05.440\nIt'll bring them in, and\nit will do it's own redundancy.\n\n136\n00:06:05.440 --> 00:06:10.080\nAnd there's two official\nmodels of redundancy,\n\n137\n00:06:10.080 --> 00:06:13.690\nand then there's a third\nkind of unofficial model.\n\n138\n00:06:13.690 --> 00:06:14.970\nSo let's kind of run through those.\n\n139\n00:06:14.970 --> 00:06:17.440\nThe main way, the main redundancy\nthat we want to get out of this,\n\n140\n00:06:17.440 --> 00:06:19.550\nis what's called a three-way mirror.\n\n141\n00:06:19.550 --> 00:06:22.870\nIn other words,\nwhen you're writing data to the array,\n\n142\n00:06:22.870 --> 00:06:24.670\nit'll store three copies of it.\n\n143\n00:06:24.670 --> 00:06:26.191\nSo if I've got a four note cluster,\n\n144\n00:06:26.191 --> 00:06:29.640\nall the data that I write is actually\nbeing stored on three of those notes.\n\n145\n00:06:29.640 --> 00:06:32.340\nSo I could lose one node, and\nmy data would still be there.\n\n146\n00:06:32.340 --> 00:06:34.390\nI cold lose a second node, and\nmy data would still be there.\n\n147\n00:06:34.390 --> 00:06:37.160\nNow, it's not terribly efficient, is it?\n\n148\n00:06:37.160 --> 00:06:40.290\nFor every one meg file I write,\nI'm eating up three megs of my storage.\n\n149\n00:06:40.290 --> 00:06:44.820\nSo I lose a lot of my available storage.\n\n150\n00:06:44.820 --> 00:06:48.424\nSo that's great, cuz I get high\nredundancy and availability.\n\n151\n00:06:48.424 --> 00:06:50.790\nBut not so\nmuch though that amount of storage.\n\n152\n00:06:50.790 --> 00:06:53.850\nSo the second mode is what's\ncalled the capacity mode.\n\n153\n00:06:53.850 --> 00:06:56.500\nThe mode I was just talking about\nis called performance mode.\n\n154\n00:06:56.500 --> 00:06:59.370\nThe capacity mode does parity instead.\n\n155\n00:06:59.370 --> 00:07:01.610\nYou store one copy of your data.\n\n156\n00:07:01.610 --> 00:07:05.680\nAnd then that data compared with another\nset of data will generate a parity bit.\n\n157\n00:07:05.680 --> 00:07:08.810\nThis is just the same way\nthat RAID5 works, right?\n\n158\n00:07:08.810 --> 00:07:11.980\nAnd now I only have my data\nstored on one server, and\n\n159\n00:07:11.980 --> 00:07:15.670\nif it fails, it can use data\nfrom another server combined\n\n160\n00:07:15.670 --> 00:07:19.330\nwith parity from a third server\nto recalculate what was there.\n\n161\n00:07:19.330 --> 00:07:22.640\nNow, that consumes far-less\nspace than we need.\n\n162\n00:07:22.640 --> 00:07:25.340\nAnd actually it's double-parity,\nI should mention that.\n\n163\n00:07:25.340 --> 00:07:28.255\nSo it's the equivalent of for\nevery one bit that I store,\n\n164\n00:07:28.255 --> 00:07:32.600\nI guess it would be every two bits that\nI store, there'd be two bits of parity.\n\n165\n00:07:32.600 --> 00:07:35.020\nSo I'd lose about half\nof my storage to parity.\n\n166\n00:07:35.020 --> 00:07:38.781\nVersus a three-way mirror,\nwhere I'm losing two-thirds of my storage,\n\n167\n00:07:38.781 --> 00:07:39.970\nI lose a lot more.\n\n168\n00:07:39.970 --> 00:07:40.800\nBut if I'm just looking for\n\n169\n00:07:40.800 --> 00:07:44.810\nsheer capacity, then that parity\ncalculation is the better way to go.\n\n170\n00:07:44.810 --> 00:07:48.410\nAnd we can actually survive multiple disks\nfailing because there is multiple parity\n\n171\n00:07:48.410 --> 00:07:49.640\nstripes involved.\n\n172\n00:07:49.640 --> 00:07:53.440\nAnd then there's the unofficial, and\nI wanna mention it here because it's not\n\n173\n00:07:53.440 --> 00:07:56.456\nmentioned much on Microsoft's website and\nin real life land.\n\n174\n00:07:56.456 --> 00:07:59.527\nBut if you don't have enough disks or\nif you don't have enough servers, right?\n\n175\n00:07:59.527 --> 00:08:01.295\nMicrosoft recommends\na minimum of four nodes.\n\n176\n00:08:01.295 --> 00:08:02.961\nI'll talk about minimum\nrequirements later.\n\n177\n00:08:02.961 --> 00:08:05.625\nBut if you've only have two nodes,\nfor example,\n\n178\n00:08:05.625 --> 00:08:09.013\nthen it's not enough nodes to\ndo a three-way mirror, right?\n\n179\n00:08:09.013 --> 00:08:10.810\nA three-way mirror on\ntwo nodes is pointless,\n\n180\n00:08:10.810 --> 00:08:14.535\ncuz if you lose one node you lose\nmore than one of your mirrors.\n\n181\n00:08:14.535 --> 00:08:19.310\nSo it'll do a two node mirror,\nit's called a two-way mirror.\n\n182\n00:08:19.310 --> 00:08:22.302\nA two-way mirror is not as effective,\nobviously,\n\n183\n00:08:22.302 --> 00:08:25.210\nyou've only got one\nextra copy of your data.\n\n184\n00:08:25.210 --> 00:08:28.600\nBut it's better than nothing,\nand so you got that available.\n\n185\n00:08:28.600 --> 00:08:31.220\nAnd the other thing to remember is even\nwhen we're running in the inefficient\n\n186\n00:08:31.220 --> 00:08:35.220\nmodes that are focused on performance,\nit's doing data deduplication.\n\n187\n00:08:35.220 --> 00:08:38.225\nSo if my users create two\ncopies of the same file,\n\n188\n00:08:38.225 --> 00:08:41.370\ncuz users do that all the time,\nit only stores one copy.\n\n189\n00:08:41.370 --> 00:08:43.131\nWell, it stores that one copy three times,\nright?\n\n190\n00:08:43.131 --> 00:08:47.184\nBut it won't make multiple copies of the\nsame data just because we have more than\n\n191\n00:08:47.184 --> 00:08:49.220\none file with that same data in it.\n\n192\n00:08:49.220 --> 00:08:51.300\nSo it recognizes that, it optimizes it,\n\n193\n00:08:51.300 --> 00:08:55.930\nit makes sure that we're getting\nthe best usage out of our data possible.\n\n194\n00:08:55.930 --> 00:08:58.670\nAnd we'll see that during\nthe configuration.\n\n195\n00:08:58.670 --> 00:09:02.880\nAnd it will be represented as\na capacity tier and a performance tier,\n\n196\n00:09:02.880 --> 00:09:04.240\nthese storage tiers, right?\n\n197\n00:09:04.240 --> 00:09:05.900\nThese different classifications.\n\n198\n00:09:05.900 --> 00:09:08.470\nAnd that's not even including\nlike the SSD that uses as cache.\n\n199\n00:09:08.470 --> 00:09:12.097\nAnd it says, okay, I might have data\non these slow spinning disks, and\n\n200\n00:09:12.097 --> 00:09:16.692\nif it's frequently accessed, I'll move it\ninto the cache, into these SSDs, or NVMEs,\n\n201\n00:09:16.692 --> 00:09:18.161\nwhere it's way super fast.\n\n202\n00:09:18.161 --> 00:09:20.330\nAnd it will cycle through that and\nmanage it automatically.\n\n203\n00:09:20.330 --> 00:09:21.540\nWe don't have to get involved.\n\n204\n00:09:21.540 --> 00:09:24.886\nThat's all automatic, it just does it and\nreally knocks things out.\n\n205\n00:09:24.886 --> 00:09:26.320\nIt's a pretty neat technology.\n\n206\n00:09:26.320 --> 00:09:29.430\n&gt;&gt; Now, Don, just like any other\ntechnology, we got specifications and\n\n207\n00:09:29.430 --> 00:09:29.980\nrequirements.\n\n208\n00:09:29.980 --> 00:09:30.640\nWhen it comes to S2D,\n\n209\n00:09:30.640 --> 00:09:33.670\nwhat kind of hardware requirement\ncould we expect to see?\n\n210\n00:09:33.670 --> 00:09:37.489\n&gt;&gt; All right, so for this one,\nI'm going to bring up Microsoft's official\n\n211\n00:09:37.489 --> 00:09:41.770\nwebpage because their minimum requirements\nare a bit of a moving target, right?\n\n212\n00:09:41.770 --> 00:09:47.550\nSo the original implementations of this,\nway back in the technical previews,\n\n213\n00:09:47.550 --> 00:09:49.500\nwas a little bit different\nthan what we have right now.\n\n214\n00:09:49.500 --> 00:09:51.700\nThe requirements are actually\npretty basic, right?\n\n215\n00:09:51.700 --> 00:09:55.410\nIt tells you a minimum of two servers,\nright?\n\n216\n00:09:55.410 --> 00:09:59.740\nThe reality is, we need a minimum of four\nservers if we want a three-way mirror.\n\n217\n00:09:59.740 --> 00:10:03.590\nSo if we wanna deploy S2D the right way,\nthen we need four servers.\n\n218\n00:10:03.590 --> 00:10:07.020\nBut they will support two, that's where\nthat secret storage tier pops up,\n\n219\n00:10:07.020 --> 00:10:08.810\nand we'll see it later, all right?\n\n220\n00:10:08.810 --> 00:10:12.450\nIt is a maximum of 16 servers,\nso we need to be aware of that.\n\n221\n00:10:12.450 --> 00:10:15.300\nIf you've got more than 16 servers you're\ngonna have to break it up into more than\n\n222\n00:10:15.300 --> 00:10:16.380\none S2D cluster.\n\n223\n00:10:16.380 --> 00:10:17.500\nWhich you can do that.\n\n224\n00:10:17.500 --> 00:10:20.700\nS2D creates what's called a storage pool,\nand you can just have more than one pool,\n\n225\n00:10:20.700 --> 00:10:23.867\nand a pool resides on these 16 servers,\nanother pool on these other 16 servers.\n\n226\n00:10:23.867 --> 00:10:26.820\nSo you can go bigger,\nbut, it maxes out at 16.\n\n227\n00:10:26.820 --> 00:10:30.704\nAnd they say that all servers\nshould be the same make and model.\n\n228\n00:10:30.704 --> 00:10:35.350\nAll right, now, notice that that key IT\nword, one of my favorites, should, right?\n\n229\n00:10:35.350 --> 00:10:38.440\nIt doesn't actually require\nthat the servers be identical,\n\n230\n00:10:38.440 --> 00:10:40.070\nthis is more based on performance.\n\n231\n00:10:40.070 --> 00:10:41.910\nRemember, we're talking\nabout storage here.\n\n232\n00:10:41.910 --> 00:10:45.670\nAnd storage, was really a big deal for us.\n\n233\n00:10:45.670 --> 00:10:50.550\nSo if I have one server that has one type\nof SCSI controller, and another server\n\n234\n00:10:50.550 --> 00:10:54.590\nthat has a different SCSI controller, they\nmay read and write at different speeds.\n\n235\n00:10:54.590 --> 00:10:57.770\nAnd that causes a problem, because\nwhen we've got a three-way mirror and\n\n236\n00:10:57.770 --> 00:10:58.880\nwe write our data,\n\n237\n00:10:58.880 --> 00:11:03.710\nall three copies have to commit before\nwe can move forward with the next write.\n\n238\n00:11:03.710 --> 00:11:07.615\nSo you're gonna operate at the slowest\nspeed of all of your servers.\n\n239\n00:11:07.615 --> 00:11:10.270\nNow, if they're all the same model,\nthat's not a problem.\n\n240\n00:11:10.270 --> 00:11:14.650\nBut if there's variations, then it\ndoes create a bit of a problem, right?\n\n241\n00:11:14.650 --> 00:11:16.100\nThe servers need memory.\n\n242\n00:11:16.100 --> 00:11:19.530\nThey're having to index all of this\ndata so that they can calculate parity,\n\n243\n00:11:19.530 --> 00:11:22.430\nso that they can do data deduplication and\nall that.\n\n244\n00:11:22.430 --> 00:11:26.230\nAnd the amount of memory you need is based\non the amount of storage you've got.\n\n245\n00:11:26.230 --> 00:11:30.370\nSo what Microsoft says is that for\nevery terabyte of storage you've got,\n\n246\n00:11:30.370 --> 00:11:34.880\nyou need four gigs of RAM in each server,\nnot total.\n\n247\n00:11:34.880 --> 00:11:38.389\nSo I have four servers, all four\nservers would need four gigs of RAM for\n\n248\n00:11:38.389 --> 00:11:40.890\neach terabyte of storage that I've got.\n\n249\n00:11:40.890 --> 00:11:41.640\nSo if you've got 20 terabytes,\n\n250\n00:11:41.640 --> 00:11:44.530\nyou're gonna need a lot of\nRAM to manage that, right?\n\n251\n00:11:44.530 --> 00:11:47.360\nAnd it's based on the daily\nduplication and other things.\n\n252\n00:11:47.360 --> 00:11:49.320\nSo it can get pretty high.\n\n253\n00:11:49.320 --> 00:11:50.760\nSo we do need to be aware of that.\n\n254\n00:11:50.760 --> 00:11:55.690\nBut then, it just tells us that after that\nthere's not a whole heck of requirements.\n\n255\n00:11:55.690 --> 00:12:00.870\nOn the networking side, you can actually\ndo this on a 100 megabit network adapters.\n\n256\n00:12:00.870 --> 00:12:02.060\nIt's a terrible idea.\n\n257\n00:12:02.060 --> 00:12:04.950\nYour storage will just stink,\nyou'll hate it, and it's not a great idea.\n\n258\n00:12:04.950 --> 00:12:07.530\nThey recommend a minimum\nof 10 gig adapters.\n\n259\n00:12:07.530 --> 00:12:09.590\nAnd more important,\nthey have this right here.\n\n260\n00:12:09.590 --> 00:12:13.150\nRecommended, we recommend that\nthe network adapters support RDMA,\n\n261\n00:12:13.150 --> 00:12:15.586\nRemote Direct Memory Access.\n\n262\n00:12:15.586 --> 00:12:19.727\nI will tell you that I've\nmessed with S2D a good bit, and\n\n263\n00:12:19.727 --> 00:12:24.404\nwhen you have RDMA, it's really slick,\nit works really well.\n\n264\n00:12:24.404 --> 00:12:27.652\nBecause of the caching,\nthe servers talk back and forth a lot, and\n\n265\n00:12:27.652 --> 00:12:29.020\nRDMA really helps.\n\n266\n00:12:29.020 --> 00:12:32.050\nIf you don't have RDMA, it is noticeable.\n\n267\n00:12:32.050 --> 00:12:34.490\nThe S2D cluster does not perform as well.\n\n268\n00:12:34.490 --> 00:12:36.440\nIn fact, the one I'm gonna build\nhere in this show is gonna be\n\n269\n00:12:36.440 --> 00:12:37.810\non a virtual environment.\n\n270\n00:12:37.810 --> 00:12:39.100\nAnd I won't have RDMA.\n\n271\n00:12:39.100 --> 00:12:42.420\nAnd so\nI'm not gonna be able to do any in my lab.\n\n272\n00:12:42.420 --> 00:12:45.597\nBut in a production world, I'll tell you\nright now, RDMA makes a huge difference.\n\n273\n00:12:45.597 --> 00:12:49.175\nI wish Microsoft would not say\nrecommend it here, but just say do it,\n\n274\n00:12:49.175 --> 00:12:50.480\nyou'll appreciate it.\n\n275\n00:12:50.480 --> 00:12:53.510\nBut not every network adapter has that.\n\n276\n00:12:53.510 --> 00:12:57.080\nSo it's a feature of the adapter,\nand you need it to make sure.\n\n277\n00:12:57.080 --> 00:13:00.920\nIf you wanna build a really solid\nS2D cluster, you'll want that.\n\n278\n00:13:00.920 --> 00:13:04.535\nAnd then after that comes the drives, and\nthe drives get a little bit confusing.\n\n279\n00:13:04.535 --> 00:13:07.410\nCuz Microsoft basically says you can\nuse pretty much whatever you want.\n\n280\n00:13:07.410 --> 00:13:12.440\nYou can have serial ATA, you can have\nserial attached SCSI, NVMe drives, right?\n\n281\n00:13:12.440 --> 00:13:13.645\nYou've got that variation.\n\n282\n00:13:13.645 --> 00:13:18.565\nWhat's more important is that\nthey're not in a RAID array, right?\n\n283\n00:13:18.565 --> 00:13:20.295\nYou don't want them to be in a RAID array.\n\n284\n00:13:20.295 --> 00:13:23.955\nAnd that they're telling you here,\nuse a separate dedicated drive for\n\n285\n00:13:23.955 --> 00:13:27.225\nthe operating system because these\nare not going to be in a RAID array.\n\n286\n00:13:27.225 --> 00:13:29.935\nAnd you don't want to use MPIO multi-path,\nright?\n\n287\n00:13:29.935 --> 00:13:32.355\nThese drives shouldn't be on a SAN,\nthat defeats the whole purpose.\n\n288\n00:13:32.355 --> 00:13:35.810\nIf you've got a SAN, just use the SAN,\nyou don't need S2D at that point.\n\n289\n00:13:35.810 --> 00:13:40.090\nBut the real confusing part comes\nto the amount of drives, all right?\n\n290\n00:13:40.090 --> 00:13:46.500\nAnd what they'll tell you is that in order\nto build this out in a way that functions,\n\n291\n00:13:46.500 --> 00:13:50.960\nyou need at least two drives per server,\nokay?\n\n292\n00:13:50.960 --> 00:13:54.290\nSo if I build a two node cluster,\nI need at least two drives in each.\n\n293\n00:13:54.290 --> 00:13:57.430\nSo I'm gonna need at least four\nhard drives in these servers.\n\n294\n00:13:57.430 --> 00:14:02.120\nAnd what they really recommend is that\nthere's at least four drives, okay?\n\n295\n00:14:02.120 --> 00:14:03.935\nSo notice the differentiation here.\n\n296\n00:14:03.935 --> 00:14:07.420\nThis one where they say at least\ntwo drives, it's saying if there\n\n297\n00:14:07.420 --> 00:14:12.480\nare drives used as cache, there needs\nto be at least two drives per server.\n\n298\n00:14:12.480 --> 00:14:17.420\nBut even if you're not doing cache,\nyou need to have four drives per server.\n\n299\n00:14:17.420 --> 00:14:19.710\nSo really, if we translate this,\n\n300\n00:14:19.710 --> 00:14:24.360\nwhat it means is you need four drives\nin every server no matter what.\n\n301\n00:14:24.360 --> 00:14:27.250\nAnd then if you want cache,\nyou need two more drives.\n\n302\n00:14:27.250 --> 00:14:31.790\nSo you could need as many as six drives\nin every server if you're doing cache.\n\n303\n00:14:31.790 --> 00:14:34.360\nAnd they do a better job of explaining\nit here in this table where,\n\n304\n00:14:34.360 --> 00:14:38.840\nif we've got all MVMe or all SSD,\nwe don't need the cache.\n\n305\n00:14:38.840 --> 00:14:41.790\nAnd so\nyou just do four drives in every server.\n\n306\n00:14:41.790 --> 00:14:44.171\nSo if I have four nodes,\nI've now get 16 drives.\n\n307\n00:14:44.171 --> 00:14:47.948\nIf I have 16,\nthen I would have 64 drives, right?\n\n308\n00:14:47.948 --> 00:14:49.147\nQuick math [LAUGH].\n\n309\n00:14:49.147 --> 00:14:50.380\nSo I'd have that.\n\n310\n00:14:50.380 --> 00:14:55.538\nBut if I do cache,\nsee how it'll would say like 2 MVMe and\n\n311\n00:14:55.538 --> 00:14:59.316\n4 SSD, or 2 MVMe and 4 HDD, like that?\n\n312\n00:14:59.316 --> 00:15:03.330\nI've got two cache drives, and\nfour capacity drives, right?\n\n313\n00:15:03.330 --> 00:15:05.410\nSo at a minimum,\n\n314\n00:15:05.410 --> 00:15:09.390\nyou're gonna need four drives per\nserver to build this out the right way.\n\n315\n00:15:09.390 --> 00:15:12.664\nNow, there's one big exception to this.\n\n316\n00:15:12.664 --> 00:15:15.456\nAnd the big exception, actually it's\nthis giant blue note right here,\n\n317\n00:15:15.456 --> 00:15:16.740\nif I bother to read the page.\n\n318\n00:15:16.740 --> 00:15:18.580\nIs if you're in a virtual environment.\n\n319\n00:15:18.580 --> 00:15:21.390\nIn a virtual environment,\nwhat are these drives?\n\n320\n00:15:21.390 --> 00:15:22.520\nThey're VHDs, right?\n\n321\n00:15:22.520 --> 00:15:25.560\nAnd we don't know if they're SSD,\nwe don't know if they're spinning disk.\n\n322\n00:15:25.560 --> 00:15:27.700\nIf you're deploying in Azure,\nthey're assisting anyway, right?\n\n323\n00:15:27.700 --> 00:15:29.740\nSo we don't need cache.\n\n324\n00:15:29.740 --> 00:15:30.840\nThey're SSD.\n\n325\n00:15:30.840 --> 00:15:36.040\nAnd since they're VHDs, on the backend,\nAzure is replicating that.\n\n326\n00:15:36.040 --> 00:15:39.090\nAzure is storing in more\nthan one fault domain.\n\n327\n00:15:39.090 --> 00:15:42.950\nAnd so the redundancy is kind\nof already there on the drives.\n\n328\n00:15:42.950 --> 00:15:45.699\nAnd so if you are running\na virtual environment, and\n\n329\n00:15:45.699 --> 00:15:49.333\nthis includes in your own local\nHyper-V as well, not just in Azure.\n\n330\n00:15:49.333 --> 00:15:53.347\nIf you are running in your own virtual\nenvironment like I'm gonna do here in\n\n331\n00:15:53.347 --> 00:15:56.650\nthe show, then you only need\ntwo drives per server, right?\n\n332\n00:15:56.650 --> 00:15:57.769\nThat's the one time you\nhave two drives per server.\n\n333\n00:15:57.769 --> 00:16:00.015\nYou still need two, not just one.\n\n334\n00:16:00.015 --> 00:16:04.602\nYou need two drives in each server, but\nit assumes that the VHDs will never fail.\n\n335\n00:16:04.602 --> 00:16:07.926\nBecause you've got something else\nthat's providing that redundancy.\n\n336\n00:16:07.926 --> 00:16:09.899\nSo in my case, I'm running on a Hyper-V.\n\n337\n00:16:09.899 --> 00:16:14.151\nIt's assuming that I'm doing something\nelse to make sure those VHDs survive, and\n\n338\n00:16:14.151 --> 00:16:14.949\nthat's true.\n\n339\n00:16:14.949 --> 00:16:20.415\nMy VHDs are sitting on a RAID 1 mirror,\nso they'll survive a drive failure.\n\n340\n00:16:20.415 --> 00:16:22.091\nI don't need that extra\nlevel of redundancy.\n\n341\n00:16:22.091 --> 00:16:24.349\nSo that's the one exception to this rule.\n\n342\n00:16:24.349 --> 00:16:26.294\nIf you wanna remove, that's easy.\n\n343\n00:16:26.294 --> 00:16:27.920\nFour drives per sever.\n\n344\n00:16:27.920 --> 00:16:30.138\nCache doesn't count, so that would\nbe two extra drives we won't cache.\n\n345\n00:16:30.138 --> 00:16:34.020\nIf you're on a virtual environment, you\ncan have as few as two drives per server.\n\n346\n00:16:34.020 --> 00:16:35.817\nThat's basically what we need to remember.\n\n347\n00:16:35.817 --> 00:16:39.502\nAfter that, the best host bus adapter\nyou could get to get the highest speed\n\n348\n00:16:39.502 --> 00:16:41.621\ncommunications in between your systems.\n\n349\n00:16:41.621 --> 00:16:46.480\nThat's gonna benefit you, especially\nif you have external drive enclosures.\n\n350\n00:16:46.480 --> 00:16:49.285\nYou wanna make sure you\ngot good speed there, but\n\n351\n00:16:49.285 --> 00:16:52.721\nreally just having a ten megabit,\ngigabit, ten gigabit.\n\n352\n00:16:52.721 --> 00:16:54.456\nLet me clarify, we're not in 1988.\n\n353\n00:16:54.456 --> 00:16:56.845\nA ten gigabit connection\nbetween my servers,\n\n354\n00:16:56.845 --> 00:16:59.794\nthat's going to really make\na big difference there too.\n\n355\n00:16:59.794 --> 00:17:02.059\nAnd if you could do 40 gigabit,\neven better.\n\n356\n00:17:02.059 --> 00:17:04.954\nBecause this is your storage network,\nit's gonna be a lot of IO.\n\n357\n00:17:04.954 --> 00:17:07.081\n&gt;&gt; All right, Don, I know what\nthe viewers are thinking out there.\n\n358\n00:17:07.081 --> 00:17:09.366\nYou've been kinda teasing them\nwith the environment here.\n\n359\n00:17:09.366 --> 00:17:13.086\nCan you show us how to get this\nconfigured, S2D configured and online?\n\n360\n00:17:13.086 --> 00:17:17.371\n&gt;&gt; All right, so first thing we need to\ndo is we need to verify that we've got\n\n361\n00:17:17.371 --> 00:17:18.930\nthe right stuff, right?\n\n362\n00:17:18.930 --> 00:17:20.490\nWe gotta have the right stuff to do S2D.\n\n363\n00:17:20.490 --> 00:17:23.920\nSo, first off,\nit is a part of Windows Server 2016.\n\n364\n00:17:23.920 --> 00:17:27.910\nIn Windows Server 2012 R2, there's\na technology called Storage Spaces.\n\n365\n00:17:27.910 --> 00:17:29.320\nThat's different, right?\n\n366\n00:17:29.320 --> 00:17:32.140\nThis is Storage Spaces Direct, S2D.\n\n367\n00:17:32.140 --> 00:17:34.228\nVery similar name, different technology.\n\n368\n00:17:34.228 --> 00:17:39.009\nSo we need to have a cluster that's\nbuilt up of Windows Server 2016 systems.\n\n369\n00:17:39.009 --> 00:17:41.539\nAnd I'm using the same cluster I've\nbeen using in the other shows.\n\n370\n00:17:41.539 --> 00:17:44.397\nBut I had to upgrade it a little bit\nbecause this is different than what we've\n\n371\n00:17:44.397 --> 00:17:44.897\nhad before.\n\n372\n00:17:44.897 --> 00:17:47.071\nSo I've actually bumped from two nodes,\n\n373\n00:17:47.071 --> 00:17:50.561\nwhich is what I've had in every\nother episode, to four nodes now.\n\n374\n00:17:50.561 --> 00:17:51.958\nSo I've got four nodes.\n\n375\n00:17:51.958 --> 00:17:55.891\nNODE01 through NODE04 are all\nsitting right there and happy, okay?\n\n376\n00:17:55.891 --> 00:17:57.510\nI still have my regular disks.\n\n377\n00:17:57.510 --> 00:17:58.649\nIf I go into my storage here,\n\n378\n00:17:58.649 --> 00:18:01.456\nI've got my regular cluster disks\nthat we've been using in the show.\n\n379\n00:18:01.456 --> 00:18:05.520\nWe made a quorum disk and a couple\nothers that we had stuck in there.\n\n380\n00:18:05.520 --> 00:18:08.155\nI'm gonna leave them there cuz\nwe can actually have a mixture.\n\n381\n00:18:08.155 --> 00:18:13.086\nYou could have shared storage as part of\na SAN and shared storage as part of S2D.\n\n382\n00:18:13.086 --> 00:18:15.460\nYou can mix them together if you want.\n\n383\n00:18:15.460 --> 00:18:18.820\nThey're technically separate, but\nthey're both a part of the cluster.\n\n384\n00:18:18.820 --> 00:18:22.050\nWhat I'm seeing here are the disks\nthat are on my SAN and\n\n385\n00:18:22.050 --> 00:18:23.970\nthey just show directly under Disks.\n\n386\n00:18:23.970 --> 00:18:27.460\nWhen we enable Storage Spaces Direct,\nit'll show up as a pool.\n\n387\n00:18:27.460 --> 00:18:30.892\nSo when I go under Pools,\nI'll see a storage pool and\n\n388\n00:18:30.892 --> 00:18:33.865\nthen I can create virtual\ndisks in that pool.\n\n389\n00:18:33.865 --> 00:18:35.606\nAnd when I create those virtual disks,\n\n390\n00:18:35.606 --> 00:18:37.830\nthey'll show up right here under Disks,\nright?\n\n391\n00:18:37.830 --> 00:18:39.957\nSo they'll ultimately show up here, but\n\n392\n00:18:39.957 --> 00:18:43.770\nas long as this pool is empty\nI don't Storage Spaces Direct.\n\n393\n00:18:43.770 --> 00:18:46.555\nOkay, now let's take a look\nat our individual servers.\n\n394\n00:18:46.555 --> 00:18:47.664\nNow I've got these.\n\n395\n00:18:47.664 --> 00:18:51.812\nThese are iSCSI connections, so\ntechnically all four of my nodes have\n\n396\n00:18:51.812 --> 00:18:56.328\niSCSI connections to this SAN,\nwhere they're able to access these disks.\n\n397\n00:18:56.328 --> 00:18:57.376\nThese are shared storage.\n\n398\n00:18:57.376 --> 00:19:01.067\nI don't need S2D,\nbecause they're already shared, right?\n\n399\n00:19:01.067 --> 00:19:05.217\nBut each server has some internal disks.\n\n400\n00:19:05.217 --> 00:19:07.739\nLet me get in\nthe Computer Management here.\n\n401\n00:19:07.739 --> 00:19:09.302\nSo I'm on NODE01.\n\n402\n00:19:09.302 --> 00:19:10.382\nI could do this on any node.\n\n403\n00:19:10.382 --> 00:19:11.406\nIt really wouldn't matter.\n\n404\n00:19:11.406 --> 00:19:14.676\nAnd if go into my Disk Management,\nI can take a look and\n\n405\n00:19:14.676 --> 00:19:17.450\nI'll see those iSCSI disks in here, right?\n\n406\n00:19:17.450 --> 00:19:20.890\nSo here's the 2 GB quorom disk.\n\n407\n00:19:20.890 --> 00:19:25.698\nHere's the 256 GB storage disk and\nanother 256 GB storage disk.\n\n408\n00:19:25.698 --> 00:19:27.828\nThose are the other two iSCSI disks.\n\n409\n00:19:27.828 --> 00:19:29.610\nAnd see how they show Reserved?\n\n410\n00:19:29.610 --> 00:19:32.678\nThat little note that says Reserved,\nthat's a good indicator for\n\n411\n00:19:32.678 --> 00:19:36.340\nme right there that those are being\nmanaged by the cluster, right?\n\n412\n00:19:36.340 --> 00:19:41.350\nBut up above it,\nI've got these two 500 GB disks, right?\n\n413\n00:19:41.350 --> 00:19:43.681\nAnd they're online, they're initialized.\n\n414\n00:19:43.681 --> 00:19:46.050\nThey don't have a partition on them but\nthey're there, right?\n\n415\n00:19:46.050 --> 00:19:47.102\nThis is local storage.\n\n416\n00:19:47.102 --> 00:19:49.942\nThese disks are directly\nattached to my system.\n\n417\n00:19:49.942 --> 00:19:52.820\nAll right, now I'm on Hyper-V, so\nthese are actually virtual disks.\n\n418\n00:19:52.820 --> 00:19:55.279\nBut either way, this would be the same\nthing if they were directly attached.\n\n419\n00:19:55.279 --> 00:19:58.323\nIf I was on actual hardware,\nI would need four disks, right?\n\n420\n00:19:58.323 --> 00:19:59.293\nSo I'd need to add more.\n\n421\n00:19:59.293 --> 00:20:02.138\nBut here I've got the two and\nthey're available locally.\n\n422\n00:20:02.138 --> 00:20:06.145\nNow when I'm in my\nFailover Cluster Manager, which I've lost.\n\n423\n00:20:06.145 --> 00:20:06.776\nHere it is.\n\n424\n00:20:06.776 --> 00:20:08.822\nI don't see those discs, right?\n\n425\n00:20:08.822 --> 00:20:11.490\nBecause the disks are tied\nto an individual resource.\n\n426\n00:20:11.490 --> 00:20:13.520\nThe disks I just showed\nyou are tied to NODE01.\n\n427\n00:20:13.520 --> 00:20:14.740\nNODE02 can't see them.\n\n428\n00:20:14.740 --> 00:20:15.780\nNODE03 can't see them.\n\n429\n00:20:15.780 --> 00:20:17.140\nNODE04 can't see them.\n\n430\n00:20:17.140 --> 00:20:18.975\nThey're invisible to the other nodes.\n\n431\n00:20:18.975 --> 00:20:22.459\nBut if you go up to nodes,\nand you click on a node.\n\n432\n00:20:22.459 --> 00:20:24.592\nI'll click on NODE01, right?\n\n433\n00:20:24.592 --> 00:20:27.118\nDown at the bottom, we've got a number\nof different things that you can see.\n\n434\n00:20:27.118 --> 00:20:29.146\nYou can see the disks\nthat are attached to it.\n\n435\n00:20:29.146 --> 00:20:31.997\nAnd here I see Cluster Disk 2,\nCluster Disk 3.\n\n436\n00:20:31.997 --> 00:20:36.551\nI don't see my quorum disk and that's\nbecause what output you see right here is\n\n437\n00:20:36.551 --> 00:20:39.117\ngonna vary based on who owns a disk,\nright?\n\n438\n00:20:39.117 --> 00:20:43.915\nIf I go back to Disks, see how Cluster\nDisk 1 is currently owned by NODE03?\n\n439\n00:20:43.915 --> 00:20:46.835\nAnd then these other two\ndisks are owned by NODE01.\n\n440\n00:20:46.835 --> 00:20:50.163\nSo that's why when I go into NODE01,\nwoops.\n\n441\n00:20:50.163 --> 00:20:52.470\nIf I go into the right folder here and\ngo into NODE01,\n\n442\n00:20:52.470 --> 00:20:54.290\nI'm only seeing those two disks, right?\n\n443\n00:20:54.290 --> 00:20:56.268\nBut I don't see my local storage, right?\n\n444\n00:20:56.268 --> 00:20:57.931\nBecause they're not cluster storage.\n\n445\n00:20:57.931 --> 00:20:59.818\nThat's all you're seeing here,\nis cluster storage.\n\n446\n00:20:59.818 --> 00:21:01.357\nIf I go to Pools, I don't have any pools.\n\n447\n00:21:01.357 --> 00:21:02.747\nBut if I go to Physical Disks,\n\n448\n00:21:02.747 --> 00:21:05.483\nhere's where things get\na little bit different, right?\n\n449\n00:21:05.483 --> 00:21:10.311\nUnder the physical disks, you may or\nmay not see your iSCSI and SAN disks here.\n\n450\n00:21:10.311 --> 00:21:12.230\nSometimes they turn up,\nsometimes they don't.\n\n451\n00:21:12.230 --> 00:21:16.675\nActually, it looks like one of my iSCSI\ndisk is showing up and not the other one.\n\n452\n00:21:16.675 --> 00:21:18.468\nI couldn't necessarily tell you why there,\nbut\n\n453\n00:21:18.468 --> 00:21:20.272\nthe important part here\nare the other two disks.\n\n454\n00:21:20.272 --> 00:21:21.551\nThat's what I wanted to show you.\n\n455\n00:21:21.551 --> 00:21:22.567\nIf I sort by bus type,\n\n456\n00:21:22.567 --> 00:21:25.677\nsee how I've got these two here\nthat show a Serial Attached SCSI?\n\n457\n00:21:25.677 --> 00:21:27.110\nLet me make that a little bit there.\n\n458\n00:21:27.110 --> 00:21:30.210\nSo these guys are Serial Attached SCSI,\nright?\n\n459\n00:21:30.210 --> 00:21:35.054\nThey're directly attached,\nthey're 500 GB disks, and they're healthy.\n\n460\n00:21:35.054 --> 00:21:35.847\nThey're up and they're going.\n\n461\n00:21:35.847 --> 00:21:40.666\nThe only negative they've got is that\nthey're just attached to this one node.\n\n462\n00:21:40.666 --> 00:21:42.794\nWhen we enable Storage Spaces Direct,\n\n463\n00:21:42.794 --> 00:21:45.697\nall the sudden it's gonna\nlook at these local disks.\n\n464\n00:21:45.697 --> 00:21:48.427\nAnd it's going to look at NODE01,\n02, 03, and 04 and\n\n465\n00:21:48.427 --> 00:21:50.680\nit's gonna say,\nyou guys all have local disks.\n\n466\n00:21:50.680 --> 00:21:56.920\nLet's make a pool, so it will make a pool\nright here that will contain those disks.\n\n467\n00:21:56.920 --> 00:21:59.720\nAnd the pool will be\nvisible on every node.\n\n468\n00:21:59.720 --> 00:22:04.280\nIt's really weird because after we turn\nit on, I'll be able to go to Nodes.\n\n469\n00:22:04.280 --> 00:22:07.630\nAnd I'll go to NODE01 and\nwhen I look at the physical disks,\n\n470\n00:22:07.630 --> 00:22:12.210\nI won't see two 500 GB disks,\nI'll see eight 500 GB disks.\n\n471\n00:22:12.210 --> 00:22:16.160\nI'll show all the local disks from\neach server as being present right\n\n472\n00:22:16.160 --> 00:22:18.460\nhere on this system, right?\n\n473\n00:22:18.460 --> 00:22:22.160\nAnd to do it, well, I wish I could say\nit was like a little check mark, but\n\n474\n00:22:22.160 --> 00:22:24.480\nthey haven't added it to the GUI here yet.\n\n475\n00:22:24.480 --> 00:22:27.300\nSo I actually have to go to\nPowerShell to get this enabled.\n\n476\n00:22:27.300 --> 00:22:29.400\nIf you go into Pools here\nto create a regular pool,\n\n477\n00:22:29.400 --> 00:22:33.410\nthis is actually talking about a Storage\nSpaces pool and that's not what I want.\n\n478\n00:22:33.410 --> 00:22:35.881\nI want Storage Spaces Direct and\nthat's different.\n\n479\n00:22:35.881 --> 00:22:40.914\nSo I'm gonna fire up a PowerShell and\nI'm gonna run it as an administrator.\n\n480\n00:22:40.914 --> 00:22:42.386\nThat's kind of important.\n\n481\n00:22:42.386 --> 00:22:44.742\nWhen you've got a cluster\nset up like this,\n\n482\n00:22:44.742 --> 00:22:48.060\nI'm making a change that affects\nmore than one cluster node.\n\n483\n00:22:48.060 --> 00:22:50.150\nSo I need to make sure that\nI'm an administrator so\n\n484\n00:22:50.150 --> 00:22:53.740\nI can affect that change across\nthe different systems, all right?\n\n485\n00:22:53.740 --> 00:22:55.316\nAnd then the command that I wanna run,\n\n486\n00:22:55.316 --> 00:22:58.827\nif you look around online there's actually\ntwo different versions of the command.\n\n487\n00:22:58.827 --> 00:23:03.687\nThere's the original version that\nwas part of the technical preview,\n\n488\n00:23:03.687 --> 00:23:05.961\nwhich is Enable-ClusterS2D.\n\n489\n00:23:05.961 --> 00:23:07.023\nThat command right there,\n\n490\n00:23:07.023 --> 00:23:10.240\nthat's the original one that was\npart of the technical preview.\n\n491\n00:23:10.240 --> 00:23:12.755\nThat one's actually been\nreplaced with the now longer\n\n492\n00:23:12.755 --> 00:23:15.440\nEnable-ClusterStorageSpacesDirect.\n\n493\n00:23:15.440 --> 00:23:16.140\nThey both work.\n\n494\n00:23:16.140 --> 00:23:17.540\nThey both do the same thing.\n\n495\n00:23:17.540 --> 00:23:20.460\nI don't know how long they're gonna\nkeep the shorter command around.\n\n496\n00:23:20.460 --> 00:23:21.996\nThey might keep it forever,\nfor all I know.\n\n497\n00:23:21.996 --> 00:23:25.218\nBut the official command\nis this guy right here,\n\n498\n00:23:25.218 --> 00:23:28.607\nEnable-ClusterStorageSpacesDirect, right?\n\n499\n00:23:28.607 --> 00:23:33.671\nAnd when you run that, I'm on NODE01, so\nit knows the cluster that I'm working on.\n\n500\n00:23:33.671 --> 00:23:35.460\nLet's say I was running this\non a different machine.\n\n501\n00:23:35.460 --> 00:23:37.649\nMaybe I'm just on my workstation and\nI'm running it.\n\n502\n00:23:37.649 --> 00:23:41.706\nThen I would need to follow\nthis up with a cluster name, so\n\n503\n00:23:41.706 --> 00:23:44.846\nI've got cluster01.lab.itpro.tv.\n\n504\n00:23:44.846 --> 00:23:47.160\nI would just need to tell it\nthe cluster name as well, okay?\n\n505\n00:23:47.160 --> 00:23:49.992\nI'm running it on a cluster node,\nso I can leave that part off, but\n\n506\n00:23:49.992 --> 00:23:51.890\nI just wanna let you know that.\n\n507\n00:23:51.890 --> 00:23:54.392\nAnd when you run it,\nit's gonna do something interesting.\n\n508\n00:23:54.392 --> 00:23:59.283\nIt's gonna inventory the local disks\non each machine and it's gonna look for\n\n509\n00:23:59.283 --> 00:24:00.420\neligible disks.\n\n510\n00:24:00.420 --> 00:24:05.115\nNow if I didn't already have a SAN,\nthis would run super smooth.\n\n511\n00:24:05.115 --> 00:24:06.284\nNo big deal, right?\n\n512\n00:24:06.284 --> 00:24:07.572\nBut I've already got a SAN.\n\n513\n00:24:07.572 --> 00:24:12.490\nI've got a quorum disk and\nI've got two SanDisks that are present.\n\n514\n00:24:12.490 --> 00:24:16.620\nIt's gonna look at those, and it's\ngonna say, hi, can I add those to S2D?\n\n515\n00:24:16.620 --> 00:24:19.858\nAnd if I've got RAID array,\nit would look at that and say hey,\n\n516\n00:24:19.858 --> 00:24:21.052\ncan I add that to S2D?\n\n517\n00:24:21.052 --> 00:24:22.811\nAnd the answer's no, it can't, right?\n\n518\n00:24:22.811 --> 00:24:24.240\nSo they're going to fail.\n\n519\n00:24:24.240 --> 00:24:26.860\nSo when I run this, I'm going to\nsee a bunch of warnings, right?\n\n520\n00:24:26.860 --> 00:24:29.150\nThey're not failures, they're warnings.\n\n521\n00:24:29.150 --> 00:24:32.390\nThe warnings are telling me that it\nfound some disks that won't work in S2D.\n\n522\n00:24:32.390 --> 00:24:33.700\nAnd it's those SAN disks.\n\n523\n00:24:33.700 --> 00:24:35.160\nAnd that's fine.\n\n524\n00:24:35.160 --> 00:24:37.816\nAnd then it's gonna find the local disks,\nand they will work, and\n\n525\n00:24:37.816 --> 00:24:39.260\nit'll incorporate those.\n\n526\n00:24:39.260 --> 00:24:42.580\nSo when I run this,\nit's gonna basically kick that off.\n\n527\n00:24:42.580 --> 00:24:45.860\nIt doesn't take too terribly wrong\nto communicate to the nodes and\n\n528\n00:24:45.860 --> 00:24:47.670\nfind the disks, right?\n\n529\n00:24:47.670 --> 00:24:50.240\nBut then, it's gonna give me a warning.\n\n530\n00:24:50.240 --> 00:24:54.022\nAnd the warning is going to say are you\nsure you wanna create a pool across\n\n531\n00:24:54.022 --> 00:24:54.600\nthese disks?\n\n532\n00:24:54.600 --> 00:24:59.350\nBecause any data on the disk\nis going to get erased, right?\n\n533\n00:24:59.350 --> 00:25:01.270\nSo that's my only warning.\n\n534\n00:25:01.270 --> 00:25:03.310\nBut here, I get these messages, and\n\n535\n00:25:03.310 --> 00:25:05.490\nlet me just kinda highlight\nwhat these are, right?\n\n536\n00:25:05.490 --> 00:25:08.200\nRemember, I said I have a quorum disk and\n\n537\n00:25:08.200 --> 00:25:11.396\nI have two SanDisks that\nare just cluster storage.\n\n538\n00:25:11.396 --> 00:25:12.990\nThere are three disks that are available.\n\n539\n00:25:12.990 --> 00:25:15.400\nAll four servers can see\nthose three disks, so\n\n540\n00:25:15.400 --> 00:25:18.460\nI get three warnings on each server.\n\n541\n00:25:18.460 --> 00:25:21.310\nAnd if you look really closely here,\nyou can spot the issue.\n\n542\n00:25:21.310 --> 00:25:24.370\nSo I've got NODE02, three errors.\n\n543\n00:25:24.370 --> 00:25:25.109\nNODE01, three errors.\n\n544\n00:25:25.109 --> 00:25:25.906\nNODE03, three errors.\n\n545\n00:25:25.906 --> 00:25:26.434\nNODE04.\n\n546\n00:25:26.434 --> 00:25:28.550\nAnd they're not errors, again,\nthey're warnings, right?\n\n547\n00:25:28.550 --> 00:25:30.380\nAnd if we look,\nit's just saying disk not claimed.\n\n548\n00:25:30.380 --> 00:25:33.780\nWe couldn't claim a disk into S2D because\nit was already used for something.\n\n549\n00:25:33.780 --> 00:25:35.865\nAnd if you look at the GUIDs over here.\n\n550\n00:25:35.865 --> 00:25:39.173\nSee how I've got this 8f88 blah,\nblah, blah?\n\n551\n00:25:39.173 --> 00:25:40.721\nAnd then 8f88, 8f88?\n\n552\n00:25:40.721 --> 00:25:42.315\nIt's the same.\n\n553\n00:25:42.315 --> 00:25:45.185\nIt's the same disk appearing on each node.\n\n554\n00:25:45.185 --> 00:25:47.675\nThat's what you'll see when you're\nattached to a SAN if you're\n\n555\n00:25:47.675 --> 00:25:48.685\nmixing storage.\n\n556\n00:25:48.685 --> 00:25:51.295\nIf you're not mixing storage, you don't\nsee that, these warnings don't pop up.\n\n557\n00:25:51.295 --> 00:25:52.800\nSo I just wanted to explain those away.\n\n558\n00:25:52.800 --> 00:25:55.180\nAnd then here it's giving\nme the big warning.\n\n559\n00:25:55.180 --> 00:25:56.365\nAre you sure you wanna do this,\n\n560\n00:25:56.365 --> 00:25:59.180\ncuz you are about to lose any\ndata that was on those disks?\n\n561\n00:25:59.180 --> 00:26:05.810\nNow, if I had SSD, and if I had spinning\ndisks, it would recognize that,\n\n562\n00:26:05.810 --> 00:26:08.930\nand it would set up the cache and\nthe capacity for me, right?\n\n563\n00:26:08.930 --> 00:26:12.130\nI'm gonna say A,\njust yes to all and let it run.\n\n564\n00:26:12.130 --> 00:26:14.445\nNow, I don't have SSD in mine, right?\n\n565\n00:26:14.445 --> 00:26:15.590\nCuz they're virtual machines.\n\n566\n00:26:15.590 --> 00:26:17.600\nI can't create virtual SSDs.\n\n567\n00:26:17.600 --> 00:26:21.310\nThe VHDs might be sitting on SSDs,\nbut it doesn't know that, right?\n\n568\n00:26:21.310 --> 00:26:23.351\nSo I just have regular capacity disks.\n\n569\n00:26:23.351 --> 00:26:25.850\nSo I'll also get some warnings\nwhen this is all said and\n\n570\n00:26:25.850 --> 00:26:29.220\ndone where it tells me hey,\nwe couldn't find any cache to add.\n\n571\n00:26:29.220 --> 00:26:30.340\nAnd I should get four warnings.\n\n572\n00:26:30.340 --> 00:26:33.020\nOne warning for each server saying\nit couldn't find the cache.\n\n573\n00:26:33.020 --> 00:26:35.490\nBut it does set up the capacity.\n\n574\n00:26:35.490 --> 00:26:37.010\nIf you have the cache,\nyou don't get those warnings.\n\n575\n00:26:37.010 --> 00:26:39.020\nSo just be aware that\nthose aren't failures.\n\n576\n00:26:39.020 --> 00:26:41.660\nIt's just letting you know,\nhey, I couldn't set up cache.\n\n577\n00:26:41.660 --> 00:26:45.620\nAnd you could always set up cache later\non if you wanted, if something changed.\n\n578\n00:26:45.620 --> 00:26:49.530\nBut in most deployments where\nthe VHDs are stored on SSDs already,\n\n579\n00:26:49.530 --> 00:26:51.210\nwe don't need the cache.\n\n580\n00:26:51.210 --> 00:26:54.910\nNow, what it's doing right now\nis it's claiming each disk.\n\n581\n00:26:54.910 --> 00:26:56.160\nIt's building a pool.\n\n582\n00:26:56.160 --> 00:26:59.620\nThe pool probably already shows up right\nnow, but I don't wanna mess with it.\n\n583\n00:26:59.620 --> 00:27:01.070\nYou wanna give it some time here.\n\n584\n00:27:01.070 --> 00:27:04.920\nBut it's gonna find each disk,\nit's gonna incorporate them into S2D,\n\n585\n00:27:04.920 --> 00:27:09.410\nand it's going to do what's\ncalled surfacing them.\n\n586\n00:27:09.410 --> 00:27:12.890\nIt's gonna be spreading\na special file system\n\n587\n00:27:12.890 --> 00:27:16.780\nacross those disks to get\nthem ready to be used, right?\n\n588\n00:27:16.780 --> 00:27:19.130\nAnd that file system is ReFS, right?\n\n589\n00:27:19.130 --> 00:27:24.020\nReFS with a Resilient File System is\nthe new file system from Microsoft\n\n590\n00:27:24.020 --> 00:27:26.660\nthat is designed specifically for\nscenarios like this.\n\n591\n00:27:26.660 --> 00:27:31.069\nAnd depending on the size of your disks,\nthis can take a long time.\n\n592\n00:27:31.069 --> 00:27:35.920\nI've got eight 500-gig disks, so\nI've got four terabytes of storage.\n\n593\n00:27:35.920 --> 00:27:41.063\nWell, those for terabytes are gonna take\na while to format out and get ready.\n\n594\n00:27:41.063 --> 00:27:44.973\nI shouldn't use the word format because\nhaving created the virtual disks yet.\n\n595\n00:27:44.973 --> 00:27:45.969\nIt's just a pool, right?\n\n596\n00:27:45.969 --> 00:27:47.274\nIt's not a true format.\n\n597\n00:27:47.274 --> 00:27:49.120\nBut it is getting it ready for that.\n\n598\n00:27:49.120 --> 00:27:51.640\nThis process can take a long time, so\n\n599\n00:27:51.640 --> 00:27:55.330\nyou wanna start it,\njust kinda let it run and do its thing.\n\n600\n00:27:55.330 --> 00:27:58.930\nAnd then after it's done,\nthen we come back and\n\n601\n00:27:58.930 --> 00:28:01.140\nwe can actually get the disks created and\nso on.\n\n602\n00:28:01.140 --> 00:28:04.486\nBut, Wes, I know looking at the clock\nI don't have a ton of time left.\n\n603\n00:28:04.486 --> 00:28:06.570\nActually it just finished.\n\n604\n00:28:06.570 --> 00:28:08.655\nI was ready for\nthis to take a heck of a lot longer.\n\n605\n00:28:08.655 --> 00:28:13.470\n[LAUGH] Sometimes that happen,\nI guess, let me throw this in.\n\n606\n00:28:13.470 --> 00:28:15.090\nWhen you're running in\na virtual environment,\n\n607\n00:28:15.090 --> 00:28:18.610\nthings can tend to go a little faster than\nwhen you're in a physical environment.\n\n608\n00:28:18.610 --> 00:28:21.450\nSo in my case,\nit just happened to turn along.\n\n609\n00:28:21.450 --> 00:28:22.790\nI got my warnings right here.\n\n610\n00:28:22.790 --> 00:28:26.150\nNo disks to be found used for cache,\nbut otherwise it finished surfacing and\n\n611\n00:28:26.150 --> 00:28:27.612\nI'm probably in business.\n\n612\n00:28:27.612 --> 00:28:30.090\n&gt;&gt; All right, Don, so\nnow that you've got that pool there,\n\n613\n00:28:30.090 --> 00:28:32.990\ndo we have enough time just to\nverify that the pool exists?\n\n614\n00:28:32.990 --> 00:28:34.211\n&gt;&gt; Just real quick.\n\n615\n00:28:34.211 --> 00:28:36.950\nI think I had more that I needed\nto show you in here, and so\n\n616\n00:28:36.950 --> 00:28:38.690\nwe'll probably have to\nmove into a part two.\n\n617\n00:28:38.690 --> 00:28:40.960\nBut just so we have some\ncompleteness here in this episode,\n\n618\n00:28:40.960 --> 00:28:44.810\nif I want to make sure that it actually\nworked, it did give me a little HTML file\n\n619\n00:28:44.810 --> 00:28:48.040\nhere with a log that I can go to view and\nsee what's up.\n\n620\n00:28:48.040 --> 00:28:51.210\nBut the real way we know it works is\nif we jump back into our fail-over\n\n621\n00:28:51.210 --> 00:28:54.300\ncluster manager and\nyou take a look at pools.\n\n622\n00:28:54.300 --> 00:28:55.120\nI've got a pool.\n\n623\n00:28:55.120 --> 00:28:56.820\nI've got cluster pool 01.\n\n624\n00:28:56.820 --> 00:29:01.750\nAnd if I take an individual node,\nif I take a look at a node like NODE01,\n\n625\n00:29:01.750 --> 00:29:03.240\nand I look at the physical discs.\n\n626\n00:29:03.240 --> 00:29:05.340\nI might have to hit Refresh over here for\nit to happen.\n\n627\n00:29:05.340 --> 00:29:09.120\nBut when it refreshes,\nNODE01 only saw three discs before.\n\n628\n00:29:09.120 --> 00:29:10.156\nNow it sees a lot more.\n\n629\n00:29:10.156 --> 00:29:11.798\nAnd if I sort by bus type,\n\n630\n00:29:11.798 --> 00:29:17.212\nlook at all these serial attached SCSI\ndisks that weren't there before, right?\n\n631\n00:29:17.212 --> 00:29:23.590\nNow NODE01 is seeing the SAS\ndisk in all four nodes as local.\n\n632\n00:29:23.590 --> 00:29:26.150\nAnd if I looked at any the other nodes,\nthey would see the same thing.\n\n633\n00:29:26.150 --> 00:29:27.658\nIf I went to NODE02, NODE03,\n\n634\n00:29:27.658 --> 00:29:31.610\nNODE04, they would all be seeing these\neight disks laid out just like this.\n\n635\n00:29:31.610 --> 00:29:34.530\nSo I know the storage space is direct,\nit's enabled.\n\n636\n00:29:34.530 --> 00:29:36.500\nI know it created the pool.\n\n637\n00:29:36.500 --> 00:29:41.900\nAnd now the disks are ready for me to\nmake use of if I know what I wanna do.\n\n638\n00:29:41.900 --> 00:29:43.850\n&gt;&gt; Yeah, Don, that's amazing technology.\n\n639\n00:29:43.850 --> 00:29:46.980\nI know a little bit about it on the client\nside, and it's just amazing to see that\n\n640\n00:29:46.980 --> 00:29:49.940\nall the stuff that they put into\nthe product that's within the server.\n\n641\n00:29:49.940 --> 00:29:52.330\nNow, like you mentioned,\nwe still have additional configurations.\n\n642\n00:29:52.330 --> 00:29:55.460\nBut we don't have enough time in this\nepisode, so we'll go ahead and stop here.\n\n643\n00:29:55.460 --> 00:29:58.730\nBut before we do, do you have any\nadditional thoughts or considerations\n\n644\n00:29:58.730 --> 00:30:02.030\nwhen it comes to just some of the features\nand the initial configuration of S2D?\n\n645\n00:30:02.030 --> 00:30:05.880\n&gt;&gt; I guess one thing I want to stress is\nthe use case scenario for this, that, for\n\n646\n00:30:05.880 --> 00:30:09.010\nme, in a physical environment,\nif you've got the resources,\n\n647\n00:30:09.010 --> 00:30:10.950\na SAN is going to give\nyou better performance.\n\n648\n00:30:10.950 --> 00:30:11.980\nThat's what you want.\n\n649\n00:30:11.980 --> 00:30:16.097\nBut there are some on-premises scenarios\nwhere S2D can actually be beneficial,\n\n650\n00:30:16.097 --> 00:30:17.910\nespecially for small SANs.\n\n651\n00:30:17.910 --> 00:30:19.070\nOr for small clusters.\n\n652\n00:30:19.070 --> 00:30:20.675\nBut in a virtual environment,\n\n653\n00:30:20.675 --> 00:30:24.935\nS2D may be your only choice if you want to\nhave some kind of shared storage to create\n\n654\n00:30:24.935 --> 00:30:28.851\nyour own cluster in a virtual environment\nlike Azure or on top of Hyper-V.\n\n655\n00:30:28.851 --> 00:30:30.672\nAnd that's where S2D really shines.\n\n656\n00:30:30.672 --> 00:30:33.570\nSo just be aware that S2D\nkind of has two faces, right?\n\n657\n00:30:33.570 --> 00:30:36.580\nThe bare metal face and\nthe virtual machine type face.\n\n658\n00:30:36.580 --> 00:30:38.810\nAnd each one has a different\nuse case scenario.\n\n659\n00:30:38.810 --> 00:30:39.330\n&gt;&gt; All right, Don.\n\n660\n00:30:39.330 --> 00:30:40.750\nWell, that's a great place to sign out.\n\n661\n00:30:40.750 --> 00:30:43.980\nWe appreciate you being here, and\nwe appreciate you the viewer watching.\n\n662\n00:30:43.980 --> 00:30:45.480\nRemember, you can watch this episode and\n\n663\n00:30:45.480 --> 00:30:49.240\nthousands of hours of additional content\nby jumping over to our course library.\n\n664\n00:30:49.240 --> 00:30:53.140\nUntil we see you again, signing out for\nITProTV, I've been your host Wes Bryan.\n\n665\n00:30:53.140 --> 00:30:53.680\n&gt;&gt; And I'm Don Pezet.\n\n666\n00:30:53.680 --> 00:30:54.783\n&gt;&gt; And we'll see you next time.\n\n667\n00:30:56.422 --> 00:31:02.392\n[MUSIC]\n\n668\n00:31:02.392 --> 00:31:05.303\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "239465096"
        },
        {
          "description": "In this episode, Don icontinues working with Storage Spaces Direct (S2D), a new feature in Windows Server 2016. He begins by demonstrating how to verify S2D is configured correctly. He then moves on to demonstrate how to add virtual disks to a S2D pool and make them available for cluster role storage.",
          "length": "1293",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-5-2-storage_spaces_direct_pt2_RESHOOT-101917-PGM.00_22_08_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-5-2-storage_spaces_direct_pt2_RESHOOT-101917-PGM.00_22_08_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-5-2-storage_spaces_direct_pt2_RESHOOT-101917-PGM.00_22_08_20.Still001-sm.jpg",
          "title": "Storage Spaces Direct (S2D) Part 2",
          "transcript": "",
          "vimeoId": "239463215"
        },
        {
          "description": "In this episode, Don explains how to deploy Hyper-V virtual machines in a Windows Server 2016 Failover Cluster. He walks through the different storage models available for a Hyper-V cluster and then demonstrates deploying a highly-available VM.",
          "length": "2022",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-6-1-hyper_v_clusters-102017-PGM.00_33_29_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-6-1-hyper_v_clusters-102017-PGM.00_33_29_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-6-1-hyper_v_clusters-102017-PGM.00_33_29_00.Still001-sm.jpg",
          "title": "Hyper-V Clusters",
          "transcript": "",
          "vimeoId": "239464726"
        },
        {
          "description": "In this episode, Don continues working with Hyper-V and Failover Clustering on Windows Server 2016. He demonstrated how to import stand-alone VMs into a Hyper-V cluster. He also demonstrates the three types of migrations available in a Hyper-V cluster: live migration, quick migration, and storage migration.",
          "length": "1767",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-6-2-hyper-v-clusters_pt2-102017-PGM.00_32_39_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-6-2-hyper-v-clusters_pt2-102017-PGM.00_32_39_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-6-2-hyper-v-clusters_pt2-102017-PGM.00_32_39_20.Still001-sm.jpg",
          "title": "Hyper-V Clusters Part 2",
          "transcript": "",
          "vimeoId": "239463838"
        },
        {
          "description": "In this episode, Daniel and Mike explore some of the High-Availability Disaster Recovery(HADR) options found in Hyper-V. They begin by implementing Hyper-V Replicas to mitigate server loss down time. Next they start the setup for a live migration, which allows you to move a virtual machine to a new Hyper-V server while the VM is running.",
          "length": "1815",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-1-1-implement_HADR_option_in_hyper-v-111416-high.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-1-1-implement_HADR_option_in_hyper-v-111416-high-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-1-1-implement_HADR_option_in_hyper-v-111416-high-sm.jpg",
          "title": "Implement HADR Option in Hyper-V",
          "transcript": "WEBVTT\n\n1\n00:00:00.047 --> 00:00:01.591\nWelcome back to ITProTV.\n\n2\n00:00:01.591 --> 00:00:03.517\n[CROSSTALK].\n\n3\n00:00:03.517 --> 00:00:05.618\nLive from San Francisco, California.\n\n4\n00:00:05.618 --> 00:00:08.568\n[MUSIC]\n\n5\n00:00:08.568 --> 00:00:12.670\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.670 --> 00:00:14.020\n&gt;&gt; All right.\nGreetings everyone.\n\n7\n00:00:14.020 --> 00:00:16.400\nWelcome to another exciting\nepisode of ITProTV.\n\n8\n00:00:16.400 --> 00:00:19.380\nI'm your host, Daniel Lowrie,\nand in todays episode,\n\n9\n00:00:19.380 --> 00:00:22.180\nwe are continuing on with the,\nwell, you know what it is.\n\n10\n00:00:22.180 --> 00:00:25.000\nIt's our good old installation,\nstorage and compute series for\n\n11\n00:00:25.000 --> 00:00:26.940\nWindows Server 2016.\n\n12\n00:00:26.940 --> 00:00:31.180\nAnd joining me in the studio today, a man\nthat looks great in grey, our good friend,\n\n13\n00:00:31.180 --> 00:00:32.002\nMr Mike Rodrick.\n\n14\n00:00:32.002 --> 00:00:32.785\nMike, welcome back.\n\n15\n00:00:32.785 --> 00:00:33.596\n&gt;&gt; Same to you, sir.\n\n16\n00:00:33.596 --> 00:00:34.720\nNice shirt.\n\n17\n00:00:34.720 --> 00:00:35.840\nYeah. Thank you.\n&gt;&gt; You're a snazzy dresser, Mike Rodrick.\n\n18\n00:00:35.840 --> 00:00:36.441\n&gt;&gt; Thanks.\n\n19\n00:00:36.441 --> 00:00:37.608\nI take it after you.\n\n20\n00:00:37.608 --> 00:00:39.930\n[LAUGH] Thanks for\nhaving me back, glad to be here.\n\n21\n00:00:39.930 --> 00:00:44.940\nWe are, today we're looking at Hyper-V,\nhigh availability,\n\n22\n00:00:44.940 --> 00:00:48.225\ndisaster recovery or HADR?\n\n23\n00:00:48.225 --> 00:00:50.070\n&gt;&gt; [LAUGH]\n&gt;&gt; I like this abbreviation,\n\n24\n00:00:50.070 --> 00:00:50.970\nI had no idea what it meant.\n\n25\n00:00:50.970 --> 00:00:53.160\nI was like, wait,\nthey started using this in documentation,\n\n26\n00:00:53.160 --> 00:00:55.040\nI was like, I've never heard of HADR.\n\n27\n00:00:55.040 --> 00:00:57.350\nDon't know if I'm living under a rock.\n\n28\n00:00:57.350 --> 00:00:59.820\nBut obviously I've heard\nof high availability and\n\n29\n00:00:59.820 --> 00:01:02.710\ndisaster recovery never heard\nthem abbreviated like that.\n\n30\n00:01:02.710 --> 00:01:06.560\nSo, when you see HADR,\nHigh Availability Disaster Recovery,\n\n31\n00:01:06.560 --> 00:01:10.070\nyou might have see it in our show title,\nbecause high availability disaster\n\n32\n00:01:10.070 --> 00:01:13.365\nrecovery won't fit across\nthe bottom of our screen there.\n\n33\n00:01:13.365 --> 00:01:15.720\n[LAUGH]\n&gt;&gt; Well, we try [LAUGH]\n\n34\n00:01:15.720 --> 00:01:16.829\n&gt;&gt; We can use a smaller font,\n\n35\n00:01:16.829 --> 00:01:18.499\nyou have get out the magnifying glass.\n\n36\n00:01:18.499 --> 00:01:23.020\nBut anyway, in all series, as you know\nHyper-V gives us Several different methods\n\n37\n00:01:23.020 --> 00:01:27.350\nthat we can use to provide a high\navailability and or disaster recovery.\n\n38\n00:01:27.350 --> 00:01:29.050\nAnd, we're gonna go through\na few different methods.\n\n39\n00:01:29.050 --> 00:01:31.580\nSo this will span over\na couple of episodes here.\n\n40\n00:01:31.580 --> 00:01:35.540\nThe first one I wanna look at\nis simply Hyper-V Replica.\n\n41\n00:01:35.540 --> 00:01:39.440\nIt's one of the more simple solutions Yet\n\n42\n00:01:39.440 --> 00:01:42.240\nit provides some pretty\ngood functionality.\n\n43\n00:01:42.240 --> 00:01:46.270\nAnd all we're gonna do is we're gonna\ntake a virtual machine that's running on\n\n44\n00:01:46.270 --> 00:01:50.960\na Hyper-V server, and we're going to\nreplicate it to another Hyper-V server.\n\n45\n00:01:50.960 --> 00:01:55.650\nWhen changes are made to that virtual\nmachine, those changes will be obviously\n\n46\n00:01:55.650 --> 00:02:00.420\nmade on the virtual machine itself, but\nalso replicated to the replica server.\n\n47\n00:02:00.420 --> 00:02:03.920\nThe one that's hosting\nthe replica of that VM.\n\n48\n00:02:03.920 --> 00:02:07.734\nAnd then in the event of failure,\nnothing fails over.\n\n49\n00:02:07.734 --> 00:02:08.486\nAll right.\n\n50\n00:02:08.486 --> 00:02:10.783\nIt's not like a cluster or\nanything like that.\n\n51\n00:02:10.783 --> 00:02:15.385\nWhat's gonna happen is your VM goes down,\nand we can begin to use the replica.\n\n52\n00:02:15.385 --> 00:02:20.100\nNow we might have to do a little bit\nof reconfiguration or some DNS updates.\n\n53\n00:02:20.100 --> 00:02:22.570\nI say updates,\nI mean your changes in the DNS records\n\n54\n00:02:22.570 --> 00:02:25.930\nto make sure voice pointed to\nthe new replica of that machine.\n\n55\n00:02:27.620 --> 00:02:29.920\nBut other than that,\nwe should be good to go.\n\n56\n00:02:29.920 --> 00:02:32.310\nWe can fix the old Hyper-V server and\n\n57\n00:02:32.310 --> 00:02:36.640\nwe can then migrate that machine back\nto the original Hyper-V server or\n\n58\n00:02:36.640 --> 00:02:39.480\nsimply leave it where it is and\njust kinda reverse the roles, right?\n\n59\n00:02:39.480 --> 00:02:43.070\nYou had one that was hosting it, one\nthat's acting as a replica just storing\n\n60\n00:02:43.070 --> 00:02:48.270\nthe backup of it and then it fail so now\nthis one's hosting the virtual machine.\n\n61\n00:02:48.270 --> 00:02:51.520\nWell, when you finally fix this one,\njust make him the replica server.\n\n62\n00:02:51.520 --> 00:02:52.870\nNow this guy's hosting everything,\n\n63\n00:02:52.870 --> 00:02:55.490\nall changes go here\nreplicating to the other guy.\n\n64\n00:02:55.490 --> 00:02:57.670\nAnd, if he fails, well,\nthis guy can take over, right?\n\n65\n00:02:57.670 --> 00:02:59.760\nSo, you can dot it either way you wanted.\n\n66\n00:02:59.760 --> 00:03:00.980\nIf you want that method though,\n\n67\n00:03:00.980 --> 00:03:03.430\nyou do have to make sure\nyou set it up on both ends.\n\n68\n00:03:03.430 --> 00:03:04.350\nRight?\nWhen I go through this\n\n69\n00:03:04.350 --> 00:03:06.220\nexercise I'll point it out again.\n\n70\n00:03:06.220 --> 00:03:10.040\nWe're gonna set up one of my\nHyper-V servers as a Replica Server\n\n71\n00:03:10.040 --> 00:03:11.140\nto host that replica.\n\n72\n00:03:12.450 --> 00:03:16.330\nSo I've got my current host and\na Replica Server.\n\n73\n00:03:16.330 --> 00:03:19.500\nIf I don't take that current host and\nset it up as a Replica Server,\n\n74\n00:03:19.500 --> 00:03:22.710\nonce it moves to the other guy, it's\nnot gonna be able to come back, right?\n\n75\n00:03:22.710 --> 00:03:24.390\nChanges aren't gonna be replicated back.\n\n76\n00:03:24.390 --> 00:03:26.430\nSo that's the point I'm trying to make.\n\n77\n00:03:26.430 --> 00:03:27.680\nYou do have to do it on both sides.\n\n78\n00:03:27.680 --> 00:03:30.930\nIt's not a do it once and\nit's good for both directions.\n\n79\n00:03:30.930 --> 00:03:32.010\nYou have to set up both directions.\n\n80\n00:03:33.240 --> 00:03:38.340\nAll right, so let's see how we\ncan go about setting this up.\n\n81\n00:03:38.340 --> 00:03:39.760\nLet's take a look at my screen here and\n\n82\n00:03:39.760 --> 00:03:44.520\nwhat I've got is I've got two Hyper-V\nservers, Node One and Node Two.\n\n83\n00:03:44.520 --> 00:03:50.829\nAnd let's remote into Node One and\nsee what's going on.\n\n84\n00:03:50.829 --> 00:03:52.760\nWe've got Hyper-V here.\n\n85\n00:03:54.440 --> 00:03:56.040\nCreated a couple of virtual machines.\n\n86\n00:03:56.040 --> 00:03:59.309\nI'm gonna go ahead and start this\nvirtual machine up while we're here.\n\n87\n00:04:00.450 --> 00:04:01.820\nGet that guy going.\n\n88\n00:04:01.820 --> 00:04:06.270\nThis replica, if I remember right,\nhe's running server 2016,\n\n89\n00:04:06.270 --> 00:04:09.820\nnot that it's all that important for\nthis particular exercise.\n\n90\n00:04:09.820 --> 00:04:13.420\nSo here's my Hyper-V server,\nI've got my virtual machine.\n\n91\n00:04:13.420 --> 00:04:17.540\nI wanna try to provide some kind\nof high availability, right,\n\n92\n00:04:17.540 --> 00:04:19.525\nand we're gonna choose to do replica.\n\n93\n00:04:19.525 --> 00:04:24.280\nCause maybe we can afford clustering,\nit's too much for our organization or\n\n94\n00:04:24.280 --> 00:04:27.640\nI just don't need that level of\navailability and disaster recovery.\n\n95\n00:04:27.640 --> 00:04:31.710\nAnd so be a pretty inexpensive\nsolution in the end.\n\n96\n00:04:32.710 --> 00:04:33.820\nAll right, so, what do we have to do?\n\n97\n00:04:33.820 --> 00:04:36.410\nWell, we have to setup our\nserver as a replica server,\n\n98\n00:04:36.410 --> 00:04:39.830\nnot this one,\nthis one's hosting the actual VM.\n\n99\n00:04:39.830 --> 00:04:44.814\nSo we're gonna go over to node two,\nmy other Hyper-V server, and\n\n100\n00:04:44.814 --> 00:04:48.110\nwe're gonna open up our Hyper-V console.\n\n101\n00:04:50.185 --> 00:04:52.712\n&gt;&gt; And Mike, these are meant to be\nphysical Hyper-V servers, right?\n\n102\n00:04:52.712 --> 00:04:54.730\nThis isn't Hyper-V running\ninside of Hyper-V.\n\n103\n00:04:54.730 --> 00:04:55.480\n&gt;&gt; Correct.\n\n104\n00:04:55.480 --> 00:04:57.610\nAnd I am doing nested virtualization.\n\n105\n00:04:57.610 --> 00:05:00.440\nBut in the real world,\nyou might have a scenario where\n\n106\n00:05:00.440 --> 00:05:05.360\nthat server at the branch office is a\nvirtual server, hosting virtual machines.\n\n107\n00:05:05.360 --> 00:05:06.000\nSo it could be nested.\n\n108\n00:05:06.000 --> 00:05:09.430\nAnd then you could have nested\nvirtualization out at the branch office.\n\n109\n00:05:09.430 --> 00:05:11.270\nSo it doesn't really have to be physical,\nbut.\n\n110\n00:05:11.270 --> 00:05:12.840\n&gt;&gt; A lot of times, it is.\n&gt;&gt; A good portion of the time, it is.\n\n111\n00:05:12.840 --> 00:05:13.340\nYep.\n\n112\n00:05:13.340 --> 00:05:15.740\nAlthough I think,\nas nested virtualization catches on.\n\n113\n00:05:15.740 --> 00:05:18.990\nRemember we talked about that in another\nshow where I can give somebody access to\n\n114\n00:05:18.990 --> 00:05:22.410\na Hyper-V server without giving them\naccess to the physical hardware.\n\n115\n00:05:22.410 --> 00:05:24.450\nPretty cool.\n\n116\n00:05:24.450 --> 00:05:25.920\nAll right, so on this guy.\n\n117\n00:05:25.920 --> 00:05:26.760\nNode 2.\nI don't have any\n\n118\n00:05:26.760 --> 00:05:28.930\nvirtual machines running on him just yet.\n\n119\n00:05:28.930 --> 00:05:33.380\nI am gonna pull up my Hyper-V settings,\nright?\n\n120\n00:05:34.560 --> 00:05:36.729\nAnd we are going to.\n\n121\n00:05:39.130 --> 00:05:40.920\nLet's see where we'll start.\n\n122\n00:05:40.920 --> 00:05:43.610\nWe'll go to replication configuration,\nall right.\n\n123\n00:05:43.610 --> 00:05:45.760\nYou'll see that right there,\nnot enabled as a replica server.\n\n124\n00:05:45.760 --> 00:05:50.360\nSo I'm simply gonna put a check mark,\nenable this computer as a replica server.\n\n125\n00:05:50.360 --> 00:05:53.648\nNow let's take a look at some of\nthe options that we need to configure.\n\n126\n00:05:53.648 --> 00:05:58.670\nSpecify the authentication types to\nallow for incoming replication traffic.\n\n127\n00:05:58.670 --> 00:06:02.530\nEnsure that the ports you specify\nare open in the firewall.\n\n128\n00:06:02.530 --> 00:06:05.350\nSo I can use Kerberos via HTTP.\n\n129\n00:06:05.350 --> 00:06:08.590\nOr I can do certificate-based\nauthentication (HTTPS) and\n\n130\n00:06:08.590 --> 00:06:10.950\nyou can see the default ports there.\n\n131\n00:06:10.950 --> 00:06:15.600\nI don't have certificates set up so\nI am going to use Kerberos for\n\n132\n00:06:15.600 --> 00:06:17.500\nthe authentication protocol.\n\n133\n00:06:17.500 --> 00:06:19.259\nAnd it will be port 80.\n\n134\n00:06:19.259 --> 00:06:20.038\nAs it says here,\n\n135\n00:06:20.038 --> 00:06:23.990\nwe do need to make sure it's not gonna\ngo create any exceptions for me.\n\n136\n00:06:23.990 --> 00:06:25.520\nThis guy is not a web server,\n\n137\n00:06:25.520 --> 00:06:30.150\nso I am gonna need to open up\nport 80 in my firewall, right.\n\n138\n00:06:31.360 --> 00:06:33.500\nSo I believe that's all I need.\n\n139\n00:06:33.500 --> 00:06:37.120\nDown here at the bottom, I can specify\nthe servers that are allowed to\n\n140\n00:06:37.120 --> 00:06:40.540\nreplicate the virtual\nmachines to this computer.\n\n141\n00:06:40.540 --> 00:06:44.400\nI can say allow replication\nfrom any authenticated server.\n\n142\n00:06:44.400 --> 00:06:47.990\nI can specify the default location\nto store the replica files,\n\n143\n00:06:47.990 --> 00:06:50.480\nwhich you see it's using\nthe Hyper-V defaults.\n\n144\n00:06:50.480 --> 00:06:53.620\nOr allow replication from\nthe specified servers.\n\n145\n00:06:53.620 --> 00:06:56.820\nSo depending on what you're trying to do,\nyou know, I'm gonna do the, well,\n\n146\n00:06:56.820 --> 00:06:57.540\nlet's do this one.\n\n147\n00:06:57.540 --> 00:07:01.090\nWe'll go ahead and do the more secure\noption, where I actually specify\n\n148\n00:07:01.090 --> 00:07:06.530\nwho's allowed to send replication\ninformation, or replica information.\n\n149\n00:07:06.530 --> 00:07:07.290\nI'll click Add.\n\n150\n00:07:09.110 --> 00:07:12.310\nAnd my primary server is going to be.\n\n151\n00:07:13.740 --> 00:07:20.770\nIf I could remember his\nname node O1.lab.ITPRO.TV.\n\n152\n00:07:20.770 --> 00:07:22.550\nMake sure you spell all that right.\n\n153\n00:07:22.550 --> 00:07:27.452\nWe'll it's good there.\n\n154\n00:07:27.452 --> 00:07:31.326\nThen I could create a task crew\nperformance just to kind of group app\n\n155\n00:07:31.326 --> 00:07:33.630\nnotes that I'm going to allow.\n\n156\n00:07:33.630 --> 00:07:36.830\nI'll call this for replica group.\n\n157\n00:07:36.830 --> 00:07:40.538\nOr something like that and we'll click OK.\n\n158\n00:07:40.538 --> 00:07:43.550\nAll right, so\nthere's my primary server listed.\n\n159\n00:07:43.550 --> 00:07:46.900\nWe should be good to go, and\nthat is all we need to do here.\n\n160\n00:07:46.900 --> 00:07:50.126\nWe've got everything configured,\nwe'll click OK.\n\n161\n00:07:50.126 --> 00:07:53.528\nAll right, again reminding me\nensure the inbound exception for\n\n162\n00:07:53.528 --> 00:07:55.553\nport 80 is enabled on the firewall.\n\n163\n00:07:55.553 --> 00:07:59.246\nIf you're using Windows Firewall,\nenable Hyper-V Replica Listener.\n\n164\n00:07:59.246 --> 00:08:03.105\nOur http listener so- I can't talk today.\n\n165\n00:08:03.105 --> 00:08:05.530\nI'm trying to go to fast\nmaybe I don't know.\n\n166\n00:08:05.530 --> 00:08:11.640\nThe cool thing is is that there is a built\nin firewall rule for this very purpose.\n\n167\n00:08:11.640 --> 00:08:12.632\n&gt;&gt; How convenient.\n\n168\n00:08:12.632 --> 00:08:13.880\n&gt;&gt; It is nice isn't it.\n\n169\n00:08:13.880 --> 00:08:17.820\nI don't know what I just accidentally\nclicked on there let's try that again.\n\n170\n00:08:17.820 --> 00:08:19.490\nLooks like a little Powershell ISE.\n\n171\n00:08:20.670 --> 00:08:23.100\nWe don't need you taking up resources.\n\n172\n00:08:23.100 --> 00:08:24.670\nGet away.\n\n173\n00:08:24.670 --> 00:08:29.862\nAll right so we got inbound rules and\nwe're gonna look for\n\n174\n00:08:29.862 --> 00:08:36.470\nHyper-V Replica- let me zoom in for\nyou there.\n\n175\n00:08:36.470 --> 00:08:42.361\nYou see that one, Hyper-V Replica HTTP\nListener because I chose Kambrose port 80,\n\n176\n00:08:42.361 --> 00:08:43.903\nthis is the one I want.\n\n177\n00:08:43.903 --> 00:08:46.380\nThere's the other one for port 443.\n\n178\n00:08:46.380 --> 00:08:47.870\nI'll go ahead and enable that rule.\n\n179\n00:08:49.300 --> 00:08:51.680\nAnd we can close our firewall.\n\n180\n00:08:53.300 --> 00:08:56.590\nAll right, so\nnow we've got our replica server set up.\n\n181\n00:08:56.590 --> 00:09:02.032\nWe're going to jump back over to Node one,\nwhere\n\n182\n00:09:02.032 --> 00:09:06.832\nthe virtual machine is, and I'm gonna pull\nup the settings for this virtual machine.\n\n183\n00:09:10.381 --> 00:09:10.881\nRight.\n\n184\n00:09:12.200 --> 00:09:15.500\nAnd from here,\nactually I don't need the settings.\n\n185\n00:09:15.500 --> 00:09:16.860\nLet me close that.\n\n186\n00:09:16.860 --> 00:09:21.940\nI'm gonna right click on that virtual\nmachine And choose Enable Replication.\n\n187\n00:09:23.650 --> 00:09:26.760\nShould launch my handy dandy wizard\nwhere we can go through the process of\n\n188\n00:09:26.760 --> 00:09:27.410\nsetting this up.\n\n189\n00:09:27.410 --> 00:09:29.070\nSo I'll click Next.\n\n190\n00:09:30.510 --> 00:09:38.575\nAnd my replica server is node02.lab.itpro\n\n191\n00:09:38.575 --> 00:09:42.090\n.TV and I'll click next.\n\n192\n00:09:43.140 --> 00:09:46.400\nAnd notice it took a second there,\nit reached out and checked that server.\n\n193\n00:09:46.400 --> 00:09:48.510\nLet's see if it's set\nup as a replica server.\n\n194\n00:09:48.510 --> 00:09:49.500\nIs that port open?\n\n195\n00:09:49.500 --> 00:09:53.560\nAnd you can see because everything was\nconfigured on node two it went ahead and\n\n196\n00:09:53.560 --> 00:09:55.840\npopulated all this information for me.\n\n197\n00:09:55.840 --> 00:09:59.260\nThe replica server, the port,\nthe fact that it's using Kerberos for\n\n198\n00:09:59.260 --> 00:10:00.580\nthe authentication.\n\n199\n00:10:00.580 --> 00:10:04.490\nIt's also gonna compress the data that\ntransmitted over the network by default.\n\n200\n00:10:04.490 --> 00:10:06.200\nNote this little point right here.\n\n201\n00:10:06.200 --> 00:10:10.230\nData will not be encrypted while\nbeing transmitted over the network.\n\n202\n00:10:10.230 --> 00:10:13.780\nSo if you wanna be secure with this\ninformation you would use certificates and\n\n203\n00:10:13.780 --> 00:10:15.250\nyou would use port 443.\n\n204\n00:10:15.250 --> 00:10:17.146\nWe'll click next.\n\n205\n00:10:17.146 --> 00:10:21.760\nAnd let's see, Choose my Replication VHDs.\n\n206\n00:10:21.760 --> 00:10:24.860\nIf you had a virtual machine\nthat had multiple hard drives,\n\n207\n00:10:24.860 --> 00:10:26.830\nyou don't necessarily need them all.\n\n208\n00:10:26.830 --> 00:10:30.150\nYou could choose just the drives\nthat you want to replicate.\n\n209\n00:10:30.150 --> 00:10:31.480\nAlthough I, I don't know.\n\n210\n00:10:31.480 --> 00:10:34.250\nA virtual machine without some of its\ndrives doesn't seem like it would\n\n211\n00:10:34.250 --> 00:10:35.330\nbe all that.\n\n212\n00:10:35.330 --> 00:10:36.020\n&gt;&gt; Useful?\n[LAUGH]\n\n213\n00:10:36.020 --> 00:10:36.680\n&gt;&gt; Yeah,\n\n214\n00:10:36.680 --> 00:10:40.130\nit seems like some things might break if\nI just leave a couple hard drives back\n\n215\n00:10:40.130 --> 00:10:40.750\nover there.\n\n216\n00:10:40.750 --> 00:10:42.080\n&gt;&gt; Who needs that?\n\n217\n00:10:42.080 --> 00:10:43.430\n&gt;&gt; Yeah, we'll go ahead and click next.\n\n218\n00:10:44.710 --> 00:10:47.940\nChoose the frequency at which changes\nwill be sent to the replica server.\n\n219\n00:10:47.940 --> 00:10:51.440\nWell we gotta decide how\noften do I want this to go.\n\n220\n00:10:51.440 --> 00:10:52.500\n30 seconds.\n\n221\n00:10:52.500 --> 00:10:55.230\nSweet, those machines\nwill be almost identical.\n\n222\n00:10:55.230 --> 00:10:59.500\nIf failure occurs I flip over to that\nother one which should be good to go, but\n\n223\n00:10:59.500 --> 00:11:02.100\nthat also means a lot of\nextra network traffic right.\n\n224\n00:11:02.100 --> 00:11:05.610\nI mean because now you're doing every\n30 seconds any little changes are being\n\n225\n00:11:05.610 --> 00:11:06.920\nreplicated over.\n\n226\n00:11:06.920 --> 00:11:09.880\nIf I do 15 minutes a lot\nless network traffic, but\n\n227\n00:11:09.880 --> 00:11:14.060\na lot more- what's\nthe term i'm looking for?\n\n228\n00:11:14.060 --> 00:11:15.650\nLess synchronization.\n\n229\n00:11:15.650 --> 00:11:16.230\nRight?\n\n230\n00:11:16.230 --> 00:11:19.760\nBecause there's gonna be,\nif it replicates and\n\n231\n00:11:19.760 --> 00:11:23.120\nthen the original fails 14 minutes and\n30 seconds later that's\n\n232\n00:11:23.120 --> 00:11:26.600\n14 minutes of changes that I don't\nhave on that Replica server.\n\n233\n00:11:26.600 --> 00:11:29.550\nSo you've got to pick the one that\nworks best for your environment.\n\n234\n00:11:29.550 --> 00:11:33.910\nTest it out you know, how many changes\nare being made to that machine,\n\n235\n00:11:33.910 --> 00:11:36.900\nhow much network traffic is that\ngenerating, that's what you wanna look at.\n\n236\n00:11:36.900 --> 00:11:38.840\nI'll do 30 seconds.\n&gt;&gt; I'm surprised that's a drop down and\n\n237\n00:11:38.840 --> 00:11:41.870\nnot a how long would you want,\nor at least have that option.\n\n238\n00:11:41.870 --> 00:11:44.150\nBecause network admins they're very,\n\n239\n00:11:44.150 --> 00:11:47.220\nthey know cuz they're monitoring\ntheir network very closely.\n\n240\n00:11:47.220 --> 00:11:51.710\nThey know exactly what kind of\ntime frame would be optimal and\n\n241\n00:11:51.710 --> 00:11:54.820\ngiving it a weird 30 seconds,\n5 minutes or 15 minutes.\n\n242\n00:11:54.820 --> 00:11:55.487\nThat's big jumps man.\n\n243\n00:11:55.487 --> 00:11:57.996\n&gt;&gt; It really is.\n&gt;&gt; I'm just surprised they didn't throw\n\n244\n00:11:57.996 --> 00:11:58.827\nthat in there.\n\n245\n00:11:58.827 --> 00:12:01.047\n&gt;&gt; They do not give you\na lot of options there.\n\n246\n00:12:01.047 --> 00:12:03.150\nAll right we'll do 30 seconds just for\ngiggles on this one.\n\n247\n00:12:03.150 --> 00:12:04.019\nWe'll click next.\n\n248\n00:12:05.110 --> 00:12:05.920\nAnd then here, whoa.\n\n249\n00:12:05.920 --> 00:12:07.230\n&gt;&gt; [LAUGH]\n&gt;&gt; A little super zoom.\n\n250\n00:12:07.230 --> 00:12:11.090\nHow many recovery points\ndo you want to create?\n\n251\n00:12:11.090 --> 00:12:16.850\nMaintain only the latest recovery point or\ncreate additional hourly recovery points.\n\n252\n00:12:16.850 --> 00:12:19.520\nAnd you can change some times\nto deal with that as well.\n\n253\n00:12:21.240 --> 00:12:24.720\nAgain ,do you want to just be able to roll\nback to the latest version of that VM or\n\n254\n00:12:24.720 --> 00:12:27.704\ndo you want to go back two or\nthree versions ago?\n\n255\n00:12:27.704 --> 00:12:31.710\nSo kind of like having some\ncheckpoints built in there\n\n256\n00:12:31.710 --> 00:12:34.430\nwithout using checkpoints\nbecause the replica server\n\n257\n00:12:34.430 --> 00:12:38.352\nis going to host these points in time\ndepending on how many you've set here.\n\n258\n00:12:38.352 --> 00:12:43.900\nAll right, go ahead and click next and\nthen my initial replication method.\n\n259\n00:12:44.950 --> 00:12:47.300\nIt gives me a nice breakdown\nof the size here so\n\n260\n00:12:47.300 --> 00:12:50.310\nI can see about how much traffic\nI'm getting ready to generate.\n\n261\n00:12:50.310 --> 00:12:53.120\nDo I want to send it over the network?\n\n262\n00:12:53.120 --> 00:12:56.250\nDo I want an initial copy\nusing external media?\n\n263\n00:12:56.250 --> 00:13:00.830\nIf this was from corporate to branch\noffice and I'm looking at 10, 20, 30 gigs,\n\n264\n00:13:00.830 --> 00:13:04.040\nI'd probably consider that\nexternal media option.\n\n265\n00:13:04.040 --> 00:13:07.640\nMight be something I can take over there,\nmail over there, they can copy over.\n\n266\n00:13:08.760 --> 00:13:13.720\nHere in my lab environment I'm just gonna\nuse the copy it right over the network.\n\n267\n00:13:13.720 --> 00:13:18.390\nYou can use an existing virtual machine on\nthe Replica server as the initial copy.\n\n268\n00:13:18.390 --> 00:13:21.580\nIf you had restored a copy of that VM\nover there on the Replica server so\n\n269\n00:13:21.580 --> 00:13:25.190\nyou could export or maybe and\nthen restore it over on that other server.\n\n270\n00:13:26.250 --> 00:13:28.690\nAnd then when you wanna start\nthat initial replication?\n\n271\n00:13:28.690 --> 00:13:31.300\nIf you wanted to wait until\nafter business hours,\n\n272\n00:13:31.300 --> 00:13:34.150\nduring maintenance windows,\nyou could set that up.\n\n273\n00:13:35.230 --> 00:13:40.248\nWe'll go ahead and click next,\nand then we'll click finish, and\n\n274\n00:13:40.248 --> 00:13:46.262\nit's gonna were, and grind, and it\nshould begin setting up our replication.\n\n275\n00:13:48.240 --> 00:13:49.000\nAll right.\n\n276\n00:13:49.000 --> 00:13:52.540\nSo, it says that it was enabled\nsuccessfully, it was created over\n\n277\n00:13:52.540 --> 00:13:57.620\nthere on NODE 2 And it tells me\nmy networking could be an issue.\n\n278\n00:13:57.620 --> 00:13:59.760\nYou can manually configure\nthe network adapter settings for\n\n279\n00:13:59.760 --> 00:14:01.130\nthe replica virtual machine.\n\n280\n00:14:01.130 --> 00:14:04.310\nSo one of the things that you've\ngotta think about here with replicas,\n\n281\n00:14:04.310 --> 00:14:05.600\ncouple things I should say.\n\n282\n00:14:05.600 --> 00:14:07.506\nFirst of all, your Hyper-V hosts.\n\n283\n00:14:07.506 --> 00:14:12.470\nThe Hyper-V servers, they need to have\nthe same processor, otherwise I might run\n\n284\n00:14:12.470 --> 00:14:16.450\ninto compatibility issues when I move\na machine or try to replicate it over.\n\n285\n00:14:16.450 --> 00:14:22.260\nOther thing that you have to do is\nnetworking is not gonna be configured so\n\n286\n00:14:22.260 --> 00:14:26.908\nwe have to make sure that we go in\nonce we make the switch to the replica\n\n287\n00:14:26.908 --> 00:14:32.270\nwe'll have to reconnect network\nadapters to that virtual machine.\n\n288\n00:14:32.270 --> 00:14:35.400\nI don't believe, we'll have a flip\nover node two here in a second..\n\n289\n00:14:35.400 --> 00:14:37.380\nCuz I don't think I have\nany networks created.\n\n290\n00:14:37.380 --> 00:14:39.320\nI do not,\nwhich is why I go the issue there.\n\n291\n00:14:39.320 --> 00:14:43.348\nSo we'll go ahead and\nclick cancel on that.\n\n292\n00:14:45.923 --> 00:14:46.787\nAll right.\n\n293\n00:14:46.787 --> 00:14:48.720\nAnd we'll let it go and hopefully.\n\n294\n00:14:48.720 --> 00:14:53.130\nAnd you can see here,\nsending initial replica, 45%.\n\n295\n00:14:53.130 --> 00:14:56.580\nSo it's almost done, almost halfway there.\n\n296\n00:14:56.580 --> 00:15:00.910\nIf we flip over to node two,\nwhere I didn't have any VMs a minute ago.\n\n297\n00:15:02.180 --> 00:15:06.370\nWe'll see, I have replica VM sitting\nthere and it's getting ready.\n\n298\n00:15:06.370 --> 00:15:09.420\nYou can see it's receiving those changes.\n\n299\n00:15:09.420 --> 00:15:14.060\nSo, as soon as that finishes up,\nwe can go in and we'll make a change or\n\n300\n00:15:14.060 --> 00:15:18.010\nwe'll test,\nwe'll try to do a fail over to replica VM.\n\n301\n00:15:18.010 --> 00:15:19.360\nWhile that's doing that,\nI'm gonna go ahead and\n\n302\n00:15:19.360 --> 00:15:23.960\nmake another switch that matches\nthe network on node one.\n\n303\n00:15:23.960 --> 00:15:25.660\nSo let me verify what I did on node one.\n\n304\n00:15:25.660 --> 00:15:28.120\nI think it was just an internal.\n\n305\n00:15:29.890 --> 00:15:30.870\nLet's double check that.\n\n306\n00:15:32.960 --> 00:15:35.610\nMaybe.\nIf it'll let me get into those settings\n\n307\n00:15:35.610 --> 00:15:36.780\nwhile it's doing this.\n\n308\n00:15:39.680 --> 00:15:41.240\nI'm really making it angry right now.\n\n309\n00:15:41.240 --> 00:15:43.750\nIt's like leave me alone,\nI'm working hard.\n\n310\n00:15:43.750 --> 00:15:47.265\n&gt;&gt; How's that any different from\nanybody else around you Michael?\n\n311\n00:15:47.265 --> 00:15:49.920\n[LAUGH]\n&gt;&gt; [LAUGH] Let's see,\n\n312\n00:15:49.920 --> 00:15:52.400\nnetwork adaptor, it's thinking about it.\n\n313\n00:15:52.400 --> 00:15:54.810\nYeah, it's just an internal network.\n\n314\n00:15:54.810 --> 00:15:55.912\nSo, I'm going to go over to node two.\n\n315\n00:15:58.190 --> 00:16:02.870\nAnd, go to my Hyper-V Switch Manager.\n\n316\n00:16:02.870 --> 00:16:11.409\nCreate a new internal switch,\nI'll call it Internal, And I'll click OK.\n\n317\n00:16:15.358 --> 00:16:17.784\nIt's a little busy, so\nit's taking its time here.\n\n318\n00:16:17.784 --> 00:16:22.014\n[COUGH] And, hopefully,\n\n319\n00:16:22.014 --> 00:16:26.248\nI don't blue screen it.\n\n320\n00:16:26.248 --> 00:16:26.840\nNo, I'm kidding.\n\n321\n00:16:26.840 --> 00:16:30.504\n&gt;&gt; [LAUGH]\n&gt;&gt; My VMs are a little crunched on memory,\n\n322\n00:16:30.504 --> 00:16:34.610\nand they're doing a lot of disk\nactivity there moving that VM over.\n\n323\n00:16:34.610 --> 00:16:37.205\nSo, there we go,\nwe are good with the replica.\n\n324\n00:16:37.205 --> 00:16:40.217\nI'm gonna go ahead and\npull up the settings on that replica.\n\n325\n00:16:40.217 --> 00:16:43.847\nAnd connect it to that internal network,\nthere we go.\n\n326\n00:16:43.847 --> 00:16:48.179\nAnd that's what I was saying, when you\nset this up it copies that VM over.\n\n327\n00:16:48.179 --> 00:16:50.701\nBut if you don't have the same\nnetworks on the other VM,\n\n328\n00:16:50.701 --> 00:16:52.266\nif it doesn't see the right name.\n\n329\n00:16:52.266 --> 00:16:55.513\nAnd even sometimes if you do\nhave the exact same name for\n\n330\n00:16:55.513 --> 00:17:00.323\na virtual network on the replica Hyper-V\nserver, it still doesn't pick it up.\n\n331\n00:17:00.323 --> 00:17:04.135\nSo, make sure you go in and check your\nnetworking settings on that replica VM.\n\n332\n00:17:04.135 --> 00:17:07.485\nAll right and there we go.\n\n333\n00:17:07.485 --> 00:17:10.160\nSo, and\nwe're doing changes every 30 seconds.\n\n334\n00:17:10.160 --> 00:17:12.545\nSo, you might have seen there\nright there where it said, hey,\n\n335\n00:17:12.545 --> 00:17:13.760\nstate is replicating changes.\n\n336\n00:17:13.760 --> 00:17:15.758\nLet's see if we can generate another one.\n\n337\n00:17:15.758 --> 00:17:18.137\nI will flip over to node 1.\n\n338\n00:17:22.464 --> 00:17:25.210\nAnd I will connect to this VM.\n\n339\n00:17:25.210 --> 00:17:29.503\nTrying to see if there's a way\nI could show you all of this.\n\n340\n00:17:32.258 --> 00:17:34.100\nAt the same time, can't really.\n\n341\n00:17:37.762 --> 00:17:41.225\nWe'll go ahead and log in.\n\n342\n00:17:41.225 --> 00:17:45.118\nNow while that's logging in\nI'll flip back over to node 2.\n\n343\n00:17:45.118 --> 00:17:48.062\nAnd if we wait a second, we'll probably\nsee it, cuz it's building a profile.\n\n344\n00:17:48.062 --> 00:17:51.317\nSo there's definitely some changes\ngoing on as I log in there.\n\n345\n00:17:51.317 --> 00:17:52.694\nAnd we might see something pop up here.\n\n346\n00:17:52.694 --> 00:17:55.840\nWe have to wait like 30 seconds\nto see if it's gonna pop up.\n\n347\n00:17:55.840 --> 00:17:57.255\n&gt;&gt; [LAUGH]\n&gt;&gt; But anyway,\n\n348\n00:17:57.255 --> 00:17:59.965\nwe know everything's working in\nthe background, we've seen it.\n\n349\n00:17:59.965 --> 00:18:01.904\nIt's already said hey,\nI'm replicating changes.\n\n350\n00:18:01.904 --> 00:18:02.754\nWe're good to go there.\n\n351\n00:18:02.754 --> 00:18:06.047\nNow we're in there, we're gonna\nbe receiving changes succeeded.\n\n352\n00:18:06.047 --> 00:18:07.209\nSo, we saw that little message pop up.\n\n353\n00:18:07.209 --> 00:18:08.835\nNow what I wanna do is\ntry to fail it over.\n\n354\n00:18:08.835 --> 00:18:11.609\nSo I'm gonna go back over to node 1.\n\n355\n00:18:15.674 --> 00:18:20.754\nAnd I am going to close this,\nthat was just my remote desktop into it.\n\n356\n00:18:20.754 --> 00:18:21.739\nI'm gonna right-click on it.\n\n357\n00:18:25.091 --> 00:18:28.921\nI'll right-click again,\ncuz sometimes it doesn't work.\n\n358\n00:18:28.921 --> 00:18:35.499\nAnd I'm gonna go to, let's do this,\nlet's go to replication.\n\n359\n00:18:35.499 --> 00:18:43.842\nAnd, nice, we don't have the option\nto test failover on you.\n\n360\n00:18:43.842 --> 00:18:46.984\nLet's do Planned Failover.\n\n361\n00:18:46.984 --> 00:18:50.100\nAll right, so\nhere we can do a planned failover,\n\n362\n00:18:50.100 --> 00:18:54.821\nwhich is really a way that I can test\nit to make sure everything is working.\n\n363\n00:18:54.821 --> 00:18:56.256\nAnd you can see I've got\na couple of options here.\n\n364\n00:18:56.256 --> 00:18:58.458\nReverse the replication\ndirection after failover.\n\n365\n00:18:58.458 --> 00:19:02.720\nStart the Replica virtual\nmachine after failover.\n\n366\n00:19:02.720 --> 00:19:06.530\nPrerequist check that the virtual\nmachine is turned off.\n\n367\n00:19:06.530 --> 00:19:08.766\nSend the data that's not been replicated.\n\n368\n00:19:08.766 --> 00:19:11.657\nFailover, start the Replica\nvirtual machine.\n\n369\n00:19:11.657 --> 00:19:13.687\nNow, I would normally probably choose,\n\n370\n00:19:13.687 --> 00:19:16.357\nreverse the replication\ndirection after a failover.\n\n371\n00:19:16.357 --> 00:19:20.518\nOnce it fails over to node 2,\nI want node 1 to become that standby,\n\n372\n00:19:20.518 --> 00:19:21.833\nthe Replica server.\n\n373\n00:19:21.833 --> 00:19:24.111\nAnd changes should be\nreplicated back to him.\n\n374\n00:19:24.111 --> 00:19:24.843\n&gt;&gt; Why go back, right?\n\n375\n00:19:24.843 --> 00:19:26.894\nThey're all doing the same job,\nso what does it matter?\n\n376\n00:19:26.894 --> 00:19:30.054\n&gt;&gt; Exactly, so\njust let node 2 be the primary now and\n\n377\n00:19:30.054 --> 00:19:32.017\nnode 1 be the replica server.\n\n378\n00:19:32.017 --> 00:19:34.345\nBut remember, I haven't set up node 1.\n\n379\n00:19:34.345 --> 00:19:36.970\nThose steps I did at the very\nbeginning on node 2?\n\n380\n00:19:36.970 --> 00:19:39.805\nI would need to have done those on node 1,\n\n381\n00:19:39.805 --> 00:19:44.764\nto set them up as a potential Replica\nserver, before I could check this.\n\n382\n00:19:44.764 --> 00:19:47.860\nSo we'll just go ahead and\nchoose failover.\n\n383\n00:19:47.860 --> 00:19:51.842\nAnd the virtual machine must be turned\noff for planned failover, silly me.\n\n384\n00:19:51.842 --> 00:19:53.225\n&gt;&gt; You know better, Mike.\n\n385\n00:19:53.225 --> 00:19:54.415\n&gt;&gt; I know.\n\n386\n00:19:54.415 --> 00:19:56.167\n&gt;&gt; Bush league, dude, it's bush league.\n\n387\n00:19:56.167 --> 00:19:56.709\n&gt;&gt; Let's turn off.\n\n388\n00:19:56.709 --> 00:19:59.399\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] Let's shut it down.\n\n389\n00:19:59.399 --> 00:20:02.827\nAnd then we'll try that again.\n\n390\n00:20:04.964 --> 00:20:06.474\nAnd that's really just for\ntesting purposes.\n\n391\n00:20:06.474 --> 00:20:10.764\nIt doesn't normally, I mean, it's not\nlike we turn it off, I'm trying to think-\n\n392\n00:20:10.764 --> 00:20:11.518\n&gt;&gt; When a failure's happened.\n\n393\n00:20:11.518 --> 00:20:12.549\n&gt;&gt; Yeah.\n&gt;&gt; Yeah.\n\n394\n00:20:12.549 --> 00:20:14.288\n&gt;&gt; We don't go, ooh, I bet there's\ngonna be a failure in five minutes,\n\n395\n00:20:14.288 --> 00:20:15.124\nlet's go turn it off real quick.\n\n396\n00:20:15.124 --> 00:20:17.323\nHey, we could probably avoid the failure.\n\n397\n00:20:17.323 --> 00:20:18.995\n[LAUGH]\n&gt;&gt; But what's that commercial?\n\n398\n00:20:18.995 --> 00:20:20.295\nYour heart attack is scheduled for\n3 PM this afternoon.\n\n399\n00:20:20.295 --> 00:20:21.304\n&gt;&gt; [LAUGH] That's right.\n\n400\n00:20:21.304 --> 00:20:22.378\n&gt;&gt; I'd better get my Bayer Aspirin.\n\n401\n00:20:22.378 --> 00:20:25.164\n[LAUGH]\n&gt;&gt; [LAUGH] All right, so\n\n402\n00:20:25.164 --> 00:20:27.367\nwe'll click failover.\n\n403\n00:20:27.367 --> 00:20:30.503\nThere we go,\nget a nice green check mark this time.\n\n404\n00:20:30.503 --> 00:20:33.025\nAnd you'll see that\nfirst step is important,\n\n405\n00:20:33.025 --> 00:20:37.110\nespecially if we had chosen 15 minutes or\nlonger between replications.\n\n406\n00:20:37.110 --> 00:20:39.631\nIt's gonna say, look, I might not\nhave replicated everything yet,\n\n407\n00:20:39.631 --> 00:20:41.092\nthat wasn't on schedule to do that yet.\n\n408\n00:20:41.092 --> 00:20:43.778\nBut now that we're failing over,\nlet me grab everything I've got.\n\n409\n00:20:43.778 --> 00:20:48.912\nAnd send it over, before we fire that\nguy up and make him the new machine.\n\n410\n00:20:48.912 --> 00:20:49.751\nSo now this one is off.\n\n411\n00:20:49.751 --> 00:20:54.660\nIf we go over to node 2,\nthere is Replica VM,\n\n412\n00:20:54.660 --> 00:20:57.909\nup and running and good to go.\n\n413\n00:20:57.909 --> 00:21:00.643\nWe didn't really make\nany big changes to it.\n\n414\n00:21:00.643 --> 00:21:03.135\nI probably maybe could have changed\nthe background or something to show you.\n\n415\n00:21:03.135 --> 00:21:05.309\nBut when you guys are testing this out,\nmaybe try that.\n\n416\n00:21:05.309 --> 00:21:08.219\nYou know, make a little change,\nmake a new file on the desktop.\n\n417\n00:21:08.219 --> 00:21:10.801\nSomething like that, and\nyou'll see that it replicates over.\n\n418\n00:21:10.801 --> 00:21:13.891\nAnd, honestly, quick, right?\n\n419\n00:21:13.891 --> 00:21:15.976\nBut think about why it was quick.\n\n420\n00:21:15.976 --> 00:21:21.299\nWe're not moving the hard drive\nover during this process.\n\n421\n00:21:21.299 --> 00:21:24.130\nIt's already been migrated over there,\nand it's just sitting there.\n\n422\n00:21:24.130 --> 00:21:25.923\nAnd changes are being applied to it, and\n\n423\n00:21:25.923 --> 00:21:28.254\nit's being kept up to date\nIn the event of a failure.\n\n424\n00:21:28.254 --> 00:21:32.979\nSo when the failure occurs, there is just\nthe last changes to grab, send over, and\n\n425\n00:21:32.979 --> 00:21:35.697\nthen bring that one back,\nbring it up, right?\n\n426\n00:21:35.697 --> 00:21:40.255\nSo it's not like we're doing a live\nmigration where we've gotta move anything.\n\n427\n00:21:40.255 --> 00:21:45.934\nIt's really just having a backup copy\nof that VM on another physical server.\n\n428\n00:21:45.934 --> 00:21:48.754\nSo if something goes wrong,\nwe'll have access to that VM.\n\n429\n00:21:48.754 --> 00:21:49.863\n&gt;&gt; Yeah, and this is great technology.\n\n430\n00:21:49.863 --> 00:21:52.344\nWe do stuff like this a lot.\n\n431\n00:21:52.344 --> 00:21:55.724\nYou see it in networking,\nyou see it in every aspect where,\n\n432\n00:21:55.724 --> 00:21:57.081\nI want a second copy of.\n\n433\n00:21:57.081 --> 00:22:00.963\nAnyway, it's the whole reason we do\ncheckpoints inside of VM, right, or\n\n434\n00:22:00.963 --> 00:22:01.588\nHyper-V.\n\n435\n00:22:01.588 --> 00:22:04.952\nBecause we know that sometimes\nthings will go wrong, and\n\n436\n00:22:04.952 --> 00:22:08.399\nI want a nice pristine copy in\ncase I completely hose this.\n\n437\n00:22:08.399 --> 00:22:11.359\nWhich has never happened\nin my entire career.\n\n438\n00:22:11.359 --> 00:22:13.182\n&gt;&gt; [LAUGH]\n&gt;&gt; Have I ever needed a single snapshot\n\n439\n00:22:13.182 --> 00:22:14.156\nto, no, that's not true.\n\n440\n00:22:14.156 --> 00:22:17.515\n[LAUGH] And you would think,\nokay, well, Daniel's funny.\n\n441\n00:22:17.515 --> 00:22:19.699\nBut this are why these\ntechnologies get invented.\n\n442\n00:22:19.699 --> 00:22:21.880\nBecause we're humans, we make mistakes.\n\n443\n00:22:21.880 --> 00:22:26.131\nWe hose machines, things crash,\nphysical things just wear down and die,\n\n444\n00:22:26.131 --> 00:22:29.110\nthank you entropy,\nit's just how the world works.\n\n445\n00:22:29.110 --> 00:22:29.692\n&gt;&gt; Right.\n\n446\n00:22:29.692 --> 00:22:30.852\n&gt;&gt; You have to be prepared for that.\n\n447\n00:22:30.852 --> 00:22:34.300\nAnd putting this in place,\nsuper simple to do,\n\n448\n00:22:34.300 --> 00:22:40.007\nit's just a good amount of insurance,\nshould we say, for your environment.\n\n449\n00:22:40.007 --> 00:22:45.996\n&gt;&gt; All right, Daniel, so the next thing we\nwanna do is take a look at live migration.\n\n450\n00:22:45.996 --> 00:22:50.123\nWhen we talk about live migration,\nwe're talking about kinda what its\n\n451\n00:22:50.123 --> 00:22:54.064\nname sounds like, migrating a live,\nrunning, virtual machine.\n\n452\n00:22:54.064 --> 00:22:56.652\nAnd with 2016 we've got some new options.\n\n453\n00:22:56.652 --> 00:23:00.124\nA couple of these popped up in 2012,\nthey've been refined and\n\n454\n00:23:00.124 --> 00:23:01.432\nimproved for 2016.\n\n455\n00:23:01.432 --> 00:23:03.881\nWe've got normal live migration,\n\n456\n00:23:03.881 --> 00:23:08.053\nwhich we can now do without a cluster,\nwhich is pretty cool.\n\n457\n00:23:08.053 --> 00:23:11.876\nMaybe I'm a smaller shop,\nI don't have Hyper-V clusters set up.\n\n458\n00:23:11.876 --> 00:23:15.613\nYet I'd still love to be able to take\nadvantage of live migration between\n\n459\n00:23:15.613 --> 00:23:17.709\nthe two physical servers that I do have.\n\n460\n00:23:17.709 --> 00:23:22.016\nIf something fails, I'd love to be able\nto bump that over live, as it's running,\n\n461\n00:23:22.016 --> 00:23:24.242\nwith little to no downtime on the machine.\n\n462\n00:23:24.242 --> 00:23:25.249\nWhich is what we're gonna do.\n\n463\n00:23:25.249 --> 00:23:28.967\nWe do have some modules later on\nthat'll cover Hyper-V clusters and\n\n464\n00:23:28.967 --> 00:23:30.195\nclusters in general.\n\n465\n00:23:30.195 --> 00:23:31.352\nBut we can do live migration.\n\n466\n00:23:31.352 --> 00:23:37.999\nWe can do storage migration, where\nwe're not moving the actual VM itself.\n\n467\n00:23:37.999 --> 00:23:40.899\nIt still being hosted by\nparticular Hyper-V server, but\n\n468\n00:23:40.899 --> 00:23:42.923\nwe move where its virtual hard drive is.\n\n469\n00:23:42.923 --> 00:23:44.694\nWe can just move it,\nin the middle of while it's using it.\n\n470\n00:23:44.694 --> 00:23:45.215\n&gt;&gt; Wow.\n\n471\n00:23:45.215 --> 00:23:46.452\n&gt;&gt; I know, crazy, right.\n\n472\n00:23:46.452 --> 00:23:50.757\n[LAUGH] And then there's an also\nshared nothing migration.\n\n473\n00:23:50.757 --> 00:23:55.432\nShared nothing live migration, because\nin the past when we've talked about live\n\n474\n00:23:55.432 --> 00:23:57.746\nmigration you did need shared storage.\n\n475\n00:23:57.746 --> 00:24:01.769\nBecause, if I've got one Hyper-V server\nthat's hosting these virtual machines.\n\n476\n00:24:01.769 --> 00:24:04.379\nThose virtual machines\nhave virtual hard drives,\n\n477\n00:24:04.379 --> 00:24:07.510\nchanges are being written to\nthose virtual hard drives.\n\n478\n00:24:07.510 --> 00:24:11.540\nIf I take that machine and\nmove it over to another Hyper-V server,\n\n479\n00:24:11.540 --> 00:24:14.740\nI need access to the storage for\nthat virtual machine.\n\n480\n00:24:14.740 --> 00:24:21.010\nSo, it had to be somewhere that both\nHyper-V servers could actually access.\n\n481\n00:24:21.010 --> 00:24:22.180\nNot the case anymore,\n\n482\n00:24:22.180 --> 00:24:25.940\nbecause of the way we can move these\nvirtual hard drives on the fly.\n\n483\n00:24:27.150 --> 00:24:31.021\nWe can get it done without\nusing a cluster, all right.\n\n484\n00:24:31.021 --> 00:24:31.874\nSo, a couple of things we're gonna do.\n\n485\n00:24:31.874 --> 00:24:34.958\nWe won't get it all on this particular\nepisode, but we can do some of the setup.\n\n486\n00:24:34.958 --> 00:24:36.018\nIn fact, let's just do one more thing.\n\n487\n00:24:36.018 --> 00:24:44.470\nLet's do the configuration for\nour Kerberos authentication, all right.\n\n488\n00:24:44.470 --> 00:24:46.300\nWhen we're doing the live migration,\n\n489\n00:24:46.300 --> 00:24:49.020\nor we can set up our nodes to\nsupport a live migration as well.\n\n490\n00:24:49.020 --> 00:24:52.460\nIn fact, let me pop over to node 1.\n\n491\n00:24:52.460 --> 00:24:56.180\nOr actually, before I do that,\nlet's go to DC01.\n\n492\n00:24:57.630 --> 00:25:01.290\nAll right, when we're setting this up,\nwe've got a couple of choices for\n\n493\n00:25:01.290 --> 00:25:02.380\nauthentication.\n\n494\n00:25:02.380 --> 00:25:04.530\nAnd I can't talk and\nclick at the same time.\n\n495\n00:25:04.530 --> 00:25:07.460\nThere we go, active directory, users and\ncomputers is what I was looking for.\n\n496\n00:25:08.890 --> 00:25:11.414\nWhen we set this up, we've got a couple\nof options for authentication.\n\n497\n00:25:11.414 --> 00:25:16.080\nAnd that means you how do we authenticate\nin verifying that the server that's\n\n498\n00:25:16.080 --> 00:25:18.592\nsending this machine over is allowed to,\n\n499\n00:25:18.592 --> 00:25:21.562\nI don't want Daniel\nwhipping up a malicious VM.\n\n500\n00:25:21.562 --> 00:25:22.439\n&gt;&gt; Well, come on, Mike.\n\n501\n00:25:22.439 --> 00:25:24.880\n&gt;&gt; And trying to live migrate it over\nto one of my Hyper-V servers, right?\n\n502\n00:25:24.880 --> 00:25:25.495\n&gt;&gt; Don't be like that.\n\n503\n00:25:25.495 --> 00:25:27.750\n[LAUGH]\n&gt;&gt; You're so mean.\n\n504\n00:25:29.190 --> 00:25:31.890\nSo, there's some authentication,\nobviously, that's going on.\n\n505\n00:25:31.890 --> 00:25:37.654\nAnd we can do CredSSP, or we can do\nKerberos for our authentication protocol.\n\n506\n00:25:37.654 --> 00:25:44.031\nIf we're gonna use Kerberos, we do need to\nsetup delegation, if we're using CredSSP.\n\n507\n00:25:44.031 --> 00:25:47.934\nThen we're gonna need to make sure that we\nsign in to the destination server first,\n\n508\n00:25:47.934 --> 00:25:49.620\nit's a little more clunky.\n\n509\n00:25:49.620 --> 00:25:52.610\nWhich is why we prefer to do the Kerberos,\nbut\n\n510\n00:25:52.610 --> 00:25:54.850\nthat doesn't mean you have\nto be ahead of the game.\n\n511\n00:25:54.850 --> 00:26:00.050\nYou've gotta setup, you've got to set up,\nwhat's the word I'm looking for?\n\n512\n00:26:01.070 --> 00:26:04.180\nWe gotta do delegation on\nthe computer accounts.\n\n513\n00:26:04.180 --> 00:26:06.710\nSo, that's what we're going to do here.\n\n514\n00:26:06.710 --> 00:26:11.605\nI'm gonna go to my computers container,\nand I'm gonna find NODE01,\n\n515\n00:26:11.605 --> 00:26:15.150\nand I'm gonna pull up the properties for\nNODE01.\n\n516\n00:26:15.150 --> 00:26:19.970\nThat's my first Hyper-V server, and\nI'm gonna go over to the delegation tab.\n\n517\n00:26:19.970 --> 00:26:25.150\nAnd I'm gonna trust this computer, let me\nzoom in just a little bit for you here.\n\n518\n00:26:25.150 --> 00:26:29.410\nTrust this computer for delegation\nto the specified services only, and\n\n519\n00:26:29.410 --> 00:26:32.440\nI'm gonna be using Kerberos, all right?\n\n520\n00:26:32.440 --> 00:26:34.268\nAnd the destination server,\n\n521\n00:26:34.268 --> 00:26:39.759\nservices to which this account can present\ndelegated credentials I'm gonna click add.\n\n522\n00:26:39.759 --> 00:26:44.619\nAnd then we're gonna click users and\ncomputers, and my destination\n\n523\n00:26:44.619 --> 00:26:49.830\nserver is gonna be NODE02 under little\ncheck name, so that defines it.\n\n524\n00:26:51.270 --> 00:26:55.773\nAnd then the services, if you take a look\nat the services that are shows me, all\n\n525\n00:26:55.773 --> 00:27:00.634\nthe different services that are running on\nNODE02 that I can do my delegation for.\n\n526\n00:27:00.634 --> 00:27:04.134\nIn this case,\nif we're moving the VMs and the storage,\n\n527\n00:27:04.134 --> 00:27:07.123\nwe need this one right here,\nCIFS, all right?\n\n528\n00:27:07.123 --> 00:27:09.857\nIf we were just moving the VMs and\nnot the storage,\n\n529\n00:27:09.857 --> 00:27:12.921\nmaybe we're doing clustering or\nsomething like that,\n\n530\n00:27:12.921 --> 00:27:16.260\nthen we can use Microsoft Virtual\nsystem is what we had here.\n\n531\n00:27:18.690 --> 00:27:20.930\nThere we go.\n\n532\n00:27:20.930 --> 00:27:25.610\nMicrosoft Virtual System Migration Service\nwould be the one you will want,\n\n533\n00:27:25.610 --> 00:27:29.860\nbut we'll just going to do that CIFS,\nand we'll click okay.\n\n534\n00:27:29.860 --> 00:27:32.366\nThat should list it there,\nand if I needed to do both,\n\n535\n00:27:32.366 --> 00:27:35.009\nmaybe I wanna make sure I can\ndo the other option as well.\n\n536\n00:27:35.009 --> 00:27:41.096\nI can go use the computers,\nNODE02, check those names,\n\n537\n00:27:41.096 --> 00:27:47.815\nand I can go find my Microsoft\nVirtual System Migration Service.\n\n538\n00:27:47.815 --> 00:27:53.087\nI can click OK and\nadd that one as well, right?\n\n539\n00:27:53.087 --> 00:27:54.372\nThen we'll click OK.\n\n540\n00:27:54.372 --> 00:27:59.290\nThen I'm gonna do the same\nthing to NODE02 for NODE01.\n\n541\n00:27:59.290 --> 00:28:01.623\nSo, I'm gonna pull up the properties for\nNODE02,\n\n542\n00:28:01.623 --> 00:28:06.720\ngo to delegation, trust it just for\nspecific services.\n\n543\n00:28:06.720 --> 00:28:07.630\nI'll click add.\n\n544\n00:28:09.490 --> 00:28:10.769\nWe'll find NODE01.\n\n545\n00:28:15.169 --> 00:28:18.088\nAnd we'll do CIFS.\n\n546\n00:28:18.088 --> 00:28:21.437\nWe'll add again for NODE01, and\n\n547\n00:28:21.437 --> 00:28:27.687\nwe'll find the Microsoft Virtual,\nI cannot remember that name,\n\n548\n00:28:27.687 --> 00:28:32.838\nsystem migration service,\nand then we'll click OK.\n\n549\n00:28:32.838 --> 00:28:35.628\nAll right, so\nthat takes care of our delegation.\n\n550\n00:28:35.628 --> 00:28:38.980\nThat's gonna give one node the ability to\n\n551\n00:28:38.980 --> 00:28:43.390\npresent credentials to the service on the\nother node and authenticate each other.\n\n552\n00:28:43.390 --> 00:28:47.510\nThat's gonna prevent that rogue Hyper-V\nserver from trying to migrate virtual\n\n553\n00:28:47.510 --> 00:28:50.540\nmachines over, or\ntry to do any sort of live migration.\n\n554\n00:28:50.540 --> 00:28:54.440\nThey're gonna have to, they're not\ngonna be allowed to do that all right?\n\n555\n00:28:54.440 --> 00:28:56.540\nAnd that gets us pretty much set up there.\n\n556\n00:28:56.540 --> 00:28:58.048\nThe other thing that we're gonna do.\n\n557\n00:29:00.199 --> 00:29:02.219\nIs, well, let's hold off right there,\n\n558\n00:29:02.219 --> 00:29:05.060\nI think we're probably at\na good stopping point.\n\n559\n00:29:05.060 --> 00:29:07.205\nWe've got things set up, now, next,\n\n560\n00:29:07.205 --> 00:29:10.200\nwe're gonna get into the actual\nmoving of these guys.\n\n561\n00:29:10.200 --> 00:29:11.910\nSo, let's save that for our next episode.\n\n562\n00:29:11.910 --> 00:29:13.723\n&gt;&gt; Mike, you dirty dog,\nyou left us with a cliff hanger.\n\n563\n00:29:13.723 --> 00:29:15.387\n&gt;&gt; [LAUGH]\n&gt;&gt; It's just like, all right,\n\n564\n00:29:15.387 --> 00:29:17.140\nwe're gonna see this live migration.\n\n565\n00:29:17.140 --> 00:29:20.410\nIf you stick around for\npart two right now, thanks a lot.\n\n566\n00:29:20.410 --> 00:29:22.690\n[LAUGH] We have right there.\n\n567\n00:29:22.690 --> 00:29:23.670\nAll very cool stuff so far,\n\n568\n00:29:23.670 --> 00:29:26.470\nI am looking forward to seeing\nhow this ends up working on that.\n\n569\n00:29:26.470 --> 00:29:27.560\nI like stuff like this, and\n\n570\n00:29:27.560 --> 00:29:31.090\nanybody that's worked in the system\nin mastery trying to become one.\n\n571\n00:29:31.090 --> 00:29:35.470\nDisaster recovery trying to, make sure\nthe world doesn't crumble down around you,\n\n572\n00:29:35.470 --> 00:29:37.820\nwhen the world is\ncrumbling down around you.\n\n573\n00:29:37.820 --> 00:29:40.100\nIt's part of our job, so this is a cool,\n\n574\n00:29:40.100 --> 00:29:44.210\npractical exercise, and I'm excited to\nsee you, and I hope you guys as well.\n\n575\n00:29:44.210 --> 00:29:46.310\nMike, thanks for\ngetting us this far so far.\n\n576\n00:29:46.310 --> 00:29:47.113\n&gt;&gt; So far.\n[LAUGH]\n\n577\n00:29:47.113 --> 00:29:48.390\n&gt;&gt; Looking forward to see in part two.\n\n578\n00:29:48.390 --> 00:29:49.078\n&gt;&gt; No pressure there, right?\n\n579\n00:29:49.078 --> 00:29:50.868\n[LAUGH]\n&gt;&gt; He's going to quit right after this,\n\n580\n00:29:50.868 --> 00:29:52.390\nwalkout the door storm out, right?\n\n581\n00:29:52.390 --> 00:29:53.765\nThat's right, my drop Mike.\n\n582\n00:29:53.765 --> 00:29:56.660\nThat being said, there will be a part\ntwo hopefully will see you guys there.\n\n583\n00:29:56.660 --> 00:30:00.690\nBut for this episode we're going to sign\noff for ITPro.TV, I've been your host,\n\n584\n00:30:00.690 --> 00:30:01.330\nDaniel Lowrie.\n\n585\n00:30:01.330 --> 00:30:02.330\n&gt;&gt; And I'm Mike Roderick.\n\n586\n00:30:02.330 --> 00:30:02.943\n&gt;&gt; See you next time.\n\n587\n00:30:02.943 --> 00:30:10.510\n[MUSIC]\n\n588\n00:30:10.510 --> 00:30:13.225\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "191960983"
        },
        {
          "description": "In this episode, Daniel and Mike continue their look at High-Availability Disaster Recovery(HADR) options found in Hyper-V. Here they finish their demonstration of the setup and implementation of a live migration.",
          "length": "1365",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-1-Implement_HADR_Option_in_Hyper-V_Pt._2-111416-PGM.00_22_31_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-1-Implement_HADR_Option_in_Hyper-V_Pt._2-111416-PGM.00_22_31_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-5-1-Implement_HADR_Option_in_Hyper-V_Pt._2-111416-PGM.00_22_31_20.Still001-sm.jpg",
          "title": "Implement HADR Option in Hyper-V Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:08.378\n[CROSSTALK]\n\n2\n00:00:08.378 --> 00:00:12.372\n&gt;&gt; You're watching ItProTV.\n\n3\n00:00:12.372 --> 00:00:16.517\n&gt;&gt; All right, greetings everyone, welcome\nto another great episode of ItProTV.\n\n4\n00:00:16.517 --> 00:00:18.560\nI'm your host, Daniel Lowrie and\nin today's episode.\n\n5\n00:00:18.560 --> 00:00:21.670\nWe are moving forward with more\non our installation, storage,\n\n6\n00:00:21.670 --> 00:00:24.098\nand compute series for\nWindows Server 2016.\n\n7\n00:00:24.098 --> 00:00:29.160\nSpecifically today back for a little more\nof a part two, Mikey loves his part twos.\n\n8\n00:00:29.160 --> 00:00:30.190\n&gt;&gt; I do?\n\n9\n00:00:30.190 --> 00:00:31.865\n&gt;&gt; Well,\nI guess I kinda gave the guest away here.\n\n10\n00:00:31.865 --> 00:00:33.260\n&gt;&gt; [LAUGH]\n&gt;&gt; Joining\n\n11\n00:00:33.260 --> 00:00:34.050\nus is-\n&gt;&gt; Hey [LAUGH].\n\n12\n00:00:34.050 --> 00:00:36.775\n&gt;&gt; None other than Mike Rodrick,\nladies and gentlemen.\n\n13\n00:00:36.775 --> 00:00:38.040\n&gt;&gt; [LAUGH] How's it going today, Mike?\n\n14\n00:00:38.040 --> 00:00:38.780\n&gt;&gt; It's going great, Daniel.\n\n15\n00:00:38.780 --> 00:00:39.894\nThanks for having me back here.\n\n16\n00:00:39.894 --> 00:00:43.029\nAnd you're right, we are doing another\none of those pesky little part twos.\n\n17\n00:00:43.029 --> 00:00:46.587\nThere's just so much great information,\nI don't wanna go too fast and\n\n18\n00:00:46.587 --> 00:00:49.623\ntry to squeeze it in those 30 minutes,\nso we have a Part 2.\n\n19\n00:00:49.623 --> 00:00:52.121\nIn our previous episode,\nif you haven't watched it,\n\n20\n00:00:52.121 --> 00:00:54.523\nmake sure you go back and\nwatch the part one for this.\n\n21\n00:00:54.523 --> 00:00:59.515\nBecause we did do some of the setup for\nwhat we're getting ready to do.\n\n22\n00:00:59.515 --> 00:01:02.769\nIf you remember in part one for\nthose of you that have watched it,\n\n23\n00:01:02.769 --> 00:01:04.287\nwe did the Hyper-V replica.\n\n24\n00:01:04.287 --> 00:01:07.200\nWhere we've got a machine\nrunning on one Hyper-V server.\n\n25\n00:01:07.200 --> 00:01:10.670\nWe replicate that virtual machine\ninto another Hyper-V server.\n\n26\n00:01:10.670 --> 00:01:13.530\nAnd it's kinda like a standby,\nit's just sitting there.\n\n27\n00:01:13.530 --> 00:01:16.590\nChanges we make to the virtual\nare replicated over to that one.\n\n28\n00:01:16.590 --> 00:01:19.230\nIn the event of a failure,\nwe've got that one.\n\n29\n00:01:19.230 --> 00:01:20.960\nWe get it up and running,\nwe're good to go.\n\n30\n00:01:22.060 --> 00:01:25.441\nThen we start talking about live\nmigration and we can do live migration.\n\n31\n00:01:25.441 --> 00:01:28.088\nWe can even do it without clusters now.\n\n32\n00:01:28.088 --> 00:01:31.786\nBut we had to do a little setup,\nwe had to decide what we wanted to use for\n\n33\n00:01:31.786 --> 00:01:33.850\nour authentication protocol.\n\n34\n00:01:33.850 --> 00:01:37.363\nAnd I said we could either use CredSSP or\nwe could use Kerberos.\n\n35\n00:01:37.363 --> 00:01:40.410\nDon't think I mentioned what CredSSP was.\n\n36\n00:01:40.410 --> 00:01:45.135\nSSP is Security Support Provider, so\nCredential Security Support Provider.\n\n37\n00:01:45.135 --> 00:01:50.580\nCame out back in gosh,\nI wanna say it was XP Service Pack 3.\n\n38\n00:01:50.580 --> 00:01:54.694\nBut it was a way that a client\nran this client-side CredSSP or\n\n39\n00:01:54.694 --> 00:01:59.066\na security service provider\ncould use delegated credentials.\n\n40\n00:01:59.066 --> 00:02:01.926\nOr could basically take the user's\ncredentials on that client,\n\n41\n00:02:01.926 --> 00:02:03.230\npass them back to the server.\n\n42\n00:02:03.230 --> 00:02:07.601\nThe server could access an application,\ndata, what have you as that user, right?\n\n43\n00:02:07.601 --> 00:02:11.580\nSo it was a form of delegation and\npassing through credentials.\n\n44\n00:02:11.580 --> 00:02:15.725\nVery popular, still used,\nused a lot, as a matter of fact.\n\n45\n00:02:15.725 --> 00:02:20.120\nBut it does involve a little more setup,\nand so we decided to go with Kerberos.\n\n46\n00:02:20.120 --> 00:02:23.763\nAnd with Kerberos,\nwe did have to set up delegation.\n\n47\n00:02:23.763 --> 00:02:26.654\nWe had to go in to the properties\nof the servers themselves.\n\n48\n00:02:26.654 --> 00:02:30.485\nAnd we had to say, hey node one\nis allowed to access node two.\n\n49\n00:02:30.485 --> 00:02:33.660\nCuz that's what I want to do\nthe live migrations between.\n\n50\n00:02:33.660 --> 00:02:35.686\nAnd it can use its credentials,\n\n51\n00:02:35.686 --> 00:02:39.968\nit can delegate its credentials\nover to those services on node two.\n\n52\n00:02:39.968 --> 00:02:43.968\nThere was the CIFS service,\nas well as the virtual machine\n\n53\n00:02:43.968 --> 00:02:48.810\nmigration services service,\nif I remember that name correctly.\n\n54\n00:02:48.810 --> 00:02:50.680\nBut those two, we did the delegation on.\n\n55\n00:02:50.680 --> 00:02:53.814\nOne thing I didn't show you\nthat you must do in order for\n\n56\n00:02:53.814 --> 00:02:57.916\nall this to work is once you've set\nup that delegation on both servers.\n\n57\n00:02:57.916 --> 00:02:59.800\nYou need to reboot those machines.\n\n58\n00:02:59.800 --> 00:03:03.160\nBecause it's now going\nto need a new updated\n\n59\n00:03:03.160 --> 00:03:06.760\nsecurity token with the rights to do that.\n\n60\n00:03:06.760 --> 00:03:09.520\nSo if you forget to do that,\nif you just go do it in Active Directory,\n\n61\n00:03:09.520 --> 00:03:11.508\nand then you try to test this out.\n\n62\n00:03:11.508 --> 00:03:17.030\nIt's not gonna function until both those\nservers get issued new security tokens.\n\n63\n00:03:17.030 --> 00:03:19.410\nWhen do computers get\ntheir security tokens?\n\n64\n00:03:19.410 --> 00:03:22.563\nWhen they start up, so\nyou must reboot those servers.\n\n65\n00:03:22.563 --> 00:03:25.860\nWhich I've already taken\nthe liberty of doing for us.\n\n66\n00:03:25.860 --> 00:03:31.184\nAll right, so now that that's done\nI'm going to remote into node one,\n\n67\n00:03:31.184 --> 00:03:34.045\nthe first of my two Hyper-V servers.\n\n68\n00:03:34.045 --> 00:03:35.550\nAnd we're going to set up live migration.\n\n69\n00:03:35.550 --> 00:03:41.656\nSo I'm gonna pull up Hyper-V,\nand I won't click it again.\n\n70\n00:03:41.656 --> 00:03:43.491\nAnd I'll be patient so\nI don't open it twice.\n\n71\n00:03:46.254 --> 00:03:48.866\nI'll make that a little bit bigger,\nwe'll go to NODE01.\n\n72\n00:03:48.866 --> 00:03:53.430\nAnd we're gonna do our Hyper-V\nsettings for this Hyper-V server.\n\n73\n00:03:53.430 --> 00:03:58.290\nAnd one of our options in our\nsettings is Live Migrations.\n\n74\n00:03:58.290 --> 00:04:00.880\nAnd you can see it says\nNo Live Migrations.\n\n75\n00:04:00.880 --> 00:04:03.020\nSo, we're gonna change that,\nwe're gonna enable incoming and\n\n76\n00:04:03.020 --> 00:04:05.270\noutgoing live migrations.\n\n77\n00:04:05.270 --> 00:04:08.154\nNow, this can be done during\nthe installation of Hyper-V.\n\n78\n00:04:08.154 --> 00:04:11.800\nI always skip it, I just say if I\nwanna do this I'll add it later.\n\n79\n00:04:11.800 --> 00:04:15.400\nBut you can enable this during\nthe installation of Hyper-V as well.\n\n80\n00:04:15.400 --> 00:04:20.149\nSimultaneous live migrations, how many\nsimultaneous migrations can occur.\n\n81\n00:04:21.290 --> 00:04:24.990\nSet that to whatever you\nthink your server can handle.\n\n82\n00:04:24.990 --> 00:04:28.400\nIncoming live migrations use\nany available network or\n\n83\n00:04:28.400 --> 00:04:31.720\nuse this IP address for live migrations.\n\n84\n00:04:31.720 --> 00:04:35.660\nNow, I've set up these virtual machines,\nI'll zoom back out.\n\n85\n00:04:36.840 --> 00:04:39.960\nPull up my Network and\nSharing Center real quick.\n\n86\n00:04:39.960 --> 00:04:43.930\nI've basically got a private network\nbetween these two virtual machines.\n\n87\n00:04:43.930 --> 00:04:48.820\nSo this Ethernet 2 is\na internal network between\n\n88\n00:04:48.820 --> 00:04:53.124\nthese two VMs, these two Hyper-V hosts.\n\n89\n00:04:53.124 --> 00:04:56.339\nBecause when you start migrating these\nvirtual machines it can be a lot of\n\n90\n00:04:56.339 --> 00:04:57.930\ntraffic sent across that network.\n\n91\n00:04:57.930 --> 00:05:01.271\nYou don't want it impacting other\ndata that's on your network.\n\n92\n00:05:01.271 --> 00:05:04.540\nOr having that other data\nimpact your migration, right?\n\n93\n00:05:04.540 --> 00:05:08.590\nSo best way to do it is to isolate it,\nwe've talked about isolation before.\n\n94\n00:05:08.590 --> 00:05:12.271\nYou create a separate virtual switch,\nyou make it internal in this case.\n\n95\n00:05:12.271 --> 00:05:16.636\nSo that only the nodes can talk on it and\nthe Hyper-V hosts.\n\n96\n00:05:16.636 --> 00:05:20.070\nAnd then you add a network adapter for\neach one of your VMs and attach it to it.\n\n97\n00:05:20.070 --> 00:05:23.700\nSo now they have a nice private network\nthat they can use for live migration.\n\n98\n00:05:23.700 --> 00:05:27.810\nSo I'm gonna say use these IP\naddresses for live migrations.\n\n99\n00:05:27.810 --> 00:05:33.623\nAnd I'll click Add and 192,\nthere's no commas in an IP address,\n\n100\n00:05:33.623 --> 00:05:36.439\njust in case you were wondering.\n\n101\n00:05:36.439 --> 00:05:41.401\n102.168.100.101 is the IP address\n\n102\n00:05:41.401 --> 00:05:45.240\nI want this particular computer to use.\n\n103\n00:05:45.240 --> 00:05:48.610\nCuz he's got two IP addresses,\nthat's that private one.\n\n104\n00:05:48.610 --> 00:05:50.070\nAnd let's see what else,\n\n105\n00:05:50.070 --> 00:05:54.990\nif we expand out live migrations,\nthere are some advanced features as well.\n\n106\n00:05:54.990 --> 00:05:59.510\nAnd we need to go in here and specify\nwhether or not we're using CredSSP, or\n\n107\n00:05:59.510 --> 00:06:00.280\nKerberos.\n\n108\n00:06:00.280 --> 00:06:04.880\nAnd we are using Kerberos, more secure,\nbut requires constrained delegation.\n\n109\n00:06:04.880 --> 00:06:08.270\nThat's what we did in the previous\nepisode in Active Directory.\n\n110\n00:06:08.270 --> 00:06:11.450\nPerformance options, do I do compression.\n\n111\n00:06:11.450 --> 00:06:15.774\nDo I wanna do TCP, the memory of\nthe VM being migrated is copied over\n\n112\n00:06:15.774 --> 00:06:19.651\nthe network to the destination\nserver over a TCP or use SMB.\n\n113\n00:06:19.651 --> 00:06:23.698\nI'm gonna leave it on the default\ncompression and we'll go ahead and\n\n114\n00:06:23.698 --> 00:06:24.340\nclick OK.\n\n115\n00:06:26.450 --> 00:06:31.150\nBut surprise, surprise, I need to do the\nsame thing on the other Hyper-V server.\n\n116\n00:06:32.320 --> 00:06:37.841\nSo I'm going to open up Hyper-V\non this server, node two.\n\n117\n00:06:37.841 --> 00:06:43.700\nAnd basically repeat that process,\nbut you know what repetition is.\n\n118\n00:06:45.430 --> 00:06:49.650\n&gt;&gt; No, I don't, I don't know what you\nmean there, Mike, I don't get it.\n\n119\n00:06:49.650 --> 00:06:51.540\n&gt;&gt; Evidently, neither do I,\nI cannot say it.\n\n120\n00:06:52.600 --> 00:06:56.664\nRepetition is a great way to learn\nis what I was trying to spit out.\n\n121\n00:06:56.664 --> 00:06:59.090\nSo there we've go live migration,\nwe'll turn it on.\n\n122\n00:06:59.090 --> 00:07:02.600\nI'll leave it at 2 on this guy,\nhe's a little beefier, the heck.\n\n123\n00:07:02.600 --> 00:07:08.029\nI'll add his private IP address for\nthat private network,\n\n124\n00:07:08.029 --> 00:07:13.359\n102.168.100.102, and I'll click OK.\n\n125\n00:07:13.359 --> 00:07:18.150\nAnd you can specify like a subnet address\nthere, if it had multiple adapters.\n\n126\n00:07:19.720 --> 00:07:23.060\nAnd what else,\nlet me set up my credentials.\n\n127\n00:07:23.060 --> 00:07:26.190\nMy advanced options,\nwe're gonna use Kerberos, and\n\n128\n00:07:26.190 --> 00:07:28.430\nI'll click OK, and that's it.\n\n129\n00:07:28.430 --> 00:07:29.830\nSo now at this point,\n\n130\n00:07:29.830 --> 00:07:35.470\nboth of my Hyper-V nodes have been\nset up to support live migration.\n\n131\n00:07:35.470 --> 00:07:40.040\nSo we should be able to try it out, right?\n\n132\n00:07:41.130 --> 00:07:45.842\nSo what I'm gonna do is I am\ngoing to flip over to node one.\n\n133\n00:07:45.842 --> 00:07:50.513\nAnd I've got this sharedNothing guy,\nwe're gonna use him for\n\n134\n00:07:50.513 --> 00:07:52.728\na couple of little labs here.\n\n135\n00:07:52.728 --> 00:08:01.905\nI'm gonna pull him up or get him up and\nrunning And [CROSSTALK].\n\n136\n00:08:01.905 --> 00:08:08.381\nEventually so what we wanna do,\nwe wanna test a couple of things here.\n\n137\n00:08:08.381 --> 00:08:09.896\nLet me make sure I don't skip anything,\n\n138\n00:08:09.896 --> 00:08:12.091\nwe wanna do a shared nothing\nlike migration and a storage.\n\n139\n00:08:12.091 --> 00:08:17.010\nWe are also gonna do some clusters,\nsome migrations well run on clusters.\n\n140\n00:08:17.010 --> 00:08:21.630\nBut that'll come in a little bit\nin a future episode as we get our\n\n141\n00:08:21.630 --> 00:08:24.760\ncluster set up and then we'll go back and\ntake a look at migrating there.\n\n142\n00:08:24.760 --> 00:08:27.030\nAnd it's pretty interesting with the,\n\n143\n00:08:27.030 --> 00:08:32.210\nwhat was I gonna say,\nthe shared nothing live migration.\n\n144\n00:08:32.210 --> 00:08:34.550\nIn this case we're moving the hard drive.\n\n145\n00:08:34.550 --> 00:08:36.820\nAnd so it can take,\ndepending on your network and\n\n146\n00:08:36.820 --> 00:08:41.010\nthe size of your virtual machine, ten,\n15 minutes, which still isn't that bad.\n\n147\n00:08:41.010 --> 00:08:43.970\nYou get into the live migration\non these clusters, and\n\n148\n00:08:43.970 --> 00:08:46.000\nthere's no perceivable down time.\n\n149\n00:08:46.000 --> 00:08:48.930\nWhen they're using shared storage,\nit is pretty impressive.\n\n150\n00:08:50.130 --> 00:08:51.490\nAll right.\nIt is up and running.\n\n151\n00:08:51.490 --> 00:08:54.210\nLet's go ahead and connect to it.\n\n152\n00:08:54.210 --> 00:08:55.960\nI don't think I can actually.\n\n153\n00:08:55.960 --> 00:09:00.028\nI was trying to think of a way I could\nshow you this desktop as we migrated it.\n\n154\n00:09:03.906 --> 00:09:05.931\nI don't think I'm going\nto be able to do that.\n\n155\n00:09:05.931 --> 00:09:07.944\nWe will try.\n\n156\n00:09:12.814 --> 00:09:15.087\n[SOUND] Unless I set him up for,\nwell, we'll wait and see.\n\n157\n00:09:15.087 --> 00:09:16.733\nLet it get him up and\nrunning, we'll log into it.\n\n158\n00:09:16.733 --> 00:09:21.480\nSo anyway, what I'm gonna do is now\nthat it's up and running or it's getting\n\n159\n00:09:21.480 --> 00:09:26.462\nlogged in there, I'm gonna right-click\non this VM and I'm gonna choose Move.\n\n160\n00:09:26.462 --> 00:09:31.090\nThat's gonna launch a wizard and it's\ngoing to give me a few different options.\n\n161\n00:09:31.090 --> 00:09:35.825\nI'll click next and I can see my options\nhere are going to be move the virtual\n\n162\n00:09:35.825 --> 00:09:40.866\nmachine and optionally it's stored with\nanother computer running hyper-v or\n\n163\n00:09:40.866 --> 00:09:43.442\njust move the virtual machine storage.\n\n164\n00:09:43.442 --> 00:09:47.012\nSo, move the virtual\nmachine is gonna reboot,\n\n165\n00:09:47.012 --> 00:09:52.920\nit can feed file what node is hosting that\nVM and the storage if I choose to do so.\n\n166\n00:09:54.030 --> 00:09:57.140\nMove the virtual machine\nstorage is not changing\n\n167\n00:09:57.140 --> 00:10:01.900\nwhich type of the server is\nhosting the storage for that VM.\n\n168\n00:10:01.900 --> 00:10:05.900\nAnd let's start with,\nwell let's start with that one.\n\n169\n00:10:05.900 --> 00:10:07.460\nWe'll do move the virtual machine storage.\n\n170\n00:10:07.460 --> 00:10:12.470\nSo, this is called storage migration,\nand I'm gonna click next on the wizard,\n\n171\n00:10:13.570 --> 00:10:16.490\nand I want to move, here's my choices for\nthe storage migration,\n\n172\n00:10:16.490 --> 00:10:19.450\nmove all the virtual machines\ndated to a single location,\n\n173\n00:10:19.450 --> 00:10:22.920\nmove the virtual machines\ndated to different locations.\n\n174\n00:10:22.920 --> 00:10:25.770\nMove only the virtual\nmachines virtual hard disk.\n\n175\n00:10:25.770 --> 00:10:26.400\nAll right?\n\n176\n00:10:26.400 --> 00:10:29.320\nSo really are you taking if it had\nmultiple hard drives do you moving them\n\n177\n00:10:29.320 --> 00:10:32.270\nall, you wanna move some here, some there.\n\n178\n00:10:32.270 --> 00:10:36.670\nAre you just moving the VHDs\nnot any check points or\n\n179\n00:10:36.670 --> 00:10:39.850\nany other AVHD files or\nanything like that.\n\n180\n00:10:39.850 --> 00:10:41.930\nWe'll move everything\nto a single location.\n\n181\n00:10:43.260 --> 00:10:45.360\nAnd I'll click Next.\n\n182\n00:10:45.360 --> 00:10:50.660\nAnd I was just trying to remember if\nI connected to that SCSI drive yet.\n\n183\n00:10:50.660 --> 00:10:52.080\nI have a.\n\n184\n00:10:55.580 --> 00:10:57.331\nYeah, there's that drive is up and\nrunning.\n\n185\n00:10:57.331 --> 00:11:01.310\nSo I've got an iSCSI drive over on DC1.\n\n186\n00:11:01.310 --> 00:11:04.230\nBut I'm going to attempt\nto move the storage too.\n\n187\n00:11:04.230 --> 00:11:08.790\nSo for the new location I'm\ngonna click browse, and\n\n188\n00:11:08.790 --> 00:11:10.800\nI'm going to go to that ISCSI drive.\n\n189\n00:11:10.800 --> 00:11:16.088\nI'll even make a new folder and\nwe'll call it\n\n190\n00:11:16.088 --> 00:11:21.664\nsharednothing cuz that's\nthe name of that VM.\n\n191\n00:11:24.819 --> 00:11:26.495\nI'm gonna select that folder.\n\n192\n00:11:26.495 --> 00:11:28.660\nAll right, so there's my size, 8.4.\n\n193\n00:11:28.660 --> 00:11:32.190\nAvailable space is big enough.\n\n194\n00:11:32.190 --> 00:11:35.880\nWe'll click Next, and we'll click, and\n\n195\n00:11:35.880 --> 00:11:40.820\nnotice I'm only moving here, it doesn't\nhave any checkpoints or smart paging.\n\n196\n00:11:40.820 --> 00:11:44.190\nBut the current configuration\nis not moving, right?\n\n197\n00:11:44.190 --> 00:11:47.650\nThe instances, storage migration\nwere just moving the harddrives.\n\n198\n00:11:47.650 --> 00:11:48.860\nAnd why we have been doing this?\n\n199\n00:11:48.860 --> 00:11:50.670\nWhy would be using this?\n\n200\n00:11:50.670 --> 00:11:54.530\nMost likely if you are a small\nshop you are starting to grow and\n\n201\n00:11:54.530 --> 00:11:58.830\nyou wanna move this drive to clustered\nshared volumes, you wanna move over to\n\n202\n00:11:58.830 --> 00:12:03.620\na SAN higher performance get if off\nto that local Hyper-V server and\n\n203\n00:12:03.620 --> 00:12:06.880\nthis is how you can do without\nhaving to rebuild your machines or\n\n204\n00:12:06.880 --> 00:12:09.790\ntry to export them or import them,\nand you just move the storage.\n\n205\n00:12:10.850 --> 00:12:13.860\nWe'll click finish, we'll let that run.\n\n206\n00:12:13.860 --> 00:12:15.880\nAnd I wanna try to look,\nlet's see if I can.\n\n207\n00:12:15.880 --> 00:12:20.285\nAll right, so here's the machine\nthat I'm moving the drives for.\n\n208\n00:12:24.457 --> 00:12:27.690\nI need a little video that I can play\nwhile it's migrating here but you'll see,\n\n209\n00:12:27.690 --> 00:12:29.631\nyeah, things are moving\non the desktop there.\n\n210\n00:12:29.631 --> 00:12:32.585\nSo we're in my Start menu.\n\n211\n00:12:35.691 --> 00:12:41.275\nAnd you can see it's 10% moving,\n11%, slowly moving everything over.\n\n212\n00:12:41.275 --> 00:12:45.050\nBut I'm not losing my connectivity here.\n\n213\n00:12:45.050 --> 00:12:47.580\nYou see, everything's still working?\n\n214\n00:12:50.380 --> 00:12:51.910\nAlthough it's probably\nslowing it down a little bit.\n\n215\n00:12:51.910 --> 00:12:54.410\n&gt;&gt; Yeah, and this is all being\ndone over the network, correct?\n\n216\n00:12:54.410 --> 00:12:55.010\n&gt;&gt; Yes, it is.\n\n217\n00:12:55.010 --> 00:12:57.350\nSo it could take a little while.\n\n218\n00:12:57.350 --> 00:13:02.480\nIn fact, we could probably, let's see if\nit's going to jump up in just a second,\n\n219\n00:13:02.480 --> 00:13:05.620\nonce it gets the bulk of it moved.\n\n220\n00:13:05.620 --> 00:13:09.770\nThe idea is not losing\nthat connectivity because\n\n221\n00:13:09.770 --> 00:13:14.740\nit's basically taking a snapshot,\nmoving that over, and then any changes\n\n222\n00:13:14.740 --> 00:13:18.430\nthat it made since the snapshot\nare going to be done at the very end.\n\n223\n00:13:18.430 --> 00:13:21.380\nAnd it'll flop those over there,\nand everything is good to go.\n\n224\n00:13:21.380 --> 00:13:25.390\nAnd that's when you might get a brief-\n&gt;&gt; Interrupt-\n\n225\n00:13:25.390 --> 00:13:28.250\n&gt;&gt; Yeah, interruption in the connectivity\n\n226\n00:13:28.250 --> 00:13:31.190\nto that VM, but very slight,\nmost likely you won't even lose,\n\n227\n00:13:31.190 --> 00:13:34.960\nlike if the user was remoted into it,\nwouldn't even lose their connection.\n\n228\n00:13:34.960 --> 00:13:38.670\nThey might notice a, if they're watching\na video streaming from the hard drive,\n\n229\n00:13:38.670 --> 00:13:42.670\nI mean they might see a little blip in it,\nand that's about it, right?\n\n230\n00:13:42.670 --> 00:13:45.000\nSo that is the storage migration.\n\n231\n00:13:45.000 --> 00:13:46.170\nAnd unfortunately,\n\n232\n00:13:46.170 --> 00:13:49.730\nthat was also the machine I was\ngonna do the live migration on.\n\n233\n00:13:49.730 --> 00:13:52.340\nBut, hey, we can make this happen.\n\n234\n00:13:52.340 --> 00:13:54.370\nSo I'll tell you what,\nwhy don't we do this.\n\n235\n00:13:54.370 --> 00:13:57.910\nWe'll let this finish up and then we'll\ncome back as soon as that finishes.\n\n236\n00:13:57.910 --> 00:13:59.210\nWe'll see where everything stands,\n\n237\n00:13:59.210 --> 00:14:03.270\nand then we'll try to do a live\nmigration from node one to node two.\n\n238\n00:14:03.270 --> 00:14:07.360\nAll, right it really didn't\ntake that much longer.\n\n239\n00:14:07.360 --> 00:14:08.980\nWe're back, let's see what we've got here.\n\n240\n00:14:08.980 --> 00:14:13.580\nIt finished moving and you can see,\nwell you didn't get to see it but\n\n241\n00:14:13.580 --> 00:14:17.780\nit completed, I mean really not long right\nafter we took the time out because I knew\n\n242\n00:14:17.780 --> 00:14:20.920\nit was sitting there 12, 13% all of\na sudden it was going to finish.\n\n243\n00:14:20.920 --> 00:14:25.210\nBut the machine never went down,\nwe never lost connectivity to it.\n\n244\n00:14:25.210 --> 00:14:28.060\nAnd the hard drive,\nif we look, let's take a peep.\n\n245\n00:14:30.670 --> 00:14:31.200\nAll right.\n\n246\n00:14:31.200 --> 00:14:34.070\nWhere are my hard drives on this machine?\n\n247\n00:14:34.070 --> 00:14:36.170\nLet's see if we can find them.\n\n248\n00:14:36.170 --> 00:14:40.290\nI've got so many virtual machines or\nvirtual servers.\n\n249\n00:14:40.290 --> 00:14:43.050\nSo my hard drives, user public documents.\n\n250\n00:14:43.050 --> 00:14:46.790\nSo we'll open up File Explorer.\n\n251\n00:14:46.790 --> 00:14:48.644\nAnd we'll go into this PC.\n\n252\n00:14:48.644 --> 00:14:54.790\nSo, you scroll in users, public,\n\n253\n00:14:54.790 --> 00:15:00.040\npublic documents, hyper V,\nvirtual hard disks, and\n\n254\n00:15:00.040 --> 00:15:06.010\nthe drive for shared nothing is gone.\n\n255\n00:15:06.010 --> 00:15:10.350\nIf we take a look at my iSCSI\ndrive over there on DC1\n\n256\n00:15:11.880 --> 00:15:14.780\nthere's all the virtual drives for\nthat virtual machine.\n\n257\n00:15:14.780 --> 00:15:19.760\nSo they were successfully moved\nacross the network to an iSCSI drive\n\n258\n00:15:19.760 --> 00:15:24.880\non another physical server without\nlosing any connectivity to the machine.\n\n259\n00:15:24.880 --> 00:15:26.190\n&gt;&gt; That's pretty impressive.\n\n260\n00:15:26.190 --> 00:15:27.166\n&gt;&gt; I think it's pretty cool.\n\n261\n00:15:27.166 --> 00:15:27.880\nIn my book.\n[LAUGH]\n\n262\n00:15:27.880 --> 00:15:28.739\n&gt;&gt; In my book too.\n\n263\n00:15:28.739 --> 00:15:29.391\n&gt;&gt; Yeah.\n\n264\n00:15:29.391 --> 00:15:32.114\n&gt;&gt; [LAUGH]\n&gt;&gt; Sorry, we're just messing with here.\n\n265\n00:15:32.114 --> 00:15:33.830\n&gt;&gt; [LAUGH]\n&gt;&gt; He can't get the switch in there.\n\n266\n00:15:33.830 --> 00:15:35.005\nWe're just saying three words.\n\n267\n00:15:35.005 --> 00:15:38.250\n[LAUGH] All right, so that work now.\n\n268\n00:15:38.250 --> 00:15:43.075\nThe next thing you wanna do but, next\nthing you wanna do is a live migration but\n\n269\n00:15:43.075 --> 00:15:44.572\npay attention.\n\n270\n00:15:44.572 --> 00:15:47.395\nIs still the owner of this\nvirtual machine, right?\n\n271\n00:15:47.395 --> 00:15:52.970\nIn the Hyper-V console of I still\nsee sharedNothing sitting there.\n\n272\n00:15:52.970 --> 00:15:54.906\nSo that never changed.\n\n273\n00:15:54.906 --> 00:15:57.790\nThat's what we talk about\ndoing a full live migration.\n\n274\n00:15:57.790 --> 00:16:00.530\nThe last one we just did\nwas storage migration.\n\n275\n00:16:00.530 --> 00:16:03.630\nAll we were doing was moving\nthe storage of the virtual machine.\n\n276\n00:16:03.630 --> 00:16:07.180\nNow I wanna try do a live migration of\nthe entire thing, the virtual machine,\n\n277\n00:16:07.180 --> 00:16:11.550\nthe config file and the host that's\nrunning that virtual machine.\n\n278\n00:16:11.550 --> 00:16:14.780\nSo what we're going to do is, I'm just\ngoing to right click on it again and\n\n279\n00:16:14.780 --> 00:16:19.090\nchoose Move and we'll click Next.\n\n280\n00:16:19.090 --> 00:16:22.550\nAnd this time I'm going to move\nthe virtual machine, not just the storage.\n\n281\n00:16:23.990 --> 00:16:25.730\nI'll click Next.\n\n282\n00:16:25.730 --> 00:16:30.179\nThe name of the destination\nis going to be Node\n\n283\n00:16:30.179 --> 00:16:34.520\n02.lab.itpro.tv we'll click Next.\n\n284\n00:16:36.910 --> 00:16:40.890\nAnd we're gonna move the virtual\nmachine's data to a single location.\n\n285\n00:16:42.800 --> 00:16:43.670\nWe'll click Next.\n\n286\n00:16:46.060 --> 00:16:47.280\nWhere do I wanna put it?\n\n287\n00:16:47.280 --> 00:16:48.030\nOver there on node02.\n\n288\n00:16:48.030 --> 00:16:55.010\nAnd notice when I click Browse, right,\nit's looking at node02, node02 over there.\n\n289\n00:16:55.010 --> 00:16:58.836\nI'll click Local Disk and\njust to make it easier to find,\n\n290\n00:16:58.836 --> 00:17:02.672\nI'll make a folder of my C\ndrive here real quick, maybe.\n\n291\n00:17:07.149 --> 00:17:09.220\nIt's not gonna like us doing that.\n\n292\n00:17:09.220 --> 00:17:11.160\nWhat's the best way to do this?\n\n293\n00:17:14.930 --> 00:17:17.060\nLet me create a new folder here.\n\n294\n00:17:17.060 --> 00:17:18.230\nInteresting.\n\n295\n00:17:22.790 --> 00:17:24.070\nThat's kind of limiting.\n\n296\n00:17:28.270 --> 00:17:29.290\nI will go to my users.\n\n297\n00:17:30.590 --> 00:17:31.698\nActually, I know what I can do.\n\n298\n00:17:31.698 --> 00:17:36.950\nThere's a Hyper-V folder on this guy,\nPublic, Documents, Hyper-V.\n\n299\n00:17:36.950 --> 00:17:40.540\nWe'll just dump it in here,\nwe'll say Select Folder.\n\n300\n00:17:41.830 --> 00:17:46.335\nI'll click Next, and Finish.\n\n301\n00:17:49.839 --> 00:17:51.710\nAll right, and\nit says performing the move.\n\n302\n00:17:51.710 --> 00:17:54.570\nNow notice with this one,\nyou can see it in the background,\n\n303\n00:17:54.570 --> 00:17:56.480\nif it'll let me move this right now.\n\n304\n00:17:56.480 --> 00:18:01.150\nThis thumbnail down here for\nsharedNothing went dark, all right?\n\n305\n00:18:01.150 --> 00:18:06.840\nSo it does have to bring the machine\ndown for this type of move, all right?\n\n306\n00:18:06.840 --> 00:18:08.380\nSo we do lose connectivity.\n\n307\n00:18:08.380 --> 00:18:13.870\nThis is not quite like we do\nif we have shared storage,\n\n308\n00:18:13.870 --> 00:18:15.200\nwe've got to shut the machine down,\n\n309\n00:18:15.200 --> 00:18:18.210\nwe've got to move everything over,\nand then, bring it back up.\n\n310\n00:18:18.210 --> 00:18:21.835\nLet's go take a look at node 2 and\nsee what's going on over there.\n\n311\n00:18:23.251 --> 00:18:28.719\nFlip over node 2, notice I don't\nsee shared, nothing just yet\n\n312\n00:18:28.719 --> 00:18:33.292\npopping up that if we took\na look at the file explorer.\n\n313\n00:18:37.339 --> 00:18:38.680\nIt's a little busy right now.\n\n314\n00:18:38.680 --> 00:18:41.531\nThe disk I/O is probably\ngoing through the roof.\n\n315\n00:18:41.531 --> 00:18:42.737\nThis PC.\n\n316\n00:18:45.788 --> 00:18:46.946\nIs really slow.\n\n317\n00:18:49.167 --> 00:18:52.533\nNot that I expect anything different,\nI mean these are VMs and\n\n318\n00:18:52.533 --> 00:18:54.690\nwe're doing a live migration on here.\n\n319\n00:18:54.690 --> 00:18:56.264\nPublic.\n\n320\n00:18:56.264 --> 00:18:59.550\n&gt;&gt; Because the computer\nis not aware that are.\n\n321\n00:18:59.550 --> 00:19:01.130\n&gt;&gt; Documents.\n&gt;&gt; We're on a show here.\n\n322\n00:19:01.130 --> 00:19:02.659\nWe like to see some action.\n\n323\n00:19:02.659 --> 00:19:08.110\n[LAUGH] And I'll continue in there, and\nwe should see these drives populating.\n\n324\n00:19:08.110 --> 00:19:10.890\nNow I say, and\nthere's all the drives for it.\n\n325\n00:19:10.890 --> 00:19:14.440\nI say we lose connectivity, but\nthat was really because I was using\n\n326\n00:19:14.440 --> 00:19:18.180\nvirtual machine connection,\nfrom within the HyperV host.\n\n327\n00:19:18.180 --> 00:19:22.010\nIt will have to shut it down briefly,\nbut it's not down very long.\n\n328\n00:19:22.010 --> 00:19:22.690\nAll right.\n\n329\n00:19:22.690 --> 00:19:26.490\nIt comes right back up, I just don't\nhave remote desktop connection\n\n330\n00:19:26.490 --> 00:19:30.610\nto it outside of my hyper V console so\nI can't really show you that.\n\n331\n00:19:30.610 --> 00:19:32.640\nThese guys are, I don't have\nthem set up for remote desktop.\n\n332\n00:19:34.720 --> 00:19:36.790\nBut it shouldn't be too much longer so\n\n333\n00:19:36.790 --> 00:19:39.140\nI'll tell you what we'll\ndo the same thing.\n\n334\n00:19:39.140 --> 00:19:43.420\nWe'll take a little break, when we come\nback that node should be up and running\n\n335\n00:19:43.420 --> 00:19:49.020\non, I should say that my virtual machine\nwill be up and running on node two.\n\n336\n00:19:49.020 --> 00:19:50.470\nAll right and that's it, it's done.\n\n337\n00:19:50.470 --> 00:19:52.470\nOnly a couple of minutes\nI think didn't it?\n\n338\n00:19:52.470 --> 00:19:53.530\nIt didn't take long at all.\n\n339\n00:19:53.530 --> 00:19:55.730\nLet's take a look at my screen here.\n\n340\n00:19:55.730 --> 00:20:01.760\nI forgot that I had my, it did not end up\nnot killing my virtual machine connection.\n\n341\n00:20:01.760 --> 00:20:05.701\nI thought it had kill it, lost it down\nthere in the taskbar for a minute, but\n\n342\n00:20:05.701 --> 00:20:06.400\nthere it is.\n\n343\n00:20:06.400 --> 00:20:10.290\nIt is still going, so we never lost\nconnectivity through this machine at all.\n\n344\n00:20:10.290 --> 00:20:13.960\nI was expecting a brief outage, especially\nsince I've done a storage migration,\n\n345\n00:20:13.960 --> 00:20:18.550\nand that was over on another server but\nit didn't drop at all.\n\n346\n00:20:18.550 --> 00:20:22.381\nIn fact, you can see up here,\nit's now running on Node 2, or\n\n347\n00:20:22.381 --> 00:20:24.830\nI'll just minimize that connection.\n\n348\n00:20:24.830 --> 00:20:27.350\nNow you can see it's gone from Node 1.\n\n349\n00:20:27.350 --> 00:20:33.910\nIf I flip over to Node 2,\nthere is shared nothing up and running.\n\n350\n00:20:33.910 --> 00:20:38.230\nSo the difference between the storage\nmigration we just migrated the storage for\n\n351\n00:20:38.230 --> 00:20:39.380\nour virtual machine.\n\n352\n00:20:39.380 --> 00:20:43.530\nThe Hyper-V server that owns\nthat machine remain the same.\n\n353\n00:20:43.530 --> 00:20:47.260\nWith an actual live migration,\nwe're moving the virtual machine.\n\n354\n00:20:47.260 --> 00:20:52.770\nMaybe or maybe not at storage from one\nHyper-V host to another Hyper-V host.\n\n355\n00:20:52.770 --> 00:20:53.590\nAnd it was that easy.\n\n356\n00:20:53.590 --> 00:20:57.880\nReally the only thing we had to do was\nset up our Kerboros delegation, right,\n\n357\n00:20:57.880 --> 00:20:59.450\nour constrained delegation.\n\n358\n00:20:59.450 --> 00:21:03.500\nAnd then configure the Hyper-V host\nthemselves to support live migration.\n\n359\n00:21:03.500 --> 00:21:05.420\nRight, go in there and\nchecking those options.\n\n360\n00:21:05.420 --> 00:21:08.150\nAnd then the last thing\nwas just to make sure that\n\n361\n00:21:08.150 --> 00:21:10.690\nin my case I set up a private\nnetwork between them so\n\n362\n00:21:10.690 --> 00:21:15.430\nthey have good bandwidth to start\nmigrating those guys over and that was it.\n\n363\n00:21:15.430 --> 00:21:16.440\nPretty cool.\n\n364\n00:21:16.440 --> 00:21:17.450\n&gt;&gt; Very nice stuff Michael.\n\n365\n00:21:17.450 --> 00:21:21.540\nThat lab migration, it's a nice thing,\nit's the new hotness.\n\n366\n00:21:21.540 --> 00:21:25.830\nFrom Microsoft, I don't know how new it is\nbut it's definitely hot and you'll like\n\n367\n00:21:25.830 --> 00:21:29.840\nit, you'll like to be able to go you mean\nI can just spin up a whole brand new\n\n368\n00:21:29.840 --> 00:21:34.530\nserver and migrate these things over and\nthey might not even lose connectivity?\n\n369\n00:21:35.720 --> 00:21:36.630\nHow's that a bad plan?\n\n370\n00:21:36.630 --> 00:21:40.170\nI like that, that's a good thing so\nMicrosoft we thank you for that one.\n\n371\n00:21:40.170 --> 00:21:40.790\nGood job.\n\n372\n00:21:40.790 --> 00:21:44.430\nKudos boys over in, where really it?\n\n373\n00:21:44.430 --> 00:21:45.280\nOregon?\nWashington?\n\n374\n00:21:45.280 --> 00:21:46.190\n&gt;&gt; Yes.\n&gt;&gt; Yeah,\n\n375\n00:21:46.190 --> 00:21:48.035\nI never remember where they are exactly.\n\n376\n00:21:48.035 --> 00:21:49.770\n&gt;&gt; [LAUGH]\n&gt;&gt; Mike, anything else we need to know\n\n377\n00:21:49.770 --> 00:21:52.020\nabout migrations or storage migration?\n\n378\n00:21:52.020 --> 00:21:52.960\n&gt;&gt; I don't think so.\n\n379\n00:21:52.960 --> 00:21:55.580\nLike I said that the biggest\nthing there is to make sure\n\n380\n00:21:55.580 --> 00:21:58.480\nyou're setting up the delegation,\nif you're using Kerberos.\n\n381\n00:21:58.480 --> 00:22:02.620\nIf you're gonna do the cred SSP,\nthen you make sure that you signed into\n\n382\n00:22:02.620 --> 00:22:07.670\nthe destination server at least once\nwith those credentials that we are using\n\n383\n00:22:07.670 --> 00:22:11.560\nto move the virtual machine\notherwise their process will fail.\n\n384\n00:22:11.560 --> 00:22:12.360\n&gt;&gt; Gotcha.\n\n385\n00:22:12.360 --> 00:22:17.150\n&gt;&gt; Words of wisdom from,\nI've caught what he's got, I can't talk.\n\n386\n00:22:17.150 --> 00:22:17.810\n&gt;&gt; [LAUGH]\n&gt;&gt; That being said,\n\n387\n00:22:17.810 --> 00:22:20.500\nwe have come to the end of another\nepisode, and not soon enough, right?\n\n388\n00:22:20.500 --> 00:22:21.855\nWe're done for [LAUGH].\n\n389\n00:22:21.855 --> 00:22:23.710\n&gt;&gt; [LAUGH]\n&gt;&gt; Thanks, Mike, for joining us.\n\n390\n00:22:23.710 --> 00:22:26.280\nWe thank you guys for\nhanging out with us and watching.\n\n391\n00:22:26.280 --> 00:22:27.050\nHopefully you've enjoyed it.\n\n392\n00:22:27.050 --> 00:22:28.070\nBut we're gonna go ahead and sign off.\n\n393\n00:22:28.070 --> 00:22:30.730\nFor ITProTV, I've been your host,\nDaniel Lowrie.\n\n394\n00:22:30.730 --> 00:22:31.460\n&gt;&gt; And I'm Mike Rodrick.\n\n395\n00:22:31.460 --> 00:22:32.543\n&gt;&gt; We'll see you next time.\n\n396\n00:22:36.749 --> 00:22:39.834\n[MUSIC]\n\n397\n00:22:39.834 --> 00:22:43.328\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "193953243"
        }
      ],
      "title": "Implement high availability"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Mike discuss maintaining Windows Server 2016 through Windows Server Update Services(WSUS). They start by explaining what WSUS is; quickly moving to hardware/software requirements for installation. Then they discuss deployment scenarios and hierarchies.",
          "length": "1657",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-1-maintain_server_installations-110116-PGM.00_27_23_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-1-maintain_server_installations-110116-PGM.00_27_23_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-1-maintain_server_installations-110116-PGM.00_27_23_26.Still001-sm.jpg",
          "title": "Maintain Server Installations",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.230\nWelcome to ITPRO TV.\n\n2\n00:00:01.230 --> 00:00:06.594\nI'm your host Don-\n&gt;&gt; [INAUDIBLE]\n\n3\n00:00:06.594 --> 00:00:11.126\n&gt;&gt; You're watching ITProTv.\n\n4\n00:00:11.126 --> 00:00:14.340\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:14.340 --> 00:00:16.500\nwelcome to another great\nepisode of ITPRO TV.\n\n6\n00:00:16.500 --> 00:00:19.490\nI'm your host Daniel Lowrie\non today's episode.\n\n7\n00:00:19.490 --> 00:00:23.740\nWell we are moving on more on our\nlittle series that we got going on with\n\n8\n00:00:23.740 --> 00:00:27.270\nthe installation storage and\ncompute for windows server 2016.\n\n9\n00:00:27.270 --> 00:00:31.910\nYes that is a mouthful and\njoining us back in the studio to help\n\n10\n00:00:31.910 --> 00:00:35.540\nmove us forward in that endeavour,\nour good friend Mr. Mike Roderick.\n\n11\n00:00:35.540 --> 00:00:36.390\nMike, welcome back Sir.\n\n12\n00:00:36.390 --> 00:00:36.970\nHow's going today?\n\n13\n00:00:36.970 --> 00:00:37.980\n&gt;&gt; I was fantastic Daniel.\n\n14\n00:00:37.980 --> 00:00:40.660\nThanks for having me back and\nwe are continuing on with Server 2016,\n\n15\n00:00:40.660 --> 00:00:41.980\nas you said.\n\n16\n00:00:41.980 --> 00:00:46.100\nIn this episode we are going to be looking\nat maintaining server installations.\n\n17\n00:00:46.100 --> 00:00:48.080\nWe've got a few things I want to go over.\n\n18\n00:00:48.080 --> 00:00:54.000\nThe first of which is going to be Windows\nserver update services or WSUS for short.\n\n19\n00:00:54.000 --> 00:00:59.060\nAlthough, WSUS is not even that much\neasier, sometimes my mouth gets tied up.\n\n20\n00:00:59.060 --> 00:01:01.950\nBut WSUS or Microsoft Windows Server,\n\n21\n00:01:01.950 --> 00:01:06.000\nupdate services has actually gone through\na few different acronyms over the years.\n\n22\n00:01:06.000 --> 00:01:08.910\nAnd when it first came out,\nthey had some acronyms that\n\n23\n00:01:08.910 --> 00:01:11.760\ndidn't work out like they wanted,\nso they've changed it up.\n\n24\n00:01:11.760 --> 00:01:14.520\nBut anyway, so WSUS is nothing new.\n\n25\n00:01:14.520 --> 00:01:15.950\nIt came out sometime around 2003,\n\n26\n00:01:15.950 --> 00:01:21.210\nI believe server 2003 is I think when\nwe Where we first started seeing WSUS.\n\n27\n00:01:21.210 --> 00:01:24.400\nBut what it is,\nWindows Server Update Services, basically,\n\n28\n00:01:24.400 --> 00:01:28.750\nit's a way that we can run\nour own update server, right?\n\n29\n00:01:28.750 --> 00:01:30.520\nWe're all familiar with Windows updates.\n\n30\n00:01:30.520 --> 00:01:32.200\nWe understand that we have to go out and\n\n31\n00:01:32.200 --> 00:01:35.820\nupdate our Microsoft products,\nincluding our Windows operating system.\n\n32\n00:01:35.820 --> 00:01:38.240\nWe reach out to those Microsoft servers.\n\n33\n00:01:38.240 --> 00:01:40.040\nin the middle of the night,\n3 o'clock in the morning.\n\n34\n00:01:40.040 --> 00:01:42.810\nIf you don't change your defaults,\nit scans, it says,\n\n35\n00:01:42.810 --> 00:01:44.890\nhey there's some updates for\nyou that you need.\n\n36\n00:01:44.890 --> 00:01:47.380\nIt'll install them,\nit'll keep our systems up to date.\n\n37\n00:01:47.380 --> 00:01:51.000\nThe updates are obviously very important,\nespecially the criticals and\n\n38\n00:01:51.000 --> 00:01:52.605\nthe security related updates.\n\n39\n00:01:52.605 --> 00:01:54.060\n[CROSSTALK]\n&gt;&gt; Why are those important?\n\n40\n00:01:54.060 --> 00:01:58.320\n&gt;&gt; Well, you know these bad guys,\nthere's one standing next to me over here,\n\n41\n00:01:58.320 --> 00:02:00.750\nwill try to get into your\nmachine when you're not looking,\n\n42\n00:02:00.750 --> 00:02:02.770\nif you don't apply all of those patches.\n\n43\n00:02:02.770 --> 00:02:04.430\n&gt;&gt; Don't do that, it's highly over-,\n\n44\n00:02:04.430 --> 00:02:07.000\nit's just fluff something\nto get you to do something.\n\n45\n00:02:07.000 --> 00:02:08.590\nNo you're right, it's extremely important.\n\n46\n00:02:08.590 --> 00:02:11.200\nWe have to keep these things up to date\nI worked in a corporate environment.\n\n47\n00:02:11.200 --> 00:02:15.330\nI was actually in charge of doing WSUS,\nand keeping that maintained and\n\n48\n00:02:15.330 --> 00:02:16.610\nall the updates going out.\n\n49\n00:02:16.610 --> 00:02:19.810\nIt is a job in and of itself,\nand for very good reason.\n\n50\n00:02:19.810 --> 00:02:21.650\nBecause, if we leave\nthese things unpatched,\n\n51\n00:02:21.650 --> 00:02:23.050\nbad guys are gonna get in your systems.\n\n52\n00:02:23.050 --> 00:02:23.920\nIt's just how it is.\n\n53\n00:02:23.920 --> 00:02:25.020\n&gt;&gt; Absolutely, and\n\n54\n00:02:25.020 --> 00:02:29.610\nyou gotta deal with things like end users\nfiguring out that, my grandson told\n\n55\n00:02:29.610 --> 00:02:33.576\nme that if I turned off my Windows updates\nmy machine would run faster, and it might.\n\n56\n00:02:33.576 --> 00:02:35.010\n&gt;&gt; [LAUGH] It does.\n&gt;&gt; [LAUGH] But\n\n57\n00:02:35.010 --> 00:02:37.150\nthat's still not a good thing.\n\n58\n00:02:37.150 --> 00:02:38.610\nSo, we know we've gotta get these updates.\n\n59\n00:02:38.610 --> 00:02:42.520\nEspecially, the criticals and the security\nrelated ones, those we need to apply.\n\n60\n00:02:42.520 --> 00:02:46.160\nThere's other updates that don't fall into\nthe critical category that we might or\n\n61\n00:02:46.160 --> 00:02:50.090\nmight not want or need depending on our\nenvironment, but we need to look at them.\n\n62\n00:02:50.090 --> 00:02:51.630\nWe need to see If we need them.\n\n63\n00:02:51.630 --> 00:02:55.740\nSo really as anyone saying in a large\nenvironment this is a full time job\n\n64\n00:02:55.740 --> 00:02:57.490\nmanaging these updates.\n\n65\n00:02:57.490 --> 00:03:03.320\nSo the idea behind WSUS is rather than\nhave all of my nodes, my clients.\n\n66\n00:03:03.320 --> 00:03:05.970\nAnd when I say update client I'm\nnot talking about client operating\n\n67\n00:03:05.970 --> 00:03:06.540\nsystem, right?\n\n68\n00:03:06.540 --> 00:03:07.550\nI'm talking about\n\n69\n00:03:08.950 --> 00:03:14.210\nany node that's consuming update\nservices would be an update client.\n\n70\n00:03:14.210 --> 00:03:17.150\nSo, whether that's running Windows 10,\nwhether that's running Server 2016,\n\n71\n00:03:17.150 --> 00:03:19.210\nit's still a Windows Update client.\n\n72\n00:03:19.210 --> 00:03:21.370\nRight?\nCuz it's consuming that service.\n\n73\n00:03:21.370 --> 00:03:25.360\nSo, we need to keep these machines up to\ndate and normally the way this works,\n\n74\n00:03:25.360 --> 00:03:28.460\nby default is our machines again\nreach out in the middle of the night,\n\n75\n00:03:28.460 --> 00:03:32.530\nthey talk to Microsoft, maintains\na database, what updates are available for\n\n76\n00:03:32.530 --> 00:03:35.470\nthat particular operating system and\npatch level.\n\n77\n00:03:35.470 --> 00:03:38.470\nIt'll scan the system,\nsee which one it already has.\n\n78\n00:03:38.470 --> 00:03:40.540\nIt'll tell it that there's\nsome available and\n\n79\n00:03:40.540 --> 00:03:44.410\nthen depending on your options it might\nautomatically download and install them.\n\n80\n00:03:44.410 --> 00:03:47.700\nIt might just download them and wait for\nyou to choose when to install them.\n\n81\n00:03:47.700 --> 00:03:50.920\nIt might just notify you that they're\navailable and you've gotta go download\n\n82\n00:03:50.920 --> 00:03:54.020\nthem, and choose to install it\nwhenever you get around to it.\n\n83\n00:03:54.020 --> 00:03:55.700\nSo that's our traditional method.\n\n84\n00:03:55.700 --> 00:03:59.660\nThe problem with that not only is it,\nwhat's a good way to say this?\n\n85\n00:03:59.660 --> 00:04:02.500\nThe big problem with that is\nin a corporate environment,\n\n86\n00:04:02.500 --> 00:04:08.010\nwe know sometimes patches don't work\nout the way they should, right?\n\n87\n00:04:08.010 --> 00:04:09.960\nIt's sad I mean it's an unfortunate thing.\n\n88\n00:04:09.960 --> 00:04:14.650\nMicrosoft does a great job of testing\nthese updates every way they can, making\n\n89\n00:04:14.650 --> 00:04:18.250\nsure that they're not gonna cause problems\nwhen they get deployed out to a machine.\n\n90\n00:04:18.250 --> 00:04:22.560\nBut they can't test every possible\ncombination of hardware and\n\n91\n00:04:22.560 --> 00:04:25.220\nsoftware that you might have\nrunning on your machines.\n\n92\n00:04:25.220 --> 00:04:28.560\nEspecially line of business applications,\nthat they have no idea about.\n\n93\n00:04:28.560 --> 00:04:30.940\nThey don't know what they are,\nwhat they do.\n\n94\n00:04:30.940 --> 00:04:33.250\nSo an update might come out in\nthe middle of the night and\n\n95\n00:04:33.250 --> 00:04:36.510\nall of a sudden nobody can print the next\nday or nobody can access your line\n\n96\n00:04:36.510 --> 00:04:40.930\nof business application and if we're\ntalking about a small shop or a home user.\n\n97\n00:04:40.930 --> 00:04:43.370\nIt's not the end of the world,\nwe can roll that update back maybe.\n\n98\n00:04:43.370 --> 00:04:45.330\nWe can do what we need to do\nto get it up and running.\n\n99\n00:04:45.330 --> 00:04:48.550\nWhat if you come in and\nyou've got 1,000 nodes that are down\n\n100\n00:04:48.550 --> 00:04:50.490\nbecause some update came out\nin the middle of the night?\n\n101\n00:04:50.490 --> 00:04:54.390\n&gt;&gt; Yeah Mike, and let me speak to that\nreally quickly because that's a big fear\n\n102\n00:04:54.390 --> 00:04:55.470\nfor Systems Admins.\n\n103\n00:04:55.470 --> 00:04:59.220\nRight, they go, man, what if we release\nthis patch and things go haywire and\n\n104\n00:04:59.220 --> 00:05:01.580\neverybody can't work when\nthey come into work tomorrow?\n\n105\n00:05:01.580 --> 00:05:04.050\nAnd it's just chaos, dogs and\ncats living together, right?\n\n106\n00:05:04.050 --> 00:05:06.240\nThe whole shebang, it's horrible.\n\n107\n00:05:06.240 --> 00:05:12.190\nI worked in an insurance as sysadmin for\neight plus years.\n\n108\n00:05:12.190 --> 00:05:16.430\nOut of that time when I was\nmaintaining the update services,\n\n109\n00:05:16.430 --> 00:05:19.040\nwe had maybe ten times that occurred.\n\n110\n00:05:19.040 --> 00:05:21.620\nAnd it was a very miniscule,\n\n111\n00:05:21.620 --> 00:05:25.780\nit hardly ever breaks everything\nwhere Armageddon occurs, okay?\n\n112\n00:05:25.780 --> 00:05:27.770\nIt's not something that happens a lot.\n\n113\n00:05:27.770 --> 00:05:28.640\nIt does happen.\n\n114\n00:05:28.640 --> 00:05:31.930\nYou do have to keep a test bed\nof computers that will get\n\n115\n00:05:31.930 --> 00:05:35.780\nupdates more rapidly than other so\nthat they can look over them.\n\n116\n00:05:35.780 --> 00:05:37.570\nSee if anybody calls and has issues.\n\n117\n00:05:37.570 --> 00:05:40.280\nThat way if you do you just\ndon't release that to the wild\n\n118\n00:05:40.280 --> 00:05:42.230\nuntil they come with a fix for that.\n\n119\n00:05:42.230 --> 00:05:44.640\nDon't be afraid to push updates.\n\n120\n00:05:44.640 --> 00:05:48.180\nI know a lot of guys in the seat\nright now that just say,\n\n121\n00:05:48.180 --> 00:05:51.600\nautomatically update everything that comes\nin and they don't have big issues from it.\n\n122\n00:05:51.600 --> 00:05:52.920\nSo it's not a big fear.\n\n123\n00:05:52.920 --> 00:05:56.150\n&gt;&gt; Correct, exactly, it's not\nsomething that happens all the time.\n\n124\n00:05:56.150 --> 00:06:01.560\nSo what WSUS allows me to do is really\ntake control of that update process,\n\n125\n00:06:01.560 --> 00:06:02.220\nbecause normally,\n\n126\n00:06:02.220 --> 00:06:05.690\nas we said earlier, these nodes are going\nout, they're talking to Microsoft.\n\n127\n00:06:05.690 --> 00:06:06.580\nMicrosoft, they're saying, hey,\n\n128\n00:06:06.580 --> 00:06:09.850\nthese are the updates your system doesn't\nhave yet, go ahead and install them.\n\n129\n00:06:09.850 --> 00:06:13.980\nThere's no opportunity for us as admins\nto look at the updates, see wether or\n\n130\n00:06:13.980 --> 00:06:17.240\nnot they're relevant in our environment,\nor test these up dates, and\n\n131\n00:06:17.240 --> 00:06:21.130\nsee if they're going to cause a problem on\nany of our systems, the way we have our\n\n132\n00:06:21.130 --> 00:06:24.420\nmachines set up, configured,\nsoftware that's running on there.\n\n133\n00:06:24.420 --> 00:06:26.270\nWe completely lose out on that.\n\n134\n00:06:26.270 --> 00:06:28.890\nSo WSUS brings that inside my network.\n\n135\n00:06:28.890 --> 00:06:31.630\nWe're gonna take that Microsoft\nwindows update server,\n\n136\n00:06:31.630 --> 00:06:33.370\nwe're gonna bring it into our network.\n\n137\n00:06:33.370 --> 00:06:36.830\nAnd we're gonna have control over\nwhen those updates get applied,\n\n138\n00:06:36.830 --> 00:06:41.010\nwhich updates get applied, to whom they\nget updated or to whom they get applied.\n\n139\n00:06:41.010 --> 00:06:44.820\nWe're going to run our own update\nserver and control all of it.\n\n140\n00:06:44.820 --> 00:06:49.140\nThat gives us a chance to do what we\nneed to do, to test those updates\n\n141\n00:06:49.140 --> 00:06:52.890\nbefore they go out to production,\nbefore they bring my web server down.\n\n142\n00:06:52.890 --> 00:06:57.410\nMy web server cluster comes down,\nmy business all of a sudden isn't making\n\n143\n00:06:57.410 --> 00:07:01.080\nany money And if it's down for an hour or\ntwo hours we're losing thousands or\n\n144\n00:07:01.080 --> 00:07:03.560\nhundred of thousands of dollars,\nI cant do that.\n\n145\n00:07:03.560 --> 00:07:06.730\nI can test that update first\nin a developing environment,\n\n146\n00:07:06.730 --> 00:07:07.960\nin a test environment.\n\n147\n00:07:07.960 --> 00:07:11.290\nThen I can push that out to\na production environment.\n\n148\n00:07:11.290 --> 00:07:17.190\nThat is what WSUS is all about, it gives\nme control over the update process.\n\n149\n00:07:17.190 --> 00:07:18.180\nSo let's see how it works.\n\n150\n00:07:18.180 --> 00:07:21.500\nWe're gonna talk about first\nthe hardware requirements for\n\n151\n00:07:21.500 --> 00:07:24.460\nWSUS, it's really pretty straightforward.\n\n152\n00:07:24.460 --> 00:07:26.935\nWe need a 1.4 GHz processor.\n\n153\n00:07:26.935 --> 00:07:28.305\nThis is really for the exam.\n\n154\n00:07:28.305 --> 00:07:31.005\nI mean most of us are gonna have\nat least this in our servers.\n\n155\n00:07:31.005 --> 00:07:35.035\nBut 1.4 gigahertz processor minimum,\n2 gigahertz recommended.\n\n156\n00:07:35.035 --> 00:07:37.015\nWe're gonna need 2 gigabytes of memory.\n\n157\n00:07:37.015 --> 00:07:39.045\nThe more the merrier\nobviously with memory.\n\n158\n00:07:39.045 --> 00:07:42.515\n10 gigabytes of disc space,\nknow that number for the exam.\n\n159\n00:07:42.515 --> 00:07:46.265\nAnd then forget it because in the real\nworld 10 gigabytes isn't gonna get you\n\n160\n00:07:46.265 --> 00:07:47.190\nvery far.\n\n161\n00:07:47.190 --> 00:07:49.670\nDepending on how you have\nyour WSUS server configured.\n\n162\n00:07:49.670 --> 00:07:50.880\nI'll give you that.\n\n163\n00:07:50.880 --> 00:07:53.890\n40 gigabytes is what they recommend but\n10 gigabytes minimum.\n\n164\n00:07:53.890 --> 00:07:57.360\nNetwork speeds, the more,\nthe better, right?\n\n165\n00:07:57.360 --> 00:07:59.323\n100 megabytes is what they'll recommend.\n\n166\n00:07:59.323 --> 00:08:01.738\nGigabit, obviously, would be preferred.\n\n167\n00:08:01.738 --> 00:08:04.222\nSo hardware-wise, not too steep.\n\n168\n00:08:04.222 --> 00:08:08.120\nWe can definitely virtualize\nthis process as well.\n\n169\n00:08:08.120 --> 00:08:11.950\nSoftware requirements,\nwell we need a license for Server 2016.\n\n170\n00:08:11.950 --> 00:08:14.620\nWSUS is a role that I can install, so\n\n171\n00:08:14.620 --> 00:08:18.890\nthere's no additional Software\nto buy in that respect.\n\n172\n00:08:18.890 --> 00:08:20.300\nIt comes with my server.\n\n173\n00:08:20.300 --> 00:08:22.520\nI have to just choose to install the roll.\n\n174\n00:08:22.520 --> 00:08:26.930\nWe also need a database to store\nmy configuration information in.\n\n175\n00:08:26.930 --> 00:08:30.110\nWe can use a free one,\nthe Windows Internal Database.\n\n176\n00:08:30.110 --> 00:08:31.650\nWhen we go to install WSUS,\n\n177\n00:08:31.650 --> 00:08:35.770\nif we don't have a SQL server running\non our network or we don't plan on\n\n178\n00:08:35.770 --> 00:08:40.130\ninstalling a SQL server, we can just let\nit install the Windows Internal Database.\n\n179\n00:08:40.130 --> 00:08:42.970\nWhich is a small database engine,\nruns in the background,\n\n180\n00:08:42.970 --> 00:08:44.930\nthat we don't have the same\nmanagement interface to.\n\n181\n00:08:44.930 --> 00:08:50.070\nYou can use that just fine, or if you\nhave a single server on your network or\n\n182\n00:08:50.070 --> 00:08:55.800\non that machine you can use that as\nlong as it's sever 2008 SP1 or later.\n\n183\n00:08:55.800 --> 00:08:58.600\nDoes not have to be on the same machine,\nmake sure you are aware of that.\n\n184\n00:08:58.600 --> 00:09:01.670\nThe SQL server, you might have a SQL\nserver somewhere else on you network,\n\n185\n00:09:01.670 --> 00:09:05.060\nthat's being used for other things, and\nyou just wanna create a new database on\n\n186\n00:09:05.060 --> 00:09:09.730\nthat SQL server to support your WSUS\ninstallation, and that's perfectly fine\n\n187\n00:09:09.730 --> 00:09:11.980\nas long as your permissions\nare set correctly on the database.\n\n188\n00:09:11.980 --> 00:09:15.930\nWe've got network access\nfrom our WSUS server.\n\n189\n00:09:15.930 --> 00:09:19.070\nSo, software-wise, what comes with Server?\n\n190\n00:09:19.070 --> 00:09:22.410\nAnd if we don't wanna use SQL\nthen we don't need anything else.\n\n191\n00:09:22.410 --> 00:09:25.770\nBecause it has that,\nWindows Internal Database built-in to it.\n\n192\n00:09:25.770 --> 00:09:31.160\nWe also want to get the Microsoft\nReport Viewer Redistributable 2012.\n\n193\n00:09:31.160 --> 00:09:36.630\nNow WSUS great,\nmakes fantastic reports you know.\n\n194\n00:09:36.630 --> 00:09:41.820\nI mean they are gorgeous reports,\ndrill down capable the whole line, great.\n\n195\n00:09:41.820 --> 00:09:43.720\nBut you can't view them out of the box.\n\n196\n00:09:43.720 --> 00:09:44.590\n&gt;&gt; It's wonderful, isn't it?\n\n197\n00:09:44.590 --> 00:09:45.540\n&gt;&gt; You can't see them at all.\n\n198\n00:09:45.540 --> 00:09:47.530\nYou go to click on them,\nand it's gonna tell you,\n\n199\n00:09:47.530 --> 00:09:51.360\nyou need to download the Microsoft\nReport Viewer Redistributable 2012.\n\n200\n00:09:51.360 --> 00:09:54.200\n&gt;&gt; It tells me that that\nwas an afterthought.\n\n201\n00:09:54.200 --> 00:09:56.160\nThat was, we need to bolt this on.\n\n202\n00:09:56.160 --> 00:09:58.740\nWe gave these people\nthe ability to report, but\n\n203\n00:09:58.740 --> 00:10:00.402\nwe forgot to let them view those reports.\n\n204\n00:10:00.402 --> 00:10:02.600\n&gt;&gt; [LAUGH]\n&gt;&gt; That's a great assumption but\n\n205\n00:10:02.600 --> 00:10:05.410\nunfortunately, it'd be wrong cuz\nit's been this way since 2003.\n\n206\n00:10:05.410 --> 00:10:08.170\nI don't understand why-\n&gt;&gt; What was the thinking behind this.\n\n207\n00:10:08.170 --> 00:10:08.916\n&gt;&gt; I don't know.\n\n208\n00:10:08.916 --> 00:10:10.174\n&gt;&gt; [LAUGH]\n&gt;&gt; I honestly,\n\n209\n00:10:10.174 --> 00:10:13.108\nMicrosoft if you're out there, please,\n[CROSSTALK] Cuz I wanna educate these-\n\n210\n00:10:13.108 --> 00:10:14.019\n[CROSSTALK]\n&gt;&gt; Mike and\n\n211\n00:10:14.019 --> 00:10:17.240\nDaniel at ITProTV [LAUGH]\n&gt;&gt; I wanna understand the logic\n\n212\n00:10:17.240 --> 00:10:18.020\nbehind that.\n\n213\n00:10:18.020 --> 00:10:20.920\nYou've built this tool with this\ngreat reporting capability.\n\n214\n00:10:20.920 --> 00:10:23.770\nBut you make me download,\nit's only like a 70 meg download.\n\n215\n00:10:23.770 --> 00:10:26.900\nIt's a teeny, tiny,\nfreely available thing.\n\n216\n00:10:26.900 --> 00:10:28.310\nWhy not just slap it in there for me?\n\n217\n00:10:28.310 --> 00:10:30.040\nIt would seem to make sense.\n\n218\n00:10:30.040 --> 00:10:33.020\nMaybe it's got a whole bunch of\nvulnerabilities that I'm not aware of.\n\n219\n00:10:33.020 --> 00:10:35.000\nI don't know, but it's easy to get.\n\n220\n00:10:35.000 --> 00:10:35.830\nIt's easy to download.\n\n221\n00:10:35.830 --> 00:10:37.750\nSo I'm just giving Microsoft a hard time.\n\n222\n00:10:37.750 --> 00:10:39.890\nSometime they can explain\nthat logic to me.\n\n223\n00:10:39.890 --> 00:10:43.270\nBut if you wanna use these reports and\ntake advantage of them, you are gonna need\n\n224\n00:10:43.270 --> 00:10:46.870\nthat report view to redistributable,\nagain, it's a free download.\n\n225\n00:10:46.870 --> 00:10:51.210\nJust Google, I'm sorry Bing,\nreport for your redistributable 2012.\n\n226\n00:10:51.210 --> 00:10:52.260\nMake sure you get 2012.\n\n227\n00:10:52.260 --> 00:10:55.040\nThere was a 2008 version back for 2008.\n\n228\n00:10:55.040 --> 00:10:56.740\nThere is a 2012 that works with 2016.\n\n229\n00:10:56.740 --> 00:11:02.430\nAll right, so software wise,\nyou're good to go.\n\n230\n00:11:02.430 --> 00:11:07.630\nNext thing we want to talk about\nis the deployment scenarios.\n\n231\n00:11:07.630 --> 00:11:10.240\nBecause how we go about\nsetting up our WSUS,\n\n232\n00:11:10.240 --> 00:11:12.210\nwe've got a couple of different\noptions that we can choose.\n\n233\n00:11:12.210 --> 00:11:17.010\nIt really depends on how we want\nto manage and support our updates.\n\n234\n00:11:17.010 --> 00:11:18.320\nSo let's take a look at my screen here.\n\n235\n00:11:18.320 --> 00:11:21.960\nI tried to draw this up a little bit,\nso I wouldn't just be kind of trying to,\n\n236\n00:11:21.960 --> 00:11:24.640\nI want to give you a visual here.\n\n237\n00:11:24.640 --> 00:11:27.650\nWe've got Microsoft's update\nserver out there on the internet,\n\n238\n00:11:27.650 --> 00:11:29.030\non Microsoft's networks.\n\n239\n00:11:29.030 --> 00:11:31.410\nMy little cloud representing the Internet.\n\n240\n00:11:31.410 --> 00:11:32.990\nWe've got our corporate firewall here.\n\n241\n00:11:32.990 --> 00:11:35.660\nOf course we might have a DMZ or\nwhat have you going on there.\n\n242\n00:11:35.660 --> 00:11:39.450\nBut the point is we're back inside\nour network, our corporate network.\n\n243\n00:11:39.450 --> 00:11:41.830\nAnd here is our WSUS server.\n\n244\n00:11:41.830 --> 00:11:43.880\nI've got my database sitting next to it.\n\n245\n00:11:43.880 --> 00:11:46.540\nWhether that's an internal database or\nSQL, doesn't matter.\n\n246\n00:11:46.540 --> 00:11:49.670\nIt's got a database to store\nthe configuration information, and\n\n247\n00:11:49.670 --> 00:11:51.000\nthen I've got my clients.\n\n248\n00:11:51.000 --> 00:11:53.430\nAnd in this simple model,\nthat's all we have.\n\n249\n00:11:53.430 --> 00:11:58.220\nWe have a single WSUS server and\nthat server is gonna reach out and\n\n250\n00:11:58.220 --> 00:11:59.910\nsynchronize with Microsoft Update.\n\n251\n00:11:59.910 --> 00:12:04.840\nAnd it's gonna download, well depending on\nhow we set this up, typically it's going\n\n252\n00:12:04.840 --> 00:12:10.100\nto download those updates and\nstore them locally on my WSUS server.\n\n253\n00:12:10.100 --> 00:12:12.550\nThen my clients are configured\n\n254\n00:12:12.550 --> 00:12:15.130\nnot to reach out to Microsoft\nto get their updates.\n\n255\n00:12:15.130 --> 00:12:19.730\nWe reconfigure them and\nwe point them to our internal WSUS server.\n\n256\n00:12:19.730 --> 00:12:22.700\nSo now they're gonna be pulling\ntheir updates from inside.\n\n257\n00:12:22.700 --> 00:12:23.640\nSame thing happens.\n\n258\n00:12:23.640 --> 00:12:24.190\nThey reach out.\n\n259\n00:12:24.190 --> 00:12:26.120\nThey talk to my WSUS server.\n\n260\n00:12:26.120 --> 00:12:28.680\nThe server looks at their\noperating system patch level.\n\n261\n00:12:28.680 --> 00:12:32.720\nFigures out what updates are available and\napproved.\n\n262\n00:12:32.720 --> 00:12:34.120\nThat's the big difference.\n\n263\n00:12:34.120 --> 00:12:35.550\nThe base are available and\n\n264\n00:12:35.550 --> 00:12:39.400\napproved and then it can push\nthose updates out to that system.\n\n265\n00:12:39.400 --> 00:12:43.510\nAnd most shops, most smaller shops\nthat's gonna be perfectly fine.\n\n266\n00:12:43.510 --> 00:12:45.460\nDoing a simple set up like that.\n\n267\n00:12:45.460 --> 00:12:49.270\nAgain the big advantage here is\nyou can see from this drawing is.\n\n268\n00:12:49.270 --> 00:12:52.330\nIt's one, we get control over the updates.\n\n269\n00:12:52.330 --> 00:12:54.310\nAnd two, it's all done internally, right.\n\n270\n00:12:54.310 --> 00:12:56.800\nThese clients I don't have\n1,000 clients reaching\n\n271\n00:12:56.800 --> 00:13:01.400\nout to the Internet downloading the exact\nsame update 1,000 times to these machines.\n\n272\n00:13:01.400 --> 00:13:04.180\nNow I understand Windows 10 has done some\nreally cool things with the updates and\n\n273\n00:13:04.180 --> 00:13:07.520\nit'll do some peer-to-peer\nthings in the background to\n\n274\n00:13:07.520 --> 00:13:11.360\nkind of alleviate some of that traffic\nthat's going out to Microsoft there.\n\n275\n00:13:11.360 --> 00:13:15.920\nBut you still have all these machines\npulling these updates down, or\n\n276\n00:13:15.920 --> 00:13:16.670\ntalking to each other.\n\n277\n00:13:16.670 --> 00:13:19.920\nGetting copies of parts of the updates,\nand things like that.\n\n278\n00:13:19.920 --> 00:13:23.090\nWith this we're keeping it all internal,\nall right?\n\n279\n00:13:23.090 --> 00:13:24.150\nSo a single set up.\n\n280\n00:13:24.150 --> 00:13:26.550\nWe've got the one WSUS server.\n\n281\n00:13:26.550 --> 00:13:30.460\nWe might also go with\nmultiple WSUS servers.\n\n282\n00:13:30.460 --> 00:13:32.170\nAnd this could be done for\na couple of reasons.\n\n283\n00:13:32.170 --> 00:13:36.860\nWe might be done for geographical reasons.\n\n284\n00:13:36.860 --> 00:13:41.820\nIf I have a shop here in Gainesville,\nwe've got another one up in Washington,\n\n285\n00:13:41.820 --> 00:13:46.290\nDC and another one out in,\nI don't know, Los Angeles, right.\n\n286\n00:13:46.290 --> 00:13:48.430\nWell I don't have one\nWSUS server sitting here.\n\n287\n00:13:48.430 --> 00:13:52.020\nAnd I don't want those client in\nLos Angeles reaching across the WAN,\n\n288\n00:13:52.020 --> 00:13:54.030\ncoming over here to get its updates.\n\n289\n00:13:54.030 --> 00:13:58.630\nI might run a WSUS server at each one\nof those physical locations, right.\n\n290\n00:13:58.630 --> 00:14:02.820\nSo if you think about your sites, your\nnetwork bandwidth that you have available.\n\n291\n00:14:02.820 --> 00:14:05.700\nYou can put a WSUS\nserver at each location.\n\n292\n00:14:05.700 --> 00:14:10.440\nIn which case, we're typically gonna set\nup what we call an upstream server and\n\n293\n00:14:10.440 --> 00:14:11.990\na downstream server.\n\n294\n00:14:11.990 --> 00:14:15.520\nSo I might have, at the corporate office,\nI might have the one that reaches out and\n\n295\n00:14:15.520 --> 00:14:18.490\ntalks to Microsoft and\npulls those updates down.\n\n296\n00:14:18.490 --> 00:14:23.620\nBut then my other branch\noffices those WSUS servers,\n\n297\n00:14:23.620 --> 00:14:27.160\nreach to the corporate office and\npull those updates from there, right?\n\n298\n00:14:27.160 --> 00:14:28.810\nRather than going out to Microsoft.\n\n299\n00:14:28.810 --> 00:14:33.010\nSo we kinda have a hierarchy and that's\nwhere you get the terms upstream and\n\n300\n00:14:33.010 --> 00:14:33.780\ndownstream.\n\n301\n00:14:33.780 --> 00:14:38.020\n&gt;&gt; And Mike, if I'm remembering correctly,\nsometimes it's unheard of but\n\n302\n00:14:38.020 --> 00:14:39.850\na server will go down.\n\n303\n00:14:39.850 --> 00:14:41.410\nAnd if they can't contact it,\n\n304\n00:14:41.410 --> 00:14:43.810\ntypically default is to reach\nout to Microsoft, correct?\n\n305\n00:14:43.810 --> 00:14:45.040\n&gt;&gt; Yes, well it depends.\n\n306\n00:14:45.040 --> 00:14:49.200\nNow if with our policies, if we set it\nto where they are told to go to ours,\n\n307\n00:14:49.200 --> 00:14:50.720\nif ours is down,\nthey won't get their updates.\n\n308\n00:14:50.720 --> 00:14:52.000\n&gt;&gt; Okay.\n&gt;&gt; They won't go back out.\n\n309\n00:14:52.000 --> 00:14:54.785\nAt least we can make it so and\ntypically that's what we wanna do.\n\n310\n00:14:54.785 --> 00:14:56.210\n&gt;&gt; Mm-hm.\n&gt;&gt; I know it seems like well, wait,\n\n311\n00:14:56.210 --> 00:14:57.710\ndon't you want them to get their updates?\n\n312\n00:14:57.710 --> 00:15:01.340\nWell, I do, but I wanna get my WSUS server\nfixed because if I let them bypass my WSUS\n\n313\n00:15:01.340 --> 00:15:05.350\nserver, They can get updates\nthat I haven't approved and\n\n314\n00:15:05.350 --> 00:15:07.260\nthat can cause problems in my network.\n\n315\n00:15:07.260 --> 00:15:10.000\nSo, we don't want them just to\nbe able to go around that and\n\n316\n00:15:10.000 --> 00:15:12.980\nget to Microsoft anyway,\notherwise we defeat the purpose, kind of,\n\n317\n00:15:12.980 --> 00:15:15.570\nof what we're trying to do and\ncontrol those updates.\n\n318\n00:15:15.570 --> 00:15:16.800\n&gt;&gt; Are we able to control,\n\n319\n00:15:16.800 --> 00:15:19.770\nbecause I can't remember, it's been awhile\nsince I kicked my feet around in it.\n\n320\n00:15:19.770 --> 00:15:20.940\nWSUS server.\n\n321\n00:15:20.940 --> 00:15:25.420\nAre we able to control, maybe we can\napprove critical and security updates and\n\n322\n00:15:25.420 --> 00:15:29.510\nallow them, if they can't contact the SUS\nserver, the downstream server, then yeah,\n\n323\n00:15:29.510 --> 00:15:31.860\njump over to Microsoft, get those but\ndon't get anything else.\n\n324\n00:15:31.860 --> 00:15:34.890\n&gt;&gt; I believe you can but I have to look at\nsome of the policies in there with that.\n\n325\n00:15:34.890 --> 00:15:36.130\n&gt;&gt; That's what I thought, yeah.\n\n326\n00:15:36.130 --> 00:15:38.830\n&gt;&gt; Yep, so another method we might do when\nwe're setting this up is what we call\n\n327\n00:15:38.830 --> 00:15:41.010\ndis connected, not as often, but\n\n328\n00:15:41.010 --> 00:15:45.010\nyou might have a situation where\n&gt;&gt; You need to support clients that cannot\n\n329\n00:15:45.010 --> 00:15:48.350\nreach out or you do not ever want\nto reach out to the Internet.\n\n330\n00:15:48.350 --> 00:15:52.860\nMaybe you're a very secure R &amp; D portion\nof your network that does not have\n\n331\n00:15:52.860 --> 00:15:53.940\nInternet access.\n\n332\n00:15:53.940 --> 00:15:55.545\nBut you still want to push updates out.\n\n333\n00:15:55.545 --> 00:15:58.589\nYou wanna control what updates\nare going especially in R &amp; D.\n\n334\n00:15:58.589 --> 00:16:02.403\nI don't want to goof the guys up as\nthey're developing by pushing out random\n\n335\n00:16:02.403 --> 00:16:06.650\nupdates in the middle of the night and\nchanging their development environment.\n\n336\n00:16:06.650 --> 00:16:10.160\nSo another reason we want\nthe control of WSUS, but\n\n337\n00:16:10.160 --> 00:16:11.790\nit's not connected to the Internet.\n\n338\n00:16:11.790 --> 00:16:13.380\nSo how do I get the updates?\n\n339\n00:16:13.380 --> 00:16:17.270\nWell, we would have a WSUS server that is\nconnected to the Internet, maybe my one in\n\n340\n00:16:17.270 --> 00:16:21.740\ncorporate, and it's gonna go through the\nnormal process of syncing with Microsoft.\n\n341\n00:16:21.740 --> 00:16:25.610\nAnd then we'll export those updates\nto removable media of some kind.\n\n342\n00:16:25.610 --> 00:16:29.030\nWe'll take those over to\nour secure network, and\n\n343\n00:16:29.030 --> 00:16:32.392\nwe'll just import them to\nthe WSUS server there.\n\n344\n00:16:32.392 --> 00:16:34.440\nAnd then from that point\nthe rest works the same.\n\n345\n00:16:34.440 --> 00:16:37.900\nThe clients would check with the WSUS\nserver and pull their updates.\n\n346\n00:16:37.900 --> 00:16:42.880\nSo it's just a matter of somehow getting\nthose updates to the WSUS server.\n\n347\n00:16:42.880 --> 00:16:45.520\nAnd disconnected network,\nthat means removable media.\n\n348\n00:16:47.060 --> 00:16:49.160\nAll right, so we've got our\ndifferent deployment scenarios.\n\n349\n00:16:49.160 --> 00:16:51.770\nAgain, for the exam, know those terms.\n\n350\n00:16:51.770 --> 00:16:54.670\nYou've got simple where I've\ngot a single WSUS server.\n\n351\n00:16:54.670 --> 00:16:56.400\nIf we can take one more look, sorry.\n\n352\n00:16:56.400 --> 00:16:59.430\nWe've got our simple where\nwe've got a single WSUS server.\n\n353\n00:16:59.430 --> 00:17:02.880\nWe've got multiple where I've got\nmy upstream and downstream servers.\n\n354\n00:17:02.880 --> 00:17:07.383\nAgain, could be for bandwidth,\ncould be for geographic reasons.\n\n355\n00:17:07.383 --> 00:17:10.280\nJust could be for\nworkload putting on those servers.\n\n356\n00:17:10.280 --> 00:17:12.920\nAnd then you've got\nyour disconnected model\n\n357\n00:17:12.920 --> 00:17:16.910\nwhere we have a WSUS server that's not\nconnected directly to the Internet, so\n\n358\n00:17:16.910 --> 00:17:21.050\nwe have to get those updates\nto it via removable media.\n\n359\n00:17:21.050 --> 00:17:22.810\nSo those are our deployment scenarios.\n\n360\n00:17:22.810 --> 00:17:26.610\nThen we've got our hierarchies that\nwe have to deal with, all right?\n\n361\n00:17:26.610 --> 00:17:30.400\nWhen we push these out,\nhow do we wanna go about managing them?\n\n362\n00:17:30.400 --> 00:17:36.050\nWe can do what we call centralized\nmanagement or distributed management.\n\n363\n00:17:36.050 --> 00:17:39.840\nIn a centralized management scenario,\nI've got my\n\n364\n00:17:39.840 --> 00:17:43.840\ncorporate office here in the middle with\na little blue man sitting next to it.\n\n365\n00:17:43.840 --> 00:17:45.590\nHe's gonna synchronize with Microsoft.\n\n366\n00:17:45.590 --> 00:17:47.360\nThis server synchronizes with Microsoft.\n\n367\n00:17:47.360 --> 00:17:49.242\nIt pulls those updates down.\n\n368\n00:17:49.242 --> 00:17:54.052\nAnd then the admin here at corp is gonna\nbe the one that decides which updates we\n\n369\n00:17:54.052 --> 00:18:00.110\nwanna allow, which ones we don't want and\nwe don't need, that I'm not gonna approve.\n\n370\n00:18:00.110 --> 00:18:02.940\nAnd then that gets replicated\nout to the Branch A and\n\n371\n00:18:02.940 --> 00:18:06.240\nBranch B, top and\nbottom here in my diagram.\n\n372\n00:18:06.240 --> 00:18:10.020\nBut these are replica servers, so\nthey're basically just copies.\n\n373\n00:18:10.020 --> 00:18:13.450\nNo decisions are made at Branch A or\nBranch B.\n\n374\n00:18:13.450 --> 00:18:15.790\nI don't need a WSUS admin.\n\n375\n00:18:15.790 --> 00:18:19.990\nAll the configurations, the updates of\nwhich update should go out, which one\n\n376\n00:18:19.990 --> 00:18:24.080\nshouldn't, when they should go out, all\nthat's decided at the corporate office.\n\n377\n00:18:24.080 --> 00:18:28.130\nAnd that configuration just gets pushed\nout to those different branches.\n\n378\n00:18:28.130 --> 00:18:30.770\nThat's centralized management,\n\n379\n00:18:30.770 --> 00:18:33.950\nwhich is probably the way you\nsee most organizations going.\n\n380\n00:18:33.950 --> 00:18:38.030\nWhy have three admins doing\nwhat one admin could do, right?\n\n381\n00:18:38.030 --> 00:18:39.937\n&gt;&gt; Because we like to spend money?\n\n382\n00:18:39.937 --> 00:18:41.580\n[LAUGH]\n&gt;&gt; Yeah,\n\n383\n00:18:41.580 --> 00:18:43.630\nonly need to test it once in one place.\n\n384\n00:18:43.630 --> 00:18:46.090\nJust need to approve it once and\nwe're done.\n\n385\n00:18:46.090 --> 00:18:48.360\nSo one admin or\n\n386\n00:18:48.360 --> 00:18:51.760\none group of admins there at corporate\ncan manage the update process for\n\n387\n00:18:51.760 --> 00:18:56.460\nthe entire network, globally stretched and\nhe just does it from that one location.\n\n388\n00:18:56.460 --> 00:18:59.050\nBut we can do what we call\na distributed management as well.\n\n389\n00:18:59.050 --> 00:19:01.511\nAnd in this scenario,\njust as you might think,\n\n390\n00:19:01.511 --> 00:19:05.031\nI should take out the word replica\nthere cuz these are not replicas.\n\n391\n00:19:06.544 --> 00:19:09.193\nSomehow that I got by my copy process.\n\n392\n00:19:09.193 --> 00:19:11.608\nLet's see if I can scratch that out.\n\n393\n00:19:11.608 --> 00:19:14.140\nNot like that, Michael.\n\n394\n00:19:14.140 --> 00:19:18.395\nSo with this scenario,\nwe'll scratch out the word replica and\n\n395\n00:19:18.395 --> 00:19:20.089\nthe word replica there.\n\n396\n00:19:20.089 --> 00:19:21.689\nThat's what happens when you copy and\npaste and\n\n397\n00:19:21.689 --> 00:19:22.937\ntry to speed up the drawing process.\n\n398\n00:19:22.937 --> 00:19:24.488\n&gt;&gt; Yes.\n[LAUGH]\n\n399\n00:19:24.488 --> 00:19:25.433\n&gt;&gt; With this scenario,\n\n400\n00:19:25.433 --> 00:19:26.850\nwith distributed management,\n\n401\n00:19:26.850 --> 00:19:30.020\njust like the name implies,\nthe management process is distributed.\n\n402\n00:19:30.020 --> 00:19:35.000\nSo now Branch A and Branch B can make\ndecisions about what updates are allowed,\n\n403\n00:19:35.000 --> 00:19:38.060\nwhat updates are not allowed,\nand things like that.\n\n404\n00:19:38.060 --> 00:19:41.400\nIt's not tied to that corporate one.\n\n405\n00:19:41.400 --> 00:19:46.250\nSo if you had a scenario where\na Branch A is over in Europe, and\n\n406\n00:19:46.250 --> 00:19:49.300\nthey've got different software,\ndifferent configurations,\n\n407\n00:19:49.300 --> 00:19:52.760\nthey're gonna need to do their\nown tests on their equipment.\n\n408\n00:19:52.760 --> 00:19:55.280\nI don't wanna make those decisions here\nin corporate because I'm not there.\n\n409\n00:19:55.280 --> 00:19:58.440\nI don't know what they have, don't\nknow what works and what doesn't work.\n\n410\n00:19:58.440 --> 00:20:01.931\nI can do distributed management, where I\nlet them manage their own WSUS server,\n\n411\n00:20:01.931 --> 00:20:03.181\nall right?\n\n412\n00:20:03.181 --> 00:20:06.360\nSo that's my distributed\nmanagement option.\n\n413\n00:20:06.360 --> 00:20:08.586\n&gt;&gt; Reminds me of,\nwe both work with Adam Gordon.\n\n414\n00:20:08.586 --> 00:20:13.757\nHe always likes to say, it's not one for\nall or whatever, it's one fits one.\n\n415\n00:20:13.757 --> 00:20:14.370\n&gt;&gt; One fits one, yeah.\n\n416\n00:20:14.370 --> 00:20:16.390\nNot one fits all, it's one fits one.\n\n417\n00:20:16.390 --> 00:20:17.650\nEverybody has their own scenario.\n\n418\n00:20:17.650 --> 00:20:22.630\nThere is a common way in which you'll see\nit being used, because a lot of times,\n\n419\n00:20:22.630 --> 00:20:26.810\nthere's just a generalized thing that\npeople do things typically very similarly.\n\n420\n00:20:26.810 --> 00:20:28.477\nBut if not,\nit doesn't mean you're out of the game.\n\n421\n00:20:28.477 --> 00:20:31.250\nYou still can do your custom scenario.\n\n422\n00:20:31.250 --> 00:20:33.140\nAnd Microsoft says, hey,\nwell, we understand that.\n\n423\n00:20:33.140 --> 00:20:35.900\nWe're gonna give you the ability\nto do what you need to do when\n\n424\n00:20:35.900 --> 00:20:36.410\nyou need to do it.\n\n425\n00:20:36.410 --> 00:20:37.870\nSo it's smart for them.\n\n426\n00:20:37.870 --> 00:20:38.606\n&gt;&gt; That's just Microsoft's way.\n&gt;&gt; Yeah.\n\n427\n00:20:38.606 --> 00:20:39.975\n&gt;&gt; They've always just\nlet us do it our way.\n\n428\n00:20:39.975 --> 00:20:41.813\nYeah.\n[LAUGH] It's weird.\n\n429\n00:20:41.813 --> 00:20:46.578\nThey've really like gone,\n[LAUGH] Apple's you will do it our way and\n\n430\n00:20:46.578 --> 00:20:47.839\nyou will like it.\n\n431\n00:20:47.839 --> 00:20:51.430\n[LAUGH] Microsoft's like hey,\nlet's do all this new fun stuff.\n\n432\n00:20:51.430 --> 00:20:55.278\n&gt;&gt; Yeah, exactly we're gonna make it\ncool and exciting again, all right.\n\n433\n00:20:55.278 --> 00:20:56.560\n[COUGH] Excuse me.\n\n434\n00:20:56.560 --> 00:20:59.070\nI do wanna mention, too,\nwe can mix and match those.\n\n435\n00:20:59.070 --> 00:21:01.730\nYou don't have to pick one or\nthe other when you setting this up.\n\n436\n00:21:01.730 --> 00:21:04.090\nI might have a scenario where,\nlike I was like saying earlier,\n\n437\n00:21:04.090 --> 00:21:07.790\nI've got a corporate office here, I've\ngot a few branch offices in the area, and\n\n438\n00:21:07.790 --> 00:21:10.220\nI wanna do a centralized management.\n\n439\n00:21:10.220 --> 00:21:13.290\nBut I do have that one office in Europe,\nand I'm gonna them manage their own.\n\n440\n00:21:13.290 --> 00:21:16.171\nWhen I set up that one\nserver out there in Europe,\n\n441\n00:21:16.171 --> 00:21:18.152\nI can set that up as not a replica.\n\n442\n00:21:18.152 --> 00:21:19.825\nAnd they'll be able to manage that.\n\n443\n00:21:19.825 --> 00:21:23.220\nYet all the branches here are still\nunder one person's management.\n\n444\n00:21:23.220 --> 00:21:24.990\nSo you can mix and match these.\n\n445\n00:21:24.990 --> 00:21:28.150\nIt's not like you're stuck\nwith one model or the other.\n\n446\n00:21:28.150 --> 00:21:32.497\nSo you can definitely have a hybrid\nscenario going on as well.\n\n447\n00:21:32.497 --> 00:21:36.660\nAll right, the last thing for\nmy drawing is going to be groups.\n\n448\n00:21:36.660 --> 00:21:42.322\nAnd we've gotta understand groups cuz this\nis, again, one of the big powers of WSUS,\n\n449\n00:21:42.322 --> 00:21:46.700\nor wherever we can pull some of\nthe power of WSUS, is from using groups.\n\n450\n00:21:46.700 --> 00:21:50.980\nFirst thing I wanna be clear about and\nmake sure everybody makes a note of this.\n\n451\n00:21:50.980 --> 00:21:53.950\nThese groups are for WSUS only.\n\n452\n00:21:53.950 --> 00:21:58.380\nThese are not, don't confuse them\nwith Active Directory Security, or\n\n453\n00:21:58.380 --> 00:22:01.800\ndistribution groups, or\nOUs or anything like that.\n\n454\n00:22:01.800 --> 00:22:05.760\nThese are completely independent\nfrom Active Directory, all right?\n\n455\n00:22:05.760 --> 00:22:11.910\nThese groups are created within WSUS and\nthey're only used by WSUS, all right?\n\n456\n00:22:11.910 --> 00:22:16.925\nSo first and foremost, when I saw WSUS\ngroups or you see on the exam they start\n\n457\n00:22:16.925 --> 00:22:21.495\ntalking about groups and WSUS, we're not\ntalking about security groups, all right?\n\n458\n00:22:21.495 --> 00:22:25.035\nWe're talking about groups\ncreated within WSUS.\n\n459\n00:22:25.035 --> 00:22:27.815\nAnd the reason groups are so\npowerful and the reason we like them so\n\n460\n00:22:27.815 --> 00:22:33.355\nmuch is because that's what allows me to\nreally control the update process, right?\n\n461\n00:22:33.355 --> 00:22:34.935\nYou can see here I've got\na few different groups.\n\n462\n00:22:34.935 --> 00:22:38.070\nI've got a group for sales,\nI've got a group for marketing and\n\n463\n00:22:38.070 --> 00:22:39.300\na group for development.\n\n464\n00:22:39.300 --> 00:22:43.150\nBecause in my environment all the sales\ncomputers run pretty much the same\n\n465\n00:22:43.150 --> 00:22:44.090\nsoftware.\n\n466\n00:22:44.090 --> 00:22:47.230\nAll the marketing computers run\npretty much the same software,\n\n467\n00:22:47.230 --> 00:22:48.570\nsame thing with development.\n\n468\n00:22:48.570 --> 00:22:49.970\nSo I kinda group them together so\n\n469\n00:22:49.970 --> 00:22:53.420\nI can treat them as a unit\nrather than individual PCs.\n\n470\n00:22:53.420 --> 00:22:57.010\nSo when I go to approve an update, I could\nsay, yeah, I wanna approve that for sales.\n\n471\n00:22:57.010 --> 00:22:59.400\nI want those computers to get that update,\nright?\n\n472\n00:22:59.400 --> 00:23:02.480\nI wanna approve that update for\ndevelopment.\n\n473\n00:23:02.480 --> 00:23:05.730\nOr I want marketing to get\ntheir updates at 3 o'clock and\n\n474\n00:23:05.730 --> 00:23:08.120\nsales to get them at 4 o'clock.\n\n475\n00:23:08.120 --> 00:23:10.350\nI can do that with these groups,\nall right.\n\n476\n00:23:10.350 --> 00:23:12.825\nYou also notice I have\na test group created.\n\n477\n00:23:12.825 --> 00:23:14.685\nAnd as I have said a couple of times,\n\n478\n00:23:14.685 --> 00:23:18.715\nthat's the big advantage of running WSUS\nis the ability to test these updates\n\n479\n00:23:18.715 --> 00:23:21.760\nbefore they go out to my\nproduction environment.\n\n480\n00:23:21.760 --> 00:23:24.460\nSo we simply create a test group.\n\n481\n00:23:24.460 --> 00:23:28.150\nAnd when we approve the updates,\nwe add a few notes to that test group, and\n\n482\n00:23:28.150 --> 00:23:32.670\nwhen we approve the updates, we approve\nthem just for the test group, nobody else.\n\n483\n00:23:32.670 --> 00:23:34.480\nI let that run for a day or two.\n\n484\n00:23:34.480 --> 00:23:38.436\nIf nothing happens, now I can go back and\napprove those updates for\n\n485\n00:23:38.436 --> 00:23:41.201\nthe rest of my network as I see fit,\nall right?\n\n486\n00:23:41.201 --> 00:23:42.787\nNow I will say with these test groups,\n\n487\n00:23:42.787 --> 00:23:45.070\nthere's a couple of ways\nyou can go about this.\n\n488\n00:23:45.070 --> 00:23:48.668\nYou could set up a machine that\nrepresents sales, all right?\n\n489\n00:23:48.668 --> 00:23:51.935\nYou could set up a machine that\nrepresents marketing, same software,\n\n490\n00:23:51.935 --> 00:23:54.602\nsame configuration and\nyou could push them out to those and\n\n491\n00:23:54.602 --> 00:23:56.029\nyou could bang on them and see.\n\n492\n00:23:56.029 --> 00:23:58.363\nA lot of people will try to\nvirtualize this nowadays.\n\n493\n00:23:58.363 --> 00:24:01.947\nHey, my test group's all virtual,\nI just fire up these virtual machines,\n\n494\n00:24:01.947 --> 00:24:05.928\npush up the updates to them, see what\nbreaks, nothing happens, we're good to go.\n\n495\n00:24:05.928 --> 00:24:06.811\nAnd that's great.\n\n496\n00:24:06.811 --> 00:24:09.396\nOne of the benefits of virtualization\nis the ability to do that.\n\n497\n00:24:09.396 --> 00:24:12.687\nI don't have to six physical\nmachines sitting behind me so\n\n498\n00:24:12.687 --> 00:24:16.391\nI can test all these updates on\nthese different configurations.\n\n499\n00:24:16.391 --> 00:24:17.884\nVirtualization's great.\n\n500\n00:24:17.884 --> 00:24:21.315\nKeep in mind, however, that if you\njust push it out to the machine but\n\n501\n00:24:21.315 --> 00:24:25.163\nnobody's actually using the machine,\nlaunching other applications, and\n\n502\n00:24:25.163 --> 00:24:28.479\nthings like that, you're probably\nnot getting a very good test of\n\n503\n00:24:28.479 --> 00:24:31.470\nwhether the update's gonna break things or\nnot.\n\n504\n00:24:31.470 --> 00:24:34.700\nSo, a lot of times, even though the\nvirtualization sounds like a really good\n\n505\n00:24:34.700 --> 00:24:39.380\nway to go, it might be better\nto pick one user from sales and\n\n506\n00:24:39.380 --> 00:24:42.070\none user from marketing to\nbe your canaries, right?\n\n507\n00:24:42.070 --> 00:24:43.397\nRight, your little guinea pigs,\n\n508\n00:24:43.397 --> 00:24:45.890\ncuz I know that they'll tell\nme if something goes wrong.\n\n509\n00:24:45.890 --> 00:24:47.554\nMaybe I make them part\nof some special program.\n\n510\n00:24:47.554 --> 00:24:49.300\nMake them feel special.\n\n511\n00:24:49.300 --> 00:24:52.040\nHey, you're our pilot update program, oo.\n\n512\n00:24:52.040 --> 00:24:54.268\n&gt;&gt; Everything that's gonna\nbreak's gonna break on you first.\n\n513\n00:24:54.268 --> 00:24:55.222\n&gt;&gt; [LAUGH]\n&gt;&gt; That's gonna rock.\n\n514\n00:24:55.222 --> 00:24:59.413\n&gt;&gt; Or you have that one user that calls\nyou and let's you know [COUGH] the minute\n\n515\n00:24:59.413 --> 00:25:02.655\nthe screen flickers,\nyou got one of those people.\n\n516\n00:25:02.655 --> 00:25:05.830\nThey're the ones you want in your test\ngroup cuz you know they're gonna find that\n\n517\n00:25:05.830 --> 00:25:08.700\nerror or that problem before anybody else.\n\n518\n00:25:08.700 --> 00:25:10.320\nSo anyway the point is we can test them.\n\n519\n00:25:10.320 --> 00:25:13.460\nHow you go about doing it is not as\nimportant as understanding that I\n\n520\n00:25:13.460 --> 00:25:14.420\nneed to do it.\n\n521\n00:25:14.420 --> 00:25:17.600\nBefore I push the updates out to\nthe rest of the corporate environment.\n\n522\n00:25:18.860 --> 00:25:24.000\nAll right, so that is going to bring\nus to, well, Patch Management and\n\n523\n00:25:24.000 --> 00:25:27.540\nMixed MRs, we're gonna get in play\nwish WSUS probably in the second part.\n\n524\n00:25:27.540 --> 00:25:29.490\nWe'll show you how it works.\n\n525\n00:25:29.490 --> 00:25:32.041\nWe'll take a look at the groups and\nthings like that and\n\n526\n00:25:32.041 --> 00:25:33.718\nwe'll also install a WSUS server.\n\n527\n00:25:33.718 --> 00:25:37.366\nBut last thing I'll do for\nthis part is gonna be Patch Management and\n\n528\n00:25:37.366 --> 00:25:38.588\nMixed environments.\n\n529\n00:25:38.588 --> 00:25:42.589\nAnd really,\nI don't know what to say to that honestly.\n\n530\n00:25:42.589 --> 00:25:43.764\n&gt;&gt; Well, define a mixed environment.\n\n531\n00:25:43.764 --> 00:25:45.674\nWhat do you mean by that?\n&gt;&gt; Yeah, that's what I was trying to,\n\n532\n00:25:45.674 --> 00:25:46.319\nI don't know.\n\n533\n00:25:46.319 --> 00:25:48.136\nMicrosoft, they're a little vague on that.\n\n534\n00:25:48.136 --> 00:25:50.978\n&gt;&gt; [LAUGH]\n&gt;&gt; I can't go and get updates for\n\n535\n00:25:50.978 --> 00:25:51.700\niOS, right?\n\n536\n00:25:51.700 --> 00:25:53.297\n&gt;&gt; Right.\n&gt;&gt; I can't get updates for Linux, so\n\n537\n00:25:53.297 --> 00:25:55.355\nthat's not what they mean\nby mixed environments.\n\n538\n00:25:55.355 --> 00:25:58.805\nSo we assume that they're meaning-\n&gt;&gt; Third party software?\n\n539\n00:25:58.805 --> 00:26:03.467\n&gt;&gt; Or some running XP, some running\nWindows 7, some running Windows 10,\n\n540\n00:26:03.467 --> 00:26:06.503\nsome running 2008, 2012, 2016.\n\n541\n00:26:06.503 --> 00:26:08.650\n&gt;&gt; Which is probably\nthe scenario that they mean.\n\n542\n00:26:08.650 --> 00:26:12.820\n&gt;&gt; Or server and\nclient operating systems, kind of thing.\n\n543\n00:26:12.820 --> 00:26:15.320\nThe point is, WSUS handles it all.\n\n544\n00:26:15.320 --> 00:26:17.200\nI'll show you,\nwe're gonna get in here and set this up.\n\n545\n00:26:17.200 --> 00:26:19.900\nYou get to pick and\nchoose what updates you need.\n\n546\n00:26:19.900 --> 00:26:23.260\nIf I'm not running any Windows XP\nmachines on my network,\n\n547\n00:26:23.260 --> 00:26:25.890\nthen I don't need to worry\nabout downloading XP updates.\n\n548\n00:26:25.890 --> 00:26:31.210\nIf we're not running,\nwhat's their biz program or any of those?\n\n549\n00:26:31.210 --> 00:26:33.054\n&gt;&gt; Like Office Suite or whatever, yeah.\n\n550\n00:26:33.054 --> 00:26:36.320\n&gt;&gt; Then we don't need to get those updates\neither, we can control all of that.\n\n551\n00:26:36.320 --> 00:26:40.402\nSo in our mixed environments,\nif I don't have 2003 machines anymore,\n\n552\n00:26:40.402 --> 00:26:42.460\ndon't get the updates for 2003.\n\n553\n00:26:42.460 --> 00:26:44.370\nBut just understand you can, right?\n\n554\n00:26:44.370 --> 00:26:47.930\nI can support those older\noperating systems just fine\n\n555\n00:26:47.930 --> 00:26:51.270\nin a 2016 WSUS server environment.\n\n556\n00:26:51.270 --> 00:26:55.040\nAnd that's pretty much all of the factual\nstuff I think that we need to get into\n\n557\n00:26:55.040 --> 00:26:59.200\nbefore we dive into actually\nplaying around and looking at WSUS.\n\n558\n00:26:59.200 --> 00:27:01.362\n&gt;&gt; All right, well,\nthe foundation has been laid.\n\n559\n00:27:01.362 --> 00:27:04.934\nYou guys should be ready, or girls,\nwhatever might be watching the show here.\n\n560\n00:27:04.934 --> 00:27:06.490\nI don't wanna leave anybody out.\n\n561\n00:27:06.490 --> 00:27:08.270\nBut you should be ready to tackle WSUS.\n\n562\n00:27:08.270 --> 00:27:11.230\nMike, we look forward to doing\nthat in our next episode,\n\n563\n00:27:11.230 --> 00:27:14.510\npart two on this lovely little\nshow we have going on here.\n\n564\n00:27:14.510 --> 00:27:16.990\nThat being said, though, for this one,\nit's time for us to close down.\n\n565\n00:27:16.990 --> 00:27:17.970\nWe do thank you for watching.\n\n566\n00:27:17.970 --> 00:27:19.130\nMike, we thank you for joining us.\n\n567\n00:27:19.130 --> 00:27:21.520\n&gt;&gt; No problem.\n&gt;&gt; But it's time to sign off for ITProTV.\n\n568\n00:27:21.520 --> 00:27:22.980\nI've been your host, Daniel Lowrie.\n\n569\n00:27:22.980 --> 00:27:23.669\n&gt;&gt; And I'm Mike Rodrick.\n\n570\n00:27:23.669 --> 00:27:24.633\n&gt;&gt; And we'll see you next time.\n\n571\n00:27:26.698 --> 00:27:32.697\n[MUSIC]\n\n572\n00:27:32.697 --> 00:27:37.320\n&gt;&gt; Thank you for watching ITPRO.TV\n\n",
          "vimeoId": "190240574"
        },
        {
          "description": "In this episode, Daniel and Mike continue their discussion on maintaining a Windows Server 2016 server, focusing again on Windows Server Update Services. This time They demonstrate and explain the many features in WSUS to familiarize you with this very complex system.",
          "length": "1852",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-2-maintain_server_installations_pt2-110116-PGM.00_00_12_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-2-maintain_server_installations_pt2-110116-PGM.00_00_12_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-2-maintain_server_installations_pt2-110116-PGM.00_00_12_15.Still001-sm.jpg",
          "title": "Maintain Server Installations Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.230\nWelcome to ITPro.TV.\n\n2\n00:00:01.230 --> 00:00:02.310\nI'm your host Don Pezet.\n\n3\n00:00:02.310 --> 00:00:10.540\n&gt;&gt; [CROSSTALK]\n&gt;&gt; You're watching ITPro.TV.\n\n4\n00:00:10.540 --> 00:00:13.365\n&gt;&gt; All right, greetings everyone and\n\n5\n00:00:13.365 --> 00:00:17.540\nwelcome to another exciting\nepisode of ITPro.TV.\n\n6\n00:00:17.540 --> 00:00:21.600\nI'm your host Daniel Lowrie and in today's\nepisode we're moving on with more on our\n\n7\n00:00:21.600 --> 00:00:24.990\ninstallation, storage, and\ncompute with the Windows Server 2016.\n\n8\n00:00:24.990 --> 00:00:30.340\nJoining us back again for part two on\nWSUS, our good friend mister Mike Rodrick.\n\n9\n00:00:30.340 --> 00:00:31.190\nMikey, welcome back.\n\n10\n00:00:31.190 --> 00:00:31.840\nHow's it going?\n\n11\n00:00:31.840 --> 00:00:32.670\n&gt;&gt; It's going great.\n\n12\n00:00:32.670 --> 00:00:34.550\nI'm excited cuz now\nwe're gonna dive in and\n\n13\n00:00:34.550 --> 00:00:37.080\nplay around with WSUS as you said there.\n\n14\n00:00:37.080 --> 00:00:41.206\nSo sit back, relax and\nenjoy the ride as they like to say.\n\n15\n00:00:41.206 --> 00:00:42.788\n&gt;&gt; Or spin up a virtual server and\nplay along.\n\n16\n00:00:42.788 --> 00:00:45.685\n&gt;&gt; Or spin up a virtual server and\nplay along.\n\n17\n00:00:45.685 --> 00:00:46.322\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n18\n00:00:46.322 --> 00:00:47.512\n&gt;&gt; All right, that's what we're gonna do,\n\n19\n00:00:47.512 --> 00:00:48.380\nwe're gonna take a look here.\n\n20\n00:00:48.380 --> 00:00:53.480\nIn the previous episode, we got down\nall the specifics about what WSUS was,\n\n21\n00:00:54.770 --> 00:00:57.480\nwhat the requirements\nwere to get it installed.\n\n22\n00:00:57.480 --> 00:01:00.480\nIt's a roll, so it's freely available.\n\n23\n00:01:00.480 --> 00:01:02.950\nWe talked about the different\nmodels that we could deploy it in.\n\n24\n00:01:02.950 --> 00:01:05.460\nSimple, multiple, disconnected.\n\n25\n00:01:05.460 --> 00:01:07.390\nWe talked about the hierarchies,\n\n26\n00:01:07.390 --> 00:01:10.750\nthe centralized management versus\nthe distributed management.\n\n27\n00:01:10.750 --> 00:01:12.870\nNow it's time to take\na look at what it is.\n\n28\n00:01:12.870 --> 00:01:17.030\nNow, I was talking with the chat room\nthat is watching us live here when we're\n\n29\n00:01:17.030 --> 00:01:21.670\nrecording this, about some of the pitfalls\nthat you might run into with WSUS.\n\n30\n00:01:21.670 --> 00:01:24.810\nOne of the things that I mentioned\nis you must have patience\n\n31\n00:01:24.810 --> 00:01:26.480\nwhen you're working with WSUS.\n\n32\n00:01:26.480 --> 00:01:28.690\nBecause it's one of those\nthings you set it up,\n\n33\n00:01:28.690 --> 00:01:31.990\nit's a service, your nodes\nare going to consume that service.\n\n34\n00:01:31.990 --> 00:01:34.810\nYou can configure them correctly,\nyou can tell them\n\n35\n00:01:34.810 --> 00:01:37.870\nwhere they're supposed to check in,\nyou can even trigger the update process.\n\n36\n00:01:37.870 --> 00:01:42.430\nAnd sometimes it just takes time before\nthey actually check in, all right?\n\n37\n00:01:42.430 --> 00:01:43.710\nSo don't get frustrated.\n\n38\n00:01:43.710 --> 00:01:47.240\nDon't think you're gonna come in at\n9:00 o'clock in the morning, set this up\n\n39\n00:01:47.240 --> 00:01:50.400\nbefore you go to lunch, all your notes in\nyour building are gonna be checked in,\n\n40\n00:01:50.400 --> 00:01:52.560\nreported, and good to go,\nand everything's working.\n\n41\n00:01:52.560 --> 00:01:54.010\nThey probably will work, it's not that.\n\n42\n00:01:54.010 --> 00:01:57.350\nIt's just that you're gonna have\nto give them time to check in.\n\n43\n00:01:57.350 --> 00:02:01.730\nAnd so what I've done here to alleviate\nthat, because it's not a lot of fun\n\n44\n00:02:01.730 --> 00:02:04.670\nwaiting for those machines to\ncheck in on the live show.\n\n45\n00:02:04.670 --> 00:02:08.610\nI went ahead and set up a WSUS server,\ngot a machine to check in with it,\n\n46\n00:02:08.610 --> 00:02:13.080\ngot another sever set up that\ndoesn't have WSUS installed on it.\n\n47\n00:02:13.080 --> 00:02:15.860\nSo we get to see the finished product,\nand then we'll go back and\n\n48\n00:02:15.860 --> 00:02:17.460\nwe'll look at the installation process.\n\n49\n00:02:17.460 --> 00:02:20.010\nAnd we'll set it up maybe\nas a downstream server so\n\n50\n00:02:20.010 --> 00:02:22.190\nwe can see those options as well.\n\n51\n00:02:22.190 --> 00:02:24.500\nAnd then we'll take a look at\nsome of the troubleshooting.\n\n52\n00:02:24.500 --> 00:02:27.460\nOr at least show you where some of\nthe logs are that you might use\n\n53\n00:02:27.460 --> 00:02:30.630\nwhen you're trying to troubleshoot WSUS.\n\n54\n00:02:30.630 --> 00:02:33.890\nAs well as some of the group policies that\nwe're gonna use to configure our nodes\n\n55\n00:02:33.890 --> 00:02:36.750\nto use our WSUS server.\n\n56\n00:02:36.750 --> 00:02:37.973\nSo let's dive right in.\n\n57\n00:02:37.973 --> 00:02:41.072\nOn my screen I have svr01 pulled up.\n\n58\n00:02:41.072 --> 00:02:44.230\nSo this is my 2016 box.\n\n59\n00:02:44.230 --> 00:02:45.663\nPart of a domain, lab.itpro.tv.\n\n60\n00:02:45.663 --> 00:02:49.540\nAnd I've already installed WSUS on there.\n\n61\n00:02:49.540 --> 00:02:51.190\nSo if I launch Server Manager.\n\n62\n00:02:53.160 --> 00:02:54.020\nWe'll get that fired up,\n\n63\n00:02:54.020 --> 00:02:57.660\nI'll see, you guys know how Server Manager\nworks at this point most likely.\n\n64\n00:02:57.660 --> 00:02:59.280\nWe'll give it a minute to refresh,\n\n65\n00:02:59.280 --> 00:03:02.999\npull back all that wonderful data that\nit shows us in our little dashboard.\n\n66\n00:03:04.240 --> 00:03:06.315\nI used to get really impatient\nwith this as well, but\n\n67\n00:03:06.315 --> 00:03:09.522\nit's pulling back a lot of information,\nquerying a lot of different services,\n\n68\n00:03:09.522 --> 00:03:11.378\ntrying to give us a summary view,\nright here.\n\n69\n00:03:11.378 --> 00:03:13.960\n&gt;&gt; Mike, when you say used to,\ndo you mean last week?\n\n70\n00:03:13.960 --> 00:03:14.520\n&gt;&gt; Yeah.\n&gt;&gt; [LAUGH]\n\n71\n00:03:14.520 --> 00:03:15.538\n&gt;&gt; Like an hour ago.\n\n72\n00:03:15.538 --> 00:03:17.548\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n73\n00:03:17.548 --> 00:03:19.270\n&gt;&gt; There it goes, finished up.\n\n74\n00:03:19.270 --> 00:03:20.970\nSo, there's WSUS.\n\n75\n00:03:20.970 --> 00:03:23.900\nAnd of course I can get a high\nlevel overview of the status\n\n76\n00:03:23.900 --> 00:03:29.140\nof my WSUS server here from my dashboard,\nsome performance information.\n\n77\n00:03:29.140 --> 00:03:30.990\nBut that's about all\nyou can do from there.\n\n78\n00:03:30.990 --> 00:03:33.846\nYou wanna manage WSUS,\nyou're gonna launch the MMC.\n\n79\n00:03:33.846 --> 00:03:39.134\nSo we'll go to my Tools menu &gt;\nWindows Server Update &gt; Services.\n\n80\n00:03:41.508 --> 00:03:45.094\nAnd, yeah, you'll hear people call\nit Window Server Update Server,\n\n81\n00:03:45.094 --> 00:03:48.170\nWindows Software Update Server,\nall kinds of things.\n\n82\n00:03:48.170 --> 00:03:51.283\nTechnically, Window Server Update Server\nor WSUS,\n\n83\n00:03:51.283 --> 00:03:53.989\ndoesn't matter as long\nas you remember WSUS.\n\n84\n00:03:53.989 --> 00:03:55.169\nAll right, so here we go.\n\n85\n00:03:55.169 --> 00:03:59.040\nSo here is my server, and\nlet's just start right up at the top.\n\n86\n00:03:59.040 --> 00:04:02.540\nIn the navigation tree, I'm just gonna\nwork my way down through these nodes.\n\n87\n00:04:02.540 --> 00:04:06.230\nAnd you can see when I click on my server,\nI get this high level overview,\n\n88\n00:04:06.230 --> 00:04:07.480\nit's updating right now.\n\n89\n00:04:07.480 --> 00:04:09.570\nThere we go.\nAnd I can see some things in the middle,\n\n90\n00:04:09.570 --> 00:04:12.117\n120 security updates\nare waiting to be approved,\n\n91\n00:04:12.117 --> 00:04:14.392\n50 critical updates\nwaiting to be approved.\n\n92\n00:04:14.392 --> 00:04:16.872\nSo you can see it's a very\nfriendly dashboard,\n\n93\n00:04:16.872 --> 00:04:20.220\nit's going to give me some\ninformation about what's going on.\n\n94\n00:04:20.220 --> 00:04:24.730\nI haven't approved any updates, so\nthat's why I'm getting all these warnings.\n\n95\n00:04:24.730 --> 00:04:27.242\nYou also get some nice little graphs here,\ncomputer status.\n\n96\n00:04:27.242 --> 00:04:31.090\nNow, I only have one node checking in.\n\n97\n00:04:31.090 --> 00:04:34.007\nBut you can imagine being able to\nlook here and seeing immediately,\n\n98\n00:04:34.007 --> 00:04:37.870\nwithout having to do anything, that\nyou've got 5 machines that have errors.\n\n99\n00:04:37.870 --> 00:04:40.030\nOr you've got 20 machines that\ndon't have updates yet, or\n\n100\n00:04:40.030 --> 00:04:41.670\nthat are in need of updates.\n\n101\n00:04:41.670 --> 00:04:43.950\nRight here from this dashboard,\nso very nice.\n\n102\n00:04:43.950 --> 00:04:46.260\nGives me my synchronization information,\n\n103\n00:04:46.260 --> 00:04:50.050\ndepending on whether it's synchronizing\nwith an upstream server or with Microsoft.\n\n104\n00:04:50.050 --> 00:04:54.780\nIt shows me when it last synchronized,\nwhether that was successful or not.\n\n105\n00:04:54.780 --> 00:04:57.320\nYou can see I can\nmanually synchronize now.\n\n106\n00:04:57.320 --> 00:04:59.590\nI can click on that succeeded, and\n\n107\n00:04:59.590 --> 00:05:02.710\nI'll actually jump over to\nthe synchronizations node.\n\n108\n00:05:02.710 --> 00:05:04.300\nAnd I can get reports here.\n\n109\n00:05:04.300 --> 00:05:07.880\nI can see details about,\nand there's that warning.\n\n110\n00:05:07.880 --> 00:05:10.080\nWe're going to come back and\ntalk about that in just a minute.\n\n111\n00:05:10.080 --> 00:05:12.910\nAbout that report viewer that\nI mentioned in the first show.\n\n112\n00:05:12.910 --> 00:05:13.725\nI do not have that installed yet.\n\n113\n00:05:13.725 --> 00:05:16.590\nSo I can get a lot of details there.\n\n114\n00:05:16.590 --> 00:05:18.720\nBut back over to that summary page,\n\n115\n00:05:18.720 --> 00:05:21.320\nas I scroll down here I\nwon't go through all this.\n\n116\n00:05:21.320 --> 00:05:26.790\nGood idea to explore and kind of see\nwhat information you can get from here.\n\n117\n00:05:26.790 --> 00:05:29.523\nA lot of resources down\nhere that you can click on,\n\n118\n00:05:29.523 --> 00:05:33.640\ntake you out to Microsoft TechNet pages\nto get additional info about WSUS.\n\n119\n00:05:34.760 --> 00:05:37.030\nBelow that, I have my updates.\n\n120\n00:05:37.030 --> 00:05:41.820\nAnd here I can look at my updates,\nand again great summaries,\n\n121\n00:05:41.820 --> 00:05:45.820\nand then I can see breaks\nthe updates down by category.\n\n122\n00:05:45.820 --> 00:05:48.585\nLet's go ahead install the report viewer,\nbecause I'm very tempted to click on\n\n123\n00:05:48.585 --> 00:05:50.310\nthese, and\nI know I'm going to get that error.\n\n124\n00:05:50.310 --> 00:05:51.780\nSo let's go ahead and get that installed.\n\n125\n00:05:51.780 --> 00:05:54.400\nI'm going to close my console for\na second.\n\n126\n00:05:54.400 --> 00:05:56.484\nAnd I'm gonna jump over to MyShare,\n\n127\n00:05:56.484 --> 00:06:01.138\nwhere I've already downloaded the report\nviewer, Redistributable 2012.\n\n128\n00:06:01.138 --> 00:06:03.890\nSo we're gonna go ahead and run that.\n\n129\n00:06:06.340 --> 00:06:12.020\nAnd I'm missing my SQL Server\n2012 systems CLR types.\n\n130\n00:06:12.020 --> 00:06:14.780\nLuckily, I downloaded those as well.\n\n131\n00:06:14.780 --> 00:06:16.080\nSo I'll install those.\n\n132\n00:06:16.080 --> 00:06:19.200\nAgain Microsoft,\nhelp me out with the logic here.\n\n133\n00:06:19.200 --> 00:06:20.420\nJust to view a report,\n\n134\n00:06:20.420 --> 00:06:24.330\nI have to download two separate things\nof which you only tell me about one.\n\n135\n00:06:24.330 --> 00:06:28.200\nThe other one I get surprised with after\nI've downloaded the first one and ran it.\n\n136\n00:06:28.200 --> 00:06:32.250\nAnd I had to go Google what the heck\nis this, find it, download it anyway.\n\n137\n00:06:32.250 --> 00:06:33.930\n&gt;&gt; It's the gift that keeps on giving.\n\n138\n00:06:33.930 --> 00:06:37.175\n&gt;&gt; It is, sorry Microsoft, I'm not\nbashing on you, you know I love you but,\n\n139\n00:06:37.175 --> 00:06:38.977\n&gt;&gt; No, it seems illogical.\n\n140\n00:06:38.977 --> 00:06:40.320\n&gt;&gt; No one's perfect.\n\n141\n00:06:40.320 --> 00:06:41.250\nJust strange.\n\n142\n00:06:41.250 --> 00:06:46.560\nSo there I've installed the Microsoft\nsystem SLR types for SQL Server 2012.\n\n143\n00:06:46.560 --> 00:06:48.806\nThat sounds like something\nto do that I need.\n\n144\n00:06:48.806 --> 00:06:50.800\n&gt;&gt; Yeah.\n&gt;&gt; And then I'll do the report viewer.\n\n145\n00:06:53.050 --> 00:06:56.570\nAnd I'm sure they have a very good\nreason for doing what they did.\n\n146\n00:06:56.570 --> 00:06:57.560\nI'm just in the dark.\n\n147\n00:06:57.560 --> 00:06:59.920\n&gt;&gt; That's called giving them\nthe benefit of the doubt.\n\n148\n00:06:59.920 --> 00:07:01.790\n&gt;&gt; I wish they could read somewhere, hey,\n\n149\n00:07:01.790 --> 00:07:05.201\nwe didn't include this because it\nupdates much faster than our product.\n\n150\n00:07:05.201 --> 00:07:08.033\nOr people use third party reporting\ntools more often than ours,\n\n151\n00:07:08.033 --> 00:07:11.270\nso we thought we would leave\nout this 20 megabyte download.\n\n152\n00:07:11.270 --> 00:07:13.680\nYou know something, let me know.\n\n153\n00:07:13.680 --> 00:07:15.760\nAnyway enough about that.\n\n154\n00:07:15.760 --> 00:07:17.703\nIt's installing,\nit's finished, I'm good to go.\n\n155\n00:07:17.703 --> 00:07:20.772\nI'll go back over to my console.\n\n156\n00:07:24.665 --> 00:07:29.730\nAnd now we'll take a look at those reports\nas well, so I can click on things.\n\n157\n00:07:29.730 --> 00:07:31.890\nSo back to the Updates node\nin my navigation tree.\n\n158\n00:07:31.890 --> 00:07:33.993\nI can see updates needed\nby computer is 15.\n\n159\n00:07:33.993 --> 00:07:35.331\nIf I click on that,\n\n160\n00:07:35.331 --> 00:07:40.070\nit'll take me to another screen\nwhere I go to my All Updates.\n\n161\n00:07:40.070 --> 00:07:42.830\nDown at the bottom,\nI've got a nice little chart again.\n\n162\n00:07:42.830 --> 00:07:44.590\nI know I'm going over\nthis part a little quick.\n\n163\n00:07:44.590 --> 00:07:47.620\nI'm just exploring the interface here,\nI'm not really teaching you much.\n\n164\n00:07:47.620 --> 00:07:50.430\nYou guys can poke around on\nyours when you set it up, or\n\n165\n00:07:50.430 --> 00:07:52.420\ngo into our lab environment and\ntest it out there.\n\n166\n00:07:53.810 --> 00:07:57.077\nComputers needing this update,\nI can click on that,\n\n167\n00:07:57.077 --> 00:08:02.027\nbrings me up this nice little report\nbecause I've installed The Report Viewer.\n\n168\n00:08:02.027 --> 00:08:03.936\nWe'll let it build the report.\n\n169\n00:08:03.936 --> 00:08:07.230\nAnd here I can see that\nit's a Windows 10 box.\n\n170\n00:08:07.230 --> 00:08:10.550\nOr it's an update for Windows 10,\nit's under the Critical.\n\n171\n00:08:10.550 --> 00:08:15.100\nI can go out to a link on Microsoft's\npage, get more information about it.\n\n172\n00:08:15.100 --> 00:08:17.920\nI can see, oops,\nscrolled a little fast there.\n\n173\n00:08:17.920 --> 00:08:22.760\nWhat machines still need those\nupdates as far as my groups go.\n\n174\n00:08:22.760 --> 00:08:24.470\nI can even click here, and\nI don't want to do it yet\n\n175\n00:08:24.470 --> 00:08:26.990\nbecause we haven't seen this process,\nbut I could click here and\n\n176\n00:08:26.990 --> 00:08:29.920\napprove it if I come here and say woah,\nI need to approve that update.\n\n177\n00:08:29.920 --> 00:08:31.510\nI can click there, and I can go and\n\n178\n00:08:31.510 --> 00:08:34.750\ntake care of the approval from\nright here within the report.\n\n179\n00:08:36.080 --> 00:08:42.130\nSo really nice reports again,\nall what they call drill down capable.\n\n180\n00:08:42.130 --> 00:08:44.800\nI can go down and find that machine.\n\n181\n00:08:44.800 --> 00:08:47.520\nSorry, the scrolling is\na little bit off on this guy.\n\n182\n00:08:47.520 --> 00:08:49.550\nLet's try to do it by page number.\n\n183\n00:08:49.550 --> 00:08:52.600\nHere I can see the page, or\nthe computer that needs the update.\n\n184\n00:08:52.600 --> 00:08:54.030\nI can click on that machine,\n\n185\n00:08:54.030 --> 00:08:57.090\nget a separate report dealing\nwith just that machine.\n\n186\n00:08:57.090 --> 00:08:58.950\nAnd showing me all the updates\nthat it's applied,\n\n187\n00:08:58.950 --> 00:09:01.390\nall the updates that it still needs, etc.\n\n188\n00:09:01.390 --> 00:09:02.730\netc.\nSo very neat,\n\n189\n00:09:02.730 --> 00:09:05.120\nI really like the way\nthey did the reports.\n\n190\n00:09:05.120 --> 00:09:08.016\nI won't say it again, I really hate\nthat they didn't include that.\n\n191\n00:09:08.016 --> 00:09:09.240\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, I said it one more time.\n\n192\n00:09:09.240 --> 00:09:11.220\nI swear, it's the last I'll mention of it.\n\n193\n00:09:11.220 --> 00:09:12.760\nAll right, so we got all updates.\n\n194\n00:09:12.760 --> 00:09:16.100\nAnd then you can go down and you can\nchoose just the critical updates, or\n\n195\n00:09:16.100 --> 00:09:17.720\nsecurity updates.\n\n196\n00:09:17.720 --> 00:09:19.860\nOr updates for WSUS itself.\n\n197\n00:09:19.860 --> 00:09:21.355\nKind of a way to filter them.\n\n198\n00:09:21.355 --> 00:09:25.060\nOne of the things that you'll wanna pay\nattention to on this screen is this\n\n199\n00:09:25.060 --> 00:09:26.990\nbar right across the top, all right?\n\n200\n00:09:26.990 --> 00:09:30.490\nLet's see if I can find an example for\nyou here.\n\n201\n00:09:30.490 --> 00:09:33.232\nWhen I click on Critical Updates,\n\n202\n00:09:33.232 --> 00:09:39.201\nup at the top it says five updates\nof 65 shown, 616 total, all right?\n\n203\n00:09:39.201 --> 00:09:42.520\nSo I'm definitely not\nseeing all of the updates.\n\n204\n00:09:42.520 --> 00:09:46.550\nAnd that's because of this\nfilter bar right below that.\n\n205\n00:09:46.550 --> 00:09:50.180\nApproval, unapproved,\nstatused, failed, or needed.\n\n206\n00:09:50.180 --> 00:09:53.801\nSo we can hit this drop down list, and\nI can look at updates that have already\n\n207\n00:09:53.801 --> 00:09:57.384\napproved, or updates that have been\ndeclined, or any except declined.\n\n208\n00:09:57.384 --> 00:10:00.824\nAll right, if I change to that and\nrefresh, still have five,\n\n209\n00:10:00.824 --> 00:10:03.420\nbecause my status is failed or needed.\n\n210\n00:10:03.420 --> 00:10:08.930\nIt's only showing me updates that are not\ndeclined, and are failed or needed.\n\n211\n00:10:08.930 --> 00:10:12.440\nWell, I only have one Windows 10\nmachine checked in, so any updates for\n\n212\n00:10:12.440 --> 00:10:15.080\nanything other than Windows 10\nare not gonna show up in this list\n\n213\n00:10:15.080 --> 00:10:17.090\nwith this particular filter selected.\n\n214\n00:10:17.090 --> 00:10:20.806\nBut I can drop this down and\nsay Any, all right, and\n\n215\n00:10:20.806 --> 00:10:23.845\nnow I'm up to 50 updates of 65 shown.\n\n216\n00:10:23.845 --> 00:10:28.708\nSo you really need to play around, or\npay attention, I guess, is a better way of\n\n217\n00:10:28.708 --> 00:10:33.600\nsaying it, to these updates, or to that\nfilter bar across the top, all right?\n\n218\n00:10:33.600 --> 00:10:37.982\nBut it's just another way you could go and\nfind an update that you're looking for.\n\n219\n00:10:37.982 --> 00:10:41.087\nI'll change this back to,\nwe'll leave it on unapproved, and\n\n220\n00:10:41.087 --> 00:10:42.560\nwe'll say Failed or Needed.\n\n221\n00:10:42.560 --> 00:10:46.900\nBut you notice the other options there,\nInstalled/Not applicable,\n\n222\n00:10:46.900 --> 00:10:51.540\nI can say that, Failed, Needed,\nInstalled, No Status, so, very cool.\n\n223\n00:10:52.710 --> 00:10:54.477\nAll right, so then you can go through\nthe rest of the updates there.\n\n224\n00:10:54.477 --> 00:10:57.880\nAnd then we get down to the computers.\n\n225\n00:10:57.880 --> 00:11:00.790\nAnd this is where we work with\nour computer groups, all right?\n\n226\n00:11:00.790 --> 00:11:03.744\nRemember what we talked about\nin that first episode, part one.\n\n227\n00:11:03.744 --> 00:11:07.638\nWe talked about the groups, and the fact\nthat they're not related in any way to\n\n228\n00:11:07.638 --> 00:11:10.970\nsecurity groups or\ndistribution within Active Directory.\n\n229\n00:11:10.970 --> 00:11:13.810\nThese are groups within WSUS only, right?\n\n230\n00:11:13.810 --> 00:11:14.870\nBut they're easy to create.\n\n231\n00:11:14.870 --> 00:11:19.046\nI can come over here and right click,\nand I can choose add computer group, and\n\n232\n00:11:19.046 --> 00:11:22.015\nlet's make one for\nthe sales department, all right?\n\n233\n00:11:22.015 --> 00:11:24.940\nAnd I click Add, and\nI now have a new group.\n\n234\n00:11:25.960 --> 00:11:28.280\nOkay, so very easy to make the groups.\n\n235\n00:11:28.280 --> 00:11:30.840\nIt is a hierarchical setup.\n\n236\n00:11:30.840 --> 00:11:33.610\nYou can't make groups within groups.\n\n237\n00:11:33.610 --> 00:11:34.850\nLet's just verify that.\n\n238\n00:11:37.230 --> 00:11:39.470\nWell, you know what,\nthey've added that, nice.\n\n239\n00:11:39.470 --> 00:11:40.620\nYou didn't used to be able to do that.\n\n240\n00:11:40.620 --> 00:11:44.070\nSo I can now nest groups,\nvery cool to know.\n\n241\n00:11:44.070 --> 00:11:45.200\nI'm gonna remove that.\n\n242\n00:11:45.200 --> 00:11:46.470\nWell, I'll leave it for now.\n\n243\n00:11:46.470 --> 00:11:49.500\nSo you can next groups,\nand it's all hierarchical.\n\n244\n00:11:49.500 --> 00:11:52.820\nYou'll notice that it's starts out with,\nand let's drag this over a little bit.\n\n245\n00:11:52.820 --> 00:11:57.880\nI've got All Computers, and then there's\na, two groups you get out of the box.\n\n246\n00:11:57.880 --> 00:12:01.760\nThere's the All Computers, and\nthen there's the Unassigned Computers.\n\n247\n00:12:01.760 --> 00:12:04.660\nAll Computers is, probably guessed it,\nwhat do you think, [INAUDIBLE]?\n\n248\n00:12:04.660 --> 00:12:09.130\n&gt;&gt; It's just one tenth of\nthe computers on your system.\n\n249\n00:12:09.130 --> 00:12:10.975\n&gt;&gt; [LAUGH] Perfect.\nI'm honest [LAUGH] Yes,\n\n250\n00:12:10.975 --> 00:12:12.170\nyou are paying attention, I like it.\n\n251\n00:12:12.170 --> 00:12:14.030\nYeah, All Computers is just that.\n\n252\n00:12:14.030 --> 00:12:18.350\nAll Computers that have checked in with\nthe server are gonna show up there.\n\n253\n00:12:18.350 --> 00:12:23.240\nThen you've got underneath that, notice\nit's nested in, is Unassigned Computers.\n\n254\n00:12:23.240 --> 00:12:26.523\nUnassigned Computers are gonna be\ncomputers that don't belong to\n\n255\n00:12:26.523 --> 00:12:28.933\nany custom group that you've made,\nall right?\n\n256\n00:12:28.933 --> 00:12:33.888\nAll Computers includes everybody, and then\nUnassigned Computers is a subgroup that\n\n257\n00:12:33.888 --> 00:12:37.700\ncontains anybody that's not\nin one of your custom groups.\n\n258\n00:12:37.700 --> 00:12:41.700\nAnd then your groups, I created Clients,\nI created GNV Clients,\n\n259\n00:12:41.700 --> 00:12:44.567\nI created Sales,\nyou saw me create XP, right?\n\n260\n00:12:44.567 --> 00:12:48.280\nSo that's how you go about\nmaking these groups.\n\n261\n00:12:48.280 --> 00:12:50.430\nYou can make any number of groups.\n\n262\n00:12:50.430 --> 00:12:51.900\nYou can nest them anyway you want.\n\n263\n00:12:51.900 --> 00:12:53.160\nWhy do we do this?\n\n264\n00:12:53.160 --> 00:12:57.110\nBecause when we go to approve the updates,\nwe do it on a per group basis.\n\n265\n00:12:57.110 --> 00:13:02.048\nI can approve an update for\njust the XP computers in sales.\n\n266\n00:13:02.048 --> 00:13:04.800\nOr I could approve an update for\nall the sales computers,\n\n267\n00:13:04.800 --> 00:13:06.480\nwhether they're running XP or not.\n\n268\n00:13:06.480 --> 00:13:08.400\nOr just the GME clients.\n\n269\n00:13:08.400 --> 00:13:10.420\nOr I can approve the update for\nAll Computers,\n\n270\n00:13:10.420 --> 00:13:11.900\nno matter what group they're in.\n\n271\n00:13:11.900 --> 00:13:16.090\nSo that hierarchical structure makes it\neasier for me to deploy the updates out.\n\n272\n00:13:16.090 --> 00:13:18.550\nWhen we go to deploy them,\nwe can pick what group or\n\n273\n00:13:18.550 --> 00:13:21.010\ngroups we wanna deploy them to.\n\n274\n00:13:21.010 --> 00:13:24.560\nAnother thing that's newer, actually\nstarted I think in the last edition\n\n275\n00:13:24.560 --> 00:13:27.222\nof WSUS, but I'll go ahead and\ntalk about it like it's new,\n\n276\n00:13:27.222 --> 00:13:31.510\nis [COUGH] the ability to have\nthe computer in more than one group.\n\n277\n00:13:31.510 --> 00:13:35.800\nPrior to,\nI think it was the 2008 version of WSUS,\n\n278\n00:13:35.800 --> 00:13:38.770\nyou couldn't add a node\nto more than one group.\n\n279\n00:13:38.770 --> 00:13:43.540\nIf it was in your client's group,\nthen it couldn't be in the sales group.\n\n280\n00:13:43.540 --> 00:13:48.340\nAnd now a node can belong to more\nthan one group, which is very handy.\n\n281\n00:13:48.340 --> 00:13:52.430\nYou might wanna organize your objects by\ndepartment, and also by platform, right?\n\n282\n00:13:52.430 --> 00:13:54.980\nSome updates are platform-specific, and so\n\n283\n00:13:54.980 --> 00:13:59.580\nyou've got a group that has all of your\nWindows 7 Service Pack One machines.\n\n284\n00:13:59.580 --> 00:14:02.113\nBut some applications\nare not platform-specific and\n\n285\n00:14:02.113 --> 00:14:05.315\nyou wanna do it department at a time,\nso you create a group for sales.\n\n286\n00:14:05.315 --> 00:14:09.671\nWell I could have a node that's in both\nthe Windows 7 Service Pack One group and\n\n287\n00:14:09.671 --> 00:14:10.793\nthe sales group, so\n\n288\n00:14:10.793 --> 00:14:14.430\nit's completely up to you however\nyou want to set up your groups.\n\n289\n00:14:15.460 --> 00:14:19.280\nOnce we've got our groups created,\nhow do we get them into the groups?\n\n290\n00:14:19.280 --> 00:14:21.910\nWell, we can do it one of two ways,\nI'll come back to that.\n\n291\n00:14:21.910 --> 00:14:24.900\nIt's either through our options,\nor through Group Policy.\n\n292\n00:14:24.900 --> 00:14:28.230\nI'll show you that in just a minute,\nlet's finish exploring the console.\n\n293\n00:14:28.230 --> 00:14:30.342\nI've got downstream servers,\nof which there are none.\n\n294\n00:14:30.342 --> 00:14:36.960\nThis would be in my centralized\nmanagement, or my distributed management.\n\n295\n00:14:36.960 --> 00:14:41.600\nDownstream servers, in other words a\nserver that's not pulling from Microsoft,\n\n296\n00:14:41.600 --> 00:14:43.630\nbut pulling from my WSUS server.\n\n297\n00:14:43.630 --> 00:14:45.375\nSo I've got my one on my corporate server.\n\n298\n00:14:45.375 --> 00:14:49.000\n[COUGH] Excuse me, I've got my\nmachine in my corporate office.\n\n299\n00:14:49.000 --> 00:14:51.070\nThat's my upstream server.\n\n300\n00:14:51.070 --> 00:14:56.010\nI've got my WSUS server at that\nbranch office that checks in with my\n\n301\n00:14:56.010 --> 00:14:59.200\ncorporate office WSUS server,\nthat's my downstream server, right?\n\n302\n00:14:59.200 --> 00:15:02.990\nHe would show up here in this\nupstream servers console.\n\n303\n00:15:04.340 --> 00:15:06.180\nWe also have synchronizations,\nwhich we saw a minute ago.\n\n304\n00:15:06.180 --> 00:15:09.270\nNow I should be able to\npull up these reports.\n\n305\n00:15:09.270 --> 00:15:11.310\nIt's just gonna show you, hey,\nthe last time it went out and\n\n306\n00:15:11.310 --> 00:15:16.380\nchecked in with Microsoft updates that it\ndownloaded, it's a good idea to make sure.\n\n307\n00:15:16.380 --> 00:15:19.430\nI've had this situation happen where\nwe weren't paying attention to our\n\n308\n00:15:19.430 --> 00:15:20.180\nSUS server.\n\n309\n00:15:20.180 --> 00:15:24.050\nYou get it set up,\nyou get some of your approvals done, and\n\n310\n00:15:24.050 --> 00:15:26.740\nyou can almost kind of forget about it.\n\n311\n00:15:26.740 --> 00:15:29.870\nAnd then you realize it's been six months\nbefore any of the machines have done any\n\n312\n00:15:29.870 --> 00:15:31.680\nupdates, it gets you in trouble.\n\n313\n00:15:31.680 --> 00:15:34.190\nYou need to come in and\ncheck reports like this.\n\n314\n00:15:34.190 --> 00:15:35.870\nWell they haven't gotten\nany updates in a while,\n\n315\n00:15:35.870 --> 00:15:37.920\nbut they're checking in\nwith the SUS server.\n\n316\n00:15:37.920 --> 00:15:40.350\nThe problem is your SUS server hasn't\nbeen checking in with Microsoft.\n\n317\n00:15:40.350 --> 00:15:42.630\nSo, doesn't know about any new updates,\nright?\n\n318\n00:15:42.630 --> 00:15:43.440\nGot to pay attention.\n\n319\n00:15:44.590 --> 00:15:46.570\nThen I've got Reports below that.\n\n320\n00:15:46.570 --> 00:15:48.810\nThere's a bunch of really\nnice reports in here.\n\n321\n00:15:50.090 --> 00:15:53.922\nUpdates, Status, Summaries, if you want to\nget a report on a particular update, and\n\n322\n00:15:53.922 --> 00:15:56.668\nsee which ones it's installed to,\nor which ones it hasn't.\n\n323\n00:15:56.668 --> 00:16:00.490\nYou can get detailed status,\nyou can put in a tabular view.\n\n324\n00:16:00.490 --> 00:16:01.914\nJust the approved updates.\n\n325\n00:16:01.914 --> 00:16:04.521\nComputer status summaries,\na really nice one.\n\n326\n00:16:04.521 --> 00:16:06.929\nThis is going to show you,\nremember the report we saw for\n\n327\n00:16:06.929 --> 00:16:08.320\njust the individual computer?\n\n328\n00:16:08.320 --> 00:16:11.710\nIt's going to be like that, but\nfor each node, which is nice.\n\n329\n00:16:13.010 --> 00:16:15.389\nIt's taking it's sweet time there.\n\n330\n00:16:15.389 --> 00:16:20.510\nWell, [INAUDIBLE], yeah that report's\nnot showing much information.\n\n331\n00:16:20.510 --> 00:16:24.080\nAgain, this is a brand new setup so\nthere's not a lot of data just yet.\n\n332\n00:16:25.350 --> 00:16:28.350\nSynchronization results, so\nsome nice reports there.\n\n333\n00:16:28.350 --> 00:16:30.710\nThen one of the other\nmost important things,\n\n334\n00:16:30.710 --> 00:16:33.900\nbesides my updates,\nis the options down here.\n\n335\n00:16:33.900 --> 00:16:36.968\nOnce you've gone through\nyour configuration of WSUS,\n\n336\n00:16:36.968 --> 00:16:40.560\nyou chose a lot of these options\nduring the installation.\n\n337\n00:16:40.560 --> 00:16:42.240\nBut what if I need to change those?\n\n338\n00:16:42.240 --> 00:16:46.260\nWhat if we decide that, hey, we're\ngoing to let people bring in their own\n\n339\n00:16:46.260 --> 00:16:50.610\nlaptops for travelling sales people and\nthey've got some Windows 7 machines?\n\n340\n00:16:50.610 --> 00:16:52.840\nWe didn't have any Windows\n7 machines before so\n\n341\n00:16:52.840 --> 00:16:54.590\nI wasn't pulling any Windows 7 updates.\n\n342\n00:16:54.590 --> 00:16:58.450\nNow I need to pull Windows 7 updates,\nI can come in here and change this.\n\n343\n00:16:58.450 --> 00:17:01.580\nThings like My Update,\nSource and Proxy Server.\n\n344\n00:17:01.580 --> 00:17:04.430\nWell this one's set to update from\nMicrosoft because this is the top\n\n345\n00:17:05.650 --> 00:17:07.140\nof my WSUS hierarchy.\n\n346\n00:17:07.140 --> 00:17:10.940\nSo the very top has to reach out\nto Microsoft and pull them down.\n\n347\n00:17:10.940 --> 00:17:15.170\nIf this was a downstream server,\nI'd have this option selected and\n\n348\n00:17:15.170 --> 00:17:17.670\nI would point it to my upstream server.\n\n349\n00:17:17.670 --> 00:17:20.240\nIf there were proxy settings,\nI would need to set those.\n\n350\n00:17:20.240 --> 00:17:23.380\nOr if we were encrypting the traffic for\nthose updates,\n\n351\n00:17:23.380 --> 00:17:25.310\nI would need to set that information here.\n\n352\n00:17:25.310 --> 00:17:28.460\nNotice that's the default port number for\nWSUS.\n\n353\n00:17:28.460 --> 00:17:31.790\nYou're definitely free to change that and\nmost likely should.\n\n354\n00:17:31.790 --> 00:17:34.720\nWe always talk about not\nrunning on the default ports,\n\n355\n00:17:34.720 --> 00:17:38.190\nof security through obscurity,\nwouldn't hurt to change that.\n\n356\n00:17:38.190 --> 00:17:40.580\nI don't know, Daniel, I've gone back and\n\n357\n00:17:40.580 --> 00:17:42.250\nforth with the security\non Windows updates.\n\n358\n00:17:43.790 --> 00:17:46.080\nThey're updates,\nI can get them from Microsoft if I want,\n\n359\n00:17:46.080 --> 00:17:47.970\nit's not like I need to\nencrypt this traffic.\n\n360\n00:17:47.970 --> 00:17:49.890\nI'm not trying to protect the update.\n\n361\n00:17:49.890 --> 00:17:53.140\nBut what I am doing, cuz I always laughed,\n\n362\n00:17:53.140 --> 00:17:57.780\nI always said why would you bother\nencrypting the update traffic, honestly?\n\n363\n00:17:57.780 --> 00:18:01.570\nIt's publicly available information,\nright?\n\n364\n00:18:01.570 --> 00:18:05.840\nBut what if some malicious person was\nable to get in to your network and\n\n365\n00:18:05.840 --> 00:18:09.930\ntry to inject some malformed updates,\nright?\n\n366\n00:18:09.930 --> 00:18:13.660\nAnd trick your system, your nodes,\nfrom grabbing that update or\n\n367\n00:18:13.660 --> 00:18:15.450\ndoing man in the middle type things.\n\n368\n00:18:15.450 --> 00:18:19.253\nBy using SSL encrypting, it's not that\nwe're protecting the update itself,\n\n369\n00:18:19.253 --> 00:18:21.220\nyea, that's public knowledge.\n\n370\n00:18:21.220 --> 00:18:22.860\nWe're making sure that\nupdate's not modified,\n\n371\n00:18:22.860 --> 00:18:26.210\ntweaked, as it travels across the network,\nbefore it gets to my clients.\n\n372\n00:18:26.210 --> 00:18:29.670\nSo something to keep in mind, I know it\ntook me a minute to wrap my brain around\n\n373\n00:18:29.670 --> 00:18:31.990\nthat, why I have SSL as an option?\n\n374\n00:18:31.990 --> 00:18:36.640\nWell, to protect my nodes from man in the\nmiddle attacks and other types of attacks.\n\n375\n00:18:36.640 --> 00:18:38.840\nAll right, so I'm going to\ncancel out of that, what else?\n\n376\n00:18:38.840 --> 00:18:40.670\nProducts and Classifications,\n\n377\n00:18:40.670 --> 00:18:46.300\nthis is where I can choose what\nproducts are being supported, right?\n\n378\n00:18:46.300 --> 00:18:50.000\nDo I want updates for\nBing, for BizTalk server?\n\n379\n00:18:50.000 --> 00:18:53.130\nAnd, again, I won't go through\nthe entire list, it's very extensive.\n\n380\n00:18:53.130 --> 00:18:56.310\nYou can see it goes on and\non and on and on.\n\n381\n00:18:56.310 --> 00:19:00.020\nNotice most of them are unchecked because\nthis is my little demo environment and\n\n382\n00:19:00.020 --> 00:19:04.560\nI did not want to download 40 gigabytes\nworth of updates, but Windows Defender,\n\n383\n00:19:04.560 --> 00:19:06.560\nI selected Windows 10.\n\n384\n00:19:06.560 --> 00:19:12.040\nI think I've got server 2016 selected\nin here, but you can see very specific.\n\n385\n00:19:12.040 --> 00:19:17.700\nIf I want 2012, 2012 R2,\ndo I want language packs, right?\n\n386\n00:19:17.700 --> 00:19:22.580\nSo all the different flavors of Microsoft,\nall the things I can get updates for,\n\n387\n00:19:22.580 --> 00:19:24.120\nI can select here.\n\n388\n00:19:24.120 --> 00:19:26.100\nAnd then classifications,\n\n389\n00:19:26.100 --> 00:19:30.620\nanother way to limit what updates\nyou're synchronizing from Microsoft.\n\n390\n00:19:30.620 --> 00:19:34.970\nDo I want just critical updates or\ndo I want to include feature packs?\n\n391\n00:19:34.970 --> 00:19:38.340\nOr do I want to do tools and\nservice packs?\n\n392\n00:19:38.340 --> 00:19:42.490\nI'm free to choose what I want\nto synchronize from Microsoft.\n\n393\n00:19:42.490 --> 00:19:48.000\nAgain, be careful, I know one time I\nset up a self server with drivers and\n\n394\n00:19:48.000 --> 00:19:52.640\nit downloaded drivers in\nevery single language,\n\n395\n00:19:52.640 --> 00:19:55.040\neven though we had English only selected.\n\n396\n00:19:55.040 --> 00:19:58.010\nNow this was years ago,\nan older version of WSUS, so\n\n397\n00:19:58.010 --> 00:20:01.320\nI'm sure the problem doesn't exist any\nmore, but it is something to keep in mind.\n\n398\n00:20:01.320 --> 00:20:03.840\nWhen you're choosing this stuff,\nchoose wisely,\n\n399\n00:20:03.840 --> 00:20:07.810\ndon't just blanket select everything\nunless you truly need everything.\n\n400\n00:20:09.150 --> 00:20:11.214\nNow I've gotta do that again.\n\n401\n00:20:11.214 --> 00:20:12.850\n&gt;&gt; [LAUGH]\n&gt;&gt; Let's do this one,\n\n402\n00:20:12.850 --> 00:20:18.000\nthis one, let's do some updates,\nthat's probably good enough.\n\n403\n00:20:18.000 --> 00:20:21.920\nAll right, so do be particular when\nyou're choosing those updates.\n\n404\n00:20:21.920 --> 00:20:25.910\nSynchronization schedule, this is\nwhen is it going to go synchronize?\n\n405\n00:20:25.910 --> 00:20:29.680\nIf it's your top of your hierarchy, when\nis it going to reach out to Microsoft and\n\n406\n00:20:29.680 --> 00:20:31.030\npull those updates down?\n\n407\n00:20:31.030 --> 00:20:35.900\nIf this is a subordinate or a downstream\nserver, how often or when is it\n\n408\n00:20:35.900 --> 00:20:39.830\ngoing to reach out and talk to it's\nupstream partner and get those updates?\n\n409\n00:20:39.830 --> 00:20:40.925\n&gt;&gt; That's none of your business [LAUGH].\n\n410\n00:20:40.925 --> 00:20:42.710\n&gt;&gt; [LAUGH] Right, not telling you.\n\n411\n00:20:42.710 --> 00:20:46.810\nYou can synchronize manually, which\nI've done here for the lab environment.\n\n412\n00:20:46.810 --> 00:20:51.700\nBut you almost 99% of the time are gonna\nwanna choose synchronize automatically.\n\n413\n00:20:51.700 --> 00:20:55.230\nOtherwise you end up doing what I had\ndone and just forget about going and\n\n414\n00:20:55.230 --> 00:20:56.040\ngetting updates.\n\n415\n00:20:56.040 --> 00:20:59.310\nSo everybody looks like they're getting\nall their updates because there are no\n\n416\n00:20:59.310 --> 00:21:01.810\nupdates to get because\nI didn't synchronize.\n\n417\n00:21:01.810 --> 00:21:06.190\nSo you want to automate this and\nchoose your time, how many times a day.\n\n418\n00:21:06.190 --> 00:21:09.420\nYou might be in a shop where, hey,\nwe wanna check twice a day for\n\n419\n00:21:09.420 --> 00:21:11.320\nnew critical and security related updates.\n\n420\n00:21:12.660 --> 00:21:14.498\nSo you can set that schedule there.\n\n421\n00:21:14.498 --> 00:21:21.086\nAutomatic approvals, now this a little bit\nof, what's a good way to say this, Daniel?\n\n422\n00:21:21.086 --> 00:21:24.540\nYou're the linguistic\n&gt;&gt; There's two schools of thought\n\n423\n00:21:24.540 --> 00:21:25.725\nwhen it comes to this.\n\n424\n00:21:25.725 --> 00:21:30.190\n&gt;&gt; Yeah, the first thing you think is,\nwoo-hoo, automatic approvals,\n\n425\n00:21:30.190 --> 00:21:32.820\nbecause it's a lot of work going in and\nimproving updates,\n\n426\n00:21:32.820 --> 00:21:34.765\nespecially when you first set up WSUS.\n\n427\n00:21:34.765 --> 00:21:37.940\nHere's something you gonna\nto have keep in mind, right?\n\n428\n00:21:37.940 --> 00:21:39.480\nYou have to approve the updates,\n\n429\n00:21:39.480 --> 00:21:43.505\notherwise that's the whole job of WSUS,\nonly push out approved updates.\n\n430\n00:21:43.505 --> 00:21:47.010\nWell, when you first set\nup your WSUS server, and\n\n431\n00:21:47.010 --> 00:21:52.470\nyou first pull all those down,\nthink about what you chose.\n\n432\n00:21:52.470 --> 00:21:57.460\nWindows 7, Windows 8, Windows 10, Server\n2008, Server 2012, 2016, R2s included.\n\n433\n00:21:57.460 --> 00:22:00.940\nCritical, security,\nmaybe drivers, maybe whatever.\n\n434\n00:22:00.940 --> 00:22:03.110\nThat's a lot of updates.\n\n435\n00:22:03.110 --> 00:22:04.110\n&gt;&gt; Office suites.\n\n436\n00:22:04.110 --> 00:22:06.290\n&gt;&gt; Office suites, yeah,\nyou got all of that.\n\n437\n00:22:06.290 --> 00:22:08.430\nAnd it's gonna pull that\ndown to your server.\n\n438\n00:22:08.430 --> 00:22:12.290\nZero of those updates are approved\nat this point, all right?\n\n439\n00:22:12.290 --> 00:22:14.780\nAnd you might think, well,\nwhy do I need to go back and approve them?\n\n440\n00:22:14.780 --> 00:22:16.140\nThey're old updates.\n\n441\n00:22:16.140 --> 00:22:19.410\nWell, what about when you re-image your\nmachine and it doesn't have any updates?\n\n442\n00:22:19.410 --> 00:22:22.200\nIt needs all the updates that\nare available for it, right?\n\n443\n00:22:22.200 --> 00:22:26.280\nSo you do need to go in and\napprove those, so it's a pain.\n\n444\n00:22:26.280 --> 00:22:30.670\nAnd then you see this option,\nwait a second, automated update rules?\n\n445\n00:22:30.670 --> 00:22:33.680\nThis is gonna help me out, woo-hoo!\n\n446\n00:22:33.680 --> 00:22:37.700\nAnd you can, you can set up these rules to\nwhere it automatically approves updates\n\n447\n00:22:37.700 --> 00:22:41.900\nthat come in, but you're all of\na sudden bypassing the whole reason for\n\n448\n00:22:41.900 --> 00:22:42.630\nrunning WSUS.\n\n449\n00:22:42.630 --> 00:22:45.180\nThat is the testing phase, right?\n\n450\n00:22:45.180 --> 00:22:46.580\nIf I automatically approve them and\n\n451\n00:22:46.580 --> 00:22:50.250\njust let them go out, why even set\nup a self server in the first place?\n\n452\n00:22:50.250 --> 00:22:52.790\nLet's just let them go to Microsoft and\nget them automatically,\n\n453\n00:22:52.790 --> 00:22:56.250\nI can take that server and re-purpose\nit and do something else with it.\n\n454\n00:22:56.250 --> 00:22:57.740\nI'm done, right?\n\n455\n00:22:57.740 --> 00:23:03.360\nThe reason we run WSUS is to get that\nlevel of control over the update process.\n\n456\n00:23:03.360 --> 00:23:06.910\nTo be able to test them before they\ngo out to my other machines or\n\n457\n00:23:06.910 --> 00:23:08.070\nto my nodes on my network.\n\n458\n00:23:08.070 --> 00:23:10.380\nSo while you can play with some of these,\nand\n\n459\n00:23:10.380 --> 00:23:15.090\nas Daniel suggested earlier, maybe I wanna\ndo anything critical and security related.\n\n460\n00:23:15.090 --> 00:23:19.250\nI can very well set up an automatic\napproval rule for those guys.\n\n461\n00:23:19.250 --> 00:23:23.530\nBecause it's very rare that one of\nthose updates causes a problem.\n\n462\n00:23:23.530 --> 00:23:26.781\n&gt;&gt; And I would say that\nthe risk-reward scenario there,\n\n463\n00:23:26.781 --> 00:23:31.446\nthat the idea that one of those security\nor critical updates hoses something to\n\n464\n00:23:31.446 --> 00:23:36.108\nwhere you have to run around putting out\nfires and fix it, is a lot less likely to\n\n465\n00:23:36.108 --> 00:23:39.855\nhappen than you not patching with\na security vulnerability and\n\n466\n00:23:39.855 --> 00:23:44.440\nsomeone compromising the machine and\nthen you've got a real problem.\n\n467\n00:23:44.440 --> 00:23:48.968\nThat's why typically you see most people\nwill say if it's critical or security,\n\n468\n00:23:48.968 --> 00:23:51.396\njust let it happen because\nthat is needed and\n\n469\n00:23:51.396 --> 00:23:54.039\nif it breaks something,\nI'll deal with that.\n\n470\n00:23:54.039 --> 00:23:56.530\nThat's fine, I'm happy to roll that back.\n\n471\n00:23:56.530 --> 00:24:00.855\nThe two times it happens in the next\nten years that's totally fine.\n\n472\n00:24:00.855 --> 00:24:03.061\nVersus, my computers\nare all compromisable,\n\n473\n00:24:03.061 --> 00:24:05.640\nbecause I didn't patch them\nall because I got lazy.\n\n474\n00:24:05.640 --> 00:24:07.294\n&gt;&gt; We are now the world's largest botnet.\n\n475\n00:24:07.294 --> 00:24:09.638\n[LAUGHS]\n&gt;&gt; Yeah, big point, here we come.\n\n476\n00:24:09.638 --> 00:24:11.890\n[LAUGH]\n&gt;&gt; [LAUGHS] Yeah,\n\n477\n00:24:11.890 --> 00:24:14.920\nabsolutely just go ahead and approve those\nguys, and let me show you how to do it.\n\n478\n00:24:14.920 --> 00:24:17.230\nSo if we wanted to come in\nhere I can choose, New Rule.\n\n479\n00:24:17.230 --> 00:24:20.890\nThis reminds me a lot of the old Outlook\nrules that you used to create to move from\n\n480\n00:24:20.890 --> 00:24:23.450\none mailbox to another or\nto organize your stuff.\n\n481\n00:24:23.450 --> 00:24:24.630\nYou can see it's very easy.\n\n482\n00:24:24.630 --> 00:24:26.330\nLet me zoom in.\n\n483\n00:24:26.330 --> 00:24:27.830\nSo I'm gonna do that again as well.\n\n484\n00:24:27.830 --> 00:24:29.220\nSo I clicked, New Rule.\n\n485\n00:24:29.220 --> 00:24:33.744\nMy option's, when an update is\nin a specific classification,\n\n486\n00:24:33.744 --> 00:24:36.188\nproduct, or I can set a deadline.\n\n487\n00:24:36.188 --> 00:24:40.662\nAnd I'll say, when an update is\nin a specific classification, and\n\n488\n00:24:40.662 --> 00:24:43.530\nnotice it added a line down here.\n\n489\n00:24:43.530 --> 00:24:45.860\nAnd it just says any classification.\n\n490\n00:24:45.860 --> 00:24:48.181\nWell, that's not very specific,\nso I'm gonna click on that.\n\n491\n00:24:48.181 --> 00:24:52.315\nAnd I can come in here and I can say\nlook if it's critical or security.\n\n492\n00:24:52.315 --> 00:24:54.890\nI'll zoom out just a bit.\n\n493\n00:24:54.890 --> 00:24:57.700\nClick OK, and see how it changes my rule.\n\n494\n00:24:57.700 --> 00:25:02.257\nWhen an update is in critical updates or\nsecurity updates, approve the update for,\n\n495\n00:25:02.257 --> 00:25:05.031\nand then I can come here and\nchoose any of my groups.\n\n496\n00:25:05.031 --> 00:25:08.715\nI'm gonna go ahead and\nsay all computers, all right.\n\n497\n00:25:08.715 --> 00:25:16.012\nAnd I can specify a name for\nthis, Auto Security and Critical.\n\n498\n00:25:19.451 --> 00:25:20.649\nApproval.\n\n499\n00:25:22.761 --> 00:25:23.280\nSomething like that.\n\n500\n00:25:24.440 --> 00:25:27.860\nLost my mouse, there it goes,\nwe'll click OK.\n\n501\n00:25:27.860 --> 00:25:30.090\nI'll zoom back out a little bit so\nwe can see that.\n\n502\n00:25:30.090 --> 00:25:33.751\nAnd now I've got my rule setup,\nit's checked.\n\n503\n00:25:33.751 --> 00:25:36.834\nNotice I can uncheck that, so\nonce you create a rule you can enable it,\n\n504\n00:25:36.834 --> 00:25:38.050\nyou can disable it.\n\n505\n00:25:38.050 --> 00:25:38.730\nYou can delete them.\n\n506\n00:25:38.730 --> 00:25:40.450\nYou can always go back and edit them.\n\n507\n00:25:40.450 --> 00:25:41.270\nI'll go ahead and click.\n\n508\n00:25:41.270 --> 00:25:43.501\nI'm not going to apply this,\ncuz I don't want to change my environment.\n\n509\n00:25:43.501 --> 00:25:46.630\nBut you see how easy it\nwas to set those up.\n\n510\n00:25:46.630 --> 00:25:50.840\nOr maybe you want to auto approve all\nupdates, but just for your test group.\n\n511\n00:25:50.840 --> 00:25:51.820\nAll right, and so\n\n512\n00:25:51.820 --> 00:25:54.460\nyou've got a running test group\nthat's continuously being updated.\n\n513\n00:25:54.460 --> 00:25:56.448\nAnd you go in there and\ncheck on them now again and\n\n514\n00:25:56.448 --> 00:25:59.254\nsee if any of those updates are broke,\nanything that's come out.\n\n515\n00:25:59.254 --> 00:26:02.040\nIf I go in and check on it today,\nnothing's broke.\n\n516\n00:26:02.040 --> 00:26:04.370\nAnything prior to today,\nI'll go ahead and approve for\n\n517\n00:26:04.370 --> 00:26:05.920\nthe rest of the network,\nor something like that.\n\n518\n00:26:05.920 --> 00:26:08.350\nSo many different ways\nto think about those.\n\n519\n00:26:08.350 --> 00:26:10.920\nAgain, just be careful with\nthe automatic approvals.\n\n520\n00:26:10.920 --> 00:26:13.520\nYou don't wanna take away\nfrom the abilities and\n\n521\n00:26:13.520 --> 00:26:17.570\nthe power we get from SaaS by\nbeing able to test those updates.\n\n522\n00:26:17.570 --> 00:26:21.250\nThe rest of these, well you got Computers.\n\n523\n00:26:21.250 --> 00:26:22.560\nThis is an important one.\n\n524\n00:26:22.560 --> 00:26:24.680\nHow do I assign those\nComputers to the groups?\n\n525\n00:26:24.680 --> 00:26:26.690\nRemember when we made groups earlier.\n\n526\n00:26:26.690 --> 00:26:27.560\nI've got two ways.\n\n527\n00:26:27.560 --> 00:26:29.940\nI can use the Update Services console.\n\n528\n00:26:29.940 --> 00:26:33.710\nAll new computers automatically placed\nin the unassigned Computers group, and\n\n529\n00:26:33.710 --> 00:26:34.880\nthen I'll have to go over here.\n\n530\n00:26:34.880 --> 00:26:39.650\nClick on Unassigned, right click on one\nof the nodes, say add to group, and\n\n531\n00:26:39.650 --> 00:26:41.500\nthen pick the group from the list.\n\n532\n00:26:41.500 --> 00:26:45.380\nOr I can choose use group policy or\nregistry settings on computers.\n\n533\n00:26:45.380 --> 00:26:46.265\nIn a large environment,\n\n534\n00:26:46.265 --> 00:26:48.801\nmost corporate environments this is\ngonna be the option you wanna use.\n\n535\n00:26:48.801 --> 00:26:53.244\nNow through group policy\nI can say these computers\n\n536\n00:26:53.244 --> 00:26:56.330\nbelong to that GNV clients group.\n\n537\n00:26:56.330 --> 00:26:58.090\nThey add a new computer,\n\n538\n00:26:58.090 --> 00:27:01.915\nas long as it gets put in the proper\nOU my group policy will be applied.\n\n539\n00:27:01.915 --> 00:27:04.180\nIt'll automatically be\nput in the right group.\n\n540\n00:27:04.180 --> 00:27:06.820\nIt'll know where to check in and\nwe're good to go.\n\n541\n00:27:06.820 --> 00:27:10.840\n&gt;&gt; Yeah, I would typically\ncreate a sister OU right?\n\n542\n00:27:10.840 --> 00:27:15.285\nSo if I had that SUS group of GNV I would\n\n543\n00:27:15.285 --> 00:27:19.886\nmake an OU container called WSUS GNV.\n\n544\n00:27:19.886 --> 00:27:22.093\nAnd then every computer got\ndropped in there automatically,\n\n545\n00:27:22.093 --> 00:27:23.371\ngot applied through group policy.\n\n546\n00:27:23.371 --> 00:27:26.350\nSo I don't have to do nothing,\nit was set it, forget it.\n\n547\n00:27:26.350 --> 00:27:27.652\nThat's definitely the way to fly.\n\n548\n00:27:27.652 --> 00:27:28.766\n&gt;&gt; Absolutely.\n&gt;&gt; [LAUGH]\n\n549\n00:27:28.766 --> 00:27:30.049\n&gt;&gt; We love to try to make it as\n\n550\n00:27:30.049 --> 00:27:32.800\nlittle work on me as possible, right\n&gt;&gt; Yes, sir.\n\n551\n00:27:32.800 --> 00:27:35.400\n&gt;&gt; With still being secure.\n\n552\n00:27:35.400 --> 00:27:36.380\nAll right so there we go.\n\n553\n00:27:36.380 --> 00:27:37.190\nWe got our groups.\n\n554\n00:27:37.190 --> 00:27:38.680\nHow we add those guys.\n\n555\n00:27:38.680 --> 00:27:40.450\nThat's an easy one to forget too.\n\n556\n00:27:40.450 --> 00:27:44.520\nI will tell you I can't tell you how many\npeople I have helped with WSUS that have\n\n557\n00:27:44.520 --> 00:27:49.490\ncome to me and said I cannot get these\ncomputers to show up in the right groups.\n\n558\n00:27:49.490 --> 00:27:50.660\nThey've gone through.\n\n559\n00:27:50.660 --> 00:27:51.900\nThey've made their policies.\n\n560\n00:27:51.900 --> 00:27:53.210\nThey've linked it to the right OU.\n\n561\n00:27:53.210 --> 00:27:54.700\nThe nodes are in the OU.\n\n562\n00:27:54.700 --> 00:27:55.910\nThe SUS server's set up.\n\n563\n00:27:55.910 --> 00:27:56.700\nThe ports are open.\n\n564\n00:27:56.700 --> 00:27:57.630\nThe firewall's ready.\n\n565\n00:27:57.630 --> 00:28:00.350\nEverything's golden,\nnobody's getting added to the groups.\n\n566\n00:28:00.350 --> 00:28:01.550\nWhat's going on?\n\n567\n00:28:01.550 --> 00:28:05.550\nWell they forgot that option there\nthat's by default it is set to\n\n568\n00:28:05.550 --> 00:28:08.005\nuse the Update Services Console.\n\n569\n00:28:08.005 --> 00:28:12.680\nIt'll ignore any group\npolicy assignment of groups.\n\n570\n00:28:12.680 --> 00:28:13.940\nIf that's not twisting.\n\n571\n00:28:13.940 --> 00:28:17.140\nSo do make sure you check that,\nif you wanna use group policy.\n\n572\n00:28:17.140 --> 00:28:19.753\nBelow that there's email notification, so\n\n573\n00:28:19.753 --> 00:28:24.026\nI can send Daniel all the emails and\nhave him do everytime it gets updated.\n\n574\n00:28:24.026 --> 00:28:24.676\n&gt;&gt; I got them.\n\n575\n00:28:24.676 --> 00:28:27.104\n[LAUGH]\n&gt;&gt; You can join the update improvement\n\n576\n00:28:27.104 --> 00:28:30.281\nprogram so Microsoft can spy on you,\nno I'm kidding.\n\n577\n00:28:30.281 --> 00:28:31.394\n&gt;&gt; Don't forget the Server Cleanup Wizard.\n\n578\n00:28:31.394 --> 00:28:32.296\nThat's a good one.\n\n579\n00:28:32.296 --> 00:28:33.270\n&gt;&gt; That's right it is, it is.\n\n580\n00:28:33.270 --> 00:28:34.250\nThe improvement program,\n\n581\n00:28:34.250 --> 00:28:37.400\nobviously it helps them make a better\nproduct if we give them a little feedback\n\n582\n00:28:37.400 --> 00:28:40.190\nabout how we're using it,\nwhat's going wrong, things like that.\n\n583\n00:28:40.190 --> 00:28:42.058\nAll anonymous for the most part.\n\n584\n00:28:42.058 --> 00:28:43.824\n[LAUGH] Personalization,\n\n585\n00:28:43.824 --> 00:28:47.525\nhow the downstream server\nroll ups data is displayed.\n\n586\n00:28:47.525 --> 00:28:49.817\n&gt;&gt; Nah. [LAUGH] &gt;&gt; To-do list.\n\n587\n00:28:49.817 --> 00:28:52.194\nYeah, the Server Configuration Wizard\nthough.\n\n588\n00:28:52.194 --> 00:28:53.713\nI skipped that one didn't I Daniel.\n\n589\n00:28:53.713 --> 00:28:54.631\n&gt;&gt; You did.\n\n590\n00:28:54.631 --> 00:28:58.269\n&gt;&gt; Yeah, you can use server cleanup\nto free up old computers, updates,\n\n591\n00:28:58.269 --> 00:29:00.129\nand update files from your server.\n\n592\n00:29:00.129 --> 00:29:04.794\nIf there's updates that are no longer\nneeded they've been superseded why keep\n\n593\n00:29:04.794 --> 00:29:06.150\nthem around, right.\n\n594\n00:29:06.150 --> 00:29:08.674\nYou got nodes that are no longer active.\n\n595\n00:29:08.674 --> 00:29:09.788\nRemember this is an active directory.\n\n596\n00:29:09.788 --> 00:29:11.526\nIt's not pulling it from active directory,\nso\n\n597\n00:29:11.526 --> 00:29:13.790\nit doesn't know that\na computer has been removed.\n\n598\n00:29:13.790 --> 00:29:15.710\nIt just still sees it in that group.\n\n599\n00:29:15.710 --> 00:29:16.800\nSo this'll help you say, hey,\n\n600\n00:29:16.800 --> 00:29:20.390\nthis computer hasn't checked in,\ndoesn't exist anymore, let's clean up.\n\n601\n00:29:20.390 --> 00:29:22.685\n&gt;&gt; And remember the magic word there,\nWizard.\n\n602\n00:29:22.685 --> 00:29:25.840\n[LAUGH] Yes, click, click,\nclick and I'm done.\n\n603\n00:29:25.840 --> 00:29:28.160\n&gt;&gt; And, yeah, we like Wizards.\n\n604\n00:29:28.160 --> 00:29:30.140\nAnd then one more Wizard\nat the very bottom is\n\n605\n00:29:30.140 --> 00:29:32.590\nthe WSUS Server Configuration Wizard.\n\n606\n00:29:32.590 --> 00:29:36.480\nBasically the exact same Wizard you run\nthrough when you first set up WSUS.\n\n607\n00:29:36.480 --> 00:29:39.196\nSo if you need to make major\nconfiguration changes to your server,\n\n608\n00:29:39.196 --> 00:29:40.075\nyou can fire this up.\n\n609\n00:29:40.075 --> 00:29:46.430\nAnd it'll take you back through the\nprocess of setting up your WSUS server.\n\n610\n00:29:46.430 --> 00:29:51.980\nWhich is what we're going to do next,\nbut Daniel's giving me that look.\n\n611\n00:29:51.980 --> 00:29:53.367\n&gt;&gt; The time is low, Michael.\n\n612\n00:29:53.367 --> 00:29:53.902\n&gt;&gt; Doggonit.\n\n613\n00:29:53.902 --> 00:29:54.652\n&gt;&gt; It happens.\n\n614\n00:29:54.652 --> 00:29:56.766\n&gt;&gt; Well, I ran my mouth too long.\n\n615\n00:29:56.766 --> 00:29:58.092\n&gt;&gt; [LAUGH]\n&gt;&gt; Hopefully it's been\n\n616\n00:29:58.092 --> 00:29:59.781\ngood information and\nyou guys have enjoyed it, though.\n\n617\n00:29:59.781 --> 00:30:01.170\n[LAUGH]\n&gt;&gt; It is good stuff, Mike.\n\n618\n00:30:01.170 --> 00:30:06.296\nAnd this is the news you can use,\nI like to say, right.\n\n619\n00:30:06.296 --> 00:30:09.838\nThis is something you will do\nas a Microsoft administrator,\n\n620\n00:30:09.838 --> 00:30:11.370\nsystems administrator.\n\n621\n00:30:11.370 --> 00:30:13.398\nYou will work with WSUS.\n\n622\n00:30:13.398 --> 00:30:14.804\nYou will approve updates.\n\n623\n00:30:14.804 --> 00:30:20.240\nYou will run the Server Cleanup Wizard\na million times as a Microsoft sysadmin.\n\n624\n00:30:20.240 --> 00:30:22.980\nSo this is all really good and\npractical information.\n\n625\n00:30:22.980 --> 00:30:26.960\nHopefully you guys are absorbing it,\nassimilating it, and enjoying it as well.\n\n626\n00:30:26.960 --> 00:30:29.240\nBut Mike you're right,\nit is time for us to end the show.\n\n627\n00:30:29.240 --> 00:30:31.715\nWe do thank you for\nyour demonstrations today though.\n\n628\n00:30:31.715 --> 00:30:32.835\nLooking forward to more in the future.\n\n629\n00:30:32.835 --> 00:30:33.628\n&gt;&gt; Yeah.\n\n630\n00:30:33.628 --> 00:30:35.100\n&gt;&gt; And we thank you guys for joining us.\n\n631\n00:30:35.100 --> 00:30:38.510\nBut, signing off for ITPro.TV,\nI've been your host Daniel Lowrie.\n\n632\n00:30:38.510 --> 00:30:39.240\n&gt;&gt; And I'm Mike Rodrick.\n\n633\n00:30:39.240 --> 00:30:40.040\n&gt;&gt; We'll see you next time.\n\n634\n00:30:40.040 --> 00:30:47.752\n[MUSIC]\n\n635\n00:30:47.752 --> 00:30:49.745\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "190240573"
        },
        {
          "description": "In this episode, Daniel and Mike explore more ways of maintaining a Windows Server 2016 server using WSUS. Here, they demonstrate the setup and use of WSUS upstream and downstream servers. Next they show you how to setup Automatic Updates. Finally they set client configuration through Group Policy and WSUS groups.",
          "length": "2352",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-3-maintain_server_installations_pt3-110116-PGM.00_38_58_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-3-maintain_server_installations_pt3-110116-PGM.00_38_58_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-3-maintain_server_installations_pt3-110116-PGM.00_38_58_09.Still001-sm.jpg",
          "title": "Maintain Server Installations Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:05.992\nWelcome to ITProTV, I'm your host,\n\n2\n00:00:05.992 --> 00:00:11.842\nDon Pezet [CROSSTALK]\n&gt;&gt; You're watching ITProTV.\n\n3\n00:00:11.842 --> 00:00:14.052\n&gt;&gt; All right, greetings everyone, and\n\n4\n00:00:14.052 --> 00:00:17.290\nwelcome to another great\nepisode of ITProTV.\n\n5\n00:00:17.290 --> 00:00:18.440\nI'm your host, Daniel Lowrie.\n\n6\n00:00:18.440 --> 00:00:19.910\nAnd today's episode, that's right,\n\n7\n00:00:19.910 --> 00:00:25.245\nmore on our installation storaging\ncompute of Windows Server 2016.\n\n8\n00:00:25.245 --> 00:00:27.535\nJoining us back in the studio again,\nright, yeah,\n\n9\n00:00:27.535 --> 00:00:30.099\nyou notice we're all wearing\nthe same clothes yet again.\n\n10\n00:00:30.099 --> 00:00:33.571\nThat's right because it's\npart three on WSUS, but Mike,\n\n11\n00:00:33.571 --> 00:00:36.380\nyou got some great demonstrations for us.\n\n12\n00:00:36.380 --> 00:00:39.017\nSo guess what,\nit's Mike Roderick here with us today.\n\n13\n00:00:39.017 --> 00:00:40.251\n&gt;&gt; How's everybody doing?\n\n14\n00:00:40.251 --> 00:00:43.260\n[LAUGH] Yeah, you're right,\nwe've spent the last episodes,\n\n15\n00:00:43.260 --> 00:00:47.008\nthe first episode we talked about all\nthe features and functionality of WSUS,\n\n16\n00:00:47.008 --> 00:00:50.753\nrequirements and things like that, stuff\nwe need to know for the exam, and for\n\n17\n00:00:50.753 --> 00:00:53.110\napplying this out in the real world.\n\n18\n00:00:53.110 --> 00:00:57.860\nIn the last episode we did, we took\na look at a functioning WSUS server, and\n\n19\n00:00:57.860 --> 00:01:00.380\nI went through all\nthe different options for you,\n\n20\n00:01:00.380 --> 00:01:03.090\nshowed you where you make\nconfiguration changes.\n\n21\n00:01:03.090 --> 00:01:06.680\nNow I wanna show you actually\ninstalling WSUS from the ground up.\n\n22\n00:01:06.680 --> 00:01:09.910\nRemember, the reason I had\nthat pre-built one was because\n\n23\n00:01:09.910 --> 00:01:12.870\nit takes a little while to get\nclients to check in sometimes.\n\n24\n00:01:12.870 --> 00:01:16.910\nAnd I wanna show you the approval process\nas well, but first, let's go ahead and\n\n25\n00:01:16.910 --> 00:01:20.922\nget another WSUS server installed,\nso you can see that process.\n\n26\n00:01:20.922 --> 00:01:25.180\nRelatively straightforward, there's just\nsome decisions you have to make during\n\n27\n00:01:25.180 --> 00:01:28.700\nthe installation as far as what updates,\nwhat categories, things like that,\n\n28\n00:01:28.700 --> 00:01:32.850\nwhether you're going to be a distributed\nor a centralized management.\n\n29\n00:01:32.850 --> 00:01:34.290\nMultiple, disconnected,\n\n30\n00:01:34.290 --> 00:01:37.400\nyou gotta think about all that before\nyou start the installation process.\n\n31\n00:01:37.400 --> 00:01:39.660\nPlanning is always key.\n\n32\n00:01:39.660 --> 00:01:41.750\nAll right, so\nI'm gonna flip over to server two,\n\n33\n00:01:41.750 --> 00:01:44.150\nand I'm gonna open up Server Manager.\n\n34\n00:01:45.300 --> 00:01:47.030\nI'll bring my screen up, there we go.\n\n35\n00:01:47.030 --> 00:01:50.260\nI've got Server Manager launching.\n\n36\n00:01:50.260 --> 00:01:52.925\nThis is where we go to add our roles.\n\n37\n00:01:52.925 --> 00:01:57.120\nWe'll give Server Manager a little\nblue bar, let it go by a few times.\n\n38\n00:01:57.120 --> 00:02:00.220\nLet it do its pull of\nall this information.\n\n39\n00:02:00.220 --> 00:02:03.580\nBecause if we click on anything before\nthat, it sometimes gets a little upset.\n\n40\n00:02:05.060 --> 00:02:06.309\nSo let that refresh.\n\n41\n00:02:08.802 --> 00:02:10.610\nAnd I'm usually just not that patient.\n\n42\n00:02:10.610 --> 00:02:14.762\nSo I'm like okay,\nit's been long enough, let's try it.\n\n43\n00:02:14.762 --> 00:02:17.440\nWoo hoo, sometimes if you go too early,\nit'll say\n\n44\n00:02:17.440 --> 00:02:21.380\nwe're not done collecting information,\nplease try again in a few minutes.\n\n45\n00:02:21.380 --> 00:02:23.620\nSo there's my Add Roles and\nFeatures Wizard.\n\n46\n00:02:23.620 --> 00:02:27.210\nI'm gonna click Next a few times\nto get past the intro screen.\n\n47\n00:02:27.210 --> 00:02:29.740\nThis is a role based installation.\n\n48\n00:02:29.740 --> 00:02:34.320\nIt is going to be on SVR02, so\nthat's selected, we'll go Next.\n\n49\n00:02:34.320 --> 00:02:37.020\nAnd then I'm gonna scroll down\nto the bottom of this list, and\n\n50\n00:02:37.020 --> 00:02:40.470\nthere is my Windows Server\nupdate services.\n\n51\n00:02:40.470 --> 00:02:42.200\nSo, I'll simply put a check mark there.\n\n52\n00:02:42.200 --> 00:02:46.865\nAnd you'll see the other requirements\nis gonna make sure .NET46 is around,\n\n53\n00:02:46.865 --> 00:02:49.942\nmy remote server admin tools for\nmanaging it, IIS.\n\n54\n00:02:49.942 --> 00:02:55.830\nRemember, this is all HTTP based as far as\nthe client is checking in with the server.\n\n55\n00:02:55.830 --> 00:02:58.839\nIt's all web based, so\nit does have a little IIS component there.\n\n56\n00:02:59.840 --> 00:03:04.110\nManagement tools, my Windows internal\ndatabase, process activation.\n\n57\n00:03:04.110 --> 00:03:09.567\nSo I'll go to Add Features and\nthen simply click Next &gt; Next &gt; Next.\n\n58\n00:03:09.567 --> 00:03:13.860\nAnd remember, it's smart enough to\nknow when it comes to the IIS screen,\n\n59\n00:03:13.860 --> 00:03:19.900\nit knows what I'm going to need for WSUS,\nso everything that is needed is selected.\n\n60\n00:03:19.900 --> 00:03:21.230\nWe should be good.\n\n61\n00:03:21.230 --> 00:03:24.200\nI'll click Next &gt; Next.\n\n62\n00:03:24.200 --> 00:03:27.394\nHere's where we really\nmake our first decision.\n\n63\n00:03:27.394 --> 00:03:27.961\nAll right,\n\n64\n00:03:27.961 --> 00:03:32.210\nI obviously want the WSUS service because\nthat's what I'm trying to install.\n\n65\n00:03:32.210 --> 00:03:36.970\nThe other option's WID connectivity or\nSQL server connectivity.\n\n66\n00:03:36.970 --> 00:03:39.700\nRemember we said you can either use\na Windows internal database to store\n\n67\n00:03:39.700 --> 00:03:41.000\nthe configuration, or\n\n68\n00:03:41.000 --> 00:03:45.690\na SQL server, either local on this\nmachine or even remote on your network.\n\n69\n00:03:45.690 --> 00:03:48.430\nSo you're gonna choose\nwhat you want to use.\n\n70\n00:03:48.430 --> 00:03:52.790\nIt probably makes sense but\nI'll show you anyway, I can't choose both.\n\n71\n00:03:52.790 --> 00:03:56.697\nIt's one or the other, either\nthe internal database or a SQL server.\n\n72\n00:03:56.697 --> 00:04:01.574\nSo, if I uncheck this, I could choose\nSQL and watch the list over here, right?\n\n73\n00:04:01.574 --> 00:04:04.109\nI'm gonna put a check mark for\nSQL server connectivity, and\n\n74\n00:04:04.109 --> 00:04:07.802\nyou'll see there's a little kind of grayed\nout there, but there's this DB instance.\n\n75\n00:04:07.802 --> 00:04:10.922\nBecause I'm telling it I'm gonna use SQL,\nthat server could be local,\n\n76\n00:04:10.922 --> 00:04:14.006\ncould be remote, could be more than\none instance running on a machine.\n\n77\n00:04:14.006 --> 00:04:18.780\nI've gotta tell it what SQL server,\nhow to connect to it, all that good stuff.\n\n78\n00:04:18.780 --> 00:04:22.355\nIf we choose the internal database,\nwell then it's gonna put it right here on\n\n79\n00:04:22.355 --> 00:04:24.390\nthis machine and\nit already knows about it.\n\n80\n00:04:24.390 --> 00:04:27.500\nI don't have any additional\noptions to select there.\n\n81\n00:04:27.500 --> 00:04:30.110\nAnd honestly,\nI really like using the internal database,\n\n82\n00:04:30.110 --> 00:04:32.180\nkinda keep it separate\nfrom everything else.\n\n83\n00:04:32.180 --> 00:04:35.550\nIt's not like I'm ever writing queries\nto this database or anything like that.\n\n84\n00:04:35.550 --> 00:04:38.890\nSo I'm like, okay, WSUS, you've got your\nown little database that you manage,\n\n85\n00:04:38.890 --> 00:04:41.210\nyou maintain,\nit has nothing to do with anything else,\n\n86\n00:04:41.210 --> 00:04:42.910\nand that's just the way I like it.\n\n87\n00:04:42.910 --> 00:04:46.340\nBut other people might think differently,\nso you do have that option.\n\n88\n00:04:46.340 --> 00:04:47.040\nI'll click Next.\n\n89\n00:04:48.370 --> 00:04:50.350\nAnd then where am I\ngonna store the updates?\n\n90\n00:04:50.350 --> 00:04:54.650\nChoose a valid local path on server two or\na remote path.\n\n91\n00:04:54.650 --> 00:04:59.460\nSo we can store these up on a network\nshare, assuming we had the share set up,\n\n92\n00:04:59.460 --> 00:05:00.340\nand we had the permissions.\n\n93\n00:05:00.340 --> 00:05:03.810\nI'm just gonna go ahead and\ncreate a folder real quick.\n\n94\n00:05:03.810 --> 00:05:07.470\nYou definitely wouldn't want to do this,\nwhat I'm getting ready to do in\n\n95\n00:05:07.470 --> 00:05:12.610\na production environment, is put these\nupdates on your C Drive, all right?\n\n96\n00:05:14.490 --> 00:05:18.520\nFor a couple of reasons, performance,\nobviously, and then size, right?\n\n97\n00:05:18.520 --> 00:05:22.020\nAs we upload or download more and\nmore updates, that starts growing,\n\n98\n00:05:22.020 --> 00:05:24.150\nI end up running out of\nfree space on my C drive.\n\n99\n00:05:24.150 --> 00:05:27.310\nMy OS slows or crashes,\nnever a good thing.\n\n100\n00:05:27.310 --> 00:05:31.760\nSo put that on a separate physical\nspindle, not just a separate volume.\n\n101\n00:05:31.760 --> 00:05:33.300\nIf you have to, you have to,\n\n102\n00:05:33.300 --> 00:05:36.505\nbut try to put it on a separate\nset of spindles there.\n\n103\n00:05:36.505 --> 00:05:40.918\nI'll put C colon, if my keyboard\nplays along, SQL and backslash,\n\n104\n00:05:40.918 --> 00:05:42.630\nWSUS, I'll click Next.\n\n105\n00:05:42.630 --> 00:05:46.332\nAnd I'll choose to restart if required,\n\n106\n00:05:46.332 --> 00:05:50.472\nbut it is not required for\nthis installation.\n\n107\n00:05:50.472 --> 00:05:56.890\nAnd we'll let that whirr and grind for\na minute, and we'll get it installed.\n\n108\n00:05:56.890 --> 00:05:59.390\nWhile that's going, it shouldn't\ntake you too terribly long, but\n\n109\n00:05:59.390 --> 00:06:00.250\nit is doing a lot, right?\n\n110\n00:06:00.250 --> 00:06:03.430\nIt's installing that .NET framework, IIS,\n\n111\n00:06:03.430 --> 00:06:07.690\nWSUS, my admin tools, so\nit's gonna take it a minute or so.\n\n112\n00:06:07.690 --> 00:06:12.686\nWhile that's going,\nI'll flip back over here, and\n\n113\n00:06:12.686 --> 00:06:17.595\nlet's take a look at the approval process,\nright?\n\n114\n00:06:17.595 --> 00:06:21.815\nWe saw this is the server that was set up\nalready before we started these episodes.\n\n115\n00:06:21.815 --> 00:06:28.865\nI do have a client that's checked in,\nclient001.lab.ITProTV, all right?\n\n116\n00:06:28.865 --> 00:06:32.976\nWhat I wanna do is if I'm gonna approve\nan update, in fact, let's do this,\n\n117\n00:06:32.976 --> 00:06:34.669\nI'm gonna create a new group.\n\n118\n00:06:36.660 --> 00:06:40.440\nAnd I'm gonna call it test, all right.\n\n119\n00:06:40.440 --> 00:06:43.360\nBecause remember, the important\nthing is to test your updates.\n\n120\n00:06:43.360 --> 00:06:46.150\nSo I'll show you the proper\nmethod to go through here.\n\n121\n00:06:46.150 --> 00:06:50.720\nLet's find a critical update\nthat my client actually needs,\n\n122\n00:06:50.720 --> 00:06:52.060\none of these guys for Windows 10.\n\n123\n00:06:52.060 --> 00:06:54.650\nSo let's say this update's come out, and\n\n124\n00:06:54.650 --> 00:06:57.890\nI'm thinking about deploying it to\nmy network, I wanna test it first.\n\n125\n00:06:57.890 --> 00:06:58.940\nHow do I do that?\n\n126\n00:06:58.940 --> 00:07:02.070\nWell, we're gonna right click on it,\nand we're going to choose Approve.\n\n127\n00:07:03.500 --> 00:07:07.570\nAnd there I get my hierarchy from\nmy groups that I've created.\n\n128\n00:07:07.570 --> 00:07:12.181\nI simply go to the test over here,\nget the little drop down, and\n\n129\n00:07:12.181 --> 00:07:14.710\napprove for install, all right.\n\n130\n00:07:14.710 --> 00:07:18.270\nAnd it says it's gonna install,\nand then I'll click OK.\n\n131\n00:07:19.310 --> 00:07:20.870\nRight, and now it's been approved.\n\n132\n00:07:20.870 --> 00:07:21.720\n&gt;&gt; Pretty painless.\n\n133\n00:07:21.720 --> 00:07:23.310\n&gt;&gt; Yeah, not too bad, right?\n\n134\n00:07:23.310 --> 00:07:26.990\nJust as long as you don't have to do\nthat 1,000 times, and we'll click Close.\n\n135\n00:07:26.990 --> 00:07:31.030\nAnd we're good to go, now you can\nsee over here that it's improved for\n\n136\n00:07:31.030 --> 00:07:34.815\ninstall on one of my six\ngroups that I have in WSUS.\n\n137\n00:07:34.815 --> 00:07:40.280\n&gt;&gt; Now good news is if you do have a lot\nof installation or patches to install,\n\n138\n00:07:40.280 --> 00:07:41.260\nyou can just highlight them.\n\n139\n00:07:41.260 --> 00:07:45.540\nUse that lovely Shift key, or drag and\nselect whatever you need, right click.\n\n140\n00:07:45.540 --> 00:07:49.744\nAnd when you hit approve for whatever,\nit approves all of them for whatever, or\n\n141\n00:07:49.744 --> 00:07:51.017\nat least it did, Mike.\n\n142\n00:07:51.017 --> 00:07:51.989\n&gt;&gt; Yeah, exactly right, yes, it does.\n\n143\n00:07:51.989 --> 00:07:55.206\nAnd I remember when SUS\nfirst came out back in 2003,\n\n144\n00:07:55.206 --> 00:07:58.345\nyou could not select more\nthan one update at a time.\n\n145\n00:07:58.345 --> 00:07:59.055\n&gt;&gt; That was brutal.\n\n146\n00:07:59.055 --> 00:08:02.237\n&gt;&gt; And you had to approve each one,\none at a time.\n\n147\n00:08:02.237 --> 00:08:05.734\nWhich was a real pain when you\ndid your fresh install of WSUS,\n\n148\n00:08:05.734 --> 00:08:06.980\nit was just tedious.\n\n149\n00:08:08.060 --> 00:08:11.500\nSo what we would do then is I\nwould let that approval sink in.\n\n150\n00:08:11.500 --> 00:08:14.500\nLet those clients check in 3\no'clock in the morning, or\n\n151\n00:08:14.500 --> 00:08:17.130\nmanually synchronize those test clients.\n\n152\n00:08:17.130 --> 00:08:21.040\nDo some testing on those updates,\nmake sure it's not gonna crash anything.\n\n153\n00:08:21.040 --> 00:08:23.905\nOnce I had finished that\ntesting process and\n\n154\n00:08:23.905 --> 00:08:28.010\nI knew I wanted to push this update\nout to the rest of my network,\n\n155\n00:08:28.010 --> 00:08:32.437\nI go back to that update,\nI right-click on it and I choose Approve.\n\n156\n00:08:34.546 --> 00:08:36.380\nAnd now I've got an option.\n\n157\n00:08:36.380 --> 00:08:39.770\nHow do I wanna roll this out,\ndo I wanna do it one group at a time?\n\n158\n00:08:39.770 --> 00:08:43.260\nWell then I can come over and\napprove it for just the GMV clients.\n\n159\n00:08:43.260 --> 00:08:47.000\nAnd now the next time one of those clients\nchecks in, they'll get that update.\n\n160\n00:08:50.060 --> 00:08:53.660\nOr, if it's a critical update and\nI want it to go out to everybody and\n\n161\n00:08:53.660 --> 00:08:57.230\nI don't want to do each group at a time,\nbecause this is a hierarchy,\n\n162\n00:08:57.230 --> 00:08:59.970\nI can just go to all computers,\nand approve for install.\n\n163\n00:08:59.970 --> 00:09:03.590\nAnd you'll see how the approval says,\ninstall inherited.\n\n164\n00:09:03.590 --> 00:09:06.780\nBecause it's inheriting it\nfrom that all computers group.\n\n165\n00:09:06.780 --> 00:09:10.120\nAnd remember our nested that we did,\nsame thing would happen there.\n\n166\n00:09:10.120 --> 00:09:12.800\nLet's unapprove that and\napprove it for sales.\n\n167\n00:09:12.800 --> 00:09:18.360\nAnd you'll see that the XP group\ninside sales get's that as well.\n\n168\n00:09:18.360 --> 00:09:20.860\nSo it gives us the ability to\ntake advantage of inheritance,\n\n169\n00:09:20.860 --> 00:09:23.400\nbasically just like we do\nwith NTFS permissions.\n\n170\n00:09:23.400 --> 00:09:26.430\nNow I want to try to assign it\nat the highest level possible.\n\n171\n00:09:26.430 --> 00:09:29.220\nIf I wanna approve it for\njust XP, that's fine.\n\n172\n00:09:29.220 --> 00:09:32.880\nBut what if I wanna do it for\nsales and all the groups within sales?\n\n173\n00:09:32.880 --> 00:09:35.050\nI don't have to do it multiple times,\nI can do it once.\n\n174\n00:09:35.050 --> 00:09:37.560\nI really like that inheritance property.\n\n175\n00:09:37.560 --> 00:09:43.630\nI'll go ahead and approve it for\neverybody and we'll click OK.\n\n176\n00:09:43.630 --> 00:09:45.890\nAnd we'll click Close,\nwe assume that it's tested.\n\n177\n00:09:45.890 --> 00:09:48.289\nIt's ready to go out to\nthe rest of my clients.\n\n178\n00:09:50.138 --> 00:09:53.770\nAs far as getting it out to the client,\nwell now the client gonna check in at\n\n179\n00:09:53.770 --> 00:09:56.830\nwhatever his schedule time is say,\n3 o'clock in the morning.\n\n180\n00:09:56.830 --> 00:10:00.960\nWe can try to trigger this right now,\nwe'll see if we can force it.\n\n181\n00:10:00.960 --> 00:10:02.804\nI'm gonna open up a command prompt.\n\n182\n00:10:05.640 --> 00:10:07.464\nMaybe, if it'll let me.\n\n183\n00:10:07.464 --> 00:10:08.808\n&gt;&gt; That's beyond your\nskillset Mike [LAUGH].\n\n184\n00:10:08.808 --> 00:10:11.270\n&gt;&gt; It really is today.\n\n185\n00:10:11.270 --> 00:10:13.270\nI'm gonna right-click and\nrun this guy as Administrator.\n\n186\n00:10:14.980 --> 00:10:17.530\nGive a little Yes to the UAC.\n\n187\n00:10:17.530 --> 00:10:22.657\nI'll zoom in here,\ncommand you should know hint,\n\n188\n00:10:22.657 --> 00:10:30.063\nhint, wuauclt.exe if you wanna put\nthat on there, it works without it.\n\n189\n00:10:30.063 --> 00:10:34.226\nI don't know if this is the easy\nway to remember it, wuauclt,\n\n190\n00:10:34.226 --> 00:10:37.119\nWindows update automatic update client.\n\n191\n00:10:37.119 --> 00:10:39.144\n&gt;&gt; I always thought of it\nas Windows-a-cult [LAUGH].\n\n192\n00:10:39.144 --> 00:10:42.278\n&gt;&gt; [CROSSTALK]\n&gt;&gt; [LAUGH] It kind of looks like that\n\n193\n00:10:42.278 --> 00:10:42.863\nright.\n\n194\n00:10:42.863 --> 00:10:45.272\nBut if you can remember Windows\nupdate automatic update client,\n\n195\n00:10:45.272 --> 00:10:47.770\nhopefully that will help you\nremember the abbreviation.\n\n196\n00:10:47.770 --> 00:10:49.510\nThere's two switches we\nneed to be familiar with.\n\n197\n00:10:49.510 --> 00:10:52.550\nYou can do a question mark and\nyou get a whole lot of help.\n\n198\n00:10:52.550 --> 00:10:56.340\nNone, great you don't get any\nhelp from their help system.\n\n199\n00:10:56.340 --> 00:10:57.780\nI mean what's up with that?\n\n200\n00:10:57.780 --> 00:11:02.210\nSo let's do this,\nthe ones you wanna know detectnow.\n\n201\n00:11:02.210 --> 00:11:04.890\nWhat that is, that triggers\nthe Windows update process itself.\n\n202\n00:11:04.890 --> 00:11:07.460\nIt says hey, I need to go check and\nsee if there's any updates.\n\n203\n00:11:07.460 --> 00:11:12.330\nWhat normally occurs at 3 o'clock in the\nmorning, detectnow says do it right now.\n\n204\n00:11:12.330 --> 00:11:15.490\nThe other switch you can use is reportnow.\n\n205\n00:11:15.490 --> 00:11:19.800\nAnd that's means that no checking in\nsaying, hey here's the updates I've got.\n\n206\n00:11:19.800 --> 00:11:22.549\nHere's my operating system,\njust informing the server.\n\n207\n00:11:22.549 --> 00:11:26.379\nHow we populate those beautiful\nreports with that information,\n\n208\n00:11:26.379 --> 00:11:28.268\nis by these nodes reporting in.\n\n209\n00:11:28.268 --> 00:11:30.956\nAnd I can force it to report in now.\n\n210\n00:11:30.956 --> 00:11:35.230\nSo I hit Enter, and you get no feedback\nwhatsoever, that's the lovely thing,\n\n211\n00:11:35.230 --> 00:11:37.980\nthat's what I was talking about\nearlier where you need patience\n\n212\n00:11:37.980 --> 00:11:41.030\nbecause you really just don't\nknow if it's doing anything.\n\n213\n00:11:41.030 --> 00:11:44.790\nYou can go check your logs and\nyou'll see that the Windows update client\n\n214\n00:11:44.790 --> 00:11:50.780\nsuccessfully fired, but it doesn't really\ntell you, check in, things like that.\n\n215\n00:11:50.780 --> 00:11:53.290\n&gt;&gt; Gives you time to go to Facebook and\nwatch a funny video or something.\n\n216\n00:11:53.290 --> 00:11:53.950\n&gt;&gt; It does, it does.\n\n217\n00:11:53.950 --> 00:11:55.510\nTell you what we'll try, let's do this.\n\n218\n00:11:55.510 --> 00:12:02.320\nLet's do Windows Update and\nwe'll check for updates.\n\n219\n00:12:03.780 --> 00:12:05.860\nWe'll try to do it this way as well,\n\n220\n00:12:05.860 --> 00:12:07.690\ncuz at least I'll get\na little graphical feedback.\n\n221\n00:12:07.690 --> 00:12:14.525\nBut I wanted you to see that\nwuauclt/detectnow, /reportnow.\n\n222\n00:12:14.525 --> 00:12:19.269\nI'll go ahead and check for\nupdates, and see what we get.\n\n223\n00:12:22.689 --> 00:12:26.750\nThink about it, thinking about it.\n\n224\n00:12:26.750 --> 00:12:30.080\nCome on, it's pretty close you\nshould be able to find him.\n\n225\n00:12:30.080 --> 00:12:31.070\nThere we go.\n\n226\n00:12:31.070 --> 00:12:37.298\nIt's up to date last check 4:13, and\nevidently it did not, interesting.\n\n227\n00:12:38.868 --> 00:12:41.980\nHm, we'll have to look at our log files\nand find out what the heck happened.\n\n228\n00:12:41.980 --> 00:12:46.820\nAnd, I gotta make sure that that update\nis actually for this particular version.\n\n229\n00:12:47.980 --> 00:12:50.550\nI assumed it was, but\nyou know what assuming can do.\n\n230\n00:12:50.550 --> 00:12:52.540\n&gt;&gt; It means you get it right every time.\n\n231\n00:12:52.540 --> 00:12:53.712\n&gt;&gt; Yeah, exactly.\n&gt;&gt; Perfect.\n\n232\n00:12:53.712 --> 00:12:58.488\n&gt;&gt; Version 16.07 Computer\nis needing this update, and\n\n233\n00:12:58.488 --> 00:13:01.320\nlet's see who needs this update.\n\n234\n00:13:03.540 --> 00:13:05.420\nWe'll check and see what WSUS says.\n\n235\n00:13:07.670 --> 00:13:13.030\nAnd the computer that needs\nthe update is Client 01.\n\n236\n00:13:13.030 --> 00:13:15.070\nSo this is what I'm saying about WSUS.\n\n237\n00:13:15.070 --> 00:13:18.800\nSometimes it can be very frustrating\ncuz I've just approved the update,\n\n238\n00:13:18.800 --> 00:13:22.820\nit's definitely needed by Client 01 but\nlook at the status.\n\n239\n00:13:22.820 --> 00:13:24.210\nNot Approved.\n\n240\n00:13:24.210 --> 00:13:25.640\nIt just takes time.\n\n241\n00:13:25.640 --> 00:13:27.490\nYou have to have patience with this\n\n242\n00:13:28.760 --> 00:13:32.100\nbecause you'll bang your head against\nthe wall scream in frustration.\n\n243\n00:13:32.100 --> 00:13:35.350\nIt's definitely approved, there's just\nnothing else you can do but just wait.\n\n244\n00:13:35.350 --> 00:13:37.750\n&gt;&gt; I setup a nice alert for\nmyself to let me remind,\n\n245\n00:13:37.750 --> 00:13:39.860\ncuz it's been a little bit,\nlet me check it.\n\n246\n00:13:39.860 --> 00:13:42.490\nIt's when the boss calls you and goes,\nwhy isn't that computer updating?\n\n247\n00:13:42.490 --> 00:13:45.065\nI go, yeah, I gotta check that [LAUGH].\n\n248\n00:13:45.065 --> 00:13:47.410\n&gt;&gt; Exactly.\n[LAUGH] That's your reminder, yeah?\n\n249\n00:13:47.410 --> 00:13:49.960\n&gt;&gt; Yeah, that's my reminder,\n[LAUGH] thanks for reminding me, boss.\n\n250\n00:13:49.960 --> 00:13:54.310\n&gt;&gt; All right, back over to server two, we\ncan see the installation is complete, but\n\n251\n00:13:54.310 --> 00:13:57.130\nit does say configuration required.\n\n252\n00:13:57.130 --> 00:13:59.530\nInstallation succeeded on Server 02,\nand then\n\n253\n00:13:59.530 --> 00:14:04.330\nI've got a launch post-installation tasks\nright there in the end of this wizard.\n\n254\n00:14:04.330 --> 00:14:08.110\nYou guys should know by now, if I happen\nto close this, I could always launch it\n\n255\n00:14:08.110 --> 00:14:11.490\nagain from this yellow exclamation\npoint in my notifications area.\n\n256\n00:14:11.490 --> 00:14:12.980\nBut I'll go ahead and click on it there.\n\n257\n00:14:14.080 --> 00:14:17.100\nIt says please wait while\nyour server's configured.\n\n258\n00:14:17.100 --> 00:14:22.598\nThis is another one of those that I'm\nnot really sure about with Microsoft.\n\n259\n00:14:22.598 --> 00:14:27.940\nSo, you ran through this whole\ninstallation, you finished,\n\n260\n00:14:27.940 --> 00:14:31.310\nyour telling me there is more\nconfiguration to do, so I click the link,\n\n261\n00:14:31.310 --> 00:14:34.740\nyou're doing it, you didn't need any input\nfrom me other than clicking the link.\n\n262\n00:14:34.740 --> 00:14:37.088\nWhy didn't you just do it?\n&gt;&gt; Why not just do that, yeah.\n\n263\n00:14:37.088 --> 00:14:38.390\nWhat's the here,\n\n264\n00:14:38.390 --> 00:14:41.240\ndo you really just wanna make sure\nthere's a human on the end of this thing?\n\n265\n00:14:41.240 --> 00:14:44.040\n&gt;&gt; I mean if it needed additional\ninformation from me, fine.\n\n266\n00:14:44.040 --> 00:14:48.100\nLike DHCP, you gotta create a scope and\nthings like that, but this,\n\n267\n00:14:48.100 --> 00:14:50.150\nif you're just gonna run\nsomething in the background.\n\n268\n00:14:50.150 --> 00:14:52.850\n&gt;&gt; We have to do this, and\nif we don't, you can't continue.\n\n269\n00:14:52.850 --> 00:14:54.745\n&gt;&gt; Yeah, [LAUGH].\n&gt;&gt; Do you wish to continue?\n\n270\n00:14:54.745 --> 00:14:57.670\nWell I've come this far, so\nI might as well see it through.\n\n271\n00:14:57.670 --> 00:15:00.300\n&gt;&gt; Most of the time, I would think, yeah.\n\n272\n00:15:00.300 --> 00:15:01.460\nSo we'll let it do it's thing.\n\n273\n00:15:01.460 --> 00:15:05.300\nAgain, I'm just teasing with Microsoft,\nI'm not gonna bash their product.\n\n274\n00:15:05.300 --> 00:15:09.730\nI'm sure there's a very good reason that\nit's doing what it's doing after the fact.\n\n275\n00:15:10.760 --> 00:15:16.820\nSo, I just like to poke at them sometimes,\ncuz it's fun.\n\n276\n00:15:16.820 --> 00:15:19.890\nSo we'll let that go, tell you what\nwe'll do, we'll go to the client,\n\n277\n00:15:19.890 --> 00:15:23.490\nwe'll check for updates again,\nwe'll just trigger everything here.\n\n278\n00:15:23.490 --> 00:15:27.720\nWe'll even do it from the command prompt,\na little more wuauclt.\n\n279\n00:15:27.720 --> 00:15:29.510\nSure, that won't make it mad.\n\n280\n00:15:29.510 --> 00:15:34.555\nStill telling me that it's up to date,\nlast checked at 4:16, it is 4:16.\n\n281\n00:15:34.555 --> 00:15:39.360\nSo evidently it's, hm,\nnot finding that update just yet.\n\n282\n00:15:40.910 --> 00:15:42.420\nBut that's all right,\nwe'll be patient and we'll give it time.\n\n283\n00:15:42.420 --> 00:15:44.660\n&gt;&gt; You have a very busy network, Mike.\n\n284\n00:15:44.660 --> 00:15:45.680\nCould be hours.\n\n285\n00:15:45.680 --> 00:15:47.660\n&gt;&gt; Evidently,\nthis guy's still chugging along, too.\n\n286\n00:15:47.660 --> 00:15:48.605\n&gt;&gt; I've seen this, though.\n\n287\n00:15:48.605 --> 00:15:50.604\nThis is not like an uncommon thing, and\n\n288\n00:15:50.604 --> 00:15:54.542\nwhile we like to make things work smoothly\nfor the show, I click something and\n\n289\n00:15:54.542 --> 00:15:58.808\nit happens, you get to watch that and\nit's awesome, or hopefully it's awesome.\n\n290\n00:15:58.808 --> 00:16:01.882\nThe real life is,\nthis is something that occurs.\n\n291\n00:16:01.882 --> 00:16:06.122\nYou approve updates, and you're thinking\nsweet, everything's rocking and rolling,\n\n292\n00:16:06.122 --> 00:16:10.079\nI should be able to check my test machine,\njust to verify everything went smoothly,\n\n293\n00:16:10.079 --> 00:16:11.490\nand it's not showing up yet.\n\n294\n00:16:11.490 --> 00:16:15.135\nAnd you, all right, well, I'll force it,\nand it's still not showing up.\n\n295\n00:16:15.135 --> 00:16:17.085\nAnd you bang your head\nagainst the wall for\n\n296\n00:16:17.085 --> 00:16:19.575\na couple hours until it's time to go home,\nand so, you go home.\n\n297\n00:16:19.575 --> 00:16:22.015\nAnd you come back the next day,\nand it all works.\n\n298\n00:16:22.015 --> 00:16:26.275\nThat's just the welcome to IT,\nand that's what we do.\n\n299\n00:16:26.275 --> 00:16:27.415\nSo, don't think that,\n\n300\n00:16:27.415 --> 00:16:30.805\nthere's not necessarily something wrong,\ncuz it's taking a long time.\n\n301\n00:16:30.805 --> 00:16:32.465\nIt could just be taking a long time.\n\n302\n00:16:32.465 --> 00:16:35.951\n&gt;&gt; Exactly, all right, so listen, so, our\nserver has finished its configuration, so\n\n303\n00:16:35.951 --> 00:16:37.880\nlet's take a look at the screen again.\n\n304\n00:16:37.880 --> 00:16:38.620\nServer two is done.\n\n305\n00:16:38.620 --> 00:16:40.792\nI can see configuration\nsuccessfully completed.\n\n306\n00:16:40.792 --> 00:16:46.200\nI will click close, and\nnow I'll open up my WSUS console.\n\n307\n00:16:46.200 --> 00:16:47.770\nSo, tools and WSUS.\n\n308\n00:16:49.950 --> 00:16:52.370\nAnd you'll see that\nthe configuration wizard launches.\n\n309\n00:16:52.370 --> 00:16:54.810\nNot the configuration we just\ndid with that other link,\n\n310\n00:16:54.810 --> 00:16:58.570\na new configuration where\nwe do need human input.\n\n311\n00:16:58.570 --> 00:17:02.030\nI'll zoom in a wee bit, so\nyou guys can see it a little bit better.\n\n312\n00:17:02.030 --> 00:17:03.996\nIt does remind me hey, are you firewalled?\n\n313\n00:17:03.996 --> 00:17:07.320\nYou gotta make sure that you\nopen up the firewall 8530.\n\n314\n00:17:07.320 --> 00:17:10.740\nCan this computer connect to the upstream\nserver, if that's Microsoft, or\n\n315\n00:17:10.740 --> 00:17:13.170\nif it's in a hierarchy of my own.\n\n316\n00:17:13.170 --> 00:17:16.970\nDo you have credentials for\nthe proxy server, if we're using a proxy?\n\n317\n00:17:16.970 --> 00:17:18.790\nMake sure you have all that together.\n\n318\n00:17:18.790 --> 00:17:22.290\nDo you wanna join\nthe Microsoft Update Improvement Program?\n\n319\n00:17:22.290 --> 00:17:23.290\nIt's always good to help.\n\n320\n00:17:23.290 --> 00:17:25.290\nI'm gonna skip that for now.\n\n321\n00:17:25.290 --> 00:17:26.940\nAnd then where am I gonna synchronize?\n\n322\n00:17:26.940 --> 00:17:29.030\nWell, if this was the top,\nit'd be Microsoft, but\n\n323\n00:17:29.030 --> 00:17:31.780\nthis is my second level in my hierarchy.\n\n324\n00:17:31.780 --> 00:17:35.760\nSo, I'm gonna choose Synchronize from\nanother Windows Server update server.\n\n325\n00:17:35.760 --> 00:17:40.810\nThat's going to be svro1.lab.itpro.tv.\n\n326\n00:17:40.810 --> 00:17:44.830\nI didn't change my default ports, so\nwe are good to go there with 8530.\n\n327\n00:17:44.830 --> 00:17:48.970\nI'm not using SSL, here, though,\nthis is an important decision.\n\n328\n00:17:48.970 --> 00:17:51.700\nThis is a replica of the upstream server.\n\n329\n00:17:51.700 --> 00:17:55.420\nIf this was a replica, and I wasn't\ngonna change any of those options,\n\n330\n00:17:55.420 --> 00:17:57.440\nthat I would simply select this, and\n\n331\n00:17:57.440 --> 00:18:01.390\nyou'll see options are disabled,\nbecause this is the server is a replica.\n\n332\n00:18:01.390 --> 00:18:03.610\nAll this stuff gets grayed out.\n\n333\n00:18:03.610 --> 00:18:06.890\nI'm gonna have to do my proxy\nsimply to connect, but after that,\n\n334\n00:18:06.890 --> 00:18:08.080\nI make no decisions.\n\n335\n00:18:08.080 --> 00:18:11.430\nEverything is done by the upstream server.\n\n336\n00:18:11.430 --> 00:18:14.230\nIn this case, SVR one,\nthat'll add .IT.ProTv.\n\n337\n00:18:14.230 --> 00:18:17.898\nI wanna show you the options, so\nI'm not going to choose that.\n\n338\n00:18:17.898 --> 00:18:21.960\nWe'll pretend we're setting up\na distributed management type environment,\n\n339\n00:18:21.960 --> 00:18:23.720\non click next.\n\n340\n00:18:23.720 --> 00:18:29.235\nI'm not using a proxy in this case, and\nthen we're going to start connecting.\n\n341\n00:18:29.235 --> 00:18:31.015\nThis can take a minute sometimes as well.\n\n342\n00:18:31.015 --> 00:18:32.025\nI forgot about this one.\n\n343\n00:18:33.785 --> 00:18:36.325\nRight now, what it's doing is it's\nreaching out to Microsoft, and\n\n344\n00:18:36.325 --> 00:18:37.565\nIt's populating my list.\n\n345\n00:18:37.565 --> 00:18:41.573\nNot a list of updates, but a list of\ncategories, and a list of classifications.\n\n346\n00:18:41.573 --> 00:18:44.615\nSo, it's gotta go out there and see all\nof the different categories that we can\n\n347\n00:18:44.615 --> 00:18:47.610\nchoose from to select\nwhat updates we want.\n\n348\n00:18:47.610 --> 00:18:50.510\nThat's what it's doing now,\nand that can take a minute.\n\n349\n00:18:50.510 --> 00:18:51.530\nSo, let's let that run.\n\n350\n00:18:51.530 --> 00:18:53.570\nAnd we'll check in on my client.\n\n351\n00:18:53.570 --> 00:18:54.550\nWe'll see how he's doing.\n\n352\n00:18:54.550 --> 00:18:58.550\nI'm gonna trigger updates again,\nsee what's going on.\n\n353\n00:18:58.550 --> 00:19:00.110\nSo, it tells me I'm up to date.\n\n354\n00:19:00.110 --> 00:19:05.430\nSo, what I'm gonna do is I'm going to\nreboot this machine, first and foremost.\n\n355\n00:19:05.430 --> 00:19:07.580\nWe always start there, right?\n\n356\n00:19:07.580 --> 00:19:08.950\nMake sure everything's clicking,\n\n357\n00:19:08.950 --> 00:19:11.935\nflush everything out on my caches,\nthings like that.\n\n358\n00:19:11.935 --> 00:19:16.220\nCuz I have snapshotted and rolled these\nmachines back several times testing.\n\n359\n00:19:16.220 --> 00:19:17.260\nSo, we'll make sure.\n\n360\n00:19:17.260 --> 00:19:20.460\nAnd while it's doing that,\nI'm gonna come back over to my server and\n\n361\n00:19:20.460 --> 00:19:21.985\napprove the other updates,\n\n362\n00:19:21.985 --> 00:19:26.130\ncuz we might have better luck the more\nupdates that we approve, right?\n\n363\n00:19:26.130 --> 00:19:27.690\nMaybe one of them will kick in.\n\n364\n00:19:27.690 --> 00:19:31.555\nSo, I'll approve those for\nall computers as well.\n\n365\n00:19:35.786 --> 00:19:37.905\nAnd we'll click close on that.\n\n366\n00:19:37.905 --> 00:19:40.889\nThere's another nice Windows 10 one,\nmaybe we'll do that one.\n\n367\n00:19:40.889 --> 00:19:43.871\nThat one I'm seeing says 100% installed,\nso that would\n\n368\n00:19:43.871 --> 00:19:47.676\nmean that the machine already has that\nupdate, so I won't bother with that.\n\n369\n00:19:47.676 --> 00:19:51.890\nSo, we'll approve a couple more updates.\n\n370\n00:19:51.890 --> 00:19:52.432\nWhat else?\n\n371\n00:19:52.432 --> 00:19:53.269\nCan we check with this guy?\n\n372\n00:19:53.269 --> 00:19:54.570\nOkay, this guy is finished.\n\n373\n00:19:54.570 --> 00:19:56.160\nGood, perfect timing.\n\n374\n00:19:56.160 --> 00:19:59.880\nSo, types of updates, products that\ncan be updated, available languages.\n\n375\n00:19:59.880 --> 00:20:05.020\nRetrieves all that from Microsoft, or in\nthe case of a downstream server replica,\n\n376\n00:20:05.020 --> 00:20:08.190\nagain, it's just gonna pull it from\nthe other server we have set up.\n\n377\n00:20:08.190 --> 00:20:09.970\nAnd notice here, unlimited.\n\n378\n00:20:09.970 --> 00:20:12.870\nBecause, even though this\nis not a replica, right?\n\n379\n00:20:12.870 --> 00:20:15.800\nWe chose that it's not a replica,\nall right?\n\n380\n00:20:15.800 --> 00:20:21.850\nIt's still only gonna give me the choice,\nwhat's a good way to say this?\n\n381\n00:20:23.700 --> 00:20:26.740\nI'm not a replica, so I do have a choice,\nbut I can only choose from what\n\n382\n00:20:26.740 --> 00:20:29.640\nthe other server has already chosen,\nif that makes sense.\n\n383\n00:20:29.640 --> 00:20:30.400\nDoes that make sense?\n\n384\n00:20:30.400 --> 00:20:31.252\nNo?\nOkay.\n\n385\n00:20:31.252 --> 00:20:32.152\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay, we'll try that again.\n\n386\n00:20:32.152 --> 00:20:32.717\n&gt;&gt; Try it again, Mike.\n\n387\n00:20:32.717 --> 00:20:34.515\n[LAUGH]\n&gt;&gt; Okay, if it was a replica,\n\n388\n00:20:34.515 --> 00:20:35.740\nI'd have no choice at all.\n\n389\n00:20:35.740 --> 00:20:39.320\nAnd whatever the upstream\nserver said is what I'd get.\n\n390\n00:20:39.320 --> 00:20:42.010\nSo, if the upstream server said,\nyou get English and\n\n391\n00:20:42.010 --> 00:20:45.090\nyou get Chinese,\nthat's what's gonna be on this machine.\n\n392\n00:20:45.090 --> 00:20:48.860\nIf it's not a replica, but I'm not\nconfiguring to synchronize with Microsoft,\n\n393\n00:20:48.860 --> 00:20:52.670\nI'm synchronizing with my upstream server,\nbut it's not a replica, I get a choice.\n\n394\n00:20:52.670 --> 00:20:55.780\nMy choice is going to be limited\nto the ones that were chosen\n\n395\n00:20:55.780 --> 00:20:56.960\non the upstream server.\n\n396\n00:20:56.960 --> 00:20:59.990\nSo, instead of have a choice of English,\nRussian, Japanese, Chinese,\n\n397\n00:20:59.990 --> 00:21:03.250\nall that I would just see English and\nChinese.\n\n398\n00:21:03.250 --> 00:21:04.460\nI can still choose just English.\n\n399\n00:21:04.460 --> 00:21:06.099\n&gt;&gt; So, when you have no choice,\n\n400\n00:21:06.099 --> 00:21:09.192\nthe other is a limited choice\nbased off of the upstream.\n\n401\n00:21:09.192 --> 00:21:10.334\n&gt;&gt; Yes, there we go.\n\n402\n00:21:10.334 --> 00:21:11.472\nDoes that make sense, better sense?\n\n403\n00:21:11.472 --> 00:21:11.979\nOkay, perfect.\n\n404\n00:21:11.979 --> 00:21:12.714\n&gt;&gt; I totally get it.\n[LAUGH]\n\n405\n00:21:12.714 --> 00:21:14.107\n&gt;&gt; Thank you for summarizing that for\n\n406\n00:21:14.107 --> 00:21:15.316\nme and putting it in English.\n\n407\n00:21:15.316 --> 00:21:19.716\n[LAUGH] All right, so\nyou can see my only choice is English.\n\n408\n00:21:19.716 --> 00:21:21.075\nI'll click Next.\n\n409\n00:21:21.075 --> 00:21:22.405\nWhen do I wanna synchronize?\n\n410\n00:21:22.405 --> 00:21:24.495\nAnd this is something you've\ngotta work out as well.\n\n411\n00:21:24.495 --> 00:21:28.075\nYour whole synchronization schedule,\nit's not as simple as saying hey, 3 AM,\n\n412\n00:21:28.075 --> 00:21:29.375\ngo get them, right?\n\n413\n00:21:29.375 --> 00:21:30.650\nI kinda need-\n&gt;&gt; It's not.\n\n414\n00:21:30.650 --> 00:21:31.344\n&gt;&gt; Eh, not really, right?\n\n415\n00:21:31.344 --> 00:21:32.510\n&gt;&gt; [LAUGH]\n&gt;&gt; I want my upstream\n\n416\n00:21:32.510 --> 00:21:37.060\nserver to synchronize with Microsoft, and\nI need that to finish before my downstream\n\n417\n00:21:37.060 --> 00:21:40.800\nservers start pulling from him, otherwise\nI'm a day late in the cycle, right?\n\n418\n00:21:40.800 --> 00:21:43.920\nIf they're all going at the same time,\nI'm pulling from my upstream, but\n\n419\n00:21:43.920 --> 00:21:48.520\nmy upstream hasn't pulled from Microsoft\nyet today, right now, I'm a day behind.\n\n420\n00:21:48.520 --> 00:21:51.050\nSo, what I'd like to do is say,\nokay, upstream, go up at midnight.\n\n421\n00:21:51.050 --> 00:21:53.160\nDownstream, you're gonna go at 1 AM.\n\n422\n00:21:53.160 --> 00:21:55.380\nClients, you're all gonna go at 3 AM.\n\n423\n00:21:55.380 --> 00:21:59.110\nBut the client's not so important, cuz I\nstill have to test them and approve them.\n\n424\n00:21:59.110 --> 00:22:00.890\nBut synchronizing and\nsetting a schedule for\n\n425\n00:22:00.890 --> 00:22:06.510\nyour server synchronization is usually,\nyou wanna kinda think that through.\n\n426\n00:22:06.510 --> 00:22:10.039\n&gt;&gt; Man, I would really wanna set it up to\nwhere I have an upstream server, right?\n\n427\n00:22:10.039 --> 00:22:13.782\nAnd my downstream server is\ngetting its instructions, right?\n\n428\n00:22:13.782 --> 00:22:17.455\nFrom that upstream server, but\nwhen it comes to downloading Updates.\n\n429\n00:22:17.455 --> 00:22:19.206\nDon't get it from me, go get it with\nMicrosoft, use their bandwidth.\n\n430\n00:22:19.206 --> 00:22:19.789\n[LAUGH]\n&gt;&gt; Yes, and\n\n431\n00:22:19.789 --> 00:22:23.605\nthere are a couple of choices you\ncan do that will help control that.\n\n432\n00:22:23.605 --> 00:22:26.415\nIn fact,\nwe'll get to them here in just a second.\n\n433\n00:22:26.415 --> 00:22:28.987\nI can go ahead and\nbegin the initial synchronization.\n\n434\n00:22:28.987 --> 00:22:34.291\nI'll click Next, and\nthen Finish, and that's it.\n\n435\n00:22:34.291 --> 00:22:35.602\nAll right, at this point,\n\n436\n00:22:35.602 --> 00:22:38.950\nit is going to begin synchronizing\nwith the upstream server.\n\n437\n00:22:38.950 --> 00:22:40.580\nNow, Daniel brings up a really good point.\n\n438\n00:22:40.580 --> 00:22:43.526\nAnd let's see if we can\ngo find that option here.\n\n439\n00:22:43.526 --> 00:22:50.440\nUpdate files and languages,\nsynchronization schedule, approvals.\n\n440\n00:22:50.440 --> 00:22:52.220\nLet's see where they hid that guy now.\n\n441\n00:22:52.220 --> 00:22:56.650\nLet's check synchronization, schedule.\n\n442\n00:22:56.650 --> 00:23:04.853\nWhat I'm looking for- Is not there.\n\n443\n00:23:08.525 --> 00:23:12.814\nWhen we set this guy up to synchronize,\nwe should be able to and\n\n444\n00:23:12.814 --> 00:23:14.555\nlet me see if can find it.\n\n445\n00:23:16.962 --> 00:23:19.290\nHm, where are my properties?\n\n446\n00:23:19.290 --> 00:23:22.128\nAnyway, what I was trying to\nsay was we can choose, and\n\n447\n00:23:22.128 --> 00:23:24.117\nthis might be done with my policy now.\n\n448\n00:23:24.117 --> 00:23:27.647\nThey might have, well,\nwe'll come back to that.\n\n449\n00:23:27.647 --> 00:23:31.072\nHere, the Configuration Wizard,\nbecause that other one is pru,\n\n450\n00:23:31.072 --> 00:23:33.840\nis pulling signs from here,\nwe didn't get to see it.\n\n451\n00:23:33.840 --> 00:23:35.350\nLet me see if I can show you the option.\n\n452\n00:23:35.350 --> 00:23:39.850\nI'm just gonna real quick go back\nthrough here- Okay, what is?\n\n453\n00:23:39.850 --> 00:23:41.100\nI'm on the wrong server.\n\n454\n00:23:41.100 --> 00:23:41.910\n&gt;&gt; Well, there you go, Mike.\n\n455\n00:23:41.910 --> 00:23:43.780\n&gt;&gt; That could be why I'm\nnot seeing those things.\n\n456\n00:23:43.780 --> 00:23:46.650\nAll right, so I'm on the downstream,\nand it's not finished setting up yet.\n\n457\n00:23:46.650 --> 00:23:47.550\n&gt;&gt; It looks the same.\n\n458\n00:23:47.550 --> 00:23:48.790\n&gt;&gt; They really do.\n\n459\n00:23:48.790 --> 00:23:53.690\nLet's go back over to here,\nand let's do our update files,\n\n460\n00:23:53.690 --> 00:23:56.777\nand update source from proxy server.\n\n461\n00:23:56.777 --> 00:24:00.884\nSo, that's set to Microsoft, and\nthen my products and classifications,\n\n462\n00:24:00.884 --> 00:24:03.899\nagain, this is where I was\nsaying what was chosen here,\n\n463\n00:24:03.899 --> 00:24:05.971\nlimits the list on the other servers.\n\n464\n00:24:05.971 --> 00:24:07.735\nSo, we've seen that already.\n\n465\n00:24:07.735 --> 00:24:12.360\nUpdate files and languages,\nthis is the option I wanted to show you.\n\n466\n00:24:12.360 --> 00:24:15.470\nThe update files, cuz Daniel\nbrought up an interesting point,\n\n467\n00:24:15.470 --> 00:24:17.160\nI realized I hadn't talked about this yet.\n\n468\n00:24:17.160 --> 00:24:19.896\nI've been saying that we're gonna\nsynchronise with Microsoft and\n\n469\n00:24:19.896 --> 00:24:20.956\npull those down locally.\n\n470\n00:24:20.956 --> 00:24:24.206\nAnd then our nodes all\nconnect to our server and\n\n471\n00:24:24.206 --> 00:24:27.800\npull the updates on the LAN\nat nice gigabit speeds.\n\n472\n00:24:27.800 --> 00:24:29.150\nBut storage can be an issue, right?\n\n473\n00:24:29.150 --> 00:24:31.980\nStoring all those updates locally\ndoes take up some space, and\n\n474\n00:24:31.980 --> 00:24:34.200\nthat might be a premium that\nyou're not willing to pay.\n\n475\n00:24:34.200 --> 00:24:38.800\nBut can I still get the advantage of\nWSUS and the control over what updates?\n\n476\n00:24:38.800 --> 00:24:40.026\nAbsolutely, right.\n\n477\n00:24:40.026 --> 00:24:41.680\nWhat we can choose, you can see here,\n\n478\n00:24:41.680 --> 00:24:45.530\nI've got download update files to this\nserver only when updates are approved.\n\n479\n00:24:45.530 --> 00:24:47.730\nSo it's only downloading\nthe header information for\n\n480\n00:24:47.730 --> 00:24:50.200\nthe updates, not the actual update.\n\n481\n00:24:50.200 --> 00:24:54.380\nOnce I approve it, it'll download\nthe update and then get it ready for\n\n482\n00:24:54.380 --> 00:24:55.640\ndistribution.\n\n483\n00:24:55.640 --> 00:24:58.470\nYou can also download\nexpress installation files.\n\n484\n00:24:58.470 --> 00:25:00.160\nThey're a little bit bigger, but\n\n485\n00:25:00.160 --> 00:25:02.950\nsupposedly they provide\nbetter download speeds.\n\n486\n00:25:02.950 --> 00:25:06.052\nOr this option,\ndo not store update files locally.\n\n487\n00:25:06.052 --> 00:25:08.940\nComputers install from Microsoft update,\nright.\n\n488\n00:25:08.940 --> 00:25:10.280\nThat's a little misleading.\n\n489\n00:25:10.280 --> 00:25:10.950\nYou might think well, wait,\n\n490\n00:25:10.950 --> 00:25:13.770\nwhy am I running SUS if they're\ngoing to go out to Microsoft Update?\n\n491\n00:25:13.770 --> 00:25:16.270\nThey're only going to download\nthe product from Microsoft.\n\n492\n00:25:16.270 --> 00:25:19.980\nThe approval status came from\nmy SUS server here locally.\n\n493\n00:25:19.980 --> 00:25:23.450\nThey're not getting any random\nupdates that they want.\n\n494\n00:25:23.450 --> 00:25:27.790\nThey're saying my SUS servers,\nyou need update one and update three.\n\n495\n00:25:27.790 --> 00:25:31.170\nBut instead of retrieving it from my SUS\nserver, they're actually going out on\n\n496\n00:25:31.170 --> 00:25:34.360\nthe WAN, hitting Microsoft, and saying\nI know you've got a bunch of updates.\n\n497\n00:25:34.360 --> 00:25:36.430\nI just want number one and\nnumber three, right.\n\n498\n00:25:36.430 --> 00:25:40.420\nSo that's a way you can still use SUS\nto test the updates but not worry about\n\n499\n00:25:40.420 --> 00:25:44.570\nstoring those updates locally and\ntaking up all that drive space, right?\n\n500\n00:25:44.570 --> 00:25:45.850\nSo that's what I wanted to show you.\n\n501\n00:25:45.850 --> 00:25:47.810\nWe already looked at Update Languages.\n\n502\n00:25:47.810 --> 00:25:51.131\nAnd because English is\nthe only one I selected here,\n\n503\n00:25:51.131 --> 00:25:54.842\nit was the only possible choice\non that other one, on SUS.\n\n504\n00:25:54.842 --> 00:25:57.553\nWho should be just about\ndone synchronizing,\n\n505\n00:25:57.553 --> 00:26:00.271\nwhich we can check here\non synchronizations.\n\n506\n00:26:00.271 --> 00:26:05.290\nI can see it's still running, right, so\nwhere I can get my status on those guys.\n\n507\n00:26:05.290 --> 00:26:08.239\nLet's check the client,\nwho's gone to sleep, that's-\n\n508\n00:26:08.239 --> 00:26:08.840\n&gt;&gt; [LAUGH]\n\n509\n00:26:08.840 --> 00:26:10.150\n&gt;&gt; You're supposed to be doing updates.\n\n510\n00:26:10.150 --> 00:26:11.949\n&gt;&gt; So tired, Mike.\n&gt;&gt; What are you doing, going to sleep?\n\n511\n00:26:13.800 --> 00:26:16.280\nLet's see here,\nwe'll get logged back in to this guy.\n\n512\n00:26:16.280 --> 00:26:17.820\n&gt;&gt; It's even sluggish\non the welcome screen.\n\n513\n00:26:17.820 --> 00:26:18.680\n&gt;&gt; It really is.\n\n514\n00:26:18.680 --> 00:26:22.550\nWe might not get to see the actual update,\nit's just one of those things.\n\n515\n00:26:22.550 --> 00:26:25.120\nYou saw the approval process,\nthat's the important part.\n\n516\n00:26:25.120 --> 00:26:26.490\nYou saw how to make them check in.\n\n517\n00:26:26.490 --> 00:26:29.230\nWe do have to get to group policies and\nlog files.\n\n518\n00:26:29.230 --> 00:26:33.370\nThat's more important than waiting for\nthis guy to actually check in.\n\n519\n00:26:33.370 --> 00:26:36.025\nBut let me try it one more time,\nthen we'll do a Windows update.\n\n520\n00:26:40.011 --> 00:26:43.854\nAnd it's getting a little sluggish,\nhe might be doing that update now,\n\n521\n00:26:43.854 --> 00:26:45.250\nthere's a possibility.\n\n522\n00:26:46.638 --> 00:26:49.993\n&gt;&gt; Which is why people hate\nhaving automatic updates, Mike.\n\n523\n00:26:49.993 --> 00:26:51.630\n&gt;&gt; [LAUGH]\n&gt;&gt; The computer's running so slow,\n\n524\n00:26:51.630 --> 00:26:52.890\nit's these Windows updates.\n\n525\n00:26:52.890 --> 00:26:53.780\n&gt;&gt; Yes.\n\n526\n00:26:53.780 --> 00:26:55.555\n&gt;&gt; Yeah, did you install them?\n\n527\n00:26:55.555 --> 00:26:57.100\n[LAUGH] And it'll speed back up.\n\n528\n00:26:57.100 --> 00:26:57.670\n&gt;&gt; You need them.\n\n529\n00:26:59.030 --> 00:27:01.590\nAll right, so we'll let that,\nit's taking a little bit longer this time.\n\n530\n00:27:01.590 --> 00:27:03.060\nThere we go, look at that.\n\n531\n00:27:03.060 --> 00:27:05.490\nSo there we see some updates\nstarting to be approved.\n\n532\n00:27:05.490 --> 00:27:09.110\nSo it's reached out,\nit's got the updates that were approved,\n\n533\n00:27:09.110 --> 00:27:11.510\nit says ooh, I need those updates and\nthey're approved.\n\n534\n00:27:11.510 --> 00:27:14.950\nGo ahead and give them to me,\nI will download them, right.\n\n535\n00:27:14.950 --> 00:27:16.840\nAnd then eventually, that'll be updated.\n\n536\n00:27:16.840 --> 00:27:20.930\nHere, we'll be able to see that\nthe updates have been installed.\n\n537\n00:27:20.930 --> 00:27:23.600\nSo instead of saying four pending or\n\n538\n00:27:23.600 --> 00:27:26.820\nwhat have you, it'll actually\nshow those updates installed.\n\n539\n00:27:26.820 --> 00:27:28.535\nAll right, so that's working, fantastic.\n\n540\n00:27:28.535 --> 00:27:30.700\nWe stalled long enough to\nget that guy to check in.\n\n541\n00:27:30.700 --> 00:27:32.450\nIt was the reboot that did it.\n\n542\n00:27:32.450 --> 00:27:35.340\nThat's right, I rebooted it,\nthat's why it was on the logon screen.\n\n543\n00:27:35.340 --> 00:27:39.250\nDidn't go to sleep, yeah, so\nall right, reboot when in doubt.\n\n544\n00:27:39.250 --> 00:27:42.500\nAll right, next thing I want to\nshow you is the group policies.\n\n545\n00:27:42.500 --> 00:27:46.210\nRemember we had the option when\nwe talked about the computers.\n\n546\n00:27:46.210 --> 00:27:48.140\nHow do we get them in to those groups?\n\n547\n00:27:48.140 --> 00:27:51.590\nI can either use the console,\nor I can use group policy.\n\n548\n00:27:51.590 --> 00:27:52.880\nGroup policy's definitely the way to go.\n\n549\n00:27:52.880 --> 00:27:54.720\nAnd I want to show you those settings.\n\n550\n00:27:54.720 --> 00:27:57.646\nSo I'm gonna flip over\nto my domain controller.\n\n551\n00:27:57.646 --> 00:28:01.839\nAnd I'm gonna launch my group\npolicy management console.\n\n552\n00:28:03.576 --> 00:28:08.042\nIf my machine will play along, the main\ncontroller's being a little sluggish, too.\n\n553\n00:28:09.693 --> 00:28:12.550\nHe's thinking about it, there we go.\n\n554\n00:28:12.550 --> 00:28:17.315\nLet's just go straight to,\nwe'll go Administrative Tools, And\n\n555\n00:28:17.315 --> 00:28:21.132\nthen my Group Policy management console.\n\n556\n00:28:23.048 --> 00:28:26.698\nLoving 2016 interface, by the way.\n\n557\n00:28:26.698 --> 00:28:29.670\nI like that they finally got the right,\nI think,\n\n558\n00:28:29.670 --> 00:28:34.770\nbetween the whole start screen thing and\nthe start menu, I think it's good.\n\n559\n00:28:34.770 --> 00:28:37.920\nThey got it all combined\ndown in that little area.\n\n560\n00:28:37.920 --> 00:28:39.153\nAll right, so here's my policy and\n\n561\n00:28:39.153 --> 00:28:42.750\nI'm gonna just edit this\none that I've already got.\n\n562\n00:28:42.750 --> 00:28:44.875\nNotice I've linked it to the GNV OU.\n\n563\n00:28:44.875 --> 00:28:46.330\nHere's the thing about the policies.\n\n564\n00:28:46.330 --> 00:28:50.035\nYou use a policy to assign a computer or\ncomputers to a group,\n\n565\n00:28:50.035 --> 00:28:51.952\nyou link that to the OU.\n\n566\n00:28:51.952 --> 00:28:55.130\nThat means all the computers in that OU\nare gonna go to that particular group.\n\n567\n00:28:55.130 --> 00:28:59.060\nI can't say hey, you go to group one and\nyou go to group two, right.\n\n568\n00:28:59.060 --> 00:29:02.300\nThe group policy says,\nyou go to this particular group.\n\n569\n00:29:02.300 --> 00:29:04.710\nSo you've gotta scope\nyour policies correctly.\n\n570\n00:29:04.710 --> 00:29:08.110\nThat means your computers,\nyour devices have to be in the right OUs.\n\n571\n00:29:08.110 --> 00:29:10.280\nYour OU structure has to support this.\n\n572\n00:29:10.280 --> 00:29:13.370\n&gt;&gt; Right, and if you set that OU,\nthen you've had a structure in mind,\n\n573\n00:29:13.370 --> 00:29:18.760\nyou basically defined its role inside of\nyour network by slapping it in that OU.\n\n574\n00:29:18.760 --> 00:29:19.970\n&gt;&gt; Exactly, right.\n\n575\n00:29:19.970 --> 00:29:21.930\nAll right, so let's go and\ntake a look at this policy.\n\n576\n00:29:21.930 --> 00:29:25.320\nI'm gonna right-click and\nedit that policy.\n\n577\n00:29:25.320 --> 00:29:28.780\nBut it would be the exact same thing\nif you were starting from scratch.\n\n578\n00:29:28.780 --> 00:29:34.658\nWe're gonna go into policies, gosh, now\nMike's gotta remember Windows settings.\n\n579\n00:29:38.846 --> 00:29:41.141\nSecurity settings.\n\n580\n00:29:43.577 --> 00:29:50.710\nAnd then it was,\nMichael's having a brain cramp there.\n\n581\n00:29:50.710 --> 00:29:57.650\nAfter that it was under, not local\npolicies, let's just double check.\n\n582\n00:29:57.650 --> 00:30:00.145\nInstead of Mike guessing,\nwe'll go find that again.\n\n583\n00:30:01.748 --> 00:30:04.485\nLet's check over here,\nwe'll take a look at my settings,\n\n584\n00:30:04.485 --> 00:30:06.420\nbe the easiest way to get back into there.\n\n585\n00:30:12.920 --> 00:30:16.460\nSo we get that Administrative Templates\nand then my Windows components.\n\n586\n00:30:16.460 --> 00:30:17.780\nI was thinking it was security, my bad.\n\n587\n00:30:17.780 --> 00:30:21.900\nAll right, so we're gonna go\nback in here to my group policy.\n\n588\n00:30:21.900 --> 00:30:24.280\nWe'll collapse that up,\nwasn't under Windows Settings.\n\n589\n00:30:24.280 --> 00:30:25.500\nSo Administrative Templates, and\n\n590\n00:30:25.500 --> 00:30:27.615\nnotice I'm under the Computer\nhalf of the group policy.\n\n591\n00:30:27.615 --> 00:30:32.790\nAdministrative Templates\n&gt; Windows components and\n\n592\n00:30:32.790 --> 00:30:36.530\nthen all the way down towards the bottom,\nused to be the last one until\n\n593\n00:30:36.530 --> 00:30:40.860\ngood old work folders came along,\nwe've got our Windows updates.\n\n594\n00:30:40.860 --> 00:30:42.360\nAnd there's a lot of settings in here, and\n\n595\n00:30:42.360 --> 00:30:45.100\nyou should take your time and\ngo through these updates.\n\n596\n00:30:45.100 --> 00:30:49.150\nA lot of them have to do with whether or\nnot the computer can automatically reboot.\n\n597\n00:30:49.150 --> 00:30:54.340\nWhether a use can delay the installation\nof an update, things like that, right.\n\n598\n00:30:54.340 --> 00:30:57.530\nWhich are very important and you need\nto configure them for your environment.\n\n599\n00:30:57.530 --> 00:31:01.140\nThe ones I wanna show you are the ones\nyou need to get started with WSUS.\n\n600\n00:31:01.140 --> 00:31:05.862\nThe very first one we're gonna do is\nconfigure automatic updates, right.\n\n601\n00:31:05.862 --> 00:31:09.180\nThese are the same options you\nsee when you go to your computer.\n\n602\n00:31:09.180 --> 00:31:12.510\nAnd you go to Windows Update and\nyou click change settings.\n\n603\n00:31:12.510 --> 00:31:14.660\nDo you wanna download them automatically?\n\n604\n00:31:14.660 --> 00:31:17.180\nDo you want to just let me\nknow that there, right?\n\n605\n00:31:17.180 --> 00:31:20.480\nThe same options you see on your node,\nI'm just gonna set it here.\n\n606\n00:31:20.480 --> 00:31:25.010\nCuz I don't want my clients, my end users,\nor anybody else for that matter changing\n\n607\n00:31:25.010 --> 00:31:28.790\ntheir WIndows Update settings trying\nto get around my WSUS server, right.\n\n608\n00:31:28.790 --> 00:31:30.760\nSo I'm gonna set it for them.\n\n609\n00:31:30.760 --> 00:31:34.020\nThis is where you would set your\nschedule every day at 13:00 or\n\n610\n00:31:34.020 --> 00:31:36.700\nwhatever time you wanted to do.\n\n611\n00:31:36.700 --> 00:31:40.770\nYour options, automatically download or\nnotify that they're ready and\n\n612\n00:31:40.770 --> 00:31:42.910\nI'll download when you tell me, whatever.\n\n613\n00:31:42.910 --> 00:31:46.410\nI'm gonna go ahead and check number four,\nwhich is automatically download and\n\n614\n00:31:46.410 --> 00:31:47.390\nschedule the install.\n\n615\n00:31:47.390 --> 00:31:49.550\nThat means it's gonna\nautomatically install it.\n\n616\n00:31:49.550 --> 00:31:53.378\nWe can use maintenance windows,\nif we have maintenance windows setup,\n\n617\n00:31:53.378 --> 00:31:54.330\nwe can use those.\n\n618\n00:31:54.330 --> 00:31:58.157\nThat way, we know we're not interrupting\nusers or if this is on servers and\n\n619\n00:31:58.157 --> 00:32:01.380\nwe have specific maintenance\nwindows when updates can occur,\n\n620\n00:32:01.380 --> 00:32:03.289\nthis is how you set that, all right.\n\n621\n00:32:03.289 --> 00:32:04.655\nI'll go ahead and click OK on that.\n\n622\n00:32:04.655 --> 00:32:08.915\nSo first thing, Is configure your clients,\nupdate settings for them.\n\n623\n00:32:08.915 --> 00:32:11.700\nAnd again, when I say client,\nclient server, doesn't matter,\n\n624\n00:32:11.700 --> 00:32:14.190\nany client connecting to my SUS server.\n\n625\n00:32:14.190 --> 00:32:18.720\nThen I'm going to specify the intranet\nMicrosoft update service location.\n\n626\n00:32:18.720 --> 00:32:20.420\nThis is what tells the machines,\n\n627\n00:32:20.420 --> 00:32:24.050\ndon't go out to Microsoft,\ngo to my local machine here.\n\n628\n00:32:24.050 --> 00:32:26.070\nAnd you simply put the url.\n\n629\n00:32:26.070 --> 00:32:32.650\nYou can see I've got two options:\nhttp://server1.lab.itpro.tv:8530 and\n\n630\n00:32:32.650 --> 00:32:35.250\nremember, that's the default port.\n\n631\n00:32:35.250 --> 00:32:38.290\nIf you've changed the port,\nyou need to change it here as well.\n\n632\n00:32:38.290 --> 00:32:40.070\nBut the first one is for\n\n633\n00:32:40.070 --> 00:32:44.710\nmy update services, the second one is for\nintranet statistics.\n\n634\n00:32:44.710 --> 00:32:49.250\nThat's the whole reporting In\na larger environment you may have\n\n635\n00:32:49.250 --> 00:32:54.430\nseveral SUS servers to deploy the updates\nout that are located close to the clients.\n\n636\n00:32:54.430 --> 00:32:57.290\nOn each land,\nyou've got your own SUS server.\n\n637\n00:32:57.290 --> 00:33:00.050\nOn each branch office you've\ngot your own SUS server, so\n\n638\n00:33:00.050 --> 00:33:02.440\nits not reaching across\nthe WAN things like that.\n\n639\n00:33:02.440 --> 00:33:06.596\nBut when it comes time to reporting, I\ndon't wanna have to run different reports\n\n640\n00:33:06.596 --> 00:33:10.280\non every single SUS server to get\nan idea of how my enterprise is.\n\n641\n00:33:10.280 --> 00:33:14.740\nSo I can actually set\ndifferent server URL's for\n\n642\n00:33:14.740 --> 00:33:17.210\nthe updates versus the reporting.\n\n643\n00:33:17.210 --> 00:33:20.540\nSo you might have this might be the SUS\nserver that's at the branch office.\n\n644\n00:33:20.540 --> 00:33:23.280\nThis is the one that I want\nyou to pull the updates from.\n\n645\n00:33:23.280 --> 00:33:26.141\nBut I want you to report into the SUS\nserver that's at the corporate office.\n\n646\n00:33:26.141 --> 00:33:30.950\nThat way my reports will include all\ninformation for all of my offices.\n\n647\n00:33:30.950 --> 00:33:34.450\nSo up to you, but just know you can\nset separate ones if you want for\n\n648\n00:33:34.450 --> 00:33:36.260\nreporting versus updates.\n\n649\n00:33:36.260 --> 00:33:39.380\nSo that is the second group\npolicy we have to set.\n\n650\n00:33:40.460 --> 00:33:44.690\nConfigure automatic updates,\nspecify intranet location.\n\n651\n00:33:44.690 --> 00:33:47.430\nThird one is enable client side targeting.\n\n652\n00:33:47.430 --> 00:33:51.340\nNow again, this is if you wanna\nuse group policy to assign groups.\n\n653\n00:33:51.340 --> 00:33:53.030\nYou can assign groups manually.\n\n654\n00:33:53.030 --> 00:33:54.260\nI can go into the SUS console,\n\n655\n00:33:54.260 --> 00:33:57.170\nright click on a node, and\nsay I'm gonna add you to this group.\n\n656\n00:33:57.170 --> 00:33:59.300\nThat means every time\nyou get a new computer,\n\n657\n00:33:59.300 --> 00:34:01.370\nyou've gotta go do that manually.\n\n658\n00:34:01.370 --> 00:34:03.985\nNot for me, and\nI know it's not for Daniel.\n\n659\n00:34:03.985 --> 00:34:04.542\n&gt;&gt; I'm too lazy.\n\n660\n00:34:04.542 --> 00:34:06.449\nI'm making myself out to\nbe the worst employee ever.\n\n661\n00:34:06.449 --> 00:34:08.275\n&gt;&gt; [LAUGH] You're fired.\n\n662\n00:34:08.275 --> 00:34:10.218\n[LAUGH]\n&gt;&gt; Would you hire this guy?\n\n663\n00:34:10.218 --> 00:34:11.852\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so the last one,\n\n664\n00:34:11.852 --> 00:34:15.900\nenable client side targeting,\nyou can see I've chosen enabled.\n\n665\n00:34:15.900 --> 00:34:18.540\nAnd then notice I've listed two groups,\nright?\n\n666\n00:34:18.540 --> 00:34:21.189\nOne is the clients,\none is the GNV clients.\n\n667\n00:34:22.260 --> 00:34:25.230\nI might have a clients node\ngroup that's all clients,\n\n668\n00:34:25.230 --> 00:34:26.800\nno matter what branch office you're in.\n\n669\n00:34:26.800 --> 00:34:30.030\nAnd then I've got other groups specific\nto branch, so in case I want to push\n\n670\n00:34:30.030 --> 00:34:34.760\nan update out just the GNV branch and not\nthe Tampa branch or something like that.\n\n671\n00:34:34.760 --> 00:34:37.850\nRemember, I said you can assign\ncomputers to more than one group now.\n\n672\n00:34:37.850 --> 00:34:42.060\nVery cool, all you have to do is\nseparate it out with a semicolon,\n\n673\n00:34:42.060 --> 00:34:43.000\nif you can see that in there.\n\n674\n00:34:43.000 --> 00:34:44.600\nSo I've got two groups listed.\n\n675\n00:34:44.600 --> 00:34:49.060\nYou can list one, you can list twenty\njust put semicolons in between each one.\n\n676\n00:34:49.060 --> 00:34:49.740\nAnd I'll click okay.\n\n677\n00:34:49.740 --> 00:34:54.780\nBut that is why I say this policy,\nnotice that I can't say wherever\n\n678\n00:34:54.780 --> 00:34:59.050\nI link this policy all those nodes\nare going to end up in those two groups.\n\n679\n00:34:59.050 --> 00:35:03.210\nI could do some security filtering but\nthat's way too much work.\n\n680\n00:35:03.210 --> 00:35:08.560\nAll right, so those are the policies\nyou set for configuring your WSUS,\n\n681\n00:35:08.560 --> 00:35:10.870\nyour initial configuration.\n\n682\n00:35:10.870 --> 00:35:13.050\nMake sure you configure\ntheir automatic updates.\n\n683\n00:35:13.050 --> 00:35:16.890\nMake sure you specific your\nintranet update service location.\n\n684\n00:35:16.890 --> 00:35:21.370\nAnd enable your client-side targeting\nif you're using group policy to\n\n685\n00:35:21.370 --> 00:35:22.880\nput them in the different groups.\n\n686\n00:35:22.880 --> 00:35:25.500\nSo if I was gonna repeat this,\nlet's say I need to do this for\n\n687\n00:35:25.500 --> 00:35:26.926\nmy New York office as well.\n\n688\n00:35:26.926 --> 00:35:30.540\nThey've got SUS server up there\nthat I need to point them to.\n\n689\n00:35:30.540 --> 00:35:33.230\nRight click, create a GPO, link it here.\n\n690\n00:35:33.230 --> 00:35:37.790\nI'll call it WSUS NYC Clients.\n\n691\n00:35:39.870 --> 00:35:41.940\nAnd I'm just gonna go in and\nset those same settings.\n\n692\n00:35:41.940 --> 00:35:47.560\nEdit, and we'll go into policies,\nadministrative templates.\n\n693\n00:35:47.560 --> 00:35:48.540\nWindows components.\n\n694\n00:35:48.540 --> 00:35:52.920\nAll the way down towards the bottom\nis going to be my Windows Update.\n\n695\n00:35:54.740 --> 00:35:57.920\nAnd I'm gonna repeat\nthe configure automatic updates.\n\n696\n00:35:57.920 --> 00:36:02.010\nI'll enable it, set it to number four\nto automatically download and install.\n\n697\n00:36:02.010 --> 00:36:05.600\n3 o'clock in the morning is fine for\nmy New York office.\n\n698\n00:36:05.600 --> 00:36:07.070\nI'll click Okay.\n\n699\n00:36:07.070 --> 00:36:09.693\nSpecify the intranet location.\n\n700\n00:36:09.693 --> 00:36:12.945\nI'll enable it and let's say their\nserver up there is number four, or\n\n701\n00:36:12.945 --> 00:36:14.772\nuse number two, the one we just set up.\n\n702\n00:36:14.772 --> 00:36:23.511\nhttp://svr02.lab.antipro.tv.\n\n703\n00:36:23.511 --> 00:36:26.670\nAnd this is another very common mistake.\n\n704\n00:36:26.670 --> 00:36:28.320\nDo not forget the port number here.\n\n705\n00:36:28.320 --> 00:36:31.390\nYou'll be banging your head all day,\nwhy haven't these guys checked in?\n\n706\n00:36:31.390 --> 00:36:33.720\nBecause they're slamming\nup against port 80, and\n\n707\n00:36:33.720 --> 00:36:36.120\nport 80 is not gonna respond, all right?\n\n708\n00:36:36.120 --> 00:36:39.900\nSo make sure you do whatever\nyou set it to, 8530 by default.\n\n709\n00:36:39.900 --> 00:36:44.830\nAnd since I'm gonna use the same server\nfor both statistics and updates,\n\n710\n00:36:44.830 --> 00:36:47.570\nwe'll copy and\npaste that way there's no typo.\n\n711\n00:36:47.570 --> 00:36:48.860\nAs I made a typo in the first one.\n\n712\n00:36:48.860 --> 00:36:50.110\nNow there's two typos.\n\n713\n00:36:50.110 --> 00:36:51.550\nAnd we'll click okay.\n\n714\n00:36:52.580 --> 00:36:54.630\nLast one, enable client side targeting.\n\n715\n00:36:54.630 --> 00:36:56.990\nWell, these guys aren't\ngoing in the GMV group,\n\n716\n00:36:56.990 --> 00:36:59.280\nthey're going to be the NYC clients.\n\n717\n00:36:59.280 --> 00:37:03.940\nBut they're also in just\nthe general clients group.\n\n718\n00:37:05.260 --> 00:37:06.000\nAnd we'll click, okay.\n\n719\n00:37:07.110 --> 00:37:08.640\nAnd we'll close that policy.\n\n720\n00:37:08.640 --> 00:37:12.930\nSo you see I have a separate\npolicy to assign the New York\n\n721\n00:37:12.930 --> 00:37:17.870\nclient machines to the New York\ngroup within WSUS.\n\n722\n00:37:17.870 --> 00:37:21.130\nYou could set, if you weren't using groups\nhere, you could set it up at the domain.\n\n723\n00:37:21.130 --> 00:37:23.880\nYou'd have a different one maybe for\nyour servers.\n\n724\n00:37:23.880 --> 00:37:27.220\nPoint is you gotta make sure you're\nscoping those GPO's correctly.\n\n725\n00:37:27.220 --> 00:37:28.085\nSo those are the GPO's.\n\n726\n00:37:28.085 --> 00:37:29.670\nDid we leave anything out Daniel?\n\n727\n00:37:29.670 --> 00:37:31.300\nI know our computer checked in.\n\n728\n00:37:31.300 --> 00:37:36.220\nLet's see if he's, refresh that.\n\n729\n00:37:37.470 --> 00:37:41.454\nIs still saying failed or needed for\nthat particular update, so\n\n730\n00:37:41.454 --> 00:37:45.009\nit's probably not done installing or\nit needs a reboot.\n\n731\n00:37:46.865 --> 00:37:48.260\nHe's still downloading those.\n\n732\n00:37:48.260 --> 00:37:51.760\nAnd remember the problem is my server\nis probably still downloading it from\n\n733\n00:37:51.760 --> 00:37:54.480\nMicrosoft and then the client's\ngonna be downloading it from him.\n\n734\n00:37:54.480 --> 00:37:57.460\nBecause it doesn't download it until\nyou actually approve the update.\n\n735\n00:37:57.460 --> 00:38:03.149\nSo I think we've done just about\neverything we can with WSUS.\n\n736\n00:38:03.149 --> 00:38:05.220\n&gt;&gt; Yeah, it's good stuff, Ryan.\n\n737\n00:38:05.220 --> 00:38:07.400\nIt's built into the Microsoft server.\n\n738\n00:38:07.400 --> 00:38:08.490\nSo like I said before,\n\n739\n00:38:08.490 --> 00:38:13.670\nthis is something you're probably going\nto have to do as a Microsoft sys admin.\n\n740\n00:38:13.670 --> 00:38:15.750\nSo really good, really practical stuff.\n\n741\n00:38:15.750 --> 00:38:17.660\nMike did a fantastic job on the demos.\n\n742\n00:38:17.660 --> 00:38:18.760\nWe appreciate that.\n\n743\n00:38:18.760 --> 00:38:22.250\nBecause being able to see it,\nreplicate what you've done, and\n\n744\n00:38:22.250 --> 00:38:26.370\nunderstand the logic and the system\nbehind it is very, very helpful.\n\n745\n00:38:26.370 --> 00:38:27.374\nSo you did a great job there, Mike.\n\n746\n00:38:27.374 --> 00:38:27.978\nWe appreciate that.\n\n747\n00:38:27.978 --> 00:38:29.380\n&gt;&gt; Thank you.\n\n748\n00:38:29.380 --> 00:38:33.580\n&gt;&gt; Users, members, viewers,\nwhatever you like to call yourselves.\n\n749\n00:38:33.580 --> 00:38:36.480\nWe have yet come to the end of\nanother great episode here.\n\n750\n00:38:36.480 --> 00:38:39.160\nHopefully you've enjoyed it, but\nit is time for us to sign off.\n\n751\n00:38:39.160 --> 00:38:41.343\nMike, any parting words for our guests?\n\n752\n00:38:41.343 --> 00:38:43.930\n&gt;&gt; Be patient with WSUS,\ndon't give up on it.\n\n753\n00:38:43.930 --> 00:38:47.429\nYou saw how long it took me to\nget some of those to check in.\n\n754\n00:38:47.429 --> 00:38:49.589\nAnd you saw how I had to\ndo this prior to the show,\n\n755\n00:38:49.589 --> 00:38:51.710\nto make sure I had at\nleast one client in there.\n\n756\n00:38:51.710 --> 00:38:54.090\nSo just be patient with WSUS.\n\n757\n00:38:54.090 --> 00:38:55.650\n&gt;&gt; All right.\nThat being said we're gonna go ahead and\n\n758\n00:38:55.650 --> 00:38:56.870\nsign off for ITProTV.\n\n759\n00:38:56.870 --> 00:38:58.560\nI've been your host Daniel Lowrie.\n\n760\n00:38:58.560 --> 00:38:59.290\n&gt;&gt; And I'm Mike Rodrick.\n\n761\n00:38:59.290 --> 00:39:00.409\n&gt;&gt; We'll see you next time.\n\n762\n00:39:00.409 --> 00:39:07.651\n[MUSIC]\n\n763\n00:39:07.651 --> 00:39:10.649\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "190240604"
        },
        {
          "description": "In this episode, Daniel and Mike finish their dissertation on maintaining Server installations. Here they will show you how to implement an anti-malware with Windows Defender as well as determining a backup strategy and performing a backup/restore operation using Windows Server Backup.",
          "length": "1895",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-4-maintain_server_installations_pt4_redo-110216-PGM.00_31_22_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-4-maintain_server_installations_pt4_redo-110216-PGM.00_31_22_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-1-4-maintain_server_installations_pt4_redo-110216-PGM.00_31_22_01.Still001-sm.jpg",
          "title": "Maintain Server Installations Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.642\nWelcome back to ITProTV.\n\n2\n00:00:01.642 --> 00:00:02.231\nI'm your host Don Pezet.\n\n3\n00:00:02.231 --> 00:00:06.536\n[CROSSTALK]\n\n4\n00:00:06.536 --> 00:00:08.232\n[MUSIC]\n\n5\n00:00:08.232 --> 00:00:12.490\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.490 --> 00:00:14.299\n&gt;&gt; All right, greetings everyone, and\n\n7\n00:00:14.299 --> 00:00:16.511\nwelcome to another great\nepisode of ITProTV.\n\n8\n00:00:16.511 --> 00:00:17.663\nI'm your host Daniel Lowrie.\n\n9\n00:00:17.663 --> 00:00:21.111\nAnd today's episode, we're continuing\non with more in our series with\n\n10\n00:00:21.111 --> 00:00:24.177\nthe installation, storage,\nand compute on Server 2016.\n\n11\n00:00:24.177 --> 00:00:26.340\nThat's right, good old Windows,\ngotta love that.\n\n12\n00:00:26.340 --> 00:00:29.580\nJoining us back in the studio again is\nthe man that is from Microsoft himself.\n\n13\n00:00:29.580 --> 00:00:32.710\nI think they birth them in a science\nexperiment somewhere, cuz he knows just\n\n14\n00:00:32.710 --> 00:00:36.470\nabout everything about Microsoft products,\nit's our man, Mr. Mike Rodrick.\n\n15\n00:00:36.470 --> 00:00:37.370\nMike, welcome back, sir.\n\n16\n00:00:37.370 --> 00:00:37.966\nHow's it going today?\n\n17\n00:00:37.966 --> 00:00:38.473\n&gt;&gt; It's going great, Daniel.\n\n18\n00:00:38.473 --> 00:00:39.376\nGlad to be here.\n\n19\n00:00:39.376 --> 00:00:43.963\nAnd we've got a few more things to tidy up\nwhen it comes to maintaining our Server\n\n20\n00:00:43.963 --> 00:00:45.000\ninstallations.\n\n21\n00:00:45.000 --> 00:00:48.650\nAnd that's gonna be Windows Defender and\nWindows Server Backup.\n\n22\n00:00:48.650 --> 00:00:50.614\nSo those are our topics for today.\n\n23\n00:00:50.614 --> 00:00:52.960\nAnd let's go ahead and\nstart with Windows Defender, right?\n\n24\n00:00:52.960 --> 00:00:56.670\nWindows Defender is Microsoft's\nanti-malware solution.\n\n25\n00:00:56.670 --> 00:00:59.826\nCame out a few editions ago.\n\n26\n00:00:59.826 --> 00:01:02.135\nI'm trying to think when it was,\nVista maybe.\n\n27\n00:01:02.135 --> 00:01:03.243\n&gt;&gt; Yes.\n&gt;&gt; Might have been.\n\n28\n00:01:03.243 --> 00:01:04.155\n&gt;&gt; Probably right around that area.\n\n29\n00:01:04.155 --> 00:01:05.178\n&gt;&gt; Well it's not all that important.\n\n30\n00:01:05.178 --> 00:01:11.160\nBut remember Defender, when it first came\nout, it was simply spyware and adware.\n\n31\n00:01:11.160 --> 00:01:14.024\nIt did not do any type\nof virus protection.\n\n32\n00:01:14.024 --> 00:01:17.305\nThen that evolved into\nMicrosoft Security Essentials,\n\n33\n00:01:17.305 --> 00:01:19.774\nwhich then included antivirus software.\n\n34\n00:01:19.774 --> 00:01:20.686\nBut the name wasn't as catchy.\n\n35\n00:01:20.686 --> 00:01:24.399\nSo then they came back with\nWindows Defender new and improved,\n\n36\n00:01:24.399 --> 00:01:26.160\nwhich now includes viruses.\n\n37\n00:01:26.160 --> 00:01:29.674\nSo the point of this story is, Windows\nDefender is your malware solution that's\n\n38\n00:01:29.674 --> 00:01:33.500\nincluded with your operating system,\nwhen it comes to Windows.\n\n39\n00:01:33.500 --> 00:01:34.341\nFree, great.\n\n40\n00:01:34.341 --> 00:01:35.841\nIt's a really good product.\n\n41\n00:01:35.841 --> 00:01:38.902\nYou know,\nwhen we look at antivirus solutions,\n\n42\n00:01:38.902 --> 00:01:41.673\nreally, we want lightweight and updates.\n\n43\n00:01:41.673 --> 00:01:43.900\nSo we make sure that\nthe definitions get updated.\n\n44\n00:01:43.900 --> 00:01:45.180\n&gt;&gt; Centralized management is nice.\n\n45\n00:01:45.180 --> 00:01:49.325\n&gt;&gt; And centralized management,\nthat's a very good point, too.\n\n46\n00:01:49.325 --> 00:01:52.142\nAnd so with Windows Defender,\nit's pretty lightweight.\n\n47\n00:01:52.142 --> 00:01:54.230\nIt does a good job, and\nit's updated regularly.\n\n48\n00:01:54.230 --> 00:01:58.179\nIn fact, the definitions come\nout through Windows Update.\n\n49\n00:01:58.179 --> 00:02:01.313\nSo as long as we're getting\nour updates from Windows,\n\n50\n00:02:01.313 --> 00:02:04.870\nwe should get our updated definitions for\nWindows Defender.\n\n51\n00:02:04.870 --> 00:02:06.805\nIn fact, that brings me to another point.\n\n52\n00:02:06.805 --> 00:02:12.180\nWe've discussed WSUS, or Windows Server\nUpdate Services in a previous episode,\n\n53\n00:02:12.180 --> 00:02:15.930\nand we know we can use that\nto pass out Windows Updates.\n\n54\n00:02:15.930 --> 00:02:20.610\nIf Defender definitions also get\npushed out through Windows Updates,\n\n55\n00:02:20.610 --> 00:02:23.210\nguess what we can do with\nWindows Server Update Services?\n\n56\n00:02:23.210 --> 00:02:24.040\n&gt;&gt; Push updates.\n\n57\n00:02:24.040 --> 00:02:26.130\n&gt;&gt; We can push out\nWindows Defender definitions right\n\n58\n00:02:26.130 --> 00:02:27.130\nalong with the other updates.\n\n59\n00:02:27.130 --> 00:02:28.660\nExactly right.\n\n60\n00:02:28.660 --> 00:02:31.560\nSo, good to know, and\nit's actually called out in the exam.\n\n61\n00:02:31.560 --> 00:02:35.080\nHow do you integrate Defender with\nWindows Server Update Services?\n\n62\n00:02:35.080 --> 00:02:37.010\nWell, you simply make sure\nyou include that category.\n\n63\n00:02:37.010 --> 00:02:40.810\nIt's just another category in the list\nof updates that I wanna synchronize for\n\n64\n00:02:40.810 --> 00:02:41.760\nMicrosoft.\n\n65\n00:02:41.760 --> 00:02:44.000\nMake sure you choose\nthe Windows Defender category.\n\n66\n00:02:44.000 --> 00:02:48.610\nThat will include my Defender\ndefinitions that we can get pushed out.\n\n67\n00:02:48.610 --> 00:02:50.110\nIn fact, it's a really good one,\n\n68\n00:02:50.110 --> 00:02:53.630\nwe talked about creating those\nautomatic approval rules.\n\n69\n00:02:53.630 --> 00:02:56.550\nAnd how we really wanna stay away from\nthose for most things, except for\n\n70\n00:02:56.550 --> 00:02:58.140\nmaybe critical and security.\n\n71\n00:02:58.140 --> 00:02:59.710\nWell this would fall into there, right?\n\n72\n00:02:59.710 --> 00:03:02.460\nI would probably wanna\nautomatically approve\n\n73\n00:03:02.460 --> 00:03:06.300\nany Windows Defender definitions that\ncome down the pipe from Microsoft.\n\n74\n00:03:06.300 --> 00:03:07.980\nGood one to use one of those rules on.\n\n75\n00:03:07.980 --> 00:03:10.920\n&gt;&gt; Yeah, I can't think of any scenario\nwhere you really would want to not\n\n76\n00:03:10.920 --> 00:03:14.030\napprove that, so\ngo automatic approval on that.\n\n77\n00:03:14.030 --> 00:03:14.860\nThat's the way to fly.\n\n78\n00:03:14.860 --> 00:03:18.398\nAnd, if it breaks something, okay,\nwe'll roll it back, [LAUGH] right?\n\n79\n00:03:18.398 --> 00:03:20.518\n&gt;&gt; Yeah, exactly,\nreminds me of that commercial for\n\n80\n00:03:20.518 --> 00:03:23.639\nsome of these cable companies where\nthey're like, no, I want to go slow.\n\n81\n00:03:23.639 --> 00:03:24.932\n&gt;&gt; [LAUGH]\n&gt;&gt; I want to get infected.\n\n82\n00:03:24.932 --> 00:03:27.480\nPlease do not update my definitions.\n\n83\n00:03:27.480 --> 00:03:31.100\nSo, yes, make sure you're doing that.\n\n84\n00:03:31.100 --> 00:03:33.243\nWindows Defender is installed by default.\n\n85\n00:03:33.243 --> 00:03:34.668\nI've got a 2016 install here.\n\n86\n00:03:34.668 --> 00:03:40.440\nYou can simply type in Windows Defender,\nand it should find it.\n\n87\n00:03:40.440 --> 00:03:45.890\nThere we go,\nI can bring up my desktop app.\n\n88\n00:03:45.890 --> 00:03:48.419\nAnd let's see what we got here.\n\n89\n00:03:48.419 --> 00:03:50.570\nSure, let's go ahead and turn that on.\n\n90\n00:03:50.570 --> 00:03:51.527\n&gt;&gt; That's a helpful feature.\n\n91\n00:03:51.527 --> 00:03:54.640\n&gt;&gt; Yeah, we'll make sure we turn it on and\nclose it.\n\n92\n00:03:54.640 --> 00:03:57.019\nSo again, we've covered these settings,\nI know, in our client class.\n\n93\n00:03:57.019 --> 00:03:59.730\nSo I'm not gonna go through\nall the different options.\n\n94\n00:03:59.730 --> 00:04:01.860\nIf you haven't seen those episodes for\nlike, Windows 10 and\n\n95\n00:04:01.860 --> 00:04:03.925\nWindows Defender,\nmake sure you go back and watch them.\n\n96\n00:04:03.925 --> 00:04:05.610\nOr just open up Windows Defender.\n\n97\n00:04:05.610 --> 00:04:08.170\nIt's really simple,\njust go through the different options.\n\n98\n00:04:08.170 --> 00:04:10.750\nThe main ones that you're\ngonna wanna be concerned with\n\n99\n00:04:10.750 --> 00:04:14.590\nare going to be making sure\nreal-time protection is turned on.\n\n100\n00:04:14.590 --> 00:04:19.720\nYou can also do Cloud-based protection\nwhere it submits samples out to Microsoft.\n\n101\n00:04:19.720 --> 00:04:21.390\nYou can do the automatic\nsample submission.\n\n102\n00:04:21.390 --> 00:04:24.376\nAnd then this exclusion\none is always a good one.\n\n103\n00:04:24.376 --> 00:04:26.690\nYou know, Daniel and\nI were talking about that earlier.\n\n104\n00:04:26.690 --> 00:04:28.420\nWe work on the security side of things.\n\n105\n00:04:28.420 --> 00:04:31.880\nWe have a lot of tools that\nsometimes get flagged as malware.\n\n106\n00:04:31.880 --> 00:04:34.910\nAnd I don't want my antivirus kicking\noff or Windows Defender, in this case,\n\n107\n00:04:34.910 --> 00:04:40.380\nkicking off and quarantining or removing\nthose tools that I've gathered up.\n\n108\n00:04:40.380 --> 00:04:42.180\nSo I can add exclusions, right?\n\n109\n00:04:42.180 --> 00:04:44.614\nWe can go in and\nlet's make a folder real quick.\n\n110\n00:04:47.281 --> 00:04:48.517\nWe'll just call it tools.\n\n111\n00:04:51.836 --> 00:04:53.812\nAnd we can add an exclusion so\nthat it won't scan that.\n\n112\n00:04:53.812 --> 00:04:55.744\nBut you know what?\nI think I'll actually do it through\n\n113\n00:04:55.744 --> 00:04:58.700\nthe command prompt cuz I wanna\nshow you those options as well.\n\n114\n00:04:58.700 --> 00:05:02.676\nIf I wanted to here, you could see\nI could simply exclude a file, or\n\n115\n00:05:02.676 --> 00:05:05.669\nexclude an entire folder,\nor even an extension.\n\n116\n00:05:05.669 --> 00:05:06.583\nWe can do processes.\n\n117\n00:05:06.583 --> 00:05:08.849\nSo we can add some pretty\ngood exceptions there.\n\n118\n00:05:08.849 --> 00:05:09.887\nAll right.\n\n119\n00:05:09.887 --> 00:05:12.316\n&gt;&gt; It's so\nsimple even Don Pezet can do it.\n\n120\n00:05:12.316 --> 00:05:13.957\n[LAUGH]\n&gt;&gt; [LAUGH] That's right.\n\n121\n00:05:13.957 --> 00:05:15.676\nLet me fire up PowerShell.\n\n122\n00:05:15.676 --> 00:05:16.519\n&gt;&gt; It's good working with you, Mike.\n\n123\n00:05:16.519 --> 00:05:20.451\n[LAUGH]\n&gt;&gt; [LAUGH] Nice knowing you there, Daniel,\n\n124\n00:05:20.451 --> 00:05:21.300\nthat's right.\n\n125\n00:05:21.300 --> 00:05:22.860\nAll right, there we go.\n\n126\n00:05:22.860 --> 00:05:26.710\nI got a little error in my profile,\nbut that's okay.\n\n127\n00:05:26.710 --> 00:05:31.664\nSo if I was going to run a scan,\nstart-mpscan.\n\n128\n00:05:31.664 --> 00:05:34.982\nAnd you might think, well wait,\ndidn't you say it's Windows Defender?\n\n129\n00:05:34.982 --> 00:05:38.031\nWell mp, I'm gonna make an assumption\nhere on Microsoft's part,\n\n130\n00:05:38.031 --> 00:05:39.855\ncuz I haven't actually talked to them.\n\n131\n00:05:39.855 --> 00:05:42.670\nI'm gonna say malware protection.\n\n132\n00:05:42.670 --> 00:05:45.390\nEven if that's not what it's for,\nit should help you remember that.\n\n133\n00:05:45.390 --> 00:05:47.730\nSo think malware protection scan,\nor mp scan.\n\n134\n00:05:47.730 --> 00:05:53.236\nAnd that's your command to work with your\nWindows Defender from the command line.\n\n135\n00:05:53.236 --> 00:05:56.548\nI'm gonna go ahead and cancel that scan.\n\n136\n00:05:56.548 --> 00:06:00.896\nYou could do a update-mp signature.\n\n137\n00:06:03.963 --> 00:06:07.044\nThat's gonna reach out to Microsoft and\nupdate those definitions.\n\n138\n00:06:07.044 --> 00:06:09.393\nAgain, I'm just gonna cancel it,\ncuz I don't wanna wait around for\n\n139\n00:06:09.393 --> 00:06:10.450\nthat to happen.\n\n140\n00:06:10.450 --> 00:06:14.285\nYou can do an add-mpPreference.\n\n141\n00:06:14.285 --> 00:06:15.387\nAnd I can do an exclusion.\n\n142\n00:06:19.153 --> 00:06:21.400\nOr exclusion path.\n\n143\n00:06:21.400 --> 00:06:27.450\nAnd let's say, c:\\tools, and\nthat should add that exclusion.\n\n144\n00:06:27.450 --> 00:06:31.992\nSo all the options that we have in the GUI\nare available through PowerShell as well.\n\n145\n00:06:31.992 --> 00:06:33.294\nLet's go ahead and pull Defender back up.\n\n146\n00:06:33.294 --> 00:06:37.437\n&gt;&gt; And now we all know where to, when\nwe're trying to hack into Mike's box where\n\n147\n00:06:37.437 --> 00:06:39.563\nto dump all your good malware, right?\n\n148\n00:06:39.563 --> 00:06:41.121\n&gt;&gt; [LAUGH]\n&gt;&gt; Cuz it's not gonna scan that.\n\n149\n00:06:41.121 --> 00:06:43.806\n&gt;&gt; Right, well let's scan a [INAUDIBLE]\ntools you know is gonna be vulnerable.\n\n150\n00:06:43.806 --> 00:06:45.468\n&gt;&gt; What's this machine, mrodrick1?\n\n151\n00:06:45.468 --> 00:06:47.119\nHm, it's a Tools folder, sweet!\n\n152\n00:06:47.119 --> 00:06:48.821\n[LAUGH]\n&gt;&gt; [LAUGH] So\n\n153\n00:06:48.821 --> 00:06:52.100\nI'm gonna go back into my settings and\nI'm gonna go down to Exclusions.\n\n154\n00:06:54.190 --> 00:06:58.180\nAnd you'll see there is my c:\\tools added.\n\n155\n00:06:58.180 --> 00:06:59.210\nSo we did that through PowerShell.\n\n156\n00:06:59.210 --> 00:07:02.410\nSo good to know the commands for\nPowerShell cuz we know we can script\n\n157\n00:07:02.410 --> 00:07:05.950\nthose, start automating things,\nif we need to.\n\n158\n00:07:05.950 --> 00:07:09.942\nAll right, next thing we wanna talk\nabout is Windows Server Backup.\n\n159\n00:07:09.942 --> 00:07:12.019\nNow built-in to our operating system,\n\n160\n00:07:12.019 --> 00:07:14.713\nServer 2016 is good old\nWindows Server Backup.\n\n161\n00:07:14.713 --> 00:07:16.170\nIt's been around a while.\n\n162\n00:07:16.170 --> 00:07:18.560\nIt's not installed, it'll fake you out.\n\n163\n00:07:18.560 --> 00:07:23.328\nIf you launch Server Manager,\nand you go to your Tools menu,\n\n164\n00:07:23.328 --> 00:07:28.995\nonce this loads up, You'll see Windows\nServer Backup down here at the bottom and\n\n165\n00:07:28.995 --> 00:07:30.030\nthink, great, there it is.\n\n166\n00:07:30.030 --> 00:07:30.910\nI'm gonna go ahead and launch it.\n\n167\n00:07:33.100 --> 00:07:34.990\nAnd the console opens up,\nthat's great too.\n\n168\n00:07:36.320 --> 00:07:42.360\nAnd then it says, Windows Server Backup is\nnot installed on this computer, all right?\n\n169\n00:07:42.360 --> 00:07:45.420\nSo it's not installed by default,\nbut easy enough to install it.\n\n170\n00:07:45.420 --> 00:07:48.870\nWe can either go through our ad roles and\nfeatures, this will be a feature,\n\n171\n00:07:48.870 --> 00:07:50.350\nnot a roll, remember the difference.\n\n172\n00:07:50.350 --> 00:07:52.850\nA features provides something for\nthe machine itself.\n\n173\n00:07:52.850 --> 00:07:55.525\nA role provide some\nservice to the network.\n\n174\n00:07:55.525 --> 00:07:58.068\nThis is providing a service\nto the local machine.\n\n175\n00:07:58.068 --> 00:08:00.985\nI could also do it from PowerShell.\n\n176\n00:08:00.985 --> 00:08:02.033\nSo, let's do PowerShell.\n\n177\n00:08:02.033 --> 00:08:05.052\nI'm in a PowerShell mood today.\n\n178\n00:08:05.052 --> 00:08:09.483\nWe could do a get-windowsfeature, and\n\n179\n00:08:09.483 --> 00:08:14.304\nmaybe an *backup*, and we should see that\n\n180\n00:08:14.304 --> 00:08:18.880\nWindows server backup is not installed.\n\n181\n00:08:18.880 --> 00:08:21.540\nThere we go, my box is blank.\n\n182\n00:08:21.540 --> 00:08:26.412\nSo, we all know it's going to\nbe install -windowsFeature.\n\n183\n00:08:26.412 --> 00:08:31.910\nAnd we'll windows-server-backup.\n\n184\n00:08:31.910 --> 00:08:36.140\n&gt;&gt; Mike, in the exam, are they more likely\nto ask you about the PowerShell way to do\n\n185\n00:08:36.140 --> 00:08:39.410\nthings versus how to normally run through\nthe gooey to make these things happen?\n\n186\n00:08:39.410 --> 00:08:41.340\n&gt;&gt; I would definitely be\nfamiliar with the PowerShell,\n\n187\n00:08:41.340 --> 00:08:42.935\ncuz they like to get you on that.\n\n188\n00:08:42.935 --> 00:08:45.510\nBecause they really want\nto push admins that way.\n\n189\n00:08:45.510 --> 00:08:48.730\nOr again, we've got our core,\nwouldn't know GUI at all,\n\n190\n00:08:48.730 --> 00:08:50.740\nwe've got Nano now with 2016.\n\n191\n00:08:50.740 --> 00:08:53.870\nEverything's going PowerShell\nautomated scripts.\n\n192\n00:08:53.870 --> 00:08:57.560\nSo, definitely familiarize yourself\nwith the commands for PowerShell.\n\n193\n00:08:57.560 --> 00:09:00.500\n&gt;&gt; The pendulum hath swung yet\nagain, right?\n\n194\n00:09:00.500 --> 00:09:03.130\nAll text based when it all\nbegan then we went to GUIs, and\n\n195\n00:09:03.130 --> 00:09:04.500\nnow we're going back to text based.\n\n196\n00:09:04.500 --> 00:09:06.520\n&gt;&gt; I know,\nit's like I need to park my mouse again.\n\n197\n00:09:06.520 --> 00:09:08.220\nIt's no longer needed.\n\n198\n00:09:08.220 --> 00:09:11.130\nAll right, so\nthere we've got it installed.\n\n199\n00:09:11.130 --> 00:09:14.730\nIf I was to do another git,\nWindows feature just to verify,\n\n200\n00:09:14.730 --> 00:09:17.270\nI can see that it is now installed.\n\n201\n00:09:17.270 --> 00:09:19.431\nSo now, if I launch my console.\n\n202\n00:09:21.770 --> 00:09:22.955\nWe should get some different results.\n\n203\n00:09:25.030 --> 00:09:27.340\nAll right, that looks a little better.\n\n204\n00:09:27.340 --> 00:09:30.850\nAnd I haven't done any backups yet,\nso nothing is being listed here.\n\n205\n00:09:30.850 --> 00:09:36.490\nI click on local backup, and it will tell\nme I basically don't have anything yet.\n\n206\n00:09:36.490 --> 00:09:38.190\nSo, once you get backup installed,\n\n207\n00:09:38.190 --> 00:09:41.780\nthen you need to decide what\nyour backup strategy's gonna be.\n\n208\n00:09:41.780 --> 00:09:43.440\nAre you gonna do a schedule?\n\n209\n00:09:43.440 --> 00:09:48.970\nDo you wanna back this up once a day,\ntwice a day, once a week, once a month?\n\n210\n00:09:48.970 --> 00:09:50.170\nHow do you wanna do that?\n\n211\n00:09:50.170 --> 00:09:53.820\nYou can set up a backup schedule\nover here in my actions pane.\n\n212\n00:09:53.820 --> 00:09:56.298\nSo, let's go ahead and click on that.\n\n213\n00:09:58.318 --> 00:10:00.630\nAnd let's say we wanna back\nthis guy up every night.\n\n214\n00:10:00.630 --> 00:10:01.400\nSo, I'll click next.\n\n215\n00:10:02.540 --> 00:10:05.600\nAnd we'll schedule a full server backup.\n\n216\n00:10:05.600 --> 00:10:09.960\n&gt;&gt; Mike, does this backup\nutility do full incremental,\n\n217\n00:10:09.960 --> 00:10:12.890\nor sort of a scheme of that nature?\n\n218\n00:10:12.890 --> 00:10:16.610\n&gt;&gt; It can, but\nit's really not something we do directly,\n\n219\n00:10:16.610 --> 00:10:18.910\nit's really more about where\nyou're sending the backup.\n\n220\n00:10:18.910 --> 00:10:21.770\nIf you're backing this\nup to a local drive,\n\n221\n00:10:21.770 --> 00:10:26.250\nthen it's going to do incremental\nbackups where it's gonna just backup\n\n222\n00:10:26.250 --> 00:10:29.610\nthe things that have changed\nsince that last full backup.\n\n223\n00:10:29.610 --> 00:10:32.880\nIf you're backing up to a network\nlocation, however, very important that we\n\n224\n00:10:32.880 --> 00:10:36.660\nremember this, and it'll warn you in here,\nit only keeps one copy.\n\n225\n00:10:36.660 --> 00:10:39.470\nIt'll override the last backup\nwith the current backup.\n\n226\n00:10:39.470 --> 00:10:43.080\nSo, you won't have the ability to go\nback to the back up from last night,\n\n227\n00:10:43.080 --> 00:10:45.270\nthe back up form last week,\nfrom last month.\n\n228\n00:10:45.270 --> 00:10:47.400\nYou'll just have the last\navailable backups.\n\n229\n00:10:47.400 --> 00:10:48.120\n&gt;&gt; That's scary.\n\n230\n00:10:48.120 --> 00:10:48.680\n&gt;&gt; Yeah.\n&gt;&gt; [LAUGH]\n\n231\n00:10:48.680 --> 00:10:49.800\n&gt;&gt; Back up to a network,\n\n232\n00:10:49.800 --> 00:10:52.740\nthat is something to keep in mind.\n\n233\n00:10:52.740 --> 00:10:57.260\nNormally, when I see that option being\ndone, you're combining backup solutions,\n\n234\n00:10:57.260 --> 00:11:00.350\nyou might be backing the server\nup to a network location, and\n\n235\n00:11:00.350 --> 00:11:03.960\nthen you've got some other solution\nbacking up that network location.\n\n236\n00:11:03.960 --> 00:11:07.810\nSo, you're okay with tomorrow's\noverwriting last night's backup,\n\n237\n00:11:07.810 --> 00:11:10.830\ncuz you've already moved that backup\nsomewhere else offsite, or what have you.\n\n238\n00:11:11.950 --> 00:11:16.130\nNow, Windows Server Backup is a pretty\nnice utility, it's built-in, it's free.\n\n239\n00:11:16.130 --> 00:11:19.240\nIt's not Enterprise level, it's not\nreal scalable, you're still dealing with\n\n240\n00:11:19.240 --> 00:11:22.780\nindividual machines, but\nit's great for doing one-off backups.\n\n241\n00:11:22.780 --> 00:11:23.570\nFor small shops,\n\n242\n00:11:23.570 --> 00:11:28.050\nwhere you can afford one of those bigger\nback up solutions, it works great.\n\n243\n00:11:28.050 --> 00:11:31.330\nLike I said,\nit's included in our favorite price point.\n\n244\n00:11:31.330 --> 00:11:33.660\n&gt;&gt; Well, at least with the price\nof the server that you bought.\n\n245\n00:11:33.660 --> 00:11:34.160\n&gt;&gt; Yeah.\n&gt;&gt; Yeah.\n\n246\n00:11:34.160 --> 00:11:34.900\n&gt;&gt; Sure, I guess you had to\n\n247\n00:11:34.900 --> 00:11:35.890\nget the license, right?\n\n248\n00:11:35.890 --> 00:11:37.983\n&gt;&gt; If you act now and buy Windows Server,\n\n249\n00:11:37.983 --> 00:11:42.055\nwe'll throw in the backup utility where\nas much as you pay for the server.\n\n250\n00:11:42.055 --> 00:11:42.850\n[LAUGH]\n&gt;&gt; All right, so\n\n251\n00:11:42.850 --> 00:11:44.670\nI'll go ahead and setup a full server.\n\n252\n00:11:44.670 --> 00:11:47.000\nI'm not gonna actually do it,\nit'll take a little too long, but\n\n253\n00:11:47.000 --> 00:11:48.830\nI wanna show you the options here.\n\n254\n00:11:48.830 --> 00:11:52.722\nSo, I wanna do it once a day,\nor more than once a day.\n\n255\n00:11:52.722 --> 00:11:55.656\nLet's say I wanna do this every night,\nwell, 9 PM's fine, actually.\n\n256\n00:11:55.656 --> 00:11:57.710\nWe'll just leave it on 9 PM.\n\n257\n00:11:57.710 --> 00:12:01.550\nWe'll have clicked next, and backup to\na hard disk that is dedicated for backups.\n\n258\n00:12:01.550 --> 00:12:03.170\nThat's what they're gonna recommend.\n\n259\n00:12:03.170 --> 00:12:06.555\nYou can back up to a volume as long as\nit's not the volume you are trying to\n\n260\n00:12:06.555 --> 00:12:09.990\nbackup, or you can back up\nto a shared network folder.\n\n261\n00:12:09.990 --> 00:12:12.930\nIf I choose back up to a shared\nnetwork folder, you'll see, actually,\n\n262\n00:12:12.930 --> 00:12:14.580\nwe can just read it right here.\n\n263\n00:12:14.580 --> 00:12:17.280\nIf you don't wanna store them locally,\nnote you'll only have one backup\n\n264\n00:12:17.280 --> 00:12:21.560\nat a time, cuz when you create a new\nbackup, it overwrites the previous backup.\n\n265\n00:12:23.200 --> 00:12:25.790\nI believe,\nlet's see if we've got a second drive.\n\n266\n00:12:25.790 --> 00:12:27.365\nI think I might have added\none to this machine.\n\n267\n00:12:27.365 --> 00:12:34.609\nAnd evidently, I did not so\nlet's do this, let's.\n\n268\n00:12:37.160 --> 00:12:38.620\nLet's see if I've got a share out there.\n\n269\n00:12:38.620 --> 00:12:44.646\nLet's do //dc01/hypervbackups.\n\n270\n00:12:44.646 --> 00:12:46.027\nWe'll send it over there.\n\n271\n00:12:47.647 --> 00:12:50.730\nAnd now, because I'm writing a schedule,\nit's gonna need the credentials.\n\n272\n00:12:50.730 --> 00:12:51.830\nIt's gonna run without me, right?\n\n273\n00:12:51.830 --> 00:12:54.110\nSo I need to store my\ncredentials in there.\n\n274\n00:12:54.110 --> 00:12:56.180\nSomebody that has write\npermissions over that location.\n\n275\n00:12:57.250 --> 00:13:00.780\n&gt;&gt; Typically, would we create a service\naccount for this type of activity?\n\n276\n00:13:00.780 --> 00:13:02.960\n&gt;&gt; Yeah, most likely, most likely.\n\n277\n00:13:02.960 --> 00:13:06.840\nAnd there you can see a full backup's\ngonna include all of my different options,\n\n278\n00:13:06.840 --> 00:13:08.290\nwhich I'm gonna go over\nhere in just a second.\n\n279\n00:13:08.290 --> 00:13:09.890\nI'll go ahead and click finish.\n\n280\n00:13:11.180 --> 00:13:13.040\nAnd it's gonna create my backup schedule.\n\n281\n00:13:13.040 --> 00:13:15.830\nIt shouldn't kick the backup\noff until 9 o'clock tonight.\n\n282\n00:13:16.880 --> 00:13:17.920\nAnd we'll click Close.\n\n283\n00:13:18.970 --> 00:13:22.023\nAnd now, we'll see that my\nlast back-up was never, but\n\n284\n00:13:22.023 --> 00:13:23.940\nmy next back-up is at 9:00 PM.\n\n285\n00:13:23.940 --> 00:13:26.580\nI can go back into the details if I want.\n\n286\n00:13:26.580 --> 00:13:29.000\nAnd I can see all the back-ups\nthat we have stored.\n\n287\n00:13:30.240 --> 00:13:33.880\nAll right, now I'm gonna do backup\nonce just to actually do a backup, and\n\n288\n00:13:33.880 --> 00:13:34.960\nlimit what we're backing up.\n\n289\n00:13:34.960 --> 00:13:37.630\nWe don't wanna wait all day to\nback up this entire machine.\n\n290\n00:13:37.630 --> 00:13:38.790\nSo, I'm going to click back up once.\n\n291\n00:13:40.640 --> 00:13:42.428\nAnd this is how you do\nthat one off backup,\n\n292\n00:13:42.428 --> 00:13:44.387\nit doesn't mess with your backup schedule.\n\n293\n00:13:44.387 --> 00:13:45.959\nIn other words, if I do this backup now,\n\n294\n00:13:45.959 --> 00:13:49.080\nit's still gonna back up at 9 o'clock\ntonight, it's not gonna change that.\n\n295\n00:13:49.080 --> 00:13:52.814\nSo this is great when you need that\noffsite backup, or you want to do a test\n\n296\n00:13:52.814 --> 00:13:56.900\nrestore in your development environment,\nso you can work on something.\n\n297\n00:13:56.900 --> 00:14:00.280\nHey, let me do a quick backup and\nrestore on this virtual machine,\n\n298\n00:14:00.280 --> 00:14:02.680\nI can do whatever it is I need\nto do over there in development.\n\n299\n00:14:02.680 --> 00:14:05.160\nSo, we use the backup ones quite often.\n\n300\n00:14:05.160 --> 00:14:08.310\nI'm getting ready to test something,\nand I'll back it up real quick, so\n\n301\n00:14:08.310 --> 00:14:11.110\nthat if something goes wrong,\nI can restore that server real fast,\n\n302\n00:14:11.110 --> 00:14:13.300\nand we can do that one off backup.\n\n303\n00:14:13.300 --> 00:14:17.590\nWhen you do this one time backup,\nyou can use your scheduled backup options,\n\n304\n00:14:17.590 --> 00:14:20.830\nwould mean it's gonna use the options\nI set in my schedule, which,\n\n305\n00:14:20.830 --> 00:14:22.950\nin this case, was a full backup, and\n\n306\n00:14:22.950 --> 00:14:27.230\nit was storing it on the network to that\nHyper-V backups folder over there on DC1.\n\n307\n00:14:27.230 --> 00:14:29.540\nIf I didn't want to use those options,\n\n308\n00:14:29.540 --> 00:14:32.690\nwhich I don't,\nI'm going to choose different options.\n\n309\n00:14:32.690 --> 00:14:36.490\nAgain, does not affect my\nscheduled backup whatsoever.\n\n310\n00:14:36.490 --> 00:14:38.820\nI'll click next, and\nI'm gonna choose custom.\n\n311\n00:14:39.920 --> 00:14:40.620\nAnd we'll click next.\n\n312\n00:14:41.780 --> 00:14:45.200\nHere, you get to this screen, and you\nchoose the items that you want to backup.\n\n313\n00:14:45.200 --> 00:14:49.030\nSo, you click that add items button,\nand you see we have few choices here.\n\n314\n00:14:49.030 --> 00:14:53.510\nWe have bare metal recovery, this is\ngonna give me the ability to fight a hard\n\n315\n00:14:53.510 --> 00:14:58.230\ndrive failure or hardware failure of some\nkind, I can rebuilt the machine, and\n\n316\n00:14:58.230 --> 00:15:00.250\nI can restore it right on bare metal.\n\n317\n00:15:00.250 --> 00:15:04.029\nYou don't have to reinstall operating\nsystem first, anything like that.\n\n318\n00:15:05.240 --> 00:15:07.160\nSystem state back up.\n\n319\n00:15:07.160 --> 00:15:08.960\nThat's another one that we\nneed to be familiar with,\n\n320\n00:15:08.960 --> 00:15:12.390\nespecially need to know what's\nincluded in the system state back up.\n\n321\n00:15:12.390 --> 00:15:16.280\nThis allows me to restore\na machine to a particular state.\n\n322\n00:15:16.280 --> 00:15:20.240\nFor example, if I had to rebuild\na machine, had to reinstall Windows, but\n\n323\n00:15:20.240 --> 00:15:22.950\nthen I wanted to go ahead and\nget it back to what it was doing\n\n324\n00:15:22.950 --> 00:15:26.370\nas far as maybe it was a domain\ncontroller, or a DNS server.\n\n325\n00:15:26.370 --> 00:15:31.640\nI can use this system state to bring that\nmachine back to that state, all right?\n\n326\n00:15:31.640 --> 00:15:34.930\nWe also have Hyper-V options,\nand these I really like.\n\n327\n00:15:34.930 --> 00:15:36.631\nWhen it comes to backing\nup virtual machines,\n\n328\n00:15:36.631 --> 00:15:40.450\nand we'll talk about different methods\nwe can use in just a little bit.\n\n329\n00:15:40.450 --> 00:15:42.110\nThis is a really nice one.\n\n330\n00:15:42.110 --> 00:15:46.335\nThrough the Windows Server backup,\nit sees that I'm running Hyper-V, and\n\n331\n00:15:46.335 --> 00:15:50.571\nit sees the individual virtual machines\nthat exist on that Hyper-V server.\n\n332\n00:15:50.571 --> 00:15:53.718\nSo, if I just wanna do a real quick\nbackup of one of my virtual machines,\n\n333\n00:15:53.718 --> 00:15:55.670\nI can simply fire up\nWindows Server backup.\n\n334\n00:15:55.670 --> 00:15:58.621\nGo into a backup once,\ncome in here, select my items,\n\n335\n00:15:58.621 --> 00:16:00.172\npick that virtual machine.\n\n336\n00:16:00.172 --> 00:16:02.101\nAnd I'm off to the races, all right?\n\n337\n00:16:02.101 --> 00:16:06.870\nI could also back up the Host Component,\nwhich would include my configurations for\n\n338\n00:16:06.870 --> 00:16:08.730\nHyper-V itself.\n\n339\n00:16:08.730 --> 00:16:09.980\nWe can go into the drives, and\n\n340\n00:16:09.980 --> 00:16:14.860\nwe can start backing up individual files\nand folders if we choose to do so.\n\n341\n00:16:14.860 --> 00:16:17.935\nMaybe if I just get that one folder\nof tools that I wanna back up,\n\n342\n00:16:17.935 --> 00:16:21.710\nI don't care about the rest of the server,\nI don't have to back up the entire volume.\n\n343\n00:16:21.710 --> 00:16:24.170\nThat takes a lot of time,\ntakes a lot of disk space.\n\n344\n00:16:24.170 --> 00:16:25.900\nI can back up just that folder.\n\n345\n00:16:25.900 --> 00:16:27.350\nOr I can back up an individual file.\n\n346\n00:16:27.350 --> 00:16:30.740\nMaybe I've got a spreadsheet that\nhas all this important data on it.\n\n347\n00:16:30.740 --> 00:16:34.290\nAnd I wanna back that up more often\nthan I'd back up the full server.\n\n348\n00:16:34.290 --> 00:16:36.490\nSo I can come in here and\nI can set a schedule.\n\n349\n00:16:36.490 --> 00:16:38.240\nOr I can do a backup once,\nI can do it now.\n\n350\n00:16:38.240 --> 00:16:39.880\nBut I could also make a schedule, and\n\n351\n00:16:39.880 --> 00:16:44.340\nback up that one file multiple\ntimes a day if I need to.\n\n352\n00:16:44.340 --> 00:16:49.310\n&gt;&gt; Nice to be able to drill down like that\nspecifically select a file or a folder or\n\n353\n00:16:49.310 --> 00:16:54.540\nwherever you want, from large to small,\nto have that flexibility is very nice.\n\n354\n00:16:54.540 --> 00:16:55.870\nCuz it wasn't always that way right Mike?\n\n355\n00:16:55.870 --> 00:16:57.570\n&gt;&gt; It wasn't.\nBack in the day you had to back up\n\n356\n00:16:57.570 --> 00:17:00.530\nthe entire volume even if\nyou just wanted a few files.\n\n357\n00:17:00.530 --> 00:17:03.630\nMost of it was not important,\nit was replaceable.\n\n358\n00:17:03.630 --> 00:17:04.730\nBut some of them was not.\n\n359\n00:17:04.730 --> 00:17:06.710\nAnd I had to back-up the entire volume.\n\n360\n00:17:06.710 --> 00:17:09.310\nAnd then way back and\nrestore the entire volume.\n\n361\n00:17:09.310 --> 00:17:12.030\nThey finally gave us the ability,\na few editions ago,\n\n362\n00:17:12.030 --> 00:17:15.640\nto restore individual files but you\nstill had to back-up the entire volume.\n\n363\n00:17:15.640 --> 00:17:20.190\nNow, we can back up individual, this\nactually started in 2012 I believe, but\n\n364\n00:17:20.190 --> 00:17:24.390\nyou can backup individual files, folders\nand restore individual files and folders.\n\n365\n00:17:24.390 --> 00:17:26.700\nThis whole Hyper-V option though is new.\n\n366\n00:17:26.700 --> 00:17:31.820\nCame out in 2012, the ability to backup\nthese individual virtual machines.\n\n367\n00:17:31.820 --> 00:17:33.740\nWhich is what I'm gonna do for\nthis backup.\n\n368\n00:17:33.740 --> 00:17:34.770\nThese are blank.\n\n369\n00:17:34.770 --> 00:17:38.240\nI just created a couple VMs really quick,\nnothing on the hard drives, no OS.\n\n370\n00:17:38.240 --> 00:17:41.090\nSo they're really small,\nshouldn't take long to backup.\n\n371\n00:17:41.090 --> 00:17:42.030\nSo I'll go ahead and click OK.\n\n372\n00:17:43.500 --> 00:17:45.800\nGives me a summary of\neverything I'm gonna backup.\n\n373\n00:17:45.800 --> 00:17:47.060\nI'll go ahead and click Next.\n\n374\n00:17:48.360 --> 00:17:50.640\nAnd then I'm gonna back it up\nto our remote shared folder.\n\n375\n00:17:52.890 --> 00:18:00.191\nAnd I'll go to that dc01/Hyper V backups.\n\n376\n00:18:00.191 --> 00:18:02.593\nOr the backup of this computer\nwill be over written,\n\n377\n00:18:02.593 --> 00:18:06.080\nit's warning me there that hey,\nonly have one back up, all right?\n\n378\n00:18:06.080 --> 00:18:08.120\nWhen you backing it up\non the network share.\n\n379\n00:18:08.120 --> 00:18:10.720\nLet me just back up to that screen,\nit went a little fast.\n\n380\n00:18:10.720 --> 00:18:13.310\nSo once you put that network path\nin there, it's reminding you,\n\n381\n00:18:13.310 --> 00:18:14.440\nyou only get one.\n\n382\n00:18:14.440 --> 00:18:16.290\nIt's gonna overwrite what's already there.\n\n383\n00:18:16.290 --> 00:18:17.410\nAnd that's fine for us.\n\n384\n00:18:17.410 --> 00:18:18.011\n&gt;&gt; Backup your backups.\n\n385\n00:18:18.011 --> 00:18:19.650\n[LAUGH]\n&gt;&gt; Backup your backups.\n\n386\n00:18:19.650 --> 00:18:23.200\nAnd then your access control,\ndo not inherit or inherit.\n\n387\n00:18:23.200 --> 00:18:25.670\nIf I don't inherit,\nonly the people that created the backup,\n\n388\n00:18:25.670 --> 00:18:29.790\nwhatever credentials were used to run the\nbackup, they're gonna have access to that\n\n389\n00:18:29.790 --> 00:18:31.730\nbackup file, so\nthey'll be able to do the restore.\n\n390\n00:18:31.730 --> 00:18:36.010\nIf I choose Inherit, it'll inherit the\npermissions from the folder I'm storing\n\n391\n00:18:36.010 --> 00:18:38.360\nthe backup in, all right?\n\n392\n00:18:38.360 --> 00:18:40.250\nMost common use is the inherit.\n\n393\n00:18:42.340 --> 00:18:45.460\nWill have the permissions\nset properly on the folder\n\n394\n00:18:45.460 --> 00:18:48.020\nthat we're storing these backups in.\n\n395\n00:18:48.020 --> 00:18:50.290\nBut either option you\nwanna go with is fine.\n\n396\n00:18:50.290 --> 00:18:53.180\nJust make sure, I guess what\nI'm trying to get at there is,\n\n397\n00:18:53.180 --> 00:18:55.250\nit's very important that\nwe secure those backups.\n\n398\n00:18:55.250 --> 00:18:58.810\nWe don't wanna just do like I do here in\nthe lab, just to make things easy, and\n\n399\n00:18:58.810 --> 00:19:01.990\nsay, all authenticated users read and\nwrite and permissions.\n\n400\n00:19:01.990 --> 00:19:04.780\nYes, that gets it done for now,\nbut what that means is any\n\n401\n00:19:04.780 --> 00:19:09.040\nauthenticated user can grab that backup\nand try to restore it into a VM.\n\n402\n00:19:09.040 --> 00:19:10.580\nTake that home with them, and\n\n403\n00:19:10.580 --> 00:19:13.720\ntry to get access to data that\nthey should not have access to.\n\n404\n00:19:13.720 --> 00:19:18.210\nYou need to treat those backups\nlike you do your physical server.\n\n405\n00:19:18.210 --> 00:19:20.660\nI mean, they are a copy,\nespecially if it's a full backup.\n\n406\n00:19:20.660 --> 00:19:22.484\n&gt;&gt; Yeah.\n&gt;&gt; It's a copy of your entire server,\n\n407\n00:19:22.484 --> 00:19:24.030\nright, everything they need.\n\n408\n00:19:24.030 --> 00:19:25.850\nSo, make sure you're\nprotecting those backups.\n\n409\n00:19:25.850 --> 00:19:28.730\nI'll go ahead and click Next.\n\n410\n00:19:28.730 --> 00:19:31.840\nIt's going to warn me again that it's\ngoing to overwrite, that's fine.\n\n411\n00:19:31.840 --> 00:19:35.440\nWe've got our two virtual machines in\nthere, and I'll go ahead and click Backup.\n\n412\n00:19:37.310 --> 00:19:38.260\nAnd it shouldn't take too long,\n\n413\n00:19:38.260 --> 00:19:42.260\nlike I said they're only a few megs in\nsize cuz they're blank hard drives.\n\n414\n00:19:43.520 --> 00:19:46.100\nAll right, it's creating a shadow copy.\n\n415\n00:19:46.100 --> 00:19:50.070\nBasically uses Volume Shadow Copy Services\nto create a snap shot,\n\n416\n00:19:50.070 --> 00:19:53.510\nand then makes the backup\nfrom that snap shot.\n\n417\n00:19:53.510 --> 00:19:57.828\nIf those VM's were running, it will have\nto pause them temporarily to create that\n\n418\n00:19:57.828 --> 00:20:00.960\nsnap shot, and\nthen it will release and let them run.\n\n419\n00:20:00.960 --> 00:20:03.730\nTypically you don't notice\nany down time on them, but\n\n420\n00:20:03.730 --> 00:20:07.920\nthere is a chance somebody's doing\nsomething that's very session intensive,\n\n421\n00:20:07.920 --> 00:20:09.330\nit is gonna break that for just a second.\n\n422\n00:20:10.930 --> 00:20:13.930\nAll right, so we'll let this run,\nand we'll get this backed up.\n\n423\n00:20:13.930 --> 00:20:16.600\nCouple of things we need to talk\nabout while we're in this run,\n\n424\n00:20:16.600 --> 00:20:18.580\nwe'll take a look at\nthe restore process as well.\n\n425\n00:20:19.830 --> 00:20:24.980\nIs backup strategies,\nthinking about what we need to backup.\n\n426\n00:20:24.980 --> 00:20:26.610\nAnd we didn't go over system state did we?\n\n427\n00:20:26.610 --> 00:20:28.930\nI didn't tell you what\nthe system state included.\n\n428\n00:20:28.930 --> 00:20:31.230\nAnother very important thing\nthat we need to discuss.\n\n429\n00:20:31.230 --> 00:20:33.530\nSo system state backups.\n\n430\n00:20:33.530 --> 00:20:36.420\nWhen we do that, again,\nit includes, by default,\n\n431\n00:20:36.420 --> 00:20:39.890\nit's gonna include boot files,\nall our system files and\n\n432\n00:20:39.890 --> 00:20:45.180\nanything protected by\nthe Windows File Protection or WFP.\n\n433\n00:20:45.180 --> 00:20:47.330\nAll that's gonna be included for\nsystem state.\n\n434\n00:20:47.330 --> 00:20:51.280\nSo also got to include the registry,\nperformance counter information.\n\n435\n00:20:51.280 --> 00:20:53.295\nSo if you had setup some\nperformance counters,\n\n436\n00:20:53.295 --> 00:20:57.170\nremember we showed you the performance\nmonitor in the previous episode?\n\n437\n00:20:57.170 --> 00:21:01.750\nAnd the component service\nclass registration database.\n\n438\n00:21:01.750 --> 00:21:04.860\nAll that's included in system state.\n\n439\n00:21:04.860 --> 00:21:07.020\nBut then,\ndepending on what the machine is doing, or\n\n440\n00:21:07.020 --> 00:21:09.920\nwhat roles it holds,\nthere could be more information.\n\n441\n00:21:09.920 --> 00:21:14.040\nIf it's a domain controller, it's going\nto include Active Directory and Sysvol.\n\n442\n00:21:14.040 --> 00:21:16.120\nAll the components of Active Directory.\n\n443\n00:21:16.120 --> 00:21:18.240\nIf it's a Certificate Services server,\n\n444\n00:21:18.240 --> 00:21:21.270\nit's going to include\nthe Certificate Service's database.\n\n445\n00:21:21.270 --> 00:21:25.780\nIf it's part of a cluster,\nif it's hosting a clustered database,\n\n446\n00:21:25.780 --> 00:21:27.880\nit'll include that\ncluster database as well.\n\n447\n00:21:27.880 --> 00:21:29.450\nIf it's a node in a cluster,\n\n448\n00:21:29.450 --> 00:21:32.790\nit'll include the cluster database\nin the system state backup.\n\n449\n00:21:32.790 --> 00:21:34.455\nSo important to understand I remember,\n\n450\n00:21:34.455 --> 00:21:38.125\nI don't see him asking these\nkinds of questions much anymore,\n\n451\n00:21:38.125 --> 00:21:42.585\nbut I remember way back in the day you\nneed to back up your domain controller.\n\n452\n00:21:42.585 --> 00:21:44.315\nYou're going to do a system state backup.\n\n453\n00:21:44.315 --> 00:21:46.815\nWhat else do you need to get in need\norder to be able to restore your\n\n454\n00:21:46.815 --> 00:21:48.265\ndomain controller?\n\n455\n00:21:48.265 --> 00:21:49.055\nIt was a trick question.\n\n456\n00:21:49.055 --> 00:21:52.790\nThe answer is nothing, because we know\nsystem state includes active directory and\n\n457\n00:21:52.790 --> 00:21:54.795\nsysvol and all those components.\n\n458\n00:21:54.795 --> 00:21:58.750\nSo keep in mind what's included in\nyour system state backup, all right.\n\n459\n00:21:58.750 --> 00:22:00.290\nLet's take a peek back at my screen here.\n\n460\n00:22:00.290 --> 00:22:01.630\nThe backup has finished.\n\n461\n00:22:02.890 --> 00:22:06.620\nAnd I can see that has completed,\nso I'll go ahead and close that.\n\n462\n00:22:06.620 --> 00:22:10.000\nAnd now, let's do the unthinkable.\n\n463\n00:22:11.330 --> 00:22:13.010\nIt's not that unthinkable.\n\n464\n00:22:13.010 --> 00:22:14.250\nLet's go delete some virtual machines.\n\n465\n00:22:15.600 --> 00:22:16.664\n&gt;&gt; Don't do it, Mike.\n\n466\n00:22:16.664 --> 00:22:19.970\n&gt;&gt; No, it took us so long to create them.\n\n467\n00:22:19.970 --> 00:22:22.210\nAll right, so I'm gonna go into Hyper-V.\n\n468\n00:22:22.210 --> 00:22:27.180\nAnd I'm just gonna grab these two VMs,\nand I'm gonna delete them.\n\n469\n00:22:27.180 --> 00:22:30.370\nAnd they're gone, and\nthen Daniel calls me up and says, man,\n\n470\n00:22:30.370 --> 00:22:31.990\nI really need those virtual machines.\n\n471\n00:22:31.990 --> 00:22:34.220\nI spend a lot of time on them,\nor whatever the case may,\n\n472\n00:22:34.220 --> 00:22:37.500\nthey had some important data in there,\ncan I get those back?\n\n473\n00:22:37.500 --> 00:22:39.450\nAbsolutely we can.\n\n474\n00:22:39.450 --> 00:22:40.390\nLet's try it out.\n\n475\n00:22:40.390 --> 00:22:42.480\nLet's go back into our\nWindows Server Backup.\n\n476\n00:22:42.480 --> 00:22:43.493\n&gt;&gt; Had my Pac-Man save states.\n\n477\n00:22:43.493 --> 00:22:44.320\n&gt;&gt; [LAUGH] That's right.\n\n478\n00:22:44.320 --> 00:22:44.966\n&gt;&gt; I have to have that.\n\n479\n00:22:44.966 --> 00:22:45.990\n[LAUGH]\n&gt;&gt; [LAUGH] And\n\n480\n00:22:45.990 --> 00:22:49.260\nwe'll click on Recover to\nlaunch our wizard, and\n\n481\n00:22:49.260 --> 00:22:51.190\njust go through a few simple questions.\n\n482\n00:22:51.190 --> 00:22:53.500\nWhere is the backup stored?\n\n483\n00:22:53.500 --> 00:22:56.890\nWell, it's on dc01, so that would be\na backup stored at another location.\n\n484\n00:22:57.920 --> 00:22:59.750\nWe'll click next.\n\n485\n00:22:59.750 --> 00:23:01.570\nIt is gonna be a remote shared folder.\n\n486\n00:23:02.770 --> 00:23:06.570\nAnd that does make me kind of laugh though\nwhen they say wait is it this server or\n\n487\n00:23:06.570 --> 00:23:07.900\nsomewhere else?\n\n488\n00:23:07.900 --> 00:23:09.340\nIt's somewhere else.\n\n489\n00:23:09.340 --> 00:23:11.770\nIs it a local drive, no.\n\n490\n00:23:11.770 --> 00:23:14.872\n&gt;&gt; Didn't I say it was\nsomewhere else [LAUGH].\n\n491\n00:23:14.872 --> 00:23:18.351\n&gt;&gt; Crazy, it is a remote shared\nfolder that we want to get to, so\n\n492\n00:23:18.351 --> 00:23:19.527\nwe'll click Next.\n\n493\n00:23:19.527 --> 00:23:25.547\nAnd the path would be\n//dc01/hypervbackups.\n\n494\n00:23:25.547 --> 00:23:27.227\nWe'll click Next.\n\n495\n00:23:27.227 --> 00:23:31.450\nAnd then what it's gonna do is,\nit's gonna show me a little calendar.\n\n496\n00:23:31.450 --> 00:23:34.270\nNow because I'm doing it to the network,\nI've only got one backup, so\n\n497\n00:23:34.270 --> 00:23:35.980\nthere's not a lot of decisions to make.\n\n498\n00:23:35.980 --> 00:23:39.252\nBut if this was being stored\nlocally on an external drive or\n\n499\n00:23:39.252 --> 00:23:41.800\nlocally on an internal drive.\n\n500\n00:23:41.800 --> 00:23:44.900\nEach day that I had done\na backup would be in bold.\n\n501\n00:23:44.900 --> 00:23:49.160\nI could click that date, and then I'd\nget a drop-down list with the time\n\n502\n00:23:49.160 --> 00:23:52.325\nof the different backups if I was\ndoing multiple backups per day.\n\n503\n00:23:52.325 --> 00:23:56.915\n&gt;&gt; It reminds me kind of a System Restore\non the client operating systems.\n\n504\n00:23:56.915 --> 00:23:57.642\n&gt;&gt; It's exactly like that.\n\n505\n00:23:57.642 --> 00:24:00.509\nIt's almost the same interface,\nvery good point.\n\n506\n00:24:00.509 --> 00:24:04.710\nSo we''ll choose the only one I've got,\n3:50 on the 2nd of November.\n\n507\n00:24:04.710 --> 00:24:08.215\nWe'll click next, and\nwhat do I want to recover?\n\n508\n00:24:08.215 --> 00:24:12.320\nI want to do Hyper-V, I want virtual\nmachines, so we'll click next.\n\n509\n00:24:13.680 --> 00:24:16.780\nAnd then it opens up and\nreads the directory for that backup,\n\n510\n00:24:16.780 --> 00:24:19.680\nshows me what's in there, so\nI'm going to choose the two clients.\n\n511\n00:24:19.680 --> 00:24:22.610\nI'm not going to restore the host\ncomponent because my host never went down\n\n512\n00:24:22.610 --> 00:24:26.160\nand the configuration didn't change,\njust the virtual machines.\n\n513\n00:24:26.160 --> 00:24:30.550\nI'll click next, and I'll recover\nthem back to the original location.\n\n514\n00:24:30.550 --> 00:24:33.820\nBut you could recover them\nto an alternate location.\n\n515\n00:24:33.820 --> 00:24:38.080\nYou can also copy them out to a folder so\nit doesn't recover the VMs.\n\n516\n00:24:38.080 --> 00:24:40.850\nBut you could then copy them\nto maybe a removal drive and\n\n517\n00:24:40.850 --> 00:24:42.910\ntake them somewhere else with you.\n\n518\n00:24:42.910 --> 00:24:43.889\nAll right, we'll click next.\n\n519\n00:24:46.060 --> 00:24:47.730\nAnd then we'll click Recover.\n\n520\n00:24:47.730 --> 00:24:50.770\nYou can keep in mind, too,\nthat if those VMs exist,\n\n521\n00:24:50.770 --> 00:24:53.570\nit will overwrite them with this backup,\nall right?\n\n522\n00:24:53.570 --> 00:24:57.870\nSo if you want the current version and the\nbacked up version, you need to restore to\n\n523\n00:24:57.870 --> 00:25:00.240\nan alternate location so\nyou don't overwrite the original.\n\n524\n00:25:01.430 --> 00:25:03.990\nIn our case they were gone, so\nI want to restore the entire VM.\n\n525\n00:25:05.650 --> 00:25:06.896\nWe'll give it just a second to finish.\n\n526\n00:25:10.752 --> 00:25:14.752\nOnce it finishes successfully,\nI see both completed,\n\n527\n00:25:14.752 --> 00:25:20.160\nstatus of the entire job's completed,\nwe'll click close.\n\n528\n00:25:20.160 --> 00:25:25.421\nWe'll go back into Hyper-V,\nIf my menu will play along.\n\n529\n00:25:28.415 --> 00:25:31.130\nAnd, sure enough,\nthere's my virtual machine.\n\n530\n00:25:31.130 --> 00:25:32.870\nSo I really like that feature,\n\n531\n00:25:32.870 --> 00:25:37.700\nbeing able to back up virtual machines\nusing Windows Server Backup is very nice.\n\n532\n00:25:37.700 --> 00:25:40.975\n&gt;&gt; Yeah, and the more that we're working\nin virtualized environments, working with\n\n533\n00:25:40.975 --> 00:25:43.890\nHyper-V, this is something you're\ngoing to be doing on a regular basis.\n\n534\n00:25:43.890 --> 00:25:47.210\nSo you want to get familiar with this, you\nwant to be able to answer any question or\n\n535\n00:25:47.210 --> 00:25:51.290\ndo anything when it comes to\nbacking up virtual servers.\n\n536\n00:25:51.290 --> 00:25:54.030\nCuz if they go bye-bye,\nyour job goes bye-bye [LAUGH].\n\n537\n00:25:54.030 --> 00:25:55.640\n&gt;&gt; That's right, that's right.\n\n538\n00:25:55.640 --> 00:25:58.940\nAll right, last thing we wanna talk about\nhere is just some general strategies.\n\n539\n00:25:58.940 --> 00:26:00.880\nWhen you're thinking about\nbacking up your machines and\n\n540\n00:26:00.880 --> 00:26:04.370\nyou're gonna use, really doesn't matter if\nyou're using Windows Server Backup or not.\n\n541\n00:26:04.370 --> 00:26:06.050\nBut we're using Windows Server Backup,\n\n542\n00:26:06.050 --> 00:26:08.890\nwe need to think about what\nit is we need to back up.\n\n543\n00:26:08.890 --> 00:26:12.330\nAnd that means we need to look at the\nmachine, look at the roles the machine's\n\n544\n00:26:12.330 --> 00:26:16.520\nholding, also look at the data that's\nbeing stored on those machines and\n\n545\n00:26:16.520 --> 00:26:18.060\nif it's replaceable or not, right?\n\n546\n00:26:18.060 --> 00:26:22.580\nIf it's something that I can\nrecreate really easily or\n\n547\n00:26:22.580 --> 00:26:25.180\nis it data that I won't ever\nget back if I lose the copy.\n\n548\n00:26:25.180 --> 00:26:27.580\nNow, those are the kind of things\nthat we want to think about.\n\n549\n00:26:28.640 --> 00:26:31.410\nDepending on the roles is going\nto determine what you're going to\n\n550\n00:26:31.410 --> 00:26:32.320\nback up, right?\n\n551\n00:26:32.320 --> 00:26:35.100\nIf you do a full server backup,\nyou're getting everything.\n\n552\n00:26:35.100 --> 00:26:36.670\nIt really doesn't matter.\n\n553\n00:26:36.670 --> 00:26:40.670\nIf you're doing a system state, it\nincludes most of my important components,\n\n554\n00:26:40.670 --> 00:26:44.230\nat least, for Active Directory and\nfor certificate services.\n\n555\n00:26:44.230 --> 00:26:45.650\nBut what about a web server?\n\n556\n00:26:45.650 --> 00:26:49.140\nThe system state would give my\noperating system configuration,\n\n557\n00:26:49.140 --> 00:26:52.230\nmy registry, my complex registrations, but\n\n558\n00:26:52.230 --> 00:26:55.360\nit wouldn't get my websites that\nthat web server was hosting, right?\n\n559\n00:26:55.360 --> 00:26:58.690\nSo I'd go to do the restore and everyone's\ngonna be like where's the website?\n\n560\n00:26:58.690 --> 00:27:01.220\nI didn't back that up, oops.\n\n561\n00:27:01.220 --> 00:27:04.010\nAnd that could be a resume\ngenerating event there.\n\n562\n00:27:04.010 --> 00:27:08.030\nSo you really wanna make sure you're\ngetting what you need in that back up and\n\n563\n00:27:08.030 --> 00:27:11.295\nyou're testing your restore process to\nmake sure that that helps you, one,\n\n564\n00:27:11.295 --> 00:27:14.250\nto determine that you\nare getting everything, and two,\n\n565\n00:27:14.250 --> 00:27:16.910\nthat you've got everything set up\ncorrectly and you're able to access\n\n566\n00:27:16.910 --> 00:27:21.388\nthe restores, there's no corruption going\non and you're able to pull them back down.\n\n567\n00:27:21.388 --> 00:27:25.537\nThings like Hyper-V is one that we always\ntalk about when we talk about planning our\n\n568\n00:27:25.537 --> 00:27:29.270\nbackups, because you've got\nseveral different options there.\n\n569\n00:27:29.270 --> 00:27:33.610\nBacking up virtual machines, we could\ndo that several different ways, right?\n\n570\n00:27:33.610 --> 00:27:36.568\nThey are just a file on\nthe server's hard drive.\n\n571\n00:27:36.568 --> 00:27:39.960\nWhen you talk about the virtual machine\nconfiguration file and the virtual machine\n\n572\n00:27:39.960 --> 00:27:44.940\nhard drives, they are just files\non my Hyper-V hosts' file system.\n\n573\n00:27:44.940 --> 00:27:49.410\nTechnically, I can just open up Windows\nExplorer, drag a copy of those files off\n\n574\n00:27:49.410 --> 00:27:53.200\nto an external drive and I'm done,\nI have a back up of them.\n\n575\n00:27:53.200 --> 00:27:57.140\nIf something happens, I can just copy\nthose files back, we should be good to go.\n\n576\n00:27:57.140 --> 00:28:01.900\nAnd that's a perfectly viable solution\nif that's what you choose to do.\n\n577\n00:28:01.900 --> 00:28:05.630\nYou could just do a full server\nbackup on the host machine.\n\n578\n00:28:05.630 --> 00:28:09.290\nThat would include all the files\nincluding the Hyper-V,\n\n579\n00:28:09.290 --> 00:28:12.880\nthe virtual machine drives and\nconfiguration files, so that would work.\n\n580\n00:28:12.880 --> 00:28:15.540\nYou could go inside\nthe virtual machine itself and\n\n581\n00:28:15.540 --> 00:28:19.490\nhave Windows Server backup installed and\nrun what we just did here to back up\n\n582\n00:28:19.490 --> 00:28:21.640\nthe virtual machine from\nwithin the virtual machine.\n\n583\n00:28:21.640 --> 00:28:23.480\nJust like any other server, right?\n\n584\n00:28:23.480 --> 00:28:26.241\nIt really depends does that\nvirtual machine, I don't know,\n\n585\n00:28:26.241 --> 00:28:28.111\nthere's different schools of thought.\n\n586\n00:28:28.111 --> 00:28:35.950\nIt really comes down to whatever\nyour enterprise needs, I think.\n\n587\n00:28:35.950 --> 00:28:39.230\nIt's really hard to say there's\none solution that fits everybody.\n\n588\n00:28:40.230 --> 00:28:42.790\nYou might have 20 virtual\nmachines on that server, but\n\n589\n00:28:42.790 --> 00:28:45.988\nreally only one of them has\ndata that I need to back-up.\n\n590\n00:28:45.988 --> 00:28:50.010\nBacking up the entire host to back\nup that one virtual machine is\n\n591\n00:28:50.010 --> 00:28:51.450\na little over kill, right?\n\n592\n00:28:51.450 --> 00:28:54.312\nIt might be easier for\nme to create a shared folder on the host,\n\n593\n00:28:54.312 --> 00:28:58.800\nback up the virtual machine from inside\nit, to that network location on the host,\n\n594\n00:28:58.800 --> 00:29:00.170\nthat might be a better solution.\n\n595\n00:29:00.170 --> 00:29:02.160\n&gt;&gt; And it's funny, back up solutions, and\n\n596\n00:29:02.160 --> 00:29:06.210\na lot of different types of philosophies\non doing things inside of your\n\n597\n00:29:06.210 --> 00:29:11.410\nenvironment, tend to start really broad\nand work their way down to a point.\n\n598\n00:29:11.410 --> 00:29:16.850\nThey hardly ever start off,\nthis is the perfect solution and\n\n599\n00:29:16.850 --> 00:29:20.610\nit worked exactly how we wanted\nto it work right out of the gate.\n\n600\n00:29:20.610 --> 00:29:21.910\nWe're never gonna change a thing.\n\n601\n00:29:21.910 --> 00:29:23.290\nSo understand that,\n\n602\n00:29:23.290 --> 00:29:28.790\nit's even beneficial sometimes to start\noff let's just broad brush this and\n\n603\n00:29:28.790 --> 00:29:32.640\nthen figure out how to tweak it so that we\npare it down to only what we need to do.\n\n604\n00:29:32.640 --> 00:29:37.200\nThat's typically, it's a very pragmatic\napproach to working with servers.\n\n605\n00:29:37.200 --> 00:29:38.650\nYou have to be pragmatic.\n\n606\n00:29:38.650 --> 00:29:40.830\nIf it's working,\nthat's the right way to do it.\n\n607\n00:29:40.830 --> 00:29:43.810\nIf you can make it work better,\nthen that's the right way to do it.\n\n608\n00:29:43.810 --> 00:29:46.990\nIt's like we said before,\nAdam likes to say, it's one fits one,\n\n609\n00:29:46.990 --> 00:29:48.200\nit's not one fits all.\n\n610\n00:29:48.200 --> 00:29:48.980\n&gt;&gt; Exactly right.\n\n611\n00:29:48.980 --> 00:29:52.070\nI do want to show you one more\nthing though before we go.\n\n612\n00:29:52.070 --> 00:29:56.360\nAnd that is the command line version\nof Windows Server Backup, it's WBAdmin.\n\n613\n00:29:57.850 --> 00:30:02.350\nSo WBAdmin, and I'll just do\na little switch question mark here.\n\n614\n00:30:03.410 --> 00:30:05.150\nAnd it's not gonna let me do that, is it?\n\n615\n00:30:05.150 --> 00:30:06.460\n&gt;&gt; There is no-\n&gt;&gt; There it is.\n\n616\n00:30:06.460 --> 00:30:07.595\n&gt;&gt; There we go [LAUGH].\n\n617\n00:30:07.595 --> 00:30:10.333\n&gt;&gt; Hit the wrong key,\nhit a little tab option there.\n\n618\n00:30:10.333 --> 00:30:11.859\nDo take a peek at this, right?\n\n619\n00:30:11.859 --> 00:30:14.255\nIt would definitely behoove you,\nfor the exam,\n\n620\n00:30:14.255 --> 00:30:16.430\nto be familiar with the name WBAdmin.\n\n621\n00:30:16.430 --> 00:30:19.680\nThey might give you a scenario\nwhere you need to do a backup,\n\n622\n00:30:19.680 --> 00:30:21.410\nand you wanna do this and this.\n\n623\n00:30:21.410 --> 00:30:22.412\nWhich command would you use?\n\n624\n00:30:22.412 --> 00:30:25.320\nAnd they list four commands and\nyou've gotta know which switches.\n\n625\n00:30:25.320 --> 00:30:28.960\nThey might say start back up,\nthe other one says enable backup,\n\n626\n00:30:28.960 --> 00:30:31.650\nthe other one just says get a backup,\nright?\n\n627\n00:30:31.650 --> 00:30:33.910\nYou've gotta know it's enable backup,\nnot get a backup.\n\n628\n00:30:33.910 --> 00:30:35.260\nSo do go through here,\n\n629\n00:30:35.260 --> 00:30:38.890\ntake a look at some of these commands\nthat are associated with WBAdmin.\n\n630\n00:30:38.890 --> 00:30:44.580\nThat is the command line utility for\nthe Windows Server Backup.\n\n631\n00:30:44.580 --> 00:30:48.560\n&gt;&gt; All right, well backups they're not\njust for breakfast anymore everybody.\n\n632\n00:30:48.560 --> 00:30:52.510\nIt is a lot of fun to do, you've gotta\nwork with them, so like we've been saying\n\n633\n00:30:52.510 --> 00:30:55.540\nspin up some virtual servers,\nplay around with it, get your feet wet.\n\n634\n00:30:55.540 --> 00:30:58.820\nThe great thing about\na virtual environment is\n\n635\n00:30:58.820 --> 00:31:02.720\nyou can play with all these utilities,\ngo buck wild and break everything, and\n\n636\n00:31:02.720 --> 00:31:04.400\nthen you just start over from scratch.\n\n637\n00:31:04.400 --> 00:31:05.720\nAnd then you know where you went wrong and\n\n638\n00:31:05.720 --> 00:31:09.050\nyou can really learn how to use\nthis stuff, so definitely do that.\n\n639\n00:31:09.050 --> 00:31:10.960\nMike, you did a great job\non the demonstrations.\n\n640\n00:31:10.960 --> 00:31:13.580\nWe appreciate your time, your effort, and\n\n641\n00:31:13.580 --> 00:31:16.590\nyour knowledge being imparted\nto us as the viewer.\n\n642\n00:31:16.590 --> 00:31:19.350\nWe thank you guys for watching but\nit's time for us to sign off.\n\n643\n00:31:19.350 --> 00:31:21.544\nFor ITPro.TV I've been\nyour host Daniel Lowrie.\n\n644\n00:31:21.544 --> 00:31:22.269\n&gt;&gt; And I'm Mike Rodrick.\n\n645\n00:31:22.269 --> 00:31:23.158\n&gt;&gt; And we'll see you next time.\n\n646\n00:31:23.158 --> 00:31:30.964\n[MUSIC]\n\n647\n00:31:30.964 --> 00:31:33.545\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "190240572"
        },
        {
          "description": "In this episode, Daniel and Mike introduce you to monitoring Server 2016 installations by employing the Performance Monitor. Here they explore and explain the Performance Monitor's interface and scope of use (collecting data on system functions like CPU, Memory, Disk, and Network).",
          "length": "1421",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-2-1-monitor_server_installations-103116-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-2-1-monitor_server_installations-103116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-2-1-monitor_server_installations-103116-1-sm.jpg",
          "title": "Monitor Server Installations",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:02.636\n[CROSSTALK]\n\n2\n00:00:02.636 --> 00:00:08.747\n[MUSIC]\n\n3\n00:00:08.747 --> 00:00:11.133\nYou're watching ITPRO.TV.\n\n4\n00:00:11.133 --> 00:00:15.592\n&gt;&gt; All right, greetings, everyone, and\nwelcome to another episode of ITPRO.TV,\n\n5\n00:00:15.592 --> 00:00:19.670\nI'm your host, Daniel Lowrie, and\nin today's episode, that's right,\n\n6\n00:00:19.670 --> 00:00:23.687\nwe're continuing more on our installation\nstorage and compute series for\n\n7\n00:00:23.687 --> 00:00:25.180\nWindows Server 2016.\n\n8\n00:00:25.180 --> 00:00:26.720\nJoining us back, that's right, the man,\n\n9\n00:00:26.720 --> 00:00:30.930\nthe myth, the legend, that is all that\nis Microsoft, that man Mr. Mike Rogers.\n\n10\n00:00:30.930 --> 00:00:31.910\nMike, welcome back, sir.\n\n11\n00:00:31.910 --> 00:00:32.620\nHow's it going today?\n\n12\n00:00:32.620 --> 00:00:33.680\n&gt;&gt; It's going great, Daniel.\n\n13\n00:00:33.680 --> 00:00:34.650\nExcited to be here.\n\n14\n00:00:34.650 --> 00:00:38.120\nToday we're gonna be looking at\nmonitoring our server performance.\n\n15\n00:00:38.120 --> 00:00:41.970\nIt's one of those parts that probably we,\nI don't wanna say we ignore it, but\n\n16\n00:00:41.970 --> 00:00:45.210\nwe don't spend as much time\non it maybe as we should.\n\n17\n00:00:45.210 --> 00:00:48.510\nVery key part to keeping and maintaining\n\n18\n00:00:48.510 --> 00:00:51.950\nour network is to make sure that our\nservers are performing adequately, right?\n\n19\n00:00:51.950 --> 00:00:54.380\nWe don't want people waiting to log on.\n\n20\n00:00:54.380 --> 00:00:56.080\nWaiting to get access.\n\n21\n00:00:56.080 --> 00:01:00.060\nWe don't need our network,\nour servers, slowing them down.\n\n22\n00:01:00.060 --> 00:01:04.380\nSo how do we make sure our servers are\nperforming at their peak performance and\n\n23\n00:01:04.380 --> 00:01:06.820\ndo we need to add a second or\nthird DNS server?\n\n24\n00:01:06.820 --> 00:01:10.590\nDo we need another domain controller\nhere to handle the log on traffic?\n\n25\n00:01:10.590 --> 00:01:11.510\nHow do we know?\n\n26\n00:01:11.510 --> 00:01:12.480\nWe can guess.\n\n27\n00:01:12.480 --> 00:01:16.700\nWe can hope, everybody says it takes\nreally long time to log on, so\n\n28\n00:01:16.700 --> 00:01:19.780\nI just whip out another debug\ncontroller or we could monitor.\n\n29\n00:01:19.780 --> 00:01:20.610\nWe could actually look and\n\n30\n00:01:20.610 --> 00:01:23.870\nsee what's going on, because it might\nnot be adding another debug controller.\n\n31\n00:01:23.870 --> 00:01:25.530\nMight not help situation at all,\n\n32\n00:01:25.530 --> 00:01:27.520\nif that was what slowing\nit down in the first place.\n\n33\n00:01:27.520 --> 00:01:30.080\n&gt;&gt; Yeah, Mike, you actually mention\nthe way that I am monitor my servers.\n\n34\n00:01:30.080 --> 00:01:33.520\nWhen the phone starts ringing everybody\nsays, hey access to the server seems slow.\n\n35\n00:01:33.520 --> 00:01:36.100\nI go, my performance monitor\nis working perfectly.\n\n36\n00:01:36.100 --> 00:01:36.746\nThey let me know.\n\n37\n00:01:36.746 --> 00:01:39.800\n[LAUGH]\n&gt;&gt; Every single time that alert goes off.\n\n38\n00:01:39.800 --> 00:01:42.170\nAnd then I start to check,\nokay, what's going on?\n\n39\n00:01:42.170 --> 00:01:43.390\n&gt;&gt; Right.\n&gt;&gt; But you're right,\n\n40\n00:01:43.390 --> 00:01:47.200\nit would be nice to be able to\nlook at something tangible, right?\n\n41\n00:01:47.200 --> 00:01:49.380\nIf I can use that word in this context.\n\n42\n00:01:49.380 --> 00:01:53.330\nThat I can see, yeah, normally,\nit's hovering around here.\n\n43\n00:01:53.330 --> 00:01:54.320\nAnd today, it's up here.\n\n44\n00:01:54.320 --> 00:01:56.200\n&gt;&gt; Right.\n&gt;&gt; It's utilizing a whole lot more.\n\n45\n00:01:56.200 --> 00:01:59.770\nThan what I'm used to seeing and\nI can quantify that, I can qualify it and\n\n46\n00:01:59.770 --> 00:02:01.960\nsay this is different.\n\n47\n00:02:01.960 --> 00:02:05.220\nAnd it's giving me a representational for\nthat so I that I know that fact.\n\n48\n00:02:05.220 --> 00:02:06.590\n&gt;&gt; And that's a great point Danny.\n\n49\n00:02:06.590 --> 00:02:08.630\nWe monitor really for a couple of reasons.\n\n50\n00:02:08.630 --> 00:02:11.780\nOne, to make sure our servers\nare performing adequately, but\n\n51\n00:02:11.780 --> 00:02:14.970\nwe can also start to spot\ntrends as you were saying.\n\n52\n00:02:14.970 --> 00:02:17.780\nAs we add more and more users.\n\n53\n00:02:17.780 --> 00:02:19.370\nTo perform it that server's under more and\n\n54\n00:02:19.370 --> 00:02:23.520\nmore workload,\nit's performance starts slowly going down.\n\n55\n00:02:23.520 --> 00:02:25.980\nBut we don't wanna wait until\nit get's to the point where\n\n56\n00:02:25.980 --> 00:02:27.530\npeople can't use it anymore.\n\n57\n00:02:27.530 --> 00:02:28.810\nWe don't wanna get that far, right?\n\n58\n00:02:28.810 --> 00:02:32.450\nWe'd love to notice that the performance\nis going down slowly and\n\n59\n00:02:32.450 --> 00:02:35.390\ndo something about it well before\nit get's to that bottoming out.\n\n60\n00:02:35.390 --> 00:02:37.807\nAnd the only way you're gonna\ndo that is by monitoring.\n\n61\n00:02:37.807 --> 00:02:40.472\nNow there's lots of third-party\ntools we can get, but\n\n62\n00:02:40.472 --> 00:02:44.386\nMicrosoft has some great tools built-in\nto the operating system free of charge,\n\n63\n00:02:44.386 --> 00:02:46.300\nother than your license per server.\n\n64\n00:02:46.300 --> 00:02:48.640\nSo that's what are we gonna\ntake a look at right now.\n\n65\n00:02:48.640 --> 00:02:50.420\nSo let's go ahead and\njump on to the My Computer here.\n\n66\n00:02:50.420 --> 00:02:56.620\nWe have the server 2016 install on-going\nas a fresh clean install I just fired up.\n\n67\n00:02:56.620 --> 00:02:59.950\nAnd the tool we're gonna be\nlooking at is under my Tools menu,\n\n68\n00:02:59.950 --> 00:03:01.540\nit's called Performance Monitor.\n\n69\n00:03:01.540 --> 00:03:03.919\n&gt;&gt; It could three guesses\nabout what that does.\n\n70\n00:03:03.919 --> 00:03:04.630\n&gt;&gt; Yeah.\n\n71\n00:03:04.630 --> 00:03:07.320\n[LAUGH]\n&gt;&gt; I'm gonna say it monitors performance.\n\n72\n00:03:07.320 --> 00:03:08.030\nBut let's find out.\n\n73\n00:03:08.030 --> 00:03:09.028\n&gt;&gt; No it's email.\n\n74\n00:03:09.028 --> 00:03:12.100\n[LAUGH]\n&gt;&gt; You can surf the web.\n\n75\n00:03:12.100 --> 00:03:12.890\n&gt;&gt; That's right.\n&gt;&gt; Yeah, so\n\n76\n00:03:12.890 --> 00:03:17.520\nperformance monitor is a great utility,\nthere's actually a lot to it.\n\n77\n00:03:17.520 --> 00:03:21.020\nIt's pretty neat so I'm gonna walk you\nthrough some of the different things that\n\n78\n00:03:21.020 --> 00:03:23.120\nwe can do with performance monitoring.\n\n79\n00:03:23.120 --> 00:03:26.160\nAnd the first one is\nmonitoring performance, right?\n\n80\n00:03:26.160 --> 00:03:27.070\nThen that's what it's called.\n\n81\n00:03:27.070 --> 00:03:29.800\nSo when you've first\nopened this tool up and\n\n82\n00:03:29.800 --> 00:03:35.090\nyou're on this performance node up here\nin the top corner, you get an overview\n\n83\n00:03:35.090 --> 00:03:39.490\nof the performance monitor itself and you\nnotice I have a system summary down here.\n\n84\n00:03:39.490 --> 00:03:44.150\nSo this is the server SVR01 and I can\nsee memory, network, physical disk, and\n\n85\n00:03:44.150 --> 00:03:45.180\nprocessor.\n\n86\n00:03:45.180 --> 00:03:49.770\nAnd just a reference there, those are the\nbig four that we'll talk about anytime we\n\n87\n00:03:49.770 --> 00:03:53.480\ntalk about monitoring processor,\nmemory, disk, and network.\n\n88\n00:03:53.480 --> 00:03:54.950\nThose are my big four subsystems.\n\n89\n00:03:54.950 --> 00:03:58.670\nThere's many other things that I can\nmonitor, but those at a minimum,\n\n90\n00:03:58.670 --> 00:04:02.590\nare typically what we monitor on any\nserver, no matter what it's doing.\n\n91\n00:04:02.590 --> 00:04:05.130\nProcessor, memory, disk, and network.\n\n92\n00:04:05.130 --> 00:04:10.340\nNow if that server's doing DNS in\naddition to what I've just said, we\n\n93\n00:04:10.340 --> 00:04:15.630\nmight also monitor queries per second and\nrejected queries, and things like that.\n\n94\n00:04:15.630 --> 00:04:20.940\nBut at the basic we always monitor perform\nor processor memory, network and disk.\n\n95\n00:04:20.940 --> 00:04:23.990\n&gt;&gt; Well Mike, it's a really good\nstarting spot I would think because\n\n96\n00:04:23.990 --> 00:04:27.270\nif network traffic seems high,\nokay why is network traffic high?\n\n97\n00:04:27.270 --> 00:04:31.090\nSee the network is being utilized\nmore than normally and now I can see,\n\n98\n00:04:31.090 --> 00:04:34.100\nthere is a ton of DNS traffic,\nnow let's move into DNS.\n\n99\n00:04:34.100 --> 00:04:36.570\nLet's put a DNS monitor on there and\nsee what's happening.\n\n100\n00:04:36.570 --> 00:04:39.020\nIt helps us filter down and\nfind the problem, correct?\n\n101\n00:04:39.020 --> 00:04:40.640\n&gt;&gt; That's exactly right.\n\n102\n00:04:40.640 --> 00:04:43.450\nAll right, so what I'm gonna do here,\nso this, again, I don't really set this\n\n103\n00:04:43.450 --> 00:04:47.480\ninformation this is done by performance\nmonitor, I get some basic info.\n\n104\n00:04:47.480 --> 00:04:50.898\nWhere it starts getting a little\nmore interesting is when we go to\n\n105\n00:04:50.898 --> 00:04:54.461\nthe performance monitor node,\nover here in my navigation three.\n\n106\n00:04:54.461 --> 00:04:57.741\nAnd what you'll see is I get\nthis nice little graphical view,\n\n107\n00:04:57.741 --> 00:05:01.860\ngot this red line that's slowly\nworking it's way across the screen.\n\n108\n00:05:01.860 --> 00:05:05.400\nAnd I can see a little bit\nof a graph line down there,\n\n109\n00:05:05.400 --> 00:05:09.280\nas I click on things I might be able\nto get that to spike up a little bit so\n\n110\n00:05:09.280 --> 00:05:10.900\nwe can see a little bit of activity.\n\n111\n00:05:10.900 --> 00:05:14.600\nWhat this is doing is it's actually\nmonitoring % Processor Time.\n\n112\n00:05:14.600 --> 00:05:16.210\nAnd that's just the default.\n\n113\n00:05:16.210 --> 00:05:20.380\nWhen you first open up this tool,\nthat counter is added for you by default.\n\n114\n00:05:20.380 --> 00:05:22.750\nSo there's something there to look at.\n\n115\n00:05:22.750 --> 00:05:25.290\nAll right,\nwhat I want you to know about this screen,\n\n116\n00:05:25.290 --> 00:05:28.200\nis that this is what we\ncall real-time monitoring.\n\n117\n00:05:28.200 --> 00:05:29.960\nOn the exam, and in the real world,\n\n118\n00:05:29.960 --> 00:05:34.350\nit's important that we understand the\ndifference between real-time monitoring\n\n119\n00:05:34.350 --> 00:05:36.185\nand what we could call\nhistorical monitoring.\n\n120\n00:05:36.185 --> 00:05:40.820\nReal-time monitoring means I'm looking at\nwhat's going on in the machine right now,\n\n121\n00:05:40.820 --> 00:05:42.150\nas we speak.\n\n122\n00:05:42.150 --> 00:05:43.860\nI'm not saving this information.\n\n123\n00:05:43.860 --> 00:05:47.100\nWhen this red line gets to\nthe end of this white area,\n\n124\n00:05:47.100 --> 00:05:49.400\nit's gonna loop back around and\nstart at the beginning.\n\n125\n00:05:49.400 --> 00:05:54.270\nAnd, it's gonna erase the old data,\nreplacing it with new data as it goes.\n\n126\n00:05:54.270 --> 00:05:55.990\nThat's what I mean by\nreal-time monitoring.\n\n127\n00:05:55.990 --> 00:05:59.930\nWe're seeing what's going on right\nnow on the system as we speak.\n\n128\n00:05:59.930 --> 00:06:00.940\nWe're not trying to save it.\n\n129\n00:06:00.940 --> 00:06:03.130\nWe're not logging it,\nor anything like that.\n\n130\n00:06:03.130 --> 00:06:05.610\nAnd sometimes that\ninformation is very useful.\n\n131\n00:06:05.610 --> 00:06:08.950\nUsers are calling me up saying,\nhey the server is really slow right now.\n\n132\n00:06:08.950 --> 00:06:11.980\nI can pull this up,\nload up some counters and\n\n133\n00:06:11.980 --> 00:06:14.360\nsee what's going on in the system,\nright now.\n\n134\n00:06:14.360 --> 00:06:16.190\nWhy my users are complaining?\n\n135\n00:06:16.190 --> 00:06:17.570\nAll right.\n\n136\n00:06:17.570 --> 00:06:20.860\nSo we start with that one counter, but\nwe're not limited to that one counter,\n\n137\n00:06:20.860 --> 00:06:21.730\nobviously.\n\n138\n00:06:21.730 --> 00:06:26.570\nSo very important we understand, how we go\nabout it to adding additional counters.\n\n139\n00:06:26.570 --> 00:06:30.060\nAnd that's done with these little\nicons right across the top here.\n\n140\n00:06:30.060 --> 00:06:34.720\nI've got this + sign, if I hover over it,\nmaybe not while I'm zoomed in.\n\n141\n00:06:34.720 --> 00:06:36.690\nIt might give you a tool tip, maybe not.\n\n142\n00:06:36.690 --> 00:06:38.780\nThe plus sign is to add counters.\n\n143\n00:06:38.780 --> 00:06:43.920\nThe little red X is to remove counters and\nthe highlighter is to highlight counters.\n\n144\n00:06:43.920 --> 00:06:46.580\nAnd I'll show you what I\nmean here in just a second.\n\n145\n00:06:46.580 --> 00:06:49.880\nSo if I wanna add counters,\nI'm gonna click on the green plus sign.\n\n146\n00:06:51.170 --> 00:06:54.330\nAnd that opens up this\nAdd Counters dialog box.\n\n147\n00:06:54.330 --> 00:06:56.050\nAnd a couple things\nwe'll point out in here.\n\n148\n00:06:56.050 --> 00:06:58.776\nThe first one is,\nSelect counters from computer.\n\n149\n00:06:58.776 --> 00:07:01.930\nAnd you'll notice it says, Local computer.\n\n150\n00:07:01.930 --> 00:07:04.300\nWhich is good,\nthat's the server I wanna monitor.\n\n151\n00:07:04.300 --> 00:07:07.950\nBut what you should take away\nfrom that is, wait a second.\n\n152\n00:07:07.950 --> 00:07:12.450\nDoes this mean I can monitor other\nservers as well besides this one?\n\n153\n00:07:12.450 --> 00:07:15.210\nYes, you can, you can monitor remotely.\n\n154\n00:07:15.210 --> 00:07:19.740\nAnd sometimes that's important,\nbecause as we monitor we've gotta record.\n\n155\n00:07:19.740 --> 00:07:22.600\nDepending on what we're doing\nwe're gonna read these counters,\n\n156\n00:07:22.600 --> 00:07:24.850\nwe might be writing these counters down.\n\n157\n00:07:24.850 --> 00:07:28.890\nAnd the active monitoring can actually\naffect the performance of the server.\n\n158\n00:07:28.890 --> 00:07:31.250\nSo our numbers get skewed a little bit.\n\n159\n00:07:31.250 --> 00:07:32.980\nNow monitor remotely,\n\n160\n00:07:32.980 --> 00:07:37.400\nmaybe now the act of monitoring\ndoesn't effect that server as much.\n\n161\n00:07:37.400 --> 00:07:39.590\nMaybe I just wanna do this\nfrom a centralized location.\n\n162\n00:07:39.590 --> 00:07:43.360\nI wanna monitor four different DNS\nservers, same counters on all of them.\n\n163\n00:07:43.360 --> 00:07:44.280\nI can use this.\n\n164\n00:07:44.280 --> 00:07:47.610\nI can switch which computer\nI'm actually monitoring.\n\n165\n00:07:47.610 --> 00:07:48.720\nNow that does have to be set up.\n\n166\n00:07:48.720 --> 00:07:52.442\nWe've gotta make sure that we've got the\nappropriate holes in the firewall things\n\n167\n00:07:52.442 --> 00:07:55.165\nlike that, we won't go into\nthat in this particular class.\n\n168\n00:07:55.165 --> 00:07:59.381\nSo we got the select counters from\nwe'll leave it on local computer and\n\n169\n00:07:59.381 --> 00:08:03.683\nthen below that, I have my list of\ncounters that you might think, wow.\n\n170\n00:08:03.683 --> 00:08:05.822\nThat's a really extensive list.\n\n171\n00:08:05.822 --> 00:08:07.136\n&gt;&gt; They leave no stone unturned, Michael.\n\n172\n00:08:07.136 --> 00:08:09.180\n&gt;&gt; Yeah, and here's the thing.\n\n173\n00:08:09.180 --> 00:08:10.760\nThose aren't counters.\n\n174\n00:08:10.760 --> 00:08:12.790\nThose are actually categories of counters.\n\n175\n00:08:12.790 --> 00:08:14.290\nUnder each one of those,\n\n176\n00:08:14.290 --> 00:08:19.710\nlet me expand out processor, you're\ngonna see a few more counters exist.\n\n177\n00:08:19.710 --> 00:08:25.070\nSo each one of these I can expand out and\nget the actual counters.\n\n178\n00:08:25.070 --> 00:08:30.090\nSo there are literally hundreds\nof counters that we can add\n\n179\n00:08:30.090 --> 00:08:33.010\nwhen we get into this console, all right.\n\n180\n00:08:33.010 --> 00:08:34.220\nSo we want to a counter.\n\n181\n00:08:34.220 --> 00:08:36.280\nThe one, I'll add it again.\n\n182\n00:08:36.280 --> 00:08:38.430\nI'm gonna go to processor.\n\n183\n00:08:38.430 --> 00:08:39.750\nAnd what you do is you expand out.\n\n184\n00:08:39.750 --> 00:08:40.590\nLet me zoom in a little bit.\n\n185\n00:08:40.590 --> 00:08:42.420\nYou expand out the category.\n\n186\n00:08:42.420 --> 00:08:44.460\nAnd then you find the particular\ncounter that you want.\n\n187\n00:08:44.460 --> 00:08:47.620\nLike, I might wanna look for\npercent processor time.\n\n188\n00:08:47.620 --> 00:08:50.870\nThat's a pretty standard one that\nwe monitor when we're monitoring\n\n189\n00:08:50.870 --> 00:08:52.270\nprocessor performance.\n\n190\n00:08:52.270 --> 00:08:56.260\nReally gives you an idea of\nhow busy the processor is.\n\n191\n00:08:56.260 --> 00:09:00.990\nWhen I select my counter, I might or\nmight not see instances of selected\n\n192\n00:09:00.990 --> 00:09:05.500\nobjects underneath there depending\non what I've clicked on, right?\n\n193\n00:09:05.500 --> 00:09:10.050\nWhat this is,\nwhat if I have multiple processors, right?\n\n194\n00:09:10.050 --> 00:09:10.930\nNow what do I do?\n\n195\n00:09:10.930 --> 00:09:14.760\nWell, I can come down below here and I can\nsay, give me a total and that's just gonna\n\n196\n00:09:14.760 --> 00:09:19.920\ntake the counters for all processors,\nadd them up, and give me a total.\n\n197\n00:09:19.920 --> 00:09:22.110\nOr I can do all instances.\n\n198\n00:09:22.110 --> 00:09:25.910\nSo let's say we had a four core CPU,\nso you got 0, 1, 2, and 3.\n\n199\n00:09:25.910 --> 00:09:30.470\nIf I do all instances, whereas a total\nwould add them all up and show me\n\n200\n00:09:30.470 --> 00:09:35.740\none result, all instances would show me\neach one of the processors individually.\n\n201\n00:09:35.740 --> 00:09:40.985\nBut it saves me from having to add core 0,\ncore 1, core 2, core 3.\n\n202\n00:09:40.985 --> 00:09:44.150\nI can say I want them all, but\nI don't want you to total them up.\n\n203\n00:09:44.150 --> 00:09:49.210\nThat's what all instances does and then\nthe zeros for my first core, my processor,\n\n204\n00:09:49.210 --> 00:09:52.750\nif I have multiple processors they'd\nbe listed here as 0, 1, 2, 3.\n\n205\n00:09:52.750 --> 00:09:54.840\nSo you might want to\nmonitor a specific core.\n\n206\n00:09:54.840 --> 00:09:58.300\nMaybe you've got an application that's\ncoded to use a particular core and\n\n207\n00:09:58.300 --> 00:09:59.930\nthat's the one you want to monitor.\n\n208\n00:09:59.930 --> 00:10:02.020\nYou might want to monitor\nall cores individually.\n\n209\n00:10:02.020 --> 00:10:04.740\nYou might want to get\na summary information.\n\n210\n00:10:04.740 --> 00:10:05.990\nSo that's what that is for.\n\n211\n00:10:05.990 --> 00:10:09.980\nOther things are not\ngonna have that ability.\n\n212\n00:10:09.980 --> 00:10:16.220\nLike if I go to memory for example,\nlet me go back up here to memory.\n\n213\n00:10:16.220 --> 00:10:20.360\nAnd we'll do something like,\nI don't know, committed bytes.\n\n214\n00:10:20.360 --> 00:10:25.620\nNotice there's no instances of, because\nthis is RAM, it's treated as a unit.\n\n215\n00:10:25.620 --> 00:10:29.310\nI can't monitor individual sticks\nof RAM or anything like that.\n\n216\n00:10:29.310 --> 00:10:34.940\nSo it depends on what you select, whether\nor not you see the instances down there.\n\n217\n00:10:34.940 --> 00:10:36.270\nSo let me go back to processor.\n\n218\n00:10:38.150 --> 00:10:40.310\nAnd they're alphabetical Mike,\nthere we go.\n\n219\n00:10:40.310 --> 00:10:42.320\nProcessor, percent processor time.\n\n220\n00:10:42.320 --> 00:10:44.765\nI just want to do a total, and\nthen I'm going to click add.\n\n221\n00:10:44.765 --> 00:10:49.262\nThat's going to move that counter over to\nthe right hand side letting me know that\n\n222\n00:10:49.262 --> 00:10:54.930\nis now going to be part of my collector\nset or excuse me, my performance monitor.\n\n223\n00:10:54.930 --> 00:10:57.660\nLets do the big four, so we got processor.\n\n224\n00:10:57.660 --> 00:11:03.848\nNext thing we need is memory, so\nwe'll jump back up here to memory and\n\n225\n00:11:03.848 --> 00:11:11.550\nlet's do available megabytes,\nwe'll go ahead and add that one.\n\n226\n00:11:13.090 --> 00:11:17.610\nAnd you'll notice that I like to collapse\nthese up after I've picked mine, because\n\n227\n00:11:17.610 --> 00:11:22.480\nthe list is so long already, scrolling\nthrough there gets a little bit confusing.\n\n228\n00:11:22.480 --> 00:11:29.070\nFor disk, I'm going to go down to,\nhey wait Mike you're going the wrong way.\n\n229\n00:11:30.290 --> 00:11:33.370\nNo I'm not, we're going to\nbe looking at physical disk.\n\n230\n00:11:33.370 --> 00:11:37.770\nNow, with disk you've got physical\ndisk and you have virtual disks.\n\n231\n00:11:37.770 --> 00:11:41.390\nBecause we get our volumes,\nwe can monitor individual volumes, or\n\n232\n00:11:41.390 --> 00:11:45.220\nare we looking at the physical hard\ndrive itself that we wanna monitor.\n\n233\n00:11:45.220 --> 00:11:51.380\nAnd a good one to monitor for disks,\nis going to be average disk queue length.\n\n234\n00:11:52.920 --> 00:11:54.710\nI almost scrolled right past it.\n\n235\n00:11:54.710 --> 00:11:57.810\nAnd, again, if I had more than one\nhard drive, do I wanna do individual,\n\n236\n00:11:57.810 --> 00:11:59.320\ndo I wanna do a total?\n\n237\n00:11:59.320 --> 00:12:03.321\nAnd we'll click add for that one,\nthat adds it to my list,\n\n238\n00:12:03.321 --> 00:12:06.841\naverage disk queue length,\nand then for network.\n\n239\n00:12:09.468 --> 00:12:16.844\nLet's do network adapter, and\nwe'll do bytes total per second.\n\n240\n00:12:16.844 --> 00:12:20.391\nYou can see I've got all my different\nnetwork adapters where I can choose\n\n241\n00:12:20.391 --> 00:12:23.822\nto monitor all instances and\ntotal them up, and I'll just go ahead and\n\n242\n00:12:23.822 --> 00:12:24.773\nadd them in there.\n\n243\n00:12:24.773 --> 00:12:25.313\nRight.\n\n244\n00:12:25.313 --> 00:12:28.571\nSo there's my four, and\nI picked these four for\n\n245\n00:12:28.571 --> 00:12:32.162\na reason, hint, hint,\nexam hint, hint, right.\n\n246\n00:12:32.162 --> 00:12:35.480\nWhen they talk about your standard\ncounters for your processor,\n\n247\n00:12:35.480 --> 00:12:37.260\npercent processor time.\n\n248\n00:12:37.260 --> 00:12:40.120\nThere's a lot of others I can have\ndepending on what I need to see.\n\n249\n00:12:40.120 --> 00:12:43.120\nBut at least we want a monitor\npercent processor time.\n\n250\n00:12:43.120 --> 00:12:47.860\nFor network, your basic counter is\ngonna the total bytes per second.\n\n251\n00:12:47.860 --> 00:12:50.570\nYou can definitely monitor\ninbound versus outbound.\n\n252\n00:12:50.570 --> 00:12:53.470\nWe can do different protocols and\nthings like that.\n\n253\n00:12:53.470 --> 00:12:56.500\nBut at the minimum you want to\nlook at total bytes going in and\n\n254\n00:12:56.500 --> 00:12:57.590\nout of that network adapter.\n\n255\n00:12:57.590 --> 00:13:00.900\nFor memory, available megabytes is\ntypically a pretty standard one.\n\n256\n00:13:00.900 --> 00:13:03.860\nFor physical disk,\naverage disk queue length\n\n257\n00:13:03.860 --> 00:13:06.700\ngives you a pretty good indication\nof how busy that drive is.\n\n258\n00:13:06.700 --> 00:13:10.090\nAgain, we can look at writes per second,\nreads per second,\n\n259\n00:13:10.090 --> 00:13:12.420\nand all kinds of other information.\n\n260\n00:13:12.420 --> 00:13:17.160\nBut if Microsoft asks you what are your\nbasic counters that you need to monitor?\n\n261\n00:13:17.160 --> 00:13:20.060\nThese are the ones we\nshould be looking at.\n\n262\n00:13:20.060 --> 00:13:21.920\nNow that brings me to another point.\n\n263\n00:13:21.920 --> 00:13:24.400\nWhat the heck is average\ndisk queue length?\n\n264\n00:13:24.400 --> 00:13:25.780\nDaniel, any idea there?\n\n265\n00:13:25.780 --> 00:13:28.985\n&gt;&gt; It's the disk queue length\nthat you've averaged out.\n\n266\n00:13:28.985 --> 00:13:30.260\n&gt;&gt; [LAUGH]\n&gt;&gt; Exactly, so\n\n267\n00:13:30.260 --> 00:13:31.232\nI don't need to tell you that.\n\n268\n00:13:31.232 --> 00:13:31.812\n[LAUGH]\n&gt;&gt; See I got it.\n\n269\n00:13:31.812 --> 00:13:32.420\nSe I'm good to go man.\n\n270\n00:13:32.420 --> 00:13:35.430\n&gt;&gt; One of the great things\nabout this tool, and\n\n271\n00:13:35.430 --> 00:13:38.710\nthere are counters that I have\nno idea what they monitor.\n\n272\n00:13:38.710 --> 00:13:39.990\nPercent C3 time.\n\n273\n00:13:39.990 --> 00:13:41.270\nI don't know what that is.\n\n274\n00:13:41.270 --> 00:13:42.610\nAverage disk queue length.\n\n275\n00:13:42.610 --> 00:13:43.520\nWhat the heck is that?\n\n276\n00:13:43.520 --> 00:13:46.320\nI could tell you, but let me show you.\n\n277\n00:13:46.320 --> 00:13:51.126\nCool thing about this tool is I\ncan go average disk queue length,\n\n278\n00:13:51.126 --> 00:13:53.390\nshow description.\n\n279\n00:13:53.390 --> 00:13:56.800\nAnd then down here at the bottom I\nget a handy little description about\n\n280\n00:13:56.800 --> 00:13:57.980\nwhat that is.\n\n281\n00:13:57.980 --> 00:14:00.570\nThat average disk queue length is the,\n\n282\n00:14:00.570 --> 00:14:06.640\nit's basically the queue is who's in\nline to write or read from the drive.\n\n283\n00:14:06.640 --> 00:14:08.840\nSo saying how long is that\nwaiting list on average,\n\n284\n00:14:08.840 --> 00:14:11.580\nhow many things are waiting\nto access the drive?\n\n285\n00:14:11.580 --> 00:14:14.700\nAnd the old rule of thumb is\nthe number of spindles plus one.\n\n286\n00:14:14.700 --> 00:14:18.020\nSo if you have three\nspindles in your RAID array,\n\n287\n00:14:18.020 --> 00:14:21.480\nthen your average disk queue length\nshould be somewhere around four for that.\n\n288\n00:14:21.480 --> 00:14:24.270\nIt's gonna occasionally spike over,\nsometimes it might be under, but\n\n289\n00:14:24.270 --> 00:14:26.040\nyou want it to stay right around there.\n\n290\n00:14:26.040 --> 00:14:28.170\nNow I don't know what they're doing\nwith solid state drives cuz we don't\n\n291\n00:14:28.170 --> 00:14:30.730\nhave spindles, so\nthat's gonna be a little different.\n\n292\n00:14:30.730 --> 00:14:34.090\nBut the old rule of thumb was\naverage disk queue length should\n\n293\n00:14:34.090 --> 00:14:36.060\nnumber of spindles plus one.\n\n294\n00:14:36.060 --> 00:14:37.590\n&gt;&gt; What is the time that they use, Frank?\n\n295\n00:14:37.590 --> 00:14:39.470\n&gt;&gt; What's that?\n&gt;&gt; They say it's an average amount\n\n296\n00:14:39.470 --> 00:14:41.120\nof time, what's the, four what?\n\n297\n00:14:41.120 --> 00:14:43.430\n&gt;&gt; This one here is just\nthe average queue length,-\n\n298\n00:14:43.430 --> 00:14:44.260\n&gt;&gt; Length, that's right.\n\n299\n00:14:44.260 --> 00:14:45.280\n&gt;&gt; instead of time.\n\n300\n00:14:45.280 --> 00:14:46.360\nSo the number in that list.\n\n301\n00:14:46.360 --> 00:14:48.010\n&gt;&gt; So four-\n&gt;&gt; Four things waiting in line.\n\n302\n00:14:48.010 --> 00:14:48.630\n&gt;&gt; Gotcha.\n&gt;&gt; So\n\n303\n00:14:48.630 --> 00:14:51.840\nif that list is backed up to like nine or\nten things waiting to read or\n\n304\n00:14:51.840 --> 00:14:55.450\nwrite from the drive, I might want to take\na look at increasing number of spindles.\n\n305\n00:14:55.450 --> 00:14:57.240\nRewrite has got going.\n\n306\n00:14:57.240 --> 00:14:57.890\nSomething like that.\n\n307\n00:14:57.890 --> 00:15:00.400\nSomething is slowing us down.\n\n308\n00:15:00.400 --> 00:15:01.150\nI am going to click ok.\n\n309\n00:15:01.150 --> 00:15:04.540\nThis is probably going to throw me\na little bit of an error because I have\n\n310\n00:15:04.540 --> 00:15:10.330\nchose to add the percent processor time\nwhich was already added by the default.\n\n311\n00:15:10.330 --> 00:15:11.490\nSo we will just ignore the error.\n\n312\n00:15:11.490 --> 00:15:13.010\nI am going to click ok.\n\n313\n00:15:13.010 --> 00:15:14.630\nAnd it didn't ask me, so we're good to go.\n\n314\n00:15:14.630 --> 00:15:20.390\nAll right, and there we go, we now\nhave a selection of counters listed,\n\n315\n00:15:20.390 --> 00:15:22.900\nand let's see if I can make\nthis guy a little bit busy.\n\n316\n00:15:22.900 --> 00:15:27.520\nI'll open up File Explorer,\nmaybe do some hard drive activity.\n\n317\n00:15:27.520 --> 00:15:31.890\nWe might do Internet Explorer, see if I\ncan get some network traffic going here.\n\n318\n00:15:33.790 --> 00:15:37.480\nDo something real quick,\nthere, we'll get that going.\n\n319\n00:15:37.480 --> 00:15:41.090\nHeck, just open up the menu on Windows\npretty much causes the processor to spike,\n\n320\n00:15:41.090 --> 00:15:42.270\nso hey.\n\n321\n00:15:42.270 --> 00:15:49.000\nAnd there I can see some activity, but\nagain I can't save this information.\n\n322\n00:15:49.000 --> 00:15:52.680\nThis here is real time, so\nI can look at it now, and\n\n323\n00:15:52.680 --> 00:15:56.380\nthen once it's gone,\nthat information is gone, all right.\n\n324\n00:15:56.380 --> 00:15:58.554\nSo we have seen how to add counters.\n\n325\n00:15:58.554 --> 00:16:02.197\nThe next thing I wanna show you\nis how to use the highlighter,\n\n326\n00:16:02.197 --> 00:16:05.423\nbecause sometimes as we have\nhere even when I zoom in.\n\n327\n00:16:05.423 --> 00:16:08.344\nYou see this blue and\ngreen line run right next to each other.\n\n328\n00:16:08.344 --> 00:16:12.534\nI know there's other counters that I must\nnot be seeing, cuz I only see two lines,\n\n329\n00:16:12.534 --> 00:16:15.130\nand I have eight or so counters added.\n\n330\n00:16:15.130 --> 00:16:16.910\nThat's where the highlighter comes in.\n\n331\n00:16:16.910 --> 00:16:21.630\nThe highlighter, when I turn it on, you\nnotice one of the lines gets really dark.\n\n332\n00:16:21.630 --> 00:16:25.230\nIt's whichever one you have selected,\nand see available megabytes.\n\n333\n00:16:25.230 --> 00:16:27.800\nThat's a really good one to use\nthe highlighter, cuz I never saw it.\n\n334\n00:16:27.800 --> 00:16:30.920\nNow I know, look,\nit's buried up across the top there,\n\n335\n00:16:32.450 --> 00:16:35.880\nby its total per second,\nit's similar down here across the bottom,\n\n336\n00:16:35.880 --> 00:16:38.910\nsince we're not doing\na lot of network traffic.\n\n337\n00:16:38.910 --> 00:16:42.290\nSo, the highlighter just\nallows me to bring out, or\n\n338\n00:16:42.290 --> 00:16:46.460\nmake bold one of those counters\nthat we're trying to monitor.\n\n339\n00:16:46.460 --> 00:16:50.520\nWe'd also have some numeric\ninformation listed here across the top\n\n340\n00:16:50.520 --> 00:16:52.180\nof those counters.\n\n341\n00:16:52.180 --> 00:16:54.279\nAll right,\nI'm gonna turn the highlighter off.\n\n342\n00:16:54.279 --> 00:16:55.626\nYou can pause this.\n\n343\n00:16:55.626 --> 00:16:58.426\nSo, notice I can freeze it in time there,\nand\n\n344\n00:16:58.426 --> 00:17:02.600\nI can kinda try to jump\nforward a little bit in time.\n\n345\n00:17:02.600 --> 00:17:04.936\nBut that's about all I get,\nagain, I can't,\n\n346\n00:17:04.936 --> 00:17:07.800\nI don't save the information from here.\n\n347\n00:17:07.800 --> 00:17:12.450\nAnother good thing to know about this one\nis the views that I have, this is default,\n\n348\n00:17:12.450 --> 00:17:14.260\nwhich is the line view.\n\n349\n00:17:14.260 --> 00:17:18.710\nI can also do a histogram bar view,\nwhich is moving column charts,\n\n350\n00:17:18.710 --> 00:17:20.840\nand these columns are actually\nstart going up and\n\n351\n00:17:20.840 --> 00:17:25.350\ndown, you'll them kinda spike\na little bit and spike down as we go.\n\n352\n00:17:25.350 --> 00:17:27.860\nSo, that's my bar chart or histogram bar.\n\n353\n00:17:27.860 --> 00:17:29.435\nThen there's also Report.\n\n354\n00:17:29.435 --> 00:17:33.060\n[COUGH] Excuse me, and\nsometimes the report is the way to go.\n\n355\n00:17:33.060 --> 00:17:38.000\nIf you've got a lot of numbers, sometimes\nit's difficult to read that graph.\n\n356\n00:17:38.000 --> 00:17:38.920\nSo, I can come over here, and\n\n357\n00:17:38.920 --> 00:17:42.980\nI can see the actual values,\nrather than a graphical view.\n\n358\n00:17:42.980 --> 00:17:45.540\nYou can also,\nI'm gonna go back to the line view,\n\n359\n00:17:45.540 --> 00:17:50.110\nif your chart is too complicated,\nyou can hide some of the counters.\n\n360\n00:17:50.110 --> 00:17:51.320\nSo, as I uncheck these,\n\n361\n00:17:51.320 --> 00:17:56.890\nyou'll see they're actually starting\nto disappear from my view, right?\n\n362\n00:17:56.890 --> 00:18:01.750\nSo, it allowed me to focus in on one\nparticular counter if I needed to.\n\n363\n00:18:01.750 --> 00:18:05.026\nSo, a couple things we can do,\nwe can change the view,\n\n364\n00:18:05.026 --> 00:18:09.445\nwe can highlight one of the counters,\nwe can hide some of those counters,\n\n365\n00:18:09.445 --> 00:18:13.538\nyou can also go in and change\nthe scale on this counters, all right?\n\n366\n00:18:13.538 --> 00:18:18.020\nSo, if we go in and pull up\nthe properties for particular counter,\n\n367\n00:18:18.020 --> 00:18:21.150\nwe can see the scale is currently one.\n\n368\n00:18:21.150 --> 00:18:25.920\nAnd that's looking at, cuz you only\nhave one scale, one y-axis over there.\n\n369\n00:18:25.920 --> 00:18:30.530\nSo, sometimes playing with those scales\nallows you to get all your numbers to play\n\n370\n00:18:30.530 --> 00:18:36.368\nnicely on the same chart, because while\nmy processor might range from 0 to 100,\n\n371\n00:18:36.368 --> 00:18:39.620\nmy length only ranges from 0 to maybe 10.\n\n372\n00:18:39.620 --> 00:18:41.690\nThat's gonna be right across the bottom.\n\n373\n00:18:41.690 --> 00:18:43.660\nSo, even when it's really high at 10,\n\n374\n00:18:43.660 --> 00:18:47.310\nit's gonna look like it's right at\nthe bottom, and maybe not catch my eye.\n\n375\n00:18:47.310 --> 00:18:52.400\nI can change that scale, so that 1 through\n10 takes up that whole screen, right?\n\n376\n00:18:52.400 --> 00:18:55.400\nAnd makes it look a little better to me,\nmakes that stand out.\n\n377\n00:18:55.400 --> 00:18:59.000\nSo, a few different things we\ncan do with this guy here.\n\n378\n00:18:59.000 --> 00:19:02.600\nAll right, next, so\nthat's the performance monitor.\n\n379\n00:19:02.600 --> 00:19:05.540\nAgain, real time monitoring.\n\n380\n00:19:05.540 --> 00:19:08.840\nNow, all well and good,\ndoing real time monitoring.\n\n381\n00:19:08.840 --> 00:19:10.840\nBut I was talking to Daniel\nabout this before the show.\n\n382\n00:19:10.840 --> 00:19:14.460\nUnfortunately, I haven't found the job yet\nwhere they'll let me sit around and\n\n383\n00:19:14.460 --> 00:19:15.240\nwatch this all day long.\n\n384\n00:19:15.240 --> 00:19:17.084\n&gt;&gt; [LAUGH] You get paid to do that.\n\n385\n00:19:17.084 --> 00:19:18.312\n&gt;&gt; You get paid to do that.\n\n386\n00:19:18.312 --> 00:19:20.634\n&gt;&gt; It's a sweet-\n&gt;&gt; Yeah, it would be really nice.\n\n387\n00:19:20.634 --> 00:19:23.365\nBut as IT people,\nwe've got a million things to do.\n\n388\n00:19:23.365 --> 00:19:26.840\nMonitoring my service performance,\nit's just one of them.\n\n389\n00:19:26.840 --> 00:19:30.710\nAnd so, I really don't have the time\nto sit here and watch this, and\n\n390\n00:19:30.710 --> 00:19:35.560\nnotice that spike that keeps occurring\nright at 1:30 in the afternoon, or\n\n391\n00:19:35.560 --> 00:19:37.280\nwhatever the case may be.\n\n392\n00:19:37.280 --> 00:19:41.710\nSo, that's where my data collector\nsets and my alerts come into play.\n\n393\n00:19:41.710 --> 00:19:45.660\nAnd it really just builds off of\neverything we've already learned, right?\n\n394\n00:19:45.660 --> 00:19:50.340\nWe're just gonna take those same counters\nthat we can add, all of that stuff, and\n\n395\n00:19:50.340 --> 00:19:53.270\ninstead of displaying it\nin realtime on the screen,\n\n396\n00:19:53.270 --> 00:19:55.580\nwe're gonna shoot it out to a log file,\nright?\n\n397\n00:19:55.580 --> 00:19:59.800\nThat way I can capture information, and\nI can go back and look at it later.\n\n398\n00:19:59.800 --> 00:20:02.370\nThis is historical monitoring, right?\n\n399\n00:20:02.370 --> 00:20:05.340\nThis is where we're gonna save it,\nand we can go back and look at it.\n\n400\n00:20:05.340 --> 00:20:07.180\nThis is how we create baselines.\n\n401\n00:20:07.180 --> 00:20:09.310\nWe've talked about baselines\nin several episodes and\n\n402\n00:20:09.310 --> 00:20:12.740\nhow important they are, because we know\nthat performance is relative, right?\n\n403\n00:20:12.740 --> 00:20:17.040\nI can take the same laptop and\npass it around to ten different people.\n\n404\n00:20:17.040 --> 00:20:20.930\nSome of those people are gonna\nsay this laptop is smoking fast.\n\n405\n00:20:20.930 --> 00:20:23.090\nOther people are gonna say\nthis is a hunk of junk.\n\n406\n00:20:23.090 --> 00:20:25.370\nHow can you even do anything with this?\n\n407\n00:20:25.370 --> 00:20:27.520\nAnd it all depends on what\nyou're comparing it to.\n\n408\n00:20:27.520 --> 00:20:31.202\nAll right, Daniel takes my laptop and\ngoes, [SOUND], this thing is slow as heck,\n\n409\n00:20:31.202 --> 00:20:34.468\nbecause he's running the super\nhe's got it all decked out.\n\n410\n00:20:34.468 --> 00:20:37.842\nI give it to somebody else and\nthey say, wow, this is fast, and\n\n411\n00:20:37.842 --> 00:20:42.260\nthat's because they're using that\n1992 laptop that they've got, right?\n\n412\n00:20:42.260 --> 00:20:43.952\nIt's about this big-\n&gt;&gt; [LAUGH]\n\n413\n00:20:43.952 --> 00:20:45.120\n&gt;&gt; Yeah, exactly.\n\n414\n00:20:45.120 --> 00:20:48.030\nSo, performance and\nspeed is very relative.\n\n415\n00:20:48.030 --> 00:20:51.660\nWithout anything to compare to,\nthe numbers really don't mean anything.\n\n416\n00:20:51.660 --> 00:20:53.243\nSo, if we're gonna monitor performance,\n\n417\n00:20:53.243 --> 00:20:55.530\nI mean,\nwe're looking at this server right now.\n\n418\n00:20:55.530 --> 00:20:59.010\nI could say it seems like\nit's performing okay, but\n\n419\n00:20:59.010 --> 00:21:02.070\nI really don't know, because I don't\nhave anything to compare it to.\n\n420\n00:21:02.070 --> 00:21:03.940\nThat's where baselines come in.\n\n421\n00:21:03.940 --> 00:21:08.860\nWe capture performance information on\na server using my data collector sets, and\n\n422\n00:21:08.860 --> 00:21:10.180\nwe save it.\n\n423\n00:21:10.180 --> 00:21:14.030\nThen later, we can capture that\nsame information again, and\n\n424\n00:21:14.030 --> 00:21:15.860\nI can compare back to it.\n\n425\n00:21:15.860 --> 00:21:19.170\nAnd I can say, no,\nthe server's not running any slower,\n\n426\n00:21:19.170 --> 00:21:21.260\nit's running as it always has.\n\n427\n00:21:21.260 --> 00:21:23.960\nYou're just having a bad day,\nyou're being impatient, or\n\n428\n00:21:23.960 --> 00:21:28.000\nI can say, wow, adding those 100 users\nover the last six months has had a big\n\n429\n00:21:28.000 --> 00:21:30.560\nimpact on the performance on this server.\n\n430\n00:21:30.560 --> 00:21:32.830\nWe need to add more RAM or more disks or\n\n431\n00:21:32.830 --> 00:21:34.540\nmore processors or\nwhatever the case may be.\n\n432\n00:21:34.540 --> 00:21:38.660\nBut without that baseline, I couldn't\nmake those decisions, all right?\n\n433\n00:21:38.660 --> 00:21:40.460\nSo, baselines are very important.\n\n434\n00:21:40.460 --> 00:21:43.840\nThe other thing about historical\nmonitoring is we start to spot trends.\n\n435\n00:21:43.840 --> 00:21:49.340\nIf I monitor the same counters every week\non Friday over the course of several\n\n436\n00:21:49.340 --> 00:21:54.680\nmonths, then I can see that slow\ndownward spiral on that performance,\n\n437\n00:21:54.680 --> 00:21:57.410\nor that nice steady line\non that performance.\n\n438\n00:21:57.410 --> 00:22:00.730\nBut again, without that information,\nI can't make those decisions.\n\n439\n00:22:00.730 --> 00:22:04.990\nSo, let's take a look at how we can\ngo about doing a data collector set,\n\n440\n00:22:04.990 --> 00:22:07.540\nare we going to have\ntime with this episode?\n\n441\n00:22:07.540 --> 00:22:09.310\n&gt;&gt; It's up to you, Michael.\n\n442\n00:22:09.310 --> 00:22:13.210\nWe have five minutes left on our clock, we\ncan typically go over a little bit up to\n\n443\n00:22:13.210 --> 00:22:15.960\nabout ten minutes if you need that much\ntime, that should give you 15 minutes.\n\n444\n00:22:15.960 --> 00:22:19.220\n&gt;&gt; I say let's save that, because we'll\ntalk about the data collector sets and\n\n445\n00:22:19.220 --> 00:22:21.240\nwe'll do alerts at the same time.\n\n446\n00:22:21.240 --> 00:22:23.320\nSo, what else can I show you\nwith the performance monitor,\n\n447\n00:22:23.320 --> 00:22:24.680\nas far as the real time goes?\n\n448\n00:22:26.740 --> 00:22:27.640\nNothing really.\n\n449\n00:22:27.640 --> 00:22:28.470\n&gt;&gt; Kind of seeing it.\n\n450\n00:22:28.470 --> 00:22:32.370\n&gt;&gt; Yeah, I'm trying to think if there's\nanything else exciting up here.\n\n451\n00:22:32.370 --> 00:22:35.260\nThere is these two buttons over here,\npeople get confused,\n\n452\n00:22:35.260 --> 00:22:38.420\nthey might come in and click on that\nbutton and go, what is it doing?\n\n453\n00:22:38.420 --> 00:22:42.190\nWell, this is gonna allow me to\nopen up a captured file when\n\n454\n00:22:42.190 --> 00:22:43.580\nwe use our data collector sets.\n\n455\n00:22:43.580 --> 00:22:46.530\nThis is how I go back in and\nview those baselines.\n\n456\n00:22:46.530 --> 00:22:49.080\nI'll show you how to do that\nonce we create the baseline.\n\n457\n00:22:49.080 --> 00:22:52.000\nBut I think to keep that all together,\nI'd rather put that in its own episode.\n\n458\n00:22:52.000 --> 00:22:53.350\n&gt;&gt; Well, it sounds like a good idea, Mike.\n\n459\n00:22:53.350 --> 00:22:54.940\nWe do thank you for stopping by today and\n\n460\n00:22:54.940 --> 00:22:58.000\nshowing us at least how to get our\nfeet wet when it comes to performance,\n\n461\n00:22:58.000 --> 00:23:00.390\nwhen we see what it does,\nkind of how to operate with it.\n\n462\n00:23:00.390 --> 00:23:03.160\nWe're looking forward to seeing what we\ncan do with those data collector sets\n\n463\n00:23:03.160 --> 00:23:08.240\nin the future, start to see is there\na trend in performance, either up or down?\n\n464\n00:23:08.240 --> 00:23:11.690\nThat's really gonna be the meat and\npotatoes, the help that we're gonna have\n\n465\n00:23:11.690 --> 00:23:15.100\nin a corporate environment using\na Windows Server operating environment.\n\n466\n00:23:15.100 --> 00:23:17.980\nBeing said, Mike, we do thank you for\njoining us, and we thank our\n\n467\n00:23:17.980 --> 00:23:22.010\ngood audience out there for joining us as\nwell, we hope you'll be back for part two.\n\n468\n00:23:22.010 --> 00:23:24.780\nBut as for this episode,\nwe're gonna go ahead and sign off.\n\n469\n00:23:24.780 --> 00:23:27.536\nFor ITProTV, I've been your host,\nDaniel Lowrie.\n\n470\n00:23:27.536 --> 00:23:28.512\n&gt;&gt; And I'm Mike Rodrick.\n\n471\n00:23:28.512 --> 00:23:29.824\n&gt;&gt; We'll see you next time.\n\n472\n00:23:29.824 --> 00:23:38.072\n[MUSIC]\n\n473\n00:23:38.072 --> 00:23:40.920\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "190240570"
        },
        {
          "description": "In this episode, Daniel and Mike continue their explanation of the use of the Performance Monitor. They pick back up by looking at Collector Sets; demonstrating how they are used to gather specific data. They also configure alerts and workload monitoring through the Resource Monitor.",
          "length": "1867",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-2-2-monitor_server_installations_pt2-103116-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-2-2-monitor_server_installations_pt2-103116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70740/microsoft-server70740-6-2-2-monitor_server_installations_pt2-103116-1-sm.jpg",
          "title": "Monitor Server Installations Part 2",
          "transcript": "",
          "vimeoId": "194362479"
        }
      ],
      "title": "Maintain and monitor server environments"
    }
  ],
  "url": "mcsa-windows-server-2016-70740",
  "vLab": false
}
