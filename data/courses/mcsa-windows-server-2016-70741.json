{
  "description": "This show focuses on the second in a three exam series for Microsoft's MCSA Server 2016 and focuses on the networking features and functionality. It covers DNS, DHCP, and IPAM implementations, in addition to remote access solutions, such as VPN and Direct Access. It also covers DFS and BranchCache solutions, high performance network features and functionality, and implementation of software-defined networking (SDN) solutions, such as Hyper-V Network Virtualization (HNV) and Network Controller.",
  "descriptionMD": "This show focuses on the second in a three exam series for Microsoft's MCSA Server 2016 and focuses on the networking features and functionality. It covers DNS, DHCP, and IPAM implementations, in addition to remote access solutions, such as VPN and Direct Access. It also covers DFS and BranchCache solutions, high performance network features and functionality, and implementation of software-defined networking (SDN) solutions, such as Hyper-V Network Virtualization (HNV) and Network Controller.",
  "length": "76216",
  "name": "MCSA Windows Server 2016 - 70-741",
  "practiceExam": true,
  "subtitle": "Networking with Windows Server 2016",
  "tagUrl": "microsoft-technical",
  "topics": [
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Adam give a general overview of what to expect in the upcoming Server 2016 70-741 series. They cover topics like who is the intended audience, what the scope of the series will cover, and what are some specific topics that will be addressed.",
          "length": "175",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-0-0-overview-053117.00_00_03_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-0-0-overview-053117.00_00_03_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-0-0-overview-053117.00_00_03_15.Still001-sm.jpg",
          "title": "Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.025 --> 00:00:06.745\n[SOUND] In this segment we're gonna take\na look at what you can expect from our\n\n2\n00:00:06.745 --> 00:00:11.878\nupcoming 70-741 series\non MCSA server 2016.\n\n3\n00:00:11.878 --> 00:00:15.370\nAnd joining me in the studio is\nour good friend, Mr. Adam Gordon.\n\n4\n00:00:15.370 --> 00:00:18.760\nAdam, could you do us the immense\nfavor of explaining to us\n\n5\n00:00:18.760 --> 00:00:22.910\nsome of the general topics in which we're\ngonna encounter in our upcoming series?\n\n6\n00:00:22.910 --> 00:00:23.930\n&gt;&gt; Absolutely, so\n\n7\n00:00:23.930 --> 00:00:27.700\nit's an exciting conversation we're gonna\nhave around Server 2016 networking.\n\n8\n00:00:27.700 --> 00:00:30.430\nWe'll be talking about things\nlike implementing DNS,\n\n9\n00:00:30.430 --> 00:00:34.160\nDHDP, technology called IPAM,\nIP address management.\n\n10\n00:00:34.160 --> 00:00:36.840\nHow we integrate that with DHDP and DNS.\n\n11\n00:00:36.840 --> 00:00:41.680\nTake a look at implementing network\nconnectivity and routing remote access,\n\n12\n00:00:41.680 --> 00:00:44.180\nso take a look at remote\ncapabilities there.\n\n13\n00:00:44.180 --> 00:00:48.890\nTalk about core and distributed networking\nsolutions, software defined networking.\n\n14\n00:00:48.890 --> 00:00:53.750\nTake a look at VPNs and\ntunneling and IPv4 and\n\n15\n00:00:53.750 --> 00:00:58.680\nIPv6 and all other forums and\nmechanisms of networking, start to finish.\n\n16\n00:00:58.680 --> 00:01:00.910\nNew, old and current for Server 16.\n\n17\n00:01:00.910 --> 00:01:04.390\nWe got some new features, got some\noldies but goodies that come back, and\n\n18\n00:01:04.390 --> 00:01:07.420\nsome things that are not necessarily the\nsame way they're been in prior versions.\n\n19\n00:01:07.420 --> 00:01:08.830\nAnd we'll talk about those updates and\n\n20\n00:01:08.830 --> 00:01:12.270\nhow they affect you as you look to get\nready to take the 7741 exam, right,\n\n21\n00:01:12.270 --> 00:01:16.530\ncuz that's gonna be hopefully the goal of\none of the things you wanna do with this.\n\n22\n00:01:16.530 --> 00:01:21.050\nAnd it's going to give you credit for\nthe Windows Server 2016 MCSA.\n\n23\n00:01:21.050 --> 00:01:22.010\n&gt;&gt; Excellent stuff.\n\n24\n00:01:22.010 --> 00:01:26.770\nNow who would be the audience,\nthe intended audience for this series?\n\n25\n00:01:26.770 --> 00:01:29.372\n&gt;&gt; Well, certainly as I just mentioned,\nbut you may want to go out and\n\n26\n00:01:29.372 --> 00:01:32.080\ntake a look at gaming and\ngetting the MCSA credential on Server 16.\n\n27\n00:01:32.080 --> 00:01:34.920\nSo certainly those people\nthat are pursuing that.\n\n28\n00:01:34.920 --> 00:01:38.600\nAny IT professional that wants to learn\nmore about networking and prove and\n\n29\n00:01:38.600 --> 00:01:40.720\nvalidate those skills can take this exam,\n\n30\n00:01:40.720 --> 00:01:43.550\nwhether they're ultimately\npursuing the MCSA or not.\n\n31\n00:01:43.550 --> 00:01:47.700\nBut an IT professional, somebody who's\nhands on in the trenches day in,\n\n32\n00:01:47.700 --> 00:01:51.070\nday out with server administration\non the Server 16 platform\n\n33\n00:01:51.070 --> 00:01:52.820\nwill be a prime candidate for this exam.\n\n34\n00:01:52.820 --> 00:01:54.640\n&gt;&gt; Excellent.\nNow, you've mentioned the exam a couple of\n\n35\n00:01:54.640 --> 00:01:58.370\ntimes, maybe you could give us\na couple of details about that.\n\n36\n00:01:58.370 --> 00:02:01.430\n&gt;&gt; Well, so the exam, like all\nMicrosoft's exams will be interactive,\n\n37\n00:02:01.430 --> 00:02:04.440\nin a sense you have a series of\ndifferent kinds of questions,\n\n38\n00:02:04.440 --> 00:02:07.780\ntraditional multiple choice questions,\nscenario based questions,\n\n39\n00:02:07.780 --> 00:02:10.490\nthere may be interactive\nquestions of a variety of types.\n\n40\n00:02:10.490 --> 00:02:12.720\nYou may have drag and drops for instance.\n\n41\n00:02:12.720 --> 00:02:15.190\nYou may have hot spot\nquestions where you have to\n\n42\n00:02:15.190 --> 00:02:18.730\nselect something in a console shot or\nwhatever the case may be.\n\n43\n00:02:18.730 --> 00:02:22.070\nHey, what's wrong with this\nparticular console interface.\n\n44\n00:02:22.070 --> 00:02:24.500\nClick on the area, you know you\nusually put a little cross-hair or\n\n45\n00:02:24.500 --> 00:02:27.230\nsomething like that on the area\nthat you may want to change.\n\n46\n00:02:27.230 --> 00:02:32.240\nYou may be asked to go in to\nexamine a diagram of some kind and\n\n47\n00:02:32.240 --> 00:02:35.890\ndocument or diagnose a problem\nas a result of what you see.\n\n48\n00:02:35.890 --> 00:02:39.070\nThere's a variety of different ways that\nquestions can get asked today, and any or\n\n49\n00:02:39.070 --> 00:02:41.180\nall of those could potentially\nshow up on this exam.\n\n50\n00:02:41.180 --> 00:02:44.330\nThey do on many other,\nindeed most Microsoft exams these days.\n\n51\n00:02:44.330 --> 00:02:47.780\n&gt;&gt; All right, well Adam thank you for that\nand if that sounds like something that may\n\n52\n00:02:47.780 --> 00:02:51.977\nbe interesting to you, we look forward\nto seeing you in the upcoming series.\n\n53\n00:02:51.977 --> 00:02:53.707\n[SOUND]\n\n",
          "vimeoId": "219866598"
        },
        {
          "description": "In this episode, Wes and Mike explore the world of the Domain Naming System or DNS. They will look at the requirements for DNS to be installed. They will demonstrate installing DNS as well.",
          "length": "1723",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-1-install_and_configure_dns_servers-111516.00_28_28_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-1-install_and_configure_dns_servers-111516.00_28_28_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-1-install_and_configure_dns_servers-111516.00_28_28_24.Still001-sm.jpg",
          "title": "Install and Configure DNS Servers",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:03.516\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.516 --> 00:00:06.513\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.513 --> 00:00:08.268\n[MUSIC]\n\n4\n00:00:08.268 --> 00:00:12.103\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:12.103 --> 00:00:14.940\n&gt;&gt; Welcome back to another\nexciting episode here at ITProTV.\n\n6\n00:00:14.940 --> 00:00:18.811\nI'm your host, Wes Bryan, and in today's\nepisode we're coming back at you with more\n\n7\n00:00:18.811 --> 00:00:21.107\nof that networking with\nWindows Server 2016.\n\n8\n00:00:21.107 --> 00:00:24.674\nAnd we're looking at probably one of the\nmost important services you have in your\n\n9\n00:00:24.674 --> 00:00:28.400\nnetworks, across the backbone of the\nInternet when it comes to finding things.\n\n10\n00:00:28.400 --> 00:00:31.180\nJoining me for this very subject is\nnone other than Mr. Mike Rodrick.\n\n11\n00:00:31.180 --> 00:00:31.907\nMike, how you doing sir?\n\n12\n00:00:31.907 --> 00:00:35.995\n&gt;&gt; I'm doing fantastic, thanks for having\nme back, and you are right, you know, DNS,\n\n13\n00:00:35.995 --> 00:00:39.550\nDomain Name System, it's one of\nmy favorite topics to talk about.\n\n14\n00:00:39.550 --> 00:00:43.790\nI know I say that about half the topics\nI talk about, but DNS is, as Wes pointed\n\n15\n00:00:43.790 --> 00:00:48.910\nout, it's an extremely important service,\nreally makes everything we do possible.\n\n16\n00:00:48.910 --> 00:00:49.970\nAnd people are saying aw,\n\n17\n00:00:49.970 --> 00:00:53.700\nyou don't need DNS, I mean, you can\nconnect with IP addresses, right, Wes?\n\n18\n00:00:53.700 --> 00:00:56.475\n&gt;&gt; Yeah, absolutely,\ngood luck at that, though.\n\n19\n00:00:56.475 --> 00:00:56.980\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n20\n00:00:56.980 --> 00:00:57.515\n&gt;&gt; I mean,\n\n21\n00:00:57.515 --> 00:01:02.566\ntry to imagine remembering the IP address\nof every website you wanted to go to,\n\n22\n00:01:02.566 --> 00:01:07.460\nhow to get to your bank account, just at\nwork, how to get to all the different\n\n23\n00:01:07.460 --> 00:01:10.732\nservers, craziness.\nAnd if you think about the corporate\n\n24\n00:01:10.732 --> 00:01:14.738\nenvironment, if I need to get to a client\nmachine, which is typically using DHCP,\n\n25\n00:01:14.738 --> 00:01:16.934\nthat means their IP\naddresses are changing.\n\n26\n00:01:16.934 --> 00:01:17.900\nNow what do I do, right?\n\n27\n00:01:17.900 --> 00:01:19.578\nSo that's why DNS is so important.\n\n28\n00:01:19.578 --> 00:01:24.809\nDNS, Domain Name System, allows us to\nassign friendly names to IP addresses\n\n29\n00:01:24.809 --> 00:01:30.210\nthat get resolved through a process that\nwe're going to go over and talk about.\n\n30\n00:01:30.210 --> 00:01:34.860\nAnd at this point, when we're studying for\nthis exam, we really should be familiar\n\n31\n00:01:34.860 --> 00:01:40.843\nwith the concept of DNS and what it's\ndoing, so I'm gonna go over it briefly,\n\n32\n00:01:40.843 --> 00:01:46.940\ntalk about kind of the way it's set\nup to help us resolve external names.\n\n33\n00:01:46.940 --> 00:01:50.030\nBecause that's gonna help us\nunderstand what we're doing internally.\n\n34\n00:01:50.030 --> 00:01:54.390\nIf we don't know what's going on\nout there in the big bad world,\n\n35\n00:01:54.390 --> 00:01:57.185\nwhy do I need forwarders,\nwhy do I need conditional forwarders,\n\n36\n00:01:57.185 --> 00:01:59.510\nwhy do I need root hints,\nI don't understand this.\n\n37\n00:01:59.510 --> 00:02:01.530\nBecause you need to understand\nwhat's going on out there, right?\n\n38\n00:02:01.530 --> 00:02:04.950\nIt's not just your little DNS server\nproviding name resolution for\n\n39\n00:02:04.950 --> 00:02:07.660\nyour company's network,\nthere's a lot more to it.\n\n40\n00:02:07.660 --> 00:02:11.056\n&gt;&gt; You know, Mike, when you say DNS,\nI think of just this acronym, and\n\n41\n00:02:11.056 --> 00:02:13.000\nis this a place or something like this?\n\n42\n00:02:13.000 --> 00:02:16.194\nBut when it comes down to it, DNS, we're\ntalking about a lot of infrastructure,\n\n43\n00:02:16.194 --> 00:02:19.621\nright, a lot of infrastructure that, thank\ngoodness, most of it's already set up and\n\n44\n00:02:19.621 --> 00:02:21.920\nin place for us so\nwe can just take advantage of it, right?\n\n45\n00:02:21.920 --> 00:02:26.071\n&gt;&gt; Absolutely, absolutely, all we gotta\ndo is tie into it, and we're good to go.\n\n46\n00:02:26.071 --> 00:02:30.381\nI mean, I can't remember, I saw\na statistic a little while ago about how\n\n47\n00:02:30.381 --> 00:02:34.697\nmany names are actually registered\nper hour, and it's just phenomenal\n\n48\n00:02:34.697 --> 00:02:39.030\nthe growth of the Internet, and\neverybody's coming up with websites.\n\n49\n00:02:39.030 --> 00:02:40.850\nEvery business has to have a website,\n\n50\n00:02:40.850 --> 00:02:45.402\nnew businesses are popping up, new web\nfront-ends are popping up, it's amazing.\n\n51\n00:02:45.402 --> 00:02:48.230\nAll right, so let's get into it, cuz we\nreally need to get into what we need to\n\n52\n00:02:48.230 --> 00:02:51.790\nknow about Microsoft's DNS for the exam.\n\n53\n00:02:51.790 --> 00:02:55.480\nBut like I said, I do wanna talk a little\nbit about just DNS in general first to\n\n54\n00:02:55.480 --> 00:02:59.010\ngive us that background knowledge, make\nsure we're all playing on the same page.\n\n55\n00:02:59.010 --> 00:03:02.330\nAnd I will also mention,\nwhich you should probably already know,\n\n56\n00:03:02.330 --> 00:03:05.540\nMicrosoft is not the only\nsolution when it comes to DNS.\n\n57\n00:03:05.540 --> 00:03:09.726\nYou've got your BIND,\nyour Berkeley Internet Name server,\n\n58\n00:03:09.726 --> 00:03:14.811\nis a very popular flavor, if you will,\nof DNS, or implementation of DNS.\n\n59\n00:03:14.811 --> 00:03:19.632\nMy DNS is not a Microsoft thing, Microsoft\njust likes to use those names, right?\n\n60\n00:03:19.632 --> 00:03:23.190\nWe have Microsoft DNS Server, well,\nDNS is not a Microsoft thing.\n\n61\n00:03:23.190 --> 00:03:26.982\nYou've got Microsoft SQL Server, well,\nSQL is not a Microsoft thing, right?\n\n62\n00:03:26.982 --> 00:03:29.670\nBut that's their registered name for\ntheir database product, so\n\n63\n00:03:29.670 --> 00:03:31.450\nit's kinda the same thing with DNS.\n\n64\n00:03:31.450 --> 00:03:34.220\nMost of the servers you see out on\nthe Internet that are providing this name\n\n65\n00:03:34.220 --> 00:03:37.939\nresolution for us when we surf the Web or\nprobably running by, and\n\n66\n00:03:37.939 --> 00:03:39.675\nthey're probably not running Windows.\n\n67\n00:03:39.675 --> 00:03:43.943\nBut Windows is a very popular, Microsoft's\nDNS server is a very popular one to\n\n68\n00:03:43.943 --> 00:03:47.954\nrun in-house because we've got our\nlicences, we've got our servers,\n\n69\n00:03:47.954 --> 00:03:52.092\nit's much easier to work with I think\nthan for a lot of people that don't have\n\n70\n00:03:52.092 --> 00:03:55.486\nthat training in Linux, or\nwhat have you, to work with BIND.\n\n71\n00:03:55.486 --> 00:03:58.495\nSo you do see it very commonly in\nthe enterprise environment, but\n\n72\n00:03:58.495 --> 00:04:01.775\nit is a standard, so these DNS servers\ntalk to each other, no problem,\n\n73\n00:04:01.775 --> 00:04:04.538\nwhether one's running Microsoft or\none's running BIND.\n\n74\n00:04:04.538 --> 00:04:10.660\nAll right, now, so when we talk about DNS,\nthe idea is that we need to be\n\n75\n00:04:10.660 --> 00:04:16.180\nable to resolve names into IP addresses,\nwe need to take a hostname that I know.\n\n76\n00:04:16.180 --> 00:04:22.463\nI know I wanna connect to Server1, or\nI wanna connect to www.google.com, right?\n\n77\n00:04:22.463 --> 00:04:26.357\nI don't know the IP address, but\nin my browser I type that name, and in\n\n78\n00:04:26.357 --> 00:04:31.130\nthe background DNS query gets generated,\nit gets sent out to these DNS servers.\n\n79\n00:04:31.130 --> 00:04:33.780\nThey end up turning that\nname back into an IP address\n\n80\n00:04:33.780 --> 00:04:35.580\nthat my browser can then connect to.\n\n81\n00:04:35.580 --> 00:04:39.040\nOne thing we've gotta remember is\nyou cannot connect to a name, right?\n\n82\n00:04:39.040 --> 00:04:42.024\nIf you can't take the name, or\nsomething is behind the scenes,\n\n83\n00:04:42.024 --> 00:04:45.284\nyour application can't take that name and\nturn it into an IP address,\n\n84\n00:04:45.284 --> 00:04:46.855\nyou're not gonna connect to it.\n\n85\n00:04:46.855 --> 00:04:49.720\nYou have to have the IP address\nin order to make a socket.\n\n86\n00:04:49.720 --> 00:04:53.975\nA socket is a connection between two\nnodes that's made up of a protocol,\n\n87\n00:04:53.975 --> 00:04:56.170\nan IP address, and a port.\n\n88\n00:04:56.170 --> 00:04:57.800\nThere's no mention of name in there,\nright, so\n\n89\n00:04:57.800 --> 00:05:00.430\nwe have to have this\nto be able to connect,\n\n90\n00:05:00.430 --> 00:05:04.270\ncuz we type in names into our applications\ncuz they're easier for us to remember.\n\n91\n00:05:04.270 --> 00:05:07.950\nI can remember Google means search,\nNewegg means computer parts.\n\n92\n00:05:07.950 --> 00:05:13.879\nI can't remember, 4.2.17.123 is\nmy favorite search engine, right?\n\n93\n00:05:13.879 --> 00:05:16.770\nIf I had to do that,\nI would never get anywhere.\n\n94\n00:05:16.770 --> 00:05:17.440\nSo how do we do it?\n\n95\n00:05:17.440 --> 00:05:21.590\nWell, we can just have a list,\nright, a huge list of names and\n\n96\n00:05:21.590 --> 00:05:25.270\nIP addresses, every single name out\nthere and every single IP address.\n\n97\n00:05:25.270 --> 00:05:27.370\nAnd we just look it up in that list,\nand we find it.\n\n98\n00:05:28.520 --> 00:05:31.991\nThat would work, but\nit's not gonna be very efficient,\n\n99\n00:05:31.991 --> 00:05:34.392\nI guess is the word we're looking for.\n\n100\n00:05:34.392 --> 00:05:37.596\nThat list would be massive and\nmonstrous, and\n\n101\n00:05:37.596 --> 00:05:41.219\ntrying to replicate that\nlist would be impossible.\n\n102\n00:05:41.219 --> 00:05:45.239\nTrying to make it update to that list\nwould be extremely inefficient and\n\n103\n00:05:45.239 --> 00:05:48.120\ntime consuming, so\nit's not gonna work that way.\n\n104\n00:05:48.120 --> 00:05:52.645\nSo what DNS does is it's\na distributed hierarchical database,\n\n105\n00:05:52.645 --> 00:05:56.665\nbasically, that takes it and\nbreaks it up into chunks and\n\n106\n00:05:56.665 --> 00:06:00.840\nallows that workload to be\nspread out across servers.\n\n107\n00:06:00.840 --> 00:06:02.630\nAnd let's see how that works.\n\n108\n00:06:02.630 --> 00:06:04.516\nAll right, so\nif we take a look at my screen here,\n\n109\n00:06:04.516 --> 00:06:06.644\nI'm gonna try to do a drawing\non the fly as we talk here.\n\n110\n00:06:06.644 --> 00:06:08.370\nWe'll see how that goes.\n\n111\n00:06:08.370 --> 00:06:12.430\nAt the very top of the DNS infrastructure,\n\n112\n00:06:12.430 --> 00:06:16.230\nthat DNS hierarchy,\nis a server known as the root.\n\n113\n00:06:16.230 --> 00:06:20.151\nAnd let's change that to something\nother than black on black.\n\n114\n00:06:20.151 --> 00:06:26.230\nThe root, the root is at the very top,\nit represents the very\n\n115\n00:06:26.230 --> 00:06:31.380\ntop of this pyramid, if you will, or that\nDNS hierarchy, there's nothing above it.\n\n116\n00:06:31.380 --> 00:06:37.130\nIt's represented by a dot when we look at\na Fully Qualified Domain Name, or an FQDN.\n\n117\n00:06:37.130 --> 00:06:39.860\nThat's the very top, and\njust imagine he had everything.\n\n118\n00:06:39.860 --> 00:06:43.590\nLet's say that the root has the entire\nlist of every single machine and\n\n119\n00:06:43.590 --> 00:06:46.925\nIP address out there in the world,\nall right, if that was even possible,\n\n120\n00:06:46.925 --> 00:06:48.884\nbut let's pretend,\nlet's use our imagination.\n\n121\n00:06:48.884 --> 00:06:53.768\nSo the root's saying hey look, I can't\nhandle this, this is too much work for\n\n122\n00:06:53.768 --> 00:06:57.472\nme, this list is too huge,\nit takes too long to go through.\n\n123\n00:06:57.472 --> 00:06:59.886\nSo every time somebody asks me a question,\n\n124\n00:06:59.886 --> 00:07:04.130\nit takes me an hour to go through the list\nat my speeds, at computer speeds.\n\n125\n00:07:04.130 --> 00:07:06.080\nSo let's figure out how\nwe can break this up.\n\n126\n00:07:06.080 --> 00:07:10.210\nSo they did, they said you know what\nwe'll do is we'll divide those names up\n\n127\n00:07:10.210 --> 00:07:11.880\ninto more meaningful chunks.\n\n128\n00:07:11.880 --> 00:07:15.652\nLet's get rid of that, and\nlet's just copy this one,\n\n129\n00:07:15.652 --> 00:07:20.501\nwe're gonna take a server over here,\nand we're gonna call this COM.\n\n130\n00:07:20.501 --> 00:07:26.341\nI'm gonna take another one,\nand let's call this GOV,\n\n131\n00:07:26.341 --> 00:07:33.310\nand maybe even take one more, and\nwe'll call this AU, all right?\n\n132\n00:07:34.930 --> 00:07:39.601\nThese are what's known as top-level\ndomains, and these are set aside by the,\n\n133\n00:07:39.601 --> 00:07:41.146\nis it the IANA now or is it?\n\n134\n00:07:41.146 --> 00:07:44.635\nOkay, I always get that confused,\ncuz I know one of them got folded into\n\n135\n00:07:44.635 --> 00:07:47.619\nthe other, but\nthe Internet Assigned Names and Addresses?\n\n136\n00:07:47.619 --> 00:07:51.583\n&gt;&gt; Internet Assigned Numbering Authority,\nand now that I thought about it, Mike,\n\n137\n00:07:51.583 --> 00:07:53.313\nyou are right because it's ICANN.\n\n138\n00:07:53.313 --> 00:07:56.077\nTechnically, it's switched over\nto the Internet Corporation for\n\n139\n00:07:56.077 --> 00:07:57.781\nAssigned Names and Numbers in 2003.\n\n140\n00:07:57.781 --> 00:08:02.069\n&gt;&gt; In 2003, okay yeah, I knew at one point\nthat one had folded into the other, so\n\n141\n00:08:02.069 --> 00:08:05.054\nGood to go, but this company,\nthis non-for-profit,\n\n142\n00:08:05.054 --> 00:08:07.063\nI think they're non-for-profit.\n\n143\n00:08:07.063 --> 00:08:10.955\nBut anyway, they're the ones that\nare responsible for setting up these,\n\n144\n00:08:10.955 --> 00:08:15.090\nwhat we call, top level domains, like com\nand gub and biz and .net and .edu and\n\n145\n00:08:15.090 --> 00:08:16.229\n.au for Australia.\n\n146\n00:08:16.229 --> 00:08:19.350\nAll those company country codes and\nthings like that.\n\n147\n00:08:19.350 --> 00:08:23.860\nThey will allow new top-level domains when\nthey see necessary or deem necessary.\n\n148\n00:08:23.860 --> 00:08:28.345\nAnd we've see the few recently,\nlike .top, top, and .place, and\n\n149\n00:08:28.345 --> 00:08:31.880\n.show, and\nthey're always coming up with new ones.\n\n150\n00:08:31.880 --> 00:08:35.818\nSo the root dealers said, look this was so\nbig that I'm gonna divide it up, and\n\n151\n00:08:35.818 --> 00:08:37.350\nhow can I divide it up?\n\n152\n00:08:37.350 --> 00:08:40.910\nI can look at that top level domain and\nsay, I'm gonna take all the names from\n\n153\n00:08:40.910 --> 00:08:43.480\nthis list,\nthe massive list that contains everything.\n\n154\n00:08:43.480 --> 00:08:45.230\nAnd I'm gonna take all\nthe ones that end in .com and\n\n155\n00:08:45.230 --> 00:08:47.390\nI'm gonna give them to\nthis DNS server over here.\n\n156\n00:08:47.390 --> 00:08:50.320\nHe can maintain that list that way\nI don't have to worry about it.\n\n157\n00:08:50.320 --> 00:08:53.837\nAnd then I'm gonna take all the names that\nend in .gov and give them to this guy.\n\n158\n00:08:53.837 --> 00:08:57.971\nAll the guys that end in .au and give them\nto this guy, and go through the list and\n\n159\n00:08:57.971 --> 00:08:58.780\ndivide it up.\n\n160\n00:08:58.780 --> 00:09:02.264\nSo there are top-level DNS servers for\neach one of those top-level domains.\n\n161\n00:09:02.264 --> 00:09:08.101\nAny one you can think of, .bizz,\n.edu, .net, all of them, okay?\n\n162\n00:09:08.101 --> 00:09:11.621\nAnd so now the root is\nactually doing pretty good.\n\n163\n00:09:11.621 --> 00:09:13.980\nIt's, like, hey, I chopped up my list.\n\n164\n00:09:13.980 --> 00:09:16.050\nI gave it to all these other people.\n\n165\n00:09:16.050 --> 00:09:17.640\nI don't have anything left for me.\n\n166\n00:09:17.640 --> 00:09:21.520\nThe only thing the root has to know\nis where you gave those lists to.\n\n167\n00:09:21.520 --> 00:09:25.774\nIf somebody sends a query to you, and\nsays I'm looking for www.microsoft.com,\n\n168\n00:09:25.774 --> 00:09:29.741\nhe says, I don't have a list, but I know\nwho I gave all the dot.com names to.\n\n169\n00:09:29.741 --> 00:09:31.640\nWhy don't you go check with him?\n\n170\n00:09:31.640 --> 00:09:35.590\nThat's it, that's all the root has to\ndo now is basically start you off in\n\n171\n00:09:35.590 --> 00:09:36.860\nthe right direction.\n\n172\n00:09:36.860 --> 00:09:40.070\nI don't know, but\nI can tell you who should know, all right?\n\n173\n00:09:40.070 --> 00:09:43.780\nSo the root maintains a list of these\ntop-level domains, and he knows the IP\n\n174\n00:09:43.780 --> 00:09:47.340\naddresses of these top-level domain or\nDNS servers, all right?\n\n175\n00:09:47.340 --> 00:09:48.060\nThat's all he knows.\n\n176\n00:09:48.060 --> 00:09:53.930\nHe doesn't know IP addresses of\nMicrosoft's DNS, Microsoft's Google Web\n\n177\n00:09:53.930 --> 00:09:57.080\nserver, if I can get that out, or Google's\nWeb server, or anything like that.\n\n178\n00:09:57.080 --> 00:09:59.500\nHe just knows the top level domains.\n\n179\n00:09:59.500 --> 00:10:01.160\nSo that works pretty good.\n\n180\n00:10:01.160 --> 00:10:06.062\nWe divide it up that way, again,\nto split up that work load, all right?\n\n181\n00:10:06.062 --> 00:10:09.560\nNow that .com list is still pretty big.\n\n182\n00:10:09.560 --> 00:10:11.590\nThere's a lot of .com names.\n\n183\n00:10:11.590 --> 00:10:15.966\nStill not all that efficient when it\ncomes to trying to resolve a name,\n\n184\n00:10:15.966 --> 00:10:17.832\nlike www.microsoft.com.\n\n185\n00:10:17.832 --> 00:10:20.323\nSo what the .com server do,\nwhat we did next, we said,\n\n186\n00:10:20.323 --> 00:10:22.630\nwe're gonna divide it up even further.\n\n187\n00:10:22.630 --> 00:10:27.030\nLet's just focus on .com and\nwe'll put gov and edu way over here,\n\n188\n00:10:27.030 --> 00:10:31.510\nand we'll focus in on just .com because\nthey're all gonna work the same.\n\n189\n00:10:31.510 --> 00:10:34.198\nSo what we do now is we say, all right.\n\n190\n00:10:34.198 --> 00:10:38.184\nAnd I had this arrow here, let's dump\nhim in there just to make our drawing\n\n191\n00:10:38.184 --> 00:10:42.430\ncomplete, As I try to do this on the fly.\n\n192\n00:10:42.430 --> 00:10:45.430\nSo we take the .com and\nwe're gonna divide that up, right?\n\n193\n00:10:45.430 --> 00:10:47.170\nWell, how do we divide that up?\n\n194\n00:10:47.170 --> 00:10:50.098\nWe divide that up by registered names.\n\n195\n00:10:50.098 --> 00:10:57.156\nWhen you wanna run a website, or\nyou wannna own a portion of a name space,\n\n196\n00:10:57.156 --> 00:11:03.431\nyou go to a reseller or straight to,\ngosh, brain cramp here.\n\n197\n00:11:03.431 --> 00:11:06.340\nIt'll pop back in my head in a minute.\n\n198\n00:11:06.340 --> 00:11:09.054\nIt would go straight to-\n&gt;&gt; Is it RIRs?\n\n199\n00:11:09.054 --> 00:11:10.540\n&gt;&gt; Yes, thank you, the registrars.\n\n200\n00:11:10.540 --> 00:11:11.984\n&gt;&gt; Yeah, the Regional Internet Registrars.\n\n201\n00:11:11.984 --> 00:11:14.860\n&gt;&gt; Yes, thank you, [LAUGH] could\nnot remember that to save my life.\n\n202\n00:11:14.860 --> 00:11:19.700\nYou go to a registrar, but usually you're\ngoing to a reseller, like GoDaddy or\n\n203\n00:11:19.700 --> 00:11:24.350\nsome other place that can resell these\nnames, and you register your name.\n\n204\n00:11:24.350 --> 00:11:26.980\nI wanna own mikeroderick.com, all right?\n\n205\n00:11:26.980 --> 00:11:30.972\nWhat that allows me to do is make sure\nthat, hey, I own it, I can use it,\n\n206\n00:11:30.972 --> 00:11:32.648\nand nobody else can, right?\n\n207\n00:11:32.648 --> 00:11:36.549\nNobody else can use mikerodrick.com\nbecause I have registered that name.\n\n208\n00:11:36.549 --> 00:11:39.680\nIt's now mine, for\nas long as I pay my bill, all right?\n\n209\n00:11:39.680 --> 00:11:42.060\nIf I don't pay my bill,\nthen it goes back into public domain and\n\n210\n00:11:42.060 --> 00:11:43.440\nanybody can register it.\n\n211\n00:11:43.440 --> 00:11:47.076\nSo we said, all right, you know what since\nthat's still too much work for the .com,\n\n212\n00:11:47.076 --> 00:11:49.469\nwhat we're gonna do is we're\ngonna divide it up again.\n\n213\n00:11:49.469 --> 00:11:52.624\nAnd we're gonna say, hey,\nyou take care of your own records for\n\n214\n00:11:52.624 --> 00:11:54.560\nyour little portion of the name space.\n\n215\n00:11:55.710 --> 00:11:59.450\nSo Microsoft, and I'm gonna have to make\ntheir server wider to make their name fit\n\n216\n00:11:59.450 --> 00:12:02.040\nthere in this drawing,\nthey're a fat company anyway.\n\n217\n00:12:03.490 --> 00:12:05.713\nOop, I can't put a ITPro,\nwe're not a .com.\n\n218\n00:12:05.713 --> 00:12:09.505\nGoogle, who else would be another .com?\n\n219\n00:12:09.505 --> 00:12:10.577\n&gt;&gt; Might as well put Apple in there.\n\n220\n00:12:10.577 --> 00:12:11.378\n&gt;&gt; Let's put Apple.\n\n221\n00:12:11.378 --> 00:12:14.493\nThey probably got a .com name as well,\nall right?\n\n222\n00:12:14.493 --> 00:12:19.640\nSo what happens is we're gonna divide that\nname space up even further, and so this\n\n223\n00:12:19.640 --> 00:12:25.481\nDNS service says, I'm not gonna keep track\nof www.microsoft.com and www.apple.com.\n\n224\n00:12:25.481 --> 00:12:28.512\nI'm gonna let these companies,\nwhen you register that name,\n\n225\n00:12:28.512 --> 00:12:31.435\nyou take responsibility for\nthat portion of the name space.\n\n226\n00:12:31.435 --> 00:12:36.840\nYou have to run a DNS server to that host,\nthe Microsoft.com name space all right?\n\n227\n00:12:36.840 --> 00:12:39.405\nSo this guy now kinda\ndid what the root did.\n\n228\n00:12:39.405 --> 00:12:42.600\nHe says, I'm not gonna maintain\nall these names and IP addresses.\n\n229\n00:12:42.600 --> 00:12:46.950\nI'm just gonna tell you where\nyou can go to get those names.\n\n230\n00:12:46.950 --> 00:12:51.000\nI know the IP address of\nthe Google's DNS server.\n\n231\n00:12:51.000 --> 00:12:53.600\nI know the IP address\nof Apple's DNS server.\n\n232\n00:12:53.600 --> 00:12:57.330\nSo if somebody says,\nI need the IP address of www.apple.com.\n\n233\n00:12:57.330 --> 00:13:02.314\nThe .com server can simply say,\nhey, go check with apple.com's DNS\n\n234\n00:13:02.314 --> 00:13:06.811\nserver because it's the one\nthat's gonna have those records.\n\n235\n00:13:06.811 --> 00:13:09.190\nAnd somehow that did not attach.\n\n236\n00:13:09.190 --> 00:13:10.830\nWe'll stick it over there, all right?\n\n237\n00:13:12.020 --> 00:13:15.830\nApple, their DNS server that they\nmaintain, now they could pay somebody.\n\n238\n00:13:15.830 --> 00:13:18.410\nThat could be a third party\nthat's hosting it for them, but\n\n239\n00:13:18.410 --> 00:13:20.930\nit's still Apple that's responsible for\nthat.\n\n240\n00:13:20.930 --> 00:13:23.500\nThey maintain just their\nportion of a name space.\n\n241\n00:13:23.500 --> 00:13:26.869\nSo they don't have to worry about\nanybody else's names, just theirs.\n\n242\n00:13:26.869 --> 00:13:29.090\n&gt;&gt; So as a user,\nthis is transparent to me.\n\n243\n00:13:29.090 --> 00:13:32.919\nRegardless of who is actually hosting\nthe DNS, the concept's the same and\n\n244\n00:13:32.919 --> 00:13:35.551\nI'm not really gonna see\nit as an end user, right?\n\n245\n00:13:35.551 --> 00:13:39.070\n&gt;&gt; Absolutely, unless there's a problem,\nthen you might see some of this.\n\n246\n00:13:39.070 --> 00:13:44.630\nBut yeah, to us, we just type in\nwww.apple.com in our browser and it goes.\n\n247\n00:13:44.630 --> 00:13:47.860\nBut what's really happening in the\nbackground is your computer is starting at\n\n248\n00:13:47.860 --> 00:13:53.550\nthe very top because it has no idea\nwhat the IP address of www.Apple.com is.\n\n249\n00:13:53.550 --> 00:13:57.340\nIt has no idea how to find\nApple.com's DNS server.\n\n250\n00:13:57.340 --> 00:13:59.280\nYour computer doesn't know that, right?\n\n251\n00:13:59.280 --> 00:14:03.520\nSo how could it ever get an IP address for\none of Apple's server.\n\n252\n00:14:03.520 --> 00:14:04.480\nWell, you start at the root.\n\n253\n00:14:04.480 --> 00:14:07.583\nYou say, root, I need www.apple.com.\n\n254\n00:14:07.583 --> 00:14:11.910\nThe root says, I don't know, but\nI know who I gave all the .com names to.\n\n255\n00:14:11.910 --> 00:14:13.410\nWhy don't you go check with him?\n\n256\n00:14:13.410 --> 00:14:17.442\nSo your computer says, thank you, sends\na new query to the .com server and says,\n\n257\n00:14:17.442 --> 00:14:19.970\nhey, do you know\nwww.apple.com's IP address?\n\n258\n00:14:19.970 --> 00:14:24.654\nThe .com server says, no, I don't know\nevery single IP address for all this\n\n259\n00:14:24.654 --> 00:14:30.100\ncomputers at in.com, but I do know the DNS\nserver that's responsible for apple.com.\n\n260\n00:14:30.100 --> 00:14:31.586\nWhy don't you go check with him?\n\n261\n00:14:31.586 --> 00:14:34.389\nAnd then my computer says,\nthank you very much, and\n\n262\n00:14:34.389 --> 00:14:38.915\nchecks with apple.com's DNS server or\nApple's DNS server I should say, and say,\n\n263\n00:14:38.915 --> 00:14:41.830\nhey, do you know the IP\naddress of www.apple.com?\n\n264\n00:14:41.830 --> 00:14:44.050\nWell, Apple's DNS server says, yes I do.\n\n265\n00:14:44.050 --> 00:14:46.640\nI have all the resource records for\napple.com.\n\n266\n00:14:46.640 --> 00:14:48.030\nHere's the IP address.\n\n267\n00:14:48.030 --> 00:14:49.720\nMy computer says, thank you very much.\n\n268\n00:14:49.720 --> 00:14:54.280\nAnd bada bing,\nmy browser opens up to www.apple.com.\n\n269\n00:14:54.280 --> 00:14:59.160\nSo it's this hierarchy of DNS\nservers that's getting the job done.\n\n270\n00:14:59.160 --> 00:15:02.420\nSo a couple of things that I wanna point\nout that we really want to pay attention\n\n271\n00:15:02.420 --> 00:15:07.620\nto here is the fact that there's no\none DNS server that knows everything.\n\n272\n00:15:07.620 --> 00:15:12.070\nIt's a hierarchy of DNS servers that\nwork in conjunction to resolve names and\n\n273\n00:15:12.070 --> 00:15:13.110\nIP addresses.\n\n274\n00:15:13.110 --> 00:15:18.460\nIt's extremely scalable because the .com\nserver doesn't care if there's one or\n\n275\n00:15:18.460 --> 00:15:21.090\na million .coms names tomorrow.\n\n276\n00:15:21.090 --> 00:15:26.790\nHe needs one record that says, wes.com,\nhere's the IP address of Wes' DNS server.\n\n277\n00:15:26.790 --> 00:15:27.967\nThat's all he has to add.\n\n278\n00:15:27.967 --> 00:15:30.849\nHe doesn't care if Wes'\ncompany has 100 nodes or\n\n279\n00:15:30.849 --> 00:15:35.020\na million nodes because Wes' DNS\nserver's gonna take care of that.\n\n280\n00:15:35.020 --> 00:15:38.570\nSo as the Internet explodes,\nit doesn't put that much\n\n281\n00:15:38.570 --> 00:15:41.950\nmore of a workload on these DNS\nservers in this respect, right?\n\n282\n00:15:41.950 --> 00:15:45.312\nNow overall workload, queries per second,\nthings like that, of course, goes up.\n\n283\n00:15:45.312 --> 00:15:48.469\n&gt;&gt; Thinking back to my network\nbasics there, I would say, Mike,\n\n284\n00:15:48.469 --> 00:15:52.475\nwouldn't this be kind of like what we\nwould call that, logical tree topology?\n\n285\n00:15:52.475 --> 00:15:55.393\nAnd as far as scalability goes,\nyou need a little bit more to the tree,\n\n286\n00:15:55.393 --> 00:15:56.494\njust Add another branch.\n\n287\n00:15:56.494 --> 00:15:58.839\n&gt;&gt; Exactly right, you don't have to\nworry about the root, the trunk,\n\n288\n00:15:58.839 --> 00:15:59.983\nnone of that good stuff, right?\n\n289\n00:15:59.983 --> 00:16:03.160\nIf we follow that tree analogy there.\n\n290\n00:16:03.160 --> 00:16:07.440\nAll right, so that way you see, now\nthis is what we're gonna be setting up.\n\n291\n00:16:07.440 --> 00:16:08.740\nThis is what we need to work with.\n\n292\n00:16:08.740 --> 00:16:14.010\nAs an organization I need to set up DNS\nto handle my portion of the name space.\n\n293\n00:16:14.010 --> 00:16:17.202\nBecause if I don't, nobody's gonna\nbe able to come to my website.\n\n294\n00:16:17.202 --> 00:16:19.750\nNobody's gonna be able to\naccess my network externally.\n\n295\n00:16:19.750 --> 00:16:23.250\nWhen my sales people are traveling,\nhow do they get back to that VPN server?\n\n296\n00:16:23.250 --> 00:16:25.970\nThe dot com server doesn't know\nthe IP address of my VPN server.\n\n297\n00:16:25.970 --> 00:16:28.150\nThe root doesn't know the IP address,\nright?\n\n298\n00:16:28.150 --> 00:16:30.060\nMy DNS server does.\n\n299\n00:16:30.060 --> 00:16:33.040\nSo I've got to set this up so\nall of this works.\n\n300\n00:16:33.040 --> 00:16:34.835\nWell, at least I gotta\nset it up from here down.\n\n301\n00:16:34.835 --> 00:16:38.070\nNow again, these, I just wanna\nmake another quick note are the,\n\n302\n00:16:38.070 --> 00:16:40.480\nwhat we call second level domains.\n\n303\n00:16:40.480 --> 00:16:42.220\nThis is the root.\n\n304\n00:16:42.220 --> 00:16:47.340\nThese are top level domains, and\nthese are second level domains.\n\n305\n00:16:47.340 --> 00:16:52.235\nWe have to register second level domains,\nyou can't just start using Mike.com\n\n306\n00:16:52.235 --> 00:16:54.165\nbecause somebody might\nalready be using it.\n\n307\n00:16:54.165 --> 00:16:56.875\nAnd we wanna make sure that we\nregister it and it's ours, and\n\n308\n00:16:56.875 --> 00:16:58.265\nnobody else is gonna use it.\n\n309\n00:16:58.265 --> 00:17:02.985\nSo you have to register\nyour second level domains.\n\n310\n00:17:02.985 --> 00:17:05.893\nAnd then you can do whatever\nyou want underneath that.\n\n311\n00:17:05.893 --> 00:17:07.710\nIf I wanna make training that app.\n\n312\n00:17:07.710 --> 00:17:13.202\nIf, once I've registered apple.com,\nI can make training.apple.com,\n\n313\n00:17:13.202 --> 00:17:17.950\nlab.apple.com,\nsales.west.us.partfree.apple.com.\n\n314\n00:17:17.950 --> 00:17:21.310\nI can go as far as I want to\nthe left-hand side of that name.\n\n315\n00:17:21.310 --> 00:17:23.260\nI don't have to register anything else.\n\n316\n00:17:23.260 --> 00:17:26.630\nBecause I've registered that second\nlevel domain, and I basically,\n\n317\n00:17:26.630 --> 00:17:31.120\nif we think about the hierarchy,\nI now have control over everything\n\n318\n00:17:31.120 --> 00:17:35.080\nthat would show up underneath\nApple in this case, all right?\n\n319\n00:17:35.080 --> 00:17:36.920\nSo that's the way that hierarchy works.\n\n320\n00:17:36.920 --> 00:17:40.930\nThat's what we're trying to set\nup is this part, down here.\n\n321\n00:17:40.930 --> 00:17:43.700\nSo hopefully that gets\nus all on the same page.\n\n322\n00:17:43.700 --> 00:17:47.030\nAll right, next thing we gotta\ntalk about is installing DNS.\n\n323\n00:17:47.030 --> 00:17:49.770\nAnd how do I get it installed\nin a Windows environment?\n\n324\n00:17:49.770 --> 00:17:52.630\nThere's really two ways\nwe're gonna do that.\n\n325\n00:17:52.630 --> 00:17:58.690\nI say two ways, one would be through\neither my admirals and features wizard.\n\n326\n00:17:58.690 --> 00:18:01.940\nAll right, or I could use PowerShell,\nI'm gonna consider those the same.\n\n327\n00:18:01.940 --> 00:18:05.610\nEither I'm gonna use the GUI or not,\nbut you're just installing a role.\n\n328\n00:18:05.610 --> 00:18:09.680\nDNS is a role that's freely available\non your server once you've paid for\n\n329\n00:18:09.680 --> 00:18:12.630\nyour license, you now have access to DNS.\n\n330\n00:18:12.630 --> 00:18:16.560\nSo you can install the role\non any one of your servers.\n\n331\n00:18:16.560 --> 00:18:20.090\nYou can also install DNS when\nyou install Active Directory.\n\n332\n00:18:20.090 --> 00:18:23.710\nBecause Active Directory relies on DNS.\n\n333\n00:18:23.710 --> 00:18:26.720\nActive Directory cannot\nfunction without DNS.\n\n334\n00:18:26.720 --> 00:18:30.850\nSo when you install Active Directory,\nit's gonna check your network and\n\n335\n00:18:30.850 --> 00:18:31.810\nsee if you have DNS.\n\n336\n00:18:31.810 --> 00:18:35.850\nIf you have it,\nit'll let you skip DNS installation.\n\n337\n00:18:35.850 --> 00:18:38.655\nIf you don't have it,\nit's gonna force you to.\n\n338\n00:18:38.655 --> 00:18:42.160\nI don't even think it'll\nlet you go beyond that.\n\n339\n00:18:42.160 --> 00:18:43.160\nIf it doesn't force you to,\n\n340\n00:18:43.160 --> 00:18:47.000\nit's gonna fail because\nthe installation might succeed, but\n\n341\n00:18:47.000 --> 00:18:50.030\nactive directory's not gonna work\nbecause it relies on that information.\n\n342\n00:18:50.030 --> 00:18:53.780\nWhen you go to log in,\nyou open up your computer, you sit down,\n\n343\n00:18:53.780 --> 00:18:57.110\nyou hit the control, alt, delete dialog\nbox, you type in your username and\n\n344\n00:18:57.110 --> 00:18:59.810\npassword, where does it\nsend that information?\n\n345\n00:18:59.810 --> 00:19:01.490\nTo your domain controller to be verified.\n\n346\n00:19:01.490 --> 00:19:03.210\nMake sure you type in the right password.\n\n347\n00:19:03.210 --> 00:19:06.210\nHow does your computer know\nwhere the main controller is?\n\n348\n00:19:06.210 --> 00:19:10.585\nIt talked to DNS and said, hey, I need\nthe IP address of somebody that's running\n\n349\n00:19:10.585 --> 00:19:12.690\nKerberos so\nI can verify this user's credentials, and\n\n350\n00:19:12.690 --> 00:19:15.460\ndecide whether or\nnot I should allow him to log on or not.\n\n351\n00:19:15.460 --> 00:19:18.920\nSo without DNS, you'd never get\npast the logon screen, right?\n\n352\n00:19:18.920 --> 00:19:22.450\nEverything relies, and Active Directory\nespecially relies, on DNS.\n\n353\n00:19:22.450 --> 00:19:26.390\nSo you can install it when you\ninstall Active Directory as well.\n\n354\n00:19:26.390 --> 00:19:28.940\nSo let's take a look at it,\nit's not too terribly difficult.\n\n355\n00:19:28.940 --> 00:19:31.230\nI'm gonna jump over to,\n\n356\n00:19:31.230 --> 00:19:36.560\nif I could remember which one Well,\nlet's do Dev-dc01.\n\n357\n00:19:36.560 --> 00:19:37.940\nI think this is the guy.\n\n358\n00:19:37.940 --> 00:19:41.370\nWhat I did was, I went ahead and\nstarted installing Active DIrectory.\n\n359\n00:19:41.370 --> 00:19:42.610\nI installed the binaries.\n\n360\n00:19:42.610 --> 00:19:44.640\nRight?\nI went through the Add Rules and\n\n361\n00:19:44.640 --> 00:19:47.830\nFeatures wizard, installed the binaries,\nand then it said,\n\n362\n00:19:47.830 --> 00:19:51.090\nonce I got all that done, do you want\nto make this a domain controller?\n\n363\n00:19:51.090 --> 00:19:52.290\nThat's where I stopped.\n\n364\n00:19:52.290 --> 00:19:54.320\nSo I'm going to fire\nup that process again.\n\n365\n00:19:54.320 --> 00:20:00.026\nPromote this server to a domain controller\nand I'll go through the wizard and\n\n366\n00:20:00.026 --> 00:20:06.590\nI'm gonna be adding a new forest,\nlet's do a new forest, I'm feeling crazy.\n\n367\n00:20:06.590 --> 00:20:10.470\nI will do dev dot-\n\n368\n00:20:13.109 --> 00:20:18.613\nActually, you know what, let's do\na new domain in an existing forest.\n\n369\n00:20:18.613 --> 00:20:21.638\nAnd we're gonna do, and if you don't\nunderstand what I'm doing here,\n\n370\n00:20:21.638 --> 00:20:22.600\nthat's okay.\n\n371\n00:20:22.600 --> 00:20:27.230\nWe've got episodes to do on\nActive Directory, so don't fear.\n\n372\n00:20:27.230 --> 00:20:28.990\nWe'll go back over this.\n\n373\n00:20:28.990 --> 00:20:33.030\nMy forest name is lab,\nmy new domain name is going to be dev.\n\n374\n00:20:35.830 --> 00:20:37.550\nThink that'll work.\n\n375\n00:20:37.550 --> 00:20:39.908\nI'm trying to decide if what I\nneed to show you guys later, so\n\n376\n00:20:39.908 --> 00:20:41.734\nI'm gonna make sure we\nget everything setup.\n\n377\n00:20:41.734 --> 00:20:44.650\nActually, we'll want a separate forest,\nso lets do a separate forest.\n\n378\n00:20:44.650 --> 00:20:49.457\nAnd we'll do\n\n379\n00:20:49.457 --> 00:20:54.704\ndev.itpro.\n\n380\n00:20:54.704 --> 00:20:57.635\nI don't want it to conflict with my\nother one, I'm gonna do dev.itpro.us.\n\n381\n00:20:57.635 --> 00:21:00.670\nAnd we'll click Next.\n\n382\n00:21:00.670 --> 00:21:06.457\n[COUGH] Again, this is not part of it.\n\n383\n00:21:06.457 --> 00:21:10.110\nI'm just trying to get through the,\nthis is what I wanna show you,\n\n384\n00:21:10.110 --> 00:21:13.070\nis right here I can choose to install DNS,\nall right?\n\n385\n00:21:13.070 --> 00:21:16.900\nI could uncheck that, but it would\nprobably scream at me because I don't\n\n386\n00:21:16.900 --> 00:21:21.910\nhave DNS set up on this network, and\nit's gonna be really upset about that.\n\n387\n00:21:21.910 --> 00:21:24.170\nAnd Active Directory\nwould most likely fail.\n\n388\n00:21:24.170 --> 00:21:25.520\nSo that's where we do that.\n\n389\n00:21:25.520 --> 00:21:27.940\nWe just simply put a check mark there.\n\n390\n00:21:27.940 --> 00:21:29.580\nAnd then you go along with\nthe rest of the defaults.\n\n391\n00:21:29.580 --> 00:21:32.630\nI'll show you all of this\nin our Active Directory.\n\n392\n00:21:32.630 --> 00:21:35.540\nLet me go ahead and finish it so\nwe'll have this server available for\n\n393\n00:21:35.540 --> 00:21:36.700\nsome demos coming up.\n\n394\n00:21:37.750 --> 00:21:41.109\nSo we'll let it verify\nthe uniqueness of my NetBIOS name.\n\n395\n00:21:43.544 --> 00:21:44.565\nWe'll accept all of our default paths.\n\n396\n00:21:49.896 --> 00:21:52.029\nAnd we'll go ahead and install.\n\n397\n00:21:52.029 --> 00:21:54.313\nOnce we get our pre-req checks done,\n\n398\n00:21:59.608 --> 00:22:01.365\nAnd then we'll click Install and\nit will require a reboot.\n\n399\n00:22:01.365 --> 00:22:04.810\nAnytime you install Active Directory,\nthat machine is gonna reboot.\n\n400\n00:22:04.810 --> 00:22:05.430\nAll right.\n\n401\n00:22:05.430 --> 00:22:07.090\nSo now let's take a look\nat another machine.\n\n402\n00:22:08.300 --> 00:22:09.940\nI'm gonna go back to our Remote Desktop.\n\n403\n00:22:09.940 --> 00:22:12.760\nAnd I'm gonna connect to server one.\n\n404\n00:22:12.760 --> 00:22:16.740\nAnd server one is a member server.\n\n405\n00:22:16.740 --> 00:22:20.630\nI remember my password.\n\n406\n00:22:23.480 --> 00:22:24.600\nI connect to this guy.\n\n407\n00:22:26.660 --> 00:22:29.060\nSo it's part of the domain, but\nit's not running Active Directory.\n\n408\n00:22:29.060 --> 00:22:32.700\nIt's just a member server and\nI want to install Active Directory.\n\n409\n00:22:32.700 --> 00:22:37.950\nNow my domain controller for this\nparticular domain already has DNS on it.\n\n410\n00:22:37.950 --> 00:22:40.450\nBut I want to create a second DNS server,\nbut\n\n411\n00:22:40.450 --> 00:22:42.210\nI don't have another domain controller.\n\n412\n00:22:42.210 --> 00:22:44.170\nSo I'm simply going to install DNS here.\n\n413\n00:22:44.170 --> 00:22:47.140\nWe'll let it boot up,\nlet Server Manager do its thing.\n\n414\n00:22:48.740 --> 00:22:54.380\nHonestly, in your corporate environments,\nyou're gonna find most of the time,\n\n415\n00:22:54.380 --> 00:22:57.230\nyou install DNS on your\ndomain controllers.\n\n416\n00:22:57.230 --> 00:23:01.720\nInternally, we don't see a lot of\nstandalone DNS servers like this\n\n417\n00:23:01.720 --> 00:23:05.480\nwhere it's a server that's running DNS but\nnot Active Directory.\n\n418\n00:23:05.480 --> 00:23:07.600\nBecause Active Directory relies on DNS.\n\n419\n00:23:07.600 --> 00:23:10.150\nIt has to have it, so\nif I put Active Directory and\n\n420\n00:23:10.150 --> 00:23:14.150\nDNS on the same machine I know, unless\nsome service doesn't start up or something\n\n421\n00:23:14.150 --> 00:23:16.920\nlike that, that Active Directory's\nalways gonna have access to DNS.\n\n422\n00:23:16.920 --> 00:23:19.480\nSo put them on the same machine,\n\n423\n00:23:19.480 --> 00:23:24.410\nthey go together like,\nwell what's a good, like salt and pepper.\n\n424\n00:23:24.410 --> 00:23:25.970\n&gt;&gt; I was gonna say peas and carrots.\n\n425\n00:23:25.970 --> 00:23:28.620\nBut the other thing too, Mike,\nnow correct me if I'm wrong on this,\n\n426\n00:23:28.620 --> 00:23:33.580\nwhen you do decide to create one of\nthose Active Directory integrated zones.\n\n427\n00:23:33.580 --> 00:23:35.590\nAnd I know this is isn't an episode\non Active Directory, but\n\n428\n00:23:35.590 --> 00:23:38.720\nyou get the benefit of the replication\nthat happens with that database, as well.\n\n429\n00:23:38.720 --> 00:23:39.530\n&gt;&gt; Absolutely.\n&gt;&gt; So you get\n\n430\n00:23:39.530 --> 00:23:40.770\na little bit more redundancy.\n\n431\n00:23:40.770 --> 00:23:44.225\n&gt;&gt; There's a lot of good benefits from\ndoing Active Directory integrated zones.\n\n432\n00:23:44.225 --> 00:23:46.735\nAnd we'll definitely come back to that.\n\n433\n00:23:46.735 --> 00:23:48.970\nAlright, so I'm back on my server, here.\n\n434\n00:23:48.970 --> 00:23:51.676\nI'm just gonna go add roles and features.\n\n435\n00:23:51.676 --> 00:23:53.035\nMove this wizard up so we can see it.\n\n436\n00:23:53.035 --> 00:23:56.458\nI'll click next, next, next.\n\n437\n00:23:56.458 --> 00:23:57.766\nAll right, it's on server one.\n\n438\n00:23:57.766 --> 00:24:02.100\nAnd then I'm just gonna choose DNS\nas the role I want to install.\n\n439\n00:24:02.100 --> 00:24:04.860\nIt's gonna include my\nremote server admin tools.\n\n440\n00:24:04.860 --> 00:24:11.780\nAnd then I'll just basically Next,\nNext, Next, and Install.\n\n441\n00:24:11.780 --> 00:24:15.910\nI could have checked reboot if necessary,\nDNS does not need a reboot\n\n442\n00:24:17.090 --> 00:24:19.470\non installation, so\nwe should be good to go there.\n\n443\n00:24:19.470 --> 00:24:21.230\nSo just another way I can install it,\nright?\n\n444\n00:24:21.230 --> 00:24:25.450\nIf it's not installed as it would,\nif I can talk today,\n\n445\n00:24:25.450 --> 00:24:29.120\nif it's not installed during\nthe installation of Active Directory\n\n446\n00:24:29.120 --> 00:24:31.110\nthen you can always go back and\ninstall it.\n\n447\n00:24:31.110 --> 00:24:32.630\nAnd let's say I had a domain controller,\n\n448\n00:24:32.630 --> 00:24:36.860\nand I chose to uncheck DNS during\ninstallation of Active Directory.\n\n449\n00:24:36.860 --> 00:24:39.420\nNothing preventing me from\ngoing back to the Add Roles and\n\n450\n00:24:39.420 --> 00:24:43.090\nFeatures Wizard and adding DNS to\nthat domain controller, right?\n\n451\n00:24:43.090 --> 00:24:45.690\nSo it's not the end of\nthe world if you don't check it\n\n452\n00:24:45.690 --> 00:24:47.530\nduring the installation\nof Active Directory.\n\n453\n00:24:47.530 --> 00:24:49.810\nBut you are going to need it at some\npoint somewhere on your network,\n\n454\n00:24:49.810 --> 00:24:51.050\nif not on that machine.\n\n455\n00:24:51.050 --> 00:24:52.590\nAnd back to the point I was making here.\n\n456\n00:24:54.510 --> 00:24:57.580\nNormally, your domain controllers\nare also DNS servers, and\n\n457\n00:24:57.580 --> 00:25:00.830\nyou usually have at least two domain\ncontrollers, which means, you're gonna\n\n458\n00:25:00.830 --> 00:25:04.800\nhave at least two DNS servers, and\nthat's plenty for most networks.\n\n459\n00:25:04.800 --> 00:25:06.804\nIf you need external name resolution,\n\n460\n00:25:06.804 --> 00:25:10.710\nthat's when we'll start to see\nnon-domain controller's running DNS,\n\n461\n00:25:10.710 --> 00:25:13.820\ncuz I'm not putting a domain\ncontroller out there in my DMZ.\n\n462\n00:25:13.820 --> 00:25:15.230\nBut I need DNS out there for\n\n463\n00:25:15.230 --> 00:25:20.080\nthe public to access resolve names of\nexternal resources and things like that.\n\n464\n00:25:20.080 --> 00:25:23.350\nSo, that's typically where you see\nmachines that are installed this way where\n\n465\n00:25:23.350 --> 00:25:24.827\nit's not included with active directory.\n\n466\n00:25:24.827 --> 00:25:27.200\nIt's just its own role, all right.\n\n467\n00:25:27.200 --> 00:25:29.690\nBut either way, you go,\nit's running the exact same DNS.\n\n468\n00:25:29.690 --> 00:25:31.910\nI mean, there is no difference there,\n\n469\n00:25:31.910 --> 00:25:34.500\nother than where it can\nstore its information.\n\n470\n00:25:34.500 --> 00:25:37.840\nWes alluded to something called\nActive Directory integrated zones.\n\n471\n00:25:37.840 --> 00:25:41.810\nAnd we're gonna talk about that later in\nanother episode, cuz it's really cool.\n\n472\n00:25:41.810 --> 00:25:44.209\nBut if I'm gonna integrate\nDNS with Active Directory,\n\n473\n00:25:44.209 --> 00:25:47.028\nkind of makes sense that\nActive Directory would need to be there.\n\n474\n00:25:47.028 --> 00:25:50.466\nSo if I've got a server out my DMZ\nthat doesn't have Active Directory,\n\n475\n00:25:50.466 --> 00:25:53.983\nthen I won't be making any\nActive Directory integrated zones, right?\n\n476\n00:25:53.983 --> 00:25:57.570\nThere's no Active Directory\nto integrate it with.\n\n477\n00:25:57.570 --> 00:25:58.430\nThere we go.\n\n478\n00:25:58.430 --> 00:26:00.260\nInstallation has finished.\n\n479\n00:26:00.260 --> 00:26:01.980\nI'll click Close on that.\n\n480\n00:26:01.980 --> 00:26:04.540\nAll right, so easy enough to install it.\n\n481\n00:26:04.540 --> 00:26:07.860\nI should mention another one\nthat's brand new to 2016.\n\n482\n00:26:07.860 --> 00:26:09.260\nAnd that's nano server.\n\n483\n00:26:09.260 --> 00:26:12.660\nYou guys have seen me if you\nwatched the episodes on our other\n\n484\n00:26:12.660 --> 00:26:18.040\nMCSA track class 70-740,\nyou've seen me install nano server.\n\n485\n00:26:18.040 --> 00:26:22.050\nAnd there's a simply a parameter that\nI add to that creation of that nano\n\n486\n00:26:22.050 --> 00:26:27.270\nserver VHD that adds the package for\nDNS, and I can run a DNS server.\n\n487\n00:26:27.270 --> 00:26:28.880\nAnd honestly, that's a great solution.\n\n488\n00:26:28.880 --> 00:26:33.060\nI mean if I just need a DNS server,\nnothing else, strip out the GUIs,\n\n489\n00:26:33.060 --> 00:26:34.345\nstrip out everything.\n\n490\n00:26:34.345 --> 00:26:37.810\nNano's, a tiny light\nweight version of server,\n\n491\n00:26:37.810 --> 00:26:40.130\nit makes a perfect standalone DNS server.\n\n492\n00:26:41.830 --> 00:26:44.200\nAll right, Wes,\nnext thing that we need to do.\n\n493\n00:26:44.200 --> 00:26:44.980\nHow we doing on time?\n\n494\n00:26:44.980 --> 00:26:45.940\nWe are good.\n\n495\n00:26:47.335 --> 00:26:50.880\nWe've installed DNS,\nwe talked about the scenarios.\n\n496\n00:26:50.880 --> 00:26:54.530\nTell you what, this is probably, and\nwe just got a couple minutes left.\n\n497\n00:26:54.530 --> 00:26:57.561\nLet's open up the console at least and\ntake a look at it.\n\n498\n00:26:57.561 --> 00:26:59.698\n&gt;&gt; Sounds good.\n&gt;&gt; All right, so this the,again,\n\n499\n00:26:59.698 --> 00:27:02.286\nthe one that I just installed.\n\n500\n00:27:02.286 --> 00:27:05.348\nI'm opening up DNS,\nI don't have a whole lot of anything,\n\n501\n00:27:05.348 --> 00:27:06.890\nbecause I just installed it.\n\n502\n00:27:06.890 --> 00:27:09.920\nI tried to expand this out,\nI don't have anything.\n\n503\n00:27:09.920 --> 00:27:12.860\nWe're gonna talk what these\nare in an upcoming episode.\n\n504\n00:27:12.860 --> 00:27:18.038\nIf I go over to my domain controller,\nLet's\n\n505\n00:27:18.038 --> 00:27:23.384\ndo DCO1 here, and\nI open up DNS on this guy.\n\n506\n00:27:26.856 --> 00:27:28.878\nWe'll see a lot more interesting stuff.\n\n507\n00:27:28.878 --> 00:27:33.404\nI've got forward lookup zones, I've got\nrecords down here, I've got names and\n\n508\n00:27:33.404 --> 00:27:36.957\nIP addresses all of which we gonna\ntalk about in future episode.\n\n509\n00:27:36.957 --> 00:27:40.230\nRight now, we are just getting our\nbearings straight with getting\n\n510\n00:27:40.230 --> 00:27:42.050\nDNS installed and configuring DNS.\n\n511\n00:27:42.050 --> 00:27:44.510\nBut this is what my console looks like.\n\n512\n00:27:44.510 --> 00:27:46.600\nWe can open up,\nwe can work with it in here.\n\n513\n00:27:46.600 --> 00:27:50.120\nWe've got forward lookups, we've got\nreverse lookups, conditional forwarding,\n\n514\n00:27:50.120 --> 00:27:51.050\ntrust points.\n\n515\n00:27:51.050 --> 00:27:54.960\nAll of this is gonna happen or we're gonna\ngo over all of this in upcoming episodes.\n\n516\n00:27:54.960 --> 00:27:56.120\nBut I think that's a good place to stop,\n\n517\n00:27:56.120 --> 00:27:58.560\nbecause we're gonna start getting\ninto some of the configuring.\n\n518\n00:27:58.560 --> 00:28:01.120\nAnd I don't really want to\nrush through any of that.\n\n519\n00:28:01.120 --> 00:28:01.950\n&gt;&gt; That sounds really good.\n\n520\n00:28:01.950 --> 00:28:03.420\nIn fact, I look forward to seeing those.\n\n521\n00:28:03.420 --> 00:28:06.950\nAnd as Mike has already said, we have\ncome to the end of another episode.\n\n522\n00:28:06.950 --> 00:28:07.900\nSo I'll tell you what.\n\n523\n00:28:07.900 --> 00:28:09.500\nWe'll go ahead, just like Mike said.\n\n524\n00:28:09.500 --> 00:28:10.960\nWe'll cut it off right here.\n\n525\n00:28:10.960 --> 00:28:12.180\nWe'll come back in part two.\n\n526\n00:28:12.180 --> 00:28:13.680\nYou'll get to see more of the hands on.\n\n527\n00:28:13.680 --> 00:28:16.840\nMike, before we part, do you got anything\nyou'd like to throw into this one?\n\n528\n00:28:16.840 --> 00:28:18.270\nOr are you gonna cliff hanger this one.\n\n529\n00:28:18.270 --> 00:28:19.650\n&gt;&gt; I'm gonna leave it as a cliff hanger.\n\n530\n00:28:19.650 --> 00:28:20.800\nMake sure you come back.\n\n531\n00:28:20.800 --> 00:28:21.910\nDNS is exciting.\n\n532\n00:28:21.910 --> 00:28:23.750\n&gt;&gt; All right, well,\nwe thank you for joining us.\n\n533\n00:28:23.750 --> 00:28:25.410\nAnd we thank you,\nthe viewer, for joining us.\n\n534\n00:28:25.410 --> 00:28:28.110\nSigning out at ITProTV,\nI've been your host, Wes Bryan.\n\n535\n00:28:28.110 --> 00:28:28.766\n&gt;&gt; And I'm Mike Rodrick.\n\n536\n00:28:28.766 --> 00:28:29.648\n&gt;&gt; And we'll see you next time.\n\n537\n00:28:29.648 --> 00:28:36.906\n&gt;&gt; [MUSIC]\n\n538\n00:28:36.906 --> 00:28:39.761\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "192473566"
        },
        {
          "description": "In this show, Cherokee and Adam begin discussing fundamental networking concepts. Adam shares several tools to help solidify a good IPv4 foundation. They define host bits, network bits, subnet masks/clsses and more! Tune in now for all the details.",
          "length": "2336",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-1-1-1-ipv4_networks-050817-PGM.00_00_17_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-1-1-1-ipv4_networks-050817-PGM.00_00_17_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-1-1-1-ipv4_networks-050817-PGM.00_00_17_04.Still001-sm.jpg",
          "title": "IPv4 Networks",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:06.436\nWelcome to ITProTV, I'm your host Don-\n&gt;&gt; [CROSSTALK]\n\n2\n00:00:06.436 --> 00:00:08.183\n[MUSIC]\n\n3\n00:00:08.183 --> 00:00:11.943\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.943 --> 00:00:12.845\n&gt;&gt; Welcome ladies and\n\n5\n00:00:12.845 --> 00:00:16.630\ngentlemen to your networking with\nMicrosoft Windows Server 2016 series.\n\n6\n00:00:18.050 --> 00:00:20.180\nI'm your show host, Cherokee Boose.\n\n7\n00:00:20.180 --> 00:00:23.390\nIn this episode, we'll be taking\na look at, well, how to plan and\n\n8\n00:00:23.390 --> 00:00:26.030\nimplement IPv4 networks.\n\n9\n00:00:26.030 --> 00:00:28.540\nIn studios with us today,\nwe have Mr. Adam Gordon.\n\n10\n00:00:28.540 --> 00:00:30.390\nThank you for joining us today, Adam.\n\n11\n00:00:30.390 --> 00:00:34.140\n&gt;&gt; Thank you, always glad to be here,\nIP version 4 networks.\n\n12\n00:00:34.140 --> 00:00:38.761\nSo we're gonna talk about IPv4 or\nversion 4 as was just describing.\n\n13\n00:00:38.761 --> 00:00:42.200\nInteresting this week,\nit started with networking in Server 16.\n\n14\n00:00:42.200 --> 00:00:45.010\nThe ideas, and if you can wrap your head\naround this right as we get started,\n\n15\n00:00:45.010 --> 00:00:46.660\nit's probably going to be a lot easier for\nyou.\n\n16\n00:00:46.660 --> 00:00:49.280\nThe ideas are gonna be very\nsimilar to what you already know.\n\n17\n00:00:49.280 --> 00:00:53.320\nIf you are familiar with networking\nin Server 12, and 12 R2,\n\n18\n00:00:53.320 --> 00:00:55.890\nany of the prior versions of Windows.\n\n19\n00:00:55.890 --> 00:00:58.160\nWe had NT4 come up out of the blue.\n\n20\n00:00:58.160 --> 00:01:00.140\nAs we were talking about\ngetting started this morning.\n\n21\n00:01:00.140 --> 00:01:03.940\nYou know the nice thing about networking\nis that things don't really change\n\n22\n00:01:03.940 --> 00:01:04.840\nall that much.\n\n23\n00:01:04.840 --> 00:01:10.370\nMeaning, TCP/IP as a network set of, or\nsuite of protocols and standards and\n\n24\n00:01:10.370 --> 00:01:15.670\ntools, hasn't really undergone a major\nrevision in probably close to 40 years.\n\n25\n00:01:15.670 --> 00:01:20.580\nAnd so, the concepts of IPv4, at least\nin this particular area that we're gonna\n\n26\n00:01:20.580 --> 00:01:23.120\ntalk about,\nhave pretty much stayed the same.\n\n27\n00:01:23.120 --> 00:01:24.450\nWe do have some new features,\n\n28\n00:01:24.450 --> 00:01:27.820\nand functions,\nwe have remote access capabilities.\n\n29\n00:01:27.820 --> 00:01:31.660\nWe'll talk about things like,\ndirect access, and\n\n30\n00:01:31.660 --> 00:01:34.130\nweb application proxies,\nin upcoming episodes.\n\n31\n00:01:34.130 --> 00:01:38.380\nAnd those are new concepts by way of\nsome of the new features we talk about\n\n32\n00:01:38.380 --> 00:01:40.560\ncompared to what we may\nhave known years ago.\n\n33\n00:01:40.560 --> 00:01:42.900\nBut the concept of remote\naccess is still there.\n\n34\n00:01:42.900 --> 00:01:44.130\nYou get in from the outside,\n\n35\n00:01:44.130 --> 00:01:47.270\nhopefully securely, coming through\nsome sort of gateway device.\n\n36\n00:01:47.270 --> 00:01:49.220\nAnd you connect once you authenticate and\n\n37\n00:01:49.220 --> 00:01:53.310\nyou access resources as if you\nare sitting in the local area network.\n\n38\n00:01:53.310 --> 00:01:55.400\nSo those general ideas haven't changed.\n\n39\n00:01:55.400 --> 00:01:58.710\nThe ideas of IP before have\nnot really been modified or\n\n40\n00:01:58.710 --> 00:02:01.420\nsignificantly changed in quiet some time.\n\n41\n00:02:01.420 --> 00:02:04.515\nWhen we add in to the we\nwill a little bit later.\n\n42\n00:02:04.515 --> 00:02:09.710\nIPV6, we have some new stuff to talk\nabout but it's a essentially an update\n\n43\n00:02:09.710 --> 00:02:15.169\nof what we already know, IPV4,\n32 bit address, IPV6 128 bit address.\n\n44\n00:02:15.169 --> 00:02:16.982\nIf you're not sure how we get\nthat come back and see us for\n\n45\n00:02:16.982 --> 00:02:18.960\nthat episode because we are not\ngoing to talk about that now.\n\n46\n00:02:18.960 --> 00:02:20.980\nBut we are going to get there eventually,\nright?\n\n47\n00:02:20.980 --> 00:02:24.620\nBut, the logic is really standardized.\n\n48\n00:02:24.620 --> 00:02:27.460\nAnd what I want you to be comfortable\nwith as we get started is\n\n49\n00:02:27.460 --> 00:02:30.960\nthinking about the things you already\nknow, being comfortable with them.\n\n50\n00:02:30.960 --> 00:02:34.050\nAnd not getting uptight,\nor concerned, or confused\n\n51\n00:02:34.050 --> 00:02:38.240\nabout having to learn an whole brand new\nset of items relating to networking.\n\n52\n00:02:38.240 --> 00:02:42.140\nJust to be able to understand\neither Server 16 or\n\n53\n00:02:42.140 --> 00:02:47.880\ncertainly networking within the Windows\nServer 16 stack, or more broadliness.\n\n54\n00:02:47.880 --> 00:02:51.180\nIf you think about, not just knowledge,\nbut how we apply it in the real world.\n\n55\n00:02:51.180 --> 00:02:52.670\nHow do we stand up in network?\n\n56\n00:02:52.670 --> 00:02:54.750\nHow do we configure remote access?\n\n57\n00:02:54.750 --> 00:02:58.370\nHow do we link one or more machines\ntogether to let them communicate?\n\n58\n00:02:58.370 --> 00:03:00.820\nAnd perhaps, and\ncertainly you wanna acknowledge the fact\n\n59\n00:03:00.820 --> 00:03:03.840\nthat some of this may be exam driven\nat some point for you, as well.\n\n60\n00:03:03.840 --> 00:03:06.730\nIf you want to pursue\nyour MCSA on Server 16,\n\n61\n00:03:06.730 --> 00:03:10.520\nthis is one of the three exams that\nyou're gonna have to take a look at.\n\n62\n00:03:10.520 --> 00:03:18.180\nThe 7740, 7741, 7742 exams all together\nmake up the MCSE for Server 16.\n\n63\n00:03:18.180 --> 00:03:23.380\nAnd so when we think about this, exam\ncertification, may be part of the mix and\n\n64\n00:03:23.380 --> 00:03:26.240\nyou want to understand that you could\ntake that knowledge you already possess.\n\n65\n00:03:26.240 --> 00:03:31.140\nAnd apply that going forward and\njust make sure that you are familiar with\n\n66\n00:03:31.140 --> 00:03:34.220\nsome of the details and remind yourself\nof the things we're gonna talk about.\n\n67\n00:03:34.220 --> 00:03:37.660\nI'm gonna show you some interesting\nways to look at the world,\n\n68\n00:03:37.660 --> 00:03:41.090\ngive you some resources that may or\nmay not make sense to you.\n\n69\n00:03:41.090 --> 00:03:45.070\nIf it's a new way of looking at how you\ndo subnetting, how you borrow bits.\n\n70\n00:03:45.070 --> 00:03:47.620\nHow you figure out the total\nnumber of usable hosts, great.\n\n71\n00:03:47.620 --> 00:03:49.530\nUse those resources, no problem.\n\n72\n00:03:49.530 --> 00:03:50.680\nIf you like them, I made them.\n\n73\n00:03:50.680 --> 00:03:54.290\nIf you don't well we know who we can\nthank for that right over there.\n\n74\n00:03:54.290 --> 00:03:57.890\nBut between Cherokee and I, we're gonna go\nthrough this with you, talk about this.\n\n75\n00:03:57.890 --> 00:04:00.690\nI know Cherokee's gonna ask some really\ninteresting questions along the way.\n\n76\n00:04:00.690 --> 00:04:03.600\nBecause I never doubt\nthe fact that she does and\n\n77\n00:04:03.600 --> 00:04:06.820\nshe never,\nnever disappoints when it comes to that.\n\n78\n00:04:06.820 --> 00:04:10.510\nAnd along the way, we're gonna show you\nhopefully in an easy to understand.\n\n79\n00:04:10.510 --> 00:04:13.750\nJust comfortable fashion how\nto engage in the concepts\n\n80\n00:04:13.750 --> 00:04:16.100\nof IVP four base networking so do that.\n\n81\n00:04:16.100 --> 00:04:17.680\nAnd lets start with just\nsome of the basics.\n\n82\n00:04:17.680 --> 00:04:20.730\nIf you could join me right\nover here there we go.\n\n83\n00:04:20.730 --> 00:04:25.460\nI wanna talk about the concept\nof IVP4 address comes to be.\n\n84\n00:04:25.460 --> 00:04:30.077\nAnd when we think about an IVP4\naddress very first thing we can do.\n\n85\n00:04:30.077 --> 00:04:31.460\nGive me just one second.\n\n86\n00:04:31.460 --> 00:04:34.260\nLet me just bring up a command line,\ncuz I have one but\n\n87\n00:04:34.260 --> 00:04:36.440\nI have it set up for something else.\n\n88\n00:04:36.440 --> 00:04:41.050\nWhen we think about an IPv4 address,\nand I know this is not Server 16,\n\n89\n00:04:41.050 --> 00:04:43.470\nthis is Windows 10 that you're looking at.\n\n90\n00:04:43.470 --> 00:04:47.860\nBut the interface, the tools are the same,\ndesktop version of the server side.\n\n91\n00:04:47.860 --> 00:04:50.120\nAnd just for purposes of demonstration,\nreally simple and\n\n92\n00:04:50.120 --> 00:04:54.370\neasy When we do an IP config command here.\n\n93\n00:04:54.370 --> 00:04:58.200\nWe just take a look at an IPv4 address,\nlet's go down here for\n\n94\n00:04:58.200 --> 00:05:02.830\njust one second and\njust highlight this address right here.\n\n95\n00:05:02.830 --> 00:05:07.630\nThis is what we are talking about right,\nsomething like ten zero ten 236 an IPv4\n\n96\n00:05:07.630 --> 00:05:12.380\naddress made up of four octates,\neach octate separated by a decimal.\n\n97\n00:05:12.380 --> 00:05:16.604\nSo 10 dot is octet number one,\n0 dot octet number two,\n\n98\n00:05:16.604 --> 00:05:21.130\n10 dot octet number three and\n236 octet number four.\n\n99\n00:05:21.130 --> 00:05:25.920\nThe numerical values are gonna be\nultimately derived from a series of bits.\n\n100\n00:05:25.920 --> 00:05:27.920\nThere are 8 bits that make up an octet.\n\n101\n00:05:27.920 --> 00:05:31.060\nHence the name and that's where we\nget the concept of the octet from and\n\n102\n00:05:31.060 --> 00:05:35.680\neach bit has a representational value from\nthe high order bit to the low order bit.\n\n103\n00:05:35.680 --> 00:05:39.100\nAlong that graph we just saw or\nthat line, that linear progression\n\n104\n00:05:39.100 --> 00:05:41.830\nI just had up in Excel, we'll go back and\ntake a look in a minute.\n\n105\n00:05:41.830 --> 00:05:45.760\nAnd by turning on or\nturning off those bits representing them\n\n106\n00:05:45.760 --> 00:05:48.900\nin binary with ones or\nzeros to signify on or off.\n\n107\n00:05:48.900 --> 00:05:51.690\nWe're then going to be able to\nchoose which bits we want to use.\n\n108\n00:05:51.690 --> 00:05:55.960\nAnd what the numerical values\nwill be of this particular octet,\n\n109\n00:05:55.960 --> 00:05:58.480\nessentially just add them all up.\n\n110\n00:05:58.480 --> 00:06:02.090\nAnd once we're done, we have a value\nderived from the bits that are on.\n\n111\n00:06:02.090 --> 00:06:05.330\nWe then put that value in there,\nwe do that four times, and ultimately,\n\n112\n00:06:05.330 --> 00:06:06.400\nwe wind up with an IP address.\n\n113\n00:06:06.400 --> 00:06:07.290\nNow the good news is,\n\n114\n00:06:07.290 --> 00:06:10.440\nwhen I say we do that,\nwe don't really need to do that, right?\n\n115\n00:06:10.440 --> 00:06:15.510\nEven if we are providing a static\nIP address, we are typing that in.\n\n116\n00:06:15.510 --> 00:06:19.450\nOne of us, myself, Cherokee,\nany of you, whoever, would put that in.\n\n117\n00:06:19.450 --> 00:06:22.630\nBut once we type that in,\nwe walk away from the computer.\n\n118\n00:06:22.630 --> 00:06:26.900\nThe translation from binary back to\ndot-decimal notation, which is how.\n\n119\n00:06:26.900 --> 00:06:27.840\nWe as humans,\n\n120\n00:06:27.840 --> 00:06:32.240\nreadable forms represent that IP\naddress and all the stuff that goes on.\n\n121\n00:06:32.240 --> 00:06:36.290\nNow we're gonna talk about here,\nreally none of that is our Bailey wick.\n\n122\n00:06:36.290 --> 00:06:38.730\nWe're not gonna have to worry about that,\nthankfully.\n\n123\n00:06:38.730 --> 00:06:41.840\nCan imagine the headaches involved\nwith us having to sit down and\n\n124\n00:06:41.840 --> 00:06:43.280\nscratch our heads Monday morning.\n\n125\n00:06:43.280 --> 00:06:47.070\nAll right, how do we write that again\nin binary and let's get our pad and\n\n126\n00:06:47.070 --> 00:06:50.200\nstart scribbling 1's and\n0's down by bit blocks.\n\n127\n00:06:50.200 --> 00:06:51.986\nThat's hard enough with IPv4.\n\n128\n00:06:51.986 --> 00:06:56.227\nWait until we get to IPv6 and we Take the\nnumber of bits and multiply it by four,\n\n129\n00:06:56.227 --> 00:06:57.848\nbecomes even more involved.\n\n130\n00:06:57.848 --> 00:07:00.450\nThen, and so, thankfully,\nhello, how are you?\n\n131\n00:07:00.450 --> 00:07:01.115\nNice to see you.\n\n132\n00:07:01.115 --> 00:07:03.780\n&gt;&gt; [LAUGH]\n&gt;&gt; So thankfully, as a result of that,\n\n133\n00:07:03.780 --> 00:07:08.110\nwe're gonna push that burden,\nthat liability, that concern.\n\n134\n00:07:08.110 --> 00:07:12.055\nThat work over to the computer which\nis very specifically designed,\n\n135\n00:07:12.055 --> 00:07:14.170\nmathematically inclined, right.\n\n136\n00:07:14.170 --> 00:07:15.656\nFor us to be able to do that,\n\n137\n00:07:15.656 --> 00:07:19.221\nbecause the math co-processor\nbits that are sitting in the CPU.\n\n138\n00:07:19.221 --> 00:07:21.782\nThe logic of implementation\nof the network stack,\n\n139\n00:07:21.782 --> 00:07:24.410\nall the tools required\nare sitting in the computer.\n\n140\n00:07:24.410 --> 00:07:28.000\nAll the computer has to be given is\nsome basic information, and it goes and\n\n141\n00:07:28.000 --> 00:07:28.850\ndoes its thing for us.\n\n142\n00:07:28.850 --> 00:07:30.850\nSo that part is actually very nice.\n\n143\n00:07:30.850 --> 00:07:33.610\nSo Cherokee wanted to ask a question\nhere real quick, so go ahead, Cherokee.\n\n144\n00:07:33.610 --> 00:07:36.230\n&gt;&gt; So I really don't have a question,\nbut I did wanna add something to that-\n\n145\n00:07:36.230 --> 00:07:37.190\n&gt;&gt; Yeah, absolutely.\n\n146\n00:07:37.190 --> 00:07:39.165\n&gt;&gt; So Adam, you're completely right.\n\n147\n00:07:39.165 --> 00:07:42.950\nIn real life we don't have to we have\nsubnet calculators and so forth.\n\n148\n00:07:42.950 --> 00:07:46.050\nIf someone, I know you said this\nisn't the proper show for that.\n\n149\n00:07:46.050 --> 00:07:50.685\nBut for me it would always help\nstart it initially starting,\n\n150\n00:07:50.685 --> 00:07:52.095\nbringing everything back to binary.\n\n151\n00:07:52.095 --> 00:07:55.380\nSo you could mentally kind of see\nyour least significant bit, and\n\n152\n00:07:55.380 --> 00:07:57.003\nwhere that shift is happening.\n\n153\n00:07:57.003 --> 00:08:00.751\nAnd putting it in that computer language\nso you could kinda think like a computer.\n\n154\n00:08:00.751 --> 00:08:03.711\nI don't know if you've ever\nhad that happen, yeah?\n\n155\n00:08:05.044 --> 00:08:07.797\n[LAUGH]\n&gt;&gt; Like that.\n\n156\n00:08:07.797 --> 00:08:09.358\n&gt;&gt; Like exactly-\n&gt;&gt; My God, look at that.\n\n157\n00:08:09.358 --> 00:08:10.141\n&gt;&gt; Adam, you've read my mind.\n\n158\n00:08:10.141 --> 00:08:11.412\n&gt;&gt; Couldn't have planned\nthat better if we tried.\n\n159\n00:08:11.412 --> 00:08:13.127\n&gt;&gt; [LAUGH]\n&gt;&gt; And you notice I was not actually,\n\n160\n00:08:13.127 --> 00:08:16.057\nyou didn't hear me clacking away, didn't\ntype while Cherokee was saying that.\n\n161\n00:08:16.057 --> 00:08:18.314\nWe have all of that already setup,\nas a matter of a fact,\n\n162\n00:08:18.314 --> 00:08:21.292\nif you happen to be looking at the\nspreadsheet that I'm gonna be walking us\n\n163\n00:08:21.292 --> 00:08:22.943\nthrough here over the next few minutes.\n\n164\n00:08:22.943 --> 00:08:24.880\nYou'll notice there's a lot of tabs here.\n\n165\n00:08:24.880 --> 00:08:29.109\nI did try to label them as obvious as I\ncould, the labels may not be perfectly\n\n166\n00:08:29.109 --> 00:08:32.488\nspot on with the definitions,\nbut they're pretty close.\n\n167\n00:08:32.488 --> 00:08:36.190\nAnd hopefully as we go through,\njust quickly preview it for you.\n\n168\n00:08:36.190 --> 00:08:38.101\nWe've got a discussion\nabout subnet mass and\n\n169\n00:08:38.101 --> 00:08:40.924\nhow that works got a binary bits there,\nwe'll take a look at that.\n\n170\n00:08:40.924 --> 00:08:44.355\nGot our IP address classes,\ngot our number of subnets,\n\n171\n00:08:44.355 --> 00:08:46.839\ngot our increments between addresses.\n\n172\n00:08:46.839 --> 00:08:48.211\n&gt;&gt; You've got all the good stuff.\n&gt;&gt; Number of usuable host,\n\n173\n00:08:48.211 --> 00:08:49.135\nI got a lot of stuff there.\n\n174\n00:08:49.135 --> 00:08:51.111\nI was really bored on-\n&gt;&gt; [LAUGH]\n\n175\n00:08:51.111 --> 00:08:52.366\n&gt;&gt; We had nothing to do.\n\n176\n00:08:52.366 --> 00:08:56.300\nAnd said how could possibly come up with a\nseven tab spreadsheet that when use end to\n\n177\n00:08:56.300 --> 00:08:59.561\nend would give people everything\nthey ever wanted to knowing more.\n\n178\n00:08:59.561 --> 00:09:00.258\n&gt;&gt; [INAUDIBLE].\n\n179\n00:09:00.258 --> 00:09:02.419\n&gt;&gt; About IP addressing,\nand so it's all here.\n\n180\n00:09:02.419 --> 00:09:04.287\nAnd the good news is we're\ngonna get through it all,\n\n181\n00:09:04.287 --> 00:09:05.954\nwe're gonna walk through\nwith you right now.\n\n182\n00:09:05.954 --> 00:09:08.203\nAnd perhaps at another episode,\ndepending how long this takes, but\n\n183\n00:09:08.203 --> 00:09:09.350\nwe're gonna get through this.\n\n184\n00:09:09.350 --> 00:09:10.850\nAnd together, myself, Cherokee,\n\n185\n00:09:10.850 --> 00:09:13.740\nall of you, we're gonna take a field\ntrip and talk about IP addressing.\n\n186\n00:09:13.740 --> 00:09:16.889\nBy the time we're done hopefully you're\ngonna be a lot more comfortable with it.\n\n187\n00:09:16.889 --> 00:09:19.266\nSo we're gonna provide for\nall of that, that's worth like.\n\n188\n00:09:19.266 --> 00:09:22.376\n&gt;&gt; I'm just wondering-\n&gt;&gt; On screen hype, there you go,\n\n189\n00:09:22.376 --> 00:09:23.325\nright there.\n\n190\n00:09:23.325 --> 00:09:25.613\n&gt;&gt; What is gonna be our\nIP version 4 souvenir?\n\n191\n00:09:25.613 --> 00:09:26.196\nFor a field trip?\n\n192\n00:09:26.196 --> 00:09:27.573\n&gt;&gt; Well they're gonna-\n&gt;&gt; [LAUGH]\n\n193\n00:09:27.573 --> 00:09:29.266\n&gt;&gt; Get this lovely spreadsheet customized\n\n194\n00:09:29.266 --> 00:09:31.099\nfor their needs, taking away with them.\n\n195\n00:09:31.099 --> 00:09:31.864\n&gt;&gt; That's nice of you.\n\n196\n00:09:31.864 --> 00:09:36.191\n&gt;&gt; And for hopefully for\nit to be a valuable resource for studying.\n\n197\n00:09:36.191 --> 00:09:38.232\nBut also just to remember\nhow these things work.\n\n198\n00:09:38.232 --> 00:09:41.539\nI do a lot of this kind of work when\nI teach, just basic classes and\n\n199\n00:09:41.539 --> 00:09:42.838\neven advanced classes.\n\n200\n00:09:42.838 --> 00:09:46.645\nAnd we do security stuff,\nwe do all sorts of crazy things.\n\n201\n00:09:46.645 --> 00:09:50.425\nAnd you've seen me do a lot of different\nshows with different topics here at\n\n202\n00:09:50.425 --> 00:09:51.110\nITPro.TV.\n\n203\n00:09:51.110 --> 00:09:54.409\nNot to mention all the work I do outside,\nwhen I'm working with customers and\n\n204\n00:09:54.409 --> 00:09:55.541\nwhen I'm in classrooms.\n\n205\n00:09:55.541 --> 00:10:00.550\nAnd some of the basic concepts, you don't\nget away from them, like you were saying.\n\n206\n00:10:00.550 --> 00:10:03.880\nI don't remember the last time I had\na conversation with a customer and\n\n207\n00:10:03.880 --> 00:10:07.750\nor a client in the field or a student.\n\n208\n00:10:07.750 --> 00:10:11.029\nWhere at some point I didn't have\nto reference something about one or\n\n209\n00:10:11.029 --> 00:10:12.962\nmore concepts related to IP addresses.\n\n210\n00:10:12.962 --> 00:10:16.084\nWhether they're version 4 or\nversion 6 at this point is irrelevant,\n\n211\n00:10:16.084 --> 00:10:17.029\njust general ideas.\n\n212\n00:10:17.029 --> 00:10:19.877\nAnd always needed to go\nback to those concepts.\n\n213\n00:10:19.877 --> 00:10:21.870\nHey, what's gonna be that subnet?\n\n214\n00:10:21.870 --> 00:10:24.220\nHow many networks do we need,\nhow many hosts?\n\n215\n00:10:24.220 --> 00:10:25.780\nWhat's that subnet mask?\n\n216\n00:10:25.780 --> 00:10:28.808\nHow are we gonna get from here\nto there going through two or\n\n217\n00:10:28.808 --> 00:10:30.206\nthree of these gateways?\n\n218\n00:10:30.206 --> 00:10:33.670\nAnd how are we gonna represent that,\nas we expand that maybe a little bit?\n\n219\n00:10:33.670 --> 00:10:37.334\nWhat's the DNS and\nindoor DHCP infrastructure we have to use?\n\n220\n00:10:37.334 --> 00:10:38.718\nIt would have to talk about\nthis stuff all the time.\n\n221\n00:10:38.718 --> 00:10:42.490\nWe take it for granted in many respects,\nbecause hopefully a lot of the time,\n\n222\n00:10:42.490 --> 00:10:44.357\nit really is just set it and forget it.\n\n223\n00:10:44.357 --> 00:10:46.549\nIt kind of works, and\nonce it's up and running,\n\n224\n00:10:46.549 --> 00:10:49.360\nwe dont' necessarily have to go back and\nmaintain it.\n\n225\n00:10:49.360 --> 00:10:53.494\nAnd you really go in there and play around\nwith it often, but we do at least have to\n\n226\n00:10:53.494 --> 00:10:57.353\nget the basic concepts down so\nwe can initialize our networks correctly.\n\n227\n00:10:57.353 --> 00:11:01.055\nAnd we can set them up and of course,\nongoing management and maintenance of it.\n\n228\n00:11:01.055 --> 00:11:04.565\nUsing these kinds of basic\nideas as helpful but\n\n229\n00:11:04.565 --> 00:11:07.181\nwe can then extrapolate this out.\n\n230\n00:11:07.181 --> 00:11:10.283\nWe'll talk about something known as IPAM,\nIP Address Management.\n\n231\n00:11:10.283 --> 00:11:13.478\nAs a feature said in Windows\ncoming up in some future episodes,\n\n232\n00:11:13.478 --> 00:11:15.304\nwe'll take a look at how to do that.\n\n233\n00:11:15.304 --> 00:11:17.997\nAnd those kind of things were helpful but\nit's the basics, right?\n\n234\n00:11:17.997 --> 00:11:20.519\nThe basic blocking intact\nlike that's really good.\n\n235\n00:11:20.519 --> 00:11:23.966\nAnd some of the calculators, Cherokee\nmention them, always helpful if you need\n\n236\n00:11:23.966 --> 00:11:26.866\nthem, you can find them online,\nthere's a whole variety of them.\n\n237\n00:11:26.866 --> 00:11:30.166\nBut you could actually use the Windows\ncalculator to do all that stuff as well as\n\n238\n00:11:30.166 --> 00:11:32.467\nlong as you're familiar with it and\nknow how to use it.\n\n239\n00:11:32.467 --> 00:11:37.327\nAnd the newer calculators in Server 2016\ncertainly in Windows 10 on the desktop,\n\n240\n00:11:37.327 --> 00:11:39.700\nactually have a bunch of other functions.\n\n241\n00:11:39.700 --> 00:11:42.076\nI tripped across one I wasn't even\nfamiliar with in the Windows 10\n\n242\n00:11:42.076 --> 00:11:43.670\nCalculator, and I'll show it to you.\n\n243\n00:11:43.670 --> 00:11:47.301\nYou could actually do dates, and\nyou could go ahead and extrapolate out.\n\n244\n00:11:47.301 --> 00:11:49.818\nAnd say I wanna essentially\nfigure out what the date for\n\n245\n00:11:49.818 --> 00:11:53.386\nthis day in the future will be like 200\nyears from now, that kind of thing.\n\n246\n00:11:53.386 --> 00:11:56.557\nBut it will actually let you do that\nalong with a bunch of other stuff.\n\n247\n00:11:56.557 --> 00:11:59.045\nIt's really kinda cool,\nthe features they've thrown in.\n\n248\n00:11:59.045 --> 00:12:00.665\nSo just what we would\nthink of as a calculator.\n\n249\n00:12:00.665 --> 00:12:03.455\nSo anyway, getting back to what\nwe're talking about there.\n\n250\n00:12:03.455 --> 00:12:05.741\nSo this idea of bits as we\nwere talking about, right?\n\n251\n00:12:05.741 --> 00:12:10.340\nWe've got the high order bit on the left\ngoing from high to lows, we go down.\n\n252\n00:12:10.340 --> 00:12:14.291\nSo we call this the highest order bit,\nwe call this the lowest order bit.\n\n253\n00:12:14.291 --> 00:12:18.371\nAnd all the bits in between are simply\ngonna represent each one of those\n\n254\n00:12:18.371 --> 00:12:23.072\nvalues in the 8 bits that we specified for\nan octet that could be turned on or off,\n\n255\n00:12:23.072 --> 00:12:25.592\nthinking about the concept of the binary.\n\n256\n00:12:25.592 --> 00:12:30.196\nSo if we do something here real quick,\nlet's just say that we,\n\n257\n00:12:31.791 --> 00:12:36.509\nPut in or think about putting\n\n258\n00:12:36.509 --> 00:12:41.035\nin here, just one second.\n\n259\n00:12:41.035 --> 00:12:43.875\nAll right, I'm not gonna type there\nbecause I can't seem to get my keyboard to\n\n260\n00:12:43.875 --> 00:12:44.616\nwork the right way.\n\n261\n00:12:44.616 --> 00:12:47.235\nSo we're not worried about typing for\nthe moment, I'm just gonna go ahead.\n\n262\n00:12:47.235 --> 00:12:48.951\nI'm just gonna go talk about this, but\n\n263\n00:12:48.951 --> 00:12:51.036\nwhen we think about being\nable to put binary in.\n\n264\n00:12:51.036 --> 00:12:55.403\nLet's just say hypothetically, we put\na 1 under the bit labeled 128, right?\n\n265\n00:12:55.403 --> 00:12:57.384\nOur first bit there going left to right.\n\n266\n00:12:57.384 --> 00:13:00.465\nAnd we said, we wanna turn that bit on or\nsend it to signify\n\n267\n00:13:00.465 --> 00:13:05.490\nthat that bit will be active, we have all\nzeros going across the rest of the 7 bits.\n\n268\n00:13:05.490 --> 00:13:09.258\nOur total value or the number that we\nwould derive from that would be 128.\n\n269\n00:13:09.258 --> 00:13:14.517\nAnd we would then have 1 bit turned\non since we 7 bits turned off.\n\n270\n00:13:14.517 --> 00:13:19.150\nAnd if we take a look at something like\nthis, we're just looking at over here.\n\n271\n00:13:19.150 --> 00:13:23.216\nIn red, you could see that when I put\nall 1s underneath each of the 8 bits\n\n272\n00:13:23.216 --> 00:13:25.094\nrepresenting that first block.\n\n273\n00:13:25.094 --> 00:13:28.966\nLet's just say right there,\nwe get a total value of 255, right?\n\n274\n00:13:28.966 --> 00:13:34.242\nAnd so the idea is that we can add up\nall these bits and signify or specify.\n\n275\n00:13:34.242 --> 00:13:37.439\nWe want certain numbers\navailable to us by putting a 1,\n\n276\n00:13:37.439 --> 00:13:42.008\nequivalent of 1, underneath the box or\nessentially just selecting that bit.\n\n277\n00:13:42.008 --> 00:13:47.305\nSo 128 and 64, if we turned on those\ntwo bits, we'd have a 192 value, right?\n\n278\n00:13:47.305 --> 00:13:49.238\nFor that particular item,\n\n279\n00:13:49.238 --> 00:13:54.454\nwe add 32 in there with 192 as we go\nthat kind of way from left to right.\n\n280\n00:13:54.454 --> 00:13:56.788\nWe just keep incrementing and going, and\n\n281\n00:13:56.788 --> 00:14:00.662\nwe go from 128 all the way over\nto 255 when we add everything up.\n\n282\n00:14:00.662 --> 00:14:05.638\nAnd so as we think about working with\nthe octet and looking at the placement of\n\n283\n00:14:05.638 --> 00:14:10.481\nbits inside the octet that signify on or\noff or ultimately signify value.\n\n284\n00:14:10.481 --> 00:14:14.020\nWe have to understand that the total\nvalue of all the bits is 255.\n\n285\n00:14:14.020 --> 00:14:16.620\nAnd these are the actual\nnumerical values for\n\n286\n00:14:16.620 --> 00:14:18.952\nthe bits as we go from highest to lowest.\n\n287\n00:14:18.952 --> 00:14:21.784\nSo it is important just to\nhave that basic idea and\n\n288\n00:14:21.784 --> 00:14:24.560\nto be aware of that basic\nidea as we get started.\n\n289\n00:14:24.560 --> 00:14:27.822\nSo any thoughts, comments, questions?\n\n290\n00:14:27.822 --> 00:14:30.113\n&gt;&gt; Is this called the delta\nchart by any chance?\n\n291\n00:14:30.113 --> 00:14:32.670\n&gt;&gt; It's actually called the Adam\nchart because I created it.\n\n292\n00:14:32.670 --> 00:14:35.141\n&gt;&gt; [LAUGH]\n&gt;&gt; So it's not called the delta chart,\n\n293\n00:14:35.141 --> 00:14:37.454\nI call my chart the octet bits chart-\n&gt;&gt; [LAUGH]\n\n294\n00:14:37.454 --> 00:14:39.666\n&gt;&gt; But you could label it all sorts of\n\n295\n00:14:39.666 --> 00:14:40.855\nstuff I suppose.\n\n296\n00:14:40.855 --> 00:14:43.630\nIt's not necessarily\nreferred to by any one name.\n\n297\n00:14:43.630 --> 00:14:46.710\nAll kidding aside, it could be referred\nto by lots of different names.\n\n298\n00:14:46.710 --> 00:14:48.983\nI've seen it referred to as a delta chart,\nbut\n\n299\n00:14:48.983 --> 00:14:52.083\nyou gotta be careful sometimes\nwith terms like delta, right?\n\n300\n00:14:52.083 --> 00:14:56.660\nFor instance, hypothetically because\ndelta in our world in IT, right?\n\n301\n00:14:56.660 --> 00:15:00.360\nAnd let's not even worry about\nthings like engineering and\n\n302\n00:15:00.360 --> 00:15:03.620\nSDLC, Software System Design,\nLife Cycle, etc.\n\n303\n00:15:03.620 --> 00:15:08.300\nJust generally the concept of a delta\nin IT often represents the change.\n\n304\n00:15:08.300 --> 00:15:11.686\nOr a shift of some kind from\na baseline and then adding and\n\n305\n00:15:11.686 --> 00:15:14.220\nremoving things based on modification.\n\n306\n00:15:14.220 --> 00:15:18.333\nWhile we could use that to refer to this,\nthat may give somebody who's not thinking\n\n307\n00:15:18.333 --> 00:15:21.288\nIP address first,\nperhaps the wrong impression, right?\n\n308\n00:15:21.288 --> 00:15:24.147\nSo I don't know if I'd call it a delta\nchart, I've heard it referred to that way.\n\n309\n00:15:24.147 --> 00:15:26.500\n&gt;&gt; Yeah, I've seen it written\nlike that in book, and\n\n310\n00:15:26.500 --> 00:15:28.597\nthen some people even\nsay to find your delta.\n\n311\n00:15:28.597 --> 00:15:30.781\nAnd I always say find your increment,\nwhen we're creating it, so-\n\n312\n00:15:30.781 --> 00:15:31.548\n&gt;&gt; Increment's a better term.\n\n313\n00:15:31.548 --> 00:15:32.189\n&gt;&gt; Okay.\n\n314\n00:15:32.189 --> 00:15:35.582\n&gt;&gt; Only because increment implies,\nwe're going up or down.\n\n315\n00:15:35.582 --> 00:15:37.390\nAnd again,\nwe're making a change in theory.\n\n316\n00:15:37.390 --> 00:15:40.892\nIt is a delta, but the delta concept,\nthis is a vocabulary term,\n\n317\n00:15:40.892 --> 00:15:42.817\nreally has a broader connotation.\n\n318\n00:15:42.817 --> 00:15:44.367\n&gt;&gt; Sure.\n&gt;&gt; When you hear people talk about\n\n319\n00:15:44.367 --> 00:15:46.720\nIP addressing, and\nthey're talking about the bit shift.\n\n320\n00:15:46.720 --> 00:15:49.481\nWhich is essentially what we're\ntalking about in a concept,\n\n321\n00:15:49.481 --> 00:15:51.614\nthen really talk about\nfinding our increment.\n\n322\n00:15:51.614 --> 00:15:54.127\nAnd that's the term you often hear, right?\n\n323\n00:15:54.127 --> 00:15:57.044\nIs finding the incrimeter, or\noccasionally you hear a bit shift, but\n\n324\n00:15:57.044 --> 00:15:58.736\nbit shift can mean other things as well.\n\n325\n00:15:58.736 --> 00:16:02.105\nSo it's kind of an upside down,\nFive process, right?\n\n326\n00:16:02.105 --> 00:16:04.172\nIt can kind of go either way, I supposed.\n\n327\n00:16:04.172 --> 00:16:04.863\nAll right, so\n\n328\n00:16:04.863 --> 00:16:08.910\njust think about the concept of the Octet\n,think about breaking down to bits.\n\n329\n00:16:08.910 --> 00:16:12.020\nThink about being able to\nunderstand the logic of eight bit.\n\n330\n00:16:12.020 --> 00:16:14.240\nYou put the numerical value assign to it.\n\n331\n00:16:14.240 --> 00:16:17.310\nBeing specified with a one or\na zero and binary on or off.\n\n332\n00:16:17.310 --> 00:16:21.290\nAnd then aggregating, or adding up\nall of the bits that are turned on\n\n333\n00:16:21.290 --> 00:16:23.810\nto derive that value for\nthe IP address, right?\n\n334\n00:16:23.810 --> 00:16:28.740\nAnd so, if we wanted to get a ten,\nwhich we saw in our IP address.\n\n335\n00:16:28.740 --> 00:16:35.379\nWe would put 00000 or excuse me 4 0's,\na 1, and then a 0, a 1 and a 0, right?\n\n336\n00:16:35.379 --> 00:16:41.210\nSo that would give us the fifth bit,\nand the sixth bit,\n\n337\n00:16:41.210 --> 00:16:45.010\nfifth bit, and the seventh bit turned on\nand the other bits turned off, right?\n\n338\n00:16:45.010 --> 00:16:48.510\nAnd by doing that we would then add eight\nand two, and we would ultimately get 10.\n\n339\n00:16:48.510 --> 00:16:50.960\nSo that's the kind of thing that we're\nthinking about as we go left to right,\n\n340\n00:16:50.960 --> 00:16:51.530\nall right?\n\n341\n00:16:51.530 --> 00:16:53.240\n&gt;&gt; And using this chart\nalso is really helpful when\n\n342\n00:16:53.240 --> 00:16:54.300\nyou're checking your work-\n&gt;&gt; Yeah, yeah.\n\n343\n00:16:54.300 --> 00:16:55.550\n&gt;&gt; Or\ndoing any kind of reverse engineering.\n\n344\n00:16:55.550 --> 00:16:56.765\nSo it's a good tool to share with people.\n\n345\n00:16:56.765 --> 00:16:57.772\n&gt;&gt; It is, it's helpful.\n\n346\n00:16:57.772 --> 00:17:01.005\nIt's just a good to way to think about\njust as you look up you go, wait,\n\n347\n00:17:01.005 --> 00:17:03.185\nthose are the bits and\nI can kinda figured it out.\n\n348\n00:17:03.185 --> 00:17:07.295\nIn a lot of networking discussion\nyou'll often see the printed out, or\n\n349\n00:17:07.295 --> 00:17:10.191\nsomebody has maybe up on the wall,\nor things like that.\n\n350\n00:17:10.191 --> 00:17:12.984\nYou could do all sorts of\nthings to get through this.\n\n351\n00:17:12.984 --> 00:17:16.321\n&gt;&gt; I've even written it down on the little\nboards they give you before an exam during\n\n352\n00:17:16.321 --> 00:17:18.245\nthat time,\nbefore your ticker starts going.\n\n353\n00:17:18.245 --> 00:17:22.285\n&gt;&gt; Yeah, right, you get a little dry erase\nboard Graph paper you can write that down\n\n354\n00:17:22.285 --> 00:17:25.210\nand bring it in with,\nthis kinda laid out and see it.\n\n355\n00:17:25.210 --> 00:17:27.290\nCisco exams probably really\nhelpful there I would think.\n\n356\n00:17:27.290 --> 00:17:30.067\n&gt;&gt; Yeah.\n&gt;&gt; Right especially, Microsoft doesn't\n\n357\n00:17:30.067 --> 00:17:34.870\ntend to spend as much time going into the\ndeep dark recesses of networking around\n\n358\n00:17:34.870 --> 00:17:39.041\nthe bits, and things like that as\na Cisco exam for instance, right?\n\n359\n00:17:39.041 --> 00:17:41.781\nBecause it's really designed,\nCisco exams are,\n\n360\n00:17:41.781 --> 00:17:45.750\nto test your knowledge of the concepts\nof networking theoretically.\n\n361\n00:17:45.750 --> 00:17:48.730\nAnd then apply them to their\ninterfaces in the way they configure.\n\n362\n00:17:48.730 --> 00:17:51.980\nThe CCNT, the CCNA,\nright, especially there.\n\n363\n00:17:51.980 --> 00:17:55.450\nBut you know with Microsoft,\nwe expect basic knowledge as a baseline.\n\n364\n00:17:55.450 --> 00:17:58.410\nWe expect you would understand\nwhat an IP address is,\n\n365\n00:17:58.410 --> 00:18:00.180\nexpect you to know how to do subnetting.\n\n366\n00:18:00.180 --> 00:18:03.663\nWe may give you one or more IPs and say,\nhey what's this network gonna be, or\n\n367\n00:18:03.663 --> 00:18:06.066\nwhat's the host gonna be,\nor something like that.\n\n368\n00:18:06.066 --> 00:18:09.462\nBut you're not gonna get in to a lot\nof the craziness you may see in a Cisco\n\n369\n00:18:09.462 --> 00:18:10.940\nexam right, traditionally.\n\n370\n00:18:10.940 --> 00:18:14.256\nSo, it's good to know, it's never\ngonna hurt, you it's good father for\n\n371\n00:18:14.256 --> 00:18:15.859\nwhen you play geek trivia, right?\n\n372\n00:18:15.859 --> 00:18:16.411\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n373\n00:18:16.411 --> 00:18:18.616\nyou seat down at the bar\nyou got nothing to do,\n\n374\n00:18:18.616 --> 00:18:21.490\nimpress your friends make new friends.\n\n375\n00:18:21.490 --> 00:18:25.020\nDraw your subnetting grid there\nright on the bar, and beg people for\n\n376\n00:18:25.020 --> 00:18:27.160\ndrinks as to whether or not you\ncould get what ever drinks they have\n\n377\n00:18:27.160 --> 00:18:27.960\n&gt;&gt; I'm gonna plead the fifth on that\n\n378\n00:18:27.960 --> 00:18:28.920\ntopic right there [LAUGH].\n\n379\n00:18:28.920 --> 00:18:31.529\n&gt;&gt; I'm assuming that means there may\nhave been some experience in the past,\n\n380\n00:18:31.529 --> 00:18:33.120\nin Cherokee's-\n&gt;&gt; May or may have not.\n\n381\n00:18:33.120 --> 00:18:36.250\n&gt;&gt; Cherokee's history,\ncheckered and colored though it is.\n\n382\n00:18:36.250 --> 00:18:38.550\nAll right so,\nwhen we think about IP addresses,\n\n383\n00:18:38.550 --> 00:18:44.320\nthe next stop down on the IP address\ndiscussion, just to go here.\n\n384\n00:18:44.320 --> 00:18:45.890\nWe just talked about IP addresses.\n\n385\n00:18:45.890 --> 00:18:47.280\nLet's talk about this next item down.\n\n386\n00:18:47.280 --> 00:18:49.450\nLet's just highlight this\nright here real quick.\n\n387\n00:18:49.450 --> 00:18:51.990\nLet's talk about this\nconcept of the Subnet Mask.\n\n388\n00:18:51.990 --> 00:18:55.620\nAnd we wanna talk about it in\nrelation to the IP Address,\n\n389\n00:18:55.620 --> 00:18:58.060\ncuz that's really how we\nunderstand Subnet Mask.\n\n390\n00:18:58.060 --> 00:19:01.660\nOne thing about the IP Address,\nwhich the Subnet Mask makes very clear is\n\n391\n00:19:01.660 --> 00:19:04.750\nthat on surface of the IP Address\nis kind of unassuming, right?\n\n392\n00:19:04.750 --> 00:19:06.700\nSo it's got four bits there or\n\n393\n00:19:06.700 --> 00:19:10.630\nfour octet rather specified with\na numerical value associated there.\n\n394\n00:19:12.960 --> 00:19:15.758\nAnd [COUGH], when we think about\nlooking at the IP address,\n\n395\n00:19:15.758 --> 00:19:19.182\nwhat we really see, at least as an IT\nprofessional, when we look at it,\n\n396\n00:19:19.182 --> 00:19:23.035\nas somebody who is understanding it,\nwe see two distinctly different things.\n\n397\n00:19:23.035 --> 00:19:27.713\nWe see both a network portion of\nthe IP address, in other words,\n\n398\n00:19:27.713 --> 00:19:31.628\nan indicator of some\nassociation with a broad group.\n\n399\n00:19:31.628 --> 00:19:34.037\nAnd then we see a portion that is unique.\n\n400\n00:19:34.037 --> 00:19:36.194\nWe see a individual host address, or\n\n401\n00:19:36.194 --> 00:19:40.620\nthe portion of that address that\nidentifies this particular endpoint.\n\n402\n00:19:40.620 --> 00:19:43.250\nIn this case,\none of the network interfaces on my\n\n403\n00:19:43.250 --> 00:19:47.080\nmachine that we're talking through\nhere as being uniquely setup, or\n\n404\n00:19:47.080 --> 00:19:50.920\nuniquely identified within the broader\ngroup or context of the network.\n\n405\n00:19:50.920 --> 00:19:53.380\nAnd so there's a lot of subtleties\nassociated with looking at\n\n406\n00:19:53.380 --> 00:19:53.960\nan IP address, right?\n\n407\n00:19:53.960 --> 00:19:57.370\nBecause, it has a lot of things associated\nwith it, and we may not just stop and\n\n408\n00:19:57.370 --> 00:19:58.010\nthink about normally.\n\n409\n00:19:58.010 --> 00:20:01.646\nWe'll say, we need that IP address,\n10.0.10.236, so\n\n410\n00:20:01.646 --> 00:20:05.901\nI can connect this machine or map a drive,\nor who knows whatever I wanna do, right?\n\n411\n00:20:05.901 --> 00:20:08.441\nAnd what we're really\nsaying when we say that is,\n\n412\n00:20:08.441 --> 00:20:10.920\nI need to know the network\nyou remember of.\n\n413\n00:20:10.920 --> 00:20:14.222\nAnd I need to know your unique\nidentifier within the network,\n\n414\n00:20:14.222 --> 00:20:17.663\nbecause that's how we break down and\nunderstand an IP address.\n\n415\n00:20:17.663 --> 00:20:20.585\nSo when we think about a subnet mask,\nwe think about and\n\n416\n00:20:20.585 --> 00:20:23.250\nunderstand the tool that\nhelps us to do this.\n\n417\n00:20:23.250 --> 00:20:27.200\nOr helps us to understand how\nto split the IP address into\n\n418\n00:20:27.200 --> 00:20:30.475\nthese two constituent parts, right?\n\n419\n00:20:30.475 --> 00:20:33.195\n255.255.00 is what we see there for\nour subnet mask.\n\n420\n00:20:33.195 --> 00:20:34.403\nAnd in this case,\n\n421\n00:20:34.403 --> 00:20:39.723\nwe see that the 255 values are the values\nthat signify that all eight bits for\n\n422\n00:20:39.723 --> 00:20:44.007\nthe first octet and indeed for\nthe second octet are being used.\n\n423\n00:20:44.007 --> 00:20:49.082\nThose 16 bits, the first groups or\ntwo groups that they've added together,\n\n424\n00:20:49.082 --> 00:20:52.960\n16 bits out of a possible 32,\nare being used to specify.\n\n425\n00:20:52.960 --> 00:20:58.080\nIn this case, that we have the first\ntwo portions of the IP address,\n\n426\n00:20:58.080 --> 00:21:00.920\n10 and 0, being linked to our network ID.\n\n427\n00:21:00.920 --> 00:21:06.630\nAnd then the other two, the zeroes,\nso subnet mask 255.255 and then 0.0,\n\n428\n00:21:06.630 --> 00:21:11.487\nthe last two octets, octets three and\nfour, specify no bits turned on.\n\n429\n00:21:11.487 --> 00:21:14.900\nNo bits being used,\nthat's what the zero value comes from.\n\n430\n00:21:14.900 --> 00:21:19.990\nThat indicates to us that the last two\nblocks, or parts of the IP address,\n\n431\n00:21:19.990 --> 00:21:25.026\noctets three and four 10.236, represent\nthe unique host ID within the network.\n\n432\n00:21:25.026 --> 00:21:30.003\nAnd so 10.0 is our network and 10.236,\nif we were just roughly literally\n\n433\n00:21:30.003 --> 00:21:34.481\nto take the IP address and kinda split\nit evenly down the middle and push to of\n\n434\n00:21:34.481 --> 00:21:38.775\nthe four blocks off to the side, and\nthe other two off to the other side.\n\n435\n00:21:38.775 --> 00:21:43.095\nLabel the first two network,\nlabel the other two host.\n\n436\n00:21:43.095 --> 00:21:47.155\nWe would see that we have indeed\nan actual distinction in the network and\n\n437\n00:21:47.155 --> 00:21:47.805\nthe host idea.\n\n438\n00:21:47.805 --> 00:21:51.200\nAnd this is how we can derive\na unique identity for each machine.\n\n439\n00:21:51.200 --> 00:21:53.172\nAnd I'm sure you are all familiar with,\n\n440\n00:21:53.172 --> 00:21:56.421\nwe've all seen the rule that I'm\nabout describe to you in action.\n\n441\n00:21:56.421 --> 00:21:59.846\nAt some point if you've been doing\nthis long enough, where we connect\n\n442\n00:21:59.846 --> 00:22:03.397\ntwo machines that have the same IP\naddress on the same subnet on a way.\n\n443\n00:22:03.397 --> 00:22:06.644\nIn other words, you're network together\nessentially on the same switch, so\n\n444\n00:22:06.644 --> 00:22:09.411\nthey would see each other,\nwe get an IP address conflict, right?\n\n445\n00:22:09.411 --> 00:22:13.659\nWe usually get a pop up, it's usually\na dialog box that shows up on the screen.\n\n446\n00:22:13.659 --> 00:22:17.318\nIt's got the red circle in there,\nright and it says, hey by the way,\n\n447\n00:22:17.318 --> 00:22:20.681\nIP address conflict lists the IP\ntells you there's a problem.\n\n448\n00:22:20.681 --> 00:22:23.241\nAnd then you go on\nthe needle in the haystack,\n\n449\n00:22:23.241 --> 00:22:26.141\ntry to figure out what the other\nendpoint of that conflict is.\n\n450\n00:22:26.141 --> 00:22:29.607\nAnd you gotta go, and\nyou gotta figure out which machine or\n\n451\n00:22:29.607 --> 00:22:32.672\nmachines have come up with\nan IP address conflict.\n\n452\n00:22:32.672 --> 00:22:36.691\nI often thought, I talk about UI interface\ndesign and what a good thing would be.\n\n453\n00:22:36.691 --> 00:22:39.521\nIt would be awesome if they have\nthe availability to obvious to do this and\n\n454\n00:22:39.521 --> 00:22:42.550\npop up and say, okay, hey,\nclearly, there's an IP conflict.\n\n455\n00:22:42.550 --> 00:22:45.900\nYou're on a system, where two hosts\nare not uniquely identifying any longer.\n\n456\n00:22:45.900 --> 00:22:47.080\n&gt;&gt; It's not letting you type it in.\n\n457\n00:22:47.080 --> 00:22:47.721\n&gt;&gt; No, not even that, no.\n\n458\n00:22:47.721 --> 00:22:51.453\nI mean, that would be cool, don't get\nme wrong, but I was thinking more like,\n\n459\n00:22:51.453 --> 00:22:54.880\nlet's bring Bing Maps to the table,\nor Google Maps, or whatever.\n\n460\n00:22:54.880 --> 00:22:56.395\nLet's just bring up like a plot.\n\n461\n00:22:56.395 --> 00:22:57.640\n&gt;&gt; [LAUGH]\n&gt;&gt; And let's give you the ability\n\n462\n00:22:57.640 --> 00:22:58.520\nto find that machine.\n\n463\n00:22:58.520 --> 00:22:59.540\n&gt;&gt; Narrow in on the culprit.\n\n464\n00:22:59.540 --> 00:23:00.420\n&gt;&gt; And just zero in, and\n\n465\n00:23:00.420 --> 00:23:03.685\nthen you have a, like in Battleship you\ncan just drop a bomb, or something.\n\n466\n00:23:03.685 --> 00:23:04.990\n&gt;&gt; [LAUGH] Yeah.\n&gt;&gt; And just blow the machine,\n\n467\n00:23:04.990 --> 00:23:07.860\nyou can send it a ping the death\npacket and take the machine offline.\n\n468\n00:23:07.860 --> 00:23:13.180\nI mean, that would be a cool option, talk\nabout UI design benefits IT professionals.\n\n469\n00:23:13.180 --> 00:23:14.320\nI want the ability to go out and\n\n470\n00:23:14.320 --> 00:23:19.380\nkill my IP conflict partner in real time\nby taking him or her off the network.\n\n471\n00:23:19.380 --> 00:23:20.880\nThat will be a cool feature.\n\n472\n00:23:20.880 --> 00:23:24.350\nI would actually pay money for an OS that\ndoes that, but that's just me, right.\n\n473\n00:23:24.350 --> 00:23:26.670\n&gt;&gt; Have you contacted\nMicrosoft with these ideas?\n\n474\n00:23:26.670 --> 00:23:29.750\n&gt;&gt; I have not because I just haven't\ngotten around to it and well,\n\n475\n00:23:29.750 --> 00:23:30.810\nyou know,\n&gt;&gt; They don't like to\n\n476\n00:23:30.810 --> 00:23:32.660\ntalk to people [LAUGH]\nthat act crazy like that.\n\n477\n00:23:32.660 --> 00:23:35.400\nBut, you know, just think about\nthe logic and all kidding aside, right?\n\n478\n00:23:35.400 --> 00:23:36.245\nObviously, clearly,\n\n479\n00:23:36.245 --> 00:23:38.940\nwe're not looking to design the next\ngreat video game interface.\n\n480\n00:23:38.940 --> 00:23:41.220\nBut if you think about the logic, right?\n\n481\n00:23:41.220 --> 00:23:44.897\nWouldn't it be great if it actually\ntold you what the other machine was or\n\n482\n00:23:44.897 --> 00:23:46.052\ntold you where it was?\n\n483\n00:23:46.052 --> 00:23:49.463\nOr, Cherokee to your point, wouldn't\nit be great if it also gave you the,\n\n484\n00:23:49.463 --> 00:23:51.701\nprevented you in theory,\nfrom putting that in.\n\n485\n00:23:51.701 --> 00:23:55.117\nOr at least gave you some sort of\nadditional information other than Hey,\n\n486\n00:23:55.117 --> 00:23:56.353\nsomebody made a mistake.\n\n487\n00:23:56.353 --> 00:23:59.423\nAnd now you go and figure it out cuz\nthat's all it's really doing, right?\n\n488\n00:23:59.423 --> 00:24:01.199\nSo it is helpful, right?\n\n489\n00:24:01.199 --> 00:24:05.611\nBut the idea would be that it could be\nmore hopeful is all I'm suggesting to you.\n\n490\n00:24:05.611 --> 00:24:07.997\nAll right, so anyway, so\nthe subnet mask, right?\n\n491\n00:24:07.997 --> 00:24:10.654\nHelps us to understand and\nidentify how to break up and\n\n492\n00:24:10.654 --> 00:24:13.146\ndistinguish between the network and\nthe host ID.\n\n493\n00:24:13.146 --> 00:24:18.001\nThis is also a critical component of what\nwe talk about, and if we go back here.\n\n494\n00:24:18.001 --> 00:24:22.585\nAnd we go to this tab right here,\nsecond tab moving left to right on our\n\n495\n00:24:22.585 --> 00:24:27.026\nspreadsheet or our book of knowledge\nwhen it comes to networking.\n\n496\n00:24:27.026 --> 00:24:29.813\nIt's called the workbook of network,\nthat's what I'm gonna call it-\n\n497\n00:24:29.813 --> 00:24:30.376\n&gt;&gt; I like it.\n\n498\n00:24:30.376 --> 00:24:31.357\n&gt;&gt; The workbook of networking.\n\n499\n00:24:31.357 --> 00:24:36.318\n[CROSSTALK] So you'll see that we have\nat least of the default subnet mask for\n\n500\n00:24:36.318 --> 00:24:39.008\nclass A, class B and class C addresses.\n\n501\n00:24:39.008 --> 00:24:41.940\nWe'll talk about address\nclasses in just a moment.\n\n502\n00:24:41.940 --> 00:24:44.476\nYou'll see I've got a little chart\nhere that gets us to all that, and\n\n503\n00:24:44.476 --> 00:24:45.975\nwe'll talk about that in just a second.\n\n504\n00:24:45.975 --> 00:24:47.929\nBut I listed them, and I color coded them.\n\n505\n00:24:47.929 --> 00:24:51.704\nAnd if you don't prefer red, if you prefer\na different color, feel free to change it,\n\n506\n00:24:51.704 --> 00:24:53.947\nif you download this from\nthe show notes and use it.\n\n507\n00:24:53.947 --> 00:24:56.890\nI just put it in red,\njust to make it stand out for you.\n\n508\n00:24:56.890 --> 00:25:01.260\nBut you'll see that I color coded\nthe default subnet mask identifier for\n\n509\n00:25:01.260 --> 00:25:04.150\nthe network portion of the subnet mask.\n\n510\n00:25:04.150 --> 00:25:07.740\nAnd I color coded the binary bits here\nthat Cherokee was asking about earlier.\n\n511\n00:25:07.740 --> 00:25:12.033\nSo that way, as we go back between\nthe two, we can see that a 255 for\n\n512\n00:25:12.033 --> 00:25:15.972\nthe first octet, represents\nthe first 8 bits been to all 1s.\n\n513\n00:25:15.972 --> 00:25:17.471\nThe rest are being set to all 0s.\n\n514\n00:25:17.471 --> 00:25:21.845\nThey color code to the host portion\nof the default subnet mask for\n\n515\n00:25:21.845 --> 00:25:23.878\na class A IP address or range.\n\n516\n00:25:23.878 --> 00:25:26.705\nAnd then we would see that I\nput the network prefix here,\n\n517\n00:25:26.705 --> 00:25:30.393\nreally just the short hand notation for\nhow we would write a subnet mask.\n\n518\n00:25:30.393 --> 00:25:34.479\nWe could write the IP address 10.001 and\n\n519\n00:25:34.479 --> 00:25:39.623\nthen put 2550004 for\nthe subnet, that's right.\n\n520\n00:25:39.623 --> 00:25:43.386\nWe could do that, but that's kinda old\nschool and that takes a long time and\n\n521\n00:25:43.386 --> 00:25:44.359\ngot to type it all.\n\n522\n00:25:44.359 --> 00:25:46.013\n&gt;&gt; Nobody likes to type these days, yeah.\n\n523\n00:25:46.013 --> 00:25:47.400\n&gt;&gt; No place to type-\n&gt;&gt; [LAUGH]\n\n524\n00:25:47.400 --> 00:25:48.367\n&gt;&gt; These days, got no room, right?\n\n525\n00:25:48.367 --> 00:25:53.047\nSo instead keeping with the times, and\nmaking everything more short, compact, and\n\n526\n00:25:53.047 --> 00:25:54.029\neasier, right?\n\n527\n00:25:54.029 --> 00:25:57.750\nWe could go ahead and we're able\nto use this short hand notations,\n\n528\n00:25:57.750 --> 00:26:01.412\n/notation is what it's referred\nto as in slang traditionally.\n\n529\n00:26:01.412 --> 00:26:06.110\nAnd the /notation for a default class\nin subnet mask is just simply /8.\n\n530\n00:26:06.110 --> 00:26:09.539\nThe number there, 8 in this case\nrepresents the number of bits that had\n\n531\n00:26:09.539 --> 00:26:12.409\nbeen dedicated for\nthe network portion of the subnet mask.\n\n532\n00:26:12.409 --> 00:26:15.962\nAnd you'll see here that we have\n255 equaling all 8 bits and\n\n533\n00:26:15.962 --> 00:26:17.512\nthat's what we would see.\n\n534\n00:26:17.512 --> 00:26:22.538\nSo you will often see an IP address\n10001 /8, and that signifies\n\n535\n00:26:22.538 --> 00:26:28.512\nthe default class A subnet mask for\n8 bits being turned on or 255002, right?\n\n536\n00:26:28.512 --> 00:26:32.308\nThat's what you would often take away\nfrom that, so just be aware of that, and\n\n537\n00:26:32.308 --> 00:26:33.874\njust keep that in mind, right?\n\n538\n00:26:33.874 --> 00:26:36.585\nAll right, so when we have that,\nwe'll think about the chart here.\n\n539\n00:26:36.585 --> 00:26:41.100\nYou'll see for class B, we have 2 of the 4\noctets being given over to the network,\n\n540\n00:26:41.100 --> 00:26:43.565\nand so therefore 16 bits being specified.\n\n541\n00:26:43.565 --> 00:26:48.054\nAnd then for class C3 4 octet for\nthe subnet mask specifically.\n\n542\n00:26:48.054 --> 00:26:53.252\nAnd only being identified\nas network 255255255/24.\n\n543\n00:26:53.252 --> 00:26:56.506\nAnd then 1 of the 4 octets being\ngiven over to the host range,\n\n544\n00:26:56.506 --> 00:26:58.455\nand that will give us the last octet.\n\n545\n00:26:58.455 --> 00:27:02.065\nSo this brings up an interesting point or\nconversation here which is,\n\n546\n00:27:02.065 --> 00:27:04.097\nwe have different IP address classes.\n\n547\n00:27:04.097 --> 00:27:06.040\nYou see three of them, class A, B and C.\n\n548\n00:27:06.040 --> 00:27:09.060\nWe actually have a total of five\nthe way identifying IPv4 networks.\n\n549\n00:27:09.060 --> 00:27:12.053\nI left off classes D and\nE here on this particular chart,\n\n550\n00:27:12.053 --> 00:27:15.953\njust because we're not traditionally\ndealing with subnetting those.\n\n551\n00:27:15.953 --> 00:27:18.294\nWe're just gonna normally talk about A,\nB, and C,\n\n552\n00:27:18.294 --> 00:27:20.115\ncuz being where we focus our attention.\n\n553\n00:27:20.115 --> 00:27:22.563\nBut a total of five, class A, class B, and\n\n554\n00:27:22.563 --> 00:27:26.439\nclass C are the traditional production\nnetworks that we would use.\n\n555\n00:27:26.439 --> 00:27:30.244\nRoute traffic across, whether we\nuse private IP addressing, and for\n\n556\n00:27:30.244 --> 00:27:32.834\npublic available public\nrouted IP addresses.\n\n557\n00:27:32.834 --> 00:27:36.002\nOr automatic private IP address and\nwe'll talk about all that.\n\n558\n00:27:36.002 --> 00:27:38.035\nBut we will traditionally think of A,\nB and\n\n559\n00:27:38.035 --> 00:27:40.870\nCs being the classes we go into\nproduction with primarily.\n\n560\n00:27:40.870 --> 00:27:43.957\nClass D is slipped in there although\nwe don't often talk about it.\n\n561\n00:27:43.957 --> 00:27:45.438\nIt's the multicasting, right?\n\n562\n00:27:45.438 --> 00:27:49.880\nSo we will use class D for\nmulticasting, we use multicasting for\n\n563\n00:27:49.880 --> 00:27:51.366\na variety of things.\n\n564\n00:27:51.366 --> 00:27:52.630\nWhether it is disc imaging,\n\n565\n00:27:52.630 --> 00:27:56.062\nwhether it's streaming media, a lot of\ndifferent stuff we would use there.\n\n566\n00:27:56.062 --> 00:28:00.379\nAnd then class E are experimental\nsometimes called the expansion range,\n\n567\n00:28:00.379 --> 00:28:03.998\nis used and reserved for testing and\nvarious things that may or\n\n568\n00:28:03.998 --> 00:28:05.961\nmay not go on in normal networks.\n\n569\n00:28:05.961 --> 00:28:10.927\nAnd so when we look at all the different\nIP address classes, we look at a range for\n\n570\n00:28:10.927 --> 00:28:12.050\nthe first octet.\n\n571\n00:28:12.050 --> 00:28:14.829\nAnd this is what we often think about\nwhen we think about IP address classes.\n\n572\n00:28:14.829 --> 00:28:17.942\nAnd again, you'll see here,\nI've got class A, B, C.\n\n573\n00:28:17.942 --> 00:28:20.919\nWe could put class D and E in here,\nwe'll be happy to do that for\n\n574\n00:28:20.919 --> 00:28:22.630\nyou while we're talking.\n\n575\n00:28:22.630 --> 00:28:25.610\nBut you'll see class class\nA goes from 1 to 127,\n\n576\n00:28:25.610 --> 00:28:28.100\nthat's the range usable\nin the first octet.\n\n577\n00:28:28.100 --> 00:28:31.240\nWe have an asterisk next to\nthat statement for class A.\n\n578\n00:28:31.240 --> 00:28:36.119\nAnd depending on whose documentation you\nread and who you listen to and whether or\n\n579\n00:28:36.119 --> 00:28:39.489\nnot you are looking at the,\nfor instance RFC standard or\n\n580\n00:28:39.489 --> 00:28:42.452\nperhaps looking at\na vendor's documentation.\n\n581\n00:28:42.452 --> 00:28:46.175\nAnd I've actually seen the both ways\nin Microsoft's documentation as well.\n\n582\n00:28:46.175 --> 00:28:49.602\nThey will put 1 to 127 in\nthe class a full range,\n\n583\n00:28:49.602 --> 00:28:53.030\ninclusive of the Loopback Adapter\naddress range or\n\n584\n00:28:53.030 --> 00:28:57.751\nloopback subnet range, not subnet range,\nloopback octet, right?\n\n585\n00:28:57.751 --> 00:29:00.161\nFor 127 for the address block.\n\n586\n00:29:00.161 --> 00:29:04.090\nAnd that I've also standard as 1 to 126\nin our documentation for Microsoft.\n\n587\n00:29:04.090 --> 00:29:07.236\nSo I've seen it both ways, and\nthe idea is that ultimately and\n\n588\n00:29:07.236 --> 00:29:10.277\nI've actually seen it both ways for\nCisco as well, right?\n\n589\n00:29:10.277 --> 00:29:13.636\nDepending on which documentation and\nwhich area you're looking at.\n\n590\n00:29:13.636 --> 00:29:18.307\nOverall 127 is technically considered to\nbe part of the class A address block.\n\n591\n00:29:18.307 --> 00:29:22.659\nBut it's not usable for traditional\nrouted communication between host.\n\n592\n00:29:22.659 --> 00:29:26.041\nWe reserved the entire blocks\nof the 127 address block,\n\n593\n00:29:26.041 --> 00:29:28.077\nit's what we call set aside block.\n\n594\n00:29:28.077 --> 00:29:32.838\nIt is reserved for in this case\ndiagnostic work, the 127.00.1 address,\n\n595\n00:29:32.838 --> 00:29:37.668\nyou're probably familiar with which it's\nusually called the Loopback Adapter.\n\n596\n00:29:37.668 --> 00:29:41.744\nAnd you can ping the loop back adaptor\nto be able to see whether your network\n\n597\n00:29:41.744 --> 00:29:46.611\ninterface has setup, is drawing power, is\ngot the driver initialized in other words,\n\n598\n00:29:46.611 --> 00:29:48.421\nif it's working the right way.\n\n599\n00:29:48.421 --> 00:29:52.332\nA traditional and\nspecified kind of linear progression in\n\n600\n00:29:52.332 --> 00:29:56.096\nthe troubleshooting methodology\nif we go step by step.\n\n601\n00:29:56.096 --> 00:29:58.323\nAnd think through the logical\nof what we're supposed to do,\n\n602\n00:29:58.323 --> 00:30:01.303\nyou would actually ping the loop back\nadapter most of us don't bother with that.\n\n603\n00:30:01.303 --> 00:30:04.417\nOr I don't think anybody would readily\nstandup in public and admit that they\n\n604\n00:30:04.417 --> 00:30:07.646\nactually ping the Loopback Adapter on\na regular basis to do troubleshooting.\n\n605\n00:30:07.646 --> 00:30:10.729\nInstead what we traditionally will do,\nis jump ahead and\n\n606\n00:30:10.729 --> 00:30:15.100\nusually ping something off the machine\nto tap both the Loopback Adapter status,\n\n607\n00:30:15.100 --> 00:30:17.362\nto ensure Internet card is initialized.\n\n608\n00:30:17.362 --> 00:30:20.683\nTo check the interface,\nto the check the DNS information,\n\n609\n00:30:20.683 --> 00:30:24.081\nif we're resolving past the gateway,\nout to the Internet.\n\n610\n00:30:24.081 --> 00:30:27.009\nAnd or to check our ability to\ntalk to a machine on the LAN or\n\n611\n00:30:27.009 --> 00:30:28.972\nto hit the gateway or to go through it.\n\n612\n00:30:28.972 --> 00:30:32.347\nAnd so we may ping the default gateway and\nfrom backwards from there is our\n\n613\n00:30:32.347 --> 00:30:35.130\ntroubleshooting [INAUDIBLE] for\ninstance traditionally.\n\n614\n00:30:35.130 --> 00:30:39.429\nBut if you look at kind of the step by\nstep methodology, step one do this,\n\n615\n00:30:39.429 --> 00:30:40.497\nstep two do that.\n\n616\n00:30:40.497 --> 00:30:43.735\nYou look at the documentation\nmost vendors tell you, hey,\n\n617\n00:30:43.735 --> 00:30:45.695\nstart by paying Loopback Adapter.\n\n618\n00:30:45.695 --> 00:30:49.350\nAnd so that's what the 127.00.1\naddress specifies.\n\n619\n00:30:49.350 --> 00:30:52.489\nSo it is technically\nconsidered part of class A,\n\n620\n00:30:52.489 --> 00:30:57.399\nbut from a usability perspective in\nterms of the actual usable octet block.\n\n621\n00:30:57.399 --> 00:31:01.803\nOr reference that's it's gonna be used for\nthe first value that goes into that octet,\n\n622\n00:31:01.803 --> 00:31:02.537\n1 to 126.\n\n623\n00:31:02.537 --> 00:31:06.990\nIt's considered the acceptable range for\nclass A or usable range.\n\n624\n00:31:06.990 --> 00:31:12.294\nYou'll see B, class B 128 to 191,\nclass C 192 to 223.\n\n625\n00:31:12.294 --> 00:31:15.630\nAgain, we're talking about just the value\nthat goes into the first octet.\n\n626\n00:31:15.630 --> 00:31:18.222\nThe other octets will be\nmade up of different values,\n\n627\n00:31:18.222 --> 00:31:20.130\npopped up those rules in just a moment.\n\n628\n00:31:20.130 --> 00:31:25.238\nClass D for\nmulticasting would be 224 to 239.\n\n629\n00:31:25.238 --> 00:31:27.558\nAgain, first octet value only, right?\n\n630\n00:31:27.558 --> 00:31:29.570\nJust specifying what that would look like.\n\n631\n00:31:29.570 --> 00:31:35.916\nAnd then class E, the experiment\nset aside would be from 224 to 239,\n\n632\n00:31:35.916 --> 00:31:39.555\n240 to all the way up to the end, right?\n\n633\n00:31:39.555 --> 00:31:42.561\nAll the way out to the final part of that,\nso up to 255.\n\n634\n00:31:42.561 --> 00:31:45.636\nSo just keep in mind that\nalthough we don't list them here,\n\n635\n00:31:45.636 --> 00:31:48.468\nthere are two additional class,\njust to keep in mind.\n\n636\n00:31:48.468 --> 00:31:51.338\nNow the other thing you'll see here, I\nput in the number of networks in a number\n\n637\n00:31:51.338 --> 00:31:53.356\nof pose because a lot of\ntimes we're asked about this.\n\n638\n00:31:53.356 --> 00:31:56.469\nHey, how may networks,\nCan I get in a class B?\n\n639\n00:31:56.469 --> 00:31:57.958\nHow many hosts do I get roughly?\n\n640\n00:31:57.958 --> 00:31:59.840\nAnd you'll see the numbers here.\n\n641\n00:31:59.840 --> 00:32:02.720\nAnd the thing that's interesting about\nthis is, and I've gotta a little blurb off\n\n642\n00:32:02.720 --> 00:32:06.600\nto the side we'll take a look at for\na minute that comes from the RFC directly\n\n643\n00:32:06.600 --> 00:32:08.705\njust as a quote, and\nI'll show you that in just a second.\n\n644\n00:32:08.705 --> 00:32:10.855\nBut the interesting thing here is,\n\n645\n00:32:10.855 --> 00:32:12.637\nit's crazy when those things\njust randomly happen.\n\n646\n00:32:12.637 --> 00:32:14.235\n&gt;&gt; [LAUGH]\n&gt;&gt; Full-screen back again.\n\n647\n00:32:14.235 --> 00:32:15.045\nI didn't even have to say anything.\n\n648\n00:32:15.045 --> 00:32:15.635\n&gt;&gt; It's magic.\n\n649\n00:32:15.635 --> 00:32:16.495\n&gt;&gt; It's just lovely.\n\n650\n00:32:16.495 --> 00:32:17.245\nThat's just great.\n\n651\n00:32:17.245 --> 00:32:17.775\nThat's awesome.\n\n652\n00:32:17.775 --> 00:32:23.010\nSo, the nice thing about this is that\nwe can see that this is ultimately\n\n653\n00:32:23.010 --> 00:32:25.900\nwhat I would think of as a fixed sum,\nright?\n\n654\n00:32:25.900 --> 00:32:27.940\nThe total number of IP addresses,\n\n655\n00:32:27.940 --> 00:32:32.140\ntotal number of networks that we get here,\nis fixed ultimately, right?\n\n656\n00:32:32.140 --> 00:32:35.720\nWe have about 4 billion with the B\naddresses approximately in the IPv4\n\n657\n00:32:35.720 --> 00:32:40.620\nrange starting with our very, very first\nusable IP address in the class A range,\n\n658\n00:32:40.620 --> 00:32:42.165\nthe very first octet value.\n\n659\n00:32:42.165 --> 00:32:45.100\n1.001 all the way at the bottom.\n\n660\n00:32:45.100 --> 00:32:49.694\nAnd then if we went all the way up to the\nvery top of the range, right, of class C,\n\n661\n00:32:49.694 --> 00:32:54.060\nand we did 223.255.255.254, right,\n\n662\n00:32:54.060 --> 00:32:57.510\nthat would be our last usable\naddress in the class C range.\n\n663\n00:32:57.510 --> 00:33:00.140\nWe included DNE,\ngo all the way out, right?\n\n664\n00:33:00.140 --> 00:33:02.160\nAnd we would get a total\nnumber of IP addresses.\n\n665\n00:33:02.160 --> 00:33:05.530\nBut that number doesn't change\nin the sense that it is fixed.\n\n666\n00:33:05.530 --> 00:33:09.460\nAnd as we add networks,\nwe're adding them at the expense of hosts.\n\n667\n00:33:09.460 --> 00:33:12.350\nAnd as we take away hosts,\nwe're gaining networks.\n\n668\n00:33:12.350 --> 00:33:14.370\nAnd as we add networks,\nwere taking away hosts.\n\n669\n00:33:14.370 --> 00:33:16.120\nSo it's kind of a scale that\nwe have to balance, right,\n\n670\n00:33:16.120 --> 00:33:17.810\nif you think about the logic of it.\n\n671\n00:33:17.810 --> 00:33:21.900\nAnd you could see that they're\ninversely proportional\n\n672\n00:33:21.900 --> 00:33:24.790\nas we have a small number of networks,\nvery large number of hosts.\n\n673\n00:33:24.790 --> 00:33:27.590\n&gt;&gt; Kind of like when people say,\nwe're borrowing bits from the network or\n\n674\n00:33:27.590 --> 00:33:30.125\nthe host portion, but it's like\nare ever really giving them back?\n\n675\n00:33:30.125 --> 00:33:32.010\n[LAUGH]\n&gt;&gt; You're right.\n\n676\n00:33:32.010 --> 00:33:33.930\nWe do, we're not gracious.\n\n677\n00:33:33.930 --> 00:33:35.840\nWe borrow them, but\nwe don't ever give them back, right?\n\n678\n00:33:35.840 --> 00:33:39.360\nBecause we keep them, so we're permanently\nacquiring them is what we should say.\n\n679\n00:33:39.360 --> 00:33:41.855\nWe're gonna M an A,\nmerger and acquisition our.\n\n680\n00:33:41.855 --> 00:33:44.080\n&gt;&gt; [LAUGH]\n&gt;&gt; Take them over in a hostile bid.\n\n681\n00:33:44.080 --> 00:33:46.470\nSo you'll see here,\nwe grow the number of networks.\n\n682\n00:33:46.470 --> 00:33:49.850\nBut notice, of course, we are shrinking\nthe number of hosts as a result.\n\n683\n00:33:49.850 --> 00:33:52.465\nAnd so, we just wanna keep this in\nmind because there is a balance, and\n\n684\n00:33:52.465 --> 00:33:53.675\nthere is a finite number.\n\n685\n00:33:53.675 --> 00:33:56.670\nAnd we're not allowed to break\nthe rules of the laws here\n\n686\n00:33:56.670 --> 00:33:59.820\nin order to go beyond those where\nthings don't work the right way.\n\n687\n00:33:59.820 --> 00:34:03.030\nI mentioned that we do have\nsome other rules just real\n\n688\n00:34:03.030 --> 00:34:07.330\nquickly I wanna throw out here, just with\nregards to the idea of the first octet,\n\n689\n00:34:07.330 --> 00:34:09.850\nwe know that class A,\nB, and C in the value.\n\n690\n00:34:09.850 --> 00:34:12.210\nWhat about the second,\nthe third, and the fourth octet?\n\n691\n00:34:12.210 --> 00:34:14.180\nWe'll give some rules that govern that.\n\n692\n00:34:14.180 --> 00:34:18.485\nThe second and the thrid octets can be\nanything in value from zero to 255, right?\n\n693\n00:34:18.485 --> 00:34:20.770\nAnd so the values for the second and\n\n694\n00:34:20.770 --> 00:34:24.360\nthe third octet be anything\nfrom zero all the way to 255.\n\n695\n00:34:24.360 --> 00:34:28.451\nThe full number of bits being turned on\nand specified as being available, right?\n\n696\n00:34:28.451 --> 00:34:33.856\nSo for, say, 1.001 is the first\nusable address for the host in the 1.\n\n697\n00:34:33.856 --> 00:34:35.279\nnetwork.\n\n698\n00:34:35.279 --> 00:34:38.769\nWe could say that 1.255.255, right,\n\n699\n00:34:38.769 --> 00:34:43.374\nwould also be .1, would be\nan acceptable IP address in the 1.\n\n700\n00:34:43.374 --> 00:34:46.430\nnetwork for the second and\nthird octet values.\n\n701\n00:34:46.430 --> 00:34:48.900\nNow we don't often think about it,\nand we don't stop and say, yeah,\n\n702\n00:34:48.900 --> 00:34:50.790\nI got to go all the way\nup incrementing by 1,\n\n703\n00:34:50.790 --> 00:34:53.490\nbut we have to just think about that\nto understand the value of the bits.\n\n704\n00:34:53.490 --> 00:34:56.670\nNow, for the fourth bit,\nthe very last octet value, right,\n\n705\n00:34:56.670 --> 00:35:00.930\nwe have to think about that fact that\nthere is a rule that governs that.\n\n706\n00:35:00.930 --> 00:35:05.690\nBut the rule is that we never start\non a zero, and we never end on a 255.\n\n707\n00:35:05.690 --> 00:35:09.590\nJust like the same rule that governs\nthe first octet or the values of the first\n\n708\n00:35:09.590 --> 00:35:14.840\noctet, cuz if we start on a zero in either\nthe first or the last octet, we don't\n\n709\n00:35:14.840 --> 00:35:19.640\nhave a valid IP address that we can use\nto send or receive traffic between hosts.\n\n710\n00:35:19.640 --> 00:35:22.210\nWe are going to have a null value,\nessentially,\n\n711\n00:35:22.210 --> 00:35:24.280\nwe're not assigning an IP address.\n\n712\n00:35:24.280 --> 00:35:29.220\nAnd if we start in the first or start in\nthe last on a 255, we're broadcasting,\n\n713\n00:35:29.220 --> 00:35:33.330\nwe're essentially saying we wanna send\neverybody, and we're not using a unicast\n\n714\n00:35:33.330 --> 00:35:37.440\ntransmission between two fixed\nendpoints with unique host IDs.\n\n715\n00:35:37.440 --> 00:35:41.200\nBut we're essentially screaming at the top\nof our lungs to anybody who's within\n\n716\n00:35:41.200 --> 00:35:44.710\near range, or in other words, who's on our\nsubnet, whether they wanna hear us or not.\n\n717\n00:35:44.710 --> 00:35:47.260\nAnd we're not using a IP address\nin the traditional sense.\n\n718\n00:35:47.260 --> 00:35:51.489\nSo, although we do say, hey,\nyou could do 1.255.255.255,\n\n719\n00:35:51.489 --> 00:35:54.074\nit is a value in that\nranges that we increment.\n\n720\n00:35:54.074 --> 00:35:57.285\nIt's not an acceptable value for us.\n\n721\n00:35:57.285 --> 00:36:00.546\nAnd this is why, ultimately,\nas we go through and\n\n722\n00:36:00.546 --> 00:36:03.418\nwe start to account for\nthe number of hosts,\n\n723\n00:36:03.418 --> 00:36:07.845\nwe have to think about the fact that\nwe have to subtract two hosts from\n\n724\n00:36:07.845 --> 00:36:12.610\nthe overall value of every network as\nwe think about how we increment up.\n\n725\n00:36:12.610 --> 00:36:15.445\nBecause as we think about, hey, we've got,\n\n726\n00:36:15.445 --> 00:36:20.173\nlet's say, 256 values, zero to 255,\ninclusive of zero and 255,\n\n727\n00:36:20.173 --> 00:36:25.455\nis a total of 256 possible host addresses\nif think about the logic of that, right?\n\n728\n00:36:25.455 --> 00:36:28.790\nAnd we always start on zero in the sense\nthat we always start numbering\n\n729\n00:36:28.790 --> 00:36:32.700\nin anything that has to do with computers,\nthe first value is always a zero.\n\n730\n00:36:32.700 --> 00:36:36.250\nWe start our numerical system or\nsequence from there.\n\n731\n00:36:36.250 --> 00:36:41.770\nSo if we start Start zero to 255,\ninclusive 256 possible assigned values.\n\n732\n00:36:41.770 --> 00:36:46.050\nBut if we have to take off the no use\nof zero and no use of 255 at the end,\n\n733\n00:36:46.050 --> 00:36:49.100\nwe always minus two or\ntake away two from the total number.\n\n734\n00:36:49.100 --> 00:36:50.960\nAnd that's how we would\nget at the bottom there.\n\n735\n00:36:50.960 --> 00:36:53.474\n254 hosts per network instead of 256.\n\n736\n00:36:53.474 --> 00:36:55.830\n&gt;&gt; Yeah, our network ID and\nour broadcast ID.\n\n737\n00:36:57.640 --> 00:36:58.170\n&gt;&gt; Correct.\n\n738\n00:36:58.170 --> 00:37:00.920\n&gt;&gt; And to support your rule about, for\n\n739\n00:37:00.920 --> 00:37:05.241\ninstance, not being able have a 1 in\nthat first octet followed by any 255s,\n\n740\n00:37:05.241 --> 00:37:09.110\none of the cool things about using,\nbreaking it down into that chart you\n\n741\n00:37:09.110 --> 00:37:11.360\nshowed us, you can always see that-\n&gt;&gt; [INAUDIBLE]\n\n742\n00:37:11.360 --> 00:37:12.100\n&gt;&gt; Not that chart,\n\n743\n00:37:12.100 --> 00:37:13.120\nthe one with the red and the black.\n\n744\n00:37:13.120 --> 00:37:14.010\n&gt;&gt; That chart right there.\n\n745\n00:37:14.010 --> 00:37:14.850\n&gt;&gt; That chart right there.\n\n746\n00:37:14.850 --> 00:37:17.470\nSo you can see how that the one's\nare always contiguous to the left,\n\n747\n00:37:17.470 --> 00:37:19.380\nthe zeros always to the right, and\n\n748\n00:37:19.380 --> 00:37:23.440\nif you have any zeros in between, then you\nknow that that's an invalid subnet mask.\n\n749\n00:37:23.440 --> 00:37:29.080\nSo if you break it down in a simple way,\nmy simple mind here, Adam.\n\n750\n00:37:29.080 --> 00:37:29.660\n&gt;&gt; Okay.\n&gt;&gt; [LAUGH]\n\n751\n00:37:29.660 --> 00:37:31.470\n&gt;&gt; I'm just gonna accept the,\n\n752\n00:37:31.470 --> 00:37:34.360\nI've come to call them Cherokeeisms,\nthat's what we're gonna call them.\n\n753\n00:37:34.360 --> 00:37:36.830\nAnd I'm gonna accept\nCherokee's thought process.\n\n754\n00:37:36.830 --> 00:37:38.790\nAnd it is certainly a very valid one,\n\n755\n00:37:38.790 --> 00:37:41.450\njust another way of looking at\nthe same thing we were talking about.\n\n756\n00:37:41.450 --> 00:37:43.930\nAnd it's helpful to have more than one\nperspective as we go through this.\n\n757\n00:37:43.930 --> 00:37:46.950\nSo, I think it's probably that time.\n\n758\n00:37:46.950 --> 00:37:48.140\n&gt;&gt; You think so.\n&gt;&gt; I'm thinking.\n\n759\n00:37:48.140 --> 00:37:48.925\nI see red on the screen.\n\n760\n00:37:48.925 --> 00:37:50.890\n&gt;&gt; [LAUGH]\n&gt;&gt; I don't see anymore red on the clock,\n\n761\n00:37:50.890 --> 00:37:52.790\nit usually indicates,\nit's maybe that time.\n\n762\n00:37:52.790 --> 00:37:55.270\nBut it may be a good place for\nus to break our conversation,\n\n763\n00:37:55.270 --> 00:37:58.050\nreally just kinda regroup,\ngive you a moment to catch your breath,\n\n764\n00:37:58.050 --> 00:38:02.600\ncome back, continue our conversations\naround IPv4 with episode two,\n\n765\n00:38:02.600 --> 00:38:05.080\nand flesh out our conversation\nin a little more detail.\n\n766\n00:38:05.080 --> 00:38:08.260\nWe still have to talk about\nsome things like super netting,\n\n767\n00:38:08.260 --> 00:38:13.120\nand talk about how we set up and\nactually apply these changes and\n\n768\n00:38:13.120 --> 00:38:16.740\nthese solutions into an interface using\nboth PowerShell and the command line.\n\n769\n00:38:16.740 --> 00:38:18.651\nMaybe a little Net SH,\na little PowerShell,\n\n770\n00:38:18.651 --> 00:38:21.180\nsome of the command lists\nthat are associated there.\n\n771\n00:38:21.180 --> 00:38:23.160\nJust show you some other\nthings that we can do.\n\n772\n00:38:23.160 --> 00:38:26.250\nAnd also, yet a third way that\nyou can look at IP interfaces and\n\n773\n00:38:26.250 --> 00:38:29.680\nlook at routing tables,\nwhich a lot of people often forget about.\n\n774\n00:38:29.680 --> 00:38:32.460\nYou have to come back and take a look\nat us in episode two to see that, but\n\n775\n00:38:32.460 --> 00:38:33.630\nit will be interesting for you.\n\n776\n00:38:33.630 --> 00:38:35.470\n&gt;&gt; All right, ladies and\ngentlemen, you heard it, but for\n\n777\n00:38:35.470 --> 00:38:38.470\nthis show we are out of time,\nso we'll go ahead and sign out.\n\n778\n00:38:38.470 --> 00:38:40.700\nRemember, I'm your host Cherokee Boose.\n\n779\n00:38:40.700 --> 00:38:41.360\n&gt;&gt; I'm Adam Gordon.\n\n780\n00:38:41.360 --> 00:38:44.074\n&gt;&gt; See you next time here at ITProTV.\n\n781\n00:38:44.074 --> 00:38:50.243\n[MUSIC]\n\n782\n00:38:50.243 --> 00:38:53.717\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "216734671"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing networking components such as Automatic Private IP Addressing (APIPA), hop counts, how to configure IPv4 settings via the GUI as well as PowerShell and more!",
          "length": "2701",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-1-1-2-ipv4_networks_pt2-050817-PGM.00_00_11_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-1-1-2-ipv4_networks_pt2-050817-PGM.00_00_11_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-1-1-2-ipv4_networks_pt2-050817-PGM.00_00_11_28.Still001-sm.jpg",
          "title": "IPv4 Networks Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:01.937\nWelcome to ITProTV I'm\nyour host Don Pezet.\n\n2\n00:00:01.937 --> 00:00:06.463\n[CROSSTALK]\n\n3\n00:00:06.463 --> 00:00:07.479\n[MUSIC]\n\n4\n00:00:07.479 --> 00:00:11.974\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.974 --> 00:00:15.387\n&gt;&gt; Welcome to your Networking\nwith Windows Server 2016 series.\n\n6\n00:00:15.387 --> 00:00:18.110\nI'm your show host Cherokee Boose.\n\n7\n00:00:18.110 --> 00:00:22.341\nThis episode is a continuation of a\nprevious conversation where we were really\n\n8\n00:00:22.341 --> 00:00:26.389\nlooking at networking with IPv4 where\nwe started talking about subnets.\n\n9\n00:00:26.389 --> 00:00:28.315\nWe didn't really get\ninto routing too much,\n\n10\n00:00:28.315 --> 00:00:31.930\nI'm kind of excited to see where we\nare going in this particular episode.\n\n11\n00:00:31.930 --> 00:00:34.860\nWith us today, back in studios,\nwe have Mr. Adam Gordon.\n\n12\n00:00:34.860 --> 00:00:35.864\nHow's it going Adam?\n\n13\n00:00:35.864 --> 00:00:40.103\n&gt;&gt; It is going well, it is going well,\nit is an IPtastic day, and\n\n14\n00:00:40.103 --> 00:00:44.517\nwe're gonna make it IPtastic here for\nyou in IPv4 episode two.\n\n15\n00:00:44.517 --> 00:00:49.048\nSound like the networking, rhyming guy.\n\n16\n00:00:49.048 --> 00:00:50.910\nSo, we're gonna pick up where we left off.\n\n17\n00:00:50.910 --> 00:00:53.339\nAnd as Cherokee said,\nwe had just really scratched the surface.\n\n18\n00:00:53.339 --> 00:00:56.119\nWe talked about some of the basic\nconcepts the plocking and\n\n19\n00:00:56.119 --> 00:00:58.059\ntackling of what an IPV 4 addresses is.\n\n20\n00:00:58.059 --> 00:00:59.258\nWhat is our subnet mask?\n\n21\n00:00:59.258 --> 00:01:01.064\nHow do we understand the logic and\n\n22\n00:01:01.064 --> 00:01:04.804\nthe laws that relate to how we get\nthose two things to bind together and\n\n23\n00:01:04.804 --> 00:01:07.919\nindicate for us what our network is,\nwhat our host ID is?\n\n24\n00:01:07.919 --> 00:01:11.220\nHow we create uniqueness and\nspecify unique identity for\n\n25\n00:01:11.220 --> 00:01:14.117\nan individual endpoint\nwithin an IPV 4 network?\n\n26\n00:01:14.117 --> 00:01:17.474\nAnd we're gonna continue that I wanna go\nback to where we left off in the last\n\n27\n00:01:17.474 --> 00:01:18.229\nconversation.\n\n28\n00:01:18.229 --> 00:01:20.825\nI mentioned I have a quote all tied up for\nyou on a spread\n\n29\n00:01:20.825 --> 00:01:24.058\nsheet didn't get the chance to refer\nyou back to it in the episode,\n\n30\n00:01:24.058 --> 00:01:26.638\nwe can go full screen on\nthis cuz I'm covering half.\n\n31\n00:01:26.638 --> 00:01:30.967\nBut right at the end here as you\ncan see of this part of this\n\n32\n00:01:30.967 --> 00:01:34.853\nspreadsheet IP address\nclasses is where we were.\n\n33\n00:01:34.853 --> 00:01:38.963\nOn the tab we're talking about the number\nof networks, number of host and\n\n34\n00:01:38.963 --> 00:01:42.741\nI explain the concept of why we have\nto essentially drop the first and\n\n35\n00:01:42.741 --> 00:01:46.409\nthe very last bit to 0 and\nthe 255 and walk through that logic.\n\n36\n00:01:46.409 --> 00:01:48.282\nIf you haven't seen that,\nyou definitely wanna go back, take a look.\n\n37\n00:01:48.282 --> 00:01:50.631\nI just wanted to show you\nwhere that comes from.\n\n38\n00:01:50.631 --> 00:01:53.658\nSometimes it's important\nto actually go back and\n\n39\n00:01:53.658 --> 00:01:57.694\nreference the historical information\nthat gives us the theory and\n\n40\n00:01:57.694 --> 00:02:00.807\nhelps us to understand or\nanswer the question why.\n\n41\n00:02:00.807 --> 00:02:04.590\nAnd I don't expect you to go out and\ndig up RFC's.\n\n42\n00:02:04.590 --> 00:02:08.041\nBut if you wanna take a look at it,\nthe URL's right down there for you.\n\n43\n00:02:08.041 --> 00:02:12.909\nRFC 923 and before you go there, before\nyou look at it, before you come screeching\n\n44\n00:02:12.909 --> 00:02:17.990\nback here and say, my God that RFC's been\nobsolete about like a million other RFC's.\n\n45\n00:02:17.990 --> 00:02:19.260\nWhy are you quoting it?\n\n46\n00:02:19.260 --> 00:02:20.411\nWe know that.\n\n47\n00:02:20.411 --> 00:02:24.031\nWe're just showing you that this\nis the historical document,\n\n48\n00:02:24.031 --> 00:02:28.963\nthe reference point for where we actually\nunderstand the basic logic of networking.\n\n49\n00:02:28.963 --> 00:02:33.077\nAnd the quote in particular, the piece of\nthat RFC, cuz it is a multi-page document.\n\n50\n00:02:33.077 --> 00:02:36.230\nBut the piece that speaks to\nthis particular thought process,\n\n51\n00:02:36.230 --> 00:02:40.585\nif you take a look right there, can\nhave a decimal value between 0 and 255.\n\n52\n00:02:40.585 --> 00:02:42.904\nAs I indicated in the show\nwe were talking about,\n\n53\n00:02:42.904 --> 00:02:45.120\nthe total of 256 possible values, right?\n\n54\n00:02:45.120 --> 00:02:47.992\nInclusive 0 to or through 255.\n\n55\n00:02:47.992 --> 00:02:52.109\nWhy does a class C network, or any network\nfor that matter if you do the math, but\n\n56\n00:02:52.109 --> 00:02:54.383\nit's very obvious when\nyou look at class C,\n\n57\n00:02:54.383 --> 00:02:57.290\nhave only 254 useable\naddresses as we said, right?\n\n58\n00:02:57.290 --> 00:02:59.570\nAnd the first address\nwhere all bits are 0 and\n\n59\n00:02:59.570 --> 00:03:02.100\nthe host portion when IP is the subnet ID.\n\n60\n00:03:02.100 --> 00:03:05.589\nLast address where all bits are 1\nis used for broadcasts as we said.\n\n61\n00:03:05.589 --> 00:03:09.763\nAnd as a result we essentially take\nthose away, and we drop them, or\n\n62\n00:03:09.763 --> 00:03:12.339\njust remove them from the conversation.\n\n63\n00:03:12.339 --> 00:03:16.197\nWe start on a 1, we end on a 254,\nand as a result of that,\n\n64\n00:03:16.197 --> 00:03:21.080\nthe usable values become inclusive\nthere and we have 245 usable hosts.\n\n65\n00:03:21.080 --> 00:03:22.244\nSo just be aware of that.\n\n66\n00:03:22.244 --> 00:03:25.918\nWhen it comes to more of C923 that's\nwhere we actually get that from.\n\n67\n00:03:25.918 --> 00:03:28.259\nAnd just so you know why we're\nactually thinking about that.\n\n68\n00:03:28.259 --> 00:03:31.430\nNow this takes us to another\ninteresting conversation.\n\n69\n00:03:31.430 --> 00:03:36.171\nLet's go back over here for just a second,\nwe'll take a look at our classes, and\n\n70\n00:03:36.171 --> 00:03:39.258\ntalk about our addresses,\nand our address blocks.\n\n71\n00:03:39.258 --> 00:03:40.839\nWe've talked about class A, B, and C.\n\n72\n00:03:40.839 --> 00:03:44.330\nWe included D and E in the mix,\nand identified what those were.\n\n73\n00:03:44.330 --> 00:03:48.786\nBut for purposes of public, private\nand/or automatic private IP addressing,\n\n74\n00:03:48.786 --> 00:03:50.760\nwhat's called APIPA addressing.\n\n75\n00:03:50.760 --> 00:03:53.501\nWe have to think about class A,\nB and C definitively, cuz\n\n76\n00:03:53.501 --> 00:03:57.510\nthose are really the address blocks that\nwe will operate on as we've talked about.\n\n77\n00:03:57.510 --> 00:04:01.290\nAnd so when we think about public\naddresses we think about routable IP\n\n78\n00:04:01.290 --> 00:04:02.789\naddresses that are used for\n\n79\n00:04:02.789 --> 00:04:06.831\ncommunication between two end points\nthat are available to everybody and\n\n80\n00:04:06.831 --> 00:04:11.295\nanybody that wants to interact with them\non the LAN through the WAN out to the WAN.\n\n81\n00:04:11.295 --> 00:04:14.225\nAnd on the WAN across the other side and\nback to down again.\n\n82\n00:04:14.225 --> 00:04:18.198\nIn other words these are addresses\nthat often get assigned to gateways or\n\n83\n00:04:18.198 --> 00:04:20.151\nend points that are gonna accept and\n\n84\n00:04:20.151 --> 00:04:23.240\nsend traffic on our behalf\nacross public networks.\n\n85\n00:04:23.240 --> 00:04:27.022\nThink of routers, think of firewalls,\nthink of intrusion detection and\n\n86\n00:04:27.022 --> 00:04:31.170\nprevention systems and even the standing\nguard or sitting on a perimeter that's\n\n87\n00:04:31.170 --> 00:04:35.269\ngonna interdict and accept traffic and\nexamine it, and allow it to come and go.\n\n88\n00:04:35.269 --> 00:04:37.082\nBut does so facing the outside world,\n\n89\n00:04:37.082 --> 00:04:40.038\nhas one of these public IP\naddresses traditionally, right?\n\n90\n00:04:40.038 --> 00:04:41.992\nNow hosts may have public IP addresses,\nright?\n\n91\n00:04:41.992 --> 00:04:46.856\nWe may give them public IP addresses,\nweb servers sitting in a DMZ, may very\n\n92\n00:04:46.856 --> 00:04:51.426\nwell be given a direct IP address,\nso somebody can interact with them.\n\n93\n00:04:51.426 --> 00:04:55.332\nBut we may also put them behind a DMZ,\nput them behind, or in a DMZ, behind\n\n94\n00:04:55.332 --> 00:04:59.699\na firewall, and make the public IP address\nof any, or all, of those web servers.\n\n95\n00:04:59.699 --> 00:05:03.904\nIn a web form, the inbound IP of the\nfirewall, the WAN side of the firewall,\n\n96\n00:05:03.904 --> 00:05:07.916\nthat becomes the common IP address that\nis used to load balance across and\n\n97\n00:05:07.916 --> 00:05:12.080\nthat we ultimately will access and\ninteract with the web server behind.\n\n98\n00:05:12.080 --> 00:05:16.063\nSo it depends on how we set this up,\nbut public IP addresses are routable IP\n\n99\n00:05:16.063 --> 00:05:19.597\naddresses that exist outside in\nthe real world useable to send and\n\n100\n00:05:19.597 --> 00:05:20.900\nreceive information.\n\n101\n00:05:20.900 --> 00:05:24.289\nAmong and between systems across\nthe largest public network in the world,\n\n102\n00:05:24.289 --> 00:05:27.753\nthe internet and world wide web and\nmay others as well right over that maybe.\n\n103\n00:05:27.753 --> 00:05:30.634\nSpeaking of which you may\nnot have seen this one.\n\n104\n00:05:30.634 --> 00:05:31.560\nI'm going out on the limb.\n\n105\n00:05:31.560 --> 00:05:33.120\n&gt;&gt; Okay.\n&gt;&gt; I'm thinking you're heard of this.\n\n106\n00:05:33.120 --> 00:05:34.736\n&gt;&gt; Okay is it the Disney one?\n\n107\n00:05:34.736 --> 00:05:35.640\n&gt;&gt; No, it is not,\n\n108\n00:05:35.640 --> 00:05:40.052\nit's the Erickson Labs animated short\ncalled Good Warriors of the .NET.\n\n109\n00:05:40.052 --> 00:05:41.204\n&gt;&gt; No.\n\n110\n00:05:41.204 --> 00:05:42.053\nYou've not.\n\n111\n00:05:42.053 --> 00:05:45.772\n&gt;&gt; [LAUGH] I'm sorry to let you down and\ndisappoint you yet again.\n\n112\n00:05:45.772 --> 00:05:48.870\n&gt;&gt; Wow so you have to and\nall of you out there as well.\n\n113\n00:05:48.870 --> 00:05:50.068\nYou have to watch this.\n\n114\n00:05:50.068 --> 00:05:52.378\nCherokee is gonna actually do\nme a favor while we're talking.\n\n115\n00:05:52.378 --> 00:05:53.910\n&gt;&gt; Okay.\n&gt;&gt; So Cherie's is gonna just\n\n116\n00:05:53.910 --> 00:05:54.847\nsearch for the URL.\n\n117\n00:05:54.847 --> 00:05:56.777\n&gt;&gt; Okay.\n&gt;&gt; Just go out to YouTube do good warriors\n\n118\n00:05:56.777 --> 00:05:57.310\nof the NET.\n\n119\n00:05:57.310 --> 00:06:00.199\n&gt;&gt; I don't have my display-\n&gt;&gt; .NET being period net, right?\n\n120\n00:06:00.199 --> 00:06:01.778\nAnd she's gonna find the video.\n\n121\n00:06:01.778 --> 00:06:03.955\nWe're not gonna play it,\nit's about a 30 minute video.\n\n122\n00:06:03.955 --> 00:06:05.429\n&gt;&gt; I'm not hooked up.\n\n123\n00:06:05.429 --> 00:06:07.962\n&gt;&gt; She is going to, no, no,\nno we're not gonna play this one,\n\n124\n00:06:07.962 --> 00:06:09.070\nI want you to post the URL.\n\n125\n00:06:09.070 --> 00:06:09.960\n&gt;&gt; Okay.\n&gt;&gt; It's part of the notes.\n\n126\n00:06:09.960 --> 00:06:10.462\n&gt;&gt; I will see that.\n\n127\n00:06:10.462 --> 00:06:11.430\n&gt;&gt; If you can look at it if they want to.\n\n128\n00:06:11.430 --> 00:06:14.446\nWe're not gonna play it because it's\nobvious to something if you choose to look\n\n129\n00:06:14.446 --> 00:06:15.357\nat you do it on your own.\n\n130\n00:06:15.357 --> 00:06:16.737\nBut this is a really cool video.\n\n131\n00:06:16.737 --> 00:06:18.619\nLet me click I could\ndescribe the concept to you.\n\n132\n00:06:18.619 --> 00:06:20.448\nI use this with all my\nNetwork Plus classes.\n\n133\n00:06:20.448 --> 00:06:21.928\nMy basic Inter-classes.\n\n134\n00:06:21.928 --> 00:06:23.059\n&gt;&gt; I think I have seen this seen one.\n\n135\n00:06:23.059 --> 00:06:24.243\n&gt;&gt; I'm thinking you have coz somebody\n\n136\n00:06:24.243 --> 00:06:25.950\nprobably told you to take\na look at it at some point.\n\n137\n00:06:25.950 --> 00:06:29.722\n&gt;&gt; Yes, it's a really good but\ncheesy kind of graphical representation.\n\n138\n00:06:29.722 --> 00:06:33.484\n&gt;&gt; I would drop the cheesy part, it's just\nlet's go with it's a good presentation.\n\n139\n00:06:33.484 --> 00:06:34.288\n&gt;&gt; [LAUGH]\n&gt;&gt; Don't want\n\n140\n00:06:34.288 --> 00:06:35.632\nto pre-judge on everybody's\nbehalf out there.\n\n141\n00:06:35.632 --> 00:06:37.407\n&gt;&gt; No, no, no\n&gt;&gt; It's an animated short,\n\n142\n00:06:37.407 --> 00:06:40.111\nit's about 13 minutes long,\ndone by Ericson Labs.\n\n143\n00:06:40.111 --> 00:06:44.336\nIt shows you, interacts with you around\nall the ideas of the OSI model and\n\n144\n00:06:44.336 --> 00:06:46.300\nnetworking top to bottom.\n\n145\n00:06:46.300 --> 00:06:49.964\nSo it explains the concepts of routers,\nswitches, IP addresses,\n\n146\n00:06:49.964 --> 00:06:54.033\npacket movement, default gateways,\nfirewalls, the whole nine yards.\n\n147\n00:06:54.033 --> 00:06:57.440\nIt's a really cool video, it's a great\nway to put your toe in the water.\n\n148\n00:06:57.440 --> 00:07:00.403\nAnd just remind yourself of all\nthe concepts and get used to them.\n\n149\n00:07:00.403 --> 00:07:02.249\nIt is a little dated to be fair.\n\n150\n00:07:02.249 --> 00:07:05.613\nYou'll see some references to\nsome pretty cool old technology.\n\n151\n00:07:05.613 --> 00:07:07.255\nNetscape is a browser is in there.\n\n152\n00:07:07.255 --> 00:07:10.530\nIf you take a look at the browser windows,\nthey show you the animated feature.\n\n153\n00:07:10.530 --> 00:07:11.860\nBut you should definitely\ntake a look at it.\n\n154\n00:07:11.860 --> 00:07:14.134\nSo Cherokee will post that up for\nus while we're talking.\n\n155\n00:07:14.134 --> 00:07:20.514\nBut the idea of private IP addresses are\ngonna be these set-aside address blocks or\n\n156\n00:07:20.514 --> 00:07:25.998\nby-class, class A, class B,\nclass C, individual address blocks.\n\n157\n00:07:25.998 --> 00:07:30.618\nOne per class that are used internally\nin every major and minor organization,\n\n158\n00:07:30.618 --> 00:07:33.978\nenterprise on the planet whether\nyou have two machines or\n\n159\n00:07:33.978 --> 00:07:36.368\n200 million that you wanna connect.\n\n160\n00:07:36.368 --> 00:07:40.530\nEverybody is using private IP addresses on\ntheir internal networks today in order to\n\n161\n00:07:40.530 --> 00:07:42.240\nbe able to setup and communicate.\n\n162\n00:07:42.240 --> 00:07:46.098\nAnd so in class A,\nwe traditionally have a 10 dot series.\n\n163\n00:07:46.098 --> 00:07:53.932\nSo 10.0000/8 meaning the entire 10 network\nis gonna be used for private class A.\n\n164\n00:07:53.932 --> 00:07:57.644\nIP addressing inside of\nyour corporate network.\n\n165\n00:07:57.644 --> 00:08:02.613\nSo 10.0.0.0 to 10.255.255.255\nwould be the range.\n\n166\n00:08:02.613 --> 00:08:10.080\nOn class B, 17216.00/12 would\nbe the private network there.\n\n167\n00:08:10.080 --> 00:08:15.250\nMeaning, 1721600 through 17231255255\ninclusive would be the full\n\n168\n00:08:15.250 --> 00:08:18.636\nrange for private addresses in class B.\n\n169\n00:08:18.636 --> 00:08:24.313\nAnd class C, 19216800/16.\n\n170\n00:08:24.313 --> 00:08:27.540\nSo 16 bits being given over\nto the network, 16 for\n\n171\n00:08:27.540 --> 00:08:30.132\nthe host, split it right down the middle.\n\n172\n00:08:30.132 --> 00:08:33.251\nThe kind Solomon version\nof the IP address and\n\n173\n00:08:33.251 --> 00:08:36.160\nthe subnet mask-\n&gt;&gt; Horrible analogy.\n\n174\n00:08:36.160 --> 00:08:37.570\n&gt;&gt; What?\n&gt;&gt; Horrible analogy.\n\n175\n00:08:37.570 --> 00:08:38.080\n&gt;&gt; Horrible analogy.\n\n176\n00:08:38.080 --> 00:08:40.626\n&gt;&gt; Accurate but-\n&gt;&gt; We're not splitting the baby,\n\n177\n00:08:40.626 --> 00:08:42.648\nwe're splitting the IP address.\n\n178\n00:08:42.648 --> 00:08:47.434\nBut 192.168.0.0 all the way through\n192.168.255.255 inclusive would be our\n\n179\n00:08:47.434 --> 00:08:48.080\nrange there.\n\n180\n00:08:48.080 --> 00:08:51.580\nSo just be aware of the fact\nthat this is gonna give us\n\n181\n00:08:51.580 --> 00:08:56.240\nour private IP address blocks or\nour private IP address classes.\n\n182\n00:08:56.240 --> 00:08:59.250\nYou hear them sometimes referred\nto by class A, class B, class C.\n\n183\n00:08:59.250 --> 00:09:00.970\nBut these are our private address blocks,\nand\n\n184\n00:09:00.970 --> 00:09:03.030\nthis is what we use there\n&gt;&gt; And then,\n\n185\n00:09:03.030 --> 00:09:05.980\nwe also have this thing called the APIPA,\nAutomatic Private IP Addressing.\n\n186\n00:09:05.980 --> 00:09:07.630\nBeen around for sometime.\n\n187\n00:09:07.630 --> 00:09:10.060\nMicrosoft implements it\nin Windows going back,\n\n188\n00:09:10.060 --> 00:09:14.310\nI think, as far as at least Server 2003,\nmaybe even Server 2000.\n\n189\n00:09:14.310 --> 00:09:16.860\nSo it's been around for some time.\n\n190\n00:09:16.860 --> 00:09:21.650\nBut the idea that we can\nassign a 169254.something\n\n191\n00:09:21.650 --> 00:09:26.340\nsomething address to a host that\nloses it's DHCP assigned address.\n\n192\n00:09:26.340 --> 00:09:29.260\nSo if it's got a lease, and\nwe'll go into this whole idea of DHCP and\n\n193\n00:09:29.260 --> 00:09:31.090\nhow it works in upcoming episodes.\n\n194\n00:09:31.090 --> 00:09:35.620\nBut if it's leasing an IP address\nfrom a DHCP server, and doing so\n\n195\n00:09:35.620 --> 00:09:39.510\nusing a dynamically assigned address,\ngetting it as a dynamic assignment instead\n\n196\n00:09:39.510 --> 00:09:42.960\nof getting a static address, cuz we\ncan actually do either one from DHCP.\n\n197\n00:09:42.960 --> 00:09:47.052\nWe can have a reservation that gives us\na statically mapped IP that we just keep.\n\n198\n00:09:47.052 --> 00:09:51.715\nBut let's assume we use DHCP\ntraditionally, we're leasing an address,\n\n199\n00:09:51.715 --> 00:09:55.193\nwe have a TTL value,\na total time out value on the lease,\n\n200\n00:09:55.193 --> 00:09:58.166\neight hours let's say,\nwhatever that may be.\n\n201\n00:09:58.166 --> 00:10:01.779\nThat ticks down to zero, and\nwe're not able to refresh and\n\n202\n00:10:01.779 --> 00:10:06.501\nrenew our lease either 50% TTL or\n87.5% TTL, the two default values\n\n203\n00:10:06.501 --> 00:10:11.435\nthat we operate on in a Windows\nenvironment with DHTP to attempt renewal.\n\n204\n00:10:11.435 --> 00:10:16.165\nIf we get down to zero and\nthe address has not been renewed,\n\n205\n00:10:16.165 --> 00:10:20.077\nwe release it, it goes to traditionally\nall zeros, we lose our IP address.\n\n206\n00:10:20.077 --> 00:10:22.155\nBut APIPA steps in and says, wait a sec,\n\n207\n00:10:22.155 --> 00:10:24.515\nwe need to keep you\nconnected to the network.\n\n208\n00:10:24.515 --> 00:10:28.765\nLet's put you on this special address\nblock on this special subnet called\n\n209\n00:10:28.765 --> 00:10:34.390\n169254, and then we'll give you 01 or\n02 or whatever for the unique host ID.\n\n210\n00:10:34.390 --> 00:10:36.054\nAnd there's a algorithm that kicks in, and\n\n211\n00:10:36.054 --> 00:10:39.850\nAPIPA generates a unique address,\nassigns it to that interface.\n\n212\n00:10:39.850 --> 00:10:43.580\nAnd then, every five minutes we start\nchecking back with the DHCP server trying\n\n213\n00:10:43.580 --> 00:10:47.635\nto see whether or not we can renew\nand/or lease a new addresses.\n\n214\n00:10:47.635 --> 00:10:52.775\nBut technically, what APIPA's able to do\nfor us is keep us connected to the LAN so\n\n215\n00:10:52.775 --> 00:10:57.625\nwe're able to consume network services,\nsuch as renewals for DHCP without\n\n216\n00:10:57.625 --> 00:11:01.674\ngoing dark, without specifying an all zero\naddress and loosing our connectivity.\n\n217\n00:11:01.674 --> 00:11:05.042\nSo APIPA gives us a very\nimportant capability\n\n218\n00:11:05.042 --> 00:11:07.822\nthat we wanna make sure we're aware of and\nwe understand as well.\n\n219\n00:11:07.822 --> 00:11:13.142\nWe will assign, as I said,\nthat IP address in the 169254 block.\n\n220\n00:11:13.142 --> 00:11:17.841\nThe host ID will be something in the last\ntwo octets, anything from 01 through\n\n221\n00:11:17.841 --> 00:11:21.992\n255254, depending on just a variety of\nvariables on that particular network.\n\n222\n00:11:21.992 --> 00:11:23.282\nBut do you be aware of that.\n\n223\n00:11:24.310 --> 00:11:24.920\nIt is important.\n\n224\n00:11:24.920 --> 00:11:25.970\nIt does happen automatically.\n\n225\n00:11:25.970 --> 00:11:27.320\nWe don't need to get in the way of it.\n\n226\n00:11:27.320 --> 00:11:29.610\nWe just need to get out of the way, as\na matter of fact, and let it do its job.\n\n227\n00:11:29.610 --> 00:11:31.740\nIf you wanna take a look here real quick,\n\n228\n00:11:31.740 --> 00:11:35.520\nwe will see something else I just wanted\nto mention with regards to IP address.\n\n229\n00:11:35.520 --> 00:11:37.710\nWe've been kind of stepping\nthrough the IP and\n\n230\n00:11:37.710 --> 00:11:42.650\njust using the IP config information\nhere to identify the constituent parts.\n\n231\n00:11:42.650 --> 00:11:43.700\nI mentioned the default gateway.\n\n232\n00:11:43.700 --> 00:11:46.110\nI just wanna highlight that and\nmake sure we're comfortable with that.\n\n233\n00:11:46.110 --> 00:11:49.966\nThe default gateway acts as our doorway\nthat allows us to get out of our\n\n234\n00:11:49.966 --> 00:11:54.553\nLocal Area Network and cross the threshold\ninto the broader, wider networks that\n\n235\n00:11:54.553 --> 00:11:59.207\nexist beyond that, whether it's another\nLAN that maybe we're connecting to, or\n\n236\n00:11:59.207 --> 00:12:02.170\nanother WAN, wherever it is,\nwhatever it is.\n\n237\n00:12:02.170 --> 00:12:07.104\nIt's the address of the gateway device,\nthe keeper of the keys so to speak, right?\n\n238\n00:12:07.104 --> 00:12:11.349\nThe router, the firewall, whatever\nthat device is that straddles our LAN,\n\n239\n00:12:11.349 --> 00:12:15.530\nour local area network, and one or\nmore other networks that exist outside,\n\n240\n00:12:15.530 --> 00:12:20.060\nand has a network connection that\nessentially exists in both places, right?\n\n241\n00:12:20.060 --> 00:12:21.260\nIt's a multi-home machine.\n\n242\n00:12:21.260 --> 00:12:23.330\nIt's got at least two interfaces.\n\n243\n00:12:23.330 --> 00:12:27.760\nAnd the interface that is attached to our\nlocal area network is the default gateway.\n\n244\n00:12:27.760 --> 00:12:29.220\nThat's what we read it as.\n\n245\n00:12:29.220 --> 00:12:32.350\nIt's our pathway to get out of our\nnetwork and go somewhere else.\n\n246\n00:12:32.350 --> 00:12:35.390\nAnd we throw all of our traffic\nup against that pathway.\n\n247\n00:12:35.390 --> 00:12:39.860\nThe device, router, firewall, whatever,\nwill process that traffic, do something\n\n248\n00:12:39.860 --> 00:12:43.710\nwith it depending on a variety of rules\nand things that we have to specify that\n\n249\n00:12:43.710 --> 00:12:47.180\nmay or may not be appropriate for\nthis conversation specifically.\n\n250\n00:12:47.180 --> 00:12:52.100\nBut generically, we assume that if we\nsend traffic that is in the valid form,\n\n251\n00:12:52.100 --> 00:12:55.070\nhas the right addresses,\nhas the right permission,\n\n252\n00:12:55.070 --> 00:12:58.210\ncomes from the right user on\nthe right interface, all that stuff,\n\n253\n00:12:58.210 --> 00:13:01.450\nthat it should pass through that gateway,\nmoving through that doorway and\n\n254\n00:13:01.450 --> 00:13:05.990\nappearing on the other side of that device\nusing a publicly routeable IP address\n\n255\n00:13:05.990 --> 00:13:10.450\nthat will then take that information and\nmove it somewhere beyond our border and\n\n256\n00:13:10.450 --> 00:13:12.660\nhopefully bring it back again at\nsome point in the future, right?\n\n257\n00:13:12.660 --> 00:13:14.690\nCuz we would like to see it come back.\n\n258\n00:13:14.690 --> 00:13:18.160\nAnd as a result of that, we're able to\nthen extend our communication pathways so\n\n259\n00:13:18.160 --> 00:13:19.440\nwe can send and receive.\n\n260\n00:13:19.440 --> 00:13:20.720\nJust kind of what we do with that.\n\n261\n00:13:20.720 --> 00:13:24.750\nSo it's the circle of life when\nit comes to IP addressing, right?\n\n262\n00:13:25.760 --> 00:13:27.090\nSo we have our default gateways.\n\n263\n00:13:27.090 --> 00:13:31.779\nHere now, we don't have,\nlet me just actually scroll down here for\n\n264\n00:13:31.779 --> 00:13:33.720\none second, right here.\n\n265\n00:13:33.720 --> 00:13:37.000\nI don't have on APIPA based address\non any of these interfaces,\n\n266\n00:13:37.000 --> 00:13:39.372\nas you can see, they're just,\nyou got a variety of things.\n\n267\n00:13:39.372 --> 00:13:41.310\nYou do have some IPv6 addresses.\n\n268\n00:13:41.310 --> 00:13:44.596\nWe'll be coming back, talking about those\nin upcoming episodes in more detail.\n\n269\n00:13:44.596 --> 00:13:47.230\nBut I don't have any APIPA\nbased addresses right now.\n\n270\n00:13:47.230 --> 00:13:49.210\nBut what I can do is the following.\n\n271\n00:13:49.210 --> 00:13:50.228\nJust give me one second.\n\n272\n00:13:50.228 --> 00:13:53.300\nLet me just extend our\nlittle lab timer there.\n\n273\n00:13:53.300 --> 00:13:58.859\nWhat we can do is we\ncan come over here and\n\n274\n00:13:58.859 --> 00:14:04.426\nwe can take a look at our routing table.\n\n275\n00:14:04.426 --> 00:14:07.025\nAnd we can see,\njust on a Server 16 machine,\n\n276\n00:14:07.025 --> 00:14:10.530\nI'm just using one of the demo\nmachines that I've set up.\n\n277\n00:14:10.530 --> 00:14:12.730\nI'm gonna talk about routing\ntables in just a moment, but\n\n278\n00:14:12.730 --> 00:14:16.970\nif you take a look right here,\nI'll just highlight it so you can see it.\n\n279\n00:14:16.970 --> 00:14:21.025\nYou'll see that I do have an APIPA based\naddress assigned in my routing table on\n\n280\n00:14:21.025 --> 00:14:21.833\nthis machine.\n\n281\n00:14:21.833 --> 00:14:23.505\nThere's actually a couple of them.\n\n282\n00:14:23.505 --> 00:14:24.575\nI didn't highlight the whole block,\n\n283\n00:14:24.575 --> 00:14:28.225\nI just highlighted the unique\none that's assigned right here.\n\n284\n00:14:28.225 --> 00:14:31.757\nBut you can see the block 169254, right?\n\n285\n00:14:31.757 --> 00:14:36.497\nAnd you could see that as a result zero,\nzero all the way through 2255255.\n\n286\n00:14:36.497 --> 00:14:39.350\nThat's the block that\nallows us to use APIPA and\n\n287\n00:14:39.350 --> 00:14:41.499\nactually have an assignment made.\n\n288\n00:14:41.499 --> 00:14:47.133\nIt's a static route sitting in our\nrouting table there, as you can see.\n\n289\n00:14:47.133 --> 00:14:51.953\nAnd as a result, allows Windows, in\nthis case, Server 16, or any Windows box\n\n290\n00:14:51.953 --> 00:14:55.803\nto ultimately assign an IP address in\nthat range using that particular service.\n\n291\n00:14:55.803 --> 00:14:57.920\nSo we could see that it is provided for,\nand\n\n292\n00:14:57.920 --> 00:15:02.910\nwe would see addresses assigned if we did\nrun out of IP addresses for some reason.\n\n293\n00:15:02.910 --> 00:15:05.980\nDHCP stopped leasing,\nany number of things could go wrong there.\n\n294\n00:15:05.980 --> 00:15:09.640\nWe would get a private IP address or an\nautomatically assigned private IP address,\n\n295\n00:15:09.640 --> 00:15:11.160\nwhat we call an APIPA address.\n\n296\n00:15:11.160 --> 00:15:14.720\n&gt;&gt; Now, that would also still fall\nunder that private categorization.\n\n297\n00:15:14.720 --> 00:15:17.450\nAnd then, also,\nother operating systems do this as well,\n\n298\n00:15:17.450 --> 00:15:20.040\nbut the term APIPA is a Microsoft term.\n\n299\n00:15:20.040 --> 00:15:21.870\n&gt;&gt; Correct.\nThis is not a Microsoft specific\n\n300\n00:15:21.870 --> 00:15:23.190\ntechnology, it's just\n\n301\n00:15:23.190 --> 00:15:27.060\nwe call the implementation of it in\nMicrosoft automatic private IP addressing.\n\n302\n00:15:27.060 --> 00:15:31.000\nBut the general idea is applied in\nevery networking stack on the planet\n\n303\n00:15:31.000 --> 00:15:32.780\npretty much in one form or another.\n\n304\n00:15:32.780 --> 00:15:36.320\nIt's just a matter of what the vendor\nwould specify that technology as being or\n\n305\n00:15:36.320 --> 00:15:38.920\nwhat the operating system calls it,\nhowever you want to think of it that way.\n\n306\n00:15:38.920 --> 00:15:40.200\nBut absolutely correct.\n\n307\n00:15:40.200 --> 00:15:43.380\nAwesome to bring that up,\nvery important for us to remember that.\n\n308\n00:15:43.380 --> 00:15:44.800\nSo, thank you very much, appreciate it.\n\n309\n00:15:44.800 --> 00:15:46.184\n&gt;&gt; You're welcome.\n&gt;&gt; You're always there with that\n\n310\n00:15:46.184 --> 00:15:47.929\nhelpful hint whenever we need it,\nthat's awesome.\n\n311\n00:15:47.929 --> 00:15:51.284\nSo we did talk about numbers of subnets,\nand\n\n312\n00:15:51.284 --> 00:15:57.104\nI mentioned that we could take a look at\nAnd think about the logic of subnets.\n\n313\n00:15:57.104 --> 00:16:01.374\nAnd I just wanted to show you here the\nidea behind, as we take a certain number\n\n314\n00:16:01.374 --> 00:16:05.466\nof bits and we assign it, how we get\na certain number of subnets, right?\n\n315\n00:16:05.466 --> 00:16:08.570\nThis is also something which we wanna\nthink about and just be aware of.\n\n316\n00:16:08.570 --> 00:16:11.245\nThink through the logic of all the\ndifferent pieces that we're talking about.\n\n317\n00:16:11.245 --> 00:16:13.000\nThis helps us to understand that.\n\n318\n00:16:14.350 --> 00:16:18.430\nWhen we're thinking about the formula\nhere, we're thinking about 2 to the 1st,\n\n319\n00:16:18.430 --> 00:16:21.762\n2 to the 2nd, 2 to the 3rd, so\nit's just how we would specify, or\n\n320\n00:16:21.762 --> 00:16:26.090\nwrite it, in this case, because, well,\nExcel doesn't write it that way, normally.\n\n321\n00:16:26.090 --> 00:16:28.210\nSo that's how we normally\nwill see it written.\n\n322\n00:16:28.210 --> 00:16:32.200\nBut more importantly, in all honesty, you\nwill see it in most network documentation.\n\n323\n00:16:32.200 --> 00:16:34.370\nThis is how we actually\nrepresent that idea.\n\n324\n00:16:34.370 --> 00:16:37.220\nSo we see 2 kind of up arrow,\na little caret 6.\n\n325\n00:16:37.220 --> 00:16:39.590\nThat means 2 to the 6th, right?\n\n326\n00:16:39.590 --> 00:16:43.310\nFor the formula, or a total of 2\nraised to the 6th power, right?\n\n327\n00:16:43.310 --> 00:16:47.285\nOr a total of 64 subnets that we would\nultimately get, cuz we're using six bits.\n\n328\n00:16:47.285 --> 00:16:50.610\nSo just wanna think about\nthe logic of how we write that.\n\n329\n00:16:50.610 --> 00:16:53.917\nBecause a lot of times you will see\nthe formula representing a shorthand for\n\n330\n00:16:53.917 --> 00:16:54.979\nthe number of subnets.\n\n331\n00:16:54.979 --> 00:16:58.911\nSomebody will say I have 2 to the 4th,\nand that's really 16 subnets.\n\n332\n00:16:58.911 --> 00:16:59.986\nSo just wanna make sure\nwe're aware of that.\n\n333\n00:16:59.986 --> 00:17:01.946\nNow, if you're not familiar with that or\n\n334\n00:17:01.946 --> 00:17:05.475\nyou just need a little refresher just go\nlook up power of twos, or a table for\n\n335\n00:17:05.475 --> 00:17:09.190\npower of twos and you'll find at least\nthe first eight of them anyway, right?\n\n336\n00:17:09.190 --> 00:17:12.517\n2 to the 6th, 2 to the 7th, 2 to the 8th,\nall the way through all the bits,\n\n337\n00:17:12.517 --> 00:17:15.824\nall the way up to 256, you'll actually\nfind them just represented there.\n\n338\n00:17:15.824 --> 00:17:17.403\nBut you will be able to see them.\n\n339\n00:17:17.403 --> 00:17:19.205\nIf you go out to the web and\njust Google for\n\n340\n00:17:19.205 --> 00:17:21.940\nit you'll find the table that\nwill show you the first eight.\n\n341\n00:17:21.940 --> 00:17:23.800\nAnd that's all we're concerned about for\nIPv4.\n\n342\n00:17:23.800 --> 00:17:27.410\nThere obviously are concerns and\nconsiderations for other systems, for\n\n343\n00:17:27.410 --> 00:17:27.960\nother things.\n\n344\n00:17:27.960 --> 00:17:29.800\nBut we're really just\nfocusing on the IPv4,\n\n345\n00:17:29.800 --> 00:17:33.820\nand remember the thought process being\nthe eight bits that we're working with.\n\n346\n00:17:33.820 --> 00:17:34.752\nSo Cherokee you wanted to-\n&gt;&gt; Good advice.\n\n347\n00:17:34.752 --> 00:17:37.291\nYeah, no, I'm just thinking it's\nreally great to think about\n\n348\n00:17:37.291 --> 00:17:40.692\nthe power of twos there, because like you\nhad said, these numbers, they do come up.\n\n349\n00:17:40.692 --> 00:17:43.924\nAnd that's simply because if\nwe're thinking about binary,\n\n350\n00:17:43.924 --> 00:17:48.026\nbase two numbering system, you look at\nyour storage spaces, your RAM sizes,\n\n351\n00:17:48.026 --> 00:17:52.437\nand by using that chart that's an easy way\nto kind of, you start seeing the pattern,\n\n352\n00:17:52.437 --> 00:17:54.824\nlike we're in the matrix or\nsomething Adam.\n\n353\n00:17:54.824 --> 00:17:55.324\n&gt;&gt; It could be.\n&gt;&gt; [LAUGH]\n\n354\n00:17:55.324 --> 00:17:56.845\n&gt;&gt; It could be.\n\n355\n00:17:56.845 --> 00:17:58.371\nYeah, let's look at some more of\n\n356\n00:17:58.371 --> 00:17:59.725\nthe matrix, shall we?\n&gt;&gt; Double them up, yeah.\n\n357\n00:17:59.725 --> 00:18:00.387\n&gt;&gt; All right, so\n\n358\n00:18:00.387 --> 00:18:04.534\nwe'll talk about incrementing here between\nsubnets or the increment between addresses\n\n359\n00:18:04.534 --> 00:18:08.420\nin just a minute, but let's, I know I\nmentioned supernets before we got started.\n\n360\n00:18:08.420 --> 00:18:10.425\nYou were like, supernets, that's super.\n\n361\n00:18:10.425 --> 00:18:12.640\nExactly, literally, that's what she said,\n\n362\n00:18:12.640 --> 00:18:14.950\nso let's talk about supernets for\njust a minute.\n\n363\n00:18:14.950 --> 00:18:16.790\nSo when we think about supernets, it's\n\n364\n00:18:16.790 --> 00:18:20.021\nalso kind of a cool thing with subnets.\nWe talk about being able to do bit\n\n365\n00:18:20.021 --> 00:18:22.899\nborrowing, I think that's actually the\nterm that you and I were talking about,\n\n366\n00:18:22.899 --> 00:18:24.423\nand you mentioned you\ncould borrow bits but\n\n367\n00:18:24.423 --> 00:18:25.808\nyou don't give them back.\n&gt;&gt; [LAUGH]\n\n368\n00:18:25.808 --> 00:18:26.794\n&gt;&gt; Right, you talked about that in\n\n369\n00:18:26.794 --> 00:18:29.206\nthe last episode.\nAnd so, when we think about borrowing\n\n370\n00:18:29.206 --> 00:18:33.197\nbits, right, what we really are thinking\nabout is traditionally we'll take an IP\n\n371\n00:18:33.197 --> 00:18:36.860\naddress, right, and we can manipulate\nit through the use of a subnet mask.\n\n372\n00:18:36.860 --> 00:18:38.648\nWe haven't really talked about this logic\n\n373\n00:18:38.648 --> 00:18:43.011\nyet, but we've talked just generically.\nWe'll just go back here for just a minute.\n\n374\n00:18:43.011 --> 00:18:44.705\nWe talked generically about the default\n\n375\n00:18:44.705 --> 00:18:48.050\nsubnet mask.\nOkay, Class A default 8-bit subnet mask,\n\n376\n00:18:48.050 --> 00:18:52.870\nall 8 bits turned on for the network\nportion, other three octets all zeroes,\n\n377\n00:18:52.870 --> 00:18:56.480\nall bits turned off, host portion.\nSo 10.something, and\n\n378\n00:18:56.480 --> 00:18:59.037\nthe 10.something network, and 001,\n\n379\n00:18:59.037 --> 00:19:02.213\nour first host within that network.\nOkay, we get that, right?\n\n380\n00:19:02.213 --> 00:19:02.919\nWe've been through that,\n\n381\n00:19:02.919 --> 00:19:04.450\npretty straightforward, pretty easy.\nBut\n\n382\n00:19:04.450 --> 00:19:09.230\nwhat if we want to be able to say,\nI don't want a 255.000 subnet mask.\n\n383\n00:19:09.230 --> 00:19:11.220\nWhat if I want a custom subnet mask,\nright?\n\n384\n00:19:11.220 --> 00:19:13.990\nThat would be one thing we could do and\nyou're talking about borrowing bits.\n\n385\n00:19:13.990 --> 00:19:16.700\nWe could do 255.128.0.0, right?\n\n386\n00:19:16.700 --> 00:19:17.420\n&gt;&gt; Yeah.\n\n387\n00:19:17.420 --> 00:19:19.470\n&gt;&gt; Borrow the first bit of the next octet.\n\n388\n00:19:19.470 --> 00:19:23.075\n&gt;&gt; Being a rebel and breaking these\npredetermined classes for us.\n\n389\n00:19:23.075 --> 00:19:27.240\n&gt;&gt; Or being a subnet bit bank robber and\nstealing bits from the bank.\n\n390\n00:19:27.240 --> 00:19:29.190\nRight, we could do that as well.\n\n391\n00:19:29.190 --> 00:19:30.520\nSo however you think of it, right.\n\n392\n00:19:30.520 --> 00:19:33.770\nWe can actually literally go\nover here to this next octet and\n\n393\n00:19:33.770 --> 00:19:37.340\nstart chipping away at these bits and\nsaying I wanna put some 1s in there.\n\n394\n00:19:37.340 --> 00:19:41.520\nI wanna turn those on and I wanna use them\nand I want to assign them to the network.\n\n395\n00:19:41.520 --> 00:19:43.150\nPush them over to the left there, right?\n\n396\n00:19:43.150 --> 00:19:44.636\nGroup them with the other octet.\n\n397\n00:19:44.636 --> 00:19:48.821\nMake them red and\nas a result I'm gonna not have a /8.\n\n398\n00:19:48.821 --> 00:19:51.627\nMaybe I have a /9 or /10 or\nwhatever the case may be for\n\n399\n00:19:51.627 --> 00:19:53.970\nthe number of bits that are turned on.\n\n400\n00:19:53.970 --> 00:19:57.264\nAnd so if I do that for\nthe first two bits of the next octet,\n\n401\n00:19:57.264 --> 00:19:59.990\nI would have 255.192.0.0.\n\n402\n00:19:59.990 --> 00:20:03.490\nA custom subnet address or\na custom subnet mask.\n\n403\n00:20:03.490 --> 00:20:08.060\nAnd as a result, I would then start\nto tip the scales around this idea\n\n404\n00:20:08.060 --> 00:20:10.460\nof the number of hosts and\nnumber of networks, and\n\n405\n00:20:10.460 --> 00:20:13.195\nwe were talking a bit about this idea but\nhadn't really gotten Into it.\n\n406\n00:20:13.195 --> 00:20:14.685\nSo I can borrow bits, right?\n\n407\n00:20:14.685 --> 00:20:17.928\nNow I can do that at the expense\nof the host when I'm doing\n\n408\n00:20:17.928 --> 00:20:20.826\ntraditional subnet mask calculations and\nI wanna\n\n409\n00:20:20.826 --> 00:20:25.449\nget a custom subnet mask extending my\nnetworks at the expense of hosts, right?\n\n410\n00:20:25.449 --> 00:20:29.309\nThat's one way of doing this but\nI can also do what's called supernetting.\n\n411\n00:20:29.309 --> 00:20:33.042\nSupernetting combines different\nsmaller networks together for\n\n412\n00:20:33.042 --> 00:20:34.950\nme into a single larger network.\n\n413\n00:20:34.950 --> 00:20:36.530\nSo I can aggregate networks up.\n\n414\n00:20:36.530 --> 00:20:39.435\nBut I have to follow a very simple but\nvery important rule.\n\n415\n00:20:39.435 --> 00:20:42.940\nSupernetting can be done, but it can only\nbe done if the networks are contiguous.\n\n416\n00:20:42.940 --> 00:20:44.740\nPeople often don't realize or forget this.\n\n417\n00:20:44.740 --> 00:20:49.225\nSo if we have a, for\ninstance, 192.168.20.0 and\n\n418\n00:20:49.225 --> 00:20:53.542\nif we have 192.168.21.0\nas our two addresses,\n\n419\n00:20:53.542 --> 00:20:57.448\nif you think about the two\nnetworks that we're using.\n\n420\n00:20:57.448 --> 00:21:02.169\nSo 192.168.20 and 21.0/24, so\n\n421\n00:21:02.169 --> 00:21:06.128\ntraditional class C subnet mask, right?\n\n422\n00:21:06.128 --> 00:21:09.440\nThen those two networks are contiguous,\nthey're next to each other.\n\n423\n00:21:09.440 --> 00:21:11.720\nSequentially they're\nrelated to one another.\n\n424\n00:21:11.720 --> 00:21:14.553\nAnd as a result we can supernet them,\ncombine them together,\n\n425\n00:21:14.553 --> 00:21:15.971\nsmash them together, right,\n\n426\n00:21:15.971 --> 00:21:19.859\nessentially, and we get one large network\nout of two individual smaller networks.\n\n427\n00:21:19.859 --> 00:21:23.140\nSo we would then, no, you're not gonna\nbe able to ask anything until I'm done.\n\n428\n00:21:23.140 --> 00:21:24.167\nStop waving at me.\n\n429\n00:21:24.167 --> 00:21:26.490\nWe'll get to Cherokee's\nquestion in just one second.\n\n430\n00:21:26.490 --> 00:21:27.781\nI just want to make everybody\nis clear in the concept,\n\n431\n00:21:27.781 --> 00:21:29.490\nthen I wanna let you ask your question.\n\n432\n00:21:29.490 --> 00:21:33.690\nSo remember, we can do this but if they're\nnot contiguous we cannot supernet them.\n\n433\n00:21:33.690 --> 00:21:38.808\nSo if we had, for instance,\nin theory 192.168.32.0,\n\n434\n00:21:38.808 --> 00:21:41.997\nand 192.168.46.0, right?\n\n435\n00:21:41.997 --> 00:21:45.189\nThose two numbers cannot be supernetted\ntogether cuz what are we gonna do with\n\n436\n00:21:45.189 --> 00:21:46.600\nall the stuff in the middle?\n\n437\n00:21:46.600 --> 00:21:47.940\nWe're gonna jump over it.\n\n438\n00:21:47.940 --> 00:21:51.870\nHow do we combine those two over\nhere into one big network and\n\n439\n00:21:51.870 --> 00:21:53.470\nleave out everything in the middle, right?\n\n440\n00:21:53.470 --> 00:21:54.540\nThat would be the problem.\n\n441\n00:21:54.540 --> 00:21:58.090\nIf we wanted to smash them all together\nand make one big network out of,\n\n442\n00:21:58.090 --> 00:22:03.230\nwhat did I say, 32 to 46,\nout of 14 networks we could do that,\n\n443\n00:22:03.230 --> 00:22:06.800\nbut that's not the same thing\nas saying I just want 32 and\n\n444\n00:22:06.800 --> 00:22:10.290\n46 joined together,\nleaving out everything in between.\n\n445\n00:22:10.290 --> 00:22:11.640\nThat's the trick with supernetting.\n\n446\n00:22:11.640 --> 00:22:14.020\nWe gotta know that the networks\nhave to be contiguous.\n\n447\n00:22:14.020 --> 00:22:17.000\nSo, it's the exact opposite\nof subnetting right?\n\n448\n00:22:17.000 --> 00:22:20.850\nWhen we do supernetting, we allocate\nbits from the network ID to the host.\n\n449\n00:22:20.850 --> 00:22:22.810\nWe give them back in other words, right?\n\n450\n00:22:22.810 --> 00:22:24.108\nWe go the other way.\n\n451\n00:22:24.108 --> 00:22:27.250\nRight, we're getting more hosts,\nbecause we're combining networks together.\n\n452\n00:22:27.250 --> 00:22:30.018\nThink about the logic,\nwith subnetting, I just explained,\n\n453\n00:22:30.018 --> 00:22:32.210\nis we borrow bits to create\ncustom subnet masks.\n\n454\n00:22:32.210 --> 00:22:35.724\nWe get more networks, right,\nat the expense of hosts.\n\n455\n00:22:35.724 --> 00:22:37.600\nSupernetting, the exact opposite.\n\n456\n00:22:37.600 --> 00:22:41.240\nWe have less networks, they're bigger,\nbut we get more hosts per network.\n\n457\n00:22:41.240 --> 00:22:42.934\nSo inverse, exact reverse or\n\n458\n00:22:42.934 --> 00:22:46.942\nthink about them as being mirrored\nopposites of one another, right?\n\n459\n00:22:46.942 --> 00:22:48.006\nOkay, now.\n\n460\n00:22:48.006 --> 00:22:49.765\n&gt;&gt; So, I know-\n&gt;&gt; You've been so patient.\n\n461\n00:22:49.765 --> 00:22:51.170\n&gt;&gt; I know, I'm trying.\n\n462\n00:22:51.170 --> 00:22:52.520\n&gt;&gt; You're like jumping up and down.\n\n463\n00:22:52.520 --> 00:22:53.420\n&gt;&gt; Over here, over here.\n\n464\n00:22:53.420 --> 00:22:55.710\n&gt;&gt; Fidgeting, you're like me,\nme, pick me, pick me.\n\n465\n00:22:55.710 --> 00:22:56.720\nOkay, go ahead.\n\n466\n00:22:56.720 --> 00:22:58.870\n&gt;&gt; No, I just was thinking,\n\n467\n00:22:58.870 --> 00:23:01.790\nIt's kind of interesting when we\nthink about the use of subnetting and\n\n468\n00:23:01.790 --> 00:23:05.650\nsupernetting, and sometimes you might\neven hear terms like route summarization.\n\n469\n00:23:05.650 --> 00:23:08.617\nWhy do we do this to help\nspeed up our networks?\n\n470\n00:23:08.617 --> 00:23:09.830\nWhy do we even subnet?\n\n471\n00:23:09.830 --> 00:23:13.320\nAnd so I was just kind of thinking,\nshould we talk about that or\n\n472\n00:23:13.320 --> 00:23:17.461\nis that kind of like a pre-this\nseries conversation?\n\n473\n00:23:18.500 --> 00:23:23.480\n&gt;&gt; Well, we've talked a little bit about\nit already in the sense that there may be\n\n474\n00:23:23.480 --> 00:23:28.174\na need to extend our traditional\nallocation of either networks or hosts.\n\n475\n00:23:28.174 --> 00:23:30.320\nYou can think of it either way,\njust depending on what we're doing, right?\n\n476\n00:23:30.320 --> 00:23:33.749\nAnd so, if we go back to the chart for\njust a minute where we just were,\n\n477\n00:23:33.749 --> 00:23:37.771\nif we look at this and we think about\nthe logic of, okay, I have 126 networks,\n\n478\n00:23:37.771 --> 00:23:42.714\npotentially, let's just say, in a Class A\ndefault network, 255.0.0.0 for a subnet.\n\n479\n00:23:42.714 --> 00:23:44.169\nSo I have one network called one.\n\n480\n00:23:44.169 --> 00:23:47.966\nI hae a separate network called, or\nstarted with the octet value of two.\n\n481\n00:23:47.966 --> 00:23:49.808\nAnother one started with\nan octet value of three, etc.\n\n482\n00:23:49.808 --> 00:23:52.084\nIf we just think about,\nThe logic of that, right?\n\n483\n00:23:52.084 --> 00:23:56.521\nAnd each one of them is gonna\nhave approximately 17 million,\n\n484\n00:23:56.521 --> 00:24:03.552\n16.7 million hosts from 001, usable,\nright, all the way up to 255.255.254,\n\n485\n00:24:03.552 --> 00:24:07.672\nso 10.001.002.003, etcetera, right?\n\n486\n00:24:07.672 --> 00:24:09.680\nAnd each one roughly has that amount.\n\n487\n00:24:09.680 --> 00:24:14.590\nWell, that's great if I have less than\n16.7 million hosts, right, in theory.\n\n488\n00:24:14.590 --> 00:24:16.420\n&gt;&gt; That's a lot, yeah\n&gt;&gt; And it is a lot, but\n\n489\n00:24:16.420 --> 00:24:19.506\nthere are networks that will\nhave more hosts than that.\n\n490\n00:24:19.506 --> 00:24:20.545\n&gt;&gt; Yeah.\n&gt;&gt; And that they need more.\n\n491\n00:24:21.545 --> 00:24:26.073\nAnd so we may need to extend, right,\nthe number of hosts that are available.\n\n492\n00:24:26.073 --> 00:24:28.425\nBecause we may have to add more,\nnow it's not as prevalent and\n\n493\n00:24:28.425 --> 00:24:29.735\nas common on a class A network.\n\n494\n00:24:29.735 --> 00:24:34.280\nCuz again, how many networks really\nhave 17 million hosts under management?\n\n495\n00:24:34.280 --> 00:24:36.100\nAnd I'm sure there are networks out there,\ndon't get me wrong.\n\n496\n00:24:36.100 --> 00:24:38.750\nI've worked with customers that\nhave bigger than that in terms of\n\n497\n00:24:38.750 --> 00:24:39.720\nthe number of hosts.\n\n498\n00:24:39.720 --> 00:24:43.220\nI know they exist, but my point is,\nfor the average individual, for\n\n499\n00:24:43.220 --> 00:24:46.190\nany of you out there, for us,\nand traditional organization or\n\n500\n00:24:46.190 --> 00:24:49.930\nenterprise, we're probably thinking more\nalong the lines in the class C range\n\n501\n00:24:49.930 --> 00:24:52.690\nof having to get more addresses\nallocated out, right?\n\n502\n00:24:52.690 --> 00:24:56.870\nBecause we have only 254 hosts, that's\nprobably a better thought process for us,\n\n503\n00:24:56.870 --> 00:25:01.890\ncuz it's more realistic for the average\nenterprise to say, I need 500 hosts, but\n\n504\n00:25:01.890 --> 00:25:04.525\nI've only got 254 in my class C network.\n\n505\n00:25:04.525 --> 00:25:05.455\nWhat do I do?\n\n506\n00:25:05.455 --> 00:25:06.835\nWell then,\nI could either borrow some bits,\n\n507\n00:25:06.835 --> 00:25:10.615\ncreate a custom sub-net mask or\nI could do a variety of things.\n\n508\n00:25:10.615 --> 00:25:11.222\nI could super net.\n\n509\n00:25:11.222 --> 00:25:13.385\nThere's different ways\nthat I could approach it.\n\n510\n00:25:13.385 --> 00:25:17.075\nThe point is, it's driven by number one,\nyou have the needs of the customer or\n\n511\n00:25:17.075 --> 00:25:19.735\nthe needs of the enterprise,\nhowever you wanna think of that.\n\n512\n00:25:19.735 --> 00:25:23.860\nAnd it comes down to the idea we talked\nabout, not just here, we'll mention that.\n\n513\n00:25:23.860 --> 00:25:25.690\nWe mentioned it,\nyou've heard me mention it,\n\n514\n00:25:25.690 --> 00:25:27.660\ncertainly you've heard\nCherokee mention it.\n\n515\n00:25:27.660 --> 00:25:31.830\nAny of the host here at ITPro TV I know\nhave this conversations with Daniel,\n\n516\n00:25:31.830 --> 00:25:35.840\nwith Mike and everybody talks about it\nat some point in any of their shows.\n\n517\n00:25:35.840 --> 00:25:38.440\nThe idea of planning to be successful or\nplanning to fail.\n\n518\n00:25:38.440 --> 00:25:39.560\nYou can call it in different things, but\n\n519\n00:25:39.560 --> 00:25:43.080\nultimately the idea of understanding ahead\nof time what are needs are gonna be.\n\n520\n00:25:43.080 --> 00:25:46.766\nAnd I think it's a great conversation to\nhave, and i think the right time to have\n\n521\n00:25:46.766 --> 00:25:49.582\nit is, at some point in this\nkind of a conversation, right?\n\n522\n00:25:49.582 --> 00:25:54.422\nBecause it is important to understand\nthat we have to think ahead of the demand\n\n523\n00:25:54.422 --> 00:25:54.947\ncurve.\n\n524\n00:25:54.947 --> 00:25:58.682\nAnd that's essential with this kind of\nconversation to help us to do and say,\n\n525\n00:25:58.682 --> 00:26:02.359\nif I'm gonna be deploying multiple\nhosts and I'm using an internal private\n\n526\n00:26:02.359 --> 00:26:05.173\nclass C network,\nmaybe I need to modify that a little bit,\n\n527\n00:26:05.173 --> 00:26:08.104\nmake sure I have enough room,\nor maybe I should switch over,\n\n528\n00:26:08.104 --> 00:26:11.808\ncuz you see most companies, honestly,\nthey use class A private networks.\n\n529\n00:26:11.808 --> 00:26:14.035\nJust because they avoid this\nall together and say, yeah,\n\n530\n00:26:14.035 --> 00:26:16.444\nwe don't even wanna worry about\nhaving to do that whole, hey,\n\n531\n00:26:16.444 --> 00:26:18.830\nhow many bits do I have,\nhow many networks, ow many hosting?\n\n532\n00:26:18.830 --> 00:26:22.609\nLet's just use like a ridiculous range and\nwe're never gonna run out of room, right?\n\n533\n00:26:22.609 --> 00:26:26.720\nBecause we have this beautiful thing\ncalled matting, which we'll talk about at\n\n534\n00:26:26.720 --> 00:26:30.710\nsome point later which allows us to hide\nthose private internal IP addresses,\n\n535\n00:26:30.710 --> 00:26:34.277\nlink them through a gateway to external\npublic routed IPs that present\n\n536\n00:26:34.277 --> 00:26:37.964\nthe opportunity in a very specified and\ncontrolled way to give just one or\n\n537\n00:26:37.964 --> 00:26:41.070\ntwo IP addresses that you used for\nall communication.\n\n538\n00:26:41.070 --> 00:26:44.370\nAnd everything internally\nis hidden from view.\n\n539\n00:26:44.370 --> 00:26:46.786\nSo let's just use 16.7 million and\nhave an IP party and\n\n540\n00:26:46.786 --> 00:26:48.971\nwe don't have to worry about it,\n[CROSSTALK] right?\n\n541\n00:26:48.971 --> 00:26:51.726\nSo it's a question of just doing\nan assessment up front and\n\n542\n00:26:51.726 --> 00:26:54.385\nreally thinking through the logic,\nhow many do I need?\n\n543\n00:26:54.385 --> 00:27:00.305\nNow, in certain cases, you go ahead and\nsay, I only need 200 or I need 500.\n\n544\n00:27:00.305 --> 00:27:03.049\nThis is where you're gonna\nstart actually getting into,\n\n545\n00:27:03.049 --> 00:27:04.904\ndo I need public IP addresses, right?\n\n546\n00:27:04.904 --> 00:27:07.514\nBecause then, we gotta pay for\nthose IP addresses, right?\n\n547\n00:27:07.514 --> 00:27:08.310\n&gt;&gt; That's true.\n&gt;&gt; Traditionally,\n\n548\n00:27:08.310 --> 00:27:09.340\nalmost without exception.\n\n549\n00:27:09.340 --> 00:27:11.840\nWe gotta pay for them and as a result,\n\n550\n00:27:11.840 --> 00:27:16.460\nwe really have to be a little bit more\naware, a little bit more focused on, hey,\n\n551\n00:27:16.460 --> 00:27:18.430\nwhat do I really need and\nhow many am I gonna consume.\n\n552\n00:27:18.430 --> 00:27:21.230\nThis is why your ISP,\nyour internet service provider,\n\n553\n00:27:21.230 --> 00:27:25.050\nright traditionally lets you only\nhave one or maybe two IP addresses\n\n554\n00:27:25.050 --> 00:27:28.350\nwhen you get your cable service or\nyour internet service, cable service, etc.\n\n555\n00:27:28.350 --> 00:27:30.500\nUsually all bundled these days together.\n\n556\n00:27:30.500 --> 00:27:31.800\nAnd you get that from them.\n\n557\n00:27:31.800 --> 00:27:36.386\nAnd they give you the DSL or cable modem\nbox or whatever they give you these days.\n\n558\n00:27:36.386 --> 00:27:40.609\nAnd you hook it up, and they give you one,\nmaybe two public IP addresses,\n\n559\n00:27:40.609 --> 00:27:42.877\ndepending on what you're paying for.\n\n560\n00:27:42.877 --> 00:27:45.090\nYou can get more of course,\nbut you've gotta pay for them.\n\n561\n00:27:45.090 --> 00:27:47.360\nBut with your basic service usually,\nyou get one.\n\n562\n00:27:47.360 --> 00:27:48.780\nAnd that's usually assigned through DHCP,\n\n563\n00:27:48.780 --> 00:27:51.440\nbecause they're the only one who'll\nlet you have it grudgingly for\n\n564\n00:27:51.440 --> 00:27:53.690\nthe absolute bare minimum\namount of time you need it for.\n\n565\n00:27:53.690 --> 00:27:55.826\nThe minute you shut that device down or\nstop using it,\n\n566\n00:27:55.826 --> 00:27:58.303\nthey're gonna yanking away from\nyou until you need it again.\n\n567\n00:27:58.303 --> 00:28:01.483\nBut they're gonna give you that IP and\nthat's gonna be used for\n\n568\n00:28:01.483 --> 00:28:05.563\nall your outbound communication, going\nout of the box, out of the gateway, and\n\n569\n00:28:05.563 --> 00:28:09.404\nall of the inbound coming back, referred\nto for all of the machines inside.\n\n570\n00:28:09.404 --> 00:28:12.992\nWe're gonna NAP that,\nwe're gonna address translate that, and\n\n571\n00:28:12.992 --> 00:28:15.500\nhide that private internal\nIP address range.\n\n572\n00:28:15.500 --> 00:28:21.359\nYou're probably using a 192 or a 10 dot\nrange at home most likely, 192.168, right?\n\n573\n00:28:21.359 --> 00:28:23.176\nSo we all do this right,\nyou should be like the cool kids.\n\n574\n00:28:23.176 --> 00:28:26.170\nEverybody's doing it,\nyou should come do it too, right?\n\n575\n00:28:26.170 --> 00:28:26.770\nBe cool.\n\n576\n00:28:26.770 --> 00:28:27.806\n&gt;&gt; Woo hoo.\n&gt;&gt; Be like us right?\n\n577\n00:28:27.806 --> 00:28:29.180\n&gt;&gt; [LAUGH]\n&gt;&gt; And so that's what's happening,\n\n578\n00:28:29.180 --> 00:28:30.580\nthat's what's going on, right?\n\n579\n00:28:30.580 --> 00:28:34.044\nSo that's really the conversation that\nwe would have, right, traditionally, and\n\n580\n00:28:34.044 --> 00:28:35.642\nit's never a bad idea to bring that up.\n\n581\n00:28:35.642 --> 00:28:38.410\nI mean, it's always a good idea to make\nsure we're comfortable with the logic of\n\n582\n00:28:38.410 --> 00:28:39.031\nhow things work.\n\n583\n00:28:39.031 --> 00:28:42.349\nSo never be ashamed to ask why is what I\ntell my students, and you shouldn't be\n\n584\n00:28:42.349 --> 00:28:45.617\neither, because it's really important\nto challenge those assumptions,\n\n585\n00:28:45.617 --> 00:28:48.700\nmake sure you understand the logic of\nwhy we do things and how we do them.\n\n586\n00:28:48.700 --> 00:28:50.070\nIt's very, very important.\n\n587\n00:28:50.070 --> 00:28:51.440\nSo we've got the idea of supernetting.\n\n588\n00:28:51.440 --> 00:28:53.552\nI just wanna throw that out there and\nmake sure we're comfortable with that.\n\n589\n00:28:53.552 --> 00:28:57.274\nHow do we actually go in and\nuse the command line to do some of this\n\n590\n00:28:57.274 --> 00:29:00.438\naddressing, and\nI wanna talk a bit about metastage,\n\n591\n00:29:00.438 --> 00:29:03.622\nwanna talk a bit about PowerShell,\nand Server 16.\n\n592\n00:29:03.622 --> 00:29:06.539\nYou hear me mention PowerShell\nall the time, on Microsoft side,\n\n593\n00:29:06.539 --> 00:29:08.450\nanyone if we're doing these shows.\n\n594\n00:29:08.450 --> 00:29:12.450\nI'm a big fan, big advocate,\nbig user of the tool.\n\n595\n00:29:12.450 --> 00:29:15.540\nI think it's definitely something you\nwanna be more familiar with as an IT\n\n596\n00:29:15.540 --> 00:29:16.560\nprofessional.\n\n597\n00:29:16.560 --> 00:29:17.740\nI think it's important for\n\n598\n00:29:17.740 --> 00:29:22.870\nyou to be comfortable with\nthe logic of how this tool works.\n\n599\n00:29:22.870 --> 00:29:26.520\nJust extending our timer here and\nI think it's important for\n\n600\n00:29:26.520 --> 00:29:29.950\nyou to be comfortable in both\nthe traditional command line.\n\n601\n00:29:29.950 --> 00:29:33.040\nAnd you could see how that appear, we're\njust taking a look at our IP address and\n\n602\n00:29:33.040 --> 00:29:34.410\nwhere we were few minutes ago.\n\n603\n00:29:34.410 --> 00:29:38.630\nAnd I also think it's important for you\nto be comfortable in PowerShell, right,\n\n604\n00:29:38.630 --> 00:29:41.480\nbecause I think both of\nthem are equally valuable.\n\n605\n00:29:41.480 --> 00:29:44.150\nThe command line is always gonna be there.\n\n606\n00:29:44.150 --> 00:29:47.530\nIt hasn't really ever gone away despite\neverybody's threatening to get rid of it,\n\n607\n00:29:47.530 --> 00:29:49.650\ndespite everybody complaining about it.\n\n608\n00:29:49.650 --> 00:29:51.270\nYou see it's still there, but\n\n609\n00:29:51.270 --> 00:29:54.390\nPowerShell has really become\nthat new standard for it.\n\n610\n00:29:54.390 --> 00:29:56.920\nSo the nice thing about PowerShell,\npeople don't often realize this.\n\n611\n00:29:56.920 --> 00:29:59.890\nYou could do just about any you could\ndo from a command line in PowerShell.\n\n612\n00:29:59.890 --> 00:30:02.080\nWe support all the tools that\nyou would wanna run there.\n\n613\n00:30:02.080 --> 00:30:07.586\nSo ping, ipconfig, tracert,\npathping, whatever the tools maybe.\n\n614\n00:30:07.586 --> 00:30:11.100\nYou could run them from PowerShell, but\nyou can also do a lot of other stuff that\n\n615\n00:30:11.100 --> 00:30:13.410\ntraditional command line\nwill not let you do.\n\n616\n00:30:13.410 --> 00:30:17.199\nAll the commandlets that you always refer\nto and talk about are supported with\n\n617\n00:30:17.199 --> 00:30:20.823\nPowerShell, but they're not supported\nin a traditional command line.\n\n618\n00:30:20.823 --> 00:30:23.759\nSo to that end, and\nI often talk about commandlets,\n\n619\n00:30:23.759 --> 00:30:27.362\nI've put out there during shows,\nput them in the units for you,\n\n620\n00:30:27.362 --> 00:30:31.101\nhave a whole bunch of them scatter\nthroughout all these units, for\n\n621\n00:30:31.101 --> 00:30:35.693\nall the episodes we're going through\naround networking with Server 2016.\n\n622\n00:30:35.693 --> 00:30:38.466\nBut a lot of times, it's kinda taken for\ngranted the fact that we say,\n\n623\n00:30:38.466 --> 00:30:40.497\nhey I've got a PowerShell and\ntype the command in.\n\n624\n00:30:40.497 --> 00:30:41.658\nBut I often stop and wonder, and\n\n625\n00:30:41.658 --> 00:30:44.241\nI often think about which one to take\nto the time and do with you here now.\n\n626\n00:30:44.241 --> 00:30:46.120\nDo you really know what the command does?\n\n627\n00:30:46.120 --> 00:30:48.460\nWe tell you about it,\nwe tell you where to go look it up online.\n\n628\n00:30:48.460 --> 00:30:50.790\nBut do you know you could get help for\nit right in PowerShell itself?\n\n629\n00:30:50.790 --> 00:30:52.820\nIt's always good to know how to find help.\n\n630\n00:30:52.820 --> 00:30:54.910\nAnd so, I wanted to show you\nthat before we actually take\n\n631\n00:30:54.910 --> 00:30:56.360\na look at the commands here.\n\n632\n00:30:56.360 --> 00:30:59.715\nGet help and followed by whatever\nthe name of the commandlet is for\n\n633\n00:30:59.715 --> 00:31:03.436\nany command that you wanna see,\nassuming that a module is loaded that has\n\n634\n00:31:03.436 --> 00:31:07.218\nthe commandlet already available will\nprovide the help for you locally.\n\n635\n00:31:07.218 --> 00:31:08.664\nNow, the first time you do this,\n\n636\n00:31:08.664 --> 00:31:11.715\nactually, depending on the last time\nyou used PowerShell whether you\n\n637\n00:31:11.715 --> 00:31:14.675\nhave ever done it or not,\nyou may actually get something like this.\n\n638\n00:31:14.675 --> 00:31:17.726\nSo I'm just gonna go\nback up here real quick.\n\n639\n00:31:17.726 --> 00:31:20.700\nI did this before and I did it ahead\nof time because it takes a few minutes\n\n640\n00:31:20.700 --> 00:31:23.272\nthe first time to do this and\nI don't want you to have to sit and\n\n641\n00:31:23.272 --> 00:31:26.316\nwatch while we go out to the web and\ndownload all the updated help files.\n\n642\n00:31:26.316 --> 00:31:28.665\nBut the first time you do this,\nyou'll get prompted for it,\n\n643\n00:31:28.665 --> 00:31:29.829\ndo you wanna run update help?\n\n644\n00:31:29.829 --> 00:31:33.100\nMeaning, should we go out, assuming you're\nconnected to the internet, of course.\n\n645\n00:31:33.100 --> 00:31:34.550\nSo make sure that is the case.\n\n646\n00:31:34.550 --> 00:31:35.572\nAnd you want to pull down and\n\n647\n00:31:35.572 --> 00:31:38.518\nlook for all the latest help files that\nmay or may not already be on your system.\n\n648\n00:31:38.518 --> 00:31:40.709\nAnd you got some choices here, right?\n\n649\n00:31:40.709 --> 00:31:45.608\nYou'll see right there, I just went ahead,\nyou'll see I chose y for yes, right?\n\n650\n00:31:45.608 --> 00:31:49.008\nAnd so I did that and then it goes out,\nand you're probably seeing that progress\n\n651\n00:31:49.008 --> 00:31:52.663\nbar in PowerShell, the green window opens\nup, the yellow little circles Go across,\n\n652\n00:31:52.663 --> 00:31:55.487\nso it's downloading all the help\nfiles does that the first time.\n\n653\n00:31:55.487 --> 00:31:58.569\nAnd then once, it's done displays\nthe help files for you and\n\n654\n00:31:58.569 --> 00:32:01.789\nsee New-NetIPAddress creates and\nconfigures an IP address.\n\n655\n00:32:01.789 --> 00:32:06.127\nSo one of the new PowerShell cmdlets\nthat's available to you in server 16 or\n\n656\n00:32:06.127 --> 00:32:08.300\n2016 is the New-NetIPAddress.\n\n657\n00:32:08.300 --> 00:32:11.768\nAnd you could go in you could use this and\nyou could see the syntax there.\n\n658\n00:32:11.768 --> 00:32:13.367\nIt's a little bit hard to see,\ncan we go full screen?\n\n659\n00:32:13.367 --> 00:32:15.885\nCuz I'm covering like part\nof that whole thing, but\n\n660\n00:32:15.885 --> 00:32:17.725\nyou could see there the syntax for it.\n\n661\n00:32:17.725 --> 00:32:23.453\nSo new NetIP address, then IP address then\nyou would specify maybe address family.\n\n662\n00:32:23.453 --> 00:32:29.195\nIPv4 and IPv6, you could see how that\nwould be supported CIM is supported\n\n663\n00:32:29.195 --> 00:32:34.684\nthere if you wanna use CIM or the WMI\nequivalent in Windows of CIM is WMI.\n\n664\n00:32:34.684 --> 00:32:39.575\nCIM session, common information management\nmodule that allows us to go out and\n\n665\n00:32:39.575 --> 00:32:41.187\naccess the object class.\n\n666\n00:32:41.187 --> 00:32:44.795\nAnd be able to then work with hardware and\ninteract with it and\n\n667\n00:32:44.795 --> 00:32:46.932\nprovide all sorts of information.\n\n668\n00:32:46.932 --> 00:32:51.926\nWe have our default gateway,\nour policy store, our preferred lifetime.\n\n669\n00:32:51.926 --> 00:32:55.868\nAll sorts of switches and\navailable items can be configured here.\n\n670\n00:32:55.868 --> 00:32:59.106\nAnd the nice thing about this is\nwhen you look at the help file,\n\n671\n00:32:59.106 --> 00:33:00.552\nget a little description.\n\n672\n00:33:00.552 --> 00:33:04.664\nAnd this is just the basic get help,\nthis is not the advanced or detailed help.\n\n673\n00:33:04.664 --> 00:33:06.993\nAnd I'll talk about other help\noptions here in a minute.\n\n674\n00:33:06.993 --> 00:33:10.161\nBut you'll see we just get a very basic\noverview description, nothing fancy.\n\n675\n00:33:10.161 --> 00:33:15.109\nNow if you wanna go ahead and you actually\nwant to get some additional help.\n\n676\n00:33:15.109 --> 00:33:18.504\nWell take a look, you could do get\nhelp cmdlet and then examples,\n\n677\n00:33:18.504 --> 00:33:22.825\nno quotes by the way, the quotes are just\nto represent the command in the help file,\n\n678\n00:33:22.825 --> 00:33:24.344\nyou don't need the quotes.\n\n679\n00:33:24.344 --> 00:33:27.207\nIf you do that,\nyou'll actually get six, seven, eight,\n\n680\n00:33:27.207 --> 00:33:31.130\nten depending on the health file options\nthat shows you the syntax, right?\n\n681\n00:33:31.130 --> 00:33:34.781\nSo actually be able to do that,\nif take a look and get help new IP detail.\n\n682\n00:33:34.781 --> 00:33:37.777\nYou'll get a detail,\nbut not full help file.\n\n683\n00:33:37.777 --> 00:33:40.589\nThere's different variations here,\nfull gives you everything and\n\n684\n00:33:40.589 --> 00:33:42.100\nif you always want to see the latest.\n\n685\n00:33:42.100 --> 00:33:45.225\nAssuming you connected online,\njust do the online switch and\n\n686\n00:33:45.225 --> 00:33:46.917\nthat will take you out to the web.\n\n687\n00:33:46.917 --> 00:33:50.930\nAnd that will let you see whatever the\nmost recent updated version of this is.\n\n688\n00:33:50.930 --> 00:33:54.100\nWe always go out to the web, we try to\ntake you out to the web when we do this.\n\n689\n00:33:54.100 --> 00:33:55.892\nShow you the web page,\ngive you the reference.\n\n690\n00:33:55.892 --> 00:33:59.797\nCuz you know things change from time to\ntime, and you want to know that, right?\n\n691\n00:33:59.797 --> 00:34:02.420\nBut you can go in here, right?\n\n692\n00:34:02.420 --> 00:34:09.435\nDo online, and then you'll notice it\njust triggers the browser, right?\n\n693\n00:34:09.435 --> 00:34:13.607\nGoes out, loads up the web page for us,\nyou'll see it's resolving right there.\n\n694\n00:34:13.607 --> 00:34:15.440\nIt's the first time I'm using\nthe browser and the machine.\n\n695\n00:34:15.440 --> 00:34:19.110\nSo normally you won't get that\nunless you have already set that up.\n\n696\n00:34:19.110 --> 00:34:21.165\nYou'll see it and\nthen you'll see New-NetIPAddress.\n\n697\n00:34:21.165 --> 00:34:25.369\nAnd it just takes us out to the TechNet\nwebsite with in this case whatever\n\n698\n00:34:25.369 --> 00:34:27.978\nthe cmdlet is and querying for New-NetIP.\n\n699\n00:34:27.978 --> 00:34:32.313\nBut you'll see server 12r2\nWindows 8.1 as well as server 16.\n\n700\n00:34:32.313 --> 00:34:35.312\nSo this is not new new, but\nthis is a relatively new cmdlets and\n\n701\n00:34:35.312 --> 00:34:38.961\nthat's part of the overall networking\ncmdlets that are available to you.\n\n702\n00:34:38.961 --> 00:34:42.462\nAnd to that end when you\nwanna take a look, right?\n\n703\n00:34:42.462 --> 00:34:45.843\nIf you wanna go out and take a look for\nall of the network commands,\n\n704\n00:34:45.843 --> 00:34:48.565\nthat are supported in\nServer 16 with PowerShell.\n\n705\n00:34:48.565 --> 00:34:51.297\nNetTCPIP is the module.\n\n706\n00:34:51.297 --> 00:34:54.048\nRemember we talked about the idea\nof a PowerShell of modules.\n\n707\n00:34:54.048 --> 00:34:57.240\nThis is block of all the cmdlets\nput together, that's imported or\n\n708\n00:34:57.240 --> 00:34:59.016\npreloaded into PowerShell for you.\n\n709\n00:34:59.016 --> 00:35:02.208\nYou've heard me talk about them in\nvarious shows for various things.\n\n710\n00:35:02.208 --> 00:35:05.998\nThe NetTCIP Module is the one that\nsupports all the networking, and\n\n711\n00:35:05.998 --> 00:35:09.407\nyou'll see relatively recent\ninformation there, right?\n\n712\n00:35:09.407 --> 00:35:12.510\nApril 3 of 2017, wouldn't it be\ngreat if it was April 1st of 2017,\n\n713\n00:35:12.510 --> 00:35:13.869\nApril Fool's Day for 2017.\n\n714\n00:35:13.869 --> 00:35:15.061\n&gt;&gt; It's just a joke.\n\n715\n00:35:15.061 --> 00:35:15.667\n&gt;&gt; It's just a joke, right?\n\n716\n00:35:15.667 --> 00:35:17.522\n&gt;&gt; [LAUGH]\n&gt;&gt; But you'll see here,\n\n717\n00:35:17.522 --> 00:35:20.840\nthat when we load this up,\ngo to this particular website,\n\n718\n00:35:20.840 --> 00:35:24.107\nthis show us every command\nthat is currently supported.\n\n719\n00:35:24.107 --> 00:35:27.510\nAs I'm just scrolling down,\nyou'll see them all here, right?\n\n720\n00:35:27.510 --> 00:35:31.582\nAnd on the nice thing about this is I can\nclick through any one of these commands\n\n721\n00:35:31.582 --> 00:35:34.353\njust like the New-NetIPAddress\nthat we looked at.\n\n722\n00:35:34.353 --> 00:35:36.675\nAnd see the detail page I was\njust showing you for each and\n\n723\n00:35:36.675 --> 00:35:37.920\nevery one of these commands.\n\n724\n00:35:37.920 --> 00:35:41.394\nSo you're able to go in and see that\nall here, and you can interact with it.\n\n725\n00:35:41.394 --> 00:35:44.646\nAnd so\nPowerShell would allow you to do this,\n\n726\n00:35:44.646 --> 00:35:47.734\nif you wanna see what\nthis would look like.\n\n727\n00:35:47.734 --> 00:35:49.541\nLet's go into PowerShell real quick,\n\n728\n00:35:49.541 --> 00:35:51.683\nlet me just type in\na command line here for you.\n\n729\n00:35:51.683 --> 00:35:56.907\nAnd show you very quickly what\nwe would do inside PowerShell.\n\n730\n00:35:56.907 --> 00:35:59.500\nJust clear the screen here real quick,\nso you could see this.\n\n731\n00:35:59.500 --> 00:36:04.512\nSo let me just scroll down here, so that\nI can get the right information for you.\n\n732\n00:36:04.512 --> 00:36:09.009\nSo New-Net, oops, yeah, IP and\nthe nice thing about PowerShell,\n\n733\n00:36:09.009 --> 00:36:11.191\nI've talked about this before.\n\n734\n00:36:11.191 --> 00:36:13.476\nYou just saw that you didn't have\nto type in the whole command.\n\n735\n00:36:13.476 --> 00:36:17.070\nI just started to typing that's the point\nwere I new more or less the auto tab or\n\n736\n00:36:17.070 --> 00:36:18.745\ntab complete function would work.\n\n737\n00:36:18.745 --> 00:36:20.816\nAnd I just be able to hit tab key,\nand it completes for me.\n\n738\n00:36:20.816 --> 00:36:24.876\nAnd so it's nice because it will add in\nall those things, and all about spelling\n\n739\n00:36:24.876 --> 00:36:28.402\nand correcting which is great for\nme cuz I can't type to save my life.\n\n740\n00:36:28.402 --> 00:36:31.522\nAnd so you just wanna think about that,\nbut that's nice, right?\n\n741\n00:36:31.522 --> 00:36:37.405\nSo then we can do\ninterface alias right here.\n\n742\n00:36:37.405 --> 00:36:39.159\nLet me just bring this down\njust a smidge because-\n\n743\n00:36:39.159 --> 00:36:40.651\n&gt;&gt; All the little shortcuts are nice,\n\n744\n00:36:40.651 --> 00:36:41.452\nlike the up arrow.\n\n745\n00:36:41.452 --> 00:36:43.698\n&gt;&gt; Just so you could see that, cuz it's\nkind of up underneath that blue square.\n\n746\n00:36:43.698 --> 00:36:44.302\n&gt;&gt; Yeah.\n&gt;&gt; It's kind of hard to see.\n\n747\n00:36:44.302 --> 00:36:47.744\nSo interface alias, this is going\nto let me name the interface.\n\n748\n00:36:47.744 --> 00:36:52.809\nSo I'll put this in,\nlet's call this ITPro.TV.\n\n749\n00:36:52.809 --> 00:36:58.539\nLet's say LAN, whoops, LAN 2 or\nwhatever I wanna call it.\n\n750\n00:36:58.539 --> 00:37:00.752\nThat will become the name of my interface,\n\n751\n00:37:00.752 --> 00:37:03.829\nso you know how you give\na network card name traditionally.\n\n752\n00:37:03.829 --> 00:37:05.220\nThat's what's it's gonna be,\nthat's what I'm doing.\n\n753\n00:37:05.220 --> 00:37:08.124\nInterface alias lets me\nname the interface, right?\n\n754\n00:37:08.124 --> 00:37:11.761\nSo I've got that then I have to specify\nmy IP address, whatever I wanna do, okay,\n\n755\n00:37:11.761 --> 00:37:12.360\nno problem.\n\n756\n00:37:12.360 --> 00:37:16.237\n&gt;&gt; IP address right there,\nthis is an IPv4 cmdlet.\n\n757\n00:37:16.237 --> 00:37:19.528\nSo I'm using it for\nIPv4 and or IPv6, my choice.\n\n758\n00:37:19.528 --> 00:37:23.880\nBut I'm gonna make it an IPv4 address, so\nI'm gonna put in whatever address I want.\n\n759\n00:37:23.880 --> 00:37:28.602\nLet's do a class A address of 10.1.0.10,\n\n760\n00:37:28.602 --> 00:37:31.508\nlet's say, hypothetically.\n\n761\n00:37:31.508 --> 00:37:33.250\nThat's gonna be my IP address.\n\n762\n00:37:33.250 --> 00:37:35.550\nNow what about my subnet mask?\n\n763\n00:37:35.550 --> 00:37:40.110\nWell prefix length is what I'm gonna do\nfor our subnet mask or for our length,\n\n764\n00:37:40.110 --> 00:37:42.120\nand the number of bits that we wanna use.\n\n765\n00:37:42.120 --> 00:37:46.052\nSo we can go ahead and\nput in prefix length, if we want to.\n\n766\n00:37:46.052 --> 00:37:49.682\nPrefix length just have that there, but\n\n767\n00:37:49.682 --> 00:37:55.144\nwe can specify what we want for\nwhat whatever it will be, 8.\n\n768\n00:37:55.144 --> 00:37:56.761\nLet's say 16, 24,\n\n769\n00:37:56.761 --> 00:38:02.154\nI'll just put in 24 that means we\nare gonna have the 10.1.0 as our network.\n\n770\n00:38:02.154 --> 00:38:05.928\nAnd the 10 as our host IP,\nhost address rather at the end of that.\n\n771\n00:38:05.928 --> 00:38:11.255\nSo we're gonna set that up,\nlet's do our default gateway and\n\n772\n00:38:11.255 --> 00:38:14.620\nso we'll specify default gateway.\n\n773\n00:38:14.620 --> 00:38:17.768\nNotice I'm typing this all on this one\nline even though it's truncating and\n\n774\n00:38:17.768 --> 00:38:19.601\nwrapping it, it is all one string, right?\n\n775\n00:38:19.601 --> 00:38:21.630\nWe're putting that end's default gateway.\n\n776\n00:38:21.630 --> 00:38:25.014\nSo our default gateway is gonna be\nagain make sure it's on the same\n\n777\n00:38:25.014 --> 00:38:26.559\nnetwork obviously, right?\n\n778\n00:38:26.559 --> 00:38:28.527\nSo that would be important.\n\n779\n00:38:28.527 --> 00:38:32.496\nIt's 10.1.0.1 that would be our default\ngateway on the same address and\n\n780\n00:38:32.496 --> 00:38:34.488\nthen we're on the same network rather.\n\n781\n00:38:34.488 --> 00:38:39.276\nIf I wanna set my DNS client server\naddress, I could actually do that as well.\n\n782\n00:38:39.276 --> 00:38:41.254\nI could set all sorts of stuff here,\nright?\n\n783\n00:38:41.254 --> 00:38:44.248\nAnd then if I hit Enter,\nit will go ahead and create that.\n\n784\n00:38:44.248 --> 00:38:48.407\nIt will give me a new interface\nassuming I'm successful called\n\n785\n00:38:48.407 --> 00:38:52.412\nITPRo.TV LAN2 assign\n10.1.0.10 address to it.\n\n786\n00:38:52.412 --> 00:38:56.230\nAnd give me a gateway of 10.1.01,\nthat's what it would do.\n\n787\n00:38:56.230 --> 00:38:58.696\nSo that's how we could use PowerShell,\nright?\n\n788\n00:38:58.696 --> 00:39:00.198\nJust to be able to set that up.\n\n789\n00:39:00.198 --> 00:39:04.222\nNow just before we wrap up cuz I wanna\ngroup PowerShell and Netsh together.\n\n790\n00:39:04.222 --> 00:39:06.150\nSo let's just take\na look quickly at Netsh.\n\n791\n00:39:06.150 --> 00:39:10.048\nAnother way of doing this is with\nthe same idea, just minimize here.\n\n792\n00:39:10.048 --> 00:39:15.029\nAnd in our command line, we just scroll\ndown here and get past the routing table,\n\n793\n00:39:15.029 --> 00:39:16.799\njust kind of clear that out.\n\n794\n00:39:16.799 --> 00:39:22.455\nSo in command line, I will give\nyou some PowerShells by the way.\n\n795\n00:39:22.455 --> 00:39:24.808\nJust to take it I'll go to with\ndifferent interface to just to give you\n\n796\n00:39:24.808 --> 00:39:25.508\nthe same idea here.\n\n797\n00:39:25.508 --> 00:39:28.144\nNetsh, on Netsh, right?\n\n798\n00:39:28.144 --> 00:39:32.623\nNetwork shell, we can use and it's been\naround for some time as well, by the way.\n\n799\n00:39:32.623 --> 00:39:35.456\nLet me just bring this down, so\nyou can see that a little bit easier,\n\n800\n00:39:35.456 --> 00:39:36.512\nsee the command prompt.\n\n801\n00:39:36.512 --> 00:39:40.191\nNotice it opens up a separate\ncommand prompt inside that shell.\n\n802\n00:39:40.191 --> 00:39:44.606\nSo we're at the command prompt\nwhen we add in or specify Netsh.\n\n803\n00:39:44.606 --> 00:39:46.903\nWe hit Enter,\nwe're now at the Netsh prompt.\n\n804\n00:39:46.903 --> 00:39:53.765\nAnd Netsh is gonna allow me To be able to\ngo in, and be able to specify or go in.\n\n805\n00:39:53.765 --> 00:39:56.948\nAnd decide how I wanna add\nthe same kind of information or\n\n806\n00:39:56.948 --> 00:39:59.990\nessentially put in my\nnetworking information.\n\n807\n00:39:59.990 --> 00:40:03.156\nBut to do so\nusing the following commands instead,\n\n808\n00:40:03.156 --> 00:40:06.626\nessentially get to the same place,\nso inet sh, right?\n\n809\n00:40:06.626 --> 00:40:09.784\nI'm gonna type in interface.\n\n810\n00:40:12.101 --> 00:40:16.527\nAnd I'm gonna type in ipv4, again, ipv4.\n\n811\n00:40:16.527 --> 00:40:23.625\nAnd then I'm gonna type\nin set address name and\n\n812\n00:40:23.625 --> 00:40:29.087\nI'm gonna set that = ITPROTVLan.\n\n813\n00:40:29.087 --> 00:40:31.905\nAnd let's just do LAN 1 instead of LAN 2,\nright?\n\n814\n00:40:31.905 --> 00:40:35.200\nSo we did that, so we have ITPROTVLan 1.\n\n815\n00:40:35.200 --> 00:40:39.448\nI could put spaces in there if I\nwanted to, up to me to decide, right?\n\n816\n00:40:39.448 --> 00:40:41.827\nSo I can just do that,\nit's enclosed in a set of quotes, so\n\n817\n00:40:41.827 --> 00:40:44.270\nit's gonna treat it as a little strength.\n\n818\n00:40:44.270 --> 00:40:49.200\nAnd then specify source = static\nwere dynamics where we're gonna\n\n819\n00:40:49.200 --> 00:40:52.556\nget that from it's gonna\nbe static address.\n\n820\n00:40:52.556 --> 00:40:55.102\nI'm gonna specify my address,\nso addr = and\n\n821\n00:40:55.102 --> 00:40:58.521\nthen let's just use a different\naddress block for this one.\n\n822\n00:40:58.521 --> 00:41:01.860\nWe're not really gonna assign the address,\nwe're just gonna type it in so\n\n823\n00:41:01.860 --> 00:41:02.550\nyou can see it.\n\n824\n00:41:02.550 --> 00:41:06.526\nSo that's gonna be a class C, 172.16.0.10.\n\n825\n00:41:06.526 --> 00:41:09.801\nWe specify our mask,\nput our subnet mask in there.\n\n826\n00:41:09.801 --> 00:41:14.491\n255.255.0.0, traditional class C,\nor class B rather,\n\n827\n00:41:14.491 --> 00:41:20.330\nexcuse me, default subnet mask, and\nthen let's put our gateway in there.\n\n828\n00:41:20.330 --> 00:41:25.430\nSo I spelled that correctly gateway,\nyeah, gateway = and\n\n829\n00:41:25.430 --> 00:41:31.147\nlet's do 172.16.01,\nkeep track of all these numbers.\n\n830\n00:41:31.147 --> 00:41:35.291\nAnd so if I did this with inet sh,\nI would then be able to go ahead.\n\n831\n00:41:35.291 --> 00:41:40.531\nAnd I would be able to specify\nthat I would create the interface,\n\n832\n00:41:40.531 --> 00:41:44.730\ncall it for IPv4 ITProTVLan 1,\non the source.\n\n833\n00:41:44.730 --> 00:41:47.700\nThe address information,\nthe subnet mask and the gateway.\n\n834\n00:41:47.700 --> 00:41:51.292\nSo I could do this in either area, from\na command line, achieve the same results.\n\n835\n00:41:51.292 --> 00:41:54.888\nJust a question, how I choose to do it,\nbut don't fear the command line,\n\n836\n00:41:54.888 --> 00:41:56.164\ndon't fear PowerShell.\n\n837\n00:41:56.164 --> 00:41:59.822\nWe get real used to being able to go in\nGUI and type in an IP address, right?\n\n838\n00:41:59.822 --> 00:42:02.735\nI mean that's something that traditionally\nwe're real comfortable with,\n\n839\n00:42:02.735 --> 00:42:03.810\nall of us probably are.\n\n840\n00:42:03.810 --> 00:42:06.585\nI would think, and when I mean that,\ncan we go full screen for a second?\n\n841\n00:42:06.585 --> 00:42:09.208\nWhen I talk about that I mean,\ngo down here on your desktop,\n\n842\n00:42:09.208 --> 00:42:10.680\ngo to your network card, right?\n\n843\n00:42:10.680 --> 00:42:14.499\nWe're all used to doing this, go to Open\nNetwork Sharing or Open the Network and\n\n844\n00:42:14.499 --> 00:42:15.755\nSharing Center, right?\n\n845\n00:42:15.755 --> 00:42:19.901\nGo in change Adapter Settings\nto one of the two interfaces.\n\n846\n00:42:19.901 --> 00:42:24.357\nGo here, go to Properties, just like\nyou would do in any version of Windows,\n\n847\n00:42:24.357 --> 00:42:25.739\nthis hasn't changed.\n\n848\n00:42:25.739 --> 00:42:31.123\nGo here to IPv4, and we're all really used\nto coming in here and typing something in.\n\n849\n00:42:31.123 --> 00:42:34.502\nI mean that's pretty common and\npretty standard for most of us anyway.\n\n850\n00:42:34.502 --> 00:42:35.918\nBut it's no different, and\n\n851\n00:42:35.918 --> 00:42:39.550\nI don't wanna shortchange the fact you\ncould do it right here in the GUI.\n\n852\n00:42:39.550 --> 00:42:42.440\nThere's nothing wrong with that, a lot of\npeople are comfortable with it, it's fine.\n\n853\n00:42:42.440 --> 00:42:44.602\nBut all we're doing in the command line,\nwould Netsh for\n\n854\n00:42:44.602 --> 00:42:45.963\nall we're doing with PowerShell.\n\n855\n00:42:45.963 --> 00:42:50.571\nIt's simply just going through and filling\nin the text fields for all those boxes.\n\n856\n00:42:50.571 --> 00:42:54.240\nAnd providing the information in the\nscripted or cmdlet driven form that allows\n\n857\n00:42:54.240 --> 00:42:57.320\nus to drop those values in and\nspecify, that's all we're doing.\n\n858\n00:42:57.320 --> 00:42:59.994\n&gt;&gt; And Adam if we're working\nin a production environment,\n\n859\n00:42:59.994 --> 00:43:02.400\nwe may come across a core\ninstallation of servers.\n\n860\n00:43:02.400 --> 00:43:05.236\nSo then we might just need to\nknow how to do it that way.\n\n861\n00:43:05.236 --> 00:43:07.855\n&gt;&gt; We're a nano-version of-\n&gt;&gt; [CROSSTALK] That's right, there we go.\n\n862\n00:43:07.855 --> 00:43:10.473\n&gt;&gt; 2016, as a matter of the things-\n&gt;&gt; I forgot about that, yeah.\n\n863\n00:43:10.473 --> 00:43:15.129\n&gt;&gt; One of the things we'll talk about,\nwhen we talk about setting up\n\n864\n00:43:15.129 --> 00:43:19.205\nyour DHCP and or DNS,\nis that we can run it on Nano Server.\n\n865\n00:43:19.205 --> 00:43:20.897\nAnd we'll actually talk\nabout how to do that.\n\n866\n00:43:20.897 --> 00:43:23.062\nI've got a little discussion coming up for\n\n867\n00:43:23.062 --> 00:43:27.340\nyou in an upcoming episode about the steps\ninvolved with configuring Nano Servers.\n\n868\n00:43:27.340 --> 00:43:29.133\nSo it's actually kinda cool-\n&gt;&gt; Yeah.\n\n869\n00:43:29.133 --> 00:43:30.530\n&gt;&gt; But a Nano Server's just like core.\n\n870\n00:43:30.530 --> 00:43:34.610\nThe only difference is it's stripped down\neven smaller, less intrusive version in\n\n871\n00:43:34.610 --> 00:43:38.850\nterms of the footprint, that really just\nallows us to do this exact kind of thing.\n\n872\n00:43:38.850 --> 00:43:41.764\nSet up a machine, it's got a very\nlimited vision of what's it gonna do.\n\n873\n00:43:41.764 --> 00:43:45.360\nBut it's dedicated to one specific\nfunction or role, and just run that as\n\n874\n00:43:45.360 --> 00:43:48.910\na stand alone or off in the corner\ninstance as a virtual machine, right?\n\n875\n00:43:48.910 --> 00:43:51.829\nRunning as a VHD traditionally, and\nthat's what we're gonna do with Nano.\n\n876\n00:43:51.829 --> 00:43:54.787\nWe run them as virtual machines,\nso it could be that as well.\n\n877\n00:43:54.787 --> 00:43:56.893\n[CROSSTALK] Absolutely.\n\n878\n00:43:56.893 --> 00:43:59.325\n&gt;&gt; All right, so I think we are out\nof time for this particular episode.\n\n879\n00:43:59.325 --> 00:44:01.231\nDid you have any final thoughts,\nAdam or is that?\n\n880\n00:44:01.231 --> 00:44:02.693\n&gt;&gt; No, no, for now I think just again,\n\n881\n00:44:02.693 --> 00:44:05.823\njust wanna continue to build that\nincremental knowledge around networking.\n\n882\n00:44:05.823 --> 00:44:09.129\nTalked about some cmdlet options,\nand command line options.\n\n883\n00:44:09.129 --> 00:44:12.063\nI did wanna come back and\nwe will in our next episode,\n\n884\n00:44:12.063 --> 00:44:15.545\ntake a look at yet\nanother to interact with this information.\n\n885\n00:44:15.545 --> 00:44:17.038\nBut from a different perspective,\n\n886\n00:44:17.038 --> 00:44:19.238\nwe'll talk about routing\ntables a little bit more.\n\n887\n00:44:19.238 --> 00:44:22.171\nWe mentioned it, but I wanna show you\nanother way to look at routing tables that\n\n888\n00:44:22.171 --> 00:44:24.313\nyou may have forgotten about or\nmay not realize is there.\n\n889\n00:44:24.313 --> 00:44:28.336\nAnd it previews some of the features we'll\nsee coming up in later episodes around\n\n890\n00:44:28.336 --> 00:44:31.607\nVPNs and around direct access and\naround all sorts of cool stuff.\n\n891\n00:44:31.607 --> 00:44:35.314\nIf you haven't guessed what it is, it is\nthe routing number mode access console.\n\n892\n00:44:35.314 --> 00:44:36.906\nWe're gonna take a look at\nthat real quick as well.\n\n893\n00:44:36.906 --> 00:44:37.912\n&gt;&gt; All right, sounds like a plan.\n\n894\n00:44:37.912 --> 00:44:40.537\nThank you for joining us today, and\nthank you ladies and gentlemen for\n\n895\n00:44:40.537 --> 00:44:41.305\njoining us as well.\n\n896\n00:44:41.305 --> 00:44:43.210\nBut for this show,\nwe will go ahead and sign out.\n\n897\n00:44:43.210 --> 00:44:44.976\nRemember, I'm your host Cherokee Boose.\n\n898\n00:44:44.976 --> 00:44:45.880\n&gt;&gt; I'm Adam Gordon.\n\n899\n00:44:45.880 --> 00:44:48.923\n&gt;&gt; See you next time here at ITPro.TV.\n\n900\n00:44:48.923 --> 00:44:54.769\n[MUSIC]\n\n901\n00:44:54.769 --> 00:45:00.769\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "216735407"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing networking components. They explain tools to use such as command line utilities as well as using the Routing and Remote Access Console.",
          "length": "2280",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-1-1-3-ipv4_networks_pt3-050817-PGM.00_37_43_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-1-1-3-ipv4_networks_pt3-050817-PGM.00_37_43_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-1-1-3-ipv4_networks_pt3-050817-PGM.00_37_43_17.Still001-sm.jpg",
          "title": "IPv4 Networks Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.025 --> 00:00:02.931\nWelcome to ITProTV.\nI'm your host, Don Pezet.\n\n2\n00:00:02.931 --> 00:00:08.252\n[CROSSTALK]\n[SOUND]\n\n3\n00:00:08.252 --> 00:00:12.006\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.006 --> 00:00:16.505\nWelcome to your networking with Windows\nServer 2016 series, I'm your show host,\n\n5\n00:00:16.505 --> 00:00:17.428\nCherokee Boose.\n\n6\n00:00:17.428 --> 00:00:18.907\nSo we've made it to part 3,\n\n7\n00:00:18.907 --> 00:00:22.410\nwhere we're continuing to look\nat IP version 4 networks.\n\n8\n00:00:22.410 --> 00:00:24.797\nBack in studios with us today we have Mr.\nAdam Gordon.\n\n9\n00:00:24.797 --> 00:00:27.280\nThanks for joining us today, Adam.\n\n10\n00:00:27.280 --> 00:00:28.470\n&gt;&gt; Great to be here as always.\n\n11\n00:00:28.470 --> 00:00:31.970\nContinuing our conversations\nassociated with IPv4.\n\n12\n00:00:31.970 --> 00:00:35.320\nWe've taken a look at many of\nthe building blocks and pieces,\n\n13\n00:00:35.320 --> 00:00:38.630\ntook a little detour into PowerShell and\nthe command line.\n\n14\n00:00:38.630 --> 00:00:41.840\nIn the last episode took a look\nat PowerShell cmdlets, and\n\n15\n00:00:41.840 --> 00:00:43.030\nwe also took a look at Netsh and\n\n16\n00:00:43.030 --> 00:00:45.866\njust began to explore some of\nthe functionality we could find there.\n\n17\n00:00:45.866 --> 00:00:49.010\nSo I just wanted to remind you\nwith regards to Netsh by the way,\n\n18\n00:00:49.010 --> 00:00:50.340\njust take a look quickly on my machine.\n\n19\n00:00:50.340 --> 00:00:52.140\nI forgot to put this up\nin the last episode,\n\n20\n00:00:52.140 --> 00:00:54.650\nbut as long as we get it in there\nsomewhere, I suppose it's good.\n\n21\n00:00:54.650 --> 00:00:57.260\nYou could see with Netsh that there\nis a list of all the commands that\n\n22\n00:00:57.260 --> 00:01:00.850\nare available on the web just like\nthere is for everything else.\n\n23\n00:01:00.850 --> 00:01:04.040\nAs we scroll down, you will see that\nNetsh has been around forever and\n\n24\n00:01:04.040 --> 00:01:04.880\na day by the way.\n\n25\n00:01:04.880 --> 00:01:07.500\nSo Netsh is not one of those new things.\n\n26\n00:01:07.500 --> 00:01:11.250\nNetsh has been around since NT4 and\nit's been around forever.\n\n27\n00:01:11.250 --> 00:01:13.770\nSo you can see here that we can go in and\n\n28\n00:01:13.770 --> 00:01:16.400\nwe could see all of the different\ncommands that are available.\n\n29\n00:01:16.400 --> 00:01:21.040\nAnd it's a very, very detailed tool\nthat lets us manage any and every aspect\n\n30\n00:01:21.040 --> 00:01:25.300\nof IP configuration interface management\nfor any interface on the system.\n\n31\n00:01:25.300 --> 00:01:27.805\nSo it would be worth your time\nto check it out real quick.\n\n32\n00:01:27.805 --> 00:01:31.128\nWe wanted to continue our\nconversation around a little bit of\n\n33\n00:01:31.128 --> 00:01:32.830\na different thought process.\n\n34\n00:01:32.830 --> 00:01:35.750\nI just wanna scroll over\njust a little smidge there,\n\n35\n00:01:35.750 --> 00:01:37.370\njust to show you the edge of this.\n\n36\n00:01:37.370 --> 00:01:40.600\nAnd I'm gonna type in the route command.\n\n37\n00:01:40.600 --> 00:01:45.130\nAnd when I do that you'll see that\nwe get just a help file for route.\n\n38\n00:01:45.130 --> 00:01:49.080\nYou can see it tells us the information\nabout how we can pull up\n\n39\n00:01:49.080 --> 00:01:50.750\nthe route command, what we can use it for.\n\n40\n00:01:50.750 --> 00:01:53.340\nThe route command,\nroute print specifically,\n\n41\n00:01:53.340 --> 00:01:54.760\nwill let us see the routing table.\n\n42\n00:01:54.760 --> 00:01:56.450\nI had it up in a prior episode.\n\n43\n00:01:56.450 --> 00:02:00.160\nRoute add will let us manipulate an add,\neither static routes in or\n\n44\n00:02:00.160 --> 00:02:01.640\nspecify a certain route.\n\n45\n00:02:01.640 --> 00:02:04.020\nWe can modify the routes that are there.\n\n46\n00:02:04.020 --> 00:02:06.370\nSo the route command again,\nbeen around forever.\n\n47\n00:02:06.370 --> 00:02:09.090\nAnd many people just don't even\nthink about or don't really use it.\n\n48\n00:02:09.090 --> 00:02:12.520\nThey'll go in and they'll specify and\nconfigure IP information,\n\n49\n00:02:12.520 --> 00:02:14.200\nas we talked about,\nfrom one of the other interfaces.\n\n50\n00:02:14.200 --> 00:02:17.400\nBut we can do this right\nfrom in here if we want to,\n\n51\n00:02:17.400 --> 00:02:21.100\nand when we do that we do route print.\n\n52\n00:02:23.420 --> 00:02:26.920\nAs we saw, we could see the routing table.\n\n53\n00:02:26.920 --> 00:02:29.460\nIn this case, this is server 16.\n\n54\n00:02:29.460 --> 00:02:34.000\nAnd so we can see we have both a routing\ntable for IPv6 down at the bottom there.\n\n55\n00:02:34.000 --> 00:02:38.039\nAnd we have one for IPv4,\njust a little further up right here.\n\n56\n00:02:39.050 --> 00:02:41.701\nAnd we can see the routing\ntable is listed for both.\n\n57\n00:02:41.701 --> 00:02:43.298\nAnd when we look at a routing table,\n\n58\n00:02:43.298 --> 00:02:46.246\nwe want to understand the different\ninformation that's there.\n\n59\n00:02:46.246 --> 00:02:49.110\nSo I just wanna quickly identify\nthe five key elements that make up\n\n60\n00:02:49.110 --> 00:02:52.200\nthe table here and just make sure\nwe're comfortable with what they are.\n\n61\n00:02:52.200 --> 00:02:55.620\nThe network destination,\nright here, the netmask,\n\n62\n00:02:55.620 --> 00:02:57.640\nthe gateway, the interface and the metric.\n\n63\n00:02:57.640 --> 00:02:59.300\nLet's just talk about what those are.\n\n64\n00:02:59.300 --> 00:03:02.760\nLet's start with the network destination.\n\n65\n00:03:02.760 --> 00:03:05.750\nThis is the destination host where traffic\nis going to be transmitted, right?\n\n66\n00:03:05.750 --> 00:03:09.630\nSo in other words, this is what we\nare thinking about sending our traffic to.\n\n67\n00:03:09.630 --> 00:03:11.580\nIt's whatever this address is.\n\n68\n00:03:11.580 --> 00:03:14.500\nWhen we think about the netmask we're\nthinking about the subnet mask.\n\n69\n00:03:14.500 --> 00:03:15.870\nJust highlight that as we go.\n\n70\n00:03:15.870 --> 00:03:18.720\nThe subnet mask that we will be using,\nwe've talked about subnet masks.\n\n71\n00:03:18.720 --> 00:03:20.635\nYou would know hopefully\nby now what they are.\n\n72\n00:03:20.635 --> 00:03:23.930\nWhen we think about the gateway,\nthe gateway is going to be that\n\n73\n00:03:23.930 --> 00:03:28.810\ninterface that allows us to be able to\nget out of our system across our LAN and\n\n74\n00:03:28.810 --> 00:03:31.240\nthen specify connectivity\nto another network.\n\n75\n00:03:31.240 --> 00:03:33.960\nSo that's the target we're\ngonna send our traffic to,\n\n76\n00:03:33.960 --> 00:03:37.140\nto route traffic on a IPv4\nnetwork in this case.\n\n77\n00:03:37.140 --> 00:03:41.650\nThe interface itself, the IPv4\naddress that we are using to send and\n\n78\n00:03:41.650 --> 00:03:45.470\nreceive traffic on this particular\nmachine, whatever this may be for\n\n79\n00:03:45.470 --> 00:03:47.120\nthe route in question.\n\n80\n00:03:47.120 --> 00:03:50.890\nNotice all this information is\nentered as a series of items, right,\n\n81\n00:03:50.890 --> 00:03:54.598\ngoing across horizontally as\na row inside the routing table.\n\n82\n00:03:54.598 --> 00:03:59.490\nEach one of the items we're\ndefining has a unique identifier or\n\n83\n00:03:59.490 --> 00:04:00.610\nentry associated with it.\n\n84\n00:04:00.610 --> 00:04:03.450\nAnd then the metric is\nthe relative cost for the route.\n\n85\n00:04:04.570 --> 00:04:11.610\nMetric is a number that gets assigned that\nthen is going to translate into a priority\n\n86\n00:04:11.610 --> 00:04:17.130\nfor the route, if you will, the cost\nbeing high or low based on the number.\n\n87\n00:04:17.130 --> 00:04:19.930\nSo the lower the metric number,\nthe lower the cost.\n\n88\n00:04:19.930 --> 00:04:22.074\nThe higher the metric number,\nthe higher the cost.\n\n89\n00:04:22.074 --> 00:04:26.950\nAnd so a metric of 10 would be lower and\ntherefore less costly to\n\n90\n00:04:26.950 --> 00:04:31.800\nuse than a metric of 281, or 331, or\nwhatever numbers you may see there.\n\n91\n00:04:31.800 --> 00:04:33.300\nThey're more expensive, quote, unquote.\n\n92\n00:04:33.300 --> 00:04:34.498\nNow I talked to people about it.\n\n93\n00:04:34.498 --> 00:04:37.170\nSo it's like, you get out money,\nyou start, no, we don't do that.\n\n94\n00:04:37.170 --> 00:04:38.300\nThis is not money.\n\n95\n00:04:38.300 --> 00:04:43.290\nWhen we say costs, what we mean is that we\nare simply specifying the numerical value\n\n96\n00:04:43.290 --> 00:04:45.000\nthat indicates our preference for\n\n97\n00:04:45.000 --> 00:04:49.530\nthe route based on a lower number being\nmore preferable than a higher number.\n\n98\n00:04:49.530 --> 00:04:51.810\nBut we just,\nwe tend to refer to it as a cost value.\n\n99\n00:04:51.810 --> 00:04:52.954\nThat's how the metric is often\ndocumented and described.\n\n100\n00:04:52.954 --> 00:04:54.539\n&gt;&gt; It just has some logic.\n\n101\n00:04:54.539 --> 00:04:56.300\nIt has good logic behind it, though.\n\n102\n00:04:56.300 --> 00:05:00.870\nIf you have a cheeseburger over here for\n$10 versus a cheeseburger for $5, and\n\n103\n00:05:00.870 --> 00:05:02.480\nthey both fill you up.\n\n104\n00:05:02.480 --> 00:05:05.420\nKinda like it gets you to the same place,\nso which route would you wanna choose?\n\n105\n00:05:05.420 --> 00:05:09.350\nUsually you're looking at the one with\nthe lower, was that the $5 burger?\n\n106\n00:05:09.350 --> 00:05:10.857\nThe lower metric there, right?\n\n107\n00:05:10.857 --> 00:05:11.390\n[LAUGH]\n&gt;&gt; I am\n\n108\n00:05:11.390 --> 00:05:15.332\nnot inserting myself into your\ncheeseburger world, young ladyship!\n\n109\n00:05:15.332 --> 00:05:18.392\nI'm gonna leave that totally up to\nyou [LAUGH] to decide whether left or\n\n110\n00:05:18.392 --> 00:05:19.458\nright was less or more.\n\n111\n00:05:19.458 --> 00:05:23.010\nI would have gone with left less and\nright being higher.\n\n112\n00:05:23.010 --> 00:05:25.420\nThat's just me, but then again,\nyou know, what can I tell you?\n\n113\n00:05:25.420 --> 00:05:27.688\nI don't eat cheeseburgers, so for\nme it wouldn't actually matter.\n\n114\n00:05:27.688 --> 00:05:28.691\nBut I get the idea.\n\n115\n00:05:28.691 --> 00:05:29.270\nYou're absolutely right.\n\n116\n00:05:29.270 --> 00:05:31.530\nIt would be something along those lines,\nright?\n\n117\n00:05:31.530 --> 00:05:33.536\nLess filling, or\nrather equally filling but\n\n118\n00:05:33.536 --> 00:05:35.496\nless cost is what we\nwere going after there.\n\n119\n00:05:35.496 --> 00:05:38.020\n&gt;&gt; [LAUGH]\n&gt;&gt; I've never actually explained routing\n\n120\n00:05:38.020 --> 00:05:40.060\nwith a reference to nutrition.\n\n121\n00:05:40.060 --> 00:05:41.580\n&gt;&gt; It was just kind of on the fly.\n\n122\n00:05:41.580 --> 00:05:43.187\nSo sorry if it doesn't make sense.\n\n123\n00:05:43.187 --> 00:05:43.919\n&gt;&gt; It was.\n\n124\n00:05:43.919 --> 00:05:44.860\n&gt;&gt; But that's just how it works sometimes.\n\n125\n00:05:44.860 --> 00:05:48.230\n&gt;&gt; But that's the beautiful thing about\nhaving Cherokee hosting with me here.\n\n126\n00:05:48.230 --> 00:05:49.460\n&gt;&gt; We always never know.\n\n127\n00:05:49.460 --> 00:05:52.880\nThere's always a surprise element\nin the explanations that we get.\n\n128\n00:05:52.880 --> 00:05:53.896\nBut I actually like that one.\n\n129\n00:05:53.896 --> 00:05:56.460\nThat is kind of a cool way of\nthinking about it, all kidding aside.\n\n130\n00:05:56.460 --> 00:06:00.450\nSo when we think about our routing table,\nright, we are seeing that every machine,\n\n131\n00:06:00.450 --> 00:06:04.150\nand this is just a server 16 machine,\nright, just out of the box installed.\n\n132\n00:06:04.150 --> 00:06:05.580\nNothing special about it,\n\n133\n00:06:05.580 --> 00:06:08.470\nhas a certain number of entries\nin the routing table already.\n\n134\n00:06:08.470 --> 00:06:10.460\n&gt;&gt; These are gonna\nrepresent default routes,\n\n135\n00:06:10.460 --> 00:06:12.640\nthe routes that we have to have\nknowledge of and be aware of.\n\n136\n00:06:12.640 --> 00:06:14.970\nAnd then we may add to this\ndepending on what we're doing.\n\n137\n00:06:14.970 --> 00:06:19.003\nSo we've got our starting network\ndestination of all zeroes here, right,\n\n138\n00:06:19.003 --> 00:06:21.596\nthat we've got our loop back, adapter 127.\n\n139\n00:06:21.596 --> 00:06:25.509\nWe've got the broadcast, right,\nend of the block there for 127,\n\n140\n00:06:25.509 --> 00:06:28.378\nwe gotta repair the block,\nwe've looked at that.\n\n141\n00:06:28.378 --> 00:06:31.339\nWe've got a 192.168 block\nwhich is our actual\n\n142\n00:06:31.339 --> 00:06:35.306\ninterface address that's a sign\nthat's what we're actually using.\n\n143\n00:06:35.306 --> 00:06:38.050\nWe're on the 192.168 network,\nso we have that.\n\n144\n00:06:38.050 --> 00:06:43.040\nWe have our 224 address block here,\nthis is our multitask and our broadcast,\n\n145\n00:06:43.040 --> 00:06:44.530\nall 255 blocks here.\n\n146\n00:06:44.530 --> 00:06:47.960\nSo all of these are going to specify and\ndictate for\n\n147\n00:06:47.960 --> 00:06:51.160\nus certain basic elements that we\nneed to understand to use networking.\n\n148\n00:06:51.160 --> 00:06:55.280\nAnd then we add in and\nconfigure them on the fly if necessary.\n\n149\n00:06:55.280 --> 00:06:57.630\nNow what I'm gonna do is I'm\ngonna switch over here for\n\n150\n00:06:57.630 --> 00:06:59.940\njust a second to a different machine.\n\n151\n00:06:59.940 --> 00:07:02.830\nSo just bear with me here while\nI change our console out.\n\n152\n00:07:02.830 --> 00:07:04.490\nAnd I promised you that\nwe would talk about yet\n\n153\n00:07:04.490 --> 00:07:08.390\nanother way to look at some of the routing\nand network information in the system.\n\n154\n00:07:08.390 --> 00:07:11.510\nIt's often overlooked cuz a lot of\ntimes we don't have a Routing and\n\n155\n00:07:11.510 --> 00:07:13.920\nRemote Access configuration running.\n\n156\n00:07:13.920 --> 00:07:17.390\nAnd so we may not think of the fact\nthat the RRAS, or Routing and\n\n157\n00:07:17.390 --> 00:07:22.795\nRemote Access, MMC, or Management Console,\ncan also be used in this regard.\n\n158\n00:07:22.795 --> 00:07:24.281\nBut it is available to us and\n\n159\n00:07:24.281 --> 00:07:27.520\nyou can see here I just stood\nup a RRAS server in Server 16.\n\n160\n00:07:27.520 --> 00:07:32.835\nJust went in to the Server Manager,\nwent to go ahead and add the role.\n\n161\n00:07:32.835 --> 00:07:37.323\nAnd added in the routing and remote access\nand then the supporting items for VPN,\n\n162\n00:07:37.323 --> 00:07:40.564\nweb application proxy,\ndirect access, whatever we do.\n\n163\n00:07:40.564 --> 00:07:43.264\nAnd then what we did is just\nsimply open up the console, so\n\n164\n00:07:43.264 --> 00:07:45.135\njust showing you where I got this from.\n\n165\n00:07:45.135 --> 00:07:48.450\nI just went into the Server Manager,\nwent to tools.\n\n166\n00:07:48.450 --> 00:07:49.900\nOnce I installed it, went to routing.\n\n167\n00:07:49.900 --> 00:07:50.840\nCan you go full screen here?\n\n168\n00:07:50.840 --> 00:07:52.268\nCuz what I'm doing is behind me.\n\n169\n00:07:52.268 --> 00:07:53.137\nYou can't see it.\n\n170\n00:07:53.137 --> 00:07:57.116\nAnd routing in remote access you'll see\nright there just to open the console that\n\n171\n00:07:57.116 --> 00:07:59.984\nwe're looking at And\nin order to install this initially,\n\n172\n00:07:59.984 --> 00:08:03.290\nI just went to manage add rules and\nfeatures and stood this up.\n\n173\n00:08:03.290 --> 00:08:07.690\nNow we'll do a whole discussion of said\nepisodes on this later on I'm coming and\n\n174\n00:08:07.690 --> 00:08:10.830\nwe're going to delve into the mysteries\nof routing and remote access.\n\n175\n00:08:10.830 --> 00:08:13.120\nI'm not too worried about what\ngoes on in here for the moment.\n\n176\n00:08:13.120 --> 00:08:15.900\nIt's really just to show\nyou one specific feature.\n\n177\n00:08:15.900 --> 00:08:18.660\nBut when you set this up and\nopen it up, and\n\n178\n00:08:18.660 --> 00:08:24.310\nthen we open up our server here as you can\nsee and go in and go to either IPv4 and\n\n179\n00:08:24.310 --> 00:08:28.788\nor IPv6 and open up the interface,\nyou'll see I have a static routes area.\n\n180\n00:08:28.788 --> 00:08:32.742\nI can right-click on the static\nroutes area under either one.\n\n181\n00:08:32.742 --> 00:08:36.110\nAnd although there are no static routes\nthat are currently programmed and\n\n182\n00:08:36.110 --> 00:08:38.300\navailable here that I'm\nlooking at on the console,\n\n183\n00:08:38.300 --> 00:08:40.640\nI can see the IP routing table from here.\n\n184\n00:08:40.640 --> 00:08:43.260\nAnd you can see that all\nI have to do is click.\n\n185\n00:08:43.260 --> 00:08:46.590\nAnd it's not as pretty, and\nit's not as colorful, and\n\n186\n00:08:46.590 --> 00:08:49.520\nit's not an easy to see as it\nwould be in the command line.\n\n187\n00:08:49.520 --> 00:08:53.094\nI can extend this out, and so I can\nkind of interact with it a little bit,\n\n188\n00:08:53.094 --> 00:08:54.897\nmake it a little bit easier to read.\n\n189\n00:08:54.897 --> 00:09:00.877\nBut it is just gonna show me either IPv4\nand or IPv6 depending on which one I am\n\n190\n00:09:00.877 --> 00:09:06.136\nchoosing, if I could just grab that\nlower edge there, there we go.\n\n191\n00:09:06.136 --> 00:09:10.280\nNothing like a white on white console\ninterface to really make it easy for\n\n192\n00:09:10.280 --> 00:09:13.160\nyou to figure out how to pull\nthat window down, right?\n\n193\n00:09:13.160 --> 00:09:15.890\nAll right, so you could see what I did.\n\n194\n00:09:15.890 --> 00:09:18.450\nI could see the IPv4 routing table here.\n\n195\n00:09:18.450 --> 00:09:19.208\nI'm just showing it you.\n\n196\n00:09:19.208 --> 00:09:22.570\nIf I wanted to see the IPv6 one,\ndo the same thing right from here.\n\n197\n00:09:22.570 --> 00:09:25.380\nSo I can go in and I can pull\nthe routing table up to see what's\n\n198\n00:09:25.380 --> 00:09:28.555\nstatic routes have been programmed from\na variety of different interfaces.\n\n199\n00:09:28.555 --> 00:09:32.180\nIt would be a good idea for you,\nespecially if you're planning on sitting\n\n200\n00:09:32.180 --> 00:09:37.990\nfor that MCSA server 16 network exam,\nto perhaps know\n\n201\n00:09:37.990 --> 00:09:41.580\nthat we can use the routing and remote\naccess console to look at routing tables.\n\n202\n00:09:41.580 --> 00:09:44.350\nThat may be something that\nin a networking exam,\n\n203\n00:09:44.350 --> 00:09:46.728\nwould potentially be perhaps\nimportant to be aware of.\n\n204\n00:09:46.728 --> 00:09:47.280\n&gt;&gt; Very important.\n\n205\n00:09:47.280 --> 00:09:50.590\nI mean, this isn't a Cisco exam exam,\nwhere you would, I don't think they would\n\n206\n00:09:50.590 --> 00:09:53.450\nask you things like knowing,\nwe talked about those metrics there,\n\n207\n00:09:53.450 --> 00:09:56.670\nknowing that administrative, or\nknowing that cost for the metrics for\n\n208\n00:09:56.670 --> 00:09:58.990\nthe different types of the routing\nprotocols and so forth.\n\n209\n00:09:58.990 --> 00:10:03.443\nBut you also have the ability to\nmanipulate those administrative costs\n\n210\n00:10:03.443 --> 00:10:08.030\nmanually, administratively,\nto set a route preferences well.\n\n211\n00:10:08.030 --> 00:10:09.780\nBut there are multiple ways of doing that.\n\n212\n00:10:09.780 --> 00:10:12.240\nBut as Adam stated,\nthis is a Microsoft exam.\n\n213\n00:10:12.240 --> 00:10:14.604\nSo, note taken.\n\n214\n00:10:14.604 --> 00:10:16.095\n&gt;&gt; Thank you.\n\n215\n00:10:16.095 --> 00:10:18.670\n&gt;&gt; [LAUGH]\n&gt;&gt; Note taken.\n\n216\n00:10:18.670 --> 00:10:19.370\nThank you.\n\n217\n00:10:19.370 --> 00:10:23.200\nAll right, so just one other thing we can\ndo here with, let's pull this over so\n\n218\n00:10:23.200 --> 00:10:24.175\nyou can see this.\n\n219\n00:10:24.175 --> 00:10:26.980\nWe're back in PowerShell,\njust thought I'd show you yet\n\n220\n00:10:26.980 --> 00:10:30.380\nanother way to look at the routing table,\nif you want to do it from PowerShell but\n\n221\n00:10:30.380 --> 00:10:32.650\nnot use the route print command.\n\n222\n00:10:32.650 --> 00:10:37.255\nGet net route, address family,\nyou specify IPv4 or IPv6 here.\n\n223\n00:10:37.255 --> 00:10:38.735\nAnd then you can go in and\n\n224\n00:10:38.735 --> 00:10:43.485\nyou'll see that we can actually see\nthe routing table here as well.\n\n225\n00:10:43.485 --> 00:10:45.075\nLet's just go full screen on that quick.\n\n226\n00:10:45.075 --> 00:10:48.225\nCan we go full screen for a second just so\nI can slide that around real quick?\n\n227\n00:10:48.225 --> 00:10:53.045\nAnd so, you'll see here that we\nhave our destination prefix.\n\n228\n00:10:53.045 --> 00:10:55.135\nWe have our next top, our route metric.\n\n229\n00:10:55.135 --> 00:10:57.910\nWe get some more information in here\n\n230\n00:10:57.910 --> 00:11:02.230\nthat is different than what we see with\na traditional in the IF index here.\n\n231\n00:11:02.230 --> 00:11:04.710\nThat is a little bit\ndifferent than what we see\n\n232\n00:11:04.710 --> 00:11:09.420\nwhen we look at the routing table from a\ntraditional either DOS shell command line.\n\n233\n00:11:09.420 --> 00:11:13.507\nSo the normal command line and/or\nif we go look at it, for instance,\n\n234\n00:11:13.507 --> 00:11:18.020\nin the routing remote access tables as\nI just looked at it with you there.\n\n235\n00:11:18.020 --> 00:11:20.550\nWe got a little bit of\na different information here, or\n\n236\n00:11:20.550 --> 00:11:22.710\nat least we see some\ndifferent information here.\n\n237\n00:11:22.710 --> 00:11:24.720\nBut we get the basics,\nwe can still see that.\n\n238\n00:11:24.720 --> 00:11:27.930\nBut notice, by the way,\nwe do have our shorthand notation for\n\n239\n00:11:27.930 --> 00:11:29.170\nour subnet mask, right?\n\n240\n00:11:29.170 --> 00:11:31.202\nSlash 32 for 32 bits being used.\n\n241\n00:11:31.202 --> 00:11:33.200\nSlash 4 here, right?\n\n242\n00:11:33.200 --> 00:11:36.090\nSo we're using only four bits for that.\n\n243\n00:11:36.090 --> 00:11:38.545\nSo we talked about this and\nwhy this is important.\n\n244\n00:11:38.545 --> 00:11:42.410\nNotice down here, kind of an unusual\none you don't see very often, /0.\n\n245\n00:11:42.410 --> 00:11:45.920\nBut if you notice that the IP is\nset to all zero, /0 makes sense.\n\n246\n00:11:45.920 --> 00:11:48.700\nWe don't have any bits specified\ncuz we haven't assigned any,\n\n247\n00:11:48.700 --> 00:11:50.150\nthey're all turned off, right?\n\n248\n00:11:50.150 --> 00:11:54.080\nAnd so, we could see that we understand\nhopefully based on prior conversations,\n\n249\n00:11:54.080 --> 00:11:56.290\nhow to recognize that\nshorthand notation now, and\n\n250\n00:11:56.290 --> 00:11:59.110\nbegin to see why all that stuff becomes so\nimportant.\n\n251\n00:11:59.110 --> 00:12:03.960\nIf I wanted to go ahead and add a route in\nhere, if I wanted to actually do a route\n\n252\n00:12:03.960 --> 00:12:08.520\nadd equivalent from PowerShell instead of\nin the command line where I would do route\n\n253\n00:12:08.520 --> 00:12:12.930\nadd, if I wanted to do it here,\nI could do New-NetRoute.\n\n254\n00:12:12.930 --> 00:12:13.790\nSo just do that.\n\n255\n00:12:13.790 --> 00:12:18.463\nAnd then I would do Interface.\n\n256\n00:12:22.175 --> 00:12:23.560\nOf course, I have to spell that correctly.\n\n257\n00:12:23.560 --> 00:12:29.340\nLet me just do that, interface, there\nwe go, interfaceindex instead of alias.\n\n258\n00:12:29.340 --> 00:12:32.950\nAnd for interface index, I'll specify 10.\n\n259\n00:12:32.950 --> 00:12:36.810\nInterface index is going\nto be the route metrics.\n\n260\n00:12:36.810 --> 00:12:38.940\nThat's essentially what\nwe're specifying there.\n\n261\n00:12:38.940 --> 00:12:41.580\nI'm sorry, not the route metric,\ninterface index.\n\n262\n00:12:41.580 --> 00:12:43.350\nI'm looking at route metric\nwhile I'm talking to you.\n\n263\n00:12:43.350 --> 00:12:45.895\nInterface index is this item over here,\nifindex.\n\n264\n00:12:45.895 --> 00:12:47.980\nThat's this identifier right here, right?\n\n265\n00:12:47.980 --> 00:12:49.280\nThat's what that will be.\n\n266\n00:12:49.280 --> 00:12:51.540\nThat's what I meant to say, but\nI'm looking straight ahead at the monitor,\n\n267\n00:12:51.540 --> 00:12:52.500\neven though you can't see me.\n\n268\n00:12:52.500 --> 00:12:56.342\nAnd I'm looking right at RouteMetric and\nmy brain is playing tricks on me here.\n\n269\n00:12:56.342 --> 00:12:57.950\nAll right, so destination.\n\n270\n00:12:57.950 --> 00:13:02.600\nAnd we're gonna do DestinationPrefix,\nso let me just put that in there.\n\n271\n00:13:02.600 --> 00:13:04.740\nAnd notice,\nI'm essentially just pulling in, right?\n\n272\n00:13:04.740 --> 00:13:05.640\nAll the parameters for\n\n273\n00:13:05.640 --> 00:13:09.710\nthe headers in the route table, and\nI'm specifying information for them so\n\n274\n00:13:09.710 --> 00:13:12.890\nI can program in one of these\nroutes if I choose to do that.\n\n275\n00:13:12.890 --> 00:13:18.861\nSo, let's say hypothetically I\ndid something like 172.16.0.0/16\n\n276\n00:13:18.861 --> 00:13:22.455\nusing my shorthand slash notation.\n\n277\n00:13:22.455 --> 00:13:24.615\nAnd then I'll put in my next hop.\n\n278\n00:13:26.185 --> 00:13:30.675\nAnd let's say that that is going\nto be just randomly, right,\n\n279\n00:13:30.675 --> 00:13:32.605\nsomething like that for my gateway.\n\n280\n00:13:32.605 --> 00:13:36.933\nSo what that would do is that would\nallow me to program in a new route\n\n281\n00:13:36.933 --> 00:13:40.253\nwith an interface site\nindex identifier of 10.\n\n282\n00:13:40.253 --> 00:13:44.594\nDestination prefix under\nhere of 172.16.0.0.\n\n283\n00:13:44.594 --> 00:13:46.598\nNotice, I don't have\nthat in there already.\n\n284\n00:13:46.598 --> 00:13:47.760\n/16, right?\n\n285\n00:13:47.760 --> 00:13:52.560\nAnd a NextHop, right here,\nas you can see for NextHop, of 10.0.0.1.\n\n286\n00:13:52.560 --> 00:13:57.580\nSo I could use PowerShell to be able\nto add routes in if I wanted to.\n\n287\n00:13:57.580 --> 00:14:00.880\nOr I could go over to my command line,\nright?\n\n288\n00:14:00.880 --> 00:14:02.700\nRight back here where we are.\n\n289\n00:14:02.700 --> 00:14:07.360\nAnd I could go to my routing table just\nlike I had before, just put that up there.\n\n290\n00:14:07.360 --> 00:14:12.340\nAnd instead, I could do instead\nof route print, route add.\n\n291\n00:14:12.340 --> 00:14:13.840\nAnd then I can go ahead and\n\n292\n00:14:13.840 --> 00:14:18.460\nI can specify just all the information\nto do a route add if I want to do that.\n\n293\n00:14:18.460 --> 00:14:21.220\nAnd I can obviously look at\ndoing it from either place.\n\n294\n00:14:21.220 --> 00:14:25.380\nRoute change lets me modify an existing\nroute instead of adding one in.\n\n295\n00:14:25.380 --> 00:14:26.320\nRoute delete.\n\n296\n00:14:26.320 --> 00:14:28.650\nDelete an existing route\nif I wanna do that.\n\n297\n00:14:28.650 --> 00:14:32.590\nSo I can manipulate and modify these\nsettings from a variety of different\n\n298\n00:14:32.590 --> 00:14:36.240\nplaces, and it will be helpful for\nus to be aware of that.\n\n299\n00:14:36.240 --> 00:14:38.440\nOr for you, I should say,\nto be aware of that.\n\n300\n00:14:38.440 --> 00:14:42.950\nBecause you're gonna wanna understand\nthat the routing table is going to be\n\n301\n00:14:42.950 --> 00:14:47.960\nthe pre-stored, pre-provided static\ninformation, at least these routes anyway.\n\n302\n00:14:47.960 --> 00:14:51.940\nThat is in any one of the machines that we\nwould then want to take advantage of or\n\n303\n00:14:51.940 --> 00:14:56.020\nleverage in order to be able to get\nfrom point a to point b and back again.\n\n304\n00:14:56.020 --> 00:14:58.620\nIt's gonna be real important for\nus to know that.\n\n305\n00:14:58.620 --> 00:15:02.260\nWhile we're just switching over here real\nquick, I'm just gonna load a command shell\n\n306\n00:15:02.260 --> 00:15:07.120\non the other machine here real quick and\njust modify it just so you can see it.\n\n307\n00:15:07.120 --> 00:15:09.740\nI'm just gonna show you some of the\ntroubleshooting tools that are available\n\n308\n00:15:09.740 --> 00:15:11.570\nin Server 16 real quick.\n\n309\n00:15:11.570 --> 00:15:16.328\nSo while we're doing that,\nCherokee is going to serenade you.\n\n310\n00:15:16.328 --> 00:15:19.230\n&gt;&gt; [LAUGH] Man,\nthat's gonna be scary, Adam.\n\n311\n00:15:19.230 --> 00:15:20.050\nBut you know what?\n\n312\n00:15:20.050 --> 00:15:24.060\nI will just note here you can\nalso utilize your route print\n\n313\n00:15:24.060 --> 00:15:25.950\nhere in the regular\ncommand prompt as well.\n\n314\n00:15:25.950 --> 00:15:26.630\nI'm sure you said that.\n\n315\n00:15:26.630 --> 00:15:27.370\n&gt;&gt; You can.\nI talked about that,\n\n316\n00:15:27.370 --> 00:15:28.460\nabsolutely I did, yes.\n\n317\n00:15:28.460 --> 00:15:29.380\n&gt;&gt; Good, good [LAUGH].\n\n318\n00:15:29.380 --> 00:15:30.580\nOf course you did.\n\n319\n00:15:30.580 --> 00:15:32.010\n&gt;&gt; I did, of course I did.\n\n320\n00:15:32.010 --> 00:15:34.460\nAll right, so we can talk about routing.\n\n321\n00:15:34.460 --> 00:15:35.830\nLet's talk about some\ntroubleshooting tools,\n\n322\n00:15:35.830 --> 00:15:38.940\ntools that are available to us that we\ncan use either from a command line.\n\n323\n00:15:38.940 --> 00:15:40.478\nCan use all these tools, by the way,\n\n324\n00:15:40.478 --> 00:15:43.859\nat least the command line ones that I'm\ngonna show yo, from PowerShell as well.\n\n325\n00:15:43.859 --> 00:15:45.820\nI'm not gonna go back and forth and\nshow you the same thing in both, but\n\n326\n00:15:45.820 --> 00:15:46.797\nyou can do them from either place.\n\n327\n00:15:46.797 --> 00:15:48.284\nThey'll all work the same way.\n\n328\n00:15:48.284 --> 00:15:53.211\nI know all of you, I'm sure Are familiar\nwith this command right here, ipconfig.\n\n329\n00:15:53.211 --> 00:15:58.135\nBut if you haven't, and I often encourage\nstudents to do the following to look\n\n330\n00:15:58.135 --> 00:16:01.577\nat the health file associated\nwith this measurement.\n\n331\n00:16:01.577 --> 00:16:04.769\nLet me make this just a little bit bigger,\ncuz I know you can see it but\n\n332\n00:16:04.769 --> 00:16:08.372\nit's probably really helpful for\nyou to see that really big, you know why?\n\n333\n00:16:08.372 --> 00:16:10.522\n&gt;&gt; It's helpful for me.\n[LAUGH]\n\n334\n00:16:10.522 --> 00:16:11.334\n&gt;&gt; It's helpful for Cherokee, here.\n\n335\n00:16:11.334 --> 00:16:12.707\nIt's helpful for you,\n\n336\n00:16:12.707 --> 00:16:17.540\nbecause you need to understand how to\nlook at the help file for these commands.\n\n337\n00:16:17.540 --> 00:16:20.920\nBecause you're gonna get asked about\nsubtle interface information, or\n\n338\n00:16:20.920 --> 00:16:23.460\ninternal information about these commands,\nthat you may or may not be familiar.\n\n339\n00:16:23.460 --> 00:16:26.510\nFor instance, I often ask people,\nhey you know about ipconfig?\n\n340\n00:16:26.510 --> 00:16:27.600\nYeah, we know about ipconfig.\n\n341\n00:16:27.600 --> 00:16:29.110\nGreat, you know what you could do with it?\n\n342\n00:16:29.110 --> 00:16:31.840\nYeah, I can go ahead and\nI can release and renew.\n\n343\n00:16:31.840 --> 00:16:32.770\nAbsolutely.\n\n344\n00:16:32.770 --> 00:16:35.100\nCan you look at your DNS resolver cache?\n\n345\n00:16:35.100 --> 00:16:35.950\nWhat's that?\n\n346\n00:16:35.950 --> 00:16:40.430\nWell when I explained it and we talked\nabout the display DNS command, or\n\n347\n00:16:40.430 --> 00:16:41.482\nthe flash DNS command.\n\n348\n00:16:41.482 --> 00:16:43.980\nThey're like, yeah, I know about that, but\nI didn't know that's what it's called.\n\n349\n00:16:43.980 --> 00:16:48.376\nSo it's important for you to understand\nwhat goes on with these tools out beyond\n\n350\n00:16:48.376 --> 00:16:52.313\nthe basics, cuz it's easy to ask\nthe interesting and basic question,\n\n351\n00:16:52.313 --> 00:16:54.098\nhey ipconfig, what does it do?\n\n352\n00:16:54.098 --> 00:16:56.915\nThe hard question you may\nnot get right on an exam is,\n\n353\n00:16:56.915 --> 00:17:00.322\nipconfig in a command string,\nfrom a screen capture, right?\n\n354\n00:17:00.322 --> 00:17:02.294\nAnd then,\nhey what is that command gonna do and\n\n355\n00:17:02.294 --> 00:17:04.360\nthen you have to choose what it does.\n\n356\n00:17:04.360 --> 00:17:08.781\nOr take that information and go click on\na diagram somewhere as a hotspot, and\n\n357\n00:17:08.781 --> 00:17:12.669\nidentify an issue that's gonna\nhappen as a result of that command.\n\n358\n00:17:12.669 --> 00:17:16.051\nYou're glad I don't write exam questions,\ncuz I'm devious, right?\n\n359\n00:17:16.051 --> 00:17:18.193\n&gt;&gt; [LAUGH] I'm surprised you\nhaven't set a scenario-based like.\n\n360\n00:17:18.193 --> 00:17:21.620\n[CROSSTALK]\n&gt;&gt; Could be as well, right?\n\n361\n00:17:21.620 --> 00:17:24.200\nBut my point is, there are so\nmany different ways today for\n\n362\n00:17:24.200 --> 00:17:26.330\nus to ask these questions of you.\n\n363\n00:17:26.330 --> 00:17:29.636\nThat it's not just simple, hey here's\nthe command, here's four options,\n\n364\n00:17:29.636 --> 00:17:30.450\nmultiple choice.\n\n365\n00:17:30.450 --> 00:17:31.995\nYeah, it must be b, right?\n\n366\n00:17:31.995 --> 00:17:33.835\n&gt;&gt; [LAUGH]\n&gt;&gt; Or whatever the urban myth legend,\n\n367\n00:17:33.835 --> 00:17:36.645\nright, universal answers is,\nI think it's c, right?\n\n368\n00:17:36.645 --> 00:17:37.385\nYeah, it's c.\n\n369\n00:17:37.385 --> 00:17:40.215\nSo whatever it is,\nit's not that simple anymore, right?\n\n370\n00:17:40.215 --> 00:17:41.605\nIt hasn't been for a long time.\n\n371\n00:17:41.605 --> 00:17:45.675\nSo understanding and looking at the help\nfile here, and I know because it's so\n\n372\n00:17:45.675 --> 00:17:48.015\nbig you're not gonna be able\nto see all the items there.\n\n373\n00:17:48.015 --> 00:17:50.245\nBut I just want you to\nunderstand the logic of that and\n\n374\n00:17:50.245 --> 00:17:52.815\nwhy it's important to take\na look at those help files.\n\n375\n00:17:52.815 --> 00:17:54.915\nBecause it is going to be valuable for\nyou.\n\n376\n00:17:54.915 --> 00:17:56.690\nLet me make that just\na little bit smaller.\n\n377\n00:17:56.690 --> 00:17:59.740\nIt is gonna be valuable for\nyou to be able to understand that.\n\n378\n00:17:59.740 --> 00:18:03.730\nSo ipconfig, ipconfig all, renew,\nrelease, those are the basic ones.\n\n379\n00:18:03.730 --> 00:18:08.859\nBut notice display, DNS, and flush DNS\nare not in the examples here, right?\n\n380\n00:18:08.859 --> 00:18:10.700\nYou will have to go back up and\nread up on them.\n\n381\n00:18:10.700 --> 00:18:13.170\nBut they are right here,\nthey're just under options.\n\n382\n00:18:13.170 --> 00:18:14.579\nJust the examples don't show everything.\n\n383\n00:18:14.579 --> 00:18:16.840\nYou wanna focus on the options, right?\n\n384\n00:18:16.840 --> 00:18:21.510\nAnd really take a look at and\nunderstand all this kind of stuff.\n\n385\n00:18:21.510 --> 00:18:25.800\nSet class ID, right, for\n6 and set class ID without 6.\n\n386\n00:18:25.800 --> 00:18:30.680\nThat lets us specify DHCP and\nDHCP version 6 support.\n\n387\n00:18:30.680 --> 00:18:34.750\nAnd we'll be talking about DHCP and\nsetting up the HTTP in upcoming episodes.\n\n388\n00:18:34.750 --> 00:18:38.640\nWe'll take a look at how to configure\na DHCP server for version 6, for\n\n389\n00:18:38.640 --> 00:18:40.040\nIPv6 support.\n\n390\n00:18:40.040 --> 00:18:41.200\nSo just make sure you know that.\n\n391\n00:18:41.200 --> 00:18:46.450\nWe've got register and display DNS, flush\nDNS, renew, renew 6, release, release 6.\n\n392\n00:18:46.450 --> 00:18:47.960\nYou guys know we have\na different command for\n\n393\n00:18:47.960 --> 00:18:50.630\nIPv6 to use ipconfig to release and renew.\n\n394\n00:18:50.630 --> 00:18:54.455\nIt's not just ipconfig release and\nrenew, that's the v4 command.\n\n395\n00:18:54.455 --> 00:18:57.830\nIpconfig release 6 is the release\ncommand for version 6.\n\n396\n00:18:57.830 --> 00:19:01.085\nSo you do need to take some time\njust to get acquainted here.\n\n397\n00:19:01.085 --> 00:19:04.460\nIt will be important for you,\nbecause if you're not familiar with it,\n\n398\n00:19:04.460 --> 00:19:07.685\nthat's the difference typically\nbetween success and failure.\n\n399\n00:19:07.685 --> 00:19:11.460\nIpconfig lets you go and\nlook at existing IP configurations,\n\n400\n00:19:11.460 --> 00:19:15.540\nmodify the binding and or work with IP\naddress that's important to know that.\n\n401\n00:19:15.540 --> 00:19:17.860\nOkay, let's go back to our\nnext one if you could please.\n\n402\n00:19:17.860 --> 00:19:21.276\nRight, so ping, I'm sure you guys\nare familiar with ping, not pong.\n\n403\n00:19:21.276 --> 00:19:23.092\nNot pong, as I type of there but ping.\n\n404\n00:19:23.092 --> 00:19:25.526\n&gt;&gt; [LAUGH]\n&gt;&gt; So make sure you know the ping and\n\n405\n00:19:25.526 --> 00:19:28.840\nyou could see it when you type\nin ping question mark again.\n\n406\n00:19:28.840 --> 00:19:32.090\nWhole bunch of switches there,\nmost people know maybe one or two.\n\n407\n00:19:32.090 --> 00:19:35.600\nYeah, I can ping and maybe do a ping\ntea for a continuous ping, okay great.\n\n408\n00:19:35.600 --> 00:19:38.169\nBut there are so\nmany other things that you could do there,\n\n409\n00:19:38.169 --> 00:19:41.850\nnotice ping minus two right at\nthe top there, ping until stop, right?\n\n410\n00:19:41.850 --> 00:19:44.850\nBut you could see there's so\nmany other things ping minus p,\n\n411\n00:19:44.850 --> 00:19:47.830\nping hyper-V network\nvirtualization provider address.\n\n412\n00:19:47.830 --> 00:19:49.430\nDid you know you could do that?\n\n413\n00:19:49.430 --> 00:19:50.470\nI knew you could do that.\n\n414\n00:19:50.470 --> 00:19:52.990\nYou may or may not know you can do that,\nbut I promise you that somebody\n\n415\n00:19:52.990 --> 00:19:55.800\nwho is gonna ask you is gonna\nexpect you to know how to do that.\n\n416\n00:19:55.800 --> 00:19:56.900\nSo it would be important.\n\n417\n00:19:56.900 --> 00:20:02.059\nWhat about ping -4,\nthat forces IPv4 as opposed to IPv6,\n\n418\n00:20:02.059 --> 00:20:04.751\n-6 forces a ping using IPv6.\n\n419\n00:20:04.751 --> 00:20:08.860\nIt's important to know the distinctions\nhere and understand your tools, right?\n\n420\n00:20:08.860 --> 00:20:09.870\nWhen do I use them?\n\n421\n00:20:09.870 --> 00:20:11.180\nWhat are they used for?\n\n422\n00:20:11.180 --> 00:20:13.110\nWhy are they important?\n\n423\n00:20:13.110 --> 00:20:18.330\nPing is our traditional go to tool for\nIP configuration troubleshooting.\n\n424\n00:20:18.330 --> 00:20:20.230\nHey, let me ping something\nto see if it's connected,\n\n425\n00:20:20.230 --> 00:20:22.030\nif it's configured the right way.\n\n426\n00:20:22.030 --> 00:20:25.520\nI look at IP config to see\nthe config on the local interface.\n\n427\n00:20:25.520 --> 00:20:28.110\nI ping it to see if it has\ncommunication capabilities, and\n\n428\n00:20:28.110 --> 00:20:31.120\nthere's networking traffic\nthat's moving back and forth.\n\n429\n00:20:31.120 --> 00:20:33.760\nTo that end,\nI use two additional tools, right?\n\n430\n00:20:33.760 --> 00:20:38.309\nSomething called trace route,\nwe write it as tracert in Windows, right?\n\n431\n00:20:38.309 --> 00:20:42.124\nThat's just the shortened\nversion of the tool name.\n\n432\n00:20:42.124 --> 00:20:47.161\nAnd you could see the help file there,\nand tracert, short for trace route.\n\n433\n00:20:47.161 --> 00:20:52.758\nAnd you can see that this allows\nme to essentially combine\n\n434\n00:20:52.758 --> 00:20:58.150\nping together with some\nadditional information.\n\n435\n00:20:58.150 --> 00:21:02.100\nThat's gonna detail out for\nme specifically every hop\n\n436\n00:21:02.100 --> 00:21:05.490\nbetween where I start from and\nwhere I wanna ultimately end up.\n\n437\n00:21:05.490 --> 00:21:08.882\nAnd it's gonna show me every touch\non every interface as I hop or\n\n438\n00:21:08.882 --> 00:21:12.723\nconnect from routed interface to\nrouted interface during my hand off.\n\n439\n00:21:12.723 --> 00:21:16.665\nNetworking is actually really interesting,\nwe don't often go into this detail but\n\n440\n00:21:16.665 --> 00:21:19.006\nyou mind helping me do\nsomething here real quick?\n\n441\n00:21:19.006 --> 00:21:20.813\n&gt;&gt; Sure why not [LAUGH]\n&gt;&gt; You're so confident.\n\n442\n00:21:20.813 --> 00:21:21.985\n&gt;&gt; That's what I'm here for, right?\n\n443\n00:21:21.985 --> 00:21:23.526\n&gt;&gt; You're like, yeah I don't know.\n\n444\n00:21:23.526 --> 00:21:26.527\nIt may involve something that I'm not\ncomfortable with, but we'll give it a try.\n\n445\n00:21:26.527 --> 00:21:27.871\nSo real simple.\n\n446\n00:21:27.871 --> 00:21:30.397\nSo, I just wanna illustrate the concept\nof a hop and a hop count, right?\n\n447\n00:21:30.397 --> 00:21:31.237\n&gt;&gt; Okay.\n&gt;&gt; And so,\n\n448\n00:21:31.237 --> 00:21:34.333\nwhen I wanna send traffic back and\nforth, right?\n\n449\n00:21:34.333 --> 00:21:38.910\nI have to pass something from my network\ncard over to either the default gateway,\n\n450\n00:21:38.910 --> 00:21:43.081\nor if I'm going out across to the network,\nbeyond the boundary of my LAN,\n\n451\n00:21:43.081 --> 00:21:47.254\nthe default gateway, or I will send it\nto another machine on my network but\n\n452\n00:21:47.254 --> 00:21:50.120\nit may not come through a default gateway.\n\n453\n00:21:50.120 --> 00:21:53.490\nIt depends on whether it's local to me or\nit's remote, as we know, right?\n\n454\n00:21:53.490 --> 00:21:55.270\nAnd so when we think about hot count,\n\n455\n00:21:55.270 --> 00:21:58.520\nwe're talking about default gateways that\nwe're connecting through, or we're hopping\n\n456\n00:21:58.520 --> 00:22:03.020\nfrom our system to probably the landside\nof our router or default gateway.\n\n457\n00:22:03.020 --> 00:22:05.776\nAnd then out beyond that the router\ndelivers to the next router down.\n\n458\n00:22:05.776 --> 00:22:08.377\nAnd so essentially, just give me a pen,\nor a piece of paper or\n\n459\n00:22:08.377 --> 00:22:09.963\nsomething I can hand to you, right?\n\n460\n00:22:09.963 --> 00:22:14.120\nSo if this is our packet right here,\nand I wanna send this packet.\n\n461\n00:22:14.120 --> 00:22:16.540\nI'm gonna send it off to Cherokee.\n\n462\n00:22:16.540 --> 00:22:19.844\nIf she is the default gateway,\nI'm gonna give it to her.\n\n463\n00:22:19.844 --> 00:22:23.486\nAnd then with this hands,\nshe's going to accept it on the lan.\n\n464\n00:22:23.486 --> 00:22:25.280\nAnd then she's going to transfer it.\n\n465\n00:22:25.280 --> 00:22:26.470\nGo full screen for a second.\n\n466\n00:22:26.470 --> 00:22:27.650\n&gt;&gt; This my my other interface?\n\n467\n00:22:27.650 --> 00:22:29.680\nOkay, hold on.\n&gt;&gt; Yes, we gotta go full screen.\n\n468\n00:22:29.680 --> 00:22:32.637\nFull screen to both of us, there we go.\n\n469\n00:22:32.637 --> 00:22:33.288\n&gt;&gt; Okay.\n[LAUGH]\n\n470\n00:22:33.288 --> 00:22:34.318\n&gt;&gt; And she's gotta transfer it to\n\n471\n00:22:34.318 --> 00:22:34.877\nthe other side.\n\n472\n00:22:34.877 --> 00:22:36.073\nRight, she's gonna hand it off over there.\n\n473\n00:22:36.073 --> 00:22:40.886\nThat's the hand off on the router\nfrom the landside to the outside or\n\n474\n00:22:40.886 --> 00:22:42.496\nexternal side right?\n\n475\n00:22:42.496 --> 00:22:44.611\nAnd then she's gonna send,\nnow we need another hand.\n\n476\n00:22:44.611 --> 00:22:46.401\n&gt;&gt; [LAUGH]\n&gt;&gt; You gotta go that way to hand it\n\n477\n00:22:46.401 --> 00:22:47.011\nover to me.\n\n478\n00:22:47.011 --> 00:22:47.703\n&gt;&gt; [LAUGH] Yeah, yeah, yeah, okay.\n\n479\n00:22:47.703 --> 00:22:49.610\n&gt;&gt; And then she's gonna pass it around.\n\n480\n00:22:49.610 --> 00:22:51.850\nAnd then she's gonna transfer\nit to somebody else, and\n\n481\n00:22:51.850 --> 00:22:53.180\nthis is how we count tops, right?\n\n482\n00:22:53.180 --> 00:22:53.880\nThis is what we do.\n\n483\n00:22:53.880 --> 00:22:57.540\nAnd so, the idea is that when\nwe're using tracert, what\n\n484\n00:22:57.540 --> 00:23:02.020\nwe're going is instead of pinging, where\nall we get back is the following, right?\n\n485\n00:23:02.020 --> 00:23:04.159\nLet's just ping our gateway here.\n\n486\n00:23:04.159 --> 00:23:07.752\nSo let me just do an ipconfig real quick,\n\n487\n00:23:07.752 --> 00:23:12.085\nand just see what our\naddress is on this machine,\n\n488\n00:23:12.085 --> 00:23:16.962\nand it looks like we're on 192.168.0.4.\n\n489\n00:23:16.962 --> 00:23:19.120\nAnd actually just bring up my\ninterface for a moment if you could,\n\n490\n00:23:19.120 --> 00:23:20.400\nlet's go back to my machine.\n\n491\n00:23:20.400 --> 00:23:23.210\nSo remember I told you\nabout automatic private IP\n\n492\n00:23:23.210 --> 00:23:25.410\nconfiguration addresses, so PIPA.\n\n493\n00:23:25.410 --> 00:23:26.550\nSo there is one right there.\n\n494\n00:23:26.550 --> 00:23:29.590\nYou can see that I've got one assigned\nto my Ethernet adapter right there.\n\n495\n00:23:29.590 --> 00:23:31.030\nMy Ethernet two adapter.\n\n496\n00:23:31.030 --> 00:23:33.054\nSo that one's actually\nusing a private IP address,\n\n497\n00:23:33.054 --> 00:23:34.627\nan automatically assigned private IP.\n\n498\n00:23:34.627 --> 00:23:40.139\nBut this one,\nmy Ethernet one interface is 192.168.0.4.\n\n499\n00:23:40.139 --> 00:23:41.902\nMy gateway is 0.250.\n\n500\n00:23:41.902 --> 00:23:43.507\nSo I'm gonna ping that.\n\n501\n00:23:43.507 --> 00:23:46.420\nSo let's go down here, and\n\n502\n00:23:46.420 --> 00:23:51.242\nlet's ping 192.168.0.250.\n\n503\n00:23:51.242 --> 00:23:53.010\nAnd we'll get back four responses.\n\n504\n00:23:53.010 --> 00:23:56.010\nThis is the traditional information\nthat comes back from ping, right?\n\n505\n00:23:56.010 --> 00:23:58.350\nAssuming we're connected,\neverything's good on the network.\n\n506\n00:23:58.350 --> 00:24:01.280\nWhat Tracer does is it does this, but\n\n507\n00:24:01.280 --> 00:24:04.860\ninstead of just doing it to\nthe very last interface and\n\n508\n00:24:04.860 --> 00:24:08.870\nonly showing me the response from that,\nit shows me every step in between.\n\n509\n00:24:08.870 --> 00:24:11.160\nAnd so when I do trace search, right?\n\n510\n00:24:11.160 --> 00:24:14.910\nAnd I do 192.168.0.250,\nI'm essentially gonna get\n\n511\n00:24:14.910 --> 00:24:19.630\nback basically not much\ndifferent information,\n\n512\n00:24:19.630 --> 00:24:23.270\ncuz it's really nothing between me and\nthe default gateway.\n\n513\n00:24:23.270 --> 00:24:26.315\nBut if I was to do this to\nan external IP address,\n\n514\n00:24:26.315 --> 00:24:30.750\nI would actually get back information\nabout every hop along the way.\n\n515\n00:24:30.750 --> 00:24:35.730\nAnd it would show me the metric and\nthe TTL and all that value is you can see\n\n516\n00:24:35.730 --> 00:24:39.548\ncoming up here for that,\nout to a maximum of 30 hops.\n\n517\n00:24:39.548 --> 00:24:42.633\nAnd it would show me that information,\nhelp me diagnose whether or\n\n518\n00:24:42.633 --> 00:24:43.870\nnot I'm connecting.\n\n519\n00:24:43.870 --> 00:24:45.830\nAnd if I am connecting,\nhow I'm connecting,\n\n520\n00:24:45.830 --> 00:24:50.150\nover what circumstances or through what\nkind of a network all the way through.\n\n521\n00:24:50.150 --> 00:24:53.130\nAnd so I'm just gonna break that because\nwe're not gonna get any information back.\n\n522\n00:24:53.130 --> 00:24:54.470\nBut I would be able to do that.\n\n523\n00:24:54.470 --> 00:24:58.840\nAnd so I could actually go out and\nI could do a tracer to a machine, or\n\n524\n00:24:58.840 --> 00:24:59.470\nfrom a machine.\n\n525\n00:24:59.470 --> 00:25:04.056\nLet's just take a look here real quick\nat my Windows 10 machine that's actually\n\n526\n00:25:04.056 --> 00:25:05.858\nconnected out to the Internet.\n\n527\n00:25:05.858 --> 00:25:07.490\nAnd let's just take\na look here real quick.\n\n528\n00:25:07.490 --> 00:25:10.180\nLet me just get rid of what was there, and\n\n529\n00:25:10.180 --> 00:25:12.850\nlet's take a look at what\nthis would like for real.\n\n530\n00:25:12.850 --> 00:25:17.553\nSo if I do tracer www.cnn.com, right?\n\n531\n00:25:17.553 --> 00:25:21.180\nI don't even have to, I'm in net-sh.\n\n532\n00:25:21.180 --> 00:25:23.470\nI didn't even realize\nit was still in net-sh.\n\n533\n00:25:23.470 --> 00:25:24.480\nThere we go, that's better.\n\n534\n00:25:24.480 --> 00:25:25.750\nAll right, so let me do that.\n\n535\n00:25:25.750 --> 00:25:33.910\nI don't even need to\ntype in the IP address.\n\n536\n00:25:33.910 --> 00:25:38.000\nI can do that and\nrely on DNS to do the resolution for me.\n\n537\n00:25:38.000 --> 00:25:39.320\nAnd if you're not sure how that works,\n\n538\n00:25:39.320 --> 00:25:42.200\nwe're going to talk all about that\nin an upcoming episode as well.\n\n539\n00:25:42.200 --> 00:25:44.610\nBut you could see here\nthat when I do that,\n\n540\n00:25:44.610 --> 00:25:48.580\nI'm actually getting essentially a ping\nto every interface in the hop trail,\n\n541\n00:25:48.580 --> 00:25:51.400\nall the way from where I am\nall the way out to CNN.com.\n\n542\n00:25:51.400 --> 00:25:55.020\nAnd I'm showing everyone of those,\nbut instead of showing me the ping\n\n543\n00:25:55.020 --> 00:25:59.320\ninformation, what Tracer does is it\nshows me the information on the hop.\n\n544\n00:25:59.320 --> 00:26:02.870\nIt shows me what number it was,\nhow long it took me connect,\n\n545\n00:26:02.870 --> 00:26:05.436\nwhat the IP address was of that interface.\n\n546\n00:26:05.436 --> 00:26:07.145\nAnd then the next top,\nand then the next hop, and\n\n547\n00:26:07.145 --> 00:26:08.790\nthen the next hop all the way through.\n\n548\n00:26:08.790 --> 00:26:12.618\nSo Tracer details out all of the\nnetworking steps, or the interim steps for\n\n549\n00:26:12.618 --> 00:26:15.551\nme to go from point A to point D,\nand everything between.\n\n550\n00:26:15.551 --> 00:26:17.497\nAnd it details it out for\nme so I can see it.\n\n551\n00:26:17.497 --> 00:26:21.520\nAnd if there's a problem, it should help\nme to essentially zero in on that and\n\n552\n00:26:21.520 --> 00:26:23.720\nperhaps identify that\nthere's a concern here.\n\n553\n00:26:23.720 --> 00:26:28.860\nSo trace route, or TRACERT, which is\nthe name of how we reference the tool,\n\n554\n00:26:28.860 --> 00:26:32.830\nis gonna be helpful for us to do some\nroute-based trouble shooting to look at\n\n555\n00:26:32.830 --> 00:26:35.350\npath and to understand whether\nwe're connecting or not.\n\n556\n00:26:35.350 --> 00:26:38.560\nWe may see that there's a very\nhigh millisecond latency count\n\n557\n00:26:38.560 --> 00:26:39.540\non one of the hops here.\n\n558\n00:26:39.540 --> 00:26:42.010\nMaybe we're dropping packets,\nmaybe there's some congestion.\n\n559\n00:26:42.010 --> 00:26:44.250\nMaybe something's going on\nthat we have to adjust for-\n\n560\n00:26:44.250 --> 00:26:45.230\n&gt;&gt; Maybe it's average,\n\n561\n00:26:45.230 --> 00:26:46.900\nbecause we're communicating globally,\n\n562\n00:26:46.900 --> 00:26:52.080\nand we have to traverse different\ncontinents or so forth.\n\n563\n00:26:52.080 --> 00:26:55.860\nIt might sometimes, so it just shows you\nthe layout of that particular packet,\n\n564\n00:26:55.860 --> 00:26:57.110\nit's traveling.\n\n565\n00:26:57.110 --> 00:26:59.950\n&gt;&gt; It shows us the network\nconnectivity that travels across, or\n\n566\n00:26:59.950 --> 00:27:02.140\nthe network map, if you will,\nabsolutely correct.\n\n567\n00:27:02.140 --> 00:27:04.180\nAnother one that does this is PathPing.\n\n568\n00:27:04.180 --> 00:27:06.850\nNow, PathPing will essentially\ndo very similar stuff.\n\n569\n00:27:06.850 --> 00:27:10.350\nBut instead of immediately returning\nour results the way Traceroute does,\n\n570\n00:27:10.350 --> 00:27:14.120\nwhen you do PathPing, it's gonna do\nthis and then it's gonna sit there for\n\n571\n00:27:14.120 --> 00:27:17.410\na minute or two and\nit's gonna gather some usage statistics,\n\n572\n00:27:17.410 --> 00:27:19.080\nand then it's gonna show it us.\n\n573\n00:27:19.080 --> 00:27:22.640\nSo take a little bit longer to\ngive us back the information, but\n\n574\n00:27:22.640 --> 00:27:26.475\nultimately when it does that-\n&gt;&gt; Adam,\n\n575\n00:27:26.475 --> 00:27:30.394\ncan I tell you how I feel about PathPing?\n\n576\n00:27:30.394 --> 00:27:34.424\nI don't want to scare you, but it's, this\nis my, it's almost like where you take\n\n577\n00:27:34.424 --> 00:27:37.695\nping and you're TRACERT, and\nthen they have a little offspring.\n\n578\n00:27:37.695 --> 00:27:39.925\n&gt;&gt; And so, if Traceroute and\n\n579\n00:27:39.925 --> 00:27:41.105\nPing got together-\n&gt;&gt; Yeah.\n\n580\n00:27:41.105 --> 00:27:43.580\n&gt;&gt; And\ndid their business behind closed doors,\n\n581\n00:27:43.580 --> 00:27:46.980\nthen you're saying that they\nwould produce PathPing?\n\n582\n00:27:46.980 --> 00:27:47.700\n&gt;&gt; Yes.\n\n583\n00:27:47.700 --> 00:27:48.550\n&gt;&gt; Okay.\n\n584\n00:27:48.550 --> 00:27:49.979\n&gt;&gt; Does that make sense?\n\n585\n00:27:49.979 --> 00:27:53.549\n&gt;&gt; Sure, in your world, I am gonna go with\nyou because you are holding a sharp object\n\n586\n00:27:53.549 --> 00:27:55.560\nand I don't want to\naggregate you in any way.\n\n587\n00:27:55.560 --> 00:27:56.790\nSo, absolutely.\n\n588\n00:27:56.790 --> 00:27:59.086\nBut actually, it is very funny, but\n\n589\n00:27:59.086 --> 00:28:03.533\nit's actually a really great way of\nthinking about it, because it is,\n\n590\n00:28:03.533 --> 00:28:07.850\nPathPing is, essentially\nthe combination of ping and Traceroute.\n\n591\n00:28:07.850 --> 00:28:11.242\nSo it is a great way of thinking about it,\nbecause it's yet another way, and\n\n592\n00:28:11.242 --> 00:28:14.899\nyou could see, it's computing those\nstatistics that I mentioned here, right,\n\n593\n00:28:14.899 --> 00:28:18.132\nright down on the bottom, before it\nactually shows us the information on\n\n594\n00:28:18.132 --> 00:28:19.635\nthe pinged path and the latency.\n\n595\n00:28:19.635 --> 00:28:21.840\nAnd it's doing that combination for us.\n\n596\n00:28:21.840 --> 00:28:24.180\nSo it is actually a great way of\nthinking about it, I like that a lot.\n\n597\n00:28:24.180 --> 00:28:28.740\nBecause it is really kind of like\nthe combination of those two tools in one.\n\n598\n00:28:28.740 --> 00:28:30.280\nSo I actually like that a lot.\n\n599\n00:28:30.280 --> 00:28:31.206\n&gt;&gt; Okay.\n[LAUGH]\n\n600\n00:28:31.206 --> 00:28:33.030\n&gt;&gt; That's actually a good one.\n\n601\n00:28:33.030 --> 00:28:36.435\nThat's worth like a fist bump,\nthat was a good one.\n\n602\n00:28:36.435 --> 00:28:38.280\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so we'll let that show up.\n\n603\n00:28:38.280 --> 00:28:39.270\nIt'll show up there eventually.\n\n604\n00:28:39.270 --> 00:28:40.440\nBut we've got that.\n\n605\n00:28:40.440 --> 00:28:45.650\nWe also have an interesting additional\ntool, one you may be familiar with.\n\n606\n00:28:45.650 --> 00:28:50.090\nJust open up another command line here\nreal quick, something called Netstat.\n\n607\n00:28:50.090 --> 00:28:53.550\nAgain, just help file,\na lot of options in there.\n\n608\n00:28:53.550 --> 00:28:57.500\nYou may do something like Netstat minus a,\nand\n\n609\n00:28:57.500 --> 00:29:01.509\nlook at the connections on your\nadapter for instance, right?\n\n610\n00:29:03.030 --> 00:29:07.030\nAnd take a look at all open ports and\nIP address and where they're coming from,\n\n611\n00:29:07.030 --> 00:29:08.570\nand so you could see that here.\n\n612\n00:29:08.570 --> 00:29:12.170\nWe use this in security classes and\nin hacking classes and\n\n613\n00:29:12.170 --> 00:29:15.810\ndemonstrations to begin to understand\nwhat's coming inbound to the machine.\n\n614\n00:29:15.810 --> 00:29:16.810\nSo if we do a port scan,\n\n615\n00:29:16.810 --> 00:29:20.200\nwe'll do a Netstat to see what shows\nup and understand what's there.\n\n616\n00:29:20.200 --> 00:29:24.460\nSo netstat's short for network statistics,\nallows us to understand that information.\n\n617\n00:29:24.460 --> 00:29:27.370\nSo it would be valuable for you to\ntake a look, you can see both TCP and\n\n618\n00:29:27.370 --> 00:29:28.720\nUDP displays there.\n\n619\n00:29:28.720 --> 00:29:31.530\nWe have our IP addresses, but\nwe also see our port numbers,\n\n620\n00:29:31.530 --> 00:29:33.900\nwhich is very important from\na security perspective.\n\n621\n00:29:33.900 --> 00:29:37.050\nWe wanna start investigating open ports,\nand that would be good to know for\n\n622\n00:29:37.050 --> 00:29:37.800\nus to be aware of.\n\n623\n00:29:37.800 --> 00:29:39.140\nSo we have that.\n\n624\n00:29:39.140 --> 00:29:41.291\nWe're still waiting for\nour statistics to arrive.\n\n625\n00:29:41.291 --> 00:29:42.740\nThey'll show up eventually.\n\n626\n00:29:42.740 --> 00:29:46.350\nAnd then, the other thing that we have\nhere, some GUI based tools, right?\n\n627\n00:29:46.350 --> 00:29:49.820\nIn Server 16 we also have some\ntools that are in the GUI\n\n628\n00:29:49.820 --> 00:29:51.440\nthat we would want to take a look at.\n\n629\n00:29:51.440 --> 00:29:56.090\nSo let's go over here, we can go in,\nand actually I'll just do it this way,\n\n630\n00:29:56.090 --> 00:29:57.970\nlet's go to Control Panel.\n\n631\n00:29:57.970 --> 00:30:02.280\nAnd from Control Panel we can\ngo into Administrative Tools.\n\n632\n00:30:02.280 --> 00:30:04.280\nAnd we have a bunch of\nother stuff that's here.\n\n633\n00:30:04.280 --> 00:30:06.920\nLet me just kinda open this up real quick.\n\n634\n00:30:06.920 --> 00:30:11.690\nWe have, remember, we're talking about or\nfocusing on tools that help us to\n\n635\n00:30:11.690 --> 00:30:15.550\nunderstand how to troubleshoot, or\npotentially look at information.\n\n636\n00:30:15.550 --> 00:30:17.470\nI just blew past the first\none right there.\n\n637\n00:30:17.470 --> 00:30:20.230\nBut the oldie but goody Event Viewer,\nyou're probably, I'm sure,\n\n638\n00:30:20.230 --> 00:30:21.670\nfamiliar with Event Viewer.\n\n639\n00:30:21.670 --> 00:30:24.930\nIn case you haven't seen it in server\n16 before, it doesn't really look\n\n640\n00:30:24.930 --> 00:30:28.670\nany different than it would in,\nif you're familiar with it in server 12,\n\n641\n00:30:28.670 --> 00:30:32.570\nor even in 2008 r2,\nit's been looking this way for some time.\n\n642\n00:30:32.570 --> 00:30:37.320\nSo you see we have our various logs here,\nlet's just open this up.\n\n643\n00:30:37.320 --> 00:30:41.170\nAnd when we come in and\nwe take a look go in under Windows logs,\n\n644\n00:30:41.170 --> 00:30:42.630\nwe have our standard logs here.\n\n645\n00:30:42.630 --> 00:30:44.910\nIf we go in under applications and\n\n646\n00:30:44.910 --> 00:30:49.900\nservices logs, we have some additional\ninformation that may be valuable here.\n\n647\n00:30:49.900 --> 00:30:54.500\nHardware, IE, Microsoft, and\nthe lab exchange, different stuff, right?\n\n648\n00:30:54.500 --> 00:30:56.080\nWindows PowerShell, right?\n\n649\n00:30:56.080 --> 00:30:56.960\nSo we've got a bunch of stuff.\n\n650\n00:30:56.960 --> 00:30:59.140\nBut up under Microsoft is where,\n\n651\n00:30:59.140 --> 00:31:03.490\nunder Windows, we'll see quite a bit of\ninformation that may be valuable for us.\n\n652\n00:31:03.490 --> 00:31:06.810\nAnd we can see there's lots and\nlots and lots of stuff here.\n\n653\n00:31:06.810 --> 00:31:13.050\nGot some stuff as we can see right here\non DHCP and DHCP v6 for the client.\n\n654\n00:31:13.050 --> 00:31:15.760\nSo may wanna be looking at those,\nsee if there's any information.\n\n655\n00:31:15.760 --> 00:31:17.020\nIf we are running DHCP and\n\n656\n00:31:17.020 --> 00:31:20.345\nwe're having some networking issues, may\nbe valuable for us to take a look at that.\n\n657\n00:31:20.345 --> 00:31:22.215\nSo, would be good to know that.\n\n658\n00:31:22.215 --> 00:31:24.075\nWe have our DNS client events here.\n\n659\n00:31:24.075 --> 00:31:27.695\nIf we have any problems with the DNS\nservice, wanna be able to troubleshoot and\n\n660\n00:31:27.695 --> 00:31:28.565\nlook at that.\n\n661\n00:31:28.565 --> 00:31:33.170\nSo we do have definitely some\ninformation that would be valuable for\n\n662\n00:31:33.170 --> 00:31:35.110\nus to examine at that level.\n\n663\n00:31:35.110 --> 00:31:37.800\nWe've got some other stuff here\ndepending on what we have set up.\n\n664\n00:31:37.800 --> 00:31:39.252\nRemote desktop services, remote access.\n\n665\n00:31:39.252 --> 00:31:41.732\nIf we have remote access services enabled,\nRRAS,\n\n666\n00:31:41.732 --> 00:31:44.050\nwe have a bunch of stuff\nthat we could log there.\n\n667\n00:31:44.050 --> 00:31:48.122\nSo there will be some logs and information\nthat will be valuable in the Event Viewer.\n\n668\n00:31:48.122 --> 00:31:49.819\nThat we don't wanna underestimate or\n\n669\n00:31:49.819 --> 00:31:52.636\nperhaps just ignore cuz we're\nnot thinking that it's there.\n\n670\n00:31:52.636 --> 00:31:57.417\nWe also have Resource Monitor, again,\none that we often have seen and\n\n671\n00:31:57.417 --> 00:32:03.170\nprobably tripped across but may not even\nthink about the fact that we can use it.\n\n672\n00:32:03.170 --> 00:32:08.530\nBut this is kind of like our Task Manager\ntool but with a little bit more detail.\n\n673\n00:32:08.530 --> 00:32:12.491\nIt's been around since 2008,\nI think as well, or 2008 or two.\n\n674\n00:32:12.491 --> 00:32:13.519\nOn the server site,\n\n675\n00:32:13.519 --> 00:32:17.820\nI think Widows Vista is the first time\nwe see this show up on the desktop side.\n\n676\n00:32:17.820 --> 00:32:21.770\nBut you can see that we do have up here,\nlet's just get rid of CPU.\n\n677\n00:32:21.770 --> 00:32:23.500\nLet's go up under Networking.\n\n678\n00:32:23.500 --> 00:32:26.940\nWe do have the ability to look at\ninformation on the networking side.\n\n679\n00:32:26.940 --> 00:32:31.450\nYou'll go in and see information about\nwhat's happening, so we can go in and\n\n680\n00:32:31.450 --> 00:32:35.660\nwe can drill down right here,\nprocesses with network activity, right?\n\n681\n00:32:35.660 --> 00:32:38.650\nSo we can get some information\nhere about utilization.\n\n682\n00:32:38.650 --> 00:32:42.605\nWe can look at network\nactivity here as you saw.\n\n683\n00:32:42.605 --> 00:32:47.140\nWe can look at up right up here,\nTCP connections, so\n\n684\n00:32:47.140 --> 00:32:49.580\nwe could see inbound and\noutbound connections.\n\n685\n00:32:49.580 --> 00:32:51.360\nWe can look at listening ports.\n\n686\n00:32:51.360 --> 00:32:54.024\nSo this brings together\nthings like netstat,\n\n687\n00:32:54.024 --> 00:32:58.399\nbrings together other information from\nthe command line and displays it for\n\n688\n00:32:58.399 --> 00:33:01.156\nus in a graphical tool\nthat we can't leverage.\n\n689\n00:33:01.156 --> 00:33:05.320\nSo it may be valuable for us to take a\nlook and to again, not forget about it but\n\n690\n00:33:05.320 --> 00:33:06.700\njust be aware of it.\n\n691\n00:33:06.700 --> 00:33:09.191\nThese are the kind of things that you\nmay not use on a regular basis but\n\n692\n00:33:09.191 --> 00:33:11.128\nkeep in mind you may get\nasked about it at some point.\n\n693\n00:33:11.128 --> 00:33:13.149\nSo it'll be helpful for you to know.\n\n694\n00:33:13.149 --> 00:33:14.710\n&gt;&gt; Nice to know that we have this\nrealtime tool at our fingertips.\n\n695\n00:33:14.710 --> 00:33:16.880\n&gt;&gt; Absolutely, so\nwe've got all that in there.\n\n696\n00:33:16.880 --> 00:33:22.090\nDon't overlook and don't forget about\nthe fact that in our networking areas,\n\n697\n00:33:22.090 --> 00:33:25.610\nlet's just go to networking and\nsharing center for just a moment,\n\n698\n00:33:25.610 --> 00:33:30.440\nthat we do have the ability to go in and\nto do troubleshooting of problems.\n\n699\n00:33:30.440 --> 00:33:34.270\nWe have a troubleshooter specific\nto the Windows networking stack, so\n\n700\n00:33:34.270 --> 00:33:37.530\nthe network troubleshooter, kinda that\nwizard that says, hey, what's wrong?\n\n701\n00:33:37.530 --> 00:33:41.590\nAsks you some questions, kinda narrows\ndown in theory your thought process.\n\n702\n00:33:41.590 --> 00:33:44.805\nSo the Windows network diagnostics,\nright, just the troubleshooting there.\n\n703\n00:33:44.805 --> 00:33:46.635\nWe can go in and take a look at that.\n\n704\n00:33:46.635 --> 00:33:51.805\nWe also can go in and use a tool\ncalled the Microsoft Message Analyzer.\n\n705\n00:33:51.805 --> 00:33:54.825\nNow you may not know it by this name,\nthis is been re-branded recently.\n\n706\n00:33:54.825 --> 00:33:56.730\nYou probably may know\nthis as the oldie but\n\n707\n00:33:56.730 --> 00:34:01.040\ngoodie Network Monitor, cuz that's\nwhat this is now being rebranded as.\n\n708\n00:34:01.040 --> 00:34:04.610\nBut Microsoft Message Analyzer\nused to be Network Monitor,\n\n709\n00:34:04.610 --> 00:34:07.750\na network sniffing tool that\nwe can download and use.\n\n710\n00:34:07.750 --> 00:34:10.820\nAnd that can be used to monitor\ntraffic flow inbound and outbound.\n\n711\n00:34:10.820 --> 00:34:15.830\nAnother great and, from Microsoft,\nfree tool that we can use to analyze.\n\n712\n00:34:15.830 --> 00:34:18.300\nThis will be equivalent of Wireshark or\nEthereal or\n\n713\n00:34:18.300 --> 00:34:21.300\nany of those network sniffers that\nyou may use or are familiar with.\n\n714\n00:34:21.300 --> 00:34:21.910\nIt's the same idea.\n\n715\n00:34:21.910 --> 00:34:26.600\nIt's just Microsoft's version, but\nthe Message Analyzer is now available.\n\n716\n00:34:26.600 --> 00:34:29.760\nYou can go and grab it,\ndownload it, use it, install it.\n\n717\n00:34:29.760 --> 00:34:31.170\nIt is supported on Server 16.\n\n718\n00:34:31.170 --> 00:34:33.830\nYou can run it there,\nrun it on Windows 10 on the desktop,\n\n719\n00:34:33.830 --> 00:34:37.280\non just the client side to do monitoring,\nwhatever you wanna do.\n\n720\n00:34:37.280 --> 00:34:39.300\nSo there's lots of different for\nyou to go in and\n\n721\n00:34:39.300 --> 00:34:43.135\ndo some troubleshooting for\nIPv4 base network information.\n\n722\n00:34:43.135 --> 00:34:46.640\nSome of these tools will give you IPv6\nsupport as well, as we saw, and it's good\n\n723\n00:34:46.640 --> 00:34:49.210\nto be thinking about and understanding\nthe fact that we can do one or\n\n724\n00:34:49.210 --> 00:34:53.490\nboth in many cases using any number\nof these tools in any combination.\n\n725\n00:34:53.490 --> 00:34:54.620\n&gt;&gt; Very true.\n\n726\n00:34:54.620 --> 00:34:56.530\nSo we've talked about a lot\nof different tools and\n\n727\n00:34:56.530 --> 00:34:59.830\na lot of different IP version 4 concepts.\n\n728\n00:34:59.830 --> 00:35:04.430\nAnd the whole, I guess idea,\nconcept behind this particular\n\n729\n00:35:04.430 --> 00:35:08.300\nexam is gonna be centralized,\ncentric to a lot of these topics.\n\n730\n00:35:08.300 --> 00:35:10.460\nSo we're kinda just getting started,\nAdam, right?\n\n731\n00:35:10.460 --> 00:35:13.770\n&gt;&gt; Well, we're getting started just with\nthe overview for IPv4, and just reminding\n\n732\n00:35:13.770 --> 00:35:19.380\nus of where we come from before we look at\nsome of the network services, DNS, DHCP.\n\n733\n00:35:19.380 --> 00:35:21.540\nWe look at IPv6 support.\n\n734\n00:35:21.540 --> 00:35:23.870\nWe look at remote access,\nwe talked about that and\n\n735\n00:35:23.870 --> 00:35:27.140\nthat'll be coming up IPAM,\nIP Address Management.\n\n736\n00:35:27.140 --> 00:35:29.559\nWe look at software defined networking or\n\n737\n00:35:29.559 --> 00:35:33.678\nadvanced Hyper-V networking features\nin the virtualization site.\n\n738\n00:35:33.678 --> 00:35:36.760\nAll that stuff's gonna be part of our\nconversations here in upcoming episodes.\n\n739\n00:35:36.760 --> 00:35:38.290\nBut we're just laying the foundation.\n\n740\n00:35:38.290 --> 00:35:41.290\nNow before we finish up cuz we're just,\njust, just about out of time.\n\n741\n00:35:41.290 --> 00:35:43.810\nBut I just wanna go back quickly show you,\nif we could bring this up.\n\n742\n00:35:43.810 --> 00:35:44.610\nWe waited long enough.\n\n743\n00:35:44.610 --> 00:35:48.490\nWe did actually get our trace\ncomplete results from our,\n\n744\n00:35:48.490 --> 00:35:51.830\nas you can see here pathping, and\nyou'll see computing statistics.\n\n745\n00:35:51.830 --> 00:35:54.490\nEventually, once we wait long\nenough we get that back.\n\n746\n00:35:54.490 --> 00:35:56.700\nYou'll see that we do get back our hop.\n\n747\n00:35:56.700 --> 00:35:58.790\nWe get back our round trip time.\n\n748\n00:35:58.790 --> 00:36:00.580\nWe get back our lost and sent metric.\n\n749\n00:36:00.580 --> 00:36:01.598\nSo did we lose anything?\n\n750\n00:36:01.598 --> 00:36:05.353\nNo, we sent, and you'll see here percent\nzero meaning we sent four paths to\n\n751\n00:36:05.353 --> 00:36:08.594\nwhatever we sent, and\neverything got there, nothing was lost.\n\n752\n00:36:08.594 --> 00:36:13.802\nAnd so we see that both for every hop as\nwe go and then we see the actual address.\n\n753\n00:36:13.802 --> 00:36:17.443\nAnd so we do get the same information,\nas you can see, that we got from,\n\n754\n00:36:17.443 --> 00:36:21.110\nwell, I don't know if trace route is up,\nwe got from trace route.\n\n755\n00:36:21.110 --> 00:36:25.190\nBut we then get the additional\ninformation on how many packets?\n\n756\n00:36:25.190 --> 00:36:27.350\nWhat were the milliseconds in latency?\n\n757\n00:36:27.350 --> 00:36:29.060\nAnd whether we lost\nanything along the way.\n\n758\n00:36:29.060 --> 00:36:31.897\nSo as you suggested, combining ping and\ntrace route together,\n\n759\n00:36:31.897 --> 00:36:33.525\nwhich is really what path ping does,\n\n760\n00:36:33.525 --> 00:36:37.204\nit gives us a little bit more detailed\ninformation, again helping us to diagnose,\n\n761\n00:36:37.204 --> 00:36:41.013\nperhaps further understand, whether or not\nwe have a routing problem along the way.\n\n762\n00:36:41.013 --> 00:36:43.128\nSo good for\nus just to remind ourselves on that.\n\n763\n00:36:43.128 --> 00:36:46.330\n&gt;&gt; Yeah, and one thing to keep in kind\nwhen you're utilizing a tool that has\n\n764\n00:36:46.330 --> 00:36:48.064\nICMP as the underpinning technology,\n\n765\n00:36:48.064 --> 00:36:51.492\nsometimes we have devices that are going\nto block that for security reasons.\n\n766\n00:36:51.492 --> 00:36:55.808\nSo you might not get all the information\nyou wanted to, if that's the case,\n\n767\n00:36:55.808 --> 00:36:58.540\nyou run across something like that.\n\n768\n00:36:58.540 --> 00:36:59.860\n&gt;&gt; So yeah, for instance,\n\n769\n00:36:59.860 --> 00:37:03.800\nif we try to ping cnn.com,\nyou can see I'm getting a response back.\n\n770\n00:37:03.800 --> 00:37:07.410\nBut what I'm probably getting a response\nback from is a firewall or gateway device.\n\n771\n00:37:07.410 --> 00:37:10.416\nI'm not really getting a response\nback necessarily from cnn.com, or\n\n772\n00:37:10.416 --> 00:37:11.378\nwhatever it would be.\n\n773\n00:37:11.378 --> 00:37:14.184\nMeaning the web server,\nit's probably not responding,\n\n774\n00:37:14.184 --> 00:37:17.849\nit's probably literally the publicly\nrouteable IP address we talked about\n\n775\n00:37:17.849 --> 00:37:21.530\nthat's on the outside of the gateway\nthat's allowing me in to see traffic.\n\n776\n00:37:21.530 --> 00:37:24.520\nBut I could easily try to ping\nsomething that would block that, and\n\n777\n00:37:24.520 --> 00:37:26.380\nif it did then it may not respond.\n\n778\n00:37:26.380 --> 00:37:30.290\nAnd so you would just have to understand\nthat not every endpoint is willing to\n\n779\n00:37:30.290 --> 00:37:30.820\ntalk to us.\n\n780\n00:37:30.820 --> 00:37:33.596\nOr is allowed to talk to us, and\nit's good point for us to think about and\n\n781\n00:37:33.596 --> 00:37:35.170\nto remind ourselves as well.\n\n782\n00:37:35.170 --> 00:37:38.050\n&gt;&gt; Cool, well, thank you for showing that,\nand thank you for being with us as well.\n\n783\n00:37:38.050 --> 00:37:39.890\nBut for this show,\nwe're gonna go ahead and sign out.\n\n784\n00:37:39.890 --> 00:37:42.410\nRemember, I'm your host, Cherokee Boose.\n\n785\n00:37:42.410 --> 00:37:43.120\n&gt;&gt; I'm Adam Gordon.\n\n786\n00:37:43.120 --> 00:37:45.060\n&gt;&gt; See you next time here at ITProTV.\n\n787\n00:37:45.060 --> 00:37:46.102\n&gt;&gt; Happy IP'ing, everybody.\n\n788\n00:37:46.102 --> 00:37:48.538\n&gt;&gt; [LAUGH]\n\n789\n00:37:48.538 --> 00:37:54.056\n[MUSIC]\n\n790\n00:37:54.056 --> 00:37:56.778\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "216736028"
        },
        {
          "description": "In this episode, Wes and Mike continue their discussion on the world of DNS. They demonstrate what forwarders are as well as where to configure them. They explore root hint servers and explain were root hints fit in DNS. They also tackle conditional forwarders an how they fit into the DNS hierarchy",
          "length": "1897",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-2-install_and_configure_dns_servers_pt2-111516.00_31_23_03.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-2-install_and_configure_dns_servers_pt2-111516.00_31_23_03.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-2-install_and_configure_dns_servers_pt2-111516.00_31_23_03.Still001-sm.jpg",
          "title": "Install and Configure DNS Servers Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.043 --> 00:00:01.496\nWelcome to ITProTV.\n\n2\n00:00:01.496 --> 00:00:06.568\nI'm your host, Don Pezet [CROSSTALK].\n\n3\n00:00:06.568 --> 00:00:08.403\n&gt;&gt; [MUSIC]\n\n4\n00:00:08.403 --> 00:00:12.277\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.277 --> 00:00:15.440\nWelcome back to another exciting\nepisode here at ITPro TV.\n\n6\n00:00:15.440 --> 00:00:16.594\nI'm your host Wes Bryan.\n\n7\n00:00:16.594 --> 00:00:20.767\nAnd in today's episode we're\ncontinuing through our networking with\n\n8\n00:00:20.767 --> 00:00:22.375\nWindows Server 2016.\n\n9\n00:00:22.375 --> 00:00:25.772\nAnd in the first part of this episode,\nwe showed you installing DNS, so\n\n10\n00:00:25.772 --> 00:00:26.856\nwe're done, right?\n\n11\n00:00:26.856 --> 00:00:29.019\nI mean, this is gonna be the shortest\npart two you've ever seen, right?\n\n12\n00:00:29.019 --> 00:00:30.649\n&gt;&gt; [LAUGH]\n&gt;&gt; We don't need to do anything else.\n\n13\n00:00:30.649 --> 00:00:31.209\nI kid.\n\n14\n00:00:31.209 --> 00:00:34.156\nActually, there's a lot more when\nit comes to configuring DNS.\n\n15\n00:00:34.156 --> 00:00:37.870\nAnd joining us to show us all the lovely\nDNS badness is Mr. Mike Rogers.\n\n16\n00:00:37.870 --> 00:00:38.750\nMike, how you doing, sir?\n\n17\n00:00:38.750 --> 00:00:40.770\n&gt;&gt; Doing great, thanks for\nhaving me back, Wes.\n\n18\n00:00:40.770 --> 00:00:43.450\nAnd yeah, there is a little more to it,\nwhich we should probably go over,\n\n19\n00:00:43.450 --> 00:00:49.420\nespecially seeing as DNS is about 20% or\nso of your grade on this exam.\n\n20\n00:00:49.420 --> 00:00:53.477\nSo let's get to the fun stuff,\nmaking DNS work.\n\n21\n00:00:53.477 --> 00:00:54.776\nMaking it efficient.\n\n22\n00:00:54.776 --> 00:00:56.950\nSetting it up to do what we want it to do.\n\n23\n00:00:56.950 --> 00:01:01.842\nWe saw the process of basically how DNS\nworks and how everything is split up,\n\n24\n00:01:01.842 --> 00:01:02.386\nright?\n\n25\n00:01:02.386 --> 00:01:07.010\nThat hierarchical structure,\nthe root, the top level domain names,\n\n26\n00:01:07.010 --> 00:01:10.183\nthe come, that AU, the go,\nthe biz, all that.\n\n27\n00:01:10.183 --> 00:01:14.743\nWe saw our second level domains\nthat we register, Apple, Google,\n\n28\n00:01:14.743 --> 00:01:18.989\nITPro.TV there's another top level domain,\n.TV, right?\n\n29\n00:01:18.989 --> 00:01:22.156\nYou should know that one\nsince you're here with us.\n\n30\n00:01:22.156 --> 00:01:25.260\nSo when we set up our DNS server, right?\n\n31\n00:01:25.260 --> 00:01:29.880\nSo we've registered the name ITPro.TV,\nthere's a few things we gotta do to\n\n32\n00:01:29.880 --> 00:01:35.740\nconfigure it to work, so that my users\ncan resolve names of internal resources,\n\n33\n00:01:35.740 --> 00:01:38.940\nas well as resolve names of\nexternal resources, right?\n\n34\n00:01:38.940 --> 00:01:42.000\nWe're silly to think that everything\nwe need is on our network.\n\n35\n00:01:42.000 --> 00:01:43.940\nThat might've been way back in the day.\n\n36\n00:01:43.940 --> 00:01:45.980\nAnd I mean like way, way back.\n\n37\n00:01:45.980 --> 00:01:49.040\nBut now, everything we need\nis out there on the internet.\n\n38\n00:01:49.040 --> 00:01:51.400\nWe couldn't get by, I don't think,\nwithout internet access.\n\n39\n00:01:51.400 --> 00:01:52.720\nYou guys know how it is.\n\n40\n00:01:52.720 --> 00:01:54.240\nWork, internet connection goes down.\n\n41\n00:01:54.240 --> 00:01:55.364\nWhat's everybody going to do.\n\n42\n00:01:55.364 --> 00:01:57.046\nAah, right?\n\n43\n00:01:57.046 --> 00:01:57.788\nAnd starts freaking out.\n\n44\n00:01:57.788 --> 00:01:58.353\n&gt;&gt; That's what I do.\n\n45\n00:01:58.353 --> 00:01:59.657\n&gt;&gt; Or break out the deck of cards.\n\n46\n00:01:59.657 --> 00:02:01.181\nYou really can't do anything, right?\n\n47\n00:02:01.181 --> 00:02:03.506\nAll right, so anyway, let's see.\n\n48\n00:02:03.506 --> 00:02:04.939\nWe're gonna talk about\na couple of things here.\n\n49\n00:02:04.939 --> 00:02:11.222\nI want to talk about forwarders, root\nhints, delegation and a few other things.\n\n50\n00:02:11.222 --> 00:02:14.361\nBut those are gonna be on top of our\nlist for this particular episode.\n\n51\n00:02:14.361 --> 00:02:16.761\nSo let's start with forwarders, right?\n\n52\n00:02:16.761 --> 00:02:20.884\nForwaders, when you configure\na DNS server with a forwader,\n\n53\n00:02:20.884 --> 00:02:26.120\nyou're saying I want you to forward\nqueries that get, that you can't resolve\n\n54\n00:02:26.120 --> 00:02:31.696\nto this other DNS server, whatever this\nsever is, whatever I configure in there.\n\n55\n00:02:31.696 --> 00:02:32.959\nLet's break that down a little bit more.\n\n56\n00:02:32.959 --> 00:02:36.172\nLet's go to my drawing, so we can get\nan idea of why we might need this.\n\n57\n00:02:36.172 --> 00:02:43.189\nLet's change Apple, let's say this\nis actually a TV and this is ITPro.\n\n58\n00:02:43.189 --> 00:02:48.190\nAll right, so this is our DNS\nserver sitting right here, right?\n\n59\n00:02:48.190 --> 00:02:50.990\nOn that DNS server is a database.\n\n60\n00:02:50.990 --> 00:02:54.519\nWe'll find us a little database,\nwe're looking at the thing and\n\n61\n00:02:54.519 --> 00:02:55.942\nwe'll dump it out there.\n\n62\n00:02:55.942 --> 00:02:56.742\nLet's say,\n\n63\n00:02:56.742 --> 00:03:02.060\non that server is our little database that\ncontains what's called resource records.\n\n64\n00:03:02.060 --> 00:03:04.687\nAnd we'll go more over that\nin an upcoming episode.\n\n65\n00:03:04.687 --> 00:03:06.765\nBut all the names to IP addresses, right?\n\n66\n00:03:06.765 --> 00:03:08.078\nFor ITPro.\n\n67\n00:03:08.078 --> 00:03:12.676\nSo all of the computers, the nodes,\nthat exist in our network.\n\n68\n00:03:12.676 --> 00:03:16.270\nWes' laptop, our file server,\nthings like that.\n\n69\n00:03:16.270 --> 00:03:18.778\nTheir name ends in ITPro.TV.\n\n70\n00:03:18.778 --> 00:03:24.173\nMy laptop is MikesMacBook.lab.ITPro.TV,\nfor example.\n\n71\n00:03:24.173 --> 00:03:28.631\nWell, this DNS server is the one that\nholds those names to IP address mappings.\n\n72\n00:03:28.631 --> 00:03:31.875\nSo if I'm a client inside the network, and\n\n73\n00:03:31.875 --> 00:03:36.755\nI need to resolve the name,\nI need to connect to our file server.\n\n74\n00:03:36.755 --> 00:03:41.743\nWell, I can simply send a query to my\nDNS server, ITPro DNS server that's here\n\n75\n00:03:41.743 --> 00:03:45.762\nin house, I say hey I need to\nconnect to file01.ITPro.TV.\n\n76\n00:03:45.762 --> 00:03:49.177\nHe looks into his database and\nsays sure here is the IP address and\n\n77\n00:03:49.177 --> 00:03:51.906\nthen I can connect to that file server,\nall right?\n\n78\n00:03:51.906 --> 00:03:55.162\nSo as long as I'm resolving a name or\nquery or\n\n79\n00:03:55.162 --> 00:03:58.949\ntrying to connect to a name\nthat ends in ITPro.TV.\n\n80\n00:03:58.949 --> 00:04:00.761\nThis is the only DNS server I need.\n\n81\n00:04:00.761 --> 00:04:04.275\nHe knows all of the names\nthat end in ITPro.TV, and\n\n82\n00:04:04.275 --> 00:04:06.577\nthere associated IP addresses.\n\n83\n00:04:06.577 --> 00:04:09.740\nGreat, but what happens when I\nwanna go beyond that, right?\n\n84\n00:04:09.740 --> 00:04:15.370\nWhat if I wanna connect to Google, or\nMicrosoft, or Apple, or whomever, right?\n\n85\n00:04:15.370 --> 00:04:16.459\nHow do I do that?\n\n86\n00:04:16.459 --> 00:04:22.388\nI send a question to my DNS server, hey,\nwhat's the IP address of www.Google.com?\n\n87\n00:04:22.388 --> 00:04:27.303\nMy DNS server looks in his little\ndatabase and has nothing for Google.com.\n\n88\n00:04:27.303 --> 00:04:31.753\nIt doesn't end in ITPro.TV, my DNS\nserver doesn't know about it, all right.\n\n89\n00:04:31.753 --> 00:04:33.577\nThat's where two different things,\n\n90\n00:04:33.577 --> 00:04:36.769\ntwo different technologies are gonna\ncome into play, all right?\n\n91\n00:04:36.769 --> 00:04:39.393\nRoot hints and forwarders.\n\n92\n00:04:39.393 --> 00:04:42.694\nAnd really conditional forwarders too,\nwe'll throw those in there as well.\n\n93\n00:04:42.694 --> 00:04:47.587\nSo let's set up, let's go and add,\nlet's get Microsoft out of the way here.\n\n94\n00:04:47.587 --> 00:04:50.545\nLet's throw Google,\nwe'll move this guy over, oops.\n\n95\n00:04:50.545 --> 00:04:52.680\nThat little arrow was\nevidently not attached.\n\n96\n00:04:52.680 --> 00:04:56.808\nWe'll throw that there,\nand we'll bring this over.\n\n97\n00:04:56.808 --> 00:05:00.009\nAnd we'll make this a COM server,\nall right, so\n\n98\n00:05:00.009 --> 00:05:04.785\nthat top level domain there, and\nlet's do some switching here as well.\n\n99\n00:05:04.785 --> 00:05:07.027\nLet's make this pretty again.\n\n100\n00:05:07.027 --> 00:05:11.422\nDoing this on the fly is\nalways a fun endeavour, so\n\n101\n00:05:11.422 --> 00:05:17.702\nwe'll make it look nice and neat so\nwe can understand what's going on,\n\n102\n00:05:17.702 --> 00:05:22.537\nbring that guy over there,\nmove him and his database.\n\n103\n00:05:22.537 --> 00:05:24.101\nAnd we'll put Google here.\n\n104\n00:05:24.101 --> 00:05:29.751\nAnd we'll dump one more arrow\njust to be complete down to here.\n\n105\n00:05:29.751 --> 00:05:35.760\nWhoops, get that little green dot,\nthere we go, and attach it.\n\n106\n00:05:35.760 --> 00:05:40.859\nSo again, when my computer, and I'm on\nthe itpro tv network says, hey I need\n\n107\n00:05:40.859 --> 00:05:46.125\nto connect to www.Google.com, my DNS\nserver doesn't know that IP address.\n\n108\n00:05:46.125 --> 00:05:49.358\nSo what do we need to do\nto find that IP address?\n\n109\n00:05:49.358 --> 00:05:52.522\nWell, we need to make it over\nto here to Google's DNS server.\n\n110\n00:05:52.522 --> 00:05:58.103\nGoogle's DNS server, just like ITPro's DNS\nserver knows all the names for ITPro.TV.\n\n111\n00:05:58.103 --> 00:06:01.201\nGoogle's DNS server\nknows all the names for\n\n112\n00:06:01.201 --> 00:06:05.647\nall the nodes on google.com,\nincluding www.Google.com.\n\n113\n00:06:05.647 --> 00:06:07.079\nSo we need to get to this guy somehow.\n\n114\n00:06:07.079 --> 00:06:09.070\nThat's the one that can\nanswer my question.\n\n115\n00:06:09.070 --> 00:06:11.118\nBut again, my DNS server doesn't know it.\n\n116\n00:06:11.118 --> 00:06:15.477\nSo what happens is, and we'll break this\ndown a little bit further and in more\n\n117\n00:06:15.477 --> 00:06:20.122\ndetail as far as the types of queries and\nhow this is working in upcoming episodes.\n\n118\n00:06:20.122 --> 00:06:24.872\nBut just to get that kind of over\nviewing or over arching picture here.\n\n119\n00:06:24.872 --> 00:06:27.587\nMy DNS server needs to get to the top.\n\n120\n00:06:27.587 --> 00:06:30.405\nWe already said that in a previous\nepisode, we start at the top and\n\n121\n00:06:30.405 --> 00:06:31.236\nwork our way down.\n\n122\n00:06:31.236 --> 00:06:32.242\nWe start at the root.\n\n123\n00:06:32.242 --> 00:06:36.382\nHe sends us to the appropriate top level,\ncom, gov, biz, whatever, and\n\n124\n00:06:36.382 --> 00:06:38.768\nthen guy sends us to\nthe actual DNS server.\n\n125\n00:06:38.768 --> 00:06:41.267\n&gt;&gt; Now Mike,\nyou were saying that it resolves name.\n\n126\n00:06:41.267 --> 00:06:43.607\nSo my question would be,\nhow does it know root?\n\n127\n00:06:43.607 --> 00:06:45.351\nI mean, how does it know root?\n\n128\n00:06:45.351 --> 00:06:45.996\nDoes it know the names?\n\n129\n00:06:45.996 --> 00:06:47.696\nSays, hey root, I need to talk to you.\n\n130\n00:06:47.696 --> 00:06:49.366\n&gt;&gt; That's a great question, Wes.\n\n131\n00:06:49.366 --> 00:06:53.854\nAnd how does he get to the root, because\nif we've decided we've gotta start at\n\n132\n00:06:53.854 --> 00:06:58.800\nthe top and work our way down, that means\nI need to know how to get to the top.\n\n133\n00:06:58.800 --> 00:07:01.271\nThat's where root hints come into play.\n\n134\n00:07:01.271 --> 00:07:05.282\nIf we take a look at,\nit doesn't matter what DNS server,\n\n135\n00:07:05.282 --> 00:07:07.714\nwe'll use whichever one this is.\n\n136\n00:07:07.714 --> 00:07:09.952\nLet's open up DNS on this guy.\n\n137\n00:07:11.747 --> 00:07:14.819\nAnd I'm gonna pull up\nthe properties of this DNS server.\n\n138\n00:07:16.900 --> 00:07:19.960\nAnd I'm gonna go to something\ncalled the Root Hints tab.\n\n139\n00:07:19.960 --> 00:07:23.130\nAnd on the Root Hints\ntab are the IP addresses\n\n140\n00:07:23.130 --> 00:07:25.340\nof all of the root servers out there.\n\n141\n00:07:25.340 --> 00:07:29.830\nSo this is how my DNS server is\nable to start at the top and\n\n142\n00:07:29.830 --> 00:07:31.230\nwork it's way down, right?\n\n143\n00:07:31.230 --> 00:07:34.490\nAnd it kinda make sense, when you think\nabout it you gotta have a starting point,\n\n144\n00:07:34.490 --> 00:07:37.720\neasy enough to give them a few IP\naddresses of the starting point.\n\n145\n00:07:37.720 --> 00:07:39.307\nI'm don't have to list\nmillions of addresses.\n\n146\n00:07:39.307 --> 00:07:41.008\nI'll just list a few in there.\n\n147\n00:07:41.008 --> 00:07:43.402\nGet to the top, and\nthen work your way down.\n\n148\n00:07:43.402 --> 00:07:46.298\n&gt;&gt; Okay, now I gotta call you\nout on your diagram there Mike.\n\n149\n00:07:46.298 --> 00:07:49.532\nCuz when I look at this list versus\nthe root that you have on that diagram,\n\n150\n00:07:49.532 --> 00:07:51.880\nit seems be just a little\nbit more than just one root.\n\n151\n00:07:51.880 --> 00:07:52.750\nCan you explain that for me?\n\n152\n00:07:52.750 --> 00:07:53.663\n&gt;&gt; I can.\n\n153\n00:07:53.663 --> 00:07:58.273\nMy drawing simply needs to\nbe duplicated a few times.\n\n154\n00:07:58.273 --> 00:07:59.350\nThere we go.\nWill that work?\n\n155\n00:07:59.350 --> 00:08:01.034\n[LAUGH]\n&gt;&gt; That is great.\n\n156\n00:08:01.034 --> 00:08:02.334\n&gt;&gt; Let's undo that.\n\n157\n00:08:02.334 --> 00:08:04.170\nNo, it's a great point, Wes.\n\n158\n00:08:04.170 --> 00:08:08.820\nObviously, even with the workload split\nup that we talked, taking the route and\n\n159\n00:08:08.820 --> 00:08:11.690\nsaying, look, you just need to know\nwhere the top level domains are.\n\n160\n00:08:11.690 --> 00:08:12.675\nThat's all you need to know.\n\n161\n00:08:12.675 --> 00:08:16.851\nThat's still a lot of work when you're\ntalking about millions of people that\n\n162\n00:08:16.851 --> 00:08:19.431\nare surfing the Internet, 24/7, right?\n\n163\n00:08:19.431 --> 00:08:22.788\nSo, these root servers\nare constantly getting quarries, and\n\n164\n00:08:22.788 --> 00:08:26.903\nthey're constantly redirecting people\nto the dot com, or the the dot tv, or\n\n165\n00:08:26.903 --> 00:08:28.950\nthe dot gov, or what have you.\n\n166\n00:08:28.950 --> 00:08:31.840\nSo there's 13 root servers, right?\n\n167\n00:08:31.840 --> 00:08:38.230\nWe look at this list, you're gonna\nsee that it's actually a through m,\n\n168\n00:08:38.230 --> 00:08:41.600\nwhich is 13, and if we count them up\nin our English language, 13 letters.\n\n169\n00:08:41.600 --> 00:08:46.390\nSo, that's 13, what they call root\nservers, and we don't stop there, even 13\n\n170\n00:08:46.390 --> 00:08:50.860\nwould be a little bit low on the number of\nservers we need to support the workload.\n\n171\n00:08:50.860 --> 00:08:54.010\nSo, when you look at root server g,\n\n172\n00:08:54.010 --> 00:08:59.440\nthat's not just one little Dell\nserver in a server closet somewhere,\n\n173\n00:08:59.440 --> 00:09:05.020\nthat's actually geographically\ndispersed server farm, right?\n\n174\n00:09:05.020 --> 00:09:09.590\nIt's many, many servers in many\ndifferent places for fall tolerance,\n\n175\n00:09:09.590 --> 00:09:14.550\nredundancy, load balancing, security,\nthings like that, all right?\n\n176\n00:09:14.550 --> 00:09:17.650\nSo, even though you'll read in books\nthat say there's 13 root servers,\n\n177\n00:09:17.650 --> 00:09:20.660\n13 logical root servers.\n\n178\n00:09:20.660 --> 00:09:25.800\nBehind each one of these root servers is\nactually anywhere from a few to dozens\n\n179\n00:09:25.800 --> 00:09:28.480\nof actual servers that are doing the work,\nall right?\n\n180\n00:09:29.490 --> 00:09:32.070\nBut that's a great question, and\nhopefully that answers the question,\n\n181\n00:09:32.070 --> 00:09:35.960\nthat's how you find the very\ntop of that infrastructure.\n\n182\n00:09:35.960 --> 00:09:41.400\nIn fact, if you remove all these, if I was\nto select all these guys and remove them,\n\n183\n00:09:41.400 --> 00:09:47.920\nmy DNS server would not be able to resolve\nnames on its own outside the organization.\n\n184\n00:09:47.920 --> 00:09:49.480\nSometimes we actually wanna do that.\n\n185\n00:09:49.480 --> 00:09:50.340\nWe want to prevent,\n\n186\n00:09:50.340 --> 00:09:54.550\nif I've got a development environment\nthat's highly sensitive, and it can't have\n\n187\n00:09:54.550 --> 00:09:58.910\nInternet access, one way to do that or one\nway to one of the pieces in the puzzle,\n\n188\n00:09:58.910 --> 00:10:02.460\nthat wouldn't be the complete solution,\nbut one piece would be\n\n189\n00:10:02.460 --> 00:10:05.620\nto remove the root hits from that DNS\nserver for that particular environment.\n\n190\n00:10:05.620 --> 00:10:06.210\nThat way,\n\n191\n00:10:06.210 --> 00:10:10.490\nthe DNS server could not even attempt\nto start to resolve external names.\n\n192\n00:10:12.260 --> 00:10:15.520\nObviously not gonna prevent anybody from\ngetting out if they know the IP address,\n\n193\n00:10:15.520 --> 00:10:16.590\nthey could simply type it in.\n\n194\n00:10:16.590 --> 00:10:19.290\nI'm just saying that's\none piece of the puzzle.\n\n195\n00:10:19.290 --> 00:10:22.750\nAll right, so now,\nmy server can make it to top.\n\n196\n00:10:22.750 --> 00:10:27.300\nYou can use those root hands to find\nthe root DNS servers and say, hey,\n\n197\n00:10:27.300 --> 00:10:33.110\nmy users asking me about www.google.com.\n\n198\n00:10:33.110 --> 00:10:33.970\nWhat's the IP address?\n\n199\n00:10:33.970 --> 00:10:35.120\nHow can I get to there?\n\n200\n00:10:35.120 --> 00:10:36.970\nThe root, of course, is I don't know, but\n\n201\n00:10:36.970 --> 00:10:42.020\nit directs my DNS server\nto the dot com DNS server.\n\n202\n00:10:42.020 --> 00:10:46.330\nThe dot com DNS server tells my DNS server\nI don't know that IP address either, but\n\n203\n00:10:46.330 --> 00:10:49.710\nI do know the IP address of\nthe Google.com DNS server,\n\n204\n00:10:49.710 --> 00:10:51.080\nwhy don't you go check with him?\n\n205\n00:10:51.080 --> 00:10:54.210\nMy DNS server goes and\nchecks with Google, and Google says yeah,\n\n206\n00:10:54.210 --> 00:10:57.980\nsure, here's the IP address for\nwww.google.com.\n\n207\n00:10:57.980 --> 00:11:01.900\nGives it back to my DNS server,\nwho finally answers my client's query and\n\n208\n00:11:01.900 --> 00:11:04.020\nsays here's the IP address\nyou're looking for, and\n\n209\n00:11:04.020 --> 00:11:07.724\nmy browser opens up to www.google.com,\nright?\n\n210\n00:11:07.724 --> 00:11:09.450\nSo, that's the process\nthat it goes through.\n\n211\n00:11:09.450 --> 00:11:11.150\nAnd again, we'll talk about that again.\n\n212\n00:11:11.150 --> 00:11:14.680\nWhat forwarders allow me to do is\n\n213\n00:11:15.760 --> 00:11:19.850\nforward queries on that my DNS\nserver can't resolve on its own.\n\n214\n00:11:19.850 --> 00:11:22.150\nAll right,\njust like we were talking about.\n\n215\n00:11:22.150 --> 00:11:24.090\nWith ITPRO.TV's DNS server,\n\n216\n00:11:24.090 --> 00:11:28.480\nhe cannot resolve any names\nthat don't have an ITPRO.TV.\n\n217\n00:11:28.480 --> 00:11:33.230\nWhat I can do, is I can tell my DNS\nserver look, if a node questions you,\n\n218\n00:11:33.230 --> 00:11:38.009\nqueries you, it says what's the IP address\nfor file1.itpro.tv, give him the answer.\n\n219\n00:11:39.010 --> 00:11:42.790\nIf they ask you for Google.com,\nwell, you get two choices.\n\n220\n00:11:42.790 --> 00:11:47.240\nYou could go to the root and find it for\nthe user, or you could just forward that\n\n221\n00:11:47.240 --> 00:11:50.010\nquery on to somebody else and\nlet them do all the work.\n\n222\n00:11:50.010 --> 00:11:52.900\nAnd that's what we typically do\nin our corporate environments.\n\n223\n00:11:52.900 --> 00:11:57.810\nMy DNS servers are busy enough\nresolving names for all of my users.\n\n224\n00:11:57.810 --> 00:12:00.510\nAll the log on traffic,\nall the connections to servers.\n\n225\n00:12:00.510 --> 00:12:03.380\nTo other nodes, I mean,\nall that stuff is requiring DNS.\n\n226\n00:12:03.380 --> 00:12:09.350\nSo my DNS servers are busy all day long,\nresolving named IP address queries for\n\n227\n00:12:09.350 --> 00:12:12.100\ninternal resources and an itpro.tv.\n\n228\n00:12:12.100 --> 00:12:14.950\nWhen one of my users needs\nto go an external site,\n\n229\n00:12:14.950 --> 00:12:18.720\nI tell my DNS server don't waste your\ntime on it, I know you could get it.\n\n230\n00:12:18.720 --> 00:12:20.690\nYou could go to the root and\nfigure it out.\n\n231\n00:12:20.690 --> 00:12:23.350\nJust forward it on to this guy,\nlet him do all the work.\n\n232\n00:12:23.350 --> 00:12:27.070\nYou get back to doing what you best,\nresolving internal names.\n\n233\n00:12:27.070 --> 00:12:29.230\nThat's what a forwarder allows me to do.\n\n234\n00:12:29.230 --> 00:12:31.330\nNow, who do we forward it to?\n\n235\n00:12:31.330 --> 00:12:32.998\nAnd I keep saying, well,\nwe'll let that guy do it.\n\n236\n00:12:32.998 --> 00:12:34.311\nWho is that guy?\n\n237\n00:12:34.311 --> 00:12:38.660\nA lot of times it's your ISP DN server.\n\n238\n00:12:38.660 --> 00:12:44.570\nYour ISP got big, bad, beefy DNS servers\nto support all their customers, right?\n\n239\n00:12:44.570 --> 00:12:47.790\nI can tell my DNS server,\nhey, just go give it to him.\n\n240\n00:12:47.790 --> 00:12:49.170\nLet him do the work.\n\n241\n00:12:49.170 --> 00:12:50.610\nHe'll tell you the answer.\n\n242\n00:12:50.610 --> 00:12:53.330\nYou can give it back to the client,\nand we're happy.\n\n243\n00:12:53.330 --> 00:12:55.960\nYou're busy doing your\ninternal DNS resolution.\n\n244\n00:12:55.960 --> 00:12:59.030\nYou're passing the workload off\non the external resolution.\n\n245\n00:12:59.030 --> 00:13:01.600\nEverybody can still get Internet access,\nall right?\n\n246\n00:13:01.600 --> 00:13:02.270\nHere's an example.\n\n247\n00:13:02.270 --> 00:13:06.060\nIf we look at, let's switch over\nto my other domain controller.\n\n248\n00:13:06.060 --> 00:13:12.035\nAll right, this is my domain\ncontroller for lab.itprotv,\n\n249\n00:13:12.035 --> 00:13:18.376\nall right, and if I try to,\nlet's open up Command Prompt here.\n\n250\n00:13:18.376 --> 00:13:23.473\nIf I try to ping, I don't know, node01.\n\n251\n00:13:23.473 --> 00:13:27.200\nWell, that's one of my nodes and\nhe's not gonna respond on the pings.\n\n252\n00:13:27.200 --> 00:13:32.360\nI didn't open up the firewall,\nbut nah, but anyway,\n\n253\n00:13:32.360 --> 00:13:37.750\nyou'll see that it was able to resolve\nthe name into an IP address, right?\n\n254\n00:13:37.750 --> 00:13:40.100\nBecause that information\nis in my zone file.\n\n255\n00:13:40.100 --> 00:13:45.690\nLab.itprotv, there's node01,\nand there's his IP address.\n\n256\n00:13:45.690 --> 00:13:49.320\nRight there, node01, so that's how it's\nlooking that up and it's giving back to,\n\n257\n00:13:49.320 --> 00:13:54.110\nin this case PowerShell, my application,\nthe IP address that he's asking for.\n\n258\n00:13:54.110 --> 00:14:01.100\nBut, in here, you don't see anything for\nwww.google.com, right, or microsoft.com.\n\n259\n00:14:01.100 --> 00:14:06.480\nLet's see what happens if I try\nto ping Microsoft, all right,\n\n260\n00:14:06.480 --> 00:14:11.467\nlet's see somebody that'll respond,\nGoogle.com, all right?\n\n261\n00:14:11.467 --> 00:14:14.840\nNotice it's still able to resolve\nthe name into the IP address, and\n\n262\n00:14:14.840 --> 00:14:18.212\nthat's because it's got these two choices,\nit can go to the root,\n\n263\n00:14:18.212 --> 00:14:21.552\nor it can use forwarders, and\nin my case, I'm using forwarders.\n\n264\n00:14:21.552 --> 00:14:24.686\nSo, I'm gonna pull up the properties\nof this DNS server, and\n\n265\n00:14:24.686 --> 00:14:26.626\nI'm gonna look at my forwarders tab.\n\n266\n00:14:26.626 --> 00:14:30.199\nAnd here we can see that I've\ntold my DNS server hey, look,\n\n267\n00:14:30.199 --> 00:14:34.631\nIf somebody sends you a query that you\ncan't lookup in your own database,\n\n268\n00:14:34.631 --> 00:14:38.890\njust forward it on to this guy right here,\nlet them do the work.\n\n269\n00:14:38.890 --> 00:14:41.130\nThat happens to Google's\npublic DNS servers, right?\n\n270\n00:14:41.130 --> 00:14:43.120\nAnd I've got more than listed.\n\n271\n00:14:43.120 --> 00:14:46.570\nIf the first one doesn't respond,\nif I try to forward it on, and\n\n272\n00:14:46.570 --> 00:14:49.946\nthat server doesn't respond to me,\nI've got an alternate.\n\n273\n00:14:49.946 --> 00:14:53.600\nThat guy must be down,\nI'll forward it onto this guy, all right?\n\n274\n00:14:53.600 --> 00:14:58.300\nAnd that way, my DNS server can be busy\ndoing his internal name resolution.\n\n275\n00:14:58.300 --> 00:15:00.080\nExternal names can still get resolved,\n\n276\n00:15:00.080 --> 00:15:02.770\nbecause I can just forward\nthem on to somebody else.\n\n277\n00:15:02.770 --> 00:15:06.220\n&gt;&gt; Mike, now what happens with the results\nof that query, as far as when you do get\n\n278\n00:15:06.220 --> 00:15:09.340\nthat answer back, your server,\nthe local machine gets an answer?\n\n279\n00:15:09.340 --> 00:15:12.300\nWhat happens to the results\nof that query once it's done?\n\n280\n00:15:12.300 --> 00:15:14.480\n&gt;&gt; Well, I think you're\ntalking about caching, right?\n\n281\n00:15:14.480 --> 00:15:15.410\nAnd we'll get back to that.\n\n282\n00:15:15.410 --> 00:15:18.790\nI wanna hold that thought until we get\na little more into the types of queries.\n\n283\n00:15:18.790 --> 00:15:21.030\nBut they are,\nthose results are gonna be cached, so\n\n284\n00:15:21.030 --> 00:15:24.130\nthat we don't actually have to\ngo look it up every single time,\n\n285\n00:15:24.130 --> 00:15:27.520\nwhich is a real big time saver\nwhen it comes to name resolution.\n\n286\n00:15:27.520 --> 00:15:30.700\nSo we will, great question, but\nlet's put a pause on that one.\n\n287\n00:15:30.700 --> 00:15:33.800\nAll right, now, you'll also\nnotice there's a question here.\n\n288\n00:15:33.800 --> 00:15:37.070\nUse root hints if no\nforwarders are available.\n\n289\n00:15:37.070 --> 00:15:40.330\nSo, what I'm basically\ntelling my DNS server is,\n\n290\n00:15:40.330 --> 00:15:44.210\nanything that you can look\nup in your own database do.\n\n291\n00:15:44.210 --> 00:15:49.203\nIf it's not in there, forward it on to one\nof these guys, either 8.8.8.8 or 8.8.4.4.\n\n292\n00:15:49.203 --> 00:15:53.035\nIf none of those guys are responding,\nif you try to forward it on, and\n\n293\n00:15:53.035 --> 00:15:56.158\nneither one of them is available,\nuse your root hints.\n\n294\n00:15:56.158 --> 00:16:00.140\nJust go up to the top, you've already got\nthe IP addresses of all the roots servers.\n\n295\n00:16:00.140 --> 00:16:01.750\nJust do it yourself.\n\n296\n00:16:01.750 --> 00:16:04.690\nI don't want you to do the work, but\nif none of your folders are available,\n\n297\n00:16:04.690 --> 00:16:07.180\ngo ahead and do the work, all right?\n\n298\n00:16:07.180 --> 00:16:08.090\nLet's see what happens.\n\n299\n00:16:08.090 --> 00:16:10.650\nWhat if I uncheck use root hands?\n\n300\n00:16:10.650 --> 00:16:13.450\nEverything is still gonna work\nbecause those two guys are available.\n\n301\n00:16:13.450 --> 00:16:15.660\nWhat if I remove these guys?\n\n302\n00:16:15.660 --> 00:16:19.690\nLet's take them out of the list.\n\n303\n00:16:22.700 --> 00:16:25.570\nAnd click okay and click okay.\n\n304\n00:16:25.570 --> 00:16:26.620\nDo a change OS.\n\n305\n00:16:26.620 --> 00:16:31.180\nAnd I'm going to flush out any caches\njust to make sure we don't get any\n\n306\n00:16:31.180 --> 00:16:32.380\nmisleading results.\n\n307\n00:16:34.320 --> 00:16:36.110\nOops, if I can spell.\n\n308\n00:16:38.930 --> 00:16:39.722\nAll right.\n\n309\n00:16:39.722 --> 00:16:44.060\nWe'll flush that and there's actually\nanother cache that I want to flush.\n\n310\n00:16:44.060 --> 00:16:47.980\nDNS CMD/clear cache.\n\n311\n00:16:47.980 --> 00:16:51.740\nAnd again we'll; talk about\nall of this coming up.\n\n312\n00:16:51.740 --> 00:16:55.172\nAlright, so now, no roots hits available,\nI've unchecked that.\n\n313\n00:16:55.172 --> 00:17:00.390\nI've removed my forwarders I'm gonna ping\n\n314\n00:17:00.390 --> 00:17:05.050\nmicrosoft.com and see what happens.\n\n315\n00:17:05.050 --> 00:17:10.390\nIt's not looking good for\nthe home team, is it?\n\n316\n00:17:10.390 --> 00:17:12.350\nHey we can wait a little bit.\n\n317\n00:17:12.350 --> 00:17:17.140\nIt is going to fail and\nthe error that we should see is ping\n\n318\n00:17:17.140 --> 00:17:22.370\nrequest could not find host Microsoft.com,\nplease check the name and try again.\n\n319\n00:17:22.370 --> 00:17:25.260\nSo it looked in this database over\nhere and said, you know what,\n\n320\n00:17:25.260 --> 00:17:29.250\nthere's nothing named\nMicrosoft.com in here, all right.\n\n321\n00:17:29.250 --> 00:17:32.700\nIt doesn't have any root hints,\ncuz I unchecked it.\n\n322\n00:17:32.700 --> 00:17:34.500\nSo it can't go start at the top and\nfind it,\n\n323\n00:17:34.500 --> 00:17:38.240\nand there's nobody to forward it\nto cuz I removed all of those.\n\n324\n00:17:38.240 --> 00:17:43.560\nSi if i try to ping google.com,\nsame thing is gonna happen,\n\n325\n00:17:43.560 --> 00:17:47.700\nit's gonna time out and it's not going\nto be able to resolve that name.\n\n326\n00:17:47.700 --> 00:17:52.862\nIf I simply go back over here and\nturn on forwarding, oops,\n\n327\n00:17:52.862 --> 00:17:59.269\nthe wrong one, right click properties and\nI'm going to my forwarders and\n\n328\n00:17:59.269 --> 00:18:03.428\nI'll click edit and I'll add a .8.8.8.\n\n329\n00:18:03.428 --> 00:18:09.341\nAnd I'll click OK and OK.\n\n330\n00:18:09.341 --> 00:18:11.960\nAnd we'll try that one more time.\n\n331\n00:18:11.960 --> 00:18:15.300\nPing Google, look at that,\nworks like a charm.\n\n332\n00:18:15.300 --> 00:18:20.000\nLet's ping Microsoft and\nit worked like a charm as well.\n\n333\n00:18:20.000 --> 00:18:22.760\nNow Microsoft doesn't respond, but\nthat's not what we're looking at.\n\n334\n00:18:22.760 --> 00:18:25.340\nWe're looking at the fact that\nit was able to take the name and\n\n335\n00:18:25.340 --> 00:18:26.170\nturn it into an IP address.\n\n336\n00:18:26.170 --> 00:18:28.860\nThat's because my DNS server\ncan't resolve it, but\n\n337\n00:18:28.860 --> 00:18:31.420\nit forwarded it out to one of\nGoogle's public DNS servers.\n\n338\n00:18:31.420 --> 00:18:34.003\nAnd Google's public DNS\nserver can go to the root and\n\n339\n00:18:34.003 --> 00:18:38.150\nthe .com and then the Microsoft.com and\nget the answer I'm looking for.\n\n340\n00:18:38.150 --> 00:18:39.610\nSo that's the idea behind forwarders.\n\n341\n00:18:39.610 --> 00:18:41.550\nAnd that's really just one\nexample of forwarders.\n\n342\n00:18:41.550 --> 00:18:45.910\nAnother place you'll see forwarders\nis in a heavily domained forest.\n\n343\n00:18:45.910 --> 00:18:49.490\nWhen i have multiple domains in my forest,\n\n344\n00:18:49.490 --> 00:18:53.060\nif I'm in one of these way\ndown nested child domains, and\n\n345\n00:18:53.060 --> 00:18:58.960\nI need to get all over to another active\ndirectory tree to connect to a resource.\n\n346\n00:18:58.960 --> 00:19:02.290\nI've got to go through all these DNS\nservers and I will show you this later to\n\n347\n00:19:02.290 --> 00:19:06.880\nget over there to find the authoritative\nDNS server to get that IP address.\n\n348\n00:19:06.880 --> 00:19:10.640\nForwarding allows me to\nstraight to the guy, all right?\n\n349\n00:19:10.640 --> 00:19:13.090\nSo another good example.\n\n350\n00:19:13.090 --> 00:19:17.200\nIn a corporate environment, a lot times we\nhave multiple DNS servers for redundancy,\n\n351\n00:19:17.200 --> 00:19:18.510\nand fault tolerance, and load balancing.\n\n352\n00:19:19.740 --> 00:19:23.950\nI don't need every one of my DNS servers\ngoing out and resolving external names.\n\n353\n00:19:23.950 --> 00:19:25.510\nMaybe I don't want to forward to Google.\n\n354\n00:19:25.510 --> 00:19:28.880\nI want my DNS server doing\nthat external name resolution.\n\n355\n00:19:28.880 --> 00:19:31.610\nBecause I can one,\nI can log that information,\n\n356\n00:19:31.610 --> 00:19:34.710\nI can control what they're allowed\nto do and not do a little better.\n\n357\n00:19:34.710 --> 00:19:35.750\nSo maybe I don't wanna forward it.\n\n358\n00:19:35.750 --> 00:19:40.700\nI want one of my DNS servers to be\nthe guy that goes out to the root, and\n\n359\n00:19:40.700 --> 00:19:42.280\nworks his way down.\n\n360\n00:19:42.280 --> 00:19:44.790\nWell if I only want one of them to do it,\nwhat I do is,\n\n361\n00:19:44.790 --> 00:19:48.260\nall my other DNS servers,\nI take away their root heads.\n\n362\n00:19:48.260 --> 00:19:50.520\nAnd then I forward their external queries,\n\n363\n00:19:50.520 --> 00:19:54.070\nnames they don't know,\nto that one DNS server of mine, right?\n\n364\n00:19:54.070 --> 00:19:57.810\nSo he becomes the external\nname resolution point for\n\n365\n00:19:57.810 --> 00:20:00.280\nall the other DNS servers\nin my organization.\n\n366\n00:20:00.280 --> 00:20:02.040\nThat way, I've got.\n\n367\n00:20:02.040 --> 00:20:02.970\nThere's a lot to it.\n\n368\n00:20:02.970 --> 00:20:04.520\nWe haven't talked about caching.\n\n369\n00:20:04.520 --> 00:20:05.570\nWes brought that up a minute ago.\n\n370\n00:20:05.570 --> 00:20:08.300\nBut there's a lot of advantages\nof doing it that way.\n\n371\n00:20:08.300 --> 00:20:10.020\nOne of the big ones is actually caching.\n\n372\n00:20:11.110 --> 00:20:13.510\nSo a couple of uses for forwarding.\n\n373\n00:20:13.510 --> 00:20:17.050\nSo we've looked at forwarding,\nwe've looked at root hints, right.\n\n374\n00:20:17.050 --> 00:20:18.430\nNext thing I really want to talk about,\n\n375\n00:20:18.430 --> 00:20:22.970\nI might be skipping around on you here,\nWes, is conditional forwarding.\n\n376\n00:20:22.970 --> 00:20:25.000\nI actually don't even see it on the list.\n\n377\n00:20:25.000 --> 00:20:26.490\nMicrosoft, you're letting me down.\n\n378\n00:20:26.490 --> 00:20:28.830\nBut we're gonna do some\nconditional forwarding anyway,\n\n379\n00:20:28.830 --> 00:20:31.660\nbecause forwarding is just that.\n\n380\n00:20:31.660 --> 00:20:32.710\nI'm a DNS server.\n\n381\n00:20:32.710 --> 00:20:33.660\nI get a query.\n\n382\n00:20:33.660 --> 00:20:35.040\nIf I can look it up, great.\n\n383\n00:20:35.040 --> 00:20:37.430\nIf it's not in my\ndatabase I forward it on.\n\n384\n00:20:37.430 --> 00:20:38.890\nDoesn't matter who the query's for.\n\n385\n00:20:38.890 --> 00:20:42.260\nIf it's not in my database\nI'm gonna forward it on\n\n386\n00:20:42.260 --> 00:20:45.650\nto that IP address like I listed here,\n8.8.8.8.\n\n387\n00:20:45.650 --> 00:20:49.150\nConditional forwarding\nallows me to forward it\n\n388\n00:20:49.150 --> 00:20:51.520\nbased on the name I'm trying to resolve.\n\n389\n00:20:51.520 --> 00:20:53.760\nThe condition part of that.\n\n390\n00:20:53.760 --> 00:21:00.740\nIf they're looking for ABC.com,\nforward it to this guy, all right?\n\n391\n00:21:00.740 --> 00:21:04.030\nWhat if I know the IP address\nof Google's DNS server?\n\n392\n00:21:04.030 --> 00:21:07.170\nI actually do, because it's public\n[LAUGH], so that's not the best example.\n\n393\n00:21:07.170 --> 00:21:11.220\nLet's say you've got a business partner,\nContoso.com, all right?\n\n394\n00:21:11.220 --> 00:21:14.610\nAnd your users are continuously\naccessing resources.\n\n395\n00:21:14.610 --> 00:21:17.550\nYou're in ITproTV, but\nyour users are always reaching out and\n\n396\n00:21:17.550 --> 00:21:21.120\nconnecting to resources\nover there at Contoso.com.\n\n397\n00:21:21.120 --> 00:21:23.200\nThat means, every time they go to connect,\n\n398\n00:21:23.200 --> 00:21:27.170\nI gotta query my DNS server, my DNS\nserver's gonna go up to the root, and\n\n399\n00:21:27.170 --> 00:21:30.830\nthen the .com, and then the Contoso.com,\nand then finally get the answer.\n\n400\n00:21:30.830 --> 00:21:32.550\nWhat if I could skip that?\n\n401\n00:21:32.550 --> 00:21:35.310\nIf I know I'm a good business\npartner with Contoso,\n\n402\n00:21:35.310 --> 00:21:37.490\nthey'll give me the IP\naddress of their DNS server.\n\n403\n00:21:38.520 --> 00:21:39.610\nIt's public information.\n\n404\n00:21:39.610 --> 00:21:41.250\nI can really get it anywhere.\n\n405\n00:21:41.250 --> 00:21:44.570\nWhat if I could just send\nthat query straight to them?\n\n406\n00:21:44.570 --> 00:21:46.510\nWithout having to go to the root and\nthe dot com.\n\n407\n00:21:46.510 --> 00:21:48.630\nBecause the only reason\nI'm going to the root and\n\n408\n00:21:48.630 --> 00:21:52.500\nthe dot com server is to find\nContoso.com's DNS server.\n\n409\n00:21:52.500 --> 00:21:54.230\nIf I already know that IP address,\n\n410\n00:21:54.230 --> 00:21:57.840\nshouldn't there be a way I can tell\nmy DNS server, hey, here it is?\n\n411\n00:21:57.840 --> 00:21:59.390\nAnd that's what conditional\nforwarding allows me to do,\n\n412\n00:21:59.390 --> 00:22:02.660\nit says, hey, I know the IP\naddress that you're looking for\n\n413\n00:22:02.660 --> 00:22:04.960\nof the DNS server that's responsible for\nthat.\n\n414\n00:22:04.960 --> 00:22:07.010\nHere it is, just go straight to them.\n\n415\n00:22:07.010 --> 00:22:08.270\nThat's conditional forwarding.\n\n416\n00:22:08.270 --> 00:22:11.240\nAnd you can set up as many\nconditional forwarding rules\n\n417\n00:22:11.240 --> 00:22:13.800\nas you need to if you have\nseveral business partners.\n\n418\n00:22:13.800 --> 00:22:17.390\nI can have one that says, hey, if you're\nquerying a name that ends in Contoso.com,\n\n419\n00:22:17.390 --> 00:22:21.140\nsend it here, if you're querying\na name that ends in practice-labs.com,\n\n420\n00:22:21.140 --> 00:22:23.010\nhere's their DNS server, send it there.\n\n421\n00:22:23.010 --> 00:22:26.960\nAnything else, still forward it\nout to my ISPs DNS server, but for\n\n422\n00:22:26.960 --> 00:22:30.450\nthose two namespaces, goes straight\nto them and save us some time.\n\n423\n00:22:30.450 --> 00:22:33.590\n&gt;&gt; Now Mike, you did make mention when\nyou were talking about the top level and\n\n424\n00:22:33.590 --> 00:22:34.690\nsecond level domains.\n\n425\n00:22:34.690 --> 00:22:37.730\nYou said anything past the second level\ndomain can get a little crazy, right?\n\n426\n00:22:37.730 --> 00:22:40.060\nWe can have all these dots\nin front of the name.\n\n427\n00:22:40.060 --> 00:22:42.700\nWhat if I have an internal company cuz\nyou're mentioning business partners.\n\n428\n00:22:42.700 --> 00:22:45.560\nWhat if I have my own company and\nlet's say we're so big we've got a,\n\n429\n00:22:45.560 --> 00:22:46.695\nfor instance,\n\n430\n00:22:46.695 --> 00:22:51.650\nFlorida.southeast.easternunitedstates.myc-\nompany.com.\n\n431\n00:22:51.650 --> 00:22:54.760\nCan we use conditional forwarding to\nmaybe get to our answer a little quicker?\n\n432\n00:22:54.760 --> 00:22:55.460\n&gt;&gt; Absolutely,\n\n433\n00:22:55.460 --> 00:22:59.350\nif you've got a heavily domained forest\nlike that we can do the same thing.\n\n434\n00:22:59.350 --> 00:23:04.150\nIf most of the resources that\nyour users are accessing or\n\n435\n00:23:04.150 --> 00:23:08.240\nif they do it a lot, in another domain\nsimply set up conditional forwarding.\n\n436\n00:23:08.240 --> 00:23:10.520\nNothing says it has to\nbe external from you.\n\n437\n00:23:10.520 --> 00:23:15.316\nSo if I'm in east.us.itpro.tv, but\n\n438\n00:23:15.316 --> 00:23:23.420\na lot of the resources that I connect\nto are over there in west.au.itpro.tv,\n\n439\n00:23:23.420 --> 00:23:28.280\nI can set up conditional forwarder that\nsays, if it ends in west.au.itpro.tv,\n\n440\n00:23:28.280 --> 00:23:31.950\nhere's the IP address of their DNS server,\ngo straight to it.\n\n441\n00:23:31.950 --> 00:23:35.590\nSo it can definitely be internal,\nexternal, doesn't matter,\n\n442\n00:23:35.590 --> 00:23:39.890\ndoesn't change what we're doing or\nwhy we're doing it, all right?\n\n443\n00:23:39.890 --> 00:23:41.170\nAnd I don't need permissions for\n\n444\n00:23:41.170 --> 00:23:45.280\nconditional forwarding because again,\nif I was to go through the root and\n\n445\n00:23:45.280 --> 00:23:50.210\nthe dot com, I would eventually find\nContoso.com's DNS server's IP address.\n\n446\n00:23:50.210 --> 00:23:50.980\nIt's public information.\n\n447\n00:23:50.980 --> 00:23:52.454\nThey want people to be able\nto connect to their website.\n\n448\n00:23:52.454 --> 00:23:56.892\nSo it's not like I need permissions to set\nup conditional forwarding over to that\n\n449\n00:23:56.892 --> 00:23:58.142\nother organization.\n\n450\n00:23:58.142 --> 00:23:59.489\nOr if it is internal.\n\n451\n00:23:59.489 --> 00:24:03.470\nI don't need permissions in other\ndomain to be able to set this up.\n\n452\n00:24:03.470 --> 00:24:05.330\nIt's not necessary.\n\n453\n00:24:06.390 --> 00:24:08.720\nWhere do I do conditional forwarding?\n\n454\n00:24:08.720 --> 00:24:10.440\nWell, let's take a peek.\n\n455\n00:24:11.620 --> 00:24:12.520\nThere is a node.\n\n456\n00:24:12.520 --> 00:24:16.210\nThis used to be, a few editions ago,\nI think, 2003 or maybe 2008,\n\n457\n00:24:16.210 --> 00:24:20.420\nit used to be on the properties\nof the DNS server.\n\n458\n00:24:20.420 --> 00:24:23.060\nThat's where you saw\nconditional folders tab.\n\n459\n00:24:23.060 --> 00:24:26.180\nNow it's its own node out\nhere in the DNS console.\n\n460\n00:24:26.180 --> 00:24:29.970\nAnd you simply right-click and\nNew conditional folder.\n\n461\n00:24:29.970 --> 00:24:32.500\nAll right, before I do that,\nlet's do a little test.\n\n462\n00:24:32.500 --> 00:24:36.430\nI've got another domain, and I can't for\nthe life of me remember what I called it.\n\n463\n00:24:36.430 --> 00:24:39.915\nSo we're gonna flip over here,\ndev, I believe is what it is.\n\n464\n00:24:39.915 --> 00:24:44.190\nDebt.ITPRODITHE.US/G, The one\nthat we set up from a minute ago.\n\n465\n00:24:44.190 --> 00:24:46.900\nAnd let's make a quick record in here.\n\n466\n00:24:46.900 --> 00:24:50.069\nWhat we got to domain controllers' right.\n\n467\n00:24:50.069 --> 00:24:52.260\nAnd we can do that.\n\n468\n00:24:52.260 --> 00:24:55.060\nAll right, so, here's are 10 0 100, 151.\n\n469\n00:24:55.060 --> 00:25:00.460\nLet's make another one real quick for\nclient, the one.\n\n470\n00:25:00.460 --> 00:25:08.240\nNow we'll do 10.0.100.155 and\nI'll click Add Host, and OK, and Done.\n\n471\n00:25:08.240 --> 00:25:11.430\nI know we did that quick, that's okay,\nthis isn't the episode to learn about\n\n472\n00:25:11.430 --> 00:25:14.350\nresource records,\nthat's coming up so never fear.\n\n473\n00:25:14.350 --> 00:25:18.050\nBut now I've got another record\nin there for this client01.\n\n474\n00:25:18.050 --> 00:25:20.980\nIf I go back to my other domain\ncontroller, different domain.\n\n475\n00:25:23.320 --> 00:25:28.430\nAll right and I try to ping,\n\n476\n00:25:28.430 --> 00:25:31.330\nnot keeping, there's no kingpin here.\n\n477\n00:25:31.330 --> 00:25:38.459\nPing, well as client01.dev.itpro.us\n\n478\n00:25:40.471 --> 00:25:43.680\nSound right, I think.\n\n479\n00:25:43.680 --> 00:25:44.380\n&gt;&gt; Yeah.\n&gt;&gt; All right,\n\n480\n00:25:44.380 --> 00:25:46.900\ncould not find host client01.dev.itpro.us.\n\n481\n00:25:46.900 --> 00:25:49.880\nAnd that's because my server,\n\n482\n00:25:49.880 --> 00:25:54.310\nactually we added a forwarder,\nbut I took away the root hence.\n\n483\n00:25:54.310 --> 00:25:56.430\nAnd these are internal test domains, so\n\n484\n00:25:56.430 --> 00:25:59.450\nthey're not registered like with a dot\ncom server, or anything like that.\n\n485\n00:25:59.450 --> 00:26:01.360\nSo it's not gonna work anyway, but\n\n486\n00:26:01.360 --> 00:26:05.240\nit does give me the opportunity to show\nyou how conditional forwarding can work.\n\n487\n00:26:05.240 --> 00:26:08.910\nIf I go to the DNS server for lab.ITPROTV,\n\n488\n00:26:08.910 --> 00:26:14.360\nwho we just saw could not\nresolve client01.dev.itpro.us.\n\n489\n00:26:14.360 --> 00:26:16.600\nWhat if I come over here and\nI make a new conditional forwarder?\n\n490\n00:26:18.079 --> 00:26:23.834\nAnd I say, anything that ends\nin itpro .us, all right.\n\n491\n00:26:23.834 --> 00:26:30.730\nActually let's make that dev.itpro.us.\n\n492\n00:26:30.730 --> 00:26:32.972\nMake sure I type that in correctly.\n\n493\n00:26:32.972 --> 00:26:34.570\nDev.itpro.us.\n\n494\n00:26:34.570 --> 00:26:41.170\nThe IP address of their DNS server\nof dev.itpro.us is 10.0.100\n\n495\n00:26:41.170 --> 00:26:46.830\n151 I believe is what I said, alright.\n\n496\n00:26:46.830 --> 00:26:52.420\nAnd it does have a little red x,\nit's telling me that it's validated,\n\n497\n00:26:52.420 --> 00:26:56.230\nI can't read that there.\n\n498\n00:26:56.230 --> 00:26:57.710\nI can't remember what that error says.\n\n499\n00:26:57.710 --> 00:26:59.240\nBut it'll actually work.\n\n500\n00:26:59.240 --> 00:27:03.800\nIt's a time thing, eventually it'll\nresolve it and it'll be okay.\n\n501\n00:27:03.800 --> 00:27:05.850\nAlright.\nI can also when I'm setting up conditional\n\n502\n00:27:05.850 --> 00:27:09.130\nforwarding, store this conditional\nforwarder in active directory and\n\n503\n00:27:09.130 --> 00:27:10.170\nreplicate it.\n\n504\n00:27:10.170 --> 00:27:12.930\nIf I have other DNS\nservers in my network and\n\n505\n00:27:12.930 --> 00:27:15.830\nI want them to have the same\nconditional forwarding rule,\n\n506\n00:27:15.830 --> 00:27:18.760\nI can store it in active directory and\nshare it with all my DNS servers.\n\n507\n00:27:18.760 --> 00:27:22.640\nI don't have to create this on\nevery single one of my DNS servers.\n\n508\n00:27:22.640 --> 00:27:26.100\nSo we'll store it in active directory and\nwe'll click OK.\n\n509\n00:27:26.100 --> 00:27:29.285\nSo I've got a conditional floating rule\nthat is a can anybody try to resolve\n\n510\n00:27:29.285 --> 00:27:34.120\ndiv.ITPRO.US here is the IP address for\nthat DNS sever just folded it over there.\n\n511\n00:27:35.240 --> 00:27:40.420\nSo let's go back over here and\nlet's try that again.\n\n512\n00:27:40.420 --> 00:27:45.750\nlet's clear out my cache,\n\n513\n00:27:45.750 --> 00:27:49.921\nclear my screen, and\n\n514\n00:27:49.921 --> 00:27:54.563\nI will ping that again.\n\n515\n00:27:54.563 --> 00:27:55.250\nAnd look at there.\n\n516\n00:27:55.250 --> 00:27:59.840\nAs soon as I clean my cache again\nthe cache is very important let's major in\n\n517\n00:27:59.840 --> 00:28:02.270\nthat earlier I gonna come back and\ntalk to you about that but\n\n518\n00:28:02.270 --> 00:28:06.210\nnotice that it was abler to resolve at\nthis time, it turned the IP as fake,\n\n519\n00:28:06.210 --> 00:28:08.260\nwe just made it up a second ago so\nit's not gonna reply.\n\n520\n00:28:08.260 --> 00:28:11.848\nBut it did take the name and\nturn it into an IP address.\n\n521\n00:28:11.848 --> 00:28:17.700\nBecause my [INAUDIBLE] said I\ndon't know client01.dev.itpro.us.\n\n522\n00:28:17.700 --> 00:28:20.070\nBut wait,\nI know where their DNS server is.\n\n523\n00:28:20.070 --> 00:28:21.920\nAnd sent it over that DNS server.\n\n524\n00:28:21.920 --> 00:28:25.640\nAnd that DNS server said yes,\nI know client01.\n\n525\n00:28:25.640 --> 00:28:28.170\nHere's the IP address right there.\n\n526\n00:28:28.170 --> 00:28:29.280\nThere you go.\nAll right, so\n\n527\n00:28:29.280 --> 00:28:31.060\nthat's conditional forwarding.\n\n528\n00:28:31.060 --> 00:28:34.790\nInstead of just forwarding everything you\ndon't know to a particular IP address,\n\n529\n00:28:34.790 --> 00:28:38.950\nconditional forwarding says,\nif it ends in this, forward it here.\n\n530\n00:28:38.950 --> 00:28:41.710\nIf it ends in this, forward it to here.\n\n531\n00:28:41.710 --> 00:28:44.680\nThat's what conditional\nforwarding is all about.\n\n532\n00:28:44.680 --> 00:28:46.520\nSo we got our forwarders down.\n\n533\n00:28:46.520 --> 00:28:49.710\nThat's for sending all unknown queries.\n\n534\n00:28:49.710 --> 00:28:51.450\nThat's what a forwarder is for.\n\n535\n00:28:51.450 --> 00:28:54.410\nWe got conditional forwarding\nwhere we can say forward it\n\n536\n00:28:54.410 --> 00:28:57.710\nto a certain IP address based on\nthe name you're trying to resolve and\n\n537\n00:28:57.710 --> 00:28:59.680\nwe can definitely mix and match, right?\n\n538\n00:28:59.680 --> 00:29:05.140\nMy dns server now, let's flip back\nover to dc1, has both going on.\n\n539\n00:29:05.140 --> 00:29:09.901\nIt's got a conditional forwarding\nrule that says if it ends in\n\n540\n00:29:09.901 --> 00:29:14.033\ndev.itpro.us send it here,\nbut it also still has.\n\n541\n00:29:15.885 --> 00:29:17.810\nA regular forwarder, 888.\n\n542\n00:29:17.810 --> 00:29:21.206\nSo now I can resolve names\nthat end in ITPro.tv.\n\n543\n00:29:21.206 --> 00:29:23.800\nnode01.itpro.tv All right.\n\n544\n00:29:23.800 --> 00:29:32.910\nDid I not spell that wrong That's odd.\n\n545\n00:29:32.910 --> 00:29:35.380\nSorry, lab.itpro.tv, wrong domain name.\n\n546\n00:29:35.380 --> 00:29:38.352\nCan't resolve that name cuz\nit doesn't exist in here.\n\n547\n00:29:38.352 --> 00:29:40.687\nlab.itpro.tv.\n\n548\n00:29:43.215 --> 00:29:44.880\nSo I can resolve internal names.\n\n549\n00:29:46.360 --> 00:29:51.260\nI can also resolve names that end in a\ncompletely different domain because of my\n\n550\n00:29:51.260 --> 00:29:54.180\nconditional forwarding that still works.\n\n551\n00:29:54.180 --> 00:29:58.473\nAnd I can resolve just general\nexternal names, ping cnn.com.\n\n552\n00:29:58.473 --> 00:30:01.340\nAnd notice it's able to resolve that.\n\n553\n00:30:01.340 --> 00:30:04.420\nSo, by setting up my DNS\nproperly I can control,\n\n554\n00:30:04.420 --> 00:30:06.880\nare we resolving just internal names?\n\n555\n00:30:06.880 --> 00:30:10.970\nJust internal names and\na few business partners, external names.\n\n556\n00:30:10.970 --> 00:30:11.990\nWho's doing the work?\n\n557\n00:30:11.990 --> 00:30:14.730\nIs it my DNS server that's\nresolving those external names?\n\n558\n00:30:14.730 --> 00:30:18.890\nOr do I want to use forwarders and\npush that work load off to somebody else?\n\n559\n00:30:18.890 --> 00:30:22.590\nDo I want to take away the root hint so\nmy DNS server can't make it to the top and\n\n560\n00:30:22.590 --> 00:30:24.370\nresolve those external names?\n\n561\n00:30:24.370 --> 00:30:28.190\nIf I do forwarders but no root\nhints If I try to forward it on to,\n\n562\n00:30:28.190 --> 00:30:30.390\nsay, in this case Google's\npublic DNS server.\n\n563\n00:30:30.390 --> 00:30:34.250\nIf that server doesn't respond and I don't\nhave root hints, I'm dead in the water.\n\n564\n00:30:34.250 --> 00:30:36.140\nI won't be able to resolve those names.\n\n565\n00:30:36.140 --> 00:30:39.550\nSo you see how we can play with\nthese configurations to control\n\n566\n00:30:39.550 --> 00:30:42.870\nhow name Names get resolved\nin within our DNS hierarchy.\n\n567\n00:30:42.870 --> 00:30:46.950\nIf you looked at the logical drawing\nof where those queries are going,\n\n568\n00:30:46.950 --> 00:30:48.970\nI think we might need to\nstop Mike right now or\n\n569\n00:30:48.970 --> 00:30:52.193\nwe're gonna have a outline of\nCthulhu's face or something like that.\n\n570\n00:30:52.193 --> 00:30:53.780\n&gt;&gt; [LAUGH]\n&gt;&gt; Cuz, boy, they are going everywhere.\n\n571\n00:30:53.780 --> 00:30:55.830\nThat's great information,\nbut you know it's so.\n\n572\n00:30:55.830 --> 00:30:58.230\nKinda looking at the notes in\nthe background here, we got so\n\n573\n00:30:58.230 --> 00:30:59.090\nmuch more to again,\n\n574\n00:30:59.090 --> 00:31:02.630\nit's such an awesome topic, but we are\ngonna have to save it for a part three.\n\n575\n00:31:02.630 --> 00:31:05.475\nWe're gonna work on DNS\nthe miniseries coming up.\n\n576\n00:31:05.475 --> 00:31:06.710\n&gt;&gt; [LAUGH]\n&gt;&gt; Mike, before we do,\n\n577\n00:31:06.710 --> 00:31:08.890\nall joking aside,\nbefore we do end this one, but\n\n578\n00:31:08.890 --> 00:31:11.230\ndo you got anything else you'd\nlike to throw in this one.\n\n579\n00:31:11.230 --> 00:31:14.580\n&gt;&gt; I do but I guess we're out of time,\nso no not for this episode.\n\n580\n00:31:14.580 --> 00:31:15.890\nThere is more to come, though.\n\n581\n00:31:15.890 --> 00:31:16.560\n&gt;&gt; Well, that's awesome.\n\n582\n00:31:16.560 --> 00:31:18.620\nWell, thank you for being here and\nwe thank you for watching.\n\n583\n00:31:18.620 --> 00:31:20.250\nWe're gonna go ahead and\ntake the time to sign out.\n\n584\n00:31:20.250 --> 00:31:22.810\nFor ITProTV,\nI've been your host, Wes Bryan.\n\n585\n00:31:22.810 --> 00:31:23.480\n&gt;&gt; And I'm Mike Rodrick.\n\n586\n00:31:23.480 --> 00:31:25.215\n&gt;&gt; And we'll see you next time.\n\n587\n00:31:25.215 --> 00:31:31.107\n&gt;&gt; [MUSIC]\n\n588\n00:31:31.107 --> 00:31:33.570\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "192473564"
        },
        {
          "description": "In this episode, Wes and Mike continue their discussion on the world of DNS. This episode with cover delegation DNS namespaces, configuring DNS through Windows Powershell, DNS socket pools, cache locking, logging, recursion and delegating administration.",
          "length": "2145",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-3-install_and_configure_dns_servers_pt3-111516.00_35_29_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-3-install_and_configure_dns_servers_pt3-111516.00_35_29_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-3-install_and_configure_dns_servers_pt3-111516.00_35_29_24.Still001-sm.jpg",
          "title": "Install and Configure DNS Servers Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:03.335\nWelcome to ITPro.TV,\nI'm your host Don [CROSSTALK].\n\n2\n00:00:03.335 --> 00:00:05.680\nComing at you live from San Franscisco,\nCalifornia.\n\n3\n00:00:05.680 --> 00:00:06.519\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.519 --> 00:00:08.192\n[MUSIC]\n\n5\n00:00:08.192 --> 00:00:11.013\nYou're watching ITPro.TV.\n\n6\n00:00:11.013 --> 00:00:14.631\n&gt;&gt; Welcome back to another\nexciting episode here at ITPro.TV.\n\n7\n00:00:14.631 --> 00:00:19.236\nI'm your host, Wes Bryan, and in today's\nepisode we're continuing through our\n\n8\n00:00:19.236 --> 00:00:21.618\nnetworking and Windows Server 2016.\n\n9\n00:00:21.618 --> 00:00:26.110\nAnd we're coming back with not a part two,\nbut a part three here in DNS.\n\n10\n00:00:26.110 --> 00:00:29.110\nAnd joining me back in the studios again\nis none other than Mr. Mike Rodrick.\n\n11\n00:00:29.110 --> 00:00:29.915\nMike, how you doing, sir?\n\n12\n00:00:29.915 --> 00:00:30.920\n&gt;&gt; [LAUGH] I'm doing good.\n\n13\n00:00:30.920 --> 00:00:32.370\nThanks for having me back for,\nas you said,\n\n14\n00:00:32.370 --> 00:00:35.750\nour miniseries on DNS\nthat we're going through.\n\n15\n00:00:35.750 --> 00:00:37.130\nWe are getting close to the end.\n\n16\n00:00:37.130 --> 00:00:40.298\nThere's probably gonna be one more part,\njust don't tell Wes yet.\n\n17\n00:00:40.298 --> 00:00:42.020\n[LAUGH] All right, all right.\n\n18\n00:00:42.020 --> 00:00:45.790\nSo yes, we left off, we had talked\nabout root hints, and forwarders, and\n\n19\n00:00:45.790 --> 00:00:49.410\nconditional forwarding when it comes to\nconfiguring our DNS server to be able to\n\n20\n00:00:49.410 --> 00:00:53.960\nresolve internal names, external names,\nhow we handle that process.\n\n21\n00:00:53.960 --> 00:00:57.330\nThe next thing I wanna talk about is\ndelegation, and we've got to kind of go\n\n22\n00:00:57.330 --> 00:01:00.330\nback to the beginning to understand\nwhy we need to delegate.\n\n23\n00:01:00.330 --> 00:01:05.190\nSo let's go back to my drawing here, and\nwe're gonna modify it a little bit again.\n\n24\n00:01:05.190 --> 00:01:07.730\nI'm gonna move client out of\nthe way just for a second.\n\n25\n00:01:07.730 --> 00:01:10.460\nAnd we're gonna add a domain\ninto the picture here.\n\n26\n00:01:10.460 --> 00:01:13.500\nCuz this is really where\nthis comes into play.\n\n27\n00:01:13.500 --> 00:01:19.180\nSo let's find a triangle, cuz that's\ntypically our symbol for a domain.\n\n28\n00:01:19.180 --> 00:01:24.090\nAnd I'm gonna say here's\nour ITPro.TV domain, right.\n\n29\n00:01:24.090 --> 00:01:28.720\nAnd obviously in that domain\nwe've got our DNS server\n\n30\n00:01:28.720 --> 00:01:33.410\nthat handles all of the names\nthat end in ITPro.TV.\n\n31\n00:01:33.410 --> 00:01:34.620\nBut we've grown.\n\n32\n00:01:34.620 --> 00:01:36.170\nWe are growing.\n\n33\n00:01:36.170 --> 00:01:38.250\nFour studios, five studios.\n\n34\n00:01:38.250 --> 00:01:39.830\nWho knows what's next?\n\n35\n00:01:39.830 --> 00:01:44.480\nLet's say we're growing logically,\nas well, that we've added a child domain.\n\n36\n00:01:44.480 --> 00:01:47.420\nAnd I'm gonna have trouble\nfitting this on the screen.\n\n37\n00:01:47.420 --> 00:01:50.111\nSo let's just move everybody over here.\n\n38\n00:01:50.111 --> 00:01:55.240\nWe'll go root and then the TV,\nand then the ITPro.TV.\n\n39\n00:01:56.630 --> 00:01:59.290\nIf I can get that guy over there,\nlet's send him.\n\n40\n00:01:59.290 --> 00:02:01.879\nAgain, doing this on\nthe fly is always fun.\n\n41\n00:02:01.879 --> 00:02:03.935\nWe'll put him in there.\n\n42\n00:02:03.935 --> 00:02:05.787\nAnd that didn't actually help me out.\n\n43\n00:02:05.787 --> 00:02:11.180\nLet's move it up a little bit and\nput that guy there, all right.\n\n44\n00:02:11.180 --> 00:02:12.385\nSo we got a child domain.\n\n45\n00:02:12.385 --> 00:02:15.228\nHe's not really directly below there,\nbut that's okay.\n\n46\n00:02:15.228 --> 00:02:19.678\nWe're gonna steal an arrow and\n\n47\n00:02:19.678 --> 00:02:24.649\nmove this guy over here, as well.\n\n48\n00:02:24.649 --> 00:02:25.630\nSo I've got a child domain.\n\n49\n00:02:25.630 --> 00:02:27.590\nNormally this would be\ndrawn kind of like that.\n\n50\n00:02:27.590 --> 00:02:29.370\nI guess I could just\nscroll down a little bit.\n\n51\n00:02:29.370 --> 00:02:30.680\nHow about that, Mike?\n\n52\n00:02:30.680 --> 00:02:33.200\nThink smarter, not harder, or something.\n\n53\n00:02:33.200 --> 00:02:36.225\nAll right, so let's say we've got\nanother domain and let's call this one,\n\n54\n00:02:36.225 --> 00:02:40.660\nChild.ITPro.TV because I'm so\ndarn creative.\n\n55\n00:02:40.660 --> 00:02:45.045\nAnd I'm gonna throw another server cuz of\ncourse we have a domain controller for\n\n56\n00:02:45.045 --> 00:02:47.460\nChild.ITPro.TV.\n\n57\n00:02:47.460 --> 00:02:53.218\nAnd we'll go ahead and call him Child.\n\n58\n00:02:55.767 --> 00:03:00.770\nYeah, and we had a little glitch there,\nand I don't know what I clicked.\n\n59\n00:03:00.770 --> 00:03:02.360\nAnd I don't know where he went.\n\n60\n00:03:02.360 --> 00:03:07.822\nSo that server blew up, and we're gonna\ntake another server and put it out here.\n\n61\n00:03:07.822 --> 00:03:10.190\nAnd, gosh darn,\nget this guy to play along.\n\n62\n00:03:10.190 --> 00:03:17.617\nWe're going to do some white text for\nhim and we're gonna call it Child.\n\n63\n00:03:19.671 --> 00:03:21.730\nAnd I'll put it on the bottom so\nwe can actually see that.\n\n64\n00:03:22.770 --> 00:03:26.738\nThere we go, so that's their domain\ncontroller for Child.ITPro.TV.\n\n65\n00:03:26.738 --> 00:03:27.700\nIt took forever.\n\n66\n00:03:27.700 --> 00:03:30.240\nIt takes a long time in the real\nworld to set up a child domain.\n\n67\n00:03:30.240 --> 00:03:31.331\nNo, I'm just kidding.\n\n68\n00:03:31.331 --> 00:03:33.700\nAll right, but\nhere's the way this is gonna work.\n\n69\n00:03:33.700 --> 00:03:35.810\nSo Child,\nthat's a separate name space, right?\n\n70\n00:03:35.810 --> 00:03:40.831\nWe've got ITPro.TV and\nI've got nodes Client1.ITPro.TV,\n\n71\n00:03:40.831 --> 00:03:45.600\nClient2.ITPro.TV, file so File01.ITPro.TV.\n\n72\n00:03:45.600 --> 00:03:47.700\nWell, this is a child\ndomain Child.ITPro.TV and\n\n73\n00:03:47.700 --> 00:03:50.976\nthere is gonna be nodes in there.\n\n74\n00:03:50.976 --> 00:03:57.620\nClient01.Child.ITPro.TV,\nClient2.Child.ITPro.TV ect., ect.\n\n75\n00:03:57.620 --> 00:04:01.870\nWell, in the grand scheme of things,\nthough, this DNS server up here is\n\n76\n00:04:01.870 --> 00:04:07.440\nauthoritative or responsible for\nall of the names that end in ITPro.TV.\n\n77\n00:04:07.440 --> 00:04:12.198\nNo matter how far out to the left they go,\nincluding Child.ITPro.TV,\n\n78\n00:04:12.198 --> 00:04:13.760\nhe handles all of that.\n\n79\n00:04:13.760 --> 00:04:18.008\nOkay, but as we grow again,\nwe get this new domain.\n\n80\n00:04:18.008 --> 00:04:22.563\nThe admins down in Child.ITPro.TV\nare frustrated because every\n\n81\n00:04:22.563 --> 00:04:25.570\ntime they need to change\na resource record,\n\n82\n00:04:25.570 --> 00:04:30.900\nadd a DNS entry, do anything like that,\nthey can't handle it here.\n\n83\n00:04:30.900 --> 00:04:33.305\nThey're gonna have to call\nan admin in this other domain and\n\n84\n00:04:33.305 --> 00:04:36.390\nsay hey, look, can you modify\nthe record for this file server?\n\n85\n00:04:36.390 --> 00:04:40.670\nWe've changed its IP address, right,\nor something along those lines.\n\n86\n00:04:40.670 --> 00:04:45.610\nSo what we wanna do is we\nwanna give Child.ITPro.TV\n\n87\n00:04:45.610 --> 00:04:48.140\ncontrol over their own resource records,\nright?\n\n88\n00:04:48.140 --> 00:04:53.790\nLet this guy handle all the names\nthat end in Child.ITPro.TV.\n\n89\n00:04:53.790 --> 00:04:56.320\nThat process is known as delegation.\n\n90\n00:04:56.320 --> 00:04:57.840\nI'm gonna delegate authority for\n\n91\n00:04:57.840 --> 00:05:01.210\nthat small portion of the name space,\nChild.ITPro.TV.\n\n92\n00:05:01.210 --> 00:05:05.507\nI'm gonna delegate it away to\nthis DNS server down here, right?\n\n93\n00:05:05.507 --> 00:05:07.010\nThat's known as delegation.\n\n94\n00:05:07.010 --> 00:05:11.380\nThen they'll be responsible for\nany names that end in Child.ITPro.TV.\n\n95\n00:05:11.380 --> 00:05:15.160\nThis guy would still be responsible for\nITPro.TV and\n\n96\n00:05:15.160 --> 00:05:20.628\nanything else we came up with,\nTest.ITPro.TV, South.US.ITPro.TV.\n\n97\n00:05:20.628 --> 00:05:25.143\nAgain anything that ends in\nITPro.TV except Child.ITPro.TV,\n\n98\n00:05:25.143 --> 00:05:29.080\nbecause we delegated that away from him,\nall right?\n\n99\n00:05:29.080 --> 00:05:30.760\nThat's the process of delegation.\n\n100\n00:05:30.760 --> 00:05:33.220\nSo let's see how this works\nout in the real world.\n\n101\n00:05:33.220 --> 00:05:37.765\nI have here is lab, and\nI do have a child domain set up.\n\n102\n00:05:37.765 --> 00:05:44.000\nWe've got DCO2 somewhere.\n\n103\n00:05:44.000 --> 00:05:46.673\nMaybe, maybe not.\n\n104\n00:05:46.673 --> 00:05:49.024\nThere he is.\n\n105\n00:05:49.024 --> 00:05:52.780\nSo DCOO2, and we'll do administrator and\n\n106\n00:05:52.780 --> 00:05:56.950\nmy super secret password\nto connect over there.\n\n107\n00:06:00.070 --> 00:06:02.960\nAll right, so here's child,\nbut he's not running DNS.\n\n108\n00:06:02.960 --> 00:06:05.850\nSo we're going to install\nDNS on this machine.\n\n109\n00:06:05.850 --> 00:06:08.160\nNow it's already running Active Directory.\n\n110\n00:06:08.160 --> 00:06:11.770\nRemember, you don't have to install\nDNS when you install Active Directory\n\n111\n00:06:11.770 --> 00:06:16.008\nif you've got DNS somewhere else on\nthe network, which I did in Lab.ITPro.TV.\n\n112\n00:06:16.008 --> 00:06:19.426\nSo in Child.Lab.ITPro.TV,\nwe're gonna install DNS and\n\n113\n00:06:19.426 --> 00:06:21.171\nthat's not where you do that.\n\n114\n00:06:21.171 --> 00:06:24.047\nLet's go Manage &gt; Add Roles and Features.\n\n115\n00:06:24.047 --> 00:06:26.652\nAnd we'll run through this pretty\nquick cuz we've seen this already.\n\n116\n00:06:26.652 --> 00:06:31.571\nI will do Next, Next, and\nwe're gonna install DNS.\n\n117\n00:06:31.571 --> 00:06:33.269\nI'll add the features, and\n\n118\n00:06:33.269 --> 00:06:37.250\nthen just Next all the way through\nuntil we get the Install button.\n\n119\n00:06:37.250 --> 00:06:41.890\nAnd we'll click Install, and it'll install\nDNS .And it's not gonna take it very long.\n\n120\n00:06:41.890 --> 00:06:46.833\nSo once that gets installed,\nnow this guy is running DNS, and\n\n121\n00:06:46.833 --> 00:06:50.175\nso he's got his own database down there.\n\n122\n00:06:52.037 --> 00:06:56.672\nAll right, and he can start storing\nrecords for Child.Lab.ITPro.TV.\n\n123\n00:06:56.672 --> 00:07:01.058\nThe problem is this guy up here\nstill thinks he's in charge of\n\n124\n00:07:01.058 --> 00:07:07.620\nChild.Lab.ITPro.TV, because he's in charge\nof everything that ends in ITPro.TV.\n\n125\n00:07:07.620 --> 00:07:09.040\nHe doesn't know this guy's here,\n\n126\n00:07:09.040 --> 00:07:11.810\nthat this guy's now gonna start\ntaking care of those records.\n\n127\n00:07:11.810 --> 00:07:14.030\nSo again, that's the act of delegation.\n\n128\n00:07:14.030 --> 00:07:18.678\nSo back over here, it's still\nchugging along, just about done,\n\n129\n00:07:18.678 --> 00:07:21.341\n63, 59, 59% of the way done.\n\n130\n00:07:23.340 --> 00:07:26.210\nAnd we'll give it just\nanother second to finish up.\n\n131\n00:07:26.210 --> 00:07:29.070\n&gt;&gt; And you know, Mike, I do have\na question while it's installing here.\n\n132\n00:07:29.070 --> 00:07:30.852\nWhat happens after the delegation is done?\n\n133\n00:07:30.852 --> 00:07:33.300\nWe might even see this, so\nI might be jumping ahead.\n\n134\n00:07:33.300 --> 00:07:38.911\nIf somebody does in Child.ITPro.TV decides\nthat hey, they want to create a record,\n\n135\n00:07:38.911 --> 00:07:42.740\nis the parent aware of it or\ndid it just say that's it?\n\n136\n00:07:42.740 --> 00:07:47.270\nYou are in control and if somebody tries\nto resolve a name that I don't understand\n\n137\n00:07:47.270 --> 00:07:49.850\nbut I can see that it's in your domain,\nI'm just gonna point them to you.\n\n138\n00:07:49.850 --> 00:07:50.780\n&gt;&gt; That's what it does.\n\n139\n00:07:50.780 --> 00:07:52.730\nIt just says I don't know\nanything more about it,\n\n140\n00:07:52.730 --> 00:07:55.710\nall I know cuz you'll see\nwhat's gonna happen on DC1.\n\n141\n00:07:55.710 --> 00:07:58.902\nLet me click Okay or\nClose on this one, all right.\n\n142\n00:07:58.902 --> 00:08:04.180\nIf we go back to Lab.ITPro.TV's\ndomain controller, And we look,\n\n143\n00:08:04.180 --> 00:08:09.276\nhe has a zone for child.itpro.tv,\nor child.lab.itpro.tv,\n\n144\n00:08:09.276 --> 00:08:12.650\nright, he has all these resource records.\n\n145\n00:08:12.650 --> 00:08:14.778\nIn fact, there's the resource record for\n\n146\n00:08:14.778 --> 00:08:16.730\nDC02, what I'm installing\nDNS on right now.\n\n147\n00:08:17.830 --> 00:08:20.710\nOnce I do the delegation,\nall that's gonna go away.\n\n148\n00:08:20.710 --> 00:08:22.860\nEverything under child is gonna be gone.\n\n149\n00:08:22.860 --> 00:08:26.820\nExcept for a pointer that says,\nyou're no longer authoritative for\n\n150\n00:08:26.820 --> 00:08:28.730\nchild, you don't have\nanything to do with it.\n\n151\n00:08:28.730 --> 00:08:31.900\nIf anybody asks,\njust send them here, all right?\n\n152\n00:08:31.900 --> 00:08:33.000\nSo, does that answer your question?\n\n153\n00:08:33.000 --> 00:08:33.540\n&gt;&gt; Absolutely.\n\n154\n00:08:33.540 --> 00:08:35.940\n&gt;&gt; It's just gonna now\npoint it to the other guy.\n\n155\n00:08:35.940 --> 00:08:38.980\nSo let's make sure we got DNS installed,\nand\n\n156\n00:08:38.980 --> 00:08:44.911\nit's successful back there on childdc02,\nand we'll take a look at our DNS console.\n\n157\n00:08:47.793 --> 00:08:52.445\nRight, so right now, we're kind of in\na limbo state, because DC02 thinks, hey,\n\n158\n00:08:52.445 --> 00:08:55.330\nI'm authoritative for child.labs.itpro.tv.\n\n159\n00:08:55.330 --> 00:08:57.069\nI'm gonna have a zone file for it.\n\n160\n00:08:59.090 --> 00:09:02.758\nAll right,\nhe hasn't created it yet, has he?\n\n161\n00:09:02.758 --> 00:09:07.029\nBut now he's running DNS, so\nhe can become authoritative or\n\n162\n00:09:07.029 --> 00:09:09.490\nstart hosting those records.\n\n163\n00:09:09.490 --> 00:09:13.388\nSo, once that's done, that's when we're\ngonna go and we're gonna delegate.\n\n164\n00:09:13.388 --> 00:09:16.854\nSo let's create,\nwe are gonna create a new zone first.\n\n165\n00:09:16.854 --> 00:09:20.664\nNow, we're gonna talk much more about\nzones and zone types in upcoming episodes.\n\n166\n00:09:20.664 --> 00:09:23.725\nSo, just quickly,\n\n167\n00:09:23.725 --> 00:09:29.488\nI'm gonna create a very basic zone for\n\n168\n00:09:29.488 --> 00:09:33.641\nchild.lab.itpro.tv.\n\n169\n00:09:33.641 --> 00:09:38.855\nMake sure I use the right names there,\nall right?\n\n170\n00:09:38.855 --> 00:09:43.573\nAnd we'll click next, and we'll do secure\nupdates, we'll talk more about that, and\n\n171\n00:09:43.573 --> 00:09:47.108\nfinish, so now he's got that zone for\nchild.lab.it.protv.\n\n172\n00:09:47.108 --> 00:09:49.099\nAnd I've got two DNS\nservers hosting a zone,\n\n173\n00:09:49.099 --> 00:09:52.110\neach one of them think they're\nthe one that should host it.\n\n174\n00:09:52.110 --> 00:09:54.120\nSo that's why we have to go back to.\n\n175\n00:09:56.686 --> 00:10:01.111\nThe parent domain can say,\nall right, right-click on child, and\n\n176\n00:10:01.111 --> 00:10:05.900\nchoose New Delegation, and\nit's simply creating the pointer.\n\n177\n00:10:05.900 --> 00:10:09.237\nI'm gonna click Next on the wizard,\nand it says,\n\n178\n00:10:09.237 --> 00:10:12.904\nwhat is the name of the DNS\ndomain you want to delegate?\n\n179\n00:10:12.904 --> 00:10:18.716\nChild [SOUND] spell\nthe name of the DNS domain.\n\n180\n00:10:18.716 --> 00:10:20.190\nThat's not right.\n\n181\n00:10:23.883 --> 00:10:25.050\nSilly me.\n\n182\n00:10:25.050 --> 00:10:25.982\nI right clicked on the wrong one.\n\n183\n00:10:25.982 --> 00:10:29.755\nI right clicked on the child, so it's\nassuming there is a domain below that.\n\n184\n00:10:29.755 --> 00:10:32.400\nTest.child.lab, I right\nclicked on the wrong one.\n\n185\n00:10:32.400 --> 00:10:38.830\nSo we get lab.itpro.tv, we right click and\nwe choose new delegation, okay?\n\n186\n00:10:38.830 --> 00:10:43.070\nWe click Next on the wizard,\nand we're gonna delegate child.\n\n187\n00:10:43.070 --> 00:10:46.340\nNotice I'm not putting the full name, it's\ngonna take care of putting the full name\n\n188\n00:10:46.340 --> 00:10:51.690\ndown here, I put child, and\nit says it must be child.lab.itpro.tv.\n\n189\n00:10:51.690 --> 00:10:53.660\nWe'll click Next on our wizard.\n\n190\n00:10:53.660 --> 00:10:58.178\nWhat is the IP address of the DNS server\nthat's now gonna host those records?\n\n191\n00:10:58.178 --> 00:11:04.219\nAnd that is going to be dc02.child,\n\n192\n00:11:04.219 --> 00:11:09.527\nif I can remember the names I used,\n\n193\n00:11:09.527 --> 00:11:15.031\n.lab.itpro.tv, oops, .tv.\n\n194\n00:11:15.031 --> 00:11:20.643\nAnd the IP address is 10.0.100.\n\n195\n00:11:20.643 --> 00:11:21.874\nLet's verify.\n\n196\n00:11:21.874 --> 00:11:25.490\nI'm pretty sure I know,\nbut just to make sure.\n\n197\n00:11:25.490 --> 00:11:26.884\nLet's take a peek at that.\n\n198\n00:11:26.884 --> 00:11:31.675\nChild.lab.itpro.tv, and it's 199.\n\n199\n00:11:31.675 --> 00:11:35.910\nIf you get that wrong,\nit will cause things to not work so well.\n\n200\n00:11:35.910 --> 00:11:41.230\nSo that was 199, you notice it validated,\nit says I see you,\n\n201\n00:11:41.230 --> 00:11:46.950\nwe're good to go, we click OK, and\nthen we click next and finish.\n\n202\n00:11:46.950 --> 00:11:49.410\nAll right, and it's telling me the name\nalready exists to change the delegation,\n\n203\n00:11:49.410 --> 00:11:51.480\nright click the delegation,\nselect properties.\n\n204\n00:11:51.480 --> 00:11:54.880\nWe'll click OK, and you know what?\n\n205\n00:11:54.880 --> 00:11:58.120\nThey have changed that,\nnormal, hm, interesting.\n\n206\n00:11:58.120 --> 00:12:01.770\nLet's see if we remove that,\nI might have gotten my steps backwards,\n\n207\n00:12:02.870 --> 00:12:07.600\nI went ahead and create that zone\nover here, and it's now liking that.\n\n208\n00:12:07.600 --> 00:12:16.001\nSo let's delete that And\nlet's try that again.\n\n209\n00:12:21.781 --> 00:12:24.089\nYes to Window location.\n\n210\n00:12:24.089 --> 00:12:28.923\n[INAUDIBLE] Interesting.\n\n211\n00:12:33.281 --> 00:12:35.280\nI see what they're saying\nthey want me to do.\n\n212\n00:12:35.280 --> 00:12:36.050\nThat's crazy.\n\n213\n00:12:37.110 --> 00:12:38.640\nLet me cancel out of that.\n\n214\n00:12:38.640 --> 00:12:41.930\nAnd what they're saying is\nbecause I already have this zone,\n\n215\n00:12:44.260 --> 00:12:47.430\nthey want me to delete it, and\nthen create the delegation.\n\n216\n00:12:47.430 --> 00:12:48.856\nSo let's delete that.\n\n217\n00:12:52.257 --> 00:12:55.934\nAnd then let's recreate that delegation.\n\n218\n00:12:55.934 --> 00:12:58.210\nSo, it's not liking the fact\nthat I had that there already.\n\n219\n00:12:58.210 --> 00:13:03.230\nSo we'll just do the same thing,\nchild.lab.itpro.tv.\n\n220\n00:13:03.230 --> 00:13:07.076\nWe know the name of the server\n\n221\n00:13:07.076 --> 00:13:12.530\nwas DC02.child.lab.itpro.tv,\n\n222\n00:13:12.530 --> 00:13:15.736\nand the IP address was,\n\n223\n00:13:15.736 --> 00:13:22.377\n10.0.100.199 And I get a red x now,\n\n224\n00:13:22.377 --> 00:13:26.240\nbecause he doesn't have that zone anymore,\nbut that's okay, it should create it.\n\n225\n00:13:26.240 --> 00:13:27.730\nWe'll click OK.\n\n226\n00:13:27.730 --> 00:13:30.000\nWe'll click Next and then Finish.\n\n227\n00:13:31.510 --> 00:13:32.980\nAnd now we have our delegation.\n\n228\n00:13:32.980 --> 00:13:35.050\nSo now you can see the difference.\n\n229\n00:13:35.050 --> 00:13:37.690\nBefore I had a yellow folder here, and\n\n230\n00:13:37.690 --> 00:13:40.250\nthat was the place to actually\nstore resource records.\n\n231\n00:13:40.250 --> 00:13:44.270\nNow I've got this grayed out little\nfolder, and the only thing that's in that\n\n232\n00:13:44.270 --> 00:13:50.350\nfolder is this one pointer to\nthe new DNS server in child, right?\n\n233\n00:13:50.350 --> 00:13:51.943\nIf we go take a look at child.\n\n234\n00:13:55.674 --> 00:14:02.470\nAnd we refresh our screen, we'll see we\nnow have a zone for, and I don't yet.\n\n235\n00:14:04.890 --> 00:14:07.140\nWe are gonna have to create,\nI should not have deleted this one.\n\n236\n00:14:07.140 --> 00:14:08.710\nI should've deleted the other one.\n\n237\n00:14:08.710 --> 00:14:09.710\nSo let's recreate that.\n\n238\n00:14:09.710 --> 00:14:14.563\nWe'll go ahead and\ngive him a primary zone for\n\n239\n00:14:14.563 --> 00:14:17.509\nchild.lab.itpro.tv.\n\n240\n00:14:20.650 --> 00:14:23.150\nAnd there we go, right?\n\n241\n00:14:23.150 --> 00:14:23.980\nSo now we're set up.\n\n242\n00:14:23.980 --> 00:14:26.360\nNow, I did that a little bit backwards.\n\n243\n00:14:26.360 --> 00:14:29.360\nI deleted the wrong one\nwhen I got that error.\n\n244\n00:14:29.360 --> 00:14:32.800\nSo, let's make sure we understand\nwhat was going on there.\n\n245\n00:14:32.800 --> 00:14:38.660\nInitially, DC01 with authoritative for\nITProTV, including child.\n\n246\n00:14:38.660 --> 00:14:41.220\nAnd there was an actual zone here for\nchild.\n\n247\n00:14:41.220 --> 00:14:45.338\nRight, because when I install\nthe domain controller for\n\n248\n00:14:45.338 --> 00:14:50.163\nchild.lab.itpro.tv, I pointed\nit to this guy's IP address.\n\n249\n00:14:50.163 --> 00:14:51.570\nI did it intentionally.\n\n250\n00:14:51.570 --> 00:14:54.778\nI didn't want to install DNS, so\nI could show you the process.\n\n251\n00:14:54.778 --> 00:14:57.121\nAnd so, that created a zone\ninstead of a delegation,\n\n252\n00:14:57.121 --> 00:14:58.740\nso I needed to get rid of that.\n\n253\n00:14:58.740 --> 00:15:05.620\nBut when you do the delegation, this\npart is just telling the server for lab,\n\n254\n00:15:05.620 --> 00:15:10.630\nthat this is the person now\nresponsible for child.lab.itpro.tv.\n\n255\n00:15:10.630 --> 00:15:13.100\nSo, that's only half the battle, right?\n\n256\n00:15:13.100 --> 00:15:16.450\nI'm telling my DNS server in lab\nyou're no longer responsible for\n\n257\n00:15:16.450 --> 00:15:20.900\nchild, that's where you need to send\nthe queries to for child.lab.itprotv.\n\n258\n00:15:20.900 --> 00:15:22.080\nThat's half of it.\n\n259\n00:15:22.080 --> 00:15:26.020\nIf I didn't create the zone\nover here though, in child,\n\n260\n00:15:27.300 --> 00:15:30.130\nevery byte still point to it, but\nit wouldn't be able to answer anything,\n\n261\n00:15:30.130 --> 00:15:32.800\ncuz he wouldn't have his own file\nto store the resource records.\n\n262\n00:15:32.800 --> 00:15:34.270\nSo, I did have to create that zone.\n\n263\n00:15:34.270 --> 00:15:37.120\nThe delegation wizard did\nnot create that zone for me.\n\n264\n00:15:37.120 --> 00:15:39.732\nSo, understand there's two\nhalves to that puzzle.\n\n265\n00:15:39.732 --> 00:15:44.182\nI got those steps a little bit backward,\nbut you create the delegation, in\n\n266\n00:15:44.182 --> 00:15:49.360\nthe parent zone, you say you're no longer\nresponsible for child that lab in ITProTV.\n\n267\n00:15:49.360 --> 00:15:54.190\nYou create a zone in the child or\nin that subschild domain.\n\n268\n00:15:54.190 --> 00:15:56.563\nI should use different names\ninstead of calling it child.\n\n269\n00:15:56.563 --> 00:15:59.779\nI'm not the most creative, so\nyou have to do both parts,\n\n270\n00:15:59.779 --> 00:16:01.950\ncreate the zone in the child.\n\n271\n00:16:01.950 --> 00:16:05.014\nCreate the pointer in the parent,\nand then everything works.\n\n272\n00:16:05.014 --> 00:16:09.590\nAll right, so that is delegation.\n\n273\n00:16:09.590 --> 00:16:12.430\nAll right, next thing I wanna\ntalk about are some more\n\n274\n00:16:12.430 --> 00:16:15.070\nDNS settings that we need\nto be able to configure.\n\n275\n00:16:15.070 --> 00:16:19.010\nOne is the fact that we can use\nPowerShell, it's not really a setting but\n\n276\n00:16:19.010 --> 00:16:21.820\njust the fact we can use PowerShell.\n\n277\n00:16:21.820 --> 00:16:26.260\nThey have added just about every command\nyou can think of to PowerShell for\n\n278\n00:16:26.260 --> 00:16:29.260\nDNS so any of these\nconfiguration changes that we're\n\n279\n00:16:29.260 --> 00:16:32.300\nmaking through the GUI I can\nmake through PowerShell as well.\n\n280\n00:16:32.300 --> 00:16:37.211\nIf I do a get-command and\nlet's do DNS, all right.\n\n281\n00:16:37.211 --> 00:16:44.050\nYou'll see there's quite a few\ncommands that have to deal with DNS.\n\n282\n00:16:44.050 --> 00:16:47.920\nSo for the exam should you know, you don't\nneed to know every one of them obviously,\n\n283\n00:16:47.920 --> 00:16:50.270\nbut you need to be familiar with\nsome of the more basic ones.\n\n284\n00:16:50.270 --> 00:16:54.430\nAnything that we've gone through here\nlike when we start creating zones,\n\n285\n00:16:54.430 --> 00:16:56.150\nor creating those delegations.\n\n286\n00:16:56.150 --> 00:16:58.340\nYou might wanna go and\ntry it using PowerShell.\n\n287\n00:16:58.340 --> 00:17:03.100\nFire up our practice labs,\ndo it through the GUI, blow them away.\n\n288\n00:17:03.100 --> 00:17:06.470\nDo it through PowerShell, get familiar\nwith some of those PowerShell commands.\n\n289\n00:17:06.470 --> 00:17:10.693\nFor example, we could do\n\n290\n00:17:10.693 --> 00:17:18.546\na add-dnsserverprimaryzone-networkid.\n\n291\n00:17:18.546 --> 00:17:26.326\nAnd I could do something\nlike 10.0.100.0/16.\n\n292\n00:17:26.326 --> 00:17:30.234\nAnd what else do I need with that one,\na replication scope.\n\n293\n00:17:30.234 --> 00:17:34.140\nThat could be forest and I'll hit Enter.\n\n294\n00:17:34.140 --> 00:17:39.228\nAnd I'm okay that you don't know exactly,\nwow, parameter network ID is incorrect.\n\n295\n00:17:39.228 --> 00:17:41.995\n10.0.100/16.\n\n296\n00:17:41.995 --> 00:17:43.679\nSilly me.\n\n297\n00:17:47.749 --> 00:17:49.040\nThere we go.\n\n298\n00:17:49.040 --> 00:17:52.350\nYou need to make sure you understand\nhow subnet masks works as well,\n\n299\n00:17:52.350 --> 00:17:54.060\nsorry about that.\n\n300\n00:17:54.060 --> 00:17:57.820\nSo yeah, again I'm not so\nconcerned with what I just created.\n\n301\n00:17:57.820 --> 00:18:02.110\nI'm more concerned with the fact that I\nwas able to use PowerShell to do it, okay.\n\n302\n00:18:02.110 --> 00:18:06.100\nWe'll talk about what, in this case,\nreverse lookup zones are cuz that's\n\n303\n00:18:06.100 --> 00:18:10.550\nwhat I just created is this\nzone right here, all right.\n\n304\n00:18:10.550 --> 00:18:14.160\nBut the point is hey, you can do all this\nfrom PowerShell which means I can script\n\n305\n00:18:14.160 --> 00:18:18.170\nall of this, right,\nthat's the power behind PowerShell.\n\n306\n00:18:18.170 --> 00:18:21.240\nAll right, next thing DNS Socket Pool,\n\n307\n00:18:21.240 --> 00:18:24.420\nlet's go back over to PowerShell and\nlet's take a look.\n\n308\n00:18:24.420 --> 00:18:30.180\nI'm gonna do a command, Get-DnsServer,\nnow I'm gonna hit Enter.\n\n309\n00:18:30.180 --> 00:18:34.340\nAnd you're gonna see a whole\nbunch of stuff fly by,\n\n310\n00:18:34.340 --> 00:18:38.710\nlots of different settings or\nproperties, I guess you should say,\n\n311\n00:18:38.710 --> 00:18:43.270\non this DNS server, all right,\ngreat command to know.\n\n312\n00:18:43.270 --> 00:18:48.810\nOne that I'm looking for\nis all the way back at the beginning and\n\n313\n00:18:48.810 --> 00:18:51.960\nit is SocketPoolSize.\n\n314\n00:18:51.960 --> 00:18:54.920\nAnd how I love my trackpad.\n\n315\n00:18:56.610 --> 00:19:00.442\nThere we go, SocketPoolSize,\nthe default is 2,500.\n\n316\n00:19:00.442 --> 00:19:02.720\nWhat the heck is SocketPoolSize?\n\n317\n00:19:02.720 --> 00:19:07.930\nWell this is when DNS responds to queries,\nit can\n\n318\n00:19:07.930 --> 00:19:12.780\nuse random ports to help prevent certain\ntypes of attacks against the DNS server,\n\n319\n00:19:12.780 --> 00:19:17.710\nto protect from certain types of\nspoofing that be against the DNS server.\n\n320\n00:19:17.710 --> 00:19:21.970\nSo, the SocketPoolSize is saying hey,\nyou don't have to use port 53 every time,\n\n321\n00:19:21.970 --> 00:19:26.540\nright, you can use other ports to create\nthose sockets to respond to those queries.\n\n322\n00:19:26.540 --> 00:19:31.770\nAnd what's you're saying here is there's a\npool of 2,500 ports that you can pick from\n\n323\n00:19:31.770 --> 00:19:36.280\nso you can increase this pool size which\njust means more randomization, right.\n\n324\n00:19:36.280 --> 00:19:39.810\nIf you gave him three, if I watch your DNS\nserver long enough I'll probably figure\n\n325\n00:19:39.810 --> 00:19:41.700\nout what three ports it's allowed to use.\n\n326\n00:19:41.700 --> 00:19:46.471\nI give him 2,500 it's gonna take me a lot\nlonger to try to figure out what ports\n\n327\n00:19:46.471 --> 00:19:50.291\nare available, if I give him more\nthan that even longer, right?\n\n328\n00:19:50.291 --> 00:19:53.870\nSo the more ports you give it\nthe more secure it is is the idea.\n\n329\n00:19:54.990 --> 00:20:01.031\nThe default is 2,500, these can go from 0\nmeaning don't randomize at all to 10,000,\n\n330\n00:20:01.031 --> 00:20:03.770\nso you can go all the way up to 10,000.\n\n331\n00:20:03.770 --> 00:20:07.810\nNow this is one that I find very odd\n\n332\n00:20:07.810 --> 00:20:11.460\nin the fact that I cannot\nset this through PowerShell.\n\n333\n00:20:11.460 --> 00:20:15.080\nAll those commands I just showed you, none\nof them have to do with SocketPoolSize.\n\n334\n00:20:15.080 --> 00:20:18.130\nI don't know if that's a sign\nthat that part is going away and\n\n335\n00:20:18.130 --> 00:20:21.200\nit's gonna be an unconfigurable property,\nI don't know.\n\n336\n00:20:21.200 --> 00:20:24.170\nMaybe Microsoft,\nI'm sure they have a good reason for\n\n337\n00:20:24.170 --> 00:20:26.710\nit but you cannot set that property.\n\n338\n00:20:26.710 --> 00:20:32.000\nYou can see it but you can't set it using\nPowerShell, so it's a DNS CMD command.\n\n339\n00:20:32.000 --> 00:20:33.910\nWhich is a good old command prompt,\nthe old black and\n\n340\n00:20:33.910 --> 00:20:39.211\nwhite command prompt command so\nit's dnscmd/config/socketpoolsize.\n\n341\n00:20:39.211 --> 00:20:46.811\nAnd then you just specify your value,\nlet's say we want 5,000.\n\n342\n00:20:46.811 --> 00:20:51.550\nAnd you hit Enter, and\nit tells you it worked.\n\n343\n00:20:51.550 --> 00:20:55.660\nHow do we know,\nwe run another Get-DnsServer.\n\n344\n00:20:55.660 --> 00:20:58.500\nWe scroll back up to the top\nof those results and\n\n345\n00:20:58.500 --> 00:21:02.756\nwe see that we are now at\na SocketPoolSize of 5,000, all right.\n\n346\n00:21:02.756 --> 00:21:06.940\nSo SocketPoolSize controls the number\nof ports it has available to randomize\n\n347\n00:21:06.940 --> 00:21:08.800\nwhen it's responding to queries.\n\n348\n00:21:08.800 --> 00:21:12.680\nWe also need to be able to\nconfigure cache locking, another\n\n349\n00:21:12.680 --> 00:21:17.200\nproperty that Microsoft calls out on\nthe exam, or could call out on the exam.\n\n350\n00:21:18.310 --> 00:21:23.160\nSo let's do our Get-DnsServer again,\nsee if we can find our cache locking\n\n351\n00:21:23.160 --> 00:21:28.470\nsettings and those are going to be,\nif I can find that guy.\n\n352\n00:21:28.470 --> 00:21:31.190\nIt should be right in here.\n\n353\n00:21:31.190 --> 00:21:34.900\nLocking percent underneath\nmy server cache, so\n\n354\n00:21:34.900 --> 00:21:38.162\nthat's the category of properties and\nit's called locking percent.\n\n355\n00:21:38.162 --> 00:21:40.780\nWes had mentioned caching earlier,\n\n356\n00:21:40.780 --> 00:21:45.460\nwe haven't gone into detail about it but\nyour DNS server does cache responses.\n\n357\n00:21:45.460 --> 00:21:49.470\nAnd what that, the short version\nis if Wes goes to Microsoft.com,\n\n358\n00:21:49.470 --> 00:21:52.370\nDNS has to go through the process\nof getting that IP address and\n\n359\n00:21:52.370 --> 00:21:54.160\ngiving it back to Wes, all right.\n\n360\n00:21:54.160 --> 00:21:56.950\nNow Wes's computer can\nconnect to Microsoft.com.\n\n361\n00:21:56.950 --> 00:21:59.960\nIf I 30 seconds later go to Microsoft.com,\n\n362\n00:21:59.960 --> 00:22:03.390\nmy DNS server doesn't have to go\nthrough all those steps again.\n\n363\n00:22:03.390 --> 00:22:07.920\nIt just got the answer for Wes and\nit wrote it down, it cached it, and\n\n364\n00:22:07.920 --> 00:22:10.172\nit said hey Mike,\nyou wanna go to Microsoft?\n\n365\n00:22:10.172 --> 00:22:12.740\nI'm gonna give you the same\nanswer I gave Wes 30 seconds ago,\n\n366\n00:22:12.740 --> 00:22:15.630\nno point in me going and\nlooking it up all over again.\n\n367\n00:22:15.630 --> 00:22:17.150\nI just got the answer 30 seconds ago,\n\n368\n00:22:17.150 --> 00:22:20.200\nit probably hasn't changed,\nyou should be good to go.\n\n369\n00:22:20.200 --> 00:22:25.060\nThat speeds up DNS name resolution, but\n\n370\n00:22:25.060 --> 00:22:30.760\nit also can pose a problem because the bad\nguys can try to poison that cache.\n\n371\n00:22:30.760 --> 00:22:33.800\nIf I can put bad\ninformation in that cache,\n\n372\n00:22:33.800 --> 00:22:37.310\nyour server doesn't have any way of\nvalidating that cached information.\n\n373\n00:22:37.310 --> 00:22:40.250\nIt says hey, this is the answer I got\n30 seconds ago I'm gonna assume that\n\n374\n00:22:40.250 --> 00:22:42.220\nit's still good, I'm gonna hand it out.\n\n375\n00:22:42.220 --> 00:22:46.300\nIf I put bad stuff in there it's\ngoing to say here's a cached entry,\n\n376\n00:22:46.300 --> 00:22:47.340\nI'll just give you that one.\n\n377\n00:22:47.340 --> 00:22:50.900\nIt's not gonna take the time to\nvalidate it because if it was gonna\n\n378\n00:22:50.900 --> 00:22:55.180\ngo validate it why not just get the actual\nIP address from the authoritative source,\n\n379\n00:22:55.180 --> 00:22:57.040\nright, why use the cache at all?\n\n380\n00:22:57.040 --> 00:23:00.000\nSo it doesn't validate anything,\nwhich then that's where we can get\n\n381\n00:23:00.000 --> 00:23:03.780\nsome DNS spoofing and\nDNS poisoning attacks going on.\n\n382\n00:23:03.780 --> 00:23:08.700\nBecause if I can put a bad entry in\nthere and maybe point you to my server,\n\n383\n00:23:08.700 --> 00:23:11.770\nMike with a K Rosoft, or what have you.\n\n384\n00:23:11.770 --> 00:23:13.630\nI can put the right name but\n\n385\n00:23:13.630 --> 00:23:18.550\nthe wrong IP address, host a bad site on\nmy web server with that IP address I used.\n\n386\n00:23:18.550 --> 00:23:22.940\nAnd now I can do some cross-site\nscripting, or who knows what I try to do.\n\n387\n00:23:22.940 --> 00:23:25.950\nSo the cache is actually locked,\n\n388\n00:23:25.950 --> 00:23:31.000\nby default it's set to 100% which means\ncached entries cannot be modified.\n\n389\n00:23:31.000 --> 00:23:36.335\nThe only entries that go in there\nare responses that my server requested.\n\n390\n00:23:36.335 --> 00:23:39.410\nIt puts them in there and\nthose caches can't be modified for\n\n391\n00:23:39.410 --> 00:23:40.380\ntheir entire lifetime.\n\n392\n00:23:40.380 --> 00:23:43.308\nThey have what's called a TTL,\nwe'll talk much more about that later.\n\n393\n00:23:43.308 --> 00:23:48.900\nSo 100% means, let's say the TTL,\nthe time to live, was four hours.\n\n394\n00:23:48.900 --> 00:23:53.064\nWell, while that record is cached, it can\nonly be cached for four hours and then\n\n395\n00:23:53.064 --> 00:23:57.366\nI throw it out, and while it's in there\nfor those four hours it can't be changed.\n\n396\n00:23:57.366 --> 00:24:02.192\nIf I was to change the locking\npercent to 75 Well now\n\n397\n00:24:02.192 --> 00:24:05.933\nit's only locked for 75% of the TTL.\n\n398\n00:24:05.933 --> 00:24:09.410\nFour hours, 75% would be three hours,\nthat means for\n\n399\n00:24:09.410 --> 00:24:12.168\nthe last hour, somebody could modify that.\n\n400\n00:24:12.168 --> 00:24:15.098\nAnd when I say somebody,\nit should be the DNS server going,\n\n401\n00:24:15.098 --> 00:24:18.963\nhey I've updated this record, or I got\nword that this IP address has changed,\n\n402\n00:24:18.963 --> 00:24:21.230\nI can update that information.\n\n403\n00:24:21.230 --> 00:24:24.390\nBut a bad guy can also get in there and\nmodify that as well.\n\n404\n00:24:24.390 --> 00:24:27.020\nSo it's something you've\ngotta think about.\n\n405\n00:24:27.020 --> 00:24:32.320\nDo you want to let those records be\nmodified before their TTL runs out,\n\n406\n00:24:32.320 --> 00:24:35.150\nwhich can ensure that I\nhave correct information?\n\n407\n00:24:35.150 --> 00:24:41.180\nBut also open up us to the opportunity\nof DNS attacks, right.\n\n408\n00:24:41.180 --> 00:24:46.140\nTo change that one,\nit is a PowerShell command for this one.\n\n409\n00:24:46.140 --> 00:24:52.320\nIt's simply going to be,\nlet's clear the screen out.\n\n410\n00:24:52.320 --> 00:24:56.805\nIt simply gonna be set-dnsServerCache\n\n411\n00:25:00.108 --> 00:25:06.004\nAnd -lockingPercent 75.\n\n412\n00:25:06.004 --> 00:25:07.860\nNo red text, all looks good.\n\n413\n00:25:07.860 --> 00:25:13.230\nWe do another get-dnsServer,\nwe scroll back up to the caching section\n\n414\n00:25:14.890 --> 00:25:18.890\nand we should see that my lockingPercent,\nis now 75.\n\n415\n00:25:18.890 --> 00:25:23.170\nAgain, default is 100 you can now set\nit to any value between 0 and 100,\n\n416\n00:25:23.170 --> 00:25:26.970\nit is a percentage of\nthe TTL of the records.\n\n417\n00:25:26.970 --> 00:25:29.960\n&gt;&gt; Now Mike it seems like the last\ncouple of settings that you've\n\n418\n00:25:29.960 --> 00:25:32.300\nlooked at is really\nabout securing your DNS.\n\n419\n00:25:32.300 --> 00:25:35.370\nNow I say securing your DNS,\nI know there's more that you have to do,\n\n420\n00:25:35.370 --> 00:25:39.930\nit starts with basic things like hardening\nyour system, having firewalls in place.\n\n421\n00:25:39.930 --> 00:25:44.071\nBut it seems like this is to help keep\nyour database in an uncorrupted state, or\n\n422\n00:25:44.071 --> 00:25:47.611\nat least some of the methods you\ncan implement, that's the goal.\n\n423\n00:25:47.611 --> 00:25:51.839\n&gt;&gt; Yeah, you're absolutely right Wes, a\nlot of this is all about securing that DNS\n\n424\n00:25:51.839 --> 00:25:55.633\nserver because DNS is an important\npart of our Enterprise environment,\n\n425\n00:25:55.633 --> 00:25:58.680\nit is what allows us to\nconnect all those resources.\n\n426\n00:25:58.680 --> 00:26:02.429\nAnd if somebody can take,\nwhat's a good way to say it?\n\n427\n00:26:02.429 --> 00:26:05.920\nIt's the basis of a lot of attacks,\nit's the first step in a lot of attacks.\n\n428\n00:26:05.920 --> 00:26:09.590\nBecause if I can modify DNS records,\nI can try to redirect you, and\n\n429\n00:26:09.590 --> 00:26:11.220\nthat's never gonna be a good thing.\n\n430\n00:26:11.220 --> 00:26:14.420\nIf I'm directing you somewhere\nyou didn't intend or want to go.\n\n431\n00:26:14.420 --> 00:26:18.090\nSo DNS has to be protected and\nthat's what these settings are about.\n\n432\n00:26:18.090 --> 00:26:20.190\nCouple more I want to look at.\n\n433\n00:26:20.190 --> 00:26:22.340\nDNS logging, so let me zoom back out.\n\n434\n00:26:22.340 --> 00:26:24.060\nLet's get rid of PowerShell here.\n\n435\n00:26:24.060 --> 00:26:29.120\nOops, let's close down,\nwhat happened to my window?\n\n436\n00:26:29.120 --> 00:26:35.050\nLet's get back into full screen mode\nwhere I can actually see everything.\n\n437\n00:26:35.050 --> 00:26:39.080\nThere's my little x,\nwe'll close down PowerShell and\n\n438\n00:26:39.080 --> 00:26:40.980\nback into my DNS server over here.\n\n439\n00:26:40.980 --> 00:26:46.420\nAgain, I'm still on dc01 or\nthat's the DNS server for lab at itpro.tv.\n\n440\n00:26:46.420 --> 00:26:50.840\nDNS logging, so when we look at\nthe properties of the DNS server,\n\n441\n00:26:50.840 --> 00:26:56.540\nthere's two tabs we want to pay attention\nto here, event logging and debug logging.\n\n442\n00:26:56.540 --> 00:26:58.620\nEvent logging, by default logs all events.\n\n443\n00:26:58.620 --> 00:27:02.110\nThese are going to be sent to the DNS\nlog which we can go through and\n\n444\n00:27:02.110 --> 00:27:04.510\nsee in our event viewer system.\n\n445\n00:27:04.510 --> 00:27:06.610\nYou see it maintains a record of errors,\nwarnings and\n\n446\n00:27:06.610 --> 00:27:09.460\nother events encountered\nby the DNS server.\n\n447\n00:27:09.460 --> 00:27:13.350\nI can change the level of\nlogging that we want to do.\n\n448\n00:27:13.350 --> 00:27:17.670\nMaybe I don't really need success events,\nI just want to see errors and\n\n449\n00:27:17.670 --> 00:27:22.580\nwarnings, or just errors, or no events at\nall which usually a very bad thing to do.\n\n450\n00:27:22.580 --> 00:27:27.140\nNow, you definitely at least want to see\nerrors and warnings, if not all events.\n\n451\n00:27:27.140 --> 00:27:29.647\nBut maybe you find that\nthe log is just too big,\n\n452\n00:27:29.647 --> 00:27:33.160\nyou can't find the important\nstuff by doing all of events.\n\n453\n00:27:33.160 --> 00:27:37.370\nWell, maybe you come in here and turn it\ndown to just errors and warnings, right?\n\n454\n00:27:37.370 --> 00:27:40.070\nWe also have Debug Logging.\n\n455\n00:27:40.070 --> 00:27:42.130\nNow this one you want to\nbe really careful with.\n\n456\n00:27:42.130 --> 00:27:43.620\nEvent logging, you want it on.\n\n457\n00:27:43.620 --> 00:27:47.640\nIn fact, ideally you'd leave it on\nall events but if you find that you\n\n458\n00:27:47.640 --> 00:27:50.980\nneed to for your environment,\nyou might want to step it down a little.\n\n459\n00:27:50.980 --> 00:27:55.970\nDebug logging, on the other hand,\nis very intensive logging.\n\n460\n00:27:55.970 --> 00:27:59.310\nIt's for debugging, for\nlooking to see what's going wrong,\n\n461\n00:27:59.310 --> 00:28:02.370\nwhen I'm troubleshooting something trying\nto figure out where the problem is\n\n462\n00:28:02.370 --> 00:28:06.220\noccurring in the DNS resolution process or\nwith DNS.\n\n463\n00:28:06.220 --> 00:28:08.440\nSo it's not turned on by default.\n\n464\n00:28:08.440 --> 00:28:11.650\nIf we want, we turn it on by\nputting a check mark there and\n\n465\n00:28:11.650 --> 00:28:13.610\nthen you see these different categories.\n\n466\n00:28:13.610 --> 00:28:18.270\nI can do incoming or outgoing,\neither TCP or UDP or\n\n467\n00:28:18.270 --> 00:28:23.130\nboth, I can do packets that are only\nqueries or updates or notifications.\n\n468\n00:28:23.130 --> 00:28:26.570\nNot updates like Windows updates,\nupdates to DNS records.\n\n469\n00:28:26.570 --> 00:28:29.530\nDo I want requests or response or both?\n\n470\n00:28:29.530 --> 00:28:31.730\nUnmatched incoming response packets,\n\n471\n00:28:31.730 --> 00:28:34.180\nresponses that never had an initiator,\nright?\n\n472\n00:28:34.180 --> 00:28:36.850\nWait, why am I getting a response,\nI never asked for anything.\n\n473\n00:28:36.850 --> 00:28:40.730\nDetails, you can filter packets\nby IP address to help control\n\n474\n00:28:40.730 --> 00:28:42.470\nsome of the amounts of data.\n\n475\n00:28:42.470 --> 00:28:46.410\nWhat you need to understand here is, if I\nturn this on, and start checking all this.\n\n476\n00:28:46.410 --> 00:28:50.240\nI can generate a very big log file,\nvery fast, and\n\n477\n00:28:50.240 --> 00:28:53.760\nI put a serious workload on this server.\n\n478\n00:28:53.760 --> 00:28:56.910\nIt will impact performance\nif it's having to log\n\n479\n00:28:56.910 --> 00:29:01.960\nevery single packet that's coming in or\ngoing out of the DNS server.\n\n480\n00:29:01.960 --> 00:29:05.140\nSo you turn this on,\nit's good for debugging,\n\n481\n00:29:05.140 --> 00:29:08.870\nfor troubleshooting,\nturn it on when you've got a problem.\n\n482\n00:29:08.870 --> 00:29:12.510\nOnce you've solved your problem, and\nyou've tested that your solution has fixed\n\n483\n00:29:12.510 --> 00:29:16.620\nthe problem, and you no longer have the\nproblem, turn this back off, all right.\n\n484\n00:29:16.620 --> 00:29:19.770\nDon't leave this one on, only use it\nwhen you're doing troubleshooting.\n\n485\n00:29:19.770 --> 00:29:21.890\nThe event logging,\nleave that on all the time.\n\n486\n00:29:21.890 --> 00:29:25.740\nThose are just basic messages\nabout somebody queried, or\n\n487\n00:29:25.740 --> 00:29:28.750\nwas unable to respond,\nor I could not find any,\n\n488\n00:29:28.750 --> 00:29:31.250\nthe name not found type thing,\nthose kind of errors.\n\n489\n00:29:31.250 --> 00:29:32.920\nThose you want to leave on all the time.\n\n490\n00:29:32.920 --> 00:29:36.060\nDebug logging, only when you\nneed to do some troubleshooting.\n\n491\n00:29:37.430 --> 00:29:41.290\nAll right we also want to talk about\ndelegating administration for DNS.\n\n492\n00:29:41.290 --> 00:29:42.430\nWhen you install DNS,\n\n493\n00:29:43.730 --> 00:29:47.870\na new group gets created in active\ndirectory called the DNS admins group.\n\n494\n00:29:47.870 --> 00:29:52.600\nThe DNS admins group has full control\nover this DNS server, all right.\n\n495\n00:29:52.600 --> 00:29:56.920\nYou can see it doesn't say full\ncontrol but it is basically,\n\n496\n00:29:56.920 --> 00:30:00.830\nthe only they can't do is\nthey're gonna install DNS.\n\n497\n00:30:00.830 --> 00:30:02.427\nThey have special permissions,\n\n498\n00:30:02.427 --> 00:30:06.200\nthey give them just full control over\nthe DNS console and everything in there.\n\n499\n00:30:06.200 --> 00:30:08.830\nAll right, so that's one way.\n\n500\n00:30:08.830 --> 00:30:11.289\nIf I need to make Wes\nan admin on this DNS server,\n\n501\n00:30:11.289 --> 00:30:15.407\nI'm not gonna make him a domain admin, I\nneed to make him a DNS admin, not DHCP or\n\n502\n00:30:15.407 --> 00:30:18.630\nanything else so\nI add him to the DNS admins group.\n\n503\n00:30:18.630 --> 00:30:22.310\nYou can also give somebody read permission\nover this console, you could add your help\n\n504\n00:30:22.310 --> 00:30:27.420\ndesk group to this access control list and\nyou can give them just read permission.\n\n505\n00:30:27.420 --> 00:30:30.750\nThat would allow them to open up\nthe console and view records and\n\n506\n00:30:30.750 --> 00:30:32.250\nthey could maybe troubleshoot a problem.\n\n507\n00:30:32.250 --> 00:30:35.790\nHey, I know why you can't connect\nto that file server Mr Employee\n\n508\n00:30:35.790 --> 00:30:40.750\nbecause you don't have a record in DNS for\nyour computer or whatever the case may be.\n\n509\n00:30:40.750 --> 00:30:44.535\nSo you can give somebody read permissions\njust by modifying the access control list\n\n510\n00:30:44.535 --> 00:30:48.170\nhere for DNS, again that was\nthe properties of the DNS server.\n\n511\n00:30:49.440 --> 00:30:53.500\nWhen it comes to recursion,\nI think I'm going to hold off.\n\n512\n00:30:53.500 --> 00:30:56.400\nWell, recursion's a little\nbit difficult to explain\n\n513\n00:30:56.400 --> 00:30:59.530\nbecause we haven't looked at\nthe different types of queries yet.\n\n514\n00:30:59.530 --> 00:31:04.180\nBut recursion is basically,\nif I send a query and\n\n515\n00:31:04.180 --> 00:31:06.880\nI want that DNS server\nto go find the answer.\n\n516\n00:31:06.880 --> 00:31:10.430\nLike what I said earlier\nabout ITPro TV's DNS server,\n\n517\n00:31:10.430 --> 00:31:13.270\nmy client sent the query\nto the DNS server.\n\n518\n00:31:13.270 --> 00:31:16.337\nThe DNS server then talked to the route,\nthe .com,\n\n519\n00:31:16.337 --> 00:31:20.200\nthe google.com, found the answer,\ngave it back to the client.\n\n520\n00:31:20.200 --> 00:31:21.570\nThe DNS server did all the work.\n\n521\n00:31:21.570 --> 00:31:25.916\nThe client just sat back and\nsaid let me know when you're done,\n\n522\n00:31:25.916 --> 00:31:28.215\nall right, that's recursion.\n\n523\n00:31:28.215 --> 00:31:31.799\nDoing that, sending a query where you're\ngoing to say you do all the work and\n\n524\n00:31:31.799 --> 00:31:34.240\njust let me know when you're done.\n\n525\n00:31:34.240 --> 00:31:38.480\nIf we don't want our DNS servers doing\nrecursion, there is a check mark that we\n\n526\n00:31:38.480 --> 00:31:44.030\ncan check, uncheck if I pull up the right\nproperties here to disable recursion.\n\n527\n00:31:45.380 --> 00:31:48.660\nSo on that Advanced tab\nright up here at the top\n\n528\n00:31:48.660 --> 00:31:50.780\nwe can choose to disable recursion.\n\n529\n00:31:50.780 --> 00:31:53.620\nNotice it also disables forwarders, right.\n\n530\n00:31:53.620 --> 00:31:57.564\nWhat that's gonna do is it's basically\ngonna tell your DNS server the only names\n\n531\n00:31:57.564 --> 00:32:00.465\nyou can lookup are names that\nyou have in your own database.\n\n532\n00:32:00.465 --> 00:32:04.170\nYou can't go anywhere else, you can't go\nout to the root, you can't do any of that,\n\n533\n00:32:04.170 --> 00:32:05.208\nyou can't forward it.\n\n534\n00:32:05.208 --> 00:32:10.150\nNo recursion is allowed on\nthat DNS server, right.\n\n535\n00:32:10.150 --> 00:32:10.770\nSo, again,\n\n536\n00:32:10.770 --> 00:32:14.870\nthat's something in a really controlled\nenvironment you might want to enable.\n\n537\n00:32:16.130 --> 00:32:21.096\nWhen it comes to performance tuning my\nDNS servers, and I was trying to think\n\n538\n00:32:21.096 --> 00:32:25.997\nof something to say here, Wes,\nbecause I don't know really what else is.\n\n539\n00:32:25.997 --> 00:32:29.104\nDNS is a spectacular performer.\n\n540\n00:32:29.104 --> 00:32:34.098\nSome stats that I get from some sites\nthat have done workload analysis on DNS\n\n541\n00:32:34.098 --> 00:32:34.820\nservers.\n\n542\n00:32:34.820 --> 00:32:38.416\nA 2016 box, DNS, Microsoft.\n\n543\n00:32:38.416 --> 00:32:43.465\n99.99 percent of queries can\nbe successfully answered\n\n544\n00:32:43.465 --> 00:32:48.820\nwhile they're receiving\n260,000 queries per second.\n\n545\n00:32:48.820 --> 00:32:54.500\nSo you're DNS server is gonna be able to\nrespond to every single query it gets,\n\n546\n00:32:54.500 --> 00:32:59.540\neven if you're sending 250, 260,000\nqueries per second to that DNS server.\n\n547\n00:33:00.690 --> 00:33:01.830\nI don't think you can overload.\n\n548\n00:33:01.830 --> 00:33:03.070\nI mean it's gonna be difficult, right?\n\n549\n00:33:03.070 --> 00:33:04.850\nYou're gonna have to get\nsome bot nets going.\n\n550\n00:33:04.850 --> 00:33:07.580\nAnd get multiple machines\nhitting this DNS server.\n\n551\n00:33:09.460 --> 00:33:12.790\nWhen you get over 260,000\nqueries per second,\n\n552\n00:33:12.790 --> 00:33:16.030\nthe percentages of responses\nstarts to drop a little bit.\n\n553\n00:33:16.030 --> 00:33:17.350\nBut again, that's extreme.\n\n554\n00:33:17.350 --> 00:33:19.900\nThat's a lot of darn queries per second.\n\n555\n00:33:19.900 --> 00:33:21.540\nIt's not an hour per hour.\n\n556\n00:33:21.540 --> 00:33:24.490\nI mean I was like wait really?\n\n557\n00:33:24.490 --> 00:33:25.190\nWhat else?\n\n558\n00:33:25.190 --> 00:33:30.860\nTwo million records, if you had a zone\nfile that had all the ip addresses for\n\n559\n00:33:30.860 --> 00:33:35.780\nall the nodes, in that zone file\nyou could have two million records.\n\n560\n00:33:35.780 --> 00:33:36.830\nTwo million.\n\n561\n00:33:36.830 --> 00:33:38.178\nI don't have 2 million, though.\n\n562\n00:33:38.178 --> 00:33:40.490\nI mean it would be a large company\nto have that many records.\n\n563\n00:33:40.490 --> 00:33:43.310\n&gt;&gt; Yeah, my first thought is going back\nto some of the fundamental networking.\n\n564\n00:33:43.310 --> 00:33:46.780\nWhere 2 million, you're talking about\na block of class A addresses, and\n\n565\n00:33:46.780 --> 00:33:48.800\nyou have to actually get\naccess to all of that.\n\n566\n00:33:48.800 --> 00:33:49.890\nThat's interesting.\n\n567\n00:33:49.890 --> 00:33:50.845\n&gt;&gt; Yeah, exactly.\n\n568\n00:33:50.845 --> 00:33:54.160\n[LAUGH] Well, if you have a zone\nthat contains 2 million records,\n\n569\n00:33:54.160 --> 00:33:57.400\nit's probably only eating up\nabout 2 Gigabytes of memory.\n\n570\n00:33:57.400 --> 00:34:01.170\nSo if you add another gigabyte\nof memory to your server,\n\n571\n00:34:01.170 --> 00:34:05.190\nyou could go well beyond the two\nmillion records on your zone size.\n\n572\n00:34:05.190 --> 00:34:08.010\nAnd again, it's not really\ngonna stop it from working.\n\n573\n00:34:08.010 --> 00:34:11.870\nIt'll slow it down because it needs to be\nable to load those zones up in memory for\n\n574\n00:34:11.870 --> 00:34:12.950\nquick response.\n\n575\n00:34:12.950 --> 00:34:15.780\nAnd if it can't fit the entire zone\ninto memory now it has to start\n\n576\n00:34:15.780 --> 00:34:18.280\ndoing paging and some other things so\nit'll slow down.\n\n577\n00:34:18.280 --> 00:34:21.850\nBut until you get up to two million\nrecords two gigs is plenty to\n\n578\n00:34:21.850 --> 00:34:23.070\nstore your zone.\n\n579\n00:34:23.070 --> 00:34:26.530\nKeep in mind, that's over and above what\nthe operating system is using, right?\n\n580\n00:34:26.530 --> 00:34:27.710\nWe always talk about that.\n\n581\n00:34:27.710 --> 00:34:30.740\nWindows itself wants two gigs of memory.\n\n582\n00:34:30.740 --> 00:34:32.500\nI'm gonna put DNS on here and\n\n583\n00:34:32.500 --> 00:34:36.470\nI expect we're gonna have a large zone\nwith hundreds of thousands of records.\n\n584\n00:34:36.470 --> 00:34:40.780\nI'm gonna throw in another two gigs in\nthat machine to support DNS above and\n\n585\n00:34:40.780 --> 00:34:44.040\nbeyond what the operating system requires.\n\n586\n00:34:44.040 --> 00:34:44.660\nWhat else?\n\n587\n00:34:44.660 --> 00:34:48.290\nAnd I think we've hit everything we\nneed to talk about there with some of\n\n588\n00:34:48.290 --> 00:34:49.430\nthe settings for DNS.\n\n589\n00:34:49.430 --> 00:34:54.370\nWe do still have DNS sec, another really\ncool one, and something brand new,\n\n590\n00:34:54.370 --> 00:34:56.320\nresponse rate limiting.\n\n591\n00:34:56.320 --> 00:34:58.950\nThat we need to talk about but\nI know Wes is giving me the evil eye,\n\n592\n00:34:58.950 --> 00:35:01.113\nand I think he's telling\nus we're out of time.\n\n593\n00:35:01.113 --> 00:35:02.060\n&gt;&gt; [LAUGH] We are.\n\n594\n00:35:02.060 --> 00:35:04.480\nMike, are you gonna wanna maybe\ngo into another part here so\n\n595\n00:35:04.480 --> 00:35:08.080\nwe can round off a complete\nDNS novel here for sure?\n\n596\n00:35:08.080 --> 00:35:10.580\nThat's right, we are coming to\nthe end of another episode, but Mike,\n\n597\n00:35:10.580 --> 00:35:13.500\nbefore we sign off for this one, do you\nhave any additional things you'd like to\n\n598\n00:35:13.500 --> 00:35:16.340\nthrow in about things we talked\nabout like delegation and stuff?\n\n599\n00:35:17.390 --> 00:35:18.760\n&gt;&gt; No, I don't think so.\n\n600\n00:35:18.760 --> 00:35:21.850\n&gt;&gt; All right, well that's gotta be\none of the easiest answers I've had.\n\n601\n00:35:21.850 --> 00:35:23.929\nSo we're gonna go ahead and\nsign out for ITProTV.\n\n602\n00:35:23.929 --> 00:35:25.511\nI've been your host, Wes Bryan.\n\n603\n00:35:25.511 --> 00:35:28.194\n&gt;&gt; And as much as I talk,\nthere's really nothing left to say,\n\n604\n00:35:28.194 --> 00:35:29.570\nand I'm Mike Rodrick [LAUGH].\n\n605\n00:35:29.570 --> 00:35:30.790\n&gt;&gt; We'll see you next time.\n\n606\n00:35:30.790 --> 00:35:38.348\n[MUSIC]\n\n607\n00:35:38.348 --> 00:35:39.790\nThank you for watching.\n\n608\n00:35:39.790 --> 00:35:41.305\nITPRO TV.\n\n",
          "vimeoId": "192473565"
        },
        {
          "description": "In this episode, Wes and Mike continue their discussion on the world of DNS. They look at securing the DNS infrastructure through DNSSEC with server and demonstrate setting up a Windows client machine to use DNSSEC through configuration of the name resolution policy table or NRPT.",
          "length": "1710",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-4-install_and_configure_dns_servers_pt4-111616.00_28_12_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-4-install_and_configure_dns_servers_pt4-111616.00_28_12_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-4-install_and_configure_dns_servers_pt4-111616.00_28_12_05.Still001-sm.jpg",
          "title": "Install and Configure DNS Servers Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.507\nWelcome to ITProTV,\nI'm your host Don Pizet.\n\n2\n00:00:02.507 --> 00:00:08.223\n&gt;&gt; [CROSSTALK]\n[SOUND]\n\n3\n00:00:08.223 --> 00:00:12.169\n&gt;&gt; You're watching ITPro.TV.\n\n4\n00:00:12.169 --> 00:00:15.867\n&gt;&gt; Welcome back to another exciting\nepisode here at ITProTV, I'm your host,\n\n5\n00:00:15.867 --> 00:00:16.514\nWes Bryant.\n\n6\n00:00:16.514 --> 00:00:17.739\nAnd in today's episode,\n\n7\n00:00:17.739 --> 00:00:21.255\nwe're continuing through our\nnetworking with Windows Server 2016.\n\n8\n00:00:21.255 --> 00:00:25.481\nYep, brand new, it's shiny,\nwe're coming back with a part four in DNS.\n\n9\n00:00:25.481 --> 00:00:28.880\nAnd you might be asking yourself,\nwell, wait a second, why do we have so\n\n10\n00:00:28.880 --> 00:00:30.210\nmany parts in DNS?\n\n11\n00:00:30.210 --> 00:00:33.600\nWell, honestly guys, we can make it\nan entire week out of just this one topic.\n\n12\n00:00:33.600 --> 00:00:37.830\nIt's very important, and we got joining\nus in the studio is none other than Mr.\n\n13\n00:00:37.830 --> 00:00:38.970\nDNS himself, Mike Rodrick.\n\n14\n00:00:38.970 --> 00:00:40.050\nMike, how are you doing, sir?\n\n15\n00:00:40.050 --> 00:00:43.170\n&gt;&gt; Doing great until you said part four,\nI have my notes for\n\n16\n00:00:43.170 --> 00:00:45.980\npart five sitting in front of me,\nI said, wait, that's not good.\n\n17\n00:00:45.980 --> 00:00:49.380\nBut never fear, just rearrange my papers,\nwe're good to go.\n\n18\n00:00:49.380 --> 00:00:51.540\n&gt;&gt; I'm doing great,\nthanks for having back.\n\n19\n00:00:51.540 --> 00:00:55.040\nA little there, a little confusion\nthere which episode we were doing next,\n\n20\n00:00:55.040 --> 00:00:58.120\nbut my fault, we're good to go now.\n\n21\n00:00:58.120 --> 00:01:02.980\nWe are continuing on, and as Wes said,\nI mean, DNS is a huge topic, it's also 20,\n\n22\n00:01:02.980 --> 00:01:05.680\nI think it's 15 to 20% of the exam.\n\n23\n00:01:05.680 --> 00:01:07.260\nSo, it's a big portion of your exam.\n\n24\n00:01:07.260 --> 00:01:08.040\nYou gotta understand it.\n\n25\n00:01:08.040 --> 00:01:11.700\nAnd when you get out in the real world,\nI mean, DNS is what makes everything work.\n\n26\n00:01:11.700 --> 00:01:13.250\nSo, if you don't have a good\nunderstanding of DNS,\n\n27\n00:01:13.250 --> 00:01:16.460\nyou're gonna have trouble fixing\nthings when they go wrong, or\n\n28\n00:01:16.460 --> 00:01:19.640\nunderstanding why things aren't working,\nso very important.\n\n29\n00:01:19.640 --> 00:01:22.440\nAnd some of the things we're gonna go over\nthese next couple of episodes with DNS\n\n30\n00:01:22.440 --> 00:01:24.810\nare really cool,\nsome of the newer features.\n\n31\n00:01:24.810 --> 00:01:29.118\nAnd we've looked at installing DNS and\nsome of the basics there of configuring\n\n32\n00:01:29.118 --> 00:01:33.280\nDNS, we haven't got into zones and\nresource records inside DNS yet.\n\n33\n00:01:33.280 --> 00:01:36.337\nBut there are couple of cool\nthings that I wanna show you.\n\n34\n00:01:36.337 --> 00:01:39.512\nI wanna take the time to do\na couple of demonstrations for you,\n\n35\n00:01:39.512 --> 00:01:42.333\nbecause they're brand new\nto Server 2016 in DNS.\n\n36\n00:01:42.333 --> 00:01:44.715\nAnd there are things that\ncan help us secure DNS.\n\n37\n00:01:44.715 --> 00:01:47.515\nNow, DNS is a big target for the bad guys.\n\n38\n00:01:47.515 --> 00:01:51.721\nCuz we rely on it for everything,\nand the way it's setup is not a,\n\n39\n00:01:51.721 --> 00:01:56.557\nwhen it was originally designed,\nthere wasn't a lot of security in mind.\n\n40\n00:01:56.557 --> 00:02:02.142\nSo, security has been bolted on to it\nover the years to try to improve that,\n\n41\n00:02:02.142 --> 00:02:06.390\nbut it's still a big vulnerability,\nif I can say that.\n\n42\n00:02:06.390 --> 00:02:12.570\nIt's an easy way to attack somebody,\nwith GNS spoofing, and things like that.\n\n43\n00:02:12.570 --> 00:02:15.980\nImportant that we can secure it,\nkeep it safe, so that we can use it.\n\n44\n00:02:15.980 --> 00:02:18.520\n&gt;&gt; Yeah, and just recently,\nat the time of this recording,\n\n45\n00:02:18.520 --> 00:02:19.860\nit's only been about a month or so.\n\n46\n00:02:19.860 --> 00:02:24.580\nWe had one of the biggest,\ndistributed denial of service attacks,\n\n47\n00:02:24.580 --> 00:02:26.740\nand from what I was hearing,\n\n48\n00:02:26.740 --> 00:02:30.870\nis it was a direct attack against, well,\nthe Internet's phone book, DNS, right?\n\n49\n00:02:30.870 --> 00:02:34.280\n&gt;&gt; Absolutely, the thing is,\nwe rely on it.\n\n50\n00:02:34.280 --> 00:02:38.240\nMy computer, when I type in something\ninto my browser, in the background,\n\n51\n00:02:38.240 --> 00:02:41.880\nit's taking that name and turning it\ninto an IP address, we understand that.\n\n52\n00:02:41.880 --> 00:02:45.470\nThat response is coming back\nfrom these DNS servers, and\n\n53\n00:02:45.470 --> 00:02:49.360\nit's really hard to how do I verify, how\ndo I know that that response is correct?\n\n54\n00:02:49.360 --> 00:02:53.350\nA server has cache, and if we get bad\ninformation in the cache, the server\n\n55\n00:02:53.350 --> 00:02:58.070\njust uses that information, and doesn't\nhave any way to validate it, all right?\n\n56\n00:02:58.070 --> 00:03:03.550\nSo again, it's just a common avenue\nof the beginning of a lot of attacks.\n\n57\n00:03:03.550 --> 00:03:06.835\nToday, we're gonna look at\nsomething called DNSSEC, all right?\n\n58\n00:03:06.835 --> 00:03:11.470\nDNSSEC is a way that we\ncan digitally sign our\n\n59\n00:03:11.470 --> 00:03:15.737\nzones files, and let me rephrase that.\n\n60\n00:03:15.737 --> 00:03:19.430\nBecause usually, you'll hear people say,\nwe're gonna sign the zone.\n\n61\n00:03:19.430 --> 00:03:21.810\nIt's really not signing the zone, itself.\n\n62\n00:03:21.810 --> 00:03:24.980\nIt's signing the individual\nresources records.\n\n63\n00:03:24.980 --> 00:03:28.250\nAnybody out there who is familiar\nwith the way hashing works,\n\n64\n00:03:28.250 --> 00:03:30.150\nthe way digital signatures work.\n\n65\n00:03:30.150 --> 00:03:33.990\nIf we tried to sign the zone, what would\nhappen when a client updated their record?\n\n66\n00:03:35.632 --> 00:03:37.994\n&gt;&gt; I'm not exactly sure.\n\n67\n00:03:37.994 --> 00:03:39.407\n&gt;&gt; The signature would no longer match,\nright?\n\n68\n00:03:39.407 --> 00:03:40.225\nWe were talking about matches.\n\n69\n00:03:40.225 --> 00:03:41.194\n&gt;&gt; Okay, that's right, that's right.\n\n70\n00:03:41.194 --> 00:03:43.333\n&gt;&gt; And now that you've heard\nme say that you're like, yeah,\n\n71\n00:03:43.333 --> 00:03:44.635\nthat makes sense, right?\n\n72\n00:03:44.635 --> 00:03:46.725\nYeah, if we sign the zone,\nthat's well and good.\n\n73\n00:03:46.725 --> 00:03:49.295\nI can verify that the zone hasn't changed.\n\n74\n00:03:49.295 --> 00:03:51.085\nBut the problem is it needs to change.\n\n75\n00:03:51.085 --> 00:03:52.575\nWe have new clients registering.\n\n76\n00:03:52.575 --> 00:03:54.834\nWe have clients updating\ntheir IP addresses.\n\n77\n00:03:54.834 --> 00:03:57.438\nSo, that zone's gonna be\nchanging all the time.\n\n78\n00:03:57.438 --> 00:04:01.087\nAnd if I sign it, well, the signature\nis invalid after the first change.\n\n79\n00:04:01.087 --> 00:04:04.067\n&gt;&gt; So, you can't speak to me\nlike a network administrator,\n\n80\n00:04:04.067 --> 00:04:05.017\nsystems administrator.\n\n81\n00:04:05.017 --> 00:04:07.847\nYou gotta speak to me as\nthe support desk guy.\n\n82\n00:04:07.847 --> 00:04:08.907\nI'm thinking drivers, right?\n\n83\n00:04:08.907 --> 00:04:12.010\nIt's one of the reasons we signed drivers,\nso that we can verify that they\n\n84\n00:04:12.010 --> 00:04:15.560\nare a valid piece of code, and they're\nnot corrupting our hardware in general.\n\n85\n00:04:15.560 --> 00:04:17.490\nSo you're saying that's\npretty well close to it,\n\n86\n00:04:17.490 --> 00:04:20.250\nthat I can trust that signature\nthat is on that record.\n\n87\n00:04:20.250 --> 00:04:21.410\nAnd I know that record is valid.\n\n88\n00:04:21.410 --> 00:04:22.650\n&gt;&gt; That is absolutely right.\n\n89\n00:04:22.650 --> 00:04:24.786\nIt just an understanding that\nwe're not signing a zone,\n\n90\n00:04:24.786 --> 00:04:26.350\nwe're signing the individual records.\n\n91\n00:04:26.350 --> 00:04:27.470\nBecause, just as Wes said,\n\n92\n00:04:27.470 --> 00:04:33.050\nthe whole point of signing something like\nthat is to verify, one, that it hasn't\n\n93\n00:04:33.050 --> 00:04:37.270\nbeen modified, and two, that we can,\nwe can get what we call non-repudiation.\n\n94\n00:04:37.270 --> 00:04:41.760\nWe can identify the source of\nthe information because of the keys used\n\n95\n00:04:41.760 --> 00:04:43.710\nin creating that signature.\n\n96\n00:04:43.710 --> 00:04:47.090\nIf I know that it was my DNS server's\nkey to use to create that signature,\n\n97\n00:04:47.090 --> 00:04:48.910\nI know that it came from my DNS server.\n\n98\n00:04:48.910 --> 00:04:50.120\nI can trust that response.\n\n99\n00:04:50.120 --> 00:04:52.960\nHe's also telling me that\nthe record hasn't been modified.\n\n100\n00:04:52.960 --> 00:04:54.010\nI'm good to go.\n\n101\n00:04:54.010 --> 00:04:56.460\nIt's when I get a response\nthat's not signed.\n\n102\n00:04:56.460 --> 00:04:59.390\nI hope it's from my DNS server,\nbut I could've been spoofed.\n\n103\n00:04:59.390 --> 00:05:01.650\nI could've been redirected\nin the background there, and\n\n104\n00:05:01.650 --> 00:05:03.560\nbeen getting that response for\nsomebody else.\n\n105\n00:05:03.560 --> 00:05:08.000\nSomebody could've messed with the cache\non my DNS server and modified entries.\n\n106\n00:05:08.000 --> 00:05:09.510\nIf we don't sign this stuff,\nwe have no way of knowing.\n\n107\n00:05:09.510 --> 00:05:11.925\nSo, that's what DNSsec is all about.\n\n108\n00:05:11.925 --> 00:05:14.175\nSecuring a DNS zone by using signing.\n\n109\n00:05:14.175 --> 00:05:17.050\nBut again, it's the individual records.\n\n110\n00:05:17.050 --> 00:05:20.740\nAlso, another great point I'd like to\ndo to the straight from Microsoft adds\n\n111\n00:05:20.740 --> 00:05:25.140\nvalidation support without changing\nthe basic mechanisms of DNS.\n\n112\n00:05:25.140 --> 00:05:26.335\nLet's paraphrase from them,\n\n113\n00:05:26.335 --> 00:05:29.700\ncuz Microsoft will make an entire\nparagraph out of that sense.\n\n114\n00:05:29.700 --> 00:05:34.062\nBut that's here, so I paraphrased\na little bit, but the really cool thing\n\n115\n00:05:34.062 --> 00:05:38.270\nabout DNSsec, Because it didn't\nchange everything with DNS, right?\n\n116\n00:05:38.270 --> 00:05:41.100\nEverything still works the same,\nqueries still works the same.\n\n117\n00:05:41.100 --> 00:05:44.200\nWe didn't have to modify\neverything else to make this work.\n\n118\n00:05:44.200 --> 00:05:47.040\nThat's a really cool way of doing it.\n\n119\n00:05:47.040 --> 00:05:50.290\n&gt;&gt; When you talk about security,\nyou talk about modifying something.\n\n120\n00:05:50.290 --> 00:05:51.651\nLet's just take encryption, right?\n\n121\n00:05:51.651 --> 00:05:54.758\nAnd if I add encryption to secure\nsomething, then we're gonna have\n\n122\n00:05:54.758 --> 00:05:58.264\nprocessing overhead, we're gonna have\nkeys that need to be distributed.\n\n123\n00:05:58.264 --> 00:06:01.261\nAnd so you're saying that even though\nwe still get kind of security,\n\n124\n00:06:01.261 --> 00:06:03.845\nthe underlying architecture\nis gonna remain the same, and\n\n125\n00:06:03.845 --> 00:06:06.990\nwe shouldn't see too much of an effect\non it, other than been safe.\n\n126\n00:06:06.990 --> 00:06:07.709\n&gt;&gt; Yeah, exactly.\n\n127\n00:06:07.709 --> 00:06:11.923\nYour clients don't have to be rewritten to\nask the query in a different way now that\n\n128\n00:06:11.923 --> 00:06:15.387\nwe're using DNAsec, they still\nsend the query just like normal.\n\n129\n00:06:15.387 --> 00:06:20.200\nSo, it's really neat that we can do this,\nget this level of security,\n\n130\n00:06:20.200 --> 00:06:22.020\nand not have to change\neverything around itself.\n\n131\n00:06:22.020 --> 00:06:23.180\nSo, how does it work?\n\n132\n00:06:23.180 --> 00:06:26.590\nWell, again, we're gonna do a little demo,\nwe're gonna go in, and\n\n133\n00:06:26.590 --> 00:06:28.480\nwe call it signing the zone.\n\n134\n00:06:28.480 --> 00:06:31.480\nKeep in mind, we're not signing the zone\nitself, it's the individual records.\n\n135\n00:06:31.480 --> 00:06:34.700\nA couple of things we're gonna need to\nbe familiar with before we get into\n\n136\n00:06:34.700 --> 00:06:36.620\nthe demo though, just some terminology.\n\n137\n00:06:36.620 --> 00:06:41.430\nWhen we sign a zone,\nwhen we implement DNSsec on a zone,\n\n138\n00:06:41.430 --> 00:06:45.390\nnew records are going to be created in\nour zone, along with our A records and\n\n139\n00:06:45.390 --> 00:06:49.100\nour MX records and our C name records and\nall that good stuff.\n\n140\n00:06:49.100 --> 00:06:53.620\nThere's gonna be something called\nResource Records Signatures, or\n\n141\n00:06:53.620 --> 00:06:56.430\nRRSIG Records, all right?\n\n142\n00:06:56.430 --> 00:06:58.060\nThese are the actual signatures.\n\n143\n00:06:58.060 --> 00:06:59.810\nSo, for every record that I'd have,\n\n144\n00:06:59.810 --> 00:07:04.510\nsay an A record, there is an RRSIG\nrecord that's associated with it.\n\n145\n00:07:04.510 --> 00:07:09.080\nThat represents the signature\nof that A record, all right?\n\n146\n00:07:09.080 --> 00:07:12.690\nWe also have NSEC, which is Next Secure.\n\n147\n00:07:12.690 --> 00:07:19.490\nAnd NSEC3, which is the replacement or\nthe new and improved version of NSEC.\n\n148\n00:07:19.490 --> 00:07:20.990\n&gt;&gt; All right Mike,\nI gotta jump in here real quick.\n\n149\n00:07:20.990 --> 00:07:24.130\nNow, wait, we've got two different\ntypes of this NEC secure.\n\n150\n00:07:24.130 --> 00:07:26.440\nWe've got a NEC secure and\nNEC secure three.\n\n151\n00:07:26.440 --> 00:07:27.620\nWhat are the differences here?\n\n152\n00:07:27.620 --> 00:07:28.500\nCan we use them both?\n\n153\n00:07:28.500 --> 00:07:30.010\nAnd is three, three times better?\n\n154\n00:07:30.010 --> 00:07:32.280\n&gt;&gt; It's three times three better.\n\n155\n00:07:32.280 --> 00:07:33.610\nNo, I'm just kidding.\n\n156\n00:07:33.610 --> 00:07:36.180\nNSEC3 is the new and improved NSEC.\n\n157\n00:07:36.180 --> 00:07:38.070\nYou can use one or the other.\n\n158\n00:07:38.070 --> 00:07:40.460\nYou can't use both, unfortunately.\n\n159\n00:07:40.460 --> 00:07:43.930\nAnd the real difference, and\nwe don't wanna get into the too technical,\n\n160\n00:07:43.930 --> 00:07:46.720\nlike the algorithms that's\nused in behind the scenes.\n\n161\n00:07:46.720 --> 00:07:50.370\nBut the idea here is this is\nthe concept you've gotta understand.\n\n162\n00:07:50.370 --> 00:07:53.718\nIf we're doing DNSsec, that means that\nour records are digitally signed.\n\n163\n00:07:53.718 --> 00:07:57.888\nAnd so when a client queries DNS,\nthat says, hey, by the way,\n\n164\n00:07:57.888 --> 00:07:59.400\nI understand DNSsec.\n\n165\n00:07:59.400 --> 00:08:00.885\nSend me that information as well.\n\n166\n00:08:00.885 --> 00:08:04.081\nAnd the DNS server responds\nwith that A record.\n\n167\n00:08:04.081 --> 00:08:09.844\nIn that RRSIG record for that, so we can\nvalidate where the response came from and\n\n168\n00:08:09.844 --> 00:08:13.140\nwhether or not it's been modified.\n\n169\n00:08:13.140 --> 00:08:14.660\nThat's great.\n\n170\n00:08:14.660 --> 00:08:17.360\nWhat if I queried DNS for\nsomething that doesn't exist?\n\n171\n00:08:17.360 --> 00:08:22.380\nWhat if we got, I don't know, just for\ngiggles, client one to client ten, and\n\n172\n00:08:22.380 --> 00:08:26.710\nI happen to type in ping client\n22 dot lab dot IT proto TV.\n\n173\n00:08:27.740 --> 00:08:29.680\nOr, you know, I try to connect to it.\n\n174\n00:08:29.680 --> 00:08:31.100\nDNS is gonna send me back.\n\n175\n00:08:31.100 --> 00:08:33.880\nThere is no record,\nbecause that computer doesn't exist.\n\n176\n00:08:33.880 --> 00:08:38.120\nSo, there's no signature for that\nnon-existent record, cuz it doesn't exist.\n\n177\n00:08:38.120 --> 00:08:39.510\nSo what is DNS supposed to do?\n\n178\n00:08:39.510 --> 00:08:45.600\nHow can I validate the name\ndoesn't exist response, right?\n\n179\n00:08:45.600 --> 00:08:51.920\nCuz I can do a DOS attack on you by\nforging name doesn't exist, right?\n\n180\n00:08:51.920 --> 00:08:54.110\nWest is trying to connect\nto that file server.\n\n181\n00:08:54.110 --> 00:08:57.580\nBut if I can get in between him and the\nDNS server, I can just respond with, hey,\n\n182\n00:08:57.580 --> 00:08:59.160\nname doesn't exist.\n\n183\n00:08:59.160 --> 00:09:00.180\nAnd he's like.\n\n184\n00:09:00.180 --> 00:09:01.430\nWell, sorry, user.\n\n185\n00:09:01.430 --> 00:09:02.380\nYou typed in the wrong name.\n\n186\n00:09:02.380 --> 00:09:04.900\nThat name doesn't exist, even though\nthe server's sitting right there.\n\n187\n00:09:04.900 --> 00:09:06.320\nYou can't connect to it, right?\n\n188\n00:09:06.320 --> 00:09:09.640\nSo we need some way to also respond\nwhen there is no record and\n\n189\n00:09:09.640 --> 00:09:10.990\nthere is no signature.\n\n190\n00:09:10.990 --> 00:09:15.200\nAnd that's what NSEC is all about is\nthe next secure, is what it's short for.\n\n191\n00:09:15.200 --> 00:09:21.070\nAnd it allows me to have some kind of\nresponse for when names don't exist.\n\n192\n00:09:21.070 --> 00:09:23.460\n&gt;&gt; You know you're talking about\nsignatures and cryptology and\n\n193\n00:09:23.460 --> 00:09:26.350\none of the things I kind of understand\na little bit about the cryptology part is\n\n194\n00:09:26.350 --> 00:09:28.080\nthere's got to be some kind of key.\n\n195\n00:09:28.080 --> 00:09:30.010\nSome kind of a not an encryption, but\n\n196\n00:09:30.010 --> 00:09:32.905\nsome kind of key that helps us to\ndo this digital signature, right?\n\n197\n00:09:32.905 --> 00:09:35.110\n&gt;&gt; Mm-hm.\nThere's several keys, and\n\n198\n00:09:35.110 --> 00:09:38.030\njump right back to NSEC3 real quick.\n\n199\n00:09:38.030 --> 00:09:43.400\nNSEC3 is better than NSEC because it\nprevents something called zone walking.\n\n200\n00:09:43.400 --> 00:09:48.070\nAll right, with NSEC it worked, it was\nable to provide a response when there was\n\n201\n00:09:48.070 --> 00:09:50.370\nno record and\nI could validate that response.\n\n202\n00:09:50.370 --> 00:09:53.950\nBut the problem was the bad guys figured\nout how they could start enumerating my\n\n203\n00:09:53.950 --> 00:09:57.910\nzone, simply by querying\nfrom all different names and\n\n204\n00:09:57.910 --> 00:10:01.190\nfinding out which once don't exist,\nand which ones do exist.\n\n205\n00:10:01.190 --> 00:10:03.776\nSo there were some tactics\nyou could do there.\n\n206\n00:10:03.776 --> 00:10:08.440\nNSEC 3 is designed to prevent that\nzone walking as they like to call it.\n\n207\n00:10:08.440 --> 00:10:11.960\nAnd as what's mentioned earlier,\nthe next one I want to mention is DNS key.\n\n208\n00:10:11.960 --> 00:10:17.660\nA DNS key Is an abbreviation for\nDNS key, it's kinda funny.\n\n209\n00:10:17.660 --> 00:10:19.790\nThe abbreviation is DNSKEY.\n\n210\n00:10:19.790 --> 00:10:24.435\nWhich stands for DNS space K-E-Y.\n\n211\n00:10:24.435 --> 00:10:26.283\nYeah, you saved a space there.\n\n212\n00:10:26.283 --> 00:10:30.887\nAnyway, the DNS key stores the public\ntopography key used to verify\n\n213\n00:10:30.887 --> 00:10:32.112\nthe signatures.\n\n214\n00:10:32.112 --> 00:10:35.580\nSo, it's one of several\nkeys that we'll see.\n\n215\n00:10:35.580 --> 00:10:36.990\nBut this is the public key, right?\n\n216\n00:10:36.990 --> 00:10:39.660\nAnd if you go back to your\ncryptography lessons or\n\n217\n00:10:39.660 --> 00:10:42.110\nepisodes in some of our other classes.\n\n218\n00:10:42.110 --> 00:10:44.030\nYou remember public key cryptography.\n\n219\n00:10:44.030 --> 00:10:45.800\nYou got a public and private key.\n\n220\n00:10:45.800 --> 00:10:49.010\nPrivate key stays private,\npublic key gets distributed.\n\n221\n00:10:49.010 --> 00:10:52.757\nSo if I'm a client and I've got that\nserver's public key, I can use it to\n\n222\n00:10:52.757 --> 00:10:57.119\ndecrypt the signature, which means it has\nto have been encrypted with the server's\n\n223\n00:10:57.119 --> 00:11:01.190\nprivate key, which means I can validate\nthe originator of that information.\n\n224\n00:11:01.190 --> 00:11:03.360\nAll right?\n\n225\n00:11:03.360 --> 00:11:08.470\nDNS keys can also store some of\nother keys we'll use in DNS sec.\n\n226\n00:11:08.470 --> 00:11:11.040\nThere are zone sign-in keys.\n\n227\n00:11:11.040 --> 00:11:14.040\nThe ones that are used to actually\nassign the resource records.\n\n228\n00:11:14.040 --> 00:11:18.540\nAnd there's key sign-in keys, which\nare used to sign the zone signing keys.\n\n229\n00:11:18.540 --> 00:11:19.130\nYeah I know.\n\n230\n00:11:19.130 --> 00:11:20.200\nCrazy, right?\n\n231\n00:11:20.200 --> 00:11:24.600\nSo there's a lot of keys involved, a lot\nof checks that go on in the background to\n\n232\n00:11:24.600 --> 00:11:29.250\nmake sure we're getting the information\nfrom the appropriate DNS server.\n\n233\n00:11:29.250 --> 00:11:34.309\nThen there's some DS records, or\ndelegation If I can say that.\n\n234\n00:11:34.309 --> 00:11:38.380\n[LAUGH] Delegation signer,\nused to secure a delegation.\n\n235\n00:11:38.380 --> 00:11:41.590\nBuild authentication\nchains to child zones.\n\n236\n00:11:41.590 --> 00:11:46.047\nSo we're gonna have DNS sec implement\non a parent zone and then a child zone\n\n237\n00:11:46.047 --> 00:11:50.790\nlike lab.itprotv, test.lab.itprotv.\n\n238\n00:11:50.790 --> 00:11:55.220\nWe can build that trust chain between\nthose different parent and child zones.\n\n239\n00:11:55.220 --> 00:11:57.070\nAnd then there's trust anchors.\n\n240\n00:11:57.070 --> 00:12:02.440\nTrust anchors are the DNS key and the DS\nis the delegation signer resource records,\n\n241\n00:12:02.440 --> 00:12:06.460\nthese get distributed to\nthe non-authoritative DNS servers for\n\n242\n00:12:06.460 --> 00:12:09.080\nthat zone that are hosting\ncopies of the zone.\n\n243\n00:12:09.080 --> 00:12:12.480\nBecause they need to be able to\nagain validate the information.\n\n244\n00:12:12.480 --> 00:12:16.900\nThey're the public key side\nof the cryptography solution.\n\n245\n00:12:16.900 --> 00:12:18.960\nAll right, so\na lot of different terminology there.\n\n246\n00:12:18.960 --> 00:12:20.820\nLet's see how it's implemented.\n\n247\n00:12:20.820 --> 00:12:24.450\nIt's so much easier than it was\nin past versions of Windows.\n\n248\n00:12:24.450 --> 00:12:27.970\nWe do now have a GUI, we can still\ndo a lot of this from PowerShell,\n\n249\n00:12:27.970 --> 00:12:29.660\nor all of this from PowerShell.\n\n250\n00:12:29.660 --> 00:12:32.150\nI am going to use our\ngraphical user interface.\n\n251\n00:12:32.150 --> 00:12:36.240\nI'm gonna open up our DNS console here,\nand\n\n252\n00:12:36.240 --> 00:12:38.950\nI'm simply gonna go to\nmy forward lookup zone.\n\n253\n00:12:38.950 --> 00:12:40.770\nAnd let's take a look at what I've got so\nfar.\n\n254\n00:12:40.770 --> 00:12:43.890\nI know we haven't gone over\nthe different records just yet, but\n\n255\n00:12:43.890 --> 00:12:47.760\nyou'll see I have a few different\nA records, some NS, an SOA record.\n\n256\n00:12:47.760 --> 00:12:50.730\nBut all in all, not that many, all right.\n\n257\n00:12:50.730 --> 00:12:52.460\nBut this zone is not signed.\n\n258\n00:12:53.730 --> 00:12:57.100\nNow what I wanna do,\nIs a couple of things.\n\n259\n00:12:57.100 --> 00:13:00.410\nTo get it started just right\nclick on the zone itself and\n\n260\n00:13:00.410 --> 00:13:03.130\nchoose DNSSEC &gt; sign the zone.\n\n261\n00:13:04.180 --> 00:13:06.340\nThat's gonna launch a handy dandy wizard.\n\n262\n00:13:06.340 --> 00:13:09.980\nIt's gonna walk me through\nthe process of signing the zone.\n\n263\n00:13:09.980 --> 00:13:12.150\nWe'll click next on the intro screen.\n\n264\n00:13:12.150 --> 00:13:13.970\nThen I've got a couple of options here.\n\n265\n00:13:13.970 --> 00:13:16.700\nI can either customize\nzone signing parameters,\n\n266\n00:13:16.700 --> 00:13:20.910\nsign the zone of parameters of an existing\nzone, use the default settings.\n\n267\n00:13:20.910 --> 00:13:22.960\nThe sign with the existing zone,\n\n268\n00:13:22.960 --> 00:13:27.540\nif I had already signed another\nzone over here on my DNS server.\n\n269\n00:13:27.540 --> 00:13:31.330\nI could choose this and say hey, this new\nzone, I wanna use the same options I did\n\n270\n00:13:31.330 --> 00:13:35.350\nwith the last zone I did, so\nit just saves you some time, all right?\n\n271\n00:13:35.350 --> 00:13:38.060\nDefaults are really what\nI'm gonna end up using, and\n\n272\n00:13:38.060 --> 00:13:40.120\nwhat most of us will end up using.\n\n273\n00:13:40.120 --> 00:13:41.110\nSo this is the easiest way.\n\n274\n00:13:41.110 --> 00:13:45.300\nYou pretty much use this, and\nyou click next/finish and you're done.\n\n275\n00:13:45.300 --> 00:13:48.820\nI'm gonna choose Custom for this demo,\nbecause I want you to see all the things\n\n276\n00:13:48.820 --> 00:13:52.640\nthat we have to possibility or\nthe ability to configure.\n\n277\n00:13:52.640 --> 00:13:54.400\nSo I'll click next.\n\n278\n00:13:54.400 --> 00:13:56.190\nAnd who's gonna be the key master.\n\n279\n00:13:56.190 --> 00:13:59.380\nWho's gonna be responsible for\nsecuring the keys and\n\n280\n00:13:59.380 --> 00:14:02.770\ndistributing the keys to other\nDNS servers when necessary?\n\n281\n00:14:02.770 --> 00:14:06.120\nBy default it'll be the server\nthat you're initializing this on.\n\n282\n00:14:06.120 --> 00:14:08.880\nYou could select another\nserver if you needed to.\n\n283\n00:14:08.880 --> 00:14:10.790\nI'm gonna leave it as this server.\n\n284\n00:14:10.790 --> 00:14:11.350\nI'll click next.\n\n285\n00:14:11.350 --> 00:14:16.050\nAnd then I've gotta generate some keys\nthat we're gonna use for this process or\n\n286\n00:14:16.050 --> 00:14:17.870\nI should say key pairs really.\n\n287\n00:14:17.870 --> 00:14:22.210\nThere's the key sign in key, this is\nthe one that protects the keys themselves.\n\n288\n00:14:23.280 --> 00:14:25.540\nThe zone sign in keys that is.\n\n289\n00:14:25.540 --> 00:14:28.330\nSo it gives you a little intro here,\nkinda tells you about it.\n\n290\n00:14:28.330 --> 00:14:30.060\nI'll click next on here.\n\n291\n00:14:30.060 --> 00:14:32.140\nAnd then I'm gonna click add.\n\n292\n00:14:32.140 --> 00:14:34.460\nAnd we zoom back out a little bit.\n\n293\n00:14:34.460 --> 00:14:36.752\nHere's my new key, sign in key dialogue.\n\n294\n00:14:36.752 --> 00:14:38.925\nIt's gonna generate all this information,\n\n295\n00:14:38.925 --> 00:14:43.950\ncreate new sign in keys, I can adjust\nthe algorithm, the key length bits.\n\n296\n00:14:43.950 --> 00:14:49.478\nAnd down here at the bottom is the\nimportant one is the roll over frequency,\n\n297\n00:14:49.478 --> 00:14:52.389\nhow long is this key gonna be valid for?\n\n298\n00:14:52.389 --> 00:14:55.770\n755 days, for the key signing key.\n\n299\n00:14:55.770 --> 00:14:59.190\nYou'll see that the zone signing key,\nis much more frequent.\n\n300\n00:14:59.190 --> 00:14:59.940\nAll right.\n\n301\n00:14:59.940 --> 00:15:04.750\nBut this one is again, really just\nto protect the zone signing key.\n\n302\n00:15:04.750 --> 00:15:06.800\nIt's that next level of security.\n\n303\n00:15:06.800 --> 00:15:10.220\nSo this one doesn't have to be changed,\nnearly as often.\n\n304\n00:15:10.220 --> 00:15:13.370\nThese bad guys aren't really gonna\nhave access directly to this,\n\n305\n00:15:13.370 --> 00:15:14.690\nto try to break it.\n\n306\n00:15:14.690 --> 00:15:15.900\nWe'll click okay on that.\n\n307\n00:15:17.010 --> 00:15:19.420\nAnd it generates my key.\n\n308\n00:15:19.420 --> 00:15:23.400\nI'll click next, and\nthen I need a zone sign in key.\n\n309\n00:15:23.400 --> 00:15:25.962\nI'll click next on our wizard,\nand same thing.\n\n310\n00:15:25.962 --> 00:15:27.410\nI'm gonna click add, and\n\n311\n00:15:27.410 --> 00:15:30.060\nit's going to show me the properties\nof the zone sign in key.\n\n312\n00:15:30.060 --> 00:15:33.040\nNotice the key length is\na little bit smaller,\n\n313\n00:15:33.040 --> 00:15:35.910\nwhich is usually a bad thing when\nit comes to cryptography, but\n\n314\n00:15:35.910 --> 00:15:38.980\nwe've got to find the balance\nbetween security and performance.\n\n315\n00:15:38.980 --> 00:15:42.660\nThis one does the bulk of the work this is\nthe one that actually signs the records\n\n316\n00:15:42.660 --> 00:15:44.200\nthat's being distributed\nout to the clients,\n\n317\n00:15:44.200 --> 00:15:46.360\nthat the clients are gonna\nhave to reverse, right?\n\n318\n00:15:46.360 --> 00:15:48.850\nSo you don't put too\nmuch workload on them, so\n\n319\n00:15:48.850 --> 00:15:53.380\nwe find that balance this was a little\nshorter it also rolls over every 90 days.\n\n320\n00:15:53.380 --> 00:15:54.606\nWhich is a good thing, right?\n\n321\n00:15:54.606 --> 00:15:58.317\nIt's a little bit shorter, which means it\nmight not take as long to try to break,\n\n322\n00:15:58.317 --> 00:16:00.074\nbut we're gonna roll it over faster.\n\n323\n00:16:00.074 --> 00:16:01.284\nSo.\n\n324\n00:16:01.284 --> 00:16:04.082\nThey better get their butt in gear\nif they're gonna try to break it,\n\n325\n00:16:04.082 --> 00:16:06.850\nbecause we're gonna be on to\na new one in 90 days, right?\n\n326\n00:16:06.850 --> 00:16:10.335\nSo the idea is a less key,\nshort key length but\n\n327\n00:16:10.335 --> 00:16:13.060\nwe roll it over more frequently, right?\n\n328\n00:16:13.060 --> 00:16:17.090\nWe'll click OK on that, it's gonna\ngenerate that key, we'll click Next.\n\n329\n00:16:17.090 --> 00:16:21.650\nAnd then here, I can choose to\nuse NSEC3 or good old NSEC.\n\n330\n00:16:21.650 --> 00:16:28.370\nWe'll leave it on NSEC3, click Next and\nthen I've got my trust anchor information.\n\n331\n00:16:28.370 --> 00:16:32.190\nDo I want to enable the distribution\nof trust anchors for this zone?\n\n332\n00:16:32.190 --> 00:16:34.380\nIf this is a domain controller,\nwhich it is, and\n\n333\n00:16:34.380 --> 00:16:37.380\nI had other domain controllers that\nwere also DNS servers that were hosting\n\n334\n00:16:37.380 --> 00:16:40.190\nthis zone, they would need\ncopies of those keys as well and\n\n335\n00:16:40.190 --> 00:16:43.350\nit would distribute to all the other\ndomain controllers enforced.\n\n336\n00:16:43.350 --> 00:16:48.560\nIf it's not a domain controller, this is\ngonna be added to the local store and\n\n337\n00:16:48.560 --> 00:16:51.480\nI'd have to manually distribute that out.\n\n338\n00:16:53.080 --> 00:16:55.290\nEven though I don't have any\nother domain controllers,\n\n339\n00:16:55.290 --> 00:16:58.670\nI would choose Yes just to\nshow you best practices here.\n\n340\n00:16:58.670 --> 00:17:02.740\nAnd then Enable automatic update\nof trust anchors on key rollover.\n\n341\n00:17:02.740 --> 00:17:04.310\nSo, when that 90 days occurs and\n\n342\n00:17:04.310 --> 00:17:08.760\nwe generate a new key, I need to make sure\nall the people that are using the key,\n\n343\n00:17:08.760 --> 00:17:11.960\nthe other DNS servers,\nhave a copy of the new key, right?\n\n344\n00:17:11.960 --> 00:17:16.560\nSo automatic update on key roller,\nwe'll click Next.\n\n345\n00:17:16.560 --> 00:17:18.950\nSome settings for the Signing and Polling.\n\n346\n00:17:18.950 --> 00:17:23.205\nHow long it waits before checks to see if\nthere's any changes, things like that,\n\n347\n00:17:23.205 --> 00:17:26.115\nwe're just gonna leave all the defaults,\nclick Next.\n\n348\n00:17:26.115 --> 00:17:31.302\nAnd Next again and\nthen Finish and we're done.\n\n349\n00:17:31.302 --> 00:17:35.332\nWe just signed the zone, all right,\nor set up DNSSEC on the zone.\n\n350\n00:17:35.332 --> 00:17:38.842\nAgain, I hate saying signing the zone,\neven though that's how we talk about it.\n\n351\n00:17:38.842 --> 00:17:41.170\nCuz remember,\nyou're not really signing the zone itself.\n\n352\n00:17:41.170 --> 00:17:43.220\nNow, it doesn't look like\nanything's changed, right?\n\n353\n00:17:43.220 --> 00:17:45.771\nIt's like eh, nothing changed, beautiful.\n\n354\n00:17:45.771 --> 00:17:46.643\nNo, not so.\n\n355\n00:17:46.643 --> 00:17:48.628\nGo ahead and\ngo back to my screen for a second.\n\n356\n00:17:48.628 --> 00:17:52.128\nAnd remember, this console does\nnot refresh automatically.\n\n357\n00:17:52.128 --> 00:17:56.140\nSo I'm gonna go click the refresh\nbutton up here, and, hm,\n\n358\n00:17:56.140 --> 00:17:58.880\nI guess there was a little\nbit of change to my zone.\n\n359\n00:18:04.210 --> 00:18:08.730\nI like things organized and\nneat and this drives me crazy.\n\n360\n00:18:08.730 --> 00:18:11.339\nI will tell you,\nthe first time I implemented DNSSEC,\n\n361\n00:18:11.339 --> 00:18:13.449\nI was like,\nwhat did they do to my zone file?\n\n362\n00:18:13.449 --> 00:18:16.736\nCuz there's a lot of additional\nrecords that are gonna be in here.\n\n363\n00:18:16.736 --> 00:18:21.120\nYou'll see the RRSIG,\nthose resource record signatures.\n\n364\n00:18:21.120 --> 00:18:23.650\nThe DNS keys that are gonna be used.\n\n365\n00:18:23.650 --> 00:18:28.330\nAll the NSEC3 records,\nall right, that get generated.\n\n366\n00:18:28.330 --> 00:18:32.910\nSo it's a lot [LAUGH] of\ninformation gets dumped in here.\n\n367\n00:18:32.910 --> 00:18:36.250\nLuckily for us we can filter this or\norganize it by type and\n\n368\n00:18:36.250 --> 00:18:39.860\nI can still find all my A records and\nI can order the rest of them.\n\n369\n00:18:39.860 --> 00:18:44.330\nMe personally, as a DNS admin, I really\ncan't read these or look at these, right?\n\n370\n00:18:44.330 --> 00:18:47.960\nThese are just records that\nare there to support DNSSEC,\n\n371\n00:18:47.960 --> 00:18:52.049\nI almost wish they get dumped in a little\nnode somewhere in kinda set aside but.\n\n372\n00:18:53.350 --> 00:18:55.185\nYeah, I didn't design it.\n\n373\n00:18:55.185 --> 00:18:57.750\nAnywho, that is our sign zone.\n\n374\n00:18:57.750 --> 00:19:02.530\nAll right, now we've assigned the zone but\nwe're not done yet, okay?\n\n375\n00:19:02.530 --> 00:19:06.288\nThe clients,\nanybody that's querying this DNS\n\n376\n00:19:06.288 --> 00:19:10.787\nserver needs to understand\nthat DNSSEC has been enabled.\n\n377\n00:19:10.787 --> 00:19:13.462\nAnd we wanna force them to check.\n\n378\n00:19:13.462 --> 00:19:16.449\nWhen a zone is signed like this,\nif somebody queries it,\n\n379\n00:19:16.449 --> 00:19:18.830\nthe DNS server will\nrespond with the answer.\n\n380\n00:19:18.830 --> 00:19:22.489\nIt'll throw them out the A record,\nthen the RRSIG record.\n\n381\n00:19:22.489 --> 00:19:25.335\nBut the other end doesn't\nnecessarily have to validate it.\n\n382\n00:19:25.335 --> 00:19:27.180\nThey can say, I don't know what this\nother record's for, I don't care.\n\n383\n00:19:27.180 --> 00:19:29.991\nYou gave me the IP address,\nwe're good to go, all right?\n\n384\n00:19:29.991 --> 00:19:33.456\nBut the whole point of doing this is\nto force the end to actually validate\n\n385\n00:19:33.456 --> 00:19:34.392\nthe information.\n\n386\n00:19:34.392 --> 00:19:38.469\nBecause if I don't tell the client to\nvalidate it and it just uses it anyway,\n\n387\n00:19:38.469 --> 00:19:42.545\nwe might as well not set it up on the\nfirst place, they can still get spoofed,\n\n388\n00:19:42.545 --> 00:19:44.290\nnot gonna be a good day.\n\n389\n00:19:44.290 --> 00:19:49.340\nSo what we need to do is we need to\nconfigure the client to use the DNSSEC.\n\n390\n00:19:49.340 --> 00:19:55.080\nAnd for that, we're actually gonna\nuse our name resolution policy table.\n\n391\n00:19:55.080 --> 00:19:58.924\nI'm gonna just close DNS for now and\n\n392\n00:19:58.924 --> 00:20:03.802\nI'm gonna open up group policy management.\n\n393\n00:20:03.802 --> 00:20:07.623\nAnd we're gonna do a no-no, and\nyou know what, I'm not gonna do that.\n\n394\n00:20:07.623 --> 00:20:09.899\nI was gonna say I'm gonna do\nwhat I tell you guys not to do,\n\n395\n00:20:09.899 --> 00:20:11.668\nI'm gonna modify the default and I'm not.\n\n396\n00:20:11.668 --> 00:20:14.946\nI'm gonna make a new DNSSEC policy,\n\n397\n00:20:14.946 --> 00:20:19.296\nattach it to the domain,\nright-click, Edit.\n\n398\n00:20:19.296 --> 00:20:24.544\nAnd in the Settings for DNSSEC, or I\nshould say for the name resolution policy\n\n399\n00:20:24.544 --> 00:20:30.942\ntable, Computer configuration &gt; Policies &gt;\nWindows settings &gt; Name resolution policy.\n\n400\n00:20:30.942 --> 00:20:34.030\nThis is unlike any other\npolicy you see in here.\n\n401\n00:20:34.030 --> 00:20:38.260\nIt's got this form that you fill out and\nAccept and Apply buttons all over it.\n\n402\n00:20:38.260 --> 00:20:39.030\nIt's crazy.\n\n403\n00:20:39.030 --> 00:20:42.493\nSo to which part of the namespace\ndoes this rule apply?\n\n404\n00:20:42.493 --> 00:20:50.061\nIt's gonna be to the suffix,\nlab.itpro.tv is gonna be my suffix.\n\n405\n00:20:50.061 --> 00:20:52.767\nAnd, then I've got this tab here, DNSSEC.\n\n406\n00:20:52.767 --> 00:20:57.929\nI wanna enable DNSSEC and I wanna require\nDNS clients to check that the name and\n\n407\n00:20:57.929 --> 00:21:01.690\naddress data has been\nvalidated by the DNS server.\n\n408\n00:21:01.690 --> 00:21:04.600\nVery important that I check\nthat checkmark there.\n\n409\n00:21:04.600 --> 00:21:06.420\nThen, you have to click Create.\n\n410\n00:21:08.020 --> 00:21:10.280\nAnd this bugged me the first\ntime I went and look at this.\n\n411\n00:21:10.280 --> 00:21:14.860\nCuz you Create and, look, all my\ninformation is gone, did it do anything?\n\n412\n00:21:14.860 --> 00:21:15.642\nWhat did it do?\n\n413\n00:21:15.642 --> 00:21:16.745\n&gt;&gt; It doesn't look like it did anything.\n\n414\n00:21:16.745 --> 00:21:21.206\nAnd, Mike, while you got it on that page\nright there, whatever, the settings,\n\n415\n00:21:21.206 --> 00:21:24.181\nI noticed something that we\ndidn't have to set up, and\n\n416\n00:21:24.181 --> 00:21:26.160\nmaybe you can help me out on that.\n\n417\n00:21:26.160 --> 00:21:28.838\nYou didn't have to set up\nan internal PKI for this.\n\n418\n00:21:28.838 --> 00:21:32.145\nThis server generated its own certificate,\nis that what I'm understanding?\n\n419\n00:21:32.145 --> 00:21:33.078\n&gt;&gt; It did, it generated the keys.\n\n420\n00:21:33.078 --> 00:21:34.536\nWhen we went through that wizard,\n\n421\n00:21:34.536 --> 00:21:37.925\ngave it all the parameters that we wanted\nit to use when it generated those keys.\n\n422\n00:21:37.925 --> 00:21:40.790\nWith how long, how strong,\nwhat algorithms, everything.\n\n423\n00:21:40.790 --> 00:21:42.840\nSo it's all generated behind the scenes.\n\n424\n00:21:42.840 --> 00:21:45.687\nSo if I scroll down, and I missed this\nthe first time, I was like, wait,\n\n425\n00:21:45.687 --> 00:21:48.708\nI don't understand, why is this not,\nI remember when this first came out.\n\n426\n00:21:48.708 --> 00:21:53.019\nName resolution, policy, TML came out,\nwhat, back in 2008 with direct access.\n\n427\n00:21:53.019 --> 00:21:53.740\n&gt;&gt; Yes.\n\n428\n00:21:53.740 --> 00:21:56.560\n&gt;&gt; And I was like, wait,\nI don't get it, where did my rule go?\n\n429\n00:21:56.560 --> 00:22:00.301\nYou have to scroll down a little bit and\nyou'll see, here's a table and\n\n430\n00:22:00.301 --> 00:22:02.242\nthere's the rule that I just created.\n\n431\n00:22:02.242 --> 00:22:04.877\nCuz the idea is I can go back and\ncreate other rules,\n\n432\n00:22:04.877 --> 00:22:06.604\nadd them to this table down here.\n\n433\n00:22:06.604 --> 00:22:09.995\nBut what you wanna do is after\nyou do the enable DNSSEC,\n\n434\n00:22:09.995 --> 00:22:13.111\nmake sure your rule shows up for\nlab.itpro.tv.\n\n435\n00:22:13.111 --> 00:22:15.445\nDNSSEC is set to Yes.\n\n436\n00:22:15.445 --> 00:22:20.185\nAnd down at the bottom here,\nI should have, I'm gonna zoom back out and\n\n437\n00:22:20.185 --> 00:22:22.010\nscroll the rest of the way.\n\n438\n00:22:22.010 --> 00:22:26.057\nThere's the hidden Apply button\nway down there at the bottom.\n\n439\n00:22:26.057 --> 00:22:30.545\nAnd I hit it two or three times because I\ncan't tell if it's actually doing anything\n\n440\n00:22:30.545 --> 00:22:32.546\nor not, so I click it a couple times.\n\n441\n00:22:32.546 --> 00:22:35.677\nHelp us out there, Microsoft,\ngive us some kind of a response there.\n\n442\n00:22:35.677 --> 00:22:38.356\nAll right, so now I've got that\npolicy set up, I'll go ahead and\n\n443\n00:22:38.356 --> 00:22:40.172\nclose the Group Policy Management Editor.\n\n444\n00:22:40.172 --> 00:22:43.616\nI'm gonna minimize group\npolicy console and\n\n445\n00:22:43.616 --> 00:22:49.240\nI'm gonna open up PowerShell\nbecause we need to update policy.\n\n446\n00:22:49.240 --> 00:22:52.410\nWe could wait 90 minutes or\nreboot the server.\n\n447\n00:22:52.410 --> 00:22:55.000\nBut in a production environment,\na lot of times that is not an option.\n\n448\n00:22:57.800 --> 00:22:59.620\nSo we'll wait for\nmy PowerShell to come up.\n\n449\n00:22:59.620 --> 00:23:02.840\nI'll blow up my fonts a little bit so\nyou can see it, but\n\n450\n00:23:02.840 --> 00:23:06.410\nI'm not doing anything we haven't\nseen before, most likely.\n\n451\n00:23:06.410 --> 00:23:11.640\nIf not,\nenjoy my Active Directory shows and\n\n452\n00:23:11.640 --> 00:23:14.480\nyou'll learn about gpupdate switch force.\n\n453\n00:23:15.650 --> 00:23:19.285\nWe're just gonna update that policy\non this DNSserver/domaincontroller.\n\n454\n00:23:20.650 --> 00:23:23.970\n&gt;&gt; Bow Mike, while we're waiting for this,\nI got just a quick question on namespace.\n\n455\n00:23:23.970 --> 00:23:26.980\nSo, it's gonna look at this policy and\nit's gonna say, if you were trying to\n\n456\n00:23:26.980 --> 00:23:30.490\nresolve something with this namespace,\nyou're gonna send it to this server.\n\n457\n00:23:30.490 --> 00:23:35.662\nBut anything else, it's just gonna use\nthe normal interface defying DNS server?\n\n458\n00:23:35.662 --> 00:23:37.279\n&gt;&gt; It's not so\nmuch who it's sending it to,\n\n459\n00:23:37.279 --> 00:23:39.610\nit's whether or\nnot it's gonna validate it.\n\n460\n00:23:39.610 --> 00:23:43.990\nLike if I'm querying for a name that ends\nin lab.itpro.tv, I better make sure I get\n\n461\n00:23:43.990 --> 00:23:47.400\nthat resource record signature and\nI validate the information.\n\n462\n00:23:47.400 --> 00:23:52.408\nBut if I'm querying for Google.com or\nEbay.com, well, I don't know if\n\n463\n00:23:52.408 --> 00:23:57.663\nthey've set up NSEC or DNSSEC and\nmy client shouldn't expect that from them.\n\n464\n00:23:57.663 --> 00:23:58.792\nSo that's why we use that table.\n\n465\n00:23:58.792 --> 00:24:03.763\nWe don't say Every DNS query you ever\nsend out, make sure it's signed.\n\n466\n00:24:03.763 --> 00:24:07.580\nBecause I don't have control over\neverybody else's DNS servers, right?\n\n467\n00:24:07.580 --> 00:24:12.560\nSo I'm saying hey, if it's\na lab.ITPro.tv name you're looking for,\n\n468\n00:24:12.560 --> 00:24:15.450\nmake sure you check the DNSSEC and\nmake sure it's validated.\n\n469\n00:24:15.450 --> 00:24:17.820\nAnd that's what we use that name\nresolution policy table for\n\n470\n00:24:17.820 --> 00:24:19.850\nis to say, when do I check,\nwhen don't I check?\n\n471\n00:24:19.850 --> 00:24:20.600\n&gt;&gt; That makes sense.\n\n472\n00:24:20.600 --> 00:24:22.610\nIt doesn't make any decisions\non where to route it to.\n\n473\n00:24:22.610 --> 00:24:25.480\nIt's just, if it's in that name space,\nI better have a signature on it.\n\n474\n00:24:25.480 --> 00:24:26.690\n&gt;&gt; It better be signed.\n\n475\n00:24:26.690 --> 00:24:27.270\n&gt;&gt; It's not gonna be,\n\n476\n00:24:27.270 --> 00:24:31.950\nit's gonna be normal if I could say this\nright, like any other normal DNS query.\n\n477\n00:24:31.950 --> 00:24:33.760\n&gt;&gt; All right, we're gonna switch\nover to the client now and\n\n478\n00:24:33.760 --> 00:24:35.390\nsee what's going on over there.\n\n479\n00:24:35.390 --> 00:24:37.590\nI disabled the link real\nquick on the policy,\n\n480\n00:24:37.590 --> 00:24:39.900\nbecause I forgot we haven't\nswitched to the client yet.\n\n481\n00:24:39.900 --> 00:24:43.340\nI wanted to show you that the policy\nresolution table that we created\n\n482\n00:24:43.340 --> 00:24:44.370\nis not there yet.\n\n483\n00:24:44.370 --> 00:24:49.604\nSo let's first look at, I'm gonna do\n\n484\n00:24:49.604 --> 00:24:55.670\na git-dns client nrpt policy, all right.\n\n485\n00:24:55.670 --> 00:24:56.770\nAnd I get nothing back.\n\n486\n00:24:56.770 --> 00:24:59.444\nRight?\nWhich means there is no name resolution\n\n487\n00:24:59.444 --> 00:25:02.149\npolicy table policy in\nplace on this client.\n\n488\n00:25:02.149 --> 00:25:08.233\nI'll go back over to the domain controller\nand I'm just gonna enable a link for\n\n489\n00:25:08.233 --> 00:25:12.934\nthat policy we had just created,\nbasically turn it back on,\n\n490\n00:25:12.934 --> 00:25:17.050\nback over to the client,\nand we'll update policy.\n\n491\n00:25:17.050 --> 00:25:21.831\nGP update switch force to\nrefresh our group policy.\n\n492\n00:25:26.849 --> 00:25:30.200\nAnd then as soon as that's done,\n\n493\n00:25:30.200 --> 00:25:36.320\nrun that same command again,\nget-DNSclient NRPT policy.\n\n494\n00:25:36.320 --> 00:25:40.070\nAnd now we can see the policy is in place,\nand what we want to verify,\n\n495\n00:25:40.070 --> 00:25:44.490\nis we set our policy correctly\nDNS SEC validation required,\n\n496\n00:25:44.490 --> 00:25:49.050\nis now set to true, so\nthat tells me the policy is in place.\n\n497\n00:25:49.050 --> 00:25:51.280\nNow let's see if we can resolve a name.\n\n498\n00:25:51.280 --> 00:25:54.440\nLet me just clear that screen,\nget us back up to the top.\n\n499\n00:25:55.460 --> 00:26:03.140\nI'm gonna do my resolve-dnsname and\n\n500\n00:26:03.140 --> 00:26:07.020\nwe'll look for the SVR01 just as one of\nthe computers I know that's in there.\n\n501\n00:26:07.020 --> 00:26:13.200\nTell it to use server DC01,\nthat's my DNS server.\n\n502\n00:26:13.200 --> 00:26:18.510\nAnd I also wanna do a DNSsecok\nwhich turns on that flag.\n\n503\n00:26:18.510 --> 00:26:23.840\nNow in the client that policy is in place\nand when it queries DNS in the background.\n\n504\n00:26:23.840 --> 00:26:26.015\nIf I open up my browser and\nI type in Google.\n\n505\n00:26:26.015 --> 00:26:30.690\nSorry, not Google, something.itpro.tv,\nit's gonna use that table.\n\n506\n00:26:30.690 --> 00:26:34.030\nIt's gonna validate the securities\nin place, the table tells it to.\n\n507\n00:26:34.030 --> 00:26:38.890\nWhen I'm doing it through PowerShell\nlike this with the resolve-DNS name I'm\n\n508\n00:26:38.890 --> 00:26:42.130\nbypassing that stuff, so I want to force\nit to do the same thing the client\n\n509\n00:26:42.130 --> 00:26:46.490\nwould normally be doing,\nwhich is why I use this -DNS sec ok.\n\n510\n00:26:46.490 --> 00:26:51.030\nThat basically says, turn on the DNS\nsec flag within the packet or\n\n511\n00:26:51.030 --> 00:26:54.080\nthe query that's being sent so\nthat way the DNS server,\n\n512\n00:26:54.080 --> 00:26:58.280\nif it has any DNS sec information,\nlike a resource record signatures\n\n513\n00:26:58.280 --> 00:27:01.520\nit'll send that information back\nwith the a record or the response.\n\n514\n00:27:01.520 --> 00:27:04.750\nSo we'll hit Enter, and there we go.\n\n515\n00:27:04.750 --> 00:27:07.090\nWe can see that I did get an answer.\n\n516\n00:27:07.090 --> 00:27:10.330\nAnd really what I'm looking\nat is right down here.\n\n517\n00:27:10.330 --> 00:27:12.800\nThat it is signed, who signed it.\n\n518\n00:27:12.800 --> 00:27:15.350\nIt's got the signature,\nthat doesn't do me a lot of good, but\n\n519\n00:27:15.350 --> 00:27:21.420\nthat's being validated using those DNS\nkeys by the client in the background.\n\n520\n00:27:21.420 --> 00:27:24.250\nRight and that my friends is DNSsec.\n\n521\n00:27:24.250 --> 00:27:27.790\nA little,\njust a quick demonstration on one,\n\n522\n00:27:27.790 --> 00:27:32.290\nhow we can turn it on and how we see\nthe client validating that information.\n\n523\n00:27:32.290 --> 00:27:36.730\nOr how we tell the clients, more\nimportantly, that they should use DNSsec\n\n524\n00:27:36.730 --> 00:27:40.350\nif they're using that particular zone or\nanything ends in lab.itpro.tv.\n\n525\n00:27:40.350 --> 00:27:41.360\n&gt;&gt; Yeah, that's pretty interesting.\n\n526\n00:27:41.360 --> 00:27:42.060\nI like that, Mike.\n\n527\n00:27:42.060 --> 00:27:45.300\nYou know you were talking about\nthe non-repudiation part there where now\n\n528\n00:27:45.300 --> 00:27:49.110\nI know that it's gonna have to be coming\nfrom the DNS server that we think it is.\n\n529\n00:27:49.110 --> 00:27:51.840\nNow it does look like we're coming\nto the end of another episode here.\n\n530\n00:27:51.840 --> 00:27:54.630\nBut Mike, before we sign out,\ndo you have any additional\n\n531\n00:27:54.630 --> 00:27:58.500\nthings you'd like to throw in this one or\nare we headed for a part five?\n\n532\n00:27:58.500 --> 00:27:59.860\n&gt;&gt; No I don't think\nwe're good on this one.\n\n533\n00:27:59.860 --> 00:28:03.749\nWe do have another part but it's gonna\nbe dealing with DNS policies, and\n\n534\n00:28:03.749 --> 00:28:06.720\nanother new feature in Server2016.\n\n535\n00:28:06.720 --> 00:28:09.480\n&gt;&gt; All right, well we appreciate\nyou all being here and watching us,\n\n536\n00:28:09.480 --> 00:28:12.710\nwe're gonna go and sign out for\nITpro.TV, I've been your host Wes Bryan.\n\n537\n00:28:12.710 --> 00:28:15.439\n&gt;&gt; An I am Mike Rodrick and\nwe'll see you next time.\n\n538\n00:28:15.439 --> 00:28:21.490\n[MUSIC]\n\n539\n00:28:21.490 --> 00:28:25.038\nThank you for watching ITPRO.TV\n\n",
          "vimeoId": "193560267"
        },
        {
          "description": "In this episode, Wes and Mike continue their discussion on the world of DNS. They look at the ability to have more granular control over DNS through DNS policies",
          "length": "1839",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-5-install_and_configure_dns_servers_pt5-111616.00_30_23_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-5-install_and_configure_dns_servers_pt5-111616.00_30_23_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-1-5-install_and_configure_dns_servers_pt5-111616.00_30_23_27.Still001-sm.jpg",
          "title": "Install and Configure DNS Servers Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.170\nWelcome to ITProTV.\n\n2\n00:00:01.170 --> 00:00:03.535\nI'm your host Don Pezet.\n\n3\n00:00:03.535 --> 00:00:07.202\n[CROSSTALK]\n\n4\n00:00:07.202 --> 00:00:11.893\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.893 --> 00:00:15.230\n&gt;&gt; Welcome back to another\nexciting episode here at ITProTV.\n\n6\n00:00:15.230 --> 00:00:17.330\nI'm your host Wes Bryan,\nand in today's episode,\n\n7\n00:00:17.330 --> 00:00:19.950\nwe're continuing through our\nnetworking with Windows Server 2016.\n\n8\n00:00:19.950 --> 00:00:24.230\nAnd we've actually been in this topic for\na little bit, because it is a very,\n\n9\n00:00:24.230 --> 00:00:25.190\nvery diverse topic.\n\n10\n00:00:25.190 --> 00:00:28.590\nAnd really, we could spend the rest\nof the time in server and DNS so\n\n11\n00:00:28.590 --> 00:00:30.670\nwe're gonna be looking at\nsome really cool things.\n\n12\n00:00:30.670 --> 00:00:32.490\nI don't want to blow the surprise here for\n\n13\n00:00:32.490 --> 00:00:34.790\nyou because of the fact that\nI've seen some of the notes and\n\n14\n00:00:34.790 --> 00:00:37.370\nto help us out of this topic is\nnone other than Mr Mike Rodrick.\n\n15\n00:00:37.370 --> 00:00:38.260\nMike, how you doing, sir?\n\n16\n00:00:38.260 --> 00:00:39.290\n&gt;&gt; I'm doing great, Wes.\n\n17\n00:00:39.290 --> 00:00:42.070\nThanks for having me back here.\n\n18\n00:00:42.070 --> 00:00:44.530\nDNS, I think I've said it a few times,\na few different episodes.\n\n19\n00:00:44.530 --> 00:00:46.730\nOne of my favorite topic also,\nas Wes pointed out,\n\n20\n00:00:46.730 --> 00:00:51.720\na big big portion of the exam and in the\nreal world, You've got to understand your\n\n21\n00:00:51.720 --> 00:00:56.980\nDNS cuz a lot of troubles that our\nclients end up having come back to DNS.\n\n22\n00:00:56.980 --> 00:01:00.030\nSo to this episode, what we're gonna\nbe looking at is something known as\n\n23\n00:01:00.030 --> 00:01:03.850\nDNS policies, these are new 2016.\n\n24\n00:01:03.850 --> 00:01:06.680\nSo if you probably, something that you\nhaven't had the chance to play with yet,\n\n25\n00:01:06.680 --> 00:01:09.040\nmake sure you jump over to our labs and\ntry these things out.\n\n26\n00:01:09.040 --> 00:01:11.510\nCuz we're gonna go over some of\nthe things you can do with this.\n\n27\n00:01:11.510 --> 00:01:14.560\nI've got a demonstration set up where\nwe're gonna demonstrate one of the things\n\n28\n00:01:14.560 --> 00:01:15.420\nI can do with it.\n\n29\n00:01:15.420 --> 00:01:17.100\nBut I can't possibly\ndemonstrate all those.\n\n30\n00:01:17.100 --> 00:01:19.300\nYou really need to play around with this.\n\n31\n00:01:19.300 --> 00:01:23.530\nCuz it does get a little complex\nwith some of these policies\n\n32\n00:01:23.530 --> 00:01:24.820\nthat we can end up setting up.\n\n33\n00:01:24.820 --> 00:01:26.570\nA lot of new, and it's all new.\n\n34\n00:01:26.570 --> 00:01:30.650\nNew parameters that we have to set,\nnew options with our DNS or\n\n35\n00:01:30.650 --> 00:01:34.280\nour PowerShell commands that we can run.\n\n36\n00:01:34.280 --> 00:01:38.920\nSo let's start by talking about you know,\nwhat the heck these DNS policies are and\n\n37\n00:01:38.920 --> 00:01:42.360\nreally it is just a policy that's going to\n\n38\n00:01:42.360 --> 00:01:47.290\naffect the way our DNS\nserver responds to queries.\n\n39\n00:01:47.290 --> 00:01:47.980\nThat's what we're doing.\n\n40\n00:01:47.980 --> 00:01:52.150\nWe're creating policies that\nare gonna modify the default behavior\n\n41\n00:01:52.150 --> 00:01:55.820\nof our DNS server when\nit responds to policies.\n\n42\n00:01:55.820 --> 00:01:59.240\nWhy, why should I modify anything,\nDNS works great.\n\n43\n00:01:59.240 --> 00:02:00.400\nWhat is there to modify?\n\n44\n00:02:00.400 --> 00:02:04.780\nWell some of the things that\nwe could do with DNS policies\n\n45\n00:02:04.780 --> 00:02:06.690\nApplication high availability.\n\n46\n00:02:06.690 --> 00:02:11.870\nWe can actually re direct based on\nthe health of the application server.\n\n47\n00:02:11.870 --> 00:02:15.340\nIn other words my DNS\nserver when you query for\n\n48\n00:02:15.340 --> 00:02:19.080\nthe name of the application server you get\na user that's connecting that application,\n\n49\n00:02:19.080 --> 00:02:22.480\nin the background the application\nis reaching out talking to DNS.\n\n50\n00:02:22.480 --> 00:02:26.050\nGet the IP address of the server that's\nhosting the application or the data for\n\n51\n00:02:26.050 --> 00:02:27.680\nthe application.\n\n52\n00:02:27.680 --> 00:02:31.340\nThe DNS server can say wait,\nI'm gonna change my answer\n\n53\n00:02:31.340 --> 00:02:34.320\nbased on the health of those nodes\nthat are hosting that application.\n\n54\n00:02:34.320 --> 00:02:37.250\nIf that was then, I'm not gonna give\nit to you, I'm gonna give you this one.\n\n55\n00:02:37.250 --> 00:02:42.240\nOr we can do traffic management,\nredirect to the closest data center.\n\n56\n00:02:42.240 --> 00:02:49.050\nWe can basically Lump subnets, we can\ncreate these geolocations basically.\n\n57\n00:02:49.050 --> 00:02:53.300\nLike USA and Europe or\nAmericas and Europe.\n\n58\n00:02:53.300 --> 00:02:55.580\nAnd I might have a data center in both.\n\n59\n00:02:55.580 --> 00:03:01.490\nAnd if the requester is coming from an IP\naddress based out of the US, then I'm\n\n60\n00:03:01.490 --> 00:03:06.460\ngonna give him the IP address of the web\nserver that's hosted in my US data center.\n\n61\n00:03:06.460 --> 00:03:11.320\nBut if the request is coming from an IP\naddress range that's European based,\n\n62\n00:03:11.320 --> 00:03:14.620\nthen I'll give them the IP address\nof the web server that's hosted\n\n63\n00:03:14.620 --> 00:03:17.360\nin my European data center.\n\n64\n00:03:17.360 --> 00:03:18.540\nThat's pretty cool.\n\n65\n00:03:18.540 --> 00:03:21.380\n&gt;&gt; Mike, that kind of reminds me of\na topic that you talk about pretty\n\n66\n00:03:21.380 --> 00:03:25.640\nheavily in your Active Directory episodes\nwhen you talk about defining sites.\n\n67\n00:03:25.640 --> 00:03:28.740\nRight, Active Directory's a logical\nboundary doesn't necessarily map\n\n68\n00:03:28.740 --> 00:03:30.240\nto our physical locations.\n\n69\n00:03:30.240 --> 00:03:33.270\nYou say pretty much we can do something\nlike that where we can map this logical\n\n70\n00:03:33.270 --> 00:03:35.590\ninfrastructure more to a physical layout.\n\n71\n00:03:35.590 --> 00:03:38.810\n&gt;&gt; Absolutely, and these are nodes that\nare not part of my active directory.\n\n72\n00:03:38.810 --> 00:03:40.480\nThese are just visitors to my\n\n73\n00:03:40.480 --> 00:03:41.310\nwebsite if they-\n&gt;&gt; Sure.\n\n74\n00:03:41.310 --> 00:03:43.120\n&gt;&gt; Happen to be coming\nfrom a European address.\n\n75\n00:03:43.120 --> 00:03:46.270\nNow one thing I will point out here,\nwhile we're on this subject, and\n\n76\n00:03:46.270 --> 00:03:50.970\nit affects all of these really,\nis when these DNS policies kick in.\n\n77\n00:03:50.970 --> 00:03:53.140\nYou know,\nif we think about the way DNS works,\n\n78\n00:03:53.140 --> 00:03:55.400\nback to our first episode\nmany moons ago on DNS.\n\n79\n00:03:55.400 --> 00:03:59.510\nWhen we started this, well I don't know,\nwe're five, six episodes in now.\n\n80\n00:03:59.510 --> 00:04:01.540\nYou know,\nwe talked about the way DNS works.\n\n81\n00:04:01.540 --> 00:04:07.810\nMy client sends a query to my local DNS\nserver or the ISP that I'm connected to.\n\n82\n00:04:07.810 --> 00:04:12.220\nThat ISP goes to the root, the top level,\nfinds the authoritative server,\n\n83\n00:04:12.220 --> 00:04:15.530\nsends the request, gets the information,\ngives it back to the client.\n\n84\n00:04:15.530 --> 00:04:18.130\nSo in other words, the authoritative\nserver, the one we're gonna be creating\n\n85\n00:04:18.130 --> 00:04:21.470\nthese policies on,\nwhose IP address is he seeing?\n\n86\n00:04:21.470 --> 00:04:25.630\nHe's not seeing the client's, he's\nactually seeing the client's DNS server.\n\n87\n00:04:25.630 --> 00:04:29.000\nThat's the one that actually does\nthe request to the authoritative.\n\n88\n00:04:29.000 --> 00:04:34.010\nSo, yes we can, but understand that\nthere's a little bit of give in there,\n\n89\n00:04:34.010 --> 00:04:38.070\nor a little but of, I'm trying to\nthink of a good word to describe that.\n\n90\n00:04:38.070 --> 00:04:41.890\nMost likely, you're in the same\nlocation as your ISP, so\n\n91\n00:04:41.890 --> 00:04:44.620\nit's really not gonna cause a big problem,\nright?\n\n92\n00:04:44.620 --> 00:04:46.970\nIt's very doubtful that you're\nhere in the States, yet\n\n93\n00:04:46.970 --> 00:04:49.940\nyou happen to be bouncing\nthrough a DNS server\n\n94\n00:04:49.940 --> 00:04:54.700\nthat's over there in Europe somewhere,\nso it's not gonna be that far off.\n\n95\n00:04:54.700 --> 00:04:56.480\nHopefully that makes sense.\n\n96\n00:04:56.480 --> 00:04:57.290\nMy ISP might be in Tampa,\n\n97\n00:04:57.290 --> 00:05:01.040\nmight be in Georgia,\nsomewhere in Atlanta or something.\n\n98\n00:05:01.040 --> 00:05:03.990\nIt's still gonna see it\nas a US-based IP address,\n\n99\n00:05:03.990 --> 00:05:07.000\nI'm still gonna get redirected\nto the US-based data center.\n\n100\n00:05:08.070 --> 00:05:11.200\nWe can just split brain DNS,\nand we can do this with DNS but\n\n101\n00:05:11.200 --> 00:05:15.780\nit was a very manual thing that\nwe did with this policies.\n\n102\n00:05:15.780 --> 00:05:18.610\nI can give you a different IP address\nbased on whether you're coming\n\n103\n00:05:18.610 --> 00:05:22.790\nfrom an internal IP address or\nan external IP address, right.\n\n104\n00:05:22.790 --> 00:05:24.780\nWe can do filtering.\n\n105\n00:05:24.780 --> 00:05:29.570\nWe can query from a list of malicious\nIP address, it can be blocked.\n\n106\n00:05:29.570 --> 00:05:31.140\nSo if we know, that we've got,\n\n107\n00:05:31.140 --> 00:05:34.610\nwe see in our log files somebody is\nhammering our DNS server or trying to do\n\n108\n00:05:34.610 --> 00:05:38.190\nsomething malicious on our network,\nI can completely drop those DNS queries.\n\n109\n00:05:38.190 --> 00:05:41.910\nI can say look, any DNS queries coming\nfrom this subnet just don't even bother.\n\n110\n00:05:41.910 --> 00:05:44.150\nBlock them before they get there.\n\n111\n00:05:44.150 --> 00:05:45.750\nWe can do forensics.\n\n112\n00:05:45.750 --> 00:05:49.160\nWhere malicious clients are redirected\nto what they call a sinkhole\n\n113\n00:05:49.160 --> 00:05:52.210\ninstead of the computer they're\ntrying to reach, all right.\n\n114\n00:05:52.210 --> 00:05:53.700\nNow that's a little misleading.\n\n115\n00:05:55.450 --> 00:05:58.600\nBasically it's not so\nmuch malicious clients.\n\n116\n00:05:58.600 --> 00:06:04.380\nAs what we're doing is we would take\nknown bad sites and if one of my users,\n\n117\n00:06:04.380 --> 00:06:09.595\nso they're not malicious but\nthey're I won't say it.\n\n118\n00:06:09.595 --> 00:06:14.315\nOn my users, if they try to connect\nto some place that's known bad,\n\n119\n00:06:14.315 --> 00:06:19.375\nI basically have a list and\nI can say redirect them somewhere else.\n\n120\n00:06:19.375 --> 00:06:22.015\nDon't allow them to go that place.\n\n121\n00:06:22.015 --> 00:06:24.625\nDon't go to those IP address ranges.\n\n122\n00:06:24.625 --> 00:06:29.555\nTime of day restrictions,\nwe can do redirecting to the data center\n\n123\n00:06:29.555 --> 00:06:33.590\nhere If it's a certain time of day.\n\n124\n00:06:33.590 --> 00:06:36.720\nIf it's midnight, 1 o'clock, we'll\nredirect you to a data center that's in\n\n125\n00:06:36.720 --> 00:06:40.410\nan area of the world that's up running\nat 9 to 5, or whatever the case may be.\n\n126\n00:06:40.410 --> 00:06:42.460\n&gt;&gt; That sounds like it would be really\nhandy if you're running some kind of\n\n127\n00:06:42.460 --> 00:06:46.820\ntraffic analysis and you realize there's\na peak time in your data centers that\n\n128\n00:06:46.820 --> 00:06:49.360\nyou can direct that if you\nneed to direct the queries.\n\n129\n00:06:49.360 --> 00:06:51.770\nAbsolutely, so\na lot of cool things it can do.\n\n130\n00:06:51.770 --> 00:06:55.950\nAnd there's more really if we start\ngetting creative with some of these rules\n\n131\n00:06:55.950 --> 00:06:58.790\ncuz we can also combine\nsome of these policies.\n\n132\n00:06:58.790 --> 00:07:02.340\nThere are some new DNS objects that we\nneed to be familiar with that allow these\n\n133\n00:07:02.340 --> 00:07:04.680\npolicies or\nallow us to create these policies.\n\n134\n00:07:04.680 --> 00:07:06.104\nThere are client subnets.\n\n135\n00:07:06.104 --> 00:07:08.530\nOkay, client subnet, that's not new.\n\n136\n00:07:08.530 --> 00:07:10.880\nIt is in respect to DNS, right?\n\n137\n00:07:10.880 --> 00:07:13.490\nI can create an object\nin DNS that represents\n\n138\n00:07:13.490 --> 00:07:16.890\na subnet that I can use in these policies.\n\n139\n00:07:16.890 --> 00:07:20.350\nI can represent an IPV4 or an IPV6 subnet.\n\n140\n00:07:20.350 --> 00:07:22.820\nWe also have recursion scopes.\n\n141\n00:07:22.820 --> 00:07:26.590\nWe can actually control the whether or\nnot we're allowed to use,\n\n142\n00:07:26.590 --> 00:07:32.470\nrecursion based on the namespace\nthat you're trying to resolve.\n\n143\n00:07:32.470 --> 00:07:34.130\nWe can do zone scopes.\n\n144\n00:07:35.950 --> 00:07:39.060\nThere is a new object called zone scopes.\n\n145\n00:07:39.060 --> 00:07:42.460\nZone scopes are really cool, I'm gonna\nput those in the demonstration here.\n\n146\n00:07:42.460 --> 00:07:47.410\nBasically, we're gonna create\ninstances of our zone.\n\n147\n00:07:47.410 --> 00:07:51.342\nAnd we can modify records\nin one instance of that.\n\n148\n00:07:51.342 --> 00:07:53.418\nSo it's a copy of the default zone.\n\n149\n00:07:53.418 --> 00:07:56.310\nLet's say I had a zone for lab.itpro.tv.\n\n150\n00:07:56.310 --> 00:07:59.942\nI can create a zone scope,\nThat's all those same records.\n\n151\n00:07:59.942 --> 00:08:01.290\nIt's a logical thing.\n\n152\n00:08:01.290 --> 00:08:02.568\nAnd I'm gonna give it a name.\n\n153\n00:08:02.568 --> 00:08:06.940\nAnd then I can go in and modify\nthe records that are in that zone scope.\n\n154\n00:08:06.940 --> 00:08:12.550\nSo that if you, when you send that query\nbased on what you're doing with that query\n\n155\n00:08:12.550 --> 00:08:16.080\nI can say don't give them the answer,\nthe IP address from the normal zone.\n\n156\n00:08:16.080 --> 00:08:18.260\nGive him the IP address\nfrom the zone scope and\n\n157\n00:08:18.260 --> 00:08:20.240\nthat will make more sense\nas I go through this demo.\n\n158\n00:08:20.240 --> 00:08:23.840\nI know that's kind of twisted\nto just hear me say that, but\n\n159\n00:08:23.840 --> 00:08:25.240\nI'll show you what I mean.\n\n160\n00:08:25.240 --> 00:08:28.380\nThere's also policy types\nthat we have to deal with.\n\n161\n00:08:28.380 --> 00:08:30.870\nWe can do query resolution policies,\n\n162\n00:08:30.870 --> 00:08:33.710\nhow those queries are handled\nby the incoming server.\n\n163\n00:08:33.710 --> 00:08:37.200\nWe've got our recursion\npolicies that handle\n\n164\n00:08:37.200 --> 00:08:39.610\nhow DNS server does\nrecursion based on the name.\n\n165\n00:08:39.610 --> 00:08:43.490\nAnd then we've got zone transfer\npolicies that effect whether or\n\n166\n00:08:43.490 --> 00:08:48.010\nnot a zone transfer is allowed based on\nwhere maybe that request is coming from.\n\n167\n00:08:48.010 --> 00:08:52.370\nAnd I know most of this can\nbe done by other means, but\n\n168\n00:08:52.370 --> 00:08:56.710\nnow we're able to implement it again\nthrough these policies which are reusable.\n\n169\n00:08:56.710 --> 00:08:59.910\nWe can take them from one\nDNS server to another.\n\n170\n00:08:59.910 --> 00:09:01.520\nReally neat stuff.\n\n171\n00:09:01.520 --> 00:09:02.720\nSo let's take a look at it.\n\n172\n00:09:02.720 --> 00:09:05.700\nLet's see if we can't make\nanymore sense out of it.\n\n173\n00:09:05.700 --> 00:09:09.380\nI'll go through these different\npieces parts and I'll explain.\n\n174\n00:09:09.380 --> 00:09:14.060\nSo what I just defined will start to\nmake sense as I go through this lab.\n\n175\n00:09:14.060 --> 00:09:15.340\nSo let's take a look at my screen here.\n\n176\n00:09:16.380 --> 00:09:20.456\nAnd what I'm gonna do, I'm on our domain\ncontroller who's also our DNS server.\n\n177\n00:09:20.456 --> 00:09:23.929\nAnd I'll go ahead and open up DNS just so\nwe can see what's going on over there.\n\n178\n00:09:25.320 --> 00:09:29.000\nI've got one zone should for\nITPro or Lab.ITPro.TV.\n\n179\n00:09:29.000 --> 00:09:32.900\nI forgot we digitally signed\nthis in a previous episode, so\n\n180\n00:09:32.900 --> 00:09:34.670\nit looks really messy.\n\n181\n00:09:34.670 --> 00:09:37.389\nBut it's secure,\nthat's the good thing, right?\n\n182\n00:09:37.389 --> 00:09:38.493\nAll right, so we got DNS there.\n\n183\n00:09:38.493 --> 00:09:41.084\nWhat I'm gonna do is open\nup a PowerShell window.\n\n184\n00:09:44.602 --> 00:09:47.490\nLet's just do a little PowerShell.\n\n185\n00:09:51.995 --> 00:09:54.880\nAnd my computer's just\nbogged down right now.\n\n186\n00:09:54.880 --> 00:10:00.120\nThere we go, we get our PowerShell\nwindow opened up, all right.\n\n187\n00:10:00.120 --> 00:10:02.040\nSo the first thing we're gonna do,\n\n188\n00:10:02.040 --> 00:10:05.119\nis we're gonna create these\nDNS client subnets, okay?\n\n189\n00:10:05.119 --> 00:10:10.826\nSo the command for that is gonna be,\nadd-dnsserverclientsubnet and\n\n190\n00:10:10.826 --> 00:10:15.450\nwe'll give it a chance\nto tab auto fill here.\n\n191\n00:10:15.450 --> 00:10:17.170\nAgain, it's acting a little slow,\n\n192\n00:10:17.170 --> 00:10:19.770\nI probably have a Windows\nupdate at the background.\n\n193\n00:10:19.770 --> 00:10:22.165\nDash name.\n\n194\n00:10:22.165 --> 00:10:23.808\nWow really slow.\n\n195\n00:10:23.808 --> 00:10:25.290\nThere we go.\n\n196\n00:10:25.290 --> 00:10:26.196\nIt'll pick up in a second.\n\n197\n00:10:26.196 --> 00:10:31.891\nAnd I'm going to call\nthis one internalIPs.\n\n198\n00:10:31.891 --> 00:10:34.460\nThat ends my quote.\n\n199\n00:10:34.460 --> 00:10:39.663\nAnd then I'm going to do,\nthis is an IPV4subnet,\n\n200\n00:10:39.663 --> 00:10:45.237\nand the range is going to be 10.0.0.0/16.\n\n201\n00:10:46.654 --> 00:10:47.598\nAnd I'll hit Enter.\n\n202\n00:10:50.406 --> 00:10:52.150\nNo red text, we're good to go.\n\n203\n00:10:52.150 --> 00:10:56.370\nThen I'm gonna do that same command again,\nso I'm gonna cheat and\n\n204\n00:10:56.370 --> 00:10:57.670\njust fix a couple things here.\n\n205\n00:10:57.670 --> 00:11:01.120\nAnd I'm gonna make another\nDNS server client subnet,\n\n206\n00:11:01.120 --> 00:11:04.000\nthis one is gonna be external IPs.\n\n207\n00:11:06.170 --> 00:11:09.870\nAnd I'm doing this all virtually,\nso I'm just gonna fake it out.\n\n208\n00:11:09.870 --> 00:11:19.310\nWe're gonna say 192.168.100.0/24,\nand I'll hit enter.\n\n209\n00:11:19.310 --> 00:11:22.437\nSo basically, I want to say anything\nthat's coming from that range,\n\n210\n00:11:22.437 --> 00:11:25.098\nwe're pretending the 192168\nis the outside world.\n\n211\n00:11:25.098 --> 00:11:26.672\nOkay?\n\n212\n00:11:26.672 --> 00:11:31.552\nAnd I've been doing\nGet-DnsServerClientSubnet\n\n213\n00:11:31.552 --> 00:11:36.110\nwe should see those two\nthat we just created.\n\n214\n00:11:36.110 --> 00:11:39.090\nOne called ExternalIPs,\none called InternalIPs.\n\n215\n00:11:40.120 --> 00:11:42.380\nAnd so this is how you would set it up.\n\n216\n00:11:42.380 --> 00:11:45.170\nYou know when I was talking about like for\nthe data centers.\n\n217\n00:11:45.170 --> 00:11:49.150\nYou can go out and you can find,\nI'll try to find that website I was using.\n\n218\n00:11:49.150 --> 00:11:52.910\nYou can see where blocks of\nIP addresses are assigned, so\n\n219\n00:11:52.910 --> 00:11:57.970\nhow do I know European subnets,\nright, how do I make that.\n\n220\n00:11:57.970 --> 00:12:00.470\nI need to know what blocks\nare assigned over there, so\n\n221\n00:12:00.470 --> 00:12:03.927\nthere's a pretty cool website that you\ncan use to find some of that information,\n\n222\n00:12:03.927 --> 00:12:07.470\nI'll see if I can throw\nthat in the notes for you.\n\n223\n00:12:07.470 --> 00:12:10.650\nAll right, so so\nfar we've got our client subnets created.\n\n224\n00:12:10.650 --> 00:12:13.810\nNext thing we want to do, Wes,\nis create the scope of the zones.\n\n225\n00:12:13.810 --> 00:12:17.660\nThese are going to be unique\ninstances of the zone.\n\n226\n00:12:17.660 --> 00:12:20.230\nAgain, I've got the zone right here.\n\n227\n00:12:20.230 --> 00:12:23.400\nBut I want to make changes to it,\nbut not to the actual zone.\n\n228\n00:12:23.400 --> 00:12:27.516\nI want to make a copy of the zone and\nthen make changes to that copy, so\n\n229\n00:12:27.516 --> 00:12:32.286\nthat depending on what IP address you're\nusing when you hit the DNS server I can\n\n230\n00:12:32.286 --> 00:12:36.866\nuse either this information or I can\nuse that information out of that copy.\n\n231\n00:12:36.866 --> 00:12:38.435\nAll right?\n\n232\n00:12:38.435 --> 00:12:41.597\nThat's where the power comes in\nis being able to create these\n\n233\n00:12:41.597 --> 00:12:43.430\ninstances of that zone.\n\n234\n00:12:43.430 --> 00:12:48.820\nThe default zone scope has the same\nname as the zone itself so\n\n235\n00:12:48.820 --> 00:12:53.930\nthat all our legacy DNS\noperations can still occur.\n\n236\n00:12:53.930 --> 00:12:58.975\nSo we're gonna do add-dnsserverresource,\nit's a long one.\n\n237\n00:12:58.975 --> 00:13:01.170\nAdd-dnsserverresourcerecord.\n\n238\n00:13:01.170 --> 00:13:04.080\nSorry that's not what we're doing.\n\n239\n00:13:04.080 --> 00:13:07.730\nServer zone scope, gotta do that.\n\n240\n00:13:07.730 --> 00:13:08.370\nZone scope.\n\n241\n00:13:09.610 --> 00:13:14.740\nAnd this one's gonna be a dash zone name,\nand I'm gonna call this one,\n\n242\n00:13:14.740 --> 00:13:22.480\nwell my zone is lab.itpro.tv and\nthen the dash name.\n\n243\n00:13:24.270 --> 00:13:26.540\nOops, forgot my quote there, sorry.\n\n244\n00:13:26.540 --> 00:13:27.787\nDash name.\n\n245\n00:13:27.787 --> 00:13:28.681\nAnd this is the name,\n\n246\n00:13:28.681 --> 00:13:31.520\nyou're gonna assign to the unique\ninstance that we're creating.\n\n247\n00:13:31.520 --> 00:13:39.400\nSo, I'm just gonna call it\ninternal scope and I'll hit enter.\n\n248\n00:13:39.400 --> 00:13:44.820\nAnd I'm gonna do the same command again\n\n249\n00:13:44.820 --> 00:13:49.079\nexcept I'm gonna make an external scope.\n\n250\n00:13:51.030 --> 00:13:55.800\nSo, let's do a Get -DnServerZoneScope.\n\n251\n00:13:55.800 --> 00:13:59.014\nAnd there's too many S's in there.\n\n252\n00:14:06.036 --> 00:14:10.804\nAnd the zone I want,\nI forgot my parameter is lab.itpro.tv.\n\n253\n00:14:12.570 --> 00:14:17.010\nAnd there I can see, let's zoom in real\nquick on this, there's the default scope.\n\n254\n00:14:17.010 --> 00:14:21.430\nThat's my normal DNS zone that's\nbeing hosted by this DNS server, but\n\n255\n00:14:21.430 --> 00:14:22.630\nthen there is two more.\n\n256\n00:14:22.630 --> 00:14:26.760\nThese unique virtual scopes or\n\n257\n00:14:26.760 --> 00:14:30.930\ninstances that I've\ncreated of that DNS zone.\n\n258\n00:14:33.080 --> 00:14:37.120\nNow, we're gonna add records,\nnot to the zone itself but\n\n259\n00:14:37.120 --> 00:14:38.900\nto the zone scopes that we just created.\n\n260\n00:14:40.170 --> 00:14:45.259\nThe command for that is gonna be add\n\n261\n00:14:45.259 --> 00:14:51.409\n-DnsServerResourceRecord-zone name\n\n262\n00:14:53.574 --> 00:14:59.972\nAnd that's gonna be lab.itpro.tv -a,\n\n263\n00:14:59.972 --> 00:15:04.592\ncuz I'm gonna add an a record,\n\n264\n00:15:04.592 --> 00:15:07.810\nall right, -name.\n\n265\n00:15:07.810 --> 00:15:09.388\nWhat's the record I'm adding?\n\n266\n00:15:09.388 --> 00:15:13.278\nwww in this case.\n\n267\n00:15:13.278 --> 00:15:18.218\n-IPV4 address.\n\n268\n00:15:18.218 --> 00:15:20.709\nAnd let's see what did we say\nwe're adding this first one?\n\n269\n00:15:20.709 --> 00:15:22.290\nWe're gonna do my internal.\n\n270\n00:15:22.290 --> 00:15:28.445\nSo that's gonna be 10.0.100.101,\n\n271\n00:15:28.445 --> 00:15:33.724\nI believe is the IP\naddress I gave that guy.\n\n272\n00:15:33.724 --> 00:15:35.930\nAnd we'll hit, I'm sorry, that's 100.\n\n273\n00:15:35.930 --> 00:15:40.710\nLet me just double check that.\n\n274\n00:15:40.710 --> 00:15:42.427\nYou know my memory is fantastic.\n\n275\n00:15:47.903 --> 00:15:53.603\nLet's just pull up quick,\nlittle PowerShell.\n\n276\n00:15:53.603 --> 00:15:57.876\nI say quick, nothing is being\nquick on these machines today.\n\n277\n00:15:57.876 --> 00:15:59.803\nAnd there we go, a little PowerShell.\n\n278\n00:16:12.866 --> 00:16:15.655\n10.0.100.100, all right.\n\n279\n00:16:15.655 --> 00:16:16.392\nGood to go there.\n\n280\n00:16:22.383 --> 00:16:25.245\nAll right, so again, back up,\njust had to switch over there and\n\n281\n00:16:25.245 --> 00:16:27.610\nverify that IP address that I'm typing in.\n\n282\n00:16:27.610 --> 00:16:32.254\nSo I've got my\nAdd-DnsServerResourceRecord,\n\n283\n00:16:32.254 --> 00:16:39.232\nthere's ZoneName lab.itpro.tv,\nA record, Name ww, IPV4 address.\n\n284\n00:16:39.232 --> 00:16:47.190\nAnd dash zone scope is going\nto be internal for this one.\n\n285\n00:16:47.190 --> 00:16:48.960\nSo that's the, what did we name that one?\n\n286\n00:16:48.960 --> 00:16:51.831\nInternal scope.\n\n287\n00:16:51.831 --> 00:16:55.110\n&gt;&gt; Internal IPs?\n\n288\n00:16:55.110 --> 00:16:57.200\n&gt;&gt; No, we're going to do it\nto this scope right there.\n\n289\n00:16:58.420 --> 00:16:59.000\nAnd we'll hit Enter.\n\n290\n00:17:00.370 --> 00:17:04.270\nAll right, so let's make sure\nwe understand what we're doing.\n\n291\n00:17:04.270 --> 00:17:09.460\nWe took our zone, our normal lab.itpro.tv\nzone that's being hosted by DNS,\n\n292\n00:17:09.460 --> 00:17:13.190\nand we created two separate\ninstances of that zone.\n\n293\n00:17:13.190 --> 00:17:16.650\nOne called internal scope,\none called external scope.\n\n294\n00:17:16.650 --> 00:17:20.250\nNow I'm adding records to those instances.\n\n295\n00:17:20.250 --> 00:17:22.900\nIt's not going to show up in\nthe zone file itself, right?\n\n296\n00:17:22.900 --> 00:17:26.270\nI'm adding them to these\nlogical instances.\n\n297\n00:17:26.270 --> 00:17:27.800\nThat's what this command is doing.\n\n298\n00:17:27.800 --> 00:17:32.596\nSo I'm going to do another one,\nAdd-DnsServerResourceRecord,\n\n299\n00:17:32.596 --> 00:17:35.972\nsame zone name,\nsame A record, same name www.\n\n300\n00:17:35.972 --> 00:17:43.123\nIt's gonna be a different IP address,\n192.168.100.100,\n\n301\n00:17:43.123 --> 00:17:47.197\nand I need to add this\nto the external scope.\n\n302\n00:17:49.635 --> 00:17:50.350\nAnd I'll hit Enter.\n\n303\n00:17:50.350 --> 00:17:54.145\nAll right, so\nthink about what we're doing there.\n\n304\n00:17:54.145 --> 00:18:00.956\nWe're basically saying now,\nif you're part of the internal IP range,\n\n305\n00:18:00.956 --> 00:18:05.320\nwe're gonna pull your\nanswer when you query.\n\n306\n00:18:05.320 --> 00:18:08.240\nWe're gonna pull your answer\nfrom the internal scope and\n\n307\n00:18:08.240 --> 00:18:10.648\nyou'll get this IP address for www.\n\n308\n00:18:10.648 --> 00:18:16.440\nBut if you're coming from an external IP\naddress that's in that external subnet,\n\n309\n00:18:16.440 --> 00:18:20.440\nwe're going to use the external scope\nin the same query, is going to give you\n\n310\n00:18:20.440 --> 00:18:26.760\na different result based on the IP\naddress of the query initiator, right?\n\n311\n00:18:26.760 --> 00:18:28.010\nSo you see what we're doing there?\n\n312\n00:18:28.010 --> 00:18:30.660\nWe're creating two different records,\ntwo different IP addresses for\n\n313\n00:18:30.660 --> 00:18:33.620\nthe same server,\nput them in these unique instances, and\n\n314\n00:18:33.620 --> 00:18:36.690\nthen depending on where you come from\ndetermines what instance I use to\n\n315\n00:18:36.690 --> 00:18:40.490\nlook up the answer for your query, which\nis going to determine what answer you get.\n\n316\n00:18:40.490 --> 00:18:41.920\nPretty cool, right?\n\n317\n00:18:41.920 --> 00:18:48.000\nAll right, so we've got everything set up\nright now, we've got our scope set up.\n\n318\n00:18:48.000 --> 00:18:48.990\nWe've got our client subnet,\n\n319\n00:18:48.990 --> 00:18:51.930\nwe've got our scope,\nwe've added our records to the zone scope.\n\n320\n00:18:51.930 --> 00:18:57.170\nNow we're gonna add record to\nthe default zone scope because when\n\n321\n00:18:57.170 --> 00:19:01.210\nwe add them to those unique instances,\nagain like I said, it doesn't add it to my\n\n322\n00:19:01.210 --> 00:19:05.890\nactual scope that's being hosted by DNS,\nthat zone there, I should say.\n\n323\n00:19:05.890 --> 00:19:07.160\nAnd the rest of the world,\n\n324\n00:19:07.160 --> 00:19:10.045\nwhat if you're not coming from\neither one of those subnets, right?\n\n325\n00:19:10.045 --> 00:19:15.120\nIt still need to be able to resolve one\nof those IP addresses from the name so\n\n326\n00:19:15.120 --> 00:19:16.530\nthat you can connect to my resource.\n\n327\n00:19:16.530 --> 00:19:20.490\nSo, we are gonna add records\nto our actual zone as well.\n\n328\n00:19:20.490 --> 00:19:22.770\nWhich pretty much the same command.\n\n329\n00:19:22.770 --> 00:19:24.400\nI'm just going to take off ZoneScope.\n\n330\n00:19:25.630 --> 00:19:28.290\nI'm saying,\nhey just add this to lab.itpro.tv.\n\n331\n00:19:28.290 --> 00:19:31.530\nThe default zone, all right.\n\n332\n00:19:31.530 --> 00:19:34.000\nI'll do the same thing for the ten dot.\n\n333\n00:19:34.000 --> 00:19:38.986\nI'll take off ZoneScope, And\n\n334\n00:19:38.986 --> 00:19:43.440\nif we take a look at the zone itself,\nwe do a little refresh over here.\n\n335\n00:19:43.440 --> 00:19:46.970\nWe should see, there's the two\nrecords I just added, oops for\n\n336\n00:19:46.970 --> 00:19:51.240\nwww with the two different addresses,\nall right.\n\n337\n00:19:51.240 --> 00:19:54.080\nSo if you weren't coming from one of\nthose scopes, what's DNS gonna do?\n\n338\n00:19:54.080 --> 00:19:56.190\nIt's gonna give you both of these and\n\n339\n00:19:56.190 --> 00:19:58.849\nthen your client would determine\nwhich one it wants to use.\n\n340\n00:20:00.140 --> 00:20:01.510\nAll right, back over to PowerShell.\n\n341\n00:20:02.880 --> 00:20:07.300\nSo we got all the pieces in place but we\nhaven't defined the policies yet, right?\n\n342\n00:20:07.300 --> 00:20:12.380\nWe haven't made the rule that says,\nhey DNS, look at that incoming query,\n\n343\n00:20:12.380 --> 00:20:17.320\nlook at the source address, and use that\nto determine what instance of that zone\n\n344\n00:20:17.320 --> 00:20:21.030\ndo you use when you\ngenerate your response.\n\n345\n00:20:21.030 --> 00:20:23.540\nSo let's create those next these.\n\n346\n00:20:23.540 --> 00:20:25.700\nLet's just clear this screen.\n\n347\n00:20:25.700 --> 00:20:27.660\nGives us a little room.\n\n348\n00:20:27.660 --> 00:20:33.579\nWe're gonna be doing\nAdd-DnsServerQueryResolution policy.\n\n349\n00:20:33.579 --> 00:20:38.350\nThat's a mouthful.\nAdd-DnsServerQueryResolution policy,\n\n350\n00:20:38.350 --> 00:20:42.280\n-name, and we'll give it a name.\n\n351\n00:20:42.280 --> 00:20:45.370\nI'm gonna call the first\none internalpolicy.\n\n352\n00:20:49.960 --> 00:20:53.770\nAnd for the action, I'm gonna do allow.\n\n353\n00:20:54.770 --> 00:20:58.180\nWe can either do allow,\nif I'll let this flip through there.\n\n354\n00:20:58.180 --> 00:21:01.630\nWe can do allow, deny, ignore, right?\n\n355\n00:21:01.630 --> 00:21:05.366\nAnd you might think wait, what service\nare we gonna allow, or I'm sorry,\n\n356\n00:21:05.366 --> 00:21:08.291\nwhat's the difference between deny and\nignore, right?\n\n357\n00:21:08.291 --> 00:21:11.876\nCuz remember all the other things we can\ndo other than redirect them to the closest\n\n358\n00:21:11.876 --> 00:21:13.680\none, we can use this to filter traffic.\n\n359\n00:21:13.680 --> 00:21:17.050\n&gt;&gt; I was gonna say, does that one\njust completely drop the query and\n\n360\n00:21:17.050 --> 00:21:20.460\nthe other one will give you not the answer\nbut it will give you a response?\n\n361\n00:21:20.460 --> 00:21:21.606\n&gt;&gt; That's exactly right, right?\n\n362\n00:21:21.606 --> 00:21:27.170\nThe deny is gonna return\na failure on the query, right?\n\n363\n00:21:27.170 --> 00:21:31.240\nBut the ignore is not\ngonna respond at all.\n\n364\n00:21:31.240 --> 00:21:35.590\nSo you're not giving the bad guy or\nwhomever it might be any information,\n\n365\n00:21:35.590 --> 00:21:38.980\nwhether at work or not, name exists or\nnot, or anything like that.\n\n366\n00:21:38.980 --> 00:21:41.960\nSo sometimes you wanna block it.\n\n367\n00:21:41.960 --> 00:21:45.480\nAnd you're okay with them, letting them\nknow that, hey, this is not working.\n\n368\n00:21:45.480 --> 00:21:47.370\nSometimes you wanna just\nignore it altogether.\n\n369\n00:21:47.370 --> 00:21:51.450\nAnd that's where that black hole, like\nwhen we talk about doing forensics and\n\n370\n00:21:51.450 --> 00:21:55.810\nredirecting malicious clients, that's the\nkind of black hole we can lead them to.\n\n371\n00:21:55.810 --> 00:21:58.670\nWe can just ignore them completely and\n\n372\n00:21:58.670 --> 00:22:01.560\nthey don't know of what's\ngoing on at that point.\n\n373\n00:22:01.560 --> 00:22:05.860\nWe wanna allow and\nthen we've got to do the client subnet,\n\n374\n00:22:05.860 --> 00:22:08.540\nwhich is one of the subnets\nthat we defined earlier.\n\n375\n00:22:08.540 --> 00:22:12.050\nAnd this one it's gonna be,\nthis is my internal policy, so\n\n376\n00:22:12.050 --> 00:22:15.540\nodds are we're gonna wanna\ndo the internal subnet.\n\n377\n00:22:15.540 --> 00:22:17.570\nYou have to use a qualifier here.\n\n378\n00:22:17.570 --> 00:22:19.490\nLet me zoom in just a little bit.\n\n379\n00:22:19.490 --> 00:22:23.790\nYou see I put eq, equals.\n\n380\n00:22:23.790 --> 00:22:26.020\nYou can also do not equals.\n\n381\n00:22:26.020 --> 00:22:27.810\nCuz I can say everything but\n\n382\n00:22:27.810 --> 00:22:31.560\nthis particular subnet would be another\nway to set up one of these policies.\n\n383\n00:22:31.560 --> 00:22:33.070\nAnd you can do some ands and\nors in here and\n\n384\n00:22:33.070 --> 00:22:35.120\nyou can make some pretty complex policies.\n\n385\n00:22:35.120 --> 00:22:39.140\nSo we're going to say equals internal IPs.\n\n386\n00:22:39.140 --> 00:22:44.415\nThat was that name of that\nsubnet we created earlier.\n\n387\n00:22:44.415 --> 00:22:49.800\n-zonescope is going to be internalScope.\n\n388\n00:22:50.950 --> 00:22:53.670\nThat's another one that\nwe created earlier.\n\n389\n00:22:53.670 --> 00:22:57.770\nAnd we're gonna set that to a 1 or true.\n\n390\n00:22:57.770 --> 00:22:59.328\nWe'll make an end quote.\n\n391\n00:22:59.328 --> 00:23:04.671\nAnd then -ZoneName is\ngoing to be lab.itpro.tv.\n\n392\n00:23:08.025 --> 00:23:09.400\nAnd we'll end that quote.\n\n393\n00:23:10.640 --> 00:23:11.190\nAnd we'll hit Enter.\n\n394\n00:23:12.652 --> 00:23:16.730\nAll right, so there's one policy in place\nthat's basically saying here's an internal\n\n395\n00:23:16.730 --> 00:23:17.580\npolicy.\n\n396\n00:23:17.580 --> 00:23:21.730\nWe want to allow if clients\nare coming from the internal IP, so\n\n397\n00:23:21.730 --> 00:23:26.300\nif it equals internal IP client subnet,\n\n398\n00:23:26.300 --> 00:23:30.000\nthen use this scope for this zone.\n\n399\n00:23:30.000 --> 00:23:32.220\nIf they are querying a name\nthat ends in lab.itprotv,\n\n400\n00:23:32.220 --> 00:23:34.760\nget the answer from that internal scope.\n\n401\n00:23:34.760 --> 00:23:37.600\nThat unique instance that\nwe made of lab.itprotv,\n\n402\n00:23:37.600 --> 00:23:40.780\nwhere we added that different IP address.\n\n403\n00:23:40.780 --> 00:23:44.070\nWe're going to do another one for\nthe externals, of course.\n\n404\n00:23:44.070 --> 00:23:48.188\nSo let's just start back at the beginning.\n\n405\n00:23:48.188 --> 00:23:52.157\nWatch the little cursor move across there,\nso\n\n406\n00:23:52.157 --> 00:23:56.946\nwe're gonna make another\none called external policy.\n\n407\n00:23:56.946 --> 00:23:59.408\nWe're also gonna allow and\n\n408\n00:23:59.408 --> 00:24:04.977\nwe're going to say if the client\nsubnet equals external IPs,\n\n409\n00:24:04.977 --> 00:24:10.545\nthen let's use our external\nscope if they're trying to query\n\n410\n00:24:10.545 --> 00:24:16.775\na name that ends in lav.itpro.tv and\nwe'll hit enter, all right.\n\n411\n00:24:16.775 --> 00:24:22.970\nAnd I should be able to do a git-dns\nserver query resolution policy.\n\n412\n00:24:24.744 --> 00:24:26.953\nAnd for the zone, sorry I forgot the.\n\n413\n00:24:29.581 --> 00:24:34.471\nZone name, lab.itpro.tv.\n\n414\n00:24:34.471 --> 00:24:38.299\nAnd there we can see those two\npolicies that we have in place.\n\n415\n00:24:39.530 --> 00:24:43.340\nAll right, so now everything is set up.\n\n416\n00:24:43.340 --> 00:24:45.934\nAnd we're gonna see if it works.\n\n417\n00:24:45.934 --> 00:24:46.970\nKeep your fingers crossed.\n\n418\n00:24:46.970 --> 00:24:48.080\nNo, I'm kidding.\n\n419\n00:24:48.080 --> 00:24:51.229\nAll right, so what I wanna do\nis I'm gonna go to the client,\n\n420\n00:24:55.114 --> 00:24:56.940\nAnd we're gonna try to trick it up.\n\n421\n00:24:56.940 --> 00:25:00.180\nSo let's open up my network and\nsharing center.\n\n422\n00:25:01.490 --> 00:25:03.510\nTake a look at my network adapters.\n\n423\n00:25:04.970 --> 00:25:09.114\nAnd I've got ethernet turned on, and\nif we look at the settings on this guy.\n\n424\n00:25:12.351 --> 00:25:16.801\nI can see it's at 10.0.100.11\nwhich means it should be\n\n425\n00:25:16.801 --> 00:25:20.150\nconsidered part of the internal, right.\n\n426\n00:25:20.150 --> 00:25:21.729\nSo let's open up PowerShell.\n\n427\n00:25:29.330 --> 00:25:31.072\nAnd wait for it.\n\n428\n00:25:31.072 --> 00:25:38.253\nWe'll do ping, www.lab.itpro.tv,\n\n429\n00:25:38.253 --> 00:25:43.990\nand take a look at the IP\naddress that it gave me.\n\n430\n00:25:45.390 --> 00:25:50.238\nIf I zoom in there, you can see\nit resolved it to 10.0.100.100.\n\n431\n00:25:50.238 --> 00:25:54.960\nNow what if that same laptop\nwas outside the network?\n\n432\n00:25:54.960 --> 00:26:00.889\nLet's say it's a salesperson traveling,\nI'm going to disable this network adapter.\n\n433\n00:26:02.819 --> 00:26:04.379\nEnable this one, and\n\n434\n00:26:04.379 --> 00:26:09.330\nif I can do it fast enough before I\nlose my connection, and I did not.\n\n435\n00:26:09.330 --> 00:26:11.489\nSo I have to reconnect to that guy.\n\n436\n00:26:15.606 --> 00:26:16.690\nWe'll just do it from over here.\n\n437\n00:26:16.690 --> 00:26:20.740\nWhen you're playing around with\na network adapter's remote desktop for\n\n438\n00:26:20.740 --> 00:26:22.310\nsome reason it gets a little finicky.\n\n439\n00:26:24.220 --> 00:26:28.875\nBut we'll use our virtual machine\nconnection on the Hyper V host itself,\n\n440\n00:26:28.875 --> 00:26:30.762\nI'll log back in real quick.\n\n441\n00:26:40.226 --> 00:26:43.760\nI say real quick but none of my machines\nare moving all that fast today.\n\n442\n00:26:45.120 --> 00:26:45.760\nWhat is today?\n\n443\n00:26:45.760 --> 00:26:46.566\nWednesday?\n\n444\n00:26:46.566 --> 00:26:49.290\nI don't know if there were\nsome updates that came out.\n\n445\n00:26:49.290 --> 00:26:50.816\nThey are taking their sweet time.\n\n446\n00:26:50.816 --> 00:26:52.048\nSo we'll get logged back in, and\n\n447\n00:26:52.048 --> 00:26:54.570\nwhat I'm gonna do is I'm gonna\nchange the IP address of the client.\n\n448\n00:26:54.570 --> 00:26:59.070\nI'm going to enable that other\nnetwork adapter that has a 192168,\n\n449\n00:26:59.070 --> 00:27:02.660\nwhich we were pretending\nis an external address, and\n\n450\n00:27:02.660 --> 00:27:06.780\nlet's see if the DNS server gives me\na different answer because of that.\n\n451\n00:27:06.780 --> 00:27:09.860\nSo I'm going to again go\nto my network adapters\n\n452\n00:27:12.120 --> 00:27:15.590\nbecause I didn't get to finish enabling\nthat guy before I lost my RDP connection.\n\n453\n00:27:19.030 --> 00:27:20.820\nSo we'll right click and we'll enable.\n\n454\n00:27:23.320 --> 00:27:27.080\nAnd since everything else\nhas been giving me fits,\n\n455\n00:27:27.080 --> 00:27:32.380\nlet's double check and\nmake sure I do have a 192.168 address set.\n\n456\n00:27:32.380 --> 00:27:35.154\nAnd I do, so we're good to go there.\n\n457\n00:27:35.154 --> 00:27:36.930\nCortana's the guilty one.\n\n458\n00:27:36.930 --> 00:27:39.510\nShe's the one that's taking\nup all my resources.\n\n459\n00:27:39.510 --> 00:27:41.170\nMy network cable is unplugged.\n\n460\n00:27:41.170 --> 00:27:42.640\nThat's not gonna help us.\n\n461\n00:27:42.640 --> 00:27:49.160\nSo let's make sure we\nget that guy enabled.\n\n462\n00:27:50.200 --> 00:27:51.211\nI'm going to go into settings.\n\n463\n00:27:55.942 --> 00:28:00.850\nAnd we're gonna connect that.\n\n464\n00:28:00.850 --> 00:28:03.310\nAnd then jump back over to the client.\n\n465\n00:28:03.310 --> 00:28:06.070\nSo now, let's just prove to ourselves,\n\n466\n00:28:06.070 --> 00:28:08.470\ncuz Mike's been doing a lot\nof flipping around here.\n\n467\n00:28:08.470 --> 00:28:15.994\nLet's open up PowerShell, and\nlet's do a little IP config.\n\n468\n00:28:19.208 --> 00:28:24.426\nAnd I can see I do have\na 192.168.100.11 address.\n\n469\n00:28:24.426 --> 00:28:33.610\nSo let's ping www.lab.itpro.tv and\nlook at that.\n\n470\n00:28:35.250 --> 00:28:38.630\nSure enough I get a different now\ndon't worry about the destination host\n\n471\n00:28:38.630 --> 00:28:43.760\nunreachable I didn't put a record\nin there or my server doesn't know\n\n472\n00:28:43.760 --> 00:28:47.180\nto respond to that ip address but\nthat's not the important part.\n\n473\n00:28:47.180 --> 00:28:49.730\nThe important part is look what dns did.\n\n474\n00:28:49.730 --> 00:28:54.440\nIt gave me a completely different\naddress for the same query, all right.\n\n475\n00:28:54.440 --> 00:28:55.860\nSame name I'm trying to resolve.\n\n476\n00:28:55.860 --> 00:28:59.126\nThe first time it gave me 10.0.100.100,\n\n477\n00:28:59.126 --> 00:29:02.889\nthe second time it gave\nme 192.168.100.100.\n\n478\n00:29:02.889 --> 00:29:04.740\nSo you can see our policy is working.\n\n479\n00:29:04.740 --> 00:29:07.500\nIt's looking at the IP address\nof that incoming query,\n\n480\n00:29:07.500 --> 00:29:09.200\nthe source address on that query.\n\n481\n00:29:09.200 --> 00:29:13.520\nAnd based on that It's determining what\nunique instance of the zone it's going to\n\n482\n00:29:13.520 --> 00:29:16.760\nget the answer from,\nwhich is fantastic stuff.\n\n483\n00:29:16.760 --> 00:29:17.320\n&gt;&gt; Absolutely,\n\n484\n00:29:17.320 --> 00:29:22.850\nI was amazed at the fact that you can\ncompletely control the responses there and\n\n485\n00:29:22.850 --> 00:29:27.540\nalso amazed by the fact by how much I like\nthe auto fill abilities of PowerShell.\n\n486\n00:29:27.540 --> 00:29:29.980\nSeeing that how long some\nof those commandlets are.\n\n487\n00:29:29.980 --> 00:29:32.710\nMike, it does look like we're coming to\nthe end of another great episode here\n\n488\n00:29:32.710 --> 00:29:33.320\non DNS.\n\n489\n00:29:33.320 --> 00:29:36.270\nBut before we do, do you want\nto add anything to this episode?\n\n490\n00:29:36.270 --> 00:29:40.370\n&gt;&gt; You know, I would say this is one\nof those things that's a new thing in\n\n491\n00:29:40.370 --> 00:29:41.860\nWindows Server 2016,\n\n492\n00:29:41.860 --> 00:29:45.760\nso there's a good chance they're\ngoing to call it out on the exam.\n\n493\n00:29:45.760 --> 00:29:50.120\nSo if you're preparing for the exam,\ntest this out, play around with it, try\n\n494\n00:29:50.120 --> 00:29:54.483\na couple of those different options, see\nif you can do some of the filtering and\n\n495\n00:29:54.483 --> 00:29:56.955\nhave it drop certain queries all together.\n\n496\n00:29:56.955 --> 00:30:01.771\nCuz you can basically create a list and\nsay look, if any of my clients try to go\n\n497\n00:30:01.771 --> 00:30:05.620\nto malicioussite.com I'm just\ngonna drop those queries.\n\n498\n00:30:05.620 --> 00:30:08.500\nI'm not even gonna respond to them or\nI'm gonna block them.\n\n499\n00:30:08.500 --> 00:30:11.110\nThat way they can't ever get\nto the site in the first place\n\n500\n00:30:11.110 --> 00:30:12.580\nto pick up that malicious content.\n\n501\n00:30:12.580 --> 00:30:14.770\nSome really cool things\nyou can do with this.\n\n502\n00:30:14.770 --> 00:30:16.440\nWe really just scratched the surface.\n\n503\n00:30:16.440 --> 00:30:17.720\n&gt;&gt; All right Mike well we thank you for\n\n504\n00:30:17.720 --> 00:30:20.360\nthat information does look like\nwe'll go ahead and sign out here.\n\n505\n00:30:20.360 --> 00:30:21.400\nThank you for being here.\n\n506\n00:30:21.400 --> 00:30:24.485\nSigning off for\nITPro.TV I've been your host, Wes Bryan.\n\n507\n00:30:24.485 --> 00:30:25.211\n&gt;&gt; And I'm Mike Rodrick.\n\n508\n00:30:25.211 --> 00:30:27.235\n&gt;&gt; And we'll see you next time.\n\n509\n00:30:27.235 --> 00:30:33.316\n[MUSIC]\n\n510\n00:30:33.316 --> 00:30:38.769\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "193559733"
        },
        {
          "description": "In this episode, Wes and Mike dive into DNS zones and records. They explain primary zones, secondary zones, stub zones and  Active Directory Integration of primary zones as well as demonstrate how to create and the configuration of these zone type.",
          "length": "1901",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-1-dns_zones_and_records-111616.00_31_27_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-1-dns_zones_and_records-111616.00_31_27_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-1-dns_zones_and_records-111616.00_31_27_11.Still001-sm.jpg",
          "title": "DNS Zones and Records",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:02.594\nWelcome to ITProTV, I'm your host Don.\n\n2\n00:00:02.594 --> 00:00:08.254\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:08.254 --> 00:00:12.057\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.057 --> 00:00:15.310\n&gt;&gt; Welcome back to another\nexiting episode here at ITProTV.\n\n5\n00:00:15.310 --> 00:00:18.590\nI'm your host Wes Bryan, and in today's\nepisode we're continuing through our\n\n6\n00:00:18.590 --> 00:00:21.360\nnetworking with Windows Server 2016.\n\n7\n00:00:21.360 --> 00:00:24.440\nAnd we're continuing along the road,\nlearning a lot more about DNS.\n\n8\n00:00:24.440 --> 00:00:27.790\nAnd joining us in the studios for\nthis is none other than Mr. Mike Rodrick.\n\n9\n00:00:27.790 --> 00:00:28.630\nMike, how you doing sir?\n\n10\n00:00:28.630 --> 00:00:33.730\n&gt;&gt; I'm doing great, Wes, and I'm excited\ncuz we are continuing on with DNS.\n\n11\n00:00:33.730 --> 00:00:36.940\nIn this episode we're actually going\nto progress into DNS a little bit.\n\n12\n00:00:36.940 --> 00:00:39.980\nWe spent quite a few episodes\nlooking at DNS itself.\n\n13\n00:00:39.980 --> 00:00:42.640\nGetting it installed,\ngetting it configured,\n\n14\n00:00:42.640 --> 00:00:47.470\nsome of the new things we can do like\nDNS policies, we took a look at DNSsec.\n\n15\n00:00:47.470 --> 00:00:50.670\nNow we're gonna look at\nactually inside DNS.\n\n16\n00:00:50.670 --> 00:00:53.340\nSo the zones, the records,\nthings like that.\n\n17\n00:00:53.340 --> 00:00:57.940\nAll the little parts that make\nDNS magical and do what it does.\n\n18\n00:00:57.940 --> 00:01:02.310\nSo let's start by, I've got a server\nhere that's part of my domain, but\n\n19\n00:01:02.310 --> 00:01:03.370\nit's just a member server.\n\n20\n00:01:03.370 --> 00:01:05.080\nAnd I'm gonna go ahead and\ninstall DNS on it.\n\n21\n00:01:05.080 --> 00:01:07.300\nI'll do it quick cuz I\nknow we've seen this.\n\n22\n00:01:07.300 --> 00:01:10.000\nWe saw it in one of our first episodes.\n\n23\n00:01:10.000 --> 00:01:12.200\nI'm just gonna go through my Add Roles and\nFeatures wizard.\n\n24\n00:01:13.250 --> 00:01:18.280\nAnd choose DNS,\nadd the required features, next,\n\n25\n00:01:18.280 --> 00:01:21.270\nnext, next and install.\n\n26\n00:01:21.270 --> 00:01:23.300\nNot too much thinking to do there.\n\n27\n00:01:23.300 --> 00:01:25.370\nAnd that's just going to get DNS,\nthe service and\n\n28\n00:01:25.370 --> 00:01:27.810\neverything installed,\nthen we can configure it.\n\n29\n00:01:27.810 --> 00:01:28.970\nWhile that's going, I'm going\n\n30\n00:01:30.250 --> 00:01:35.450\nto flip over to my domain controller which\nis already running DNS, as we've seen.\n\n31\n00:01:35.450 --> 00:01:40.570\nWe still have our lab.itpro.tv zone,\nand it is signed.\n\n32\n00:01:40.570 --> 00:01:43.250\nAnd I wanna take a look at\nthe properties of this zone.\n\n33\n00:01:43.250 --> 00:01:46.830\nSo I'm gonna right-click on it and\nchoose Properties.\n\n34\n00:01:46.830 --> 00:01:51.692\nAnd right here at the top of this\nGeneral tab, I see we have a Type,\n\n35\n00:01:51.692 --> 00:01:54.340\nActive Directory-Integrated.\n\n36\n00:01:54.340 --> 00:01:56.190\nAnd that's the first thing\nwe need to talk about,\n\n37\n00:01:56.190 --> 00:01:59.590\nis the different types of\nzones we can create in DNS.\n\n38\n00:01:59.590 --> 00:02:04.430\nWe can create primaries,\nwe can create secondaries,\n\n39\n00:02:04.430 --> 00:02:09.210\nwe can create stub zones and\nwe can do Active Directory-Integrated.\n\n40\n00:02:09.210 --> 00:02:14.036\nAll right, primary and secondaries\nhave been around since forever,\n\n41\n00:02:14.036 --> 00:02:15.604\nwe'll just say that.\n\n42\n00:02:15.604 --> 00:02:17.050\nThey've been around for a long time.\n\n43\n00:02:17.050 --> 00:02:20.110\nIt's what we've always\nhad when we set up DNS.\n\n44\n00:02:20.110 --> 00:02:22.910\nAnd back in the day,\nwhen we had these primary and\n\n45\n00:02:22.910 --> 00:02:28.740\nsecondary zones, primaries were\na read-write copy of the zone file.\n\n46\n00:02:28.740 --> 00:02:33.090\nSo in other words,\nthis is my zone file, this lab.itprotv,\n\n47\n00:02:33.090 --> 00:02:35.740\nall these records here,\nall this information.\n\n48\n00:02:35.740 --> 00:02:39.800\nNamed IP address mappings,\nthese are resource records, and\n\n49\n00:02:39.800 --> 00:02:42.840\nthey're contained within a zone file,\nall right?\n\n50\n00:02:42.840 --> 00:02:47.620\nNow if it's a primary zone,\nthat means this file is read write.\n\n51\n00:02:47.620 --> 00:02:50.650\nI can make changes to it,\nI can add new records,\n\n52\n00:02:50.650 --> 00:02:53.860\nI can remove records,\nall of that good stuff.\n\n53\n00:02:53.860 --> 00:02:58.460\nA secondary is a read-only\ncopy of the zone file,\n\n54\n00:02:58.460 --> 00:03:01.220\nsame information, but\nit's a read only copy.\n\n55\n00:03:01.220 --> 00:03:04.740\nNo changes, no updates, no new records.\n\n56\n00:03:04.740 --> 00:03:08.970\nBack in the day, before we had Active\nDirectory-Integrated zones You could have\n\n57\n00:03:08.970 --> 00:03:11.270\nonly one primary zone.\n\n58\n00:03:11.270 --> 00:03:16.730\nIn other words I can only have one\ncopy that was read/write capable.\n\n59\n00:03:16.730 --> 00:03:20.520\nI could create as many\nsecondaries as I needed for\n\n60\n00:03:20.520 --> 00:03:23.100\nload balancing and for fault tolerance.\n\n61\n00:03:23.100 --> 00:03:27.370\nBecause we know if I setup a DNS server on\nmy organization and I make a primary zone.\n\n62\n00:03:27.370 --> 00:03:30.650\nCuz you have to have a primary zone, you\nhave to have a read/write copy Somewhere,\n\n63\n00:03:30.650 --> 00:03:32.540\nso I can add new records to it, right?\n\n64\n00:03:32.540 --> 00:03:33.940\nSo you set up your DNS server.\n\n65\n00:03:33.940 --> 00:03:36.236\nYou create a primary zone for your domain.\n\n66\n00:03:36.236 --> 00:03:41.750\nMikerodrick.com or lab.itpro.tv,\nand it's read/write, it's primary.\n\n67\n00:03:41.750 --> 00:03:45.510\nBut if that server ever goes down,\nnobody can resolve names.\n\n68\n00:03:45.510 --> 00:03:47.280\nBecause the server's not available.\n\n69\n00:03:47.280 --> 00:03:50.750\nSo we want more than one DNS server\nhosting a copy of that zone.\n\n70\n00:03:50.750 --> 00:03:53.430\nBut I can only have one read, write copy.\n\n71\n00:03:53.430 --> 00:03:57.268\nSo the additional ones that I made,\nthe second, the third, the forth server,\n\n72\n00:03:57.268 --> 00:03:59.802\nthey would host secondary\ncopies of that zone file.\n\n73\n00:03:59.802 --> 00:04:03.142\nWe'd have secondary zones for\nlab.itpro.tv.\n\n74\n00:04:03.142 --> 00:04:04.803\nThat way if the primary went down,\n\n75\n00:04:04.803 --> 00:04:08.750\nthe others can still respond to queries,\nthey have the same information.\n\n76\n00:04:08.750 --> 00:04:11.360\nSo, if you asked it, hey,\nwhat's the IP address of Client 02?\n\n77\n00:04:11.360 --> 00:04:14.570\nIt could look it up, and\nit could return you the answer.\n\n78\n00:04:14.570 --> 00:04:16.570\nThe only thing the secondary\ncouldn't do is if you said, hey,\n\n79\n00:04:16.570 --> 00:04:18.900\nI need to update my IP address.\n\n80\n00:04:18.900 --> 00:04:22.640\nSorry, you're gonna have to wait until\nthe primary is back online, all right?\n\n81\n00:04:22.640 --> 00:04:24.680\nThat's the way it was for a long time.\n\n82\n00:04:24.680 --> 00:04:28.670\nThen we had and then we get\nActive Directory-Integrated zones.\n\n83\n00:04:28.670 --> 00:04:33.297\nAnd what Active Directory-Integrated zones\nare, we're gonna take that same zone but\n\n84\n00:04:33.297 --> 00:04:37.502\ninstead of storing as a .dns file, a flat\nfile on the DNS server's hard drive.\n\n85\n00:04:37.502 --> 00:04:40.040\nWe're gonna put it in\nthe Active Directory database.\n\n86\n00:04:40.040 --> 00:04:41.160\nThe Active Directory database,\n\n87\n00:04:41.160 --> 00:04:45.210\nas we'll learn in this class,\nis divided up into these partitions.\n\n88\n00:04:45.210 --> 00:04:48.320\nAnd we're just gonna create a new\npartition within that database and\n\n89\n00:04:48.320 --> 00:04:50.250\nput the DNS information in there.\n\n90\n00:04:50.250 --> 00:04:52.030\nHence the name,\nActive Directory-Integrated.\n\n91\n00:04:52.030 --> 00:04:56.600\nWe're integrating the DNS information into\nthis database, and it kind of makes sense.\n\n92\n00:04:56.600 --> 00:04:57.920\nYou've already got a database there for\n\n93\n00:04:57.920 --> 00:05:00.890\nActive Directory, why have a separate\nfile for all the DNS info?\n\n94\n00:05:00.890 --> 00:05:03.500\nWhy not put it in\nthe Active Directory database.\n\n95\n00:05:03.500 --> 00:05:05.940\nAnd so that's what they did with\nActive Directory-Integrated.\n\n96\n00:05:05.940 --> 00:05:08.870\nCouple of really cool benefits\nthat we get from doing\n\n97\n00:05:08.870 --> 00:05:11.200\nActive Directory-integrated zones.\n\n98\n00:05:11.200 --> 00:05:14.980\nOne of them is the fact that I can\nhave multiple read-write copies,\n\n99\n00:05:14.980 --> 00:05:18.290\nright?Because now I'm gonna have\nmore than one domain controller.\n\n100\n00:05:18.290 --> 00:05:21.120\nAnd if I make\nan Active Directory-integrated zone on\n\n101\n00:05:21.120 --> 00:05:24.830\none domain controller, when that domain\ncontroller replicates the Active Directory\n\n102\n00:05:24.830 --> 00:05:28.690\ndatabase to the other domain controller\nit's gonna include that zone.\n\n103\n00:05:28.690 --> 00:05:31.140\nAnd those are gonna be read write copies,\nright?\n\n104\n00:05:31.140 --> 00:05:35.420\nBecause Active Directory has ways of\ndealing with multiple read write copies.\n\n105\n00:05:35.420 --> 00:05:39.050\nWe're gonna get into that in our\nActive Directory discussions.\n\n106\n00:05:39.050 --> 00:05:43.360\nWe'll talk about what multi master\nwith loose convergence is all about.\n\n107\n00:05:43.360 --> 00:05:46.350\nBut for now what we just need to\nunderstand is I can have more than one\n\n108\n00:05:46.350 --> 00:05:47.470\nread write copy.\n\n109\n00:05:47.470 --> 00:05:50.220\nBecause back in the day,\nbefore we had this, the issue was,\n\n110\n00:05:50.220 --> 00:05:54.140\nif I had more than one writable copy,\nhow did I prevent?\n\n111\n00:05:54.140 --> 00:05:58.130\nWhat if an admin on one was changing the\nsame record that an admin on another DNS\n\n112\n00:05:58.130 --> 00:06:00.530\nserver that had a copy Was changing.\n\n113\n00:06:00.530 --> 00:06:03.140\nTwo people making changes to the same\nrecord at the same time at two\n\n114\n00:06:03.140 --> 00:06:04.280\ndifferent locations.\n\n115\n00:06:04.280 --> 00:06:06.470\nNow when they try to\nreplicate their information\n\n116\n00:06:06.470 --> 00:06:07.410\nI don't know which one to keep.\n\n117\n00:06:07.410 --> 00:06:11.010\nAnd I'm gonna have to lose one of those\nsets of data, I don't know which one.\n\n118\n00:06:11.010 --> 00:06:13.770\nNow we've got Active Directory that has\nways of dealing with those types of\n\n119\n00:06:13.770 --> 00:06:17.310\nconflicts so\nwe can have more than one read write copy.\n\n120\n00:06:17.310 --> 00:06:21.750\nAgain, don't get too hung up on the whole\nMulti master loose convergence just yet.\n\n121\n00:06:21.750 --> 00:06:23.460\nWe'll come back to the concept.\n\n122\n00:06:23.460 --> 00:06:24.720\nFor now with DNS,\n\n123\n00:06:24.720 --> 00:06:29.290\njust understand, there's primary zones\nthat I can create, read-write copy.\n\n124\n00:06:29.290 --> 00:06:32.490\nThere's secondaries that I can create,\nread-only copy.\n\n125\n00:06:32.490 --> 00:06:37.490\nI could only have one primary, and I\ncould have as many secondaries as I want.\n\n126\n00:06:37.490 --> 00:06:41.250\nOr I can up the any and\ngo to Active Directory-Integrated zones.\n\n127\n00:06:41.250 --> 00:06:44.340\nAnd now I can have multiple\nread write copies, right?\n\n128\n00:06:44.340 --> 00:06:48.530\nI can still have secondaries, that\nare hosted on, non-domain controllers.\n\n129\n00:06:48.530 --> 00:06:51.080\nBut I can have as many read\nwrite copies as I want or\n\n130\n00:06:51.080 --> 00:06:55.470\nmy domain controllers can host to copy\nat that zone, so really cool there.\n\n131\n00:06:55.470 --> 00:06:58.540\nLet's see how we go\nabout making a new zone.\n\n132\n00:06:58.540 --> 00:07:03.126\nI'm gonna right click over here on Forward\nLookup Zones, I'm gonna choose New Zone.\n\n133\n00:07:03.126 --> 00:07:05.500\nIt's gonna launch my New Zone wizard.\n\n134\n00:07:05.500 --> 00:07:09.080\nWhere I'll click next on the wizard,\nand then there's my choices.\n\n135\n00:07:09.080 --> 00:07:12.890\nDo I wanna do a primary,\na secondary, or a stub?\n\n136\n00:07:12.890 --> 00:07:15.710\nAnd do I wanna store it\nin Active Directory.\n\n137\n00:07:15.710 --> 00:07:20.450\nIf I uncheck this, right,\nI'm gonna create a primary zone.\n\n138\n00:07:20.450 --> 00:07:27.340\nNow this option is only available if the\nDNS server is also a Domain Controller.\n\n139\n00:07:27.340 --> 00:07:29.590\nThink about that for\na second, it'll make sense.\n\n140\n00:07:29.590 --> 00:07:33.810\nIf I've got DNS running on another\nserver that's not a Domain Controller,\n\n141\n00:07:33.810 --> 00:07:35.800\nhow can I integrate it\nin Active Directory?\n\n142\n00:07:35.800 --> 00:07:39.222\nIt's not a domain controller therefore it\ndoesn't have an Active Directory database.\n\n143\n00:07:39.222 --> 00:07:43.560\nWhich means they can't create an Active\nDirectory-Integrated zone, all right?\n\n144\n00:07:43.560 --> 00:07:47.580\nSo let's do that though,\nlet's do just a standard primary zone.\n\n145\n00:07:47.580 --> 00:07:50.364\nI'll click next and\n\n146\n00:07:50.364 --> 00:07:55.934\nwe'll call this one standard primary.\n\n147\n00:07:55.934 --> 00:07:57.628\nSo we can remember what the heck it was.\n\n148\n00:07:57.628 --> 00:08:02.169\nI'll click next and I get to choose\nthe name of the file Which, by default,\n\n149\n00:08:02.169 --> 00:08:04.925\nis just gonna be the name of the zone,\n.dns.\n\n150\n00:08:04.925 --> 00:08:07.470\nThat's that flat file it's gonna create.\n\n151\n00:08:07.470 --> 00:08:11.810\nWe'll click Next, and\nhere I can either do,\n\n152\n00:08:11.810 --> 00:08:17.720\ndo not allow dynamic updates, or\nboth nonsecure and secure dynamic updates.\n\n153\n00:08:17.720 --> 00:08:22.000\nDynamic updates are when the client,\nkeep this in mind when I'm\n\n154\n00:08:22.000 --> 00:08:25.370\ntalking about a client,\nI don't mean client operating system.\n\n155\n00:08:25.370 --> 00:08:28.134\nAny machine that consumes the DNS service,\n\n156\n00:08:28.134 --> 00:08:31.792\nwhether that machine is using\na client operating system,\n\n157\n00:08:31.792 --> 00:08:36.736\na server operating system, a phone\noperating system, that's a DNS client.\n\n158\n00:08:36.736 --> 00:08:37.780\nIt's talking to DNS.\n\n159\n00:08:37.780 --> 00:08:40.660\nIt's consuming that service,\nso it's a DNS client.\n\n160\n00:08:40.660 --> 00:08:44.780\nSo when I say DNS client, could be\na server, could be a client, all right?\n\n161\n00:08:44.780 --> 00:08:48.258\nBut if I create a new machine and\nI give it an IP address,\n\n162\n00:08:48.258 --> 00:08:53.044\nI need to get a record made for it in DNS,\nso that other machines can find it.\n\n163\n00:08:53.044 --> 00:08:56.659\nHey, what's the IP address of\nthat new machine named Client 42?\n\n164\n00:08:56.659 --> 00:09:01.970\nWell, if there's no record in the zone,\nthen I can't give it the IP address.\n\n165\n00:09:01.970 --> 00:09:04.270\nSo somehow, I have to create that record.\n\n166\n00:09:04.270 --> 00:09:07.408\nI can do it manually, and\nwe'll see how to do that in a second, but\n\n167\n00:09:07.408 --> 00:09:10.480\nI sure would like [LAUGH] it if\nthe client can do it itself.\n\n168\n00:09:10.480 --> 00:09:13.150\nAll right, and\nthat's what dynamic updates are all about.\n\n169\n00:09:13.150 --> 00:09:16.600\n&gt;&gt; So in a case where you do have\nan Active Directory integrated zone,\n\n170\n00:09:16.600 --> 00:09:19.200\nI joined 50 computers to the domain,\nthey can not only,\n\n171\n00:09:19.200 --> 00:09:21.960\nnow that they've got an object in\nActive Directory, they could say, okay,\n\n172\n00:09:21.960 --> 00:09:25.470\nsince we're already here, let's go\nahead and take the DNS database and\n\n173\n00:09:25.470 --> 00:09:27.430\nwe'll register those records\ninside of the database.\n\n174\n00:09:27.430 --> 00:09:30.820\n&gt;&gt; Absolutely, that way I don't have\nto manually create all those records.\n\n175\n00:09:30.820 --> 00:09:32.712\nIt also means if their IP address changes,\n\n176\n00:09:32.712 --> 00:09:35.822\nlet's say somebody on one of those\nclients changes their IP address.\n\n177\n00:09:35.822 --> 00:09:39.981\nThe client can then call up DNS and say,\nhey, my IP address has changed, can you\n\n178\n00:09:39.981 --> 00:09:44.289\nupdate my record so people can still find\nme when they're trying to connect to me?\n\n179\n00:09:44.289 --> 00:09:46.940\nI don't have to manually go in there and\nchange that.\n\n180\n00:09:46.940 --> 00:09:51.850\nIf I don't do dynamic updates, then I\nhave to manually do all of that stuff.\n\n181\n00:09:51.850 --> 00:09:53.930\nSo you think, why is that even an option?\n\n182\n00:09:53.930 --> 00:09:57.600\nWell, what if I've got\na DNS server out in my DMZ?\n\n183\n00:09:57.600 --> 00:10:00.650\nAll right, the only records that\nthing is really hosting are for\n\n184\n00:10:00.650 --> 00:10:05.660\nmy publicly available resources like my\nwebsite, the front-end of my mail server,\n\n185\n00:10:05.660 --> 00:10:08.900\nmy VPN or direct access server,\nand things like that, right?\n\n186\n00:10:08.900 --> 00:10:11.300\nJust a few,\nI can manually create those and\n\n187\n00:10:11.300 --> 00:10:14.970\nI don't want anybody maliciously trying\nto send dynamic updates to it or\n\n188\n00:10:14.970 --> 00:10:18.100\neven accidentally trying to\nsend dynamic updates to it.\n\n189\n00:10:18.100 --> 00:10:19.440\nI don't need that happening.\n\n190\n00:10:19.440 --> 00:10:23.110\nSo there are definitely times when\nI use do not allow dynamic updates.\n\n191\n00:10:23.110 --> 00:10:25.570\nUnderstanding that I'll\nhave to manually create,\n\n192\n00:10:25.570 --> 00:10:28.270\nas well as update all records in there.\n\n193\n00:10:28.270 --> 00:10:31.230\nAllow both secure and\nnon-secure dynamic updates.\n\n194\n00:10:31.230 --> 00:10:33.590\nSo I wanna turn dynamic updates on.\n\n195\n00:10:33.590 --> 00:10:40.810\nThe only option I get is both secure and\nnon-secure dynamic updates, all right?\n\n196\n00:10:40.810 --> 00:10:43.790\nThat's because this zone is not\nActive Directory integrated.\n\n197\n00:10:43.790 --> 00:10:47.420\nAnother cool benefit of\nActive Directory integrated zones\n\n198\n00:10:47.420 --> 00:10:51.300\nis that I can do secure\nonly dynamic updates.\n\n199\n00:10:51.300 --> 00:10:56.630\nSecure only means if\nthe DNS client is trusted,\n\n200\n00:10:56.630 --> 00:11:00.450\nthen it'll be allowed to make an update,\na dynamic update.\n\n201\n00:11:00.450 --> 00:11:04.520\nIf the client is not trusted, then it\nwon't be allowed to create a record or\n\n202\n00:11:04.520 --> 00:11:06.270\nupdate an existing record.\n\n203\n00:11:06.270 --> 00:11:07.570\nThis is a great thing,\n\n204\n00:11:07.570 --> 00:11:10.610\ncuz think about vendors that\ncome into your network, right?\n\n205\n00:11:10.610 --> 00:11:13.563\nThey get an IP address from\nyour wireless access point and\n\n206\n00:11:13.563 --> 00:11:17.687\nit includes their IP address, their\nsubnet mask, their default gateway, and\n\n207\n00:11:17.687 --> 00:11:20.105\nwho they're supposed to use for\nDNS, right?\n\n208\n00:11:20.105 --> 00:11:22.625\nWell, if I give them my\nDNS server's IP address,\n\n209\n00:11:22.625 --> 00:11:26.105\nthe first thing their client's gonna\ndo is call up DNS and say, hey,\n\n210\n00:11:26.105 --> 00:11:29.837\nI'm vendor laptop, here's my IP address,\ncan you make a record for me?\n\n211\n00:11:29.837 --> 00:11:33.125\nDNS, if I allow secure and\nunsecured updates, is gonna say, great,\n\n212\n00:11:33.125 --> 00:11:35.320\nI'll create a record for you.\n\n213\n00:11:35.320 --> 00:11:38.080\nNobody on my network needs to\nconnect to the vendor laptop.\n\n214\n00:11:38.080 --> 00:11:39.990\nThe vendor's gonna be gone as\nsoon as I kick him out, and\n\n215\n00:11:39.990 --> 00:11:42.370\ntell him that his product\ncosts way too much anyway.\n\n216\n00:11:42.370 --> 00:11:44.730\nAnd the laptop's never gonna\nbe on my network again.\n\n217\n00:11:44.730 --> 00:11:47.690\nYet, there's a record on my DNS server for\nthe name and\n\n218\n00:11:47.690 --> 00:11:49.880\nthe IP address of that laptop, right?\n\n219\n00:11:49.880 --> 00:11:53.440\nBy doing secure only,\nthose guys can't create records.\n\n220\n00:11:53.440 --> 00:11:54.890\nThey're not going to be allowed, so\n\n221\n00:11:54.890 --> 00:11:59.180\nit helps keep my zone clean amongst other\nthings, it helps it keep it secure.\n\n222\n00:11:59.180 --> 00:12:02.500\nBut since this is not Active Directory\nintegrated, I don't get that option.\n\n223\n00:12:02.500 --> 00:12:04.680\nThis is a standard primary zone.\n\n224\n00:12:04.680 --> 00:12:08.350\nSo it's only no dynamics,\nor secure and non-secure.\n\n225\n00:12:08.350 --> 00:12:12.640\nAnd I'll do the secure, non-secure,\nand we'll click Next and\n\n226\n00:12:12.640 --> 00:12:18.120\nFinish and I now have a new zone file for\nstandard primary, all right?\n\n227\n00:12:18.120 --> 00:12:22.460\nWhere we can start creating records but\nsince I allow dynamic updates, we could\n\n228\n00:12:22.460 --> 00:12:27.190\nhave other nodes or nodes registering\nthere, and let's just make one real quick.\n\n229\n00:12:27.190 --> 00:12:30.480\nI'm gonna talk about the different\ntypes of records as we progress.\n\n230\n00:12:30.480 --> 00:12:36.576\nFor right now,\nI'm just gonna call this test client 01.\n\n231\n00:12:36.576 --> 00:12:38.897\nJust so we'll have something in there.\n\n232\n00:12:38.897 --> 00:12:42.743\nAnd we'll make up an IP address for\nit, 10.0.100.2.\n\n233\n00:12:42.743 --> 00:12:48.238\nAnd we'll add that host, so we'll have\nsomething in there, so that we can see.\n\n234\n00:12:48.238 --> 00:12:50.423\nAll right, so\nthere is my standard primary.\n\n235\n00:12:50.423 --> 00:12:53.948\nNow let's make an Active Directory\nintegrated zone,\n\n236\n00:12:53.948 --> 00:12:56.100\nand see what that one looks like.\n\n237\n00:12:56.100 --> 00:13:00.745\nI'm gonna go back to forward look up\nzones, I'm gonna right-click, New zone.\n\n238\n00:13:00.745 --> 00:13:02.741\nAnd I'll click Next.\n\n239\n00:13:02.741 --> 00:13:06.739\nLet's move this out here,\nzoom in a little bit.\n\n240\n00:13:06.739 --> 00:13:09.098\nThis time I'm gonna do a primary, but\n\n241\n00:13:09.098 --> 00:13:13.280\nI'm gonna choose store\nthe zone in active directory.\n\n242\n00:13:13.280 --> 00:13:14.080\nWe'll click Next.\n\n243\n00:13:15.080 --> 00:13:16.310\nAnd now I get different options, right?\n\n244\n00:13:16.310 --> 00:13:18.620\nIt doesn't ask me about the flat filename.\n\n245\n00:13:18.620 --> 00:13:22.546\nIs this where in the Active Directory\ndatabase do you wanna store this?\n\n246\n00:13:22.546 --> 00:13:27.820\nAnd that decision affects\nwhat domain controllers\n\n247\n00:13:27.820 --> 00:13:31.480\nare gonna get a copy of this part\nof the Active Directory database.\n\n248\n00:13:31.480 --> 00:13:33.800\nAgain, we'll talk more about that\nwhen we get into Active Directory.\n\n249\n00:13:33.800 --> 00:13:35.908\nFor right now,\nI'm gonna leave it on the default,\n\n250\n00:13:35.908 --> 00:13:38.522\nall DNS servers running on domain\ncontrollers in this domain.\n\n251\n00:13:38.522 --> 00:13:43.546\nI'll click Next, I'll call this one\n\n252\n00:13:43.546 --> 00:13:48.268\nADintegrated, I'll click Next.\n\n253\n00:13:50.690 --> 00:13:54.261\nAnd you know what, that was kinda silly.\n\n254\n00:13:54.261 --> 00:13:58.739\nI should've said adintegrated.com or\n.local or something like that but\n\n255\n00:13:58.739 --> 00:13:59.954\nwe'll click Next.\n\n256\n00:13:59.954 --> 00:14:04.254\nNow I get the option for\nonly secure dynamic updates.\n\n257\n00:14:04.254 --> 00:14:05.692\nI like that idea.\n\n258\n00:14:05.692 --> 00:14:12.560\nWe'll click Next and Finish and there I\nhave my Active Directory integrated .com.\n\n259\n00:14:12.560 --> 00:14:17.150\nAnd you can see right here that it's\nan Active Directory integrated primary,\n\n260\n00:14:17.150 --> 00:14:19.970\nwhereas this one is just\na standard primary.\n\n261\n00:14:19.970 --> 00:14:24.600\nI left off my extension, [LAUGH] I left\noff my top level domain on that one, which\n\n262\n00:14:24.600 --> 00:14:27.820\nmeans it probably wouldn't work too well\nif we were actually trying to use this.\n\n263\n00:14:27.820 --> 00:14:29.350\nIn fact, let's fix that.\n\n264\n00:14:29.350 --> 00:14:34.700\nLet's go to Properties there and it's\nnot gonna let me change the name of it.\n\n265\n00:14:34.700 --> 00:14:37.050\nI would have to actually delete it and\nrecreate it.\n\n266\n00:14:37.050 --> 00:14:40.000\nSo we'll leave it like it is for now.\n\n267\n00:14:40.000 --> 00:14:40.659\nIt's not gonna hurt us.\n\n268\n00:14:42.020 --> 00:14:43.810\nAll right, so\nwe saw how to create primary zones,\n\n269\n00:14:43.810 --> 00:14:47.210\nwe see how to create Active Directory\nintegrated primary zones.\n\n270\n00:14:47.210 --> 00:14:49.605\nNext thing I wanna do is\ncreate some secondary zones.\n\n271\n00:14:49.605 --> 00:14:53.730\nAll right, so again secondary\nzones are read only copies.\n\n272\n00:14:53.730 --> 00:14:56.470\nThey give us that fault tolerance and\n\n273\n00:14:56.470 --> 00:14:59.340\nalso load balancing cuz\nthey can answer queries.\n\n274\n00:14:59.340 --> 00:15:00.970\nSo I could split the workload.\n\n275\n00:15:00.970 --> 00:15:04.230\nAnd if wanna do a secondary,\nlet's go check on the other DNS server and\n\n276\n00:15:04.230 --> 00:15:05.980\nsee how he's doing.\n\n277\n00:15:05.980 --> 00:15:10.420\nLet's go to Server 1,\nDNS is finished installing,\n\n278\n00:15:10.420 --> 00:15:13.350\nso we click Close and\nlet's open up the DNS console.\n\n279\n00:15:16.100 --> 00:15:17.000\n&gt;&gt; It's alphabetical, Mike.\n\n280\n00:15:17.000 --> 00:15:17.500\nThere you go.\n\n281\n00:15:19.595 --> 00:15:22.780\n&gt;&gt; All right, so\nI'm gonna expand out my console.\n\n282\n00:15:22.780 --> 00:15:24.590\nI'm gonna go down to my server.\n\n283\n00:15:24.590 --> 00:15:27.140\nAnd we'll see we do not\nhave any zones yet.\n\n284\n00:15:27.140 --> 00:15:31.140\nSo I'm gonna right-click,\nNew Zone, and I'll click Next.\n\n285\n00:15:33.120 --> 00:15:35.718\nAnd this time I'm gonna do Secondary,\n\n286\n00:15:35.718 --> 00:15:40.765\nwhich means it's a read-only copy of\na zone that exists on another server.\n\n287\n00:15:40.765 --> 00:15:42.540\nAnd I'll click Next.\n\n288\n00:15:42.540 --> 00:15:44.957\nNow this Active Directory\nintegrated's not available,\n\n289\n00:15:44.957 --> 00:15:47.610\nbecause this is not a domain controller.\n\n290\n00:15:47.610 --> 00:15:49.380\nI'll click Next.\n\n291\n00:15:49.380 --> 00:15:53.611\nThe zone name needs to match the name\nof the zone that I'm trying to make\n\n292\n00:15:53.611 --> 00:15:54.911\nthe copy of, right?\n\n293\n00:15:54.911 --> 00:15:57.811\nIf I wanna host a copy\nof ADintegrated.com,\n\n294\n00:15:57.811 --> 00:16:01.397\nI better use the right name here\ncuz if I use the wrong name\n\n295\n00:16:01.397 --> 00:16:05.080\nit's gonna not be able to\nfind it to get a copy of it.\n\n296\n00:16:05.080 --> 00:16:12.140\nSo ADintegrated.com is the zone I want\nto hold a copy of, we'll click Next.\n\n297\n00:16:12.140 --> 00:16:14.270\nThen it asks me for my master.\n\n298\n00:16:14.270 --> 00:16:16.870\nRemember this is a read-only copy.\n\n299\n00:16:16.870 --> 00:16:20.860\nSo it needs to get the information\nfrom someone else.\n\n300\n00:16:20.860 --> 00:16:23.660\nWe're not gonna be able to make\nnew records, right-click New, or\n\n301\n00:16:23.660 --> 00:16:24.380\nanything like that.\n\n302\n00:16:24.380 --> 00:16:27.150\nClients aren't gonna be able to\nconnect to it and make new records,\n\n303\n00:16:27.150 --> 00:16:28.480\nit's a read-only copy.\n\n304\n00:16:28.480 --> 00:16:30.610\nSo where does it get the copy from?\n\n305\n00:16:30.610 --> 00:16:32.170\nIts master, all right?\n\n306\n00:16:32.170 --> 00:16:34.610\nWe have to tell it who has the copy or\n\n307\n00:16:34.610 --> 00:16:37.420\nwho has the file that we\nwanna get the copy of.\n\n308\n00:16:37.420 --> 00:16:42.508\nIn that case, that's gonna be that\ndomain controller 10.0.100.200 and\n\n309\n00:16:42.508 --> 00:16:47.040\nyou can see it found it, resolved it,\nsays everything looks good.\n\n310\n00:16:47.040 --> 00:16:50.326\nSo we'll click Next and Finish and\n\n311\n00:16:50.326 --> 00:16:55.433\nnow I have a secondary zone for\nADIntergrator.com.\n\n312\n00:16:55.433 --> 00:16:58.944\nBut it looks like there's a problem,\nI got this red X up here and\n\n313\n00:16:58.944 --> 00:17:00.810\nit says the zone wasn't loaded.\n\n314\n00:17:02.250 --> 00:17:08.880\nThe reason is you have control over who's\nallowed to get a copy of that zone file.\n\n315\n00:17:08.880 --> 00:17:11.586\nThe zone file is a map to your network,\nall right?\n\n316\n00:17:11.586 --> 00:17:18.180\nIt's a bad guy's, I'm trying to\nthink of a way to say this without,\n\n317\n00:17:18.180 --> 00:17:24.050\na bad guy would drool if he thought he\ncould get a copy of your zone file.\n\n318\n00:17:24.050 --> 00:17:26.270\nBecause think about\nwhat's in the zone file.\n\n319\n00:17:26.270 --> 00:17:31.820\nEvery one of your machine's names and IP\naddresses, what services they're running.\n\n320\n00:17:31.820 --> 00:17:34.490\nThat's a domain controller,\nthere's their web server,\n\n321\n00:17:34.490 --> 00:17:37.700\nthere's their mail server,\nthere's their SQL Server, right?\n\n322\n00:17:37.700 --> 00:17:40.920\nIt can find all those out\nthrough that zone file.\n\n323\n00:17:40.920 --> 00:17:43.770\nAnd so if they can get a copy of it\n\n324\n00:17:43.770 --> 00:17:46.620\nthey've got a map of\nyour network basically.\n\n325\n00:17:46.620 --> 00:17:50.400\nSo we're very careful about\nwho's allowed to get a copy.\n\n326\n00:17:50.400 --> 00:17:53.340\nWe're gonna go back over to DC1 and\ntake a look at my options.\n\n327\n00:17:55.380 --> 00:17:57.830\nSo lets pull up\nActiveDirectoryIntergrated.com's\n\n328\n00:17:57.830 --> 00:18:03.670\nproperties and\nthere's a zone transfers tab.\n\n329\n00:18:03.670 --> 00:18:07.750\nAnd as by default you can see it is\nunchecked, allow zone transfers.\n\n330\n00:18:07.750 --> 00:18:10.228\nSo I'm gonna choose to\nallow zone transfers,\n\n331\n00:18:10.228 --> 00:18:12.910\nthen I'm gonna make\na decision to any server.\n\n332\n00:18:12.910 --> 00:18:15.593\nDoes that sound like a good one, Wes?\n\n333\n00:18:15.593 --> 00:18:16.506\n&gt;&gt; No, not at all.\n\n334\n00:18:16.506 --> 00:18:17.750\n&gt;&gt; Yeah, right?\n\n335\n00:18:17.750 --> 00:18:20.370\nThe problem with that is anybody,\n\n336\n00:18:20.370 --> 00:18:24.255\nthat means my DNS server\nthat should get a copy.\n\n337\n00:18:24.255 --> 00:18:27.750\nWes has DNS server that should get a copy,\nheck, Wes can open up\n\n338\n00:18:27.750 --> 00:18:32.670\na command prompt on his client, and do his\nown transfer of the other command line.\n\n339\n00:18:32.670 --> 00:18:34.620\nNot good idea, right?\n\n340\n00:18:34.620 --> 00:18:37.190\nSo we definitely don't\nwanna choose to any server.\n\n341\n00:18:37.190 --> 00:18:40.010\nOnly servers listed on\nthe name server tab, well\n\n342\n00:18:40.010 --> 00:18:44.990\nthe name server tab is right here, and\nthat would include all my names servers.\n\n343\n00:18:44.990 --> 00:18:48.545\nNow, the one we've just installed\nisn't showing up on this list because\n\n344\n00:18:48.545 --> 00:18:49.660\nwe just installed it.\n\n345\n00:18:49.660 --> 00:18:53.230\nGive it a little bit of time,\nit'll populate the record here,\n\n346\n00:18:53.230 --> 00:18:55.050\nwe could also do it manually.\n\n347\n00:18:55.050 --> 00:18:58.320\nBut I don't wanna do that, I'd rather\nlet it do it on its own when it's ready.\n\n348\n00:18:58.320 --> 00:19:02.789\nSo I'm gonna choose only the following,\nand I'm gonna click Edit.\n\n349\n00:19:02.789 --> 00:19:07.865\nAnd I'm gonna come in here and\ntype in 10.0.100.101,\n\n350\n00:19:07.865 --> 00:19:11.490\nif I remember his IP address correctly.\n\n351\n00:19:11.490 --> 00:19:13.160\nWe'll give it a chance to try to resolve.\n\n352\n00:19:13.160 --> 00:19:17.580\nYou actually don't have to wait for it to\nresolve, I can click OK right now, and\n\n353\n00:19:17.580 --> 00:19:22.280\nit'll finish, as long as I know\nI'm right on that IP address.\n\n354\n00:19:22.280 --> 00:19:26.330\nBut you know me and my memory,\ntime out occurred, interesting.\n\n355\n00:19:26.330 --> 00:19:27.687\nSo we'll see what's gonna happen.\n\n356\n00:19:27.687 --> 00:19:31.192\nWe could double check that IP address.\n\n357\n00:19:31.192 --> 00:19:32.223\nDid I not use the right one?\n\n358\n00:19:32.223 --> 00:19:38.842\nMaybe I didn't put the right IP\naddress in there, let's double check.\n\n359\n00:19:43.151 --> 00:19:47.076\n10.0.100.100 not 101 Mike.\n\n360\n00:19:47.076 --> 00:19:50.317\nSo let's fix that.\n\n361\n00:19:50.317 --> 00:19:54.672\nSo let's take that and\nlet's make that a 100.100.\n\n362\n00:19:54.672 --> 00:19:58.780\nI like to, oops I put an f in there\nthat time, a little misclick.\n\n363\n00:19:58.780 --> 00:20:04.090\nI like to tab out of it and\ngive it a second and it should resolve.\n\n364\n00:20:04.090 --> 00:20:06.575\nThat time it did not, but that's okay.\n\n365\n00:20:06.575 --> 00:20:10.848\nIt says the server with this IP address is\nnot authoritative for the required zone.\n\n366\n00:20:10.848 --> 00:20:12.530\nWe know that, we're trying to set that up.\n\n367\n00:20:12.530 --> 00:20:15.320\nSo I'm gonna leave it there,\nI know my IP address is correct.\n\n368\n00:20:15.320 --> 00:20:21.520\nI'm gonna click OK and I'm gonna click OK.\n\n369\n00:20:21.520 --> 00:20:27.400\nSo now, the host of the primary copy\nof the zone knows that it's okay for\n\n370\n00:20:27.400 --> 00:20:32.118\n10.0.100.100 to ask for\na copy of the zone.\n\n371\n00:20:32.118 --> 00:20:36.200\nSo now my secondary zone\nshould be working properly.\n\n372\n00:20:36.200 --> 00:20:41.680\nSo I'll go back to server 1,\nget rid of that, and we'll refresh.\n\n373\n00:20:43.150 --> 00:20:48.430\nAnd it'll probably take it a minute\nto actually pick up this zone.\n\n374\n00:20:48.430 --> 00:20:51.830\nSo we'll refresh and there it goes.\n\n375\n00:20:52.840 --> 00:20:56.240\nSometimes you gotta play around and\nrefresh a little bit higher on the menu.\n\n376\n00:20:56.240 --> 00:20:59.240\nNow we've got a read only\ncopy of ADIntegrated.\n\n377\n00:20:59.240 --> 00:21:01.870\nSo if the DC was unavailable for\nsome reason,\n\n378\n00:21:01.870 --> 00:21:06.890\npeople could still talk to this DNS\nserver and resolve names to IP addresses.\n\n379\n00:21:06.890 --> 00:21:07.600\nPretty cool, right?\n\n380\n00:21:08.630 --> 00:21:14.330\nLet's switch back to over to DC01 and\nlet's just make a new record in here.\n\n381\n00:21:14.330 --> 00:21:19.235\nI will call this client22,\njust making one up,\n\n382\n00:21:19.235 --> 00:21:24.505\n10.0.100.5, we'll pick add host.\n\n383\n00:21:24.505 --> 00:21:28.629\nAdd OK, and done.\n\n384\n00:21:28.629 --> 00:21:33.300\nAnd if we go back over to Server 1,\nnow as far as how long it takes for\n\n385\n00:21:33.300 --> 00:21:40.800\nthis information to replicate over, I'm\ngoing to reload and see if I can force it.\n\n386\n00:21:40.800 --> 00:21:43.670\nThat's something that we're gonna\ntalk about in another one cuz\n\n387\n00:21:43.670 --> 00:21:44.930\nit doesn't do it immediately.\n\n388\n00:21:44.930 --> 00:21:49.270\nIt's not as soon as that name changes,\n15 minutes is the default value that it's\n\n389\n00:21:49.270 --> 00:21:53.410\ngoing to wait before it checks to\nsee if there is any new information.\n\n390\n00:21:53.410 --> 00:21:57.170\nWe'll let that go, it will probably\nreload here in just a second.\n\n391\n00:21:57.170 --> 00:22:00.070\nAlright, so that's a secondary zone.\n\n392\n00:22:00.070 --> 00:22:04.230\nWe can also create something\nknow as stub zones.\n\n393\n00:22:04.230 --> 00:22:08.970\nThe thing about secondaries is you\nsaw that I needed permission, right?\n\n394\n00:22:08.970 --> 00:22:14.640\nWell, imagine this if you will,\nimagine a door, just kidding,\n\n395\n00:22:14.640 --> 00:22:21.520\nlets say I do a lot of work with another\ncompany called dev.ITPro.us, right?\n\n396\n00:22:21.520 --> 00:22:24.740\nAnd I want my users so\n\n397\n00:22:24.740 --> 00:22:28.180\nbe able to connect to resources in\ntheir network at little bit quicker.\n\n398\n00:22:28.180 --> 00:22:30.820\nWell, we talked about how DNS works and\nwe can go to the root and\n\n399\n00:22:30.820 --> 00:22:34.300\nI can go to the dot com or\nin this case the dot US and\n\n400\n00:22:34.300 --> 00:22:39.080\nthen I can get to the dev.itpro da.us and\nI can get that IP address I'm looking for.\n\n401\n00:22:39.080 --> 00:22:43.200\nI could also do conditional forwarding and\nbounce it over there to their server.\n\n402\n00:22:43.200 --> 00:22:45.790\nBut that still network traffic,\nright, that's gotta go and\n\n403\n00:22:45.790 --> 00:22:49.870\nfind there to get to their DNS server,\nget that query, get that answer back.\n\n404\n00:22:49.870 --> 00:22:54.850\nAnother way I could do that is to\nset up a secondary zone, right?\n\n405\n00:22:54.850 --> 00:22:55.950\nWe could do that.\n\n406\n00:22:55.950 --> 00:22:58.520\nThe downside of it is I need permission,\nokay?\n\n407\n00:22:58.520 --> 00:23:03.940\nI can't just go and set up a secondary\nzone on my DNS server for Microsoft.com.\n\n408\n00:23:03.940 --> 00:23:07.680\nMy DNS server is going to call up\nMicrosoft.com's DNS server and say hey,\n\n409\n00:23:07.680 --> 00:23:09.660\ngive me a copy of your zone file.\n\n410\n00:23:09.660 --> 00:23:11.780\nWes, what to you think\nMicrosoft's DNS server going to say?\n\n411\n00:23:11.780 --> 00:23:15.130\n&gt;&gt; It's going to say, absolutely, you can\nsee our entire internal infrastructure.\n\n412\n00:23:15.130 --> 00:23:17.420\nNow you know I'm kidding, I don't\nthink it's going to give you anything.\n\n413\n00:23:17.420 --> 00:23:21.730\n&gt;&gt; It is not gonna allow me And so if I\nknew somebody over there, I could say,\n\n414\n00:23:21.730 --> 00:23:23.210\nhey, can you add me to your list?\n\n415\n00:23:23.210 --> 00:23:24.780\nAnd they're probably gonna laugh at me,\nthey're gonna go,\n\n416\n00:23:24.780 --> 00:23:27.190\nno way we're gonna give you\na copy of our zone file.\n\n417\n00:23:28.540 --> 00:23:32.220\nSo that's the downside of trying\nto do a secondary zone for\n\n418\n00:23:32.220 --> 00:23:33.670\nsomebody external like that.\n\n419\n00:23:35.000 --> 00:23:37.160\nIt can be done, but again,\nyou need permission.\n\n420\n00:23:37.160 --> 00:23:39.000\nSo if I own both companies, right?\n\n421\n00:23:39.000 --> 00:23:44.067\nLet's say that I own Company A and\nCompany B, completely separate networks,\n\n422\n00:23:44.067 --> 00:23:49.591\nseparate enterprises, I could, since I own\nboth of them, I could go to the admins and\n\n423\n00:23:49.591 --> 00:23:54.703\nsay look, allow Company A to host a copy,\na read only copy, of your zone file.\n\n424\n00:23:54.703 --> 00:23:58.021\nThey could go to their DNS servers,\nCompany B, and they could say yes,\n\n425\n00:23:58.021 --> 00:24:00.085\nwe'll allow Company A to request the copy.\n\n426\n00:24:00.085 --> 00:24:03.129\nAnd I could host a copy of\ntheir zone file, right?\n\n427\n00:24:03.129 --> 00:24:06.760\nBut that's typically not the scenario,\nright?\n\n428\n00:24:06.760 --> 00:24:10.139\nSo that's where something\ncalled stub zones comes in.\n\n429\n00:24:10.139 --> 00:24:15.993\nStub zones are a way to,\nwhat's a good way to it?\n\n430\n00:24:15.993 --> 00:24:19.510\nDynamically well, let me back up.\n\n431\n00:24:19.510 --> 00:24:24.430\nSub zones are actually what I like to call\ndynamic conditional forwarding, all right.\n\n432\n00:24:24.430 --> 00:24:26.450\nRemember we've learned about\nconditional forwarding.\n\n433\n00:24:26.450 --> 00:24:32.312\nAnd I just said a minute ago, I at company\na could put in a conditional forwarding\n\n434\n00:24:32.312 --> 00:24:37.933\nrule that said any time you try to resolve\na name that ends in company b.com.\n\n435\n00:24:37.933 --> 00:24:41.401\nHere's the IP address of their\nDNS Server go straight to it, right.\n\n436\n00:24:41.401 --> 00:24:44.992\nThat was conditional forwarding I can\navoid going to the root and the .com,\n\n437\n00:24:44.992 --> 00:24:47.530\nI can go straight to their DNS Server.\n\n438\n00:24:47.530 --> 00:24:50.840\nThe downside of conditional forwarding\nthat I don't think I mentioned yesterday,\n\n439\n00:24:50.840 --> 00:24:51.810\nis that it is static.\n\n440\n00:24:51.810 --> 00:24:53.060\nRemember we set one up here.\n\n441\n00:24:54.620 --> 00:24:55.830\nI rolled this machine back.\n\n442\n00:24:55.830 --> 00:24:56.750\nNo this is the wrong machine.\n\n443\n00:24:56.750 --> 00:24:57.889\nLet's go to DC one.\n\n444\n00:24:59.060 --> 00:25:03.100\nBecause we did set up a conditional\nforwarder and in another show.\n\n445\n00:25:03.100 --> 00:25:04.370\nAnd I've rolled this go back as well.\n\n446\n00:25:05.600 --> 00:25:06.600\nSo conditional forwarder,\n\n447\n00:25:06.600 --> 00:25:09.600\nthe downside of that conditional\nforwarding is that it's static.\n\n448\n00:25:09.600 --> 00:25:12.940\nWhen you create that rule, it's set.\n\n449\n00:25:12.940 --> 00:25:16.990\nAnd if that other server's\nIP address changes but\n\n450\n00:25:16.990 --> 00:25:18.450\nI'm not going to be able\nto connect to it anymore.\n\n451\n00:25:18.450 --> 00:25:20.450\nI'm gonna have to find\nout that it changed.\n\n452\n00:25:20.450 --> 00:25:24.120\nI'm gonna have to get the new IP address\nand update my record, all right.\n\n453\n00:25:24.120 --> 00:25:27.799\nFor example, I have another server,\njust like we did in the previous episode.\n\n454\n00:25:27.799 --> 00:25:33.136\nHere's dc1.dev.itpro.us and\nhe's running DNS,\n\n455\n00:25:33.136 --> 00:25:38.594\nand he's got a zone for\nhis domain here, his name space.\n\n456\n00:25:38.594 --> 00:25:47.270\nAll right, dev.itpro.us If I go\nback to DC1, and I try to ping.\n\n457\n00:25:51.049 --> 00:25:53.890\nI want to get my admin prompt up here.\n\n458\n00:25:53.890 --> 00:25:59.160\nIf I try to ping one of their nodes which\nlet's verify one of those names there.\n\n459\n00:25:59.160 --> 00:26:05.973\nLet's say I wanna try to talk\nto Client01.dev.itpro.us.\n\n460\n00:26:05.973 --> 00:26:13.792\nPing Client01.dev.itpro.us.\n\n461\n00:26:13.792 --> 00:26:14.344\nAll right,\n\n462\n00:26:14.344 --> 00:26:18.280\ncan't find the host we talked about\nthat because we don't have the record.\n\n463\n00:26:18.280 --> 00:26:21.785\nSo what I could do is do conditional\nforwarding, where I right-click,\n\n464\n00:26:21.785 --> 00:26:23.168\nDo conditional forwarder.\n\n465\n00:26:23.168 --> 00:26:27.202\nThe name is dev.itpro.us and\n\n466\n00:26:27.202 --> 00:26:35.899\nthe IP address of their DNS\nserver is 10.0.100.151.\n\n467\n00:26:35.899 --> 00:26:39.221\nAnd I'll store in Active Directory so that\neverybody else can get a copy of it, and\n\n468\n00:26:39.221 --> 00:26:40.830\nI'll click OK.\n\n469\n00:26:40.830 --> 00:26:43.600\nSo now I've got this conditional\nforwarding rule in place that says hey,\n\n470\n00:26:43.600 --> 00:26:47.360\nif you're trying to resolve\na name that ends in dev.itpro.us\n\n471\n00:26:47.360 --> 00:26:49.920\nhere's the IP address of their DNS server.\n\n472\n00:26:49.920 --> 00:26:54.482\nSo if I go back up here and\ntry that, and we flush our cache.\n\n473\n00:26:58.208 --> 00:27:00.189\nAnd we flush our other cache.\n\n474\n00:27:04.876 --> 00:27:06.180\nLet me try that one more time.\n\n475\n00:27:08.100 --> 00:27:10.690\nNotice it was able to\nfind it this time and\n\n476\n00:27:10.690 --> 00:27:13.290\nbecause I told it where the DNS server is.\n\n477\n00:27:13.290 --> 00:27:15.700\nBut the point I was trying\nto make out of all this is,\n\n478\n00:27:15.700 --> 00:27:18.570\nwhat if their DNA server\nIP address changes?\n\n479\n00:27:18.570 --> 00:27:22.020\nIt's not gonna update my rule, I'm gonna\nhave to come in here and edit this rule,\n\n480\n00:27:22.020 --> 00:27:23.230\nall right.\n\n481\n00:27:23.230 --> 00:27:25.880\nThat's the downside of conditional\nforwarding is that it's static.\n\n482\n00:27:25.880 --> 00:27:30.480\nWith stub zones, it's dynamic\nconditional forwarding, all right.\n\n483\n00:27:30.480 --> 00:27:36.120\nInstead of me creating a rule that says\nhere's the IP address of their DNS Server.\n\n484\n00:27:36.120 --> 00:27:39.657\nI'm gonna create a stub zone that's\ngonna talk to their DNS Server.\n\n485\n00:27:39.657 --> 00:27:43.416\nAnd say give me your IP address and\nthe IP address of your other DNS Servers.\n\n486\n00:27:43.416 --> 00:27:46.689\nAnd if that information changes, and\nit updates periodically it reaches out\n\n487\n00:27:46.689 --> 00:27:48.970\nperiodically and\nsays hey give me your information.\n\n488\n00:27:48.970 --> 00:27:52.350\nSo if the IP address of their\nDNS Servers change my stub zone is gonna\n\n489\n00:27:52.350 --> 00:27:55.580\nbe updated automatically and\nI won't have to worry about it.\n\n490\n00:27:55.580 --> 00:27:57.150\nThat's what a stub zone is for.\n\n491\n00:27:57.150 --> 00:27:59.590\nThink of it as dynamic\nconditional forwarding.\n\n492\n00:27:59.590 --> 00:28:02.150\nLet's try it, I'm going to go\nup to my forward lookup zones,\n\n493\n00:28:02.150 --> 00:28:06.490\nlet's get rid of our conditional\nforwarders that we've got now.\n\n494\n00:28:06.490 --> 00:28:07.855\nWe'll pull that out.\n\n495\n00:28:11.541 --> 00:28:15.881\nAll right, and\nwe're going to make a new zone And\n\n496\n00:28:15.881 --> 00:28:18.620\nthis time we're gonna choose stub zone.\n\n497\n00:28:18.620 --> 00:28:22.530\nAnd I'll click Next, and\nI'll use my defaults.\n\n498\n00:28:22.530 --> 00:28:26.982\nWe're gonna call this zone\n\n499\n00:28:26.982 --> 00:28:32.852\ndev.itpro.us, And we'll click Next.\n\n500\n00:28:33.960 --> 00:28:36.937\nAnd the master is one\nof their DNS Servers so\n\n501\n00:28:36.937 --> 00:28:41.869\n10.0.100.151 right, and\n\n502\n00:28:41.869 --> 00:28:47.460\nthen this part, use the above server to\ncreate a local list of master servers.\n\n503\n00:28:47.460 --> 00:28:51.126\nThat's the key because if I\nonly have one listed there,\n\n504\n00:28:51.126 --> 00:28:55.192\nand that IP address changes,\nit is gonna break this, right.\n\n505\n00:28:55.192 --> 00:28:57.880\nBecause I can't check with them to\nget their updated IP addresses.\n\n506\n00:28:57.880 --> 00:29:01.360\nSo you need more than one to\nreally make this work well.\n\n507\n00:29:01.360 --> 00:29:04.576\nSo use the above server to get a list\nof all their other DNS Servers.\n\n508\n00:29:04.576 --> 00:29:09.420\nClick Next and Finish.\n\n509\n00:29:09.420 --> 00:29:11.370\nAnd now I have this stub zone.\n\n510\n00:29:11.370 --> 00:29:14.182\nAnd we'll give it just a second here.\n\n511\n00:29:14.182 --> 00:29:16.230\nAnd we'll see if we can't\nget this to refresh.\n\n512\n00:29:17.960 --> 00:29:24.380\nBecause a cool thing about stub zones and\nI'm gonna say just transfer for master.\n\n513\n00:29:24.380 --> 00:29:29.140\nSee if I can get this to kick in and\nthere it goes, right?\n\n514\n00:29:29.140 --> 00:29:31.610\nNow, wait a second then we just say,\n\n515\n00:29:31.610 --> 00:29:37.020\nWes, that to get a secondary I had to have\npermission to get a copy of the zone file.\n\n516\n00:29:37.020 --> 00:29:38.620\nHere I didn't need it, did I?\n\n517\n00:29:38.620 --> 00:29:41.090\nBecause I'm not getting\ntheir entire zone file.\n\n518\n00:29:41.090 --> 00:29:43.460\nI'm only getting publicly\navailable information.\n\n519\n00:29:43.460 --> 00:29:47.560\nI'm getting the IP address of\ntheir DNS Servers then that's it.\n\n520\n00:29:47.560 --> 00:29:51.730\nNow I can talk to their DNS Servers and\nget the rest of the information.\n\n521\n00:29:51.730 --> 00:29:54.040\nBut I'm not replicating\ntheir entire zone file.\n\n522\n00:29:54.040 --> 00:29:59.740\nSo to set up a stub zone you don't need\npermission from that other namespace.\n\n523\n00:29:59.740 --> 00:30:03.280\nYou can set it up and it'll just\nreplicate that information over.\n\n524\n00:30:03.280 --> 00:30:06.590\nThese are known as glue records in case\nthey ask you that on the question.\n\n525\n00:30:06.590 --> 00:30:09.910\nOn the test [LAUGH] if they\nask you that on the question.\n\n526\n00:30:09.910 --> 00:30:11.300\nYeah, that's a good one.\n\n527\n00:30:11.300 --> 00:30:15.470\nIf they ask you on the exam what\ninformation is included in a stub zone\n\n528\n00:30:15.470 --> 00:30:17.620\nit's what we call the glue records.\n\n529\n00:30:17.620 --> 00:30:18.800\nYes, like Elmer's.\n\n530\n00:30:18.800 --> 00:30:19.950\nThe glue records.\n\n531\n00:30:19.950 --> 00:30:22.310\nYou're gonna get the A record for\n\n532\n00:30:22.310 --> 00:30:26.270\ntheir name servers and\nthe NS record for their name servers.\n\n533\n00:30:26.270 --> 00:30:28.330\nAnd the SOA, the start of authority.\n\n534\n00:30:28.330 --> 00:30:32.330\nWe'll learn about what these records are\nin just a couple of episodes coming up.\n\n535\n00:30:32.330 --> 00:30:34.200\nBut the SOA, the start of authority.\n\n536\n00:30:34.200 --> 00:30:38.170\nAnd then for each name server they have\nyou'll get an A record and an NS record.\n\n537\n00:30:38.170 --> 00:30:40.070\nAll right, and those will be updated.\n\n538\n00:30:40.070 --> 00:30:44.870\nEvery time, periodically, my server is\ngonna call out to their DNS Server and\n\n539\n00:30:44.870 --> 00:30:46.590\nsay, hey, has anything changed?\n\n540\n00:30:46.590 --> 00:30:49.840\nAnd if any of their DNS Server's IP\naddresses have changed, that information\n\n541\n00:30:49.840 --> 00:30:54.400\nwill get updated and we'll always be\nable to connect to their DNS Servers.\n\n542\n00:30:54.400 --> 00:30:58.970\nDynamic conditional forwarding is\nreally what stubs zones is all about.\n\n543\n00:30:58.970 --> 00:31:00.850\n&gt;&gt; Well, Mike, thanks,\nthat's a lot of information.\n\n544\n00:31:00.850 --> 00:31:04.614\nAnd thank you for taking a complex topic\nand breaking it down a little bit now\n\n545\n00:31:04.614 --> 00:31:07.921\nI know we have more to go in our\ntopics here inside of this episode.\n\n546\n00:31:07.921 --> 00:31:11.349\nBut looks like we're coming to the end\nof another episode so, Mike do you have\n\n547\n00:31:11.349 --> 00:31:15.040\nanything else you would like to throw in\nthis one or are we going for a par 2?\n\n548\n00:31:15.040 --> 00:31:17.950\n&gt;&gt; I have a ton of stuff but\nwe're short on time.\n\n549\n00:31:17.950 --> 00:31:19.810\nSo, we'll come back for another one.\n\n550\n00:31:19.810 --> 00:31:21.620\n&gt;&gt; All right,\nMike well we appreciate you being here and\n\n551\n00:31:21.620 --> 00:31:23.270\nwe appreciate you the viewer watching.\n\n552\n00:31:23.270 --> 00:31:24.910\nSigning out for ITPROTV.\n\n553\n00:31:24.910 --> 00:31:27.160\nI've been your host, Wes Bryan\n&gt;&gt; And I'm Mike Rodrick.\n\n554\n00:31:27.160 --> 00:31:29.618\n&gt;&gt; And we'll see you next time.\n\n555\n00:31:29.618 --> 00:31:35.613\n[MUSIC]\n\n556\n00:31:35.613 --> 00:31:37.430\n&gt;&gt; Thank you for watching ITPROTV.\n\n",
          "vimeoId": "193559169"
        },
        {
          "description": "In this episode, Wes and Mike continue their exploration of DNS zones and records. They look at how to resolve single label names through GlobalNames zones. They explain how to generate zone statistics for diagnostics and maintenance of DNS zones. Finally they will look at the different records that can be contained inside of a DNS zone",
          "length": "2351",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-2-dns_zones_and_records_pt2-111716.00_38_55_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-2-dns_zones_and_records_pt2-111716.00_38_55_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-2-dns_zones_and_records_pt2-111716.00_38_55_12.Still001-sm.jpg",
          "title": "DNS Zones and Records Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.109\nWelcome to IT Pro TV,\nI'm your host Don [CROSSTALK].\n\n2\n00:00:02.109 --> 00:00:08.426\n[MUSIC]\n\n3\n00:00:08.426 --> 00:00:11.611\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:11.611 --> 00:00:14.281\n&gt;&gt; Welcome back to another exciting\nepisode here at IT Pro TV.\n\n5\n00:00:14.281 --> 00:00:15.935\nI'm your host Wes Bryan.\n\n6\n00:00:15.935 --> 00:00:19.266\nIn today's episode we're continuing\nalong that journey that is\n\n7\n00:00:19.266 --> 00:00:23.689\nthe networking with Windows Server 2016,\nand just when you thought we were done,\n\n8\n00:00:23.689 --> 00:00:25.097\nwe're back with more DNS.\n\n9\n00:00:25.097 --> 00:00:27.464\nAnd it kinda shows you\nhow important it is and\n\n10\n00:00:27.464 --> 00:00:30.219\nhow much you need to pay\nattention on it in the exam.\n\n11\n00:00:30.219 --> 00:00:31.883\nSo joining us back again is none\nother than Mr Mike Rodrick.\n\n12\n00:00:31.883 --> 00:00:33.259\nMike, how are you doing sir?\n\n13\n00:00:33.259 --> 00:00:34.139\n&gt;&gt; Doing great.\n\n14\n00:00:34.139 --> 00:00:35.427\nThanks for having me back, and yeah,\n\n15\n00:00:35.427 --> 00:00:37.247\ncontinuing with my favorite subject,\ngood old DNS.\n\n16\n00:00:37.247 --> 00:00:39.801\nSo we got a few more\nthings we need to discuss.\n\n17\n00:00:39.801 --> 00:00:41.352\nWe've looked at a lot of it already.\n\n18\n00:00:41.352 --> 00:00:44.093\nInstallation configuring of\nthe DNS servers themselves.\n\n19\n00:00:44.093 --> 00:00:47.575\nWe talked about zones, zone types,\nActive Directory integrated,\n\n20\n00:00:47.575 --> 00:00:48.843\na lot of that good stuff.\n\n21\n00:00:48.843 --> 00:00:53.121\nNow we're gonna take a look more at\nsome of the things we do inside DNS\n\n22\n00:00:53.121 --> 00:00:55.085\nto make name resolution work.\n\n23\n00:00:55.085 --> 00:00:56.475\n&gt;&gt; You know, speaking of zones,\n\n24\n00:00:56.475 --> 00:00:58.831\nyou showed us a few of those\nzones in a prior episode.\n\n25\n00:00:58.831 --> 00:01:00.063\nWe looked at what?\n\n26\n00:01:00.063 --> 00:01:02.241\nIf I can recap and\nremember this right, primary zones.\n\n27\n00:01:02.241 --> 00:01:03.711\nWe looked at secondary zones.\n\n28\n00:01:03.711 --> 00:01:06.415\nWe looked at stub zones as well.\n\n29\n00:01:06.415 --> 00:01:09.117\nDo we have any other zones here or\nwe covered it?\n\n30\n00:01:09.117 --> 00:01:11.961\n&gt;&gt; We do, we've got a new one,\nor I shouldn't say a new one,\n\n31\n00:01:11.961 --> 00:01:13.597\nwe've got another one to cover.\n\n32\n00:01:13.597 --> 00:01:16.815\nAnd that is out GlobalNames Zone.\n\n33\n00:01:16.815 --> 00:01:19.437\nAnd GlobalNames Zones\nis an interesting one.\n\n34\n00:01:19.437 --> 00:01:24.215\nThe idea behind GlobalNames Zones is it\nallows me to resolve what we would call\n\n35\n00:01:24.215 --> 00:01:26.063\nsingle label names, right?\n\n36\n00:01:26.063 --> 00:01:31.916\nWe know a node, a computer,\na device has a name like serv01 or\n\n37\n00:01:31.916 --> 00:01:37.666\nfile02 or dc01 or Client 25 or\nwhatever the case may be.\n\n38\n00:01:37.666 --> 00:01:39.555\nWe give our machines names, and\n\n39\n00:01:39.555 --> 00:01:43.482\nthen we take our DNS suffix when\nthose machines belong to a domain.\n\n40\n00:01:43.482 --> 00:01:46.182\nWe take that DNS suffix like lab.itpro.tv.\n\n41\n00:01:46.182 --> 00:01:52.043\nWe plug it together with the host name and\nwe get client25.lab.itpro.tv and\n\n42\n00:01:52.043 --> 00:01:56.541\nthat's known as the FQDN or\nthe fully qualified domain name.\n\n43\n00:01:56.541 --> 00:02:01.215\nAnd the way DNS works is it needs\nthe FQDN to be able to resolve a name\n\n44\n00:02:01.215 --> 00:02:02.661\ninto an IP address.\n\n45\n00:02:02.661 --> 00:02:06.539\nAnd you might think well wait Mike,\nI don't always type in the full name.\n\n46\n00:02:06.539 --> 00:02:10.199\nWhen I'm going to file server 01,\nI type file 01 and it goes there,\n\n47\n00:02:10.199 --> 00:02:11.364\nhow is that possible?\n\n48\n00:02:11.364 --> 00:02:15.610\nAnd that's the way DNS works,\nis it take the DNS suffix for the node.\n\n49\n00:02:15.610 --> 00:02:19.798\nIf you don't type a fully qualified domain\nname, it has to make some assumptions.\n\n50\n00:02:19.798 --> 00:02:23.908\nAnd it says all right, most likely the\nresource that you're trying to get to is\n\n51\n00:02:23.908 --> 00:02:25.292\nin the same domain as you.\n\n52\n00:02:25.292 --> 00:02:29.960\nSo I'm gonna use your host, your nodes,\nDNS suffix, plug it in with the name that\n\n53\n00:02:29.960 --> 00:02:33.154\nyou've typed, and\nprobably be able to find that name.\n\n54\n00:02:33.154 --> 00:02:35.271\nCuz without the fully\nqualified domain name,\n\n55\n00:02:35.271 --> 00:02:37.342\nhow do I know what DNS server to go to,\nright?\n\n56\n00:02:37.342 --> 00:02:41.157\nWe talked about route, .com, and\n\n57\n00:02:41.157 --> 00:02:46.768\nthen Contoso.com or\nroot.tv itpro.tv, right?\n\n58\n00:02:46.768 --> 00:02:50.575\nSo how would I know what server to\ngo to if you just told me client 25.\n\n59\n00:02:50.575 --> 00:02:52.563\nIs that client25.google.com?\n\n60\n00:02:52.563 --> 00:02:55.323\nIs that client25.lab.itpro.tv?\n\n61\n00:02:55.323 --> 00:02:56.717\nWhat the heck is it?\n\n62\n00:02:56.717 --> 00:03:01.184\nSo DNS makes some assumptions,\nplugs us together and tries it that way.\n\n63\n00:03:01.184 --> 00:03:04.036\n&gt;&gt; So you've been saying that if I\nunderstand it right is a higher rate,\n\n64\n00:03:04.036 --> 00:03:05.658\na higher article name space right, and\n\n65\n00:03:05.658 --> 00:03:07.790\nyou have divisions in those\ndifferent levels now.\n\n66\n00:03:07.790 --> 00:03:08.699\nHow does that come?\n\n67\n00:03:08.699 --> 00:03:12.326\nWhat would be the contrast if we're\nlooking at a GlobalName Zone?\n\n68\n00:03:12.326 --> 00:03:14.611\nWhat are we looking at that would be\ndifferent than that hierarchical approach?\n\n69\n00:03:14.611 --> 00:03:17.061\n&gt;&gt; Well GlobalName Zone is\na flat namespace, right?\n\n70\n00:03:17.061 --> 00:03:20.828\nAnd this goes back to we've had\nflat naming conventions before,\n\n71\n00:03:20.828 --> 00:03:22.271\nthere's still around.\n\n72\n00:03:22.271 --> 00:03:26.475\nTheyve been telling us they're gonna\ngo away forever but we have nNet BIOS,\n\n73\n00:03:26.475 --> 00:03:28.777\nright, which is a flat naming structure.\n\n74\n00:03:28.777 --> 00:03:33.499\nWhen you install Windows for example,\nyou still give your node a Net BIOS name.\n\n75\n00:03:33.499 --> 00:03:37.965\nIt just takes the first characters of\nwhatever your host name is gonna be, and\n\n76\n00:03:37.965 --> 00:03:42.721\nuses that for the Net BIOS name, cuz Net\nBIOS is still used by older applications.\n\n77\n00:03:42.721 --> 00:03:46.146\nAnd so for backwards compatibility,\nit's still around.\n\n78\n00:03:46.146 --> 00:03:48.493\nBut it was limited because of\nthe fact that it was flat.\n\n79\n00:03:48.493 --> 00:03:50.343\nThere was not dot this, that, the other.\n\n80\n00:03:50.343 --> 00:03:56.461\nIts just client 25, which is very\nlimiting because that has to be unique.\n\n81\n00:03:56.461 --> 00:03:59.500\nSo I'm already limited by the number\nof names I can come up with,\n\n82\n00:03:59.500 --> 00:04:01.936\nwith the note-character\nlimitation that I have.\n\n83\n00:04:01.936 --> 00:04:04.182\nI couldn't come up with\na global unique name for\n\n84\n00:04:04.182 --> 00:04:06.108\nevery single device out there, right?\n\n85\n00:04:06.108 --> 00:04:08.125\nSo, Net BIOS is not routable.\n\n86\n00:04:08.125 --> 00:04:11.479\nIts not used, but\ninternally on your internal network.\n\n87\n00:04:11.479 --> 00:04:14.548\n&gt;&gt; Now Mike, I know that you've,\nI'm going to age Mike here for a second.\n\n88\n00:04:14.548 --> 00:04:17.268\nI know you've definitely had to\ndeal with Net BIOS in your days.\n\n89\n00:04:17.268 --> 00:04:21.011\nNow if I remember right, it also had\nthe tendency to give you some performance\n\n90\n00:04:21.011 --> 00:04:24.998\ndegradation on your networks, because\nit was always broadcast communication.\n\n91\n00:04:24.998 --> 00:04:27.781\nSo everybody's trying to find this by\nbasically standing up in the middle of\n\n92\n00:04:27.781 --> 00:04:29.484\nthe room and\nyelling at the top of their lungs.\n\n93\n00:04:29.484 --> 00:04:30.426\nIs this a little bit different?\n\n94\n00:04:30.426 --> 00:04:32.178\nAre we asking a direct\nquestion of a dns server, or\n\n95\n00:04:32.178 --> 00:04:34.702\nare we still getting up on the table and\nshouting at the top of our lungs?\n\n96\n00:04:34.702 --> 00:04:37.564\n&gt;&gt; It's definitely different, and\nthat's a great point in a Net BIOS.\n\n97\n00:04:37.564 --> 00:04:41.074\nOne of the downsides of Net BIOS was what\nwe call a noisy protocol because it did\n\n98\n00:04:41.074 --> 00:04:43.456\ngenerate a lot of broadcast\ntraffic on the network.\n\n99\n00:04:43.456 --> 00:04:45.690\nAnd we had ways to deal with that.\n\n100\n00:04:45.690 --> 00:04:49.788\nWe had what was called a WIN server,\na Windows Internet Name server,\n\n101\n00:04:49.788 --> 00:04:52.487\nthat we could install,\na role just like DNS.\n\n102\n00:04:52.487 --> 00:04:54.376\nThat would basically do\nthe same thing as DNS.\n\n103\n00:04:54.376 --> 00:04:58.602\nIt was a little database of NetBIOS\nnames to IP address mappings and, so,\n\n104\n00:04:58.602 --> 00:05:02.625\ninstead of just hollering out,\nyou could connect to the WINSserver,\n\n105\n00:05:02.625 --> 00:05:07.219\nsay what's the IP address of client 25,\nand it could tell you the IP address.\n\n106\n00:05:07.219 --> 00:05:12.346\nThe idea behind GlobalName Zones is we\nknew Net BIOS was going away eventually,\n\n107\n00:05:12.346 --> 00:05:17.472\nit's not used very much, and having two\ndifferent name resolution services,\n\n108\n00:05:17.472 --> 00:05:21.449\nhaving to run DNS and having to\nrun WINS to support both of these\n\n109\n00:05:21.449 --> 00:05:24.610\nname resolution protocols,\nwas unnecessary.\n\n110\n00:05:24.610 --> 00:05:26.268\nDNS is where we wanna be.\n\n111\n00:05:26.268 --> 00:05:29.542\nSo Microsoft said,\nwell tell you what we're gonna do,\n\n112\n00:05:29.542 --> 00:05:31.848\nwe're gonna add a new zone type to DNS.\n\n113\n00:05:31.848 --> 00:05:36.520\nWe'll call it GlobalNames, and\nwe'll use it to host single label names.\n\n114\n00:05:36.520 --> 00:05:41.814\nAnd we can use that and\ntry to get rid of our dependency on WINS.\n\n115\n00:05:41.814 --> 00:05:46.707\nSo we can use GlobalNames basically as\na single label name that functions very\n\n116\n00:05:46.707 --> 00:05:50.395\nsimilar to WINS that allows you\nto have one name resolution\n\n117\n00:05:50.395 --> 00:05:52.822\nsolution rather than have to do both.\n\n118\n00:05:52.822 --> 00:05:56.432\nI can do it all within DNS and\nI can get rid of my WIN servers.\n\n119\n00:05:56.432 --> 00:05:58.200\n&gt;&gt; And that brings me to my question.\n\n120\n00:05:58.200 --> 00:05:59.534\nOne of the things I was thinking about,\nMike.\n\n121\n00:05:59.534 --> 00:06:03.711\nAre we looking at a replacement for WINS,\nor are we talking about down at the DNA\n\n122\n00:06:03.711 --> 00:06:06.450\nlevel, throw another acronym out of DNS,\nright?\n\n123\n00:06:06.450 --> 00:06:08.988\nDown at its entirety,\nare they two completely separate things?\n\n124\n00:06:08.988 --> 00:06:12.031\n&gt;&gt; Great question and\nvery important that we understand\n\n125\n00:06:12.031 --> 00:06:16.030\nthe answer to this one because it\ndepends on your perspective I think.\n\n126\n00:06:16.030 --> 00:06:20.375\nAnd one way you can say GlobalName Zones\nis a replacement for WINS, but\n\n127\n00:06:20.375 --> 00:06:24.436\nyou'd be wrong in most cases when\nyou say it that way, all right.\n\n128\n00:06:24.436 --> 00:06:28.534\nIt is intended to replace\nour dependency on WINS, but\n\n129\n00:06:28.534 --> 00:06:31.729\nit's not a direct replacement for WINS.\n\n130\n00:06:31.729 --> 00:06:35.699\nIn other words, if you have an older\napplication that understands NetBIOS or\n\n131\n00:06:35.699 --> 00:06:40.037\nunderstands WINS, you can't just point\nthat application to the DNS server that's\n\n132\n00:06:40.037 --> 00:06:42.742\nhosting the GlobalName Zones and\nexpect it to work.\n\n133\n00:06:42.742 --> 00:06:45.056\nCompletely different protocols, right?\n\n134\n00:06:45.056 --> 00:06:51.044\nSo, in one way,\nGlobalName Zones is meant to replace WINS.\n\n135\n00:06:51.044 --> 00:06:53.359\nBut understand that in a technical sense,\n\n136\n00:06:53.359 --> 00:06:56.068\nGlobalNames Zones is not a replacement for\nWINS.\n\n137\n00:06:56.068 --> 00:06:58.948\nIt does the same thing as WINS,\nand it will allow me to\n\n138\n00:06:58.948 --> 00:07:03.017\nget rid of my WINS dependencies, but\nit doesn't replace WINS directly.\n\n139\n00:07:03.017 --> 00:07:05.250\nIf you've application\nthat has to have WINS,\n\n140\n00:07:05.250 --> 00:07:07.150\nyou're gonna have to run a WIN server.\n\n141\n00:07:07.150 --> 00:07:09.420\nYou can't point it to\nthat GlobalName Zone.\n\n142\n00:07:09.420 --> 00:07:14.348\nAll right, so now let's talk about the way\nit works is you have to create a new zone.\n\n143\n00:07:14.348 --> 00:07:19.750\nAnd it's not a different type of zone,\nit's just a standard, it's a primary zone.\n\n144\n00:07:19.750 --> 00:07:22.369\nIt can be standard it can be\nActive Directory integrated.\n\n145\n00:07:22.369 --> 00:07:26.483\nAnd so when we go to create it,\nwe just create a new zone, same way,\n\n146\n00:07:26.483 --> 00:07:27.809\nand choose primary.\n\n147\n00:07:27.809 --> 00:07:33.090\nThe key is to name it GlobalNames\nall one word, no spaces.\n\n148\n00:07:33.090 --> 00:07:34.745\nAnd that is plural, GlobalNames.\n\n149\n00:07:34.745 --> 00:07:38.226\nOnce you create that zone named,\nGlobalNames, DNS sees that and\n\n150\n00:07:38.226 --> 00:07:42.548\nwe have to turn on the functionality for\nit because it's not enabled by default.\n\n151\n00:07:42.548 --> 00:07:46.859\nOnce we turn that on, and\nit sees that zone it will start using it.\n\n152\n00:07:46.859 --> 00:07:50.462\nNow within that zone,\nwe have to manually create the records.\n\n153\n00:07:50.462 --> 00:07:54.812\nThere's no dynamic updates, or\nanything like that for GlobalName Zones.\n\n154\n00:07:54.812 --> 00:07:56.519\nYou have to go in and create them.\n\n155\n00:07:56.519 --> 00:08:00.411\nAnd the records you create within your\nglobal name zones are gonna be CNAME\n\n156\n00:08:00.411 --> 00:08:01.130\nrecords.\n\n157\n00:08:01.130 --> 00:08:03.216\nNow, we haven't talked about all\nthe different types of records yet,\n\n158\n00:08:03.216 --> 00:08:04.279\nthat's coming up in this episode.\n\n159\n00:08:04.279 --> 00:08:07.090\nBut a CNAME record is basically an alias.\n\n160\n00:08:07.090 --> 00:08:11.651\nAnd so, what that means is, and\nlet's talk about, actually,\n\n161\n00:08:11.651 --> 00:08:13.625\nwhy we would do this first.\n\n162\n00:08:13.625 --> 00:08:18.060\nIf I've got a file server, and\nin order to connect to that file server,\n\n163\n00:08:18.060 --> 00:08:24.952\npeople had to type in, http:, or ftp:,\nor whatever they're trying to do,\n\n164\n00:08:24.952 --> 00:08:32.010\nfile01.east.lab.itpro.tv to\nconnect to this site, right?\n\n165\n00:08:32.010 --> 00:08:33.752\nWhat I can do is, I can say,\nI'm gonna make it easy on my users.\n\n166\n00:08:33.752 --> 00:08:39.614\nI'm gonna make a single label\nname called files or data 01.\n\n167\n00:08:39.614 --> 00:08:43.689\nAnd then what I'm gonna do is\nI'm going to make a C name, or\n\n168\n00:08:43.689 --> 00:08:49.612\nan alias record that says the data1\nis actually file01.eas.lab.itpro.tv.\n\n169\n00:08:49.612 --> 00:08:54.201\nAnd now my users can use that single short\nlittle name that's easy to remember,\n\n170\n00:08:54.201 --> 00:08:58.480\ninstead of that big old long fully\nqualified domain name, right?\n\n171\n00:08:58.480 --> 00:09:02.130\nThat was an advantage of netBios, it was\nnames were short and easy to remember.\n\n172\n00:09:02.130 --> 00:09:03.550\nSo, that's what global names lets us do.\n\n173\n00:09:03.550 --> 00:09:05.470\nWe create these single label names for\n\n174\n00:09:05.470 --> 00:09:07.990\nresources that we want our\nusers to connect to, or\n\n175\n00:09:07.990 --> 00:09:12.390\napps to connect to without having to\nuse that fully qualified domain name.\n\n176\n00:09:12.390 --> 00:09:17.320\n&gt;&gt; Now Mike, I know that things like the\nDNS client is built into your operating\n\n177\n00:09:17.320 --> 00:09:19.990\nsystem, and let me kind of reiterate\nsomething that Mike's already said, so\n\n178\n00:09:19.990 --> 00:09:23.090\nI ask my question right,\nmake sure it makes sense.\n\n179\n00:09:23.090 --> 00:09:25.620\nThe DNS client, I'm not talking\nabout a client operating system,\n\n180\n00:09:25.620 --> 00:09:29.870\nI'm talking about an operating system\nthat's relying on the services of DNS.\n\n181\n00:09:29.870 --> 00:09:30.640\nAnd my point is, and\n\n182\n00:09:30.640 --> 00:09:34.100\nthis question is, do I have to\nconfigure the client any different, or\n\n183\n00:09:34.100 --> 00:09:37.490\nis it just piggybacking off of what\nit's already got in it, the DNS system?\n\n184\n00:09:37.490 --> 00:09:41.320\n&gt;&gt; That's it, all it's gonna do is\nquery DNS, just like it does normally.\n\n185\n00:09:41.320 --> 00:09:45.300\nAnd then, what DNS is gonna do\nis it's gonna look, it actually,\n\n186\n00:09:45.300 --> 00:09:49.070\nit does use the Google name first,\nit's gonna look in the normal zone file.\n\n187\n00:09:49.070 --> 00:09:53.970\nIf it doesn't find using its normal, take\nthat single label name that you typed in,\n\n188\n00:09:53.970 --> 00:09:55.840\ntake your own DNS suffix, or\n\n189\n00:09:55.840 --> 00:09:59.300\nany DNS suffix search list you've added\nto that machine, and try all those.\n\n190\n00:09:59.300 --> 00:10:01.130\nSo, it's really gonna try\nit the normal way first.\n\n191\n00:10:01.130 --> 00:10:03.310\nAnd if none of that works,\nthen it's gonna say, well,\n\n192\n00:10:03.310 --> 00:10:05.670\nmaybe this is a single label name.\n\n193\n00:10:05.670 --> 00:10:07.670\nAnd I've got a global name zone.\n\n194\n00:10:07.670 --> 00:10:09.270\nI'll go check there, right?\n\n195\n00:10:09.270 --> 00:10:12.450\nAnd if it finds it there,\nit's gonna point it back to the correct\n\n196\n00:10:12.450 --> 00:10:16.070\na record in the normal zone, and\nit'll be able to return that IP address.\n\n197\n00:10:16.070 --> 00:10:18.220\nSo, to get back to your question then,\n\n198\n00:10:18.220 --> 00:10:20.390\nnothing different on\nthe DNS Client end of things.\n\n199\n00:10:20.390 --> 00:10:24.740\nThey just send the query to DNS as normal,\nand\n\n200\n00:10:24.740 --> 00:10:28.160\nthen DNS figures out what to do with it,\nonce we've enabled it.\n\n201\n00:10:28.160 --> 00:10:31.610\nThe other thing I do want to mention,\nglobal names are forest wide, all right?\n\n202\n00:10:31.610 --> 00:10:36.430\nSo, in a single domain environment,\na single domain forest, no big deal.\n\n203\n00:10:36.430 --> 00:10:39.140\nAll your names have to be unique.\n\n204\n00:10:39.140 --> 00:10:41.130\nWhen we start getting into\nmore complex forests,\n\n205\n00:10:41.130 --> 00:10:45.320\nif I have multiple domains, one of\nthe things we will have to keep in mind,\n\n206\n00:10:45.320 --> 00:10:48.560\nthose names still have to\nbe unique forest-wide.\n\n207\n00:10:48.560 --> 00:10:52.040\nSo, in other words, in my domain,\nif I decide to take my file server and\n\n208\n00:10:52.040 --> 00:10:58.260\ngive it a single label name of corp docs,\nanother domain cannot do the same thing.\n\n209\n00:10:58.260 --> 00:11:02.320\nThat name's already taken, they can\ncall it corp docs 01, or corporate\n\n210\n00:11:02.320 --> 00:11:06.350\ndocumentation, but they can't use that\nsingle label name that I've already used.\n\n211\n00:11:06.350 --> 00:11:09.580\nIt has to be unique throughout\nthe entire forest, all right?\n\n212\n00:11:10.910 --> 00:11:12.070\nAll right, so let's try it out.\n\n213\n00:11:12.070 --> 00:11:15.300\nLet's take a look at how we\ncan set up a global name zone.\n\n214\n00:11:15.300 --> 00:11:18.780\nSo, let's look at my screen here,\nI'm back over to my domain controller.\n\n215\n00:11:18.780 --> 00:11:20.150\nI did reset it, so,\n\n216\n00:11:20.150 --> 00:11:23.290\nsome of the zones that we created in\nprevious episodes are gonna be gone.\n\n217\n00:11:23.290 --> 00:11:27.390\nI wanted to clear the slate here, so\neverything's looking good and clean.\n\n218\n00:11:27.390 --> 00:11:28.783\nI'm gonna open up my DNS console.\n\n219\n00:11:30.850 --> 00:11:32.840\nIf my menu will stay open, there we go.\n\n220\n00:11:32.840 --> 00:11:37.800\nAnd in my DNS console,\nI'm simply going to expand out my\n\n221\n00:11:37.800 --> 00:11:40.820\ndomain controller here,\nmy DNS server, I should say.\n\n222\n00:11:40.820 --> 00:11:44.850\nExpand out Forward Lookup Zones, I'm gonna\nright click on Forward Lookup Zones and\n\n223\n00:11:44.850 --> 00:11:46.100\nchoose new zone.\n\n224\n00:11:47.370 --> 00:11:51.250\nI'll click Next on the Wizard,\nand I'm gonna choose primary and\n\n225\n00:11:51.250 --> 00:11:52.420\nstore it in active directory.\n\n226\n00:11:52.420 --> 00:11:55.950\nSo you can see no different\nthan creating a normal zone.\n\n227\n00:11:55.950 --> 00:11:56.568\nClick Next.\n\n228\n00:11:56.568 --> 00:12:01.890\nI am gonna replicate this to all\ndomain controllers in the forest,\n\n229\n00:12:01.890 --> 00:12:03.860\nbecause it is a forest wide resource.\n\n230\n00:12:03.860 --> 00:12:07.340\nAnd I want to make sure that domain\ncontrollers from those other domains\n\n231\n00:12:07.340 --> 00:12:08.880\nhave a copy of this zone, as well.\n\n232\n00:12:10.180 --> 00:12:11.282\nWe'll click Next.\n\n233\n00:12:11.282 --> 00:12:16.180\n[COUGH] And\neven if I was in a single domain forest,\n\n234\n00:12:16.180 --> 00:12:19.410\nI would still replicate it to all\ndomain controllers in the forest,\n\n235\n00:12:19.410 --> 00:12:21.460\nbecause that puts it in\nthe forest DNS zone.\n\n236\n00:12:21.460 --> 00:12:23.300\nAnd in the future, if we grow,\n\n237\n00:12:23.300 --> 00:12:27.990\nwe add other domains, they'll\nautomatically get a copy of this sum.\n\n238\n00:12:27.990 --> 00:12:29.108\nWe'll click Next.\n\n239\n00:12:29.108 --> 00:12:34.379\nAnd then for the zone name,\nthis is where it has to be global names.\n\n240\n00:12:34.379 --> 00:12:35.510\nAll right, we'll zoom in there.\n\n241\n00:12:35.510 --> 00:12:38.210\nGlobalNames, all one word.\n\n242\n00:12:38.210 --> 00:12:42.600\nWe'll click Next, and it really\ndoesn't matter what you choose here,\n\n243\n00:12:42.600 --> 00:12:44.440\nyou can choose\nAllow Secure Dynamic Update.\n\n244\n00:12:44.440 --> 00:12:45.650\nIt's not gonna work.\n\n245\n00:12:45.650 --> 00:12:49.860\nI cannot do dynamic updates on your\nglobal name zones, I'll click Next.\n\n246\n00:12:51.270 --> 00:12:53.350\nAnd actually,\nI'm gonna change that to do not allow.\n\n247\n00:12:53.350 --> 00:12:55.650\nAnd we'll click next, just to be thorough.\n\n248\n00:12:55.650 --> 00:12:56.370\nThen I'll click finish.\n\n249\n00:12:57.440 --> 00:12:58.370\nAnd there we go.\n\n250\n00:12:58.370 --> 00:13:03.180\nI now have my new global names zone,\nall right?\n\n251\n00:13:03.180 --> 00:13:06.949\nThe next thing I'm gonna need\nto do is enable global names,\n\n252\n00:13:07.960 --> 00:13:09.550\nbecause DNS isn't gonna use it.\n\n253\n00:13:09.550 --> 00:13:13.720\nEven though it's there, it's not gonna\nuse it until we turn this feature on.\n\n254\n00:13:13.720 --> 00:13:18.370\nSo, let me find a PowerShell\nwindow that we can use.\n\n255\n00:13:19.800 --> 00:13:24.300\nI'll run that as an admin, make sure\nI've got the appropriate credentials.\n\n256\n00:13:24.300 --> 00:13:27.620\nYou need to be at least\nin the DNS admin's group\n\n257\n00:13:27.620 --> 00:13:30.410\nto do this if you have administrator's\nright over the DNS server.\n\n258\n00:13:30.410 --> 00:13:33.630\nYou don't have to be a domain or\nenterprise admin for this one.\n\n259\n00:13:33.630 --> 00:13:37.042\nAnd the command is going to be dnscmd,\nso it's not a PowerShell command.\n\n260\n00:13:37.042 --> 00:13:42.523\nYou could do this from\na command prompt as well,\n\n261\n00:13:42.523 --> 00:13:46.643\ndnscmd, name of my server dc01.\n\n262\n00:13:46.643 --> 00:13:52.619\nAnd then forward slash config, space,\n\n263\n00:13:52.619 --> 00:13:59.315\nforward slash enable global names support.\n\n264\n00:13:59.315 --> 00:14:03.050\nI gotta spell it right, because there's\nno tab auto-fill for CMD commands in\n\n265\n00:14:03.050 --> 00:14:07.330\nthe PowerShell, so I'm gonna make\nsure enable global names support.\n\n266\n00:14:07.330 --> 00:14:09.620\nIt is names plural, so\nthere's two SSs there.\n\n267\n00:14:09.620 --> 00:14:13.510\nNames support, and\na space and the number one.\n\n268\n00:14:13.510 --> 00:14:14.235\nTrue, right?\n\n269\n00:14:14.235 --> 00:14:15.040\nThat one is true, so\n\n270\n00:14:15.040 --> 00:14:19.210\nturning it on, which means you can also\nturn this off by putting a zero there.\n\n271\n00:14:19.210 --> 00:14:23.380\nI'll hit Enter, and it tells me that\nthe registry property enable global name\n\n272\n00:14:23.380 --> 00:14:26.970\nsupports successfully reset\nthe command completed successfully.\n\n273\n00:14:26.970 --> 00:14:28.470\nAnd we are good to go.\n\n274\n00:14:28.470 --> 00:14:31.350\nWe are set up with our global name zone.\n\n275\n00:14:31.350 --> 00:14:32.830\nI'll just minimize that for now, in fact,\n\n276\n00:14:32.830 --> 00:14:37.632\nI'm gonna pin it, because we might need\nthat for some future demonstrations.\n\n277\n00:14:37.632 --> 00:14:41.740\n[COUGH] All right, so now,\nI want to create some records.\n\n278\n00:14:41.740 --> 00:14:42.980\nWe talked about the replication,\n\n279\n00:14:42.980 --> 00:14:45.830\nI've already set that to\nreplicate to the entire force.\n\n280\n00:14:45.830 --> 00:14:48.270\nIf you didn't, and\nyou needed to change that,\n\n281\n00:14:48.270 --> 00:14:51.470\nyou could always go back into\nthe properties of the zone, and\n\n282\n00:14:51.470 --> 00:14:56.150\nthen go to the replication and\nchange, and change your option there,\n\n283\n00:14:56.150 --> 00:15:00.930\nsame wizard or same dialog box that you\nsaw during the creation of this zone.\n\n284\n00:15:00.930 --> 00:15:04.770\nAll right, so\nlet's create a global name record.\n\n285\n00:15:04.770 --> 00:15:09.409\nSo, I'm gonna go back over to my normal\nzone, and let's say I wanted, I don't\n\n286\n00:15:09.409 --> 00:15:14.219\nknow, DCO1, we'll use that one as an\nexample, I think, or let's do a new one.\n\n287\n00:15:14.219 --> 00:15:19.477\nLet's just create a new A record for\nglobal.\n\n288\n00:15:19.477 --> 00:15:24.683\nLet's just call this test server, and\n\n289\n00:15:24.683 --> 00:15:32.583\nI'll give it an IP\naddress of 10.0.100.168.\n\n290\n00:15:32.583 --> 00:15:34.045\nJust random number.\n\n291\n00:15:34.045 --> 00:15:36.240\nNow I gotta remember that, though.\n\n292\n00:15:36.240 --> 00:15:39.108\nAnd we'll click Add Host.\n\n293\n00:15:39.108 --> 00:15:40.683\nAll right, and we're gonna come back and\n\n294\n00:15:40.683 --> 00:15:42.348\ntalk about these A records\nin just a minute.\n\n295\n00:15:42.348 --> 00:15:45.368\nSo I've got a record, a normal DNS record,\n\n296\n00:15:45.368 --> 00:15:48.976\nthat says this name maps\nto this IP address, right?\n\n297\n00:15:48.976 --> 00:15:51.332\nBut that is test server,\nyou guys saw that, right?\n\n298\n00:15:51.332 --> 00:15:55.408\nThat is testserver.lab.itpro.tv.\n\n299\n00:15:55.408 --> 00:15:58.519\nSo now, what I wanna do is\ngo to my global name zone.\n\n300\n00:15:58.519 --> 00:16:03.250\nRight-click, and new alias,\nor C name record.\n\n301\n00:16:04.960 --> 00:16:09.582\nAnd the alias is gonna be, let's call\nit Data, well, let's do CorpDocs.\n\n302\n00:16:12.833 --> 00:16:15.971\nAll right, and\nthen notice what it's asking me for,\n\n303\n00:16:15.971 --> 00:16:19.124\nthe Fully qualified domain name for\nthe target host.\n\n304\n00:16:19.124 --> 00:16:22.460\nAnd that would be\n\n305\n00:16:22.460 --> 00:16:29.374\ntestServer.lab.itpro.tv and\n\n306\n00:16:29.374 --> 00:16:32.715\nI'll click OK.\n\n307\n00:16:32.715 --> 00:16:35.076\nWhat I want you to notice\nabout this window, though,\n\n308\n00:16:35.076 --> 00:16:37.180\ndo you see the IP address\nI'm putting in there?\n\n309\n00:16:39.060 --> 00:16:40.580\nWe don't, do we, right?\n\n310\n00:16:40.580 --> 00:16:42.800\nI'm not telling you what\nthe IP address of this is.\n\n311\n00:16:42.800 --> 00:16:46.555\nThat means there must be some way to\nturn this back into an IP address.\n\n312\n00:16:46.555 --> 00:16:53.365\nSo DNS is gonna say, CorpDocs is\nactually testserver.lab.itprotv,\n\n313\n00:16:53.365 --> 00:16:59.981\nand hold on,\ntestserver.lab.itpro.tv is 10.0.100.68.\n\n314\n00:16:59.981 --> 00:17:01.510\nSo you see how that works?\n\n315\n00:17:01.510 --> 00:17:04.900\nIt looks up the global names and\nsays, I found it and\n\n316\n00:17:04.900 --> 00:17:06.810\nnow I know what its real name is.\n\n317\n00:17:06.810 --> 00:17:09.891\nAnd I can go and look up its real name and\nget you the IP address.\n\n318\n00:17:09.891 --> 00:17:12.218\nSo my end users can use this nice,\n\n319\n00:17:12.218 --> 00:17:16.135\nsimple name to get connected\nto this much complex name.\n\n320\n00:17:16.135 --> 00:17:18.976\nThey don't have to remember\ntestserver.lab, blah, blah, blah.\n\n321\n00:17:18.976 --> 00:17:21.614\n&gt;&gt; So it's no different than like www,\nright?\n\n322\n00:17:21.614 --> 00:17:25.252\nWe were pointing www to an actual website,\nI gotta be careful.\n\n323\n00:17:25.252 --> 00:17:27.458\nI don't wanna say pointer cuz I know\nwe're gonna talk about records and\n\n324\n00:17:27.458 --> 00:17:28.839\nthere is something called pointer record.\n\n325\n00:17:28.839 --> 00:17:32.560\nBut it's a reference, essentially,\nas in, you're really not,\n\n326\n00:17:32.560 --> 00:17:37.020\neven though you're typing the name, you're\nactually pointing back to our A record.\n\n327\n00:17:37.020 --> 00:17:39.120\n&gt;&gt; Exactly right, I mean,\nit is a c_name record.\n\n328\n00:17:39.120 --> 00:17:41.298\nYou saw me right-click New c_name.\n\n329\n00:17:41.298 --> 00:17:46.256\nSo it's no different than an alias\nthat I would create in my normal zone,\n\n330\n00:17:46.256 --> 00:17:48.386\nit's really not, all right?\n\n331\n00:17:48.386 --> 00:17:51.570\nAnd that is Global name zones.\n\n332\n00:17:52.600 --> 00:17:53.590\nLike I said,\n\n333\n00:17:53.590 --> 00:17:58.330\nit's something that if you need single\nlabel support, this is the way to do it.\n\n334\n00:17:58.330 --> 00:18:02.720\nIf your enterprise still has\ndependencies on NetBIOS and\n\n335\n00:18:02.720 --> 00:18:06.280\nWINS, this is a chance to start\nmigrating away from that.\n\n336\n00:18:06.280 --> 00:18:10.510\nSee if you can reconfigure your\napplications to use DNS and\n\n337\n00:18:10.510 --> 00:18:12.040\nset up a global name zone.\n\n338\n00:18:12.040 --> 00:18:16.150\nNow you can still do single label\nname resolution, but you can,\n\n339\n00:18:16.150 --> 00:18:17.680\nwhat's the word I'm looking for?\n\n340\n00:18:17.680 --> 00:18:23.350\nDepreciate or shut down and get rid of,\nremove, your WINS servers altogether and\n\n341\n00:18:23.350 --> 00:18:26.660\neliminate some of that nasty NetBIOS\ntraffic that exists on your network.\n\n342\n00:18:26.660 --> 00:18:27.630\nOf course, if you have WINS,\n\n343\n00:18:27.630 --> 00:18:30.210\nhopefully you've got your WINS\nproperties set correctly and\n\n344\n00:18:30.210 --> 00:18:35.030\nyou're doing WINS lookup before broadcast\nanyway, so you can eliminate a lot of it.\n\n345\n00:18:35.030 --> 00:18:38.580\nAll right, so that is global name\nzones and how we set that up, and\n\n346\n00:18:38.580 --> 00:18:40.380\nwhat they're gonna be used for.\n\n347\n00:18:40.380 --> 00:18:44.111\nNext thing we wanna talk about is\nsomething called zone level statistics.\n\n348\n00:18:44.111 --> 00:18:48.733\nMicrosoft has given us some PowerShell\ncommands that we can use to look at\n\n349\n00:18:48.733 --> 00:18:51.096\nstatistics on our different zones.\n\n350\n00:18:51.096 --> 00:18:55.700\nWhen I say statistics, I need to monitor\nthe performance on my DNS server.\n\n351\n00:18:55.700 --> 00:18:57.200\nI need to see what's going on.\n\n352\n00:18:57.200 --> 00:19:00.090\nI need to be able to look at how\nmany queries we're getting, how many\n\n353\n00:19:00.090 --> 00:19:04.610\nqueries were returned successfully or\nunsuccessfully, things like that.\n\n354\n00:19:04.610 --> 00:19:07.770\nAnd the statistics allow me to do that.\n\n355\n00:19:07.770 --> 00:19:12.480\nWe do have statistics at the server level,\nso we can look at the entire server.\n\n356\n00:19:12.480 --> 00:19:16.810\nBut if my server has multiple zones, I\nmight wanna be able to break those numbers\n\n357\n00:19:16.810 --> 00:19:21.240\nup and say, wow, we're getting a lot of\nqueries per second here on this server.\n\n358\n00:19:21.240 --> 00:19:24.130\nBut which zone is it that's busy,\nall right?\n\n359\n00:19:24.130 --> 00:19:25.920\nSo I can go and\nlook at each one of those zones and\n\n360\n00:19:25.920 --> 00:19:28.750\nsay, it's this zone that's\ngetting all the requests.\n\n361\n00:19:28.750 --> 00:19:31.150\nMaybe I wanna move that to another server,\nor\n\n362\n00:19:31.150 --> 00:19:35.390\ndo something to help the performance\nof that particular zone, all right?\n\n363\n00:19:35.390 --> 00:19:39.850\nSo let me show you how we can\nget access to those statistics.\n\n364\n00:19:39.850 --> 00:19:43.960\nWe're gonna go back over to PowerShell,\nand I'll clear my screen and\n\n365\n00:19:43.960 --> 00:19:45.160\ngive us a little bit of space here.\n\n366\n00:19:46.340 --> 00:19:52.820\nAnd there's just a couple of commands,\nget -dns Serverstatistics.\n\n367\n00:19:55.650 --> 00:19:57.389\nNow we'll give it a second,\nif I spelled that right.\n\n368\n00:20:00.935 --> 00:20:01.573\nThere we go.\n\n369\n00:20:01.573 --> 00:20:03.720\nShould tab autofill.\n\n370\n00:20:03.720 --> 00:20:06.483\nThere we go.\nAnd if I just hit Enter right now,\n\n371\n00:20:06.483 --> 00:20:10.970\nit's gonna return some data,\neventually, I promise.\n\n372\n00:20:12.160 --> 00:20:14.580\nBut theses are for\nthe entire server, all right?\n\n373\n00:20:14.580 --> 00:20:17.772\nSo when we look at packet statistics,\n\n374\n00:20:17.772 --> 00:20:23.358\nwhen we look at record statistics and\nthings like that, this is for\n\n375\n00:20:23.358 --> 00:20:28.269\nthe entire server,\nno matter what zone it is using it for.\n\n376\n00:20:28.269 --> 00:20:31.249\nIt's a total of all the zones together,\nall right?\n\n377\n00:20:31.249 --> 00:20:35.685\nIf I want individual zones,\nI simply put the zone name, and\n\n378\n00:20:35.685 --> 00:20:41.299\nwe take that same commandlet and\nadd a parameter, zone names, all right?\n\n379\n00:20:41.299 --> 00:20:47.496\nAnd I'll do lab.itpro.tv, and\nI get the same statistics.\n\n380\n00:20:47.496 --> 00:20:52.503\nWith the same information, but\ndone at a zone level, all right?\n\n381\n00:20:52.503 --> 00:20:54.983\nActually, and\nthen there are some different statistics,\n\n382\n00:20:54.983 --> 00:20:56.560\nit looks like, as well.\n\n383\n00:20:56.560 --> 00:20:59.802\nEach one of these statistics,\nit breaks it out by record type.\n\n384\n00:20:59.802 --> 00:21:01.477\nSo this is A records and\n\n385\n00:21:01.477 --> 00:21:06.601\nI can see 34 queries responded to\nquery's name error, all right?\n\n386\n00:21:06.601 --> 00:21:10.227\n28 where we queried for\na name that doesn't exist for example.\n\n387\n00:21:10.227 --> 00:21:11.977\nQueries received, 34.\n\n388\n00:21:11.977 --> 00:21:16.500\nAlways good if I received 34 queries and\nresponded to 34 queries.\n\n389\n00:21:16.500 --> 00:21:19.200\nObviously this is a teeny-tiny number.\n\n390\n00:21:19.200 --> 00:21:22.410\nYour DNS servers in production are gonna\nbe in the hundreds of thousands,\n\n391\n00:21:22.410 --> 00:21:25.860\nmost likely, when you start\nlooking at these statistics.\n\n392\n00:21:25.860 --> 00:21:28.710\nHow many A records were queried for,\nor received,\n\n393\n00:21:28.710 --> 00:21:31.130\nreturns, pointer records, cname records.\n\n394\n00:21:31.130 --> 00:21:35.520\nSo each one gets broken up\ninto its own little statistic.\n\n395\n00:21:35.520 --> 00:21:38.830\nAll these things we're looking at\nhere are zone query statistics,\n\n396\n00:21:38.830 --> 00:21:41.670\nall about the queries that\nare being sent to that DNS server.\n\n397\n00:21:41.670 --> 00:21:47.770\nWe also have, if I could scroll down\nfar enough, zone transfer statistics,\n\n398\n00:21:47.770 --> 00:21:51.490\nwhen one DNS server sends a copy\nof its zone to another DNS server.\n\n399\n00:21:51.490 --> 00:21:55.740\nAnd you can see success sent,\nresponses received, etcetera.\n\n400\n00:21:55.740 --> 00:21:59.160\nThere's also zone update statistics,\nall right?\n\n401\n00:21:59.160 --> 00:22:02.930\nSo, when the zone was updated or\nnot and there's these zone,\n\n402\n00:22:04.090 --> 00:22:09.078\nthis has to do with something\ncalled resource record.\n\n403\n00:22:09.078 --> 00:22:11.890\nI gotta remember that term.\n\n404\n00:22:15.360 --> 00:22:18.780\nResponse rate limit is what that is.\n\n405\n00:22:18.780 --> 00:22:21.360\nSo we can start limiting responses.\n\n406\n00:22:21.360 --> 00:22:25.620\nThere are certain types of DUS attacks\nthat could be done against a DNS server.\n\n407\n00:22:25.620 --> 00:22:30.797\nIf I sit here and I just hammer it with\nqueries from several different machines or\n\n408\n00:22:30.797 --> 00:22:35.509\nthe Botnet, or something like that,\nI can try to just make a DNS server so\n\n409\n00:22:35.509 --> 00:22:37.386\nbusy that it can't keep up.\n\n410\n00:22:37.386 --> 00:22:40.622\nAnd what resource,\nI'm sorry, what the heck.\n\n411\n00:22:40.622 --> 00:22:43.872\n[LAUGH] If I can remember that again,\nresponse rate limits,\n\n412\n00:22:43.872 --> 00:22:47.642\nwhat that allows to do is say, look,\nwhen you get so many requests for\n\n413\n00:22:47.642 --> 00:22:52.485\nthe same name from the same client subnet,\nhow about you just stop responding.\n\n414\n00:22:52.485 --> 00:22:55.990\nCuz it's most most likely\nnot a legitimate request.\n\n415\n00:22:55.990 --> 00:22:57.770\nWe can throttle that a little bit.\n\n416\n00:22:57.770 --> 00:23:00.450\nA bunch of stuff you can actually\ndo with the response rate limits,\n\n417\n00:23:00.450 --> 00:23:02.390\nwhich we'll talk about in another episode.\n\n418\n00:23:03.790 --> 00:23:06.890\nAll right, so now we can look\nat the entire report like that,\n\n419\n00:23:06.890 --> 00:23:09.760\nwhich showed me all of the categories for\nthat zone.\n\n420\n00:23:09.760 --> 00:23:12.940\nYou can also look at\nthe individual categories.\n\n421\n00:23:12.940 --> 00:23:18.770\nI don't really see a lot of usefulness for\nthis because it's all right here.\n\n422\n00:23:18.770 --> 00:23:22.850\nBut maybe you wanna get a report\nthat just has query statistics.\n\n423\n00:23:22.850 --> 00:23:25.490\nThat's what your boss asked you for,\nyou need a hard copy.\n\n424\n00:23:25.490 --> 00:23:27.270\nI don't need all the extra information.\n\n425\n00:23:27.270 --> 00:23:29.987\nSo let me just get\nthe zone query statistics.\n\n426\n00:23:29.987 --> 00:23:33.718\nHow you would do that\nis create a variable,\n\n427\n00:23:33.718 --> 00:23:39.636\nwe'll just call it $report = and\nthen you know what I'm gonna do?\n\n428\n00:23:39.636 --> 00:23:42.507\nI'm gonna cheat,\ncuz I've already got the command here.\n\n429\n00:23:42.507 --> 00:23:46.812\nGetDNSserverstatistic, that's\nthe one that gets everything, right?\n\n430\n00:23:46.812 --> 00:23:51.417\nI'm just gonna add to the front of it\ndollar sign, I'll call it stats this time,\n\n431\n00:23:51.417 --> 00:23:55.171\n\"$stats =\" and then the command\nthat returned all that data.\n\n432\n00:23:55.171 --> 00:23:58.744\nSo now, what's gonna happen is\nPowerShell's gonna run this command just\n\n433\n00:23:58.744 --> 00:24:01.975\nlike it did before, But\ninstead of spitting all this information,\n\n434\n00:24:01.975 --> 00:24:04.770\nit's gonna store it in this variable,\nall right?\n\n435\n00:24:04.770 --> 00:24:07.335\nSo if I hit Enter,\nit runs the command, but\n\n436\n00:24:07.335 --> 00:24:09.773\nthis time I don't get any results back.\n\n437\n00:24:09.773 --> 00:24:14.067\nIf I want to see the results,\nall I have to do is call that variable,\n\n438\n00:24:14.067 --> 00:24:17.160\nand I get exactly what we got before.\n\n439\n00:24:17.160 --> 00:24:20.408\nBut what I can do now that I've got it\nstored in the variable is I could do\n\n440\n00:24:20.408 --> 00:24:27.380\nstats.zone query statistics.\n\n441\n00:24:27.380 --> 00:24:29.220\nAnd I'm gonna get just\nthe zone query stuff.\n\n442\n00:24:29.220 --> 00:24:36.083\nNotice the other information,\nzone transfers and responses, is all gone.\n\n443\n00:24:36.083 --> 00:24:40.382\nI just wanna see,\nwhoops scrolled a little too far,\n\n444\n00:24:40.382 --> 00:24:44.360\nlet's do zone transfer statistics.\n\n445\n00:24:44.360 --> 00:24:48.720\nAnd all I see are the zone transfers and\nnot the query results.\n\n446\n00:24:48.720 --> 00:24:53.070\nSo you can use that same command,\npump it into a variable and\n\n447\n00:24:53.070 --> 00:24:56.810\nthen just call certain parts of\nthe report when you need it.\n\n448\n00:24:56.810 --> 00:24:59.926\nAll right, the other command you\nshould probably be familiar with is\n\n449\n00:24:59.926 --> 00:25:01.441\nclear-DnsServerStatistics.\n\n450\n00:25:01.441 --> 00:25:07.371\nIt's the exact same command as\nthe Get-dnsServerStatistics,\n\n451\n00:25:07.371 --> 00:25:10.711\nexcept we would change the word get,\n\n452\n00:25:10.711 --> 00:25:15.690\nwe change the verb on our\ncommandlet from get to clear.\n\n453\n00:25:15.690 --> 00:25:17.920\nAll right, and it says,\nare you sure you want to do that?\n\n454\n00:25:17.920 --> 00:25:21.898\nScary and I'll hit y for\nyes, and it's gone.\n\n455\n00:25:21.898 --> 00:25:26.580\nAnd if I do another one real quick\nbefore anybody uses my DNS server.\n\n456\n00:25:26.580 --> 00:25:29.770\nYou'll see everything is zeroed out,\nall right?\n\n457\n00:25:29.770 --> 00:25:31.717\nSo maybe you had a problem.\n\n458\n00:25:31.717 --> 00:25:35.231\nAnd some of those numbers were just way\nout of range, you could see my gosh,\n\n459\n00:25:35.231 --> 00:25:36.790\nsomething's wrong here.\n\n460\n00:25:36.790 --> 00:25:38.040\nI went and fixed the problem or\n\n461\n00:25:38.040 --> 00:25:41.370\nI think I fixed the problem,\nhow do I know if it worked?\n\n462\n00:25:41.370 --> 00:25:44.310\nI need to clear those statistics and\nstart measuring again, and\n\n463\n00:25:44.310 --> 00:25:46.800\nsee if they jump up like they did before.\n\n464\n00:25:46.800 --> 00:25:50.160\nSo sometimes you need to be\nable to clear those statistics.\n\n465\n00:25:50.160 --> 00:25:53.190\n&gt;&gt; Now Mike, you've been talking\nthroughout DNS we've been mentioning\n\n466\n00:25:53.190 --> 00:25:54.840\nsomething known as records now.\n\n467\n00:25:54.840 --> 00:25:56.290\nAnd I know you've probably been waiting,\nbut\n\n468\n00:25:56.290 --> 00:25:58.890\nI'm gonna force him to tell us\nwhat these records are about.\n\n469\n00:25:58.890 --> 00:25:59.940\nMike can you do just that?\n\n470\n00:25:59.940 --> 00:26:01.850\nCan you tell us a little bit\nabout these DNS records?\n\n471\n00:26:01.850 --> 00:26:03.721\n&gt;&gt; Absolutely not.\n\n472\n00:26:03.721 --> 00:26:05.310\nI was kidding.\n\n473\n00:26:05.310 --> 00:26:06.600\nYes, of course I can, all right.\n\n474\n00:26:06.600 --> 00:26:07.850\nThat's what I'm here for.\n\n475\n00:26:07.850 --> 00:26:09.090\nWe have we've talked about as Wes said.\n\n476\n00:26:09.090 --> 00:26:12.155\nWe keep saying records, a records.\n\n477\n00:26:12.155 --> 00:26:13.840\nYou heard me saying CNAME record.\n\n478\n00:26:13.840 --> 00:26:15.950\nWhat the heck am I talking about?\n\n479\n00:26:15.950 --> 00:26:23.760\nWell, inside our zone are what we call\nResource Records or RRs for short.\n\n480\n00:26:23.760 --> 00:26:26.619\nThe Resource Record is\nthe actual entry in the zone.\n\n481\n00:26:28.560 --> 00:26:29.533\nLike this one right here.\n\n482\n00:26:29.533 --> 00:26:32.095\nResource record, let's look at this one.\n\n483\n00:26:32.095 --> 00:26:34.612\nThis is the resource record for client01.\n\n484\n00:26:34.612 --> 00:26:38.844\nSo when client01 first got installed,\ndynamic updates are turned on,\n\n485\n00:26:38.844 --> 00:26:42.326\nclient01 called up DNS once it\njoined the domain and said,\n\n486\n00:26:42.326 --> 00:26:45.200\nhey, mister DNS, my name is client01.\n\n487\n00:26:45.200 --> 00:26:49.470\nMy IP address is 10.0.100.11,\ncan you make a record for me?\n\n488\n00:26:49.470 --> 00:26:54.310\nSo that if anybody ever calls you up and\nsays what's the IP address of client01,\n\n489\n00:26:54.310 --> 00:26:56.100\nyou'll know what it is and\nyou can tell them.\n\n490\n00:26:56.100 --> 00:26:57.440\nThat's what these resource records are.\n\n491\n00:26:57.440 --> 00:27:01.240\nThey're entries in our DNS zone.\n\n492\n00:27:01.240 --> 00:27:06.410\nThat are many different types of resource\nrecords that you'll see in this zone.\n\n493\n00:27:06.410 --> 00:27:12.050\nA records are the primary resource\nrecord type because an a record\n\n494\n00:27:12.050 --> 00:27:17.670\nis the one that maps a fully qualified\ndomain name to an IP address.\n\n495\n00:27:17.670 --> 00:27:21.480\nMake sure you make a little asterisk\nnext your notes on that one.\n\n496\n00:27:21.480 --> 00:27:26.610\nNotice what I said it maps a fully\nqualified domain name to an IP address,\n\n497\n00:27:26.610 --> 00:27:28.900\nthis is NetBIOS, all right?\n\n498\n00:27:28.900 --> 00:27:32.650\nIt doesn't map a single able name,\nit's a fully qualified domain name.\n\n499\n00:27:32.650 --> 00:27:37.578\nAnd although the whole piece\nclient01.lab.ITpro.TV maps to\n\n500\n00:27:37.578 --> 00:27:41.890\n10.0.101, let me double click on it and\nI'll show you.\n\n501\n00:27:42.980 --> 00:27:47.440\nWell wait Mike you just said it's\na full name not just the host name.\n\n502\n00:27:47.440 --> 00:27:51.140\nWell when we type it in we\ntype in just the host name and\n\n503\n00:27:51.140 --> 00:27:54.290\nit automatically plugs\nour dns suffix into it\n\n504\n00:27:54.290 --> 00:27:57.910\nto create the FQDN all right just\nsaves us a little bit of typing.\n\n505\n00:27:57.910 --> 00:28:00.240\nSo that's it.\nAn a record just maps a name.\n\n506\n00:28:00.240 --> 00:28:02.776\nA fully qualified domain\nname to an IP address.\n\n507\n00:28:02.776 --> 00:28:06.150\nAnd again,\nthat is the primary resource record type.\n\n508\n00:28:06.150 --> 00:28:09.650\nAs far as IPv4 goes, we now have IPv6.\n\n509\n00:28:10.800 --> 00:28:13.090\nAnd DNS fully supports IPv6.\n\n510\n00:28:14.120 --> 00:28:17.740\nBut IPv6 A records are not A records.\n\n511\n00:28:17.740 --> 00:28:20.920\nThey are actually AAAA records.\n\n512\n00:28:20.920 --> 00:28:24.140\nOr as we like to call them,\nquad A records.\n\n513\n00:28:24.140 --> 00:28:26.170\nThere's four A's.\n\n514\n00:28:26.170 --> 00:28:30.280\nDrove me crazy, it reminds me\nof the old commercial A, A, A,\n\n515\n00:28:30.280 --> 00:28:34.406\nwhen the guy's calling\nthe transmission shop or something.\n\n516\n00:28:34.406 --> 00:28:37.206\nAnd I forget what\nthe commercial's even for but\n\n517\n00:28:37.206 --> 00:28:40.970\nhe's like Hello, A-A-A-A-A-A Automotive.\n\n518\n00:28:40.970 --> 00:28:43.050\nBecause companies always wanted\nto get at the first of the list.\n\n519\n00:28:43.050 --> 00:28:46.390\nSo as you're sorting the phone book\nyou got the as at the beginning.\n\n520\n00:28:46.390 --> 00:28:49.190\nIf your name started with A-a-a-a-a-a-a-a\nyou could get to the front and\n\n521\n00:28:49.190 --> 00:28:51.090\nhopefully be the first one people called.\n\n522\n00:28:51.090 --> 00:28:53.717\n&gt;&gt; I was just gonna enroll you in\nsome kinda speech therapy class for\n\n523\n00:28:53.717 --> 00:28:55.090\nstuttering or something, but.\n\n524\n00:28:55.090 --> 00:28:59.460\nSo the quad a, as we call them,\nwe're talking about IPv6,\n\n525\n00:28:59.460 --> 00:29:01.528\nare they four times better?\n\n526\n00:29:01.528 --> 00:29:04.620\n&gt;&gt; Well, I don't know about better,\nbut four times bigger, right?\n\n527\n00:29:04.620 --> 00:29:10.127\nThink about how many binary bits are in\nan IPv4 address, you've got 32, right?\n\n528\n00:29:10.127 --> 00:29:14.090\nHow many bits are in a IPv6 record?\n\n529\n00:29:14.090 --> 00:29:15.442\nOr IPv6 address.\n\n530\n00:29:15.442 --> 00:29:16.401\n&gt;&gt; It'd be 128.\n\n531\n00:29:16.401 --> 00:29:20.330\n&gt;&gt; Yeah, 128, or\nfour times the number of bytes.\n\n532\n00:29:20.330 --> 00:29:23.278\nSo the brilliant minds\nthat developed the RC and\n\n533\n00:29:23.278 --> 00:29:27.340\ndeveloped the DNS said hey,\nwe're gonna call it an AAAA record.\n\n534\n00:29:27.340 --> 00:29:31.228\nI think a B record would have been a lot\neasier or something, I don't know,\n\n535\n00:29:31.228 --> 00:29:34.810\nbecause it's really annoying\nto say the AAAA record.\n\n536\n00:29:34.810 --> 00:29:37.150\nBut anyway, that's just me being silly.\n\n537\n00:29:37.150 --> 00:29:41.770\nSo you will see quad A records in here,\nwhat are some other ones?\n\n538\n00:29:41.770 --> 00:29:43.210\nIn fact,\nlet's just take a look at the list.\n\n539\n00:29:43.210 --> 00:29:48.780\nIf I right click on my zone,\nlook at the options I have.\n\n540\n00:29:48.780 --> 00:29:51.530\nI can create a new host, A or quad A.\n\n541\n00:29:51.530 --> 00:29:54.450\nI can also make a CNAME record.\n\n542\n00:29:54.450 --> 00:29:57.500\nA CNAME, C stands for Canonical.\n\n543\n00:29:57.500 --> 00:30:02.660\nA Canonical Name or alias is a much\neasier way to think of it, all right?\n\n544\n00:30:02.660 --> 00:30:03.447\nAnd it's just that.\n\n545\n00:30:03.447 --> 00:30:05.340\nYou guys know what an alias is.\n\n546\n00:30:05.340 --> 00:30:08.945\nMy name's Mike Rodrick but\nmy alias is Mike D.\n\n547\n00:30:08.945 --> 00:30:10.080\nNo, not really.\n\n548\n00:30:10.080 --> 00:30:14.160\nBut it's like a nickname or\nan alternate name.\n\n549\n00:30:14.160 --> 00:30:18.180\nSo www is a great example\nthat Wes was using earlier.\n\n550\n00:30:18.180 --> 00:30:19.550\nI have a web server.\n\n551\n00:30:19.550 --> 00:30:23.668\nIts name is server42.lab.itpro.tv.\n\n552\n00:30:23.668 --> 00:30:27.476\nBut when you go to my website, you don't\nknow what the name of my server is, and\n\n553\n00:30:27.476 --> 00:30:29.860\nI have no way of getting that to you.\n\n554\n00:30:29.860 --> 00:30:31.942\nSo what do you type in?\n\n555\n00:30:31.942 --> 00:30:34.990\nWww.lab.it.pro.tv.\n\n556\n00:30:34.990 --> 00:30:37.180\nWell, I don't have a machine named www.\n\n557\n00:30:37.180 --> 00:30:39.500\nSo how are you connecting to my website?\n\n558\n00:30:39.500 --> 00:30:44.680\nBecause there's an alias in here that\nsays www is actually server 42, right?\n\n559\n00:30:45.890 --> 00:30:47.650\nSo we can give alternate names or\n\n560\n00:30:47.650 --> 00:30:53.620\naliases to our machines to allow the same\nIP address to respond to multiple names.\n\n561\n00:30:53.620 --> 00:30:55.810\nThat's really the idea behind cnames.\n\n562\n00:30:55.810 --> 00:30:58.900\nMultiple names can point\nback to the same IP address.\n\n563\n00:30:58.900 --> 00:31:01.180\nAll right, oops,\nsorry I wasn't done with that.\n\n564\n00:31:01.180 --> 00:31:02.680\nLet's pull that up again.\n\n565\n00:31:02.680 --> 00:31:04.300\nWe also have MX records.\n\n566\n00:31:04.300 --> 00:31:06.680\nThese are how we find our mail servers.\n\n567\n00:31:06.680 --> 00:31:10.130\nWhen mail gets delivered to our network,\n\n568\n00:31:10.130 --> 00:31:13.220\nhow does it know what server\nis the mailbox server?\n\n569\n00:31:13.220 --> 00:31:15.389\nIt checks with DNS and\nlooks for the MX record.\n\n570\n00:31:16.400 --> 00:31:17.780\nIt's the mail exchanger.\n\n571\n00:31:18.830 --> 00:31:21.560\nOther new records that we can create,\ncuz there are more.\n\n572\n00:31:22.720 --> 00:31:24.780\nThose are just the most common ones so\n\n573\n00:31:24.780 --> 00:31:29.670\nthey put them right there in your\ncontext menu, your right click menu.\n\n574\n00:31:29.670 --> 00:31:32.300\nThere are so many that we don't\nneed to be familiar with all these.\n\n575\n00:31:32.300 --> 00:31:33.824\nDo not worry.\n\n576\n00:31:33.824 --> 00:31:38.427\nIf I look at my objectives from the exam\nA records, we talked about that,\n\n577\n00:31:38.427 --> 00:31:41.001\nquad A records, we talked about those.\n\n578\n00:31:41.001 --> 00:31:43.660\nC name records, MX records.\n\n579\n00:31:43.660 --> 00:31:45.210\nWe also have NS records.\n\n580\n00:31:45.210 --> 00:31:47.180\nI'll show you this list,\nit is pretty long.\n\n581\n00:31:48.590 --> 00:31:51.467\nSo if the one you're trying to create\nis not on that right click menu,\n\n582\n00:31:51.467 --> 00:31:53.961\njust choose other records and\nit's probably in this list.\n\n583\n00:31:56.032 --> 00:31:57.739\nWhere was I going with that, NS records.\n\n584\n00:31:57.739 --> 00:32:04.879\nMX records, point to your mail server\nNS records point to your name servers.\n\n585\n00:32:04.879 --> 00:32:09.040\nSo when I'm trying to find a name\nserver for a particular domain,\n\n586\n00:32:09.040 --> 00:32:14.030\nI can ask DNS, hey give me your\nNS records and it can find those.\n\n587\n00:32:14.030 --> 00:32:17.220\nThere's one right there,\nright, so there's a NS record.\n\n588\n00:32:17.220 --> 00:32:20.950\nNotice when I double click on it though,\nit doesn't do like it did for\n\n589\n00:32:20.950 --> 00:32:22.080\nthe A record.\n\n590\n00:32:22.080 --> 00:32:26.520\nA record pulls up an actual object,\nor a resource record.\n\n591\n00:32:26.520 --> 00:32:29.770\nWhen I double click on the name server\nrecord, it actually takes me to\n\n592\n00:32:29.770 --> 00:32:35.360\nthe properties of lab.itpro.tv which means\nI could also get to that by right clicking\n\n593\n00:32:35.360 --> 00:32:41.160\non lab.itpro.tv and choosing properties\nand then go into my name servers tab.\n\n594\n00:32:41.160 --> 00:32:43.220\nTypically, we don't have to create these.\n\n595\n00:32:43.220 --> 00:32:47.650\nWhen a new DNS server gets added to\nour domain, it is gonna register and\n\n596\n00:32:47.650 --> 00:32:50.080\nit's gonna create an NS record for it.\n\n597\n00:32:50.080 --> 00:32:53.980\nYou can go in here, though,\nand add new NS records.\n\n598\n00:32:53.980 --> 00:32:56.260\nBut understand that this is\na record that's different.\n\n599\n00:32:56.260 --> 00:33:01.090\nTo create it, you don't right click and\nchoose new host or other new records.\n\n600\n00:33:01.090 --> 00:33:05.780\nYou pull up the properties,\ngo to name servers, and you click add.\n\n601\n00:33:05.780 --> 00:33:07.840\nThis is where you can\ncreate a new NS record, so\n\n602\n00:33:07.840 --> 00:33:09.650\na little different from the other ones.\n\n603\n00:33:09.650 --> 00:33:13.020\nMake sure you pay attention\nto that if they ask you.\n\n604\n00:33:13.020 --> 00:33:17.340\nLet's talk about SRV records next.\n\n605\n00:33:17.340 --> 00:33:20.980\nSRV records are service locator records.\n\n606\n00:33:20.980 --> 00:33:27.340\nThese are how we find what machine\nis offering a particular service.\n\n607\n00:33:27.340 --> 00:33:32.610\nLike if when you go to log in, your\ncomputer has to find the domain controller\n\n608\n00:33:32.610 --> 00:33:34.580\nor the machine that's running Kerberos, so\n\n609\n00:33:34.580 --> 00:33:38.790\nthat your password can be verified,\nwe can retrieve your group information and\n\n610\n00:33:38.790 --> 00:33:41.630\nwe can generate your security token and\nallow you to log on.\n\n611\n00:33:41.630 --> 00:33:44.060\nHow does your machine find\nthe domain controller?\n\n612\n00:33:44.060 --> 00:33:46.440\nYou don't just holler and\ngo hey, Mr. Domain Controller.\n\n613\n00:33:46.440 --> 00:33:51.500\nThere's no notes on your machine that\ntells it where the domain controller is.\n\n614\n00:33:51.500 --> 00:33:52.680\nIt talks to DNS.\n\n615\n00:33:52.680 --> 00:33:55.435\nIt says hey, who's running Kerberos?\n\n616\n00:33:55.435 --> 00:33:59.980\nDNS looks in a special place.\n\n617\n00:33:59.980 --> 00:34:04.588\nThere's this _msdcs.lab.itpro.tv.\n\n618\n00:34:04.588 --> 00:34:10.960\nIn here I will find my SRV records, the\nsame records are also located in the zone.\n\n619\n00:34:10.960 --> 00:34:11.730\nI can see it right here,\n\n620\n00:34:11.730 --> 00:34:16.300\nthis is basically a pointer back\nup to this guy here, all right?\n\n621\n00:34:16.300 --> 00:34:17.960\nAnd you have things like DC.\n\n622\n00:34:19.230 --> 00:34:23.830\nAnd if I expand this out,\nI'll see this is an SRV record.\n\n623\n00:34:23.830 --> 00:34:25.950\nKerberos, service location record.\n\n624\n00:34:25.950 --> 00:34:32.140\nLet me expand this out just a little bit,\nand we'll see that Kerberos is being\n\n625\n00:34:32.140 --> 00:34:37.540\noffered by dco1.lab.itpro.tv, all right?\n\n626\n00:34:37.540 --> 00:34:38.520\nSo that's how these work.\n\n627\n00:34:39.990 --> 00:34:43.600\nIf we had other sites,\nwell let's not go too far in it.\n\n628\n00:34:43.600 --> 00:34:47.200\nWhen we talk about sites and things like\nthat, we'll come back to that concept.\n\n629\n00:34:47.200 --> 00:34:49.850\nFor now I want you to know, SRV records,\n\n630\n00:34:49.850 --> 00:34:53.990\nthey are service locator records and\nmachines generate them.\n\n631\n00:34:53.990 --> 00:34:57.520\nLike if I install,\nif I make a new domain controller.\n\n632\n00:34:57.520 --> 00:35:00.840\nWell when that domain controller\nregisters his IP address in DNS and\n\n633\n00:35:00.840 --> 00:35:06.210\nsays, hey, I'm DCO2, here's my IP address,\nmake an A record for me.\n\n634\n00:35:06.210 --> 00:35:10.360\nThe other thing it's gonna do is say,\nby the way, I'm running this service, and\n\n635\n00:35:10.360 --> 00:35:14.700\nthis service, and this service, will you\nmake some SRV records for me as well?\n\n636\n00:35:14.700 --> 00:35:17.330\nThat way, anybody that asks for\nit can find it.\n\n637\n00:35:17.330 --> 00:35:19.250\nWhat if I need a global catalog?\n\n638\n00:35:19.250 --> 00:35:22.920\nWell, I can come in here and I can say.\n\n639\n00:35:22.920 --> 00:35:25.639\nLet's see, let's go to TCP and\nthere we go.\n\n640\n00:35:25.639 --> 00:35:29.360\nDC01 is offering\nthe Global Catalog Service.\n\n641\n00:35:29.360 --> 00:35:33.530\nHow about that actually,\nLDAP, interesting.\n\n642\n00:35:33.530 --> 00:35:35.072\nWho's the PDC emulator?\n\n643\n00:35:35.072 --> 00:35:35.909\nIt's DC01.\n\n644\n00:35:35.909 --> 00:35:40.380\n[LAUGH] I only have one server, so\neverything kind of pointing back to him.\n\n645\n00:35:40.380 --> 00:35:42.400\nBut you get the idea, right?\n\n646\n00:35:42.400 --> 00:35:45.140\nSRV records allow you to find\nmachines that are offering\n\n647\n00:35:45.140 --> 00:35:46.410\na service to the network.\n\n648\n00:35:46.410 --> 00:35:52.025\nThis is how your machine can find the PDC\nemulator so it can synchronize its time.\n\n649\n00:35:52.025 --> 00:35:55.893\nThis is how your machine finds\nthe domain controller, so it can log on.\n\n650\n00:35:55.893 --> 00:35:58.945\nOr retrieve group policy every 90 minutes,\nright?\n\n651\n00:35:58.945 --> 00:36:01.285\nThe SRV records are what do that.\n\n652\n00:36:02.555 --> 00:36:06.110\nOne thing that I do wanna talk\nabout with the SRV records is, no,\n\n653\n00:36:06.110 --> 00:36:07.120\nI'll save that one too.\n\n654\n00:36:07.120 --> 00:36:09.410\nI know I keep giving you\nguys all these cliffhangers.\n\n655\n00:36:09.410 --> 00:36:10.370\nWe'll come back to that.\n\n656\n00:36:10.370 --> 00:36:12.790\nIt doesn't really fit right here.\n\n657\n00:36:12.790 --> 00:36:16.350\nOther records though we need to talk\nabout are the PTRs and the SOAs.\n\n658\n00:36:16.350 --> 00:36:19.310\nLast two I want to talk about here.\n\n659\n00:36:19.310 --> 00:36:23.120\nSOA is known as the start of authority.\n\n660\n00:36:23.120 --> 00:36:25.040\nThat's what SOA stands for.\n\n661\n00:36:25.040 --> 00:36:31.710\nWhen you create a brand new zone, the very\nfirst record that gets created is the SOA.\n\n662\n00:36:31.710 --> 00:36:33.330\nIt's the first thing that happens.\n\n663\n00:36:33.330 --> 00:36:34.880\nWhen I go to lab.itpro.tv,\n\n664\n00:36:34.880 --> 00:36:39.480\nyou'll see right here is my\nstart of authority or my SOA.\n\n665\n00:36:39.480 --> 00:36:43.260\nAnd what this SOA,\nnotice it's like the name servers.\n\n666\n00:36:43.260 --> 00:36:45.630\nIn the fact that when I tried\nto pull up its properties,\n\n667\n00:36:45.630 --> 00:36:47.720\nit actually opened up the zone properties.\n\n668\n00:36:47.720 --> 00:36:49.900\nSo you can also get to this by\nright clicking on the zone and\n\n669\n00:36:49.900 --> 00:36:51.200\nchoosing Properties.\n\n670\n00:36:51.200 --> 00:36:54.000\nAnd on the SOA,\nwe have a lot of important information.\n\n671\n00:36:54.000 --> 00:36:58.420\nThe SOA defines the fact that\nthis zone has been created and\n\n672\n00:36:58.420 --> 00:37:03.370\nthat this server is the authoritative\nserver for this name space.\n\n673\n00:37:03.370 --> 00:37:05.150\nThat means it actually has the record,\n\n674\n00:37:05.150 --> 00:37:07.360\nsomething we haven't really\ntalked about in here.\n\n675\n00:37:07.360 --> 00:37:09.930\nThat gets into our Advanced DNS later on.\n\n676\n00:37:09.930 --> 00:37:13.120\nWe start talking about the authoritative\nand non-authoritative servers.\n\n677\n00:37:13.120 --> 00:37:19.120\nBut it says that the primary\nserver is dc01.lab.itpro.tv.\n\n678\n00:37:19.120 --> 00:37:20.880\nAlso has a serial number.\n\n679\n00:37:20.880 --> 00:37:24.670\nEvery time we make changes to the zone,\nlike make a new record,\n\n680\n00:37:24.670 --> 00:37:28.020\nmodify an existing record,\nthat serial number gets incremented.\n\n681\n00:37:28.020 --> 00:37:30.850\nThat's how other DNS servers or\nother servers that are holding\n\n682\n00:37:30.850 --> 00:37:34.610\na copy of the zone,\nthey know if their copy is up to date.\n\n683\n00:37:34.610 --> 00:37:38.540\nIf I'm looking at my copy and my serial\nnumber is 25, and I talk to DC01, he\n\n684\n00:37:38.540 --> 00:37:42.870\nsays no, the serial number number should\nbe 30, I know I'm missing five updates.\n\n685\n00:37:42.870 --> 00:37:45.790\nHey, let's replicate, give me that\ninformation, so I can catch up.\n\n686\n00:37:45.790 --> 00:37:49.300\nIt tells you who you're\nsupposed to come in here, and\n\n687\n00:37:49.300 --> 00:37:53.990\nput the name and email address basically\nof whoever's responsible for DNS.\n\n688\n00:37:53.990 --> 00:37:59.220\nSo that if there is a problem,\npeople can contact the appropriate person.\n\n689\n00:37:59.220 --> 00:38:02.050\nNot many people do that but\nthat's what you're supposed to do.\n\n690\n00:38:02.050 --> 00:38:05.560\nAlso these numbers here, when we get\ninto our advanced conversations and\n\n691\n00:38:05.560 --> 00:38:09.564\nwe start talking about\nreplication between DNS servers.\n\n692\n00:38:09.564 --> 00:38:13.500\nWe'll talk about what\nthese numbers mean here.\n\n693\n00:38:13.500 --> 00:38:18.350\nThe TTL is coming up in just a minute,\nbut I'm getting that look again,\n\n694\n00:38:18.350 --> 00:38:22.690\nI've been talking way too long, so\nI'm gonna turn it back over to Wes here.\n\n695\n00:38:22.690 --> 00:38:26.040\n&gt;&gt; That's right, before we get to, I don't\nknow, maybe the hangman's noose out there.\n\n696\n00:38:26.040 --> 00:38:28.060\nBut there's a lot of records and\nthey're important,\n\n697\n00:38:28.060 --> 00:38:32.100\nI mean when it comes down to it,\nit's vital to know anything that's in your\n\n698\n00:38:32.100 --> 00:38:34.440\nDNS zone file, you probably gonna\nwant to know a little about.\n\n699\n00:38:34.440 --> 00:38:35.920\nNow, Mike, you're right.\n\n700\n00:38:35.920 --> 00:38:37.730\nWe are coming to the end\nof another episode.\n\n701\n00:38:37.730 --> 00:38:42.640\nBut before we go into another episode,\ndo you got anything more for this one or\n\n702\n00:38:42.640 --> 00:38:44.080\nyou think we're gonna hold off for\na part three?\n\n703\n00:38:44.080 --> 00:38:45.930\n&gt;&gt; I'm gonna save it for\nthe next part, yep.\n\n704\n00:38:45.930 --> 00:38:48.570\nAll right so he's giving you\nanother one of those cliffhangers.\n\n705\n00:38:48.570 --> 00:38:51.190\nWell, we'll go ahead and\nwe'll wrap it up right here.\n\n706\n00:38:51.190 --> 00:38:52.170\nIt's been a great episode.\n\n707\n00:38:52.170 --> 00:38:55.000\nSigning out for ITProTV,\nI've been your host Wes Bryan.\n\n708\n00:38:55.000 --> 00:38:56.310\n&gt;&gt; And I'm Mike Rodrick.\n\n709\n00:38:56.310 --> 00:38:57.779\n&gt;&gt; And we'll see you next time.\n\n710\n00:38:57.779 --> 00:39:03.948\n[MUSIC]\n\n711\n00:39:03.948 --> 00:39:11.129\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "193576726"
        },
        {
          "description": "In this episode, Wes and Mike continue their exploration of DNS zones and records. They explain pointer records called PTR records and reverse lookup zones. They will discuss how to keep the DNS zone database healthy through aging and scavenging of old DNS records as well as configuring the  time-to-live or TTLs on DNS records.",
          "length": "1751",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-3-dns_zones_and_records_pt3-111716.00_28_54_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-3-dns_zones_and_records_pt3-111716.00_28_54_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-3-dns_zones_and_records_pt3-111716.00_28_54_29.Still001-sm.jpg",
          "title": "DNS Zones and Records Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.334\nWelcome to ITProTV,\nI'm your host Don Pizet.\n\n2\n00:00:02.334 --> 00:00:05.898\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:05.898 --> 00:00:08.175\n[MUSIC]\n\n4\n00:00:08.175 --> 00:00:11.577\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.577 --> 00:00:14.493\n&gt;&gt; Welcome to another exciting\nepisode here at ITProTV.\n\n6\n00:00:14.493 --> 00:00:16.014\nI'm your host, Wes Bryan.\n\n7\n00:00:16.014 --> 00:00:17.204\nAnd in today's episode,\n\n8\n00:00:17.204 --> 00:00:21.216\nwe're continuing down that journey that\nis networking with Windows Server 2016.\n\n9\n00:00:21.216 --> 00:00:25.599\nAnd we're coming back with yet another\nminiseries in DNS, but very important,\n\n10\n00:00:25.599 --> 00:00:28.508\nsome topics that we definitely\nhave to touch base on.\n\n11\n00:00:28.508 --> 00:00:31.852\nAnd joining us back in the studios again\nis none other than Mr. Mike Rodrick.\n\n12\n00:00:31.852 --> 00:00:32.932\nMike, how you doing, sir?\n\n13\n00:00:32.932 --> 00:00:33.733\n&gt;&gt; Doing good, Wes.\n\n14\n00:00:33.733 --> 00:00:34.719\nThanks for having me back.\n\n15\n00:00:34.719 --> 00:00:36.369\nThank you guys for coming back.\n\n16\n00:00:36.369 --> 00:00:39.401\nAnd you're right,\nwe left off in the middle of talking about\n\n17\n00:00:39.401 --> 00:00:42.744\ndifferent types of records that\nwe're gonna find in our DNS zone.\n\n18\n00:00:42.744 --> 00:00:47.506\nWe had a couple more to go and Wes cut\nus off, so let's get back in there and\n\n19\n00:00:47.506 --> 00:00:50.025\ntake a look at the rest of the records.\n\n20\n00:00:50.025 --> 00:00:52.420\nAnd now for the rest of the story.\n\n21\n00:00:52.420 --> 00:00:54.740\nSo, we can take a look at my screen here.\n\n22\n00:00:54.740 --> 00:00:59.750\nWe talked about A records and\nAAAA records and SRV records,\n\n23\n00:00:59.750 --> 00:01:03.890\nSOAs, NSs, MXs, CNAME records.\n\n24\n00:01:03.890 --> 00:01:07.737\nThe only one we had left, really,\nthat we need to know for now, again,\n\n25\n00:01:07.737 --> 00:01:11.970\nthere's a lot more but the common ones\nthat we need to know for the exam, and for\n\n26\n00:01:11.970 --> 00:01:14.046\nmost applications in the real world.\n\n27\n00:01:14.046 --> 00:01:19.712\nThe last one is gonna be\nknown as a PTR record, right?\n\n28\n00:01:19.712 --> 00:01:26.080\nPapa, tango, Romeo PTR or pointer record.\n\n29\n00:01:26.080 --> 00:01:30.190\nA pointer record is a little bit\ndifferent than our other records.\n\n30\n00:01:30.190 --> 00:01:35.340\nMost of our records are gonna be\nwhat we call forward lookup records,\n\n31\n00:01:35.340 --> 00:01:39.595\nand notice that my zone,\nlab.itpro.tv, if I take a look here,\n\n32\n00:01:39.595 --> 00:01:43.065\nmy zone is underneath something\nknown as forward lookup zones.\n\n33\n00:01:43.065 --> 00:01:45.215\nThere is lab.itpro.tv.\n\n34\n00:01:45.215 --> 00:01:47.845\nSo before we go any further,\nlet's find that.\n\n35\n00:01:47.845 --> 00:01:52.090\nA forward lookup is when you know\nthe name, and you want the IP address.\n\n36\n00:01:52.090 --> 00:01:54.420\nHey, I wanna connect to server 22.\n\n37\n00:01:54.420 --> 00:01:56.140\nWell here's his IP address.\n\n38\n00:01:56.140 --> 00:01:59.160\nI know the name, I ask DNS,\nand it returns the IP address.\n\n39\n00:01:59.160 --> 00:02:01.070\nThat's a forward lookup.\n\n40\n00:02:01.070 --> 00:02:05.800\nA reverse lookup is we go the other way,\nhence the name reverse lookup, right?\n\n41\n00:02:05.800 --> 00:02:10.330\nWhen I know the IP address, and I now\nwanna get back the name of the machine.\n\n42\n00:02:11.450 --> 00:02:12.860\nThose are located here.\n\n43\n00:02:12.860 --> 00:02:16.340\nHere's my reverse look up zones,\nI don't have one yet, but\n\n44\n00:02:16.340 --> 00:02:18.070\nwe could create one real quick.\n\n45\n00:02:18.070 --> 00:02:21.914\nRight click new zone, now, click Next,\nand this is actually not part\n\n46\n00:02:21.914 --> 00:02:25.647\nof this particular objective,\nbut hey, bonus material, right?\n\n47\n00:02:25.647 --> 00:02:27.894\nSo, here's my new zone wizard, and\n\n48\n00:02:27.894 --> 00:02:32.109\nI'll do primary stored in active\ndirectory, and I'll click Next.\n\n49\n00:02:32.109 --> 00:02:34.861\nAnd I'll do all the domain\ncontrollers in the domain.\n\n50\n00:02:34.861 --> 00:02:39.690\nAnd here, little bit different,\ndo I want an IPv4 or IPv6 reverse?\n\n51\n00:02:39.690 --> 00:02:42.370\nI'm gonna stick with IPv4, now click Next.\n\n52\n00:02:42.370 --> 00:02:45.192\nAnd then you're gonna\nput in your network ID.\n\n53\n00:02:45.192 --> 00:02:49.495\nMine would be 10.0.100, all right, and\n\n54\n00:02:49.495 --> 00:02:55.751\nthen let's see what else I need to\nshow you guys here, that should be it.\n\n55\n00:02:55.751 --> 00:02:58.340\nNow, you put this in in the right order,\nright?\n\n56\n00:02:58.340 --> 00:03:03.297\nThat's my subnet ID if you want to call\nit, we'll click Next, and the new,\n\n57\n00:03:03.297 --> 00:03:05.790\nif I want to allow updates or not.\n\n58\n00:03:05.790 --> 00:03:10.000\nSo, just like our forward lookups,\nnow click Next and Finish.\n\n59\n00:03:10.000 --> 00:03:16.217\nAll right, so now I have this reverse\nlookup zone for the 10.0.100 network.\n\n60\n00:03:16.217 --> 00:03:19.120\nBut look at this, see how it's reversed?\n\n61\n00:03:19.120 --> 00:03:23.728\nIt's 100.0.10.in-adder.arpa.\n\n62\n00:03:23.728 --> 00:03:27.433\nRight, that whole last part,\nin-adder.arpa.\n\n63\n00:03:27.433 --> 00:03:29.480\nI don't know if they\nactually say it that way.\n\n64\n00:03:29.480 --> 00:03:32.850\nThat's the way I've said it for\nthe last ten years, and it works for me.\n\n65\n00:03:32.850 --> 00:03:35.890\nBut Internet address,\naddress resolution protocol.\n\n66\n00:03:35.890 --> 00:03:38.749\nI have no idea what the last A stands for.\n\n67\n00:03:38.749 --> 00:03:41.755\nYou ask [LAUGH]\n&gt;&gt; I think it's address routing\n\n68\n00:03:41.755 --> 00:03:43.305\nparameter area.\n\n69\n00:03:43.305 --> 00:03:44.620\n&gt;&gt; Parameter area, there we go.\n\n70\n00:03:44.620 --> 00:03:47.000\nThe address routing parameter area.\n\n71\n00:03:47.000 --> 00:03:51.930\nThat's a reserved DNS suffix,\njust for reverse look up zones.\n\n72\n00:03:51.930 --> 00:03:55.270\nAnd when you go to create a new\nrecord in here, New, Pointer.\n\n73\n00:03:55.270 --> 00:03:58.980\nBecause pointer records are not\nlocated in our forward lookup zones.\n\n74\n00:03:58.980 --> 00:04:01.665\nThey are the only records\nthat exist in the reverse.\n\n75\n00:04:01.665 --> 00:04:04.079\nWell, I shouldn't say only records, but\n\n76\n00:04:04.079 --> 00:04:06.903\nPTRs won't be found in\nyour forward lookup zone.\n\n77\n00:04:06.903 --> 00:04:10.108\nPTRs are only found in\nyour reverse lookup zone.\n\n78\n00:04:10.108 --> 00:04:13.034\nAnd so my host,\nnotice it's not asking me for a host name.\n\n79\n00:04:13.034 --> 00:04:17.572\nIt's asking me for the IP address,\nand I can say 200.\n\n80\n00:04:17.572 --> 00:04:21.268\nAnd then the host name is dc01, oops,\n\n81\n00:04:21.268 --> 00:04:27.150\nI'll zoom back out there, and\nI'll click OK, and there we go.\n\n82\n00:04:27.150 --> 00:04:29.950\nWe now have a pointer record,\nand I probably should have\n\n83\n00:04:29.950 --> 00:04:35.850\nused the fully qualified domain name for\nthat, live.it.pro.tv.\n\n84\n00:04:35.850 --> 00:04:38.090\nWanna do it, make it look right.\n\n85\n00:04:38.090 --> 00:04:38.986\nSo, that's a reverse look up.\n\n86\n00:04:38.986 --> 00:04:42.324\nI know the IP address,\nI can call up DNS and say hey,\n\n87\n00:04:42.324 --> 00:04:47.157\nwhat's the name of the machine\nthat's got 10.0.100.200?\n\n88\n00:04:47.157 --> 00:04:49.200\n&gt;&gt; Now I gotta ask a question.\n\n89\n00:04:49.200 --> 00:04:52.270\nI mean, here was are with DNS, okay?\n\n90\n00:04:52.270 --> 00:04:56.820\nOf all the episodes we've done,\nit's pretty counterintuitive to DNS.\n\n91\n00:04:56.820 --> 00:04:58.800\nWe've always said, well,\nwhat have we said?\n\n92\n00:04:58.800 --> 00:05:02.290\nI have a name, and I don't wanna have\nto remember all these IP addresses.\n\n93\n00:05:02.290 --> 00:05:04.410\nSo, I can only imagine that as a human,\n\n94\n00:05:04.410 --> 00:05:06.450\nI'm probably not gonna\nbe using this too much.\n\n95\n00:05:06.450 --> 00:05:07.820\n&gt;&gt; Not that much.\n\n96\n00:05:07.820 --> 00:05:09.880\nI liken it to your phone.\n\n97\n00:05:09.880 --> 00:05:11.180\nIf you think about your phone, right?\n\n98\n00:05:11.180 --> 00:05:13.190\nWhen you call somebody,\nyou don't look them up by numbers.\n\n99\n00:05:13.190 --> 00:05:17.146\nYou look at your contacts, you look for\ntheir name, you touch it, and\n\n100\n00:05:17.146 --> 00:05:21.440\nyour phone is basically saying that\nname is actually, when he touches dad,\n\n101\n00:05:21.440 --> 00:05:24.150\nthat's 352-555-1212, right?\n\n102\n00:05:24.150 --> 00:05:26.183\nAnd that's what our normal DNS look up is.\n\n103\n00:05:26.183 --> 00:05:31.373\nI know DC01 is, if I look it up,\nis 10.0.100.200.\n\n104\n00:05:31.373 --> 00:05:34.610\nOccasionally, though I'll get\na number on my caller ID.\n\n105\n00:05:34.610 --> 00:05:38.310\nAnd it just says call missed from blah,\nblah, blah.\n\n106\n00:05:38.310 --> 00:05:41.270\nI wanna know who that is that's\ntrying to call me that I missed.\n\n107\n00:05:41.270 --> 00:05:44.755\nI can go do a reverse look up, or I go up\nto the Internet find with those sites,\n\n108\n00:05:44.755 --> 00:05:47.097\nand try to reverse that\nnumber back into a name, and\n\n109\n00:05:47.097 --> 00:05:49.676\nthat's what reverse lookup name and\nDNS allow me to do.\n\n110\n00:05:49.676 --> 00:05:53.458\nNow, where you use these, as Wes said,\nit's not too often in me as a human,\n\n111\n00:05:53.458 --> 00:05:56.416\nI need to know to connect,\nI don't need it to connect to it,\n\n112\n00:05:56.416 --> 00:05:59.464\nbecause if I know the IP address,\nwho cares what its name is?\n\n113\n00:05:59.464 --> 00:06:02.614\nI can type in the IP address, and\nthen I can connect, that's what's gonna\n\n114\n00:06:02.614 --> 00:06:05.860\nhappen in the end anyway,\nwe always make connection by IP address.\n\n115\n00:06:05.860 --> 00:06:09.510\nBut what if I'm looking at a log file,\nright?\n\n116\n00:06:09.510 --> 00:06:13.890\nAnd I need, I see all of these attempted\naccesses from this IP address.\n\n117\n00:06:13.890 --> 00:06:15.810\nWhat node, who is sitting at what node?\n\n118\n00:06:15.810 --> 00:06:17.827\nI shouldn't say who,\nyou're not gonna know who's sitting there.\n\n119\n00:06:17.827 --> 00:06:21.530\nBut what machine was somebody was trying\nto use when they were connecting?\n\n120\n00:06:21.530 --> 00:06:25.059\nI see the IP address, but\nheck all my clients use DHCP.\n\n121\n00:06:25.059 --> 00:06:27.460\nSo their IP addresses change.\n\n122\n00:06:27.460 --> 00:06:31.130\nI don't know the,\nI don't recognize 10.0.100.45.\n\n123\n00:06:31.130 --> 00:06:31.713\nWhat machine is that?\n\n124\n00:06:31.713 --> 00:06:37.821\nI can do a reverse look up, and go,\nthat's lab client one.lab.itpro.tv.\n\n125\n00:06:37.821 --> 00:06:40.009\nSo I know that it's over in the lab room,\nand\n\n126\n00:06:40.009 --> 00:06:42.820\nI can go see what's going\non in that machine, right?\n\n127\n00:06:42.820 --> 00:06:45.840\nSo, that's one use for\nthem, analyzing log files.\n\n128\n00:06:45.840 --> 00:06:48.700\nA lot of utilities can\ngive you more information\n\n129\n00:06:48.700 --> 00:06:51.290\nif you have reverse look up zones set up.\n\n130\n00:06:51.290 --> 00:06:55.560\nNS look up is a utility to work\nwith DNS from the command line.\n\n131\n00:06:55.560 --> 00:06:58.840\nIf you don't have reverse look up zones,\nit'll show you the IP address of the DNS\n\n132\n00:06:58.840 --> 00:07:02.420\nserver you're testing, but not the name\nof the DNS server you're testing.\n\n133\n00:07:02.420 --> 00:07:05.970\nIf I have reverse look ups, it can say\nhey, you're testing this server, right?\n\n134\n00:07:05.970 --> 00:07:08.010\nIt can show me the name.\n\n135\n00:07:08.010 --> 00:07:10.860\nWhat's another one which\nyou could use this with?\n\n136\n00:07:10.860 --> 00:07:12.440\nWhat am I thinking of?\n\n137\n00:07:12.440 --> 00:07:15.830\nIP set conversations, when you're\nlooking at the IP set console, and\n\n138\n00:07:15.830 --> 00:07:17.480\nyou're monitoring these connections.\n\n139\n00:07:17.480 --> 00:07:22.030\nIt'll show you that this IP address has\na secure connection to this IP address.\n\n140\n00:07:22.030 --> 00:07:25.461\nI know that IP address is my server,\nI recognize that.\n\n141\n00:07:25.461 --> 00:07:28.247\nBut what IP address has\na secure connection to it?\n\n142\n00:07:28.247 --> 00:07:29.850\nAll right, or who is that?\n\n143\n00:07:29.850 --> 00:07:32.670\nI see the IP address,\nbut what node is that?\n\n144\n00:07:32.670 --> 00:07:36.220\nIf I have reverse lookups, there's\nactually an option in my IP set console.\n\n145\n00:07:36.220 --> 00:07:40.630\nI can say display names, and it'll show\nfriendly names, instead of IP addresses.\n\n146\n00:07:40.630 --> 00:07:42.420\nSo, reverse look up\nzones are not necessary.\n\n147\n00:07:42.420 --> 00:07:43.590\nYou don't have to create them.\n\n148\n00:07:43.590 --> 00:07:46.980\nDNS works fine without it,\npeople can still connect to resources.\n\n149\n00:07:46.980 --> 00:07:50.484\nBut there are some advantages of having a\nreverse lookup, and that's things like log\n\n150\n00:07:50.484 --> 00:07:53.417\nfile analysis, certain applications\nthat can use that information.\n\n151\n00:07:53.417 --> 00:07:56.665\n&gt;&gt; Now, Mike, I know what\nthe best DNS administrators, and\n\n152\n00:07:56.665 --> 00:07:58.867\nI know you are OCD about your zone file.\n\n153\n00:07:58.867 --> 00:08:02.085\nAnd if you don't think so,\njust check out our DNS sec episode,\n\n154\n00:08:02.085 --> 00:08:02.863\n&gt;&gt; [LAUGH]\n\n155\n00:08:02.863 --> 00:08:04.526\n&gt;&gt; And watch Mike's reaction when all\n\n156\n00:08:04.526 --> 00:08:06.965\nthose extra records get in there,\nnow As time goes,\n\n157\n00:08:06.965 --> 00:08:08.751\nI know our database can grow, right.\n\n158\n00:08:08.751 --> 00:08:12.140\nI know that maybe we get to a point\nwhere we gonna deploy new machines,\n\n159\n00:08:12.140 --> 00:08:14.960\nmaybe we change the infrastructure, well.\n\n160\n00:08:14.960 --> 00:08:17.250\nNow we gotta do some spring\ncleaning on that database.\n\n161\n00:08:17.250 --> 00:08:18.600\nIs there ways that we can do that?\n\n162\n00:08:18.600 --> 00:08:20.170\n&gt;&gt; There is and that's a great question.\n\n163\n00:08:20.170 --> 00:08:22.650\nNow the thing that happen with\nDNS is as Wes points out,\n\n164\n00:08:22.650 --> 00:08:24.820\nis that records get created.\n\n165\n00:08:24.820 --> 00:08:27.940\nBut they don't get removed\nautomatically right.\n\n166\n00:08:27.940 --> 00:08:32.670\nIn dynamic environments especially like\nfor me lab environments where we're\n\n167\n00:08:32.670 --> 00:08:35.070\nbringing up virtual machines\nall the time to test things.\n\n168\n00:08:35.070 --> 00:08:37.596\nAnd then we're blowing those\nmachines away and they're gone.\n\n169\n00:08:37.596 --> 00:08:41.886\nBut the record that it created when it\nwas up online, It reached out to DNS,\n\n170\n00:08:41.886 --> 00:08:44.470\ndid a dynamic update and made a record.\n\n171\n00:08:44.470 --> 00:08:47.320\nBut now the machine's gone but\nthat record's still sitting there.\n\n172\n00:08:47.320 --> 00:08:51.000\nIn environments where you have\na lot of visitors coming in.\n\n173\n00:08:51.000 --> 00:08:54.420\nYou get, I worked at one place where we\nhad a lot of students that brought in\n\n174\n00:08:54.420 --> 00:08:55.720\nphones and laptops.\n\n175\n00:08:55.720 --> 00:08:57.720\nOr vendors coming by.\n\n176\n00:08:57.720 --> 00:09:00.500\nThey could end up creating\nrecords if we don't have\n\n177\n00:09:00.500 --> 00:09:04.100\nsecure dynamic updates only turned on.\n\n178\n00:09:04.100 --> 00:09:04.990\nHow do I got rid of those?\n\n179\n00:09:04.990 --> 00:09:09.040\nStale, resources, we call stale,\nresource records.\n\n180\n00:09:09.040 --> 00:09:14.480\nThat is where we're gonna enable\nsomething known as, aging and scavenging.\n\n181\n00:09:14.480 --> 00:09:18.597\nAnd what that allows DNS to do is look\nat these records, and if they're stale,\n\n182\n00:09:18.597 --> 00:09:21.960\nif they're beyond a certain point,\nwe can go ahead and get rid of them.\n\n183\n00:09:21.960 --> 00:09:23.040\nWe can remove them.\n\n184\n00:09:23.040 --> 00:09:25.020\nThat way, we keep the database clean.\n\n185\n00:09:25.020 --> 00:09:27.840\nNow, besides me having\nmy little tendencies of\n\n186\n00:09:27.840 --> 00:09:29.260\nwanting everything looking nice and\n\n187\n00:09:29.260 --> 00:09:33.560\nneat, is there any other advantages\nto keeping a clean DNS database?\n\n188\n00:09:33.560 --> 00:09:34.670\nAbsolutely.\n\n189\n00:09:34.670 --> 00:09:38.880\nFirst and foremost, it's gonna be\na smaller file size, a smaller database.\n\n190\n00:09:38.880 --> 00:09:42.520\nIf my list is shorter and it doesn't\nhave a bunch of unnecessary stuff,\n\n191\n00:09:42.520 --> 00:09:44.830\nqueries to it should be faster, right?\n\n192\n00:09:44.830 --> 00:09:48.172\nIf I've got a list of 10,000\nversus a list of 100,000,\n\n193\n00:09:48.172 --> 00:09:51.280\nprobably gonna be quicker to go\nthrough the list of 10,000, right?\n\n194\n00:09:51.280 --> 00:09:53.920\nSo little things like that,\nit can really help with performance,\n\n195\n00:09:53.920 --> 00:09:57.850\nreplicating that zone file across\nthe network to another DNS server.\n\n196\n00:09:57.850 --> 00:10:01.550\nWhy replicate all these\nunnecessary old useless records?\n\n197\n00:10:01.550 --> 00:10:04.220\nGet rid of them,\nthat reduces my replication size,\n\n198\n00:10:04.220 --> 00:10:07.760\ntherefore reducing the amount of bandwidth\nthat I'm using when I replicate.\n\n199\n00:10:07.760 --> 00:10:10.500\nSo a lot of advantages\nto keeping this clean.\n\n200\n00:10:10.500 --> 00:10:13.850\n&gt;&gt; You know, I was thinking of one thing,\ncuz like Mike had mentioned,\n\n201\n00:10:13.850 --> 00:10:16.890\na place that we used to work,\nthey did a major deployment and\n\n202\n00:10:16.890 --> 00:10:18.940\nchanged the IP infrastructure.\n\n203\n00:10:18.940 --> 00:10:23.710\nAnd could this cause a problem if I'm\ntrying to do a dynamic update and\n\n204\n00:10:23.710 --> 00:10:25.730\nregister that dynamically?\n\n205\n00:10:25.730 --> 00:10:29.500\nAnd unfortunately,\nit finds a file that's already there.\n\n206\n00:10:29.500 --> 00:10:33.120\nBut yet we're changing things, and\nthose machines no longer exist.\n\n207\n00:10:33.120 --> 00:10:34.630\n&gt;&gt; Absolutely, you got a record in there.\n\n208\n00:10:34.630 --> 00:10:36.997\nI call up and say, hey, I'm client 22.\n\n209\n00:10:36.997 --> 00:10:40.016\nHere's my IP address,\nmake a record for me.\n\n210\n00:10:40.016 --> 00:10:43.430\nSorry, I already have\na client22.lab.itprotv.\n\n211\n00:10:43.430 --> 00:10:45.560\nAre you trying to update that record?\n\n212\n00:10:45.560 --> 00:10:46.980\nNo your information doesn't match.\n\n213\n00:10:46.980 --> 00:10:50.890\nYou are not the original client 22,\nnot even going to let you update it.\n\n214\n00:10:50.890 --> 00:10:53.032\nSo it can prevent a machine\nfrom creating records and\n\n215\n00:10:53.032 --> 00:10:54.846\nthen nobody's going to be able to connect.\n\n216\n00:10:54.846 --> 00:10:57.033\nOr they're going to get the wrong\nIP address cuz they're going to get\n\n217\n00:10:57.033 --> 00:10:57.920\nthat old record.\n\n218\n00:10:57.920 --> 00:10:59.860\nThat's pointing to the wrong machine.\n\n219\n00:10:59.860 --> 00:11:03.190\nSo let's talk about how we can\nturn on aging and scavenging.\n\n220\n00:11:03.190 --> 00:11:06.840\nAging is just the normal process\nthat we all do every day.\n\n221\n00:11:06.840 --> 00:11:08.310\nThese records do the same thing.\n\n222\n00:11:08.310 --> 00:11:10.730\nThey get time stamped when\nthey get created, and\n\n223\n00:11:10.730 --> 00:11:12.075\nthen tomorrow it'll be a day old.\n\n224\n00:11:12.075 --> 00:11:15.260\nTwo days from now,\nit will be two days old, right.\n\n225\n00:11:15.260 --> 00:11:17.110\nThat's the aging process.\n\n226\n00:11:17.110 --> 00:11:19.483\nScavenging is removing the records,\n\n227\n00:11:19.483 --> 00:11:24.684\nscavenging them up is done during what's\ncalled the garbage collection process.\n\n228\n00:11:24.684 --> 00:11:28.310\nWhich is a background process that\nruns periodically on our servers.\n\n229\n00:11:28.310 --> 00:11:31.925\nAnd it scavenges anything\nthat's marked as too old,\n\n230\n00:11:31.925 --> 00:11:36.599\nit's actually called tombstoning a record,\nthey'll be removed.\n\n231\n00:11:36.599 --> 00:11:39.010\nSo where do we set this up,\nhow do we do this?\n\n232\n00:11:39.010 --> 00:11:41.770\nWell, two different places, actually.\n\n233\n00:11:41.770 --> 00:11:46.140\nThe first thing you're gonna have to\ndo is do it at the server level, okay?\n\n234\n00:11:46.140 --> 00:11:50.490\nYou can assign aging and\nscavenging values at the server level and\n\n235\n00:11:50.490 --> 00:11:52.440\nat the individual zone level.\n\n236\n00:11:52.440 --> 00:11:56.370\nSo when I right click on my server,\nhere's the options, set aging and\n\n237\n00:11:56.370 --> 00:11:58.390\nscavenging for all zones.\n\n238\n00:12:00.210 --> 00:12:03.590\nAnd before I click OK to this,\nI'm just going leave it like it is now.\n\n239\n00:12:03.590 --> 00:12:04.730\nI'm going to click OK.\n\n240\n00:12:04.730 --> 00:12:06.930\nWe also have it on the zone themselves.\n\n241\n00:12:06.930 --> 00:12:14.140\nRight click, Properties, and\nthen Aging on that general tab.\n\n242\n00:12:14.140 --> 00:12:16.670\nAnd there's those same\nsettings right there.\n\n243\n00:12:16.670 --> 00:12:18.270\nSo the way this is gonna to work.\n\n244\n00:12:18.270 --> 00:12:20.230\nAnd this is one thing we gotta\npay attention to for the exam.\n\n245\n00:12:21.282 --> 00:12:25.140\nAging and scavenging won't do anything\nunless you set it at the server levels.\n\n246\n00:12:25.140 --> 00:12:27.730\nSo you have to turn it\non at the server level.\n\n247\n00:12:27.730 --> 00:12:30.060\nThat then becomes the default.\n\n248\n00:12:30.060 --> 00:12:31.700\nPay attention to what I'm saying here.\n\n249\n00:12:31.700 --> 00:12:36.600\nTo all newly created active\ndirectory integrated zones.\n\n250\n00:12:37.630 --> 00:12:41.310\nOnce I turn it on at the server, then I go\ncreate a new active directory integrated\n\n251\n00:12:41.310 --> 00:12:45.110\nzone, it'll automatically inherit\nthose settings from the server.\n\n252\n00:12:45.110 --> 00:12:46.490\nNotice I said newly created.\n\n253\n00:12:47.510 --> 00:12:51.800\nActive directory integrated zones that had\nbeen created before I enabled aging and\n\n254\n00:12:51.800 --> 00:12:55.120\nscavenging at the server level\nwill not pick up those properties.\n\n255\n00:12:55.120 --> 00:12:57.783\nAlthough, when you turn it on,\nyou do have the option,\n\n256\n00:12:57.783 --> 00:13:00.920\nhey do you want me to go back and\nset this on all the old zones.\n\n257\n00:13:00.920 --> 00:13:03.570\nI'm gonna do it for all the new zones you\ncreate, do you want me to go back and\n\n258\n00:13:03.570 --> 00:13:05.110\ndo it for the ones you already created?\n\n259\n00:13:05.110 --> 00:13:07.520\nYou can say yes or no.\n\n260\n00:13:07.520 --> 00:13:10.860\nTurn it on server level,\nthat becomes the default for all new ones.\n\n261\n00:13:10.860 --> 00:13:14.680\nAlso notice I said active\ndirectory integrated zones.\n\n262\n00:13:14.680 --> 00:13:17.730\nStandard primaries that\nare stored in the flat file\n\n263\n00:13:17.730 --> 00:13:20.470\nthat are not part of active directory,\nthey're not stored in the database,\n\n264\n00:13:20.470 --> 00:13:25.030\nthey're not active directory integrated,\nthey will not look at the server settings.\n\n265\n00:13:25.030 --> 00:13:30.510\nYou have to set them on the zone itself\nfor standard primary zones, all right?\n\n266\n00:13:30.510 --> 00:13:34.429\nSo a couple key things to make a note of\nwhen you're studying for this exam there.\n\n267\n00:13:35.620 --> 00:13:41.150\nAll right, now, let's take a look at what\nthe heck those numbers actually mean.\n\n268\n00:13:41.150 --> 00:13:43.200\nRight, cuz when we look at this we've got,\n\n269\n00:13:43.200 --> 00:13:46.640\nwe can turn it on by choosing\nscavenge stale resource records.\n\n270\n00:13:46.640 --> 00:13:50.930\nAnd then the default is gonna be seven\ndays for a no refresh interval and\n\n271\n00:13:50.930 --> 00:13:53.260\nseven days for a refresh interval.\n\n272\n00:13:53.260 --> 00:13:55.110\nWhat the heck does that mean all right?\n\n273\n00:13:55.110 --> 00:13:59.040\nI got a drawing I'm gonna use to\nkind of explain how this works.\n\n274\n00:13:59.040 --> 00:14:02.480\nSo when a record gets created,\nit gets time stamped all right.\n\n275\n00:14:02.480 --> 00:14:05.810\nIt gets put into the data base,\nthat's day zero.\n\n276\n00:14:05.810 --> 00:14:09.970\nAnd for the first seven days,\nwe're going through what's called,\n\n277\n00:14:09.970 --> 00:14:11.360\na no refresh interval.\n\n278\n00:14:11.360 --> 00:14:15.540\nDuring the seven days,\nthis record cannot be refreshed.\n\n279\n00:14:15.540 --> 00:14:18.000\nWhat that means is when\na client calls up DNS and\n\n280\n00:14:18.000 --> 00:14:21.380\ncreates a record, it gets timestamped.\n\n281\n00:14:21.380 --> 00:14:23.710\nWell, that client doesn't just stop there.\n\n282\n00:14:23.710 --> 00:14:28.740\nEvery time we reboot that machine,\nperiodically, it's gonna call up DNS and\n\n283\n00:14:28.740 --> 00:14:30.970\nsay, hey, DNS.\n\n284\n00:14:30.970 --> 00:14:32.555\nMy name's client 22.\n\n285\n00:14:32.555 --> 00:14:34.680\nMy IP address hasn't changed.\n\n286\n00:14:34.680 --> 00:14:36.290\nI just wanted to let you know.\n\n287\n00:14:36.290 --> 00:14:38.000\nThat's called a refresh.\n\n288\n00:14:38.000 --> 00:14:41.660\nWell for seven days the server\ncompletely ignores refresh requests.\n\n289\n00:14:41.660 --> 00:14:43.030\nIt says, yeah, yeah whatever.\n\n290\n00:14:43.030 --> 00:14:44.670\nAnd it doesn't even write it down.\n\n291\n00:14:44.670 --> 00:14:45.710\nIt ignores it.\n\n292\n00:14:45.710 --> 00:14:49.920\nThe packet comes in he says hey nothings\nchanged, I just want to update my info.\n\n293\n00:14:49.920 --> 00:14:51.990\nThe sever says yeah,\nyeah whatever, go away.\n\n294\n00:14:51.990 --> 00:14:55.240\nAll right, for\nseven days that process occurs and\n\n295\n00:14:55.240 --> 00:14:58.010\nthat's to keep the workload\non my DNS server down.\n\n296\n00:14:58.010 --> 00:15:02.910\nIf during the first seven days I'm gonna\ncompletely ignore your refresh requests.\n\n297\n00:15:02.910 --> 00:15:06.720\nNot gonna ignore any change requests\nif you tell me, hey, I'm client 22,\n\n298\n00:15:06.720 --> 00:15:10.290\nmy IP address has changed,\nthat's different.\n\n299\n00:15:10.290 --> 00:15:12.790\nThat's not a refresh, that's an update.\n\n300\n00:15:12.790 --> 00:15:15.560\nAnd of course I'm gonna accept that\nbecause I need to make sure I've got\n\n301\n00:15:15.560 --> 00:15:16.240\ngood information.\n\n302\n00:15:16.240 --> 00:15:18.010\nI don't want to pass out bad info.\n\n303\n00:15:18.010 --> 00:15:21.420\nSo during this period, and\nif I was to update my information\n\n304\n00:15:22.610 --> 00:15:25.110\nit gets timestamped and\nthe counter starts all over.\n\n305\n00:15:25.110 --> 00:15:28.110\nAnd I'm gonna through this\nseven days of no refresh.\n\n306\n00:15:28.110 --> 00:15:30.790\nSo during the seven days no refresh.\n\n307\n00:15:30.790 --> 00:15:33.928\nWe get to this eighth day, all right.\n\n308\n00:15:33.928 --> 00:15:39.700\nNow we're in the refresh interval which\nby default is another seven days.\n\n309\n00:15:39.700 --> 00:15:44.220\nAnd the client has seven\ndays to refresh his record.\n\n310\n00:15:44.220 --> 00:15:48.361\nSo at some point during the second seven\nday period, the client calls up DNS and\n\n311\n00:15:48.361 --> 00:15:49.050\nsays, hey,\n\n312\n00:15:49.050 --> 00:15:53.272\nI'm client 22, my IP address hasn't\nchanged, just wanted to let you know.\n\n313\n00:15:53.272 --> 00:15:57.289\nAnd the DNS server says,\nokay this time I'll pay attention to you.\n\n314\n00:15:57.289 --> 00:16:02.381\nAnd when it does the refresh,\nit starts to counter all over again.\n\n315\n00:16:02.381 --> 00:16:05.031\nWe get a new time stamp,\nwe go back to day zero, and\n\n316\n00:16:05.031 --> 00:16:07.910\nwe've got seven days of\nno refreshes allowed.\n\n317\n00:16:07.910 --> 00:16:10.690\nAnd then during the next seven days,\nI need to refresh it.\n\n318\n00:16:10.690 --> 00:16:11.890\nAnd that's a normal process.\n\n319\n00:16:11.890 --> 00:16:16.410\nSometime during this period, that client\nis going to contact DNS, refresh it.\n\n320\n00:16:16.410 --> 00:16:20.080\nAnd that way the record is kept,\nand we know that it's current, and\n\n321\n00:16:20.080 --> 00:16:23.230\nit's being used, or\nit's used full, all right.\n\n322\n00:16:23.230 --> 00:16:26.120\n&gt;&gt; Now Mike, I'm gonna make it joke here,\nand it might be funny or it might not be,\n\n323\n00:16:26.120 --> 00:16:29.840\nbut that sounds like some pretty\ndemanding administration.\n\n324\n00:16:29.840 --> 00:16:33.880\nBecause it says in this seven days,\ndon't even talk to me.\n\n325\n00:16:33.880 --> 00:16:36.050\nIn that last seven days,\nyou better talk to me.\n\n326\n00:16:36.050 --> 00:16:39.130\n&gt;&gt; You better talk to me, that's right,\notherwise you're gonna get removed.\n\n327\n00:16:39.130 --> 00:16:40.590\nThat's exactly right though.\n\n328\n00:16:40.590 --> 00:16:41.530\nSo let's go back on my screen,\n\n329\n00:16:41.530 --> 00:16:44.850\nso let's pretend the node,\nlet's say the node got blown away.\n\n330\n00:16:44.850 --> 00:16:47.780\nIt was a virtual machine I was using for\ntesting.\n\n331\n00:16:47.780 --> 00:16:50.510\nWell, during the first seven days\nit wasn't allowed to refresh,\n\n332\n00:16:50.510 --> 00:16:51.960\nwe just completely ignored it.\n\n333\n00:16:51.960 --> 00:16:54.420\nThe second seven days,\nI'm waiting for that refresh.\n\n334\n00:16:54.420 --> 00:16:57.550\nI'm the DNS server saying,\nI hope you refresh.\n\n335\n00:16:57.550 --> 00:17:00.280\nBut since the machine's gone,\nit's never going to.\n\n336\n00:17:00.280 --> 00:17:05.060\nSo what happens is a time stamp\nends up making it to 14 days old.\n\n337\n00:17:05.060 --> 00:17:09.510\nAnd at that point we tombstone the record,\nall right?\n\n338\n00:17:09.510 --> 00:17:16.260\nSo we'll just kind of, I still got black,\nwe'll do a little rest in peace.\n\n339\n00:17:16.260 --> 00:17:18.860\nI can't write with a mouse,\nso, you get the idea.\n\n340\n00:17:18.860 --> 00:17:23.610\nThat's going to be a gravestone, but\nthe idea is the record gets marked.\n\n341\n00:17:23.610 --> 00:17:28.280\nIt gets marked for deletion or\nwhat we call tombstoned, and now the next\n\n342\n00:17:28.280 --> 00:17:32.400\ntime the garbage collection process runs,\nit's gonna look at all the records, and\n\n343\n00:17:32.400 --> 00:17:34.720\nany that marked for\ndeletion it's gonna remove.\n\n344\n00:17:34.720 --> 00:17:37.750\nIt'll just go through the list, nope,\nnope, this one's marked, yank it out.\n\n345\n00:17:37.750 --> 00:17:40.140\nNope, nope, nope, this one's marked,\nyank it out, all right?\n\n346\n00:17:40.140 --> 00:17:41.780\nAnd that keeps our database clean.\n\n347\n00:17:41.780 --> 00:17:46.210\nAnything that's over 14 days and hasn't\nbeen refreshed, we're gonna get rid of it.\n\n348\n00:17:46.210 --> 00:17:48.528\n&gt;&gt; Now Mike, you know Picasso eat\nyour heart out with a tombstone.\n\n349\n00:17:48.528 --> 00:17:50.132\nBut joking aside, serious question though.\n\n350\n00:17:50.132 --> 00:17:54.850\nOnce it's on that list,\nwe're in danger of losing that record.\n\n351\n00:17:54.850 --> 00:17:56.050\nDo I understand that right?\n\n352\n00:17:56.050 --> 00:17:59.410\nBecause it seems up until that point,\nif you had to do manual,\n\n353\n00:17:59.410 --> 00:18:01.860\nan intervention on that, you could.\n\n354\n00:18:01.860 --> 00:18:04.850\nBut once it goes in that list you\nhave to worry about that record is\n\n355\n00:18:04.850 --> 00:18:06.150\njust gonna automatically be deleted.\n\n356\n00:18:06.150 --> 00:18:07.290\n&gt;&gt; Yeah, it's gonna be gone.\n\n357\n00:18:07.290 --> 00:18:11.660\nAnd the garbage collection process runs\nI wanna say it's every couple of hours,\n\n358\n00:18:11.660 --> 00:18:13.060\nI can't remember exactly.\n\n359\n00:18:14.400 --> 00:18:17.150\nSo, it's not like,\nI bring that machine back tomorrow.\n\n360\n00:18:17.150 --> 00:18:18.220\nIt's Day 16.\n\n361\n00:18:18.220 --> 00:18:21.090\nMaybe I can get it to refresh that record.\n\n362\n00:18:21.090 --> 00:18:24.075\nBut in the end it doesn't matter because,\nlet's say I do.\n\n363\n00:18:24.075 --> 00:18:27.405\nI shut that machine down for\nthree weeks, well in the meantime,\n\n364\n00:18:27.405 --> 00:18:28.465\nits records got removed.\n\n365\n00:18:28.465 --> 00:18:31.945\nWell, as soon as I turn it back on,\nit's gonna say, hey, I need to update.\n\n366\n00:18:31.945 --> 00:18:35.275\nWhat do you mean you don't have, okay,\nI need to create a new record for myself.\n\n367\n00:18:35.275 --> 00:18:37.175\nIt's all it's gonna do,\nis it's gonna make a new record.\n\n368\n00:18:37.175 --> 00:18:40.035\nIt's gonna start on day zero and\nit starts the cycle all over.\n\n369\n00:18:40.035 --> 00:18:41.845\nSo in the end, it's not a big deal.\n\n370\n00:18:41.845 --> 00:18:44.135\nI mean,\nI could accidentally delete a record and\n\n371\n00:18:44.135 --> 00:18:47.700\nI know that the client is eventually\ngoing to recreate that record up there.\n\n372\n00:18:47.700 --> 00:18:50.430\nSo it's not the end of the world,\nwe don't have to worry about my gosh,\n\n373\n00:18:50.430 --> 00:18:52.280\nwe're never gonna get that record back.\n\n374\n00:18:52.280 --> 00:18:54.867\n&gt;&gt; Speaking of records and\nwe talked about time, right.\n\n375\n00:18:54.867 --> 00:18:56.310\nEverything's about time here.\n\n376\n00:18:56.310 --> 00:19:00.560\nDo we have other characteristics of\nrecords that we have to worry about when\n\n377\n00:19:00.560 --> 00:19:01.800\nit comes to time?\n\n378\n00:19:01.800 --> 00:19:03.220\n&gt;&gt; We do and before we get there though,\n\n379\n00:19:03.220 --> 00:19:05.450\nI do want to go back one more\nsecond to aging and scavenging.\n\n380\n00:19:05.450 --> 00:19:06.960\nLet's just pull up my screen here.\n\n381\n00:19:06.960 --> 00:19:12.180\nSo, now you understand what these values\nmean, why would I change them, right?\n\n382\n00:19:12.180 --> 00:19:14.440\nWell, cuz you can see,\nit's meant to be changed.\n\n383\n00:19:14.440 --> 00:19:16.440\nThis is just the default.\n\n384\n00:19:16.440 --> 00:19:19.760\nAnd the idea here is in\na dynamic environment,\n\n385\n00:19:19.760 --> 00:19:21.690\nseven days is a long time to wait.\n\n386\n00:19:21.690 --> 00:19:25.250\nIt's a long time to have those\nstale records sitting there.\n\n387\n00:19:25.250 --> 00:19:27.430\nDNS is replicating every 15 minutes.\n\n388\n00:19:27.430 --> 00:19:29.600\nI'm replicating unnecessary information.\n\n389\n00:19:29.600 --> 00:19:33.890\nIn a relatively static environment,\nthis causes me no problems.\n\n390\n00:19:33.890 --> 00:19:37.770\nBut in a dynamic environment,\nwe might wanna speed this up a little bit.\n\n391\n00:19:37.770 --> 00:19:42.390\nWe might say,\nyou know what let's do three and\n\n392\n00:19:42.390 --> 00:19:44.570\nthree and\nthey don't have to be the same either.\n\n393\n00:19:44.570 --> 00:19:46.690\nI'm just doing that from habit.\n\n394\n00:19:47.820 --> 00:19:50.680\nThey don't have to be the same,\nso you can change those values,\n\n395\n00:19:50.680 --> 00:19:54.610\nyou can even change them to hours if\nyou want it to be really really fast.\n\n396\n00:19:54.610 --> 00:19:55.260\nNow let's take a look, so\n\n397\n00:19:55.260 --> 00:19:58.870\nI'm gonna set it at the zone level,\nI mean sorry at the server level.\n\n398\n00:20:00.260 --> 00:20:01.510\nHere's the option.\n\n399\n00:20:01.510 --> 00:20:04.830\nDo I wanna apply these settings to\nexisting Active Directory zones?\n\n400\n00:20:04.830 --> 00:20:09.255\nIf I don't check that and I click OK,\nand we go and create a new zone.\n\n401\n00:20:09.255 --> 00:20:11.020\nRight-click, New Zone.\n\n402\n00:20:11.020 --> 00:20:12.870\nAnd I just real quick run through here.\n\n403\n00:20:12.870 --> 00:20:15.510\nPrimary, blah, blah,\nblah, blah, call it ASDF.\n\n404\n00:20:16.690 --> 00:20:18.150\nYep, yep, yep, yep, yep.\n\n405\n00:20:18.150 --> 00:20:21.110\nAnd we look at the properties\nof this new zone I just created.\n\n406\n00:20:22.760 --> 00:20:24.060\nNow we go to Aging.\n\n407\n00:20:24.060 --> 00:20:27.250\nLook, it's already turned on and\nit's set 7 of 7.\n\n408\n00:20:27.250 --> 00:20:31.236\nIf we go to the properties of that zone\nthat was created before I enabled it.\n\n409\n00:20:34.638 --> 00:20:36.820\nNotice it's not turned on, all right?\n\n410\n00:20:36.820 --> 00:20:39.040\nSo that check mark would've\nallowed me to go back.\n\n411\n00:20:39.040 --> 00:20:42.730\nAnd let's say I already had 20 zones and\nthen I decide to turn this on.\n\n412\n00:20:42.730 --> 00:20:45.760\nI don't want to go to each zone and\nturn it on manually.\n\n413\n00:20:45.760 --> 00:20:48.410\nSo that's what that little check\nmark is at the end of the wizard.\n\n414\n00:20:48.410 --> 00:20:51.640\nThe other one I wanted to\nshow you is the primary zone.\n\n415\n00:20:51.640 --> 00:20:53.860\nSo let's create a new primary zone.\n\n416\n00:20:53.860 --> 00:20:56.750\nStandard primary,\nnot active directory integrated.\n\n417\n00:20:56.750 --> 00:20:59.630\nSo I'm going to uncheck\nactive directory integrated.\n\n418\n00:20:59.630 --> 00:21:03.380\nI'll call this one the reverse there.\n\n419\n00:21:03.380 --> 00:21:07.200\nMake a little file, we'll do secure and\nnon secure, Next and\n\n420\n00:21:07.200 --> 00:21:10.881\nFinish and I will take a look\nat the properties of that zone.\n\n421\n00:21:13.005 --> 00:21:15.680\nAnd notice it didn't get turned on,\nall right?\n\n422\n00:21:15.680 --> 00:21:19.190\nBecause remember,\nstandard primaries do not understand\n\n423\n00:21:19.190 --> 00:21:22.100\nto look at the server properties and\ninherit those.\n\n424\n00:21:22.100 --> 00:21:26.500\nStandard for zones have been around\nmuch longer than this DNS console, and\n\n425\n00:21:26.500 --> 00:21:27.560\nthey just don't understand it.\n\n426\n00:21:27.560 --> 00:21:29.880\nSo you do have to,\neven if you turn it on at the server,\n\n427\n00:21:29.880 --> 00:21:34.880\nyou have to manually turn it on,\non your standard zones.\n\n428\n00:21:36.100 --> 00:21:37.820\nAll right, next thing is TTL.\n\n429\n00:21:37.820 --> 00:21:41.590\nWes was gonna hit in there about\nsomething else that is time related.\n\n430\n00:21:41.590 --> 00:21:45.690\nAnd that is our TTL, or Time To Live.\n\n431\n00:21:45.690 --> 00:21:50.130\nIn order to understand that,\nwe really need to understand caching.\n\n432\n00:21:50.130 --> 00:21:51.966\nAnd so we'll briefly hit caching here,\n\n433\n00:21:51.966 --> 00:21:54.830\nwe're going to cover it again\nin another episode, I'm sure.\n\n434\n00:21:54.830 --> 00:22:02.540\nBut caching is storing or\ntemporarily storing information.\n\n435\n00:22:02.540 --> 00:22:03.640\nWhen you hear the word cache,\n\n436\n00:22:03.640 --> 00:22:08.440\nnot like the money, but\nC-A-C-H-E think temporary storage, right.\n\n437\n00:22:08.440 --> 00:22:13.410\nWe talk about cache memory and\nother things, as always temporary.\n\n438\n00:22:13.410 --> 00:22:16.219\nWell, when a DNS server gets a response,\n\n439\n00:22:16.219 --> 00:22:20.930\nlet's say that I type in\nwww.microsoft.com in my browser.\n\n440\n00:22:20.930 --> 00:22:25.330\nMy client sends a query to my\nDNS server here on my network\n\n441\n00:22:25.330 --> 00:22:27.820\nsays what's the IP\naddress of Microsoft.com?\n\n442\n00:22:27.820 --> 00:22:30.810\nHe doesn't know, so\nhe goes to the root and then the .com and\n\n443\n00:22:30.810 --> 00:22:35.090\nthen the Microsoft.com, and\nmy DNS server finally gets the answer, and\n\n444\n00:22:35.090 --> 00:22:39.600\nit gives the answer to my client, and\nmy browser opens up to www.microsoft.com.\n\n445\n00:22:39.600 --> 00:22:44.110\nBut the server, after he gave that\nanswer to me, he also cached the answer.\n\n446\n00:22:44.110 --> 00:22:45.440\nHe stored it.\n\n447\n00:22:45.440 --> 00:22:49.490\nThat way of Wes, two seconds later,\nalso opens up a browser and\n\n448\n00:22:49.490 --> 00:22:51.020\ngoes to Mircrosoft.com.\n\n449\n00:22:51.020 --> 00:22:53.200\nIt sends a query to my local DNS server.\n\n450\n00:22:53.200 --> 00:22:56.580\nMy DNS server says,\nI don't know I'll go out and wait.\n\n451\n00:22:56.580 --> 00:23:00.550\nI just got that answer from Mike,\nhasn't change in the last five seconds,\n\n452\n00:23:00.550 --> 00:23:02.560\nI'll just give that to you, right.\n\n453\n00:23:02.560 --> 00:23:05.780\nSo it speeds up the the process,\nthat's what caching is for.\n\n454\n00:23:05.780 --> 00:23:08.810\nNow how long does the server cache it for?\n\n455\n00:23:08.810 --> 00:23:12.670\nThat's determined by the TTL or\nthe time to live on the record.\n\n456\n00:23:12.670 --> 00:23:16.500\nWhen Microsoft's DNS server sent\nthe answer back to my DNS server,\n\n457\n00:23:16.500 --> 00:23:20.130\nincluded in the answer was the name and\nthe IP address of their web server and\n\n458\n00:23:20.130 --> 00:23:23.040\nit was also a TTL value, a time to live.\n\n459\n00:23:23.040 --> 00:23:26.750\nMy server will cache it for\nwhatever that TTL says.\n\n460\n00:23:26.750 --> 00:23:29.450\nOnce that TTL expires, it goes away.\n\n461\n00:23:29.450 --> 00:23:32.650\nWe're gonna throw that cache record\nout and if I open up a browser and\n\n462\n00:23:32.650 --> 00:23:36.150\ngo to Microsoft.com again, it's gonna have\nto go through the whole process all over\n\n463\n00:23:36.150 --> 00:23:39.370\nagain, but then when it gets\nthe answer it'll cash it.\n\n464\n00:23:39.370 --> 00:23:40.060\nYou might think why,\n\n465\n00:23:40.060 --> 00:23:42.550\nwhy do we throw it away if once\nonce you've cached it, keep it.\n\n466\n00:23:44.000 --> 00:23:48.000\nWell that'd be great until Microsoft\nchanges their IP address, right?\n\n467\n00:23:48.000 --> 00:23:50.100\nNow my cached entry is incorrect and\n\n468\n00:23:50.100 --> 00:23:53.800\nif I'm not ever gonna go look it up again,\nI'll never get the right one.\n\n469\n00:23:53.800 --> 00:23:55.430\nThe other one is load balancing.\n\n470\n00:23:55.430 --> 00:23:58.741\nMicrosoft doesn't want me hitting their\nsame web server every single time.\n\n471\n00:23:58.741 --> 00:24:03.037\nEvery time I hit DNS, they might rotate\nthrough the IP addresses because they have\n\n472\n00:24:03.037 --> 00:24:05.411\nseveral web servers to\nhandle the workload.\n\n473\n00:24:05.411 --> 00:24:08.630\nIf I cache one servers IP address,\nand let's just say for giggles,\n\n474\n00:24:08.630 --> 00:24:11.285\nmost of the people here cache\nthe same servers address,\n\n475\n00:24:11.285 --> 00:24:13.561\nthey're all gonna be\nhitting the same server.\n\n476\n00:24:13.561 --> 00:24:16.322\nThese other web servers are going to be,\nhey, I don't have anything to do,\n\n477\n00:24:16.322 --> 00:24:17.457\nI'll just twiddle my thumbs.\n\n478\n00:24:17.457 --> 00:24:20.875\nAnd that one server's going,\nhow come I'm getting all the work?\n\n479\n00:24:20.875 --> 00:24:23.589\nBecause we've cached a single entry.\n\n480\n00:24:23.589 --> 00:24:27.410\nSo TTL controls that.\n\n481\n00:24:27.410 --> 00:24:30.830\nThat is determined by the server\nthat has the information.\n\n482\n00:24:30.830 --> 00:24:35.060\nMicrosoft told my DNS server how\nlong to keep their information for.\n\n483\n00:24:35.060 --> 00:24:37.760\nWhen if I query for\nGoogle if I try to go to Google,\n\n484\n00:24:37.760 --> 00:24:40.900\nGoogle's DNS server is gonna tell me\nhow long to keep the information for.\n\n485\n00:24:40.900 --> 00:24:42.570\nAnd they might be completely different.\n\n486\n00:24:42.570 --> 00:24:45.270\nMicrosoft might say hey cache this for\nthree hours.\n\n487\n00:24:45.270 --> 00:24:47.520\nThat way my DNS server doesn't\nhave to hear from you.\n\n488\n00:24:47.520 --> 00:24:52.080\nYou can use that same IP for three hours,\nreduces the workload on my DNS server.\n\n489\n00:24:52.080 --> 00:24:54.505\nGoogle might say, hey,\ncache this for 15 seconds, right?\n\n490\n00:24:54.505 --> 00:24:56.200\nRight, why?\n\n491\n00:24:56.200 --> 00:24:58.480\nBecause they want you to get\nnew IP addresses every time and\n\n492\n00:24:58.480 --> 00:25:00.220\nnot use the same server over and over.\n\n493\n00:25:00.220 --> 00:25:01.600\nThey're okay with you querying again.\n\n494\n00:25:01.600 --> 00:25:03.790\nThey just do something\ncalled round robining,\n\n495\n00:25:03.790 --> 00:25:05.610\nwhich we might come back to in a second.\n\n496\n00:25:05.610 --> 00:25:06.840\nAlright.\n\n497\n00:25:06.840 --> 00:25:10.590\nSo TTL is set by the DNS server\nthat's providing the answer\n\n498\n00:25:10.590 --> 00:25:12.520\nnot the one that's getting the answer.\n\n499\n00:25:12.520 --> 00:25:14.720\nI don't decide how long to cache it for.\n\n500\n00:25:14.720 --> 00:25:19.890\nIf we look at my records in here\nthe TTL is actually on the SOA so\n\n501\n00:25:19.890 --> 00:25:24.350\nwhen I pull up the properties\nof my zone and\n\n502\n00:25:24.350 --> 00:25:32.260\nI take a look at the advanced\nview which is not on here.\n\n503\n00:25:32.260 --> 00:25:35.220\nWait, sorry the SOA.\n\n504\n00:25:35.220 --> 00:25:36.208\nBrain cramp for a second.\n\n505\n00:25:36.208 --> 00:25:39.927\nOn the SOA tab I can see the TTL.\n\n506\n00:25:39.927 --> 00:25:40.572\nRight down here.\n\n507\n00:25:40.572 --> 00:25:42.841\nTTL for this record is one hour.\n\n508\n00:25:42.841 --> 00:25:46.417\nThat's days, hours,\nminutes, seconds, all right.\n\n509\n00:25:46.417 --> 00:25:53.910\nThe TTL for the SOA determines the TTL for\nall the records in this zone, all right.\n\n510\n00:25:53.910 --> 00:25:55.970\nSo it becomes the default for all records.\n\n511\n00:25:55.970 --> 00:26:01.730\nIf I change the TTL at the SOA new\nrecords will get that new TTL.\n\n512\n00:26:01.730 --> 00:26:04.350\nThe old records will not,\nit does not update them.\n\n513\n00:26:04.350 --> 00:26:07.170\nBut any new records will\npick up that new TTL value.\n\n514\n00:26:07.170 --> 00:26:10.320\n&gt;&gt; Is this gonna be, or does it have\nto be a global configuration or\n\n515\n00:26:10.320 --> 00:26:13.200\ncan we get granular and do this on\nan individual record there Mike?\n\n516\n00:26:13.200 --> 00:26:16.310\n&gt;&gt; That's a great question because I\nmight want to really rotate through some\n\n517\n00:26:16.310 --> 00:26:21.250\nrecords fast but others I'd rather\nbe static like my exchange server.\n\n518\n00:26:21.250 --> 00:26:23.900\nThere's only one IP address so\nI want you to keep that and\n\n519\n00:26:23.900 --> 00:26:26.650\ndon't ask every five minutes because\nthe IP address isn't gonna change.\n\n520\n00:26:26.650 --> 00:26:29.440\nSo maybe I want you to keep that\nrecord a little bit longer.\n\n521\n00:26:29.440 --> 00:26:32.734\nBut the web server records I want you\nto only keep them for a few seconds and\n\n522\n00:26:32.734 --> 00:26:33.986\nthen throw them out right?\n\n523\n00:26:33.986 --> 00:26:37.793\nSo we can change the TTL on\nthe individual records as well.\n\n524\n00:26:37.793 --> 00:26:40.049\nIf I pull up the properties\nof one of these records.\n\n525\n00:26:41.190 --> 00:26:41.860\nAll right?\n\n526\n00:26:41.860 --> 00:26:44.340\nWe won't see the TTL.\n\n527\n00:26:44.340 --> 00:26:45.510\nMike, you're lying to me.\n\n528\n00:26:45.510 --> 00:26:48.840\nYou can't change the TTL\non an individual record.\n\n529\n00:26:48.840 --> 00:26:49.760\nYes, you can.\n\n530\n00:26:49.760 --> 00:26:53.340\nWhat you have to do is turn\non your advanced view.\n\n531\n00:26:53.340 --> 00:26:56.000\nWe go to the view menu on our DNS console.\n\n532\n00:26:56.000 --> 00:26:57.630\nWe choose advanced.\n\n533\n00:26:57.630 --> 00:27:00.282\nThen we pull up the same\nrecords properties.\n\n534\n00:27:00.282 --> 00:27:02.876\nAnd look at there, we got a TTL.\n\n535\n00:27:02.876 --> 00:27:05.790\nNotice it's one hour, all right.\n\n536\n00:27:05.790 --> 00:27:12.240\nIf I change the SOA TTL, so\nwe'll go to properties and\n\n537\n00:27:12.240 --> 00:27:20.130\nwe'll change the SOA TTL to two hours and\nI'll apply it.\n\n538\n00:27:20.130 --> 00:27:22.010\nWe go look at that record again.\n\n539\n00:27:22.010 --> 00:27:23.080\nIt's still sitting at one hour.\n\n540\n00:27:24.090 --> 00:27:26.621\nBut if I make a new record.\n\n541\n00:27:26.621 --> 00:27:29.056\nNew host, we'll call it test.\n\n542\n00:27:29.056 --> 00:27:34.540\nIP address,\n10.0.100 dot some other random number.\n\n543\n00:27:34.540 --> 00:27:37.480\nAnd we click add host,\nalthough it did see one there.\n\n544\n00:27:37.480 --> 00:27:39.110\nLet's see if it picks it up.\n\n545\n00:27:39.110 --> 00:27:39.897\nIt should pick it up.\n\n546\n00:27:42.495 --> 00:27:43.950\nBut it did not.\n\n547\n00:27:43.950 --> 00:27:48.280\nFor dynamically created records, if a\nclient was to call up and create a record,\n\n548\n00:27:48.280 --> 00:27:51.440\nthat would pick up the TTL from the SOA.\n\n549\n00:27:51.440 --> 00:27:54.010\nIf I'm manually creating it,\nevidently Microsoft says, hey,\n\n550\n00:27:54.010 --> 00:27:56.660\nyou're a big boy,\nyou can set the TTL yourself.\n\n551\n00:27:56.660 --> 00:28:01.204\nSo [LAUGH] only dynamically created\nrecords are gonna pick up that new default\n\n552\n00:28:01.204 --> 00:28:02.490\nTTL, all right?\n\n553\n00:28:02.490 --> 00:28:03.600\nSo just know for the exam.\n\n554\n00:28:03.600 --> 00:28:04.700\nKnow what the TTL is.\n\n555\n00:28:04.700 --> 00:28:08.000\nIt controls how long people\nare gonna cache the record for.\n\n556\n00:28:08.000 --> 00:28:10.160\nAnd then I can change it at the SOA for\n\n557\n00:28:10.160 --> 00:28:14.755\nall records, new records, new dynamically\ncreative records, not statics.\n\n558\n00:28:14.755 --> 00:28:18.985\nAnd you change on individual records\nif you turn on the advanced view.\n\n559\n00:28:18.985 --> 00:28:21.745\n&gt;&gt; Now Mike,\nI know we got a few more things to go\n\n560\n00:28:21.745 --> 00:28:25.805\nthrough in here because well you\nknow DNS is a very big topic but\n\n561\n00:28:25.805 --> 00:28:28.625\nI know that we're stretching the envelopes\nof that time clock over there.\n\n562\n00:28:28.625 --> 00:28:33.525\nSo, looks like we might have to go another\npart here but before we've signed out do\n\n563\n00:28:33.525 --> 00:28:36.170\nwe have any additional things\nyou'd like to throw on this one.\n\n564\n00:28:36.170 --> 00:28:38.040\n&gt;&gt; No.\nBecause I'm running out of time.\n\n565\n00:28:38.040 --> 00:28:40.540\nI have too much to say, though.\n\n566\n00:28:40.540 --> 00:28:43.200\nWe do have a few more things I\nwanna go over but I'll save it for\n\n567\n00:28:43.200 --> 00:28:44.320\nthe next episode.\n\n568\n00:28:44.320 --> 00:28:44.920\n&gt;&gt; Well that's great.\n\n569\n00:28:44.920 --> 00:28:46.670\nThis looks like it's\ngood place to wrap up.\n\n570\n00:28:46.670 --> 00:28:50.058\nMike, we do appreciate you imparting\nall of this wisdom to us but\n\n571\n00:28:50.058 --> 00:28:52.870\nwe're gonna go ahead and\nsign out for ITProTV.\n\n572\n00:28:52.870 --> 00:28:54.270\nI've been your host, Wes Bryan.\n\n573\n00:28:54.270 --> 00:28:55.110\n&gt;&gt; And I'm Mike Rodrick.\n\n574\n00:28:55.110 --> 00:28:56.865\n&gt;&gt; We'll see you next time.\n\n575\n00:28:56.865 --> 00:29:02.897\n[MUSIC]\n\n576\n00:29:02.897 --> 00:29:05.980\nThank you for watching IT Pro TV.\n\n",
          "vimeoId": "193555845"
        },
        {
          "description": "In this episode, Wes and Mike continue their exploration of DNS zones and records. They dive into record weight and priority on records. They will discuss what a round robin is and the benefits of DNS server rotation and pulling information about the DNS zone through auditing and analytical logs.",
          "length": "1370",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-4-dns_zones_and_records_pt4-111716.00_23_10_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-4-dns_zones_and_records_pt4-111716.00_23_10_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-1-2-4-dns_zones_and_records_pt4-111716.00_23_10_12.Still001-sm.jpg",
          "title": "DNS Zones and Records Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.090 --> 00:00:02.477\nWelcome to ITProTV,\nI'm your host Don Pizet.\n\n2\n00:00:02.477 --> 00:00:06.372\n[CROSSTALK]\n\n3\n00:00:06.372 --> 00:00:08.325\n[MUSIC]\n\n4\n00:00:08.325 --> 00:00:11.982\n&gt;&gt; You're watching ITProTV.\n&gt;&gt; Welcome back to another exciting\n\n5\n00:00:11.982 --> 00:00:15.340\nepisode here at ITProTV.\n\n6\n00:00:15.340 --> 00:00:17.320\nI'm your host, Wes Bryan,\nand today's episode,\n\n7\n00:00:17.320 --> 00:00:21.070\nwe're continuing through our\nnetworking with Windows Server 2016.\n\n8\n00:00:21.070 --> 00:00:25.430\nWe're coming back with a part four on DNS,\nand now, like I said in the last one,\n\n9\n00:00:25.430 --> 00:00:30.300\nyou can see how important DNS is gonna be,\nnot only to your entire environment, but\n\n10\n00:00:30.300 --> 00:00:31.060\nto this exam.\n\n11\n00:00:31.060 --> 00:00:34.190\nAnd joining us back in the studio is\nnone other than Mr. Mike Roderick.\n\n12\n00:00:34.190 --> 00:00:35.065\nMike, how are you doing sir?\n\n13\n00:00:35.065 --> 00:00:38.804\n&gt;&gt; Doing great, gonna try to wrap\nup DNS on this one, I promise.\n\n14\n00:00:38.804 --> 00:00:41.172\nOr not, I mean it is a fun topic.\n\n15\n00:00:41.172 --> 00:00:42.091\nIsn't it?\n\n16\n00:00:42.091 --> 00:00:44.666\nAll right, so,\nwe left off in that previous episode.\n\n17\n00:00:44.666 --> 00:00:47.940\nWe were talking about TTL,\nor time to live.\n\n18\n00:00:47.940 --> 00:00:51.520\nAnd I told you we had to turn on\nthat advanced view to see it, and\n\n19\n00:00:51.520 --> 00:00:55.620\nthat it was determined by the server\nthat's providing the answer,\n\n20\n00:00:55.620 --> 00:00:57.260\nnot the one that's asking the question.\n\n21\n00:00:57.260 --> 00:01:00.700\nSo, I get told my DNS server gets told by,\nsay,\n\n22\n00:01:00.700 --> 00:01:03.180\nMicrosoft, how long to\ncache that record for?\n\n23\n00:01:03.180 --> 00:01:04.900\nOr if people are talking to my DNS server,\n\n24\n00:01:04.900 --> 00:01:08.400\nmy server tells them how\nlong to cache the response.\n\n25\n00:01:08.400 --> 00:01:10.270\nOr it shows you where to set that.\n\n26\n00:01:10.270 --> 00:01:13.490\nAnother thing that they call out on\nthe exam when it comes to modifying record\n\n27\n00:01:13.490 --> 00:01:16.480\nproperties is weight, all right?\n\n28\n00:01:16.480 --> 00:01:19.910\nWhen we talk about weight, really,\nthe only one that I know of that really\n\n29\n00:01:19.910 --> 00:01:23.810\nuses weight is the MX record is\nthe one that pops into mind.\n\n30\n00:01:23.810 --> 00:01:29.220\nBut with mail server records or\nMX records, we can set a priority.\n\n31\n00:01:29.220 --> 00:01:32.040\nThey didn't call it weight,\nwhich is always interesting to me.\n\n32\n00:01:32.040 --> 00:01:35.506\nWe just set a priority, so\nlet's take a look at what I mean by that.\n\n33\n00:01:35.506 --> 00:01:38.003\nSimply going to right-click on my zone.\n\n34\n00:01:38.003 --> 00:01:42.160\nAnd I'm gonna choose New Mail Exchange or\nMS Record.\n\n35\n00:01:42.160 --> 00:01:44.310\nAnd I'll leave this blank.\n\n36\n00:01:44.310 --> 00:01:45.457\nWe're not gonna get into exchange.\n\n37\n00:01:45.457 --> 00:01:50.286\nThat's a whole another topic that we don't\nhave time to get into as much time as I\n\n38\n00:01:50.286 --> 00:01:51.163\nspent on DNS.\n\n39\n00:01:51.163 --> 00:01:54.400\nSo, as far as how we fill this out,\nnot gonna get into that.\n\n40\n00:01:54.400 --> 00:01:57.320\nBut what I do wanna talk about\nit is this priority down here.\n\n41\n00:01:57.320 --> 00:02:00.920\nThis is how we can set\nweight on these records.\n\n42\n00:02:00.920 --> 00:02:03.630\nRight, the priority is a number.\n\n43\n00:02:03.630 --> 00:02:06.254\nI wanna say it goes to 65,000.\n\n44\n00:02:06.254 --> 00:02:08.760\nDon't quote me on that,\nnot super important.\n\n45\n00:02:08.760 --> 00:02:10.620\nDoubtful you're ever\ngonna get to that number.\n\n46\n00:02:10.620 --> 00:02:14.560\nBut what it is, the lower the number,\nthe higher the priority.\n\n47\n00:02:14.560 --> 00:02:18.394\nSo, a 10 has a higher priority than 20.\n\n48\n00:02:18.394 --> 00:02:22.344\nWhat we can do with this is if we have\nmultiple mailbox servers, and I want to\n\n49\n00:02:22.344 --> 00:02:27.120\nprioritize one over the other, we simply\nput a mail server priority on here.\n\n50\n00:02:27.120 --> 00:02:30.554\nAnd so, if I give one of them a ten,\none of them a 20, it's always gonna try\n\n51\n00:02:30.554 --> 00:02:33.511\nto deliver the mail to the mailbox\nserver with the lowest number,\n\n52\n00:02:33.511 --> 00:02:35.759\nhighest priority,\nthe one with the 10 first.\n\n53\n00:02:35.759 --> 00:02:39.304\nThat was unavailable,\nthen it can bump over and hit 20.\n\n54\n00:02:39.304 --> 00:02:42.035\nNow, there is no checking\nof these numbers.\n\n55\n00:02:42.035 --> 00:02:46.710\nIt's not gonna tell you if I go to another\nrecord, and I assign it a priority of ten.\n\n56\n00:02:46.710 --> 00:02:51.700\nIt's not gonna say, hey, you've already\nused ten, and you can go to one as well.\n\n57\n00:02:51.700 --> 00:02:54.250\nSo, one through 65,000,\nor something like that.\n\n58\n00:02:54.250 --> 00:02:58.820\nIf you have two servers with same\npriority, it just picks one randomly.\n\n59\n00:02:58.820 --> 00:03:01.790\nIt has no way of knowing which one,\nand you might do that intentionally,\n\n60\n00:03:01.790 --> 00:03:03.960\nyou might have two servers\nthat are about the same, and\n\n61\n00:03:03.960 --> 00:03:06.880\nyou don't care which one gets used,\nso you set up both to ten.\n\n62\n00:03:06.880 --> 00:03:09.830\nYou've got a third server that you want\nto be used primarily as a back up for\n\n63\n00:03:09.830 --> 00:03:12.430\nyour mail server,\nbecause it's doing other things, and\n\n64\n00:03:12.430 --> 00:03:13.808\nit doesn't have a lot of power.\n\n65\n00:03:13.808 --> 00:03:15.970\nMaybe I set that one to a 30, so that way,\n\n66\n00:03:15.970 --> 00:03:18.930\nit'll hit one of those two first,\nthat have a ten.\n\n67\n00:03:18.930 --> 00:03:21.320\nOnly if both of those don't respond,\n\n68\n00:03:21.320 --> 00:03:23.890\nthen we go to the one with\nthe priority over 30, right?\n\n69\n00:03:23.890 --> 00:03:27.610\nSo, another thing that I can\nset on my resource records.\n\n70\n00:03:27.610 --> 00:03:29.360\n&gt;&gt; Now Mike, I have a question.\n\n71\n00:03:29.360 --> 00:03:32.780\nYou mentioned some pretty amazing\nstatistics about DNS, and\n\n72\n00:03:32.780 --> 00:03:34.860\nhow the performance of\na server really works.\n\n73\n00:03:34.860 --> 00:03:36.405\nLet me see if I can remember it.\n\n74\n00:03:36.405 --> 00:03:43.740\n260,000 queries per second and millions\nof records in a very small subset of RAM.\n\n75\n00:03:43.740 --> 00:03:48.330\nNow, it performs really well,\nbut in larger scenarios, is there\n\n76\n00:03:48.330 --> 00:03:52.920\na technique that we can use if maybe we\ndon't want to hit a single DNS server?\n\n77\n00:03:52.920 --> 00:03:55.460\nAlmost analogous to the mail\nserver that you did?\n\n78\n00:03:55.460 --> 00:04:00.252\n&gt;&gt; Sorta, kinda, but I think you're,\nwhat's a good way to say this?\n\n79\n00:04:00.252 --> 00:04:02.600\nIt's not so much that we want\nto use different DNS servers,\n\n80\n00:04:02.600 --> 00:04:05.400\ncuz as you said,\nthey perform incredibly well.\n\n81\n00:04:05.400 --> 00:04:07.270\nYou have to hammer this thing.\n\n82\n00:04:07.270 --> 00:04:12.450\nMost organizations don't need\nmore than two DNS servers.\n\n83\n00:04:12.450 --> 00:04:15.530\nOne and then a back up, just in case\nsomething goes wrong with the one.\n\n84\n00:04:15.530 --> 00:04:16.870\nWe'll have more than that, but\n\n85\n00:04:16.870 --> 00:04:21.250\nprimarily for performance as far\nas geographical distribution.\n\n86\n00:04:21.250 --> 00:04:24.540\nI've got an office here, and\nI've got an office out in Los Angeles.\n\n87\n00:04:24.540 --> 00:04:29.150\nI don't need those clients in LA going\nacross the land back here to Florida\n\n88\n00:04:29.150 --> 00:04:30.150\nto hit the DNS service.\n\n89\n00:04:30.150 --> 00:04:31.620\nI'm gonna put another one out there.\n\n90\n00:04:31.620 --> 00:04:33.980\nEven though the one here could\ndefinitely handle the workload for\n\n91\n00:04:33.980 --> 00:04:38.490\nalmost all of my offices, but what you're\ntalking about, I think, is round-robining.\n\n92\n00:04:38.490 --> 00:04:40.620\nAnd this is a way not so much for DNS,\n\n93\n00:04:40.620 --> 00:04:45.180\nbut it's a way to use DNS to do\na poor man's load balancing, right?\n\n94\n00:04:45.180 --> 00:04:46.780\nI've got web servers.\n\n95\n00:04:46.780 --> 00:04:48.490\nI've got a web application.\n\n96\n00:04:48.490 --> 00:04:52.060\nI've got a store front\nthat I host on a website.\n\n97\n00:04:52.060 --> 00:04:54.600\nAnd that's where people come and\nbuy my widgets.\n\n98\n00:04:54.600 --> 00:04:56.330\nWell, one server wasn't enough.\n\n99\n00:04:56.330 --> 00:04:58.959\nBecause it was getting overloaded,\nmy widgets really took off.\n\n100\n00:04:58.959 --> 00:05:02.083\nAnd everybody wants a widget now,\nthey come to my site, and\n\n101\n00:05:02.083 --> 00:05:04.155\nthey're complaining cuz it's slow.\n\n102\n00:05:04.155 --> 00:05:07.870\nBecause there's so many people trying to\ngive me their credit card information.\n\n103\n00:05:07.870 --> 00:05:11.770\nSo, I get a second or a third web server,\nand I set them up, and\n\n104\n00:05:11.770 --> 00:05:15.260\nnow I've got three web servers\nall hosting the same site.\n\n105\n00:05:15.260 --> 00:05:19.840\nHow do I split the workload between\nthose three web servers, all right?\n\n106\n00:05:19.840 --> 00:05:22.870\nHow do I make sure that each one's\ndoing about a third of the work?\n\n107\n00:05:22.870 --> 00:05:25.220\nWell, I wanna do it for real.\n\n108\n00:05:25.220 --> 00:05:27.850\nI go out and I buy a load balancer,\n\n109\n00:05:27.850 --> 00:05:31.440\nnot a hardware device that I set in\nthere that takes care of this for me.\n\n110\n00:05:31.440 --> 00:05:35.708\nIt redirects them equally across all\nthree, as those requests come in.\n\n111\n00:05:35.708 --> 00:05:39.467\nBut a poor man's load balancer,\nor another way to do it, and\n\n112\n00:05:39.467 --> 00:05:44.520\nit works with other technologies as well,\nis to do round-robining within DNS.\n\n113\n00:05:44.520 --> 00:05:48.449\nAnd that simply means I'm\ngonna take the same name and\n\n114\n00:05:48.449 --> 00:05:51.604\npoint it to three different IP addresses.\n\n115\n00:05:51.604 --> 00:05:56.773\nSo, www could point to a 10.0.100.5.\n\n116\n00:05:56.773 --> 00:06:00.591\nAnother record for www, 10.0.100.6,\n\n117\n00:06:00.591 --> 00:06:04.596\nanother record for 10.0.100.7, right?\n\n118\n00:06:04.596 --> 00:06:05.852\nAnd they don't have to be sequential.\n\n119\n00:06:05.852 --> 00:06:08.790\nI'm just doing that because\nthat's the way my brain works.\n\n120\n00:06:08.790 --> 00:06:13.760\nThen what happens,\nwhen you query DNS for a name, if there\n\n121\n00:06:13.760 --> 00:06:17.820\nis more than one answer for that name,\nit always just gives you all the answers.\n\n122\n00:06:17.820 --> 00:06:20.780\nIt says here, there's three different\ntests, here's all their IP addresses,\n\n123\n00:06:20.780 --> 00:06:22.850\nyou figure out which one you wanna use.\n\n124\n00:06:22.850 --> 00:06:25.640\nWell, it orders that list, right?\n\n125\n00:06:25.640 --> 00:06:30.148\nAnd what round-robining tells DNS to do\nis say hey, do this, when you respond,\n\n126\n00:06:30.148 --> 00:06:34.083\ngive them the list in a certain order,\nlet's say five, six, seven.\n\n127\n00:06:34.083 --> 00:06:37.006\nThe next time somebody asks, switch it up.\n\n128\n00:06:37.006 --> 00:06:39.209\nGo six, seven, five.\n\n129\n00:06:39.209 --> 00:06:42.259\nThe next time go seven, five, six, right?\n\n130\n00:06:42.259 --> 00:06:44.640\nSo in other words, the one on the top,\nthe one that was first.\n\n131\n00:06:44.640 --> 00:06:49.225\nCuz when a client receives more than\none IP address, he doesn't care, right?\n\n132\n00:06:49.225 --> 00:06:52.595\nHey, if all three of these IP\naddresses point back to www,\n\n133\n00:06:52.595 --> 00:06:54.800\nit's fine, that's great.\n\n134\n00:06:54.800 --> 00:06:57.025\nIt's just going to use\nthe first one in the list.\n\n135\n00:06:57.025 --> 00:07:00.175\nOnly if that first one doesn't respond,\nis it going to move to second one.\n\n136\n00:07:00.175 --> 00:07:03.815\nSo, by just giving them three answers,\nit's still going to use the first one in\n\n137\n00:07:03.815 --> 00:07:05.757\nthe list, that's always going to\nbe the same first one in the list,\n\n138\n00:07:05.757 --> 00:07:09.430\ncuz it's pulling him out of the zone\nfile in the order that it finds them.\n\n139\n00:07:09.430 --> 00:07:11.550\nIf I turn on round-robbining,\n\n140\n00:07:11.550 --> 00:07:13.890\nit's gonna switch up the order\nthat it gives the client.\n\n141\n00:07:13.890 --> 00:07:17.100\nWhen it gives them the answer,\nit's gonna change the order.\n\n142\n00:07:17.100 --> 00:07:18.810\nThat way the client's not always using,\n\n143\n00:07:18.810 --> 00:07:22.110\nit's still using the first one on\nthe list, but the list is rearranged.\n\n144\n00:07:22.110 --> 00:07:25.070\nSo now, you're not getting\nthat same server every time.\n\n145\n00:07:25.070 --> 00:07:26.240\n&gt;&gt; I just had a light bulb moment.\n\n146\n00:07:26.240 --> 00:07:28.240\nI was putting the carriage\nright in front of the horse.\n\n147\n00:07:28.240 --> 00:07:30.910\nSo, it's not about helping the DNS server,\n\n148\n00:07:30.910 --> 00:07:35.150\nas it is more about differentiating\nwhich response comes back,\n\n149\n00:07:35.150 --> 00:07:38.330\nin the case where you said,\nmaybe it's geographical distribution,\n\n150\n00:07:38.330 --> 00:07:42.080\ncould be a single area with multiple web\nservers in order to put load balancing.\n\n151\n00:07:42.080 --> 00:07:45.460\nSo, I was putting the DNS server,\nthinking of DNS instead,\n\n152\n00:07:45.460 --> 00:07:46.950\nwhen I should have been\nthinking about the response.\n\n153\n00:07:46.950 --> 00:07:48.563\n&gt;&gt; Exactly, right, and easy to do.\n\n154\n00:07:48.563 --> 00:07:52.449\nSo, we're using DNS to perform the load\nbalancing for some other servers, and\n\n155\n00:07:52.449 --> 00:07:56.567\nit could be Gosh, clusters, right, you\ncould have three different clusters and\n\n156\n00:07:56.567 --> 00:07:59.190\nyou'll wanna load balance\nbetween those clusters.\n\n157\n00:07:59.190 --> 00:08:01.948\nYou take the virtual IP\naddress of your clusters and\n\n158\n00:08:01.948 --> 00:08:05.862\nyou make records same name but\npoint to the three different addresses and\n\n159\n00:08:05.862 --> 00:08:08.060\nthen you can load balance between them.\n\n160\n00:08:08.060 --> 00:08:12.277\nSo it works with anything, it doesn't have\nto be web, it's just a very common use for\n\n161\n00:08:12.277 --> 00:08:16.860\nit, or some technology that maybe doesn't\nsupport load balancing any other way.\n\n162\n00:08:16.860 --> 00:08:19.295\nThis is a way you could do load balancing.\n\n163\n00:08:19.295 --> 00:08:20.030\nLet's test it.\n\n164\n00:08:20.030 --> 00:08:22.480\nWe could actually do\na pretty cool example and\n\n165\n00:08:22.480 --> 00:08:25.920\nshow you how it's working or\nprove to you that it's working, all right?\n\n166\n00:08:25.920 --> 00:08:27.662\nI'm gonna create a couple\nnew records in here.\n\n167\n00:08:27.662 --> 00:08:33.410\nI'm gonna say new record, and\nI'm gonna call this RR test.\n\n168\n00:08:34.480 --> 00:08:35.703\nFor a round robin test.\n\n169\n00:08:35.703 --> 00:08:40.002\nAnd I'll give you an IP address 10.0.100.\n\n170\n00:08:40.002 --> 00:08:44.386\nI don't know we'll do 6.\n\n171\n00:08:44.386 --> 00:08:47.776\nAnd then I'll do the same thing,\nrrtest that has to be the same name,\n\n172\n00:08:47.776 --> 00:08:51.991\notherwise when it returns the results,\nit wouldn't give all three of them, right?\n\n173\n00:08:51.991 --> 00:08:55.109\nIt has to be the exact same name 10.0.100.\n\n174\n00:08:55.109 --> 00:08:56.219\nWhat did I say?\n\n175\n00:08:56.219 --> 00:08:59.149\n6 so this one will be 7.\n\n176\n00:08:59.149 --> 00:09:02.907\nAnd then we'll do rr test and\n\n177\n00:09:02.907 --> 00:09:07.450\n10.0.100.8 now we'll\n\n178\n00:09:07.450 --> 00:09:12.370\nclick add host, and OK and done.\n\n179\n00:09:12.370 --> 00:09:16.900\nAnd so now when I look in zone, actually\nhave three records with the exact same\n\n180\n00:09:16.900 --> 00:09:19.890\nname pointing to three\ndifferent IP addresses.\n\n181\n00:09:21.830 --> 00:09:24.140\nNow, where do I turn on round-robining?\n\n182\n00:09:24.140 --> 00:09:28.906\nThat's gonna be done on\nthe properties of the dns servers.\n\n183\n00:09:28.906 --> 00:09:33.680\nSo I'm gonna right click on my\ndns server and choose properties.\n\n184\n00:09:33.680 --> 00:09:35.498\nAnd then I'm gonna do the advance tab.\n\n185\n00:09:35.498 --> 00:09:41.143\nAnd you'll see the round robinning is\nactually enabled by default in 2016 DNS.\n\n186\n00:09:41.143 --> 00:09:45.030\nSo, as soon as it says, hey there's\nmore than one record with the same name.\n\n187\n00:09:45.030 --> 00:09:46.740\nI'll in turn give you all of them.\n\n188\n00:09:46.740 --> 00:09:49.900\nIt's gonna automatically rotate\nthe list if you query again.\n\n189\n00:09:49.900 --> 00:09:50.990\nAnd so I'll cancel that,\n\n190\n00:09:50.990 --> 00:09:55.620\nto show you where to turn that on,\nnow let's prove it to ourselves.\n\n191\n00:09:55.620 --> 00:09:58.060\nI'm going to use ns lookup.\n\n192\n00:09:59.410 --> 00:10:03.060\nAnd we'll do, what did I call it, rrTest.\n\n193\n00:10:05.050 --> 00:10:06.780\nAnd notice I get three records back.\n\n194\n00:10:06.780 --> 00:10:10.007\n7, 6, 8 is the order, can you see that?\n\n195\n00:10:10.007 --> 00:10:12.480\nI can run the same command again.\n\n196\n00:10:12.480 --> 00:10:16.176\nNotice it's 687, so\nthe one that was on the top, 7,\n\n197\n00:10:16.176 --> 00:10:18.335\nis now on the bottom, all right?\n\n198\n00:10:18.335 --> 00:10:19.580\n6 is now on the top.\n\n199\n00:10:19.580 --> 00:10:24.857\nIf I run it again, 6 is now on the bottom\nand 8 moved up from second to first.\n\n200\n00:10:24.857 --> 00:10:28.110\nIf I run it again, it's back to 7, right?\n\n201\n00:10:28.110 --> 00:10:31.390\nSo it just keeps rotating\nthrough that list every time.\n\n202\n00:10:31.390 --> 00:10:34.204\nNow it's not perfect\nload balancing all right?\n\n203\n00:10:34.204 --> 00:10:38.137\nBecause I might hit that server and\nget the answer 100.6.\n\n204\n00:10:38.137 --> 00:10:42.124\nThen two other people, in the meantime,\nquery for that same name and\n\n205\n00:10:42.124 --> 00:10:44.040\nthey get seven and eight.\n\n206\n00:10:44.040 --> 00:10:46.960\nI query again, I get six again, right?\n\n207\n00:10:46.960 --> 00:10:48.200\nThat's the same one I hit last time.\n\n208\n00:10:48.200 --> 00:10:49.466\nWhere's my load balancing?\n\n209\n00:10:49.466 --> 00:10:51.640\nAll right, so\nit's not perfect load balancing.\n\n210\n00:10:51.640 --> 00:10:54.020\nIt's not looking at the actual workload.\n\n211\n00:10:54.020 --> 00:10:57.080\nThe guy, I got six,\nthe next person got seven.\n\n212\n00:10:57.080 --> 00:10:58.420\nBut he might not have actually connected.\n\n213\n00:10:58.420 --> 00:10:59.800\nHe might've opened up the webpage and\ngo you know what?\n\n214\n00:10:59.800 --> 00:11:00.950\nI didn't wanna order anything.\n\n215\n00:11:00.950 --> 00:11:03.990\nSecond person says I opened up\nthe webpage, I don't wanna order anything.\n\n216\n00:11:03.990 --> 00:11:08.580\nThird person, is back to the first answer,\nand he does decide to order something,\n\n217\n00:11:08.580 --> 00:11:11.440\nso both people that are ordering,\nare using the same IP address, or\n\n218\n00:11:11.440 --> 00:11:12.610\nhitting the same server.\n\n219\n00:11:12.610 --> 00:11:14.150\nThe other two are sitting there idle.\n\n220\n00:11:14.150 --> 00:11:17.020\nCuz it doesn't know that\nthe connection was maintained or\n\n221\n00:11:17.020 --> 00:11:20.170\nnot looking at how busy the server is or\nanything like that.\n\n222\n00:11:20.170 --> 00:11:24.860\nThat's true load balancing that require\nspecial hardware or software to do.\n\n223\n00:11:24.860 --> 00:11:31.030\nBut DNS lets me to do like I like to\ncall it the poor man's load balancing.\n\n224\n00:11:31.030 --> 00:11:36.551\nAll right, so cool little example of how\nyou can see it in action using NSLookup.\n\n225\n00:11:36.551 --> 00:11:40.380\nAll right, secure dynamic updates,\nwe've already talked about that.\n\n226\n00:11:40.380 --> 00:11:44.390\nWe talked about how I can only\nif it's a standard primary\n\n227\n00:11:44.390 --> 00:11:49.090\nI can choose the option secure and\nnon-secure.\n\n228\n00:11:49.090 --> 00:11:53.590\nIf I'm doing an active directory\nintegrated I can do secure only updates.\n\n229\n00:11:53.590 --> 00:11:57.468\nAnd remember dynamic update is when\na node calls up DNS and says, hey,\n\n230\n00:11:57.468 --> 00:12:00.972\nhere's my name, here's my IP address,\nmake a record for me.\n\n231\n00:12:00.972 --> 00:12:03.502\nSo the admin doesn't have to go and\nright-click new record for\n\n232\n00:12:03.502 --> 00:12:05.170\nevery computer on the network.\n\n233\n00:12:05.170 --> 00:12:06.410\nIt's a dynamic update.\n\n234\n00:12:06.410 --> 00:12:09.360\nSecure means they have\nto be authenticated.\n\n235\n00:12:09.360 --> 00:12:13.760\nWhen you allow secure dynamic updates\non the DNS server's properties,\n\n236\n00:12:13.760 --> 00:12:17.720\nevery zone has an access control list\njust like any other file or folder.\n\n237\n00:12:17.720 --> 00:12:23.020\nThe authenticated users group\nIs given create child objects.\n\n238\n00:12:23.020 --> 00:12:27.450\nSo that's what gives those clients\nthe ability to create new records.\n\n239\n00:12:27.450 --> 00:12:30.190\nRemember, a computer is authorized, right?\n\n240\n00:12:30.190 --> 00:12:33.770\nWhen you turn a computer on, it has to\nauthenticate with active directory before\n\n241\n00:12:33.770 --> 00:12:35.730\nyou ever get to the login screen.\n\n242\n00:12:35.730 --> 00:12:38.410\nSo your computer is part of\nthe authenticated users group.\n\n243\n00:12:38.410 --> 00:12:42.100\nI know that seems strange\ncuz it's a not a user but\n\n244\n00:12:42.100 --> 00:12:46.693\nit is authenticated and\nthe computers are included in that.\n\n245\n00:12:46.693 --> 00:12:50.690\nSo when I say secure only,\nit's saying hey if you're authenticated,\n\n246\n00:12:50.690 --> 00:12:55.350\nif you've been authenticated by\nactive directory, I'll allow you.\n\n247\n00:12:55.350 --> 00:12:57.200\nBut if your computer is not\npart of Active Directory,\n\n248\n00:12:57.200 --> 00:13:01.120\nif it wasn't able to authenticate, then\nI'm not gonna let you create a new record.\n\n249\n00:13:01.120 --> 00:13:05.530\nThat way vendor laptops and visitors to\nyour location that happen to talk to your\n\n250\n00:13:05.530 --> 00:13:12.520\nDNS server aren't filling up your DNS zone\nwith unnecessary resource records right?\n\n251\n00:13:12.520 --> 00:13:17.390\nNext is going to be DNS auto events and\nanalytical or query events for\n\n252\n00:13:17.390 --> 00:13:19.120\nauditing and troubleshooting.\n\n253\n00:13:19.120 --> 00:13:20.436\nIt's a long one, right?\n\n254\n00:13:20.436 --> 00:13:23.440\nGood old Microsoft and their objectives.\n\n255\n00:13:24.480 --> 00:13:26.220\nIt's just more information, honestly.\n\n256\n00:13:26.220 --> 00:13:29.326\nYou know we've already looked at,\nand I can show you here,\n\n257\n00:13:29.326 --> 00:13:31.761\nwe took a look at this\nearlier in our episodes.\n\n258\n00:13:31.761 --> 00:13:34.459\nI pulled up the properties\nof my DNS server, and\n\n259\n00:13:34.459 --> 00:13:38.090\nwe talked about the the fact\nthat I can do event logging.\n\n260\n00:13:38.090 --> 00:13:40.670\nAnd I can control\nthe level of detail there.\n\n261\n00:13:40.670 --> 00:13:45.520\nWe've also got Debug Logging that I\ncan use when I am troubleshooting but\n\n262\n00:13:46.660 --> 00:13:49.620\nthat's very detailed logging and\nthat can hurt, or\n\n263\n00:13:49.620 --> 00:13:51.830\nhamper your performance on the DNS server.\n\n264\n00:13:51.830 --> 00:13:55.385\nSo we'll only turn it on when we need it,\nand then we turn it back off.\n\n265\n00:13:55.385 --> 00:13:58.148\nThere are some additional\nlogs that we can use and or\n\n266\n00:13:58.148 --> 00:14:00.405\ncheck when we're trouble shooting DNS.\n\n267\n00:14:01.735 --> 00:14:04.425\nThere's the audit logs and\nthe analytic logs.\n\n268\n00:14:04.425 --> 00:14:08.465\nThe audit logs are the ones\nwe've already seen.\n\n269\n00:14:08.465 --> 00:14:12.255\nIf I right click again on that,\nproperties, even logging.\n\n270\n00:14:12.255 --> 00:14:15.195\nNow this is basically my audit log.\n\n271\n00:14:15.195 --> 00:14:20.170\nAudit logs show you changes to the DNS\nserver like changes to the zone,\n\n272\n00:14:20.170 --> 00:14:22.730\nchanges to a resource record,\nthings like that.\n\n273\n00:14:22.730 --> 00:14:24.360\nThose will be in your audit log.\n\n274\n00:14:24.360 --> 00:14:29.200\nYour analytic log is going to be\ninformation about information sent\n\n275\n00:14:29.200 --> 00:14:34.230\nback and forth from the DNS server\nqueries, zone transfers, things like that.\n\n276\n00:14:34.230 --> 00:14:35.820\nYou have to turn that one on.\n\n277\n00:14:35.820 --> 00:14:38.070\nSo let me show you how to find it.\n\n278\n00:14:38.070 --> 00:14:40.446\nI'm gonna open up my\ngood old event viewer.\n\n279\n00:14:44.037 --> 00:14:46.960\nI'll make that a little bit bigger.\n\n280\n00:14:46.960 --> 00:14:51.199\nAnd I'm gonna go to the application and\nservice logs.\n\n281\n00:14:53.950 --> 00:14:56.210\nMake that a little bit wider so\nwe can see it.\n\n282\n00:14:56.210 --> 00:14:57.650\nIt's taking it a minute to expand it out.\n\n283\n00:14:57.650 --> 00:15:01.923\nIt's a big list, so give it just\na second to populate, there we go.\n\n284\n00:15:01.923 --> 00:15:06.220\nAnd you can see there's my\nDNS server application log.\n\n285\n00:15:06.220 --> 00:15:09.966\nAnd I'll see information about DNS\nserver wrote version one, zone data,\n\n286\n00:15:09.966 --> 00:15:13.906\nhere's the DNS server finish the\nbackground, loading and signing of zones.\n\n287\n00:15:13.906 --> 00:15:18.189\nBut if I expand out Microsoft,\nand then I expand out Windows.\n\n288\n00:15:19.700 --> 00:15:24.176\nAnd then we go down and we find DNS.\n\n289\n00:15:24.176 --> 00:15:26.680\nIt's alphabetical,\nthere we go, DNS server.\n\n290\n00:15:26.680 --> 00:15:27.830\nHere's my audit log.\n\n291\n00:15:27.830 --> 00:15:30.770\nAnd as I said, the audit log is enabled,\nI think I did,\n\n292\n00:15:30.770 --> 00:15:32.100\nI'll say it again if I didn't.\n\n293\n00:15:32.100 --> 00:15:34.230\nThe audit log is enabled by default.\n\n294\n00:15:34.230 --> 00:15:35.410\nAnd there I can see information.\n\n295\n00:15:35.410 --> 00:15:39.290\nRemember, this is information\nabout changes on the DNS server.\n\n296\n00:15:39.290 --> 00:15:41.240\nThe zone FSDA, was updated.\n\n297\n00:15:42.300 --> 00:15:43.940\nWhat's another exciting one here?\n\n298\n00:15:43.940 --> 00:15:46.644\nA resource record type one was created.\n\n299\n00:15:46.644 --> 00:15:51.042\nThat was me, just a second ago,\nmaking those RR test records for\n\n300\n00:15:51.042 --> 00:15:53.979\nour NS lookup and our round robin example.\n\n301\n00:15:53.979 --> 00:15:58.008\nSo anytime changes are made,\nthe auto log's where you're gonna go.\n\n302\n00:15:58.008 --> 00:16:02.145\nSo if you suspect somebody's been making\nchanges, this is a good place to go and\n\n303\n00:16:02.145 --> 00:16:05.790\nsee when and from by whom those\nchanges were made, all right?\n\n304\n00:16:05.790 --> 00:16:08.360\nYou don't see the analytic log.\n\n305\n00:16:08.360 --> 00:16:13.155\nFor that you're gonna\nright-click on DNS server, and\n\n306\n00:16:13.155 --> 00:16:16.480\nif I can do it there, make sure you\nselect it before you right-click it.\n\n307\n00:16:16.480 --> 00:16:19.630\nNotice, I got the wrong menu\nwhen I didn't select it first.\n\n308\n00:16:19.630 --> 00:16:24.490\nSelect it, right-click and where is it?\n\n309\n00:16:24.490 --> 00:16:27.740\n[SOUND] You know what?\n\n310\n00:16:27.740 --> 00:16:28.640\nI didn't do that right.\n\n311\n00:16:28.640 --> 00:16:34.100\nI've got to right-click on the,\ntry that again.\n\n312\n00:16:35.780 --> 00:16:37.980\nSilly me,\nit's under the view menu I forgot.\n\n313\n00:16:39.140 --> 00:16:42.222\nSo I right-click on the DNS-Server,\nI go to View, and\n\n314\n00:16:42.222 --> 00:16:44.970\nthis what I was looking for\non the main menu.\n\n315\n00:16:44.970 --> 00:16:49.676\nIt's under view and\nthen show analytic and debug logs.\n\n316\n00:16:49.676 --> 00:16:53.430\nAll right, so I right-clicked on it, and I\ndon't know why my screen goes a little bit\n\n317\n00:16:53.430 --> 00:16:57.710\ncrazy, as it filters out because I'm\nnot changing that for anything else.\n\n318\n00:16:57.710 --> 00:17:01.210\nBut yeah it freaks out for\na minute, so give it just a second.\n\n319\n00:17:02.680 --> 00:17:05.230\nNow I've got this new log,\nmy analytic log.\n\n320\n00:17:05.230 --> 00:17:09.336\nAnd this is where it will see\ninformation that's being sent back and\n\n321\n00:17:09.336 --> 00:17:11.190\nforth by the DNS server.\n\n322\n00:17:11.190 --> 00:17:15.460\nAll right, but notice there's nothing\nin here cuz I just turned it on.\n\n323\n00:17:15.460 --> 00:17:20.250\nSo I want to right-click on analytical\nbecause it is still not turned on.\n\n324\n00:17:20.250 --> 00:17:25.060\nUnlike auditing, analytical is not turned\non by default, even though I am showing it\n\n325\n00:17:25.060 --> 00:17:28.860\nnow by right-click show analytic log,\nit's still not turned on.\n\n326\n00:17:28.860 --> 00:17:31.140\nI have to right-click it\nnow that I can see it, and\n\n327\n00:17:31.140 --> 00:17:34.920\nI'm gonna go to\nthe properties of this guy.\n\n328\n00:17:36.955 --> 00:17:39.250\nAnd here, is where I can turn it on.\n\n329\n00:17:39.250 --> 00:17:41.190\nEnable logging.\n\n330\n00:17:41.190 --> 00:17:42.040\nAll right.\n\n331\n00:17:42.040 --> 00:17:44.410\nIt tells you it may lose\nevents when they are enabled,\n\n332\n00:17:44.410 --> 00:17:48.140\nbecause it might clear the log if you had\nturned it on, and then turned it off.\n\n333\n00:17:48.140 --> 00:17:51.050\nSo you might wanna make sure\nyou export those first.\n\n334\n00:17:51.050 --> 00:17:52.730\nI'll click OK to turn it on,\n\n335\n00:17:52.730 --> 00:17:56.570\nthe other things you wanna check\nis these settings right here.\n\n336\n00:17:56.570 --> 00:17:58.470\nAnd notice they grayed out on me,\nall right?\n\n337\n00:17:58.470 --> 00:18:02.210\nI knew it was already on the override\nevents as needed, I'm gonna turn that off,\n\n338\n00:18:02.210 --> 00:18:04.210\nand I wanna change this.\n\n339\n00:18:04.210 --> 00:18:08.358\nNormally where you wanna put this,\nis do not overwrite events (clear\n\n340\n00:18:08.358 --> 00:18:12.880\nlogs manually), and that way if\nthe log file was to get full, so\n\n341\n00:18:12.880 --> 00:18:17.890\nI gotta start overwriting maybe really\nimportant data that I would miss.\n\n342\n00:18:17.890 --> 00:18:20.910\nIt also means that if it fills up,\nI'm gonna miss some data, so\n\n343\n00:18:20.910 --> 00:18:24.760\nI gotta make sure I come in here and\nread and clear the log every so often.\n\n344\n00:18:24.760 --> 00:18:27.850\nSo now I'll turn it back on,\nit tells me I might lose things.\n\n345\n00:18:27.850 --> 00:18:29.890\nI'll click OK, and we're good to go.\n\n346\n00:18:29.890 --> 00:18:34.638\nSo just know, you can only change this\nby disabling it, changing it, and\n\n347\n00:18:34.638 --> 00:18:36.259\nthen turning it back on.\n\n348\n00:18:36.259 --> 00:18:36.820\nAnd then I'll click OK.\n\n349\n00:18:36.820 --> 00:18:38.670\nAnd there's not gonna be\nanything in there, obviously,\n\n350\n00:18:38.670 --> 00:18:42.200\nbecause I just turned it on, but\nthat's very detailed logging.\n\n351\n00:18:42.200 --> 00:18:46.150\nAlthough this one, unlike the debug\nlogging on the properties of the DNS\n\n352\n00:18:46.150 --> 00:18:50.250\nserver that does hamper performance,\nMicrosoft says this one will not.\n\n353\n00:18:52.620 --> 00:18:57.450\nIt should not hamper performance\non my DNS server, all right?\n\n354\n00:18:57.450 --> 00:19:03.110\nThey say if that server's extremely busy,\nand I didn't write down the numbers in\n\n355\n00:19:03.110 --> 00:19:07.100\nmy notes, but it was another one of these,\nyeah, I don't have to worry about that.\n\n356\n00:19:07.100 --> 00:19:10.350\nI mean, it really had to be getting\nhundreds of thousands of queries\n\n357\n00:19:10.350 --> 00:19:11.310\nper second,\n\n358\n00:19:11.310 --> 00:19:14.810\nbefore this type of logging would have\nany impact on my server's performance.\n\n359\n00:19:16.224 --> 00:19:19.740\nAll right, so we looked at\nthe audit logs enabled by default,\n\n360\n00:19:19.740 --> 00:19:24.880\nwe see that right there, we looked at\nthe analytical log not enabled by default,\n\n361\n00:19:24.880 --> 00:19:28.080\nhave to show it first,\nthen you have to turn it on\n\n362\n00:19:28.080 --> 00:19:30.740\neven once you've shown it\nbefore it'll start logging.\n\n363\n00:19:31.858 --> 00:19:34.919\nAll right Wes, so I guess we've got,\nwhat have we got left here?\n\n364\n00:19:36.110 --> 00:19:39.300\nConfigure unknown record support.\n\n365\n00:19:39.300 --> 00:19:42.290\nThis is an interesting one.\n\n366\n00:19:42.290 --> 00:19:43.720\nWhen it comes to records, and\n\n367\n00:19:43.720 --> 00:19:48.105\nlet me flip back over to DNS,\nDNS again is not a Microsoft thing, right?\n\n368\n00:19:48.105 --> 00:19:52.097\nThere's RFCs out there,\nthis is like protocol,\n\n369\n00:19:52.097 --> 00:19:58.004\nthere's standards involved as far\nlike what an A record should contain.\n\n370\n00:19:58.004 --> 00:20:03.327\nHow that data is stored in that record,\nwe see this pretty graphical view,\n\n371\n00:20:03.327 --> 00:20:07.710\nbut we know that's not\nwhat really being stored.\n\n372\n00:20:07.710 --> 00:20:08.730\nThis information is stored.\n\n373\n00:20:08.730 --> 00:20:10.150\nSo the way it's stored,\n\n374\n00:20:10.150 --> 00:20:15.170\nclassified, field names,\nthings like that, that's all defined.\n\n375\n00:20:15.170 --> 00:20:16.520\nAnd all DNS servers,\n\n376\n00:20:16.520 --> 00:20:21.050\nwhether it's Microsoft DNS Server or\nBind, they follow these protocols.\n\n377\n00:20:21.050 --> 00:20:24.360\nSo that we have interoperability,\nall right?\n\n378\n00:20:24.360 --> 00:20:27.430\nBut you can use DNS outside of that.\n\n379\n00:20:27.430 --> 00:20:30.620\nYou can actually create your own format.\n\n380\n00:20:30.620 --> 00:20:33.980\nMaybe you've got an application\nthat does some weird things,\n\n381\n00:20:33.980 --> 00:20:36.080\nI shouldn't say weird, different things.\n\n382\n00:20:36.080 --> 00:20:40.680\nAnd maybe you need a record stored\nin a slightly modified format that\n\n383\n00:20:40.680 --> 00:20:43.340\ndoesn't follow DNS standards.\n\n384\n00:20:43.340 --> 00:20:47.528\nYou can still do that well beyond the\nscope of this class, in fact, it's beyond\n\n385\n00:20:47.528 --> 00:20:51.730\nmy scope, but what we need to know is that\nDNS, you can do that with Windows DNS.\n\n386\n00:20:51.730 --> 00:20:57.930\n2016 supports non-standard or\nunknown record support.\n\n387\n00:20:57.930 --> 00:20:59.900\nLike i said I've never had the need to, or\n\n388\n00:20:59.900 --> 00:21:04.660\neven seen an, I cant even say it,\nunknown record support.\n\n389\n00:21:04.660 --> 00:21:08.200\nI've never even seen a record like that,\nthat's not one of my standards.\n\n390\n00:21:08.200 --> 00:21:12.880\nBut are the, important thing we have for\nthis exam, is that 2016 does support that.\n\n391\n00:21:12.880 --> 00:21:13.890\nSo if you have any need for\n\n392\n00:21:13.890 --> 00:21:17.890\nthat, it does, there's nothing to do,\nyou don't have to try anything on.\n\n393\n00:21:17.890 --> 00:21:21.410\nJust know that what DNS and\nMiicrosoft will do is say,\n\n394\n00:21:21.410 --> 00:21:25.870\nI have no idea what that is, but\nI'm gonna let you do it anyway, all right?\n\n395\n00:21:25.870 --> 00:21:30.020\nBecause you probably know what you're\ndoing, so I'll let you store this strange\n\n396\n00:21:30.020 --> 00:21:34.880\nlooking record in the zone, and\nif somebody queries, and I need to\n\n397\n00:21:34.880 --> 00:21:38.350\nreturn that, I'll give it to them, and\nI'll give it to them in unmodified way.\n\n398\n00:21:38.350 --> 00:21:42.430\nI'm not gonna try to force it to fit the\nstandard, I'm not gonna change anything,\n\n399\n00:21:42.430 --> 00:21:44.460\nI'm gonna give it to them as is.\n\n400\n00:21:44.460 --> 00:21:49.330\nSo you can do your own custom work, and\ntake advantage of the DNS engine and\n\n401\n00:21:49.330 --> 00:21:54.030\nservice to provide these non standard,\nor unknown resource records,\n\n402\n00:21:54.030 --> 00:21:58.600\nand DNS will let you do that, which is\npretty cool from a developers perspective.\n\n403\n00:21:58.600 --> 00:22:01.230\n&gt;&gt; Well Mike,\nit's been a long journey here in DNS, and\n\n404\n00:22:01.230 --> 00:22:05.750\nI'm gonna hopefully get the answer that\nI'm thinking I'm getting in this one.\n\n405\n00:22:05.750 --> 00:22:07.820\nIt does look like we're coming\nto the end of another episode.\n\n406\n00:22:07.820 --> 00:22:10.779\nSo, are we about to bring this\njourney in DNS to an end, or\n\n407\n00:22:10.779 --> 00:22:13.385\nyou got some additional\nwords you'd like to say?\n\n408\n00:22:13.385 --> 00:22:17.756\n&gt;&gt; You know, I've got a lot more I'd love\nto talk about you with DNS, but it's not\n\n409\n00:22:17.756 --> 00:22:22.420\nin this exam, so we'll put that off for\nanother day, and we can say DNS is done.\n\n410\n00:22:22.420 --> 00:22:24.250\n&gt;&gt; That's great,\nit's a wealth of knowledge Mike, and\n\n411\n00:22:24.250 --> 00:22:27.330\nwe appreciate you being here, and\nwe appreciate you, the viewer, being here.\n\n412\n00:22:27.330 --> 00:22:30.560\nIt looks like we're gonna go ahead and\nwrap this one up and come to an end.\n\n413\n00:22:30.560 --> 00:22:33.450\nSigning out for ITPro.TV,\nI've been your host, Wes Bryan.\n\n414\n00:22:33.450 --> 00:22:34.593\n&gt;&gt; And I'm Mike Broderick.\n\n415\n00:22:34.593 --> 00:22:36.130\n&gt;&gt; And we'll see you next time.\n\n416\n00:22:36.130 --> 00:22:42.715\n[MUSIC]\n\n417\n00:22:42.715 --> 00:22:45.865\nThank you for watching ITPro.TV\n\n",
          "vimeoId": "193554633"
        }
      ],
      "title": "Planning and implementing an IPv4 network"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam introduce DHCP and explain what it does, how it happens with the DORA/ROSA process, and how to implement it in Server 2016. Specifically, Adam demonstrates installing the role, authorizing the DHCP Server, creating a scope and more!",
          "length": "2724",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-1-implementing_dhcp-050817.00_45_08_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-1-implementing_dhcp-050817.00_45_08_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-1-implementing_dhcp-050817.00_45_08_15.Still001-sm.jpg",
          "title": "Implementing DHCP",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:02.702\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.702 --> 00:00:08.050\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:08.050 --> 00:00:11.934\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.934 --> 00:00:15.405\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 series.\n\n5\n00:00:15.405 --> 00:00:17.830\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.830 --> 00:00:21.030\nIn this episode,\nwe'll take a look at implementing DHCP,\n\n7\n00:00:21.030 --> 00:00:23.210\nDynamic Host Configuration Protocol.\n\n8\n00:00:23.210 --> 00:00:26.360\nAnd who better to explain that than Mr.\nAdam Gordon himself.\n\n9\n00:00:26.360 --> 00:00:28.220\nThank you for joining us today Adam.\n\n10\n00:00:28.220 --> 00:00:28.940\n&gt;&gt; Thank you.\n\n11\n00:00:28.940 --> 00:00:31.295\nAlways glad to be here and\nI will do my best and\n\n12\n00:00:31.295 --> 00:00:35.710\nendeavor to be able to explain DHCP\nwith the appropriate gusto and\n\n13\n00:00:35.710 --> 00:00:38.230\nverve as you've indicated\nI should be able to do.\n\n14\n00:00:38.230 --> 00:00:40.135\nSo we're gonna talk about DHCP.\n\n15\n00:00:40.135 --> 00:00:42.630\nAnd, first I thought it would\nbe good to start out with, and\n\n16\n00:00:42.630 --> 00:00:45.040\nCherokee already defined the acronym for\nus.\n\n17\n00:00:45.040 --> 00:00:47.960\nBut talk about just what DHCP is used for,\nso\n\n18\n00:00:47.960 --> 00:00:50.910\nyes, Dynamic Host Configuration Protocol\nabsolutely.\n\n19\n00:00:50.910 --> 00:00:52.920\nBut that only tells\nthe beginning of the story,\n\n20\n00:00:52.920 --> 00:00:55.800\nthe idea is we're gonna\nhand out IP addresses,\n\n21\n00:00:55.800 --> 00:00:59.570\nwe're gonna give them out traditionally\nand normally most of the time dynamically.\n\n22\n00:00:59.570 --> 00:01:02.118\nBut DHCP also gives out\nstatic IP addresses.\n\n23\n00:01:02.118 --> 00:01:06.120\nAnd I mentioned this in one of our prior\nepisodes back in the first group of shows\n\n24\n00:01:06.120 --> 00:01:10.140\nthat we put together around understanding\nand planning for an IPv4 network.\n\n25\n00:01:10.140 --> 00:01:13.040\nIf you haven't seen those,\nencourage you to go back and take a look.\n\n26\n00:01:13.040 --> 00:01:15.890\nWe talked about some interesting\ntools to use to troubleshoot.\n\n27\n00:01:15.890 --> 00:01:17.620\nTook a look at PowerShell a little bit.\n\n28\n00:01:17.620 --> 00:01:20.760\nTalked about Net SH,\ntalked about the concepts of IP addresses,\n\n29\n00:01:20.760 --> 00:01:22.800\nsubnet masks, all that kind of stuff.\n\n30\n00:01:22.800 --> 00:01:26.700\nGood background and foundation material\nfor our conversations going forward.\n\n31\n00:01:26.700 --> 00:01:30.070\nBut I mentioned there, as we talked\nabout DHCP and broke down IP addresses,\n\n32\n00:01:30.070 --> 00:01:34.030\nthat traditionally we do see this\nthought process as being dynamic, but\n\n33\n00:01:34.030 --> 00:01:39.040\nusing a reservation, we can give\nout a static IP address using DHCP.\n\n34\n00:01:39.040 --> 00:01:42.490\nOr we can simply set the TTL value\non the lease to never expire,\n\n35\n00:01:42.490 --> 00:01:45.260\nin which case would essentially give\nyou a static IP address as well.\n\n36\n00:01:45.260 --> 00:01:50.670\nSo just don't wanna lose sight of that\nfact that traditionally, while we see DHCP\n\n37\n00:01:50.670 --> 00:01:54.720\nas being a give it to you for a period of\ntime lease and then have it count down.\n\n38\n00:01:54.720 --> 00:01:57.250\nYou may auto renew and\ncontinue to use that IP.\n\n39\n00:01:57.250 --> 00:01:59.382\nBut it is essentially defined as dynamic.\n\n40\n00:01:59.382 --> 00:02:00.910\nBut you also have a static capability and\n\n41\n00:02:00.910 --> 00:02:03.360\nwe'll explore that a little\nbit more as we get into this.\n\n42\n00:02:03.360 --> 00:02:05.970\nBut generically the idea behind DHCP is\n\n43\n00:02:05.970 --> 00:02:10.140\nto setup a system that allows us to\naccomplish three very important things.\n\n44\n00:02:10.140 --> 00:02:14.160\nNumber one,\nto provide a pool of usable IP addresses.\n\n45\n00:02:14.160 --> 00:02:18.820\nWe would call that a scope or address\nrange that is gonna be made available\n\n46\n00:02:18.820 --> 00:02:23.110\nthrough a central management console,\nan interface, that allows us to hand out\n\n47\n00:02:23.110 --> 00:02:26.600\nIP addresses either statically or\ndynamically as we've described.\n\n48\n00:02:26.600 --> 00:02:29.178\nAlong with handing out\njust the IP Address,\n\n49\n00:02:29.178 --> 00:02:33.147\nwe do the second very important thing\nwhich is to add scope options or\n\n50\n00:02:33.147 --> 00:02:36.979\nadditional configuration,\nthought processes, solutions and\n\n51\n00:02:36.979 --> 00:02:40.551\nitems that would be of interest\nsuch as our Default Gateway.\n\n52\n00:02:40.551 --> 00:02:41.476\nYou now know what that is.\n\n53\n00:02:41.476 --> 00:02:42.917\nWe took a look at it in prior episodes.\n\n54\n00:02:42.917 --> 00:02:44.934\nIf you haven't,\nthen you need to go back and take a look.\n\n55\n00:02:44.934 --> 00:02:49.060\nYou should know what your subnet mask is,\nwe would get that traditionally as well.\n\n56\n00:02:49.060 --> 00:02:51.970\nWe may get things like our DNS server.\n\n57\n00:02:51.970 --> 00:02:56.760\nWhere is our DNS server or servers,\nwe could give that out as a DHCP option.\n\n58\n00:02:56.760 --> 00:02:58.220\nAlong with a bunch of other stuff,\n\n59\n00:02:58.220 --> 00:03:02.590\nwe have quite a number of options that are\navailable to us and we can assign those\n\n60\n00:03:02.590 --> 00:03:06.040\nand give those out as part of our lease so\nwe can configure those.\n\n61\n00:03:06.040 --> 00:03:07.368\nSecond thing DHCP does.\n\n62\n00:03:07.368 --> 00:03:09.839\nThird thing,\nequally important that it does,\n\n63\n00:03:09.839 --> 00:03:13.800\nis that it keeps track of all the stuff\nthat we give out in this database.\n\n64\n00:03:13.800 --> 00:03:16.770\nAnd that allows us to interact with\nthrough the management console and\n\n65\n00:03:16.770 --> 00:03:19.050\nunderstand what's going\non this information.\n\n66\n00:03:19.050 --> 00:03:23.590\nNow we can take that and notch up a level\nif we want with something known as IPAM,\n\n67\n00:03:23.590 --> 00:03:28.140\nIP Address Management,\nwhich is gonna be like managing DHCP, but\n\n68\n00:03:28.140 --> 00:03:32.190\nmanaging even more capabilities and\nresources from a central console,\n\n69\n00:03:32.190 --> 00:03:34.860\nseparate roles, separate features,\nseparate set of functions.\n\n70\n00:03:34.860 --> 00:03:38.510\nWe'll be talking about that in some\nupcoming episodes, but we do have these\n\n71\n00:03:38.510 --> 00:03:42.440\nthree distinct thought processes and\ncharacteristics that DCHP does provide,\n\n72\n00:03:42.440 --> 00:03:44.090\nbut we wanna make sure\nwe're aware of this.\n\n73\n00:03:44.090 --> 00:03:47.150\nIt is a client-server model,\nas many of these solutions are.\n\n74\n00:03:47.150 --> 00:03:48.520\nWe have a client component,\nin other words.\n\n75\n00:03:48.520 --> 00:03:51.390\nWe're gonna talk about what that\nlooks like and how we understand\n\n76\n00:03:51.390 --> 00:03:55.740\nthat we can go out and request a DHCP\ndriven address, and how we get that back.\n\n77\n00:03:55.740 --> 00:03:59.060\nWe have a server component, the server\nside is what we're gonna take a look at\n\n78\n00:03:59.060 --> 00:04:02.020\nhow to configure and set up right now.\n\n79\n00:04:02.020 --> 00:04:04.190\nLet's go in and\nlet's take a look at our interface.\n\n80\n00:04:04.190 --> 00:04:06.045\nI've already gone ahead and\n\n81\n00:04:06.045 --> 00:04:12.390\nused PowerShell just to install the DHCP\nserver role on our Server 16 server.\n\n82\n00:04:12.390 --> 00:04:15.090\nDid that just because it takes a few\nminutes to go through the installation\n\n83\n00:04:15.090 --> 00:04:16.010\nprocess.\n\n84\n00:04:16.010 --> 00:04:18.850\nYou can see the command right there,\nso you're not missing anything.\n\n85\n00:04:18.850 --> 00:04:22.010\nYou can see we were successful, but\nI just didn't wanna have to wait for\n\n86\n00:04:22.010 --> 00:04:26.060\nit to actually do the install, and quite\nhonestly it's not that exciting to watch.\n\n87\n00:04:26.060 --> 00:04:26.890\nSo I figured, what the heck,\n\n88\n00:04:26.890 --> 00:04:29.580\nwe'll just get it done and\nthat way we can already work with it.\n\n89\n00:04:29.580 --> 00:04:31.570\nBut you can see here Add-WindowsFeature,\n\n90\n00:04:31.570 --> 00:04:35.080\nwe've talked about the ability to use\nPowerShell to do a variety of things.\n\n91\n00:04:35.080 --> 00:04:39.520\nCertainly the old school way of doing\nthis, go into the Server Manager onsole,\n\n92\n00:04:39.520 --> 00:04:43.320\nthe MMC for Server Manager,\nthat would be this beautiful\n\n93\n00:04:43.320 --> 00:04:45.510\nlittle tool right here that we're\nprobably all familiar with.\n\n94\n00:04:45.510 --> 00:04:46.990\nCould we go to the manage area?\n\n95\n00:04:46.990 --> 00:04:49.400\nCould we go to roles and\nfeatures and install from there?\n\n96\n00:04:49.400 --> 00:04:51.260\nAbsolutely.\nWe can do that all day.\n\n97\n00:04:51.260 --> 00:04:52.600\nNo different than what I just did.\n\n98\n00:04:52.600 --> 00:04:55.769\nThe only difference is I just used\nPowerShell in order to drive that\n\n99\n00:04:55.769 --> 00:04:56.570\ninstallation.\n\n100\n00:04:56.570 --> 00:04:58.010\nSo we just went to PowerShell.\n\n101\n00:04:59.230 --> 00:05:01.966\nAdd Windows feature, gotta of course\nknow the name of the feature.\n\n102\n00:05:01.966 --> 00:05:04.258\nDHCP, no mystery there, pretty easy.\n\n103\n00:05:04.258 --> 00:05:07.507\nIt would be funny if it was called\nsomething like IP Addresses for sale or\n\n104\n00:05:07.507 --> 00:05:09.155\nsomething crazy like that.\n\n105\n00:05:09.155 --> 00:05:12.179\nOr like just because we're kidding\naround and it's not really that, but\n\n106\n00:05:12.179 --> 00:05:14.627\nit was like winds or non-winds or\nsomething really funny.\n\n107\n00:05:14.627 --> 00:05:15.545\n&gt;&gt; I like that.\nNon-winds.\n\n108\n00:05:15.545 --> 00:05:18.789\n&gt;&gt; It would be like non-winds or\nsomething crazy, but it is DHCP.\n\n109\n00:05:18.789 --> 00:05:20.285\nI then include Management Tools.\n\n110\n00:05:20.285 --> 00:05:22.386\nImportant parameter we wanna put in there,\n\n111\n00:05:22.386 --> 00:05:25.748\nadd in all the additional tools\nnecessary for us to fully manage this.\n\n112\n00:05:25.748 --> 00:05:28.916\nYou always wanna think about using\nthe include management tools item,\n\n113\n00:05:28.916 --> 00:05:32.155\nthe additional parameter there when\nyou do an install from PowerShell.\n\n114\n00:05:32.155 --> 00:05:33.930\nGives you the ability to\nnot have to go back and\n\n115\n00:05:33.930 --> 00:05:36.901\nworry about adding them after the fact,\nbut puts them all in there for you.\n\n116\n00:05:36.901 --> 00:05:40.370\nYou can see it was successful,\nsuccess true.\n\n117\n00:05:40.370 --> 00:05:41.184\nJust cutting that off there.\n\n118\n00:05:41.184 --> 00:05:43.016\nLet's just move that\nover just a little bit.\n\n119\n00:05:43.016 --> 00:05:46.480\nSuccess true, restart needed no,\ngood to know.\n\n120\n00:05:46.480 --> 00:05:49.041\nExit code success, what was installed,\nwe got everything there.\n\n121\n00:05:49.041 --> 00:05:50.194\nSo that's good to know.\n\n122\n00:05:50.194 --> 00:05:51.292\nSo we have that.\n\n123\n00:05:51.292 --> 00:05:53.123\nSo now that we've got that installed,\n\n124\n00:05:53.123 --> 00:05:56.520\nlet's go over here to our server manager\njust where we were a minute ago.\n\n125\n00:05:56.520 --> 00:06:00.703\nLet's go over here to Tools and\nwe can go to DCHP.\n\n126\n00:06:00.703 --> 00:06:03.317\nNow just so\nyou know by the way before I load this up.\n\n127\n00:06:03.317 --> 00:06:05.439\nIf you're using PowerShell\nthe way I did and\n\n128\n00:06:05.439 --> 00:06:08.936\nyou're in the habit of doing that\nwith the Server Manager Console open,\n\n129\n00:06:08.936 --> 00:06:12.144\nyou do the install, which you may\nnotice as you come back here, and\n\n130\n00:06:12.144 --> 00:06:16.043\nalthough DHCP did install whatever the\nparticular role or feature or whatever it\n\n131\n00:06:16.043 --> 00:06:19.610\nmay be that you were installing was,\nit may not show you in the list here.\n\n132\n00:06:19.610 --> 00:06:22.460\nRemember, you've gotta refresh this\nconsole like any other console.\n\n133\n00:06:22.460 --> 00:06:24.490\nAnd so,\nif you don't see what you are doing, but\n\n134\n00:06:24.490 --> 00:06:27.820\nyou know it was successful, don't be\nafraid to come up here and hit Refresh.\n\n135\n00:06:27.820 --> 00:06:31.200\nThat will load the item in here on the\nleft to make sure it is substantiated and\n\n136\n00:06:31.200 --> 00:06:34.230\nthat it is set up and indeed you would\nhave to do that if you had Server Manager\n\n137\n00:06:34.230 --> 00:06:35.310\nopen and it didn't show up.\n\n138\n00:06:35.310 --> 00:06:38.060\nJust so you know just in case that\nhappens to you in the real world.\n\n139\n00:06:38.060 --> 00:06:39.070\nYou don't wanna panic.\nIt is there,\n\n140\n00:06:39.070 --> 00:06:41.312\njust that it doesn't always\nshow up the first time, so\n\n141\n00:06:41.312 --> 00:06:43.482\nyou have got to refresh to\nmake sure it is available.\n\n142\n00:06:43.482 --> 00:06:47.030\nLet's hit DHCP and we'll open this up.\n\n143\n00:06:47.030 --> 00:06:48.378\nJust one second there.\n\n144\n00:06:50.630 --> 00:06:54.585\nTry this one more time, but this time\nlet's try without actually, okay.\n\n145\n00:06:54.585 --> 00:06:56.341\nWe're getting our-\n&gt;&gt; Clipboard.\n\n146\n00:06:56.341 --> 00:06:56.846\nIs that what that is?\n\n147\n00:06:56.846 --> 00:06:58.244\n&gt;&gt; Our clipboard, yeah.\n\n148\n00:06:58.244 --> 00:07:01.477\nAll right, let's try this, there we go.\n\n149\n00:07:01.477 --> 00:07:04.973\nOkay, yeah we're just getting our, hey we\nwanna copy something clipboard function.\n\n150\n00:07:04.973 --> 00:07:06.742\nI'm not sure why that's coming up.\n\n151\n00:07:06.742 --> 00:07:09.341\nAll right, so we're probably gonna get two\nconsoles cuz I tried to open it twice.\n\n152\n00:07:09.341 --> 00:07:10.368\nBut we'll deal with that.\n\n153\n00:07:10.368 --> 00:07:10.965\nNo big deal.\n\n154\n00:07:10.965 --> 00:07:14.077\nSo let's just move this over\nhere just a little bit so\n\n155\n00:07:14.077 --> 00:07:16.359\nthat we can see what's going on here.\n\n156\n00:07:16.359 --> 00:07:21.841\nYou'll see our [INAUDIBLE] in this case\nSA01 name of the machine.practicelabs.com.\n\n157\n00:07:21.841 --> 00:07:24.870\nSo our fully qualified domain name for\nthe machine.\n\n158\n00:07:24.870 --> 00:07:28.175\nDHCP, just click here and\nyou'll see we have IPv4 and IPv6.\n\n159\n00:07:28.175 --> 00:07:31.828\nIt's probably almost impossible for\nyou to see it's really really tiny but\n\n160\n00:07:31.828 --> 00:07:33.570\nthere is a little circle here.\n\n161\n00:07:33.570 --> 00:07:37.660\nThe red arrow or red dot on the edge\nof the IPv4 and IPv6 server.\n\n162\n00:07:37.660 --> 00:07:40.540\nIf we go full screen, it may be a little\nbit more obvious to you if we do that for\n\n163\n00:07:40.540 --> 00:07:41.400\njust a second.\n\n164\n00:07:41.400 --> 00:07:46.102\nWhat this is showing us right here and\nright here is that\n\n165\n00:07:46.102 --> 00:07:50.717\nthe DHCP server service has\nnot been authorized yet.\n\n166\n00:07:50.717 --> 00:07:54.920\nWe haven't gone in and authorized our\nserver allowing us to be able to or\n\n167\n00:07:54.920 --> 00:07:59.402\nenabling us To be able to go in and say\nthis server will legitimately be able to\n\n168\n00:07:59.402 --> 00:08:02.430\nprovide services in\nthe active directory domain.\n\n169\n00:08:02.430 --> 00:08:05.181\nWe are domain integrated\nhere as you can see.\n\n170\n00:08:05.181 --> 00:08:08.555\nAnd as a result,\nwe do have a need to go in.\n\n171\n00:08:08.555 --> 00:08:11.920\nAnd we do have to manage and\nauthorize this server.\n\n172\n00:08:11.920 --> 00:08:14.210\nIt's the very first thing\nthat we're gonna do.\n\n173\n00:08:14.210 --> 00:08:18.040\nSo what we're going to do here,\nlet's come up here to the DHCP node.\n\n174\n00:08:18.040 --> 00:08:20.720\nJust the very top of the console.\n\n175\n00:08:20.720 --> 00:08:23.700\nManage authorized servers, click there.\n\n176\n00:08:23.700 --> 00:08:26.960\nYou'll notice we have, center this for\nyou so you can see it.\n\n177\n00:08:26.960 --> 00:08:29.470\nOur manage authorized\nservers dialogue box.\n\n178\n00:08:29.470 --> 00:08:31.820\nWe have the name of\nthe authorized server there.\n\n179\n00:08:31.820 --> 00:08:36.180\nAnd we have to click Authorize, right,\nso we're gonna go ahead and do that.\n\n180\n00:08:36.180 --> 00:08:39.270\nAnd then you'll see we can type in\nthe name of the server that we wanna\n\n181\n00:08:39.270 --> 00:08:40.260\nauthorize.\n\n182\n00:08:40.260 --> 00:08:43.400\nIf we have to authorize another server,\nright, or whatever it is.\n\n183\n00:08:43.400 --> 00:08:46.500\nWe'll just type that in just to\nshow you how this would be done.\n\n184\n00:08:46.500 --> 00:08:50.723\nSo we could go in, and\nwe can specify, you know whatever,\n\n185\n00:08:50.723 --> 00:08:55.135\nlet's says 192, 168, 05 or\nwhatever it would be.\n\n186\n00:08:55.135 --> 00:08:56.366\nJust type something in there.\n\n187\n00:08:56.366 --> 00:09:00.190\nWe would then go ahead, we would hit OK,\nand we would be set to go.\n\n188\n00:09:00.190 --> 00:09:03.010\nSo you're just gonna authorize,\ntype that in, hit OK.\n\n189\n00:09:03.010 --> 00:09:04.992\nAnd then you'll be able to go ahead.\n\n190\n00:09:04.992 --> 00:09:07.590\nAnd you'll be able to have\nthat system authorized.\n\n191\n00:09:07.590 --> 00:09:12.780\nNow, wanna unauthorize a server, just go\nahead and unauthorize it, I could do that.\n\n192\n00:09:12.780 --> 00:09:15.610\nAnd then, just go ahead,\nwe'll close here for one second.\n\n193\n00:09:15.610 --> 00:09:18.200\nI'll reauthorize it in just one second.\n\n194\n00:09:18.200 --> 00:09:21.790\nSo let's just go ahead,\ndo the following here real quick.\n\n195\n00:09:23.330 --> 00:09:27.470\nAnd let's refresh, all right,\nnow you'll see here I can come in and\n\n196\n00:09:27.470 --> 00:09:30.470\nI can also authorize right from\nhere because I'm on the server.\n\n197\n00:09:30.470 --> 00:09:31.940\nI can do it from either place, right.\n\n198\n00:09:31.940 --> 00:09:35.780\nDoesn't really matter if I do it here\ngoes out and authorizes it for me.\n\n199\n00:09:35.780 --> 00:09:38.230\nI don't have to go through to\nbother of having to do the wizard.\n\n200\n00:09:38.230 --> 00:09:40.260\nIt'll just come out and\nauthorize it either way.\n\n201\n00:09:40.260 --> 00:09:42.680\nSo I can specify additional systems.\n\n202\n00:09:42.680 --> 00:09:44.210\nThe difference between the two up there,\n\n203\n00:09:44.210 --> 00:09:45.970\njust the reason I wanted\nto point it out to you.\n\n204\n00:09:45.970 --> 00:09:49.120\nI can actually add additional servers and\nmanage them from the console.\n\n205\n00:09:49.120 --> 00:09:51.810\nOr authorize them outside\nof the one I'm using here.\n\n206\n00:09:51.810 --> 00:09:54.420\nOr I can just authorize\nthis instance either way.\n\n207\n00:09:54.420 --> 00:09:55.980\nSo I can go in and authorize this.\n\n208\n00:09:55.980 --> 00:09:59.842\nAnd once I've done this,\nyou'll see now, it may be hard to see.\n\n209\n00:09:59.842 --> 00:10:03.316\nBut it changed to green, it's a little\ngreen circle there with a white check.\n\n210\n00:10:03.316 --> 00:10:05.000\nSo you can see it's been authorized now.\n\n211\n00:10:05.000 --> 00:10:07.690\nAnd there we go,\nyou can kind of see it there.\n\n212\n00:10:07.690 --> 00:10:11.548\nAnd then when I click there,\nyou'll see it also goes green on the IPv6.\n\n213\n00:10:11.548 --> 00:10:14.220\nIndicating that we are authorized and\nwe are now able to go ahead.\n\n214\n00:10:14.220 --> 00:10:16.638\nAnd we're able to actually\noperate the system.\n\n215\n00:10:16.638 --> 00:10:18.877\nAnd start to use it to\nprovide IP addresses,\n\n216\n00:10:18.877 --> 00:10:20.640\nwhatever else we're going to do.\n\n217\n00:10:20.640 --> 00:10:24.810\nSo it is important for us to go in and\nensure that we are authorized.\n\n218\n00:10:24.810 --> 00:10:26.530\nVery important for us to do that.\n\n219\n00:10:26.530 --> 00:10:29.602\nKeep in mind that we can do that\neither with an IP address or\n\n220\n00:10:29.602 --> 00:10:32.036\na fully qualified domain\nname from up above.\n\n221\n00:10:32.036 --> 00:10:33.920\nOr right-click on the specific instance.\n\n222\n00:10:33.920 --> 00:10:36.242\nThe named instance as I showed you here.\n\n223\n00:10:36.242 --> 00:10:41.001\nAuthorize, goes out, figures out that the\nmachine is available, is in the domain,\n\n224\n00:10:41.001 --> 00:10:43.064\nis an authorized computer account.\n\n225\n00:10:43.064 --> 00:10:45.870\nAnd can then be granted that right and\nwe give it to that.\n\n226\n00:10:45.870 --> 00:10:48.410\nNow, remember when we\ninstall the DHCP server\n\n227\n00:10:48.410 --> 00:10:50.690\nonto a machine that's\na member of the domain.\n\n228\n00:10:50.690 --> 00:10:53.650\nAnd so that's why we're authorizing\nagainst the Active Directory.\n\n229\n00:10:53.650 --> 00:10:57.277\nIf this was a standalone machine that was\nnot in the domain we wouldn't be able to\n\n230\n00:10:57.277 --> 00:10:57.992\nauthorize it.\n\n231\n00:10:57.992 --> 00:11:00.680\nBecause there would be nothing to\nauthorize it against, just so you know.\n\n232\n00:11:00.680 --> 00:11:02.090\nDo you have a question or\nsomething you wanted to ask-\n\n233\n00:11:02.090 --> 00:11:03.673\n&gt;&gt; I was just saying it's nice that you're\n\n234\n00:11:03.673 --> 00:11:04.612\nshowing how to do this.\n\n235\n00:11:04.612 --> 00:11:07.889\nBecause I've actually had to\ndo this via PowerShell and\n\n236\n00:11:07.889 --> 00:11:10.266\ndidn't have the luxury of the GUI here.\n\n237\n00:11:10.266 --> 00:11:14.321\nBut for instance,\nlike with migrating DHCP, the role,\n\n238\n00:11:14.321 --> 00:11:19.404\nif you have an interim or auxiliary\nDHCP server during that migration.\n\n239\n00:11:19.404 --> 00:11:23.384\nThat's an important step that you need\nto do to go ahead and decommission or\n\n240\n00:11:23.384 --> 00:11:26.116\ndeactivate one before\npointing to that other one.\n\n241\n00:11:26.116 --> 00:11:27.830\nAnd just kind of keeping that in mind.\n\n242\n00:11:27.830 --> 00:11:31.277\nI don't know what maintenance would\nbe a good explanation of why we would\n\n243\n00:11:31.277 --> 00:11:36.197\ndeauthorize and decommission-\n&gt;&gt; Why we would deauthorize or\n\n244\n00:11:36.197 --> 00:11:38.500\ndecommission, because\nthey're two separate steps.\n\n245\n00:11:38.500 --> 00:11:41.650\nWe could deauthorize, but\nnot necessarily decommission.\n\n246\n00:11:41.650 --> 00:11:45.180\nIn other words, you saw me just in\ntheory unauthorize or deauthorize and\n\n247\n00:11:45.180 --> 00:11:48.880\nreauthorize the servers to demonstrate\nthe process- But I didn't decommission it-\n\n248\n00:11:48.880 --> 00:11:49.960\n&gt;&gt; Very invasive.\n\n249\n00:11:49.960 --> 00:11:53.246\n&gt;&gt; I just simply deauthorized it meaning\nI said, hey, it's not available.\n\n250\n00:11:53.246 --> 00:11:57.110\nAnd not allowed to be used to lease\naddresses but I didn't decommission it.\n\n251\n00:11:57.110 --> 00:11:59.720\nDecommissioning implies we're\ntaking down the server.\n\n252\n00:11:59.720 --> 00:12:03.560\nMost likely exporting the database if\nwe want to keep track of what we did.\n\n253\n00:12:03.560 --> 00:12:06.510\nAnd perhaps migrated as you were\ntalk about or added somewhere else.\n\n254\n00:12:06.510 --> 00:12:09.350\nWe'll talk about those steps in\nsome upcoming episodes around\n\n255\n00:12:09.350 --> 00:12:11.870\nhow we deal with the life cycle of DHCP.\n\n256\n00:12:11.870 --> 00:12:14.808\nBut decommissioning would involve,\ntypically,\n\n257\n00:12:14.808 --> 00:12:17.274\nif this is a physical infrastructure box.\n\n258\n00:12:17.274 --> 00:12:19.420\nAnd many these days, more often than not,\nprobably be virtual right?\n\n259\n00:12:19.420 --> 00:12:22.660\nSo may not have the old school,\nold thought process of\n\n260\n00:12:22.660 --> 00:12:25.450\nare we gonna decommission cuz\nthe hardware is just really old.\n\n261\n00:12:25.450 --> 00:12:28.610\nBecause virtual machines you don't\nnecessarily have to decommission them\n\n262\n00:12:28.610 --> 00:12:32.260\nbecause of aging out of\nthe infrastructure pool.\n\n263\n00:12:32.260 --> 00:12:34.694\nBut traditionally,\nif we were decommissioning.\n\n264\n00:12:34.694 --> 00:12:36.840\nIt would be because we want\nto take that instance down.\n\n265\n00:12:36.840 --> 00:12:39.990\nDo away with it or somehow consolidate it,\ndo something else with it.\n\n266\n00:12:39.990 --> 00:12:44.970\nDeauthorizing may simply be that we wanna\ndeauthorize or prevent that system from\n\n267\n00:12:44.970 --> 00:12:48.990\nbeing able to lease addresses for a period\nof time due to any number of reasons.\n\n268\n00:12:48.990 --> 00:12:50.360\nAnd then we're gonna\nreactivate it at some point.\n\n269\n00:12:50.360 --> 00:12:53.182\nBut not fully stand it down and\nessentially uninstall and\n\n270\n00:12:53.182 --> 00:12:55.078\ntake apart the DHCP infrastructure.\n\n271\n00:12:55.078 --> 00:12:56.220\n&gt;&gt; Thank you, yes.\n\n272\n00:12:56.220 --> 00:12:59.290\n&gt;&gt; So do want to differentiate those two,\nvery important.\n\n273\n00:12:59.290 --> 00:13:03.010\nRight, so we've gone ahead,\nwe've stood up our DHCP server.\n\n274\n00:13:03.010 --> 00:13:06.750\nWe do have our IPv4 and or IPv6 interface.\n\n275\n00:13:06.750 --> 00:13:09.260\nWe're gonna focus on IPv4 for the moment.\n\n276\n00:13:09.260 --> 00:13:12.738\nIn an upcoming conversation, we'll take\na look at, or upcoming conversations,\n\n277\n00:13:12.738 --> 00:13:13.346\nI should say.\n\n278\n00:13:13.346 --> 00:13:17.800\nWe'll talk about DHCP version 6 server and\nhow that differentiates here.\n\n279\n00:13:17.800 --> 00:13:19.930\nWe'll also talk about IPv6\nin upcoming episodes.\n\n280\n00:13:19.930 --> 00:13:21.615\nBut for the moment let's talk about IPv4.\n\n281\n00:13:21.615 --> 00:13:25.080\nAnd so down here on IPv4,\nfirst thing we're gonna do.\n\n282\n00:13:25.080 --> 00:13:28.332\nAnd they're nice enough to tell us,\nhey why don't you add a scope, right.\n\n283\n00:13:28.332 --> 00:13:30.748\nBecause we really can't\ndo anything with DHCP.\n\n284\n00:13:30.748 --> 00:13:35.593\nUnless we actually provide an address\npool for us to scope as an address pool,\n\n285\n00:13:35.593 --> 00:13:40.270\nfor us to provide IP addresses out of,\nand then provide scope options.\n\n286\n00:13:40.270 --> 00:13:43.740\nThat can be then used to\nassign further elements.\n\n287\n00:13:43.740 --> 00:13:45.770\nThe domain controller or, excuse me,\n\n288\n00:13:45.770 --> 00:13:49.420\nthe DNS server, the domain,\nthe default gateway.\n\n289\n00:13:49.420 --> 00:13:51.080\nKeep saying, I want to say domain gateway.\n\n290\n00:13:51.080 --> 00:13:53.390\nThe default gateway, the subnet mask.\n\n291\n00:13:53.390 --> 00:13:55.160\nAll that kind of stuff that we'd\nwant to provide, so first thing-\n\n292\n00:13:55.160 --> 00:13:56.480\n&gt;&gt; Any kind of reservations,\n\n293\n00:13:56.480 --> 00:13:57.930\nany kind of reservations?\n\n294\n00:13:57.930 --> 00:14:00.000\n&gt;&gt; Any kind of reservations,\nall that kind of stuff.\n\n295\n00:14:00.000 --> 00:14:01.220\nWe'll put all that in here.\n\n296\n00:14:01.220 --> 00:14:04.780\nWe have a new set of items called DHCP\npolicies that are available to us here.\n\n297\n00:14:04.780 --> 00:14:07.590\nWe'll talk more about those and\ntake a look at those in a while.\n\n298\n00:14:07.590 --> 00:14:09.640\nBut let's start over here with IPv4.\n\n299\n00:14:09.640 --> 00:14:13.140\nYou'll notice we can just right-click,\ncreate a scope.\n\n300\n00:14:13.140 --> 00:14:14.010\nSo let's just go in and\n\n301\n00:14:14.010 --> 00:14:18.410\ndo that first, have a little\nwelcome to the new scope wizard.\n\n302\n00:14:18.410 --> 00:14:21.310\nMove this over just so\nyou guys can see that.\n\n303\n00:14:21.310 --> 00:14:24.590\nSo we'll go here,\nwe're gonna give our scope a name.\n\n304\n00:14:24.590 --> 00:14:30.452\nSo let's call this our PLABSA01 scope.\n\n305\n00:14:30.452 --> 00:14:35.060\nWe'll call it scope1 just to keep track\nof it so we know what scope it is.\n\n306\n00:14:35.060 --> 00:14:38.720\nProbably put a description in there\nif we want to do that as well, right.\n\n307\n00:14:38.720 --> 00:14:41.520\nSo something like demo scope 1.\n\n308\n00:14:41.520 --> 00:14:42.270\nNow in the real world,\n\n309\n00:14:42.270 --> 00:14:47.694\nwe would probably do something a little\nbit more meaningful like desktop scope or\n\n310\n00:14:47.694 --> 00:14:53.249\nRemote office user scope or\nsomething that tells us what the scope is.\n\n311\n00:14:53.249 --> 00:14:56.020\nSo we know what those IP addresses\nare going to be used for, right?\n\n312\n00:14:56.020 --> 00:14:58.150\nSo you'd want to do that,\nso we'll click Next.\n\n313\n00:14:58.150 --> 00:15:00.561\nWe then have to specify a start and\nend IP range here.\n\n314\n00:15:00.561 --> 00:15:05.048\nSo we obviously have to know what IP\naddress block we're going to be working\n\n315\n00:15:05.048 --> 00:15:08.040\nwith, what class, and\nwhat portion of that.\n\n316\n00:15:08.040 --> 00:15:13.324\nSo we'll do 192.168.0.50 for\nour starting IP address.\n\n317\n00:15:13.324 --> 00:15:17.573\nAnd notice, when I click there,\nI just hit the Tab key.\n\n318\n00:15:17.573 --> 00:15:19.276\nIt automatically goes down and\n\n319\n00:15:19.276 --> 00:15:22.620\nfills in the settings that will\npropagate out to the client.\n\n320\n00:15:22.620 --> 00:15:28.080\nPuts in the length for the subnet mask and\nputs in the default class C subnet mask.\n\n321\n00:15:28.080 --> 00:15:32.240\nReads the IP address,\nautomatically understands what that is.\n\n322\n00:15:32.240 --> 00:15:34.010\nProvides it there as a result,\nso it's nice.\n\n323\n00:15:34.010 --> 00:15:36.710\nSo we can modify that, of course,\nbut it provides it for us.\n\n324\n00:15:36.710 --> 00:15:38.590\nOne less thing we got\nto worry about doing.\n\n325\n00:15:38.590 --> 00:15:44.007\nSo 192.168, let's do 0.100.\n\n326\n00:15:44.007 --> 00:15:47.375\nI'll just give it 50 addresses that we can\nwork with in the pool there for the scope.\n\n327\n00:15:47.375 --> 00:15:50.791\nSo we've got all that.\n\n328\n00:15:50.791 --> 00:15:55.870\nWe'll leave our default subnet mask and\nour length.\n\n329\n00:15:55.870 --> 00:15:56.965\nThere click Next.\n\n330\n00:15:56.965 --> 00:15:59.031\nAre we gonna do any exclusions?\n\n331\n00:15:59.031 --> 00:16:01.672\nAre we gonna take any of those\nIP addresses out and say,\n\n332\n00:16:01.672 --> 00:16:05.866\nhey you know what even though I'm saying\n50 to a 100, maybe I wanna hold out 50,\n\n333\n00:16:05.866 --> 00:16:09.700\n51, and 52 for certain things,\nwho knows what they'll be used for.\n\n334\n00:16:09.700 --> 00:16:14.340\nSo I wanna exclude those IP addresses so\nI could offer an exclusion or\n\n335\n00:16:14.340 --> 00:16:17.160\na range of IP addresses that I wanna use.\n\n336\n00:16:17.160 --> 00:16:21.150\nSo I can view that, so\nI can put that in there if I need to.\n\n337\n00:16:21.150 --> 00:16:25.370\nWe can also, just go back here, we can\nalso do subnet delay in milliseconds here.\n\n338\n00:16:25.370 --> 00:16:29.115\nAnd the subnet delay is actually kind\nof interesting and important because\n\n339\n00:16:29.115 --> 00:16:32.742\nwhat the delay does, and we haven't\ntalked about the actual four-step\n\n340\n00:16:32.742 --> 00:16:36.740\nprocess to request and actually get an IP\naddress as a client from a DHCP server.\n\n341\n00:16:36.740 --> 00:16:39.080\nWe're gonna go through\nthat in just a moment.\n\n342\n00:16:39.080 --> 00:16:41.760\nYou may or\nmay not be familiar with the DHCP system.\n\n343\n00:16:41.760 --> 00:16:43.890\nDORA and ROSA who we often talk about.\n\n344\n00:16:43.890 --> 00:16:45.820\nBut we're gonna talk about\nthem in just a minute.\n\n345\n00:16:45.820 --> 00:16:51.110\nBut in that process one of the things that\nwe find is that when we go a head and\n\n346\n00:16:51.110 --> 00:16:55.890\nwe get to step two, whether we use\nthe pneumonic DORA, D-O-R-A, discover,\n\n347\n00:16:55.890 --> 00:16:57.480\noffer, request, acknowledge.\n\n348\n00:16:57.480 --> 00:17:00.490\nOr ROSA, request, offer,\nselect and acknowledge.\n\n349\n00:17:00.490 --> 00:17:02.210\nHowever, we go through\nthat thought process and\n\n350\n00:17:02.210 --> 00:17:06.460\nidentify those four stages,\nstage two is always DHCP offer.\n\n351\n00:17:06.460 --> 00:17:07.220\nAnd you'll see here,\n\n352\n00:17:07.220 --> 00:17:11.190\na delay in the time duration by which a\nserver would delay transmission of a DHCP\n\n353\n00:17:11.190 --> 00:17:14.740\noffer, message is what the subnet\ndelayed milliseconds will be.\n\n354\n00:17:14.740 --> 00:17:17.470\nYou got to keep in mind\nthis is milliseconds, so\n\n355\n00:17:17.470 --> 00:17:21.260\nsetting a 30 value there is 30\nmilliseconds not 30 seconds.\n\n356\n00:17:21.260 --> 00:17:25.450\nWe sometimes will load that\ndelay in to deal with or\n\n357\n00:17:25.450 --> 00:17:29.355\noffset either traffic conditions,\nor concerns we have about routing,\n\n358\n00:17:29.355 --> 00:17:33.730\nand/or to provide just a buffer, so\nthat maybe certain applications require\n\n359\n00:17:33.730 --> 00:17:37.080\na certain amount of time to do things,\nand there may have to be delay built in.\n\n360\n00:17:37.080 --> 00:17:40.680\nThere are reasons why we may use this so\njust keep in mind that we can actually\n\n361\n00:17:40.680 --> 00:17:46.300\nspecify a delay here to deal with\nthe second stage in the four-step process\n\n362\n00:17:46.300 --> 00:17:51.660\nas we do the actual walk-through of\na client requesting a DHCP address.\n\n363\n00:17:51.660 --> 00:17:55.700\nSo that's what this particular\ntime value is, just so you know.\n\n364\n00:17:55.700 --> 00:17:57.600\nWe can put in our lease duration.\n\n365\n00:17:57.600 --> 00:18:01.120\nEight days by default has been\nthe Microsoft default for some time now.\n\n366\n00:18:01.120 --> 00:18:05.120\nWe can modify that of course,\nbut it's up to us to decide.\n\n367\n00:18:05.120 --> 00:18:07.530\nEight days,\ndo you know how many hours that is?\n\n368\n00:18:07.530 --> 00:18:09.992\n&gt;&gt; I don't know off the top of my head,\nthere you go.\n\n369\n00:18:09.992 --> 00:18:11.790\n&gt;&gt; You're supposed to know those things.\n\n370\n00:18:11.790 --> 00:18:14.445\n[LAUGH]\n&gt;&gt; So it's 24 hours times 8, right, so\n\n371\n00:18:14.445 --> 00:18:17.020\nwe got 160 and 32,\n192 hours by default, right?\n\n372\n00:18:17.020 --> 00:18:19.540\nSo we think of it as\nan eight day lease duration.\n\n373\n00:18:19.540 --> 00:18:22.990\nWe see it here, but the system actually,\nis going through that and\n\n374\n00:18:22.990 --> 00:18:24.770\ntranslating that into hours and minutes.\n\n375\n00:18:24.770 --> 00:18:27.320\nAnd we're thinking about that\nas a total all up value.\n\n376\n00:18:27.320 --> 00:18:30.130\nThe reason it's important to\nthink about this is twofold.\n\n377\n00:18:30.130 --> 00:18:33.920\nNumber one, we do have to know the maximum\nvalue of our lease, so that way,\n\n378\n00:18:33.920 --> 00:18:37.700\nwe know that IP addresses will be\navailable for, in this case, eight days.\n\n379\n00:18:37.700 --> 00:18:40.840\nBut, we also have to know that\nat half TTL, half that value,\n\n380\n00:18:40.840 --> 00:18:44.140\na client will automatically\nattempt to renew its lease\n\n381\n00:18:44.140 --> 00:18:46.900\nfirst time it connects to\nthe DHCP server to do so.\n\n382\n00:18:46.900 --> 00:18:49.381\nAssuming it's successful,\nit will renew the lease and\n\n383\n00:18:49.381 --> 00:18:52.197\ncontinue to keep the IP address,\nright, and extend its time.\n\n384\n00:18:52.197 --> 00:18:57.782\nIf it fails at 50% TTL, 87.5% TTL, right.\n\n385\n00:18:57.782 --> 00:19:00.728\nSo we're gonna go through,\nand seven-eighths,\n\n386\n00:19:00.728 --> 00:19:05.728\n87.5 is essentially seven-eighths of\nthe total value in this case at 50% ETL,\n\n387\n00:19:05.728 --> 00:19:09.430\nor four days would be the first try for\nthe client to renew.\n\n388\n00:19:09.430 --> 00:19:11.054\nIf it is successful, great no big deal.\n\n389\n00:19:11.054 --> 00:19:15.780\nIf it's not, we step back, continue\nusing that address at seven eights,\n\n390\n00:19:15.780 --> 00:19:19.770\n87.5% and/or 7 days in,\n1 day left, 24 hours to go.\n\n391\n00:19:19.770 --> 00:19:21.370\nWe'll try to renew again.\n\n392\n00:19:21.370 --> 00:19:26.450\nIf we're successful, great, it'll probably\nextend our lease, we keep the IP address.\n\n393\n00:19:26.450 --> 00:19:28.000\nBut if we're still unsuccessful for\n\n394\n00:19:28.000 --> 00:19:32.800\nany number of reasons, traffic management,\ncongestion, failure of path.\n\n395\n00:19:32.800 --> 00:19:35.750\nWhatever it may be,\nwe can't get to the DHCP server.\n\n396\n00:19:35.750 --> 00:19:39.885\nThen, thatll count down to zero, when\nthat hits zero, that being the time to\n\n397\n00:19:39.885 --> 00:19:44.250\nleave the TTL value down to zero, then,\nyou know whats gonna happen then, right?\n\n398\n00:19:44.250 --> 00:19:45.450\nWhat happens at that point?\n\n399\n00:19:45.450 --> 00:19:49.210\n&gt;&gt; Then, if you hit that T2 timer and\nthen you finally surpass that and\n\n400\n00:19:49.210 --> 00:19:51.480\nyou exceed your complete duration.\n\n401\n00:19:51.480 --> 00:19:56.420\nYou relinquish that IP address back into\nthat available pool of IP addresses, so\n\n402\n00:19:56.420 --> 00:20:00.610\nthe DHCP server will essentially\nabsorb it back into its available and\n\n403\n00:20:00.610 --> 00:20:03.140\ncould potentially lease\nit out to someone else.\n\n404\n00:20:03.140 --> 00:20:04.320\n&gt;&gt; It could.\nYou're absolutely right, and\n\n405\n00:20:04.320 --> 00:20:05.620\nthen what would happen to that client?\n\n406\n00:20:05.620 --> 00:20:08.810\nWould they, obviously now no\nlonger having that IP address.\n\n407\n00:20:08.810 --> 00:20:11.100\nHypothetically let's just\nsay it was 10005 right?\n\n408\n00:20:11.100 --> 00:20:13.480\nSo if that was the IP we take it back.\n\n409\n00:20:13.480 --> 00:20:14.580\nIt no longer has that.\n\n410\n00:20:14.580 --> 00:20:15.500\nDoes the client go to all zeroes?\n\n411\n00:20:15.500 --> 00:20:17.080\nDoes it get a different kind of address?\n\n412\n00:20:17.080 --> 00:20:18.810\nWhat would happen with it at that point?\n\n413\n00:20:18.810 --> 00:20:22.060\n&gt;&gt; So Adam, the client should\nhave obtained APIPA address so\n\n414\n00:20:22.060 --> 00:20:25.370\nthat it can still communicate\nwith our DHCP server\n\n415\n00:20:25.370 --> 00:20:28.490\nto perform a request whenever\nit decides to log on.\n\n416\n00:20:28.490 --> 00:20:29.400\n&gt;&gt; You like saying that word right?\n\n417\n00:20:29.400 --> 00:20:31.560\nSo much fun APIPA, right,\nthat's a cool little word to say.\n\n418\n00:20:31.560 --> 00:20:32.160\n&gt;&gt; It is a cool word.\n\n419\n00:20:32.160 --> 00:20:33.210\n&gt;&gt; So Cherokee's absolutely right.\n\n420\n00:20:33.210 --> 00:20:34.760\nAnd we talked about\nAPIPA in prior episodes.\n\n421\n00:20:34.760 --> 00:20:37.820\nIt will get an automatic\nprivate IP address in the,\n\n422\n00:20:38.900 --> 00:20:40.880\nI'm thinking the first two subnet blocks?\n\n423\n00:20:40.880 --> 00:20:41.521\n&gt;&gt; Scope?\n\n424\n00:20:41.521 --> 00:20:42.516\n&gt;&gt; Yes, scope.\n\n425\n00:20:42.516 --> 00:20:43.266\n&gt;&gt; In the class B address range?\n\n426\n00:20:43.266 --> 00:20:44.324\n&gt;&gt; In the class B, right, of?\n\n427\n00:20:44.324 --> 00:20:48.162\n&gt;&gt; 169.254 dot whatever dot whatever.\n\n428\n00:20:48.162 --> 00:20:49.092\n&gt;&gt; Something, something,\nit doesn't matter, right,\n\n429\n00:20:49.092 --> 00:20:49.910\nwhatever it'll be, absolutely.\n\n430\n00:20:49.910 --> 00:20:52.492\nSo we're gonna get APIPA address\nin 169.254 something, something.\n\n431\n00:20:52.492 --> 00:20:58.230\n01, 05, 200.200, doesn't matter what,\nit'll be in that range.\n\n432\n00:20:58.230 --> 00:21:01.190\nAnd then we'll bind, it being the client,\nwe'll bind that IP address.\n\n433\n00:21:01.190 --> 00:21:05.650\nThat IP address is given to it\nlocally by it's network interface and\n\n434\n00:21:05.650 --> 00:21:09.620\nthe TCP IP stack on the machine, meaning\nit is not able to talk to the DHCP.\n\n435\n00:21:09.620 --> 00:21:12.610\nThat's what caused us to get into\nthis whole issue in the first place.\n\n436\n00:21:12.610 --> 00:21:15.980\nSo we don't need to be talking to DHCP\nto be able to get in APIPA address.\n\n437\n00:21:15.980 --> 00:21:17.600\nJust wanna make that clear to everybody.\n\n438\n00:21:17.600 --> 00:21:20.970\nWe get that based on our\ninability to talk to DHCP.\n\n439\n00:21:20.970 --> 00:21:24.752\nOur inability to bind and\nrenew a valid IP address.\n\n440\n00:21:24.752 --> 00:21:29.138\nSo that local and that happens regardless\nof connectivity, and then once we get that\n\n441\n00:21:29.138 --> 00:21:33.546\naddress, we stay connected to the IP\nsubnet or in this case the LAN on 169254.\n\n442\n00:21:33.546 --> 00:21:37.630\nNot usable to go out and\nroute and get to the internet.\n\n443\n00:21:37.630 --> 00:21:40.630\nBut usable to connect to\nthe network locally and\n\n444\n00:21:40.630 --> 00:21:42.210\ntry to get back to that DHCP server.\n\n445\n00:21:42.210 --> 00:21:44.310\nWe do that five minutes by default,\n\n446\n00:21:44.310 --> 00:21:47.160\nevery five minutes to try to hit that\nDHCP server and try to get that.\n\n447\n00:21:47.160 --> 00:21:50.420\nIf we power down and power back up,\nwe check on power up and\n\n448\n00:21:50.420 --> 00:21:51.890\nstart up automatically.\n\n449\n00:21:51.890 --> 00:21:55.210\nSo we're gonna be essentially going out\nand trawling trying to get to that DHCP\n\n450\n00:21:55.210 --> 00:21:58.860\nserver to renew that lease, and hopefully\nget one at some point eventually.\n\n451\n00:21:58.860 --> 00:22:00.180\n&gt;&gt; And you keep saying locally.\n\n452\n00:22:00.180 --> 00:22:01.970\nAnd it just sparked my memory.\n\n453\n00:22:01.970 --> 00:22:03.970\nI wasn't thinking in the prior episode.\n\n454\n00:22:03.970 --> 00:22:07.830\nBut link local is that term that a lot\nof other operating systems use for\n\n455\n00:22:07.830 --> 00:22:09.700\nthat same concept there.\n\n456\n00:22:09.700 --> 00:22:12.590\n&gt;&gt; Link local address is what you're,\nyes, correct.\n\n457\n00:22:12.590 --> 00:22:15.060\nAll right, so I just hit Next on that,\n\n458\n00:22:15.060 --> 00:22:18.440\ndo we now wanna configure DHCP options,\nright?\n\n459\n00:22:18.440 --> 00:22:20.380\nSo yes, I wanna configure these options.\n\n460\n00:22:20.380 --> 00:22:24.530\nNow remember, we talked about this, scope\noptions allow us to specify additional\n\n461\n00:22:24.530 --> 00:22:26.630\nitems that may be of interest to us.\n\n462\n00:22:26.630 --> 00:22:31.180\nDomain, information like\na default gateway, DNS servers,\n\n463\n00:22:31.180 --> 00:22:35.970\nthings of that nature, DNS prefixes, all\nsort of stuff we may wanna specify there.\n\n464\n00:22:35.970 --> 00:22:39.750\nSo, lets go in, lets go ahead and\nsay yes, I will configure.\n\n465\n00:22:39.750 --> 00:22:42.370\nNow, if we say no, by the way,\nwe could do this after the fact,\n\n466\n00:22:42.370 --> 00:22:44.060\nI'll show you when we go and\nedit these once we're done,\n\n467\n00:22:44.060 --> 00:22:46.540\nbut we could always go in and\nedit these after the fact and add them in.\n\n468\n00:22:46.540 --> 00:22:49.690\nIt's no big deal, it's just that we may\nwanna do this as part of the initial\n\n469\n00:22:49.690 --> 00:22:51.360\nsetup of the scope, right.\n\n470\n00:22:51.360 --> 00:22:53.470\nSo we have our router,\nour default gateway.\n\n471\n00:22:53.470 --> 00:22:56.810\nWe could go in and program in our\ndefault gateway, so we could do that.\n\n472\n00:22:57.990 --> 00:23:02.340\nWe could go in and specify our DNS,\ndomain and DNS servers.\n\n473\n00:23:02.340 --> 00:23:06.040\nSo our parent domain practicelabs.com,\nyou can see there.\n\n474\n00:23:06.040 --> 00:23:07.490\nWe do see that.\n\n475\n00:23:07.490 --> 00:23:10.190\nAnd we do see 192 168 01.\n\n476\n00:23:10.190 --> 00:23:14.300\nOur corresponding IP address for\nour DNS server is already there.\n\n477\n00:23:14.300 --> 00:23:18.060\nSo we can go in and\nspecify additional ones if necessary.\n\n478\n00:23:18.060 --> 00:23:22.010\nWe also, believe it or not,\nstill have the ability even here.\n\n479\n00:23:22.010 --> 00:23:25.375\nAll these decades later we\ncan still use WINS, right.\n\n480\n00:23:25.375 --> 00:23:28.550\nSo we still the name resolution\nservice that refuses to die.\n\n481\n00:23:28.550 --> 00:23:30.160\nIt is like the DOS command shell\n&gt;&gt; [LAUGH]\n\n482\n00:23:30.160 --> 00:23:31.280\n&gt;&gt; Of the Windows world,\n\n483\n00:23:31.280 --> 00:23:33.360\nexcept its a networking service, right.\n\n484\n00:23:33.360 --> 00:23:36.790\nBecause, WINS, we've been talking\nabout the fact that for years,\n\n485\n00:23:36.790 --> 00:23:41.130\nwe in theory could be able to get rid of\nnet bios name revolution services, right.\n\n486\n00:23:41.130 --> 00:23:43.140\nWINS is what that represents\nwhen it's internet.\n\n487\n00:23:43.140 --> 00:23:44.520\nName service, right?\n\n488\n00:23:44.520 --> 00:23:48.430\nUser friendly based names,\nNetBIOS space names, that we would use.\n\n489\n00:23:48.430 --> 00:23:51.990\nAnd while we still have this capability,\nit's really still lingering because of\n\n490\n00:23:51.990 --> 00:23:55.045\nbackwards compatibility for\ncertain applications that require it.\n\n491\n00:23:55.045 --> 00:23:58.533\nNot because any of the modern\noperating systems like Server 16,\n\n492\n00:23:58.533 --> 00:24:02.220\nWindows 10 on the client side,\netc., would require it natively.\n\n493\n00:24:02.220 --> 00:24:04.686\nQuite the opposite So we really don't\nuse it for anything, anymore at all.\n\n494\n00:24:04.686 --> 00:24:08.670\nBut they're may be backwards compatible\nissues or interoperability that they turn\n\n495\n00:24:08.670 --> 00:24:11.698\nyou off and you're referring to\nthe same issue that are out there\n\n496\n00:24:11.698 --> 00:24:15.495\noutstanding that we would have to\naccommodate them so it is good to know.\n\n497\n00:24:15.495 --> 00:24:18.515\nRight, that it's still there and\nif we do need it, we can use it.\n\n498\n00:24:18.515 --> 00:24:22.095\nI'm hoping that when we're back together\nseveral years from now and talking\n\n499\n00:24:22.095 --> 00:24:26.495\nabout Server 2025 that perhaps by then, it\nmay have done its swan song and it's gone.\n\n500\n00:24:26.495 --> 00:24:28.232\nBut who knows, we never know.\n\n501\n00:24:28.232 --> 00:24:29.752\nFor sure what will happen here.\n\n502\n00:24:29.752 --> 00:24:31.982\nBut for now we could still see it.\n\n503\n00:24:31.982 --> 00:24:33.702\nI'm gonna date myself after remember\n\n504\n00:24:34.862 --> 00:24:38.472\nconfiguring wins back in\nthe day in Windows NT 4.\n\n505\n00:24:38.472 --> 00:24:42.850\nI mean that's how long it's been\naround I can't say that, but-\n\n506\n00:24:42.850 --> 00:24:44.680\n&gt;&gt; No, you could not say that,\n\n507\n00:24:44.680 --> 00:24:46.900\nyou would not be that old.\n\n508\n00:24:46.900 --> 00:24:48.420\nThere's no way you could be that old,\nright?\n\n509\n00:24:48.420 --> 00:24:52.760\nBut I can be, because you see this right\nhere, this color right here, all white?\n\n510\n00:24:52.760 --> 00:24:55.420\nThis should be dark if I was not that old,\nand\n\n511\n00:24:55.420 --> 00:24:57.740\nthat is my natural hair color, by the way.\n\n512\n00:24:57.740 --> 00:24:58.860\nThat is really white.\n\n513\n00:24:58.860 --> 00:25:00.450\n&gt;&gt; I can't say the same for this either.\n\n514\n00:25:00.450 --> 00:25:01.370\n&gt;&gt; I wasn't implying that.\n\n515\n00:25:01.370 --> 00:25:02.890\nI was not going to say\nanything about that.\n\n516\n00:25:02.890 --> 00:25:04.670\nI was simply saying that\nI don't color it so\n\n517\n00:25:04.670 --> 00:25:07.360\nyou could see exactly how old I really am.\n\n518\n00:25:07.360 --> 00:25:09.470\nAll right, I am ancient, as they say.\n\n519\n00:25:09.470 --> 00:25:10.280\nLong in the tooth.\n\n520\n00:25:10.280 --> 00:25:12.500\nSo Win Server, we're gonna click Next.\n\n521\n00:25:12.500 --> 00:25:15.820\nNow, we didn't specify any options here\nand there were only three, by the way,\n\n522\n00:25:15.820 --> 00:25:16.670\nwe could do in this wizard.\n\n523\n00:25:16.670 --> 00:25:18.890\nThere are many more of them But\nwe have to go and\n\n524\n00:25:18.890 --> 00:25:21.140\nedit it separately in\norder to get to those.\n\n525\n00:25:21.140 --> 00:25:25.430\nThese are just the three most common ones\nthat we often will throw in with DHCP.\n\n526\n00:25:25.430 --> 00:25:30.240\nOur default gateway, our routed interface,\nin other words for external access.\n\n527\n00:25:30.240 --> 00:25:32.730\nOur DNS Servers and domain name.\n\n528\n00:25:32.730 --> 00:25:35.690\nAnd if necessary, our [INAUDIBLE]\neverything else will be programmed in\n\n529\n00:25:35.690 --> 00:25:37.270\nseparately outside of the wizard.\n\n530\n00:25:37.270 --> 00:25:38.980\nWe do have more options for more stuff.\n\n531\n00:25:38.980 --> 00:25:41.220\nSo we'll go ahead, we'll say yeah,\nwe want to activate the scope.\n\n532\n00:25:41.220 --> 00:25:43.230\nNow if we do that,\nwe'll begin to able to lease.\n\n533\n00:25:43.230 --> 00:25:45.940\nIf we don't, we'll obviously\nthen be able to go ahead and\n\n534\n00:25:45.940 --> 00:25:47.190\nactivate it after the fact.\n\n535\n00:25:47.190 --> 00:25:50.640\nSo I'm going to go ahead and\nsay yes, just go ahead and\n\n536\n00:25:50.640 --> 00:25:54.130\nfinish this up here real quick, and\nwe'll notice we got a brand new folder\n\n537\n00:25:54.130 --> 00:25:57.200\nthat opened up here Just create them,\nand move that over.\n\n538\n00:25:57.200 --> 00:26:00.980\nYou can see it right over here, because\nsee it does say active demo scope one, and\n\n539\n00:26:00.980 --> 00:26:02.340\nour scope is there.\n\n540\n00:26:02.340 --> 00:26:03.060\nAnd if we open that up,\n\n541\n00:26:03.060 --> 00:26:06.780\nyou'll see we have our address pool,\naddress leases, reservations, those things\n\n542\n00:26:06.780 --> 00:26:10.060\nthat I talked about that give us the\nability to sign IP addresses statically.\n\n543\n00:26:10.060 --> 00:26:13.170\nYou can reserve them for\nsomebody with a MAC address so\n\n544\n00:26:13.170 --> 00:26:16.990\nwe could say yeah this machine when\nit shows up will get this IP address.\n\n545\n00:26:16.990 --> 00:26:17.830\nOur scope options,\n\n546\n00:26:17.830 --> 00:26:20.460\nthat's where we are going to go an take\na look at our other options if we\n\n547\n00:26:20.460 --> 00:26:21.670\nchoose to do that.\n\n548\n00:26:21.670 --> 00:26:23.290\nAnd then our policies, as we talked about.\n\n549\n00:26:23.290 --> 00:26:27.180\nSo our address for right here,\nyou can see is active, 50 to 100.\n\n550\n00:26:27.180 --> 00:26:29.910\nIt's the address range\nwe're using to distribute.\n\n551\n00:26:29.910 --> 00:26:31.600\nOur leases currently, right.\n\n552\n00:26:31.600 --> 00:26:34.030\nYou'll see 0, 50 was given out right here.\n\n553\n00:26:34.030 --> 00:26:37.150\nThis is the first one that was active and\ngiven out.\n\n554\n00:26:37.150 --> 00:26:40.160\nWe have a client out there,\nin other words, a Windows 10 machine\n\n555\n00:26:40.160 --> 00:26:43.220\nthat I have running as a VM,\nthat's running as a client set to DHCP.\n\n556\n00:26:43.220 --> 00:26:46.390\nSo as soon as I set this up,\nit went ahead and grabbed an IP address.\n\n557\n00:26:46.390 --> 00:26:48.490\nAnd we could see an active\nlease right there.\n\n558\n00:26:48.490 --> 00:26:50.970\nIf we go look at that,\nwe would see the information,\n\n559\n00:26:50.970 --> 00:26:53.700\nwhatever the scope options\nare that would be available.\n\n560\n00:26:53.700 --> 00:26:54.990\nWe have reservations.\n\n561\n00:26:54.990 --> 00:26:56.940\nI don't have any reservations here.\n\n562\n00:26:56.940 --> 00:26:59.000\nI can create one if I want to.\n\n563\n00:26:59.000 --> 00:27:02.280\nAnd then, scope options I said we could\ngo in and look at the existing options.\n\n564\n00:27:02.280 --> 00:27:08.370\nYou can see them there, our DNS server,\nour DNS domain name, option 006 is our DNS\n\n565\n00:27:08.370 --> 00:27:13.755\nserver, option 015, all the options have\nnumber as identifiers as well as names.\n\n566\n00:27:13.755 --> 00:27:16.555\nImportant to know that, and\nyou will see them here.\n\n567\n00:27:16.555 --> 00:27:19.725\nDNS domain names would be a good idea for\nyou, and\n\n568\n00:27:19.725 --> 00:27:22.145\nI did go to the trouble of\nputting together a little,\n\n569\n00:27:22.145 --> 00:27:25.667\nhey let's take a look at all\nour option code lists For you.\n\n570\n00:27:25.667 --> 00:27:27.247\nWould be good for\nyou to know what these are.\n\n571\n00:27:27.247 --> 00:27:28.827\nYou are expected to know them.\n\n572\n00:27:28.827 --> 00:27:31.337\nNow the realities if you're dealing\nwith DHCP on a regular basis,\n\n573\n00:27:31.337 --> 00:27:35.557\nyou probably know the common ones,\nzero three is our router, zero six is DNS.\n\n574\n00:27:35.557 --> 00:27:40.037\nAs you can see, zero one is our subnet\nmask, fifteen our domain name, but\n\n575\n00:27:40.037 --> 00:27:42.317\nthere are many others, as I pointed out,\nyou can see them here,\n\n576\n00:27:42.317 --> 00:27:45.137\nas I scroll down and\nyou may not know some of these.\n\n577\n00:27:45.137 --> 00:27:47.430\nAnd so,\nas a result Would be a good idea for\n\n578\n00:27:47.430 --> 00:27:52.590\nyou to go through and take a look at these\n&gt;&gt; There's our little T1 and\n\n579\n00:27:52.590 --> 00:27:54.230\nT2 timers we were just\ntalking about as well.\n\n580\n00:27:54.230 --> 00:27:55.380\n&gt;&gt; You mentioned that, absolutely.\n\n581\n00:27:55.380 --> 00:27:56.240\nSo you see them there.\n\n582\n00:27:56.240 --> 00:28:00.150\nAll right so,\nthat's our T1 which is the 50% timer.\n\n583\n00:28:00.150 --> 00:28:05.580\nCherokee called it a T2 timer, but\nwe generically just say 50% TTL as you\n\n584\n00:28:05.580 --> 00:28:10.620\nheard me say already, 7.5% or 7HTTL but\nformally which she rightly identified.\n\n585\n00:28:10.620 --> 00:28:12.100\nWe actually, in our documentation,\n\n586\n00:28:12.100 --> 00:28:16.980\nformally, will call them Renewal (T1) or\nRenewal Timer 1, Renewal Timer 2,\n\n587\n00:28:16.980 --> 00:28:20.090\nor Rebinding, sometimes,\nis what you often see.\n\n588\n00:28:20.090 --> 00:28:22.950\nAnd that's just the two items,\nthe 50% and-or the 87.5.\n\n589\n00:28:22.950 --> 00:28:25.390\nSo, you can see those there.\n\n590\n00:28:25.390 --> 00:28:29.220\nLease time,\nour total amount of lease time, option 51.\n\n591\n00:28:29.220 --> 00:28:31.350\nNetBIOS scope ID, if you're using WINS.\n\n592\n00:28:31.350 --> 00:28:33.150\nYou'll have to specify some of that stuff.\n\n593\n00:28:33.150 --> 00:28:34.540\nSo what would be good for\nyou to take a look.\n\n594\n00:28:34.540 --> 00:28:38.280\nthis is a word document included for\nyou in the show notes.\n\n595\n00:28:38.280 --> 00:28:39.580\nMake sure you have that.\n\n596\n00:28:39.580 --> 00:28:43.370\nWe have a little handy chart for\nstudying and other purposes.\n\n597\n00:28:43.370 --> 00:28:45.670\nIt also makes a great\nairplane if you print it out.\n\n598\n00:28:45.670 --> 00:28:46.350\nFly it.\n\n599\n00:28:46.350 --> 00:28:51.710\nYou can say that you were able to take\nflight with your IP scope options.\n\n600\n00:28:51.710 --> 00:28:54.830\nAll right, so you'll see here\nif we want to configure options.\n\n601\n00:28:54.830 --> 00:28:57.450\nYou'll see I can right click\nhere configure options,\n\n602\n00:28:57.450 --> 00:28:58.590\nAll I get is a little pick list here.\n\n603\n00:28:58.590 --> 00:28:59.910\nReal simple to work with.\n\n604\n00:28:59.910 --> 00:29:03.360\nI check off the appropriate\noption whatever it may be and\n\n605\n00:29:03.360 --> 00:29:06.050\nI specify whatever that\nparticular item is.\n\n606\n00:29:06.050 --> 00:29:10.920\nSome as you can see like time offset\nare just gonna be the hex value.\n\n607\n00:29:10.920 --> 00:29:14.540\nOther's you can see here are gonna be\nyou know information we provide as an IP\n\n608\n00:29:14.540 --> 00:29:16.130\naddress whatever the case may be.\n\n609\n00:29:16.130 --> 00:29:18.640\nSo you add these, you apply them and\nthen they get added in here.\n\n610\n00:29:18.640 --> 00:29:19.320\nVery simple to do.\n\n611\n00:29:19.320 --> 00:29:20.040\nAll right.\n\n612\n00:29:20.040 --> 00:29:21.450\nSo we have that.\n\n613\n00:29:21.450 --> 00:29:22.870\nWe have our IP address lease.\n\n614\n00:29:22.870 --> 00:29:24.450\nLet's take a look while we're here.\n\n615\n00:29:24.450 --> 00:29:27.760\nAnd you'll see that I can delete\nthe lease, getting rid of it.\n\n616\n00:29:27.760 --> 00:29:30.540\nI can refresh just to make\nsure I see that it's active.\n\n617\n00:29:30.540 --> 00:29:32.920\nI can also add this to a reservation.\n\n618\n00:29:32.920 --> 00:29:36.710\nTake a lease that's been given out and\nmake it into a reservation, binding it\n\n619\n00:29:36.710 --> 00:29:40.800\npermanently for that client, and keeping\nit as a static IP grant if I choose to.\n\n620\n00:29:40.800 --> 00:29:43.060\nIt's up to me to decide how to do that.\n\n621\n00:29:43.060 --> 00:29:46.340\nI can also go in, and since we're here\nlet's just take a look at reservations.\n\n622\n00:29:46.340 --> 00:29:50.220\nI want to create a brand new reservation,\na new reservation, right-click and\n\n623\n00:29:50.220 --> 00:29:51.900\njust come on over here.\n\n624\n00:29:51.900 --> 00:29:58.910\nAnd I can give the resolution a name,\nIP res 1, or whatever it may be.\n\n625\n00:29:58.910 --> 00:30:01.840\nNotice the part of the IP block\nis already configured for me.\n\n626\n00:30:01.840 --> 00:30:04.770\nThe network portion, because,\nthe interfaces is smart enough to know hey\n\n627\n00:30:04.770 --> 00:30:08.530\nyou're gonna probably reserve\nit in the active pool.\n\n628\n00:30:08.530 --> 00:30:10.480\nAnd, the active pool's\nnetwork ID is 192.1.68.\n\n629\n00:30:10.480 --> 00:30:12.410\nSo we're gonna put that in.\n\n630\n00:30:12.410 --> 00:30:16.110\nBut, remember it's the individual unique\nhost IDs that we have to specify.\n\n631\n00:30:16.110 --> 00:30:21.080\nSo, that's why the second part of that\nis not gonna be there so if I do 0.,\n\n632\n00:30:21.080 --> 00:30:27.170\nlet's say 65 cuz out of my\nblock of 50 to 100 I can do 65.\n\n633\n00:30:27.170 --> 00:30:30.330\nI have to provide a Mac address here for\na client.\n\n634\n00:30:30.330 --> 00:30:32.030\nThis is how I reserve,\n\n635\n00:30:32.030 --> 00:30:35.490\nI reserve based on the MAC address because\nif you think about the logic of it But\n\n636\n00:30:35.490 --> 00:30:40.250\nthe only unique identifier that the client\nwould have, they don't have an IP address.\n\n637\n00:30:40.250 --> 00:30:41.760\nIt's gonna be the MAC address.\n\n638\n00:30:41.760 --> 00:30:45.290\nThat in theory, should be unique for\nevery interface.\n\n639\n00:30:45.290 --> 00:30:49.450\nRight now we can play games and\nwe talk that in security Discussions and\n\n640\n00:30:49.450 --> 00:30:52.790\nhacking discussions about the fact that\nwe have tools that let us modify and\n\n641\n00:30:52.790 --> 00:30:53.850\nspoof MAC addresses.\n\n642\n00:30:53.850 --> 00:30:56.430\nBut let's assume that's not happening,\nlet's just assume for\n\n643\n00:30:56.430 --> 00:31:01.310\na minute standard network,\neverybody has one MAC address per\n\n644\n00:31:01.310 --> 00:31:04.370\nnetwork interface minimally,\nwe could bind secondary ones.\n\n645\n00:31:04.370 --> 00:31:05.920\nVirtual environments, we do that.\n\n646\n00:31:05.920 --> 00:31:09.650\nBut let's assume for\na minute that just standard rules apply,\n\n647\n00:31:09.650 --> 00:31:12.150\nno crazy stuff going on.\n\n648\n00:31:12.150 --> 00:31:13.870\nYou have a network interface.\n\n649\n00:31:13.870 --> 00:31:15.350\nWe have a MAC address associated with it.\n\n650\n00:31:15.350 --> 00:31:16.210\nIt's unique.\n\n651\n00:31:16.210 --> 00:31:19.150\nWe would put it in here when we\ndo that and the client shows up.\n\n652\n00:31:19.150 --> 00:31:21.650\nWe're going to talk about this\nmultistep process right now.\n\n653\n00:31:21.650 --> 00:31:24.070\nWhen they show up to make a request for\n\n654\n00:31:24.070 --> 00:31:28.250\na DHCP sponsored address\nthey present as part of\n\n655\n00:31:28.250 --> 00:31:32.810\nthe packet that they sent they present\ntheir MAC address in the packet header.\n\n656\n00:31:32.810 --> 00:31:35.640\nWe can match that MAC address\nto the reservation list.\n\n657\n00:31:35.640 --> 00:31:39.040\nIf we see it, we automatically give\nthem whatever address is on file\n\n658\n00:31:39.040 --> 00:31:41.360\nbecause that's what's been\ndetermined that they will get.\n\n659\n00:31:41.360 --> 00:31:45.460\nSo this how we actually\ndeal with our reservations,\n\n660\n00:31:45.460 --> 00:31:46.990\nif we choose or need to create one.\n\n661\n00:31:46.990 --> 00:31:51.290\nAnd you'll see we have both DHCP And\nor BOOTP.\n\n662\n00:31:51.290 --> 00:31:53.339\nBOOTP is sometimes called\nthe Bootstrap Protocol.\n\n663\n00:31:53.339 --> 00:31:57.650\nBOOTP is used for network boots, so\nPXE booting for instance, right?\n\n664\n00:31:57.650 --> 00:31:59.499\nYour ever see the Broadway\nshow Kinky Boots?\n\n665\n00:31:59.499 --> 00:32:02.800\nNo, but from,\nyou may be able to expand on this.\n\n666\n00:32:04.000 --> 00:32:06.400\nThis protocol,\npicking yourself up by your boot straps.\n\n667\n00:32:06.400 --> 00:32:11.240\nThere was some kind of like, mid-century\nfilm, where they got this name from.\n\n668\n00:32:11.240 --> 00:32:12.920\nAm I totally off base here?\n\n669\n00:32:12.920 --> 00:32:14.080\nBut, that's what I've been told.\n\n670\n00:32:14.080 --> 00:32:15.700\n&gt;&gt; To name the boot strap\nprotocol you're talking about?\n\n671\n00:32:15.700 --> 00:32:17.280\n&gt;&gt; Yep.\n&gt;&gt; Or picking yourself up by your boot\n\n672\n00:32:17.280 --> 00:32:19.010\nstraps\n&gt;&gt; Picking yourself up by your boot\n\n673\n00:32:19.010 --> 00:32:24.400\nstraps, coming originally from of show,\ncinema if you will, right.\n\n674\n00:32:24.400 --> 00:32:27.620\n&gt;&gt; Well the concepts of\nbootstraps actually come from,\n\n675\n00:32:27.620 --> 00:32:32.010\nVictorian era probably, Elizabethan era\nI would guess, somewhere in that range.\n\n676\n00:32:32.010 --> 00:32:36.500\nGentleman and ladies both, but especially\ngentleman if they were of a certain class,\n\n677\n00:32:36.500 --> 00:32:38.190\nwould have you know the big boots.\n\n678\n00:32:38.190 --> 00:32:39.630\nThey would pull them on, but\n\n679\n00:32:39.630 --> 00:32:42.060\nthey would have little straps that\nthey would use to actually bring.\n\n680\n00:32:42.060 --> 00:32:42.580\n&gt;&gt; Without assistance.\n\n681\n00:32:42.580 --> 00:32:43.500\n&gt;&gt; All the way up right,\n\n682\n00:32:43.500 --> 00:32:46.630\nthey actually had a tool it looked like\na little ice pick hook kind of thing.\n\n683\n00:32:46.630 --> 00:32:50.720\nYou would insert it, and\nyou would pull right to be able to pull\n\n684\n00:32:50.720 --> 00:32:53.280\nyour boots on by the straps,\nthat's where the concept comes from.\n\n685\n00:32:53.280 --> 00:32:55.220\nSo that's how you would put your boots on.\n\n686\n00:32:55.220 --> 00:32:56.548\nOf course,\ntaking them off was a whole other issue.\n\n687\n00:32:56.548 --> 00:32:57.720\n&gt;&gt; [LAUGH]\n&gt;&gt; You had to have like four other people,\n\n688\n00:32:57.720 --> 00:32:59.950\nand they had to pull, it was kinda crazy.\n\n689\n00:32:59.950 --> 00:33:02.780\nBut you would pull your\nbootstraps to pull your boots on.\n\n690\n00:33:02.780 --> 00:33:03.950\nThat was the idea.\n\n691\n00:33:03.950 --> 00:33:07.345\nThe linkage between that and\nthe bootstrap protocol,\n\n692\n00:33:07.345 --> 00:33:10.164\nthat part I'm not really\nthat I don't know.\n\n693\n00:33:10.164 --> 00:33:11.743\nYou got me, I don't know.\n\n694\n00:33:11.743 --> 00:33:13.660\n&gt;&gt; I think it's because\nyou're not relying.\n\n695\n00:33:13.660 --> 00:33:16.380\nYou don't have to have a hard drive.\n\n696\n00:33:16.380 --> 00:33:19.760\nYou don't have to have something else.\n\n697\n00:33:19.760 --> 00:33:24.210\nYou can just pull yourself up on\nthe network I don't know [LAUGH].\n\n698\n00:33:24.210 --> 00:33:27.720\n&gt;&gt; I mean in theory I can see more or less\nthe concept if that's what it refers to.\n\n699\n00:33:27.720 --> 00:33:31.358\nThe idea of bootstrapping or the boot-p\nprotocol, this idea of a network boot,\n\n700\n00:33:31.358 --> 00:33:33.401\npixie boot,\nwe can refer to different ways.\n\n701\n00:33:33.401 --> 00:33:37.889\nBut, ultimately the idea is that you're\nusing a prevloaded amount of information,\n\n702\n00:33:37.889 --> 00:33:40.194\ntypically in a boot ram\non the network card,\n\n703\n00:33:40.194 --> 00:33:44.459\nas opposed to having to boot from a hard\ndrive, as you suggested, with a fool OS.\n\n704\n00:33:44.459 --> 00:33:47.323\nTo be able to give yourself\njust enough information and\n\n705\n00:33:47.323 --> 00:33:51.680\nenvironmental control to be able to bring\nthe system up, go out over the network and\n\n706\n00:33:51.680 --> 00:33:53.503\nlook for, typically these days.\n\n707\n00:33:53.503 --> 00:33:54.835\nA multi cast system,\n\n708\n00:33:54.835 --> 00:33:58.450\nwhere we could download an image more\noften than not is what we're doing.\n\n709\n00:33:58.450 --> 00:34:00.029\nIf we're doing this and we're imaging.\n\n710\n00:34:00.029 --> 00:34:03.328\nAnd we would be doing that, it gives\nus the ability to be self-sufficient,\n\n711\n00:34:03.328 --> 00:34:04.740\nmaybe that's the tie in.\n\n712\n00:34:04.740 --> 00:34:08.760\nPerhaps, I like the logic of\nbeing able to boot locally from\n\n713\n00:34:08.760 --> 00:34:12.284\nthe machine without a fully installed or\nin this case without an operating system.\n\n714\n00:34:12.284 --> 00:34:14.985\nBut give us just enough to be\nable to get to the network,\n\n715\n00:34:14.985 --> 00:34:16.295\ngive us network connectivity.\n\n716\n00:34:16.295 --> 00:34:18.895\nThat comes from the network\ncard traditionally, right,\n\n717\n00:34:18.895 --> 00:34:20.255\nthat capability on the network card.\n\n718\n00:34:20.255 --> 00:34:23.535\nSo, that may very well be historically\nwhat they were referring to.\n\n719\n00:34:23.535 --> 00:34:26.335\nI'm not sure but that's what we can\ngo with, I like that so that's great.\n\n720\n00:34:26.335 --> 00:34:27.888\n&gt;&gt; [LAUGH] I like that it sounds good.\n\n721\n00:34:27.888 --> 00:34:29.920\n&gt;&gt; So we do have that capability here.\n\n722\n00:34:29.920 --> 00:34:33.640\nAnd thank you for joining us in\nthe Elizabethan theater discussing IPv4,\n\n723\n00:34:33.640 --> 00:34:36.670\nand how that integrates with\nall those things today.\n\n724\n00:34:36.670 --> 00:34:38.890\nSo, we can see,\nif we go back to the interface,\n\n725\n00:34:38.890 --> 00:34:41.100\nyou will see that we do\nhave that capability.\n\n726\n00:34:41.100 --> 00:34:42.730\nTraditionally, you leave it set to both.\n\n727\n00:34:42.730 --> 00:34:44.620\nBecause that way,\nwe're able to provide support for\n\n728\n00:34:44.620 --> 00:34:46.870\nboth of those through a reservation.\n\n729\n00:34:46.870 --> 00:34:49.166\nI'm not gonna bother to create\na reservation, but you get the idea.\n\n730\n00:34:49.166 --> 00:34:52.820\nLet's just go through quickly, to wrap\nup this first part of our discussion.\n\n731\n00:34:52.820 --> 00:34:54.130\nWhat the thought process is for\n\n732\n00:34:54.130 --> 00:34:56.240\na client to actually be able\nto lease an IP address.\n\n733\n00:34:56.240 --> 00:34:58.410\nI keep referring to these four steps,\n\n734\n00:34:58.410 --> 00:35:01.360\nI'm referring to the ideas of the DHCP\nsisters that you often hear referred to.\n\n735\n00:35:01.360 --> 00:35:02.600\n&gt;&gt; Yeah, we get to meet your friends.\n\n736\n00:35:02.600 --> 00:35:05.905\n&gt;&gt; Your friends DORA and ROSA,\nright, very lovely young ladies.\n\n737\n00:35:05.905 --> 00:35:06.566\n&gt;&gt; [LAUGH]\n&gt;&gt; And so\n\n738\n00:35:06.566 --> 00:35:10.467\nthe idea behind this is a four step\nprocess that a client will engage in\n\n739\n00:35:10.467 --> 00:35:14.515\nalong with the server, two component\nparts that make this process up.\n\n740\n00:35:14.515 --> 00:35:17.080\nWe have the server side,\nyou've seen us configuring that here.\n\n741\n00:35:17.080 --> 00:35:18.310\nThe client would be any machine.\n\n742\n00:35:18.310 --> 00:35:22.170\nAnd by the way, this does not need to be\na Microsoft Operating System based client.\n\n743\n00:35:22.170 --> 00:35:25.500\nWe can service non Microsoft\nclients through a DHCP server.\n\n744\n00:35:25.500 --> 00:35:27.314\nSo just keep that in mind and\nbe aware of that.\n\n745\n00:35:27.314 --> 00:35:30.480\nWe're tight on Microsoft's\nspecific DHCP infrastructure here.\n\n746\n00:35:30.480 --> 00:35:35.190\nBut any machine on the planet with any\nOperating System that provides basic\n\n747\n00:35:35.190 --> 00:35:40.640\nDHCP support can use a DHCP server to\ndownload and lease and gain an IP address.\n\n748\n00:35:40.640 --> 00:35:42.820\nThis is not a Microsoft\nspecific functionality,\n\n749\n00:35:42.820 --> 00:35:44.360\nby any means just to be clear.\n\n750\n00:35:44.360 --> 00:35:47.210\nNeither is DNS by the way, a secret most\npeople don't remember and think about.\n\n751\n00:35:48.270 --> 00:35:51.390\nWe'll talk about something known\nas buying when we get into DNS.\n\n752\n00:35:51.390 --> 00:35:54.540\nAnd the concept of non Microsoft\ncapabilities in the network stack\n\n753\n00:35:54.540 --> 00:35:55.390\nof bounce.\n\n754\n00:35:55.390 --> 00:35:58.890\nMicrosoft doesn't lay claim to any of this\nstuff, nor should they with the exception\n\n755\n00:35:58.890 --> 00:36:03.330\nof the use of and really tying\nthat into their infrastructure.\n\n756\n00:36:03.330 --> 00:36:06.880\nThat is their contribution\nto this as great or\n\n757\n00:36:06.880 --> 00:36:08.540\nas bad as you may think of that as being.\n\n758\n00:36:08.540 --> 00:36:10.450\nBut generically the idea of the NCP and\n\n759\n00:36:10.450 --> 00:36:13.910\nDNS exists outside of Microsoft\ninfrastructure, just to be clear.\n\n760\n00:36:13.910 --> 00:36:15.530\nBut the four step process, right?\n\n761\n00:36:15.530 --> 00:36:19.650\nSo let's use Dora,\nD-O-R-A is our mnemonic or\n\n762\n00:36:19.650 --> 00:36:24.437\nour four letter acronym that will\ndescribe for us what the four\n\n763\n00:36:24.437 --> 00:36:29.890\nstages of DHCP request, or the ability\nto be able to get a address will be.\n\n764\n00:36:29.890 --> 00:36:36.270\nD, stands for discover, O, for offer,\nR, for request, A, for acknowledge.\n\n765\n00:36:36.270 --> 00:36:39.030\nSo DORA, discover,offer,\nrequest, acknowledge.\n\n766\n00:36:39.030 --> 00:36:40.990\nWe go through and use ROSA.\n\n767\n00:36:40.990 --> 00:36:43.050\nAgain, four stages, same idea,\n\n768\n00:36:43.050 --> 00:36:46.420\nyou can stand them upside by side and\nwalk right down the list.\n\n769\n00:36:46.420 --> 00:36:53.330\nROSA, R for request, O for offer,\nS for selection, A for acknowledgment.\n\n770\n00:36:53.330 --> 00:36:57.690\nEither way, they both speak to the four\nstages just a matter whose documentation\n\n771\n00:36:57.690 --> 00:37:00.750\nyou read, and what they happen\nto refer of the four stages as.\n\n772\n00:37:00.750 --> 00:37:03.798\nBut you will put the word, or\nthe letters DHCP in front of each one.\n\n773\n00:37:03.798 --> 00:37:08.980\nSo a DHCP discover packet,\na DHCP offer, a DHCP request.\n\n774\n00:37:08.980 --> 00:37:13.050\nA DHCP acknowledge will be the way\nyou see it often referred to.\n\n775\n00:37:13.050 --> 00:37:15.780\nSo the client will go ahead initially, and\n\n776\n00:37:15.780 --> 00:37:19.590\nsend out a broadcast message to any and\nall systems.\n\n777\n00:37:19.590 --> 00:37:23.320\nBecause the client, if it's using\nthe DHCP initially, or attempting to,\n\n778\n00:37:23.320 --> 00:37:26.815\ndoes not have a fixed static IP address\nthat it can use to do what is called\n\n779\n00:37:26.815 --> 00:37:28.120\na unicast transmission.\n\n780\n00:37:28.120 --> 00:37:30.590\nEssentially a one-to-one transmission.\n\n781\n00:37:30.590 --> 00:37:32.110\nSo it's gonna broadcast initially.\n\n782\n00:37:32.110 --> 00:37:36.265\nIt's gonna send out a message\nusing the discover or the request.\n\n783\n00:37:36.265 --> 00:37:39.814\nDR, D or R, whether we're doing DORA or\nROSE, it doesn't matter,\n\n784\n00:37:39.814 --> 00:37:40.990\nit's the same thing.\n\n785\n00:37:40.990 --> 00:37:45.060\nThe client broadcasting says hey,\nI need to find a DHCP server.\n\n786\n00:37:45.060 --> 00:37:50.065\nAnd any DHCP server on this subnet,\nand or remotely that's available\n\n787\n00:37:50.065 --> 00:37:54.840\nthrough either a DHCP relay agent,\nor an RFC 1542 compliant router.\n\n788\n00:37:54.840 --> 00:38:00.250\nA router that will allow us to propagate\nthis special kind of broadcast traffic.\n\n789\n00:38:00.250 --> 00:38:04.196\nKnown as DHCP traffic or bootstrap\ntraffic, cuz that's what the BOOTP\n\n790\n00:38:04.196 --> 00:38:08.484\nprotocol is used for as well, to be able\nto send this traffic across a router.\n\n791\n00:38:08.484 --> 00:38:12.499\nRouters traditionally, are used to prevent\nbroadcasts across their interface,\n\n792\n00:38:12.499 --> 00:38:16.010\nstopping broadcast storms from\npropagating, one network to another.\n\n793\n00:38:16.010 --> 00:38:19.770\nVery important from a security and\nperformance standpoint to do this.\n\n794\n00:38:19.770 --> 00:38:22.212\nBut we allow certain kinds\nof broadcast traffic.\n\n795\n00:38:22.212 --> 00:38:24.975\nAnd DHCP traffic is one\nof those rare excetions.\n\n796\n00:38:24.975 --> 00:38:27.742\nAnd if we are RFC1542 compliant, and\n\n797\n00:38:27.742 --> 00:38:33.120\nany router made in the last seven to ten\nyears is gonna be that automatically.\n\n798\n00:38:33.120 --> 00:38:37.160\nWe will then allow that traffic to go\nthrough routed interface hitting a DHCP\n\n799\n00:38:37.160 --> 00:38:41.620\nserver somewhere on another subnet,\nallowing us to conversate, conversate?\n\n800\n00:38:41.620 --> 00:38:42.540\n&gt;&gt; Conversate.\nYeah, we do that.\n\n801\n00:38:42.540 --> 00:38:45.210\n&gt;&gt; Conversate,\nhave a conversation with that router.\n\n802\n00:38:45.210 --> 00:38:46.830\nAnd then lease an address.\n\n803\n00:38:46.830 --> 00:38:49.340\nSo that's step one,\ndid you wanna add something there?\n\n804\n00:38:49.340 --> 00:38:52.640\n&gt;&gt; Just a few things,\nthat's just going to be from Cisco LAN,\n\n805\n00:38:52.640 --> 00:38:53.910\nthey call that IP Helper.\n\n806\n00:38:53.910 --> 00:38:57.846\nAnd then you had mentioned,\nyour DHCP relay, so\n\n807\n00:38:57.846 --> 00:38:59.150\njust kinda\n&gt;&gt; Relay agent\n\n808\n00:38:59.150 --> 00:39:00.180\n&gt;&gt; Relay agent, yes\n\n809\n00:39:00.180 --> 00:39:01.070\n&gt;&gt; That's what Microsoft\n\n810\n00:39:01.070 --> 00:39:01.800\ncalls\n&gt;&gt; Yup\n\n811\n00:39:01.800 --> 00:39:04.520\n&gt;&gt; The piece of infrastructure we use\n\n812\n00:39:04.520 --> 00:39:07.220\nin lieu of a RC1542 compliant router.\n\n813\n00:39:07.220 --> 00:39:11.580\nThe relay agent is simply a machine\nthat will straddle two networks,\n\n814\n00:39:11.580 --> 00:39:14.090\nso essentially,\nit's a multi homed computer.\n\n815\n00:39:14.090 --> 00:39:16.018\nNothing special about it other than that.\n\n816\n00:39:16.018 --> 00:39:20.141\nBut it has an IP address interface\nthat sits in our local subnet.\n\n817\n00:39:20.141 --> 00:39:24.087\nWhere we're broadcasting, and can then\npropagate and take that broadcast.\n\n818\n00:39:24.087 --> 00:39:29.220\nPackage it up and proxy on behalf of\nthe client that does not have an IP.\n\n819\n00:39:29.220 --> 00:39:33.438\nAnd allow it to go out and request\nit across the subnet somewhere else,\n\n820\n00:39:33.438 --> 00:39:35.165\nacross a routed interface.\n\n821\n00:39:35.165 --> 00:39:38.600\nSo our router can act this way,\nanother computer can act this way.\n\n822\n00:39:38.600 --> 00:39:40.950\nThere's lots of different things\nthat could be relay agents.\n\n823\n00:39:40.950 --> 00:39:45.957\nBut whatever it is, the relay agent\nacts like an RFC 1542 compliant device.\n\n824\n00:39:45.957 --> 00:39:49.716\nEssentially relaying the broadcast\ntraffic, but it allows us to have\n\n825\n00:39:49.716 --> 00:39:53.093\nthe communication without having\nthe dedicated IP address and\n\n826\n00:39:53.093 --> 00:39:55.700\nthe subnet To reach a remote DHCP server.\n\n827\n00:39:55.700 --> 00:39:57.827\nSo we call that our DHCP relation.\n\n828\n00:39:57.827 --> 00:39:59.710\nDid get that right?\n\n829\n00:39:59.710 --> 00:40:01.000\n&gt;&gt; Yes and there was one more thing.\n\n830\n00:40:01.000 --> 00:40:02.400\n&gt;&gt; What else.\n\n831\n00:40:02.400 --> 00:40:05.310\n&gt;&gt; Also to just kind of add to what you\nsaid about keeping an open mind that\n\n832\n00:40:05.310 --> 00:40:07.000\nMicrosoft doesn't like\nclaim to any of this.\n\n833\n00:40:07.000 --> 00:40:08.730\nWe had a comment in the chat and\n\n834\n00:40:08.730 --> 00:40:13.110\nthey said that they run DHCP on\ntheir PF sence firewall which\n\n835\n00:40:13.110 --> 00:40:17.320\nbecause this is a Microsoft certification\nseries, that's what we're covering here.\n\n836\n00:40:17.320 --> 00:40:20.770\nBut just, yes,\nyou are able to run DHCP on other devices.\n\n837\n00:40:20.770 --> 00:40:25.380\nIt's just not limited to this capacity but\nthat's what we're doing right now.\n\n838\n00:40:25.380 --> 00:40:27.860\n&gt;&gt; Absolutely, I mean, most of you,\nif you just think about the logic, and\n\n839\n00:40:27.860 --> 00:40:32.590\nI think I spoke about this in other\nepisodes where you get your cable modem or\n\n840\n00:40:32.590 --> 00:40:37.260\nyour DSL box, whatever you get from your\ncable provider, and you set that thing up.\n\n841\n00:40:37.260 --> 00:40:41.190\nYou're running DHCP as a service on\nthere to lease your addresses internally\n\n842\n00:40:41.190 --> 00:40:44.680\nbehind your NAT device which is kind\nof all in one box you're using at home.\n\n843\n00:40:44.680 --> 00:40:48.580\nSo you run DHCP on almost anything and\nthat's not running a Microsoft OS.\n\n844\n00:40:48.580 --> 00:40:50.870\nThat's just running\na little dedicated OS or\n\n845\n00:40:50.870 --> 00:40:54.050\nan iOS that's running inside\nof that device, right?\n\n846\n00:40:54.050 --> 00:40:55.150\nYou mentioned Cisco.\n\n847\n00:40:55.150 --> 00:40:58.860\nThere's just about any operating\nsystem on the planet realistically\n\n848\n00:40:58.860 --> 00:41:02.060\ncan implement this because this\nis not an OS-specific function.\n\n849\n00:41:02.060 --> 00:41:05.350\nThis is a network stack TCP/IP function.\n\n850\n00:41:05.350 --> 00:41:08.800\nSo as a result of that,\nDHCP itself, the support for\n\n851\n00:41:08.800 --> 00:41:11.470\nit, comes from our ability\nto use the network stack.\n\n852\n00:41:11.470 --> 00:41:14.740\nHow we implement it at the high levels\nof the OS, with things like management\n\n853\n00:41:14.740 --> 00:41:19.900\nconsoles and all the pretty bells and\nwhistles, is certainly reliant on the OS.\n\n854\n00:41:19.900 --> 00:41:23.990\nBut the basic underlying assumptions,\ncome to us from our networking stack.\n\n855\n00:41:23.990 --> 00:41:27.390\nAnd so they're vendor independent and\nnon-vendor specific as a result.\n\n856\n00:41:27.390 --> 00:41:30.590\nSo we definitely could run them on\nany kind of device that supports\n\n857\n00:41:30.590 --> 00:41:32.520\nimplementation of the service and\n\n858\n00:41:32.520 --> 00:41:36.100\nis able to use the protocols in order\nto drive that traffic exchange.\n\n859\n00:41:36.100 --> 00:41:41.100\nHaving said that, step number two, so the\nclient has broadcast out its request for\n\n860\n00:41:41.100 --> 00:41:45.900\na piece of the action to get\na DHCP sponsored IP address.\n\n861\n00:41:45.900 --> 00:41:48.020\nStep two, server or servers.\n\n862\n00:41:48.020 --> 00:41:50.810\nAny interface that is, and\nthere may be more than one DHCP server,\n\n863\n00:41:50.810 --> 00:41:53.310\nby the way,\nwithin earshot of the broadcast.\n\n864\n00:41:53.310 --> 00:41:57.970\nAll servers that hear it will respond,\nso they will now, right, step two.\n\n865\n00:41:57.970 --> 00:41:59.450\nDiscover for DORA.\n\n866\n00:41:59.450 --> 00:42:00.510\nOffer, right?\n\n867\n00:42:00.510 --> 00:42:01.380\nDHCP offer.\n\n868\n00:42:01.380 --> 00:42:02.170\nOr ROSA.\n\n869\n00:42:02.170 --> 00:42:03.790\nWe just did request, step two, offer.\n\n870\n00:42:03.790 --> 00:42:05.240\nIt's the same in both.\n\n871\n00:42:05.240 --> 00:42:08.170\nThe DHCP servers will\noffer their services, so\n\n872\n00:42:08.170 --> 00:42:12.490\nthey will send back a message\nthat says by the way.\n\n873\n00:42:12.490 --> 00:42:13.370\nWe're here,\n\n874\n00:42:13.370 --> 00:42:17.100\nwe heard you and we're available if\nyou're interested in doing business.\n\n875\n00:42:17.100 --> 00:42:20.090\nThey have not offered\nan IP address in step two.\n\n876\n00:42:20.090 --> 00:42:22.890\nThey've offered their services\nto give an IP address\n\n877\n00:42:22.890 --> 00:42:26.440\nin a future conversation which is gonna\nbe coming up in the next two steps.\n\n878\n00:42:26.440 --> 00:42:30.940\nSo step two is about the server\nresponding to the clients broadcast and\n\n879\n00:42:30.940 --> 00:42:32.890\nsaying I'm available open for business.\n\n880\n00:42:32.890 --> 00:42:33.840\nHappy to meet you.\n\n881\n00:42:33.840 --> 00:42:35.190\nWhat can I do for you?\n\n882\n00:42:35.190 --> 00:42:37.580\nNow if we get more than one offer,\n\n883\n00:42:37.580 --> 00:42:40.340\nas the client we have an embarrassment\nof riches at that point, right,\n\n884\n00:42:40.340 --> 00:42:44.290\nwe have more than one inbound request,\nwe have to now do the right thing.\n\n885\n00:42:44.290 --> 00:42:47.990\nWe have to thank you to everybody and\nto one of the say, thank you and\n\n886\n00:42:47.990 --> 00:42:49.790\nyes I'd like to do business with you.\n\n887\n00:42:49.790 --> 00:42:52.030\nAnd to the others, thank you but\nno thank you, right?\n\n888\n00:42:52.030 --> 00:42:54.580\nBecause it's impolite to say,\nI need help, and then not respond and\n\n889\n00:42:54.580 --> 00:42:56.160\nthank everybody who offers, right?\n\n890\n00:42:56.160 --> 00:42:56.910\nSo we have to do that.\n\n891\n00:42:56.910 --> 00:42:58.265\nWe're a very polite networking.\n\n892\n00:42:58.265 --> 00:42:59.840\n&gt;&gt; [LAUGH]\n&gt;&gt; Functionality here.\n\n893\n00:42:59.840 --> 00:43:02.550\nSo we have to follow the civil\nrules of networking order.\n\n894\n00:43:02.550 --> 00:43:05.710\nSo we're gonna say thank you to everybody\nbut we're gonna choose the first server\n\n895\n00:43:05.710 --> 00:43:08.490\nthat responds back and\ndo business with that one.\n\n896\n00:43:08.490 --> 00:43:12.580\nSo first pass to post wins, everybody\nelse gets a thank you, but no thank you.\n\n897\n00:43:12.580 --> 00:43:16.570\nStep three, the server,\nwhat we're going to do now in step three,\n\n898\n00:43:16.570 --> 00:43:22.110\ndiscover author requests that\nare Fedora request offer selection.\n\n899\n00:43:22.110 --> 00:43:24.470\nThe S in rows it's the same thing.\n\n900\n00:43:24.470 --> 00:43:27.390\nREquest or selection,\nthat's the client sending back those\n\n901\n00:43:27.390 --> 00:43:30.290\nmessages saying thank you,\nI'd like to do business with you.\n\n902\n00:43:30.290 --> 00:43:32.600\nOr thank you but no thank you right?\n\n903\n00:43:32.600 --> 00:43:33.590\nSo just keep that in mind.\n\n904\n00:43:33.590 --> 00:43:34.280\nThat's step three.\n\n905\n00:43:34.280 --> 00:43:36.540\nStep four, acknowledgement right?\n\n906\n00:43:36.540 --> 00:43:37.780\nSame in either model.\n\n907\n00:43:37.780 --> 00:43:41.210\nDora A, Rosa A, same at the bottom.\n\n908\n00:43:41.210 --> 00:43:43.910\nThe server that we said thank you to,\nI'd like to do business with you,\n\n909\n00:43:43.910 --> 00:43:49.560\nplease give me an address sends back\nour IP address in the last message,\n\n910\n00:43:49.560 --> 00:43:54.300\nassigns it to us from the scope,\nyou saw that up here in my address pool.\n\n911\n00:43:54.300 --> 00:43:55.680\nI specified my pool.\n\n912\n00:43:55.680 --> 00:43:56.730\nYou saw the minute I went in,\n\n913\n00:43:56.730 --> 00:43:59.480\nI already had one lease there\nthat had already taken place.\n\n914\n00:43:59.480 --> 00:44:02.450\nSo we are assigning that\naddress in step four.\n\n915\n00:44:02.450 --> 00:44:06.240\nIt's not until step four of the exchange\nthat the client gets an IP address.\n\n916\n00:44:06.240 --> 00:44:09.770\nUntil then everything's going back and\nforth from the client based on broadcasts.\n\n917\n00:44:09.770 --> 00:44:13.890\nThe server's using an unicast\ntransmission, a dedicated transmission\n\n918\n00:44:13.890 --> 00:44:17.590\nto a fixed endpoint right because it\nhas an IP address it's sending but\n\n919\n00:44:17.590 --> 00:44:19.090\nit's sending it to the client.\n\n920\n00:44:19.090 --> 00:44:21.950\nBut we don't have a fixed ip right so\nwe have to broadcast?\n\n921\n00:44:21.950 --> 00:44:23.800\nIn order to be able to send this traffic.\n\n922\n00:44:23.800 --> 00:44:27.390\nBut once the client gets the IP\nat the end of step four,\n\n923\n00:44:27.390 --> 00:44:31.150\nit starts being able to send transmissions\nnormally using its TCP/IP address for\n\n924\n00:44:31.150 --> 00:44:35.390\nthat amount of time, whatever it is\nthat the PTL on the lease allows for.\n\n925\n00:44:35.390 --> 00:44:38.880\nSo this is the four-step process\ninvolved with actually getting that IP\n\n926\n00:44:38.880 --> 00:44:39.694\naddress to the client.\n\n927\n00:44:39.694 --> 00:44:40.480\n&gt;&gt; Super important to know and understand.\n\n928\n00:44:40.480 --> 00:44:41.260\n&gt;&gt; Super important to know.\n\n929\n00:44:41.260 --> 00:44:45.815\n&gt;&gt; And even how the unicast and broadcast\ntransmissions work, because moving forward\n\n930\n00:44:45.815 --> 00:44:49.793\nin time, we don't even have broadcast\ntransmissions without IPB 6, so\n\n931\n00:44:49.793 --> 00:44:52.402\nwe'll have to think about [CROSSTALK]\n&gt;&gt; You do not.\n\n932\n00:44:52.402 --> 00:44:53.762\nYou have something else\n&gt;&gt; We'll have a different method.\n\n933\n00:44:53.762 --> 00:44:54.956\n&gt;&gt; We do.\nWe'll talk about that in\n\n934\n00:44:54.956 --> 00:44:55.593\nupcoming episodes.\n\n935\n00:44:55.593 --> 00:44:56.412\n&gt;&gt; Sounds great!\n\n936\n00:44:56.412 --> 00:44:59.710\n&gt;&gt; The non-broadcast [INAUDIBLE]\n&gt;&gt; [LAUGH] All right, Adam.\n\n937\n00:44:59.710 --> 00:45:00.830\nThank you for joining us today.\n\n938\n00:45:00.830 --> 00:45:02.290\nAnd thank you for joining us, as well.\n\n939\n00:45:02.290 --> 00:45:04.631\nBut stay tuned,\nwe have more information headed your way.\n\n940\n00:45:04.631 --> 00:45:06.137\n&gt;&gt; For this show we're gonna go ahead and\nsign out.\n\n941\n00:45:06.137 --> 00:45:08.057\nRemember, I'm your host, Cherokee Boose.\n\n942\n00:45:08.057 --> 00:45:08.906\n&gt;&gt; I'm Adam Gordon.\n\n943\n00:45:08.906 --> 00:45:12.018\n&gt;&gt; See you next time here at ITPro.TV.\n\n944\n00:45:12.018 --> 00:45:17.980\n[MUSIC]\n\n945\n00:45:17.980 --> 00:45:21.258\n&gt;&gt; Thank you for watching, ITPro.TV.\n\n",
          "vimeoId": "217015125"
        },
        {
          "description": "In this show, Cherokee and Adam continue to discuss DHCP. Specifically, they explain DHCP options and levels that can be assigned. Learn how RFC 1542 compliant devices can serve as DHCP relay agents and more!",
          "length": "2223",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-2-implementing_dhcp_pt2-050817-high.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-2-implementing_dhcp_pt2-050817-high-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-2-implementing_dhcp_pt2-050817-high-sm.jpg",
          "title": "Implementing DHCP Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.250 --> 00:00:01.445\nWelcome to IT Pro TV.\n\n2\n00:00:01.445 --> 00:00:08.328\n&gt;&gt; [CROSSTALK].\n\n3\n00:00:08.328 --> 00:00:12.330\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:12.330 --> 00:00:16.002\n&gt;&gt; Welcome to your Networking\nWith Windows Server 2016 Series.\n\n5\n00:00:16.002 --> 00:00:18.038\nI'm your show host, Cherokee Boose.\n\n6\n00:00:18.038 --> 00:00:21.214\nIn this episode,\nwe'll continue talking about DHCP.\n\n7\n00:00:21.214 --> 00:00:25.290\nAnd back in studios with us,\nwith us today, we have Mister Adam Gordon.\n\n8\n00:00:25.290 --> 00:00:26.400\nThank you for joining us today, Adam.\n\n9\n00:00:26.400 --> 00:00:29.970\n&gt;&gt; I wanna talk about PCHD,\nthat's DHCP backwards.\n\n10\n00:00:29.970 --> 00:00:32.530\n&gt;&gt; [LAUGH]\n&gt;&gt; Let's say everything backwards and\n\n11\n00:00:32.530 --> 00:00:33.240\nsee if you guys can [INAUDIBLE].\n\n12\n00:00:33.240 --> 00:00:35.110\nActually, I'm gonna turn around and\ntalk this way,\n\n13\n00:00:35.110 --> 00:00:37.350\nso you actually have to pay attention.\n\n14\n00:00:37.350 --> 00:00:40.040\nI'm only kidding.\nWe're gonna continue talking about DHCP,\n\n15\n00:00:40.040 --> 00:00:41.580\nas Cherokee suggested.\n\n16\n00:00:41.580 --> 00:00:45.230\nBut what we are gonna do is just jump back\nin before I show you, and I am gonna show\n\n17\n00:00:45.230 --> 00:00:49.498\nyou momentarily how to set up that DHCP\nrelay agent we alluded to in Episode 1.\n\n18\n00:00:49.498 --> 00:00:50.655\nWe'll gonna go through and\n\n19\n00:00:50.655 --> 00:00:53.985\ntake look how to configure that through\nthe RAS management consul interface.\n\n20\n00:00:53.985 --> 00:00:56.879\nSo l wanted to remind you,\nwhen we talk Power Shell in other areas,\n\n21\n00:00:56.879 --> 00:00:59.878\nwe talked about it here, I'll show\nyou some of the steps involved and\n\n22\n00:00:59.878 --> 00:01:02.330\nthings that I was doing behind\nthe scenes to set this up.\n\n23\n00:01:02.330 --> 00:01:06.635\nBut let's just take a look,\nwe have a whole set of commandlets,\n\n24\n00:01:06.635 --> 00:01:11.099\nassociated with DHCP, add the server\nin DC as you can see here, and\n\n25\n00:01:11.099 --> 00:01:15.820\nto add and rund the server so\nthat is a Go in, you set up configure.\n\n26\n00:01:15.820 --> 00:01:18.130\nSo you want to take a look\nat Power Shell commands.\n\n27\n00:01:18.130 --> 00:01:22.960\nYou can go through here and we can go in,\nwe can see this one allows us\n\n28\n00:01:22.960 --> 00:01:27.610\nto set up the http and do all\nthe configuration associated with it and\n\n29\n00:01:27.610 --> 00:01:30.140\nto have all of that\ninformation that is necessary.\n\n30\n00:01:30.140 --> 00:01:33.220\nSo always want to refer to this\nthings when and where we can.\n\n31\n00:01:33.220 --> 00:01:35.170\nGive you some information\nabout Power Shell and\n\n32\n00:01:35.170 --> 00:01:37.500\nhow it could be used to your benefit.\n\n33\n00:01:37.500 --> 00:01:40.220\nAlways helpful for you to know about\nthose things in case you're stuck\n\n34\n00:01:40.220 --> 00:01:43.130\non a desert island with nothing but\na command shell and\n\n35\n00:01:43.130 --> 00:01:45.443\nyou have to work your way out\nto configure network services.\n\n36\n00:01:45.443 --> 00:01:47.380\n&gt;&gt; [LAUGH]\n&gt;&gt; Boy are you gonna be happy\n\n37\n00:01:47.380 --> 00:01:48.860\nthat I made you pay\nattention to power shell.\n\n38\n00:01:48.860 --> 00:01:53.580\nAll right so having said that,\nlet's take at power shell here.\n\n39\n00:01:53.580 --> 00:01:58.440\nAnd specifically let me just show you\nwhat I was doing here in this interface.\n\n40\n00:01:58.440 --> 00:02:02.770\nSo I am as you could see,\nI'm just scrolling down so\n\n41\n00:02:02.770 --> 00:02:03.730\nyou could see where I am.\n\n42\n00:02:03.730 --> 00:02:07.170\nI'm a machine inside a machine,\ninside a machine, in this particular demo.\n\n43\n00:02:07.170 --> 00:02:10.100\nI'm on a Server 16\nmachine that's running as\n\n44\n00:02:10.100 --> 00:02:13.780\na VM that I joined to my\nexisting domain infrastructure.\n\n45\n00:02:13.780 --> 00:02:17.460\nI've configured and setup the routing and\nremote access services.\n\n46\n00:02:17.460 --> 00:02:22.930\nSo you can see I'm in my RAS console\nthere, remoting and routing, remote,\n\n47\n00:02:22.930 --> 00:02:25.900\nlet me try that again, RAS [LAUGH]-\n&gt;&gt; Routing remote-\n\n48\n00:02:25.900 --> 00:02:27.200\n&gt;&gt; Routing and Remote Access.\n\n49\n00:02:27.200 --> 00:02:27.964\n&gt;&gt; There you go [LAUGH].\n\n50\n00:02:27.964 --> 00:02:28.736\n&gt;&gt; Thank you very much.\n\n51\n00:02:28.736 --> 00:02:31.620\nRouting and Remote Access console my MMC.\n\n52\n00:02:31.620 --> 00:02:34.370\nAnd I've got my server configured here.\n\n53\n00:02:34.370 --> 00:02:37.430\nI've gone ahead and\njust configured it to do LAN routing only.\n\n54\n00:02:37.430 --> 00:02:38.690\nSo I haven't done any of the fancy stuff,\n\n55\n00:02:38.690 --> 00:02:42.390\nwe'll talk about in future episodes\nwith VPNs, with direct access.\n\n56\n00:02:42.390 --> 00:02:45.110\nI mean that stuff right now,\nit's very simple, very basic.\n\n57\n00:02:45.110 --> 00:02:48.880\nSo we've set that up, we've configured it,\nwe've restarted the system,\n\n58\n00:02:48.880 --> 00:02:51.670\nrestarted the service so\nthat way everything is running, and\n\n59\n00:02:51.670 --> 00:02:55.170\nI've opened up the system,\nopened up the console, gone to IPv4.\n\n60\n00:02:55.170 --> 00:02:56.940\nCome down here to general, and\n\n61\n00:02:56.940 --> 00:03:02.630\nyou can see that when I right click, I can\ncome in here and do new routing protocol.\n\n62\n00:03:02.630 --> 00:03:04.440\nAnd when I do this,\nI'm just going to move this up here,\n\n63\n00:03:04.440 --> 00:03:06.260\nwe can really see what is there.\n\n64\n00:03:06.260 --> 00:03:08.740\nYou'll see one of the items\nI have is the DHCP relay.\n\n65\n00:03:08.740 --> 00:03:12.380\nAs you wanna walk through and\ntalk about how to configure this relay.\n\n66\n00:03:12.380 --> 00:03:15.600\nBut before we do that,\nI wanna make sure we think about\n\n67\n00:03:15.600 --> 00:03:19.940\nthe logic of what we talked about in DHCP\nor around the DHCP in our first step.\n\n68\n00:03:19.940 --> 00:03:24.140\nSo I wanna revisit something about\nthe DHCP options and how they get applied.\n\n69\n00:03:24.140 --> 00:03:26.650\nRemember we talked about\nthe scope options.\n\n70\n00:03:26.650 --> 00:03:29.030\nWe talked about being able\nto set the default gateway,\n\n71\n00:03:29.030 --> 00:03:33.300\nbeing able to set the DNS Server and\nthe DNS name for the domain.\n\n72\n00:03:33.300 --> 00:03:35.000\nWe talked about being able to set winds,\nand\n\n73\n00:03:35.000 --> 00:03:38.450\na bunch of other stuff I gave you\na list of options that are available\n\n74\n00:03:38.450 --> 00:03:41.740\nof a Word Document that Cherokee is going\nto make sure get in the show notes for\n\n75\n00:03:41.740 --> 00:03:45.022\nyou right just to remind you to do that\n&gt;&gt; Sounds Good [LAUGH]\n\n76\n00:03:45.022 --> 00:03:46.494\n&gt;&gt; Reminding you in two episodes now so\n\n77\n00:03:46.494 --> 00:03:48.504\nits gotta be there because\nI talked about it twice\n\n78\n00:03:48.504 --> 00:03:49.191\n&gt;&gt; For DHCP options\n\n79\n00:03:49.191 --> 00:03:49.878\n&gt;&gt; Our DHCP Options\n\n80\n00:03:49.878 --> 00:03:50.760\nDocument\n&gt;&gt; Got it\n\n81\n00:03:50.760 --> 00:03:51.430\n&gt;&gt; So we have all that.\n\n82\n00:03:51.430 --> 00:03:52.560\nSo we went through all that with you.\n\n83\n00:03:52.560 --> 00:03:53.600\nWe're gonna make sure you have that.\n\n84\n00:03:53.600 --> 00:03:56.980\nJust wanna talk about this interesting\nway which these options are gonna apply\n\n85\n00:03:56.980 --> 00:03:59.500\nbecause its, you know it sounds on\nthe surface pretty straightforward.\n\n86\n00:03:59.500 --> 00:04:02.180\nHey, let's just create those options,\nsend them out there.\n\n87\n00:04:02.180 --> 00:04:05.320\nThey'll be part of a lease, the system\ngets it, boom, we're done, right?\n\n88\n00:04:05.320 --> 00:04:06.860\nBut there is a little\nmore to it than that.\n\n89\n00:04:06.860 --> 00:04:10.970\nThe DHCP client service\napplies these options But\n\n90\n00:04:10.970 --> 00:04:13.530\nin the order of precedence\nat four distinct levels.\n\n91\n00:04:13.530 --> 00:04:15.540\nAnd so let's go ahead and\ntalk through with that is.\n\n92\n00:04:15.540 --> 00:04:17.960\nFrom least specific to most specific,\nthey are.\n\n93\n00:04:17.960 --> 00:04:19.945\nSo in other words,\nthe order that I'm gonna give them to you.\n\n94\n00:04:19.945 --> 00:04:22.160\nLeast specific to most specific.\n\n95\n00:04:22.160 --> 00:04:25.210\nServer level, scope level,\nclass level, reserve client level.\n\n96\n00:04:25.210 --> 00:04:28.100\nWhat I mean by that is on the DHCP server.\n\n97\n00:04:28.100 --> 00:04:31.680\nWe have different sets of options we\ncould set up at different areas or\n\n98\n00:04:31.680 --> 00:04:33.240\ndifferent levels in the interface.\n\n99\n00:04:33.240 --> 00:04:36.160\nWe only showed you the scope options,\nright?\n\n100\n00:04:36.160 --> 00:04:40.020\nSo we showed you essentially item number\ntwo on the list, but we didn't go in and\n\n101\n00:04:40.020 --> 00:04:43.240\nshow you what we could do\nat the server level, right?\n\n102\n00:04:43.240 --> 00:04:45.000\nSo we could set options\nat the server level.\n\n103\n00:04:45.000 --> 00:04:48.270\nCould set them at the scope level,\nwe went through and took a look at those.\n\n104\n00:04:48.270 --> 00:04:49.790\nWe also have class level and\n\n105\n00:04:49.790 --> 00:04:53.090\nreserve client level options\nfrom least to most specific.\n\n106\n00:04:53.090 --> 00:04:58.370\nMeaning, the reserve client level options\nare going to be the most specific and\n\n107\n00:04:58.370 --> 00:05:00.600\nare applied as we go through the list,\n\n108\n00:05:00.600 --> 00:05:04.230\nfrom server to scope to class to\nreserve client level, in that order.\n\n109\n00:05:04.230 --> 00:05:06.630\nWe go through and\napply them in order of precedence.\n\n110\n00:05:06.630 --> 00:05:09.770\nAnd if we apply settings at each level and\nwe see a conflict, and\n\n111\n00:05:09.770 --> 00:05:14.070\nwe may get a conflict, one level\nmay say router receptive 1.2.3.4.\n\n112\n00:05:14.070 --> 00:05:19.800\nAnother one may say no router set\nto 2.4.6.8 or something like that.\n\n113\n00:05:19.800 --> 00:05:23.670\nDCP scope option 003 by the way, right,\nfor your default gateway error router.\n\n114\n00:05:23.670 --> 00:05:26.900\nSo if we do that, the option applied last.\n\n115\n00:05:26.900 --> 00:05:28.290\nIs the one that takes precedence.\n\n116\n00:05:28.290 --> 00:05:30.480\nSo we step through the four levels,\n\n117\n00:05:30.480 --> 00:05:35.310\ngoing from server to scope to class\nlevel to reserve client level, and\n\n118\n00:05:35.310 --> 00:05:38.590\nthe one that applies last is the one that\nultimately gets applied to the client.\n\n119\n00:05:38.590 --> 00:05:42.780\nSo if we have four conflicting settings,\nthree of them ultimately get ignored and\n\n120\n00:05:42.780 --> 00:05:44.910\nthe last one applied is\nthe one that we go with.\n\n121\n00:05:44.910 --> 00:05:46.900\nSo we want to make sure\nwe're aware of that.\n\n122\n00:05:46.900 --> 00:05:49.770\nServer level, scope level,\nclass level, reserve client level.\n\n123\n00:05:49.770 --> 00:05:52.860\nIn that order,\nfrom least to most prevalent and\n\n124\n00:05:52.860 --> 00:05:54.850\nwe apply the reserve client level last.\n\n125\n00:05:54.850 --> 00:05:57.700\nThat's the ultimate one that we go\nwith if we are gonna have a conflict.\n\n126\n00:05:57.700 --> 00:06:00.270\nJust want to make sure we're aware\nof that and we think about that.\n\n127\n00:06:00.270 --> 00:06:01.150\nThat is important.\n\n128\n00:06:01.150 --> 00:06:03.580\nNow we can take a look real quick.\n\n129\n00:06:03.580 --> 00:06:04.950\nHere, just go back here.\n\n130\n00:06:04.950 --> 00:06:07.240\nBefore we go into our real age and\nset that up.\n\n131\n00:06:07.240 --> 00:06:08.720\nIt's running on another machine.\n\n132\n00:06:08.720 --> 00:06:11.450\nWe talk about these, for\ninstance we can go here, and\n\n133\n00:06:11.450 --> 00:06:13.620\nyou can see we have our DHCP Server.\n\n134\n00:06:15.160 --> 00:06:17.130\nAnd this is our server right here.\n\n135\n00:06:17.130 --> 00:06:19.940\nCan go, and\nyou'll see we have just our data base\n\n136\n00:06:19.940 --> 00:06:21.720\ninformation all that kind of stuff.\n\n137\n00:06:21.720 --> 00:06:24.930\nNow remember, this is our management\nconsole right up here at the very top.\n\n138\n00:06:24.930 --> 00:06:26.020\nWe can add servers.\n\n139\n00:06:26.020 --> 00:06:28.420\nWe can authorize them, things like that.\n\n140\n00:06:28.420 --> 00:06:29.620\nWe talked about our scope.\n\n141\n00:06:29.620 --> 00:06:30.870\nHere, we've all ready created out scope.\n\n142\n00:06:30.870 --> 00:06:34.120\nAnd we have our scope options,\nour scope level options.\n\n143\n00:06:34.120 --> 00:06:35.500\nItem number two on our list.\n\n144\n00:06:35.500 --> 00:06:38.480\nAre the ones we took a look at and\ntalked about here, right?\n\n145\n00:06:38.480 --> 00:06:40.650\nBut in addition we come down here,\n\n146\n00:06:40.650 --> 00:06:43.790\nour server options are listed right\nhere in the folder, we could see this.\n\n147\n00:06:43.790 --> 00:06:48.860\nSo if we go in our server level options,\nconfigure options, we can specify,\n\n148\n00:06:48.860 --> 00:06:52.910\nyou'll notice the same set of options but\nwe could set them at the server level.\n\n149\n00:06:52.910 --> 00:06:56.750\nWhen we set at the server level, we are\nsetting them at the lowest level possible.\n\n150\n00:06:56.750 --> 00:06:58.740\nThey broadly apply to\neverything on the server.\n\n151\n00:06:58.740 --> 00:07:02.770\nWe'll start there, but if we have scope\noptions that are specific to the scope of\n\n152\n00:07:02.770 --> 00:07:07.200\nIP addresses they will override the server\nlevel option, becoming more targeted,\n\n153\n00:07:07.200 --> 00:07:08.940\nmore specific as we go down.\n\n154\n00:07:08.940 --> 00:07:11.570\nThen we have class level and\nthen ultimately reserve client level.\n\n155\n00:07:11.570 --> 00:07:15.110\nAnd by the time we get to reserve client\nlevel, we're talking about options\n\n156\n00:07:15.110 --> 00:07:19.130\nspecific to a reserved client IP that\nare being given just to that client.\n\n157\n00:07:19.130 --> 00:07:20.900\nAnd that's gonna override everything else.\n\n158\n00:07:20.900 --> 00:07:22.890\nSo, we have differing degrees here, or\n\n159\n00:07:22.890 --> 00:07:27.000\ndiffering areas here that we can assign,\nand create our options in.\n\n160\n00:07:27.000 --> 00:07:28.450\nWanna make sure you're aware of those,\n\n161\n00:07:28.450 --> 00:07:30.840\nand you're just thinking about\nthat in the order of precedence.\n\n162\n00:07:30.840 --> 00:07:34.000\nWe do have all that for you in the notes,\njust to give you some reinforcement there.\n\n163\n00:07:34.000 --> 00:07:35.700\nImportant for\nyou to be aware of those things.\n\n164\n00:07:35.700 --> 00:07:37.300\nAnd to be thinking about that.\n\n165\n00:07:37.300 --> 00:07:42.170\nLot of information in the thought process\naround DHCP and how we do those things.\n\n166\n00:07:42.170 --> 00:07:44.080\nPeople don't always stop and\nthink about that and\n\n167\n00:07:44.080 --> 00:07:48.010\nthey're not always aware of that, but it\nis important to just consider our options.\n\n168\n00:07:48.010 --> 00:07:49.220\nNo pun intended by the way.\n\n169\n00:07:49.220 --> 00:07:52.959\nAll right, so DHCP relay agent here, let's\ntake a look at how to set this thing up.\n\n170\n00:07:52.959 --> 00:07:56.874\nSo we have our DHCP relay agent, we're\ngoing to select Here we're gonna click OK.\n\n171\n00:07:56.874 --> 00:07:58.652\nIt's gonna give us our\nnew interface down here.\n\n172\n00:07:58.652 --> 00:08:00.688\nWe can see it right down\nhere as we do that.\n\n173\n00:08:00.688 --> 00:08:04.347\nAnd then what we have to do,\nis we have to go in and\n\n174\n00:08:04.347 --> 00:08:08.827\nyou could see that we could go in,\nand we can actually go and\n\n175\n00:08:08.827 --> 00:08:14.206\nwe can go to Properties,\nJust come up right here.\n\n176\n00:08:16.816 --> 00:08:20.987\nAnd when we do this, you'll see that\nwe can put in the relay agent sends\n\n177\n00:08:20.987 --> 00:08:23.758\nmessages to the server\naddress listed below.\n\n178\n00:08:23.758 --> 00:08:26.865\nThis is where the relay agent\nis gonna send our information.\n\n179\n00:08:26.865 --> 00:08:30.542\nWhere we'll talk about the fact that relay\nagent straddles two networks, right?\n\n180\n00:08:30.542 --> 00:08:34.330\nIt's gonna have an interface in the LAN,\nand an interface somewhere else\n\n181\n00:08:34.330 --> 00:08:37.310\nthat goes to the remote DHCP server,\nwherever that it is.\n\n182\n00:08:37.310 --> 00:08:39.210\nWe have to specify what\nthe target address for\n\n183\n00:08:39.210 --> 00:08:42.730\nthe DHCP server is that we wanna\nactually be able to send information to.\n\n184\n00:08:42.730 --> 00:08:44.600\nThat's one of the things\nthat we'll specify here.\n\n185\n00:08:44.600 --> 00:08:45.660\nSo we're gonna be able to do that.\n\n186\n00:08:45.660 --> 00:08:49.485\nBut what we're gonna do first is,\nwe're gonna make sure and\n\n187\n00:08:49.485 --> 00:08:53.097\nlet me actually just do one\nmore thing here real quickly.\n\n188\n00:08:55.267 --> 00:08:56.820\nSorry, did not mean to do that.\n\n189\n00:08:56.820 --> 00:08:58.305\nThat was not what I wanted to do.\n\n190\n00:08:58.305 --> 00:09:00.495\n[LAUGH] All right,\nlet me click the new interface.\n\n191\n00:09:00.495 --> 00:09:02.170\nThat's what I was trying to do,\nis to get back here.\n\n192\n00:09:02.170 --> 00:09:06.200\nBefore we actually specify our target\nserver, I wanna specify the interface.\n\n193\n00:09:06.200 --> 00:09:09.570\nWhat are we gonna use, or what are we\ngonna bind the DHCP relay agent to?\n\n194\n00:09:09.570 --> 00:09:11.830\nAnd you'll see we have\ndifferent interfaces here.\n\n195\n00:09:11.830 --> 00:09:14.070\nAnd we have Ethernet,\nEthernet II internal.\n\n196\n00:09:14.070 --> 00:09:18.110\nEthernet and Ethernet II are our two\nobviously network card based interfaces\n\n197\n00:09:18.110 --> 00:09:19.310\njust based on labeling.\n\n198\n00:09:19.310 --> 00:09:22.030\nInternal is gonna be for\ninternal Ethernet.\n\n199\n00:09:22.030 --> 00:09:25.408\nIn this case, that program the Ethernet\ninterfaces to be able to go external.\n\n200\n00:09:25.408 --> 00:09:27.405\nSo we are gonna go ahead and\nwe are gonna choose one of the two.\n\n201\n00:09:27.405 --> 00:09:28.730\nWe will choose Ethernet here.\n\n202\n00:09:28.730 --> 00:09:29.667\nWe'll click that.\n\n203\n00:09:29.667 --> 00:09:33.048\nWe will then get our DHCP related\nproperties Ethernet properties.\n\n204\n00:09:33.048 --> 00:09:36.480\nAre we gonna allow the relaying of\nDHCP packets checked off by default?\n\n205\n00:09:36.480 --> 00:09:37.850\nSo we are enabling that.\n\n206\n00:09:37.850 --> 00:09:39.100\nYou'll see that there.\n\n207\n00:09:39.100 --> 00:09:41.910\nHop count threshold,\nboot threshold, right?\n\n208\n00:09:41.910 --> 00:09:44.236\nSo our hop count is how many\nhops are we gonna go to relay.\n\n209\n00:09:44.236 --> 00:09:46.640\nWe'll go up to four\nhops on this interface.\n\n210\n00:09:46.640 --> 00:09:49.080\nAnd we've talked about hop count and\nthe idea behind that in our\n\n211\n00:09:49.080 --> 00:09:51.960\nprior discussions in the setting\nup IPV for networks.\n\n212\n00:09:51.960 --> 00:09:55.480\nRemember, hop count is the number\nof interfaces we'll pass through\n\n213\n00:09:55.480 --> 00:09:59.480\nas we propagate a packet remotely\nout beyond our default gateway.\n\n214\n00:09:59.480 --> 00:10:02.560\nHow many routers or\nremote interfaces will we touch?\n\n215\n00:10:02.560 --> 00:10:04.586\nAnd we're gonna be going through,\nin this case, up to four.\n\n216\n00:10:04.586 --> 00:10:05.775\nCan we modify that?\n\n217\n00:10:05.775 --> 00:10:06.555\nWe could.\n\n218\n00:10:06.555 --> 00:10:09.625\nWould there be a reason to modify\nthe hop count there by default?\n\n219\n00:10:09.625 --> 00:10:14.715\nYeah, if we know that the DHCP server that\nwe are trying to reach is further away,\n\n220\n00:10:14.715 --> 00:10:16.525\nand they require more hops to get to.\n\n221\n00:10:16.525 --> 00:10:18.455\nWe could modify that if necessary.\n\n222\n00:10:18.455 --> 00:10:22.610\nWe could specify that we need to do\nmaybe an innate hop count or something.\n\n223\n00:10:22.610 --> 00:10:24.693\nSo we'll click OK,\nwe'll put that in there.\n\n224\n00:10:24.693 --> 00:10:27.230\nWe could choose another interface, right?\n\n225\n00:10:27.230 --> 00:10:28.010\nSo we can go in,\n\n226\n00:10:28.010 --> 00:10:31.871\nadd another interface, we'll add our\nEthernet II interface here as well.\n\n227\n00:10:31.871 --> 00:10:33.957\nLet's move this up, so you can see that.\n\n228\n00:10:33.957 --> 00:10:35.080\nGrab that one.\n\n229\n00:10:35.080 --> 00:10:37.150\nSame idea there as you can see.\n\n230\n00:10:37.150 --> 00:10:39.650\nWe'll go ahead and\nwe will specify that, and\n\n231\n00:10:39.650 --> 00:10:41.560\nwe'll just leave again the same\nhop count available there.\n\n232\n00:10:41.560 --> 00:10:43.562\nBut we are binding two interfaces here,\nright?\n\n233\n00:10:43.562 --> 00:10:47.434\nIt's gonna allow us to have two separate\ninterfaces, to be able to send and\n\n234\n00:10:47.434 --> 00:10:49.529\nreceive DHCP related traffic through.\n\n235\n00:10:49.529 --> 00:10:53.486\nWhat we are gonna do now is go\nback here as I talked about,\n\n236\n00:10:53.486 --> 00:10:58.070\ngo here and what we are gonna\ndo is go to our server address.\n\n237\n00:10:58.070 --> 00:10:59.730\nSo let's go to properties.\n\n238\n00:10:59.730 --> 00:11:01.288\nWe have our server address here.\n\n239\n00:11:01.288 --> 00:11:05.601\nLet me just put this in, 192.168.0.4.\n\n240\n00:11:05.601 --> 00:11:08.827\nThat's the DHCP server of record\nthat we're gonna use in this little\n\n241\n00:11:08.827 --> 00:11:09.678\ndemonstration.\n\n242\n00:11:09.678 --> 00:11:13.060\nSo we're gonna add that in there,\nclick Add.\n\n243\n00:11:13.060 --> 00:11:15.896\nObviously in the real world, you'd put\nin whatever the addresses of the remote\n\n244\n00:11:15.896 --> 00:11:18.834\nserver you want to target, right, whatever\nthat may be, so you'll put that in.\n\n245\n00:11:18.834 --> 00:11:20.290\nSo we'll go ahead, we'll do that.\n\n246\n00:11:20.290 --> 00:11:23.133\nAre you the kind of person that\ndoes the applied and then the okay,\n\n247\n00:11:23.133 --> 00:11:24.436\nor do you just click the okay?\n\n248\n00:11:24.436 --> 00:11:25.270\n&gt;&gt; No, I'm definitely an applier.\n\n249\n00:11:25.270 --> 00:11:28.613\nBecause back in the days, sometimes\nyou would have to hit that, and so\n\n250\n00:11:28.613 --> 00:11:31.230\nI'm kind of just maybe I'm\na paranoid person, Adam.\n\n251\n00:11:32.776 --> 00:11:33.938\n[LAUGH]\n&gt;&gt; Maybe,\n\n252\n00:11:33.938 --> 00:11:35.155\nyou give me an option on that one.\n\n253\n00:11:35.155 --> 00:11:37.640\nWell, that's very instructive and\nillustrative of you.\n\n254\n00:11:37.640 --> 00:11:40.550\nI'm just gonna go with perhaps you are,\nbut perhaps not.\n\n255\n00:11:40.550 --> 00:11:44.471\nSo these days, your people often have\nthis running debate about this Daniel and\n\n256\n00:11:44.471 --> 00:11:47.525\nI talked about this sometimes\n[CROSSTALK] on occasion as well.\n\n257\n00:11:47.525 --> 00:11:48.189\n&gt;&gt; What is Daniel?\n\n258\n00:11:48.189 --> 00:11:52.305\n&gt;&gt; Daniel is the, I'm just gonna click OK,\nand get it over with kind of person.\n\n259\n00:11:52.305 --> 00:11:53.900\n&gt;&gt; [LAUGH]\n&gt;&gt; I get that and\n\n260\n00:11:53.900 --> 00:11:57.180\nI also am more of the let me\nclick OK just to be done with it.\n\n261\n00:11:57.180 --> 00:12:01.090\nBecause all apply really does is,\nset the setting in the interface but\n\n262\n00:12:01.090 --> 00:12:03.060\nthen when you click OK, it finalizes.\n\n263\n00:12:03.060 --> 00:12:05.130\nIf you click Ok,\nit does both steps in one.\n\n264\n00:12:05.130 --> 00:12:07.438\nWe go on about this just\nbecause of bad UI design.\n\n265\n00:12:07.438 --> 00:12:10.122\nLike you could just literally have\none button that says, do this now and\n\n266\n00:12:10.122 --> 00:12:11.967\nthen finish, and\nthen click and it will be done.\n\n267\n00:12:11.967 --> 00:12:15.920\n&gt;&gt; How did you feel when\nautosave feature was introduced?\n\n268\n00:12:15.920 --> 00:12:18.180\nWas that just kind of really creepy or\nwhat?\n\n269\n00:12:18.180 --> 00:12:19.697\n&gt;&gt; Like behind the scenes for\nwork and stuff like that?\n\n270\n00:12:19.697 --> 00:12:20.940\n&gt;&gt; Yeah, mm-hm, exactly.\n\n271\n00:12:20.940 --> 00:12:22.084\n&gt;&gt; I don't have a problem with it.\n\n272\n00:12:22.084 --> 00:12:23.025\n&gt;&gt; [LAUGH]\n&gt;&gt; Cuz I like the fact\n\n273\n00:12:23.025 --> 00:12:25.643\nthat if I lose the document,\nsomething goes wrong,\n\n274\n00:12:25.643 --> 00:12:28.632\nI've got a back-up in theory\ngoing on behind that scenes.\n\n275\n00:12:28.632 --> 00:12:30.220\nSo that's not a bad thing.\n\n276\n00:12:30.220 --> 00:12:33.864\nBut it doesn't bother me, I don't-\n&gt;&gt; You don't mind losing that control\n\n277\n00:12:33.864 --> 00:12:34.373\nthere?\n\n278\n00:12:34.373 --> 00:12:35.165\n&gt;&gt; No.\n\n279\n00:12:35.165 --> 00:12:38.450\n&gt;&gt; [LAUGH]\n&gt;&gt; I don't have issues of that nature.\n\n280\n00:12:38.450 --> 00:12:39.000\n&gt;&gt; Okay.\n\n281\n00:12:39.000 --> 00:12:42.900\n&gt;&gt; Yeah, you get to my age and\nyou're just like, if it works, I'm happy.\n\n282\n00:12:42.900 --> 00:12:44.280\nThat's all you need to worry about.\n\n283\n00:12:44.280 --> 00:12:45.641\nSo, it works and I'm happy.\n\n284\n00:12:45.641 --> 00:12:47.180\nI don't have to worry about that stuff.\n\n285\n00:12:47.180 --> 00:12:47.880\n&gt;&gt; And now we know.\n\n286\n00:12:47.880 --> 00:12:48.500\n&gt;&gt; And now we know.\n\n287\n00:12:48.500 --> 00:12:52.000\nSo we do have our DHCP\nrelay agent specified here,\n\n288\n00:12:52.000 --> 00:12:53.760\nas you can see we've set that up.\n\n289\n00:12:54.860 --> 00:12:59.710\n&gt;&gt; And now once we've done that, all we\nwould have to do is be able to use a DHCP\n\n290\n00:12:59.710 --> 00:13:04.588\ncapable client that needs to get\ninformation to and from the DHCP server.\n\n291\n00:13:04.588 --> 00:13:08.812\nAnd have it target the relay agents, so\nthat way it's actually able to go in and\n\n292\n00:13:08.812 --> 00:13:13.100\nto configure or to use this relay agent,\nI should say that has been configured so\n\n293\n00:13:13.100 --> 00:13:15.730\nthat it can actually send and receive.\n\n294\n00:13:15.730 --> 00:13:20.840\n&gt;&gt; And so when we go on to a client,\nwe can go in and we can go,\n\n295\n00:13:20.840 --> 00:13:26.695\nlet's say a Windows 8 machine, and\nwe can specify that it used DHCP.\n\n296\n00:13:26.695 --> 00:13:30.890\nIt will find,\na relay agent sitting in its network and\n\n297\n00:13:30.890 --> 00:13:34.840\nwe'll use it to propagate or send that\nbroadcast traffic across the divide for\n\n298\n00:13:34.840 --> 00:13:37.090\nus if we need it to as\nwe were talking about.\n\n299\n00:13:37.090 --> 00:13:41.100\nAnd we'll be able to lease the IP\naddress that leads from the DHCP server.\n\n300\n00:13:41.100 --> 00:13:45.650\nSo setting up the DHCP relay agent can\nbe a beneficial thought process for us.\n\n301\n00:13:45.650 --> 00:13:49.660\nBut there's a lot of backend work that has\nto happen because, we need a routing and\n\n302\n00:13:49.660 --> 00:13:54.400\nremote access configuration, a stack\nessentially running on a server dedicated\n\n303\n00:13:54.400 --> 00:13:57.258\nto this functionality for\nus to be able to use this.\n\n304\n00:13:57.258 --> 00:14:00.000\nAnd you could see once we have this\nset up, the relay mode is enabled.\n\n305\n00:14:00.000 --> 00:14:03.580\nWe're not sending any traffic through it\nright now but just configuring it for use.\n\n306\n00:14:03.580 --> 00:14:06.290\nBut we'd have to set up or\nstand up a server that has\n\n307\n00:14:06.290 --> 00:14:09.980\nthe relay agent capability available on\nit for us to be able to leverage this.\n\n308\n00:14:09.980 --> 00:14:15.000\nSo keep in mind that the relay\nagent is typically a computer.\n\n309\n00:14:15.000 --> 00:14:16.250\nSo it's usually something like this.\n\n310\n00:14:16.250 --> 00:14:19.122\nWe can use routers as I talked\nabout in the last episode.\n\n311\n00:14:19.122 --> 00:14:23.070\nRFC 1542 compliant routers\nthat will enable us to\n\n312\n00:14:23.070 --> 00:14:26.580\npropagate that broadcast traffic so\nit sends it across the divide for\n\n313\n00:14:26.580 --> 00:14:28.820\nthe DHCP broadcasting sent from clients.\n\n314\n00:14:28.820 --> 00:14:31.459\nEither way it works, but\nwe relay it out to different subnets.\n\n315\n00:14:31.459 --> 00:14:32.954\nSo that's gonna be important.\n\n316\n00:14:32.954 --> 00:14:35.289\nWe do put in the IP address at the server.\n\n317\n00:14:35.289 --> 00:14:37.320\nYou saw me specify that her.\n\n318\n00:14:37.320 --> 00:14:41.100\nAnd we can obviously do this,\neither with as I said,\n\n319\n00:14:41.100 --> 00:14:44.500\nthis setup does not to be\na server 16 server, by the way.\n\n320\n00:14:44.500 --> 00:14:48.610\nWe had this capability going back, I think\nall the way to NT4, if I'm not mistaken.\n\n321\n00:14:48.610 --> 00:14:49.660\nIf I remember correctly,\n\n322\n00:14:49.660 --> 00:14:52.985\nwe certainly be able to set up\nsince Windows 2000 in the minimum.\n\n323\n00:14:52.985 --> 00:14:54.835\nRelay agents using the RAS interface.\n\n324\n00:14:54.835 --> 00:14:58.295\nSo, it's been around for\nmultiple generations on the server side.\n\n325\n00:14:58.295 --> 00:15:03.480\nAnd I said, RFC 1542 compliant routers\nprobably seven to ten years at least,\n\n326\n00:15:03.480 --> 00:15:04.380\nIf not longer.\n\n327\n00:15:04.380 --> 00:15:08.073\nAny router made in the last seven to\nten years probably has that capability.\n\n328\n00:15:08.073 --> 00:15:09.691\nIf it's not automatically enabled,\n\n329\n00:15:09.691 --> 00:15:13.025\ncertainly something you could turn on\npretty easily depending on the router,\n\n330\n00:15:13.025 --> 00:15:15.060\nthe vendor and\nthe specificity how you do that.\n\n331\n00:15:15.060 --> 00:15:17.410\nBut, it wouldn't be very\ndifficult to enable that feature,\n\n332\n00:15:17.410 --> 00:15:18.530\nlet's put it that way.\n\n333\n00:15:18.530 --> 00:15:21.210\nI'm not gonna put you on the spot\nby asking, how you do it on a Cisco\n\n334\n00:15:21.210 --> 00:15:25.120\nrouter but, I'm pretty sure you would\nknow how to do it if you went and looked.\n\n335\n00:15:25.120 --> 00:15:27.370\n&gt;&gt; Just via the command\nline interface and-\n\n336\n00:15:27.370 --> 00:15:28.550\n&gt;&gt; That's the right answer cuz via\n\n337\n00:15:28.550 --> 00:15:30.430\nthe command line interface,\nabsolutely correct.\n\n338\n00:15:30.430 --> 00:15:32.560\nRight, you just enabled the other,\nor maybe your command for\n\n339\n00:15:32.560 --> 00:15:34.460\ndepending on the version\nthe iOS you are running.\n\n340\n00:15:34.460 --> 00:15:37.150\nIt may vary slightly,\nbut you have essentially\n\n341\n00:15:37.150 --> 00:15:40.610\nturned it on there via the command line\ninterface, as Cherokee pointed out.\n\n342\n00:15:40.610 --> 00:15:42.320\nAll right, so\nwe do have the capability to do this.\n\n343\n00:15:42.320 --> 00:15:45.052\nLet's switch back over to our DHCP server.\n\n344\n00:15:45.052 --> 00:15:46.570\nLet me just quickly extend the timer here,\n\n345\n00:15:46.570 --> 00:15:48.861\njust to make sure we don't run\nout of time while we're working.\n\n346\n00:15:48.861 --> 00:15:51.700\nLet me just go back over to\nour DHCP server right here.\n\n347\n00:15:51.700 --> 00:15:56.327\nThere's a lot of different things that we\ncan do with regards to troubleshooting\n\n348\n00:15:56.327 --> 00:16:00.886\nmaintaining on the DHCP server side that\nwill be important for us to consider and\n\n349\n00:16:00.886 --> 00:16:01.851\nto think about.\n\n350\n00:16:01.851 --> 00:16:05.857\nWe do have our ability here as you\ncan see to be able to unauthorize and\n\n351\n00:16:05.857 --> 00:16:08.616\ntalk about this as we\nauthorize necessarily.\n\n352\n00:16:08.616 --> 00:16:11.955\nBacking up and\nrestoring very important for us,\n\n353\n00:16:11.955 --> 00:16:16.630\nwe'll talk a bit more about that\ncoming up in just a few minutes.\n\n354\n00:16:16.630 --> 00:16:19.950\nWe do have stopping, pausing,\nrestarting so we can stop and\n\n355\n00:16:19.950 --> 00:16:22.960\nrestart essentially\nthe DHCP server service.\n\n356\n00:16:22.960 --> 00:16:26.000\nWe do have properties,\nreally not much going on here as I said,\n\n357\n00:16:26.000 --> 00:16:28.373\njust our database path and\nour backup path.\n\n358\n00:16:28.373 --> 00:16:29.985\nSo we could see the events properties and\n\n359\n00:16:29.985 --> 00:16:32.115\nunderstand where things\nare going to be happening.\n\n360\n00:16:32.115 --> 00:16:36.065\nIt would probably be a good idea to have\na sense of the default pass here, the c\n\n361\n00:16:36.065 --> 00:16:41.159\nWindows system 32 DHCPD directory, this\nis where our database path is by default.\n\n362\n00:16:42.600 --> 00:16:44.610\nThen I go ahead and just say, yes.\n\n363\n00:16:44.610 --> 00:16:46.880\nWe're not really gonna change it,\njust browsing.\n\n364\n00:16:46.880 --> 00:16:50.230\nSo that you could see that we can go ahead\nand change the path if we choose to.\n\n365\n00:16:50.230 --> 00:16:53.230\nBut as it told us there,\nif you go to change it,\n\n366\n00:16:53.230 --> 00:16:58.500\nyou may result in the loss of data may\nresult, if you go to change the pass.\n\n367\n00:16:58.500 --> 00:16:59.820\nYou've got to be aware of that.\n\n368\n00:16:59.820 --> 00:17:03.900\nNow if you decide you wanna change it,\nyou should back it up clearly and\n\n369\n00:17:03.900 --> 00:17:07.820\nhave a complete referenceable copy of\nthe database, before we do anything.\n\n370\n00:17:07.820 --> 00:17:11.096\nBut the backup pass,\nC &gt; Windows &gt; System32 &gt; DHCP &gt; Backup,\n\n371\n00:17:11.096 --> 00:17:12.160\nas you can see there.\n\n372\n00:17:12.160 --> 00:17:17.280\nAnd if we go, right, and we take a look\nin here and we go to our C drive.\n\n373\n00:17:19.549 --> 00:17:22.799\nAnd we go into Windows, and\nwe go into system 32 here.\n\n374\n00:17:22.799 --> 00:17:30.645\nScroll down real quick while\nwe're talking, and go into DHCP.\n\n375\n00:17:30.645 --> 00:17:32.180\nSo we will just scroll down here.\n\n376\n00:17:36.929 --> 00:17:37.973\nWent a little too far.\n\n377\n00:17:37.973 --> 00:17:42.058\nThere we go, right above DH, or DCIM.\n\n378\n00:17:42.058 --> 00:17:45.155\nSo you'll see here we do\nhave standard files, and\n\n379\n00:17:45.155 --> 00:17:48.785\neven you would have been used\nto seeing for years for DHCP.\n\n380\n00:17:48.785 --> 00:17:50.280\nHere, we have our temp EDB.\n\n381\n00:17:50.280 --> 00:17:54.410\nWe have our various files here,\nour JRS files.\n\n382\n00:17:54.410 --> 00:17:56.450\nWe've got our checkpoint file.\n\n383\n00:17:56.450 --> 00:18:01.600\nWe've got our DHCP MBB, so\nour database file here.\n\n384\n00:18:01.600 --> 00:18:03.700\nAnd then we've got our backup directory.\n\n385\n00:18:03.700 --> 00:18:05.930\nThere's our config, right?\n\n386\n00:18:05.930 --> 00:18:09.400\nAnd there's our backup information from\nthe last time the backup was run on\n\n387\n00:18:09.400 --> 00:18:10.300\nthe server.\n\n388\n00:18:10.300 --> 00:18:13.280\nSo we have the general structure\nthat we would expect to see here.\n\n389\n00:18:13.280 --> 00:18:17.090\nAnd we certainly can go in and work\nwith this if necessary, and do a backup.\n\n390\n00:18:17.090 --> 00:18:19.180\nSo we have those capabilities, right?\n\n391\n00:18:19.180 --> 00:18:25.470\nAs we move down here,\nyou'll see that w e can go in and,\n\n392\n00:18:25.470 --> 00:18:27.920\nno, I was in the right place there.\n\n393\n00:18:27.920 --> 00:18:30.596\nThere we go.\nI can look at general statistics on\n\n394\n00:18:30.596 --> 00:18:32.052\nIPv4 and, or IPv6.\n\n395\n00:18:32.052 --> 00:18:38.470\nSo I could just see general information on\nconnectivity, leases, things like that.\n\n396\n00:18:38.470 --> 00:18:41.830\nAnd I can, let me see if I can\nextend this out just a little bit.\n\n397\n00:18:43.230 --> 00:18:44.070\nThere we go.\n\n398\n00:18:44.070 --> 00:18:48.841\nSo I can see new information in here\nabout what's going on, start time,\n\n399\n00:18:48.841 --> 00:18:52.832\nhow long it's been up and\nrunning; discovers, offers, so\n\n400\n00:18:52.832 --> 00:18:56.372\nwe can see the process of\nleasing going through here.\n\n401\n00:18:56.372 --> 00:19:00.920\nDeclines, releases, total scope,\nin use, available things like that.\n\n402\n00:19:00.920 --> 00:19:04.544\nSo we see general information\nabout the IPv4 and, or\n\n403\n00:19:04.544 --> 00:19:06.889\nIPv6 stack as we go through here.\n\n404\n00:19:06.889 --> 00:19:10.496\nIn addition creates scopes,super scopes,\nmulti-case scopes, so\n\n405\n00:19:10.496 --> 00:19:11.600\nwe could do all that.\n\n406\n00:19:11.600 --> 00:19:15.292\nWe could set up failover, so we could\nset up highly available DHCP servers.\n\n407\n00:19:15.292 --> 00:19:18.659\nWe'll be talking about this some of\nthe stuff in some upcoming episodes,\n\n408\n00:19:18.659 --> 00:19:20.850\njust giving you a sense of what is there.\n\n409\n00:19:20.850 --> 00:19:24.530\nWe can define,\nremember we talked about the classes,\n\n410\n00:19:24.530 --> 00:19:28.690\nor rather the options that are available\nfor us, and we talked about classes.\n\n411\n00:19:28.690 --> 00:19:32.460\nWe could set up our uses classes and our\nvendor classes here, and then link options\n\n412\n00:19:32.460 --> 00:19:37.440\nto them as we set them up for the scope ID\nand scope options, server options, etc.\n\n413\n00:19:37.440 --> 00:19:38.930\nWe can set predefined options.\n\n414\n00:19:38.930 --> 00:19:40.836\nThat's one of the things\nwe were just talking about.\n\n415\n00:19:40.836 --> 00:19:45.800\nAnd if we go in here, I'm gonna go\nto properties on IPv4 and or IPv6.\n\n416\n00:19:45.800 --> 00:19:50.325\nWe'll see the ability to be able to enable\nlogging, and it is turned on by default,\n\n417\n00:19:50.325 --> 00:19:51.827\nand logging is important.\n\n418\n00:19:51.827 --> 00:19:55.496\nTalk about where logs would be when we\ntalk about doing some troubleshooting\n\n419\n00:19:55.496 --> 00:19:59.162\non the IPv4 episodes, one of the last\nepisodes, I think the very last one we\n\n420\n00:19:59.162 --> 00:20:02.681\ndid, went through and talked about\ndifferent troubleshooting tools.\n\n421\n00:20:02.681 --> 00:20:04.468\n[INAUDIBLE] or Event Viewer\nwould be a great tool to use for\n\n422\n00:20:04.468 --> 00:20:06.192\nbasic troubleshooting just\nto see what's going on.\n\n423\n00:20:06.192 --> 00:20:09.515\nAnd we do have logging going on,\nand we do a DHCP audit logging,\n\n424\n00:20:09.515 --> 00:20:12.360\nso this provides a historical\nview of activity.\n\n425\n00:20:12.360 --> 00:20:14.080\nLet's us see who's getting IP addresses,\n\n426\n00:20:14.080 --> 00:20:16.250\nwhether they were supposed to get them or\nnot.\n\n427\n00:20:16.250 --> 00:20:19.980\nSo we'd have general information, so good\nfor us to know that this is happening.\n\n428\n00:20:19.980 --> 00:20:21.820\nWe do actually have this\nenabled by default, so\n\n429\n00:20:21.820 --> 00:20:24.080\nwe can obviously think\nabout the logic of that.\n\n430\n00:20:24.080 --> 00:20:25.700\nHopefully leave that turned on.\n\n431\n00:20:25.700 --> 00:20:28.910\nWe can update our statistics that I just\nshowed you every so many minutes and\n\n432\n00:20:28.910 --> 00:20:30.300\ndo a refresh here.\n\n433\n00:20:30.300 --> 00:20:33.820\nSo you'll notice that we have an option\nto specify how we want that done.\n\n434\n00:20:33.820 --> 00:20:38.170\nYou'll notice under DNS, we could specify\nhere that we are linking DHCP and DNS, so\n\n435\n00:20:38.170 --> 00:20:40.980\nthat way these things\nregister in the DNS database,\n\n436\n00:20:40.980 --> 00:20:43.160\nwe can have information updating, right?\n\n437\n00:20:43.160 --> 00:20:46.377\nSo we can say,\nhey we release IP addresses from DHCP,\n\n438\n00:20:46.377 --> 00:20:50.038\nwe can register them in DNS and\ncreate host records, right?\n\n439\n00:20:50.038 --> 00:20:51.454\nThat kind of stuff, so we can do that.\n\n440\n00:20:51.454 --> 00:20:57.170\nWe update DNS records as well, if we\nchange or modify DHCP address, right?\n\n441\n00:20:57.170 --> 00:20:59.320\nSo we can go ahead and discard and\n\n442\n00:20:59.320 --> 00:21:02.920\nclean up ourselves to little\nhouse keeping on the DNS side.\n\n443\n00:21:02.920 --> 00:21:07.548\nA records, host record, PTR pointer\nrecords, reverse lookup zone records.\n\n444\n00:21:07.548 --> 00:21:10.890\nWe can delete those after we get rid\nof addresses, after the lease is up.\n\n445\n00:21:10.890 --> 00:21:13.528\nSo we could specify how we want\nthese things to be handled.\n\n446\n00:21:13.528 --> 00:21:15.469\nSo we can do all of that here.\n\n447\n00:21:16.610 --> 00:21:19.100\nWe have the ability to do what's\ncalled name protection, and\n\n448\n00:21:19.100 --> 00:21:22.090\nwe could configure that,\nwe'll again talk about this.\n\n449\n00:21:22.090 --> 00:21:23.680\nIf we wanna go in and configure it,\n\n450\n00:21:23.680 --> 00:21:27.110\nyou could see here I could just go in and\nclick configure while we're talking.\n\n451\n00:21:27.110 --> 00:21:29.830\nIf I enable it showing nothing more\nthan this, so we'll just do this and\n\n452\n00:21:29.830 --> 00:21:32.280\nkinda move this over so you can see here.\n\n453\n00:21:32.280 --> 00:21:35.700\nBut this allow us or\nprovides us the interesting capacity or\n\n454\n00:21:35.700 --> 00:21:36.880\ncapabilities that we now have.\n\n455\n00:21:36.880 --> 00:21:41.052\nKind of interesting how we protect DHCP,\nextending the logic of what we're all\n\n456\n00:21:41.052 --> 00:21:45.285\nready doing in DNS with things like DNS\nsec, where we secure the sign zone records\n\n457\n00:21:45.285 --> 00:21:48.586\nto further validate their\nauthenticity to prevent spoofing,\n\n458\n00:21:48.586 --> 00:21:50.479\nmasquerading, things like that.\n\n459\n00:21:50.479 --> 00:21:53.564\nHow we do some of this stuff we have\nMAC security MAC address security,\n\n460\n00:21:53.564 --> 00:21:55.356\na lot of different things we can enable.\n\n461\n00:21:55.356 --> 00:21:59.960\nSo name protection is good, because what\nthis does is you'll see here DHCP server\n\n462\n00:21:59.960 --> 00:22:05.105\nwill register A and PTR records, host\nrecord, pointer records, very important.\n\n463\n00:22:05.105 --> 00:22:08.565\nRegister them on behalf of the client,\nhowever if there's a different client\n\n464\n00:22:08.565 --> 00:22:11.740\nalready registered with that name,\nthe DHCP update will fail.\n\n465\n00:22:11.740 --> 00:22:14.120\nIn other words,\nthis prevents duplication and or\n\n466\n00:22:14.120 --> 00:22:19.140\nspoofing that are being potentially taken\non by a hacker trying to infect and\n\n467\n00:22:19.140 --> 00:22:22.130\nultimately corrupt our DHCP and\nDNS infrastructure.\n\n468\n00:22:22.130 --> 00:22:24.996\nSo enabling name protection will\nprevent that from happening.\n\n469\n00:22:24.996 --> 00:22:28.459\nIt also prevents us from making a mistake\nand having multiple hosts with the same\n\n470\n00:22:28.459 --> 00:22:31.208\nname coming up, and\nregistry that would cause the confusion.\n\n471\n00:22:31.208 --> 00:22:34.100\nSo we may be preventing\na self inflicted wound here.\n\n472\n00:22:34.100 --> 00:22:38.010\nIt may not be a hacker, but part of\nthe logic is to prevent masquerading,\n\n473\n00:22:38.010 --> 00:22:41.315\nspoofing, attacks because\nthey won't necessarily,\n\n474\n00:22:41.315 --> 00:22:45.147\nwell I should say we won't necessarily\nprevent masquerading text or equity.\n\n475\n00:22:45.147 --> 00:22:48.270\nWhat we'll prevent is poisoning\nattacks that will try to modify,\n\n476\n00:22:48.270 --> 00:22:50.009\nmanipulate registration entries.\n\n477\n00:22:50.009 --> 00:22:52.901\nBut by extension we then would\nbe able to prevent spoofing and\n\n478\n00:22:52.901 --> 00:22:54.555\nmasquerading as a result of that.\n\n479\n00:22:54.555 --> 00:22:58.158\nSo it is important for\nus to know that and we will secure or\n\n480\n00:22:58.158 --> 00:23:00.390\nset up secure dynamic updates.\n\n481\n00:23:00.390 --> 00:23:02.360\nThose have to be enabled for\nthis to work and\n\n482\n00:23:02.360 --> 00:23:06.180\nit will provide secure communication and\ndo updates from DHCP and\n\n483\n00:23:06.180 --> 00:23:08.810\nDNS, but we're gonna secure that\ntraffic and ensure it's authorized.\n\n484\n00:23:08.810 --> 00:23:11.920\nSo this does add some depth and\ncapabilities here.\n\n485\n00:23:11.920 --> 00:23:14.430\nAnd it's nice, because you'll\nsee we enforce in protection\n\n486\n00:23:14.430 --> 00:23:16.240\nresults in the following\nbehavioral changes.\n\n487\n00:23:16.240 --> 00:23:21.410\nRight, we honor a request for all these\nrecords from or for Windows DHCP clients.\n\n488\n00:23:21.410 --> 00:23:23.970\nDHCP service dynamically\nupdate those records, and\n\n489\n00:23:23.970 --> 00:23:27.190\nthey will discard those records when\nthe lease is deleted once we set this up.\n\n490\n00:23:27.190 --> 00:23:30.340\nSo it automates the housekeeping\nprocess for us and keeps track of it.\n\n491\n00:23:30.340 --> 00:23:32.710\nSo enabling that is gonna be nice and\n\n492\n00:23:32.710 --> 00:23:35.810\nit's one of the additional things\nwe can do here for name protection.\n\n493\n00:23:35.810 --> 00:23:37.640\nSo there's a nice new feature.\n\n494\n00:23:37.640 --> 00:23:39.530\nSo we have that capability here.\n\n495\n00:23:39.530 --> 00:23:41.090\nWe have the ability to be able to filter.\n\n496\n00:23:42.400 --> 00:23:44.340\nThis is Mac address filtering,\n\n497\n00:23:44.340 --> 00:23:46.510\nI just mentioned the idea of\nMac security a moment ago.\n\n498\n00:23:46.510 --> 00:23:49.830\nSo you'll see here, enable allow\nthe DHCP service to provide it\n\n499\n00:23:49.830 --> 00:23:53.680\nto any Mac addresses in the list,\nand enable deny list.\n\n500\n00:23:53.680 --> 00:23:54.978\nDHCP services are denied.\n\n501\n00:23:54.978 --> 00:23:57.066\nSo we can do this based\non Mac address filtering.\n\n502\n00:23:57.066 --> 00:24:01.224\nThink about the logic of this, why would\nwe need to filter Mac addresses for\n\n503\n00:24:01.224 --> 00:24:02.153\nDHCP services?\n\n504\n00:24:02.153 --> 00:24:06.037\nHow do we communicate initially before\nwe get a DHCP sponsored address?\n\n505\n00:24:06.037 --> 00:24:09.788\nWe're broadcasting one thing to\nidentify is your Mac address, right?\n\n506\n00:24:09.788 --> 00:24:13.267\nSo for filtering Mac addresses here,\nwe can either ensure to enable\n\n507\n00:24:13.267 --> 00:24:16.770\nthat certain Mac addresses\nare definitely get services.\n\n508\n00:24:16.770 --> 00:24:19.430\nOr if we know for\nfact whether not be talking to strangers,\n\n509\n00:24:19.430 --> 00:24:23.330\nwe can block out certain Mac addresses\nthat we don't wanna to be talking to.\n\n510\n00:24:23.330 --> 00:24:27.040\nSo we can actually filter at the lowest\nlevel the common denominators to begin to\n\n511\n00:24:27.040 --> 00:24:28.210\nhave the conversation.\n\n512\n00:24:28.210 --> 00:24:30.220\nThat's another feature\nthat we can enable here.\n\n513\n00:24:30.220 --> 00:24:34.469\nSo that's kind of nice, so\nwe could see that, and go to advance here.\n\n514\n00:24:34.469 --> 00:24:37.633\nAnd we have our advance filter properties,\nand we actually can\n\n515\n00:24:37.633 --> 00:24:41.490\nlist all the hardware types,\nas you can see exempted from filtering.\n\n516\n00:24:41.490 --> 00:24:45.320\nThis allows us to go in and specify\nwhich network types and hardware types,\n\n517\n00:24:45.320 --> 00:24:48.170\nwhether it will not be allowed\nto be able connect and\n\n518\n00:24:48.170 --> 00:24:50.670\nbe filtered based on selection we make for\nsecurity.\n\n519\n00:24:50.670 --> 00:24:54.970\nYou'll notice by default, that we have\nalmost everything selected here, right?\n\n520\n00:24:54.970 --> 00:24:58.110\nThere's a whole bunch of unassigned\ncategories, meaning we can go in.\n\n521\n00:24:58.110 --> 00:25:00.690\nThat we can program in\nour own if we want to.\n\n522\n00:25:00.690 --> 00:25:02.308\nAnd these are older types.\n\n523\n00:25:02.308 --> 00:25:06.210\nWe have the Arcnet,\n\n524\n00:25:06.210 --> 00:25:09.930\nwe have lan star, right, we have\na whole bunch of different stuff here.\n\n525\n00:25:09.930 --> 00:25:14.380\nBut we maybe able to go in and program in\ncertain specific kinds of hardware, or\n\n526\n00:25:14.380 --> 00:25:18.020\nconfigurations that we wanna allow or\ndeny based on the filtering.\n\n527\n00:25:18.020 --> 00:25:19.470\nSo we could add this in.\n\n528\n00:25:19.470 --> 00:25:21.500\nYou don't simply get into\nthe advanced features very often,\n\n529\n00:25:21.500 --> 00:25:22.750\nprobably not something you normally do.\n\n530\n00:25:22.750 --> 00:25:26.690\nBut you may be able to go in and\ntake advantage of that if we need to.\n\n531\n00:25:26.690 --> 00:25:28.340\nWe do have the ability\nto set up fail over.\n\n532\n00:25:28.340 --> 00:25:31.160\nWe can delete, edit, or view the status\nof the fail over relationship.\n\n533\n00:25:31.160 --> 00:25:32.760\nNow, I haven't set fail over up yet.\n\n534\n00:25:32.760 --> 00:25:35.420\nWe'll be talking about how to do\nthis in upcoming conversation.\n\n535\n00:25:35.420 --> 00:25:38.443\nBut I can enable DHCPs, so\nthat is essentially going to\n\n536\n00:25:38.443 --> 00:25:41.877\nhave a highly available thought\nprocess associated with it.\n\n537\n00:25:41.877 --> 00:25:47.763\nSometimes in prior iterations\nof DHCP back in Server 2000,\n\n538\n00:25:47.763 --> 00:25:52.660\nMT4 2003 days,\nwe wanna talk about DHCP fill.\n\n539\n00:25:52.660 --> 00:25:55.050\nWe wanna talk about scope sharing,\nor an 80-20 rule,\n\n540\n00:25:55.050 --> 00:25:57.850\nyou would have heard\nreferred to different ways.\n\n541\n00:25:57.850 --> 00:26:02.730\nThe idea of co-hosting a scope, where\nessentially we would provide coverage for\n\n542\n00:26:02.730 --> 00:26:04.130\na scope across two servers.\n\n543\n00:26:04.130 --> 00:26:05.450\nSo if one went down,\n\n544\n00:26:05.450 --> 00:26:09.240\nwe'd have a percentage of those IP\naddresses available on the other server.\n\n545\n00:26:09.240 --> 00:26:11.770\nHopefully being able to service\nthe needs for renewal and\n\n546\n00:26:11.770 --> 00:26:14.510\nnew leases in the interim until\nwe could fix that, right?\n\n547\n00:26:14.510 --> 00:26:17.320\nBecause we didn't have a full failover,\nalmost like\n\n548\n00:26:17.320 --> 00:26:21.630\na highly available clustering thought\nprocess capability associated with DHCP.\n\n549\n00:26:21.630 --> 00:26:25.120\nIn later, more recent versions of the OS,\nwe've had this capability.\n\n550\n00:26:25.120 --> 00:26:29.340\nSo we can actually setup a failover\nrelationship, where we could specify\n\n551\n00:26:29.340 --> 00:26:34.240\nDHCP servers plural, that would be\nable to failover to each other.\n\n552\n00:26:34.240 --> 00:26:37.285\nIf one were to fail, the other one\nwould be able to take over and\n\n553\n00:26:37.285 --> 00:26:40.803\nmanage the entire scope and\nto continue on moving, or manipulating and\n\n554\n00:26:40.803 --> 00:26:42.820\nleasing IP addresses as a result.\n\n555\n00:26:42.820 --> 00:26:44.620\nSo we could set this up,\nand you'll see here.\n\n556\n00:26:45.660 --> 00:26:47.070\nLet's call a partner server,\n\n557\n00:26:47.070 --> 00:26:50.410\nthis is the other server in\nthe field of our relationship.\n\n558\n00:26:50.410 --> 00:26:52.574\nAnd we can specify whether\nit's a primary or secondary.\n\n559\n00:26:52.574 --> 00:26:56.133\nAnd then there's the result, if one stops,\nthe other one continuous working.\n\n560\n00:26:56.133 --> 00:27:00.184\nSo, we could set this up to have\na new feature and nice capability.\n\n561\n00:27:00.184 --> 00:27:04.000\nNot new new, but is newer,\nI should say and available to us for.\n\n562\n00:27:04.000 --> 00:27:05.940\nAnd you'll see this is for IPV4, right.\n\n563\n00:27:05.940 --> 00:27:08.870\nWe have capabilities aligned with\nthis in some respects for IPv6,\n\n564\n00:27:08.870 --> 00:27:12.200\nso we're doing this now just\nbased on the IPv4 stack.\n\n565\n00:27:12.200 --> 00:27:13.671\nJust looking at all of these properties.\n\n566\n00:27:13.671 --> 00:27:16.187\nAnd we have advanced here,\nand we can go in and\n\n567\n00:27:16.187 --> 00:27:18.315\nspecify where audit log path will be.\n\n568\n00:27:18.315 --> 00:27:21.495\nSo where we gonna put the audit log files,\nwe're going to take a look at that.\n\n569\n00:27:21.495 --> 00:27:23.475\nIf we wanna change binding sear and or\n\n570\n00:27:23.475 --> 00:27:27.305\ndo dynamic update, registration\ncredential manipulation, change those.\n\n571\n00:27:27.305 --> 00:27:29.410\nWe have the ability to go in and\ndo this as well.\n\n572\n00:27:29.410 --> 00:27:30.858\nSo we have all of these features,\n\n573\n00:27:30.858 --> 00:27:33.927\nall of these additional items that\nare available right here, right?\n\n574\n00:27:33.927 --> 00:27:36.864\nAnd if you saw,\nif I wanna configure fail over,\n\n575\n00:27:36.864 --> 00:27:39.860\nI could configure fail\nover right from here.\n\n576\n00:27:39.860 --> 00:27:43.160\nAnd I can replicate the fail over scope,\nso I can send the scopes across and\n\n577\n00:27:43.160 --> 00:27:44.850\nmake sure that they are available, right?\n\n578\n00:27:44.850 --> 00:27:45.520\n&gt;&gt; Yeah.\n&gt;&gt; Lots of fun.\n\n579\n00:27:45.520 --> 00:27:47.018\n&gt;&gt; I know, it is lots of fun.\n\n580\n00:27:47.018 --> 00:27:49.829\nI mean there is just so\nmuch that you can do with DHCP.\n\n581\n00:27:49.829 --> 00:27:52.520\nAt first, when I was first learning it,\nI thought, great, I got it.\n\n582\n00:27:52.520 --> 00:27:56.654\nAnd then there's all these little,\nthe tangents that you could go off on.\n\n583\n00:27:56.654 --> 00:27:57.954\nAll those different options,\n\n584\n00:27:57.954 --> 00:28:01.004\nI wasn't even aware of all the different\noptions until reading the RFC.\n\n585\n00:28:01.004 --> 00:28:02.970\nI'm like, holy cow, that's insane.\n\n586\n00:28:02.970 --> 00:28:07.530\nWe have our normal ones that you\nspoke of that we normally stick to.\n\n587\n00:28:07.530 --> 00:28:08.530\nBut you have so many options.\n\n588\n00:28:08.530 --> 00:28:11.220\nAnd then even introducing like,\nyou had referenced, bind.\n\n589\n00:28:11.220 --> 00:28:14.250\nLike, hosting with Don on those shows.\n\n590\n00:28:14.250 --> 00:28:15.540\nThat was just an eye opener, so.\n\n591\n00:28:15.540 --> 00:28:16.300\n&gt;&gt; Setting up a non.\n\n592\n00:28:16.300 --> 00:28:17.075\n&gt;&gt; Yeah.\n&gt;&gt; Non-DOS.\n\n593\n00:28:17.075 --> 00:28:17.829\n&gt;&gt; Non.\nWindows.\n\n594\n00:28:17.829 --> 00:28:19.484\n&gt;&gt; Non-Microsoft based DNS.\n\n595\n00:28:19.484 --> 00:28:21.604\n&gt;&gt; Um-hm.\n&gt;&gt; Right, so, working the Internet,\n\n596\n00:28:21.604 --> 00:28:24.180\nnaming, daemon or bind,\nwhich is non-Microsoft.\n\n597\n00:28:24.180 --> 00:28:27.090\nFor soft DNS and the ability to be\nable to link to execute of that.\n\n598\n00:28:27.090 --> 00:28:31.290\nSounds we have a certain minimum\nbuild on the buy-in type, right?\n\n599\n00:28:31.290 --> 00:28:33.930\nVersion 2 point something or\nwhatever it is now.\n\n600\n00:28:33.930 --> 00:28:35.770\n&gt;&gt; And then they have flavors and\nvariants of that so [LAUGH].\n\n601\n00:28:35.770 --> 00:28:37.095\n&gt;&gt; Yeah,\nabsolutely you could do all of that.\n\n602\n00:28:37.095 --> 00:28:40.067\nNow just quickly since we're talking\nabout you know different options.\n\n603\n00:28:40.067 --> 00:28:44.000\nIPv6 doesn't have all the bells and\nwhistles that I just showed you for IPv4.\n\n604\n00:28:44.000 --> 00:28:46.340\nBut you could see here,\nwe do have DHCP audit logging.\n\n605\n00:28:46.340 --> 00:28:47.450\nThat is good.\n\n606\n00:28:47.450 --> 00:28:48.810\nWe do have name protection.\n\n607\n00:28:48.810 --> 00:28:51.070\nThat is available for both IPv4 and IPv6.\n\n608\n00:28:51.070 --> 00:28:53.680\nSo, that capability exists on both.\n\n609\n00:28:53.680 --> 00:28:55.080\nWe can do dynamic updates, and\n\n610\n00:28:55.080 --> 00:28:58.820\ndiscarding of dynamic updated\nrecords automatically in DNS.\n\n611\n00:28:58.820 --> 00:29:00.628\nSo we do have that capability.\n\n612\n00:29:00.628 --> 00:29:03.750\nUnder Advanced, you'll notice we do have\nthe ability to change the connection\n\n613\n00:29:03.750 --> 00:29:07.040\nbindings, the dynamic update\nregistration credentials.\n\n614\n00:29:07.040 --> 00:29:10.150\nBut notice that a lot of the other stuff\nwe were just talking about is not there.\n\n615\n00:29:10.150 --> 00:29:12.400\nThe fail over relationship in other words,\nright?\n\n616\n00:29:12.400 --> 00:29:14.790\nIs there for IPv4, not for IPv6 right now.\n\n617\n00:29:14.790 --> 00:29:18.392\nSo, if some of those things\nare limited based on what we're doing.\n\n618\n00:29:18.392 --> 00:29:25.295\nBut we do have the capabilities to be\nable to set up a great deal of features.\n\n619\n00:29:25.295 --> 00:29:29.570\nNew advanced items, and, or\nold stuff that's just been updated and\n\n620\n00:29:29.570 --> 00:29:34.400\nrefreshed for Server 16 to make sure\nthat our DHCP servers are backed up.\n\n621\n00:29:34.400 --> 00:29:37.130\nThat they're highly available,\nthat they are scalable, and\n\n622\n00:29:37.130 --> 00:29:39.220\nthat if something goes wrong,\nwe can recover them.\n\n623\n00:29:39.220 --> 00:29:41.230\nSo, we do have a lot of these features.\n\n624\n00:29:41.230 --> 00:29:42.760\nLet's just take a look here real quick.\n\n625\n00:29:42.760 --> 00:29:46.500\nAt the following, actually no,\nyou know what I want to do?\n\n626\n00:29:46.500 --> 00:29:49.370\nI want to do this, right up here.\n\n627\n00:29:49.370 --> 00:29:50.510\nLet's go here, and\n\n628\n00:29:50.510 --> 00:29:54.460\nlet's just do a quick backup, speaking\nof making sure things are good, right?\n\n629\n00:29:54.460 --> 00:29:57.160\nSo you'll see in System 32 DHCP backup,\nright?\n\n630\n00:29:57.160 --> 00:30:00.150\nThat's where we have our folder, right?\n\n631\n00:30:00.150 --> 00:30:01.650\nSo, you can go in there.\n\n632\n00:30:03.130 --> 00:30:06.350\nAnd when we do that, DHCP goes up\nto the strings and backs up for\n\n633\n00:30:06.350 --> 00:30:06.870\nus in other words.\n\n634\n00:30:06.870 --> 00:30:11.160\nWe don't have to worry about a complicated\nwizard with all sort of steps, bells and\n\n635\n00:30:11.160 --> 00:30:12.690\nwhistles, and crazy stuffs.\n\n636\n00:30:12.690 --> 00:30:15.751\nAnd it just goes off and\ndoes it's back up for us, right?\n\n637\n00:30:15.751 --> 00:30:19.511\nRemember this is the folder\nthat we were in.\n\n638\n00:30:19.511 --> 00:30:25.196\nAnd so it is gonna create for\nus in the backup folder a new backup.\n\n639\n00:30:25.196 --> 00:30:27.366\nIt will do that over time it will\nset itself up a schedule, and\n\n640\n00:30:27.366 --> 00:30:28.998\nthen it will just run in\nthe next few minutes.\n\n641\n00:30:28.998 --> 00:30:30.084\nAnd we will get a backup there.\n\n642\n00:30:30.084 --> 00:30:33.591\nSo it is gonna specify that we can run or\nthat we have that backup created over\n\n643\n00:30:33.591 --> 00:30:36.260\ntime, so we told it where to go,\nand what to do.\n\n644\n00:30:36.260 --> 00:30:42.350\nAnd if we had a problem And\nwe had to restore, right?\n\n645\n00:30:42.350 --> 00:30:44.290\nLet's say something went wrong, right?\n\n646\n00:30:44.290 --> 00:30:48.170\nWe could specify where the back up was,\ngo grab the back up file, and restore it.\n\n647\n00:30:48.170 --> 00:30:51.780\nNow, we may wanna export that back up,\ngrab it, take it off the System for\n\n648\n00:30:51.780 --> 00:30:55.330\nmigration purposes, some other things\nthat we may wanna do with that over time.\n\n649\n00:30:55.330 --> 00:30:58.559\nSo we may wanna have a backup that we\ncan make portable and take somewhere and\n\n650\n00:30:58.559 --> 00:30:59.901\nthen restore somewhere else.\n\n651\n00:30:59.901 --> 00:31:01.563\nAnd we can certainly talk about and\n\n652\n00:31:01.563 --> 00:31:04.965\nwe'll talk about how to do a DHCP\nmigration in upcoming episode.\n\n653\n00:31:04.965 --> 00:31:07.995\nBut we may actually wanna take it\nback up and have an externals, so\n\n654\n00:31:07.995 --> 00:31:09.035\nthat way we have options.\n\n655\n00:31:09.035 --> 00:31:11.665\nCuz if we wanna, we talked about\nthis decommissioning, right,\n\n656\n00:31:11.665 --> 00:31:12.705\nversus the authorizing.\n\n657\n00:31:12.705 --> 00:31:14.885\nIf we're ultimately gonna\ndecommission the server,\n\n658\n00:31:14.885 --> 00:31:18.042\nwe may have to take the server down,\nbacking it up before we do that.\n\n659\n00:31:18.042 --> 00:31:20.583\n&gt;&gt; Always.\n&gt;&gt; And do a restoration somewhere else,\n\n660\n00:31:20.583 --> 00:31:23.072\neither because of a BCDR\nevent of some kind.\n\n661\n00:31:23.072 --> 00:31:27.112\nA business continuity disaster recovery\nissue, and, or just because we're\n\n662\n00:31:27.112 --> 00:31:29.622\nswitching over infrastructure,\nwho knows what we're doing.\n\n663\n00:31:29.622 --> 00:31:30.860\n&gt;&gt; Unsupported paths.\n\n664\n00:31:30.860 --> 00:31:31.510\n&gt;&gt; All sorts of stuff.\n\n665\n00:31:31.510 --> 00:31:32.393\n&gt;&gt; Buy you're down grading all, yeah.\n\n666\n00:31:32.393 --> 00:31:36.365\n&gt;&gt; So we may just have to restore that\ninformation on a separate interface into\n\n667\n00:31:36.365 --> 00:31:37.810\na separate instance.\n\n668\n00:31:37.810 --> 00:31:39.880\nAnd we wanna have a backup\nthat would allow us to that.\n\n669\n00:31:39.880 --> 00:31:42.380\nSo it's important for\nus to think about that.\n\n670\n00:31:42.380 --> 00:31:43.830\nSince we're here just\nby way of wrapping up,\n\n671\n00:31:43.830 --> 00:31:47.600\nwe were talking about the ability to\ncreate options, and we had user classes.\n\n672\n00:31:47.600 --> 00:31:50.070\nSo we're gonna talk about user classes,\nwe can assign and\n\n673\n00:31:50.070 --> 00:31:52.680\ndefine user class information.\n\n674\n00:31:52.680 --> 00:31:56.349\nI showed you this option here,\nI'm just gonna come back here real quick.\n\n675\n00:31:56.349 --> 00:31:59.601\nAnd you'll see here define user classes,\nand vendor classes.\n\n676\n00:31:59.601 --> 00:32:02.728\nSo the idea with the user\nclass here You'll see for\n\n677\n00:32:02.728 --> 00:32:07.170\ninstance we have a couple of them\nright routing remote access boot p.\n\n678\n00:32:07.170 --> 00:32:09.056\nLet's just add one here.\n\n679\n00:32:09.056 --> 00:32:15.683\nWe can go in and create a class specific\nfor either the user and or for a vendor.\n\n680\n00:32:15.683 --> 00:32:20.350\nAnd the idea would be that When we\ndo this the vendor is typically\n\n681\n00:32:20.350 --> 00:32:23.490\neither we'll create them but normally\nvendor that are supported into have their\n\n682\n00:32:23.490 --> 00:32:26.690\nfunctionality that are being\ninserted will be added.\n\n683\n00:32:26.690 --> 00:32:31.287\nAnd we can use this to define ultimately\nwhat our information will be and\n\n684\n00:32:31.287 --> 00:32:33.670\nwhat is provided through the class.\n\n685\n00:32:33.670 --> 00:32:37.701\nSo for instance in just look\nat the one that's here, right?\n\n686\n00:32:40.265 --> 00:32:43.090\nActually it's right,\nthese are hard coded, I can't edit these.\n\n687\n00:32:43.090 --> 00:32:45.300\nSo let's actually do this really quick,\n\n688\n00:32:45.300 --> 00:32:48.220\nforgot the two that are built\nin we can't actually edit.\n\n689\n00:32:48.220 --> 00:32:53.959\nBut we can go in and\nwe can do the following.\n\n690\n00:32:53.959 --> 00:32:58.290\nSo if I just look at these while I'm\nadding, can I get, just go over there.\n\n691\n00:32:58.290 --> 00:32:59.160\nThere we go, right.\n\n692\n00:32:59.160 --> 00:33:03.779\nSo you'll see we have things like Windows\n2000, Windows 98, vendor specific options,\n\n693\n00:33:03.779 --> 00:33:04.816\nMicrosoft options.\n\n694\n00:33:04.816 --> 00:33:06.600\nThese are only from Microsoft initially.\n\n695\n00:33:06.600 --> 00:33:10.179\nBut these are specific options that\nthe vendor provides that are supported\n\n696\n00:33:10.179 --> 00:33:12.235\ntypically for backwards compatibility.\n\n697\n00:33:12.235 --> 00:33:15.657\nSo for Windows 98 or 2000 based clients.\n\n698\n00:33:15.657 --> 00:33:19.554\nThese are older clients that would have\ncertain features that would have to remain\n\n699\n00:33:19.554 --> 00:33:22.945\nenabled or be turned back on because\nmaybe they're no longer offered or\n\n700\n00:33:22.945 --> 00:33:24.060\nwho knows what.\n\n701\n00:33:24.060 --> 00:33:27.600\nBut we would then be able to provide\nthose and provide that information.\n\n702\n00:33:27.600 --> 00:33:30.802\nAnd so that's what these classes\nrepresent or the ability to add in\n\n703\n00:33:30.802 --> 00:33:34.135\nthese references and/or have this\nfunctionality available to us.\n\n704\n00:33:34.135 --> 00:33:37.413\nSo that as we go in, if you remember and\ntalked about different options,\n\n705\n00:33:37.413 --> 00:33:40.450\nwe have the ability to be able to\ndo more narrowly defined options.\n\n706\n00:33:40.450 --> 00:33:42.350\nSo if we start with the server,\ngo to the scope,\n\n707\n00:33:42.350 --> 00:33:45.380\nthen ultimately the user-defined\nclasses and the machine classes.\n\n708\n00:33:45.380 --> 00:33:49.140\nWe could be very specific about how\na certain machine with the reserve client\n\n709\n00:33:49.140 --> 00:33:51.550\nwill get that particular set of options,\nassignments.\n\n710\n00:33:51.550 --> 00:33:55.250\nSo our classes are gonna be helpful for us\nto do that and they let us work with their\n\n711\n00:33:55.250 --> 00:33:59.302\noptions to narrowly define how we're gonna\nconfigure a client and give them certain,\n\n712\n00:33:59.302 --> 00:34:03.902\n[COUGH] Preset information,\nthings like as I said, default gateway,\n\n713\n00:34:03.902 --> 00:34:07.956\nvendor specific setting that maybe\nthe vendor has to support and provide,\n\n714\n00:34:07.956 --> 00:34:12.225\nthat will configure that client a certain\nway but is not used by other clients.\n\n715\n00:34:12.225 --> 00:34:15.311\nSo it'd be a reserved client IP or\nreserved client lease that we would\n\n716\n00:34:15.311 --> 00:34:18.680\nprovide that particular option through and\nmake it unique to that client.\n\n717\n00:34:18.680 --> 00:34:20.720\nSo we have the capability of doing this.\n\n718\n00:34:20.720 --> 00:34:25.485\nWe define user classes only for\nIPv4 notice you could see there, right?\n\n719\n00:34:25.485 --> 00:34:29.000\nThey're not at the scope level for\nspecific by the IPv4 node.\n\n720\n00:34:29.000 --> 00:34:32.360\nAnd then we do not have user classes for\nIPv6 by the way.\n\n721\n00:34:32.360 --> 00:34:35.520\nIt's not currently we may in\nthe future we don't have them now.\n\n722\n00:34:35.520 --> 00:34:39.195\nAlthough we do have them at support for\nIPv4 so just so you know.\n\n723\n00:34:39.195 --> 00:34:41.710\nBut we could do this with\nan ipconfig command as well.\n\n724\n00:34:41.710 --> 00:34:45.430\nWe could do it from here but we can do\nwith an ipconfig command would you may or\n\n725\n00:34:45.430 --> 00:34:47.890\nmay not be aware of,\nI know I showed this to you at some point.\n\n726\n00:34:47.890 --> 00:34:50.690\nBut lets just open up a command\nprompt here one more time\n\n727\n00:34:50.690 --> 00:34:52.730\njust to remind you of this.\n\n728\n00:34:52.730 --> 00:34:55.550\nLet me just make this a little bit\nbigger so you guys can see this.\n\n729\n00:34:55.550 --> 00:35:01.022\nJust before we do anything,\nthere we go let's do send to console.\n\n730\n00:35:01.022 --> 00:35:03.078\nAll right, that's probably\na little bit easier to see.\n\n731\n00:35:03.078 --> 00:35:06.340\nAnd so if we do ipconfig, all right,\n\n732\n00:35:06.340 --> 00:35:12.150\nyou'll see that we do have the ability\nto set our class ID in here.\n\n733\n00:35:17.128 --> 00:35:22.931\nAnd you can see here we can go in and\ndo a set class ID and, [COUGH]\n\n734\n00:35:26.692 --> 00:35:30.410\nWe can specify that using IP config.\n\n735\n00:35:30.410 --> 00:35:31.775\nSo we do a class id.\n\n736\n00:35:31.775 --> 00:35:32.862\n&gt;&gt; That's pretty cool.\n\n737\n00:35:32.862 --> 00:35:34.370\n&gt;&gt; And, or class id for\nversion six from IP config.\n\n738\n00:35:34.370 --> 00:35:37.710\nSo we can set these up, and\nwe could specify whether or\n\n739\n00:35:37.710 --> 00:35:40.760\nnot We enter them and set them up.\n\n740\n00:35:40.760 --> 00:35:44.100\nWe can do them from the console or\nwe can also go ahead and set them up, but\n\n741\n00:35:44.100 --> 00:35:45.810\nthis has to be from an elevated\ncommand prompt right?\n\n742\n00:35:45.810 --> 00:35:47.880\nRemember, we always have to\nrun this as an administrator.\n\n743\n00:35:47.880 --> 00:35:50.960\nWe could set them up here using\nipconfig as well if we choose to.\n\n744\n00:35:50.960 --> 00:35:53.451\nSo, that's up to us to\ndecide how we do it.\n\n745\n00:35:53.451 --> 00:35:54.600\n&gt;&gt; Awesome.\n\n746\n00:35:54.600 --> 00:35:55.915\nI didn't know that now I know.\n\n747\n00:35:55.915 --> 00:35:57.288\n[LAUGH]\n&gt;&gt; Learning stuff.\n\n748\n00:35:57.288 --> 00:35:59.308\n&gt;&gt; Well, remember,\nnormally we can almost anything we do.\n\n749\n00:35:59.308 --> 00:36:00.930\n&gt;&gt; Like, I said DHCP has so much that.\n\n750\n00:36:00.930 --> 00:36:04.470\n&gt;&gt; It does, but we can normally do\nalmost probably anything we do plus\n\n751\n00:36:04.470 --> 00:36:05.790\nmore is the usual thought process.\n\n752\n00:36:05.790 --> 00:36:08.380\nEverything we do in the graphical\ninterface from the command line\n\n753\n00:36:08.380 --> 00:36:09.280\ntraditionally.\n\n754\n00:36:09.280 --> 00:36:12.660\nBut we usually have certain features,\nat least in most cases,\n\n755\n00:36:12.660 --> 00:36:14.800\nthere's certain things that can\nonly be done from a command line.\n\n756\n00:36:14.800 --> 00:36:16.565\nMaybe not always but sometimes.\n\n757\n00:36:16.565 --> 00:36:18.676\nBut everything we do in\nthe command line and\n\n758\n00:36:18.676 --> 00:36:22.544\nthe graphical interface typically is a lot\nof time is gonna be the same right but\n\n759\n00:36:22.544 --> 00:36:26.665\nthe command line may give us some\nadditional options, more often than not.\n\n760\n00:36:26.665 --> 00:36:30.320\nBut in this case we could do them from\neither place can set those options up,\n\n761\n00:36:30.320 --> 00:36:33.300\nspecify those class IDs or\nwhatever the case may be.\n\n762\n00:36:33.300 --> 00:36:36.590\nAnd we can do either one, or\nuse either one I should say,\n\n763\n00:36:36.590 --> 00:36:37.840\nto be able to set them up.\n\n764\n00:36:37.840 --> 00:36:41.580\n&gt;&gt; Now I do know we have additional\ninformation to cover, but for\n\n765\n00:36:41.580 --> 00:36:45.150\nthis show we are gonna go ahead and\ncall it quits because we're out of time.\n\n766\n00:36:45.150 --> 00:36:46.240\nSo we're gonna go ahead and sign out.\n\n767\n00:36:46.240 --> 00:36:48.354\nRemember, I'm your host, Cherokee Boose.\n\n768\n00:36:48.354 --> 00:36:49.610\n&gt;&gt; I'm Adam Gordon.\n\n769\n00:36:49.610 --> 00:36:50.983\n&gt;&gt; See you next time here at ITProTV.\n\n770\n00:36:50.983 --> 00:36:58.743\n[MUSIC]\n\n771\n00:36:58.743 --> 00:37:00.580\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "216838018"
        },
        {
          "description": "In this show, Adam and Cherokee really focus on DHCP policies and scopes with an emphasis on  super scopes. Adam walks us through the step by step process of how to create a a DHCP Policy as well as configuring those super and multicast scopes.",
          "length": "1616",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-3-implementing_dhcp_pt3-050917-PGM.00_26_42_14.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-3-implementing_dhcp_pt3-050917-PGM.00_26_42_14.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-3-implementing_dhcp_pt3-050917-PGM.00_26_42_14.Still001-sm.jpg",
          "title": "Implementing DHCP Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:01.277\nWelcome to ITProTV.\n\n2\n00:00:01.277 --> 00:00:06.459\nI'm your host, Don [CROSSTALK]\n\n3\n00:00:06.459 --> 00:00:08.381\n[MUSIC]\n\n4\n00:00:08.381 --> 00:00:11.980\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.980 --> 00:00:16.075\n&gt;&gt; Welcome to Networking with\nWindows Server 2016 series.\n\n6\n00:00:16.075 --> 00:00:18.105\nI'm your show host Cherokee Boose.\n\n7\n00:00:18.105 --> 00:00:21.287\nIn this episode we're gonna\ncontinue taking a look at DHCP.\n\n8\n00:00:21.287 --> 00:00:23.209\nWe've actually made it to a part three.\n\n9\n00:00:23.209 --> 00:00:26.116\nAnd back in studios with us\ntoday we have Mr. Adam Gordon.\n\n10\n00:00:26.116 --> 00:00:27.962\nThank you for joining us today, Adam.\n\n11\n00:00:27.962 --> 00:00:30.240\n&gt;&gt; Thank you for\ninviting me back for part three.\n\n12\n00:00:30.240 --> 00:00:33.300\nYou make it sound sometimes like youre\nalmost amazed we made it to part three,\n\n13\n00:00:33.300 --> 00:00:35.597\nlike it was such a struggle to\nget through parts one and two.\n\n14\n00:00:35.597 --> 00:00:38.135\n&gt;&gt; [LAUGH]\n&gt;&gt; Hopefully it wasnt for you, and\n\n15\n00:00:38.135 --> 00:00:40.515\nhopefully youre gonna enjoy\ncontinuing the DHCP journey with us.\n\n16\n00:00:40.515 --> 00:00:42.554\n&gt;&gt; [LAUGH]\n&gt;&gt; Were gonna continue on.\n\n17\n00:00:42.554 --> 00:00:47.330\nWeve got some additional features and\nbells and whistles we want to examine.\n\n18\n00:00:47.330 --> 00:00:48.820\nWe hinted at some of these already.\n\n19\n00:00:48.820 --> 00:00:50.816\nWe took a quick look at policies.\n\n20\n00:00:50.816 --> 00:00:53.364\nWe're gonna investigate\nthat a little bit more,\n\n21\n00:00:53.364 --> 00:00:56.943\ntalk about how we can use policy based\nassignment to give out different\n\n22\n00:00:56.943 --> 00:01:00.536\nscope options to different systems\nbased on a variety of conditions.\n\n23\n00:01:00.536 --> 00:01:03.190\nWe'll take a look at those\nscopes a little more detailed.\n\n24\n00:01:03.190 --> 00:01:04.964\nWe're gonna drill down,\ntake a look at superscopes.\n\n25\n00:01:04.964 --> 00:01:06.934\nTake a look at multicast scopes.\n\n26\n00:01:06.934 --> 00:01:10.661\nWe'll configure those, well not a mystery\nthere just really combining scopes\n\n27\n00:01:10.661 --> 00:01:14.400\ntogether that already exist into a larger\nblock for administrative purposes.\n\n28\n00:01:14.400 --> 00:01:16.120\nBut we'll go through that\njust to make sure you're\n\n29\n00:01:16.120 --> 00:01:17.470\ncomfortable with how that works.\n\n30\n00:01:17.470 --> 00:01:21.860\nAnd then, we're gonna talk about how to\nrevisit this idea that we talked about\n\n31\n00:01:21.860 --> 00:01:23.733\nin the last episode of failover.\n\n32\n00:01:23.733 --> 00:01:26.326\nAnd we're actually gonna go\nthrough configured DHCP failover.\n\n33\n00:01:26.326 --> 00:01:28.430\nGot two DHCP servers set up.\n\n34\n00:01:28.430 --> 00:01:32.122\nWe'll configure our failover solution,\ndelete the scope from one, set it up, and\n\n35\n00:01:32.122 --> 00:01:33.582\nthen replicate the scopes back.\n\n36\n00:01:33.582 --> 00:01:34.969\nShow you how all that works.\n\n37\n00:01:34.969 --> 00:01:39.800\nAnd then based on that, we should have\njust about completed our discussions\n\n38\n00:01:39.800 --> 00:01:42.299\naround DHCP at this level, for IPv4.\n\n39\n00:01:42.299 --> 00:01:45.787\nWe've been drilling in, really talking\nabout all the IPv4-based support.\n\n40\n00:01:45.787 --> 00:01:47.660\nAnd we're gonna do another episode.\n\n41\n00:01:47.660 --> 00:01:50.924\nYou'll come back and join us for\nthat hopefully, as well, around DHCPv6 and\n\n42\n00:01:50.924 --> 00:01:52.415\nhow to stand up and configure that.\n\n43\n00:01:52.415 --> 00:01:55.270\nSo gonna give that complete coverage.\n\n44\n00:01:55.270 --> 00:01:57.514\nAnd then of course based on\nthat we'll go through and\n\n45\n00:01:57.514 --> 00:01:59.250\nhave a lot of other things to talk about.\n\n46\n00:01:59.250 --> 00:02:03.740\nGot a lot of features in the Windows\nServer 16 stack with regards to networking\n\n47\n00:02:03.740 --> 00:02:06.095\nstill to come, things like IPv6, DNS.\n\n48\n00:02:06.095 --> 00:02:08.731\nCertainly we'll take a look at and\ntalk about IPAM and\n\n49\n00:02:08.731 --> 00:02:11.896\na bunch of other stuff including VPNs and\nadvanced networking,\n\n50\n00:02:11.896 --> 00:02:15.276\nthings like Hyper-V Networking\nwhich should be kind of cool.\n\n51\n00:02:15.276 --> 00:02:18.530\nBut you're gonna have to come back for all\nthat cus right now we're gonna talk about\n\n52\n00:02:18.530 --> 00:02:22.480\nDHCP and how we setup and\nwork with scopes.\n\n53\n00:02:22.480 --> 00:02:24.149\nSo you can join me here, and\n\n54\n00:02:24.149 --> 00:02:27.715\nyou'll see we're in our\nvirtual machine console again.\n\n55\n00:02:27.715 --> 00:02:31.689\nSame machine we used, same setup\nwe had in our prior conversation.\n\n56\n00:02:31.689 --> 00:02:33.330\nWe just modified this a little bit.\n\n57\n00:02:33.330 --> 00:02:36.124\nHave two scopes already created out,\nyou'll see them sitting there.\n\n58\n00:02:36.124 --> 00:02:40.021\nAnd what we're gonna do is first\njust talk a bit about policies.\n\n59\n00:02:40.021 --> 00:02:42.144\nI've got that highlighted right\ndown here in the console.\n\n60\n00:02:42.144 --> 00:02:44.670\nI just mentioned the idea behind policies.\n\n61\n00:02:44.670 --> 00:02:48.710\nIt's really the idea of giving or\nspecifying our ability through a set of\n\n62\n00:02:48.710 --> 00:02:51.832\nconditions that will stack up here,\neither ands and ors.\n\n63\n00:02:51.832 --> 00:02:54.160\nI wanna do this and this, have this or\n\n64\n00:02:54.160 --> 00:02:57.870\nthat, kind of a very simple\nthought process for us to match.\n\n65\n00:02:57.870 --> 00:03:03.260\nAnd then use that logic to drive our\nability to be able to go ahead and\n\n66\n00:03:03.260 --> 00:03:08.760\nspecify different IP devices that will\nreceive different options from our pool.\n\n67\n00:03:08.760 --> 00:03:12.890\nAnd so we're gonna go in and almost like\nat a firewall, set up a set of rules.\n\n68\n00:03:12.890 --> 00:03:16.212\nHere we call them policies, but\nessentially condition based solutions\n\n69\n00:03:16.212 --> 00:03:19.370\nwe'll match against to drive our\nability to be able to then manage and\n\n70\n00:03:19.370 --> 00:03:22.757\nmanipulate addressing and give out\naddresses and things of that nature.\n\n71\n00:03:22.757 --> 00:03:27.422\nSo I'm gonna right-click here on Policies\n&gt; New Policy, go ahead and create one.\n\n72\n00:03:27.422 --> 00:03:30.171\nAgain, we're in the IPv4 area here.\n\n73\n00:03:30.171 --> 00:03:33.219\nJust move this up so\nwe can see what's going on there, and\n\n74\n00:03:33.219 --> 00:03:36.740\nhave a understanding of what\nthe console wizard looks like.\n\n75\n00:03:36.740 --> 00:03:39.210\nWe'll give this a name,\nlike all good policies, right?\n\n76\n00:03:39.210 --> 00:03:44.840\nSo let's say that we call this,\nWindows Server\n\n77\n00:03:44.840 --> 00:03:50.198\n2008 R2 Policy or something like that.\n\n78\n00:03:50.198 --> 00:03:55.690\nSo maybe we're gonna target devices that\nare based around Windows Server 2008 R2.\n\n79\n00:03:55.690 --> 00:03:59.960\nOr maybe you're gonna create a policy for\nServer 12 R2 systems,\n\n80\n00:03:59.960 --> 00:04:02.760\nor print devices that you\nwanna be able to give\n\n81\n00:04:02.760 --> 00:04:06.110\nIP addresses out to based on\nsome sort of MAC address match.\n\n82\n00:04:06.110 --> 00:04:09.280\nKeep in mind, remember, and you'll see\nthis in a minute when we go through, but\n\n83\n00:04:09.280 --> 00:04:11.970\nwe're gonna have a lot of\nconditions that we can work with.\n\n84\n00:04:11.970 --> 00:04:14.226\nWe're gonna get those from our vendor and\nuser classes,\n\n85\n00:04:14.226 --> 00:04:15.684\nwe'd spoke about those yesterday.\n\n86\n00:04:15.684 --> 00:04:19.071\nOr rather, I should say in your time,\njust the prior episode, for\n\n87\n00:04:19.071 --> 00:04:20.440\nus it was yesterday.\n\n88\n00:04:20.440 --> 00:04:22.110\nBut just in a prior episode.\n\n89\n00:04:22.110 --> 00:04:25.120\nBut the idea being there if you\nremember the class conversation\n\n90\n00:04:25.120 --> 00:04:27.110\nthat vendors will often provide classes.\n\n91\n00:04:27.110 --> 00:04:33.020\nMicrosoft has some built in for Server\n2008, for Windows 98 things like that.\n\n92\n00:04:33.020 --> 00:04:37.220\nAnd the generic one's kind of a catch\nall for general class based options.\n\n93\n00:04:37.220 --> 00:04:39.087\nUser classes can be defined.\n\n94\n00:04:39.087 --> 00:04:42.906\nWe could go in and set up our own classes,\ndeclare are own variables and\n\n95\n00:04:42.906 --> 00:04:45.706\nthings that we want to use and\nassign through them.\n\n96\n00:04:45.706 --> 00:04:48.518\nAnd then we can use that\nto be able to go ahead and\n\n97\n00:04:48.518 --> 00:04:51.705\nto drive here,\nwhich is where we really link these.\n\n98\n00:04:51.705 --> 00:04:55.989\nAnd one of the key reasons why we may\ncreate class based solutions is to drive\n\n99\n00:04:55.989 --> 00:04:58.174\nthem Into our policy conversations.\n\n100\n00:04:58.174 --> 00:04:59.774\nSo we're gonna click Next here.\n\n101\n00:04:59.774 --> 00:05:02.640\nAnd we're gonna go in,\nconfigure our conditions for the policy.\n\n102\n00:05:02.640 --> 00:05:05.982\nNow just a quick word about what's here,\njust so you have a sense of this.\n\n103\n00:05:05.982 --> 00:05:07.915\nSo the idea here it says\npolicy creation or,\n\n104\n00:05:07.915 --> 00:05:10.697\nexcuse me, policy consists rather\nof one or more conditions.\n\n105\n00:05:10.697 --> 00:05:11.710\nWe talked about that.\n\n106\n00:05:11.710 --> 00:05:14.775\nAnd a set of configuration settings,\noptions, IP addresses,\n\n107\n00:05:14.775 --> 00:05:17.516\nwe talked about that,\nthat are distributed to a client.\n\n108\n00:05:17.516 --> 00:05:18.464\nWe know all that.\n\n109\n00:05:18.464 --> 00:05:22.011\nThe DHCP server delivers these\nspecific settings to clients if, or\n\n110\n00:05:22.011 --> 00:05:25.387\nthat match these conditions,\nif they match or that will match.\n\n111\n00:05:25.387 --> 00:05:26.644\nAnd so we'll set all that up.\n\n112\n00:05:26.644 --> 00:05:30.776\nBut the thing I wanted to point out to\nyou here, a little information item,\n\n113\n00:05:30.776 --> 00:05:34.779\npolicy with conditions based on\nfully qualified domain names, right,\n\n114\n00:05:34.779 --> 00:05:39.459\ncan have configuration settings for DNS,\nbut not for options or IP address ranges.\n\n115\n00:05:39.459 --> 00:05:42.101\nSo we have to think about how\nwe're gonna set this up and\n\n116\n00:05:42.101 --> 00:05:45.732\nwhat options we're gonna choose based\non the outcome we're looking for.\n\n117\n00:05:45.732 --> 00:05:49.792\nAnd we'll get into this and/or thing\ndown here in just a second, but\n\n118\n00:05:49.792 --> 00:05:52.525\nlet's start by adding\na policy condition in.\n\n119\n00:05:52.525 --> 00:05:56.111\nSo let's just grab this,\nlet's bring this up over here so\n\n120\n00:05:56.111 --> 00:05:58.098\nwe can see what we're going on.\n\n121\n00:05:58.098 --> 00:06:01.204\nWhat we're doing rather I should say,\nwe have our criteria,\n\n122\n00:06:01.204 --> 00:06:04.548\nI mentioned we could do this based\non vendor class, or user class,\n\n123\n00:06:04.548 --> 00:06:06.956\nwe also have MAC address,\nclient identifier.\n\n124\n00:06:06.956 --> 00:06:10.406\nThis is where that information item\nwe just took a look at comes in.\n\n125\n00:06:10.406 --> 00:06:15.783\nFQDN, or domain name could be a driver\nhere, as can a relay agent, right?\n\n126\n00:06:15.783 --> 00:06:19.194\nWe talked about how to setup DHCP\nrelay agents in our prior episode.\n\n127\n00:06:19.194 --> 00:06:22.168\nIf you haven't seen that,\nI encourage you to go back, take a look.\n\n128\n00:06:22.168 --> 00:06:24.975\nWe discussed and walked through\nthe logic of how to set one up.\n\n129\n00:06:24.975 --> 00:06:28.915\nWe used the routing of the mode access\nconsole to configure our DHCP relay\n\n130\n00:06:28.915 --> 00:06:29.633\ninterface.\n\n131\n00:06:29.633 --> 00:06:31.916\nWe bound two ethernet adapters to it.\n\n132\n00:06:31.916 --> 00:06:33.242\nOne on the LAN, one on the WAN,\n\n133\n00:06:33.242 --> 00:06:35.846\nand just kind of showed you\nthe logic of how to set all that up.\n\n134\n00:06:35.846 --> 00:06:38.280\nSo important for\nyou to go back and take a look.\n\n135\n00:06:38.280 --> 00:06:40.884\nBut we can do this with\nany one of these items.\n\n136\n00:06:40.884 --> 00:06:44.170\nWe have a total of six different\nitems here that we can choose from.\n\n137\n00:06:44.170 --> 00:06:48.360\nSo if we did, for instance, vendor class,\nwhich is our default as you'll see here.\n\n138\n00:06:48.360 --> 00:06:52.450\nWe have an operator, is it equal to or\nnot equal to, pretty straight forward.\n\n139\n00:06:52.450 --> 00:06:56.730\nYes no binary kind of match almost\nlike a firewall as I suggested.\n\n140\n00:06:56.730 --> 00:07:00.890\nIt's very simplistic but very effective\nway of driving the rule set here, or\n\n141\n00:07:00.890 --> 00:07:02.687\nthe conditions for the rule set.\n\n142\n00:07:02.687 --> 00:07:06.784\nValue, Microsoft 2000 based options,\nWindows 98 options,\n\n143\n00:07:06.784 --> 00:07:08.557\nand/or Microsoft options.\n\n144\n00:07:08.557 --> 00:07:12.728\nRemember, these are the default build in\nvendor, built-in vendor class options.\n\n145\n00:07:12.728 --> 00:07:14.226\nWe examined these yesterday.\n\n146\n00:07:14.226 --> 00:07:15.448\nI keep saying yesterday.\n\n147\n00:07:15.448 --> 00:07:17.637\nWe examined these in a prior episode.\n\n148\n00:07:17.637 --> 00:07:20.944\nBut we did take a look at the idea\nthat with the vendor class,\n\n149\n00:07:20.944 --> 00:07:23.732\nwe have these three default\nsolutions prebuilt.\n\n150\n00:07:23.732 --> 00:07:25.643\nWe could add our own in obviously but\n\n151\n00:07:25.643 --> 00:07:28.391\nthese are the ones that\nship with the DHCP product.\n\n152\n00:07:28.391 --> 00:07:30.594\nThey have been the same for some time now.\n\n153\n00:07:30.594 --> 00:07:35.399\nIf we choose Microsoft Options,\nwe could do a add here and\n\n154\n00:07:35.399 --> 00:07:40.116\njust specify that we have\nthose options pre-bundled.\n\n155\n00:07:40.116 --> 00:07:43.860\nYou'll see we can choose\nWindows 98 options.\n\n156\n00:07:43.860 --> 00:07:45.133\nWe can remove one.\n\n157\n00:07:45.133 --> 00:07:49.291\nLet's just say hypothetically,\nif we don't want to stack up multiples,\n\n158\n00:07:49.291 --> 00:07:52.150\nwe could do something\nlike a prefix wildcard.\n\n159\n00:07:52.150 --> 00:07:53.792\nWe could do append wildcards.\n\n160\n00:07:53.792 --> 00:07:55.800\nThese are mutually exclusive,\nas you can see.\n\n161\n00:07:55.800 --> 00:07:59.871\nSo we can work with these different\nsolutions, and if we say equals Windows 98\n\n162\n00:07:59.871 --> 00:08:04.247\noptions, Whatever the options are that are\ndeclared in the vendor class we would have\n\n163\n00:08:04.247 --> 00:08:07.620\nto be equal to those in order for\nthis condition to be applied.\n\n164\n00:08:07.620 --> 00:08:12.710\nSo we're creating a match that will allow\nus to specify, and so we'll click OK.\n\n165\n00:08:12.710 --> 00:08:13.390\nJust put that in.\n\n166\n00:08:13.390 --> 00:08:15.725\nVendor class equals Windows 98 options.\n\n167\n00:08:15.725 --> 00:08:17.855\nThis would be older platform support.\n\n168\n00:08:17.855 --> 00:08:20.705\nWindows 98, remember,\ngoes back to one of the original or\n\n169\n00:08:20.705 --> 00:08:24.085\nsome of the very first client\ndesktop support options.\n\n170\n00:08:24.085 --> 00:08:27.695\nBut we can decided that, you know what,\nhey I want to change that.\n\n171\n00:08:27.695 --> 00:08:30.045\nMaybe I wanna make that\nsomething different.\n\n172\n00:08:30.045 --> 00:08:33.045\nNo big deal.\nClick Edit, remove that, and maybe I just\n\n173\n00:08:33.045 --> 00:08:37.465\nwant to make that more generic and\nsay Windows Microsoft Windows options.\n\n174\n00:08:37.465 --> 00:08:40.840\nYou're broad but really not specific\nto a certain platform or category.\n\n175\n00:08:40.840 --> 00:08:42.010\nSo we can do that.\n\n176\n00:08:42.010 --> 00:08:44.060\nWe'll grab that, click OK.\n\n177\n00:08:44.060 --> 00:08:44.910\nPut that in there.\n\n178\n00:08:44.910 --> 00:08:46.780\nWe've changed that out and ended it.\n\n179\n00:08:46.780 --> 00:08:51.541\nNow, we can specify that if we have\nmore than one we could say add and\n\n180\n00:08:51.541 --> 00:08:53.252\nwe can add another one.\n\n181\n00:08:53.252 --> 00:08:56.080\nAnd we could say, you know what,\nnot just vendor class but\n\n182\n00:08:56.080 --> 00:08:59.500\nmaybe to renew vendor class, and\nwe're gonna do user class, right.\n\n183\n00:08:59.500 --> 00:09:01.829\nAnd we're gonna say,\nwe're gonna stack up a couple of these.\n\n184\n00:09:01.829 --> 00:09:06.610\nAnd we'll have to match all of these\nconditions will have to be stacked up and\n\n185\n00:09:06.610 --> 00:09:10.210\nmatched for us to them use this policy and\napply, right.\n\n186\n00:09:10.210 --> 00:09:14.090\nSo the idea is that we're gonna be able to\nset up the exact logic we're looking for.\n\n187\n00:09:14.090 --> 00:09:18.050\nSo let's just say,\nuser class equals and you'll see here\n\n188\n00:09:18.050 --> 00:09:21.620\neither the default boot p or\nthe default routing remote access class.\n\n189\n00:09:21.620 --> 00:09:25.860\nAgain the ones that are shipped or built\nin by default will just specify that.\n\n190\n00:09:25.860 --> 00:09:27.035\nWe'll click OK.\n\n191\n00:09:27.035 --> 00:09:30.472\nSo we're going to have to match\nboth of these or if we specify,\n\n192\n00:09:30.472 --> 00:09:32.400\nor it could be either one, right.\n\n193\n00:09:32.400 --> 00:09:36.660\nSo it's a question of just how we\nchoose to stack up our conditions or\n\n194\n00:09:36.660 --> 00:09:40.450\nconfiguring conditions that will have\nto be specified here as matching for\n\n195\n00:09:40.450 --> 00:09:42.300\nthe policy to be applicable.\n\n196\n00:09:42.300 --> 00:09:45.460\nThe idea behind it would be,\nif we have multiple systems coming in\n\n197\n00:09:45.460 --> 00:09:47.810\nwith different configurations,\nwe would do an or.\n\n198\n00:09:47.810 --> 00:09:52.470\nWe know that all of the conditions have to\nbe met for us to grant under this policy,\n\n199\n00:09:52.470 --> 00:09:56.480\nwe'd want to do an and and\nstack up our conditions as associated.\n\n200\n00:09:56.480 --> 00:09:59.990\nSo we'll specify those but\nnotice no particular order here.\n\n201\n00:09:59.990 --> 00:10:01.940\nWe don't care what order we process in,\n\n202\n00:10:01.940 --> 00:10:03.950\nwe just care about matching either one or\nall.\n\n203\n00:10:03.950 --> 00:10:06.276\nBut doesn't matter what order we\ngo through and do the comparison.\n\n204\n00:10:06.276 --> 00:10:09.133\nAnd you know how in some interfaces\nwe'll have that move up,\n\n205\n00:10:09.133 --> 00:10:11.486\nmove down opportunity right\nwhere we have to say,\n\n206\n00:10:11.486 --> 00:10:12.445\nhey we're gonna-\n&gt;&gt; [CROSSTALK] priority.\n\n207\n00:10:12.445 --> 00:10:14.705\n&gt;&gt; Priority exactly and prioritize.\n\n208\n00:10:14.705 --> 00:10:18.125\nAnd we have to have this one at the top\ncuz it's always got to be this or\n\n209\n00:10:18.125 --> 00:10:20.195\nit's a first pass to the opposed match.\n\n210\n00:10:20.195 --> 00:10:23.405\nAnd so we want the most likely one at\nthe top because we want that order of\n\n211\n00:10:23.405 --> 00:10:25.830\nprecedence, doesn't apply or\nnot really important.\n\n212\n00:10:25.830 --> 00:10:28.190\nSo, just depends on the interface.\n\n213\n00:10:28.190 --> 00:10:31.580\nBut we're gonna go ahead and just leave\nthose in place, we'll click Next.\n\n214\n00:10:31.580 --> 00:10:35.488\nThen, this is where we, as we've\nalready done when we created our scope,\n\n215\n00:10:35.488 --> 00:10:37.733\nget into the idea of\nbeing able to specify.\n\n216\n00:10:37.733 --> 00:10:41.448\nOkay, now that we have our conditions and\nthe theory we're gonna match those,\n\n217\n00:10:41.448 --> 00:10:45.170\nlet's assume we show up and we do match\nthose, what are we gonna get as a result?\n\n218\n00:10:45.170 --> 00:10:46.420\nWhat's the prize?\n\n219\n00:10:46.420 --> 00:10:50.560\nFor us what's the give back, those are\nthe options that we're gonna specify that\n\n220\n00:10:50.560 --> 00:10:55.640\na machine or device that matches the set\nof conditions, winds up then getting.\n\n221\n00:10:55.640 --> 00:10:58.990\nAnd so we've been through the options\nas you remember in the last episode.\n\n222\n00:10:58.990 --> 00:11:01.103\nWe talked about not just options,\ntalked about and\n\n223\n00:11:01.103 --> 00:11:04.190\nshowed you a list of all the potential\noptions that are available.\n\n224\n00:11:04.190 --> 00:11:05.456\nKurt should go back and\ntake a look at that.\n\n225\n00:11:05.456 --> 00:11:08.440\nMaybe important for\nyou to have a note on that.\n\n226\n00:11:08.440 --> 00:11:09.580\nNo pun intended there, but\n\n227\n00:11:09.580 --> 00:11:12.710\nI know Cherokee has made those\navailable in the show notes.\n\n228\n00:11:12.710 --> 00:11:15.440\nBut we would go in and\nwe'd specify whatever options we want, and\n\n229\n00:11:15.440 --> 00:11:21.300\nas I scroll through here, you can see\nthat have a bunch of different options,\n\n230\n00:11:21.300 --> 00:11:25.990\nI would check off whichever one or\nwhichever group of options,\n\n231\n00:11:25.990 --> 00:11:27.790\ndoesn't really matter if\nyou do more than one.\n\n232\n00:11:27.790 --> 00:11:31.740\nWhichever one I wanna do I can\nadd classless static routes here,\n\n233\n00:11:31.740 --> 00:11:35.520\nI can, as you'll see, specify.\n\n234\n00:11:35.520 --> 00:11:36.430\nThere's an oldie.\n\n235\n00:11:36.430 --> 00:11:37.948\nSpecify a Finger server.\n\n236\n00:11:37.948 --> 00:11:39.170\nYou know what Finger was used for?\n\n237\n00:11:39.170 --> 00:11:40.670\n&gt;&gt; I have no idea actually.\n\n238\n00:11:40.670 --> 00:11:41.787\nThat's crazy.\nI was like did he just say Finger?\n\n239\n00:11:41.787 --> 00:11:42.603\n[LAUGH]\n&gt;&gt; I did.\n\n240\n00:11:42.603 --> 00:11:45.990\nSo Fingers are a very\nold networking service.\n\n241\n00:11:45.990 --> 00:11:48.980\nThat is still around and\nthen it's still there, it's just buried,\n\n242\n00:11:48.980 --> 00:11:50.130\nnobody really thinks about it any more.\n\n243\n00:11:50.130 --> 00:11:54.390\nBut it runs on routers,\nit actually was a lookup service.\n\n244\n00:11:54.390 --> 00:11:58.990\nTo allow you to go out and get information\nabout certain systems back, or early,\n\n245\n00:11:58.990 --> 00:12:00.260\nearly on.\n\n246\n00:12:00.260 --> 00:12:02.600\nIt's not really used\ntraditionally much any more.\n\n247\n00:12:02.600 --> 00:12:05.180\nI mean, it is there, but It's just not\nsomething most people think about.\n\n248\n00:12:05.180 --> 00:12:07.730\nBut we have all these different options,\nright.\n\n249\n00:12:07.730 --> 00:12:12.320\nAnd so we can go in and\nwe get to specify a bunch of stuff.\n\n250\n00:12:12.320 --> 00:12:15.700\nThere's the worldwide server option for\na web server.\n\n251\n00:12:15.700 --> 00:12:17.920\nSee we'd specify in whatever you want.\n\n252\n00:12:17.920 --> 00:12:20.250\nHere's pop3 if we have a mail server.\n\n253\n00:12:20.250 --> 00:12:23.000\nAnd NTP for network news transport.\n\n254\n00:12:23.000 --> 00:12:24.650\nI don't have everyone of these options,\n\n255\n00:12:24.650 --> 00:12:29.090\nby the way, on that Word document list\nI gave you of the common options.\n\n256\n00:12:29.090 --> 00:12:32.240\nThat list was just a very short\nlist of commonly assigned ones.\n\n257\n00:12:32.240 --> 00:12:35.350\nThere are many, many, many more that\nare not on that list, that we just don't\n\n258\n00:12:35.350 --> 00:12:38.890\ntrip across very often cuz we just don't\nhappen to use them on a regular basis.\n\n259\n00:12:38.890 --> 00:12:40.750\nBut you get the general idea here, right.\n\n260\n00:12:40.750 --> 00:12:42.040\nWe would specify these.\n\n261\n00:12:42.040 --> 00:12:45.665\nAnd so let's just select one,\ncuz we're not gonna put all of these in.\n\n262\n00:12:45.665 --> 00:12:48.035\nBut let's just go ahead and\nwe'll choose one.\n\n263\n00:12:48.035 --> 00:12:52.635\nSo let's say NTP, network time\nprotocol server, for instance.\n\n264\n00:12:52.635 --> 00:12:55.925\nSo we can assign an NTP server,\nvery important.\n\n265\n00:12:55.925 --> 00:13:00.704\nBut we can go in,\nspecify a server name Call this NTP.,\n\n266\n00:13:00.704 --> 00:13:05.230\nlet's say practicelabs., whoops, .com.\n\n267\n00:13:05.230 --> 00:13:10.170\nAnd you see we can either resolve and\nor put in an IP address.\n\n268\n00:13:10.170 --> 00:13:13.900\nAnd we would have to go out and\nfind servers that are actually on\n\n269\n00:13:13.900 --> 00:13:16.500\nthe system there, right,\nso we can put all that in.\n\n270\n00:13:16.500 --> 00:13:22.330\nWhen we're done, right, and\nwe set that up, and I'll actually put in,\n\n271\n00:13:22.330 --> 00:13:26.220\nactually let me do the time offset,\ncuz that's not gonna be a problem.\n\n272\n00:13:26.220 --> 00:13:28.830\nThat way I don't have to worry about\nhaving an actual server set up for\n\n273\n00:13:28.830 --> 00:13:32.470\nit cuz we're not really running at NTP\nservice right now in the demo environment.\n\n274\n00:13:32.470 --> 00:13:36.470\nBut I'll just specify something easy like\na time offset, so we'll specify that but\n\n275\n00:13:36.470 --> 00:13:37.610\nyou get the general idea.\n\n276\n00:13:37.610 --> 00:13:40.260\nOnce I've done that,\nI'll have my settings down here.\n\n277\n00:13:40.260 --> 00:13:43.060\nAnd really,\nit's nothing more involved than just that.\n\n278\n00:13:43.060 --> 00:13:45.910\nI'm just gonna stack up my policies,\nright.\n\n279\n00:13:45.910 --> 00:13:50.120\nAnd then obviously, I'll have multiple\npolicies, so I can create a new one, and\n\n280\n00:13:50.120 --> 00:13:51.910\ngo in and set them up.\n\n281\n00:13:51.910 --> 00:13:56.760\nAnd I can deactivate a policy if I\nchoose to do that, leaving it in tact.\n\n282\n00:13:56.760 --> 00:13:59.350\nI can disable the policy and\nremove it if I choose to.\n\n283\n00:13:59.350 --> 00:14:01.170\nSo I have a few different options here.\n\n284\n00:14:01.170 --> 00:14:03.000\nBut this is how I setup policies.\n\n285\n00:14:03.000 --> 00:14:07.490\nNow if you're interested, I got\na little web [COUGH] reference here for\n\n286\n00:14:07.490 --> 00:14:08.530\nyou on policy setting,\n\n287\n00:14:08.530 --> 00:14:13.280\nspecifically different TTL values on lease\ndurations for different device types.\n\n288\n00:14:13.280 --> 00:14:14.985\nMaybe valuable for you to take a look.\n\n289\n00:14:14.985 --> 00:14:19.190\nGives you a little more detail about how\nyou may apply the use of policies in\n\n290\n00:14:19.190 --> 00:14:22.980\ncertain specific situations or\nscenarios that may be of interest to you.\n\n291\n00:14:22.980 --> 00:14:27.980\nAnd if you notice by the way\nthis is from a few years ago.\n\n292\n00:14:27.980 --> 00:14:30.670\nPolicies are not brand,\nbrand, brand, brand new.\n\n293\n00:14:30.670 --> 00:14:32.180\nThe concept's been around for a bit.\n\n294\n00:14:32.180 --> 00:14:35.744\nSo it's not something that\nnecessarily is debuting in 2016.\n\n295\n00:14:35.744 --> 00:14:39.463\nBut the idea is something that may be\nof value to you as you evaluate your\n\n296\n00:14:39.463 --> 00:14:40.670\nopportunities.\n\n297\n00:14:40.670 --> 00:14:43.990\nAnd your abilities to manage or\ndrill down on managing DHCP.\n\n298\n00:14:43.990 --> 00:14:46.790\nSo may be of interest to you,\nwe have that in the show notes for you.\n\n299\n00:14:46.790 --> 00:14:49.520\nIt's always important for you to go out\nand take a look there, see whether or\n\n300\n00:14:49.520 --> 00:14:51.140\nnot that may make sense to you.\n\n301\n00:14:51.140 --> 00:14:55.080\nAll right, so\nwe do have our IPv4 solution here.\n\n302\n00:14:55.080 --> 00:14:58.460\nWe set up our policies or\ncan enable them as you can see.\n\n303\n00:14:58.460 --> 00:14:59.890\nWhat we're gonna do, is go in and\n\n304\n00:14:59.890 --> 00:15:04.550\ntake a look at how to do some super scope,\nmulti scope, multi cast scope rather.\n\n305\n00:15:04.550 --> 00:15:07.920\nSo again on IPv4 we've got\nour two scopes set up here.\n\n306\n00:15:07.920 --> 00:15:09.860\nAnd what we're gonna do is right click.\n\n307\n00:15:09.860 --> 00:15:13.160\nAnd you'll see we can do a new\nsuper scope grouping, two or\n\n308\n00:15:13.160 --> 00:15:16.900\nmore of those individual scopes\ntogether so we can manage them broadly.\n\n309\n00:15:16.900 --> 00:15:18.930\nWe've got two scopes here.\n\n310\n00:15:18.930 --> 00:15:23.410\nAnd you'll see I've got my 1.0 and\n0.0 scopes for my different networks.\n\n311\n00:15:23.410 --> 00:15:25.340\nI'm gonna group them\ntogether into a Super Scope.\n\n312\n00:15:25.340 --> 00:15:28.177\nSo I'm just gonna right click here,\nas I was about to do.\n\n313\n00:15:28.177 --> 00:15:31.870\nGo to Super Scope here\nrun our little wizard.\n\n314\n00:15:31.870 --> 00:15:34.325\nAnd, again, the Super Scope concept\nhas been around for a long, long time.\n\n315\n00:15:34.325 --> 00:15:37.820\nThis is not new to DXUP in 2016.\n\n316\n00:15:37.820 --> 00:15:40.603\nSuper Scopes have been around probably,\nI'm guessing,\n\n317\n00:15:40.603 --> 00:15:43.970\nat least as far back as probably\nServer 2000, maybe in 2004.\n\n318\n00:15:43.970 --> 00:15:46.470\nThey've been around for some time.\n\n319\n00:15:46.470 --> 00:15:49.777\nIt's just an administrative concept of\ngrouping multiple scopes together to allow\n\n320\n00:15:49.777 --> 00:15:51.288\nus-\n&gt;&gt; [INAUDIBLE] them there?\n\n321\n00:15:51.288 --> 00:15:54.206\n&gt;&gt; Yeah, essentially expanding the number\nof IP addresses that are available.\n\n322\n00:15:54.206 --> 00:15:57.865\nAnd the scopes, we can manage them\na little more effectively so we can have\n\n323\n00:15:57.865 --> 00:16:01.348\ndistinct Scopes that are grouped\ntogether under a single name just for\n\n324\n00:16:01.348 --> 00:16:02.780\nadministrative purposes.\n\n325\n00:16:02.780 --> 00:16:05.668\nIt's really nothing more than that,\nit's just an administrative container,\n\n326\n00:16:05.668 --> 00:16:07.240\nit's like a sleight of hand thing.\n\n327\n00:16:07.240 --> 00:16:09.210\nBut it just makes it easier for\nus to manage when we have.\n\n328\n00:16:09.210 --> 00:16:13.640\nIf you imagine in the environment, in\nan enterprise that's got hundreds, perhaps\n\n329\n00:16:13.640 --> 00:16:18.122\nthousands of end points and multiple\nsubnets, as many large organizations will.\n\n330\n00:16:18.122 --> 00:16:21.090\nYou're gonna have a lot of scopes,\nif you think about the logic of that.\n\n331\n00:16:21.090 --> 00:16:24.582\nAnd as a result, especially you got\ndifferent geographical sites spread out.\n\n332\n00:16:24.582 --> 00:16:25.882\n[CROSSTALK] Different offices and\nthings like that.\n\n333\n00:16:25.882 --> 00:16:30.040\nYou're probably gonna have a scope per\nremote office, or per remote location.\n\n334\n00:16:30.040 --> 00:16:34.779\nAnd so you're gonna see tens, hundreds of\nscopes, since you log in potentially and\n\n335\n00:16:34.779 --> 00:16:37.516\nlook at DHCP management\nacross the enterprise,\n\n336\n00:16:37.516 --> 00:16:40.877\nif you're bringing up a whole\nbunch of different servers.\n\n337\n00:16:40.877 --> 00:16:44.717\nIf you think about the logic of the fact\nthat many of your domain controllers will\n\n338\n00:16:44.717 --> 00:16:46.310\nmost likely run DHCP.\n\n339\n00:16:46.310 --> 00:16:49.970\nBecause that way they're centralized\nin those AD sites from a replication\n\n340\n00:16:49.970 --> 00:16:53.960\nperspective, they're gonna have access to,\nand understanding of the topology.\n\n341\n00:16:53.960 --> 00:16:57.604\nYou're gonna be able to then path\nusers in those active directory sites,\n\n342\n00:16:57.604 --> 00:16:59.795\nwhich are essentially subnet boundaries.\n\n343\n00:16:59.795 --> 00:17:02.083\nMore often than not over\nto those DHCP servers,\n\n344\n00:17:02.083 --> 00:17:04.207\nwell you manage those subnet based scopes.\n\n345\n00:17:04.207 --> 00:17:07.831\nIt makes a lot of sense for you to\nsee scopes that are aligned with your\n\n346\n00:17:07.831 --> 00:17:10.256\ngeography, and with your site boundaries.\n\n347\n00:17:10.256 --> 00:17:11.680\nAnd as a result of that,\n\n348\n00:17:11.680 --> 00:17:16.027\na lot of other things as we expand\na conversation here back out into some of\n\n349\n00:17:16.027 --> 00:17:20.610\nthe infrastructure platform products\nlike System Center Config Manager.\n\n350\n00:17:20.610 --> 00:17:25.790\nWhere we will use AD site boundaries to be\nable to set up and manage our collections.\n\n351\n00:17:25.790 --> 00:17:29.720\nAnd our ability to be able to set up our\nsite servers, do all sorts of stuff.\n\n352\n00:17:29.720 --> 00:17:31.380\nThose things become important, so\n\n353\n00:17:31.380 --> 00:17:33.690\nwe see that we may potentially\nhave a lot of subnets.\n\n354\n00:17:33.690 --> 00:17:36.330\nAnd as a result, super scopes may just add\n\n355\n00:17:36.330 --> 00:17:40.550\na layer of ease to our management burden\nbecause they may simplify things.\n\n356\n00:17:40.550 --> 00:17:42.550\nThat's usually traditionally\nwhat we're looking at.\n\n357\n00:17:42.550 --> 00:17:45.220\nSo when we create this,\nwe would call this-\n\n358\n00:17:45.220 --> 00:17:46.420\n&gt;&gt; I like simple.\n\n359\n00:17:46.420 --> 00:17:47.250\n&gt;&gt; You like simple.\n\n360\n00:17:47.250 --> 00:17:47.750\n&gt;&gt; Yes.\n&gt;&gt; Okay.\n\n361\n00:17:47.750 --> 00:17:48.250\n&gt;&gt; [LAUGH]\n\n362\n00:17:48.250 --> 00:17:49.357\n&gt;&gt; So then as long as you're happy,\n\n363\n00:17:49.357 --> 00:17:50.221\nCherokee.\n&gt;&gt; That's right [LAUGH].\n\n364\n00:17:50.221 --> 00:17:51.973\n&gt;&gt; That's our main goal here is we wanna\n\n365\n00:17:51.973 --> 00:17:54.350\nkeep you happy.\nSo let me create the scope, so\n\n366\n00:17:54.350 --> 00:17:55.700\nwe can see how it works.\n\n367\n00:17:55.700 --> 00:17:56.740\nVery, very easy.\n\n368\n00:17:56.740 --> 00:17:58.390\nWhat do you want to call our super scope?\n\n369\n00:17:58.390 --> 00:18:00.040\n&gt;&gt; Let's call it-\n&gt;&gt; Want to call it simple scope?\n\n370\n00:18:00.040 --> 00:18:01.430\nSure.\n&gt;&gt; Simple scope.\n\n371\n00:18:01.430 --> 00:18:04.050\nSo simple scope.\n\n372\n00:18:04.050 --> 00:18:06.290\nAll right, so go ahead and\nname it simple scope.\n\n373\n00:18:07.430 --> 00:18:10.100\nOf course, spelling simple scope\ncorrectly would probably be good.\n\n374\n00:18:10.100 --> 00:18:11.180\nBut that's close enough.\n\n375\n00:18:11.180 --> 00:18:15.200\nYou'll see that we do have our\navailable scopes here, right?\n\n376\n00:18:15.200 --> 00:18:18.260\nAnd so you'll see I'm just\ncontrol clicking to select.\n\n377\n00:18:18.260 --> 00:18:21.290\nAs I said, literally you can create\na super scope with one scope.\n\n378\n00:18:21.290 --> 00:18:22.390\nBut why would you do that?\n\n379\n00:18:22.390 --> 00:18:23.326\nI mean essentially,\n\n380\n00:18:23.326 --> 00:18:26.580\nyou're just managing the same scope\nwith another layer of attractions.\n\n381\n00:18:26.580 --> 00:18:29.720\nSo you typically wanna have\nat least two scopes there.\n\n382\n00:18:29.720 --> 00:18:31.340\nSo we do have two scopes pre created.\n\n383\n00:18:31.340 --> 00:18:34.190\nWe're gonna add those in, but\nkeep in mind you could have a lot scopes.\n\n384\n00:18:34.190 --> 00:18:35.718\nI only created two but\nwe could have a lot more.\n\n385\n00:18:35.718 --> 00:18:38.054\nWe would add those in here, as well, okay?\n\n386\n00:18:38.054 --> 00:18:41.916\nSo we're gonna do that, and click Next.\n\n387\n00:18:41.916 --> 00:18:44.460\nAnd then we're just gonna go ahead and\nclick Finish.\n\n388\n00:18:44.460 --> 00:18:49.080\nAnd once we've done that, we know\nhave our super scope simple sciope,\n\n389\n00:18:49.080 --> 00:18:51.018\ncuz I spelt it with an i there.\n\n390\n00:18:51.018 --> 00:18:54.537\nBut you could see that once we've done\nthat, let me just move this over so\n\n391\n00:18:54.537 --> 00:18:55.178\nyou can see.\n\n392\n00:18:55.178 --> 00:18:58.391\nWe've now just taken our two\nscopes that before were sitting\n\n393\n00:18:58.391 --> 00:19:00.940\nout here essentially as individual scopes.\n\n394\n00:19:00.940 --> 00:19:03.470\nAnd just bundled them\nup under this object,\n\n395\n00:19:03.470 --> 00:19:07.310\nit's just another folder in the interface\nthat allows us to see them all, and\n\n396\n00:19:07.310 --> 00:19:09.260\nto manage them as\na administrative container.\n\n397\n00:19:09.260 --> 00:19:11.670\nReally no greater mystery than that.\n\n398\n00:19:11.670 --> 00:19:13.070\nNothing additional to it.\n\n399\n00:19:13.070 --> 00:19:17.200\nIt's just a simple form of\nhousekeeping and uncluttering,\n\n400\n00:19:17.200 --> 00:19:20.660\nor to Cherokee's point,\nsimple and easy, right?\n\n401\n00:19:20.660 --> 00:19:22.831\nAll right, so\nwe do have our super scope there,\n\n402\n00:19:22.831 --> 00:19:24.801\nyou could see our super scope components.\n\n403\n00:19:24.801 --> 00:19:27.370\nWe could look at statistics of the scope.\n\n404\n00:19:27.370 --> 00:19:31.590\nSo we can go in, and we can see on the\nsuperscope, how many scopes make it up,\n\n405\n00:19:31.590 --> 00:19:35.200\nhow many addresses are bundled\nbetween the multiple scopes.\n\n406\n00:19:35.200 --> 00:19:37.500\nI kept them very small,\nabout 20 addresses each.\n\n407\n00:19:37.500 --> 00:19:38.620\nThey're not real big.\n\n408\n00:19:38.620 --> 00:19:40.390\nHow many are in use,\nhow many are available?\n\n409\n00:19:40.390 --> 00:19:42.096\nSo we're aggregating the data for\n\n410\n00:19:42.096 --> 00:19:44.940\nall the individual scopes that\nare components of the super scope.\n\n411\n00:19:44.940 --> 00:19:48.430\nWhen we look at statistics here, we could\ndrill in and look at statistics on each\n\n412\n00:19:48.430 --> 00:19:51.610\nindividual subscope in theory,\nif you wanted to do that.\n\n413\n00:19:51.610 --> 00:19:54.517\nReferring each scope member of the super\nscope is the subscope, just so\n\n414\n00:19:54.517 --> 00:19:55.930\nyou know what I was talking about.\n\n415\n00:19:55.930 --> 00:19:59.315\nSo we could drill down,\nwe could see that there.\n\n416\n00:19:59.315 --> 00:20:02.890\nWe can create new scopes within the super\nscope container the same way we would\n\n417\n00:20:02.890 --> 00:20:05.480\njust, by coming up here and\ncreating a brand new scope.\n\n418\n00:20:05.480 --> 00:20:08.512\nThe only difference is,\nif we do it up in the IPv4 level,\n\n419\n00:20:08.512 --> 00:20:12.306\nthe scope will sit up under IPv4\noutside of the super scope container,\n\n420\n00:20:12.306 --> 00:20:14.360\nuntil we decide to integrate it.\n\n421\n00:20:14.360 --> 00:20:16.040\nWe do it in the super scope container.\n\n422\n00:20:16.040 --> 00:20:20.120\nWe're just putting it into\nunderneath the IPv4 object, but\n\n423\n00:20:20.120 --> 00:20:22.590\nit's gonna be specifically tied\nto the super scope container.\n\n424\n00:20:22.590 --> 00:20:24.270\nIt's just a matter of\nwhere we put the scope.\n\n425\n00:20:24.270 --> 00:20:26.400\nSo just so you know.\n\n426\n00:20:26.400 --> 00:20:30.850\nBut we have that, and you'll see we can\nconfigure fail over both at the IPv4\n\n427\n00:20:30.850 --> 00:20:34.490\nlevel for any scopes that are outside\nall scopes in other words.\n\n428\n00:20:34.490 --> 00:20:38.960\nAnd specific to just a super scope\nobject with it's own scopes, and\n\n429\n00:20:38.960 --> 00:20:41.140\nhave that fail over so\nwe can have that running.\n\n430\n00:20:41.140 --> 00:20:44.800\nWe'll get into fail over and\ntalk about that in just a little bit.\n\n431\n00:20:44.800 --> 00:20:47.160\nSo we have all of those options here.\n\n432\n00:20:47.160 --> 00:20:48.466\nWe can deactivate the scope,\n\n433\n00:20:48.466 --> 00:20:51.035\nthe super scope containers\nlike we do individual scopes.\n\n434\n00:20:51.035 --> 00:20:54.370\nAnd when we look at properties,\nwe really don't see anything at\n\n435\n00:20:54.370 --> 00:20:57.420\nall with the exception of just\nthe name of the super scope.\n\n436\n00:20:57.420 --> 00:21:00.880\nAnd if I wanted to fix that spelling, I\ncould go in and do that, it'd be up to me.\n\n437\n00:21:00.880 --> 00:21:04.710\nBut, remember all it is is a container,\nall the options, all the settings,\n\n438\n00:21:04.710 --> 00:21:08.410\nall the things associated with scopes are\nlinked to the individual scope components\n\n439\n00:21:08.410 --> 00:21:10.180\nthat are members of the super scope.\n\n440\n00:21:10.180 --> 00:21:14.070\nThe super scope itself doesn't really do\nanything, other than provide a container\n\n441\n00:21:14.070 --> 00:21:17.000\nthat aggregates the scopes to make\nCDs here for us to manage them.\n\n442\n00:21:17.000 --> 00:21:19.980\nSo, just so you see what that is and\nyou're familiar with that.\n\n443\n00:21:19.980 --> 00:21:22.720\nWe do have one other kind of scope we just\nwanted to take a look at really quickly\n\n444\n00:21:22.720 --> 00:21:24.870\nhere, which would be our multicast scope.\n\n445\n00:21:24.870 --> 00:21:26.470\nNow we talked about multicasting.\n\n446\n00:21:26.470 --> 00:21:28.070\nJust need to bring this\nup while we're talking.\n\n447\n00:21:28.070 --> 00:21:33.410\nWe talked about multicasting\nas one of the potential things\n\n448\n00:21:33.410 --> 00:21:37.860\nthat exists or that we do and\nwe use class D IP addresses for.\n\n449\n00:21:37.860 --> 00:21:40.490\nAnd we did our IPv4\noverview in prior episodes.\n\n450\n00:21:40.490 --> 00:21:42.650\nWe spoke about the different IP classes.\n\n451\n00:21:42.650 --> 00:21:44.140\nA, B, C, D and E.\n\n452\n00:21:44.140 --> 00:21:47.780\nWe said that Class D is used\ntraditionally for the multicasting\n\n453\n00:21:47.780 --> 00:21:52.740\nof system information, streaming media,\ndesktop imaging, things of that nature.\n\n454\n00:21:52.740 --> 00:21:55.670\nSo we could set up a multicasting\nscope if we choose to.\n\n455\n00:21:55.670 --> 00:21:57.805\nJust click Next here,\nand give this a name.\n\n456\n00:21:57.805 --> 00:22:03.298\nLet's just do, Whoops, there we go,\n\n457\n00:22:03.298 --> 00:22:08.620\nmulticast scope 1 or\nwhatever we wanna call it.\n\n458\n00:22:08.620 --> 00:22:12.030\nClick Next, have to put in our starting\naddress and our ending address.\n\n459\n00:22:12.030 --> 00:22:16.200\nRemember, the multicast range is\nthe 224 range through 239 range,\n\n460\n00:22:16.200 --> 00:22:18.530\nvalued for the first octet, right?\n\n461\n00:22:18.530 --> 00:22:22.650\nSo we have that noted here,\n224 through 239.\n\n462\n00:22:22.650 --> 00:22:27.956\nSo we can put in 224.0 .1.1.\n\n463\n00:22:27.956 --> 00:22:31.831\nAnd then let's see,\n\n464\n00:22:31.831 --> 00:22:38.940\nwe go 224.0.1.25, right?\n\n465\n00:22:38.940 --> 00:22:41.145\nSomething like that, whatever it may be.\n\n466\n00:22:41.145 --> 00:22:44.255\nSmall scope, we don't need a lot, but\nyou get the idea just to show you.\n\n467\n00:22:44.255 --> 00:22:47.448\nWe do have a TTL here that will\nspecify the number of routers that\n\n468\n00:22:47.448 --> 00:22:50.610\nthe multicast traffic passes\nthrough on your network.\n\n469\n00:22:50.610 --> 00:22:55.110\nSo our TTL will specify the amount of\ntime that those packets can exist.\n\n470\n00:22:56.590 --> 00:22:57.891\nAll right, so we'll do that.\n\n471\n00:22:57.891 --> 00:22:59.190\nAre we gonna add exclusions?\n\n472\n00:22:59.190 --> 00:23:00.060\nWe've talked about that.\n\n473\n00:23:00.060 --> 00:23:03.320\nWe've specified exclusions in our\nother scopes at least looked at them.\n\n474\n00:23:03.320 --> 00:23:04.610\nWe're not gonna exclude any addresses.\n\n475\n00:23:04.610 --> 00:23:06.920\nBut if we had a reason to, we could.\n\n476\n00:23:06.920 --> 00:23:08.750\nlisteration you know that.\n\n477\n00:23:08.750 --> 00:23:12.430\nYou'll see here by the way that\nlisteration is different by default,\n\n478\n00:23:12.430 --> 00:23:15.060\nthat it is for a normal scope option.\n\n479\n00:23:15.060 --> 00:23:19.040\nOur normal scope when we set it up is\nusually eight days by default in Windows.\n\n480\n00:23:19.040 --> 00:23:22.750\nYou'll see here for\na multicast scope it is 30 days.\n\n481\n00:23:22.750 --> 00:23:26.100\nMaybe an important distinction for you to\nknow certainly in the real world, it could\n\n482\n00:23:26.100 --> 00:23:29.920\nalso be a testable item that may come up\nat some point, so maybe good to know that.\n\n483\n00:23:29.920 --> 00:23:34.750\nThat the lease duration is gonna be 30\ndays on a multicast scope by default.\n\n484\n00:23:34.750 --> 00:23:37.160\nWe can modify that of course,\nbut just keep that in mind.\n\n485\n00:23:37.160 --> 00:23:41.240\nNext, and then are we gonna activate that,\nyes or no?\n\n486\n00:23:41.240 --> 00:23:44.500\nChoose to activate\nthe scope if we choose to.\n\n487\n00:23:44.500 --> 00:23:45.960\nSo we'll just go ahead and we'll do that.\n\n488\n00:23:45.960 --> 00:23:47.087\nClick Finish.\n\n489\n00:23:47.087 --> 00:23:49.640\nLet's get our scope out there,\ntake just a second.\n\n490\n00:23:49.640 --> 00:23:51.640\nSo there is our multicast scope up there.\n\n491\n00:23:51.640 --> 00:23:52.787\nLet me just get that out of the way.\n\n492\n00:23:52.787 --> 00:23:55.571\nThere's our multicast\nscope right up there.\n\n493\n00:23:55.571 --> 00:23:57.036\nYou can see it.\n\n494\n00:23:57.036 --> 00:23:59.870\nWe look at our address pool, right?\n\n495\n00:23:59.870 --> 00:24:02.496\nAnd we have any address leases.\n\n496\n00:24:02.496 --> 00:24:05.510\nYou'll see right now we don't have any,\nbut you'll see they're there.\n\n497\n00:24:05.510 --> 00:24:07.970\nSo we have all that set up, ready to go.\n\n498\n00:24:07.970 --> 00:24:12.480\nAnd if we wanted to,\nyou'll see I can deactivate.\n\n499\n00:24:12.480 --> 00:24:14.620\nI haven't really deactivated before but\nsince we did this,\n\n500\n00:24:14.620 --> 00:24:15.780\nwe'll just show you quickly.\n\n501\n00:24:15.780 --> 00:24:19.280\nI can go and deactivate,\nwant to deactivate a scope here.\n\n502\n00:24:19.280 --> 00:24:19.830\nClick on it.\n\n503\n00:24:19.830 --> 00:24:21.060\nScope is currently active.\n\n504\n00:24:21.060 --> 00:24:24.420\nDeactivating or disabling prevents\nclients from obtaining IP's.\n\n505\n00:24:24.420 --> 00:24:25.870\nYes, I want to do that.\n\n506\n00:24:25.870 --> 00:24:27.330\nGreat.\nSo that's been done, you know?\n\n507\n00:24:27.330 --> 00:24:28.200\nIt's kind of hard to see.\n\n508\n00:24:28.200 --> 00:24:32.340\nBut there's a little circle right at\nthe edge of the folder there on the right,\n\n509\n00:24:32.340 --> 00:24:34.760\na little red kind of line point down.\n\n510\n00:24:34.760 --> 00:24:37.340\nThat, I'm kind of pointing to and\nhovering right over it, right there.\n\n511\n00:24:37.340 --> 00:24:39.060\nThat means it's.\n&gt;&gt; Your eyesight is better than mine.\n\n512\n00:24:39.060 --> 00:24:41.620\n&gt;&gt; Yeah, well that's just because\nI know it's there, right?\n\n513\n00:24:41.620 --> 00:24:43.800\nSo you can see, it's kind of a little\nbit better when you go full screen.\n\n514\n00:24:43.800 --> 00:24:45.420\nBut it's sitting right there,\nI'm just pointing to it.\n\n515\n00:24:45.420 --> 00:24:46.490\nIt's very very small.\n\n516\n00:24:46.490 --> 00:24:48.720\nThat indicates that it\nhas been deactivated.\n\n517\n00:24:48.720 --> 00:24:52.430\nBut remember, deactivation does\nnot mean hey let's delete that,\n\n518\n00:24:52.430 --> 00:24:54.680\nit simply means that we're not\nactively using it right now.\n\n519\n00:24:54.680 --> 00:24:57.150\nSo you can see that we've\nkind of pulled that out.\n\n520\n00:24:57.150 --> 00:25:00.000\nIt's available,\nwe can reactivate it if necessary.\n\n521\n00:25:00.000 --> 00:25:02.650\nJust right click on it,\nbring it back up, no big deal.\n\n522\n00:25:02.650 --> 00:25:06.580\nAnd we would be able to do that if we\nwanted to as you can see here, just go and\n\n523\n00:25:06.580 --> 00:25:09.420\nchoose activate, we would be able to\nbring that back online with no trouble.\n\n524\n00:25:09.420 --> 00:25:13.440\nSo, if we had to take the server down for\na period of time, maybe because we're\n\n525\n00:25:13.440 --> 00:25:17.570\ndoing maintenance or something,\nwe may just decide to leave the system.\n\n526\n00:25:17.570 --> 00:25:20.100\nUp and running in the sense that\nall the scopes are available,\n\n527\n00:25:20.100 --> 00:25:21.410\neven though we may restart it.\n\n528\n00:25:21.410 --> 00:25:22.920\nWe may deactivate it for a period of time,\n\n529\n00:25:22.920 --> 00:25:25.630\nbecause maybe we're going to\ndo work in that subnet, and\n\n530\n00:25:25.630 --> 00:25:28.160\nwe don't want to be giving out addresses\nuntil we figure out what's going on.\n\n531\n00:25:28.160 --> 00:25:30.540\nSo there are reasons why we\nmay choose to deactivate it.\n\n532\n00:25:30.540 --> 00:25:31.980\nIt would be up to us to decide.\n\n533\n00:25:31.980 --> 00:25:32.680\nWhat we wanna do.\n\n534\n00:25:32.680 --> 00:25:37.630\nAll right so we've talked about\nscopes,we've talked about policies,\n\n535\n00:25:37.630 --> 00:25:42.740\nwe do have to talk about fail over and how\nto set up high availability whether we use\n\n536\n00:25:42.740 --> 00:25:47.660\nDHCP clustering,\nwhether we use split scopes, whether we do\n\n537\n00:25:47.660 --> 00:25:51.580\nDHCP fail over, we do have some options,\nbut the one thing we don't have is enough\n\n538\n00:25:51.580 --> 00:25:55.930\ntime to cover that topic in depth before\nwe have to break for another episode.\n\n539\n00:25:55.930 --> 00:25:56.900\n&gt;&gt; Ooh, I saw what you did right there.\n\n540\n00:25:56.900 --> 00:25:57.860\n&gt;&gt; You liked that?\n\n541\n00:25:57.860 --> 00:25:59.210\nThat was pretty cool.\n\n542\n00:25:59.210 --> 00:26:02.470\nSo we're gonna step away for\njust a couple minutes.\n\n543\n00:26:02.470 --> 00:26:04.430\nWe're gonna come back with yet\nanother episode.\n\n544\n00:26:04.430 --> 00:26:06.859\nCherokee's gonna be super excited\nthat we live to see part four.\n\n545\n00:26:06.859 --> 00:26:09.030\n&gt;&gt; [LAUGH]\n&gt;&gt; But we're gonna come back, do that, and\n\n546\n00:26:09.030 --> 00:26:12.000\nwe're gonna talk specifically about\nhow we deal with high availability.\n\n547\n00:26:12.000 --> 00:26:14.840\nAnd we'll show you how to\nenable fail over for DHCP.\n\n548\n00:26:14.840 --> 00:26:16.770\nSo please do come on back and join us.\n\n549\n00:26:16.770 --> 00:26:19.440\n&gt;&gt; But I guess I really don't have\nanything else to say, Adam said it all.\n\n550\n00:26:19.440 --> 00:26:21.510\nSo you heard the man, so, join us.\n\n551\n00:26:21.510 --> 00:26:22.810\n&gt;&gt; Come on, make up something cool.\n\n552\n00:26:22.810 --> 00:26:24.410\nSay something interesting.\n\n553\n00:26:24.410 --> 00:26:25.840\n&gt;&gt; Something interesting.\n\n554\n00:26:25.840 --> 00:26:27.185\n&gt;&gt; There, you see.\nYou had something to say.\n\n555\n00:26:27.185 --> 00:26:28.070\n[LAUGH].\nThere you go.\n\n556\n00:26:28.070 --> 00:26:29.760\n&gt;&gt; Alright, ladies and gentlemen.\n\n557\n00:26:29.760 --> 00:26:31.270\nJoin us next episode.\n\n558\n00:26:31.270 --> 00:26:32.150\nPart four.\n\n559\n00:26:32.150 --> 00:26:34.360\nBut for this show we are going\nto go ahead and sign out.\n\n560\n00:26:34.360 --> 00:26:35.730\nRemember, I'm your host Cherokee Booths.\n\n561\n00:26:35.730 --> 00:26:36.510\n&gt;&gt; I'm Adam Burton.\n\n562\n00:26:36.510 --> 00:26:38.610\n&gt;&gt; See you next time at ITProTV.\n\n563\n00:26:38.610 --> 00:26:39.685\n&gt;&gt; You wanna be Rosa or Dora?\n\n564\n00:26:39.685 --> 00:26:41.410\n&gt;&gt; [LAUGH] Dora.\n\n565\n00:26:41.410 --> 00:26:44.393\n&gt;&gt; Dora?\nOkay, I'm gonna be Rosa, okay.\n\n566\n00:26:44.393 --> 00:26:50.411\n[MUSIC]\n\n567\n00:26:50.411 --> 00:26:52.340\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217014869"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing DHCP with an emphasis on High availability options for DHCP. Tune in to learn how DHCP clustering, split scopes, DHCP failovers, load balancing, hot standby and more are used.",
          "length": "1977",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-4-implementing_dhcp_pt4-050917-PGM.00_00_11_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-4-implementing_dhcp_pt4-050917-PGM.00_00_11_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-4-implementing_dhcp_pt4-050917-PGM.00_00_11_23.Still001-sm.jpg",
          "title": "Implementing DHCP Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:02.799\nWelcome to ITProTV.\n\n2\n00:00:02.799 --> 00:00:05.950\n[CROSSTALK]\n\n3\n00:00:05.950 --> 00:00:08.173\n[MUSIC]\n\n4\n00:00:08.173 --> 00:00:11.012\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.170 --> 00:00:15.222\n&gt;&gt; Welcome to your Networking\nwith Windows Server 2016 series.\n\n6\n00:00:15.222 --> 00:00:17.560\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.560 --> 00:00:20.970\nIn this episode we will\ncontinue talking about DHCP and\n\n8\n00:00:20.970 --> 00:00:24.580\nspecifically we'll begin looking at\nhigh availability options for DHCP.\n\n9\n00:00:26.300 --> 00:00:28.940\nBack in studio with us today is Mr.\nAdam Gordon.\n\n10\n00:00:28.940 --> 00:00:30.700\nThank you for joining us today Adam.\n\n11\n00:00:30.700 --> 00:00:31.280\n&gt;&gt; Hello everybody.\n\n12\n00:00:31.280 --> 00:00:32.650\nHopefully your doing well.\n\n13\n00:00:32.650 --> 00:00:34.260\nGlad that you could be with us.\n\n14\n00:00:34.260 --> 00:00:37.460\nAnd to continue our conversations\naround DHCP specifically\n\n15\n00:00:37.460 --> 00:00:39.490\nas Cherokee indicators of\nhigh availability options.\n\n16\n00:00:39.490 --> 00:00:41.650\nYou know we have options,\nthat's the good news.\n\n17\n00:00:41.650 --> 00:00:45.985\nWe can make choices about how we secure\nand protect our DHCP infrastructure.\n\n18\n00:00:45.985 --> 00:00:50.735\nWe can setup a DHCP cluster, traditional\nclustering on Windows can be used to\n\n19\n00:00:50.735 --> 00:00:56.110\nbackend our DHCP services and maintain\nviability and high availability for them.\n\n20\n00:00:56.110 --> 00:00:58.630\nWe could set up a two\nmember fail over cluster.\n\n21\n00:00:58.630 --> 00:01:00.500\nYou're limited to two\nmembers in the cluster.\n\n22\n00:01:00.500 --> 00:01:01.700\nBut we could set that up.\n\n23\n00:01:01.700 --> 00:01:04.520\nWe'd have to have that DHCP\nserver installed on both,\n\n24\n00:01:04.520 --> 00:01:09.470\nwith identical scopes, and then the DHCP\nconfiguration is stored on shared storage,\n\n25\n00:01:09.470 --> 00:01:13.240\nso that either member of the cluster\ncan access it during a fail over.\n\n26\n00:01:13.240 --> 00:01:16.860\nThe other cluster essentially just detects\nor the other member of the cluster rather\n\n27\n00:01:16.860 --> 00:01:20.450\ndetects the failure event and\nthen primary server goes down let's say.\n\n28\n00:01:20.450 --> 00:01:25.180\nOur standby server detects the failure\nevent, activates the DHCP service.\n\n29\n00:01:25.180 --> 00:01:28.780\nReads the config information,\nbrings up the other instance, there's\n\n30\n00:01:28.780 --> 00:01:33.020\na small delay while we fill over but,\npretty traditional thought process there.\n\n31\n00:01:33.020 --> 00:01:36.430\nWe certainly can set that up,\nwe can use what are called split scopes we\n\n32\n00:01:36.430 --> 00:01:38.540\ntalked about this on one\nof our prior episodes.\n\n33\n00:01:38.540 --> 00:01:43.030\nYears ago we use to refer to this as\neither a split scope, the 80-20 rule where\n\n34\n00:01:43.030 --> 00:01:48.101\nyou would essentially split up your scope\nin some form not necessarily 80-20.\n\n35\n00:01:48.101 --> 00:01:51.560\nBut however and you would then allow for\n\n36\n00:01:51.560 --> 00:01:57.170\neach server to control a portion of\nthe overall scope so that way if one\n\n37\n00:01:57.170 --> 00:02:00.920\nside of the equation was to go offline we\nwould still have the ability to lease and\n\n38\n00:02:00.920 --> 00:02:04.700\nmanage at least partial scope\ninformation would be available.\n\n39\n00:02:04.700 --> 00:02:07.670\nPartial addresses from\nthe scope lock would be there.\n\n40\n00:02:07.670 --> 00:02:11.640\nSo we have an entire range of IP\naddresses assigned to each server.\n\n41\n00:02:11.640 --> 00:02:14.840\nThey're both active on the network and\non the system in real time.\n\n42\n00:02:14.840 --> 00:02:18.460\nWhich one is the primary one is\na manner of how we designate that.\n\n43\n00:02:18.460 --> 00:02:21.210\nWe set the delay configuration attribute\n\n44\n00:02:21.210 --> 00:02:24.810\non the advanced tab of the scope\nproperties and the secondary server.\n\n45\n00:02:24.810 --> 00:02:28.620\nI showed you that delay attribute at\nsome point when we were talking and\n\n46\n00:02:28.620 --> 00:02:32.940\ngoing through the options, we would set\nthat up and say specify a certain amount\n\n47\n00:02:32.940 --> 00:02:35.930\nof delay that would indicate that,\nthat would be the secondary.\n\n48\n00:02:35.930 --> 00:02:37.880\nSo, we'll do that on the secondary server.\n\n49\n00:02:37.880 --> 00:02:40.570\nThat delay indicates that it\nwon't respond immediately.\n\n50\n00:02:40.570 --> 00:02:43.410\nThe primary one would have no delay or\na smaller delay factor.\n\n51\n00:02:43.410 --> 00:02:46.260\nThat will be the primary server\nif we set it up that way.\n\n52\n00:02:46.260 --> 00:02:49.730\nAnd then as a result, if the primary fails\nor stops responding for some reason,\n\n53\n00:02:49.730 --> 00:02:51.540\nthe secondary server will respond.\n\n54\n00:02:51.540 --> 00:02:54.790\nBut takes a little bit longer, but the\nidea is that it will still get there and\n\n55\n00:02:54.790 --> 00:02:57.180\nthe clients will be able to interact for\nthat period of time.\n\n56\n00:02:57.180 --> 00:03:02.030\nHopefully until we can fix the problem\nand, excuse me, bring it back on line.\n\n57\n00:03:02.030 --> 00:03:04.940\nWe can also set up which we're gonna\ndo and we've been talking about,\n\n58\n00:03:04.940 --> 00:03:08.390\nDHCP failover, gonna show you\nhow to do that in just a moment.\n\n59\n00:03:08.390 --> 00:03:12.390\nThe idea here and this is new to 2016,\nthe DHCP failover concepts,\n\n60\n00:03:12.390 --> 00:03:16.750\nso these other two options we just talked\nabout have been around for some time.\n\n61\n00:03:16.750 --> 00:03:18.590\nRight, setting up\na Windows based cluster for\n\n62\n00:03:18.590 --> 00:03:23.690\nDHCP using this idea of having two\nservers in the central splitting scope.\n\n63\n00:03:23.690 --> 00:03:26.650\nThese options have been around for,\nin many cases, years,\n\n64\n00:03:26.650 --> 00:03:28.925\nbut the concept to fill over is new.\n\n65\n00:03:28.925 --> 00:03:32.630\nAnd so specifically managing\nthis through the DHCP console,\n\n66\n00:03:32.630 --> 00:03:36.440\nconfiguring fail over, is gonna be\na little bit of a new thought process.\n\n67\n00:03:36.440 --> 00:03:39.120\nWe're gonna go ahead,\nwe're gonna establish the relationship.\n\n68\n00:03:39.120 --> 00:03:41.910\nIt's like a cluster in the sense\nthat we can only use two servers\n\n69\n00:03:41.910 --> 00:03:43.410\nto establish the relationship.\n\n70\n00:03:43.410 --> 00:03:46.910\nSo a fail over service\nrelationship involves two servers.\n\n71\n00:03:46.910 --> 00:03:49.592\nWe will sync them up,\nwe will replicate our scopes, and\n\n72\n00:03:49.592 --> 00:03:52.320\nensure that they're\navailable on both sides.\n\n73\n00:03:52.320 --> 00:03:56.420\nWe give the replication relationship\na unique name, whatever we call it,\n\n74\n00:03:56.420 --> 00:03:58.840\nwe'll take a look at that when we\nconfigure it here in just a minute.\n\n75\n00:03:58.840 --> 00:04:03.530\nAnd once we do that, we will have our\nability to then specify that if the server\n\n76\n00:04:03.530 --> 00:04:07.220\nwere to go down, the other server that's\non the other end of that relationship can\n\n77\n00:04:07.220 --> 00:04:12.650\nprovide these services or provide\nthe scope related support necessary for\n\n78\n00:04:12.650 --> 00:04:14.190\nclients to continue operating.\n\n79\n00:04:14.190 --> 00:04:17.600\nAnd a single sever can have multiple\nfail over relationships by the way.\n\n80\n00:04:17.600 --> 00:04:20.470\nWe can have a one-to-one relationship\nwith another partner but\n\n81\n00:04:20.470 --> 00:04:22.930\nwe'll get a multiple\none-to-one relationships.\n\n82\n00:04:22.930 --> 00:04:27.850\nSo I could be a member of multiple fail\nover relationships with different servers\n\n83\n00:04:27.850 --> 00:04:32.410\nproviding support for different\nscopes across my enterprise based on\n\n84\n00:04:32.410 --> 00:04:35.450\nthe geography, thought process we\nshared with you in the last episode.\n\n85\n00:04:35.450 --> 00:04:39.240\nYou know maybe remote offices,\nindividual DHCP servers by subnet or\n\n86\n00:04:39.240 --> 00:04:40.770\nby geography or region.\n\n87\n00:04:40.770 --> 00:04:43.260\nAnd I could specify that I have\n\n88\n00:04:43.260 --> 00:04:46.830\na relationship with several of\nthem from a central server.\n\n89\n00:04:46.830 --> 00:04:50.090\nThat would be the fail back server,\nright, if something were to go wrong and\n\n90\n00:04:50.090 --> 00:04:52.750\nI would then be able to use that\nserver in a pinch to be able to\n\n91\n00:04:52.750 --> 00:04:55.030\nprovide scope support until\nwe fix the local server.\n\n92\n00:04:55.030 --> 00:04:58.250\nSo we could think of it that\nway if wanna go down that road.\n\n93\n00:04:58.250 --> 00:05:02.435\nSo let's go ahead and\nlet's just take a look at how we do this.\n\n94\n00:05:02.435 --> 00:05:05.495\nLet's go in there, let me just switch over\nthere so I can quickly throw an eye on my\n\n95\n00:05:05.495 --> 00:05:08.565\nnotes and get a couple pieces of\ninformation that I need along the way.\n\n96\n00:05:08.565 --> 00:05:13.125\nAll right, so we're in our console here,\nnotice I'm on plab DC02.\n\n97\n00:05:13.125 --> 00:05:16.555\nThis is the machine we've been demoing\non some other episodes for you,\n\n98\n00:05:16.555 --> 00:05:17.825\nwe're gonna continue using it.\n\n99\n00:05:17.825 --> 00:05:19.315\nWe do still have our super scope there,\n\n100\n00:05:19.315 --> 00:05:21.785\nyou may recognize that\nfrom our prior episode.\n\n101\n00:05:21.785 --> 00:05:25.564\nWe're gonna configure this to connect\nout to this other machine right here\n\n102\n00:05:25.564 --> 00:05:26.440\nPlab DC01.\n\n103\n00:05:26.440 --> 00:05:29.510\nThis will be our other machine that\nwe're going to create the fail over\n\n104\n00:05:29.510 --> 00:05:30.730\nrelationship with.\n\n105\n00:05:30.730 --> 00:05:32.780\nNotice here, currently no scope.\n\n106\n00:05:32.780 --> 00:05:34.020\nNo scopes set up.\n\n107\n00:05:34.020 --> 00:05:36.650\nNo super scopes certainly but\nwe are going to set this up and\n\n108\n00:05:36.650 --> 00:05:39.130\nreplicate assuming that\neverything is successful.\n\n109\n00:05:39.130 --> 00:05:41.400\nSo we're going to come back\nto that in just a moment.\n\n110\n00:05:41.400 --> 00:05:43.510\nBut let's go ahead and\nlet's configure this.\n\n111\n00:05:43.510 --> 00:05:45.370\nWe're gonna right click\nup here on the IPv4 node.\n\n112\n00:05:45.370 --> 00:05:49.050\nWe're gonna come in,\nyou'll see we can configure failover and\n\n113\n00:05:49.050 --> 00:05:50.210\nwe'll do that first.\n\n114\n00:05:50.210 --> 00:05:53.000\nWe'll talk about replicating our\nfailover scopes once we've got\n\n115\n00:05:53.000 --> 00:05:54.370\nthe configuration up and running.\n\n116\n00:05:54.370 --> 00:05:56.800\nSo kind of a two step\nthought process here, right?\n\n117\n00:05:56.800 --> 00:05:58.410\nSo we'll configure failover.\n\n118\n00:05:58.410 --> 00:06:00.110\nJust go ahead we'll get\nthe wizard started here.\n\n119\n00:06:00.110 --> 00:06:01.740\nIt'll take just moment.\n\n120\n00:06:01.740 --> 00:06:07.190\nOnce we get that up and\nwe will then be able to click Next,\n\n121\n00:06:07.190 --> 00:06:11.060\nwe'll provide the name, in this case,\nPlab DC1 machine as our target, so\n\n122\n00:06:11.060 --> 00:06:14.980\nwe'll provide the Plab DC1 name\nthat we will target, there we go.\n\n123\n00:06:14.980 --> 00:06:18.676\nAll right, so let's just move this\nup over here for just a second so\n\n124\n00:06:18.676 --> 00:06:19.880\nwe kinda see that.\n\n125\n00:06:19.880 --> 00:06:23.200\nAll right, so we've got, and\nlet's scroll down here so\n\n126\n00:06:23.200 --> 00:06:26.920\nyou can see what's going on,\nintroduction to our DHCP failover wizard.\n\n127\n00:06:26.920 --> 00:06:28.970\nSo we just have the beginning step here.\n\n128\n00:06:28.970 --> 00:06:29.800\nHigh availability for\n\n129\n00:06:29.800 --> 00:06:34.030\nthe services by synchronizing IP address\nlease information, good to know.\n\n130\n00:06:34.030 --> 00:06:37.889\nKinda walks us through the setup here,\nselect from the following list of scopes\n\n131\n00:06:37.889 --> 00:06:40.885\nwhich are available to be configured for\nhigh availability,\n\n132\n00:06:40.885 --> 00:06:44.300\nscopes already configured for\nhigh availability are not displayed.\n\n133\n00:06:44.300 --> 00:06:47.590\nSo we do have two scopes that\nare available to us in our super scope,\n\n134\n00:06:47.590 --> 00:06:49.730\nthe two scopes we worked with earlier,\nthe 0001.\n\n135\n00:06:49.730 --> 00:06:53.410\nYou'll notice they are available there,\nnotice select all.\n\n136\n00:06:53.410 --> 00:06:56.860\nIf I wanted to unselect,\nbecause perhaps I had multiple scopes, and\n\n137\n00:06:56.860 --> 00:07:00.120\nI only wanted, let's see, out of five or\nsix, only wanted two or three,\n\n138\n00:07:00.120 --> 00:07:02.370\nI would simply highlight and select here.\n\n139\n00:07:02.370 --> 00:07:06.290\nBut, you know, by default, all scopes\navailable are listed and their chosen.\n\n140\n00:07:06.290 --> 00:07:08.810\nSo we assume that you\nwant to replicate out and\n\n141\n00:07:08.810 --> 00:07:10.590\ncreate high availability\naround all those scopes.\n\n142\n00:07:10.590 --> 00:07:13.460\nSo we'll leave that intact and\njust choose there.\n\n143\n00:07:13.460 --> 00:07:14.650\nWe'll click Next.\n\n144\n00:07:14.650 --> 00:07:17.270\nWe then have to specify\nour partner server.\n\n145\n00:07:17.270 --> 00:07:18.300\nSo you'll see nothing there.\n\n146\n00:07:18.300 --> 00:07:19.910\nWe're gonna program that in.\n\n147\n00:07:19.910 --> 00:07:20.850\nWe'll add this here.\n\n148\n00:07:20.850 --> 00:07:28.010\nSo we'll go ahead and\nwe'll type in plabdc01 practiselabs.com.\n\n149\n00:07:28.010 --> 00:07:31.825\nSo we're typing in the FQDN\nof our target machine.\n\n150\n00:07:31.825 --> 00:07:35.915\nNow notice and I do point this out\nwhen we get to it in certain wizards.\n\n151\n00:07:35.915 --> 00:07:38.575\nBut logic is everything\nmaking sure you're prepared\n\n152\n00:07:38.575 --> 00:07:40.805\nto be successful is gonna be important,\nright?\n\n153\n00:07:40.805 --> 00:07:45.270\nSo we have that,\nwanna click add server here right?\n\n154\n00:07:45.270 --> 00:07:48.540\nAnd so you'll see select the server\nyou wanna add to your console.\n\n155\n00:07:48.540 --> 00:07:51.440\nThe authorized DHCP servers\nyou'll see we have two.\n\n156\n00:07:51.440 --> 00:07:54.575\nNow if we don't wanna type it in,\nwe could just come here and\n\n157\n00:07:54.575 --> 00:07:56.600\nwe can select which one we wanna grab.\n\n158\n00:07:56.600 --> 00:07:59.180\nSo remember all of our\nservers should be authorized.\n\n159\n00:07:59.180 --> 00:08:01.805\nThey should already be listed in\nthe Active Directory, in other words.\n\n160\n00:08:01.805 --> 00:08:05.965\nAnd as a result, they would show up here,\nand we can just go grab one right from\n\n161\n00:08:05.965 --> 00:08:09.750\nhere, click OK, highlight that,\nso we'll just give that a second.\n\n162\n00:08:11.400 --> 00:08:14.295\nAnd assuming, that we choose\nthe server that's up and running,\n\n163\n00:08:14.295 --> 00:08:17.145\nit's available that we connect to, etc.\n\n164\n00:08:17.145 --> 00:08:21.235\nThen, we can go ahead and it will\nautomatically just put it in there for us.\n\n165\n00:08:21.235 --> 00:08:23.255\nAnd it just truncates it\ndown to the host name.\n\n166\n00:08:23.255 --> 00:08:24.260\nBut we can do this either way.\n\n167\n00:08:24.260 --> 00:08:26.680\nYou can type it in, or\nyou can use the button.\n\n168\n00:08:26.680 --> 00:08:27.940\nIt's up to you to decide.\n\n169\n00:08:27.940 --> 00:08:30.900\nThe way that I just did it,\nit went out and found the server,\n\n170\n00:08:30.900 --> 00:08:34.430\nvalidated that we can communicate with it,\nand understands what it is.\n\n171\n00:08:34.430 --> 00:08:35.903\nIf I just typed it in here myself,\n\n172\n00:08:35.903 --> 00:08:39.340\nthen it would have to do that as part of\nthe process of moving between screens.\n\n173\n00:08:39.340 --> 00:08:42.330\nIt's a question of how you\nchoose to do it, it's up to you.\n\n174\n00:08:42.330 --> 00:08:44.690\nSo we have we'll click Next here.\n\n175\n00:08:44.690 --> 00:08:46.760\nSo I just went ahead and said,\nyeah, basically I found it.\n\n176\n00:08:46.760 --> 00:08:49.850\nIt was that little blue circle\nthat popped up for half a second.\n\n177\n00:08:49.850 --> 00:08:53.120\nI create a new fail over relationship\nwith Partner Plaid VC01,\n\n178\n00:08:53.120 --> 00:08:55.980\nmachine on the other\nside we're gonna send to.\n\n179\n00:08:55.980 --> 00:08:57.440\nWhat's the name of the relationship?\n\n180\n00:08:57.440 --> 00:08:59.250\nYou have to give it a unique name, right?\n\n181\n00:08:59.250 --> 00:09:05.800\nSo, something like,\nwe'll just call this itprotv fail over.\n\n182\n00:09:05.800 --> 00:09:08.050\nTest, write something like that.\n\n183\n00:09:08.050 --> 00:09:13.370\nIn the real world, they'd probably label\nthis, north central remote office or\n\n184\n00:09:13.370 --> 00:09:13.900\nsomething, right?\n\n185\n00:09:13.900 --> 00:09:17.070\nWhatever the name of that relationship\nwill be that signifies the geography for\n\n186\n00:09:17.070 --> 00:09:17.945\nwhat I'm trying to match.\n\n187\n00:09:17.945 --> 00:09:19.605\nWould be up to me to decide.\n\n188\n00:09:19.605 --> 00:09:22.799\nMaximum client lead time,\nwhat we call the MCLT.\n\n189\n00:09:22.799 --> 00:09:25.761\nValue, you'll see here by default,\none hour, right?\n\n190\n00:09:25.761 --> 00:09:30.315\nWe have mode, or reload balancing,\nor are we doing hot standby.\n\n191\n00:09:30.315 --> 00:09:33.857\nLoad balancing, the idea would be all\nsystems are online and available.\n\n192\n00:09:33.857 --> 00:09:37.897\nWe're essentially round robinning back and\nforth between them, evenly.\n\n193\n00:09:37.897 --> 00:09:40.657\nHot standby, one is on, right, primary.\n\n194\n00:09:40.657 --> 00:09:43.054\nThe other one is available but\nnot actively being used,\n\n195\n00:09:43.054 --> 00:09:44.380\nunless we fail over to it.\n\n196\n00:09:44.380 --> 00:09:46.178\nWe would specify our choose.\n\n197\n00:09:46.178 --> 00:09:49.190\nHow we wanna set this up here,\nwould be up to us to decide.\n\n198\n00:09:50.420 --> 00:09:53.790\nWe would choose whatever we think\nmakes the most sense, all right.\n\n199\n00:09:53.790 --> 00:09:55.010\nSo, we can go in.\n\n200\n00:09:55.010 --> 00:09:57.950\nWe'll leave a load balance to you just for\npurposes of our discussion, but\n\n201\n00:09:57.950 --> 00:10:01.290\nwe can set it up either way\non load balance percentage.\n\n202\n00:10:01.290 --> 00:10:03.910\nLocal server,\nparent server roughly 50, 50.\n\n203\n00:10:03.910 --> 00:10:06.400\nWe're roughly approximately saying,\nequal load on both.\n\n204\n00:10:06.400 --> 00:10:09.887\nSo, we'll be using both, right,\nessentially, as equal partners.\n\n205\n00:10:09.887 --> 00:10:15.320\nYou'll see here, just scroll down here,\njust so you can see right there.\n\n206\n00:10:15.320 --> 00:10:17.950\nEnable Message Authentication\nShared Secret.\n\n207\n00:10:17.950 --> 00:10:19.570\nJust while I'm typing this in,\n\n208\n00:10:19.570 --> 00:10:21.500\nlet me just quickly tell\neverybody what a shared secret is.\n\n209\n00:10:21.500 --> 00:10:24.150\nI know you wanna ask something,\nor add a little comment here.\n\n210\n00:10:24.150 --> 00:10:26.061\nSo shared secret is nothing\nmore than a password, right?\n\n211\n00:10:26.061 --> 00:10:29.206\nWe just give it a fancy name,\nwe're gonna provide a password here.\n\n212\n00:10:29.206 --> 00:10:31.987\nSo that way, we're gonna be able\nto secure this connection and\n\n213\n00:10:31.987 --> 00:10:35.570\nmake sure that we're just not randomly\nusing it unless we can provide this.\n\n214\n00:10:35.570 --> 00:10:38.680\nSo that we know that we are using\nit with the proper authority.\n\n215\n00:10:38.680 --> 00:10:42.084\nSo just before I click Next, Cherokee\nwanted to throw something out there.\n\n216\n00:10:42.084 --> 00:10:44.010\n&gt;&gt; Yeah I just wanted to\nask you about those modes.\n\n217\n00:10:44.010 --> 00:10:47.760\nSo I know other vendors they may use\nthe terminology, like active, active or\n\n218\n00:10:47.760 --> 00:10:48.760\nactive, passive.\n\n219\n00:10:48.760 --> 00:10:51.890\nDo you think Microsoft categorizes\nthose modes in that way\n\n220\n00:10:51.890 --> 00:10:55.700\nwith the high availability\nversus the load balancing there?\n\n221\n00:10:57.710 --> 00:11:00.440\n&gt;&gt; Well, the way they classify them\nis load balancing at hot standby.\n\n222\n00:11:00.440 --> 00:11:02.010\nBut what they mean is\nwhen we do hot standby,\n\n223\n00:11:02.010 --> 00:11:03.760\nwe're doing an active passive assumption,\nright.\n\n224\n00:11:03.760 --> 00:11:06.951\nYou think about the logic of\nwhat you were suggesting.\n\n225\n00:11:06.951 --> 00:11:09.379\nLoad balance would be\nthe equivalent of an active,\n\n226\n00:11:09.379 --> 00:11:11.645\nactive in the sense of both nodes or\nboth parts.\n\n227\n00:11:11.645 --> 00:11:14.052\nBoth partners in relationship are on and\n\n228\n00:11:14.052 --> 00:11:16.896\nservicing requests with\nsome sort of waiting.\n\n229\n00:11:16.896 --> 00:11:18.948\nSo that way we're perhaps either equally,\n\n230\n00:11:18.948 --> 00:11:22.394\nin our case we're roughly saying\n50 50 will be approximately equal.\n\n231\n00:11:22.394 --> 00:11:25.879\nAnd, or you know maybe slightly\nweighted in favor of one or the other\n\n232\n00:11:25.879 --> 00:11:30.370\nbased on latency, network conditions,\nwho knows what, whatever it would be.\n\n233\n00:11:30.370 --> 00:11:32.030\nBut we would do it that way.\n\n234\n00:11:32.030 --> 00:11:35.572\nAnd we would then route slightly more\nrequests to one perhaps in favor of\n\n235\n00:11:35.572 --> 00:11:38.460\nthe other depending on\nthe balancing percentages.\n\n236\n00:11:38.460 --> 00:11:41.530\nBut if we think about it from\nthe traditional perspective of a cluster,\n\n237\n00:11:41.530 --> 00:11:45.177\nwhich is where get the active, active,\nreactive, passive thought process from.\n\n238\n00:11:45.177 --> 00:11:48.744\nWe could say load balance would\nbe like everything being active.\n\n239\n00:11:48.744 --> 00:11:50.764\nWhereas, excuse me, hot standby,\n\n240\n00:11:50.764 --> 00:11:55.100\nwould be the equivalent of more of\nan active passive relationship.\n\n241\n00:11:55.100 --> 00:11:56.790\nIf that's the idea that\nyou're thinking about.\n\n242\n00:11:56.790 --> 00:11:59.560\nAnd it kinda makes sense on one\nlevel to think of it that way.\n\n243\n00:11:59.560 --> 00:12:03.180\nBut we don't, Microsoft doesn't\nclassify them using that language.\n\n244\n00:12:03.180 --> 00:12:04.370\n&gt;&gt; Gotcha.\n&gt;&gt; The language we use,\n\n245\n00:12:04.370 --> 00:12:08.290\nthe descriptors we use for the modes\nare load balance and hot standby.\n\n246\n00:12:08.290 --> 00:12:09.009\nThose are the names.\n\n247\n00:12:09.009 --> 00:12:11.062\nThe reason I'm being precise about that,\n\n248\n00:12:11.062 --> 00:12:14.030\nis if you were asked in theory\nat some point in the future.\n\n249\n00:12:14.030 --> 00:12:16.850\nHey, when we're configuring this,\nwhat are your two options for\n\n250\n00:12:16.850 --> 00:12:19.450\nmodes, you'd wanna know\nthat the proper names and\n\n251\n00:12:19.450 --> 00:12:20.840\ntheir for right answers,\n&gt;&gt; Most definitely.\n\n252\n00:12:20.840 --> 00:12:22.590\n&gt;&gt; Would be load balanced and hot standby.\n\n253\n00:12:22.590 --> 00:12:24.440\nThose would be the right choices.\n\n254\n00:12:24.440 --> 00:12:29.030\nIf you were making them at some point\nin a room with perhaps a clock ticking,\n\n255\n00:12:29.030 --> 00:12:30.550\nscreen in front of you.\n\n256\n00:12:30.550 --> 00:12:32.430\nNo pressure at all, nothing like that.\n\n257\n00:12:32.430 --> 00:12:35.880\nJust you know people throwing questions at\nyou randomly for a certain period of time,\n\n258\n00:12:35.880 --> 00:12:38.850\nand you have to answer them or\nelse, right or something like that.\n\n259\n00:12:38.850 --> 00:12:41.130\n&gt;&gt; Right, I think we're picking\nup what you're putting down Adam.\n\n260\n00:12:41.130 --> 00:12:44.390\n&gt;&gt; We could make a game show, right, it\ncould be like you know certify or die or\n\n261\n00:12:44.390 --> 00:12:45.165\nsomething like that.\n\n262\n00:12:45.165 --> 00:12:46.982\n&gt;&gt; [LAUGH]\n&gt;&gt; All right we're gonna go ahead,\n\n263\n00:12:46.982 --> 00:12:49.090\nwe're gonna choose here to put this in.\n\n264\n00:12:49.090 --> 00:12:51.540\n&gt;&gt; No running the end kind of style.\n\n265\n00:12:51.540 --> 00:12:53.320\n&gt;&gt; No, no pressure at all, right?\n\n266\n00:12:53.320 --> 00:12:55.580\nAnd then you'll see we\nhave our two scopes here.\n\n267\n00:12:55.580 --> 00:12:56.870\nWe do have just starting information.\n\n268\n00:12:56.870 --> 00:12:57.680\nNow I will tell you, and\n\n269\n00:12:57.680 --> 00:13:00.130\nI've mentioned this in another\nepisode around other things.\n\n270\n00:13:00.130 --> 00:13:04.220\nI'm a big advocate of making a tree of\ngreat documentation, for a lot of reasons.\n\n271\n00:13:04.220 --> 00:13:06.698\nI do a lot of auto work,\nas I've shared with you in other episodes.\n\n272\n00:13:06.698 --> 00:13:09.341\nI do a lot of work for customers, and for\n\n273\n00:13:09.341 --> 00:13:14.565\npeople that I spend time helping to figure\nout how to do the right things with.\n\n274\n00:13:14.565 --> 00:13:16.744\nAnd make sure their instruction\nworks the right way.\n\n275\n00:13:16.744 --> 00:13:20.840\nNothing better than start you day off,\nknowing you got good documentation, right?\n\n276\n00:13:20.840 --> 00:13:24.590\nThat puts a big smile on the face of\na person that's responsible for stuff.\n\n277\n00:13:24.590 --> 00:13:27.900\nGreat opportunity for\nyou here to do a quick screen capture,\n\n278\n00:13:27.900 --> 00:13:31.480\ncapture that documentation item,\ndrop it in your run book, or\n\n279\n00:13:31.480 --> 00:13:35.558\nyour build book or into your CMDB,\nyour configuration management database.\n\n280\n00:13:35.558 --> 00:13:39.080\nThis is essentially your CI,\nyour configuration item entry for\n\n281\n00:13:39.080 --> 00:13:41.770\nhow you're configuring\nthe server with this service.\n\n282\n00:13:41.770 --> 00:13:43.070\nAll you need to do is reproduce this,\n\n283\n00:13:43.070 --> 00:13:44.890\nand you've got everything\nyou need right there.\n\n284\n00:13:44.890 --> 00:13:47.660\nJust take a screen capture of it,\nand then you're off to the races.\n\n285\n00:13:47.660 --> 00:13:50.230\nSo just make sure you're aware\nof the fact you can do that.\n\n286\n00:13:50.230 --> 00:13:53.630\nClick Finish,\nyou'll see that we go through here.\n\n287\n00:13:53.630 --> 00:13:56.830\nIt sets up and adds our scope.\n\n288\n00:13:56.830 --> 00:14:00.580\nAnd you could quickly see what we did,\nit's all automated, of course, right?\n\n289\n00:14:00.580 --> 00:14:03.330\nBut add scopes on partner server,\nsuccessful.\n\n290\n00:14:03.330 --> 00:14:05.150\nWe'll go take a look at\nthat in just a minute.\n\n291\n00:14:05.150 --> 00:14:07.560\nDisable scopes on partner server,\nsuccessful.\n\n292\n00:14:07.560 --> 00:14:10.790\nMeaning we've added them in, but\nthey're disabled out of the box.\n\n293\n00:14:10.790 --> 00:14:13.185\nCreation of fail over\nconfiguration successful,\n\n294\n00:14:13.185 --> 00:14:17.080\ncreation of fail over configuration\non both partner and host successful.\n\n295\n00:14:17.080 --> 00:14:21.000\nActivate scopes on partner, successful,\nconfigure fail over, successful.\n\n296\n00:14:21.000 --> 00:14:24.610\nSo in theory, we should be able\nto right now go over here.\n\n297\n00:14:25.850 --> 00:14:32.086\nWe should be able to come over here and\nbe able to do this.\n\n298\n00:14:33.507 --> 00:14:36.685\nAnd you'll see that it just\nneeds a refresh, nothing more.\n\n299\n00:14:36.685 --> 00:14:39.340\nRight, remember most consoles\nrequire refresh if they're actively\n\n300\n00:14:39.340 --> 00:14:40.985\nopen while you're doing something.\n\n301\n00:14:40.985 --> 00:14:43.275\nThey don't necessarily\nrefresh on their own.\n\n302\n00:14:43.275 --> 00:14:45.110\nBut you can see that I did refresh.\n\n303\n00:14:45.110 --> 00:14:49.500\nYou will see now that my super scopes\nare here, and it is spelled the same\n\n304\n00:14:49.500 --> 00:14:52.420\nincorrectly as it was on the other one,\nso you know it is accurate.\n\n305\n00:14:52.420 --> 00:14:53.990\nI left it there that way on purpose.\n\n306\n00:14:53.990 --> 00:14:58.740\nBut you can see that we have\nreplicated over through our failover or\n\n307\n00:14:58.740 --> 00:15:00.720\nour configuration failover.\n\n308\n00:15:00.720 --> 00:15:03.915\nThe scopes, you could see that they're\nactually sitting there as part of\n\n309\n00:15:03.915 --> 00:15:04.853\nthe configuration.\n\n310\n00:15:04.853 --> 00:15:07.034\nWe've essentially gone through and\n\n311\n00:15:07.034 --> 00:15:10.770\nconfigured our failover\nrelationship up through the Wizard.\n\n312\n00:15:10.770 --> 00:15:14.466\nAnd those success items do indicate that\nindeed it would be on the other side and\n\n313\n00:15:14.466 --> 00:15:15.481\nwe can see that it is.\n\n314\n00:15:15.481 --> 00:15:17.790\nWe'll click Close here,\nthat's been set up.\n\n315\n00:15:17.790 --> 00:15:20.670\nWe'll just go ahead, we'll just\nrefresh here for good measure as well.\n\n316\n00:15:20.670 --> 00:15:24.440\nNot because we need to, but just to make\nsure that we see that everything is there.\n\n317\n00:15:24.440 --> 00:15:27.156\nSo we do have that all configured,\nsetup, ready to go.\n\n318\n00:15:27.156 --> 00:15:30.010\nFailover really doesn't\nrequire much more than that.\n\n319\n00:15:30.010 --> 00:15:34.600\nOnce it's set up, assuming everything\nis good, we're all set, and\n\n320\n00:15:34.600 --> 00:15:36.400\nwe are ready to go as they say.\n\n321\n00:15:36.400 --> 00:15:40.790\nNow, we did talk about a second step where\nwe would replicate out our failover scope.\n\n322\n00:15:40.790 --> 00:15:45.270\nSo let's just look at that, so we would\ncome in here, let's just highlight here.\n\n323\n00:15:45.270 --> 00:15:48.490\nRemember we said the other part of\nthat is replicate failover scopes.\n\n324\n00:15:48.490 --> 00:15:49.660\nTake a look here real quick.\n\n325\n00:15:49.660 --> 00:15:53.410\nJust bring this up, so\nyou can see this before we do anything.\n\n326\n00:15:53.410 --> 00:15:56.860\nThis action will replicate the config\nof all failover scopes on this server\n\n327\n00:15:56.860 --> 00:15:59.870\nto a respective partner server or\nservers, right.\n\n328\n00:15:59.870 --> 00:16:01.239\nThis operation may take some time.\n\n329\n00:16:01.239 --> 00:16:04.440\nClick OK to continue or\nCancel to abort, right.\n\n330\n00:16:04.440 --> 00:16:05.842\nSo all we're saying is you know,\n\n331\n00:16:05.842 --> 00:16:09.411\nif you've made changes at some point To\nthe scope after the initial configuration.\n\n332\n00:16:09.411 --> 00:16:11.925\nBecause you could see clearly\nthat the scope was replicated\n\n333\n00:16:11.925 --> 00:16:13.190\nas part of the initial set up.\n\n334\n00:16:13.190 --> 00:16:15.818\nBut that doesn't mean we\nwon't change that over time.\n\n335\n00:16:15.818 --> 00:16:19.890\nWe may wanna go in manually and\nforce a replication event so\n\n336\n00:16:19.890 --> 00:16:21.110\nthat we can update those changes.\n\n337\n00:16:21.110 --> 00:16:23.540\nSo we would click OK\nto be able to do that.\n\n338\n00:16:23.540 --> 00:16:24.490\nNo big deal, we'll just click OK,\n\n339\n00:16:24.490 --> 00:16:27.970\nlet that do its thing here just\nto show you what it looks like.\n\n340\n00:16:27.970 --> 00:16:31.949\nYou'll see here, starting replication\nof queued failover partner, blah,\n\n341\n00:16:31.949 --> 00:16:35.219\nblah, blah, and it's doing one for\neach scope, 00, 01.\n\n342\n00:16:35.219 --> 00:16:39.998\nSo you can see that it is, if we had 10\nscopes we'd have 10 paragraphs, one for\n\n343\n00:16:39.998 --> 00:16:43.460\neach scope listed here and\ntelling us that it started.\n\n344\n00:16:43.460 --> 00:16:45.020\nNow we're not gonna get\nan indication here.\n\n345\n00:16:45.020 --> 00:16:47.490\nWe're just going to essentially say hey,\nthis is what we're doing.\n\n346\n00:16:47.490 --> 00:16:48.930\nGreat, okay, we're doing that and\n\n347\n00:16:48.930 --> 00:16:51.130\neventually it will show\nup on the other side.\n\n348\n00:16:51.130 --> 00:16:52.950\nSo we do just wanna make\nsure we're aware of that.\n\n349\n00:16:52.950 --> 00:16:57.020\nBecause this is how we would manage that\ninformation, if we had to do updates for\n\n350\n00:16:57.020 --> 00:17:00.180\nsome reason or for\nwhatever the case may be.\n\n351\n00:17:00.180 --> 00:17:01.483\nI know Cherokee wants to\nadd something in here.\n\n352\n00:17:01.483 --> 00:17:03.590\nJust before she does, one other thing.\n\n353\n00:17:03.590 --> 00:17:05.851\nYou'll notice here for IPv6,\n\n354\n00:17:05.851 --> 00:17:09.711\nwe do not have the ability\nto set up failover for IPv6.\n\n355\n00:17:09.711 --> 00:17:13.310\nI think I talked about this in\na couple of other episodes.\n\n356\n00:17:13.310 --> 00:17:15.039\nWe have less options for IPv6.\n\n357\n00:17:15.039 --> 00:17:18.336\nCurrently we do not set up policies\neither, you'll notice, for IPv6.\n\n358\n00:17:18.336 --> 00:17:22.065\nWe'll talk about those in one\nof our prior episodes as well.\n\n359\n00:17:22.065 --> 00:17:24.165\nSo those are not available to us here but\n\n360\n00:17:24.165 --> 00:17:27.077\njust keep in mind that we\ndo have an IPv6 option.\n\n361\n00:17:27.077 --> 00:17:30.325\nWe can manage scopes here,\nas you can see, for IPv6,\n\n362\n00:17:30.325 --> 00:17:34.440\nbut we don't have the option to make\nthem highly available through failover.\n\n363\n00:17:34.440 --> 00:17:37.070\nWe don't have policy driven\nmanagement the way we do for IPv4,\n\n364\n00:17:37.070 --> 00:17:39.370\nat least not right now in Server 16.\n\n365\n00:17:39.370 --> 00:17:41.480\nMay that come at some point in the future?\n\n366\n00:17:41.480 --> 00:17:42.870\nHard to say, who knows?\n\n367\n00:17:42.870 --> 00:17:44.270\nAlways a possibility.\n\n368\n00:17:44.270 --> 00:17:46.870\nAlways an opportunity for\nus to think through the logic of that.\n\n369\n00:17:46.870 --> 00:17:49.658\nBut it's hard to say for\nsure what we will see in the future.\n\n370\n00:17:49.658 --> 00:17:53.212\nWe just wanna know that currently\nthat is not supported, okay, just so\n\n371\n00:17:53.212 --> 00:17:54.406\nyou're aware of that.\n\n372\n00:17:54.406 --> 00:17:57.110\nSo Cherokee,\nI know you wanted to mention something.\n\n373\n00:17:57.110 --> 00:17:59.630\n&gt;&gt; I just had a question about\nthe notification that we saw.\n\n374\n00:17:59.630 --> 00:18:02.320\nAfter that original replication,\n\n375\n00:18:02.320 --> 00:18:07.490\nany subsequent replications, would it\njust be like a differential change?\n\n376\n00:18:07.490 --> 00:18:12.197\nSo we probably wouldn't see that delay,\nokay.\n\n377\n00:18:12.197 --> 00:18:14.032\n[LAUGH] I see.\n\n378\n00:18:14.032 --> 00:18:15.890\n&gt;&gt; It's amazing how that works.\n\n379\n00:18:15.890 --> 00:18:16.660\n&gt;&gt; You know what, yeah.\n\n380\n00:18:16.660 --> 00:18:19.300\nAdam is sharing the answer\nto my question right here.\n\n381\n00:18:19.300 --> 00:18:20.645\nI swear that was not planned.\n\n382\n00:18:20.645 --> 00:18:22.070\n[LAUGH]\n&gt;&gt; It was, but\n\n383\n00:18:22.070 --> 00:18:24.730\nyou just asked a question without\nknowing I already had it set up.\n\n384\n00:18:24.730 --> 00:18:28.020\nBut yes, to answer not only Cherokee's\nquestion, which is a great one,\n\n385\n00:18:28.020 --> 00:18:31.268\nvery important, but a lot of other\nsubtle questions you may have.\n\n386\n00:18:31.268 --> 00:18:34.490\nBecause you wanna understand what's going\non under the hood with this stuff, right?\n\n387\n00:18:34.490 --> 00:18:36.682\nAnd you're gonna want to see the settings,\nunderstand,\n\n388\n00:18:36.682 --> 00:18:39.640\ncuz here in the quick run through where\nwe say, hey, look, this does this.\n\n389\n00:18:39.640 --> 00:18:41.720\nBoom, boom, boom, two or\nthree minutes, and we're done.\n\n390\n00:18:41.720 --> 00:18:43.900\nYou don't really get the depth and\nthe ability to play with it and\n\n391\n00:18:43.900 --> 00:18:45.440\nreally internalize it.\n\n392\n00:18:45.440 --> 00:18:48.400\nSo I always wanna give you the option\nto do a little followup here.\n\n393\n00:18:48.400 --> 00:18:52.770\nDHCP failover settings, what are all\nof the settings we have there?\n\n394\n00:18:52.770 --> 00:18:53.540\nHow are they gonna work?\n\n395\n00:18:53.540 --> 00:18:54.650\nWhat are they used for?\n\n396\n00:18:54.650 --> 00:18:57.280\nThe load balance percentages\nwe talked about.\n\n397\n00:18:57.280 --> 00:18:59.620\nThe server roles, the reserve percentages,\n\n398\n00:18:59.620 --> 00:19:03.070\nthe maximum client lead time,\nright, that kind of thing.\n\n399\n00:19:03.070 --> 00:19:04.950\nAll these settings,\nimportant to know what they are.\n\n400\n00:19:04.950 --> 00:19:07.300\nSo any and all of these,\nyou're gonna have these here.\n\n401\n00:19:07.300 --> 00:19:09.351\nIt's gonna go through and\nkinda drill down on each one,\n\n402\n00:19:09.351 --> 00:19:11.328\ngive us a little better\nexplanation of what they are.\n\n403\n00:19:11.328 --> 00:19:15.410\nWe're gonna be able to see how all\nof these things come together.\n\n404\n00:19:15.410 --> 00:19:16.676\nBy the way,\nwe are doing delta replication,\n\n405\n00:19:16.676 --> 00:19:17.955\njust to answer your question specifically.\n\n406\n00:19:17.955 --> 00:19:19.350\nI apologize.\n\n407\n00:19:19.350 --> 00:19:20.980\nI had meant to do that\nas we were starting.\n\n408\n00:19:20.980 --> 00:19:24.110\nBut we do delta replication on\ncode after the initial sync.\n\n409\n00:19:24.110 --> 00:19:26.870\nFor any of these kind of things, we're\nnot gonna do a full replication event\n\n410\n00:19:26.870 --> 00:19:29.690\nbecause it just increases\na lot of the traffic load.\n\n411\n00:19:29.690 --> 00:19:33.630\nSo once we do an initial sync we'll be\ndoing delta replication block changes,\n\n412\n00:19:33.630 --> 00:19:34.550\nchange of configuration blocks.\n\n413\n00:19:34.550 --> 00:19:35.630\nWe call them different things.\n\n414\n00:19:35.630 --> 00:19:38.960\nBut the idea here is that you can see\nthat we have all the settings here.\n\n415\n00:19:38.960 --> 00:19:43.980\nIt talks about what they are and\ngives you a little bit more information.\n\n416\n00:19:43.980 --> 00:19:46.270\nWe do see some information on state.\n\n417\n00:19:46.270 --> 00:19:48.820\nSo we can go in and\nsee what's going on here\n\n418\n00:19:48.820 --> 00:19:52.190\nif we take a look at the different\nstates that a server can be in.\n\n419\n00:19:52.190 --> 00:19:56.301\nBased on failover conditions, normal,\ncommunication interrupted, partner down,\n\n420\n00:19:56.301 --> 00:19:59.421\npartner conflict, resolution interrupted,\nthings like that.\n\n421\n00:19:59.421 --> 00:20:01.698\nThere's nine states that are defined.\n\n422\n00:20:01.698 --> 00:20:05.870\nSo you'd wanna go through and probably\nhave a little bit of a vision into there.\n\n423\n00:20:05.870 --> 00:20:10.110\nAnd we do have some additional\nlinks here to some other things.\n\n424\n00:20:10.110 --> 00:20:11.726\nWe did walk you through\nhow to set up failover.\n\n425\n00:20:11.726 --> 00:20:16.363\nThey have some nice failover examples,\nsome events and performance information,\n\n426\n00:20:16.363 --> 00:20:19.800\ncommunication, the different modes,\nthe relationships.\n\n427\n00:20:19.800 --> 00:20:22.470\nJust all the detailed information\nthat will be valuable for\n\n428\n00:20:22.470 --> 00:20:26.360\nyou if you're gonna wanna go through and\n\n429\n00:20:26.360 --> 00:20:29.800\nemploy this new feature in 2016,\ncertainly in the real world.\n\n430\n00:20:29.800 --> 00:20:32.370\nWorth it for\nyou to read up on it just a little bit.\n\n431\n00:20:32.370 --> 00:20:35.460\nAlso important for\nyou for exam preparation.\n\n432\n00:20:35.460 --> 00:20:37.620\nHave a good idea of\nwhat's going on with it.\n\n433\n00:20:37.620 --> 00:20:39.800\nNever bad to read up a little bit and\n\n434\n00:20:39.800 --> 00:20:42.340\nhave a little bit more sense\nof what's happening there.\n\n435\n00:20:42.340 --> 00:20:45.470\nSo we did talk about load\nsharing versus hot standby,\n\n436\n00:20:45.470 --> 00:20:48.690\nthe difference between those two modes,\nexplained the logic there.\n\n437\n00:20:48.690 --> 00:20:52.813\nRemember, load sharing or load balancing,\nas it's called, is the default mode.\n\n438\n00:20:52.813 --> 00:20:57.320\nRight, you saw that as the default choice,\njust keep that in mind.\n\n439\n00:20:57.320 --> 00:21:00.930\nAlso firewall considerations here,\nright, important to know.\n\n440\n00:21:00.930 --> 00:21:05.160\nNow again, just keep in mind, if we're\ndoing this internal on a LAN between two\n\n441\n00:21:05.160 --> 00:21:08.870\nDHCP servers that are in the same\nsubnet with no firewall between them,\n\n442\n00:21:08.870 --> 00:21:11.250\nwe're not worried about whatever\nports may or may not be used,\n\n443\n00:21:11.250 --> 00:21:12.890\ncuz we're probably not blocking them.\n\n444\n00:21:12.890 --> 00:21:16.962\nBut in our examples that we talked about,\nwe may be setting this up where we\n\n445\n00:21:16.962 --> 00:21:20.984\nare doing this across multiple\nsubnets through remote communication.\n\n446\n00:21:20.984 --> 00:21:24.475\nThere may be one or more gateways and\nfirewalls involved.\n\n447\n00:21:24.475 --> 00:21:25.475\nSo we do need to take note of that.\n\n448\n00:21:25.475 --> 00:21:33.022\nWe listen on port 647, TCP port 647\nspecifically, for failover traffic.\n\n449\n00:21:33.022 --> 00:21:33.932\nSo you do wanna note that.\n\n450\n00:21:33.932 --> 00:21:37.395\nYou may have to configure that in the\nfirewall just to make sure you're gonna be\n\n451\n00:21:37.395 --> 00:21:38.782\npassing that traffic.\n\n452\n00:21:38.782 --> 00:21:42.312\nAnd when we do set this up and\nwe configure this,\n\n453\n00:21:42.312 --> 00:21:46.034\nnice thing is we set this up and\nmodify the firewalls automatically.\n\n454\n00:21:46.034 --> 00:21:48.551\nSo you don't have to worry about\nthe firewalls on the local\n\n455\n00:21:48.551 --> 00:21:50.641\nhost where DHCP is running.\n\n456\n00:21:50.641 --> 00:21:53.041\nHowever, that's not the firewall\nI would be most concerned about.\n\n457\n00:21:53.041 --> 00:21:56.131\nI'd be concerned about the corporate\nfirewall that's probably between\n\n458\n00:21:56.131 --> 00:21:57.571\nthose two remote sites.\n\n459\n00:21:57.571 --> 00:21:59.641\nThat's not gonna get\nconfigured automatically,\n\n460\n00:21:59.641 --> 00:22:01.991\nso you're gonna have to\nset up some rules there.\n\n461\n00:22:01.991 --> 00:22:05.874\nRemember, we're gonna need inbound and\noutbound for traffic, TCP Port 647.\n\n462\n00:22:05.874 --> 00:22:08.451\nSo you just wanna make\nsure you're aware of that.\n\n463\n00:22:08.451 --> 00:22:12.890\nWe do take care of the local host\nspecific to the DHCP configuration\n\n464\n00:22:12.890 --> 00:22:14.510\nas part of the failover settings.\n\n465\n00:22:14.510 --> 00:22:17.280\nWe don't say that in the wizard but\nthat is part of the configuration, but\n\n466\n00:22:17.280 --> 00:22:19.217\nit's not gonna happen on\nthe corporate firewall.\n\n467\n00:22:19.217 --> 00:22:23.752\nYour Cisco firewalls, whoever owns those\nfirewalls, whatever they are, Checkpoint,\n\n468\n00:22:23.752 --> 00:22:27.988\nwhatever it may be, you're gonna have to\ngo in, work with your firewall admin, and\n\n469\n00:22:27.988 --> 00:22:29.330\nprobably get that set up.\n\n470\n00:22:29.330 --> 00:22:31.389\nSo this is just something for\nyou to be aware of and think about.\n\n471\n00:22:31.389 --> 00:22:34.630\nSo just wanted to point that out to you,\njust make sure that you're aware of that.\n\n472\n00:22:34.630 --> 00:22:38.180\nThat's one of those little gotchas,\nbut important to note.\n\n473\n00:22:38.180 --> 00:22:41.250\nI did wanna just remind us of\na couple of things that we\n\n474\n00:22:41.250 --> 00:22:43.240\ntook a look at in some prior episodes.\n\n475\n00:22:43.240 --> 00:22:46.190\nWe did talk about the structure\nof the DHCP server,\n\n476\n00:22:46.190 --> 00:22:50.270\ntalked about where things are,\nwhat we see there.\n\n477\n00:22:50.270 --> 00:22:54.950\nJust gonna go in here to see\nWindows over to System 32,\n\n478\n00:22:54.950 --> 00:22:58.630\nand we're just down to System 32,\nI should say.\n\n479\n00:22:58.630 --> 00:23:03.510\nAnd go into our DHCP server folder.\n\n480\n00:23:03.510 --> 00:23:04.256\nBring that up right here.\n\n481\n00:23:08.595 --> 00:23:09.137\nWhere am I?\n\n482\n00:23:11.602 --> 00:23:12.184\nWhat am I missing?\n\n483\n00:23:12.184 --> 00:23:16.756\nCome on, yeah,\nI do have my machine set up right.\n\n484\n00:23:16.756 --> 00:23:17.490\nAm I on the right console?\n\n485\n00:23:18.670 --> 00:23:19.940\nSometimes I click on the wrong one.\n\n486\n00:23:19.940 --> 00:23:21.750\nI wind up on my local host machine.\n\n487\n00:23:21.750 --> 00:23:24.999\nJust make sure I'm in the right\nconsole here for just one second.\n\n488\n00:23:24.999 --> 00:23:26.339\n&gt;&gt; I told you my horror story about that.\n\n489\n00:23:26.339 --> 00:23:27.000\n&gt;&gt; That's what I did.\n\n490\n00:23:27.000 --> 00:23:28.570\nNo, no, no, I did.\nI mean, that's where I was.\n\n491\n00:23:28.570 --> 00:23:30.280\nI was in the console of the host.\n\n492\n00:23:30.280 --> 00:23:31.300\nI'm running a VM, and\n\n493\n00:23:31.300 --> 00:23:35.560\nI was in the console of the VM host,\nnot the DHCP server itself.\n\n494\n00:23:35.560 --> 00:23:36.670\nThat's what I wanted to double check.\n\n495\n00:23:36.670 --> 00:23:42.862\nSo that was why I can't find it, cuz it's\nnot installed on the VM host on Hyper-V.\n\n496\n00:23:42.862 --> 00:23:45.456\nIt is installed in the VM.\n\n497\n00:23:45.456 --> 00:23:48.650\nSo let me just go there for a second\nwhile we're doing this the right way now.\n\n498\n00:23:48.650 --> 00:23:51.730\nSo I just want to show you\nthe structure of those files.\n\n499\n00:23:51.730 --> 00:23:54.600\nMake sure you remember what's there,\nthe data bases, the logs.\n\n500\n00:23:54.600 --> 00:23:57.050\nJust remind you about it,\nit's important to know it's there.\n\n501\n00:23:57.050 --> 00:23:59.298\nYou always get a question or\ntwo about that kind of stuff.\n\n502\n00:23:59.298 --> 00:24:02.600\nSo you were going to share a horror story\nwith us, just while I was finding this?\n\n503\n00:24:02.600 --> 00:24:03.561\n&gt;&gt; Just being in a-\n&gt;&gt; I always\n\n504\n00:24:03.561 --> 00:24:05.084\nlove laughing at somebody else's expense.\n\n505\n00:24:05.084 --> 00:24:09.345\n&gt;&gt; Yeah, you know this story, so I was\njust in the wrong console versus like when\n\n506\n00:24:09.345 --> 00:24:13.018\nyou're dealing with multiple machines,\nand virtual machines,\n\n507\n00:24:13.018 --> 00:24:15.200\nit can get a little Confusing at times.\n\n508\n00:24:15.200 --> 00:24:15.770\n&gt;&gt; It can, so there we go.\n\n509\n00:24:15.770 --> 00:24:19.090\nYou see, we've got the DH I have,\nthe DHCP folder there now.\n\n510\n00:24:19.090 --> 00:24:22.271\nI just wanted to point out,\nwe do a bunch of files in here.\n\n511\n00:24:22.271 --> 00:24:25.560\nWe kinda hit them and\nhighlighted at one of the prior episodes.\n\n512\n00:24:25.560 --> 00:24:27.684\nBut there's wanna go back calm,\nadd a little more formally.\n\n513\n00:24:27.684 --> 00:24:31.790\nWe do have the DHCPMBD file\nthat will be right here.\n\n514\n00:24:31.790 --> 00:24:35.420\nThat is actually our database file,\nwe talked about the HCP database.\n\n515\n00:24:35.420 --> 00:24:36.640\nThat's our file right here.\n\n516\n00:24:36.640 --> 00:24:40.160\nWe have our temp and\nour EDB sitting down here at the bottom,\n\n517\n00:24:40.160 --> 00:24:43.500\nthat's just our scratch file\nthat's used for swap, essentially.\n\n518\n00:24:43.500 --> 00:24:46.340\nWe're actively transacting in and\nout of the database,\n\n519\n00:24:46.340 --> 00:24:51.590\nwe're using the temp edb to hold stuff,\nessentially as an extended partition for\n\n520\n00:24:51.590 --> 00:24:54.040\ncaching, and then moving things in and\nout as we write.\n\n521\n00:24:54.040 --> 00:24:58.230\nGo through that whole acid process\nto standardize our transactions,\n\n522\n00:24:58.230 --> 00:24:59.620\nensure normalization.\n\n523\n00:24:59.620 --> 00:25:04.400\nEverything is good, so\nwe're using the temp EDB for that.\n\n524\n00:25:04.400 --> 00:25:08.205\nWe have our J50.log and J50 res,\n0001, 0002, etc., JRS files.\n\n525\n00:25:08.205 --> 00:25:09.815\nYou'll see them here.\n\n526\n00:25:09.815 --> 00:25:12.905\nThese are just gonna be our logs\nof all the database transactions.\n\n527\n00:25:12.905 --> 00:25:15.805\nWe use these to replay transactions and\nrestructure, and\n\n528\n00:25:15.805 --> 00:25:18.095\nreproduce the database\nif there's a problem.\n\n529\n00:25:18.095 --> 00:25:20.440\nWe use these for\nrecovery in other words traditionally.\n\n530\n00:25:20.440 --> 00:25:23.401\nAnd we have our checkpoint file,\nour J50.chk file.\n\n531\n00:25:23.401 --> 00:25:25.400\nThat's our checkpoint file.\n\n532\n00:25:25.400 --> 00:25:27.870\nThat's essentially like a bookmarker,\nright.\n\n533\n00:25:27.870 --> 00:25:31.040\nIt just kinda walks down, or\na placeholder, and shows us what the last\n\n534\n00:25:31.040 --> 00:25:33.840\ncommitted transaction was as\nwe move through the system.\n\n535\n00:25:33.840 --> 00:25:36.040\nSo we know from a recovery\nstandpoint where we are and\n\n536\n00:25:36.040 --> 00:25:37.450\npotentially where we need to be.\n\n537\n00:25:37.450 --> 00:25:39.060\nJust wanna keep that in mind.\n\n538\n00:25:39.060 --> 00:25:40.250\nWe've talked about backing up and\n\n539\n00:25:40.250 --> 00:25:44.240\nrestoring the DHCP database in the prior\nepisodes, just keep that in mind.\n\n540\n00:25:44.240 --> 00:25:46.930\nWhat I need to mention specifically\nwas what does get backed up.\n\n541\n00:25:46.930 --> 00:25:48.891\nWe showed you how to do it,\nright-click back up,\n\n542\n00:25:48.891 --> 00:25:50.490\nshowed you where the back up folder was.\n\n543\n00:25:50.490 --> 00:25:51.490\nYou see it right up there,\n\n544\n00:25:51.490 --> 00:25:55.450\nshowed you that we create the back up,\ntalked about the value of it.\n\n545\n00:25:55.450 --> 00:25:57.142\nBut we wanna make sure we\nknow what is backed up.\n\n546\n00:25:57.142 --> 00:26:01.380\nAll the scopes, all the reservation\ninformation, all the leases.\n\n547\n00:26:01.380 --> 00:26:05.233\nAll the options including server,\nscope, reservation, and class options.\n\n548\n00:26:05.233 --> 00:26:08.050\nSo, everything we've declared\nin there will be backed up.\n\n549\n00:26:08.050 --> 00:26:09.280\nAnd all registry keys and\n\n550\n00:26:09.280 --> 00:26:13.700\nany other configuration settings around\nthe DHCP server itself are backed up.\n\n551\n00:26:13.700 --> 00:26:18.030\nIn other words, essentially,\neverything we need to reproduce DHCP in\n\n552\n00:26:18.030 --> 00:26:21.820\na nice tidy package is part of that\nbackup, which is what we would expect.\n\n553\n00:26:21.820 --> 00:26:23.560\nAnd what we wanna make sure, right?\n\n554\n00:26:23.560 --> 00:26:24.070\nWould be there.\n\n555\n00:26:24.070 --> 00:26:27.276\nSo how do we reconcile that,\nhow do we restore if needed?\n\n556\n00:26:27.276 --> 00:26:30.301\nWell, we showed you,\nyou could right click and choose restore,\n\n557\n00:26:30.301 --> 00:26:33.670\npoint to the database backup and\nbring that back on another server.\n\n558\n00:26:33.670 --> 00:26:37.220\nSo we can reproduce that if needed,\njust keep that in mind.\n\n559\n00:26:37.220 --> 00:26:41.627\nWe can reconcile the DHCP database,\nthis does a consistency check.\n\n560\n00:26:41.627 --> 00:26:45.697\nReconciliation, recovery are not the same\nthing people sometimes use those terms\n\n561\n00:26:45.697 --> 00:26:49.140\ninterchangeably, wrong to do so,\nbut they do without realizing it.\n\n562\n00:26:49.140 --> 00:26:53.140\nI'm sure reconciliation is\nthe process of integrity checking and\n\n563\n00:26:53.140 --> 00:26:55.430\nvalidating the data itself.\n\n564\n00:26:55.430 --> 00:26:58.413\nRecovery is the process of\nrestoring a database, and\n\n565\n00:26:58.413 --> 00:27:02.137\nthe associated settings because\nsomething went horribly wrong.\n\n566\n00:27:02.137 --> 00:27:04.971\nSo just wanna make sure\nwe're aware of that and\n\n567\n00:27:04.971 --> 00:27:08.905\nthat we do understand that we can\ndo a reconciliation on scopes.\n\n568\n00:27:08.905 --> 00:27:13.560\nA reconciliation on the database\nthat's just gonna check consistency.\n\n569\n00:27:13.560 --> 00:27:16.880\nRecovery will be done in case we\nblow something up during the BCVR or\n\n570\n00:27:16.880 --> 00:27:19.620\nfull blown BCVR [INAUDIBLE], most likely.\n\n571\n00:27:19.620 --> 00:27:21.100\nWhat about moving the DHCP database?\n\n572\n00:27:21.100 --> 00:27:24.250\nWe're gonna actually let Cherokee tell\nus one of her horror stories here\n\n573\n00:27:24.250 --> 00:27:25.470\nabout migrating and moving.\n\n574\n00:27:25.470 --> 00:27:30.200\nBut Cherokee I had been involved in\na kind of a show and tell I guess, right?\n\n575\n00:27:30.200 --> 00:27:31.600\n&gt;&gt; Yeah.\n&gt;&gt; Little process of how you go\n\n576\n00:27:31.600 --> 00:27:34.970\nthrough and set this up, and had a lot of\nfun doing it, so she wants to share that.\n\n577\n00:27:34.970 --> 00:27:35.920\n&gt;&gt; The process isn't bad.\n\n578\n00:27:35.920 --> 00:27:37.270\n&gt;&gt; No it's not.\n&gt;&gt; It's just getting confused\n\n579\n00:27:37.270 --> 00:27:39.200\nabout which machine you're in.\n\n580\n00:27:39.200 --> 00:27:40.464\n&gt;&gt; It is.\n&gt;&gt; [LAUGH] With an audience, yeah.\n\n581\n00:27:40.464 --> 00:27:43.929\n&gt;&gt; Right, so essentially, if we're\ngonna move, right, a DHCP database,\n\n582\n00:27:43.929 --> 00:27:46.240\nthe high-level steps\nreally not too difficult.\n\n583\n00:27:46.240 --> 00:27:49.800\nKeeping them straight in your mind,\nyeah, can be a little confusing, but\n\n584\n00:27:49.800 --> 00:27:50.940\nas you said, not hard.\n\n585\n00:27:50.940 --> 00:27:52.891\n&gt;&gt; Right.\n&gt;&gt; Just sometimes confusing if you're not\n\n586\n00:27:52.891 --> 00:27:53.789\ntracking everything.\n\n587\n00:27:53.789 --> 00:27:57.186\nThis is, by the way where naming\nconventions become so critical, right?\n\n588\n00:27:57.186 --> 00:28:00.475\nAnd being able to ensure that you\nare not doing 25 things at once,\n\n589\n00:28:00.475 --> 00:28:02.970\ngetting distracted, becomes critical.\n\n590\n00:28:02.970 --> 00:28:04.980\nBecause we get around about\nsome of these stuff sometimes.\n\n591\n00:28:04.980 --> 00:28:06.330\nWe are demoing things for you.\n\n592\n00:28:06.330 --> 00:28:08.620\nGot 10 different machines and\nwindows opened up.\n\n593\n00:28:08.620 --> 00:28:10.270\nIt could be a little confusing.\n\n594\n00:28:10.270 --> 00:28:13.510\nBut, in the real world it is a little bit\nharder to recover from mistake, right?\n\n595\n00:28:13.510 --> 00:28:16.431\nHere, we could take a break,\nthrow up a quick screen, edit it,\n\n596\n00:28:16.431 --> 00:28:19.093\nmake it look like nothing happened and\nit really was good.\n\n597\n00:28:19.093 --> 00:28:22.180\nBut the realities in the real world,\nit doesn't work that way, right?\n\n598\n00:28:22.180 --> 00:28:24.232\nAnd so\nyou do have to really pay attention.\n\n599\n00:28:24.232 --> 00:28:27.880\nYou wanna learn from others issues and\nconcerns and pain,\n\n600\n00:28:27.880 --> 00:28:30.440\nbecause you don't wanna reproduce\nthose mistakes if you can avoid them.\n\n601\n00:28:30.440 --> 00:28:31.682\nIt is really important\nto think about that.\n\n602\n00:28:31.682 --> 00:28:36.710\nSo, making sure you back up the old DHC,\nwhat we'll call the old DHC server.\n\n603\n00:28:36.710 --> 00:28:40.520\nThe origination server that we're\ngoing to move off of, right?\n\n604\n00:28:40.520 --> 00:28:41.740\nSo our source\n&gt;&gt; Source, yep.\n\n605\n00:28:41.740 --> 00:28:42.550\n&gt;&gt; For the move, right?\n\n606\n00:28:42.550 --> 00:28:43.985\nJust to be clear use normal language.\n\n607\n00:28:43.985 --> 00:28:45.347\nWe're gonna back that up and\n\n608\n00:28:45.347 --> 00:28:48.249\nwhile I'm talking I'm just\ngonna extend my lab timer here.\n\n609\n00:28:48.249 --> 00:28:51.042\nI don't wanna lose all the machines\nwe just spent three hours\n\n610\n00:28:51.042 --> 00:28:52.000\nconfiguring and-\n&gt;&gt; [LAUGH]\n\n611\n00:28:52.000 --> 00:28:54.300\n&gt;&gt; Setting up for a 20 minute demo.\n\n612\n00:28:54.300 --> 00:28:57.950\nSo wanna make sure we back up the source,\nthe DHCP server.\n\n613\n00:28:57.950 --> 00:29:00.860\nWe've talked about what would be in that\nbackup, all the settings, everything.\n\n614\n00:29:00.860 --> 00:29:01.810\nSo we'd run that back up.\n\n615\n00:29:01.810 --> 00:29:04.810\nWe would have essentially a folder\nlike this when we're done.\n\n616\n00:29:05.880 --> 00:29:08.110\nStop the old DHCP server service.\n\n617\n00:29:08.110 --> 00:29:11.060\nSo on the source,\nstop that server service.\n\n618\n00:29:11.060 --> 00:29:14.080\nCopy the DHCP database\nover to the new server.\n\n619\n00:29:14.080 --> 00:29:15.460\nThat would be the target.\n\n620\n00:29:15.460 --> 00:29:17.750\nAnd obviously install the server\nrole there, if needed.\n\n621\n00:29:17.750 --> 00:29:21.165\nNow, people don't realize, you don't just\ngo grab this backup and take it out.\n\n622\n00:29:21.165 --> 00:29:23.340\nYou gotta stop the service\nin order to work with it.\n\n623\n00:29:23.340 --> 00:29:26.349\nSo you would have to take DHCP down for\na small period of time.\n\n624\n00:29:26.349 --> 00:29:29.493\nNow that's not really very disruptive,\nbecause normally you're gonna do that for\n\n625\n00:29:29.493 --> 00:29:30.254\nonly a few minutes.\n\n626\n00:29:30.254 --> 00:29:33.009\nAnd you're probably not gonna have\na lot of clients trying to lease,\n\n627\n00:29:33.009 --> 00:29:33.920\nat any one given time.\n\n628\n00:29:33.920 --> 00:29:35.950\nAnd even if they do,\nif you're smart about it,\n\n629\n00:29:35.950 --> 00:29:38.440\nyou have an alternate DHCP\nservice set up somewhere.\n\n630\n00:29:38.440 --> 00:29:41.270\nThey'll probably get an address with\nno trouble, and it won't be a problem.\n\n631\n00:29:41.270 --> 00:29:42.021\nSo, just understand that.\n\n632\n00:29:42.021 --> 00:29:43.944\nMaybe you'll target\na maintenance window or\n\n633\n00:29:43.944 --> 00:29:47.895\na service window where there's minimal\ndisruption or opportunity for disruption.\n\n634\n00:29:47.895 --> 00:29:50.315\nLate at night or first thing in\nthe morning, whatever it may be.\n\n635\n00:29:50.315 --> 00:29:53.805\nYou'll restore the database\nfrom the source onto the target\n\n636\n00:29:53.805 --> 00:29:55.235\nnew system you're standing up.\n\n637\n00:29:55.235 --> 00:29:57.495\nStart the DHCP service up over there.\n\n638\n00:29:57.495 --> 00:29:59.165\nAnd you've moved it with no trouble.\n\n639\n00:29:59.165 --> 00:30:01.442\nNow moving and migrating, right?\n\n640\n00:30:01.442 --> 00:30:04.430\nWe talk about this,\nwe can also use command linetilities,\n\n641\n00:30:04.430 --> 00:30:07.926\nutilities I should say,\nmeaning PowerShell for instance, right?\n\n642\n00:30:07.926 --> 00:30:12.150\nIt could be used to export that data\nfrom one import to the other, so\n\n643\n00:30:12.150 --> 00:30:13.915\nwe can do it there if we need to.\n\n644\n00:30:13.915 --> 00:30:16.965\nAnd if we wanna do that we can go\nahead and just use power PowerShow.\n\n645\n00:30:16.965 --> 00:30:20.490\nWe've talked about DHCP commandlets,\nand you could certainly go through that\n\n646\n00:30:20.490 --> 00:30:24.237\nthought process, but export DHCP server\nwould be the commandlet that we use there.\n\n647\n00:30:24.237 --> 00:30:28.332\nObviously targeting a computer name,\nspecify the leases parameter.\n\n648\n00:30:28.332 --> 00:30:29.406\nSo we get the leases.\n\n649\n00:30:29.406 --> 00:30:32.470\nIf we specify a file where\nwe wanna store all that.\n\n650\n00:30:32.470 --> 00:30:35.838\nAn XML file because it will be an XML\nformat that would allow us to export\n\n651\n00:30:35.838 --> 00:30:36.992\neverything.\n\n652\n00:30:36.992 --> 00:30:41.851\nAnd then we can also do this with Net SH,\nand we could do it through Net SH as well.\n\n653\n00:30:41.851 --> 00:30:43.871\nJust looking at my notes,\nwe could do it either way.\n\n654\n00:30:43.871 --> 00:30:46.537\nSo remember we do have PowerShell,\nand we do have and\n\n655\n00:30:46.537 --> 00:30:50.973\nobviously PowerShell the alternate side of\nthat would be import DHCP server, right?\n\n656\n00:30:50.973 --> 00:30:53.771\nFor the cmdlet on the other side,\nso just be aware of that.\n\n657\n00:30:53.771 --> 00:30:58.011\nBut we could use Net SH or PowerShell to\ndo our migration and or export and import.\n\n658\n00:30:58.011 --> 00:31:01.140\nSo it is important just to think\nabout the fact we do have options.\n\n659\n00:31:01.140 --> 00:31:04.190\nWe try to stress to you, and we have\nstressed to you in many of these shows,\n\n660\n00:31:04.190 --> 00:31:06.870\nthat certainly the console\nmakes a lot of sense.\n\n661\n00:31:06.870 --> 00:31:08.290\nAnd it's where we're all comfortable.\n\n662\n00:31:08.290 --> 00:31:10.350\nIt's good to know we can do things there.\n\n663\n00:31:10.350 --> 00:31:13.550\nBut you know, there is a brave new world\nexhibiting and coming out more and\n\n664\n00:31:13.550 --> 00:31:14.520\nmore in these command lines.\n\n665\n00:31:14.520 --> 00:31:16.460\nAnd it's important for\nyou to be aware of the tools and\n\n666\n00:31:16.460 --> 00:31:19.150\nthe options that we can use there\nbecause you never know, all right?\n\n667\n00:31:19.150 --> 00:31:22.610\nYou might actually be stuck without\nthe ability to manage your console.\n\n668\n00:31:22.610 --> 00:31:26.138\nWe talked about things like server core\nnano being used to host some of these\n\n669\n00:31:26.138 --> 00:31:28.391\nservices and\nhere is no console there, right?\n\n670\n00:31:28.391 --> 00:31:31.200\nI mean, all you have is the shell\nof one kind or another.\n\n671\n00:31:31.200 --> 00:31:35.090\nYou could in theory install GUI\nenvironment on core manage through it and\n\n672\n00:31:35.090 --> 00:31:35.910\nthen take it down again.\n\n673\n00:31:35.910 --> 00:31:38.522\nThere are options to do these things,\nbut it's a lot of time and trouble.\n\n674\n00:31:38.522 --> 00:31:41.215\nWhy not just use a remote Shell and\nbe able to do them.\n\n675\n00:31:41.215 --> 00:31:44.390\nPowerShell will connect remotely to\nthese instances with no trouble,\n\n676\n00:31:44.390 --> 00:31:47.200\nyou just have to know how to\nconfig remotely in PowerShell.\n\n677\n00:31:47.200 --> 00:31:48.350\nIt's not very difficult to do.\n\n678\n00:31:48.350 --> 00:31:51.640\nAnd then you're able to use PowerShell to\nmanage those instances if you want to.\n\n679\n00:31:51.640 --> 00:31:55.850\nSo keep in mind, use of alternate tool\nsets will be a very important skill set\n\n680\n00:31:55.850 --> 00:31:57.570\nfor you as an IT administrator.\n\n681\n00:31:57.570 --> 00:32:01.770\n&gt;&gt; All different types of migrations,\nTechnet has really great documentation.\n\n682\n00:32:01.770 --> 00:32:04.690\n&gt;&gt; They do?\n&gt;&gt; I mean, at the time when I was demoing\n\n683\n00:32:04.690 --> 00:32:09.560\nthe DHCP migration, some of\nthe syntax wasn't available for 2016,\n\n684\n00:32:09.560 --> 00:32:14.660\nbut I'm sure it is now,\nif you go out there.\n\n685\n00:32:14.660 --> 00:32:16.670\n&gt;&gt; Yeah, I would think now, I mean,\nthe products been out long enough.\n\n686\n00:32:16.670 --> 00:32:18.980\nI'm sure all that stuff's\nupdated with no trouble.\n\n687\n00:32:18.980 --> 00:32:19.547\nAll right, very good.\n\n688\n00:32:19.547 --> 00:32:21.644\nSo, there we go.\n\n689\n00:32:21.644 --> 00:32:23.357\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n690\n00:32:23.357 --> 00:32:25.710\nwe are done with this particular episode.\n\n691\n00:32:25.710 --> 00:32:27.630\nBut remember, there's one more\nthing we haven't done yet.\n\n692\n00:32:27.630 --> 00:32:28.340\nWe're gonna come back and\n\n693\n00:32:28.340 --> 00:32:33.190\nshow you on how to deviate CPv6,\ncuz v4 wasn't good enough.\n\n694\n00:32:33.190 --> 00:32:34.400\n&gt;&gt; All right, sounds like a plan, Adam.\n\n695\n00:32:34.400 --> 00:32:37.123\nThank you for joining us and\nthank you for joining us as well.\n\n696\n00:32:37.123 --> 00:32:39.190\nBut for this show,\nwe'll go ahead and sign out.\n\n697\n00:32:39.190 --> 00:32:41.060\nRemember, I'm your host, Cherokee Boose.\n\n698\n00:32:41.060 --> 00:32:41.860\n&gt;&gt; And I'm Adam Gordon.\n\n699\n00:32:41.860 --> 00:32:44.814\n&gt;&gt; See you next time here at ITProTV.\n\n700\n00:32:44.814 --> 00:32:50.599\n[MUSIC]\n\n701\n00:32:50.599 --> 00:32:53.839\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217015693"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing DHCP. Adam performs a demonstration on how to implement DHCPv6. Tune in now for the tutorial!",
          "length": "533",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-5-implementing_dhcp-ipv6_scopes-050917-PGM.00_08_39_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-5-implementing_dhcp-ipv6_scopes-050917-PGM.00_08_39_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-2-1-5-implementing_dhcp-ipv6_scopes-050917-PGM.00_08_39_27.Still001-sm.jpg",
          "title": "Implementing DHCP IPv6 Scopes",
          "transcript": "WEBVTT\n\n1\n00:00:00.250 --> 00:00:01.182\nWelcome to ITProTV.\n\n2\n00:00:01.182 --> 00:00:02.468\nI'm your host Don Pezet.\n\n3\n00:00:02.468 --> 00:00:06.197\n[CROSSTALK]\n\n4\n00:00:06.197 --> 00:00:08.089\n&gt;&gt; [MUSIC]\n\n5\n00:00:08.089 --> 00:00:11.624\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.624 --> 00:00:15.520\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 series.\n\n7\n00:00:15.520 --> 00:00:17.650\nI'm your show host Cherokee Boose.\n\n8\n00:00:17.650 --> 00:00:21.450\nSo we've been talking about DHCP, but\nin this episode, we're really going to be\n\n9\n00:00:21.450 --> 00:00:26.100\ntaking a look at how to implement\nDHCP version six server site.\n\n10\n00:00:26.100 --> 00:00:27.890\nWith us today, we have Adam Gordon.\n\n11\n00:00:27.890 --> 00:00:29.740\nThank you for joining us today, Adam.\n\n12\n00:00:29.740 --> 00:00:30.240\n&gt;&gt; Thank you.\n\n13\n00:00:30.240 --> 00:00:34.560\nAlways a pleasure to be back and talking\nabout topics of interest for all of you.\n\n14\n00:00:34.560 --> 00:00:36.840\nWe're going to drill in and do a little,\n\n15\n00:00:36.840 --> 00:00:41.690\njust a quick discussion on how to\nimplement an IPV6 scope in DHCP.\n\n16\n00:00:41.690 --> 00:00:45.030\nI'll call this DHCP V6 cuz that's\njust how it's referred to in\n\n17\n00:00:45.030 --> 00:00:46.840\nthe service site documentation.\n\n18\n00:00:46.840 --> 00:00:51.290\nBut really no different than what we've\nbefore in terms of managing DHCP.\n\n19\n00:00:51.290 --> 00:00:53.790\nWe do have, if you take a look\non screen we'll see this.\n\n20\n00:00:53.790 --> 00:00:56.310\nWe do have just our standard console,\nand you could see it there.\n\n21\n00:00:56.310 --> 00:00:59.580\nSame machine we've been interacting\nwith and demoing in and out of, but\n\n22\n00:00:59.580 --> 00:01:02.510\nwe're just gonna use the IPv6 area now.\n\n23\n00:01:02.510 --> 00:01:03.640\nWe're gonna open this up.\n\n24\n00:01:03.640 --> 00:01:07.630\nAs you can see here, not a lot going\non except for server options initially.\n\n25\n00:01:07.630 --> 00:01:10.700\nWe're gonna go ahead and create ourselves\na scope, so we're gonna right click here.\n\n26\n00:01:10.700 --> 00:01:12.360\nWe'll go ahead, New Scope.\n\n27\n00:01:12.360 --> 00:01:17.580\nOur New Scope Wizard is gonna look similar\nto our IPv4 scope, we're gonna be asked\n\n28\n00:01:17.580 --> 00:01:22.380\nfor different information in the sense\nthat the format of our IP addressing for\n\n29\n00:01:22.380 --> 00:01:25.150\nthe scope range, for the address pool,\nwill now be different.\n\n30\n00:01:25.150 --> 00:01:26.920\nWe'll be entering IPv6 addresses.\n\n31\n00:01:26.920 --> 00:01:30.610\n128 bit as opposed to 32 bit addresses.\n\n32\n00:01:30.610 --> 00:01:35.310\nSo we're gonna be entering\nthose in our four block or\n\n33\n00:01:35.310 --> 00:01:40.710\nfour item, four individual items\nletters numbers our alphanumeric items.\n\n34\n00:01:40.710 --> 00:01:42.864\nWhat am I talking about, not items.\n\n35\n00:01:42.864 --> 00:01:44.330\n&gt;&gt; [LAUGH]\n&gt;&gt; Struggling with the word here.\n\n36\n00:01:44.330 --> 00:01:47.920\nFour individual entries we're gonna put\nper block is what I'm trying to say.\n\n37\n00:01:47.920 --> 00:01:51.148\nFour characters for\ninstance was the word I was looking for.\n\n38\n00:01:51.148 --> 00:01:52.470\nThings like FDA8 for\n\n39\n00:01:52.470 --> 00:01:57.035\ninstance would be one block separated by\na semicolon as opposed to an individual\n\n40\n00:01:57.035 --> 00:02:01.138\ndot-expo notation with only numbers\nwhich is how we would see IPv4.\n\n41\n00:02:01.138 --> 00:02:04.980\nSo alphanumeric and\nseparated by colons extended out for\n\n42\n00:02:04.980 --> 00:02:08.005\n128 bits as opposed to 32 bits and-\n&gt;&gt; Hexadecimal.\n\n43\n00:02:08.005 --> 00:02:10.168\n&gt;&gt; And\nwe'll see that in that format absolutely.\n\n44\n00:02:10.168 --> 00:02:11.457\n&gt;&gt; 16-based numbering system.\n\n45\n00:02:11.457 --> 00:02:13.870\n&gt;&gt; So we're gonna give that a name.\n\n46\n00:02:13.870 --> 00:02:17.290\nCall this to start IPv6 scope for\n\n47\n00:02:18.570 --> 00:02:22.190\npurposes of our discussion here we can\nname it anything we'd like of course.\n\n48\n00:02:22.190 --> 00:02:27.220\nAnd we start with the prefix here and this\nis where we get into our IPv6 information.\n\n49\n00:02:27.220 --> 00:02:30.196\nLet me enter in the prefix\nthat we're gonna use,\n\n50\n00:02:30.196 --> 00:02:35.080\nFDA8: we'll do 6c 53,\n\n51\n00:02:35.080 --> 00:02:39.890\nAB 09 and DE 63, and\n\n52\n00:02:43.260 --> 00:02:46.250\nthen we'll put two\ncolons there at the end.\n\n53\n00:02:46.250 --> 00:02:50.180\nNotice we do have our slash\n64 at the end of that,\n\n54\n00:02:50.180 --> 00:02:54.860\nit's gonna indicate the first half of our\naddress string is gonna be our prefix.\n\n55\n00:02:54.860 --> 00:02:58.000\nThe other half, whatever will come later\nthat we'll add in here in a minute,\n\n56\n00:02:58.000 --> 00:03:02.510\nwill be what we're gonna use for\nthe rest of our information.\n\n57\n00:03:02.510 --> 00:03:05.090\nWe're not gonna bother with our\npreference value right now.\n\n58\n00:03:05.090 --> 00:03:06.680\nWe're gonna leave that unset.\n\n59\n00:03:06.680 --> 00:03:08.540\nBut we are gonna enter in our prefix so\n\n60\n00:03:08.540 --> 00:03:11.060\nwe'll put that in there and\nthen we have to put our starting and\n\n61\n00:03:11.060 --> 00:03:15.017\nend IP address in and notice it's\nalready populated the prefix for us.\n\n62\n00:03:15.017 --> 00:03:18.810\nFirst half of the address block in other\nwords as been put in based on what we put\n\n63\n00:03:18.810 --> 00:03:21.560\nin our prior screen, so\nwe're gonna have that available to us so\n\n64\n00:03:21.560 --> 00:03:27.350\nlet's go ahead we'll throw in our\nblock here for our exclusions.\n\n65\n00:03:27.350 --> 00:03:31.020\nThis is gonna be any set of address\nthat we're gonna want to exclude out for\n\n66\n00:03:31.020 --> 00:03:33.680\nthe given scopes, so\nwe're going to go ahead and put these in.\n\n67\n00:03:33.680 --> 00:03:36.670\nWe don't normally at least in\nthe IPv4 walk-throughs we did.\n\n68\n00:03:36.670 --> 00:03:38.630\nWe didn't both with excluded addresses but\n\n69\n00:03:38.630 --> 00:03:42.250\nwe'll exclude some here just to show you\nwhat we're doing and how we would do that.\n\n70\n00:03:42.250 --> 00:03:46.411\nSo let me type this in.\nWe're going to need three blocks of all\n\n71\n00:03:46.411 --> 00:03:47.204\n0's.\n\n72\n00:03:47.204 --> 00:03:48.475\n1, 2, 3, 4, 1, 2, 3, 4.\n\n73\n00:03:48.475 --> 00:03:51.330\nOne, two, three, four,\ngood thing I can count.\n\n74\n00:03:51.330 --> 00:03:55.340\nAnd then zero, zero, one, zero will be our\nstarting, we're just gonna cheat a little\n\n75\n00:03:55.340 --> 00:03:59.500\nbit here, cuz I'm not gonna re-type\nall of that, we're gonna copy that.\n\n76\n00:03:59.500 --> 00:04:05.060\nAnd we're gonna put that there and\nwe're just gonna change that to 00ff.\n\n77\n00:04:05.060 --> 00:04:05.980\nAll right.\n\n78\n00:04:05.980 --> 00:04:07.310\nSo we're gonna do that and\n\n79\n00:04:07.310 --> 00:04:10.630\nthen we're gonna click add to make sure\nwe add the exclusion range in there.\n\n80\n00:04:10.630 --> 00:04:12.670\nOtherwise it doesn't get programmed in.\n\n81\n00:04:12.670 --> 00:04:15.850\nSo we'll go ahead and we'll do that.\n\n82\n00:04:15.850 --> 00:04:20.020\nAnd then once we have that,\nwe'll go ahead and we'll click next.\n\n83\n00:04:20.020 --> 00:04:24.430\nWe have our scope lease, how long to\nwe want this to be available for,\n\n84\n00:04:24.430 --> 00:04:27.060\nwe've got our eight days,\nit's kinda hard to see there, but\n\n85\n00:04:27.060 --> 00:04:29.950\nour eight days on our preferred\nlifetime right there.\n\n86\n00:04:29.950 --> 00:04:34.600\nFor non-temporary, and then our valid,\nlifetime 12 days total.\n\n87\n00:04:34.600 --> 00:04:37.430\nSo we have those, click next here.\n\n88\n00:04:37.430 --> 00:04:38.890\nAre we gonna activate the scope now?\n\n89\n00:04:38.890 --> 00:04:41.600\nYes or no?\nYou'll see we get basically the same\n\n90\n00:04:41.600 --> 00:04:44.620\nkinds of items that we have to provide for\nhere.\n\n91\n00:04:44.620 --> 00:04:45.740\nWe're gonna activate the scope.\n\n92\n00:04:45.740 --> 00:04:50.520\nWe're gonna exclude addresses or providing\na generic time value for our leases,\n\n93\n00:04:50.520 --> 00:04:51.430\nabsolutely.\n\n94\n00:04:51.430 --> 00:04:53.920\nBut notice no scope option options here.\n\n95\n00:04:53.920 --> 00:04:56.780\nEven the most basic options\nwill be dealt with outside.\n\n96\n00:04:56.780 --> 00:04:58.820\nAnd you'll see that we have\nour server options there and\n\n97\n00:04:58.820 --> 00:05:00.340\nthe scope will options will come up.\n\n98\n00:05:00.340 --> 00:05:02.080\nSo we're gonna do those\noutside of the wizard.\n\n99\n00:05:02.080 --> 00:05:05.550\nSo slightly different approach\nbased on what we see on IPv4.\n\n100\n00:05:05.550 --> 00:05:06.680\nClick finish here.\n\n101\n00:05:06.680 --> 00:05:07.990\nLet's get that stood up.\n\n102\n00:05:07.990 --> 00:05:10.080\nYou'll see then we do have our scope.\n\n103\n00:05:11.200 --> 00:05:13.870\nWe do have any leases that maybe given out\n\n104\n00:05:13.870 --> 00:05:16.210\nto do of our exclusions\nif we're gonna do that.\n\n105\n00:05:16.210 --> 00:05:19.180\nThey do have the ability to do\nreservations, just like we did in IPv4.\n\n106\n00:05:19.180 --> 00:05:22.320\nWe do have scope options,\nand we can set those up, but\n\n107\n00:05:22.320 --> 00:05:25.470\nwe set them up outside of\nthe wizard of post to integrate it\n\n108\n00:05:25.470 --> 00:05:29.470\nas being part of the wizard, so it's just\na slightly different approach from IPv4.\n\n109\n00:05:29.470 --> 00:05:32.370\nSo we can right click here,\nconfigure options.\n\n110\n00:05:32.370 --> 00:05:35.150\nWe do have our scope options here.\n\n111\n00:05:35.150 --> 00:05:37.160\nBut they are going to be specific to IPv6,\n\n112\n00:05:37.160 --> 00:05:40.330\nso the list would look different\nthan the list for IPv4.\n\n113\n00:05:40.330 --> 00:05:44.050\nYou'll notice we have things like\nour SIP server domain name list,\n\n114\n00:05:44.050 --> 00:05:45.560\nSIP server specific to IPv6.\n\n115\n00:05:46.570 --> 00:05:50.090\nWe have our recursive name server for\nIPv6.\n\n116\n00:05:50.090 --> 00:05:51.290\nOur domain search list.\n\n117\n00:05:51.290 --> 00:05:53.460\nThere's different options here but\n\n118\n00:05:53.460 --> 00:05:58.150\neverything is gonna be linked to\ntypically an IPv6 infrastructure.\n\n119\n00:05:58.150 --> 00:06:05.670\nNotice things like our DNS server,\nour default gateway which is our router.\n\n120\n00:06:05.670 --> 00:06:07.560\nThings like that traditionally wins.\n\n121\n00:06:07.560 --> 00:06:09.040\nWe're not seeing those for IPv6 here.\n\n122\n00:06:09.040 --> 00:06:12.500\nWe're seeing IPv6 specific scope options.\n\n123\n00:06:12.500 --> 00:06:14.180\nSo just be aware of that.\n\n124\n00:06:14.180 --> 00:06:18.310\nWe do have our NIST domain list for\nnetwork information service here.\n\n125\n00:06:18.310 --> 00:06:20.520\nWe have information refresh time.\n\n126\n00:06:20.520 --> 00:06:25.480\nWe do have our DNS recursive name server,\nit's not that we can't use DNS but\n\n127\n00:06:25.480 --> 00:06:29.750\nwe're using it as a separate option with\na different name in order to find it here.\n\n128\n00:06:29.750 --> 00:06:30.810\nSo just be aware of that.\n\n129\n00:06:30.810 --> 00:06:33.910\nBut we do have them here, and\nwe would program in whichever one we want\n\n130\n00:06:33.910 --> 00:06:37.570\ndepending on what we choose, we would then\nbe able to add those in if necessary.\n\n131\n00:06:37.570 --> 00:06:40.770\nObviously remember you have to make\na check selection there to activate\n\n132\n00:06:40.770 --> 00:06:42.870\nthe scope option, whatever it may be.\n\n133\n00:06:42.870 --> 00:06:44.870\nOnce we are done we will\nprogram those in and\n\n134\n00:06:44.870 --> 00:06:47.100\nthey will become part\nof our scope options.\n\n135\n00:06:47.100 --> 00:06:49.460\nRemember we do have\nserver options as well.\n\n136\n00:06:51.020 --> 00:06:55.648\nThe difference here, which we talked about\nthis in the IPv4 scope conversations about\n\n137\n00:06:55.648 --> 00:06:58.230\ndifferent options on how they get applied.\n\n138\n00:06:58.230 --> 00:07:01.400\nRemember we have scope options\nthat are specific to the scope,\n\n139\n00:07:01.400 --> 00:07:04.700\nwe have server options that operate for\nall scopes on the server.\n\n140\n00:07:04.700 --> 00:07:07.090\nThey're kind of a broad\numbrella that cover everything.\n\n141\n00:07:07.090 --> 00:07:11.210\nAnd we have those same options here for\nboth server options and scope options.\n\n142\n00:07:11.210 --> 00:07:14.680\nSo we could set up server options\nthat would incorporate themselves\n\n143\n00:07:14.680 --> 00:07:19.475\nat the IPv4 six level for the server and\nthen any scope that comes underneath that\n\n144\n00:07:19.475 --> 00:07:24.055\nwould have those options applied as\nthe starting point for the server and\n\n145\n00:07:24.055 --> 00:07:27.145\nthen the scope options go on top and\nthe order for us is going down.\n\n146\n00:07:27.145 --> 00:07:30.520\nRemember the last set of options applied\nall the way through the chain to the list\n\n147\n00:07:30.520 --> 00:07:32.620\nare the ones that ultimately\nget applied to the client.\n\n148\n00:07:32.620 --> 00:07:36.640\nSo if we set server options and\nscope options and the conflict,\n\n149\n00:07:36.640 --> 00:07:40.350\nthe scope option would take precedence\nbecause it gets applied second in order,\n\n150\n00:07:40.350 --> 00:07:42.410\nand it would override\nessentially the server option.\n\n151\n00:07:42.410 --> 00:07:46.610\nSo same idea that we see with IPv4 in\nthat respect, no difference there.\n\n152\n00:07:46.610 --> 00:07:48.470\nThey work the same ways\nJust keep that in mind.\n\n153\n00:07:48.470 --> 00:07:51.940\nAll right, so that's how we\nwould stand up an IPv6 scope.\n\n154\n00:07:51.940 --> 00:07:54.850\nWe would obviously use\nthis to then provide\n\n155\n00:07:54.850 --> 00:07:57.400\nIP addresses out to a client using IPv6.\n\n156\n00:07:57.400 --> 00:07:59.840\nSame rules would apply on the other side.\n\n157\n00:07:59.840 --> 00:08:01.210\nClient would be a DHCP client.\n\n158\n00:08:01.210 --> 00:08:05.980\nIt would pull an IPv port and or\nan IPv6 address Through DHCP just based on\n\n159\n00:08:05.980 --> 00:08:08.630\nhow it's configured, set up, and\nwhat our scope options are, or\n\n160\n00:08:08.630 --> 00:08:11.810\nrather our scopes are, and\nassuming that we have a scope set up, and\n\n161\n00:08:11.810 --> 00:08:15.030\nit needs IPv6 and could then pull an\naddress if needed, and we would then see,\n\n162\n00:08:15.030 --> 00:08:18.650\nof course, information on that\nby coming here and looking at\n\n163\n00:08:18.650 --> 00:08:23.050\nthe address leases that have actually been\ntaken or removed from the pool overall.\n\n164\n00:08:23.050 --> 00:08:25.220\nSo we're able to see all\nthose here once we're done.\n\n165\n00:08:25.220 --> 00:08:27.200\n&gt;&gt; Well not too bad, Adam.\n\n166\n00:08:27.200 --> 00:08:28.950\nJust a simple little walk through.\n\n167\n00:08:28.950 --> 00:08:32.150\nI appreciate you joining us for\nthat, and I appreciate you for\n\n168\n00:08:32.150 --> 00:08:34.670\njoining us as well but for this show\nwe're going to go ahead and sign out.\n\n169\n00:08:34.670 --> 00:08:37.180\nRemember, I'm your host Cherokee Boose.\n\n170\n00:08:37.180 --> 00:08:37.820\n&gt;&gt; I'm Adam Gordon.\n\n171\n00:08:37.820 --> 00:08:40.761\n&gt;&gt; See you next time at ITPRO TV.\n\n172\n00:08:40.761 --> 00:08:46.669\n[MUSIC]\n\n173\n00:08:46.669 --> 00:08:50.142\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217016040"
        },
        {
          "description": null,
          "length": "1771",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-1-install_and_configure_dhcp-112216-PGM.00_29_17_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-1-install_and_configure_dhcp-112216-PGM.00_29_17_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-1-install_and_configure_dhcp-112216-PGM.00_29_17_28.Still001-sm.jpg",
          "title": "Install and Configure DHCP",
          "transcript": "WEBVTT\n\n1\n00:00:00.300 --> 00:00:01.170\nWelcome to ITProTV.\n\n2\n00:00:01.170 --> 00:00:04.895\nI'm your host- [INAUDIBLE]\n\n3\n00:00:04.895 --> 00:00:10.126\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:10.126 --> 00:00:12.580\n&gt;&gt; Welcome back.\n\n5\n00:00:12.580 --> 00:00:15.120\nBack to another exciting\nepisode here at ITProTV.\n\n6\n00:00:15.120 --> 00:00:16.110\nI'm your host, Wes Bryan.\n\n7\n00:00:16.110 --> 00:00:17.280\nAnd in today's episode,\n\n8\n00:00:17.280 --> 00:00:20.240\nwe're coming back at you with more of\nthat networking with Windows Server 2016.\n\n9\n00:00:20.240 --> 00:00:23.070\nAnd we're going to be\nlooking at a service that is\n\n10\n00:00:23.070 --> 00:00:25.380\nreally important when it comes\nto connecting to networks.\n\n11\n00:00:25.380 --> 00:00:26.980\nJust about any network you can think of.\n\n12\n00:00:26.980 --> 00:00:28.280\nAnd joining us in the studios for\n\n13\n00:00:28.280 --> 00:00:30.520\nthis very topic is none other than Mr.\nMike Roderick.\n\n14\n00:00:30.520 --> 00:00:31.410\nMike, how are you doing, sir?\n\n15\n00:00:31.410 --> 00:00:32.080\n&gt;&gt; Doing great.\n\n16\n00:00:32.080 --> 00:00:32.960\nGlad to be here.\n\n17\n00:00:32.960 --> 00:00:39.560\nAnd yeah, we're getting DHCP today or-\nDynamic host configuration protocol.\n\n18\n00:00:39.560 --> 00:00:42.620\nIt's another one of those big-time\nservices that we use in our enterprise\n\n19\n00:00:42.620 --> 00:00:44.350\nenvironments and our Windows environments.\n\n20\n00:00:44.350 --> 00:00:46.770\nAnd we've already gone through DNS,\n\n21\n00:00:46.770 --> 00:00:49.750\nwhich is a very important service that\nallows just about everything to work.\n\n22\n00:00:50.820 --> 00:00:55.840\nDHCP is another one that we rely on\nin most enterprises, at least for\n\n23\n00:00:55.840 --> 00:00:56.870\ncertain nodes, right?\n\n24\n00:00:56.870 --> 00:00:58.800\nSo let's talk about what it is.\n\n25\n00:00:58.800 --> 00:01:01.170\nAnd at this point we really should\nbe familiar with what it is.\n\n26\n00:01:01.170 --> 00:01:02.690\nSo we'll do a quick rundown.\n\n27\n00:01:02.690 --> 00:01:05.910\nBut then we're going to get into how\nwe get it installed in Server 2016 and\n\n28\n00:01:05.910 --> 00:01:08.910\nstart looking at some\nof the configuration.\n\n29\n00:01:08.910 --> 00:01:11.490\nAnd then as we progress through DHCP,\n\n30\n00:01:11.490 --> 00:01:15.510\nwe'll take a look at some of the advanced\nconfiguration That we can do.\n\n31\n00:01:15.510 --> 00:01:18.270\nThey now have policies\nthat we can put in place.\n\n32\n00:01:18.270 --> 00:01:19.640\nWe can do redundancy.\n\n33\n00:01:19.640 --> 00:01:24.360\nWe can provide some sort of,\nwhat's the word I'm looking for?\n\n34\n00:01:24.360 --> 00:01:29.240\nFull tolerance with our DHCP servers\nwithout building clusters and\n\n35\n00:01:29.240 --> 00:01:29.900\nall of that stuff.\n\n36\n00:01:29.900 --> 00:01:32.410\nSo really fantastic what\nthey've done to DHCP.\n\n37\n00:01:32.410 --> 00:01:35.910\nIt's been around forever and a day.\n\n38\n00:01:35.910 --> 00:01:39.020\nYou know, I was actually reading\na really cool article the other day\n\n39\n00:01:39.020 --> 00:01:41.080\ntalking about migrating.\n\n40\n00:01:41.080 --> 00:01:44.460\nAnd some of the pitfalls that\nyou run into in the real world.\n\n41\n00:01:44.460 --> 00:01:45.340\nAnd it was interesting.\n\n42\n00:01:45.340 --> 00:01:48.480\nBecause he was saying that the reason\nwe run into some of these pitfalls\n\n43\n00:01:48.480 --> 00:01:50.230\nis because you go to these enterprises.\n\n44\n00:01:50.230 --> 00:01:53.890\nAnd their DHCP servers\nare still running Server 2003.\n\n45\n00:01:53.890 --> 00:01:58.380\nOr maybe even Server 2000 because\nDHCP has just been pretty stable.\n\n46\n00:01:58.380 --> 00:02:02.330\nAnd it runs, you set it and\nforget it and stuff.\n\n47\n00:02:02.330 --> 00:02:06.720\nWhen they finally decide that machine\nis just no longer able to keep up.\n\n48\n00:02:06.720 --> 00:02:10.225\nNow, they've got to worry about migrating\nfrom 2000 to 2016 which is a challenge.\n\n49\n00:02:10.225 --> 00:02:12.015\nSo pretty interesting.\n\n50\n00:02:12.015 --> 00:02:14.725\n&gt;&gt; Yeah, I wouldn't want to have to be\na part of any bridge head migration\n\n51\n00:02:14.725 --> 00:02:18.385\nlike that when you're like five editions\nbehind in your operating systems.\n\n52\n00:02:18.385 --> 00:02:19.265\nNow Mike, I know that.\n\n53\n00:02:19.265 --> 00:02:21.607\nBut time to get to server administration.\n\n54\n00:02:21.607 --> 00:02:26.097\nThey should probably have a good running\nunderstanding of what DHCP really is.\n\n55\n00:02:26.097 --> 00:02:29.237\nBut did you want to maybe just talk\nabout real briefly what it does?\n\n56\n00:02:29.237 --> 00:02:30.357\n&gt;&gt; Absolutely.\n\n57\n00:02:30.357 --> 00:02:34.367\nThe idea is that when our\nnodes are devices that connect\n\n58\n00:02:34.367 --> 00:02:37.360\nto our ethernet based networks,\nour TCP/IP networks.\n\n59\n00:02:37.360 --> 00:02:40.070\nThey need certain TCP/IP configuration,\nright?\n\n60\n00:02:40.070 --> 00:02:41.760\nWe have to have an IP address.\n\n61\n00:02:41.760 --> 00:02:43.950\nThe IP address has to be unique, [COUGH].\n\n62\n00:02:43.950 --> 00:02:46.680\nHas to be valid on that network\nthat we're trying to talk to.\n\n63\n00:02:46.680 --> 00:02:51.050\nWhich means we need a subnet masks that we\ncan divide that IP address up into node\n\n64\n00:02:51.050 --> 00:02:53.430\nand a network portion.\n\n65\n00:02:53.430 --> 00:02:57.240\nWe'd also love a default gateway,\nif we want to get outside of our subnet.\n\n66\n00:02:57.240 --> 00:03:00.730\nWe need the IP address of a DNS server,\nso we can resolve names.\n\n67\n00:03:00.730 --> 00:03:04.190\nSo all this is considered\nour TCP/IP configuration.\n\n68\n00:03:04.190 --> 00:03:06.520\nIn order to communicate\non a TCP/IP network,\n\n69\n00:03:06.520 --> 00:03:08.900\nwe need that configuration information.\n\n70\n00:03:08.900 --> 00:03:13.470\nI've got two ways I can really get this\ninformation to the nodes on my network.\n\n71\n00:03:13.470 --> 00:03:15.360\nI can And either do as,\nwhat are one of the two methods there?\n\n72\n00:03:15.360 --> 00:03:16.116\nI know you know.\n\n73\n00:03:16.116 --> 00:03:18.480\n&gt;&gt; I was going to say\nmaybe dynamically and\n\n74\n00:03:18.480 --> 00:03:21.350\nthe other one would be, well,\none that I shouldn't be doing.\n\n75\n00:03:21.350 --> 00:03:22.480\nAnd that's manually entering it.\n\n76\n00:03:22.480 --> 00:03:24.490\nWe call static assignment, right?\n\n77\n00:03:24.490 --> 00:03:25.310\n&gt;&gt; Exactly right.\n\n78\n00:03:25.310 --> 00:03:27.060\nYou get your static mapping.\n\n79\n00:03:27.060 --> 00:03:30.461\nWhich means I'm going to go into the\nTCP/IP properties of the network adaptor,\n\n80\n00:03:30.461 --> 00:03:31.570\nand I'm going to tell it.\n\n81\n00:03:31.570 --> 00:03:33.090\nThis is the IP address I want you to use.\n\n82\n00:03:33.090 --> 00:03:34.310\nThis is the Subnet mask.\n\n83\n00:03:34.310 --> 00:03:37.270\nAnd whether other whatever other\ninformation I want to configure\n\n84\n00:03:37.270 --> 00:03:38.100\non that device.\n\n85\n00:03:38.100 --> 00:03:40.330\nBut it's static, meaning I've typed it in.\n\n86\n00:03:40.330 --> 00:03:42.560\nI click OK on that dialog box.\n\n87\n00:03:42.560 --> 00:03:43.940\nThat's what the client's going to use.\n\n88\n00:03:43.940 --> 00:03:47.810\nIt's not going to change unless somebody\nelse goes behind me and changes it, right?\n\n89\n00:03:47.810 --> 00:03:49.260\nIt's there for good.\n\n90\n00:03:49.260 --> 00:03:52.120\nDynamic means we're\ngoing to run a service,\n\n91\n00:03:52.120 --> 00:03:54.898\nthat provides this information\nautomatically to the nodes.\n\n92\n00:03:54.898 --> 00:03:56.790\nThey're going to holler\nout on the network, hello,\n\n93\n00:03:56.790 --> 00:03:58.640\nI'm looking for a DHCP server.\n\n94\n00:03:58.640 --> 00:04:01.870\nThat DHCP server, if there is one,\nis going to respond.\n\n95\n00:04:01.870 --> 00:04:03.786\nIt's going to offer up the information.\n\n96\n00:04:03.786 --> 00:04:06.790\nThe client's going to\naccept that information and\n\n97\n00:04:06.790 --> 00:04:08.700\nthen begin using that information.\n\n98\n00:04:08.700 --> 00:04:11.540\nAnd the cool thing about that is,\nI didn't have to run around and\n\n99\n00:04:11.540 --> 00:04:12.480\ntouch every machine.\n\n100\n00:04:12.480 --> 00:04:13.150\nRight?\n\n101\n00:04:13.150 --> 00:04:15.090\nI might have thousands\nof nodes on my network.\n\n102\n00:04:15.090 --> 00:04:18.600\nThey might be scattered from\nfloor one to floor ten or\n\n103\n00:04:18.600 --> 00:04:23.360\nin my office here,\ndown in Tampa or in Los Angeles.\n\n104\n00:04:23.360 --> 00:04:26.380\nAnd I don't have to go around and\ntouch each one of those machines.\n\n105\n00:04:26.380 --> 00:04:27.460\n&gt;&gt; Mike, I got a question now.\n\n106\n00:04:27.460 --> 00:04:30.110\nIf we can automatically\nassign IP addresses,\n\n107\n00:04:30.110 --> 00:04:32.530\nI know Microsoft likes to\nmention things in their exams.\n\n108\n00:04:32.530 --> 00:04:36.110\nLike the least amount of administrative\neffort as being the right answer.\n\n109\n00:04:36.110 --> 00:04:38.030\nSo if I've got dynamic assignment.\n\n110\n00:04:38.030 --> 00:04:41.330\nAnd I don't have to do anything other\nthan What you're gonna show us, you know\n\n111\n00:04:41.330 --> 00:04:46.390\ngetting DHCP involves, does static really\nhave it's place inside static assignment?\n\n112\n00:04:46.390 --> 00:04:46.930\n&gt;&gt; It does.\n\n113\n00:04:46.930 --> 00:04:51.370\nAnd usually what you'll see is your\nservers that are offering services\n\n114\n00:04:51.370 --> 00:04:53.020\nthat nodes depend on.\n\n115\n00:04:53.020 --> 00:04:55.580\nWe want to statically map them\nbecause when we do dynamic mapping.\n\n116\n00:04:55.580 --> 00:04:59.970\nWhen we use DHCP usually for\nour clients and our mobile devices.\n\n117\n00:04:59.970 --> 00:05:01.560\nThe IP addresses can change.\n\n118\n00:05:01.560 --> 00:05:05.210\nThe IP address that, that node has\ntoday might be different tomorrow.\n\n119\n00:05:05.210 --> 00:05:05.730\nAnd in the end,\n\n120\n00:05:05.730 --> 00:05:09.580\nI don't care as long as user a's\ncomputer is connected to the network.\n\n121\n00:05:09.580 --> 00:05:12.790\nAnd it can communicate and it's got\na unique address everything's good.\n\n122\n00:05:12.790 --> 00:05:14.810\nIf it changes tomorrow, who cares?\n\n123\n00:05:14.810 --> 00:05:17.510\nI never connect to that\nmachine via IP address.\n\n124\n00:05:17.510 --> 00:05:22.290\nBut my servers that are offering services\nlike file servers Print servers,\n\n125\n00:05:22.290 --> 00:05:24.070\nDomain Controllers, DNS servers.\n\n126\n00:05:24.070 --> 00:05:27.720\nI don't want their IP address\nchanging because things get cached,\n\n127\n00:05:27.720 --> 00:05:30.980\nwe have mapped drives that\npoint to IP addresses.\n\n128\n00:05:30.980 --> 00:05:33.740\nAnd if we start changing IP\naddresses around on those guys,\n\n129\n00:05:33.740 --> 00:05:35.450\nthey might become difficult to locate.\n\n130\n00:05:35.450 --> 00:05:38.670\nAnd then it causes delays or outages.\n\n131\n00:05:38.670 --> 00:05:42.590\nPrinters are another one that\nwe can map in different ways.\n\n132\n00:05:42.590 --> 00:05:46.540\nAnd if a user or a bunch of users have\nthis printer mapped by IP address.\n\n133\n00:05:46.540 --> 00:05:50.160\nAnd then that IP address changes, well now\nnobody's going to be able to connect to\n\n134\n00:05:50.160 --> 00:05:53.580\nthat printer until we can go back and\nmanually update all those mappings.\n\n135\n00:05:53.580 --> 00:05:55.550\nIts not going to be a fun time.\n\n136\n00:05:55.550 --> 00:06:00.620\nSo there's definitely still uses for\nstatically mapped machines.\n\n137\n00:06:00.620 --> 00:06:03.630\nSo, you've shown us in other episodes\nhow we get this server up and running.\n\n138\n00:06:03.630 --> 00:06:06.650\nSo, I'm sitting down at this\nWindows Server 2016 box.\n\n139\n00:06:06.650 --> 00:06:09.170\nI've got the operating system installed.\n\n140\n00:06:09.170 --> 00:06:12.340\nI've got some basic configurations and\nnow I need the DHCP service.\n\n141\n00:06:12.340 --> 00:06:13.810\nMike, show us what we're\ngoing to see here.\n\n142\n00:06:13.810 --> 00:06:15.440\n&gt;&gt; All right.\nLet's get this guy installed.\n\n143\n00:06:15.440 --> 00:06:16.010\nSo, what I'm going to do,\n\n144\n00:06:16.010 --> 00:06:20.389\njust like any other role, I'm going to\nopen up Server Manager on my server.\n\n145\n00:06:21.660 --> 00:06:26.440\nAnd then wait patiently, because Server\nManager's not the fastest thing to load.\n\n146\n00:06:26.440 --> 00:06:27.560\nBut not its fault, right?\n\n147\n00:06:27.560 --> 00:06:30.570\nI always give Server Manager a hard\ntime and, look, that's pretty quick.\n\n148\n00:06:30.570 --> 00:06:33.950\nIt is pulling a lot of information from a\nlot of different places to provide us this\n\n149\n00:06:33.950 --> 00:06:35.360\ndashboard view.\n\n150\n00:06:35.360 --> 00:06:39.050\nSo it takes a minute to pull all that\ninformation in and summarize it.\n\n151\n00:06:39.050 --> 00:06:43.430\nSo we'll be patient while the little\nblue line runs across the top.\n\n152\n00:06:43.430 --> 00:06:46.270\nOnce that finishes everything is\nloaded up, we should be good to go.\n\n153\n00:06:46.270 --> 00:06:49.810\nWe'll click add roles and\nfeatures just like any other role.\n\n154\n00:06:49.810 --> 00:06:51.380\nWe'll click next three times.\n\n155\n00:06:53.720 --> 00:06:57.400\nAnd then we're going to\nchoose dhcp server and\n\n156\n00:06:57.400 --> 00:07:01.450\nwe'll also choose to include\nall of my administrative tools.\n\n157\n00:07:01.450 --> 00:07:03.255\nAnd then we're just basically\ngoing to click next.\n\n158\n00:07:03.255 --> 00:07:07.580\nNext&gt;Next&gt;Next&gt;Install.\n\n159\n00:07:07.580 --> 00:07:10.440\nAnd when you guys are studying and\nyou're going through practice labs,\n\n160\n00:07:10.440 --> 00:07:12.600\ntake the time to read some\nof those dialog boxes.\n\n161\n00:07:12.600 --> 00:07:13.460\nThey're informational.\n\n162\n00:07:13.460 --> 00:07:16.240\nThey're just telling you a little\nbit about the DHCP servers.\n\n163\n00:07:16.240 --> 00:07:20.380\nAlways a good idea to at least read\nthat information a couple of times.\n\n164\n00:07:20.380 --> 00:07:23.480\nYou get to the point like Wes and\nI where we've seen it 1000 times.\n\n165\n00:07:23.480 --> 00:07:25.050\nWe tend to go by it just\na little bit quick.\n\n166\n00:07:27.010 --> 00:07:28.990\nAll right, now we'll wait for\nthis to finish.\n\n167\n00:07:30.000 --> 00:07:33.300\nAnd DHCP,\nlike most of the services nowadays,\n\n168\n00:07:33.300 --> 00:07:37.380\nis not going to require a reboot on\nmy server once it gets installed.\n\n169\n00:07:38.510 --> 00:07:39.980\nSo we'll get this installed.\n\n170\n00:07:39.980 --> 00:07:43.725\nAnd then we can go and\nwe'll see how we can configure DHCP.\n\n171\n00:07:43.725 --> 00:07:44.930\nBecause again,\n\n172\n00:07:44.930 --> 00:07:49.610\nlike most services, installing them\nis one step in the process, right?\n\n173\n00:07:49.610 --> 00:07:53.010\nWe're unpacking all the binaries,\nwe're getting all the services out there.\n\n174\n00:07:53.010 --> 00:07:57.160\nBut then we still have to go and\nconfigure the service.\n\n175\n00:07:57.160 --> 00:08:00.840\nIn case, we're going to be doing\nthings like making scopes.\n\n176\n00:08:00.840 --> 00:08:03.429\nBut most of these you\ninstall them as one step.\n\n177\n00:08:03.429 --> 00:08:06.237\nBut then they're not going to do\nanything until you go back and\n\n178\n00:08:06.237 --> 00:08:08.239\nFinish the configuration of that service.\n\n179\n00:08:08.239 --> 00:08:10.841\n&gt;&gt; So it's kind of like if someone\nbrings electricity in to my house,\n\n180\n00:08:10.841 --> 00:08:13.820\nthat doesn't really say that they're\ngoing to do anything more than that.\n\n181\n00:08:13.820 --> 00:08:16.480\nIt's still up to me to either,\nnot do it myself,\n\n182\n00:08:16.480 --> 00:08:18.310\nyou don't want that to\nhappen that's a nightmare,\n\n183\n00:08:18.310 --> 00:08:21.875\nbut I got to hire a electrician and then\nthey have to run it through my house to\n\n184\n00:08:21.875 --> 00:08:24.885\ncomplete what I would essentially just\nwant to do by flipping on a light switch.\n\n185\n00:08:24.885 --> 00:08:26.525\n&gt;&gt; Exactly right.\n\n186\n00:08:26.525 --> 00:08:28.165\nAll right, let's see here.\n\n187\n00:08:28.165 --> 00:08:30.149\nBeta says 63 open finish, look at that.\n\n188\n00:08:30.149 --> 00:08:31.387\nGood timing.\n\n189\n00:08:31.387 --> 00:08:35.792\nOkay, so once this finishes,\nyou'll notice right here\n\n190\n00:08:35.792 --> 00:08:40.590\nin the middle it says complete\nDHCP configuration all right.\n\n191\n00:08:40.590 --> 00:08:44.600\nI can click it there or\nI can close this wizard and\n\n192\n00:08:44.600 --> 00:08:48.390\nI'll notice that I have this little\nwarning or exclamation point up here.\n\n193\n00:08:48.390 --> 00:08:51.880\nIf I click on that it's gonna\ntell me that hey, it finished but\n\n194\n00:08:51.880 --> 00:08:53.070\nI need to configure it.\n\n195\n00:08:53.070 --> 00:08:53.920\nI'm not done yet.\n\n196\n00:08:53.920 --> 00:08:54.860\nSo let's go ahead and click it.\n\n197\n00:08:54.860 --> 00:08:57.479\nYou can click it at either place and\nit will work.\n\n198\n00:08:58.500 --> 00:09:01.910\nIt's gonna open up my post\ninstall configuration wizard.\n\n199\n00:09:01.910 --> 00:09:06.897\nAnd you'll see what this is gonna do, it's\ngonna create the DHCP administrators and\n\n200\n00:09:06.897 --> 00:09:08.224\nthe DHCP users group.\n\n201\n00:09:08.224 --> 00:09:13.798\nAnd it's gonna authorize the DHCP server\non the target computer if domain joint,\n\n202\n00:09:13.798 --> 00:09:14.615\nall right.\n\n203\n00:09:14.615 --> 00:09:18.031\nWe're gonna talk about that here in just\na second, we're gonna click next and\n\n204\n00:09:18.031 --> 00:09:19.500\nthen who's gonna authorize it?\n\n205\n00:09:19.500 --> 00:09:23.330\nI need to be a member of\nthe domain admins at least\n\n206\n00:09:23.330 --> 00:09:26.780\nin order to authorize this\nserver in active directory.\n\n207\n00:09:26.780 --> 00:09:30.050\nMy credentials are there,\nI'm gonna skip it, understand that you\n\n208\n00:09:30.050 --> 00:09:32.980\ncould do it right here and\nmost likely you should do it right here.\n\n209\n00:09:32.980 --> 00:09:34.800\nBut you might have reasons\nyou don't want to,\n\n210\n00:09:34.800 --> 00:09:37.796\nyou want to configure some other things\nfirst before you get this guy ready.\n\n211\n00:09:37.796 --> 00:09:42.228\nAnd I also want to show you the other\nplaces I can go to actually authorize this\n\n212\n00:09:42.228 --> 00:09:43.320\nserver.\n\n213\n00:09:43.320 --> 00:09:45.490\nBut let's go ahead and\ntalk about authorizing it and\n\n214\n00:09:45.490 --> 00:09:47.570\nyou'll see it's gonna go ahead and\ncreate the groups.\n\n215\n00:09:47.570 --> 00:09:51.960\nAnd it's gonna restart the DHTP service\nfor the groups to be effected, so\n\n216\n00:09:51.960 --> 00:09:52.960\nwe'll click Close there.\n\n217\n00:09:54.390 --> 00:09:56.590\nSo, authorization right?\n\n218\n00:09:56.590 --> 00:10:00.450\nOne of the things that we have to be\ncareful with is something known as rogue\n\n219\n00:10:00.450 --> 00:10:01.910\nDHCP servers.\n\n220\n00:10:01.910 --> 00:10:05.460\nBecause I can start doing a denial\nof service on your network and\n\n221\n00:10:05.460 --> 00:10:08.090\nI've actually been in networks\nwhere this has happened.\n\n222\n00:10:08.090 --> 00:10:12.430\nIt was unintentional but\nunintentional or malicious, same result.\n\n223\n00:10:12.430 --> 00:10:15.270\nWe had a lot of machines\nthat lost connectivity.\n\n224\n00:10:15.270 --> 00:10:18.351\nAnd the reason was there was\nan unauthorized DHTP server.\n\n225\n00:10:18.351 --> 00:10:20.415\nThere was a DHTP server\nthat was set up and\n\n226\n00:10:20.415 --> 00:10:25.090\nit was passing out IP addresses to clients\non the network when they asked for one.\n\n227\n00:10:25.090 --> 00:10:28.160\nThe problem was it was passing\nout IP addresses that didn't work\n\n228\n00:10:28.160 --> 00:10:29.080\non our network, right?\n\n229\n00:10:29.080 --> 00:10:32.662\nWe had, I think at the time,\nwe were using maybe a class B subnet,\n\n230\n00:10:32.662 --> 00:10:34.432\nit was using some other subnet.\n\n231\n00:10:34.432 --> 00:10:36.800\nIt was giving them\na different default gateway.\n\n232\n00:10:36.800 --> 00:10:40.310\nSo while they got the configuration,\nit was the wrong configuration.\n\n233\n00:10:40.310 --> 00:10:43.760\nIt wasn't valid for the network,\nso they all lost connectivity.\n\n234\n00:10:43.760 --> 00:10:47.260\nThat's a rogue DHCP server,\none that shouldn't be there, and\n\n235\n00:10:47.260 --> 00:10:48.990\nit's not configured properly.\n\n236\n00:10:48.990 --> 00:10:53.930\nAnd as a bad guy, if I can get into\nyour network somehow and run a little\n\n237\n00:10:53.930 --> 00:10:59.060\nmachine that's providing DHCP,\nthere's not a lot of security with DHCP.\n\n238\n00:10:59.060 --> 00:11:01.920\nIt's done all by broadcast traffic because\n\n239\n00:11:01.920 --> 00:11:06.490\nthe node itself that needs the IP\naddress doesn't have an IP address yet.\n\n240\n00:11:06.490 --> 00:11:10.610\nSo it can't send unicast traffic it's\njust hollering out on the network.\n\n241\n00:11:10.610 --> 00:11:16.140\nAnd any DACP server that hears that\nreturns with a broadcast answer.\n\n242\n00:11:16.140 --> 00:11:19.570\nAnd so the rogue one as\nwell as the authorized one.\n\n243\n00:11:19.570 --> 00:11:20.460\nCan respond to that.\n\n244\n00:11:20.460 --> 00:11:24.890\nSo it's a challenge\nsometimes to control that.\n\n245\n00:11:24.890 --> 00:11:27.160\n&gt;&gt; In context, I gotta question.\n\n246\n00:11:27.160 --> 00:11:28.760\nYou say it's domain joined.\n\n247\n00:11:28.760 --> 00:11:30.480\nSo let's just say for\n\n248\n00:11:30.480 --> 00:11:33.650\nconversation purposes, we have\nanother server that is domain joined.\n\n249\n00:11:33.650 --> 00:11:34.954\nAnd let's say, I didn't talk with you.\n\n250\n00:11:34.954 --> 00:11:37.920\nMaybe I stole your password, right?\n\n251\n00:11:37.920 --> 00:11:40.540\nAnd I get in there ,and I bring\nup another member server.\n\n252\n00:11:40.540 --> 00:11:41.507\nI install this service.\n\n253\n00:11:41.507 --> 00:11:44.800\nAnd what will it do if it's a DHCP server?\n\n254\n00:11:44.800 --> 00:11:48.183\n&gt;&gt; If it's a DHCP server and\nit's not authorized it won't start.\n\n255\n00:11:48.183 --> 00:11:52.939\nThe machine started up, but\nDHCP the service will log an error and\n\n256\n00:11:52.939 --> 00:11:55.110\nwill not respond to clients.\n\n257\n00:11:55.110 --> 00:11:56.520\nIt won't do it's job.\n\n258\n00:11:56.520 --> 00:12:01.290\nThe first thing a DHCP server does,\na Windows based DHCP server does,\n\n259\n00:12:01.290 --> 00:12:05.770\nis when it starts up and it starts\nthe service If it's a part of a domain\n\n260\n00:12:05.770 --> 00:12:10.150\nit checks with the active directory to see\nif it's on the list of authorized servers.\n\n261\n00:12:10.150 --> 00:12:12.280\nIf it's not, it won't respond to clients.\n\n262\n00:12:12.280 --> 00:12:15.080\nIf it is,\nit will begin responding to clients.\n\n263\n00:12:15.080 --> 00:12:21.705\nSo, that step of authorizing it is a way\nthat I can say, this server is authorized.\n\n264\n00:12:21.705 --> 00:12:25.511\nAnd it's a good thing but\nit's not the end all when it comes to\n\n265\n00:12:25.511 --> 00:12:29.890\npreventing rogue DHCP servers\ncuz here's the downside.\n\n266\n00:12:29.890 --> 00:12:32.490\nOnly Windows based DHCP servers\n\n267\n00:12:32.490 --> 00:12:35.740\nknow to check in with Active Directory\njust to see if they're authorized.\n\n268\n00:12:35.740 --> 00:12:37.820\nIf Wes spins up a Linux box and\n\n269\n00:12:37.820 --> 00:12:42.190\nruns DHCP on it I don't have\nany way of controlling that.\n\n270\n00:12:42.190 --> 00:12:47.160\nOur wireless access points, almost all of\nthem have a DHCP engine built into it.\n\n271\n00:12:47.160 --> 00:12:51.138\nMost of your virtualization solutions,\nlike VirtualBox,\n\n272\n00:12:51.138 --> 00:12:53.794\ncan actually be configured to run DHDP.\n\n273\n00:12:53.794 --> 00:12:58.361\nIntending to provide the virtual machines\nIP addresses but if configured incorrectly\n\n274\n00:12:58.361 --> 00:13:02.364\nor correctly if you're malicious it\ncould list it on the physical adapter of\n\n275\n00:13:02.364 --> 00:13:07.125\nthe machine that virtual box is running on\nand provide IP addresses to the network.\n\n276\n00:13:07.125 --> 00:13:11.195\nAgain, which would be unauthorized and\nmost likely not the correct configuration.\n\n277\n00:13:11.195 --> 00:13:15.419\nAnd I have no way or really well, there\nare some ways but not with in Windows,\n\n278\n00:13:15.419 --> 00:13:19.230\nthat's done at the router level,\nCisco, things like that.\n\n279\n00:13:19.230 --> 00:13:22.278\nSo understand that authorizing\na server is required.\n\n280\n00:13:22.278 --> 00:13:26.690\nMy Windows based DHTP servers\nwon't function if they're not, but\n\n281\n00:13:26.690 --> 00:13:29.880\nit's not the end all in\nsecurity because other brands\n\n282\n00:13:29.880 --> 00:13:31.590\nare not gonna care if\nthey're authorized or not.\n\n283\n00:13:32.810 --> 00:13:33.770\nSo let's see how we can do it.\n\n284\n00:13:33.770 --> 00:13:35.250\nWe could have done it through the wizard.\n\n285\n00:13:35.250 --> 00:13:37.040\nInstead, we chose not to.\n\n286\n00:13:37.040 --> 00:13:40.470\nSo I'm now gonna launch\nup my DHCP console.\n\n287\n00:13:40.470 --> 00:13:45.980\nAnd if we expand this guy out, we'll see\nred downward pointing arrows over here.\n\n288\n00:13:45.980 --> 00:13:47.510\nNothing's going on, so\n\n289\n00:13:47.510 --> 00:13:52.540\nI'm gonna right click on my server,\nand I'm gonna choose authorize.\n\n290\n00:13:54.280 --> 00:13:59.240\nAll right, then we give it just a second,\nwe refresh, and as I have\n\n291\n00:13:59.240 --> 00:14:02.890\ngreen check marks, well technically\nwhite check marks on a green circle, but\n\n292\n00:14:02.890 --> 00:14:05.860\nI have check marks now instead\nof downward pointing arrows.\n\n293\n00:14:05.860 --> 00:14:08.610\n&gt;&gt; So at this point,\nthis dhcp server is ready to go,\n\n294\n00:14:08.610 --> 00:14:10.160\nwe're handing out IP addresses.\n\n295\n00:14:10.160 --> 00:14:11.094\n&gt;&gt; Not quite.\n\n296\n00:14:11.094 --> 00:14:14.555\n&gt;&gt; Unfortunately it doesn't know\nwhat IP addresses to pass out yet.\n\n297\n00:14:14.555 --> 00:14:16.930\nWe have to create something called scopes.\n\n298\n00:14:16.930 --> 00:14:19.380\nLet me tell you one more place,\nthe other thing you can do.\n\n299\n00:14:19.380 --> 00:14:23.160\nSo if I right click on my server\nagain you see I could unauthorize it,\n\n300\n00:14:23.160 --> 00:14:26.380\nif I was tearing this guy down for\nsome reason.\n\n301\n00:14:26.380 --> 00:14:30.090\nI can also select dhcp at the very top.\n\n302\n00:14:30.090 --> 00:14:32.970\nAnd choose Manage Authorized Servers.\n\n303\n00:14:32.970 --> 00:14:35.950\nThis pulls up a list of all\nauthorized DHCP servers.\n\n304\n00:14:35.950 --> 00:14:36.620\nI might have five or\n\n305\n00:14:36.620 --> 00:14:39.570\nsix on my network supporting\ndifferent subnets or what have you.\n\n306\n00:14:39.570 --> 00:14:41.324\nWhere as when you right\nclick on your server,\n\n307\n00:14:41.324 --> 00:14:42.856\nyou're dealing with that one server.\n\n308\n00:14:42.856 --> 00:14:46.262\nIf you right click on DHCP,\nyou can manage the list itself,\n\n309\n00:14:46.262 --> 00:14:50.349\nand I can see server one is in the list or\nI can see that somebody wasn't in\n\n310\n00:14:50.349 --> 00:14:55.000\nthe list and I can add and remove\nthe DHCP servers from right over here.\n\n311\n00:14:55.000 --> 00:14:57.910\n&gt;&gt; Now Mike,\nbecause you mentioned active directory,\n\n312\n00:14:57.910 --> 00:15:00.450\nI don't see an active\ndirectory console open here.\n\n313\n00:15:00.450 --> 00:15:03.280\nThat list, would that also update\nyour active directory database?\n\n314\n00:15:03.280 --> 00:15:05.414\nSo like other DCs and\nstuff would be aware of that [CROSSTALK].\n\n315\n00:15:05.414 --> 00:15:08.907\n&gt;&gt; Absolutely, that list is actually\nin the active directory database.\n\n316\n00:15:08.907 --> 00:15:09.941\nSo when I right click and\n\n317\n00:15:09.941 --> 00:15:13.740\nchoose that it's pulling that\ninformation from active directory.\n\n318\n00:15:13.740 --> 00:15:18.230\nAll right, so we've got DHCP step up,\nwe have authorized it, but\n\n319\n00:15:18.230 --> 00:15:22.310\nas we pointed out a second ago,\nits really not doing me any good,\n\n320\n00:15:22.310 --> 00:15:25.590\nbecause it doesn't have any\nIP address to pass out.\n\n321\n00:15:25.590 --> 00:15:28.486\nSo it's sitting here and listening,\nwaiting for people to ask for\n\n322\n00:15:28.486 --> 00:15:32.140\nan IP address, but if it hears something,\nit not gonna be able to respond.\n\n323\n00:15:32.140 --> 00:15:36.120\nSo the first thing we have to do\nis create what we call a scope.\n\n324\n00:15:36.120 --> 00:15:40.930\nA scope is simply a pool of addresses\nthat I'm telling DHCP that it's\n\n325\n00:15:40.930 --> 00:15:46.030\nallowed to pass out when asked for\nan IP address, all right?\n\n326\n00:15:46.030 --> 00:15:47.090\nAnd a few other configurations.\n\n327\n00:15:47.090 --> 00:15:51.350\nThere's actually a lot of configuration\ngoes on with it, but in its simplest form,\n\n328\n00:15:51.350 --> 00:15:54.953\na scope is a pool of IP address and\nthen the associated properties with.\n\n329\n00:15:54.953 --> 00:16:00.080\nSo when I expand out IPv4 I don't\nhave any scopes under this.\n\n330\n00:16:00.080 --> 00:16:05.713\nSo what I'm gonna do is I'm gonna right\nclick on IPv4 and choose New Scope.\n\n331\n00:16:05.713 --> 00:16:09.501\nAll right, that's gonna open\nup my New Scope Wizard, and\n\n332\n00:16:09.501 --> 00:16:11.910\nI'm gonna click Next on the Wizard.\n\n333\n00:16:13.180 --> 00:16:17.380\nAnd we'll zoom in a little bit, and\nI've gotta give the scope a name.\n\n334\n00:16:17.380 --> 00:16:19.190\nAnd this is really just administrative.\n\n335\n00:16:19.190 --> 00:16:23.310\nIt's gonna show up in the console, helps\nme remember why or what the purpose was.\n\n336\n00:16:23.310 --> 00:16:28.913\nWhy I created it, or\nwhat the purpose was of this scope.\n\n337\n00:16:28.913 --> 00:16:33.230\nI'm just gonna call it Subnet1, because\nI'm not all that creative on a Friday.\n\n338\n00:16:33.230 --> 00:16:40.150\nAnd I'll click Next, and\nthen I have the Start and End IP address.\n\n339\n00:16:40.150 --> 00:16:43.485\nSo let's put in my start address,\n\n340\n00:16:43.485 --> 00:16:48.545\nit's gonna be 10.0., we'll do 10, oops,\n\n341\n00:16:48.545 --> 00:16:54.548\nI'm sorry 100.10 and then 10.0.100.99.\n\n342\n00:16:54.548 --> 00:16:58.790\nSo, I'm saying between 10, and\nactually, I'll go all the way up to,\n\n343\n00:17:00.205 --> 00:17:03.415\nI guess some server's at 100,\nyeah, we better stick with 99.\n\n344\n00:17:03.415 --> 00:17:05.835\nSo we'll set our range, start and end.\n\n345\n00:17:05.835 --> 00:17:08.785\nAnd then down below,\nyou've got your subnet mask.\n\n346\n00:17:08.785 --> 00:17:13.974\nAnd you can configure this either way,\nI can use the spinners, and\n\n347\n00:17:13.974 --> 00:17:18.989\nyou'll see the subnet mask changing,\nor I can use the numbers.\n\n348\n00:17:18.989 --> 00:17:20.530\nAnd you'll see the spinner change.\n\n349\n00:17:20.530 --> 00:17:22.240\nSo either way you wanna go.\n\n350\n00:17:22.240 --> 00:17:25.480\n&gt;&gt; Right here, Mike,\nin this little piece of the wizard here,\n\n351\n00:17:25.480 --> 00:17:26.650\ngot a question about this.\n\n352\n00:17:26.650 --> 00:17:30.250\nNow, would you have to have\ngood network documentation?\n\n353\n00:17:30.250 --> 00:17:33.070\nBecause you talked about\nthe purpose of static IP addresses.\n\n354\n00:17:33.070 --> 00:17:36.610\nAnd let's just say,\nI didn't do documentation, and\n\n355\n00:17:36.610 --> 00:17:38.440\nI've got a statically mapped IP address.\n\n356\n00:17:38.440 --> 00:17:40.400\nIt's not gonna check in\nwith this database, right?\n\n357\n00:17:40.400 --> 00:17:41.280\nNow, the machine won't.\n\n358\n00:17:41.280 --> 00:17:42.990\nSo, documentation.\n\n359\n00:17:42.990 --> 00:17:45.220\n&gt;&gt; Absolutely, in fact, you know what,\nyou bring up a good point.\n\n360\n00:17:45.220 --> 00:17:50.600\nI'm gonna go ahead and make this guy go to\n199, so we can kind of, pull that back up.\n\n361\n00:17:50.600 --> 00:17:52.000\nWe'll kind of curb that thought.\n\n362\n00:17:52.000 --> 00:17:55.760\nBut absolutely, as far as this goes.\n\n363\n00:17:55.760 --> 00:18:00.196\nYou have to understand that if I make\na pool that goes form 10 to 199,\n\n364\n00:18:00.196 --> 00:18:03.252\nand let's say I've got\nsome printers out there,\n\n365\n00:18:03.252 --> 00:18:06.998\nthat one of those printer\nhas an IP address of 100.50.\n\n366\n00:18:06.998 --> 00:18:08.780\nWell, I'm gonna run into a problem,\nbecause now,\n\n367\n00:18:08.780 --> 00:18:10.890\nI've got the potential\nof duplicate addresses.\n\n368\n00:18:10.890 --> 00:18:15.790\nDHCP is gonna say 10., or\n100.50 is part of my addresses.\n\n369\n00:18:15.790 --> 00:18:17.580\nI can pass that out to a client.\n\n370\n00:18:17.580 --> 00:18:20.530\nNow all of a sudden, that client and\nthe printer have a duplicate.\n\n371\n00:18:20.530 --> 00:18:23.600\nSo that can definitely cause a problem.\n\n372\n00:18:23.600 --> 00:18:27.100\nSo, you do have to think about it,\nand there's ways that I can help\n\n373\n00:18:27.100 --> 00:18:30.100\nwork with that very situation that\nI'll show you in just a little bit.\n\n374\n00:18:30.100 --> 00:18:33.280\nAll right,\nI'm gonna click Next on my wizard.\n\n375\n00:18:33.280 --> 00:18:36.140\nThen this is how we can help\nwith that very situation.\n\n376\n00:18:36.140 --> 00:18:39.630\nI told you I'd talk about it\nin a minute and there we go.\n\n377\n00:18:39.630 --> 00:18:42.060\nThese are my exclusions and delays.\n\n378\n00:18:42.060 --> 00:18:46.540\nExclusions allow me to set that\npool on the previous page.\n\n379\n00:18:47.620 --> 00:18:50.732\nBut then blank out certain\nparts of that pool, right?\n\n380\n00:18:50.732 --> 00:18:55.240\nBecause I know that I wanna use this\nwhole range, 10 through 199, but\n\n381\n00:18:55.240 --> 00:19:00.108\nsomebody's, a long time ago,\nused addresses like 101, 102, 103,\n\n382\n00:19:00.108 --> 00:19:03.130\nand I don't want DHCP passing those out.\n\n383\n00:19:03.130 --> 00:19:05.086\nSo what I can do is I'm\ngonna add an exclusion.\n\n384\n00:19:05.086 --> 00:19:12.535\n10.0.100.100 through 10.0.100.,\n\n385\n00:19:12.535 --> 00:19:19.697\nI didn't go past 110, so\nwe should be good to go there.\n\n386\n00:19:19.697 --> 00:19:24.130\nAll right, so those addresses, even though\nthey're defined as part of the scope.\n\n387\n00:19:24.130 --> 00:19:26.890\nWell, DHCP will not pass those out, right?\n\n388\n00:19:26.890 --> 00:19:28.240\nYou can also do single addresses.\n\n389\n00:19:28.240 --> 00:19:31.193\nLet's say that years ago,\nsomebody set a printer's IP address, and\n\n390\n00:19:31.193 --> 00:19:34.761\nyou can't use that address, and it's right\nin the middle of the pool you wanna use.\n\n391\n00:19:34.761 --> 00:19:39.054\nWell okay, 10.0.100.200.\n\n392\n00:19:39.054 --> 00:19:41.380\nSo don't put an end address, click Add.\n\n393\n00:19:42.500 --> 00:19:48.350\nAnd you can do, it does have to be in\nyour range, otherwise DHCP doesn't care.\n\n394\n00:19:48.350 --> 00:19:52.470\nLet's say 199 and add,\nand then there we go.\n\n395\n00:19:52.470 --> 00:19:55.390\nAll right, so there's a couple\ndifferent schools of thoughts.\n\n396\n00:19:55.390 --> 00:19:58.080\nYou could try to make your pool\n\n397\n00:19:58.080 --> 00:20:00.760\nto where it didn't include\naddresses that were already used.\n\n398\n00:20:00.760 --> 00:20:03.866\nI could have stopped this at 99,\nlike I was gonna do originally.\n\n399\n00:20:03.866 --> 00:20:06.530\nThen I wouldn't have had to make\nthe exceptions for 100, 101, 102, 103, and\n\n400\n00:20:06.530 --> 00:20:08.930\nthose guys.\n\n401\n00:20:08.930 --> 00:20:13.450\nOr you might set this from 1 to 254,\nif it's a class C, or what have you.\n\n402\n00:20:13.450 --> 00:20:15.740\nAnd then go back and make exclusions for\neverything you need to block out.\n\n403\n00:20:15.740 --> 00:20:19.980\nSo, couple different schools of thought,\nreally doesn't matter which way you do it,\n\n404\n00:20:19.980 --> 00:20:23.650\nas long as you document what you're doing,\nall right?\n\n405\n00:20:23.650 --> 00:20:25.970\nClick Next, so I've got my exclusions.\n\n406\n00:20:27.500 --> 00:20:29.050\nAnd we'll click Next, and\n\n407\n00:20:29.050 --> 00:20:33.550\nthen for my Lease Duration,\nthis is how long the lease is good for.\n\n408\n00:20:33.550 --> 00:20:38.130\nWhen we get an IP address from a DHCP\nserver, it's not a permanent assignment.\n\n409\n00:20:38.130 --> 00:20:43.192\nIt's leased to client or\nto the DHCP client, which means when I\n\n410\n00:20:43.192 --> 00:20:49.225\nneed to either renew it before the lease\nexpires, or I'm gonna give it up.\n\n411\n00:20:49.225 --> 00:20:54.451\nOnce the lease is expired, I won't use it,\nand the node will not use it anymore.\n\n412\n00:20:54.451 --> 00:20:59.480\nAnd basically,\nhe'll go back to APIPA most likely.\n\n413\n00:20:59.480 --> 00:21:01.560\nSo how long is the lease good for?\n\n414\n00:21:01.560 --> 00:21:03.950\nI'm gonna leave it at\nthe default eight days.\n\n415\n00:21:03.950 --> 00:21:04.750\nWe'll click Next.\n\n416\n00:21:05.980 --> 00:21:10.280\nAnd then, I can also configure some of\nthe options here, or I could wait and\n\n417\n00:21:10.280 --> 00:21:12.490\nconfigure them on my\nconsole after the fact.\n\n418\n00:21:12.490 --> 00:21:15.090\nI'll go ahead and say, yes,\nI wanna configure these options now.\n\n419\n00:21:15.090 --> 00:21:18.400\nIt doesn't go through all the options,\njust the most important ones, or\n\n420\n00:21:18.400 --> 00:21:20.340\nthe most commonly used ones.\n\n421\n00:21:20.340 --> 00:21:21.490\nSo I'll click Next.\n\n422\n00:21:21.490 --> 00:21:24.320\nAnd the first one is Router or\nDefault Gateway.\n\n423\n00:21:24.320 --> 00:21:30.237\nAnd I wanna do 0.100., oops,\nall right, that's not right, 0.1.\n\n424\n00:21:32.318 --> 00:21:34.703\nRight, yeah, I had to think about,\nwait, what's my default gateway?\n\n425\n00:21:34.703 --> 00:21:39.010\nYeah, 10.0.0.1 is my default gateway,\nall right?\n\n426\n00:21:39.010 --> 00:21:42.220\nAnd you do have to make sure you\nclick Add, you see what I did there?\n\n427\n00:21:42.220 --> 00:21:45.670\nWhen you type it in,\nvery easy to go and click Next.\n\n428\n00:21:45.670 --> 00:21:49.230\nIf you don't click add,\nit won't remember when you click Next.\n\n429\n00:21:49.230 --> 00:21:49.870\nIt'll wipe it out.\n\n430\n00:21:49.870 --> 00:21:52.460\nSo you have to click Add to\ndrop it down into the list, and\n\n431\n00:21:52.460 --> 00:21:54.210\nthen you're gonna click Next.\n\n432\n00:21:54.210 --> 00:21:57.610\nAnd then, this is already filled out, it\ndetects the domain that's it's a part of,\n\n433\n00:21:57.610 --> 00:21:58.840\nso it's got that.\n\n434\n00:21:58.840 --> 00:22:01.120\nIt found my DNS server, so it says hey,\n\n435\n00:22:01.120 --> 00:22:05.670\ndo you want me to pass this out, as the IP\naddress for the DNS server, absolutely.\n\n436\n00:22:05.670 --> 00:22:08.870\nIf I had others that I wanted to add,\nI could definitely do that.\n\n437\n00:22:08.870 --> 00:22:11.260\nIf I didn't know the IP address,\nI could type in a name,\n\n438\n00:22:11.260 --> 00:22:16.310\nand then resolve it to an IP address, and\nthen click Add to drop it down in there.\n\n439\n00:22:16.310 --> 00:22:17.740\nWe'll click Next.\n\n440\n00:22:17.740 --> 00:22:21.960\nWINS, I'm not using on this network,\nso we'll skip it and I'll click Next.\n\n441\n00:22:21.960 --> 00:22:23.850\nAnd then do I wanna activate the scope or\nnot?\n\n442\n00:22:23.850 --> 00:22:28.450\nI'm gonna choose No, so that I can show\nyou how to do it in the console, and\n\n443\n00:22:28.450 --> 00:22:29.650\nI'm gonna click Next.\n\n444\n00:22:29.650 --> 00:22:32.110\nBut scopes have to be activated.\n\n445\n00:22:32.110 --> 00:22:35.980\nWhen you look at this scope now,\nyou'll see that it's sitting there, but\n\n446\n00:22:35.980 --> 00:22:38.530\nit has a little red\ndownward pointing arrow.\n\n447\n00:22:38.530 --> 00:22:42.370\nAnd my IPv4 node has\na little exclamation on it.\n\n448\n00:22:42.370 --> 00:22:43.896\nAnd that's letting me know that hey,\n\n449\n00:22:43.896 --> 00:22:46.700\nthere's a scope in there\nthat's not activated.\n\n450\n00:22:46.700 --> 00:22:49.390\nNow, I do that a lot of times\nwhen I'm setting things up.\n\n451\n00:22:49.390 --> 00:22:52.000\nI'm not ready for it to start\npassing out IP addresses just yet.\n\n452\n00:22:52.000 --> 00:22:54.680\nI haven't configured all the options,\nso I won't activate it,\n\n453\n00:22:54.680 --> 00:22:58.040\nthat way I'm not giving\nout partial information.\n\n454\n00:22:58.040 --> 00:23:02.650\nOr I might be testing something,\nI wanna turn a scope off temporarily.\n\n455\n00:23:02.650 --> 00:23:05.250\nI can just come in here and activate it.\n\n456\n00:23:05.250 --> 00:23:07.876\nBut when I'm ready for\nit to start passing out addresses,\n\n457\n00:23:07.876 --> 00:23:10.610\nI am gonna need to activate it and\nthat simply right click.\n\n458\n00:23:10.610 --> 00:23:14.412\nOops, right click and activate.\n\n459\n00:23:14.412 --> 00:23:18.353\nAnd the red little arrow goes away,\nand now we're good to go, and\n\n460\n00:23:18.353 --> 00:23:20.815\nI see a green check mark on my IPV4 node.\n\n461\n00:23:20.815 --> 00:23:23.090\nAll right, now, we got that scope created.\n\n462\n00:23:24.130 --> 00:23:27.950\nI've got my address pool, and\nyou can see my range of addresses,\n\n463\n00:23:27.950 --> 00:23:31.420\n10 through 199 and my exclusions.\n\n464\n00:23:31.420 --> 00:23:36.160\nDon't pass out 100 through 110 and\ndon't pass out 199.\n\n465\n00:23:36.160 --> 00:23:38.460\nAll right, my exclusions there.\n\n466\n00:23:38.460 --> 00:23:39.990\nLeases, we don't have any yet.\n\n467\n00:23:39.990 --> 00:23:42.880\nWe'll see those in a minute\nonce we start using this.\n\n468\n00:23:42.880 --> 00:23:45.990\nWe'll come back and talk about\nreservations here in just a minute.\n\n469\n00:23:47.070 --> 00:23:51.990\nScope options, those are the ones that\nwe set in our installation wizard.\n\n470\n00:23:51.990 --> 00:23:57.515\nSo there's that default gateway, my DNS\nserver, my DNS domain name, all there.\n\n471\n00:23:57.515 --> 00:24:01.094\nAnd then policies, we're also gonna\ntalk about in a minute as well.\n\n472\n00:24:01.094 --> 00:24:04.310\nNow, when you're configuring these,\nlet's wait on the options.\n\n473\n00:24:04.310 --> 00:24:07.176\nLet's see what I've got.\nI don't wanna miss anything here,\n\n474\n00:24:07.176 --> 00:24:09.952\nlet's actually use the scope, right?\n\n475\n00:24:09.952 --> 00:24:11.646\nWe created it, let's see it in action.\n\n476\n00:24:11.646 --> 00:24:14.730\nSo, what I'm gonna do is I'm gonna\nflip over to one of my clients.\n\n477\n00:24:17.110 --> 00:24:20.540\nClient one is gonna be our guinea pig,\nright?\n\n478\n00:24:20.540 --> 00:24:24.824\nAnd I'm gonna open up\nhis TCP/IP properties.\n\n479\n00:24:27.549 --> 00:24:28.979\nRight click Properties.\n\n480\n00:24:30.393 --> 00:24:34.550\nAnd I'm gonna go down to IPv4 and\npull up those properties.\n\n481\n00:24:34.550 --> 00:24:38.320\nAnd I can see this one is statically\nmapped to use this address.\n\n482\n00:24:38.320 --> 00:24:42.180\nOkay, well I'm gonna change that to\nobtain an IP address automatically.\n\n483\n00:24:42.180 --> 00:24:44.780\nObtain a DNS server address automatically.\n\n484\n00:24:44.780 --> 00:24:46.910\nI'm gonna click OK and I'm gonna click OK.\n\n485\n00:24:46.910 --> 00:24:50.390\nNotice when I clicked OK it\nkinda hung there for a minute.\n\n486\n00:24:50.390 --> 00:24:52.340\nIt still hasn't gone away.\n\n487\n00:24:52.340 --> 00:24:54.610\nThat's cuz it's applying those\nchanges in the background and\n\n488\n00:24:54.610 --> 00:24:58.550\nit's trying to contact the DHCP server\nto see if it can get an address.\n\n489\n00:24:58.550 --> 00:25:00.830\nIt got a different address\nthan it had before,\n\n490\n00:25:00.830 --> 00:25:05.160\nwhich means I lost my\nconnection to that machine.\n\n491\n00:25:05.160 --> 00:25:07.470\nSo we'll have to go a different route.\n\n492\n00:25:07.470 --> 00:25:13.440\nSo let me flip back over to my host and\nwe'll connect back to client one.\n\n493\n00:25:15.883 --> 00:25:17.510\nAll right?\n\n494\n00:25:17.510 --> 00:25:22.030\nSo same machine, I'm just gonna reconnect\nto it, as a domain user, not a local user.\n\n495\n00:25:25.621 --> 00:25:30.576\nAnd if we'd look at the Properties we'll\ngo right back where I was IPv4, and\n\n496\n00:25:30.576 --> 00:25:32.950\nyou see those changes were applied.\n\n497\n00:25:32.950 --> 00:25:34.970\nAll right.\n\n498\n00:25:34.970 --> 00:25:36.980\nNow, let's see what we've got.\n\n499\n00:25:36.980 --> 00:25:38.290\nI'm gonna open up PowerShell.\n\n500\n00:25:41.662 --> 00:25:44.000\nWait for it, and we'll type ipconfig.\n\n501\n00:25:45.602 --> 00:25:49.560\nAnd look there, I got 10.0.100.10.\n\n502\n00:25:49.560 --> 00:25:52.040\nThere's my default gateway.\n\n503\n00:25:52.040 --> 00:25:59.210\nIf I did an IP config all, I should see\nthat my DNS server is set to 100.200.\n\n504\n00:25:59.210 --> 00:26:03.940\nAnd I can also see DHCP enabled, yes.\n\n505\n00:26:03.940 --> 00:26:07.750\nThat's how I know I'm getting this\nIP address from a DHCP server\n\n506\n00:26:10.150 --> 00:26:13.080\nand I'm not sure what's going\nwith my connection there.\n\n507\n00:26:13.080 --> 00:26:14.630\nOur network is going up and down.\n\n508\n00:26:14.630 --> 00:26:16.210\nI can also see this information.\n\n509\n00:26:16.210 --> 00:26:19.480\nAnother indicator that I'm getting\nthis IP address from DHCP.\n\n510\n00:26:19.480 --> 00:26:23.510\nIt's not static because I can see when\nI got the lease, which is right now,\n\n511\n00:26:23.510 --> 00:26:26.180\nwhen I just asked for the IP address.\n\n512\n00:26:26.180 --> 00:26:27.990\nAnd look, it's good for eight days.\n\n513\n00:26:27.990 --> 00:26:32.390\nFrom the 18th to the 26\nlike we said in our wizard.\n\n514\n00:26:32.390 --> 00:26:35.500\n&gt;&gt; Mike you know I noticed something\nwhen you did change that from a static\n\n515\n00:26:35.500 --> 00:26:38.070\nassignment and\nyou change the DHCP something\n\n516\n00:26:38.070 --> 00:26:41.530\nthat you are relying on this case\non your remote desktop connection.\n\n517\n00:26:41.530 --> 00:26:42.310\nIt failed.\n\n518\n00:26:42.310 --> 00:26:44.470\nNow you saw at the beginning of\nthe episode that you've got to be careful.\n\n519\n00:26:44.470 --> 00:26:47.840\nYou wouldn't want your servers\nto change their IP addresses,\n\n520\n00:26:47.840 --> 00:26:49.960\nemail server if you're\ntrying to find it right.\n\n521\n00:26:49.960 --> 00:26:53.580\nWould this be a classic example\nof even on a simplistic level\n\n522\n00:26:53.580 --> 00:26:55.830\nit might cause a problem with\nanother server or application.\n\n523\n00:26:55.830 --> 00:27:00.020\n&gt;&gt; Absolutely right because if I'm\nremoted in and in my case I did.\n\n524\n00:27:00.020 --> 00:27:04.730\nIf I was to show you my remote\ndesktop connection window,\n\n525\n00:27:04.730 --> 00:27:07.490\nI connect to these guys by IP address.\n\n526\n00:27:07.490 --> 00:27:10.310\nCuz I statically map them all\nwhen I set up my labs, so\n\n527\n00:27:10.310 --> 00:27:11.620\nthat I know which machine is which.\n\n528\n00:27:11.620 --> 00:27:14.460\nI've only got five, I can remember them.\n\n529\n00:27:14.460 --> 00:27:18.150\nAnd in my remote desktop console,\nI've got their IP addresses listed,\n\n530\n00:27:18.150 --> 00:27:20.060\nnot their names.\n\n531\n00:27:20.060 --> 00:27:25.200\nSo when I change when that IP address\nchanged, I dropped my connection.\n\n532\n00:27:25.200 --> 00:27:26.450\nIf I was to go back to that and\n\n533\n00:27:26.450 --> 00:27:29.080\ntry to double click on it again,\nit wouldn't be able to connect.\n\n534\n00:27:29.080 --> 00:27:31.280\nBecause it's no longer\nthe same IP address.\n\n535\n00:27:31.280 --> 00:27:36.240\nAnd that's a very good example, or a real\nexample of how DHCP could affect you.\n\n536\n00:27:36.240 --> 00:27:38.850\n&gt;&gt; And it just shows you\nthere that static assignment.\n\n537\n00:27:38.850 --> 00:27:42.340\nIt does have its place here\ninside of our networks as\n\n538\n00:27:42.340 --> 00:27:45.430\nwell as dynamic making it a little\nbit easier if you've got 500 clients.\n\n539\n00:27:45.430 --> 00:27:47.310\nWell, I guess if you\nwere getting paid hourly,\n\n540\n00:27:47.310 --> 00:27:48.520\nI wouldn't mind statically mapping them.\n\n541\n00:27:48.520 --> 00:27:51.940\nBut you guys have seen the way I type, and\nyou know that wouldn't go over too well.\n\n542\n00:27:51.940 --> 00:27:55.420\nMike, I know that we have just scratched\nthe surface when it comes to DHCP, and\n\n543\n00:27:55.420 --> 00:27:58.280\nI know we got a lot more\ninformation to come.\n\n544\n00:27:58.280 --> 00:27:59.750\nDo you want to save that for\na part two, or\n\n545\n00:27:59.750 --> 00:28:01.280\nyou got anything else\nyou'd like to throw in?\n\n546\n00:28:01.280 --> 00:28:03.370\n&gt;&gt; I do, but there is one more\nthing I want to show you guys,\n\n547\n00:28:03.370 --> 00:28:09.040\nlet's go back over to my DHCP server and\njust see what happened over here.\n\n548\n00:28:09.040 --> 00:28:12.760\nIf I go down to address leases and\nI refresh,\n\n549\n00:28:12.760 --> 00:28:17.790\nthere we can see the client 01\npulled an IP address from DHCP.\n\n550\n00:28:17.790 --> 00:28:22.450\nSo what DHCP did was, client 01 said hey,\nI need an IP address.\n\n551\n00:28:22.450 --> 00:28:27.200\nDHCP here, server one, looked through this\npool, took the first available one out of\n\n552\n00:28:27.200 --> 00:28:30.380\nthe pool and said, here you go,\nwhy don't you use this one?\n\n553\n00:28:30.380 --> 00:28:33.700\nThe client said sure,\nthank you very much, I'll use that one.\n\n554\n00:28:33.700 --> 00:28:38.040\nThe DHCP server then writes down\nwho he gave that address to.\n\n555\n00:28:38.040 --> 00:28:42.590\nAnd that one is no longer available In the\npool, he can't give the same IP address to\n\n556\n00:28:42.590 --> 00:28:46.620\ntwo different clients otherwise we have a\nconflict, so he's gonna keep track of that\n\n557\n00:28:46.620 --> 00:28:50.270\nlease information and\nthat's what we're seeing here.\n\n558\n00:28:50.270 --> 00:28:53.400\nAnd that is all we'll do for now,\nwhen we come back we do have more, we'll\n\n559\n00:28:53.400 --> 00:28:56.030\nstart talking about some of the different\noptions that we have to configure cause\n\n560\n00:28:56.030 --> 00:28:58.450\nwe've really just scratched\nthe surface there.\n\n561\n00:28:58.450 --> 00:29:02.530\nWe also wanna take a look at\nsomething known as reservations and\n\n562\n00:29:02.530 --> 00:29:04.130\npolicies as well.\n\n563\n00:29:04.130 --> 00:29:07.210\n&gt;&gt; Well, that's a lot of great information\nMike and I guess we're gonna go ahead and\n\n564\n00:29:07.210 --> 00:29:08.290\nwe'll wrap it up here.\n\n565\n00:29:08.290 --> 00:29:10.170\nIt's been a great episode,\nthank you for watching.\n\n566\n00:29:10.170 --> 00:29:13.120\nSigning out for ITPRO.TV,\nI've been your host Wes Bryan.\n\n567\n00:29:13.120 --> 00:29:14.040\n&gt;&gt; And I'm Mike Rodrick.\n\n568\n00:29:14.040 --> 00:29:18.749\n&gt;&gt; Stick around cuz we got a lot more DHCP\nand networking with Windows Server 2016.\n\n569\n00:29:22.568 --> 00:29:26.778\n[MUSIC]\n\n570\n00:29:26.778 --> 00:29:28.430\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "194041029"
        },
        {
          "description": null,
          "length": "1906",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-1-install_and_configure_dhcp_pt2-111816-PGM.00_31_32_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-1-install_and_configure_dhcp_pt2-111816-PGM.00_31_32_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-1-install_and_configure_dhcp_pt2-111816-PGM.00_31_32_08.Still001-sm.jpg",
          "title": "Install and Configure DHCP Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.092 --> 00:00:01.365\nWelcome to ITProTV.\n\n2\n00:00:01.365 --> 00:00:04.177\nI'm your host, Don-\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:04.177 --> 00:00:06.166\n&gt;&gt; Coming at you live from San Francisco,\n\n4\n00:00:06.166 --> 00:00:07.320\nCalifornia [CROSSTALK]\n\n5\n00:00:07.320 --> 00:00:08.673\n[MUSIC]\n\n6\n00:00:08.673 --> 00:00:12.328\n&gt;&gt; You're watching ITProTV.\n\n7\n00:00:12.328 --> 00:00:14.989\n&gt;&gt; Welcome back to another\nexciting episode here at ITProTV.\n\n8\n00:00:14.989 --> 00:00:16.679\nI'm your host, Wes Bryan.\n\n9\n00:00:16.679 --> 00:00:17.827\nAnd in today's episode,\n\n10\n00:00:17.827 --> 00:00:21.493\nwe're continuing along our journey in\nnetworking with Windows Server 2016.\n\n11\n00:00:21.493 --> 00:00:24.275\nAnd we've been talking about a very,\nvery important service.\n\n12\n00:00:24.275 --> 00:00:26.345\nI'm glad to be here,\nexcited to be a part of it.\n\n13\n00:00:26.345 --> 00:00:28.935\nJoining us back in the studios is\nnone other than Mr. Mike Rodrick.\n\n14\n00:00:28.935 --> 00:00:29.955\nMike, how are you doing, sir?\n\n15\n00:00:29.955 --> 00:00:31.065\n&gt;&gt; I'm doing fantastic.\n\n16\n00:00:31.065 --> 00:00:35.345\nAnd yeah, we're continuing on\nin the wonderful world of DHCP.\n\n17\n00:00:35.345 --> 00:00:37.624\nSo let's just jump right back into it.\n\n18\n00:00:37.624 --> 00:00:41.420\nWe had finished the previous episode,\nwe created a scope.\n\n19\n00:00:41.420 --> 00:00:43.410\nWe set a couple of\nthe basic options in there.\n\n20\n00:00:43.410 --> 00:00:48.750\nThen we took one of our clients and we\nturned it into a DHCP client by choosing\n\n21\n00:00:48.750 --> 00:00:51.930\nobtain an IP address and\na DNS server address automatically.\n\n22\n00:00:51.930 --> 00:00:55.060\nAnd we saw that it was\nable to pull that back.\n\n23\n00:00:55.060 --> 00:00:58.128\nThey don't really call it out\nin the objectives anymore, but\n\n24\n00:00:58.128 --> 00:01:01.790\nI do wanna mention that process just\nin case they ask you on the exam.\n\n25\n00:01:01.790 --> 00:01:03.980\nIt's also really good when\nyou're troubleshooting.\n\n26\n00:01:03.980 --> 00:01:07.770\nThat process the client goes through\nwhen you turn it to a DHCP client.\n\n27\n00:01:07.770 --> 00:01:11.894\nSo any DHCP client, when they start up or\nwhen they need an IP address.\n\n28\n00:01:11.894 --> 00:01:16.514\nThere's a four-step process they go\nthrough to obtain that configuration\n\n29\n00:01:16.514 --> 00:01:20.951\ninformation from a DHCP server,\nand it's known as DORA, D-O-R-A.\n\n30\n00:01:20.951 --> 00:01:27.000\nIt's discover, offer, request,\nacknowledge, all right?\n\n31\n00:01:27.000 --> 00:01:31.930\nSo the client sends out a broadcast and\nsays, hey, I'm looking for a DHCP server.\n\n32\n00:01:31.930 --> 00:01:33.260\nAnybody out there?\n\n33\n00:01:33.260 --> 00:01:37.440\nThat's the discover, I need to discover\nthe DHCP servers on the network.\n\n34\n00:01:37.440 --> 00:01:42.040\nAll DHCP servers that hear that broadcast,\nthey're programmed to respond to it.\n\n35\n00:01:42.040 --> 00:01:46.250\nThat's their job in life,\nis to listen for that discover packet and\n\n36\n00:01:46.250 --> 00:01:49.230\nrespond to it with what we call an offer.\n\n37\n00:01:49.230 --> 00:01:53.760\nLet me take one of the addresses out of my\npool, wrap it up in a nice little bow, and\n\n38\n00:01:53.760 --> 00:01:57.450\nsay, here you go,\nhere's an IP address that you could use.\n\n39\n00:01:57.450 --> 00:01:59.140\nThe client might get more than one offer.\n\n40\n00:01:59.140 --> 00:02:03.250\nIf there's more than one server on\nthe network that's supplying addresses,\n\n41\n00:02:03.250 --> 00:02:04.670\nit could get more than one offer.\n\n42\n00:02:04.670 --> 00:02:06.810\nSo he's got all these offers coming in.\n\n43\n00:02:06.810 --> 00:02:11.770\nThe client doesn't look at him and go,\nooh, this one's odd, this one's even.\n\n44\n00:02:11.770 --> 00:02:15.062\nI like odd numbers better,\nI'll take this IP address.\n\n45\n00:02:15.062 --> 00:02:18.580\nThe first offer that gets to him\nis the one he's going to take.\n\n46\n00:02:18.580 --> 00:02:22.633\nSo whichever server was faster, usually\nwe're talking about physical proximity,\n\n47\n00:02:22.633 --> 00:02:23.430\nwire distance.\n\n48\n00:02:24.900 --> 00:02:25.890\nSo that's the offer.\n\n49\n00:02:25.890 --> 00:02:31.410\nThe client takes that first offer and\nrequests, it says, hey, I got your offer.\n\n50\n00:02:31.410 --> 00:02:34.420\nI would like to use this if I can,\nI want this address.\n\n51\n00:02:34.420 --> 00:02:36.980\nIt's still not the client's yet, okay?\n\n52\n00:02:36.980 --> 00:02:39.120\nIt's still in the pending stage.\n\n53\n00:02:39.120 --> 00:02:42.600\nHe says, I got your offer and I wanna\nrequest it, I wanna start using it.\n\n54\n00:02:42.600 --> 00:02:44.940\nThat's the R in DORA, the request.\n\n55\n00:02:44.940 --> 00:02:48.170\nSo he sends that request back\nto the offering DHCP services.\n\n56\n00:02:48.170 --> 00:02:49.870\nI got it, I wanna use it.\n\n57\n00:02:49.870 --> 00:02:52.420\nThe server says, all right,\nI'm gonna mark you down.\n\n58\n00:02:52.420 --> 00:02:54.320\nIt's yours, you can now start using it.\n\n59\n00:02:54.320 --> 00:02:55.340\nThat's the acknowledgement.\n\n60\n00:02:55.340 --> 00:02:58.060\nSo D-O-R-A, DORA, four-step process.\n\n61\n00:02:58.060 --> 00:03:00.650\nIf you wanna see it,\nit's actually very easy to see.\n\n62\n00:03:00.650 --> 00:03:05.567\nIn your little practice labs, fire up\nyour DHCP server, fire up your client,\n\n63\n00:03:05.567 --> 00:03:07.584\nfire up Wireshark, all right.\n\n64\n00:03:07.584 --> 00:03:12.370\nOn your DHCP server or the other end,\nit doesn't really matter which end.\n\n65\n00:03:12.370 --> 00:03:14.310\nAnd start capturing packets, and\n\n66\n00:03:14.310 --> 00:03:17.950\nthen do an ipconfig release\nrenew to start that process up.\n\n67\n00:03:17.950 --> 00:03:21.150\nAnd you'll see those four packets\nin that order, the discover,\n\n68\n00:03:21.150 --> 00:03:22.880\nthe offer, the request,\nthe acknowledgement.\n\n69\n00:03:22.880 --> 00:03:24.650\nIt's really cool to see.\n\n70\n00:03:24.650 --> 00:03:27.490\nAll right, so anyway,\nwe got that basics out of there.\n\n71\n00:03:27.490 --> 00:03:30.413\nNow the next thing I wanna talk about,\nso we've given it an IP address,\n\n72\n00:03:30.413 --> 00:03:31.976\neverything's working good there.\n\n73\n00:03:31.976 --> 00:03:34.620\nI wanna talk a little\nbit more about scopes.\n\n74\n00:03:34.620 --> 00:03:37.740\nAnd we're gonna talk about superscopes and\nmulticast scopes.\n\n75\n00:03:37.740 --> 00:03:42.186\nWe'll come back around and talk about some\nof these options here in just a second.\n\n76\n00:03:42.186 --> 00:03:49.268\nBut our scope, in our case has a pool of,\nI forgot how many we set up, 189, 188.\n\n77\n00:03:49.268 --> 00:03:53.299\n188 addresses, somewhere around there.\n\n78\n00:03:53.299 --> 00:03:54.950\nWe can do something called a superscope.\n\n79\n00:03:54.950 --> 00:03:58.992\nAnd a superscope is nothing more\nthan a combination of scopes,\n\n80\n00:03:58.992 --> 00:04:02.440\nmore than one scope\nkinda plugged together.\n\n81\n00:04:02.440 --> 00:04:06.008\nYou don't see these that often,\nbut they're still there and\n\n82\n00:04:06.008 --> 00:04:08.110\nwe should know what they are.\n\n83\n00:04:08.110 --> 00:04:10.290\nAnd again, it's a combination of scopes.\n\n84\n00:04:10.290 --> 00:04:13.750\nAnd you see this in places where they're\ngoing through some growing pains.\n\n85\n00:04:13.750 --> 00:04:16.760\nThey started out with\na class C network address.\n\n86\n00:04:16.760 --> 00:04:20.775\nSo you got 254 possible hosts minus\nany exclusions that you made and\n\n87\n00:04:20.775 --> 00:04:21.873\nthings like that.\n\n88\n00:04:21.873 --> 00:04:25.990\nAnd yeah, we've only got 50 hosts,\nthat'll last us forever.\n\n89\n00:04:25.990 --> 00:04:29.070\nUntil you start figuring out that\neverybody brings in their laptop,\n\n90\n00:04:29.070 --> 00:04:33.940\nand their tablet, and their phone, and\ntheir watch, and their tennis shoes.\n\n91\n00:04:33.940 --> 00:04:38.000\nAnd they all wanna connect to the [LAUGH]\nwireless access to your network.\n\n92\n00:04:38.000 --> 00:04:40.920\nSo they're just eating up your addresses\nfaster than you can dish them out.\n\n93\n00:04:40.920 --> 00:04:44.220\nAnd pretty soon you're like,\nno, I'm out of addresses.\n\n94\n00:04:44.220 --> 00:04:48.510\nAnd if you lease all those addresses out,\nand then somebody else says, hey,\n\n95\n00:04:48.510 --> 00:04:51.490\nI need an IP address,\nyour DHCP server can't do anything.\n\n96\n00:04:51.490 --> 00:04:53.830\nHe just says, sorry, I'm out of addresses.\n\n97\n00:04:53.830 --> 00:04:56.720\nIf somebody gives one up,\nI'll give you that one, but until then,\n\n98\n00:04:56.720 --> 00:04:59.136\nyou're kinda up the creek without\nthe paddle, if you know what I mean.\n\n99\n00:04:59.136 --> 00:05:03.280\nSo maybe where we're going\nthrough those growing pains,\n\n100\n00:05:03.280 --> 00:05:07.440\nwhat I can do is I can create\nanother class C scope, okay.\n\n101\n00:05:07.440 --> 00:05:11.930\nAnd then I can merge the, not really\nmerge the two, but I can join the two and\n\n102\n00:05:11.930 --> 00:05:13.510\ntreat them as a unit.\n\n103\n00:05:13.510 --> 00:05:18.350\nAnd I can basically double up or\ngain more IP addresses.\n\n104\n00:05:18.350 --> 00:05:22.086\nFor example, let me go ahead and\ncreate a couple just test scopes so\n\n105\n00:05:22.086 --> 00:05:23.634\nI don't goof up our scope.\n\n106\n00:05:23.634 --> 00:05:27.475\nI'm gonna create a new scope,\nand I'm gonna do this real quick.\n\n107\n00:05:27.475 --> 00:05:30.187\nI'm just gonna call this test1.\n\n108\n00:05:30.187 --> 00:05:34.499\nAnd I'll say, we're gonna give\n\n109\n00:05:34.499 --> 00:05:39.431\nout 192.168.1.1 through\n\n110\n00:05:39.431 --> 00:05:44.650\n192.168.1.254.\n\n111\n00:05:44.650 --> 00:05:47.606\nAnd that's not 254, Mike, there we go.\n\n112\n00:05:47.606 --> 00:05:50.130\nAnd I'll click Next, no exclusions.\n\n113\n00:05:50.130 --> 00:05:52.370\nNext, Next, Next, just again,\nall the defaults.\n\n114\n00:05:52.370 --> 00:05:55.560\nI'm not even gonna configure the options,\nand Finish.\n\n115\n00:05:55.560 --> 00:05:59.921\nAnd then I'm gonna make another one\nreal quick and do Scope &gt; Next,\n\n116\n00:05:59.921 --> 00:06:04.448\ncall this one, you'll never guess,\noops, evidently it won't go-\n\n117\n00:06:04.448 --> 00:06:05.108\n&gt;&gt; No, they won't.\n\n118\n00:06:05.108 --> 00:06:06.333\n&gt;&gt; I'll call it ET, yeah.\n\n119\n00:06:06.333 --> 00:06:10.724\n&gt;&gt; [LAUGH]\n&gt;&gt; Test2, we'll go Next, and\n\n120\n00:06:10.724 --> 00:06:16.106\nthis one's gonna be 192.168.2.1\n\n121\n00:06:16.106 --> 00:06:20.940\nthrough 192.168.2.254.\n\n122\n00:06:20.940 --> 00:06:27.380\nSame thing, Next, no exclusions, nothing,\nconfigure those later, Next &gt; Finish.\n\n123\n00:06:27.380 --> 00:06:28.950\nSo now I've got these two scopes.\n\n124\n00:06:28.950 --> 00:06:31.390\nAnd that's an important thing to note,\n\n125\n00:06:31.390 --> 00:06:34.170\nthat I made the two scopes\nbefore I made the superscope.\n\n126\n00:06:34.170 --> 00:06:37.240\nCuz what you're gonna see is when I\ngo through the superscope wizard,\n\n127\n00:06:37.240 --> 00:06:39.720\nthere is no create scope option.\n\n128\n00:06:39.720 --> 00:06:42.240\nYou're gonna pick from existing scopes.\n\n129\n00:06:42.240 --> 00:06:44.320\nSo the scopes have to\nbe made ahead of time,\n\n130\n00:06:44.320 --> 00:06:46.270\nthen you can combine\nthem into a superscope.\n\n131\n00:06:46.270 --> 00:06:48.950\nI'm gonna right-click, New Superscope.\n\n132\n00:06:48.950 --> 00:06:51.900\nI just like saying that, superscope.\n\n133\n00:06:51.900 --> 00:06:54.550\nIt's the new and improved mouthwash!\n\n134\n00:06:54.550 --> 00:06:59.700\nI'll click Next, and I'm gonna give\nthe scope name of a Supertest,\n\n135\n00:06:59.700 --> 00:07:02.740\nand we'll click Next.\n\n136\n00:07:02.740 --> 00:07:07.450\nAnd here you can see my list of available\nsubnets, I'll choose the two that I want.\n\n137\n00:07:08.580 --> 00:07:11.540\nI'll click Next &gt; Finish, and that's it.\n\n138\n00:07:11.540 --> 00:07:16.100\nNotice they're gone individually,\nthey're now hidden underneath superscope.\n\n139\n00:07:16.100 --> 00:07:20.670\nThey're still there, they're just\nunderneath my superscope, all right.\n\n140\n00:07:20.670 --> 00:07:22.530\nAnd that's how you can increase.\n\n141\n00:07:22.530 --> 00:07:26.650\nSo if you're planning on growing the\nnetwork, but you're not ready to redo your\n\n142\n00:07:26.650 --> 00:07:31.080\nentire structure, you could just make\nanother subnet or another scope.\n\n143\n00:07:31.080 --> 00:07:34.220\nKinda join it with a different scope and\n\n144\n00:07:34.220 --> 00:07:37.680\nbasically add addresses\nto your possible pool.\n\n145\n00:07:37.680 --> 00:07:42.394\nDo keep in mind, though, that technically,\nif I get an address from this network and\n\n146\n00:07:42.394 --> 00:07:45.012\nanother guy gets an address\nfrom this network,\n\n147\n00:07:45.012 --> 00:07:47.384\nthey're not on the same network, right?\n\n148\n00:07:47.384 --> 00:07:53.391\nThat was a class C, that's a 255,\nit's a 192.168.1.network and a 2.network.\n\n149\n00:07:53.391 --> 00:07:55.490\nSo you are gonna have to\ndeal with routing and\n\n150\n00:07:55.490 --> 00:07:58.121\nmaking sure that everything\nis configured properly.\n\n151\n00:07:58.121 --> 00:08:00.504\nTo support both of those ranges.\n\n152\n00:08:00.504 --> 00:08:03.353\nCuz if Wes' client,\nif he reboots his machine,\n\n153\n00:08:03.353 --> 00:08:07.250\nhe gets an IP address\nfrom 192.168.1 today.\n\n154\n00:08:07.250 --> 00:08:11.042\nNext week when his lease expires,\nhe might get one from 192.168.2.0.\n\n155\n00:08:11.042 --> 00:08:13.019\nWhich means he needs a different gateway.\n\n156\n00:08:13.019 --> 00:08:15.360\nAnd there has be to routing setup for\nthat.\n\n157\n00:08:15.360 --> 00:08:17.010\nSo do keep that in mind.\n\n158\n00:08:17.010 --> 00:08:18.352\nThat's a superscope.\n\n159\n00:08:18.352 --> 00:08:21.740\nYou can also create\na multicast scope in DNS.\n\n160\n00:08:21.740 --> 00:08:24.998\nI can right, DNS, DHCP.\n\n161\n00:08:24.998 --> 00:08:27.667\nI can right-click New multicast Scope.\n\n162\n00:08:27.667 --> 00:08:29.800\nAnd it's gonna run me through a wizard,\nas well.\n\n163\n00:08:29.800 --> 00:08:33.260\nMulticast, hopefully, again,\nif you've been through your Network+,\n\n164\n00:08:33.260 --> 00:08:36.195\nyou've familiar with\nthe concept of a multicast.\n\n165\n00:08:36.195 --> 00:08:38.260\nWe got different types of casts.\n\n166\n00:08:38.260 --> 00:08:42.080\nWe got sidearm casts,\nwe got the overhead, no.\n\n167\n00:08:42.080 --> 00:08:46.005\nYou got one-to-one,\none-to-all, and one-to-many.\n\n168\n00:08:46.005 --> 00:08:52.360\nOne-to-one, unicast, one-to-all,\nbroadcast, one-to-many is your multicast.\n\n169\n00:08:52.360 --> 00:08:54.800\nNot everybody, but more than one, usually.\n\n170\n00:08:54.800 --> 00:09:00.360\nYou do that for like video conferences\na lot of times, what we're doing here.\n\n171\n00:09:00.360 --> 00:09:03.650\nThis is a one, Wes and\nI are the one, to many.\n\n172\n00:09:03.650 --> 00:09:05.370\nI have many viewers out\nthere watching this.\n\n173\n00:09:05.370 --> 00:09:07.570\nSo I got one stream going out, but\n\n174\n00:09:07.570 --> 00:09:10.720\nit's actually being delivered\nto many destinations.\n\n175\n00:09:10.720 --> 00:09:14.764\nKind of in a way, that would\nrepresent a multicast, all right?\n\n176\n00:09:14.764 --> 00:09:15.552\nNow technically,\n\n177\n00:09:15.552 --> 00:09:19.130\nI understand that that's not really\nthe way it's working in the background.\n\n178\n00:09:19.130 --> 00:09:23.480\nBut the concept is the same, all right?\n\n179\n00:09:23.480 --> 00:09:24.990\nYou give it a name.\n\n180\n00:09:24.990 --> 00:09:30.940\nI can just call this MultiTest, all right.\n\n181\n00:09:30.940 --> 00:09:36.188\nAnd remember, your multicast range, 224\nthrough 239, anything, anything, anything.\n\n182\n00:09:36.188 --> 00:09:40.974\nSo say 224.1.1.1 through\n\n183\n00:09:40.974 --> 00:09:47.998\n224.1.1.254, and we'll click Next.\n\n184\n00:09:47.998 --> 00:09:49.700\nNo exclusions.\n\n185\n00:09:49.700 --> 00:09:54.010\nWe'll give it a 30-day lease, Next,\nand I'm not gonna activate it.\n\n186\n00:09:54.010 --> 00:09:56.370\nI don't want it getting in our way\nwhile we're doing the rest of our labs.\n\n187\n00:09:56.370 --> 00:09:57.330\nAnd Finish.\n\n188\n00:09:57.330 --> 00:10:01.902\nAnd now, when those clients get their IP\naddress, they can also pick up a multicast\n\n189\n00:10:01.902 --> 00:10:05.908\naddress they can use to join in on\nmulticast conversations, all right?\n\n190\n00:10:05.908 --> 00:10:12.260\nSo to understand for the exam, DHCP\nsupports superscopes and multicast scopes.\n\n191\n00:10:12.260 --> 00:10:18.260\n&gt;&gt; Now you showed us, when you first\nstarted installing the DHCP role, that\n\n192\n00:10:18.260 --> 00:10:21.180\nwe did have some additional parameters\nthat we can hand out to our clients.\n\n193\n00:10:21.180 --> 00:10:23.210\nLike one you showed us was the router.\n\n194\n00:10:23.210 --> 00:10:25.070\nAnd I believe the other\none was the DNS server.\n\n195\n00:10:25.070 --> 00:10:28.940\nNow is that the only thing that we're\nlimited to, or do we got some choices?\n\n196\n00:10:28.940 --> 00:10:32.038\n&gt;&gt; There's a couple of choices,\n1 or 2, or 25, or 50.\n\n197\n00:10:32.038 --> 00:10:34.596\nI mean, then there's quite a few options.\n\n198\n00:10:34.596 --> 00:10:36.149\nLet's talk about those options.\n\n199\n00:10:39.167 --> 00:10:40.840\nLet's see,\nwhat's a good way to start with this?\n\n200\n00:10:40.840 --> 00:10:43.730\nThere are two different places that\ncan configure the options, all right?\n\n201\n00:10:43.730 --> 00:10:44.800\nThat's gonna be the first place.\n\n202\n00:10:44.800 --> 00:10:46.050\nThat's where I wanna start.\n\n203\n00:10:46.050 --> 00:10:48.780\nYou'll see right here\nI have Server Options.\n\n204\n00:10:48.780 --> 00:10:54.370\nBut if I expand out my Scope,\nI also have scope-level options.\n\n205\n00:10:54.370 --> 00:10:57.870\nSo the first thing you have to think\nabout when you're configuring options is\n\n206\n00:10:57.870 --> 00:11:00.290\nwho do I want this option to go to,\nall right?\n\n207\n00:11:00.290 --> 00:11:05.160\nLet's say I'm configuring a default\ngateway option, all right?\n\n208\n00:11:05.160 --> 00:11:09.160\nIs this for every single machine\nthat connects to the server?\n\n209\n00:11:09.160 --> 00:11:12.030\nOr is this only for\nthis particular scope, all right?\n\n210\n00:11:13.300 --> 00:11:17.840\nWhen we configure it, because a DHCP\nserver can host more than one scope.\n\n211\n00:11:17.840 --> 00:11:20.250\nAs you see I've already\ngot four scopes on here.\n\n212\n00:11:20.250 --> 00:11:25.150\nI might have another subnet,\n10.1.0.0, that I need to support.\n\n213\n00:11:25.150 --> 00:11:27.240\nSo I can add multiple scopes.\n\n214\n00:11:27.240 --> 00:11:32.270\nAnd when I configure an option,\nis this option for all the machines that\n\n215\n00:11:32.270 --> 00:11:35.420\nare getting an IP address from this server\nno matter what scope they're a part of?\n\n216\n00:11:35.420 --> 00:11:36.630\nOr is the option only for\n\n217\n00:11:36.630 --> 00:11:39.850\nthe machines that are getting an IP\naddress from that particular scope?\n\n218\n00:11:39.850 --> 00:11:42.280\nAnd it really depends\non what the option is.\n\n219\n00:11:42.280 --> 00:11:46.155\nThe example I always use is DNS and\ndefault gateways.\n\n220\n00:11:46.155 --> 00:11:48.667\nDNS servers,\nas we've seen in previous episodes,\n\n221\n00:11:48.667 --> 00:11:51.070\ncan handle a tremendous amount of work.\n\n222\n00:11:51.070 --> 00:11:54.570\nAnd if I've got my network divided\ninto five different subnets,\n\n223\n00:11:54.570 --> 00:11:57.560\nI don't need a DNS server\non every single subnet.\n\n224\n00:11:57.560 --> 00:12:02.830\nTwo DNS servers on my domain controllers,\nand that's plenty for most networks.\n\n225\n00:12:02.830 --> 00:12:06.520\nSo that means,\nno matter what subnet you're coming from,\n\n226\n00:12:06.520 --> 00:12:08.820\nyou're gonna get the same IP address for\nDNS.\n\n227\n00:12:08.820 --> 00:12:11.980\nSo I might be in subnet A,\nWes is in subnet B,\n\n228\n00:12:11.980 --> 00:12:15.530\nwe're both gonna be using\nthe same DNS server.\n\n229\n00:12:15.530 --> 00:12:18.763\nSo when I pass out the DNS server option,\nwhen I create that option,\n\n230\n00:12:18.763 --> 00:12:20.880\nI'm gonna do it as a server-level option.\n\n231\n00:12:20.880 --> 00:12:23.880\nCuz I can do it once, and it's good for\nall the scopes on that server.\n\n232\n00:12:24.980 --> 00:12:28.920\nDefault gateways, on the other hand,\nare specific to your subnet.\n\n233\n00:12:28.920 --> 00:12:32.250\nThe default gateway on my\nsubnet has to be on my subnet.\n\n234\n00:12:32.250 --> 00:12:35.430\nSo if I'm on the 192.168.1.0 network,\n\n235\n00:12:35.430 --> 00:12:39.850\nthen my default gateway has\nto be 192.168.1.something.\n\n236\n00:12:39.850 --> 00:12:43.690\nIf Wes is on the 192.168.2.0 network,\n\n237\n00:12:43.690 --> 00:12:47.630\nthen his default gateway has\nto be 192.168.2.something.\n\n238\n00:12:47.630 --> 00:12:50.790\nSo in other words,\nwe're not using the same default gateways.\n\n239\n00:12:50.790 --> 00:12:53.310\nSo I don't want to set that\nas a server-level option.\n\n240\n00:12:53.310 --> 00:12:56.380\nBecause depending on what scope\nyou're getting your address from\n\n241\n00:12:56.380 --> 00:13:00.780\nis going to change what default\ngateway address I wanna give you.\n\n242\n00:13:00.780 --> 00:13:04.550\nSo that would be a better use\nof the scope-level options.\n\n243\n00:13:04.550 --> 00:13:05.140\nMake sense?\n\n244\n00:13:06.152 --> 00:13:08.780\nAll right, so let's take a look at\nthe options that we can configure.\n\n245\n00:13:08.780 --> 00:13:11.980\nI'll do it at the scope level just for\nconvenience here.\n\n246\n00:13:11.980 --> 00:13:15.720\nI'm going to right-click and\nchoose Configure Options.\n\n247\n00:13:15.720 --> 00:13:18.240\nAnd then this is the list\nof available options.\n\n248\n00:13:18.240 --> 00:13:21.435\nAnd I know I went through that really\nquick, but it doesn't really matter.\n\n249\n00:13:21.435 --> 00:13:23.506\nThere's a lot of them, all right?\n\n250\n00:13:23.506 --> 00:13:28.001\nThe most common ones that we use\nare gonna be your default gateway.\n\n251\n00:13:28.001 --> 00:13:30.521\nWhich is option number 003 Router.\n\n252\n00:13:30.521 --> 00:13:34.195\nYour Name Servers, all right, oops.\n\n253\n00:13:34.195 --> 00:13:36.224\nZoom in, the scroll goes a little quick.\n\n254\n00:13:36.224 --> 00:13:40.633\nName Servers, DNS Servers,\nwhat's another one we might use?\n\n255\n00:13:40.633 --> 00:13:41.338\n&gt;&gt; Let's see if I can try one, here.\n\n256\n00:13:41.338 --> 00:13:43.761\nI don't remember, though,\nbut how about 015?\n\n257\n00:13:43.761 --> 00:13:47.090\n&gt;&gt; 015 DNS Domain Name, very good.\n\n258\n00:13:47.090 --> 00:13:49.280\nDefinitely one we wanna configure.\n\n259\n00:13:49.280 --> 00:13:51.690\nI'm trying to think if there's any more.\n\n260\n00:13:51.690 --> 00:13:54.560\nNot really, that I can think\nof off the top of my head.\n\n261\n00:13:54.560 --> 00:13:58.090\nUsed to set some Wins options and\nthings like that.\n\n262\n00:13:58.090 --> 00:14:00.140\nBut as you can see, there's a lot.\n\n263\n00:14:00.140 --> 00:14:05.390\nSo DHCP is capable of passing out\na lot more than just an IP address.\n\n264\n00:14:05.390 --> 00:14:09.494\nDefault gateways, subnet masks,\nDNS servers, Win servers,\n\n265\n00:14:09.494 --> 00:14:13.150\nNetBIOS node types,\nI mean all kinds of good stuff.\n\n266\n00:14:13.150 --> 00:14:16.100\n&gt;&gt; Mike, it's really starting to make\nsense why they call this not only dynamic.\n\n267\n00:14:16.100 --> 00:14:19.110\nBut they call it a host\nconfiguration protocol,\n\n268\n00:14:19.110 --> 00:14:21.350\nif you really break down that acronym.\n\n269\n00:14:21.350 --> 00:14:24.420\nLooking at all these options, you aren't\nkidding when you say host configuration.\n\n270\n00:14:24.420 --> 00:14:26.550\nYou got plenty that you\ncan configure on the host.\n\n271\n00:14:26.550 --> 00:14:27.498\n&gt;&gt; And there's even more.\n\n272\n00:14:27.498 --> 00:14:29.088\nWe're on the general tab now.\n\n273\n00:14:29.088 --> 00:14:34.134\nIf I flip over to this advanced tab, I'll\nsee that there's even more that we can do.\n\n274\n00:14:34.134 --> 00:14:41.142\nAll right, we got vendor class options,\nwhich are based on a particular vendor.\n\n275\n00:14:41.142 --> 00:14:42.740\nThere's class-level options.\n\n276\n00:14:42.740 --> 00:14:44.742\nThere's user class and vendor class.\n\n277\n00:14:44.742 --> 00:14:47.160\nThere's all kinds of things\nthat we can do with DHB.\n\n278\n00:14:47.160 --> 00:14:50.990\nFor this exam,\nthe most important thing to understand is\n\n279\n00:14:50.990 --> 00:14:54.170\nthe difference between server-level\noptions and scope-level options.\n\n280\n00:14:54.170 --> 00:14:59.068\nAnd those big three that we almost\nalways said, Router, DNS Server, and\n\n281\n00:14:59.068 --> 00:15:01.052\nDNS Domain Name, all right?\n\n282\n00:15:01.052 --> 00:15:04.020\nCuz those are what my clients\nneed to function properly.\n\n283\n00:15:04.020 --> 00:15:07.115\nThe other stuff is beneficial\nif I'm using it on my network.\n\n284\n00:15:07.115 --> 00:15:10.760\nThese, you have to have a default gateway\nif you wanna get off your subnet.\n\n285\n00:15:10.760 --> 00:15:14.052\nYou have to have a DNS server\naddress if you wanna log in.\n\n286\n00:15:14.052 --> 00:15:18.740\nYou have to have a DNS domain name that\nyou can use in your search suffix.\n\n287\n00:15:18.740 --> 00:15:21.810\nSo these are the three that you're\nalmost always going to set.\n\n288\n00:15:22.850 --> 00:15:25.330\nAll right,\nnext thing we wanna talk about here, Wes,\n\n289\n00:15:25.330 --> 00:15:27.720\nis something known as reservations.\n\n290\n00:15:29.270 --> 00:15:34.440\nAnd reservations are a way that I can\n\n291\n00:15:34.440 --> 00:15:39.750\nmake sure that a node gets\nthe same IP address every time.\n\n292\n00:15:41.490 --> 00:15:44.278\nAnd you might think to yourself,\nwell, Mike,\n\n293\n00:15:44.278 --> 00:15:47.286\nwhy don't I just statically map that guy,\nright?\n\n294\n00:15:47.286 --> 00:15:51.148\nYou told us in the previous episode\nthat I can either statically map it, or\n\n295\n00:15:51.148 --> 00:15:53.097\nI could do it dynamically with DHCP.\n\n296\n00:15:53.097 --> 00:15:57.930\nAnd with DHCP, It might change week to\nweek, or however long my leases are for,\n\n297\n00:15:57.930 --> 00:15:59.760\neight days to eight days.\n\n298\n00:15:59.760 --> 00:16:01.240\nThose addresses might change,\n\n299\n00:16:01.240 --> 00:16:04.700\nand you said you didn't care on most\nof your machines if it changed or not.\n\n300\n00:16:04.700 --> 00:16:08.210\nNow you're telling me\nyou wanna Use DHCP but\n\n301\n00:16:08.210 --> 00:16:11.325\nmake sure it get the same\nIP address every time.\n\n302\n00:16:11.325 --> 00:16:12.345\nWhat's up with that?\n\n303\n00:16:12.345 --> 00:16:15.755\n&gt;&gt; This sounds like dynamically\nmanaging static addresses, and\n\n304\n00:16:15.755 --> 00:16:16.635\nboy that's confusing.\n\n305\n00:16:16.635 --> 00:16:18.065\nYou can help us out here with that one.\n\n306\n00:16:18.065 --> 00:16:22.360\n&gt;&gt; Yes.\nAnd the reason I would do this Is because\n\n307\n00:16:22.360 --> 00:16:26.080\nyes, I want the IP address\nto be the same every time.\n\n308\n00:16:26.080 --> 00:16:30.385\nBut the other stuff might change and\nI'm okay with that changing dynamically,\n\n309\n00:16:30.385 --> 00:16:31.525\nI don't want to have to go do it.\n\n310\n00:16:31.525 --> 00:16:36.990\nWe've talked about you setting up\nour servers with static addresses.\n\n311\n00:16:36.990 --> 00:16:41.270\nAnother way that I can do that would be to\ncreate a reservation to that server and\n\n312\n00:16:41.270 --> 00:16:44.800\nsay look ,every time this\nparticular server calls up DHCP\n\n313\n00:16:44.800 --> 00:16:46.800\ngiving the same address.\n\n314\n00:16:46.800 --> 00:16:48.960\nBut that way he'll always\nhave the same address, but\n\n315\n00:16:48.960 --> 00:16:50.830\nwhat if the default gateway changes?\n\n316\n00:16:50.830 --> 00:16:52.890\nI fix it in DHCP and\n\n317\n00:16:52.890 --> 00:16:56.480\neven though they got a reservation\nthey're getting the same IP address back.\n\n318\n00:16:56.480 --> 00:16:59.150\nThey'll get the new and\nupdated default gateway.\n\n319\n00:16:59.150 --> 00:17:01.710\nSo you think about all those\noptions that we've got.\n\n320\n00:17:01.710 --> 00:17:08.410\nThe rest of it's still dynamic, it's just\nthe IP address that'll remain the same.\n\n321\n00:17:08.410 --> 00:17:12.520\nCuz if I didn't do it that way, let's say\nI have 15 servers that were statically\n\n322\n00:17:12.520 --> 00:17:15.390\nmapped, or\nthousands in a large environment.\n\n323\n00:17:15.390 --> 00:17:19.780\nAnd everybody was statically mapped and\nwe updated the default gateway address.\n\n324\n00:17:19.780 --> 00:17:25.830\nWell now I've gotta go to every single\none of those servers one at a time and\n\n325\n00:17:25.830 --> 00:17:28.020\nopen up those TCP/IP properties, or\n\n326\n00:17:28.020 --> 00:17:31.210\nwrite some kind of script to\nupdate that default gateway.\n\n327\n00:17:31.210 --> 00:17:35.965\nIf they were DHCP clients, with a\nreservation, I could update DHCP once and\n\n328\n00:17:35.965 --> 00:17:39.312\nthey'd all get the new\ndefault gateway eventually,\n\n329\n00:17:39.312 --> 00:17:41.562\nas soon as they got their new lease.\n\n330\n00:17:41.562 --> 00:17:45.400\nSo that's the reason we\ncan still use a DHCP or\n\n331\n00:17:45.400 --> 00:17:50.030\nwhy we have the reservation\noption within DHCP.\n\n332\n00:17:50.030 --> 00:17:57.350\nAnd again, honestly,\nI will say that servers or static.\n\n333\n00:17:57.350 --> 00:18:02.750\nServers typically are statically mapped\nanyway, but like kiosks are one.\n\n334\n00:18:03.790 --> 00:18:05.980\nI've got a kiosk out in the lobby and\n\n335\n00:18:05.980 --> 00:18:08.460\nI need to be able to remote\ninto it now and again.\n\n336\n00:18:08.460 --> 00:18:10.340\nAnd I wanna know what\nits IP address is and\n\n337\n00:18:10.340 --> 00:18:12.310\nI don't want that IP address to change.\n\n338\n00:18:12.310 --> 00:18:14.400\nBut I don't wanna have to go\nmanually configure that every time\n\n339\n00:18:14.400 --> 00:18:16.790\nthere is a change in the other\noptions on my network.\n\n340\n00:18:16.790 --> 00:18:19.210\nSo I'll probably use a reservation for\nthat kiosk.\n\n341\n00:18:19.210 --> 00:18:21.550\nThose machines in the conference room,\n\n342\n00:18:21.550 --> 00:18:24.310\nI want those guys to always\nget the same IP address.\n\n343\n00:18:24.310 --> 00:18:28.830\nSo if I need to, even if DNS is down,\nI can remote into them by name, and\n\n344\n00:18:28.830 --> 00:18:30.270\nfix things, all right?\n\n345\n00:18:30.270 --> 00:18:32.530\n&gt;&gt; And those IP addresses, because I'm so\n\n346\n00:18:32.530 --> 00:18:35.110\nbad at documentation I\ncan't document anything.\n\n347\n00:18:35.110 --> 00:18:37.810\nI couldn't even find my way\nout of a wet paper bag.\n\n348\n00:18:37.810 --> 00:18:40.840\nI mean if you look at\nthe database in the DHCP console.\n\n349\n00:18:40.840 --> 00:18:44.180\nIt's almost like that would be\nupdated documentation because you've\n\n350\n00:18:44.180 --> 00:18:44.750\ngot reservations.\n\n351\n00:18:44.750 --> 00:18:46.400\nIt's statically mapped to you,\nyou can read it.\n\n352\n00:18:46.400 --> 00:18:47.270\n&gt;&gt; Absolutely, right?\n\n353\n00:18:47.270 --> 00:18:48.210\nIt's documented right there.\n\n354\n00:18:48.210 --> 00:18:50.280\nThat's one less thing\nI've gotta write down.\n\n355\n00:18:50.280 --> 00:18:52.240\nAll right, so how do you do a reservation?\n\n356\n00:18:52.240 --> 00:18:55.840\nWell, if we're gonna do a reservation,\nand remember about the process.\n\n357\n00:18:55.840 --> 00:18:59.470\nI said that a node is gonna boot up and\nit's gonna call up DHCP and\n\n358\n00:18:59.470 --> 00:19:01.760\nat this point it doesn't\nhave an IP address.\n\n359\n00:19:01.760 --> 00:19:03.330\nSo it can't do Unicast traffic.\n\n360\n00:19:03.330 --> 00:19:05.980\nSo it's gonna holler out and\nsay, hello I need an IP address.\n\n361\n00:19:05.980 --> 00:19:08.260\nDHCP then is gonna respond and\n\n362\n00:19:08.260 --> 00:19:12.150\nwe want it to respond with\nthe reservation that we set for it.\n\n363\n00:19:12.150 --> 00:19:15.950\nSo how can I uniquely identify that node?\n\n364\n00:19:15.950 --> 00:19:17.780\nIt doesn't have an IP address yet.\n\n365\n00:19:17.780 --> 00:19:19.920\nIts name could change.\n\n366\n00:19:19.920 --> 00:19:22.010\nI need to make sure that it\nalways gets the same IP address.\n\n367\n00:19:22.010 --> 00:19:24.090\nWes, is there a number on\nthat machine that I can,\n\n368\n00:19:24.090 --> 00:19:28.090\nis there something I can use to\nuniquely identify that machine?\n\n369\n00:19:28.090 --> 00:19:29.420\n&gt;&gt; The Mac address, I would say.\n\n370\n00:19:29.420 --> 00:19:31.140\n&gt;&gt; The Mac address it is, right?\n\n371\n00:19:31.140 --> 00:19:34.740\nWe know that that's\ntechnically not gonna change.\n\n372\n00:19:34.740 --> 00:19:39.180\nIt's really identifying the network\nadapter, not the machine.\n\n373\n00:19:39.180 --> 00:19:41.790\nBut it's not too often that the network\nadapter jumps from one machine\n\n374\n00:19:41.790 --> 00:19:42.650\nto the other.\n\n375\n00:19:42.650 --> 00:19:44.080\nSo it does in a way,\n\n376\n00:19:44.080 --> 00:19:47.920\nit serves it's purpose in this\ncase to identify the machine.\n\n377\n00:19:47.920 --> 00:19:50.740\nSo yes,\nthe MAC address is what we're gonna do or\n\n378\n00:19:50.740 --> 00:19:54.010\nuse to create these reservations,\nso that's what I need.\n\n379\n00:19:54.010 --> 00:19:58.060\nSo what I'm gonna do is I'm gonna take\na look at this lease, because I know if I\n\n380\n00:19:58.060 --> 00:20:03.000\npull up this lease,\nI should be able to find his MAC address.\n\n381\n00:20:03.000 --> 00:20:07.050\nI don't think that's it, looks like\nan odd MAC address, but maybe it is.\n\n382\n00:20:07.050 --> 00:20:11.690\nOne, two, three, four, five, six,\nthat must be his MAC address.\n\n383\n00:20:11.690 --> 00:20:16.560\nWe could always remote into it I guess and\ndouble check that, right?\n\n384\n00:20:16.560 --> 00:20:20.680\nLet's go back over to\nclient one who is no longer\n\n385\n00:20:20.680 --> 00:20:23.910\non this screen because we changed his\nIP address, so here's client one.\n\n386\n00:20:25.180 --> 00:20:27.190\nWes, how can I find his MAC address?\n\n387\n00:20:27.190 --> 00:20:31.370\n&gt;&gt; Well I would say ipconfig /all, and\n\n388\n00:20:31.370 --> 00:20:34.510\nyou can always use the old,\nkind of forgotten getmac.\n\n389\n00:20:34.510 --> 00:20:42.170\n&gt;&gt; Getmac, ooh, I like that one, let's try\nthat, getmac Boo yeah, there's a new one.\n\n390\n00:20:42.170 --> 00:20:44.450\nYou taught me something,\nI didn't even know that existed.\n\n391\n00:20:44.450 --> 00:20:46.792\nAll right, so that is the MAC address,\n\n392\n00:20:46.792 --> 00:20:51.730\n0.0.155 DOA something something\nsomething something something.\n\n393\n00:20:51.730 --> 00:20:56.090\nAnd let's, oops, where did I go,\nback to my DHCP server.\n\n394\n00:20:57.120 --> 00:20:57.620\nServe01.\n\n395\n00:20:59.530 --> 00:21:00.630\nAnd it is that number right there.\n\n396\n00:21:00.630 --> 00:21:02.960\nSo that is the MAC address.\n\n397\n00:21:02.960 --> 00:21:04.550\nSee if I can cut and paste from here.\n\n398\n00:21:06.170 --> 00:21:07.070\nDoo doot doot doo.\n\n399\n00:21:07.070 --> 00:21:08.740\nI can say add a reservation for\nright there.\n\n400\n00:21:08.740 --> 00:21:09.680\nThat's a cool new option, but\n\n401\n00:21:09.680 --> 00:21:12.930\nthat's not what we want to do,\nI want you guys to see this process.\n\n402\n00:21:12.930 --> 00:21:14.620\nSo I want to make a new reservation.\n\n403\n00:21:14.620 --> 00:21:17.700\nSo I do need his MAC address,\nso let's go ahead,\n\n404\n00:21:17.700 --> 00:21:21.270\nI'm gonna right click on reservations,\nso it won't let me do that.\n\n405\n00:21:21.270 --> 00:21:22.540\nWes can you write that one down for me?\n\n406\n00:21:22.540 --> 00:21:23.061\n&gt;&gt; I will do.\n\n407\n00:21:23.061 --> 00:21:31.605\n&gt;&gt; 00155D0AD206.\n\n408\n00:21:31.605 --> 00:21:33.033\n&gt;&gt; All right.\n&gt;&gt; Muchos gracias.\n\n409\n00:21:33.033 --> 00:21:33.927\n&gt;&gt; Yes sir.\n\n410\n00:21:33.927 --> 00:21:37.539\n&gt;&gt; So we're going to reservations and\nwe're simply going to right click and\n\n411\n00:21:37.539 --> 00:21:41.853\nchoose new reservation All right, and I'll\ngive the reservation name and typically,\n\n412\n00:21:41.853 --> 00:21:45.130\nit's the machine you're\ncreating the reservation for.\n\n413\n00:21:45.130 --> 00:21:47.170\nI guess you could technically\ncall it anything you want,\n\n414\n00:21:47.170 --> 00:21:50.680\nbut that makes sense to me, and\nthe IP address that I wanna give it.\n\n415\n00:21:50.680 --> 00:21:53.180\nWhat IP address am I reserving for\nthis guy?\n\n416\n00:21:53.180 --> 00:21:57.450\nLet's do something different, but it does\nhave to be from within the scope and\n\n417\n00:21:57.450 --> 00:21:59.336\nnot one of my excluded addresses.\n\n418\n00:21:59.336 --> 00:22:03.864\nSo let's do 10.0.100.47.\n\n419\n00:22:03.864 --> 00:22:06.640\nThat'll be an odd one we'll know\nthat the reservation worked and\n\n420\n00:22:06.640 --> 00:22:07.858\nthen the MAC address, Wes?\n\n421\n00:22:07.858 --> 00:22:11.950\n&gt;&gt; That's gonna be 00155D0AD206.\n\n422\n00:22:18.500 --> 00:22:19.760\n&gt;&gt; There we go.\n\n423\n00:22:19.760 --> 00:22:24.320\nAnd I'll skip the description and I'll\ngo ahead and click Add and then Close.\n\n424\n00:22:24.320 --> 00:22:28.880\nNow if I go to look at reservations,\nthere's my reservation.\n\n425\n00:22:28.880 --> 00:22:32.020\nNotice it's picking up all the scope level\noptions because it is still part of this\n\n426\n00:22:32.020 --> 00:22:33.440\nscope, right.\n\n427\n00:22:34.650 --> 00:22:36.260\nAnd let's see what happens.\n\n428\n00:22:36.260 --> 00:22:38.729\nWe're going to switch\nback over to the client.\n\n429\n00:22:41.140 --> 00:22:44.340\nSo back to vmhost where I've\ngot my remote desktop for\n\n430\n00:22:44.340 --> 00:22:47.260\nthat client, I should say my\nvirtual machine connection,\n\n431\n00:22:47.260 --> 00:22:49.280\nthat way I do not have to worry\nabout IP addresses changing.\n\n432\n00:22:49.280 --> 00:22:51.690\nI am on the vmhost right now\n\n433\n00:22:51.690 --> 00:22:54.740\nconnected to this guy Which makes\nit a little more convenient.\n\n434\n00:22:54.740 --> 00:22:56.230\nSo Wes how do I give up?\n\n435\n00:22:56.230 --> 00:22:58.930\nI've got a lease currently\nI want to throw it away?\n\n436\n00:22:58.930 --> 00:23:00.830\n&gt;&gt; Man I tell you,\nyou're rally challenging me today.\n\n437\n00:23:00.830 --> 00:23:02.870\n&gt;&gt; [LAUGH]\n&gt;&gt; I want to say this one is forward\n\n438\n00:23:02.870 --> 00:23:04.800\nip config since you're\ngonna give me half of it.\n\n439\n00:23:04.800 --> 00:23:07.290\nSpace forward slash release.\n\n440\n00:23:08.360 --> 00:23:12.450\n&gt;&gt; Release all right, oops and\nyou do have to spell it right don't you?\n\n441\n00:23:12.450 --> 00:23:13.965\n&gt;&gt; You've been looking at my type.\n\n442\n00:23:13.965 --> 00:23:18.368\n&gt;&gt; [LAUGH] There,\nthat looks more like release.\n\n443\n00:23:18.368 --> 00:23:19.281\nAll right.\n\n444\n00:23:19.281 --> 00:23:21.380\n[LAUGH] I just felt the first one.\n\n445\n00:23:21.380 --> 00:23:25.414\nLet me just start all over,\nipconfig/release.\n\n446\n00:23:25.414 --> 00:23:27.310\nAll right.\n\n447\n00:23:27.310 --> 00:23:30.960\nAnd then of course I forgot to\nrun an administrative prompt.\n\n448\n00:23:30.960 --> 00:23:31.920\nSo let's do that.\n\n449\n00:23:31.920 --> 00:23:34.850\nLet's right click,\nrun as an administrator.\n\n450\n00:23:36.110 --> 00:23:42.038\nYes to the UAC,\nthird time is always the charm\n\n451\n00:23:42.038 --> 00:23:47.505\nIP config switch release and there we go.\n\n452\n00:23:47.505 --> 00:23:50.904\nNotice I've got no IP\naddresses down here for\n\n453\n00:23:50.904 --> 00:23:53.863\nethernet adapter and then I can do the.\n\n454\n00:23:55.223 --> 00:23:58.560\nI forget the word I'm looking for, but-\n&gt;&gt; Give it back.\n\n455\n00:23:58.560 --> 00:23:59.672\n&gt;&gt; Yeah, I wanna get the IP address back.\n\n456\n00:23:59.672 --> 00:24:00.529\n&gt;&gt; [LAUGH] Renew.\n\n457\n00:24:00.529 --> 00:24:03.090\n&gt;&gt; The command that goes along with it,\nnot the symbiotic partner.\n\n458\n00:24:03.090 --> 00:24:06.970\nI was trying to get the term I wanted to\nuse there, but my brain has failed me.\n\n459\n00:24:06.970 --> 00:24:09.250\nIpconfig renew says hey,\ngo get a new lease.\n\n460\n00:24:09.250 --> 00:24:11.990\nRelease says,\nthrow away your current lease.\n\n461\n00:24:11.990 --> 00:24:14.738\nRenew says, go get a new lease.\n\n462\n00:24:14.738 --> 00:24:15.530\nSo we'll try it out.\n\n463\n00:24:17.010 --> 00:24:19.540\nEthernet two is unplugged,\nthat's why it says that for that guy.\n\n464\n00:24:21.210 --> 00:24:22.720\nWe'll wait for it.\n\n465\n00:24:22.720 --> 00:24:24.730\n&gt;&gt; And while we're waiting,\nI've also seen, it's kinda interesting.\n\n466\n00:24:24.730 --> 00:24:28.038\nCuz Bluetooth doesn't do that,\nit doesn't do the whole DORA process.\n\n467\n00:24:28.038 --> 00:24:31.200\nBut if you've got Bluetooth\nnetwork adaptors it says,\n\n468\n00:24:31.200 --> 00:24:34.170\nthis can't be performed\non the Bluetooth adapter.\n\n469\n00:24:34.170 --> 00:24:34.990\nWell, thank you anyway.\n\n470\n00:24:34.990 --> 00:24:36.147\n&gt;&gt; Cuz they're too good for it.\n\n471\n00:24:36.147 --> 00:24:37.964\n&gt;&gt; [LAUGH]\n&gt;&gt; And there we go,\n\n472\n00:24:37.964 --> 00:24:41.670\nI got my IP address back and\nlook what IP address I got.\n\n473\n00:24:41.670 --> 00:24:46.290\nAnd if I release and renew it 100 times,\nI would always get that same IP address.\n\n474\n00:24:46.290 --> 00:24:47.920\nThe other information might change.\n\n475\n00:24:47.920 --> 00:24:51.910\nI might go into my options and\nchange the DNS suffix, or\n\n476\n00:24:51.910 --> 00:24:56.200\nthe default gateway, or I might decide\nto start passing out a WINS address.\n\n477\n00:24:56.200 --> 00:24:57.770\nI don't have to do\nanything to this client.\n\n478\n00:24:57.770 --> 00:25:02.436\nThe next time it renews its lease,\nit'll pick up that new information\n\n479\n00:25:02.436 --> 00:25:07.119\nautomatically, yet still get the same\nIP address every single time.\n\n480\n00:25:07.119 --> 00:25:11.120\nSo reservations are great,\na little manual on the set-up, but\n\n481\n00:25:11.120 --> 00:25:15.920\nonce you get that set up,\nyou don't have to do anything else, right?\n\n482\n00:25:15.920 --> 00:25:18.061\nSo we just create that reservation for\nthat client.\n\n483\n00:25:18.061 --> 00:25:22.150\nAnd of course I can create as\nmany reservations as I want.\n\n484\n00:25:22.150 --> 00:25:25.321\nAll right, last thing I wanna talk\nabout in this particular episode.\n\n485\n00:25:25.321 --> 00:25:26.559\nWe talked about the options.\n\n486\n00:25:26.559 --> 00:25:30.723\nThere are scope-level options,\nthere are server-level options, and\n\n487\n00:25:30.723 --> 00:25:32.600\nwe can change them at anytime.\n\n488\n00:25:32.600 --> 00:25:36.800\nI mean, I can go back into the options and\nI could pull up this particular one and\n\n489\n00:25:36.800 --> 00:25:41.190\nremove that, or I could add another one.\n\n490\n00:25:41.190 --> 00:25:42.270\nLet me add that back.\n\n491\n00:25:42.270 --> 00:25:47.765\nAnd I can say,\nI also wanna pass out 10.0.100.201.\n\n492\n00:25:47.765 --> 00:25:51.151\nThat's another one of my DNS servers,\ncuz we wanna pass out more than one.\n\n493\n00:25:51.151 --> 00:25:55.450\nThat way if one's not responding,\nthe other one can help the client out.\n\n494\n00:25:55.450 --> 00:25:57.770\nSo I can go back and\nmodify these options at any time.\n\n495\n00:25:59.210 --> 00:26:03.830\nAnd it's gonna try to validate that\nthere's not really a DNS server there.\n\n496\n00:26:03.830 --> 00:26:04.810\nIt's trying to validate it.\n\n497\n00:26:04.810 --> 00:26:06.560\nI'm gonna say yes, add it anyway.\n\n498\n00:26:06.560 --> 00:26:08.100\nTrying to protect me from myself.\n\n499\n00:26:08.100 --> 00:26:11.102\nThank you Windows, but\nthis is just a demonstration.\n\n500\n00:26:11.102 --> 00:26:11.683\nGo ahead.\n\n501\n00:26:11.683 --> 00:26:12.926\n[LAUGH]\n&gt;&gt; I was just gonna ask,\n\n502\n00:26:12.926 --> 00:26:15.190\ndo you have to restart the DHCP service?\n\n503\n00:26:15.190 --> 00:26:18.640\nOr is it smart enough to know that hey,\nI'll do this in the background for\n\n504\n00:26:18.640 --> 00:26:21.000\nyou when you add that additional option?\n\n505\n00:26:21.000 --> 00:26:21.980\n&gt;&gt; Yep, it'll just take care of it.\n\n506\n00:26:21.980 --> 00:26:23.297\nYou don't have to restart anything.\n\n507\n00:26:24.758 --> 00:26:26.429\nAnd what else was I gonna say?\n\n508\n00:26:26.429 --> 00:26:28.022\nAnd then the subnet itself, right?\n\n509\n00:26:28.022 --> 00:26:29.293\nI can go over here to the subnet.\n\n510\n00:26:29.293 --> 00:26:35.642\nWhat if I wanted to change my pool or\nmy exclusions?\n\n511\n00:26:35.642 --> 00:26:39.767\nI just realized that Wes statically mapped\na printer that was in the middle of\n\n512\n00:26:39.767 --> 00:26:40.289\nmy pool.\n\n513\n00:26:40.289 --> 00:26:45.380\n10.0.100.14 is actually one\nof our network printers.\n\n514\n00:26:45.380 --> 00:26:49.076\nWell, I can simply come back\nover here to this scope, and\n\n515\n00:26:49.076 --> 00:26:51.698\nI can go to the properties of this scope.\n\n516\n00:26:51.698 --> 00:26:55.194\nAnd I'm sorry,\nnot the properties of the scope, silly me.\n\n517\n00:26:55.194 --> 00:26:59.127\nI can go to my exclusions over here,\nAddress Pool, and\n\n518\n00:26:59.127 --> 00:27:01.640\nNew Exclusion Range, right?\n\n519\n00:27:01.640 --> 00:27:03.690\nAnd I could add that address in there.\n\n520\n00:27:03.690 --> 00:27:08.090\nBut there is one thing, and\nthis is really the point of all this.\n\n521\n00:27:08.090 --> 00:27:15.140\nYou can change everything about the scope,\nexcept for one very important thing.\n\n522\n00:27:15.140 --> 00:27:19.320\nI'm gonna right-click on this scope again,\nand I'm gonna choose Properties.\n\n523\n00:27:19.320 --> 00:27:22.090\nAnd there was a change\nthe name of the scope.\n\n524\n00:27:22.090 --> 00:27:24.180\nI could change the start and\nend IP address.\n\n525\n00:27:24.180 --> 00:27:26.390\nI can change the lease duration.\n\n526\n00:27:26.390 --> 00:27:30.050\nI can change how DNS is\nplaying along with DHCP,\n\n527\n00:27:30.050 --> 00:27:32.080\nwhich we're gonna talk\nabout in another episode.\n\n528\n00:27:32.080 --> 00:27:35.090\nI've got some advanced\noptions that I can change.\n\n529\n00:27:35.090 --> 00:27:38.050\nThere's one thing on this tab though,\nWes, that I cannot change.\n\n530\n00:27:38.050 --> 00:27:38.670\nCan you spot it?\n\n531\n00:27:38.670 --> 00:27:42.160\n&gt;&gt; It looks like you're gonna be set\nwith the same subnet mask length.\n\n532\n00:27:42.160 --> 00:27:44.530\n&gt;&gt; Notice how that is greyed out?\n\n533\n00:27:44.530 --> 00:27:46.051\nYou cannot change it.\n\n534\n00:27:46.051 --> 00:27:51.150\nAnd this would make a very\ngood test question.\n\n535\n00:27:51.150 --> 00:27:54.150\nYou have created,\nyour co-workers created a scope,\n\n536\n00:27:54.150 --> 00:27:56.720\nbut they ended up using\nthe wrong subnet mask.\n\n537\n00:27:56.720 --> 00:27:58.020\nYou need to change it.\n\n538\n00:27:58.020 --> 00:28:01.350\nHow do you go about updating\nthe subnet mask on an existing scope?\n\n539\n00:28:01.350 --> 00:28:01.940\nWhat's the answer, Wes?\n\n540\n00:28:01.940 --> 00:28:04.490\n&gt;&gt; My guess is you're gonna have\nto delete it and recreate it.\n\n541\n00:28:04.490 --> 00:28:07.200\n&gt;&gt; And you would be correct,\ngold star for you today.\n\n542\n00:28:07.200 --> 00:28:09.420\nThat's the only way to fix that.\n\n543\n00:28:09.420 --> 00:28:11.230\nThe only thing you can't change, or\n\n544\n00:28:11.230 --> 00:28:13.660\nthe biggest thing you can't change,\nis the subnet mask.\n\n545\n00:28:13.660 --> 00:28:15.240\nThe only way to change it?\n\n546\n00:28:15.240 --> 00:28:17.790\nThere's no magic PowerShell command,\nnothing.\n\n547\n00:28:17.790 --> 00:28:22.145\nYou delete the scope, and you recreate\nthe scope with the correct subnet mask,\n\n548\n00:28:22.145 --> 00:28:23.090\nall right?\n\n549\n00:28:23.090 --> 00:28:26.780\nSo just a little gotcha,\nthat in the real world, can throw you off,\n\n550\n00:28:26.780 --> 00:28:27.930\nhow come I can't change this?\n\n551\n00:28:27.930 --> 00:28:29.080\nWhat's going on?\n\n552\n00:28:29.080 --> 00:28:33.800\nOn the exam it'd be a really easy one to\nmiss, or if you didn't know what it was,\n\n553\n00:28:33.800 --> 00:28:35.800\nyou're like,\nI don't understand the question.\n\n554\n00:28:35.800 --> 00:28:38.218\nSo do understand, and of course\nthey won't ask you that question.\n\n555\n00:28:38.218 --> 00:28:41.010\nI can't talk about\nthe actual questions anyway.\n\n556\n00:28:41.010 --> 00:28:44.979\nAnd if I said one of the questions,\nyou would never get that one.\n\n557\n00:28:44.979 --> 00:28:48.306\nThat's just the way Murphy's law works,\nright?\n\n558\n00:28:48.306 --> 00:28:51.640\nBut yeah, just keep in mind,\nyou can't change that subnet mask anyway.\n\n559\n00:28:51.640 --> 00:28:54.462\nWay back in the day when I first\nstarted studying, it drove me crazy.\n\n560\n00:28:54.462 --> 00:28:56.820\nI was like wait, what's wrong,\nwhy is this grayed out?\n\n561\n00:28:56.820 --> 00:28:59.397\nI typed in the wrong address or\nthe wrong subnet mask, and\n\n562\n00:28:59.397 --> 00:29:00.802\nit wouldn't let me change it.\n\n563\n00:29:00.802 --> 00:29:01.963\nYou can't, so, [LAUGH].\n\n564\n00:29:01.963 --> 00:29:04.629\n&gt;&gt; Well that's a lot of\ngreat information on DHCP.\n\n565\n00:29:04.629 --> 00:29:08.150\nAnd this again, is such a complex topic\nand a lot of great information, Mike.\n\n566\n00:29:08.150 --> 00:29:11.290\nNow I know we're coming to\nthe end of another episode.\n\n567\n00:29:11.290 --> 00:29:15.310\nDo you got any, in this one, any advice\nyou would like to maybe give about DNS\n\n568\n00:29:15.310 --> 00:29:19.470\noptions or the reservations that you\nmight want somebody to keep in mind?\n\n569\n00:29:19.470 --> 00:29:22.447\n&gt;&gt; Just think about the scope and\nthe server-level options,\n\n570\n00:29:22.447 --> 00:29:23.822\ndo pay attention to those.\n\n571\n00:29:23.822 --> 00:29:27.109\nAgain, server-level options are passed out\nto everybody that talks to that server,\n\n572\n00:29:27.109 --> 00:29:29.350\nno matter what scope you're coming from.\n\n573\n00:29:29.350 --> 00:29:30.507\nOne more thing that I didn't mention.\n\n574\n00:29:30.507 --> 00:29:33.740\nThank you for letting me do this, cuz it\nprompted me to think of something else.\n\n575\n00:29:33.740 --> 00:29:35.590\nWhat if there's a server-level option and\n\n576\n00:29:35.590 --> 00:29:38.570\na scope-level option that\nare configuring the same thing, right?\n\n577\n00:29:38.570 --> 00:29:41.181\nBecause I can set a server-level option,\nfor say,\n\n578\n00:29:41.181 --> 00:29:43.448\nthe DNS server address\nthat I wanna pass out.\n\n579\n00:29:43.448 --> 00:29:47.450\nBut I can also go to the scope and I could\nset a scope-level option that passes out\n\n580\n00:29:47.450 --> 00:29:50.970\na DNS server address, and\nit might be a different DNS server.\n\n581\n00:29:50.970 --> 00:29:52.640\nWhat happens then, right?\n\n582\n00:29:52.640 --> 00:29:58.150\nIt actually applies them from\nleast specific to most specific.\n\n583\n00:29:58.150 --> 00:30:00.390\nSo your server-level\noption gets applied first.\n\n584\n00:30:00.390 --> 00:30:04.330\nBut then your scope-level option\ncan override any server-level\n\n585\n00:30:04.330 --> 00:30:05.940\noptions that it conflicts with.\n\n586\n00:30:05.940 --> 00:30:09.630\nSo you might have 20 scopes,\nand you wanna set all 20,\n\n587\n00:30:09.630 --> 00:30:13.080\nall 19 of them, to the same DNS server.\n\n588\n00:30:13.080 --> 00:30:16.322\nOne of them needs a different DNS server,\nthe one that the executives use.\n\n589\n00:30:16.322 --> 00:30:19.778\nAnd you wanna make sure they get good\nperformance, cuz they sign your paychecks.\n\n590\n00:30:19.778 --> 00:30:22.730\nSo what you'd do is you'd set\na server-level option for\n\n591\n00:30:22.730 --> 00:30:25.770\nthe common DNS server\nthat us common folk use.\n\n592\n00:30:25.770 --> 00:30:28.590\nAnd that would actually\napply to all 20 scopes.\n\n593\n00:30:28.590 --> 00:30:30.630\nBut then you'd go to that one scope and\n\n594\n00:30:30.630 --> 00:30:35.140\nset the DNS server option there at\nthe scope-level for the executive scope.\n\n595\n00:30:35.140 --> 00:30:38.639\nThat would override the sever-level\noption, but just for that one scope.\n\n596\n00:30:38.639 --> 00:30:40.596\nThey'd have their own\nprivate DNS server and\n\n597\n00:30:40.596 --> 00:30:43.082\nwouldn't have to deal with\ntraffic from us common folk.\n\n598\n00:30:43.082 --> 00:30:47.850\nSo understand that scope-level options\nwill override server-level options.\n\n599\n00:30:47.850 --> 00:30:50.443\nIf we were to talk about,\nthey don't call it out anymore, but\n\n600\n00:30:50.443 --> 00:30:54.660\nvendor class and user class options\nare actually more specific than scope.\n\n601\n00:30:54.660 --> 00:30:56.730\nSo those would override\nscope-level options.\n\n602\n00:30:56.730 --> 00:30:59.040\nYou can also do reservation-level options.\n\n603\n00:30:59.040 --> 00:31:02.280\nYou can do an option at\nthe reservation level.\n\n604\n00:31:02.280 --> 00:31:06.650\nIt's not used very often, that's why they\ndon't talk about it much anymore I guess,\n\n605\n00:31:06.650 --> 00:31:09.180\nbecause it's really an option for one.\n\n606\n00:31:09.180 --> 00:31:11.000\nIt's not very efficient, all right?\n\n607\n00:31:11.000 --> 00:31:13.757\nIt's not too often that I have\nan option for just one machine.\n\n608\n00:31:13.757 --> 00:31:16.687\nBut understand you can set\nan option at the reservation level,\n\n609\n00:31:16.687 --> 00:31:18.021\nwhich is the most specific.\n\n610\n00:31:18.021 --> 00:31:22.750\nSo that would override user and\nvendor class options, scope options and\n\n611\n00:31:22.750 --> 00:31:24.730\nserver options.\n\n612\n00:31:24.730 --> 00:31:26.100\nAnd that's what I'll leave you with.\n\n613\n00:31:26.100 --> 00:31:28.710\n&gt;&gt; All right, well that's\na great place to sign off here.\n\n614\n00:31:28.710 --> 00:31:31.260\nFor ITPRO.TV,\nI've been your host, Wes Bryan.\n\n615\n00:31:31.260 --> 00:31:32.020\n&gt;&gt; And I'm Mike Rodrick.\n\n616\n00:31:32.020 --> 00:31:33.263\n&gt;&gt; And we'll see you next time.\n\n617\n00:31:33.263 --> 00:31:40.573\n[MUSIC]\n\n618\n00:31:40.573 --> 00:31:42.435\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "194041571"
        },
        {
          "description": null,
          "length": "994",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-1-install_and_configure_dhcp_pt3-111816-PGM.00_16_37_14.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-1-install_and_configure_dhcp_pt3-111816-PGM.00_16_37_14.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-1-install_and_configure_dhcp_pt3-111816-PGM.00_16_37_14.Still001-sm.jpg",
          "title": "Install and Configure DHCP Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.159 --> 00:00:01.294\nYou are watching ITPro.TV.\n\n2\n00:00:01.294 --> 00:00:02.270\nI'm your host Don Pezet.\n\n3\n00:00:02.270 --> 00:00:04.334\n[CROSSTALK]\n\n4\n00:00:04.334 --> 00:00:08.508\n[MUSIC]\n\n5\n00:00:08.508 --> 00:00:11.822\n&gt;&gt; You're watching ITPro.TV.\n\n6\n00:00:11.822 --> 00:00:14.238\n&gt;&gt; Welcome back to another\ngreat episode here at ITPro.TV.\n\n7\n00:00:14.238 --> 00:00:15.710\nI'm your host, Wes Bryan.\n\n8\n00:00:15.710 --> 00:00:19.544\nAnd in today's episode we're continuing\nalong our networking with Windows Server\n\n9\n00:00:19.544 --> 00:00:20.086\n2016.\n\n10\n00:00:20.086 --> 00:00:23.814\nAnd we've spending a couple of episodes,\na few episodes now in DHCP.\n\n11\n00:00:23.814 --> 00:00:26.199\nCuz this is a very important service and\n\n12\n00:00:26.199 --> 00:00:29.680\nit's very important that you\nunderstand it on the exam.\n\n13\n00:00:29.680 --> 00:00:32.550\nSo joining us back in the studios is\nnone other than Mr. Mike Rodrick.\n\n14\n00:00:32.550 --> 00:00:33.130\nMike, how you doing, sir?\n\n15\n00:00:33.130 --> 00:00:33.763\n&gt;&gt; Doing fantastic.\n\n16\n00:00:33.763 --> 00:00:34.457\nThanks for having me back.\n\n17\n00:00:34.457 --> 00:00:40.402\nAnd yeah, continuing on with good old\nDHCP, Dynamic Host Configuration Protocol.\n\n18\n00:00:40.402 --> 00:00:44.986\nIn this episode,\nwe're gonna focus in on of the new\n\n19\n00:00:44.986 --> 00:00:50.327\ncapabilities of the DHCP, and\nthat's gonna be policies.\n\n20\n00:00:50.327 --> 00:00:55.829\nWe've seen already how to get it\ninstalled, how to configure these options.\n\n21\n00:00:55.829 --> 00:00:58.427\nAnd while DHCP itself is\nvery dynamic in other words,\n\n22\n00:00:58.427 --> 00:01:01.903\nit can pass this information from\nthe client's perspective, right?\n\n23\n00:01:01.903 --> 00:01:02.519\nIt's dynamic.\n\n24\n00:01:02.519 --> 00:01:05.072\nBecause I don't have to\nstatically map the client.\n\n25\n00:01:05.072 --> 00:01:08.888\nThey get an IP address automatically,\nthat can change.\n\n26\n00:01:08.888 --> 00:01:13.690\nBut the options that we've configured\nare relatively static, right?\n\n27\n00:01:13.690 --> 00:01:15.871\nI say relatively,\nthey pretty much are static.\n\n28\n00:01:15.871 --> 00:01:20.638\nThey apply to either everybody on\nthe server or everybody in that scope.\n\n29\n00:01:20.638 --> 00:01:24.340\nWe do have the ability to do it at\nthe reservation level for individual node.\n\n30\n00:01:24.340 --> 00:01:28.542\nBut what if I wanna set some\noptions with some different ways\n\n31\n00:01:28.542 --> 00:01:31.720\nof defining who gets those options?\n\n32\n00:01:31.720 --> 00:01:36.463\nLike mobile devices versus\nlaptops versus desktops, or\n\n33\n00:01:36.463 --> 00:01:40.724\nwhether they're running\nXP versus Windows 10.\n\n34\n00:01:40.724 --> 00:01:43.792\nHopefully, they're not still running XP,\nthose kind of things.\n\n35\n00:01:43.792 --> 00:01:50.154\nI was trying to think of something\nelse really, the limit is up to you.\n\n36\n00:01:50.154 --> 00:01:53.208\nI'll show you the things that we can\npick from when we go to identify.\n\n37\n00:01:53.208 --> 00:01:55.430\nName, we could do it by name, for example.\n\n38\n00:01:55.430 --> 00:02:00.182\nMaybe all the computer's in the lab\nthat I've set up for my employees.\n\n39\n00:02:00.182 --> 00:02:03.792\nAll their computer names start with\nLab Client 01 or Lab Client 02.\n\n40\n00:02:03.792 --> 00:02:08.557\nAnd so I could actually say here's\nan option that only applies if your\n\n41\n00:02:08.557 --> 00:02:10.702\nname starts with Lab, right?\n\n42\n00:02:10.702 --> 00:02:13.390\nSo some really cool things we\ncan do with these options.\n\n43\n00:02:13.390 --> 00:02:17.350\nSo let's take a look at my screen, and\nwe'll figure out how we can set these up.\n\n44\n00:02:17.350 --> 00:02:19.290\nAll right, so on my screen here.\n\n45\n00:02:19.290 --> 00:02:22.909\nWe can see I've got the DHCP\nserver console opened up,\n\n46\n00:02:22.909 --> 00:02:25.202\nand I've expanded out our scope.\n\n47\n00:02:25.202 --> 00:02:28.022\nAnd the policies are going to\nbe similar to options, and\n\n48\n00:02:28.022 --> 00:02:30.990\nthe fact that we can do\nthem at the server level.\n\n49\n00:02:30.990 --> 00:02:33.290\nWe can also do them on the scope level.\n\n50\n00:02:33.290 --> 00:02:37.020\nI don't have any policies by default,\nso we're gonna create some.\n\n51\n00:02:37.020 --> 00:02:41.390\nSo all you do to create a policy\nis right-click on Policies and\n\n52\n00:02:41.390 --> 00:02:43.840\nchoose New Policy, right?\n\n53\n00:02:43.840 --> 00:02:46.448\nAnd again, I'm gonna be doing\na Scope level policy here.\n\n54\n00:02:46.448 --> 00:02:50.848\nAnd let's do this,\nwhat are wanna trying to do is set up, so\n\n55\n00:02:50.848 --> 00:02:54.902\nthat we're gonna take our\nscope in kind of divided up.\n\n56\n00:02:54.902 --> 00:02:58.824\nAnd I'm gonna say,\nwell I'll show you guys when we go.\n\n57\n00:02:58.824 --> 00:03:01.090\nWe'll figure this out together.\n\n58\n00:03:01.090 --> 00:03:05.342\nSo Policy Based IP Address and\nOption Assignment.\n\n59\n00:03:05.342 --> 00:03:12.665\nFor my Policy Name, I'm gonna call this\nI don't know, we'll call it Lowerhalf.\n\n60\n00:03:14.676 --> 00:03:18.730\nI know that sounds weird, but it will make\nsense in a minute, then I'll click Next.\n\n61\n00:03:18.730 --> 00:03:22.140\nAnd then configure the conditions for\nthe policy.\n\n62\n00:03:22.140 --> 00:03:26.935\nAnd you see there's no conditions listed,\nso I'm going to click Add.\n\n63\n00:03:26.935 --> 00:03:31.427\nAnd my choices up here for Criteria\nare Vendor Class, User Class, MAC Address,\n\n64\n00:03:31.427 --> 00:03:35.275\nClient Identifier, Fully Qualified\nDomain Name, or Relay Agent.\n\n65\n00:03:35.275 --> 00:03:38.228\nSo how do I wanna identify the node or\n\n66\n00:03:38.228 --> 00:03:42.767\nnodes that I want to apply\nthis particular setting to?\n\n67\n00:03:42.767 --> 00:03:49.220\nAnd I'm gonna use MAC Address for\nthis one, I can do Equals or Not Equals.\n\n68\n00:03:49.220 --> 00:03:51.774\nAnd then I'm gonna put\nthe Value down here.\n\n69\n00:03:51.774 --> 00:03:52.676\nBut before I do that,\n\n70\n00:03:52.676 --> 00:03:55.496\nbefore I do the actual one we're\ngonna use in this demonstration.\n\n71\n00:03:55.496 --> 00:03:58.009\nI'm gonna just goof around\nwith some of the other ones,\n\n72\n00:03:58.009 --> 00:04:00.586\ncuz I wanna show you some cool\nthings that you can do here.\n\n73\n00:04:00.586 --> 00:04:05.615\nFor example, you could do something\nlike Fully Qualified Domain Name,\n\n74\n00:04:05.615 --> 00:04:08.428\nEquals or Not Equals, Is Single Label.\n\n75\n00:04:08.428 --> 00:04:10.170\nMaybe it's a work group and\nnot a domain member.\n\n76\n00:04:10.170 --> 00:04:11.820\nHow about that?\n\n77\n00:04:11.820 --> 00:04:12.970\nHow cool is that?\n\n78\n00:04:12.970 --> 00:04:16.439\nThe ability to pass out an option based\non whether it's part of the domain or\n\n79\n00:04:16.439 --> 00:04:17.910\nnot just by looking at.\n\n80\n00:04:17.910 --> 00:04:23.200\nWhether it's name is client01 or\nclient01.lab.itpro.tv,\n\n81\n00:04:23.200 --> 00:04:26.216\neasy breezy, or is not a single label.\n\n82\n00:04:26.216 --> 00:04:31.040\nWe'll say Equals, and then I'll do for\nthe Value, I'll say Lab.\n\n83\n00:04:31.040 --> 00:04:34.909\nRemember earlier, I was saying that I've\ngot certain machines in my network that\n\n84\n00:04:34.909 --> 00:04:37.892\nare lab machines and\nthey all have lab in their name somewhere.\n\n85\n00:04:37.892 --> 00:04:41.353\nSo I can put Lab here, but this would\nonly match, if I did it like that,\n\n86\n00:04:41.353 --> 00:04:43.900\nit would only match if their\nname was actually Lab.\n\n87\n00:04:43.900 --> 00:04:49.566\nBut we can use wild cards, those have\ngot Prefix and Append wildcards.\n\n88\n00:04:49.566 --> 00:04:52.957\nSo I'm gonna say Prefix wildcard,\nbut I wanna do both,\n\n89\n00:04:52.957 --> 00:04:55.570\nit could be anything Lab anything.\n\n90\n00:04:55.570 --> 00:04:58.856\nSo I'm gonna also choose Append.\n\n91\n00:04:58.856 --> 00:05:02.132\nPrefix, Append,\nwell it's one or the other.\n\n92\n00:05:02.132 --> 00:05:06.820\nIn my humble opinion, I won't call\nyou out on this one Microsoft.\n\n93\n00:05:06.820 --> 00:05:09.511\nBut the etiquette is typically, or\n\n94\n00:05:09.511 --> 00:05:14.722\nthe accepted norm is if it's one or\nthe other, it's radio buttons.\n\n95\n00:05:14.722 --> 00:05:18.540\nIf you can choose more than one, it's\ncheckboxes, that is typical etiquettes.\n\n96\n00:05:18.540 --> 00:05:22.500\nSo I don't know who did this Microsoft,\nbut you should have a talk with them.\n\n97\n00:05:22.500 --> 00:05:25.460\nAnyway, I can't choose more than one,\nit's a little misleading there.\n\n98\n00:05:25.460 --> 00:05:27.070\nSo can I do both?\n\n99\n00:05:27.070 --> 00:05:29.314\nAbsolutely, not at the same time though.\n\n100\n00:05:29.314 --> 00:05:33.334\nSo let's Prefix with a wildcard,\nand I'll click Add, all right.\n\n101\n00:05:33.334 --> 00:05:37.715\nAnd then I'm gonna just type in here Lab,\n\n102\n00:05:37.715 --> 00:05:42.660\nAppend wildcard, and I'll click Add.\n\n103\n00:05:42.660 --> 00:05:47.220\nSo you see that I accomplish the same\nthing, what I just have to is two separate\n\n104\n00:05:47.220 --> 00:05:52.530\nsteps there,\nwhich should give me the same results.\n\n105\n00:05:52.530 --> 00:05:57.634\nI guess if it's in the middle though,\nthat is gonna cause a problem.\n\n106\n00:05:57.634 --> 00:06:01.280\nYeah, so it's something that we have to\nplay around with, try those options there.\n\n107\n00:06:01.280 --> 00:06:05.020\nBut although that was cool that we can\nuse wildcards, you can either append or\n\n108\n00:06:05.020 --> 00:06:06.840\nprepend those values.\n\n109\n00:06:06.840 --> 00:06:12.490\nI'm gonna remove those for ours,\nand let's go back to MAC Address.\n\n110\n00:06:12.490 --> 00:06:16.219\nAnother way you could do this,\nnow I'll just cancel that for a second,\n\n111\n00:06:16.219 --> 00:06:18.158\nis you get your ANDs and ORs, right?\n\n112\n00:06:18.158 --> 00:06:21.348\nSo I can do anything lab, or lab anything.\n\n113\n00:06:21.348 --> 00:06:24.987\nSo there's different ways\nyou can accomplish it,\n\n114\n00:06:24.987 --> 00:06:27.532\nyou just have to kinda play around.\n\n115\n00:06:27.532 --> 00:06:29.583\nBut I'm gonna go back, and\nwe're gonna do MAC Address and mess,\n\n116\n00:06:29.583 --> 00:06:30.828\nyou're gonna have to help me out here.\n\n117\n00:06:30.828 --> 00:06:33.004\nDo you remember that MAC Address for\nNode01?\n\n118\n00:06:33.004 --> 00:06:37.733\n&gt;&gt; I sure do, that's going to be\n\n119\n00:06:37.733 --> 00:06:42.425\n00155 delta 0 delta.\n\n120\n00:06:42.425 --> 00:06:46.254\nExcuse me, take that back that's 0 alpha,\nsorry about that.\n\n121\n00:06:46.254 --> 00:06:49.486\nDelta 206.\n\n122\n00:06:49.486 --> 00:06:56.770\n&gt;&gt; Alright 1, 2, 3, 4, 5, 6, 7, 8,\n9, 10, 11, 12, that looks right.\n\n123\n00:06:56.770 --> 00:07:01.802\nAnd I'll click Add, [COUGH] And\nI'll click OK, all right.\n\n124\n00:07:01.802 --> 00:07:03.480\nAnd that's the only\ncondition I'm gonna use.\n\n125\n00:07:03.480 --> 00:07:08.582\nIn this demonstration, I'm actually\nsetting this up to identify a single node.\n\n126\n00:07:08.582 --> 00:07:11.064\nWhich is typically not how\nyou're gonna use these policies.\n\n127\n00:07:11.064 --> 00:07:17.506\nYou're going to use wildcard, you're gonna\nwanna affect more than one DHCP client.\n\n128\n00:07:17.506 --> 00:07:19.234\nBut for this example,\nI'm just doing only one the one.\n\n129\n00:07:19.234 --> 00:07:23.660\n&gt;&gt; This might be something where I'm not\nsure maybe you can grab like an art table\n\n130\n00:07:23.660 --> 00:07:26.602\nthat has those MAC Addresses\nall ready populated.\n\n131\n00:07:26.602 --> 00:07:28.575\nAnd I'll use that as my chicheat,\nthen you gonna affect more than one.\n\n132\n00:07:28.575 --> 00:07:29.631\n&gt;&gt; Yeah, absolutely or\n\n133\n00:07:29.631 --> 00:07:33.153\nif all of your machines are kind of\nstandardized like all the machines we\n\n134\n00:07:33.153 --> 00:07:36.448\nuse in the sales department,\nall have the same network adapters.\n\n135\n00:07:36.448 --> 00:07:38.640\nThey probably all have the same\nsix digit prefix, right?\n\n136\n00:07:38.640 --> 00:07:41.888\nOn that MAC Address cuz\nthat's have vendor portion.\n\n137\n00:07:41.888 --> 00:07:46.040\nSo I can do the first six asterisk, right?\n\n138\n00:07:46.040 --> 00:07:48.880\nBut that would only work if\nnone of the other machines on\n\n139\n00:07:48.880 --> 00:07:52.604\nmy network were using that particular\nnetwork adapter model, right?\n\n140\n00:07:52.604 --> 00:07:53.640\nSo maybe that wouldn't work.\n\n141\n00:07:53.640 --> 00:07:57.352\nAgain, it's something that you got to\nplay around with in your environment.\n\n142\n00:07:57.352 --> 00:08:03.616\nI'll click Next, so that's how we're\ngonna identify, that's our condition.\n\n143\n00:08:03.616 --> 00:08:07.708\nAnd then the setting or\npolicy that I want to apply,\n\n144\n00:08:07.708 --> 00:08:10.668\nconfigure settings for the policy.\n\n145\n00:08:10.668 --> 00:08:16.376\nAnd it shows me here, the current\nscope range is 100.10 through 100.199.\n\n146\n00:08:16.376 --> 00:08:23.130\nSo what I'm going to do, Do I want to\nconfigure an IP range for the policy?\n\n147\n00:08:23.130 --> 00:08:26.350\nYes, in other words,\nif that condition is true,\n\n148\n00:08:26.350 --> 00:08:28.780\nI wanna give you one of these addresses.\n\n149\n00:08:28.780 --> 00:08:30.579\nEven though the pool is this big,\n\n150\n00:08:30.579 --> 00:08:34.386\nI'm gonna give you just an address\nout of this little slice over here.\n\n151\n00:08:34.386 --> 00:08:36.464\nOkay, this is just an example\nthat's easy to demonstrate.\n\n152\n00:08:36.464 --> 00:08:43.558\n10.0.100.10 thru 10.0.100.49,\n\n153\n00:08:43.558 --> 00:08:51.740\nnow you see why I called it lower half,\nand I'll click Next.\n\n154\n00:08:51.740 --> 00:08:54.100\nAnd then what is it that\nI want to set to them?\n\n155\n00:08:54.100 --> 00:08:58.550\nOther than like right now, I'm setting\nthe IP address, based on that MAC address.\n\n156\n00:08:58.550 --> 00:08:59.702\nI could've said no,\n\n157\n00:08:59.702 --> 00:09:03.290\nI don't want to change,\nthey can have any address out of the pool.\n\n158\n00:09:03.290 --> 00:09:06.890\nCould've said no here, and\nthen when I get to this screen,\n\n159\n00:09:06.890 --> 00:09:11.858\nchanged maybe what router I'm giving them,\nor what DNS server I'm giving them,\n\n160\n00:09:11.858 --> 00:09:14.090\nor what DNS suffix I'm giving them.\n\n161\n00:09:14.090 --> 00:09:16.200\nSo you can really use\nany of these options.\n\n162\n00:09:16.200 --> 00:09:17.994\nI'm gonna stick with just the IP address.\n\n163\n00:09:17.994 --> 00:09:20.892\nI'll click Next, and so here's my summary.\n\n164\n00:09:20.892 --> 00:09:23.717\nIf the MAC address equals this,\n\n165\n00:09:23.717 --> 00:09:28.746\nthen give them an IP address\nfrom this subrange, right?\n\n166\n00:09:28.746 --> 00:09:33.520\nFrom the entire range, and\nI'll click Finish, all right.\n\n167\n00:09:33.520 --> 00:09:35.950\nThen we're gonna need the MAC\naddress of the other client.\n\n168\n00:09:35.950 --> 00:09:39.112\nSo let's see,\nI do not have him as a client.\n\n169\n00:09:39.112 --> 00:09:40.773\nAnd we need to get rid\nof this reservation,\n\n170\n00:09:40.773 --> 00:09:42.540\nbecause that will\ninterfere with my policy.\n\n171\n00:09:42.540 --> 00:09:44.255\nI have a little bit of a conflict,\n\n172\n00:09:44.255 --> 00:09:46.902\nis he gonna get this IP\naddress in the reservation?\n\n173\n00:09:46.902 --> 00:09:48.054\nOr is he going to get the IP address?\n\n174\n00:09:48.054 --> 00:09:51.422\nActually the reservation is within\nthe range, so it might work,\n\n175\n00:09:51.422 --> 00:09:53.332\nbut it wouldn't be what we wanna do.\n\n176\n00:09:53.332 --> 00:09:55.680\nAll right, so\nI'm gonna delete that reservation.\n\n177\n00:09:56.840 --> 00:10:02.100\nNext, I'm gonna go get the MAC\naddress of the second client.\n\n178\n00:10:02.100 --> 00:10:08.376\nSo let me flip over to client two, and\n\n179\n00:10:08.376 --> 00:10:15.466\nlet's figure what it's Mac address is.\n\n180\n00:10:15.466 --> 00:10:18.701\nAnd Wes, if you would be so\n\n181\n00:10:18.701 --> 00:10:23.115\nkind as to take this one down for me,\n\n182\n00:10:23.115 --> 00:10:28.282\n00155 delta 0 alpha delta 211.\n\n183\n00:10:28.282 --> 00:10:31.430\nAll right, so we got his MAC address and\nI'm gonna disconnect that.\n\n184\n00:10:31.430 --> 00:10:34.459\nBecause we are gonna be\nchanging his IP address, so\n\n185\n00:10:34.459 --> 00:10:36.510\nit's gonna drop in just a minute.\n\n186\n00:10:36.510 --> 00:10:42.525\nAnd let's go back over to our policies,\nand let's make another policy.\n\n187\n00:10:42.525 --> 00:10:46.258\nRight-click New Policy,\n\n188\n00:10:46.258 --> 00:10:50.970\nI call this one Upperhalf, Next.\n\n189\n00:10:50.970 --> 00:10:55.464\nAnd the condition, I'm gonna Add,\nand we'll do the same thing.\n\n190\n00:10:55.464 --> 00:11:01.110\nIf the MAC address equals 000-\n&gt;&gt; 15.\n\n191\n00:11:01.110 --> 00:11:02.102\n&gt;&gt; 15.\n\n192\n00:11:02.102 --> 00:11:08.022\n&gt;&gt; 5 delta 0 alpha delta 211.\n\n193\n00:11:08.022 --> 00:11:11.110\n&gt;&gt; All right, and I'll add that one.\n\n194\n00:11:11.110 --> 00:11:12.728\nAnd I'll click OK.\n\n195\n00:11:12.728 --> 00:11:14.670\nAnd then we'll click Next.\n\n196\n00:11:16.070 --> 00:11:19.233\nAnd I do wanna change the IP address\nthat I'm giving them if that MAC\n\n197\n00:11:19.233 --> 00:11:20.091\naddress is true.\n\n198\n00:11:20.091 --> 00:11:25.497\nSo I'm gonna say, 10.0.100.50\n\n199\n00:11:25.497 --> 00:11:32.902\nthrough 10.0.100.199, and I'll click Next.\n\n200\n00:11:32.902 --> 00:11:38.986\nAnd we'll skip any of these other options,\nand we'll click Next and Finish.\n\n201\n00:11:38.986 --> 00:11:43.154\nAnd so now I have my two\npolicies in place, right?\n\n202\n00:11:43.154 --> 00:11:46.780\nAnd again, we're targeting\na single node with these policies.\n\n203\n00:11:46.780 --> 00:11:49.170\nThese policies are really meant\nto target multiple nodes.\n\n204\n00:11:49.170 --> 00:11:52.488\nBut as you can see, you might have need,\nlike that kiosk out front.\n\n205\n00:11:52.488 --> 00:11:55.298\nMaybe you've got an option that\nyou'd wanna give to that, and\n\n206\n00:11:55.298 --> 00:11:56.688\nyou wanna use a policy to do it.\n\n207\n00:11:56.688 --> 00:12:01.070\nAll right, so we've got our policies\nin place, let's see if they work.\n\n208\n00:12:01.070 --> 00:12:04.938\nSo I'm going to switch over to VMHost,\n\n209\n00:12:04.938 --> 00:12:09.402\nso I can get directly in\nto these little guys.\n\n210\n00:12:09.402 --> 00:12:17.020\nWe'll go to Client one, and\nit still has that reserved IP address.\n\n211\n00:12:17.020 --> 00:12:20.572\nI'm gonna do that same thing we\ndid earlier, ipconfig /release,\n\n212\n00:12:20.572 --> 00:12:22.268\nto throw away my current lease.\n\n213\n00:12:22.268 --> 00:12:27.160\nAnd then ipconfig/renew,\nlet's see what IP address\n\n214\n00:12:27.160 --> 00:12:31.800\nwe get now when we talk\nto that DHCP server.\n\n215\n00:12:31.800 --> 00:12:36.068\nAnd notice I got back 47, but\nthat is within that lower half,\n\n216\n00:12:36.068 --> 00:12:39.570\n0 or 1 through 49, I think is what I set.\n\n217\n00:12:39.570 --> 00:12:41.924\nSo it said, hey, I'll give you that\none back, it's still within the range.\n\n218\n00:12:41.924 --> 00:12:46.530\nBut client two should definitely\nget one that's in 50 through 199.\n\n219\n00:12:46.530 --> 00:12:48.878\nSo let's see,\nwe'll switch over to client two.\n\n220\n00:12:48.878 --> 00:12:54.250\nIf I can connect to it there,\nwe'll blow that up.\n\n221\n00:12:54.250 --> 00:12:59.370\nAnd we'll open up an administrative\nPowerShell, as I remember this time.\n\n222\n00:13:01.314 --> 00:13:05.387\nAnd let's see what IP address is\ncurrently, ipconfig, it's 100.12,\n\n223\n00:13:05.387 --> 00:13:06.492\nstatically mapped.\n\n224\n00:13:06.492 --> 00:13:10.275\nSo let's unmap that,\ncuz you cannot release and\n\n225\n00:13:10.275 --> 00:13:13.052\nredo a statically mapped address.\n\n226\n00:13:13.052 --> 00:13:17.600\nSo we'll change them over to DHCP,\nand see what he gets.\n\n227\n00:13:18.990 --> 00:13:21.970\nObtain an IP address and\nDNS server address automatically.\n\n228\n00:13:22.980 --> 00:13:24.470\nWe'll wait for that to go away.\n\n229\n00:13:28.710 --> 00:13:32.535\nAnd then we'll do a little ipconfig,\nand look it there.\n\n230\n00:13:32.535 --> 00:13:36.806\n10.0.100.50, first address\navailable in the upperhalf.\n\n231\n00:13:36.806 --> 00:13:43.540\nSo you can see our policies are being\napplied when that client reached to DHCP.\n\n232\n00:13:43.540 --> 00:13:46.064\nHe said, I need an IP address.\n\n233\n00:13:46.064 --> 00:13:49.880\nThe DHCP server said wait I got\na policy that matches this request.\n\n234\n00:13:49.880 --> 00:13:52.246\nI see you're MAC address in that packet.\n\n235\n00:13:52.246 --> 00:13:55.098\nThe policy says,\nif they have this MAC address,\n\n236\n00:13:55.098 --> 00:13:58.640\nI should give you an IP address\nfrom this range, right?\n\n237\n00:13:58.640 --> 00:14:02.869\nAnd again in this policy, we were really\ntargeting individual machines just for\n\n238\n00:14:02.869 --> 00:14:04.312\ndemonstration purposes.\n\n239\n00:14:04.312 --> 00:14:08.000\nI don't have 200 nodes running\nvirtually in my little lab.\n\n240\n00:14:08.000 --> 00:14:12.350\nBut in the real world, we'd probably be\ndoing something a little less specific.\n\n241\n00:14:12.350 --> 00:14:15.528\nWe'd wanna capture,\nwe divide up our notes however we want it.\n\n242\n00:14:15.528 --> 00:14:20.242\nLike I say, mobile devices\nversus desktops or printers.\n\n243\n00:14:20.242 --> 00:14:25.426\nAnd you can take advantage of those vendor\nclasses, for example, an HP vendor class.\n\n244\n00:14:25.426 --> 00:14:28.955\nSo I can have a pool that\ngoes from 1 to 254, but\n\n245\n00:14:28.955 --> 00:14:33.510\nif the client reports in that hey,\nby the way I'm an HP printer.\n\n246\n00:14:33.510 --> 00:14:36.842\nI can say, I got a policy that says you\nshould have an IP address that's above\n\n247\n00:14:36.842 --> 00:14:37.578\n199, right?\n\n248\n00:14:37.578 --> 00:14:41.549\nOr you get a different default\ngateway,or you get don't get a default\n\n249\n00:14:41.549 --> 00:14:42.498\ngateway at all.\n\n250\n00:14:42.498 --> 00:14:46.545\nThat's the thing that we can do with\nthis policies is we can identify groups\n\n251\n00:14:46.545 --> 00:14:50.013\nof nodes that we wanna apply\nan option to without having to create\n\n252\n00:14:50.013 --> 00:14:53.180\nseparate scopes and\ntrying to figure out how to identify.\n\n253\n00:14:53.180 --> 00:14:57.630\nWe've got policies now in DHCP\nthat we can use to identify\n\n254\n00:14:57.630 --> 00:15:02.360\nclients based on their IP address,\nor their MAC address, or\n\n255\n00:15:02.360 --> 00:15:06.182\ntheir names, their FQDN or\nclient identifier.\n\n256\n00:15:06.182 --> 00:15:08.801\nSo really cool things that they've added,\n\n257\n00:15:08.801 --> 00:15:13.200\ngiving us a little more flexibility and\ncontrol within our DHCP surface.\n\n258\n00:15:14.840 --> 00:15:16.090\n&gt;&gt; And that's really cool, Mike.\n\n259\n00:15:16.090 --> 00:15:19.524\nCuz like you've mentioned that DHCP,\nif I got a client on the network and\n\n260\n00:15:19.524 --> 00:15:23.380\nit just calls out, I mean DHCP is\nconfigured, hey, here's the address.\n\n261\n00:15:23.380 --> 00:15:26.509\nAnd now being able to add\na condition like and or or, and\n\n262\n00:15:26.509 --> 00:15:28.766\nthen an operator equal to or less than.\n\n263\n00:15:28.766 --> 00:15:32.022\nAnd here's what I'm really impressed\nabout is the fact that you didn't change\n\n264\n00:15:32.022 --> 00:15:33.292\nthe underlying DHCP service.\n\n265\n00:15:33.292 --> 00:15:35.046\nYou didn't have to reinvent the wheel.\n\n266\n00:15:35.046 --> 00:15:37.524\nNow it does look like we're coming\nto the end of another episode.\n\n267\n00:15:37.524 --> 00:15:40.831\nBut before we do, Mike, do you got any\nadditional maybe words of wisdom for\n\n268\n00:15:40.831 --> 00:15:41.364\npolicies?\n\n269\n00:15:41.364 --> 00:15:43.622\n&gt;&gt; I can't think of any\noff the top of my head.\n\n270\n00:15:43.622 --> 00:15:45.350\nPlay around with them, do test them.\n\n271\n00:15:45.350 --> 00:15:47.690\nMake sure that you're getting\nthe results that you expect.\n\n272\n00:15:47.690 --> 00:15:51.415\nMake sure that it's identifying\nthose nodes correctly.\n\n273\n00:15:51.415 --> 00:15:53.543\nLike you saw with the wild cards there,\n\n274\n00:15:53.543 --> 00:15:56.200\nit's not as straight forward\nas I like to see it.\n\n275\n00:15:56.200 --> 00:16:01.940\nI can't do asterisk lab asterisk, I got\nto do asterisk lab and then lab asterisk.\n\n276\n00:16:01.940 --> 00:16:05.876\nAnd that might not work if lab\nis in the middle of the name so.\n\n277\n00:16:05.876 --> 00:16:08.508\nBut maybe you can figure something else\nthat all machines start with this.\n\n278\n00:16:08.508 --> 00:16:12.395\nSo again it just comes down to kind of\nexploring your options there with those\n\n279\n00:16:12.395 --> 00:16:13.660\npolices.\n\n280\n00:16:13.660 --> 00:16:14.856\n&gt;&gt; Mike, a lot of great information.\n\n281\n00:16:14.856 --> 00:16:17.656\nIt looks like that's a great\nplace to sign off for ITPro.TV.\n\n282\n00:16:17.656 --> 00:16:19.592\nI've been your host, Wes Bryan.\n\n283\n00:16:19.592 --> 00:16:20.728\n&gt;&gt; And I'm Mike Rodrick.\n\n284\n00:16:20.728 --> 00:16:22.552\n&gt;&gt; And we'll see you next time.\n\n285\n00:16:22.552 --> 00:16:29.542\n[MUSIC]\n\n286\n00:16:29.542 --> 00:16:31.885\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "194393814"
        },
        {
          "description": null,
          "length": "1908",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-4-install_and_configure_dhcp_pt4-112216-PGM.00_31_35_18.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-4-install_and_configure_dhcp_pt4-112216-PGM.00_31_35_18.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-4-install_and_configure_dhcp_pt4-112216-PGM.00_31_35_18.Still001-sm.jpg",
          "title": "Install and Configure DHCP Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:03.433\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.433 --> 00:00:06.710\n[CROSSTALK]\n\n3\n00:00:06.710 --> 00:00:08.331\n[MUSIC]\n\n4\n00:00:08.331 --> 00:00:11.478\n&gt;&gt; Your watching ITProTV.\n\n5\n00:00:11.478 --> 00:00:16.070\n&gt;&gt; Welcome to another great up,\nso right here on ITProTV.\n\n6\n00:00:16.070 --> 00:00:17.357\nI'm your host Ronnie Wong.\n\n7\n00:00:17.357 --> 00:00:21.771\nAnd today we're taking look at Networking,\nwith Windows Server 2016.\n\n8\n00:00:21.771 --> 00:00:26.856\nWe're specifically diving back into a part\nfour, on installing and configuring DHCP.\n\n9\n00:00:26.856 --> 00:00:30.490\nAnd here to help us out, is our kung\nfu master himself Mr. Mike Rodrick.\n\n10\n00:00:30.490 --> 00:00:31.795\nMike, welcome back to the show.\n\n11\n00:00:31.795 --> 00:00:33.258\n[LAUGH]\n&gt;&gt; Thanks Ronnie,\n\n12\n00:00:33.258 --> 00:00:33.920\nthanks for having me back.\n\n13\n00:00:33.920 --> 00:00:35.005\n&gt;&gt; You're welcome.\n&gt;&gt; And you're right,\n\n14\n00:00:35.005 --> 00:00:38.263\ncontinuing on with good old DHCP,\nwe got some cool things we wanna look at.\n\n15\n00:00:38.263 --> 00:00:41.919\nSomething to take you to that\nnext level with good old DHCP.\n\n16\n00:00:41.919 --> 00:00:44.441\nWe saw some of the basics,\nin the previous episode.\n\n17\n00:00:44.441 --> 00:00:45.709\nWe got it installed,\n\n18\n00:00:45.709 --> 00:00:49.940\nwe created some scopes, talked\na little bit about that process there.\n\n19\n00:00:49.940 --> 00:00:52.426\nAnd the first thing we're\ngonna look at today,\n\n20\n00:00:52.426 --> 00:00:54.830\nis something known as a relay agent.\n\n21\n00:00:54.830 --> 00:00:57.850\n&gt;&gt; All right, so Mike,\nin terms of this idea of the relay agent.\n\n22\n00:00:59.510 --> 00:01:00.420\nI understand something,\n\n23\n00:01:00.420 --> 00:01:04.680\nthat when we actually set up a DHCP\nserver, I need to have a DHCP server.\n\n24\n00:01:04.680 --> 00:01:07.820\nBut there's a way for me,\nto actually have a single DHCP server.\n\n25\n00:01:07.820 --> 00:01:10.310\nBut they can actually even\nserve out IP addresses,\n\n26\n00:01:10.310 --> 00:01:12.350\nfor multiple subnets as well, right?\n\n27\n00:01:12.350 --> 00:01:16.030\n&gt;&gt; Exactly right,\nwe're gonna be able to manage or\n\n28\n00:01:16.030 --> 00:01:19.230\nprovide IP addresses with a single server,\nto multiple subnets.\n\n29\n00:01:19.230 --> 00:01:23.210\nNow, one of the things we have to\nthink about is that DHCP process.\n\n30\n00:01:23.210 --> 00:01:26.664\nWe didn't really go into\nthe details of DORA,\n\n31\n00:01:26.664 --> 00:01:30.660\nD-O-R-A, Discover Offer\nRequest Acknowledge.\n\n32\n00:01:30.660 --> 00:01:33.637\nBut, when we talk about DHCP,\nwhat we have to remember,\n\n33\n00:01:33.637 --> 00:01:36.181\nis that all of those that\ninitial conversation,\n\n34\n00:01:36.181 --> 00:01:40.170\nthat conversation between the client,\nthat's looking for an IP address.\n\n35\n00:01:40.170 --> 00:01:43.512\nAnd the DHCP server that's\nproviding the IP address,\n\n36\n00:01:43.512 --> 00:01:46.710\nall of that is done using broadcast.\n\n37\n00:01:46.710 --> 00:01:50.460\nWhen we talk about unicast, versus\nmulticast versus broadcast, and Ronnie,\n\n38\n00:01:50.460 --> 00:01:51.870\nyou're our Cisco guy.\n\n39\n00:01:51.870 --> 00:01:53.430\nBy default, if I don't configure it,\n\n40\n00:01:53.430 --> 00:01:56.550\nwhat do routers typically\ndo with broadcast traffic?\n\n41\n00:01:56.550 --> 00:01:58.800\n&gt;&gt; When you start taking\na look at the idea of routers,\n\n42\n00:01:58.800 --> 00:02:02.360\nrouters normally by default do\nnot allow broadcast traffic,\n\n43\n00:02:02.360 --> 00:02:04.930\nto pass from one interface\nto another interface.\n\n44\n00:02:04.930 --> 00:02:06.520\nSo it effectively blocks it.\n\n45\n00:02:06.520 --> 00:02:10.490\nNow we can actually make it change and\ndo some other things with it, but\n\n46\n00:02:10.490 --> 00:02:13.750\noverall though, by its default,\nit actually stops it.\n\n47\n00:02:13.750 --> 00:02:15.620\nSo the reason why that's\nimportant Mike for\n\n48\n00:02:15.620 --> 00:02:20.670\nDHCP, is that that means if I have\nanother IP address that I need to hand\n\n49\n00:02:20.670 --> 00:02:24.700\nout in a different subnet, I can't get it\nthrough, so how is this gonna work, Mike?\n\n50\n00:02:24.700 --> 00:02:27.470\n&gt;&gt; Exactly, that's what Relay Agent,\nis gonna do for us.\n\n51\n00:02:27.470 --> 00:02:29.618\nIt's gonna help us out in this scenario.\n\n52\n00:02:29.618 --> 00:02:32.092\nSo let's take a look, and\nI have got it set up.\n\n53\n00:02:32.092 --> 00:02:33.515\nWe're gonna start off very simple.\n\n54\n00:02:33.515 --> 00:02:36.340\nI've got my domain controller,\nthat we're using the other day.\n\n55\n00:02:36.340 --> 00:02:38.438\nIf I open up the DHCP console.\n\n56\n00:02:39.955 --> 00:02:44.297\nWe have our DHCP server still\nconfigured and if we take a look,\n\n57\n00:02:44.297 --> 00:02:47.720\nI've got a couple of\nscopes that I created.\n\n58\n00:02:47.720 --> 00:02:50.990\nWe got the 1000 subnet here.\n\n59\n00:02:50.990 --> 00:02:53.000\nAnd let's take a look at what we've got.\n\n60\n00:02:53.000 --> 00:02:54.170\nLet's flip over to the client.\n\n61\n00:02:55.660 --> 00:03:01.620\nI'm doing all of this via Virtual Machine\nconnection, rather than remote desktop.\n\n62\n00:03:01.620 --> 00:03:03.770\nCuz we're gonna be changing IP addresses,\nand\n\n63\n00:03:03.770 --> 00:03:05.550\nit makes it very difficult\nto remote into the guy.\n\n64\n00:03:05.550 --> 00:03:09.340\nSo bear with me as I switch back and\nforth, between these machines.\n\n65\n00:03:09.340 --> 00:03:12.920\nWe flip over to my client, and\nwe open up little PowerShell,\n\n66\n00:03:12.920 --> 00:03:15.920\nand we do a little ipconfig, switch all.\n\n67\n00:03:17.080 --> 00:03:21.300\nI can see that I've got an address,\nbut that is statically mapped.\n\n68\n00:03:21.300 --> 00:03:23.110\nDHCP enabled, no.\n\n69\n00:03:23.110 --> 00:03:24.500\nSo let's change that.\n\n70\n00:03:24.500 --> 00:03:28.470\nLet's get our client,\nto get an IP Address from the DHCP server.\n\n71\n00:03:28.470 --> 00:03:30.369\nSo I'm gonna pull up my\nNetwork Adapter settings.\n\n72\n00:03:32.103 --> 00:03:35.593\nAnd we'll go in and\nwe'll change that to a DHCP client,\n\n73\n00:03:35.593 --> 00:03:38.872\nby pulling up the Properties\non my Network Adapter.\n\n74\n00:03:38.872 --> 00:03:42.193\nDiving into IPv4 and\ntelling it to obtain an IP address, and\n\n75\n00:03:42.193 --> 00:03:44.870\na DNS server address automatically.\n\n76\n00:03:44.870 --> 00:03:49.520\nI'll click OK a couple of times,\nwe'll let that kick in And hopefully,\n\n77\n00:03:49.520 --> 00:03:53.520\nas I closed these windows I'll leave them\nopen, we might need them in a minute.\n\n78\n00:03:53.520 --> 00:03:57.252\nFlip back over here,\ndo a little ipconfig again.\n\n79\n00:03:57.252 --> 00:04:02.017\nAnd now, I can see I've got\na different IP address, 10.0.100.11.\n\n80\n00:04:02.017 --> 00:04:06.596\nDHCP is enabled,\nI can see who my DHCP server is,\n\n81\n00:04:06.596 --> 00:04:10.410\nI can see how long that lease is good for.\n\n82\n00:04:10.410 --> 00:04:13.394\nSo I'm getting this IP address, from DHCP.\n\n83\n00:04:13.394 --> 00:04:20.362\nAnd if we flip over to the DHCP server,\nwe'll switch back to DC1 and I refresh.\n\n84\n00:04:20.362 --> 00:04:25.660\nWe should see, there it is, client 01,\nis picking up that IP address from DHCP.\n\n85\n00:04:25.660 --> 00:04:27.760\nNow the reason this is working, Ronnie,\n\n86\n00:04:27.760 --> 00:04:30.260\nis if we look at the way\nthe network is structured.\n\n87\n00:04:30.260 --> 00:04:32.570\nThis is pretty much what we've got.\n\n88\n00:04:32.570 --> 00:04:34.710\nWe have our DHCP server.\n\n89\n00:04:36.160 --> 00:04:39.800\nWhich is by demand control,\nor DC01 that's running DHCP.\n\n90\n00:04:39.800 --> 00:04:42.020\nThere's a switch,\nthat these nodes are connected to,\n\n91\n00:04:42.020 --> 00:04:45.200\nand my client is connected to this switch.\n\n92\n00:04:45.200 --> 00:04:50.430\nAnd so switches, they allow broadcast\ntraffic, they don't try to block anything.\n\n93\n00:04:50.430 --> 00:04:53.280\nThey're not making that contention domain.\n\n94\n00:04:53.280 --> 00:04:56.190\nAnd so the client's hollering out,\nI need an IP address,\n\n95\n00:04:56.190 --> 00:04:59.820\nthe server's hearing that,\nresponding with that offer.\n\n96\n00:04:59.820 --> 00:05:03.650\nThe client is then requesting, and\nthe server is acknowledging, and\n\n97\n00:05:03.650 --> 00:05:05.560\nit can begin using the IP address.\n\n98\n00:05:05.560 --> 00:05:06.976\nSo everything's working great.\n\n99\n00:05:06.976 --> 00:05:10.624\nBut now let's imagine,\nwe've got another subnet over here.\n\n100\n00:05:10.624 --> 00:05:13.508\nThere's another switch and\nI've got a router,\n\n101\n00:05:13.508 --> 00:05:15.840\nsitting in between these two subnets.\n\n102\n00:05:15.840 --> 00:05:17.870\nSo we can route traffic, back and forth.\n\n103\n00:05:17.870 --> 00:05:23.230\nAnd this is a Windows Server 2016 box,\nthat's running, routing and remote access.\n\n104\n00:05:23.230 --> 00:05:28.360\nSo, what would happen if,\nwe take this client and move it.\n\n105\n00:05:28.360 --> 00:05:33.080\nWe'll pretend, that we've got him\non the other subnet over here.\n\n106\n00:05:33.080 --> 00:05:37.210\n&gt;&gt; So, let me kinda review and make sure,\nI have this right in my head, Mike.\n\n107\n00:05:37.210 --> 00:05:39.880\nSo the reason why DHCP worked\neffectively the first time,\n\n108\n00:05:39.880 --> 00:05:44.210\nis because the DHCP server and\nthe client itself, are on the same subnet.\n\n109\n00:05:44.210 --> 00:05:45.560\nBut what you're now saying though,\n\n110\n00:05:45.560 --> 00:05:49.990\ninstead, is that DHCP client itself is\non some unknown subnet at this point.\n\n111\n00:05:49.990 --> 00:05:53.310\nBut my DHCP server's actually\non a different network.\n\n112\n00:05:53.310 --> 00:05:56.640\nAnd what we've now done,\nis put a router in between.\n\n113\n00:05:56.640 --> 00:06:00.000\nSo now that I have a router in between,\nit's gonna block all broadcast.\n\n114\n00:06:00.000 --> 00:06:01.140\n&gt;&gt; Exactly.\n\n115\n00:06:01.140 --> 00:06:02.240\n&gt;&gt; All right Mike, how's this gonna work.\n\n116\n00:06:02.240 --> 00:06:03.642\n&gt;&gt; Let's see what happens here.\n\n117\n00:06:03.642 --> 00:06:06.336\nLet's go ahead and on our client.\n\n118\n00:06:09.437 --> 00:06:12.940\nLet's see if what we're talking about,\nrings true.\n\n119\n00:06:12.940 --> 00:06:14.860\nSo let's clear this up.\n\n120\n00:06:15.960 --> 00:06:21.480\nAnd I'll do an ipconfig/release\nto throw away,\n\n121\n00:06:21.480 --> 00:06:23.520\nwell if I elevate my prompt I'll do that.\n\n122\n00:06:23.520 --> 00:06:25.785\nSo let's get an administrative PowerShell.\n\n123\n00:06:27.598 --> 00:06:29.631\nYes to the good old UAC.\n\n124\n00:06:29.631 --> 00:06:35.380\nAnd we'll do an ipconfig /release, to\nthrow away my current release information.\n\n125\n00:06:35.380 --> 00:06:36.780\nNo big deal.\n\n126\n00:06:36.780 --> 00:06:38.240\nAnd let's move the client.\n\n127\n00:06:38.240 --> 00:06:39.930\nI forgot to move him.\n\n128\n00:06:39.930 --> 00:06:41.380\nLet's actually move him.\n\n129\n00:06:41.380 --> 00:06:44.900\nI moved him in the drawing, but\nnot in the virtual realm here.\n\n130\n00:06:44.900 --> 00:06:47.510\nSo what I'm gonna do, is I'm simply\ngonna do just like in my drawing,\n\n131\n00:06:47.510 --> 00:06:50.980\nI happen to be doing it through the\nHyper-V settings for this Virtual Machine.\n\n132\n00:06:50.980 --> 00:06:53.890\nIs I'm gonna change the network\nthat it's connected to.\n\n133\n00:06:53.890 --> 00:06:58.200\nI'm gonna connect him to that\nother subnet, internal two.\n\n134\n00:06:58.200 --> 00:07:01.210\nI'm gonna click OK, to apply that change.\n\n135\n00:07:01.210 --> 00:07:07.248\nSo it'd be just like moving a cable in\nyour closet, from one switch to another.\n\n136\n00:07:07.248 --> 00:07:14.237\nAnd let me do an ipconfig/renew and\nsee what happens.\n\n137\n00:07:14.237 --> 00:07:16.707\nAnd we give it a minute,\nbut as Ronnie pointed out,\n\n138\n00:07:16.707 --> 00:07:19.960\nwe're pretty sure we know\nwhat's gonna happen, right?\n\n139\n00:07:19.960 --> 00:07:21.260\n&gt;&gt; Right.\nAt this point,\n\n140\n00:07:21.260 --> 00:07:25.000\nwhen we start seeing this, what Mike\nhas issued here, of course, with that\n\n141\n00:07:25.000 --> 00:07:29.700\nidea of the renew ,is that he's manually\nforcing that door process to begin.\n\n142\n00:07:29.700 --> 00:07:31.610\nSo what should happen from this client,\n\n143\n00:07:31.610 --> 00:07:36.230\nis that it should begin to broadcast out\nits discover message and it's gonna hit\n\n144\n00:07:36.230 --> 00:07:39.950\nevery device on that network,\nthat's listening for this broadcast.\n\n145\n00:07:39.950 --> 00:07:41.580\nAnd it's gonna hit that router interface.\n\n146\n00:07:41.580 --> 00:07:45.010\nSo Mike, you said that with that router\nin place we can still do this, but\n\n147\n00:07:45.010 --> 00:07:46.090\nit doesn't look like it's working.\n\n148\n00:07:46.090 --> 00:07:47.750\n&gt;&gt; It doesn't, right?\n\n149\n00:07:47.750 --> 00:07:50.426\nIt is not giving me an IP address.\n\n150\n00:07:50.426 --> 00:07:55.259\nIt's eventually gonna time out and\nwe should know from Network+,\n\n151\n00:07:55.259 --> 00:07:59.091\nwe'll end up with an APIPA\naddress of 169254.\n\n152\n00:07:59.091 --> 00:08:00.204\nSomething, something.\n\n153\n00:08:00.204 --> 00:08:03.124\n169.254.something.something.\n\n154\n00:08:03.124 --> 00:08:07.540\nBecause he's trying to get an IP address,\nbut he can't find the DHCP server.\n\n155\n00:08:07.540 --> 00:08:11.150\nNobody on his subnet is\nproviding that information.\n\n156\n00:08:11.150 --> 00:08:13.590\nSo then the question is,\nhow can we do this?\n\n157\n00:08:13.590 --> 00:08:18.090\nWe could set up a DHCP server\non every single subnet.\n\n158\n00:08:18.090 --> 00:08:19.940\nI mean, that's a possibility, right?\n\n159\n00:08:19.940 --> 00:08:24.779\nBut that would mean extra servers and the\nDHCP is not a big consumer of resources,\n\n160\n00:08:24.779 --> 00:08:27.626\nso we're really gonna\nend up wasting resources\n\n161\n00:08:27.626 --> 00:08:30.496\nif we try to set up DHCP\nservers on every subnet.\n\n162\n00:08:30.496 --> 00:08:33.698\nEspecially when we can\nconfigure it to where one DHCP\n\n163\n00:08:33.698 --> 00:08:36.430\nserver can support multiple subnets.\n\n164\n00:08:36.430 --> 00:08:38.650\nSo let's see how we can do that.\n\n165\n00:08:38.650 --> 00:08:43.930\nThe first thing we're gonna do is\nmake sure that on our DHCP server,\n\n166\n00:08:43.930 --> 00:08:45.920\nwe have an appropriate scope.\n\n167\n00:08:45.920 --> 00:08:50.620\nSo here's the scope for that other subnet\nthat I just connected the client to.\n\n168\n00:08:50.620 --> 00:08:55.170\nYou can see it's a 192.168 address, so\nwe'll be able to tell the difference.\n\n169\n00:08:55.170 --> 00:08:57.690\nAnd I've got a pool of\naddresses available.\n\n170\n00:08:57.690 --> 00:08:59.126\nAll right, so everything is looking there.\n\n171\n00:08:59.126 --> 00:09:01.920\nDHCP itself is set up.\n\n172\n00:09:01.920 --> 00:09:03.240\nThe server's waiting and he's saying, hey,\n\n173\n00:09:03.240 --> 00:09:07.040\nif anybody needs an IP address\nfrom this particular subnet,\n\n174\n00:09:07.040 --> 00:09:10.130\nI've got a pool of addresses and\nI'd be more than glad to give you one.\n\n175\n00:09:10.130 --> 00:09:14.940\nThe problem is that the client is never\nable to reach the DHCP server to ask for\n\n176\n00:09:14.940 --> 00:09:15.670\nthat IP address.\n\n177\n00:09:15.670 --> 00:09:17.970\nThat's what's being blocked by the router.\n\n178\n00:09:17.970 --> 00:09:21.230\nSo we're gonna go over to our router.\n\n179\n00:09:22.420 --> 00:09:26.800\nServer one and I've all ready done\nthis what we're gonna need to\n\n180\n00:09:26.800 --> 00:09:29.630\ninstall routing and remote access, right?\n\n181\n00:09:29.630 --> 00:09:34.894\nThat's gonna give us the ability to\ncreate what we call a DHCP relay agent,\n\n182\n00:09:34.894 --> 00:09:35.738\nall right?\n\n183\n00:09:35.738 --> 00:09:40.103\nAnd it's just like the name implies,\nhe's gonna relay information.\n\n184\n00:09:40.103 --> 00:09:45.040\nYou can imagine a subnet over here on\nthe right, a subnet over here on the left.\n\n185\n00:09:45.040 --> 00:09:48.250\nAnd then this routing [INAUDIBLE]\naccess server sitting in the middle.\n\n186\n00:09:48.250 --> 00:09:50.630\nAnd he's got connections to both sides,\nright?\n\n187\n00:09:50.630 --> 00:09:55.230\nSo he's gonna hear that client over here\nhollering out, I need an IP address.\n\n188\n00:09:55.230 --> 00:09:57.030\nAnd nobody's every gonna answer him.\n\n189\n00:09:57.030 --> 00:09:59.490\nBut the router also has\na connection to the other side, and\n\n190\n00:09:59.490 --> 00:10:01.377\nhe knows where the DHCP server is.\n\n191\n00:10:01.377 --> 00:10:05.910\nSo all he's gonna do is just simply take\nthat information, that client's request,\n\n192\n00:10:05.910 --> 00:10:09.600\nand since the client can't get\nthere he'll wrap it up and\n\n193\n00:10:09.600 --> 00:10:13.340\nsend it over to the DHCP server\non behalf of the client.\n\n194\n00:10:13.340 --> 00:10:17.530\nHe's relaying that request over\nto the DHCP server, all right?\n\n195\n00:10:17.530 --> 00:10:22.636\nAnd then the DHCP server is gonna respond\nback to the relay agent, who is then going\n\n196\n00:10:22.636 --> 00:10:27.686\nto relay that response back to that subnet\nthat the client exists on, all right?\n\n197\n00:10:27.686 --> 00:10:30.650\nHere's a couple of keys that\nwe need to remember with this.\n\n198\n00:10:30.650 --> 00:10:32.870\nRemember, the client doesn't\nhave an IP address, so\n\n199\n00:10:32.870 --> 00:10:35.540\nhe's doing all broadcast traffic.\n\n200\n00:10:35.540 --> 00:10:38.850\nThe router is hearing that and\nhe's gonna wrap it up,\n\n201\n00:10:38.850 --> 00:10:43.570\nhe knows the IP address of the DHCP server\nso he actually sends it to the DHCP\n\n202\n00:10:43.570 --> 00:10:48.970\nserver as a unicast packet, directly to\nthe DHCP server, it's not a broadcast.\n\n203\n00:10:48.970 --> 00:10:53.975\nThe DHCP server responds back to the relay\nagent with another unicast packet.\n\n204\n00:10:53.975 --> 00:10:57.774\nThe relay agent then takes that and\nrelays it back to the client, but\n\n205\n00:10:57.774 --> 00:11:01.720\nhe can't do a unicast because\nthe client doesn't have an IP address.\n\n206\n00:11:01.720 --> 00:11:03.840\nSo there's no destination to send it to.\n\n207\n00:11:03.840 --> 00:11:06.934\nSo the relay agent is actually gonna\nbroadcast it back out to that subnet.\n\n208\n00:11:06.934 --> 00:11:09.260\nAnd the client is gonna\nhear the broadcast.\n\n209\n00:11:09.260 --> 00:11:13.260\nAnd so, the client, he has no idea\nthat the relay agent is doing this.\n\n210\n00:11:13.260 --> 00:11:16.400\nHe simply hollers out on the network,\nhey, I need an IP address.\n\n211\n00:11:16.400 --> 00:11:20.595\nAnd magically the DHCP server,\nright, responds.\n\n212\n00:11:20.595 --> 00:11:22.980\nHe gets this broadcast back with an offer.\n\n213\n00:11:22.980 --> 00:11:24.540\nAnd so he thinks everything is fine,\n\n214\n00:11:24.540 --> 00:11:29.030\nhe has no idea that the relay agent\nis doing this for him on his behalf.\n\n215\n00:11:29.030 --> 00:11:32.248\nSo to set it up, we install routing\nremote access, which I've already done.\n\n216\n00:11:32.248 --> 00:11:36.812\nAnd you don't have to configure VPN or\n\n217\n00:11:36.812 --> 00:11:41.380\ndirect access or anything like that.\n\n218\n00:11:41.380 --> 00:11:44.000\nYour gonna install routing remote access.\n\n219\n00:11:44.000 --> 00:11:48.870\nOnce you get that installed, you see\nI have not configured the server yet.\n\n220\n00:11:48.870 --> 00:11:51.390\nI'm gonna right click on it and\nchoose configure and\n\n221\n00:11:51.390 --> 00:11:53.400\nenable, routing and remote access.\n\n222\n00:11:53.400 --> 00:11:57.550\n&gt;&gt; Now Mike, before we get too deep in\nthis, let's talk about that virtual\n\n223\n00:11:57.550 --> 00:11:59.590\nmachine for a moment somebody's\ntrying to set up their lab.\n\n224\n00:11:59.590 --> 00:12:03.230\nWhat they need to have on there is at\nleast two network adapters, right, okay?\n\n225\n00:12:03.230 --> 00:12:04.495\n&gt;&gt; Yes, with the router?\n\n226\n00:12:04.495 --> 00:12:07.293\n&gt;&gt; Mm-hm.\n&gt;&gt; Absolutely and let's go back to that\n\n227\n00:12:07.293 --> 00:12:11.691\ndrawing, you can see a router by\ndefinition has to be multi homed.\n\n228\n00:12:11.691 --> 00:12:15.469\nRight, because it has to be connected to\nmore than one network if it's gonna route\n\n229\n00:12:15.469 --> 00:12:16.960\nbetween those networks.\n\n230\n00:12:16.960 --> 00:12:20.130\nSo a router really needs\nto be multi homed.\n\n231\n00:12:20.130 --> 00:12:23.320\nNow this could be, it doesn't have\nto be a Microsoft box, right.\n\n232\n00:12:23.320 --> 00:12:25.040\nI mean in the real world, Ronnie,\n\n233\n00:12:25.040 --> 00:12:28.105\nhow often do we see 2016\nboxes being used as routers.\n\n234\n00:12:28.105 --> 00:12:32.403\n&gt;&gt; Now, I don't know about 2016 boxes,\nI do know about 2012 and 2003.\n\n235\n00:12:32.403 --> 00:12:34.063\nNot very often.\n\n236\n00:12:34.063 --> 00:12:37.005\nMore than likely, you might end\nup seeing of course, a router,\n\n237\n00:12:37.005 --> 00:12:40.059\nan actual physical router in it's\nplace but by using this right you\n\n238\n00:12:40.059 --> 00:12:43.489\ncan set one up at home if you are doing\na home lab instead of having to go out and\n\n239\n00:12:43.489 --> 00:12:47.790\nby some expensive equipment and go, I need\na router just so I can practice this.\n\n240\n00:12:47.790 --> 00:12:50.422\nSet this up on the routing\nremote access server,\n\n241\n00:12:50.422 --> 00:12:53.410\nit's gonna actually save\nyou a lot of money.\n\n242\n00:12:53.410 --> 00:12:54.600\nBut then when you do configure it,\n\n243\n00:12:54.600 --> 00:12:57.080\nif you're doing it in that virtual\nenvironment, make sure you actually do\n\n244\n00:12:57.080 --> 00:13:00.515\nmake two network adaptors or\nyou're gonna find yourself frustrated.\n\n245\n00:13:00.515 --> 00:13:01.410\n&gt;&gt; [LAUGH]\n&gt;&gt; When you try and\n\n246\n00:13:01.410 --> 00:13:03.040\nconfigure this idea so.\n\n247\n00:13:03.040 --> 00:13:05.390\n&gt;&gt; To make that a little more visual\nwe could do something like this,\n\n248\n00:13:05.390 --> 00:13:08.830\nI could drag this one maybe over to here.\n\n249\n00:13:08.830 --> 00:13:10.829\nAnd drag this one maybe over to here.\n\n250\n00:13:10.829 --> 00:13:13.830\nTo really represent the fact\nthat it's a multi homed.\n\n251\n00:13:13.830 --> 00:13:15.960\nIt's got more than one network adapter and\n\n252\n00:13:15.960 --> 00:13:18.260\nit's connected to both of\nthose different networks.\n\n253\n00:13:18.260 --> 00:13:19.520\nAnd honestly, like Ronnie was saying,\n\n254\n00:13:19.520 --> 00:13:24.225\nyou don't see server being used as a\nrouter all that often because I'm gonna go\n\n255\n00:13:24.225 --> 00:13:27.055\nbuy a piece of hardware\nthat's dedicated to this.\n\n256\n00:13:27.055 --> 00:13:29.645\nThat it's processor does nothing but\nroute packets.\n\n257\n00:13:29.645 --> 00:13:32.785\nIt spends all of its memory,\nall of its resources, on routing and\n\n258\n00:13:32.785 --> 00:13:34.265\nfiltering and what have you.\n\n259\n00:13:34.265 --> 00:13:37.235\nBut in a small shop,\nwhere I don't have the money to go out and\n\n260\n00:13:37.235 --> 00:13:39.205\nbuy one of those nice routers, but\n\n261\n00:13:39.205 --> 00:13:44.980\nI still want to segregate my server\ntraffic from my client traffic, right?\n\n262\n00:13:44.980 --> 00:13:49.990\nI don't want my Internet surfing\nusers interfering with the bandwidth\n\n263\n00:13:49.990 --> 00:13:53.090\nthat's going on between my servers\nthat are replicating a DNS scope or\n\n264\n00:13:53.090 --> 00:13:54.130\nactive directory.\n\n265\n00:13:54.130 --> 00:13:58.460\nSo I might have that server 2016 box\nsitting there that's doing a lot.\n\n266\n00:13:58.460 --> 00:14:01.390\nI might also add to it\nrouting remote access.\n\n267\n00:14:01.390 --> 00:14:03.670\nI've already got the server,\nso there's no extra license.\n\n268\n00:14:03.670 --> 00:14:06.790\nIt's a role I install,\nit's not costing me any money.\n\n269\n00:14:06.790 --> 00:14:11.350\nMost likely I already have two\nnetwork adapters in a physical server.\n\n270\n00:14:11.350 --> 00:14:15.540\nSo I can set up this routing remote access\nand do it without any additional cost.\n\n271\n00:14:15.540 --> 00:14:18.800\nBut as my company grows, I'm most likely\ngonna implement a hardware solution,\n\n272\n00:14:18.800 --> 00:14:21.150\nan actual router to do\nsomething like this.\n\n273\n00:14:21.150 --> 00:14:23.640\nBut for tests, for development,\n\n274\n00:14:23.640 --> 00:14:27.820\nhey I need to temporarily break off\na new subnet so we can test some things.\n\n275\n00:14:27.820 --> 00:14:29.430\nHey, I can set this up in a heartbeat,\n\n276\n00:14:29.430 --> 00:14:32.240\njust install routing remote access,\nand we're good to go.\n\n277\n00:14:32.240 --> 00:14:33.170\nSo let's try it out.\n\n278\n00:14:33.170 --> 00:14:36.030\nSo back over here to the server.\n\n279\n00:14:36.030 --> 00:14:38.580\nOnce you've installed the role,\nI'm gonna click next, and\n\n280\n00:14:38.580 --> 00:14:43.260\nthen I'm gonna do a custom configuration,\nand I'll click next.\n\n281\n00:14:43.260 --> 00:14:47.760\nAnd I simply need LAN routing, I don't\nneed VPN access and direct access and\n\n282\n00:14:47.760 --> 00:14:48.820\nthings like that.\n\n283\n00:14:48.820 --> 00:14:50.820\nI could, for other services, but for\n\n284\n00:14:50.820 --> 00:14:55.680\nif you're just setting up a DHCP relay,\nthe only thing you need is LAN routing.\n\n285\n00:14:55.680 --> 00:14:57.232\nI'll click Next and Finish.\n\n286\n00:15:00.134 --> 00:15:03.805\nAnd if I could actually click,\nit's thinking about it.\n\n287\n00:15:03.805 --> 00:15:05.300\n&gt;&gt; [LAUGH]\n&gt;&gt; It's gonna go and\n\n288\n00:15:05.300 --> 00:15:06.570\nset that up in the background.\n\n289\n00:15:06.570 --> 00:15:07.470\nIt should be there, guys.\n\n290\n00:15:08.840 --> 00:15:10.070\nIt'll ask me to start the service.\n\n291\n00:15:10.070 --> 00:15:10.570\nI'll say yes.\n\n292\n00:15:13.581 --> 00:15:20.960\nGive it just a minute as it finalizes\nthe configuration and begins that service.\n\n293\n00:15:20.960 --> 00:15:22.390\nI'm always tempted to click Finish again.\n\n294\n00:15:22.390 --> 00:15:25.290\nI know that the window's\ngonna go away in a second.\n\n295\n00:15:25.290 --> 00:15:26.850\nSo I'll just be patient.\n\n296\n00:15:26.850 --> 00:15:28.030\nThere it goes.\n\n297\n00:15:28.030 --> 00:15:31.700\nAlright, so now we've got our green\nlittle up arrow on our server.\n\n298\n00:15:31.700 --> 00:15:36.199\nIf I expand this out,\nI can see that I have IPv4 and IPv6.\n\n299\n00:15:37.280 --> 00:15:39.370\nAnd we are good to go, all right?\n\n300\n00:15:39.370 --> 00:15:43.890\nSo, next step is to actually\nconfigure to be a relay agent.\n\n301\n00:15:43.890 --> 00:15:46.766\nAnd what we're gonna do, under IPv4,\n\n302\n00:15:46.766 --> 00:15:52.446\nis we're simply gonna right click on\nGeneral and choose New Routing Protocol.\n\n303\n00:15:52.446 --> 00:15:58.269\nWe've got to tell our routing remote\naccess server how to speak DHCP relay.\n\n304\n00:15:58.269 --> 00:16:03.077\nSo we'll add a new protocol, And\nthe choice will be DHCP Relay Agent,\n\n305\n00:16:03.077 --> 00:16:04.310\nwe'll click OK.\n\n306\n00:16:04.310 --> 00:16:05.220\n&gt;&gt; That makes sense.\n\n307\n00:16:05.220 --> 00:16:06.451\n&gt;&gt; All right.\n&gt;&gt; [LAUGH]\n\n308\n00:16:06.451 --> 00:16:07.804\n&gt;&gt; And then there you go,\n\n309\n00:16:07.804 --> 00:16:12.160\nunderneath IPv4 we now have this\nDHCP Relay Agent listed there.\n\n310\n00:16:12.160 --> 00:16:15.220\nWe can't stop there though,\nwe've gotta do a couple more things.\n\n311\n00:16:15.220 --> 00:16:17.650\nSo now I'm gonna go to\nthis relay agent and\n\n312\n00:16:17.650 --> 00:16:21.980\nwhat I need to do is I need to\nright-click and add a new interface.\n\n313\n00:16:21.980 --> 00:16:23.560\nHey wait, well what interface?\n\n314\n00:16:23.560 --> 00:16:27.380\nI know this is a multi-home,\nit's got two interfaces, ,all right.\n\n315\n00:16:27.380 --> 00:16:32.110\nIf the client is over here, and\nhe's gonna send out a broadcast,\n\n316\n00:16:32.110 --> 00:16:36.755\nwhich interface on my server is\ngonna need to be the relay agent?\n\n317\n00:16:36.755 --> 00:16:39.683\nWell, it's gonna be the one on the side\nof the client that's sending out\n\n318\n00:16:39.683 --> 00:16:40.790\nthe broadcast.\n\n319\n00:16:40.790 --> 00:16:44.192\nThis interface here,\nis the one that has to listen for\n\n320\n00:16:44.192 --> 00:16:49.421\nthese clients hollering out hey, I need\nan IP address and nobody's responding.\n\n321\n00:16:49.421 --> 00:16:54.170\nSo you gotta pay attention to which one\nyou're implementing the relay agent on.\n\n322\n00:16:54.170 --> 00:16:58.070\nIt'll be on the side of the client,\nso we're gonna flip back over here.\n\n323\n00:16:58.070 --> 00:17:01.686\nNew interface, and that is my Ethernet2.\n\n324\n00:17:01.686 --> 00:17:04.258\nI'll click OK and\nI've got some information here,\n\n325\n00:17:04.258 --> 00:17:07.030\nwe're not gonna get into\nthe hop count threshold.\n\n326\n00:17:07.030 --> 00:17:10.300\nThis has to do with,\nif we've got a heavily routed environment,\n\n327\n00:17:10.300 --> 00:17:14.270\nhow many routers can this go\nthrough before it drops packets.\n\n328\n00:17:15.450 --> 00:17:20.265\nThe main thing here is just to make\nsure relay DHCP packets is turned on,\n\n329\n00:17:20.265 --> 00:17:25.200\ncuz if I turn that off he's gonna say,\nI'm not listening for DHCP requests,\n\n330\n00:17:25.200 --> 00:17:27.020\nand I'm not gonna relay them.\n\n331\n00:17:27.020 --> 00:17:28.410\nSo, you've got to make\nsure it's turned on.\n\n332\n00:17:29.720 --> 00:17:31.360\nSo we've added the interface.\n\n333\n00:17:31.360 --> 00:17:32.450\nOne more thing you've got to do, and\n\n334\n00:17:32.450 --> 00:17:36.300\nit's easy one to miss,\nI see people do this all the time.\n\n335\n00:17:36.300 --> 00:17:38.190\nWhy is this not working?\n\n336\n00:17:38.190 --> 00:17:42.590\nBecause remember,\nwe've got this set up so far,\n\n337\n00:17:42.590 --> 00:17:45.630\nso this interface has that\nrelay agent listening on it.\n\n338\n00:17:45.630 --> 00:17:48.030\nBut I have to tell\nthe remote access server\n\n339\n00:17:48.030 --> 00:17:50.190\nwhere to forward the packets to, right?\n\n340\n00:17:50.190 --> 00:17:52.520\nHe's gonna hear the request\nfrom the client,\n\n341\n00:17:52.520 --> 00:17:56.050\nhe's gonna wrap it up as a unicast,\nand send it to a DHCP server.\n\n342\n00:17:57.190 --> 00:17:59.422\nWhat's the IP address of the DHCP server?\n\n343\n00:17:59.422 --> 00:18:04.000\nI gotta make sure he knows that so he can\nsuccessfully send it as a unicast packet.\n\n344\n00:18:04.000 --> 00:18:09.660\nSo that's the last step, is to right-click\non relay agent and choose properties,\n\n345\n00:18:10.970 --> 00:18:15.020\nand then add the IP address\nof the DHCP server.\n\n346\n00:18:16.170 --> 00:18:19.870\nSo you're statically mapping the IP\naddress, we'll click OK, right.\n\n347\n00:18:21.090 --> 00:18:23.500\nSo now,\nrouting remote access is installed and\n\n348\n00:18:23.500 --> 00:18:27.480\nconfigured, we have added the protocol,\nDHCP relay agent.\n\n349\n00:18:27.480 --> 00:18:29.500\nWe have told it what\ninterface to listen on,\n\n350\n00:18:29.500 --> 00:18:33.920\nand we've told it the IP\naddress of the DHCP server.\n\n351\n00:18:33.920 --> 00:18:37.600\nWe should be good to go, let's find out.\n\n352\n00:18:37.600 --> 00:18:39.054\nWe're gonna flip over the client.\n\n353\n00:18:42.102 --> 00:18:44.760\nAnd we'll maximize that so\nwe can pay attention.\n\n354\n00:18:44.760 --> 00:18:48.465\nWe'll clear our screen and\nwe'll go to IP config.\n\n355\n00:18:51.685 --> 00:18:56.040\nRenew, and see if we can get\nan IP address from that server.\n\n356\n00:18:56.040 --> 00:19:00.070\nSo right now, the client's hollering out,\nhey, I need an IP address.\n\n357\n00:19:00.070 --> 00:19:04.610\nThe relay agent should hear that, and\nrealize that nobody's responding and\n\n358\n00:19:04.610 --> 00:19:06.300\nsay here, I'll help you out.\n\n359\n00:19:06.300 --> 00:19:10.970\nLet me wrap that up, send it over\nto the DHCP server, DHTP says,\n\n360\n00:19:10.970 --> 00:19:16.348\nI got an IP address, here's my offer and\nlook at there, we are good to go.\n\n361\n00:19:16.348 --> 00:19:20.953\nNow you might think to yourself\nwell how come we got a 192.168 and\n\n362\n00:19:20.953 --> 00:19:23.039\nnot a 10 dot address, right?\n\n363\n00:19:23.039 --> 00:19:27.442\nBecause on DHCP,\non my DHCP server we have two scopes,\n\n364\n00:19:27.442 --> 00:19:32.829\nI've got one for 10 dot, and\nI've got one for 192.168.\n\n365\n00:19:32.829 --> 00:19:37.558\nHow did he know to give that client\nover here a 192.168 address, and\n\n366\n00:19:37.558 --> 00:19:41.109\ndidn't end up giving him\na 10 dot something address?\n\n367\n00:19:41.109 --> 00:19:44.200\nAnd that's because the packet\nfrom the routing and\n\n368\n00:19:44.200 --> 00:19:49.290\nremote access server shows what\ninterface that request came from, right?\n\n369\n00:19:49.290 --> 00:19:52.736\nSo the DHCP server sees that, he says,\n\n370\n00:19:52.736 --> 00:19:57.685\nthat request came from 192.168.100.0/24.\n\n371\n00:19:57.685 --> 00:20:02.320\nLet me see if I have a scope that has IP\naddresses that are valid in that range.\n\n372\n00:20:02.320 --> 00:20:06.010\nHe does, and then that's the one\nhe pulls from, if he didn't,\n\n373\n00:20:06.010 --> 00:20:07.950\nhe would not pass out an IP address.\n\n374\n00:20:07.950 --> 00:20:12.160\nHe knows that a 10 dot address\nis not gonna do anybody good\n\n375\n00:20:12.160 --> 00:20:14.160\nover here on this side,\nso he wouldn't give it.\n\n376\n00:20:14.160 --> 00:20:18.350\nSo, you gotta make sure that you set\nup your DHTP server correctly as well.\n\n377\n00:20:18.350 --> 00:20:21.616\nYou need a different scope for\neach one of the subnets,\n\n378\n00:20:21.616 --> 00:20:23.675\nand this is very, very scalable.\n\n379\n00:20:23.675 --> 00:20:25.734\nI mean and we could take,\n\n380\n00:20:25.734 --> 00:20:30.746\nlet's say we added another subnet,\nall right, over here.\n\n381\n00:20:30.746 --> 00:20:37.126\nWe add another network adapter to\nour routing remote access server,\n\n382\n00:20:37.126 --> 00:20:42.750\nwe attach that routing remote\naccess server to this switch.\n\n383\n00:20:43.830 --> 00:20:48.504\nWe take another client,\nthat's over there on that subnet.\n\n384\n00:20:48.504 --> 00:20:54.519\nWe take another, and\nwe obviously we connect that server up,\n\n385\n00:20:54.519 --> 00:21:00.317\nor that client up to that switch,\noops, get that on there.\n\n386\n00:21:00.317 --> 00:21:05.183\nAll right, and we can simply continue to\ndo this, so if I had three or four or\n\n387\n00:21:05.183 --> 00:21:07.289\nfive or ten different subnets.\n\n388\n00:21:07.289 --> 00:21:10.741\nThe only thing I gotta worry about, this\nguy's already running as a relay agent, so\n\n389\n00:21:10.741 --> 00:21:13.450\nwe don't have any extra\nconfiguration to do there.\n\n390\n00:21:13.450 --> 00:21:16.550\nHe already knows the IP\naddress of the DHTP server, so\n\n391\n00:21:16.550 --> 00:21:19.500\nthere's nothing to change\nthere if we add more subnets.\n\n392\n00:21:19.500 --> 00:21:23.200\nThe only thing I need to do Is\ngo to my DHTP server itself, and\n\n393\n00:21:23.200 --> 00:21:27.124\ncreate the appropriate pool of\naddresses for this new subnet.\n\n394\n00:21:27.124 --> 00:21:30.420\nSo that he has something to offer when\nhe hears those requests and that's it.\n\n395\n00:21:30.420 --> 00:21:33.560\nSo setting up a relay agent allows me to\n\n396\n00:21:33.560 --> 00:21:39.190\ntake that single DHCP server and\nsupport multiple subnets.\n\n397\n00:21:39.190 --> 00:21:43.430\nAnd the other thing we'll throw\nin there Ronnie is, well, no,\n\n398\n00:21:43.430 --> 00:21:46.410\nI guess won't,\nwe should stick with Microsoft.\n\n399\n00:21:46.410 --> 00:21:50.990\nIn the end, most of our Cisco devices,\nand things like that,\n\n400\n00:21:50.990 --> 00:21:53.980\nhave the ability to be a relay agent.\n\n401\n00:21:53.980 --> 00:21:57.710\nSo I just wanna make\nsure we understand that\n\n402\n00:21:57.710 --> 00:22:02.280\nI don't have to use a Microsoft relay\nagent to accomplish this solution.\n\n403\n00:22:02.280 --> 00:22:06.650\nIf I have multiple subnets\nthat I need to support DHCP,\n\n404\n00:22:06.650 --> 00:22:09.600\nI can create scopes for\neach one of those subnets.\n\n405\n00:22:09.600 --> 00:22:13.780\nI do have to make sure that somehow those\nrequests are getting to the DHCP server\n\n406\n00:22:13.780 --> 00:22:16.540\nand that's what we use\nthat DHCP relay agent for.\n\n407\n00:22:16.540 --> 00:22:20.828\nBut if you've already got a router in\nplace, and that router supports the relay\n\n408\n00:22:20.828 --> 00:22:25.379\nagent functionality, you don't to go out\nand set up a server just for this purpose.\n\n409\n00:22:25.379 --> 00:22:26.750\nThat's what I want to\nmake sure we understand.\n\n410\n00:22:26.750 --> 00:22:31.422\nThis isn't the only way to do it, but\nfor the exam and for the real world it's\n\n411\n00:22:31.422 --> 00:22:36.534\nimportant we know that I can take a 2016\nbox and make a DHCP relay agent out of it.\n\n412\n00:22:36.534 --> 00:22:41.442\n&gt;&gt; Mike, the key that I get from here,\nespecially on the setup of that router,\n\n413\n00:22:41.442 --> 00:22:45.660\nis that the relay agent has to be\non the interface that is asking for\n\n414\n00:22:45.660 --> 00:22:49.580\nthe actual request that's\non the different subnet.\n\n415\n00:22:49.580 --> 00:22:52.500\nSo do not think that's actually\non the one, the original one,\n\n416\n00:22:52.500 --> 00:22:54.330\nwhere the DHCP server is.\n\n417\n00:22:54.330 --> 00:22:58.150\nBut it has to be on the other one, if not,\nthat's actually a bad configuration and\n\n418\n00:22:58.150 --> 00:23:00.670\nyou're not gonna get the result\nthat you want to as well.\n\n419\n00:23:00.670 --> 00:23:04.328\nSo that can be a little bit tricky,\nespecially if you're under time\n\n420\n00:23:04.328 --> 00:23:07.229\non the exam and your going,\nwhich interface is it?\n\n421\n00:23:07.229 --> 00:23:08.253\nYou gotta remember that.\n\n422\n00:23:08.253 --> 00:23:11.250\n&gt;&gt; Yeah, and that's a great point\nbecause I just thought about it.\n\n423\n00:23:11.250 --> 00:23:14.510\nI was sitting here saying,\nyou don't have to do anything else to\n\n424\n00:23:14.510 --> 00:23:18.780\nthe relay agent when you add a new subnet,\nbut that's not true, right?\n\n425\n00:23:18.780 --> 00:23:22.650\nIf we go back to my screen,\nI've got another network adapter, so\n\n426\n00:23:22.650 --> 00:23:24.700\nwhat would happen if we\ntake a look at this.\n\n427\n00:23:24.700 --> 00:23:29.205\nI would need to if we added another\nsubnet, I'd have to go over to my relay\n\n428\n00:23:29.205 --> 00:23:34.048\nagent and lets do it,\nlet's add another subnet.\n\n429\n00:23:34.048 --> 00:23:38.966\nI'll right-click here and we pull up\nthe settings for this virtual machine,\n\n430\n00:23:38.966 --> 00:23:41.659\nand we'll add another network adapters.\n\n431\n00:23:41.659 --> 00:23:45.883\nSo we'll add another one,\nand we'll connect it and\n\n432\n00:23:45.883 --> 00:23:50.211\njust a second, so\nlet's do virtual switch manager.\n\n433\n00:23:50.211 --> 00:23:53.048\nLet's create another network real quick.\n\n434\n00:23:53.048 --> 00:23:58.352\nWe'll say internal, call it Internal3 Now,\nthe nice thing about what Mike\n\n435\n00:23:58.352 --> 00:24:03.410\nis doing right here, which is something\nthat we couldn't do in the past,\n\n436\n00:24:03.410 --> 00:24:09.780\nis that he's, in theory, adding in virtual\nhardware while the machine is running.\n\n437\n00:24:09.780 --> 00:24:13.960\nAnd even in older versions of\nthe virtual machines, a lot of times,\n\n438\n00:24:13.960 --> 00:24:16.700\nit would tell you, you need to actually\npower down this machine first, and\n\n439\n00:24:16.700 --> 00:24:19.330\nthen you could add then\nthat network after.\n\n440\n00:24:19.330 --> 00:24:23.120\nBut Mike, it looks like this version of\nHyper-V allows you to do it on the fly,\n\n441\n00:24:23.120 --> 00:24:24.560\nand it's pretty darn cool.\n\n442\n00:24:24.560 --> 00:24:26.610\n&gt;&gt; It is really cool.\n\n443\n00:24:26.610 --> 00:24:28.520\n[LAUGH] Love being able to do that.\n\n444\n00:24:28.520 --> 00:24:31.890\nSo I've added a new interface to this guy,\nand we'll need to configure that.\n\n445\n00:24:31.890 --> 00:24:36.190\nI'll go to the network settings, for\nthe routing and remote access server,\n\n446\n00:24:36.190 --> 00:24:41.590\nchange adapter settings, and\nlet's see, that would be number three.\n\n447\n00:24:41.590 --> 00:24:43.220\nWe'll go to the properties there.\n\n448\n00:24:43.220 --> 00:24:44.420\n&gt;&gt; That's neat.\n\n449\n00:24:44.420 --> 00:24:47.815\n&gt;&gt; And\nwe will configure him with an IP address.\n\n450\n00:24:47.815 --> 00:24:51.406\nLet's do a 17216.\n\n451\n00:24:51.406 --> 00:24:58.032\nWe haven't done one of those yet,\n172.16, let's say .0.101.\n\n452\n00:24:58.032 --> 00:25:01.083\nWe'll do a, that's fine.\n\n453\n00:25:01.083 --> 00:25:04.965\nDon't need default gateway or\nDNS, we'll just click OK on that.\n\n454\n00:25:04.965 --> 00:25:07.960\nSo, I've got a new network adapter\nthat's statically mapped, right?\n\n455\n00:25:07.960 --> 00:25:08.870\nSo we're adding a new service.\n\n456\n00:25:08.870 --> 00:25:11.000\nHere we are, we're a business,\nwe're growing.\n\n457\n00:25:11.000 --> 00:25:14.240\nWe've added a new subnet, or\nmy boss wants us to add a new subnet.\n\n458\n00:25:14.240 --> 00:25:17.010\nI don't want to create a new DHCP server,\nso\n\n459\n00:25:17.010 --> 00:25:21.670\nI want to take our DHCP server, and\nadd support for this third subnet.\n\n460\n00:25:21.670 --> 00:25:24.370\nSo we've added another network\nadapter to the server.\n\n461\n00:25:24.370 --> 00:25:28.060\nWe've connected it to that third subnet,\nso we're good to go there.\n\n462\n00:25:28.060 --> 00:25:33.310\nWe're gonna go back over to the properties\nover here, and on that relay agent.\n\n463\n00:25:33.310 --> 00:25:36.130\nI've got to click new interface,\ncuz think about that.\n\n464\n00:25:36.130 --> 00:25:42.510\nI now need this interface to listen for\nDHCP requests as well.\n\n465\n00:25:42.510 --> 00:25:48.010\nSo we'll add new interface, and we'll\ngo to oops, that's not the right one.\n\n466\n00:25:48.010 --> 00:25:52.500\nThat's, what did I name it?\n\n467\n00:25:52.500 --> 00:25:55.300\nI forgot what I named\nthat ethernet adapter.\n\n468\n00:25:55.300 --> 00:25:56.080\nI can see it right here.\n\n469\n00:25:56.080 --> 00:25:57.128\nWe'll go to general.\n\n470\n00:25:57.128 --> 00:26:02.392\nAnd I've got internal, isn't it two?\n\n471\n00:26:02.392 --> 00:26:03.740\nWhere is my?\n\n472\n00:26:03.740 --> 00:26:05.320\nYou know what I need?\n\n473\n00:26:05.320 --> 00:26:06.063\nI need to add it altogether.\n\n474\n00:26:06.063 --> 00:26:10.111\n&gt;&gt; [LAUGH]\n&gt;&gt; Interesting,\n\n475\n00:26:10.111 --> 00:26:14.717\nit's not seeing that\nnetwork adapter just yet.\n\n476\n00:26:14.717 --> 00:26:17.410\nLet's go back in our Network Settings\nto make sure I did that correctly.\n\n477\n00:26:17.410 --> 00:26:20.550\nI got all three.\n\n478\n00:26:20.550 --> 00:26:23.410\nAnd it was named ethernet three.\n\n479\n00:26:23.410 --> 00:26:26.250\nSo, we are good there.\n\n480\n00:26:26.250 --> 00:26:31.070\n&gt;&gt; So Mike, in this instance, maybe we\nwant to try a couple of things here.\n\n481\n00:26:31.070 --> 00:26:34.890\nWe might want to try restarting\nthe entire virtual machine itself.\n\n482\n00:26:34.890 --> 00:26:38.350\nOr maybe even try restarting\nthe service itself instead,\n\n483\n00:26:38.350 --> 00:26:40.470\nand the routing mode access.\n\n484\n00:26:40.470 --> 00:26:43.450\n&gt;&gt; Great point Ronnie,\nthat's why we keep him around, right?\n\n485\n00:26:43.450 --> 00:26:47.900\nYeah, let's do that, let's restart\nthe routing remote access service, and\n\n486\n00:26:47.900 --> 00:26:49.960\nsee if we can get it to detect that hey,\n\n487\n00:26:49.960 --> 00:26:54.220\nyou've got a new network adapter that\nyou can use for routing remote access.\n\n488\n00:26:54.220 --> 00:26:57.360\nSo, simply restart this, or\nyou could restart the entire server.\n\n489\n00:26:57.360 --> 00:26:59.200\nIf it has other things that\npeople are depending on,\n\n490\n00:26:59.200 --> 00:27:03.206\nyou might not want to do that\nin during production hours.\n\n491\n00:27:03.206 --> 00:27:05.259\n&gt;&gt; Come on, Mike\n&gt;&gt; That's not going too take to\n\n492\n00:27:05.259 --> 00:27:06.710\nlong, right?\n\n493\n00:27:06.710 --> 00:27:08.190\nAnd let's see what happens now.\n\n494\n00:27:08.190 --> 00:27:10.220\nAnd there, beautiful.\n\n495\n00:27:10.220 --> 00:27:11.940\nEthernet three is showing up.\n\n496\n00:27:11.940 --> 00:27:17.130\nSo then, we'll continue on, we'll go\nback down here to DHCP relay agent,\n\n497\n00:27:17.130 --> 00:27:19.840\nright click, new Interface,\nand we'll say hey,\n\n498\n00:27:19.840 --> 00:27:26.120\nwe also want you to listen on\nEthernet 3 for any requests for DHCP.\n\n499\n00:27:26.120 --> 00:27:27.110\nSame options here.\n\n500\n00:27:27.110 --> 00:27:28.840\nWe're good to go.\n\n501\n00:27:28.840 --> 00:27:32.650\nI don't need to change the properties\nof the DHCP relay agent,\n\n502\n00:27:32.650 --> 00:27:37.180\ncuz it's still forwarding\nthe request to the same DHCP server.\n\n503\n00:27:37.180 --> 00:27:40.150\nSo, all I needed to do was\nadd the interface, and\n\n504\n00:27:40.150 --> 00:27:43.010\nsay by the way, listen on this one too.\n\n505\n00:27:43.010 --> 00:27:46.570\nNow, I do have to go\nto the DHCP server and\n\n506\n00:27:46.570 --> 00:27:51.550\nmake sure I have an appropriate scope\nset up for that particular subnet.\n\n507\n00:27:51.550 --> 00:27:55.015\n&gt;&gt; And now Mike, while you're actually\nstarting to do that for us, because I\n\n508\n00:27:55.015 --> 00:27:57.856\nknow we did it on another episode\n&gt;&gt; But as we're starting to do this,\n\n509\n00:27:57.856 --> 00:28:01.019\nMike actually just mentioned something\nthat I probably should have mentioned,\n\n510\n00:28:01.019 --> 00:28:03.498\neven though I said,\nlet's restart the actual server itself.\n\n511\n00:28:03.498 --> 00:28:07.355\nRemember what Mike said is actually very\nvalid and very important here, that you\n\n512\n00:28:07.355 --> 00:28:11.322\nwanna actually only start up what you need\nto, or restart what you need to instead,\n\n513\n00:28:11.322 --> 00:28:15.550\ncuz restarting the whole thing, other\npeople could be dependent on, upon it.\n\n514\n00:28:15.550 --> 00:28:18.420\nBut if we know that we're the only ones\nreally using the routing remote access\n\n515\n00:28:18.420 --> 00:28:21.380\nright now, restarting that\nservice should affect the least.\n\n516\n00:28:21.380 --> 00:28:24.600\nAnd in a production network,\nthat's gonna be very important.\n\n517\n00:28:24.600 --> 00:28:27.820\nSo here, Mike's just started walking\nthrough the wizard itself, and\n\n518\n00:28:27.820 --> 00:28:29.530\nnow he's gonna set up the rest of it.\n\n519\n00:28:29.530 --> 00:28:30.600\nLook, that was pretty easy, Mike.\n\n520\n00:28:30.600 --> 00:28:31.700\n&gt;&gt; That was, right?\n\n521\n00:28:31.700 --> 00:28:34.390\nSo, I didn't configure any\noptions on this particular scope.\n\n522\n00:28:34.390 --> 00:28:36.200\nWe're just doing as a test, so.\n\n523\n00:28:36.200 --> 00:28:39.700\n&gt;&gt; I'm gonna right-click and\nmake sure I activate that scope.\n\n524\n00:28:39.700 --> 00:28:42.838\nSo now I've got a relay agent\nlistening in on that subnet.\n\n525\n00:28:42.838 --> 00:28:46.130\nI've got a DHP server that has\na pool of addresses that would be\n\n526\n00:28:46.130 --> 00:28:47.090\nvalid on that subnet.\n\n527\n00:28:47.090 --> 00:28:49.490\nThe only thing we're going to\nhave left to do is test it out.\n\n528\n00:28:49.490 --> 00:28:51.000\nLet's move the client.\n\n529\n00:28:51.000 --> 00:28:55.990\nBasically, take our client and\nmove him up to this particular switch, so\n\n530\n00:28:55.990 --> 00:28:59.450\nwe can see if the relay agent\nis working on that route.\n\n531\n00:28:59.450 --> 00:29:00.940\nSo, we'll go to the client machine.\n\n532\n00:29:00.940 --> 00:29:03.061\nOr actually,\nwe'll go to the Hyper-V manager.\n\n533\n00:29:04.657 --> 00:29:06.720\nOne of the great things\nabout doing this virtually.\n\n534\n00:29:06.720 --> 00:29:08.520\nWe'll go to the client.\n\n535\n00:29:08.520 --> 00:29:09.920\nWe'll configure his settings.\n\n536\n00:29:11.040 --> 00:29:12.550\nAnd we're gonna bump him one more time.\n\n537\n00:29:12.550 --> 00:29:18.200\nWe'll move him over to internal three,\nand click OK.\n\n538\n00:29:19.820 --> 00:29:21.140\nAnd then we'll go back to the client.\n\n539\n00:29:22.460 --> 00:29:25.970\nMaximize this, so we can keep\ntrack of which machine we're on.\n\n540\n00:29:25.970 --> 00:29:29.470\nWe'll do an IP config switch release.\n\n541\n00:29:31.940 --> 00:29:33.270\nAnd then we'll do an IP config.\n\n542\n00:29:33.270 --> 00:29:37.400\nAnd because I basically unplugged and\nplugged the cable\n\n543\n00:29:37.400 --> 00:29:40.230\nout of the back of the computer,\nit's in the middle of doing it itself.\n\n544\n00:29:40.230 --> 00:29:42.850\nIt knows that, hey,\nI might have just changed networks.\n\n545\n00:29:42.850 --> 00:29:46.220\nTypically, what a machine does is it\nwill try to ping the default gateway.\n\n546\n00:29:46.220 --> 00:29:49.570\nAnytime you disconnect and\nplug a cable back into a machine,\n\n547\n00:29:49.570 --> 00:29:53.100\nit tries to ping the default gateway to\nsee if it's still on the same network.\n\n548\n00:29:53.100 --> 00:29:57.520\nIf it can't reach the default gateway,\nthen it knows to, hey.\n\n549\n00:29:57.520 --> 00:29:58.360\nI need to go ahead and\n\n550\n00:29:58.360 --> 00:30:01.340\ntry to get a new lease, because my\nold lease is probably not valid.\n\n551\n00:30:01.340 --> 00:30:03.590\nI've now switched networks.\n\n552\n00:30:03.590 --> 00:30:04.242\nSo, let's see what we got.\n\n553\n00:30:04.242 --> 00:30:07.977\nLet's just do a real pick, ipconfig.\n\n554\n00:30:07.977 --> 00:30:09.270\nAnd we don't have one yet.\n\n555\n00:30:09.270 --> 00:30:16.344\nSo we'll do an ipconfig switch renew,\nand see if we can pick up that address.\n\n556\n00:30:16.344 --> 00:30:19.762\nMake sure that we, I have to think in my\nmind, we've been doing this on the fly, so\n\n557\n00:30:19.762 --> 00:30:21.564\nI gotta make sure we got everything setup.\n\n558\n00:30:21.564 --> 00:30:24.804\nWe've moved the client to that third one,\n\n559\n00:30:24.804 --> 00:30:25.649\nand-\n&gt;&gt; There it is.\n\n560\n00:30:25.649 --> 00:30:30.502\n&gt;&gt; There it goes, so notice its picked\nup an address out of the 17216 pool\n\n561\n00:30:30.502 --> 00:30:35.750\nof addresses, so everything is working\nas it should be, that relay agent.\n\n562\n00:30:35.750 --> 00:30:39.057\nWe added a new interface,\nwe added the protocol to the interface,\n\n563\n00:30:39.057 --> 00:30:41.713\nwe created the appropriate\nscope on the DHCP server,\n\n564\n00:30:41.713 --> 00:30:44.798\nwe moved the client over there,\nand everything works great.\n\n565\n00:30:44.798 --> 00:30:48.173\n&gt;&gt; Well Mike, thank you again for\nhelping us out here and\n\n566\n00:30:48.173 --> 00:30:53.210\nunderstanding a little bit more about how\nto set up a relay agent for using DHCP.\n\n567\n00:30:53.210 --> 00:30:56.120\nSo remember, what you actually take and\nlook at here,\n\n568\n00:30:56.120 --> 00:31:00.107\nis that we've set up one DHCP server,\nbut multiple different subnets that\n\n569\n00:31:00.107 --> 00:31:03.350\nthe one DHCP server could be able\nto hand out IP addresses to.\n\n570\n00:31:03.350 --> 00:31:08.540\nAnd that was also by creating that\nrouter remote access role there for\n\n571\n00:31:08.540 --> 00:31:10.520\nus to be able to do that relay agent.\n\n572\n00:31:10.520 --> 00:31:13.300\nSo getting that all set up means that\nwe can actually reduce the number of\n\n573\n00:31:13.300 --> 00:31:16.490\nresources that we really need,\nmake it a little bit more efficient, but\n\n574\n00:31:16.490 --> 00:31:18.260\nyou can see how powerful it can be and\n\n575\n00:31:18.260 --> 00:31:21.250\nhow much we might need this\ninside of our own networks.\n\n576\n00:31:21.250 --> 00:31:24.170\nWell, that's a great place for\nus to also end this episode then,\n\n577\n00:31:24.170 --> 00:31:26.370\nand we do thank you for joining us.\n\n578\n00:31:26.370 --> 00:31:29.910\nSigning off for ITPro.TV,\nI've been your host, Ronnie Wong.\n\n579\n00:31:29.910 --> 00:31:30.910\n&gt;&gt; And I'm Mike Roderick.\n\n580\n00:31:30.910 --> 00:31:35.318\n&gt;&gt; Stay tuned right for\nmore networking with Server 2016.\n\n581\n00:31:35.318 --> 00:31:42.153\n[MUSIC]\n\n582\n00:31:42.153 --> 00:31:45.152\nThank you for watching ITPro.TV.\n\n",
          "vimeoId": "194394225"
        },
        {
          "description": null,
          "length": "1553",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-5-install_and_configure_dhcp_pt5-112216-PGM.00_25_55_16.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-5-install_and_configure_dhcp_pt5-112216-PGM.00_25_55_16.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-1-5-install_and_configure_dhcp_pt5-112216-PGM.00_25_55_16.Still002-sm.jpg",
          "title": "Install and Configure DHCP Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:03.858\nWelcome to ITPro TV,\nI'm your host [CROSSTALK].\n\n2\n00:00:03.858 --> 00:00:05.815\n&gt;&gt; Live from San Francisco, California.\n\n3\n00:00:05.815 --> 00:00:08.248\n[MUSIC]\n\n4\n00:00:08.248 --> 00:00:12.580\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:12.580 --> 00:00:15.740\n&gt;&gt; Welcome to another great\nepisode right here on ITPro.TV.\n\n6\n00:00:15.740 --> 00:00:17.170\nI'm your host Ronnie Wong and\n\n7\n00:00:17.170 --> 00:00:19.760\ntoday we're taking a look at\nnetworking with Windows Server 2016.\n\n8\n00:00:19.760 --> 00:00:26.610\nWe're specifically going into a part\nfive of installing and configuring DHCP.\n\n9\n00:00:26.610 --> 00:00:28.450\nWe're getting ready for that exam and\n\n10\n00:00:28.450 --> 00:00:31.420\nhere to help us with that is\ngoing to be Mr Mike Rodrick.\n\n11\n00:00:31.420 --> 00:00:33.490\nMike what do we need to know for the exam?\n\n12\n00:00:33.490 --> 00:00:35.910\n&gt;&gt; Well for the exam,\nI mean it's 15 to 20%\n\n13\n00:00:35.910 --> 00:00:36.935\n&gt;&gt; [INAUDIBLE] the exam so,\n\n14\n00:00:36.935 --> 00:00:39.305\nwe need to make sure we're\nvery familiar with it.\n\n15\n00:00:39.305 --> 00:00:41.845\nWe've got a lot of moving pieces that\nwe have to be able to deal with.\n\n16\n00:00:41.845 --> 00:00:44.875\nWe've seen the basics of getting it\ninstalled, getting it configured,\n\n17\n00:00:44.875 --> 00:00:49.785\ngetting it operational, creating scopes\nand configuring my scope options.\n\n18\n00:00:49.785 --> 00:00:53.355\nWe looked at relay agents, making sure our\nclients could communicate with the DHCP\n\n19\n00:00:53.355 --> 00:00:58.600\nserver and retrieve those IP address or\nTCP/IP configuration information.\n\n20\n00:00:58.600 --> 00:01:03.310\nNow we want to take look at migrating\na DHCP server and importing and\n\n21\n00:01:03.310 --> 00:01:05.950\nexporting that DHCP database.\n\n22\n00:01:05.950 --> 00:01:08.460\nNow we talk about running a DHCP server.\n\n23\n00:01:08.460 --> 00:01:15.130\nWe see this a lot in enterprises where\nthe DHCP server is running 2003 or 2008\n\n24\n00:01:15.130 --> 00:01:19.600\nbecause DHCP is Is once you get it set up,\nand it's running it just sits there.\n\n25\n00:01:19.600 --> 00:01:22.340\nAnd it just does it's thing, and\nyou really don't have to mess with it.\n\n26\n00:01:22.340 --> 00:01:26.730\nAnd people will tend to forget about it,\nand before long your operating system that\n\n27\n00:01:26.730 --> 00:01:28.880\nit's running on,\nis no longer being supported.\n\n28\n00:01:28.880 --> 00:01:31.860\nAnd I gotta get off of that machine,\nor the hardware is getting old,\n\n29\n00:01:31.860 --> 00:01:32.910\nwe gotta replace it.\n\n30\n00:01:32.910 --> 00:01:38.730\nSo that's why we're looking at doing\na migration from 2003, 2008, to 2016.\n\n31\n00:01:38.730 --> 00:01:41.530\nSo we've got to be able to do that,\nas well as move it, right?\n\n32\n00:01:41.530 --> 00:01:43.880\nI mean,\na lot of small enterprises will, or\n\n33\n00:01:43.880 --> 00:01:47.960\nsmall small corporations, they've got\none server that kind of does it all.\n\n34\n00:01:47.960 --> 00:01:50.930\nActive directory, DNS, DHCP.\n\n35\n00:01:50.930 --> 00:01:54.190\nAnd maybe now want to move\nthat DHCP server off.\n\n36\n00:01:54.190 --> 00:01:58.120\nLike in our previous example, we had\na server running routed remote access, and\n\n37\n00:01:58.120 --> 00:02:01.930\nwe showed how it can add multiple network\nadaptors to hit the different subnets.\n\n38\n00:02:01.930 --> 00:02:03.580\nSo that it can act as a relay agent.\n\n39\n00:02:03.580 --> 00:02:06.810\nWell what if I just move DHCP\nto that server over there,\n\n40\n00:02:06.810 --> 00:02:08.710\nthat one that was running routing and\nroute access.\n\n41\n00:02:08.710 --> 00:02:11.460\nThat's already connected\nto all the three or five or\n\n42\n00:02:11.460 --> 00:02:13.090\nhowever many subnets you've got.\n\n43\n00:02:13.090 --> 00:02:15.990\nThen I don't even need a relay agent\nbecause they can all talk directly or\n\n44\n00:02:15.990 --> 00:02:18.060\nyou can listen to all\nthe different subnets.\n\n45\n00:02:18.060 --> 00:02:21.060\nSo sometimes you've gotta move\nthe role from one machine to another,\n\n46\n00:02:21.060 --> 00:02:23.330\nthat's gonna be an import and\nexport process.\n\n47\n00:02:23.330 --> 00:02:27.390\nSometimes you've got to migrate it from an\nolder hardware platform operating system\n\n48\n00:02:27.390 --> 00:02:29.950\nto a new one and we'll do a migration.\n\n49\n00:02:29.950 --> 00:02:35.073\nAlright Mike, now taking a look at that\nidea specifically, we talk about the idea\n\n50\n00:02:35.073 --> 00:02:40.359\nof migration or backing up and restoring\ncouple of questions come into mind, Mike.\n\n51\n00:02:40.359 --> 00:02:43.680\nIs there a difference between\nthe terminology that you use there?\n\n52\n00:02:43.680 --> 00:02:44.930\nAnd then secondly,\n\n53\n00:02:44.930 --> 00:02:50.690\nthe idea here of actually doing what\nyou talk about is insanely complex?\n\n54\n00:02:50.690 --> 00:02:51.810\n&gt;&gt; It can be.\n\n55\n00:02:51.810 --> 00:02:55.810\nWe'll just say that it can be,\nit really shouldn't be.\n\n56\n00:02:55.810 --> 00:02:59.310\nAs long as you follow these steps\nthat we're gonna show you here.\n\n57\n00:02:59.310 --> 00:03:02.520\nThere is a difference between back up and\nrestore, and import and export.\n\n58\n00:03:02.520 --> 00:03:05.020\nI sometimes get those goofed up as well,\nit's easy to do.\n\n59\n00:03:05.020 --> 00:03:08.610\nWhen you're working with\na single server you back up and\n\n60\n00:03:08.610 --> 00:03:11.580\nyou restore that data base,\nyou back it up to keep it safe,\n\n61\n00:03:11.580 --> 00:03:14.310\nif something happens to\nit you can simply copy.\n\n62\n00:03:14.310 --> 00:03:17.370\nA backup into that place,\nand restarted the service.\n\n63\n00:03:17.370 --> 00:03:19.690\nAnd it'll pick it up\nlike nothing was wrong.\n\n64\n00:03:19.690 --> 00:03:21.190\nBut if we want to move it\nfrom one to the other,\n\n65\n00:03:21.190 --> 00:03:23.360\nwe really have to go\nthrough the export process.\n\n66\n00:03:23.360 --> 00:03:26.870\nIt kind of packages everything up, gets\nit ready to export to another machine.\n\n67\n00:03:26.870 --> 00:03:28.120\nAnd then we have to import it in,\n\n68\n00:03:28.120 --> 00:03:31.910\nwe can't simply just copy that\ndatabase into that location.\n\n69\n00:03:31.910 --> 00:03:34.050\nWe do have to make sure\nwe're mindful of that,\n\n70\n00:03:34.050 --> 00:03:36.820\nthat we're thinking about a way to\n[INAUDIBLE] Staying on the same machine\n\n71\n00:03:36.820 --> 00:03:39.430\nthen I'm really going to be\nworking with back up and restore.\n\n72\n00:03:39.430 --> 00:03:42.370\nIf I'm moving from one machine\nto another migrating or\n\n73\n00:03:42.370 --> 00:03:46.740\njust moving that role, really gonna be\nusing that import and export options and\n\n74\n00:03:46.740 --> 00:03:48.345\nthere's really two ways we can do that.\n\n75\n00:03:48.345 --> 00:03:52.100\nNetSH, the old school way of\ndoing it that works just fine and\n\n76\n00:03:52.100 --> 00:03:54.830\nthen there's of course they added\nall their power shell commandlets\n\n77\n00:03:54.830 --> 00:03:56.420\nto work with this process as well.\n\n78\n00:03:56.420 --> 00:03:58.810\n&gt;&gt; All right, Mike,\nbefore we get into that configuration and\n\n79\n00:03:58.810 --> 00:04:00.950\ntrying to see how it works.\n\n80\n00:04:00.950 --> 00:04:04.860\nAnother question for us then is that,\nif we want to do this or\n\n81\n00:04:04.860 --> 00:04:08.120\nwe know that we're gonna need to do this,\nis there any other plan or\n\n82\n00:04:08.120 --> 00:04:11.650\nconfiguration I need to think about for\nthe rest of my network?\n\n83\n00:04:11.650 --> 00:04:13.310\nOr on the those machines?\n\n84\n00:04:13.310 --> 00:04:15.800\nBut I have to go here's\nthe six steps I need to follow\n\n85\n00:04:15.800 --> 00:04:18.090\nin preparation of doing\nsomething like this.\n\n86\n00:04:18.090 --> 00:04:18.630\n&gt;&gt; A little bit.\n\n87\n00:04:18.630 --> 00:04:20.720\nYeah, a lot of it can be done on a fly,\n\n88\n00:04:20.720 --> 00:04:24.400\nas far as you need to create\na destination location for your export.\n\n89\n00:04:24.400 --> 00:04:26.330\nAnd then you need to, and\nthat's a local process.\n\n90\n00:04:26.330 --> 00:04:28.170\nYou can't do it up to a network share.\n\n91\n00:04:28.170 --> 00:04:31.890\nAnd then you've got to get that\nto your new machine somehow,\n\n92\n00:04:31.890 --> 00:04:35.770\nwhether that's once you've exported it,\ncopy it up to a network share.\n\n93\n00:04:35.770 --> 00:04:39.280\nCopy it back down locally as\na new machine and then import it.\n\n94\n00:04:39.280 --> 00:04:42.210\nOr export it,\ncopy off the removable media, and\n\n95\n00:04:42.210 --> 00:04:44.150\ntake it physically over\nto the other machine.\n\n96\n00:04:44.150 --> 00:04:44.850\nCopy it locally.\n\n97\n00:04:44.850 --> 00:04:47.960\nBut either way,\nhowever you get it from one to the other,\n\n98\n00:04:47.960 --> 00:04:51.140\nthe export process is a local\nprocess to the local hard drive.\n\n99\n00:04:51.140 --> 00:04:54.970\nThe import process is local\nfrom the local hard drive.\n\n100\n00:04:54.970 --> 00:04:57.950\nThe other thing that you\nwanna pay attention to is,\n\n101\n00:04:57.950 --> 00:05:00.060\nnow I forgot where your\nquestion was going with that.\n\n102\n00:05:00.060 --> 00:05:03.280\nOther things we might have\nto think about to get ready,\n\n103\n00:05:03.280 --> 00:05:07.030\nwould be, are there scopes\nalready on that new machine?\n\n104\n00:05:07.030 --> 00:05:09.350\nIs there gonna be a conflict?\n\n105\n00:05:09.350 --> 00:05:11.870\nAre we gonna have to\noverwrite existing scopes?\n\n106\n00:05:11.870 --> 00:05:12.540\nAnd that kind of thing.\n\n107\n00:05:12.540 --> 00:05:17.200\nAnd there are some switches I can use\nin PowerShell Especially Netsh as well\n\n108\n00:05:17.200 --> 00:05:17.820\nthat can help me.\n\n109\n00:05:17.820 --> 00:05:22.440\nMaybe I'm gonna export this DHCP\nserver and it's got four scopes,\n\n110\n00:05:22.440 --> 00:05:25.390\nI only really need one of those, the other\nthree subnets have bee retired long ago.\n\n111\n00:05:25.390 --> 00:05:30.670\nI could import just that one subnet or\nwant that one scope, I should say.\n\n112\n00:05:30.670 --> 00:05:34.780\nDo I wanna include the lease\ninformation or are we gonna start over?\n\n113\n00:05:34.780 --> 00:05:38.920\nThe other thing, Ronnie, I think is\nas far as when you do it, right?\n\n114\n00:05:38.920 --> 00:05:41.560\nCan I do this in the middle of day?\n\n115\n00:05:41.560 --> 00:05:44.480\nCuz most of the time we think don't ever\ndo it in the middle of the production day.\n\n116\n00:05:44.480 --> 00:05:46.710\nWe don't want to bring any servers down.\n\n117\n00:05:46.710 --> 00:05:48.640\nNot gonna be a good result.\n\n118\n00:05:48.640 --> 00:05:52.784\nDHCP, really the only thing that's\ngonna happen is during that process,\n\n119\n00:05:52.784 --> 00:05:54.315\nDHCP will be unavailable.\n\n120\n00:05:54.315 --> 00:05:58.159\nSo any new nodes are nodes that need IP\nconfiguration would not be able to obtain\n\n121\n00:05:58.159 --> 00:06:01.071\nthat during this process, but\nit doesn't take very long,\n\n122\n00:06:01.071 --> 00:06:03.000\nso it's not the end of the world.\n\n123\n00:06:03.000 --> 00:06:05.520\nThey'll call you up, and by the time\nthey get help desk on the phone,\n\n124\n00:06:05.520 --> 00:06:09.240\nit'll probably be back up and\nrunning, and everything will be fine.\n\n125\n00:06:09.240 --> 00:06:11.200\nSo should you do it in\nthe middle of the day?\n\n126\n00:06:11.200 --> 00:06:12.942\nProbably not, but can you?\n\n127\n00:06:12.942 --> 00:06:16.910\nIt's really gonna be minimal down time\nbecause if you think bout it the notes\n\n128\n00:06:16.910 --> 00:06:18.969\nonly has the lease information right?\n\n129\n00:06:18.969 --> 00:06:21.784\nThe lease is good by default at least for\neight days, so\n\n130\n00:06:21.784 --> 00:06:24.845\nthey might have two days left,\nmight have seven days left,\n\n131\n00:06:24.845 --> 00:06:27.867\nthey don't care of DHCP's there or\nnot during that time.\n\n132\n00:06:27.867 --> 00:06:32.045\nThe only time they really gonna be\nconcerned is when their lease is expiring\n\n133\n00:06:32.045 --> 00:06:34.562\nand they need to renew it is up and\nrunning, so\n\n134\n00:06:34.562 --> 00:06:37.540\ncan you do it at the middle\nof production day?.\n\n135\n00:06:37.540 --> 00:06:38.380\nYes should you?\n\n136\n00:06:38.380 --> 00:06:42.911\nWell best practice is going to probably be\nno but if you can't and you have to do it,\n\n137\n00:06:42.911 --> 00:06:46.540\nunderstand that the impact on\nthe network is going to be minimal.\n\n138\n00:06:46.540 --> 00:06:51.132\n&gt;&gt; All right Mike I hear somebody saying\nas straight forward it should actually\n\n139\n00:06:51.132 --> 00:06:55.770\nwork exactly the way it is,\nIt normally ever isn't exactly that way.\n\n140\n00:06:55.770 --> 00:06:58.950\nMike is this a straight forward process or\nnot?\n\n141\n00:06:58.950 --> 00:07:00.565\n&gt;&gt; It's incredibly straight forward.\n\n142\n00:07:00.565 --> 00:07:01.150\n&gt;&gt; No.\n\n143\n00:07:01.150 --> 00:07:03.470\n&gt;&gt; There's nothing to it.\n\n144\n00:07:03.470 --> 00:07:04.300\nNo, I tease,\n\n145\n00:07:04.300 --> 00:07:07.430\nthat's why I'm here to show you guys\nhow to do it, It's really not that bad.\n\n146\n00:07:07.430 --> 00:07:11.080\nThere can be a couple of\nlittle gotchas along the way.\n\n147\n00:07:11.080 --> 00:07:14.670\nI forgot to make sure that server\nwas authorized in active directory.\n\n148\n00:07:14.670 --> 00:07:17.330\nRight we talked about that\nin a previous episode.\n\n149\n00:07:17.330 --> 00:07:20.530\nI didn't realize there was a scope\nalready on there with the same subnet ID,\n\n150\n00:07:20.530 --> 00:07:24.660\nnow I've gotta either override it or\nI've lost all the information.\n\n151\n00:07:24.660 --> 00:07:26.190\nSo a couple little things like that but\nfor\n\n152\n00:07:26.190 --> 00:07:28.810\nthe most part it's a pretty\nstraightforward process.\n\n153\n00:07:28.810 --> 00:07:31.840\nBut You know that's the way computers are.\n\n154\n00:07:31.840 --> 00:07:35.525\nWhat should be straight forward never is\nand that's why you guys are going to get\n\n155\n00:07:35.525 --> 00:07:39.045\ncertified and go out there and start\nmaking the big bucks because you can take\n\n156\n00:07:39.045 --> 00:07:42.620\ncare of networks and deal with it when\nit doesn't go as smoothly as possible.\n\n157\n00:07:42.620 --> 00:07:47.242\nSo if I drink the Microsoft kool aid\nI will tell you this is a five step\n\n158\n00:07:47.242 --> 00:07:49.650\nprocess and nothing can go wrong.\n\n159\n00:07:50.710 --> 00:07:53.847\nIf we wanna talk real world,\nyeah, things can happen.\n\n160\n00:07:53.847 --> 00:07:57.063\nBut relatively easy to figure\nout what happened and a fix.\n\n161\n00:07:57.063 --> 00:07:58.295\n&gt;&gt; All right, Mike, so\n\n162\n00:07:58.295 --> 00:08:02.128\nas you show us this Is this something\nI can do completely in the GUI or\n\n163\n00:08:02.128 --> 00:08:06.510\nam I really gonna have to drop down to\nPowerShell, or something like that.\n\n164\n00:08:06.510 --> 00:08:08.158\n&gt;&gt; Or you're gonna have to, I mean-\n&gt;&gt; Man.\n\n165\n00:08:08.158 --> 00:08:08.940\n[LAUGH]\n&gt;&gt; Pick your poison,\n\n166\n00:08:08.940 --> 00:08:12.090\nit's either gonna be the old school\ncommand prompt with netsh or\n\n167\n00:08:12.090 --> 00:08:17.990\nit's gonna be your import or export DHCP\nserver with PowerShell, one or the other.\n\n168\n00:08:17.990 --> 00:08:20.890\nBut you can't do the export\nthrough the GUI as far as I know.\n\n169\n00:08:20.890 --> 00:08:25.650\nNow they might have, it's not in there,\nbackup and restore we can do through\n\n170\n00:08:25.650 --> 00:08:28.320\nthe GUI, but the import export\nis done from the command line.\n\n171\n00:08:28.320 --> 00:08:29.540\nSo, let's take a look and see how we do.\n\n172\n00:08:29.540 --> 00:08:33.097\nWe've got our servers from our\nprevious episodes, we'll rehash that.\n\n173\n00:08:33.097 --> 00:08:39.000\nI've got DC01 sitting here and\nDC01 is running DHCP.\n\n174\n00:08:39.000 --> 00:08:42.315\nIt's up and active so\nwe'll just scroll down and verify.\n\n175\n00:08:42.315 --> 00:08:45.490\nWe've got our DHCP console, we'll open up.\n\n176\n00:08:45.490 --> 00:08:49.310\nAnd we can see that it is running,\nit's got green check marks,\n\n177\n00:08:49.310 --> 00:08:50.570\nmeans it's authorized.\n\n178\n00:08:50.570 --> 00:08:55.360\nI've got a couple scopes and in fact,\nI probably have a couple of leases.\n\n179\n00:08:55.360 --> 00:08:57.350\nSo, we're good to go there, DHCP is up and\n\n180\n00:08:57.350 --> 00:09:00.531\nrunning, that's the one\nwe're gonna export from.\n\n181\n00:09:00.531 --> 00:09:05.700\nThen, we're gonna go to server one,\nwho is also running DHCP,\n\n182\n00:09:05.700 --> 00:09:09.167\nfresh install, no scopes on there at all.\n\n183\n00:09:09.167 --> 00:09:11.490\nSo, that's the one we'll import to.\n\n184\n00:09:11.490 --> 00:09:17.680\nThen I also have a server running 2012,\nthat's running DHCP.\n\n185\n00:09:17.680 --> 00:09:24.055\nIt's one that will pretend it's been\naround for a while also has a scope on it.\n\n186\n00:09:24.055 --> 00:09:28.482\nAnd it's time to migrate off of 2012 and\nget this over to 2016.\n\n187\n00:09:28.482 --> 00:09:32.794\nSo, we'll do both, we'll do netsh, we'll\ndo PowerShell, we'll see importing and\n\n188\n00:09:32.794 --> 00:09:37.010\nexporting from 2016 to 2016 as well\nas migrating from 2012 to 2016.\n\n189\n00:09:37.010 --> 00:09:41.530\nKeeping our fingers crossed,\nhoping that it all goes well.\n\n190\n00:09:41.530 --> 00:09:42.471\nAll right so,\n\n191\n00:09:42.471 --> 00:09:47.345\nthe first step was going to be export\nour existing information from DHCP.\n\n192\n00:09:47.345 --> 00:09:52.186\nSo, I'm gonna jump over to DC1 and\nI'm gonna open up File Explorer and\n\n193\n00:09:52.186 --> 00:09:56.783\nnavigate into my C drive and\nI've a folder here called DHCPExport so\n\n194\n00:09:56.783 --> 00:10:01.154\nthat's my destination location\nagain that's a local folder.\n\n195\n00:10:01.154 --> 00:10:04.594\nSo, I'm gonna open up\nan administrative prompt,\n\n196\n00:10:04.594 --> 00:10:08.434\nwe'll call it PowerShell but\nI'm gonna be using netsh,\n\n197\n00:10:08.434 --> 00:10:13.236\nremember PowerShell allows you to\nalias most of your old cmd commands.\n\n198\n00:10:13.236 --> 00:10:20.247\nSo, we're gonna do netsh\ndhcp server export and\n\n199\n00:10:20.247 --> 00:10:24.694\nthen, c:\\DHCPExport\\ and\n\n200\n00:10:24.694 --> 00:10:30.338\nI'll call this dc01Export.mdb for\n\n201\n00:10:30.338 --> 00:10:37.190\nthe Microsoft Database,\nand I'll hit Enter.\n\n202\n00:10:38.450 --> 00:10:41.910\nAnd keeping our fingers crossed again,\neverything should go just fine.\n\n203\n00:10:41.910 --> 00:10:43.630\nSo basically,\nit's taking all of that information,\n\n204\n00:10:43.630 --> 00:10:48.440\nthe scopes, the current lease information,\nall of that, and it's putting it in here.\n\n205\n00:10:48.440 --> 00:10:50.670\nNow, there actually are some\ncommands you can do,\n\n206\n00:10:50.670 --> 00:10:54.310\nyou guys know how to get help\nfrom the command prompt, /?.\n\n207\n00:10:54.310 --> 00:10:58.200\nYou could do netsh,\ndhcp, server export /?,\n\n208\n00:10:58.200 --> 00:11:02.380\nget some help on some of the other\nswitches or parameters you could use.\n\n209\n00:11:02.380 --> 00:11:05.960\nFor example, limiting it to just\nexporting one scope of information, or\n\n210\n00:11:05.960 --> 00:11:08.370\nnot including the lease information.\n\n211\n00:11:08.370 --> 00:11:11.039\nI went ahead and\ndid the entire kit in Kerboodle.\n\n212\n00:11:11.039 --> 00:11:13.370\nAll right so that's good,\nwe've got all that there now,\n\n213\n00:11:13.370 --> 00:11:16.240\nwe are going to switch over to server one.\n\n214\n00:11:18.740 --> 00:11:20.820\nAnd I'm going to open up File Explorer.\n\n215\n00:11:22.540 --> 00:11:24.090\nAnd I'm gonna go grab that folder.\n\n216\n00:11:24.090 --> 00:11:30.790\nSo, DC01c$, I'm gonna take that\nentire folder, I'm gonna copy it.\n\n217\n00:11:32.037 --> 00:11:34.858\nAnd I'm gonna make sure I paste\nthat onto my local drive.\n\n218\n00:11:37.904 --> 00:11:40.271\nAnd there it is, DHCPExport and there,\n\n219\n00:11:40.271 --> 00:11:44.115\nit's just that a mdb that we\ncreated during that export process.\n\n220\n00:11:44.115 --> 00:11:50.770\nAll right now, I'm going to go ahead and\nstop DHCP on server one.\n\n221\n00:11:50.770 --> 00:11:53.105\nSo, I'm gonna go to All Tasks and Stop,\n\n222\n00:11:53.105 --> 00:11:55.730\nthat way none of the files are in use,\nright?\n\n223\n00:11:55.730 --> 00:11:56.435\nThe database and\n\n224\n00:11:56.435 --> 00:12:00.600\nthings like that are unused makes\nimport process a whole lot easier.\n\n225\n00:12:00.600 --> 00:12:02.600\nSo now,\nwe're gonna open up PowerShell, and\n\n226\n00:12:02.600 --> 00:12:07.300\nI should have done administrative one just\nin case, so let's do that one more time.\n\n227\n00:12:08.580 --> 00:12:10.750\nWe'd Run as Administrator and\nYes to the UAC.\n\n228\n00:12:12.940 --> 00:12:19.559\nAnd the command is very similar,\nnetsh dhcp server import and\n\n229\n00:12:19.559 --> 00:12:24.652\nthen wherever I put that,\nc:\\DHCPExport and\n\n230\n00:12:24.652 --> 00:12:28.229\nI called it dc01Export.mdb.\n\n231\n00:12:28.229 --> 00:12:32.142\nSo, I'm telling it where that file is,\nI hit Enter and\n\n232\n00:12:32.142 --> 00:12:38.550\nunable to determine the DHCP version for\nthe server, may not function properly.\n\n233\n00:12:38.550 --> 00:12:40.435\nEh, may, may not.\n\n234\n00:12:40.435 --> 00:12:43.190\n&gt;&gt; [LAUGH]\n&gt;&gt; Let's go with it, let's start it up and\n\n235\n00:12:43.190 --> 00:12:44.020\nsee what happened.\n\n236\n00:12:45.890 --> 00:12:48.970\n&gt;&gt; So, that last line that we saw there,\n\n237\n00:12:48.970 --> 00:12:54.320\nthe report is probably just indicating\nthat it came from another server version.\n\n238\n00:12:54.320 --> 00:12:56.942\nSo, it may not stop us, but just letting\nus know that, is that what it saying?\n\n239\n00:12:56.942 --> 00:13:00.698\n&gt;&gt; It is, basically telling me exactly\nthat because the service was stopped,\n\n240\n00:13:00.698 --> 00:13:03.650\nit couldn't create the service and\nfigure out what it was.\n\n241\n00:13:05.490 --> 00:13:10.260\nLet's try and refresh this, it should be,\nthere's my green check marks.\n\n242\n00:13:10.260 --> 00:13:13.050\nAnd my scopes did not come in,\ninteresting.\n\n243\n00:13:13.050 --> 00:13:16.310\nAll right, let's try that\nimport with it up and running.\n\n244\n00:13:16.310 --> 00:13:19.780\nIt's been a little while since I\nplayed with the netsh version of this.\n\n245\n00:13:19.780 --> 00:13:24.120\nIt might have allowed me to do that\nwith it running, we'll try it and see.\n\n246\n00:13:24.120 --> 00:13:27.466\nSo now the service is running and\nwe'll just try to import it one more time,\n\n247\n00:13:27.466 --> 00:13:28.754\nsee if I get that same error.\n\n248\n00:13:31.551 --> 00:13:32.851\nSo, give it just a second.\n\n249\n00:13:32.851 --> 00:13:33.694\n&gt;&gt; Hey, there we go.\n\n250\n00:13:33.694 --> 00:13:35.955\n&gt;&gt; Command completed successfully,\nso there we go.\n\n251\n00:13:35.955 --> 00:13:40.184\nSo, in this case, it really wants\nthe service to be up and running.\n\n252\n00:13:40.184 --> 00:13:45.850\nSo now, we'll come back over here, we'll\nrefresh, there are both of my scopes.\n\n253\n00:13:45.850 --> 00:13:46.670\n&gt;&gt; An active.\n\n254\n00:13:46.670 --> 00:13:51.340\n&gt;&gt; They are active, let's see if we've got\nsome leases going on, everything is there.\n\n255\n00:13:51.340 --> 00:13:54.860\nSo, at this point, the only thing left to\ndo would be to go back over to DC1, and\n\n256\n00:13:54.860 --> 00:13:56.970\nthis is the important part.\n\n257\n00:13:56.970 --> 00:14:00.440\nI can't have both of these\nmachines working that same scope.\n\n258\n00:14:00.440 --> 00:14:04.560\nSo, I need to get over to my console, and\n\n259\n00:14:04.560 --> 00:14:10.270\nat this point I can stop DHCP on DC1,\nthe original server.\n\n260\n00:14:10.270 --> 00:14:14.900\nIt's up and\nrunning now on the new DHCP server there.\n\n261\n00:14:14.900 --> 00:14:20.000\nOops, let's get rid of that and bring\nback server one and we're good to go.\n\n262\n00:14:20.000 --> 00:14:23.740\nWe should be, like I said, back up in\nbusiness within a matter of minutes.\n\n263\n00:14:23.740 --> 00:14:26.288\nSo, the downtime was minimal.\n\n264\n00:14:26.288 --> 00:14:31.510\nYou have to pay attention to that mistake\nthat I made there, I stopped the service\n\n265\n00:14:31.510 --> 00:14:35.210\nout of habit, I always stop services\nbefore I'm trying to import information.\n\n266\n00:14:35.210 --> 00:14:38.680\nIn this case, it really wanted that\nservice to be running cuz it couldn't talk\n\n267\n00:14:38.680 --> 00:14:41.902\nto the service, verify that it was\nthere and start that import process.\n\n268\n00:14:41.902 --> 00:14:46.040\nSo, leave DHCP running when\nyou run that netsh command.\n\n269\n00:14:46.040 --> 00:14:50.170\n&gt;&gt; Now, Mike before we move on to\nthe next one here, on the export or\n\n270\n00:14:50.170 --> 00:14:52.600\nimport, I can't remember which\none I'm talking about here,\n\n271\n00:14:52.600 --> 00:14:56.350\non the import back into the new one,\nthat's actually going to be\n\n272\n00:14:56.350 --> 00:14:59.910\na different length of time depending\non how big that database is right?\n\n273\n00:14:59.910 --> 00:15:03.030\n&gt;&gt; Absolutely, if you've got multiple\nscopes, if you've got hundreds or\n\n274\n00:15:03.030 --> 00:15:06.200\nthousands of leases,\nthat makes that database larger in size.\n\n275\n00:15:06.200 --> 00:15:08.910\nThis one was no bigger than a meg or\nso, I think.\n\n276\n00:15:08.910 --> 00:15:12.792\nSo, it was a pretty quick process but\neven then it's really not,\n\n277\n00:15:12.792 --> 00:15:15.484\nit's basically moving that database over.\n\n278\n00:15:15.484 --> 00:15:20.327\nSo, that'll be the longest time, it's just\ncopying that database into the default\n\n279\n00:15:20.327 --> 00:15:22.883\nlocation, SQL of Windows System32 DHCP,\n\n280\n00:15:22.883 --> 00:15:27.320\nputting that database there from\nwherever you're importing it from.\n\n281\n00:15:27.320 --> 00:15:31.530\nThat'd probably be your biggest time,\nother than that, it restarts the servers\n\n282\n00:15:31.530 --> 00:15:34.430\nin the background, it sees that new\ndatabase and it just starts going.\n\n283\n00:15:34.430 --> 00:15:35.640\n&gt;&gt; Okay.\n\n284\n00:15:35.640 --> 00:15:38.140\n&gt;&gt; All right now,\nwe're gonna try to do 2012 and\n\n285\n00:15:38.140 --> 00:15:43.770\nwe're gonna try to use PowerShell\nto do basically the same process.\n\n286\n00:15:43.770 --> 00:15:45.537\nSo, here's my 2012 server.\n\n287\n00:15:47.300 --> 00:15:50.378\nAnd I've got a scope on here for\nthe dev subnet.\n\n288\n00:15:50.378 --> 00:15:54.599\nAnd maybe we've decided, we've been\nrunning their old DHCP server in that dev\n\n289\n00:15:54.599 --> 00:15:59.075\nenvironment We're gonna move that to the\nDHCP Server that everybody else is using.\n\n290\n00:15:59.075 --> 00:16:01.841\nIt's now mulithome, so\nit can listen to multiple subnets or\n\n291\n00:16:01.841 --> 00:16:03.640\nmaybe we're setting up relay agents.\n\n292\n00:16:03.640 --> 00:16:06.292\nAnyway, we wanna move this\noff to another server.\n\n293\n00:16:06.292 --> 00:16:09.954\nSo, we're gonna open up Powershell, and\n\n294\n00:16:09.954 --> 00:16:16.380\nwe do want an Administrative Powershell,\nso let's do that one more time.\n\n295\n00:16:16.380 --> 00:16:19.999\nIt's funny going back to 2012\neverything looks so different.\n\n296\n00:16:19.999 --> 00:16:25.138\nLet's adjust this font, so you can see it,\nactually read what I'm typing.\n\n297\n00:16:31.195 --> 00:16:37.746\nAll right, and for PowerShell the command\nis gonna be Export-DhcpServer, right.\n\n298\n00:16:37.746 --> 00:16:44.167\nExport-DhcpServer, and\nthen we're going to do a -file.\n\n299\n00:16:46.582 --> 00:16:48.012\nAnother tab autofill for me there.\n\n300\n00:16:48.012 --> 00:16:50.134\nI always like to verify\nthat even the word file,\n\n301\n00:16:50.134 --> 00:16:51.899\nI wanna make sure I spelled it, right.\n\n302\n00:16:51.899 --> 00:16:53.081\nSo, do a little tab autofill on it.\n\n303\n00:16:53.081 --> 00:16:54.789\nAnd then, my destination.\n\n304\n00:16:54.789 --> 00:16:56.527\nI did not make a destination folder.\n\n305\n00:16:56.527 --> 00:17:00.420\nSo, let me open up file explorer, and\n\n306\n00:17:00.420 --> 00:17:05.179\non that C Drive,\nI'm gonna make a new folder,\n\n307\n00:17:07.121 --> 00:17:11.149\nI'm gonna call it SVR 03 Export.\n\n308\n00:17:14.636 --> 00:17:19.605\nAnd here is c:/ svr03export\\ and\n\n309\n00:17:19.605 --> 00:17:25.665\nlet's call this one again, svr03export.\n\n310\n00:17:27.852 --> 00:17:30.454\nThis one, notice though,\nlook what I'm doing there.\n\n311\n00:17:30.454 --> 00:17:32.637\nYou guys see that?\n\n312\n00:17:32.637 --> 00:17:34.629\nIt's not a .mdb when you use PowerShell.\n\n313\n00:17:34.629 --> 00:17:41.180\nIt actually wants to export that into an\nXML file format rather than the old .mdb.\n\n314\n00:17:41.180 --> 00:17:42.201\nSo, we'll give it that name there.\n\n315\n00:17:42.201 --> 00:17:45.160\nThe other thing nope, we should be good.\n\n316\n00:17:45.160 --> 00:17:46.054\nWe'll go ahead and hit enter.\n\n317\n00:17:46.054 --> 00:17:50.459\nHopefully that process works fine.\n\n318\n00:17:50.459 --> 00:17:55.750\nWe'll go check, and\nthere is my .xml document.\n\n319\n00:17:55.750 --> 00:17:57.265\nTechnically, we should be\nable to read that, right?\n\n320\n00:17:57.265 --> 00:18:02.980\nThat's the great thing about .xml is it's\neasy to read and it's a neutral, yeah.\n\n321\n00:18:02.980 --> 00:18:06.113\nWe can take it into\nsome other application.\n\n322\n00:18:06.113 --> 00:18:07.530\nLet's not do that.\n\n323\n00:18:07.530 --> 00:18:08.908\nLet's just get this opened.\n\n324\n00:18:08.908 --> 00:18:10.154\nAsk me later.\n\n325\n00:18:10.154 --> 00:18:12.737\nAnd there's the information right there.\n\n326\n00:18:12.737 --> 00:18:14.472\nWe'll scroll down through.\n\n327\n00:18:14.472 --> 00:18:15.503\nSome of this we'd recognize.\n\n328\n00:18:15.503 --> 00:18:22.149\nSome of the, let's see if I can\nfind an actual lease maybe.\n\n329\n00:18:22.149 --> 00:18:22.823\nA lot of them,\n\n330\n00:18:22.823 --> 00:18:26.377\nI mean there's a lot of information\njust about the configuration of DHCP.\n\n331\n00:18:26.377 --> 00:18:28.513\nSo, stuff that we might or\nmight not recognize.\n\n332\n00:18:28.513 --> 00:18:30.288\nBut if we look through there long enough,\n\n333\n00:18:30.288 --> 00:18:32.683\nwe'd find information about\nour scopes that existed.\n\n334\n00:18:32.683 --> 00:18:35.293\nThere aren't any particular\nleases on that machine.\n\n335\n00:18:35.293 --> 00:18:39.537\nBut if there were,\nthat would be included in there as well.\n\n336\n00:18:39.537 --> 00:18:40.890\nAll right, so we've got that export.\n\n337\n00:18:40.890 --> 00:18:44.701\nNow, what we're gonna do is very\nsimilar to what we did with NSH.\n\n338\n00:18:44.701 --> 00:18:49.520\nI've gotta get that export over to\nthe machine that I wanna import that into.\n\n339\n00:18:49.520 --> 00:18:53.645\nSo, we're gonna switch to svr 1, and\n\n340\n00:18:53.645 --> 00:19:00.025\nwe're gonna open up File Explorer,\nnavigate to my C drive.\n\n341\n00:19:03.705 --> 00:19:07.837\nThat is not the right C drive,\n\n342\n00:19:07.837 --> 00:19:11.978\nalthough let's do this one.\n\n343\n00:19:11.978 --> 00:19:19.343\nAnd I'm going to //svr03/c$.\n\n344\n00:19:19.343 --> 00:19:20.659\nAnd there's my server03Export.\n\n345\n00:19:20.659 --> 00:19:25.717\nI'm gonna copy that entire folder,\nwhich is really just that XML file.\n\n346\n00:19:25.717 --> 00:19:32.324\nAnd then back onto my local C drive,\nI will paste my copy.\n\n347\n00:19:32.324 --> 00:19:33.404\nSo, there's my server03Export.\n\n348\n00:19:33.404 --> 00:19:37.980\nAll right, we are cooking with gas now.\n\n349\n00:19:37.980 --> 00:19:40.306\nSo, let's just double-check\non server three.\n\n350\n00:19:40.306 --> 00:19:45.288\nSo, server 1 Ive got two sub\nnets that we imported from VC1,\n\n351\n00:19:45.288 --> 00:19:48.349\nthe 10.192.168.100.\n\n352\n00:19:48.349 --> 00:19:49.839\nBack to my administrative PowerShell.\n\n353\n00:19:49.839 --> 00:19:55.542\nAnd we're going to do dh,\n\n354\n00:19:55.542 --> 00:19:58.653\nnot dhcp, but\n\n355\n00:19:58.653 --> 00:20:03.850\nImport-DhcpServer.\n\n356\n00:20:03.850 --> 00:20:04.767\nWait for it, wait for it.\n\n357\n00:20:04.767 --> 00:20:06.028\n&gt;&gt; [LAUGH] There it goes.\n\n358\n00:20:06.028 --> 00:20:07.950\nThen we're gonna do -file.\n\n359\n00:20:07.950 --> 00:20:11.648\nAgain wait for it.\n\n360\n00:20:11.648 --> 00:20:12.569\nI know, why do you wait for that?\n\n361\n00:20:12.569 --> 00:20:16.701\nAgain, I like to make sure that PowerShell\nand me are on the same wavelength.\n\n362\n00:20:16.701 --> 00:20:18.263\nAnd so, I tab autofill everything.\n\n363\n00:20:18.263 --> 00:20:21.615\nAnd then, we're gonna do, so -file,\n\n364\n00:20:21.615 --> 00:20:26.059\nwhere am I getting this from,\nc:\\svr03export.\n\n365\n00:20:26.059 --> 00:20:28.036\nAnd I forget what I called it.\n\n366\n00:20:28.036 --> 00:20:30.724\nI think I called it, yeah, svr3export.xml.\n\n367\n00:20:30.724 --> 00:20:31.307\nThank you Ronnie.\n\n368\n00:20:31.307 --> 00:20:32.581\nSo that's the file name.\n\n369\n00:20:32.581 --> 00:20:39.273\nWe're also gonna do a -backup path.\n\n370\n00:20:39.273 --> 00:20:40.814\nI think wait, aren't you importing?\n\n371\n00:20:40.814 --> 00:20:42.918\nThis is a safe guard.\n\n372\n00:20:42.918 --> 00:20:45.968\nWhat if something goes wrong\nduring the import process?\n\n373\n00:20:45.968 --> 00:20:49.817\nIt's not just a blank DHCP server\nthat I'm importing this into.\n\n374\n00:20:49.817 --> 00:20:51.587\nI've already got two\nother scopes on there.\n\n375\n00:20:51.587 --> 00:20:54.859\nIf I go and do this import and\nsomething goes wrong,\n\n376\n00:20:54.859 --> 00:20:59.059\nI didn't realize the scopes were\nthe same and I over-write one.\n\n377\n00:20:59.059 --> 00:21:02.123\nThere's a few different things that could\ngo wrong during this import process.\n\n378\n00:21:02.123 --> 00:21:07.725\nMostly me not paying attention and\nnot documenting and planning correctly.\n\n379\n00:21:07.725 --> 00:21:11.995\nSo we have to put a backup path, cuz what\nit's gonna do is backup DHCP, real quick,\n\n380\n00:21:11.995 --> 00:21:14.805\nfirst then it's gonna go\nthrough the import process.\n\n381\n00:21:14.805 --> 00:21:17.313\nAnd that gives us that roll back point,\n\n382\n00:21:17.313 --> 00:21:22.500\nwhere if something fails all of a sudden I\ntry to do this import and DHCP is broken.\n\n383\n00:21:22.500 --> 00:21:26.483\nI can simply restore from backup to the\npoint before we did the import process.\n\n384\n00:21:26.483 --> 00:21:31.421\nIt's a really cool that it forces me\nto follow best practices really and\n\n385\n00:21:31.421 --> 00:21:32.752\ndo a backup first.\n\n386\n00:21:32.752 --> 00:21:36.509\nAll right, if we wanted to,\nwell let me go ahead and give it a backup.\n\n387\n00:21:36.509 --> 00:21:37.949\nLet me give it a backup location.\n\n388\n00:21:37.949 --> 00:21:45.283\nSo, I'm gonna make a new folder for\nthat, call it DHCP.\n\n389\n00:21:45.283 --> 00:21:45.791\n&gt;&gt; Backup.\n\n390\n00:21:45.791 --> 00:21:47.095\n&gt;&gt; Back up, how did you know, Ronnie?\n\n391\n00:21:47.095 --> 00:21:48.317\nI'm so creative, aren't I?\n\n392\n00:21:48.317 --> 00:21:51.537\nAnd I don't know why I\ndo that every time and\n\n393\n00:21:51.537 --> 00:21:55.486\nI have to fix it every time\ncuz it will drive me crazy.\n\n394\n00:21:55.486 --> 00:21:58.775\nDHCP backup is where I\nwant to put this backup.\n\n395\n00:21:58.775 --> 00:22:04.209\nSo C:\\DHCPBackup and\n\n396\n00:22:04.209 --> 00:22:12.636\nthen I'll call it b4Import.xml.\n\n397\n00:22:12.636 --> 00:22:19.662\nNow, I could do -ScopeId or\nI could do a -leases.\n\n398\n00:22:19.662 --> 00:22:23.736\nCouple of other switches that I want you\nguys to be familiar with are parameters\n\n399\n00:22:23.736 --> 00:22:24.983\nand PowerShell speak.\n\n400\n00:22:24.983 --> 00:22:30.285\nScope ID, let's say that that server had\nmore than one scope that I exported from,\n\n401\n00:22:30.285 --> 00:22:33.486\nbut I only wanted to import\none particular scope.\n\n402\n00:22:33.486 --> 00:22:39.304\nI could do a scopeID and\nthen 10.0.100.0, right.\n\n403\n00:22:39.304 --> 00:22:42.116\nIf there was more than one,\nI'd separate it out with commas.\n\n404\n00:22:42.116 --> 00:22:49.542\nI also wanna import 10.0, or let's say\nit was a different one, 192.168.50.0.\n\n405\n00:22:49.542 --> 00:22:53.763\nNotice I'm not doing any kind of\nsubnet mask or anything like that.\n\n406\n00:22:53.763 --> 00:22:59.758\nIts simply scopeID and then, a comma\nseparated value list with the IDs for\n\n407\n00:22:59.758 --> 00:23:03.047\nthose particular scopes and that's it.\n\n408\n00:23:03.047 --> 00:23:06.997\nNow, in my case, I only have one,\nso it really doesn't matter.\n\n409\n00:23:06.997 --> 00:23:14.197\nThe -leases, well, if that 2012 server\nhad existing leases for that scope.\n\n410\n00:23:14.197 --> 00:23:16.848\nAnd I wanted to make sure to\nbring those leases with me or\n\n411\n00:23:16.848 --> 00:23:19.510\nin the import process\ncuzthey're part of the export.\n\n412\n00:23:19.510 --> 00:23:23.179\nBut if I wanted to bring him in\nthrough the import, I can do -leases.\n\n413\n00:23:23.179 --> 00:23:28.911\nIf I leave that off, it's not gonna\nbring any current lease information.\n\n414\n00:23:28.911 --> 00:23:31.305\nI don't have any, so\nI'm gonna leave that off, as well.\n\n415\n00:23:31.305 --> 00:23:35.756\nAnd we're simply gonna hit enter and\nlet it go through the process.\n\n416\n00:23:35.756 --> 00:23:38.253\nIt tells me that it will\nbe imported in Server 1.\n\n417\n00:23:38.253 --> 00:23:39.958\nDo you want to perform this action?\n\n418\n00:23:39.958 --> 00:23:41.469\nYes, I do.\n\n419\n00:23:41.469 --> 00:23:42.348\nSo Y for yes.\n\n420\n00:23:45.739 --> 00:23:49.287\nAnd no red text is always\na good thing from PowerShell.\n\n421\n00:23:49.287 --> 00:23:53.004\nHad somebody tell me one time that they\njust changed their default colors on\n\n422\n00:23:53.004 --> 00:23:55.719\ntheir PowerShell, so\nthe errors were no longer red and\n\n423\n00:23:55.719 --> 00:23:57.857\nmy statement didn't work anymore [LAUGH].\n\n424\n00:23:57.857 --> 00:24:00.465\nAll right, it's there but\nRonnie I don't see it.\n\n425\n00:24:00.465 --> 00:24:01.137\nWhat happened?\n\n426\n00:24:01.137 --> 00:24:01.673\n&gt;&gt; Yeah.\n\n427\n00:24:01.673 --> 00:24:03.772\n&gt;&gt; Let's try to refresh that.\n\n428\n00:24:03.772 --> 00:24:05.540\n&gt;&gt; Llook at that.\n\n429\n00:24:05.540 --> 00:24:06.374\n&gt;&gt; And look it there.\n\n430\n00:24:06.374 --> 00:24:09.948\nThere is my DevSubnet,\nmy address pool is there.\n\n431\n00:24:09.948 --> 00:24:12.235\nI don't think I configured any options,\nbut\n\n432\n00:24:12.235 --> 00:24:15.800\nif there were any options on that subnet,\nthat would be there as well.\n\n433\n00:24:15.800 --> 00:24:18.718\nSo, really start to see how easy they\nmake it to work with a little bit of\n\n434\n00:24:18.718 --> 00:24:19.564\nplanning, right?\n\n435\n00:24:19.564 --> 00:24:23.580\nSetting up a couple of folders,\nmaking sure I copied it over.\n\n436\n00:24:23.580 --> 00:24:28.084\nAnd then, learning a couple of those\ncommands we can move DHCP from one server\n\n437\n00:24:28.084 --> 00:24:30.043\nto the other pretty painlessly.\n\n438\n00:24:30.043 --> 00:24:34.549\n&gt;&gt; [LAUGH] All right, Mike well thank you\nagain for showing us this idea of being\n\n439\n00:24:34.549 --> 00:24:39.413\nable to migrate different types of roles\nover using DHCP as one of the primary ones\n\n440\n00:24:39.413 --> 00:24:43.845\nbecause that one seems to be a good one\nthat has to be changed a lot of times,\n\n441\n00:24:43.845 --> 00:24:47.236\nespecially when your\norganization continues to grow.\n\n442\n00:24:47.236 --> 00:24:51.497\nYou tend to move off of those different\nservers that have multiple roles on\n\n443\n00:24:51.497 --> 00:24:54.258\nthem and\nthen move them off to dedicated roles.\n\n444\n00:24:54.258 --> 00:24:55.182\nA lot of times that helps.\n\n445\n00:24:55.182 --> 00:24:59.513\nAnd a lot of times of course then also the\ninfrastructure that's a little bit older\n\n446\n00:24:59.513 --> 00:25:02.356\ntends to get moved last\nbecause it's still working.\n\n447\n00:25:02.356 --> 00:25:04.432\nThis is one way you can\nalso do this as well.\n\n448\n00:25:04.432 --> 00:25:07.018\nSo there is a bit of setup to do.\n\n449\n00:25:07.018 --> 00:25:08.725\nOnce you actually get that set down.\n\n450\n00:25:08.725 --> 00:25:13.598\nyou see how easy Mike did migrate it using\nboth power shell aswell as the old net sh\n\n451\n00:25:13.598 --> 00:25:14.338\ncommands.\n\n452\n00:25:14.338 --> 00:25:17.188\nAnd of course,\nlike everything else on Microsoft exams,\n\n453\n00:25:17.188 --> 00:25:19.874\nyou're likely to see those\nmore often then you think.\n\n454\n00:25:19.874 --> 00:25:24.064\nDon't just get used to doing everything in\nthe GUI, but in this instance, you can't.\n\n455\n00:25:24.064 --> 00:25:28.060\nSo, make sure you actually do practice the\nidea of using these different commands.\n\n456\n00:25:28.060 --> 00:25:31.625\nWell, that's a great place for\nus to also end this episode then.\n\n457\n00:25:31.625 --> 00:25:35.160\nSigning off for ITPROTV,\nI've been your host Ronnie Wong.\n\n458\n00:25:35.160 --> 00:25:35.975\n&gt;&gt; And I'm Mike Rodrick.\n\n459\n00:25:35.975 --> 00:25:40.557\n&gt;&gt; Stay tuned right here and more with\nNetworking with Windows Server 2016.\n\n460\n00:25:40.557 --> 00:25:48.134\n[MUSIC]\n\n461\n00:25:48.134 --> 00:25:50.936\n&gt;&gt; Thank you for watching, ITProTV.\n\n",
          "vimeoId": "194394997"
        },
        {
          "description": "In this episode, Ronnie and Mike make us consider the managing and maintaining of DHCP server role.  This, according to the team, is the next stage in working with DHCP.  They describe changing the lease durations of DHCP to better serve our networking needs.  Another important topic the team covers are some of the considerations with backing up DHCP automatically and manually too. Lastly, they describe the use of name protection with DHCP server.",
          "length": "1878",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-2-1-manage_and_maintain_dhcp-112316-PGM.00_31_03_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-2-1-manage_and_maintain_dhcp-112316-PGM.00_31_03_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-2-1-manage_and_maintain_dhcp-112316-PGM.00_31_03_19.Still001-sm.jpg",
          "title": "Manage and Maintain DHCP",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:02.376\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.376 --> 00:00:05.808\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:05.808 --> 00:00:08.188\n[MUSIC]\n\n4\n00:00:08.188 --> 00:00:10.626\n&gt;&gt; You're watching ITProTV\n\n5\n00:00:10.626 --> 00:00:12.244\n[MUSIC]\n\n6\n00:00:12.244 --> 00:00:14.917\n&gt;&gt; Welcome to another great\nepisode right here on ITProTV.\n\n7\n00:00:14.917 --> 00:00:16.550\nI'm your host Ronnie Wong,\n\n8\n00:00:16.550 --> 00:00:21.330\nand today we're taking a look at\nNetworking with Windows Server 2016.\n\n9\n00:00:21.330 --> 00:00:25.390\nWe're specifically gonna be taking\na look at the idea of maintaining and\n\n10\n00:00:25.390 --> 00:00:28.000\nof course managing DHCP, and\n\n11\n00:00:28.000 --> 00:00:32.820\nhere to help us out is going to be our\nDHCP master himself, Mr Mike Rodrick.\n\n12\n00:00:32.820 --> 00:00:33.733\nMike, welcome back to the studios.\n\n13\n00:00:33.733 --> 00:00:35.744\n&gt;&gt; Thanks for having me back Ronnie,\nglad to be here.\n\n14\n00:00:35.744 --> 00:00:38.170\nAnd you are right, continuing the DHCP.\n\n15\n00:00:38.170 --> 00:00:41.508\nAnd we've seen how to install it,\nconfigure scopes, get it up and\n\n16\n00:00:41.508 --> 00:00:44.559\nrunning and once it's up and\nrunning now what do we do right?\n\n17\n00:00:44.559 --> 00:00:47.579\nWe just put it in the corner and forget\nabout it, let it go it should be fine.\n\n18\n00:00:47.579 --> 00:00:53.499\nNo, one of the things about DHCP\nit is a relatively simple service.\n\n19\n00:00:53.499 --> 00:00:57.050\nWhen it comes to getting it set up,\nyou create your scopes,\n\n20\n00:00:57.050 --> 00:00:59.690\neverything kinda happens automatically.\n\n21\n00:00:59.690 --> 00:01:01.820\nThe clients reach out,\nthey get their IP address.\n\n22\n00:01:01.820 --> 00:01:06.600\nI mean that's what we like about DHCP,\nit automates that tedious task of\n\n23\n00:01:06.600 --> 00:01:10.200\ndistributing, assigning\nTCP/IP configuration.\n\n24\n00:01:10.200 --> 00:01:15.530\nBut, because it is a very dynamic\nenvironment, things change all the time.\n\n25\n00:01:15.530 --> 00:01:18.090\nClients have to renew leases,\nthings like that.\n\n26\n00:01:18.090 --> 00:01:21.890\nWe really have to make sure we're\nmonitoring it and making sure that it's\n\n27\n00:01:21.890 --> 00:01:26.380\nperforming adequately,\nthat our scopes aren't' getting depleted.\n\n28\n00:01:26.380 --> 00:01:28.790\nSo it's not a set it and\nforget it type thing.\n\n29\n00:01:28.790 --> 00:01:33.910\nIt doesn't take a huge amount of effort,\nbut if we stay on top of it,\n\n30\n00:01:33.910 --> 00:01:36.580\nit keeps it pretty straight forward.\n\n31\n00:01:36.580 --> 00:01:39.083\n&gt;&gt; All right, Mike.\nSo, understanding that concept in that\n\n32\n00:01:39.083 --> 00:01:43.386\nidea, this is our first time working with\nDHCP, are there some certain elements that\n\n33\n00:01:43.386 --> 00:01:47.185\nwe just need to make sure that happens\nin this idea of the maintenance part.\n\n34\n00:01:47.185 --> 00:01:51.506\nAnd there's just like a step one, two,\nthree and four that we have to do or\n\n35\n00:01:51.506 --> 00:01:55.780\nthis just really general ideas of you\nmight need to consider doing this.\n\n36\n00:01:55.780 --> 00:01:59.945\n&gt;&gt; It really is kinda general\nideas on how I can make sure that,\n\n37\n00:01:59.945 --> 00:02:03.720\none everything's working correctly and\nflowing smoothly, and\n\n38\n00:02:03.720 --> 00:02:07.560\nthat in the event that something does\ngo wrong, I can easily fix it, right?\n\n39\n00:02:07.560 --> 00:02:09.620\nI can get back to a known good point.\n\n40\n00:02:09.620 --> 00:02:13.340\nSo it's gonna be relatively simple things\nlike making sure we've got a backup right?\n\n41\n00:02:13.340 --> 00:02:15.380\nOf that DHCP information.\n\n42\n00:02:15.380 --> 00:02:19.780\nAnd making sure that we can restore\nthat backup, that everything is working.\n\n43\n00:02:19.780 --> 00:02:23.120\nAnd we should be backing up our server\naltogether, and we'll get a little bit,\n\n44\n00:02:23.120 --> 00:02:26.380\nwe'll do some demonstrations here\non backing up and restoring.\n\n45\n00:02:26.380 --> 00:02:29.460\nOther things we might work on\nRonnie are lease information.\n\n46\n00:02:29.460 --> 00:02:32.760\nWe haven't spent a lot of\ntime talking about the lease.\n\n47\n00:02:32.760 --> 00:02:34.260\nSo let's start there.\n\n48\n00:02:34.260 --> 00:02:39.540\nWe've already seen how a client gets\nan IP address from that DHCP server,\n\n49\n00:02:39.540 --> 00:02:42.870\nand not just the IP address,\nDHCP is fantastic.\n\n50\n00:02:42.870 --> 00:02:47.616\nIt can pass out IP address, subnet mask,\ndefault gateway, DNS server information,\n\n51\n00:02:47.616 --> 00:02:50.684\nwindserver address,\nnet BIOS node type, DNS suffix.\n\n52\n00:02:50.684 --> 00:02:52.483\nI mean the list goes on and on, right?\n\n53\n00:02:52.483 --> 00:02:58.520\nSo DHCP can provide a wealth of\nconfiguration to those client machines.\n\n54\n00:02:58.520 --> 00:03:00.342\nWhen that client gets that information,\n\n55\n00:03:00.342 --> 00:03:02.433\ngets the IP address that\nit's supposed to use.\n\n56\n00:03:02.433 --> 00:03:05.930\nDoes that last step of Dora,\nthe acknowledgement.\n\n57\n00:03:05.930 --> 00:03:09.130\nOkay, this is now my address,\nI can start using it.\n\n58\n00:03:09.130 --> 00:03:11.040\nIt's not a permanent assignment right?\n\n59\n00:03:11.040 --> 00:03:13.860\nThe client doesn't get to\nuse that IP address forever.\n\n60\n00:03:13.860 --> 00:03:17.041\nIt's leased just like\nwhen you go lease a car,\n\n61\n00:03:17.041 --> 00:03:21.132\nyou have to regularly renew that lease or\ngive the car back.\n\n62\n00:03:21.132 --> 00:03:24.050\nAnd that's the same thing that's\ngonna happen with these IP addresses.\n\n63\n00:03:24.050 --> 00:03:27.660\nWhen a client gets an IP address it's\nleased for a certain duration and\n\n64\n00:03:27.660 --> 00:03:32.050\nthen either the client has to renew\nthe lease before it expires or\n\n65\n00:03:32.050 --> 00:03:35.780\nat the end of the lease, the address\nis removed or it's pulled back.\n\n66\n00:03:35.780 --> 00:03:40.005\nAnd I will say that doesn't reach out and\ntake it away from the client, but\n\n67\n00:03:40.005 --> 00:03:42.742\nDHCP on its end says,\nthis guy never did renew.\n\n68\n00:03:42.742 --> 00:03:46.960\nI'm gonna put it back in the pool so\nthat I can give it to another client.\n\n69\n00:03:46.960 --> 00:03:49.189\n&gt;&gt; Now MIke,\nspeaking of the idea of leases here,\n\n70\n00:03:49.189 --> 00:03:52.219\nMicrosoft by default leases it for\na particular period of time.\n\n71\n00:03:52.219 --> 00:03:54.354\nCan you remind us of what that time is and\n\n72\n00:03:54.354 --> 00:03:58.710\nis there possibly a reason when we might\nchange that or why we might change that?\n\n73\n00:03:58.710 --> 00:04:02.023\n&gt;&gt; That's a great question and\nabsolutely, that's on of the things we\n\n74\n00:04:02.023 --> 00:04:05.161\nneed to talk about in our And\nwhen we talk about planning this out,\n\n75\n00:04:05.161 --> 00:04:08.151\nthe least duration by default\nis eight days for the most part.\n\n76\n00:04:08.151 --> 00:04:09.867\n&gt;&gt; [LAUGH]\n&gt;&gt; Say wait,\n\n77\n00:04:09.867 --> 00:04:12.251\nhow can I have a default\nthat's like some of the time?\n\n78\n00:04:12.251 --> 00:04:16.198\nIt really depends on how you\ncreate the scope, it'll change.\n\n79\n00:04:16.198 --> 00:04:19.968\nWhen you go through the initial\ninstallation of DHCP, you can create\n\n80\n00:04:19.968 --> 00:04:24.650\na scope during that installation and\nI believe there it defaults to eight days.\n\n81\n00:04:24.650 --> 00:04:27.270\nOther wizards if you go in and\nright click new scope\n\n82\n00:04:27.270 --> 00:04:32.080\nsometimes you'll see different options for\nwired versus wireless.\n\n83\n00:04:32.080 --> 00:04:36.080\nIt's six days I think for\nthe wireless and eight for wired.\n\n84\n00:04:36.080 --> 00:04:37.680\nBut really just think of eight days.\n\n85\n00:04:37.680 --> 00:04:41.320\nIf you remember eight days you're\nfine on any exam for the most part.\n\n86\n00:04:41.320 --> 00:04:46.480\nSo that is the default, eight days, which\nshould cover a work week plus one right.\n\n87\n00:04:46.480 --> 00:04:49.177\nSo that next day,\nMonday you know the client can come in and\n\n88\n00:04:49.177 --> 00:04:51.010\nstill has a chance to renew that lease.\n\n89\n00:04:51.010 --> 00:04:55.582\nNow Ronnie brought up a great question,\nshould we ever change that and\n\n90\n00:04:55.582 --> 00:04:58.770\nwe have to think about\nwhy we'd wanna change it.\n\n91\n00:04:58.770 --> 00:05:00.530\nRight, what would be the advantage?\n\n92\n00:05:00.530 --> 00:05:01.750\nShould we make it longer?\n\n93\n00:05:01.750 --> 00:05:03.360\nShould we make it shorter?\n\n94\n00:05:03.360 --> 00:05:05.110\nAnd if so why?\n\n95\n00:05:05.110 --> 00:05:07.080\nAnd what we have to think about is,\n\n96\n00:05:07.080 --> 00:05:11.180\nhow many addresses do I\nhave available in my pool?\n\n97\n00:05:11.180 --> 00:05:15.740\nHow many nodes do I have that\nare gonna need IP addresses?\n\n98\n00:05:15.740 --> 00:05:18.150\nAnd how dynamic is that, right?\n\n99\n00:05:18.150 --> 00:05:22.590\nIf I have a relatively static environment,\nin other words, my corporation,\n\n100\n00:05:22.590 --> 00:05:26.690\nwe've got 100, 200 nodes in here,\nbut they're all desktop machines,\n\n101\n00:05:26.690 --> 00:05:29.440\nthey're never disconnected\nfrom the network.\n\n102\n00:05:29.440 --> 00:05:32.550\nI might think about actually making\nthat lease a little bit longer.\n\n103\n00:05:32.550 --> 00:05:38.560\nBecause the way the renewal process works\nis, a client at 50% of the lease duration.\n\n104\n00:05:38.560 --> 00:05:39.820\nSo if it's an eight day lease,\n\n105\n00:05:39.820 --> 00:05:43.685\nthat would be on day four the client\nis gonna begin the renewal process.\n\n106\n00:05:43.685 --> 00:05:45.787\nDoesn't wait till the very\nlast minute like I might do.\n\n107\n00:05:45.787 --> 00:05:47.122\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] And\n\n108\n00:05:47.122 --> 00:05:51.205\nthen run the risk of the car\ngetting taken back from you anyway.\n\n109\n00:05:51.205 --> 00:05:54.255\nThe client says, hey, at 50%,\nI'm gonna go ahead and renew my lease.\n\n110\n00:05:54.255 --> 00:06:00.015\nThe DHCP server should respond, give\nthem a renewal, a new eight day window.\n\n111\n00:06:00.015 --> 00:06:02.473\nBut the client again, four days later,\ntries to renew that lease.\n\n112\n00:06:02.473 --> 00:06:07.500\n[COUGH] Excuse me, so that's\nbasically the process we go through.\n\n113\n00:06:07.500 --> 00:06:11.099\nSo that's traffic that the DHCP\nserver has to deal with.\n\n114\n00:06:11.099 --> 00:06:14.218\nAnd if we multiply that by\nhundreds of clients, right, or\n\n115\n00:06:14.218 --> 00:06:18.105\nlarger corporate environments,\nthousands and thousands of clients,\n\n116\n00:06:18.105 --> 00:06:23.130\nthat's a lot of renewal traffic going to\nthat DHCP server that it's gotta handle.\n\n117\n00:06:23.130 --> 00:06:26.280\nSo if I make that lease longer If I say,\nyou know what,\n\n118\n00:06:26.280 --> 00:06:31.540\nwe're gonna lease it out for 15 days,\nnow all of sudden, the clients are only\n\n119\n00:06:31.540 --> 00:06:37.200\ncontacting DHCP every seven and\na half days to renew their lease, right?\n\n120\n00:06:37.200 --> 00:06:40.480\nSo, I've reduced the amount of\ntimes the clients of the nodes\n\n121\n00:06:40.480 --> 00:06:44.820\nhave to talk to the DHCP server,\nreduced the workload on the DHCP server.\n\n122\n00:06:44.820 --> 00:06:45.429\nSo, that's great.\n\n123\n00:06:46.480 --> 00:06:48.450\nIf you've got a very static environment.\n\n124\n00:06:48.450 --> 00:06:51.730\nWhat about scenarios where it's not so\nstatic.\n\n125\n00:06:51.730 --> 00:06:53.610\nWe have a mix of desktops.\n\n126\n00:06:53.610 --> 00:06:57.590\nBut we also have a lot of laptop sales\npeople that come in on Monday morning.\n\n127\n00:06:57.590 --> 00:06:59.926\nThey log into the network,\nthey get all their information they need.\n\n128\n00:06:59.926 --> 00:07:02.701\nThen they take off for\nthe day, or even for the week.\n\n129\n00:07:02.701 --> 00:07:05.660\nAnd they don't ever connect\nback to the network.\n\n130\n00:07:05.660 --> 00:07:08.520\nWell, think about what's happening\nwith that IP address, all right?\n\n131\n00:07:08.520 --> 00:07:11.820\nI come in on Monday morning,\nI hook up my laptop to the network.\n\n132\n00:07:11.820 --> 00:07:16.820\nIt calls up DHCP, it gets an IP address,\nDHCP says here's your address,\n\n133\n00:07:16.820 --> 00:07:18.480\nit's good for eight days.\n\n134\n00:07:18.480 --> 00:07:22.430\nAll right, now I leave Monday right\nafter lunch and I hit the road.\n\n135\n00:07:22.430 --> 00:07:24.929\nAnd I'm on a two week trip, sales trip.\n\n136\n00:07:24.929 --> 00:07:29.403\nDHCP doesn't know that so\nin its database it says this address\n\n137\n00:07:29.403 --> 00:07:33.543\nwas leased out to this client for\neight days, all right.\n\n138\n00:07:33.543 --> 00:07:37.283\nI've left after,\nbefore the first day is even over but\n\n139\n00:07:37.283 --> 00:07:42.829\nthe DHCP server cant use that address for\nanybody else until that lease expires.\n\n140\n00:07:42.829 --> 00:07:43.633\nHe is waiting and\n\n141\n00:07:43.633 --> 00:07:46.743\nwaiting and waiting to see if I am\ngoing to try to renew the lease.\n\n142\n00:07:46.743 --> 00:07:50.227\nAt the end of the eight days it\ncould put it back in the pool but\n\n143\n00:07:50.227 --> 00:07:53.250\nthere was seven days that\nthat address was locked.\n\n144\n00:07:53.250 --> 00:07:55.380\nCouldn't be used by anybody else and\n\n145\n00:07:55.380 --> 00:07:58.960\nwasn't being used by the original\nlessee of that IP address.\n\n146\n00:07:58.960 --> 00:08:03.026\nSo, and then you talked about laptops,\nor not laptops, but\n\n147\n00:08:03.026 --> 00:08:06.150\ntablets, and phones, and things like this.\n\n148\n00:08:06.150 --> 00:08:09.280\nAnd you realize, when Ronnie walks in,\nhe doesn't get one IP address.\n\n149\n00:08:09.280 --> 00:08:12.250\nHe gets one for his laptop,\none for his tablet, one for\n\n150\n00:08:12.250 --> 00:08:15.250\nhis phone, one for\nhis iWatch, one for his shoes\n\n151\n00:08:15.250 --> 00:08:19.210\nthat are connected to his iWatch via his\nBluetooth headset that also need one.\n\n152\n00:08:19.210 --> 00:08:21.235\nNow, I know a lot of these\nthings are private addresses.\n\n153\n00:08:21.235 --> 00:08:24.910\nBut you get the idea,\nit's not just one to one anymore.\n\n154\n00:08:24.910 --> 00:08:27.970\nAnd so, all of a sudden,\nmy pool of addresses can be,\n\n155\n00:08:27.970 --> 00:08:30.015\nwhat's the word I'm looking for?\n\n156\n00:08:30.015 --> 00:08:34.931\nAre used up very quickly by devices that\ndon't really need those addresses anymore.\n\n157\n00:08:34.931 --> 00:08:39.161\n&gt;&gt; Now Mike, I do understand that because\nlike right here at ITPro.TV, even though\n\n158\n00:08:39.161 --> 00:08:43.790\nwe don't tend to actually renew a lot of\nleases in the regular business office.\n\n159\n00:08:43.790 --> 00:08:47.850\nWe do provide a guest wireless network.\n\n160\n00:08:47.850 --> 00:08:50.170\nAnd if we think about that idea,\nthe guest wireless network,\n\n161\n00:08:50.170 --> 00:08:53.960\nwe don't have a gigantic pool\nof leases that we hand out, but\n\n162\n00:08:53.960 --> 00:08:57.790\nwe expect for people and vendors to\ncome in and they might say, hey,\n\n163\n00:08:57.790 --> 00:09:00.600\ndo you have access to, or\ncan I get access to wireless?\n\n164\n00:09:00.600 --> 00:09:03.380\nWe, of course, want them to be\nable to get access to wireless.\n\n165\n00:09:03.380 --> 00:09:05.940\nBut we don't want them to get\nassigned an IP address for\n\n166\n00:09:05.940 --> 00:09:08.390\nsix days, that would be silly.\n\n167\n00:09:08.390 --> 00:09:11.140\nSo, our lease period actually\nis incredibly small.\n\n168\n00:09:11.140 --> 00:09:14.000\nI think we normally set it for\ntwo hours right now.\n\n169\n00:09:14.000 --> 00:09:16.870\nAnd that allows them to say, hey, look,\nwhen they're actually on the network for\n\n170\n00:09:16.870 --> 00:09:18.710\ntwo hours, they'll have an IP address.\n\n171\n00:09:18.710 --> 00:09:21.580\nAnd it'll renew about 50% of\nthe time that they stay longer.\n\n172\n00:09:21.580 --> 00:09:24.680\nBut then after two hours, in other words,\nif they leave after 30 minutes,\n\n173\n00:09:24.680 --> 00:09:27.520\nwe know in an hour and a half,\nthat address is going to be available.\n\n174\n00:09:27.520 --> 00:09:30.120\nSo, it makes those\naddresses available again.\n\n175\n00:09:30.120 --> 00:09:31.960\nThat's actually one of\nthe powerful arguments for\n\n176\n00:09:31.960 --> 00:09:36.690\nusing DHCP, because if not, your\nstatically assigning them and somebody\n\n177\n00:09:36.690 --> 00:09:40.330\nactually takes all of the addresses, well,\nthere you go, you have all that then.\n\n178\n00:09:40.330 --> 00:09:44.320\nJust kind of realize that it is a powerful\nway that you can control that, and\n\n179\n00:09:44.320 --> 00:09:47.390\nif you start running that out of them,\njust like what Mike was saying, right?\n\n180\n00:09:47.390 --> 00:09:51.660\nYou wanna reduce the actual lease time,\nbut if you know that you've got a fairly\n\n181\n00:09:51.660 --> 00:09:55.450\nstatic environment, keeping it longer,\nkeeping the leases longer, is probably\n\n182\n00:09:55.450 --> 00:10:00.190\ngonna help you save a little bit of\nperformance or taxing on your servers.\n\n183\n00:10:00.190 --> 00:10:02.940\nSo it's a great environment to be in,\nokay?\n\n184\n00:10:02.940 --> 00:10:04.160\n&gt;&gt; It really is, yes.\n\n185\n00:10:04.160 --> 00:10:07.490\nThe biggest thing you can do is monitor,\nright?\n\n186\n00:10:07.490 --> 00:10:12.200\nLook at your DHCP console, it's gonna\nshow you how many leases are out there.\n\n187\n00:10:12.200 --> 00:10:14.040\nYou can get statistics on DHCP,\n\n188\n00:10:14.040 --> 00:10:18.080\nand see what percentage of\nthat scope is being used.\n\n189\n00:10:18.080 --> 00:10:20.970\nAnd as Ronnie said,\nif we're running out of IP addresses,\n\n190\n00:10:20.970 --> 00:10:23.960\nwe need to determine why,\nare these clients that are coming in,\n\n191\n00:10:23.960 --> 00:10:26.580\ngetting an IP address\nnever to be seen again?\n\n192\n00:10:26.580 --> 00:10:29.190\nOr have we added a bunch of nodes, and\n\n193\n00:10:29.190 --> 00:10:31.490\nmaybe my pool was just too\nsmall in the first place.\n\n194\n00:10:31.490 --> 00:10:34.070\nMaybe I need to make\nanother class c scope and\n\n195\n00:10:34.070 --> 00:10:38.790\ndo a superscope to increase the amount\nof addresses available in the pool.\n\n196\n00:10:38.790 --> 00:10:41.560\nBut if it's primarily dynamic stuff,\npeople coming in,\n\n197\n00:10:41.560 --> 00:10:45.190\nwe get a lot of visitors,\na lot of phones that are connecting.\n\n198\n00:10:45.190 --> 00:10:49.640\nThen adding addresses is really\njust masking the problem, and\n\n199\n00:10:49.640 --> 00:10:53.630\nit's just going to run out again,\nso then a shorter lease duration.\n\n200\n00:10:53.630 --> 00:10:56.757\nKeep in mind, however,\nthe shorter the lease duration gets,\n\n201\n00:10:56.757 --> 00:10:58.881\nthe more traffic DHCP is going to receive.\n\n202\n00:10:58.881 --> 00:11:02.304\nBecause as Ronnie said on our guest\nnetwork, every hour that somebody's\n\n203\n00:11:02.304 --> 00:11:05.339\nconnected to our network,\nthey're talking to our DHCP server,\n\n204\n00:11:05.339 --> 00:11:08.760\nbecause they've gotta renew at 50%,\nthey get a two hour lease again,\n\n205\n00:11:08.760 --> 00:11:12.470\nthey get that renewal, but\none hour later, they're renewing.\n\n206\n00:11:12.470 --> 00:11:14.960\nNow, if we only have 20\npeople in our network, yes,\n\n207\n00:11:14.960 --> 00:11:17.110\nat one time, that's not a big deal.\n\n208\n00:11:17.110 --> 00:11:21.780\nIf we had thousands, that's a lot of\ntraffic hitting that DHCP server,\n\n209\n00:11:21.780 --> 00:11:23.779\nso those are the kinds of\nthings you wanna think about.\n\n210\n00:11:24.800 --> 00:11:28.030\n&gt;&gt; All right so, Mike, let's go ahead and\ntake a look then at about\n\n211\n00:11:28.030 --> 00:11:32.960\nwhere we would end up trying to be\nable to see and change that list.\n\n212\n00:11:32.960 --> 00:11:34.520\nCuz even though I know\nthat I can change it,\n\n213\n00:11:34.520 --> 00:11:37.030\nit doesn't necessarily mean I\nknow exactly where to change it.\n\n214\n00:11:37.030 --> 00:11:39.260\nSo, Mike, show us where we are gonna\nbe able to change this thing.\n\n215\n00:11:39.260 --> 00:11:40.970\n&gt;&gt; All right, so\nlet's take a look at my screen here.\n\n216\n00:11:40.970 --> 00:11:45.640\nI've got that DHCP console opened up,\nand I've got one scope created.\n\n217\n00:11:45.640 --> 00:11:48.100\nBut first, I want to show you,\nwhen we create a new scope.\n\n218\n00:11:48.100 --> 00:11:51.860\nI'm gonna right click on IPB4 and\nchoose New Scope.\n\n219\n00:11:51.860 --> 00:11:54.380\nAnd I'll click Next on our wizard.\n\n220\n00:11:54.380 --> 00:11:55.110\nI'll give it a name.\n\n221\n00:11:55.110 --> 00:11:57.420\nWe'll call this one just Test for now.\n\n222\n00:11:57.420 --> 00:12:02.225\nWe'll click Next, and we'll make\nup a nice easy address to type in.\n\n223\n00:12:02.225 --> 00:12:09.265\n.1 through 10.0.101.50.\n\n224\n00:12:09.265 --> 00:12:11.758\nMy subnet mask should be.\n\n225\n00:12:11.758 --> 00:12:13.244\nLet's do 16.\n\n226\n00:12:13.244 --> 00:12:15.578\nOkay, again, this is not important here.\n\n227\n00:12:16.916 --> 00:12:20.990\nBut it is important if it conflicts with\nan existing scope, that would not be good.\n\n228\n00:12:20.990 --> 00:12:23.937\nSo let's change that, I have 172.16.\n\n229\n00:12:23.937 --> 00:12:27.700\nAnd we'll change that up to 172.16.\n\n230\n00:12:27.700 --> 00:12:30.047\nOops, 16.\n\n231\n00:12:30.047 --> 00:12:33.170\nAnd we'll give that, yeah,\nwe can still use 255, that'll work.\n\n232\n00:12:33.170 --> 00:12:34.565\nWe'll click Next.\n\n233\n00:12:34.565 --> 00:12:36.390\nI'm not worried about any exclusions.\n\n234\n00:12:36.390 --> 00:12:38.580\nHere is the screen I wanted to get to.\n\n235\n00:12:38.580 --> 00:12:40.150\nLeast Duration, all right?\n\n236\n00:12:40.150 --> 00:12:42.785\nNotice what the default value is,\nif you guys can see that there.\n\n237\n00:12:42.785 --> 00:12:44.840\n8 days is the default.\n\n238\n00:12:44.840 --> 00:12:46.640\nBut I can go down to Hours and\nMinutes, right?\n\n239\n00:12:47.780 --> 00:12:49.666\nSo we can get really, really short.\n\n240\n00:12:49.666 --> 00:12:52.740\nKeep in mind, [LAUGH] that's\na lot of traffic in your server.\n\n241\n00:12:52.740 --> 00:12:54.880\nSo that's the default,\nthen if I just click Next,\n\n242\n00:12:54.880 --> 00:12:57.330\nNext, Next through there,\nthen that's what I'm gonna get.\n\n243\n00:12:57.330 --> 00:13:01.280\nIf I already know, I've planned this out,\nI know this is a guest network for\n\n244\n00:13:01.280 --> 00:13:05.750\nprimarily wireless clients, I might wanna\nshorten that up to a few hours, all right,\n\n245\n00:13:05.750 --> 00:13:06.680\nor a day.\n\n246\n00:13:06.680 --> 00:13:08.620\nMaybe I wanna give them a day, and\n\n247\n00:13:08.620 --> 00:13:11.740\nthat way tomorrow that address is\navailable if they don't come back.\n\n248\n00:13:11.740 --> 00:13:13.140\nSo, however you want to set that up.\n\n249\n00:13:13.140 --> 00:13:18.180\nSo, that's one place you can set the lease\nis during the creation of the scope.\n\n250\n00:13:18.180 --> 00:13:20.270\nWhat if the scope is already created?\n\n251\n00:13:20.270 --> 00:13:24.617\nWell, we simply go back to\nthe properties of the scope, all right?\n\n252\n00:13:24.617 --> 00:13:29.360\nAnd right down here at the bottom, I've\ngot my options to change that same value.\n\n253\n00:13:29.360 --> 00:13:33.400\nYou also have a new option where\nyou already have an existing scope,\n\n254\n00:13:33.400 --> 00:13:35.080\nunlimited, right?\n\n255\n00:13:35.080 --> 00:13:38.491\nSo again, in a very,\nvery static environment,\n\n256\n00:13:38.491 --> 00:13:42.749\nmaybe I've got a scope that's just for\nmy servers, right?\n\n257\n00:13:42.749 --> 00:13:45.880\nAnd think, Mike, who uses DHCP on servers?\n\n258\n00:13:45.880 --> 00:13:47.470\nRemember, we talked about that.\n\n259\n00:13:47.470 --> 00:13:50.040\nWe said that I can use reservations\n\n260\n00:13:50.040 --> 00:13:53.600\nto make sure that server always gets\nthe same IP address, but the rest of\n\n261\n00:13:53.600 --> 00:13:58.250\nthe information can still be dynamically\nmanage, that's a very good thing.\n\n262\n00:13:58.250 --> 00:14:01.972\nPrinters and things like that, might want\nto, have them get the same IP address\n\n263\n00:14:01.972 --> 00:14:05.210\nevery time, but\ndynamically manage the rest of it.\n\n264\n00:14:05.210 --> 00:14:08.240\nAnd so, we could change this to unlimited.\n\n265\n00:14:08.240 --> 00:14:14.200\nThe problem with doing that is they\ndo not know how to renew, they\n\n266\n00:14:14.200 --> 00:14:17.610\nare not going to come and get that new\ninformation if something were to change.\n\n267\n00:14:17.610 --> 00:14:21.111\nSo, it's kind of a strange scenario.\n\n268\n00:14:21.111 --> 00:14:25.137\nYou end up there, you are trying to keep\nit dynamic, yet you are telling him its\n\n269\n00:14:25.137 --> 00:14:28.492\nan unlimited, so do not know if\nthat one is used all that much, but\n\n270\n00:14:28.492 --> 00:14:31.481\nI can see a couple scenarios\nwhere that might be useful, so\n\n271\n00:14:31.481 --> 00:14:33.330\nthat's where you can change that.\n\n272\n00:14:34.340 --> 00:14:37.490\nAll right, so leases, again,\nthe main thing is to know for\n\n273\n00:14:37.490 --> 00:14:39.980\nthe exam anyway that\ndefault is eight days.\n\n274\n00:14:39.980 --> 00:14:46.030\nAnd for setting it up, it's planning,\nit's thinking about monitoring your\n\n275\n00:14:46.030 --> 00:14:49.950\nDHCP servers, thinking about what type of\nclients you're dealing with, whether or\n\n276\n00:14:49.950 --> 00:14:54.010\nnot they're gonna be coming and going from\nthe network, wanting to be able to free up\n\n277\n00:14:54.010 --> 00:14:58.650\nthose addresses, or not wanting\nto increase the size of my pool\n\n278\n00:14:58.650 --> 00:15:03.280\nof addresses I can use that lease duration\nto free up those addresses quicker.\n\n279\n00:15:03.280 --> 00:15:04.200\n&gt;&gt; All right, Mike, so\n\n280\n00:15:04.200 --> 00:15:09.110\nnow that we understand a bit more about\nthe idea of how we can manipulate and\n\n281\n00:15:09.110 --> 00:15:12.400\nchange that idea,\nat least help us maintain what we need to.\n\n282\n00:15:12.400 --> 00:15:16.390\nWe also want to talk about the idea\nof backup and restoring DHCP.\n\n283\n00:15:16.390 --> 00:15:19.690\nNow Mike,\nif it's as dynamic as you're saying it is,\n\n284\n00:15:19.690 --> 00:15:23.640\nit doesn't really need to be managed so\nmuch, and it can create things on the fly.\n\n285\n00:15:23.640 --> 00:15:26.736\nSo, if new people come on,\nthey get IP addresses,\n\n286\n00:15:26.736 --> 00:15:30.624\nthey get options in terms of\nthe default gateway, DNS servers,\n\n287\n00:15:30.624 --> 00:15:33.878\nwhy do I need to back this\nthing up if it can hand it out?\n\n288\n00:15:33.878 --> 00:15:34.555\n&gt;&gt; You don't.\n\n289\n00:15:34.555 --> 00:15:35.808\n[LAUGH] We just don't back it up.\n\n290\n00:15:35.808 --> 00:15:37.725\n&gt;&gt; [LAUGH] Well, there you go.\n\n291\n00:15:37.725 --> 00:15:39.608\n&gt;&gt; Or him.\n&gt;&gt; Now, because this is [LAUGH] that would\n\n292\n00:15:39.608 --> 00:15:41.040\nbe incorrect, right?\n\n293\n00:15:41.040 --> 00:15:46.030\nBecause it is so dynamic, and things are\nchanging all the time, we've gotta make\n\n294\n00:15:46.030 --> 00:15:51.630\nsure that we, I don't know if it's so much\nthat as, what if DHCP wasn't available?\n\n295\n00:15:51.630 --> 00:15:54.204\nWhat happens to your nodes if\nthey can't get an IP address?\n\n296\n00:15:54.204 --> 00:15:56.399\nAnd Ronnie,\nI know you know the answer to that one,\n\n297\n00:15:56.399 --> 00:15:59.019\nwhat happens if I haul around and\nI can't find a DHCP server?\n\n298\n00:15:59.019 --> 00:16:01.409\nCuz the database is corrupt,\nand the service didn't start?\n\n299\n00:16:01.409 --> 00:16:04.899\nNormally, on a Windows Client, you're\ngonna end up getting an APIPA address,\n\n300\n00:16:04.899 --> 00:16:07.080\nI believe is what you're\nanswer is looking for?\n\n301\n00:16:07.080 --> 00:16:07.908\n&gt;&gt; Yes, it is.\n\n302\n00:16:07.908 --> 00:16:09.100\n&gt;&gt; [LAUGH]\n&gt;&gt; And with APIPA,\n\n303\n00:16:09.100 --> 00:16:10.113\nwhat can I communicate with?\n\n304\n00:16:10.113 --> 00:16:13.399\n&gt;&gt; Other APIPA addresses\nwhich means really not a lot.\n\n305\n00:16:13.399 --> 00:16:17.630\n&gt;&gt; [LAUGH] Yeah, all the other devices\nalso could not get an IP address.\n\n306\n00:16:17.630 --> 00:16:22.030\nYou're kind of in this little group of,\nwe need help, we're stuck out here.\n\n307\n00:16:22.030 --> 00:16:25.866\nThough Microsoft will tell you that\nyou can run a network on APIPA, but\n\n308\n00:16:25.866 --> 00:16:28.086\nthat's another story for another day.\n\n309\n00:16:28.086 --> 00:16:29.592\n&gt;&gt; [LAUGH]\n&gt;&gt; But it is true, but\n\n310\n00:16:29.592 --> 00:16:31.440\nthat's for another lesson.\n\n311\n00:16:31.440 --> 00:16:35.263\nSo yeah, if DHCP's unavailable,\nbecause it's very dynamic or\n\n312\n00:16:35.263 --> 00:16:39.170\nI won't say because it's dynamic,\nbut because we rely on that,\n\n313\n00:16:39.170 --> 00:16:43.780\nwe've taken the configuration part and\nwe've made this service take it over.\n\n314\n00:16:45.040 --> 00:16:48.690\nIf that goes down, all of a sudden\nwe're gonna have problems, right?\n\n315\n00:16:48.690 --> 00:16:51.400\nNow keep in mind with DHCP,\none of the interesting things about it,\n\n316\n00:16:51.400 --> 00:16:56.450\nbecause it is a lease,\nif DHCP crashes right now, it's\n\n317\n00:16:56.450 --> 00:17:00.030\nnot like every node on the network all of\na sudden can't communicate anymore, right?\n\n318\n00:17:00.030 --> 00:17:03.400\nI've got my lease on my car,\nI'm driving my car.\n\n319\n00:17:03.400 --> 00:17:08.690\nThe company that I lease it from just had\nan accident, a fire, something there.\n\n320\n00:17:08.690 --> 00:17:11.361\nMy car doesn't go poof and\ngo back to the leaser.\n\n321\n00:17:11.361 --> 00:17:13.239\nThe lessor, the leaser or\nthe lessor, right?\n\n322\n00:17:13.239 --> 00:17:15.677\n&gt;&gt; [LAUGH]\n&gt;&gt; It doesn't bother me.\n\n323\n00:17:15.677 --> 00:17:17.832\nAs long as they're back up by\nthe time I have to pay my next bill,\n\n324\n00:17:17.832 --> 00:17:18.616\neverything's good.\n\n325\n00:17:18.616 --> 00:17:21.560\nAnd so, it's the same thing with DHCP.\n\n326\n00:17:21.560 --> 00:17:25.170\nIf the DHCP server goes down,\nthe client's already got a lease.\n\n327\n00:17:25.170 --> 00:17:30.092\nSo as long as the DHCP server's back up\nby the time the client needs to renew,\n\n328\n00:17:30.092 --> 00:17:32.140\nthat client's gonna be okay.\n\n329\n00:17:32.140 --> 00:17:34.910\nSo it's not widespread\npanic across your network.\n\n330\n00:17:34.910 --> 00:17:37.640\nBut any new devices that are coming\ninto your network are gonna be\n\n331\n00:17:37.640 --> 00:17:39.650\nunable to obtain information.\n\n332\n00:17:39.650 --> 00:17:42.660\nRenewers, they wouldn't be able to renew,\nbut that's okay.\n\n333\n00:17:42.660 --> 00:17:46.770\nThey did it so early at 50%,\nthey still have 50% of their lease.\n\n334\n00:17:46.770 --> 00:17:48.190\nThey can try again and\n\n335\n00:17:48.190 --> 00:17:53.710\nhopefully by the time before they run out,\nDHCP's back up and running.\n\n336\n00:17:53.710 --> 00:17:55.150\nSo we need to be able to back it up.\n\n337\n00:17:55.150 --> 00:17:57.124\nWe need to back it up and\nrestore it because, one,\n\n338\n00:17:57.124 --> 00:17:59.527\nwe've got a lot of time spent\nin the configuration, right?\n\n339\n00:17:59.527 --> 00:18:02.195\nOnce we've got all of those\nscopes created, once we've got\n\n340\n00:18:02.195 --> 00:18:05.597\nall of our options set, once we've got\nour lease durations configured out,\n\n341\n00:18:05.597 --> 00:18:07.690\nwe don't wanna have to do that again.\n\n342\n00:18:07.690 --> 00:18:11.150\nSo if that database becomes corrupt or so\nif we have to rebuild that machine because\n\n343\n00:18:11.150 --> 00:18:14.320\nof hardware failure,\ndo I have this stuff documented?\n\n344\n00:18:14.320 --> 00:18:15.415\nI sure hope so.\n\n345\n00:18:15.415 --> 00:18:19.670\nBut it's gonna be a lot easier\njust to restore from backup\n\n346\n00:18:19.670 --> 00:18:21.600\nthan to try to reconfigure everything.\n\n347\n00:18:21.600 --> 00:18:28.280\nSo as any other backup solution,\nit's a disaster recovery type solution.\n\n348\n00:18:28.280 --> 00:18:30.460\nIt's, what if something goes wrong?\n\n349\n00:18:30.460 --> 00:18:32.880\nHow do I get back to a good working spot?\n\n350\n00:18:32.880 --> 00:18:34.740\nSo we need to back it up.\n\n351\n00:18:34.740 --> 00:18:38.105\nCool thing about DHCP is it\nbacks itself up automatically.\n\n352\n00:18:38.105 --> 00:18:40.880\n&gt;&gt; [LAUGH]\n&gt;&gt; I know I told you DHCP\n\n353\n00:18:40.880 --> 00:18:43.080\nis a really good service, right?\n\n354\n00:18:43.080 --> 00:18:44.676\nIt backs itself up automatically.\n\n355\n00:18:44.676 --> 00:18:50.455\nFor the exam, understand it's 60 minutes\nor every hour that is configurable.\n\n356\n00:18:50.455 --> 00:18:53.415\nAnd I'll show you where to do\nthat here in just a second.\n\n357\n00:18:53.415 --> 00:18:56.475\nSo DHCP backs itself up every hour.\n\n358\n00:18:57.735 --> 00:19:01.285\nAnd if the DHCP server\nrestarts because of an update,\n\n359\n00:19:01.285 --> 00:19:02.825\nbecause you've rebooted that system.\n\n360\n00:19:02.825 --> 00:19:06.885\nAnd if the DHCP database is corrupt or\nit cannot access it,\n\n361\n00:19:06.885 --> 00:19:12.500\nit will automatically grab the last\nbackup that it did automatically.\n\n362\n00:19:12.500 --> 00:19:16.110\nOverwrite the corrupt database,\nreplace it and restart the service.\n\n363\n00:19:16.110 --> 00:19:19.900\nAnd resume going,\nas long as that's reachable, right?\n\n364\n00:19:19.900 --> 00:19:21.056\nSo, how's that for cool?\n\n365\n00:19:21.056 --> 00:19:21.797\n&gt;&gt; That is cool.\n\n366\n00:19:21.797 --> 00:19:25.587\n&gt;&gt; Got a system that backs itself up and\nrestores itself in the event of a problem.\n\n367\n00:19:25.587 --> 00:19:26.628\nThat's cool.\n\n368\n00:19:26.628 --> 00:19:29.102\n&gt;&gt; That sounds really\nlike a great feature but,\n\n369\n00:19:29.102 --> 00:19:31.902\nMike, even though there's\nan automatic backup,\n\n370\n00:19:31.902 --> 00:19:35.762\nI'm assuming that there is way that\nwe can also manually back this up.\n\n371\n00:19:35.762 --> 00:19:36.413\n&gt;&gt; There is and\n\n372\n00:19:36.413 --> 00:19:41.040\nyou definitely should because let's\ntalk about the automatic backup.\n\n373\n00:19:41.040 --> 00:19:46.300\nThat automatic backup that it does, it's\nstoring it on the same drive by default.\n\n374\n00:19:46.300 --> 00:19:50.120\nNow, we can move that and we probably\nshould move that to another drive, but\n\n375\n00:19:50.120 --> 00:19:51.340\nit can't be a network location.\n\n376\n00:19:51.340 --> 00:19:53.730\nIt's gonna be on that physical machine,\nall right?\n\n377\n00:19:53.730 --> 00:19:57.470\nSo by default, same drive means\nif I have a hard drive failure,\n\n378\n00:19:57.470 --> 00:20:00.540\nI lost the database and\nthe backup of the database.\n\n379\n00:20:00.540 --> 00:20:02.420\nThat's not gonna do me any good, right?\n\n380\n00:20:02.420 --> 00:20:04.950\nSo we might wanna change\nthat default location.\n\n381\n00:20:04.950 --> 00:20:09.486\nCorrupt data, if it's not a database\nfailure, if the data in it,\n\n382\n00:20:09.486 --> 00:20:14.029\nlike somebody deletes a scope,\nwell, what it we don't get to it?\n\n383\n00:20:14.029 --> 00:20:17.464\nWhat if we don't realize it before\nthe next hour, that backup data, then,\n\n384\n00:20:17.464 --> 00:20:19.245\nis gonna be without the scope, right?\n\n385\n00:20:19.245 --> 00:20:23.537\nI need to be able to back this database\nup and store it somewhere else,\n\n386\n00:20:23.537 --> 00:20:26.349\non a different physical server,\non a share,\n\n387\n00:20:26.349 --> 00:20:29.940\nmaybe even offsite if we\nwanna go to those extremes.\n\n388\n00:20:29.940 --> 00:20:34.372\nSo that in the event of a major\nhardware failure or data corruption,\n\n389\n00:20:34.372 --> 00:20:35.549\nI can restore it.\n\n390\n00:20:35.549 --> 00:20:37.448\nSo we need to be able to set that up.\n\n391\n00:20:37.448 --> 00:20:40.499\nSo let's take a look at\nhow we can do that I'm\n\n392\n00:20:40.499 --> 00:20:43.572\ngonna up my again my\nDHCP console opened up.\n\n393\n00:20:43.572 --> 00:20:47.630\nAnd we'll pull up the properties\nof the server itself, all right?\n\n394\n00:20:47.630 --> 00:20:50.164\nAnd on this one tab called Advanced,\n\n395\n00:20:50.164 --> 00:20:53.860\nwe will see where the database\nis located by default.\n\n396\n00:20:53.860 --> 00:20:59.530\nThat's the actual database that's in use,\ndhcp.ndb, a Windows system 32.\n\n397\n00:20:59.530 --> 00:21:04.160\nThe backup path,\nWindows\\system32\\dhcp backup.\n\n398\n00:21:04.160 --> 00:21:08.260\nSo in the folder that contains the\ndatabase is another folder called Backup,\n\n399\n00:21:08.260 --> 00:21:10.840\nand that's where the backup is.\n\n400\n00:21:10.840 --> 00:21:12.510\nDefinitely wanna change that, right?\n\n401\n00:21:12.510 --> 00:21:16.570\nCuz you've got a separate physical drive\nin the system, that's where you should\n\n402\n00:21:16.570 --> 00:21:20.970\nmove that to so that way if I lose one,\nI don't lose both of them.\n\n403\n00:21:20.970 --> 00:21:22.340\nAgain, if it becomes corrupt,\n\n404\n00:21:22.340 --> 00:21:26.860\nit'll automatically restore from\nthat backup that it's creating.\n\n405\n00:21:26.860 --> 00:21:29.200\nBut to Ronnie's point, yes Sir?\n\n406\n00:21:29.200 --> 00:21:32.272\n&gt;&gt; So when start to think about that,\nwhat you're actually showing us is where\n\n407\n00:21:32.272 --> 00:21:34.880\nit automatically would\nactually do the backup.\n\n408\n00:21:34.880 --> 00:21:38.630\nBut then, we can actually just change\nthe path of the automatic backup as well.\n\n409\n00:21:38.630 --> 00:21:39.410\nIs that what you're saying?\n\n410\n00:21:39.410 --> 00:21:40.058\n&gt;&gt; We can.\n\n411\n00:21:40.058 --> 00:21:41.290\n&gt;&gt; Okay.\n&gt;&gt; And that's the first step\n\n412\n00:21:41.290 --> 00:21:41.880\nyou should do.\n\n413\n00:21:41.880 --> 00:21:45.800\nWhen you're setting up the DHCP and you're\nplanning out your disaster recovery and\n\n414\n00:21:45.800 --> 00:21:48.640\nyour full tolerance,\nwell first thing I would do,\n\n415\n00:21:48.640 --> 00:21:52.700\nIs try to move that default\nlocation to another physical drive.\n\n416\n00:21:52.700 --> 00:21:54.990\nEverything will work the same,\nit'll backup automatically,\n\n417\n00:21:54.990 --> 00:21:56.590\nit'll restore automatically.\n\n418\n00:21:56.590 --> 00:21:58.780\nBut it's not on the same physical.\n\n419\n00:21:58.780 --> 00:22:01.140\nAlthough when you stop and think about it,\n\n420\n00:22:01.140 --> 00:22:05.200\nthat physical drive failed that\nhad my original database on it.\n\n421\n00:22:05.200 --> 00:22:07.146\nThe backup's on another drive,\nso I still have it.\n\n422\n00:22:07.146 --> 00:22:09.847\nIt's not gonna be able to\nautomatically restore, right,\n\n423\n00:22:09.847 --> 00:22:11.747\nbecause that physical drive has failed.\n\n424\n00:22:11.747 --> 00:22:16.019\nBut at least I've got a copy of that\nbackup that once I get the drive replaced,\n\n425\n00:22:16.019 --> 00:22:20.070\nget DHCP reinstalled, I can simply\nrestore it and we're good to go.\n\n426\n00:22:20.070 --> 00:22:24.830\nSo that setting I just showed you\nis just for the automatic backup.\n\n427\n00:22:24.830 --> 00:22:26.668\nNow, we can also manually back it up.\n\n428\n00:22:26.668 --> 00:22:31.490\nWe can right-click on that server and\nI can choose to Backup, and\n\n429\n00:22:31.490 --> 00:22:33.210\nI can pick a location.\n\n430\n00:22:33.210 --> 00:22:37.371\nNow this is, again, going to be\na local location, unless you've got\n\n431\n00:22:37.371 --> 00:22:42.113\na mapped network drive, in which case I\ncould back up to a mapped network drive.\n\n432\n00:22:42.113 --> 00:22:43.748\nSo it's a very manual process.\n\n433\n00:22:43.748 --> 00:22:47.700\nYou just right-click, choose Backup,\ngive it a destination and\n\n434\n00:22:47.700 --> 00:22:51.520\nit backs it up, and it doesn't interfere\nwith the normal hourly schedule.\n\n435\n00:22:51.520 --> 00:22:53.920\nThis is for that offsite backup or\n\n436\n00:22:53.920 --> 00:22:57.480\nthe off-machine backup that I\nwanna store on a network share.\n\n437\n00:22:57.480 --> 00:23:00.420\nSo if I lose the entire machine,\nI've got that backup.\n\n438\n00:23:00.420 --> 00:23:03.770\n&gt;&gt; All right, Mike, so now that we\nunderstand that a backup is essential and\n\n439\n00:23:03.770 --> 00:23:05.720\nsomething that we know\nhappens automatically,\n\n440\n00:23:05.720 --> 00:23:08.260\nit's something that we also know\nthat we can do it manually.\n\n441\n00:23:08.260 --> 00:23:10.700\nMike, how often should I do this?\n\n442\n00:23:10.700 --> 00:23:15.610\nBecause if we think about it, right,\nis this something I can do once a month,\n\n443\n00:23:15.610 --> 00:23:18.260\nonce a year or\ndo I need to think about like once a day?\n\n444\n00:23:18.260 --> 00:23:20.590\n&gt;&gt; Really depends on your environment.\n\n445\n00:23:20.590 --> 00:23:22.280\nI mean, how dynamic is it?\n\n446\n00:23:22.280 --> 00:23:25.480\nWe talked about that with scopes and\nit really has the same thing.\n\n447\n00:23:25.480 --> 00:23:28.780\nIt's really the same thing when\nit comes to backing this up.\n\n448\n00:23:28.780 --> 00:23:30.740\nHow much can you afford to lose, right?\n\n449\n00:23:30.740 --> 00:23:36.170\nIf you're adding scopes all the time, then\nmaybe I need to back it up once a day or\n\n450\n00:23:36.170 --> 00:23:40.290\nonce a week manually and\ntake that offsite.\n\n451\n00:23:40.290 --> 00:23:43.560\nIf nothing is really changing in there,\n\n452\n00:23:43.560 --> 00:23:46.670\nthen maybe I do it\na little less frequently.\n\n453\n00:23:46.670 --> 00:23:51.099\nBecause keep in mind, it's not like\nActive Directory or something like that,\n\n454\n00:23:51.099 --> 00:23:53.226\nwhere these clients have an account.\n\n455\n00:23:53.226 --> 00:23:57.279\nAnd if I try to restore, we could lose\nconnectivity between the machine and\n\n456\n00:23:57.279 --> 00:23:58.062\nthe account.\n\n457\n00:23:58.062 --> 00:23:58.919\n[COUGH] Excuse me.\n\n458\n00:23:58.919 --> 00:24:03.859\nThese are just DHCP leases And worst\ncase scenario, if I have to rebuild this\n\n459\n00:24:03.859 --> 00:24:08.460\nmachine from a backup that's a few\ndays old, leases are not correct.\n\n460\n00:24:08.460 --> 00:24:10.150\nThe client thinks he has a lease.\n\n461\n00:24:10.150 --> 00:24:12.270\nDHCP is unaware of the lease.\n\n462\n00:24:12.270 --> 00:24:15.080\nNot the best but\nit's just gonna require a release and\n\n463\n00:24:15.080 --> 00:24:18.640\nrenew on the client to say,\nokay my old lease, you don't have it.\n\n464\n00:24:18.640 --> 00:24:20.510\nDarn it, I don't know what happened there.\n\n465\n00:24:20.510 --> 00:24:21.850\nIt's not like he's paying money.\n\n466\n00:24:21.850 --> 00:24:24.487\nIt's not like my car where\nI'd have to go fight the guy.\n\n467\n00:24:24.487 --> 00:24:27.441\nHe says, all right, I'll throw this\nlease away that you say I don't have.\n\n468\n00:24:27.441 --> 00:24:28.655\nAnd I'll just get a new lease.\n\n469\n00:24:28.655 --> 00:24:30.101\nNo big deal, right?\n\n470\n00:24:30.101 --> 00:24:31.260\nSo it's not the end of the world.\n\n471\n00:24:31.260 --> 00:24:33.520\nIt's a little less frequent.\n\n472\n00:24:33.520 --> 00:24:36.700\nIt's not like you have to do this\nevery hour or anything like that.\n\n473\n00:24:36.700 --> 00:24:40.510\n&gt;&gt; Well, Mike, the idea of backup\nsounds really like a great thing for\n\n474\n00:24:40.510 --> 00:24:42.380\nus to actually think about.\n\n475\n00:24:42.380 --> 00:24:44.970\nAnd of course, something for\nus to implement.\n\n476\n00:24:44.970 --> 00:24:48.070\nBut it still sounds like\nthat we have to recover\n\n477\n00:24:48.070 --> 00:24:51.640\neverything first before we can\neven restore that database.\n\n478\n00:24:51.640 --> 00:24:55.260\nSo it's still gonna require some time for\nus to be able to do that.\n\n479\n00:24:55.260 --> 00:24:57.047\nDo we have any other options?\n\n480\n00:24:57.047 --> 00:24:59.550\nYou were mentioning things like\nfailover a little bit earlier.\n\n481\n00:24:59.550 --> 00:25:02.579\n&gt;&gt; We do but looking at the clock, I'll\ntell you what, Ronnie, why don't we do\n\n482\n00:25:02.579 --> 00:25:04.820\nthis, cuz it's gonna, surprise, surprise-\n&gt;&gt; [LAUGH]\n\n483\n00:25:04.820 --> 00:25:05.790\n&gt;&gt; It's gonna go over\n\n484\n00:25:05.790 --> 00:25:07.290\nour 30 minute window here for this.\n\n485\n00:25:07.290 --> 00:25:09.020\nSo let's talk about the next one.\n\n486\n00:25:09.020 --> 00:25:09.560\n&gt;&gt; Okay.\n\n487\n00:25:09.560 --> 00:25:13.260\n&gt;&gt; And then we'll jump back and we'll save\nfailover where I can do a full on demo.\n\n488\n00:25:13.260 --> 00:25:13.950\n&gt;&gt; That sounds great.\n\n489\n00:25:13.950 --> 00:25:14.540\n&gt;&gt; Good?\n\n490\n00:25:14.540 --> 00:25:16.270\nAll right, so\nthe last thing that I want to mention and\n\n491\n00:25:16.270 --> 00:25:20.890\nthis one is something that's relatively\nnew, came out a few editions ago.\n\n492\n00:25:20.890 --> 00:25:22.990\nAnd that's DHCP Name Protection.\n\n493\n00:25:24.020 --> 00:25:26.525\nName protection is to prevent squatting.\n\n494\n00:25:26.525 --> 00:25:27.640\n&gt;&gt; [LAUGH]\n&gt;&gt; I know,\n\n495\n00:25:27.640 --> 00:25:29.140\nit's a funny little term, right?\n\n496\n00:25:29.140 --> 00:25:31.498\nYou know, name squatting.\n\n497\n00:25:31.498 --> 00:25:36.330\nAnd the idea here is if we\nthink about what can happen.\n\n498\n00:25:36.330 --> 00:25:39.122\nI've got an enterprise,\nI've got my environment,\n\n499\n00:25:39.122 --> 00:25:43.029\nI've got machines that are named\nserver one, server two, server three,\n\n500\n00:25:43.029 --> 00:25:46.520\nprinter one, or printservo one,\nClient123, what have you.\n\n501\n00:25:48.500 --> 00:25:54.400\nWhat can happen is a non-windows\ndevice can come into my network.\n\n502\n00:25:54.400 --> 00:25:57.210\nAnd it can attempt to register a name\n\n503\n00:25:57.210 --> 00:26:00.320\nthat's already been registered\nby another machine.\n\n504\n00:26:00.320 --> 00:26:03.270\nOr maybe not register, but update.\n\n505\n00:26:03.270 --> 00:26:06.700\nLet's say that I've got a machine\non my network called server one.\n\n506\n00:26:06.700 --> 00:26:09.780\nRonnie comes in with his laptop\nthat's running Linux and\n\n507\n00:26:09.780 --> 00:26:12.010\nhe comes into my network,\nhe's here to sell me with some things.\n\n508\n00:26:12.010 --> 00:26:13.306\nI'm like, go away Ronnie.\n\n509\n00:26:13.306 --> 00:26:14.484\n&gt;&gt; [LAUGH]\n&gt;&gt; But no, I wouldn't do that,\n\n510\n00:26:14.484 --> 00:26:16.440\nhe's a nice guy, he can sell me whatever.\n\n511\n00:26:16.440 --> 00:26:20.480\nBut they come in and their machine\nhappens to be named servo one.\n\n512\n00:26:20.480 --> 00:26:24.460\nAnd that machine does its normal thing\nwhen he connects it to my network.\n\n513\n00:26:24.460 --> 00:26:28.410\nIt gets a DHCP address,\nit sees the IP address of the DNS server.\n\n514\n00:26:28.410 --> 00:26:31.250\nThat network stack on Linux\ncalls up DHCP and says, hey,\n\n515\n00:26:31.250 --> 00:26:34.960\nI need to create a record so\npeople can find me.\n\n516\n00:26:34.960 --> 00:26:37.720\nThere's already a record with my name,\ngreat, I'll just update it.\n\n517\n00:26:37.720 --> 00:26:42.150\nAnd now all of a sudden that record gets\nupdated with Ronnie's laptop's IP address.\n\n518\n00:26:42.150 --> 00:26:45.160\nSo when a user on my network is\ntrying to connect to server one,\n\n519\n00:26:45.160 --> 00:26:48.870\nthey end up getting the IP\naddress of Ronnie's machine.\n\n520\n00:26:48.870 --> 00:26:52.070\nSo you can definitely see\nsome problems with that.\n\n521\n00:26:52.070 --> 00:26:55.170\nCould also be an intentional thing.\n\n522\n00:26:55.170 --> 00:26:58.330\nI could do a denial of service\non you by trying to squat one of\n\n523\n00:26:58.330 --> 00:26:59.580\nthe names of your servers.\n\n524\n00:26:59.580 --> 00:27:03.564\nAll of a sudden none of your users can\nconnect to their mailboxes because I\n\n525\n00:27:03.564 --> 00:27:07.170\nbrought in a laptop that has the same\nname as your mailbox server.\n\n526\n00:27:07.170 --> 00:27:10.630\nAnd I try to update that IP address,\nso you see where I'm going with that.\n\n527\n00:27:10.630 --> 00:27:15.488\nSo name protection creates\na new record in DNS,\n\n528\n00:27:15.488 --> 00:27:20.231\nand along with DHCP,\nthat DHC ID, all right?\n\n529\n00:27:20.231 --> 00:27:24.948\nAnd that record ties the identity\nof the machine with that lease or\n\n530\n00:27:24.948 --> 00:27:29.480\nthat DHCP information,\nthat IP address registration.\n\n531\n00:27:29.480 --> 00:27:34.350\nAnd so what happens is when\na client tries to contact DHCP and\n\n532\n00:27:34.350 --> 00:27:37.920\nupdate that information,\nrenew that lease, what have you,\n\n533\n00:27:37.920 --> 00:27:42.660\nit can check to see if that's the actual\nmachine that originally created it.\n\n534\n00:27:42.660 --> 00:27:43.764\nOr let me rephrase that,\n\n535\n00:27:43.764 --> 00:27:46.666\ncuz you're actually updating your\ninformation on DNS not DHCP.\n\n536\n00:27:46.666 --> 00:27:48.570\nSo you go to contact DHCP.\n\n537\n00:27:48.570 --> 00:27:54.700\nAgain, Ronnie's laptop that happens to be\nnamed server one, connects, talks to DHCP.\n\n538\n00:27:54.700 --> 00:27:57.975\nCan't get my DNS, yeah,\ngot my acronyms going crazy here.\n\n539\n00:27:57.975 --> 00:28:01.800\n&gt;&gt; [LAUGH]\n&gt;&gt; Ronnie's laptop talks to DNS and says,\n\n540\n00:28:01.800 --> 00:28:05.240\nhey, I need to update that information,\nhere's my IP address.\n\n541\n00:28:05.240 --> 00:28:07.383\nDNS can contact DHCP and say,\n\n542\n00:28:07.383 --> 00:28:11.860\nis this the client that originally\ncreated this, all right?\n\n543\n00:28:11.860 --> 00:28:15.480\nAnd if not, DNS can say no,\nyou're not allowed to update that record.\n\n544\n00:28:15.480 --> 00:28:16.630\nThat record is locked.\n\n545\n00:28:16.630 --> 00:28:20.380\nOnly the originator, the one that\noriginally created that record that got\n\n546\n00:28:20.380 --> 00:28:23.070\nthat lease,\nis going to be able to update information.\n\n547\n00:28:23.070 --> 00:28:26.372\nThat is name protection and\nit's a simple check mark.\n\n548\n00:28:26.372 --> 00:28:28.420\nLet's take a look at my screen here.\n\n549\n00:28:28.420 --> 00:28:31.730\nAnd we can go, you can actually do\nthis at a couple different places.\n\n550\n00:28:31.730 --> 00:28:35.938\nGo to Properties, not on the server,\nMichael, of IPv4.\n\n551\n00:28:35.938 --> 00:28:41.436\nI can right-click on that, I can go to\nProperties, and I can go to Advanced.\n\n552\n00:28:41.436 --> 00:28:43.310\nAnd I thought that's where it was.\n\n553\n00:28:43.310 --> 00:28:44.352\nI lied to you.\n\n554\n00:28:47.800 --> 00:28:48.465\n&gt;&gt; And\nprotection there on the bottom, yep.\n\n555\n00:28:48.465 --> 00:28:49.860\n&gt;&gt; There it is, I'm blind.\n\n556\n00:28:49.860 --> 00:28:50.610\nThank you, Ronnie.\n\n557\n00:28:50.610 --> 00:28:54.350\nName protection, DHP name protection\nis disabled at the server level.\n\n558\n00:28:54.350 --> 00:28:58.720\nI can choose Configure, and\nI can enable name protection.\n\n559\n00:28:58.720 --> 00:29:02.525\nWe can do that IPv4,\nwe can also do it for IPv6.\n\n560\n00:29:02.525 --> 00:29:06.630\nWe can also do it for an individual scope.\n\n561\n00:29:06.630 --> 00:29:08.490\nActually, let's see if\nI can find it in here.\n\n562\n00:29:08.490 --> 00:29:12.830\nWe go Properties &gt; Advanced, and\n\n563\n00:29:12.830 --> 00:29:16.860\nthere it is right there on my DNS tab,\nconfigured name protection.\n\n564\n00:29:16.860 --> 00:29:20.750\nSo maybe you only wanna provide name\nprotection on one particular scope,\n\n565\n00:29:20.750 --> 00:29:24.150\nlike your scope that supports all of\nyour servers or something like that.\n\n566\n00:29:24.150 --> 00:29:26.740\nSo you can enable it at the IPv4 level,\n\n567\n00:29:26.740 --> 00:29:31.186\nat the IPv6 level, at the server level,\nor at the individual scope level.\n\n568\n00:29:31.186 --> 00:29:33.875\n&gt;&gt; Now Mike, I do have a question on that,\ncuz it sounds like a neat thing.\n\n569\n00:29:33.875 --> 00:29:36.955\nBut what if I intentionally\nam replacing a sever,\n\n570\n00:29:36.955 --> 00:29:40.195\nsuch as my original server dies,\nthat server01.\n\n571\n00:29:40.195 --> 00:29:44.384\nAnd I go, I need to bring server01 back up\nand I'm gonna put new hardware on it and\n\n572\n00:29:44.384 --> 00:29:45.620\nI now have server01.\n\n573\n00:29:45.620 --> 00:29:49.700\nDo I need to uncheck this and\nthen we're fine or [CROSSTALK].\n\n574\n00:29:49.700 --> 00:29:52.201\n&gt;&gt; With that,\nyou know that's a good question, Ronnie.\n\n575\n00:29:52.201 --> 00:29:55.775\nAnd I believe you're gonna have manually\ngo in and just remove those records and\n\n576\n00:29:55.775 --> 00:29:56.801\nupdate information.\n\n577\n00:29:56.801 --> 00:29:57.984\nYou definitely don't want to turn it off.\n\n578\n00:29:57.984 --> 00:30:01.227\n&gt;&gt; [LAUGH]\n&gt;&gt; And turn it back on cuz it'll end up\n\n579\n00:30:01.227 --> 00:30:05.970\ngenerating these DHCP ID records and\nyou don't need multiples of those.\n\n580\n00:30:05.970 --> 00:30:09.450\nSo it'd be to just manually clear\nthat out, update that information,\n\n581\n00:30:09.450 --> 00:30:10.530\nand you'll be good to go.\n\n582\n00:30:10.530 --> 00:30:12.700\nHonestly, it's gonna be the DNS record.\n\n583\n00:30:12.700 --> 00:30:16.709\nSo if you remove the DNS record, that\nnew machine creates that new DNS record,\n\n584\n00:30:16.709 --> 00:30:18.000\nyou should be good to go.\n\n585\n00:30:18.000 --> 00:30:18.830\n&gt;&gt; All right, Mike, well,\n\n586\n00:30:18.830 --> 00:30:24.190\nthat's a lot more on the idea of\nmaintaining of course and managing DHCP.\n\n587\n00:30:24.190 --> 00:30:27.480\nBut there's actually more for\nus to also take a look at as well.\n\n588\n00:30:27.480 --> 00:30:31.070\nSo remember that when we took\na look at here in this episode\n\n589\n00:30:31.070 --> 00:30:35.230\nis the idea of working with the leases and\nshowing how you can change the leases.\n\n590\n00:30:35.230 --> 00:30:38.200\nAs well as taking,\nwe got backup and restoration and\n\n591\n00:30:38.200 --> 00:30:41.640\neven working with name protection to\nprevent something like what would,\n\n592\n00:30:41.640 --> 00:30:44.950\nDNS squatting, I think is technically\nwhat we're actually talking about here.\n\n593\n00:30:44.950 --> 00:30:47.810\nSo to actually take a look\nat those issues as well.\n\n594\n00:30:47.810 --> 00:30:49.090\nBut there is more to go.\n\n595\n00:30:49.090 --> 00:30:51.900\nWe need to talk about some failover,\nwe need to talk about a few other items.\n\n596\n00:30:51.900 --> 00:30:54.800\nBut that's gonna be for another part then.\n\n597\n00:30:54.800 --> 00:30:56.900\nSo it's a great place for us to sign off.\n\n598\n00:30:56.900 --> 00:30:59.970\nSigning off for ITProTV,\nI've been your host Ronnie Wong.\n\n599\n00:30:59.970 --> 00:31:00.833\n&gt;&gt; And I'm Mike Roderick.\n\n600\n00:31:00.833 --> 00:31:05.915\n&gt;&gt; Stay tuned right here for\nmore Networking with Windows Server 2016.\n\n601\n00:31:05.915 --> 00:31:12.008\n[MUSIC]\n\n602\n00:31:12.008 --> 00:31:17.660\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "194039912"
        },
        {
          "description": "In this episode, Ronnie and Mike continue with managing and maintaining DHCP.  They describe setting up DHCP for HA and Failover, not simply running DHCP on a clustered server group.  Also they demonstrate how to configure and some of the options that must set to insure its implementation.  The team briefly mentions the places within DHCP to check the dhcp logs and in the event viewer when needing to troubleshoot dhcp operations.",
          "length": "1952",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-2-2-manage_and_maintain_dhcp_pt2-112316-PGM.00_32_17_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-2-2-manage_and_maintain_dhcp_pt2-112316-PGM.00_32_17_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70741/microsoft-server70741-2-2-2-manage_and_maintain_dhcp_pt2-112316-PGM.00_32_17_27.Still001-sm.jpg",
          "title": "Manage and Maintain DHCP Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:02.680\nWelcome to IT Pro TV, I'm your host Don\n&gt;&gt; [CROSSTALK]\n\n2\n00:00:02.680 --> 00:00:07.842\n&gt;&gt; [SOUND]\n\n3\n00:00:07.842 --> 00:00:09.112\n&gt;&gt; [MUSIC]\n\n4\n00:00:09.112 --> 00:00:10.525\n&gt;&gt; You're watching IT Pro TV.\n\n5\n00:00:10.525 --> 00:00:14.772\n&gt;&gt; Welcome to another great\nepisode right here on IT Pro TV.\n\n6\n00:00:14.772 --> 00:00:16.484\nI'm your host Ronnie Wong and\n\n7\n00:00:16.484 --> 00:00:20.700\ntoday we're taking a look at\nnetworking with Windows server 2016.\n\n8\n00:00:20.700 --> 00:00:23.220\nWe're specifically going into\na part two on managing and\n\n9\n00:00:23.220 --> 00:00:26.500\nmaintaining DHCP inside\nof Microsoft Windows.\n\n10\n00:00:26.500 --> 00:00:29.900\nAnd here to help us is our Microsoft kung\nfu master himself, Mister Mike Rodrick.\n\n11\n00:00:29.900 --> 00:00:31.260\nMike, welcome back to our studio.\n\n12\n00:00:31.260 --> 00:00:33.860\n&gt;&gt; Thanks for having me, Ronnie, and\nthanks for allowing me to come in and\n\n13\n00:00:33.860 --> 00:00:36.040\nteach you guys all about good old DHCP.\n\n14\n00:00:36.040 --> 00:00:39.840\nAnyway, we're continuing on with DHCP,\nin this one.\n\n15\n00:00:39.840 --> 00:00:44.760\nWe wanna take a look at how we can\nprovide some fault tolerance for DHCP.\n\n16\n00:00:44.760 --> 00:00:49.060\nWe've already talked a little bit\nabout disaster recovery backups,\n\n17\n00:00:49.060 --> 00:00:53.080\nmaking sure we've got our automatic\nbackups setup the way we want it.\n\n18\n00:00:53.080 --> 00:00:56.170\nThat we are performing manual backups for\n\n19\n00:00:56.170 --> 00:00:59.340\noffsite, other types of\ndisasters we might have.\n\n20\n00:00:59.340 --> 00:01:01.600\nBut now I wanna talk\nabout high availability.\n\n21\n00:01:01.600 --> 00:01:04.630\nJust making sure that DHCP is available.\n\n22\n00:01:04.630 --> 00:01:05.745\nAnd in the past,\n\n23\n00:01:05.745 --> 00:01:09.902\nproviding high availability on\nDHCP was really no easy task.\n\n24\n00:01:09.902 --> 00:01:14.175\nYou could because DHCP\nwas very independent.\n\n25\n00:01:14.175 --> 00:01:17.193\nIt didn't share its information\nwith other DHCP servers.\n\n26\n00:01:17.193 --> 00:01:21.000\nSo when you were setting them up,\nyou had to do several things.\n\n27\n00:01:21.000 --> 00:01:24.050\nYou had to make sure that there\nwas no overlapping scopes.\n\n28\n00:01:24.050 --> 00:01:25.400\nAnd it was good about warning you, but\n\n29\n00:01:25.400 --> 00:01:29.450\nyou couldn't have a scope overlap\nbecause DHCP didn't talk to each other.\n\n30\n00:01:29.450 --> 00:01:32.640\nSo we had two servers that\nhad two different scopes but\n\n31\n00:01:32.640 --> 00:01:34.220\nthose scopes overlapped a little bit.\n\n32\n00:01:34.220 --> 00:01:37.170\nIf there were no safety checks,\nyou could have two servers passing\n\n33\n00:01:37.170 --> 00:01:41.290\nout the same IP addresses,\ncausing duplicate IP addresses use, and\n\n34\n00:01:41.290 --> 00:01:43.130\nthere were connectivity issues for\nthose nodes.\n\n35\n00:01:44.680 --> 00:01:47.690\nHow do I provide high availability\n\n36\n00:01:47.690 --> 00:01:50.095\nif I can't have two servers\nthat have the same scope.\n\n37\n00:01:50.095 --> 00:01:54.346\nWe would do things like\nsplitting up a scope and\n\n38\n00:01:54.346 --> 00:01:57.946\nputting 80% of it on one server and\n20 % on another.\n\n39\n00:01:57.946 --> 00:02:01.220\nThat way the 80% server would be\nable to handle the workload but\n\n40\n00:02:01.220 --> 00:02:05.030\nif it ever failed the other one\nhad 20% of the addresses and\n\n41\n00:02:05.030 --> 00:02:09.250\ncould kinda keep chugging along\nif that first one had failed.\n\n42\n00:02:09.250 --> 00:02:15.010\n&gt;&gt; Now Mike, I understand the idea of\nbacking up a server and getting it to\n\n43\n00:02:15.010 --> 00:02:20.080\nthat point where if that server actually\nfails, I need to restore the DHTP.\n\n44\n00:02:20.080 --> 00:02:21.850\nIt means that I have to go ahead and\n\n45\n00:02:21.850 --> 00:02:26.390\nreinstall DHTP,\nget that backup database up and going.\n\n46\n00:02:26.390 --> 00:02:28.640\nOne makes high availability\nspecial though.\n\n47\n00:02:28.640 --> 00:02:30.910\nWhat are we really talking about here.\n\n48\n00:02:30.910 --> 00:02:32.815\nWhen one server fails, what happens.\n\n49\n00:02:32.815 --> 00:02:36.250\n&gt;&gt; We're talking about limiting\nthe downtime s really what it's about.\n\n50\n00:02:36.250 --> 00:02:40.070\nWhen that server fails,\nin Ronnie's scenario there for one,\n\n51\n00:02:40.070 --> 00:02:41.405\nI get to discover that it's failed.\n\n52\n00:02:41.405 --> 00:02:44.380\nAnd that's probably not gonna\nbe instantaneous because\n\n53\n00:02:44.380 --> 00:02:45.820\npeople have leases already.\n\n54\n00:02:45.820 --> 00:02:48.070\nSo it's gonna be when a new\nclient comes into the network and\n\n55\n00:02:48.070 --> 00:02:48.990\ncannot obtain a lease.\n\n56\n00:02:48.990 --> 00:02:52.320\nI'm gonna have to go figure out what's\nwrong, find out that that server,\n\n57\n00:02:52.320 --> 00:02:54.130\nthat service is no longer running.\n\n58\n00:02:54.130 --> 00:02:55.530\nAnd then I've gotta go get my backup.\n\n59\n00:02:55.530 --> 00:02:57.340\nI've gotta do my restore.\n\n60\n00:02:57.340 --> 00:03:00.370\nAnd in the meantime, I've got\nclients waiting for IP addresses or\n\n61\n00:03:00.370 --> 00:03:02.740\ntrying to renew addresses and they can't.\n\n62\n00:03:02.740 --> 00:03:05.060\nSo we wanna try to prevent that downtime.\n\n63\n00:03:05.060 --> 00:03:06.950\nThat's where the high\navailability comes in.\n\n64\n00:03:06.950 --> 00:03:08.710\nAnd as I said, you really couldn't do it.\n\n65\n00:03:08.710 --> 00:03:13.680\nOne thing you would see people doing\nwas put DHCP on a failover cluster.\n\n66\n00:03:13.680 --> 00:03:16.720\nBut that's again a lot\nof setup involved and\n\n67\n00:03:16.720 --> 00:03:19.630\nhardware involved in\ncreating a failover cluster.\n\n68\n00:03:19.630 --> 00:03:22.220\nAnd then putting DHCP on top of that.\n\n69\n00:03:22.220 --> 00:03:25.765\nAnd then that way, you weren't really\ndoing anything to DHCP directly.\n\n70\n00:03:25.765 --> 00:03:28.250\nTt was underneath there\nwas some fault tolerance.\n\n71\n00:03:28.250 --> 00:03:29.780\nSo if that node failed,\n\n72\n00:03:29.780 --> 00:03:33.410\nthe roll would shift over to another node\nusing your fail over cluster method.\n\n73\n00:03:34.840 --> 00:03:37.600\nRecently they've added, and\nthis was a couple additions ago so\n\n74\n00:03:37.600 --> 00:03:43.960\nit's not brand new to 2016 by any means,\nis we can do DHCP fail over.\n\n75\n00:03:43.960 --> 00:03:47.870\nAnd that's a fail over\nmethod within DHCP itself.\n\n76\n00:03:47.870 --> 00:03:52.120\nWe can now have our DHCP\nservers working together.\n\n77\n00:03:52.120 --> 00:03:55.960\nTalking to each other,\nsharing their information about the scope,\n\n78\n00:03:55.960 --> 00:03:59.800\nabout the leases that we have for\nthat particular scope, and\n\n79\n00:03:59.800 --> 00:04:02.890\ncommunicating with each other,\nchecking the status of their partner.\n\n80\n00:04:02.890 --> 00:04:06.640\nAnd if the other one is down, knowing,\nhey, it's time for me to take over.\n\n81\n00:04:06.640 --> 00:04:07.880\nSo that's the idea here.\n\n82\n00:04:07.880 --> 00:04:13.120\nDHCP fail over is a fail over method I can\nimplement within DHCP with multiple DHCP\n\n83\n00:04:13.120 --> 00:04:20.040\nservers to provide that up time, that\navailability that I might need for DHCP.\n\n84\n00:04:20.040 --> 00:04:23.430\n&gt;&gt; Now the idea of high availability\nis something that we really want to\n\n85\n00:04:23.430 --> 00:04:27.370\nunderstand, because most networks\nare really gonna want something like this.\n\n86\n00:04:27.370 --> 00:04:30.840\nEspecially if that network needs to be\nup 24 hours a day, seven days a week.\n\n87\n00:04:30.840 --> 00:04:34.990\nIt's something that's very important in\ntodays world, because a lot of us can't\n\n88\n00:04:34.990 --> 00:04:38.360\nafford the downtime even though we might\nsay we're just replacing the server.\n\n89\n00:04:38.360 --> 00:04:42.600\nIt still takes time to bring up even a\nvirtual server and get the role installed,\n\n90\n00:04:42.600 --> 00:04:46.150\nget everything back up and\nverify then that everything is working.\n\n91\n00:04:46.150 --> 00:04:47.160\nWith high availability,\n\n92\n00:04:47.160 --> 00:04:51.640\nwhat we're saying is that we're not gonna\nhave that issue as much as possible.\n\n93\n00:04:51.640 --> 00:04:53.890\nAnd that way by the way\nthat it's actually setup,\n\n94\n00:04:53.890 --> 00:04:57.680\nwe're saying that it can actually handle\nthe failover and still continue to run.\n\n95\n00:04:57.680 --> 00:05:00.590\nAnd so it's a great option for\nus to consider,\n\n96\n00:05:00.590 --> 00:05:02.420\nespecially we have all\nthe resource that we need.\n\n97\n00:05:02.420 --> 00:05:06.910\n&gt;&gt; It really is and we think like I've\nbeen saying, DHCP if it fails, okay,\n\n98\n00:05:06.910 --> 00:05:10.750\neverybody's kind of okay for a little\nwhile We've gotta try and get it back up.\n\n99\n00:05:10.750 --> 00:05:14.550\nBut what about scenarios like\nwe've got a heavy remote access.\n\n100\n00:05:14.550 --> 00:05:17.510\nA lot of people are remoting into\nthe network do work from home or\n\n101\n00:05:17.510 --> 00:05:18.700\ntraveling sales people.\n\n102\n00:05:18.700 --> 00:05:20.720\nThey need an IP address when they connect.\n\n103\n00:05:20.720 --> 00:05:24.030\nIf DHCP is down the VPN server\nmight not be able to get those.\n\n104\n00:05:24.030 --> 00:05:26.740\nAnd then also they can't connect and\nwhat that's gonna do.\n\n105\n00:05:26.740 --> 00:05:27.810\nPhone calls to the helpdesk.\n\n106\n00:05:27.810 --> 00:05:28.960\nHey did you know I can't connect.\n\n107\n00:05:28.960 --> 00:05:29.920\nI can't connect.\n\n108\n00:05:29.920 --> 00:05:32.240\nWhat if I'm a service provider.\n\n109\n00:05:32.240 --> 00:05:35.230\nNow we're multiplying the number of phone\ncalls the people that are experiencing\n\n110\n00:05:35.230 --> 00:05:39.790\ndown time, because DHCP was unavailable\nand that could end up costing me money.\n\n111\n00:05:39.790 --> 00:05:44.570\nI'm sure I've got contracts, I've got\npolicies in place with our, what are-\n\n112\n00:05:44.570 --> 00:05:45.140\n&gt;&gt; SLA's.\n\n113\n00:05:45.140 --> 00:05:49.510\n&gt;&gt; SLA's in place that say hey we're\ngoing to provide this level of up time.\n\n114\n00:05:49.510 --> 00:05:51.480\nI need to be able to provide that.\n\n115\n00:05:51.480 --> 00:05:55.110\nOtherwise, I'm gonna face\nprobably fines or fees or\n\n116\n00:05:55.110 --> 00:05:58.010\na loss of customers, so not a good thing.\n\n117\n00:05:58.010 --> 00:05:59.480\nSo how do we do it.\n\n118\n00:05:59.480 --> 00:06:01.190\nIt's actually pretty straightforward.\n\n119\n00:06:01.190 --> 00:06:03.850\nLet's talk about it and\nthen we'll jump in and we'll do it.\n\n120\n00:06:03.850 --> 00:06:05.390\nWhen we set up failure with DHCP,\n\n121\n00:06:05.390 --> 00:06:10.170\nthe first thing we need to understand Is\nthat it's a two node failover scenario.\n\n122\n00:06:10.170 --> 00:06:11.710\nThere's only two partners.\n\n123\n00:06:11.710 --> 00:06:16.330\nI can't take five or six or seven servers\nand make them part of this failover.\n\n124\n00:06:16.330 --> 00:06:17.110\nSo it's only two.\n\n125\n00:06:17.110 --> 00:06:20.690\nThere are two modes I can do this in.\n\n126\n00:06:20.690 --> 00:06:25.410\nI can do this in what we call hot\nstandby mode or I can do load balancing.\n\n127\n00:06:25.410 --> 00:06:28.980\nHot stand by out of the two servers,\none is considered active.\n\n128\n00:06:28.980 --> 00:06:32.020\nAnd he's managing and\nmaintaining all of the lease information.\n\n129\n00:06:32.020 --> 00:06:37.640\nOnly when that one is unavailable does\nthis standby come in and take over.\n\n130\n00:06:37.640 --> 00:06:42.850\nSo that'd be hot stand by one active,\none waiting for the active to fail.\n\n131\n00:06:42.850 --> 00:06:45.305\nLoad balancing we're just\ngonna split the workload.\n\n132\n00:06:45.305 --> 00:06:47.720\nWe're gonna send some of\nthe requests to this server,\n\n133\n00:06:47.720 --> 00:06:49.330\nsome of the requests to this server.\n\n134\n00:06:49.330 --> 00:06:53.780\nHopefully splitting that workload between\nthe two which gives us better performance\n\n135\n00:06:53.780 --> 00:06:55.190\nand high availability.\n\n136\n00:06:55.190 --> 00:06:56.810\nAnd that's a key to remember.\n\n137\n00:06:56.810 --> 00:07:02.310\nWith the standby by you're doing nothing\nfor performance, if I can say that.\n\n138\n00:07:02.310 --> 00:07:05.180\nYou're not decreasing the workload\non that DHCP server at all.\n\n139\n00:07:05.180 --> 00:07:07.930\nIt's still one server handling everything,\nand\n\n140\n00:07:07.930 --> 00:07:11.550\nonly if he fails does the other one\ntake over, which might be what you want.\n\n141\n00:07:11.550 --> 00:07:13.790\nBut if you're looking\nto split the workload,\n\n142\n00:07:13.790 --> 00:07:17.000\nif you're looking to increase\nthe performance of DHCP,\n\n143\n00:07:17.000 --> 00:07:19.930\nthen the load balancing mode\nmight be a better way to go.\n\n144\n00:07:19.930 --> 00:07:22.870\nBecause now I can take that workload and\nsplit it apart.\n\n145\n00:07:24.180 --> 00:07:28.720\nWhen you set up these again there's only\ntwo per fail over group is what they end\n\n146\n00:07:28.720 --> 00:07:35.505\nup calling them but a single server can be\na part of more than one fail over group.\n\n147\n00:07:35.505 --> 00:07:37.442\n&gt;&gt; [LAUGH]\n&gt;&gt; I know right.\n\n148\n00:07:37.442 --> 00:07:37.955\n[LAUGH].\n&gt;&gt; Wow.\n\n149\n00:07:37.955 --> 00:07:39.810\n&gt;&gt; A little twisty there.\n\n150\n00:07:39.810 --> 00:07:46.920\nIn other words I could have server A and\nserver B as part of a fail over group.\n\n151\n00:07:46.920 --> 00:07:48.730\nAnd they're working together.\n\n152\n00:07:48.730 --> 00:07:55.764\nBut server A can also be in a fail over\ngroup with server C for a different scope.\n\n153\n00:07:55.764 --> 00:07:56.686\nImagine this scenario.\n\n154\n00:07:56.686 --> 00:07:59.909\nThis is where you most commonly see this,\nis a.\n\n155\n00:07:59.909 --> 00:08:02.949\nCorporate office and branch offices.\n\n156\n00:08:02.949 --> 00:08:05.220\nWe end up setting basically a hub and\nspoke.\n\n157\n00:08:05.220 --> 00:08:09.620\nEach one of my branches has a DHCP\nserver to provide IP addresses for\n\n158\n00:08:09.620 --> 00:08:14.180\nthat particular branch and normally it\ndoes a rock solid job, no problems.\n\n159\n00:08:14.180 --> 00:08:16.350\nIf that server fails at that branch,\n\n160\n00:08:16.350 --> 00:08:19.575\nI want those users to still\nbe able to get an IP address.\n\n161\n00:08:19.575 --> 00:08:24.078\nSo that server back at that\ncorporate office, in the center,\n\n162\n00:08:24.078 --> 00:08:28.640\nacts as a standby for\nthat DHCP server at the branch office.\n\n163\n00:08:28.640 --> 00:08:32.980\nThat's one failover partnership, but\nI also have a failover partnership between\n\n164\n00:08:32.980 --> 00:08:36.680\nthat same server at corporate and\nthe server at branch two.\n\n165\n00:08:36.680 --> 00:08:40.500\nSo if the branch two fails, the guy at\ncorporate becomes that hot standby, right?\n\n166\n00:08:40.500 --> 00:08:42.190\nSo you see what I'm saying?\n\n167\n00:08:42.190 --> 00:08:45.160\nThere's only two per failover group, but\n\n168\n00:08:45.160 --> 00:08:48.558\na server can be a part of more\nthan one fail over group.\n\n169\n00:08:48.558 --> 00:08:50.361\nAll right?\n\n170\n00:08:50.361 --> 00:08:51.750\nAnd that's normally,\n\n171\n00:08:51.750 --> 00:08:56.210\nlike I said, a very common scenario is\ncorporate office becomes the back up.\n\n172\n00:08:56.210 --> 00:09:00.140\nI don't want people going across the WAN\nto get an IP address, but if that server\n\n173\n00:09:00.140 --> 00:09:03.320\nout there in that branch office fails,\nthat's when I want them to hit that.\n\n174\n00:09:03.320 --> 00:09:06.860\nLoad balancing is typically done\njust because the work load.\n\n175\n00:09:06.860 --> 00:09:10.837\nI might have a scenario where\nI have multiple sub nets, HDH,\n\n176\n00:09:10.837 --> 00:09:15.480\nDHCP server can handle multiple sub nets,\nbut if the work load gets too big,\n\n177\n00:09:15.480 --> 00:09:17.930\nI could add another DHCP server.\n\n178\n00:09:17.930 --> 00:09:19.360\nTake some of that work off of them,\n\n179\n00:09:19.360 --> 00:09:22.770\nso both servers are able to\nhandle the multiple sub nets,\n\n180\n00:09:22.770 --> 00:09:26.950\neach doing a piece of the job or splitting\nup the work load between the two.\n\n181\n00:09:26.950 --> 00:09:30.040\n&gt;&gt; Now Mike, I like that idea of that\nscenario that you gave us because it\n\n182\n00:09:30.040 --> 00:09:34.790\nreally does show where an organization\ndoesn't have to set up two\n\n183\n00:09:34.790 --> 00:09:40.200\nDHCP servers in each one of those branch\noffices to ensure for high availability.\n\n184\n00:09:40.200 --> 00:09:44.360\nBut by being able to actually set one\nup as a hub and spoke type of network,\n\n185\n00:09:44.360 --> 00:09:48.160\nwe can actually see where multiple\nbranches end, can have that high\n\n186\n00:09:48.160 --> 00:09:52.360\navailability with the idea of actually\nnot having to set up both of those.\n\n187\n00:09:52.360 --> 00:09:54.230\nAnd so, that can save cost.\n\n188\n00:09:54.230 --> 00:09:57.230\nBut it's probably a solution\nthat Microsoft really does like.\n\n189\n00:09:57.230 --> 00:09:58.860\nSo, it might be something\nwe want to consider.\n\n190\n00:09:58.860 --> 00:10:01.770\nEspecially when we start thinking\nabout the idea of getting ready for\n\n191\n00:10:01.770 --> 00:10:02.920\nthe exam, as well.\n\n192\n00:10:02.920 --> 00:10:05.330\nI can see questions like\nthat coming up very easily.\n\n193\n00:10:05.330 --> 00:10:06.240\n&gt;&gt; Absolutely.\n\n194\n00:10:06.240 --> 00:10:07.280\nAnd I didn't think about that.\n\n195\n00:10:07.280 --> 00:10:09.363\nLet's say I've got ten branch offices,\nall right?\n\n196\n00:10:09.363 --> 00:10:12.495\nI can take one server at\nthe corporate office and\n\n197\n00:10:12.495 --> 00:10:16.420\nprovide high availability for\neach one of those branches.\n\n198\n00:10:16.420 --> 00:10:18.930\nLike Ronny was saying, I'm not putting\ntwo servers at every branch and\n\n199\n00:10:18.930 --> 00:10:20.370\nsetting up 20 servers.\n\n200\n00:10:20.370 --> 00:10:24.960\nI added one server and all of a sudden\nI've got high availability for\n\n201\n00:10:24.960 --> 00:10:28.100\nevery one of those branch offices,\nas far as DHCP is concerned.\n\n202\n00:10:28.100 --> 00:10:30.600\nAnd all done without setting\nup a cluster underneath.\n\n203\n00:10:30.600 --> 00:10:34.820\nNone of this is installing\nthe failover cluster,\n\n204\n00:10:34.820 --> 00:10:39.710\nroll and configuring that and\nsetting up shared storage, none of that.\n\n205\n00:10:39.710 --> 00:10:43.060\nThe only stipulation is that the nodes\ncan communicate with each other.\n\n206\n00:10:43.060 --> 00:10:45.770\nSo the branch office and the corporate\noffice would have a permanent VPN\n\n207\n00:10:45.770 --> 00:10:50.390\ntunnel set up between them, most likely\nanyway, for corporate access to corporate\n\n208\n00:10:50.390 --> 00:10:53.330\nresources because they are gonna\ncheck with each other.\n\n209\n00:10:53.330 --> 00:10:57.850\nBecause the standby has to know\nif the primary has failed.\n\n210\n00:10:57.850 --> 00:11:00.616\nSo there's a little heart\nbeat that goes back and\n\n211\n00:11:00.616 --> 00:11:04.875\nforth that they communicate with to see\nif the other node is up and running.\n\n212\n00:11:04.875 --> 00:11:06.320\nAll right, so let's see how we can do it.\n\n213\n00:11:06.320 --> 00:11:10.820\nAnd I think you'll be surprised that\nit's not nearly as difficult as\n\n214\n00:11:10.820 --> 00:11:13.900\nsetting up a failover cluster\nin the Windows operating system.\n\n215\n00:11:13.900 --> 00:11:17.290\nSo let's take a look at my screen here and\nwhat I've got, is got server one.\n\n216\n00:11:17.290 --> 00:11:20.960\nServer one is currently hosting,\nor is running DHCP.\n\n217\n00:11:20.960 --> 00:11:23.910\nSo let's open up good old DHCP here.\n\n218\n00:11:26.175 --> 00:11:27.820\nGet that console up and running.\n\n219\n00:11:27.820 --> 00:11:34.040\nAnd on this node I have\na few scopes set up.\n\n220\n00:11:34.040 --> 00:11:38.780\nClient subnet, scope A, scope B, just\nsome things we have to play around with.\n\n221\n00:11:38.780 --> 00:11:39.920\nSo that's server one.\n\n222\n00:11:39.920 --> 00:11:44.770\nAnd then on server two, if I can find him.\n\n223\n00:11:44.770 --> 00:11:45.790\nThere he is.\n\n224\n00:11:46.802 --> 00:11:50.010\nWe're gonna be looking at,\nlet's see, I have DHCP installed\n\n225\n00:11:53.973 --> 00:11:56.650\nBut there are no scopes on this guy,\nright?\n\n226\n00:11:56.650 --> 00:11:59.670\nAnd I did that intentionally cuz I\nwant you to kinda see the process.\n\n227\n00:11:59.670 --> 00:12:04.161\nBut by no means does this have to be\na blank, fresh install of DHCP, right?\n\n228\n00:12:04.161 --> 00:12:08.722\nHe could already have scopes for\nother reasons, for other subnets.\n\n229\n00:12:08.722 --> 00:12:10.513\nBut when you're setting this up,\n\n230\n00:12:10.513 --> 00:12:15.090\nyou're thinking about what scope do I\nneed to provide high availability for?\n\n231\n00:12:15.090 --> 00:12:16.877\nI might not need to do all of them, right?\n\n232\n00:12:16.877 --> 00:12:23.250\nMaybe it's just the one for my servers or\nthe clients, but not the dev.\n\n233\n00:12:23.250 --> 00:12:25.320\nI don't worry about the dev department,\n\n234\n00:12:25.320 --> 00:12:28.680\nif a DHCP is unavailable\nthey can get by for a while.\n\n235\n00:12:28.680 --> 00:12:30.770\nI don't know why you wouldn't honestly,\nit's so\n\n236\n00:12:30.770 --> 00:12:35.560\neasy to do, just to include all\nthe scopes, you might as well but just so\n\n237\n00:12:35.560 --> 00:12:41.820\nyou understand it is done on\na per scope basis, all right?\n\n238\n00:12:41.820 --> 00:12:45.000\nLet's go back to server one and\nwe'll start this process up.\n\n239\n00:12:48.850 --> 00:12:52.454\nAll right so on server one I want\nto provide some DHCP failovers so\n\n240\n00:12:52.454 --> 00:12:55.190\nwhat I'm gonna do is I'm\ngoing to right click and\n\n241\n00:12:55.190 --> 00:12:58.320\nyou can really right click\njust about anywhere.\n\n242\n00:12:58.320 --> 00:13:02.286\nYou'll see if I right click on IPv4,\nconfigure failover.\n\n243\n00:13:02.286 --> 00:13:07.440\nIf I right-click on the server,\nI might not have it at that level.\n\n244\n00:13:07.440 --> 00:13:10.010\nIf I right click on the scope itself.\n\n245\n00:13:11.831 --> 00:13:14.210\nI can provide failover as well.\n\n246\n00:13:14.210 --> 00:13:16.070\nAnd they both launch the same wizard.\n\n247\n00:13:16.070 --> 00:13:23.550\nIf I click here, versus clicking on IPv4,\nI'm going to get the same wizard.\n\n248\n00:13:23.550 --> 00:13:26.090\nRight?\nAnd on the first screen of this wizard it\n\n249\n00:13:26.090 --> 00:13:28.870\nsays, okay here you go,\nwelcome to DHCP failover.\n\n250\n00:13:28.870 --> 00:13:30.510\nWe're gonna guide you through the process.\n\n251\n00:13:30.510 --> 00:13:31.700\nThank you, Microsoft.\n\n252\n00:13:31.700 --> 00:13:35.470\nAnd there's a check mark here that's\nchecked by default and it says select all.\n\n253\n00:13:35.470 --> 00:13:38.630\nAnd so you can see the scopes\nthat I have are grayed out.\n\n254\n00:13:38.630 --> 00:13:40.840\nI cannot choose which one.\n\n255\n00:13:40.840 --> 00:13:43.790\nIf I uncheck this, that's when I\ncan say I wanna provide it for\n\n256\n00:13:43.790 --> 00:13:46.580\nthis one and this one but\nnot the other one.\n\n257\n00:13:46.580 --> 00:13:51.170\nAll right, so free to choose one scope,\nmore than one, or\n\n258\n00:13:51.170 --> 00:13:52.440\nall and I'm just gonna go ahead and\ndo all.\n\n259\n00:13:52.440 --> 00:13:55.800\nLet me zoom back out so\nwe can see the rest of that.\n\n260\n00:13:55.800 --> 00:14:01.540\nI'll click Next and then specify\nthe partner server to use for failover.\n\n261\n00:14:01.540 --> 00:14:03.510\nSo if I hit my drop down\nlist I've got nothing.\n\n262\n00:14:03.510 --> 00:14:05.200\nSo we'll click Add Server.\n\n263\n00:14:05.200 --> 00:14:08.350\nAnd I get a list of\nthe authorized servers.\n\n264\n00:14:08.350 --> 00:14:13.210\nI'm gonna choose server two and\nI'll click OK.\n\n265\n00:14:14.680 --> 00:14:15.640\nSo it's gonna reach out and\n\n266\n00:14:15.640 --> 00:14:20.090\nmake sure that server two is up,\nmake sure that server two is running DHCP.\n\n267\n00:14:20.090 --> 00:14:23.075\nAll right, and\nevidently server two is not responding.\n\n268\n00:14:23.075 --> 00:14:23.960\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n269\n00:14:23.960 --> 00:14:29.070\nwe'll give it just a second to hopefully\nbegin responding cuz we know he's up.\n\n270\n00:14:29.070 --> 00:14:30.380\nWe were just on there.\n\n271\n00:14:30.380 --> 00:14:32.360\nThere we go, little slow, but again,\n\n272\n00:14:32.360 --> 00:14:36.100\nit's the heavy network traffic\nI have on my virtual network.\n\n273\n00:14:36.100 --> 00:14:36.600\n&gt;&gt; That's right.\n\n274\n00:14:37.850 --> 00:14:38.680\n&gt;&gt; So it did find it.\n\n275\n00:14:38.680 --> 00:14:39.890\nEverything looks good.\n\n276\n00:14:39.890 --> 00:14:41.430\nWe are good to go there.\n\n277\n00:14:41.430 --> 00:14:42.810\nI'll click Next.\n\n278\n00:14:44.250 --> 00:14:47.070\nAnd then here's where I've gotta\nstart making a couple decisions.\n\n279\n00:14:47.070 --> 00:14:49.810\nCreate a new failover relationship.\n\n280\n00:14:49.810 --> 00:14:51.290\nI called it a group earlier.\n\n281\n00:14:51.290 --> 00:14:53.260\nThey actually call it a relationship.\n\n282\n00:14:53.260 --> 00:14:55.940\nThe first thing that we have to pay\nattention to is this right here.\n\n283\n00:14:55.940 --> 00:14:59.350\nAnd normally we will say\ncall it whatever you want.\n\n284\n00:14:59.350 --> 00:15:01.560\nIt doesn't matter,\ncomputers don't care about names.\n\n285\n00:15:01.560 --> 00:15:02.560\nIt's just the numbers.\n\n286\n00:15:03.650 --> 00:15:05.010\nDo whatever you like there.\n\n287\n00:15:05.010 --> 00:15:07.520\nThere is something that you've got\nto understand about this name and\n\n288\n00:15:07.520 --> 00:15:09.260\nit's a great test question.\n\n289\n00:15:09.260 --> 00:15:10.600\nThey have to be unique.\n\n290\n00:15:10.600 --> 00:15:14.270\nRemember how I said you could have more\nthan one relationship, that there could\n\n291\n00:15:14.270 --> 00:15:17.480\nonly be two per relationship but\nyou could have more than one?\n\n292\n00:15:17.480 --> 00:15:21.790\nSo each relationship needs a unique name,\na way to identify it.\n\n293\n00:15:21.790 --> 00:15:24.930\nAnd that needs to be unique\nthroughout your organization.\n\n294\n00:15:24.930 --> 00:15:26.110\nSo just keep that in mind.\n\n295\n00:15:26.110 --> 00:15:29.469\nWhen you're naming this just don't\ncall it something as simple as\n\n296\n00:15:30.500 --> 00:15:31.665\nfailover, all right?\n\n297\n00:15:31.665 --> 00:15:33.001\n&gt;&gt; [LAUGH]\n&gt;&gt; Because you're probably gonna\n\n298\n00:15:33.001 --> 00:15:33.800\nhave others.\n\n299\n00:15:33.800 --> 00:15:37.490\nAnd if you call it failover one, failover\ntwo, it's not gonna be all that useful.\n\n300\n00:15:37.490 --> 00:15:39.140\n&gt;&gt; Now, Mike, on this relationship name,\n\n301\n00:15:39.140 --> 00:15:42.720\nsince you're emphasizing it, is that\nactually gonna be the same thing that we\n\n302\n00:15:42.720 --> 00:15:45.890\nput on the other node that\nwe're doing in the failover?\n\n303\n00:15:45.890 --> 00:15:46.890\n&gt;&gt; It is, in a way.\n\n304\n00:15:46.890 --> 00:15:47.930\n&gt;&gt; Okay.\n&gt;&gt; What's gonna happen is,\n\n305\n00:15:47.930 --> 00:15:49.095\ncuz the other node doesn't\nknow about it yet.\n\n306\n00:15:49.095 --> 00:15:50.610\n&gt;&gt; Right.\n&gt;&gt; That we're setting this up.\n\n307\n00:15:50.610 --> 00:15:52.168\nWe're kind of setting this up and\nthen we're gonna surprise it with it.\n\n308\n00:15:52.168 --> 00:15:55.383\nHey, you're now part of\na failover relationship.\n\n309\n00:15:55.383 --> 00:15:56.865\nAnd it'll just pull that name.\n\n310\n00:15:56.865 --> 00:16:01.699\nBut if that server was a part\nof another relationship already.\n\n311\n00:16:01.699 --> 00:16:05.295\nAnd we're setting this one up and\nwe happen to use the same name as\n\n312\n00:16:05.295 --> 00:16:08.310\nthe relationship that it\nwas already a part of?\n\n313\n00:16:08.310 --> 00:16:10.060\nThat's gonna cause a problem, right?\n\n314\n00:16:10.060 --> 00:16:11.980\nSo that's why we gotta make\nsure we understand, hey,\n\n315\n00:16:11.980 --> 00:16:13.580\nwhat does server two already have?\n\n316\n00:16:13.580 --> 00:16:15.100\nDoes he have any relationships?\n\n317\n00:16:15.100 --> 00:16:16.130\nWhat are their names?\n\n318\n00:16:16.130 --> 00:16:17.950\nLet's make sure they're unique.\n\n319\n00:16:17.950 --> 00:16:20.900\nTypically, you can do IP\naddress to IP address, or\n\n320\n00:16:20.900 --> 00:16:25.270\nname to name because\nimagine that hub in spoke.\n\n321\n00:16:25.270 --> 00:16:29.825\nOne relationship is corp\nDHCP to branch ADHCP.\n\n322\n00:16:29.825 --> 00:16:33.663\nThe other relationship is\ncorp DHCP to branch two DHCP.\n\n323\n00:16:33.663 --> 00:16:38.250\nSo if we use name like that I can\nensure their uniqueness all right.\n\n324\n00:16:38.250 --> 00:16:40.808\nSo it's not really difficult\nto come up with a unique name.\n\n325\n00:16:40.808 --> 00:16:44.310\nI'm gonna just call this, I'll leave\nthe default there, that's fine with me.\n\n326\n00:16:44.310 --> 00:16:46.183\nIt's awfully ugly though.\n\n327\n00:16:46.183 --> 00:16:47.031\nLet's do this.\n\n328\n00:16:47.031 --> 00:16:52.880\nsvr01 to svr02.\n\n329\n00:16:52.880 --> 00:16:54.160\nWe'll do that.\n\n330\n00:16:54.160 --> 00:16:57.860\nThen we have what's known as\nthe maximum client lead time.\n\n331\n00:16:57.860 --> 00:17:01.459\nThis is an interesting little number.\n\n332\n00:17:01.459 --> 00:17:06.946\nWhat this is, is when there's\na fail over from a hot standby,\n\n333\n00:17:06.946 --> 00:17:09.902\nfrom a active to the hot standby,\n\n334\n00:17:09.902 --> 00:17:14.670\nthere's a few phases that\nthese servers go through.\n\n335\n00:17:14.670 --> 00:17:19.150\nWhen that standby no longer can\ncommunicate with the active server,\n\n336\n00:17:19.150 --> 00:17:21.160\nthe one that's doing all the work, right.\n\n337\n00:17:21.160 --> 00:17:25.320\nIf he loses communication with them that's\nwhen he starts to go, wait a second.\n\n338\n00:17:25.320 --> 00:17:26.868\nI can't reach the active one.\n\n339\n00:17:26.868 --> 00:17:28.601\nI'm gonna have to take\nover this job right?\n\n340\n00:17:28.601 --> 00:17:30.130\nBecause he's unavailable.\n\n341\n00:17:30.130 --> 00:17:31.480\nAt least that's what he thinks.\n\n342\n00:17:31.480 --> 00:17:34.530\nIt very well could be just\nthe communication between them but\n\n343\n00:17:34.530 --> 00:17:35.760\nhe doesn't know that.\n\n344\n00:17:35.760 --> 00:17:40.120\nSo it starts to go through these different\nphases where communication is interrupted.\n\n345\n00:17:40.120 --> 00:17:44.890\nAnd it's gonna temporarily take over, and\n\n346\n00:17:44.890 --> 00:17:50.650\nthe maximum lead time is how long\nthat standby can extend leases,\n\n347\n00:17:50.650 --> 00:17:56.530\nprovided by the primary, the active one,\nbefore completely taking over right.\n\n348\n00:17:56.530 --> 00:17:57.205\nBasically, what he's going to say.\n\n349\n00:17:57.205 --> 00:18:00.026\nLet's say Ronnie was the active and\nI am the standby and\n\n350\n00:18:00.026 --> 00:18:02.420\na client got an ip address from Ronnie.\n\n351\n00:18:02.420 --> 00:18:06.630\nNow Ronnie is no longer available\nthe client's trying to renew his\n\n352\n00:18:08.070 --> 00:18:10.190\nlease, I've taken over.\n\n353\n00:18:10.190 --> 00:18:12.220\nWhat I can do is I can say, you know what?\n\n354\n00:18:12.220 --> 00:18:16.950\nHe's not available, I'm gonna just extend\nthe lease you currently have with Ronnie,\n\n355\n00:18:16.950 --> 00:18:18.840\neven though Ronnie's not around.\n\n356\n00:18:18.840 --> 00:18:19.650\nFor a little while.\n\n357\n00:18:19.650 --> 00:18:22.030\nWhatever this maximum client lead time is.\n\n358\n00:18:22.030 --> 00:18:24.960\nNow once that runs out you\nstill can't talk to Ronnie,\n\n359\n00:18:24.960 --> 00:18:29.090\nI'm going to take over I'm going to become\nthe one responsible for generating you're\n\n360\n00:18:29.090 --> 00:18:32.465\nlease you not going to any down time\nyou're not gonna have any issues.\n\n361\n00:18:32.465 --> 00:18:36.085\nIt's just the servers themselves trying to\nfigure out who's really in charge of that\n\n362\n00:18:36.085 --> 00:18:37.415\nrecord, right.\n\n363\n00:18:37.415 --> 00:18:39.825\nSo MCLT, or maximum client lead time,\n\n364\n00:18:39.825 --> 00:18:44.735\nhow long we can extend the lease for\nin a fail-over situation.\n\n365\n00:18:44.735 --> 00:18:46.481\nThen you have your mode.\n\n366\n00:18:46.481 --> 00:18:50.745\nAnd you see the two choices are gonna\nbe load balancing or hot standby.\n\n367\n00:18:50.745 --> 00:18:53.320\nDepending what I choose here\ndetermines what I see for\n\n368\n00:18:53.320 --> 00:18:55.200\nthe rest of this dialogue box.\n\n369\n00:18:55.200 --> 00:18:58.990\nLoad Balancing, all right,\nLocal Server, Partner Server.\n\n370\n00:18:58.990 --> 00:19:02.330\nHow much workload do you wanna provide,\nor force on each one of those?\n\n371\n00:19:02.330 --> 00:19:06.113\nWanna do 50-50, do you wanna do 60-40,\nwhat do I wanna do?\n\n372\n00:19:06.113 --> 00:19:10.071\nAll right if I choose Hot standby,\nwell this changes,\n\n373\n00:19:10.071 --> 00:19:13.300\nwhat is the role of the partner server?\n\n374\n00:19:13.300 --> 00:19:14.440\nNot the one I'm on, but\n\n375\n00:19:14.440 --> 00:19:19.360\nthe one that I'm getting ready to add to\nthis, is that the active or the standby?\n\n376\n00:19:19.360 --> 00:19:22.753\nTypically you're configuring the active\nand the other one is gonna be the standby,\n\n377\n00:19:22.753 --> 00:19:24.255\nbut it definitely doesn't matter.\n\n378\n00:19:24.255 --> 00:19:27.980\nAnd then address is reserved for\nstandby server.\n\n379\n00:19:27.980 --> 00:19:31.110\nIf I'm active,\nI've got control of the entire scope,\n\n380\n00:19:31.110 --> 00:19:33.410\nevery IP address that's\npart of that scope.\n\n381\n00:19:33.410 --> 00:19:37.630\nIf I fail, then the other guy takes over,\nbut he has no IP addresses.\n\n382\n00:19:37.630 --> 00:19:38.960\nI had them all right.\n\n383\n00:19:38.960 --> 00:19:42.868\nSo what we do is we have to say,\nI'm gonna take, in this case,\n\n384\n00:19:42.868 --> 00:19:47.178\nthe default 5% of that pool away\nfrom the active server all right.\n\n385\n00:19:47.178 --> 00:19:51.020\nAnd I'm gonna hand them\nto the standby server.\n\n386\n00:19:51.020 --> 00:19:53.165\nThat way, if the active server fails,\n\n387\n00:19:53.165 --> 00:19:55.960\nthe standby server has some IP addresses,\nright?\n\n388\n00:19:55.960 --> 00:19:57.893\nMost of those are just gonna be renewals,\n\n389\n00:19:57.893 --> 00:20:00.510\nbut there might be some\nnew clients that come in.\n\n390\n00:20:00.510 --> 00:20:04.180\nAnd he needs a pool of addresses that he\ncan use to pass out to those new clients.\n\n391\n00:20:04.180 --> 00:20:08.720\nAnd so that's what the reserved for\nstandby is all about.\n\n392\n00:20:08.720 --> 00:20:15.150\nI'm gonna leave this on hot standby, cuz\nthat's gonna be the demo that we do here.\n\n393\n00:20:15.150 --> 00:20:18.380\nMake sure I got that right, set at Hot\nstandby, I'm gonna roll the partner,\n\n394\n00:20:18.380 --> 00:20:19.710\nis gonna be my standby.\n\n395\n00:20:19.710 --> 00:20:21.610\nWe'll do 5%, that's fine.\n\n396\n00:20:21.610 --> 00:20:23.000\nState Switchover Interval,\n\n397\n00:20:23.000 --> 00:20:27.820\nwe can start automating the switchover,\notherwise it is a manual process.\n\n398\n00:20:27.820 --> 00:20:31.900\nThe one node will go into\na communications interrupted node and\n\n399\n00:20:31.900 --> 00:20:34.890\nthe other node will begin\nthe process of taking over.\n\n400\n00:20:34.890 --> 00:20:40.750\nBut he's not gonna take over completely\nuntil the switch over occurs.\n\n401\n00:20:40.750 --> 00:20:42.850\nAnd the state switchover interval,\n\n402\n00:20:42.850 --> 00:20:46.095\nwe want to automate that as how\nlong the standby will wait.\n\n403\n00:20:46.095 --> 00:20:48.870\nUntil the other one,\nor till it takes over.\n\n404\n00:20:48.870 --> 00:20:51.180\nDoes it wait, by default, 60 minutes.\n\n405\n00:20:51.180 --> 00:20:55.100\nSo after 60 minutes if\nthe primary hasn't come back up,\n\n406\n00:20:55.100 --> 00:20:59.982\nI still cannot communicate with him,\nI'm going to assume server down.\n\n407\n00:20:59.982 --> 00:21:04.120\nI'm gonna change the status on the one\nthat I can no longer communicate with,\n\n408\n00:21:04.120 --> 00:21:05.890\nsay he is down and out.\n\n409\n00:21:05.890 --> 00:21:07.360\nI am now taking over.\n\n410\n00:21:07.360 --> 00:21:08.820\nI am the new primary.\n\n411\n00:21:08.820 --> 00:21:10.380\nI am no longer the hot standby.\n\n412\n00:21:11.430 --> 00:21:13.316\n&gt;&gt; So even if I don't check that box,\n\n413\n00:21:13.316 --> 00:21:16.513\nyou're saying that the default\nis gonna be 60 minutes?\n\n414\n00:21:16.513 --> 00:21:21.402\nBut even if I check it, and I leave it\nat 60 minutes, that's kind of okay.\n\n415\n00:21:21.402 --> 00:21:22.186\n&gt;&gt; Almost.\n&gt;&gt; [LAUGH]\n\n416\n00:21:22.186 --> 00:21:22.686\n&gt;&gt; Yeah.\n\n417\n00:21:22.686 --> 00:21:23.291\n&gt;&gt; Okay.\n\n418\n00:21:23.291 --> 00:21:23.823\n&gt;&gt; That was a little confusing wasn't\n\n419\n00:21:23.823 --> 00:21:24.343\nit?\n&gt;&gt; Yes.\n\n420\n00:21:24.343 --> 00:21:26.173\n&gt;&gt; This is,\n\n421\n00:21:26.173 --> 00:21:29.140\nwhat's a good way to say this if\nwe're gonna automate the process?\n\n422\n00:21:29.140 --> 00:21:32.150\nIf we don't automate it,\nwhat'll happen is the primary goes down,\n\n423\n00:21:32.150 --> 00:21:35.700\nthe standby will takeover, but\nit'll never fully switch over and\n\n424\n00:21:35.700 --> 00:21:38.760\ntakeover the role as being the primary.\n\n425\n00:21:38.760 --> 00:21:42.790\nIt's just gonna sit there and say, look,\nI don't know what happened to my partner.\n\n426\n00:21:42.790 --> 00:21:44.720\nI'm doing what I can for him.\n\n427\n00:21:44.720 --> 00:21:47.630\nBasically but\nI'm not going to assume his role.\n\n428\n00:21:47.630 --> 00:21:50.400\nIf we start enabling this we can say look,\n\n429\n00:21:50.400 --> 00:21:54.550\nafter 60 minutes assume he's gone and\ntake over the role completely.\n\n430\n00:21:54.550 --> 00:21:55.650\nYou are now the primary.\n\n431\n00:21:55.650 --> 00:21:59.160\nSo that's what we're trying to\nautomate is that switch over from\n\n432\n00:21:59.160 --> 00:22:04.080\nwhich one is considered the primary or\nactive and which one is the hot standby.\n\n433\n00:22:04.080 --> 00:22:07.140\nThe hot standby could remain\nin hot standby mode and\n\n434\n00:22:07.140 --> 00:22:09.530\nstill provide the IP addresses.\n\n435\n00:22:09.530 --> 00:22:10.610\nBut if I want it to fully switch,\n\n436\n00:22:10.610 --> 00:22:13.560\nthat's where we start doing\nthe state switch over interval.\n\n437\n00:22:13.560 --> 00:22:15.010\nSo we can automate that process.\n\n438\n00:22:15.010 --> 00:22:16.380\nBecause, a lot of times,\nwhat people will do.\n\n439\n00:22:16.380 --> 00:22:20.620\nLet's say we've got this scenario\nwhere I've got the active and\n\n440\n00:22:20.620 --> 00:22:22.600\nthen the hot standby.\n\n441\n00:22:22.600 --> 00:22:26.870\nWhen it fails over, I'll go ahead and\nlet the standby become the primary.\n\n442\n00:22:26.870 --> 00:22:29.840\nWhen I finally rebuild\nthe original one that failed.\n\n443\n00:22:29.840 --> 00:22:32.100\nI'll just add him back as the hot standby.\n\n444\n00:22:33.180 --> 00:22:36.260\nSo now the roles are kind\nof reversed there.\n\n445\n00:22:36.260 --> 00:22:37.600\nDepends again on how you're doing it.\n\n446\n00:22:37.600 --> 00:22:40.810\nIf it's the corporate versus\nbranch office health and\n\n447\n00:22:40.810 --> 00:22:42.880\nspokes, you might not want that.\n\n448\n00:22:42.880 --> 00:22:45.350\nI wanted to switch over to corporate, but\n\n449\n00:22:45.350 --> 00:22:48.830\nas soon as I bring that one bakc at\nthe branch office, I want to switch back.\n\n450\n00:22:48.830 --> 00:22:54.080\nI don't ever want the one at corporate to\nactually assume the primary role for good.\n\n451\n00:22:54.080 --> 00:22:57.650\nI want it to eventually switch\nback to the branch office.\n\n452\n00:22:57.650 --> 00:23:00.320\nMessage authentication,\ndefinitely a good idea here.\n\n453\n00:23:00.320 --> 00:23:03.990\nThis is just setting up a shared secret\nbetween the two servers that are part of\n\n454\n00:23:03.990 --> 00:23:08.030\nthis failover relationship so that they\ncan authenticate each other, right?\n\n455\n00:23:08.030 --> 00:23:12.450\nSo I know that Ronnie's not spinning\nup a DHCP server of his own and\n\n456\n00:23:12.450 --> 00:23:14.960\ntrying to jump in and\ncreate a relationship.\n\n457\n00:23:14.960 --> 00:23:19.270\nWith one of my DHP servers and then maybe\nbring that guy offline so he can take\n\n458\n00:23:19.270 --> 00:23:22.980\nover, and then start passing out bogus\ninformation or redirecting people.\n\n459\n00:23:22.980 --> 00:23:24.017\nSo it's always a good idea.\n\n460\n00:23:24.017 --> 00:23:26.660\nIt's not huge security.\n\n461\n00:23:26.660 --> 00:23:29.670\nBut it at least allows my nodes to\nauthenticate each other, and they know\n\n462\n00:23:29.670 --> 00:23:35.470\nthey're talking with their actual\npartner and not some rogue DHCP server.\n\n463\n00:23:35.470 --> 00:23:39.235\nSo I'll go ahead and\nput a little shared secret in here.\n\n464\n00:23:39.235 --> 00:23:41.769\nI am gonna uncheck that for now.\n\n465\n00:23:41.769 --> 00:23:44.364\nAnd we'll go ahead and click next.\n\n466\n00:23:44.364 --> 00:23:45.734\nAnd then I get my summery.\n\n467\n00:23:45.734 --> 00:23:49.026\n[COUGH] It tells me we're\ngonna be in Hot Standby Mode,\n\n468\n00:23:49.026 --> 00:23:52.685\nthe State Switchover is Disabled,\nMCLT an hour, my part or\n\n469\n00:23:52.685 --> 00:23:57.025\nmy name's there and I can see my\npercentages set up, and what scopes.\n\n470\n00:23:57.025 --> 00:24:00.820\nSo at this point I can either go back and\nfix something I didn't like or\n\n471\n00:24:00.820 --> 00:24:04.235\nwe can click Finish And\nyou'll see it goes through a process.\n\n472\n00:24:04.235 --> 00:24:09.590\nAnd really quick, add scopes on partner\nserver, disable scopes on partner server.\n\n473\n00:24:09.590 --> 00:24:12.240\nWait, what?\nYeah, remember we're doing hot standby so\n\n474\n00:24:12.240 --> 00:24:13.960\nthat guy's not active.\n\n475\n00:24:13.960 --> 00:24:16.740\nHe's got everything but\nhe's in a holding pattern.\n\n476\n00:24:16.740 --> 00:24:19.140\nCreation of failover configuration.\n\n477\n00:24:19.140 --> 00:24:20.770\nOn both partner and the host,\n\n478\n00:24:20.770 --> 00:24:24.630\nactivate the scopes on the partner,\nconfigure failover successful.\n\n479\n00:24:24.630 --> 00:24:25.820\nSo everything looks good.\n\n480\n00:24:25.820 --> 00:24:28.990\nWe'll click close, and\nlet's see if anything's changed.\n\n481\n00:24:28.990 --> 00:24:31.220\nLet's refresh our screen here.\n\n482\n00:24:31.220 --> 00:24:33.699\nAnd you don't see really anything here.\n\n483\n00:24:34.910 --> 00:24:37.820\nIt doesn't look like anything has changed.\n\n484\n00:24:37.820 --> 00:24:40.310\nAll right, let's go over to,\nexcept for this, I guess,\n\n485\n00:24:40.310 --> 00:24:43.240\nout here is the key indicator.\n\n486\n00:24:43.240 --> 00:24:46.180\nYou can see they're now a part\nof a failover relationship and\n\n487\n00:24:46.180 --> 00:24:48.100\nthe name of that failover relationship.\n\n488\n00:24:48.100 --> 00:24:50.750\nSo it's telling me that it is protected.\n\n489\n00:24:50.750 --> 00:24:53.745\nAll right, now let's switch over to server\ntwo and see what's going on over there.\n\n490\n00:24:55.416 --> 00:24:56.620\nSo we got server two.\n\n491\n00:24:56.620 --> 00:25:00.070\nAnd oops, that is server one.\n\n492\n00:25:00.070 --> 00:25:03.840\nLet's try that again,\nwe'll go to server two.\n\n493\n00:25:05.400 --> 00:25:06.330\nAnd, let's see.\n\n494\n00:25:06.330 --> 00:25:07.688\nWe're going to have to refresh.\n\n495\n00:25:09.685 --> 00:25:13.470\nAnd we expand it out,\nand there's the magic.\n\n496\n00:25:13.470 --> 00:25:18.120\nThey're all there waiting or ready to go,\nin the event that one fails.\n\n497\n00:25:18.120 --> 00:25:19.890\nSo let's try, let's fail something over.\n\n498\n00:25:20.920 --> 00:25:21.500\nLet's see.\n\n499\n00:25:21.500 --> 00:25:28.150\nI've got a client up and running, and\nwe will tend to do a false failover here.\n\n500\n00:25:28.150 --> 00:25:30.889\nAnd open a PowerShell,\n[INAUDIBLE] administrative.\n\n501\n00:25:36.067 --> 00:25:40.090\nAnd I should have changed my\nleases a little bit on one of.\n\n502\n00:25:40.090 --> 00:25:41.280\nIn fact let's do that.\n\n503\n00:25:41.280 --> 00:25:43.340\nI say we should.\n\n504\n00:25:43.340 --> 00:25:46.670\nWhy don't we Mike, you've got\nthe computers right in front of you.\n\n505\n00:25:46.670 --> 00:25:49.530\nLet's go to serve one, and that scope.\n\n506\n00:25:49.530 --> 00:25:51.510\nThis is the one he's going to\nbe getting the IP address from.\n\n507\n00:25:51.510 --> 00:25:52.869\nI'm going to pull up the properties.\n\n508\n00:25:54.400 --> 00:25:56.210\nIf I can see the bottom of my window.\n\n509\n00:25:59.717 --> 00:26:02.968\nAnd I'm going to change that\nlease duration to two minutes.\n\n510\n00:26:02.968 --> 00:26:07.890\nWhich is obviously not good for\na production environment.\n\n511\n00:26:09.500 --> 00:26:17.313\nNow I'm going to go to the client And\nwe'll see what we've got here.\n\n512\n00:26:19.635 --> 00:26:20.970\nMake that a little bit bigger.\n\n513\n00:26:20.970 --> 00:26:26.940\nSo if we do an ipconfig right now,\n&gt;&gt; You misspelled ipconfig [LAUGH].\n\n514\n00:26:26.940 --> 00:26:27.810\n&gt;&gt; I did, didn't I?\n\n515\n00:26:27.810 --> 00:26:30.759\nIt helps if you spell that correctly.\n\n516\n00:26:32.360 --> 00:26:33.620\nI'll try that again.\n\n517\n00:26:33.620 --> 00:26:34.710\nThere we go.\n\n518\n00:26:34.710 --> 00:26:35.980\nWe see I've got an IP address.\n\n519\n00:26:35.980 --> 00:26:37.760\nIf I did an IP config all,\n\n520\n00:26:37.760 --> 00:26:43.320\nI can see that I currently get that IP\naddress from 101, which is server one.\n\n521\n00:26:43.320 --> 00:26:45.180\nMy lease is still not the right lease.\n\n522\n00:26:45.180 --> 00:26:48.290\nThis is the one I obtained\na little bit ago, but that's okay.\n\n523\n00:26:48.290 --> 00:26:50.158\nWe can do a release.\n\n524\n00:26:52.794 --> 00:26:56.814\nAnd and ipconfig/renew.\n\n525\n00:26:56.814 --> 00:27:00.380\nAnd we should get an IP address\nback with a two minute lease.\n\n526\n00:27:00.380 --> 00:27:02.980\n&gt;&gt; Now Mike, while we're waiting for\nthis thing to refresh.\n\n527\n00:27:02.980 --> 00:27:06.380\nI noticed that on the one that\nyou said is being the standby,\n\n528\n00:27:06.380 --> 00:27:08.060\nyou didn't really have\nto configure anything.\n\n529\n00:27:08.060 --> 00:27:10.170\nIs that the way that it actually works?\n\n530\n00:27:10.170 --> 00:27:12.000\nThere's no need to\nconfigure the other side.\n\n531\n00:27:12.000 --> 00:27:12.660\n&gt;&gt; Absolutely not.\n\n532\n00:27:12.660 --> 00:27:13.200\n&gt;&gt; All right, cool.\n\n533\n00:27:13.200 --> 00:27:14.268\n&gt;&gt; That's fantastic isn't it?\n\n534\n00:27:14.268 --> 00:27:15.228\n&gt;&gt; [LAUGH] Awesome.\n\n535\n00:27:15.228 --> 00:27:16.920\n&gt;&gt; Because it already has\nall the configurations.\n\n536\n00:27:16.920 --> 00:27:20.410\nIt just replicates that\ninformation over and we're done.\n\n537\n00:27:20.410 --> 00:27:22.050\nSo there, I got a new IP address.\n\n538\n00:27:22.050 --> 00:27:26.450\nLet's check on the status of that.\n\n539\n00:27:26.450 --> 00:27:30.260\nAnd there I can see I've got\na whopping two minute lease.\n\n540\n00:27:30.260 --> 00:27:30.930\nAll right?\n\n541\n00:27:30.930 --> 00:27:37.780\nSo in that two minutes, what I need to do\nIs jump over to server one and kill it.\n\n542\n00:27:39.850 --> 00:27:42.930\nSo we are going to stop our servers.\n\n543\n00:27:47.860 --> 00:27:48.990\nSo we'll let that drop.\n\n544\n00:27:50.300 --> 00:27:55.350\nAnd then we are going to jump\nover to server two Al right.\n\n545\n00:27:55.350 --> 00:28:02.510\nI'm really not going to see anything\nhere until we drop that list.\n\n546\n00:28:02.510 --> 00:28:06.705\nFirst of all see,\nwe should see,that the list is here.\n\n547\n00:28:06.705 --> 00:28:07.215\nRight?\n\n548\n00:28:07.215 --> 00:28:10.405\nBefore I stopped it, as soon as\nI got the lease from server one,\n\n549\n00:28:10.405 --> 00:28:13.045\nthat information was\nreplicated over to server two.\n\n550\n00:28:13.045 --> 00:28:15.775\nSo in the event that he has to take\nover he knows what's going on.\n\n551\n00:28:15.775 --> 00:28:17.835\nIt's like hey,\nwe're working on the same page here.\n\n552\n00:28:17.835 --> 00:28:20.075\nSo it's really cool that\nthey share the information.\n\n553\n00:28:20.075 --> 00:28:23.045\nWe don't have to worry\nabout overlapping scopes.\n\n554\n00:28:23.045 --> 00:28:27.790\nAs far as having two copies of\nthe same scope, very, very good.\n\n555\n00:28:27.790 --> 00:28:28.970\nSo let me go to the client.\n\n556\n00:28:30.740 --> 00:28:31.410\nAnd I'll tell you what.\n\n557\n00:28:31.410 --> 00:28:33.820\nWhile we're waiting for that,\nbecause it'll take a couple minutes,\n\n558\n00:28:33.820 --> 00:28:36.970\nlet me just see what we got so far.\n\n559\n00:28:36.970 --> 00:28:41.710\nIt was done at 48, 24,\nwhich should be in about 20 seconds.\n\n560\n00:28:41.710 --> 00:28:44.540\nSo we're probably trying to\nrenew it in the background.\n\n561\n00:28:44.540 --> 00:28:46.460\nRemember at 50% I'm trying\nto renew that lease.\n\n562\n00:28:46.460 --> 00:28:48.390\nSo we'll just let him go for a second.\n\n563\n00:28:48.390 --> 00:28:51.535\nAnd while we're waiting,\nlet's flip back over to server two.\n\n564\n00:28:51.535 --> 00:28:54.640\nBecause if a couple more things that\nI want to share to round this out.\n\n565\n00:28:54.640 --> 00:28:57.940\nIts just some troubleshooting and really\njust about knowing where to look for\n\n566\n00:28:57.940 --> 00:28:58.880\nyour log files.\n\n567\n00:29:00.070 --> 00:29:04.106\nIf I pull up the properties\nof the server we'll see that.\n\n568\n00:29:04.106 --> 00:29:10.181\nNot there, lets go\n\n569\n00:29:10.181 --> 00:29:15.980\nto There we go.\n\n570\n00:29:15.980 --> 00:29:19.320\nThe properties of IPV four,\non my advanced tab,\n\n571\n00:29:19.320 --> 00:29:25.130\nI can see my audit log file path,\nSQL Windows System 32 DHCP.\n\n572\n00:29:25.130 --> 00:29:28.560\nSo if you're having trouble with DHP,\nyou're trying to figure out what's going\n\n573\n00:29:28.560 --> 00:29:31.380\non, that's one place you\nwanna look is that audit log.\n\n574\n00:29:31.380 --> 00:29:34.460\nYou also have your operational\nlogs in the normal place.\n\n575\n00:29:34.460 --> 00:29:39.420\nIf you go to your event viewer and\nyou expand out the Windows log,\n\n576\n00:29:39.420 --> 00:29:40.890\nnot the standard logs.\n\n577\n00:29:40.890 --> 00:29:41.696\nRight here, let me show you.\n\n578\n00:29:41.696 --> 00:29:47.047\nLets do event viewer\n\n579\n00:29:53.514 --> 00:29:57.500\nAnd in here, we can go to Windows logs.\n\n580\n00:29:57.500 --> 00:30:02.100\nI'm sorry, not Windows logs, application\nservice logs and then Microsoft.\n\n581\n00:30:02.100 --> 00:30:04.210\nJust thinking about it.\n\n582\n00:30:05.580 --> 00:30:08.603\nThere are going to be some in your\napplication log like general lease\n\n583\n00:30:08.603 --> 00:30:09.590\ninformation.\n\n584\n00:30:09.590 --> 00:30:11.280\nThat can show up there.\n\n585\n00:30:11.280 --> 00:30:14.370\nDepending on what you're troubleshooting,\nhow deep the problem might be.\n\n586\n00:30:14.370 --> 00:30:21.350\nWe can go down to windows and\nthen we can find DHCP in our list.\n\n587\n00:30:21.350 --> 00:30:24.870\nThere's my DHP server\nas well as DHP client.\n\n588\n00:30:24.870 --> 00:30:31.080\nAnd under here, I've got my,\nwhat's the one I'm looking for?\n\n589\n00:30:31.080 --> 00:30:32.120\nMy operational log.\n\n590\n00:30:32.120 --> 00:30:36.410\nAnd this is going to show me,\nyou can see scoped in dot 000 for\n\n591\n00:30:36.410 --> 00:30:38.730\nIPP four is activated by lab Mike.\n\n592\n00:30:38.730 --> 00:30:40.950\nSo that was when I first\nbuilt that scope up.\n\n593\n00:30:40.950 --> 00:30:43.640\nHere's where I set up\nthe failover relationship.\n\n594\n00:30:43.640 --> 00:30:47.020\nSo this operational log is\nmore about the backend stuff.\n\n595\n00:30:47.020 --> 00:30:49.630\nNot so much the current leases and\nthe renewals.\n\n596\n00:30:49.630 --> 00:30:51.900\nThat's going to be in the client log.\n\n597\n00:30:51.900 --> 00:30:54.260\nAlso some log information\non the client itself.\n\n598\n00:30:54.260 --> 00:30:57.990\nYou want to check their application\nlog to see if they have any\n\n599\n00:30:57.990 --> 00:31:00.010\npertinent information.\n\n600\n00:31:00.010 --> 00:31:03.600\nAll right, in the meantime let's\ngo back over to our client.\n\n601\n00:31:03.600 --> 00:31:06.120\nWe'll do an ipconfig all.\n\n602\n00:31:07.220 --> 00:31:09.490\nAnd notice who my DACP server is now.\n\n603\n00:31:09.490 --> 00:31:13.190\nIt is 102, which is DACP server two.\n\n604\n00:31:13.190 --> 00:31:16.080\nSo without me doing anything, all right?\n\n605\n00:31:16.080 --> 00:31:18.680\nThe client tried to renew his lease.\n\n606\n00:31:18.680 --> 00:31:22.030\nCould not contact the original DHP server.\n\n607\n00:31:22.030 --> 00:31:23.640\nDid a discover.\n\n608\n00:31:23.640 --> 00:31:25.970\nFound the other DHCP server.\n\n609\n00:31:25.970 --> 00:31:29.900\nThat DHCP server says wait, you've\nalready got a lease, or you had a lease.\n\n610\n00:31:29.900 --> 00:31:33.190\nSo it was able to renew the lease\nwith the same IP address\n\n611\n00:31:33.190 --> 00:31:34.940\nlike nothing ever happened.\n\n612\n00:31:34.940 --> 00:31:37.370\nJust change owner of the record there and\nwe're good to go ahead.\n\n613\n00:31:37.370 --> 00:31:38.470\nAnd that's the key, right?\n\n614\n00:31:38.470 --> 00:31:40.220\nI didn't have to change IP addresses.\n\n615\n00:31:40.220 --> 00:31:44.740\nI was able to basically renew with the\nsame IP address without doing anything.\n\n616\n00:31:44.740 --> 00:31:47.220\nAnd that's how we set up DHCP failover.\n\n617\n00:31:47.220 --> 00:31:47.860\n&gt;&gt; Alright, Mike.\n\n618\n00:31:47.860 --> 00:31:49.090\nWell thank you again for\n\n619\n00:31:49.090 --> 00:31:53.800\nhelping us to actually see this idea\nof using something like DHCP fail over.\n\n620\n00:31:53.800 --> 00:31:57.310\nAnd to show up the ease and\nset up the configuration of it.\n\n621\n00:31:57.310 --> 00:32:01.310\nAs well as a little bit of basic\ntrouble shooting there and verifying,\n\n622\n00:32:01.310 --> 00:32:02.250\neverything is up.\n\n623\n00:32:02.250 --> 00:32:06.330\nAnd we need it to be to\nremain functional here.\n\n624\n00:32:06.330 --> 00:32:09.920\nNow, that's a great place for\nus to also end this episode as well.\n\n625\n00:32:09.920 --> 00:32:14.300\nSo, signing off for ITProTV,\nI've been your host Ronnie Wong.\n\n626\n00:32:14.300 --> 00:32:15.270\n&gt;&gt; And I'm Mike Rodrick.\n\n627\n00:32:15.270 --> 00:32:20.482\n&gt;&gt; Stay tuned right here for\nmore Networking with Windows Server 2016.\n\n628\n00:32:20.482 --> 00:32:26.473\n[MUSIC]\n\n629\n00:32:26.473 --> 00:32:29.805\nThank you for watching ITProTV.\n\n",
          "vimeoId": "194040461"
        }
      ],
      "title": "Implementing DHCP"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Adam and Cherokee introduce IPv6. They share a conversion table to help give provide some insight into the address composition. They also discuss ways to shorten an IPv6 address with leading zero compression and truncation in addition to the basics.",
          "length": "2191",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-1-implementing_ipv6-050917-PGM.00_36_16_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-1-implementing_ipv6-050917-PGM.00_36_16_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-1-implementing_ipv6-050917-PGM.00_36_16_28.Still001-sm.jpg",
          "title": "Implementing IPv6",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:00.974\nWelcome to ITProTV.\n\n2\n00:00:00.974 --> 00:00:08.197\nI'm your host Don Pezet\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:08.197 --> 00:00:11.723\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.723 --> 00:00:15.578\n&gt;&gt; Thank you for joining the Networking\nwith Windows Server 2016 series.\n\n5\n00:00:15.578 --> 00:00:17.702\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.702 --> 00:00:23.810\nIn this episode, we're gonna be focusing\non all things IPv6 and implementing that.\n\n7\n00:00:23.810 --> 00:00:26.470\nWith us today, back in studios\nwe have Mister Adam Gordon.\n\n8\n00:00:26.470 --> 00:00:28.370\nThank you for joining us today Adam.\n\n9\n00:00:28.370 --> 00:00:29.730\n&gt;&gt; Hello everybody, hello Cherokee.\n\n10\n00:00:29.730 --> 00:00:31.230\n&gt;&gt; Hi.\n&gt;&gt; Always a pleasure to spend time with\n\n11\n00:00:31.230 --> 00:00:35.890\nyou and all of our studio, and\nnon studio participants here at ITPro.TV.\n\n12\n00:00:35.890 --> 00:00:38.420\nWe're gonna be spending some time talking\n\n13\n00:00:38.420 --> 00:00:41.460\nabout IPv6 as Cherokee discussed\nwith you in the intro.\n\n14\n00:00:41.460 --> 00:00:44.530\nWe're actually gonna step back and\nlook at it from a high level,\n\n15\n00:00:44.530 --> 00:00:47.980\nmuch like we did in our prior episodes,\nin our overview for IPv4.\n\n16\n00:00:47.980 --> 00:00:51.842\nWhere we went through and\nreally talked about some of the rules, and\n\n17\n00:00:51.842 --> 00:00:56.247\nthe thought process behind how IPv4,\nIP addresses and networks are set up,\n\n18\n00:00:56.247 --> 00:00:57.830\nhow they're configured.\n\n19\n00:00:57.830 --> 00:01:00.467\nReminding ourselves for\nthose of you that are familiar with it.\n\n20\n00:01:00.467 --> 00:01:03.771\nHow it's done for perhaps some of you\nthat are a little bit newer to this\n\n21\n00:01:03.771 --> 00:01:05.970\nwhole thought process and discussion.\n\n22\n00:01:05.970 --> 00:01:08.060\nHopefully giving you some\ngeneral background and\n\n23\n00:01:08.060 --> 00:01:09.490\ninformation that proved to valuable.\n\n24\n00:01:09.490 --> 00:01:11.880\nWe're gonna attempt to do\nthe same thing here with IPv6.\n\n25\n00:01:11.880 --> 00:01:14.250\nAnd of course,\nas always you will let us know,\n\n26\n00:01:14.250 --> 00:01:17.050\njust how successful we have\nbeen by telling us whether or\n\n27\n00:01:17.050 --> 00:01:19.860\nnot this episode makes sense for\nyou, or any or all of our episodes.\n\n28\n00:01:19.860 --> 00:01:24.232\nDo encourage you, especially since we're\nabout to jump into something that maybe\n\n29\n00:01:24.232 --> 00:01:27.927\nnew for a lot of you, to go back and\nmaybe review those IPv4 episodes.\n\n30\n00:01:27.927 --> 00:01:30.497\nJust make sure you got all the networking,\nthe language,\n\n31\n00:01:30.497 --> 00:01:33.720\nthe syntax the thought process,\nthe rules straight in your head.\n\n32\n00:01:33.720 --> 00:01:36.600\nSo as we turn your world\nupside down here in IPv6, and\n\n33\n00:01:36.600 --> 00:01:42.630\nexpand your horizons literally and\nfiguratively by expanding the IP universe.\n\n34\n00:01:42.630 --> 00:01:45.466\nThings make sense to you, and you're not\nget lost because your not quite clear on\n\n35\n00:01:45.466 --> 00:01:46.728\nwhat we're doing and where we are.\n\n36\n00:01:46.728 --> 00:01:51.154\nWe are gonna refer to many\nthings that you know from IPv4.\n\n37\n00:01:51.154 --> 00:01:54.370\nBut we're gonna give them new names,\nor extend their functionality.\n\n38\n00:01:54.370 --> 00:01:57.953\nWe'll talk for instance about addresses,\nbut we'll give some of them new names.\n\n39\n00:01:57.953 --> 00:02:01.422\nWe'll talk about link local,\nwe'll talk about unicast addresses,\n\n40\n00:02:01.422 --> 00:02:03.380\nwe'll talk about any cast addresses.\n\n41\n00:02:03.380 --> 00:02:05.630\nAnd those are address types\nthat are used in IPv6,\n\n42\n00:02:05.630 --> 00:02:08.550\nand they do map back to\nwhat we know in IPv4.\n\n43\n00:02:08.550 --> 00:02:10.680\nBut we do wanna make\nsure we understand that,\n\n44\n00:02:10.680 --> 00:02:13.300\nand that you have a reference point for\nthat as we draw them forward.\n\n45\n00:02:13.300 --> 00:02:16.960\nSo, just reminding you that there's always\nthe opportunity to go back and review.\n\n46\n00:02:16.960 --> 00:02:19.970\nTake advantage of that information,\nuse it, and pay it forward,\n\n47\n00:02:19.970 --> 00:02:22.630\nif you will, to better understand\nwhat we're gonna talk about here.\n\n48\n00:02:22.630 --> 00:02:25.170\nAll right, so now that I've done that,\nCherokee's gonna talk.\n\n49\n00:02:25.170 --> 00:02:28.020\nNo, I'm only kidding, she's not gonna\ntalk, she gets all nervous when I do that.\n\n50\n00:02:28.020 --> 00:02:29.470\nWhat am I gonna talk about, IPv6, right?\n\n51\n00:02:29.470 --> 00:02:31.340\n&gt;&gt; Yeah.\n&gt;&gt; So you are gonna help you though,\n\n52\n00:02:31.340 --> 00:02:33.490\nif you don't mind,\njust by setting the stage, if you will.\n\n53\n00:02:33.490 --> 00:02:34.900\n&gt;&gt; Sure.\nBefore we go in.\n\n54\n00:02:34.900 --> 00:02:35.630\nI do have some notes.\n\n55\n00:02:35.630 --> 00:02:37.010\nWe'll take a look at\nsome stuff in a minute.\n\n56\n00:02:37.010 --> 00:02:40.358\nJust about the structure of the IPv6,\nIP address.\n\n57\n00:02:40.358 --> 00:02:44.820\nBut before we do that you had mentioned\nsomething in some of our last episodes.\n\n58\n00:02:44.820 --> 00:02:48.826\nWhen I was struggling and fumbling over\nmy words, try to figure out after a full-\n\n59\n00:02:48.826 --> 00:02:49.426\n&gt;&gt; [LAUGH]\n\n60\n00:02:49.426 --> 00:02:51.464\n&gt;&gt; Set of episodes of shooting DHCP, and\n\n61\n00:02:51.464 --> 00:02:53.520\ncramming that all into my head.\n\n62\n00:02:53.520 --> 00:02:55.080\nHow we could refine and\n\n63\n00:02:55.080 --> 00:02:59.710\ndiscuss the idea of how we break\ndown the IP address blocks in IPv6?\n\n64\n00:02:59.710 --> 00:03:03.140\nAnd I like what you said a lot, cuz you\nhelp me by throwing out the idea the fact\n\n65\n00:03:03.140 --> 00:03:05.430\nthat it's a hexadecimal\nbased numbering system.\n\n66\n00:03:05.430 --> 00:03:08.530\nA base 16 hexadecimal numbering system.\n\n67\n00:03:08.530 --> 00:03:10.240\nAnd so let's talk about that for\na minute, right?\n\n68\n00:03:10.240 --> 00:03:12.810\nBecause, that actually is\na really important concept\n\n69\n00:03:12.810 --> 00:03:14.640\nwith regards to how we start\nour discussions about IPv6.\n\n70\n00:03:15.690 --> 00:03:17.870\nNothing complicated I promise, I promise.\n\n71\n00:03:17.870 --> 00:03:20.060\nDon't have that scared look in your eye.\n\n72\n00:03:20.060 --> 00:03:21.220\nBut I know you know about IPv6.\n\n73\n00:03:21.220 --> 00:03:25.190\nI know that this is something you\nare not only knowledgeable about, but\n\n74\n00:03:25.190 --> 00:03:27.060\nyou will spend time thinking about,\n\n75\n00:03:27.060 --> 00:03:29.730\ndiscussing, doing your Cisco\nstuff you learned all about.\n\n76\n00:03:29.730 --> 00:03:32.095\nIt's very important stuff, and\nI know you understand the value of it.\n\n77\n00:03:32.095 --> 00:03:34.407\nSo when we think about IPv6, and\n\n78\n00:03:34.407 --> 00:03:40.720\nwe think about taking that IPv4 address\nfrom 32 bits out to 128 bits, right?\n\n79\n00:03:40.720 --> 00:03:43.300\nExtending it,\nmaking it bigger as an address space.\n\n80\n00:03:43.300 --> 00:03:46.140\nAnd also, changing the way we come\nup with the thought process around\n\n81\n00:03:46.140 --> 00:03:47.380\nstructuring the address.\n\n82\n00:03:47.380 --> 00:03:51.210\nAnd we use the idea of the base\n16 hexadecimal system.\n\n83\n00:03:51.210 --> 00:03:55.160\nWouldn't it be great if we could do\nsomething like this as a comparison to\n\n84\n00:03:55.160 --> 00:03:58.202\nshow people what we're talking about and\nwhere we come from, where we're going to?\n\n85\n00:03:58.202 --> 00:04:00.530\nYou're gonna tell me,\nwhether or not you think.\n\n86\n00:04:00.530 --> 00:04:01.150\nLet's try that again.\n\n87\n00:04:01.150 --> 00:04:02.730\nThe magic finger's not working.\n\n88\n00:04:02.730 --> 00:04:03.860\nThere we go, okay\n&gt;&gt; You have to charge it.\n\n89\n00:04:03.860 --> 00:04:08.480\n&gt;&gt; We have a latency problem today on our\nmagic finger interaction network here.\n\n90\n00:04:08.480 --> 00:04:10.010\nSo something like this.\n\n91\n00:04:10.010 --> 00:04:11.580\nJust as a conversion chart.\n\n92\n00:04:11.580 --> 00:04:13.208\n&gt;&gt; Yeah.\n&gt;&gt; Wouldn't this be a good idea to have so\n\n93\n00:04:13.208 --> 00:04:16.084\nthat we can think about, not only\ndiscussing where we came from from\n\n94\n00:04:16.084 --> 00:04:18.370\na decimal perspective,\nbut our binary equivalent.\n\n95\n00:04:18.370 --> 00:04:20.730\nBut then also looking at a hex equivalent.\n\n96\n00:04:20.730 --> 00:04:23.680\nBecause as you pointed out,\nit is a hexadecimal based system, right?\n\n97\n00:04:23.680 --> 00:04:26.260\n&gt;&gt; Yeah, when you start using\nletters to describe numbers,\n\n98\n00:04:26.260 --> 00:04:27.510\nit can get confusing to people.\n\n99\n00:04:27.510 --> 00:04:30.060\nSo providing that visual aid,\nat least for me, is a plus.\n\n100\n00:04:31.130 --> 00:04:32.760\n&gt;&gt; So something like this would be good?\n\n101\n00:04:32.760 --> 00:04:33.825\n&gt;&gt; It would be very valuable.\n\n102\n00:04:33.825 --> 00:04:36.490\n&gt;&gt; Awesome,so I'm glad we're gonna\nbe able to provide this to you.\n\n103\n00:04:36.490 --> 00:04:37.930\nAnd it is as always in the show notes.\n\n104\n00:04:37.930 --> 00:04:39.049\nYou will have an opportunity\nto get it then.\n\n105\n00:04:39.049 --> 00:04:41.390\nTake advantage of it,\ndownload it, if you will.\n\n106\n00:04:41.390 --> 00:04:43.331\nIt is in Excel and\nI put some of these charts in Excel.\n\n107\n00:04:43.331 --> 00:04:46.824\nAnd these episodes around\nthe Networking stuff in particular.\n\n108\n00:04:46.824 --> 00:04:49.434\nJust because I think that way's easier for\nyou to work with,\n\n109\n00:04:49.434 --> 00:04:51.180\nyou want to be able to modify them.\n\n110\n00:04:51.180 --> 00:04:54.210\nMake notes, study with them,\nyou know copy them,\n\n111\n00:04:54.210 --> 00:04:56.840\nmake another tab and then maybe\nplay around with them a little bit.\n\n112\n00:04:56.840 --> 00:04:59.680\nIt's easier to do that than if it's\nlike work table, or a notepad,\n\n113\n00:04:59.680 --> 00:05:00.760\nor something like that.\n\n114\n00:05:00.760 --> 00:05:01.878\nSomething that works for everybody.\n\n115\n00:05:01.878 --> 00:05:06.012\nBut you could see, we do have\na basic standard 16 thought process,\n\n116\n00:05:06.012 --> 00:05:11.163\nin terms of letters and numbers here,\nright, decimal from 0 to 15, 16 places.\n\n117\n00:05:11.163 --> 00:05:13.668\nWe have the binary equivalent\nthat are given to you here.\n\n118\n00:05:13.668 --> 00:05:17.645\nAnd we have the hex decimal equivalents,\nwe do 0 through 9 which already exist,\n\n119\n00:05:17.645 --> 00:05:18.633\nby the way, right?\n\n120\n00:05:18.633 --> 00:05:21.924\nLogically but then we got to 10,\nwe have to flip over and\n\n121\n00:05:21.924 --> 00:05:24.058\nwe start using the letters, right?\n\n122\n00:05:24.058 --> 00:05:24.723\nA through F,\n\n123\n00:05:24.723 --> 00:05:28.440\nto augment our ability to be able to\nspecify what our values are gonna be.\n\n124\n00:05:28.440 --> 00:05:32.120\nAnd this is where we wind up\ngetting our IPv6 addresses that\n\n125\n00:05:32.120 --> 00:05:34.030\nlook a little strange\nto us in the beginning.\n\n126\n00:05:34.030 --> 00:05:36.940\nBut ultimately as we think about them,\nwe realize that they're blocks of hex,\n\n127\n00:05:36.940 --> 00:05:39.720\nand then we're able to start\ninteracting with them that way.\n\n128\n00:05:39.720 --> 00:05:41.270\nThey make a lot more sense to us.\n\n129\n00:05:41.270 --> 00:05:45.400\nAnd so, hopefully, we'll come back\nto this later, but hopefully,\n\n130\n00:05:45.400 --> 00:05:48.275\nsomething like this also\nwill make sense to you.\n\n131\n00:05:48.275 --> 00:05:52.638\nI gave you a type of address,\nI gave you an IPv4 address equivalent, or\n\n132\n00:05:52.638 --> 00:05:55.150\nan IPv6 address equivalent here.\n\n133\n00:05:55.150 --> 00:05:57.750\nAnd the thing I'm talking about,\nis something like this for instance,\n\n134\n00:05:57.750 --> 00:06:02.740\nwhen we look at, our auto configured\nright here, address in an IPv4,\n\n135\n00:06:02.740 --> 00:06:05.150\nthat would our HIPAA-based address, right?\n\n136\n00:06:05.150 --> 00:06:06.500\nWe've talked about this before.\n\n137\n00:06:06.500 --> 00:06:11.317\nBut you'll see the concept also\nwith multi-casting of what a hex\n\n138\n00:06:11.317 --> 00:06:12.727\nblock looks like.\n\n139\n00:06:12.727 --> 00:06:17.016\nFE80 or FF00 is gonna be one of\nthe equivalent blocks in hex, for IPv6,\n\n140\n00:06:17.016 --> 00:06:17.894\nas you can see.\n\n141\n00:06:17.894 --> 00:06:21.994\nAnd so, being able to figure out\nthe logic of that, track through that,\n\n142\n00:06:21.994 --> 00:06:26.710\nand understand that, is what we're gonna\nfocus on and start talking about here.\n\n143\n00:06:26.710 --> 00:06:29.910\nSo, to that end, just some notes\nto help us go through this.\n\n144\n00:06:29.910 --> 00:06:30.644\nWe go full strings,\n\n145\n00:06:30.644 --> 00:06:33.760\nI'm gonna block out half of what we're\ntalking about as we scroll down here.\n\n146\n00:06:33.760 --> 00:06:37.900\nSo we did talk about the idea\nthat we do have this idea of\n\n147\n00:06:37.900 --> 00:06:40.330\nusing a hex based system letters and\nnumbers.\n\n148\n00:06:40.330 --> 00:06:42.200\nWe have 0 through 9 for our first 10.\n\n149\n00:06:42.200 --> 00:06:45.980\nWe then add our six new symbols for\nhex, a through f.\n\n150\n00:06:45.980 --> 00:06:50.300\nSo as a result, we get 128 bit\nIPv6 address as we talked about.\n\n151\n00:06:50.300 --> 00:06:52.531\nAnd in binary, and\nI have to put this up on the screen,\n\n152\n00:06:52.531 --> 00:06:54.377\ncuz I'm not gonna recite all this, right?\n\n153\n00:06:54.377 --> 00:06:58.000\nIt looks like all this, and by the way\nit would be one continuous stream.\n\n154\n00:06:58.000 --> 00:07:00.100\nImpossible to do that or\nelse it'll make the font so small,\n\n155\n00:07:00.100 --> 00:07:01.980\nthat you wouldn't be able to see anything.\n\n156\n00:07:01.980 --> 00:07:06.908\nRight, and so you can see that we\ndo have one, two, three, four,\n\n157\n00:07:06.908 --> 00:07:10.410\nfive, six, seven, eight blocks there.\n\n158\n00:07:10.410 --> 00:07:13.690\nRight of our binary equivalent for\nan IPv6 address.\n\n159\n00:07:13.690 --> 00:07:17.900\nThe conversion chart is the Excel\nspreadsheet I was just showing you,\n\n160\n00:07:17.900 --> 00:07:19.400\nit helps us to understand that.\n\n161\n00:07:19.400 --> 00:07:21.750\nWe convert that into hex using that chart.\n\n162\n00:07:21.750 --> 00:07:24.969\nAnd I'm gonna show you just the way\nwe would do this logically,\n\n163\n00:07:24.969 --> 00:07:28.065\nin a minute we will go back and\nwe'll refer to the chart here,\n\n164\n00:07:28.065 --> 00:07:30.945\nwere gonna chunk essentially\nthis into a block of four.\n\n165\n00:07:30.945 --> 00:07:34.400\nWe're gonna look at our chart,\nlook for the equivalent, and\n\n166\n00:07:34.400 --> 00:07:37.929\nthen look up essentially\nthe reference whatever that will be.\n\n167\n00:07:37.929 --> 00:07:39.630\nAnd then we'll start mapping this out.\n\n168\n00:07:39.630 --> 00:07:45.810\nAnd so if we took for instance this\nright here, 0010 as our first block.\n\n169\n00:07:45.810 --> 00:07:47.875\nAnd if we go over here to our spreadsheet,\n\n170\n00:07:47.875 --> 00:07:50.707\nlet's just come back over\nhere to our conversion chart.\n\n171\n00:07:50.707 --> 00:07:53.727\nAnd what I will do is the following,\n\n172\n00:07:53.727 --> 00:07:58.071\njust minimize this here,\nso we can see it this way.\n\n173\n00:07:58.071 --> 00:08:00.217\nGive me just a second just to go down.\n\n174\n00:08:00.217 --> 00:08:06.044\nIf you look at 0010, and\nwe look for 0010 right here,\n\n175\n00:08:06.044 --> 00:08:10.910\nwe see that as the hex equivalent of 2,\nright?\n\n176\n00:08:10.910 --> 00:08:14.660\nAnd so if we start to translate\nthis address, and by the way if\n\n177\n00:08:14.660 --> 00:08:18.890\nI just do it right here, if I could\njust kind of get it to the right size so\n\n178\n00:08:18.890 --> 00:08:23.760\nI can block it, let me just do that, and\nsee if I can then hold on half a second.\n\n179\n00:08:23.760 --> 00:08:28.920\nThis is all about the mechanics and\nmathematics of managing screen area here.\n\n180\n00:08:28.920 --> 00:08:30.826\nLet me scroll down this way and do this.\n\n181\n00:08:30.826 --> 00:08:34.695\nI just want to try to show it to you\nby blocking it off this way, but\n\n182\n00:08:34.695 --> 00:08:37.905\nalso having the address right\ndown here at the bottom.\n\n183\n00:08:37.905 --> 00:08:40.895\nJust so we can kind of see both.\n\n184\n00:08:40.895 --> 00:08:42.685\nAnd so when I do this 0010, right?\n\n185\n00:08:42.685 --> 00:08:47.160\nConverted over to hex equivalent to,\nyou'll see that becomes the first item.\n\n186\n00:08:47.160 --> 00:08:52.060\nRight there in my block for\nthe first part of the first four digits or\n\n187\n00:08:52.060 --> 00:08:56.480\nalphanumeric equivalents that are entered\ninto the first part of my IPv6 address.\n\n188\n00:08:56.480 --> 00:09:02.080\nAnd literally, I would walk through that\nstream of binary bits four block items\n\n189\n00:09:02.080 --> 00:09:07.080\nat a time or four bits at a time, chunking\nas I go, converting back to the chart and\n\n190\n00:09:07.080 --> 00:09:10.460\ndoing my lookup and\nthen coming up with my equivalent.\n\n191\n00:09:10.460 --> 00:09:14.060\nNow do you want to do this manually or\ndo you want to do this and\n\n192\n00:09:14.060 --> 00:09:16.160\nhave the system do it for you?\n\n193\n00:09:16.160 --> 00:09:20.090\nClearly, we could sit here and we\nliterally could walk through this entire\n\n194\n00:09:20.090 --> 00:09:24.370\nprocess and come up with that IP\naddress right down here at the bottom.\n\n195\n00:09:24.370 --> 00:09:28.600\nAnd that is going to be the equivalent\ngoing through and actually converting.\n\n196\n00:09:28.600 --> 00:09:31.650\nOr taking a look at how\nto convert every set or\n\n197\n00:09:31.650 --> 00:09:34.755\nblock of 4 bits here as we go\nthrough all the way through.\n\n198\n00:09:34.755 --> 00:09:37.555\nBut do you really want to do that before\nwe get to the question you wanted to\n\n199\n00:09:37.555 --> 00:09:38.335\nask, right?\n\n200\n00:09:38.335 --> 00:09:42.635\nUltimately, clearly, the answer is\nprobably not on a regular basis, right?\n\n201\n00:09:42.635 --> 00:09:46.230\nBut is it important to understand\nthe logic of how we would do it?\n\n202\n00:09:46.230 --> 00:09:50.400\nIt's important to understand the way it\ncan be done so that as we look at and\n\n203\n00:09:50.400 --> 00:09:53.100\nIP bit block and we look at, ultimately,\n\n204\n00:09:53.100 --> 00:09:55.920\nthe IP address, we could at least\nget a sense of where it comes from.\n\n205\n00:09:55.920 --> 00:09:58.760\nAnd it's important to have a sense\nof how this is done, right?\n\n206\n00:09:58.760 --> 00:10:02.210\nEven if we're not going to engage in\ndoing this on a regular basis, right?\n\n207\n00:10:02.210 --> 00:10:04.930\n&gt;&gt; Yeah no I was just going to\nsay it's very cumbersome and\n\n208\n00:10:04.930 --> 00:10:06.460\ntedious to go a head and\ntype all that out.\n\n209\n00:10:06.460 --> 00:10:09.760\nSo I was just wondering even with\nour converted version there's got\n\n210\n00:10:09.760 --> 00:10:10.670\nto be a better way, Adam?\n\n211\n00:10:11.720 --> 00:10:14.700\n&gt;&gt; Well, so if we go back to\nfull screen for it we can see,\n\n212\n00:10:14.700 --> 00:10:17.460\nso I do say this is a pretty\nlong address right.\n\n213\n00:10:17.460 --> 00:10:20.650\nI wonder if we could shorten that up\nany and so maybe there is some, or\n\n214\n00:10:20.650 --> 00:10:24.270\nare some rules or\nshort hand items that we can use, right?\n\n215\n00:10:24.270 --> 00:10:25.140\nSo let's take a look at that.\n\n216\n00:10:25.140 --> 00:10:28.540\nBecause Cherokee has a great point, which\nis it's shorter than the binary, right.\n\n217\n00:10:28.540 --> 00:10:31.630\nI mean when we do reduce it down\nultimately to our address string, and\n\n218\n00:10:31.630 --> 00:10:35.560\nthis is what our IPv6 address would\nlook like from that binary strain.\n\n219\n00:10:35.560 --> 00:10:37.140\nIt is going to ultimately be that.\n\n220\n00:10:37.140 --> 00:10:40.200\nBut even when we get to that\nboy that's still a mouthful or\n\n221\n00:10:40.200 --> 00:10:41.570\na handful in this case right?\n\n222\n00:10:41.570 --> 00:10:43.980\nOr a finger full to have to type out and\nactually deal with.\n\n223\n00:10:43.980 --> 00:10:45.140\nAnd so there is a better way right?\n\n224\n00:10:45.140 --> 00:10:46.880\nUltimately there are some shortcuts.\n\n225\n00:10:46.880 --> 00:10:50.150\nSome rules that we can leverage,\nhopefully if we remember what they are and\n\n226\n00:10:50.150 --> 00:10:52.130\nwe know of course, what they aren't.\n\n227\n00:10:52.130 --> 00:10:53.790\nEven if you don't know, we'll tell you, so\n\n228\n00:10:53.790 --> 00:10:55.620\nyou will know by the time\nwe're done talking.\n\n229\n00:10:55.620 --> 00:10:56.900\nBut you can see them on the screen.\n\n230\n00:10:56.900 --> 00:11:00.110\nWe are going to give you some\nopportunities here to condense and\n\n231\n00:11:00.110 --> 00:11:01.460\nmake life a little easier.\n\n232\n00:11:01.460 --> 00:11:02.980\nAnd there are some things that stand out.\n\n233\n00:11:02.980 --> 00:11:03.790\nFor instance,\n\n234\n00:11:03.790 --> 00:11:08.980\nwe do have two groups of blocks right here\nthat are identical for instance, right?\n\n235\n00:11:08.980 --> 00:11:11.680\nThat maybe something we can look at and\nperhaps take advantage of.\n\n236\n00:11:11.680 --> 00:11:14.040\nWe're going to talk\nabout things like that.\n\n237\n00:11:14.040 --> 00:11:17.670\nWe're also going to talk about this\nidea of leading zeroes, right?\n\n238\n00:11:17.670 --> 00:11:19.370\nAnd whether or\nnot we can do some with that.\n\n239\n00:11:19.370 --> 00:11:21.280\nWe'll start with the leading zero concept,\nbut\n\n240\n00:11:21.280 --> 00:11:22.580\nthen we'll go back to this idea of two or\n\n241\n00:11:22.580 --> 00:11:26.300\nmore consecutive blocks that are going to\nhave those zeros and what we do with them.\n\n242\n00:11:26.300 --> 00:11:30.796\nSo let's start here, rule number one,\ndiscarding leading zeros.\n\n243\n00:11:30.796 --> 00:11:34.170\nThis is going to help us to have\na sense to what we can do and\n\n244\n00:11:34.170 --> 00:11:37.290\nso you'll see here in block number five,\nand if we're numbering,\n\n245\n00:11:37.290 --> 00:11:39.150\njust to be clear, left to right, right.\n\n246\n00:11:39.150 --> 00:11:42.610\nSo block one, block two,\nblock three, block four, block five.\n\n247\n00:11:42.610 --> 00:11:44.860\nIf you look at the original address,\n\n248\n00:11:44.860 --> 00:11:47.390\nI didn't really put them\nexactly over each other, but\n\n249\n00:11:47.390 --> 00:11:52.840\nthey're fairly close if I do this probably\nget them to line up just about right.\n\n250\n00:11:52.840 --> 00:11:56.230\nNow we can see them a little bit easier\nand kind of keep the blocks lined up.\n\n251\n00:11:56.230 --> 00:11:59.320\nAnd when we think about block one,\nblock two, block three, block four,\n\n252\n00:11:59.320 --> 00:12:04.260\nblock five, leading zeroes right here\nwhat we're doing is we're truncating.\n\n253\n00:12:04.260 --> 00:12:06.200\nEssentially we're removing\nthose leading zeroes.\n\n254\n00:12:06.200 --> 00:12:10.769\nYou can see the effect of that right down\nhere where we still have the six and\n\n255\n00:12:10.769 --> 00:12:13.940\nthe three in block five, but\nweve removed the double zeroes,\n\n256\n00:12:13.940 --> 00:12:18.030\nthat are the leading zeroes and just\nsimply removed them out of the address.\n\n257\n00:12:18.030 --> 00:12:19.540\nAnd by doing that and\n\n258\n00:12:19.540 --> 00:12:22.620\nthen reminding ourselves, because we\nhave built-in logic that says, hey,\n\n259\n00:12:22.620 --> 00:12:28.080\nwhen we see a block that is not fully\ninstantiated, right, with all four values.\n\n260\n00:12:28.080 --> 00:12:30.430\nThat must mean that we\nhad leading zeros and\n\n261\n00:12:30.430 --> 00:12:33.610\nsince we've removed them, we know we\njust have to put them back when we use\n\n262\n00:12:33.610 --> 00:12:37.830\nthe address where the logic is that\nthe stack will translate that for us.\n\n263\n00:12:37.830 --> 00:12:39.670\nAnd so we know that that's the case.\n\n264\n00:12:39.670 --> 00:12:45.570\nSo when we see a truncated block without\nfully instantiated four digits there,\n\n265\n00:12:45.570 --> 00:12:49.160\nwhatever they would be if we see maybe two\nthen we know we had leading zeros, right?\n\n266\n00:12:49.160 --> 00:12:51.010\nAnd we know that we could\nsimply remove those and\n\n267\n00:12:51.010 --> 00:12:52.260\nthat that's going to be a shorthand.\n\n268\n00:12:52.260 --> 00:12:55.640\nSo we do see that and\nwe can see that we emit those there.\n\n269\n00:12:55.640 --> 00:12:56.720\nWhat about rule number two?\n\n270\n00:12:56.720 --> 00:12:59.690\nIf two more blocks have\nconsecutive zeroes,\n\n271\n00:12:59.690 --> 00:13:03.440\nwell I did point that out blocks six and\nseven right up here,\n\n272\n00:13:03.440 --> 00:13:06.960\nright we can omit them all and\nreplace them with the double colon sign.\n\n273\n00:13:06.960 --> 00:13:12.080\nSo you'll see that a further truncation\ngetting rid of block six and seven right\n\n274\n00:13:12.080 --> 00:13:18.190\nhere and allowing us to simply specify\ntwo colons back to back essentially.\n\n275\n00:13:18.190 --> 00:13:19.890\nWe talked about deduping at some point.\n\n276\n00:13:19.890 --> 00:13:21.760\nYou and I were chatting about that,\nCherokee.\n\n277\n00:13:21.760 --> 00:13:24.600\nAnd the idea of essentially\ndeduping the address here is what\n\n278\n00:13:24.600 --> 00:13:27.220\nwe're doing by removing\nthose consecutive blocks.\n\n279\n00:13:27.220 --> 00:13:30.970\nBut as I point out here right below,\nconsecutive blocks of zeroes can\n\n280\n00:13:30.970 --> 00:13:34.300\nbe replaced only once within the address,\nright?\n\n281\n00:13:34.300 --> 00:13:38.120\nSo we just have to be aware of that and\nunderstand that because if we had\n\n282\n00:13:39.150 --> 00:13:43.870\nadditional blocks of zeroes, they could\nbe shrunk down to a single zero block,\n\n283\n00:13:43.870 --> 00:13:48.180\nyou'll see right over here, we actually\nhave additional blocks to zeros.\n\n284\n00:13:48.180 --> 00:13:53.230\nThey're not going to be consecutive, you\nknow they are jumped over in other words.\n\n285\n00:13:53.230 --> 00:13:54.910\nWe have a whole bunch of\nstuff in the middle here.\n\n286\n00:13:54.910 --> 00:13:57.380\nSo this is what we would say\nis the consecutive block,\n\n287\n00:13:57.380 --> 00:13:59.430\nwe'll trunk it down with two semi-colons.\n\n288\n00:13:59.430 --> 00:14:03.870\nThese zeros can also be dealt with and we\nsimply just remove the repetitive zeros at\n\n289\n00:14:03.870 --> 00:14:06.120\nthe end of the block,\nleaving only the first one there.\n\n290\n00:14:06.120 --> 00:14:09.710\nAnd you'll see that we can then\nfurther shorten this address, right?\n\n291\n00:14:09.710 --> 00:14:14.425\nAnd so as I go down here, you'll see\nthat the address ultimately becomes\n\n292\n00:14:14.425 --> 00:14:19.351\n2001:0 to represent\nthe remaining zeros in this\n\n293\n00:14:19.351 --> 00:14:23.490\nspot after we've done the truncations\nin blocks five and six.\n\n294\n00:14:23.490 --> 00:14:27.520\nWe shrink that block to a single zero,\nplaceholder for the entire block.\n\n295\n00:14:27.520 --> 00:14:29.430\nBlock 3238, so block 3 doesn't change.\n\n296\n00:14:29.430 --> 00:14:33.670\nIt's been consistent there all along.\n\n297\n00:14:33.670 --> 00:14:37.070\nBlock four doesn't change, DFE1,\nbeen consistent all along.\n\n298\n00:14:37.070 --> 00:14:38.590\nSo we leave that alone.\n\n299\n00:14:38.590 --> 00:14:44.060\nA block, if I remember we took off the\nleading zeros so we are minus two there.\n\n300\n00:14:44.060 --> 00:14:47.580\nWe only have 63 left over, but\nwe know there's two zeros there.\n\n301\n00:14:47.580 --> 00:14:49.700\nOur leading zeros as we call them.\n\n302\n00:14:49.700 --> 00:14:52.830\nWe truncated the consecutive zero blocks,\nright?\n\n303\n00:14:52.830 --> 00:14:54.390\nBlocks six and seven.\n\n304\n00:14:54.390 --> 00:14:57.350\nTwo zeros truncated\ndown to two semicolons.\n\n305\n00:14:57.350 --> 00:15:01.370\nBlock eight FEFB has been\nleft in tact because again\n\n306\n00:15:01.370 --> 00:15:02.970\nnothing that we would do there.\n\n307\n00:15:02.970 --> 00:15:05.170\nAnd so by applying some simple rules,\n\n308\n00:15:06.250 --> 00:15:08.460\nwe've been able to shrink\nour IP address down.\n\n309\n00:15:08.460 --> 00:15:11.180\nNow it's nowhere near as\ncumbersome as it was.\n\n310\n00:15:11.180 --> 00:15:13.170\nIt's still a handful to manage.\n\n311\n00:15:13.170 --> 00:15:17.585\nWe got to wrap our heads around the idea\nthat we have a different IP address form,\n\n312\n00:15:17.585 --> 00:15:19.865\na different structure we\nhave to work with, and\n\n313\n00:15:19.865 --> 00:15:21.285\nobviously a different look and feel.\n\n314\n00:15:21.285 --> 00:15:23.925\nIt's a little foreign to us if\nwe're not familiar with IPv6.\n\n315\n00:15:23.925 --> 00:15:27.255\nHere we used the IPv4\ndot decimal notation.\n\n316\n00:15:27.255 --> 00:15:30.105\nIt's a little bit different, hex notation.\n\n317\n00:15:30.105 --> 00:15:33.755\nBut as soon as we can wrap our\nheads around the logic of this, and\n\n318\n00:15:33.755 --> 00:15:36.920\nwe can get used to the rules,\nit's going to make it a lot easier for us.\n\n319\n00:15:36.920 --> 00:15:41.460\nNot only to read IPv6 addresses, which\nis important because you're going to see\n\n320\n00:15:41.460 --> 00:15:45.320\nthese rules applied and\nshorthanded in the IP config, right?\n\n321\n00:15:45.320 --> 00:15:46.970\nWhen you look at an interface,\n\n322\n00:15:46.970 --> 00:15:50.090\nyou're going to see an address\nrepresented with these rules applied.\n\n323\n00:15:50.090 --> 00:15:53.940\nYou may not, in other words, see the full\naddress, you'll see the truncated version\n\n324\n00:15:53.940 --> 00:15:56.803\nof the address because these\nrules get applied automatically.\n\n325\n00:15:56.803 --> 00:16:01.688\nSo instead of something like this, right,\nyou will ultimately get something like\n\n326\n00:16:01.688 --> 00:16:06.460\nthis if you do an ipconfig, let's say,\non An interface that's running IPv6.\n\n327\n00:16:06.460 --> 00:16:10.490\nAnd you would have to understand that\nthat address has had the rules applied,\n\n328\n00:16:10.490 --> 00:16:14.190\nfiltered essentially or shrunk down so\nthat it's more manageable.\n\n329\n00:16:14.190 --> 00:16:16.410\nSo you do wanna take a moment and\n\n330\n00:16:16.410 --> 00:16:19.060\nreally just kind of internalize\nthis thought process.\n\n331\n00:16:19.060 --> 00:16:22.230\nThink about it, I'm gonna leave\nthe rules up on the screen for a minute.\n\n332\n00:16:22.230 --> 00:16:24.770\nI know Cherokee's been dying\nto say something here,\n\n333\n00:16:24.770 --> 00:16:26.770\nshe's just been real patient.\n\n334\n00:16:26.770 --> 00:16:29.200\nSo we're gonna let her ask her question or\nmake her comment.\n\n335\n00:16:29.200 --> 00:16:31.970\nBut I'm gonna leave them up real quick\njust while we're talking so you guys can\n\n336\n00:16:31.970 --> 00:16:34.720\nactually think through the logic of\nthis and absorb this a little bit.\n\n337\n00:16:34.720 --> 00:16:37.270\nWhile we're actually discussing this.\n\n338\n00:16:37.270 --> 00:16:38.760\n&gt;&gt; Yeah so\nI think it's a really great idea and\n\n339\n00:16:38.760 --> 00:16:41.820\nyou've done a good job breaking it\ndown because it is important to\n\n340\n00:16:41.820 --> 00:16:46.520\nunderstand in my opinion how this\ninformation does happen in the background.\n\n341\n00:16:46.520 --> 00:16:49.580\nBut once we've performed our leading\n\n342\n00:16:51.220 --> 00:16:54.785\nzero compression as well as\nthe truncation of those continuous zeroes.\n\n343\n00:16:56.200 --> 00:16:59.610\nI've always been told\nthat you can not apply\n\n344\n00:16:59.610 --> 00:17:03.730\nthat truncation more than\nonce within one IPv6 address.\n\n345\n00:17:03.730 --> 00:17:06.400\nSo that's maybe something\nto keep in mind as well.\n\n346\n00:17:06.400 --> 00:17:07.310\n&gt;&gt; We do talk about that right?\n\n347\n00:17:07.310 --> 00:17:11.470\nBecause we talked about the fact that\nonce weve done all that, and our leading\n\n348\n00:17:11.470 --> 00:17:15.140\nzeroes, we talked about the fact that\nonce we do the leading zero truncation,\n\n349\n00:17:15.140 --> 00:17:20.540\nthat any remaining zeroes, right can\nbe replaced only once right here right?\n\n350\n00:17:20.540 --> 00:17:23.410\nSo consecutive blocks is placed\nonly once by the double quote.\n\n351\n00:17:23.410 --> 00:17:26.540\nCan we go back to full screen cuz I'm\ntalking and we can't really see what I'm\n\n352\n00:17:26.540 --> 00:17:29.690\ntalking about and you'll see here I did\nsay specifically as you pointed out.\n\n353\n00:17:29.690 --> 00:17:30.440\n&gt;&gt; Yes I know you said that.\n\n354\n00:17:30.440 --> 00:17:32.210\nIt's just sometimes people\nkind of question that.\n\n355\n00:17:32.210 --> 00:17:33.350\nI've had a lot of questions about that.\n\n356\n00:17:34.490 --> 00:17:36.100\nSo no, it is important to note.\n\n357\n00:17:36.100 --> 00:17:39.890\nSo to be clear for both of us,\nwe're putting it in the notes and\n\n358\n00:17:39.890 --> 00:17:42.500\nshowing it to you to make sure\nthat we're reinforcing it for you.\n\n359\n00:17:42.500 --> 00:17:43.917\nWe're both saying the same thing.\n\n360\n00:17:43.917 --> 00:17:45.390\n&gt;&gt; [LAUGH]\n&gt;&gt; We just want to make sure\n\n361\n00:17:45.390 --> 00:17:47.330\nthat you see it there and\nthat you're aware of it, but yes.\n\n362\n00:17:47.330 --> 00:17:49.850\nWe can do that truncation only once.\n\n363\n00:17:49.850 --> 00:17:52.920\nSo in other words, this trick of\ntaking the consecutive zero blocks and\n\n364\n00:17:52.920 --> 00:17:58.710\ntruncating them down to this essentially,\nright, is a one-time thing per IP address.\n\n365\n00:17:58.710 --> 00:18:03.190\nAnd as a result of that, any additional\nzero blocks can be shrunk to a single\n\n366\n00:18:03.190 --> 00:18:06.810\nzero block but not truncated the way\nthey were with the consecutive block.\n\n367\n00:18:06.810 --> 00:18:08.450\n&gt;&gt; Exactly.\n&gt;&gt; And that's an important distinction.\n\n368\n00:18:08.450 --> 00:18:13.930\nWould you wanna make sure we are familiar\nwith think about and kind of Internalize\n\n369\n00:18:13.930 --> 00:18:18.430\nthat thought process cuz again it will be\napplied and we'll look at the address.\n\n370\n00:18:18.430 --> 00:18:21.070\nAnd just like we've gotten\nreally good at reading an IPv4\n\n371\n00:18:21.070 --> 00:18:24.370\naddress looking at it going yeah I\nknow exactly what class that is.\n\n372\n00:18:24.370 --> 00:18:26.540\nIf I see a sub net mask\nas we've talked about.\n\n373\n00:18:26.540 --> 00:18:30.330\nI probably got a sense in my mind of\nwhat kind of networking is happening.\n\n374\n00:18:30.330 --> 00:18:31.690\nAm doing supernetting?\n\n375\n00:18:31.690 --> 00:18:33.680\nClasses internet domain routing.\n\n376\n00:18:33.680 --> 00:18:36.060\nAm I extending my networks\nat the expense of my host or\n\n377\n00:18:36.060 --> 00:18:38.080\nvice versa, supernetting, subnetting?\n\n378\n00:18:38.080 --> 00:18:38.590\nWhatever.\n\n379\n00:18:38.590 --> 00:18:39.900\nWe've been through all that.\n\n380\n00:18:39.900 --> 00:18:43.570\nMy point is a lot of us can\nlook at an IPv4 address block,\n\n381\n00:18:43.570 --> 00:18:45.330\nwith the appropriate\nsupporting information.\n\n382\n00:18:45.330 --> 00:18:51.240\nSubnet, mask, default gateway,\nand very quickly in our minds\n\n383\n00:18:51.240 --> 00:18:56.650\nkind of go through, and we can get\na sense of When I hit my arm on the side\n\n384\n00:18:56.650 --> 00:19:00.030\nhere sometimes maybe I make a little\nnoise with my bracelet, so I apologize.\n\n385\n00:19:00.030 --> 00:19:01.420\n&gt;&gt; I thought I was making\nnoise with my microphone.\n\n386\n00:19:01.420 --> 00:19:02.320\n&gt;&gt; No, it may have just been me.\n\n387\n00:19:02.320 --> 00:19:03.730\nI think I hit the side of the table here.\n\n388\n00:19:03.730 --> 00:19:07.800\nI got all this crazy jewelry on, and\nwhen I do that I'm pretty clunky and\n\n389\n00:19:07.800 --> 00:19:08.580\nnoisy sometimes.\n\n390\n00:19:08.580 --> 00:19:12.270\nThat may have just been me, so I apologize\nif was doing that while we were We have in\n\n391\n00:19:12.270 --> 00:19:16.120\nour mind, at least most of us\nanyway that are familiar with IPv4.\n\n392\n00:19:16.120 --> 00:19:20.410\nWe have, in our minds the logic,\nthe math and the thought process.\n\n393\n00:19:20.410 --> 00:19:24.180\nWhat we got to do is get used\nto the same idea with IPv6.\n\n394\n00:19:24.180 --> 00:19:26.420\nThis is coming whether we like it or not.\n\n395\n00:19:26.420 --> 00:19:29.700\nThis is the future just like I keep\ntelling you PowerShell is the future,\n\n396\n00:19:29.700 --> 00:19:31.570\nit's going to be here eventually.\n\n397\n00:19:31.570 --> 00:19:33.330\nIt's already here by the way, right?\n\n398\n00:19:33.330 --> 00:19:34.910\nBut it's gonna be here eventually.\n\n399\n00:19:34.910 --> 00:19:37.000\nAnd by the way IPv6 has been around for\nsome time.\n\n400\n00:19:37.000 --> 00:19:40.540\nThis is not the future that's coming,\nthis is the future that's been here for\n\n401\n00:19:40.540 --> 00:19:41.540\nover a decade.\n\n402\n00:19:41.540 --> 00:19:43.440\nWe just haven't really taken it on and\n\n403\n00:19:43.440 --> 00:19:47.160\nstarted to internalize it inside\nof Our enterprise networks.\n\n404\n00:19:47.160 --> 00:19:49.280\nBut there are many networks\nthat run IBP 6 today.\n\n405\n00:19:49.280 --> 00:19:52.870\nIt's incredibly prevalent in\nmany portions of the world.\n\n406\n00:19:52.870 --> 00:19:54.960\nIt's used extensively in Europe,\nfor instance.\n\n407\n00:19:54.960 --> 00:19:57.120\nused extensively across many networks.\n\n408\n00:19:57.120 --> 00:19:58.790\nIt's used for routing on the internet.\n\n409\n00:19:58.790 --> 00:20:02.650\nYet we see it in a lot of places,\nwe just may not be paying attention to it.\n\n410\n00:20:02.650 --> 00:20:07.640\nIt's kind of subtlety In the background\nsince Windows 7 we've had\n\n411\n00:20:07.640 --> 00:20:10.600\nsupport natively for IPv6 in our stack.\n\n412\n00:20:10.600 --> 00:20:14.960\nWe could enable it going back to XP and\nturn it on if we wanted to and enable it.\n\n413\n00:20:14.960 --> 00:20:18.410\nWe could go back all the way to 2000 but\nwe had to really turn ourselves inside out\n\n414\n00:20:18.410 --> 00:20:21.580\nto be able to add IPv6 support enabled and\nrun it.\n\n415\n00:20:21.580 --> 00:20:23.930\nSo we've had it around for some time.\n\n416\n00:20:23.930 --> 00:20:27.750\nJust a question of now really getting\nuse to the idea of leveraging it.\n\n417\n00:20:27.750 --> 00:20:31.570\nAnd as a result of that, really getting\ncomfortable with what it means and\n\n418\n00:20:31.570 --> 00:20:33.710\nwhat our capabilities will be as a result.\n\n419\n00:20:33.710 --> 00:20:36.760\nAnd so that's what we're focusing\non as we begin our conversations.\n\n420\n00:20:36.760 --> 00:20:39.090\n&gt;&gt; Yeah I mean, even, and\nI know you know about this.\n\n421\n00:20:39.090 --> 00:20:42.650\nYou talked about it quite a bit, but you\nmay encounter a situation where you have\n\n422\n00:20:42.650 --> 00:20:48.720\nsome kind of regulatory compliance that\nenforces the use of IPv6 on that network.\n\n423\n00:20:48.720 --> 00:20:51.520\nAnd so I was just going to\nsay movie reference here,\n\n424\n00:20:51.520 --> 00:20:52.960\nI have to give a little disclaimer.\n\n425\n00:20:52.960 --> 00:20:55.600\nBut it's like Aladdin,\nwe're going on a magic carpet ride and\n\n426\n00:20:55.600 --> 00:20:57.795\nwe're singing a whole new world, right?\n\n427\n00:20:57.795 --> 00:21:01.300\n[LAUGH]\n&gt;&gt; Okay, good, I don't think I've ever\n\n428\n00:21:01.300 --> 00:21:04.420\ntalked about networking and\nbrought Aladdin and Disney into the mix.\n\n429\n00:21:04.420 --> 00:21:05.560\nSo, I like that.\n\n430\n00:21:05.560 --> 00:21:06.180\n&gt;&gt; [LAUGH]\n&gt;&gt; That is just,\n\n431\n00:21:06.180 --> 00:21:07.600\nthat's awesome, that is cool.\n\n432\n00:21:07.600 --> 00:21:09.150\nIt is like a magic carpet ride.\n\n433\n00:21:09.150 --> 00:21:10.820\nI mean, it's fun, exciting, it's new.\n\n434\n00:21:10.820 --> 00:21:13.575\nYou gotta wear seatbelts,\nwe don't have airbags, so pay attention.\n\n435\n00:21:13.575 --> 00:21:14.160\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n436\n00:21:14.160 --> 00:21:16.850\nthe reality is\n&gt;&gt; You know is a new adventure.\n\n437\n00:21:16.850 --> 00:21:19.010\nAnd it is this brave new\nworld that opens up for\n\n438\n00:21:19.010 --> 00:21:23.370\nus, and it's a world that in many respects\nis very similar to what we already know.\n\n439\n00:21:23.370 --> 00:21:26.490\nBut at the same time,\nthere are different rules of engagement.\n\n440\n00:21:26.490 --> 00:21:29.510\nAs long as we're familiar with them, and\njust like it took us a little bit of time\n\n441\n00:21:29.510 --> 00:21:33.060\nto learn the rules of engagement for\nthe IPV 4 world, we've come to take it for\n\n442\n00:21:33.060 --> 00:21:35.550\ngranted, and just expect that they're\nthere, and we don't even think about them.\n\n443\n00:21:35.550 --> 00:21:39.240\nI mean how often do we really stop and\nsay wow, I gotta really sit down and\n\n444\n00:21:39.240 --> 00:21:41.600\nthink about How those things work.\n\n445\n00:21:41.600 --> 00:21:44.970\nWe just assume that they work really\nwell these days, because they do.\n\n446\n00:21:44.970 --> 00:21:46.410\nAnd IPv6 is that same thing,\n\n447\n00:21:46.410 --> 00:21:48.860\nit's just that we have to get used to\nthe idea that it will be that force.\n\n448\n00:21:48.860 --> 00:21:50.491\nThat's going to be important.\n\n449\n00:21:50.491 --> 00:21:52.034\n&gt;&gt; Plus you already noted this,\n\n450\n00:21:52.034 --> 00:21:55.924\nit's kind of cool that you can take\nthat pre-existing IPv4 knowledge and\n\n451\n00:21:55.924 --> 00:22:00.320\nthen kind of compare you have something\ncomparable to really asses IPv6 too.\n\n452\n00:22:00.320 --> 00:22:05.640\nNot in every situation, but\nthere are a lot of kind gimmes there.\n\n453\n00:22:05.640 --> 00:22:08.040\n&gt;&gt; There is a lot of synergy,\na lot of sameness.\n\n454\n00:22:08.040 --> 00:22:11.160\nThere is certainly a lot of difference,\nbut there is a lot of sameness or\n\n455\n00:22:11.160 --> 00:22:13.960\nsimilarities, and\nwe can leverage those, absolutely.\n\n456\n00:22:13.960 --> 00:22:17.830\nSo speaking of similarities, sameness,\nand differences, prefix an interface ID.\n\n457\n00:22:17.830 --> 00:22:19.680\nYou kind of see them at\nthe bottom of my notes there.\n\n458\n00:22:19.680 --> 00:22:21.460\nBut let's just talk about them for\na minute.\n\n459\n00:22:21.460 --> 00:22:25.890\nThe idea here as we just continue to build\nout in this introductory episode our\n\n460\n00:22:25.890 --> 00:22:29.020\nthought process around what is IPv6?\n\n461\n00:22:29.020 --> 00:22:30.780\nHow do we work with this address?\n\n462\n00:22:30.780 --> 00:22:31.430\nWhat does it look like?\n\n463\n00:22:31.430 --> 00:22:32.740\nWhy is it important to us?\n\n464\n00:22:32.740 --> 00:22:36.520\nWhen we think about overall\nlet's just go back up here to\n\n465\n00:22:38.100 --> 00:22:38.710\n&gt;&gt; Right here.\n\n466\n00:22:38.710 --> 00:22:41.070\nWe'll just kinda go up to\nthe full version of the address,\n\n467\n00:22:41.070 --> 00:22:45.660\njust so we can highlight this and kind\nof see it before we look at truncation.\n\n468\n00:22:45.660 --> 00:22:48.640\nYou know, when we think about\nthe beginning part of the address,\n\n469\n00:22:48.640 --> 00:22:51.980\nthe first four blocks there,\nthis is what we're thinking about.\n\n470\n00:22:51.980 --> 00:22:55.710\n&gt;&gt; Where the prefix is the part of\nthe address that has the bits that\n\n471\n00:22:55.710 --> 00:23:00.370\nare going to be set up,\nor our fixed values.\n\n472\n00:23:00.370 --> 00:23:03.240\nThis is essentially\nthe sub-net prefix bits, right?\n\n473\n00:23:03.240 --> 00:23:04.760\nThat's what we're thinking of here.\n\n474\n00:23:04.760 --> 00:23:06.200\nIt's equivalent to the network ID for\n\n475\n00:23:06.200 --> 00:23:08.970\nthe IPv4 address we were taking\nabout equivalency, right.\n\n476\n00:23:08.970 --> 00:23:12.140\nAnd what's similar, what do we know,\nwhat don't we know.\n\n477\n00:23:12.140 --> 00:23:15.090\nAnd the idea is that if we look at that,\nthat part of the address,\n\n478\n00:23:15.090 --> 00:23:17.310\nactually minus the little semicolon.\n\n479\n00:23:17.310 --> 00:23:20.680\nBut I mean we can just say that it goes\nup to that point essentially, right.\n\n480\n00:23:20.680 --> 00:23:24.340\nThat is going to be the equivalent\nof the network portion of our IPv4\n\n481\n00:23:24.340 --> 00:23:26.740\naddress when we think about\nour summon mass, right.\n\n482\n00:23:26.740 --> 00:23:30.510\nBecause that's what identifies initially\nwhat network we are a member of or\n\n483\n00:23:30.510 --> 00:23:31.910\nwhat network we are a part of.\n\n484\n00:23:31.910 --> 00:23:36.390\n&gt;&gt; In the address and\nthen we just simply call prefixes in IPv6\n\n485\n00:23:36.390 --> 00:23:40.470\nwhat we call a subnet mask in IPv4, in\nother words is what I'm trying to explain.\n\n486\n00:23:40.470 --> 00:23:43.350\nProbably not being as clear as I could\nbe with that, but that's the idea.\n\n487\n00:23:43.350 --> 00:23:46.630\nAnd so again, it's one of those language\nthings that I was talking about.\n\n488\n00:23:46.630 --> 00:23:50.380\nWhen I was saying hey it's gonna be very\nsimilar but we just have to understand and\n\n489\n00:23:50.380 --> 00:23:53.981\nlearn and understand the logic and\nthe language of what we're referring to.\n\n490\n00:23:53.981 --> 00:23:55.960\nBut that is really\nthe same thought process.\n\n491\n00:23:55.960 --> 00:24:01.699\nAnd so the prefix is equated to or is the\nsame process as The subnet mask in IPv4.\n\n492\n00:24:01.699 --> 00:24:03.765\nAnd so thinking about it looking at that.\n\n493\n00:24:03.765 --> 00:24:08.681\nThat would be our network portion of\nthe IP address that tells us we're\n\n494\n00:24:08.681 --> 00:24:13.370\non that network the 2001\n0003238 DFE1 network.\n\n495\n00:24:13.370 --> 00:24:15.720\nTry telling somebody at work that's\nthe network you want to join next time you\n\n496\n00:24:15.720 --> 00:24:17.670\ntalk to them, and\nsee what they tell you, right.\n\n497\n00:24:17.670 --> 00:24:20.190\nBut that's gonna indicate our\nnetwork portion of our course.\n\n498\n00:24:20.190 --> 00:24:25.300\nObviously the other half of the blocks\nthere from 0063 on through the end,\n\n499\n00:24:25.300 --> 00:24:29.720\nFEFB, is gonna represent our\nunique ID Our IP Address that is\n\n500\n00:24:29.720 --> 00:24:34.120\nthe host portion in other works IPV 4\nlanguage, unique within that network.\n\n501\n00:24:34.120 --> 00:24:37.380\n&gt;&gt; Sometimes I give you analogies,\nI don't know if you'll like this one, but.\n\n502\n00:24:37.380 --> 00:24:39.130\n&gt;&gt; There's always that possibility.\n\n503\n00:24:39.130 --> 00:24:41.480\n&gt;&gt; I had a student give me this\na while ago, and I like it.\n\n504\n00:24:41.480 --> 00:24:46.110\nAnd it was actually talking about IPV 4,\nbut it can relate here as well.\n\n505\n00:24:46.110 --> 00:24:50.540\nSo If we crack that address in half and\nthat first chunk, that network portion,\n\n506\n00:24:50.540 --> 00:24:52.600\nkind of like the street address,\n\n507\n00:24:52.600 --> 00:24:57.610\nwhereas that second half, that second\nchunk is your house number, right?\n\n508\n00:24:57.610 --> 00:25:00.380\n&gt;&gt; So, the street address for\nthe network address, in other words.\n\n509\n00:25:00.380 --> 00:25:00.990\n&gt;&gt; Correct.\n&gt;&gt; The prefix or\n\n510\n00:25:00.990 --> 00:25:03.660\nthe subnet mask address\nthat indicates network.\n\n511\n00:25:03.660 --> 00:25:06.820\nAnd then the host portion would\nbe the equivalent of your\n\n512\n00:25:06.820 --> 00:25:07.840\nhouse address on the street.\n\n513\n00:25:07.840 --> 00:25:08.630\n&gt;&gt; Yeah, like the number.\n\n514\n00:25:08.630 --> 00:25:10.620\n&gt;&gt; Your unique identifier\nwithin the street itself.\n\n515\n00:25:10.620 --> 00:25:13.280\nYeah I mean that works,\nit's identical to what we think of and\n\n516\n00:25:13.280 --> 00:25:15.220\nit's saying the same thing, right?\n\n517\n00:25:15.220 --> 00:25:18.010\nIt's just a matter of how\ndo we specify group and\n\n518\n00:25:18.010 --> 00:25:21.160\nthen how do we specify unique member\nwithin group, cuz that's really what we're\n\n519\n00:25:21.160 --> 00:25:25.350\ntalking about when we strip away all of\nthe specificity and talk about just simply\n\n520\n00:25:25.350 --> 00:25:30.210\nHow do we identify a logical element that\ntells us we're a member of this and work\n\n521\n00:25:30.210 --> 00:25:34.870\non this area and then a unique instance or\nID within that area that we work in?\n\n522\n00:25:34.870 --> 00:25:36.610\nIt's the same thing, so\nthat works really well.\n\n523\n00:25:36.610 --> 00:25:38.250\nNothing wrong with that at all,\nabsolutely.\n\n524\n00:25:38.250 --> 00:25:39.420\nYou ever see that car commercial,\n\n525\n00:25:39.420 --> 00:25:42.920\nI know I'm asking probably no reason I\nshould even ask Because the answer is,\n\n526\n00:25:42.920 --> 00:25:45.590\nyou can just tell me now,\nno, and we can move along.\n\n527\n00:25:45.590 --> 00:25:47.380\nBut they have a car commercial.\n\n528\n00:25:47.380 --> 00:25:49.110\nActually, I think it's\nan insurance commercial.\n\n529\n00:25:49.110 --> 00:25:52.010\nBut one of the scenes in\nthe commercial I saw recently was\n\n530\n00:25:52.010 --> 00:25:55.225\nyou have this guy's walking\na young lady Lady through.\n\n531\n00:25:55.225 --> 00:25:59.555\nHey, you know, welcome to the company and\nyou would get all these great benefits.\n\n532\n00:25:59.555 --> 00:26:03.185\nAnd so, you know, they talk about\nthe world's second best sushi chef.\n\n533\n00:26:03.185 --> 00:26:04.475\nWhy couldn't I get the first one?\n\n534\n00:26:04.475 --> 00:26:05.635\nWell because he was busy.\n\n535\n00:26:05.635 --> 00:26:07.535\nSo they have almost everything you'd want.\n\n536\n00:26:07.535 --> 00:26:10.585\nAnd at one point he looks out across\nthe parking lot and he he says,\n\n537\n00:26:10.585 --> 00:26:14.025\nwe have these great personal\ntransportation for everybody.\n\n538\n00:26:14.025 --> 00:26:17.465\nAnd you just see a sea of like, they're\nBMW's, but it's like a sea of white cars.\n\n539\n00:26:17.465 --> 00:26:20.090\nLike nothing But every car's identical.\n\n540\n00:26:20.090 --> 00:26:22.320\nAnd actually,\nit's not an insurance commercial,\n\n541\n00:26:22.320 --> 00:26:23.950\nI think it's a commercial for Audi.\n\n542\n00:26:23.950 --> 00:26:27.340\nAnd so,\nat that point you cut to like her face,\n\n543\n00:26:27.340 --> 00:26:32.250\nshe just seems disgusted, she leaves and\nshe's in like a black car driving down\n\n544\n00:26:32.250 --> 00:26:34.940\nthe road like a customised car,\nand that's like the whole thing.\n\n545\n00:26:34.940 --> 00:26:36.470\nSo it's similar to that.\n\n546\n00:26:36.470 --> 00:26:40.310\nWhen we think about this, I don't\nwanna be concerned about necessarily\n\n547\n00:26:40.310 --> 00:26:43.390\nwhat is the specificity of the analogy,\nbut\n\n548\n00:26:43.390 --> 00:26:45.840\nrather generically,\nwhat do all the analogies point to.\n\n549\n00:26:45.840 --> 00:26:48.850\nThe idea of a group And then the idea\nof uniqueness within the group,\n\n550\n00:26:48.850 --> 00:26:52.340\nand that's the prefix and the following\non address that gives us our host ID,\n\n551\n00:26:52.340 --> 00:26:55.460\nand that's exactly what we need,\nregardless of how we get there.\n\n552\n00:26:55.460 --> 00:26:56.830\nSo that was good.\nI like that analogy.\n\n553\n00:26:56.830 --> 00:26:57.480\n&gt;&gt; Never saw it.\n\n554\n00:26:57.480 --> 00:26:57.990\n&gt;&gt; Good stuff.\n\n555\n00:26:57.990 --> 00:26:59.270\nI didn't think you would have.\n\n556\n00:26:59.270 --> 00:27:02.670\nI was just actually just throwing it out\nthere, just cuz we need to have that and\n\n557\n00:27:02.670 --> 00:27:06.860\nestablish that In every show,\nalthough Cherokee does pertain to and\n\n558\n00:27:06.860 --> 00:27:08.830\nultimately watches some streaming media.\n\n559\n00:27:08.830 --> 00:27:13.180\nIt seems very random, odd, and different,\ndifferent levels than most of us.\n\n560\n00:27:13.180 --> 00:27:14.720\nBut then again you have a young child.\n\n561\n00:27:14.720 --> 00:27:19.810\nSo you do watch things that are probably\nmore aligned with her needs and therefore-\n\n562\n00:27:19.810 --> 00:27:20.350\n&gt;&gt; Your children.\n\n563\n00:27:20.350 --> 00:27:22.770\n&gt;&gt; Well, but he's a little older.\n\n564\n00:27:22.770 --> 00:27:24.710\nYou're not necessarily watching Aladdin.\n\n565\n00:27:24.710 --> 00:27:25.460\n&gt;&gt; Cartoons.\n&gt;&gt; Just.\n\n566\n00:27:25.460 --> 00:27:26.710\nYou're watching more with your daughter.\n\n567\n00:27:26.710 --> 00:27:27.290\n&gt;&gt; No that's for me.\n\n568\n00:27:27.290 --> 00:27:28.330\nMe.\n&gt;&gt; That's for you.\n\n569\n00:27:28.330 --> 00:27:29.680\n&gt;&gt; [LAUGH]\n&gt;&gt; I like that.\n\n570\n00:27:29.680 --> 00:27:31.270\nI love all the Disney stuff.\n\n571\n00:27:31.270 --> 00:27:33.380\nI mean, I'm of an age where I grew\nup with some of the original ones,\n\n572\n00:27:33.380 --> 00:27:35.400\nbefore they all came out or recreated.\n\n573\n00:27:35.400 --> 00:27:37.050\nBut I love watching them.\n\n574\n00:27:37.050 --> 00:27:37.720\nI used to love that one.\n\n575\n00:27:37.720 --> 00:27:40.440\nMy kids were little, watching all\nthat stuff, that was really cool.\n\n576\n00:27:40.440 --> 00:27:43.600\nI sneak around and watch whenever So,\nI can appreciate that.\n\n577\n00:27:43.600 --> 00:27:47.060\nAlright, so we have talked about prefix,\ntalked about the IP Address,\n\n578\n00:27:47.060 --> 00:27:48.080\nhow we would break it down.\n\n579\n00:27:48.080 --> 00:27:51.860\nRemember, we do have subnets,\nprefixes, routes, address ranges.\n\n580\n00:27:51.860 --> 00:27:54.310\nThey are all represented here for IPv6.\n\n581\n00:27:54.310 --> 00:27:56.620\nIt's just a matter of what we call\nthem and how we deal with them.\n\n582\n00:27:56.620 --> 00:27:57.980\nSo, just be aware of that.\n\n583\n00:27:57.980 --> 00:28:02.740\nWe do represent the address prefix Are\nnotations we talk about here in this form\n\n584\n00:28:02.740 --> 00:28:03.550\ntraditionally.\n\n585\n00:28:03.550 --> 00:28:06.550\nNow, if we wanted to\njust modify this perhaps.\n\n586\n00:28:06.550 --> 00:28:10.450\nSo if we took a look at this down here,\nsince I'm talking about this.\n\n587\n00:28:10.450 --> 00:28:13.490\nIf we just go right here and\nyou'll see right here,\n\n588\n00:28:13.490 --> 00:28:17.510\nthis is going to be what we would do for\nsomething.\n\n589\n00:28:17.510 --> 00:28:20.270\nLet's just put this right here and\njust highlight it.\n\n590\n00:28:20.270 --> 00:28:25.950\n2001 DA::/48 we do use still\nour short hand notation,\n\n591\n00:28:25.950 --> 00:28:28.800\nas you can see there,\nthat's gonna be our route prefix.\n\n592\n00:28:28.800 --> 00:28:32.440\nAnd you'll see here this is\na subnet prefix right over here.\n\n593\n00:28:33.545 --> 00:28:36.765\nSo you can see we have those and\nwe do represent them.\n\n594\n00:28:36.765 --> 00:28:39.745\nI didn't highlight the two on the end of\nthat there, but you can kind of see, or\n\n595\n00:28:39.745 --> 00:28:41.525\nthe beginning of that rather,\nI should say.\n\n596\n00:28:41.525 --> 00:28:44.085\nBut you kind of see it right there,\nand it will look very similar.\n\n597\n00:28:44.085 --> 00:28:47.062\nIn the sense that we do have\nthe beginning part Part of that address.\n\n598\n00:28:47.062 --> 00:28:49.692\nBut we use shorthand notation to specify\n\n599\n00:28:49.692 --> 00:28:51.462\nthe number of bytes in things\nthat we're talking about.\n\n600\n00:28:51.462 --> 00:28:55.132\nSo we still see that,\n/64 is our subnet prefix.\n\n601\n00:28:55.132 --> 00:28:59.882\nBecause that says hey, take the first half\nof the total address block and assign it,\n\n602\n00:28:59.882 --> 00:29:01.652\nin this case for the network address.\n\n603\n00:29:01.652 --> 00:29:02.812\nThat is our subnet prefix.\n\n604\n00:29:02.812 --> 00:29:06.452\nThat's what we think of as our\nnetwork portion of our subnet in IPv4.\n\n605\n00:29:06.452 --> 00:29:09.500\nWe're just writing it in\na IPv6 friendly shorthand.\n\n606\n00:29:09.500 --> 00:29:11.090\nright equivalent, if you will.\n\n607\n00:29:11.090 --> 00:29:16.360\nWhereas, something like this, again, I'm\nhaving trouble highlighting the 2, there.\n\n608\n00:29:16.360 --> 00:29:17.160\nThere we go.\n\n609\n00:29:17.160 --> 00:29:21.080\nSomething like this is going to\nindicate we're using less than the full\n\n610\n00:29:21.080 --> 00:29:23.280\namount of 64 bits in\nthe first part of the block.\n\n611\n00:29:23.280 --> 00:29:24.610\nThat's a route pre-fix.\n\n612\n00:29:24.610 --> 00:29:26.780\nIt's just going to be a little\nbit different for us.\n\n613\n00:29:26.780 --> 00:29:29.500\nI want to make sure that we're\nfamiliar with the logic of this And\n\n614\n00:29:29.500 --> 00:29:32.090\njust as we wrap up the beginning\npart of our conversation,\n\n615\n00:29:32.090 --> 00:29:35.440\nI wanna bring up a document that\nmay help us to just structure\n\n616\n00:29:35.440 --> 00:29:37.710\nsome of the conversation here a little\nbit, could we go, there we go.\n\n617\n00:29:37.710 --> 00:29:40.140\nSo you could see I put\ntogether a little document for\n\n618\n00:29:40.140 --> 00:29:44.240\nus with the differences between IPv4 and\nIPv6, cuz there are Some\n\n619\n00:29:44.240 --> 00:29:47.660\nfundamental differences that we want\nto be able to compare an contrast.\n\n620\n00:29:47.660 --> 00:29:51.880\nand so we talk about the structure\nof the address block.\n\n621\n00:29:51.880 --> 00:29:55.520\nWe've talked about the fact that we\nare quadrupling the number of bytes\n\n622\n00:29:55.520 --> 00:29:56.050\nfrom 32 to 128.\n\n623\n00:29:56.050 --> 00:29:59.900\nWe talked about the fact that we\nare no longer using a base two system.\n\n624\n00:29:59.900 --> 00:30:02.270\nWe are using now a hexadecimal system.\n\n625\n00:30:02.270 --> 00:30:05.730\nBase 16, so we have a totally\ndifferent thought process here.\n\n626\n00:30:05.730 --> 00:30:12.240\nWe are Obviously, because we are going\nto be managing traffic across the scene.\n\n627\n00:30:12.240 --> 00:30:16.140\nKinds of network using sensory\nsame kind of traffic and\n\n628\n00:30:16.140 --> 00:30:19.070\nmost likely the same kind of protocol and\nthe same kind of network service\n\n629\n00:30:19.070 --> 00:30:23.260\nPurposes we would have to have support for\nIPv6 in those areas.\n\n630\n00:30:23.260 --> 00:30:24.720\nOr we may have to modify what we do,\n\n631\n00:30:24.720 --> 00:30:27.340\nand that's where some of\nthe differences come in.\n\n632\n00:30:27.340 --> 00:30:31.980\nRight DNS, DHCP we've already\nestablished a DHCP is IPv6 friendly.\n\n633\n00:30:31.980 --> 00:30:36.350\nSpent a lot of time in our prior episodes\ntalking about DHCP, went through,\n\n634\n00:30:36.350 --> 00:30:40.260\nspecifically broke out a separate\nepisode just on setting IPv6 scopes for\n\n635\n00:30:40.260 --> 00:30:41.140\nyou in a DHCP.\n\n636\n00:30:41.140 --> 00:30:42.710\nDNS, we havent gotten there yet,\n\n637\n00:30:42.710 --> 00:30:47.100\nalthough well hint at that Talk about\nsome of that as we get going, but\n\n638\n00:30:47.100 --> 00:30:51.840\nyou'll see that in DNS, we do have IPv6\nsupport, with the sense that we do support\n\n639\n00:30:51.840 --> 00:30:55.720\nhost records and records that will\nbe used for resolution in DNS.\n\n640\n00:30:55.720 --> 00:30:57.590\nAlso, we do have those capabilities.\n\n641\n00:30:57.590 --> 00:31:00.020\nSo all of that stuff is gonna be there.\n\n642\n00:31:00.020 --> 00:31:03.560\nAnd we do, as you can see, Have some\nability to modify our existing routing\n\n643\n00:31:03.560 --> 00:31:06.490\nprotocols and\nmake sure that they are friendly as well.\n\n644\n00:31:06.490 --> 00:31:09.360\nSo you'll see here fragmentation for IPv4.\n\n645\n00:31:09.360 --> 00:31:11.950\nBoth the router and\nascending function whereas in IPv6,\n\n646\n00:31:12.960 --> 00:31:15.650\nnot performed by routers but\nby ascending host.\n\n647\n00:31:15.650 --> 00:31:20.520\nSo we're changing the way certain things\nwork, based on the IPv6 network, and\n\n648\n00:31:20.520 --> 00:31:22.620\nimplementation of network functionality.\n\n649\n00:31:22.620 --> 00:31:27.140\nYet we do rely heavily on\nrouters in IPv6 to do a lot for\n\n650\n00:31:27.140 --> 00:31:31.240\nus, because we can do auto-configuration\nbased on router advertisements.\n\n651\n00:31:31.240 --> 00:31:34.720\nAnd we rely on the host to do a lot\nof the configuration on its own for\n\n652\n00:31:34.720 --> 00:31:35.550\naddressing, right.\n\n653\n00:31:35.550 --> 00:31:38.830\nWe don't necessarily have to\nleverage a lot of that information\n\n654\n00:31:38.830 --> 00:31:40.370\nthat may come from other areas.\n\n655\n00:31:40.370 --> 00:31:44.100\nWe actually will go to a router,\nwe can get an advertisement, stateful or\n\n656\n00:31:44.100 --> 00:31:48.680\nstateless depending on the type of\nadvertisement we're talking about or both.\n\n657\n00:31:48.680 --> 00:31:51.776\nWe'll talk about that in a little more\ndetail in upcoming conversations.\n\n658\n00:31:51.776 --> 00:31:54.340\nBut generically, the router can become and\n\n659\n00:31:54.340 --> 00:31:58.426\nindeed is envisioned as becoming\nthe central hubll For information,\n\n660\n00:31:58.426 --> 00:32:01.347\nprovisioning out to the host\non an IPv6 network.\n\n661\n00:32:01.347 --> 00:32:03.818\nSo it's a slightly different\ntake on things and\n\n662\n00:32:03.818 --> 00:32:06.740\na slightly different approach\nto what we may be used to.\n\n663\n00:32:06.740 --> 00:32:11.040\n&gt;&gt; You know it's almost like we, and\nnot me when I say we, but whomever-\n\n664\n00:32:11.040 --> 00:32:11.810\n&gt;&gt; So everybody, but you?\n\n665\n00:32:11.810 --> 00:32:13.220\n&gt;&gt; Everybody but me, yeah.\n\n666\n00:32:13.220 --> 00:32:17.130\nWhomever came up with IPv6, it's almost\nlike they had a second shot at this whole\n\n667\n00:32:17.130 --> 00:32:22.520\nnaming convention,\nthis address idea and they really\n\n668\n00:32:22.520 --> 00:32:27.030\nput a lot of thought into it and started\nat the top to make things more simplified.\n\n669\n00:32:27.030 --> 00:32:31.040\nIt may look a little daunting or\nscary when we look at these numbers here.\n\n670\n00:32:31.040 --> 00:32:34.310\nBut really overall, even like you\nwere showing us the prefixes,\n\n671\n00:32:34.310 --> 00:32:38.659\nstarting at that ISP level filtering down,\nit's a more intuitive,\n\n672\n00:32:38.659 --> 00:32:41.260\nmore intelligent naming convention.\n\n673\n00:32:41.260 --> 00:32:44.030\nAnd yes, these may be a little bit\ndifferent, but it's gonna be pretty cool.\n\n674\n00:32:44.030 --> 00:32:47.590\nSo you guys gotta hang around with us for\nthis.\n\n675\n00:32:47.590 --> 00:32:48.830\nThat's all.\n&gt;&gt; What she said, exactly.\n\n676\n00:32:48.830 --> 00:32:50.900\n&gt;&gt; That's all. [LAUGH] &gt;&gt; All that cuz\nI'm not part of that collective either.\n\n677\n00:32:50.900 --> 00:32:51.800\nI did not invent IPv6, nor\n\n678\n00:32:51.800 --> 00:32:56.330\ndid I have anything to do with it\nbecause clearly, it's been around for\n\n679\n00:32:56.330 --> 00:32:59.120\nsome time to talk about, and\nis obviously very special system.\n\n680\n00:32:59.120 --> 00:33:01.200\nSo you do wanna make sure\nyou go through this chart.\n\n681\n00:33:01.200 --> 00:33:02.610\nTake a look at some of\nthe differences here.\n\n682\n00:33:02.610 --> 00:33:06.330\nThere's a few more than what I just hinted\nat the top of the chart here, but it does\n\n683\n00:33:06.330 --> 00:33:11.450\ngo through talks about IGMP, ARP, talked\nCMP router discovery here a little bit.\n\n684\n00:33:11.450 --> 00:33:13.430\nWe do talk about host records and\n\n685\n00:33:13.430 --> 00:33:16.960\nthe fact we now have a host record\nthat is a four a host record,\n\n686\n00:33:16.960 --> 00:33:21.750\nas opposed to a standard a, single a\nrecord for DNS to signify the difference.\n\n687\n00:33:21.750 --> 00:33:26.640\nWe do use pointer records for\nboth, but IP 6 ARPA.DNS domain as\n\n688\n00:33:26.640 --> 00:33:31.980\nopposed to address.ARPA for DNS domains as\nCherokee was talking about a little bit.\n\n689\n00:33:31.980 --> 00:33:36.860\nAnd the size of ultimately the packet,\nor the byte size here is different.\n\n690\n00:33:36.860 --> 00:33:40.350\nYou can see that we go from\na 576 byte packet size\n\n691\n00:33:40.350 --> 00:33:43.340\nright to a 1280 byte packet\nsize without fragmentation.\n\n692\n00:33:43.340 --> 00:33:48.460\nWe may possibly fragment on the IPv4 side,\nwe don't fragment on the IPv6 side for\n\n693\n00:33:48.460 --> 00:33:49.180\nthat support.\n\n694\n00:33:49.180 --> 00:33:52.400\nSo just some things for\nyou to go through and take a look at.\n\n695\n00:33:52.400 --> 00:33:56.610\nImportant on the underlying\ninformation architecture area for\n\n696\n00:33:56.610 --> 00:33:58.040\nyou to have a better understanding.\n\n697\n00:33:58.040 --> 00:34:00.620\nAlso important from an exam\npreparation perspective.\n\n698\n00:34:00.620 --> 00:34:02.390\nYou never know when you may\nbe asked to compare and\n\n699\n00:34:02.390 --> 00:34:05.560\ncontrast some differences here, so\nit would be helpful for you to know.\n\n700\n00:34:05.560 --> 00:34:09.570\nJust one thing to throw out before we\nfinish up quickly and we'll return back to\n\n701\n00:34:09.570 --> 00:34:14.460\nthe logic of address types for IPv6\nhere when we get into our next episode.\n\n702\n00:34:14.460 --> 00:34:15.840\nBut I mentioned unicast.\n\n703\n00:34:15.840 --> 00:34:16.900\nI mentioned multicast.\n\n704\n00:34:16.900 --> 00:34:20.270\nI mentioned minicast at the top\nof our episode and said, hey,\n\n705\n00:34:20.270 --> 00:34:23.650\nthese are types of addresses\nthat we now see with IPv6.\n\n706\n00:34:23.650 --> 00:34:25.160\nAnd we'll talk more about them.\n\n707\n00:34:25.160 --> 00:34:29.450\nThe unicast addresses the traditional\nhost based address that we would think of\n\n708\n00:34:29.450 --> 00:34:32.340\nin IPV4 that we split into our network and\n\n709\n00:34:32.340 --> 00:34:37.310\nwe split into our host portion when we\ntalk about our subnet and our prefix.\n\n710\n00:34:37.310 --> 00:34:38.818\nRight, let's just call it unicast address.\n\n711\n00:34:38.818 --> 00:34:43.500\nNow that unicast address can be set up and\nis indeed set up and given to the host.\n\n712\n00:34:43.500 --> 00:34:48.050\nThe host may be able to pull that\nthrough DHCP from an IPV 6 scope.\n\n713\n00:34:48.050 --> 00:34:51.540\nThe host may be able to have\nthat manually assigned, right?\n\n714\n00:34:51.540 --> 00:34:54.950\nThere's different ways we can do that,\nbut remember it can be based on, and\n\n715\n00:34:54.950 --> 00:34:58.280\nindeed we saw, it can be based on\nthe idea of setting that up and\n\n716\n00:34:58.280 --> 00:34:59.220\nmanually putting it in.\n\n717\n00:34:59.220 --> 00:35:00.620\nIt could be derived,\n\n718\n00:35:00.620 --> 00:35:04.640\nthe host unique identifier portion,\ncould be derived from the Mac address.\n\n719\n00:35:04.640 --> 00:35:08.330\nIt is potentially a randomly generated\nstring of hexadecimal information.\n\n720\n00:35:08.330 --> 00:35:12.330\nThere's different ways we may get that\nhost portion, so just keep that in mind.\n\n721\n00:35:12.330 --> 00:35:13.250\nThe route portion, or\n\n722\n00:35:13.250 --> 00:35:16.730\nthe prefix in the beginning rather,\nthat specifies the network portion.\n\n723\n00:35:16.730 --> 00:35:18.550\nIt's obviously gonna have to be coded and\n\n724\n00:35:18.550 --> 00:35:21.670\nput in based on whatever we're thinking\nthe network is we're gonna join.\n\n725\n00:35:21.670 --> 00:35:26.080\nSo that part is not randomly generated,\nthe way the host ID can be, but,\n\n726\n00:35:26.080 --> 00:35:29.400\nit is going to be important to understand\nthat that prefix will associate us with\n\n727\n00:35:29.400 --> 00:35:32.910\nthe network, and the other block,\nor end of that part of the address,\n\n728\n00:35:32.910 --> 00:35:35.795\nthe back end of it is gonna\nbe the host identifier.\n\n729\n00:35:35.795 --> 00:35:38.530\nAnd the unicast address is\njust the name we give that for\n\n730\n00:35:38.530 --> 00:35:40.142\na standard address in IPv6.\n\n731\n00:35:40.142 --> 00:35:44.620\nMulticasting refers to the ability\nto have a multi cast based address,\n\n732\n00:35:44.620 --> 00:35:46.210\nor multiple interfaces.\n\n733\n00:35:46.210 --> 00:35:47.970\nThat's what multi casting refers to.\n\n734\n00:35:47.970 --> 00:35:51.150\nAnd any cast identifies\nthe idea that we can again,\n\n735\n00:35:51.150 --> 00:35:53.630\nuse an address in\na slightly different way.\n\n736\n00:35:53.630 --> 00:35:56.938\nWe'll go into more detail associated\nwith this in our next upcoming episode.\n\n737\n00:35:56.938 --> 00:35:58.670\nBut just wanna at least\nget that out there so\n\n738\n00:35:58.670 --> 00:36:01.930\nyou're starting to think about the address\ntypes and that we're familiar with.\n\n739\n00:36:01.930 --> 00:36:05.730\nAgain, the vocabulary thought\nprocess associated with this.\n\n740\n00:36:05.730 --> 00:36:09.420\n&gt;&gt; All right, what a great start to IPv6,\nbut we really haven't just scratched\n\n741\n00:36:09.420 --> 00:36:12.100\nthe surface so stay with us for\nmore information.\n\n742\n00:36:12.100 --> 00:36:13.570\nFor this show we'll go ahead and sign out.\n\n743\n00:36:13.570 --> 00:36:15.770\nRemember, I'm your host Cherokee Boose.\n\n744\n00:36:15.770 --> 00:36:16.500\n&gt;&gt; I'm Adam Gordon.\n\n745\n00:36:16.500 --> 00:36:18.421\n&gt;&gt; See you next time here at ITProTV\n\n746\n00:36:18.421 --> 00:36:25.704\n[MUSIC]\n\n747\n00:36:25.704 --> 00:36:28.244\nThank you for watching ITPro.TV.\n\n",
          "vimeoId": "217016120"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing IPv6. Adam explains three ways we can categorize addresses such as unicast, multicast and anycast. They also discuss types of address, how they compare to IPv4 address as well as stressing the importance of understanding prefixes.",
          "length": "1754",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-2-implementing_ipv6_pt2-050917-high.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-2-implementing_ipv6_pt2-050917-high-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-2-implementing_ipv6_pt2-050917-high-sm.jpg",
          "title": "Implementing IPv6 Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:01.891\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:01.891 --> 00:00:06.296\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.296 --> 00:00:08.217\n[MUSIC]\n\n4\n00:00:08.217 --> 00:00:11.977\n&gt;&gt; You're watching ITProTv.\n\n5\n00:00:11.977 --> 00:00:15.581\n&gt;&gt; Welcome to your Networking\nwith Windows Server 2016 Series.\n\n6\n00:00:15.581 --> 00:00:17.060\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.300 --> 00:00:21.670\nIn the previous episode,\nwe introduced you to IPv6.\n\n8\n00:00:21.670 --> 00:00:22.930\nAdam did, and guess what?\n\n9\n00:00:22.930 --> 00:00:26.180\nWe were able to convince him to\ncome back in studios with us today.\n\n10\n00:00:26.180 --> 00:00:27.887\nSo thank you for joining us today, Adam.\n\n11\n00:00:27.887 --> 00:00:30.210\n[LAUGH] Don't go.\n\n12\n00:00:30.210 --> 00:00:31.070\n&gt;&gt; I'm tethered.\n\n13\n00:00:31.070 --> 00:00:31.980\nI can't go too far.\n\n14\n00:00:31.980 --> 00:00:35.120\nAll right, so we're gonna\ncontinue our conversations here.\n\n15\n00:00:35.120 --> 00:00:38.440\nWe had laid down some of the basic\nelements, thought processes, and\n\n16\n00:00:38.440 --> 00:00:42.050\njust general over view material that we\nwanna make sure we're aware of for IPV6.\n\n17\n00:00:42.050 --> 00:00:44.580\nWe're gonna continue that conversation.\n\n18\n00:00:44.580 --> 00:00:46.531\nWe left off the end of last episode,\n\n19\n00:00:46.531 --> 00:00:51.380\njust really laying down the idea of what\nthe different address types would be.\n\n20\n00:00:51.380 --> 00:00:54.030\nAnd we talked about or at least I\nthrew out there for you quickly.\n\n21\n00:00:54.030 --> 00:00:57.283\nUnicast, multicast, talked about anycast.\n\n22\n00:00:57.283 --> 00:01:02.094\nThought we'd probably just pick up there\nand talk about, as a high level category,\n\n23\n00:01:02.094 --> 00:01:04.410\nthose addresses, and then drill down.\n\n24\n00:01:04.410 --> 00:01:07.420\nBecause within the unicast IPv6 addresses,\n\n25\n00:01:07.420 --> 00:01:10.550\nwe could talk about things like\nglobal unicast, and some of the other\n\n26\n00:01:10.550 --> 00:01:14.010\nones that are there that make up the\nspecificity of different address types.\n\n27\n00:01:14.010 --> 00:01:15.140\nSo, we'll start with that.\n\n28\n00:01:15.140 --> 00:01:19.364\nSo let's talk about unicast\nversus multicast versus anycast.\n\n29\n00:01:19.364 --> 00:01:24.488\nWe often in IPv4, would talk about\nunitcast, multicast, and broadcast, right,\n\n30\n00:01:24.488 --> 00:01:29.200\nand that's the three categories or\nthree types of addresses that we refer to.\n\n31\n00:01:29.200 --> 00:01:33.670\nAgain, at a very high level, think of them\nas large containers or buckets or for-\n\n32\n00:01:33.670 --> 00:01:34.230\n&gt;&gt; Baskets.\n\n33\n00:01:34.230 --> 00:01:36.016\n&gt;&gt; Cherokee has said baskets.\n\n34\n00:01:36.016 --> 00:01:38.010\n&gt;&gt; [LAUGH]\n&gt;&gt; Right, so we can think about that.\n\n35\n00:01:38.010 --> 00:01:41.955\nAnd we can think about just\nputting different types of\n\n36\n00:01:41.955 --> 00:01:44.502\naddresses into those baskets.\n\n37\n00:01:44.502 --> 00:01:49.010\nTo just categorized the kinds of\ninformation that would be flowing across\n\n38\n00:01:49.010 --> 00:01:52.170\nthem or and the kinds of\ncommunication that we may engage in,\n\n39\n00:01:52.170 --> 00:01:57.080\nwith those kinds of addresses or those\naddress types that are assigned there.\n\n40\n00:01:57.080 --> 00:02:01.110\nSo unicast would traditionally\nbe a one-to-one transmission.\n\n41\n00:02:01.110 --> 00:02:03.390\nEach party has a dedicated IP address.\n\n42\n00:02:03.390 --> 00:02:07.520\nIn our case, IPv4 and or IPv6, doesn't\nreally matter which, but has a dedicated\n\n43\n00:02:07.520 --> 00:02:11.840\nIP address on either side that we\ncan send or receive traffic between.\n\n44\n00:02:11.840 --> 00:02:15.720\nThis would be very similar to our\nability to be able to have let's say,\n\n45\n00:02:15.720 --> 00:02:16.910\na phone conversation.\n\n46\n00:02:16.910 --> 00:02:21.010\nIf we each had a cell phone, and we picked\nup our cell phones, and one of us dialed\n\n47\n00:02:21.010 --> 00:02:24.080\nthe other, using our phone numbers\nas the dedicated endpoints or\n\n48\n00:02:24.080 --> 00:02:29.170\naddresses to complete that communication,\nwe would then have a unicast transmission.\n\n49\n00:02:29.170 --> 00:02:31.230\nA dedicated one to one transmission.\n\n50\n00:02:31.230 --> 00:02:34.321\nSo that would be the equivalent\nof what a unicast would be.\n\n51\n00:02:34.321 --> 00:02:35.233\nIt is a category, and\n\n52\n00:02:35.233 --> 00:02:37.940\nwe have the same categorical\nthought process here with IPv6.\n\n53\n00:02:38.980 --> 00:02:42.262\nMulticast, allows us as I\nsaid in the last episode,\n\n54\n00:02:42.262 --> 00:02:45.481\nto identify multiple\ninterfaces as does anycast.\n\n55\n00:02:45.481 --> 00:02:50.340\nBut the idea behind it is multicast would\nbe the equivalent of one to a group.\n\n56\n00:02:50.340 --> 00:02:54.990\nMeaning, I wanna send information but\nI wanna do it to a specified group or\n\n57\n00:02:54.990 --> 00:02:59.340\na subset of a very large area that's\ngonna be identified through some\n\n58\n00:02:59.340 --> 00:03:00.624\nsort of mechanism.\n\n59\n00:03:00.624 --> 00:03:03.466\nIn this case,\nperhaps a multicast IP address, or\n\n60\n00:03:03.466 --> 00:03:05.843\na member of the multicast address block.\n\n61\n00:03:05.843 --> 00:03:10.389\nFor instance, would be here, packets\naddressed to a multicast address or\n\n62\n00:03:10.389 --> 00:03:15.200\ndelivered to interfaces that are\nidentified or mapped with that address.\n\n63\n00:03:15.200 --> 00:03:18.456\nRemember, we talked about\nthe fact that an IPv4,\n\n64\n00:03:18.456 --> 00:03:23.013\nour multicast address block is\ngonna be from 224 to 239, right?\n\n65\n00:03:23.013 --> 00:03:26.793\nSo, we're thinking about the fact that\nwe'll be in a class D address block\n\n66\n00:03:26.793 --> 00:03:28.162\nin IPv4.\n\n67\n00:03:28.162 --> 00:03:33.320\nMulticast in generically, is the idea of\nmaybe turning on the radio in your car,\n\n68\n00:03:33.320 --> 00:03:35.100\nand tuning in to a certain channel.\n\n69\n00:03:35.100 --> 00:03:39.145\nWhatever that may be, you become\na member of that group, quote unquote,\n\n70\n00:03:39.145 --> 00:03:43.861\nthe listeners of channel X, or Y, or Z, by\ntuning into a certain station frequency.\n\n71\n00:03:43.861 --> 00:03:47.928\nAnd because you're listening on\nyour end point, your receiver,\n\n72\n00:03:47.928 --> 00:03:52.635\nto a very specific address, or\nin this case, a tuned in station channel.\n\n73\n00:03:52.635 --> 00:03:55.582\nThat's the wavelength, or\nthe information you received.\n\n74\n00:03:55.582 --> 00:03:59.222\nYou ignore filter out all the other\nchannels, all the other wavelengths,\n\n75\n00:03:59.222 --> 00:04:02.512\nall the other opportunities to\nlisten to programs out there,\n\n76\n00:04:02.512 --> 00:04:06.432\ncuz you made a selective choice to become\ninvolved with that particular one.\n\n77\n00:04:06.432 --> 00:04:10.232\nThis will be the concept that we think\nwhen we think a multicasting, right?\n\n78\n00:04:10.232 --> 00:04:12.755\nAnd then, when we think of anycasting,\n\n79\n00:04:12.755 --> 00:04:16.700\nwe're thinking about the equivalent\nof a broadcast in IPv4.\n\n80\n00:04:16.700 --> 00:04:21.275\nWe're sending out a signal to anybody,\nhence the concept or the label or\n\n81\n00:04:21.275 --> 00:04:26.525\nthe name, right, any entity that is on\nthat particular system that is listening,\n\n82\n00:04:26.525 --> 00:04:29.675\nwhether they wanna know about it or\nnot in theory,\n\n83\n00:04:29.675 --> 00:04:32.600\nwill at least hear\nthe anycast transmission.\n\n84\n00:04:32.600 --> 00:04:35.420\nOr in the IPv4 language,\nthe broadcast transmission.\n\n85\n00:04:35.420 --> 00:04:39.340\nSo I wanna think about the fact that\nwhen we have an anycast solution,\n\n86\n00:04:39.340 --> 00:04:41.450\nits like we're having\na broadcast in some respect.\n\n87\n00:04:41.450 --> 00:04:44.280\nSo essentially,\nvery similar to what we talked about.\n\n88\n00:04:44.280 --> 00:04:48.369\nThe nearest interface identified,\nwhen we are sending out information,\n\n89\n00:04:48.369 --> 00:04:51.680\nwe'll send out anycast address or\nwill think about them as,\n\n90\n00:04:51.680 --> 00:04:55.080\ninstead of a broadcast on IPv4\nwhere we send to everybody, right?\n\n91\n00:04:55.080 --> 00:04:58.350\nBecause, we are broadcasting\nessentially on IPv4 when we do this.\n\n92\n00:04:58.350 --> 00:04:59.580\nBut anycast is a little bit different.\n\n93\n00:04:59.580 --> 00:05:02.870\nWhat I wrote down on my notes just to give\nyou with the specific with the appropriate\n\n94\n00:05:02.870 --> 00:05:07.020\nrouting topology I say, package addressed\nany cast addresses are delivered to\n\n95\n00:05:07.020 --> 00:05:10.880\na single interface, and also the nearest\ninterface identified by that address.\n\n96\n00:05:10.880 --> 00:05:15.764\nMeaning, were zeroing in specifically on\na target that is gonna be near to that\n\n97\n00:05:15.764 --> 00:05:16.951\ninterface.\n\n98\n00:05:16.951 --> 00:05:20.540\nInterface defined as being closest\nwith regards to routing distance.\n\n99\n00:05:20.540 --> 00:05:24.640\nSo as in any cast address is used for\none to many communications, right,\n\n100\n00:05:24.640 --> 00:05:28.980\nthe idea is, we're sending that\ninformation out and we're saying, hey,\n\n101\n00:05:28.980 --> 00:05:30.560\nI wanna be able to deliver that.\n\n102\n00:05:30.560 --> 00:05:31.723\nI wanna be able to send that out.\n\n103\n00:05:31.723 --> 00:05:35.352\nI talked about broadcast\njust in the IPv4 language.\n\n104\n00:05:35.352 --> 00:05:39.824\nAnd anycast address is used, essentially\nfor this one to many communications,\n\n105\n00:05:39.824 --> 00:05:41.810\nright, or one of many I should say.\n\n106\n00:05:41.810 --> 00:05:44.470\nOne to one of many I should say, it's\nprobably the better way to think of that.\n\n107\n00:05:44.470 --> 00:05:48.538\nWhere we are sending it, but unlike in\nIPv4, we're gonna broadcast everybody,\n\n108\n00:05:48.538 --> 00:05:52.212\nwe're gonna send it out, and send it\nto somebody in that everybody group.\n\n109\n00:05:52.212 --> 00:05:53.950\nOr we're gonna be selective.\n\n110\n00:05:53.950 --> 00:05:56.220\nWe're gonna say, you know what,\nI'm not gonna send it to everybody.\n\n111\n00:05:56.220 --> 00:05:59.810\nI don't care if everybody hears it, but\nI don't wanna bother everybody with it.\n\n112\n00:05:59.810 --> 00:06:01.970\nI'm gonna send it to Maybe Cherokee,\n\n113\n00:06:01.970 --> 00:06:05.960\nor I'm gonna send it maybe to whoever's\nclosest to this particular endpoint.\n\n114\n00:06:05.960 --> 00:06:08.295\nBecause that's what I'm targeting,\nright, whatever it may be.\n\n115\n00:06:08.295 --> 00:06:08.798\n&gt;&gt; [LAUGH]\n&gt;&gt; No,\n\n116\n00:06:08.798 --> 00:06:11.660\nyou're not gonna be able to\nsneak in a comment, right?\n\n117\n00:06:11.660 --> 00:06:14.390\nSo we're gonna be delivering it to\na single interface in other words.\n\n118\n00:06:14.390 --> 00:06:19.032\nSo it is the radically different thought\nprocess, we're switching this idea around.\n\n119\n00:06:19.032 --> 00:06:21.370\nBut we're sense at getting\naway from broadcasts, right,\n\n120\n00:06:21.370 --> 00:06:23.810\ncuz we're not broadcasting\nin the traditional sense.\n\n121\n00:06:23.810 --> 00:06:26.900\nWe're directing our\nconversations to endpoints.\n\n122\n00:06:26.900 --> 00:06:32.522\nBut we're doing it with some specificity,\ndepending on the degree of specificity.\n\n123\n00:06:32.522 --> 00:06:34.260\nI can't get that word out twice.\n\n124\n00:06:34.260 --> 00:06:37.420\nSpecificity that we want to\nbe able to essentially use.\n\n125\n00:06:37.420 --> 00:06:40.300\nOr choose to use,\nas we think about targeting, or\n\n126\n00:06:40.300 --> 00:06:45.080\nthink about putting our transmissions in\nthese different buckets as address types.\n\n127\n00:06:45.080 --> 00:06:47.376\nAnd Cherokee did want to say something so,\nwhat was the comment,\n\n128\n00:06:47.376 --> 00:06:48.226\nwhat was the question?\n\n129\n00:06:48.226 --> 00:06:50.700\n&gt;&gt; So it's not super important,\nI was just going to ask you,\n\n130\n00:06:50.700 --> 00:06:52.329\nif you ever play that game telephone.\n\n131\n00:06:52.329 --> 00:06:55.873\nIt's a game, where you can kind of sit\nin a circle, and one person starts, and\n\n132\n00:06:55.873 --> 00:06:58.024\nthey whisper into the other person's ear,\nand\n\n133\n00:06:58.024 --> 00:07:00.200\nit goes around the circle\nto deliver a message.\n\n134\n00:07:00.200 --> 00:07:01.080\n&gt;&gt; But it always changes.\n\n135\n00:07:01.080 --> 00:07:03.610\n&gt;&gt; I know, [CROSSTALK] But\nsee with IPv6, we don't change, right?\n\n136\n00:07:03.610 --> 00:07:04.614\n&gt;&gt; Well, we hope we don't.\n\n137\n00:07:04.614 --> 00:07:05.369\n&gt;&gt; We hope we don't.\n\n138\n00:07:05.369 --> 00:07:06.791\n&gt;&gt; [CROSSTALK] we have integrity.\n\n139\n00:07:06.791 --> 00:07:11.179\nWe also have confidentiality, cuz we do\nuse IPv6 uses IP Sec to be able to send\n\n140\n00:07:11.179 --> 00:07:13.620\ntransmissions securely, unlike IPv4.\n\n141\n00:07:13.620 --> 00:07:14.960\n&gt;&gt; No eavesdropping.\n\n142\n00:07:14.960 --> 00:07:16.358\n&gt;&gt; Potentially, no eavesdropping.\n\n143\n00:07:16.358 --> 00:07:17.412\n&gt;&gt; Telling our secret, right, potentially.\n\n144\n00:07:17.412 --> 00:07:18.422\n[LAUGH]\n&gt;&gt; If we do that properly,\n\n145\n00:07:18.422 --> 00:07:19.410\nthat won't happen.\n\n146\n00:07:19.410 --> 00:07:22.551\nSo I mean, those things are gonna be\nimportant, right, those are gonna be good,\n\n147\n00:07:22.551 --> 00:07:24.337\nand we are hoping that,\nthat will be the case.\n\n148\n00:07:24.337 --> 00:07:27.503\nBut, we don't know for sure, I mean, this\nis one of the challenges in general with\n\n149\n00:07:27.503 --> 00:07:29.610\ntransmissions, that's\nwhy we need integrity.\n\n150\n00:07:29.610 --> 00:07:31.898\nRight, we don't know for\nsure the transmission may or\n\n151\n00:07:31.898 --> 00:07:35.140\nmay not have been modified,\nif we don't have an integrity mechanism.\n\n152\n00:07:35.140 --> 00:07:37.700\nTypically a hash, right,\nmore often that not.\n\n153\n00:07:37.700 --> 00:07:40.307\nWe call it a digital signature for\nsigning and sending emails.\n\n154\n00:07:40.307 --> 00:07:42.743\nBut it's essentially just\na message I just for hash value,\n\n155\n00:07:42.743 --> 00:07:45.811\nthey mean the same thing at the end of\nthe day, no matter where we use them and\n\n156\n00:07:45.811 --> 00:07:48.073\napply them, but\nthere are integrity checks, right?\n\n157\n00:07:48.073 --> 00:07:52.328\nThey're mechanisms that say, this packet\nstructured this way, whatever it is,\n\n158\n00:07:52.328 --> 00:07:56.396\nwhen it was sent it looked like this, and\nalong the way, if we use your telephone\n\n159\n00:07:56.396 --> 00:07:59.707\nanalogy, everybody who touches\nit kept the integrity intact.\n\n160\n00:07:59.707 --> 00:08:03.205\nThey didn't modify the packet in any way,\nand when we ultimately delivered it, But\n\n161\n00:08:03.205 --> 00:08:06.622\nwe can validate that, right, because we do\nhave the ability to be able to do that.\n\n162\n00:08:06.622 --> 00:08:10.232\nSo what would be our favorite hashing\nalgorithm that maybe we would see\n\n163\n00:08:10.232 --> 00:08:12.262\nimplemented for something like this?\n\n164\n00:08:12.262 --> 00:08:14.050\n&gt;&gt; SHA256?\n\n165\n00:08:14.050 --> 00:08:19.695\n&gt;&gt; I'm thinking MD5, but it could be MD5,\nit could be SHA160, it could be SHA256.\n\n166\n00:08:19.695 --> 00:08:22.448\nIt could be lots of different\nhashing algorithms in theory, right,\n\n167\n00:08:22.448 --> 00:08:23.260\nwe do have choices.\n\n168\n00:08:23.260 --> 00:08:24.710\nWhether we choose any one in particular or\n\n169\n00:08:24.710 --> 00:08:27.610\nnot, what's important is that we\nwant it to do something like that.\n\n170\n00:08:27.610 --> 00:08:29.152\nWe would need a hash of some kind.\n\n171\n00:08:29.152 --> 00:08:33.874\n&gt;&gt; An in the future we could even utilize\nquantum cryptography to have that\n\n172\n00:08:33.874 --> 00:08:38.610\nself destruct capability if the message\nwas interfered with, right?\n\n173\n00:08:39.610 --> 00:08:42.580\n&gt;&gt; Potentially.\n\n174\n00:08:42.580 --> 00:08:45.890\nSo you mentioned something that's\nkinda cool in a future technology.\n\n175\n00:08:45.890 --> 00:08:48.180\nBut if you look at what we can do now.\n\n176\n00:08:48.180 --> 00:08:49.780\nWe don't do it with quantum cryptography,\n\n177\n00:08:49.780 --> 00:08:52.930\nbut many of those instant\nmessaging systems,\n\n178\n00:08:52.930 --> 00:08:58.380\nnot WhatsApp per say although WhatsApp\ndoes this, it does have this capability.\n\n179\n00:08:58.380 --> 00:09:01.620\nTools like WhatsApp or\napps I should say like WhatsApp.\n\n180\n00:09:01.620 --> 00:09:03.835\nWhatever instant messaging platform or\n\n181\n00:09:03.835 --> 00:09:08.120\nVOIP-based instant messaging app\nyou may choose to use today.\n\n182\n00:09:08.120 --> 00:09:11.147\nA lot of them have this capability\nto be able to send messages but for\n\n183\n00:09:11.147 --> 00:09:14.084\na specified amount of time before\nthey will disappear, right?\n\n184\n00:09:14.084 --> 00:09:15.122\n&gt;&gt; Yeah, even [CROSSTALK].\n\n185\n00:09:15.122 --> 00:09:17.675\n&gt;&gt; So that's a new thing in the sense that\nthat's a feature that's been around now,\n\n186\n00:09:17.675 --> 00:09:19.200\nI don't know, maybe a year or two.\n\n187\n00:09:19.200 --> 00:09:21.380\nBut in the beginning, they just\nsent messages, they were archived,\n\n188\n00:09:21.380 --> 00:09:22.760\nthey were there all the time.\n\n189\n00:09:22.760 --> 00:09:23.860\nFacebook does it, I guess, right?\n\n190\n00:09:23.860 --> 00:09:24.805\nThey have that capability as well.\n\n191\n00:09:24.805 --> 00:09:25.950\n&gt;&gt; Facebook, iPhones.\n\n192\n00:09:25.950 --> 00:09:27.160\n&gt;&gt; iPhones do it as well, right,\n\n193\n00:09:27.160 --> 00:09:32.470\nso a lot of the instant messaging\napplications are going this route.\n\n194\n00:09:32.470 --> 00:09:33.370\nNot because of IPv6,\n\n195\n00:09:33.370 --> 00:09:36.930\nnot because of quantum cryptography,\nbecause of a lot of other reasons.\n\n196\n00:09:36.930 --> 00:09:40.340\nThe underlying technologies are not so\nimportant, but\n\n197\n00:09:40.340 --> 00:09:42.970\nthe idea generically that\nwe could send a message.\n\n198\n00:09:42.970 --> 00:09:45.280\nThat it could exist in theory for\n\n199\n00:09:45.280 --> 00:09:50.180\na period of time as you're suggesting,\nit could then actually be self destructed.\n\n200\n00:09:50.180 --> 00:09:53.440\nMechanism again, irrelevant, not\nwithstanding, whatever choices we make.\n\n201\n00:09:53.440 --> 00:09:56.450\nBut the fact that we essentially\nset a TTL on the message and\n\n202\n00:09:56.450 --> 00:09:58.940\njust destroy the message\nafter seven seconds or\n\n203\n00:09:58.940 --> 00:10:02.590\nwhatever it may be is actually\na concept that exists now, right?\n\n204\n00:10:02.590 --> 00:10:04.830\nIt's not foreign to us by any means.\n\n205\n00:10:04.830 --> 00:10:07.790\nAnd it is another way of\nensuring depending on what other\n\n206\n00:10:07.790 --> 00:10:10.110\nmechanisms we apply on top of that.\n\n207\n00:10:10.110 --> 00:10:14.053\nThat our information maybe more secure,\nprobably less likely to be intercepted.\n\n208\n00:10:14.053 --> 00:10:18.386\nAnd it's less likely to be gathered if\nit is not intercepted on the wire in\n\n209\n00:10:18.386 --> 00:10:19.785\ntransmission.\n\n210\n00:10:19.785 --> 00:10:22.715\nHighly unlikely that it\ncan be intercepted and\n\n211\n00:10:22.715 --> 00:10:25.890\ngathered from the end point cuz it\nwon't exist there for very long.\n\n212\n00:10:25.890 --> 00:10:28.220\nSo, there are some positives to that, but\n\n213\n00:10:28.220 --> 00:10:30.790\nthen the downside is of course you can't\ngo back and look at your history and\n\n214\n00:10:30.790 --> 00:10:33.660\ngo what was that thing I was suppose to\ndo and it's not there anymore, right?\n\n215\n00:10:33.660 --> 00:10:34.780\nWe just don't know what it is.\n\n216\n00:10:34.780 --> 00:10:37.260\nSo there's ups and down I suppose,\nbut we could do that.\n\n217\n00:10:37.260 --> 00:10:40.370\nQuantum cryptography would give us some\ninteresting opportunities there and\n\n218\n00:10:40.370 --> 00:10:42.690\nit would be interesting to see\nin several years how that.\n\n219\n00:10:42.690 --> 00:10:45.290\nYeah, ultimately plays out\nbecause we're actually playing\n\n220\n00:10:45.290 --> 00:10:47.980\nwith those ideas as we speak\nwith quantum cryptography.\n\n221\n00:10:47.980 --> 00:10:51.280\nBut they're not being\nimplemented right now\n\n222\n00:10:51.280 --> 00:10:53.910\nin a production environment commercially.\n\n223\n00:10:53.910 --> 00:10:55.330\nThey're really more in the lab and\n\n224\n00:10:55.330 --> 00:10:58.780\nbeing used in some strange and\ninnovative ways outside of the mainstream.\n\n225\n00:10:58.780 --> 00:11:01.340\nBut they may come to fruition,\nwho knows, at some point in the future.\n\n226\n00:11:01.340 --> 00:11:04.447\nSo it's definitely something to think\nabout and to keep your eyes open for\n\n227\n00:11:04.447 --> 00:11:05.157\nas we would say.\n\n228\n00:11:05.157 --> 00:11:08.709\nIPv6 new and\nimproved would be the title of that one.\n\n229\n00:11:08.709 --> 00:11:11.400\nAll right, so within the concept\nof these address buckets,\n\n230\n00:11:11.400 --> 00:11:14.370\nlet's just talk about some\nspecific addresses that exist.\n\n231\n00:11:14.370 --> 00:11:16.600\nGlobal unicast addresses.\n\n232\n00:11:16.600 --> 00:11:19.682\nThis is going to be allowing\nus to have the equivalent of\n\n233\n00:11:19.682 --> 00:11:22.094\npublically routed IP addresses in IPv4.\n\n234\n00:11:22.094 --> 00:11:25.434\nOur ISPs will provide this to us for IPv6.\n\n235\n00:11:25.434 --> 00:11:29.652\nSo a global unicast address is\nthe equivalent of that publically routable\n\n236\n00:11:29.652 --> 00:11:30.880\nIPv4 address.\n\n237\n00:11:30.880 --> 00:11:35.200\nUnique local addresses, these are gonna\nbe the equivalent of IPv4 private\n\n238\n00:11:35.200 --> 00:11:39.000\naddresses that are routable on the LAN but\nare not gonna exist outside.\n\n239\n00:11:39.000 --> 00:11:42.620\nSo this would be the 10 dot address block,\n\n240\n00:11:42.620 --> 00:11:47.610\nthe 172.16 dot address block in IPv4 that\nare added and then translated over to\n\n241\n00:11:47.610 --> 00:11:52.220\npublicly routable IPs, unique local\naddresses are what we call those in IPv6.\n\n242\n00:11:52.220 --> 00:11:55.890\nLink local addresses for\ncommunication only on the local subnet.\n\n243\n00:11:55.890 --> 00:11:58.940\nThese would be the equivalent\nof the automatic private IP\n\n244\n00:11:58.940 --> 00:12:00.670\naddress block in IPv4.\n\n245\n00:12:00.670 --> 00:12:02.800\nThe APIPA base addresses.\n\n246\n00:12:02.800 --> 00:12:05.950\nAnd that's what we would see If\nwe're talking about them in IPv6,\n\n247\n00:12:05.950 --> 00:12:08.120\nthey're called link local addresses.\n\n248\n00:12:08.120 --> 00:12:12.980\nAnd they are configured on our interface\nfor us and the equivalent in IPv6 in terms\n\n249\n00:12:12.980 --> 00:12:16.090\nof the hex decibel structure is\nwhat we would see for those.\n\n250\n00:12:16.090 --> 00:12:18.570\nThey always by the way, the prefix for\n\n251\n00:12:18.570 --> 00:12:23.800\nthe link local address always\nstarts with FE80::/64.\n\n252\n00:12:23.800 --> 00:12:27.150\nRight, as the 64 bits\nsignify the whole prefix.\n\n253\n00:12:27.150 --> 00:12:29.817\nBut it's always gonna be FE80::.\n\n254\n00:12:29.817 --> 00:12:30.770\nAnd that's what we're gonna see for that.\n\n255\n00:12:30.770 --> 00:12:34.060\nSo, if we were to take a look at that,\nthat's what you would see, right?\n\n256\n00:12:34.060 --> 00:12:35.136\nSo just so you know.\n\n257\n00:12:35.136 --> 00:12:39.010\nAnd we also have what are called\n\"special addresses\", right?\n\n258\n00:12:39.010 --> 00:12:40.740\nI'm gonna pull up the address,\n\n259\n00:12:40.740 --> 00:12:43.890\nipconfig here in a second to show of\nwhat a couple of these look like.\n\n260\n00:12:43.890 --> 00:12:46.940\nBut before I do that,\nunspecified addresses,\n\n261\n00:12:46.940 --> 00:12:49.670\nthese are going to be the equivalent\nof no address assigned.\n\n262\n00:12:49.670 --> 00:12:51.002\nAll zeros in other words.\n\n263\n00:12:51.002 --> 00:12:56.760\nIn IPv4, 0.0.0.0 indicates no address,\nthis will be eight zeros, right?\n\n264\n00:12:56.760 --> 00:12:59.240\nIn a row with colons,\nwe don't write it that way,\n\n265\n00:12:59.240 --> 00:13:02.185\nwe write it instead it's just two semi\ncolons, right, with nothing there.\n\n266\n00:13:02.185 --> 00:13:06.580\nAnd that would signify no address assigned\nor unspecified address and a loopback\n\n267\n00:13:06.580 --> 00:13:10.404\naddress cuz we do have the capability\nto do loop back address in IPv6.\n\n268\n00:13:10.404 --> 00:13:14.880\nThat would be seven of the eight areas or\nblocks will be zeroes.\n\n269\n00:13:14.880 --> 00:13:16.440\nThe last one would have a one.\n\n270\n00:13:16.440 --> 00:13:19.871\nSo we again, tend to shorten that and\njust simply say ::1 and\n\n271\n00:13:19.871 --> 00:13:24.105\nthat will be the equivalent of\nour loopback adapter, 127.0.0.1.\n\n272\n00:13:24.105 --> 00:13:28.230\nIn IPv4 language or speak,\nthat becomes our loopback address.\n\n273\n00:13:28.230 --> 00:13:31.630\nAgain, a special \"address\" in IPv6.\n\n274\n00:13:31.630 --> 00:13:34.190\nAnd I showed you this I\nthink in the last episode.\n\n275\n00:13:34.190 --> 00:13:37.250\nBut let's just take a look real quick,\nwhen we bring this up, I showed you or\n\n276\n00:13:37.250 --> 00:13:39.150\nat least I think I brought this up for\nyou.\n\n277\n00:13:39.150 --> 00:13:42.420\nThat we would have unspecified right here.\n\n278\n00:13:42.420 --> 00:13:43.980\nAll zeroes for IPv4,\n\n279\n00:13:43.980 --> 00:13:48.760\ntwo colons will signify that with\nno zeroes in the IPv6 equivalent.\n\n280\n00:13:48.760 --> 00:13:51.750\nAgain, in theory you could write\neight blocks with just a zero in each\n\n281\n00:13:51.750 --> 00:13:52.395\none and a colon.\n\n282\n00:13:52.395 --> 00:13:54.030\nBut that's the long way of doing it.\n\n283\n00:13:54.030 --> 00:13:57.710\nAnd we don't use that notation unless\nwe're just showing it to you and\n\n284\n00:13:57.710 --> 00:13:59.580\nperhaps writing it out to explain it.\n\n285\n00:13:59.580 --> 00:14:03.650\nYou would see it actually just\ndesignated as two colons right there.\n\n286\n00:14:03.650 --> 00:14:06.300\nLoopback would be the equivalent\nto two colons and a one.\n\n287\n00:14:06.300 --> 00:14:10.403\nYou'll see our autoconfigured, right,\nthat's gonna be our equivalent of\n\n288\n00:14:10.403 --> 00:14:14.960\nthe APIPA address as we talked about,\nFE80::, that's what you'll see there.\n\n289\n00:14:14.960 --> 00:14:16.720\nOur broadcast address, right, remember,\n\n290\n00:14:16.720 --> 00:14:19.511\nwe use multi casting instead of\nbroadcasting as we were talking about.\n\n291\n00:14:19.511 --> 00:14:23.438\nSo we'll use multi casting in IPv6 to\nbe able to send out to that group,\n\n292\n00:14:23.438 --> 00:14:26.460\nthat's kind of our thought process for\nbroadcast.\n\n293\n00:14:26.460 --> 00:14:30.925\nRemember, any casting is me sending to\nsomebody specified within that range that\n\n294\n00:14:30.925 --> 00:14:34.549\nwe were talking about and\nthen multi casting was that the signal for\n\n295\n00:14:34.549 --> 00:14:35.952\nyou to ask a question.\n\n296\n00:14:35.952 --> 00:14:36.790\n&gt;&gt; When you're finished?\n\n297\n00:14:36.790 --> 00:14:39.070\n&gt;&gt; I thought you may have just\nbeen waving or shooing a fly away.\n\n298\n00:14:39.070 --> 00:14:41.905\nWasn't sure, caught it out of\nthe corner when I was looking down.\n\n299\n00:14:41.905 --> 00:14:47.283\nOr multicasting as you can see and\nas we talked about FF00, right?\n\n300\n00:14:47.283 --> 00:14:48.280\n:: And then /8 notation, right?\n\n301\n00:14:48.280 --> 00:14:51.699\nCuz that's our 224 address block for\nmulticasting.\n\n302\n00:14:51.699 --> 00:14:54.190\nSo, we'll leave this up for\na second while Cherokee ask cuz\n\n303\n00:14:54.190 --> 00:14:57.150\nshe may be wanting to ask something\nreferring to one of these addresses.\n\n304\n00:14:57.150 --> 00:14:58.120\n&gt;&gt; It's not really a question but\n\n305\n00:14:58.120 --> 00:15:01.150\njust maybe a statement of the fact,\nyou guys are so lucky, you're still lucky\n\n306\n00:15:01.150 --> 00:15:03.690\nto have this information we\nare gonna include in the show notes.\n\n307\n00:15:03.690 --> 00:15:04.590\nAdam, I would have died for\n\n308\n00:15:04.590 --> 00:15:08.880\nthis, 10 years ago they were\ntalking about the advent of IPv6.\n\n309\n00:15:08.880 --> 00:15:11.810\nAnd just going,\nI know personally going back and trying to\n\n310\n00:15:11.810 --> 00:15:15.460\ncompile this information off the Internet,\nnot knowing if it's legit or not.\n\n311\n00:15:15.460 --> 00:15:18.530\nLooking at this information\nall in one clear spot.\n\n312\n00:15:18.530 --> 00:15:23.550\nIt's not like this is really exclusive\nto your Microsoft exam here.\n\n313\n00:15:23.550 --> 00:15:26.640\nThis is great information and\nit's attached to your show notes.\n\n314\n00:15:26.640 --> 00:15:28.300\nSo take advantage of that.\n\n315\n00:15:28.300 --> 00:15:29.080\nI can't even tell you.\n\n316\n00:15:29.080 --> 00:15:30.686\n&gt;&gt; It is.\nWe'll just have that up there for\n\n317\n00:15:30.686 --> 00:15:31.750\nseconds while we retire this.\n\n318\n00:15:31.750 --> 00:15:34.900\nYou can see all I'm doing\nis pulling up a interface,\n\n319\n00:15:34.900 --> 00:15:37.770\nI'm on my Windows 10 machine just so\nyou know where we are.\n\n320\n00:15:37.770 --> 00:15:39.345\nWe do have demo environment set up,\n\n321\n00:15:39.345 --> 00:15:42.310\nwe're gonna take a look at it\nin some upcoming episodes here.\n\n322\n00:15:42.310 --> 00:15:47.383\nSome things that will take us\nout into the great wild and\n\n323\n00:15:47.383 --> 00:15:52.363\nwooly world of IPv6, and\nwe will talk about ISATAP.\n\n324\n00:15:52.363 --> 00:15:57.440\nAnd we'll talk about 6to4, and tunneling,\nand Teredo adapters, and all that stuff.\n\n325\n00:15:57.440 --> 00:15:59.616\nAll that's coming up,\nwe will get to all that.\n\n326\n00:15:59.616 --> 00:16:03.331\nBut for the moment, I just wanna show you\njust the basic concept we were talking\n\n327\n00:16:03.331 --> 00:16:05.088\nabout with that link local address.\n\n328\n00:16:05.088 --> 00:16:06.508\nSo on one of our tunnel adapters,\n\n329\n00:16:06.508 --> 00:16:10.130\nright here's probably a good place to just\nhighlight that, and probably see that.\n\n330\n00:16:10.130 --> 00:16:15.090\nAnd you'll see right there that that is\nthe link local IPv6 address on the tunnel,\n\n331\n00:16:15.090 --> 00:16:17.060\nstarts with FEAD:: right.\n\n332\n00:16:17.060 --> 00:16:21.571\nAnd so you can see that designation is set\nup, there you can see our IPv6 address.\n\n333\n00:16:21.571 --> 00:16:27.040\nOn the tunnel adapter,\nstarts with 2001 right there, right?\n\n334\n00:16:27.040 --> 00:16:30.001\nSo that part of it right there,\nthat's our network designation.\n\n335\n00:16:30.001 --> 00:16:32.420\nRemember, our prefix as we refer to it.\n\n336\n00:16:32.420 --> 00:16:35.133\nAnd the other part is gonna be\nsignifying our host identifier.\n\n337\n00:16:35.133 --> 00:16:38.109\nSo we can see just the basics\nthat we were talking about.\n\n338\n00:16:38.109 --> 00:16:42.565\nAnd we can see just the structure and\nthe thought process.\n\n339\n00:16:42.565 --> 00:16:45.730\nYou'll also see here for\nthe default gateway.\n\n340\n00:16:45.730 --> 00:16:48.790\nRemember, we talked about the fact when\nwe don't have an address assigned,\n\n341\n00:16:48.790 --> 00:16:51.870\nwe get those two colons\nsignifying no address.\n\n342\n00:16:51.870 --> 00:16:55.944\nWe could see a block of zeroes, right\na block of zeroes with colons in between,\n\n343\n00:16:55.944 --> 00:16:57.318\nbut we shorthand it here.\n\n344\n00:16:57.318 --> 00:17:01.280\nAs you can see, all that's telling us is\nthere's no default gateway assigned on\n\n345\n00:17:01.280 --> 00:17:02.810\nthe tunnel adapter right now.\n\n346\n00:17:02.810 --> 00:17:04.715\nThat doesn't mean anything per se.\n\n347\n00:17:04.715 --> 00:17:07.770\nCuz we may or may not be using that tunnel\nadapter, right now I can tell you for\n\n348\n00:17:07.770 --> 00:17:11.140\na fact we're not using it for\nanything in particular, but\n\n349\n00:17:11.140 --> 00:17:13.680\nyou could see that if I was I\nwouldn't have a default gateway.\n\n350\n00:17:13.680 --> 00:17:14.851\nAnd that's just all it's telling me.\n\n351\n00:17:14.851 --> 00:17:17.471\nAnd I can see that the tunnel adapter for\n\n352\n00:17:17.471 --> 00:17:22.010\nISATAP ITProTV right down here\nbelow it shows Media Disconnected.\n\n353\n00:17:22.010 --> 00:17:23.326\nSo it's not being used.\n\n354\n00:17:23.326 --> 00:17:26.730\nThat other tunnel adapter is not\nbeing used ether on that network.\n\n355\n00:17:26.730 --> 00:17:31.148\nSo I can take a look there and\nI can see many of the address structures.\n\n356\n00:17:31.148 --> 00:17:34.920\nOr at least the beginnings of them that\nwe've been talking about presented.\n\n357\n00:17:34.920 --> 00:17:37.330\nAnd again this is just\nthe Windows 10 interface.\n\n358\n00:17:37.330 --> 00:17:39.630\nAll I did was just simply go up and\nopen a command line.\n\n359\n00:17:39.630 --> 00:17:41.763\nNothing special, nothing unusual.\n\n360\n00:17:41.763 --> 00:17:45.310\nAll I did was issue an IP config command,\nsomething we're all used to doing.\n\n361\n00:17:45.310 --> 00:17:48.969\nRight, we know additional information\nrequired didn't even use the all switch\n\n362\n00:17:48.969 --> 00:17:49.899\njust the ipconfig.\n\n363\n00:17:49.899 --> 00:17:54.090\nAnd we do see evidence to the fact that\nwe're native supporting an interacting\n\n364\n00:17:54.090 --> 00:17:55.052\nwith IPv6 here.\n\n365\n00:17:55.052 --> 00:17:55.996\nJust so we know.\n\n366\n00:17:55.996 --> 00:17:56.760\nYeah.\n\n367\n00:17:56.760 --> 00:18:00.880\n&gt;&gt; Just so when you are referencing that\nlink local address being similar to way\n\n368\n00:18:00.880 --> 00:18:02.380\nin APIPA.\n\n369\n00:18:02.380 --> 00:18:06.150\nThere's one thing I wanted plan is\nthat the APIPA that link local,\n\n370\n00:18:06.150 --> 00:18:10.510\nthe IPv6 address is there even if you have\n\n371\n00:18:10.510 --> 00:18:14.120\na good address that's not-\n&gt;&gt; It is automatically assigned.\n\n372\n00:18:14.120 --> 00:18:14.795\nIt's there all the time.\n\n373\n00:18:14.795 --> 00:18:15.656\n&gt;&gt; So it is always there?\nYes.\n\n374\n00:18:15.656 --> 00:18:17.050\n&gt;&gt; That's correct to call that out.\n\n375\n00:18:17.050 --> 00:18:19.950\nIt is going to be available to us.\n\n376\n00:18:19.950 --> 00:18:21.060\nWe're gonna always rely on it.\n\n377\n00:18:21.060 --> 00:18:22.676\nWe're not gonna use it necessarily.\n\n378\n00:18:22.676 --> 00:18:26.888\nBut it is unlike in APIPA address\nwhich will be assigned an IPv4\n\n379\n00:18:26.888 --> 00:18:31.430\nspecifically only at the loss of\nour DHCP derived IP address lease.\n\n380\n00:18:31.430 --> 00:18:34.488\nThis one is gonna be with us from\nthe time we turn on the system and\n\n381\n00:18:34.488 --> 00:18:36.670\nthe sentuar is there all the time correct.\n\n382\n00:18:36.670 --> 00:18:40.764\nSo that is a distinction that is important\nto think about that and be aware of that.\n\n383\n00:18:40.764 --> 00:18:45.419\nAll right, so one other thing to\nconsider here and just to talk about and\n\n384\n00:18:45.419 --> 00:18:48.690\nconsider is this idea of\naddress configuration.\n\n385\n00:18:48.690 --> 00:18:51.210\nRight we mentioned we could\ndo this essentially manually.\n\n386\n00:18:51.210 --> 00:18:54.692\nWe could go and type in our addresses and\nif we didn't wanna do that for\n\n387\n00:18:54.692 --> 00:18:59.150\ninstance hypothetically, if you just wanna\ntake a look here with me, just one second.\n\n388\n00:18:59.150 --> 00:19:02.070\nLet me just minimize all the stuff\nI have open here real quick.\n\n389\n00:19:02.070 --> 00:19:07.640\nBut if we come down here to our network\ninterface on my Windows 10 machine here,\n\n390\n00:19:07.640 --> 00:19:10.290\nand I open this up,\nthat is one of my demo boxes.\n\n391\n00:19:10.290 --> 00:19:12.935\nThat's a Server 16 interface and\nthe graph of a window there.\n\n392\n00:19:12.935 --> 00:19:14.990\nWe're not gonna go into that right now.\n\n393\n00:19:14.990 --> 00:19:15.810\nI'm on my Windows 10 box.\n\n394\n00:19:15.810 --> 00:19:16.846\nI'm just gonna show you something here.\n\n395\n00:19:16.846 --> 00:19:20.702\nBut if I go in here just to my\nnetworking center, gonna change adaptor,\n\n396\n00:19:20.702 --> 00:19:24.902\nand you'll see I go to my adaptor that's\nturned on right now, this one here.\n\n397\n00:19:24.902 --> 00:19:27.463\nRight click, go to properties, and\n\n398\n00:19:27.463 --> 00:19:32.764\nI provide the password that we need to\nget in there, so we do that real quick.\n\n399\n00:19:32.764 --> 00:19:36.226\nAnd we go in and\nwe have our properties for IP interface,\n\n400\n00:19:36.226 --> 00:19:40.360\njust like we would in Server 16,\nthis will look identical.\n\n401\n00:19:40.360 --> 00:19:43.126\nOnly difference is I'd be on the server,\nas opposed to on the Windows 10 client.\n\n402\n00:19:43.126 --> 00:19:47.570\nAnd I come down here, you'll see I\ndo have IPV4, we would expect that.\n\n403\n00:19:47.570 --> 00:19:51.090\nI do have IPV6, we would expect\nthat as well if we're using it.\n\n404\n00:19:51.090 --> 00:19:52.077\nYou could see it right there.\n\n405\n00:19:52.077 --> 00:19:54.723\nAnd if I go in and\nI look at the properties of IPV6,\n\n406\n00:19:54.723 --> 00:19:56.934\nyou'll notice that it is, here anyway.\n\n407\n00:19:56.934 --> 00:20:02.610\nSet to draw an IPv6 address automatically,\nin theory to use DHCP.\n\n408\n00:20:02.610 --> 00:20:05.137\nCould I manually put\nan IPv6 address in here?\n\n409\n00:20:05.137 --> 00:20:08.915\nSure I could, just like I would in IPv4,\nI would just have to know what it is and\n\n410\n00:20:08.915 --> 00:20:09.980\ntype it in there.\n\n411\n00:20:09.980 --> 00:20:12.600\nCould I put in my prefix length,\nso I understand\n\n412\n00:20:12.600 --> 00:20:16.200\nhow much of that address is the network\nportion versus what is the host portion?\n\n413\n00:20:16.200 --> 00:20:18.230\nI could do that as well,\nwe've talked about that.\n\n414\n00:20:18.230 --> 00:20:19.495\nCan I put my default gateway in there?\n\n415\n00:20:19.495 --> 00:20:21.542\nSure I can I just have\nto to have what it is?\n\n416\n00:20:21.542 --> 00:20:23.975\nAnd just know the equivalent and\nI can put it in there.\n\n417\n00:20:23.975 --> 00:20:27.220\nCould I use my DNS information\nspecify preferred and\n\n418\n00:20:27.220 --> 00:20:29.890\nalternate DNS servers just\nlike I would in IPv4?\n\n419\n00:20:29.890 --> 00:20:33.960\nI could do that as well as long as I'm\nwilling to sit here types some stuff out\n\n420\n00:20:33.960 --> 00:20:37.670\nand you'll have the appropriate\ninformation contain either on our file or\n\n421\n00:20:37.670 --> 00:20:40.700\njust you go ahead and\nset it up and know what it is.\n\n422\n00:20:40.700 --> 00:20:42.950\nDo I have advanced settings here?\n\n423\n00:20:42.950 --> 00:20:45.003\nI do just like I'm used to seeing in IPv4.\n\n424\n00:20:45.003 --> 00:20:49.430\nDo I have the ability to add additional\nIP addresses and bind them there?\n\n425\n00:20:49.430 --> 00:20:51.858\nOf course, I can.\nDefault gateways can do this too.\n\n426\n00:20:51.858 --> 00:20:55.550\nCan I specify DNS, right?\n\n427\n00:20:55.550 --> 00:20:57.730\nI can go, and I have to have\nan address to be able to do that.\n\n428\n00:20:57.730 --> 00:21:00.444\nBut assuming I have an address there,\ncan I go to DNS and\n\n429\n00:21:00.444 --> 00:21:03.934\nadd additional DNS servers just\nthe way I would in my IPv4 interface?\n\n430\n00:21:03.934 --> 00:21:05.660\nI could do that as well.\n\n431\n00:21:05.660 --> 00:21:09.260\nRight, so all those things, manually,\ncan be put in with no trouble.\n\n432\n00:21:09.260 --> 00:21:13.120\nCan I set this up and\nadd these adapter addresses in and\n\n433\n00:21:13.120 --> 00:21:14.720\nmanipulate this interface?\n\n434\n00:21:14.720 --> 00:21:19.045\nUsing netsh, absolutely you can see some\nevidence of that right behind you there.\n\n435\n00:21:19.045 --> 00:21:22.089\nWe'll come back and\ntalk about what this is a little later on.\n\n436\n00:21:22.089 --> 00:21:26.181\nThis is part of the background information\nthat we're gonna have set up for you and\n\n437\n00:21:26.181 --> 00:21:27.680\ntalk about as we set up.\n\n438\n00:21:27.680 --> 00:21:29.920\nOur ISATAP routing capability and\n\n439\n00:21:29.920 --> 00:21:34.390\nshow you how to do that with IPv4 and\nIPv6 interfaces communicating\n\n440\n00:21:34.390 --> 00:21:37.270\nthrough a software based routing\nfunction on a server 16 server.\n\n441\n00:21:37.270 --> 00:21:38.132\nThat's a mouth full.\n\n442\n00:21:38.132 --> 00:21:40.634\nYou should say that three times and\ntry not to take a breath.\n\n443\n00:21:40.634 --> 00:21:44.060\nBut can we use Netsh\nto be able to do this?\n\n444\n00:21:44.060 --> 00:21:48.684\nNot just to do what I just describe but\ngenerically to modify the IP interface and\n\n445\n00:21:48.684 --> 00:21:50.003\nassign IP addresses.\n\n446\n00:21:50.003 --> 00:21:54.140\nWe can do that as well that's not\na problem actually had that up\n\n447\n00:21:54.140 --> 00:21:58.915\nhere just before I moved off it Netsh\ncommands here for IPv4 and IPv6 So\n\n448\n00:21:58.915 --> 00:22:01.040\nwe could do this from Netsh.\n\n449\n00:22:01.040 --> 00:22:02.120\nCan we do this from PowerShell?\n\n450\n00:22:02.120 --> 00:22:04.070\nWe can do this from PowerShell as well.\n\n451\n00:22:04.070 --> 00:22:05.245\nCould we use auto configuration?\n\n452\n00:22:05.245 --> 00:22:07.420\nWe can use auto configuration.\n\n453\n00:22:07.420 --> 00:22:10.710\nI've talked about this or hinted at\nthis already in the prior episode.\n\n454\n00:22:10.710 --> 00:22:15.010\nWe can do this the system itself, in other\nwords, the IP host, can configure and\n\n455\n00:22:15.010 --> 00:22:17.800\nindeed will, configure its link\nlocal address automatically,\n\n456\n00:22:17.800 --> 00:22:19.090\nas Cherokee pointed out for us.\n\n457\n00:22:19.090 --> 00:22:22.986\nAnd we have that capability but by talking\nto routers and doing router discovery.\n\n458\n00:22:22.986 --> 00:22:26.020\nWe can then leverage\ninformation on the router or\n\n459\n00:22:26.020 --> 00:22:29.820\nthe information packets that\ncome back from the router.\n\n460\n00:22:29.820 --> 00:22:32.610\nTo then to be able to do additional\nconfiguration depending on whether\n\n461\n00:22:32.610 --> 00:22:34.030\nwe are doing a state for\n\n462\n00:22:34.030 --> 00:22:36.460\nstate list connection with\nthe router in a discussion.\n\n463\n00:22:36.460 --> 00:22:39.371\nNow the thing to remember to remember\nwith IPv6 and auto configuration.\n\n464\n00:22:39.371 --> 00:22:44.752\nOur interface must support or must be most\ncapable, if you wanna think support later,\n\n465\n00:22:44.752 --> 00:22:49.120\nevery one had heard that but\nultimately address auto configuration.\n\n466\n00:22:49.120 --> 00:22:53.386\nIs supportive, but it's supportive on\nmulticast capable Interfaces which as I\n\n467\n00:22:53.386 --> 00:22:55.971\nthink I pointed out in one\nof the prior episodes.\n\n468\n00:22:55.971 --> 00:22:59.785\nWould be probably any brand new network\ninterface that we have that's in\n\n469\n00:22:59.785 --> 00:23:03.286\nthe system currently,\nprobably going back last several years and\n\n470\n00:23:03.286 --> 00:23:06.240\nwe would most likely have\nthat capability as well.\n\n471\n00:23:06.240 --> 00:23:08.660\nYou go back in the systems\nthat are really, really, old.\n\n472\n00:23:08.660 --> 00:23:10.865\nThey may not have the appropriate drivers,\nmaybe after an update.\n\n473\n00:23:10.865 --> 00:23:14.857\nSo maybe a little sketchy before they're\nback to go but in the last few years any\n\n474\n00:23:14.857 --> 00:23:18.368\ninterface that's been created has\nthose capabilities cuz we know,\n\n475\n00:23:18.368 --> 00:23:21.170\nthat this system out there,\nwe know it's being used.\n\n476\n00:23:21.170 --> 00:23:21.775\nWe know that we have to supported it.\n\n477\n00:23:21.775 --> 00:23:25.540\nSo we just need to make sure we're\nmultitasking capable interfaces but\n\n478\n00:23:25.540 --> 00:23:30.057\nwe can determine the address of routers,\nadditional addresses other configuration\n\n479\n00:23:30.057 --> 00:23:33.140\nparameters can be discussed and\nprovided there.\n\n480\n00:23:33.140 --> 00:23:34.163\nThe router advertisement message.\n\n481\n00:23:34.163 --> 00:23:38.419\nWhich is what comes back from the router\nwill give us this information and\n\n482\n00:23:38.419 --> 00:23:42.210\nwhether it is a stateful address\nconfiguration or stateless.\n\n483\n00:23:42.210 --> 00:23:46.300\nIf it's stateful we're getting a stateful\naddress configuration protocol indicator\n\n484\n00:23:46.300 --> 00:23:48.245\nin plain old fashioned normal language.\n\n485\n00:23:48.245 --> 00:23:52.670\nWe're being told hey go to DHCP and\nuse the IPv6 scope that's there and\n\n486\n00:23:52.670 --> 00:23:55.114\nhere's where that DHCP interface is.\n\n487\n00:23:55.114 --> 00:23:58.540\nBecause that's how we would configure\nif we were getting a stateful address\n\n488\n00:23:58.540 --> 00:24:01.660\nconfiguration, we would use\na stateful address protocol.\n\n489\n00:24:01.660 --> 00:24:03.890\nDHCP6 provides that or\n\n490\n00:24:03.890 --> 00:24:08.480\nDHCP with IPB6 scope support will\nprovide that, and so we could do that.\n\n491\n00:24:08.480 --> 00:24:12.180\nStateless autoconfiguration is\njust based on the receipt of that\n\n492\n00:24:12.180 --> 00:24:16.050\nrouter advertisement message, just\ncoming from the router and nothing else.\n\n493\n00:24:16.050 --> 00:24:19.870\nWe're not able to fully provision out\nthe system with all the bells and\n\n494\n00:24:19.870 --> 00:24:21.910\nwhistles if we do stateless configuration.\n\n495\n00:24:21.910 --> 00:24:24.660\nFor instance, DNS servers cannot be\n\n496\n00:24:24.660 --> 00:24:27.660\nprovisioned through stateless\nconfiguration coming off routers.\n\n497\n00:24:27.660 --> 00:24:31.390\nWe would need to get that from\na stateful configuration through DHCP.\n\n498\n00:24:31.390 --> 00:24:34.200\nSo we get basic information, right,\nwe can get basic information\n\n499\n00:24:34.200 --> 00:24:38.360\ncoming back from the router that can\ntell us additional information we need.\n\n500\n00:24:38.360 --> 00:24:41.460\nBut being able to go in and\ndo additional configuration options,\n\n501\n00:24:41.460 --> 00:24:44.085\nlike, hey,\nhere is your list of five DNS servers.\n\n502\n00:24:44.085 --> 00:24:48.095\nThat has to come from a DHCP,\na stateful configuration interface.\n\n503\n00:24:48.095 --> 00:24:51.885\nAnd so we would get that by being told\nto go to the stateful configuration,\n\n504\n00:24:51.885 --> 00:24:54.705\nin this case the DHCP interface,\nand use it there.\n\n505\n00:24:54.705 --> 00:24:57.940\nWe get our instructions from\nthe router advertisement.\n\n506\n00:24:57.940 --> 00:25:02.047\nBut it tells us to essentially go talk to\na DHCP server that supports IPv6 scopes.\n\n507\n00:25:02.047 --> 00:25:05.524\nSo we showed you how to set up\nthose scopes in a prior episode, so\n\n508\n00:25:05.524 --> 00:25:07.280\njust keep that in mind.\n\n509\n00:25:07.280 --> 00:25:10.510\nWe can also set this to both where\nwe essentially support both stateful\n\n510\n00:25:10.510 --> 00:25:11.080\nand stateless.\n\n511\n00:25:11.080 --> 00:25:13.430\nSo we have an option stateless only,\nstateful only or\n\n512\n00:25:13.430 --> 00:25:16.150\nboth in terms of our auto\nconfiguration settings.\n\n513\n00:25:16.150 --> 00:25:17.370\nSo just keep that in mind.\n\n514\n00:25:17.370 --> 00:25:20.610\nAnd with regards to address states that\nare auto configured, just wanna make\n\n515\n00:25:20.610 --> 00:25:25.180\nsure we're aware of the fact that we do\nhave five, if I'm not mistaken, right?\n\n516\n00:25:25.180 --> 00:25:26.568\nI'm asking you five, right?\n\n517\n00:25:26.568 --> 00:25:27.673\nI know there's five.\n\n518\n00:25:27.673 --> 00:25:28.280\n&gt;&gt; Five.\n\n519\n00:25:28.280 --> 00:25:29.264\n&gt;&gt; I'm just keeping you on your toes.\n\n520\n00:25:29.264 --> 00:25:31.205\n[LAUGH]\n&gt;&gt; I know there's five,\n\n521\n00:25:31.205 --> 00:25:32.920\nlet's just quickly talk\nabout what they are.\n\n522\n00:25:32.920 --> 00:25:36.730\nSo we have tentative, we have valid,\nprefered, deprecated, and\n\n523\n00:25:36.730 --> 00:25:41.310\ninvalid are the five address states\nthat an auto configured address can be.\n\n524\n00:25:41.310 --> 00:25:44.460\nAnd if you think about the logic of\nwalking through those, it's kind of just\n\n525\n00:25:44.460 --> 00:25:48.145\nthe lifecycle of how the address is being\nconfigured as we're getting information.\n\n526\n00:25:48.145 --> 00:25:51.950\nAnd/or walking through the logic\nof Interacting, right,\n\n527\n00:25:51.950 --> 00:25:54.540\naround the system sort of\ngonna help us understand that.\n\n528\n00:25:54.540 --> 00:25:59.070\nSo it's just a matter of which state we\nexist in or what that state might be.\n\n529\n00:25:59.070 --> 00:26:02.960\nWhen we are talking about configuring\nIPv6 addresses, right, we did say manual,\n\n530\n00:26:02.960 --> 00:26:04.150\nI'm pretty sure I said manual.\n\n531\n00:26:04.150 --> 00:26:07.140\nWe talked about stateful and stateless,\nand we've talked about both stateful and\n\n532\n00:26:07.140 --> 00:26:07.960\nstateless being set.\n\n533\n00:26:07.960 --> 00:26:11.500\nSo those are the four different\nways we can assign interfaces.\n\n534\n00:26:11.500 --> 00:26:14.370\nI showed you how you could do\nit manually through Netsh.\n\n535\n00:26:14.370 --> 00:26:21.820\nWe can go in, obviously configure that as\nwell, remember, using a DHCPv6 IP scope.\n\n536\n00:26:21.820 --> 00:26:24.090\nWe can do stateful configuration.\n\n537\n00:26:24.090 --> 00:26:28.230\nStateless address auto configuration\nis based on interacting with the router\n\n538\n00:26:28.230 --> 00:26:31.540\nthat's been configured for\nthose router advertisements messages.\n\n539\n00:26:31.540 --> 00:26:33.549\nAnd we can support that or\nany combination of those,\n\n540\n00:26:33.549 --> 00:26:36.664\ndepending on the infrastructure that we\nmay be running or that we have access to.\n\n541\n00:26:36.664 --> 00:26:40.074\nSo just again some additional\nlayers of information,\n\n542\n00:26:40.074 --> 00:26:42.971\nkind of peeling back\nthe complexity of IPv6.\n\n543\n00:26:42.971 --> 00:26:46.053\nOpening it up and beginning hopefully\nto examine a little bit more\n\n544\n00:26:46.053 --> 00:26:49.930\nwhat's going on there and having a better\nunderstanding of some of those things.\n\n545\n00:26:49.930 --> 00:26:53.325\nBut wanna make sure we're familiar with\nthat since we showed you the netsh\n\n546\n00:26:53.325 --> 00:26:54.210\ncommand, right?\n\n547\n00:26:54.210 --> 00:26:58.270\nWe do also have the PowerShell\ncommands for the NetTCPIP Module.\n\n548\n00:26:58.270 --> 00:27:01.040\nPretty sure we put these up on one of the\nprior episodes as we were talking about,\n\n549\n00:27:01.040 --> 00:27:03.760\nI think IPv4 and some of the DHCP stuff.\n\n550\n00:27:03.760 --> 00:27:06.470\nAt some point I think we threw these\nup and showed them to you, but\n\n551\n00:27:06.470 --> 00:27:08.400\nit's never a bad idea to\nshow them to you again.\n\n552\n00:27:08.400 --> 00:27:10.475\nWe do have support for\na variety of things in here.\n\n553\n00:27:10.475 --> 00:27:15.450\nYou'll see here we do have GetNetIP,\nwe can look at the IP configuration.\n\n554\n00:27:15.450 --> 00:27:17.690\nThat's kinda the equivalent\nof doing an ipconfig, but\n\n555\n00:27:17.690 --> 00:27:22.270\njust doing that through PowerShell so we\ncan take a look at the IP address config.\n\n556\n00:27:22.270 --> 00:27:25.750\nNotice GetNetIP v4,\nwe've talked about the value of that.\n\n557\n00:27:25.750 --> 00:27:29.040\nGetting it at IPv6 would be one of\nthe ones that we will be working with\n\n558\n00:27:29.040 --> 00:27:31.500\nspecific to IPv6 if\nwe're using PowerShell.\n\n559\n00:27:31.500 --> 00:27:34.190\nOr wanna use the PowerShell\nconsole to be able to do this.\n\n560\n00:27:34.190 --> 00:27:37.270\nGets the IPv6 protocol configurations,\nright?\n\n561\n00:27:37.270 --> 00:27:40.540\nSo if we wanted to just learn a little\nbit more about that one just this week,\n\n562\n00:27:40.540 --> 00:27:42.290\nwrap up this part of the conversation.\n\n563\n00:27:42.290 --> 00:27:45.870\nIf you drill in, as I've shown you before\nyou can do that, you just drill down.\n\n564\n00:27:45.870 --> 00:27:49.990\nAnd you'll see, we've got an information\nitem here that gives us a syntax.\n\n565\n00:27:49.990 --> 00:27:53.581\nGetting an IPv6 protocol,\nwriting in the default hop limit,\n\n566\n00:27:53.581 --> 00:27:58.406\nthe neighbor cache limit entries, route\ncache limit, reassembly limit, bytes.\n\n567\n00:27:58.406 --> 00:28:02.180\nThere's all these settings that we'd have\nto learn about and understand more about.\n\n568\n00:28:02.180 --> 00:28:03.610\nBut where do you get all that information?\n\n569\n00:28:03.610 --> 00:28:07.395\nWell, all you gotta do, just go down here\nand take a look at all the parameters.\n\n570\n00:28:07.395 --> 00:28:10.610\nIt explains everything to you\nright here on the website.\n\n571\n00:28:10.610 --> 00:28:15.220\nAgain, the nice thing about using this is\nyou get the most recent documentation and\n\n572\n00:28:15.220 --> 00:28:18.820\nupdated information from Microsoft about\nwhatever version of support they're\n\n573\n00:28:18.820 --> 00:28:19.830\nputting into.\n\n574\n00:28:19.830 --> 00:28:22.760\nIn this case probably PowerShell\nversion five right now.\n\n575\n00:28:22.760 --> 00:28:23.740\nSo just be aware of that.\n\n576\n00:28:23.740 --> 00:28:27.870\nBecause as that updates, there may be new\nfeatures, new parameters that are added.\n\n577\n00:28:27.870 --> 00:28:31.900\nNew commandlets that are added\nbased on additional functionality.\n\n578\n00:28:31.900 --> 00:28:34.150\nAnd that's always important\nto take a look at.\n\n579\n00:28:34.150 --> 00:28:37.573\nThis is in early April of 2017.\n\n580\n00:28:37.573 --> 00:28:42.190\nSo this is a relatively up to date and\nrecent update for this.\n\n581\n00:28:42.190 --> 00:28:43.990\nAnd this is gonna give you\nthe most recent information.\n\n582\n00:28:43.990 --> 00:28:46.630\nIt's available right now about\nIPv6 support via PowerShell.\n\n583\n00:28:47.780 --> 00:28:48.630\n&gt;&gt; All right, Adam.\n\n584\n00:28:48.630 --> 00:28:51.290\nI know that we are out of time for\nthis particular episode, but\n\n585\n00:28:51.290 --> 00:28:53.500\nwe have more IPv6 headed your way.\n\n586\n00:28:53.500 --> 00:28:55.110\nSo we're gonna go ahead and sign out.\n\n587\n00:28:55.110 --> 00:28:57.190\nRemember, I'm your host, Cherokee Boose.\n\n588\n00:28:57.190 --> 00:28:58.110\n&gt;&gt; I'm Adam Gordon.\n\n589\n00:28:58.110 --> 00:29:01.227\n&gt;&gt; See you next time here at IProTV.\n\n590\n00:29:01.227 --> 00:29:07.143\n[MUSIC]\n\n591\n00:29:07.143 --> 00:29:10.407\n&gt;&gt; Thank you for watching ITPROTV\n\n",
          "vimeoId": "217832977"
        },
        {
          "description": "In this episode, Adam and Cherokee continue discussing IPv6. Adam begins the discussion by explaining nodes and the address schemes they may support and dependent DNS records followed by prefix policies. Adam introduces the concept of being able transmit communications from unlike network types such as  4 to 6, 6 to 4 and ISATAP. Tune in to see Adam demonstrate these concepts.",
          "length": "2309",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-3-implementing_ipv6_pt3-050917-PGM.00_00_11_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-3-implementing_ipv6_pt3-050917-PGM.00_00_11_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-3-implementing_ipv6_pt3-050917-PGM.00_00_11_22.Still001-sm.jpg",
          "title": "Implementing IPv6 Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.288\nWelcome to ITPRO.TV.\n\n2\n00:00:01.288 --> 00:00:04.811\nI'm your host, Don [CROSSTALK]\n\n3\n00:00:04.811 --> 00:00:08.620\n[MUSIC]\n\n4\n00:00:08.620 --> 00:00:12.472\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:12.472 --> 00:00:16.202\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 series.\n\n6\n00:00:16.202 --> 00:00:18.320\nI'm your show host Cherokee Boose.\n\n7\n00:00:18.320 --> 00:00:19.950\nWe've actually made it to a part three,\n\n8\n00:00:19.950 --> 00:00:23.210\nwe're gonna continue\nlooking at IPv6 addressing.\n\n9\n00:00:23.210 --> 00:00:26.230\nAnd back in studios with us today,\nwe have Mr Adam Gordon.\n\n10\n00:00:26.230 --> 00:00:27.971\nThank you for joining us today, Adam.\n\n11\n00:00:27.971 --> 00:00:30.924\n&gt;&gt; I'm gonna change my name, just so\nwhen you say that I can say, but\n\n12\n00:00:30.924 --> 00:00:32.290\nwait I'm somebody else now.\n\n13\n00:00:32.290 --> 00:00:34.640\nCuz you know, you're so\npolite you introduced me formally,\n\n14\n00:00:34.640 --> 00:00:35.869\nwhich I think is great by the way.\n\n15\n00:00:35.869 --> 00:00:39.013\nDon't get me wrong, but just you're\nalways so formal, and so polite.\n\n16\n00:00:39.013 --> 00:00:40.970\n&gt;&gt; Just let me know who you wanna be,\nand we can make that happen.\n\n17\n00:00:40.970 --> 00:00:42.800\n&gt;&gt; I thought we said I was gonna be ROSA,\nyou're gonna be DORA, didn't we do that?\n\n18\n00:00:42.800 --> 00:00:44.690\n&gt;&gt; ROSA?\nYeah okay, I'll be DORA.\n\n19\n00:00:44.690 --> 00:00:45.280\n&gt;&gt; Okay, so.\n\n20\n00:00:45.280 --> 00:00:48.680\n&gt;&gt; Our DHCP DORA and our DHCP ROSA.\n\n21\n00:00:48.680 --> 00:00:50.650\n&gt;&gt; Right, or\nwhat was the name of DORA's monkey?\n\n22\n00:00:50.650 --> 00:00:51.200\nIt wasn't.\n\n23\n00:00:51.200 --> 00:00:53.460\n&gt;&gt; Boots, kind of like Boot Key.\n\n24\n00:00:54.610 --> 00:00:55.873\n&gt;&gt; Kind of a relationship there.\n\n25\n00:00:55.873 --> 00:00:57.356\n&gt;&gt; That could be that.\n\n26\n00:00:57.356 --> 00:01:01.116\n&gt;&gt; [LAUGH]\n&gt;&gt; Sure, so we can theorize and you know,\n\n27\n00:01:01.116 --> 00:01:04.325\ngo out and\njust talk about the way we link,\n\n28\n00:01:04.325 --> 00:01:07.839\nDora the Explorer to\ntheir broader IP world.\n\n29\n00:01:07.839 --> 00:01:10.605\nIn another episode, we're not gonna\nsubject you to that right now.\n\n30\n00:01:10.605 --> 00:01:12.765\nBut we are gonna dive back in to IPv6.\n\n31\n00:01:12.765 --> 00:01:15.905\nSee, we've been talking last\ncouple of episodes about just all\n\n32\n00:01:15.905 --> 00:01:17.917\nthe things that I have to\ngo on to understand IPv6.\n\n33\n00:01:18.997 --> 00:01:22.137\nWe have some additional information\nI wanna share with you.\n\n34\n00:01:22.137 --> 00:01:24.947\nAlso gonna try to get in, do a little\nshow and tell under the hood here.\n\n35\n00:01:24.947 --> 00:01:27.247\nWe already took a look\nat some IPv6 addresses.\n\n36\n00:01:27.247 --> 00:01:29.827\nJust scratched the surface\non what was there.\n\n37\n00:01:29.827 --> 00:01:32.123\nLooked at our Lync local address,\nfor instance.\n\n38\n00:01:32.123 --> 00:01:35.009\nLooked at the lack of a default\ngateway on the tunnel adapter,\n\n39\n00:01:35.009 --> 00:01:36.681\nshowed you the general structure.\n\n40\n00:01:36.681 --> 00:01:38.737\nBut those are all gonna\nbe there by default.\n\n41\n00:01:38.737 --> 00:01:44.421\nWe're gonna take a look at how we actually\nset up, and use ISOTAP to be able to.\n\n42\n00:01:44.421 --> 00:01:47.827\nIn a sense create a software based router\nthat's capable of providing an IPv6,\n\n43\n00:01:47.827 --> 00:01:48.536\nIPv4 support.\n\n44\n00:01:48.536 --> 00:01:52.410\nWe're gonna walk through the logic on how\nto do that, along with some other stuff.\n\n45\n00:01:52.410 --> 00:01:56.020\nSo we're gonna start demoing some\nof the functionality here for IPv6.\n\n46\n00:01:56.020 --> 00:02:00.120\nWe did talk about DHCP\nbased IPv6 scope support.\n\n47\n00:02:00.120 --> 00:02:02.786\nSo that's something that\nobviously carries forward.\n\n48\n00:02:02.786 --> 00:02:06.510\nWe have hinted at the fact, and\nwe'll take a look at in future episodes.\n\n49\n00:02:06.510 --> 00:02:07.410\nAnd I'll preview it for\n\n50\n00:02:07.410 --> 00:02:11.710\nyou as we do the demo, that in DNS\nwe do have IPv6 host record support.\n\n51\n00:02:11.710 --> 00:02:13.550\nAmong other support that we need there.\n\n52\n00:02:13.550 --> 00:02:17.690\nSo we have a 4A post record as\nopposed to a single A representing\n\n53\n00:02:17.690 --> 00:02:19.150\nan IPv4 host record.\n\n54\n00:02:19.150 --> 00:02:23.100\nSo we do have the capability to do that,\nand that's not new to 2016 by the way.\n\n55\n00:02:23.100 --> 00:02:27.870\nDNS has provided that host record for some\ntime now in terms of the support for IPv6.\n\n56\n00:02:27.870 --> 00:02:30.120\nSo, we do have that but\nwe'll take a look at it.\n\n57\n00:02:30.120 --> 00:02:34.570\nWe'll go into the IPv6, or\nrather the 2016 DNS server, and\n\n58\n00:02:34.570 --> 00:02:39.310\njust see we do have indeed,\nthe opportunity to create those records.\n\n59\n00:02:39.310 --> 00:02:41.140\nSo we'll take a look at\nthat as part of the demo.\n\n60\n00:02:41.140 --> 00:02:45.550\nBut I thought we'd start by talking about\nthis concept of nodes, and what nodes are.\n\n61\n00:02:45.550 --> 00:02:46.933\nAnd we refer to nodes in IPv6, but\n\n62\n00:02:46.933 --> 00:02:49.618\nwhat we're really talking about\nis nothing more than just hosts.\n\n63\n00:02:49.618 --> 00:02:53.386\nIt's another word for hosts, and\nnodes and hosts are synonymous.\n\n64\n00:02:53.386 --> 00:02:55.754\nSo, just wanna keep that in mind, and\n\n65\n00:02:55.754 --> 00:03:00.480\nthink about that when you hear us\ntalk about node types in IPv6.\n\n66\n00:03:00.480 --> 00:03:05.300\nWe're talking about host types, in other\nwords how do we identify the host?\n\n67\n00:03:05.300 --> 00:03:06.971\nWhat kind of support does it provide?\n\n68\n00:03:06.971 --> 00:03:09.300\nWe get out of IPv4 only node.\n\n69\n00:03:09.300 --> 00:03:12.013\nAnd IPv4 only capable host in other words,\n\n70\n00:03:12.013 --> 00:03:16.130\none that supports only IPv4 is\nconfigured with IPv4 addresses.\n\n71\n00:03:16.130 --> 00:03:17.460\nNo support for IPv6, right?\n\n72\n00:03:17.460 --> 00:03:24.289\nSo a Windows 98, a Windows 95 machine\nwould be considered an IPv4 only node.\n\n73\n00:03:24.289 --> 00:03:26.908\nNot that you would run one of\nthem necessarily, but just so\n\n74\n00:03:26.908 --> 00:03:29.370\nyou know that we had not support for\nit back then.\n\n75\n00:03:29.370 --> 00:03:31.683\nThat's just the idea behind\nwhat we're talking about.\n\n76\n00:03:31.683 --> 00:03:35.402\nAn IPv6 only node, and\nthough that support only IPv6.\n\n77\n00:03:35.402 --> 00:03:38.293\nSo a host that's configure for\nIPv6 support,\n\n78\n00:03:38.293 --> 00:03:43.224\nbut does not have IPv4 enabled, and\ntherefore we're not be able to support it.\n\n79\n00:03:43.224 --> 00:03:46.368\nThis is something where,\nremember we may have,\n\n80\n00:03:46.368 --> 00:03:49.751\nperhaps applications that\nare IPv6 only capable.\n\n81\n00:03:49.751 --> 00:03:52.535\nOr may wanna isolate that, and\nprovide that support on the machine,\n\n82\n00:03:52.535 --> 00:03:55.182\nthat's dedicated to that stack,\nbecause maybe they will have.\n\n83\n00:03:55.182 --> 00:03:57.776\nAlthough I don't know of any applications\noff the top of my head that would fall\n\n84\n00:03:57.776 --> 00:03:58.493\ninto this category.\n\n85\n00:03:58.493 --> 00:04:02.960\nBut in theory, maybe we have\na requirement that it runs only IPv6.\n\n86\n00:04:02.960 --> 00:04:06.780\nMaybe a statutory, regulatory compliance\nissue that Cherokee brought out or\n\n87\n00:04:06.780 --> 00:04:09.050\nreminded us of in some prior episodes.\n\n88\n00:04:09.050 --> 00:04:13.144\nSo maybe there's a reason for that, or an\napplication that requires only that kind\n\n89\n00:04:13.144 --> 00:04:16.780\nof stack support, because maybe IPv4\nwill cause some sort of a problem.\n\n90\n00:04:16.780 --> 00:04:18.680\nSo, we may have a reason to do that.\n\n91\n00:04:18.680 --> 00:04:23.120\nIPv4 and/or IPv6 node, one that's gonna be\n\n92\n00:04:23.120 --> 00:04:25.980\nable to support both in other words is\nwhat we would often talk about there.\n\n93\n00:04:25.980 --> 00:04:28.810\n2008 and newer on the server side.\n\n94\n00:04:28.810 --> 00:04:31.430\nVista and newer on the desktop side.\n\n95\n00:04:31.430 --> 00:04:35.440\nWe'll follow on its category, where we\ndo have the stack support available, and\n\n96\n00:04:35.440 --> 00:04:38.040\nwe'll be able to have that duality.\n\n97\n00:04:38.040 --> 00:04:43.135\nIPv4 node, one that is going to have\nan IPv4 address assigned to it.\n\n98\n00:04:43.135 --> 00:04:48.260\nBut, can operate is either on IPv6, or\non IPv4 node, depending on how it's setup.\n\n99\n00:04:48.260 --> 00:04:54.320\nRemember IPv4 only node is just\nIPv4 with no IPv6 support enabled,\n\n100\n00:04:54.320 --> 00:04:55.715\ninstalled, or configured.\n\n101\n00:04:55.715 --> 00:05:00.635\nBut an IPv4 node, is simply a machine that\nhas both, but is preferencing IPv4, and\n\n102\n00:05:00.635 --> 00:05:02.525\nis configured for IPv4.\n\n103\n00:05:02.525 --> 00:05:04.408\nSo just so you're aware of that.\n\n104\n00:05:04.408 --> 00:05:08.325\nWe would do that, where essentially we'd\ngo in maybe to the network properties.\n\n105\n00:05:08.325 --> 00:05:11.572\nUnclick the check or\nselect box for IPv6, right?\n\n106\n00:05:11.572 --> 00:05:14.232\nAnd just disable it in the interface, but\n\n107\n00:05:14.232 --> 00:05:16.152\nit's still there on the stack\nwe're just not using it.\n\n108\n00:05:16.152 --> 00:05:18.371\nThat kind of thing,\nthat's what we think of there.\n\n109\n00:05:18.371 --> 00:05:21.382\nAnd IPv6 now, same idea but\njust going the other way.\n\n110\n00:05:21.382 --> 00:05:26.172\nIPv6 is enabled, we're using it,\nwe don't have an IPv4 address, or\n\n111\n00:05:26.172 --> 00:05:29.102\nperhaps reason to have one, but\nthe support is there if we want one.\n\n112\n00:05:29.102 --> 00:05:31.000\nWe're just not leveraging it right now.\n\n113\n00:05:31.000 --> 00:05:34.260\nSo the different node types will\nbe important just to remember, and\n\n114\n00:05:34.260 --> 00:05:36.440\nremind yourselves of those and\nknow what they are.\n\n115\n00:05:36.440 --> 00:05:38.580\nMay come up at some point in the future.\n\n116\n00:05:38.580 --> 00:05:42.410\nYou may be interacting with a system,\nand see the node type designation,\n\n117\n00:05:42.410 --> 00:05:43.340\nwanna know what it is.\n\n118\n00:05:43.340 --> 00:05:44.730\nYou'll remember it, hopefully.\n\n119\n00:05:44.730 --> 00:05:46.245\nAnd they are pretty self explanatory.\n\n120\n00:05:46.245 --> 00:05:47.940\nWhen you look at them,\nit should make sense.\n\n121\n00:05:47.940 --> 00:05:50.650\nYou may be asked about them at some\npoint in the future on an exam.\n\n122\n00:05:50.650 --> 00:05:53.450\nSo you'd always want to be able to\nanswer questions there, if asked and\n\n123\n00:05:53.450 --> 00:05:54.470\nknow what they are.\n\n124\n00:05:54.470 --> 00:05:56.500\nWe talked about DNS\ninfrastructure requirements.\n\n125\n00:05:56.500 --> 00:06:01.120\nImportant just to remember that we do\nneed host records, A host records,\n\n126\n00:06:01.120 --> 00:06:02.923\nas in the single A for IPv4.\n\n127\n00:06:02.923 --> 00:06:05.820\nWould you need IPv6 host records,\n\n128\n00:06:05.820 --> 00:06:10.260\nfour As in the parentheses designate\nthe IPv6 resource records.\n\n129\n00:06:10.260 --> 00:06:12.820\nAnd we may need pointer records depending\non how we're setting up on our zones,\n\n130\n00:06:12.820 --> 00:06:16.180\nand we'll do support pointer\nrecords to both IPv4 and IPv6.\n\n131\n00:06:16.180 --> 00:06:18.982\nYou just wanna remember that,\nkeep that in mind.\n\n132\n00:06:18.982 --> 00:06:21.473\nWe'll take a look at DNS in a few minutes,\nyou could see that.\n\n133\n00:06:21.473 --> 00:06:27.011\nWe also have something known as prefix\npolicies when we are doing IPv6.\n\n134\n00:06:27.011 --> 00:06:30.998\nWhen we have a name that could be resolved\nto both IPv4 and/or IPv6 addresses.\n\n135\n00:06:30.998 --> 00:06:34.707\nBoth addresses get returned\nback to the client as a result.\n\n136\n00:06:34.707 --> 00:06:37.857\nSo we wanna think about the fact that\nwe would then have to choose what we're\n\n137\n00:06:37.857 --> 00:06:39.619\ngonna use and how we're gonna interact.\n\n138\n00:06:39.619 --> 00:06:42.951\nAnd we may choose, or\nmake those choices prefix policies.\n\n139\n00:06:42.951 --> 00:06:47.627\nAnd so prefix policies can be assigned,\nwe are gonna wrap them through Power Shell\n\n140\n00:06:47.627 --> 00:06:50.489\nfor instance,\nto get net prefix policy command.\n\n141\n00:06:50.489 --> 00:06:55.440\nAnd get dash that prefix policy, which\nshow us what prefix policy has exist.\n\n142\n00:06:55.440 --> 00:06:58.680\nI do have a handy little Word\ndocument that I put together for\n\n143\n00:06:58.680 --> 00:07:00.140\nyou with the prefix policies.\n\n144\n00:07:00.140 --> 00:07:01.510\nYou can see them here.\n\n145\n00:07:01.510 --> 00:07:05.460\nSo you can see, I just scroll down,\nwhoops, too far there.\n\n146\n00:07:05.460 --> 00:07:11.040\nYou can see that we do have some\nprefixes that would be important for\n\n147\n00:07:11.040 --> 00:07:13.210\nus to perhaps specify or designate.\n\n148\n00:07:13.210 --> 00:07:16.880\n&gt;&gt; I'm keeping all these notes,\nAdam [LAUGH].\n\n149\n00:07:16.880 --> 00:07:19.170\nThe ones you gave me, these are good\nnotes, I love these notes [LAUGH].\n\n150\n00:07:19.170 --> 00:07:20.500\n&gt;&gt; Okay, good, good, thank you for\n\n151\n00:07:20.500 --> 00:07:23.810\nrandomly associating while I'm in the\nmiddle of talking, I do appreciate that.\n\n152\n00:07:23.810 --> 00:07:26.100\nFeel free to just scream at anything\nyou'd like, at any point in time.\n\n153\n00:07:26.100 --> 00:07:26.630\n&gt;&gt; All right [LAUGH].\n\n154\n00:07:26.630 --> 00:07:29.550\n&gt;&gt; No problem, cuz when you get\nexcited everyone wants to participate.\n\n155\n00:07:29.550 --> 00:07:30.436\nAll right, so-\n&gt;&gt; These are good notes.\n\n156\n00:07:30.436 --> 00:07:31.041\nThe skies, yes.\n\n157\n00:07:31.041 --> 00:07:31.641\n[LAUGH]\n&gt;&gt; So,\n\n158\n00:07:31.641 --> 00:07:33.696\nyou do have access to\nall the notes obviously,\n\n159\n00:07:33.696 --> 00:07:35.339\nencourage you to take a look at them.\n\n160\n00:07:35.339 --> 00:07:37.755\nAnd I'm glad that Cherokee is\nfinding them to be helpful.\n\n161\n00:07:37.755 --> 00:07:39.962\nAnd all kidding aside,\nwhen we talk about this stuff.\n\n162\n00:07:39.962 --> 00:07:42.002\nBut her saying hey these are good notes,\n\n163\n00:07:42.002 --> 00:07:45.190\nthey're really valuable they\ngot a lot of great information.\n\n164\n00:07:45.190 --> 00:07:48.688\nTo help me, and hopefully by extension\nhelp you to clarify things consider normal\n\n165\n00:07:48.688 --> 00:07:49.762\nto be ask about on exams.\n\n166\n00:07:49.762 --> 00:07:54.437\nWe just wanna provide context for that,\nbut more broadly, because on exam may,\n\n167\n00:07:54.437 --> 00:07:55.971\nmay not be on your future.\n\n168\n00:07:55.971 --> 00:07:59.019\nIt is perhaps Part of what you wanna do,\nbut it's not the only part.\n\n169\n00:07:59.019 --> 00:08:00.342\nIt's not the end game by any means,\n\n170\n00:08:00.342 --> 00:08:02.650\nbecause you have to take this\nknowledge out to the real world.\n\n171\n00:08:02.650 --> 00:08:03.820\nYou have to interact with it.\n\n172\n00:08:03.820 --> 00:08:06.370\nYou have to use it to manage\nyour networks long-term.\n\n173\n00:08:06.370 --> 00:08:10.420\nSo having the notes as a reference point\nto then build your knowledge about IP or\n\n174\n00:08:10.420 --> 00:08:13.730\naround IPv6,\nhopefully becomes valuable for you.\n\n175\n00:08:13.730 --> 00:08:18.860\nSo glad that we have the Cherokee\nseal of approval on the notes.\n\n176\n00:08:18.860 --> 00:08:19.800\nThat will be good.\n\n177\n00:08:19.800 --> 00:08:20.660\n&gt;&gt; I'll try to contain myself.\n\n178\n00:08:20.660 --> 00:08:22.311\n&gt;&gt; Get you a stamp or something so you\n&gt;&gt; [LAUGH]\n\n179\n00:08:22.311 --> 00:08:24.100\n&gt;&gt; can stamp the notes as approved.\n\n180\n00:08:24.100 --> 00:08:24.760\n&gt;&gt; All right, so\n\n181\n00:08:24.760 --> 00:08:28.990\nyou do see that we do have different\nprefixes that would be applied here.\n\n182\n00:08:28.990 --> 00:08:33.000\nWe can then, obviously, use those as\nnecessary, if we need to specify or\n\n183\n00:08:33.000 --> 00:08:36.140\nsignify that we are gonna give\npreference to something, or\n\n184\n00:08:36.140 --> 00:08:37.400\nthat we want to be able to do that.\n\n185\n00:08:37.400 --> 00:08:39.677\nEach prefix has a precedence\nlevel assigned to it.\n\n186\n00:08:39.677 --> 00:08:42.930\nHigher precedence is preferred\nover a lower precedence.\n\n187\n00:08:42.930 --> 00:08:44.690\nForgot to mention that specifically here.\n\n188\n00:08:44.690 --> 00:08:48.150\nSo obviously the precedence ranking\nis much like a metric value.\n\n189\n00:08:48.150 --> 00:08:50.410\nWhen we're look at\nan IPv4 route statement,\n\n190\n00:08:50.410 --> 00:08:54.120\nthe metric remember is gonna\nsignify that cost, quote unquote,\n\n191\n00:08:54.120 --> 00:08:58.280\nvalue meaning just a preference based\non numerical value higher versus lower.\n\n192\n00:08:58.280 --> 00:09:01.560\nAnd being able to figure out what\nthat means as a result of that,\n\n193\n00:09:01.560 --> 00:09:03.520\nlower cost is always preferred.\n\n194\n00:09:03.520 --> 00:09:07.631\nWith metrics, here we're saying\nthe higher the precedence label, or\n\n195\n00:09:07.631 --> 00:09:11.890\nrather the higher precedence value,\nthe more preference we have for it.\n\n196\n00:09:11.890 --> 00:09:14.740\nSo kind of the opposite that we're\nthinking of their worth regards\n\n197\n00:09:14.740 --> 00:09:15.340\nto a metric.\n\n198\n00:09:15.340 --> 00:09:19.986\nBut, so we would obviously say precedence\nof 50 for the loop back adaptor.\n\n199\n00:09:19.986 --> 00:09:23.205\nThat means that that would have a higher\nprecedence and something like a default\n\n200\n00:09:23.205 --> 00:09:26.330\ngateway in my example here just\nas we see them stacked up.\n\n201\n00:09:27.370 --> 00:09:30.990\nBut just keep in mind that we\nassign precedence, priorities here,\n\n202\n00:09:30.990 --> 00:09:34.180\nessentially to specify that\nwe want to use certain things\n\n203\n00:09:34.180 --> 00:09:36.431\nover others that may be coming back.\n\n204\n00:09:36.431 --> 00:09:37.017\nRight?\nSo\n\n205\n00:09:37.017 --> 00:09:42.622\nif the IPv4 loopback adapter comes back\nand the IPv6 equivalent comes back and\n\n206\n00:09:42.622 --> 00:09:46.670\nthe IPv4 adapter statement is not gonna\nhave a precedence that's as high,\n\n207\n00:09:46.670 --> 00:09:50.590\nwe're gonna signify or specify with\nthe precedence value of 50 that\n\n208\n00:09:50.590 --> 00:09:54.780\nwe have a preference for the version\n6 one if we're using v6 addressing.\n\n209\n00:09:54.780 --> 00:09:57.570\nAnd that's the kind of thing we're\nthinking about and we're trying to get\n\n210\n00:09:57.570 --> 00:10:02.250\ninto our minds when we think about\nprefaces or prefix policies here.\n\n211\n00:10:02.250 --> 00:10:05.530\nSo when we do that, if we issue that\nget command that I was talking about.\n\n212\n00:10:05.530 --> 00:10:07.830\nI can demo that for\nyou really quickly here.\n\n213\n00:10:07.830 --> 00:10:09.490\nGet net prefix policy.\n\n214\n00:10:09.490 --> 00:10:10.944\nLet me just show you this real quick and\n\n215\n00:10:10.944 --> 00:10:13.960\nthen I'll bring back up the registry\neditor and all the stuff I'm doing here.\n\n216\n00:10:13.960 --> 00:10:15.020\nI'll explain this.\n\n217\n00:10:15.020 --> 00:10:17.732\nBut just before I get ready to\nexplain what we're doing here,\n\n218\n00:10:17.732 --> 00:10:19.040\nlet me just show you what I mean.\n\n219\n00:10:19.040 --> 00:10:24.560\nSo Get-Net prefix policy is\nwhat we would enter here.\n\n220\n00:10:24.560 --> 00:10:25.290\nThis is our command.\n\n221\n00:10:25.290 --> 00:10:27.070\nNow I'll do this in a second.\n\n222\n00:10:27.070 --> 00:10:29.860\nBut keep in mind I did\nshow you this before.\n\n223\n00:10:29.860 --> 00:10:33.570\nBut remember we do have\nour PowerShell commands.\n\n224\n00:10:33.570 --> 00:10:36.505\nI showed you these in the last episode\njust to remind you where they come from.\n\n225\n00:10:36.505 --> 00:10:39.680\nNetTCPIP module,\nwe took a look at these or\n\n226\n00:10:39.680 --> 00:10:44.820\nI focused in on the Get NetiPv6 protocol\nat the very end of our last episode.\n\n227\n00:10:44.820 --> 00:10:49.270\nBut right below it there you'll see we\nhave Get-NetPrefixPolicy right there and\n\n228\n00:10:49.270 --> 00:10:51.730\nthat's the one we're talking about\nthat we could examine that I\n\n229\n00:10:51.730 --> 00:10:53.250\njust teed up in the interface for you.\n\n230\n00:10:53.250 --> 00:10:56.580\nSo we do have all of these commands\nlisted and you can obviously go in and\n\n231\n00:10:56.580 --> 00:10:58.060\ntake a look at them right here.\n\n232\n00:10:58.060 --> 00:11:02.777\nBut if you were to enter right here and\ndo that, let me just get back in there and\n\n233\n00:11:02.777 --> 00:11:05.763\njust do that and do that and\ndo that, there we go.\n\n234\n00:11:05.763 --> 00:11:09.519\nThen we would get a list of whatever\npolicy prefixes, you see them\n\n235\n00:11:09.519 --> 00:11:14.108\nlisted right there, that are in the system\nthat are available for us for IPv6.\n\n236\n00:11:14.108 --> 00:11:17.085\nYou could see what traditional\noutput may look like there.\n\n237\n00:11:17.085 --> 00:11:20.187\nAnd you could see there's our\nloop back adaptor at the bottom.\n\n238\n00:11:20.187 --> 00:11:21.731\nIt mirrors the list I just gave you.\n\n239\n00:11:21.731 --> 00:11:25.360\nIt's essentially the central default ones\nthat are programed into the interface.\n\n240\n00:11:25.360 --> 00:11:26.690\nBut you could see them there.\n\n241\n00:11:26.690 --> 00:11:29.980\nSo you could see all of them\nlisted from lowest to highest.\n\n242\n00:11:29.980 --> 00:11:32.560\nAnd the labels go from whatever they are.\n\n243\n00:11:32.560 --> 00:11:36.360\nAt the top they're based on\nthe specification for that down to that.\n\n244\n00:11:36.360 --> 00:11:39.900\nAnd it looks very similar to what\nI have here on my diagram or\n\n245\n00:11:39.900 --> 00:11:41.960\nmy chart that I put together for\nyou, right?\n\n246\n00:11:41.960 --> 00:11:44.020\nSo, just be aware that we'll\nsee our default gateway,\n\n247\n00:11:44.020 --> 00:11:47.000\nwe'll see our IPv4 compatible address,\netc.\n\n248\n00:11:47.000 --> 00:11:49.210\nWhatever's there you can\nsee all of that here.\n\n249\n00:11:49.210 --> 00:11:53.030\nThere's our IPV4 compatible address,\nthere's our default gateway,\n\n250\n00:11:53.030 --> 00:11:54.810\nthere's a loop back adapter.\n\n251\n00:11:54.810 --> 00:11:55.760\nRight?\nSo, they're all down there and\n\n252\n00:11:55.760 --> 00:11:56.570\nthey're all signified.\n\n253\n00:11:56.570 --> 00:12:00.120\nYou can look at that word document to\nkind of map those in your mind, but\n\n254\n00:12:00.120 --> 00:12:04.130\nthat's what we would actually see If\nwe were going in and taking a look or\n\n255\n00:12:04.130 --> 00:12:07.290\npulling up the prefix policies\nusing the PowerShell command.\n\n256\n00:12:07.290 --> 00:12:08.980\nJust so you know how that would play out.\n\n257\n00:12:08.980 --> 00:12:11.510\nAll right, so we're gonna leave\nthat there for just a moment.\n\n258\n00:12:11.510 --> 00:12:15.480\nJust talk quickly about the concept\nof tunneling, the concept of some of\n\n259\n00:12:15.480 --> 00:12:18.910\nthe additional capabilities we're gonna\nstart discussing and showing you here.\n\n260\n00:12:18.910 --> 00:12:19.630\nWhile I'm doing that or\n\n261\n00:12:19.630 --> 00:12:22.860\nwhile I'm starting to do that I'm just\ngonna reset our lab timer so we don't\n\n262\n00:12:22.860 --> 00:12:26.950\nlose out on all the hard work I just put\ninto setting up that whole environment.\n\n263\n00:12:26.950 --> 00:12:30.550\nSo let's talk about IPv6 over\nIPv4 tunneling for just a minute.\n\n264\n00:12:30.550 --> 00:12:33.420\nThe idea of tunneling overall,\n\n265\n00:12:33.420 --> 00:12:36.810\ngenerically something that hopefully\na lot of you are already familiar with.\n\n266\n00:12:36.810 --> 00:12:40.940\nWe talk a lot about tunneling in many,\nmany instances in many areas for\n\n267\n00:12:40.940 --> 00:12:42.710\na lot of reasons, generically,\n\n268\n00:12:42.710 --> 00:12:46.700\nthe idea behind tunneling is the ability\nto be able to take information.\n\n269\n00:12:46.700 --> 00:12:49.430\nWe often talk about encapsulating\nit inside of a tunnel,\n\n270\n00:12:49.430 --> 00:12:54.627\na generic term we use to wrap the traffic,\nwrap the data inside of something.\n\n271\n00:12:54.627 --> 00:12:58.050\nWrap it with something that\nwill essentially control it or\n\n272\n00:12:58.050 --> 00:13:01.430\nspecify how it will be used\nwhile it is being transmitted.\n\n273\n00:13:01.430 --> 00:13:05.467\nProtecting it and enveloping it in some\nsort of outer wrapper and then we send it\n\n274\n00:13:05.467 --> 00:13:09.337\nthrough some sort of system that tunnels\nwhere we often will send the data.\n\n275\n00:13:09.337 --> 00:13:12.643\nAnd then on the other side we open\nup the tunnel, we take the data out,\n\n276\n00:13:12.643 --> 00:13:15.330\nwe un-encapsulate,\nessentially unwrap, the data.\n\n277\n00:13:15.330 --> 00:13:19.010\nAnd then the original information,\nthe original addressing, and all the stuff\n\n278\n00:13:19.010 --> 00:13:22.310\nthat may be associated with it,\nis often then gonna be able to be seen.\n\n279\n00:13:22.310 --> 00:13:26.330\nSo when we think about\ntunneling IPv6 over IPv4,\n\n280\n00:13:26.330 --> 00:13:28.280\nthe name implies exactly what we're doing,\nright.\n\n281\n00:13:28.280 --> 00:13:31.890\nWe're taking this traffic and\nwe're tunneling it, or sending it\n\n282\n00:13:31.890 --> 00:13:34.850\nthrough a system that traditionally\nmay not be designed to support it but\n\n283\n00:13:34.850 --> 00:13:37.110\nwould allow us to transmit and\ncommunicate it.\n\n284\n00:13:37.110 --> 00:13:41.670\nSo we send IPv6 packets with\nencapsulation over IPv4, or\n\n285\n00:13:41.670 --> 00:13:46.720\nwith an IPv4 header in other words, so\nthat the IPv6 packets can be seen, read,\n\n286\n00:13:46.720 --> 00:13:50.960\ntransmitted and understood by\nIPv4 only infrastructure, right.\n\n287\n00:13:50.960 --> 00:13:56.420\nSo we're gonna take an IPv6 packet,\nslap an IPv4 translation header on it and\n\n288\n00:13:56.420 --> 00:14:00.180\nthen send it off,\nmaking it appear as if it's IPv4 traffic.\n\n289\n00:14:00.180 --> 00:14:04.490\nSo it can be interacted with, and\nprocessed across our IPv4 networks.\n\n290\n00:14:04.490 --> 00:14:05.590\nCherokee, I know you wanted to jump in.\n\n291\n00:14:05.590 --> 00:14:08.080\nYou wanted to say\nsomething here real quick.\n\n292\n00:14:08.080 --> 00:14:10.820\n&gt;&gt; Yeah, so that concept that you\njust explained, theoretically,\n\n293\n00:14:10.820 --> 00:14:15.590\nif we take that individual packet, and\nrepackage it with the IPv4 header, well,\n\n294\n00:14:15.590 --> 00:14:20.220\nwe know that the internet, and\nmost networks are still using IPv4.\n\n295\n00:14:20.220 --> 00:14:24.710\nBut theoretically it is also\npossible to reverse that although\n\n296\n00:14:26.490 --> 00:14:27.820\nit's not as popular, correct?\n\n297\n00:14:27.820 --> 00:14:28.320\n&gt;&gt; To do?\n&gt;&gt; Six to four.\n\n298\n00:14:28.320 --> 00:14:29.205\n&gt;&gt; To do Six to Four, yeah, well we could\n\n299\n00:14:29.205 --> 00:14:30.245\ndo Six to Four as well.\nWe'll\n\n300\n00:14:30.245 --> 00:14:31.460\nactually talk a bit about that\n\n301\n00:14:31.460 --> 00:14:32.145\n&gt;&gt; Okay\n&gt;&gt; in just\n\n302\n00:14:32.145 --> 00:14:32.665\na few minutes.\n&gt;&gt; Okay.\n\n303\n00:14:32.665 --> 00:14:33.176\n&gt;&gt; We could do both\n\n304\n00:14:33.176 --> 00:14:34.565\n&gt;&gt; And Cherokee is right.\n\n305\n00:14:34.565 --> 00:14:35.915\nWe can do it either way.\n\n306\n00:14:35.915 --> 00:14:36.775\nNot as popular,\n\n307\n00:14:36.775 --> 00:14:38.655\nbut still obviously very important for\n\n308\n00:14:38.655 --> 00:14:44.030\nus to think about the fact that we do have\nthis bi-directional, backwards compatible,\n\n309\n00:14:44.030 --> 00:14:47.420\ninteroperability thought process\nto transmit traffic either way.\n\n310\n00:14:47.420 --> 00:14:49.360\nAs we go down the road a little bit,\n\n311\n00:14:49.360 --> 00:14:52.660\nthis becomes more prevalent, we may\nhave a further need for that, right?\n\n312\n00:14:52.660 --> 00:14:57.630\nSo instead at some point we may have\nto be able to take IPv4 traffic and\n\n313\n00:14:57.630 --> 00:15:00.770\nmake it accessible to IPv6\nnetworks as we're transitioning.\n\n314\n00:15:00.770 --> 00:15:02.870\nAnd that may also be\nsomething to consider.\n\n315\n00:15:02.870 --> 00:15:06.030\nSo we can do both, but the idea here and\nsomething just to keep in mind,\n\n316\n00:15:06.030 --> 00:15:09.440\nat least with the IPv6\nover IPv4 tunneling.\n\n317\n00:15:09.440 --> 00:15:12.560\n&gt;&gt; Right.\nIs that things like ISATAP,\n\n318\n00:15:12.560 --> 00:15:15.595\nwhich is kinda what's going on behind us\nhere, we'll take a look at in a minute,\n\n319\n00:15:15.595 --> 00:15:18.800\nare going to be able to\nuse this technology.\n\n320\n00:15:18.800 --> 00:15:22.050\nSo we're gonna be able to set these\ntunnels up and transmit traffic,\n\n321\n00:15:22.050 --> 00:15:23.230\nthat's good to know.\n\n322\n00:15:23.230 --> 00:15:25.990\nBut keep in mind these tunnels\nare not secured natively.\n\n323\n00:15:25.990 --> 00:15:28.760\nMeaning in and of themselves\nthe transmission, and the setup, and\n\n324\n00:15:28.760 --> 00:15:31.060\nthe architecture,\njust creates the pipe and\n\n325\n00:15:31.060 --> 00:15:36.380\nallows us to create the pathways\nto send and receive the data.\n\n326\n00:15:36.380 --> 00:15:40.480\nBut we're not focusing on the security of\nthe data, we're focusing on the nuts and\n\n327\n00:15:40.480 --> 00:15:43.410\nbolts of the networking and\nbeing able to create a path and\n\n328\n00:15:43.410 --> 00:15:46.820\na transmission mechanism that\nmoves that data back and forth.\n\n329\n00:15:46.820 --> 00:15:51.275\nThe IPv6 tunnel does not in and\nof itself provide\n\n330\n00:15:51.275 --> 00:15:55.957\nthat protection or\nset up some sort of protection.\n\n331\n00:15:55.957 --> 00:15:57.354\nSo just keep that in mind.\n\n332\n00:15:57.354 --> 00:16:00.690\nThey're not secure the IPv6\npackets inside the tunnel.\n\n333\n00:16:00.690 --> 00:16:03.679\nBut the reason for that, if you\nremember why, and we talked about this,\n\n334\n00:16:03.679 --> 00:16:04.468\nwe hinted at this.\n\n335\n00:16:04.468 --> 00:16:07.981\nIf you remember, I think in our last\nepisode we talked about the fact that IPv6\n\n336\n00:16:07.981 --> 00:16:10.711\nnatively uses what,\nin order to provide confidentiality?\n\n337\n00:16:10.711 --> 00:16:14.119\nRemember we talked about the fact that\nwe are automatically with IPv6 doing\n\n338\n00:16:14.119 --> 00:16:14.712\nsomething.\n\n339\n00:16:14.712 --> 00:16:15.809\n&gt;&gt; IPSEC is required.\n\n340\n00:16:15.809 --> 00:16:23.143\n&gt;&gt; IPSEC is required, right, so we're not\nsetting up an encrypted tunnel end-to-end.\n\n341\n00:16:23.143 --> 00:16:27.121\nBecause we're encrypting and providing\nconfidentiality on the packets already.\n\n342\n00:16:27.121 --> 00:16:28.951\nSo we're not as worried\nabout the tunnel security.\n\n343\n00:16:28.951 --> 00:16:31.790\nBecause we're not really worried about\npeople seeing the data because they\n\n344\n00:16:31.790 --> 00:16:32.420\nare protected.\n\n345\n00:16:32.420 --> 00:16:35.551\nSo that's just something to\nkeep in mind and consider.\n\n346\n00:16:35.551 --> 00:16:41.413\nThe fact that because of the structure\nof the IPv6 protocol we do provide for\n\n347\n00:16:41.413 --> 00:16:44.996\nthat requirement that IPv6 requires IPSEC.\n\n348\n00:16:44.996 --> 00:16:48.851\nOr we mandate that it must be used, we're\nnot as worried about tunneling process.\n\n349\n00:16:48.851 --> 00:16:50.647\nWe're not as worried about,\nhey, we got to make sure.\n\n350\n00:16:50.647 --> 00:16:56.940\nThat we're architecting this really,\nreally involved complex security solution.\n\n351\n00:16:56.940 --> 00:17:00.771\nTo offset the issues and concerns\nthat maybe in IPv4 we would have had.\n\n352\n00:17:00.771 --> 00:17:03.158\nWhere natively we were not\nencrypting this package, right.\n\n353\n00:17:03.158 --> 00:17:04.413\nI mean we could certainly.\n\n354\n00:17:04.413 --> 00:17:08.664\nBut normally without going to\nthe trouble of setting up a VPN\n\n355\n00:17:08.664 --> 00:17:12.160\nwith an L2TPNIPSEC overlay or\nan SSL based VPN.\n\n356\n00:17:12.160 --> 00:17:16.190\nAn application layer VPN through\nthe web or whatever we would do.\n\n357\n00:17:16.190 --> 00:17:19.571\nWhen we're doing those things we're\noffsetting the fact that natively the IPv4\n\n358\n00:17:19.571 --> 00:17:21.589\npackets have no security\nassociated with them.\n\n359\n00:17:21.589 --> 00:17:22.157\nIn other words,\n\n360\n00:17:22.157 --> 00:17:24.557\nyeah they are just wide open,\nthey are just transmitted in the clear.\n\n361\n00:17:24.557 --> 00:17:28.570\nIPv6 packets natively are encrypted\nby default and by design.\n\n362\n00:17:28.570 --> 00:17:31.820\nSo, it does gives us some\nadditional capabilities.\n\n363\n00:17:31.820 --> 00:17:33.040\nAnd it's good just to think about that and\n\n364\n00:17:33.040 --> 00:17:35.780\nbe aware of that when we're talking\nabout these tunneling mechanisms.\n\n365\n00:17:35.780 --> 00:17:39.920\nCuz we're not as worried about the hey,\nwe need to do this whole thing and\n\n366\n00:17:39.920 --> 00:17:41.370\nmake sure it's encrypted end to end.\n\n367\n00:17:41.370 --> 00:17:42.316\nThe packets are encrypted.\n\n368\n00:17:42.316 --> 00:17:43.508\nThey are using IPv6.\n\n369\n00:17:43.508 --> 00:17:46.652\nSo as a result we've already got native\nsecurity in effect if you think about\n\n370\n00:17:46.652 --> 00:17:47.390\nit that way.\n\n371\n00:17:47.390 --> 00:17:48.980\nIt's already there natively and built-in.\n\n372\n00:17:48.980 --> 00:17:50.540\nThat is cool,\nyou should think that's cool.\n\n373\n00:17:50.540 --> 00:17:51.930\nYou should say, that was awesome.\n\n374\n00:17:51.930 --> 00:17:53.220\n&gt;&gt; That is awesome, Adam.\n\n375\n00:17:53.220 --> 00:17:55.300\nI gotta throw my arm in there too, whoo.\n\n376\n00:17:55.300 --> 00:17:59.000\n&gt;&gt; I like it, it gives me a chance just to\nreset the lab timer while we're talking.\n\n377\n00:17:59.000 --> 00:18:01.500\nVery good, so\nwe've got that thought process.\n\n378\n00:18:01.500 --> 00:18:02.464\nLet's talk about ISATAP.\n\n379\n00:18:02.464 --> 00:18:06.307\nI want to get into the idea for the last\nremaining part of our time together of\n\n380\n00:18:06.307 --> 00:18:08.634\nwhat we've done to this\npoint to set this up.\n\n381\n00:18:08.634 --> 00:18:11.990\nOther than just to get net prefix\npolicy I just quickly demoed for you.\n\n382\n00:18:11.990 --> 00:18:13.700\nBut I've got a bunch of stuff\nthat I've already set up.\n\n383\n00:18:13.700 --> 00:18:17.374\nI want to talk about it with you, kind of\nlay out the foundational thought process.\n\n384\n00:18:17.374 --> 00:18:20.062\nWhy do we have the registry editor open,\nwhat is going on with that?\n\n385\n00:18:20.062 --> 00:18:23.159\nWe're gonna talk through this, I'm gonna\nrestart this machine along the way.\n\n386\n00:18:23.159 --> 00:18:27.511\nBecause we are about to enable the ISATAP\ntunneling and further instantiate it so\n\n387\n00:18:27.511 --> 00:18:29.372\nit's already set and ready to go.\n\n388\n00:18:29.372 --> 00:18:32.809\nAnd then we are going to be able to go\nahead and complete the demonstration here.\n\n389\n00:18:32.809 --> 00:18:35.770\nAnd explain the thought process\nbehind what we are doing.\n\n390\n00:18:35.770 --> 00:18:38.020\nBut what I've done,\nessentially is taken this machine.\n\n391\n00:18:38.020 --> 00:18:40.420\nThis is just a Windows Server 16 Server.\n\n392\n00:18:40.420 --> 00:18:42.684\nAnd I've gone into the registry.\n\n393\n00:18:42.684 --> 00:18:45.193\nAnd you could see right here,\nif you take a look at the bottom.\n\n394\n00:18:45.193 --> 00:18:47.290\nYou could probably see the path here.\n\n395\n00:18:47.290 --> 00:18:50.180\nI'm in the H key local machine\nsystem current control set\n\n396\n00:18:50.180 --> 00:18:54.030\nservices TCP/IP parameters subfolder.\n\n397\n00:18:54.030 --> 00:18:56.530\nAnd you could see off to the left here.\n\n398\n00:18:56.530 --> 00:19:00.160\nLet me go up just a click or\ntwo so you can kind of see this.\n\n399\n00:19:00.160 --> 00:19:01.530\nYou could see the path.\n\n400\n00:19:01.530 --> 00:19:03.900\nAnd it is important to know we're\nin the parameter sub folder.\n\n401\n00:19:03.900 --> 00:19:07.990\nSo go to TCP IP and don't go to\nparameters you won't find the value\n\n402\n00:19:07.990 --> 00:19:10.390\nthat is highlighted for\nyour IP enabled router.\n\n403\n00:19:10.390 --> 00:19:12.150\nYou'll find a bunch of other stuff but\nnot the one you need.\n\n404\n00:19:12.150 --> 00:19:13.984\nSo you've got to go into that sub folder.\n\n405\n00:19:13.984 --> 00:19:19.326\nAnd then remember server 16 server so\nwe're talking about on server 16.\n\n406\n00:19:19.326 --> 00:19:23.183\nIP enable router, reg D word,\nthis is normally set to all zeros,\n\n407\n00:19:23.183 --> 00:19:25.250\nmeaning it's not enabled.\n\n408\n00:19:25.250 --> 00:19:29.330\nI went in, enabled this because this\nis how we turn on ISATAP support for\n\n409\n00:19:29.330 --> 00:19:31.850\nenabling software-based\nrouting on a server.\n\n410\n00:19:31.850 --> 00:19:35.000\nWe do this through the registry,\nwe enable this, we restart the machine.\n\n411\n00:19:35.000 --> 00:19:38.490\nIt then sets up and binds and\nshows us that that's functional.\n\n412\n00:19:38.490 --> 00:19:39.891\nThat's kind of step one.\n\n413\n00:19:39.891 --> 00:19:43.057\nAnd once we've done that,\nwe then do some net sh commands.\n\n414\n00:19:43.057 --> 00:19:44.476\nTo further clarify and\n\n415\n00:19:44.476 --> 00:19:48.620\nenable features that we then want\nto use with the ISATAP routing.\n\n416\n00:19:48.620 --> 00:19:51.430\nBut before we do that, so\nI've shown you just the registry part.\n\n417\n00:19:51.430 --> 00:19:54.220\nLet me just minimize,\nwe'll leave that there for a second.\n\n418\n00:19:54.220 --> 00:19:58.280\nLet me, that's just my hostname,\njust one second.\n\n419\n00:19:58.280 --> 00:20:01.830\nActually, you know what,\nI can do that from right here, no problem.\n\n420\n00:20:01.830 --> 00:20:05.420\nLet me just do ipconfig really quick.\n\n421\n00:20:05.420 --> 00:20:07.873\nAnd I can show you what\nthe output of that is.\n\n422\n00:20:07.873 --> 00:20:09.602\nLet me just come back up here.\n\n423\n00:20:09.602 --> 00:20:12.280\nI don't have to go all the way up there.\n\n424\n00:20:12.280 --> 00:20:18.600\nAnd let me see, where is that?\n\n425\n00:20:18.600 --> 00:20:19.610\nActually, you know what?\n\n426\n00:20:19.610 --> 00:20:21.260\nI do need to do this.\n\n427\n00:20:21.260 --> 00:20:22.130\nJust one second.\n\n428\n00:20:22.130 --> 00:20:24.200\nSo I forgot I need to do all.\n\n429\n00:20:25.600 --> 00:20:31.830\nAnd just go back up to right there.\n\n430\n00:20:32.860 --> 00:20:34.700\nAnd I'll make that a little bigger for\nyou.\n\n431\n00:20:34.700 --> 00:20:37.060\nI'm gonna highlight that\njust before I do that.\n\n432\n00:20:37.060 --> 00:20:39.430\nBut I'm gonna make that a little bigger,\njust so you can see it.\n\n433\n00:20:39.430 --> 00:20:42.618\nBut what I turned on with the registry\nediting is what I'm just highlighting and\n\n434\n00:20:42.618 --> 00:20:43.865\nI'm gonna show you right now.\n\n435\n00:20:43.865 --> 00:20:47.344\nI'm just gonna blow it up, so\nyou could see in a little bit bigger,\n\n436\n00:20:47.344 --> 00:20:49.724\njust make that 20 point so\nyou can see that.\n\n437\n00:20:49.724 --> 00:20:54.357\nAnd what I did, what we turned on,\nwas right here and I have to go back and\n\n438\n00:20:54.357 --> 00:20:57.615\nre-highlight so\njust give me a second to do that.\n\n439\n00:20:57.615 --> 00:21:03.077\nThat will be right up here and\nIP routing enabled right there.\n\n440\n00:21:03.077 --> 00:21:07.475\nSo I turned on that function by\nediting the registry key and\n\n441\n00:21:07.475 --> 00:21:11.444\nenabling IP routing in\nthe network stack for TCP IP.\n\n442\n00:21:11.444 --> 00:21:17.190\nWe started the machine, that value now set\nto 1 turns that feature on right there.\n\n443\n00:21:17.190 --> 00:21:19.185\nAnd that's gonna be the beginning\nof the journey for ISATAP.\n\n444\n00:21:19.185 --> 00:21:22.798\nWe have to enable the software based\nrouting capabilities in the network stack\n\n445\n00:21:22.798 --> 00:21:24.505\nto be able to leverage this feature.\n\n446\n00:21:24.505 --> 00:21:28.570\nAnd so we've done that and that is\nshowing us that IP routing is enabled.\n\n447\n00:21:28.570 --> 00:21:30.417\nRemember we're not setting\nup a remote access server.\n\n448\n00:21:30.417 --> 00:21:33.266\nWe're not enabling and\ninstalling RAS here.\n\n449\n00:21:33.266 --> 00:21:36.752\nAnd putting a whole console and\nan entire software based GUI for\n\n450\n00:21:36.752 --> 00:21:38.473\nrouting management in place.\n\n451\n00:21:38.473 --> 00:21:42.575\nWe're doing this just from the command\nline with just the basic networking stack\n\n452\n00:21:42.575 --> 00:21:43.428\ncapabilities.\n\n453\n00:21:43.428 --> 00:21:46.035\nAnd with the basic\nfunctionality that's there.\n\n454\n00:21:46.035 --> 00:21:49.885\nWe could go and install a RAS server and\nconfigure all sorts of other stuff.\n\n455\n00:21:49.885 --> 00:21:53.100\nBut ISATAP's not managed there,\nit's managed here.\n\n456\n00:21:53.100 --> 00:21:55.680\nAnd so, this is how we're going\nto enable this and stand this up.\n\n457\n00:21:55.680 --> 00:21:59.480\nSo, we set this up so far, we've already\nrebooted the server just to enable that.\n\n458\n00:21:59.480 --> 00:22:03.413\nI just wanted to show that to you, just so\nyou can see what that command does, and\n\n459\n00:22:03.413 --> 00:22:05.312\nwhat the registry editing was about.\n\n460\n00:22:05.312 --> 00:22:08.129\nNow that we've done that,\nwe're then gonna go ahead.\n\n461\n00:22:08.129 --> 00:22:14.132\nAnd we're gonna be able to configure\nthe interfaces here to support ISATAP.\n\n462\n00:22:14.132 --> 00:22:17.940\nAnd to provide addressing\nthrough ISATAP interfaces.\n\n463\n00:22:17.940 --> 00:22:22.230\nTo provide the tunneling that we wanna be\nable to use and do software routing with.\n\n464\n00:22:22.230 --> 00:22:24.610\nAnd so what I have here is, and\n\n465\n00:22:24.610 --> 00:22:28.140\njust ignore the get -netprefixpolicy\nthing that I just did below.\n\n466\n00:22:28.140 --> 00:22:30.620\nI just wanted to show you these\ntwo commands before I restart.\n\n467\n00:22:30.620 --> 00:22:34.020\nNetsh interface IPv6,\nwe're using Netsh right and\n\n468\n00:22:34.020 --> 00:22:37.090\nremember, just to remind you we've\ntaken a look at these before.\n\n469\n00:22:37.090 --> 00:22:39.907\nBut all the Netsh commands for IPv4 and\n\n470\n00:22:39.907 --> 00:22:44.781\nIPv6 overall are here specifically for\nthe interface for ISATAP.\n\n471\n00:22:44.781 --> 00:22:48.038\nThe ones that I'm using\nright now are on this page.\n\n472\n00:22:48.038 --> 00:22:50.570\nAnd you can go out and\nlook at a subset of them.\n\n473\n00:22:50.570 --> 00:22:54.762\nAnd we're using set router, set state,\nshow router, show state, in particular.\n\n474\n00:22:54.762 --> 00:22:58.569\nBut I'm configuring the ISATAP Interface\nso I'm using NetSH.\n\n475\n00:22:58.569 --> 00:23:02.890\nAnd using these kinds of commands for\nthat interaction.\n\n476\n00:23:02.890 --> 00:23:07.774\nAnd you'll see here set interface, so I'm\ndoing netSH interface IPv6 set interface.\n\n477\n00:23:07.774 --> 00:23:12.758\nAnd I've gotten this ISATAP string\nright here, it actually is just so\n\n478\n00:23:12.758 --> 00:23:14.538\nyou can see, it is this.\n\n479\n00:23:14.538 --> 00:23:17.865\nAnd I'll just bring that forward for\nyou just so you can see it.\n\n480\n00:23:17.865 --> 00:23:19.900\nI copied it and just dropped into Notepad.\n\n481\n00:23:19.900 --> 00:23:21.731\nI'm gonna make it just a little but\nbigger just so\n\n482\n00:23:21.731 --> 00:23:23.213\nyou can see exactly what it looks like.\n\n483\n00:23:23.213 --> 00:23:26.115\nAnd I'll show you where we\ngot this in just a second.\n\n484\n00:23:26.115 --> 00:23:27.645\nBut let me just blow this\nup a little bit just so\n\n485\n00:23:27.645 --> 00:23:30.155\nyou can see what that actually looks like.\n\n486\n00:23:30.155 --> 00:23:32.955\nThat's that string, it sit in blue and\nit kind of trails of and\n\n487\n00:23:32.955 --> 00:23:34.990\nwraps around it's kind of hard to see it.\n\n488\n00:23:34.990 --> 00:23:38.900\nBut it's the unique identifier for\none of the tunneling interfaces.\n\n489\n00:23:38.900 --> 00:23:43.890\nThe ISATAP string, the identifier for\nthe interface in question and\n\n490\n00:23:43.890 --> 00:23:48.700\nwhere I got that from, let's just\ngo back to our command line here.\n\n491\n00:23:48.700 --> 00:23:51.850\nI could do it from PowerShell or\nthe command line, it doesn't matter which.\n\n492\n00:23:51.850 --> 00:23:56.418\nJust center this so you can kind of\nsee this, but all we did here, so\n\n493\n00:23:56.418 --> 00:23:58.710\nipconfig all, remember right?\n\n494\n00:23:58.710 --> 00:24:02.164\nWe go down after we enable\nISATAP restart the machine, and\n\n495\n00:24:02.164 --> 00:24:05.416\nyou'll see I've got my\ntunnel adapter here, right?\n\n496\n00:24:05.416 --> 00:24:07.911\nTunnel adapter ISATAP right there.\n\n497\n00:24:07.911 --> 00:24:12.626\nAnd what I did is just highlighted this\ncuz I need this string, and I copied that\n\n498\n00:24:12.626 --> 00:24:17.341\nstring out because that's the unique\nidentifier that I have to use in the netsh\n\n499\n00:24:17.341 --> 00:24:22.290\ninterface, to set the tunnel adaptor and\nconfigure it so that way I can enable it.\n\n500\n00:24:22.290 --> 00:24:25.250\nAnd you see it says right below\nMicrosoft ISATAP adapter,\n\n501\n00:24:25.250 --> 00:24:28.110\nand I'm gonna be able to\nconfigure the information here.\n\n502\n00:24:28.110 --> 00:24:32.200\nAnd you'll see right now I do have\nan IPv6 address that's preferred.\n\n503\n00:24:32.200 --> 00:24:35.370\nI do have my link-local address,\nwe've talked about that.\n\n504\n00:24:35.370 --> 00:24:37.360\nAnd I've got some information here.\n\n505\n00:24:37.360 --> 00:24:43.611\nBut I'm gonna be able to work with\nthese tunnel adapters All right,\n\n506\n00:24:43.611 --> 00:24:44.830\noops sorry, went the wrong way.\n\n507\n00:24:44.830 --> 00:24:47.810\nGot another one right down below here,\nthere's my other one.\n\n508\n00:24:47.810 --> 00:24:49.080\nAnd you'll see I've got two of them and\n\n509\n00:24:49.080 --> 00:24:51.850\nI have to distinguish which\ntunnel adapter I wanna use.\n\n510\n00:24:51.850 --> 00:24:54.860\nAnd that's why I'm grabbing that string,\nthat unique identifier,\n\n511\n00:24:54.860 --> 00:24:57.920\nand I'm specifying which one I\nwanna be able to go in and program.\n\n512\n00:24:57.920 --> 00:25:01.240\nAnd so I grabbed that particular adaptor,\nthat's the one,\n\n513\n00:25:01.240 --> 00:25:05.870\nthe B7, BC 0 whatever, that's the string\nthat I grabbed, the first one.\n\n514\n00:25:05.870 --> 00:25:07.470\nAnd you could see that it matches there.\n\n515\n00:25:07.470 --> 00:25:08.540\nI just copied that out,\n\n516\n00:25:08.540 --> 00:25:12.300\nI did it in PowerShell cuz I can\nmark it in copy from PowerShell,\n\n517\n00:25:12.300 --> 00:25:15.450\nit's easier to do it than out of\nthe command line interface on the shell.\n\n518\n00:25:15.450 --> 00:25:17.470\nWith PowerShell actually if\nyou're not familiar with it,\n\n519\n00:25:17.470 --> 00:25:20.340\nyou can use the mark feature like\nyou would, like I just did here, but\n\n520\n00:25:20.340 --> 00:25:23.630\nyou can go up to the console, can actually\ncopy it, it'll copy what you mark.\n\n521\n00:25:23.630 --> 00:25:25.150\nSo you can actually just grab that.\n\n522\n00:25:25.150 --> 00:25:26.210\nAnd you could just make a copy of it.\n\n523\n00:25:26.210 --> 00:25:27.950\nThat's what I did just to have it here.\n\n524\n00:25:27.950 --> 00:25:28.880\nSo I grabbed that, right?\n\n525\n00:25:28.880 --> 00:25:30.000\nI went in.\nAnd I did that.\n\n526\n00:25:30.000 --> 00:25:31.010\nSo that's where we're getting\n\n527\n00:25:31.010 --> 00:25:33.460\nthat unique string from that\nyou're seeing here in blue.\n\n528\n00:25:33.460 --> 00:25:36.340\nSo NetSH interface, ipV6 set interface.\n\n529\n00:25:36.340 --> 00:25:37.530\nWhat interface are we setting?\n\n530\n00:25:37.530 --> 00:25:42.290\nWe're specifying which tunnel adapter,\nwhich ISATAP tunnel adapter we wanna set.\n\n531\n00:25:42.290 --> 00:25:43.020\nSo I set that.\n\n532\n00:25:43.020 --> 00:25:44.020\nAnd then what I do?\n\n533\n00:25:44.020 --> 00:25:45.330\nForwarding enabled.\n\n534\n00:25:45.330 --> 00:25:46.560\nAdvertise enabled.\n\n535\n00:25:46.560 --> 00:25:48.220\nNotice the end of the command there.\n\n536\n00:25:48.220 --> 00:25:51.600\nI'm enabling forwarding and\nI'm enabling advertisement.\n\n537\n00:25:51.600 --> 00:25:54.750\nAnd when I do that with netsh and\nnetsh is kinda interesting.\n\n538\n00:25:54.750 --> 00:25:58.030\nWhen we use netsh for most things,\nwe don't get back a response.\n\n539\n00:25:58.030 --> 00:26:01.330\nIn other words typically\nnetsh just does its thing and\n\n540\n00:26:01.330 --> 00:26:03.960\nthen just gives us a command prompt,\ndoesn't tell us anything.\n\n541\n00:26:03.960 --> 00:26:06.864\nIt's the silent, quiet type, right,\nit doesn't really say a lot.\n\n542\n00:26:06.864 --> 00:26:07.780\nVery stoic, as we would say.\n\n543\n00:26:07.780 --> 00:26:10.190\n&gt;&gt; You normally have to go and\nmanually check with ipconfig or\n\n544\n00:26:10.190 --> 00:26:10.850\nsomething like that.\n\n545\n00:26:10.850 --> 00:26:13.390\n&gt;&gt; You do, and you typically would in\nmany cases cuz you wanna make sure.\n\n546\n00:26:13.390 --> 00:26:15.870\nNow If you don't get an error back,\nit is good.\n\n547\n00:26:15.870 --> 00:26:19.520\nIf you screw something up, it does yell at\nyou and say hey, sorry that didn't work.\n\n548\n00:26:19.520 --> 00:26:21.770\nSo if you don't get anything back,\ntypically you could assume it's good.\n\n549\n00:26:21.770 --> 00:26:22.850\nBut you never wanna assume, right?\n\n550\n00:26:22.850 --> 00:26:23.830\nWe know that that's a problem.\n\n551\n00:26:23.830 --> 00:26:25.970\nSo Cherokee is making a great point.\n\n552\n00:26:25.970 --> 00:26:26.830\nHey, go check that.\n\n553\n00:26:26.830 --> 00:26:30.760\nAnd the way you check that Is with\nipconfig, like I just did in the console.\n\n554\n00:26:30.760 --> 00:26:32.940\nI'm gonna go back in a minute\nto the shell and show you that.\n\n555\n00:26:32.940 --> 00:26:37.480\nSo interestingly though, when we do\nnetsh and we're setting up the ISOTAP\n\n556\n00:26:37.480 --> 00:26:40.120\ncontent here, I know it's kinda hard to\nsee cuz it's right off to the side, but\n\n557\n00:26:40.120 --> 00:26:41.740\nit actually gives us some pointing to it.\n\n558\n00:26:41.740 --> 00:26:43.990\nAt the end of the command,\nit actually gives us the okay.\n\n559\n00:26:43.990 --> 00:26:45.940\nIt says literally okay period.\n\n560\n00:26:45.940 --> 00:26:47.020\nAnd it says okay I did that.\n\n561\n00:26:47.020 --> 00:26:49.470\nOkay, it gives us okay\nat the end of the line.\n\n562\n00:26:49.470 --> 00:26:52.190\nAnd so it actually comes back\nin this particular area.\n\n563\n00:26:52.190 --> 00:26:54.340\nAnd it does respond and\nactually gives us a little input.\n\n564\n00:26:54.340 --> 00:26:55.440\nIt says okay, yeah, you're good.\n\n565\n00:26:55.440 --> 00:26:58.390\nAnd I do the next one and\nit says okay again.\n\n566\n00:26:58.390 --> 00:27:01.650\nNetsh interface ipv6 add route,\nwhat am I doing there?\n\n567\n00:27:01.650 --> 00:27:02.490\nI'm adding a route.\n\n568\n00:27:03.560 --> 00:27:06.440\nSo, I'm adding it and you could see\nI'm adding my route prefix actually,\n\n569\n00:27:06.440 --> 00:27:08.060\nright cuz that's what I'm doing, right?\n\n570\n00:27:08.060 --> 00:27:10.860\nSo, and on again on that interface,\n\n571\n00:27:10.860 --> 00:27:13.270\non that tunnel the interface,\nam I publishing that?\n\n572\n00:27:13.270 --> 00:27:14.080\nYeah, I'm publishing that.\n\n573\n00:27:14.080 --> 00:27:16.040\nAnd then it comes back and\nsays okay again.\n\n574\n00:27:16.040 --> 00:27:19.720\nAnd so before I restart because I have to\nrestart to get this all set up, right?\n\n575\n00:27:19.720 --> 00:27:24.200\nSo we are saying here forwarding enabled\nadvertising enabled on this, right?\n\n576\n00:27:24.200 --> 00:27:25.860\nWell let's go take a look, right?\n\n577\n00:27:25.860 --> 00:27:27.130\nJust before we restart.\n\n578\n00:27:27.130 --> 00:27:29.280\nSo we're on our first adaptor, right?\n\n579\n00:27:29.280 --> 00:27:32.760\nYou'll notice here,\nI've got my basic information,\n\n580\n00:27:32.760 --> 00:27:36.330\njust if you can keep it straight in your\nhead for a minute what you're seeing.\n\n581\n00:27:36.330 --> 00:27:39.460\nBut I don't have those settings here yet.\n\n582\n00:27:39.460 --> 00:27:41.250\nThey're not totally instantiated.\n\n583\n00:27:41.250 --> 00:27:44.610\nRestarting again,\nwhich is what we're about to do right now,\n\n584\n00:27:44.610 --> 00:27:47.950\nis gonna enable those features\nthat we just turned on with netsh.\n\n585\n00:27:47.950 --> 00:27:49.470\nYou do have to restart\nwhen you're doing this.\n\n586\n00:27:49.470 --> 00:27:51.800\nSo keep in mind, you're setting up and\n\n587\n00:27:51.800 --> 00:27:55.740\nenabling ISATAP initially with the\nsoftware interface in the registry edit.\n\n588\n00:27:55.740 --> 00:27:58.660\nSetting up and publishing the route and\nbinding it and doing all that.\n\n589\n00:27:58.660 --> 00:28:00.558\nWe gotta restart when we're doing this.\n\n590\n00:28:00.558 --> 00:28:05.030\nSo you are gonna have some disruption here\nin terms of the ability to be able to\n\n591\n00:28:05.030 --> 00:28:07.380\njust have things up and\nrunning continuously.\n\n592\n00:28:07.380 --> 00:28:09.780\nAnd just cleaning up real quick\nbefore we restart just so\n\n593\n00:28:09.780 --> 00:28:12.440\nthat we are not restarting\nwith the registry editor open.\n\n594\n00:28:12.440 --> 00:28:16.530\nStuff like that, never a good idea to do\nthat, that can always lead to problems.\n\n595\n00:28:16.530 --> 00:28:18.922\nWe are gonna go ahead and\nwe are gonna shut down here so,\n\n596\n00:28:18.922 --> 00:28:21.106\nwe will just issue our shut down command,\nright?\n\n597\n00:28:21.106 --> 00:28:25.257\nSlash r slash t0, all right,\nso we will do that.\n\n598\n00:28:25.257 --> 00:28:25.990\nWe are just gonna restart.\n\n599\n00:28:25.990 --> 00:28:28.290\nWe will lose connectivity there for\njust a second.\n\n600\n00:28:28.290 --> 00:28:30.010\nWe will wait for that to come back up.\n\n601\n00:28:30.010 --> 00:28:34.390\nLet me just come back over here,\njust refresh that real quick.\n\n602\n00:28:34.390 --> 00:28:38.138\nAnd we'll come back in, in just a moment.\n\n603\n00:28:38.138 --> 00:28:42.493\nI'm just gonna choose my machine here and\nopen up a console in just a moment to get\n\n604\n00:28:42.493 --> 00:28:46.210\nback into it as soon, we got to wait\nabout a minute for it to restart.\n\n605\n00:28:46.210 --> 00:28:46.790\nSo we'll wait on that.\n\n606\n00:28:46.790 --> 00:28:50.230\nSo while we're waiting,\nlet me just show you what ISATAP addresses\n\n607\n00:28:50.230 --> 00:28:54.800\nbased on either private IPv4 or public\nIPv4 addresses are formatted out as.\n\n608\n00:28:54.800 --> 00:28:58.570\nCuz you just saw me use one for\nthe public IPv4 address that was\n\n609\n00:28:58.570 --> 00:29:00.660\nthe statement there why I\nset up the second route.\n\n610\n00:29:00.660 --> 00:29:04.390\nAnd I said, 2001 DBA,\nyou know etc slash 64.\n\n611\n00:29:04.390 --> 00:29:07.400\nThat was the translation for\nan IPv4 address.\n\n612\n00:29:07.400 --> 00:29:10.510\nSo let's just take a look here,\nI've got them just teed up right here.\n\n613\n00:29:10.510 --> 00:29:13.890\nYou'll see if we do an ISATAP\nbased address, right?\n\n614\n00:29:13.890 --> 00:29:17.370\nFormatted as follows for\nan IPv4 translation.\n\n615\n00:29:17.370 --> 00:29:19.780\nWe'll have our 64-bit unicast prefix,\nright?\n\n616\n00:29:19.780 --> 00:29:20.941\nYou guys know about that now.\n\n617\n00:29:20.941 --> 00:29:25.274\nAnd then we'll end it with this right\nhere, and whatever the w, x, y, z is,\n\n618\n00:29:25.274 --> 00:29:29.412\nas I put in the bracket or parenthesis\nhere, it's meant to signify part of\n\n619\n00:29:29.412 --> 00:29:34.680\nthe IPv4 and part of the IPv6 address that\nwe're using in the last part of the block.\n\n620\n00:29:34.680 --> 00:29:37.740\nSo this right here should be\nrecognizable to all of you.\n\n621\n00:29:37.740 --> 00:29:39.290\nThat's our IPv4 address.\n\n622\n00:29:39.290 --> 00:29:41.580\nThat would be whatever address\nwe're gonna use, right?\n\n623\n00:29:41.580 --> 00:29:43.630\nI just put in a ten dot address.\n\n624\n00:29:43.630 --> 00:29:46.350\nYou could put in anything you\nwant there obviously, right?\n\n625\n00:29:46.350 --> 00:29:50.850\nFor a public address, it will be the same\nkind of thing, our 64 bit unit cast\n\n626\n00:29:50.850 --> 00:29:57.450\nprefix, right, and then,\nyou'll see right here 200:5EFE.\n\n627\n00:29:57.450 --> 00:29:59.600\nAnd then again, our IPv4 address.\n\n628\n00:29:59.600 --> 00:30:02.970\nSo, we did 2001:db8::, right.\n\n629\n00:30:02.970 --> 00:30:04.910\nWhatever that would be for our prefix.\n\n630\n00:30:04.910 --> 00:30:09.637\nI had that in there with my /64 In the\ncommand line that I issued to signify that\n\n631\n00:30:09.637 --> 00:30:10.847\nwould be my prefix.\n\n632\n00:30:10.847 --> 00:30:14.305\nAnd then, I've got the host ID, 205 FE and\n\n633\n00:30:14.305 --> 00:30:18.573\nthen whatever my IPv4,\npublic IPv4 address would be.\n\n634\n00:30:18.573 --> 00:30:21.490\nThis would typically come from our ISP for\ninstance, right?\n\n635\n00:30:21.490 --> 00:30:23.280\nMost likely that's what we would be using.\n\n636\n00:30:23.280 --> 00:30:24.330\nSo you could see that there.\n\n637\n00:30:24.330 --> 00:30:26.040\nAgain, in the real world\nwhat are you doing?\n\n638\n00:30:26.040 --> 00:30:27.910\nYou're substituting in the value for\n\n639\n00:30:27.910 --> 00:30:30.640\nthat IPv4 address given whatever\nyou're gonna use, right?\n\n640\n00:30:30.640 --> 00:30:33.860\nI'm just giving you an example of what it\nwould look like here as we're talking.\n\n641\n00:30:33.860 --> 00:30:37.270\nThis is not gonna be exactly, in other\nwords verbatim, what you would do.\n\n642\n00:30:37.270 --> 00:30:40.850\nBut you would put in the IP addresses that\nare specific to your environment, right?\n\n643\n00:30:40.850 --> 00:30:42.250\nSo just keep that in mind.\n\n644\n00:30:42.250 --> 00:30:45.610\nNow the ISATAP router which is\nwhat we're setting up here, right?\n\n645\n00:30:45.610 --> 00:30:50.250\nIf we don't have certain kinds\nof configuration and support,\n\n646\n00:30:50.250 --> 00:30:53.920\nwe're using this essentially right to\nbe able to provide our information,\n\n647\n00:30:53.920 --> 00:30:56.750\nour tunneling,\npotentially our ISATAP capabilities.\n\n648\n00:30:56.750 --> 00:31:00.300\nAnd so the ISATAP router as you could see\nright here, can we go full screen just so\n\n649\n00:31:00.300 --> 00:31:02.720\nyou can see that cuz I'm kinda\nhovering over a part of it.\n\n650\n00:31:02.720 --> 00:31:03.640\nYou'll see, right?\n\n651\n00:31:03.640 --> 00:31:06.770\nIf there are no IPv6 only host\nmeaning we don't have hosts\n\n652\n00:31:06.770 --> 00:31:09.090\nthat are only using IPv6\nas we talked about.\n\n653\n00:31:09.090 --> 00:31:13.460\nRemember we talked about hosts and nodes\nas being equivalent to one another, right?\n\n654\n00:31:13.460 --> 00:31:19.210\nSo if we don't have IPv6 only host,\nthe router, the IPv6 router, the ISATAP\n\n655\n00:31:19.210 --> 00:31:23.830\nrouter, excuse me, advertises the IPv6\nprefix that those clients are gonna use.\n\n656\n00:31:23.830 --> 00:31:27.957\nRemember we talked about the fact that we\ncan get router advertisements using IPv6.\n\n657\n00:31:27.957 --> 00:31:31.717\nIPv6 only hosts or\nones that are just gonna use IPv6 and\n\n658\n00:31:31.717 --> 00:31:35.810\nnothing else were probably\ncoexisting most of the time.\n\n659\n00:31:35.810 --> 00:31:39.490\nWould probably have IPv4\nand/or IPv6 capable nodes,\n\n660\n00:31:39.490 --> 00:31:41.200\nprobably a little bit of both, right?\n\n661\n00:31:41.200 --> 00:31:42.420\nSo just keep that in mind.\n\n662\n00:31:42.420 --> 00:31:45.940\nThe ISATAP interface on the computer\nis configured for that prefix.\n\n663\n00:31:45.940 --> 00:31:48.811\nAnd when an application needs that,\nthe packet is encapsulated,\n\n664\n00:31:48.811 --> 00:31:50.564\nas we talked about with this tunneling.\n\n665\n00:31:50.564 --> 00:31:54.730\nRight into the IPv4 packet and\ndelivered to the IPv4 address on\n\n666\n00:31:54.730 --> 00:31:59.758\nthe destination host that also understands\nand uses the ISATAP capability.\n\n667\n00:31:59.758 --> 00:32:03.461\nThe ISATAP router, unpacks IPv6 packets,\nmakes them available.\n\n668\n00:32:03.461 --> 00:32:07.981\nHosts are able to send to the IPv4 address\nof the router, and the ISATAP router\n\n669\n00:32:07.981 --> 00:32:12.860\nunpacks those packets and sends them back\nthe other way on to the IPv6 only network.\n\n670\n00:32:12.860 --> 00:32:16.420\nSo it's that translation device\nthat sits back and forth or\n\n671\n00:32:16.420 --> 00:32:17.730\nsits on the board of a twin.\n\n672\n00:32:17.730 --> 00:32:21.240\nSo it's almost like a NAT device if\nyou think about the way NAT works,\n\n673\n00:32:21.240 --> 00:32:25.700\nit's very similar to a NAT device\nhiding and interacting with and\n\n674\n00:32:25.700 --> 00:32:28.780\ncausing or allowing translation back and\n\n675\n00:32:28.780 --> 00:32:33.240\nforth between private internal on\nthe IPv4 traditional networks with NAT.\n\n676\n00:32:33.240 --> 00:32:35.680\nPrivate internal,\nyou know class A, class B,\n\n677\n00:32:35.680 --> 00:32:39.400\nclass C set aside addresses from public\naddresses out on the routable internet,\n\n678\n00:32:39.400 --> 00:32:42.290\ninterfaces on the network,\nmeaning out on the internet, right?\n\n679\n00:32:42.290 --> 00:32:45.145\nWe're translating it to gateway,\nwe're going between them because we're\n\n680\n00:32:45.145 --> 00:32:47.775\nencapsulating and uncapsulating,\nthat's what it does.\n\n681\n00:32:47.775 --> 00:32:52.480\nISATAP routers act essentially the same\nway, they're just updating NAT devices on\n\n682\n00:32:52.480 --> 00:32:57.510\nour IPv6 networks to provide this IPv6\nto IPv4 capability back and forth.\n\n683\n00:32:57.510 --> 00:33:00.550\nI'm not suggesting that is what\nthey do a hundred percent.\n\n684\n00:33:00.550 --> 00:33:05.170\nI'm just pointing out that\nthat is an approximation for\n\n685\n00:33:05.170 --> 00:33:07.720\nthe kind of functionality that\nwe are seeing, just to be clear.\n\n686\n00:33:07.720 --> 00:33:11.640\nJust wanna make sure we don't\nspecify that that's the case,\n\n687\n00:33:11.640 --> 00:33:13.490\nnecessarily, without that caveat.\n\n688\n00:33:13.490 --> 00:33:16.140\nMeaning that it does\ndefinitely work that way, but.\n\n689\n00:33:16.140 --> 00:33:19.210\nRemember there are other things\nthat ISATAP is providing.\n\n690\n00:33:19.210 --> 00:33:21.150\nAll right, so I want to go ahead and\nwant to log back in.\n\n691\n00:33:21.150 --> 00:33:22.880\nWe should have our console up right now,\n\n692\n00:33:22.880 --> 00:33:24.840\nexcept of course it just\ndisconnected on me.\n\n693\n00:33:24.840 --> 00:33:25.680\nSo give me just a second.\n\n694\n00:33:25.680 --> 00:33:27.040\nWe're gonna log back in.\n\n695\n00:33:27.040 --> 00:33:30.035\nSo let me just drop this one here,\nwe're just reconnected.\n\n696\n00:33:30.035 --> 00:33:31.975\nWell, actually,\nthat's cuz I chose the wrong machine.\n\n697\n00:33:31.975 --> 00:33:32.965\nThat would be why?\n\n698\n00:33:32.965 --> 00:33:33.485\nWhere's my SA?\n\n699\n00:33:33.485 --> 00:33:34.345\nThere it is, right there.\n\n700\n00:33:34.345 --> 00:33:37.015\n&gt;&gt; And it's interesting that you\nmentioned NAT because not all these\n\n701\n00:33:37.015 --> 00:33:39.425\nthese technologies will work\nsuccessfully with the NATs but\n\n702\n00:33:39.425 --> 00:33:42.375\nI think that's coming\nup in the next episode.\n\n703\n00:33:44.250 --> 00:33:45.070\n&gt;&gt; Well, I don't know.\n\n704\n00:33:45.070 --> 00:33:47.580\n&gt;&gt; Awkward.\n&gt;&gt; No, no, not awkward,\n\n705\n00:33:47.580 --> 00:33:48.580\nI'm just logging in.\n\n706\n00:33:48.580 --> 00:33:50.340\nSo, I'm just focusing on that for\na minute.\n\n707\n00:33:50.340 --> 00:33:51.500\n&gt;&gt; I'm trying to help you out here, okay.\n\n708\n00:33:51.500 --> 00:33:53.430\n&gt;&gt; So,\nwe can pick back up where we left off.\n\n709\n00:33:53.430 --> 00:33:55.050\nRight, so we're gonna keep going here.\n\n710\n00:33:55.050 --> 00:33:57.410\nWe will, we will,\nat some point talk about that.\n\n711\n00:33:57.410 --> 00:34:00.625\nWe're not necessarily going to get to it,\nactually I'm looking at the time.\n\n712\n00:34:00.625 --> 00:34:02.112\n&gt;&gt; [LAUGH]\n&gt;&gt; We will get to it in the next episode,\n\n713\n00:34:02.112 --> 00:34:04.039\ncuz we are gonna,\nI didn't realize we were [CROSSTALK]\n\n714\n00:34:04.039 --> 00:34:06.186\n&gt;&gt; My subtle but, so obvious cues here.\n\n715\n00:34:06.186 --> 00:34:07.844\n[LAUGH]\n&gt;&gt; I'm deep in the demo here,\n\n716\n00:34:07.844 --> 00:34:09.600\nI'm not paying attention to your cues.\n\n717\n00:34:09.600 --> 00:34:10.710\nYou've got to just you know,\n\n718\n00:34:10.710 --> 00:34:13.230\nsmack me on the head a the notebook\nto make me pay attention.\n\n719\n00:34:13.230 --> 00:34:17.130\nAll right, so we are bringing the machine\nback up after having configured and\n\n720\n00:34:17.130 --> 00:34:19.440\nset essentially all of this.\n\n721\n00:34:19.440 --> 00:34:22.450\nWe've got our service, hopefully\nnow everything is instantiated, but\n\n722\n00:34:22.450 --> 00:34:24.320\nwe'll do an IP config real\nquick just to take a look.\n\n723\n00:34:24.320 --> 00:34:29.630\nAnd then once we have that set up, what\nwe're gonna see is our IPv6 address now,\n\n724\n00:34:29.630 --> 00:34:33.190\nour global IPv6 address,\nwill be there on the tunnel adapter.\n\n725\n00:34:33.190 --> 00:34:34.580\nWe're gonna take a look at that right now.\n\n726\n00:34:34.580 --> 00:34:38.500\nLet me just wait one more second for\nthis just to make sure everything is good,\n\n727\n00:34:38.500 --> 00:34:41.810\ndo a refresh here real quick,\njust make sure everything has started.\n\n728\n00:34:41.810 --> 00:34:44.820\nJust wanna make sure we don't\nhave any service issues.\n\n729\n00:34:44.820 --> 00:34:49.280\nAlways good to take the extra 15\nseconds when you're restarting the box.\n\n730\n00:34:49.280 --> 00:34:50.820\nJust make sure everything looks good.\n\n731\n00:34:50.820 --> 00:34:53.020\nWe expect those services not\nto be running, by the way.\n\n732\n00:34:53.020 --> 00:34:54.050\nThose are fine.\n\n733\n00:34:54.050 --> 00:34:55.140\nSo we're not worried about that.\n\n734\n00:34:55.140 --> 00:34:57.310\nAll right, so\nlet's get back in there to PowerShell.\n\n735\n00:34:57.310 --> 00:34:58.850\nGive me just a second to open up.\n\n736\n00:34:58.850 --> 00:35:01.910\nPowershell here, you can't see it behind\nthe menu there behind the picture, but\n\n737\n00:35:01.910 --> 00:35:04.020\nI just loaded powershell up just so\nyou could see it.\n\n738\n00:35:04.020 --> 00:35:06.660\nAll right, so we're just gonna\nan IP config write from in here.\n\n739\n00:35:06.660 --> 00:35:08.850\nWe can do it from\nthe command line as well,\n\n740\n00:35:08.850 --> 00:35:10.950\nit doesn't matter we can do it either way.\n\n741\n00:35:10.950 --> 00:35:12.610\nBut we'll just bring this up,\n\n742\n00:35:12.610 --> 00:35:18.510\nlet's take a look at out tunnel adapter,\nthere's out tunnel adapter right here.\n\n743\n00:35:18.510 --> 00:35:21.110\nThat is the one if you remember\nthat we were focusing on.\n\n744\n00:35:22.138 --> 00:35:27.010\nAnd you could see now,\nwe do have our IPv6 address right there\n\n745\n00:35:28.280 --> 00:35:32.460\nwith our IPv4 address\nappended to it at the end,\n\n746\n00:35:32.460 --> 00:35:38.550\nthe IPv4-IPv6 combo address that ISATAP\nprovides that I was setting up and\n\n747\n00:35:38.550 --> 00:35:41.400\nconfiguring with netsh as\nwe were just talking about.\n\n748\n00:35:41.400 --> 00:35:42.760\nYou'll see it there.\n\n749\n00:35:42.760 --> 00:35:46.940\nAnd when we restarted,\nall of that information was specified or\n\n750\n00:35:46.940 --> 00:35:50.720\nbound to the tunnel adaptors as they\ncame back up and re-initialized.\n\n751\n00:35:50.720 --> 00:35:52.700\nAnd notice,\nthe second tunnel adaptor here,\n\n752\n00:35:52.700 --> 00:35:55.520\nthe one we didn't bother to configure and\nwe're not using.\n\n753\n00:35:55.520 --> 00:35:58.510\nNotice it is still set\nup just out of the box\n\n754\n00:35:58.510 --> 00:36:01.430\nwith just it's default link-local address,\nright?\n\n755\n00:36:01.430 --> 00:36:06.160\nBut we haven't actually specified\neverything else associated with it.\n\n756\n00:36:06.160 --> 00:36:07.830\nYou'll notice for instance there,\n\n757\n00:36:07.830 --> 00:36:12.710\nwe do have our link local address on both,\nright?\n\n758\n00:36:12.710 --> 00:36:15.060\nAnd notice it is 192.168.0.40, right?\n\n759\n00:36:15.060 --> 00:36:20.970\nFor this and this one is 0.4 because\nit has a separate IP assigned to it.\n\n760\n00:36:20.970 --> 00:36:23.680\nWe have two interfaces,\nI have one for each but\n\n761\n00:36:23.680 --> 00:36:28.680\nI've assigned my IPv6 address\nto the first tunnel adaptor and\n\n762\n00:36:28.680 --> 00:36:32.080\nspecified it because I actually\nprogrammed it in through netSH.\n\n763\n00:36:32.080 --> 00:36:34.950\nThis other one is just a link\nlocal on the other tunnel adaptor,\n\n764\n00:36:34.950 --> 00:36:36.820\nthat's the one that host\nconfigures automatically.\n\n765\n00:36:36.820 --> 00:36:39.700\nBut it's not actually used to be\nable to remember connect out and\n\n766\n00:36:39.700 --> 00:36:42.080\ntalk to boxes everywhere.\n\n767\n00:36:42.080 --> 00:36:44.940\nThat link local address is essentially\nlike that automatic private\n\n768\n00:36:44.940 --> 00:36:46.870\nIP that we talked about in IPv4.\n\n769\n00:36:46.870 --> 00:36:50.130\nIt's really just used for\nsub net communication or\n\n770\n00:36:50.130 --> 00:36:53.840\ncommunication on the LAN but\njust in that one area not routable and\n\n771\n00:36:53.840 --> 00:36:56.070\ncertainly not able to communicate back and\nforth with that.\n\n772\n00:36:56.070 --> 00:36:59.718\nSo, this is the output\nof what we just did.\n\n773\n00:36:59.718 --> 00:37:04.190\nWe actually bound that IP\n0.40 to the IPV6 string.\n\n774\n00:37:04.190 --> 00:37:06.150\nAnd now, we're gonna be able\nto use ISATAP to send and\n\n775\n00:37:06.150 --> 00:37:11.390\nreceive, and move traffic back and\nforth, between an IPV4 and IPV6 network.\n\n776\n00:37:11.390 --> 00:37:15.550\nAnd we're gonna enable ISATAP\non an IPV4 only domains server.\n\n777\n00:37:15.550 --> 00:37:18.470\nWe're gonna go in and take a look at\nhow to do that, but we're gonna do\n\n778\n00:37:18.470 --> 00:37:20.560\nthat when we come back, because-\n&gt;&gt; [LAUGH]\n\n779\n00:37:20.560 --> 00:37:21.790\n&gt;&gt; Correct me if I'm wrong,\n\n780\n00:37:21.790 --> 00:37:24.090\nout of time for\nthe first part of our demonstration here.\n\n781\n00:37:24.090 --> 00:37:25.410\nSo I want to be sensitive to that.\n\n782\n00:37:25.410 --> 00:37:28.190\nSo we're going to come back with a part\ntwo of the demo, you're gonna join me.\n\n783\n00:37:28.190 --> 00:37:31.020\nI'm gonna leave it right here so when you\ncome back you'll see, we're just gonna\n\n784\n00:37:31.020 --> 00:37:34.620\npick it right up from there, but\nthen we'll flip over to our other box.\n\n785\n00:37:34.620 --> 00:37:39.140\nI'm gonna go over to my, or setup the\nenablement for the IPv4 support and we'll\n\n786\n00:37:39.140 --> 00:37:43.720\ntake a look and kind of step through the\nlogic of how the rest of this works, okay.\n\n787\n00:37:43.720 --> 00:37:45.320\n&gt;&gt; All right.\nThats right you heard us.\n\n788\n00:37:45.320 --> 00:37:48.830\nSo please join us for\nan additional parts to this demonstration.\n\n789\n00:37:48.830 --> 00:37:50.780\nBut for this show we will go ahead and\nsign out.\n\n790\n00:37:50.780 --> 00:37:54.060\nRemember, I'm your host, DHCP Dora.\n\n791\n00:37:55.350 --> 00:37:56.840\n&gt;&gt; That means I'm Boots.\n\n792\n00:37:56.840 --> 00:37:57.985\nOtherwise known as Rosa.\n\n793\n00:37:57.985 --> 00:37:59.370\n&gt;&gt; [LAUGH] Whoever.\n\n794\n00:37:59.370 --> 00:38:04.299\n&gt;&gt; I have a duality here, I've bound both\nidentifiers to my name string, much like\n\n795\n00:38:04.299 --> 00:38:07.530\nwe're doing in IPv4 and IPv6 [CROSSTALK]\n&gt;&gt; I see what you did.\n\n796\n00:38:07.530 --> 00:38:08.030\n&gt;&gt; Yeah.\n&gt;&gt; All right.\n\n797\n00:38:08.030 --> 00:38:08.532\n&gt;&gt; I made a hybrid.\n\n798\n00:38:08.532 --> 00:38:09.531\n&gt;&gt; [LAUGH] All right,\n\n799\n00:38:09.531 --> 00:38:12.440\nso please join us for that.\nBut thank you and have a great day.\n\n800\n00:38:12.440 --> 00:38:16.359\n&gt;&gt; Take care, everybody.\n\n801\n00:38:16.359 --> 00:38:22.434\n[MUSIC]\n\n802\n00:38:22.434 --> 00:38:25.597\nThank you for watching ITProTV.\n\n",
          "vimeoId": "217177363"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing IPv6. Specifically, they look at 6 to 4 and Adam demonstrates how one can communicate regardless of the IP version type.",
          "length": "1695",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-4-implementing_ipv6_pt4-050917-PGM.00_27_58_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-4-implementing_ipv6_pt4-050917-PGM.00_27_58_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-4-implementing_ipv6_pt4-050917-PGM.00_27_58_04.Still001-sm.jpg",
          "title": "Implementing IPv6 Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:01.215\nWelcome to ITProTV.\n\n2\n00:00:01.215 --> 00:00:02.512\nI'm your host, Don Pezet.\n\n3\n00:00:02.512 --> 00:00:05.975\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:05.975 --> 00:00:08.023\n&gt;&gt; [MUSIC]\n\n5\n00:00:08.023 --> 00:00:11.854\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.854 --> 00:00:15.166\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 Series.\n\n7\n00:00:15.166 --> 00:00:17.327\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.327 --> 00:00:20.711\nIn this episode,\nwe'll continue taking a look at IPv6.\n\n9\n00:00:20.711 --> 00:00:23.960\nAnd back in studios with us\ntoday we have Mr. Adam Gordon.\n\n10\n00:00:23.960 --> 00:00:25.830\nThank you for joining us today, Adam.\n\n11\n00:00:25.830 --> 00:00:27.220\n&gt;&gt; Thank you,\nalways a pleasure to be here.\n\n12\n00:00:27.220 --> 00:00:30.940\nSo we're going to continue our march\ntoward the sea, as Sherman said.\n\n13\n00:00:30.940 --> 00:00:33.880\nWe're gonna actually continue\ngoing through our demo.\n\n14\n00:00:33.880 --> 00:00:38.420\nWe left off if you remember trying to\nfinish up our ISATAP configuration.\n\n15\n00:00:38.420 --> 00:00:42.750\nRemember ISATAP is one of the ways\nwe can tunnel traffic, IPv4 to IPv6,\n\n16\n00:00:42.750 --> 00:00:46.740\nsoftware based routing capabilities\ninstalled on a machine and configured.\n\n17\n00:00:46.740 --> 00:00:50.032\nISATAP adapters on the client side,\nremember,\n\n18\n00:00:50.032 --> 00:00:54.143\nis natively supported Windows 8,\n8.1, Windows 10.\n\n19\n00:00:54.143 --> 00:00:56.881\nOn the server side,\ncertainly server 16 supports it.\n\n20\n00:00:56.881 --> 00:00:57.891\nSo we do see it.\n\n21\n00:00:57.891 --> 00:01:00.200\nI showed you how to enable\nit on the server side.\n\n22\n00:01:00.200 --> 00:01:03.130\nThe clients are already capable\nof using it as you've seen,\n\n23\n00:01:03.130 --> 00:01:05.370\nwe're about to demonstrate that for\nyou right now.\n\n24\n00:01:05.370 --> 00:01:10.610\nBut we left off having set up with netsh,\nthe interface, we configured\n\n25\n00:01:10.610 --> 00:01:14.590\nthe ISATAP tunnel adapter, one of the two\nthat we targeted, or said we would use.\n\n26\n00:01:14.590 --> 00:01:17.600\nWe started the system, logged back in,\nsaw the address was bound.\n\n27\n00:01:17.600 --> 00:01:21.100\nNow what we're going to do is\njump over to the other machine.\n\n28\n00:01:21.100 --> 00:01:24.310\nSo if you join me back here, we'll take\na look at the last little part of this.\n\n29\n00:01:24.310 --> 00:01:26.330\nAnd then we're going to jump in and\n\n30\n00:01:26.330 --> 00:01:29.410\ncontinue our conversation as soon as we\nfinish up this part of the demo here.\n\n31\n00:01:29.410 --> 00:01:32.645\nAnd we'll jump over to the other kind of\ntechnology we can also set up which is\n\n32\n00:01:32.645 --> 00:01:34.020\nthe 6 to 4 tunneling.\n\n33\n00:01:34.020 --> 00:01:34.780\nWe talked about that as well.\n\n34\n00:01:34.780 --> 00:01:38.170\nWe'll set up our 6 to 4 tunnel and\nwe'll take a look at how to configure that\n\n35\n00:01:38.170 --> 00:01:41.410\nas kind of an added feature,\nan added bonus for you.\n\n36\n00:01:41.410 --> 00:01:44.720\nSo we'll just continue the netsh\nin here and go through and\n\n37\n00:01:44.720 --> 00:01:46.220\nshow you how to set that up.\n\n38\n00:01:46.220 --> 00:01:50.903\nBut before we do that if you take a look\nhere at the netsh command that I issued,\n\n39\n00:01:50.903 --> 00:01:55.441\nI'll just highlight it for you right\nhere on this machine, I went ahead and\n\n40\n00:01:55.441 --> 00:01:58.130\nI set up netsh interface\nisatap set router.\n\n41\n00:01:58.130 --> 00:01:59.717\nRemember we took a look at, or\n\n42\n00:01:59.717 --> 00:02:04.033\nI showed you in the last episode that we\nhave a netsh command specific for ISATAP,\n\n43\n00:02:04.033 --> 00:02:08.200\nset router, set stage show,\nrouter show state, right, set in show.\n\n44\n00:02:08.200 --> 00:02:11.300\nSo you see here,\nwe were looking at the set router command.\n\n45\n00:02:11.300 --> 00:02:15.600\nWe specified the router would be equal\nto the configuration we specified and\n\n46\n00:02:15.600 --> 00:02:16.950\nset up on our other box.\n\n47\n00:02:16.950 --> 00:02:20.260\nRemember I showed you that we\nhad configured this restarted.\n\n48\n00:02:20.260 --> 00:02:23.810\nAnd that our router was\ngonna be 192.168.0.40.\n\n49\n00:02:23.810 --> 00:02:28.451\nSo what we're doing now on this machine\nis telling it to look to that router at\n\n50\n00:02:28.451 --> 00:02:33.350\nthat IP address to use to translate and\nsend and receive ISATAP traffic.\n\n51\n00:02:33.350 --> 00:02:36.490\nAnd once we've done that, I'll show you\nwhere that comes up in just a minute.\n\n52\n00:02:36.490 --> 00:02:41.460\nBut before we do that, let's go back,\nlet's go over here, to our, whoops,\n\n53\n00:02:41.460 --> 00:02:42.790\nthat was the wrong one.\n\n54\n00:02:42.790 --> 00:02:46.930\nLet's go over here,\ntry that one more time, there.\n\n55\n00:02:46.930 --> 00:02:50.040\nLet's go over here, that's what I wanted,\nlet's go over here to the box where we\n\n56\n00:02:50.040 --> 00:02:53.400\nmade that software router and\nessentially configured it.\n\n57\n00:02:53.400 --> 00:02:56.613\nThis was the box we were working on,\nwe left it here, said we'd start out,\n\n58\n00:02:56.613 --> 00:02:58.930\nwe'd take a look and\nremind ourselves of that.\n\n59\n00:02:58.930 --> 00:03:02.190\nYou see our tunnel adapter if you\nwere keeping track of what we did.\n\n60\n00:03:02.190 --> 00:03:05.147\nThat's the tunnel\ninterface right there and\n\n61\n00:03:05.147 --> 00:03:09.202\nthat's the IPv6 address string\nthat we're using, right.\n\n62\n00:03:09.202 --> 00:03:15.217\nAnd we said hey, 61 [CROSSTALK] 0.40,\nthat's the routing interface.\n\n63\n00:03:15.217 --> 00:03:18.970\nOr that's the ISATAP interface\nwe're using as our tunnel adapter.\n\n64\n00:03:18.970 --> 00:03:22.686\nSo we've set this up here for ISATAP,\nthis is where we programmed it.\n\n65\n00:03:22.686 --> 00:03:29.620\nAnd we used that 2001.db80.10.0.5efe\nstring on the IPv6.\n\n66\n00:03:29.620 --> 00:03:34.420\nThat is how we know that we're getting our\nIP address through the tunnel adapter and\n\n67\n00:03:34.420 --> 00:03:36.550\nthat we're configuring communication,\nif we see that.\n\n68\n00:03:36.550 --> 00:03:39.570\nSo we know that this is\nthe software router,\n\n69\n00:03:39.570 --> 00:03:43.390\nnow what we're doing is going back to\nthe box I was just on, the one that\n\n70\n00:03:43.390 --> 00:03:46.680\nI kept clicking on cuz I thought I\nwas changing the console interface.\n\n71\n00:03:46.680 --> 00:03:50.470\nAnd what we're doing is now you're seeing,\nwe're issuing that command right here.\n\n72\n00:03:50.470 --> 00:03:53.720\nThen we get our okay,\nI love the fact that it's cut off there.\n\n73\n00:03:53.720 --> 00:03:56.418\nBut I love the fact,\nas I pointed out, okay, yes, but\n\n74\n00:03:56.418 --> 00:04:00.236\nI love the fact I told you that netsh in\nthe last episode actually speaks back to\n\n75\n00:04:00.236 --> 00:04:04.377\nus here and says, okay, yeah, I did that,\nas opposed to just telling us nothing.\n\n76\n00:04:04.377 --> 00:04:07.040\nSo it actually does give us the okay here.\n\n77\n00:04:07.040 --> 00:04:11.500\nYou'll see I did an ipconfig, and\nwhen I do that what you will find or\n\n78\n00:04:11.500 --> 00:04:15.790\nsee, just go back over here and\nmake this full screen.\n\n79\n00:04:15.790 --> 00:04:18.640\nAnd let me just scroll down ever so,\n\n80\n00:04:20.050 --> 00:04:22.930\njust a little bit right there,\non this tunnel adapter.\n\n81\n00:04:22.930 --> 00:04:27.230\nAnd you can see tunnel adapter\ninterface right there is different.\n\n82\n00:04:27.230 --> 00:04:28.310\nWe're on a different machine.\n\n83\n00:04:28.310 --> 00:04:32.411\nThat is the adapter interface, so\nthe ISATAP tunnel adapter on this machine,\n\n84\n00:04:32.411 --> 00:04:35.845\nthe one that we're telling to go and\nfind the router at 0.40.\n\n85\n00:04:35.845 --> 00:04:40.864\nAnd so you can see we're using a different\ninterface, so what you see here is\n\n86\n00:04:40.864 --> 00:04:47.260\nthe IPv6 address that is assigned,\ntake a look at that, 2001.db8.010.05efe.\n\n87\n00:04:47.260 --> 00:04:51.090\nThat's coming rom the ISATAP\nrouter that's set up at 0.40.\n\n88\n00:04:51.090 --> 00:04:53.056\nThat's the prefix that we specified,\nright?\n\n89\n00:04:53.056 --> 00:04:58.090\nAnd we're getting 192.168.0.2 on\nthis interface, that's the address\n\n90\n00:04:58.090 --> 00:05:01.810\nwhere the interface IPv4 address\nthat we're using on this machine,\n\n91\n00:05:01.810 --> 00:05:06.120\nyou could see it right here,\nethernet adapter vEthernet.\n\n92\n00:05:06.120 --> 00:05:11.251\nRight above it,\nIPv4 address right there is 192.168.0.2.\n\n93\n00:05:11.251 --> 00:05:13.896\nWe're binding, in other words,\n\n94\n00:05:13.896 --> 00:05:18.470\nthis IPv4 adapter assigned\naddress to the adapter above.\n\n95\n00:05:18.470 --> 00:05:23.144\nYou see that we're using that in concert\nwith the IPv6 address on the tunnel\n\n96\n00:05:23.144 --> 00:05:23.810\nadapter.\n\n97\n00:05:23.810 --> 00:05:27.350\nIt's coming from this local machine, and\nthat shows us where it's coming from, but\n\n98\n00:05:27.350 --> 00:05:32.070\nit also shows us where we got the IPv6\nportion of that IPv6 address the prefix\n\n99\n00:05:32.070 --> 00:05:34.870\nfor, which is from the routered\ninterface on the other machine.\n\n100\n00:05:34.870 --> 00:05:38.870\nSo it shows us, unequivocally, that we\nare communicating with the router and\n\n101\n00:05:38.870 --> 00:05:42.220\nhave configured that and that is set\nup and we're all set, ready to go.\n\n102\n00:05:42.220 --> 00:05:44.745\nAnd so we've completed our journey,\nso to speak.\n\n103\n00:05:44.745 --> 00:05:45.680\nWe've got that but\n\n104\n00:05:45.680 --> 00:05:48.970\nwe're gonna double check, cuz we're\nnot gonna just take my word for it.\n\n105\n00:05:48.970 --> 00:05:52.690\nCherokee said trust but verify, you've\nalways gotta ping, do an ipconfig and\n\n106\n00:05:52.690 --> 00:05:53.310\ncheck all that.\n\n107\n00:05:53.310 --> 00:05:55.390\nSo let's go over to our other machine,\nand see whether or\n\n108\n00:05:55.390 --> 00:05:56.900\nnot that's actually happening.\n\n109\n00:05:56.900 --> 00:06:00.910\nSo let's go to our Windows 10 machine,\n\n110\n00:06:00.910 --> 00:06:04.430\njust got another Windows machine that's\nrunning here, you can see it right here.\n\n111\n00:06:04.430 --> 00:06:07.190\nAnd assuming that all of that is working,\n\n112\n00:06:07.190 --> 00:06:09.580\nwhat we should be able\nto see is the following.\n\n113\n00:06:09.580 --> 00:06:14.426\nI should be able to ping, and indeed I\njust did, right, ping the DM01 machine,\n\n114\n00:06:14.426 --> 00:06:16.830\nthe machine where I just was looking at.\n\n115\n00:06:16.830 --> 00:06:18.990\nYou can see when I pinged it,\nwhat do I get back?\n\n116\n00:06:18.990 --> 00:06:21.780\nI get back four replies using IPv6, right?\n\n117\n00:06:21.780 --> 00:06:24.892\nAnd you'll see that's coming from, and\nwe'll go back, we'll take a look and\n\n118\n00:06:24.892 --> 00:06:26.341\nsee it's coming from that machine.\n\n119\n00:06:26.341 --> 00:06:27.981\nWe'll take a look at\nthat in just a minute.\n\n120\n00:06:27.981 --> 00:06:32.568\nAnd you see that when I ping\nthe IP address, 192.168.0.2,\n\n121\n00:06:32.568 --> 00:06:36.870\nwhich we know is assigned to that\nmachine I was just looking at.\n\n122\n00:06:36.870 --> 00:06:40.020\nThe server where we just took a look at\nand saw that we're communicating with\n\n123\n00:06:40.020 --> 00:06:44.240\nthe router, when I ping that, you see\nI do get a response back using IPv4.\n\n124\n00:06:44.240 --> 00:06:47.840\nSo I can ping either the IP address or\nthe host name,\n\n125\n00:06:47.840 --> 00:06:51.450\nbecause the host name of\nthat machine is plabdm01.\n\n126\n00:06:51.450 --> 00:06:56.765\nI can ping either one, when I ping the IP,\nspecifically IPv4, I get back a response.\n\n127\n00:06:56.765 --> 00:07:00.100\nWhen I ping the host name, I'm getting\nback the full cloud 5 domain name.\n\n128\n00:07:00.100 --> 00:07:02.530\nI'm getting back\na response using the IPv6.\n\n129\n00:07:02.530 --> 00:07:07.310\nWe're using both interfaces, we're talking\nusing both IP address interfaces and\n\n130\n00:07:07.310 --> 00:07:09.510\nI'm able to now use and move back and\n\n131\n00:07:09.510 --> 00:07:13.770\nforth through the ISATAP router that I've\nspecified to be able to move that traffic.\n\n132\n00:07:13.770 --> 00:07:15.280\nSo we're seeing evidence of that.\n\n133\n00:07:15.280 --> 00:07:18.332\n&gt;&gt; Pretty cool that we can at least\ncontinue our communications, and\n\n134\n00:07:18.332 --> 00:07:21.342\ndon't have to really worry about\nif we're using IPv6, IPv4.\n\n135\n00:07:21.342 --> 00:07:24.020\nIt's not prohibiting us in\nany way in that concept.\n\n136\n00:07:25.580 --> 00:07:28.660\n&gt;&gt; No, it's not, and it's enabling us, in\nother words, or allowing us to be able to\n\n137\n00:07:28.660 --> 00:07:31.570\nmove the traffic back and forth\nirrespective, in other words, essentially\n\n138\n00:07:31.570 --> 00:07:35.380\nas you were saying, as we've talked about,\nof the IP address support, right?\n\n139\n00:07:35.380 --> 00:07:39.450\nBecause we now have a device that will\nallow us to interact with and see both.\n\n140\n00:07:39.450 --> 00:07:42.523\nAnd so when we go back and\n\n141\n00:07:42.523 --> 00:07:47.919\nwe take a look at our, yep, right there.\n\n142\n00:07:47.919 --> 00:07:54.403\nWhen we take a look at this, right, you'll\nsee this is this IPv6 address right here.\n\n143\n00:07:54.403 --> 00:07:56.376\nIf you go back, and\nwe'll go back one more time.\n\n144\n00:07:56.376 --> 00:07:57.894\nBut if I highlight, just to remind you,\n\n145\n00:07:57.894 --> 00:07:59.693\ncuz I didn't really say\nby the way look at both.\n\n146\n00:07:59.693 --> 00:08:01.860\nCuz it's a lot of information\nto keep track of all at one.\n\n147\n00:08:01.860 --> 00:08:05.287\nBut the IPv6 address that is answering us.\n\n148\n00:08:05.287 --> 00:08:10.048\nWhen we ping the PLAB DM 01 machine\nhostname is that IPv6 address right there.\n\n149\n00:08:10.048 --> 00:08:13.502\nAnd you'll see the IPv4 address\nthat's answering us when we\n\n150\n00:08:13.502 --> 00:08:18.230\nping 192.168.0.2 is the one right\nbelow on the same interface, right?\n\n151\n00:08:18.230 --> 00:08:21.645\nWe have both bound as you can see\nto that ethernet adapter vethernet.\n\n152\n00:08:21.645 --> 00:08:23.231\nSo we can see unequivocally and\n\n153\n00:08:23.231 --> 00:08:26.224\nbeyond any doubt that we\nare communicating with this box.\n\n154\n00:08:26.224 --> 00:08:29.524\nAnd we're getting both kinds\nof traffic being sent back and\n\n155\n00:08:29.524 --> 00:08:33.615\nforth coming through the ISO tap router,\nsoftware base router.\n\n156\n00:08:33.615 --> 00:08:38.175\nThat, by the way, is not just cool,\nit's awesome, awesomely cool.\n\n157\n00:08:38.175 --> 00:08:40.795\nIt's IPv6 cool that's\ngonna be how cool it is.\n\n158\n00:08:40.795 --> 00:08:43.745\nAll right so we've set that up,\nthat's one way we can do this.\n\n159\n00:08:43.745 --> 00:08:44.675\nBut we're not done yet.\n\n160\n00:08:44.675 --> 00:08:46.865\nWe said we would talk about yet\nanother way to do this.\n\n161\n00:08:46.865 --> 00:08:49.395\nWhat about doing six to four tunneling,\nwe talked about this.\n\n162\n00:08:49.395 --> 00:08:51.186\nRemember we can do six to\nfour tunneling as well.\n\n163\n00:08:51.186 --> 00:08:56.118\nTalked about the ability to be able to\nmove traffic between two IPv6 sites or\n\n164\n00:08:56.118 --> 00:08:58.905\nbetween an IPv6 host and or an IPv6 site.\n\n165\n00:08:58.905 --> 00:09:01.045\nProviding support on both sides.\n\n166\n00:09:01.045 --> 00:09:03.804\nBut remember and I don't know\nif I necessarily specified this.\n\n167\n00:09:03.804 --> 00:09:07.058\nWe talked generically about this\nidea of the ISOTAP functionality.\n\n168\n00:09:07.058 --> 00:09:09.372\nBehaving very similar to\nwhat NAT would be like.\n\n169\n00:09:09.372 --> 00:09:11.501\nIn a sense we are moving traffic back and\nforth.\n\n170\n00:09:11.501 --> 00:09:13.664\nI made it clear,\nI said hey this is not NAT.\n\n171\n00:09:13.664 --> 00:09:16.922\nBut I was just using it as\nan analogy to say, you know what?\n\n172\n00:09:16.922 --> 00:09:19.986\nIt acts in a similar way in a sense\nthat we're able to move the traffic back\n\n173\n00:09:19.986 --> 00:09:20.498\nand forth.\n\n174\n00:09:20.498 --> 00:09:22.892\nAnd translate it seeing one or the other.\n\n175\n00:09:22.892 --> 00:09:26.550\nAnd we have a device that understands\nboth, essentially what NAT does more or\n\n176\n00:09:26.550 --> 00:09:27.530\nless, right.\n\n177\n00:09:27.530 --> 00:09:32.450\nBut with 6to4 tunneling, it's not\na suitable scenario that required NAT.\n\n178\n00:09:32.450 --> 00:09:36.460\nWe do not use NAT or support this concept,\nonly use 6to4 tunneling.\n\n179\n00:09:36.460 --> 00:09:38.790\nSo I just wanna make sure you're\naware of this when you think about\n\n180\n00:09:38.790 --> 00:09:39.680\nthe logic of this.\n\n181\n00:09:39.680 --> 00:09:42.070\nBut when the 6to4 tunnel has set up and\n\n182\n00:09:42.070 --> 00:09:44.840\nwe'll walk through the steps to\nget this up and running here.\n\n183\n00:09:44.840 --> 00:09:49.740\nWe provide sites with IPv6 connectivity\nover the IPv4 internet, or\n\n184\n00:09:49.740 --> 00:09:51.390\npublicly routing networks.\n\n185\n00:09:51.390 --> 00:09:56.460\nSo we're able to move IPv6 traffic through\nIPv4 networks using 6 to 4 tunneling.\n\n186\n00:09:56.460 --> 00:09:57.560\nGonna be important for\nus to think about that.\n\n187\n00:09:57.560 --> 00:10:02.025\nThere's a lot of need for that in certain\ncircles, maybe not so much in others.\n\n188\n00:10:02.025 --> 00:10:04.549\nYou pointed out when we\nwere talking about this.\n\n189\n00:10:04.549 --> 00:10:06.514\nThat hey, it's good to know\nthat we can do this either way.\n\n190\n00:10:06.514 --> 00:10:10.883\nBut how much do we really have a need to\nbe able to move IPv6 traffic over IPv4\n\n191\n00:10:10.883 --> 00:10:11.924\nnetworks today?\n\n192\n00:10:11.924 --> 00:10:13.110\nIt's hard to say, I don't know.\n\n193\n00:10:13.110 --> 00:10:17.152\nI know that the more IPv6 traffic\nwe start to see being used and\n\n194\n00:10:17.152 --> 00:10:18.880\nthe more support we have.\n\n195\n00:10:18.880 --> 00:10:22.228\nWhile we continue to support\nIPv4 as our main backbone and\n\n196\n00:10:22.228 --> 00:10:26.067\nit's ubiquitous everywhere,\nwe obviously have a need for that.\n\n197\n00:10:26.067 --> 00:10:29.657\nBut over time are we going\nto see a switch to IPv6,\n\n198\n00:10:29.657 --> 00:10:32.660\nonly networks and IPv6 native support.\n\n199\n00:10:32.660 --> 00:10:37.010\nAnd IPv4 becomes kinda that odd thing out,\nthat's gonna happen but\n\n200\n00:10:37.010 --> 00:10:38.500\nprobably not for a long time to come.\n\n201\n00:10:38.500 --> 00:10:41.900\nSo will we need these kinds\nof solutions in the meantime.\n\n202\n00:10:41.900 --> 00:10:45.610\nProbably gonna see them for a while as\nwe transition and bridge back and forth.\n\n203\n00:10:45.610 --> 00:10:46.930\nI know you wanted to say\nsomething really quick,\n\n204\n00:10:46.930 --> 00:10:48.670\njust while I'm getting started for a sec.\n\n205\n00:10:48.670 --> 00:10:51.840\n&gt;&gt; Yeah, it's been a little while,\nI don't really deal with IPv6 networks.\n\n206\n00:10:51.840 --> 00:10:53.972\nSo I'm gonna have to dust\nthe cobwebs off a little bit.\n\n207\n00:10:53.972 --> 00:11:01.880\nBut to your point with 6to4 not working\nwell with NAT or, at all, not recommended.\n\n208\n00:11:01.880 --> 00:11:03.430\n&gt;&gt; Not recommended for-\n&gt;&gt; Not recommended.\n\n209\n00:11:03.430 --> 00:11:04.314\n&gt;&gt; NAT networks, right.\n\n210\n00:11:04.314 --> 00:11:10.180\n&gt;&gt; We do have an alternative called Turito\nand then Marito in NIX based systems.\n\n211\n00:11:10.180 --> 00:11:10.925\n&gt;&gt; We do.\n\n212\n00:11:10.925 --> 00:11:13.332\n&gt;&gt; So there is an alternative out there.\n\n213\n00:11:13.332 --> 00:11:15.798\n&gt;&gt; There is but we're gonna focus\non six to four right now, right?\n\n214\n00:11:15.798 --> 00:11:16.302\n&gt;&gt; Yes.\n[LAUGH]\n\n215\n00:11:16.302 --> 00:11:17.550\n&gt;&gt; So we're gonna talk about that.\n\n216\n00:11:17.550 --> 00:11:22.290\nAll right, so let's go and talk about how\nwe're gonna set up the 6 to 4 solution.\n\n217\n00:11:22.290 --> 00:11:24.900\nHow do we implement a 6 to 4\ntunnel address, in other words.\n\n218\n00:11:24.900 --> 00:11:27.890\nSo let's start by assigning or\nwe will start here in just a minute.\n\n219\n00:11:27.890 --> 00:11:31.100\nBy assigning a public IP address, at\nleast, one that we're thinking as public.\n\n220\n00:11:31.100 --> 00:11:33.690\nWe'll just assume it's\npublic based on how it is.\n\n221\n00:11:33.690 --> 00:11:34.700\nSo let me go in and do this.\n\n222\n00:11:34.700 --> 00:11:36.650\nSo I'll just have to make sure\nI'm on the right machine.\n\n223\n00:11:36.650 --> 00:11:38.970\nCuz as we know, we have to make\nsure we're in the right place.\n\n224\n00:11:38.970 --> 00:11:41.770\nAnd we're not right now.\nSo let me get off of this one,\n\n225\n00:11:41.770 --> 00:11:44.001\nactually you know what?\n\n226\n00:11:44.001 --> 00:11:46.670\nI think we are,\nhold on one second, let me see.\n\n227\n00:11:46.670 --> 00:11:49.580\nI cheated a little bit because\nI put up the host name,\n\n228\n00:11:49.580 --> 00:11:50.980\nno we're not on the right one.\n\n229\n00:11:50.980 --> 00:11:53.030\nLet me go,\nthat's not the right one either.\n\n230\n00:11:53.030 --> 00:11:56.250\nAnd this should be the right one,\nlet me just double check.\n\n231\n00:11:56.250 --> 00:11:58.208\nI'm just gonna make sure\nthat we do all this work and\n\n232\n00:11:58.208 --> 00:11:59.812\nthat it actually is on the right machine.\n\n233\n00:11:59.812 --> 00:12:02.250\nSo I'm just gonna do\na quick host name here.\n\n234\n00:12:02.250 --> 00:12:07.250\nAll right perfect so let's go in and\nlet's just get right down here.\n\n235\n00:12:07.250 --> 00:12:11.051\nJust gonna clear this out a little\nbit just so we start from scratch.\n\n236\n00:12:11.051 --> 00:12:14.733\nIn PowerShell nothing is gonna\ndistract us or get in the way.\n\n237\n00:12:14.733 --> 00:12:17.309\nSo let's open that up,\nlet's do some netsh here.\n\n238\n00:12:17.309 --> 00:12:21.347\nSo netsh, and our nets for short, right,\nif we don't complete that statement.\n\n239\n00:12:21.347 --> 00:12:24.193\nAll right, you're gonna bear\nwith me here while I type.\n\n240\n00:12:24.193 --> 00:12:26.432\nBecause I'm the world's\nmost horrible typer,\n\n241\n00:12:26.432 --> 00:12:29.100\ncoupled with the world's\nmost horrible speller.\n\n242\n00:12:29.100 --> 00:12:31.450\nSo we're gonna try to make this\nwork the first time around,\n\n243\n00:12:31.450 --> 00:12:33.450\nbut we're gonna take our time.\n\n244\n00:12:33.450 --> 00:12:38.133\nI'm doing a netsh interface ip set\naddress command as you can see here.\n\n245\n00:12:38.133 --> 00:12:42.037\nI'm gonna specify the address\ninterface that I want to use.\n\n246\n00:12:42.037 --> 00:12:45.292\nI'm gonna call it ethernet 1 or\nattach to ethernet 1.\n\n247\n00:12:45.292 --> 00:12:47.829\nSo I'm gonna program that in right there.\n\n248\n00:12:47.829 --> 00:12:51.211\nI'm gonna specify this is gonna\nbe a static address grant.\n\n249\n00:12:51.211 --> 00:12:53.925\nSo I'm gonna specify static and\nthen put in the IP, and\n\n250\n00:12:53.925 --> 00:12:55.644\nthe subject mass that I wanna use.\n\n251\n00:12:55.644 --> 00:12:59.310\nSo I'm gonna program those in right now or\n\n252\n00:12:59.310 --> 00:13:03.435\ntype those in, 132.168.0.40.\n\n253\n00:13:03.435 --> 00:13:06.259\nJust stealing a quick glance at my notes\nto make sure I've put the right IP\n\n254\n00:13:06.259 --> 00:13:07.014\naddress in there.\n\n255\n00:13:07.014 --> 00:13:10.981\nNothing worse than doing the whole demo\nand finding out that I mistyped the IP.\n\n256\n00:13:10.981 --> 00:13:13.627\nAnd we're actually talking to\nPluto as opposed to talking\n\n257\n00:13:13.627 --> 00:13:15.631\nto the machines were\nsuppose to connect to.\n\n258\n00:13:15.631 --> 00:13:19.574\nAll right so you'll see I got there\nI got my class c subnet mask,\n\n259\n00:13:19.574 --> 00:13:22.060\neverything associated with that.\n\n260\n00:13:22.060 --> 00:13:22.683\nJust go ahead and we'll hit Enter.\n\n261\n00:13:22.683 --> 00:13:25.672\nRemember I talked about NetSH being\nreally kind of stoic and unfriendly and\n\n262\n00:13:25.672 --> 00:13:26.866\ntypically not talking to us.\n\n263\n00:13:26.866 --> 00:13:29.360\nNotice I don't get an okay back for\nthat, right?\n\n264\n00:13:29.360 --> 00:13:30.350\nWe talked about that.\n\n265\n00:13:30.350 --> 00:13:32.940\nThat by the way means it's fine,\nthere's nothing wrong with that.\n\n266\n00:13:32.940 --> 00:13:33.920\n&gt;&gt; The silent treatment.\n\n267\n00:13:33.920 --> 00:13:36.940\n&gt;&gt; The silent treatment,\nit did what I asked it to do.\n\n268\n00:13:36.940 --> 00:13:41.250\nIt just doesn't echo back our response\ntypically it's very rare we get that okay.\n\n269\n00:13:41.250 --> 00:13:42.936\nAs I said only when we're in\nthere dealing with ISATAP\n\n270\n00:13:42.936 --> 00:13:45.081\ndo we typically see that behavior\nwith those additional commands.\n\n271\n00:13:45.081 --> 00:13:47.848\nSo normally NetSH just does this.\n\n272\n00:13:47.848 --> 00:13:50.368\nIt just goes, does its stuff,\ncomes back and says, yeah I'm good and\n\n273\n00:13:50.368 --> 00:13:52.108\ndoesn't really tie to anything at all.\n\n274\n00:13:52.108 --> 00:13:54.710\nIt will scream at you if you have\nan error just so you know, but\n\n275\n00:13:54.710 --> 00:13:57.190\nit's not gonna normally do that otherwise.\n\n276\n00:13:57.190 --> 00:13:58.800\nAll right, so we're now gonna go in and\n\n277\n00:13:58.800 --> 00:14:03.030\nwe're gonna go over to our Windows\n10 machine, and open up PowerShell.\n\n278\n00:14:03.030 --> 00:14:04.341\nGotta do a little\nconfiguration there as well.\n\n279\n00:14:04.341 --> 00:14:07.887\nThis is typically some of the stuff I do\nbehind the scenes before we jump into\n\n280\n00:14:07.887 --> 00:14:08.408\nthe demo.\n\n281\n00:14:08.408 --> 00:14:10.333\nAnd take it to the last five or\nsix steps and\n\n282\n00:14:10.333 --> 00:14:13.196\njust show you all the stuff that\nwe do to configure the routes.\n\n283\n00:14:13.196 --> 00:14:15.390\nThis is all the behind the scenes magic.\n\n284\n00:14:15.390 --> 00:14:18.560\nBut I want you to see, kind of end to end,\nwhat we do on this one.\n\n285\n00:14:18.560 --> 00:14:21.950\nJust so you get a sense of all\nthe configuration that we may have to\n\n286\n00:14:21.950 --> 00:14:23.040\nactually engage in.\n\n287\n00:14:23.040 --> 00:14:26.180\nNow could we assign that\nIP address from the GUI?\n\n288\n00:14:26.180 --> 00:14:29.690\nAnd just go in and right click,\nand go program that IP address in?\n\n289\n00:14:29.690 --> 00:14:31.286\nDo we have to do it right\nfrom here with Netsh?\n\n290\n00:14:31.286 --> 00:14:32.797\nNo, we don't have to do that.\n\n291\n00:14:32.797 --> 00:14:34.870\nI could go to ethernet 1.\n\n292\n00:14:34.870 --> 00:14:38.080\nI can right click, go to properties and\nthe networking sharing center.\n\n293\n00:14:38.080 --> 00:14:42.570\nI can open it up and I can program that\nIPv4 address in just by typing it and\n\n294\n00:14:42.570 --> 00:14:43.160\nassigning it.\n\n295\n00:14:43.160 --> 00:14:44.880\nI don't have to use NetSH.\n\n296\n00:14:44.880 --> 00:14:46.347\nSo keep in mind we have multiple\nways on doing this, right?\n\n297\n00:14:46.347 --> 00:14:49.840\nI can do it from PowerShell, could do\nit from the command line with NetSH.\n\n298\n00:14:49.840 --> 00:14:51.036\nDo NetSH in PowerShell.\n\n299\n00:14:51.036 --> 00:14:52.885\nThere are different ways to do it.\n\n300\n00:14:52.885 --> 00:14:57.957\nI'm going in and doing it from here,\njust to really focus on and\n\n301\n00:14:57.957 --> 00:15:01.699\nreally show you the use of PowerShell and\nNSH.\n\n302\n00:15:01.699 --> 00:15:03.570\nAnd get you really comfortable with that.\n\n303\n00:15:03.570 --> 00:15:05.640\nBut remember there is more\nthan one way to do this and\n\n304\n00:15:05.640 --> 00:15:09.110\nit doesn't necessarily have\nto be from the command line.\n\n305\n00:15:09.110 --> 00:15:11.358\nI know that may or\nmay not thrill some of you.\n\n306\n00:15:11.358 --> 00:15:14.290\nI'm just gonna clear the screen in here\non PowerShell on the Windows 10 client\n\n307\n00:15:14.290 --> 00:15:15.520\nwhile we're talking.\n\n308\n00:15:15.520 --> 00:15:18.910\nThat may or may not thrill some of\nyou in the sense that you may or\n\n309\n00:15:18.910 --> 00:15:21.350\nmay not be excited about using PowerShell.\n\n310\n00:15:21.350 --> 00:15:22.960\nAnd I get that, no big deal.\n\n311\n00:15:22.960 --> 00:15:24.023\nBut just keep that in mind, okay?\n\n312\n00:15:24.023 --> 00:15:25.906\nAll right, so we're in here.\n\n313\n00:15:25.906 --> 00:15:28.443\nWe're going to go ahead and\n\n314\n00:15:28.443 --> 00:15:33.419\ndo the following netsh again,\ninterface and ip set.\n\n315\n00:15:33.419 --> 00:15:38.494\nAnd we're gonna do address and\nwe're gonna do\n\n316\n00:15:38.494 --> 00:15:43.711\nname equal to,\nwe're doing here ethernet 2.\n\n317\n00:15:43.711 --> 00:15:48.410\nSo do Ethernet 2 and close.\n\n318\n00:15:49.700 --> 00:15:50.543\nWe've got static.\n\n319\n00:15:50.543 --> 00:15:57.795\nAnd we're going to do 132,168,\n\n320\n00:15:57.795 --> 00:16:00.574\nand 0.60?\n\n321\n00:16:00.574 --> 00:16:03.824\nAnd we'll do our subnet mask.\n\n322\n00:16:03.824 --> 00:16:08.312\nOf course,\nit'll help if I put Periods in there.\n\n323\n00:16:08.312 --> 00:16:10.560\nAll right, we've got our subnet mask.\n\n324\n00:16:10.560 --> 00:16:11.310\nLet's just do that.\n\n325\n00:16:11.310 --> 00:16:13.805\nWhoops, did I type that incorrectly?\n\n326\n00:16:13.805 --> 00:16:17.581\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Meaning something identified was\n\n327\n00:16:17.581 --> 00:16:18.630\nnot there.\n\n328\n00:16:18.630 --> 00:16:21.130\nYou know what, I'm wondering,\nI should actually close this real quick.\n\n329\n00:16:22.130 --> 00:16:23.510\nStupid though I am,\n\n330\n00:16:23.510 --> 00:16:25.790\nlet me just make sure I'm on the right\nmachine now that I'm doing that.\n\n331\n00:16:25.790 --> 00:16:27.440\nReal quick.\nSo give me one second.\n\n332\n00:16:27.440 --> 00:16:28.810\nI may have wound up on the wrong machine.\n\n333\n00:16:31.890 --> 00:16:34.570\nNope, that's the plat Win10 machine,\nthat's where I should be.\n\n334\n00:16:34.570 --> 00:16:39.240\nLet me try that one more time I may\nhave just inadvertently I either had\n\n335\n00:16:39.240 --> 00:16:42.530\nsomething in the command line or perhaps\nnot realized I had something in there.\n\n336\n00:16:42.530 --> 00:16:44.710\nIt looked like there was text or\nsomething at the bottom and\n\n337\n00:16:44.710 --> 00:16:46.920\nI may have actually not\ncleared the shell totally.\n\n338\n00:16:46.920 --> 00:16:50.520\nThere may have been something in there\nthat it thought it was working with.\n\n339\n00:16:50.520 --> 00:16:51.880\nSo let me just open this up one more time.\n\n340\n00:16:51.880 --> 00:16:53.610\nWe'll give this one more\nshot here real quick.\n\n341\n00:16:54.850 --> 00:16:57.230\nAnd just load a brand new\nclean version of the console,\n\n342\n00:16:57.230 --> 00:16:59.370\nthat way we're not gonna have any issues.\n\n343\n00:16:59.370 --> 00:17:02.901\nAll right, so\n\n344\n00:17:02.901 --> 00:17:07.611\nnetsh interface ip\n\n345\n00:17:07.611 --> 00:17:12.327\nset address name=\n\n346\n00:17:15.122 --> 00:17:19.801\nAnd let us do Ethernet 2 and\n\n347\n00:17:19.801 --> 00:17:26.516\nlet's do static and let's do 132,\n\n348\n00:17:26.516 --> 00:17:32.022\n168.0.60 and whoops.\n\n349\n00:17:33.350 --> 00:17:36.245\nGot a forward slash there.\n\n350\n00:17:36.245 --> 00:17:38.450\n255.255.255.0.\nAnd let's just\n\n351\n00:17:39.640 --> 00:17:45.170\ndo something really\nsilly before we do this.\n\n352\n00:17:45.170 --> 00:17:47.920\nLet's just make sure that\nthe Ethernet 2 is actually there.\n\n353\n00:17:47.920 --> 00:17:49.210\nI'm proving to you that\nit should be there.\n\n354\n00:17:49.210 --> 00:17:49.770\nIt should find it.\n\n355\n00:17:49.770 --> 00:17:52.710\nYou could see that Ethernet\n2 [LAUGH] does exist.\n\n356\n00:17:52.710 --> 00:17:56.680\nJust making sure we're referencing a card\nthat is there, ethernet 2 is there, right?\n\n357\n00:17:56.680 --> 00:17:59.790\nSo we should be able to work\non that interface right there.\n\n358\n00:17:59.790 --> 00:18:04.530\nI may have spelled it incorrectly, or\nmaybe as I said the console may not have\n\n359\n00:18:04.530 --> 00:18:08.150\nactually the PowerShell,\nshell may not have actually just been.\n\n360\n00:18:08.150 --> 00:18:11.530\nWhoops, this is what I\ndon't like about that.\n\n361\n00:18:11.530 --> 00:18:14.440\nLet me click here one second,\nthere we go, okay.\n\n362\n00:18:14.440 --> 00:18:16.200\nJust get that to reactivate.\n\n363\n00:18:16.200 --> 00:18:18.670\nElement not found,\nwhat am I not doing correctly here?\n\n364\n00:18:18.670 --> 00:18:22.310\nNSH interface IP set address name.\n\n365\n00:18:22.310 --> 00:18:25.190\n&gt;&gt; So, Adam, what happens if we're\ntrying to run this command and\n\n366\n00:18:25.190 --> 00:18:27.980\nwe don't have IPv4 bound\nto our particular adaptor?\n\n367\n00:18:29.040 --> 00:18:32.350\n&gt;&gt; Well, you know, you ever see that\nthing on TV where you have that nuclear\n\n368\n00:18:32.350 --> 00:18:35.040\nmushroom that kind of goes like this and\njust everything blows up?\n\n369\n00:18:35.040 --> 00:18:36.310\nIt's kinda like that.\n\n370\n00:18:36.310 --> 00:18:39.140\nSo what would actually\nhappen is the following.\n\n371\n00:18:39.140 --> 00:18:42.790\nWhen we're trying to actually go through\nfind this the first time we saw that we\n\n372\n00:18:42.790 --> 00:18:44.600\nhave that little glitch\ndidn't seem to work.\n\n373\n00:18:44.600 --> 00:18:48.430\nWent back take a quick look, check\neverything, did a little troubleshooting\n\n374\n00:18:48.430 --> 00:18:53.220\nand come to find believe it or not that\nsomehow IPv4 was unbound on the interface.\n\n375\n00:18:53.220 --> 00:18:55.070\nAs a result of that error we're getting.\n\n376\n00:18:55.070 --> 00:18:58.320\nIt can mean several things but it\nultimately turned out to mean is that we\n\n377\n00:18:58.320 --> 00:19:03.480\ndon't actually have IPv4 support to bind\nthe static IPv4 adapter address that we\n\n378\n00:19:03.480 --> 00:19:08.730\nwanna bind to that adapter cuz essentially\nIPv4 doesn't exist on that adapter.\n\n379\n00:19:08.730 --> 00:19:11.470\nSo we checked that box back off,\nrestarted the host.\n\n380\n00:19:11.470 --> 00:19:12.580\nEverything is good.\n\n381\n00:19:12.580 --> 00:19:13.330\nShould be ready to go.\n\n382\n00:19:13.330 --> 00:19:15.090\nOf course unless said that\nit probably blow up again.\n\n383\n00:19:15.090 --> 00:19:17.080\nBut we're gonna take a look and\ngive it a shot right here.\n\n384\n00:19:17.080 --> 00:19:17.640\nSo we go back.\n\n385\n00:19:17.640 --> 00:19:20.640\nYou see how there type the interface\ncommand back in Set it up,\n\n386\n00:19:20.640 --> 00:19:21.620\nI'm just gonna hit Enter there,\n\n387\n00:19:21.620 --> 00:19:25.840\nlet me just actually activate the console\nthere, just type that back in, do that.\n\n388\n00:19:25.840 --> 00:19:27.970\nAnd then of course you could\nsee boom goes through and\n\n389\n00:19:27.970 --> 00:19:30.800\nas it always does netsh\ndoesn't say a word to us.\n\n390\n00:19:30.800 --> 00:19:33.040\nYou know it'll be nice when it actually\ngives us that error instead of saying\n\n391\n00:19:33.040 --> 00:19:36.240\nelement not found, it would be nice if\nit just said hey, guess what you should\n\n392\n00:19:36.240 --> 00:19:39.940\nprobably go check that box off right,\ncuz that's what you actually need to do.\n\n393\n00:19:39.940 --> 00:19:41.920\n&gt;&gt; Could you imagine if\nall IT was like that Adam?\n\n394\n00:19:43.090 --> 00:19:45.360\n&gt;&gt; No.\nI can't imagine a world where that would\n\n395\n00:19:45.360 --> 00:19:48.710\nbe the case because that would\nmake sense and, well, you know.\n\n396\n00:19:48.710 --> 00:19:50.650\nWe know things don't always make sense.\n\n397\n00:19:50.650 --> 00:19:53.860\nAll right.\nSo we have set up our, using netsh,\n\n398\n00:19:53.860 --> 00:19:55.600\nour user interface IP here.\n\n399\n00:19:55.600 --> 00:19:58.990\nRemember we're just binding\na static IPv4 based on IP 2.\n\n400\n00:19:58.990 --> 00:20:03.350\nThe Ethernet two interface in\nthis case gonna switch over and\n\n401\n00:20:03.350 --> 00:20:05.650\nenable our six to four tunnel adapter.\n\n402\n00:20:05.650 --> 00:20:11.175\nUse our set net six to four configuration\nPowerShell commandlet here on our server.\n\n403\n00:20:11.175 --> 00:20:13.125\nSo we're going to go over and\ndo that right now.\n\n404\n00:20:13.125 --> 00:20:13.845\nJust bring this up.\n\n405\n00:20:13.845 --> 00:20:18.555\nWe're going to go onto our PLAB SA 01\nmachine, just minimize that there.\n\n406\n00:20:18.555 --> 00:20:21.585\nWe're in PowerShell, you could see\nwe were just there a minute ago.\n\n407\n00:20:21.585 --> 00:20:24.215\nSetting up our IP address there for\n0.40 on the 132.168 public IP.\n\n408\n00:20:24.215 --> 00:20:29.425\nNow we're going to go ahead and\nissue this command.\n\n409\n00:20:29.425 --> 00:20:30.860\nGoing to do the set.\n\n410\n00:20:30.860 --> 00:20:33.460\nAnd we're gonna do net 6 to 4.\n\n411\n00:20:33.460 --> 00:20:38.480\nAnd remember, that, just as I do this, and\n\n412\n00:20:38.480 --> 00:20:42.300\nwe'll just use the auto complete there,\nI just hit Tab, takes just a second.\n\n413\n00:20:42.300 --> 00:20:44.670\nRemember, just while,\nbefore I finish typing.\n\n414\n00:20:44.670 --> 00:20:50.010\nWe've talked about this before And\nremember that we do have all of\n\n415\n00:20:50.010 --> 00:20:55.030\nthese commands, we talked about them, this\nis specific to the 6 to 4 tunnel adaptor.\n\n416\n00:20:55.030 --> 00:20:57.200\nSo we would go in and\nobviously search for them.\n\n417\n00:20:57.200 --> 00:21:02.720\nBut what we're doing is going in and\nwe are using one or\n\n418\n00:21:02.720 --> 00:21:07.720\nmore of these commands,\nnot necessarily the ones that are here,\n\n419\n00:21:07.720 --> 00:21:11.350\nbut we are using commands like this.\n\n420\n00:21:11.350 --> 00:21:14.000\nFrom the TCPIP module and, in this case,\n\n421\n00:21:14.000 --> 00:21:16.640\nthe six to four tunnel adapter\nsupports specifically.\n\n422\n00:21:16.640 --> 00:21:18.820\nEncourage you to go out,\ntake a look on the Internet,\n\n423\n00:21:18.820 --> 00:21:22.800\nread up on the commands, if you need to\nsee what they are and understand them.\n\n424\n00:21:22.800 --> 00:21:25.170\nWe also talked about how to\nget help within PowerShell.\n\n425\n00:21:25.170 --> 00:21:27.500\nGet help command lit, and\nthen you can read up on it,\n\n426\n00:21:27.500 --> 00:21:30.490\nget help command lit full or\nonline, or detailed,\n\n427\n00:21:30.490 --> 00:21:34.040\nsee examples of syntax I'll walk you\nthrough that thought process and some\n\n428\n00:21:34.040 --> 00:21:37.050\nprior episodes explained to you how you\ncould use PowerShell to your advantage.\n\n429\n00:21:37.050 --> 00:21:39.890\nSo just thinking about that\nwhile we're talking here.\n\n430\n00:21:39.890 --> 00:21:44.140\nAll right, so Set-Net6to4Configuration,\nwe're gonna specify the state here.\n\n431\n00:21:44.140 --> 00:21:45.870\nWe're gonna give it a state of enabled.\n\n432\n00:21:45.870 --> 00:21:49.420\nAnd by the way PowerShell\ncommands Are not case sensitive.\n\n433\n00:21:49.420 --> 00:21:52.960\nSo almost without exception,\nyou can type in there upper or lower case.\n\n434\n00:21:52.960 --> 00:21:56.520\nI just autotab to do the complete or\nuse that when I'm typing it,\n\n435\n00:21:56.520 --> 00:21:58.240\njust makes it all pretty and nice.\n\n436\n00:21:58.240 --> 00:21:59.510\nYou can see it and understand it.\n\n437\n00:21:59.510 --> 00:22:03.120\nAnd when you go look it up in theory, if\nyou're referencing it in the episode and\n\n438\n00:22:03.120 --> 00:22:04.730\nyou say hey can we pause that for\na minute?\n\n439\n00:22:04.730 --> 00:22:09.410\nI'm gonna go look that command up like\nhe was talking about or Share it here.\n\n440\n00:22:09.410 --> 00:22:14.170\nWhoever is talking about it is, you see it\nconfigured out and detailed on the screen,\n\n441\n00:22:14.170 --> 00:22:17.170\nthe way it'll show up when you look for\nit and help it looks that way.\n\n442\n00:22:17.170 --> 00:22:18.640\nSo it's the only reason I do that.\n\n443\n00:22:18.640 --> 00:22:21.300\nI could type that all on all lower\ncase and it'll work just fine,\n\n444\n00:22:21.300 --> 00:22:22.120\ntheres no difference.\n\n445\n00:22:22.120 --> 00:22:24.980\nSo Just keep that in mind,\nit is not case sensitive,\n\n446\n00:22:24.980 --> 00:22:28.040\nunless we're typing in something\nspecific like a name, in quotes,\n\n447\n00:22:28.040 --> 00:22:30.570\nwe want us a literal string,\nwe wanna make it that way, but\n\n448\n00:22:30.570 --> 00:22:33.470\nnormal commands, not case sensitive at\nall, you don't have to worry about that.\n\n449\n00:22:33.470 --> 00:22:36.640\nAll right, we set that state\nenabled as you can see there.\n\n450\n00:22:36.640 --> 00:22:40.340\nWhat we're now gonna do is\nSet-NetIPInterface in our IP\n\n451\n00:22:40.340 --> 00:22:41.220\ninterface alias.\n\n452\n00:22:41.220 --> 00:22:42.110\nSo we're gonna do that.\n\n453\n00:22:42.110 --> 00:22:46.380\nSo we're gonna use another command here\nexcept we're gonna use set instead of zet.\n\n454\n00:22:46.380 --> 00:22:47.760\nZ is not supported for-\n&gt;&gt; [LAUGH]\n\n455\n00:22:47.760 --> 00:22:48.880\n&gt;&gt; Networking commands.\n\n456\n00:22:48.880 --> 00:22:49.830\n&gt;&gt; That's a great version.\n\n457\n00:22:49.830 --> 00:22:52.650\n&gt;&gt; Yeah, I should actually have new\nclient, but I should tell you what I want\n\n458\n00:22:52.650 --> 00:22:54.490\nyou to type here, because-\n&gt;&gt; That'll be fun.\n\n459\n00:22:54.490 --> 00:22:54.990\n&gt;&gt; It is-\n&gt;&gt; [LAUGH]\n\n460\n00:22:54.990 --> 00:22:56.440\n&gt;&gt; Just like ridiculous.\n\n461\n00:22:56.440 --> 00:22:58.830\nAll right, so Set-NetIPInterface.\n\n462\n00:22:58.830 --> 00:22:59.710\nAll right, we're gonna do\n\n463\n00:22:59.710 --> 00:23:01.650\nparameter interface alias here.\n\n464\n00:23:01.650 --> 00:23:04.350\nSo interface alias.\n\n465\n00:23:04.350 --> 00:23:08.250\nSo we'll just thought a tab on that one,\ninterface alias and\n\n466\n00:23:08.250 --> 00:23:11.370\nwe're gonna specify our\nalias of ethernet 2.\n\n467\n00:23:11.370 --> 00:23:14.310\nRemember we spoke about that,\nthat does need a space there.\n\n468\n00:23:14.310 --> 00:23:16.290\nOr no actually no space on this one,\nI forgot.\n\n469\n00:23:16.290 --> 00:23:20.280\nThis one has ethernet too but no space cuz\nwe're gonna set specified as an alias.\n\n470\n00:23:20.280 --> 00:23:25.790\nAnd we're going to enable forwarding, so\nwe're gonna do forwarding, forwarding.\n\n471\n00:23:25.790 --> 00:23:27.230\nI do have to sound things out when I type,\n\n472\n00:23:27.230 --> 00:23:30.650\nits the only way that I could\nactually get them to be correct.\n\n473\n00:23:30.650 --> 00:23:33.330\nIf you're wondering why the hell is\nhe talking to himself and doing that.\n\n474\n00:23:33.330 --> 00:23:35.080\nIt's actually for that very reason.\n\n475\n00:23:35.080 --> 00:23:39.110\nJust because if I don't do that there is\nabsolutely no way I will get it right.\n\n476\n00:23:39.110 --> 00:23:41.680\nAll right, you can see even\nthen I may have a problem.\n\n477\n00:23:41.680 --> 00:23:46.160\nI may actually, actually,\nI think I do need that space.\n\n478\n00:23:46.160 --> 00:23:48.050\nNo, net IP with property interface sales.\n\n479\n00:23:48.050 --> 00:23:50.940\nYeah I think I do need the space\nI think that was my fault.\n\n480\n00:23:50.940 --> 00:23:52.154\nGive me just one second.\n\n481\n00:23:56.731 --> 00:23:58.474\nNope, hold on.\n\n482\n00:23:58.474 --> 00:24:00.301\nOppositional parameter, you know why?\n\n483\n00:24:00.301 --> 00:24:03.860\nThat was also silly of me On second-\n&gt;&gt; Quotation?\n\n484\n00:24:03.860 --> 00:24:07.600\n&gt;&gt; Yeah, I just forgot since\nI put the space in, yep.\n\n485\n00:24:07.600 --> 00:24:10.040\nI just need to put those there.\n\n486\n00:24:10.040 --> 00:24:11.770\nLet's try that one more time.\n\n487\n00:24:11.770 --> 00:24:12.840\nNow no property found.\n\n488\n00:24:12.840 --> 00:24:14.740\nInterface is equal to Ethernet2.\n\n489\n00:24:14.740 --> 00:24:16.830\nOkay, so wait, so\nmaybe that's just an issue.\n\n490\n00:24:16.830 --> 00:24:20.750\nMaybe I'm referencing the wrong alias,\nor rather the wrong interface.\n\n491\n00:24:20.750 --> 00:24:23.360\nSo I'm gonna set that equal on this one.\n\n492\n00:24:23.360 --> 00:24:27.070\nGive me just one sec, gotta make sure\nthat we actually have that on this one.\n\n493\n00:24:27.070 --> 00:24:28.250\nNope, it's ethernet one.\n\n494\n00:24:28.250 --> 00:24:31.410\nLook at that, that's why because I\nhave two and it's called Ethernet one.\n\n495\n00:24:31.410 --> 00:24:34.570\nSo I'm going to fix that right now,\nbut it's Ethernet one, no space.\n\n496\n00:24:34.570 --> 00:24:36.280\nI wrote down Ethernet two with no space.\n\n497\n00:24:36.280 --> 00:24:38.951\n&gt;&gt; Well you switched machines on, that's\nbecause we had Ethernet two a moment ago.\n\n498\n00:24:38.951 --> 00:24:39.708\n[LAUGH]\n&gt;&gt; Yeah I did, and\n\n499\n00:24:39.708 --> 00:24:41.670\nI wasn't paying attention to\nwhere I was or what I was doing.\n\n500\n00:24:41.670 --> 00:24:44.880\nSo let me fix that,\nwe're gonna go back here like that and\n\n501\n00:24:44.880 --> 00:24:50.950\nwe're just gonna put it in as ethernet1\ninstead of ethernet2 like that.\n\n502\n00:24:50.950 --> 00:24:53.680\nAnd you see it goes in with no trouble.\n\n503\n00:24:53.680 --> 00:24:56.420\nAnd well if you go full-screen for\n\n504\n00:24:56.420 --> 00:24:58.950\nme just a sec cuz I'm covering\nover like half the screen there.\n\n505\n00:24:58.950 --> 00:25:00.090\nSo the others are good to see, right?\n\n506\n00:25:00.090 --> 00:25:01.980\nIts always good to learn\nfrom what we're doing.\n\n507\n00:25:01.980 --> 00:25:04.614\nAgain logical thought process\non troubleshooting there,\n\n508\n00:25:04.614 --> 00:25:08.193\ncould have owned on a couple of things, it\ncould have been that the alias that I was\n\n509\n00:25:08.193 --> 00:25:11.007\nusing was referencing as it turn\nout to be the wrong interface.\n\n510\n00:25:11.007 --> 00:25:15.038\nOr I spelled it incorrectly meaning hey,\nit should have been ethernet spelled\n\n511\n00:25:15.038 --> 00:25:19.068\nlogically and I spelled it the wrong way\nor it had a space, I didn't account for\n\n512\n00:25:19.068 --> 00:25:22.973\nthat, I had to put the space in, tried\na couple of things and I said Clearly,\n\n513\n00:25:22.973 --> 00:25:24.216\nit's not ethernet 2.\n\n514\n00:25:24.216 --> 00:25:26.590\nI just gotta go look and\nmake sure I know what it is.\n\n515\n00:25:26.590 --> 00:25:30.400\nAnd when I looked, sure enough,\nit's not ethernet 2, it's ethernet 1.\n\n516\n00:25:30.400 --> 00:25:32.310\nAnd so\nwe're able to fix that really easily.\n\n517\n00:25:32.310 --> 00:25:35.430\nAnd you could see that it's there now,\nand it does work with ethernet 1.\n\n518\n00:25:35.430 --> 00:25:37.180\nSo, it does make sense for\n\n519\n00:25:37.180 --> 00:25:41.200\nyou to logically walk through the thought\nprocess, just make sure you know what it\n\n520\n00:25:41.200 --> 00:25:44.460\nis And that you understand that\nsometimes you may have an issue.\n\n521\n00:25:44.460 --> 00:25:45.660\nYou learn from your mistakes.\n\n522\n00:25:45.660 --> 00:25:47.840\nI make mistakes all the time, by the way.\n\n523\n00:25:47.840 --> 00:25:50.820\nThere's nothing wrong with making\nthem as long as you use them\n\n524\n00:25:50.820 --> 00:25:52.570\nto figure out what went wrong and\nsolve it.\n\n525\n00:25:52.570 --> 00:25:55.345\nNow the nice thing about this just\nbefore we get off to continue.\n\n526\n00:25:55.345 --> 00:25:58.745\nIf you pay attention to PowerShell errors,\nthey typically, the red,\n\n527\n00:25:58.745 --> 00:26:02.445\nangry screaming text at you in the console\nhere, right, they will normally give you\n\n528\n00:26:02.445 --> 00:26:06.215\na really good indication as to what\nthe problem may be, but you gotta stop and\n\n529\n00:26:06.215 --> 00:26:09.357\nread them and understand it and And\nit will tell you what's going on.\n\n530\n00:26:09.357 --> 00:26:13.017\nAnd it tells me here in the first one,\nno interface alias equal to this.\n\n531\n00:26:13.017 --> 00:26:14.817\nIt's telling me essentially\nI can't find that,\n\n532\n00:26:14.817 --> 00:26:17.847\nthat's why I tried a different\ncombination with a space.\n\n533\n00:26:17.847 --> 00:26:20.067\nNow it's telling me hey,\nby the way, I can't accept that,\n\n534\n00:26:20.067 --> 00:26:23.217\nbecause I forgot, I wasn't paying\nattention and thinking logically.\n\n535\n00:26:23.217 --> 00:26:27.097\nPut a space in, got to enclose it in\nquotes so it treats it as a string and\n\n536\n00:26:27.097 --> 00:26:28.427\nunderstands the space.\n\n537\n00:26:28.427 --> 00:26:32.810\nDid that, but then it says hey, guess\nwhat still don't find that ethernet two,\n\n538\n00:26:32.810 --> 00:26:34.950\nspace, no space, not there.\n\n539\n00:26:34.950 --> 00:26:36.363\nWell now we've got to go and check it out.\n\n540\n00:26:36.363 --> 00:26:38.210\nAnd that's when I said,\nhey let me go look.\n\n541\n00:26:38.210 --> 00:26:40.140\nSince it's probably not ethernet two,\n\n542\n00:26:40.140 --> 00:26:43.230\nand sure enough it winds up being ethernet\none or whatever it would have been.\n\n543\n00:26:43.230 --> 00:26:45.480\nIt could have been ethernet in this case,\ncuz they have two interfaces,\n\n544\n00:26:45.480 --> 00:26:47.810\nbut they're just not labeled correctly,\nright?\n\n545\n00:26:47.810 --> 00:26:50.290\nSo it is important to pay\nattention to your over codes.\n\n546\n00:26:50.290 --> 00:26:53.640\nIt's really important to know what's\ngoing on there because that allows you\n\n547\n00:26:53.640 --> 00:26:57.130\nto come back and actually fix the problem,\nif you're willing to just stop long enough\n\n548\n00:26:57.130 --> 00:26:59.500\nand look at it and\ngo hey I did make a mistake.\n\n549\n00:26:59.500 --> 00:27:01.110\nWhat do I need to do to fix that?\n\n550\n00:27:01.110 --> 00:27:04.320\nAnd I could probably get some useful\ninformation coming out of that\n\n551\n00:27:04.320 --> 00:27:07.620\nerror return if I just understand\nthat I have to stop and read it.\n\n552\n00:27:07.620 --> 00:27:08.920\nSpeaking of stopping.\n\n553\n00:27:08.920 --> 00:27:12.690\n&gt;&gt; Yeah, so, looking ahead here, I do see\nthat you have torito noted in your notes,\n\n554\n00:27:12.690 --> 00:27:15.525\nbut I think we're gonna have\nto go ahead and continue.\n\n555\n00:27:15.525 --> 00:27:17.170\n&gt;&gt; Lloved that torito, though,\nyou just love saying that word.\n\n556\n00:27:17.170 --> 00:27:18.460\n&gt;&gt; It's a cool word to say, yeah.\n\n557\n00:27:18.460 --> 00:27:20.560\n&gt;&gt; I was gonna say,\nit's the word more than anything else.\n\n558\n00:27:20.560 --> 00:27:23.330\nBut we do need to finish this\ndemonstration on setting up 6to4.\n\n559\n00:27:23.330 --> 00:27:26.240\nSo I'm thinking maybe we need to come\nback and just do that real quick.\n\n560\n00:27:26.240 --> 00:27:30.606\nAnd I promise you I'll say something\nabout Tarito when we come back other than\n\n561\n00:27:30.606 --> 00:27:31.620\nthe word Tarito.\n\n562\n00:27:31.620 --> 00:27:32.783\nBut I want to finish this demo up.\n\n563\n00:27:32.783 --> 00:27:34.320\nSo I want to invite you to comme back.\n\n564\n00:27:34.320 --> 00:27:37.570\nTake a look at the last episode\nwith us here to round that out.\n\n565\n00:27:37.570 --> 00:27:40.350\nAnd we're gonna do that as\nsoon as we say goodbye here.\n\n566\n00:27:40.350 --> 00:27:41.730\nAll right.\n&gt;&gt; All right, well thank you so much for\n\n567\n00:27:41.730 --> 00:27:44.260\njoining us, but stay tuned,\nwe have more information.\n\n568\n00:27:44.260 --> 00:27:48.320\nAnd as Adam promised,\nhe's going to explain Teredo and\n\n569\n00:27:48.320 --> 00:27:50.760\nyeah, go ahead and wrap things up here.\n\n570\n00:27:50.760 --> 00:27:51.860\nSo we're gonna go ahead and sign out.\n\n571\n00:27:51.860 --> 00:27:54.470\nAnd remember, I'm your host,\nCherokee Boose.\n\n572\n00:27:54.470 --> 00:27:57.446\n&gt;&gt; I'm Adam Gordon and I soon will\nbe Tarito Man if you come back and\n\n573\n00:27:57.446 --> 00:27:58.071\ntake a look.\n\n574\n00:27:58.071 --> 00:27:59.800\n&gt;&gt; See you next time here at IT Pro TV.\n\n575\n00:27:59.800 --> 00:28:02.449\n&gt;&gt; Take care everybody.\n\n576\n00:28:02.449 --> 00:28:08.430\n[MUSIC]\n\n577\n00:28:08.430 --> 00:28:11.779\nThank you for watching ITProTV.\n\n",
          "vimeoId": "217177726"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing IPv6. They complete a demonstration that was started in the previous episode. They also discuss a NAT friendly alternative call Teredo as well as explaining port proxy.",
          "length": "989",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-5-implementing_ipv6_pt5_RESHOOT-051017-PGM.00_16_14_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-5-implementing_ipv6_pt5_RESHOOT-051017-PGM.00_16_14_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-3-1-5-implementing_ipv6_pt5_RESHOOT-051017-PGM.00_16_14_16.Still001-sm.jpg",
          "title": "Implementing IPv6 Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:01.404\nWelcome to ITProTV.\n\n2\n00:00:01.404 --> 00:00:03.082\n&gt;&gt; I'm your host, Don Pezet.\n\n3\n00:00:03.082 --> 00:00:06.578\n[CROSSTALK]\n\n4\n00:00:06.578 --> 00:00:08.307\n[MUSIC]\n\n5\n00:00:08.307 --> 00:00:11.999\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.999 --> 00:00:15.855\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 series.\n\n7\n00:00:15.855 --> 00:00:18.015\nI'm your show host, Cherokee Boose.\n\n8\n00:00:18.015 --> 00:00:21.241\nIn this episode,\nwe'll continue talking about IP Version 6.\n\n9\n00:00:21.241 --> 00:00:24.932\nAnd back in studios with us today to\nwrap up the demonstration, we have Mr.\n\n10\n00:00:24.932 --> 00:00:25.655\nAdam Gordon.\n\n11\n00:00:25.655 --> 00:00:27.275\nThank you for joining us, Adam.\n\n12\n00:00:27.275 --> 00:00:27.825\n&gt;&gt; Hello, everybody.\n\n13\n00:00:27.825 --> 00:00:28.705\nGlad to be back.\n\n14\n00:00:28.705 --> 00:00:32.815\nWe're gonna continue talking\nabout IP Version 6, not IPv6 but\n\n15\n00:00:32.815 --> 00:00:35.891\nVersion 6 here,\nstretching things out today.\n\n16\n00:00:35.891 --> 00:00:38.170\nIs that because we have a shorter demo so\nit's not gonna take long so\n\n17\n00:00:38.170 --> 00:00:39.915\nyou're trying to eat up\nsome time in the episode?\n\n18\n00:00:39.915 --> 00:00:41.750\n&gt;&gt; [LAUGH]\n&gt;&gt; Saying everything fully.\n\n19\n00:00:41.750 --> 00:00:42.820\nSo version six.\n\n20\n00:00:42.820 --> 00:00:48.010\nSo we're gonna continue talking\nabout setting up our 6to4 adapter.\n\n21\n00:00:48.010 --> 00:00:51.590\nWe are going to, if you join me\nright back in our demo environment,\n\n22\n00:00:51.590 --> 00:00:53.270\nwe're gonna see here.\n\n23\n00:00:53.270 --> 00:00:57.250\nWe are on our Windows 10 machine,\ngot our interface configured.\n\n24\n00:00:57.250 --> 00:01:00.610\nWe're about to just go through, or\nat least I typed in the command anyway.\n\n25\n00:01:00.610 --> 00:01:04.640\nWe're gonna go ahead and do set net 6to4.\n\n26\n00:01:04.640 --> 00:01:08.970\nThe set net 6to4 configuration cmdlet,\nas I trip over getting that out.\n\n27\n00:01:08.970 --> 00:01:10.650\nWe're gonna set that\nto a state of enabled.\n\n28\n00:01:10.650 --> 00:01:12.610\nSo we're just gonna go ahead and\nhit Enter there.\n\n29\n00:01:12.610 --> 00:01:14.570\nThat should take just a second and\ncome back.\n\n30\n00:01:14.570 --> 00:01:16.939\nLet's go ahead and\nset our net IP interface.\n\n31\n00:01:16.939 --> 00:01:20.500\nSo we'll type this in real quick.\n\n32\n00:01:20.500 --> 00:01:25.890\nInterface, and\njust do an auto complete for that.\n\n33\n00:01:25.890 --> 00:01:30.482\nWe'll do our interface alias and\n\n34\n00:01:30.482 --> 00:01:36.900\nwe'll set that to, Ethernet 2.\n\n35\n00:01:36.900 --> 00:01:38.880\nAnd we're gonna set that to forwarding.\n\n36\n00:01:38.880 --> 00:01:41.950\nAnd we'll set forwarding,\nreturn on forwarding, and\n\n37\n00:01:41.950 --> 00:01:46.070\nmake sure that that is enabled.\n\n38\n00:01:46.070 --> 00:01:47.546\nGo ahead and do that real quick.\n\n39\n00:01:47.546 --> 00:01:50.398\nGet that to come back, and so\nonce we have all that set up\n\n40\n00:01:50.398 --> 00:01:53.500\nremember we've already done\nthe set up on the server side.\n\n41\n00:01:53.500 --> 00:01:55.320\nSo we're working with server and\nthe client.\n\n42\n00:01:55.320 --> 00:01:56.606\nThis is our Windows 10 side,\n\n43\n00:01:56.606 --> 00:01:59.840\nso our desktop client essentially,\njust completing the configuration.\n\n44\n00:01:59.840 --> 00:02:02.190\nWhat we're gonna do is go\nback over to the server,\n\n45\n00:02:02.190 --> 00:02:06.570\nwe'll just do a quick IP config over\nthere, see the outcome of everything.\n\n46\n00:02:06.570 --> 00:02:11.253\nSo let's just switch back over, and\n\n47\n00:02:11.253 --> 00:02:14.281\nlet's do an IP config.\n\n48\n00:02:14.281 --> 00:02:21.595\nWe'll take a look and see that on our\n6to4 adapter right up at the top here,\n\n49\n00:02:21.595 --> 00:02:27.420\njust kind of put that in\nthe center of the screen for you.\n\n50\n00:02:27.420 --> 00:02:31.595\nYou'll see that we do have\nour IPv6 [COUGH] address.\n\n51\n00:02:31.595 --> 00:02:34.539\nAnd we'll see it right there,\n\n52\n00:02:34.539 --> 00:02:39.860\nour 2002 84a8 28, 84a8 28 address.\n\n53\n00:02:39.860 --> 00:02:44.320\nRemember the 2002 is the prefix,\nright, that we're using.\n\n54\n00:02:44.320 --> 00:02:49.700\nAnd the 84aa28 portion\nis the IPv6 equivalent\n\n55\n00:02:49.700 --> 00:02:53.620\nof our public address, our IPv4 public\naddress, which was our 132.168.0.40,\n\n56\n00:02:53.620 --> 00:02:58.760\nright, which is what we were setting up.\n\n57\n00:02:58.760 --> 00:02:59.880\nSo we're seeing that there,\n\n58\n00:02:59.880 --> 00:03:03.192\nwe're just gonna go ahead,\njust come down here real quick.\n\n59\n00:03:03.192 --> 00:03:05.632\nJust gonna put that at the top of\nthe screen so you can see that.\n\n60\n00:03:05.632 --> 00:03:09.298\nAnd what we're gonna do is just simply\ngo in and ping now to double check and\n\n61\n00:03:09.298 --> 00:03:11.770\nmake sure that our\nconnectivity is working.\n\n62\n00:03:11.770 --> 00:03:15.680\nWe'll do that on the Windows 10 side,\nlet's just do an IP config as well there.\n\n63\n00:03:15.680 --> 00:03:20.560\nLet's just make sure we\nsee both of the IPs and\n\n64\n00:03:20.560 --> 00:03:22.690\njust make sure both sides are set up.\n\n65\n00:03:22.690 --> 00:03:24.310\nCould have actually done\nthis while we were here.\n\n66\n00:03:24.310 --> 00:03:26.100\nDoesn't really matter\nwhat order we do it in.\n\n67\n00:03:26.100 --> 00:03:31.356\nBut when we take a look here at our 6to4\nadapter on the IPv6 address for it on\n\n68\n00:03:31.356 --> 00:03:37.780\nthe Windows 10 side you'll see we do have\none that is in the same area, 2002 8488.\n\n69\n00:03:37.780 --> 00:03:42.556\nBut we do have a different ending\naddress because remember we set up 132,\n\n70\n00:03:42.556 --> 00:03:46.524\n168, 0, 60 and 040,\nthis one is our other address.\n\n71\n00:03:46.524 --> 00:03:49.820\nWe'll see 060 right up there,\nso we can see this one.\n\n72\n00:03:49.820 --> 00:03:54.240\nAnd then once we now see that we have our\naddresses on both sides, we can go ahead,\n\n73\n00:03:54.240 --> 00:03:56.261\nand we can ping from one to the other.\n\n74\n00:03:56.261 --> 00:04:00.549\nSo since we're on the Windows 10 box,\nlet's just go ahead, we'll move this down,\n\n75\n00:04:00.549 --> 00:04:02.080\na little bit here.\n\n76\n00:04:02.080 --> 00:04:04.660\nAnd we can just go ahead and\ndo a ping here.\n\n77\n00:04:04.660 --> 00:04:09.403\nSo let's do ping and,\nlet's do our 2002: we're\n\n78\n00:04:09.403 --> 00:04:13.020\ngonna ping the server, so we'll do A4.\n\n79\n00:04:13.020 --> 00:04:15.961\nWhat was that,\n\n80\n00:04:15.961 --> 00:04:23.660\n8488:28::8488:28.\n\n81\n00:04:23.660 --> 00:04:27.831\nJust make sure we got all that correct,\ncuz we all know how well I type, right?\n\n82\n00:04:27.831 --> 00:04:29.343\nPing 2002.\n\n83\n00:04:29.343 --> 00:04:33.686\n84a8:28:a4a28.\n\n84\n00:04:33.686 --> 00:04:34.587\nSo we'll do that.\n\n85\n00:04:34.587 --> 00:04:36.814\nAnd you'll see we get\nback our response here.\n\n86\n00:04:36.814 --> 00:04:38.340\nAnd you can see it's coming back.\n\n87\n00:04:38.340 --> 00:04:41.710\nAnd that means that our 6to4\ntunnel adapter is working.\n\n88\n00:04:41.710 --> 00:04:42.590\nWe're able to ping across.\n\n89\n00:04:42.590 --> 00:04:45.021\n&gt;&gt; Woo hoo, high five.\n\n90\n00:04:45.021 --> 00:04:49.140\n&gt;&gt; All right, so you can see that\nwe've set up our 6to4 adapter.\n\n91\n00:04:49.140 --> 00:04:54.110\nWe've been able to go in, configure\nthat and set up our communication.\n\n92\n00:04:54.110 --> 00:04:55.630\nNow keep in mind,\nyou have been talking about,\n\n93\n00:04:55.630 --> 00:04:59.110\nwe talked about in the previous episodes\nwe talked about the ISATAP Adapter.\n\n94\n00:04:59.110 --> 00:05:02.660\nWe've done the 6to4 adapter, talked\nabout some of the differences there.\n\n95\n00:05:02.660 --> 00:05:05.650\nWe've got this one little thing that\nwe keep referring to we haven't\n\n96\n00:05:05.650 --> 00:05:06.720\ntalked about yet.\n\n97\n00:05:06.720 --> 00:05:10.300\nBut Cherokee keeps reminding\nus in the background every so\n\n98\n00:05:10.300 --> 00:05:11.480\noften when we mention it.\n\n99\n00:05:11.480 --> 00:05:14.140\nWhich is, I'm gonna let you say it,\ncuz I know you like saying it so much.\n\n100\n00:05:14.140 --> 00:05:14.870\n&gt;&gt; Teredo.\n\n101\n00:05:14.870 --> 00:05:15.832\n&gt;&gt; Teredo, exactly.\n\n102\n00:05:15.832 --> 00:05:17.100\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's talk about Teredo.\n\n103\n00:05:17.100 --> 00:05:20.916\nTeredo is essentially what we\njust talk about with 6to4.\n\n104\n00:05:20.916 --> 00:05:23.223\nWe just showed you with one exception\nas Cherokee was pointing out and\n\n105\n00:05:23.223 --> 00:05:25.677\nreminded us a couple times,\n&gt;&gt; We're talking about it,\n\n106\n00:05:25.677 --> 00:05:29.606\nit's literally described as 6to4 but\nwith the ability to work with NAT, right?\n\n107\n00:05:29.606 --> 00:05:31.465\nBecause you've been reminding us that,\n\n108\n00:05:31.465 --> 00:05:35.465\nhey, all this other stuff we do is really\nunfriendly with NAT, it doesn't work well.\n\n109\n00:05:35.465 --> 00:05:37.485\nIt's not designed to deal with NAT.\n\n110\n00:05:37.485 --> 00:05:39.715\nSo we do need something,\na solution as you pointed out,\n\n111\n00:05:39.715 --> 00:05:43.135\nthat does address the NAT issue\nbecause it is so prevalent today.\n\n112\n00:05:43.135 --> 00:05:44.835\nAnd the Teredo solution does that.\n\n113\n00:05:44.835 --> 00:05:49.170\nIt's literally nothing more than 6to4, the\nsame capabilities we looked at here but\n\n114\n00:05:49.170 --> 00:05:51.180\nwith the ability to understand and\nwork with NAT.\n\n115\n00:05:51.180 --> 00:05:53.870\nAnd so if you have a NAT environment,\n\n116\n00:05:53.870 --> 00:05:58.360\nwe need to be able to work\nwith this kind of technology.\n\n117\n00:05:58.360 --> 00:06:03.180\nSo if the NAT device could be configured\nas a 6to4 router that has the ability\n\n118\n00:06:03.180 --> 00:06:06.770\nto deal with the 6to4 interface\nbecause it understands it,\n\n119\n00:06:06.770 --> 00:06:08.890\nwe don't need to use Teredo.\n\n120\n00:06:08.890 --> 00:06:13.938\nBut for older systems, cuz not all systems\nwill support the 6to4 functionality,\n\n121\n00:06:13.938 --> 00:06:17.980\nit's an IPv6 function, and\nit is obviously a newer bot process.\n\n122\n00:06:17.980 --> 00:06:20.800\nNot brand new for 16, but\nnewer in the sense that\n\n123\n00:06:20.800 --> 00:06:23.430\nwe need to have a device that\nwould understand and support that.\n\n124\n00:06:23.430 --> 00:06:26.650\nIf we don't have that device\nthat we fall back on the idea of\n\n125\n00:06:26.650 --> 00:06:31.320\nusing Teredo as a client, or the ability\nfor systems to be configured to use,\n\n126\n00:06:31.320 --> 00:06:34.270\nthe Teredo adapter will be able\nto send and receive traffic.\n\n127\n00:06:34.270 --> 00:06:36.930\nSo there are public Teredo servers\nout there on the Internet that\n\n128\n00:06:36.930 --> 00:06:38.410\nwe could interact with.\n\n129\n00:06:38.410 --> 00:06:40.990\nMicrosoft maintains at least one.\n\n130\n00:06:40.990 --> 00:06:45.610\nTheirs is Teredo.ipv6.microsoft.com,\nif I remember correctly.\n\n131\n00:06:45.610 --> 00:06:48.180\nI've got it in the notes; I'm\npretty sure that's what it is.\n\n132\n00:06:48.180 --> 00:06:51.590\nBut they maintain one, there are other\npublic Teredo services out there as well.\n\n133\n00:06:51.590 --> 00:06:56.530\nBut it allows us to communicate,\nessentially facilitate communication\n\n134\n00:06:56.530 --> 00:07:01.080\nfrom an IPv only host or,\nIPv6 only host or node as we talked about.\n\n135\n00:07:01.080 --> 00:07:03.413\nRemember, we said nodes and\nhosts are essentially the same idea.\n\n136\n00:07:03.413 --> 00:07:07.095\nIPv6 only host or\nnode on the IPv6 Internet, and\n\n137\n00:07:07.095 --> 00:07:13.430\nwe can facilitate that conversation or\nthat communication across there.\n\n138\n00:07:13.430 --> 00:07:16.160\nSo keep in mind that this\nis what we're using it for.\n\n139\n00:07:16.160 --> 00:07:18.220\nConfiguring it, not very difficult.\n\n140\n00:07:18.220 --> 00:07:22.390\nA Windows machine,\na Windows Server 2016 client\n\n141\n00:07:22.390 --> 00:07:25.830\ncan be set up either as a Teredo relay or\na Teredo server.\n\n142\n00:07:25.830 --> 00:07:27.980\nWe use PowerShell to configure this.\n\n143\n00:07:27.980 --> 00:07:31.260\nWe would use the set net\nTeredo configuration.\n\n144\n00:07:31.260 --> 00:07:33.160\nWe're in here,\nlet's just take a look real quick.\n\n145\n00:07:33.160 --> 00:07:40.409\nWe just go over here to the server and\nif we do set -net.\n\n146\n00:07:40.409 --> 00:07:42.920\nWhat did I say, say -netteredo.\n\n147\n00:07:42.920 --> 00:07:47.249\nWe're doing teredo,\nset -netteredoconfig, right.\n\n148\n00:07:47.249 --> 00:07:52.139\nI think I spelled that correctly\nwith two t's, set -netteredo.\n\n149\n00:07:52.139 --> 00:07:54.433\nCome on, come on, come one,\ncome on, come on.\n\n150\n00:07:54.433 --> 00:07:56.050\nI'm just looking to see if it's, no.\n\n151\n00:07:56.050 --> 00:08:00.128\nIt's one, no, no, it's two t,\n\n152\n00:08:00.128 --> 00:08:05.917\nit is two t's, set-netteredoxconfiguration\n\n153\n00:08:08.708 --> 00:08:11.730\nAll right, there we go, just for\nsome reason I wasn't picking it up.\n\n154\n00:08:11.730 --> 00:08:15.550\nThe Set-NetTeredoConfiguration\ncmdlet is what we would type in\n\n155\n00:08:15.550 --> 00:08:17.980\nto be able to go ahead and configure this.\n\n156\n00:08:17.980 --> 00:08:20.390\nConfiguration by default,\nwe're set up as a client.\n\n157\n00:08:20.390 --> 00:08:23.280\nWe obviously can then specify\nwhat it is that we need.\n\n158\n00:08:23.280 --> 00:08:24.640\nWhat I would suggest you do here,\n\n159\n00:08:24.640 --> 00:08:29.100\nwe've talked about this before,\nis do a get-help, right?\n\n160\n00:08:29.100 --> 00:08:37.760\nAnd for the cmdlet, and then if you're not\nsure about it, you can do online, right?\n\n161\n00:08:37.760 --> 00:08:40.450\nJust to see whether or not that's there.\n\n162\n00:08:40.450 --> 00:08:41.630\nOnline cannot be displayed.\n\n163\n00:08:41.630 --> 00:08:42.870\nIt's the Internet address.\n\n164\n00:08:42.870 --> 00:08:44.462\nThe help tab is not specified.\n\n165\n00:08:44.462 --> 00:08:46.933\nAll right, so\nI haven't done an update on PowerShell,\n\n166\n00:08:46.933 --> 00:08:49.900\nso it's not gonna be able to go\nout right away to do online.\n\n167\n00:08:49.900 --> 00:08:52.580\nBut if you just do get help,\nright, you should be able to,\n\n168\n00:08:52.580 --> 00:08:54.330\nin theory, get information on it.\n\n169\n00:08:54.330 --> 00:08:55.650\nWe've talked about that.\n\n170\n00:08:55.650 --> 00:08:56.860\nAnd you can read up on it.\n\n171\n00:08:56.860 --> 00:09:00.900\nRemember we've shown you PowerShell\ncmdlets for a variety of things and\n\n172\n00:09:00.900 --> 00:09:02.580\ntalked about where they are.\n\n173\n00:09:02.580 --> 00:09:05.680\nYou could go out, and\nwe've taken a look at these before.\n\n174\n00:09:05.680 --> 00:09:08.930\nYou could go out and just simply\nsearch out here, for that matter, and\n\n175\n00:09:08.930 --> 00:09:12.090\nprobably find information\nout about it as well.\n\n176\n00:09:12.090 --> 00:09:18.106\nIf we just typed it in,\nand did the set.netteredo,\n\n177\n00:09:18.106 --> 00:09:24.124\nwith one e, configuration cmdlet and\nwe searched,\n\n178\n00:09:24.124 --> 00:09:31.265\nwe would be able to find information\nout about it here as well.\n\n179\n00:09:31.265 --> 00:09:34.090\nYou'll see set.netterredo\nconfiguration right here.\n\n180\n00:09:34.090 --> 00:09:35.360\nWe just follow the link.\n\n181\n00:09:35.360 --> 00:09:37.561\nYou just go out to the Internet,\nyou'll find it, whether or\n\n182\n00:09:37.561 --> 00:09:38.608\nnot you look it up directly.\n\n183\n00:09:38.608 --> 00:09:41.225\nAnd you'll see you could just\nbring it right up and you could\n\n184\n00:09:41.225 --> 00:09:44.860\nfind the information on it just by doing\na search off that main page we've listed.\n\n185\n00:09:44.860 --> 00:09:48.940\nAll the Net TCP IT module commands\nwe referred to from time to time.\n\n186\n00:09:48.940 --> 00:09:50.150\nYou could certainly see them here.\n\n187\n00:09:50.150 --> 00:09:53.420\nAnd you would just be able to go\nthrough and see all the parameters for\n\n188\n00:09:53.420 --> 00:09:54.470\nconfiguration.\n\n189\n00:09:54.470 --> 00:09:58.631\nBut this is how we would actually bring in\nthe Teredo configuration we want to set\n\n190\n00:09:58.631 --> 00:09:59.980\nit up in PowerShell.\n\n191\n00:09:59.980 --> 00:10:02.730\nThe other thing just to take\na look at here real quick is,\n\n192\n00:10:02.730 --> 00:10:04.970\ncan we go full screen just so\nyou can see the bottom there?\n\n193\n00:10:04.970 --> 00:10:09.950\nYou'll see the address structure for\nTeredo address is a little bit different.\n\n194\n00:10:09.950 --> 00:10:11.194\nIt is IPv6.\n\n195\n00:10:11.194 --> 00:10:12.636\nIt is 128 bit.\n\n196\n00:10:12.636 --> 00:10:13.800\nThat's not the different part.\n\n197\n00:10:13.800 --> 00:10:17.325\nIt's just the way we break down the\naddress and what we specify within it that\n\n198\n00:10:17.325 --> 00:10:19.900\nis different from\na traditional Unicast address.\n\n199\n00:10:19.900 --> 00:10:22.007\nAnd you could see I broke it down for\nyou here.\n\n200\n00:10:22.007 --> 00:10:25.459\nThe first 32 bits are gonna be\nthe Teredo-specific prefix, so\n\n201\n00:10:25.459 --> 00:10:28.676\nall Teredo addresses start\noff with 2001::, right?\n\n202\n00:10:28.676 --> 00:10:31.990\n32 bits of the 128 bits specified.\n\n203\n00:10:31.990 --> 00:10:35.090\nThe Teredo server IPv4\naddress is the next 32 bit\n\n204\n00:10:35.090 --> 00:10:38.210\nblock that will identify\nthe server that's being used.\n\n205\n00:10:38.210 --> 00:10:41.620\nOptions are then the next 16 bits,\nassuming that you're specifying them,\n\n206\n00:10:41.620 --> 00:10:45.840\nwhether we're behind a client is behind\nthe NAT server or not, or where it is.\n\n207\n00:10:45.840 --> 00:10:49.870\nObscured external ports,\nnext 16 bits, the NAT device has to\n\n208\n00:10:49.870 --> 00:10:54.170\nuse this to prevent NAT from\ntranslating or be told what to do.\n\n209\n00:10:54.170 --> 00:10:56.670\nSo it knows what it can and\ncan't translate.\n\n210\n00:10:56.670 --> 00:10:58.940\nAnd then obscured external IP address,\n\n211\n00:10:58.940 --> 00:11:03.400\nthe last 32 bits of the address block,\nthis is the NAT device's external IP\n\n212\n00:11:03.400 --> 00:11:06.090\nthat's obscured to prevent\nNAT from translating that.\n\n213\n00:11:06.090 --> 00:11:10.172\nSo we're specifying certain things that\nthe NAT server needs to be aware of, but\n\n214\n00:11:10.172 --> 00:11:13.067\nmay or may not be able to use\nas part of its communication.\n\n215\n00:11:13.067 --> 00:11:17.193\nAnd we have to be detailed about that in\nthe address structure so it understands,\n\n216\n00:11:17.193 --> 00:11:21.280\nit being the Teredo client, understands\nhow to work with the NAT environment.\n\n217\n00:11:21.280 --> 00:11:25.910\nAnd so the last 64 bits,\njust highlighting it kinda here,\n\n218\n00:11:25.910 --> 00:11:30.260\nbroken up into three distinct blocks are\nreally given over to that configuration.\n\n219\n00:11:30.260 --> 00:11:38.020\nThe first 64 bits right here identify\nthe Teredo setup, the specific prefix and\n\n220\n00:11:38.020 --> 00:11:40.730\nthe address of the server that\nwe're actually going to, right?\n\n221\n00:11:40.730 --> 00:11:42.790\nSo it's a little bit of\na different structure for\n\n222\n00:11:42.790 --> 00:11:46.776\nthe Unicast address that we would see\nnormally in a traditional IPv6 address.\n\n223\n00:11:46.776 --> 00:11:50.366\nSo it may be important just to\nknow how that's broken down.\n\n224\n00:11:50.366 --> 00:11:53.880\nPerhaps a testable item at some point,\nyou never know.\n\n225\n00:11:53.880 --> 00:11:57.410\nChanges or modifications to\nthe overall address block structure,\n\n226\n00:11:57.410 --> 00:11:59.590\nmaybe good testable items in\nthe sense that we may say hey,\n\n227\n00:11:59.590 --> 00:12:03.350\nyou know that Teredo block is\nset up a little bit differently.\n\n228\n00:12:03.350 --> 00:12:06.410\nWhat may be the five different blocks,\nhow are they configured?\n\n229\n00:12:06.410 --> 00:12:08.350\nWhat does the options obscure,\n\n230\n00:12:08.350 --> 00:12:11.480\nthe options block or\nobscured external port block represent?\n\n231\n00:12:11.480 --> 00:12:14.340\nYou may be asked to pull\nthat definition out.\n\n232\n00:12:14.340 --> 00:12:15.856\nThere's a lot of different ways I could\nenvision potentially talking about this.\n\n233\n00:12:15.856 --> 00:12:19.075\n&gt;&gt; Just like those other addresses\nthat you've noted as well.\n\n234\n00:12:19.075 --> 00:12:20.970\n&gt;&gt; Yeah-\n&gt;&gt; Like with the 6to4 being\n\n235\n00:12:20.970 --> 00:12:24.830\nable to identify what type of\ntechnology is being utilized there.\n\n236\n00:12:24.830 --> 00:12:27.500\n&gt;&gt; Yeah, so it would just be good\ninformation to be aware of, right,\n\n237\n00:12:27.500 --> 00:12:28.365\njust in that respect.\n\n238\n00:12:28.365 --> 00:12:31.370\nAnd very last little tidbit of information\nI wanna throw out there is this thing\n\n239\n00:12:31.370 --> 00:12:33.890\ncalled PortProxy as you can see here.\n\n240\n00:12:33.890 --> 00:12:37.586\nThis allows applications that don't\nsupport IPv6 to be able to be\n\n241\n00:12:37.586 --> 00:12:41.815\nIPv6 friendly in the sense of being\nable to communicate with an IPv6 host.\n\n242\n00:12:41.815 --> 00:12:46.732\nSo the PortProxy service is turned on on\nthe server where the app will be running,\n\n243\n00:12:46.732 --> 00:12:51.578\nand incoming IPv6 packets are translated\ninto IPv4, passed over to the app,\n\n244\n00:12:51.578 --> 00:12:56.765\nthey do their stuff and interact coming\nout the other way that translated back.\n\n245\n00:12:56.765 --> 00:13:00.335\nSo this is literally, and this is not,\nlet me be clear of this analogy.\n\n246\n00:13:00.335 --> 00:13:02.865\nAnalogy's a big thing for us, so\nlet me throw mine out there and\n\n247\n00:13:02.865 --> 00:13:05.110\nthen translate into Cherokee analogy.\n\n248\n00:13:05.110 --> 00:13:08.327\nBut this is like and\nthis is not what he does.\n\n249\n00:13:08.327 --> 00:13:09.366\nI wanna be clear.\n\n250\n00:13:09.366 --> 00:13:10.880\nThis is not functioning as a modem.\n\n251\n00:13:10.880 --> 00:13:13.517\nI'm using the modem simply as an example,\nright?\n\n252\n00:13:13.517 --> 00:13:14.980\nA analogy.\n\n253\n00:13:14.980 --> 00:13:18.850\nThis is translating back and\nforth, modems traditionally,\n\n254\n00:13:18.850 --> 00:13:21.120\nif you're familiar with what a modem did,\nright?\n\n255\n00:13:21.120 --> 00:13:22.640\nModulation, demodulation.\n\n256\n00:13:22.640 --> 00:13:25.599\nWhat a modem does, translate analog\nto digital, digital to analog,\n\n257\n00:13:25.599 --> 00:13:26.570\nback and forth.\n\n258\n00:13:26.570 --> 00:13:31.155\nIt acts as a bridge between two distinctly\ndifferent kinds of transmissions, and\n\n259\n00:13:31.155 --> 00:13:34.013\nexplains them and\ntranslates them back and forth so\n\n260\n00:13:34.013 --> 00:13:37.390\nwe go from an analog to\na digital signal and back again.\n\n261\n00:13:37.390 --> 00:13:39.630\nThat's what a modem did traditionally for\nus.\n\n262\n00:13:39.630 --> 00:13:42.280\nThe PortProxy acts like\nthis in one respect.\n\n263\n00:13:42.280 --> 00:13:45.420\nIt translates IPv6 to IPv4.\n\n264\n00:13:45.420 --> 00:13:49.970\nSo IPv4 applications that\ndon't understand IPv6\n\n265\n00:13:49.970 --> 00:13:54.812\ncan actually interact and understands,\nor is able to understand the traffic.\n\n266\n00:13:54.812 --> 00:13:57.350\nIt's really, as the name implies,\nit's a proxy.\n\n267\n00:13:57.350 --> 00:14:00.330\nIt's just simply proxying\nthe traffic back and forth.\n\n268\n00:14:00.330 --> 00:14:04.100\nAnd part of what proxies do\nis this translation idea or\n\n269\n00:14:04.100 --> 00:14:07.010\nthis obfuscation of\ntraffic on either side,\n\n270\n00:14:07.010 --> 00:14:10.630\nso that we're not able to fully see and\nunderstand it, but we are able to interact\n\n271\n00:14:10.630 --> 00:14:13.750\nwith it with some sort of device in\nthe middle that helps us to translate it.\n\n272\n00:14:13.750 --> 00:14:15.880\nSo that's what it is and what it does.\n\n273\n00:14:15.880 --> 00:14:18.150\nI just wanna make sure we're\naware of the logic there,\n\n274\n00:14:18.150 --> 00:14:23.530\nand then we have a sense of how\nPortProxy is designed to function.\n\n275\n00:14:23.530 --> 00:14:25.770\nIt is, and I just have some\nlimitations down at the bottom,\n\n276\n00:14:25.770 --> 00:14:27.110\nlet's just throw them up so\nyou can see them.\n\n277\n00:14:27.110 --> 00:14:28.360\nCan we just go full screen?\n\n278\n00:14:28.360 --> 00:14:30.050\nCuz I can't, yeah,\nI can't bring that bottom one up.\n\n279\n00:14:30.050 --> 00:14:31.240\nIt's all the way at the bottom.\n\n280\n00:14:31.240 --> 00:14:34.290\nSo it is only for\nTCP connections, as you can see.\n\n281\n00:14:34.290 --> 00:14:37.640\nAnything that uses UDP is not\ngonna be able to leverage this.\n\n282\n00:14:37.640 --> 00:14:39.310\nAnd we're not gonna restart now, but\n\n283\n00:14:39.310 --> 00:14:41.340\nwe'll just click there just\nto make sure we know that.\n\n284\n00:14:42.460 --> 00:14:44.520\nAnd we cannot change address information,\n\n285\n00:14:44.520 --> 00:14:47.200\nas you see, embedded in\nthe data portion of the packet.\n\n286\n00:14:47.200 --> 00:14:48.380\nSo we do have some limitations.\n\n287\n00:14:48.380 --> 00:14:53.650\nReally, the proxy is just dealing with the\naddressing portion of the package back and\n\n288\n00:14:53.650 --> 00:14:55.630\nforth translating that, so\n\n289\n00:14:55.630 --> 00:15:00.120\nit's available to us and we understand\nhow to be able to work with the traffic.\n\n290\n00:15:00.120 --> 00:15:04.070\nBut we're not actually manipulating or\nmodifying, right, that information.\n\n291\n00:15:04.070 --> 00:15:05.920\nWe're just making sure\nit's available to us.\n\n292\n00:15:05.920 --> 00:15:07.680\nSo limited to TCP only.\n\n293\n00:15:07.680 --> 00:15:09.040\nJust make sure you're aware of that.\n\n294\n00:15:09.040 --> 00:15:12.176\nSo anything that runs on UDP would\nnot be able to leverage this,\n\n295\n00:15:12.176 --> 00:15:13.308\nright, but just TCP.\n\n296\n00:15:13.308 --> 00:15:17.074\nSo just wanna make sure we know that\nas part of our conversation for\n\n297\n00:15:17.074 --> 00:15:18.380\nwhat PortProxy does.\n\n298\n00:15:18.380 --> 00:15:19.906\nBut having said that, right, and\n\n299\n00:15:19.906 --> 00:15:22.530\njust making sure that we're just\ncomfortable with that we've gone through.\n\n300\n00:15:22.530 --> 00:15:27.070\nWe've taken a look at how to finish\nthe configuration on the 6to4 adapter.\n\n301\n00:15:27.070 --> 00:15:28.638\nAnd we've also just talked\nabout how to set up,\n\n302\n00:15:28.638 --> 00:15:32.630\nreally show you the idea behind\nsetting up the Teredo solution.\n\n303\n00:15:32.630 --> 00:15:35.449\nWe didn't actually configure it, but\nyou could see using this command that it\n\n304\n00:15:35.449 --> 00:15:37.350\nwouldn't to difficult to go in and\ndo that.\n\n305\n00:15:37.350 --> 00:15:39.610\nAnd we threw in some\ninformation about PortProxy for\n\n306\n00:15:39.610 --> 00:15:43.830\nyou just to finish up our\nconversations here around IPv6,\n\n307\n00:15:43.830 --> 00:15:48.370\nholistic kind of system overview\nof IPv6 support end-to-end.\n\n308\n00:15:48.370 --> 00:15:50.140\nAnd I think that is probably about it,\n\n309\n00:15:50.140 --> 00:15:52.250\ncuz that's everything we have\nto talk about with IPv6.\n\n310\n00:15:52.250 --> 00:15:52.990\n&gt;&gt; It really is.\n\n311\n00:15:52.990 --> 00:15:53.740\nGood job, Adam.\n\n312\n00:15:53.740 --> 00:15:54.940\nAnd thank you for joining us.\n\n313\n00:15:54.940 --> 00:15:55.650\nBut stay tuned.\n\n314\n00:15:55.650 --> 00:15:57.809\nWe're going to be diving\ninto DNS in the next-\n\n315\n00:15:57.809 --> 00:15:59.140\n&gt;&gt; Not digging into DNS?\n\n316\n00:15:59.140 --> 00:16:00.150\n&gt;&gt; Digging into DNS.\n\n317\n00:16:00.150 --> 00:16:00.938\n&gt;&gt; Digging into DNS.\n\n318\n00:16:00.938 --> 00:16:01.553\n&gt;&gt; Yeah.\n\n319\n00:16:01.553 --> 00:16:04.977\n[LAUGH] All right,\nenough of the cheesy jokes cuz Adam,\n\n320\n00:16:04.977 --> 00:16:07.963\nI'm sure he's probably\nsick of hearing that.\n\n321\n00:16:07.963 --> 00:16:10.410\n&gt;&gt; Never, never.\n&gt;&gt; [LAUGH] But stay tuned.\n\n322\n00:16:10.410 --> 00:16:11.745\nRemember I'm your host, Cherokee Boose.\n\n323\n00:16:11.745 --> 00:16:12.701\n&gt;&gt; I'm Adam Gordon.\n\n324\n00:16:12.701 --> 00:16:14.469\n&gt;&gt; See you next time here at ITProTV.\n\n325\n00:16:16.037 --> 00:16:21.953\n[MUSIC]\n\n326\n00:16:21.953 --> 00:16:28.534\nThank you for watching ITProTV.\n\n",
          "vimeoId": "217177988"
        }
      ],
      "title": "Implementing IPv6"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam introduce Domain Name System (DNS). Adam walks us through the process of how one can enter a Fully Qualified Domain Name (FQDN)  and have that address resolve to the associated IP address. They also cover basics such as zones, records and PowerShell Cmdlets.",
          "length": "1947",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-1-implementing_dns-051017-PGM.00_00_11_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-1-implementing_dns-051017-PGM.00_00_11_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-1-implementing_dns-051017-PGM.00_00_11_22.Still001-sm.jpg",
          "title": "Implementing DNS",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:01.302\nWelcome to ITProTV.\n\n2\n00:00:01.302 --> 00:00:02.390\nI'm your host, Don Pezet.\n\n3\n00:00:02.390 --> 00:00:06.804\n[CROSSTALK]\n\n4\n00:00:06.804 --> 00:00:08.342\n[MUSIC]\n\n5\n00:00:08.342 --> 00:00:12.334\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.334 --> 00:00:15.819\n&gt;&gt; Welcome to your Networking\nwith Windows Server 2016 series.\n\n7\n00:00:15.819 --> 00:00:18.034\nI'm your show host Cherokee Boose.\n\n8\n00:00:18.034 --> 00:00:22.055\nIn this episode we'll be\ntalking about implementing DNS.\n\n9\n00:00:22.055 --> 00:00:24.675\nWith us today back in studios,\nwe have Mr. Adam Gordon.\n\n10\n00:00:24.675 --> 00:00:26.572\nThank you for joining us today, Adam.\n\n11\n00:00:26.572 --> 00:00:28.450\n&gt;&gt; Thank you,\nalways a pleasure to be here.\n\n12\n00:00:28.450 --> 00:00:32.922\nWe're going to talk about DNS, really\nstart talking about DNS in Server 16.\n\n13\n00:00:32.922 --> 00:00:35.127\nThe good news,\njust like we talked about with IPv4,\n\n14\n00:00:35.127 --> 00:00:37.342\nif you remember seeing some\nof these early episodes.\n\n15\n00:00:37.342 --> 00:00:40.112\nIf you haven't, I always encourage\nyou to go back, take a look, but\n\n16\n00:00:40.112 --> 00:00:44.780\nthe good news is that most of what we\nknow about DNS really hasn't changed.\n\n17\n00:00:44.780 --> 00:00:45.920\nThere are some new features.\n\n18\n00:00:45.920 --> 00:00:47.690\nThere are some new things\nwe could talk about.\n\n19\n00:00:47.690 --> 00:00:51.290\nDNS policies, things of that nature,\nthat may be of interest to us, and so\n\n20\n00:00:51.290 --> 00:00:55.690\nwe'll take a look, but the overarching\nthought process around how name resolution\n\n21\n00:00:55.690 --> 00:01:00.060\nworks with DNS, all the ideas\nbehind the DNS server commandments.\n\n22\n00:01:00.060 --> 00:01:01.620\nFor the most part there\nare a few new ones.\n\n23\n00:01:01.620 --> 00:01:04.740\nBut traditionally almost all of them\nare going to be ones we've seen,\n\n24\n00:01:04.740 --> 00:01:09.730\nperhaps from server 12, 12 R2,\nthe use of the DNS management console.\n\n25\n00:01:09.730 --> 00:01:12.520\nAll of that stuff is going to look and\nfeel pretty much the same.\n\n26\n00:01:12.520 --> 00:01:15.410\nSo that part I guess is hopefully\na little bit comforting for\n\n27\n00:01:15.410 --> 00:01:17.720\nthose of you that already have\nsome background with DNS.\n\n28\n00:01:17.720 --> 00:01:20.280\nBut for those of you that\nmay need a little refresher,\n\n29\n00:01:20.280 --> 00:01:22.670\nthought we'd start out with\nsomething kind of cool.\n\n30\n00:01:22.670 --> 00:01:24.860\nSomething unusual we don't see everyday.\n\n31\n00:01:24.860 --> 00:01:27.904\nHow many of you have seen\na DNS server comic book?\n\n32\n00:01:27.904 --> 00:01:30.110\nHow does DNS work and how does that work?\n\n33\n00:01:30.110 --> 00:01:32.066\nI had never seen one until I went out and\nlooked for\n\n34\n00:01:32.066 --> 00:01:35.311\nsome interesting resources to put it in\nthe show notes and make available to you,\n\n35\n00:01:35.311 --> 00:01:37.650\nshared it with Cherokee while she was-\n&gt;&gt; That was the first time\n\n36\n00:01:37.650 --> 00:01:38.280\nI had ever seen one.\n\n37\n00:01:38.280 --> 00:01:39.470\n[LAUGH]\n&gt;&gt; Also blown away by it,\n\n38\n00:01:39.470 --> 00:01:40.300\nnever seen it before.\n\n39\n00:01:40.300 --> 00:01:44.150\nSo we thought we'd show it to you, but use\nit just to kind of start our conversation\n\n40\n00:01:44.150 --> 00:01:47.800\naround how does DNS actually work,\nwhat are the name resolution steps.\n\n41\n00:01:47.800 --> 00:01:52.990\nSo take a look on my screen here,\nyou'll see that we have our How DNS works,\n\n42\n00:01:52.990 --> 00:01:58.420\nfun and colorful explanation as\nthey point out on the website here.\n\n43\n00:01:58.420 --> 00:02:02.812\nBut How DNS Works the comic book it's\nactually kinda neat, you could just go in,\n\n44\n00:02:02.812 --> 00:02:06.948\nand just to the How DNS.works website and\nyou can actually start reading and\n\n45\n00:02:06.948 --> 00:02:11.166\ntake a look at it, you can flip through\nthe thing, couple of the pages there.\n\n46\n00:02:11.166 --> 00:02:11.877\n&gt;&gt; Cool graphics.\n\n47\n00:02:11.877 --> 00:02:12.585\n&gt;&gt; Neat, right?\n\n48\n00:02:12.585 --> 00:02:13.384\n&gt;&gt; Yeah, good information.\n\n49\n00:02:13.384 --> 00:02:14.687\n&gt;&gt; It was kind of cool\n&gt;&gt; You may,\n\n50\n00:02:14.687 --> 00:02:17.288\nwe're going to just talk through the\nresolution steps, we'll just kind of keep\n\n51\n00:02:17.288 --> 00:02:19.300\nthis up as a background graphic for\na minute while we do that.\n\n52\n00:02:19.300 --> 00:02:20.820\nBut encourage you to go out and\n\n53\n00:02:20.820 --> 00:02:25.150\ntake a look if you need perhaps either\na little primer and or just a thought\n\n54\n00:02:25.150 --> 00:02:30.115\nprocess that may help you to understand\nit with some pictures and some graphics.\n\n55\n00:02:30.115 --> 00:02:33.120\nIt'll help you just to get a sense of\nhow that works, may be worth while.\n\n56\n00:02:33.120 --> 00:02:35.970\nBut let's talk about\nthe DNS resolution process.\n\n57\n00:02:35.970 --> 00:02:37.469\nThere's several steps involved.\n\n58\n00:02:38.710 --> 00:02:42.150\nI traditionally think of it as being\na six step process, you may have more or\n\n59\n00:02:42.150 --> 00:02:45.440\nless steps to go, just depends on\nhow many steps you group together or\n\n60\n00:02:45.440 --> 00:02:47.300\nyou explain the process.\n\n61\n00:02:47.300 --> 00:02:51.300\nBut when we think about the process it\ngoes roughly something like this right,\n\n62\n00:02:51.300 --> 00:02:55.120\nstep one we have an end user\nsitting on a client machine.\n\n63\n00:02:55.120 --> 00:02:59.191\nLet's say it's myself sitting here\non this machine attempting to get\n\n64\n00:02:59.191 --> 00:03:01.336\nto the How DNS Works comic book site.\n\n65\n00:03:01.336 --> 00:03:05.660\nI want to ask a question using an\napplication, in this case a web browser.\n\n66\n00:03:05.660 --> 00:03:09.590\nTo go out and find a resource, and I have\nto walk through that process step by step.\n\n67\n00:03:09.590 --> 00:03:11.410\nAnd so the end-user makes a request for\n\n68\n00:03:11.410 --> 00:03:15.250\nname resolution through some sort\nof application that will support\n\n69\n00:03:15.250 --> 00:03:18.855\nthe use of that, and provide an\napplication or a service back ultimately.\n\n70\n00:03:18.855 --> 00:03:22.785\nAnd we do a look up essentially,\nright, to get this information and\n\n71\n00:03:22.785 --> 00:03:26.315\nwe look up against, starting with\nour locally available information,\n\n72\n00:03:26.315 --> 00:03:29.655\nultimately ending up out on\nthe web through the DNS service.\n\n73\n00:03:29.655 --> 00:03:33.615\nWe look up to see whether we have\nknowledge of this, so if our address is\n\n74\n00:03:33.615 --> 00:03:38.730\nhowdns.works, I'm looking for\nhowdns.works locally first,\n\n75\n00:03:38.730 --> 00:03:43.180\nand then ultimately I'm gonna go to\nmy IP configuration and look for\n\n76\n00:03:43.180 --> 00:03:47.630\nmy DNS entry or entries if I have more\nthan one server, maybe a primary and\n\n77\n00:03:47.630 --> 00:03:49.560\nor alternate or alternates,\nI could have several.\n\n78\n00:03:49.560 --> 00:03:51.400\nAnd I'm going to start\nthe resolution process.\n\n79\n00:03:51.400 --> 00:03:58.840\nSo when we say we look locally first, what\nwe're actually doing is the following.\n\n80\n00:03:58.840 --> 00:04:03.110\nLet me just do this and\njust open up a run line real quick and\n\n81\n00:04:03.110 --> 00:04:07.735\nif we go into our command prompt on\na server 10, server 10, that would be new.\n\n82\n00:04:07.735 --> 00:04:09.708\n&gt;&gt; [LAUGH]\n&gt;&gt; On a Windows 10 machine like I'm doing\n\n83\n00:04:09.708 --> 00:04:12.230\nhere or on the equivalent,\non a Sever 16 machine.\n\n84\n00:04:12.230 --> 00:04:15.870\nRemember, for basic stuff like just using\na command line, showing you a basic\n\n85\n00:04:15.870 --> 00:04:20.748\ncommand to take a look, in this case, the\nDNS resolver cache, ipconfig displaydns.\n\n86\n00:04:20.748 --> 00:04:24.340\nThat's going to look identical, whether\nwe do it on Server 16 or Windows 10.\n\n87\n00:04:24.340 --> 00:04:27.880\nSo one versus the other in this\nparticular case, it's the same.\n\n88\n00:04:27.880 --> 00:04:30.121\nWe're looking at the same interface,\nreally no difference there.\n\n89\n00:04:30.121 --> 00:04:34.195\nSo, when we go and we talk about being\nable to resolve or do a look up locally,\n\n90\n00:04:34.195 --> 00:04:36.570\nwe're talking about two distinct things.\n\n91\n00:04:36.570 --> 00:04:39.886\nWe're going to look in our DNS resolver\ncache, we're going to look locally,\n\n92\n00:04:39.886 --> 00:04:41.825\nsee what's already available to us.\n\n93\n00:04:41.825 --> 00:04:45.350\nWhat we have knowledge of because\nof prior resolution attempts or\n\n94\n00:04:45.350 --> 00:04:49.150\nprior information that's been provided\nto us in one or more forms and\n\n95\n00:04:49.150 --> 00:04:50.670\nwe see that cached for a period of time.\n\n96\n00:04:50.670 --> 00:04:52.990\nI'll remind you of how to do\nthat here in just a minute.\n\n97\n00:04:52.990 --> 00:04:55.557\nWe're also going to take a look at,\nor we would look at,\n\n98\n00:04:55.557 --> 00:04:58.358\nthe host file if we have any\nentries in our host file locally.\n\n99\n00:04:58.358 --> 00:05:01.470\nMost systems will not use the host\nfile even though it's there.\n\n100\n00:05:01.470 --> 00:05:02.954\nIt is always part of what we do, but\n\n101\n00:05:02.954 --> 00:05:06.663\nusually you don't have a lot of entries in\nthere right, so it's not going to be used.\n\n102\n00:05:06.663 --> 00:05:09.718\nOr what I should say is we'll query it but\nwe don't see anything of are there any\n\n103\n00:05:09.718 --> 00:05:13.425\ninterests there that matches what we're\nlooking for, and we tend to then move on.\n\n104\n00:05:13.425 --> 00:05:16.725\nWe do happen to have something\nin the host file or happen to\n\n105\n00:05:16.725 --> 00:05:20.555\nhave something in our local resolve for\ncache, we would use that reference and\n\n106\n00:05:20.555 --> 00:05:23.225\nthen go out and\nattempt to look up to find the website.\n\n107\n00:05:23.225 --> 00:05:26.045\nIn this case whatever we're looking for\nand see if we could resolve it.\n\n108\n00:05:26.045 --> 00:05:28.110\nNow this is both good and bad.\n\n109\n00:05:28.110 --> 00:05:32.760\nThis is good because it saves us time and\nit makes the DNS process run very\n\n110\n00:05:32.760 --> 00:05:36.930\nquickly and optimizes it if\nwe have information locally.\n\n111\n00:05:36.930 --> 00:05:39.630\nWhy go remote when we can shop\nlocally in other words, right?\n\n112\n00:05:39.630 --> 00:05:43.700\nThink about that, but the bad side\nto this potentially is, hackers and\n\n113\n00:05:43.700 --> 00:05:45.540\nbad actors know about this behavior.\n\n114\n00:05:45.540 --> 00:05:49.530\nThis is common, this is the way DNS has\nworked forever in a day and if they can\n\n115\n00:05:49.530 --> 00:05:53.590\nmanipulate or modify entries, either\nin this resolver cache that we're about\n\n116\n00:05:53.590 --> 00:05:57.970\nto talk about and take a look at through\nwhat's called a DNS cache poisoning or\n\n117\n00:05:57.970 --> 00:06:03.060\ncache pollution attack, depends on\nwhat you're doing and how you do it.\n\n118\n00:06:03.060 --> 00:06:05.817\nBut if they can manipulate or\nmodify entries here, or\n\n119\n00:06:05.817 --> 00:06:10.108\nalthough it's not often done, we don't\noften modify the host's file in theory to\n\n120\n00:06:10.108 --> 00:06:12.884\nbe able to attempt an attack or\nredirect resolution.\n\n121\n00:06:12.884 --> 00:06:15.116\nBut if we did modify\nentries in a host file,\n\n122\n00:06:15.116 --> 00:06:19.335\nwe would potentially be able to redirect\nthat resolution from the client to a site\n\n123\n00:06:19.335 --> 00:06:21.645\nthat's controlled by a bad actor, right?\n\n124\n00:06:21.645 --> 00:06:24.825\nAnd this could potentially,\nobviously, cause confusion and\n\n125\n00:06:24.825 --> 00:06:28.076\nmaybe even, ultimately,\na lead to the box being compromised.\n\n126\n00:06:28.076 --> 00:06:31.860\nSo just want to think about the fact\nthat while we're really focusing here\n\n127\n00:06:31.860 --> 00:06:36.690\non the process, the methodology,\nthe steps, the just nuts and\n\n128\n00:06:36.690 --> 00:06:38.690\nbolts about how DNS resolution works,\n\n129\n00:06:38.690 --> 00:06:41.260\nwe do want to have that broader context\nof the fact that there are some\n\n130\n00:06:41.260 --> 00:06:44.370\nsecurity concerns even though it's not\nthe primary focus of what we're doing.\n\n131\n00:06:44.370 --> 00:06:46.870\nLet me bring Bring this up, because\nCherokee wanted to say something and\n\n132\n00:06:46.870 --> 00:06:50.410\nwhile I'm just bringing up the resolver\ncache we can hear from Miss Cherokee.\n\n133\n00:06:50.410 --> 00:06:53.910\n&gt;&gt; So Adam you actually just covered my\npoint about that host file being modified\n\n134\n00:06:53.910 --> 00:06:58.480\nby malware because that can happen and\nit is very seldomly used.\n\n135\n00:06:58.480 --> 00:07:00.050\nI've legitimately used it one time.\n\n136\n00:07:00.050 --> 00:07:03.040\nAnd that particular issue is pretty\nrare as where an individual had\n\n137\n00:07:04.360 --> 00:07:08.140\nincorrectly registered their\ndomain name with the registrar.\n\n138\n00:07:08.140 --> 00:07:10.850\nSo as a temporary fix until they\ncan get in touch with them and\n\n139\n00:07:10.850 --> 00:07:11.810\nhave it all sorted out.\n\n140\n00:07:11.810 --> 00:07:12.970\n&gt;&gt; Overrode that essentially, right?\n\n141\n00:07:12.970 --> 00:07:14.300\n&gt;&gt; To over write it.\n&gt;&gt; This is a manual configuration.\n\n142\n00:07:14.300 --> 00:07:14.940\n&gt;&gt; In the meantime.\nBut\n\n143\n00:07:14.940 --> 00:07:17.390\nalso, what,\nit doesn't always have to be malware, too.\n\n144\n00:07:17.390 --> 00:07:21.330\nIf there are changes,\ndifferent IP addresses,\n\n145\n00:07:21.330 --> 00:07:24.590\nthen this could also be a problem if you\nare retaining that information locally and\n\n146\n00:07:24.590 --> 00:07:27.280\nyou might want to flush it out if you're\ndealing with some kind of dynamic\n\n147\n00:07:27.280 --> 00:07:29.270\nchange there with that IP address.\n\n148\n00:07:29.270 --> 00:07:33.760\n&gt;&gt; So you would absolutely and we since\nyou mentioned flushing out the DNS cache,\n\n149\n00:07:33.760 --> 00:07:37.240\nwe're not going to do that just now\nbecause that would obviously cause me some\n\n150\n00:07:37.240 --> 00:07:40.500\nproblems with all the websites and things\nI have loaded up and stuff we're doing in\n\n151\n00:07:40.500 --> 00:07:43.720\nthe discussion, but the command\nwould just be IP config flush DNS,\n\n152\n00:07:43.720 --> 00:07:47.650\nis supposed to display DNS and that\nwould let us clear that resolver cache.\n\n153\n00:07:47.650 --> 00:07:50.890\nAnd you can see that I've got\na bunch of stuff that's in here just\n\n154\n00:07:50.890 --> 00:07:54.060\nliterally went scrolling\nby while I set it up.\n\n155\n00:07:54.060 --> 00:07:57.453\nYou can see all the different web sites\nthat I've gone out and resolved and\n\n156\n00:07:57.453 --> 00:07:58.395\nhave knowledge of.\n\n157\n00:07:58.395 --> 00:07:59.542\nAs I go down here,\n\n158\n00:07:59.542 --> 00:08:04.515\nthere's how DNS works right there and\nso we're looking at records for that.\n\n159\n00:08:04.515 --> 00:08:07.486\nTo be able to bring that site up so\nremember I have it loaded right here and\n\n160\n00:08:07.486 --> 00:08:11.100\nhave all the websites we're gonna talk\nabout just kind of teed up as I often do.\n\n161\n00:08:11.100 --> 00:08:12.830\nSo we have information about that.\n\n162\n00:08:12.830 --> 00:08:16.770\nWe get back, you know,\na record information type, a time to live,\n\n163\n00:08:16.770 --> 00:08:18.770\nwe talked about the importance of before.\n\n164\n00:08:18.770 --> 00:08:24.520\nWe see the host record with the IP address\nthat helps us to resolve this URL or\n\n165\n00:08:24.520 --> 00:08:27.810\nin this case, this fully qualified\ndomain name, address, how DNS works or\n\n166\n00:08:27.810 --> 00:08:28.910\nwhatever it maybe.\n\n167\n00:08:28.910 --> 00:08:30.270\nSo we've all that information there.\n\n168\n00:08:30.270 --> 00:08:32.740\nThis is step one in the process, right?\n\n169\n00:08:32.740 --> 00:08:34.970\nSo we would get this information.\n\n170\n00:08:34.970 --> 00:08:37.260\nWe could have to clear that\nif we did the flush DNS.\n\n171\n00:08:37.260 --> 00:08:39.900\nWe're not gonna do that,\nbut just to remind you, and\n\n172\n00:08:39.900 --> 00:08:42.900\nI've done this prior episodes,\nbut just to remind you,\n\n173\n00:08:42.900 --> 00:08:46.270\nif you're not familiar with any of\nour commands that we're looking at,\n\n174\n00:08:46.270 --> 00:08:49.615\nipconfig in this case, whatever the\ncommand maybe, it doesn't really matter.\n\n175\n00:08:49.615 --> 00:08:53.370\nYou don't be afraid to go and look in the\nhelp file as we often talked about, and\n\n176\n00:08:53.370 --> 00:08:56.080\nsee what you can do with it,\nand experiment a little bit.\n\n177\n00:08:56.080 --> 00:08:59.360\nYou're not gonna hurt your machine\nby flushing the DNS resolver cache.\n\n178\n00:08:59.360 --> 00:09:03.000\nYou're just gonna have to go out and\nspend an extra couple of milliseconds.\n\n179\n00:09:03.000 --> 00:09:06.660\nDo a name resolution, refresh all that as\nyou go surf the web again after you do it.\n\n180\n00:09:06.660 --> 00:09:09.850\nBut if you wanna do it and see what's in\nthere, you'll go out and bring up three or\n\n181\n00:09:09.850 --> 00:09:10.850\nfour webpages.\n\n182\n00:09:10.850 --> 00:09:14.570\nAnd then, do an IP config display DNS,\nso you could see what's there.\n\n183\n00:09:14.570 --> 00:09:17.890\nAnd then do a Flush DNS, and you'll\nsee there clearly is a resolver cache.\n\n184\n00:09:17.890 --> 00:09:19.700\nYou'll understand how that process works.\n\n185\n00:09:19.700 --> 00:09:22.390\nBut you could see those\ncommands right here.\n\n186\n00:09:22.390 --> 00:09:25.150\nYou can obviously see those switches\nare used with the command and\n\n187\n00:09:25.150 --> 00:09:26.160\nyou could see those options.\n\n188\n00:09:26.160 --> 00:09:27.940\nSo it would be a good idea for\nyou take a took.\n\n189\n00:09:27.940 --> 00:09:30.920\nWe did talk about the fact\nthat you could also go in and\n\n190\n00:09:30.920 --> 00:09:32.480\ntake a look at the host file.\n\n191\n00:09:32.480 --> 00:09:37.140\nAnd the host file would be available\nto you in the system root or\n\n192\n00:09:37.140 --> 00:09:38.290\npercent system root percent.\n\n193\n00:09:38.290 --> 00:09:41.260\nSo typically C Windows,\nmore often than not on a Windows machine.\n\n194\n00:09:41.260 --> 00:09:45.410\nSystem 32 drivers,\nXE drivers slash ETC directory,\n\n195\n00:09:45.410 --> 00:09:46.570\nand you would see the file there.\n\n196\n00:09:46.570 --> 00:09:50.390\nIt's a text file, you just bring it up and\nyou can see the information that may or\n\n197\n00:09:50.390 --> 00:09:51.540\nmay not be contained there.\n\n198\n00:09:51.540 --> 00:09:53.390\nTypically your loop back\nadaptor's the only thing\n\n199\n00:09:53.390 --> 00:09:54.870\nyou're gonna find in\nthere that's referenced.\n\n200\n00:09:54.870 --> 00:09:58.250\nOther than that, unless,\nCherokee said, maybe you go in and\n\n201\n00:09:58.250 --> 00:10:02.160\ntypically modify a configuration\nsetting in lewd of a fix for\n\n202\n00:10:02.160 --> 00:10:05.700\nmaybe a few minutes,\nyou may be able to do that.\n\n203\n00:10:05.700 --> 00:10:09.290\nYou'll oftentimes, well we mentioned\nMalware does modify these things,\n\n204\n00:10:09.290 --> 00:10:13.990\nalthough it's probably not going\nto target modifying the host file.\n\n205\n00:10:15.160 --> 00:10:19.380\nA lot of times if you are using software\nand borrowing it without necessarily\n\n206\n00:10:19.380 --> 00:10:24.540\nowning the rights to it properly,\nyou may find that host file management or\n\n207\n00:10:24.540 --> 00:10:27.765\nmanipulation to perhaps\nblock update sites and\n\n208\n00:10:27.765 --> 00:10:31.465\nblock patching and things of that\nnature from a registration prospective.\n\n209\n00:10:31.465 --> 00:10:35.715\nMay actually occur and you may see\nevidence of that if you go take a look.\n\n210\n00:10:35.715 --> 00:10:40.615\nSo when you look at and see modified host\nfiles, you typically are seeing evidence\n\n211\n00:10:40.615 --> 00:10:45.825\nof information management that is taking\nplace to redirect traffic, let's just say.\n\n212\n00:10:45.825 --> 00:10:48.950\nAnd that may or may not be to your\nbenefit depending on what you're doing.\n\n213\n00:10:48.950 --> 00:10:51.680\nSo step one would traditionally\nbe that we'd be looking locally,\n\n214\n00:10:51.680 --> 00:10:53.130\nlooking at this information.\n\n215\n00:10:53.130 --> 00:10:57.510\nStep two, we will then, assuming we\ndon't find resolution locally of course,\n\n216\n00:10:57.510 --> 00:11:01.340\ncuz as I said if we do when we go out and\nwe then able to use that information\n\n217\n00:11:01.340 --> 00:11:04.132\nwe would probably stop right there and\njust go resolve site.\n\n218\n00:11:04.132 --> 00:11:07.910\nBut assuming that we are gonna\ncontinue to have to look,\n\n219\n00:11:07.910 --> 00:11:10.680\nwe'd engage in what we know,\nor what we often think about,\n\n220\n00:11:10.680 --> 00:11:14.480\nas recursion, a recursive query,\nis what we would often talk about.\n\n221\n00:11:14.480 --> 00:11:18.320\nWe only will look, or rather we will\nlook locally and then use that.\n\n222\n00:11:18.320 --> 00:11:22.106\nBut if we don't find the answer locally,\nit's not in our resolver cache,\n\n223\n00:11:22.106 --> 00:11:23.487\nit's not in the host file,\n\n224\n00:11:23.487 --> 00:11:27.053\nwe'll then go out and ask our DNS server,\nas I said kind of in step two.\n\n225\n00:11:27.053 --> 00:11:28.981\nWe would look for our primary DNS server,\n\n226\n00:11:28.981 --> 00:11:32.852\nperhaps an alternate depending on which\none is available, which one we can get to.\n\n227\n00:11:32.852 --> 00:11:37.893\nBut we'll go through the list in our IP\nconfiguration by our adaptor interface,\n\n228\n00:11:37.893 --> 00:11:42.950\nand we'll just simply start hitting those\nIP addresses that are listed for DNS.\n\n229\n00:11:42.950 --> 00:11:45.459\nAnd we'll be sending out\na series of questions.\n\n230\n00:11:45.459 --> 00:11:49.626\nHey Mr. and Mrs. DNS server, do you have\nknowledge of, are you familiar with,\n\n231\n00:11:49.626 --> 00:11:51.968\nsimply would say are you\nauthoritative for?\n\n232\n00:11:51.968 --> 00:11:53.360\nDo you understand how to manage?\n\n233\n00:11:53.360 --> 00:11:57.080\nDo you have knowledge of this particular\narea that I'm looking to resolve,\n\n234\n00:11:57.080 --> 00:11:59.860\nin this case how DNS works websites,\nright?\n\n235\n00:11:59.860 --> 00:12:03.850\nSo I would look for that, and\nwhat will happen with a recursive query is\n\n236\n00:12:03.850 --> 00:12:06.320\nthe DNS server, whichever one\nwe happen to connect with and\n\n237\n00:12:06.320 --> 00:12:10.710\nstart the conversation with, will do\nits own look in its own information.\n\n238\n00:12:10.710 --> 00:12:14.520\nIt will look in the DNS records,\nthe resource records it has in one or\n\n239\n00:12:14.520 --> 00:12:15.450\nmore zone files.\n\n240\n00:12:15.450 --> 00:12:17.990\nIt will say, I do or\ndon't know about that, and\n\n241\n00:12:17.990 --> 00:12:21.100\nit will also look locally in\nits own DNS cache, right?\n\n242\n00:12:21.100 --> 00:12:23.240\nSo it'll look in its\nown information stores.\n\n243\n00:12:23.240 --> 00:12:26.000\nBut again, it will look locally,\nwe always have a preference for\n\n244\n00:12:26.000 --> 00:12:28.210\nlooking locally before we go out globally.\n\n245\n00:12:28.210 --> 00:12:31.860\nThis is the overlying, or\nover arching thought process, we have to\n\n246\n00:12:31.860 --> 00:12:35.850\nreally beat into our heads and remember\nat all times about the DNS resolution.\n\n247\n00:12:35.850 --> 00:12:39.210\nAlways start locally, if we find\nthat answer, that's what we take.\n\n248\n00:12:39.210 --> 00:12:43.260\nOnly go remote if there's no other\noption because that takes extra time and\n\n249\n00:12:43.260 --> 00:12:45.590\nit delays the resolution process,\nit slows us down.\n\n250\n00:12:45.590 --> 00:12:48.930\nSo we'll look locally on the DNS\nserver through a recursive query.\n\n251\n00:12:48.930 --> 00:12:51.300\nIf it tells us that it's\ngonna have that information,\n\n252\n00:12:51.300 --> 00:12:54.430\nit's because it understands it,\nhas a record of it, and is aware of it.\n\n253\n00:12:54.430 --> 00:12:58.040\nIf not, then the DNS Server\nwe talk to goes out and\n\n254\n00:12:58.040 --> 00:12:59.670\nqueries the root name servers.\n\n255\n00:12:59.670 --> 00:13:04.170\nThe root name servers will be queried in\nstep three in kind of our walkthrough.\n\n256\n00:13:04.170 --> 00:13:06.270\nYou may have heard of\nsomething called root hints.\n\n257\n00:13:06.270 --> 00:13:08.700\nYou may have heard of that file or\neven seen that file or\n\n258\n00:13:08.700 --> 00:13:10.100\noccasionally looked at it.\n\n259\n00:13:10.100 --> 00:13:13.630\nMicrosoft puts out updates for\nit every so often all vendors do and\n\n260\n00:13:13.630 --> 00:13:18.140\nyou may download as part of an update\nto the root hints occasionally.\n\n261\n00:13:18.140 --> 00:13:21.978\nThat's just our list of the root servers\nthat are out on the Internet for DNS or\n\n262\n00:13:21.978 --> 00:13:24.461\nout around the world\nscattered across the globe,\n\n263\n00:13:24.461 --> 00:13:26.489\nthey're based on regional geography.\n\n264\n00:13:26.489 --> 00:13:29.669\nThere's so many in North America,\nthere's a couple in Asia, in Europe,\n\n265\n00:13:29.669 --> 00:13:31.495\nthey're just scattered around, right?\n\n266\n00:13:31.495 --> 00:13:33.273\nThere are 13 core root servers,\n\n267\n00:13:33.273 --> 00:13:37.213\nand then there's a mirror topology and\nadditional servers to back that up.\n\n268\n00:13:37.213 --> 00:13:37.942\n&gt;&gt; That's pretty cool.\n\n269\n00:13:37.942 --> 00:13:39.099\n&gt;&gt; And people with guns, and missiles, and\nall sorts of cool stuff to protect them.\n\n270\n00:13:39.099 --> 00:13:41.868\n&gt;&gt; [LAUGH] [CROSSTALK] right?\n\n271\n00:13:41.868 --> 00:13:44.048\n&gt;&gt; Right,\nyeah we often joke around about DNS.\n\n272\n00:13:44.048 --> 00:13:47.650\nBut it seem when you think about what\nmay have happened in the last weeks,\n\n273\n00:13:47.650 --> 00:13:50.410\nmonths, years against the DNS\ninfrastructure globally,\n\n274\n00:13:50.410 --> 00:13:52.010\na lot of attacks that have occurred.\n\n275\n00:13:52.010 --> 00:13:54.170\nYou may be familiar with one or\nmore of them.\n\n276\n00:13:54.170 --> 00:13:56.730\nThere have been several\nspectacular ones in recent memory.\n\n277\n00:13:56.730 --> 00:14:00.793\nBut when you think about how resilient\nthe actual DNS infrastructure is and\n\n278\n00:14:00.793 --> 00:14:05.307\nhow it's built and the fact that you have\nthis global network which is not that big,\n\n279\n00:14:05.307 --> 00:14:06.163\nit is massive.\n\n280\n00:14:06.163 --> 00:14:09.998\nBut if you think about the fact that\nsitting at the top of this thing,\n\n281\n00:14:09.998 --> 00:14:13.968\nthere are 13 main route servers by\nIP address class broken out to deal\n\n282\n00:14:13.968 --> 00:14:15.800\nwith that infrastructure.\n\n283\n00:14:15.800 --> 00:14:18.590\nOf course, there are redundant servers,\nyou know there is lots and\n\n284\n00:14:18.590 --> 00:14:20.310\nlots of infrastructure that supports that.\n\n285\n00:14:20.310 --> 00:14:23.130\nBut as you go down, kind of the hierarchy\nand think about building it out,\n\n286\n00:14:23.130 --> 00:14:26.840\nthis is really nothing more than\njust you know a daisy chained\n\n287\n00:14:26.840 --> 00:14:31.840\nsystem of multiple servers that\nare providing 411 information.\n\n288\n00:14:31.840 --> 00:14:34.730\nThis is like the yellow\npages of the world, right?\n\n289\n00:14:34.730 --> 00:14:39.200\nBut its the most far long and\nmost widely stretched and deployed and\n\n290\n00:14:39.200 --> 00:14:42.480\nmost often used lookup\nsystem in the world.\n\n291\n00:14:42.480 --> 00:14:43.650\nIt has been for decades.\n\n292\n00:14:43.650 --> 00:14:46.630\nI mean, this is what all\nmodern information management\n\n293\n00:14:46.630 --> 00:14:47.660\nsystems are built on.\n\n294\n00:14:47.660 --> 00:14:50.290\nThere would be if you think about\nthis just as startling as it is.\n\n295\n00:14:50.290 --> 00:14:51.780\nPeople don't often stop\nto think about this.\n\n296\n00:14:51.780 --> 00:14:56.090\nThere would be no modern technology,\nthe way we think of it,\n\n297\n00:14:56.090 --> 00:14:59.100\nthe way we use information today,\nDNS didn't exist.\n\n298\n00:14:59.100 --> 00:15:01.472\nI mean, Google, forget about it,\nit's gone, it doesn't exist.\n\n299\n00:15:01.472 --> 00:15:02.824\nGod forbid Facebook goes away, right?\n\n300\n00:15:02.824 --> 00:15:05.690\n&gt;&gt; [LAUGH]\n&gt;&gt; Facebook, Twitter you know what I mean.\n\n301\n00:15:05.690 --> 00:15:10.600\nAll that stuff is just gone, there's no\nway to leverage and use any of that using\n\n302\n00:15:10.600 --> 00:15:14.390\nthe current traditional computing model\nthat we use where we can look things up.\n\n303\n00:15:14.390 --> 00:15:18.480\nAnd do this resolution either forward or\nreverse through look up zones and\n\n304\n00:15:18.480 --> 00:15:21.550\nprovide an address, get an IP and\nprovide an IP and get an address.\n\n305\n00:15:21.550 --> 00:15:24.195\nWe would not be able to do any\nof that if DNS didn't exist.\n\n306\n00:15:24.195 --> 00:15:25.800\nForget about like Newton and Calculus.\n\n307\n00:15:25.800 --> 00:15:26.640\nI mean that was cool, but\n\n308\n00:15:26.640 --> 00:15:28.996\nhe was like a loser compared to\nthe DNS infrastructure, right?\n\n309\n00:15:28.996 --> 00:15:30.625\n&gt;&gt; We couldn't live without Facebook.\n\n310\n00:15:30.625 --> 00:15:33.235\n&gt;&gt; I mean just think about that,\nI mean this is all really important stuff,\n\n311\n00:15:33.235 --> 00:15:34.505\ndon't get me wrong, right?\n\n312\n00:15:34.505 --> 00:15:36.215\nAnd for\nanybody out there related to Mr Newton,\n\n313\n00:15:36.215 --> 00:15:38.265\nI apologize cuz he is a really cool guy,\nright?\n\n314\n00:15:38.265 --> 00:15:43.260\nBut if you think about the fact that if\nwe were to do away with this one system,\n\n315\n00:15:43.260 --> 00:15:46.690\neverything we move on, everything we think\nabout would essentially stop working.\n\n316\n00:15:46.690 --> 00:15:48.170\n&gt;&gt; Yeah, and you know what's really cool?\n\n317\n00:15:48.170 --> 00:15:48.710\nMy favorite part?\n\n318\n00:15:48.710 --> 00:15:49.770\n&gt;&gt; Now, that was really cool.\n\n319\n00:15:49.770 --> 00:15:50.915\nWhat I just said was really cool.\n\n320\n00:15:50.915 --> 00:15:52.240\n&gt;&gt; [LAUGH]\n&gt;&gt; I don't know what you have, but\n\n321\n00:15:52.240 --> 00:15:53.335\nit's not really cool.\n\n322\n00:15:53.335 --> 00:15:55.270\n&gt;&gt; [LAUGH]\n&gt;&gt; It maybe cool, but it's not as cool.\n\n323\n00:15:55.270 --> 00:15:56.415\n&gt;&gt; Okay, so semi-cool.\n\n324\n00:15:56.415 --> 00:15:57.430\n&gt;&gt; All right, semi-cool.\n\n325\n00:15:57.430 --> 00:15:58.425\nSo yeah, but what else?\n\n326\n00:15:58.425 --> 00:16:03.360\n&gt;&gt; The fact how we see just a good mix of\npeople coming together to manage these\n\n327\n00:16:03.360 --> 00:16:03.925\nnodes.\n\n328\n00:16:03.925 --> 00:16:08.296\nYou see like NASA So universities,\ngovernment entities.\n\n329\n00:16:08.296 --> 00:16:11.220\n&gt;&gt; It's like the Benetton\nof name resolution, right?\n\n330\n00:16:11.220 --> 00:16:13.810\nThis is the global join hands and\neverybody's happy.\n\n331\n00:16:13.810 --> 00:16:15.470\nAnd we all wear really stylish clothes.\n\n332\n00:16:15.470 --> 00:16:16.880\n&gt;&gt; Yeah.\n&gt;&gt; It's kinda like that, right?\n\n333\n00:16:16.880 --> 00:16:18.065\nSo it is really cool.\n\n334\n00:16:18.065 --> 00:16:19.215\nI mean, you think about it.\n\n335\n00:16:19.215 --> 00:16:20.975\nWe're joking about it, right,\njust to make light of it.\n\n336\n00:16:20.975 --> 00:16:23.175\nBut you know, it is a global network.\n\n337\n00:16:23.175 --> 00:16:24.834\nIt is managed by more than one entity.\n\n338\n00:16:24.834 --> 00:16:29.175\nNot one entity, one system,\none country controls the whole thing.\n\n339\n00:16:29.175 --> 00:16:30.895\nIt is a partnership, to your point.\n\n340\n00:16:30.895 --> 00:16:33.255\nAnd probably the most successful\none when we think about it,\n\n341\n00:16:33.255 --> 00:16:37.015\nbecause literally it does underline and\nenable everything we think of and do and\n\n342\n00:16:37.015 --> 00:16:38.545\ntake for\ngranted today in the modern world.\n\n343\n00:16:38.545 --> 00:16:41.515\nI mean, just what we're doing right now,\nus talking to you,\n\n344\n00:16:41.515 --> 00:16:45.030\nyou watching us through\nthe ITProTV interface.\n\n345\n00:16:45.030 --> 00:16:47.140\nYou could not do this if\nDNS was not functional.\n\n346\n00:16:47.140 --> 00:16:48.230\nIt would not work,\n\n347\n00:16:48.230 --> 00:16:51.460\nat least not the way we traditionally\nthink of being able to resolve.\n\n348\n00:16:51.460 --> 00:16:54.890\nCould you use an IP address to\ndirectly connect without using DNS?\n\n349\n00:16:54.890 --> 00:16:58.680\nOf course you could, but how many of us\nknow the IP addresses of every interface\n\n350\n00:16:58.680 --> 00:17:01.430\nthat we wanna connect with and\nconsume services from?\n\n351\n00:17:01.430 --> 00:17:05.430\nAnd how can we go then and rewrite\nliterally every application on the planet\n\n352\n00:17:05.430 --> 00:17:10.030\nthat relies on DNS as primary name\nresolution, for primary name resolution.\n\n353\n00:17:10.030 --> 00:17:13.316\nI mean, that would be tremendous\nupheaval if we got rid of DNS.\n\n354\n00:17:13.316 --> 00:17:14.920\nThat would be like a Pinky and\nthe Brain thing.\n\n355\n00:17:14.920 --> 00:17:15.905\nYou ever see Pinky and the Brain?\n\n356\n00:17:15.905 --> 00:17:16.740\n&gt;&gt; [LAUGH] Yes.\n\n357\n00:17:16.740 --> 00:17:18.030\n&gt;&gt; It's like the Pinky and\nthe Brain thing.\n\n358\n00:17:18.030 --> 00:17:19.110\nWhat are we gonna do tonight?\n\n359\n00:17:19.110 --> 00:17:21.950\nForget about taking over the world,\nwe're just gonna remake the system and\n\n360\n00:17:21.950 --> 00:17:22.700\nget rid of DNS.\n\n361\n00:17:22.700 --> 00:17:23.490\n&gt;&gt; That'd be evil.\n\n362\n00:17:23.490 --> 00:17:24.260\n&gt;&gt; That would be.\n\n363\n00:17:24.260 --> 00:17:24.770\nThat would be, yeah.\n\n364\n00:17:24.770 --> 00:17:26.460\n&gt;&gt; [LAUGH] So sinister, Adam.\n\n365\n00:17:26.460 --> 00:17:28.670\n&gt;&gt; That would be kind of wacky,\nkind of cool.\n\n366\n00:17:28.670 --> 00:17:30.220\nAll right, so step three, right?\n\n367\n00:17:30.220 --> 00:17:32.190\nWe're gonna go out,\nwe're gonna go to our root name servers.\n\n368\n00:17:32.190 --> 00:17:35.250\nThey're going to exam the query that\ncomes in from one of the DNS servers.\n\n369\n00:17:35.250 --> 00:17:37.120\nThey're gonna say hey, where does that go?\n\n370\n00:17:37.120 --> 00:17:41.360\nHow do I figure out how to resolve that\nthrough our name resolution hierarchy?\n\n371\n00:17:41.360 --> 00:17:44.140\nWe're gonna ask the top\nlevel domain name servers,\n\n372\n00:17:44.140 --> 00:17:47.680\ncalled the TLD, top level domain\nname servers, in the hierarchy.\n\n373\n00:17:47.680 --> 00:17:50.670\nIf you think about DNS,\nyou think about essentially a pyramid,\n\n374\n00:17:50.670 --> 00:17:52.450\nif you just get a picture in your mind.\n\n375\n00:17:52.450 --> 00:17:57.330\nAt the top of the pyramid kinda at the\napex, we have the root name server, right?\n\n376\n00:17:57.330 --> 00:17:59.070\nAnd then coming down from that,\n\n377\n00:17:59.070 --> 00:18:04.290\nthe root name server, coming down from\nthat, we have our top level domains,\n\n378\n00:18:04.290 --> 00:18:07.480\nwe then have our secondary\ndomains that we're gonna resolve.\n\n379\n00:18:07.480 --> 00:18:11.202\nSo we have .com, .gov,\n.mil, .org, whatever.\n\n380\n00:18:11.202 --> 00:18:15.914\nAnd then we're gonna have below\nthat something like itpro.tv so\n\n381\n00:18:15.914 --> 00:18:19.521\nITPro would exist below the .tv system,\nright?\n\n382\n00:18:19.521 --> 00:18:21.070\nAnd then below that we\nhave all the other stuff.\n\n383\n00:18:21.070 --> 00:18:23.898\nAnd we start resolving\nall the way through, but\n\n384\n00:18:23.898 --> 00:18:28.155\nit is gonna be this graded hierarchy\nthat kinda moves down from the top.\n\n385\n00:18:28.155 --> 00:18:29.187\nAnd the root, we often say,\n\n386\n00:18:29.187 --> 00:18:31.727\nand this is kinda the thought process\nyou gotta wrap your head around.\n\n387\n00:18:31.727 --> 00:18:34.396\nWe talked about the root servers, and\nyou say the word root, you often think,\n\n388\n00:18:34.396 --> 00:18:37.325\nwell, that's at the bottom,\nthat's at the base, right, traditionally.\n\n389\n00:18:37.325 --> 00:18:38.785\nBut when we think about DNS and\n\n390\n00:18:38.785 --> 00:18:42.105\nwe actually look at it, it actually is\nat the top and we go from the top down.\n\n391\n00:18:42.105 --> 00:18:46.410\nBut the root is the top, so it's\nan inverted thought process for us, yes.\n\n392\n00:18:46.410 --> 00:18:49.818\n&gt;&gt; And if you take that pyramid and\nkind of lay it on its side,\n\n393\n00:18:49.818 --> 00:18:53.368\nwhen you're looking at that\nfully qualified domain name,\n\n394\n00:18:53.368 --> 00:18:56.994\nthe top all the way on\nthe right-hand side, the little dot.\n\n395\n00:18:56.994 --> 00:19:00.760\nI didn't even know that dot existed for\nyears, Adam, our little root dot.\n\n396\n00:19:03.150 --> 00:19:03.759\n&gt;&gt; Our little root dot.\n\n397\n00:19:03.759 --> 00:19:05.499\n&gt;&gt; Our little root dot. [LAUGH] &gt;&gt;\nWe're so proud of our little root dot.\n\n398\n00:19:06.570 --> 00:19:11.153\n&gt;&gt; Our little root dot's grown up to be\nsuch a great, just such a great root.\n\n399\n00:19:11.153 --> 00:19:12.660\nAll right, so let's just take a look here.\n\n400\n00:19:12.660 --> 00:19:16.397\nI'm just gonna pull up while we\nwere talking cuz you know DNS\n\n401\n00:19:16.397 --> 00:19:20.454\ntraditionally here, and so\nlet me just do this really quickly.\n\n402\n00:19:20.454 --> 00:19:22.840\nCuz I know you showed me this.\n\n403\n00:19:22.840 --> 00:19:24.390\nAnd I think it's this one, right?\n\n404\n00:19:24.390 --> 00:19:25.190\n&gt;&gt; No, it's not that.\n\n405\n00:19:25.190 --> 00:19:28.196\nWhat's the other,\nit's this one right here.\n\n406\n00:19:28.196 --> 00:19:29.590\n&gt;&gt; Let me see here.\n\n407\n00:19:31.450 --> 00:19:32.440\n&gt;&gt; Either way, it doesn't matter.\n\n408\n00:19:32.440 --> 00:19:33.760\nSo let's just look at\nhierarchy real quick,\n\n409\n00:19:33.760 --> 00:19:35.360\nI just want to show\na picture of hierarchy.\n\n410\n00:19:35.360 --> 00:19:38.000\nSo when you look at,\nbecause we were talking about the root,\n\n411\n00:19:38.000 --> 00:19:40.305\njust to show you quickly what\nthe thought process looks like.\n\n412\n00:19:40.305 --> 00:19:43.090\nSomething like this where it's up at\nthe root and then we go down, and\n\n413\n00:19:43.090 --> 00:19:45.200\nwe have our top-level domains.\n\n414\n00:19:45.200 --> 00:19:46.940\nAnd then we go down one more.\n\n415\n00:19:46.940 --> 00:19:49.170\nWe're just looking at the idea\nof building out this hierarchy.\n\n416\n00:19:49.170 --> 00:19:50.140\nThat's all I was suggesting.\n\n417\n00:19:50.140 --> 00:19:52.800\nJust to give you this thought process,\nright?\n\n418\n00:19:52.800 --> 00:19:53.890\nIt's a pyramid, essentially.\n\n419\n00:19:53.890 --> 00:19:55.800\nAt least when we represent it in diagram,\nand\n\n420\n00:19:55.800 --> 00:19:57.480\nthat's what we often talk about, right?\n\n421\n00:19:57.480 --> 00:19:59.840\nIt's logically gonna\nbe displayed that way.\n\n422\n00:19:59.840 --> 00:20:01.520\nPhysically it's not set up that way.\n\n423\n00:20:01.520 --> 00:20:05.480\nIt's obviously a network and all\nthe machines are gonna be linked together\n\n424\n00:20:05.480 --> 00:20:08.120\nbased on wherever they are in\nthe world but just when we think about\n\n425\n00:20:08.120 --> 00:20:11.230\nthe thought process of seeing it,\nthat's kind of what we envision.\n\n426\n00:20:11.230 --> 00:20:16.890\nSo in step three, we're gonna go,\n[LAUGH] we're gonna go now.\n\n427\n00:20:16.890 --> 00:20:17.660\nWe're gonna go ahead.\n\n428\n00:20:17.660 --> 00:20:22.240\nAnd we're gonna starting to the root name\nservers, rather, are gonna take a look and\n\n429\n00:20:22.240 --> 00:20:24.020\nstart to talk down the hierarchy, right?\n\n430\n00:20:24.020 --> 00:20:27.660\nIn step four, the authoritative name\nserver, hopefully, we found one\n\n431\n00:20:27.660 --> 00:20:31.260\nby going through the root names further\ndown into the top level domains.\n\n432\n00:20:31.260 --> 00:20:34.090\nUltimately, we're gonna\nprovide a set of lookups,\n\n433\n00:20:34.090 --> 00:20:36.290\nkind of walking through\nthe logic of that hierarchy.\n\n434\n00:20:36.290 --> 00:20:41.922\nHey, this is the root, we're looking for\nin this case .work, so we've gotta go from\n\n435\n00:20:41.922 --> 00:20:47.423\nthe root down into that first level and\nsee where .works would be, or .tv or .com.\n\n436\n00:20:47.423 --> 00:20:51.547\nThen we gotta drill through that, find\nservers that are gonna be authoritative\n\n437\n00:20:51.547 --> 00:20:53.340\nfor something in that namespace.\n\n438\n00:20:53.340 --> 00:20:56.397\nWe're gonna go down several levels\ndepending on what we're doing, one or\n\n439\n00:20:56.397 --> 00:20:57.423\nmore look-ups as we go.\n\n440\n00:20:57.423 --> 00:20:59.410\nAgain, it's what we call zone files.\n\n441\n00:20:59.410 --> 00:21:03.250\nThe zone file is simply gonna be\nthe container in the DNS server\n\n442\n00:21:03.250 --> 00:21:05.430\nthat is gonna represent the namespace.\n\n443\n00:21:05.430 --> 00:21:08.780\nIn this case,\nhow DNS is the name space .work.\n\n444\n00:21:08.780 --> 00:21:13.070\nSo the how DNS zone inside\nthe .work's namespace.\n\n445\n00:21:13.070 --> 00:21:17.350\nOn a DNS server that has that,\nwe would be looking for that zone.\n\n446\n00:21:17.350 --> 00:21:20.610\nThat collection of files inside of,\nwhen you think about and\n\n447\n00:21:20.610 --> 00:21:23.440\nlook at a management interface,\ninside of a folder,\n\n448\n00:21:23.440 --> 00:21:27.590\ncuz the zone files are literally\njust folders with names on them.\n\n449\n00:21:27.590 --> 00:21:30.470\nAnd then all the resource\nrecords that are gonna be listed\n\n450\n00:21:30.470 --> 00:21:32.000\nto allow us to do the name resolution.\n\n451\n00:21:32.000 --> 00:21:33.590\nWe're gonna be looking there.\n\n452\n00:21:33.590 --> 00:21:37.060\nWe could do either a forward or\na reverse lookup zone.\n\n453\n00:21:37.060 --> 00:21:39.280\nLookup, forward or\nreverse lookup zone lookup.\n\n454\n00:21:39.280 --> 00:21:41.550\nYes, if we do a forward lookup or\nreverse zone lookup.\n\n455\n00:21:41.550 --> 00:21:44.610\nWhen we do a forward lookup, right,\nwe're providing the address, and\n\n456\n00:21:44.610 --> 00:21:49.990\nI want to find http www.whatever,\nright, .whatever.\n\n457\n00:21:49.990 --> 00:21:52.290\nAnd we provide that in our DNS query.\n\n458\n00:21:52.290 --> 00:21:55.930\nThe DNS resolution engine goes through,\nfigures all that out, comes back and\n\n459\n00:21:55.930 --> 00:22:00.030\nprovides to us, ultimately, an IP address\nthat we then use in a separate step\n\n460\n00:22:00.030 --> 00:22:03.840\nto go out and go to the web server or\nthe resource in question.\n\n461\n00:22:03.840 --> 00:22:06.840\nAnd then ultimately get services or\ninformation from.\n\n462\n00:22:06.840 --> 00:22:09.410\nThat's a forward lookup\nagainst a name zone.\n\n463\n00:22:09.410 --> 00:22:12.980\nCustomer reverse lookup, right, but then\nwe have to set up reverse lookup zones.\n\n464\n00:22:12.980 --> 00:22:16.480\nWe have to program in the reverse\nlookup zones at the DNS server.\n\n465\n00:22:16.480 --> 00:22:20.890\nThe forward lookup zone is created when we\nregister the namespace and we have what\n\n466\n00:22:20.890 --> 00:22:24.950\nwe call authority to manage it, or we've\nbeen a copy of it by a primary server.\n\n467\n00:22:24.950 --> 00:22:28.330\nAnd we're gonna be a secondary server,\nsome sort of a stub zone or\n\n468\n00:22:28.330 --> 00:22:30.241\nsomething like that may be created.\n\n469\n00:22:30.241 --> 00:22:33.099\nWe'll talk about what these\ndifferent kinds of zones and\n\n470\n00:22:33.099 --> 00:22:37.140\nzone management are as we get more into\nthe DNS topic in upcoming episodes.\n\n471\n00:22:37.140 --> 00:22:41.500\nBut we're gonna have reverse lookup zone\npotentially that lets us provide an IP\n\n472\n00:22:41.500 --> 00:22:46.055\naddress and then request ultimately that\nwe get back the fully qualified address or\n\n473\n00:22:46.055 --> 00:22:46.590\nthe URL.\n\n474\n00:22:46.590 --> 00:22:48.150\nSo we can do this either way.\n\n475\n00:22:48.150 --> 00:22:51.600\nBut out of the box by default,\nforward lookup zones are created as we\n\n476\n00:22:51.600 --> 00:22:54.790\nregister the zones,\ncreate the authority to manage them.\n\n477\n00:22:54.790 --> 00:22:56.770\nBut reverse lookup zones\nhave to be created.\n\n478\n00:22:56.770 --> 00:23:01.010\nThey're not there by default, although we\noften will have reverse lookup zones to\n\n479\n00:23:01.010 --> 00:23:03.700\nfacilitate additional name resolution,\nmake it easier.\n\n480\n00:23:03.700 --> 00:23:07.210\nBut remember, when we do that,\nnot only do we have to create them, but\n\n481\n00:23:07.210 --> 00:23:09.670\nwe create special resource\nrecords to populate them.\n\n482\n00:23:09.670 --> 00:23:11.920\nThose resource records\nare called pointer records.\n\n483\n00:23:11.920 --> 00:23:14.460\nAnd we'll go through and\ntalk more about what those records are and\n\n484\n00:23:14.460 --> 00:23:15.170\nwhat they look like.\n\n485\n00:23:15.170 --> 00:23:16.810\nWe'll actually show them to\nyou in an upcoming episode.\n\n486\n00:23:16.810 --> 00:23:20.270\nBut we're gonna be able to look for\nthis name resolution and\n\n487\n00:23:20.270 --> 00:23:24.610\ndo either a photo reverse lookup depending\non the nature of the information of\n\n488\n00:23:24.610 --> 00:23:29.460\nthe client that started this resolution\nprocess in step one has actually provided.\n\n489\n00:23:29.460 --> 00:23:33.810\nSo it will then be determined based on\nthe kind of information we start with,\n\n490\n00:23:33.810 --> 00:23:37.400\nwhat kind of address, or what kind of\nlookup we ultimately are gonna engage.\n\n491\n00:23:37.400 --> 00:23:40.079\nWe find in step five\nthe appropriate resource records,\n\n492\n00:23:40.079 --> 00:23:43.770\nassuming we found the DNS server\nthat's authoritative for our zone.\n\n493\n00:23:43.770 --> 00:23:45.590\nThere are many kinds of resource records.\n\n494\n00:23:45.590 --> 00:23:49.170\nI mentioned pointer records in the reverse\nlookup zone just a minute ago.\n\n495\n00:23:49.170 --> 00:23:50.850\nWe may have a host record, right?\n\n496\n00:23:50.850 --> 00:23:52.485\nSo an IPv4 host record.\n\n497\n00:23:52.485 --> 00:23:54.441\nWe may have an IPv6 host record.\n\n498\n00:23:54.441 --> 00:23:58.652\nThey essentially mean the same thing,\nbut they have different designators,\n\n499\n00:23:58.652 --> 00:24:01.880\nan IPv4 host record has an A,\na single A, in parentheses.\n\n500\n00:24:01.880 --> 00:24:04.757\nAn IPv6 host record has\nfour As in parentheses,\n\n501\n00:24:04.757 --> 00:24:07.291\nsignifying the difference between them.\n\n502\n00:24:07.291 --> 00:24:10.794\nWe also may have a, an s record,\na name server record.\n\n503\n00:24:10.794 --> 00:24:13.506\nWe have an SOA record,\na start of authority record.\n\n504\n00:24:13.506 --> 00:24:19.410\nWe may have a MX record, a mail exchange\nrecord for looking up mail servers.\n\n505\n00:24:19.410 --> 00:24:23.950\nWe may have, what else,\nwe have Cname records, right?\n\n506\n00:24:23.950 --> 00:24:24.450\nI'm sorry?\n\n507\n00:24:25.490 --> 00:24:26.980\n&gt;&gt; SOA.\n&gt;&gt; I did say start of authority.\n\n508\n00:24:26.980 --> 00:24:31.420\nWe may have Cname records name or\nwhat we commonly call alias records.\n\n509\n00:24:31.420 --> 00:24:37.430\nWe may have the, what else,\na whole bunch of other reps.\n\n510\n00:24:37.430 --> 00:24:39.140\nCan't think of all of them off the top\nof my head, there's a whole bunch.\n\n511\n00:24:39.140 --> 00:24:39.750\nThere really are a lot.\n\n512\n00:24:39.750 --> 00:24:40.630\nThose are the common ones,\n\n513\n00:24:40.630 --> 00:24:43.420\nthe most commonly used ones\nare going to be on that list.\n\n514\n00:24:43.420 --> 00:24:46.010\nService records as well, if we're\ntalking about Windows specifically and\n\n515\n00:24:46.010 --> 00:24:50.040\nusing a LDAP directory to be able to do\nlookups, love service records, right?\n\n516\n00:24:50.040 --> 00:24:52.120\nSo, you'll have those as well.\n\n517\n00:24:52.120 --> 00:24:54.990\nSo, you will have a variety of different\nrecords that may exist there, and\n\n518\n00:24:54.990 --> 00:24:56.260\nwe'll go through what those are with you.\n\n519\n00:24:56.260 --> 00:24:59.350\nBut ultimately, we would find\nthe appropriate record given the nature of\n\n520\n00:24:59.350 --> 00:25:03.520\nthe resolution or the lookup we're trying\nto engage in, we'll get that back,\n\n521\n00:25:03.520 --> 00:25:06.650\nwe'll then give that ultimately through\nthe process kind of walking back\n\n522\n00:25:06.650 --> 00:25:10.660\nthrough the chain to the client to\nstart the resolution in step one.\n\n523\n00:25:10.660 --> 00:25:13.520\nThe client will then\ntake that information and\n\n524\n00:25:13.520 --> 00:25:16.780\nwill open up a separate session,\ngo out and resolve that resource.\n\n525\n00:25:16.780 --> 00:25:17.650\nWhether it is.\n\n526\n00:25:17.650 --> 00:25:21.240\nThe website like we did talk here about\nhow DNS works, that little comic book\n\n527\n00:25:21.240 --> 00:25:24.750\nwe were looking at, whether it's\nmaybe connecting to a printer.\n\n528\n00:25:24.750 --> 00:25:27.730\nSo we want to be able to send\na document using DNS to do a lookup for\n\n529\n00:25:27.730 --> 00:25:31.160\nthat because maybe that printer object has\nbeen published in the active directory.\n\n530\n00:25:31.160 --> 00:25:35.540\nMaybe we're looking to get to an internal\nserver like a domain controller\n\n531\n00:25:35.540 --> 00:25:38.680\nto find resources and\nwe're using DNS to look that up.\n\n532\n00:25:38.680 --> 00:25:41.230\nUsing a service record in the old\napp directory to do that.\n\n533\n00:25:41.230 --> 00:25:44.990\nThere's all sorts of ways that we would\nput that information together, but\n\n534\n00:25:44.990 --> 00:25:48.590\nwe would then use that in the final\nstep to go out and actually get to.\n\n535\n00:25:48.590 --> 00:25:53.510\nThe application, the service, and consume\nby setting up a session and connecting and\n\n536\n00:25:53.510 --> 00:25:54.460\ninteracting with it.\n\n537\n00:25:54.460 --> 00:25:56.990\nWhatever we had asked for\nall the way back in step one.\n\n538\n00:25:56.990 --> 00:26:01.780\nSo by going through all these steps, and\nkind of walking through the logic of them,\n\n539\n00:26:01.780 --> 00:26:05.320\nwe're able to hopefully have a better\nsense of how DNS actually works.\n\n540\n00:26:05.320 --> 00:26:09.380\nNow remember, this has taken I dunno maybe\n10 minutes walking through, give or take,\n\n541\n00:26:09.380 --> 00:26:10.550\nfor us to talk about,\n\n542\n00:26:10.550 --> 00:26:13.180\nmaybe 15 when we include all\nthe joking around we did about.\n\n543\n00:26:13.180 --> 00:26:17.040\nSideways pyramids and root servers and\nthings laying on their side and\n\n544\n00:26:17.040 --> 00:26:17.570\nwho knows what.\n\n545\n00:26:17.570 --> 00:26:20.780\nBut when we think about all that, right,\nand we think about how long it took\n\n546\n00:26:20.780 --> 00:26:23.210\nus to explain it, does it really\ntake that long for it to happen?\n\n547\n00:26:23.210 --> 00:26:24.840\nI mean when you think about how,\n\n548\n00:26:24.840 --> 00:26:26.400\nassuming everything works\nthe right way of course, right.\n\n549\n00:26:26.400 --> 00:26:29.670\nEverything's set up, you're asking for\na website that actually exists.\n\n550\n00:26:29.670 --> 00:26:31.750\nThere is DNS infrastructure to support it,\n\n551\n00:26:31.750 --> 00:26:35.200\nyou have DNS servers specified\nin your IP config, right.\n\n552\n00:26:35.200 --> 00:26:37.670\nWhether you have it locally,\nwhether you get it remotely,\n\n553\n00:26:37.670 --> 00:26:42.140\nthis process may take a few seconds,\nnot going to take very long traditionally\n\n554\n00:26:42.140 --> 00:26:45.690\nas long as everything as working, so\nalthough it takes a while to explain it,\n\n555\n00:26:45.690 --> 00:26:47.810\nit happens almost instantaneously\nwhen you think about it.\n\n556\n00:26:47.810 --> 00:26:51.750\nOr when we go out and we load a web page\nI mean it happens almost immediately.\n\n557\n00:26:51.750 --> 00:26:54.430\nAssuming again, everything is lined up and\nkind of working in line.\n\n558\n00:26:54.430 --> 00:26:57.390\nIf we go back to our machine that\nwe were looking at here, right,\n\n559\n00:26:57.390 --> 00:27:01.040\nour nice little catalog of\nDNS information right here.\n\n560\n00:27:01.040 --> 00:27:05.030\nIf we click, you see how quickly\nthe website comes up and now, granted, I\n\n561\n00:27:05.030 --> 00:27:10.025\ndid have that result, we saw the resource\nrecords in the DNS resolver cache.\n\n562\n00:27:10.025 --> 00:27:13.665\nBecause you saw it in populated and seeing\nall the sub pages that we would go to.\n\n563\n00:27:13.665 --> 00:27:16.645\nBut you could see here, I could bring\nthat up very, very quickly, right?\n\n564\n00:27:16.645 --> 00:27:18.175\nI mean, it does not take very long.\n\n565\n00:27:18.175 --> 00:27:22.085\nIf I just go and load a browser,\nyou'll see it comes up almost immediately.\n\n566\n00:27:22.085 --> 00:27:22.825\nRight?\nAnd if\n\n567\n00:27:22.825 --> 00:27:24.655\nI click on any one of these things,\nshould I go?\n\n568\n00:27:24.655 --> 00:27:25.275\nDare I do it?\n\n569\n00:27:25.275 --> 00:27:26.210\nShould I go to Facebook?\n\n570\n00:27:26.210 --> 00:27:26.995\n&gt;&gt; [LAUGH]\n&gt;&gt; Right,\n\n571\n00:27:26.995 --> 00:27:29.505\nCherokee's almost favorite\nsite in the world.\n\n572\n00:27:29.505 --> 00:27:32.125\nSo when we go here, you'll see,\nthis comes up right away.\n\n573\n00:27:32.125 --> 00:27:33.595\nI mean, this did not take very long.\n\n574\n00:27:33.595 --> 00:27:35.320\nThis is almost instantaneous.\n\n575\n00:27:35.320 --> 00:27:38.380\nAnd the idea behind it is that DNS\nis working hard behind the scenes.\n\n576\n00:27:38.380 --> 00:27:42.230\nAll the time doing all this for us,\nbeing able to help us do this resolution.\n\n577\n00:27:42.230 --> 00:27:45.110\nSo it is very important for us, right?\n\n578\n00:27:45.110 --> 00:27:49.890\nto be able to be thinking about how DNS\nworks and understanding the logic of DNS.\n\n579\n00:27:49.890 --> 00:27:54.520\nBecause if we lay that as a foundation,\nkind of down below our conversations, and\n\n580\n00:27:54.520 --> 00:27:58.080\nwe build on that to be able to go through\nand then start talking about how we\n\n581\n00:27:58.080 --> 00:28:01.880\nimplement DNS in Server '16,\nbe doing that in upcoming episodes.\n\n582\n00:28:01.880 --> 00:28:04.990\nHow we build out the server,\nhow we then use the server to manage and\n\n583\n00:28:04.990 --> 00:28:07.050\nprovide name resolution services.\n\n584\n00:28:07.050 --> 00:28:08.800\nHow we become authoritative for one or\n\n585\n00:28:08.800 --> 00:28:11.440\nmore zones,\nhow we create reverse lookup zones.\n\n586\n00:28:11.440 --> 00:28:15.560\nHow we can then send that information\nout to alternate DNS servers around our\n\n587\n00:28:15.560 --> 00:28:19.590\ninfrastructure, either Active Directory\nintegrated, all our DNS servers are in\n\n588\n00:28:19.590 --> 00:28:24.090\nthe Active Directory Running on to domain\ncontrollers, replicated and controlled and\n\n589\n00:28:24.090 --> 00:28:27.950\nsecurely backed up and maintained as\npart of the overall thought process and\n\n590\n00:28:27.950 --> 00:28:31.540\nmanaging Active Directory,\nmaking it much more stable and secure.\n\n591\n00:28:31.540 --> 00:28:34.160\nIf we do our standalone\nDNS infrastructure,\n\n592\n00:28:34.160 --> 00:28:36.460\nmaybe we're going to do what\nwe call split brain DNS.\n\n593\n00:28:36.460 --> 00:28:38.018\nGoing to put a DNS server in the DMZ.\n\n594\n00:28:38.018 --> 00:28:41.500\nWe're going to keep one or\nmore behind the firewalls in the LAN.\n\n595\n00:28:41.500 --> 00:28:45.196\nWe're going to have them reference the\ninformation that are going to be called\n\n596\n00:28:45.196 --> 00:28:47.268\nthe same thing in\nreference information but\n\n597\n00:28:47.268 --> 00:28:49.600\nwe're going to split that information up.\n\n598\n00:28:49.600 --> 00:28:53.060\nThe internal DNS servers reference\neverything inside the LAN,\n\n599\n00:28:53.060 --> 00:28:55.090\ninside the protected network.\n\n600\n00:28:55.090 --> 00:28:57.970\nThe DMZ based DNS servers reference\neverything that's going to\n\n601\n00:28:57.970 --> 00:28:59.670\ngo outside to the Internet.\n\n602\n00:28:59.670 --> 00:29:02.330\nAnd so we can actually split\nour DNS infrastructure up,\n\n603\n00:29:02.330 --> 00:29:06.750\nenabling us to have better name resolution\nbecause we subdivide our jobs up and\n\n604\n00:29:06.750 --> 00:29:11.000\nwe secure the internal resource records,\nnot allowing them to be made available to\n\n605\n00:29:11.000 --> 00:29:14.640\nthe outside world, a further step\nthat would help us to lock that down.\n\n606\n00:29:14.640 --> 00:29:19.660\nAnd by doing that and then maybe adding a\nlittle magic like manipulating a firewall\n\n607\n00:29:19.660 --> 00:29:23.870\nand setting up a rule that blocks\nall DNS resolution from the DMZ,\n\n608\n00:29:23.870 --> 00:29:27.630\nfrom those servers to the inside\nasking for internal resources.\n\n609\n00:29:27.630 --> 00:29:31.470\nBy setting that up we've actually\nlocked down our DNS infrastructure,\n\n610\n00:29:31.470 --> 00:29:34.400\nsplit it up and sub divided it and\nsecured it in such a way\n\n611\n00:29:34.400 --> 00:29:37.130\nthat we could do name resolution\nfrom either side of the divide but\n\n612\n00:29:37.130 --> 00:29:39.110\nwe're not going to expose\ninformation unnecessarily.\n\n613\n00:29:39.110 --> 00:29:42.880\nSo there's lots of different things we'll\ntalk about that we can examine here and\n\n614\n00:29:42.880 --> 00:29:45.670\nunderstand more about with DNS.\n\n615\n00:29:45.670 --> 00:29:48.440\nBut we have to understand how DNS\nfunctions in order to make all that\n\n616\n00:29:48.440 --> 00:29:51.110\ndiscussion, all those discussion points,\nthings we talk about\n\n617\n00:29:51.110 --> 00:29:54.340\nactually are possibly for\nus to understand and ultimately look at.\n\n618\n00:29:54.340 --> 00:29:57.320\n&gt;&gt; I was just getting excited thinking\nabout all the different possibilities.\n\n619\n00:29:57.320 --> 00:29:59.320\nAnd I know you probably don't want to\nget into it now, but even talking about.\n\n620\n00:29:59.320 --> 00:30:00.530\n&gt;&gt; But\nyou're going to mention them anyway.\n\n621\n00:30:00.530 --> 00:30:01.260\nSo that's good, that's okay.\n\n622\n00:30:01.260 --> 00:30:02.030\n&gt;&gt; I mention going to it, okay.\n\n623\n00:30:02.030 --> 00:30:05.410\nSo like even round robining you can\nimplement a, a rudimentary type\n\n624\n00:30:05.410 --> 00:30:08.820\nof load balancing, sometimes called poor\nman's load balancing, even with just DNS.\n\n625\n00:30:08.820 --> 00:30:09.970\nThere's just.\n\n626\n00:30:09.970 --> 00:30:12.450\nA lot of different things you can do.\n\n627\n00:30:12.450 --> 00:30:15.593\n&gt;&gt; Well certainly round robinning is\na well established thought process,\n\n628\n00:30:15.593 --> 00:30:17.659\nnot just for DNS but for\nmany services, right?\n\n629\n00:30:17.659 --> 00:30:19.950\nWe do that in many, many systems.\n\n630\n00:30:19.950 --> 00:30:24.950\nBut we could certainly load balance and\nthrough DNS round robbining specify\n\n631\n00:30:24.950 --> 00:30:29.730\nload capacity but we could do a lot,\nand that's yes, that's part of the DNS\n\n632\n00:30:29.730 --> 00:30:33.350\ncertainly important, but that's actually\nsomething that we maybe take out of level,\n\n633\n00:30:33.350 --> 00:30:36.420\nright that would almost be around the\narchitecture network services that are at\n\n634\n00:30:36.420 --> 00:30:38.645\nhigher level, it is a function of DNS, but\n\n635\n00:30:38.645 --> 00:30:42.660\nit's one of those functions that is not\nnecessarily something we think of right\n\n636\n00:30:42.660 --> 00:30:46.710\naway, right because what we've to think of\nhow do we set up over architecture, has to\n\n637\n00:30:46.710 --> 00:30:50.960\nbe filled on how are going to set up and\nmaintain our name resolution system.\n\n638\n00:30:50.960 --> 00:30:52.840\nHow do we become authorator for\nthose zones?\n\n639\n00:30:52.840 --> 00:30:55.730\nAnd once we get all that, that's very\nimportant, we definitely want to think\n\n640\n00:30:55.730 --> 00:30:58.720\nabout how we're going to balance that\nload and make sure we can optimize it.\n\n641\n00:30:58.720 --> 00:31:02.420\nBut what we got to do first is learn how\nto resolve before we can actually give\n\n642\n00:31:02.420 --> 00:31:03.820\neverybody the benefit of that.\n\n643\n00:31:03.820 --> 00:31:05.770\nSo we've got to crawl before\nwe can walk in other words.\n\n644\n00:31:05.770 --> 00:31:09.580\nAnd what we're going to do is talk about\nas we come back with some future episodes,\n\n645\n00:31:09.580 --> 00:31:13.600\ntalk about how we set up all those pieces,\nhow we stand up a global name zone, how we\n\n646\n00:31:13.600 --> 00:31:18.760\nset up our DNS servers, how we create\nour look up records, how we go ahead and\n\n647\n00:31:18.760 --> 00:31:22.210\nmake DNS highly available, load balancing\nmaybe part of that conversation through\n\n648\n00:31:22.210 --> 00:31:25.360\nround robining, so it'll be very important\nto think about that and how we can\n\n649\n00:31:25.360 --> 00:31:30.110\nmanipulate some of the settings, not just\nload balancing through round robining, but\n\n650\n00:31:30.110 --> 00:31:34.570\nresolver, time outs, and as I said,\nmaybe the split DNS thought process,\n\n651\n00:31:34.570 --> 00:31:38.380\nin the DMZ, and how we can manipulate and\nmanage all these settings.\n\n652\n00:31:38.380 --> 00:31:41.550\nSome brand new to 16,\nmany have been there for a long time.\n\n653\n00:31:41.550 --> 00:31:44.740\nAnd by putting all this information\ntogether, over the next few episodes,\n\n654\n00:31:44.740 --> 00:31:46.040\nhopefully would make it a lot better for\n\n655\n00:31:46.040 --> 00:31:50.230\nyou in terms of understanding and\ngetting to know your DNS servers and\n\n656\n00:31:50.230 --> 00:31:54.935\na little bit more of a personal and\ntherefore friendly and operation.\n\n657\n00:31:54.935 --> 00:31:55.575\nAdditional way.\n\n658\n00:31:55.575 --> 00:31:57.575\nWe're going to do that\nas soon as we come back.\n\n659\n00:31:57.575 --> 00:31:59.195\n&gt;&gt; All right, sounds like a plan, Adam.\n\n660\n00:31:59.195 --> 00:32:00.795\nThank you for\njoining us ladies and gentlemen.\n\n661\n00:32:00.795 --> 00:32:02.815\nBut for this show,\nwe're going to go ahead and sign out.\n\n662\n00:32:02.815 --> 00:32:05.875\nWe'll give you a little bit of time to\nget personal with your DNS servers.\n\n663\n00:32:05.875 --> 00:32:08.925\nBut then come right back,\nbecause we have more DNS headed your way.\n\n664\n00:32:08.925 --> 00:32:11.225\nRemember I'm your host, Cherokee Boose.\n\n665\n00:32:11.225 --> 00:32:11.925\n&gt;&gt; I'm Adam Gordon.\n\n666\n00:32:11.925 --> 00:32:14.789\n&gt;&gt; See you next time here in ITPro.TV\n\n667\n00:32:14.789 --> 00:32:20.774\n[MUSIC]\n\n668\n00:32:20.774 --> 00:32:23.974\nThank you for watching ITProTV.\n\n",
          "vimeoId": "217178178"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing DNS. They begin discussing tools and techniques. Next, they converse on several topics such as logging and diagnostics, aging/scavenging, backing up and introduction to zones.",
          "length": "2367",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-2-implementing_dns_pt2-051017.00_39_12_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-2-implementing_dns_pt2-051017.00_39_12_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-2-implementing_dns_pt2-051017.00_39_12_00.Still001-sm.jpg",
          "title": "Implementing DNS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:01.251\nWelcome to ITProTV.\n\n2\n00:00:01.251 --> 00:00:02.331\nI'm your host Don Pezet.\n\n3\n00:00:02.331 --> 00:00:06.767\n[CROSSTALK]\n\n4\n00:00:06.767 --> 00:00:08.229\n[MUSIC]\n\n5\n00:00:08.229 --> 00:00:12.072\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.072 --> 00:00:15.440\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 series.\n\n7\n00:00:15.440 --> 00:00:17.473\nI'm your show host Cherokee Boose.\n\n8\n00:00:17.473 --> 00:00:20.830\nIn the previous episode we introduced DNS,\nbut we're gonna go ahead and\n\n9\n00:00:20.830 --> 00:00:22.270\ncontinue that conversation.\n\n10\n00:00:22.270 --> 00:00:23.430\nThere's a lot to learn.\n\n11\n00:00:23.430 --> 00:00:27.361\nAnd I really don't see that as\nbeing a part one kind of topic.\n\n12\n00:00:27.361 --> 00:00:29.834\nAnd back with us today,\nwe have Mr. Adam Gordon.\n\n13\n00:00:29.834 --> 00:00:31.100\nHow you're doing today, Adam?\n\n14\n00:00:31.100 --> 00:00:32.099\n&gt;&gt; I'm doing well, doing well.\n\n15\n00:00:32.099 --> 00:00:34.588\nHopefully, everybody out\nthere is doing well, also.\n\n16\n00:00:34.588 --> 00:00:36.561\nWe're gonna continue our conversations.\n\n17\n00:00:36.561 --> 00:00:37.802\nWe're actually gonna jump right in.\n\n18\n00:00:37.802 --> 00:00:40.857\nTake a look at the DNS server,\nMMC, the management console.\n\n19\n00:00:40.857 --> 00:00:42.870\nI'll spend a little time\nexploring in there.\n\n20\n00:00:42.870 --> 00:00:48.254\nWe can go DNS cave exploring, do DNS\nspelunking, as opposed to conversating.\n\n21\n00:00:48.254 --> 00:00:50.699\nCuz we don't want to just talk about it,\nwe want to explore and\n\n22\n00:00:50.699 --> 00:00:51.980\nactually see what's going on.\n\n23\n00:00:51.980 --> 00:00:54.540\nSo let's take a look if\nwe could right here, or\n\n24\n00:00:54.540 --> 00:00:56.778\nright there, or actually right over there.\n\n25\n00:00:56.778 --> 00:01:00.340\nAnd you could see that we have our\nDNS management console opened up.\n\n26\n00:01:00.340 --> 00:01:02.980\nWe're on our Windows Server 16 server.\n\n27\n00:01:02.980 --> 00:01:04.400\nWe happen to be on a domain controller,\n\n28\n00:01:04.400 --> 00:01:07.250\nso we're running right now\nActive Directory integrated DNS.\n\n29\n00:01:07.250 --> 00:01:09.940\nWe'll take a look at how to\nmanipulate the zone file and\n\n30\n00:01:09.940 --> 00:01:12.130\ntake it out of Active Directory\nintegration, put it back in.\n\n31\n00:01:12.130 --> 00:01:13.790\nWe'll go through all\nthat in just a minute.\n\n32\n00:01:13.790 --> 00:01:17.930\nBut we just opened up our DNS MMC,\ngot our server here.\n\n33\n00:01:17.930 --> 00:01:21.099\nWe can right click at the root here,\nactually we'll go up one more.\n\n34\n00:01:21.099 --> 00:01:24.683\nRight click right up here,\njust at the very top as we often can, and\n\n35\n00:01:24.683 --> 00:01:26.866\nconnect out to different DNS services.\n\n36\n00:01:26.866 --> 00:01:28.460\nWe want to manage more than one.\n\n37\n00:01:28.460 --> 00:01:31.560\nThis console could be redirected\nessentially to another server if we\n\n38\n00:01:31.560 --> 00:01:32.170\nwant to do that.\n\n39\n00:01:32.170 --> 00:01:33.920\nSo you could see that here.\n\n40\n00:01:33.920 --> 00:01:38.940\nSince we're on the PLABDC01, the domain\ncontroller, we have that instance here.\n\n41\n00:01:38.940 --> 00:01:42.220\nWe right click,\nwe could set up DNS and configure it.\n\n42\n00:01:42.220 --> 00:01:44.560\nWe can go in and\ncreate directory partitions.\n\n43\n00:01:44.560 --> 00:01:46.935\nWe'll talk about those in\nan upcoming conversation.\n\n44\n00:01:46.935 --> 00:01:49.954\nWe'll talk about how to create\na new zone here in just a minute.\n\n45\n00:01:49.954 --> 00:01:51.858\nSo we can set up a new zone at this level.\n\n46\n00:01:51.858 --> 00:01:57.000\nWe can set scavenging and or\naging for our zone files here.\n\n47\n00:01:57.000 --> 00:02:00.093\nSo we can go in and specify how\nto do a little housekeeping, and\n\n48\n00:02:00.093 --> 00:02:01.710\nkeep track of what's going on.\n\n49\n00:02:01.710 --> 00:02:04.400\nAnd ensure that we're up to date\nwith all the current information.\n\n50\n00:02:04.400 --> 00:02:07.370\nGet rid of anything that maybe stale or\nmarked for deletion.\n\n51\n00:02:07.370 --> 00:02:07.930\nThings like that,\n\n52\n00:02:07.930 --> 00:02:11.770\nin order to make sure we have the best\nname resolution information available.\n\n53\n00:02:11.770 --> 00:02:14.400\nSo just gonna wanna make\nsure we think about that.\n\n54\n00:02:14.400 --> 00:02:19.190\nWe can scavenge and\nget rid of all of those records as well.\n\n55\n00:02:19.190 --> 00:02:21.130\nWe could do an update\nto server data files.\n\n56\n00:02:21.130 --> 00:02:24.800\nIf we have changes to the zones,\nmay wanna reload that information or\n\n57\n00:02:24.800 --> 00:02:26.510\ndo an update to it to refresh it.\n\n58\n00:02:26.510 --> 00:02:30.125\nWe talked about the caching of DNS\ninformation and our prior episode,\n\n59\n00:02:30.125 --> 00:02:33.570\nwe talked about the walk-through\nof DNS and how we do resolution.\n\n60\n00:02:33.570 --> 00:02:37.250\nWe mentioned there's a cache locally\non every system that uses DNS,\n\n61\n00:02:37.250 --> 00:02:41.050\nthe DNS resolver cache,\nthe DNS servers have that cache as well.\n\n62\n00:02:41.050 --> 00:02:43.273\nWe can clear that cache right from\nwithin the management console.\n\n63\n00:02:43.273 --> 00:02:46.167\nIt could also go do an IPConfig and\nflush DNS, and\n\n64\n00:02:46.167 --> 00:02:50.344\nflush the local resolver cache and\nflush the cache for the DNS server.\n\n65\n00:02:50.344 --> 00:02:52.039\nSo we can do a couple of different things.\n\n66\n00:02:52.039 --> 00:02:55.354\nWe have some tools,\ncapabilities to manage, troubleshoot,\n\n67\n00:02:55.354 --> 00:02:56.799\nmanipulate information.\n\n68\n00:02:56.799 --> 00:03:00.909\nDo diagnostics, one of them is MS lookup,\nand we could see MS lookup here.\n\n69\n00:03:00.909 --> 00:03:03.290\nA command line tool that\nlet's us manage DNS.\n\n70\n00:03:03.290 --> 00:03:05.780\nJust like we would in the console but\ndoing it from the command line.\n\n71\n00:03:05.780 --> 00:03:08.270\nWe can also use PowerShell to do this.\n\n72\n00:03:08.270 --> 00:03:12.210\nWe often talk about PowerShell and\nthe PowerShell cmdlets for DNS,\n\n73\n00:03:12.210 --> 00:03:13.880\nthe DNS Server module.\n\n74\n00:03:13.880 --> 00:03:15.710\nThe DNS Server cmdlets are here.\n\n75\n00:03:15.710 --> 00:03:19.380\nRather extensive one, there's quite\na number of them as I scroll down and\n\n76\n00:03:19.380 --> 00:03:22.970\nyou can see here the list just\nkeeps going on and on and on.\n\n77\n00:03:22.970 --> 00:03:25.800\nThere are many, many of them as I\ngo down towards the bottom here.\n\n78\n00:03:25.800 --> 00:03:28.630\nAnd so you could see this is\na pretty extensive module.\n\n79\n00:03:28.630 --> 00:03:31.200\nUnlike some of them that\ndon't have a lot of cmdlets.\n\n80\n00:03:31.200 --> 00:03:34.550\nThere's over 100 cmdlets associated\nwith DNS server management here.\n\n81\n00:03:34.550 --> 00:03:38.770\nSo you may wanna take a look at that but\nit is gonna be a very extensive set\n\n82\n00:03:38.770 --> 00:03:42.380\nof commands that we can use, or\ncmdlets that we can use to manage DNS.\n\n83\n00:03:42.380 --> 00:03:43.650\nSo we do have the ability to start and\n\n84\n00:03:43.650 --> 00:03:47.955\nstop the DNS service here, pretty\nstandard stuff from that perspective.\n\n85\n00:03:47.955 --> 00:03:50.450\nAgain, go in and\njust do common things here.\n\n86\n00:03:50.450 --> 00:03:53.530\nWe can of course delete,\nalthough you probably don't wanna do that\n\n87\n00:03:53.530 --> 00:03:55.320\nunless you have a backup\nof your DNS server.\n\n88\n00:03:55.320 --> 00:03:56.920\nThat may end poorly for you.\n\n89\n00:03:56.920 --> 00:03:58.776\nSo just try to stay away from that.\n\n90\n00:03:58.776 --> 00:04:02.880\nWe do have properties of the server\nthat we can look at the instance here.\n\n91\n00:04:02.880 --> 00:04:07.152\nWe can see the interfaces, what IP\naddresses are being used to be able\n\n92\n00:04:07.152 --> 00:04:10.846\nto listen to and\nultimately provide DNS services through.\n\n93\n00:04:10.846 --> 00:04:14.172\nAnd you'll see we have both\nour IPV6 interfaces here,\n\n94\n00:04:14.172 --> 00:04:16.420\nas well as our IPV4 interfaces.\n\n95\n00:04:16.420 --> 00:04:19.850\nSo we do have two IPV4 and\ntwo IPV6 interfaces here so\n\n96\n00:04:19.850 --> 00:04:21.790\nwe can see that we have those bound.\n\n97\n00:04:21.790 --> 00:04:25.630\nNow we could say listen on all IP\naddresses, essentially any IP that's on or\n\n98\n00:04:25.630 --> 00:04:27.480\nany interface that's on the system.\n\n99\n00:04:27.480 --> 00:04:31.016\nOr we can be specific and\nsay just use this list here.\n\n100\n00:04:31.016 --> 00:04:34.556\nAnd I can make some choices and\neither select or unselect and maybe add or\n\n101\n00:04:34.556 --> 00:04:36.570\nremove interfaces if that was the case.\n\n102\n00:04:36.570 --> 00:04:39.353\nSo, I can bind interfaces and\nbe selective.\n\n103\n00:04:39.353 --> 00:04:41.535\nI do have the ability to\ndeal with forwarding.\n\n104\n00:04:41.535 --> 00:04:46.010\nWe talked about the ability for DNS\nserver to forward resolution request or\n\n105\n00:04:46.010 --> 00:04:49.120\nqueries out to another server\nthat may be authoritative for\n\n106\n00:04:49.120 --> 00:04:50.810\nsomething that we're looking for.\n\n107\n00:04:50.810 --> 00:04:53.220\nWe can essentially pass\nthat query to the server.\n\n108\n00:04:53.220 --> 00:04:56.770\nIt'll do a lookup if it doesn't know\nit can use forwarding if that has been\n\n109\n00:04:56.770 --> 00:04:59.510\nspecified and\nset up to pass that query on.\n\n110\n00:04:59.510 --> 00:05:01.590\nSo forwarding would be configured here,\nright?\n\n111\n00:05:01.590 --> 00:05:04.230\nAnd notice we talked about route hints,\nas well.\n\n112\n00:05:04.230 --> 00:05:07.515\nUse route hints if no browsers or\nno forwarding, rather, are available.\n\n113\n00:05:07.515 --> 00:05:10.157\nI spoke about route hints in\nthe last episode as well.\n\n114\n00:05:10.157 --> 00:05:12.815\nTalked about the root servers and\nthe root hints file.\n\n115\n00:05:12.815 --> 00:05:16.926\nAnd you see we can go in here and specify\nthat we want to use route hints to forward\n\n116\n00:05:16.926 --> 00:05:19.345\nif no forwarders are actually available.\n\n117\n00:05:19.345 --> 00:05:22.325\nBut we can add in, you'll see here\na list of forwarding servers and\n\n118\n00:05:22.325 --> 00:05:24.825\nindicate what we wanna be able to do for\nthat.\n\n119\n00:05:24.825 --> 00:05:28.250\nSo we have the ability here to be able\nto modify the list that's here and\n\n120\n00:05:28.250 --> 00:05:30.500\nthen use additional ones as needed.\n\n121\n00:05:30.500 --> 00:05:34.320\nWe can specify advanced settings here.\n\n122\n00:05:34.320 --> 00:05:37.860\nWe can go in, we can take a look at,\nby checking off, enabling or\n\n123\n00:05:37.860 --> 00:05:39.110\ndisabling certain things.\n\n124\n00:05:39.110 --> 00:05:42.420\nCherokee, I know you mentioned\nround-robining as one of the options that\n\n125\n00:05:42.420 --> 00:05:45.460\npotentially would help us to scale DNS,\nin the last episode.\n\n126\n00:05:45.460 --> 00:05:49.750\nThat is turned on by default, and you can\nsee it's enabled here on the Advance tab,\n\n127\n00:05:49.750 --> 00:05:50.870\nbut notice we could turn it off.\n\n128\n00:05:50.870 --> 00:05:54.134\nI think you actually referred to it as\nthe poor man's load balancing, right?\n\n129\n00:05:54.134 --> 00:05:55.331\nIs what you called it.\n\n130\n00:05:55.331 --> 00:05:58.760\nSo we can enable round-robin,\nand you'll see that here.\n\n131\n00:05:58.760 --> 00:06:01.150\nNet mask ordering, we'll be talking\nabout some of these features and\n\n132\n00:06:01.150 --> 00:06:03.650\nwhat they are in upcoming conversations.\n\n133\n00:06:03.650 --> 00:06:05.360\nWe could secure the cache\nagainst pollution.\n\n134\n00:06:05.360 --> 00:06:09.045\nI mentioned one of the ways we would be\nconcerned from a security perspective,\n\n135\n00:06:09.045 --> 00:06:11.690\nabout the way security works\nis the idea of the cache being\n\n136\n00:06:11.690 --> 00:06:13.580\nmanipulated by a bad actor.\n\n137\n00:06:13.580 --> 00:06:16.340\nThat checkbox allows us to\nenable certain protections\n\n138\n00:06:16.340 --> 00:06:19.710\nthat will prevent the registering\nof DNS records that are not\n\n139\n00:06:19.710 --> 00:06:21.750\nseeing this coming from a trusted source.\n\n140\n00:06:21.750 --> 00:06:25.030\nSo that would help us to prevent\nthe ability for that actor to get in and\n\n141\n00:06:25.030 --> 00:06:27.720\nmanipulate the DNS entries\nwithout our knowledge.\n\n142\n00:06:27.720 --> 00:06:31.225\nWe could pair that with something\nlike DNSSec, short for DNS Security,\n\n143\n00:06:31.225 --> 00:06:34.164\nwe'll talk about that in\nan upcoming conversation as well.\n\n144\n00:06:34.164 --> 00:06:39.111\nAnd DNSSec will let us digitally sign our\nresource records and add some new records\n\n145\n00:06:39.111 --> 00:06:43.220\nto the mix, brand new records that\nare part of the DNSSec solution.\n\n146\n00:06:43.220 --> 00:06:46.776\nAnd by digitally signing those records,\nvalidating the proof of origin or\n\n147\n00:06:46.776 --> 00:06:50.389\nthe point of origin, telling us they're\ncoming from a trusted source, and\n\n148\n00:06:50.389 --> 00:06:53.510\nproviding integrity to ensure\nthose records are accurate.\n\n149\n00:06:53.510 --> 00:06:58.580\nBy using DNSSec, we're further securing,\nfurther locking down our DNS server.\n\n150\n00:06:58.580 --> 00:07:01.760\nEnsuring to the best of our ability,\nnothing's 100% guaranteed, of course,\n\n151\n00:07:01.760 --> 00:07:05.400\nbut to the best of our ability overcoming\nmany of the common pitfalls and\n\n152\n00:07:05.400 --> 00:07:06.830\ntraps that may occur.\n\n153\n00:07:06.830 --> 00:07:10.900\nThat we are likely to be able to say\nthat these records are authoritative.\n\n154\n00:07:10.900 --> 00:07:13.726\nThey have not been modified,\nthey are coming from a trusted source.\n\n155\n00:07:13.726 --> 00:07:15.651\nAnd that we can trust\nthe resolution that occurs and\n\n156\n00:07:15.651 --> 00:07:17.635\ninteract with those individuals or\nthose systems.\n\n157\n00:07:17.635 --> 00:07:20.864\nAnd know they're trustworthy,\nthis provides a higher level of integrity,\n\n158\n00:07:20.864 --> 00:07:22.314\nand a higher level of protection.\n\n159\n00:07:22.314 --> 00:07:24.683\nSo it's gonna be important for\nus to know about that.\n\n160\n00:07:24.683 --> 00:07:28.176\nSo we could set that all up here,\nwe can go in and\n\n161\n00:07:28.176 --> 00:07:31.950\nwe can set up the ability\nto be able to fail unload.\n\n162\n00:07:31.950 --> 00:07:34.890\nIf a bad zone data information\nis provided, if we have\n\n163\n00:07:34.890 --> 00:07:38.210\ndata that looks corrupted, we can fail\nthat load and not resolve that zone.\n\n164\n00:07:38.210 --> 00:07:39.753\nSo there's a lot of different\nthings we can do here.\n\n165\n00:07:39.753 --> 00:07:43.493\nOur root hints as you can see,\nthe default root hints directory,\n\n166\n00:07:43.493 --> 00:07:47.165\nthe folder rather, or excuse me,\nthe file there is provided for\n\n167\n00:07:47.165 --> 00:07:50.910\nthe common root servers on\nthe Internet are gonna be listed here.\n\n168\n00:07:50.910 --> 00:07:53.666\nRemember, we talked about the fact\nthere are 13 of them out there and\n\n169\n00:07:53.666 --> 00:07:56.623\nyou could see they all start with a letter\ndesignation by going A through M.\n\n170\n00:07:56.623 --> 00:07:58.698\nAnd they have the associated IP addresses.\n\n171\n00:07:58.698 --> 00:08:02.014\nYears ago you would look at this, and\nyou would see all of these would be IPv4.\n\n172\n00:08:02.014 --> 00:08:05.004\nBut now you're seeing a lot of these\nare listed as IPv6 addresses, so\n\n173\n00:08:05.004 --> 00:08:06.470\njust kind of interesting.\n\n174\n00:08:06.470 --> 00:08:09.179\nThat you can see that, and\nyou'll see it's a mixture here.\n\n175\n00:08:09.179 --> 00:08:10.309\nSo we have all that.\n\n176\n00:08:10.309 --> 00:08:13.540\nWe do have our debug\nlogging available to us.\n\n177\n00:08:13.540 --> 00:08:16.820\nLogging is such a critical part\nof what we do in any application,\n\n178\n00:08:16.820 --> 00:08:18.340\nany service, for any reason.\n\n179\n00:08:18.340 --> 00:08:20.660\nWe've talked about the value\nof logging in other episodes.\n\n180\n00:08:20.660 --> 00:08:23.450\nBut we do have logging\ncapabilities here for DNS.\n\n181\n00:08:23.450 --> 00:08:25.530\nBut don't confuse general logging,\n\n182\n00:08:25.530 --> 00:08:28.780\nwhat we would call event logging\nover here on the other tap.\n\n183\n00:08:28.780 --> 00:08:30.520\nDon't confuse this with debug logging.\n\n184\n00:08:30.520 --> 00:08:33.310\nThe two are distinctly different,\nthey both are logging.\n\n185\n00:08:33.310 --> 00:08:35.900\nIt's a question of what we're logging and\nthe amount of data,\n\n186\n00:08:35.900 --> 00:08:38.780\nthe amount of information that\ncomes in as a result of the log.\n\n187\n00:08:38.780 --> 00:08:43.900\nDebug logging is you'll see not turned\non unless we enable it, log packets for\n\n188\n00:08:43.900 --> 00:08:44.440\ndebugging.\n\n189\n00:08:44.440 --> 00:08:45.990\nSo we have to first of all enable that.\n\n190\n00:08:45.990 --> 00:08:47.020\nAnd then you have to choose,\n\n191\n00:08:47.020 --> 00:08:51.460\nas you can see when I enable it, there are\ncheck boxes that can be turned on or off.\n\n192\n00:08:51.460 --> 00:08:55.990\nI have to choose what level of detail\nI want in the packet information,\n\n193\n00:08:55.990 --> 00:08:59.610\nhow much information I want to\ngrab as a result of my logging and\n\n194\n00:08:59.610 --> 00:09:04.070\nwhere I then want to place the log\nfile and how big the log file will be.\n\n195\n00:09:04.070 --> 00:09:08.020\nWe do set a maximum because these\nlogs can get very big very quickly.\n\n196\n00:09:08.020 --> 00:09:11.280\nDebug logging is essentially\nlogging in verbose mode,\n\n197\n00:09:11.280 --> 00:09:14.370\nwe're grabbing almost everything or\neverything you can see by default,\n\n198\n00:09:14.370 --> 00:09:18.070\nalmost every check box is selected\nunless we were to go and modify that.\n\n199\n00:09:18.070 --> 00:09:20.070\nAnd we're grabbing a great deal of data,\nand\n\n200\n00:09:20.070 --> 00:09:23.330\ndoing so for\nwhatever period of time we would specify.\n\n201\n00:09:23.330 --> 00:09:25.570\nNormally, now you see we don't\nspecify time period here,\n\n202\n00:09:25.570 --> 00:09:29.860\ninstead specify a maximum size that log\nwill go until we either come in here and\n\n203\n00:09:29.860 --> 00:09:33.680\nturn this off or we hit the maximum\nsize of which case it would stop.\n\n204\n00:09:33.680 --> 00:09:37.560\nSo we do often set up and turn on debug\nlogging when we're troubleshooting,\n\n205\n00:09:37.560 --> 00:09:39.630\ntrying to figure out what may be wrong.\n\n206\n00:09:39.630 --> 00:09:43.060\nAnd that can be one thing that we wanna\nlook at with regards to troubleshooting,\n\n207\n00:09:43.060 --> 00:09:44.850\njust an interesting little aside here.\n\n208\n00:09:44.850 --> 00:09:47.770\nWe'll go back to our DNS server\ncommandlet for just a minute.\n\n209\n00:09:47.770 --> 00:09:50.720\nWanna show you one in particular,\nyou may or may not be aware of\n\n210\n00:09:50.720 --> 00:09:54.250\ncalled Get-DnsServerStatistics, and\nI've actually gonna break it on it, and\n\n211\n00:09:54.250 --> 00:09:56.330\nwhen just drill down on\nit from the list here.\n\n212\n00:09:56.330 --> 00:10:02.305\nBut when you look at DnsServerStatistics,\nyou'll get DnsServer,\n\n213\n00:10:02.305 --> 00:10:07.250\nyou get DnsServerZones,\nServerTrust, Server our ST,\n\n214\n00:10:07.250 --> 00:10:11.200\nright there, Get-DnsServerStatistics.\n\n215\n00:10:11.200 --> 00:10:13.070\nYou may never have seen this one before,\nbut\n\n216\n00:10:13.070 --> 00:10:16.370\nwe're gonna have DnsServerStatistics for\nzone usage, and so\n\n217\n00:10:16.370 --> 00:10:18.120\nmaybe an interesting one for\nyou just to play around with.\n\n218\n00:10:18.120 --> 00:10:23.038\nGet-DnsServerStatistics help us to gather\ninformation on usage of our zones, and\n\n219\n00:10:23.038 --> 00:10:27.416\nactually gives us information that\nmay be valuable for troubleshooting.\n\n220\n00:10:27.416 --> 00:10:30.724\nSo, one of the commandlets that you may or\nmay not be aware of,\n\n221\n00:10:30.724 --> 00:10:35.369\nmay want to think about using, you would\ndo something like Get-DnsServerStatistics\n\n222\n00:10:35.369 --> 00:10:39.629\nwith a zone name parameter, specify\nthe name of the zone, you know ITPro.TV,\n\n223\n00:10:39.629 --> 00:10:41.947\nPracticeLabs.com, whatever it may be.\n\n224\n00:10:41.947 --> 00:10:44.606\nAnd then you would specify\nthe kind of statistics you want,\n\n225\n00:10:44.606 --> 00:10:48.173\nzone query statistics, zone transfer\nstatistics, zone update statistics,\n\n226\n00:10:48.173 --> 00:10:49.680\nyou have a couple options there.\n\n227\n00:10:49.680 --> 00:10:52.140\nAnd you would then be able\nto get information back and\n\n228\n00:10:52.140 --> 00:10:55.570\nsee information that can help you\nto understand whether the zone is\n\n229\n00:10:55.570 --> 00:10:57.390\nbeing optimized or\nwhether it's being managed properly.\n\n230\n00:10:57.390 --> 00:10:59.510\nMaybe there's a problem,\nmaybe it failed on load,\n\n231\n00:10:59.510 --> 00:11:01.300\nyou know things like\nthat would be helpful so\n\n232\n00:11:01.300 --> 00:11:04.610\nit may just be some interesting\ninformation for you to take a look at.\n\n233\n00:11:04.610 --> 00:11:07.370\nDNS Logging and Diagnostics in general.\n\n234\n00:11:07.370 --> 00:11:10.710\nSince we're here and talking about it\nmay be good for you to think about, and\n\n235\n00:11:10.710 --> 00:11:14.440\nthere are some information on how to\nconfigure, set this up and manage this.\n\n236\n00:11:14.440 --> 00:11:17.010\nSo, may just be valuable for\nyou to take a look at.\n\n237\n00:11:18.350 --> 00:11:22.150\nSo we were just taking a look at the fact\nwe can enable debug logging, we can also\n\n238\n00:11:22.150 --> 00:11:25.200\nenable, I'm just gonna go back and turn\nthat off cuz we don't want to enable that.\n\n239\n00:11:25.200 --> 00:11:29.700\nWe could also enable event logging, you'll\nsee by default we are logging all events.\n\n240\n00:11:29.700 --> 00:11:32.630\nAgain, this will be just the default\nout of the box configuration can\n\n241\n00:11:32.630 --> 00:11:35.000\nof course go back and\nmodify this if needed.\n\n242\n00:11:35.000 --> 00:11:38.420\nBut we can specify hey don't bother\nlogging at all, maybe just errors,\n\n243\n00:11:38.420 --> 00:11:39.660\nerrors and warnings or all.\n\n244\n00:11:39.660 --> 00:11:42.040\nAnd we would then be able to\nlook at our event viewer.\n\n245\n00:11:42.040 --> 00:11:43.260\nSo go to the event logs and\n\n246\n00:11:43.260 --> 00:11:45.850\nlook at the DNS log and\nwe'd be able to see what's going on there.\n\n247\n00:11:45.850 --> 00:11:48.210\nSo we would have that capability.\n\n248\n00:11:48.210 --> 00:11:49.780\nNo, have nothing to say.\n\n249\n00:11:49.780 --> 00:11:51.500\nOkay, I thought there was\nmaybe something there.\n\n250\n00:11:51.500 --> 00:11:53.390\nWe do have monitoring,\nthe ability to go in and\n\n251\n00:11:53.390 --> 00:11:56.190\nyou can see here specify a test type.\n\n252\n00:11:56.190 --> 00:11:58.920\nThis is nice because this lets us\ndo a little inline troubleshooting\n\n253\n00:11:58.920 --> 00:12:00.435\nof the DNS configuration.\n\n254\n00:12:00.435 --> 00:12:03.275\nWe can say, hey,\nrun a simple query against the DNS server,\n\n255\n00:12:03.275 --> 00:12:06.585\nrun a recursive query, and then we can\ngo ahead and test to see whether or\n\n256\n00:12:06.585 --> 00:12:10.115\nnot that resolution is happening and if it\ndoesn't that gives us an indication we may\n\n257\n00:12:10.115 --> 00:12:13.642\nhave something wrong with one or more zone\nfiles or the configuration to the server.\n\n258\n00:12:13.642 --> 00:12:15.952\nMaybe we unbound the IP addresses or\n\n259\n00:12:15.952 --> 00:12:19.552\nthe interfaces where resolution would take\nplace and we're not talking to anybody.\n\n260\n00:12:19.552 --> 00:12:20.732\nMaybe our zones are not loading.\n\n261\n00:12:20.732 --> 00:12:22.512\nThere's different things that could go on.\n\n262\n00:12:22.512 --> 00:12:25.640\nWe'll be able to run this just as\na quick diagnostic, literally enable it,\n\n263\n00:12:25.640 --> 00:12:28.240\nyou had test now and boom it comes\nback and tells you what's going on.\n\n264\n00:12:28.240 --> 00:12:31.340\nSo it would be valuable for\nyou just to look at the settings in here.\n\n265\n00:12:31.340 --> 00:12:34.450\nBy the way, every one of these\nsettings is going to be stuff that you\n\n266\n00:12:34.450 --> 00:12:37.950\nwould have seen going back to\nmany generations of DNS servers.\n\n267\n00:12:37.950 --> 00:12:41.250\nThis is not anything that is\nradically new, the support for\n\n268\n00:12:41.250 --> 00:12:45.290\nIPV6 is obviously a newer feature,\nand some of the newer versions of\n\n269\n00:12:45.290 --> 00:12:48.930\nthe Windows operating system, so\ncertainly in server 12, 1202, and\n\n270\n00:12:48.930 --> 00:12:51.790\nserver 16 you would see\nIPV6 capable support here.\n\n271\n00:12:51.790 --> 00:12:54.380\nBut you're going back to server 2008,\nserver 2003,\n\n272\n00:12:54.380 --> 00:12:58.580\nDNS servers would have had these\ntabs it would have looked like this.\n\n273\n00:12:58.580 --> 00:13:02.260\nIt would have done and unable many of\nthese features exactly the same way.\n\n274\n00:13:02.260 --> 00:13:05.040\nSo this is not gonna be\na bunch of new stuff.\n\n275\n00:13:05.040 --> 00:13:08.720\nBut it is gonna be continuing the\nevolution of our ability to manage DNS,\n\n276\n00:13:08.720 --> 00:13:10.420\nand so we just wanna be aware of that.\n\n277\n00:13:10.420 --> 00:13:11.880\nThat's up with the server itself.\n\n278\n00:13:12.970 --> 00:13:16.990\nLet's go in and let's just talk about\ncreating a new zone for a minute.\n\n279\n00:13:16.990 --> 00:13:19.180\nLet's just talk about what we can do here.\n\n280\n00:13:19.180 --> 00:13:20.830\nBut before I do that,\nI wanna show you what our current\n\n281\n00:13:20.830 --> 00:13:23.560\nzone looks like our folder look up\nzone is active directory integrated.\n\n282\n00:13:23.560 --> 00:13:26.620\nJust want to show you the settings on\nthat, show you what that looks like.\n\n283\n00:13:26.620 --> 00:13:28.730\nWe can take it out of\nActive Directory integration and\n\n284\n00:13:28.730 --> 00:13:30.270\nput it back just by\nchanging some settings.\n\n285\n00:13:30.270 --> 00:13:33.390\nAnd then we'll create a new zone just\nto show you how that works as well.\n\n286\n00:13:33.390 --> 00:13:37.880\nSo we do have our forward lookup zone\nhere, we do have our PracticeLabs.com\n\n287\n00:13:37.880 --> 00:13:41.120\nzone, we do have some of those resource\nrecords that you heard me mention and\n\n288\n00:13:41.120 --> 00:13:43.080\ntalk about in our last episode.\n\n289\n00:13:43.080 --> 00:13:44.840\nWe have our host records here for\n\n290\n00:13:44.840 --> 00:13:47.850\nIPv4, you can see them\nlisted here with a single a.\n\n291\n00:13:47.850 --> 00:13:50.950\nWe do have our Name Server Record or\nNS Record is here,\n\n292\n00:13:50.950 --> 00:13:55.940\ngiving us the listing of which DNS server\nor servers, in this case only one, but\n\n293\n00:13:55.940 --> 00:13:59.690\nperhaps more than one server\nis gonna be able to manage and\n\n294\n00:13:59.690 --> 00:14:03.310\nbe able to interact with information\nthat provide DNS services for us.\n\n295\n00:14:03.310 --> 00:14:05.740\nIt's what name server records specify.\n\n296\n00:14:05.740 --> 00:14:09.040\nWe do have our SOA record,\nyou mentioned that one as well, Cherokee.\n\n297\n00:14:09.040 --> 00:14:11.660\nOur SOA record start of\nauthority is our record,\n\n298\n00:14:11.660 --> 00:14:14.230\nand we only have one SOA record per zone.\n\n299\n00:14:14.230 --> 00:14:16.300\nBut that's gonna give us\nthe ability to manage that zone,\n\n300\n00:14:16.300 --> 00:14:17.930\nas we mentioned authoritatively.\n\n301\n00:14:17.930 --> 00:14:22.060\nLet us speak on behalf of the zone and\nsay, yeah, I do have knowledge of it.\n\n302\n00:14:22.060 --> 00:14:25.780\nHere's the resource record, whatever\nrecord it maybe you were looking for\n\n303\n00:14:25.780 --> 00:14:27.960\nlet me get that for\nyou because I control it and\n\n304\n00:14:27.960 --> 00:14:30.830\nown it and\nI can actually speak to what's in there.\n\n305\n00:14:30.830 --> 00:14:34.570\nSo the SOA record registers the authority\nto manage the zone name space in\n\n306\n00:14:34.570 --> 00:14:35.300\nthis case.\n\n307\n00:14:35.300 --> 00:14:36.180\nSo we see that.\n\n308\n00:14:36.180 --> 00:14:37.550\nWe don't have any of those other records.\n\n309\n00:14:37.550 --> 00:14:39.800\nWe mentioned, but\nit wouldn't be hard to create them.\n\n310\n00:14:39.800 --> 00:14:41.555\nAll we would have to do\nis right click here.\n\n311\n00:14:41.555 --> 00:14:44.194\nAnd we do have the most common ones,\nthere's two or three we mentioned\n\n312\n00:14:44.194 --> 00:14:47.165\nthe see name, the alias record I\nmentioned, the NX record, they're there.\n\n313\n00:14:47.165 --> 00:14:50.637\nBut if we don't see record types\nthat we want, in other words,\n\n314\n00:14:50.637 --> 00:14:54.650\nyou know these are not the ones we want,\njust other new records, right?\n\n315\n00:14:54.650 --> 00:14:56.490\nWe just basically have an option there.\n\n316\n00:14:56.490 --> 00:14:58.540\nWe just go in and\nwe hit the pick list here and\n\n317\n00:14:58.540 --> 00:15:01.600\nwe can see that there are quite\na number of resource records.\n\n318\n00:15:01.600 --> 00:15:05.140\nAs I scroll down I can see all sorts of\ndifferent ones that would be here, and\n\n319\n00:15:05.140 --> 00:15:07.030\nI just have to choose the appropriate one.\n\n320\n00:15:07.030 --> 00:15:10.940\nYou'll see a host record a or\nquadruple a, right?\n\n321\n00:15:10.940 --> 00:15:14.210\nFor IPv6, as we talked about,\nwe could provide one of those,\n\n322\n00:15:14.210 --> 00:15:16.940\nand if we wanna create a host record,\nI just come here, and\n\n323\n00:15:16.940 --> 00:15:20.950\nI specify what that is, and I can choose\nhow to do that, it's very straightforward.\n\n324\n00:15:20.950 --> 00:15:25.570\nSo we can go in and create any kind\nof record including our DNS key and\n\n325\n00:15:25.570 --> 00:15:28.740\nsome of the DNS sec records that would\nbe enabled or will be allowed for\n\n326\n00:15:28.740 --> 00:15:30.750\nus to be using,\nall of them are here, right?\n\n327\n00:15:30.750 --> 00:15:33.200\nSo there are quite a number of them,\nand you can go in and\n\n328\n00:15:33.200 --> 00:15:36.640\nspecify what those will be so people\nare right-clicking and choosing new.\n\n329\n00:15:36.640 --> 00:15:39.190\nSo we can do that, we can also go in here,\n\n330\n00:15:39.190 --> 00:15:41.560\nyou'll see, and right-click\nanywhere in here in the interface.\n\n331\n00:15:41.560 --> 00:15:44.180\nI'm kinda behind myself there,\nlet me just do it over here.\n\n332\n00:15:44.180 --> 00:15:47.990\nBut you'll see if I just go to an empty\nwhite area here that's not gonna\n\n333\n00:15:47.990 --> 00:15:51.200\nallow me to select a record or something\njust clean area inside the console.\n\n334\n00:15:51.200 --> 00:15:54.260\nI don't have to click, in other words,\nthe zone file, just like any\n\n335\n00:15:54.260 --> 00:15:57.300\nof these interface, just right click\nanywhere and I get the same menu.\n\n336\n00:15:57.300 --> 00:15:59.540\nSo I can just go ahead and\ndo that from anywhere.\n\n337\n00:15:59.540 --> 00:16:03.179\nSo we can go in here, let's just take\na look at the properties of our zone.\n\n338\n00:16:03.179 --> 00:16:07.804\nLet's go here and bring this up And\nwe can see, just move this over and center\n\n339\n00:16:07.804 --> 00:16:12.530\nit just a little bit, that on the general\ntab we do have the status of the zone.\n\n340\n00:16:12.530 --> 00:16:16.340\nIt is running, so we could Pause that,\nremove that from active use and\n\n341\n00:16:16.340 --> 00:16:20.000\nperhaps stop name resolution for a period\nof time given whatever we may want to do.\n\n342\n00:16:20.000 --> 00:16:22.430\nMaybe we're troubleshooting,\nmaybe we have to do something,\n\n343\n00:16:22.430 --> 00:16:24.450\njust want to take it down for\na little bit of time.\n\n344\n00:16:24.450 --> 00:16:28.070\nActive Directory Integrator, I mentioned\nthe zone is Active Directory integrated.\n\n345\n00:16:28.070 --> 00:16:29.140\nWe do have different zone types,\n\n346\n00:16:29.140 --> 00:16:32.710\nand we'll take a look at it as when\nwe run the wizard in just a minute.\n\n347\n00:16:32.710 --> 00:16:36.120\nBut you could see here we do have\nPrimary zone, which is what we're using\n\n348\n00:16:37.270 --> 00:16:40.180\nto specify that this is the zone\nthat will be authoritative,\n\n349\n00:16:40.180 --> 00:16:42.620\ngive us the information for\nthe name space.\n\n350\n00:16:42.620 --> 00:16:47.370\nActive Directory integration implies\nthat we're setting this zone up on\n\n351\n00:16:47.370 --> 00:16:52.450\nActive Directory domain controllers, ADDS\nsystems, Active Directory Domain Services.\n\n352\n00:16:52.450 --> 00:16:55.910\nAnd we're hosting DNS on\nthe Active Directory domain controllers,\n\n353\n00:16:55.910 --> 00:16:59.940\nintegrating DNS in other words into\nthe AD space, having to become\n\n354\n00:16:59.940 --> 00:17:04.070\npart of the replication cycle, part of\nthe backup cycle of our maintenance and\n\n355\n00:17:04.070 --> 00:17:06.971\nmanagement and\ngrooming of the Active Directory overall,\n\n356\n00:17:06.971 --> 00:17:10.310\nmakes it much more reliable,\nhighly available and resilient for us.\n\n357\n00:17:10.310 --> 00:17:13.370\nSo that way if every domain\ncontroller is running DNS and I have,\n\n358\n00:17:13.370 --> 00:17:17.020\nlet's say, hypothetically ten DNS\nservers in my architecture globally?\n\n359\n00:17:17.020 --> 00:17:19.650\nWell, I have ten domain controllers\nthat are running DNS and\n\n360\n00:17:19.650 --> 00:17:24.002\nevery one of them can interact with and\nspeak to this particular information.\n\n361\n00:17:24.002 --> 00:17:28.650\nCuz as I create a new global, or\nexcuse me, a new domain controller, and\n\n362\n00:17:28.650 --> 00:17:32.770\nI set it up I'm gonna have this DNS\ninformation when I bring DNS up.\n\n363\n00:17:32.770 --> 00:17:36.030\nI'll be able to have these zones there and\nevery one of them can speak to\n\n364\n00:17:36.030 --> 00:17:39.630\nthis information so it creates that\nreliability And that resiliency for us,\n\n365\n00:17:39.630 --> 00:17:42.730\nbuilt in high availability if you wanna\nthink of it that way, right, just by\n\n366\n00:17:42.730 --> 00:17:46.760\nspreading our DNS information around and\nputting it onto every domain controller.\n\n367\n00:17:46.760 --> 00:17:50.350\nSo we do have that capability, Primary\nzones, store the copy of the zone file\n\n368\n00:17:50.350 --> 00:17:53.050\nthat could be updated directly,\nessentially readable, writeable.\n\n369\n00:17:53.050 --> 00:17:56.570\nSo they are the zone files that could be\nedited and are gonna be the master files\n\n370\n00:17:56.570 --> 00:18:01.290\nthat will then be able to be used for name\nresolution but can be updated and managed.\n\n371\n00:18:01.290 --> 00:18:02.790\nThe secondary zone files,\n\n372\n00:18:02.790 --> 00:18:06.110\nthink of them as read only,\nthey're copies of our Primary zone file.\n\n373\n00:18:06.110 --> 00:18:10.580\nThey cannot be updated directly but\nthey are copies from the primary.\n\n374\n00:18:10.580 --> 00:18:14.940\nSo we have a secondary server somewhere\nthat's not gonna directly allow for\n\n375\n00:18:14.940 --> 00:18:18.600\nupdates to the zone but needs a copy\nof it to do localname resolution.\n\n376\n00:18:18.600 --> 00:18:22.185\nMaybe in the remote office where we're\nnot gonna actually be registering this\n\n377\n00:18:22.185 --> 00:18:24.940\nsystem and\nbe actually doing any management, but\n\n378\n00:18:24.940 --> 00:18:28.380\nsimply want to be able to provide\nresources to those local users,\n\n379\n00:18:28.380 --> 00:18:32.000\nthen we would use a secondary zone\nwhich is a copy of the existing zone.\n\n380\n00:18:32.000 --> 00:18:35.370\nThis allows us to be able to create\na read only copy that is used simply for\n\n381\n00:18:35.370 --> 00:18:36.470\nresolution with new management.\n\n382\n00:18:36.470 --> 00:18:38.820\nSo that's what a secondary\nzone file would be.\n\n383\n00:18:38.820 --> 00:18:40.400\nWe also have our Stub zone.\n\n384\n00:18:41.440 --> 00:18:46.120\nStub zones are going to be a slimmed\ndown version of a secondary zone.\n\n385\n00:18:46.120 --> 00:18:49.530\nThey are read only, they are like\nsecondary zones in that respect.\n\n386\n00:18:49.530 --> 00:18:52.250\nBut a secondary zone is a complete and\nfull copy of the Primary zone.\n\n387\n00:18:52.250 --> 00:18:54.900\nIt has all the records,\nhas all the information.\n\n388\n00:18:54.900 --> 00:18:58.720\nIt is in every way a duplicate with the\none exception of it being a read only and\n\n389\n00:18:58.720 --> 00:19:01.210\nnot manageable version\nof our Primary zone.\n\n390\n00:19:01.210 --> 00:19:04.030\nBut a stub zone is a condensed down or\nshrinked down,\n\n391\n00:19:04.030 --> 00:19:07.095\nmodified, filtered version\nof a Secondary zone.\n\n392\n00:19:07.095 --> 00:19:09.955\nIt lists only a very small number\nof these resource records,\n\n393\n00:19:09.955 --> 00:19:14.815\nreally just acts as a sentinel kind of\nhanging out on the periphery somewhere.\n\n394\n00:19:14.815 --> 00:19:19.290\nAnd just points us back through some\nvery basic name resolution records\n\n395\n00:19:19.290 --> 00:19:21.880\nto where the zone information\ncan actually be found.\n\n396\n00:19:21.880 --> 00:19:25.800\nSo we tend to put Stub zones out in\nplaces where we don't want to expose DNS\n\n397\n00:19:25.800 --> 00:19:29.300\ninfrastructure directly,\nwhere we don't have the capability and\n\n398\n00:19:29.300 --> 00:19:33.530\nthe reality or the necessity to\nbe able to do direct management.\n\n399\n00:19:33.530 --> 00:19:36.620\nBut we want to direct\nremote users back in and\n\n400\n00:19:36.620 --> 00:19:38.980\nallow them to be able to do resolution.\n\n401\n00:19:38.980 --> 00:19:40.470\nAnd as a result of that,\n\n402\n00:19:40.470 --> 00:19:43.920\nthat Stub zone as you could see here,\ncopy of the zone containing only.\n\n403\n00:19:43.920 --> 00:19:47.200\nAnd I know it may be hard to see,\nbut name server SOA and\n\n404\n00:19:47.200 --> 00:19:50.150\npossibly what are known as glue A records,\nessentially it's\n\n405\n00:19:50.150 --> 00:19:54.140\njust certain host records that point\nback to systems that we have to resolve.\n\n406\n00:19:54.140 --> 00:19:58.350\nServer containing the sub zone is not\nauthoritative for this zone, right,\n\n407\n00:19:58.350 --> 00:20:01.130\nmeaning that the stub\nzone's not authoritative,\n\n408\n00:20:01.130 --> 00:20:02.670\nall it can do is say you know what?\n\n409\n00:20:02.670 --> 00:20:05.900\nI heard a rumor that if you\ngo over here to this address\n\n410\n00:20:05.900 --> 00:20:07.700\nyou'll be able to find\nthat information you want.\n\n411\n00:20:07.700 --> 00:20:10.380\nIt's almost like a back alley\nkind of conversation, right?\n\n412\n00:20:10.380 --> 00:20:13.985\nYou know dark scary corner,\nyou don't see people's faces, right?\n\n413\n00:20:13.985 --> 00:20:18.460\nAnd they say, hey you want some name\nresolution, hey go to this address, right?\n\n414\n00:20:18.460 --> 00:20:20.180\nAnd that's where you can find it.\n\n415\n00:20:20.180 --> 00:20:21.660\nAnd that's all a Stub zone does.\n\n416\n00:20:21.660 --> 00:20:25.350\nIt really just redirects you, it acts\nlike a proxy, it just say's hey let me\n\n417\n00:20:25.350 --> 00:20:28.500\njust give you this piece of information\nand I'm gonna re-direct you over there.\n\n418\n00:20:28.500 --> 00:20:31.850\nYou got to talk to the person you find\non the other side of that address and\n\n419\n00:20:31.850 --> 00:20:32.590\nthey're gonna be authority.\n\n420\n00:20:32.590 --> 00:20:34.370\nThey can answer your questions, right?\n\n421\n00:20:34.370 --> 00:20:36.230\nBut I can't tell you what the story is.\n\n422\n00:20:36.230 --> 00:20:38.050\nI just tell you where to\ngo to get the information.\n\n423\n00:20:38.050 --> 00:20:39.500\nThat's what a Stub zone does.\n\n424\n00:20:39.500 --> 00:20:40.480\nYou ever do that with your kids?\n\n425\n00:20:40.480 --> 00:20:42.090\nI can't tell you,\nyou gotta go talk to somebody else.\n\n426\n00:20:42.090 --> 00:20:43.140\n&gt;&gt; I do that with Alexa.\n\n427\n00:20:43.140 --> 00:20:44.980\n&gt;&gt; You do that with your daughter?\n\n428\n00:20:44.980 --> 00:20:46.080\nYou do, yeah.\n&gt;&gt; No, no, no, no, no.\n\n429\n00:20:46.080 --> 00:20:47.330\n&gt;&gt; No?\n&gt;&gt; Alexa the Amazon device.\n\n430\n00:20:47.330 --> 00:20:48.110\n&gt;&gt; With Alexa, with Alexa.\n\n431\n00:20:48.110 --> 00:20:51.240\n&gt;&gt; If there's a question I don't know,\nI'm like, I don't know but I'll ask Alexa.\n\n432\n00:20:51.240 --> 00:20:55.142\n&gt;&gt; Okay, so you make Alexa the\nauthoritative source or voice of reason.\n\n433\n00:20:55.142 --> 00:20:55.648\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay, right.\n\n434\n00:20:55.648 --> 00:20:57.658\nSo you got another reason why technology\n\n435\n00:20:57.658 --> 00:20:59.283\nis insidious, right?\n&gt;&gt; [LAUGH]\n\n436\n00:20:59.283 --> 00:21:00.158\n&gt;&gt; All right, cuz if Alexa\n\n437\n00:21:00.158 --> 00:21:04.490\nis having a bad day that day and she's-\n&gt;&gt; Yeah she has no answer column.\n\n438\n00:21:04.490 --> 00:21:07.490\n&gt;&gt; When I go talk to Cherokee you\nhave a vicious circle going on right?\n\n439\n00:21:07.490 --> 00:21:10.614\n&gt;&gt; And so out of also this\nscreen that we're on right here,\n\n440\n00:21:10.614 --> 00:21:14.740\nif you already have a, let's say you\nalready have a DNS infrastructure.\n\n441\n00:21:14.740 --> 00:21:17.460\nSometimes you don't see see that\nPrimary zone option, right?\n\n442\n00:21:17.460 --> 00:21:20.480\nSo when you're creating your zone\nif there's already a pre-existing?\n\n443\n00:21:20.480 --> 00:21:22.350\n&gt;&gt; Well,\nwe'll take a look at that in a sec.\n\n444\n00:21:22.350 --> 00:21:23.530\nWe're gonna run the wizard.\n\n445\n00:21:23.530 --> 00:21:24.216\n&gt;&gt; Okay, sure.\n&gt;&gt; So let's talk\n\n446\n00:21:24.216 --> 00:21:24.830\nabout that in just a second.\n\n447\n00:21:24.830 --> 00:21:26.120\nJust wanna point something out.\n\n448\n00:21:26.120 --> 00:21:29.960\nWe talked about the fact that this\nis Active Directory integrated but\n\n449\n00:21:29.960 --> 00:21:32.470\nwhat we do to specify that,\njust a checkbox at the bottom.\n\n450\n00:21:32.470 --> 00:21:36.030\nI just didn't get to mention that one, how\nwe create an active directory integrated\n\n451\n00:21:36.030 --> 00:21:38.870\nzone, assuming DNS is on\nthe domain controller,\n\n452\n00:21:38.870 --> 00:21:41.415\nwhich it is as we talked about,\nis this checkbox right here.\n\n453\n00:21:41.415 --> 00:21:43.910\nCuz it's not an option where\nit says by the way, third or\n\n454\n00:21:43.910 --> 00:21:46.120\nfourth radio button active\ndirectory integrated.\n\n455\n00:21:46.120 --> 00:21:50.050\nIt's just a checkbox that takes your\nPrimary zone and allows you then to\n\n456\n00:21:50.050 --> 00:21:53.820\nspecify that you will active directory\nintegrate that primary zone.\n\n457\n00:21:53.820 --> 00:21:56.440\nSo this check box right\nhere is essentially what\n\n458\n00:21:56.440 --> 00:21:58.420\ncreates that after directory integration.\n\n459\n00:21:58.420 --> 00:21:59.290\nJust so that we know that.\n\n460\n00:21:59.290 --> 00:22:01.490\nSo we've talked about those, right?\n\n461\n00:22:01.490 --> 00:22:04.220\nBefore we do anything else let's just\nmake sure we're just good on this\n\n462\n00:22:04.220 --> 00:22:05.100\ntab right here.\n\n463\n00:22:05.100 --> 00:22:07.070\nI know you want to bring\nin another thought process.\n\n464\n00:22:07.070 --> 00:22:11.128\nSo give me a second before we\ncloud the issue with craziness.\n\n465\n00:22:11.128 --> 00:22:12.190\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm gonna just clarify what\n\n466\n00:22:12.190 --> 00:22:14.860\nwe're doing here and then we'll be\nhappy to deal with, and I'm gonna be-\n\n467\n00:22:14.860 --> 00:22:15.995\n&gt;&gt; What's the deal with you?\n\n468\n00:22:15.995 --> 00:22:17.160\n[LAUGH].\n&gt;&gt; I'm clairvoyant.\n\n469\n00:22:17.160 --> 00:22:18.180\nI'm gonna say you're gonna\n\n470\n00:22:18.180 --> 00:22:20.590\nask about something like read\nonly domain controllers.\n\n471\n00:22:20.590 --> 00:22:21.400\n&gt;&gt; No.\n&gt;&gt; I'm gonna guess.\n\n472\n00:22:21.400 --> 00:22:22.170\n&gt;&gt; No.\n&gt;&gt; No, you're not?\n\n473\n00:22:22.170 --> 00:22:22.782\n&gt;&gt; That's not it.\n\n474\n00:22:22.782 --> 00:22:23.295\n&gt;&gt; Okay.\n&gt;&gt; [LAUGH].\n\n475\n00:22:23.295 --> 00:22:24.750\n&gt;&gt; I would have asked that if I was you.\n\n476\n00:22:24.750 --> 00:22:26.635\nBut let me just give me one second.\n\n477\n00:22:26.635 --> 00:22:27.275\nWe'll talk, we'll take\n\n478\n00:22:27.275 --> 00:22:28.505\ncare of whatever you want to talk about.\n&gt;&gt; Okay.\n\n479\n00:22:28.505 --> 00:22:29.505\n&gt;&gt; So all DNS servers,\n\n480\n00:22:29.505 --> 00:22:30.740\nwhere are we replicating to?\n\n481\n00:22:30.740 --> 00:22:33.210\nThis is the other part of\nActive Directory integration.\n\n482\n00:22:33.210 --> 00:22:36.340\nOr at least what we have to think, right,\nwhen we're dealing with Active Directory.\n\n483\n00:22:36.340 --> 00:22:39.510\nWhen we do a zone file,\nwe set it up, right?\n\n484\n00:22:39.510 --> 00:22:42.100\nWe're gonna make a copy of it, especially\nif it's Active Directory Integrator,\n\n485\n00:22:42.100 --> 00:22:43.365\nwe're gonna send it out.\n\n486\n00:22:43.365 --> 00:22:47.815\nFrom our primary source to other\nActive Directory enabled domain controller\n\n487\n00:22:47.815 --> 00:22:50.875\nDNS servers, or if it's a secondary\nzone we're gonna create,\n\n488\n00:22:50.875 --> 00:22:52.595\nwe have to replicate that and\ncopy that off.\n\n489\n00:22:52.595 --> 00:22:55.835\nSo we have to take a look here,\nall DNS servers in the domain.\n\n490\n00:22:55.835 --> 00:22:59.025\nYou'll see here when we're doing\nActive Directory integration for\n\n491\n00:22:59.025 --> 00:23:02.265\nour replication scope and we see this\nwhen we run the New Zone Wizard,\n\n492\n00:23:02.265 --> 00:23:03.580\nyou're gonna see this\nis one of the options.\n\n493\n00:23:03.580 --> 00:23:05.050\nWe'll take a look, but\n\n494\n00:23:05.050 --> 00:23:08.220\nchoose how you want that zone\ndata to be replicated out, right.\n\n495\n00:23:08.220 --> 00:23:10.590\nTo all DNS servers running,\nthe domain controllers are on,\n\n496\n00:23:10.590 --> 00:23:13.990\ndomain controllers in the forest,\nso at the forest level, right.\n\n497\n00:23:13.990 --> 00:23:16.790\nIt's all DNS servers running on\ndomain controller in this domain,\n\n498\n00:23:16.790 --> 00:23:18.560\nlimited to this domain, and or\n\n499\n00:23:18.560 --> 00:23:23.140\nthat all domain controllers in this\ndomain for Windows 2000 compatibility.\n\n500\n00:23:23.140 --> 00:23:24.470\nDon't see that very often, right?\n\n501\n00:23:24.470 --> 00:23:27.770\nBut essentially backwards compatible for\nolder systems, right?\n\n502\n00:23:27.770 --> 00:23:28.840\nSo we have a few options here.\n\n503\n00:23:28.840 --> 00:23:32.340\nWe can replicate at the forest\nlevel to all of the information,\n\n504\n00:23:32.340 --> 00:23:34.540\ngo out to all the domain\ncontrollers in the forest.\n\n505\n00:23:34.540 --> 00:23:37.785\nSo that every other name space\nthat would make up the forest,\n\n506\n00:23:37.785 --> 00:23:41.435\nmeaning the other trees and or\nthe other hierarchical child domains and\n\n507\n00:23:41.435 --> 00:23:43.605\nparent domains would be aware of this.\n\n508\n00:23:43.605 --> 00:23:47.105\nOr limit this to just our little\nslice of the forest, our name space,\n\n509\n00:23:47.105 --> 00:23:49.285\njust our domain, and replicate there.\n\n510\n00:23:49.285 --> 00:23:52.895\nSo we have options to consider depending\non what it is that we wanna do, right?\n\n511\n00:23:52.895 --> 00:23:54.205\nSo I wanna make sure we're aware of that.\n\n512\n00:23:54.205 --> 00:23:58.327\nNow you're asking a question about-\n&gt;&gt; I was just gonna say, yeah I think it's\n\n513\n00:23:58.327 --> 00:24:01.903\npretty cool, how if we take that\npre-existing active directory database,\n\n514\n00:24:01.903 --> 00:24:04.983\nand we can just kind of Merge it and\nmesh it together with the other,\n\n515\n00:24:04.983 --> 00:24:06.319\nwhen you think about zones.\n\n516\n00:24:06.319 --> 00:24:11.100\nI kind of relate them in my mind as a DNS\ndatabase, so you're pushing them together.\n\n517\n00:24:11.100 --> 00:24:12.830\nBut I did have a question.\n\n518\n00:24:12.830 --> 00:24:14.890\n&gt;&gt; That was the one I was talking\nabout that you were gonna ask.\n\n519\n00:24:14.890 --> 00:24:18.730\n&gt;&gt; Someone in the chat said does read-only\ndomain controller have a secondary or\n\n520\n00:24:18.730 --> 00:24:20.659\nis it still considered a primary zone?\n\n521\n00:24:20.659 --> 00:24:21.316\n&gt;&gt; That's what I said,\n\n522\n00:24:21.316 --> 00:24:23.575\nI thought you were going to ask about\nread-only domain, I did say that.\n\n523\n00:24:23.575 --> 00:24:25.740\nI'm on my tape,\nyou can actually go back and listen.\n\n524\n00:24:25.740 --> 00:24:27.880\nI said that I thought you\nwere going to ask about that.\n\n525\n00:24:27.880 --> 00:24:28.910\nSo read-only domain controller.\n\n526\n00:24:28.910 --> 00:24:29.770\nSo one more time?\n\n527\n00:24:29.770 --> 00:24:31.062\nThe question is about\nread-only domain controllers.\n\n528\n00:24:31.062 --> 00:24:33.757\n&gt;&gt; Does a read-only domain\ncontroller have a secondary or\n\n529\n00:24:33.757 --> 00:24:35.820\nis it still considered a primary zone?\n\n530\n00:24:35.820 --> 00:24:38.680\n&gt;&gt; It's actually an ozone according\nto what they wrote there almost.\n\n531\n00:24:38.680 --> 00:24:40.510\n&gt;&gt; Yeah,\nwe're just reading in between the lines.\n\n532\n00:24:40.510 --> 00:24:42.309\n&gt;&gt; So if we have a read-only domain\ncontroller, the question is.\n\n533\n00:24:42.309 --> 00:24:45.655\nLet's actually step back and talk about\nwhat a read-only domain controller is for\n\n534\n00:24:45.655 --> 00:24:46.323\njust a minute for\n\n535\n00:24:46.323 --> 00:24:49.655\nthose of you that may or may not know\nwhat read-only domain controllers are.\n\n536\n00:24:49.655 --> 00:24:53.825\nThey're just what the name implies,\nthey're a copy, a replicated copy of\n\n537\n00:24:53.825 --> 00:24:59.245\nthe domain partition information for\nActive Directory.\n\n538\n00:24:59.245 --> 00:25:03.290\nAnd they're setup typically, we may\nput them in, again, a situation, maybe\n\n539\n00:25:03.290 --> 00:25:07.650\na remote office somewhere, where we're not\ngonna have oversight and maybe capability\n\n540\n00:25:07.650 --> 00:25:11.870\nto manage, but we do need to provide\nthe DNS, as part of that potentially.\n\n541\n00:25:11.870 --> 00:25:14.460\nWe do have to provide\ndomain look up services and\n\n542\n00:25:14.460 --> 00:25:18.040\ndomain services that allows us to\nauthenticate things like that.\n\n543\n00:25:18.040 --> 00:25:19.910\nBut we're not going to be\nable to create changes or\n\n544\n00:25:19.910 --> 00:25:23.180\nin any way modify the information\nin the domain controller there.\n\n545\n00:25:23.180 --> 00:25:24.510\nSo its a read only copy.\n\n546\n00:25:24.510 --> 00:25:27.496\nGo back to the concepts in\nNT4 of a PDC and a BDC,\n\n547\n00:25:27.496 --> 00:25:30.357\nif you are familiar with\ngoing back that far.\n\n548\n00:25:30.357 --> 00:25:33.891\nPrimary domain controllers, readable\nwritable, backup domain controllers,\n\n549\n00:25:33.891 --> 00:25:35.682\nback in the day would've been read only,\n\n550\n00:25:35.682 --> 00:25:38.375\nthey would've been read\nonly copies of the primary.\n\n551\n00:25:38.375 --> 00:25:42.463\nAnd so, it's the same general thought\nprocess, a read only domain controller\n\n552\n00:25:42.463 --> 00:25:45.881\nbecomes literally just a copy of\nthe main domain information, but\n\n553\n00:25:45.881 --> 00:25:47.545\nin a form that's not editable.\n\n554\n00:25:47.545 --> 00:25:51.920\nUsed only for us to be able to provide\nservices on point in that space, but\n\n555\n00:25:51.920 --> 00:25:56.230\nnot allow us to make any changes,\nmodify, edit, or manage there.\n\n556\n00:25:56.230 --> 00:26:00.860\nWe are going to be able to have\nfrom a push, we push down to\n\n557\n00:26:00.860 --> 00:26:04.850\nthat server from the primary down to\nthe read-only copy the information, but\n\n558\n00:26:04.850 --> 00:26:06.970\nthere's no communication\ncoming the other way back.\n\n559\n00:26:06.970 --> 00:26:09.860\nAnd as a result, we don't have\nany capability to work with that.\n\n560\n00:26:09.860 --> 00:26:14.634\nSo when we think about that and then we\nthink about whether we will have a copy of\n\n561\n00:26:14.634 --> 00:26:18.609\nthat information, we would have\ninformation for the DNS zone.\n\n562\n00:26:18.609 --> 00:26:21.530\nBut remember, it can't be a primary\nbecause there is no way for\n\n563\n00:26:21.530 --> 00:26:23.280\nus to make any changes, right?\n\n564\n00:26:23.280 --> 00:26:25.989\nOn a read-only domain controller we don't\nhave the ability to do any editing.\n\n565\n00:26:25.989 --> 00:26:30.296\nThere is no way for us to do anything cuz\nno updates can flow back out of that box,\n\n566\n00:26:30.296 --> 00:26:32.910\nbackup into the other domain controllers.\n\n567\n00:26:32.910 --> 00:26:34.180\nWe're purposely setting it up so\n\n568\n00:26:34.180 --> 00:26:36.752\nit's only a one way flow\ncoming down from the primary.\n\n569\n00:26:36.752 --> 00:26:39.520\nSo read-only domain controllers\nliterally are read only.\n\n570\n00:26:39.520 --> 00:26:42.960\nAnd as a result of that anything we have\nthere has to be a copy of the original,\n\n571\n00:26:42.960 --> 00:26:44.270\nbut not modifiable.\n\n572\n00:26:44.270 --> 00:26:45.920\nSo just want to keep that in mind.\n\n573\n00:26:45.920 --> 00:26:49.019\nSo secondary zones are what we would\nsee as opposed to primary zones,\n\n574\n00:26:49.019 --> 00:26:51.057\nif that specifically answers our question.\n\n575\n00:26:51.057 --> 00:26:51.860\n&gt;&gt; It does.\n&gt;&gt; All right, so\n\n576\n00:26:51.860 --> 00:26:53.810\nwelcome to the New Zone Wizard.\n\n577\n00:26:53.810 --> 00:26:54.790\nSo let's just click Next here.\n\n578\n00:26:54.790 --> 00:26:55.870\nWe're talking about that.\n\n579\n00:26:55.870 --> 00:27:00.150\nSo primary zones, you could see when\nwe create and/or secondary zones or\n\n580\n00:27:00.150 --> 00:27:03.630\nstub zones and of course Active Directory\nintegration, if we're doing that.\n\n581\n00:27:03.630 --> 00:27:06.140\nSo let's just create a primary\nzone here real quick.\n\n582\n00:27:06.140 --> 00:27:07.620\nGo ahead and we'll click Next.\n\n583\n00:27:07.620 --> 00:27:10.920\nThis is where that choice about\nreplication we were just taking a look at\n\n584\n00:27:10.920 --> 00:27:12.100\non the tab there.\n\n585\n00:27:12.100 --> 00:27:13.450\nWe looked at the properties comes in.\n\n586\n00:27:13.450 --> 00:27:15.690\nDo you want to replicate\nto just the domain?\n\n587\n00:27:15.690 --> 00:27:17.420\nDo you want to replicate to the forest?\n\n588\n00:27:17.420 --> 00:27:18.100\nWhat do we want to do?\n\n589\n00:27:18.100 --> 00:27:21.480\nSo let's just leave it as replicating\nto the domain, default choice.\n\n590\n00:27:21.480 --> 00:27:25.112\nNow, this is we're we get our ability to\ndo either a forward lookup zone, which is\n\n591\n00:27:25.112 --> 00:27:28.710\nwhat been looking up until now, or the\nreverse look up zone, which is down here.\n\n592\n00:27:28.710 --> 00:27:31.320\nReverse lookup zone are not\ncreated by default,\n\n593\n00:27:31.320 --> 00:27:35.327\nas I suggested in the first episode, but\nrather have to be created as part of\n\n594\n00:27:35.327 --> 00:27:38.300\nthe process whether we do it right now or\ndo it later.\n\n595\n00:27:38.300 --> 00:27:40.558\nJust right click on the reverse\nlookup zone folder and\n\n596\n00:27:40.558 --> 00:27:42.274\nsay I wanna create reverse lookup zone.\n\n597\n00:27:42.274 --> 00:27:45.677\nBut when we do initialize and\ncreate our lookup zone,\n\n598\n00:27:45.677 --> 00:27:48.180\nour forward lookup zone is our choice.\n\n599\n00:27:48.180 --> 00:27:50.470\nThat doesn't mean we can't choose\nto create a reverse lookup zone,\n\n600\n00:27:50.470 --> 00:27:52.740\nbut reverse lookup zones\nhave to be created.\n\n601\n00:27:52.740 --> 00:27:56.430\nThey are going to be manufactured, if you\nwill, just like forward lookup zones are.\n\n602\n00:27:56.430 --> 00:27:57.463\nSo we'll make our choice.\n\n603\n00:27:57.463 --> 00:28:00.480\nHere, I'll do a forward lookup\nzone just so we can see that.\n\n604\n00:28:00.480 --> 00:28:02.910\nWe'll give it a zone name,\nwhatever it may be.\n\n605\n00:28:02.910 --> 00:28:07.610\nSo let's just call this itpro.tv or\nwhatever it's gonna be,\n\n606\n00:28:07.610 --> 00:28:09.200\nit doesn't really matter.\n\n607\n00:28:09.200 --> 00:28:12.310\nAnd then are we going to allow\nonly secure dynamic updates?\n\n608\n00:28:12.310 --> 00:28:14.875\nThis is recommended if you're\ndoing Active Directory Integrated.\n\n609\n00:28:14.875 --> 00:28:19.447\nWhat this means is that when we do\nActive Directory Integrated Zones,\n\n610\n00:28:19.447 --> 00:28:20.462\nwe can do this.\n\n611\n00:28:20.462 --> 00:28:24.992\nAnd we're only gonna be able to register\nand allowed for updates if machine,\n\n612\n00:28:24.992 --> 00:28:27.710\ncomes online,\ngets its IP address from DHCP,\n\n613\n00:28:27.710 --> 00:28:32.940\nhas to create a host record to support its\nuse and its management into the domain.\n\n614\n00:28:32.940 --> 00:28:36.610\nIt can go to DNS and automatically\nregister or the DHCP server and\n\n615\n00:28:36.610 --> 00:28:40.430\nDNS server can talk and they can\nupdate information back and forth.\n\n616\n00:28:40.430 --> 00:28:45.115\nWill only allow objects that can validate\nwhat they are by having computer accounts.\n\n617\n00:28:45.115 --> 00:28:48.550\nIn this case, that are in the Active\nDirectory and validated only allow dynamic\n\n618\n00:28:48.550 --> 00:28:51.310\nupdates to occur from objects\nthat we trust and we know.\n\n619\n00:28:51.310 --> 00:28:54.360\nSo a stranger that's not in the Active\nDirectory, we don't have knowledge of,\n\n620\n00:28:54.360 --> 00:28:56.690\nwould not be able to register and\ncreate a record here.\n\n621\n00:28:56.690 --> 00:28:59.870\nThat's what this does,\nfurther locking down the DNS zones and\n\n622\n00:28:59.870 --> 00:29:02.580\nfurther securing ultimately\nour DNS infrastructure.\n\n623\n00:29:02.580 --> 00:29:05.350\nAllow both non-secure and\nsecure dynamic updates, right?\n\n624\n00:29:05.350 --> 00:29:09.110\nThis would allow us to open up updates, so\n\n625\n00:29:09.110 --> 00:29:13.680\nthat we can have clients that are not\nin the Active Directory, or not capable\n\n626\n00:29:13.680 --> 00:29:18.400\nof using Dynamic Update still in a secure\nway, rather, still be able to register.\n\n627\n00:29:18.400 --> 00:29:21.240\nAnd so this is important, because if\nyou're running mixed infrastructure.\n\n628\n00:29:21.240 --> 00:29:24.936\nIf you're running, for\ninstance, Linux web servers,\n\n629\n00:29:24.936 --> 00:29:28.715\nif you're running Apple desktops,\nMacintosh clients.\n\n630\n00:29:28.715 --> 00:29:31.991\nWhatever you may be doing that's\nnot Microsoft centric, but\n\n631\n00:29:31.991 --> 00:29:34.826\nyou need that information to\nshow up as host records or\n\n632\n00:29:34.826 --> 00:29:37.680\nadditional records in\nyour DNS infrastructure.\n\n633\n00:29:37.680 --> 00:29:40.990\nYou can't just simply do allow\nonly secure dynamic updates or\n\n634\n00:29:40.990 --> 00:29:44.280\nyou're not gonna get registrations for\nthose clients, they won't show up.\n\n635\n00:29:44.280 --> 00:29:47.980\nSo you have to understand that\nyou may have to use this choice\n\n636\n00:29:47.980 --> 00:29:52.620\nbecause you may have to allow these\nclients to be able to register.\n\n637\n00:29:52.620 --> 00:29:56.842\nOr you may create DNS infrastructure\nthat's not Active Directory integrated and\n\n638\n00:29:56.842 --> 00:29:58.689\nmanager it in that separate space.\n\n639\n00:29:58.689 --> 00:30:02.908\nThere's ways to do this, but if you're\ngoing to use Active Directory Integration,\n\n640\n00:30:02.908 --> 00:30:06.263\nyou may have to drop down the security\nsettings to accomplish that.\n\n641\n00:30:06.263 --> 00:30:09.540\nWe do say hey by the way, significant\nsecurity vulnerability because updates can\n\n642\n00:30:09.540 --> 00:30:11.280\nbe accepted from untrusted sources.\n\n643\n00:30:11.280 --> 00:30:14.650\nAs I was suggesting, that is the balancing\nact you have to weigh here and\n\n644\n00:30:14.650 --> 00:30:17.900\njust think about that very logically or\ndo not allow dynamic updates.\n\n645\n00:30:17.900 --> 00:30:21.460\nDon't allow dynamic updates of resource\nrecords, you must update them manually.\n\n646\n00:30:21.460 --> 00:30:25.100\nYou can just lock down the zone and\nsay, hey, I'll do the updates,\n\n647\n00:30:25.100 --> 00:30:26.790\nI'll go in there as the DNS admin.\n\n648\n00:30:26.790 --> 00:30:29.670\nI'll type in those records, but\nI'm gonna do it on my own or\n\n649\n00:30:29.670 --> 00:30:31.220\nsomebody's gonna do it on my behalf.\n\n650\n00:30:31.220 --> 00:30:33.830\nWe're not going to allow clients\nto auto register and populate,\n\n651\n00:30:33.830 --> 00:30:35.040\nwe're just going to do at control.\n\n652\n00:30:35.040 --> 00:30:38.330\nAnd that is traditionally with a lot of\ncompanies will do when they have these\n\n653\n00:30:38.330 --> 00:30:42.080\nconcerns because they're worried about\nthe liability of this middle choice here.\n\n654\n00:30:42.080 --> 00:30:46.070\nUnrestricted clients that may be\nup to no good, a rogue system,\n\n655\n00:30:46.070 --> 00:30:49.630\nsomebody brings one online and we may\nnot be able to stop it from registering,\n\n656\n00:30:49.630 --> 00:30:51.040\nwe may not realize it's there.\n\n657\n00:30:51.040 --> 00:30:53.300\nWe may want to manually control and\nlock down the zone files.\n\n658\n00:30:53.300 --> 00:30:54.540\nIt would be up to us to decide.\n\n659\n00:30:54.540 --> 00:30:57.010\nSo we'll just leave that as\nallow dynamic update securely.\n\n660\n00:30:57.010 --> 00:30:57.720\nNo big deal there.\n\n661\n00:30:58.940 --> 00:30:59.860\nClick Finish.\n\n662\n00:30:59.860 --> 00:31:01.330\nJust go ahead and finish that out.\n\n663\n00:31:01.330 --> 00:31:03.910\nLittle ITPro.TV folder gets created there.\n\n664\n00:31:03.910 --> 00:31:07.528\nAnd notice by the default the only two\nresource records that get created until we\n\n665\n00:31:07.528 --> 00:31:11.040\nstart populating either dynamically or\nwe start creating them on their own or\n\n666\n00:31:11.040 --> 00:31:12.786\na combination will be our SLA record.\n\n667\n00:31:12.786 --> 00:31:13.618\nWe always need that,\n\n668\n00:31:13.618 --> 00:31:17.030\nthat's the record that gives us authority\nto manage the zone we just created.\n\n669\n00:31:17.030 --> 00:31:20.640\nAnd the NS record that tells us what\nname server or name servers if we have\n\n670\n00:31:20.640 --> 00:31:24.415\nmore than one, are gonna be able to\nprovide resolution services for this zone.\n\n671\n00:31:24.415 --> 00:31:26.745\nThat's where we list all the DNS\nservers that would be available, right?\n\n672\n00:31:26.745 --> 00:31:28.415\nSo we're gonna have all that.\n\n673\n00:31:28.415 --> 00:31:29.945\nNow we can have a reverse lookup zone.\n\n674\n00:31:29.945 --> 00:31:33.305\nNotice, I don't have any\ncreated by default, as I said.\n\n675\n00:31:33.305 --> 00:31:36.695\nWhen we populate and set up our zone\nfiles, we're doing forward lookup zones,\n\n676\n00:31:36.695 --> 00:31:38.375\ntraditionally, so we have those.\n\n677\n00:31:38.375 --> 00:31:41.565\nIf we wanna create a reverse lookup zone,\ncan either run the wizard again or\n\n678\n00:31:41.565 --> 00:31:43.815\nwe can just right click here,\nessentially, and just do New Zone.\n\n679\n00:31:43.815 --> 00:31:45.585\nIt would be the same thing.\n\n680\n00:31:45.585 --> 00:31:50.438\nWhat we'd have to do is provide as\nyou can see here again the options,\n\n681\n00:31:50.438 --> 00:31:54.670\nPrimary, Secondary, Stub, and\nor Active Directory Integrated.\n\n682\n00:31:56.270 --> 00:32:03.096\nWe then would provide for our replication\noptions, Forest Level, Domain Level, etc.\n\n683\n00:32:03.096 --> 00:32:04.364\nAll that looks the same.\n\n684\n00:32:04.364 --> 00:32:07.519\nInstead of them saying\nhey name the zone for me.\n\n685\n00:32:07.519 --> 00:32:08.903\nTell me what I want to name it.\n\n686\n00:32:08.903 --> 00:32:11.470\nWe have to provide when\nwe do reverse lookups.\n\n687\n00:32:11.470 --> 00:32:14.330\nThe name but remember we're not providing\nthe name, we're providing the IP address.\n\n688\n00:32:14.330 --> 00:32:18.180\nCuz we're gonna provide the IP in reverse\nlookup, expect and get back the name.\n\n689\n00:32:18.180 --> 00:32:21.970\nAnd in forward lookup we provide the name,\nexpecting to get back the IP address.\n\n690\n00:32:21.970 --> 00:32:25.670\nThose IP addresses are all the host\nrecords of the various records and\n\n691\n00:32:25.670 --> 00:32:28.850\nthe resolution of those IP addresses\nin those resource records.\n\n692\n00:32:28.850 --> 00:32:33.112\nHere we're gonna start out by providing\nthe IP and then we'll obviously then be\n\n693\n00:32:33.112 --> 00:32:37.439\nable to provide what we call PTR, pointer\nrecords, which are the reverse lookup\n\n694\n00:32:37.439 --> 00:32:41.404\nrecords that we use, where we map\nthe IP address, either IPv4 or IPv6.\n\n695\n00:32:41.404 --> 00:32:42.405\nAs you can see,\n\n696\n00:32:42.405 --> 00:32:46.430\nwe map that to the associated\nname that we wanna resolve it to.\n\n697\n00:32:46.430 --> 00:32:47.250\nWhat ever that may be.\n\n698\n00:32:47.250 --> 00:32:48.620\nSo we would go through here.\n\n699\n00:32:48.620 --> 00:32:54.509\nEither IPv4, as you can see,\nprovide the network ID and or IPv6.\n\n700\n00:32:54.509 --> 00:32:56.930\nAnd you'll see,\nwe then just provide the address prefix.\n\n701\n00:32:56.930 --> 00:33:00.880\nYou guys, hopefully have gone through and\nwatched our IPv4 and\n\n702\n00:33:00.880 --> 00:33:02.620\nIPv6 overview episodes.\n\n703\n00:33:02.620 --> 00:33:04.740\nSo we talked about\nthe differences in the addresses.\n\n704\n00:33:04.740 --> 00:33:09.520\nThe IPv6 prefix is the first 64\nbits of the 128 bit address block.\n\n705\n00:33:09.520 --> 00:33:15.080\nThat's the equivalent of the network ID\nfor and IPv4 address, the network portion.\n\n706\n00:33:15.080 --> 00:33:17.610\nAnd an IPv4, that would just be\nthe network portion of the address.\n\n707\n00:33:17.610 --> 00:33:19.480\nWhatever that is, based on your subnet.\n\n708\n00:33:19.480 --> 00:33:20.900\nSo you would provide one of those.\n\n709\n00:33:20.900 --> 00:33:23.400\nAnd then once we've done that,\nwe'd have our reverse lookup zone.\n\n710\n00:33:23.400 --> 00:33:27.470\nWe could also come in here as I talked\nabout with resource records, right?\n\n711\n00:33:27.470 --> 00:33:31.210\nAnd we can go in, and\nwe can as we talked about.\n\n712\n00:33:31.210 --> 00:33:33.929\nWe just come back here to other\nresource records, just to show you.\n\n713\n00:33:38.388 --> 00:33:41.753\nRight here, right, we have our\npointer record, our PTR record,\n\n714\n00:33:41.753 --> 00:33:44.589\nthose are the reverse lookup\nrecords that are created.\n\n715\n00:33:44.589 --> 00:33:47.490\nAnd when you create a resource record,\na PTR record,\n\n716\n00:33:47.490 --> 00:33:50.793\nyou're providing the host IP address,\nas we talked about.\n\n717\n00:33:50.793 --> 00:33:52.967\nAnd then mapping that to the host name.\n\n718\n00:33:52.967 --> 00:33:57.160\nAnd that gives us the ability to answer\na resolution request either from a forward\n\n719\n00:33:57.160 --> 00:33:59.830\nor a reverse process and\nwe can do that either way.\n\n720\n00:33:59.830 --> 00:34:03.560\nSo we can provide point of records\ninside the forward lookup zone,\n\n721\n00:34:03.560 --> 00:34:07.780\nfacilitating a lookup without having to\nhave a reverse lookup zone to do that.\n\n722\n00:34:07.780 --> 00:34:11.610\nOr we can create a whole reverse lookup\nzone with all the supporting records.\n\n723\n00:34:11.610 --> 00:34:12.660\nIt's up to us how to do that.\n\n724\n00:34:12.660 --> 00:34:16.687\nWe can actually just put PTR records into\nour forward lookup zone if necessary.\n\n725\n00:34:16.687 --> 00:34:19.483\nSo we can do all that,\ncreate those records or\n\n726\n00:34:19.483 --> 00:34:23.097\nthose resource record options\nalong with our zone types.\n\n727\n00:34:23.097 --> 00:34:27.777\nI did mention, just comeback here and\njust go to our properties here really\n\n728\n00:34:27.777 --> 00:34:32.233\nquickly that, [COUGH] we could go in and\nonce we specify Active Directory\n\n729\n00:34:32.233 --> 00:34:37.010\nintegrated as our option, let's just\nassume we had just created our zone.\n\n730\n00:34:37.010 --> 00:34:40.030\nActually, you know what I'll do,\nI'll do it on the IT Pro TV zone\n\n731\n00:34:40.030 --> 00:34:42.290\ncuz we already did it here, so\nlet's just stay with that one.\n\n732\n00:34:42.290 --> 00:34:45.120\nWe'll just go to Properties and do the\nsame thing here I mentioned that we could\n\n733\n00:34:45.120 --> 00:34:47.630\nchange the zone integration\ntype if we wanted to.\n\n734\n00:34:47.630 --> 00:34:49.320\nJust come back here to where we were.\n\n735\n00:34:49.320 --> 00:34:52.960\nWe can go to Properties, go to Type and\nchange this and so you know what?\n\n736\n00:34:52.960 --> 00:34:54.870\nI don't want it to be\nActive Directory integrated,\n\n737\n00:34:54.870 --> 00:34:58.030\njust uncheck that box, click OK.\n\n738\n00:34:58.030 --> 00:35:00.670\nDo you no longer want this to\nbe Active Directory integrated?\n\n739\n00:35:00.670 --> 00:35:03.660\nYes, I no longer want that to\nbe Active Directory integrated.\n\n740\n00:35:03.660 --> 00:35:07.120\nAnd then, I think you were mentioning cuz\nyou asked me back in the beginning of hey,\n\n741\n00:35:07.120 --> 00:35:08.990\nwhen we do that,\nwe don't see our zone file.\n\n742\n00:35:08.990 --> 00:35:10.430\nRight under his own file name,\nyou asked about that.\n\n743\n00:35:10.430 --> 00:35:13.070\nI said we're gonna get to that, but we\njust have to make sure we just go through\n\n744\n00:35:13.070 --> 00:35:14.860\nthe logic of how we create the zone.\n\n745\n00:35:14.860 --> 00:35:17.340\nAnd you could see once I\nunchecked that box and\n\n746\n00:35:17.340 --> 00:35:19.570\ntake it out of Active Directory\nintegration mode and\n\n747\n00:35:19.570 --> 00:35:24.480\ncreate just a standard primary zone but\nnot in the Active Directory, hosted only\n\n748\n00:35:24.480 --> 00:35:28.750\non this local DNS server, is what we would\nsay this zone file is set up to do now.\n\n749\n00:35:28.750 --> 00:35:31.388\nWe actually get a change here,\nand we see the zone file name.\n\n750\n00:35:31.388 --> 00:35:33.710\nIt's gonna be whatever\nthe name of the zone is .dns.\n\n751\n00:35:33.710 --> 00:35:36.970\nWe would then go to the DNS\nstructure inside the directory.\n\n752\n00:35:36.970 --> 00:35:39.969\nSo go in, you know, drill in,\nsee Windows System 32 etcetera.\n\n753\n00:35:39.969 --> 00:35:41.222\nGo all the way through and\n\n754\n00:35:41.222 --> 00:35:45.550\nwe would see that there's actually a file\nthere called IT Pro in this case .TV.DNS.\n\n755\n00:35:45.550 --> 00:35:48.140\nIt's a text file we could\nactually open that up and\n\n756\n00:35:48.140 --> 00:35:49.290\nwe could actually see what's going on.\n\n757\n00:35:49.290 --> 00:35:51.150\nAnd by the way,\npeople don't often know this,\n\n758\n00:35:51.150 --> 00:35:53.160\nyou could actually edit that\nzone file if you wanted to.\n\n759\n00:35:53.160 --> 00:35:56.660\nNot recommended by the way, but could\nedit that zone file to create records,\n\n760\n00:35:56.660 --> 00:35:58.370\nif you chose to and just save it back.\n\n761\n00:35:58.370 --> 00:36:01.320\nAnd you would actually be able to\npopulate those records from the notepad\n\n762\n00:36:01.320 --> 00:36:03.840\nfiles as opposed to creating\nthem that we did here, right?\n\n763\n00:36:03.840 --> 00:36:06.850\nAnd that's I think if I'm not mistaken you\nwere asking about that earlier, correct?\n\n764\n00:36:06.850 --> 00:36:09.140\n&gt;&gt; No, I was just thinking,\nyou know that's kind of how they,\n\n765\n00:36:09.140 --> 00:36:14.370\nhow like other Linux Nix based\nDNS solutions just kinda work.\n\n766\n00:36:14.370 --> 00:36:17.940\nIts you see that command line type\ninterface there, so we're searching-\n\n767\n00:36:17.940 --> 00:36:19.010\n&gt;&gt; When they're not in Active Directory\n\n768\n00:36:19.010 --> 00:36:22.110\nbecause they don't have Active Directory\nintegration, absolutely, all right.\n\n769\n00:36:22.110 --> 00:36:24.580\nSo, let's put this back just to\nshow you that we can do that.\n\n770\n00:36:24.580 --> 00:36:25.940\nSo, if we wanna change it again.\n\n771\n00:36:25.940 --> 00:36:28.030\nYou'll see here just go back, right?\n\n772\n00:36:28.030 --> 00:36:30.800\nJust simply check off the box.\n\n773\n00:36:30.800 --> 00:36:32.720\nClick OK.\nAre you sure you want to do that?\n\n774\n00:36:32.720 --> 00:36:33.950\nAbsolutely, right?\n\n775\n00:36:33.950 --> 00:36:35.150\nPut it back, right?\n\n776\n00:36:35.150 --> 00:36:36.700\nAnd then data stored in Active Directory.\n\n777\n00:36:36.700 --> 00:36:38.370\nIt's back where it was.\n\n778\n00:36:38.370 --> 00:36:40.300\nAnd so we can easily go back and forth.\n\n779\n00:36:40.300 --> 00:36:41.810\nVery, very simple to do that.\n\n780\n00:36:41.810 --> 00:36:43.620\nWe do have our start of\nauthority information.\n\n781\n00:36:43.620 --> 00:36:44.900\nRemember we have the record, but\n\n782\n00:36:44.900 --> 00:36:46.760\nthen we actually have the start\nof authority information.\n\n783\n00:36:46.760 --> 00:36:49.430\nThe serial number that gives\nus the ability to manage\n\n784\n00:36:49.430 --> 00:36:52.130\nour primary server\nresponsible information.\n\n785\n00:36:52.130 --> 00:36:53.760\nIn terms of a responsible person.\n\n786\n00:36:53.760 --> 00:36:55.070\nOther refresh intervals.\n\n787\n00:36:55.070 --> 00:36:56.150\nThe TTL for the record.\n\n788\n00:36:56.150 --> 00:36:57.540\nJust general information.\n\n789\n00:36:57.540 --> 00:36:58.580\nWe have our name server list.\n\n790\n00:36:58.580 --> 00:37:01.470\nSo this mirrors what our NS records are.\n\n791\n00:37:01.470 --> 00:37:03.610\nWe could add name servers here.\n\n792\n00:37:03.610 --> 00:37:07.260\nWe do have our wins integration, if we're\ngoing to use wins to do forward lookups,\n\n793\n00:37:07.260 --> 00:37:10.230\nwe can integrate DHCP in wins with DNS and\n\n794\n00:37:10.230 --> 00:37:12.780\nprovide for\ninformation sharing among them.\n\n795\n00:37:12.780 --> 00:37:14.930\nSo we can do that if necessary.\n\n796\n00:37:14.930 --> 00:37:16.840\nWe do have our zone transfers here.\n\n797\n00:37:16.840 --> 00:37:18.880\nAnd we do not allow zone\ntransfers by default.\n\n798\n00:37:18.880 --> 00:37:21.500\nThis, again,\nis a security thought process.\n\n799\n00:37:21.500 --> 00:37:23.730\nDepending on which version of\nWindows you would have been using,\n\n800\n00:37:23.730 --> 00:37:26.670\nat certain points,\nwe actually did allow zone transfers.\n\n801\n00:37:26.670 --> 00:37:30.630\nAnd we did allow them, unfortunately, to\nsystems that we did not necessarily know,\n\n802\n00:37:30.630 --> 00:37:34.540\nwhich was very insecure,\nled to a lot of problems with security.\n\n803\n00:37:34.540 --> 00:37:37.370\nWe fixed that, but\nyou go back to NT4, 2000,\n\n804\n00:37:37.370 --> 00:37:39.360\nearly on, we were talking to strangers.\n\n805\n00:37:39.360 --> 00:37:40.660\nThat wasn't a good idea.\n\n806\n00:37:40.660 --> 00:37:46.100\nNow we don't allow zone transfers which\nmeans we're not gonna use the ability for\n\n807\n00:37:46.100 --> 00:37:49.200\na, either command line tool like\nnslookup or another system,\n\n808\n00:37:49.200 --> 00:37:50.910\nanother server somewhere.\n\n809\n00:37:50.910 --> 00:37:52.871\nSay request the copy of the zone file and\n\n810\n00:37:52.871 --> 00:37:56.266\nget one unless they're on the name\nserver list and authoritative.\n\n811\n00:37:56.266 --> 00:37:59.323\nAnd then we have said, yeah we wanna\nbe able to do business with you and\n\n812\n00:37:59.323 --> 00:38:00.549\nextend this information.\n\n813\n00:38:00.549 --> 00:38:05.271\nThis prevents us from able to get out all\nthe information that would be in the zone\n\n814\n00:38:05.271 --> 00:38:09.784\nfile, prevents hackers, bad hackers,\nfrom getting that information and\n\n815\n00:38:09.784 --> 00:38:10.928\nusing it against.\n\n816\n00:38:10.928 --> 00:38:13.856\nSo just want to make sure we\nare aware of that, if we did for\n\n817\n00:38:13.856 --> 00:38:17.680\nsome other reason you might want\nto do this, check off the box.\n\n818\n00:38:17.680 --> 00:38:21.050\nWe could then go ahead to specify\nwhatever server we want and\n\n819\n00:38:21.050 --> 00:38:23.810\nthen we would be able to\ntransfer it necessary.\n\n820\n00:38:23.810 --> 00:38:24.510\nNot a good idea.\n\n821\n00:38:26.010 --> 00:38:28.080\nAnd then as always we always\nhave security in there as well.\n\n822\n00:38:28.080 --> 00:38:30.552\nWe could specify who gets rights to and\ninteracts here.\n\n823\n00:38:30.552 --> 00:38:33.360\nJust the normal Windows security model,\nwe could do that also.\n\n824\n00:38:33.360 --> 00:38:38.450\nSo, just an overview on the interface\nhere, overview on the generalities around\n\n825\n00:38:38.450 --> 00:38:42.440\nthe DNS server, overview on how we would\ncreate zone files and interact with them.\n\n826\n00:38:42.440 --> 00:38:43.780\nObviously still a lot to do this.\n\n827\n00:38:43.780 --> 00:38:46.149\nA lot of stuff we just kinda pointed\nout and said hey, that's cool,\n\n828\n00:38:46.149 --> 00:38:47.075\nlet's come back to that.\n\n829\n00:38:47.075 --> 00:38:50.117\nHaving really got and everything yet,\nbut we're certainly gone and\n\n830\n00:38:50.117 --> 00:38:53.850\nfeel back of the layer on the DNS service\ninfrastructure, how we're managing it?\n\n831\n00:38:53.850 --> 00:38:54.720\nHow we use it?\n\n832\n00:38:54.720 --> 00:38:56.840\nAnd what we can do in order to\nbe able to interact with it.\n\n833\n00:38:56.840 --> 00:38:59.790\n&gt;&gt; All right, so this wasn't gonna\nbe a one episode kinda topic.\n\n834\n00:38:59.790 --> 00:39:03.320\nAnd I don't think it's really a two\nepisode kind of topic either.\n\n835\n00:39:03.320 --> 00:39:04.440\nSo, stay tuned.\n\n836\n00:39:04.440 --> 00:39:07.130\nWe have more information,\nDNS information headed your way.\n\n837\n00:39:07.130 --> 00:39:09.180\nBut for this show,\nwe will go ahead and sign out.\n\n838\n00:39:09.180 --> 00:39:11.230\nRemember, I'm your host, Cherokee Boose.\n\n839\n00:39:11.230 --> 00:39:11.820\n&gt;&gt; I'm Adam Gordon.\n\n840\n00:39:11.820 --> 00:39:14.184\n&gt;&gt; See you next time here at ITPRO.TV.\n\n841\n00:39:14.184 --> 00:39:20.744\n[MUSIC]\n\n842\n00:39:20.744 --> 00:39:23.481\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "217176498"
        },
        {
          "description": "In this episode, Adam and Cherokee continue a previous conversation centric to DNS zones. They begin the show recapping different trouble shooting tools. Next,  Adam explains what zone transfers are and demonstrates how to configure them. They also cover forwarding and conditional forwarding.",
          "length": "1617",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-3-implementing_dns_pt3-051017-PGM.00_00_11_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-3-implementing_dns_pt3-051017-PGM.00_00_11_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-3-implementing_dns_pt3-051017-PGM.00_00_11_22.Still001-sm.jpg",
          "title": "Implementing DNS Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.418\nWelcome to ITPro.TV.\n\n2\n00:00:01.418 --> 00:00:02.320\nI'm your host Don.\n\n3\n00:00:02.320 --> 00:00:06.860\n[CROSSTALK]\n\n4\n00:00:06.860 --> 00:00:08.224\n[MUSIC]\n\n5\n00:00:08.224 --> 00:00:11.937\n&gt;&gt; You're watching ITPro.TV.\n\n6\n00:00:11.937 --> 00:00:15.495\n&gt;&gt; Welcome to your Networking\nwith Windows Server 2016 series.\n\n7\n00:00:15.495 --> 00:00:17.464\nI'm your show host Cherokee Boose.\n\n8\n00:00:17.464 --> 00:00:21.440\nWe've already been talking about DNS\nquite a bit but we're not finished yet.\n\n9\n00:00:21.440 --> 00:00:24.221\nAnd back with us today in\nstudio we have Mr. Adam Gordon.\n\n10\n00:00:24.221 --> 00:00:26.090\nThank you for joining us Adam.\n\n11\n00:00:26.090 --> 00:00:26.812\n&gt;&gt; Hello, everybody.\nGlad\n\n12\n00:00:26.812 --> 00:00:29.940\nto be back spending time\nwith you talking about DNS.\n\n13\n00:00:29.940 --> 00:00:31.420\nWe're gonna continue our conversations.\n\n14\n00:00:31.420 --> 00:00:34.263\nWe've left off in our last\nepisode we've talked about and\n\n15\n00:00:34.263 --> 00:00:36.537\nwalk through most of\nthe areas of the console.\n\n16\n00:00:36.537 --> 00:00:39.025\nGave you a high level of thought\nprocess of what's going on there.\n\n17\n00:00:39.025 --> 00:00:42.654\nTalked about different zone types,\nour primary zone or secondary zone,\n\n18\n00:00:42.654 --> 00:00:45.413\nour stub zone,\nour Active Directory integrated zone.\n\n19\n00:00:45.413 --> 00:00:48.620\nWe talked about how zones are going to\nbe managed, took a look at the settings,\n\n20\n00:00:48.620 --> 00:00:50.490\nproperties, did all sorts of stuff.\n\n21\n00:00:50.490 --> 00:00:55.030\nMentioned some troubleshooting tools, took\na look at some PowerShell commandlets,\n\n22\n00:00:55.030 --> 00:00:57.190\ntalked about various ways we can manage.\n\n23\n00:00:57.190 --> 00:00:59.890\nJust thought we'd review a couple\nof those quickly just to remind you\n\n24\n00:00:59.890 --> 00:01:02.900\nof where we're coming from and\nget back into the console.\n\n25\n00:01:02.900 --> 00:01:06.238\nWe did talk about, take a look with\nme here, we can quickly see and\n\n26\n00:01:06.238 --> 00:01:08.753\nwe'll go into the console\nhere in just a minute.\n\n27\n00:01:08.753 --> 00:01:13.663\nBut we did talk about the need for\nbeing able to go.\n\n28\n00:01:13.663 --> 00:01:17.043\nAnd looking at our PowerShell commandlets,\nshowed you where to find those.\n\n29\n00:01:17.043 --> 00:01:21.105\nBut I did mention the DNS server\nstatistics commandlet inparticular.\n\n30\n00:01:21.105 --> 00:01:23.460\nWe had talked about that,\nthe way we could use that.\n\n31\n00:01:23.460 --> 00:01:26.330\nWe drilled down and just took\na look at some of the commands or\n\n32\n00:01:26.330 --> 00:01:28.060\nthe parameters that would be available.\n\n33\n00:01:28.060 --> 00:01:32.210\nWe spoke about logging and diagnostics and\nbeing able to use debug logging.\n\n34\n00:01:32.210 --> 00:01:34.570\nI showed you how to set that up,\nevent logging.\n\n35\n00:01:34.570 --> 00:01:36.390\nWent through, we spoke about those things.\n\n36\n00:01:36.390 --> 00:01:39.318\nWe took a look at and talked about\nthe NS Lookup tool a little bit.\n\n37\n00:01:39.318 --> 00:01:40.685\nShowed you could right click and\n\n38\n00:01:40.685 --> 00:01:44.250\nopen up a command prompt that essentially\nis dedicated to the NS Lookup tool.\n\n39\n00:01:44.250 --> 00:01:48.230\nLike Netsh would be, we've demoed it,\nNetsh and talked about using it for\n\n40\n00:01:48.230 --> 00:01:49.310\nvarious things.\n\n41\n00:01:49.310 --> 00:01:52.760\nAnd we can go in and manage the DNS\nserver from the command prompt.\n\n42\n00:01:52.760 --> 00:01:56.290\nNow, you know, a lot of times these days,\nNS Lookup will, it's a command line tool.\n\n43\n00:01:56.290 --> 00:02:00.240\nIt's dedicated to DNS and\nsupports the management of it.\n\n44\n00:02:00.240 --> 00:02:03.003\nMore and more people are migrating\ntowards PowerShell with all the different\n\n45\n00:02:03.003 --> 00:02:04.334\ncommandlet's that are available.\n\n46\n00:02:04.334 --> 00:02:08.728\nAnd we can achieve the same end result\nby either looking at or using NS lookup,\n\n47\n00:02:08.728 --> 00:02:11.848\nby using PowerShell with\nthe DNS cammandlet support.\n\n48\n00:02:11.848 --> 00:02:14.540\nSo it's up to us to decide\nhow we want to do that.\n\n49\n00:02:14.540 --> 00:02:19.220\nBut you may or may not have heard of\na tool called DNSLint, the utility for DNS\n\n50\n00:02:19.220 --> 00:02:24.141\nmanagement and diagnosis of configuration\nissues if something is gone wrong.\n\n51\n00:02:24.141 --> 00:02:25.790\nSo I thought I would just\nbring this one up here.\n\n52\n00:02:25.790 --> 00:02:28.984\nYou can see that we have\na little Microsoft Windows or,\n\n53\n00:02:28.984 --> 00:02:31.632\nexcuse me,\nMicrosoft web page you can go to.\n\n54\n00:02:31.632 --> 00:02:33.260\nAnd you see it's a Windows-based utility.\n\n55\n00:02:33.260 --> 00:02:35.680\nGot a little download\nlink right from here.\n\n56\n00:02:35.680 --> 00:02:38.900\nTells you how to get and\nuse the tool so you can go out and\n\n57\n00:02:38.900 --> 00:02:42.090\ntake a look at it,\nvery simple command line structure.\n\n58\n00:02:42.090 --> 00:02:46.545\nSome of the switches are right down here,\nDNSLint minus or rather slash D.\n\n59\n00:02:46.545 --> 00:02:48.665\nSlash AD, right?\n\n60\n00:02:48.665 --> 00:02:49.965\nSo different things.\n\n61\n00:02:49.965 --> 00:02:54.325\nSo we can go in and diagnose lame\ndelegations of the related DNS problems,\n\n62\n00:02:54.325 --> 00:02:58.175\nwe can look at user defined records on\nmultiple servers, get a list of them, so\n\n63\n00:02:58.175 --> 00:02:59.175\nquery for the list.\n\n64\n00:02:59.175 --> 00:03:03.415\nWe can go ahead and look at active\ndirectory based replication DNSLint AD.\n\n65\n00:03:03.415 --> 00:03:06.058\nWhich, you know I do use sometimes to\ntroubleshoot depending on what the nature\n\n66\n00:03:06.058 --> 00:03:06.816\nof what we're doing.\n\n67\n00:03:06.816 --> 00:03:10.156\nThey got some little syntax down here\nshowing you how the tool may be deployed,\n\n68\n00:03:10.156 --> 00:03:11.180\nwhat you may use it for.\n\n69\n00:03:11.180 --> 00:03:12.930\nSo you may wanna think about that.\n\n70\n00:03:12.930 --> 00:03:13.990\nI'll just go ahead and take a look.\n\n71\n00:03:13.990 --> 00:03:18.384\nWe've talked about the importance of\nipconfig, /displaydns, /flushdns,\n\n72\n00:03:18.384 --> 00:03:22.430\n/registerdns, switches, and\nfunctionality we can look to there.\n\n73\n00:03:22.430 --> 00:03:25.140\nSo we've talked about those as\ntroubleshooting tools or options.\n\n74\n00:03:25.140 --> 00:03:28.704\nWe've talked about monitoring on\nthe DNS server and looking at logging.\n\n75\n00:03:28.704 --> 00:03:32.567\nSo we've been through a lot of the\ndifferent areas where we would often go in\n\n76\n00:03:32.567 --> 00:03:35.710\nand think about being able to\ntroubleshoot and/or manage.\n\n77\n00:03:35.710 --> 00:03:39.300\nJust wanted to remind you about some\nof those as we're getting started.\n\n78\n00:03:39.300 --> 00:03:42.980\nWe do have on our DNS server, and\nI've got a little demo set up for\n\n79\n00:03:42.980 --> 00:03:44.490\nus here with two DNS servers.\n\n80\n00:03:44.490 --> 00:03:48.290\nTwo different domains that we can go\nahead and setup conditional forwarding,\n\n81\n00:03:48.290 --> 00:03:50.420\nwe'll take a look at that,\ntalk about how that works.\n\n82\n00:03:50.420 --> 00:03:51.970\nBut we have the ability on any server,\n\n83\n00:03:51.970 --> 00:03:54.840\njust to remind you of where we are,\nto go in on the server.\n\n84\n00:03:54.840 --> 00:03:59.140\nIn this case the Plaid SA 01 server,\nRight-click and remember,\n\n85\n00:03:59.140 --> 00:04:02.170\nwe can go in and\nwe can go to the properties, and\n\n86\n00:04:02.170 --> 00:04:04.800\nwe can see a lot of the things\nwe were just talking about.\n\n87\n00:04:04.800 --> 00:04:09.660\nWe do have our forwards here, we have on\nthe advanced area the ability to enable\n\n88\n00:04:09.660 --> 00:04:12.185\nsome of the advance\nsecurity protections and\n\n89\n00:04:12.185 --> 00:04:15.905\nitems that may be valuable to us,\nset up automatic scavenging.\n\n90\n00:04:15.905 --> 00:04:18.635\nWe have the ability to deal with root\nhints we will be talking about that.\n\n91\n00:04:18.635 --> 00:04:21.395\nWe have debug logging and\nevent logging, monitoring.\n\n92\n00:04:21.395 --> 00:04:22.485\nRemember we have gone through and\n\n93\n00:04:22.485 --> 00:04:25.532\ntaken a look at how these things work in\nour prior episode and talked about them.\n\n94\n00:04:25.532 --> 00:04:28.801\nSo it is important just to remember\nthat we have these capabilities.\n\n95\n00:04:28.801 --> 00:04:32.112\nAnd these are some of the things that\nI was suggesting we may want to do in\n\n96\n00:04:32.112 --> 00:04:34.652\nsetting up logging in\nparticular would be valuable.\n\n97\n00:04:34.652 --> 00:04:37.230\nWe talked about why that could be so\nimportant.\n\n98\n00:04:37.230 --> 00:04:39.360\nAging and scavenging good to\nknow about that as well and\n\n99\n00:04:39.360 --> 00:04:43.340\nwe spoke about that fact that,\nthat would get rid of for\n\n100\n00:04:43.340 --> 00:04:47.160\nus the records that may have aged\nout that are no longer valid.\n\n101\n00:04:47.160 --> 00:04:52.090\nWe talked about integration of DHCP and\nWins with DNS in the last episode also and\n\n102\n00:04:52.090 --> 00:04:54.456\nsaid that as we went through the tabs.\n\n103\n00:04:54.456 --> 00:04:58.752\nWe talked about the various things\nwe could do on one of the zones,\n\n104\n00:04:58.752 --> 00:05:00.401\nas we looked at our zone.\n\n105\n00:05:00.401 --> 00:05:04.068\nLet's just go here, let's say to our\npractice IT zone and right-click and\n\n106\n00:05:04.068 --> 00:05:06.070\ngo to the properties of the zone.\n\n107\n00:05:06.070 --> 00:05:08.980\nWe saw that, remember, we have\nthe ability to integrate wins here,\n\n108\n00:05:08.980 --> 00:05:12.790\nwe talked about dynamic updates of\nrecords when we created the zone.\n\n109\n00:05:12.790 --> 00:05:13.790\nActive Directory integrated.\n\n110\n00:05:13.790 --> 00:05:17.120\nAre we trusting those clients and\nallowing them to dynamically update?\n\n111\n00:05:17.120 --> 00:05:19.720\nOr are we saying hey,\nmay or may not trust you?\n\n112\n00:05:19.720 --> 00:05:24.420\nMaybe want to lock the zone down,\ndo manual updates, not allow DNS to\n\n113\n00:05:24.420 --> 00:05:28.950\nbe able to do updates, rather have updates\ncoming in from DHCP as clients register.\n\n114\n00:05:28.950 --> 00:05:31.011\nSo you know we can be doing\nthose kind of things.\n\n115\n00:05:31.011 --> 00:05:32.560\nIt's up to us to decide.\n\n116\n00:05:32.560 --> 00:05:35.040\nRemember that when we're doing all\nthat clients will come and go.\n\n117\n00:05:35.040 --> 00:05:36.700\nWe've talked about DHCP and\n\n118\n00:05:36.700 --> 00:05:40.650\nthe TTL on the lease, maybe our\nlease is set to a very small number.\n\n119\n00:05:40.650 --> 00:05:44.150\nMaybe it's a five hour,\neight hour lease, something like that.\n\n120\n00:05:44.150 --> 00:05:47.106\nAnd it's gonna get renewed and\nwe're gonna have clients coming and going.\n\n121\n00:05:47.106 --> 00:05:50.814\nSo imagine hypothetically we're in\na business where people come in but\n\n122\n00:05:50.814 --> 00:05:54.456\nmaybe only spend a few hours working\non a system and then they leave, so\n\n123\n00:05:54.456 --> 00:05:58.200\nlike a training facility,\nhypothetically or college, university.\n\n124\n00:05:58.200 --> 00:06:01.110\nAnywhere where you gonna have a lot\nof transitory people coming and\n\n125\n00:06:01.110 --> 00:06:05.517\ngoing, logging on to a site, maybe\nthrough wireless and or plugging into\n\n126\n00:06:05.517 --> 00:06:09.380\na classroom spending a couple of hours\ngetting an address and then leaving.\n\n127\n00:06:09.380 --> 00:06:12.510\nIf we're not refreshing those\nregistrations, through DHCP,\n\n128\n00:06:12.510 --> 00:06:15.360\nand getting them out of there and\ndoing the same thing in DNS.\n\n129\n00:06:15.360 --> 00:06:18.980\nWe've got a back log of information that\nbuilds up, that is accurate maybe earlier\n\n130\n00:06:18.980 --> 00:06:21.110\nin the day, but it's not accurate\nlet's say the next day or\n\n131\n00:06:21.110 --> 00:06:25.900\n12 hours later or whatever the case may be\nbecause those people have come and gone.\n\n132\n00:06:25.900 --> 00:06:27.980\nSo this is why scavenging and\ngoing through and\n\n133\n00:06:27.980 --> 00:06:31.810\nsetting that up will be important because\nit will remove those records that have\n\n134\n00:06:31.810 --> 00:06:34.550\ntimed out even if we don't\ndynamically remove them on our own.\n\n135\n00:06:34.550 --> 00:06:36.080\nWe can set the scavenging to do that for\nus.\n\n136\n00:06:36.080 --> 00:06:39.130\nSo, it is important just to think\nabout some of these settings\n\n137\n00:06:39.130 --> 00:06:41.350\nthat we've been reminding ourselves about.\n\n138\n00:06:41.350 --> 00:06:42.542\nWe will want to make sure,\n\n139\n00:06:42.542 --> 00:06:46.482\nwe've talked about backing up\nthe database as well for DNS.\n\n140\n00:06:46.482 --> 00:06:50.860\nAnd let's go back up here real quick and\nlet's go to All Tasks, right?\n\n141\n00:06:50.860 --> 00:06:53.060\nSo Scavenging Skill Resource Records.\n\n142\n00:06:53.060 --> 00:06:55.360\nWe talked about this and\nwhy this is important.\n\n143\n00:06:55.360 --> 00:06:57.218\nI'm making sure we know\nthat we can do that.\n\n144\n00:06:57.218 --> 00:07:00.178\nBut we've also talked about\nthe need to be able to go in and\n\n145\n00:07:00.178 --> 00:07:03.449\nensure that if we're doing\nActive Directory integrated DNS,\n\n146\n00:07:03.449 --> 00:07:06.800\nremember our backups are happening\nthrough Active Directory.\n\n147\n00:07:06.800 --> 00:07:08.810\nWe're essentially just\nbacking up the system state.\n\n148\n00:07:08.810 --> 00:07:11.750\nWe're getting all the Active Directory\ninformation associated with that.\n\n149\n00:07:11.750 --> 00:07:15.980\nBut if we're going to be storing our\nzone files locally on the DNS server,\n\n150\n00:07:15.980 --> 00:07:18.550\nthen we have to back them up separately\nbecause we're not having that automatic\n\n151\n00:07:18.550 --> 00:07:19.390\nbackup capability.\n\n152\n00:07:19.390 --> 00:07:22.660\nSo just want to remember that a lot\nof these things are going on.\n\n153\n00:07:22.660 --> 00:07:25.818\nWe did show you in the last episode\nhow to take a zone and remove it from\n\n154\n00:07:25.818 --> 00:07:29.830\nActive Directory intergration, creating\nthe option to see the local zone file\n\n155\n00:07:29.830 --> 00:07:34.690\nin the system root so again,\nwe see Windows/System32 DNS folder.\n\n156\n00:07:34.690 --> 00:07:38.069\nWe would then see our zone\nfiles by the name of the zone.\n\n157\n00:07:38.069 --> 00:07:41.765\nAnd then once we have done that, we could\nthen go in and backup the DNS server and\n\n158\n00:07:41.765 --> 00:07:45.750\nyou will interact around that to make\nsure we have all of that information.\n\n159\n00:07:45.750 --> 00:07:47.140\nJust keeping that in mind.\n\n160\n00:07:47.140 --> 00:07:48.410\nWe did talk about zone types.\n\n161\n00:07:48.410 --> 00:07:50.720\nBut correct me, Cherokee, if I'm wrong.\n\n162\n00:07:50.720 --> 00:07:52.697\nWe didn't talk about zone transfers,\ndid we?\n\n163\n00:07:52.697 --> 00:07:53.687\n&gt;&gt; No, we did talk about zones.\n\n164\n00:07:53.687 --> 00:07:54.587\nSo that's probably something we need\nto talk about or just for refreshing.\n\n165\n00:07:54.587 --> 00:07:55.088\nYou mentioned that.\n\n166\n00:07:55.088 --> 00:07:59.105\nYou said back in the day that that was\navailable and it's not recommended for\n\n167\n00:07:59.105 --> 00:08:00.568\nsecurity purposes today.\n\n168\n00:08:00.568 --> 00:08:01.775\nBut I think that was about it.\n\n169\n00:08:01.775 --> 00:08:03.687\n&gt;&gt; We didn't talk about the zone\ntransfer types though, I think.\n\n170\n00:08:03.687 --> 00:08:05.178\nWe did mention it from\na security standpoint.\n\n171\n00:08:05.178 --> 00:08:07.789\nBut there are some different types\nof zone transfers that occur.\n\n172\n00:08:07.789 --> 00:08:11.220\nWe do have a full zone transfer if we\nallow zone transfers to take place.\n\n173\n00:08:11.220 --> 00:08:12.776\nWe may have an incremental zone transfer.\n\n174\n00:08:12.776 --> 00:08:17.880\nWe also have something known as a fast\nzone transfer in Server 16 using DNS.\n\n175\n00:08:17.880 --> 00:08:19.610\nTraditional full zone transfers,\nliterally,\n\n176\n00:08:19.610 --> 00:08:22.870\nyou can imagine all of the information for\nthe zone gets transferred.\n\n177\n00:08:22.870 --> 00:08:25.680\nThat's how we would initially set up or\nreplicate out a zone.\n\n178\n00:08:25.680 --> 00:08:28.370\nIf we're gonna be able to\ncreate a secondary zone,\n\n179\n00:08:28.370 --> 00:08:32.560\nwe'll copy the entire zone file from one\nDNS server to another full zone transfers\n\n180\n00:08:32.560 --> 00:08:36.880\noften referred to as AXFR, all A, AXFR.\n\n181\n00:08:36.880 --> 00:08:39.550\nSo all transfer, xfr, short for transfer.\n\n182\n00:08:39.550 --> 00:08:40.810\nSo I did that, just kinda cool, right?\n\n183\n00:08:40.810 --> 00:08:43.630\nWe're truncating that, but\ntraditionally, for years now,\n\n184\n00:08:43.630 --> 00:08:48.082\nwe've just referred to full zone transfers\nas AXFR events for all zone transfers.\n\n185\n00:08:48.082 --> 00:08:51.007\nIncremental zone transfers,\njust essentially change blocks, right.\n\n186\n00:08:51.007 --> 00:08:52.830\nWe're just doing the delta replication.\n\n187\n00:08:52.830 --> 00:08:56.130\nAnd we're doing an IXFR event,\nI for incremental.\n\n188\n00:08:56.130 --> 00:09:00.141\nSo just incremental zone transfer or the\nability to just transfer out changes after\n\n189\n00:09:00.141 --> 00:09:03.193\nwe set up our baseline,\ndifferent kind of zone transfer type.\n\n190\n00:09:03.193 --> 00:09:07.729\nAnd then fast zone transfer, as I said,\nis gonna batch multiple zone records or\n\n191\n00:09:07.729 --> 00:09:11.270\nmultiple resource records\ntogether with compression.\n\n192\n00:09:11.270 --> 00:09:13.870\nIt's really just sending that\nincremental zone transfer but\n\n193\n00:09:13.870 --> 00:09:16.978\ncompressing the data to make it a little\nbit quicker and easier to manage.\n\n194\n00:09:16.978 --> 00:09:20.940\nThat's what we call a fast,\nexcuse me, zone transfer.\n\n195\n00:09:20.940 --> 00:09:25.380\nDo keep in mind that depending on\nthe nature of the DNS servers we use,\n\n196\n00:09:25.380 --> 00:09:28.300\nwe may not support all\nthree zone transfer types.\n\n197\n00:09:28.300 --> 00:09:32.920\nFor instance, if we are using or thinking\nabout using fast zone transfers, we may or\n\n198\n00:09:32.920 --> 00:09:37.370\nmay not have a problem doing that if we\nhook up our Server 16 server with mixed\n\n199\n00:09:37.370 --> 00:09:39.810\nDNS, meaning a bind server, let's say,\n\n200\n00:09:39.810 --> 00:09:43.880\nUNIX Linux based directory server or\nDNS server, not directory server.\n\n201\n00:09:43.880 --> 00:09:46.690\nI'm thinking NIS, as opposed to DNS.\n\n202\n00:09:46.690 --> 00:09:50.760\nAnd when we're thinking about\nAlternate DNS server relationships and\n\n203\n00:09:50.760 --> 00:09:55.461\nconnecting to a bind server and having\nintegrated or hybrid DNS, which we can do.\n\n204\n00:09:55.461 --> 00:09:57.119\nAnd I think we've talked about\nin at least one of the episode.\n\n205\n00:09:57.119 --> 00:09:58.910\nWe mentioned the fact we could do that.\n\n206\n00:09:58.910 --> 00:10:02.710\nI think you had some stuff you had\nmentioned about the fact you've seen or\n\n207\n00:10:02.710 --> 00:10:04.330\nworked with Alternate DNS servers.\n\n208\n00:10:04.330 --> 00:10:07.520\nIn fact, that would often see them\nin Linux and UNIX environments.\n\n209\n00:10:07.520 --> 00:10:11.960\nWeb hosting environments are very heavily\nslated towards Linux hosting these days,\n\n210\n00:10:11.960 --> 00:10:14.990\nso you may see Alternate DNS\nservers running there.\n\n211\n00:10:14.990 --> 00:10:18.140\nWhen we integrate that,\nwe or may not necessarily,\n\n212\n00:10:18.140 --> 00:10:21.810\nbased on the bind features that are\nsupported, based on the bind build that\n\n213\n00:10:21.810 --> 00:10:25.540\nwe're using, have the capability to\ndo all of these zone transfer types,\n\n214\n00:10:25.540 --> 00:10:30.280\nbind us natively support a full\nzone transfer or AXFR events.\n\n215\n00:10:30.280 --> 00:10:34.850\nBut some bind versions depending on how\nnew or old they are do or do not have\n\n216\n00:10:34.850 --> 00:10:38.760\nsupport for incremental and do or do not\nhave support for fast zone transfers.\n\n217\n00:10:38.760 --> 00:10:40.555\nSo that's just something\nto think about that.\n\n218\n00:10:40.555 --> 00:10:42.000\nIt's just obviously one of those,\n\n219\n00:10:42.000 --> 00:10:45.260\nhey, you gotta do your due diligence,\ngotta check it out kind of things.\n\n220\n00:10:45.260 --> 00:10:47.900\nCuz you may or may not know when\nyou actually try to configure it\n\n221\n00:10:47.900 --> 00:10:50.780\nbased on the version of bind that\nyou're working with as to whether or\n\n222\n00:10:50.780 --> 00:10:51.900\nnot that would actually be the case.\n\n223\n00:10:51.900 --> 00:10:56.180\nSo that is something just to consider,\nand just obviously be aware of that.\n\n224\n00:10:56.180 --> 00:10:59.250\nWe did talk about zone transfers and\nhow we could set those up.\n\n225\n00:10:59.250 --> 00:11:02.110\nWent through and showed you that we\nhave the opportunity to go ahead and\n\n226\n00:11:02.110 --> 00:11:05.219\nspecify that we will allow zone\ntransfers into witch servers.\n\n227\n00:11:05.219 --> 00:11:06.850\nIn fact that by default, we don't do that,\n\n228\n00:11:06.850 --> 00:11:10.060\nbut we could set that up and kind of\ntruncate that list if we wanted to.\n\n229\n00:11:10.060 --> 00:11:12.557\nIt'd be up to us to decide\nhow to configure that.\n\n230\n00:11:12.557 --> 00:11:14.615\nI think we also talked\nabout server caching and\n\n231\n00:11:14.615 --> 00:11:18.120\nthe fact that it's important to understand\nthat we do have DNS server caches.\n\n232\n00:11:18.120 --> 00:11:22.020\nI showed you that you can go in,\nand you can, right here, go in and\n\n233\n00:11:22.020 --> 00:11:24.240\nclear the DNS cache right from here.\n\n234\n00:11:24.240 --> 00:11:26.860\nSo we did mention that last time as well.\n\n235\n00:11:26.860 --> 00:11:29.930\nAnd we did talk about the fact that\nwe may wanna clear that cache.\n\n236\n00:11:29.930 --> 00:11:32.860\nIf we ever name resolution issues,\nthat could be something for\n\n237\n00:11:32.860 --> 00:11:36.070\nus to think about and something for\nus to be concerned about.\n\n238\n00:11:36.070 --> 00:11:39.480\nSo it is just something that we would\nhave on our minds, so to speak, right,\n\n239\n00:11:39.480 --> 00:11:40.720\nthat we wanna be aware of.\n\n240\n00:11:40.720 --> 00:11:43.290\nAll right, when we're talking about\nforwarding, let's just go in here real\n\n241\n00:11:43.290 --> 00:11:46.450\nquick and just remind ourselves of\nwhere we are and what we're doing here.\n\n242\n00:11:46.450 --> 00:11:49.930\nSo at the server level right here,\nif we're talking about forwarding, right?\n\n243\n00:11:49.930 --> 00:11:51.194\nRemember, we can go under this tab.\n\n244\n00:11:51.194 --> 00:11:55.675\nWe could set up our ability to be\nable to specify forwarding here.\n\n245\n00:11:55.675 --> 00:11:58.509\nEdit and we have our forwarding list here.\n\n246\n00:11:58.509 --> 00:12:00.494\nAnd the idea is in, by the way,\nwe could edit a forward,\n\n247\n00:12:00.494 --> 00:12:02.121\nadd a forward right in there,\nyou could see.\n\n248\n00:12:02.121 --> 00:12:05.628\nForwarding is the idea of being\nable to say, you know what,\n\n249\n00:12:05.628 --> 00:12:09.766\nif I get a [COUGH] question or a query\ncoming in as a DNS server from a client\n\n250\n00:12:09.766 --> 00:12:13.836\nthat wants to resolve some information and\nI don't know the answer,\n\n251\n00:12:13.836 --> 00:12:16.810\nI can't give them an answer,\nI've two options.\n\n252\n00:12:16.810 --> 00:12:20.730\nI can essentially say, I'm sorry,\nI'm not authoritative, I don't know.\n\n253\n00:12:20.730 --> 00:12:21.940\nOr I could say, hey,\n\n254\n00:12:21.940 --> 00:12:25.510\nhold on a minute, let me see if I can send\nthat request to somebody else, right.\n\n255\n00:12:25.510 --> 00:12:28.740\nKind of upstream or downstream, depending\non how you wanna think about that, right.\n\n256\n00:12:28.740 --> 00:12:33.200\nBut I could send it off to another DNS\nserver that may have the answer and\n\n257\n00:12:33.200 --> 00:12:35.040\nI can see if I can get them\nto give us the answer.\n\n258\n00:12:35.040 --> 00:12:36.240\nThat would be forwarding.\n\n259\n00:12:36.240 --> 00:12:40.990\nSo I can pass along that query on behalf\nof the requester and see if, then,\n\n260\n00:12:40.990 --> 00:12:42.510\nI can get a resolution.\n\n261\n00:12:42.510 --> 00:12:44.290\nBecause remember,\nwe're not gonna know everything, right.\n\n262\n00:12:44.290 --> 00:12:48.594\nI mean, the reality is unless we\nare the primary DNS server in a,\n\n263\n00:12:48.594 --> 00:12:52.200\nlet's say, fully qualified domain, right.\n\n264\n00:12:52.200 --> 00:12:56.326\nSo inside a LAN, in an Active Directory\nbased domain behind the firewall and\n\n265\n00:12:56.326 --> 00:12:58.076\nwe're never gonna go outside.\n\n266\n00:12:58.076 --> 00:13:01.210\nAll we're gonna do is essentially\ndo resolution for that name space,\n\n267\n00:13:01.210 --> 00:13:05.040\nand we're not gonna recognize anything\nthat does not exist in that name space.\n\n268\n00:13:05.040 --> 00:13:08.099\nThen I would literally and\nlegitimately be authoritative and\n\n269\n00:13:08.099 --> 00:13:09.862\nbe the single point of knowledge for\n\n270\n00:13:09.862 --> 00:13:13.563\neverything, as long as the resources\nhad register and I was aware of them or\n\n271\n00:13:13.563 --> 00:13:17.355\nI manually created records of them,\nI would have knowledge of all, right.\n\n272\n00:13:17.355 --> 00:13:18.572\nI essentially would know everything.\n\n273\n00:13:18.572 --> 00:13:21.381\nAnd there would be nothing that I\nwould have to go resolve from another\n\n274\n00:13:21.381 --> 00:13:22.554\nDNS server somewhere else.\n\n275\n00:13:22.554 --> 00:13:24.724\nSo I could say,\neither I know the answer or\n\n276\n00:13:24.724 --> 00:13:28.506\nif I don't know the answer,\nit's because the answer doesn't exist and\n\n277\n00:13:28.506 --> 00:13:31.970\nyou don't get to see that\nresource cuz it's not available.\n\n278\n00:13:31.970 --> 00:13:35.507\nBut it's very rare that we have that kind\nof a service set up where we have just\n\n279\n00:13:35.507 --> 00:13:39.213\na limited window or a limited ability to\ndo name resolution inside of a domain and\n\n280\n00:13:39.213 --> 00:13:41.288\nthat we're never, ever gonna go outside.\n\n281\n00:13:41.288 --> 00:13:45.427\nBecause if we think about it logically,\nunless we're in an isolated domain for\n\n282\n00:13:45.427 --> 00:13:49.131\na security reason, or some sort of\nregulatory reason, or we're in a,\n\n283\n00:13:49.131 --> 00:13:52.713\nmaybe a QA environment or a hosting or\nstaging or a demo environment,\n\n284\n00:13:52.713 --> 00:13:55.246\nwe're not gonna worry\nabout the outside world,\n\n285\n00:13:55.246 --> 00:13:58.390\nwe really are limited in that respect,\nright, normally.\n\n286\n00:13:58.390 --> 00:14:00.230\nWhen we are traditionally\nin an enterprise,\n\n287\n00:14:00.230 --> 00:14:04.140\nan organization, any of your companies,\nanything you would do on a regular basis.\n\n288\n00:14:04.140 --> 00:14:05.840\nI mean, when was the last time,\nif you think about this right,\n\n289\n00:14:05.840 --> 00:14:08.820\nlogically, that you didn't want to go out\nto the internet to find something at some\n\n290\n00:14:08.820 --> 00:14:10.550\npoint during the course of a business day?\n\n291\n00:14:10.550 --> 00:14:11.648\nI mean, that's usually something\nmost of us have to do, right?\n\n292\n00:14:11.648 --> 00:14:12.682\n&gt;&gt; Yeah.\n\n293\n00:14:12.682 --> 00:14:15.746\n&gt;&gt; You may not set out saying, I'm gonna\ngo sit down and find that website.\n\n294\n00:14:15.746 --> 00:14:18.230\nBut normally, just during\nthe course of what you're doing,\n\n295\n00:14:18.230 --> 00:14:20.008\nyou're gonna think of something you need.\n\n296\n00:14:20.008 --> 00:14:22.720\nYou wanna send an email,\nyou wanna be able to look something up.\n\n297\n00:14:22.720 --> 00:14:27.490\nAll those things require external DNS name\nresolution to other systems outside of\n\n298\n00:14:27.490 --> 00:14:30.220\nyour namespace, outside of your\nlittle corner of the world.\n\n299\n00:14:30.220 --> 00:14:33.070\nAnd so forwarding becomes very important.\n\n300\n00:14:33.070 --> 00:14:36.385\nBecause we do need to understand that\nwe have to be able to reach out to\n\n301\n00:14:36.385 --> 00:14:40.224\nsystems beyond the border or the boundary\nof not only our infrastructure, but\n\n302\n00:14:40.224 --> 00:14:43.913\nour knowledge of infrastructure,\nwhich is what the DNS zones represent.\n\n303\n00:14:43.913 --> 00:14:46.090\nAnd so\nforwarding is the way we're gonna do this.\n\n304\n00:14:46.090 --> 00:14:50.030\nSo wanted to walk you through the logic\nof being able to set up a forwarder.\n\n305\n00:14:50.030 --> 00:14:53.550\nBut not just enabling forwarding, that we\ncould just do by going up here and saying,\n\n306\n00:14:53.550 --> 00:14:55.440\nokay, hey, forward to that server.\n\n307\n00:14:55.440 --> 00:14:57.240\nWhat about something called\nconditional forwarding, right?\n\n308\n00:14:57.240 --> 00:15:01.063\nWhat if we wanna be able to resolve the\nnames of other resources on maybe other\n\n309\n00:15:01.063 --> 00:15:04.768\nnetworks without having queried\nthe Internet DNS servers to do that, but\n\n310\n00:15:04.768 --> 00:15:07.397\nto query somewhere else in\nour infrastructure, and\n\n311\n00:15:07.397 --> 00:15:09.155\nthis is conditional forwarding.\n\n312\n00:15:09.155 --> 00:15:11.585\nPrimarily what we think of\nconditional forwarding as being,\n\n313\n00:15:11.585 --> 00:15:14.365\nwe're forwarding out to another namespace.\n\n314\n00:15:14.365 --> 00:15:17.885\nMaybe we're in a forest with multiple\ndomains and different trees, so\n\n315\n00:15:17.885 --> 00:15:20.244\ndifferent namespaces\nunderneath the forest.\n\n316\n00:15:20.244 --> 00:15:24.113\nThink of different companies or companies\nrather I should say that have global\n\n317\n00:15:24.113 --> 00:15:28.270\nfootprints but have different names that\nthey operate under around the world.\n\n318\n00:15:28.270 --> 00:15:31.530\nThey're all part of maybe conglomerate,\nan umbrella organization\n\n319\n00:15:31.530 --> 00:15:35.030\ntheoretically let say, your Megacorp or\nsomething like that, right?\n\n320\n00:15:35.030 --> 00:15:38.301\nAnd underneath Megacorp, I may have\ndifferent lines of businesses with\n\n321\n00:15:38.301 --> 00:15:41.842\ndifferent names, but the common\ninfrastructures setting at highest level,\n\n322\n00:15:41.842 --> 00:15:43.410\nis gonna be provided by Megacorp.\n\n323\n00:15:43.410 --> 00:15:48.339\nAnd so name resolution from ABC\ncomputers and WXYZ web servers,\n\n324\n00:15:48.339 --> 00:15:53.999\nboth companies under the MegaCorp\numbrella, may have to flow through and\n\n325\n00:15:53.999 --> 00:15:59.769\ninto and out of DNS servers that are out\nbeyond any one of those namespaces.\n\n326\n00:15:59.769 --> 00:16:02.327\nAnd so conditional forwarding\nmay help us to figure this out.\n\n327\n00:16:02.327 --> 00:16:03.160\nSo I wanted to show you,\n\n328\n00:16:03.160 --> 00:16:05.510\nto walk through the logic of how\nto set up conditional forwarding.\n\n329\n00:16:05.510 --> 00:16:08.016\nBecause it's usually a skill that\nwe do need to be aware of and\n\n330\n00:16:08.016 --> 00:16:10.537\nsomething you want to make sure\nthat you're familiar with.\n\n331\n00:16:10.537 --> 00:16:14.099\nThis allows us to essentially create\na direct point of contact between two\n\n332\n00:16:14.099 --> 00:16:15.196\nnetwork DNS servers.\n\n333\n00:16:15.196 --> 00:16:17.261\nReducing the need for recursive queries.\n\n334\n00:16:17.261 --> 00:16:19.704\nBecause we're creating essentially,\na dedicated path.\n\n335\n00:16:19.704 --> 00:16:22.445\nThat says, hey when this comes in and\nit's addressed to this,\n\n336\n00:16:22.445 --> 00:16:24.190\nmake sure you send it over there.\n\n337\n00:16:24.190 --> 00:16:26.645\nLet's not guess, let's just send it there\nbecause that's what's gonna be able to\n\n338\n00:16:26.645 --> 00:16:27.485\ngive us the answer, right?\n\n339\n00:16:27.485 --> 00:16:29.471\nThat's what conditional\nforwarding is gonna do.\n\n340\n00:16:29.471 --> 00:16:32.755\nSo normal forwarding,\njust setup right there on the server.\n\n341\n00:16:32.755 --> 00:16:36.049\nBut conditional forwarding,\nwe come down here to this folder,\n\n342\n00:16:36.049 --> 00:16:39.410\njust coincidentally labeled\nconditional forwarding.\n\n343\n00:16:39.410 --> 00:16:40.720\nGreat how that works out.\n\n344\n00:16:40.720 --> 00:16:42.370\nAnd conditional forward so\nwe go here in the server and\n\n345\n00:16:42.370 --> 00:16:43.300\nwe're going to set this up, right?\n\n346\n00:16:43.300 --> 00:16:45.656\nSo we're gonna right click and\ncreate a new conditional forward.\n\n347\n00:16:45.656 --> 00:16:47.108\nSo let's take a look at how to do this.\n\n348\n00:16:47.108 --> 00:16:49.160\nWe're going to go ahead and\nset this up real quick.\n\n349\n00:16:49.160 --> 00:16:50.910\nSo I'm going to do this, click here.\n\n350\n00:16:52.070 --> 00:16:56.040\nOur little DNS domain new\nconditional forward wizard screen,\n\n351\n00:16:56.040 --> 00:16:58.550\nnot too involved though only one screen,\nnot too much we can do there.\n\n352\n00:16:58.550 --> 00:17:01.190\nWe are gonna put in our DNS domain,\nso let's do this.\n\n353\n00:17:01.190 --> 00:17:03.452\nThis is gonna be practicelabs.com.\n\n354\n00:17:03.452 --> 00:17:05.546\nNow, just to note here,\nwhile I'm doing this.\n\n355\n00:17:05.546 --> 00:17:08.619\nIf you take a look at our forward\nlookup zone, this is in, or\n\n356\n00:17:08.619 --> 00:17:10.159\nI'm on the server right now.\n\n357\n00:17:10.159 --> 00:17:13.920\nThat's servicing in this\ndomain PRACTICEIT.CO.UK.\n\n358\n00:17:13.920 --> 00:17:17.444\nSo you can see I'm in a different\nnamespace than practicelabs.com,\n\n359\n00:17:17.444 --> 00:17:21.219\nwhich is where I'm setting up\nthe conditional folder to point to, right?\n\n360\n00:17:21.219 --> 00:17:24.984\nSo I'm on the PRACTICEIT.CO.UK DNS.\n\n361\n00:17:24.984 --> 00:17:28.801\nAnd in this case, domain server for\nthe DNS, cuz this is our domain server and\n\n362\n00:17:28.801 --> 00:17:30.109\nour DNS server all in one.\n\n363\n00:17:30.109 --> 00:17:34.861\nIn this name space PRACTICEIT.CO.UK,\nI'm setting up a conditional forward.\n\n364\n00:17:34.861 --> 00:17:38.558\nAnd it's essentially going to say when\nsomething comes in from PracticeLabs.com\n\n365\n00:17:38.558 --> 00:17:39.783\nhere's where you send it.\n\n366\n00:17:39.783 --> 00:17:43.121\nAnd we're gonna program that in and\nput that in here.\n\n367\n00:17:43.121 --> 00:17:45.790\nOf course on the other side we could\nsend stuff going the other way\n\n368\n00:17:45.790 --> 00:17:46.938\nfrom PracticeLabs.com.\n\n369\n00:17:46.938 --> 00:17:50.560\nWe can set up a conditional\nforward over to PracticeIT.co.uk.\n\n370\n00:17:50.560 --> 00:17:54.002\nSo that's what we're gonna specify,\nso we need the name of the domain.\n\n371\n00:17:54.002 --> 00:18:00.180\nWe also need to then be able to go in and\nspecify right here, Click to Add.\n\n372\n00:18:00.180 --> 00:18:03.586\nWe're gonna put in our IP address,\nwhich is gonna be the IP address of\n\n373\n00:18:03.586 --> 00:18:06.607\nthe PracticeLabs.com DNS server\nthat we wanna forward to.\n\n374\n00:18:06.607 --> 00:18:08.754\nSo we have to know what\nthat IP address is.\n\n375\n00:18:08.754 --> 00:18:11.844\nJust gonna program that in right here,\nit's gonna be 0.1 so\n\n376\n00:18:11.844 --> 00:18:13.440\nlet's just type that in.\n\n377\n00:18:13.440 --> 00:18:15.507\nSo we have that 192.168.0.1.\n\n378\n00:18:15.507 --> 00:18:20.400\nNow notice if I had more than one\nof these servers here, right?\n\n379\n00:18:20.400 --> 00:18:23.100\nI'll be able to move up and down, you\ncould see here I'll be able to move up,\n\n380\n00:18:23.100 --> 00:18:23.970\nmove down.\n\n381\n00:18:23.970 --> 00:18:26.590\nDelete if something was\nnot going to be there.\n\n382\n00:18:26.590 --> 00:18:28.190\nRight, so I can go ahead and\ndo all of that.\n\n383\n00:18:29.890 --> 00:18:31.178\nI could then go ahead and\n\n384\n00:18:31.178 --> 00:18:35.249\nsay select the conditional forwarding\ninformation in Active Directory.\n\n385\n00:18:35.249 --> 00:18:37.388\nSo I'll just go ahead and\ncheck that off if I want to.\n\n386\n00:18:37.388 --> 00:18:41.173\nAnd you'll see here, I can replicate or\nspecify how replication takes place.\n\n387\n00:18:41.173 --> 00:18:43.440\nRemember we talked about how\nreplication takes place.\n\n388\n00:18:43.440 --> 00:18:47.614\nSo the options for replication in the\nActive Directory integrated zones before\n\n389\n00:18:47.614 --> 00:18:49.866\nwe set it to replicate\nat the forest level.\n\n390\n00:18:49.866 --> 00:18:53.443\nIt replicates all the domains in all\nthe forest, replicate our domain and\n\n391\n00:18:53.443 --> 00:18:54.259\nour namespace.\n\n392\n00:18:54.259 --> 00:18:55.640\nSo we have different options here.\n\n393\n00:18:55.640 --> 00:18:58.270\nWe'd have to think about\nlogically what we wanna do.\n\n394\n00:18:58.270 --> 00:19:00.100\nSo we can specify this.\n\n395\n00:19:00.100 --> 00:19:02.630\nAnd we'll make sure that\nwe do all DNS servers in\n\n396\n00:19:02.630 --> 00:19:04.400\nthe domain instead of in the forest.\n\n397\n00:19:04.400 --> 00:19:06.478\nCuz we're not replicating this\nout to the entire forest.\n\n398\n00:19:06.478 --> 00:19:12.225\nWe just want all the DNS servers in\nthe domain for PRACTICE.IT.CO.UK.\n\n399\n00:19:12.225 --> 00:19:15.574\nTo know that this is where we're\ngonna send this information for\n\n400\n00:19:15.574 --> 00:19:18.095\npracticelabs.com if we get a request in.\n\n401\n00:19:18.095 --> 00:19:20.930\nSo we just want limit this to\nthe knowledge of our media domain.\n\n402\n00:19:20.930 --> 00:19:23.535\nCuz this is where this\nforwarder becomes important so\n\n403\n00:19:23.535 --> 00:19:25.197\nonly when we're in this name space.\n\n404\n00:19:25.197 --> 00:19:27.585\nWe wanna find the other name space\nthat we have to know how to get there.\n\n405\n00:19:27.585 --> 00:19:29.530\nWe don't want the entire\nforest to know about this.\n\n406\n00:19:29.530 --> 00:19:32.714\nWe just want our name space to know about\nit, that's why we're limiting it there.\n\n407\n00:19:32.714 --> 00:19:35.540\nSo number of seconds before\nforward queries timeout.\n\n408\n00:19:35.540 --> 00:19:38.750\nWe can specify a time value here\nif we need to, be up to us.\n\n409\n00:19:38.750 --> 00:19:41.870\nThis is just essentially managing and\nmanipulating that for us.\n\n410\n00:19:41.870 --> 00:19:42.860\nSo we're gonna go ahead.\n\n411\n00:19:42.860 --> 00:19:45.220\nWe'll specify that, we'll click OK here.\n\n412\n00:19:47.175 --> 00:19:50.164\nAll right so\nwe have our conditional folder set up,\n\n413\n00:19:50.164 --> 00:19:52.747\nreally not very complicated\nas you can see.\n\n414\n00:19:52.747 --> 00:19:57.075\nWhat we're then gonna be able to do\nis go in here and let's just go in.\n\n415\n00:19:57.075 --> 00:20:00.028\nAnd let's do a ping real quick and\nsee if we can actually ping and\n\n416\n00:20:00.028 --> 00:20:01.211\nfind that information.\n\n417\n00:20:01.211 --> 00:20:04.748\nSo let's just open up a command line,\nkind of should do it from,\n\n418\n00:20:04.748 --> 00:20:08.169\nI have enough PowerShell open so\nwe just do it right from here.\n\n419\n00:20:08.169 --> 00:20:11.247\nSo let's just go in here real quick,\nand let's just ping.\n\n420\n00:20:11.247 --> 00:20:13.964\nAnd we're gonna ping, what is that,\nthe domain controller, right.\n\n421\n00:20:13.964 --> 00:20:17.535\nSo plabdc1.practicelabs.com.\n\n422\n00:20:17.535 --> 00:20:24.653\nSo let's go in, all right, so, let's just\nsee, just pull this down just a touch.\n\n423\n00:20:24.653 --> 00:20:27.910\nSo you can see what I typed there\nbecause it's kind of obscured by that.\n\n424\n00:20:27.910 --> 00:20:28.580\nSo let's just go in.\n\n425\n00:20:28.580 --> 00:20:31.685\nLet's take a look, and you can see when\nI do that, we're getting our ping back.\n\n426\n00:20:31.685 --> 00:20:36.008\nIt is replying four times so we are able\nto resolve the domain controller,\n\n427\n00:20:36.008 --> 00:20:37.484\nwhich is the DNS server.\n\n428\n00:20:37.484 --> 00:20:40.490\nCuz it's hosting the DNS for\nus in the practicelabs.com domain.\n\n429\n00:20:40.490 --> 00:20:44.640\nSo you can see I'm able to successfully\nping there, so that's good news, right?\n\n430\n00:20:45.690 --> 00:20:47.208\nSo what we have to do now\nis go to the other side.\n\n431\n00:20:47.208 --> 00:20:50.230\nIf we wanted to complete this going\nthe other way we'd want to go over to\n\n432\n00:20:50.230 --> 00:20:52.550\nthat server,\nwhich is what we're going to do right now.\n\n433\n00:20:52.550 --> 00:20:57.003\nThe practice labs, lab BC1 machine I\ndon't know if it's [INAUDIBLE] for\n\n434\n00:20:57.003 --> 00:20:59.220\npracticelabs.com for other name space.\n\n435\n00:20:59.220 --> 00:21:00.185\nWe're gonna go over there.\n\n436\n00:21:00.185 --> 00:21:01.195\nWe'll be able to go ahead and\n\n437\n00:21:01.195 --> 00:21:03.899\nset up a conditional forwarder on that\nside coming over to here, all right?\n\n438\n00:21:03.899 --> 00:21:05.182\nBecause we have to complete the circuit.\n\n439\n00:21:05.182 --> 00:21:07.568\nIn other words we want to be able\nto resolve going either way.\n\n440\n00:21:07.568 --> 00:21:09.399\nWe need conditional\nforwards on both sides.\n\n441\n00:21:09.399 --> 00:21:10.524\nWe're doing the same thing,\n\n442\n00:21:10.524 --> 00:21:13.099\nthe only difference is we're going\nto substitute the domain name.\n\n443\n00:21:13.099 --> 00:21:17.180\nInstead of PracticeLabs.com\nit'll be PracticeIT.co.uk.\n\n444\n00:21:17.180 --> 00:21:20.020\nAnd instead of 192.168.0.1 it'll\n\n445\n00:21:20.020 --> 00:21:22.200\nbe whatever the IP address is\nthat's gonna represent this.\n\n446\n00:21:22.200 --> 00:21:26.738\nSo we're just gonna switch over here,\nso let's go over to here.\n\n447\n00:21:26.738 --> 00:21:30.930\nThere's our Plab DC 1 machine, there's\nour conditional forwarder right there,\n\n448\n00:21:30.930 --> 00:21:32.790\nour folder where we're gonna create this.\n\n449\n00:21:32.790 --> 00:21:34.350\nWe'll create a new conditional forwarder.\n\n450\n00:21:34.350 --> 00:21:38.420\nLet me just get the IP address that we\nneed right there 0.4 so let's go ahead and\n\n451\n00:21:38.420 --> 00:21:40.670\ncreate our conditional forwarder here.\n\n452\n00:21:40.670 --> 00:21:42.872\nWizard is the same right,\nthere's no difference,\n\n453\n00:21:42.872 --> 00:21:45.235\nit's a matter of the name\nspaces being swapped around.\n\n454\n00:21:45.235 --> 00:21:51.638\nSo, let's do practiceIT.co.uk and\n\n455\n00:21:51.638 --> 00:21:55.130\nlet's click here and\n\n456\n00:21:55.130 --> 00:21:59.790\n192.168.0.4.\n\n457\n00:21:59.790 --> 00:22:01.870\nGo ahead we'll put that in.\n\n458\n00:22:01.870 --> 00:22:06.080\nLet's go ahead and let's make sure\nthat we are replicating that.\n\n459\n00:22:06.080 --> 00:22:10.190\nWe're just gonna specify that goes to\nthe domain, just like we did there.\n\n460\n00:22:10.190 --> 00:22:12.483\nGet all that set up as well.\n\n461\n00:22:12.483 --> 00:22:13.906\nLet's click OK.\n\n462\n00:22:13.906 --> 00:22:15.440\nAll right, so we have that.\n\n463\n00:22:15.440 --> 00:22:17.320\nAnd by the way, I didn't show\nyou the last time when I did it.\n\n464\n00:22:17.320 --> 00:22:18.670\nBut you see, we have a little item there.\n\n465\n00:22:18.670 --> 00:22:20.990\nYou can see, we have our folder, right?\n\n466\n00:22:20.990 --> 00:22:23.890\nThis represents the record\nthat specifies for us but\n\n467\n00:22:23.890 --> 00:22:26.230\nthe IP address is as\nwe're setting that up.\n\n468\n00:22:26.230 --> 00:22:29.270\nAnd so we should be able to ping going\nthe other way where we establish.\n\n469\n00:22:29.270 --> 00:22:30.710\nSo we can ping,\nwe should be able to go in.\n\n470\n00:22:30.710 --> 00:22:35.080\nAnd we should be able to ping from\nhere over to the practiceitcode.uk.\n\n471\n00:22:35.080 --> 00:22:38.560\nSo let's just take a look to make sure we\nhave that part of this working as well.\n\n472\n00:22:38.560 --> 00:22:41.920\nAgain I'm just gonna go to PowerShell,\nI already have it opened here on the box.\n\n473\n00:22:41.920 --> 00:22:44.750\nSo we're just gonna go ahead and\njust clear the screen so we can see that.\n\n474\n00:22:44.750 --> 00:22:49.360\nAnd let's just reverse the ping going the\nother way, make sure that's also working.\n\n475\n00:22:49.360 --> 00:22:55.830\nSo plab, and this is the sa01 machine\nwe want to ping right, so sa01..\n\n476\n00:22:55.830 --> 00:23:02.319\nAnd what we're gonna do is the following,\n\n477\n00:23:02.319 --> 00:23:07.366\nlet's do practiceIT, whoops,\n\n478\n00:23:07.366 --> 00:23:10.983\npracticeIT.co.uk.\n\n479\n00:23:10.983 --> 00:23:15.520\nAnd just make sure we spell\nthat correctly plabsa01,\n\n480\n00:23:15.520 --> 00:23:18.521\npracticeit that should be correct.\n\n481\n00:23:18.521 --> 00:23:22.682\nYou could see now we could be able to\nmy ping going to the other DNS server,\n\n482\n00:23:22.682 --> 00:23:25.430\nin other words over in\nthe other namespace.\n\n483\n00:23:25.430 --> 00:23:26.491\nI'm able to resolve and\n\n484\n00:23:26.491 --> 00:23:29.527\nthrough conditional forwarding\nsend that traffic back and forth.\n\n485\n00:23:29.527 --> 00:23:32.252\nAnd so when we use conditional\nforwarding we're able now to say.\n\n486\n00:23:32.252 --> 00:23:36.207\nHey, when this comes in or request for\nthis name resolution comes in,\n\n487\n00:23:36.207 --> 00:23:38.010\nhey I don't know about it.\n\n488\n00:23:38.010 --> 00:23:41.950\nLet me make sure it's gonna be sent\nover to divide and hard code that path.\n\n489\n00:23:41.950 --> 00:23:44.567\nThis is what conditional forwarding\ndoes for you, for us, magic.\n\n490\n00:23:44.567 --> 00:23:45.587\n&gt;&gt; Whoo-hoo!\n\n491\n00:23:45.587 --> 00:23:47.240\n[LAUGH]\n&gt;&gt; That's what I wanted,\n\n492\n00:23:47.240 --> 00:23:48.820\nthat sound effect right there.\n\n493\n00:23:48.820 --> 00:23:50.670\n&gt;&gt; I wish I had a soundboard here,\n\n494\n00:23:50.670 --> 00:23:53.855\nunfortunately they don't let me\nplay with the sharp scissors, so.\n\n495\n00:23:53.855 --> 00:23:56.355\n[LAUGH]\n&gt;&gt; That's probably not a bad idea for\n\n496\n00:23:56.355 --> 00:23:58.113\nlots and lots and lots of reasons.\n\n497\n00:23:58.113 --> 00:24:00.047\nAll right, so\nwe did talk about forwarding and\n\n498\n00:24:00.047 --> 00:24:02.188\ngoing in and\nobviously setting up our forwarding.\n\n499\n00:24:02.188 --> 00:24:05.199\nHere with conditional towards who\nwanted edit our forwarding tab.\n\n500\n00:24:05.199 --> 00:24:06.997\nI showed you where we can go in and\ndo that already.\n\n501\n00:24:06.997 --> 00:24:09.610\nWe could go in and take a look and\nobviously play around there.\n\n502\n00:24:09.610 --> 00:24:12.080\nI did mention a rude hints a well.\n\n503\n00:24:12.080 --> 00:24:15.825\nI just wanted to go in here real quick and\njust show you one other thing.\n\n504\n00:24:15.825 --> 00:24:18.705\nWe did take a look at and\ntalk about how to create zones.\n\n505\n00:24:18.705 --> 00:24:23.579\nWhat I wanted to do was just talk\nabout one of one other thing,\n\n506\n00:24:23.579 --> 00:24:27.222\nwhich was right here,\nlet me just minimize.\n\n507\n00:24:27.222 --> 00:24:29.536\nWe don't need either one\nwho doesn't really matter.\n\n508\n00:24:29.536 --> 00:24:33.877\nLet's just go in here on\nour DC on PracticeLabs.com.\n\n509\n00:24:33.877 --> 00:24:36.957\nWe had talked about the fact that we\ndo have all of our resource records,\n\n510\n00:24:36.957 --> 00:24:37.837\nour zones.\n\n511\n00:24:37.837 --> 00:24:41.297\nWe even talked about creating reversal of\nzones, pointer records and all of that.\n\n512\n00:24:41.297 --> 00:24:44.527\nBut if we decide just to remind\nourselves here we do new zone.\n\n513\n00:24:45.967 --> 00:24:50.780\nIf we decide, let's pull this over and\ndown to create a new zone and\n\n514\n00:24:50.780 --> 00:24:52.140\nwould choose our primary zone.\n\n515\n00:24:52.140 --> 00:24:53.760\nWe've been through that and\ntalked about that.\n\n516\n00:24:53.760 --> 00:24:58.840\nBut let's say for just a minute that\nwe wanted to create a secondary zone.\n\n517\n00:24:58.840 --> 00:25:00.170\nYou'll notice when we secondary zones,\n\n518\n00:25:00.170 --> 00:25:02.240\nI didn't actually show you this\nwhen we did this last time.\n\n519\n00:25:02.240 --> 00:25:04.960\nI just explained the concept\nthat a secondary zone\n\n520\n00:25:04.960 --> 00:25:06.710\nis a copy of the primary zone.\n\n521\n00:25:06.710 --> 00:25:07.460\nAnd as a result,\n\n522\n00:25:08.470 --> 00:25:11.830\nyou'll notice we're not making the choice\nto store in the Active Directory, because\n\n523\n00:25:11.830 --> 00:25:15.440\nthe secondary zone's a copy of one that's\nalready been created already stored.\n\n524\n00:25:15.440 --> 00:25:17.680\nSo we're unselecting there,\nI just wanted to show you that.\n\n525\n00:25:17.680 --> 00:25:21.420\nIf we do a stub zone, remember,\nwe can make a choice for\n\n526\n00:25:21.420 --> 00:25:24.680\nthe Active Directory to use and\nto provide storage for our stub zone,\n\n527\n00:25:24.680 --> 00:25:27.415\ncuz a stub zone is essentially\na stripped down version.\n\n528\n00:25:27.415 --> 00:25:31.629\nIt's a pointer zone, really that\ntells us how to resolve this NS and\n\n529\n00:25:31.629 --> 00:25:32.700\nthe SOA records if you remember.\n\n530\n00:25:32.700 --> 00:25:36.990\nAnd maybe what we call glue\nhost records probably for\n\n531\n00:25:36.990 --> 00:25:41.550\nthe main controller or something like\nthat, as a host just to find that machine.\n\n532\n00:25:41.550 --> 00:25:44.670\nBut that's really going to have\na very limited amount of information.\n\n533\n00:25:44.670 --> 00:25:47.680\nSo we have options here but\nwhen we do our secondary zone,\n\n534\n00:25:47.680 --> 00:25:51.140\nyou'll see that I specify forward or\nreverse lookup.\n\n535\n00:25:51.140 --> 00:25:53.570\nAnd then you'll see I've\ngotta give it a zone name,\n\n536\n00:25:53.570 --> 00:25:57.710\nspecify the portion of the name space that\nwe're gonna specify that this is gonna be,\n\n537\n00:25:57.710 --> 00:25:59.650\nand we'll just finish out our wizard here.\n\n538\n00:25:59.650 --> 00:26:02.850\nBut when we create that we're\nnot storing the secondary zone\n\n539\n00:26:02.850 --> 00:26:04.720\nin the Active Directory the way\nwe do the primary zone.\n\n540\n00:26:04.720 --> 00:26:07.220\nI just wanted to make sure you\ngot a chance to see that and\n\n541\n00:26:07.220 --> 00:26:11.510\nthat made sense based on our conversation\nabout how zones are formed and\n\n542\n00:26:11.510 --> 00:26:13.610\nwhat they represent earlier cuz\nwe had been through that but\n\n543\n00:26:13.610 --> 00:26:15.930\nhadn't really spent time\nspecifically on that one piece.\n\n544\n00:26:15.930 --> 00:26:17.830\nAll right, so\nwe took a look at how to create,\n\n545\n00:26:17.830 --> 00:26:19.250\nreviewed all our trouble shooting options.\n\n546\n00:26:19.250 --> 00:26:22.140\nTalked about making sure we\nknow our zone transfer types.\n\n547\n00:26:22.140 --> 00:26:23.970\nBut we also talked about\nconditional forwarding,\n\n548\n00:26:23.970 --> 00:26:26.930\ndid a quick demonstration set that up for\nyou, show you how that's gonna work.\n\n549\n00:26:28.080 --> 00:26:30.660\nI'm thinking we're just about out of time,\nright?\n\n550\n00:26:30.660 --> 00:26:33.750\n&gt;&gt; All right, so what's the plan,\nare we going back for more DNS here?\n\n551\n00:26:33.750 --> 00:26:35.300\n&gt;&gt; We're gonna go dig up some more DNS.\n\n552\n00:26:35.300 --> 00:26:38.470\n&gt;&gt; All right, let's dig up some more DNS\nbut for this show we'll go ahead and\n\n553\n00:26:38.470 --> 00:26:38.970\nsign out.\n\n554\n00:26:38.970 --> 00:26:41.785\nRemember, I'm your host, Cherokee Boose\n&gt;&gt; I'm Adam Gordon.\n\n555\n00:26:41.785 --> 00:26:44.871\n&gt;&gt; See you next time here at IT Pro TV\n\n556\n00:26:44.871 --> 00:26:50.654\n[MUSIC]\n\n557\n00:26:50.654 --> 00:26:53.861\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217178547"
        },
        {
          "description": "In this episode, Adam and Cherokee continue discussing DNS. They begin the show discussing application partitions in Active Directory Directory Services and the tools used to manage those partitions. Next, Adam walks thru steps to setup a GlobalName Zone , explains why we would use one and covers limitations such as these zones not dynamically updating. Adam also cover split DNS as well as a detailed delegation demonstration.",
          "length": "1549",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-4-implementing_dns_pt4-051017-PGM.00_25_34_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-4-implementing_dns_pt4-051017-PGM.00_25_34_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-4-implementing_dns_pt4-051017-PGM.00_25_34_16.Still001-sm.jpg",
          "title": "Implementing DNS Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:01.213\nWelcome to IT Pro TV.\n\n2\n00:00:01.213 --> 00:00:06.523\nI'm your host-\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.523 --> 00:00:08.500\n[MUSIC]\n\n4\n00:00:08.500 --> 00:00:12.105\n&gt;&gt; You're watching IT Pro TV.\n\n5\n00:00:12.105 --> 00:00:15.670\n&gt;&gt; Welcome back to your Networking\nwith Windows Server 2016 series.\n\n6\n00:00:15.670 --> 00:00:17.730\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.730 --> 00:00:20.445\nIn this episode,\nwe'll continue talking about DNS.\n\n8\n00:00:20.445 --> 00:00:23.327\nAnd back in studios with us today,\nwe have Mr. Adam Gordon.\n\n9\n00:00:23.327 --> 00:00:24.497\nThank you for joining us, Adam.\n\n10\n00:00:24.497 --> 00:00:25.328\nHow are you doing today?\n\n11\n00:00:25.328 --> 00:00:26.109\n&gt;&gt; I'm doing well.\n\n12\n00:00:26.109 --> 00:00:30.520\nI'm feeling almost like I need to\nsplit myself into multiple pieces and\n\n13\n00:00:30.520 --> 00:00:33.987\ncreate partitions,\nin order to be truly, truly good.\n\n14\n00:00:33.987 --> 00:00:35.636\n&gt;&gt; So is that what we're going to\nbe looking at in this episode?\n\n15\n00:00:35.636 --> 00:00:40.192\n&gt;&gt; No, I'm just saying, that would be a\nreally cool trick if I could do that, but\n\n16\n00:00:40.192 --> 00:00:43.592\nsince I can't do that what about\nif we could do that in DNS?\n\n17\n00:00:43.592 --> 00:00:46.792\nAnd in fact we actually can, and that is\nwhat we're gonna start talking about.\n\n18\n00:00:46.792 --> 00:00:50.290\nYou may or may not have heard about\nsomething called application partitions in\n\n19\n00:00:50.290 --> 00:00:52.516\nthe Active Directory, but\nthey are important for\n\n20\n00:00:52.516 --> 00:00:54.856\nus to be aware of cuz we can\nuse that thought process.\n\n21\n00:00:54.856 --> 00:00:58.082\nWe actually have been talking about them,\nwe've actually tripped over them several\n\n22\n00:00:58.082 --> 00:01:00.207\ntimes without necessarily\nreferring to them that way.\n\n23\n00:01:00.207 --> 00:01:03.669\nBut I'm gonna tie back in some knowledge\nthat we've explained to you in some prior\n\n24\n00:01:03.669 --> 00:01:04.975\nwalk-throughs in episodes,\n\n25\n00:01:04.975 --> 00:01:07.653\nbring in a couple tools that help\nyou understand how we do this.\n\n26\n00:01:07.653 --> 00:01:11.072\nThis is something done in the Active\nDirectory but that we leverage with DNS.\n\n27\n00:01:11.072 --> 00:01:14.854\nIf you remember when we spoke about\nreplication of our zones, our forward\n\n28\n00:01:14.854 --> 00:01:19.185\nlookup zones, we said as we go through and\nset them up, our primary Active Directory\n\n29\n00:01:19.185 --> 00:01:23.167\nintegrated zones specifically,\nthat we have two options for replication.\n\n30\n00:01:23.167 --> 00:01:25.603\nWe have three, but two of them\nare essentially the same thing.\n\n31\n00:01:25.603 --> 00:01:28.135\nOne is replicated at the forest level,\n\n32\n00:01:28.135 --> 00:01:32.985\none is replicated at the DNS namespace or\nthe domain namespace level only.\n\n33\n00:01:32.985 --> 00:01:36.475\nAnd when we're thinking about that, we're\nactually talking about the idea of how we\n\n34\n00:01:36.475 --> 00:01:39.886\nreplicate or what the containers are that\nwe're gonna put that information into.\n\n35\n00:01:39.886 --> 00:01:43.859\nWe actually think about the application\npartitions in the Active Directory as\n\n36\n00:01:43.859 --> 00:01:46.340\na result of that,\nwhen we set up DNS and install.\n\n37\n00:01:46.340 --> 00:01:51.741\nWe actually create two default application\npartitions in Active Directory, the domain\n\n38\n00:01:51.741 --> 00:01:56.794\nDNS zones application partition and the\nforest DNS zones application partition.\n\n39\n00:01:56.794 --> 00:01:59.502\nAnd if you begin to see the map and\nthe logic on this\n\n40\n00:01:59.502 --> 00:02:03.087\nforest DNS zones replicate at\nthe forest level for everything.\n\n41\n00:02:03.087 --> 00:02:07.148\nApplication level, or specifically the\ndomain DNS zones application partition,\n\n42\n00:02:07.148 --> 00:02:09.507\nreplicate just the DNS namespace for\nthat zone.\n\n43\n00:02:09.507 --> 00:02:12.235\nSo we're putting our replication\ninformation into one or\n\n44\n00:02:12.235 --> 00:02:14.134\nmore of these application partitions.\n\n45\n00:02:14.134 --> 00:02:15.439\nThat's where we're storing it, and\n\n46\n00:02:15.439 --> 00:02:18.103\nthat's what we're talking about when\nwe actually talk about replication.\n\n47\n00:02:18.103 --> 00:02:21.314\nSo all domain controllers within\nthe forest that are set up and\n\n48\n00:02:21.314 --> 00:02:25.266\nhave DNS installed receive a copy of\nthe forest DNS application partition,\n\n49\n00:02:25.266 --> 00:02:28.374\nbecause obviously they're\ngonna be aware of everything.\n\n50\n00:02:28.374 --> 00:02:33.071\nBut the ones that are specific\nto just that DNS zone.\n\n51\n00:02:33.071 --> 00:02:35.990\nSo in other words if we are in\na forest called Forest1,\n\n52\n00:02:35.990 --> 00:02:39.620\nwe have knowledge of that cuz we get\na copy of that forest partition.\n\n53\n00:02:39.620 --> 00:02:42.964\nBut if we are in not just the forest,\nas we always will be,\n\n54\n00:02:42.964 --> 00:02:47.386\nbut we're a domain controller in this\nspecific domain within the forest.\n\n55\n00:02:47.386 --> 00:02:52.250\nThen the domain controller within that\ndomain gets a secondary partition,\n\n56\n00:02:52.250 --> 00:02:55.670\nthe application partition for\nthat DNS domain zone,\n\n57\n00:02:55.670 --> 00:02:57.726\nas well as the forest level one.\n\n58\n00:02:57.726 --> 00:03:01.629\nSo we have knowledge of everything in the\nforest through, or at least the ability to\n\n59\n00:03:01.629 --> 00:03:05.425\nsee everything in the forest potentially\nthrough that forest level partition,\n\n60\n00:03:05.425 --> 00:03:07.747\nbut we also have the one\nspecific to our DNS zone.\n\n61\n00:03:07.747 --> 00:03:09.991\nOr specifically in this case, our domain.\n\n62\n00:03:09.991 --> 00:03:13.116\nSo we actually have two, and\nwe have knowledge of both,\n\n63\n00:03:13.116 --> 00:03:15.382\ndepending on where we are and what we do.\n\n64\n00:03:15.382 --> 00:03:19.283\nSo if I'm in domain 1 and Cherokee is in\ndomain 2, we would each have a domain or\n\n65\n00:03:19.283 --> 00:03:23.446\napplication, or access to the application\npartition for our respective domains.\n\n66\n00:03:23.446 --> 00:03:25.676\nDomain 1, domain 2.\n\n67\n00:03:25.676 --> 00:03:28.546\nBut I would not see domain\n2's application partition,\n\n68\n00:03:28.546 --> 00:03:32.552\nyou would not see domain 1's application\npartition by default and by design,\n\n69\n00:03:32.552 --> 00:03:35.807\nbut we would both see the forest\nlevel application partitions.\n\n70\n00:03:35.807 --> 00:03:38.178\nSo just wanna make sure we're\naware of that, all right?\n\n71\n00:03:38.178 --> 00:03:40.876\nSo that's kind of interesting, that's\nwhat application partitions are used for.\n\n72\n00:03:40.876 --> 00:03:42.779\nNow we can obviously\ncreate additional ones,\n\n73\n00:03:42.779 --> 00:03:44.348\nup to us to decide how we wanna do that.\n\n74\n00:03:44.348 --> 00:03:45.699\nThere are two ways to do that.\n\n75\n00:03:45.699 --> 00:03:48.395\nIf you join me here quickly, we'll just\ntake a look here at what we can do.\n\n76\n00:03:48.395 --> 00:03:53.092\nAn oldie but a goodie, DNS command is\nin a command line tool for DNS, and\n\n77\n00:03:53.092 --> 00:03:54.987\nDOS shell with DNS overlay.\n\n78\n00:03:54.987 --> 00:03:58.300\nThis is essentially what we use,\nit's been around as you could see, going\n\n79\n00:03:58.300 --> 00:04:02.151\nall the way back to Server 2003, it's just\na tool that's been around for awhile.\n\n80\n00:04:02.151 --> 00:04:06.120\nAnd we can use DNS command with our\nserver name and our commands here.\n\n81\n00:04:06.120 --> 00:04:10.384\nAnd one of the things that we can do, and\nthere's quite a long list of things as you\n\n82\n00:04:10.384 --> 00:04:13.772\ncan see here, but create our\ndirectory partitions, create and\n\n83\n00:04:13.772 --> 00:04:17.186\nyou'll see delete them and\nmodify them and interact with them.\n\n84\n00:04:17.186 --> 00:04:21.032\nThis is where we can go in using these\nswitches to actually be able to create\n\n85\n00:04:21.032 --> 00:04:22.905\nthe partitions using DNS command.\n\n86\n00:04:22.905 --> 00:04:27.587\nWe also, as if one wasn't good enough\nwe have two different options for you.\n\n87\n00:04:27.587 --> 00:04:29.809\nYou can also Ntdsutil.\n\n88\n00:04:29.809 --> 00:04:32.005\nAnother oldie, it's been around forever.\n\n89\n00:04:32.005 --> 00:04:35.253\nNtdsutil also goes back to Server 2003.\n\n90\n00:04:35.253 --> 00:04:39.945\nAnd Ntdsutil is not a DNS command tool\nspecifically, it is actually a tool\n\n91\n00:04:39.945 --> 00:04:44.723\nspecifically designed as a command\nline tool to manage Active Directory.\n\n92\n00:04:44.723 --> 00:04:48.908\nBut it does give us the ability because\nthese partitions are in Active Directory\n\n93\n00:04:48.908 --> 00:04:51.856\nto actually create the partitions\nwhen we use the tool.\n\n94\n00:04:51.856 --> 00:04:54.986\nSo remember, these partitions,\nalthough we leveraged them for DNS,\n\n95\n00:04:54.986 --> 00:04:57.137\nour Active Directory\nobjects are created in AD.\n\n96\n00:04:57.137 --> 00:05:00.383\nAnd we'll tell you about Active Directory\nintegrated zones that are going to be\n\n97\n00:05:00.383 --> 00:05:03.629\nusing our Active Directory integrated DNS,\nthat are gonna be leveraging these\n\n98\n00:05:03.629 --> 00:05:06.216\nActive Directory application partitions,\njust so you know.\n\n99\n00:05:06.216 --> 00:05:09.820\nSo you could use either one,\nNtdsutil and/or DNS Command,\n\n100\n00:05:09.820 --> 00:05:11.594\nit will be up to you to decide.\n\n101\n00:05:11.594 --> 00:05:15.194\n&gt;&gt; So, I know this is, [LAUGH]\n&gt;&gt; No, I'm not gonna know what it is,\n\n102\n00:05:15.194 --> 00:05:19.234\nI'm just gonna say the answer is\neither four, no or two-thirds,\n\n103\n00:05:19.234 --> 00:05:23.943\ndepending on whether you want a fraction,\na full number, and/or a letter.\n\n104\n00:05:23.943 --> 00:05:24.529\n&gt;&gt; Okay.\n\n105\n00:05:24.529 --> 00:05:25.129\n&gt;&gt; All right.\n\n106\n00:05:25.129 --> 00:05:26.299\nDid I get the answer right?\n\n107\n00:05:26.299 --> 00:05:27.308\n&gt;&gt; Yeah.\n\n108\n00:05:27.308 --> 00:05:30.450\n&gt;&gt; Awesome, so what was your question?\n\n109\n00:05:30.450 --> 00:05:33.076\n&gt;&gt; So\nI know you said we have not by default but\n\n110\n00:05:33.076 --> 00:05:37.740\nwe have the ability to go ahead and\nhave access to these other partitions.\n\n111\n00:05:37.740 --> 00:05:39.639\n&gt;&gt; We can create additional\nones if need be.\n\n112\n00:05:39.639 --> 00:05:41.287\n&gt;&gt; Okay.\n\n113\n00:05:41.287 --> 00:05:43.306\nOkay, so\nI was thinking you have access here.\n\n114\n00:05:43.306 --> 00:05:45.884\nSo that would be considered our trusts?\n\n115\n00:05:45.884 --> 00:05:47.011\n&gt;&gt; Well, in other words remember that,\nno, no, no.\n\n116\n00:05:47.011 --> 00:05:49.609\nWhat we're saying is that for\ninstance domain 1, domain 2,\n\n117\n00:05:49.609 --> 00:05:51.139\nlike we were talking about, right?\n\n118\n00:05:51.139 --> 00:05:54.778\nI suddenly got really small, I'm gonna\ntalk about DNS, just, I don't know.\n\n119\n00:05:54.778 --> 00:05:56.166\nEither that or the room grew,\none or the other.\n\n120\n00:05:56.166 --> 00:05:57.537\nMaybe there's just more room up there.\n\n121\n00:05:57.537 --> 00:05:58.354\n&gt;&gt; Haunted mansion.\n\n122\n00:05:58.354 --> 00:05:59.406\n&gt;&gt; And now look, I got big again.\n\n123\n00:05:59.406 --> 00:06:00.897\nYeah, it is like the Haunted Mansion.\n\n124\n00:06:00.897 --> 00:06:02.953\nDid that freak out your kids the first\ntime that you did that with them?\n\n125\n00:06:02.953 --> 00:06:05.999\nI took my daughters in there,\nthe first time, my little one?\n\n126\n00:06:05.999 --> 00:06:10.308\nShe almost clawed her way out of the room,\nshe was so scared.\n\n127\n00:06:10.308 --> 00:06:12.671\nI didn't mean to do that to her\nbecause we just didn't think about it.\n\n128\n00:06:12.671 --> 00:06:15.571\nShe freaked out something fierce.\n\n129\n00:06:15.571 --> 00:06:18.240\nWe could not, she had-\n&gt;&gt; One of my best childhood memories is\n\n130\n00:06:18.240 --> 00:06:19.956\nthat growing room in the Haunted Mansion.\n\n131\n00:06:19.956 --> 00:06:24.276\n&gt;&gt; She went from having a magical day to\nhaving the absolute anti-magic day after\n\n132\n00:06:24.276 --> 00:06:25.003\nwe did that.\n\n133\n00:06:25.003 --> 00:06:27.386\nThere was not any amount of magic.\n\n134\n00:06:27.386 --> 00:06:29.068\nThat put a smile back on that kid's face,\nI believe.\n\n135\n00:06:29.068 --> 00:06:29.783\n&gt;&gt; [LAUGH].\n\n136\n00:06:29.783 --> 00:06:30.503\n&gt;&gt; For years after,\n\n137\n00:06:30.503 --> 00:06:33.436\nshe, she to this day does not like\ngoing to the Haunted Mansion, right?\n\n138\n00:06:33.436 --> 00:06:35.299\nThat's how hard, how badly it scarred her.\n\n139\n00:06:35.299 --> 00:06:35.988\n&gt;&gt; Traumatized.\n\n140\n00:06:35.988 --> 00:06:38.086\n&gt;&gt; That's all random aside for\nthe episode, by the way.\n\n141\n00:06:38.086 --> 00:06:39.816\nNothing to do with Cherokee's answer.\n\n142\n00:06:39.816 --> 00:06:40.951\nBut let's get back to what you're asking.\n\n143\n00:06:40.951 --> 00:06:45.708\nSo you, what I was suggesting is just\nsimply that by default, by design,\n\n144\n00:06:45.708 --> 00:06:48.493\nwe see our own domain partitions, right?\n\n145\n00:06:48.493 --> 00:06:50.642\nThat's what we're associated with,\nis the DNS server.\n\n146\n00:06:50.642 --> 00:06:54.815\nIn Domain 1, I would have knowledge\nmy application partition for\n\n147\n00:06:54.815 --> 00:06:56.238\nthe DNS zone, right?\n\n148\n00:06:56.238 --> 00:06:57.192\nThe domain DNS zone,\n\n149\n00:06:57.192 --> 00:07:00.062\ncuz that's the namespace that\nI'm gonna be interacting with.\n\n150\n00:07:00.062 --> 00:07:03.809\nThat's where my thorough lookup\nzones are gonna be associated with.\n\n151\n00:07:03.809 --> 00:07:05.372\nThat's what I need to have knowledge of.\n\n152\n00:07:05.372 --> 00:07:08.625\nIf you are in your zone or\nrather in your domain in Domain 2,\n\n153\n00:07:08.625 --> 00:07:10.458\nyou don't need to know about me.\n\n154\n00:07:10.458 --> 00:07:11.654\nYou need to know about you.\n\n155\n00:07:11.654 --> 00:07:15.139\nNow when we set up forwarding,\nwe set up conditional forwarding,\n\n156\n00:07:15.139 --> 00:07:18.638\nwe have to do other stuff however\nwe're gonna get that knowledge.\n\n157\n00:07:18.638 --> 00:07:22.207\nWe may then be creating connections\nthat will either hardcode records or\n\n158\n00:07:22.207 --> 00:07:24.029\ntell us there's ways to find stuff.\n\n159\n00:07:24.029 --> 00:07:28.378\nBut we, out of the box, get knowledge\nof our own domain partition or\n\n160\n00:07:28.378 --> 00:07:31.449\nDNS domain,\nDNS zone application partition.\n\n161\n00:07:31.449 --> 00:07:35.824\nBut remember everybody gets knowledge of\nthe forest DNS zones application partition\n\n162\n00:07:35.824 --> 00:07:37.049\nreceive a copy of that.\n\n163\n00:07:37.049 --> 00:07:40.323\nThat gives us the ability to understand\nhow to talk to other systems,\n\n164\n00:07:40.323 --> 00:07:41.291\nfind other things.\n\n165\n00:07:41.291 --> 00:07:43.374\nWhen we do things like\nconditional forwarding,\n\n166\n00:07:43.374 --> 00:07:46.232\nwe program all that stuff in as we\ntalked about in another episode.\n\n167\n00:07:46.232 --> 00:07:49.672\nWe actually then can make those\nconnections work cuz we can reference that\n\n168\n00:07:49.672 --> 00:07:52.177\nknowledge in the forest\nlevel DNS application zone.\n\n169\n00:07:52.177 --> 00:07:53.413\n&gt;&gt; Okay.\n&gt;&gt; If we have that stored in your\n\n170\n00:07:53.413 --> 00:07:53.993\nother stuff there.\n\n171\n00:07:53.993 --> 00:07:55.225\nSo yeah, we would see that, but\n\n172\n00:07:55.225 --> 00:07:57.883\nit's at the forest level that we\nwould potentially see everything.\n\n173\n00:07:57.883 --> 00:08:00.239\nSo we do have Ntdsutil and/or DNS command,\n\n174\n00:08:00.239 --> 00:08:03.374\njust reminding you of the fact\nthat we can use these tools.\n\n175\n00:08:03.374 --> 00:08:06.453\nAnd if you haven't used Ntdsutil\nbefore Boy is it a hoot and a half.\n\n176\n00:08:06.453 --> 00:08:09.925\nLet me tell you what, some of my best\nhorror stories about having to manage\n\n177\n00:08:09.925 --> 00:08:13.621\nactive directory come from trying to do\nrecoveries with this tool at strange,\n\n178\n00:08:13.621 --> 00:08:16.520\nodd hours in data centers\nwhen things are not working.\n\n179\n00:08:16.520 --> 00:08:17.080\nI'm kidding.\nActually,\n\n180\n00:08:17.080 --> 00:08:18.670\nthe tool is not very hard to use at all.\n\n181\n00:08:18.670 --> 00:08:23.350\nBut it is important for you, and I would\nrecommend, seriously, all kidding aside,\n\n182\n00:08:23.350 --> 00:08:28.120\nif you have not used the tool before, then\nI would recommend that you take a look,\n\n183\n00:08:28.120 --> 00:08:32.140\njust down here there's some straight\nforward syntax, not very complicated.\n\n184\n00:08:32.140 --> 00:08:34.235\nAnd you could see here, and\nwe do have all the commands.\n\n185\n00:08:34.235 --> 00:08:36.090\nJust like every one of\nthese web pages does.\n\n186\n00:08:36.090 --> 00:08:38.110\nIt always gives you the information.\n\n187\n00:08:38.110 --> 00:08:42.060\nBut the nice thing about it is that you\nclick through here, and for instance,\n\n188\n00:08:42.060 --> 00:08:45.090\none of the most common uses of\nthe tool like into DS ITIL,\n\n189\n00:08:45.090 --> 00:08:48.660\nis to do an authoritative restore right\nafter restoring the Active Directory.\n\n190\n00:08:48.660 --> 00:08:53.120\nAnd back fill records that have to be put\nin that are not replicated back out again\n\n191\n00:08:53.120 --> 00:08:53.930\nbecause of problems.\n\n192\n00:08:53.930 --> 00:08:55.770\nAnd mark them as being authoritative.\n\n193\n00:08:55.770 --> 00:08:57.880\nSo things like that happen with this tool.\n\n194\n00:08:57.880 --> 00:08:58.740\nSo you wanna go through and\n\n195\n00:08:58.740 --> 00:09:01.660\nlook at the specifics of how to\ndo any one of these activities.\n\n196\n00:09:01.660 --> 00:09:04.240\nAnd they're listed here, just so\nyou can drill through and take a look.\n\n197\n00:09:04.240 --> 00:09:06.760\nJust so you know,\nthat's what's going on in there.\n\n198\n00:09:06.760 --> 00:09:10.460\nRemember we do have the ability to use\neither one of these to be able to go in\n\n199\n00:09:10.460 --> 00:09:13.850\nand to set up and\ncreate our partitions if need be.\n\n200\n00:09:13.850 --> 00:09:16.500\nWe've been through and talked about\nquite a bit of other stuff in here, but\n\n201\n00:09:16.500 --> 00:09:19.295\nI thought one of the other things that\nwill be interesting just to talk about\n\n202\n00:09:19.295 --> 00:09:23.500\nquickly, before we go in,\nbefore we set up our delegation,\n\n203\n00:09:23.500 --> 00:09:26.650\nI'm going to show you how to do\na delegated zone here, in just a minute.\n\n204\n00:09:26.650 --> 00:09:29.720\nBut before we do that, I thought it would\nbe interesting to talk about one other\n\n205\n00:09:29.720 --> 00:09:33.920\nthing, which is new to 16,\nthis is our GlobalName Zone.\n\n206\n00:09:33.920 --> 00:09:37.540\nCould we get a full screen while I'm\ntalking so we can see all the steps?\n\n207\n00:09:37.540 --> 00:09:40.810\nThe idea behind the GlobalName Zone,\nkind of interesting as well.\n\n208\n00:09:40.810 --> 00:09:44.950\nWe talked about the ability to be able\nto provide support through Win, so\n\n209\n00:09:44.950 --> 00:09:47.900\nwe kind of joked about the fact\nthat Wins is still there, and we\n\n210\n00:09:47.900 --> 00:09:52.240\nhave net BIOS space name resolution, and\nmaybe we need it, maybe we don't, right?\n\n211\n00:09:52.240 --> 00:09:55.550\nBut the reality is we have applications\nthat require it, we still have a need to\n\n212\n00:09:55.550 --> 00:09:59.600\nbe able to provide this stuff, and Global\nName Zones help us be able to do this.\n\n213\n00:09:59.600 --> 00:10:02.970\nThey're, essentially,\nwhat we call a single labeled name, right?\n\n214\n00:10:02.970 --> 00:10:03.500\nObjects.\n\n215\n00:10:03.500 --> 00:10:07.480\nSo we're creating a zone that represents\na single labeled name or an entity.\n\n216\n00:10:07.480 --> 00:10:09.460\nIt's gonna be unique\nacross an entire forest.\n\n217\n00:10:09.460 --> 00:10:12.910\nMeaning, hey I need an application\ncalled application X.\n\n218\n00:10:12.910 --> 00:10:15.580\nI wanna refer to the same way\nacross the entire forest.\n\n219\n00:10:15.580 --> 00:10:18.160\nI wanna be able to resolve it way,\nset it up and\n\n220\n00:10:18.160 --> 00:10:19.920\nbe able to interact with it that way.\n\n221\n00:10:19.920 --> 00:10:22.910\nI need to be able to use a Global Name\nZone in order to be able to do this,\n\n222\n00:10:22.910 --> 00:10:24.600\nbecause that's what I'm gonna do.\n\n223\n00:10:24.600 --> 00:10:27.410\nAnd so what we do is we\nprovide this name resolution.\n\n224\n00:10:27.410 --> 00:10:30.280\nTypically large enterprise\nnetworks is where we see this kind\n\n225\n00:10:30.280 --> 00:10:33.070\nof a thought process,\nthat are not going to deploy Wins.\n\n226\n00:10:33.070 --> 00:10:35.670\nSo in other words,\nwe're getting away from Wins.\n\n227\n00:10:35.670 --> 00:10:39.030\nBut we have multiple DNS environments\nthat need to have a single name\n\n228\n00:10:39.030 --> 00:10:41.250\nresolution capability across all of them.\n\n229\n00:10:41.250 --> 00:10:44.500\nBut we're no longer using the old\nstyle name resolution systems that\n\n230\n00:10:44.500 --> 00:10:45.450\nwould provide that.\n\n231\n00:10:45.450 --> 00:10:49.680\nWant to essentially transfer\nthat capability into DNS and\n\n232\n00:10:49.680 --> 00:10:52.110\nleverage this idea and\nthat's what we're getting here.\n\n233\n00:10:52.110 --> 00:10:55.250\nSo we have to set this up manually, they\ndon't exist by default, we have to go and\n\n234\n00:10:55.250 --> 00:10:56.250\nfigure them out.\n\n235\n00:10:56.250 --> 00:11:00.690\nWe do have to make sure that we\nare familiar with how to set them up, so\n\n236\n00:11:00.690 --> 00:11:03.390\nI put the steps up here, we're going to\nwalk through them for you really quickly.\n\n237\n00:11:03.390 --> 00:11:06.100\nIt's obviously PowerShell based,\nas you can see.\n\n238\n00:11:06.100 --> 00:11:10.120\nBut, before we talk about that, keep in\nmind because this is manually created,\n\n239\n00:11:10.120 --> 00:11:12.930\nno dynamic record\nregistration support here.\n\n240\n00:11:12.930 --> 00:11:15.440\nYou want to put a record in,\nyou've got to put it in manually.\n\n241\n00:11:15.440 --> 00:11:18.990\nIn other words we're not gonna be able to\ndo dynamic updates to the global name zone\n\n242\n00:11:18.990 --> 00:11:20.200\nthe way we do to other zones.\n\n243\n00:11:20.200 --> 00:11:23.262\nJust want to make sure we're familiar\nwith that, we have sense of that,\n\n244\n00:11:23.262 --> 00:11:25.381\nwe understand that,\nbecause that is important.\n\n245\n00:11:25.381 --> 00:11:27.885\nYou know we would say,\nhey it's a zone in theory,\n\n246\n00:11:27.885 --> 00:11:30.392\nwell it must support\ndynamic name resolution, or\n\n247\n00:11:30.392 --> 00:11:33.990\ndynamic name updates rather,\nunless we go in and say no, manual only.\n\n248\n00:11:33.990 --> 00:11:36.310\nWe don't have an option,\nit's only manual updates.\n\n249\n00:11:36.310 --> 00:11:40.050\nSo we want to create a record once we\nestablish a zone, we do it manually.\n\n250\n00:11:40.050 --> 00:11:43.860\nSo this is all driven, as you can see,\nby Ron as the main controller.\n\n251\n00:11:43.860 --> 00:11:45.205\nRight?\nWe're gonna create an active\n\n252\n00:11:45.205 --> 00:11:48.710\nDirectory-Intergrated forward lookup zone,\nI just named my ITPRO.tv for\n\n253\n00:11:48.710 --> 00:11:49.700\nthe example here.\n\n254\n00:11:49.700 --> 00:11:54.270\nWe're gonna be using PowerShell so,\nAdd-DnsServerPrimaryZone specify the name\n\n255\n00:11:54.270 --> 00:11:59.270\nparameter, specify the value,\nReplicationScope Forest, specify that.\n\n256\n00:11:59.270 --> 00:12:02.020\nJust making sure that we're\nthinking about the fact\n\n257\n00:12:02.020 --> 00:12:06.955\nthat we're gonna be using PowerShell, let\nme just step out here for just one second,\n\n258\n00:12:06.955 --> 00:12:10.930\nremind you of the fact that we do\nhave our PowerShell commands here.\n\n259\n00:12:10.930 --> 00:12:14.240\nSo we have all sorts of\nstuff going on here.\n\n260\n00:12:14.240 --> 00:12:20.408\nAnd if we go back up to the top\nwhere we're doing our global zones.\n\n261\n00:12:27.449 --> 00:12:32.560\nWe are going to, what am I looking for,\nI think I have it on this list.\n\n262\n00:12:32.560 --> 00:12:34.640\nI may or\nmay not be on this particular one.\n\n263\n00:12:34.640 --> 00:12:37.050\nI don't think I have it on this one.\n\n264\n00:12:37.050 --> 00:12:38.210\nAnyway, it's here somewhere.\n\n265\n00:12:38.210 --> 00:12:39.830\nI'm just not seeing it right\nnow as I scroll through quick.\n\n266\n00:12:39.830 --> 00:12:41.810\nCuz I'm not really seeing,\nI'm just looking quickly.\n\n267\n00:12:41.810 --> 00:12:44.420\nI'm not actually looking for it,\nper se, but you get the idea.\n\n268\n00:12:44.420 --> 00:12:46.800\nYou would look here for\nyour DnsServer Module command,\n\n269\n00:12:46.800 --> 00:12:48.960\nthat's just to remind you\nof what we're doing, okay.\n\n270\n00:12:48.960 --> 00:12:51.250\nI just wanted to show you,\nwe do have the reference for it.\n\n271\n00:12:51.250 --> 00:12:54.560\nSo Add-DNSServerPrimaryZone, and that\nwas in the list, I just didn't see it.\n\n272\n00:12:54.560 --> 00:12:55.660\nSo we have it there.\n\n273\n00:12:55.660 --> 00:12:58.700\nThen back to full screen,\nyou gotta be able to see the commands,\n\n274\n00:12:58.700 --> 00:12:59.680\nthank you very much.\n\n275\n00:12:59.680 --> 00:13:00.780\nSo we've done this.\n\n276\n00:13:00.780 --> 00:13:04.200\nThen, run the following command\nonce we set up our zone.\n\n277\n00:13:04.200 --> 00:13:05.160\nSo we have that set up,\n\n278\n00:13:05.160 --> 00:13:08.300\nback to Directory-integrated forward\nlookup zone, step number one.\n\n279\n00:13:08.300 --> 00:13:11.410\nStep number two,\nSet-DnsServerFlobalNameZone,\n\n280\n00:13:11.410 --> 00:13:14.240\nthat's gonna be the one that makes\nthis into a GlobalNameZone for\n\n281\n00:13:14.240 --> 00:13:15.960\nus after we set the initial one.\n\n282\n00:13:15.960 --> 00:13:17.140\nAlwaysQueryServer true.\n\n283\n00:13:17.140 --> 00:13:19.930\nSo, we are going to say,\nyes set the global name zone up,\n\n284\n00:13:19.930 --> 00:13:22.620\nalways query the server,\ncreate an active directory-integrated\n\n285\n00:13:22.620 --> 00:13:27.290\nforward lookup zone named ITPROGlobalNames\nby running the following command.\n\n286\n00:13:27.290 --> 00:13:28.460\nSo, we did that already.\n\n287\n00:13:28.460 --> 00:13:30.840\nReplicationScope again at the Forest.\n\n288\n00:13:30.840 --> 00:13:34.880\nThen, if we do all this,\njust scroll down, and\n\n289\n00:13:34.880 --> 00:13:38.250\nthen open our console,\nwe can then manually go in, right?\n\n290\n00:13:38.250 --> 00:13:40.260\nAnd this is where we add in the records,\n\n291\n00:13:40.260 --> 00:13:44.940\nwe manually go in and we add in whatever\nthe records are, that we need to have.\n\n292\n00:13:44.940 --> 00:13:47.490\nSo, we're adding a host\nrecord there as you can see.\n\n293\n00:13:47.490 --> 00:13:48.870\nWith whatever the name is,\n\n294\n00:13:48.870 --> 00:13:50.940\nbecause the GlobalNames zone\nat that point will show up.\n\n295\n00:13:50.940 --> 00:13:53.350\nWe'll be able to see it once we create it.\n\n296\n00:13:53.350 --> 00:13:57.260\nSo creating it is a process from\nthe command line with PowerShell,\n\n297\n00:13:57.260 --> 00:14:00.620\nthen the MMC can be used to actually\nadd the records in after the fact,\n\n298\n00:14:00.620 --> 00:14:02.260\nand then the GlobalNames zone.\n\n299\n00:14:02.260 --> 00:14:03.810\nYou then have your alias.\n\n300\n00:14:03.810 --> 00:14:06.020\nThat's gonna be whatever\nwe're gonna resolve against.\n\n301\n00:14:06.020 --> 00:14:07.840\nIn this case I called it ITPROApp1.\n\n302\n00:14:07.840 --> 00:14:11.120\nWhatever you it would be,\nwhatever you decide you want it to be.\n\n303\n00:14:11.120 --> 00:14:14.470\nBut I would put that in and that's gonna\nthen give us the ability to have that name\n\n304\n00:14:14.470 --> 00:14:18.630\nresolution consistently across the entire\nforest, that's what we're gonna be seeing.\n\n305\n00:14:18.630 --> 00:14:22.760\nSo just make sure that you're familiar\nwith the logic, lookup the commands,\n\n306\n00:14:22.760 --> 00:14:26.910\nthe Add-DNSServerPrimaryZone, and\nset-DnsGlobalServiceNameZone to\n\n307\n00:14:26.910 --> 00:14:29.810\nbe able to find those down in\nthe list that I was just showing you,\n\n308\n00:14:29.810 --> 00:14:34.290\nand you'll be able to then go in and setup\nyour Global Name Zone if you need to.\n\n309\n00:14:34.290 --> 00:14:35.720\nYou look like you may have had a question,\nyoung lady.\n\n310\n00:14:35.720 --> 00:14:36.600\n&gt;&gt; Not yet.\n\n311\n00:14:36.600 --> 00:14:38.115\n&gt;&gt; Not yet.\n&gt;&gt; There may be one coming.\n\n312\n00:14:38.115 --> 00:14:41.320\n[LAUGH]\n&gt;&gt; I am all aflutter with anticipation.\n\n313\n00:14:41.320 --> 00:14:42.310\nI can hardly wait.\n\n314\n00:14:42.310 --> 00:14:43.270\n&gt;&gt; I'm sure you are.\n\n315\n00:14:43.270 --> 00:14:43.790\n&gt;&gt; I am.\n\n316\n00:14:43.790 --> 00:14:48.060\nI fear the question, but I will go\nbravely into the rest of my dialogue,\n\n317\n00:14:48.060 --> 00:14:50.170\nhoping that the question does\nnot come back to bite us.\n\n318\n00:14:50.170 --> 00:14:52.720\nSo you'll ask whenever you have a need,\nis what you're saying?\n\n319\n00:14:52.720 --> 00:14:53.760\n&gt;&gt; Sure, yeah.\n&gt;&gt; Okay, absolutely so\n\n320\n00:14:53.760 --> 00:14:54.850\nyou feel free to interrupt me any time.\n\n321\n00:14:54.850 --> 00:14:55.350\n&gt;&gt; Or, I'll do this.\n\n322\n00:14:56.640 --> 00:14:57.430\nHey.\n&gt;&gt; Awesome.\n\n323\n00:14:57.430 --> 00:14:58.240\nSo when I see that,\n\n324\n00:14:58.240 --> 00:15:01.770\nI'm gonna run the other way and\npretend that I don't see you.\n\n325\n00:15:01.770 --> 00:15:04.450\nWe talked about how to set up\na global name, so it's important for\n\n326\n00:15:04.450 --> 00:15:04.970\nyou to be aware of.\n\n327\n00:15:04.970 --> 00:15:07.570\nThis is something, again, that you may or\nmay not have done before.\n\n328\n00:15:07.570 --> 00:15:09.060\nI'm guessing, most likely,\n\n329\n00:15:09.060 --> 00:15:11.810\nsomething you probably have not\ndone all that often if at all.\n\n330\n00:15:11.810 --> 00:15:14.970\nSo it may be good for you just to have\nknowledge of how to use global name zones,\n\n331\n00:15:14.970 --> 00:15:18.410\nbut do keep in mind the thought\nprocess about when we would use this.\n\n332\n00:15:18.410 --> 00:15:21.650\nThis is a relatively limited thought\nprocess in terms of use case.\n\n333\n00:15:21.650 --> 00:15:26.150\nThis is where we need universal name\nresolution that's gonna come out the same\n\n334\n00:15:26.150 --> 00:15:29.930\nway consistently in every area of the\nforest and we're no longer using something\n\n335\n00:15:29.930 --> 00:15:33.970\nlike Wins to drive that, and we're gonna\nsubstitute that functionality into DNS.\n\n336\n00:15:33.970 --> 00:15:39.190\nBecause that is a globally forest wide\nuniversal name resolution system for us,\n\n337\n00:15:39.190 --> 00:15:43.190\nbut we're gonna trick DNS into essentially\noperating the way Win solution would,\n\n338\n00:15:43.190 --> 00:15:43.857\nwithout using Wins.\n\n339\n00:15:43.857 --> 00:15:46.505\nThat's really what global name zones\nare for, and you may or may not\n\n340\n00:15:46.505 --> 00:15:49.731\nhave a need to do that, it's one of those\nthings that's nice to know it's there.\n\n341\n00:15:49.731 --> 00:15:52.755\nYou may never actually have a need to\ndo that, it'll be up to you to decide.\n\n342\n00:15:52.755 --> 00:15:56.325\nBut I promise you that if you get asked\nabout it at some point in the future,\n\n343\n00:15:56.325 --> 00:15:58.225\nperhaps, who knows, you never know,\n\n344\n00:15:58.225 --> 00:16:02.104\nwhen you are trying to accomplish a bunch\nof questions in a short amount of time.\n\n345\n00:16:02.104 --> 00:16:04.227\nWould be good to know,\nthat you can do this.\n\n346\n00:16:04.227 --> 00:16:06.046\nAnd if you didn't know how to do it,\nI bet you,\n\n347\n00:16:06.046 --> 00:16:09.930\nyou would actually be that much closer to\nfinishing all those questions positively.\n\n348\n00:16:09.930 --> 00:16:12.170\nSo what about split DNS, and\ntalk about split DNS as well.\n\n349\n00:16:12.170 --> 00:16:13.670\nAnd that was mentioned in a prior episode,\n\n350\n00:16:13.670 --> 00:16:16.300\njust thought I'd bring back\nthe conversation to quickly remind you of\n\n351\n00:16:16.300 --> 00:16:19.380\nwhat we do with this before we do our\ndelegation, I'm going to go in and\n\n352\n00:16:19.380 --> 00:16:21.980\nshow you how to do a delegation\nhere in just one second.\n\n353\n00:16:21.980 --> 00:16:26.350\nBut remember split DNS, the idea\nwith split DNS is the ability to set\n\n354\n00:16:26.350 --> 00:16:29.111\nup two distinctly different DNS systems,\n\n355\n00:16:29.111 --> 00:16:34.173\none inside the network in the LAN behind\nthe firewall, one traditionally more\n\n356\n00:16:34.173 --> 00:16:38.948\noft than not sitting the in DNZ outside\nof the firewall that backs the DMZ.\n\n357\n00:16:38.948 --> 00:16:42.843\nSo the difference between\nthe semi-protected and the DMZ network and\n\n358\n00:16:42.843 --> 00:16:46.803\nthe totally internal network, the LAN,\nhave DNS service involved but\n\n359\n00:16:46.803 --> 00:16:50.829\nhave them specifically designed in\ntasks with doing resolution just for\n\n360\n00:16:50.829 --> 00:16:52.610\nresources in that area.\n\n361\n00:16:52.610 --> 00:16:55.480\nAnd I mentioned this is a security\nissue back when we were just doing\n\n362\n00:16:55.480 --> 00:16:57.080\nthe high level overview.\n\n363\n00:16:57.080 --> 00:17:00.260\nInternal clients are configured with\nthe IP address of the Active Directory\n\n364\n00:17:00.260 --> 00:17:02.260\nintegrated Unix servers on the LAN.\n\n365\n00:17:02.260 --> 00:17:03.890\nThey do their resolution there.\n\n366\n00:17:03.890 --> 00:17:07.570\nAnything that has to go out will go\nto the DMZ based DNS service for\n\n367\n00:17:07.570 --> 00:17:08.970\nexternal resolution.\n\n368\n00:17:08.970 --> 00:17:12.620\nThe trick here would be that you don't\nwant the external DNS servers and\n\n369\n00:17:12.620 --> 00:17:16.460\nthe DMZ being able to query and\nask for information from inside.\n\n370\n00:17:16.460 --> 00:17:20.500\nSo I mention you may setup a firewall\nrule on the inside firewall,\n\n371\n00:17:20.500 --> 00:17:24.040\nthe back end of the DMC that\nit's between these two systems.\n\n372\n00:17:24.040 --> 00:17:28.560\nYou would manipulate the firewall there\nand prevent inbound DNS resolution from\n\n373\n00:17:28.560 --> 00:17:32.900\nthose DMC base DNS servers\nrejecting all the DNS.\n\n374\n00:17:32.900 --> 00:17:36.560\nUDP base port 20,\nUDP base port 53, excuse me.\n\n375\n00:17:36.560 --> 00:17:39.560\nQueries coming in to the internal\nnetwork from the parameter\n\n376\n00:17:39.560 --> 00:17:43.810\npreventing those DMZ based DNS servers\nfrom requesting information and\n\n377\n00:17:43.810 --> 00:17:45.960\nexposing DNS records outside.\n\n378\n00:17:45.960 --> 00:17:47.730\nMaybe a zone transfer.\n\n379\n00:17:47.730 --> 00:17:50.580\nMaybe somebody trying to manipulate and\nmap or go out and\n\n380\n00:17:50.580 --> 00:17:54.650\nfind our DNS infrastructure,\ndump all the DNS records and\n\n381\n00:17:54.650 --> 00:17:56.900\nget a map as to what's going on\non the inside of the network.\n\n382\n00:17:56.900 --> 00:17:59.440\nWe can use split DNS to\nprevent this from happening\n\n383\n00:17:59.440 --> 00:18:01.340\nif we're smart about how we set this up.\n\n384\n00:18:01.340 --> 00:18:03.920\nSo it is important for\nus to think about that.\n\n385\n00:18:03.920 --> 00:18:05.300\nJust have that thought process in mind.\n\n386\n00:18:05.300 --> 00:18:09.780\nThis is part of from my\nperspective I would at\n\n387\n00:18:09.780 --> 00:18:14.360\nleast define us the larger conversation\non our enterprise security architecture.\n\n388\n00:18:14.360 --> 00:18:17.030\nYou ever saw and\ntry to bring that conversation back in\n\n389\n00:18:17.030 --> 00:18:21.220\naround some of these network services\nthat are vital to our health and success.\n\n390\n00:18:21.220 --> 00:18:23.930\nIn terms of running networks\nespecially these days.\n\n391\n00:18:23.930 --> 00:18:26.220\nIn Microsoft World everything\nis DNS integrated.\n\n392\n00:18:26.220 --> 00:18:29.350\nI made jokes in one of the earlier\nepisodes about doing away with DNS and\n\n393\n00:18:29.350 --> 00:18:32.370\nif we did that how the world would\nliterally change, and it would.\n\n394\n00:18:32.370 --> 00:18:35.640\nI mean, if you imagine, there's no\ninfrastructure that we run today,\n\n395\n00:18:35.640 --> 00:18:38.790\nalmost without exception that\ndoesn't touch the NS at some point.\n\n396\n00:18:38.790 --> 00:18:39.650\nAnd as a result of that,\n\n397\n00:18:39.650 --> 00:18:44.660\nif we were exposing that unnecessarily,\nwe may actually lead our systems\n\n398\n00:18:44.660 --> 00:18:48.260\nmuch much closer to being compromised\nwithout necessarily meaning to do so.\n\n399\n00:18:48.260 --> 00:18:50.610\nIt is something just to be aware of and\nto think about.\n\n400\n00:18:50.610 --> 00:18:52.700\nAll right, having said that,\nwhat I want to do is I want to jump in.\n\n401\n00:18:52.700 --> 00:18:55.810\nI want to extend our lab timer\nwhile I'm getting ready to do this.\n\n402\n00:18:55.810 --> 00:18:57.610\nWant to jump in and\n\n403\n00:18:57.610 --> 00:19:01.170\nI want to show you how to do this\ndelegation that I was talking about.\n\n404\n00:19:01.170 --> 00:19:02.910\nThis is an important thought process.\n\n405\n00:19:02.910 --> 00:19:05.110\nWe're gonna take a zone that\nwe've already created and\n\n406\n00:19:05.110 --> 00:19:08.280\ndelegate out the information and\nthe management around it, so\n\n407\n00:19:08.280 --> 00:19:10.880\nwe can have it managed and\nseen from different locations.\n\n408\n00:19:10.880 --> 00:19:12.060\nSo let's go in and take a look.\n\n409\n00:19:12.060 --> 00:19:15.290\nI'm just gonna bring up\nour domain controller.\n\n410\n00:19:15.290 --> 00:19:17.413\nLet me just look for the right machine.\n\n411\n00:19:17.413 --> 00:19:19.840\nOur DCs are there we go!\n\n412\n00:19:19.840 --> 00:19:22.710\nI got smart, I put them all up on the\nconsole, so I can see the names as I go\n\n413\n00:19:22.710 --> 00:19:25.110\nthrough instead of remembering\nwhat order their in.\n\n414\n00:19:25.110 --> 00:19:29.990\nSo what I'm gonna do, is I'm gonna start\nover here, I'm on the practicelabs.com\n\n415\n00:19:29.990 --> 00:19:34.490\ndomain or rather in the practicelab.com\ndomain on the practicelab.com zone\n\n416\n00:19:34.490 --> 00:19:37.190\nis you could see in the DNS server,\nlet's come and deal with this.\n\n417\n00:19:37.190 --> 00:19:39.293\nSo I'm gonna go ahead and\ndelegate this out.\n\n418\n00:19:39.293 --> 00:19:42.395\nSo what I'm gonna do is the following.\n\n419\n00:19:42.395 --> 00:19:46.204\nLet me come here, let me come here,\nlet's go in and click on this side of\n\n420\n00:19:46.204 --> 00:19:50.713\nNew Delegation right here, and we're gonna\ngo ahead and run a little New Delegation\n\n421\n00:19:50.713 --> 00:19:55.010\nwizard, I'm just gonna bring this\ndown here in center so you can see.\n\n422\n00:19:55.010 --> 00:19:56.660\nClick Next.\n\n423\n00:19:56.660 --> 00:19:58.120\nPull that up just a smidge.\n\n424\n00:19:58.120 --> 00:20:01.570\nSo what's the delegated zone gonna\nbe within practicelabs.com, so\n\n425\n00:20:01.570 --> 00:20:04.830\nI'm going to go ahead and\nI'm gonna put in the zone now.\n\n426\n00:20:04.830 --> 00:20:10.255\nBefore I do this or while I'm doing this,\nlet me switch over here for one second.\n\n427\n00:20:10.255 --> 00:20:16.106\nAnd what I've done is right\nhere on my DM1 server.\n\n428\n00:20:16.106 --> 00:20:19.937\nThis is just another server I've\nadded DNS to, you'll see I have\n\n429\n00:20:19.937 --> 00:20:24.550\nAPAC.PracticeLabs.com already set up\nas a forward lookup zone right here.\n\n430\n00:20:24.550 --> 00:20:28.600\nIt's been setup and registered\nas being hosted on this machine.\n\n431\n00:20:28.600 --> 00:20:32.745\nI'm creating a delegation for this zone\non the Practice practicelabs.com server.\n\n432\n00:20:32.745 --> 00:20:33.625\nThat's what I'm going to do.\n\n433\n00:20:33.625 --> 00:20:38.305\nSo just wanted you to see that the name\na p a c, APAC, is the subzone or\n\n434\n00:20:38.305 --> 00:20:40.745\nthe delegation for\nthis is actually already created.\n\n435\n00:20:40.745 --> 00:20:41.675\nWe're just referencing it.\n\n436\n00:20:41.675 --> 00:20:43.045\nThat's what we're going to pull in.\n\n437\n00:20:43.045 --> 00:20:45.225\nSo just wanted you to see\nwhere that's coming from.\n\n438\n00:20:45.225 --> 00:20:46.825\nSo let me come back over here, right?\n\n439\n00:20:46.825 --> 00:20:49.155\nSo we're going to do\nAPAC.practicelabs.com, so\n\n440\n00:20:49.155 --> 00:20:51.480\nyou could see we have that there.\n\n441\n00:20:51.480 --> 00:20:52.830\nJust click Next, right?\n\n442\n00:20:52.830 --> 00:20:57.010\nSo now what we're gonna do\nis add in the DNS server or\n\n443\n00:20:57.010 --> 00:20:59.890\nthe name server that's\ngonna host that zone, well,\n\n444\n00:20:59.890 --> 00:21:03.970\nI already showed you where it was, it's\non the lab, in this case DM01 machine.\n\n445\n00:21:03.970 --> 00:21:07.480\nSo we're gonna go ahead, we're gonna\nadd this in, so I'm gonna grab this,\n\n446\n00:21:07.480 --> 00:21:13.425\nwe'll go ahead and type this in here,\nlabdm01.practicelabs.\n\n447\n00:21:13.425 --> 00:21:16.770\n.com, resolve.\n\n448\n00:21:16.770 --> 00:21:19.040\nYou could see it comes up,\nknows the IP address.\n\n449\n00:21:19.040 --> 00:21:23.280\nGreen is always good,\n1026802, validation, OK.\n\n450\n00:21:23.280 --> 00:21:27.480\nAgain, if we had more than one server\nhere IP address of DNS record,\n\n451\n00:21:27.480 --> 00:21:31.510\nif we had more than one DNS server\nthat was going to host this zone.\n\n452\n00:21:31.510 --> 00:21:33.420\nWe have multiple name servers there.\n\n453\n00:21:33.420 --> 00:21:35.700\nI may have more than one\nIP address listed here.\n\n454\n00:21:35.700 --> 00:21:38.720\nI can move up and\ndown the we talked about this.\n\n455\n00:21:38.720 --> 00:21:40.030\nClick OK, we have got that.\n\n456\n00:21:40.030 --> 00:21:41.510\nWe obviously are going\nto have just the one.\n\n457\n00:21:41.510 --> 00:21:42.520\nWe will click Next there.\n\n458\n00:21:42.520 --> 00:21:44.110\nWe will click Finish.\n\n459\n00:21:44.110 --> 00:21:47.320\nGive that just a second notice\nnow under practicelabs.com.\n\n460\n00:21:47.320 --> 00:21:50.730\nI now have a folder down here for A pack.\n\n461\n00:21:50.730 --> 00:21:54.190\nJust click there, you can see we\nnow have the nameserver record,\n\n462\n00:21:54.190 --> 00:21:57.550\nthe references where it is\nhosted on the other server.\n\n463\n00:21:57.550 --> 00:22:00.410\nAnd I know it's hard to see,\nlet me just kinda click up one so\n\n464\n00:22:00.410 --> 00:22:01.660\nyou maybe able to see.\n\n465\n00:22:01.660 --> 00:22:04.650\nIf we go full screen, it may be easier for\nyou to tell for just a second.\n\n466\n00:22:04.650 --> 00:22:08.390\nBut I'm just highlighting above it, so you\ncan see there is a difference in the icon.\n\n467\n00:22:08.390 --> 00:22:10.910\nA lot of these are just standard,\nnormal folders.\n\n468\n00:22:10.910 --> 00:22:14.710\nBut if you look carefully you can see\nthat this one is a gray background.\n\n469\n00:22:14.710 --> 00:22:17.186\nIt's got I guess what would be\nmaybe just a piece of paper or\n\n470\n00:22:17.186 --> 00:22:19.011\nsomething that's sitting in the middle.\n\n471\n00:22:19.011 --> 00:22:23.133\nIt's the same icon as the _msdcs zone.\n\n472\n00:22:23.133 --> 00:22:25.907\nAnd you can see here the delegated\nzone underneath here.\n\n473\n00:22:25.907 --> 00:22:28.020\nSo you could see the icon looks the same.\n\n474\n00:22:28.020 --> 00:22:30.330\nBut that's the icon,\nit does look different.\n\n475\n00:22:30.330 --> 00:22:35.140\nAnd so once we've done this, once we've\nset this up and we've registered this,\n\n476\n00:22:35.140 --> 00:22:36.870\nand it's all set and ready to go.\n\n477\n00:22:36.870 --> 00:22:42.170\nWe then can see, right as you can see\nhere, that we have this all set up.\n\n478\n00:22:42.170 --> 00:22:44.410\nThat's all we need to do for\nour delegation, but\n\n479\n00:22:44.410 --> 00:22:48.540\nwhat this allows us to do it to reference,\nfor anybody who comes here and\n\n480\n00:22:48.540 --> 00:22:51.830\nsays, practicelabs.com,\nI need to find information about that.\n\n481\n00:22:51.830 --> 00:22:55.240\nI want to find specifically\napac.practicelabs.com or\n\n482\n00:22:55.240 --> 00:22:58.720\nwhatever the zone is that we've\ncreated the delegation for.\n\n483\n00:22:58.720 --> 00:23:03.150\nI now can actually give out a NS\nrecord reference right here and\n\n484\n00:23:03.150 --> 00:23:08.010\nI can say you, no, right,\npLAB DC 01 practicelabs.com, right?\n\n485\n00:23:08.010 --> 00:23:09.540\nI, I'm sorry, whoops.\n\n486\n00:23:09.540 --> 00:23:10.240\nWrong one.\n\n487\n00:23:10.240 --> 00:23:11.600\nClick on the right one here.\n\n488\n00:23:11.600 --> 00:23:15.540\nThat pLAB DM 01 is actually where you\nwant to go to find that information.\n\n489\n00:23:15.540 --> 00:23:18.400\nSo this is essentially just,\nit's not forwarding, I want to be\n\n490\n00:23:18.400 --> 00:23:21.680\ncareful what I say because we're not\nforwarding in the traditional sense.\n\n491\n00:23:21.680 --> 00:23:25.430\nWe're creating a delegation that gives us\nthe ability to give out information and\n\n492\n00:23:25.430 --> 00:23:28.370\nsay, yeah, I actually can help you\nto understand where that is and\n\n493\n00:23:28.370 --> 00:23:29.810\nresolve that for you, right?\n\n494\n00:23:29.810 --> 00:23:33.690\nSo that's gonna give us the ability\nto provide additional information for\n\n495\n00:23:33.690 --> 00:23:35.830\nusers that need to resolve this.\n\n496\n00:23:35.830 --> 00:23:37.280\nAnd so that way when they go and say, hey,\n\n497\n00:23:37.280 --> 00:23:41.620\nI need to find out apack.practicelabs.com,\nwhat they really ultimately winding up\n\n498\n00:23:41.620 --> 00:23:46.620\ndoing is they're coming over to this\nmachine as you can see and seeing this.\n\n499\n00:23:46.620 --> 00:23:51.140\nWe're able to direct them to that machine\nwhen they resolve or they query us,\n\n500\n00:23:51.140 --> 00:23:54.240\nbecause we now have the name server\nrecord that tell us where it is.\n\n501\n00:23:54.240 --> 00:23:55.360\nSo we're actually able to find it.\n\n502\n00:23:55.360 --> 00:23:56.730\nThat's what a delegation will do for us.\n\n503\n00:23:56.730 --> 00:23:59.230\n&gt;&gt; So they're essentially\njust reading that record.\n\n504\n00:23:59.230 --> 00:24:00.300\n&gt;&gt; Well, we're providing it.\n\n505\n00:24:00.300 --> 00:24:03.860\nRemember, the DNS server providing\nanswers to queries when you come in and\n\n506\n00:24:03.860 --> 00:24:04.380\nask questions.\n\n507\n00:24:04.380 --> 00:24:06.740\nSo we're able to provide it to them and\nsay, by the way,\n\n508\n00:24:06.740 --> 00:24:09.830\nwe really need to go here or\nwe're able to get that information.\n\n509\n00:24:09.830 --> 00:24:11.960\nEither we go get it or\nthe system is told to go get it,\n\n510\n00:24:11.960 --> 00:24:15.530\nit's a question as to what kind of queries\nwe're asking, what can it do, but yeah.\n\n511\n00:24:15.530 --> 00:24:17.409\nEssentially, indirectly they're\nbeing made aware of it.\n\n512\n00:24:19.900 --> 00:24:20.400\nOkay.\n&gt;&gt; That one.\n\n513\n00:24:20.400 --> 00:24:21.480\n&gt;&gt; All right, sounds good.\n\n514\n00:24:21.480 --> 00:24:23.040\n&gt;&gt; Did you have that question?\n\n515\n00:24:23.040 --> 00:24:25.040\n&gt;&gt; What?\n&gt;&gt; Did we come up on that question?\n\n516\n00:24:25.040 --> 00:24:28.840\nIt's almost like playing Mine Sweeper\nwhere, you know I'm clicking on the box.\n\n517\n00:24:28.840 --> 00:24:30.580\n&gt;&gt; Yeah, yeah. [LAUGH] &gt;&gt; Trying\nto see if there's a mine there.\n\n518\n00:24:30.580 --> 00:24:32.320\nI'm waiting for\nthe flag to come up that says wait,\n\n519\n00:24:32.320 --> 00:24:34.590\nthere's a question right off\nto the left or the right.\n\n520\n00:24:34.590 --> 00:24:35.505\nWithin one square.\n\n521\n00:24:35.505 --> 00:24:36.720\n&gt;&gt; [LAUGH]\n&gt;&gt; So do we have a question?\n\n522\n00:24:36.720 --> 00:24:39.260\n&gt;&gt; I don't know, I kind of ask these\nquestions because it seems like someone\n\n523\n00:24:39.260 --> 00:24:41.410\nelse might have these other questions and\nit might help them.\n\n524\n00:24:41.410 --> 00:24:42.360\n&gt;&gt; Of course, absolutely.\n\n525\n00:24:42.360 --> 00:24:43.912\n&gt;&gt; It would.\n\n526\n00:24:43.912 --> 00:24:47.530\n&gt;&gt; No, the only other question was look\nwe've been talking about DNS for awhile,\n\n527\n00:24:47.530 --> 00:24:51.090\nis there anything else we need to know\nabout DNS for this particular exam?\n\n528\n00:24:51.090 --> 00:24:53.155\n&gt;&gt; There's always additional stuff for\nDNS.\n\n529\n00:24:53.155 --> 00:24:54.080\n&gt;&gt; [LAUGH]\n&gt;&gt; We\n\n530\n00:24:54.080 --> 00:24:56.480\ndo have some interesting topics\nstill to come believe it or not.\n\n531\n00:24:56.480 --> 00:24:58.750\nThey are gonna be in another episode,\nwe don't have time for\n\n532\n00:24:58.750 --> 00:25:01.780\nthem here but DNS policy,\nvery important to think about those.\n\n533\n00:25:01.780 --> 00:25:04.750\nGonna do a little hands on demo for\nyou For DNS policies,\n\n534\n00:25:04.750 --> 00:25:07.270\nhe'll probably want to say\na few words about that.\n\n535\n00:25:07.270 --> 00:25:08.275\n&gt;&gt; Okay.\n&gt;&gt; And there may be\n\n536\n00:25:08.275 --> 00:25:11.871\nsome other small things there as well,\nthat I'm sure we can think of reporting.\n\n537\n00:25:11.871 --> 00:25:13.900\n&gt;&gt; LIke extra prizes?\n\n538\n00:25:13.900 --> 00:25:14.724\nLike having two prizes\nin the Cracker Jack box?\n\n539\n00:25:14.724 --> 00:25:18.482\n&gt;&gt; Yeah! Absolutely. I think that\nwould be totally an apropos way\n\n540\n00:25:18.482 --> 00:25:20.623\nof thinking about that.\n\n541\n00:25:20.623 --> 00:25:21.695\nSo take a Cracker Jack analogy,\nthat'll be good.\n\n542\n00:25:21.695 --> 00:25:22.871\n&gt;&gt; All right, well,\nthat sounds like a good deal.\n\n543\n00:25:22.871 --> 00:25:24.158\n&gt;&gt; Yeah, absolutely.\n\n544\n00:25:24.158 --> 00:25:27.524\n&gt;&gt; So ladies and gentlemen stay tuned,\nbecause we have some cracker jacks headed\n\n545\n00:25:27.524 --> 00:25:30.340\nyour way, but for this show we're\ngonna go ahead and sign out.\n\n546\n00:25:30.340 --> 00:25:33.130\nRemember, I'm your host Cherokee Boose.\n\n547\n00:25:33.130 --> 00:25:34.440\n&gt;&gt; I am Adam Gordon.\n\n548\n00:25:34.440 --> 00:25:37.374\n&gt;&gt; See you next time here at ITPRO.TV.\n\n549\n00:25:37.374 --> 00:25:43.532\n[MUSIC]\n\n550\n00:25:43.532 --> 00:25:46.124\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "217178752"
        },
        {
          "description": "In this show, Cherokee and Adam focus on DNS policies. DNS Policies are used to manipulate how a DNS server handles queries based on different factors. Adam demonstrates how to restrict access based on geolocation features via DNS policies via PowerShell.",
          "length": "1380",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-5-implementing_dns_pt5-051017-PGM.00_22_44_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-5-implementing_dns_pt5-051017-PGM.00_22_44_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-1-5-implementing_dns_pt5-051017-PGM.00_22_44_10.Still001-sm.jpg",
          "title": "Implementing DNS Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:01.211\nWelcome to ITProTV.\n\n2\n00:00:01.211 --> 00:00:02.523\nI'm your host, Don Pezet.\n\n3\n00:00:02.523 --> 00:00:05.977\n[CROSSTALK]\n\n4\n00:00:05.977 --> 00:00:08.343\n[MUSIC]\n\n5\n00:00:08.343 --> 00:00:11.979\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.979 --> 00:00:15.536\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 Series.\n\n7\n00:00:15.536 --> 00:00:17.880\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.880 --> 00:00:19.290\nWe've been digging in DNS for\n\n9\n00:00:19.290 --> 00:00:22.800\na while, and we're gonna continue to do so\nwithin this episode.\n\n10\n00:00:22.800 --> 00:00:25.900\nSpecifically we'll be taking\na look at DNS policies.\n\n11\n00:00:25.900 --> 00:00:29.060\nAnd back in studios with us\ntoday we have Mr. Adam Gordon.\n\n12\n00:00:29.060 --> 00:00:30.750\nThank you for joining us today, Adam.\n\n13\n00:00:30.750 --> 00:00:31.420\n&gt;&gt; Hello, everybody.\n\n14\n00:00:31.420 --> 00:00:32.850\nHope you're all doing well.\n\n15\n00:00:32.850 --> 00:00:35.540\nWe're going to jump right in and\ntalk about DNS policies.\n\n16\n00:00:35.540 --> 00:00:38.438\nThis is a new feature in server 2016 for\nDNS.\n\n17\n00:00:38.438 --> 00:00:40.648\nIt's actually a really cool one,\nby the way.\n\n18\n00:00:40.648 --> 00:00:44.582\nSo what if I was to tell you that we\ncould show you, all of you and of course,\n\n19\n00:00:44.582 --> 00:00:46.605\nby extension, you.\n\n20\n00:00:46.605 --> 00:00:49.720\nShow everybody, a way in which\nwe could use DNS to be able to,\n\n21\n00:00:49.720 --> 00:00:53.670\nand DNS policies kind\nof speak to the idea.\n\n22\n00:00:53.670 --> 00:00:55.470\nProbably in your mind,\nyou are already thinking well,\n\n23\n00:00:55.470 --> 00:00:59.470\nsome sort of management capability,\nmaybe we can apply some sort of standard,\n\n24\n00:00:59.470 --> 00:01:02.200\nmaybe of conditions,\ndo something associated with that.\n\n25\n00:01:02.200 --> 00:01:03.120\nDefinitely all of that, but\n\n26\n00:01:03.120 --> 00:01:06.640\nbasically the idea is things like\ngeolocation based traffic management,\n\n27\n00:01:06.640 --> 00:01:10.005\nintelligent DNS responses based\non conditions like time of day.\n\n28\n00:01:10.005 --> 00:01:13.470\nAnd/or making sure, we talked\nabout that split brain concept for\n\n29\n00:01:13.470 --> 00:01:17.320\nDNS in the prior episode, making sure\nwe're able to go ahead and manage\n\n30\n00:01:17.320 --> 00:01:21.350\nthe configuration of that so we know which\nsystem we're responding to and from.\n\n31\n00:01:21.350 --> 00:01:24.030\nIf we're internal,\nwe get DNS from the internal servers.\n\n32\n00:01:24.030 --> 00:01:27.260\nExternal, we get them from the external,\nfilter DNS queries,\n\n33\n00:01:27.260 --> 00:01:29.440\nall sorts of stuff that we can do.\n\n34\n00:01:29.440 --> 00:01:31.662\nSo let's take a look real quick\nat the overview on DNS policies.\n\n35\n00:01:31.662 --> 00:01:34.900\nI'm gonna set this up and show you how\nto walk through the logic of using\n\n36\n00:01:34.900 --> 00:01:37.380\nPowerShell to configure this\ncuz that's how we do this.\n\n37\n00:01:37.380 --> 00:01:40.290\nAnd then of course, from there, we just\nput it to the test and see whether or\n\n38\n00:01:40.290 --> 00:01:42.165\nnot the conditions actually are working.\n\n39\n00:01:42.165 --> 00:01:45.990\nBut we got a nice little brief\noverview here for you on DNS policies.\n\n40\n00:01:45.990 --> 00:01:51.140\nSo I mentioned application load balancing,\nbeing able to ensure, as you can see here,\n\n41\n00:01:51.140 --> 00:01:54.320\nthat we have multiple instances of\napplications, different locations.\n\n42\n00:01:54.320 --> 00:01:57.950\nDNS policies can balance traffic so\nthat we understand how to\n\n43\n00:01:57.950 --> 00:02:00.720\nbe able to dynamically allocate\ntraffic load for the application.\n\n44\n00:02:00.720 --> 00:02:02.880\nWe could use DNS to be able to do that.\n\n45\n00:02:02.880 --> 00:02:06.910\nGeolocation based traffic management,\nprimary and secondary DNS Service respond\n\n46\n00:02:06.910 --> 00:02:10.540\nto queries based on geographic\nlocation of the resource.\n\n47\n00:02:10.540 --> 00:02:11.240\nSo we could say, hey,\n\n48\n00:02:11.240 --> 00:02:15.410\nif you're in the Latin American region, we\nshould be giving you DNS from this area.\n\n49\n00:02:15.410 --> 00:02:19.440\nIf you're in the Europe or Asian region,\nwe should be giving it to you from here.\n\n50\n00:02:19.440 --> 00:02:21.600\nAnd policies can do that\nbased on where we are and\n\n51\n00:02:21.600 --> 00:02:23.370\nspecify what server should respond.\n\n52\n00:02:23.370 --> 00:02:25.660\nAgain, owning the global infrastructure,\n\n53\n00:02:25.660 --> 00:02:29.260\nbeing within that thought process\nacross the entire organization.\n\n54\n00:02:29.260 --> 00:02:30.360\nWe could use something like that.\n\n55\n00:02:30.360 --> 00:02:33.700\nWe talked about split DNS,\nand the Split Brain concept.\n\n56\n00:02:33.700 --> 00:02:36.020\nTalked about filtering, I love this one.\n\n57\n00:02:36.020 --> 00:02:38.340\nAnd I love the way they\ndescribed it as well.\n\n58\n00:02:38.340 --> 00:02:38.910\nBut I love this.\n\n59\n00:02:38.910 --> 00:02:40.300\nI just think this is so cool.\n\n60\n00:02:40.300 --> 00:02:42.085\nSo anyway, here, forensics, right,\n\n61\n00:02:42.085 --> 00:02:45.443\nyou can use DNS policy to redirect\nmalicious DNS clients to non-existent IP\n\n62\n00:02:45.443 --> 00:02:49.131\naddress instead of directing them to the\ncomputers that they're trying to reach.\n\n63\n00:02:49.131 --> 00:02:52.765\nIn other words, you could essentially you\ncan take somebody inbound that's trying to\n\n64\n00:02:52.765 --> 00:02:56.299\nfind a legitimate server or a legitimate\nresource knowing that they're coming in,\n\n65\n00:02:56.299 --> 00:02:59.210\nessentially from a place they're\nnot supposed to come up to no good.\n\n66\n00:02:59.210 --> 00:03:01.294\nAnd we can just send them off\ninto a black hole and say, hey,\n\n67\n00:03:01.294 --> 00:03:03.040\nyou know what you don't belong here.\n\n68\n00:03:03.040 --> 00:03:06.310\nAnd just send them over to somebody\nelse's network, let them bother them.\n\n69\n00:03:06.310 --> 00:03:08.670\n&gt;&gt; So I actually listened\nto a podcast last night.\n\n70\n00:03:08.670 --> 00:03:09.470\nI don't know if you know.\n\n71\n00:03:09.470 --> 00:03:11.557\nDon does a lot of podcasts for\nSecurity Weekly.\n\n72\n00:03:11.557 --> 00:03:12.268\n&gt;&gt; Yes, absolutely.\n\n73\n00:03:12.268 --> 00:03:15.502\n&gt;&gt; And that was one of their,\nthe entire preface was-\n\n74\n00:03:15.502 --> 00:03:16.581\n&gt;&gt; The idea of what we just talked about.\n\n75\n00:03:16.581 --> 00:03:17.800\n&gt;&gt; Deceptive technologies.\n\n76\n00:03:17.800 --> 00:03:22.562\nAnd they said that that coupled with,\nobvious traditional\n\n77\n00:03:22.562 --> 00:03:27.713\nsecurity methodologies, and\nit was a really beneficial tool.\n\n78\n00:03:27.713 --> 00:03:30.588\nA lot of large companies are really\nbenefitting from that today, so\n\n79\n00:03:30.588 --> 00:03:31.650\nit's pretty cool.\n\n80\n00:03:31.650 --> 00:03:35.053\n&gt;&gt; It is, it's part of the broader thought\nprocess about threat mitigation, right?\n\n81\n00:03:35.053 --> 00:03:38.120\nThis idea of just dealing with threats\nin near real-time or real-time.\n\n82\n00:03:38.120 --> 00:03:40.472\nAnd the idea of being able to\nuse a variety of technologies.\n\n83\n00:03:40.472 --> 00:03:41.800\nI didn't hear the podcast, so\n\n84\n00:03:41.800 --> 00:03:44.410\nI'm not sure what it's\nspecifically designed to address.\n\n85\n00:03:44.410 --> 00:03:47.850\nBut I was talking about this to one of\nmy other students last night as well.\n\n86\n00:03:47.850 --> 00:03:51.040\nWe had a long conversation\nabout the fact that\n\n87\n00:03:51.040 --> 00:03:53.330\nhe's looking to kind of get into research.\n\n88\n00:03:53.330 --> 00:03:56.400\nHe was going back to college,\nwants to get a degree in Computer and\n\n89\n00:03:56.400 --> 00:03:58.600\nIT Sciences, and things like that.\n\n90\n00:03:58.600 --> 00:04:03.000\nUltimately, wants to go into research and\ndevelop all sorts of crazy things.\n\n91\n00:04:03.000 --> 00:04:03.890\n&gt;&gt; Pretty awesome.\n\n92\n00:04:03.890 --> 00:04:04.870\n&gt;&gt; It is very awesome.\n\n93\n00:04:04.870 --> 00:04:05.600\nIt's very, very cool.\n\n94\n00:04:05.600 --> 00:04:08.732\nAnd we were talking about just different\noptions, what programs are out there,\n\n95\n00:04:08.732 --> 00:04:09.711\nwhat's good to look at.\n\n96\n00:04:09.711 --> 00:04:12.823\nAnd one of the things he's really\ninterested in is looking at\n\n97\n00:04:12.823 --> 00:04:17.035\nhow we can use artificial intelligence\nconsfigurestic systems to be able to drive\n\n98\n00:04:17.035 --> 00:04:21.001\nthreat response using realtime or\nalmost realtime aggregated data feeds for\n\n99\n00:04:21.001 --> 00:04:22.238\nthreat intelligence.\n\n100\n00:04:22.238 --> 00:04:25.838\nAnd be able to then design systems\nthat can essentially morph and-\n\n101\n00:04:25.838 --> 00:04:26.360\n&gt;&gt; Respond to that way.\n\n102\n00:04:26.360 --> 00:04:30.550\n&gt;&gt; Redefine themselves and respond in real\ntime to threats that are either perceived\n\n103\n00:04:30.550 --> 00:04:32.190\nor are coming in, in real times.\n\n104\n00:04:32.190 --> 00:04:35.220\nSo you're talking about some\nreally incredibly complicated,\n\n105\n00:04:35.220 --> 00:04:37.480\nbut very cool capabilities.\n\n106\n00:04:37.480 --> 00:04:40.200\nSo yeah, it is a pretty neat\nway of looking at the world.\n\n107\n00:04:40.200 --> 00:04:43.330\nAll right, so having said that, let's take\na look at how DNS policies actually work.\n\n108\n00:04:43.330 --> 00:04:45.335\nThis is a pretty cool technology, right?\n\n109\n00:04:45.335 --> 00:04:46.680\nSo what we're gonna do is the following.\n\n110\n00:04:46.680 --> 00:04:49.140\nWe're sitting on our DNS server here.\n\n111\n00:04:49.140 --> 00:04:50.720\nLet me just show you quickly where we are.\n\n112\n00:04:50.720 --> 00:04:51.930\nYou'll probably recognize this box.\n\n113\n00:04:51.930 --> 00:04:54.483\nThis is our domain controller,\nas you can see here.\n\n114\n00:04:54.483 --> 00:04:56.900\nAnd what we're gonna do\nis just walk through.\n\n115\n00:04:56.900 --> 00:05:01.350\nAnd we're going to use a bunch\nof PowerShell commands,\n\n116\n00:05:01.350 --> 00:05:03.230\ngot them teed up and\nstart entering them in.\n\n117\n00:05:03.230 --> 00:05:04.275\nBut I'm smart this time.\n\n118\n00:05:04.275 --> 00:05:05.713\nTyped them all out ahead of time.\n\n119\n00:05:05.713 --> 00:05:06.830\nGonna paste them all in for you,\n\n120\n00:05:06.830 --> 00:05:09.792\nso you don't have to worry about all those\nlittle typos that occur from time to time.\n\n121\n00:05:09.792 --> 00:05:11.422\nWe're gonna do that,\nwalk through about seven or\n\n122\n00:05:11.422 --> 00:05:15.360\neight different commands we have to use\nto specify various aspects of the set up.\n\n123\n00:05:15.360 --> 00:05:19.030\nOnce we've done that we have our\nzone here already, PLtest.com, so\n\n124\n00:05:19.030 --> 00:05:20.520\nyou can see we've got that set up.\n\n125\n00:05:20.520 --> 00:05:21.730\nSo we're going to be able to use that.\n\n126\n00:05:21.730 --> 00:05:25.810\nAnd then we'll switch over to our Windows\n10 client, and do a little IP config and\n\n127\n00:05:25.810 --> 00:05:29.659\ndo a little flush DNS and pull down some\ninformation, attempt connections and\n\n128\n00:05:29.659 --> 00:05:31.724\nsee whether we violate the policy or not.\n\n129\n00:05:31.724 --> 00:05:34.940\nAnd you'll just verify what's happening\nbased on whether the policy should or\n\n130\n00:05:34.940 --> 00:05:36.720\nshould not allow us to\nbe able to see things.\n\n131\n00:05:36.720 --> 00:05:38.611\nSo we're gonna take a look\nat that in just a moment.\n\n132\n00:05:38.611 --> 00:05:40.790\nAll right, so first command is here.\n\n133\n00:05:40.790 --> 00:05:42.720\nAdd dns server client subnet.\n\n134\n00:05:42.720 --> 00:05:46.380\nSo we're going to add a client subnet\nhere called DMEA, IPv4 subnet.\n\n135\n00:05:46.380 --> 00:05:48.010\nYou'll see what that's set up to do.\n\n136\n00:05:48.010 --> 00:05:49.280\nLet me just hit Enter there.\n\n137\n00:05:49.280 --> 00:05:50.950\nWe'll put that one in real quick.\n\n138\n00:05:50.950 --> 00:05:54.068\nAs I said, I've got a series of\nthese commands already set up here.\n\n139\n00:05:54.068 --> 00:05:57.710\nI'm just gonna walk through one at a time\nand go ahead and paste them in and\n\n140\n00:05:57.710 --> 00:06:00.970\nthat way, we have them all set and\nready to go.\n\n141\n00:06:00.970 --> 00:06:03.930\nI don't have to worry about any typos or\nanything like that.\n\n142\n00:06:03.930 --> 00:06:05.410\nSo I'm gonna just add that one in there.\n\n143\n00:06:05.410 --> 00:06:06.475\nYou can see that I've got that one there.\n\n144\n00:06:06.475 --> 00:06:10.386\nI will just go ahead and we'll click\nhere real quick cuz when I paste,\n\n145\n00:06:10.386 --> 00:06:14.230\nI have to click in order to activate and\njust replace that last one and\n\n146\n00:06:14.230 --> 00:06:15.320\nthat way it works.\n\n147\n00:06:15.320 --> 00:06:19.070\nSo I've just added two client subnets,\none called DMEA, one called APAC.\n\n148\n00:06:19.070 --> 00:06:23.520\nRemember, I said we could use one of the\nthings we could use is through geologic or\n\n149\n00:06:23.520 --> 00:06:25.690\ngeolocation for management, right?\n\n150\n00:06:25.690 --> 00:06:28.690\nSo we can create these subnets in theory,\nspecify a label for them,\n\n151\n00:06:28.690 --> 00:06:31.862\npretend they're in different parts\nof the world, that kind of thing.\n\n152\n00:06:31.862 --> 00:06:34.878\nAll right, so now we'll go ahead and\nwe'll create our server zone scope.\n\n153\n00:06:34.878 --> 00:06:36.152\nWe're gonna have the zone there.\n\n154\n00:06:36.152 --> 00:06:38.940\nAs you could see, we've already got it,\ncalled pltest.com.\n\n155\n00:06:38.940 --> 00:06:43.530\nI'm gonna add to it and I'm gonna add\nan DMEA zone scope and an APAC zone scope.\n\n156\n00:06:44.720 --> 00:06:45.840\nSo I'm gonna go ahead and do this.\n\n157\n00:06:45.840 --> 00:06:50.468\nLet me just grab this real quick and\njust copy.\n\n158\n00:06:50.468 --> 00:06:53.710\nAnd we'll go ahead,\nwe'll put this one in over here.\n\n159\n00:06:53.710 --> 00:06:57.920\nAnd I did show you that the pltest.com\nzone is already set up on the server.\n\n160\n00:06:57.920 --> 00:07:00.580\nThe only thing I did ahead of time\nwas just put that in already, so\n\n161\n00:07:00.580 --> 00:07:02.920\nI didn't have to bother to go ahead and\ncreate that.\n\n162\n00:07:02.920 --> 00:07:04.612\nSo that's there.\n\n163\n00:07:04.612 --> 00:07:07.685\nAll right, so let's just put that in,\nand we've got that.\n\n164\n00:07:07.685 --> 00:07:11.198\nWe'll just go ahead and\nwe'll add our other one in here as well.\n\n165\n00:07:11.198 --> 00:07:17.811\nSo we're gonna add in our one for\nAPAC, so let's just go ahead and\n\n166\n00:07:17.811 --> 00:07:22.753\ndo that real quick, and,\nput that one in there.\n\n167\n00:07:25.014 --> 00:07:27.570\nClick there, there, and do that.\n\n168\n00:07:27.570 --> 00:07:31.320\nAdd our APACZoneScope, and remember,\nwhile we have that open real quick,\n\n169\n00:07:31.320 --> 00:07:32.270\nwe can come over here.\n\n170\n00:07:32.270 --> 00:07:38.114\nAnd remember, sometimes, right, we do need\nto refresh just to see what's going on,\n\n171\n00:07:38.114 --> 00:07:41.411\nright, make sure that\neverything is up to date.\n\n172\n00:07:41.411 --> 00:07:43.802\nSo we're not normally\ngonna have this open and\n\n173\n00:07:43.802 --> 00:07:47.799\nwork with this whole thing while we're\nin here going through it in real time.\n\n174\n00:07:47.799 --> 00:07:52.230\nI'm just refreshing just to make\nsure that a server is available.\n\n175\n00:07:52.230 --> 00:07:55.235\nSo everything is good there.\nAll right, so let's go ahead,\n\n176\n00:07:55.235 --> 00:07:57.205\nlet us grab our next one.\n\n177\n00:07:57.205 --> 00:08:00.587\nLet's add our DNS server\nresource record to the zone.\n\n178\n00:08:00.587 --> 00:08:04.362\nGonna add one,\nas you can see there, right?\n\n179\n00:08:04.362 --> 00:08:07.069\nWith a zone scope for EMEA.\n\n180\n00:08:07.069 --> 00:08:11.780\nSo we've already got a host\nrecord called www world wide web,\n\n181\n00:08:11.780 --> 00:08:14.142\nin other words, in that zone.\n\n182\n00:08:14.142 --> 00:08:15.919\nJust show you that real\nquick before I add.\n\n183\n00:08:15.919 --> 00:08:18.384\nI've already got one there,\nas you can see, right?\n\n184\n00:08:18.384 --> 00:08:22.312\nSo I'm gonna add in, whoops!\n\n185\n00:08:22.312 --> 00:08:24.005\nAdd in another one.\n\n186\n00:08:24.005 --> 00:08:26.949\nAlright, so I've got that one there,\nso let's go ahead.\n\n187\n00:08:26.949 --> 00:08:31.850\nLet's go back in to PowerShell, or\nlet's copy and then go to PowerShell, and\n\n188\n00:08:31.850 --> 00:08:33.348\nlet's add that one in.\n\n189\n00:08:33.348 --> 00:08:38.346\nSo I'm going to go grab that here,\nput that there,\n\n190\n00:08:38.346 --> 00:08:41.497\nclick here, do that, do that.\n\n191\n00:08:41.497 --> 00:08:42.863\nDo that, all right.\n\n192\n00:08:42.863 --> 00:08:46.564\nAnd so now in the pltest.com zone, right?\n\n193\n00:08:46.564 --> 00:08:50.655\nWe've added in another host, record IPv\naddress are added to the host record, but\n\n194\n00:08:50.655 --> 00:08:54.234\nwe've said we wanna put that and\nscope it for the zone, the media scope.\n\n195\n00:08:54.234 --> 00:08:57.400\nOur media zone scope, one or APAC,\nwe'll do the same thing essentially.\n\n196\n00:08:57.400 --> 00:08:58.560\nJust modify that for APAC.\n\n197\n00:08:58.560 --> 00:09:02.755\nSo we're just adding in, stepping\nthrough one at a time and just going in.\n\n198\n00:09:02.755 --> 00:09:08.083\nYou'll see that the APEC zone is gonna\nbe 1.1 as opposed to 0.1, right?\n\n199\n00:09:08.083 --> 00:09:09.978\nSo we're gonna add that one in as well.\n\n200\n00:09:09.978 --> 00:09:14.954\nBecause remember that our two subnets\nup there, one was 1.1, one was 1.0, so\n\n201\n00:09:14.954 --> 00:09:16.647\nwe're just adding as we go.\n\n202\n00:09:16.647 --> 00:09:21.923\nSo let's just copy there and\njust paste here.\n\n203\n00:09:21.923 --> 00:09:28.509\nDo that, let's go there,\ndo that and do that, do that.\n\n204\n00:09:28.509 --> 00:09:32.532\nSo now we're gonna get in and\nactually set the query resolution policy.\n\n205\n00:09:32.532 --> 00:09:35.288\nAll that stuff we did up until now\nwas just setting up the zones,\n\n206\n00:09:35.288 --> 00:09:38.408\nsetting up the subnets, the client subnet,\nall that stuff, all the,\n\n207\n00:09:38.408 --> 00:09:40.553\njust the backend architecture,\nall the logic.\n\n208\n00:09:40.553 --> 00:09:42.369\nAnd the structure we would need.\n\n209\n00:09:42.369 --> 00:09:46.269\nNow these last two commands,\nadd DNS server query resolution policy,\n\n210\n00:09:46.269 --> 00:09:48.416\nprobably tell what that does, right?\n\n211\n00:09:48.416 --> 00:09:50.473\nWe're gonna give it a name,\nEMEA and or APAC.\n\n212\n00:09:50.473 --> 00:09:54.906\nAction will be set to Allow, what are we\nallowing client subnet called whatever\n\n213\n00:09:54.906 --> 00:09:56.968\nequal to, in this case EMEA or APAC.\n\n214\n00:09:56.968 --> 00:10:01.283\nAnd then the zone scope for\nwhatever we specify, zone name pltest.com.\n\n215\n00:10:01.283 --> 00:10:05.289\nWe're gonna allow this information\nto be seen and or used.\n\n216\n00:10:05.289 --> 00:10:09.416\nAnd so we're setting a query resolution\npolicy, specifically to control what kind\n\n217\n00:10:09.416 --> 00:10:12.553\nof information will come back based\non factors that we provide or\n\n218\n00:10:12.553 --> 00:10:16.058\ninformation we provide from the client\nwhen we're trying to use that.\n\n219\n00:10:16.058 --> 00:10:19.034\nSo we're gonna choose Copy here.\n\n220\n00:10:19.034 --> 00:10:20.832\nLet's go over here.\n\n221\n00:10:20.832 --> 00:10:22.595\nPaste that in.\n\n222\n00:10:22.595 --> 00:10:24.306\nDo that, let's do that.\n\n223\n00:10:24.306 --> 00:10:26.092\nDo that, let's do that.\n\n224\n00:10:26.092 --> 00:10:29.199\nWe've got our first one in there,\nI'm just gonna do the last one right now.\n\n225\n00:10:29.199 --> 00:10:32.593\nSo add the other one in for\nthe APAC Policy.\n\n226\n00:10:32.593 --> 00:10:34.540\nWe just did the EMEA Policy.\n\n227\n00:10:34.540 --> 00:10:37.286\nJust do the APAC Policy.\n\n228\n00:10:37.286 --> 00:10:40.802\nAnd let's grab that one.\n\n229\n00:10:40.802 --> 00:10:42.880\nGrab one that there.\n\n230\n00:10:42.880 --> 00:10:46.074\nLet's go over here,\nlet's just do that and do that.\n\n231\n00:10:46.074 --> 00:10:47.373\nDo that, give out a second.\n\n232\n00:10:47.373 --> 00:10:49.974\nAll right, so\nwhat we've done essentially there, right?\n\n233\n00:10:49.974 --> 00:10:52.465\nIs gone through about eight\nsteps approximately, right?\n\n234\n00:10:52.465 --> 00:10:53.677\nAdd everything in, and\n\n235\n00:10:53.677 --> 00:10:57.442\nnow what we're gonna do is I'm gonna\nswitch over to the Windows 10 box.\n\n236\n00:10:57.442 --> 00:11:00.855\nAnd based on the subnet I'm coming from,\nwe're gonna see whether this policy does\n\n237\n00:11:00.855 --> 00:11:03.095\nor does not work and\nthen we can modify it a little bit and\n\n238\n00:11:03.095 --> 00:11:05.453\nplay around with it to see what\nthe effect of that will be.\n\n239\n00:11:05.453 --> 00:11:08.309\nRemember we've essentially\ndeclared two subnets, so\n\n240\n00:11:08.309 --> 00:11:13.669\nthe idea is whether we're connecting from\n192.68.0 or 192.168.1 network, right?\n\n241\n00:11:13.669 --> 00:11:17.332\nSlash 24, three octets of the four being\nused for the network, so we have two\n\n242\n00:11:17.332 --> 00:11:21.293\ndistinctly different networks or subnets,\nwe're gonna be able to play with here.\n\n243\n00:11:21.293 --> 00:11:24.211\nSo we're gonna just see if from a Windows\n10 perspective what happens when we're\n\n244\n00:11:24.211 --> 00:11:24.718\nconnecting.\n\n245\n00:11:24.718 --> 00:11:29.109\nSo let's switch over to the Windows 10\nbox, got that already set up right here.\n\n246\n00:11:29.109 --> 00:11:31.515\nMade sure I have my hostname there so\nI don't get confused and\n\n247\n00:11:31.515 --> 00:11:34.878\nknow which machine we're connecting to,\ncuz mama didn't raise no fools, right?\n\n248\n00:11:34.878 --> 00:11:36.100\nYou do that once in a demo.\n\n249\n00:11:36.100 --> 00:11:37.745\n&gt;&gt; [LAUGH]\n&gt;&gt; You learn the hard way,\n\n250\n00:11:37.745 --> 00:11:38.644\nyou don't do it again.\n\n251\n00:11:38.644 --> 00:11:40.254\nAll right, so\nwhat we're gonna do is just go in here and\n\n252\n00:11:40.254 --> 00:11:41.549\nlet me just move\nthe command line over here.\n\n253\n00:11:41.549 --> 00:11:43.659\nJust a little bit, that way you\ncould see this a little bit easier.\n\n254\n00:11:43.659 --> 00:11:47.284\nAll right, so\nlet's do our ipconfig in here real quick.\n\n255\n00:11:47.284 --> 00:11:52.966\nAnd we'll do a flush DNS just to clear\nout whatever may be in there right now.\n\n256\n00:11:52.966 --> 00:11:54.446\nSo let's just do that.\n\n257\n00:11:54.446 --> 00:11:55.086\nYou know what?\n\n258\n00:11:55.086 --> 00:11:56.051\nI'm not in as an administrator.\n\n259\n00:11:56.051 --> 00:11:57.091\nHold on one second.\n\n260\n00:11:57.091 --> 00:12:02.791\nI forgot to load that as an administrator,\nso let me go in and\n\n261\n00:12:02.791 --> 00:12:07.354\njust run the command\nline as an administrator.\n\n262\n00:12:07.354 --> 00:12:09.928\nForgot to set that up.\n\n263\n00:12:09.928 --> 00:12:13.518\nLet's go in there and, where am I?\n\n264\n00:12:13.518 --> 00:12:14.795\nHere.\n\n265\n00:12:14.795 --> 00:12:16.120\nAdministrative.\n\n266\n00:12:16.120 --> 00:12:19.224\nNo, administrative tools, it should under,\nup under Accessories, right?\n\n267\n00:12:19.224 --> 00:12:24.258\nCommand.\n\n268\n00:12:24.258 --> 00:12:26.070\nDid I mention how much I love Windows 10?\n\n269\n00:12:26.070 --> 00:12:29.380\n&gt;&gt; Just, yeah, If you do it run line.\n\n270\n00:12:29.380 --> 00:12:30.983\n&gt;&gt; Windows system.\n\n271\n00:12:30.983 --> 00:12:32.071\nNo, it's just Windows system.\n\n272\n00:12:32.071 --> 00:12:33.536\nI just moved it, I forgot where it was.\n\n273\n00:12:33.536 --> 00:12:39.309\nLet me just scroll down here, and\nthere we go, run as Administrator.\n\n274\n00:12:39.309 --> 00:12:40.617\nI just wanna get it and\nrun it as Administrator,\n\n275\n00:12:40.617 --> 00:12:41.445\nit's what I was looking for.\n\n276\n00:12:41.445 --> 00:12:42.572\nThere we go right there, all right.\n\n277\n00:12:42.572 --> 00:12:45.010\nSo let me just open that\nup as an administrator, so\n\n278\n00:12:45.010 --> 00:12:46.703\nI have rights to be able to do that.\n\n279\n00:12:46.703 --> 00:12:49.126\nI'm just gonna make it a little bigger so\nyou guys can see what I'm doing.\n\n280\n00:12:49.126 --> 00:12:52.490\nSo I'm just gonna make that 18 point,\nso you can see that.\n\n281\n00:12:52.490 --> 00:12:54.568\nLet's just make that large, right there.\n\n282\n00:12:54.568 --> 00:12:57.750\nAnd let's just make that\nscreen text yellow.\n\n283\n00:12:57.750 --> 00:12:59.768\nThat way you guys can see\nthat a little bit easier.\n\n284\n00:12:59.768 --> 00:13:02.793\nIt's probably to keep track of what\nwe're doing when we do it that way.\n\n285\n00:13:02.793 --> 00:13:05.164\nAll right, so now we can go ahead.\n\n286\n00:13:05.164 --> 00:13:12.129\nLet's do our ipconfig and\nlet's do our flushdns.\n\n287\n00:13:12.129 --> 00:13:13.610\nAll right, so we're able to do that.\n\n288\n00:13:13.610 --> 00:13:16.413\nNow let me do an nslook up.\n\n289\n00:13:16.413 --> 00:13:19.617\nRemember we talked about using NS lookup.\n\n290\n00:13:19.617 --> 00:13:24.249\nAnd NS lookup is just that command line\ntool that lets us do a variety of things.\n\n291\n00:13:24.249 --> 00:13:27.865\nWe can manage DNS servers with it,\nwe can also it for basic name resolution,\n\n292\n00:13:27.865 --> 00:13:29.854\nwe could do a lookup like I'm about to do.\n\n293\n00:13:29.854 --> 00:13:33.920\nSo if I do www.pltest.com, right?\n\n294\n00:13:36.278 --> 00:13:37.457\nWait for that to come back.\n\n295\n00:13:37.457 --> 00:13:41.431\nYou'll see it comes back and\ntells me right there,\n\n296\n00:13:41.431 --> 00:13:46.431\nthat our server for\naddress 192.168.0.1, right?\n\n297\n00:13:46.431 --> 00:13:47.942\nIs giving me that information.\n\n298\n00:13:47.942 --> 00:13:51.032\nThat's our DNS server that's coming back,\nserving that up to us, and\n\n299\n00:13:51.032 --> 00:13:55.071\nthat's actually coming, Right out\n\n300\n00:13:55.071 --> 00:14:00.544\nof, Right?\n\n301\n00:14:00.544 --> 00:14:03.839\nRight here, because remember\npltest 192.168.0.1, right?\n\n302\n00:14:03.839 --> 00:14:05.261\nThat's coming from right here,\n\n303\n00:14:05.261 --> 00:14:08.574\nfrom our domain controller that's\nserving up our DNS Information, right?\n\n304\n00:14:08.574 --> 00:14:11.996\nSo that's where we're actually seeing that\nresponse coming from when we do that.\n\n305\n00:14:11.996 --> 00:14:13.555\nSo we've got that working, right?\n\n306\n00:14:13.555 --> 00:14:14.599\nThat's all good.\n\n307\n00:14:14.599 --> 00:14:19.172\nAnd you'll see that we return that,\nthat's discovering our information for us.\n\n308\n00:14:19.172 --> 00:14:21.440\nSo let's go ahead and\nlet's do the following.\n\n309\n00:14:21.440 --> 00:14:27.510\nLet me open up from PowerShell here,\ngive me just one second.\n\n310\n00:14:27.510 --> 00:14:32.020\nAnd let me go in, and\nlet me load PowerShell,\n\n311\n00:14:32.020 --> 00:14:35.362\ncuz I wanna add a command in here.\n\n312\n00:14:35.362 --> 00:14:39.428\nSo let me run PowerShell\nas an administrator.\n\n313\n00:14:39.428 --> 00:14:43.480\nOpen that up, and just make that\na little bit bigger for you also,\n\n314\n00:14:43.480 --> 00:14:45.994\nyou guys can see that, Lucida Console.\n\n315\n00:14:45.994 --> 00:14:47.816\nThat would be great there,\nwe go right there.\n\n316\n00:14:47.816 --> 00:14:51.402\nAll right, so I am gonna add another DNS.\n\n317\n00:14:54.534 --> 00:14:55.900\nThis one, I am gonna type it.\n\n318\n00:14:55.900 --> 00:15:01.538\nI am not gonna actually have a preloaded\nDNS server query resolution policy.\n\n319\n00:15:01.538 --> 00:15:02.900\nSo let's do the following.\n\n320\n00:15:02.900 --> 00:15:07.243\nJust give me half\na second here to do this.\n\n321\n00:15:11.781 --> 00:15:13.578\nAll right and actually I'm gonna do this,\nhold on one second.\n\n322\n00:15:13.578 --> 00:15:17.529\nI'm thinking about doing this, but\nI'm doing it on the wrong machine.\n\n323\n00:15:17.529 --> 00:15:19.045\nSwitched over, I wanna do it here.\n\n324\n00:15:19.045 --> 00:15:20.178\nThat's where I wanna be.\n\n325\n00:15:20.178 --> 00:15:26.785\nOkay, so let's add it in here,\nadd-dnsserverqueryresolution.\n\n326\n00:15:26.785 --> 00:15:34.398\nSo serverquery, whoops, resolutionpolicy.\n\n327\n00:15:34.398 --> 00:15:39.900\nJust hit the tab there,\ndo a quick autocomplete.\n\n328\n00:15:39.900 --> 00:15:46.089\nWait for that, that's why,\ncuz I do not spell resolutionpol.\n\n329\n00:15:46.089 --> 00:15:49.149\nThat should pick it up.\n\n330\n00:15:49.149 --> 00:15:50.982\n&gt;&gt; DNS-\n&gt;&gt; Query.\n\n331\n00:15:50.982 --> 00:15:51.998\n&gt;&gt; Server query.\n\n332\n00:15:51.998 --> 00:15:52.999\n&gt;&gt; Query.\n\n333\n00:15:52.999 --> 00:15:54.577\nNope, I spelled that incorrectly, too.\n\n334\n00:15:54.577 --> 00:15:55.614\nThis is why I don't type.\n\n335\n00:15:55.614 --> 00:15:57.176\n&gt;&gt; It's okay. You know- &gt;&gt; Right.\n[LAUGH] &gt;&gt; We've been going at it for\n\n336\n00:15:57.176 --> 00:16:00.114\na while here and, someone even\nhad mentioned in chat just that\n\n337\n00:16:00.114 --> 00:16:02.164\nsimple right-click there on that Start.\n\n338\n00:16:02.164 --> 00:16:04.486\nThe window icon-\n&gt;&gt; There we go.\n\n339\n00:16:04.486 --> 00:16:05.055\nYes, all right.\n\n340\n00:16:05.055 --> 00:16:05.859\n&gt;&gt; The command prompt.\n\n341\n00:16:05.859 --> 00:16:08.739\nAll right, so name,\nthat's why I don't type.\n\n342\n00:16:08.739 --> 00:16:09.739\nThis is why pre-load all my scripts.\n\n343\n00:16:09.739 --> 00:16:12.267\nAll right, so name, we call this block,\njust give me one second.\n\n344\n00:16:12.267 --> 00:16:13.580\n&gt;&gt; Look at it.\n\n345\n00:16:13.580 --> 00:16:16.820\n&gt;&gt; So, block list.\n\n346\n00:16:16.820 --> 00:16:23.840\nAnd let's do,\nOur action we're gonna specify ignore.\n\n347\n00:16:23.840 --> 00:16:27.484\nDo that and then we'll specify ignore.\n\n348\n00:16:27.484 --> 00:16:32.538\nAnd let's do our FQDNs so\nthat we know what we're gonna ignore.\n\n349\n00:16:32.538 --> 00:16:36.458\nAnd we're gonna ignore,\nso that's equal to,\n\n350\n00:16:36.458 --> 00:16:40.389\nwhat am I doing with\nthat equal to pltest.com.\n\n351\n00:16:40.389 --> 00:16:42.528\nAnd put that in there.\n\n352\n00:16:42.528 --> 00:16:45.373\nSo anything coming from pltest.com, right.\n\n353\n00:16:45.373 --> 00:16:47.445\nAsterisk, I didn't do the asterisk,\nI did a period.\n\n354\n00:16:47.445 --> 00:16:49.669\nHold on a second.\n\n355\n00:16:49.669 --> 00:16:51.520\nOf course without the backspace.\n\n356\n00:16:51.520 --> 00:16:52.133\nThere we go.\n\n357\n00:16:52.133 --> 00:16:56.820\n*.pltest.com because we have\nto have a wild card for that.\n\n358\n00:16:56.820 --> 00:17:01.061\nThat means anything coming from pltest.com\nand then we're gonna do pass through.\n\n359\n00:17:01.061 --> 00:17:05.583\nOkay, so let's specify pass through.\n\n360\n00:17:05.583 --> 00:17:07.372\nAll right, let's add that in.\n\n361\n00:17:07.372 --> 00:17:11.450\nAll right, you can see there, block\nlist one, processing order enabled true.\n\n362\n00:17:11.450 --> 00:17:12.563\nRight, action, ignore.\n\n363\n00:17:12.563 --> 00:17:16.928\nSo I got that new resolution policy that\nI just put in there, I've gone ahead and\n\n364\n00:17:16.928 --> 00:17:21.400\nI've created that successfully so\nwe could see that we actually did that.\n\n365\n00:17:21.400 --> 00:17:26.589\nSo now, let's go ahead and\nlet's do the following\n\n366\n00:17:26.589 --> 00:17:30.944\non our Windows 10 box, get out of there.\n\n367\n00:17:30.944 --> 00:17:34.950\nAnd let me just go back\nover to where we were.\n\n368\n00:17:34.950 --> 00:17:38.450\nLet's do our ipconfig\nflush DNS one more time.\n\n369\n00:17:38.450 --> 00:17:39.980\nGet rid of what was there.\n\n370\n00:17:39.980 --> 00:17:45.130\nLet's do an nslookup one more time on,\ndo we have that there or no?\n\n371\n00:17:45.130 --> 00:17:48.142\nThere it is right there.\n\n372\n00:17:48.142 --> 00:17:49.048\nThought it was there, yeah.\n\n373\n00:17:49.048 --> 00:17:51.868\nLet's do an nslookup up on pltest.com.\n\n374\n00:17:54.634 --> 00:17:57.373\n&gt;&gt; And so what are we trying to\naccomplish with our nslookup here,\n\n375\n00:17:57.373 --> 00:18:02.253\nare we trying to check on,\n&gt;&gt; Well you'll see that now unlike\n\n376\n00:18:02.253 --> 00:18:04.260\nthe first time we did it,\nwhat did we get back?\n\n377\n00:18:04.260 --> 00:18:05.510\nYou'll see here it's timing out now.\n\n378\n00:18:05.510 --> 00:18:07.929\n&gt;&gt; It's timed out.\n&gt;&gt; Right, because we set up the policy-\n\n379\n00:18:07.929 --> 00:18:08.647\n&gt;&gt; To prevent them.\n\n380\n00:18:08.647 --> 00:18:12.150\n&gt;&gt; That said that essentially hey,\nwhen you come from there, right?\n\n381\n00:18:12.150 --> 00:18:15.436\nLooking for this, we can't resolve\nbecause of the DNS query policies.\n\n382\n00:18:15.436 --> 00:18:16.094\n&gt;&gt; I see.\n&gt;&gt; Said,\n\n383\n00:18:16.094 --> 00:18:18.320\nhey we are not gonna ignore,\nwe're not gonna let you do that, right.\n\n384\n00:18:18.320 --> 00:18:20.900\nSo, we've gone ahead and we block it, so\n\n385\n00:18:20.900 --> 00:18:23.290\nthat we are now getting\na different response.\n\n386\n00:18:23.290 --> 00:18:25.612\nAnd we're not able to\nget what we did before,\n\n387\n00:18:25.612 --> 00:18:28.241\nwhich wasm remember you saw\nme doing the first one,\n\n388\n00:18:28.241 --> 00:18:32.550\nright back up here, where I was able to\nsuccessfully respond and resolve, right?\n\n389\n00:18:32.550 --> 00:18:35.026\nI can get it right there and\nI did get pltest.com.\n\n390\n00:18:35.026 --> 00:18:40.079\nBut once I've put it in this other policy,\nwhen you and I just add it,\n\n391\n00:18:40.079 --> 00:18:46.070\nright, name blocklist, right, fqdn,\npltest.com whatever, right so.\n\n392\n00:18:46.070 --> 00:18:48.422\nI'm actually specifying there, right,\n\n393\n00:18:48.422 --> 00:18:51.107\nthat I will not allow that to take place,\nright?\n\n394\n00:18:51.107 --> 00:18:55.336\nI'm gonna block that or prevent that, so\nI'm actually stopping that resolution,\n\n395\n00:18:55.336 --> 00:18:58.750\nthat's what I just did with\nthat policy by putting that in.\n\n396\n00:18:58.750 --> 00:19:01.830\nNow when I do that, if I want to go\nahead and just remove it, say okay hey,\n\n397\n00:19:01.830 --> 00:19:04.490\nlet me turn that off,\nwell I can do that as well.\n\n398\n00:19:04.490 --> 00:19:05.840\nPretty simple to do.\n\n399\n00:19:05.840 --> 00:19:10.960\nWe can add a DNS Server\nquery resolution policy.\n\n400\n00:19:10.960 --> 00:19:11.860\nBut I can also remove one.\n\n401\n00:19:11.860 --> 00:19:14.550\nSo I'm just gonna use\nthe remove as opposed to add.\n\n402\n00:19:14.550 --> 00:19:16.004\nSo if I do remove-\n&gt;&gt; So\n\n403\n00:19:16.004 --> 00:19:19.497\nthis will be great in like a temporary\nrelationship with any kind of business\n\n404\n00:19:19.497 --> 00:19:22.771\npartner that you need to give access\nto for a certain period of time, and\n\n405\n00:19:22.771 --> 00:19:25.400\nthey needed to revoke that or vice versa.\n\n406\n00:19:25.400 --> 00:19:29.510\n&gt;&gt; This would be great in,\ncertainly for that, no problem.\n\n407\n00:19:29.510 --> 00:19:32.220\nLet me add two Ss there,\ncuz I think I only added one.\n\n408\n00:19:32.220 --> 00:19:37.160\nIt would be good for that absolutely,\nthere we go, DNS query resolution policy,\n\n409\n00:19:37.160 --> 00:19:39.030\njust specify a name.\n\n410\n00:19:39.030 --> 00:19:42.008\nSo yeah, when you think about,\nfor instance, maybe merger and\n\n411\n00:19:42.008 --> 00:19:45.758\nacquisition activity, like an M&amp;A kind\nof thought process, where we go out and\n\n412\n00:19:45.758 --> 00:19:47.705\nacquire something, that kind of thing.\n\n413\n00:19:47.705 --> 00:19:50.396\nYeah, we would be able to go ahead and\nsay hey,\n\n414\n00:19:50.396 --> 00:19:54.881\nlet me quickly set up some DNS allow or\ndeny policy, so that way I could allow or\n\n415\n00:19:54.881 --> 00:19:59.770\nblock certain traffic sent to certain\nplaces during the transition period.\n\n416\n00:19:59.770 --> 00:20:02.633\nAnd then maybe afterwards, I could turn\nthem off or prevent them from happening.\n\n417\n00:20:02.633 --> 00:20:05.828\nSo if I wanna remove this after I\nset it up, let's just go in and\n\n418\n00:20:05.828 --> 00:20:06.879\nremove block list.\n\n419\n00:20:06.879 --> 00:20:09.247\nWe'll just call it what we did before.\n\n420\n00:20:09.247 --> 00:20:10.510\nSo we called the block list.\n\n421\n00:20:10.510 --> 00:20:11.339\nLet's just remove it.\n\n422\n00:20:13.160 --> 00:20:15.140\nNow we are prompted on this one.\n\n423\n00:20:15.140 --> 00:20:17.709\nJust scroll down just a little bit so you\ncould see this, cuz it's kind of behind.\n\n424\n00:20:17.709 --> 00:20:19.718\nWhoops, a little too far, there we go.\n\n425\n00:20:19.718 --> 00:20:22.071\nYou'll see that we\nare prompted on this one.\n\n426\n00:20:22.071 --> 00:20:23.945\nIt's not just adding it automatically.\n\n427\n00:20:23.945 --> 00:20:25.393\nYou saw add happens without a prompt.\n\n428\n00:20:25.393 --> 00:20:29.290\nBut remove, cuz we're actually removing\nthis and now opening back up again.\n\n429\n00:20:29.290 --> 00:20:32.030\nIt does prompt us and say,\nare you really sure you wanna do this?\n\n430\n00:20:32.030 --> 00:20:35.410\nSo, we do wanna hit Yes just to\nmake sure that is the case, and\n\n431\n00:20:35.410 --> 00:20:40.000\nonce we've done that, we should\nnow obviously be able to go back.\n\n432\n00:20:40.000 --> 00:20:43.681\nAnd once we do an ipconfig, flush DNS and\nping again, or rather, nslookup again,\n\n433\n00:20:43.681 --> 00:20:47.067\nwe should be able to respond and\nget that resolution coming back in, right?\n\n434\n00:20:47.067 --> 00:20:50.090\nSo we've added, but\nalso now removed the block.\n\n435\n00:20:50.090 --> 00:20:54.339\nSo this is what we're talking about when\nwe talk about using DNS policies because\n\n436\n00:20:54.339 --> 00:20:57.963\nwe can manipulate or modify resolution\nbehavior, what we give out,\n\n437\n00:20:57.963 --> 00:20:59.978\nwhere we give it to, who we give it to.\n\n438\n00:20:59.978 --> 00:21:02.789\nAll sorts of different options\nwould be available here.\n\n439\n00:21:02.789 --> 00:21:04.891\nRemember this is new to Server 2016.\n\n440\n00:21:04.891 --> 00:21:07.449\nSo getting used to using this\nfeature clearly have to be\n\n441\n00:21:07.449 --> 00:21:10.241\ncomfortable with PowerShell in\norder to be able to do this.\n\n442\n00:21:10.241 --> 00:21:13.083\nYou have to also remember how to open up\na command prompt with admin privileges.\n\n443\n00:21:13.083 --> 00:21:16.155\nSo it's always good to make sure you\npractice those things before you go live\n\n444\n00:21:16.155 --> 00:21:18.110\nand actually have to do them for real.\n\n445\n00:21:18.110 --> 00:21:20.370\nIt does show, listen,\nlike literally all kidding aside.\n\n446\n00:21:20.370 --> 00:21:22.024\nWe do this stuff for\nyou, we do it live and\n\n447\n00:21:22.024 --> 00:21:25.163\nsometimes you just have to keep\n20,000 things straight in your head.\n\n448\n00:21:25.163 --> 00:21:28.171\nAnd it's the most obvious and the most\nbasic things that you get out of the way\n\n449\n00:21:28.171 --> 00:21:30.245\nthere to keep this really\ncomplicated stuff there.\n\n450\n00:21:30.245 --> 00:21:31.342\nAnd what can I tell you, I'm human.\n\n451\n00:21:31.342 --> 00:21:34.077\n&gt;&gt; But you were successful there Adam so-\n&gt;&gt; We were, we were but\n\n452\n00:21:34.077 --> 00:21:37.202\nwe don't cover up our\nfables here at IT Pro TV.\n\n453\n00:21:37.202 --> 00:21:39.900\nSo when we do make a mistake,\nwell we blame it on Cherokee or\n\n454\n00:21:39.900 --> 00:21:41.784\nwhoever maybe around and we keep going.\n\n455\n00:21:41.784 --> 00:21:47.078\nSo there you go, but it is really cool in\nterms of being able to use these policies.\n\n456\n00:21:47.078 --> 00:21:49.367\nIt is a new feature in 16\nas I suggested to you.\n\n457\n00:21:49.367 --> 00:21:52.015\nSo, it's something you most likely\nhave not come across before,\n\n458\n00:21:52.015 --> 00:21:55.042\nespecially if you're getting used to\nServer 16 and watching some of these\n\n459\n00:21:55.042 --> 00:21:58.717\nepisodes get a a better feeling for what's\nin there and better understanding of them.\n\n460\n00:21:58.717 --> 00:21:59.434\nSo maybe brand new to you.\n\n461\n00:21:59.434 --> 00:22:01.927\nSo definitely something you want\nto go out and take a look at.\n\n462\n00:22:01.927 --> 00:22:02.947\nMake sure you read up on.\n\n463\n00:22:02.947 --> 00:22:06.562\nI can see it's definitely being something\nthat could become the focus of some\n\n464\n00:22:06.562 --> 00:22:08.737\nquestions at some point in the future.\n\n465\n00:22:08.737 --> 00:22:11.858\nA new feature like this especially\nones that are gonna be used for\n\n466\n00:22:11.858 --> 00:22:15.939\nmanagement especially in a core\nnetworking service like DNS are gonna,\n\n467\n00:22:15.939 --> 00:22:18.218\nas Cherokee said,\nmost likely be the focal point or\n\n468\n00:22:18.218 --> 00:22:21.238\nhighlight of certain things that we would\nwanna make sure you're comfortable with.\n\n469\n00:22:21.238 --> 00:22:23.024\nSo it would be helpful for\nyou to take a look and\n\n470\n00:22:23.024 --> 00:22:25.002\njust make sure you know what's going on,\nright.\n\n471\n00:22:25.002 --> 00:22:27.111\nSo that's why we're spending time\nshowing you how to do it, and\n\n472\n00:22:27.111 --> 00:22:28.564\nmaking sure you understand\nhow to set it up.\n\n473\n00:22:28.564 --> 00:22:30.935\n&gt;&gt; Well I appreciate that, Adam,\nit's some really great stuff here.\n\n474\n00:22:30.935 --> 00:22:33.943\nAnd I had never seen that in action\nbefore, so thank you for that.\n\n475\n00:22:33.943 --> 00:22:35.680\nAnd thank you for joining us as well.\n\n476\n00:22:35.680 --> 00:22:38.660\nBut stay tuned,\nwe have more information headed your way.\n\n477\n00:22:38.660 --> 00:22:40.130\nFor this show,\nwe'll go ahead and sign out.\n\n478\n00:22:40.130 --> 00:22:42.340\nRemember, I'm your host Cherokee Boose.\n\n479\n00:22:42.340 --> 00:22:43.550\n&gt;&gt; I'm Adam Gordon.\n\n480\n00:22:43.550 --> 00:22:46.833\n&gt;&gt; See you next time here at ITProTV.\n\n481\n00:22:46.833 --> 00:22:52.715\n[MUSIC]\n\n482\n00:22:52.715 --> 00:22:56.196\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217178974"
        },
        {
          "description": "In this show, Cherokee and Adam explain how security can be enhanced by using DNSSEC. Adam shows new features available in Windows Server 2016 as well as some features that have been previously released but still available. They have a discussion surrounding digital signatures and how they can be used to provide integrity, non-repudiation, and origin verification depending how used.",
          "length": "2371",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-2-1-implementing_dnssec-051117-PGM.00_00_11_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-2-1-implementing_dnssec-051117-PGM.00_00_11_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-2-1-implementing_dnssec-051117-PGM.00_00_11_23.Still001-sm.jpg",
          "title": "Implementing DNSSEC",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:02.143\nWelcome to ITPro.TV I'm\nyour host Don Pezet.\n\n2\n00:00:02.143 --> 00:00:06.616\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.616 --> 00:00:08.226\n[MUSIC]\n\n4\n00:00:08.226 --> 00:00:11.857\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:11.857 --> 00:00:14.378\n&gt;&gt; Welcome to you're networking\nwith Windows Sever 2016 series,\n\n6\n00:00:14.378 --> 00:00:15.730\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.390 --> 00:00:19.550\nWe've been talking about DNS for\na little while but\n\n8\n00:00:19.550 --> 00:00:23.850\nthis episode we're really gonna be\nfocusing on DNS Sec, DNS Security.\n\n9\n00:00:23.850 --> 00:00:25.970\nAnd back in studios with\nus today we have Mr.\n\n10\n00:00:25.970 --> 00:00:28.370\nAdam Gordon, thank you for\njoining us today Adam.\n\n11\n00:00:28.370 --> 00:00:29.460\n&gt;&gt; Thank you and\n\n12\n00:00:29.460 --> 00:00:33.730\nyou'll notice without planning, you're\nwearing obnoxiously bright clothing.\n\n13\n00:00:33.730 --> 00:00:36.430\nThis is to keep you awake while\nwe're actually going through.\n\n14\n00:00:36.430 --> 00:00:38.210\nAnd talking about DNS security.\n\n15\n00:00:38.210 --> 00:00:41.590\nNot because DNS security or\nany kind of security can be boring, but\n\n16\n00:00:41.590 --> 00:00:44.560\nit is gonna require a lot\nof steps to set things up.\n\n17\n00:00:44.560 --> 00:00:47.520\nWe're gonna have to go through some\ntechnicality on some commands, so\n\n18\n00:00:47.520 --> 00:00:50.780\nwe're gonna walk you through the dos and\ndon'ts of how to ensure that you're\n\n19\n00:00:50.780 --> 00:00:53.620\nlocking down and\nsecuring your DNS infrastructure.\n\n20\n00:00:53.620 --> 00:00:58.480\nSo you wanna be bright, awake,\nvibrant, and either electric blue or\n\n21\n00:00:58.480 --> 00:01:01.960\nwhatever the heck this thing is\nto make sure you pay attention.\n\n22\n00:01:01.960 --> 00:01:03.510\nSo let's get started.\n\n23\n00:01:03.510 --> 00:01:08.120\nWe have talked, as Cherokee was saying,\nextensively about DNS up until this point.\n\n24\n00:01:08.120 --> 00:01:10.770\nIf you haven't seen\na lot of those episodes,\n\n25\n00:01:10.770 --> 00:01:15.300\nthere is a lot of information there\nthat can be valuable for you.\n\n26\n00:01:15.300 --> 00:01:18.670\nWe've taken DNS apart,\nreally started at the top.\n\n27\n00:01:18.670 --> 00:01:21.722\nWatch, pay attention, so I'm gonna\nintegrate that whole pyramid, side view,\n\n28\n00:01:21.722 --> 00:01:23.021\ndata hadron thing you were doing.\n\n29\n00:01:23.021 --> 00:01:25.330\n&gt;&gt; [LAUGH] I thought we we're passed that.\n\n30\n00:01:25.330 --> 00:01:27.285\n&gt;&gt; No, that was so\ngood we got to come back to that.\n\n31\n00:01:27.285 --> 00:01:32.504\nSo we're gonna really just start at the\ntop of DNS as we did in prior episode and\n\n32\n00:01:32.504 --> 00:01:37.801\nwe're gonna take a look at from top to\nbottom as we walk you through what DNS is,\n\n33\n00:01:37.801 --> 00:01:38.792\nhow it works.\n\n34\n00:01:38.792 --> 00:01:41.300\nWhat are some of the new bells,\nwhistles and features in 2016.\n\n35\n00:01:41.300 --> 00:01:44.901\nWe're going to show you more of\nthose with regards to security and\n\n36\n00:01:44.901 --> 00:01:48.699\nmanagement behind the scenes here,\nthings like DNS cache locking,\n\n37\n00:01:48.699 --> 00:01:52.830\nthings like socket pools,\ntalk about some of those cool features.\n\n38\n00:01:52.830 --> 00:01:55.700\nDane, RRL, some things you may or\nmay not have heard of yet,\n\n39\n00:01:55.700 --> 00:01:57.430\nso we'll take a look at some of that.\n\n40\n00:01:57.430 --> 00:02:01.550\nBut, we've already been through quite a\nbit of information about how you care for,\n\n41\n00:02:01.550 --> 00:02:02.950\nmanage, maintain.\n\n42\n00:02:02.950 --> 00:02:06.110\nAnd optimize your DNS server, and\nso want to remind you of all that,\n\n43\n00:02:06.110 --> 00:02:09.030\nmake sure you're comfortable with that,\nbefore you go and\n\n44\n00:02:09.030 --> 00:02:11.940\ntake a look at this episode or\nthis group of episodes with us,\n\n45\n00:02:11.940 --> 00:02:17.580\nwith regards these techniques,\nthis technology area focusing on security.\n\n46\n00:02:17.580 --> 00:02:20.260\nBecause you really have to understand\nthe basics of administration and\n\n47\n00:02:20.260 --> 00:02:23.970\nhow DNS is structured, how it works,\nto really take advantage of fully\n\n48\n00:02:23.970 --> 00:02:25.720\nthe information we're\ngonna share with you here.\n\n49\n00:02:25.720 --> 00:02:27.030\nSo having said that let's get started.\n\n50\n00:02:27.030 --> 00:02:29.220\nLet's talk about some of\nthe ways we implement DNS.\n\n51\n00:02:29.220 --> 00:02:32.560\nWe're not gonna jump right\nin to DNS sec over all.\n\n52\n00:02:32.560 --> 00:02:36.850\nWe're gonna talk about and\nlook at some of the other technologies\n\n53\n00:02:36.850 --> 00:02:41.600\nthat we can implement around the DNS\nserver, through it and in support of it.\n\n54\n00:02:41.600 --> 00:02:44.600\nWe'll use the DNS command\ntool called DNS command\n\n55\n00:02:44.600 --> 00:02:46.340\nthat I talked about in a prior episode.\n\n56\n00:02:46.340 --> 00:02:48.700\nI was gonna demo a couple\nof the things in there for\n\n57\n00:02:48.700 --> 00:02:50.370\nyou to show you how to\nlook at some information.\n\n58\n00:02:50.370 --> 00:02:51.940\nSo we're gonna get started with that.\n\n59\n00:02:51.940 --> 00:02:55.320\nLet's take a look, if we can right there.\n\n60\n00:02:55.320 --> 00:02:57.060\nI'm on one of my DNS servers,\n\n61\n00:02:57.060 --> 00:02:59.880\nmy domain controller that you've\nseen me demoing with before.\n\n62\n00:02:59.880 --> 00:03:03.230\nWe're gonna go back in to\nDNS in a few minutes here.\n\n63\n00:03:03.230 --> 00:03:05.071\nBehind the scenes you'll kind of see.\n\n64\n00:03:05.071 --> 00:03:08.730\nBut behind the command line\nI have DNS already set up.\n\n65\n00:03:08.730 --> 00:03:12.350\nGot another zone in there for\nus to work with and\n\n66\n00:03:12.350 --> 00:03:15.040\nwe'll be enabling DNS sec on that zone.\n\n67\n00:03:15.040 --> 00:03:16.950\nSigning our resource records.\n\n68\n00:03:16.950 --> 00:03:18.330\nChecking out our trust anchors.\n\n69\n00:03:18.330 --> 00:03:21.507\nDoing all the cool stuff we\ngotta do to ensure it's working.\n\n70\n00:03:21.507 --> 00:03:25.407\nBefore we do that what we're gonna\ndo is just talk a little bit about\n\n71\n00:03:25.407 --> 00:03:26.900\nDNS cache locking.\n\n72\n00:03:26.900 --> 00:03:27.790\nHow we set that up?\n\n73\n00:03:27.790 --> 00:03:28.870\nWhat that is?\n\n74\n00:03:28.870 --> 00:03:33.150\nAlso as I said a DNS socket pool and\nsome of the other stuff that's in here.\n\n75\n00:03:33.150 --> 00:03:34.680\nAnd actually by way of getting started.\n\n76\n00:03:34.680 --> 00:03:36.690\nI gonna go into the command\nline here in a minute.\n\n77\n00:03:36.690 --> 00:03:40.360\nBut I thought it would be good if we\njust took a look at this website.\n\n78\n00:03:40.360 --> 00:03:41.160\nIf we can go full screen for\n\n79\n00:03:41.160 --> 00:03:43.420\na minute, maybe it would be easier for\nyou guys to see this.\n\n80\n00:03:43.420 --> 00:03:45.460\nWhat's new in DNS Server in 2016.\n\n81\n00:03:45.460 --> 00:03:50.110\nThis is gonna help us to understand some\nof the technologies I'm gonna show you.\n\n82\n00:03:50.110 --> 00:03:52.530\nWe've actually talked about\nDNS policies already.\n\n83\n00:03:52.530 --> 00:03:54.160\nWe get a whole episode on that.\n\n84\n00:03:54.160 --> 00:03:56.640\nI'm gonna mention Response Rate Limiting,\nand\n\n85\n00:03:56.640 --> 00:03:59.130\nDNS based off indicational named entities.\n\n86\n00:03:59.130 --> 00:04:00.650\nDane, I mentioned them just now.\n\n87\n00:04:00.650 --> 00:04:01.840\nBut let's talk about what they are.\n\n88\n00:04:01.840 --> 00:04:04.680\nWe'll go through, we'll take\na look at this in just a moment,\n\n89\n00:04:04.680 --> 00:04:08.690\nwe did talk about or I will mention\nagain unknown record support.\n\n90\n00:04:08.690 --> 00:04:10.930\nWe've talked about IPv6\nroot hints certainly,\n\n91\n00:04:10.930 --> 00:04:13.940\nwe know we've got extensive\nPowerShell support here.\n\n92\n00:04:13.940 --> 00:04:18.030\nBut this is a nice area, this page and\nall the stuff that it talks about.\n\n93\n00:04:18.030 --> 00:04:21.020\nIt gives us a really good\noverview of all the technologies,\n\n94\n00:04:21.020 --> 00:04:24.400\nsome of which we're actually gonna\nbe delving into in more detail here.\n\n95\n00:04:24.400 --> 00:04:27.870\nResponse rate limiting is one of those\nnew features that we can look at.\n\n96\n00:04:27.870 --> 00:04:29.730\nJust spend a moment on this real quick.\n\n97\n00:04:29.730 --> 00:04:32.660\nYeah, we enable response rate\nlimiting on the DNS Server.\n\n98\n00:04:32.660 --> 00:04:36.760\nWe'll talk about that and\nwe do this essentially in order to avoid,\n\n99\n00:04:36.760 --> 00:04:39.770\nas you can see there,\nthe possibility of malicious systems\n\n100\n00:04:39.770 --> 00:04:43.290\nusing DNS to initiate DOS\nattacks on our clients.\n\n101\n00:04:43.290 --> 00:04:45.140\nIn other words,\nthink of this as throttling,\n\n102\n00:04:45.140 --> 00:04:49.790\nthis is the ability to be able to\ncontrol the amount of outbound traffic\n\n103\n00:04:49.790 --> 00:04:55.050\nthat we're sending in response to DNS\nqueries coming back from the server.\n\n104\n00:04:55.050 --> 00:04:58.130\nSomebody is a bad actor attempts\nto take over the server and\n\n105\n00:04:58.130 --> 00:05:01.250\nattempts to flood clients and\ntake them off line.\n\n106\n00:05:01.250 --> 00:05:06.480\nWith DOS or DDOS solutions response rate\nlimiting is gonna prevent us from doing\n\n107\n00:05:06.480 --> 00:05:11.780\nthat so or at least help us to prevent\nthe server from becoming unwittingly\n\n108\n00:05:11.780 --> 00:05:16.510\ninvolved in taking out clients that\nare seemingly looking for information.\n\n109\n00:05:16.510 --> 00:05:17.642\nSo this is nice, it's a new feature.\n\n110\n00:05:17.642 --> 00:05:19.030\n&gt;&gt; It's a pretty cool technique.\n\n111\n00:05:19.030 --> 00:05:20.220\n&gt;&gt; Pretty important, right?\n\n112\n00:05:20.220 --> 00:05:23.590\nThink about the prevalence of DOS and\nDDOS attacks today.\n\n113\n00:05:23.590 --> 00:05:27.690\nIt is good to know we can throttle and\ncontrol the amount of bandwidth or\n\n114\n00:05:27.690 --> 00:05:30.450\nthe amount of, in this case,\ninformation coming out.\n\n115\n00:05:30.450 --> 00:05:33.530\nAnother new feature,\nanother new area, another new item.\n\n116\n00:05:33.530 --> 00:05:36.140\nNot new overall but\nnew to us in Server 16.\n\n117\n00:05:36.140 --> 00:05:40.080\nThe idea of DNS based\nauthentication of name entities.\n\n118\n00:05:40.080 --> 00:05:44.470\nIf you search either for Dane or for that\nfull name, you'll find that this is been\n\n119\n00:05:44.470 --> 00:05:49.570\naround for a bit reason transport layer\nsecurity authentication here to provide or\n\n120\n00:05:49.570 --> 00:05:54.050\nrecords associated with that to\nprovide DNS clients that state.\n\n121\n00:05:54.050 --> 00:05:56.560\nOr excuse me, that provide DNS clients\n\n122\n00:05:56.560 --> 00:06:01.550\ninformation about what CA they should\nbe expecting to see certificates from.\n\n123\n00:06:01.550 --> 00:06:04.360\nIn other words, we're giving them\nadditional information about\n\n124\n00:06:04.360 --> 00:06:09.650\nthe trust chain and the information\nabout how we're certifying our identity.\n\n125\n00:06:09.650 --> 00:06:12.190\nAnd proving to them that\nwe are trustworthy and\n\n126\n00:06:12.190 --> 00:06:14.810\nthat we have the credentials\nto validate that.\n\n127\n00:06:14.810 --> 00:06:16.810\nThis prevents man in middle attacks.\n\n128\n00:06:16.810 --> 00:06:21.040\nBy doing this, we're essentially saying\nhey, you should expect to see information\n\n129\n00:06:21.040 --> 00:06:23.990\ncoming from the server\nwhen we go to authenticate\n\n130\n00:06:23.990 --> 00:06:29.540\nthat says ABC.EnterpriseRoot.ca\nif that's the name of the ca.\n\n131\n00:06:29.540 --> 00:06:31.380\nIf you don't see that on the certificates,\n\n132\n00:06:31.380 --> 00:06:34.910\nor if that information is\nnot provided guess what?\n\n133\n00:06:34.910 --> 00:06:37.740\nSomebody's probably getting in\nthe way of our conversations and\n\n134\n00:06:37.740 --> 00:06:42.580\nthere's a man in the middle or masquerade\nor spoof attack of some kind taking place.\n\n135\n00:06:42.580 --> 00:06:44.280\nAnd therefore,\nyou should drop the connection and\n\n136\n00:06:44.280 --> 00:06:46.350\nnot trust the stranger that\nyou're talking to, right.\n\n137\n00:06:46.350 --> 00:06:48.280\nBecause that is also very prevalent.\n\n138\n00:06:48.280 --> 00:06:50.060\n&gt;&gt; And\nthat's what our mother told us to do.\n\n139\n00:06:50.060 --> 00:06:51.120\n&gt;&gt; Never talk to strangers.\n\n140\n00:06:51.120 --> 00:06:52.960\nRemember stranger danger.\n\n141\n00:06:52.960 --> 00:06:54.110\nStranger danger, right.\n\n142\n00:06:54.110 --> 00:06:55.860\nVery important to know that.\n\n143\n00:06:55.860 --> 00:06:59.110\nSo just keep that in mind,\nthese are some new technologies new\n\n144\n00:06:59.110 --> 00:07:03.750\nthings associated with us\nin Server 16 with DNS.\n\n145\n00:07:03.750 --> 00:07:05.380\nWe also have unknown record support here.\n\n146\n00:07:05.380 --> 00:07:10.330\nWe can add record which are not explicitly\nsupported by DNS in other words we can add\n\n147\n00:07:10.330 --> 00:07:14.960\nalternate records that are not on that\nhit list of I don't know, 20, 30 whatever\n\n148\n00:07:14.960 --> 00:07:18.370\nthe number is that we've looked at for\nresource records that are in there.\n\n149\n00:07:18.370 --> 00:07:22.140\nRemember we right clicked, new resource\nrecord got that whole pick list of stuff.\n\n150\n00:07:22.140 --> 00:07:25.310\nYou know there are alternate records\nthat we may in prior versions\n\n151\n00:07:25.310 --> 00:07:29.180\nhave not provided support for,\nand, or perhaps we're not using,\n\n152\n00:07:29.180 --> 00:07:32.260\nbecause we didn't use the technologies\nthat would require them.\n\n153\n00:07:32.260 --> 00:07:33.420\nBut they're always there and\n\n154\n00:07:33.420 --> 00:07:37.490\nyou know maybe we do have a need to\nprovide an alternate record of some kind.\n\n155\n00:07:37.490 --> 00:07:40.770\nWell, now we have unknown record\nsupport that would help us to do this.\n\n156\n00:07:40.770 --> 00:07:42.110\nSo just be aware of that.\n\n157\n00:07:42.110 --> 00:07:46.924\nWe've mentioned some of the other\nareas and items that are on this list\n\n158\n00:07:46.924 --> 00:07:51.429\nas I said that an extensive expression or\nexpensive expression.\n\n159\n00:07:51.429 --> 00:07:55.630\nWe did an extensive discussion and\na whole episode on DNS policies.\n\n160\n00:07:55.630 --> 00:07:59.380\nWe actually showed you how to set them up,\nwalked through, did a demo on that.\n\n161\n00:07:59.380 --> 00:08:02.061\nAnd then use the DNS lookup tool to\nbe able to validate the policies\n\n162\n00:08:02.061 --> 00:08:02.802\nwe're working.\n\n163\n00:08:02.802 --> 00:08:06.090\nIf you haven't seen that, definitely\nencourage you as I said as one of\n\n164\n00:08:06.090 --> 00:08:09.280\nthat group of system discussions\naround DNS we've been through.\n\n165\n00:08:09.280 --> 00:08:10.940\nLet's go back and take a look,\nit would help you.\n\n166\n00:08:10.940 --> 00:08:15.101\nAll right, so we talked about some of\nthe high levels things you could see there\n\n167\n00:08:15.101 --> 00:08:17.889\nwith regards to some new features for\nDNS security.\n\n168\n00:08:17.889 --> 00:08:20.316\nLet's talk about where we get\naccess to some of this stuff and\n\n169\n00:08:20.316 --> 00:08:21.610\nhow we can configure some of it.\n\n170\n00:08:21.610 --> 00:08:25.680\nAnd then we'll go in, we'll do\na deep dive around DNS specifically,\n\n171\n00:08:25.680 --> 00:08:30.330\ndigitally signing our zone files to be\nable to, or records I should say with\n\n172\n00:08:30.330 --> 00:08:35.075\nthe DNS zone to be able to now add another\nlayer of security associated with our\n\n173\n00:08:35.075 --> 00:08:39.005\nzones to further authenticate and provide\nintegrity as well as proof of origin,\n\n174\n00:08:39.005 --> 00:08:41.745\nnon repediation around\nthe authenticity of the zone.\n\n175\n00:08:41.745 --> 00:08:44.422\nThat's what dnssec does,\nbeen around for a while.\n\n176\n00:08:44.422 --> 00:08:46.162\nIt's important for\nyou to know how to do that.\n\n177\n00:08:46.162 --> 00:08:47.782\nWe are gonna walk you\nthrough the logic of that.\n\n178\n00:08:47.782 --> 00:08:50.912\nBut, before we do that,\nI've mentioned DNS command before.\n\n179\n00:08:50.912 --> 00:08:54.152\nYou could see I just pulled up\na command shell with the DNS command\n\n180\n00:08:54.152 --> 00:08:55.012\ntool with our /?\n\n181\n00:08:55.012 --> 00:08:56.274\nto get a help file.\nTo start,\n\n182\n00:08:56.274 --> 00:08:59.352\nI point out a couple of things here.\n\n183\n00:08:59.352 --> 00:09:02.982\nSo, the switch is associated\nwith DNS command.\n\n184\n00:09:02.982 --> 00:09:04.632\nMove that over just a little touch there.\n\n185\n00:09:05.770 --> 00:09:08.020\nThere are quite a few of them\nwhen you pull up the help file.\n\n186\n00:09:08.020 --> 00:09:12.710\nAnd you can see, as I'm scrolling down,\nthat a lot of them deal with the zone.\n\n187\n00:09:12.710 --> 00:09:15.180\nThere's quite a number\nthat deal with zone there.\n\n188\n00:09:15.180 --> 00:09:17.610\nThere's some for enumeration of records.\n\n189\n00:09:17.610 --> 00:09:19.690\nThere's a whole bunch of different stuff.\n\n190\n00:09:19.690 --> 00:09:23.840\nWhat we really would be interested\nin is the config command.\n\n191\n00:09:23.840 --> 00:09:28.610\nDNS command /config and\nthen what is it that we wanna config.\n\n192\n00:09:28.610 --> 00:09:31.460\nBecause that's where we control\nthe configuration of the server.\n\n193\n00:09:31.460 --> 00:09:35.916\nWhat DNS config instead of our DNS command\nconfig does is the equivalent of going and\n\n194\n00:09:35.916 --> 00:09:40.000\nright-clicking on the server in the DNS,\nMMC and the GUI.\n\n195\n00:09:40.000 --> 00:09:43.640\nAnd starting to hack away those\nproperties and making changes to stuff.\n\n196\n00:09:43.640 --> 00:09:44.550\nThat's what we're doing.\n\n197\n00:09:44.550 --> 00:09:46.560\nBut remember,\nwe're doing it from the command-line.\n\n198\n00:09:46.560 --> 00:09:49.810\nAnd so\nwhat I did is I just drill down into\n\n199\n00:09:49.810 --> 00:09:53.940\nthe DNS command config\ncommand a little bit more.\n\n200\n00:09:53.940 --> 00:09:56.090\nYou could see I just did that here.\n\n201\n00:09:56.090 --> 00:10:00.620\nSo I just did dns command config help and\nnow you could see there is a bunch of\n\n202\n00:10:00.620 --> 00:10:03.260\ndifferent stuff that we can\ntake a look at in here.\n\n203\n00:10:03.260 --> 00:10:08.010\nRPC protocol, log level,\nevent log level, network cursion,\n\n204\n00:10:08.010 --> 00:10:10.430\nboot method, all sorts of stuff.\n\n205\n00:10:10.430 --> 00:10:13.000\nAnd we would be doing or taking a look at.\n\n206\n00:10:13.000 --> 00:10:14.190\nAnd one thing I don't like about this,\n\n207\n00:10:14.190 --> 00:10:17.510\nunfortunately just the way it displays,\nit's not alphabetized, right.\n\n208\n00:10:17.510 --> 00:10:20.450\nSo the problem is, you've got commands\nall over the place, you've got\n\n209\n00:10:20.450 --> 00:10:25.060\nboot method here, you've got isSlave\nthere, global here, are at the top.\n\n210\n00:10:25.060 --> 00:10:28.560\nThere's no rhyme or reason to how\nthe commands show up when you do this.\n\n211\n00:10:28.560 --> 00:10:31.110\nSo you've just gotta go searching through.\n\n212\n00:10:31.110 --> 00:10:35.930\nBut what we're looking for\nis the ability to be able to\n\n213\n00:10:35.930 --> 00:10:40.410\ngo in and to be able to work\nwith cache locking percent.\n\n214\n00:10:40.410 --> 00:10:44.920\nFirst, what I wanna talk about,\nlet me just highlight it right down there.\n\n215\n00:10:44.920 --> 00:10:49.860\nWhat cache locking percent is,\nis how we set up DNS cache locking.\n\n216\n00:10:49.860 --> 00:10:51.410\nThis is how we configure it.\n\n217\n00:10:51.410 --> 00:10:54.118\nAnd DNS cache locking,\nit's actually very simple.\n\n218\n00:10:54.118 --> 00:10:56.816\nAnd when you think about the logic\nof what it does, you're surprised\n\n219\n00:10:56.816 --> 00:10:59.810\nthat they haven't done this before and\nwe haven't provided this support.\n\n220\n00:10:59.810 --> 00:11:03.230\nAnd we do have this capability,\nand do have this support.\n\n221\n00:11:03.230 --> 00:11:06.060\nBut it essentially lets us\nlock out the period of time\n\n222\n00:11:06.060 --> 00:11:09.570\nthat information in the cache is gonna\nbe stored for, and control it so\n\n223\n00:11:09.570 --> 00:11:12.050\nit can't be overwritten or modified.\n\n224\n00:11:12.050 --> 00:11:16.450\nSo we're setting a TTL that's hard coded,\nessentially, on information.\n\n225\n00:11:16.450 --> 00:11:17.200\nAnd preventing, and\n\n226\n00:11:17.200 --> 00:11:20.640\nif you think about why we would do this,\nwe're preventing a bad actor.\n\n227\n00:11:20.640 --> 00:11:22.940\nWe talked about cash poisoning attacks,\n\n228\n00:11:22.940 --> 00:11:26.270\nwe've talked about manipulation\nof information by understanding\n\n229\n00:11:26.270 --> 00:11:30.665\nthe resolution chain, and the mechanisms\ninvolved with how DNS helps us to resolve.\n\n230\n00:11:30.665 --> 00:11:34.663\nWe went through and had a pretty thorough\ndiscussion in our very first episode about\n\n231\n00:11:34.663 --> 00:11:37.075\nthe six steps involved\nwith DNS name resolution.\n\n232\n00:11:37.075 --> 00:11:39.735\nHow we always start locally\nbefore we go globally, right?\n\n233\n00:11:39.735 --> 00:11:43.421\nAnd we always have a preference,\na requirement, to look at what we own\n\n234\n00:11:43.421 --> 00:11:47.360\nourselves and what we acknowledge\nof locally, meaning in our cache.\n\n235\n00:11:47.360 --> 00:11:51.510\nSo the IP config display, DNS cache,\nright, would show us what's there.\n\n236\n00:11:51.510 --> 00:11:53.390\nThe DNS resolver cache.\n\n237\n00:11:53.390 --> 00:11:57.420\nThe server has its own cache,\nevery machine that uses DNS does.\n\n238\n00:11:57.420 --> 00:11:58.110\nWe have a host file,\n\n239\n00:11:58.110 --> 00:12:01.105\nwe've talked about that and\npotentially building to manipulate that.\n\n240\n00:12:01.105 --> 00:12:04.310\nWhile we said that we wouldn't probably\nsee a lot of attacks that would go after\n\n241\n00:12:04.310 --> 00:12:08.100\nhost files, we did say that we\nsee a lot of capability and\n\n242\n00:12:08.100 --> 00:12:12.260\npossibility around cache poisoning,\ncache manipulation.\n\n243\n00:12:12.260 --> 00:12:15.710\nBecause if we can get bad\nentries into that cache, and\n\n244\n00:12:15.710 --> 00:12:20.780\nremind the server of the fact that,\nsince we look locally, that in theory\n\n245\n00:12:20.780 --> 00:12:24.070\nis the authoritative information,\nserver has no way of knowing that.\n\n246\n00:12:24.070 --> 00:12:27.730\nAll it knows is, that hey I spoke to\nsomebody and they told me that I should\n\n247\n00:12:27.730 --> 00:12:33.970\ntell you that that's where you go to\nfind abc.megacorp.com or whatever it is.\n\n248\n00:12:33.970 --> 00:12:39.060\nAnd if that's what you give out, and\nit's not really where ABCMegacorp.com is.\n\n249\n00:12:39.060 --> 00:12:43.760\nBut rather it's where the bad actor that\nwants you to think ABCMegacorp.com is.\n\n250\n00:12:43.760 --> 00:12:48.490\nSo they redirect you to their website and\nthen they can, through a iFrame attack,\n\n251\n00:12:48.490 --> 00:12:53.910\nthrough a cross site scripting attack,\nwhatever it may be.\n\n252\n00:12:53.910 --> 00:12:57.630\nThey can get you to click on something or\njust by showing up on the page and\n\n253\n00:12:57.630 --> 00:13:00.290\nloading it,\nthey can load malware into your system.\n\n254\n00:13:00.290 --> 00:13:03.860\nJust the amount of stuff we can do today\nis just unbelievable when we get you\n\n255\n00:13:03.860 --> 00:13:06.250\nconnecting to a machine and we control it.\n\n256\n00:13:06.250 --> 00:13:09.920\nSo your cache locking\npercent lets us set or\n\n257\n00:13:09.920 --> 00:13:13.780\nspecify what this cache\nlocking value will be.\n\n258\n00:13:13.780 --> 00:13:17.250\nTo prevent overwrite of the cache and\nlock it down.\n\n259\n00:13:17.250 --> 00:13:19.940\nSo we configure this by using DNS command,\nwe go in here.\n\n260\n00:13:19.940 --> 00:13:22.150\nKeep in mind you gotta be running\nan elevated command prompt,\n\n261\n00:13:22.150 --> 00:13:25.710\nyou'll see I am set up here,\nright, as administrator.\n\n262\n00:13:25.710 --> 00:13:28.960\nSo just make sure you remember, you\nneed rights to be able to manipulate and\n\n263\n00:13:28.960 --> 00:13:30.620\nmodify these settings.\n\n264\n00:13:30.620 --> 00:13:32.540\nDon't just open up\na normal command prompt.\n\n265\n00:13:32.540 --> 00:13:33.180\nWe'll get an error.\n\n266\n00:13:33.180 --> 00:13:36.260\nWe'll work and you may or may not\nknow why, so just keep that in mind.\n\n267\n00:13:36.260 --> 00:13:39.380\nDNS command/config/cachelockingpercentage\nand\n\n268\n00:13:39.380 --> 00:13:43.840\nthen you specify the percent as\na number at the end of that.\n\n269\n00:13:43.840 --> 00:13:45.890\nAnd that's how you actually set that up.\n\n270\n00:13:45.890 --> 00:13:49.189\nThe other thing to note, restart\nthe DNS servers to apply the changes.\n\n271\n00:13:49.189 --> 00:13:52.910\nThese changes require you to stop\nconstructing the DNS Server Service.\n\n272\n00:13:52.910 --> 00:13:54.760\nSo you just wanna make\nsure you're aware of that.\n\n273\n00:13:55.870 --> 00:13:58.670\nWe prohibit records from\nbeing overwritten for\n\n274\n00:13:58.670 --> 00:14:01.150\nthe duration of the TTL value\nthat we set here as a percentage.\n\n275\n00:14:01.150 --> 00:14:02.605\nSo that just keep that in mind.\n\n276\n00:14:02.605 --> 00:14:05.625\nAnd we can also set this from PowerShell,\nright?\n\n277\n00:14:05.625 --> 00:14:09.335\nAnything we can do in DNS Command\ncan be done from PowerShell.\n\n278\n00:14:09.335 --> 00:14:13.575\nBut just like any other kind\nof thought process here,\n\n279\n00:14:13.575 --> 00:14:15.645\nlots of different ways to\ncome at this knowledge.\n\n280\n00:14:15.645 --> 00:14:19.065\nPotentially lots of different\ninformation we wanna be aware of.\n\n281\n00:14:19.065 --> 00:14:21.315\nMay ask questions from\ndifferent perspectives.\n\n282\n00:14:21.315 --> 00:14:25.275\nIf there's more than one tool, there's\nmore than one way to ask a question, and\n\n283\n00:14:25.275 --> 00:14:28.310\nmore than one piece of information\nyou may need to be aware of.\n\n284\n00:14:28.310 --> 00:14:30.310\nGenerically I often tell my students,\nI've told them for\n\n285\n00:14:30.310 --> 00:14:32.650\nyears, tell my customers the same thing.\n\n286\n00:14:32.650 --> 00:14:35.350\nWhen you're dealing with Microsoft,\nthere's probably at least three\n\n287\n00:14:35.350 --> 00:14:38.760\nways to do anything you wannna do if you\nthink about the logic of that, right.\n\n288\n00:14:38.760 --> 00:14:42.670\nThere's always at least one or more ways\nin the GUI, there's always at least one or\n\n289\n00:14:42.670 --> 00:14:45.620\nmore command line options\nfrom different tools, right.\n\n290\n00:14:45.620 --> 00:14:50.690\nSo think about the fact that that could\nbe the case because we probably have,\n\n291\n00:14:50.690 --> 00:14:52.530\nin this case as I said, PowerShell.\n\n292\n00:14:52.530 --> 00:14:53.980\nWe have DNS command.\n\n293\n00:14:53.980 --> 00:14:56.450\nAnd for a lot of these,\nthey could be set from the GUI as well.\n\n294\n00:14:56.450 --> 00:14:57.950\nSo you just wanna keep that in mind.\n\n295\n00:14:57.950 --> 00:14:59.210\nMeaning you could script this.\n\n296\n00:14:59.210 --> 00:15:00.310\nYou could automate this.\n\n297\n00:15:00.310 --> 00:15:02.430\nYou could do all sorts of stuff with it.\n\n298\n00:15:02.430 --> 00:15:07.670\nIn PowerShell, set DNS server cache\ncommand with the locking percent parameter\n\n299\n00:15:07.670 --> 00:15:08.600\nwould be the way to go.\n\n300\n00:15:08.600 --> 00:15:10.290\nAnd then just put a value\nthere at the end.\n\n301\n00:15:10.290 --> 00:15:11.980\nThe value is the numerical value for\nthe percentage.\n\n302\n00:15:11.980 --> 00:15:13.140\nWould be the same thing.\n\n303\n00:15:13.140 --> 00:15:15.870\nAll of that's in the show notes,\nby the way, the PowerShell commands.\n\n304\n00:15:15.870 --> 00:15:19.030\nAs well as the DNS command commands,\nare listed in the show notes for you.\n\n305\n00:15:19.030 --> 00:15:21.400\nSo I've put the details in there,\nso you know what they are.\n\n306\n00:15:21.400 --> 00:15:25.380\nThe other one we wanna talk about\nis setting up the socket pool.\n\n307\n00:15:25.380 --> 00:15:27.920\nThe socket pool, we'll go down and\nwe'll take a look out there.\n\n308\n00:15:27.920 --> 00:15:28.460\nIt's right there.\n\n309\n00:15:28.460 --> 00:15:31.260\nSocket pool, no, not socket pool exclude.\n\n310\n00:15:31.260 --> 00:15:33.075\nWe want socket pool size.\n\n311\n00:15:33.075 --> 00:15:34.890\nWe'll find the socket pool\none there in a minute.\n\n312\n00:15:34.890 --> 00:15:36.800\nI'll just scroll down and\nwe'll take a look.\n\n313\n00:15:36.800 --> 00:15:39.360\nBut before we get to it,\nwhat is DNS Socket pool?\n\n314\n00:15:39.360 --> 00:15:42.720\nThis lets us set up the idea\nof source port randomization.\n\n315\n00:15:42.720 --> 00:15:46.560\nThe socket pool is the number of ports\nthat are available to us that we use to be\n\n316\n00:15:46.560 --> 00:15:47.701\nable to communicate.\n\n317\n00:15:47.701 --> 00:15:50.141\nWhat we again is another\nway of doing security,\n\n318\n00:15:50.141 --> 00:15:54.533\nanother way of thinking about hey how do I\nlock down, how do I prevent contamination,\n\n319\n00:15:54.533 --> 00:15:56.427\nwhat we call pollution of the cache.\n\n320\n00:15:56.427 --> 00:15:59.058\nHow do I prevent\nmanipulation of information?\n\n321\n00:15:59.058 --> 00:16:03.378\nThings like DANE can help us to do that\nby further authenticating and validating\n\n322\n00:16:03.378 --> 00:16:07.567\ninformation from the PKI perspective\nabout what we should expect to see, but\n\n323\n00:16:07.567 --> 00:16:11.120\nwe can also control the ports that\nare being used to communicate.\n\n324\n00:16:11.120 --> 00:16:15.470\nBut we can randomize those ports and\nspecify that they will change and\n\n325\n00:16:15.470 --> 00:16:18.700\nthen that way we could control\nthe communication that takes place,\n\n326\n00:16:18.700 --> 00:16:21.810\nis somebody pretending to be us or\nsomebody trying to communicate with us,\n\n327\n00:16:21.810 --> 00:16:23.928\nwould have to have that\ninformation to be aware of them.\n\n328\n00:16:23.928 --> 00:16:27.750\nSo what the socket pool does,\nallows us to use source port randomization\n\n329\n00:16:27.750 --> 00:16:30.550\nwhen we issuse DNS queries,\nagain this is kind of cool.\n\n330\n00:16:30.550 --> 00:16:33.513\nThe server chooses a source\nport when we power up and\n\n331\n00:16:33.513 --> 00:16:37.840\nessentially start the server service\nfrom a pool of sockets available that\n\n332\n00:16:37.840 --> 00:16:41.980\nyou're gonna set, or specify here with\nthis command to issue queries against, and\n\n333\n00:16:41.980 --> 00:16:47.130\nas a result of that this makes cache\ntampering very difficult because\n\n334\n00:16:47.130 --> 00:16:52.970\nwe're not using the traditional port\nto specify communication with DNS.\n\n335\n00:16:52.970 --> 00:16:57.330\nWe're randomizing that port out of a pool,\nand the attacker that looks to cache\n\n336\n00:16:57.330 --> 00:17:03.060\npoison would have to not only know\nthe DNS server information, so the IP,\n\n337\n00:17:03.060 --> 00:17:07.240\nright, and the way to connect, they'd have\nto specify the port as part of that to be\n\n338\n00:17:07.240 --> 00:17:10.390\nable to connect and actually then get in,\non top of all the other things,\n\n339\n00:17:10.390 --> 00:17:12.850\nhave a credential and\nall the stuff we talk about.\n\n340\n00:17:12.850 --> 00:17:14.290\nThey don't know the port,\n\n341\n00:17:14.290 --> 00:17:17.358\nif you've ever done any work where you've\nrandomized ports to connect something,\n\n342\n00:17:17.358 --> 00:17:24.000\nyou know www.website.com,\nPort 80, right, by default.\n\n343\n00:17:24.000 --> 00:17:28.440\nBut if we do port 5015, colon,\nwhatever the port number is, and\n\n344\n00:17:28.440 --> 00:17:31.790\nyou don't know that port number, that\nwebsites not coming up in your browser\n\n345\n00:17:31.790 --> 00:17:35.700\nbecause you're not fully\ncreating that path, that address,\n\n346\n00:17:35.700 --> 00:17:38.660\nthat specifies the connection\nstring properly.\n\n347\n00:17:38.660 --> 00:17:40.520\nSame thing when we\nrandomize the ports here.\n\n348\n00:17:40.520 --> 00:17:43.910\nSo DNS socket pool allows us to go in and\n\n349\n00:17:43.910 --> 00:17:47.270\nmodify our control which ports\nare available, how many.\n\n350\n00:17:47.270 --> 00:17:50.210\nThe DNS socket pool size is 2,500.\n\n351\n00:17:50.210 --> 00:17:54.104\nWe can specify a value from\n0 through 10,000, right.\n\n352\n00:17:54.104 --> 00:17:56.456\nIt's 2500 by default,\nbut we can modify that.\n\n353\n00:17:56.456 --> 00:17:59.411\nRemember, we're talking about the number\nof ports that are available here,\n\n354\n00:17:59.411 --> 00:18:00.830\nspecifically for a service.\n\n355\n00:18:00.830 --> 00:18:04.089\nHow many ports are available overall,\nin a machine anywhere in the world?\n\n356\n00:18:04.089 --> 00:18:07.360\n&gt;&gt; 65,535?\n\n357\n00:18:07.360 --> 00:18:08.030\n&gt;&gt; Absolutely,\n\n358\n00:18:08.030 --> 00:18:10.900\nyou should say that with authority because\nyou know what the answer is, right?\n\n359\n00:18:10.900 --> 00:18:13.490\n&gt;&gt; So yeah, we have 65,535 ports we\n\n360\n00:18:13.490 --> 00:18:17.930\ncan actually use on any machine that runs\na networking stack, regardless of vendor.\n\n361\n00:18:17.930 --> 00:18:20.230\nThis is not a Microsoft thing,\nnot a Linux thing.\n\n362\n00:18:20.230 --> 00:18:23.670\nThis is a, hey, you run TCPIP,\nyou run networking?\n\n363\n00:18:23.670 --> 00:18:25.996\nThis is the standard,\nthis is how it works, kind of thing.\n\n364\n00:18:25.996 --> 00:18:29.000\nSo it's 65,535.\n\n365\n00:18:29.000 --> 00:18:32.990\nWe actually can manipulate the number,\nand specify, I want a pool of so many.\n\n366\n00:18:32.990 --> 00:18:35.580\nAnd I wanna be able to use those, right?\n\n367\n00:18:35.580 --> 00:18:38.460\nLarger the value, the greater the\nprotection you have against DNS spoofing\n\n368\n00:18:38.460 --> 00:18:41.500\nattacks, obviously, bigger the pool,\nmore randomization,\n\n369\n00:18:41.500 --> 00:18:43.880\nmore likely to be able to pick\na port that nobody's gonna guess.\n\n370\n00:18:43.880 --> 00:18:46.850\nNow could somebody, in theory,\nwalk that DNS server\n\n371\n00:18:46.850 --> 00:18:51.110\ntrying every port in a connection string\nautomated to be able to figure it out?\n\n372\n00:18:51.110 --> 00:18:55.900\nYeah, for every defense we put up, there\nis an attack that's equally devastating,\n\n373\n00:18:55.900 --> 00:18:58.080\nin terms of its ability to\nbe able to break through.\n\n374\n00:18:58.080 --> 00:18:59.830\nBut not everybody understands the logic.\n\n375\n00:18:59.830 --> 00:19:02.460\nNot everybody will use\nthose kind of attacks, and\n\n376\n00:19:02.460 --> 00:19:06.780\nnot everybody's gonna allow repetitive\ninbound traffic request walking through\n\n377\n00:19:06.780 --> 00:19:10.520\na port list, into their servers\nwithout challenging them, right?\n\n378\n00:19:10.520 --> 00:19:15.500\nThis is where the idea of being able\nto be offensive in your defense becomes\n\n379\n00:19:15.500 --> 00:19:19.980\nimportant cuz you have to look at that\ninbound traffic, your gateway servers,\n\n380\n00:19:19.980 --> 00:19:23.700\nyour gateway devices have to look at\nthat and go, somebody's port walking.\n\n381\n00:19:23.700 --> 00:19:26.970\nAnd that's probably a protection profile\nthat we have to be aware of, and\n\n382\n00:19:26.970 --> 00:19:29.810\nwe have to stop inbound\ntraffic when we see that.\n\n383\n00:19:29.810 --> 00:19:33.750\nInbound traffic from the same IP address\niterating through ports one at a time\n\n384\n00:19:33.750 --> 00:19:37.240\nis the biggest red flag warning sign\nyou could possibly imagine, right.\n\n385\n00:19:37.240 --> 00:19:40.000\nAnd so when you see that on your\ninbound traffic monitoring,\n\n386\n00:19:40.000 --> 00:19:41.920\nyou should clamp down on that and\ncut that off.\n\n387\n00:19:41.920 --> 00:19:44.700\nThat's how you prevent an attack\nthat would ultimately break\n\n388\n00:19:44.700 --> 00:19:45.600\nthis thought process.\n\n389\n00:19:45.600 --> 00:19:47.890\nSo just want to make sure\nyou're thinking about that.\n\n390\n00:19:47.890 --> 00:19:52.810\nThis is actually going to be available\nto us starting in 2012, right?\n\n391\n00:19:52.810 --> 00:19:55.110\nSo we do have this capability\ngoing back a little bit.\n\n392\n00:19:55.110 --> 00:19:55.830\nSo just be aware of that.\n\n393\n00:19:55.830 --> 00:19:59.370\nWe can actually set up a pool exclusion\nlist, meaning, hey I want these ports cuz\n\n394\n00:19:59.370 --> 00:20:01.520\na lot of times we talk about this\nwhen people say, well that's great,\n\n395\n00:20:01.520 --> 00:20:04.430\nbut what if you start choosing\nports that everybody else is using?\n\n396\n00:20:04.430 --> 00:20:05.130\nHow does that work?\n\n397\n00:20:05.130 --> 00:20:06.100\nWell, no big deal.\n\n398\n00:20:06.100 --> 00:20:10.310\nSet up a pool exclusion list, and\nby doing that we'll be able to, and\n\n399\n00:20:10.310 --> 00:20:14.020\nyou could see the command for the port\nexclusion, or excluded port ranges right\n\n400\n00:20:14.020 --> 00:20:18.640\nbelow there, socket pools, right,\nexclude port or exclude port ranges.\n\n401\n00:20:18.640 --> 00:20:21.050\nSo you'd be able to set that up\nwith no trouble starting in 2012,\n\n402\n00:20:21.050 --> 00:20:25.260\n12 R2 and now 16 can actually exclude\nthe ports that are part of the pool.\n\n403\n00:20:25.260 --> 00:20:27.290\nSo we have the capability\nto be able to do this.\n\n404\n00:20:27.290 --> 00:20:29.700\nWe're looking for socket pool size.\n\n405\n00:20:29.700 --> 00:20:34.470\nI think I may have passed it already, but\nlet's just take a quick look down here.\n\n406\n00:20:34.470 --> 00:20:36.799\nMaybe down here as well\nbecause you never know.\n\n407\n00:20:36.799 --> 00:20:42.600\nI don't remember seeing it up above,\nbut let me see.\n\n408\n00:20:42.600 --> 00:20:43.640\nNope, I don't see it there.\n\n409\n00:20:43.640 --> 00:20:44.480\nIt's probably up above.\n\n410\n00:20:44.480 --> 00:20:46.800\nBut we're looking for socket pool size.\n\n411\n00:20:46.800 --> 00:20:48.449\nThat's the parameter we would use.\n\n412\n00:20:48.449 --> 00:20:51.740\nLet's see if we could just find it real\nquick for you, and we'll highlight it.\n\n413\n00:20:51.740 --> 00:20:52.449\nKeep your eyes open there, Cherokee.\n\n414\n00:20:52.449 --> 00:20:53.102\n&gt;&gt; I'm trying, yes.\n\n415\n00:20:53.102 --> 00:20:56.660\n&gt;&gt; In case I run past it\nwithout paying attention.\n\n416\n00:20:56.660 --> 00:20:59.100\nThis is, again,\nwhy you want the list to be.\n\n417\n00:20:59.100 --> 00:21:00.011\n&gt;&gt; In alphabetical order?\n\n418\n00:21:00.011 --> 00:21:00.553\n&gt;&gt; Yeah, all right, so\nlet me see, this is-\n\n419\n00:21:00.553 --> 00:21:02.194\n&gt;&gt; Yeah, I don't see it.\n\n420\n00:21:02.194 --> 00:21:05.170\n&gt;&gt; Or actually no, I know,\nyeah, it should be there.\n\n421\n00:21:05.170 --> 00:21:09.310\nLet me just see cuz we should\nhave the ability under\n\n422\n00:21:10.560 --> 00:21:12.280\nconfig to do socket pool size.\n\n423\n00:21:13.730 --> 00:21:16.130\nSo just while we're looking for that-\n&gt;&gt; [CROSSTALK]\n\n424\n00:21:16.130 --> 00:21:17.744\n&gt;&gt; For studying you might even wanna just\n\n425\n00:21:17.744 --> 00:21:19.714\nkind of copy and paste this into Notepad.\n\n426\n00:21:19.714 --> 00:21:20.314\n&gt;&gt; Absolutely.\n\n427\n00:21:20.314 --> 00:21:21.875\n&gt;&gt; And then rearrange it that way.\n\n428\n00:21:21.875 --> 00:21:26.597\n&gt;&gt; Yeah, there's socket pool excludes,\nthat's your secondary.\n\n429\n00:21:26.597 --> 00:21:32.170\nThat's the zone properties secure,\n&gt;&gt; Do we have it in our notes?\n\n430\n00:21:32.170 --> 00:21:33.000\nLet's see.\n\n431\n00:21:33.000 --> 00:21:34.390\n&gt;&gt; I have the information\nin the notes here.\n\n432\n00:21:34.390 --> 00:21:35.770\nI do have the command in the notes.\n\n433\n00:21:35.770 --> 00:21:38.230\nDNS command forward slash\nconfig socket pool size,\n\n434\n00:21:38.230 --> 00:21:40.190\nI'm just not seeing the item listed.\n\n435\n00:21:40.190 --> 00:21:42.430\nBut it would just simply\nbe socket pool size.\n\n436\n00:21:42.430 --> 00:21:46.720\nIt's just DNS command, config,\nsocket pool size, specify the value.\n\n437\n00:21:46.720 --> 00:21:48.780\nAgain, restart and you'll have it there.\n\n438\n00:21:48.780 --> 00:21:51.080\nJust keep that in mind so\nyou know how to set that up.\n\n439\n00:21:51.080 --> 00:21:52.720\nBut that's gonna be a good one as well.\n\n440\n00:21:52.720 --> 00:21:54.080\nWe talked about DANE a little bit.\n\n441\n00:21:54.080 --> 00:21:58.380\nI explained that, we talked about RRL,\nwe talked about unknown record support,\n\n442\n00:21:58.380 --> 00:22:00.890\nI just wanna make sure that we\nremind you of those things.\n\n443\n00:22:00.890 --> 00:22:03.140\nLets take a look, just minimize here.\n\n444\n00:22:04.400 --> 00:22:07.540\nLet's take a look, or begin to think\nabout the thought process of the NSF.\n\n445\n00:22:07.540 --> 00:22:11.820\nLet's just sketch out at a high level what\nDNSSEC is gonna do for us actually to\n\n446\n00:22:11.820 --> 00:22:15.325\nstart that process before we go in there\nand we take a look at what to click on.\n\n447\n00:22:15.325 --> 00:22:19.300\nLet's just go right here and,\nwhere was, there we go, right there.\n\n448\n00:22:19.300 --> 00:22:23.810\nSo DNSSEC, right, if you're thinking about\nDNSSEC, I mentioned we always try to show\n\n449\n00:22:23.810 --> 00:22:27.820\nyou those overview pages on TechNet or\nwhere to go to find more information.\n\n450\n00:22:27.820 --> 00:22:30.498\nI mentioned that DNSSEC's been around for\na little bit.\n\n451\n00:22:30.498 --> 00:22:35.110\nIt is gonna allow us to digitally sign\nour zone files using some additional new\n\n452\n00:22:35.110 --> 00:22:36.260\nresource records.\n\n453\n00:22:36.260 --> 00:22:39.480\nThat's gonna then give us the capability\nto provide nonrepudiation,\n\n454\n00:22:39.480 --> 00:22:44.295\nproof of origin integrity,\nfurther securing, further locking down and\n\n455\n00:22:44.295 --> 00:22:46.745\ncontrolling the identity and\ntrust chains so\n\n456\n00:22:46.745 --> 00:22:50.505\nthat people understand where our zones are\ncoming from and that they are authentic.\n\n457\n00:22:50.505 --> 00:22:53.475\nAnd as a result, they're not worried\nabout masquerading, spoofing,\n\n458\n00:22:53.475 --> 00:22:56.135\nman in the middle,\nthese kind of things that can occur.\n\n459\n00:22:56.135 --> 00:22:58.355\nSo DNSSEC is really important.\n\n460\n00:22:58.355 --> 00:23:02.450\nIt's been around, I wanna say probably for\n\n461\n00:23:02.450 --> 00:23:06.360\nat least three, four years now,\nmaybe longer in the Windows world.\n\n462\n00:23:06.360 --> 00:23:09.960\nThe update on this one,\nyou could see, is February of 2014.\n\n463\n00:23:09.960 --> 00:23:13.300\nApplies to Server 12 and 12 R2.\n\n464\n00:23:13.300 --> 00:23:17.280\nSo it's going back several versions in\nterms of its ability to work for us.\n\n465\n00:23:17.280 --> 00:23:18.680\nWe're in Server 16 now.\n\n466\n00:23:18.680 --> 00:23:20.700\nWe've had that capability for a while.\n\n467\n00:23:20.700 --> 00:23:23.580\nA little bit late to the game in\nthe sense that it was working and\n\n468\n00:23:23.580 --> 00:23:26.720\nout there before we decided to really\nstart working with it in Windows.\n\n469\n00:23:26.720 --> 00:23:30.820\nDNSSEC had been around for\nawhile before that in alternate platforms.\n\n470\n00:23:30.820 --> 00:23:34.570\nWe talked about the use\nof non-Windows DNS, BIND,\n\n471\n00:23:34.570 --> 00:23:38.310\nas Cherokee has talked about before,\nand so we may or\n\n472\n00:23:38.310 --> 00:23:42.980\nmay not have seen DNSSEC prior to actually\nstarting to work with it here, but\n\n473\n00:23:42.980 --> 00:23:45.010\nit's really nothing that's complicated.\n\n474\n00:23:45.010 --> 00:23:47.029\nIt's just a matter of\nunderstanding the logic.\n\n475\n00:23:47.029 --> 00:23:51.800\nThe idea of DNSSEC is really just using\nthe ability to provide authenticity and\n\n476\n00:23:51.800 --> 00:23:56.211\nintegrity controls around our DNS\nresources, specifically our zone,\n\n477\n00:23:56.211 --> 00:24:00.858\nour zone files, and the resource\nrecords that validate that information.\n\n478\n00:24:00.858 --> 00:24:04.305\nNothing more than that, we make it sound\nlike it's pretty impressive it does\n\n479\n00:24:04.305 --> 00:24:06.680\na whole bunch of stuff and\nit does by the way.\n\n480\n00:24:06.680 --> 00:24:10.550\nDon't get me wrong, I wanna make sure you\nunderstand incredibly valuable technology.\n\n481\n00:24:10.550 --> 00:24:14.000\nBut the reality is it's not\noverly complicated, right?\n\n482\n00:24:14.000 --> 00:24:16.920\nSo what we're gonna do is go in and\n\n483\n00:24:16.920 --> 00:24:20.470\nyou'll see, just to set this up and\ngive you a quick high level idea,\n\n484\n00:24:20.470 --> 00:24:24.370\nwant to explain a couple of the key\nconcepts here before we get going.\n\n485\n00:24:24.370 --> 00:24:27.250\nAnd then, I think we're gonna ultimately\nwind up having a part two and\n\n486\n00:24:27.250 --> 00:24:30.430\nactually do the hands on\npiece cuz DNS second and\n\n487\n00:24:30.430 --> 00:24:33.710\ntakes about 20 to 30 minutes to demo for\nyou, and\n\n488\n00:24:33.710 --> 00:24:36.420\nwe're not going to have enough time to run\nthrough the whole thing in this episode.\n\n489\n00:24:36.420 --> 00:24:39.030\nBut we will definitely go through,\ntalk about the logic of it, and\n\n490\n00:24:39.030 --> 00:24:41.530\nthen we'll come back and actually\nrun through setting it up for you.\n\n491\n00:24:41.530 --> 00:24:45.010\nSo we'll go back to our machine there,\nthank you very much.\n\n492\n00:24:45.010 --> 00:24:47.660\nWhat we'll see is we have,\nor I've just created a zone,\n\n493\n00:24:47.660 --> 00:24:51.325\nnothing special about the zone,\nActive Directory integrated primary zone.\n\n494\n00:24:51.325 --> 00:24:54.337\nIt's called secure.practicelabs.com,\nwe'll be using that.\n\n495\n00:24:54.337 --> 00:24:56.485\nYou'll see that when we come\nback in the next episode and\n\n496\n00:24:56.485 --> 00:24:57.900\nwe'll start working with it.\n\n497\n00:24:57.900 --> 00:25:00.740\nBut what we're basically gonna do,\nis we'll be able to come in here,\n\n498\n00:25:01.870 --> 00:25:04.860\nwe'll be able to go to our DNS Sec menu,\nto right there.\n\n499\n00:25:04.860 --> 00:25:07.040\nAnd the first step's gonna\nbe ultimately sign the zone,\n\n500\n00:25:07.040 --> 00:25:11.290\nand it's probably a good idea quickly,\nmaybe right now, for us to chat for\n\n501\n00:25:11.290 --> 00:25:14.710\na moment about what signing something,\ndigitally signing something, really means.\n\n502\n00:25:14.710 --> 00:25:17.600\nYou know, we haven't done the whole,\nhey, this is cryptography and\n\n503\n00:25:17.600 --> 00:25:19.320\nthis is how you do it conversation.\n\n504\n00:25:19.320 --> 00:25:22.290\nCuz that's not really what the focus\nof networking in Windows for\n\n505\n00:25:22.290 --> 00:25:23.860\nServer 16 is all about.\n\n506\n00:25:23.860 --> 00:25:26.540\nBut it is one of those underlying items,\nthose knowledge items,\n\n507\n00:25:26.540 --> 00:25:28.730\nthat is really important to\nunderstand the technology.\n\n508\n00:25:28.730 --> 00:25:32.830\nAnd so, we're going to give you two-minute\nprimer on how this works really quickly\n\n509\n00:25:32.830 --> 00:25:34.192\njust so you understand that.\n\n510\n00:25:34.192 --> 00:25:36.600\nCherokee is super excited about this cuz\nI didn't tell ahead of time that we're\n\n511\n00:25:36.600 --> 00:25:37.550\ngonna do this.\n\n512\n00:25:37.550 --> 00:25:39.010\nShe's like, if you would have told me.\n\n513\n00:25:39.010 --> 00:25:41.980\n&gt;&gt; But you know what, that's okay Adam,\nbecause I hosted with you for\n\n514\n00:25:41.980 --> 00:25:45.320\nseveral other cryptography\ncryptanalysis series.\n\n515\n00:25:45.320 --> 00:25:47.550\n&gt;&gt; Which is why I'm gonna let\nyou drive this conversation and\n\n516\n00:25:47.550 --> 00:25:48.740\nactually let you do this part.\n\n517\n00:25:48.740 --> 00:25:52.070\nAll right, so we have talked,\nwe have talked about this.\n\n518\n00:25:52.070 --> 00:25:55.000\nLet's talk about signing,\nwithout putting Cherokee on the spot.\n\n519\n00:25:55.000 --> 00:25:57.770\nI'm gonna actually have\na conversation with you.\n\n520\n00:25:57.770 --> 00:26:00.040\nI'm not gonna make you have\nthe conversation by yourself.\n\n521\n00:26:00.040 --> 00:26:02.690\nBut you let's think about\nthe logic of what signing means.\n\n522\n00:26:02.690 --> 00:26:04.140\n&gt;&gt; Okay.\n&gt;&gt; For those of you who may not have seen\n\n523\n00:26:04.140 --> 00:26:07.970\nthose episodes in other shoes around\nsecurity and stuff we've done, it's very,\n\n524\n00:26:07.970 --> 00:26:10.630\nvery simple technology,\nvery, very simple process.\n\n525\n00:26:10.630 --> 00:26:12.520\nWhen we wanna digitally sign something,\n\n526\n00:26:12.520 --> 00:26:17.540\nwhat we're essentially doing is providing\nproof of our identity as the owner,\n\n527\n00:26:17.540 --> 00:26:21.120\nthe signer, the signature, the originator\nof that content, whatever it is.\n\n528\n00:26:21.120 --> 00:26:26.330\nCould be an email, could be a file that\nwe wanna represent integrity around and\n\n529\n00:26:26.330 --> 00:26:28.960\nhash in order to provide that capability.\n\n530\n00:26:28.960 --> 00:26:31.230\nCould be all sorts of different things,\nbut\n\n531\n00:26:31.230 --> 00:26:35.010\nwhat we're doing with digital signing\nis we're using a hashing algorithm.\n\n532\n00:26:35.010 --> 00:26:37.500\nAnd there's lots of different\nhashing algorithms, right?\n\n533\n00:26:37.500 --> 00:26:39.370\nYou got a favorite?\n\n534\n00:26:39.370 --> 00:26:42.180\n&gt;&gt; I don't think you liked\nthe one I said the other day for-\n\n535\n00:26:42.180 --> 00:26:42.919\n&gt;&gt; Which one?\n\n536\n00:26:42.919 --> 00:26:44.247\nYou said SHA.\n&gt;&gt; SHA-256.\n\n537\n00:26:44.247 --> 00:26:44.774\n&gt;&gt; 256 or something, right?\n\n538\n00:26:44.774 --> 00:26:46.437\n&gt;&gt; And then you said, what about MD5?\n\n539\n00:26:46.437 --> 00:26:47.819\nAnd yes, what about MD5?\n\n540\n00:26:47.819 --> 00:26:50.019\n&gt;&gt; Okay, so, well I said, but\nthere were other SHA ones.\n\n541\n00:26:50.019 --> 00:26:55.170\nI said 160, SHA-512,\nthere's Ripe and D160, right?\n\n542\n00:26:55.170 --> 00:26:56.930\nThere's all sorts of different ones.\n\n543\n00:26:56.930 --> 00:26:58.590\nThere's hundreds of them\nout there potentially,\n\n544\n00:26:58.590 --> 00:26:59.720\ndepending on what you wanna do.\n\n545\n00:26:59.720 --> 00:27:02.310\nBut the cognitive ones are ones like\nCherokee and I were mentioning.\n\n546\n00:27:02.310 --> 00:27:04.730\nThere's MD5, MD for Message Digest.\n\n547\n00:27:04.730 --> 00:27:07.070\nSo the Message Digest series.\n\n548\n00:27:07.070 --> 00:27:09.450\nMD5 probably the most common and\nwell-known of them.\n\n549\n00:27:09.450 --> 00:27:11.840\nThere's the SHA algorithm set.\n\n550\n00:27:11.840 --> 00:27:14.814\nSHA, S-H-A, stands for\nSecure Hashing Algorithm.\n\n551\n00:27:14.814 --> 00:27:19.520\nSHA-1, 160, SHA-256, SHA-512, etc.\n\n552\n00:27:19.520 --> 00:27:23.320\nNow, the thing about hashing, about\ndigitally signing, is that we are not\n\n553\n00:27:23.320 --> 00:27:27.180\ntrying to provide cryptography\nprotection in the traditional sense.\n\n554\n00:27:27.180 --> 00:27:30.590\nWe are not providing what we\ncould call confidentiality.\n\n555\n00:27:30.590 --> 00:27:33.780\nMeaning, we're not trying to hide\nthe data, we're not trying to encrypt it,\n\n556\n00:27:33.780 --> 00:27:34.910\nwhich is what we often say and\n\n557\n00:27:34.910 --> 00:27:39.630\nwhat we refer to when we think of\ntraditional cryptography protections or\n\n558\n00:27:39.630 --> 00:27:42.200\nconfidentiality protections,\nso with security.\n\n559\n00:27:42.200 --> 00:27:47.190\nSo, when we digitally sign our zone file,\nwhat we don't\n\n560\n00:27:47.190 --> 00:27:51.010\nwant you to think is gonna happen is that\nwe're gonna encrypt that zone and in so\n\n561\n00:27:51.010 --> 00:27:55.030\ndoing not allow people to see it unless\nthey understand how to decrypt it.\n\n562\n00:27:55.030 --> 00:27:57.370\nThat's not what we're\nlooking to ultimately do.\n\n563\n00:27:57.370 --> 00:28:00.370\nWhat we're looking to\ndo is we're looking to-\n\n564\n00:28:00.370 --> 00:28:01.970\n&gt;&gt; Maintain integrity?\n\n565\n00:28:01.970 --> 00:28:03.820\n&gt;&gt; Sign, maintain integrity.\n\n566\n00:28:03.820 --> 00:28:07.660\nNow what confuses people is we say well,\nwe're signing cryptographically.\n\n567\n00:28:07.660 --> 00:28:09.900\nAnd people get confused\nby that because they say,\n\n568\n00:28:09.900 --> 00:28:14.030\nwell, you're saying cryptography,\nyou are encrypting something when you do\n\n569\n00:28:14.030 --> 00:28:16.680\nthat traditionally, so\nmaybe are encrypting.\n\n570\n00:28:16.680 --> 00:28:19.330\nWell, what we're really doing\nis we're providing integrity\n\n571\n00:28:19.330 --> 00:28:20.640\nas Cherokee was saying.\n\n572\n00:28:20.640 --> 00:28:25.620\nAnd we are providing a mechanism that\nallows us to validate that the person,\n\n573\n00:28:25.620 --> 00:28:30.220\nor the entity whoever or whatever it is,\nthat provided the signature did so\n\n574\n00:28:30.220 --> 00:28:33.610\nin a way that could be\nauthoritatively trace back to them.\n\n575\n00:28:33.610 --> 00:28:38.520\nAnd assuming nobody manipulates,\nmodifies the system, gets up to no good,\n\n576\n00:28:38.520 --> 00:28:43.020\nviolates very important precedent or\nvery important precept of what we talked\n\n577\n00:28:43.020 --> 00:28:47.000\nabout in cryptography, something known\nas Kerckhoffs' principle, right?\n\n578\n00:28:47.000 --> 00:28:48.820\nKerckhoffs said, Auguste Kerckhoffs,\n\n579\n00:28:48.820 --> 00:28:52.310\nthe gentlemen whose principle we are\ntalking about and who this is named after.\n\n580\n00:28:52.310 --> 00:28:56.020\nVery famous figure in\nthe history of cryptography.\n\n581\n00:28:56.020 --> 00:28:59.610\nBut cryptography and the thought\nprocess behind it is essentially, hey,\n\n582\n00:28:59.610 --> 00:29:01.090\nlet's keep information secret.\n\n583\n00:29:01.090 --> 00:29:04.560\nLet's keep it secure, let's provide a way\nfor people to see it if we want them too,\n\n584\n00:29:04.560 --> 00:29:07.200\nbut let's keep the good\ninformation away from bad people.\n\n585\n00:29:07.200 --> 00:29:09.250\nThat's generically what we say, right?\n\n586\n00:29:09.250 --> 00:29:13.070\nSo Kerckhoffs comes along and says,\nhey yeah, that's great, but you know what?\n\n587\n00:29:13.070 --> 00:29:14.400\nThere's all these moving parts and\n\n588\n00:29:14.400 --> 00:29:18.810\npieces that go into something that we\nnow commonly call the crypto system,\n\n589\n00:29:18.810 --> 00:29:21.310\nall the tools, and all the things\nassociated with how we do cryptography.\n\n590\n00:29:22.340 --> 00:29:26.077\nThere is the algorithm or algorithms\nwe've talked about some of those.\n\n591\n00:29:26.077 --> 00:29:27.634\nThere's what we call plain text,\n\n592\n00:29:27.634 --> 00:29:30.810\nthe data that's going into the system\nthat has not been modified yet.\n\n593\n00:29:30.810 --> 00:29:35.295\nThere's what we call cypher text, the\nencrypted data that comes out the backside\n\n594\n00:29:35.295 --> 00:29:39.325\nthat's been modified, the dog is\nblue becomes AB 12579 think hex,\n\n595\n00:29:39.325 --> 00:29:43.210\nthink IPv6 addressing,\nthink all that crazy stuff we looked at.\n\n596\n00:29:43.210 --> 00:29:45.540\nImagine you take a sentence\ncalled the dog is blue,\n\n597\n00:29:45.540 --> 00:29:48.850\ntranslate it into an IPv6 address,\nthat's encryption, right?\n\n598\n00:29:48.850 --> 00:29:52.970\nAnd the theory that we have transformed\nthat data into an unusable,\n\n599\n00:29:52.970 --> 00:29:56.420\nunreadable format for anybody who\ndoesn't understand what we did, and\n\n600\n00:29:56.420 --> 00:29:59.800\nhow to use that tool that will\nlet them walk it backwards\n\n601\n00:29:59.800 --> 00:30:02.430\nto essentially recreate\nthe data in a usable form.\n\n602\n00:30:02.430 --> 00:30:04.320\nThat's really what\ncryptography's all about.\n\n603\n00:30:04.320 --> 00:30:06.910\nSo this whole process is\nreferred to as the crypto system.\n\n604\n00:30:06.910 --> 00:30:09.090\nKerckhoffs has the brilliant insight and\nsays,\n\n605\n00:30:09.090 --> 00:30:11.460\nthere's all these moving parts and pieces.\n\n606\n00:30:11.460 --> 00:30:15.540\nAnd the attacker, the bad actor,\nis looking to get into that system and\n\n607\n00:30:15.540 --> 00:30:18.260\nultimately wants to be able\nto read not just one message.\n\n608\n00:30:18.260 --> 00:30:22.970\nBut any or all messages created with the\ncrypted system, all the encrypted text,\n\n609\n00:30:22.970 --> 00:30:24.230\nall the encrypted data,\n\n610\n00:30:24.230 --> 00:30:27.100\ncuz that's the goal of somebody\nwho wants to break encryption.\n\n611\n00:30:27.100 --> 00:30:29.282\n&gt;&gt; So there is one key component.\n\n612\n00:30:29.282 --> 00:30:31.698\n&gt;&gt; That was good,\nthat was very subtle, I like that.\n\n613\n00:30:31.698 --> 00:30:32.935\n&gt;&gt; Believe me, I remember,\nI remember all of this.\n\n614\n00:30:32.935 --> 00:30:36.879\n&gt;&gt; There is one key component, so there is\none special thing, Kerckhoffs says, you\n\n615\n00:30:36.879 --> 00:30:41.170\nknow what out of all the movement, parts\nand pieces, you can give away everything.\n\n616\n00:30:41.170 --> 00:30:43.300\nTell the bad actor what\nalgorithms you're using.\n\n617\n00:30:43.300 --> 00:30:46.260\nTell them what the cipher data is,\nthe cipher text.\n\n618\n00:30:46.260 --> 00:30:48.100\nTell them how you set the system up.\n\n619\n00:30:48.100 --> 00:30:50.650\nTell them anything they want to know,\nwith one exception.\n\n620\n00:30:50.650 --> 00:30:51.980\nKeep what we call the private key.\n\n621\n00:30:51.980 --> 00:30:56.780\nThe special key given to each individual\nuser in the system, unique to them.\n\n622\n00:30:56.780 --> 00:30:57.920\nKeep that private key secure.\n\n623\n00:30:57.920 --> 00:31:02.020\nAnd of you keep that key secure and\nyou expose everything else and\n\n624\n00:31:02.020 --> 00:31:04.920\nthe system is structurally\nsound architected well,\n\n625\n00:31:04.920 --> 00:31:08.370\nbuilt to the proper best\npractice standards of the day.\n\n626\n00:31:08.370 --> 00:31:11.320\nMeaning, incredibly large\namounts of keys you use, so\n\n627\n00:31:11.320 --> 00:31:13.200\nyou hide the possibility\nof finding the key.\n\n628\n00:31:13.200 --> 00:31:16.360\nWe call that the key space,\nkey space has to be incredibly big.\n\n629\n00:31:16.360 --> 00:31:19.520\nWe talked about work factor,\nthe measure of time it takes to break\n\n630\n00:31:19.520 --> 00:31:22.310\nthe crypto system,\nthat's got to also be very large.\n\n631\n00:31:22.310 --> 00:31:25.730\nThe larger or\nthe more difficult the system is,\n\n632\n00:31:25.730 --> 00:31:29.110\nthe bigger the amount of time and the\nlarger the pool of keys we could possibly\n\n633\n00:31:29.110 --> 00:31:31.230\nchoose from, the harder it is to break.\n\n634\n00:31:31.230 --> 00:31:34.150\nSo, Kerckhoffs says, hey,\nmake sure you do all that stuff.\n\n635\n00:31:34.150 --> 00:31:38.468\nKeep everything that you have to know\nabout the system readily at hand.\n\n636\n00:31:38.468 --> 00:31:43.640\nUse it only one thing you gotta keep\nsecure, keep the private key secure.\n\n637\n00:31:43.640 --> 00:31:44.420\nDon't ever give that away.\n\n638\n00:31:44.420 --> 00:31:47.423\nIf you do that, the system should be and\nindeed will be secured.\n\n639\n00:31:47.423 --> 00:31:50.757\nAnd so what we focus on, what we did\ntruly signed is not this idea of,\n\n640\n00:31:50.757 --> 00:31:53.506\nhey let's keep the private key secure,\nlets go ahead,\n\n641\n00:31:53.506 --> 00:31:56.105\nlet's make sure nobody knows it,\nlet's encrypt.\n\n642\n00:31:56.105 --> 00:32:00.348\nBut rather We're focusing on, let's\nrepresent the data in an authoritative way\n\n643\n00:32:00.348 --> 00:32:04.036\nto make sure everybody knows that\nit's not been changed or modified and\n\n644\n00:32:04.036 --> 00:32:05.870\nknows where it came from.\n\n645\n00:32:05.870 --> 00:32:07.230\nThis is like change control.\n\n646\n00:32:07.230 --> 00:32:10.530\nThis is change management for\ndata inside of our systems.\n\n647\n00:32:10.530 --> 00:32:13.740\nThat's what really, ultimately,\ndigital signing is all about.\n\n648\n00:32:13.740 --> 00:32:17.080\nIt's about change control of\ndata to ensure integrity,\n\n649\n00:32:17.080 --> 00:32:18.810\nto ensure data has not been modified.\n\n650\n00:32:18.810 --> 00:32:21.570\nAnd so what we do is we\ndigitally sign the records.\n\n651\n00:32:21.570 --> 00:32:24.210\nNow in order to do that,\nwe have to use a hashing algorithm.\n\n652\n00:32:24.210 --> 00:32:27.390\nAnd we have to use unique\nvaluable identifier\n\n653\n00:32:27.390 --> 00:32:30.410\nthat only one person would\nhave control of and know.\n\n654\n00:32:30.410 --> 00:32:32.300\nWe go back to principle, right?\n\n655\n00:32:32.300 --> 00:32:33.520\nWe have our private key.\n\n656\n00:32:33.520 --> 00:32:38.190\nEvery individual in a system that uses\nPKI, Public Key Infrastructure, has or\n\n657\n00:32:38.190 --> 00:32:39.390\nwill be issued a private key.\n\n658\n00:32:39.390 --> 00:32:41.870\nTypically a public-private key pair.\n\n659\n00:32:41.870 --> 00:32:45.110\nWhat we call asymmetric cryptography.\n\n660\n00:32:45.110 --> 00:32:46.670\nPublic, private key pair.\n\n661\n00:32:46.670 --> 00:32:48.430\nAnd as a result, right?\n\n662\n00:32:48.430 --> 00:32:50.640\nIf we go ahead and\n\n663\n00:32:50.640 --> 00:32:55.680\nwe say I'm gonna use my private key,\nlet's say I wanna sign something, right?\n\n664\n00:32:55.680 --> 00:32:58.280\nAnd I want Cherokee to\nvalidate that I signed it.\n\n665\n00:32:58.280 --> 00:33:01.600\nIf I used my private key,\nknown only to me in theory.\n\n666\n00:33:01.600 --> 00:33:04.900\nAnd I use that to create the signature,\nright.\n\n667\n00:33:04.900 --> 00:33:06.480\nAnd then validate it.\n\n668\n00:33:06.480 --> 00:33:09.900\nWell the logic is that there's only one\nperson that could've done that unless\n\n669\n00:33:09.900 --> 00:33:11.610\nsomebody impersonates me.\n\n670\n00:33:11.610 --> 00:33:15.200\nAnd the system is not perfect,\nbut what the system provides for\n\n671\n00:33:15.200 --> 00:33:19.560\nis the logic that as long as I control my\nkey and I don't let anybody have it or\n\n672\n00:33:19.560 --> 00:33:24.450\nhave access to it, then the other side\nof that key, the pair or the public key.\n\n673\n00:33:24.450 --> 00:33:27.130\nThe other part of the key\npair can be used to\n\n674\n00:33:27.130 --> 00:33:30.810\nvalidate that the private key was used and\nthat they match.\n\n675\n00:33:30.810 --> 00:33:31.990\nThey're cryptographically related.\n\n676\n00:33:31.990 --> 00:33:34.050\nWhat we call mathematically related.\n\n677\n00:33:34.050 --> 00:33:37.070\nSo two keys, part of the same hole,\nbroken in half.\n\n678\n00:33:37.070 --> 00:33:41.130\nOne key can either encrypt or sign,\nthe other key can either decrypt or\n\n679\n00:33:41.130 --> 00:33:42.500\nvalidate the signature, right?\n\n680\n00:33:42.500 --> 00:33:45.870\nUse one key for one thing,\nthe other key is automatically used to do\n\n681\n00:33:45.870 --> 00:33:49.630\nthe exact opposite,\nto drive that representation.\n\n682\n00:33:49.630 --> 00:33:50.860\nAnd therefore that relationship.\n\n683\n00:33:50.860 --> 00:33:52.010\nHow am I doing so far?\n\n684\n00:33:52.010 --> 00:33:53.050\n&gt;&gt; Good.\n&gt;&gt; All right.\n\n685\n00:33:53.050 --> 00:33:54.975\nSo feel free to jump in here.\n\n686\n00:33:54.975 --> 00:33:59.022\n[CROSSTALK]\n&gt;&gt; Someone that may be studying,\n\n687\n00:33:59.022 --> 00:34:01.230\nthey might have come across\nthe term nonrepudiation.\n\n688\n00:34:01.230 --> 00:34:03.965\nYou hear that a lot and that's\nexactly what we're talking about here.\n\n689\n00:34:03.965 --> 00:34:06.780\nWhen we're talking about digitally\nsighting components like if\n\n690\n00:34:06.780 --> 00:34:07.920\nI were to send you a message,\n\n691\n00:34:07.920 --> 00:34:13.020\nI can't refute or repudiate the fact\nthat I had originated that message.\n\n692\n00:34:13.020 --> 00:34:14.940\nThat's the concept here, right?\n\n693\n00:34:14.940 --> 00:34:16.690\n&gt;&gt; That along with proof of origin, right?\n\n694\n00:34:16.690 --> 00:34:17.260\nWe're doing both.\n\n695\n00:34:17.260 --> 00:34:21.820\nBecause proof of origin is I\ndefinitely did send this, right,\n\n696\n00:34:21.820 --> 00:34:27.740\nthat was me, I used my key, and I can't\ndeny having done it is non-repudiation.\n\n697\n00:34:27.740 --> 00:34:28.760\nAnd so the two together,\n\n698\n00:34:28.760 --> 00:34:31.960\nproof of origin and non-repudiation,\nare what we ultimately establish.\n\n699\n00:34:31.960 --> 00:34:33.350\n&gt;&gt; Cool.\n&gt;&gt; Absolutely correct.\n\n700\n00:34:33.350 --> 00:34:35.440\nSo just keep in mind,\nwhen we come back and\n\n701\n00:34:35.440 --> 00:34:37.870\nstart to do the demo\nhere in the next episode.\n\n702\n00:34:37.870 --> 00:34:40.830\nAnd we go in and we start signing\nthe zone, and we do all this.\n\n703\n00:34:40.830 --> 00:34:44.080\nA little primer on just what\nsigning the zone's gonna mean.\n\n704\n00:34:44.080 --> 00:34:46.420\nBut ultimately,\nwe're gonna provide, hopefully,\n\n705\n00:34:46.420 --> 00:34:50.040\nirrefutable proof that whoever\nsigned the zone legitimately did so.\n\n706\n00:34:50.040 --> 00:34:54.210\nNow there is one possibility that helps us\nto understand that this is not fool proof.\n\n707\n00:34:54.210 --> 00:34:58.060\nI mentioned that normally, under normal\nconditions, this works, everything's fine,\n\n708\n00:34:58.060 --> 00:35:01.590\nno big deal, I signed it, I can validate I\nsigned it because anybody that looks at my\n\n709\n00:35:01.590 --> 00:35:05.890\nsignature can use the public key to figure\nout that my private key was used and\n\n710\n00:35:05.890 --> 00:35:08.370\ntherefore that my signature is valid.\n\n711\n00:35:08.370 --> 00:35:10.370\nNot that I'm exposing my private key but\n\n712\n00:35:10.370 --> 00:35:12.990\njust that I'm representing it\ncryptographically through the hash\n\n713\n00:35:12.990 --> 00:35:15.830\nin a way that lets it be\nvalidated without exposing it.\n\n714\n00:35:15.830 --> 00:35:18.710\nBut having said that,\nthere is one possibility here.\n\n715\n00:35:18.710 --> 00:35:20.600\nNot so much specific to DNS sec and\n\n716\n00:35:20.600 --> 00:35:23.930\nsigning of the zone but\nbroadly around digital signatures.\n\n717\n00:35:23.930 --> 00:35:26.270\nSo we just have to at least throw out and\nbe aware of.\n\n718\n00:35:26.270 --> 00:35:28.890\nThe idea that, and I hinted at this\nactually, it came right out and\n\n719\n00:35:28.890 --> 00:35:30.820\nsaid it through our conversation as well.\n\n720\n00:35:30.820 --> 00:35:34.010\nIf somebody were to impersonate me and\npretend to be me,\n\n721\n00:35:34.010 --> 00:35:37.750\nget my credential,\nmeaning ultimately they could log on,\n\n722\n00:35:37.750 --> 00:35:41.650\nvalidate their identity\nessentially as my own and\n\n723\n00:35:41.650 --> 00:35:46.490\nas a result get access to my private\nkey because it is tied to my identity.\n\n724\n00:35:46.490 --> 00:35:49.850\nPrivate keys are stored, for instance,\nin Windows right in the active directory.\n\n725\n00:35:49.850 --> 00:35:51.730\nThey're mapped to our user\naccounts traditionally.\n\n726\n00:35:51.730 --> 00:35:54.140\nThey're part of the LDAP\nproperties we store or\n\n727\n00:35:54.140 --> 00:35:58.052\ncertificates that represent those keys\nare usually mapped to user accounts and\n\n728\n00:35:58.052 --> 00:36:01.150\ntherefore are available\nto us when we log on.\n\n729\n00:36:01.150 --> 00:36:06.220\nIf that happens, if in theory,\nCherokee were to log on as me,\n\n730\n00:36:06.220 --> 00:36:09.060\nfind my username, my password,\npretend to be, get in.\n\n731\n00:36:09.060 --> 00:36:13.512\nAnd as far as the system knows,\nit is me and Cherokee goes and\n\n732\n00:36:13.512 --> 00:36:16.374\ndoes something using my credential.\n\n733\n00:36:16.374 --> 00:36:19.412\nEverybody will think it was me and\nthey would be legitimately,\n\n734\n00:36:19.412 --> 00:36:22.641\npartially right to say that because yes,\nmy credential was used.\n\n735\n00:36:22.641 --> 00:36:25.388\nBut the problem is it may not\nbe my fingers on the keyboard,\n\n736\n00:36:25.388 --> 00:36:26.914\nliterally may not have been me.\n\n737\n00:36:26.914 --> 00:36:30.279\nAnd this is why we talk about not just\ndoing, what we call single factor\n\n738\n00:36:30.279 --> 00:36:33.873\nauthentication, just log you in as\na user name and a password, right, but\n\n739\n00:36:33.873 --> 00:36:37.811\nwe actually talk to you about in security\nclasses and in episodes that Cherokee and\n\n740\n00:36:37.811 --> 00:36:40.810\nI've done, and\nyou've heard me say this many, many times.\n\n741\n00:36:40.810 --> 00:36:44.117\nYou've seen those episodes,\nnever use single factor authentication for\n\n742\n00:36:44.117 --> 00:36:47.476\nanything you wanna protect fully,\nbecause somebody can impersonate you,\n\n743\n00:36:47.476 --> 00:36:50.260\nthey can masquerade or\nspoof as you relatively easily.\n\n744\n00:36:50.260 --> 00:36:53.238\nWhat you need is what we call\nmulti-factor authentication, right?\n\n745\n00:36:53.238 --> 00:36:56.500\nThe ability to provide and\nprove identity beyond a reasonable doubt,\n\n746\n00:36:56.500 --> 00:37:00.400\nwith more than just one form of identity\nand we talked about three forms,\n\n747\n00:37:00.400 --> 00:37:01.260\nyou remember what they are?\n\n748\n00:37:01.260 --> 00:37:01.820\n&gt;&gt; I sure do.\n\n749\n00:37:01.820 --> 00:37:02.650\n&gt;&gt; What are they?\n\n750\n00:37:02.650 --> 00:37:05.520\n&gt;&gt; Something you are,\nsomething you know and something you have?\n\n751\n00:37:05.520 --> 00:37:06.240\n&gt;&gt; Something you have,\n\n752\n00:37:06.240 --> 00:37:10.660\nno order to them, no priority, they're all\nthe same but yeah we would wanna mix and\n\n753\n00:37:10.660 --> 00:37:16.170\nmatch those factors together to provide\na stronger level of authentication.\n\n754\n00:37:16.170 --> 00:37:19.530\nSo instead of me just letting\nCherokee potentially impersonate me,\n\n755\n00:37:19.530 --> 00:37:21.070\nlog on with my username and\n\n756\n00:37:21.070 --> 00:37:25.600\nmy password, maybe I also use biometrics\nin order to further validate my identity.\n\n757\n00:37:25.600 --> 00:37:28.660\nAnd she would have to actually not just\nhave my username and my password, but\n\n758\n00:37:28.660 --> 00:37:32.430\nmaybe an iris scan, a retina scan,\nsomething unique to me.\n\n759\n00:37:32.430 --> 00:37:35.090\nMaybe, she would have to have\nKnowledge not just of that, but\n\n760\n00:37:35.090 --> 00:37:37.520\nmaybe there's a PIN\nassociated with my account.\n\n761\n00:37:37.520 --> 00:37:38.550\nSo something I have.\n\n762\n00:37:38.550 --> 00:37:39.170\nSomething I know.\n\n763\n00:37:39.170 --> 00:37:41.380\nSomething I am, right?\n\n764\n00:37:41.380 --> 00:37:43.050\nAnd maybe in addition to all that,\n\n765\n00:37:43.050 --> 00:37:46.920\nshe needs a smart card with identity\ninformation embedded in it, right?\n\n766\n00:37:46.920 --> 00:37:49.720\nWe may call this a cat card depending\non where you come from, what you know.\n\n767\n00:37:49.720 --> 00:37:53.580\nWhatever it is, if she has to put a card\nwith a chip in it with certificates,\n\n768\n00:37:53.580 --> 00:37:54.890\nthings like that, and a reader.\n\n769\n00:37:54.890 --> 00:37:57.710\nProviding user name and\na password and a biometric scan.\n\n770\n00:37:57.710 --> 00:38:01.430\nHighly unlikely, she's gonna be able\nto impersonate me and as a result\n\n771\n00:38:01.430 --> 00:38:06.200\nthe level of authenticity and trust in\nthat signature goes way up, because\n\n772\n00:38:06.200 --> 00:38:09.620\nit's highly unlikely, that somebody\nis gonna be able to impersonate that.\n\n773\n00:38:09.620 --> 00:38:13.058\nJust keep all those things in mind as\nwe wrap up our initial discussion here.\n\n774\n00:38:13.058 --> 00:38:17.500\nA lot more information probably than you\nwere ever expecting to hear discussed\n\n775\n00:38:17.500 --> 00:38:22.559\naround networking in Windows 2016,\neven security around DNS in Windows 2016.\n\n776\n00:38:22.559 --> 00:38:25.912\nBut that underlying knowledge we just\nshared with you is really critical to help\n\n777\n00:38:25.912 --> 00:38:29.080\nyou understand what we're about to show\nyou how to do in the upcoming demo.\n\n778\n00:38:29.080 --> 00:38:32.700\nAnd if you don't understand the logic\nof signatures, while you watch us and\n\n779\n00:38:32.700 --> 00:38:35.870\ngo yeah I get the theory, you don't really\nunderstand why it works the way it does.\n\n780\n00:38:35.870 --> 00:38:38.300\nNow at least you understand\nthe logic of what we're about to do.\n\n781\n00:38:38.300 --> 00:38:41.230\n&gt;&gt; Well, yeah you can tell we're adding\nadditional layers of security and\n\n782\n00:38:41.230 --> 00:38:44.660\nthat's what we're talking about right\nhere because if I take that advice and\n\n783\n00:38:44.660 --> 00:38:47.090\nuse that multi-factor authentication,\nI'm a user,\n\n784\n00:38:47.090 --> 00:38:50.370\nI log in to my work station,\nI'm connected to the domain.\n\n785\n00:38:50.370 --> 00:38:54.300\nThen I've authenticated\nto have that DNS service.\n\n786\n00:38:54.300 --> 00:38:57.430\nAnd then now,\nthat DNS server has to authenticate, so\n\n787\n00:38:57.430 --> 00:38:58.940\nwe have mutual authentication.\n\n788\n00:38:58.940 --> 00:39:02.810\nAnd that's just, we're adding the layers\nto our security environment here, right,\n\n789\n00:39:02.810 --> 00:39:04.430\nso that's something we\nshould be thinking about.\n\n790\n00:39:04.430 --> 00:39:05.970\n&gt;&gt; We should be, absolutely.\n\n791\n00:39:05.970 --> 00:39:08.810\n&gt;&gt; All right, so it looks like we\nare out of time for this episode.\n\n792\n00:39:08.810 --> 00:39:09.982\nWe're gonna go ahead and sign out.\n\n793\n00:39:09.982 --> 00:39:13.620\nBut, stay tuned,\nwe have more DNSSEC headed your way.\n\n794\n00:39:13.620 --> 00:39:16.000\nRemember, I'm your host, Cherokee Boose.\n\n795\n00:39:16.000 --> 00:39:16.690\n&gt;&gt; I'm Adam Gordon.\n\n796\n00:39:16.690 --> 00:39:18.815\n&gt;&gt; See you next time here at ITProTV.\n\n797\n00:39:18.815 --> 00:39:24.535\n[MUSIC]\n\n798\n00:39:24.535 --> 00:39:27.983\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217179183"
        },
        {
          "description": "In this show, Cherokee and Adam elaborate on digital signatures and how they are contained in new DNSSEC related resource records that are generated and added to the zone during zone signing. Adam begins a demonstration to show how to implement DNSSEC. Adam shows how digital signatures can be assigned to a zone.",
          "length": "2026",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-2-2-implementing_dnssec_pt2-051117-PGM.00_00_11_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-2-2-implementing_dnssec_pt2-051117-PGM.00_00_11_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-2-2-implementing_dnssec_pt2-051117-PGM.00_00_11_22.Still001-sm.jpg",
          "title": "Implementing DNSSEC Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:01.519\nWelcome to ITProTV.\n\n2\n00:00:01.519 --> 00:00:06.180\nI'm your host, Don [CROSSTALK]\n\n3\n00:00:06.180 --> 00:00:08.356\n[MUSIC]\n\n4\n00:00:08.356 --> 00:00:11.961\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.961 --> 00:00:15.178\n&gt;&gt; Welcome to your Networking\nwith Windows Server 2016 series.\n\n6\n00:00:15.178 --> 00:00:17.359\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.359 --> 00:00:21.215\nIn the previous episode, Adam showed us\nsome really cool new DNSSEC features, and\n\n8\n00:00:21.215 --> 00:00:22.937\nthen we talked about security a bit.\n\n9\n00:00:22.937 --> 00:00:25.116\nBut we're gonna go ahead and continue and\n\n10\n00:00:25.116 --> 00:00:29.423\nround off that conversation as well as\na demonstration with Mr Adam Gordon today.\n\n11\n00:00:29.423 --> 00:00:30.564\nHow are you doing today, Adam?\n\n12\n00:00:30.564 --> 00:00:31.983\n&gt;&gt; Good, good, very good.\n\n13\n00:00:31.983 --> 00:00:35.440\nHopefully everybody is doing as well.\n\n14\n00:00:35.440 --> 00:00:36.464\nLet us continue.\n\n15\n00:00:36.464 --> 00:00:39.569\nWe left off in our prior episode kinda\nsetting up, setting the stage for\n\n16\n00:00:39.569 --> 00:00:41.020\nexplaining the background of and\n\n17\n00:00:41.020 --> 00:00:43.686\npreviewing where we're gonna\ngo to actually set up DNSSEC.\n\n18\n00:00:43.686 --> 00:00:46.846\nBut we hadn't really done anything other\nthan show you that we could right-click\n\n19\n00:00:46.846 --> 00:00:49.062\nand in theory,\nclick on a button that said Sign the zone.\n\n20\n00:00:49.062 --> 00:00:51.138\nBut we're gonna actually go through and\nstart that process right now.\n\n21\n00:00:51.138 --> 00:00:52.689\nSo if you join me in the console,\n\n22\n00:00:52.689 --> 00:00:55.110\nwhat we're gonna do is just\npick up where we were.\n\n23\n00:00:55.110 --> 00:01:00.441\nWe're on our domain controller plat DC01\nwith our Active Directory integrated DNS,\n\n24\n00:01:00.441 --> 00:01:03.251\nwe've got our practicelabs.com zone file,\n\n25\n00:01:03.251 --> 00:01:06.363\nthe one you've been seeing\nus work with on and off.\n\n26\n00:01:06.363 --> 00:01:09.847\nWe've had another one created as I\nmentioned to you, I went ahead and\n\n27\n00:01:09.847 --> 00:01:13.094\ncreated something called\nsecure.practicelabs.com just for\n\n28\n00:01:13.094 --> 00:01:15.148\npurposes of our DNSSEC demonstration.\n\n29\n00:01:15.148 --> 00:01:16.720\nSo we'll use this zone.\n\n30\n00:01:16.720 --> 00:01:20.400\nI got a couple of resource records in\nhere, a couple of host records over here.\n\n31\n00:01:20.400 --> 00:01:22.438\nWe'll get to those at some point.\n\n32\n00:01:22.438 --> 00:01:23.344\nSo we're ready to go.\n\n33\n00:01:23.344 --> 00:01:24.656\nSo we're just gonna right-click.\n\n34\n00:01:24.656 --> 00:01:27.686\nAnd we're gonna start,\ncome down here to DNSSEC in our menu.\n\n35\n00:01:27.686 --> 00:01:30.727\nAnd right now the only thing that's\navailable to us, cuz we haven't done\n\n36\n00:01:30.727 --> 00:01:33.392\nanything yet other than get ready\nto use this, is sign the zone.\n\n37\n00:01:33.392 --> 00:01:37.772\nYou'll see in theory once we sign it\nwe would be able to unsign it, if for\n\n38\n00:01:37.772 --> 00:01:42.322\nsome reason we wanted to remove DNSSEC or\ndecide to turn it off if you will.\n\n39\n00:01:42.322 --> 00:01:44.343\nWe can look at Properties of\ncourse once we do that, but\n\n40\n00:01:44.343 --> 00:01:45.520\nthose are grayed out for the moment.\n\n41\n00:01:45.520 --> 00:01:47.099\nSo we're going to sign the zone.\n\n42\n00:01:47.099 --> 00:01:51.152\nWe'll just bring up our DNS\nsecurity extensions Wizard here.\n\n43\n00:01:51.152 --> 00:01:54.235\nGives us a little overview\nof what DNSSEC is.\n\n44\n00:01:54.235 --> 00:01:57.190\nObviously based on a conversation\nwe've already talked about that.\n\n45\n00:01:57.190 --> 00:02:00.954\nAlso like the fact that for many years\nnow Microsoft has integrated there hey,\n\n46\n00:02:00.954 --> 00:02:04.284\nclick here if you want more information\nkind of things in the Wizard.\n\n47\n00:02:04.284 --> 00:02:06.947\nYou can click there and\nit will take you out to the web,\n\n48\n00:02:06.947 --> 00:02:11.023\nassuming you're connected to the web\nof course, and will show you a link for\n\n49\n00:02:11.023 --> 00:02:15.184\nsome information, just to help you to\nbetter understand what the DNSSEC is.\n\n50\n00:02:15.184 --> 00:02:18.200\nSo if you need a little primer there,\nobviously click there,\n\n51\n00:02:18.200 --> 00:02:21.275\nwe're gonna click Next,\ncustomize zone sign in parameters.\n\n52\n00:02:21.275 --> 00:02:24.134\nSign zone parameters from\nan existing zone, and\n\n53\n00:02:24.134 --> 00:02:28.816\nI'll use the default settings to sign\nthe zone, yet we have some options here.\n\n54\n00:02:28.816 --> 00:02:32.901\nDefault would obviously streamline and\nminimize the interaction we have,\n\n55\n00:02:32.901 --> 00:02:36.230\nthen we just decide to get a bunch\nof pre-made choices for us.\n\n56\n00:02:36.230 --> 00:02:40.209\nCustomize we'll be able to go in and\nspecify the zone or set it up with a new\n\n57\n00:02:40.209 --> 00:02:44.272\nset of properties and we'll be able to\ngo on and figure out what those are.\n\n58\n00:02:44.272 --> 00:02:46.864\nSo it's really up to us to\ndecide what to do, right?\n\n59\n00:02:46.864 --> 00:02:49.147\nIt'll be up to you to decide\nhow you wanna do that.\n\n60\n00:02:49.147 --> 00:02:52.059\nIf I do use default,\nthen basically, boom I'm done.\n\n61\n00:02:52.059 --> 00:02:53.211\nEverything is done for me.\n\n62\n00:02:53.211 --> 00:02:55.430\nSo let me just show you what\ncustomizing would look like.\n\n63\n00:02:55.430 --> 00:02:58.215\nWe're just gonna use the defaults for\npurposes of the demonstration.\n\n64\n00:02:58.215 --> 00:03:00.806\nBut let me just show you quickly so\nyou have an idea.\n\n65\n00:03:00.806 --> 00:03:02.203\nSo Customize, right?\n\n66\n00:03:02.203 --> 00:03:06.174\nWe will then go in, use this or, excuse\nme, the DNS server on the Key Master,\n\n67\n00:03:06.174 --> 00:03:09.808\nthe one we're talking about the,\nin this case, domain controller.\n\n68\n00:03:09.808 --> 00:03:12.315\nThe Key Master is gonna be\nthe one that starts the issue.\n\n69\n00:03:12.315 --> 00:03:14.896\nThe keys manages them,\ntakes care of them and tracks them.\n\n70\n00:03:14.896 --> 00:03:17.596\nRemember we're gonna be digitally signing,\nwe're gonna need keys,\n\n71\n00:03:17.596 --> 00:03:20.476\nwe're gonna be able to use though to\nvalidate our identity as we were talking\n\n72\n00:03:20.476 --> 00:03:22.022\nabout through this integrity process.\n\n73\n00:03:22.022 --> 00:03:25.576\nOr select another primary\nserver as the Key Master,\n\n74\n00:03:25.576 --> 00:03:30.438\nmeaning we can use and domain-based\nDNS server that we have access to.\n\n75\n00:03:30.438 --> 00:03:33.676\nAnd say hey I'd rather use\nDNS server five or something,\n\n76\n00:03:33.676 --> 00:03:35.440\nif I wanna go ahead and do that.\n\n77\n00:03:35.440 --> 00:03:39.195\nBut when I use the default choices,\nthe defaults to the machine I'm on.\n\n78\n00:03:39.195 --> 00:03:42.499\nAnd so just so you're aware of\nthe fact that that will be the machine\n\n79\n00:03:42.499 --> 00:03:44.571\nthat becomes the Key Master for the zone.\n\n80\n00:03:44.571 --> 00:03:47.456\nSo, when you run this and\nyou wanna sign the zone,\n\n81\n00:03:47.456 --> 00:03:51.323\nyou gonna default the machine\nyou're on by specifying that role.\n\n82\n00:03:51.323 --> 00:03:52.795\nIt's up to you to decide, right?\n\n83\n00:03:52.795 --> 00:03:56.590\nIt's just a matter of how you choose to\ndo this, let's just assume we leave that\n\n84\n00:03:56.590 --> 00:04:00.400\nthere for one second, then you'll see\nkey signing, key which is called k as k.\n\n85\n00:04:00.400 --> 00:04:03.427\nJust bring this down a little bit, and\nkind of center a little bit more so\n\n86\n00:04:03.427 --> 00:04:05.494\nyou can maybe see that\na little bit more clearly,\n\n87\n00:04:05.494 --> 00:04:07.227\nright there in the middle of the screen.\n\n88\n00:04:07.227 --> 00:04:12.144\nSo the KSK, the key signing key,\nis the key that's used to sign other keys.\n\n89\n00:04:12.144 --> 00:04:15.227\nEssentially this is what we will\ncall the master key, right?\n\n90\n00:04:15.227 --> 00:04:16.985\nThe key that is used to create and\n\n91\n00:04:16.985 --> 00:04:20.635\nmake available other keys that can\nthen be used based on this key and\n\n92\n00:04:20.635 --> 00:04:25.147\nknowledge of this key to validate, in\nthis case, zone records or whatever else.\n\n93\n00:04:25.147 --> 00:04:27.926\nSo think of this as the private\nkey that we have to secure and\n\n94\n00:04:27.926 --> 00:04:29.360\nkeep confidential, right?\n\n95\n00:04:29.360 --> 00:04:33.062\nBecause that's with the KSK, or\nthe key signing key represents.\n\n96\n00:04:33.062 --> 00:04:36.119\nI don't know if you ever heard\nthe term skeleton key or master key,\n\n97\n00:04:36.119 --> 00:04:39.568\nthink about those keys that in theory\ncould be used to generate other keys.\n\n98\n00:04:39.568 --> 00:04:42.578\nAnd maybe when you change the way\nthe key is setup in the lock,\n\n99\n00:04:42.578 --> 00:04:45.072\nit can only open certain doors but\nnot all of them.\n\n100\n00:04:45.072 --> 00:04:47.686\nThat kinda thing is what we\nwould be thinking about here.\n\n101\n00:04:47.686 --> 00:04:50.982\nSo you'll see we have this capability.\n\n102\n00:04:50.982 --> 00:04:55.564\nWe then would specify the KSK's key\nsigning keys one or more of them.\n\n103\n00:04:55.564 --> 00:05:00.072\nYou'll notice we would have to add in\nhere the parameters to set these up so\n\n104\n00:05:00.072 --> 00:05:04.312\nwe can go in and specify three KSKs,\nthe three key signing keys here.\n\n105\n00:05:04.312 --> 00:05:08.706\nFor each of the available cryptographic\nalgorithms, multiple ones per algorithm so\n\n106\n00:05:08.706 --> 00:05:10.299\nI would go in, you hit Add here.\n\n107\n00:05:10.299 --> 00:05:14.726\nLet's give this a second we've\ngot a new key signing key form.\n\n108\n00:05:14.726 --> 00:05:18.901\nLet's move that up just a touch,\nyou can see that we have our glid or\n\n109\n00:05:18.901 --> 00:05:23.767\nunique identifier for the key system\ngenerated, generate new sign in keys.\n\n110\n00:05:23.767 --> 00:05:27.547\nWe use a pre-generated set of keys,\nwe can provide those key properties,\n\n111\n00:05:27.547 --> 00:05:30.971\nwhat's the cryptographic algorithm,\nremember we talked about.\n\n112\n00:05:30.971 --> 00:05:35.565\nIn fact we have a different algorithms,\nyou'll see Cherokee said shy,\n\n113\n00:05:35.565 --> 00:05:39.195\nyou're one of the shy algorithms,\nshy 256 is there.\n\n114\n00:05:39.195 --> 00:05:44.057\nBy default you'll see I can pull\nthat down, I could use shy 512,\n\n115\n00:05:44.057 --> 00:05:47.227\nshy one, shy one with any sec and\nsec three.\n\n116\n00:05:47.227 --> 00:05:49.350\nSome of the newer updated versions here.\n\n117\n00:05:49.350 --> 00:05:51.504\nSo I have a bunch of\ndifferent ones I can use.\n\n118\n00:05:51.504 --> 00:05:55.012\nThere's no right and wrong here, it's\na question of which algorithm you want,\n\n119\n00:05:55.012 --> 00:05:57.025\nbased on the properties of the algorithm,\nand\n\n120\n00:05:57.025 --> 00:06:00.187\nwhat you're looking to do based on\nthe level of protection you provide.\n\n121\n00:06:00.187 --> 00:06:04.394\nYou want to read up on the different\nalgorithms, just go out and Google: KSK,\n\n122\n00:06:04.394 --> 00:06:07.344\nKey Property Algorithms or\nsomething to that effect.\n\n123\n00:06:07.344 --> 00:06:08.791\nYou'll find the list about six or\n\n124\n00:06:08.791 --> 00:06:11.899\nseven that are currently supported\nin Microsoft's implementation.\n\n125\n00:06:11.899 --> 00:06:15.796\nRemember this could change over time,\nwe're looking at Server 16 right now,\n\n126\n00:06:15.796 --> 00:06:16.828\nkinda freeze frame,\n\n127\n00:06:16.828 --> 00:06:20.859\nfrozen in this particular moment as we're\nputting this content together for you.\n\n128\n00:06:20.859 --> 00:06:25.169\nFast forward six months, a year, who knows\nhow far down the road as updates and\n\n129\n00:06:25.169 --> 00:06:28.649\nservice packs and additional\nthings are done to the platform.\n\n130\n00:06:28.649 --> 00:06:31.860\nAnd Microsoft may introduce\nnewer algorithm support, right?\n\n131\n00:06:31.860 --> 00:06:34.538\nEventually we did get rid of DES and\ntriple DES, and\n\n132\n00:06:34.538 --> 00:06:38.655\ndid swap it out for other algorithms,\nand it's likely to happen here as well.\n\n133\n00:06:38.655 --> 00:06:42.326\nSo while that list is authoritative when\nwe pull it down and show it to you now,\n\n134\n00:06:42.326 --> 00:06:43.519\nit could easily change.\n\n135\n00:06:43.519 --> 00:06:46.804\nWhich is why it's better for you to\nlook at that information in real time\n\n136\n00:06:46.804 --> 00:06:49.897\nwhen you're watching this episode and\nyou're interested in it.\n\n137\n00:06:49.897 --> 00:06:52.809\nGo out and Google it, you'll get\nthe most up-to-date information.\n\n138\n00:06:52.809 --> 00:06:56.319\nAnd as a result of that, you'll have\na sense of what's supposed to be there.\n\n139\n00:06:56.319 --> 00:06:58.772\nWe've talked about the key length,\nhow long the key is.\n\n140\n00:06:58.772 --> 00:07:02.644\nRemember the simple rule, the longer the\nkey, the stronger the protection, right?\n\n141\n00:07:02.644 --> 00:07:07.114\nSo, a key length of 2048 bits is\ngonna be significantly longer and\n\n142\n00:07:07.114 --> 00:07:12.063\ntherefore significantly stronger than\na key with a 128-bit key length.\n\n143\n00:07:12.063 --> 00:07:13.865\nBut notice the list here, right?\n\n144\n00:07:13.865 --> 00:07:18.091\nAnd as I scroll up, I can go from\n1,024 bits, I know it's real small,\n\n145\n00:07:18.091 --> 00:07:19.647\nit's really tough to see.\n\n146\n00:07:19.647 --> 00:07:24.063\nBut I can go all the way\ndown to 4,096 here, right?\n\n147\n00:07:24.063 --> 00:07:26.943\nSo I go from 1,024 to 4,096.\n\n148\n00:07:26.943 --> 00:07:30.691\nThe bigger the number,\nthe longer the protection that that key in\n\n149\n00:07:30.691 --> 00:07:34.032\ntheory should provide based\non modern computing power and\n\n150\n00:07:34.032 --> 00:07:38.900\ncapabilities to break that encryption by\nfinding every possible key combination.\n\n151\n00:07:38.900 --> 00:07:43.071\nThat is that big, so it could certainly\ntake quite a long amount of time.\n\n152\n00:07:43.071 --> 00:07:46.463\nWe'll call that a computational\ninfeasible amount of time,\n\n153\n00:07:46.463 --> 00:07:50.704\nmeaning it's unrealistic that anybody\nalive watching this episode would be\n\n154\n00:07:50.704 --> 00:07:54.111\nable to break that encryption\nin a reasonable amount of time.\n\n155\n00:07:54.111 --> 00:07:58.611\n&gt;&gt; But we don't just wanna run around\nselecting the highest key length.\n\n156\n00:07:58.611 --> 00:08:02.713\n&gt;&gt; No no, we do, cuz we want things to\nslow down to a crawl and not work at all.\n\n157\n00:08:02.713 --> 00:08:04.387\nWe might [CROSSTALK]\n&gt;&gt; If you really wanna have some fun,\n\n158\n00:08:04.387 --> 00:08:06.183\nchoose the absolute largest number.\n\n159\n00:08:06.183 --> 00:08:09.011\nAnd then sit back and wait like a year for\nyour encryption to be applied.\n\n160\n00:08:09.011 --> 00:08:11.240\n&gt;&gt; [LAUGH]\n&gt;&gt; No, Cherokee makes a good point.\n\n161\n00:08:11.240 --> 00:08:13.288\nThe bigger that number,\nclearly the stronger the protection.\n\n162\n00:08:13.288 --> 00:08:17.366\nBut the flip side of that is, the bigger\nthat number the more computing power, more\n\n163\n00:08:17.366 --> 00:08:21.340\ntime it takes to apply the encryption and\nto use it either forwards or backwards.\n\n164\n00:08:21.340 --> 00:08:22.670\nEncrypt, decrypt,\nit doesn't matter which but\n\n165\n00:08:22.670 --> 00:08:27.070\nultimately the point is we would have\nto know that and be aware of that.\n\n166\n00:08:27.070 --> 00:08:31.910\nAnd as a result, we do have to\nmake a really important choice or\n\n167\n00:08:31.910 --> 00:08:33.530\na thought process as\nyou were pointing out.\n\n168\n00:08:33.530 --> 00:08:35.530\nIt's a very,\nvery important point that you are raising.\n\n169\n00:08:35.530 --> 00:08:39.380\nWhich is while we just wanna don't\nnecessarily wanna rush to the end of that\n\n170\n00:08:39.380 --> 00:08:41.470\nlist and say, ultimate protection.\n\n171\n00:08:41.470 --> 00:08:45.636\nWithout understanding, ultimate protection\nequals significant impact on performance.\n\n172\n00:08:45.636 --> 00:08:47.293\nAnd that's just the rule\nwe wanna think about and\n\n173\n00:08:47.293 --> 00:08:49.530\nkind of balance, so\nyou're absolutely right to point that out.\n\n174\n00:08:49.530 --> 00:08:53.273\nAll right, so\nthen we have our DNS key, our RR set.\n\n175\n00:08:53.273 --> 00:08:58.189\nOur RR set is our resource record set,\njust again one of the terms we use for\n\n176\n00:08:58.189 --> 00:08:58.832\nDNSSEC.\n\n177\n00:08:58.832 --> 00:09:03.470\nSo our DNS key resource record set\nsignature validity period in hours.\n\n178\n00:09:03.470 --> 00:09:06.170\nAlways important to note\nwhat that time is there.\n\n179\n00:09:06.170 --> 00:09:07.749\nA lot of times,\nyou'll see these interfaces.\n\n180\n00:09:07.749 --> 00:09:11.290\nI will say look, that's in milliseconds,\nso make sure you know.\n\n181\n00:09:11.290 --> 00:09:13.510\nThis one's an hours,\nso make sure you know.\n\n182\n00:09:13.510 --> 00:09:16.526\nSo 168 hours, so 7 days by default.\n\n183\n00:09:16.526 --> 00:09:18.325\nWouldn't be just easier if they said yeah-\n\n184\n00:09:18.325 --> 00:09:19.177\n&gt;&gt; [LAUGH]\n&gt;&gt; It's good for week.\n\n185\n00:09:19.177 --> 00:09:22.270\nBut no, they got to do that in hours and\nspecify that.\n\n186\n00:09:22.270 --> 00:09:24.828\nBut that's good for\nseven days just so you know.\n\n187\n00:09:24.828 --> 00:09:28.587\nReplace this private key to all DNS\nservice authoritative for the zone.\n\n188\n00:09:28.587 --> 00:09:31.840\nIt says applicable only\nto AV integrated zones.\n\n189\n00:09:31.840 --> 00:09:35.311\nMeaning replace, I'm sorry,\nreplicate is what I meant to say.\n\n190\n00:09:35.311 --> 00:09:37.402\nI'm thinking replicate,\nbut I said replace.\n\n191\n00:09:37.402 --> 00:09:41.422\nSo it's important to know that when\nwe're doing Active Directory integrator,\n\n192\n00:09:41.422 --> 00:09:43.441\nremember we take advantage of the fact.\n\n193\n00:09:43.441 --> 00:09:46.321\nThen we're gonna replicate\nthis key to every member,\n\n194\n00:09:46.321 --> 00:09:49.840\nevery DNS server that's in AD\nthat's seen the zone information.\n\n195\n00:09:49.840 --> 00:09:51.555\nCuz if it's Active Directory integrated,\n\n196\n00:09:51.555 --> 00:09:53.929\nit's shared by all the DNS\nservers that are connected to AD.\n\n197\n00:09:53.929 --> 00:09:58.221\nSo that's gonna provide our mechanism\nsecurely, transmit that key and\n\n198\n00:09:58.221 --> 00:10:00.272\nget it out there, so we have that.\n\n199\n00:10:00.272 --> 00:10:05.105\nAnd then key role, enable automatic key\nroll over, roll over frequency in days,\n\n200\n00:10:05.105 --> 00:10:07.926\nthe others default rating there of 7 and\n55.\n\n201\n00:10:07.926 --> 00:10:12.160\nThat's something like two years and\nwhatever, a little bit over two years.\n\n202\n00:10:12.160 --> 00:10:16.110\nSo we have those capabilities, so\nwe would specify whatever we want here or\n\n203\n00:10:16.110 --> 00:10:19.420\nI do okay, put that in,\nstart stacking those up.\n\n204\n00:10:19.420 --> 00:10:23.000\nHowever many you wanna put in there,\nremember it's up to three for\n\n205\n00:10:23.000 --> 00:10:25.700\neach of the available cryptographic\nalgorithms which is about\n\n206\n00:10:25.700 --> 00:10:27.610\nseven algorithms on that list.\n\n207\n00:10:27.610 --> 00:10:31.700\nWe could provide and program in up to\nthree combinations of the settings for\n\n208\n00:10:31.700 --> 00:10:36.040\neach key signing key, that would be\nthree keys signing keys per algorithm.\n\n209\n00:10:36.040 --> 00:10:40.340\nSo you could have to about 20 some\nodd algorithm combinations here.\n\n210\n00:10:40.340 --> 00:10:43.215\nAnd key combinations here on this list,\nto be able to generate and\n\n211\n00:10:43.215 --> 00:10:46.533\nsetup a bunch of different keys signing\nkeys just so you're aware of that.\n\n212\n00:10:46.533 --> 00:10:50.306\nAll right, then zone signing key,\nwhat's called the ZSK.\n\n213\n00:10:50.306 --> 00:10:54.730\nThe zone signing key is the authentication\nkey used to sign the zone data.\n\n214\n00:10:54.730 --> 00:10:58.470\nRemember the key signing key is\nthe master key that creates and signs and\n\n215\n00:10:58.470 --> 00:10:59.950\ncertifies other keys.\n\n216\n00:10:59.950 --> 00:11:03.170\nThe zone signing key is\nthe individual instance key,\n\n217\n00:11:03.170 --> 00:11:05.440\nthe key that's used specifically\nused to sign the zone.\n\n218\n00:11:05.440 --> 00:11:10.920\nSo we have a KSK we have a ZSK, so wanna\nmake sure we understand the logic of that.\n\n219\n00:11:10.920 --> 00:11:14.869\nSo this is the authentication key\ncorresponding to a private key used as we\n\n220\n00:11:14.869 --> 00:11:16.599\nsay here to sign this zone data.\n\n221\n00:11:16.599 --> 00:11:19.539\nTypically ZSKs are rolled over\nmore frequently than KSKs,\n\n222\n00:11:19.539 --> 00:11:21.440\nit's important to know that.\n\n223\n00:11:21.440 --> 00:11:24.310\nWe wanna change the zone signing keys\n\n224\n00:11:24.310 --> 00:11:26.400\nmore frequently as what\nwe're saying with roll over.\n\n225\n00:11:26.400 --> 00:11:29.190\nThe reason for that is they're in use\nall the time, they are out there,\n\n226\n00:11:29.190 --> 00:11:31.770\nthere are always available people\nmay potentially trip over them.\n\n227\n00:11:31.770 --> 00:11:35.960\nThey could be compromised whereas\nthe key signing key, the KSK,\n\n228\n00:11:35.960 --> 00:11:38.360\nthe key we just looked at\nin the prior wizard screen.\n\n229\n00:11:38.360 --> 00:11:40.370\nThat is,\nremember that ultimate private key,\n\n230\n00:11:40.370 --> 00:11:43.290\nthat's that Kerckhoffs principle\nkey that we talked about.\n\n231\n00:11:43.290 --> 00:11:46.540\nThe key we gotta keep secret, don't give\nto people, don't tell them about it,\n\n232\n00:11:46.540 --> 00:11:48.130\ndon't let them know.\n\n233\n00:11:48.130 --> 00:11:51.620\nHide it, so the idea is that key is\nprobably not exposed very often.\n\n234\n00:11:51.620 --> 00:11:53.220\nSo you think about what that key does,\n\n235\n00:11:53.220 --> 00:11:56.070\nit's really just to use to\ngenerate these zone signing keys.\n\n236\n00:11:56.070 --> 00:11:58.080\nAnd then it's kinda off on it's own,\nit doesn't do anything.\n\n237\n00:11:58.080 --> 00:12:00.970\nWe don't use it, we don't exchange it,\nwe don't reference it.\n\n238\n00:12:00.970 --> 00:12:06.140\nSo it could stick around for longer\nthat's 750 day roll over by default.\n\n239\n00:12:06.140 --> 00:12:10.930\nIt means that key signing key has to\nbe regenerated every twoish years.\n\n240\n00:12:10.930 --> 00:12:13.984\nBut a ZSK, zone signing key probably\nwanna regenerate those roll\n\n241\n00:12:13.984 --> 00:12:16.884\nthose over have new keys created,\na little more frequently.\n\n242\n00:12:16.884 --> 00:12:21.210\nBecause that's obviously gonna\npotentially add to our security.\n\n243\n00:12:21.210 --> 00:12:24.750\nCuz the other part of that, a whole\nthought processes, hey, if the key sticks\n\n244\n00:12:24.750 --> 00:12:29.440\naround a really long time, yeah,\nmaybe it's gotta strong enough key space.\n\n245\n00:12:29.440 --> 00:12:31.601\nIt's really, really big,\nmaybe the work factor's really long.\n\n246\n00:12:31.601 --> 00:12:35.150\nMaybe it'll be okay, but\nalso maybe it won't be.\n\n247\n00:12:35.150 --> 00:12:37.530\nEvery second that key\nis out there exposed,\n\n248\n00:12:37.530 --> 00:12:40.550\nbad actors tend to chip in a way at it,\nmaybe trying to break it.\n\n249\n00:12:40.550 --> 00:12:43.080\nThe longer you leave it out there, the\nmore likely that somebody's gonna come and\n\n250\n00:12:43.080 --> 00:12:45.170\ntake it away from you, so\nwe just gotta be aware of that.\n\n251\n00:12:45.170 --> 00:12:47.330\nSo the guidance here that\nI'm just pointing out and\n\n252\n00:12:47.330 --> 00:12:49.995\nspending a little bit of time\nis number one important.\n\n253\n00:12:49.995 --> 00:12:52.810\nCuz let's be honest most of us don't\never read what's on their screens.\n\n254\n00:12:52.810 --> 00:12:56.891\nWe just go look a button and we click\nNext and like all good IT Administrators,\n\n255\n00:12:56.891 --> 00:12:58.617\nyou worry about it after the fact.\n\n256\n00:12:58.617 --> 00:12:59.701\nSo you always wanna stop and\n\n257\n00:12:59.701 --> 00:13:02.100\nread always important to pay\nattention to what is going on.\n\n258\n00:13:02.100 --> 00:13:04.390\nBut this is actually really\ncritical as a thought process,\n\n259\n00:13:04.390 --> 00:13:06.980\nbecause we have to specify\nwhat that value is gonna be or\n\n260\n00:13:06.980 --> 00:13:09.020\nthink about what those\nrollover values are.\n\n261\n00:13:09.020 --> 00:13:10.972\nAnd they signify how often\ndo we regenerate the keys?\n\n262\n00:13:10.972 --> 00:13:11.634\nSo that's important.\n\n263\n00:13:11.634 --> 00:13:14.850\n&gt;&gt; Well sure, I mean you look at it and\nyeah, it might be more administrative work\n\n264\n00:13:14.850 --> 00:13:17.121\nto have to go ahead and\nbe doing more work, more often.\n\n265\n00:13:17.121 --> 00:13:20.106\nBut when we talk about security,\nthere usually is that tradeoff.\n\n266\n00:13:20.106 --> 00:13:22.590\nLike we saw there with the queue length,\nright?\n\n267\n00:13:22.590 --> 00:13:28.875\nSo sometimes, to have more security, you\nsometimes have to give something up there.\n\n268\n00:13:28.875 --> 00:13:31.255\n&gt;&gt; I prefer to think of it as getting\nsomething more valuable in return.\n\n269\n00:13:31.255 --> 00:13:32.000\n&gt;&gt; I like it, okay.\n\n270\n00:13:32.000 --> 00:13:33.776\n&gt;&gt; Peace of mind as-\n&gt;&gt; [LAUGH]\n\n271\n00:13:33.776 --> 00:13:35.430\n&gt;&gt; Opposed to, a little bit extra work,\n\n272\n00:13:35.430 --> 00:13:38.014\nbut I think either way is good\nin terms of looking at that, so\n\n273\n00:13:38.014 --> 00:13:39.770\nwell that looks kind of familiar.\n\n274\n00:13:39.770 --> 00:13:41.980\nAnother window where we go and\nprogram another key.\n\n275\n00:13:41.980 --> 00:13:43.704\nThis is the same exact thing we just did,\n\n276\n00:13:43.704 --> 00:13:45.690\nexcept now it's gonna\nsay ZSK instead of KSK.\n\n277\n00:13:45.690 --> 00:13:48.440\nAnd we're probably gonna have\na lower roll over value, but\n\n278\n00:13:48.440 --> 00:13:50.040\nessentially it's the same idea.\n\n279\n00:13:50.040 --> 00:13:51.909\nSo you know what we would do here,\nyou have a sense of that.\n\n280\n00:13:51.909 --> 00:13:53.350\nSo let's just click Add here.\n\n281\n00:13:54.570 --> 00:13:58.330\nAgain we have our unique identifier,\nyou'll see here we go in,\n\n282\n00:13:58.330 --> 00:14:00.380\nwe got our algorithm,\nwe go our key length.\n\n283\n00:14:00.380 --> 00:14:06.915\nNotice it's smaller by default, 1024-bit\nas opposed to 2048-bit out of the box.\n\n284\n00:14:06.915 --> 00:14:10.668\nSo we have all this, specify whatever\nit is here, validity period in hours,\n\n285\n00:14:10.668 --> 00:14:13.310\ncenter validity period,\nzone record validity.\n\n286\n00:14:13.310 --> 00:14:17.340\nThese are new values because this is\nspecific to the zone as opposed to the KSK\n\n287\n00:14:17.340 --> 00:14:20.550\nwhich is just looking at key\nvalidity period overall.\n\n288\n00:14:20.550 --> 00:14:23.490\nAnd then it's just looking at how long\nwe're gonna keep the key around for.\n\n289\n00:14:23.490 --> 00:14:25.220\nAnd notice there is a significant\n\n290\n00:14:26.620 --> 00:14:30.080\nrollback on the frequency here\nin terms of rollover frequency.\n\n291\n00:14:30.080 --> 00:14:35.120\nWe were at 755 for the KSK,\nwe're at 90 days by default for the ZSK.\n\n292\n00:14:35.120 --> 00:14:38.315\nMeaning in theory, the default\nsettings here say every 90 days,\n\n293\n00:14:38.315 --> 00:14:41.070\nlet's change out and roll over that key.\n\n294\n00:14:41.070 --> 00:14:43.830\nSo we really go down the road\npretty far to ensuring, or\n\n295\n00:14:43.830 --> 00:14:45.459\nat least attempting to ensure.\n\n296\n00:14:45.459 --> 00:14:49.435\nThat we're gonna make it really difficult\nfor somebody to hack away at that key, and\n\n297\n00:14:49.435 --> 00:14:50.530\ntry to guess it.\n\n298\n00:14:50.530 --> 00:14:55.140\nEven if they did it 24 hours a day,\nnon stop for 90 days highly improbably.\n\n299\n00:14:55.140 --> 00:14:59.020\nWe would say computationally\ninfeasible with modern technology\n\n300\n00:14:59.020 --> 00:15:01.890\nthat they would catch that key and\nget it and guess it.\n\n301\n00:15:01.890 --> 00:15:04.890\nBecause the number of keys is so\nbig, the key space is so\n\n302\n00:15:04.890 --> 00:15:09.300\nlarge, unless they got incredibly lucky,\nwould just not work.\n\n303\n00:15:09.300 --> 00:15:11.781\nAnd so by shorting that roll\nover period dramatically,\n\n304\n00:15:11.781 --> 00:15:13.643\nwe're further enhancing the security.\n\n305\n00:15:13.643 --> 00:15:15.716\nNow again, can you modify those values?\n\n306\n00:15:15.716 --> 00:15:17.340\nYeah, you notice you can change that.\n\n307\n00:15:17.340 --> 00:15:21.801\nIf you wanna make that 755 like the KSK,\ngo ahead and do that, not recommended,\n\n308\n00:15:21.801 --> 00:15:23.606\nlet me be clear, not a good idea.\n\n309\n00:15:23.606 --> 00:15:27.716\nWould definitely not be the right answer\nto choose if you're asked about it in\n\n310\n00:15:27.716 --> 00:15:29.055\nthe exam for any reason.\n\n311\n00:15:29.055 --> 00:15:31.795\nCuz you wanna know that\nyou shouldn't go and\n\n312\n00:15:31.795 --> 00:15:36.955\nset a hard code at high limit like that,\nunless you have some really set\n\n313\n00:15:36.955 --> 00:15:41.615\nspecific kind of recommendation as\na policy inside of your business.\n\n314\n00:15:41.615 --> 00:15:44.124\nThat's speaks to how you do\nthis from a regulatory or\n\n315\n00:15:44.124 --> 00:15:45.727\nstatutory compliance concern.\n\n316\n00:15:45.727 --> 00:15:48.991\nBut I can promise you there's no\nregulatory statutory compliance\n\n317\n00:15:48.991 --> 00:15:52.019\nregulation that I'm aware of\nanywhere that would say, hey,\n\n318\n00:15:52.019 --> 00:15:54.890\nmake that so big that it's\nmore likely to be compromised.\n\n319\n00:15:54.890 --> 00:15:58.638\nSo that's probably not something you're\ngonna see, so just keep that in mind.\n\n320\n00:15:58.638 --> 00:16:01.980\nSo we would click OK again, just put\none in there, whatever the case may be.\n\n321\n00:16:03.120 --> 00:16:05.009\nThen Zone Signing Wizard, right?\n\n322\n00:16:05.009 --> 00:16:08.050\nNext screen NextSECure what's called NSEC.\n\n323\n00:16:08.050 --> 00:16:11.355\nYou saw that as one of the differences\non some of the algorithms, right?\n\n324\n00:16:11.355 --> 00:16:14.675\nNSEC and the newer version, NSEC3,\nwhich is what I referred to,\n\n325\n00:16:14.675 --> 00:16:18.608\nthese are resource records that provide\nauthenticated denial of existence.\n\n326\n00:16:18.608 --> 00:16:20.960\nThis is just the newest\nversion of those records.\n\n327\n00:16:20.960 --> 00:16:22.948\nNSEC3 is the newer version of them.\n\n328\n00:16:22.948 --> 00:16:27.584\nSo the UN-SEC3 records are gonna\nprovide authoritative proof,\n\n329\n00:16:27.584 --> 00:16:30.157\nauthenticated proof of existence.\n\n330\n00:16:30.157 --> 00:16:34.066\nRight, or excuse me, authenticated denial\nof existence essentially the same idea.\n\n331\n00:16:34.066 --> 00:16:36.140\nIt means, yes you're out there right.\n\n332\n00:16:36.140 --> 00:16:38.659\nAnd so the idea is essentially like\ntapping somebody on the shoulder,\n\n333\n00:16:38.659 --> 00:16:40.034\nhey Cherokee you really exist right?\n\n334\n00:16:40.034 --> 00:16:42.674\nAnd Cherokee would say, but\nof course I do and then I'd say okay so\n\n335\n00:16:42.674 --> 00:16:44.070\nnow we know you're real, right?\n\n336\n00:16:44.070 --> 00:16:47.259\nSo it's kinda like what\nan NSEC record does, so\n\n337\n00:16:47.259 --> 00:16:52.454\nyou'll see here we would specify and\nset up our values for the NSEC3 record.\n\n338\n00:16:52.454 --> 00:16:55.404\nNotice we go out of order to\nmake sure you're using NSEC3,\n\n339\n00:16:55.404 --> 00:16:57.890\nwe kind of put NSEC down\nhere the earlier version.\n\n340\n00:16:57.890 --> 00:17:01.661\nYou can't choose that but our best\npractice, our preference are guidance as\n\n341\n00:17:01.661 --> 00:17:05.735\nyou could see here would be to use NSEC3\nto provide some additional capabilities.\n\n342\n00:17:05.735 --> 00:17:07.900\nJust wanna make sure you're aware of that.\n\n343\n00:17:07.900 --> 00:17:11.880\nAnd then here trust anchors,\nanother interesting part of this process.\n\n344\n00:17:11.880 --> 00:17:15.040\nRemember I'm walking through the,\nhey let's go ahead and\n\n345\n00:17:15.040 --> 00:17:19.830\nlet's choose to show you\nevery screen just to show you\n\n346\n00:17:19.830 --> 00:17:23.710\nwhat's here instead of going back to\nthe wizard at the very beginning and\n\n347\n00:17:23.710 --> 00:17:25.930\njust saying, yeah,\nuse the defaults and boom, I'm done.\n\n348\n00:17:25.930 --> 00:17:28.050\nI am gonna use the defaults\nonce I'm finished.\n\n349\n00:17:28.050 --> 00:17:31.700\nJust create the zone file so\nwe can work with it in a standard way, but\n\n350\n00:17:31.700 --> 00:17:35.070\nI wanna walk you through this so\nyou can see all these moving parts and\n\n351\n00:17:35.070 --> 00:17:37.900\nunderstand them cuz this is obviously\nwhere the magic happens, right?\n\n352\n00:17:37.900 --> 00:17:38.910\nYou wanna know what's going on here.\n\n353\n00:17:38.910 --> 00:17:42.608\nAll right, so trust anchors, right this is\nwhere we configure the distribution of our\n\n354\n00:17:42.608 --> 00:17:44.242\ntrust anchors and our rollover keys.\n\n355\n00:17:44.242 --> 00:17:47.451\nSo it says here, Enable the distribution\nof trust anchors for the zone,\n\n356\n00:17:47.451 --> 00:17:48.989\nwe'll check that off in a second.\n\n357\n00:17:48.989 --> 00:17:52.413\nEnable anchor updates of trust\nanchors on key rollover,\n\n358\n00:17:52.413 --> 00:17:54.493\nnotice it references an RFC here.\n\n359\n00:17:54.493 --> 00:17:58.098\nMaybe a little hard to see but\nyou could see it's RFC 5011.\n\n360\n00:17:58.098 --> 00:18:01.992\nIf you wanna read up on DNS SEC,\nwanna learn a little bit more about it,\n\n361\n00:18:01.992 --> 00:18:05.094\nwanna understand more about\nwhat we're doing here with\n\n362\n00:18:05.094 --> 00:18:10.220\nTrust Anchors with our key rollover, etc,\nyou could go out, you could refer to that.\n\n363\n00:18:10.220 --> 00:18:13.050\nOur trust anchor is the DNS key and\nthe DNS resource records\n\n364\n00:18:13.050 --> 00:18:15.960\nare just simply called trust anchors,\nthat's what we refer to them as, right.\n\n365\n00:18:15.960 --> 00:18:20.340\nSo we're simply talking about these\nrecords that are gonna be available to us.\n\n366\n00:18:20.340 --> 00:18:23.950\nWe call them trust anchors cuz they\nliterally anchor the trust in the zone and\n\n367\n00:18:23.950 --> 00:18:27.170\nmake it structurally so sound and\n\n368\n00:18:27.170 --> 00:18:30.230\nkind of attached in a way that it's\ngonna be impossible to separate the two.\n\n369\n00:18:30.230 --> 00:18:33.165\nThat we can authoritatively say, yeah,\nthat must definitely be what it is.\n\n370\n00:18:33.165 --> 00:18:36.949\nCuz those things are bound together in\na way that it's gonna impossible to deny.\n\n371\n00:18:36.949 --> 00:18:37.825\nSo, just go ahead and\n\n372\n00:18:37.825 --> 00:18:41.110\nread up on the RFC if you wanna learn more\nabout what we're talking about right?\n\n373\n00:18:41.110 --> 00:18:44.035\nSo enable the distribution of\ntrust anchors for this zone.\n\n374\n00:18:44.035 --> 00:18:47.322\nNow, if we go back to full screen size I\"m\nnot gonna read this whole thing to you I\n\n375\n00:18:47.322 --> 00:18:49.810\nwant to let you see while\nwe're just talking about it.\n\n376\n00:18:49.810 --> 00:18:52.382\nBut this is important to know here so\nlet's just take a look, right.\n\n377\n00:18:52.382 --> 00:18:55.129\nIf this is also in the main\ncontroller trust anchors for\n\n378\n00:18:55.129 --> 00:18:58.294\nthe zone will be distributed to\nall other DNS servers running on\n\n379\n00:18:58.294 --> 00:19:00.280\nthe domain controllers in the forest.\n\n380\n00:19:00.280 --> 00:19:04.940\nMeaning remember we talked about the DNS\nzone, the application partition one for\n\n381\n00:19:04.940 --> 00:19:08.350\nthe DNS zone specific to the domain\nthen the forest level one.\n\n382\n00:19:08.350 --> 00:19:11.961\nIn fact we have two by default and that we\nget knowledge of the one in the forest,\n\n383\n00:19:11.961 --> 00:19:14.700\nand then only the knowledge of\nthe domain specific one comes\n\n384\n00:19:14.700 --> 00:19:16.645\nto each individual member of the domain.\n\n385\n00:19:16.645 --> 00:19:18.470\nBut everybody sees the one at the far.\n\n386\n00:19:18.470 --> 00:19:21.127\nSo just reminding you that\nwe're referencing this so\n\n387\n00:19:21.127 --> 00:19:25.032\nwe understand that we're gonna be\nleveraging this at the forest level right?\n\n388\n00:19:25.032 --> 00:19:28.020\nIf it's not a domain controller it\nsets trust anchors for the zone.\n\n389\n00:19:28.020 --> 00:19:31.160\nWill be added only to the local\ntrust anchor store meaning they're\n\n390\n00:19:31.160 --> 00:19:34.120\nonly gonna be available\nin the domain itself.\n\n391\n00:19:34.120 --> 00:19:37.828\nWhich is gonna be essentially or rather\nhave a reference on the local machine as\n\n392\n00:19:37.828 --> 00:19:40.539\nopposed to forest wide so\neverybody knows what they are.\n\n393\n00:19:40.539 --> 00:19:42.097\nSo just be aware of that.\n\n394\n00:19:42.097 --> 00:19:45.127\nSelecting this option enables\nDNS SEC validation for\n\n395\n00:19:45.127 --> 00:19:49.560\nthe zone on all servers where trust\nanchors are distributed meaning.\n\n396\n00:19:49.560 --> 00:19:52.670\nAny DNS server that has the trust\nanchor can validate against\n\n397\n00:19:52.670 --> 00:19:53.600\nthis when we enable this.\n\n398\n00:19:53.600 --> 00:19:55.614\nSo it is important to just\nbe aware of that right.\n\n399\n00:19:55.614 --> 00:19:57.155\nWe would have this available.\n\n400\n00:19:57.155 --> 00:20:00.485\nYou'll then see here signing in,\npolling parameters,\n\n401\n00:20:00.485 --> 00:20:02.500\nconfigure the values\nassociated with signing and\n\n402\n00:20:02.500 --> 00:20:07.130\npolling, what is the record generation\nalgorithm for signing the records.\n\n403\n00:20:07.130 --> 00:20:08.547\nThis is where we get into\nthe hashing that we talked about.\n\n404\n00:20:08.547 --> 00:20:11.730\nAgain you will see some of\nthe algorithms Cherokee mentioned here.\n\n405\n00:20:11.730 --> 00:20:15.240\nRemember the other choices for\nthe keys, the KSK and the ZSK.\n\n406\n00:20:15.240 --> 00:20:18.990\nThose are simply choices we\nmake to generate those keys.\n\n407\n00:20:18.990 --> 00:20:20.930\nThat will then be used, right.\n\n408\n00:20:20.930 --> 00:20:25.210\nTo be able to generate other keys or\nto start to do some other things.\n\n409\n00:20:25.210 --> 00:20:31.160\nBut we also have to specify additional\ninformation for our DS record here.\n\n410\n00:20:31.160 --> 00:20:35.190\nRight, for our, [COUGH] Records or\nrecord, in this case or records.\n\n411\n00:20:35.190 --> 00:20:39.202\nThat will allow us to complete\nthe process for the signing.\n\n412\n00:20:39.202 --> 00:20:41.463\nSo we have SHA-1.\n\n413\n00:20:41.463 --> 00:20:44.520\nYou'll see here we have SHA-1 and SHA-256.\n\n414\n00:20:44.520 --> 00:20:45.993\nGot a whole bunch of different ones.\n\n415\n00:20:45.993 --> 00:20:48.175\nBut notice, they're all SHA.\n\n416\n00:20:48.175 --> 00:20:50.340\nSecure hashing algorithm, right, so\n\n417\n00:20:50.340 --> 00:20:54.677\nwe're using that algorithm as our basis\ndepending on the strength involved.\n\n418\n00:20:54.677 --> 00:20:58.728\nThe number at the end, by the way,\nrepresents the length of the hash,\n\n419\n00:20:58.728 --> 00:21:01.542\nthe number of bits in\nthe output of a hash string or\n\n420\n00:21:01.542 --> 00:21:05.685\nthe digest, that's what that is so\na SHA-1 algorithm is SHA 160.\n\n421\n00:21:05.685 --> 00:21:10.595\nIt puts out a 160 bit output or 160 bit\ndigital signature or message digest or\n\n422\n00:21:10.595 --> 00:21:13.625\nhash value it's all\nreferring to the same thing.\n\n423\n00:21:13.625 --> 00:21:15.848\nSHI-256, 256 bits in the output so\n\n424\n00:21:15.848 --> 00:21:20.060\nthat number is important cuz it tells you\nwhat the bit output will be for the hash.\n\n425\n00:21:20.060 --> 00:21:24.495\n&gt;&gt; Which is pretty cool because it's\nregardless of the original variable length\n\n426\n00:21:24.495 --> 00:21:28.404\ninput that's always gonna be the same\nwhich is pretty interesting.\n\n427\n00:21:28.404 --> 00:21:31.630\n&gt;&gt; Regardless of the amount of data\nwe use as the input that number or\n\n428\n00:21:31.630 --> 00:21:35.241\nthat output for the string is\nconsistent absolutely correct, right.\n\n429\n00:21:35.241 --> 00:21:38.527\nSo we do have our DNS key record,\nTTL values here.\n\n430\n00:21:38.527 --> 00:21:42.490\nRemember TTL time to leave okay so\nwe have those specified.\n\n431\n00:21:42.490 --> 00:21:44.392\nSo we got all of that\ndifferent stuff here.\n\n432\n00:21:44.392 --> 00:21:48.854\nAnd then you'll see we're done right so we\ngo through it we would have to program all\n\n433\n00:21:48.854 --> 00:21:53.210\nthat information to be able to actually\nprovide the answers to these questions.\n\n434\n00:21:53.210 --> 00:21:56.720\nNow what I'm gonna do I'm not gonna use\nthose properties that we just chose or\n\n435\n00:21:56.720 --> 00:21:57.699\ntalked about right.\n\n436\n00:21:57.699 --> 00:22:01.165\nI'm just gonna go ahead I'm gonna\nright click just to run through one\n\n437\n00:22:01.165 --> 00:22:03.694\nmore time but\nI'm gonna just choose the default.\n\n438\n00:22:03.694 --> 00:22:05.305\nSo I'm gonna click Next here quickly.\n\n439\n00:22:05.305 --> 00:22:06.819\nUse default signing.\n\n440\n00:22:06.819 --> 00:22:08.804\nBoom, notice how quick that was right.\n\n441\n00:22:08.804 --> 00:22:10.930\nGot right there, it's all done right.\n\n442\n00:22:10.930 --> 00:22:12.749\nSo all those choices have been named.\n\n443\n00:22:12.749 --> 00:22:16.455\nNow, everything is essentially probably\ngonna be identical to what I would've\n\n444\n00:22:16.455 --> 00:22:18.860\nchosen had I gone through and\nselected the way I did.\n\n445\n00:22:18.860 --> 00:22:22.472\nBut in case I just modified something\nwithout necessarily remembering I did,\n\n446\n00:22:22.472 --> 00:22:24.507\nthat's why I just went back and\nchose this.\n\n447\n00:22:24.507 --> 00:22:27.208\nJust to make sure that all\nthe default values are there,\n\n448\n00:22:27.208 --> 00:22:29.286\nthey're not gonna be modified in any way.\n\n449\n00:22:29.286 --> 00:22:33.282\nDon't get any crazy outputs, and therefore\nmay impact our ability to work with this\n\n450\n00:22:33.282 --> 00:22:35.035\nat some point while we're demoing.\n\n451\n00:22:35.035 --> 00:22:37.085\nBut you can see,\nI can scroll down here, and\n\n452\n00:22:37.085 --> 00:22:39.320\nI can see all the choices\nthat I would have made.\n\n453\n00:22:39.320 --> 00:22:42.090\nOur zone signing key is there right?\n\n454\n00:22:42.090 --> 00:22:49.280\nOur authenticated denial of existence is\nthere, our NSEC, three records are there,\n\n455\n00:22:49.280 --> 00:22:52.550\nour trust anchors, all that kind of stuff,\neverything that we looked at is there.\n\n456\n00:22:52.550 --> 00:22:53.840\nSo we're gonna click Next.\n\n457\n00:22:53.840 --> 00:22:55.190\nNow we're just gonna sign the zone.\n\n458\n00:22:55.190 --> 00:22:57.530\nIt says,\nhey successful your zone was signed.\n\n459\n00:22:57.530 --> 00:22:59.420\nWould be great if they had a thumbs\nup that came out or an at a boy or\n\n460\n00:22:59.420 --> 00:23:00.119\nsomething like that.\n\n461\n00:23:00.119 --> 00:23:03.025\n&gt;&gt; I almost feel like that was so\nphilosophical,\n\n462\n00:23:03.025 --> 00:23:07.510\nit's like to be or not to be with\nthe denial of existence but not so much.\n\n463\n00:23:08.520 --> 00:23:10.092\n&gt;&gt; Okay, there we go.\n\n464\n00:23:10.092 --> 00:23:12.857\nAll right and this is why we don't let\nyou have more than one cup of coffee in\n\n465\n00:23:12.857 --> 00:23:13.490\nthe morning.\n\n466\n00:23:13.490 --> 00:23:16.390\nAll right, so let's click Finish.\n\n467\n00:23:16.390 --> 00:23:19.640\nAll right, so\nwe have digitally signed our zone.\n\n468\n00:23:19.640 --> 00:23:22.060\nWe've gone ahead and\ncarried out the first part of this.\n\n469\n00:23:22.060 --> 00:23:27.110\nNow what we've done we've actually created\na file called trustanchors.dns that is\n\n470\n00:23:27.110 --> 00:23:30.100\ngonna store the trust\nanchors that we talked about.\n\n471\n00:23:30.100 --> 00:23:31.182\nThe DNS server.\n\n472\n00:23:31.182 --> 00:23:34.190\nWe'll have that as part of what\nwe're doing for signing the zone.\n\n473\n00:23:34.190 --> 00:23:35.580\nSo that's just kind of interesting,\n\n474\n00:23:35.580 --> 00:23:37.730\na little extra added information there for\nyou.\n\n475\n00:23:37.730 --> 00:23:40.060\nAll right, so\nwe've gone how we've done all that.\n\n476\n00:23:40.060 --> 00:23:42.372\nNow what we're gonna do\nis just go ahead and\n\n477\n00:23:42.372 --> 00:23:45.275\nlet's take a look at where\nour resource records are.\n\n478\n00:23:45.275 --> 00:23:46.661\nWe don't seem to see\nanything in there now.\n\n479\n00:23:46.661 --> 00:23:49.992\nI've told you before that a lot of times\nwhen you have the console up when you do\n\n480\n00:23:49.992 --> 00:23:50.854\nsomething-\n&gt;&gt; Refresh.\n\n481\n00:23:50.854 --> 00:23:53.810\n&gt;&gt; Standard rule of thumb is, right,\ngotta refresh because it's there.\n\n482\n00:23:53.810 --> 00:23:55.020\nIt's just hiding from us,\n\n483\n00:23:55.020 --> 00:23:57.970\nbecause we just don't see the fact\nthat it's there even though it is.\n\n484\n00:23:57.970 --> 00:24:00.711\nSo let's just go ahead,\nlet's just refresh, and\n\n485\n00:24:00.711 --> 00:24:03.336\nlook at all that stuff\nthat just popped in there.\n\n486\n00:24:03.336 --> 00:24:05.500\nGot a whole bunch of stuff\nthat just showed up.\n\n487\n00:24:05.500 --> 00:24:09.232\nLet's just extend this out a little bit,\nso we can kind of take a look here,\n\n488\n00:24:09.232 --> 00:24:12.930\nmove this over, and we'll just move\nthat back just enough so you can see.\n\n489\n00:24:12.930 --> 00:24:18.024\nSo we went from having, I don't know,\nfour records, I think, right,\n\n490\n00:24:18.024 --> 00:24:23.304\nwe have an S, an NS, an SOA,\na couple of host records, www, www2 there.\n\n491\n00:24:23.304 --> 00:24:25.372\nAnd you'll see those\nare still there by the way.\n\n492\n00:24:25.372 --> 00:24:27.094\nThere is my host record,\n\n493\n00:24:27.094 --> 00:24:31.858\nthere are my host records that I had\ncreated prior down there in blue.\n\n494\n00:24:31.858 --> 00:24:36.210\nAnd there is my start of authority.\n\n495\n00:24:36.210 --> 00:24:42.150\nThere is my name server\nrecord right there.\n\n496\n00:24:42.150 --> 00:24:47.550\nBut you'll see that everything else that\nI have there has suddenly been created,\n\n497\n00:24:47.550 --> 00:24:49.290\nand there's a lot of stuff going on.\n\n498\n00:24:49.290 --> 00:24:52.790\nCan we go full screen just so\nwe can see the types of these records and\n\n499\n00:24:52.790 --> 00:24:54.960\ntake a look at them a little more closely?\n\n500\n00:24:54.960 --> 00:24:58.560\nI've created a very large number of\nrecords, including, if you'll notice,\n\n501\n00:24:58.560 --> 00:25:00.050\nby the way, down below.\n\n502\n00:25:00.050 --> 00:25:04.380\nI've recreated the two host records, but\ninstead of calling them host records now,\n\n503\n00:25:04.380 --> 00:25:05.910\nthey're RR signatures.\n\n504\n00:25:05.910 --> 00:25:11.580\nResource record signatures, I've digitally\nsigned those resource records that exist.\n\n505\n00:25:11.580 --> 00:25:16.850\nAnd notice I have resource record\nsignatures are our sigs and next secure 3,\n\n506\n00:25:16.850 --> 00:25:20.997\nNSEC 3 records,\nwith a bunch of crazy identifiers on them.\n\n507\n00:25:20.997 --> 00:25:24.157\nAnd I also have a whole\nbunch same as parent folder,\n\n508\n00:25:24.157 --> 00:25:28.500\nalong with DNS keys, right,\nmy DNS key records are here as well.\n\n509\n00:25:28.500 --> 00:25:32.890\nAnd my resource record signatures,\nmy RR sig records are here.\n\n510\n00:25:32.890 --> 00:25:36.070\nAnd we talked about these, right,\nthis is what we walked through, and\n\n511\n00:25:36.070 --> 00:25:36.930\nwe took a look at.\n\n512\n00:25:36.930 --> 00:25:41.070\nLet me extend that out, cuz we don't\nreally care about our time stamp,\n\n513\n00:25:41.070 --> 00:25:44.398\nbut we do care about being\nable to see all of this.\n\n514\n00:25:44.398 --> 00:25:48.920\nAnd you could see that this\nstring goes on, and on, and on.\n\n515\n00:25:48.920 --> 00:25:51.690\nWhat I wanted to show you was that\n\n516\n00:25:54.540 --> 00:25:58.720\nSHA 160 bit output is actually,\nwe've got that as part of our record here.\n\n517\n00:25:58.720 --> 00:25:59.750\nYou can see all of this.\n\n518\n00:25:59.750 --> 00:26:04.040\nAnd so this is what we get when\nwe actually are creating DNS set.\n\n519\n00:26:04.040 --> 00:26:07.920\nWe get all these additional records\nthat are gonna become now part of\n\n520\n00:26:07.920 --> 00:26:09.440\nour zone, right?\n\n521\n00:26:09.440 --> 00:26:13.030\nAnd as a result, or part of the symmetry\nthat we put on the zone, and\n\n522\n00:26:13.030 --> 00:26:14.320\ntherefore the security.\n\n523\n00:26:14.320 --> 00:26:17.710\nAnd as a result, we're now gonna have\na lot more capabilities to validate and\n\n524\n00:26:17.710 --> 00:26:20.680\nauthenticate and\nprovide proof as to who we are.\n\n525\n00:26:20.680 --> 00:26:22.730\nNotice also, it's hard to see,\nlet me click over here,\n\n526\n00:26:22.730 --> 00:26:24.200\njust click away for a minute.\n\n527\n00:26:24.200 --> 00:26:28.980\nSo you could see that there is an icon\nchange on the folder, the icon for\n\n528\n00:26:28.980 --> 00:26:32.410\nthe securepracticelabs.com folder for\nthe zone.\n\n529\n00:26:32.410 --> 00:26:35.430\nNotice it has a kind of a gold padlock,\n\n530\n00:26:35.430 --> 00:26:38.450\nupper left-hand corner\nof the zone file folder.\n\n531\n00:26:38.450 --> 00:26:40.230\nI'm kinda pointing to it right there.\n\n532\n00:26:40.230 --> 00:26:41.650\nYou may not even pick up on it or\n\n533\n00:26:41.650 --> 00:26:44.180\nsee it unless you know that\nyou have to look for it.\n\n534\n00:26:44.180 --> 00:26:46.590\nThat is proof that we have\ndigitally signed, right?\n\n535\n00:26:46.590 --> 00:26:49.740\nThat's what actually indicates to\nus that we have gone through and\n\n536\n00:26:49.740 --> 00:26:51.155\ndone the digital signature.\n\n537\n00:26:51.155 --> 00:26:57.634\nSo all that to set up and\nget our zone file signed and ready to go.\n\n538\n00:26:57.634 --> 00:27:00.886\nWhat we're gonna do, or at least\nwhat we'll talk about doing next is,\n\n539\n00:27:00.886 --> 00:27:03.273\nwe're gonna distribute the trust anchor,\nright,\n\n540\n00:27:03.273 --> 00:27:06.165\nwe talked about the trust anchors and\nwhy they're important.\n\n541\n00:27:06.165 --> 00:27:09.307\nWe're gonna distribute that out to\na non-authoritative DNS server.\n\n542\n00:27:09.307 --> 00:27:13.103\nI have another DNS server set\nup that is non-authoritative,\n\n543\n00:27:13.103 --> 00:27:17.191\nmeaning it's not gonna have\nthe proper rights and information and\n\n544\n00:27:17.191 --> 00:27:22.110\naccess to manage a zone authoritatively,\nlike secure.practicelabs.com.\n\n545\n00:27:22.110 --> 00:27:26.297\nWe're gonna transfer the trust anchor or\ndistribute the trust anchor over to it.\n\n546\n00:27:26.297 --> 00:27:29.180\nCuz this is an important step,\nand you may need to do this.\n\n547\n00:27:29.180 --> 00:27:30.600\nI wanna walk you through\nthe logic of this.\n\n548\n00:27:30.600 --> 00:27:31.800\nSo let's take a look.\n\n549\n00:27:31.800 --> 00:27:35.210\nI need to go over to my, and\n\n550\n00:27:35.210 --> 00:27:40.070\nlet me just make sure I have the right\nmachine here, give me just one second.\n\n551\n00:27:40.070 --> 00:27:42.470\nGonna go over to my other machine,\nbefore I do this,\n\n552\n00:27:42.470 --> 00:27:45.010\nI'm gonna just show you one\nquick thing that we have here.\n\n553\n00:27:45.010 --> 00:27:49.910\nThis is our DNS folder sitting on\nthe domain server we just created.\n\n554\n00:27:49.910 --> 00:27:51.700\nYeah, well,\nI see Windows System 32, right?\n\n555\n00:27:52.980 --> 00:27:59.510\nAnd so just open this up,\nso you can see this here.\n\n556\n00:27:59.510 --> 00:28:02.206\nSo we have our zone information here,\nright?\n\n557\n00:28:02.206 --> 00:28:04.723\nWe have our back up in there, DNS, etc,\n\n558\n00:28:04.723 --> 00:28:07.830\nnot a lot going on in there right now,\nright?\n\n559\n00:28:07.830 --> 00:28:11.540\nBut this is what we are going\nto be referencing, this,\n\n560\n00:28:11.540 --> 00:28:15.640\nour practicelabs.com,\nDNS information, etc, right?\n\n561\n00:28:15.640 --> 00:28:18.600\nSo we have our standard DNS folder, right?\n\n562\n00:28:18.600 --> 00:28:22.612\nNothing fancy, nothing crazy, I've just\ngone ahead and I've shared that, just so\n\n563\n00:28:22.612 --> 00:28:24.350\nyou know what I'm about to do.\n\n564\n00:28:24.350 --> 00:28:26.880\nI've just gone ahead and I've shared it,\nI shared it ahead of time.\n\n565\n00:28:26.880 --> 00:28:33.474\nBut I shared it, you see it's already set\nup, and it is shared as just PLABDC01DNS.\n\n566\n00:28:33.474 --> 00:28:35.817\nAnd I've gone in and I've set it up and\nshared it, so that way,\n\n567\n00:28:35.817 --> 00:28:36.936\nwe can connect to it, right?\n\n568\n00:28:36.936 --> 00:28:38.900\nAnd that's what we're gonna do here.\n\n569\n00:28:38.900 --> 00:28:42.690\nSo gonna go ahead, gonna do that.\n\n570\n00:28:42.690 --> 00:28:48.105\nLet's just minimize that for\njust one second, just come up here for\n\n571\n00:28:48.105 --> 00:28:53.906\nhalf a second, and let me just stop and\nstart the DNS service real quick.\n\n572\n00:28:58.859 --> 00:29:01.030\nMake sure everything is up to date.\n\n573\n00:29:01.030 --> 00:29:04.020\nGot all our stuff in there,\nthat's all good.\n\n574\n00:29:04.020 --> 00:29:08.646\nAll right, so we've got that, that's all\nbeen set up, ready to go, that's shared.\n\n575\n00:29:08.646 --> 00:29:13.480\nAll right, so now what we're gonna do\nis come over here, and we're gonna go\n\n576\n00:29:13.480 --> 00:29:18.180\nto our DM machine, this is the other\nmachine that we're gonna go into.\n\n577\n00:29:18.180 --> 00:29:23.106\nAnd we are going to use our additional DNS\nserver, and when we look, just bring up\n\n578\n00:29:23.106 --> 00:29:27.898\nour forward lookup zones, we'll see we\ndon't have any zones set up in there.\n\n579\n00:29:27.898 --> 00:29:30.880\nThere is nothing configured\nin there right now.\n\n580\n00:29:30.880 --> 00:29:34.360\nWe're gonna go over here\nto our Trust Points folder.\n\n581\n00:29:34.360 --> 00:29:36.948\nOur trust points folder is\nwhere we're gonna see, and\n\n582\n00:29:36.948 --> 00:29:39.140\nactually I didn't show this to you.\n\n583\n00:29:39.140 --> 00:29:40.520\nShould have shown this to you,\n\n584\n00:29:40.520 --> 00:29:43.870\nI apologize, our Trust Points folder,\nright, over here.\n\n585\n00:29:43.870 --> 00:29:46.300\nHave one of these on every DNS server,\nright?\n\n586\n00:29:46.300 --> 00:29:51.710\nSo our Trust Points folder is where we're\ngonna go on the DM machine right here,\n\n587\n00:29:51.710 --> 00:29:54.551\nthe other DNS server we wanna connect to.\n\n588\n00:29:54.551 --> 00:29:59.020\nAnd we're gonna go ahead, and we're\ngonna import the DNS key from the domain\n\n589\n00:29:59.020 --> 00:30:03.388\ncontroller integrated DNS server we\njust created the zone that signed on.\n\n590\n00:30:03.388 --> 00:30:05.980\nAnd the DNS key is gonna then\nallow us to understand and\n\n591\n00:30:05.980 --> 00:30:08.420\naccess and\nwork with information about the zone.\n\n592\n00:30:08.420 --> 00:30:11.760\nSo we're gonna go into our Trust Points\nfolder, gonna right click and\n\n593\n00:30:11.760 --> 00:30:13.351\nyou'll see we can go ahead here.\n\n594\n00:30:13.351 --> 00:30:16.497\nAnd we can add a key if we already\nhave access to it, or if we need to,\n\n595\n00:30:16.497 --> 00:30:19.836\nwe can import a key to bring it in,\nright, we have different options.\n\n596\n00:30:19.836 --> 00:30:24.898\nWe're gonna import our DNS key,\nwe have to specify our file here, so\n\n597\n00:30:24.898 --> 00:30:30.720\nwhat we're gonna do is go over here,\nand I'm just gonna put in our key set.\n\n598\n00:30:30.720 --> 00:30:33.420\nAnd out key set was one of\nthe files that was sitting\n\n599\n00:30:33.420 --> 00:30:35.630\nin the DNS folder on the other machine.\n\n600\n00:30:35.630 --> 00:30:37.230\nLet me show it to you.\n\n601\n00:30:37.230 --> 00:30:43.510\nI went into the folder, but\nI didn't actually point out the DNS key.\n\n602\n00:30:43.510 --> 00:30:47.697\nYou'll see here our key set secure\npractice lab's right there.\n\n603\n00:30:47.697 --> 00:30:50.073\nThat is the file that we're gonna import,\n\n604\n00:30:50.073 --> 00:30:53.376\nthat is our DNS key that we\ncreated as part the zone signing.\n\n605\n00:30:53.376 --> 00:30:58.677\nWe're gonna bring that in, and\nwe are going to use that to import and\n\n606\n00:30:58.677 --> 00:31:03.880\ngive us knowledge of the DNS key\nin the zone on the other server.\n\n607\n00:31:03.880 --> 00:31:06.394\nSo we're gonna come over here,\ngonna go to File to Import.\n\n608\n00:31:06.394 --> 00:31:11.565\nLet me just type in the path here,\n\n609\n00:31:11.565 --> 00:31:14.893\nPLABDC01 and DNS.\n\n610\n00:31:14.893 --> 00:31:22.031\nAnd then our key sets,\nwhich were spelled out correctly,\n\n611\n00:31:22.031 --> 00:31:27.422\nkeyset-secure.practicelabs.com, so\n\n612\n00:31:27.422 --> 00:31:30.926\nwe're gonna specify that.\n\n613\n00:31:30.926 --> 00:31:36.110\nLet's click OK, and you'll see I'm\nable to bring that in, all right?\n\n614\n00:31:36.110 --> 00:31:39.388\nSo we then have a little\nplaceholder that shows up there.\n\n615\n00:31:39.388 --> 00:31:41.450\nAgain, obviously, you gotta make\nsure you have the right path,\n\n616\n00:31:41.450 --> 00:31:43.520\ngotta make sure the DNS folder is shared,\nas I showed you.\n\n617\n00:31:43.520 --> 00:31:46.472\nAnd you gotta make sure you know how\nto get to and find the file, but\n\n618\n00:31:46.472 --> 00:31:49.693\nwe're just assuming obviously that\nall that is available to you in your\n\n619\n00:31:49.693 --> 00:31:50.659\nlocal environment,\n\n620\n00:31:50.659 --> 00:31:54.165\nmeaning you would translate the name\nspace into whatever you've called it.\n\n621\n00:31:54.165 --> 00:31:57.263\nAnd provide the appropriate name and the\npath to wherever you've shared it from, so\n\n622\n00:31:57.263 --> 00:31:59.151\nyou can pull in the file,\nright, just so you know.\n\n623\n00:31:59.151 --> 00:32:03.095\nAll right, so we've done that, and\nyou'll see that under Trust Points,\n\n624\n00:32:03.095 --> 00:32:06.304\nwe have com under there,\nwe have practice labs under there.\n\n625\n00:32:06.304 --> 00:32:10.160\nWe have secure and notice,\njust move this over here,\n\n626\n00:32:10.160 --> 00:32:15.140\nsame as parent, valid, notice we\nhave our DNS key references here.\n\n627\n00:32:15.140 --> 00:32:19.847\nWe just brought those in,\nimported them over, or\n\n628\n00:32:19.847 --> 00:32:23.893\nplaced the trust anchor onto this system.\n\n629\n00:32:23.893 --> 00:32:28.292\nNow that we've done that,\nrather I should say, we'll now have\n\n630\n00:32:28.292 --> 00:32:33.350\nknowledge of the other zone and the\nability to be able to interact with it.\n\n631\n00:32:33.350 --> 00:32:34.725\nNow we have to validate this of course.\n\n632\n00:32:34.725 --> 00:32:38.190\nAnd we have to understand that\nthe DNS trust or the DNS keys and\n\n633\n00:32:38.190 --> 00:32:40.518\nthe trust anchors are there,\nwe know they're there.\n\n634\n00:32:40.518 --> 00:32:44.260\nWe're seeing them look good, but we gotta\ngive it the old litmus test, as we say.\n\n635\n00:32:44.260 --> 00:32:46.183\nRight, we gotta actually go through,\nand we gotta connect to it.\n\n636\n00:32:46.183 --> 00:32:48.650\nAnd we gotta make sure they're there.\n\n637\n00:32:48.650 --> 00:32:51.340\nWe're gonna come back and\ndo that in our next episode.\n\n638\n00:32:51.340 --> 00:32:54.025\nBecause as I look across at the clock, and\n\n639\n00:32:54.025 --> 00:32:57.109\nI see that we are all out of time,\nit looks like.\n\n640\n00:32:57.109 --> 00:33:00.660\nAll right, so we've laid down\nthe foundation, got all the stuff set up.\n\n641\n00:33:00.660 --> 00:33:03.161\nWalked through the logic of how to\nset up the zone, how to sign it,\n\n642\n00:33:03.161 --> 00:33:05.130\ngot a lot of the heavy\nlifting out of the way.\n\n643\n00:33:05.130 --> 00:33:08.150\nNow, the really cool fun stuff happens\nwhen you come back and you join us for\n\n644\n00:33:08.150 --> 00:33:09.140\npart three.\n\n645\n00:33:09.140 --> 00:33:10.053\n&gt;&gt; Yeah.\n&gt;&gt; Right, for part three,\n\n646\n00:33:10.053 --> 00:33:12.393\nwe're gonna actually show you how\nto verify those trust anchors,\n\n647\n00:33:12.393 --> 00:33:13.580\nmake sure they're working.\n\n648\n00:33:13.580 --> 00:33:15.587\nAnd we're gonna play around with\nsome other stuff in there and\n\n649\n00:33:15.587 --> 00:33:17.956\nshow you how to make sure everything\nis exactly as you would like it to be.\n\n650\n00:33:17.956 --> 00:33:20.610\n&gt;&gt; That's right,\nwe always gotta check our work, right?\n\n651\n00:33:20.610 --> 00:33:23.139\nOr we don't get credit for it,\nlike they would say in elementary school.\n\n652\n00:33:23.139 --> 00:33:27.640\nBut that's true, so let's go ahead and\nsign off for this particular show.\n\n653\n00:33:27.640 --> 00:33:29.860\nRemember, I'm your host, Cherokee Boose.\n\n654\n00:33:29.860 --> 00:33:30.860\n&gt;&gt; I'm Adam Gordon.\n\n655\n00:33:30.860 --> 00:33:32.527\n&gt;&gt; See you next time here at ITProTV.\n\n656\n00:33:32.527 --> 00:33:39.900\n[MUSIC]\n\n657\n00:33:39.900 --> 00:33:42.387\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217831315"
        },
        {
          "description": "In this show, Cherokee and Adam continue picking up with a previous demonstration implementing DNSSEC. Adam walks through the steps to show how to distribute trust anchors to a secondary Domain Controller. Adam also introduces the term NRTP (The Name Resolution Policy) and demonstrates where and how to  create those policies.",
          "length": "2279",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-2-3-implementing_dnssec_pt3-051117-PGM.00_00_11_22.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-2-3-implementing_dnssec_pt3-051117-PGM.00_00_11_22.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-2-3-implementing_dnssec_pt3-051117-PGM.00_00_11_22.Still002-sm.jpg",
          "title": "Implementing DNSSEC Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.357\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.357 --> 00:00:06.441\n[CROSSTALK]\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.441 --> 00:00:08.349\n[MUSIC]\n\n4\n00:00:08.349 --> 00:00:11.940\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.940 --> 00:00:15.532\n&gt;&gt; Welcome back to your networking\nwith Windows Server 2016 series.\n\n6\n00:00:15.532 --> 00:00:18.005\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.005 --> 00:00:21.780\nWe're continuing with our DNS journey,\nwe've been speaking about DNSSEC.\n\n8\n00:00:21.780 --> 00:00:24.590\nWe even started a demonstration\nin a previous episode.\n\n9\n00:00:24.590 --> 00:00:27.640\nSo back in studios with us\ntoday we have Mr. Adam Gordon.\n\n10\n00:00:27.640 --> 00:00:29.160\nThank you for joining today, Adam.\n\n11\n00:00:29.160 --> 00:00:31.126\n&gt;&gt; Thank you,\nalways a pleasure to be here.\n\n12\n00:00:31.126 --> 00:00:33.702\nSo we're gonna continue our\nconversations around DNSSEC.\n\n13\n00:00:33.702 --> 00:00:35.490\nWe're gonna jump back\nin where we left off.\n\n14\n00:00:35.490 --> 00:00:39.097\nJust to remind you, this is one of those\nthings that if you haven't seen the prior\n\n15\n00:00:39.097 --> 00:00:41.448\nepisode, you're really\ngonna literally be lost.\n\n16\n00:00:41.448 --> 00:00:42.800\nYou're not gonna know what we are doing.\n\n17\n00:00:42.800 --> 00:00:44.096\nSo encourage you to go back and\ntake a look.\n\n18\n00:00:44.096 --> 00:00:46.407\nWe're in the middle of setting up DNSSEC.\n\n19\n00:00:46.407 --> 00:00:50.037\nWe've take in our zone file on our\noriginal DNS domain controller\n\n20\n00:00:50.037 --> 00:00:52.480\nActive Directory integrated server.\n\n21\n00:00:52.480 --> 00:00:57.020\nWe've created a separate zone file to\nwork with, secure.practicelabs.com.\n\n22\n00:00:57.020 --> 00:01:00.780\nGone ahead, walked through\nthe extensive explanation process of\n\n23\n00:01:00.780 --> 00:01:02.800\nactually creating a signed zone.\n\n24\n00:01:02.800 --> 00:01:05.550\nWe've done that,\nwe've shared out our DNS file.\n\n25\n00:01:05.550 --> 00:01:09.955\nWe've imported the DNS key\nonto a secondary DNS server,\n\n26\n00:01:09.955 --> 00:01:11.990\nnon-authoritative for the zone.\n\n27\n00:01:11.990 --> 00:01:16.000\nSet that up, and allowed the trust\nanchor points to be established.\n\n28\n00:01:16.000 --> 00:01:18.474\nWe've done all that in\nthe prior conversation.\n\n29\n00:01:18.474 --> 00:01:22.425\nNow we're about to go to a client, totally\nunrelated to either of these servers,\n\n30\n00:01:22.425 --> 00:01:23.757\nour Windows 10 machine.\n\n31\n00:01:23.757 --> 00:01:25.940\nAnd we're gonna validate that\nthose trust anchors are working.\n\n32\n00:01:25.940 --> 00:01:28.725\nSo if you join me here,\nyou'll see I've already set up PowerShell.\n\n33\n00:01:28.725 --> 00:01:30.210\nWe've already got it loaded, ready to go.\n\n34\n00:01:30.210 --> 00:01:33.100\nThis part of the demonstration is\nliterally five seconds cuz we're about to\n\n35\n00:01:33.100 --> 00:01:35.860\ngo back into our servers and\nstart doing some other stuff.\n\n36\n00:01:35.860 --> 00:01:38.950\nBut just wanna validate what we've done,\nand let me move this over.\n\n37\n00:01:38.950 --> 00:01:40.876\nI didn't realize I was cutting\noff the edge of the screen there.\n\n38\n00:01:40.876 --> 00:01:43.211\nBut you can see that I've gone and\n\n39\n00:01:43.211 --> 00:01:47.640\nissued a very straightforward command,\nResolve-DnsName.\n\n40\n00:01:47.640 --> 00:01:50.990\nThe name parameters,\nsecure.practicelabs.com.trustanchors.\n\n41\n00:01:50.990 --> 00:01:53.490\nSo we're using our trust anchors\nthat we just established.\n\n42\n00:01:53.490 --> 00:01:56.786\nYou'll see the DNS keys right down here.\n\n43\n00:01:56.786 --> 00:02:00.230\nType, DNSKEY, server, and\nwe specify the name of the server.\n\n44\n00:02:00.230 --> 00:02:02.550\nThis is the non-authoritative server,\n\n45\n00:02:02.550 --> 00:02:06.580\nthe secondary DNS server that we\nimported the trust anchor points onto.\n\n46\n00:02:06.580 --> 00:02:08.380\nSo we just set them up, establish them.\n\n47\n00:02:08.380 --> 00:02:13.060\nWe're validating from a client\nthat they are there and active.\n\n48\n00:02:13.060 --> 00:02:15.280\nAnd that we can access them and\nthat they're working.\n\n49\n00:02:15.280 --> 00:02:17.970\nAnd we know they are cuz we\nsaw the import was successful.\n\n50\n00:02:17.970 --> 00:02:25.086\nBut I suggested right at the end of\nthe last episode that trust, but verify.\n\n51\n00:02:25.086 --> 00:02:26.338\nCherokee kinda said the same thing, right?\n\n52\n00:02:26.338 --> 00:02:29.880\nWe have to trust our work, get our\ngold star for work well done, right?\n\n53\n00:02:29.880 --> 00:02:32.230\nThat we have to trust and\nknow what we did.\n\n54\n00:02:32.230 --> 00:02:34.360\nBut it's always good to verify\nwhat we did just to make sure.\n\n55\n00:02:34.360 --> 00:02:35.623\nSo we're doing that right now.\n\n56\n00:02:35.623 --> 00:02:39.090\nAnd this is how we would verify that those\ntrust anchors are established and working.\n\n57\n00:02:39.090 --> 00:02:40.450\nSo we're able to do this.\n\n58\n00:02:40.450 --> 00:02:43.870\nNow what we're gonna do is we're\ngonna flip over or go back to,\n\n59\n00:02:43.870 --> 00:02:47.118\nI should say, our domain\ncontroller where we were working.\n\n60\n00:02:47.118 --> 00:02:51.436\nSo let me just bring up our domain\ncontroller machine where our zone\n\n61\n00:02:51.436 --> 00:02:55.226\nis originating from,\nour secure.practicelabs.com.\n\n62\n00:02:55.226 --> 00:02:57.115\nAnd what we're gonna\ndo is go back in here.\n\n63\n00:02:57.115 --> 00:03:01.400\nAnd we're gonna distribute out our trust\nanchors to another domain controller.\n\n64\n00:03:01.400 --> 00:03:03.210\nBut do so in a slight different way.\n\n65\n00:03:03.210 --> 00:03:08.560\nSo we're gonna go here, gonna right-click\non our secure.practicelabs.com.\n\n66\n00:03:08.560 --> 00:03:12.648\nZone file, go back to our DNSSEC menu.\n\n67\n00:03:12.648 --> 00:03:15.178\nAnd I pointed out as we did\nthe walkthrough that the part\n\n68\n00:03:15.178 --> 00:03:18.368\nabout signing the zone with the active,\nwhen we did this initially,\n\n69\n00:03:18.368 --> 00:03:20.192\nthe other two options were grayed out.\n\n70\n00:03:20.192 --> 00:03:22.610\nI showed you, or\nat least told you, what they were.\n\n71\n00:03:22.610 --> 00:03:25.505\nShowed you now, or I'm showing you now,\nthat we can unsign the zone.\n\n72\n00:03:25.505 --> 00:03:27.670\nCuz obviously if you sign, you can unsign.\n\n73\n00:03:27.670 --> 00:03:30.170\nWe're not gonna do that,\nwe are gonna go into Properties.\n\n74\n00:03:30.170 --> 00:03:33.495\nAnd now that is optional, and\nactive, and available for\n\n75\n00:03:33.495 --> 00:03:35.510\nus cuz we've created a sign zone.\n\n76\n00:03:35.510 --> 00:03:37.250\nLet me just move this over here,\n\n77\n00:03:37.250 --> 00:03:40.700\nkind of away from some of the distractions\nof all the stuff going on behind us.\n\n78\n00:03:40.700 --> 00:03:43.560\nNow let's just take a moment\nto look at the properties of\n\n79\n00:03:43.560 --> 00:03:45.300\nthe zone file that's been signed.\n\n80\n00:03:45.300 --> 00:03:47.165\nAll those choices we made,\n\n81\n00:03:47.165 --> 00:03:51.961\nall those options we saw in the zone\nsigning wizard as we went through.\n\n82\n00:03:51.961 --> 00:03:56.970\nThe KSK, the ZSK, the NSEC,\nrecords, the trust anchors.\n\n83\n00:03:56.970 --> 00:03:59.780\nAll that stuff's here, all the choices\nwe made, all the options we have.\n\n84\n00:03:59.780 --> 00:04:00.830\nThey're gonna be available to us.\n\n85\n00:04:00.830 --> 00:04:03.464\nSo we can go through and, obviously,\ntake a look at what we have.\n\n86\n00:04:03.464 --> 00:04:04.963\nWe'll go into the trust anchor and\n\n87\n00:04:04.963 --> 00:04:08.179\nthen talk about how we can distribute\nour trust anchors to other servers.\n\n88\n00:04:08.179 --> 00:04:09.430\nWe'll take a look at that.\n\n89\n00:04:09.430 --> 00:04:13.732\nBut the key master is specified here,\nthe machine that acts as our key master.\n\n90\n00:04:13.732 --> 00:04:15.530\nWe talked about this as\nwe did our walkthrough.\n\n91\n00:04:15.530 --> 00:04:17.229\nWe have the option to change this.\n\n92\n00:04:17.229 --> 00:04:21.522\nOur signing key is specified here\nwith all the choices we made.\n\n93\n00:04:21.522 --> 00:04:25.365\nOur zone signing key, specified\nhere with all the choices we made.\n\n94\n00:04:25.365 --> 00:04:31.232\nOur NSEC3 information or NSEC, depending\non what we're doing, specified here.\n\n95\n00:04:31.232 --> 00:04:35.375\nOur trust anchor, and I showed you\nthis when I was doing the wizard, but\n\n96\n00:04:35.375 --> 00:04:36.697\nI did not check it off.\n\n97\n00:04:36.697 --> 00:04:40.025\nAnd select, remember, we went back,\nkinda walked through all the options.\n\n98\n00:04:40.025 --> 00:04:41.371\nCanceled out of the wizard,\n\n99\n00:04:41.371 --> 00:04:44.570\njust accepted the default just\nto set up the zone initially.\n\n100\n00:04:44.570 --> 00:04:48.210\nAnd the default choice is not\nto distribute the trust anchors.\n\n101\n00:04:48.210 --> 00:04:50.320\nSo it's one of the reasons I\nwent through and reset it.\n\n102\n00:04:50.320 --> 00:04:56.155\nTo ensure that I had not made any choices\nthat would then not have it set up and\n\n103\n00:04:56.155 --> 00:04:57.615\nready to go here for us.\n\n104\n00:04:57.615 --> 00:05:00.195\nAnd you see that I can go ahead,\nand I can check this box off.\n\n105\n00:05:00.195 --> 00:05:02.795\nAnd indeed, that's what we're\ngonna do to set this up and\n\n106\n00:05:02.795 --> 00:05:04.767\nsend it out to another domain controller.\n\n107\n00:05:04.767 --> 00:05:06.629\nI'm gonna demo this for\nyou in just a second.\n\n108\n00:05:06.629 --> 00:05:09.329\nBefore we do that,\nlet's just come over here to Advanced.\n\n109\n00:05:09.329 --> 00:05:12.877\nAnd you'll see the other part of that\nconversation around our TTL values and\n\n110\n00:05:12.877 --> 00:05:14.517\nour algorithm for signing.\n\n111\n00:05:14.517 --> 00:05:16.477\nAll of the stuff we saw in\nthe wizard is all right here.\n\n112\n00:05:16.477 --> 00:05:18.537\nSo walking through with you and\n\n113\n00:05:18.537 --> 00:05:21.497\nchoosing to manually provide\nthose parameters in the wizard.\n\n114\n00:05:21.497 --> 00:05:26.077\nYou see all we're doing is essentially\npopulating every tab in every area here\n\n115\n00:05:26.077 --> 00:05:28.387\non the properties of the sign zone.\n\n116\n00:05:28.387 --> 00:05:30.047\nThat's what we're doing with the wizard.\n\n117\n00:05:30.047 --> 00:05:33.390\nSo we're gonna enable this right here,\ncheck that off.\n\n118\n00:05:33.390 --> 00:05:35.580\nWe're then gonna go ahead,\nand we're gonna click OK.\n\n119\n00:05:35.580 --> 00:05:38.580\nNow remember, I told you,\nwhen I showed you this in the wizard,\n\n120\n00:05:38.580 --> 00:05:41.140\nthat this would allow us to\nreplicate out the trust anchors\n\n121\n00:05:41.140 --> 00:05:43.555\nto all the domain controllers that\nare Active Directory integrated.\n\n122\n00:05:43.555 --> 00:05:44.980\nWe talked about this, right?\n\n123\n00:05:44.980 --> 00:05:48.330\nSo it says here the following\nis the summary of changes made\n\n124\n00:05:48.330 --> 00:05:53.050\non the zone secure.practicelabs.com,\nwhatever our signing zone is.\n\n125\n00:05:53.050 --> 00:05:56.550\nThe DNSSEC parameters for\nthe zone have been modified.\n\n126\n00:05:56.550 --> 00:05:58.700\nClick Yes to proceed, No to abort, right?\n\n127\n00:05:58.700 --> 00:06:01.520\nSo it's just telling us, hey,\nwe're modifying them, great.\n\n128\n00:06:01.520 --> 00:06:04.600\nConfiguration, DNSSEC\nupdate was successful.\n\n129\n00:06:04.600 --> 00:06:07.600\nSo we see we do have a,\nhey, we're updating.\n\n130\n00:06:07.600 --> 00:06:10.120\nHey, by the way, we're successful,\ngood to know, right?\n\n131\n00:06:10.120 --> 00:06:14.320\nClick OK, so we've been able to now\nsend that out and make that available.\n\n132\n00:06:15.760 --> 00:06:18.530\nAnd we're now able to go in,\nand we're gonna go check that.\n\n133\n00:06:18.530 --> 00:06:21.770\nGonna go to another domain\ncontroller that has DNS running,\n\n134\n00:06:21.770 --> 00:06:25.336\nour PlabSA01 machine, and\nsee whether or not that's shown up.\n\n135\n00:06:25.336 --> 00:06:28.360\nSo what we're gonna do is just\nbring up another server here.\n\n136\n00:06:28.360 --> 00:06:30.030\nThat should be this one right?\n\n137\n00:06:30.030 --> 00:06:33.510\nNope, that's the DM one,\nthat should be this one, right here.\n\n138\n00:06:33.510 --> 00:06:34.470\nSo we're gonna go ahead.\n\n139\n00:06:34.470 --> 00:06:38.761\nI haven't loaded the DNS console on this\njust cuz I didn't want to have it open,\n\n140\n00:06:38.761 --> 00:06:39.731\nhave this setup.\n\n141\n00:06:39.731 --> 00:06:41.422\nAnd then have to worry\nabout whether it showed up.\n\n142\n00:06:41.422 --> 00:06:43.530\nAnd refreshing, stopping,\nstarting, things like that.\n\n143\n00:06:43.530 --> 00:06:47.160\nSo we're just gonna open the DNS console\nnow, but this is yet another machine.\n\n144\n00:06:47.160 --> 00:06:49.730\nYou'll notice it is\nan Active Directory Domain Controller.\n\n145\n00:06:49.730 --> 00:06:52.210\nNotice it is running DNS, right?\n\n146\n00:06:52.210 --> 00:06:56.383\nSo we're gonna go in, let's go to Tools,\nlet's go to DNS, right there.\n\n147\n00:06:58.561 --> 00:07:03.927\nAll right, so we have our PlabSA01,\nlet's just minimize this.\n\n148\n00:07:03.927 --> 00:07:08.903\nExtend that out there, let's open this up.\n\n149\n00:07:08.903 --> 00:07:13.615\nYou'll see that we do have, Our\n\n150\n00:07:13.615 --> 00:07:18.000\nsecure.practicelabs.com zone, right?\n\n151\n00:07:18.000 --> 00:07:24.230\nSo we can see that there,\nwe can see our trust points are there.\n\n152\n00:07:25.370 --> 00:07:28.374\nCuz remember, we just said, hey, replicate\nthem out, make sure they're available,\n\n153\n00:07:28.374 --> 00:07:29.307\nour trust anchor, right?\n\n154\n00:07:29.307 --> 00:07:30.770\n&gt;&gt; Checking our work, yeah.\n\n155\n00:07:30.770 --> 00:07:32.840\n&gt;&gt; Checking our work,\nyou better have those gold stars handy.\n\n156\n00:07:32.840 --> 00:07:33.980\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm gonna need a bunch of them by the\n\n157\n00:07:33.980 --> 00:07:37.822\ntime we're done cuz I got some wickedly\ncool stuff we're doing here, all right?\n\n158\n00:07:37.822 --> 00:07:38.930\nSo practicelabs.com,\n\n159\n00:07:38.930 --> 00:07:41.390\nI'm just walking through\nthe hierarchy the way we did before.\n\n160\n00:07:41.390 --> 00:07:44.650\nAnd you can see, our DNS keys\nhave been replicated out, right?\n\n161\n00:07:44.650 --> 00:07:49.224\nSo by enabling that check box on\nthe properties of the original zone that\n\n162\n00:07:49.224 --> 00:07:53.506\nwas signed from our main controller,\nthe master key controller.\n\n163\n00:07:53.506 --> 00:07:56.504\nWhere we've established the zone,\nsigned it, have control of everything.\n\n164\n00:07:56.504 --> 00:07:59.636\nWe've said, hey, go replicate that\nto any and all domain controllers.\n\n165\n00:07:59.636 --> 00:08:03.221\nThat are set up,\nthat are active directory integrated, and\n\n166\n00:08:03.221 --> 00:08:05.208\nnow we have access to those keys.\n\n167\n00:08:05.208 --> 00:08:07.710\nAnd you could see them here and\nwe're be able to see them, right?\n\n168\n00:08:07.710 --> 00:08:11.040\nSo now we could query a sign zone\n\n169\n00:08:11.040 --> 00:08:13.200\nnow that we've established\nthat this is all working.\n\n170\n00:08:13.200 --> 00:08:15.730\nOne of the things that we would then\ntypically do is, we can go ahead and\n\n171\n00:08:15.730 --> 00:08:19.680\nquery a sign zone without DNS\nsec validation required, so\n\n172\n00:08:19.680 --> 00:08:21.372\nyou know what's going on with or\nwithout it.\n\n173\n00:08:21.372 --> 00:08:24.280\nThen you kinda validate it, there's\nlots of ways we could go in and do this.\n\n174\n00:08:24.280 --> 00:08:28.700\nWe could for instance go in, so\nif I go back to my Windows 10 system and\n\n175\n00:08:28.700 --> 00:08:30.000\nI'll do this right now.\n\n176\n00:08:30.000 --> 00:08:31.050\nAnd we go ahead and\n\n177\n00:08:31.050 --> 00:08:35.870\nwe specify some commands to resolve\nthe DNS name and see what happens.\n\n178\n00:08:35.870 --> 00:08:38.420\nLet's see what kind of\ninformation we get back.\n\n179\n00:08:38.420 --> 00:08:42.710\nSo let's go over to Windows 10,\nthat should be right there, and\n\n180\n00:08:42.710 --> 00:08:47.489\nlet's go ahead and\ndo the following let's do our resolve DNS\n\n181\n00:08:47.489 --> 00:08:53.625\nname let's put that in there.\n\n182\n00:08:53.625 --> 00:08:58.026\nwww.secure.practicelabs.com, oops\n\n183\n00:09:01.882 --> 00:09:04.260\nThey always make it look so\nsimple on that commercial.\n\n184\n00:09:04.260 --> 00:09:07.660\nWe talked about Dragon, naturally\nspeak Dragon type or whatever, yeah.\n\n185\n00:09:07.660 --> 00:09:10.570\nIf you've ever seen those infomercials for\nit, there's the woman or the man,\n\n186\n00:09:10.570 --> 00:09:13.030\nwhoever's doing it, it's like a five or\nten minute commercial.\n\n187\n00:09:13.030 --> 00:09:15.190\nThey're on there with the headset and\nthey're just talking.\n\n188\n00:09:15.190 --> 00:09:17.180\nAs they're talking stuff's\nhappening on the screen.\n\n189\n00:09:17.180 --> 00:09:19.410\nAll over the place,\nthey make it look so simple.\n\n190\n00:09:19.410 --> 00:09:21.747\nLike it would be so cool,\nif it actually worked that way and\n\n191\n00:09:21.747 --> 00:09:22.760\nI could just stand here.\n\n192\n00:09:22.760 --> 00:09:23.480\n&gt;&gt; Yeah, that's not real life.\n\n193\n00:09:23.480 --> 00:09:24.575\n&gt;&gt; It doesn't work that way, right?\n\n194\n00:09:24.575 --> 00:09:26.440\n&gt;&gt; [LAUGH]\n&gt;&gt; If that's somebody underneath that\n\n195\n00:09:26.440 --> 00:09:30.170\nwhere you don't see them that's like\non the screen that's typing, right?\n\n196\n00:09:30.170 --> 00:09:32.500\nThat's just making stuff appear there,\nright?\n\n197\n00:09:32.500 --> 00:09:34.710\nBecause it's not them,\nyou know it doesn't work that way.\n\n198\n00:09:34.710 --> 00:09:38.408\nIf I tried it, it would be typing\nlike hey, let's go for coffee or\n\n199\n00:09:38.408 --> 00:09:40.781\nsomething crazy and nothing would work.\n\n200\n00:09:40.781 --> 00:09:42.820\nI'm just jealous and\nbitter what can I can say.\n\n201\n00:09:42.820 --> 00:09:47.767\nAll right so server and\nthen we're gonna specify our server name\n\n202\n00:09:47.767 --> 00:09:51.530\nhere plabdm01,\nmake sure I got that correct.\n\n203\n00:09:51.530 --> 00:09:56.235\nAll right now we're gonna do an extra\nlittle switch here DNS sec okay,\n\n204\n00:09:56.235 --> 00:09:57.843\nat the end there right.\n\n205\n00:09:57.843 --> 00:10:01.582\nAnd so let's see what happens here,\nand look at what we get back, right.\n\n206\n00:10:01.582 --> 00:10:05.650\nSo let's just take a look at\nsome of that information.\n\n207\n00:10:05.650 --> 00:10:11.440\nThis shows us that we are successful,\nright, and we get back our information.\n\n208\n00:10:11.440 --> 00:10:14.239\nAnd just move that over cuz I know it\nkind of cuts off the edge of the screen,\n\n209\n00:10:14.239 --> 00:10:14.745\nthere we go.\n\n210\n00:10:14.745 --> 00:10:16.895\nAll right, so what do we see here?\n\n211\n00:10:16.895 --> 00:10:18.995\nWell, securepracticelabs.com,\nwhat do we get?\n\n212\n00:10:18.995 --> 00:10:21.673\nWe've got host record back,\nwe can see that.\n\n213\n00:10:21.673 --> 00:10:25.315\nGot our TTL.RIP address, that's\ntraditionally what we'd expect from DNS,\n\n214\n00:10:25.315 --> 00:10:27.912\nthat's good, but\nwe got some other stuff here.\n\n215\n00:10:27.912 --> 00:10:32.852\nWe've got our script practice labs.com our\nquery type resource record signature we've\n\n216\n00:10:32.852 --> 00:10:38.586\ngot our TTL.the information associated\nwith it including right see here?\n\n217\n00:10:38.586 --> 00:10:41.565\nExpiration [CROSSTALK],\nsee here signed signer.\n\n218\n00:10:41.565 --> 00:10:42.866\nSorry to cut you off, signature.\n\n219\n00:10:42.866 --> 00:10:43.816\n&gt;&gt; No, it's okay.\n&gt;&gt; Right,\n\n220\n00:10:43.816 --> 00:10:47.566\nall of that stuff is part of\nwhat DNS set provides, right?\n\n221\n00:10:47.566 --> 00:10:49.584\nYes go ahead.\n&gt;&gt; The TTL is specific for\n\n222\n00:10:49.584 --> 00:10:55.328\nthis particular, this signature or\nthis anchor that we've created?\n\n223\n00:10:55.328 --> 00:10:57.678\nOr what are we specifying\nwith the TTL there?\n\n224\n00:10:57.678 --> 00:11:01.298\n&gt;&gt; This is the information the TTL\nthat we are providing associated\n\n225\n00:11:01.298 --> 00:11:03.128\nwith the record files that we created.\n\n226\n00:11:03.128 --> 00:11:05.328\n&gt;&gt; The record, okay.\n&gt;&gt; If you remember we went in and\n\n227\n00:11:05.328 --> 00:11:08.288\non the properties when we looked at the\nzone there was some stuff on the very last\n\n228\n00:11:08.288 --> 00:11:10.248\ntab under advanced where we had\nTTL values things like that.\n\n229\n00:11:10.248 --> 00:11:11.548\n&gt;&gt; Yes\n&gt;&gt; That those were those values that we\n\n230\n00:11:11.548 --> 00:11:12.183\nare taking away.\n\n231\n00:11:12.183 --> 00:11:14.498\n&gt;&gt; Okay.\n&gt;&gt; So we have all of this here, right?\n\n232\n00:11:14.498 --> 00:11:19.316\n&gt;&gt; And you'll see the original limit\nis original TLLs 3600 this incremented\n\n233\n00:11:19.316 --> 00:11:24.360\ndown because it's counting down if you\nunderstand the logic of how TLL works.\n\n234\n00:11:24.360 --> 00:11:27.180\nYou know essentially it's a master\nvalue and every time you issue\n\n235\n00:11:27.180 --> 00:11:30.620\nagainst it the clock starts ticking from\nthe master value down toward zero, right?\n\n236\n00:11:30.620 --> 00:11:35.070\nThat's the idea behind it, and so\nyou're seeing essentially that this\n\n237\n00:11:35.070 --> 00:11:38.610\nwas immediately goes to this\none when we made the quarry.\n\n238\n00:11:38.610 --> 00:11:42.380\nIf we go back and keep doing this this\nwould increment down lower lower lower.\n\n239\n00:11:42.380 --> 00:11:43.880\nAt some point it would\nultimately hit zero and\n\n240\n00:11:43.880 --> 00:11:48.000\ndisappear, we'd have to refresh that to\nget a new updated reference to the record.\n\n241\n00:11:48.000 --> 00:11:50.450\nIt would still be the same information\nbut, it would just, you know,\n\n242\n00:11:50.450 --> 00:11:51.450\nultimately count down to zero.\n\n243\n00:11:51.450 --> 00:11:54.080\nSo if you wonder why we\nhave an original TTL.\n\n244\n00:11:54.080 --> 00:11:57.580\nAnd the incremental or the slight\ndifferent or variation one here.\n\n245\n00:11:57.580 --> 00:11:59.310\nIt counts down from the original value.\n\n246\n00:11:59.310 --> 00:12:01.960\nAnd we keep seeing that go lower and\nlower every time we issue a query.\n\n247\n00:12:01.960 --> 00:12:04.260\nIf we query again, we would just\nsee it kinda incrementing down.\n\n248\n00:12:04.260 --> 00:12:06.104\nEventually until it hit\nzero if we keep going.\n\n249\n00:12:06.104 --> 00:12:08.659\nAll right, so let's take a look.\n\n250\n00:12:09.870 --> 00:12:15.000\n&gt;&gt; Got this is kind of cool right let me\njust get to our little prompt down there.\n\n251\n00:12:15.000 --> 00:12:18.392\nIt's just kind of hanging right at\nthe bottom, it's lost I can see it, so\n\n252\n00:12:18.392 --> 00:12:21.110\nlet me just bring the stuff right here.\n\n253\n00:12:21.110 --> 00:12:25.610\nRight so now or we can do right this\nweek to take a look at something else,\n\n254\n00:12:25.610 --> 00:12:32.420\nanother interesting thing that may be of\nsome worthwhile conversation time for us.\n\n255\n00:12:32.420 --> 00:12:37.132\nDNS client nrpt policy, got that okay,\n\n256\n00:12:37.132 --> 00:12:41.020\nso let's just take a looks here.\n\n257\n00:12:42.630 --> 00:12:44.205\nSo when we do this, right?\n\n258\n00:12:44.205 --> 00:12:47.270\n&gt;&gt; [COUGH]\nWhat we see and\n\n259\n00:12:47.270 --> 00:12:50.440\nlet me talk about I haven't really\nmentioned the NRPT value before,\n\n260\n00:12:50.440 --> 00:12:52.590\nthe name resolution\n&gt;&gt; Policy, table?\n\n261\n00:12:52.590 --> 00:12:53.410\n&gt;&gt; Policy table, right.\n\n262\n00:12:53.410 --> 00:12:56.230\nThe NRPT I didn't really throw it\nout there we are talking about so\n\n263\n00:12:56.230 --> 00:12:59.040\nmany other things it would have kind\nof just got lost in the shuffle.\n\n264\n00:12:59.040 --> 00:13:01.580\nIt is a little bit easier to\ntalk about it while we are here\n\n265\n00:13:01.580 --> 00:13:04.800\nthan it is to actually just throw it out\nahead of time and say you remember we\n\n266\n00:13:04.800 --> 00:13:07.720\ntalked about that whole thing back\n&gt;&gt; Three episodes ago.\n\n267\n00:13:07.720 --> 00:13:08.330\nYou remember that.\n\n268\n00:13:08.330 --> 00:13:10.154\nWherever you were sitting there going\nI don't know what the heck is he\n\n269\n00:13:10.154 --> 00:13:10.820\ntalking about, right?\n\n270\n00:13:10.820 --> 00:13:16.150\nSo, the NRPT value, NRPT,\nthe name resolution policy table.\n\n271\n00:13:16.150 --> 00:13:18.827\nWhat this does is it's just a table\nof all of our name spaces and\n\n272\n00:13:18.827 --> 00:13:21.880\ncorresponding settings,\nthey'tr stored in the Windows registry.\n\n273\n00:13:21.880 --> 00:13:24.986\nAnd this allows us to determine,\nlocal of each machine.\n\n274\n00:13:24.986 --> 00:13:27.874\nSo I'm looking at the NRPT\npolicy on Windows 10 machine.\n\n275\n00:13:27.874 --> 00:13:30.470\nThat's what I'm trying to query for\nI don't get anything back.\n\n276\n00:13:30.470 --> 00:13:32.810\nRight?\nWhat you're seeing is, essentially,\n\n277\n00:13:32.810 --> 00:13:37.290\nwhat will be the clients behavior when\nissuing queries and processing responses?\n\n278\n00:13:37.290 --> 00:13:40.510\nAnd as a result to that,\nwe could specify and manipulate\n\n279\n00:13:40.510 --> 00:13:45.030\nthe NRPT policy to achieve certain end\nresults or do a variety of things.\n\n280\n00:13:45.030 --> 00:13:47.330\nSo we're just checking\nto see what is there.\n\n281\n00:13:47.330 --> 00:13:49.870\nWe could set this up a group policy,\nby the way as well.\n\n282\n00:13:49.870 --> 00:13:52.120\nHave some information in the show notes.\n\n283\n00:13:52.120 --> 00:13:53.360\nI'm just looking at my notes here.\n\n284\n00:13:53.360 --> 00:13:56.890\nJust to give you, no I didn't\nactually put in the whole, no, I did.\n\n285\n00:13:56.890 --> 00:13:57.800\nYeah, I did put in the path.\n\n286\n00:13:57.800 --> 00:14:00.080\nI was looking to see if I had the path for\nyou for group policy.\n\n287\n00:14:00.080 --> 00:14:02.150\nI gave you a little bit of\ninformation on it, I told you more or\n\n288\n00:14:02.150 --> 00:14:03.710\nless where to look for\nthe policy settings.\n\n289\n00:14:03.710 --> 00:14:04.840\nLet me just quickly tell you.\n\n290\n00:14:04.840 --> 00:14:08.650\nYou go in under Computer Configuration\na policies, Windows settings,\n\n291\n00:14:08.650 --> 00:14:10.350\nname resolution policy.\n\n292\n00:14:10.350 --> 00:14:12.690\nOr you can obviously do this\nwith PowerShell as well.\n\n293\n00:14:12.690 --> 00:14:16.400\nBut you can go in and you can actually\nlook For this information and\n\n294\n00:14:16.400 --> 00:14:18.240\nspecify these policies.\n\n295\n00:14:18.240 --> 00:14:21.980\nAnd what I mean by that\nis if we go here and\n\n296\n00:14:21.980 --> 00:14:25.920\nwe go here, have a little webpage for\nyou on the NRPT.\n\n297\n00:14:25.920 --> 00:14:29.370\nThis is by the way coming\nthrough is from Server 1212 R2.\n\n298\n00:14:29.370 --> 00:14:32.910\nSo again not brand new to 16,\nsomething that's been around a while.\n\n299\n00:14:32.910 --> 00:14:36.250\nWe're just integrating it here and adding\nit to the mix along with all the other\n\n300\n00:14:36.250 --> 00:14:38.630\nstuff we're doing,\nto make sure you're familiar with it.\n\n301\n00:14:38.630 --> 00:14:41.570\nBut you'll see here, right,\nthis is gonna setup, this I told you,\n\n302\n00:14:41.570 --> 00:14:45.730\nall the information either through\ngroup policy or PowerShell.\n\n303\n00:14:45.730 --> 00:14:48.500\nBut it just has a bunch of rules\nassociated with how the client will behave\n\n304\n00:14:48.500 --> 00:14:51.460\nand what we can do when we query and\nhow we get those responses back,\n\n305\n00:14:51.460 --> 00:14:53.930\nhow we program or\ndeal with them once we do.\n\n306\n00:14:53.930 --> 00:14:56.160\nThe policy editor, you could see it here,\n\n307\n00:14:56.160 --> 00:14:58.110\nit kinda walks you through\nthe logic of where to go.\n\n308\n00:14:58.110 --> 00:15:00.450\nThe path I just mentioned.\n\n309\n00:15:00.450 --> 00:15:04.580\nRight there, so I just gave that to you\nbut it's in the notes for you as well.\n\n310\n00:15:04.580 --> 00:15:09.106\nSo you could set up NRPT and we can then\ngo ahead and we can specify as a result\n\n311\n00:15:09.106 --> 00:15:13.345\nwhat certain behavior may look like\nwhat we expected to be able to do.\n\n312\n00:15:13.345 --> 00:15:17.696\nYou'll see we do have some options\nhere we can apply a suffix,\n\n313\n00:15:17.696 --> 00:15:22.060\na prefix, an FQDN, subnets for\nIPv4 and or IPv6 right?\n\n314\n00:15:22.060 --> 00:15:25.460\nSo based on things coming in we can\napply the policy as a result of any of\n\n315\n00:15:25.460 --> 00:15:26.530\nthose things.\n\n316\n00:15:26.530 --> 00:15:29.710\nWe can use this to create\ndifferent types of rules right?\n\n317\n00:15:29.710 --> 00:15:33.680\nAnd obviously we can use this\nwith DNSSEC and then specify\n\n318\n00:15:33.680 --> 00:15:37.030\nthat there's information associated with\nit that's why we're talking about it here.\n\n319\n00:15:37.030 --> 00:15:40.270\nSo they talk about the processing\norder of NRPT rules.\n\n320\n00:15:40.270 --> 00:15:42.860\nIf you're familiar with group policy,\nhopefully you remember.\n\n321\n00:15:42.860 --> 00:15:44.704\nYou may or not know, but\nhopefully you remember.\n\n322\n00:15:44.704 --> 00:15:49.496\nProcessing order is local, we always start\nwith the local policy on the machine,\n\n323\n00:15:49.496 --> 00:15:53.525\nwhich kinda sets up our basic\nbackground infrastructure settings so\n\n324\n00:15:53.525 --> 00:15:56.174\nour desktop is the generic\nWindows desktop.\n\n325\n00:15:56.174 --> 00:15:59.019\nGot a Start button or\nsome sort of icon, lower left.\n\n326\n00:15:59.019 --> 00:16:00.814\nTrashcan for recycle bin on the desktop,\n\n327\n00:16:00.814 --> 00:16:04.210\nwhatever the standard settings would\nbe that comes from our local GPO.\n\n328\n00:16:04.210 --> 00:16:07.750\nWe have a site link, domain link,\nand organizational unit link GPO.\n\n329\n00:16:07.750 --> 00:16:09.100\nWe follow through in those orders and\n\n330\n00:16:09.100 --> 00:16:11.460\nkind of apply the policy\nbased on where it may fall.\n\n331\n00:16:11.460 --> 00:16:14.050\nAnd so we just followed\nthe standard processing order\n\n332\n00:16:14.050 --> 00:16:16.130\nto be able to go through and do that.\n\n333\n00:16:16.130 --> 00:16:18.910\nSo let's just talk a bit about this,\nand how you can set this up.\n\n334\n00:16:18.910 --> 00:16:23.660\nOnce you get this all configured,\nyou can see here, we are able to require,\n\n335\n00:16:23.660 --> 00:16:26.440\nwhich is the part that's interesting\nwhich is why we are talking about it.\n\n336\n00:16:26.440 --> 00:16:29.150\nConfigure to require or\nnot require validation for\n\n337\n00:16:29.150 --> 00:16:31.230\nspecific segments of your namespace,\nright?\n\n338\n00:16:31.230 --> 00:16:32.380\nIt says, for example,\n\n339\n00:16:32.380 --> 00:16:36.130\nyou may use conditional forwarding\nto disable DNSSEC validation.\n\n340\n00:16:36.130 --> 00:16:39.360\nAnd they talk about describing that and\nshow you where you can do that.\n\n341\n00:16:39.360 --> 00:16:42.660\nWe can implement conditional forwarding\nthat directs us to certain systems.\n\n342\n00:16:42.660 --> 00:16:45.500\nWe've talked about conditional forwarding,\ndid a demo on that.\n\n343\n00:16:45.500 --> 00:16:48.930\nSo we could use this to be able\nto enable or turn on or off or\n\n344\n00:16:48.930 --> 00:16:51.800\nprovide support for functionality.\n\n345\n00:16:51.800 --> 00:16:54.440\nAnd so they just walk us through\nthe logic of how this works.\n\n346\n00:16:54.440 --> 00:16:55.970\nSo we're just checking and\n\n347\n00:16:55.970 --> 00:17:00.390\nshowing you what the NRPT\npolicy would be on the system.\n\n348\n00:17:00.390 --> 00:17:01.285\nWe're just going through and\n\n349\n00:17:01.285 --> 00:17:05.720\ntake a look at it with the appropriate\nPowerShell command to show you here.\n\n350\n00:17:05.720 --> 00:17:09.170\nThere is a policy for\nDNSSEC validation, right?\n\n351\n00:17:09.170 --> 00:17:11.960\nWe may or may not have one it's\na matter of how we set this up.\n\n352\n00:17:11.960 --> 00:17:15.310\nBut just keep in mind that\nwe have that available, and\n\n353\n00:17:15.310 --> 00:17:16.610\nwe could play with this as well.\n\n354\n00:17:16.610 --> 00:17:20.785\nJust adding another piece into the puzzle\nfor you, so that when we set up DNSSEC and\n\n355\n00:17:20.785 --> 00:17:23.025\nwe maybe using NRPT policies.\n\n356\n00:17:23.025 --> 00:17:25.665\nWe wanna keep in mind that we\nwanna make sure that we're not\n\n357\n00:17:25.665 --> 00:17:28.515\nshooting ourselves in the foot\nby getting in the way of DNSSEC\n\n358\n00:17:28.515 --> 00:17:30.825\nperhaps providing policies\nthat could block that,\n\n359\n00:17:30.825 --> 00:17:34.800\nor somehow modify that behavior, so we\njust wanna make sure we're aware of that.\n\n360\n00:17:34.800 --> 00:17:38.370\nWe could set up support for this,\nas we said, through either a GPO,\n\n361\n00:17:38.370 --> 00:17:40.950\nGroup Policy Object, or with PowerShell.\n\n362\n00:17:40.950 --> 00:17:42.060\nWe could do it either way.\n\n363\n00:17:42.060 --> 00:17:43.290\nNow if we wanted to go in and\n\n364\n00:17:43.290 --> 00:17:48.960\nset up Group Policy Support to\nprovide NRPT in a group policy.\n\n365\n00:17:48.960 --> 00:17:51.460\nWe could go in and\nedit the policy out, set it up.\n\n366\n00:17:51.460 --> 00:17:53.030\nAnd I'll show you how to\ndo that really quickly.\n\n367\n00:17:53.030 --> 00:17:55.330\nJust go into the path real quick and\nwe'll take a look at that.\n\n368\n00:17:55.330 --> 00:17:58.010\nSo let me switch over to\nmy domain controller.\n\n369\n00:17:58.010 --> 00:18:01.350\nAnd just quickly show you where\nthe policy is, that path we looked at and\n\n370\n00:18:01.350 --> 00:18:03.700\nsome of the things associated with that.\n\n371\n00:18:03.700 --> 00:18:06.770\nSo let me get over to my domain\ncontroller, right there.\n\n372\n00:18:06.770 --> 00:18:09.100\nAnd what we're gonna do\nis just open up our GPMC,\n\n373\n00:18:09.100 --> 00:18:11.690\nour Group Policy Management Console.\n\n374\n00:18:11.690 --> 00:18:18.080\nSo let me just minimize DNS here for\nthe moment, bring up our Server Manager.\n\n375\n00:18:18.080 --> 00:18:21.480\nAnd let me bring up our group\npolicy management tool.\n\n376\n00:18:21.480 --> 00:18:25.070\nJust go over here,\nour GPM tool right there.\n\n377\n00:18:25.070 --> 00:18:26.780\nAnd this will take just\na moment to open up.\n\n378\n00:18:29.020 --> 00:18:30.700\nAnd I love the Microsoft tools, right?\n\n379\n00:18:30.700 --> 00:18:32.160\nSo I said, hey open this for me.\n\n380\n00:18:32.160 --> 00:18:35.650\nBut no, don't bring it up and actually\nput it up in way where I wanna use it.\n\n381\n00:18:35.650 --> 00:18:36.650\nBut put it like down there and\n\n382\n00:18:36.650 --> 00:18:39.570\nmake it flash at me,\nlike its too good to open for me.\n\n383\n00:18:39.570 --> 00:18:41.130\nI have to go to it, right?\n\n384\n00:18:41.130 --> 00:18:43.820\nIts just you know one of\nthose high brow kind of\n\n385\n00:18:43.820 --> 00:18:46.750\nentitled tools as suppose\nto a common versus tool.\n\n386\n00:18:46.750 --> 00:18:49.660\n&gt;&gt; They want you to look for it,\nits kind of like a fun little game Adam.\n\n387\n00:18:49.660 --> 00:18:53.030\n&gt;&gt; No, its just bad UI design\nis what it is, but that's okay.\n\n388\n00:18:53.030 --> 00:18:56.650\nAll right, so we're gonna bring this\nup right here and well, look at that.\n\n389\n00:18:56.650 --> 00:18:58.750\nWe have our Group Policy Management tool,\nso we have that.\n\n390\n00:18:58.750 --> 00:18:59.340\nSo let's go ahead.\n\n391\n00:18:59.340 --> 00:19:01.750\nLet's make this full screen, so\nwe can start working with it.\n\n392\n00:19:01.750 --> 00:19:05.640\nNow I'm sure that a lot of you have seen\nthe Group Policy Management tool before.\n\n393\n00:19:05.640 --> 00:19:07.780\nHopefully you've had a chance to\nplay with it, interact with it.\n\n394\n00:19:07.780 --> 00:19:10.330\nBut you may not have, you never\nwanna take that stuff for granted.\n\n395\n00:19:10.330 --> 00:19:14.990\nSo just a quick 30 second,\nhigh-level overview of what policy is.\n\n396\n00:19:14.990 --> 00:19:17.170\nThe idea behind group policy is,\n\n397\n00:19:17.170 --> 00:19:20.120\nmanipulation of the Windows\nregistry on a machine.\n\n398\n00:19:20.120 --> 00:19:21.990\nBut doing so\nwith a graphical interface, so\n\n399\n00:19:21.990 --> 00:19:25.560\nyou're doing it in a way that's not\ngoing to hurt, or harm, or break things.\n\n400\n00:19:25.560 --> 00:19:27.390\nBecause we have the ability\nto control what you can do,\n\n401\n00:19:27.390 --> 00:19:28.580\nwhat settings you have access to.\n\n402\n00:19:28.580 --> 00:19:33.175\nAnd by saving those setting off into\ntemplate files of some kind, and\n\n403\n00:19:33.175 --> 00:19:36.995\nthen applying them when the client\nauthenticates into the domain.\n\n404\n00:19:36.995 --> 00:19:40.515\nAnd is gonna have either a user focus,\nor computer focus or\n\n405\n00:19:40.515 --> 00:19:43.557\nboth, cuz we have two sections\nof every policy traditionally.\n\n406\n00:19:43.557 --> 00:19:46.287\nFocusing on users settings,\nfocusing on computer settings.\n\n407\n00:19:46.287 --> 00:19:48.887\nThe ability to manipulate\nthe environmental variables\n\n408\n00:19:48.887 --> 00:19:51.447\nthat then control how we\nare able to do things.\n\n409\n00:19:51.447 --> 00:19:53.717\nWhat we're able to do under\nwhat conditions, etc.\n\n410\n00:19:53.717 --> 00:19:57.647\nSo thousands of settings literally\nare potentially available to us end\n\n411\n00:19:57.647 --> 00:19:59.257\nto end inside a group policy.\n\n412\n00:19:59.257 --> 00:20:01.737\nAnd this tool is just gonna\nallow us to go and edit one or\n\n413\n00:20:01.737 --> 00:20:05.980\nmore of those group policies, create one,\nmodify settings, whatever we wanna do.\n\n414\n00:20:05.980 --> 00:20:09.220\nGroup policy been around\nsince Windows 2000,\n\n415\n00:20:09.220 --> 00:20:14.340\nthis was switched over to what we\nthink of now as the Active Directory,\n\n416\n00:20:14.340 --> 00:20:18.380\nor the hierarchical namespace based\non LDAP that we're all familiar with.\n\n417\n00:20:18.380 --> 00:20:23.170\nBut we had a precursor to this tool that\nwas around since Windows 9X, since Windows\n\n418\n00:20:23.170 --> 00:20:27.970\n95 from the earliest days of graphical\noperating systems on the Microsoft side.\n\n419\n00:20:27.970 --> 00:20:30.385\nIt used to be call POLEDIT,\nI don't know if you remember.\n\n420\n00:20:30.385 --> 00:20:33.774\nYou may not remember the POLEDIT tool,\nthose of you out there that may or\n\n421\n00:20:33.774 --> 00:20:36.331\nmay not remember it, but\nPOLEDIT for Policy Editor.\n\n422\n00:20:36.331 --> 00:20:38.600\nAnd the POLEDIT tool is In Windows 9X and\n\n423\n00:20:38.600 --> 00:20:41.472\ngoing into the very early\ngenerations of clients,\n\n424\n00:20:41.472 --> 00:20:46.210\nwould have been a tool that you would have\nused as the precursor, the great, great,\n\n425\n00:20:46.210 --> 00:20:51.066\ngreat grandparent of group policy before\nwe had centralized directory management.\n\n426\n00:20:51.066 --> 00:20:53.355\nWe actually would add it\nlocally on the machine and\n\n427\n00:20:53.355 --> 00:20:56.027\nthe POLEDIT tool would allow\nus to contribute to modify and\n\n428\n00:20:56.027 --> 00:20:59.257\ncontrol those settings in the same\nkind of way that we do here, right?\n\n429\n00:20:59.257 --> 00:21:02.220\nSo it is kind of one of\nan old little bit of do.\n\n430\n00:21:02.220 --> 00:21:03.677\n&gt;&gt; We got a comment in the chat, yeah.\n\n431\n00:21:03.677 --> 00:21:06.000\nIt says, POLEDIT blast from the past.\n\n432\n00:21:06.000 --> 00:21:08.260\n&gt;&gt; It is,\nyou don't wanna play gig trivia with me.\n\n433\n00:21:08.260 --> 00:21:10.650\nI will kick your butt every time, right?\n\n434\n00:21:10.650 --> 00:21:14.123\nCuz I know all those things\nfrom all those years gone by.\n\n435\n00:21:14.123 --> 00:21:15.661\nBut just keep in mind, right?\n\n436\n00:21:15.661 --> 00:21:17.765\nDavid doesn't even barely\nremember that one,\n\n437\n00:21:17.765 --> 00:21:20.563\nthat you never hear David say\nhe doesn't remember an old tool.\n\n438\n00:21:20.563 --> 00:21:23.016\n&gt;&gt; The closest thing I was\nthinking was like DISM, but\n\n439\n00:21:23.016 --> 00:21:24.705\nthen I'm like that's not right.\n\n440\n00:21:24.705 --> 00:21:25.260\n&gt;&gt; D-I-S-M?\n\n441\n00:21:25.260 --> 00:21:30.000\nNo that's a totally different thing,\nso no not in this case.\n\n442\n00:21:30.000 --> 00:21:31.430\nNot what we're talking about here.\n\n443\n00:21:31.430 --> 00:21:33.320\nAll right, so we're gonna go in,\njust thought I'd give you a little\n\n444\n00:21:33.320 --> 00:21:34.790\nbackground the historical\nreference to that.\n\n445\n00:21:34.790 --> 00:21:38.040\nSo we're gonna go and we're gonna open\nup our group policy management console.\n\n446\n00:21:38.040 --> 00:21:38.995\nSo we're gonna open this up.\n\n447\n00:21:38.995 --> 00:21:40.140\nYou see we have our forest here.\n\n448\n00:21:40.140 --> 00:21:43.870\nLet's open up our domain practicelabs.com\nkind of get that opened up.\n\n449\n00:21:43.870 --> 00:21:46.290\nAnd what we're gonna do is\ncreate a new group policy.\n\n450\n00:21:46.290 --> 00:21:48.670\nIn case you haven't seen this done before,\nwe're gonna right-click and\n\n451\n00:21:48.670 --> 00:21:50.200\ncreate a new group policy right here.\n\n452\n00:21:50.200 --> 00:21:51.900\nAnd we're gonna call it DNSSEC and\n\n453\n00:21:51.900 --> 00:21:54.781\nwe're gonna look at some of\nthose NRPT settings, right?\n\n454\n00:21:54.781 --> 00:21:56.822\nAll right, so\nwe're gonna right-click right here.\n\n455\n00:21:56.822 --> 00:22:00.570\nAnd we're gonna go ahead and create\na GPO in this domain, I'll link it here.\n\n456\n00:22:00.570 --> 00:22:02.890\nYou could see we're doing that,\nright there.\n\n457\n00:22:02.890 --> 00:22:06.864\nWe just give it a name,\nwe'll just move this over here, and\n\n458\n00:22:06.864 --> 00:22:12.630\nwe'll call this DNSSEC, name it anything\nyou want doesn't really matter.\n\n459\n00:22:12.630 --> 00:22:14.140\nSo we'll go ahead and we'll do that.\n\n460\n00:22:14.140 --> 00:22:17.700\nWe're not gonna have a source GPO, meaning\nwe're gonna start from a blank canvas and\n\n461\n00:22:17.700 --> 00:22:19.310\nkind just create our own as we go.\n\n462\n00:22:19.310 --> 00:22:20.570\nSo we're gonna do that.\n\n463\n00:22:20.570 --> 00:22:23.180\nClick okay,\nyou'll see that our little shortcut for\n\n464\n00:22:23.180 --> 00:22:25.720\nour DNSSEC Policy gets created there.\n\n465\n00:22:25.720 --> 00:22:28.060\nNow when you click on that, you get this\nlittle pop up, depending on whether or\n\n466\n00:22:28.060 --> 00:22:29.330\nnot you've checked off that box.\n\n467\n00:22:29.330 --> 00:22:31.340\nIt says,\nhey you've selected a template link.\n\n468\n00:22:31.340 --> 00:22:32.820\nDo you want to actually edit the GPO?\n\n469\n00:22:32.820 --> 00:22:34.730\nWell, yes we do, so we'll click OK.\n\n470\n00:22:34.730 --> 00:22:38.140\nShows us the basic background\nproperties and things like that, right?\n\n471\n00:22:39.150 --> 00:22:43.540\nAnd so what we can do, is right-click and\nwe can choose Edit, right?\n\n472\n00:22:43.540 --> 00:22:45.708\nWe can go in and edit the GPO and\nthat's what we're gonna do.\n\n473\n00:22:45.708 --> 00:22:51.070\nSo we're gonna edit this GPO and\nlet's go ahead open this up.\n\n474\n00:22:52.420 --> 00:22:55.428\nGet a separate little window,\nkind of gives us our computer and\n\n475\n00:22:55.428 --> 00:22:57.088\nour user focus areas for editing.\n\n476\n00:22:57.088 --> 00:23:00.044\nLet us make this full screen here, stem\nthis out a little bit cuz you're gonna\n\n477\n00:23:00.044 --> 00:23:02.061\nhave to see where we're going or\nwhat we're doing.\n\n478\n00:23:02.061 --> 00:23:04.205\nAll right, so\nwhat we're gonna do is the following.\n\n479\n00:23:04.205 --> 00:23:08.900\n[COUGH]\nLet me just figure out exactly what\n\n480\n00:23:08.900 --> 00:23:12.100\nI want right here, we got that,\nwe got that, we got that.\n\n481\n00:23:12.100 --> 00:23:15.230\nAnd we're go into our path\nunder computers, right, yeah.\n\n482\n00:23:15.230 --> 00:23:17.710\nSo we're gonna go into computers,\npolicies, Windows settings.\n\n483\n00:23:17.710 --> 00:23:19.640\nLet me just open this up.\n\n484\n00:23:19.640 --> 00:23:21.370\nWindows settings, give that a second.\n\n485\n00:23:21.370 --> 00:23:23.070\nNow this takes a moment to\nopen up cuz there's a lot.\n\n486\n00:23:23.070 --> 00:23:25.134\nYeah, there's just a lot of stuff\nyou kinda gotta load as you go.\n\n487\n00:23:25.134 --> 00:23:28.049\nSo don't be worried about the fact\nit may take a moment to show up,\n\n488\n00:23:28.049 --> 00:23:28.849\nit will be there.\n\n489\n00:23:28.849 --> 00:23:31.607\nAll right, and then you'll see\nName Resolution Policy, right there.\n\n490\n00:23:31.607 --> 00:23:34.690\nSo we just gonna open up click on that\n,and you can see there is nothing which is\n\n491\n00:23:34.690 --> 00:23:37.692\nfine it's up for the screen right here and\nthis is where we're gonna go in.\n\n492\n00:23:37.692 --> 00:23:41.405\nWe're gonna actually start programming\nthis is no hierarchy nothing opens up down\n\n493\n00:23:41.405 --> 00:23:44.215\nhere, where some of these other\npolicies do where you click and\n\n494\n00:23:44.215 --> 00:23:46.884\nthere's like 200 things that\nopen up right down below.\n\n495\n00:23:46.884 --> 00:23:48.824\nLooks like going into\nthe Event Viewer you see all those,\n\n496\n00:23:48.824 --> 00:23:51.504\nyou go to Microsoft folders, you see all\nthose things that open up down below.\n\n497\n00:23:51.504 --> 00:23:52.915\nSo this one's pretty straight forward,\nright?\n\n498\n00:23:52.915 --> 00:23:55.102\nSo we have our Name Resolution Policy,\nright?\n\n499\n00:23:55.102 --> 00:23:56.427\nThis is the NRPT.\n\n500\n00:23:56.427 --> 00:23:58.086\nInformation we were talking about.\n\n501\n00:23:58.086 --> 00:24:03.140\nSo what we're gonna do over here is we're\ngonna go ahead, and it says create a rule.\n\n502\n00:24:03.140 --> 00:24:06.030\nCan we actually go full screen, cuz I'm\nhovering over a little bit of this,\n\n503\n00:24:06.030 --> 00:24:07.394\nand it's gonna get bigger as we go.\n\n504\n00:24:07.394 --> 00:24:10.888\nAll right, so what we can see\nhere is the Create Rules area.\n\n505\n00:24:10.888 --> 00:24:14.682\nAnd you'll see to which part of the name\nspace does this rule apply, and\n\n506\n00:24:14.682 --> 00:24:15.850\nnotice here.\n\n507\n00:24:15.850 --> 00:24:17.807\nWe talked about some of these items and\n\n508\n00:24:17.807 --> 00:24:22.167\nI showed you the screen on the webpage\nsuffix, prefix FQDN, IPv4, IPv6 subnet.\n\n509\n00:24:22.167 --> 00:24:25.480\nSo we're gonna make a choice here.\n\n510\n00:24:25.480 --> 00:24:29.165\nSo we gonna leave it to default a suffix,\nwhat we're gonna do is put in a rule that\n\n511\n00:24:29.165 --> 00:24:31.155\nis gonna peeve it on\nthe suffix we provide.\n\n512\n00:24:31.155 --> 00:24:34.460\nSo we're gonna specify here,\nsecure.practicelabs.com.\n\n513\n00:24:34.460 --> 00:24:36.652\nJust remember that's our suffix for\n\n514\n00:24:36.652 --> 00:24:39.983\nour query that we're issuing\nagainst the signed zone.\n\n515\n00:24:39.983 --> 00:24:41.396\nWe're gonna link this all back.\n\n516\n00:24:41.396 --> 00:24:49.520\nSo secure.practicelabs,\n.com, type that in.\n\n517\n00:24:49.520 --> 00:24:52.206\nAnd then what we're gonna do\nis we're gonna go ahead and\n\n518\n00:24:52.206 --> 00:24:53.876\nI'm gonna just scroll down here.\n\n519\n00:24:53.876 --> 00:24:57.220\nJust give me half a second just so\nyou can see a little bit more of that.\n\n520\n00:24:57.220 --> 00:25:00.760\nAll right, so then what we're gonna do is\nwe're gonna enable DNSSEC in this rule.\n\n521\n00:25:00.760 --> 00:25:04.772\nYou could see right here, we can turn\non DNSSEC associated with this rule.\n\n522\n00:25:04.772 --> 00:25:08.340\nThis is really the cool part, where we\nlink the two technologies together.\n\n523\n00:25:08.340 --> 00:25:10.603\nSo we're gonna take the DNSSEC,\napply it to this rule.\n\n524\n00:25:10.603 --> 00:25:12.379\nAnd then we have some options of course,\nand\n\n525\n00:25:12.379 --> 00:25:15.590\nwe'll talk about what's going on with\nthis tabs there in just a minute.\n\n526\n00:25:15.590 --> 00:25:19.300\nSo let's enable the DNSSEC in this\nrule and you'll see we check that off.\n\n527\n00:25:20.800 --> 00:25:24.410\nWe have our validation section right here.\n\n528\n00:25:24.410 --> 00:25:27.920\nValidate it says hey,\nrequire DNS clients to check that or\n\n529\n00:25:27.920 --> 00:25:31.820\ncheck the name and address has\nbeen validated by the DNS server.\n\n530\n00:25:31.820 --> 00:25:37.100\nSo we can force through this rule\nthe use of validation the use of DNSSEC.\n\n531\n00:25:37.100 --> 00:25:39.515\nAnd this is where we\napply the front end for\n\n532\n00:25:39.515 --> 00:25:43.103\nDNSSEC to the clients to force\nthem to use DNSSEC authorized or\n\n533\n00:25:43.103 --> 00:25:47.455\nsigned zones to ensure that they're\ngetting the proper name resolution.\n\n534\n00:25:47.455 --> 00:25:49.340\nThat's we're gonna be doing here.\n\n535\n00:25:49.340 --> 00:25:52.420\nSo we can specify that,\nnotice also by the way,\n\n536\n00:25:52.420 --> 00:25:56.700\nwe can force IPsec communication between\nthe DNS client and the DNS server.\n\n537\n00:25:56.700 --> 00:25:58.650\nNow we've talked about IPsec and\nthe value of it with IPv6.\n\n538\n00:25:58.650 --> 00:26:02.860\nIn fact, it's required for\nyou to use IPv6.\n\n539\n00:26:02.860 --> 00:26:06.356\nThose of you that know about IPsec and\nknow good old fashioned IPv4\n\n540\n00:26:06.356 --> 00:26:09.115\nknows that unless we go out\nof our way to set up IPsec.\n\n541\n00:26:09.115 --> 00:26:11.673\nAnd a lot of you may set it up,\nmay use it, but unless you\n\n542\n00:26:11.673 --> 00:26:15.590\ngo out of your way to apply it, it's not\nused natively, it's not used by default.\n\n543\n00:26:15.590 --> 00:26:18.260\nIt is supported, but its not used.\n\n544\n00:26:18.260 --> 00:26:23.244\nIn other words, we don't encrypt out IPv4\ntraffic by default natively using IPsec\n\n545\n00:26:23.244 --> 00:26:25.011\nwhere as we would with IPv6.\n\n546\n00:26:25.011 --> 00:26:28.963\nSo we have this option,\nbecause we can force the use of IPsec,\n\n547\n00:26:28.963 --> 00:26:33.790\nif we wanna provide that secure\nlevel of communication in theory.\n\n548\n00:26:33.790 --> 00:26:37.603\nLet's just say here, hypothetically,\nyou'll notice that we could specify low,\n\n549\n00:26:37.603 --> 00:26:39.278\nmedium, high level of encryption.\n\n550\n00:26:39.278 --> 00:26:44.365\nAnd we can specify the appropriate\nencryption algorithms to use with IPsec.\n\n551\n00:26:44.365 --> 00:26:47.268\nThat way we're able to provide the\nconfidentiality protections we spoke about\n\n552\n00:26:47.268 --> 00:26:48.098\nin the prior episode.\n\n553\n00:26:48.098 --> 00:26:51.667\nWhen we went into the discussion about\nwhat digital assigning may or not mean.\n\n554\n00:26:51.667 --> 00:26:55.553\nYou gotta be careful when you're setting\nup IPsec though because remember,\n\n555\n00:26:55.553 --> 00:26:58.282\nyou're gonna specify you\nwant it to be used here.\n\n556\n00:26:58.282 --> 00:27:00.912\nIf both parties don't support it and\nyou just highlight it and\n\n557\n00:27:00.912 --> 00:27:03.342\nset it up,\nyou're gonna have some problems.\n\n558\n00:27:03.342 --> 00:27:06.476\nSo understand that your DNS servers\nhave to support it, implement it,\n\n559\n00:27:06.476 --> 00:27:10.045\nhave it available, as well as the clients\nthat you're gonna apply this rule to.\n\n560\n00:27:10.045 --> 00:27:12.374\nIf you apply this to older clients,\n\n561\n00:27:12.374 --> 00:27:17.354\nwe have a mixture of clients that are\noperating in our domain at any one time.\n\n562\n00:27:17.354 --> 00:27:21.299\nIf everybody's standardized everything's\nWindows 10, Windows 8, or whatever, hey,\n\n563\n00:27:21.299 --> 00:27:23.710\nno big deal that's probably\ngonna work just fine.\n\n564\n00:27:23.710 --> 00:27:25.510\nBut let's go back in time a little,\n\n565\n00:27:25.510 --> 00:27:28.640\nlet see if there are some of\nthose Windows 7 clients in there.\n\n566\n00:27:28.640 --> 00:27:31.562\nMaybe we may even have\nsome earlier clients.\n\n567\n00:27:31.562 --> 00:27:35.837\nThey may not fully integrate with,\nsupport and understand IPsec or\n\n568\n00:27:35.837 --> 00:27:39.970\nbe able to provide support for\nit at the highest levels.\n\n569\n00:27:39.970 --> 00:27:43.052\nSo for instance, if we go back here for\njust one second,\n\n570\n00:27:43.052 --> 00:27:46.530\nthe use of AES may not be supported\nin older Microsoft clients,\n\n571\n00:27:46.530 --> 00:27:49.230\nwhereas the low level triple DES,\n3DES would.\n\n572\n00:27:49.230 --> 00:27:53.021\nSo you may be able to set this, but you\nwould have to understand the selection of\n\n573\n00:27:53.021 --> 00:27:56.820\nalgorithm could play a part in whether\nclients could actually use this or not.\n\n574\n00:27:56.820 --> 00:27:59.176\nAnd you may be shooting yourself in\nthe foot is all I'm suggesting to you,\n\n575\n00:27:59.176 --> 00:27:59.978\nthat could be a problem.\n\n576\n00:27:59.978 --> 00:28:02.930\n&gt;&gt; Making that decision by\nreducing that security there.\n\n577\n00:28:04.310 --> 00:28:06.906\n&gt;&gt; Well just that you wanna make sure\nthat you take into account all of your\n\n578\n00:28:06.906 --> 00:28:07.615\nclients support.\n\n579\n00:28:07.615 --> 00:28:10.200\nSo I'm suggesting if you do have\na mixed client environment.\n\n580\n00:28:10.200 --> 00:28:11.600\nIf you don't, it's not a big deal.\n\n581\n00:28:11.600 --> 00:28:15.423\nThen just enable it and all your\nnew modern clients should support.\n\n582\n00:28:15.423 --> 00:28:17.850\nAES is the highest level with no trouble.\n\n583\n00:28:17.850 --> 00:28:21.561\nBut we swap that in after\nXP around Windows 7.\n\n584\n00:28:21.561 --> 00:28:24.145\nSo XP and Vista, and\nsome of those earlier clients,\n\n585\n00:28:24.145 --> 00:28:28.160\neven though they're not supported I\nunderstand, you should not be using them.\n\n586\n00:28:28.160 --> 00:28:30.390\nThey're not longer under warranty,\nso to speak.\n\n587\n00:28:30.390 --> 00:28:33.181\nBut the reality is that I do have\nclients in the real world that\n\n588\n00:28:33.181 --> 00:28:36.162\nare running Windows XP and\nrunning Vista as crazy as that may be.\n\n589\n00:28:36.162 --> 00:28:38.770\nBut people do for a variety of reasons.\n\n590\n00:28:38.770 --> 00:28:40.287\nI'm just pointing out that those clients,\n\n591\n00:28:40.287 --> 00:28:42.260\neven though you may not expose\nthem to the outside world.\n\n592\n00:28:42.260 --> 00:28:45.000\nSo maybe they're not as big of\na security liability from a patch\n\n593\n00:28:45.000 --> 00:28:47.440\nmanagement perspective, things like that.\n\n594\n00:28:47.440 --> 00:28:49.608\nLast time I checked,\nthey still need DNS to do their job.\n\n595\n00:28:49.608 --> 00:28:53.275\n[LAUGH] So they still need to connect and\ncommunicate, and as a result,\n\n596\n00:28:53.275 --> 00:28:55.774\nyou may actually run into\na bit of an issue here.\n\n597\n00:28:55.774 --> 00:28:59.424\nThat's all I'm suggesting, just pointing\nout that in the real world it'll benefit\n\n598\n00:28:59.424 --> 00:29:00.904\nof those things that can go wrong.\n\n599\n00:29:00.904 --> 00:29:02.888\nAnd tell you how to prevent\nthem from going wrong,\n\n600\n00:29:02.888 --> 00:29:04.644\njust wanna make sure you're aware of that.\n\n601\n00:29:04.644 --> 00:29:08.180\nAll right, so we specify we're gonna check\noff here the required DNS clients to claim\n\n602\n00:29:08.180 --> 00:29:10.094\nor to check rather that\nthe name is validated,\n\n603\n00:29:10.094 --> 00:29:11.731\nthis is really the whole point of this.\n\n604\n00:29:11.731 --> 00:29:15.120\nSo we're gonna check this off and\nthen we're gonna go ahead.\n\n605\n00:29:15.120 --> 00:29:17.764\nI'm gonna go down and\nclick Create here in just one second.\n\n606\n00:29:17.764 --> 00:29:20.705\nDown here, you could see right down here,\nI'm gonna be able to click Create.\n\n607\n00:29:20.705 --> 00:29:23.479\nBut I just wanted to show you a couple\nof these things quickly before we get\n\n608\n00:29:23.479 --> 00:29:24.260\nout of here.\n\n609\n00:29:24.260 --> 00:29:27.930\nSo DNS settings for direct access,\nwe haven't talked about direct access yet.\n\n610\n00:29:27.930 --> 00:29:30.677\nThat's kind of an upcoming conversation\nin some additional episodes,\n\n611\n00:29:30.677 --> 00:29:31.810\nyou can always take a look at.\n\n612\n00:29:31.810 --> 00:29:34.508\nBut it's one of our remote\naccess technologies, so\n\n613\n00:29:34.508 --> 00:29:37.230\nwhen you look at the remote access VPN.\n\n614\n00:29:37.230 --> 00:29:39.621\nDiscussions and\nepisodes on those kinds of technologies,\n\n615\n00:29:39.621 --> 00:29:41.020\nyou'd be able to reference them.\n\n616\n00:29:41.020 --> 00:29:45.128\nWe have new information on DNS servers,\nand you'll notice down here,\n\n617\n00:29:45.128 --> 00:29:47.190\nscroll down before I click Create.\n\n618\n00:29:48.580 --> 00:29:52.310\nThat I would then see the name policy or\nname resolution policy table.\n\n619\n00:29:52.310 --> 00:29:54.514\nOnce I create it,\nI'll see a listing of rules that are here.\n\n620\n00:29:54.514 --> 00:29:57.290\nSo let's just click Create,\nyou'll notice my rule drops down.\n\n621\n00:29:57.290 --> 00:30:01.860\nIt is available there, and\nI've got that setup, pardon me.\n\n622\n00:30:03.170 --> 00:30:05.910\nAnd I can see that my rule is down here.\n\n623\n00:30:05.910 --> 00:30:09.070\nNow, once I've created,\nit kind of a two step process.\n\n624\n00:30:09.070 --> 00:30:11.386\nCreated the rule, but\nwe're not out of the wizard here yet.\n\n625\n00:30:11.386 --> 00:30:12.309\nWe're not out of the screen.\n\n626\n00:30:12.309 --> 00:30:17.239\nAll right, what we have to do,\ngot this other button down here.\n\n627\n00:30:17.239 --> 00:30:18.780\nGotta click Apply.\n\n628\n00:30:18.780 --> 00:30:23.344\nSo we have the rule there,\ngotta click Apply now to make sure\n\n629\n00:30:23.344 --> 00:30:27.099\nthat our rule is ultimately\ngoing to be applied.\n\n630\n00:30:27.099 --> 00:30:31.670\nSo we gotta click Apply, make sure my\nrule gets applied, so we do all that.\n\n631\n00:30:31.670 --> 00:30:33.063\nSo now that I've got that,\n\n632\n00:30:33.063 --> 00:30:36.711\nnow what I'm gonna do is I'm gonna\ncome out of the Group Policy Editor.\n\n633\n00:30:36.711 --> 00:30:39.573\nIf you know anything about GPM Editing or\nGroup Policy Editing,\n\n634\n00:30:39.573 --> 00:30:41.310\nyou finish what you're doing.\n\n635\n00:30:41.310 --> 00:30:43.393\nSo we're just gonna\nclose the editor there.\n\n636\n00:30:43.393 --> 00:30:50.410\nGonna close out of here,\njust minimize our dashboard here.\n\n637\n00:30:54.900 --> 00:30:57.451\nWell actually I didn't hold on one\nsecond a little PowerShell forgot to\n\n638\n00:30:57.451 --> 00:30:58.184\nminimize that one.\n\n639\n00:30:58.184 --> 00:31:00.695\nHave PowerShell open or do I?\n\n640\n00:31:00.695 --> 00:31:01.281\nNope, that's my command line.\n\n641\n00:31:01.281 --> 00:31:04.030\nYeah, let me get rid of that\nlet me just PowerShell.\n\n642\n00:31:04.030 --> 00:31:06.482\nForgot to do that, I meant to\nhave that open and I just forgot.\n\n643\n00:31:06.482 --> 00:31:08.974\nSo let me go to PowerShell\nhere just to open that up.\n\n644\n00:31:08.974 --> 00:31:12.210\nAnd let's make that a little bigger for\nyou see the way I normally do.\n\n645\n00:31:12.210 --> 00:31:16.770\nIt'd be easier for to see what we're\ntyping, just modify that real quick and\n\n646\n00:31:16.770 --> 00:31:21.696\nput a 18 point font on there, probably a\nlittle bit easier for you to see that now.\n\n647\n00:31:21.696 --> 00:31:25.510\nAll right, so now what we're gonna do\nis just do a quick GP update force.\n\n648\n00:31:25.510 --> 00:31:28.301\nWe're gonna go in, in other words,\nI'm just refresh our group policy.\n\n649\n00:31:28.301 --> 00:31:31.480\nSo let's go in and do that.\n\n650\n00:31:36.390 --> 00:31:38.850\nOkay, let's just update\nthe policy real quick.\n\n651\n00:31:40.650 --> 00:31:44.316\nWe're gonna issue the get DNS client\nNRPT policy cmdlet again to see if\n\n652\n00:31:44.316 --> 00:31:45.444\nthe policies apply.\n\n653\n00:31:45.444 --> 00:31:47.428\nRemember I did on the Windows 10 machine,\n\n654\n00:31:47.428 --> 00:31:50.926\nwe didn't see we should see a listing of\nthe policy if there is a policy there.\n\n655\n00:31:50.926 --> 00:31:53.613\nThat's why we're doing this just to\nshow you how you would create and\n\n656\n00:31:53.613 --> 00:31:54.457\nhow you would apply.\n\n657\n00:31:54.457 --> 00:32:02.169\nSo get DNS or DNS client,\nWhat is that the NRPT, right?\n\n658\n00:32:02.169 --> 00:32:08.591\nSo, NRPT policy, DNS client NRPT come on.\n\n659\n00:32:08.591 --> 00:32:10.010\nI already hit the Tab, so I gotta wait.\n\n660\n00:32:10.010 --> 00:32:11.190\nNope there we go, okay, there we go.\n\n661\n00:32:11.190 --> 00:32:14.390\nOkay, policy, all right, so\nhit that give that a second.\n\n662\n00:32:14.390 --> 00:32:17.666\nAnd boom, that's what we will see when\nwe actually have a policy created\n\n663\n00:32:17.666 --> 00:32:18.320\nand applied.\n\n664\n00:32:18.320 --> 00:32:20.592\nRemember on the Windows 10 client\nwe did that there was nothing.\n\n665\n00:32:20.592 --> 00:32:22.230\nSo, no policy there, right?\n\n666\n00:32:22.230 --> 00:32:24.520\nBut, now,\nwe've actually implemented a policy.\n\n667\n00:32:24.520 --> 00:32:28.070\nSo, now, this policy would control\nwhatever the policy is set to do.\n\n668\n00:32:28.070 --> 00:32:32.210\nThis one is saying, hey, make sure you use\nan authorized zone that's been signed.\n\n669\n00:32:32.210 --> 00:32:36.085\nSo, you force us to do that when we're\ngoing to secure practicelabs.com.\n\n670\n00:32:36.085 --> 00:32:40.995\nBut the idea is we're simply using a group\npolicy to be able to apply the NRPT\n\n671\n00:32:40.995 --> 00:32:41.625\ntemplate.\n\n672\n00:32:41.625 --> 00:32:43.575\nApply the rule and, now,\n\n673\n00:32:43.575 --> 00:32:46.280\nwe can see evidence in the fact that\nthe rule is active in the policy.\n\n674\n00:32:46.280 --> 00:32:50.319\nCuz I created it, I applied it, and, now,\nanybody who touches this policy, or is\n\n675\n00:32:50.319 --> 00:32:54.405\napplying this policy as part of a domain\nlogon will actually then be bound by it.\n\n676\n00:32:54.405 --> 00:32:56.894\nSo, this is how we bring NRPT and\n\n677\n00:32:56.894 --> 00:33:00.862\nthe DNSSEC together to be\nable to apply policies for\n\n678\n00:33:00.862 --> 00:33:07.420\nDNSSEC to clients based on the use of\nthe name resolution policy table policy.\n\n679\n00:33:07.420 --> 00:33:09.985\nAnd our PT policy policy,\nright?, that's how we do that.\n\n680\n00:33:09.985 --> 00:33:10.651\n&gt;&gt; Pretty cool-\n&gt;&gt; It is.\n\n681\n00:33:10.651 --> 00:33:13.277\n&gt;&gt; I never actually saw that work through,\nI mean, although you said,\n\n682\n00:33:13.277 --> 00:33:16.692\nit's been out since 2012, and then here\nin 2016 we still have that as a feature.\n\n683\n00:33:16.692 --> 00:33:18.705\nSo, thank you for showing us, Adam.\n\n684\n00:33:18.705 --> 00:33:20.915\n&gt;&gt; So, let's do one more thing,\nlet's go to our Windows 10 client.\n\n685\n00:33:20.915 --> 00:33:23.335\nLet's kinda see this, now, remember,\nwe did it on the other side.\n\n686\n00:33:23.335 --> 00:33:25.715\nWe actually took a look at that,\nsaw it didn't work, right?, or\n\n687\n00:33:25.715 --> 00:33:26.815\ndidn't have the policy, whatever.\n\n688\n00:33:26.815 --> 00:33:29.451\nBut let's just quickly flip over to\nthe client, let's see the output of this.\n\n689\n00:33:29.451 --> 00:33:32.540\nWe'll do a quick refresh for\npolicy on the client the way we did here.\n\n690\n00:33:32.540 --> 00:33:34.255\nWe'll obviously see that\nwe do have the same thing.\n\n691\n00:33:34.255 --> 00:33:35.860\nIt'll show up there and we'll see that.\n\n692\n00:33:35.860 --> 00:33:38.987\nLet's make sure, cuz like you always say,\nlet's trust, but\n\n693\n00:33:38.987 --> 00:33:41.470\nlet's validate that it's\nactually happening.\n\n694\n00:33:41.470 --> 00:33:44.743\nSo, if you remember, this is what we\ndid on the client, we had nothing back.\n\n695\n00:33:44.743 --> 00:33:47.750\nSo, we could see at the time we did\nthis there was no policy, right?\n\n696\n00:33:47.750 --> 00:33:50.522\nSo, let's go ahead, let's see if\nwe can see what's going on now.\n\n697\n00:33:50.522 --> 00:33:55.400\nLet's do a GP update, and\nlet's do a force there.\n\n698\n00:33:57.460 --> 00:33:58.389\nWhoops, what did I do.\n\n699\n00:34:07.129 --> 00:34:09.560\nWould help if I did the following.\n\n700\n00:34:09.560 --> 00:34:11.100\n&gt;&gt; Is the force with you?\n\n701\n00:34:11.100 --> 00:34:16.660\n&gt;&gt; Apparently not,\nhold on one second, gpupdate.\n\n702\n00:34:16.660 --> 00:34:20.181\nThought I spelled that correctly,\nright, /force, that should work.\n\n703\n00:34:20.181 --> 00:34:21.089\n&gt;&gt; Yeah, it looks like it.\n\n704\n00:34:23.256 --> 00:34:25.177\n&gt;&gt; There we go, yeah I don't know,\nmaybe there was a space, or\n\n705\n00:34:25.177 --> 00:34:26.810\nsomething where I don't\nknow why it just did that.\n\n706\n00:34:26.810 --> 00:34:28.675\nBut, I think,\nI typed the same exact command.\n\n707\n00:34:28.675 --> 00:34:31.330\nWhy, no, GP, I left out the p, that's why.\n\n708\n00:34:31.330 --> 00:34:34.380\nI did gpuudate, not gpupdate like you see-\n&gt;&gt; I see, yeah-\n\n709\n00:34:34.380 --> 00:34:35.440\n&gt;&gt; So, yeah, I left the p out.\n\n710\n00:34:35.440 --> 00:34:37.528\nRemember, you can not trust me\nto type no matter what you do.\n\n711\n00:34:37.528 --> 00:34:39.531\n&gt;&gt; [LAUGH]\n&gt;&gt; Don't let me near a keyboard-\n\n712\n00:34:39.531 --> 00:34:40.785\n&gt;&gt; And here I am like over here squinting,\n\n713\n00:34:40.785 --> 00:34:42.117\nand leaning trying to check your syntax.\n\n714\n00:34:42.117 --> 00:34:44.896\n&gt;&gt; Don't let me near a keyboard,\nyou know, that is yeah, just I,\n\n715\n00:34:44.896 --> 00:34:45.933\nyou know I cannot type.\n\n716\n00:34:45.933 --> 00:34:48.291\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so get DNS client policy.\n\n717\n00:34:48.291 --> 00:34:51.338\nWe'll try this again, right?,\nand boom, you see it's there.\n\n718\n00:34:51.338 --> 00:34:54.565\nSo, you can see that the policy gets\napplied to whatever is in the domain.\n\n719\n00:34:54.565 --> 00:34:57.670\nWhenever clients are gonna logon,\nwe can actually see that.\n\n720\n00:34:57.670 --> 00:34:59.470\nAnd we're now able to do the following.\n\n721\n00:34:59.470 --> 00:35:02.880\nLet's take a look and see what we get, cuz\nthis is gonna help us to understand this.\n\n722\n00:35:02.880 --> 00:35:05.831\nGive me just a second,\nlet me move this over here.\n\n723\n00:35:05.831 --> 00:35:09.580\nLet me just make a little room here, so\nyou can see what we're gonna do, right?\n\n724\n00:35:09.580 --> 00:35:12.475\nSo, we know, DNS,\nset validation required true, we know,\n\n725\n00:35:12.475 --> 00:35:15.107\nthat's what we're doing with the policy,\nall right.\n\n726\n00:35:15.107 --> 00:35:18.015\nSo, now,\nlet's do the following one more time.\n\n727\n00:35:18.015 --> 00:35:20.915\nI think, I have my resolve,\nyeah, I got that there.\n\n728\n00:35:20.915 --> 00:35:25.885\nResolve-DnsName, secure practicelabs.com,\nserver plabdm1 DNS sec, okay?\n\n729\n00:35:26.995 --> 00:35:33.110\nAll right, right, so we are,\nremember, able, there we go, right?\n\n730\n00:35:33.110 --> 00:35:35.990\nWe're able to, and you see by\nthe way the TTL went down, right?\n\n731\n00:35:35.990 --> 00:35:38.130\nRemember, I told you it would just\nkeep incrementing down eventually.\n\n732\n00:35:38.130 --> 00:35:39.640\nJust keep ticking down towards the bottom,\nright?\n\n733\n00:35:39.640 --> 00:35:42.749\nSo, you can see that we're\nable to do this, right?\n\n734\n00:35:42.749 --> 00:35:47.111\nWe're able to go in, we're able to get our\ninformation even with the policy applied,\n\n735\n00:35:47.111 --> 00:35:49.460\nbecause we're using a secure, signed zone.\n\n736\n00:35:49.460 --> 00:35:51.092\nWe're meeting the requirements\nof the policy, right?\n\n737\n00:35:51.092 --> 00:35:55.990\nWe're getting back the information, secure\npracticelabs.com is where we're going.\n\n738\n00:35:55.990 --> 00:36:02.956\nBut if I want to go ahead, and I want to\nbe able to, maybe get another record.\n\n739\n00:36:02.956 --> 00:36:04.650\nMaybe let's get something\nelse out of that zone.\n\n740\n00:36:04.650 --> 00:36:06.141\nAre we going to be able to\nmeet the same requirements?\n\n741\n00:36:06.141 --> 00:36:07.530\nOr are we going to be able to do that?\n\n742\n00:36:07.530 --> 00:36:08.920\nThat's something else we can look at.\n\n743\n00:36:08.920 --> 00:36:12.250\nSo, let's do that really quickly,\njust modify the statement here.\n\n744\n00:36:12.250 --> 00:36:15.212\nInstead of, what did we do, we did that,\n\n745\n00:36:15.212 --> 00:36:19.370\nlet's do a record type specifically,\nlet's do our soa.\n\n746\n00:36:19.370 --> 00:36:23.216\nSo, let me just go back here really quick,\nlet's modify that,\n\n747\n00:36:23.216 --> 00:36:26.147\nResolve-DnsName secure practicelabs.com.\n\n748\n00:36:26.147 --> 00:36:33.617\nAnd let's do type right here, so\nlet's do type and let's do soa.\n\n749\n00:36:33.617 --> 00:36:38.046\nAnd then we'll do server,\n[SOUND], okay, so let's do that.\n\n750\n00:36:38.046 --> 00:36:42.363\nAnd you'll see we're able to get, let's\njust take a look at what we get here.\n\n751\n00:36:42.363 --> 00:36:45.137\n[SOUND] Go back up,\ngot a lot of stuff actually.\n\n752\n00:36:45.137 --> 00:36:49.130\nYou'll see that we're able to get\nour soa record this time, right?\n\n753\n00:36:49.130 --> 00:36:53.010\nAnd we get all that information,\nwe're able to see the RR sig,\n\n754\n00:36:53.010 --> 00:36:53.939\nthe resource record.\n\n755\n00:36:55.410 --> 00:36:59.923\nSig set, we're able to see all\nthe associated information.\n\n756\n00:36:59.923 --> 00:37:03.500\nThose are some of those crazy looking\nrecords in there with those strings at\n\n757\n00:37:03.500 --> 00:37:05.500\nthe beginning of them that I pointed out.\n\n758\n00:37:05.500 --> 00:37:08.300\nWhen we setup the zone and\nwe had all those files down at the bottom,\n\n759\n00:37:08.300 --> 00:37:11.860\nall those resource records and all those\nlong strings, so we're able to see those.\n\n760\n00:37:11.860 --> 00:37:14.920\nSo, you could see we're able\nto successfully query for\n\n761\n00:37:14.920 --> 00:37:17.340\ndifferent records as long as we're\nfollowing the policy, right?\n\n762\n00:37:17.340 --> 00:37:20.270\nAs long as we're going in in querying\nthe zone, that is signed, or\n\n763\n00:37:20.270 --> 00:37:23.220\nwe're using the policy applying it and\nwe're then able to communicate.\n\n764\n00:37:23.220 --> 00:37:26.819\nSo, this is what NRPT, what policy does,\nthis is what DNS sec is given,\n\n765\n00:37:26.819 --> 00:37:30.359\nand is giving us the ability to see\nit's actually working in real time.\n\n766\n00:37:30.359 --> 00:37:31.998\n&gt;&gt; Very cool, all right.\n\n767\n00:37:31.998 --> 00:37:33.970\nSo, there it is, ladies and gentlemen.\n\n768\n00:37:33.970 --> 00:37:34.870\nWe've checked our work.\n\n769\n00:37:34.870 --> 00:37:35.730\nWe're good to go.\n\n770\n00:37:35.730 --> 00:37:37.230\nSo, thank you for tuning in with us, but\n\n771\n00:37:37.230 --> 00:37:39.720\nstay tuned there's more\ninformation headed your way.\n\n772\n00:37:39.720 --> 00:37:41.070\nFor this show we'll go ahead and sign out.\n\n773\n00:37:41.070 --> 00:37:43.270\nRemember, I'm your host, Cherokee Boost.\n\n774\n00:37:43.270 --> 00:37:44.480\n&gt;&gt; I'm Adam Gordon.\n\n775\n00:37:44.480 --> 00:37:45.261\n&gt;&gt; See you next time, bye.\n\n776\n00:37:45.261 --> 00:37:53.036\n[MUSIC]\n\n777\n00:37:53.036 --> 00:37:55.060\n&gt;&gt; Thank you for watching ITPROTv\n\n",
          "vimeoId": "217831665"
        },
        {
          "description": "In this show, Adam and Cherokee introduce Nano Server. They explain what it is and why it becoming more popular. By reducing the coding of an operating system on e can benefits form residual benefits such as reduced cost, smaller environmental footprint and reduced surface attack without sacrificing import core networking services such as DNS.",
          "length": "975",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-3-dns_on_nano_server-051117-PGM.00_00_11_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-3-dns_on_nano_server-051117-PGM.00_00_11_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-4-3-dns_on_nano_server-051117-PGM.00_00_11_27.Still001-sm.jpg",
          "title": "DNS on Nano Server",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:01.986\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:01.986 --> 00:00:06.423\n[CROSSTALK]\n\n3\n00:00:06.423 --> 00:00:08.296\n[MUSIC]\n\n4\n00:00:08.296 --> 00:00:11.837\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:11.837 --> 00:00:16.190\n&gt;&gt; Welcome back to your Networking\nwith Windows Server 2016 series.\n\n6\n00:00:16.190 --> 00:00:18.360\nI'm your show host Cherokee Boose.\n\n7\n00:00:18.360 --> 00:00:19.750\nSo we been talking about DNS for\n\n8\n00:00:19.750 --> 00:00:23.810\na while we've covered a lot of different\ntopics I think there's one tiny little\n\n9\n00:00:23.810 --> 00:00:28.640\nNano topic that we have left to cover and\nwith us today back in studios we have Mr.\n\n10\n00:00:28.640 --> 00:00:32.450\nAdam Gordon how are you doing Adam\n&gt;&gt; I am good hopefully, you are as well\n\n11\n00:00:32.450 --> 00:00:38.470\nI'm gonna play off the a little joke\nthing got, whatever you call that.\n\n12\n00:00:38.470 --> 00:00:40.070\nThat thing that Cherokee just said.\n\n13\n00:00:40.070 --> 00:00:42.000\n&gt;&gt; I try, l try.\n&gt;&gt; But I'm gonna do it differently.\n\n14\n00:00:42.000 --> 00:00:46.374\nI'm gonna say that this is gonna be a nano\nlike episode because it's gonna be so\n\n15\n00:00:46.374 --> 00:00:47.380\nshort and small.\n\n16\n00:00:47.380 --> 00:00:48.860\n&gt;&gt; Ooh, l like it.\n&gt;&gt; Ooh yes, so there we go.\n\n17\n00:00:48.860 --> 00:00:50.390\n&gt;&gt; So what are we gonna be talking about?\n\n18\n00:00:50.390 --> 00:00:52.100\n&gt;&gt; And we're done, we're finished.\n\n19\n00:00:52.100 --> 00:00:54.000\n&gt;&gt; Goodbye.\n&gt;&gt; DNS on nano, nothing else to say.\n\n20\n00:00:54.000 --> 00:00:58.081\nWe're actually gonna talk about how to set\nup a really cool way to deal with DNS, we\n\n21\n00:00:58.081 --> 00:01:02.401\ntalk this with Cherokee and saying perhaps\nit's been a lot of different new features,\n\n22\n00:01:02.401 --> 00:01:04.962\nold features,\ncombination of things around DNS.\n\n23\n00:01:04.962 --> 00:01:09.427\nA lot of stuff we could have done before,\nsome new stuff that we haven't been able\n\n24\n00:01:09.427 --> 00:01:13.970\nto do, things like the NRPT policy and\nDNS Sec Integration in some prior episode.\n\n25\n00:01:13.970 --> 00:01:15.660\nBut also it's a cool stuff, right?\n\n26\n00:01:15.660 --> 00:01:19.780\nAnd thought it would be great to\nround out our conversations on DNS\n\n27\n00:01:19.780 --> 00:01:21.470\nwith the nano server.\n\n28\n00:01:21.470 --> 00:01:25.570\nSo a new feature for Windows in\nthe last version or so of Windows.\n\n29\n00:01:25.570 --> 00:01:29.020\nBeen able to get this new\nthought process up and running.\n\n30\n00:01:29.020 --> 00:01:30.220\nWe now can play with it.\n\n31\n00:01:30.220 --> 00:01:33.310\nWe can integrate DNS as\na role into the nano server.\n\n32\n00:01:33.310 --> 00:01:36.190\nThought we'd just spend a couple minutes\nliterally just walking through the steps\n\n33\n00:01:36.190 --> 00:01:36.780\non how to do this.\n\n34\n00:01:36.780 --> 00:01:38.070\nSo if you join me here,\n\n35\n00:01:38.070 --> 00:01:42.020\nwhat you will see is that we do\nhave a little guidance out here.\n\n36\n00:01:42.020 --> 00:01:43.270\nNow I just wanna warn you about this one.\n\n37\n00:01:43.270 --> 00:01:45.240\nWe normally tell you, hey,\ngo out there, take a look.\n\n38\n00:01:45.240 --> 00:01:47.960\nIt's gonna give you the information\nyou need and it will.\n\n39\n00:01:47.960 --> 00:01:50.080\nOne thing that we just wanna\nmake sure we talk about.\n\n40\n00:01:50.080 --> 00:01:52.220\nI'm just gonna move my cup\nhere while we're talking,\n\n41\n00:01:52.220 --> 00:01:55.180\nget that straw out of my way now\nyour straw is sitting right there.\n\n42\n00:01:55.180 --> 00:01:56.290\nWe have got like straws everywhere.\n\n43\n00:01:56.290 --> 00:01:59.250\nAll right, so I am just gonna actually\ntake mine and throw it right.\n\n44\n00:01:59.250 --> 00:02:00.540\nLook at, woo, I can do it from right here.\n\n45\n00:02:00.540 --> 00:02:01.390\nLook at that that is so cool.\n\n46\n00:02:01.390 --> 00:02:02.771\nIt is like a disembodied head.\n\n47\n00:02:02.771 --> 00:02:03.517\n&gt;&gt; [LAUGH] Where did you go?\n&gt;&gt; Yeah,\n\n48\n00:02:03.517 --> 00:02:05.985\nI am small because it is nano\nit is like I am shrunken down.\n\n49\n00:02:05.985 --> 00:02:06.485\nYeah.\n&gt;&gt; Yeah.\n\n50\n00:02:06.485 --> 00:02:07.375\n&gt;&gt; And that's what it is.\n\n51\n00:02:07.375 --> 00:02:09.255\nAll right, so,\nhow we deploy Windows DNS Server.\n\n52\n00:02:09.255 --> 00:02:10.885\nNow, just a word about this web page.\n\n53\n00:02:10.885 --> 00:02:12.015\nWant you to go take a look.\n\n54\n00:02:12.015 --> 00:02:13.245\nEncourage you to do this, we always do.\n\n55\n00:02:13.245 --> 00:02:16.885\nBut, having said that, you will find\nsome information in here that may\n\n56\n00:02:16.885 --> 00:02:19.035\nthrow you off, and\nI don't want you to be concerned about it.\n\n57\n00:02:19.035 --> 00:02:21.155\nIt talks about the fact,\nand can we go full screen?\n\n58\n00:02:21.155 --> 00:02:23.235\nI'll point out what we're taking about,\njust so you could see it.\n\n59\n00:02:24.320 --> 00:02:28.830\n&gt;&gt; Talks about the fact that Server 16\ntechnical preview offers this capability.\n\n60\n00:02:28.830 --> 00:02:32.810\nMeaning this post was written before\nWindows Server 2016 was final,\n\n61\n00:02:32.810 --> 00:02:34.990\nfinal, final and released.\n\n62\n00:02:34.990 --> 00:02:36.230\nThat doesn't mean.\n\n63\n00:02:36.230 --> 00:02:40.700\nThat the Nano Server support and or\nthat the steps involved to change.\n\n64\n00:02:40.700 --> 00:02:45.010\nIt simply means that this post that we're\nreferring you has not been updated to\n\n65\n00:02:45.010 --> 00:02:48.110\nreflect the fact that it actually is\nworking that way in the final release.\n\n66\n00:02:48.110 --> 00:02:50.525\nSo definitely wanna go take a look.\n\n67\n00:02:50.525 --> 00:02:52.545\nWe're gonna go through the steps,\nI'm gonna summarize them for you.\n\n68\n00:02:52.545 --> 00:02:53.535\nWe'll talk about it.\n\n69\n00:02:53.535 --> 00:02:56.795\nBut I don't want you to think that this\ninformation won't be valid when you go and\n\n70\n00:02:56.795 --> 00:02:58.065\ntake a look and think to yourself.\n\n71\n00:02:58.065 --> 00:02:59.165\nHey, why are they telling us to go and\n\n72\n00:02:59.165 --> 00:03:01.730\nlook at information about\nwhat it would have been like?\n\n73\n00:03:01.730 --> 00:03:05.010\nHad we done the full version and then\nnever updated it, the steps are the same,\n\n74\n00:03:05.010 --> 00:03:05.830\nthere is no difference.\n\n75\n00:03:05.830 --> 00:03:09.090\nSo just so you know that, and you can see\nthe source where this is coming from.\n\n76\n00:03:09.090 --> 00:03:12.420\nIt is coming from out of the technical\nlibrary and the documentation.\n\n77\n00:03:12.420 --> 00:03:15.430\nThis is gonna give you the overview\nof the steps involved.\n\n78\n00:03:15.430 --> 00:03:16.860\nWe're gonna go through this.\n\n79\n00:03:16.860 --> 00:03:18.340\nI want to talk about how this works.\n\n80\n00:03:18.340 --> 00:03:19.940\nBut, your Nano Server,\n\n81\n00:03:19.940 --> 00:03:23.390\njust to give you a little positioning\nof what Nano Server may be good for.\n\n82\n00:03:23.390 --> 00:03:25.790\nWe got some scenarios that they list here.\n\n83\n00:03:25.790 --> 00:03:28.990\nA computer host for Hyper-V machines.\n\n84\n00:03:28.990 --> 00:03:32.010\nWhether they are clustered or\nnot, irrelevant.\n\n85\n00:03:32.010 --> 00:03:35.580\nSo, a small instance that is running.\n\n86\n00:03:35.580 --> 00:03:37.480\nThat could then provide services.\n\n87\n00:03:37.480 --> 00:03:38.796\nSo that's gonna be cool.\n\n88\n00:03:38.796 --> 00:03:40.358\nWe have stored scale out so\n\n89\n00:03:40.358 --> 00:03:44.405\nscale out file servers you could run\nthose on nano as well we'll talk\n\n90\n00:03:44.405 --> 00:03:49.210\nabout some of those with things like\nDFS in upcoming episodes branch cache.\n\n91\n00:03:49.210 --> 00:03:50.610\nSome of that kind of stuff.\n\n92\n00:03:50.610 --> 00:03:54.510\nAs a DNS server we're gonna be focussing\nin right there on that particular\n\n93\n00:03:54.510 --> 00:03:55.450\nscenario.\n\n94\n00:03:55.450 --> 00:03:58.640\nAs a web server this is one of the things\nthat it's being positioned to do,\n\n95\n00:03:58.640 --> 00:04:02.267\nis that nano can run a web server\ninstance out there for us and.\n\n96\n00:04:02.267 --> 00:04:07.350\nProvide web services so also obviously\nuseful for cloud applications and\n\n97\n00:04:07.350 --> 00:04:10.990\nhosting cloud apps on as we're\nsetting that up just be aware of that.\n\n98\n00:04:10.990 --> 00:04:16.350\nWindows Server 16 is the requirement here\nnot the technical preview ISO now the full\n\n99\n00:04:16.350 --> 00:04:20.090\ndeployed versions just be aware of\nthat notice we could also run this\n\n100\n00:04:20.090 --> 00:04:23.900\non Server 12 are two right,\nif we want to using\n\n101\n00:04:23.900 --> 00:04:28.430\nall this is a Hyper-V host keep this in\nmind we run these as virtual machines.\n\n102\n00:04:28.430 --> 00:04:31.900\nWe create the VHD for\nthe Nano Server as you can see there.\n\n103\n00:04:31.900 --> 00:04:34.230\nAnd then we actually go ahead and\nwe host this.\n\n104\n00:04:34.230 --> 00:04:35.310\nSo just be aware of that.\n\n105\n00:04:37.120 --> 00:04:38.240\nGood, questions, thoughts?\n\n106\n00:04:38.240 --> 00:04:40.150\nI don't know, I just wanna\nmake sure you're with me here.\n\n107\n00:04:40.150 --> 00:04:40.680\n&gt;&gt; I'm with you.\n\n108\n00:04:40.680 --> 00:04:42.110\n&gt;&gt; I know you are.\nYou're always with me, Cherokee.\n\n109\n00:04:42.110 --> 00:04:45.500\nthat's why I love having the time to host\nwith you, because you're paying attention.\n\n110\n00:04:45.500 --> 00:04:46.690\nYou're keeping me honest,\n\n111\n00:04:46.690 --> 00:04:48.840\nthrowing in those great comments\nthat you always have about things.\n\n112\n00:04:48.840 --> 00:04:50.285\nLet me ask you a quick\nquestion about something.\n\n113\n00:04:50.285 --> 00:04:51.690\n&gt;&gt; Sure.\n&gt;&gt; So I know you may not have actually\n\n114\n00:04:51.690 --> 00:04:52.580\nplayed with nano before.\n\n115\n00:04:52.580 --> 00:04:53.087\nThis is relatively new.\n\n116\n00:04:53.087 --> 00:04:55.181\n&gt;&gt; Right.\n&gt;&gt; I know you've done a lot of work with\n\n117\n00:04:55.181 --> 00:04:58.240\ncertainly non traditional Windows\nversions or things like you and\n\n118\n00:04:58.240 --> 00:05:01.385\nas you mention you're,\nyou are familiar with buying the things.\n\n119\n00:05:01.385 --> 00:05:04.421\nThings like that but you may not\nnecessarily have seen this before.\n\n120\n00:05:04.421 --> 00:05:07.694\nBut what in your mind, if you were,\nlet's say, an IT professional today,\n\n121\n00:05:07.694 --> 00:05:11.072\nsitting out there, talking with us,\nlistening to us, thinking about nano,\n\n122\n00:05:11.072 --> 00:05:12.885\nwould you be excited about deploying it?\n\n123\n00:05:12.885 --> 00:05:14.287\nWould you be excited about using it?\n\n124\n00:05:14.287 --> 00:05:15.047\n&gt;&gt; Most definitely.\n\n125\n00:05:15.047 --> 00:05:17.487\nAll I see is I see positivity.\n\n126\n00:05:17.487 --> 00:05:18.807\nI see dollar signs.\n\n127\n00:05:18.807 --> 00:05:23.267\nI see a healthier planet earth and\nthat's my vision.\n\n128\n00:05:23.267 --> 00:05:27.817\nAnd I could be out in left field here,\nleft field.\n\n129\n00:05:27.817 --> 00:05:30.820\n&gt;&gt; Okay.\nBut how does all that relate to the fact\n\n130\n00:05:30.820 --> 00:05:32.005\nthat it's smaller\n&gt;&gt; Yeah, so.\n\n131\n00:05:32.005 --> 00:05:34.120\n&gt;&gt; The fact that it's got less of\na footprint, those kinds of thinks.\n\n132\n00:05:34.120 --> 00:05:35.750\n&gt;&gt; Yeah, less of a footprint,\nwe're talking about, so\n\n133\n00:05:35.750 --> 00:05:37.600\nwe saw this with Core coming into play.\n\n134\n00:05:37.600 --> 00:05:38.700\n&gt;&gt; Right.\n&gt;&gt; And we see\n\n135\n00:05:38.700 --> 00:05:42.930\nvirtualization which will reduce that\nfootprint even more because I can have\n\n136\n00:05:42.930 --> 00:05:45.900\nessentially less physical hardware.\n\n137\n00:05:45.900 --> 00:05:48.540\nI can have those virtual\nmachines running on it.\n\n138\n00:05:48.540 --> 00:05:50.150\nAnd I can have more\nvirtual machines running.\n\n139\n00:05:50.150 --> 00:05:52.280\nBecause every time I'm\nextracting that coding,\n\n140\n00:05:52.280 --> 00:05:55.300\nthat software I'm really slimming\ndown my operating system.\n\n141\n00:05:55.300 --> 00:05:56.610\nThen I can just add more to it.\n\n142\n00:05:56.610 --> 00:05:58.170\nSo that's obviously gonna be a cost and\n\n143\n00:05:58.170 --> 00:06:00.300\nbenefit there from\nthe business perspective.\n\n144\n00:06:00.300 --> 00:06:03.870\nI see increased security\nbecause I have less coding, so\n\n145\n00:06:03.870 --> 00:06:07.020\nless potential vulnerabilities there.\n\n146\n00:06:07.020 --> 00:06:10.780\nAnd then as far as the power consumption\nfrom those additional machines,\n\n147\n00:06:10.780 --> 00:06:14.190\nand that's my thought is if I don't\nneed all the bells, and whistles, and\n\n148\n00:06:14.190 --> 00:06:15.840\nall those additional features.\n\n149\n00:06:15.840 --> 00:06:18.900\nThen I can have a more efficient\nproduction environment\n\n150\n00:06:18.900 --> 00:06:22.050\nby using a really slimmed-down\nversion like Nano.\n\n151\n00:06:22.050 --> 00:06:23.010\n&gt;&gt; And these are all great points.\n\n152\n00:06:23.010 --> 00:06:26.300\nAnd that's a lot of the reasons why\nwe're gonna see this probably I'm\n\n153\n00:06:26.300 --> 00:06:27.210\nguessing and all.\n\n154\n00:06:27.210 --> 00:06:29.274\nPlay the future is stir play off for\nyou for a minute.\n\n155\n00:06:29.274 --> 00:06:32.720\nI'm gonna anticipate and I'm gonna project\nthat we're gonna start seeing a lot more\n\n156\n00:06:32.720 --> 00:06:35.730\ndeployment to this in server forms and\ncloud environments like you were\n\n157\n00:06:35.730 --> 00:06:40.840\nsuggesting for instance where we're gonna\nbe able to run this instance as a full.\n\n158\n00:06:40.840 --> 00:06:44.990\nSupport instance in the OS sense,\nfor key network services,\n\n159\n00:06:44.990 --> 00:06:48.780\nwe've stressed the importance of DNS for\ninstance, and why it's so critical.\n\n160\n00:06:48.780 --> 00:06:52.119\nWeb hosting, we there's a tremendous\namount of web hosting that goes on in\n\n161\n00:06:52.119 --> 00:06:55.254\nthe Cloud, and we know that certainly\nthis provides an option for us.\n\n162\n00:06:55.254 --> 00:06:58.266\nSo to be able to virtualize that\nexperience, provide these resources, and\n\n163\n00:06:58.266 --> 00:07:01.511\nthen as a result to be able to do all the\nother things that Cherokee was describing,\n\n164\n00:07:01.511 --> 00:07:03.909\nit's gonna be I think a good play for\nMicrosoft in this here,\n\n165\n00:07:03.909 --> 00:07:05.300\nI think it's gonna work out well.\n\n166\n00:07:05.300 --> 00:07:07.500\nSo let's, instead of just\nwalking through on the page,\n\n167\n00:07:07.500 --> 00:07:11.355\nit's a little hard to see It's small,\nthe type may not be easy to read.\n\n168\n00:07:11.355 --> 00:07:13.075\nThe commands are hard to keep track of.\n\n169\n00:07:13.075 --> 00:07:14.785\nI've just summarized all of this for\nyou in my notes.\n\n170\n00:07:14.785 --> 00:07:16.215\nI'm going to step through\nit in my notes in a minute.\n\n171\n00:07:16.215 --> 00:07:19.115\nBut I just wanted you to see\nwhere this is coming from.\n\n172\n00:07:19.115 --> 00:07:21.022\nWanted you to see that you can go out and\ntake a look.\n\n173\n00:07:21.022 --> 00:07:23.812\nif you need some information and\nrefer back to it but\n\n174\n00:07:23.812 --> 00:07:25.012\nwe're gonna put this up right here.\n\n175\n00:07:25.012 --> 00:07:28.472\nMake it a little bit easier for you to\nsee, we can go full screen some covering\n\n176\n00:07:28.472 --> 00:07:30.592\nI think a portion of\nthe really important stuff.\n\n177\n00:07:30.592 --> 00:07:32.802\nSo let's just take a look at what we're\ngoing to do here we already talked about\n\n178\n00:07:32.802 --> 00:07:34.222\nwhat a nano server is.\n\n179\n00:07:34.222 --> 00:07:39.280\nOnce you know where to find the ISO for\nthis for Server 16 now.\n\n180\n00:07:39.280 --> 00:07:43.990\nIt's in or set up in, as you could\nsee here, on the installation DVD, or\n\n181\n00:07:43.990 --> 00:07:46.740\nISO file,\nin the directory called Nano Server.\n\n182\n00:07:46.740 --> 00:07:47.870\nSo in the NanoServer folder.\n\n183\n00:07:47.870 --> 00:07:50.440\nYou're gonna be able to go,\nfind the image that we need.\n\n184\n00:07:50.440 --> 00:07:53.130\nStart working with this, so\nit's already contained there for\n\n185\n00:07:53.130 --> 00:07:54.940\nyou when you get Windows Server 16.\n\n186\n00:07:54.940 --> 00:07:56.040\nEasy to work with.\n\n187\n00:07:56.040 --> 00:07:59.490\nYou'll have a .wim image in a subfolder\nthat's referred to as packages.\n\n188\n00:07:59.490 --> 00:08:03.570\nIf you're familiar with doing imaging or\nwith deployments, if you use for\n\n189\n00:08:03.570 --> 00:08:06.820\ninstance Systems Center\nConfig Manager SSCM and\n\n190\n00:08:06.820 --> 00:08:09.680\nuse the OSD the operating system\ndeployment feature set there.\n\n191\n00:08:09.680 --> 00:08:11.900\nYou're probably familiar with win images,\n\n192\n00:08:11.900 --> 00:08:16.350\nif you do WDS Windows Deployment Services\nand you're familiar with WinPE and\n\n193\n00:08:16.350 --> 00:08:20.930\nthe process of creating images, you're\nprobably familiar with the .win extension.\n\n194\n00:08:20.930 --> 00:08:25.400\nThis is just the pre-compiled image of the\noperating system binders are gonna use and\n\n195\n00:08:25.400 --> 00:08:29.650\nmount that's our imaging extension for\nWindows and that's what we refer to as.\n\n196\n00:08:29.650 --> 00:08:33.600\nSo Just so you know, we use the package\nfiles to add server roles or\n\n197\n00:08:33.600 --> 00:08:36.850\nfeatures to the VHD image, and\nso the package directory, or\n\n198\n00:08:36.850 --> 00:08:41.370\npackage folder, is gonna be like in Linux,\nwhere you're unpacking the modules and\n\n199\n00:08:41.370 --> 00:08:44.760\nyou're creating different TPMs for\npackages you're then gonna use.\n\n200\n00:08:44.760 --> 00:08:46.070\nThis is what they are.\n\n201\n00:08:46.070 --> 00:08:49.820\nAnd so we see that structure looks\nkind of similar, kind of very,\n\n202\n00:08:49.820 --> 00:08:54.710\nvery almost aligned thought process\naround what Linux has been for\n\n203\n00:08:54.710 --> 00:08:58.480\ngenerations, and we see that migration and\nkind of that movement\n\n204\n00:08:58.480 --> 00:09:01.230\ninto that thought process on the Windows\nside more and more around some things.\n\n205\n00:09:01.230 --> 00:09:03.250\nYou've mentioned that for\nsome of our other conversations and areas.\n\n206\n00:09:03.250 --> 00:09:07.950\nNow I've touched on it as well here and\nthere, so we're gonna be able to do that.\n\n207\n00:09:07.950 --> 00:09:10.420\nWe set up, and of course I do this with.\n\n208\n00:09:10.420 --> 00:09:14.980\nAs we talked about with some of the other\nthings, our good friend PowerShell, right.\n\n209\n00:09:14.980 --> 00:09:17.660\nSo, we use the package\nmanagement PowerShell module\n\n210\n00:09:17.660 --> 00:09:20.370\nto be able to manipulate set up\nthe install and configure it.\n\n211\n00:09:20.370 --> 00:09:23.370\nSo you're gonna have to learn and\nbe comfortable with a little more about\n\n212\n00:09:23.370 --> 00:09:26.520\nPowerShell to work with Nano, but\nshould be no surprise to you we've been\n\n213\n00:09:26.520 --> 00:09:30.780\ntalking about the importance of PowerShell\nand why we should be thinking about it.\n\n214\n00:09:30.780 --> 00:09:35.860\nThe Nano Server Image Generator script is\ngoing to be part of what we do here so\n\n215\n00:09:35.860 --> 00:09:39.670\nwe're gonna import the Nano Server,\nPowerShell module.\n\n216\n00:09:39.670 --> 00:09:40.500\nYou could see right there,\n\n217\n00:09:40.500 --> 00:09:43.550\nwe're gonna bring that in that's gonna\ngive us the ability to work with\n\n218\n00:09:43.550 --> 00:09:47.430\nall of this, and use the commandlets\nthat are gonna be supported.\n\n219\n00:09:47.430 --> 00:09:49.050\nSo we'll be able to go do that.\n\n220\n00:09:49.050 --> 00:09:50.270\nThen, once we've done that, and\n\n221\n00:09:50.270 --> 00:09:52.920\nall these instructions are out\non the website, as well.\n\n222\n00:09:52.920 --> 00:09:55.450\nIt's just that it may be a little\nbit easier for you to follow here.\n\n223\n00:09:55.450 --> 00:09:58.790\nEverything has been vetted to make sure\nit's aligned with what we're now doing\n\n224\n00:09:58.790 --> 00:09:59.450\nin Server 16.\n\n225\n00:09:59.450 --> 00:10:01.190\nIn case there might be a little.\n\n226\n00:10:01.190 --> 00:10:01.740\nHere and there and\n\n227\n00:10:01.740 --> 00:10:05.310\nconsistency with the your version on the\nweb with regards to hey, it was a typical\n\n228\n00:10:05.310 --> 00:10:08.860\npreview maybe the directory structure\nwas different something like that.\n\n229\n00:10:08.860 --> 00:10:12.450\nSo, this information will align you\nwith where you wanna be right now,\n\n230\n00:10:12.450 --> 00:10:16.860\nwe create the HD, and we set up specify\nwhat we're gonna need for that.\n\n231\n00:10:16.860 --> 00:10:19.030\nSo you'll see here,\nwe do need an administrator password,\n\n232\n00:10:19.030 --> 00:10:20.140\nwe're gonna prompt for that.\n\n233\n00:10:20.140 --> 00:10:22.460\nSo NewNanoServerImage, media path.\n\n234\n00:10:22.460 --> 00:10:25.492\nRemember, and I've talked about this in\nother areas when we show you our notes or\n\n235\n00:10:25.492 --> 00:10:26.600\nPowerShell scripts.\n\n236\n00:10:26.600 --> 00:10:28.270\nWe put stuff like that in there.\n\n237\n00:10:28.270 --> 00:10:32.470\nThat does not mean,\ntype in path to route to media.\n\n238\n00:10:32.470 --> 00:10:35.540\nWhat that means is that's a placeholder-\n&gt;&gt; To put your path.\n\n239\n00:10:35.540 --> 00:10:38.680\n&gt;&gt; To whatever it's gonna be,\nits address, so just adjust the script\n\n240\n00:10:38.680 --> 00:10:43.509\nis all I'm suggesting to you,\nBasepath, .\\Base, TargetPath, and\n\n241\n00:10:43.509 --> 00:10:48.900\n.\\NanoServerVM, NanoServerVM.vhd,\nagain you're gonna specify\n\n242\n00:10:48.900 --> 00:10:53.280\nwhat the name is gonna be right computer\nname obviously specify the computer name.\n\n243\n00:10:53.280 --> 00:10:57.790\nAnd then whatever drivers you need, the\npackages, the Nano Server DNS package in\n\n244\n00:10:57.790 --> 00:11:00.460\nthis case because, we're talking about\nhow do we do this for DNS, right?\n\n245\n00:11:00.460 --> 00:11:03.730\nSo specifically, we're looking\nat how to deploy this for DNS.\n\n246\n00:11:03.730 --> 00:11:07.535\nIf we wanted to do this for the web server\none of those other scenarios there yeah\n\n247\n00:11:07.535 --> 00:11:11.573\nthere maybe some slight adjustments here\nthe name of the package would be different\n\n248\n00:11:11.573 --> 00:11:15.171\nwe need IIS instead of DNS in order to\ndeploy the web server package for us.\n\n249\n00:11:15.171 --> 00:11:19.726\nWe have things like that so just wanna\nmake sure you adjust accordingly once we\n\n250\n00:11:19.726 --> 00:11:24.069\nget the install done we import the VHD\ninto our Hyper-V host we set it up and\n\n251\n00:11:24.069 --> 00:11:26.129\nrun it as a guest OS or as a guest VM.\n\n252\n00:11:26.129 --> 00:11:31.430\nWe then go ahead, we sign in, now keep in\nmind just like Courtney Metrocorn I like.\n\n253\n00:11:31.430 --> 00:11:35.170\nThe though process around core because\nit's the same environment here essentially\n\n254\n00:11:35.170 --> 00:11:39.590\neven more stripped down, even less likely\nfor us to be able to do certain things.\n\n255\n00:11:39.590 --> 00:11:43.220\nYou in core you log in you essentially,\nhave a shell that's really what you get.\n\n256\n00:11:43.220 --> 00:11:45.350\nNano, as you could see there,\nwe're gonna have the same thing.\n\n257\n00:11:45.350 --> 00:11:46.100\nYou log in,\n\n258\n00:11:46.100 --> 00:11:49.710\nwe perform one of the most fundamental\nmanagement tasks interactively on Nano.\n\n259\n00:11:49.710 --> 00:11:51.600\nWe really can't even do\nanything logged in locally.\n\n260\n00:11:51.600 --> 00:11:54.340\nEverything's going to be done remotely,\nremoting in.\n\n261\n00:11:54.340 --> 00:11:58.480\nNow with Core, we do have the option to\ninstall a gooey and essentially add in\n\n262\n00:11:58.480 --> 00:12:01.820\nthe server manager to configure and\ndo things and remove it back out again.\n\n263\n00:12:01.820 --> 00:12:02.980\nWe don't even do that with Nano.\n\n264\n00:12:02.980 --> 00:12:05.860\nNano is Raspberry Pi on Microsoft, right,\n\n265\n00:12:05.860 --> 00:12:08.280\nit's a very stripped\ndown version of the OS.\n\n266\n00:12:08.280 --> 00:12:11.390\nSo we sign in,\nwe have the Nano Server recovery console.\n\n267\n00:12:11.390 --> 00:12:14.940\nAnd by the way, don't let that name fool\nyou, that doesn't mean you broke it or\n\n268\n00:12:14.940 --> 00:12:18.310\nsomething went wrong, that's just\nwhat we call the console that you see\n\n269\n00:12:18.310 --> 00:12:21.710\nthat as you could see there,\nit gives us some basic information.\n\n270\n00:12:21.710 --> 00:12:24.700\nThe computer name, if we are affiliated\nwith a work group or domain,\n\n271\n00:12:24.700 --> 00:12:28.360\nwhatever we do, the OS that is installed,\nso the versioning you know this\n\n272\n00:12:28.360 --> 00:12:32.940\nis Windows Server 2016 build five or\nwhatever, date, time all localized, and\n\n273\n00:12:32.940 --> 00:12:36.480\nthe network configuration that is\nwhat we see there, just so you know,\n\n274\n00:12:36.480 --> 00:12:39.759\nonce we have set up the network settings\nwhich we can do if we need to there.\n\n275\n00:12:41.040 --> 00:12:44.836\nEnable remote management for our\ninbound communication for the firewall,\n\n276\n00:12:44.836 --> 00:12:49.164\nwe're then gonna be managing remotely,\ntraditionally using Windows PowerShell and\n\n277\n00:12:49.164 --> 00:12:52.838\nroll one of the other management tool so\nwe could use remotely the rights to\n\n278\n00:12:52.838 --> 00:12:55.587\nbe able to connect server manager for\ninstance right.\n\n279\n00:12:55.587 --> 00:12:59.153\nSomething like that so if you wanna use\nPowerShell,so I just thought hey, yeah,\n\n280\n00:12:59.153 --> 00:13:00.083\nyou're doing this,\n\n281\n00:13:00.083 --> 00:13:02.940\nyou might as well figure out how\nto connect PowerShell remotely.\n\n282\n00:13:02.940 --> 00:13:05.200\nWe're talking about PowerShell\nremoting sometimes.\n\n283\n00:13:05.200 --> 00:13:06.380\nYou may or may not be familiar with it.\n\n284\n00:13:06.380 --> 00:13:09.860\nSo put a little bit of information in\nhere, help you to figure that out.\n\n285\n00:13:09.860 --> 00:13:13.755\nWe set PowerShell up to connect remotely\nin but in order to do that, we have to,\n\n286\n00:13:13.755 --> 00:13:15.575\non the machine we want\nto run PowerShell from.\n\n287\n00:13:15.575 --> 00:13:18.875\nMeaning this would be\nour admin workstation,\n\n288\n00:13:18.875 --> 00:13:22.605\nthis is the host that we're going to\nbe connecting from, we have to specify\n\n289\n00:13:22.605 --> 00:13:26.760\nthat we're going to allow a connection\nout to all the nano server and\n\n290\n00:13:26.760 --> 00:13:28.408\nadd to what's called\nthe trusted host link.\n\n291\n00:13:28.408 --> 00:13:32.140\nMeaning in PowerShell locally on your\nmachine we don't know why remoting\n\n292\n00:13:32.140 --> 00:13:35.460\nnormally from power sharing unless you\ngo out of your way to configure it.\n\n293\n00:13:35.460 --> 00:13:39.080\nIt's a security thing cuz we don't want\npeople connecting into you, remoting and\n\n294\n00:13:39.080 --> 00:13:42.100\nrunning scripts on your machine we\nblock that capability because it's\n\n295\n00:13:42.100 --> 00:13:44.020\na bad idea to do that, traditionally.\n\n296\n00:13:44.020 --> 00:13:47.290\nSo we have what's called the trusted host\nlist, so we can add a machine in assuming\n\n297\n00:13:47.290 --> 00:13:50.680\nthe nanoserver's ip address is, you know,\nwhatever, you could see it there.\n\n298\n00:13:50.680 --> 00:13:55.160\nWe'd set that up, specify the name,\nor rather the IP address.\n\n299\n00:13:55.160 --> 00:13:59.350\nAnd then we go ahead and\nwe make the remote PowerShell connection.\n\n300\n00:13:59.350 --> 00:14:02.030\nSo we specify here I\njust declared a variable,\n\n301\n00:14:02.030 --> 00:14:05.380\nset IP equal to the IP of the Nano Server.\n\n302\n00:14:05.380 --> 00:14:07.830\nSet user equal to, you know,\nwhatever the user is.\n\n303\n00:14:07.830 --> 00:14:10.030\nIn this case, the value of that machine.\n\n304\n00:14:10.030 --> 00:14:12.910\nThe IP and\nthe administrator locally on that machine,\n\n305\n00:14:12.910 --> 00:14:15.180\nthat's what this statement\ndoes right here.\n\n306\n00:14:15.180 --> 00:14:16.650\nAnd then enter PSSession,\n\n307\n00:14:16.650 --> 00:14:20.000\nthat's the standard command that\nwe use to set up a session.\n\n308\n00:14:20.000 --> 00:14:22.180\nSpecify computer name and credential.\n\n309\n00:14:22.180 --> 00:14:23.050\nAnd we'll provide that.\n\n310\n00:14:23.050 --> 00:14:25.610\nNow you will be prompted for\nthe password, right?\n\n311\n00:14:25.610 --> 00:14:29.780\nSo you'll log in, you'll get that, and\nthen to install the DNS Role, remember,\n\n312\n00:14:29.780 --> 00:14:34.480\nall we did was install the package\non the nano server with the other\n\n313\n00:14:34.480 --> 00:14:38.580\ncommand further up as we were\ncompiling the image to setup the VHD.\n\n314\n00:14:38.580 --> 00:14:43.000\nWe did not configure the DNS Server Role\nby installing it in Windows.\n\n315\n00:14:43.000 --> 00:14:46.380\nWe provided the package files that\nwill make it available to us, right?\n\n316\n00:14:46.380 --> 00:14:48.510\nI just wanna be\ndistinguishing about that and\n\n317\n00:14:48.510 --> 00:14:51.558\nmake sure you're clear that\nit's a two step process.\n\n318\n00:14:51.558 --> 00:14:54.690\nConfigure the VHD,\nprovide the binary files,\n\n319\n00:14:54.690 --> 00:14:58.020\nthe package files,\nthen actually use PowerShell here or\n\n320\n00:14:58.020 --> 00:15:01.790\nwhatever remote tool you're gonna use to\nconnect and install the configured DNS.\n\n321\n00:15:01.790 --> 00:15:04.840\nYou could hopefully by now understand\nthe logic of the PowerShell\n\n322\n00:15:04.840 --> 00:15:05.970\ncommand you're looking at.\n\n323\n00:15:05.970 --> 00:15:07.280\nEnables Windows feature.\n\n324\n00:15:07.280 --> 00:15:10.410\nLike feature name DNS Server for all.\n\n325\n00:15:10.410 --> 00:15:11.570\nAfter we set that up.\n\n326\n00:15:11.570 --> 00:15:14.740\nYou just go ahead and use your normal\nWindows PowerShell command lets.\n\n327\n00:15:14.740 --> 00:15:17.004\nWe've shown you what those are Server 16.\n\n328\n00:15:17.004 --> 00:15:19.250\nAnd you can go ahead and\nmanage the DNS Server.\n\n329\n00:15:19.250 --> 00:15:21.650\nOn the inner server the way\nit would manage and\n\n330\n00:15:21.650 --> 00:15:24.250\ninteract with it all\nthe other thought processes.\n\n331\n00:15:24.250 --> 00:15:26.250\nAll the other episodes\neverything we talked about.\n\n332\n00:15:26.250 --> 00:15:29.140\nEverything we've done and\nshown you up until now you can do the same\n\n333\n00:15:29.140 --> 00:15:31.020\nthing with the Powershell command\nwhich we set up on there.\n\n334\n00:15:31.020 --> 00:15:35.530\n&gt;&gt; That's pretty cool you have that\nall those additional of the same\n\n335\n00:15:35.530 --> 00:15:39.400\nfeature with are really slim down version\nso it's kind of like we are getting more\n\n336\n00:15:39.400 --> 00:15:40.800\n&gt;&gt; More for less here, or\n\n337\n00:15:40.800 --> 00:15:42.000\nthe same for less, I guess.\n\n338\n00:15:42.000 --> 00:15:45.570\n&gt;&gt; It's like a BOGO, it's like\nbuy one DNS server at full price,\n\n339\n00:15:45.570 --> 00:15:47.360\nget a nano one free of charge.\n\n340\n00:15:47.360 --> 00:15:48.060\nThere you go.\n\n341\n00:15:48.060 --> 00:15:49.250\n&gt;&gt; All right, well, it sounds great.\n\n342\n00:15:49.250 --> 00:15:52.670\nThank you for introducing us to this\nnew and exciting technology, Adam.\n\n343\n00:15:52.670 --> 00:15:54.180\nAnd thank you for joining us, as well.\n\n344\n00:15:54.180 --> 00:15:56.490\nBut for this show,\nwe are gonna go ahead and sign out.\n\n345\n00:15:56.490 --> 00:15:58.500\nRemember, I'm your host, Cherokee Boose.\n\n346\n00:15:58.500 --> 00:15:59.420\n&gt;&gt; I'm Adam Gordon.\n\n347\n00:15:59.420 --> 00:16:02.129\n&gt;&gt; See you next time here at ITPro.TV.\n\n348\n00:16:02.129 --> 00:16:08.087\n[MUSIC]\n\n349\n00:16:08.087 --> 00:16:10.045\n&gt;&gt; Thank you for watching ITPro.TV\n\n",
          "vimeoId": "217832584"
        }
      ],
      "title": "Implementing DNS"
    },
    {
      "episodes": [
        {
          "description": "In this show, Adam and Cherokee introduce IPAM while IPAM is not a new to server 2016 feature you can still benefit from many of it's features that provide centralized management. IPAM provides a framework for discovering, auditing, and managing the IP address space of your network. Adam covers the prerequisites and pre-installation considerations.",
          "length": "1500",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-5-1-1-implementing_managing_ipam-051117.00_24_46_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-5-1-1-implementing_managing_ipam-051117.00_24_46_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-5-1-1-implementing_managing_ipam-051117.00_24_46_11.Still001-sm.jpg",
          "title": "Implementing and Managing IPAM",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:02.501\nWelcome to IT Pro TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.501 --> 00:00:06.584\n[CROSSTALK]\n\n3\n00:00:06.584 --> 00:00:08.168\n[MUSIC]\n\n4\n00:00:08.168 --> 00:00:12.167\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:12.167 --> 00:00:15.793\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 Series.\n\n6\n00:00:15.793 --> 00:00:18.085\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.085 --> 00:00:22.084\nIn this episode, we'll be taking a look\nat implementing and managing IPAM.\n\n8\n00:00:22.084 --> 00:00:24.889\nBack in studios with us today we have,\nMr. Adam Gordon.\n\n9\n00:00:24.889 --> 00:00:25.709\nHow are you doing, Adam?\n\n10\n00:00:25.709 --> 00:00:28.169\n&gt;&gt; I'm doing good, I'm doing good,\nhopefully you are as well.\n\n11\n00:00:28.169 --> 00:00:32.793\nIPAM, IP Address Management\nas in what IPAM stands for.\n\n12\n00:00:32.793 --> 00:00:35.130\nIPAM is a great technology,\nit's been around for a while.\n\n13\n00:00:35.130 --> 00:00:38.584\nIt actually it not new to Server 2016,\nbut it is interesting.\n\n14\n00:00:38.584 --> 00:00:42.501\nIf you've ever seen our MCSE private\ncloud shows then you will remember this.\n\n15\n00:00:42.501 --> 00:00:45.270\nBecause you and\nI young lady actually did this together.\n\n16\n00:00:45.270 --> 00:00:48.247\nBut if you've seen our MCSE\nprivate cloud shows we,\n\n17\n00:00:48.247 --> 00:00:52.251\non one point in there where we're\ndealing with the 7247 content.\n\n18\n00:00:52.251 --> 00:00:56.268\nThe private cloud kinda part two focused\non System Center Virtual Machine Manager\n\n19\n00:00:56.268 --> 00:00:57.330\nin particular.\n\n20\n00:00:57.330 --> 00:00:58.360\nWe actually walked through and\n\n21\n00:00:58.360 --> 00:01:01.932\ndid an integration of IPAM with SCVMM and\nshowed you how to do that.\n\n22\n00:01:01.932 --> 00:01:05.740\nSo your IPAM is useful in a lot\nof different areas that provides\n\n23\n00:01:05.740 --> 00:01:09.850\noverall IP address across\nour Enterprise network,\n\n24\n00:01:09.850 --> 00:01:12.600\ngives us a console interface\nto be able to do that with.\n\n25\n00:01:12.600 --> 00:01:15.830\nOne of the big challenges\nwe have as IT professionals\n\n26\n00:01:15.830 --> 00:01:19.860\nis we have a lot of systems that are gonna\nbe providing address information.\n\n27\n00:01:19.860 --> 00:01:22.293\nEither aggregating it up,\nDHCP is a good example of that.\n\n28\n00:01:22.293 --> 00:01:25.810\nWe spent prior episodes talking\nabout DHCP and how that works.\n\n29\n00:01:25.810 --> 00:01:27.626\nDNS another great example of that,\n\n30\n00:01:27.626 --> 00:01:31.209\nwe spent a lot of time explaining\nhow DNS works and Server 16 to date.\n\n31\n00:01:31.209 --> 00:01:33.383\nAnd I encourage you to go back and\ntake a look at these episodes,\n\n32\n00:01:33.383 --> 00:01:34.334\nif you haven't seen them.\n\n33\n00:01:34.334 --> 00:01:38.060\nBut we got at least two major networking\nplatform systems that do that,\n\n34\n00:01:38.060 --> 00:01:41.120\nnot to mention the fact we\nconnect those two together.\n\n35\n00:01:41.120 --> 00:01:42.550\nThey often share information,\n\n36\n00:01:42.550 --> 00:01:45.970\nwe made through a wizard to the next\nto provide additional information.\n\n37\n00:01:45.970 --> 00:01:49.740\nWith regards to name resolution,\nour address management from the host\n\n38\n00:01:49.740 --> 00:01:52.040\nperspective in terms of\nNetBIOS friendly names.\n\n39\n00:01:52.040 --> 00:01:55.480\nAnd then we may have other\nconfiguration management platforms.\n\n40\n00:01:55.480 --> 00:01:57.120\nSystem Center Config Manager for\n\n41\n00:01:57.120 --> 00:02:01.680\ninstance, SCCM, SCCM DB,\nConfiguration Management Database product.\n\n42\n00:02:01.680 --> 00:02:07.240\nThings like HP OpenView, Tivoli, the Orion\nproduct from Solo Winds, whatever you use.\n\n43\n00:02:07.240 --> 00:02:11.729\nThere's all these different platforms\nout there any, and all of them are gonna\n\n44\n00:02:11.729 --> 00:02:15.347\nprovide the opportunity to do\naspects of network integration,\n\n45\n00:02:15.347 --> 00:02:19.020\nnetwork interrogation,\ndiscovery, finding resources.\n\n46\n00:02:19.020 --> 00:02:21.430\nBut it's hard to be able to go ahead and\n\n47\n00:02:21.430 --> 00:02:23.690\npull all this information\ntogether in one place.\n\n48\n00:02:23.690 --> 00:02:26.350\nAnd this is one of the things that\nIPAM does for us really well.\n\n49\n00:02:26.350 --> 00:02:29.895\nIt's gonna give us the ability to find\nout what's running, to go out and\n\n50\n00:02:29.895 --> 00:02:31.128\nquery, in other words.\n\n51\n00:02:31.128 --> 00:02:34.876\nAnd figure out what systems are available,\nwhat IP addresses are out there.\n\n52\n00:02:34.876 --> 00:02:39.521\nAnd then as a result, let us manage,\naudit, monitor, maintain, setup,\n\n53\n00:02:39.521 --> 00:02:44.765\ndiscover, you name it, all those things we\nwould do right around our address space.\n\n54\n00:02:44.765 --> 00:02:48.680\nBut not just on one machine, not just in\none subnet, not just in one domain, but\n\n55\n00:02:48.680 --> 00:02:51.084\nacross the entire address\nspace of our network.\n\n56\n00:02:51.084 --> 00:02:54.002\nThis is really the value\nof what IPAM provides.\n\n57\n00:02:54.002 --> 00:02:55.252\nPretty cool technology.\n\n58\n00:02:55.252 --> 00:02:57.619\nWe're gonna take a look at how to\nset it up, talk a bit about it,\n\n59\n00:02:57.619 --> 00:02:59.692\nhelp you to understand\na little bit more about it.\n\n60\n00:02:59.692 --> 00:03:02.461\nBut if you haven't used it before,\nand again it's been around for\n\n61\n00:03:02.461 --> 00:03:04.502\na little bit now,\nthis is not new to Server 16.\n\n62\n00:03:04.502 --> 00:03:08.676\nBut if you haven't investigated using it,\nit may actually be something that's gonna\n\n63\n00:03:08.676 --> 00:03:12.294\nprovide and add a lot of value to you,\nin terms of what you can do to scale up.\n\n64\n00:03:12.294 --> 00:03:14.931\nAnd really understand\nthe management of IP addressing and\n\n65\n00:03:14.931 --> 00:03:17.436\nthe address space across\nthe entire enterprise.\n\n66\n00:03:17.436 --> 00:03:19.709\nSharing with you just a real world\nthought process here for a minute.\n\n67\n00:03:19.709 --> 00:03:22.896\nYou, as an auditor going and\ndoing security work for customers.\n\n68\n00:03:22.896 --> 00:03:24.302\nSpending time in their networks,\n\n69\n00:03:24.302 --> 00:03:26.584\nhelping them to better\nunderstand their datacenters.\n\n70\n00:03:26.584 --> 00:03:30.329\nBuilding datacenters, doing all the stuff\nyou've heard that I do when I'm not here\n\n71\n00:03:30.329 --> 00:03:32.876\nhanging out with Cherokee\ntalking about stuff, right?\n\n72\n00:03:32.876 --> 00:03:34.885\n&gt;&gt; [LAUGH]\n&gt;&gt; But when I do all that kind of stuff or\n\n73\n00:03:34.885 --> 00:03:37.830\nwhen any of you, cuz a lot of you,\nI'm sure do this kind of stuff.\n\n74\n00:03:37.830 --> 00:03:40.900\nThis is not a unique set of\nskills in the IT industry\n\n75\n00:03:40.900 --> 00:03:42.580\nthat we all are a part of today.\n\n76\n00:03:42.580 --> 00:03:45.480\nMany of you I'm sure are doing\nthose things in real time.\n\n77\n00:03:45.480 --> 00:03:50.001\nWhen you do those kinds of jobs, you\nknow how valuable not only information.\n\n78\n00:03:50.001 --> 00:03:51.628\nBut accurate information,\n\n79\n00:03:51.628 --> 00:03:56.043\nwell documented information is to\nthe success of these kinds of activities.\n\n80\n00:03:56.043 --> 00:03:59.187\nAnd as an auditor in particular,\nI love when I can talk to customers and\n\n81\n00:03:59.187 --> 00:04:01.335\nwhen I'm going to engage\nin these activities.\n\n82\n00:04:01.335 --> 00:04:04.015\nAnd say to them hey,\nwhere is the documentation, right?\n\n83\n00:04:04.015 --> 00:04:04.955\nWhat do you have?\n\n84\n00:04:04.955 --> 00:04:07.074\nShow me what we're doing,\nlet's go and verify and\n\n85\n00:04:07.074 --> 00:04:09.459\nvalidate that this is\nlegitimately what's happening.\n\n86\n00:04:09.459 --> 00:04:13.903\nIf you could show me an IPAM console,\nwe can go out and we look at.\n\n87\n00:04:13.903 --> 00:04:16.575\nAnd we'll walk through this\nprocess in our discussions and\n\n88\n00:04:16.575 --> 00:04:19.043\nour demonstrations of not\nonly how it's configured.\n\n89\n00:04:19.043 --> 00:04:21.610\nBut then ultimately the output of that,\nyou can see the address,\n\n90\n00:04:21.610 --> 00:04:23.252\nwe can understand and see what's there.\n\n91\n00:04:23.252 --> 00:04:26.882\nIf you could show me this kind of\ninformation, this is where I can look at\n\n92\n00:04:26.882 --> 00:04:30.708\nit as an auditor and say, hey,\nthis company they have their act together.\n\n93\n00:04:30.708 --> 00:04:34.990\nThey've got valid information,\nthey've got a system that is scaled.\n\n94\n00:04:34.990 --> 00:04:37.545\nThat's enterprise-wide,\nthat's gonna be able to be architected, so\n\n95\n00:04:37.545 --> 00:04:38.376\nthat it's resilient.\n\n96\n00:04:38.376 --> 00:04:41.459\nAnd it's gonna be accurate, and\nthis is the kind of stuff we wanna see.\n\n97\n00:04:41.459 --> 00:04:44.307\nThis is the kind of stuff that helps us to\nunderstand that you are gonna be able to\n\n98\n00:04:44.307 --> 00:04:47.126\nprovide the right kind of information,\nthat you're doing the right thing.\n\n99\n00:04:47.126 --> 00:04:50.418\nSo it's gonna be very important,\nvery valuable for us to think about this.\n\n100\n00:04:50.418 --> 00:04:55.600\nIPAM is made up for distant modules\nthat provide the following functionally.\n\n101\n00:04:55.600 --> 00:04:59.400\nWe have IPAM discovery, that has\nthe ability to go out and to do discovery.\n\n102\n00:04:59.400 --> 00:05:02.816\nYou can imagine what that is gonna do,\nit's gonna leverage our ADDS, or\n\n103\n00:05:02.816 --> 00:05:05.459\nActive Directory Directory Service\ninfrastructure.\n\n104\n00:05:05.459 --> 00:05:07.369\nOne of the requirements for\nIPAM by the way,\n\n105\n00:05:07.369 --> 00:05:09.959\nthe machines that are gonna be\nhosting IPAM and running it.\n\n106\n00:05:09.959 --> 00:05:12.688\nThey have to be domain integrated,\nthey have to be members of the domain,\n\n107\n00:05:12.688 --> 00:05:13.709\nin order for us to install.\n\n108\n00:05:13.709 --> 00:05:16.210\nTake a look at the installation\nrequirements as we go.\n\n109\n00:05:16.210 --> 00:05:19.226\nBut we're gonna be running\nanything from Server 2008 and\n\n110\n00:05:19.226 --> 00:05:22.080\nnewer to be able to do this,\nso we're gonna set that up.\n\n111\n00:05:22.080 --> 00:05:25.460\nWe're gonna have the ability to then\nbe able to leverage that integration.\n\n112\n00:05:25.460 --> 00:05:29.633\nWe can add servers in and find servers\nmanually as part of the discovery, or\n\n113\n00:05:29.633 --> 00:05:31.630\nwe can query the Active Directory.\n\n114\n00:05:31.630 --> 00:05:35.011\nWe often will do both, and we'll be able\nto then get a list of the Active Directory\n\n115\n00:05:35.011 --> 00:05:36.574\nsystems that are registered in ADL.\n\n116\n00:05:36.574 --> 00:05:40.168\nAll the computer accounts,\nthat are gonna provide that information.\n\n117\n00:05:40.168 --> 00:05:43.411\nMeaning anything on 2008\nforward that's registered as\n\n118\n00:05:43.411 --> 00:05:46.120\na computer can be found in IPAM and\ncan be seen.\n\n119\n00:05:46.120 --> 00:05:48.560\nBut what if we have other systems\nthat we wanna add in manually,\n\n120\n00:05:48.560 --> 00:05:50.310\nwe have the option to do that as well.\n\n121\n00:05:50.310 --> 00:05:53.918\nIP address base management,\nthis is another module or functional area.\n\n122\n00:05:53.918 --> 00:05:58.070\nWe do viewing, monitoring,\nmanaging of all the IP address bases.\n\n123\n00:05:58.070 --> 00:06:02.100\nWe can dynamically issue or statically\nassign addresses using this functionality.\n\n124\n00:06:02.100 --> 00:06:05.084\nSo we have the capability to be able\nto understand what's out there.\n\n125\n00:06:05.084 --> 00:06:08.794\nBut also to interact with and\nactually manage the IP infrastructure.\n\n126\n00:06:08.794 --> 00:06:11.926\nAnd we've talked about the value\nof how IPv4 is setup and\n\n127\n00:06:11.926 --> 00:06:16.970\nhow it works in prior episodes, IPv6, how\nit's setup and works in prior episodes.\n\n128\n00:06:16.970 --> 00:06:19.209\nAnd as I mentioned,\nwe've been through DHCP and DNS.\n\n129\n00:06:19.209 --> 00:06:20.584\nWe've talked about all of\nthe building blocks, right?\n\n130\n00:06:20.584 --> 00:06:23.230\nAll the different requirements that\nwe would need to understand here.\n\n131\n00:06:23.230 --> 00:06:27.580\nWe could track utilization, and\nalso detect overlapping DHCP scope.\n\n132\n00:06:27.580 --> 00:06:30.890\nSo we can tell that there may\nbe some conflicts in DHCP.\n\n133\n00:06:30.890 --> 00:06:32.380\nAnd figure out what's going on there,\n\n134\n00:06:32.380 --> 00:06:35.380\nwith IP address space management\nthrough IPAM which is nice.\n\n135\n00:06:35.380 --> 00:06:37.130\nWe have multiserver management and\nmonitoring,\n\n136\n00:06:37.130 --> 00:06:38.760\nthat's a functional element as well.\n\n137\n00:06:38.760 --> 00:06:42.150\nManage multiple DHCP servers,\nunderstanding what's happening there.\n\n138\n00:06:42.150 --> 00:06:45.808\nRemember IPAM is really all about\nunderstanding the DHCP architecture and\n\n139\n00:06:45.808 --> 00:06:47.501\ninfrastructure and DNS, right?\n\n140\n00:06:47.501 --> 00:06:51.132\nBecause were gonna wanna understand\nwhat's going on with all the IP address\n\n141\n00:06:51.132 --> 00:06:54.490\nmanagement and all the information\naggregated all up in one place.\n\n142\n00:06:54.490 --> 00:06:56.622\nAnd so we can manage all those systems,\n\n143\n00:06:56.622 --> 00:06:59.890\nwouldn't it be nice if we had\na heads up or all up console?\n\n144\n00:06:59.890 --> 00:07:01.770\nWhere we see all our DHCP servers,\n\n145\n00:07:01.770 --> 00:07:03.790\ninstead of having to go to\neach one as we've been doing.\n\n146\n00:07:03.790 --> 00:07:05.770\nWell, IPAM can provide that for us, right?\n\n147\n00:07:05.770 --> 00:07:07.167\nAs well as multiple DNS servers.\n\n148\n00:07:07.167 --> 00:07:09.897\nRemember, we have the ability to be\nable to manage and work with both and\n\n149\n00:07:09.897 --> 00:07:11.001\nwe were talking about that.\n\n150\n00:07:11.001 --> 00:07:13.126\nWe can check the health status of DNS.\n\n151\n00:07:13.126 --> 00:07:16.835\nWe can look at authoritative DNS servers\nagainst the zones they're managing.\n\n152\n00:07:16.835 --> 00:07:18.001\nAll the different stuff\nthat we'd wanna do.\n\n153\n00:07:18.001 --> 00:07:19.000\n&gt;&gt; All in one place saving us time.\n\n154\n00:07:19.000 --> 00:07:19.584\n&gt;&gt; All in one place.\n\n155\n00:07:19.584 --> 00:07:21.500\n&gt;&gt; It sounds like a great idea to me.\n\n156\n00:07:21.500 --> 00:07:23.376\n&gt;&gt; It's awesome, you should-\n&gt;&gt; [LAUGH]\n\n157\n00:07:23.376 --> 00:07:24.015\n&gt;&gt; Market that and\n\n158\n00:07:24.015 --> 00:07:26.334\nthink about the fact that\nthat's really cool, right?\n\n159\n00:07:26.334 --> 00:07:29.627\nOperational auditing and\nIPS tracking, the fourth module or\n\n160\n00:07:29.627 --> 00:07:32.000\narea functionality we provided with IPAM.\n\n161\n00:07:32.000 --> 00:07:35.459\nWe can track configuration problems,\nunderstand when there are issues.\n\n162\n00:07:35.459 --> 00:07:39.626\nHey, I wanna set the scope up and\nI wanna have some crazy number of address.\n\n163\n00:07:39.626 --> 00:07:43.297\nOr some sort of multiple subnet scope,\nand we didn't set up super scopes or\n\n164\n00:07:43.297 --> 00:07:44.440\nthings to do that.\n\n165\n00:07:44.440 --> 00:07:47.627\nWhatever we may need to do that would be\nspecified and the right way of doing it.\n\n166\n00:07:47.627 --> 00:07:50.524\nWe can then go ahead and\nwe would get information about that, and\n\n167\n00:07:50.524 --> 00:07:52.690\nknow that that may or may not be an issue.\n\n168\n00:07:52.690 --> 00:07:54.256\nSo when we go in and we take a look, and\n\n169\n00:07:54.256 --> 00:07:56.293\nwe're gonna do that in\njust half a second here.\n\n170\n00:07:56.293 --> 00:07:57.337\nOkay, or we'll do it now, right?\n\n171\n00:07:57.337 --> 00:08:00.031\n[LAUGH] I was just extending\nthe environment time before we\n\n172\n00:08:00.031 --> 00:08:00.879\nbrought that up.\n\n173\n00:08:00.879 --> 00:08:04.541\nThis is what it looks like, before we\ngo in there, Let's just go over here,\n\n174\n00:08:04.541 --> 00:08:05.587\nWhat's New in IPAM.\n\n175\n00:08:05.587 --> 00:08:06.422\nSo as always,\n\n176\n00:08:06.422 --> 00:08:11.780\nI try to present you some new information\nfrom the Microsoft documentation vault.\n\n177\n00:08:11.780 --> 00:08:13.800\nBring it out for you,\nshow you where to go.\n\n178\n00:08:13.800 --> 00:08:16.881\nGive you an opportunity to go look some\nstuff up on the web if you want to.\n\n179\n00:08:16.881 --> 00:08:19.606\nYou'll see it applies to\nWindows Server 2016, right?\n\n180\n00:08:19.606 --> 00:08:21.680\nCreated in the beginning of 2017 there.\n\n181\n00:08:21.680 --> 00:08:24.727\nI love the fact, right, this is one of\nthose things that I've noticed recently,\n\n182\n00:08:24.727 --> 00:08:26.460\na lot of the new\ndocumentation on the website.\n\n183\n00:08:26.460 --> 00:08:28.029\nSo they give you all of this,\nbut then it says, hey,\n\n184\n00:08:28.029 --> 00:08:29.048\nhow long will it take you to read?\n\n185\n00:08:29.048 --> 00:08:31.613\n&gt;&gt; [LAUGH]\n&gt;&gt; Five minutes to read, like all right,\n\n186\n00:08:31.613 --> 00:08:33.830\ndo you have a stopwatch, are you timing?\n\n187\n00:08:33.830 --> 00:08:35.687\nLet's go, I'm gonna scroll through here.\n\n188\n00:08:35.687 --> 00:08:36.950\nYou got to read this in\nless than five minutes.\n\n189\n00:08:36.950 --> 00:08:38.220\n&gt;&gt; Based on whose reading skills?\n\n190\n00:08:38.220 --> 00:08:40.380\n&gt;&gt; Well, that's what I'm thinking,\nit's like, how do they come up with that?\n\n191\n00:08:40.380 --> 00:08:41.570\nWhere does that come from?\n\n192\n00:08:41.570 --> 00:08:43.059\nLike an average human will\nread that in five minutes?\n\n193\n00:08:43.059 --> 00:08:43.883\n&gt;&gt; Probably, yeah.\n\n194\n00:08:43.883 --> 00:08:45.492\n&gt;&gt; Like somebody who\nknows about [CROSSTALK]\n\n195\n00:08:45.492 --> 00:08:47.075\n&gt;&gt; All the contributors to the right of\n\n196\n00:08:47.075 --> 00:08:49.568\nthat decided that's how much\ntime it would, perhaps.\n\n197\n00:08:49.568 --> 00:08:51.750\n&gt;&gt; It took them that long to figure out\nthat that's how long it would take.\n\n198\n00:08:51.750 --> 00:08:55.545\nBut just, so you can see here,\nand remember as I told you,\n\n199\n00:08:55.545 --> 00:08:57.418\nIPAM is not new to 2016.\n\n200\n00:08:57.418 --> 00:09:01.524\nSo you'll see, IPAM function that\nis new or changed in Server 2016.\n\n201\n00:09:01.524 --> 00:09:03.400\nMeaning, hey, its been around for a while.\n\n202\n00:09:03.400 --> 00:09:06.060\nThere are some updates as you could\nsee right down there at the bottom,\n\n203\n00:09:06.060 --> 00:09:08.730\nthat will update functionality\nfrom prior versions.\n\n204\n00:09:08.730 --> 00:09:10.990\nThere may be some new things\nthat we haven't done before.\n\n205\n00:09:10.990 --> 00:09:13.050\nSo it is something you\nwanna take a look at.\n\n206\n00:09:13.050 --> 00:09:15.820\nYou can see here,\nenhanced IP address management.\n\n207\n00:09:15.820 --> 00:09:16.950\nEnhanced management of DNS.\n\n208\n00:09:16.950 --> 00:09:18.710\nWe've been speaking about\nsome of those things.\n\n209\n00:09:18.710 --> 00:09:21.910\nDHCP and DNS address management,\ntalked about that.\n\n210\n00:09:21.910 --> 00:09:25.110\nSo DNS service management that's\nbeen enhanced is brand new.\n\n211\n00:09:25.110 --> 00:09:29.400\nWe've improved IP and\nintegration of the DHCP and DNS overall.\n\n212\n00:09:29.400 --> 00:09:32.795\nMultiple Active Directory forest support,\nthat is a cool one, and that is brand new.\n\n213\n00:09:32.795 --> 00:09:36.100\nUp until now, IPAM has been\nlimited to the forest you're in.\n\n214\n00:09:36.100 --> 00:09:38.780\nAnd we've talked about this in\nprior conversations little bit.\n\n215\n00:09:38.780 --> 00:09:41.770\nThis idea of maybe merger and\nacquisition going on.\n\n216\n00:09:41.770 --> 00:09:46.000\nYour having multiple forests that we may\nhave to manage in the advent of cloud\n\n217\n00:09:46.000 --> 00:09:47.530\ninfrastructure, right?\n\n218\n00:09:47.530 --> 00:09:52.392\nThings like running systems in a\nmulti-tenant private cloud environment as\n\n219\n00:09:52.392 --> 00:09:53.222\na provider.\n\n220\n00:09:53.222 --> 00:09:57.310\nWhere we may have different forests that\nwe have to manage across and through.\n\n221\n00:09:57.310 --> 00:10:01.202\nThis now becomes really critical, and\nwe now actually have that support,\n\n222\n00:10:01.202 --> 00:10:02.210\nwhich is nice.\n\n223\n00:10:02.210 --> 00:10:05.050\nWe can manage DNS and\nDHCP servers across multiple forests,\n\n224\n00:10:05.050 --> 00:10:07.400\nas long as we have two-way\ntrust relationships.\n\n225\n00:10:07.400 --> 00:10:10.220\nSomething that Cherokee has reminded\nus about from time to time.\n\n226\n00:10:10.220 --> 00:10:12.934\nWe've talked about forest, and\nyou've asked about trust relationships.\n\n227\n00:10:12.934 --> 00:10:15.340\nAnd reminded us that we need to have that,\nright?\n\n228\n00:10:15.340 --> 00:10:17.700\nPurge utilization data,\nwe can actually go in and\n\n229\n00:10:17.700 --> 00:10:20.690\nreduce the size of the IPM\ndatabase by cutting it down.\n\n230\n00:10:20.690 --> 00:10:22.835\nWhich we've had issues\nwith in prior versions.\n\n231\n00:10:22.835 --> 00:10:24.970\nKinda just aggregates everything and\nstays in there.\n\n232\n00:10:24.970 --> 00:10:26.920\nNow we can actually clean it out.\n\n233\n00:10:26.920 --> 00:10:30.199\nAnd we do have PowerShell support cuz\nwhat would we be without PowerShell\n\n234\n00:10:30.199 --> 00:10:31.230\nsupport, right?\n\n235\n00:10:31.230 --> 00:10:35.500\nFor role-based access control,\nwe can actually now delegate out roles and\n\n236\n00:10:35.500 --> 00:10:37.080\nconfigure them with PowerShell.\n\n237\n00:10:37.080 --> 00:10:39.949\nAnd we do have a set of\nroles you can see here.\n\n238\n00:10:39.949 --> 00:10:42.680\nRole-based security, can we go full\nscreen just so that you can see this?\n\n239\n00:10:42.680 --> 00:10:45.430\nWe do have role-based security\nthat you can see here.\n\n240\n00:10:45.430 --> 00:10:48.920\nI've just put a little document together,\na little chart here with all\n\n241\n00:10:48.920 --> 00:10:54.360\nthe different, as you can see, roles that\nwill exist or user file processes that\n\n242\n00:10:54.360 --> 00:10:58.320\nwe have that are showing what the IPAM\ninfrastructure security groups will be.\n\n243\n00:10:58.320 --> 00:10:59.830\nSo we can use these and\n\n244\n00:10:59.830 --> 00:11:04.140\ndelegate authority based on things\nlike IPAM DNS Administrator.\n\n245\n00:11:04.140 --> 00:11:09.072\nIPAM ASM, MSM Administrator,\ndifferent areas for the modules,\n\n246\n00:11:09.072 --> 00:11:11.018\nright, module address.\n\n247\n00:11:11.018 --> 00:11:15.240\nRecord Administrator,\noverall Administrator, right?\n\n248\n00:11:15.240 --> 00:11:18.630\nJust all these different ones,\nReservation Administrator for DHCP.\n\n249\n00:11:18.630 --> 00:11:21.368\nScope administrator,\nDNS record administrator.\n\n250\n00:11:21.368 --> 00:11:23.341\nWe're breaking down the logic here and\n\n251\n00:11:23.341 --> 00:11:26.160\nwe're able to subdivide\nthe functions in these tools.\n\n252\n00:11:26.160 --> 00:11:27.840\nAnd say through the console, hey,\n\n253\n00:11:27.840 --> 00:11:32.910\nI'm just gonna give maybe Joe the right\nto be the DHCP Scope Administrator.\n\n254\n00:11:32.910 --> 00:11:36.440\nAnd then I'm gonna let David be\nthe DNS Record Administrator.\n\n255\n00:11:36.440 --> 00:11:38.848\nAnd Cherokee, you're gonna be\nthe Overall Administrator for that, right?\n\n256\n00:11:38.848 --> 00:11:40.068\n&gt;&gt; That's what I'm talking about.\n\n257\n00:11:40.068 --> 00:11:41.053\n[LAUGH]\n&gt;&gt; So\n\n258\n00:11:41.053 --> 00:11:43.558\nwe're gonna give you the rights to\ntake care of everything else, right?\n\n259\n00:11:43.558 --> 00:11:47.740\nAnd so could see that actually can be\nvery specific with our subdivisioning\n\n260\n00:11:47.740 --> 00:11:50.170\nof our delegation thought process here,\nright?\n\n261\n00:11:50.170 --> 00:11:53.250\nSo we have this capability in here,\nwhich is really kinda nice.\n\n262\n00:11:53.250 --> 00:11:55.210\nAnd so\nwe can do that through PowerShell now,\n\n263\n00:11:55.210 --> 00:11:56.970\nas well as doing it from\nwithin the console.\n\n264\n00:11:56.970 --> 00:11:58.060\nSo that's also very nice.\n\n265\n00:11:58.060 --> 00:12:02.580\nSo they just go into some detail here\nabout enhanced IP address management.\n\n266\n00:12:02.580 --> 00:12:08.580\nWe do support multiple subnets now or\nnewer, updated extended functionality.\n\n267\n00:12:08.580 --> 00:12:10.160\nSo it's nice cuz we can just go through.\n\n268\n00:12:10.160 --> 00:12:14.613\nAnd they talk about some of the PowerShell\ncommandlets here like add IP, IPAM subnet,\n\n269\n00:12:14.613 --> 00:12:16.300\nand things of that nature.\n\n270\n00:12:16.300 --> 00:12:19.240\nAnd Find-IpamFreeSubnet and\nall that kinda stuff.\n\n271\n00:12:19.240 --> 00:12:20.550\nSo you would want to take a look.\n\n272\n00:12:20.550 --> 00:12:24.438\nThis website's gonna help you to at least\nunderstand a little bit more about what's\n\n273\n00:12:24.438 --> 00:12:27.740\nhappening, what's going on,\nhow we can leverage this information.\n\n274\n00:12:27.740 --> 00:12:31.008\nThe deployment requirements, I mentioned\nthat these will be important for\n\n275\n00:12:31.008 --> 00:12:31.880\nus to take a look at.\n\n276\n00:12:31.880 --> 00:12:35.953\nLet me just throw these up on\nscreen real quick here for you.\n\n277\n00:12:35.953 --> 00:12:38.625\nSo deployment requirements are right here,\nyou can see.\n\n278\n00:12:38.625 --> 00:12:42.320\nWe do need to have the IPM server be\na domain member, I mentioned that.\n\n279\n00:12:42.320 --> 00:12:43.870\nBut it cannot be domain controller, right?\n\n280\n00:12:43.870 --> 00:12:46.315\nSo it must be a member of the domain,\nas I suggested, but\n\n281\n00:12:46.315 --> 00:12:47.990\nnot deployed on a domain controller.\n\n282\n00:12:47.990 --> 00:12:51.732\nIt usually is recommended that you\ndeploy this is a single purpose server.\n\n283\n00:12:51.732 --> 00:12:54.450\nMeaning, hey,\nwe're gonna run IPAM on this thing.\n\n284\n00:12:54.450 --> 00:12:57.320\nWe're not gonna be doing\na bunch of others stuff, right?\n\n285\n00:12:57.320 --> 00:13:00.889\nBecause we are installing a database,\nwe are creating a lot of traffic.\n\n286\n00:13:00.889 --> 00:13:03.250\nWe're gonna have a lot of traffic\ncoming in and out, a lot of usage.\n\n287\n00:13:03.250 --> 00:13:06.380\nAnd we wanna make sure we dedicate a box\nthat's gonna run this role properly.\n\n288\n00:13:06.380 --> 00:13:09.480\nSo single purpose servers is\nwhat we often refer to that as.\n\n289\n00:13:09.480 --> 00:13:10.850\nThings like, for instance if I said,\n\n290\n00:13:10.850 --> 00:13:13.740\nif IPAM installs on a DHCP server,\nyou'll have an issue here.\n\n291\n00:13:13.740 --> 00:13:17.600\nBecause IPAM's not gonna be able to\ndetect other DHCP servers on the network\n\n292\n00:13:17.600 --> 00:13:19.320\nif we're running DHCP locally.\n\n293\n00:13:19.320 --> 00:13:22.820\nWe're essentially gonna manage the local\ninstance of DHCP and nothing else.\n\n294\n00:13:22.820 --> 00:13:26.190\nBlinding us to one of the most\nimportant elements that IPAM provides.\n\n295\n00:13:26.190 --> 00:13:29.640\nWhich is, hey, let me go out and\nfind all the other DHCP servers.\n\n296\n00:13:29.640 --> 00:13:31.340\nSo that would be important to know.\n\n297\n00:13:31.340 --> 00:13:34.190\nOtherwise, you gotta go and\nback that out and start over again.\n\n298\n00:13:34.190 --> 00:13:38.420\nSo we have to enable IPv6 support, it is\nbuilt in, but we do have to enable it.\n\n299\n00:13:38.420 --> 00:13:40.308\nWe don't come out of the box ready to go.\n\n300\n00:13:40.308 --> 00:13:42.049\nSo just wanna make sure you know that.\n\n301\n00:13:42.049 --> 00:13:44.654\nSign in with a domain account,\nnot a local admin account.\n\n302\n00:13:44.654 --> 00:13:46.613\nJust remember, we're domain joined, right?\n\n303\n00:13:46.613 --> 00:13:48.104\nSo we need to know that.\n\n304\n00:13:48.104 --> 00:13:52.814\nAnd we have to set up and enable logging\nof account sign-ins on domain controllers\n\n305\n00:13:52.814 --> 00:13:57.112\nor network policy servers when we wanna\nbe able to do IP address tracking and\n\n306\n00:13:57.112 --> 00:13:58.080\nauditing.\n\n307\n00:13:58.080 --> 00:14:00.340\nI mentioned one of the key\nvalue propositions, right?\n\n308\n00:14:00.340 --> 00:14:03.346\nFor me as an auditor, for\nme as a security-focused individual,\n\n309\n00:14:03.346 --> 00:14:06.410\nit's this idea that I can look at\nIP address tracking and auditing.\n\n310\n00:14:06.410 --> 00:14:08.660\nAnd get reports on that\nin your environment.\n\n311\n00:14:08.660 --> 00:14:12.870\nFor you to set that up, logging of\naccount sign-ins must be enabled.\n\n312\n00:14:12.870 --> 00:14:14.710\nSo you just wanna know\nsome of these things.\n\n313\n00:14:14.710 --> 00:14:17.550\nThese are little bells and\nwhistles that you wanna be aware of.\n\n314\n00:14:17.550 --> 00:14:20.300\nWe can obviously,\nas you can see here, specify.\n\n315\n00:14:20.300 --> 00:14:23.420\nAnd we do have some requirements here.\n\n316\n00:14:23.420 --> 00:14:27.020\nWe do need a 2.0 gig or\nfaster dual-core processor, pretty basic.\n\n317\n00:14:27.020 --> 00:14:30.688\nServer 12 or later, I mentioned,\nthis feature's been around for a while.\n\n318\n00:14:30.688 --> 00:14:33.127\n4 or more gigs of RAM, not a lot.\n\n319\n00:14:33.127 --> 00:14:36.530\n80 gigs of hard drive space, so\nit's really straightforward, right?\n\n320\n00:14:36.530 --> 00:14:38.490\nNot a very complicated install.\n\n321\n00:14:38.490 --> 00:14:43.100\nAnd certainly not one that's\ngoing to be very heavy-handed.\n\n322\n00:14:43.100 --> 00:14:46.048\nIn the sense that we need tremendous\namounts of resources to run this\n\n323\n00:14:46.048 --> 00:14:46.780\nthing, right?\n\n324\n00:14:46.780 --> 00:14:51.850\nI mean, we could be running this as a\nvirtualized role on a VM somewhere, right?\n\n325\n00:14:51.850 --> 00:14:53.100\nAnd that would not be a big deal.\n\n326\n00:14:53.100 --> 00:14:58.010\nI mean, spinning up a VM with 4 gigs\nof memory And a couple of processors.\n\n327\n00:14:58.010 --> 00:15:00.280\nThat's really not very complicated\ntoday in a hosting environment, right?\n\n328\n00:15:00.280 --> 00:15:04.150\nThat really wouldn't take a lot of concern\nor require a lot of resources at all.\n\n329\n00:15:04.150 --> 00:15:06.740\nSo just wanna be thinking about that,\njust be aware of that.\n\n330\n00:15:06.740 --> 00:15:11.630\nSo we could set that up, pretty easy\nto do, and then you take a look here.\n\n331\n00:15:11.630 --> 00:15:14.550\nWhen we do install the role,\nI've already got it setup and installed.\n\n332\n00:15:14.550 --> 00:15:17.190\nI just used PowerShell\nto instantiate the role.\n\n333\n00:15:17.190 --> 00:15:19.700\nWe're gonna go through in\nan upcoming episode a walkthrough\n\n334\n00:15:19.700 --> 00:15:21.650\nof how to configure this top to bottom.\n\n335\n00:15:21.650 --> 00:15:24.000\nBut I'm on the server\nwhere IPAM is running.\n\n336\n00:15:24.000 --> 00:15:30.130\nI've just gone ahead and just simply\nclicked right here on my IPAM item.\n\n337\n00:15:30.130 --> 00:15:34.810\nAnd gone on in and opened up my IPAM\nserver task little console view here.\n\n338\n00:15:34.810 --> 00:15:37.630\nNow this is kind of interesting\nif you haven't seen IPAM before.\n\n339\n00:15:37.630 --> 00:15:40.820\nNormally we say, hey, you installed that,\nlet's just go and go the tools.\n\n340\n00:15:40.820 --> 00:15:42.940\nAnd then we'll pull that down and\ngo take a look.\n\n341\n00:15:42.940 --> 00:15:45.080\nAnd you'll go and take a look here.\n\n342\n00:15:45.080 --> 00:15:47.760\nJust go down to the bottom and\nback up to the top.\n\n343\n00:15:47.760 --> 00:15:51.970\nAnd as I'm doing that, you'll see\nthat IPAM is not installed here,\n\n344\n00:15:51.970 --> 00:15:55.810\nright, as a tool, but rather it's\nrun from the console right here.\n\n345\n00:15:55.810 --> 00:15:58.004\nSo if you're going looking for it,\nit's like, hey, let me click on that.\n\n346\n00:15:58.004 --> 00:15:59.755\nLet me go find that, open that up.\n\n347\n00:15:59.755 --> 00:16:02.088\nIt's not a separate tool like DNS or DHCP.\n\n348\n00:16:02.088 --> 00:16:04.337\nIt's an aggregated management console.\n\n349\n00:16:04.337 --> 00:16:06.711\nThat exists inside of the server manager.\n\n350\n00:16:06.711 --> 00:16:09.362\n&gt;&gt; And you can see at the top there,\nthat headline,\n\n351\n00:16:09.362 --> 00:16:12.680\nI guess that should it call that banner,\nso to speak, IPAM.\n\n352\n00:16:12.680 --> 00:16:15.686\n&gt;&gt; You can, you can certainly see it\nthere, but just pointing out if you go\n\n353\n00:16:15.686 --> 00:16:18.085\nlooking for this thing you\nwould be looking a long time.\n\n354\n00:16:18.085 --> 00:16:21.430\nIt' not going to be there,\nit is not showing up any time soon.\n\n355\n00:16:21.430 --> 00:16:23.974\nYou don't want to get caught clicking,\nwhere is that thing and\n\n356\n00:16:23.974 --> 00:16:25.033\nI don't know where it is.\n\n357\n00:16:25.033 --> 00:16:27.841\nSo you just wanna know how to find\nthis is what I will suggest to you.\n\n358\n00:16:27.841 --> 00:16:31.150\nNow, we will step through these\nsteps in an upcoming demonstration.\n\n359\n00:16:31.150 --> 00:16:32.890\nWe're not gonna spend\ntime on it right now.\n\n360\n00:16:32.890 --> 00:16:36.820\nBut I do wanna show you just quickly\nhow we start the process here.\n\n361\n00:16:36.820 --> 00:16:38.970\nSo you set this up,\nyou install IPAM, right?\n\n362\n00:16:38.970 --> 00:16:42.670\nSo we've installed it,\nlet me just show you what I did here,\n\n363\n00:16:42.670 --> 00:16:44.840\nnot very difficult to do.\n\n364\n00:16:44.840 --> 00:16:47.250\nAs always, let's move that over so\nwe can see that.\n\n365\n00:16:47.250 --> 00:16:50.430\nUse PowerShell here,\nyou can see add Windows feature.\n\n366\n00:16:50.430 --> 00:16:52.980\nName of the feature IPAM,\ninclude management tools and\n\n367\n00:16:52.980 --> 00:16:54.688\nI'll kinda cut that off so\nI moved it over.\n\n368\n00:16:54.688 --> 00:16:56.530\nInclude all sub-features.\n\n369\n00:16:56.530 --> 00:16:58.500\nI've talked about the need to specify,\n\n370\n00:16:58.500 --> 00:17:01.840\nsometimes you wanna use the management\ntools and include all sub-features.\n\n371\n00:17:01.840 --> 00:17:03.810\nParameters that we want we can get\neverything when we do the install.\n\n372\n00:17:03.810 --> 00:17:08.130\nSo we did that, and then takes a couple\nof minutes to go ahead and configure,\n\n373\n00:17:08.130 --> 00:17:09.020\ncomes back hopefully.\n\n374\n00:17:09.020 --> 00:17:11.090\nIf you do it everything is running,\nsuccess true,\n\n375\n00:17:11.090 --> 00:17:14.060\nrestart not required,\nsuccess, got all that set up.\n\n376\n00:17:14.060 --> 00:17:18.540\nSo we did all that and all I did was just\ngo into the console refreshed, we've\n\n377\n00:17:18.540 --> 00:17:21.740\ntalked about the need to refresh if you\nhave server manager up, but we did that.\n\n378\n00:17:21.740 --> 00:17:26.320\nIPAM pops in, very easy, go click on\nit and there our IPAM server task.\n\n379\n00:17:26.320 --> 00:17:28.770\nIt's nice we have this\nlittle six step process and\n\n380\n00:17:28.770 --> 00:17:31.005\nwe will be walking through these\nin our upcoming demonstration.\n\n381\n00:17:31.005 --> 00:17:34.662\nHey, we're going to step two now, let's\ngo provision the IPAM server, we will be\n\n382\n00:17:34.662 --> 00:17:38.235\nwalking through some of that, but you\nstart with connecting to the IPAM server.\n\n383\n00:17:38.235 --> 00:17:41.588\nWe installed on this machine, IPAM is\nrun here so it is already connected,\n\n384\n00:17:41.588 --> 00:17:45.264\nit comes up ready to go, and you can see\nthat, you can probably see it right there,\n\n385\n00:17:45.264 --> 00:17:47.876\nit's in grey but\nit's underneath it says connected to and\n\n386\n00:17:47.876 --> 00:17:50.790\nit specifies the name of the machine\nthat we're on right there.\n\n387\n00:17:50.790 --> 00:17:54.626\nAnd you could see connected as, tells us\nwho we are connected as and in this case\n\n388\n00:17:54.626 --> 00:17:58.172\nyou are the domain administrator stress\nthe importance of logging in and\n\n389\n00:17:58.172 --> 00:18:01.951\nensuring we're on a domain member and\nthat we are using a domain account, but\n\n390\n00:18:01.951 --> 00:18:05.847\nthat we are not connecting from a machine\nthat would be a domain controller cuz we\n\n391\n00:18:05.847 --> 00:18:07.930\ncan't install IPAM domain controller.\n\n392\n00:18:07.930 --> 00:18:10.510\nSo just wanna make sure we are aware\nof all the things we talked about,\n\n393\n00:18:10.510 --> 00:18:14.230\nif you had to for some reason we\npath these two on IPAM sever or\n\n394\n00:18:14.230 --> 00:18:19.150\npath to another one no big deal, you'll\nsee here we do have the ability to be able\n\n395\n00:18:19.150 --> 00:18:22.330\nto tell where we are and what we're\nmanaging so we could select more than one\n\n396\n00:18:22.330 --> 00:18:25.490\nserver if there is another IPAM server\nhere that maybe we wanted to manage.\n\n397\n00:18:25.490 --> 00:18:26.130\nRemotely meeting,\n\n398\n00:18:26.130 --> 00:18:29.840\nyou know we had IPAM installed in multiple\nservers, we'd be able to see those here.\n\n399\n00:18:29.840 --> 00:18:33.860\nSo we could see that, and then once\nwe're done we would actually come in and\n\n400\n00:18:33.860 --> 00:18:35.150\nprovision the IPAM server.\n\n401\n00:18:35.150 --> 00:18:38.430\nNow, before we deploy IPAM, things I\nalready told you about, just to remind\n\n402\n00:18:38.430 --> 00:18:42.940\nyou of this, we can, remember, have two\nway trust relationships between FARS.\n\n403\n00:18:42.940 --> 00:18:44.408\nWe talked about the support there.\n\n404\n00:18:44.408 --> 00:18:48.520\nWe do have to make sure and understand\nthat every IPAM server that we install is\n\n405\n00:18:48.520 --> 00:18:51.383\nnot gonna communicate with\nanother one in the sense.\n\n406\n00:18:51.383 --> 00:18:55.118\nAnd we're gonna be able to go in an say,\nlook, there's five IPAM servers and\n\n407\n00:18:55.118 --> 00:18:59.082\nlet's all talk and share our database\ninformation, of a common database where we\n\n408\n00:18:59.082 --> 00:19:03.580\nrecord all information, like an external\nSQL database, that everybody references.\n\n409\n00:19:03.580 --> 00:19:08.160\nEach IPAM server is going to have its\nown database, and it's gonna use its own\n\n410\n00:19:08.160 --> 00:19:13.240\ndatabase locally to be able to manage its\nown information that it's aggregating.\n\n411\n00:19:13.240 --> 00:19:17.590\nSo as a result, keep in mind that\neverything is essentially local and\n\n412\n00:19:17.590 --> 00:19:20.460\nthat we're knowledgeable about\nwhat's on our machine, right?\n\n413\n00:19:20.460 --> 00:19:23.525\nWe're not gonna see a common\ndatabase that we could scale out and\n\n414\n00:19:23.525 --> 00:19:26.435\nuse like in a clustered environment or\nsomething like that.\n\n415\n00:19:26.435 --> 00:19:29.779\nDoesn't work that way, and so as a result\nwe're really knowledgeable about what\n\n416\n00:19:29.779 --> 00:19:31.530\nwe own, and what we're aware of locally.\n\n417\n00:19:31.530 --> 00:19:36.170\nBut we're not gonna share that\nknowledge across other instances.\n\n418\n00:19:36.170 --> 00:19:37.860\nI just wanna make sure\nwe're aware of that.\n\n419\n00:19:37.860 --> 00:19:39.340\nNow, what can we support?\n\n420\n00:19:39.340 --> 00:19:44.150\nSingle IPAM server can actually\nsupport up to 150 DHP servers and\n\n421\n00:19:44.150 --> 00:19:45.710\nup to 500 DNS servers.\n\n422\n00:19:45.710 --> 00:19:49.000\nThat's a lot of\ninfrastructure that we can,\n\n423\n00:19:49.000 --> 00:19:52.020\nas I get an eyelash in my\neye while I'm talking.\n\n424\n00:19:52.020 --> 00:19:54.270\nAmazing I can multitask and\ndo two things at once.\n\n425\n00:19:54.270 --> 00:19:58.230\nBlinded as I am, and not being able to\nsee anything I can still talk about IPAM.\n\n426\n00:19:58.230 --> 00:20:03.260\nSo, we can support up to 500 DNS servers,\n150 DHCP servers.\n\n427\n00:20:03.260 --> 00:20:06.210\nThat's a lot of servers in our\ninfrastructure being managed\n\n428\n00:20:06.210 --> 00:20:07.360\nfrom one system.\n\n429\n00:20:07.360 --> 00:20:09.804\nRemember, they don't all have\nto be available on this box,\n\n430\n00:20:09.804 --> 00:20:12.330\nso all we have to do is install\nthe monitoring capability here.\n\n431\n00:20:12.330 --> 00:20:13.610\nThat's what we're doing with IPAM.\n\n432\n00:20:13.610 --> 00:20:17.010\nWe're then going out and finding and\ndiscovering those by going to the AD and\n\n433\n00:20:17.010 --> 00:20:20.522\nsaying, hey, in these subnets that\nI've specified I want to manage,\n\n434\n00:20:20.522 --> 00:20:23.570\nin these IP4 or 6 subnets or\n\n435\n00:20:23.570 --> 00:20:28.090\nscopes, I want to find All the DHCP and\nDNS servers that are in these areas.\n\n436\n00:20:28.090 --> 00:20:29.960\nAnd I wanna make sure I can\nhave knowledge of them.\n\n437\n00:20:29.960 --> 00:20:30.890\nSo we have a lot of those.\n\n438\n00:20:30.890 --> 00:20:32.630\nWe can manage-\n&gt;&gt; Are we limited by scopes?\n\n439\n00:20:32.630 --> 00:20:34.656\n&gt;&gt; I'm sorry?\n&gt;&gt; Are we limited to amount of scopes?\n\n440\n00:20:34.656 --> 00:20:36.308\n&gt;&gt; We are, I was about to say that, but\n\n441\n00:20:36.308 --> 00:20:39.741\nI think you probably cheated an looked\nahead and saw what that number was.\n\n442\n00:20:39.741 --> 00:20:44.537\nSo why don't tell all of our Lovely\nstudio audience participants out there in\n\n443\n00:20:44.537 --> 00:20:47.535\nour ITProTV world,\nhow many scopes and zones?\n\n444\n00:20:47.535 --> 00:20:48.530\nCuz you didn't mention zones also.\n\n445\n00:20:48.530 --> 00:20:50.120\n&gt;&gt; I didn't mention zones.\n\n446\n00:20:50.120 --> 00:20:52.080\n&gt;&gt; How many scopes and zones are within?\n\n447\n00:20:52.080 --> 00:20:56.447\n&gt;&gt; All right, so it looks like we're\nloaded to 6,000 scopes, and 150 zones.\n\n448\n00:20:56.447 --> 00:21:00.290\n&gt;&gt; 6,000 DHCP scopes across\nthose 150 DHCP servers.\n\n449\n00:21:00.290 --> 00:21:04.020\nAnd on those 500 DNS servers,\n150 DNS zones, right?\n\n450\n00:21:04.020 --> 00:21:05.860\nSo that's a lot if you think about that.\n\n451\n00:21:05.860 --> 00:21:08.830\nIt's a lot of infrastructure\nthat we're managing and\n\n452\n00:21:08.830 --> 00:21:10.820\na lot of stuff that we wanna think about.\n\n453\n00:21:10.820 --> 00:21:12.625\nNow, we all also do\nsomething else really cool.\n\n454\n00:21:12.625 --> 00:21:16.425\nWe store this data, this aggregated\ndata we find and understand.\n\n455\n00:21:16.425 --> 00:21:19.395\nAnd auditing in terms of the use of\nIP address, all that kind of stuff.\n\n456\n00:21:19.395 --> 00:21:21.705\nWe store that,\nwe store it for three years.\n\n457\n00:21:21.705 --> 00:21:25.925\nWe store it for three years with\nthe forensics data for IP address leases.\n\n458\n00:21:25.925 --> 00:21:29.455\nFor host media access control address,\nin other words, Mac address controls.\n\n459\n00:21:29.455 --> 00:21:31.780\nUser sign in and sign out information.\n\n460\n00:21:31.780 --> 00:21:35.010\nWe keep 3 years worth of data\non that in the IPAM database.\n\n461\n00:21:35.010 --> 00:21:39.000\nNow, you have to obviously be able to\ngo back and access to all of that data.\n\n462\n00:21:39.000 --> 00:21:43.220\nSo when you have the capability to\ninterrogate the IPAM database to see\n\n463\n00:21:43.220 --> 00:21:46.730\nwhat's been historically going on, which\nis again one of the reasons as an auditor\n\n464\n00:21:46.730 --> 00:21:51.200\nI love the tool because I get that depth\nof information looking backwards and\n\n465\n00:21:51.200 --> 00:21:53.880\nseeing what there, and\nI'm able to understand that.\n\n466\n00:21:53.880 --> 00:21:56.450\nSo that is actually kind of\ninteresting and pretty cool.\n\n467\n00:21:56.450 --> 00:21:59.030\nThat is probably also if I\nwas to have to guess and\n\n468\n00:21:59.030 --> 00:22:03.420\nsay, well maybe a testable factoid\nat some point in the future.\n\n469\n00:22:03.420 --> 00:22:05.704\nI'm just saying, I never know,\nbut you know, I am saying.\n\n470\n00:22:05.704 --> 00:22:08.220\nWildly speculating is what I'm doing.\n\n471\n00:22:08.220 --> 00:22:13.470\nOn IPAM supports WID,\nthe Windows Internal Database that we use.\n\n472\n00:22:13.470 --> 00:22:16.230\nWe can use SQL server as I mentioned,\nyou could theoretically\n\n473\n00:22:16.230 --> 00:22:19.610\nhave a single instance specifically for,\nthis instance of IPAM.\n\n474\n00:22:19.610 --> 00:22:23.700\nBut to do one understand that normally we\nsue the Windows internal database WID to\n\n475\n00:22:23.700 --> 00:22:27.070\nhost that unless we go out\nof our way to specify that.\n\n476\n00:22:27.070 --> 00:22:31.940\nWe do have the option to move our database\nout to SQL up to you to decide, but just\n\n477\n00:22:31.940 --> 00:22:36.880\nkeep in mind that instance of SQL we gonna\nuse it has to running on the IPM server.\n\n478\n00:22:36.880 --> 00:22:41.110\nNo remote access connection where we got\nthat SQL Cluster like I was suggesting\n\n479\n00:22:41.110 --> 00:22:43.230\nthat you would not be able to use.\n\n480\n00:22:43.230 --> 00:22:45.040\nGotta be a local install SQL.\n\n481\n00:22:45.040 --> 00:22:47.890\nSo just wanna make sure you're aware\nof that, and we're thinking about that.\n\n482\n00:22:47.890 --> 00:22:50.046\nWe did talk about\nintegrating IPAM into VMM.\n\n483\n00:22:50.046 --> 00:22:53.635\nI started out our conversations by saying\nwe could integrate this with CVMM.\n\n484\n00:22:53.635 --> 00:22:57.000\nI actually said, and encouraged you to\ngo take a look that we actually have\n\n485\n00:22:57.000 --> 00:22:58.910\ndone a demo on this Cherokee and I.\n\n486\n00:22:58.910 --> 00:23:03.030\nAnd you could go in and take a look at\nhow that's done in the MCC private cloud,\n\n487\n00:23:03.030 --> 00:23:05.720\nthe 7247 content we actually did.\n\n488\n00:23:05.720 --> 00:23:08.380\nI did stand up of the VMM solution,\ninstalled IPAM.\n\n489\n00:23:08.380 --> 00:23:09.480\nI showed you how to integrate the two.\n\n490\n00:23:09.480 --> 00:23:10.620\nIt was a lot of fun.\n\n491\n00:23:10.620 --> 00:23:11.770\n&gt;&gt; A lot of great information.\n\n492\n00:23:11.770 --> 00:23:13.190\n&gt;&gt; It was a lot of fun and\nit's pretty cool to do.\n\n493\n00:23:13.190 --> 00:23:14.660\nIt's not very difficult to do at all,\nquite honestly.\n\n494\n00:23:14.660 --> 00:23:17.110\nIt's actually very easy to do so\njust be aware of that.\n\n495\n00:23:17.110 --> 00:23:18.300\nSo we have all of that.\n\n496\n00:23:18.300 --> 00:23:20.230\nWe also talked about the fact that\n\n497\n00:23:21.240 --> 00:23:25.790\nwe do have some of our capabilities\nin terms of our roles and\n\n498\n00:23:25.790 --> 00:23:29.190\njust the overview of all the things that\nwe want to make sure we're aware of.\n\n499\n00:23:29.190 --> 00:23:31.760\nWhen we come back, and\nwe will be coming back for\n\n500\n00:23:31.760 --> 00:23:34.930\na part two in order to be able to\ngo through and take a look at this.\n\n501\n00:23:34.930 --> 00:23:38.190\nWhat I'm going to do is I'm going to\nwalk us through the remaining steps here\n\n502\n00:23:38.190 --> 00:23:42.400\nprovisioning the IPM server, configuring\nthe server directory, setting up and\n\n503\n00:23:42.400 --> 00:23:45.140\nstarting discovery,\nI said directory rather, excuse me,\n\n504\n00:23:45.140 --> 00:23:47.038\nconfiguring discovery\nis what I meant to say.\n\n505\n00:23:47.038 --> 00:23:49.798\nStarting discovery, and\nthen going in and specifying and\n\n506\n00:23:49.798 --> 00:23:52.791\nverifying what we want to do and\nwhat access we also want to get.\n\n507\n00:23:52.791 --> 00:23:56.587\nAnd then looking at data that we retrieve,\nso that way, once we get all that back and\n\n508\n00:23:56.587 --> 00:23:59.857\nI know right now there really isn't\nmuch of anything to show you there.\n\n509\n00:23:59.857 --> 00:24:01.517\nBut we will be able to go and\n\n510\n00:24:01.517 --> 00:24:05.895\nwe'll actually be able to see\nInformation I want to be able to go in and\n\n511\n00:24:05.895 --> 00:24:10.510\nstart to see information coming in\nform of IPAM management system here.\n\n512\n00:24:10.510 --> 00:24:13.790\nBe able to aggregate data and\nstart to look at interaction, and so\n\n513\n00:24:13.790 --> 00:24:15.580\nwe wanna come back and\ntake a look at how to do that.\n\n514\n00:24:15.580 --> 00:24:19.020\nI just wanna give you the overview and\nthe foundation of what IPAM is and\n\n515\n00:24:19.020 --> 00:24:20.970\nhow we set it up before we\nactually take that journey.\n\n516\n00:24:20.970 --> 00:24:22.300\nSo we're gonna invite you to come back and\n\n517\n00:24:22.300 --> 00:24:25.040\ntake a look at it, that,\nwith us with part two.\n\n518\n00:24:25.040 --> 00:24:25.930\n&gt;&gt; All right, sounds good.\n\n519\n00:24:25.930 --> 00:24:28.280\nI'm down for a journey, an IPAM journey.\n\n520\n00:24:28.280 --> 00:24:29.310\nAnd I hope you are too.\n\n521\n00:24:29.310 --> 00:24:30.844\nSo please join-\n&gt;&gt; Permission slips.\n\n522\n00:24:30.844 --> 00:24:31.880\n&gt;&gt; Permission slips.\n\n523\n00:24:31.880 --> 00:24:33.970\n&gt;&gt; Yes, make sure your parents\nsign those permission slips.\n\n524\n00:24:33.970 --> 00:24:35.539\n&gt;&gt; Pair up, everybody two students--\n&gt;&gt; I'm the buddy.\n\n525\n00:24:35.539 --> 00:24:36.545\n&gt;&gt; on a bus, right?\n\n526\n00:24:36.545 --> 00:24:37.560\n&gt;&gt; [LAUGH]\n&gt;&gt; And make sure you have\n\n527\n00:24:37.560 --> 00:24:39.020\na permission slip.\n\n528\n00:24:39.020 --> 00:24:41.520\n&gt;&gt; All right, thank you so much and\nhopefully we'll see you soon.\n\n529\n00:24:41.520 --> 00:24:43.120\nBut for this show we're gonna go ahead and\nsign out.\n\n530\n00:24:43.120 --> 00:24:45.340\nRemember I'm your host Cherokee Boose.\n\n531\n00:24:45.340 --> 00:24:46.041\n&gt;&gt; I'm Adam Gordon.\n\n532\n00:24:46.041 --> 00:24:50.718\n&gt;&gt; See you next here on ITPRO.TV.\n\n533\n00:24:50.718 --> 00:24:55.139\n[MUSIC]\n\n534\n00:24:55.139 --> 00:24:57.204\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217832159"
        },
        {
          "description": "In this show, Adam and Cherokee explains how to install IPAM via the GUI and via PowerShell. Adam also  demonstrates provision IPAM Servers as well as performing server discovery.",
          "length": "1218",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-5-1-2-implementing_managing_ipam_pt2-051117-PGM.00_20_04_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-5-1-2-implementing_managing_ipam_pt2-051117-PGM.00_20_04_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-5-1-2-implementing_managing_ipam_pt2-051117-PGM.00_20_04_27.Still001-sm.jpg",
          "title": "Implementing and Managing IPAM Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:02.653\nWelcome to IT ProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.653 --> 00:00:06.010\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.010 --> 00:00:08.019\n[MUSIC]\n\n4\n00:00:08.019 --> 00:00:11.746\n&gt;&gt; You're watching IT ProTV.\n\n5\n00:00:11.746 --> 00:00:15.610\n&gt;&gt; Welcome back to your Networking\nwith Windows Server 2016 series.\n\n6\n00:00:15.610 --> 00:00:17.840\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.840 --> 00:00:21.090\nIn this episode, we'll continue\ntaking a look at how to implement and\n\n8\n00:00:21.090 --> 00:00:22.760\nmanage our IPM servers.\n\n9\n00:00:22.760 --> 00:00:25.700\nAnd, actually, I think there's\na demonstration on the forefront.\n\n10\n00:00:25.700 --> 00:00:28.100\nAnd with us today, back in studio,\nis we have Adam Gordon.\n\n11\n00:00:28.100 --> 00:00:30.120\nWhat do you say Adam?\n\n12\n00:00:30.120 --> 00:00:32.060\n&gt;&gt; I say it is demo time.\n\n13\n00:00:32.060 --> 00:00:32.810\nThat's what I say.\n\n14\n00:00:32.810 --> 00:00:33.420\nYou're absolutely right.\n\n15\n00:00:33.420 --> 00:00:35.240\nWe're gonna jump back\nin where we left off.\n\n16\n00:00:35.240 --> 00:00:36.920\nWe had said, in our prior episode,\n\n17\n00:00:36.920 --> 00:00:39.640\nwe just kind of laid down\nthe foundational discussion around IPAM.\n\n18\n00:00:39.640 --> 00:00:42.510\nShowed you the console,\nexplained the basic ideas behind it.\n\n19\n00:00:42.510 --> 00:00:44.600\nTold you what the requirements\nwere to stand it up and\n\n20\n00:00:44.600 --> 00:00:46.640\nmake sure you configured it properly.\n\n21\n00:00:46.640 --> 00:00:49.280\nDomain member but not domain controller.\n\n22\n00:00:49.280 --> 00:00:51.710\nLogin as an administrator with rights.\n\n23\n00:00:51.710 --> 00:00:54.280\nMake sure you have those things\nkind of straight in your head.\n\n24\n00:00:54.280 --> 00:00:57.190\nWhat we're going to do is jump in and\nstart walking through the logic\n\n25\n00:00:57.190 --> 00:01:00.320\nof how to go from step one all the way\nthrough step six on that console.\n\n26\n00:01:00.320 --> 00:01:03.533\nWe've already taken care of step one,\nwe are connected to the IPM server,\n\n27\n00:01:03.533 --> 00:01:05.070\nwe've already got the role setup.\n\n28\n00:01:05.070 --> 00:01:07.930\nSo let's jump what feature setup\nshould say, let's jump in.\n\n29\n00:01:07.930 --> 00:01:10.380\nAnd we're now go ahead and\nwe're going to provision the IPM server.\n\n30\n00:01:10.380 --> 00:01:14.330\nSo we're going to start right there, we're\ngonna click on item number two, let me\n\n31\n00:01:14.330 --> 00:01:19.620\njust bring this up here so you can see\n'cuz we do get rather lengthy Dialog Box,\n\n32\n00:01:19.620 --> 00:01:25.070\nactually so big as a matter of fact that\nwhat we're going to do is go and do that.\n\n33\n00:01:25.070 --> 00:01:27.780\nSo, we can see what's there.\n\n34\n00:01:27.780 --> 00:01:32.260\nAnd what we're doing, is we're starting to\ngo through and we are going to start to\n\n35\n00:01:32.260 --> 00:01:35.700\nconfigure, as you can see, right after we\nget through the before you begin phase,\n\n36\n00:01:35.700 --> 00:01:37.020\nand just take a look at what's there.\n\n37\n00:01:37.020 --> 00:01:38.730\nBut we're going to configure the database.\n\n38\n00:01:38.730 --> 00:01:41.090\nRemember I mentioned we have\nthis internal database.\n\n39\n00:01:41.090 --> 00:01:43.400\nThe WID database which we rely on.\n\n40\n00:01:43.400 --> 00:01:44.870\nMay have a SQL server database.\n\n41\n00:01:44.870 --> 00:01:47.270\nWe wanna use local to the IPM server.\n\n42\n00:01:47.270 --> 00:01:50.460\nFor doing that we have to have\nthe SQL server installed ready to go,\n\n43\n00:01:50.460 --> 00:01:51.570\nthe instance information.\n\n44\n00:01:51.570 --> 00:01:54.020\nSo we'll be given that option here,\nwe'll talk about that.\n\n45\n00:01:54.020 --> 00:01:56.220\nBut we're gonna go ahead and\nconfigure the database.\n\n46\n00:01:56.220 --> 00:01:58.900\nWe will use the Window's internal\ndatabase for the demo just so\n\n47\n00:01:58.900 --> 00:02:00.090\nyou know as we're walking through.\n\n48\n00:02:00.090 --> 00:02:03.260\nWe're not gonna stand up a separate\nSQL instance local to the box, but\n\n49\n00:02:03.260 --> 00:02:04.700\nyou could if you wanted to.\n\n50\n00:02:04.700 --> 00:02:07.420\nSo you'll just be able to\nsee us go through all that.\n\n51\n00:02:07.420 --> 00:02:09.110\nWe'll set up our provisioning method.\n\n52\n00:02:09.110 --> 00:02:11.360\nWe'll wait for\nthis part of the wizard to finish.\n\n53\n00:02:11.360 --> 00:02:14.850\nAnd then we'll continue walking\nthrough the steps, setting IPM up and\n\n54\n00:02:14.850 --> 00:02:17.000\nconfiguring all the different\naspects as we go.\n\n55\n00:02:17.000 --> 00:02:20.413\nSo ioin me as we set on this journey\nright and let's go get started.\n\n56\n00:02:20.413 --> 00:02:23.192\nSo we know that we got some\noverview material here just\n\n57\n00:02:23.192 --> 00:02:26.032\ngives us a little indicator\nof what we're about to do,\n\n58\n00:02:26.032 --> 00:02:28.747\nallows us to as it says hearing and\nas I reminded you,\n\n59\n00:02:28.747 --> 00:02:32.960\nI'll just, well I can't really highlight,\nbut I'll just point to it.\n\n60\n00:02:32.960 --> 00:02:36.760\nThat would create an IPM database\neither locally directly into WID or\n\n61\n00:02:36.760 --> 00:02:37.730\nwith the SQL Server.\n\n62\n00:02:37.730 --> 00:02:40.490\nSo we're gonna go ahead,\ndown here I know you can't really see,\n\n63\n00:02:40.490 --> 00:02:44.100\nI'm covering it but right behind me\nthere is a next button right here.\n\n64\n00:02:44.100 --> 00:02:47.160\nThere you go, right there so we're just\ngonna go ahead and we're gonna click next.\n\n65\n00:02:47.160 --> 00:02:50.483\nWe get this screen right here\nwhere we're gonna be able to\n\n66\n00:02:50.483 --> 00:02:55.064\nchoose to put in our information either\nabout the windows internal database.\n\n67\n00:02:55.064 --> 00:02:59.247\nWe said we would use the local\na built-in plab process by default.\n\n68\n00:02:59.247 --> 00:03:03.267\nYou'll see that there, it's already\nprovisioned out with the directory\n\n69\n00:03:03.267 --> 00:03:07.928\ninformation the percent Windows directory\npercent placeholder just usually winds up\n\n70\n00:03:07.928 --> 00:03:11.245\nbeing C windows but\nwherever you install Windows of the system\n\n71\n00:03:11.245 --> 00:03:14.849\nvariable System32 IPM database,\nthat's where we'll end up.\n\n72\n00:03:14.849 --> 00:03:16.550\nAll right, so that's what we're gonna do.\n\n73\n00:03:16.550 --> 00:03:19.560\nNotice here, if we wanna use SQL Server,\nspecify that out.\n\n74\n00:03:19.560 --> 00:03:22.550\nPut our server name, database name,\nour port number, 1433,\n\n75\n00:03:22.550 --> 00:03:24.700\nand create a new schema for it.\n\n76\n00:03:24.700 --> 00:03:26.550\nSo we'll choose what we're gonna do.\n\n77\n00:03:26.550 --> 00:03:29.610\nWe'll be doing WID here, click Next.\n\n78\n00:03:29.610 --> 00:03:32.400\nWe then have to specify\nour provisioning method.\n\n79\n00:03:32.400 --> 00:03:36.670\nIf we're doing group policy based,\nwhich we would traditionally do.\n\n80\n00:03:36.670 --> 00:03:41.620\nAnd use IPAM or rather manage IPAM with\ngroup policy based provisioning so\n\n81\n00:03:41.620 --> 00:03:45.170\nthat we create in the domains we're gonna\nmanage the appropriate group policy\n\n82\n00:03:45.170 --> 00:03:49.120\nobjects that then let us go out and\nfind the servers and interact with them.\n\n83\n00:03:49.120 --> 00:03:52.870\nWe'll have to specify what your group\npolicy name prefix will be here.\n\n84\n00:03:52.870 --> 00:03:59.320\nSo I'm gonna go ahead and just use, just\nput on the policy prefix we're gonna use,\n\n85\n00:03:59.320 --> 00:04:06.250\ncall this IPAM so PLABS-IPAM for\nour plab server domain right?\n\n86\n00:04:06.250 --> 00:04:10.820\nAnd then our practice labs,excuse me,\ndomain that we're using, and\n\n87\n00:04:10.820 --> 00:04:13.760\nIPAM just telling us what it is,\nso we'll specify this.\n\n88\n00:04:13.760 --> 00:04:17.190\nWe can also do this manually,\nnotice here manual provisioning method,\n\n89\n00:04:17.190 --> 00:04:20.510\nthis allows us to configure the required\nnetwork shares, security groups, and\n\n90\n00:04:20.510 --> 00:04:23.760\nfirewall rules, but\nwe do some manually on each server.\n\n91\n00:04:23.760 --> 00:04:26.030\nMay not wanna go to all that trouble,\nit's a lot of work, and so\n\n92\n00:04:26.030 --> 00:04:28.660\nwe certainly can do that but\nit's up to us to decide.\n\n93\n00:04:28.660 --> 00:04:33.103\nIf we do a through group policy, then IPAM\nautomatically does configure the settings\n\n94\n00:04:33.103 --> 00:04:36.990\non the management server by setting up and\nmanaging it with the group policy\n\n95\n00:04:36.990 --> 00:04:41.454\ntemplates that will then allow us to have\nall of that information specified, right?\n\n96\n00:04:41.454 --> 00:04:45.172\nSays very useful and large networks\nespecially, where we're gonna be managing\n\n97\n00:04:45.172 --> 00:04:48.616\nwith a bunch of different servers and\nthat we can go ahead and specify that we\n\n98\n00:04:48.616 --> 00:04:52.160\nstandardize everything and it's all\ngonna be configured the right way.\n\n99\n00:04:52.160 --> 00:04:55.760\nSo we're gonna go ahead and do that,\nwe'll just specify our prefix there,\n\n100\n00:04:57.555 --> 00:05:01.465\nClick Next, got our Summary screen,\nnothing too involved.\n\n101\n00:05:01.465 --> 00:05:04.445\nBut notice specifically, the Group\nPolicy Objects that will get created,\n\n102\n00:05:04.445 --> 00:05:07.425\nthere are three of them here,\nby the way, just so you can see.\n\n103\n00:05:07.425 --> 00:05:11.755\nWe'll see one for DHCP servers,\none for DNS, and, of course, one for\n\n104\n00:05:11.755 --> 00:05:14.215\nour network policy service\non the domain controller.\n\n105\n00:05:14.215 --> 00:05:17.025\nSo we're gonna be able to\ninteract with the two primary\n\n106\n00:05:17.025 --> 00:05:21.340\npoints of information gathering that\nwe focus on with IPAM, DHCP and DNS.\n\n107\n00:05:21.340 --> 00:05:25.970\nWe have a third group policy object that\nwill configure or give a settings around\n\n108\n00:05:25.970 --> 00:05:29.400\nmanagement of the main controllers or\npolicy service as well.\n\n109\n00:05:29.400 --> 00:05:30.070\nWe'll have all that.\n\n110\n00:05:30.070 --> 00:05:32.050\nWe'll configure the IPM database.\n\n111\n00:05:32.050 --> 00:05:34.950\nWe'll make sure we have the schedule\n\n112\n00:05:34.950 --> 00:05:39.390\ntask on the IPAM server set up that\nwe collect data from the network.\n\n113\n00:05:39.390 --> 00:05:42.460\nIt's gonna provision out for\nus in the configuration wizard will.\n\n114\n00:05:42.460 --> 00:05:43.590\nThe required task and\n\n115\n00:05:43.590 --> 00:05:47.924\nset them up pre-scheduled tasks will have\nthe local security groups necessary to\n\n116\n00:05:47.924 --> 00:05:51.778\nspecify the admin role issued some of\nthose groups in the prior episode.\n\n117\n00:05:51.778 --> 00:05:55.570\nWe're gonna have the document with all the\nroles, we'll talk about what those would\n\n118\n00:05:55.570 --> 00:05:59.010\nbe, and we'll enable IP address tracking\ncapabilities on the IPM service.\n\n119\n00:05:59.010 --> 00:06:03.050\nWe're gonna get all that set up when\nwe do this we're gonna click apply.\n\n120\n00:06:03.050 --> 00:06:04.850\nProvisioning in progress.\n\n121\n00:06:04.850 --> 00:06:06.540\nPlease stand by as we say, right?\n\n122\n00:06:06.540 --> 00:06:09.330\nSo you'll see that's gonna go through,\nit's gonna take a few\n\n123\n00:06:09.330 --> 00:06:12.810\nminutes to do this so we're gonna go\nahead and let this run it's course.\n\n124\n00:06:12.810 --> 00:06:14.890\nWe're gonna come on back\nas soon as it's ready and\n\n125\n00:06:14.890 --> 00:06:17.610\nthen we're gonna take you on\nthe next stage of our journey here.\n\n126\n00:06:17.610 --> 00:06:18.510\n&gt;&gt; Yes.\n&gt;&gt; Once we're finished we'll\n\n127\n00:06:18.510 --> 00:06:19.400\nsee a nice little.\n\n128\n00:06:19.400 --> 00:06:23.720\nConfiguration success window,\nsee a summary there, we'll go back to\n\n129\n00:06:23.720 --> 00:06:27.450\nthe console and then we'll be able to go\nahead and configure server discovery,\n\n130\n00:06:27.450 --> 00:06:30.110\nthat'll will be our next stop on\nour little road trip here, okay?\n\n131\n00:06:30.110 --> 00:06:33.660\n&gt;&gt; And they tell them keep your arms and\nyour legs inside the moving vehicle.\n\n132\n00:06:33.660 --> 00:06:34.820\n&gt;&gt; At all times.\n&gt;&gt; At all times.\n\n133\n00:06:36.470 --> 00:06:39.591\nAll right, and it looks like we've\narrived safely at our destination.\n\n134\n00:06:41.278 --> 00:06:43.775\n[LAUGH]\n&gt;&gt; All right, so let's take a look.\n\n135\n00:06:43.775 --> 00:06:46.160\n[LAUGH] Look at what we got there, right?\n\n136\n00:06:46.160 --> 00:06:48.570\nPAM provisioning completed\nsuccessfully screen.\n\n137\n00:06:48.570 --> 00:06:53.440\nOn average, in the real world we time\nlapse sometimes, it's hey, you guys relax,\n\n138\n00:06:53.440 --> 00:06:54.200\nlet us just finish it up.\n\n139\n00:06:54.200 --> 00:06:55.070\nWe'll come back and show you.\n\n140\n00:06:55.070 --> 00:06:57.070\nBut you don't always get to\nsee how long it really takes.\n\n141\n00:06:57.070 --> 00:06:58.760\nTakes maybe a minute or\n\n142\n00:06:58.760 --> 00:07:01.940\ntwo depending on how involved\nthe database configuration is.\n\n143\n00:07:01.940 --> 00:07:05.060\nI will share with you in the real world\njust so you know, the WID configuration,\n\n144\n00:07:05.060 --> 00:07:06.760\nthe Windows Internal Database,\n\n145\n00:07:06.760 --> 00:07:09.350\ndoes not take as long as\nprovisioning a SQL server instance.\n\n146\n00:07:09.350 --> 00:07:12.770\nSo if you did choose to go with\na local SQL server instance\n\n147\n00:07:12.770 --> 00:07:14.780\nit would take you a little bit longer.\n\n148\n00:07:14.780 --> 00:07:16.360\nThree to five minutes, who knows,\n\n149\n00:07:16.360 --> 00:07:19.950\nit really depends on the processing power\nof the box that you're running on, but\n\n150\n00:07:19.950 --> 00:07:23.110\nSQL Server configuration will take longer\nthan the Windows Internal Database.\n\n151\n00:07:23.110 --> 00:07:26.293\nJust so you know, we did the WIN database,\nso it didn't take very long at all, and\n\n152\n00:07:26.293 --> 00:07:29.410\nit's gonna run pretty quickly as a result\nof that just so you're aware of that.\n\n153\n00:07:29.410 --> 00:07:32.411\nSo we have our IP provision successfully.\n\n154\n00:07:32.411 --> 00:07:35.341\nWe have our next step here right we\ngonna click close at the bottom.\n\n155\n00:07:35.341 --> 00:07:38.542\nI know you can see that there is little\nclose button right back there behind me at\n\n156\n00:07:38.542 --> 00:07:40.256\nthe bottom right hand side of the screen.\n\n157\n00:07:40.256 --> 00:07:43.155\nIf we could show that real quick just so\nyou could see where I'm about to click.\n\n158\n00:07:43.155 --> 00:07:44.535\nThere we go, we're gonna click close.\n\n159\n00:07:44.535 --> 00:07:47.455\nThis'll throw us back into that\nmain screen with all the steps,\n\n160\n00:07:47.455 --> 00:07:49.475\nand we're just gonna pick\nup on the next step here.\n\n161\n00:07:49.475 --> 00:07:50.675\nSo we're gonna click close.\n\n162\n00:07:50.675 --> 00:07:53.225\nTakes us right back into\nserver manager as you can see.\n\n163\n00:07:53.225 --> 00:07:56.337\nNotice by the way provisioning\nthe IPAM server now completed.\n\n164\n00:07:56.337 --> 00:07:59.587\nSo we can see that we're kind\nof marking our journey as we go.\n\n165\n00:07:59.587 --> 00:08:03.504\nNow notice configure the server discovery,\ndomain selected none.\n\n166\n00:08:03.504 --> 00:08:05.254\nWe're gonna Fix that right now.\n\n167\n00:08:05.254 --> 00:08:10.025\nSo we're gonna click here, gonna go in,\nI'm just gonna move this up over here.\n\n168\n00:08:10.025 --> 00:08:13.800\nSo that we can talk about that, and\nsee that while we're going through.\n\n169\n00:08:13.800 --> 00:08:17.544\nAnd so what we're gonna do is select\nthe forest section and click Get Forest.\n\n170\n00:08:17.544 --> 00:08:20.990\nNow over here, let's talk for\na minute before I do this.\n\n171\n00:08:20.990 --> 00:08:22.100\nSo in the real world notice,\n\n172\n00:08:22.100 --> 00:08:24.477\nit may happen here and\nif does I just want you to be aware of it.\n\n173\n00:08:24.477 --> 00:08:27.194\nIf it happens to you in the real world,\nno worries,\n\n174\n00:08:27.194 --> 00:08:29.671\ndon't fear the get\nforests little item here.\n\n175\n00:08:29.671 --> 00:08:32.401\nWhat you're gonna do is you're gonna\ngo out and select the forest, but\n\n176\n00:08:32.401 --> 00:08:34.599\nnotice we don't have any here and\nso we're gonna click.\n\n177\n00:08:34.599 --> 00:08:39.299\nNow it's gonna go out and start trying to\ndiscover, but it may take a little bit,\n\n178\n00:08:39.299 --> 00:08:42.429\nespecially if you have\na very large infrastructure.\n\n179\n00:08:42.429 --> 00:08:45.165\nIt's gonna take a while to figure\nout what all of that looks like.\n\n180\n00:08:45.165 --> 00:08:47.955\nSo we may try this and\nit may actually show up and\n\n181\n00:08:47.955 --> 00:08:50.855\nwe may not see anything on the window\nwhere we select initially.\n\n182\n00:08:50.855 --> 00:08:53.418\nMay have to give it up a minute,\nbut eventually we'll populate,\n\n183\n00:08:53.418 --> 00:08:55.854\njust want you to be comfortable with that,\njust understand.\n\n184\n00:08:55.854 --> 00:08:58.360\nWe're gonna click here,\ngonna do get forest.\n\n185\n00:08:58.360 --> 00:09:01.888\nYou'll see here it says the background\ntask has been scheduled and\n\n186\n00:09:01.888 --> 00:09:03.974\nstarted fetching the trusted forest.\n\n187\n00:09:03.974 --> 00:09:07.163\nPlease close this particular item and\nthen go ahead and\n\n188\n00:09:07.163 --> 00:09:09.450\nlaunch it again after it finishes.\n\n189\n00:09:09.450 --> 00:09:11.620\nWe've got our thing going\non back here as well.\n\n190\n00:09:11.620 --> 00:09:14.917\nIt's okay, we're gonna click OK,\nwe're gonna click OK.\n\n191\n00:09:14.917 --> 00:09:19.077\nSo it says, discovered servers\nare based on, and you'll see here.\n\n192\n00:09:19.077 --> 00:09:22.670\nNext data collection is please\nrefresh to update this view.\n\n193\n00:09:22.670 --> 00:09:25.860\nClick more here, it gives you\na little bit more information.\n\n194\n00:09:25.860 --> 00:09:30.250\nShows you that it's running, shows\nyou that it did seem to do discovery.\n\n195\n00:09:30.250 --> 00:09:32.610\nAnd by the way,\nthat's what we wanna see here.\n\n196\n00:09:32.610 --> 00:09:36.510\nIt did, looks like it did complete,\nso we're interested in that.\n\n197\n00:09:36.510 --> 00:09:38.610\nWe don't seem to see there's any errors,\nso\n\n198\n00:09:38.610 --> 00:09:40.609\nwe just wanna know that\nwe can check there.\n\n199\n00:09:40.609 --> 00:09:44.027\nSo let's go back in here and\nwe should now, and you could see here,\n\n200\n00:09:44.027 --> 00:09:45.015\nit is populating.\n\n201\n00:09:45.015 --> 00:09:48.229\nWhat I was suggesting is that you can do\nthat and if nothing shows up right away,\n\n202\n00:09:48.229 --> 00:09:51.320\nyou may have just launched it too\nearly before it actually finished.\n\n203\n00:09:51.320 --> 00:09:53.916\nThe way you would know would be to\nactually pay attention to this little\n\n204\n00:09:53.916 --> 00:09:54.581\nyellow bar here.\n\n205\n00:09:54.581 --> 00:09:58.293\nAnd although it's not the most obvious\nthing in the world, click the More link.\n\n206\n00:09:58.293 --> 00:10:01.654\nIt should say click here for status or\nsomething to tell you that it's running or\n\n207\n00:10:01.654 --> 00:10:02.620\nthat it's finished.\n\n208\n00:10:02.620 --> 00:10:06.470\nBut I'm just trying to make sure you know\nhow to navigate your way around in here.\n\n209\n00:10:06.470 --> 00:10:08.800\nAnd so you're comfortable\nwith things when they occur.\n\n210\n00:10:08.800 --> 00:10:10.796\nYou're not guessing as to where it is, but\n\n211\n00:10:10.796 --> 00:10:13.297\nthat more item would show\nyou the status I showed you.\n\n212\n00:10:13.297 --> 00:10:14.650\nDid it complete successfully?\n\n213\n00:10:14.650 --> 00:10:18.044\nSo we do expect to see and\nthat we do have our four selection here.\n\n214\n00:10:18.044 --> 00:10:22.528\nSo we're gonna be able to go in and\ndo this, I will be able to go ahead and\n\n215\n00:10:22.528 --> 00:10:25.884\nmake sure we have\na practicelabs.com forest here.\n\n216\n00:10:25.884 --> 00:10:28.785\nWe do, and you could see that's\nthe only one we are operating with.\n\n217\n00:10:28.785 --> 00:10:32.397\nSelect domain to discover, we obviously\nthen will be able to select one or\n\n218\n00:10:32.397 --> 00:10:33.165\nmore domains.\n\n219\n00:10:33.165 --> 00:10:36.963\nWe can choose here, you'll see we have\nour root domain for practicelabs.com, but\n\n220\n00:10:36.963 --> 00:10:38.797\nyou'll notice that we can add domains.\n\n221\n00:10:38.797 --> 00:10:42.645\nWe would obviously then kinda populate and\npop up a list here, because remember,\n\n222\n00:10:42.645 --> 00:10:45.170\nwe do have a single forest\nthat we're linked to.\n\n223\n00:10:45.170 --> 00:10:47.334\nBut we may have multiple\ndomains within the forest, and\n\n224\n00:10:47.334 --> 00:10:48.723\nthat's not uncommon by any means.\n\n225\n00:10:48.723 --> 00:10:53.208\nWe often will normally have more than\none domain, so let's go ahead and\n\n226\n00:10:53.208 --> 00:10:54.189\nlet's add in.\n\n227\n00:10:56.877 --> 00:11:00.140\nYou'll see here we click the Select\ndomains to discover add in our\n\n228\n00:11:00.140 --> 00:11:00.859\nroot domain.\n\n229\n00:11:00.859 --> 00:11:04.731\nSo we're gonna choose that domain\ncontroller DHCP server DNS server.\n\n230\n00:11:04.731 --> 00:11:07.345\nWhat are we gonna be querying,\nwhat are we gonna be discovering?\n\n231\n00:11:07.345 --> 00:11:09.495\nWe want obviously hopefully\nwe want all three, and\n\n232\n00:11:09.495 --> 00:11:11.350\nso we're gonna make choices there.\n\n233\n00:11:11.350 --> 00:11:14.867\nIf we add in domains, we don't want for\nsome reason, just remove them,\n\n234\n00:11:14.867 --> 00:11:17.357\nthat's what the remove button is for\nright there.\n\n235\n00:11:17.357 --> 00:11:20.514\nAnd we just can just grab that,\nhighlight that, remove it and\n\n236\n00:11:20.514 --> 00:11:23.139\ngo back and make a choice or\nsomething like that so.\n\n237\n00:11:23.139 --> 00:11:25.499\n&gt;&gt; Now if we had several\ndifferent domains,\n\n238\n00:11:25.499 --> 00:11:28.877\nwould that affect the duration\nof this discovery process?\n\n239\n00:11:28.877 --> 00:11:32.227\nI'm assuming it would,\njust having to go ahead and check that.\n\n240\n00:11:32.227 --> 00:11:34.552\n&gt;&gt; It would take a little longer,\nabsolutely no doubt about it, it would.\n\n241\n00:11:34.552 --> 00:11:37.915\nBecause obviously we'd have to go in and\nfind information across different name\n\n242\n00:11:37.915 --> 00:11:40.370\nspaces, and so\nit may extend that time by a little bit.\n\n243\n00:11:40.370 --> 00:11:42.027\nHard to say how long, but it would.\n\n244\n00:11:42.027 --> 00:11:43.211\nTraditionally we'd say, yes.\n\n245\n00:11:43.211 --> 00:11:45.004\n&gt;&gt; Okay.\n&gt;&gt; It would definitely take longer than it\n\n246\n00:11:45.004 --> 00:11:46.622\nwould if we were just\nlooking at the root domain,\n\n247\n00:11:46.622 --> 00:11:48.171\nwhich is all we're gonna do here for\nour demo.\n\n248\n00:11:48.171 --> 00:11:51.525\nUR namespace in the demo environment\nis flat, we just have one domain.\n\n249\n00:11:51.525 --> 00:11:53.714\nOne forest, one tree,\none domain nothing complicated.\n\n250\n00:11:53.714 --> 00:11:57.806\nBut as I pointed out in the real world,\nit would certainly most likely be that we\n\n251\n00:11:57.806 --> 00:12:00.605\nwould see lots of domains or\nwe may have more than one.\n\n252\n00:12:00.605 --> 00:12:03.312\nSo Cherokee raises an excellent\npoint which is hey,\n\n253\n00:12:03.312 --> 00:12:06.642\njust know the more things you choose,\nyou wanna go out and find.\n\n254\n00:12:06.642 --> 00:12:09.162\nYou gotta allocate some time,\nthe longer it may take to do that, so\n\n255\n00:12:09.162 --> 00:12:09.842\njust be patient.\n\n256\n00:12:09.842 --> 00:12:12.733\nAll right, so we have all that, so\nwe have done that, we're gonna click OK.\n\n257\n00:12:14.077 --> 00:12:17.249\nNow again we're going to\ndomain selected one, so\n\n258\n00:12:17.249 --> 00:12:19.930\nwe could see we did now go in and do that.\n\n259\n00:12:19.930 --> 00:12:24.371\nWe're back in the IPAM window, so we've\ndone the first half here, steps one, two,\n\n260\n00:12:24.371 --> 00:12:24.999\nand three.\n\n261\n00:12:24.999 --> 00:12:27.922\nWe're now gonna move over here,\nStart server discovery.\n\n262\n00:12:27.922 --> 00:12:29.262\nCuz remember, up until now,\n\n263\n00:12:29.262 --> 00:12:32.159\nreally all we've been doing is\ndoing the administrative behind\n\n264\n00:12:32.159 --> 00:12:35.015\nthe scenes architecture,\nplumbing connectivity settings.\n\n265\n00:12:35.015 --> 00:12:37.615\nWe haven't really done anything yet\nthat actually goes out and\n\n266\n00:12:37.615 --> 00:12:39.000\nleverages these settings.\n\n267\n00:12:39.000 --> 00:12:42.225\nWe've just set them up and said,\nwell I'd like to go to this server.\n\n268\n00:12:42.225 --> 00:12:45.630\nI'd like to use this credential, I wanna\ngo ahead and I wanna use this database.\n\n269\n00:12:45.630 --> 00:12:49.500\nI wanna set up and configure discovery in\nthis far as with this domains, looking for\n\n270\n00:12:49.500 --> 00:12:52.780\nthese servers, so that when I do\nstuff I know what I'm gonna do.\n\n271\n00:12:52.780 --> 00:12:54.500\nWell now it's time to do stuff, so\n\n272\n00:12:54.500 --> 00:12:57.780\nnow we're gonna actually go off over here,\nStart server discovery.\n\n273\n00:12:57.780 --> 00:13:00.334\nAnd let's just go ahead just clear\nthis out of the way here real quick,\n\n274\n00:13:00.334 --> 00:13:01.864\njust get the little yellow bar out there.\n\n275\n00:13:01.864 --> 00:13:03.990\nBecause we already did the discovery,\nso we don't have to.\n\n276\n00:13:03.990 --> 00:13:07.812\nNow by the way just before I go\nthrough and do anything else here.\n\n277\n00:13:07.812 --> 00:13:11.882\nJust want you to see, let me just move\nthis over if I can grab the that's not\n\n278\n00:13:11.882 --> 00:13:13.679\nwhat I wanted, go back over here.\n\n279\n00:13:13.679 --> 00:13:16.440\nSee if I can grab the arrow and\nextend that, there we go.\n\n280\n00:13:16.440 --> 00:13:19.294\nLook just over here at all the stuff\nthat's popped in here as we've been\n\n281\n00:13:19.294 --> 00:13:20.400\nstarting to do something.\n\n282\n00:13:20.400 --> 00:13:23.406\nHaving really said, by they way,\nhey look at overview, but\n\n283\n00:13:23.406 --> 00:13:25.700\nnow with server inventory,\nIP address space.\n\n284\n00:13:25.700 --> 00:13:28.680\nRemember I mentioned we're gonna be able\nto see all these things once we actually\n\n285\n00:13:28.680 --> 00:13:29.910\nstart discovering.\n\n286\n00:13:29.910 --> 00:13:31.090\nThere's nothing populated yet.\n\n287\n00:13:31.090 --> 00:13:33.190\nI inadvertently clicked on,\nwhat you saw was blank.\n\n288\n00:13:33.190 --> 00:13:37.870\nCuz I haven't actually started discover\nyet, but you can see IP address inventory,\n\n289\n00:13:37.870 --> 00:13:42.363\nblocks, ranges, virtualized IP address\nspace and simpler connected, SCVMM.\n\n290\n00:13:42.363 --> 00:13:44.300\nWe talked about the fact that\nwe can integrate the two.\n\n291\n00:13:44.300 --> 00:13:48.570\nMonitor and manage our server,\nour scopes, our zones, our server groups.\n\n292\n00:13:48.570 --> 00:13:51.520\nThe event catalogue acts as control,\nthat's where our roles ar gonna be.\n\n293\n00:13:51.520 --> 00:13:53.772\nSo all the things that we talked\nabout that we have to have and\n\n294\n00:13:53.772 --> 00:13:54.773\nwe are gonna be able to do.\n\n295\n00:13:54.773 --> 00:13:58.240\nOnce we get our provision of the IPAM\nserver, all that stuff pops in here.\n\n296\n00:13:58.240 --> 00:14:00.412\nIt's all available to us,\nplus our server inventory.\n\n297\n00:14:00.412 --> 00:14:02.314\nSo let's just take a quick\nlook before we do anything.\n\n298\n00:14:02.314 --> 00:14:05.916\nYou'll see we will be able to go in,\nsee our server inventory here.\n\n299\n00:14:05.916 --> 00:14:09.130\nAgain, nothing there yet,\nwe'll obviously populate this.\n\n300\n00:14:09.130 --> 00:14:13.688\nWe'd have a view here, but you can see\nmanaged servers, unmanaged servers.\n\n301\n00:14:13.688 --> 00:14:17.635\nI know it's kind of hard to see at\nthe bottom, for both IPv4 and IPv6.\n\n302\n00:14:17.635 --> 00:14:19.580\nRemember we do have support for both.\n\n303\n00:14:19.580 --> 00:14:24.370\nWe do have our IP address space,\nkind of gives us little overview here.\n\n304\n00:14:24.370 --> 00:14:28.850\nWe have our address blocks.\n\n305\n00:14:28.850 --> 00:14:31.982\nIf you take a look down here at\nthe bottom, and by the way as you click on\n\n306\n00:14:31.982 --> 00:14:34.792\nsomething up here, if your picking\nup on the fact on the left.\n\n307\n00:14:34.792 --> 00:14:38.450\nAt the lower area, you kind of see the\ndetail of all the settings that we select\n\n308\n00:14:38.450 --> 00:14:40.890\nat the category up here in the workspace.\n\n309\n00:14:40.890 --> 00:14:45.214\nPublic address spaces, private address\nspaces, on mapped address spaces.\n\n310\n00:14:45.214 --> 00:14:49.257\nSo if we click here on public or whatever\nyou'll see that we don't have anything.\n\n311\n00:14:49.257 --> 00:14:54.207\nBut we can obviously drill through here\nfor IPv4 and IPv6 to see our global and\n\n312\n00:14:54.207 --> 00:14:56.307\nunmapped address spaces there.\n\n313\n00:14:56.307 --> 00:15:00.980\nIP address inventory,\nagain v4 and v6 support.\n\n314\n00:15:00.980 --> 00:15:03.850\nAddress ranges, so\nwe'd be able to see that here.\n\n315\n00:15:03.850 --> 00:15:08.150\nIf we have any virtualized IP address\nspaces and we're using our SCVMM time,\n\n316\n00:15:08.150 --> 00:15:09.730\nwe would see that information here.\n\n317\n00:15:09.730 --> 00:15:12.123\nWe have our Monitor and Manage area.\n\n318\n00:15:12.123 --> 00:15:16.509\nWe've got our sub areas for DHS and\nDHCP server, DHCP scope, DNS zones and\n\n319\n00:15:16.509 --> 00:15:18.890\nserver groups all listed here.\n\n320\n00:15:18.890 --> 00:15:20.350\nSo we would be able to see for\n\n321\n00:15:20.350 --> 00:15:25.660\nboth IPv4 and IPv6, our DNS and\nDHCP servers overall once they populate.\n\n322\n00:15:25.660 --> 00:15:28.889\nOur DHCP scopes would be listed here,\npublic and\n\n323\n00:15:28.889 --> 00:15:31.347\nprivate, for both IPv4 and IPv6.\n\n324\n00:15:31.347 --> 00:15:35.247\nDNS zones, same thing, IPv4,\naddress or rather reverse look up and\n\n325\n00:15:35.247 --> 00:15:38.380\nforward look up zones,\nyou'll see them there.\n\n326\n00:15:38.380 --> 00:15:44.360\nConditional forwarding if we're doing\nthat through the DNS interface we talked\n\n327\n00:15:44.360 --> 00:15:47.990\nabout and set up conditional forwarding,\ndid a walk through and a demo on that.\n\n328\n00:15:47.990 --> 00:15:49.424\nSo hopefully you remember what that is,\nand\n\n329\n00:15:49.424 --> 00:15:51.607\nthen you see how these things by\nthe way that don't look familiar.\n\n330\n00:15:51.607 --> 00:15:54.388\nYou don't remember what these terms mean,\nyou're not familiar with them,\n\n331\n00:15:54.388 --> 00:15:55.087\nhey, guess what?\n\n332\n00:15:55.087 --> 00:15:57.811\nYou got a great set up,\nso let's go back and\n\n333\n00:15:57.811 --> 00:16:01.837\ntake a look at on both IPv4,\nIPv6, as well as in DNS and DHCP.\n\n334\n00:16:01.837 --> 00:16:05.343\nWe've done extensive discussions\non all four of these topic areas\n\n335\n00:16:05.343 --> 00:16:08.050\nin prior episodes,\nprior to getting into IPAM.\n\n336\n00:16:08.050 --> 00:16:10.270\nAnd you can go back and\ntake a look at any of them, and\n\n337\n00:16:10.270 --> 00:16:12.310\njust get refresher as often as you need,\nto right?\n\n338\n00:16:12.310 --> 00:16:14.685\nSo that's just something to consider and\nthink about.\n\n339\n00:16:14.685 --> 00:16:18.065\nWe have server groups down here,\nas you can see.\n\n340\n00:16:18.065 --> 00:16:19.285\nSo we'll be able to see those.\n\n341\n00:16:19.285 --> 00:16:22.808\nWe have our event catalog, we'll just be\nable to see, essentially editing, editing?\n\n342\n00:16:22.808 --> 00:16:24.004\nAuditing, rather, our log entries, right.\n\n343\n00:16:24.004 --> 00:16:27.695\nSo all the events that are taking place,\nthat would all be here.\n\n344\n00:16:27.695 --> 00:16:30.575\nBut you'll see,\nwe can see DHTP configuration events,\n\n345\n00:16:30.575 --> 00:16:33.225\nIP address tracking by IP address.\n\n346\n00:16:33.225 --> 00:16:38.300\nDown there by client ID, by host name, by\nusername, so we can filter and drill down.\n\n347\n00:16:38.300 --> 00:16:39.330\nAgain, no data yet,\n\n348\n00:16:39.330 --> 00:16:42.740\nwe're going to obviously to be able to see\nthese things once we get done configuring.\n\n349\n00:16:42.740 --> 00:16:44.240\nAnd of course, access control.\n\n350\n00:16:44.240 --> 00:16:47.390\nThis is where we would see the roles that\nI showed you in the Word document that I\n\n351\n00:16:47.390 --> 00:16:48.870\nbroke out and created for you.\n\n352\n00:16:48.870 --> 00:16:51.670\nPrior episode, just to give you\nan overview as to what they are.\n\n353\n00:16:51.670 --> 00:16:53.380\nBut you could see our\nbuilt-in roles are here.\n\n354\n00:16:53.380 --> 00:16:57.380\nThese are the ones that I had\nspecified in the document.\n\n355\n00:16:57.380 --> 00:17:00.110\n&gt;&gt; And which one did you say I was,\nI was the, let's see-\n\n356\n00:17:00.110 --> 00:17:01.690\n&gt;&gt; You were the mistress of all,\n\n357\n00:17:01.690 --> 00:17:02.740\nyou were the queen of everything.\n\n358\n00:17:02.740 --> 00:17:04.000\n&gt;&gt; Administrator, okay cool, all right.\n\n359\n00:17:04.000 --> 00:17:05.672\n&gt;&gt; You are the overarching administrator.\n\n360\n00:17:05.672 --> 00:17:07.690\n&gt;&gt; Let's keep that in mind\nwhen we go to configure.\n\n361\n00:17:07.690 --> 00:17:11.640\n&gt;&gt; All right, so we have access scopes,\nright, we have access policies.\n\n362\n00:17:11.640 --> 00:17:15.370\nIf we have any of those here, so\nwe have all of that up here, right?\n\n363\n00:17:16.680 --> 00:17:18.840\nAnd you'll notice, by the way,\nif I wanna add, since we're here,\n\n364\n00:17:18.840 --> 00:17:19.700\njust quickly show you.\n\n365\n00:17:19.700 --> 00:17:23.620\nIf I wanna go ahead and add a role, for\ninstance, we do have that task area.\n\n366\n00:17:23.620 --> 00:17:27.388\nYou may be familiar with this, if you\nuse the Windows Server Manager Console.\n\n367\n00:17:27.388 --> 00:17:29.730\nYou know how we always have that,\nonce we drill through and\n\n368\n00:17:29.730 --> 00:17:32.060\nstart using the interface to manage stuff.\n\n369\n00:17:32.060 --> 00:17:34.730\nWe do have this task area\nthat gives us tasks specific\n\n370\n00:17:34.730 --> 00:17:36.110\nto whatever we may be doing.\n\n371\n00:17:36.110 --> 00:17:39.650\nSo we do have the Add User Role capability\nhere, if we wanna add a role in.\n\n372\n00:17:39.650 --> 00:17:42.647\nPerhaps sub-divide a role, and\nbreak it out, and customize.\n\n373\n00:17:42.647 --> 00:17:45.490\nWe could go in, add a user role, specify.\n\n374\n00:17:45.490 --> 00:17:48.650\nYou'll see we have\nthe option to select here,\n\n375\n00:17:48.650 --> 00:17:51.800\nif I wanna give somebody\nDNS server operations.\n\n376\n00:17:51.800 --> 00:17:56.210\nBut I can specify that, right?\n\n377\n00:17:56.210 --> 00:17:59.500\nMaybe logical group operations.\n\n378\n00:17:59.500 --> 00:18:01.250\nBut maybe I don't want everything.\n\n379\n00:18:01.250 --> 00:18:03.677\nMaybe I just want to delete logical\ngroups, you get the idea, right?\n\n380\n00:18:03.677 --> 00:18:05.301\nThis would let us mix and match, or\n\n381\n00:18:05.301 --> 00:18:08.561\ncreate a custom roles from the ones\nthat are already built out for us.\n\n382\n00:18:08.561 --> 00:18:12.043\nSo we can create that, give it a name, and\nthen we would be able to have that role,\n\n383\n00:18:12.043 --> 00:18:13.100\nif we wanted to.\n\n384\n00:18:13.100 --> 00:18:15.821\nSo let's just say that we call this.\n\n385\n00:18:15.821 --> 00:18:23.100\nJust since we're doing this, I'll go ahead\nand do this, ITProTV Role 1 or something.\n\n386\n00:18:23.100 --> 00:18:24.505\nCaps Lock is on.\n\n387\n00:18:24.505 --> 00:18:26.600\n&gt;&gt; [LAUGH]\n&gt;&gt; I was just thinking that the other day.\n\n388\n00:18:26.600 --> 00:18:28.920\nI got through and\nI was just not paying attention.\n\n389\n00:18:28.920 --> 00:18:30.950\nAnd then you look down and\nyou see this huge string.\n\n390\n00:18:30.950 --> 00:18:33.670\nAnd it's all backwards,\nif your Caps Lock is on.\n\n391\n00:18:33.670 --> 00:18:38.330\nThere should be a shortcut\nkey to reverse that.\n\n392\n00:18:38.330 --> 00:18:39.725\nWhy, why haven't they?\n\n393\n00:18:39.725 --> 00:18:42.330\n&gt;&gt; [LAUGH]\n&gt;&gt; The burning eternal question of\n\n394\n00:18:42.330 --> 00:18:43.430\nour time.\n\n395\n00:18:43.430 --> 00:18:44.770\nAll right, So ITProTV Role 1.\n\n396\n00:18:44.770 --> 00:18:47.880\nYou'll see this just quickly,\nsince we're here talking about it.\n\n397\n00:18:47.880 --> 00:18:50.460\nJust showing you how you can create\na custom role, so you could see that.\n\n398\n00:18:50.460 --> 00:18:53.412\nBut of course, we're not gonna be able to\nutilize that until we actually go through,\n\n399\n00:18:53.412 --> 00:18:55.570\nand populate some more stuff,\nand do some discovery.\n\n400\n00:18:55.570 --> 00:18:57.930\nSo we're gonna go and\nkick off our discovery.\n\n401\n00:18:57.930 --> 00:19:00.170\nSo let's go in,\nlet's go back up here to our Overview.\n\n402\n00:19:00.170 --> 00:19:03.485\nJust come back to the top here,\ngo back to Overview.\n\n403\n00:19:03.485 --> 00:19:05.910\nAnd we'll be able to pick\nup where we left off.\n\n404\n00:19:05.910 --> 00:19:08.810\nStart Server Discovery,\nso let's click there.\n\n405\n00:19:08.810 --> 00:19:10.752\nAnd you'll see that that has started.\n\n406\n00:19:10.752 --> 00:19:13.840\nNow you'll see here, I just extended this.\n\n407\n00:19:13.840 --> 00:19:17.280\nLet me move this back the other way,\ncuz it's hard to see everything now.\n\n408\n00:19:17.280 --> 00:19:20.775\nYou do see a little blue line tracking\nacross there, so we know it's running.\n\n409\n00:19:20.775 --> 00:19:25.360\nBut what I was going to show you, if I\ncan catch that, move that, there we go.\n\n410\n00:19:25.360 --> 00:19:25.970\nThere are one or\n\n411\n00:19:25.970 --> 00:19:29.080\nmore IPAM tests running in the task\nscheduler, please wait for completion.\n\n412\n00:19:29.080 --> 00:19:32.310\nSo it's telling us it's doing something,\nI showed you how we could look at that.\n\n413\n00:19:32.310 --> 00:19:34.800\nGo here to more, and we could go in.\n\n414\n00:19:34.800 --> 00:19:39.680\nWe could take a look, and\nsee that it is running right up here,\n\n415\n00:19:39.680 --> 00:19:41.650\nIPAM server discovery task.\n\n416\n00:19:41.650 --> 00:19:43.700\nSo, we can see that is running,\nand see the status of it.\n\n417\n00:19:43.700 --> 00:19:47.890\nIt's gonna run, it's gonna take\na little bit to do the discovery.\n\n418\n00:19:47.890 --> 00:19:50.650\nSo, we're going to wait for\nit to do its discovery.\n\n419\n00:19:50.650 --> 00:19:52.080\nOnce we're done, we'll come on back.\n\n420\n00:19:52.080 --> 00:19:54.900\nAnd, we'll show you what\nhappens after that, okay?\n\n421\n00:19:54.900 --> 00:19:55.890\n&gt;&gt; All right, sounds like a plan.\n\n422\n00:19:55.890 --> 00:19:57.230\nThank you for joining us today, Adam.\n\n423\n00:19:57.230 --> 00:19:58.740\nAnd thank you for joining us as well.\n\n424\n00:19:58.740 --> 00:20:00.970\nBut, for this show,\nwe're going to go ahead and sign out.\n\n425\n00:20:00.970 --> 00:20:02.490\nRemember, I'm your host, Cherokee Boose.\n\n426\n00:20:02.490 --> 00:20:03.760\n&gt;&gt; And I'm Adam Gordon.\n\n427\n00:20:03.760 --> 00:20:05.710\n&gt;&gt; See you next time, here on ITProTV.\n\n428\n00:20:05.710 --> 00:20:11.851\n[MUSIC]\n\n429\n00:20:11.851 --> 00:20:14.550\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217832014"
        },
        {
          "description": "In this episode, Cherokee and Adam continue provisioning IPAM. Adam shows how to select the servers you want to manage and verify IPAM access. Next, they walk through how to retrieve the requested info form selected servers.",
          "length": "1928",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-5-1-3-implementing_managing_ipam_pt3-051117.00_31_50_06.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-5-1-3-implementing_managing_ipam_pt3-051117.00_31_50_06.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-5-1-3-implementing_managing_ipam_pt3-051117.00_31_50_06.Still002-sm.jpg",
          "title": "Implementing and Managing IPAM Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:06.081\nWelcome to ITProTv I am\nyour host Don [CROSSTALK]\n\n2\n00:00:06.081 --> 00:00:08.121\n[MUSIC]\n\n3\n00:00:08.121 --> 00:00:11.689\n&gt;&gt; You're watching ITProTv.\n\n4\n00:00:11.689 --> 00:00:15.333\n&gt;&gt; Welcome to your Networking\nwith Windows Server 2016 series.\n\n5\n00:00:15.333 --> 00:00:17.810\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.810 --> 00:00:19.020\nIn the previous episode,\n\n7\n00:00:19.020 --> 00:00:24.160\nAdam was performing a demonstration,\nwalking us through an IPM setup.\n\n8\n00:00:24.160 --> 00:00:26.850\nAnd we'll go ahead and\ncontinue to do so in this episode.\n\n9\n00:00:26.850 --> 00:00:27.570\nSo how are you doing, Adam?\n\n10\n00:00:27.570 --> 00:00:28.940\nAre we ready to go here?\n\n11\n00:00:28.940 --> 00:00:31.000\n&gt;&gt; We are,\nwe finished our server discovery.\n\n12\n00:00:31.000 --> 00:00:33.000\nWe'll take a look at what that\nlooks like here momentarily.\n\n13\n00:00:33.000 --> 00:00:34.787\nAnd we're about to jump in,\nor we will go in.\n\n14\n00:00:34.787 --> 00:00:38.630\nSelect or add our servers,\nmanage and verify IPM access.\n\n15\n00:00:38.630 --> 00:00:40.240\nWe'll see that we have\na little bit of an issue,\n\n16\n00:00:40.240 --> 00:00:43.160\nwe're gonna use PowerShell to\nhelp us fix that up right now.\n\n17\n00:00:43.160 --> 00:00:44.131\nSo let's just take a look.\n\n18\n00:00:44.131 --> 00:00:45.710\nWe'll talk about what's going on here.\n\n19\n00:00:45.710 --> 00:00:50.020\nSo we did finish up, and I left it up so\nwe can see discovered servers, right,\n\n20\n00:00:50.020 --> 00:00:51.300\nwere finally found.\n\n21\n00:00:51.300 --> 00:00:54.537\nTook, I don't know maybe, what seven,\neight, nine minutes, something like that,\n\n22\n00:00:54.537 --> 00:00:55.590\nten minutes to run.\n\n23\n00:00:55.590 --> 00:00:57.900\nSo we could go in,\nwe can as we did here, click.\n\n24\n00:00:57.900 --> 00:01:01.710\nYou see it did complete so we could\nsee information about that right here.\n\n25\n00:01:01.710 --> 00:01:03.910\nAnd I didn't show you last time but\njust so you know.\n\n26\n00:01:03.910 --> 00:01:08.000\nDown at the bottom here\nin the console window,\n\n27\n00:01:08.000 --> 00:01:10.840\nwe also can see our scheduled tasks.\n\n28\n00:01:10.840 --> 00:01:14.170\nAnd we can see that they're running,\nserver discovery was set up.\n\n29\n00:01:14.170 --> 00:01:15.850\nIt said running and\nnow it says ready cuz it's finished.\n\n30\n00:01:15.850 --> 00:01:19.189\nSo I can see this view in a couple of\ndifferent places depending on where I'm\n\n31\n00:01:19.189 --> 00:01:19.890\ngoing to look.\n\n32\n00:01:19.890 --> 00:01:23.340\nWe did talk about all those tasks when I\nwas doing the provisioning and I said,\n\n33\n00:01:23.340 --> 00:01:25.000\nhey look,\nthis is essentially what's gonna happen.\n\n34\n00:01:25.000 --> 00:01:27.940\nWe're gonna set up the server,\nwe'll put the database in.\n\n35\n00:01:27.940 --> 00:01:29.050\nWe'll do this, we'll do that and\n\n36\n00:01:29.050 --> 00:01:32.170\nthere's gonna be some scheduled tasks\nthat'll get configured and set up for us.\n\n37\n00:01:32.170 --> 00:01:33.300\nAnd you could see they're listed here.\n\n38\n00:01:33.300 --> 00:01:35.220\nSo if you wanted to see what they are,\n\n39\n00:01:35.220 --> 00:01:38.520\nyou can actually see them and\nsee the last time they ran right here.\n\n40\n00:01:38.520 --> 00:01:40.090\nAnd notice some of them have not run yet.\n\n41\n00:01:40.090 --> 00:01:43.280\nWe haven't done an audit for instance\nbecause we didn't have a reason to.\n\n42\n00:01:43.280 --> 00:01:44.430\nWe haven't found anything yet, so\n\n43\n00:01:44.430 --> 00:01:47.370\nit'd be hard to audit something we\ndon't even know that we have, right?\n\n44\n00:01:47.370 --> 00:01:49.510\nBut you could see all\nthe scheduled tasks right here, and\n\n45\n00:01:49.510 --> 00:01:52.780\nyou can see they're listed right down\nhere at the bottom of the console.\n\n46\n00:01:52.780 --> 00:01:55.760\nAll right, so we're back up here,\nselect or add service to manage and\n\n47\n00:01:55.760 --> 00:01:57.720\nverify IPM access, let's click here.\n\n48\n00:01:57.720 --> 00:01:59.520\nNow what we're gonna see, and\n\n49\n00:01:59.520 --> 00:02:01.630\nnotice all it did was just drop\nus down to server inventory.\n\n50\n00:02:01.630 --> 00:02:04.209\nWe could have come right here and\njust gone to server inventory.\n\n51\n00:02:04.209 --> 00:02:07.240\nBut you'll see that we do have\na recommended action here.\n\n52\n00:02:07.240 --> 00:02:12.103\nIt says, hey, set manageability\nstatus because IPM access status\n\n53\n00:02:12.103 --> 00:02:16.775\nis blocked on this server for\npracticelabs.com.\n\n54\n00:02:16.775 --> 00:02:18.622\nSo what we're saying is essentially, hey,\n\n55\n00:02:18.622 --> 00:02:21.425\nwe may have a issue that we just\nhave to go in, we have to address.\n\n56\n00:02:21.425 --> 00:02:24.345\nAnd so what we're gonna do is\nwe're gonna go in and fix this.\n\n57\n00:02:24.345 --> 00:02:26.385\nWe're gonna use PowerShell to go in and\n\n58\n00:02:26.385 --> 00:02:30.455\ninvoke our IPM GPO provisioning and\nwe're gonna specify our domain.\n\n59\n00:02:30.455 --> 00:02:33.325\nAnd we're gonna go ahead and\nspecify our prefix name.\n\n60\n00:02:33.325 --> 00:02:38.776\nIf you remember, we configured that as\npart of our initial standup of the server,\n\n61\n00:02:38.776 --> 00:02:41.309\nthe plabs-ipam prefix for our GPOs.\n\n62\n00:02:41.309 --> 00:02:42.090\nAnd we're gonna step that up.\n\n63\n00:02:42.090 --> 00:02:45.170\nAnd we're gonna specify\nthe IPM server FQDN and\n\n64\n00:02:45.170 --> 00:02:48.050\nthe delegated.GPOuser administrator.\n\n65\n00:02:48.050 --> 00:02:52.589\nAnd I have all that just typed out already\nin Notepad just because I didn't want to\n\n66\n00:02:52.589 --> 00:02:54.805\nhave to type this all in on the console.\n\n67\n00:02:54.805 --> 00:02:57.560\nAnd subject you all to the-\n&gt;&gt; [LAUGH] Well thank you.\n\n68\n00:02:57.560 --> 00:02:59.636\n&gt;&gt; Insaneness of me typing, so\n\n69\n00:02:59.636 --> 00:03:04.570\nI'm just gonna do a Ctrl+A here to\nhighlight and a Ctrl+C to copy.\n\n70\n00:03:05.950 --> 00:03:08.460\nAnd you'll see that, and\nactually let me do this,\n\n71\n00:03:08.460 --> 00:03:11.400\nlet me just get rid of this little\nannoying copy box when we do that.\n\n72\n00:03:11.400 --> 00:03:13.390\nBut let me do this.\n\n73\n00:03:13.390 --> 00:03:14.098\nWhat I want to do.\n\n74\n00:03:14.098 --> 00:03:16.080\nI'm just gonna do it this way so\nyou can see, but\n\n75\n00:03:16.080 --> 00:03:19.420\nI don't want to get all the spaces at the\nend of that and have a bunch of spaces.\n\n76\n00:03:19.420 --> 00:03:22.144\nBut you can see, I'm basically just\ngonna use this PowerShell script.\n\n77\n00:03:22.144 --> 00:03:24.819\nI'm just gonna highlight\ngoing backwards here and\n\n78\n00:03:24.819 --> 00:03:28.010\ncopy just once we get\neverything without the spaces.\n\n79\n00:03:28.010 --> 00:03:31.374\nWe're gonna take a copy of that and\nthen we're gonna go ahead and\n\n80\n00:03:31.374 --> 00:03:33.570\nwe're gonna drop this in to PowerShell.\n\n81\n00:03:33.570 --> 00:03:35.897\nWe do have PowerShell\nopened up right here.\n\n82\n00:03:35.897 --> 00:03:37.674\nSo we'll just put that in right there.\n\n83\n00:03:40.750 --> 00:03:46.150\nAnd you can see we're using\nthe Invoke-IpamGpoProvisioning cmdlet.\n\n84\n00:03:46.150 --> 00:03:48.530\nSpecify the domain names,\nspecify the GPO prefix,\n\n85\n00:03:48.530 --> 00:03:51.830\nand it all kinda wraps around there but\nit's plabs-ipam.\n\n86\n00:03:51.830 --> 00:03:52.916\nAnd then.\n\n87\n00:03:52.916 --> 00:03:55.883\n&gt;&gt; And\nwe're sure that's the name of the server?\n\n88\n00:03:55.883 --> 00:03:56.515\nThe IPAM server.\n\n89\n00:03:56.515 --> 00:03:59.900\n&gt;&gt; We're sure of nothing, but we're\nassuming that's the name and if it's not.\n\n90\n00:03:59.900 --> 00:04:01.540\n&gt;&gt; We're hoping.\n&gt;&gt; Well, then you'll be patient and\n\n91\n00:04:01.540 --> 00:04:02.360\nwait for me to fix it.\n\n92\n00:04:02.360 --> 00:04:04.190\nThat's just the way it's gonna be.\n\n93\n00:04:04.190 --> 00:04:06.430\nDon't be harshing my\nmellow here with IPAM,\n\n94\n00:04:06.430 --> 00:04:08.280\ncome on have a little faith, will you?\n\n95\n00:04:08.280 --> 00:04:10.129\nI've done this at least\nhalf a time before, right.\n\n96\n00:04:10.129 --> 00:04:11.032\n&gt;&gt; [LAUGH]\n&gt;&gt; It should work.\n\n97\n00:04:11.032 --> 00:04:12.840\nAll right, so we do have all that.\n\n98\n00:04:12.840 --> 00:04:14.630\nYes, we are sure that is the name.\n\n99\n00:04:14.630 --> 00:04:17.105\nAnd we do have IPAM server FTDN.\n\n100\n00:04:17.105 --> 00:04:20.430\nWe're specifying, as you could see here,\nthe FQDN of the machine,\n\n101\n00:04:20.430 --> 00:04:24.690\nthe IPM server that's the plab,\nDM01 machine that we're on right here.\n\n102\n00:04:25.880 --> 00:04:29.380\nAnd then the delegated GPO user for\nadministrator, right.\n\n103\n00:04:29.380 --> 00:04:31.180\nSo we're gonna go ahead, gonna hit that.\n\n104\n00:04:31.180 --> 00:04:33.730\nWe'll give that just\na second to go do its thing.\n\n105\n00:04:33.730 --> 00:04:38.928\nAnd you'll see it comes up, prompts us and\nsays, hey, we're gonna go in.\n\n106\n00:04:38.928 --> 00:04:42.528\nAnd while we're about to do this,\nit says the invoke cmdlet creates and\n\n107\n00:04:42.528 --> 00:04:45.888\nlinks three GPL objects,\nthe ones we were talking about, right.\n\n108\n00:04:45.888 --> 00:04:49.327\nAnd the domain indicated by the domain\nparameter, for provisioning,\n\n109\n00:04:49.327 --> 00:04:50.565\naccess settings, etc.\n\n110\n00:04:50.565 --> 00:04:55.455\nCmdlet also modifies the domain wide DNS\nACL to enable us to then be able to grant\n\n111\n00:04:55.455 --> 00:04:58.770\naccess to the IPAM server so\nwe can get access to this information.\n\n112\n00:04:58.770 --> 00:05:01.590\nThis is the part that is giving us\nthe little, hey, required action,\n\n113\n00:05:01.590 --> 00:05:03.660\ndo something prompt in the console.\n\n114\n00:05:03.660 --> 00:05:05.854\nCuz we haven't specified\nthat we have access and\n\n115\n00:05:05.854 --> 00:05:07.631\nrights to all the DNS information yet.\n\n116\n00:05:07.631 --> 00:05:10.990\nThis cmdlet's gonna help us to do this and\nset this up.\n\n117\n00:05:10.990 --> 00:05:14.790\nSo it's saying the value of the GPO prefix\nname here must be the same as the one\n\n118\n00:05:14.790 --> 00:05:18.380\nprovided by the IPM provisioning\nwizard when selecting the option for\n\n119\n00:05:18.380 --> 00:05:19.550\ngroup policy-based provision.\n\n120\n00:05:19.550 --> 00:05:20.560\nRemember, I did that.\n\n121\n00:05:20.560 --> 00:05:22.580\nThats the thing that\nCherokee was referring to.\n\n122\n00:05:22.580 --> 00:05:23.760\nShe said, hey, are you sure?\n\n123\n00:05:23.760 --> 00:05:26.110\nYou wrote that in and\nthats what you did in the console.\n\n124\n00:05:26.110 --> 00:05:29.835\nPlabs-, I know its kind of cut off up\nthere cuz it kind of scrolls over but,\n\n125\n00:05:29.835 --> 00:05:31.350\nplabs-ipam.\n\n126\n00:05:31.350 --> 00:05:32.923\nThat information is what\nwe're talking about.\n\n127\n00:05:32.923 --> 00:05:36.643\nThat has to be the same, that's what\nCherokee was reminding me to make sure\n\n128\n00:05:36.643 --> 00:05:38.665\nthat I had actually typed in correctly.\n\n129\n00:05:38.665 --> 00:05:41.365\nAnd that we do know that\nthat is consistent, right?\n\n130\n00:05:41.365 --> 00:05:43.164\nSo, faith, faith, right, faith?\n\n131\n00:05:43.164 --> 00:05:44.689\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay, all right, good,\n\n132\n00:05:44.689 --> 00:05:45.795\nso we're gonna do this.\n\n133\n00:05:45.795 --> 00:05:49.665\nAll right, so it's asking us there, hey,\nare we sure, do you wanna provide or\n\n134\n00:05:49.665 --> 00:05:51.095\nrather do you wanna perform this action?\n\n135\n00:05:51.095 --> 00:05:52.375\nWell, of course we do, right?\n\n136\n00:05:52.375 --> 00:05:54.140\nSo let's hit Yes there.\n\n137\n00:05:54.140 --> 00:05:55.096\nLet's go give it its thing.\n\n138\n00:05:55.096 --> 00:06:01.464\nProvisioning IPAM, validating parameters,\ncreating GPOs, importing GPOs.\n\n139\n00:06:01.464 --> 00:06:03.548\nIt'd be great if this talked to you,\nright?\n\n140\n00:06:03.548 --> 00:06:05.202\n&gt;&gt; [LAUGH]\n&gt;&gt; I am now importing GPOs,\n\n141\n00:06:05.202 --> 00:06:07.370\nplease wait while I do that.\n\n142\n00:06:07.370 --> 00:06:09.260\nAnd then it was linking,\nand boom, it's done.\n\n143\n00:06:09.260 --> 00:06:11.575\nAnd so, by the way, ha.\n\n144\n00:06:11.575 --> 00:06:12.900\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay cuz it works.\n\n145\n00:06:12.900 --> 00:06:14.210\n&gt;&gt; Good job, Adam.\n\n146\n00:06:14.210 --> 00:06:17.470\n&gt;&gt; All right,\nyou have no faith in me, none.\n\n147\n00:06:17.470 --> 00:06:19.930\nYou should've seen her before we came one,\nshe was like are you sure,\n\n148\n00:06:19.930 --> 00:06:21.945\nare you positive, did you get it,\ndo you know what it is?\n\n149\n00:06:21.945 --> 00:06:24.251\n&gt;&gt; [LAUGH] I couldn't remember\nwhat [CROSSTALK] means.\n\n150\n00:06:24.251 --> 00:06:27.250\nIt's from the previous episodes so\nI didn't know if you could remember too.\n\n151\n00:06:27.250 --> 00:06:28.545\nI'm like what did you name it?\n\n152\n00:06:28.545 --> 00:06:30.890\n[LAUGH]\n&gt;&gt; It's not right, it's not gonna work.\n\n153\n00:06:30.890 --> 00:06:33.458\nI said,\ndon't worry it's gonna work, right?\n\n154\n00:06:33.458 --> 00:06:36.080\nI should have typed it wrong just\non purpose just to freak her out.\n\n155\n00:06:36.080 --> 00:06:38.350\nAll right, so you could see here\nthat went through no problem.\n\n156\n00:06:38.350 --> 00:06:42.026\nRight, and so now it says, hey, by the\nway, group policy requires each computer\n\n157\n00:06:42.026 --> 00:06:44.317\nhad to have permissions to\nread GPO data In order for\n\n158\n00:06:44.317 --> 00:06:45.779\nus to be able to do this, right.\n\n159\n00:06:45.779 --> 00:06:47.420\nFor more information please see.\n\n160\n00:06:47.420 --> 00:06:50.370\nSo gives us a little link, tells us\nwhat's going on about that, that's nice.\n\n161\n00:06:50.370 --> 00:06:52.970\nBy the way, none of that stuff's\nrelated to this question right here.\n\n162\n00:06:52.970 --> 00:06:55.280\nIt says, hey do you wanna continue,\nmeaning,\n\n163\n00:06:55.280 --> 00:06:57.340\nis there something else you want to do,\nright?\n\n164\n00:06:57.340 --> 00:07:00.070\nWell, yeah, no, I don't have anything\nelse I want to do or any of the policies.\n\n165\n00:07:00.070 --> 00:07:02.840\nSo I'm just gonna click No,\nand we're good right?\n\n166\n00:07:02.840 --> 00:07:03.500\nThat's it.\n\n167\n00:07:03.500 --> 00:07:06.660\nSo we went ahead and we did that.\n\n168\n00:07:06.660 --> 00:07:09.195\nAnd so just make sure.\n\n169\n00:07:12.240 --> 00:07:13.510\nTry that one more time.\n\n170\n00:07:14.850 --> 00:07:16.490\nOkay, yeah,\nyeah just make sure it actually did that.\n\n171\n00:07:16.490 --> 00:07:18.340\nAll right, good,\nall right, so we are good.\n\n172\n00:07:18.340 --> 00:07:20.380\nAll right, so\nwe're just gonna minimize there.\n\n173\n00:07:20.380 --> 00:07:27.431\nAll right, so [COUGH] once we have\ndone that, we've set that up.\n\n174\n00:07:27.431 --> 00:07:30.583\nAnd we've been able to go in and\nconfigure all that.\n\n175\n00:07:30.583 --> 00:07:32.891\nWhat we're going to do\nnow is go do a gpupdate.\n\n176\n00:07:32.891 --> 00:07:36.273\nAnd we're gonna go in and force\nan update of the group policies, right.\n\n177\n00:07:36.273 --> 00:07:38.540\nSo you could see nothing's changed yet.\n\n178\n00:07:38.540 --> 00:07:41.961\nSo we're gonna go in,\ngo back to Powershell here.\n\n179\n00:07:41.961 --> 00:07:45.473\nAnd let's do the following.\n\n180\n00:07:45.473 --> 00:07:52.152\nLet me do this, just let me clear\nthe screen out here real quick.\n\n181\n00:07:52.152 --> 00:07:54.198\nJust give us a little room\njust to be able to work with.\n\n182\n00:07:54.198 --> 00:07:58.016\nAll right, so now what we're gonna do,\nactually you know what I'm gonna do is we\n\n183\n00:07:58.016 --> 00:08:01.460\ngot that crazy Information down at\nthe bottom of the PowerShell window.\n\n184\n00:08:01.460 --> 00:08:04.640\nAgain, that happens sometimes,\nit just didn't clear itself.\n\n185\n00:08:04.640 --> 00:08:08.160\nSo let me just come in here, just open\nPowerShell back up just to make sure that\n\n186\n00:08:08.160 --> 00:08:11.910\nit is clear of any remnants of\nthe commands, things like that.\n\n187\n00:08:11.910 --> 00:08:14.270\nSometimes you get some\ncrazy things that happen.\n\n188\n00:08:14.270 --> 00:08:17.120\nLet me just extend the console back out so\nyou guys can see it and\n\n189\n00:08:17.120 --> 00:08:19.450\nmake it a little bit easier for\nyou to read what we're doing.\n\n190\n00:08:19.450 --> 00:08:22.572\nWe're just gonna do a gpupdate /force,\nnothing too crazy, but\n\n191\n00:08:22.572 --> 00:08:24.570\njust this way you can actually see it.\n\n192\n00:08:24.570 --> 00:08:26.714\nIt's nice and clean, got no issues there.\n\n193\n00:08:26.714 --> 00:08:29.897\nAll right so, let's make sure we\nspell gpupdate correctly this time,\n\n194\n00:08:29.897 --> 00:08:33.468\nbecause you know, last time I did\nupdate or something crazy like that.\n\n195\n00:08:33.468 --> 00:08:39.597\nAll right, so gpupdate /force, just do\nan update on the policy here real quick.\n\n196\n00:08:39.597 --> 00:08:43.020\nAll right, so we should get that going,\nit shouldn't take too long.\n\n197\n00:08:43.020 --> 00:08:45.009\nAnd once we have that up and running.\n\n198\n00:08:49.805 --> 00:08:51.204\nOkay, so we've got that.\n\n199\n00:08:51.204 --> 00:08:52.110\nAll right, good.\n\n200\n00:08:52.110 --> 00:08:53.876\nSo now we're gonna come back in here.\n\n201\n00:08:53.876 --> 00:08:56.409\nNow what we're gonna do is the following.\n\n202\n00:08:56.409 --> 00:09:01.159\nWe're gonna go in, and\nI'm gonna close this Server Manager out.\n\n203\n00:09:01.159 --> 00:09:05.880\nI'm just gonna reopen it, right,\njust to get that up and running again.\n\n204\n00:09:05.880 --> 00:09:07.510\nSo let's just go ahead.\n\n205\n00:09:07.510 --> 00:09:10.120\nJust go here,\nlet's go back to Server Manager.\n\n206\n00:09:10.120 --> 00:09:13.425\nJust do a quick refresh on it,\nbring it back up again.\n\n207\n00:09:13.425 --> 00:09:17.184\nLet it find all the stuff\nwe have going on there.\n\n208\n00:09:17.184 --> 00:09:18.890\nGive it just a minute.\n\n209\n00:09:18.890 --> 00:09:22.110\nThere is our ipen right there so\nlet's just click back in there.\n\n210\n00:09:23.630 --> 00:09:25.537\nGo back in on our Overview there.\n\n211\n00:09:25.537 --> 00:09:28.176\nAll right, so we'll go back\nover here to server inventory.\n\n212\n00:09:28.176 --> 00:09:29.021\nAll right, so\n\n213\n00:09:29.021 --> 00:09:33.388\nnow what we're going to do is got our\nIPv4 window opened up right there and\n\n214\n00:09:33.388 --> 00:09:38.495\nwe're gonna right click and we're gonna go\nahead and we're gonna do the following.\n\n215\n00:09:38.495 --> 00:09:41.080\nAnd do Edit Server,\nright here on our little, hey,\n\n216\n00:09:41.080 --> 00:09:43.470\nyou should pay attention and do something.\n\n217\n00:09:43.470 --> 00:09:45.835\nSo, we're gonna go ahead and\ndo an Edit Server.\n\n218\n00:09:45.835 --> 00:09:48.513\nNow what we're gonna do,\nlet me just bring this over here actually,\n\n219\n00:09:48.513 --> 00:09:50.370\nyou know what I'm gonna\nmake this full screen.\n\n220\n00:09:50.370 --> 00:09:51.970\nA little bit easier for you to see.\n\n221\n00:09:51.970 --> 00:09:55.640\nAnd you should other than the OK button at\nthe bottom which really isn't probably all\n\n222\n00:09:55.640 --> 00:09:58.040\nthat big of a deal for the moment,\nyou're seeing everything on the screen so\n\n223\n00:09:58.040 --> 00:09:59.330\nyou are not missing anything.\n\n224\n00:09:59.330 --> 00:10:02.420\nSo now what we're gonna do is just take\na look at some of the configuration\n\n225\n00:10:02.420 --> 00:10:03.820\ninformation in here.\n\n226\n00:10:03.820 --> 00:10:05.430\nSo what we're gonna do is go in and\n\n227\n00:10:05.430 --> 00:10:08.750\nwe're gonna add our editor\non the add edit server.\n\n228\n00:10:08.750 --> 00:10:11.970\nWe're gonna go in, we're gonna\nsee our server type right here.\n\n229\n00:10:11.970 --> 00:10:16.100\nYou can see DC, DNS, DHCP, server, right?\n\n230\n00:10:16.100 --> 00:10:18.240\nAnd, making sure we\nhave all those enabled.\n\n231\n00:10:18.240 --> 00:10:19.870\nAnd we know they're enabled,\nwe checked this before and\n\n232\n00:10:19.870 --> 00:10:22.550\nwe know we have them set up,\nwhen we did our discovery.\n\n233\n00:10:22.550 --> 00:10:25.220\nWe're just checking to make sure\neverything is set up the right way.\n\n234\n00:10:25.220 --> 00:10:29.860\nYou'll see here,\nunder Manageability Status, all right?\n\n235\n00:10:29.860 --> 00:10:30.980\nRight now, it's unspecified.\n\n236\n00:10:30.980 --> 00:10:32.940\nWe're gonna change that\nout in just a minute.\n\n237\n00:10:32.940 --> 00:10:34.220\nBut notice that, if we had to,\n\n238\n00:10:34.220 --> 00:10:36.914\nwe could add the Network Policy Server\nin here, NPS.\n\n239\n00:10:36.914 --> 00:10:40.540\nNetwork Policy Server,\nthat maybe important at some point.\n\n240\n00:10:40.540 --> 00:10:42.794\nSo unspecified, we're gonna choose here,\n\n241\n00:10:42.794 --> 00:10:45.299\nchange this to manageability\nstatus to managed.\n\n242\n00:10:45.299 --> 00:10:48.939\nSo we're gonna come in here, specify\nthat to Managed, we're gonna press OK.\n\n243\n00:10:48.939 --> 00:10:53.255\nAnd we're gonna come back here and we're\ngonna refresh our server access status and\n\n244\n00:10:53.255 --> 00:10:54.360\nget that to change.\n\n245\n00:10:54.360 --> 00:10:56.745\nSo I'm gonna click OK,\nagain the bottom button is just,\n\n246\n00:10:56.745 --> 00:10:59.838\nrather the button is right below me here,\nyou're not missing anything.\n\n247\n00:10:59.838 --> 00:11:02.890\nYou don't need to see, you know what an OK\nbutton looks like in other words, right?\n\n248\n00:11:02.890 --> 00:11:05.700\nI'm just clicking OK at\nlower right hand corner.\n\n249\n00:11:05.700 --> 00:11:11.370\nClick OK, give that just a second and\nupdating the IPM GPO failed, awesome.\n\n250\n00:11:11.370 --> 00:11:15.010\nOkay, so that is actually a problem,\nso let's see.\n\n251\n00:11:15.010 --> 00:11:15.874\nSo it looks like, and\n\n252\n00:11:15.874 --> 00:11:18.706\nlet's just read what's going on cuz\nnormally we should not get that.\n\n253\n00:11:18.706 --> 00:11:22.510\nWe should just actually have\nour policy being applied.\n\n254\n00:11:22.510 --> 00:11:24.900\nBut on occasion, things go wrong,\nand you never know.\n\n255\n00:11:24.900 --> 00:11:26.102\nBut, we're gonna read our error code,\n\n256\n00:11:26.102 --> 00:11:27.580\nwe're gonna find out what\nactually happened here.\n\n257\n00:11:27.580 --> 00:11:30.962\nSo, automated deployment settings\nin failed the following error,\n\n258\n00:11:30.962 --> 00:11:31.960\nattempt to modify.\n\n259\n00:11:31.960 --> 00:11:35.469\nFor server failed,\nensure you IPAM, GPOs exist and\n\n260\n00:11:35.469 --> 00:11:39.242\nIPAM service computer access\nhas permissions to edit.\n\n261\n00:11:39.242 --> 00:11:41.975\nAll right, so looks like either\nwe have a permission problem,\n\n262\n00:11:41.975 --> 00:11:47.760\nand/or that our GPOs may not\nhave been provisioned properly.\n\n263\n00:11:47.760 --> 00:11:51.100\nIt looked like PowerShell was acting\na little funny when I went to say no and\n\n264\n00:11:51.100 --> 00:11:54.056\nremember it kind of repeated,\ndidn't kick out of the console.\n\n265\n00:11:54.056 --> 00:11:57.680\nPowerShell may have not actually finalized\neven though it did come back and\n\n266\n00:11:57.680 --> 00:11:59.250\nkind of say it looked like it worked.\n\n267\n00:11:59.250 --> 00:12:01.860\nIt may actually have given us a problem,\ncuz it does look like it did.\n\n268\n00:12:01.860 --> 00:12:03.813\nSo let's retry.\n\n269\n00:12:03.813 --> 00:12:06.552\nAll right, so\nit doesn't look like it's finding it.\n\n270\n00:12:06.552 --> 00:12:11.110\nYou can see now that it is on\nfrom warning to actually failure.\n\n271\n00:12:11.110 --> 00:12:13.648\nSo we may have to restart our domain\ncontroller to fix this problem and\n\n272\n00:12:13.648 --> 00:12:15.030\nsee if the policies are there.\n\n273\n00:12:15.030 --> 00:12:17.643\nBut perhaps they're just not registering,\nbecause remember,\n\n274\n00:12:17.643 --> 00:12:20.254\nwe did do the policies that looked\nlike the wizard in PowerShell,\n\n275\n00:12:20.254 --> 00:12:22.360\nnot the wizard rather,\nthe PowerShell script ran.\n\n276\n00:12:22.360 --> 00:12:25.396\nLooked liked everything was successful,\ndidn't come back and\n\n277\n00:12:25.396 --> 00:12:28.270\ngive us any errors and\nit looked like it had completed.\n\n278\n00:12:28.270 --> 00:12:31.290\nBut even though we did the gpupdate\n/force, maybe the policies for\n\n279\n00:12:31.290 --> 00:12:32.980\nsome reason were not applied properly.\n\n280\n00:12:32.980 --> 00:12:35.012\nSo what we're gonna do\nis just take a moment.\n\n281\n00:12:35.012 --> 00:12:37.050\nI'm gonna restart both machines,\n\n282\n00:12:37.050 --> 00:12:39.465\nbring them back up,\nlet them talk to each other for a minute.\n\n283\n00:12:39.465 --> 00:12:41.292\nWe'll verify that this is working.\n\n284\n00:12:41.292 --> 00:12:43.780\nIf it's nothing more than just\na communication problem or\n\n285\n00:12:43.780 --> 00:12:47.730\nthe policy is just not setting up\nproperly at the domain controller and\n\n286\n00:12:47.730 --> 00:12:50.360\nreplicating and\ntherefore forcing the update here.\n\n287\n00:12:50.360 --> 00:12:53.100\nMay not have pulled them down\nbecause maybe they were in flux.\n\n288\n00:12:53.100 --> 00:12:55.230\nWe'll be able to fix that with\na restart with no problem.\n\n289\n00:12:55.230 --> 00:12:58.010\nIf it's something more involved,\nthen we'll dig into it and figure out what\n\n290\n00:12:58.010 --> 00:13:01.090\nthe troubleshooting issues are that\nwe'll address and walk through that.\n\n291\n00:13:01.090 --> 00:13:02.630\nBut let me go ahead and restart.\n\n292\n00:13:02.630 --> 00:13:04.800\nSo we're gonna ask you to be\npatient here for just a minute.\n\n293\n00:13:04.800 --> 00:13:06.550\nYou're not gonna wanna\nwatch me restart these.\n\n294\n00:13:06.550 --> 00:13:09.238\nSo I'm gonna restart them, we're gonna\ncome back with them up and running and\n\n295\n00:13:09.238 --> 00:13:10.757\nhopefully having this already worked out.\n\n296\n00:13:10.757 --> 00:13:12.459\nAnd we'll see you in just\na moment while we do that.\n\n297\n00:13:14.240 --> 00:13:16.550\nAll right, so look, we fixed our problem.\n\n298\n00:13:16.550 --> 00:13:17.980\nLet me explain what went wrong here.\n\n299\n00:13:17.980 --> 00:13:20.420\nThis is something that does happens\nsometimes in the real world.\n\n300\n00:13:20.420 --> 00:13:23.042\nBut you could see, just as I could\nrender to show you what's going on.\n\n301\n00:13:23.042 --> 00:13:26.559\nThis was successful in the interim just\nwhile we said, hey, let's take a break for\n\n302\n00:13:26.559 --> 00:13:27.500\njust a quick second.\n\n303\n00:13:27.500 --> 00:13:29.450\nLet me figure out what's\ngoing on with that error and\n\n304\n00:13:29.450 --> 00:13:32.140\nI told you I was gonna restart\nboth machines and I did.\n\n305\n00:13:32.140 --> 00:13:34.610\nWhat I actually did was I thought\nbetter than that, and I shut them down.\n\n306\n00:13:34.610 --> 00:13:36.100\nNow, let me explain the difference.\n\n307\n00:13:36.100 --> 00:13:38.790\nIf the error is in memory and\n\n308\n00:13:38.790 --> 00:13:42.110\nyou restart you're not necessarily\nguaranteed you're gonna clear the error.\n\n309\n00:13:42.110 --> 00:13:44.660\nWhereas if you shut down the machine,\nI understand in the real world\n\n310\n00:13:44.660 --> 00:13:47.130\nI'm gonna be able to just shut\na production server off so easily.\n\n311\n00:13:47.130 --> 00:13:48.681\nBut if you've gotta restart it\nyou might as well shut it down.\n\n312\n00:13:48.681 --> 00:13:50.390\nSo it doesn't really matter.\n\n313\n00:13:50.390 --> 00:13:53.180\nSo either way, but\nwhat I did is I shut them down,\n\n314\n00:13:53.180 --> 00:13:56.260\njust to clear whatever was\ngoing on in memory with them.\n\n315\n00:13:56.260 --> 00:13:59.564\nBut I think what the problem was,\nbecause you can see now clearly,\n\n316\n00:13:59.564 --> 00:14:03.399\nthe minute I did that, brought these\nback up, brought backup the IPM panel,\n\n317\n00:14:03.399 --> 00:14:06.547\njust went in, right clicked and\nwent ahead and tried it again.\n\n318\n00:14:06.547 --> 00:14:10.136\nIt came up, within about 30 seconds and\nwent green.\n\n319\n00:14:10.136 --> 00:14:13.070\nWhat I think the problem was,\nwas the following.\n\n320\n00:14:13.070 --> 00:14:15.910\nAnd let me show you here.\n\n321\n00:14:15.910 --> 00:14:17.780\nSo when we go into our domain controller,\n\n322\n00:14:17.780 --> 00:14:21.490\nwe're on our domain controller where our\ngroup policies would have been created and\n\n323\n00:14:21.490 --> 00:14:24.670\nindeed they are cuz we know\nthat they were created.\n\n324\n00:14:24.670 --> 00:14:25.820\nWe could see them here, by the way.\n\n325\n00:14:25.820 --> 00:14:27.730\nSo welcome to group policy wizard.\n\n326\n00:14:27.730 --> 00:14:29.760\nWasn't supposed to be part of the demo but\nyou know what?\n\n327\n00:14:29.760 --> 00:14:31.287\nWe're gonna show you\nwhere they are anyway.\n\n328\n00:14:31.287 --> 00:14:35.209\nSo you could see our group policies that\nwe were talking about through PowerShell\n\n329\n00:14:35.209 --> 00:14:36.760\nwhen we ran that script.\n\n330\n00:14:36.760 --> 00:14:40.030\nActually, R stood up and configured\nhere and what happens sometimes and\n\n331\n00:14:40.030 --> 00:14:42.660\nmost likely what happened\nhere is a timing issue.\n\n332\n00:14:42.660 --> 00:14:43.370\nSequencing and\n\n333\n00:14:43.370 --> 00:14:48.170\ntiming is everything in life, and the\nerror indicated that the group policies\n\n334\n00:14:48.170 --> 00:14:50.970\nwere either not available and/or\nwe didn't have permission.\n\n335\n00:14:50.970 --> 00:14:55.060\nNow I know it wasn't a permission issue\neven though it says, hey, maybe it was.\n\n336\n00:14:55.060 --> 00:14:59.250\nWe're logged on as a domain admin,\nwe're on a domain joined machine.\n\n337\n00:14:59.250 --> 00:15:01.917\nThere's no way it was a permission\nissue so we can safely eliminate that.\n\n338\n00:15:01.917 --> 00:15:04.490\nEven though it's a possibility,\nwe can safely eliminate that.\n\n339\n00:15:04.490 --> 00:15:07.150\nNo reason to even go think about\ntroubleshooting that because\n\n340\n00:15:07.150 --> 00:15:08.800\nwe're not using an aliased account.\n\n341\n00:15:08.800 --> 00:15:11.210\nWe're not using an account\nthat won't have admin rights,\n\n342\n00:15:11.210 --> 00:15:13.100\ncuz we're logged on as a domain admin.\n\n343\n00:15:13.100 --> 00:15:16.030\nIf that account failed, we don't have\nrights, we have bigger issues, right?\n\n344\n00:15:16.030 --> 00:15:18.280\nSo we know for\na fact that wasn't the issue.\n\n345\n00:15:18.280 --> 00:15:22.300\nBut the other thing that that error code\ntold us or that screen told us was hey,\n\n346\n00:15:22.300 --> 00:15:23.900\nmaybe it's group policy issue.\n\n347\n00:15:23.900 --> 00:15:27.050\nMaybe the policies are not there or\nmaybe there was an error creating them.\n\n348\n00:15:27.050 --> 00:15:29.770\nWell, I was pretty confident there\nwasn't an error creating them, but\n\n349\n00:15:29.770 --> 00:15:33.320\nI was not 100% confident that\nthey actually were there.\n\n350\n00:15:33.320 --> 00:15:36.240\nAnd what I mean by that is they\nwere created because I know that\n\n351\n00:15:36.240 --> 00:15:38.440\nPowerShell would have come back and\nyelled at me and\n\n352\n00:15:38.440 --> 00:15:41.840\nsaid, I had an error trying to get\nin there and write those policies.\n\n353\n00:15:41.840 --> 00:15:45.473\nThat's yet another reason why I know by\nthe way that it wasn't a permission issue\n\n354\n00:15:45.473 --> 00:15:47.137\nand it wasn't a user account issue.\n\n355\n00:15:47.137 --> 00:15:50.594\nPowerShell would have thrown an exception\nand said, I tried to do this and\n\n356\n00:15:50.594 --> 00:15:54.272\nI couldn't do it, because the permission\nyou told me you were giving me to do it\n\n357\n00:15:54.272 --> 00:15:55.306\nwas not sufficient.\n\n358\n00:15:55.306 --> 00:15:56.036\nIn other words,\n\n359\n00:15:56.036 --> 00:15:59.435\nwould have seen that angry red script\non the screen saying there's an error.\n\n360\n00:15:59.435 --> 00:16:02.090\nYou're familiar with that,\nevery time I type something we get that,\n\n361\n00:16:02.090 --> 00:16:03.126\ncuz I can't type, right?\n\n362\n00:16:03.126 --> 00:16:04.620\nSo you always see that.\n\n363\n00:16:04.620 --> 00:16:06.422\nBut I know for\na fact it didn't happen here.\n\n364\n00:16:06.422 --> 00:16:10.452\nAnd as a result of that I was a 100%\nsure no permission issue, and\n\n365\n00:16:10.452 --> 00:16:14.078\nI was a 100% sure those group\npolicies had been created.\n\n366\n00:16:14.078 --> 00:16:15.761\nI didn't even need to go look, but\n\n367\n00:16:15.761 --> 00:16:19.603\nwhat I wasn't 100% sure of was whether\nthey were finished being created.\n\n368\n00:16:19.603 --> 00:16:24.289\nStood up and referenced within the 10\nseconds, 20 seconds, a minute whatever it\n\n369\n00:16:24.289 --> 00:16:27.930\nwas that it took us to get out of\nPower Shell, go do our refresh, and\n\n370\n00:16:27.930 --> 00:16:31.855\nthen load them up, and try to see and\nreference them from the IPAM tool.\n\n371\n00:16:31.855 --> 00:16:34.694\nAnd it turns out I was actually\nright when I was thinking,\n\n372\n00:16:34.694 --> 00:16:38.730\nmaybe we didn't give it enough time, maybe\nit just needed an extra minute or so.\n\n373\n00:16:38.730 --> 00:16:42.840\nAnd even though I hit retry, and\neven though I was asking it to, for\n\n374\n00:16:42.840 --> 00:16:45.240\nsome reason even though\nthe policies were there,\n\n375\n00:16:45.240 --> 00:16:46.990\nit just wasn't registering\nthat they were there.\n\n376\n00:16:46.990 --> 00:16:49.610\nSo that can happen sometimes,\nnot a big deal.\n\n377\n00:16:49.610 --> 00:16:51.070\nEasy to fix.\n\n378\n00:16:51.070 --> 00:16:53.890\nIn our world, all I did, as I said,\nI didn't do anything crazy,\n\n379\n00:16:53.890 --> 00:16:57.050\nno magic voodoo behind the scenes\nwhen you weren't looking, right?\n\n380\n00:16:57.050 --> 00:16:58.430\nTotal transparency here.\n\n381\n00:16:58.430 --> 00:17:01.340\nAll I did was just shutdown both machines,\ntook a moment or\n\n382\n00:17:01.340 --> 00:17:02.390\ntwo to bring them back up.\n\n383\n00:17:02.390 --> 00:17:05.450\nJust went ahead and restart them,\nlogged back in, that's all I did.\n\n384\n00:17:05.450 --> 00:17:08.540\nDidn't even do anything other\nthan just open the console and\n\n385\n00:17:08.540 --> 00:17:10.345\nsaw that those policies are there.\n\n386\n00:17:10.345 --> 00:17:13.740\nOpen the other system, went in, and\nI'll show you what I did on IPAM,\n\n387\n00:17:13.740 --> 00:17:15.080\njust to make sure we know.\n\n388\n00:17:15.080 --> 00:17:16.660\nSo all I did was do this here.\n\n389\n00:17:16.660 --> 00:17:18.450\nAll I did over here was come over here.\n\n390\n00:17:18.450 --> 00:17:21.750\nThis was still red at that point,\nlike you saw it before.\n\n391\n00:17:21.750 --> 00:17:23.240\nAll I did was right click here.\n\n392\n00:17:23.240 --> 00:17:26.650\nAnd all I did was Refresh Access\nServer Status one more time.\n\n393\n00:17:26.650 --> 00:17:28.900\nAnd within 30 seconds, the task ran.\n\n394\n00:17:28.900 --> 00:17:30.020\nAnd it came up and it's fine.\n\n395\n00:17:30.020 --> 00:17:32.955\nSo it was just a timing issue,\nreally nothing more than that.\n\n396\n00:17:32.955 --> 00:17:34.800\nAnd that's good that it happened, right?\n\n397\n00:17:34.800 --> 00:17:36.320\nWe don't wanna avoid those errors.\n\n398\n00:17:36.320 --> 00:17:38.538\nWe don't wanna pretend like nothing\nnever goes wrong in the real world.\n\n399\n00:17:38.538 --> 00:17:40.640\nStuff doesn't work and break all the time.\n\n400\n00:17:40.640 --> 00:17:43.000\n&gt;&gt; That would be horrible if someone just\nthought that it worked perfectly for\n\n401\n00:17:43.000 --> 00:17:44.918\neveryone, and they were the only\none that things broke for.\n\n402\n00:17:44.918 --> 00:17:46.321\n&gt;&gt; Well, only for me actually.\n\n403\n00:17:46.321 --> 00:17:48.029\n&gt;&gt; [LAUGH]\n&gt;&gt; If I knew how to type it\n\n404\n00:17:48.029 --> 00:17:49.530\nwould probably work better.\n\n405\n00:17:49.530 --> 00:17:50.720\nBut this time it wasn't me.\n\n406\n00:17:50.720 --> 00:17:52.140\nI actually was not at fault here.\n\n407\n00:17:52.140 --> 00:17:56.000\nYou saw it worked the right way, so\nyeah, but look this stuff does happen.\n\n408\n00:17:56.000 --> 00:17:57.530\nWe joke around about it,\nit's not a big deal.\n\n409\n00:17:57.530 --> 00:18:00.930\nBut sometimes those errors can\nactually be very problematic.\n\n410\n00:18:00.930 --> 00:18:03.829\nThey can be detrimental to your ability\nto be able to manage the system, and\n\n411\n00:18:03.829 --> 00:18:05.725\nthere are significant\nthings that can go wrong.\n\n412\n00:18:05.725 --> 00:18:07.752\nThis one thankfully no big deal.\n\n413\n00:18:07.752 --> 00:18:09.030\n&gt;&gt; It's a learning experience.\n\n414\n00:18:09.030 --> 00:18:09.770\n&gt;&gt; It is a learning experience.\n\n415\n00:18:09.770 --> 00:18:11.395\nSo it's absolute good for you to see that,\n\n416\n00:18:11.395 --> 00:18:14.430\nbecause when it happens to you in\nthe real world then it may, right?\n\n417\n00:18:14.430 --> 00:18:17.530\nAnd if it does, hey now you know that\nit's not the biggest deal in the world.\n\n418\n00:18:17.530 --> 00:18:19.230\nJust go fix it, not a problem.\n\n419\n00:18:19.230 --> 00:18:20.330\nHappens to us.\n\n420\n00:18:20.330 --> 00:18:21.470\nIt can happen to you.\n\n421\n00:18:21.470 --> 00:18:22.814\nIt never happens to Cherokee,\nbut it happens to me.\n\n422\n00:18:22.814 --> 00:18:25.276\nBut only when I'm with her,\nthat's the thing, right?\n\n423\n00:18:25.276 --> 00:18:27.710\nAll right, so we have that going on.\n\n424\n00:18:27.710 --> 00:18:29.360\nSo we're done, so let's go backup here.\n\n425\n00:18:29.360 --> 00:18:30.520\nWe did step five now.\n\n426\n00:18:30.520 --> 00:18:32.010\nWe actually got that running.\n\n427\n00:18:32.010 --> 00:18:34.260\nWe're actually able to see stuff,\nso let's go back here.\n\n428\n00:18:34.260 --> 00:18:36.266\nWe still have one more\nstop on our journey here.\n\n429\n00:18:36.266 --> 00:18:39.445\nRetrieve data from managed servers,\nall this stuff up until now.\n\n430\n00:18:39.445 --> 00:18:42.441\nAll we've done is just set up everything,\nsay I wanna get this,\n\n431\n00:18:42.441 --> 00:18:45.936\nI wanna get it from over here, wanna go\nout and talk to, wanna make sure I can\n\n432\n00:18:45.936 --> 00:18:49.240\naccess it, wanna make sure it's set up,\nwanna make sure I can see it.\n\n433\n00:18:49.240 --> 00:18:51.650\nBut we haven't actually\ngotten any data yet.\n\n434\n00:18:51.650 --> 00:18:54.420\nThis is gonna be the next step\nthat we're gonna go through here,\n\n435\n00:18:54.420 --> 00:18:55.970\nand we're gonna actually go in.\n\n436\n00:18:57.000 --> 00:18:58.970\nAnd we're gonna make sure\nthat we can now go in,\n\n437\n00:18:58.970 --> 00:19:01.490\nand we can actually retrieve our data.\n\n438\n00:19:01.490 --> 00:19:02.901\nSo we're gonna go through here,\ngo to step 6.\n\n439\n00:19:05.275 --> 00:19:08.836\nAnd what we're gonna do is the following,\nlet me just make sure, that's all good,\n\n440\n00:19:08.836 --> 00:19:11.020\nthat's all good,\nthat's all good, yup step 6.\n\n441\n00:19:11.020 --> 00:19:13.166\nJust following along in my notes here,\njust making sure I didn't miss anything\n\n442\n00:19:13.166 --> 00:19:14.426\nelse I wanna to talk about\nwith you real quick.\n\n443\n00:19:14.426 --> 00:19:17.111\nWe got all that,\nwe got all that, all right good.\n\n444\n00:19:17.111 --> 00:19:22.950\nSo we're gonna go a head and\nwe are going to do the following.\n\n445\n00:19:22.950 --> 00:19:25.714\nLet's click right here.\n\n446\n00:19:25.714 --> 00:19:27.281\nAll right, yeah.\n\n447\n00:19:27.281 --> 00:19:29.980\nSo let's click here.\n\n448\n00:19:29.980 --> 00:19:32.440\nThere are one or more IPAM tasks running.\n\n449\n00:19:32.440 --> 00:19:33.860\nYou know we're commonly seeing this now.\n\n450\n00:19:33.860 --> 00:19:35.520\nYou know it's running the task.\n\n451\n00:19:35.520 --> 00:19:39.550\nYou guys know the drill, we come over\nhere, go more, we can take a look.\n\n452\n00:19:39.550 --> 00:19:42.450\nAnd when it says more than one, you could\nsee there are a lot of tasks running.\n\n453\n00:19:42.450 --> 00:19:45.020\nBut notice that they completed\npretty quickly here, right?\n\n454\n00:19:45.020 --> 00:19:48.170\nDNS server configuration,\ngo in, audit test scripts.\n\n455\n00:19:48.170 --> 00:19:50.490\nIt's gonna grab all that data,\nshow it to us.\n\n456\n00:19:50.490 --> 00:19:51.890\nSo it's done all that.\n\n457\n00:19:54.780 --> 00:19:57.789\nLet's go in here.\nLet's see now that we do have an IPO.\n\n458\n00:19:57.789 --> 00:19:59.920\nLet me probably move this out\na little bit, probably be better for\n\n459\n00:19:59.920 --> 00:20:00.902\nyou just to know whats there.\n\n460\n00:20:00.902 --> 00:20:03.843\nIf I can catch that, right?\n\n461\n00:20:03.843 --> 00:20:06.906\nIt's always hard to,\nall right there we go, just so\n\n462\n00:20:06.906 --> 00:20:09.493\nyou can kinda see what's\ngoing on in there.\n\n463\n00:20:09.493 --> 00:20:11.610\nSo when I click on something,\nI know what it is.\n\n464\n00:20:11.610 --> 00:20:13.150\nSo IP address box, right?\n\n465\n00:20:13.150 --> 00:20:14.820\nYou'll see now we actually\nhave some information.\n\n466\n00:20:14.820 --> 00:20:17.710\nRemember we went through here before, and\nwe were looking, we didn't see anything.\n\n467\n00:20:17.710 --> 00:20:19.240\nIt was a whole lot of nothing in there,\nright?\n\n468\n00:20:19.240 --> 00:20:21.270\nBecause whenever we looked,\nwe didn't see it.\n\n469\n00:20:21.270 --> 00:20:24.085\nBut now that we've stood this up,\nset everything up, set it all, and\n\n470\n00:20:24.085 --> 00:20:27.258\nconfigured it all, you can see that we\nactually now have information in here.\n\n471\n00:20:27.258 --> 00:20:29.137\nSo we have an address block in here.\n\n472\n00:20:29.137 --> 00:20:33.204\nWe have IP address information\nthrough our block for IPv4.\n\n473\n00:20:33.204 --> 00:20:39.145\nWe can go in, and we see that we\nhave our DHCP and DNS servers.\n\n474\n00:20:39.145 --> 00:20:41.155\nOne of each,\nwell it's essentially the same machine,\n\n475\n00:20:41.155 --> 00:20:44.060\nbut you know that we have the services\nrunning, so we can see them there.\n\n476\n00:20:44.060 --> 00:20:45.760\nThey are on the same machine,\nyou can see that, but\n\n477\n00:20:45.760 --> 00:20:47.770\nyou could see that we do see that.\n\n478\n00:20:47.770 --> 00:20:51.160\nOur DHCP scope,\nyou can see we do have that there.\n\n479\n00:20:51.160 --> 00:20:55.670\nOur DNS zone or zones, there's two,\nwe could see them there.\n\n480\n00:20:55.670 --> 00:20:59.920\nAnd you could see that we have\naccess to that information.\n\n481\n00:20:59.920 --> 00:21:03.150\nWe have our event catalog,\ngot some stuff going on in there, so\n\n482\n00:21:03.150 --> 00:21:05.350\nit shows us that we've doing some things.\n\n483\n00:21:05.350 --> 00:21:08.920\nSo you could see that we're now\nstarting to get information coming in,\n\n484\n00:21:08.920 --> 00:21:12.610\nand we're actually able now to start\nconsuming information within IPAM,\n\n485\n00:21:12.610 --> 00:21:15.300\nwe do have a basic information there.\n\n486\n00:21:15.300 --> 00:21:18.785\nWe went ahead and we took a look,\nwe can see that we do have the properties.\n\n487\n00:21:18.785 --> 00:21:22.860\nLet's go back and take a look at,\nlet's say the zones right here for\n\n488\n00:21:22.860 --> 00:21:24.658\ninstance just hypothetically.\n\n489\n00:21:24.658 --> 00:21:27.370\nAnd you go down here we\ndo have a detailed view,\n\n490\n00:21:27.370 --> 00:21:29.490\nlet us just take a look at what\nzone we are going to look at.\n\n491\n00:21:29.490 --> 00:21:30.907\nLet us do the practicelabs.com on.\n\n492\n00:21:30.907 --> 00:21:32.638\nMaybe full screen for\nthis would be a good idea, so\n\n493\n00:21:32.638 --> 00:21:34.135\nyou could see all\nthe detail at the bottom.\n\n494\n00:21:34.135 --> 00:21:38.580\nBut you could see as we go down that\nwe have detailed information here.\n\n495\n00:21:38.580 --> 00:21:40.310\nLet's go down and take a look.\n\n496\n00:21:40.310 --> 00:21:44.770\nAnd we can see that we have our\nzone properties, practicelabs.com.\n\n497\n00:21:44.770 --> 00:21:47.270\nZone status okay, that's good to know.\n\n498\n00:21:47.270 --> 00:21:48.610\nDuration and current state,\n\n499\n00:21:48.610 --> 00:21:51.670\nwhether it's how long has it been\nin the current state of being okay.\n\n500\n00:21:51.670 --> 00:21:53.290\nYou can see time there.\n\n501\n00:21:53.290 --> 00:21:56.190\nWe do have our preferred DNS servers,\nour information,\n\n502\n00:21:56.190 --> 00:21:58.260\ndynamic update settings secure, right?\n\n503\n00:21:58.260 --> 00:21:59.300\nAre we scavenging?\n\n504\n00:21:59.300 --> 00:22:01.710\nCurrently no scavenging set up.\n\n505\n00:22:01.710 --> 00:22:02.470\nIs it assigned?\n\n506\n00:22:02.470 --> 00:22:06.570\nRemember we did that whole DNSSEC\ndiscussion around signing our zone.\n\n507\n00:22:06.570 --> 00:22:07.150\nIs it signed?\n\n508\n00:22:07.150 --> 00:22:09.680\nNo, we could tell the status of that.\n\n509\n00:22:09.680 --> 00:22:11.660\nWe have all that information here.\n\n510\n00:22:11.660 --> 00:22:14.610\nWe can go and look at our authoritative\nservers, and we can see which servers\n\n511\n00:22:14.610 --> 00:22:16.890\nare authoritative,\nsee their status right here.\n\n512\n00:22:16.890 --> 00:22:17.650\nThey are running, right?\n\n513\n00:22:17.650 --> 00:22:20.850\nWe can see all of that information\nright here by looking at the detail.\n\n514\n00:22:20.850 --> 00:22:24.350\nIf we go into our DHCP scope,\nlet's just kinda drill down,\n\n515\n00:22:24.350 --> 00:22:25.620\ntake a look a little bit here.\n\n516\n00:22:26.620 --> 00:22:29.690\nGot some additional information\nin the detailed view here.\n\n517\n00:22:29.690 --> 00:22:32.680\nAgain, Scope Properties, so\nwe've got the scope name.\n\n518\n00:22:32.680 --> 00:22:36.390\nScroll down so\nwe can kinda see everything in there.\n\n519\n00:22:36.390 --> 00:22:40.100\nI've got a server name, got our server\nIP's start and end address for the scope.\n\n520\n00:22:40.100 --> 00:22:41.770\nYou could see that there.\n\n521\n00:22:41.770 --> 00:22:45.628\nWe have our percent utilized, so\nwe're using 30% of our scope,\n\n522\n00:22:45.628 --> 00:22:50.383\na very small scope only 200 to 209, so\njust for demo purposes, not very big.\n\n523\n00:22:50.383 --> 00:22:54.062\nBut you'll see its status active,\ndefault class C or\n\n524\n00:22:54.062 --> 00:22:57.844\nslash 24 subnet mask,\nno delay specified, right?\n\n525\n00:22:57.844 --> 00:23:01.973\nSo we can see here, that we have our\nprefix length, our policy activation\n\n526\n00:23:01.973 --> 00:23:06.578\nstatus, dynamic updates are supported,\nall the detailed information we need.\n\n527\n00:23:06.578 --> 00:23:09.800\nWe also can take a look\nat our scope options.\n\n528\n00:23:09.800 --> 00:23:11.557\nWe see what options we've assigned here.\n\n529\n00:23:11.557 --> 00:23:15.688\nWe talked about the value of an importance\nof DHCP scope options when we did out run\n\n530\n00:23:15.688 --> 00:23:17.043\nthrough on DHCP, right?\n\n531\n00:23:17.043 --> 00:23:18.850\nWe talked about all the different\nscope options we have.\n\n532\n00:23:18.850 --> 00:23:21.010\nYou can see all those right here.\n\n533\n00:23:21.010 --> 00:23:24.260\nIf we have any policies associated\nwith DHCP we would see those.\n\n534\n00:23:24.260 --> 00:23:26.750\nWe have no effective policies,\nbut we talked about those.\n\n535\n00:23:26.750 --> 00:23:30.230\nThe event catalog,\nwe see event ID's specific to DHCP and\n\n536\n00:23:30.230 --> 00:23:32.170\nany information we may wanna be aware of.\n\n537\n00:23:32.170 --> 00:23:33.140\nYou could see it right there.\n\n538\n00:23:34.350 --> 00:23:36.080\nSo we have all that, right?\n\n539\n00:23:36.080 --> 00:23:38.200\nWe actually have,\nas you know, our servers.\n\n540\n00:23:38.200 --> 00:23:39.165\nWe see both servers there.\n\n541\n00:23:39.165 --> 00:23:41.343\nThis one is for DHCP.\n\n542\n00:23:41.343 --> 00:23:45.570\nAnd so, essentially just the same\ninformation that we're seeing.\n\n543\n00:23:45.570 --> 00:23:48.420\nBut we have more of the detail here,\nbecause now we're looking at server\n\n544\n00:23:48.420 --> 00:23:51.440\nproperties, not specifically\nDHCP scope properties.\n\n545\n00:23:51.440 --> 00:23:53.456\nSo we're seeing the configuration.\n\n546\n00:23:53.456 --> 00:23:58.309\nBut you'll see here allow Mac address\nfiltering, deny, dynamic update, etc.\n\n547\n00:23:58.309 --> 00:24:02.093\nAll that is specified here as well,\nwe already took a look at options.\n\n548\n00:24:02.093 --> 00:24:04.490\nAll right, if there were any\navailable that had been specified.\n\n549\n00:24:04.490 --> 00:24:07.326\nThis is at the server level,\nnot at the scope level.\n\n550\n00:24:07.326 --> 00:24:08.559\nThere are no server options.\n\n551\n00:24:08.559 --> 00:24:10.746\nRemember we have different levels for\noptions, right?\n\n552\n00:24:10.746 --> 00:24:12.233\nWe had talked about that.\n\n553\n00:24:12.233 --> 00:24:16.257\nSo we have scope options for the server,\nscope options for, or rather options for\n\n554\n00:24:16.257 --> 00:24:19.542\nthe scope options for the server,\nno options at the server level.\n\n555\n00:24:19.542 --> 00:24:22.993\nSo we're seeing everything we would see\nby going through the Management Console.\n\n556\n00:24:22.993 --> 00:24:27.517\nIndividual to one of these services,\nbut we're getting it all, as we said,\n\n557\n00:24:27.517 --> 00:24:29.197\naggregated up inside IPAM.\n\n558\n00:24:29.197 --> 00:24:32.634\nI haven't heard an or an yet\nfrom you, I'm just pointing it out.\n\n559\n00:24:32.634 --> 00:24:33.323\nIt's a little late now.\n\n560\n00:24:33.323 --> 00:24:36.067\n&gt;&gt; Well, I'm also thinking.\n\n561\n00:24:36.067 --> 00:24:37.710\n&gt;&gt; That was kinda like, that wasn't real.\n\n562\n00:24:37.710 --> 00:24:39.991\nIt was like after the fact and prompted.\n\n563\n00:24:39.991 --> 00:24:41.919\nBut that's okay, it is pretty cool.\n\n564\n00:24:41.919 --> 00:24:43.412\n[CROSSTALK]\n&gt;&gt; Is that you have talked about a lot of\n\n565\n00:24:43.412 --> 00:24:43.983\nthese things and\n\n566\n00:24:43.983 --> 00:24:45.524\nnow we're actually being able to see them-\n&gt;&gt; We are.\n\n567\n00:24:45.524 --> 00:24:47.044\n&gt;&gt; And\nthat's why I'm just kind of absorbing it-\n\n568\n00:24:47.044 --> 00:24:47.986\n&gt;&gt; You're absorbing it all.\n\n569\n00:24:47.986 --> 00:24:48.956\n&gt;&gt; Taking it all in.\n\n570\n00:24:48.956 --> 00:24:49.456\nYes.\n&gt;&gt; Okay.\n\n571\n00:24:49.456 --> 00:24:50.749\nSo you were saving it up for an ooh or\n\n572\n00:24:50.749 --> 00:24:52.561\nan ahh at the end, right?\n&gt;&gt; That's right. [LAUGH] &gt;&gt; I jumped\n\n573\n00:24:52.561 --> 00:24:55.368\nthe gun on that, I apologize.\nAll right, so let's go back full screen,\n\n574\n00:24:55.368 --> 00:24:58.602\nlet's just continue taking a look.\nYou can see we do have, I'm just going to\n\n575\n00:24:58.602 --> 00:25:02.573\nthe IP address block just so we can see.\nSo we do have our address block here.\n\n576\n00:25:02.573 --> 00:25:03.877\nWe do see it as private,\n\n577\n00:25:03.877 --> 00:25:04.648\nright?\nAgain,\n\n578\n00:25:04.648 --> 00:25:07.379\nkind of the information we already saw.\nJust look at it from a different\n\n579\n00:25:07.379 --> 00:25:10.782\nprospective.\nBut we do see the DHCP server name here.\n\n580\n00:25:10.782 --> 00:25:12.768\nWe do get some trending information for\n\n581\n00:25:12.768 --> 00:25:13.780\nutilization.\nNow we\n\n582\n00:25:13.780 --> 00:25:16.711\nhaven't been running this long enough.\nIt's kind of a cool feature,\n\n583\n00:25:16.711 --> 00:25:20.018\nbut we haven't been running this long\nenough to actually have developed\n\n584\n00:25:20.018 --> 00:25:22.725\nany data of any significance in\nterms of the amount of time or\n\n585\n00:25:22.725 --> 00:25:23.737\nduration here.\nBut\n\n586\n00:25:23.737 --> 00:25:28.052\nremember I did mention to you that\nwe do keep data historically for\n\n587\n00:25:28.052 --> 00:25:31.152\nyears in the IPAM database-\n&gt;&gt; No, you said after three years.\n\n588\n00:25:31.152 --> 00:25:32.545\n&gt;&gt; On forensic data.\n\n589\n00:25:32.545 --> 00:25:33.453\nSo I could go out,\n\n590\n00:25:33.453 --> 00:25:36.795\nI mean not that I'm gonna have any\ndata there but you get the idea.\n\n591\n00:25:36.795 --> 00:25:38.581\nBut I could go out, even on a day I just\n\n592\n00:25:38.581 --> 00:25:41.815\ndon't have enough data in here from\nthe demo for 30 minutes to set\n\n593\n00:25:41.815 --> 00:25:45.578\nthis up to actually show you anything.\nBut you can imagine if you're running this\n\n594\n00:25:45.578 --> 00:25:48.433\nin production and actually developing\nthis running it long term.\n\n595\n00:25:48.433 --> 00:25:49.339\nWe'd be able to see\n\n596\n00:25:49.339 --> 00:25:53.183\nhistorical data start pulling it in.\nUtilization trend on our IP addresses, for\n\n597\n00:25:53.183 --> 00:25:54.653\ninstance, right?\n[CROSSTALK]\n\n598\n00:25:54.653 --> 00:25:56.045\n&gt;&gt; I wonder why it says up to five years\n\n599\n00:25:56.045 --> 00:25:58.214\nthere on that little-\n&gt;&gt; Because you can go up to five years,\n\n600\n00:25:58.214 --> 00:26:00.140\nit's just that we maintain.\nWe normally cut off\n\n601\n00:26:00.140 --> 00:26:03.370\nat three- [CROSSTALK] Setting,\nthe cap is five, you could actually go\n\n602\n00:26:03.370 --> 00:26:07.017\nup to five years if you wanted to, right?\nSo event catalog se,e that we have\n\n603\n00:26:07.017 --> 00:26:10.942\ninformation here, right?\nSo we have quite a bit of stuff that we're\n\n604\n00:26:10.942 --> 00:26:15.363\nable to pull in and start to work with\nonce we get IPAM all up and running,\n\n605\n00:26:15.363 --> 00:26:18.233\nall right?\nSo this is a pretty neat little tool when\n\n606\n00:26:18.233 --> 00:26:22.208\nyou get it all configured, stood up,\nbroken out, and we have everything\n\n607\n00:26:22.208 --> 00:26:26.844\nfinally said and done, so to speak, right?\n&gt;&gt; So does that mean we've reached the end\n\n608\n00:26:26.844 --> 00:26:30.417\nof our journey, our field trip?\n&gt;&gt; Well, not quite.\n\n609\n00:26:30.417 --> 00:26:31.929\nSo, let's just take a look at something\n\n610\n00:26:31.929 --> 00:26:33.898\nelse here.\nAlmost, but let's go back in here,\n\n611\n00:26:33.898 --> 00:26:35.674\nlet's just take a look at something else.\n\n612\n00:26:36.901 --> 00:26:38.166\nLets go in here.\n\n613\n00:26:38.166 --> 00:26:40.674\nGo back to full screen if you will cuz\nI want you to be able to see this.\n\n614\n00:26:40.674 --> 00:26:44.128\nSo I'm back on the DHCP and\nDNS server area, for instance, right?\n\n615\n00:26:44.128 --> 00:26:47.047\nRight-clicking on, and\nlet me just click away so you could see.\n\n616\n00:26:47.047 --> 00:26:51.995\nI am looking at DHCP right now, the DHCP\nrole, right-click and look at the options\n\n617\n00:26:51.995 --> 00:26:56.892\nI get, we just scroll down here so you can\nkind of see this list pop up here, right?\n\n618\n00:26:56.892 --> 00:27:01.872\nFrom here I mention that just becomes our\ncentral management area where we can go\n\n619\n00:27:01.872 --> 00:27:05.904\nin and we can work with and\nconfigure settings on these servers.\n\n620\n00:27:05.904 --> 00:27:07.299\nLook at all the things I\ncould do right from here.\n\n621\n00:27:07.299 --> 00:27:10.862\nI'm not in the DHCP MMC, I'm in IPAM.\n\n622\n00:27:10.862 --> 00:27:11.763\nBut look at what I can do.\n\n623\n00:27:11.763 --> 00:27:15.070\nI can get server properties,\nset up options, set up scopes.\n\n624\n00:27:15.070 --> 00:27:15.807\n&gt;&gt; Create scopes.\n\n625\n00:27:15.807 --> 00:27:16.620\n&gt;&gt; Right?\n\n626\n00:27:16.620 --> 00:27:19.527\nView our user and vendor class options,\ntake a look at all that.\n\n627\n00:27:19.527 --> 00:27:21.629\nSet up our DHCP policies,\nwe can import them.\n\n628\n00:27:21.629 --> 00:27:23.849\nWe went through and\ndiscussed all of these things and\n\n629\n00:27:23.849 --> 00:27:26.180\ndid demonstrations on all\nof these in prior episodes.\n\n630\n00:27:26.180 --> 00:27:27.894\nWe can add our MAC address filtering.\n\n631\n00:27:27.894 --> 00:27:32.461\nI can launch the actual Management shell\nspecific to DHCP on that server if I\n\n632\n00:27:32.461 --> 00:27:33.050\nwant to.\n\n633\n00:27:33.050 --> 00:27:36.637\nI could deactivate and activate policies,\nreplicate, set address scopes,\n\n634\n00:27:36.637 --> 00:27:38.279\nretrieve serve data, you name it.\n\n635\n00:27:38.279 --> 00:27:39.127\nI can go in and do all that.\n\n636\n00:27:39.127 --> 00:27:43.064\nSo if I wanted to edit the server\nproperties, I could go in and turn on and\n\n637\n00:27:43.064 --> 00:27:45.179\noff logging, for instance, right?\n\n638\n00:27:45.179 --> 00:27:47.017\nI can take a look at DNS updates and\n\n639\n00:27:47.017 --> 00:27:49.650\nspecify whether dynamic\nupdates are allowed.\n\n640\n00:27:49.650 --> 00:27:52.425\nAnd I can go in I can\nlook at DNS credentials,\n\n641\n00:27:52.425 --> 00:27:55.277\nand I can specify all sorts of stuff,\nright?\n\n642\n00:27:55.277 --> 00:27:57.218\nJust look at the different stuff I can do.\n\n643\n00:27:57.218 --> 00:27:58.949\nI could turn on MAC address filtering,\nright?\n\n644\n00:27:58.949 --> 00:28:04.210\nSo I can do any or all of these things\nif I go to our DNS server, right?\n\n645\n00:28:04.210 --> 00:28:05.320\nJust there.\n\n646\n00:28:05.320 --> 00:28:06.874\nAgain, we can do some stuff.\n\n647\n00:28:06.874 --> 00:28:09.232\nMaybe not as extensive, cuz obviously-\n&gt;&gt; Yeah, I'm looking at.\n\n648\n00:28:09.232 --> 00:28:11.752\n&gt;&gt; It depends on where we are,\nbut I can create zones.\n\n649\n00:28:11.752 --> 00:28:15.007\nI could set up conditional forwarding,\ntalked about that.\n\n650\n00:28:15.007 --> 00:28:18.039\nI can retrieve the server data, or\nif I need to go into more detail,\n\n651\n00:28:18.039 --> 00:28:20.095\ncuz DNS is more complex,\nI may be able to go and\n\n652\n00:28:20.095 --> 00:28:22.391\nlaunch the console to do\nthings I need to do there.\n\n653\n00:28:22.391 --> 00:28:26.961\nBut, again, I have the ability to be able\nto manage, and to actually interact with,\n\n654\n00:28:26.961 --> 00:28:31.610\nand configure, and look at properties,\nand coordinate activity, right from here.\n\n655\n00:28:31.610 --> 00:28:34.783\nNot that IPAM's gonna solve every problem\nand give us central management of\n\n656\n00:28:34.783 --> 00:28:37.719\neverything, .never ever having to\ngo back to those consoles again.\n\n657\n00:28:37.719 --> 00:28:41.367\nBut it gives us a tremendous amount of\nflexibility before we have to go launch\n\n658\n00:28:41.367 --> 00:28:44.958\nan individual console on a certain\nmachine to be able to configure things.\n\n659\n00:28:44.958 --> 00:28:47.011\nSo pretty cool.\n&gt;&gt; And with all this flexibility,\n\n660\n00:28:47.011 --> 00:28:50.614\nyou kind of just see the importance\nof security in your networks today.\n\n661\n00:28:50.614 --> 00:28:54.277\nBecause could you imagine if someone were\ncapable of accessing all these features\n\n662\n00:28:54.277 --> 00:28:55.879\nwithin one centralized location?\n\n663\n00:28:55.879 --> 00:28:58.576\nIt would be just as easy for\nthem that it is for you.\n\n664\n00:28:58.576 --> 00:29:00.131\nSo you have keep that in mind.\n\n665\n00:29:00.131 --> 00:29:01.837\n&gt;&gt; Absolutely.\nLet's just drill down one more level.\n\n666\n00:29:01.837 --> 00:29:04.821\nSame kind of idea, but you can see\nhere I just went into the DHCP scopes.\n\n667\n00:29:04.821 --> 00:29:06.481\nWent to our scope, right clicked.\n\n668\n00:29:06.481 --> 00:29:09.198\nEdit our scope, duplicate it,\ncreate it, add it.\n\n669\n00:29:09.198 --> 00:29:11.531\nCreate a super scope,\nwe talked about that.\n\n670\n00:29:11.531 --> 00:29:15.375\nHey, configure failover, that was a cool,\nfun little demo that you and I did, right?\n\n671\n00:29:15.375 --> 00:29:16.987\nWe set up the HTTP failover.\n\n672\n00:29:16.987 --> 00:29:20.828\nLook at what we can do here,\nwe're essentially accessing management\n\n673\n00:29:20.828 --> 00:29:23.573\ncapabilities across any of these areas,\nright?\n\n674\n00:29:23.573 --> 00:29:27.592\nLook at, again,\nlet's just go up here real quick.\n\n675\n00:29:27.592 --> 00:29:30.350\nLet's make sure we can get to this, right?\n\n676\n00:29:30.350 --> 00:29:31.950\nRight click,\nall I'm doing is right clicking.\n\n677\n00:29:31.950 --> 00:29:33.491\nI can edit the zone, I can delete it.\n\n678\n00:29:33.491 --> 00:29:35.333\nYou always wanted to do that, right?\n\n679\n00:29:35.333 --> 00:29:37.754\nBefore you leave work at\nthe end of the day, right?\n\n680\n00:29:37.754 --> 00:29:38.683\n&gt;&gt; [LAUGH] No!\n&gt;&gt; Don't do that.\n\n681\n00:29:38.683 --> 00:29:40.618\nI'm kidding.\nDon't do that, right?\n\n682\n00:29:40.618 --> 00:29:43.734\nYou can add resource records here, one of\nthe most common things we've got to do.\n\n683\n00:29:43.734 --> 00:29:44.980\nAdd resource records, right?\n\n684\n00:29:44.980 --> 00:29:47.932\nWe can do that, look, click right there,\nwhat are we going to do?\n\n685\n00:29:47.932 --> 00:29:51.288\nWe got a little window that comes up, and\nwe're going to add our resource records.\n\n686\n00:29:51.288 --> 00:29:55.320\nThere's our zone, there's our sever,\nconfigure DNS resource records,\n\n687\n00:29:55.320 --> 00:29:56.775\nnew, what are we gonna do?\n\n688\n00:29:56.775 --> 00:29:59.570\nLets just scroll down there.\n\n689\n00:29:59.570 --> 00:30:02.964\nKinda see, let me bring that up just the\nway it's kinda coming up in the window.\n\n690\n00:30:02.964 --> 00:30:03.719\nThere we go.\nAll right, yes.\n\n691\n00:30:03.719 --> 00:30:05.342\nSo you can see that, so new.\n\n692\n00:30:05.342 --> 00:30:08.374\nConfigure DNS resource records,\ngreat, right?\n\n693\n00:30:08.374 --> 00:30:10.270\nNew resource record type.\n\n694\n00:30:10.270 --> 00:30:13.653\nSelect what kind of records you want,\nthat list should look familiar to you.\n\n695\n00:30:13.653 --> 00:30:15.072\nThat's the list of all the stuff we want.\n\n696\n00:30:15.072 --> 00:30:17.482\nWe can go ahead and\nadd a record right from here.\n\n697\n00:30:17.482 --> 00:30:19.043\nI mean,\nwe could do everything we need to do.\n\n698\n00:30:19.043 --> 00:30:20.523\n&gt;&gt; And this kind of goes without saying.\n\n699\n00:30:20.523 --> 00:30:22.866\nBut when you're managing remotely,\n\n700\n00:30:22.866 --> 00:30:27.037\nlet's say we are managing some remote\nservers at any kind of actions\n\n701\n00:30:27.037 --> 00:30:31.302\nthat we execute that would disconnect\nus or power that machine down.\n\n702\n00:30:31.302 --> 00:30:34.073\nLike, just best practices,\nlike restarting a machine so\n\n703\n00:30:34.073 --> 00:30:37.820\nwe don't have to drive across the world\nto get powered on and things like that.\n\n704\n00:30:37.820 --> 00:30:41.920\nWhen we were performing remote management\nyou just wanna be aware of that\n\n705\n00:30:41.920 --> 00:30:42.734\ntoo, right?\n\n706\n00:30:42.734 --> 00:30:44.647\n&gt;&gt; Yeah, definitely important to consider.\n\n707\n00:30:44.647 --> 00:30:49.982\nI mean, if you're working remotely\nacross several subnets, who knows how.\n\n708\n00:30:49.982 --> 00:30:53.595\nWhat kind of job do you have in your into\na data center your managing remotely you\n\n709\n00:30:53.595 --> 00:30:56.245\njust got to think about the fact\nthat you do lose, right.\n\n710\n00:30:56.245 --> 00:30:58.124\nYou do lose connectivity, right?\n\n711\n00:30:58.124 --> 00:30:59.810\nThe server maybe doesn't come back up,\n\n712\n00:30:59.810 --> 00:31:02.748\nsomebody's got to figure out how to\nhike out there and take care of it.\n\n713\n00:31:02.748 --> 00:31:06.650\nSee, you just got a way those concerns\nas we would always educate you and\n\n714\n00:31:06.650 --> 00:31:09.132\nindicate to you it would be good for\nyou to do.\n\n715\n00:31:09.132 --> 00:31:11.386\nBut, also the flip side of this.\n\n716\n00:31:11.386 --> 00:31:12.729\nLook don't fear the reboot.\n\n717\n00:31:12.729 --> 00:31:15.849\nDon't fear the restart if you're\ngonna solve a problem but make sure,\n\n718\n00:31:15.849 --> 00:31:17.825\nto Cherokee's point, and it's a good one,\n\n719\n00:31:17.825 --> 00:31:21.206\nthat you have a human standing by to fix\nsomething if it doesn't come back up.\n\n720\n00:31:21.206 --> 00:31:22.382\nBecause you never know,\n\n721\n00:31:22.382 --> 00:31:26.190\nI mean the restart could just totally fry\nwhatever was already starting to happen\n\n722\n00:31:26.190 --> 00:31:29.606\nand make it go bad and the server may\njust go down hard and not come back up.\n\n723\n00:31:29.606 --> 00:31:32.464\nAnd then somebody has to, you'll\ninterdict there and figure it out, but\n\n724\n00:31:32.464 --> 00:31:34.368\nthat doesn't mean you\nshouldn't take it down.\n\n725\n00:31:34.368 --> 00:31:37.176\nIt just means you've gotta be prepared to\ndeal with it if you have to go in there\n\n726\n00:31:37.176 --> 00:31:38.403\nand help it to come back up again.\n\n727\n00:31:38.403 --> 00:31:39.904\nSo just make sure you're aware of that.\n\n728\n00:31:39.904 --> 00:31:43.210\nBut that, as we say, is IPM in a nutshell.\n\n729\n00:31:43.210 --> 00:31:43.839\n&gt;&gt; All right.\n\n730\n00:31:43.839 --> 00:31:45.613\nWell, thank you so much for\njoining us today, Adam.\n\n731\n00:31:45.613 --> 00:31:47.175\nAnd thank you for joining us as well.\n\n732\n00:31:47.175 --> 00:31:49.399\nBut for this show we're gonna go ahead and\nsign out.\n\n733\n00:31:49.399 --> 00:31:51.324\nRemember, I'm your host, Cherokee Boose.\n\n734\n00:31:51.324 --> 00:31:52.351\n&gt;&gt; I'm Adam Gordon.\n\n735\n00:31:52.351 --> 00:31:55.446\n&gt;&gt; See you next time here at ITProTV.\n\n736\n00:31:55.446 --> 00:32:01.426\n[MUSIC]\n\n737\n00:32:01.426 --> 00:32:04.421\n&gt;&gt; Thank you for watching, ITProTV.\n\n",
          "vimeoId": "217832363"
        }
      ],
      "title": "Implementing and managing IPAM"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam introduce remote access which allows remote connectivity. Adam walks us though using the routing and remote access console.",
          "length": "1905",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-1-remote_access-051217-PGM.00_00_11_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-1-remote_access-051217-PGM.00_00_11_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-1-remote_access-051217-PGM.00_00_11_25.Still001-sm.jpg",
          "title": "Remote Access",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.081\nWelcome to IT PRO.TV.\n\n2\n00:00:01.081 --> 00:00:06.384\nI'm your host Don Pezet, [CROSSTALK]\n\n3\n00:00:06.384 --> 00:00:07.991\n[MUSIC]\n\n4\n00:00:07.991 --> 00:00:12.131\n&gt;&gt; You're watching ITPRO.TV\n&gt;&gt; Welcome\n\n5\n00:00:12.131 --> 00:00:15.233\nto your networking with\nWindows Server 2016 Series.\n\n6\n00:00:15.233 --> 00:00:17.169\nI'm your show host Cherokee Booze.\n\n7\n00:00:17.169 --> 00:00:20.205\nIn this episode we'll be taking\na look at remote access,\n\n8\n00:00:20.205 --> 00:00:23.330\nwith us today back in studios,\nwe have Mr. Adam Gordon.\n\n9\n00:00:23.330 --> 00:00:24.629\nThank you for joining us today, Adam.\n\n10\n00:00:24.629 --> 00:00:25.166\n&gt;&gt; Hello, hello.\n\n11\n00:00:25.166 --> 00:00:26.812\n&gt;&gt; [LAUGH]\n&gt;&gt; I thought I'd do\n\n12\n00:00:26.812 --> 00:00:29.780\nthat on your behalf since you\ndidn't work that into our intro.\n\n13\n00:00:29.780 --> 00:00:32.750\nSo hello, everybody hopefully\nout there is doing well.\n\n14\n00:00:32.750 --> 00:00:35.230\nWe are gonna continue talking\nabout Server 16 networking.\n\n15\n00:00:35.230 --> 00:00:38.834\nAnd as Cherokee just said, we're gonna\nturn our attention to remote access.\n\n16\n00:00:38.834 --> 00:00:43.891\nOne of the most important things we\ncan do after we set up IP addressing,\n\n17\n00:00:43.891 --> 00:00:48.714\nafter we configure name resolution,\nDNS, DHCP, IPv4, IPv6.\n\n18\n00:00:48.714 --> 00:00:52.616\nIf we get all that out of the way after\nwe do some IP address management,\n\n19\n00:00:52.616 --> 00:00:56.007\ndid several sets of episodes\ntogether there for you on IPAM.\n\n20\n00:00:56.007 --> 00:00:58.021\nReally interesting concept\nif you have not seen it,\n\n21\n00:00:58.021 --> 00:01:00.330\nI encourage you to go take a look and\ncheck those out.\n\n22\n00:01:00.330 --> 00:01:03.920\nAfter we do all that what we then have\nto do is take all that information,\n\n23\n00:01:03.920 --> 00:01:08.970\nall that architecture, all that hard work\nand enable remote users to come in and\n\n24\n00:01:08.970 --> 00:01:12.720\naccess network resources, typically\nfrom outside the organization, so\n\n25\n00:01:12.720 --> 00:01:15.290\nthat they are able to go ahead.\n\n26\n00:01:15.290 --> 00:01:19.490\nAnd that they are able to use resources,\n\n27\n00:01:19.490 --> 00:01:23.510\ninteract with them as if they were sitting\ninside of the network on the LAN, but\n\n28\n00:01:23.510 --> 00:01:25.910\nin fact they're outside,\nthey're remote, right?\n\n29\n00:01:25.910 --> 00:01:29.110\nSo we're talking about what we would\ntraditionally call routing and\n\n30\n00:01:29.110 --> 00:01:30.270\nremote access.\n\n31\n00:01:30.270 --> 00:01:32.800\nWe're gonna take a look at what\nthat looks like in Server 16.\n\n32\n00:01:32.800 --> 00:01:35.560\nHas not really changed\nmuch from prior versions.\n\n33\n00:01:35.560 --> 00:01:40.175\nIf you've been interacting with Windows,\nyou probably have a sense of what RAS or\n\n34\n00:01:40.175 --> 00:01:43.040\nRRAS as we formerly refer to it,\nhas looked like.\n\n35\n00:01:43.040 --> 00:01:44.660\nThe interface looks the same.\n\n36\n00:01:44.660 --> 00:01:46.820\nThe set up is pretty much the same.\n\n37\n00:01:46.820 --> 00:01:48.520\nCan enable it through PowerShell.\n\n38\n00:01:48.520 --> 00:01:50.330\nCan install it through\nthe server manager GUI.\n\n39\n00:01:50.330 --> 00:01:53.560\nWe then go in and\nwe configure it from within the MMC.\n\n40\n00:01:53.560 --> 00:01:58.130\nAnd we then can set up our VPN\nconnections, set up our network policy\n\n41\n00:01:58.130 --> 00:02:03.430\nservers, we can do ahead and\nset up our Direct Access support.\n\n42\n00:02:03.430 --> 00:02:06.910\nWe can set up the RAS solution\nas a router, doing netting.\n\n43\n00:02:06.910 --> 00:02:08.690\nWe'll take a look and talk about that.\n\n44\n00:02:08.690 --> 00:02:11.690\nWeb application proxy can be used as well.\n\n45\n00:02:11.690 --> 00:02:13.860\nWe have features and\ncapabilities in there,\n\n46\n00:02:13.860 --> 00:02:15.750\nwe are going to walk\nthrough in this episode.\n\n47\n00:02:15.750 --> 00:02:18.995\nGive you a high level thought\nprocess as to what that looks like.\n\n48\n00:02:18.995 --> 00:02:22.510\nWe'll take you through and show you\nhow to begin the configuration and\n\n49\n00:02:22.510 --> 00:02:25.390\nsetup of the RS solution,\nand how to set it up and\n\n50\n00:02:25.390 --> 00:02:28.580\nconfigure it, depending on the profile\nthat you wanna support for\n\n51\n00:02:28.580 --> 00:02:31.030\ndifferent business scenarios or\ndifferent usage requirements.\n\n52\n00:02:31.030 --> 00:02:34.390\nSo I mentioned that there are four\ndifferent remote access options for\n\n53\n00:02:34.390 --> 00:02:35.150\nsupport.\n\n54\n00:02:35.150 --> 00:02:36.720\nWe do have direct access.\n\n55\n00:02:36.720 --> 00:02:41.300\nThis is where you're gonna get in form\nthe outside coming in from remote users,\n\n56\n00:02:41.300 --> 00:02:46.200\naccessing resources, like I was\nsuggesting, email servers, shared folders,\n\n57\n00:02:46.200 --> 00:02:47.170\nwhatever it may be.\n\n58\n00:02:47.170 --> 00:02:51.750\nWithout have to use the VPN, the VPN was\nVPN as it is sometimes referred too.\n\n59\n00:02:51.750 --> 00:02:56.260\nFormal name for it for\nmany iterations now is direct access.\n\n60\n00:02:56.260 --> 00:03:01.330\nYeah, remember when I\nwas working directly, or\n\n61\n00:03:01.330 --> 00:03:07.120\nwhen I say directly, as an orange badge,\nas we would call it at Microsoft.\n\n62\n00:03:07.120 --> 00:03:12.680\nWhen I was out there based in Seattle,\nprobably close to 10 years ago now.\n\n63\n00:03:12.680 --> 00:03:16.986\nAnd when I was there doing essentially\nsecond hand consulting work through\n\n64\n00:03:16.986 --> 00:03:20.551\nan external company back to\nMicrosoft as many people will do.\n\n65\n00:03:20.551 --> 00:03:24.433\nI was using, when I was travelling and\ndoing the work I was doing, I was with\n\n66\n00:03:24.433 --> 00:03:28.395\nthe enterprise group that actually\ndealing with things all over the world.\n\n67\n00:03:28.395 --> 00:03:33.699\nWhen I was out travelling, I was using\nwhat will become direct access technology,\n\n68\n00:03:33.699 --> 00:03:37.950\nthis was being previewed internally\nat Microsoft at the time.\n\n69\n00:03:37.950 --> 00:03:40.800\nWe often will release that\nkind of technology and\n\n70\n00:03:40.800 --> 00:03:42.670\nthen make it available internally.\n\n71\n00:03:42.670 --> 00:03:44.360\nThey call it eating your own dog food,\nright?\n\n72\n00:03:44.360 --> 00:03:47.939\nSo you test it out and you use it,\nget it all straight and organized and\n\n73\n00:03:47.939 --> 00:03:51.582\nreally get all the bugs out of it,\nand then ultimately integrate it and\n\n74\n00:03:51.582 --> 00:03:52.850\nput it out as features.\n\n75\n00:03:52.850 --> 00:03:57.157\nAnd so I remember using what would become\ndirect access technology before it became\n\n76\n00:03:57.157 --> 00:03:58.336\npublicly available.\n\n77\n00:03:58.336 --> 00:04:01.918\nAnd being in India,\nbeing in many around the world and\n\n78\n00:04:01.918 --> 00:04:07.092\nusing this technology to come through\nthe web and essentially tunnel through\n\n79\n00:04:07.092 --> 00:04:12.666\nexisting traffic pathways to get in and\naccess the internal corporate extranet and\n\n80\n00:04:12.666 --> 00:04:17.222\nthings like Microsoft websites\ninternal email whatever it may be.\n\n81\n00:04:17.222 --> 00:04:21.328\nUsing it on a couple of different\nmobile devices, cell phones, tablets or\n\n82\n00:04:21.328 --> 00:04:25.370\nwhat would become more or less the thought\nprocess around a tablet then and\n\n83\n00:04:25.370 --> 00:04:26.430\nyou know laptops.\n\n84\n00:04:26.430 --> 00:04:29.010\nAnd I remember being able to\nset this up and configure it.\n\n85\n00:04:29.010 --> 00:04:30.870\nIt was not difficult to do then.\n\n86\n00:04:30.870 --> 00:04:33.910\nIt's certainly less difficult\nto do it if at all now.\n\n87\n00:04:33.910 --> 00:04:35.694\nAnd so it's actually really\ninteresting technology.\n\n88\n00:04:35.694 --> 00:04:38.899\nWe were chatting just a little bit about\nthe concept before we got started.\n\n89\n00:04:38.899 --> 00:04:42.822\nAnd it is, as Cherokee said,\npretty exciting and cool to talk about.\n\n90\n00:04:42.822 --> 00:04:45.480\nWe're goinna devote some episodes\nto talking about it more in depth.\n\n91\n00:04:45.480 --> 00:04:48.275\nA little bit later on,\nkind of go through it in more detail.\n\n92\n00:04:48.275 --> 00:04:52.650\nJust really a high level thought process\nof one of t he four ways we provide RAS or\n\n93\n00:04:52.650 --> 00:04:55.460\nremote, and routing and\nremote access support right now,\n\n94\n00:04:55.460 --> 00:04:57.090\njust introduced the idea to you.\n\n95\n00:04:57.090 --> 00:04:59.920\nBut we support\nthe traditional VPNs as well.\n\n96\n00:04:59.920 --> 00:05:04.830\nSo the idea of using a client based VPN or\nthe agent for the endpoint has some\n\n97\n00:05:04.830 --> 00:05:08.140\nsort of software and configuration\nthat allows it to connect in.\n\n98\n00:05:08.140 --> 00:05:10.150\nAnd then it connects to the server.\n\n99\n00:05:10.150 --> 00:05:12.260\nA VPN is sort of just a point\nto point connection, right?\n\n100\n00:05:12.260 --> 00:05:16.050\nWe talked about the fact that we have\nthe client, we have the server, you create\n\n101\n00:05:16.050 --> 00:05:20.160\na pathway what we would call a tunnel\ndedicated between the two allowing for\n\n102\n00:05:20.160 --> 00:05:22.955\nafter authentication and\nmost likely encryption.\n\n103\n00:05:22.955 --> 00:05:27.575\nSecure authorized communication that will\nallow those two parties to be able to\n\n104\n00:05:27.575 --> 00:05:30.015\nexchange information back and\nforth as required.\n\n105\n00:05:30.015 --> 00:05:33.025\nWe do this over a shared or\npublic network traditionally.\n\n106\n00:05:33.025 --> 00:05:36.295\nMeaning, over the Internet more\noften than not is how we actually\n\n107\n00:05:36.295 --> 00:05:38.285\nset up our VPN tunnels today.\n\n108\n00:05:38.285 --> 00:05:43.170\nWe certainly, they'd be able to use\nVPN site to site on private corporate\n\n109\n00:05:43.170 --> 00:05:46.350\nnetworks with dedicated endpoint\nbandwidth and connections.\n\n110\n00:05:46.350 --> 00:05:47.670\nIt's not unheard of, and\n\n111\n00:05:47.670 --> 00:05:52.230\ncertainly many of my larger enterprise\nclients will have global spanning networks\n\n112\n00:05:52.230 --> 00:05:55.130\nthat are run on their own private\nback bone infrastructure.\n\n113\n00:05:55.130 --> 00:05:59.560\nThey've got dedicated circuits,\ndedicated bandwidth that they are paying\n\n114\n00:05:59.560 --> 00:06:03.630\na premium to provision from providers and\nuse exclusively for their own needs.\n\n115\n00:06:03.630 --> 00:06:07.313\nAnd they will set up dedicated site\nVPNs over those private networks.\n\n116\n00:06:07.313 --> 00:06:12.290\nSo it is possible that we could see VPNs\nbeing set up on private corporate internal\n\n117\n00:06:12.290 --> 00:06:17.070\nLAN base networks that are just extended\nglobally across these dedicated links,\n\n118\n00:06:17.070 --> 00:06:21.328\nbut the traditional way we see VPNs would\nbe tunneling through the Internet, right,\n\n119\n00:06:21.328 --> 00:06:22.110\nmore often than not.\n\n120\n00:06:22.110 --> 00:06:23.910\nI'm sure we've probably all had one or\n\n121\n00:06:23.910 --> 00:06:27.630\nmore of those experiences where we've had\nto use a remote gateway connection or\n\n122\n00:06:27.630 --> 00:06:32.970\nsome sort of VPN like connection to\nget in and share and access resources.\n\n123\n00:06:32.970 --> 00:06:37.510\nThe data is sent over the private link,\nit's encrypted, as we said most probably\n\n124\n00:06:37.510 --> 00:06:41.280\nyou're authenticating, so we're not\ngonna worry about talking to strangers,\n\n125\n00:06:41.280 --> 00:06:43.862\nunless they're able to hack their\nway in for some odd reason.\n\n126\n00:06:43.862 --> 00:06:46.492\nWe're gonna encrypt the traffic,\nensuring it is secure.\n\n127\n00:06:46.492 --> 00:06:50.270\nWe're gonna appear to be operating\non the private network internally\n\n128\n00:06:50.270 --> 00:06:53.975\nwith a dedicated IP address on\nthe corporate private internal LAN, or\n\n129\n00:06:53.975 --> 00:06:57.905\naccessing things like printers and\nresources assuming we map them and\n\n130\n00:06:57.905 --> 00:07:00.205\nmake them available locally\nas if we were there.\n\n131\n00:07:00.205 --> 00:07:04.335\nSitting in that office right next to the\nresource or on the same subnet locally,\n\n132\n00:07:04.335 --> 00:07:05.845\nwhatever you want to think of it as.\n\n133\n00:07:05.845 --> 00:07:08.365\nBut we're sitting outside remotely,\nwherever we may be.\n\n134\n00:07:08.365 --> 00:07:10.635\nSo that technology has been around for\na long, long time, right?\n\n135\n00:07:10.635 --> 00:07:12.380\nThat is not brand new.\n\n136\n00:07:12.380 --> 00:07:17.810\nRouting over all has a thought\nprocess around the RRAS solution,\n\n137\n00:07:17.810 --> 00:07:22.140\nis the most basic fundamental\ncore function that RRAS provides.\n\n138\n00:07:22.140 --> 00:07:26.300\nThis is setting up the server that\nwill be multi-homed in other words.\n\n139\n00:07:26.300 --> 00:07:28.910\nInitially the server will have at\nleast two network interfaces on it.\n\n140\n00:07:28.910 --> 00:07:33.120\nOne that will face internal to one or\nmore LANs that we are using or\n\n141\n00:07:33.120 --> 00:07:37.650\nsubnets through the LAN that we\nare using for inside access.\n\n142\n00:07:37.650 --> 00:07:41.020\nOne interface that faces outside\nessentially to the external world\n\n143\n00:07:41.020 --> 00:07:44.660\nthat we could then use to be able\nto provide inbound connection, and\n\n144\n00:07:44.660 --> 00:07:49.070\nmanagement control of inbound connections\nfor direct access VPNs whatever.\n\n145\n00:07:49.070 --> 00:07:52.705\nWhen we set a routing, we're just setting\nup the system that work like a router,\n\n146\n00:07:52.705 --> 00:07:53.885\na software based router.\n\n147\n00:07:53.885 --> 00:07:57.023\nWe probably are throwing\nthat on top of that,\n\n148\n00:07:57.023 --> 00:08:02.473\nnetwork address translation is gonna to\nallow us To be able to hide the internal\n\n149\n00:08:02.473 --> 00:08:07.841\nprivate network IPs from the outside\nworld, by presenting a standardized,\n\n150\n00:08:07.841 --> 00:08:11.918\npublic, IPv4 facing interface,\ntraditionally.\n\n151\n00:08:11.918 --> 00:08:15.705\nThat is gonna be used for all address\nof inbound traffic coming back in,\n\n152\n00:08:15.705 --> 00:08:17.285\nand outbound traffic going out.\n\n153\n00:08:17.285 --> 00:08:20.919\nWe're gonna appear, in other words, as if\nwe're emanating from a single address, and\n\n154\n00:08:20.919 --> 00:08:22.717\nwe use that address for all communication.\n\n155\n00:08:22.717 --> 00:08:27.297\nBut then internally, we have an address\ntable that translates that inbound traffic\n\n156\n00:08:27.297 --> 00:08:30.143\nbecause of the encapsulation\nwe unwrap the packet.\n\n157\n00:08:30.143 --> 00:08:34.206\nAnd we see internally, wait,\nthere's a secondary layer of addressing.\n\n158\n00:08:34.206 --> 00:08:39.455\nAnd we're really looking for 10.005 and\ndelivering that to an endpoint internally,\n\n159\n00:08:39.455 --> 00:08:43.167\non a private class A or class B or\nclass C address, whatever it is.\n\n160\n00:08:43.167 --> 00:08:47.660\nAnd we're gonna just simply strip away\nthe external packet encapsulation.\n\n161\n00:08:47.660 --> 00:08:50.920\nLook at the internal packet addressing,\nand as a second layer,\n\n162\n00:08:50.920 --> 00:08:55.320\ndeliver that packet inside, through\nthe router, through the for instance.\n\n163\n00:08:55.320 --> 00:08:57.990\nSo, we're gonna use routing protocols,\ntraditional ones.\n\n164\n00:08:57.990 --> 00:08:59.720\nOnes I'm sure you're\nprobably familiar with, or\n\n165\n00:08:59.720 --> 00:09:04.565\nyou've heard of at least things like RIP,\nperhaps RIPv2 most likely not just RIP,\n\n166\n00:09:04.565 --> 00:09:06.475\nbut Routing Information Protocol.\n\n167\n00:09:06.475 --> 00:09:09.635\nThings like IGMP,\nInternet Group Management Protocol.\n\n168\n00:09:09.635 --> 00:09:12.865\nThings like, DHCP as a relay agent.\n\n169\n00:09:12.865 --> 00:09:15.675\nWe set up, we've actually shown you\nhow to do that in our prior episodes.\n\n170\n00:09:15.675 --> 00:09:19.775\nWe set up our DHCP relay agent on\nthe RS system and use it there.\n\n171\n00:09:19.775 --> 00:09:22.870\nSo these are the kinda things that would\nbe involved with routing traditionally.\n\n172\n00:09:22.870 --> 00:09:25.469\nAnd then Web Application Proxy.\n\n173\n00:09:25.469 --> 00:09:29.020\nThe Web App Proxy is a reverse\nproxy functionality.\n\n174\n00:09:29.020 --> 00:09:32.520\nWe're providing this for\nusers who have to accept or\n\n175\n00:09:32.520 --> 00:09:36.858\nuse organizations internal based\nweb applications from outside.\n\n176\n00:09:36.858 --> 00:09:40.880\nSo you wanna be able to get into an\ninternal web app that's hosted somewhere,\n\n177\n00:09:40.880 --> 00:09:41.960\nand use it from outside,\n\n178\n00:09:41.960 --> 00:09:45.510\nacross a VPN connection,\nthen the Web App Proxy does this.\n\n179\n00:09:45.510 --> 00:09:49.110\nWe pre-authenticate users coming in,\nauthorize them, understand who they are,\n\n180\n00:09:49.110 --> 00:09:50.090\nand connect them in.\n\n181\n00:09:50.090 --> 00:09:53.530\nWe need Active Directory\nfederation services, potentially,\n\n182\n00:09:53.530 --> 00:09:55.720\nis one way to do pre-authentication.\n\n183\n00:09:55.720 --> 00:09:58.510\nExtensive conversation\nabout how we do ADFS.\n\n184\n00:09:58.510 --> 00:10:03.380\nNot gonna go into, how we do identity and\nfederation management, in general?\n\n185\n00:10:03.380 --> 00:10:08.370\nIn these conversations, in this show or\nany of the shows around,\n\n186\n00:10:08.370 --> 00:10:11.840\nthe 7740, 70 741 content,\nthe Windows networking.\n\n187\n00:10:11.840 --> 00:10:13.532\nBut what we actually have and\nwill have is,\n\n188\n00:10:13.532 --> 00:10:15.936\na whole set of shows on identity\nin Windows Server 2016.\n\n189\n00:10:15.936 --> 00:10:21.576\nThe 7742 show and series of shows, and\nthat's gonna go into ADFS and RMS, and\n\n190\n00:10:21.576 --> 00:10:27.140\nall the other stuff you need,\nABC 123 identity management kind of stuff.\n\n191\n00:10:27.140 --> 00:10:30.320\nBut we're gonna go through that\ndiscussion in those areas.\n\n192\n00:10:30.320 --> 00:10:33.620\nEncourage you at some point,\nto take a look at that conversation and\n\n193\n00:10:33.620 --> 00:10:34.500\nthat content.\n\n194\n00:10:34.500 --> 00:10:36.260\nBut just mentioning here,\n\n195\n00:10:36.260 --> 00:10:41.170\nthat ADFS is going to be used as one\npossible authentication mechanism.\n\n196\n00:10:41.170 --> 00:10:43.103\nWe could also do what's called\npass through authentication.\n\n197\n00:10:43.103 --> 00:10:47.454\nWhere the application itself is\ndoing the actual authentication, not\n\n198\n00:10:47.454 --> 00:10:52.990\nthe Web App Proxy, with ADFS, we're making\nthe Web App Proxy do the authentication.\n\n199\n00:10:52.990 --> 00:10:57.790\nAs a standoff solution, we're gonna\nintegrate the authentication there.\n\n200\n00:10:57.790 --> 00:11:01.559\nAnd we're gonna use ADFS as\nthe proxy capability, or, excuse me,\n\n201\n00:11:01.559 --> 00:11:05.527\nthrough the proxy capability,\ngonna use ADFS to create, and manage,\n\n202\n00:11:05.527 --> 00:11:07.330\nthat authentication request.\n\n203\n00:11:07.330 --> 00:11:11.121\nBut with pass through, we just push the\nauthentication request through he proxy,\n\n204\n00:11:11.121 --> 00:11:13.342\nand the end point application\ninteracts with and\n\n205\n00:11:13.342 --> 00:11:15.270\nauthenticates you, and allows you in.\n\n206\n00:11:15.270 --> 00:11:16.889\nSo, we have a couple of\ndifferent ways of doing this.\n\n207\n00:11:16.889 --> 00:11:21.756\nJust wanna make sure that we are familiar\nwith the thought process of the four\n\n208\n00:11:21.756 --> 00:11:26.337\ndifferent items or options we have\nas we look at starting to configure.\n\n209\n00:11:26.337 --> 00:11:30.180\nAnd setting up our remote access, or\nrouting and remote access solution.\n\n210\n00:11:30.180 --> 00:11:33.400\nWe do have two routing and\nremote access or RAS,\n\n211\n00:11:33.400 --> 00:11:37.580\nRemote Access Management options when\nwe go in and configure the system.\n\n212\n00:11:37.580 --> 00:11:40.012\nWe do have our traditional routing and\nremote access console.\n\n213\n00:11:40.012 --> 00:11:44.480\nAnd we have a routing Remote Access\nManagement interface as well.\n\n214\n00:11:44.480 --> 00:11:47.010\nThought it may be helpful just\nto start taking a look at those.\n\n215\n00:11:47.010 --> 00:11:51.000\nSo if you wanna join me here in the\nconsole, you can see that I've already got\n\n216\n00:11:51.000 --> 00:11:56.120\nrouting and remote access set up,\nin the sense that I've installed the role.\n\n217\n00:11:56.120 --> 00:11:59.320\nWe have it configured in the sense\nthat we can open up and manage it, but\n\n218\n00:11:59.320 --> 00:12:04.110\nyou'll notice, the first thing we have to\ndo is actually configure the RAS server.\n\n219\n00:12:04.110 --> 00:12:08.520\nThe console comes up essentially ready for\nus to do the next step in the process.\n\n220\n00:12:08.520 --> 00:12:10.965\nBut installing is nothing more.\n\n221\n00:12:10.965 --> 00:12:16.580\nLet's go down here,\nthan simply going in through PowerShell.\n\n222\n00:12:16.580 --> 00:12:18.894\nLet me just bring this up so\nyou can see this.\n\n223\n00:12:20.071 --> 00:12:24.810\nAnd adding in the Windows feature,\nyou can probably see it right there.\n\n224\n00:12:24.810 --> 00:12:28.293\nWe used PowerShell to add the Windows\nfeature DirectAcess VPN, and\n\n225\n00:12:28.293 --> 00:12:32.341\nrouting included management tools such\nas what I've kind of trails off to do.\n\n226\n00:12:32.341 --> 00:12:35.549\nAnd you could see we were successful,\ndid not require a restart,\n\n227\n00:12:35.549 --> 00:12:38.527\ninstalled the RAS connection\nmanager administration kit,\n\n228\n00:12:38.527 --> 00:12:41.510\nall the supporting tools and\nall the elements we need.\n\n229\n00:12:41.510 --> 00:12:42.959\nSo we have all that set up.\n\n230\n00:12:43.959 --> 00:12:47.359\nAnd then now that we've done that,\nwe just bring back at my VM,\n\n231\n00:12:47.359 --> 00:12:50.906\nI just hit the wrong minor sign on\nthe console there, there we go.\n\n232\n00:12:50.906 --> 00:12:54.790\nAnd so now that we have that, we're\ninside and about ready to get started.\n\n233\n00:12:54.790 --> 00:12:58.071\nSo before we do that, let me just show\nyou what I was talking about with the two\n\n234\n00:12:58.071 --> 00:13:00.140\ndifferent counsels I was mentioning.\n\n235\n00:13:00.140 --> 00:13:04.410\nUp in the tools area here, this is on\nthe server manager, in the server manager,\n\n236\n00:13:04.410 --> 00:13:07.400\non the box that we\nare making our RAS server.\n\n237\n00:13:07.400 --> 00:13:08.961\nJust scroll down so you can see.\n\n238\n00:13:08.961 --> 00:13:10.760\nI've got Remote Access Management.\n\n239\n00:13:10.760 --> 00:13:14.740\nThis is one of the two consoles and\nuser interfaces we'll use for management.\n\n240\n00:13:14.740 --> 00:13:18.370\nAnd then, the one we're in right now,\nrouting and remote access, or RRAS, right?\n\n241\n00:13:18.370 --> 00:13:22.820\nWe're gonna configure the routing and\nremote access server role first.\n\n242\n00:13:22.820 --> 00:13:25.290\nSo we're gonna go in and take a look at\nthat, and that's where we're gonna start.\n\n243\n00:13:25.290 --> 00:13:26.116\nBut we do have both.\n\n244\n00:13:26.116 --> 00:13:28.735\nJust wanna make sure you're aware of\nthe fact that they are both there.\n\n245\n00:13:28.735 --> 00:13:32.460\nAll right, so let me come down here.\n\n246\n00:13:32.460 --> 00:13:37.090\nLet's just bring back up our RRAS console,\nscroll back up here.\n\n247\n00:13:37.090 --> 00:13:39.170\nAnd, we're gonna right click, and\n\n248\n00:13:39.170 --> 00:13:43.010\nwe're gonna configure as you can see\nenable routing and remote access, so\n\n249\n00:13:43.010 --> 00:13:45.522\nlet's just do that,\nwe're gonna get our little wizard here.\n\n250\n00:13:45.522 --> 00:13:48.856\nIt's gonna come up and\nmake itself available for us.\n\n251\n00:13:48.856 --> 00:13:52.451\nAnd what we're gonna do is, just take a\nlook at the different options we have for\n\n252\n00:13:52.451 --> 00:13:54.556\nconfiguration, before we do anything else.\n\n253\n00:13:54.556 --> 00:13:57.840\nSo let me bring that ups so\nyou guys can see that a little better.\n\n254\n00:13:57.840 --> 00:14:00.590\nAnd just a standard welcome screen,\nnothing too fancy there.\n\n255\n00:14:01.610 --> 00:14:05.470\nAnd then you'll see as we were talking\nabout that we have some options here.\n\n256\n00:14:05.470 --> 00:14:09.150\nRouting and remote access gives us\nas I said different capabilities,\n\n257\n00:14:09.150 --> 00:14:13.790\nremote access dialup or VPN, nut, so\ntraditional straight nut solution.\n\n258\n00:14:14.820 --> 00:14:18.266\nVPN access and nut, so\nwe combine the two together essentially.\n\n259\n00:14:18.266 --> 00:14:21.670\nIndividual options, third one,\nkind of combine those two.\n\n260\n00:14:21.670 --> 00:14:23.813\nSecurity connection between\ntwo private networks.\n\n261\n00:14:23.813 --> 00:14:27.106\nThis will be something like branch\noffice connectivity site to site\n\n262\n00:14:27.106 --> 00:14:28.630\nVPN as I was talking about.\n\n263\n00:14:28.630 --> 00:14:32.670\nThat we could set up an indicated private\ninternal network of some kind, or\n\n264\n00:14:32.670 --> 00:14:35.320\na custom configuration where\nwere able to go in and\n\n265\n00:14:35.320 --> 00:14:38.650\ndecide how we want to\nspecify our configuration.\n\n266\n00:14:38.650 --> 00:14:40.450\nEssentially, manually make choices.\n\n267\n00:14:40.450 --> 00:14:45.700\nThe options that we see here, are going\nto have a preset set of steps and\n\n268\n00:14:45.700 --> 00:14:47.660\nscreens that we answer questions through.\n\n269\n00:14:47.660 --> 00:14:50.380\nKind of almost like a templated\ndeployment that is gonna\n\n270\n00:14:50.380 --> 00:14:54.450\nfocus us in on just configuring\nthat aspect of the RRAS solution.\n\n271\n00:14:54.450 --> 00:14:58.300\nIf you want a little more flexibility,\nyou will do the custom solution down at\n\n272\n00:14:58.300 --> 00:15:02.170\nthe bottom, where we set up things like\nrouting for instance, generically, right?\n\n273\n00:15:02.170 --> 00:15:05.510\nSo I'm gonna go in and view custom,\nand we'll just click here.\n\n274\n00:15:05.510 --> 00:15:10.170\nAnd you'll see, then, we can choose any or\nall of the options we had there, but\n\n275\n00:15:10.170 --> 00:15:12.780\nwe also have land routing,\njust traditional routing.\n\n276\n00:15:12.780 --> 00:15:16.350\nCuz remember, one of the functions RRAS\nprovides is as a traditional software\n\n277\n00:15:16.350 --> 00:15:18.555\nbased router, so we could do this as well.\n\n278\n00:15:18.555 --> 00:15:20.166\nBe up to us to decide.\n\n279\n00:15:20.166 --> 00:15:22.460\nLet me just go back here for one second.\n\n280\n00:15:22.460 --> 00:15:24.230\nIf you were to choose, hypothetically,\n\n281\n00:15:24.230 --> 00:15:27.320\none of these options to show\nyou what may exist here.\n\n282\n00:15:27.320 --> 00:15:32.070\nYou'll see that, it's grayed out\ndepending on what we have set up and\n\n283\n00:15:32.070 --> 00:15:34.719\ndecided to do,\nyou will have different options to choose.\n\n284\n00:15:36.788 --> 00:15:38.330\nJust choose the net one there.\n\n285\n00:15:38.330 --> 00:15:41.506\nRight, you'll see create a new\ndemand interface for the Internet.\n\n286\n00:15:41.506 --> 00:15:45.090\nWe may have some set up we have to do\nto provide interface management for\n\n287\n00:15:45.090 --> 00:15:46.510\nsetting this up, initially.\n\n288\n00:15:46.510 --> 00:15:49.612\nSo, the Wizard kinda constraints us and\ndoes us some different things.\n\n289\n00:15:49.612 --> 00:15:52.121\nBut it directs us into path\nwe need to go to stand up and\n\n290\n00:15:52.121 --> 00:15:54.817\nconfigure the role based on\nthe choices we're making.\n\n291\n00:15:54.817 --> 00:15:56.070\nSo we're gonna choose\nCustom Configuration.\n\n292\n00:15:56.070 --> 00:15:58.490\nWe have different options here.\n\n293\n00:15:58.490 --> 00:16:00.254\nWe're gonna do or set up an LAN router.\n\n294\n00:16:00.254 --> 00:16:01.487\nSo we're gonna go ahead and\ncheck that off.\n\n295\n00:16:01.487 --> 00:16:06.024\nIt's gonna be a very short trip cuz once\nwe do that we're essentially then going to\n\n296\n00:16:06.024 --> 00:16:08.150\nhit Next and we're gonna be set to go.\n\n297\n00:16:08.150 --> 00:16:12.460\nIt's just gonna go ahead and configure it,\nstart the service, we'll see that happen.\n\n298\n00:16:12.460 --> 00:16:16.050\nAnd then, by the way,\nI can remember back probably to NT4,\n\n299\n00:16:16.050 --> 00:16:20.100\nI mean this service and this thought\nprocess has been around for some time.\n\n300\n00:16:20.100 --> 00:16:22.760\nAnd the screen you're about to\nsee where it starts the service,\n\n301\n00:16:22.760 --> 00:16:25.180\nit has like the little pizza\npan clock kinda thing.\n\n302\n00:16:25.180 --> 00:16:27.070\nIt's go the circle,\nyou've probably seen it.\n\n303\n00:16:27.070 --> 00:16:28.855\nWith all the notches on it\nit looks like the clock?\n\n304\n00:16:28.855 --> 00:16:29.680\n&gt;&gt; Mm-hm.\n&gt;&gt; And it goes, and\n\n305\n00:16:29.680 --> 00:16:31.360\nI'm starting the service and\nit goes around.\n\n306\n00:16:31.360 --> 00:16:32.340\nThat's been around for\n\n307\n00:16:32.340 --> 00:16:37.300\nprobably close to 20 years they have\nnot changed that box on that interface.\n\n308\n00:16:37.300 --> 00:16:39.430\nIt has looked the same forever, right?\n\n309\n00:16:39.430 --> 00:16:41.437\n&gt;&gt; Well,\neven when you're walking through this and\n\n310\n00:16:41.437 --> 00:16:44.130\nyou see some of the terminology and\nit says enter the phone number.\n\n311\n00:16:44.130 --> 00:16:46.150\nSome of these-\n&gt;&gt; Of the dial up yeah.\n\n312\n00:16:46.150 --> 00:16:48.610\n&gt;&gt; It kinda seems like a little,\nit's been around a while.\n\n313\n00:16:49.630 --> 00:16:51.050\nIt has.\n\n314\n00:16:51.050 --> 00:16:55.500\n&gt;&gt; All right, so you see here we did that,\njust start service, we click there.\n\n315\n00:16:55.500 --> 00:16:58.880\nThat thing right there, that's been\naround, that's older than I am.\n\n316\n00:16:58.880 --> 00:17:00.560\nThat's how long that's been around, right?\n\n317\n00:17:00.560 --> 00:17:01.850\nSo that just says it has not changed,\nright?\n\n318\n00:17:01.850 --> 00:17:05.560\nSo it's just starting the service up and\nit's just setting it up, configuring.\n\n319\n00:17:05.560 --> 00:17:07.050\nIt doesn't take very long, as you can see.\n\n320\n00:17:07.050 --> 00:17:11.160\nAnd then once we've done that,\nyou will see that.\n\n321\n00:17:11.160 --> 00:17:14.865\nOur little red circle with a, hey,\nyou need to configure me sign.\n\n322\n00:17:14.865 --> 00:17:18.038\nIt's change that and now we actually\nhave the system up and running,\n\n323\n00:17:18.038 --> 00:17:22.080\nit got a white circle there or the green\ntriangle that indicates it's running\n\n324\n00:17:22.080 --> 00:17:24.410\nlocal, we're on the machine\nwe're managing locally.\n\n325\n00:17:24.410 --> 00:17:26.410\nWe've got our network interfaces.\n\n326\n00:17:26.410 --> 00:17:31.054\nWe've got our, let's see if we can just\nextend that out there so you can see.\n\n327\n00:17:31.054 --> 00:17:33.490\nWe've got a Routing and\nRemote Access, Logging and Policies,\n\n328\n00:17:33.490 --> 00:17:34.941\njust trying to show you what that was.\n\n329\n00:17:34.941 --> 00:17:38.780\nWe've got our IPv4 and IPv6 information.\n\n330\n00:17:38.780 --> 00:17:44.900\nRemember, we do support both IPv4 and\nIPv6, so we can see that.\n\n331\n00:17:44.900 --> 00:17:47.040\nAnd we can go in, there we go,\n\n332\n00:17:47.040 --> 00:17:52.380\nit's like impossible to grab the edge\nof that thing and actually move it.\n\n333\n00:17:52.380 --> 00:17:56.883\nAnd then we can go ahead and we can start\nto figure out what it is that we're going\n\n334\n00:17:56.883 --> 00:18:01.249\nto do, or how we're gonna actually\nconfigure and go in and start to setup and\n\n335\n00:18:01.249 --> 00:18:02.425\nuse the interface.\n\n336\n00:18:02.425 --> 00:18:04.638\nSo we're going to do some of\nthat as we go through but\n\n337\n00:18:04.638 --> 00:18:07.569\nlet's just spend a few minutes just\ngetting a feel for the console,\n\n338\n00:18:07.569 --> 00:18:11.189\nlet's not worry too much about how we're\ngoing to configure things at the moment.\n\n339\n00:18:11.189 --> 00:18:12.847\nReally just poke around under the hood,\n\n340\n00:18:12.847 --> 00:18:16.113\nlets take the look some of the properties\nof things we can examine and make sure we\n\n341\n00:18:16.113 --> 00:18:19.111\nunderstand the working mechanics of\nwhere we are and what we're doing.\n\n342\n00:18:19.111 --> 00:18:21.936\nSo we're in the console here,\nas you can see,\n\n343\n00:18:21.936 --> 00:18:26.760\nif I wanna add a server right at the top\nI can manage more than one server here.\n\n344\n00:18:26.760 --> 00:18:30.070\nMost of these consoles have the ability\nto be able to be focused on\n\n345\n00:18:30.070 --> 00:18:32.990\ndifferent instances and\ntherefore bring them in and manage them.\n\n346\n00:18:32.990 --> 00:18:37.110\nSo that way if we're centrally working, we\ngot a bunch of different remote servers.\n\n347\n00:18:37.110 --> 00:18:39.860\nWe can go ahead and connect to them and\ninteract with them.\n\n348\n00:18:39.860 --> 00:18:45.080\nWe may have a cool feature like IPAM\nwhere we can bring in multiple DHCP and\n\n349\n00:18:45.080 --> 00:18:47.270\nDNS service in one place and\nmanage them all.\n\n350\n00:18:47.270 --> 00:18:49.680\nBut we may not be using\na feature like that, and so,\n\n351\n00:18:49.680 --> 00:18:53.160\nmaybe we just have a console list to be\nfocused on an individual system, right?\n\n352\n00:18:53.160 --> 00:18:56.500\nSo just be aware of that, one of those\nkind of things would be helpful.\n\n353\n00:18:56.500 --> 00:18:58.530\nSo we do have that ability here.\n\n354\n00:18:58.530 --> 00:19:01.918\nWe do have our sever status,\njust click there and we can see,\n\n355\n00:19:01.918 --> 00:19:06.438\nit is a server 16 standard server,\nit's called pladdc02, it has started,\n\n356\n00:19:06.438 --> 00:19:10.242\nno ports currently in use, been up for\nabout two minutes right now.\n\n357\n00:19:10.242 --> 00:19:13.024\nSo you're going to see some\nbasic information there, but\n\n358\n00:19:13.024 --> 00:19:15.220\nthat does show us a server status here.\n\n359\n00:19:15.220 --> 00:19:19.840\nAnd you could see,\nhighlight an individual server and\n\n360\n00:19:19.840 --> 00:19:23.530\nyou'll see that,\nit detected an error with the snap and\n\n361\n00:19:23.530 --> 00:19:25.950\nrecommended you should shut down and\nrestart the MMC.\n\n362\n00:19:25.950 --> 00:19:27.750\nWe can actually ignore that error,\nno big deal.\n\n363\n00:19:27.750 --> 00:19:30.410\nThere's no error right now\nthat we have to worry about.\n\n364\n00:19:30.410 --> 00:19:35.440\nI was just showing you that when you go\nto highlight, there's no option here,\n\n365\n00:19:35.440 --> 00:19:36.880\njust highlighting and\nkind of looking at it.\n\n366\n00:19:36.880 --> 00:19:38.490\nSo, we see server status.\n\n367\n00:19:38.490 --> 00:19:39.680\nNo big deal.\n\n368\n00:19:39.680 --> 00:19:42.270\nWhen we come over here to\nour plad DC local machine,\n\n369\n00:19:42.270 --> 00:19:44.300\nyou'll see that we can right click.\n\n370\n00:19:44.300 --> 00:19:47.600\nWe do wanna disable RAS or\n[INAUDIBLE] for some reason.\n\n371\n00:19:47.600 --> 00:19:50.450\nWe can go ahead and we can do that\nright from where we configured it.\n\n372\n00:19:50.450 --> 00:19:52.530\nSo you see we have the option to do that.\n\n373\n00:19:52.530 --> 00:19:55.895\nWe will be talking about direct\naccess in some upcoming episodes.\n\n374\n00:19:55.895 --> 00:19:58.821\nAnd you'll see enabling direct access\nis a right click on the server and\n\n375\n00:19:58.821 --> 00:20:01.719\nthen there's a wizard of course,\nwe walk through we'll set that up.\n\n376\n00:20:01.719 --> 00:20:04.252\nSo we have capabilities to go in and\ndo that but\n\n377\n00:20:04.252 --> 00:20:07.420\nwe will certainly be coming back and\ntaking a look.\n\n378\n00:20:07.420 --> 00:20:08.395\nWe do have all task,\n\n379\n00:20:08.395 --> 00:20:11.710\ntypically all task more often that not\nespecially in most of these consoles.\n\n380\n00:20:11.710 --> 00:20:14.770\nWhile it may involve other things\nmaybe backing up, exporting,\n\n381\n00:20:14.770 --> 00:20:18.080\ndepending on the console, it always\nwith that exception in both stopping and\n\n382\n00:20:18.080 --> 00:20:19.330\nstarting the services.\n\n383\n00:20:19.330 --> 00:20:21.440\nSo when you have to go do that,\nif you're looking for\n\n384\n00:20:21.440 --> 00:20:25.200\nwhere to do that, that's always gonna\nbe up under all tasks on the instance.\n\n385\n00:20:25.200 --> 00:20:26.120\nSo you'll see that there.\n\n386\n00:20:26.120 --> 00:20:29.770\nYour standard view,\ncustomized the interface, etc.\n\n387\n00:20:29.770 --> 00:20:31.820\nWe can go in, look at properties.\n\n388\n00:20:31.820 --> 00:20:34.080\nSo we're just gonna right\nclick our two properties here.\n\n389\n00:20:34.080 --> 00:20:36.008\nLet me bring this up so you can see this,\n\n390\n00:20:36.008 --> 00:20:38.650\nwithout going across to\nthe top of the VM window here.\n\n391\n00:20:38.650 --> 00:20:41.220\nAll right, so you can see we do have\nsome interesting property tabs,\n\n392\n00:20:41.220 --> 00:20:43.210\njust some things to note here.\n\n393\n00:20:43.210 --> 00:20:46.350\nOn the General area we have set\nthis ups as an IPv4 router, right?\n\n394\n00:20:46.350 --> 00:20:48.140\nWe're doing LAN routing only, but\n\n395\n00:20:48.140 --> 00:20:54.640\nnotice we can change the interface enable\nIPv6 support by setting up IPv6 routing.\n\n396\n00:20:54.640 --> 00:20:57.643\nI'm tripping over IPv this morning.\n\n397\n00:20:57.643 --> 00:20:59.537\nWe could set up four and\nsix based routing, there we go, right?\n\n398\n00:20:59.537 --> 00:21:01.880\n&gt;&gt; Yeah, because you've done it for\nso long.\n\n399\n00:21:01.880 --> 00:21:05.790\n&gt;&gt; I think I used up my quota for\nall of those on the IPv4 and IPv6 shows.\n\n400\n00:21:05.790 --> 00:21:09.140\nI think I no longer can say that cuz\nwe spent so much time talking about it.\n\n401\n00:21:09.140 --> 00:21:13.150\nSo IPv4 and\nIPv6 capabilities can be enabled here.\n\n402\n00:21:13.150 --> 00:21:17.030\nRemember, since we chose\njust initially to set it up\n\n403\n00:21:17.030 --> 00:21:22.200\nas a router we didn't enable the remote\naccess capabilities to do things like VPN.\n\n404\n00:21:22.200 --> 00:21:26.010\nWe could set those up and configure them\nhere and check off boxes to enable that,\n\n405\n00:21:26.010 --> 00:21:30.270\nbut we just basically set this up as\na router and nothing more initially.\n\n406\n00:21:30.270 --> 00:21:33.390\nSo, we'll just locate the options\nhere which is why certain things\n\n407\n00:21:33.390 --> 00:21:36.380\nhave not been checked off cuz we\ndidn't make choices to use them.\n\n408\n00:21:36.380 --> 00:21:37.900\nWe do have security here.\n\n409\n00:21:37.900 --> 00:21:42.240\nOur authentication providers and\nour accounting providers are here.\n\n410\n00:21:42.240 --> 00:21:46.050\nInteresting conversation, a lot of\ntimes people will get confused when\n\n411\n00:21:46.050 --> 00:21:50.190\nwe talk about authentication\nversus accounting, right?\n\n412\n00:21:50.190 --> 00:21:54.240\nAnd the idea of accounting is really the\nidea of the RADIUS portion of our program.\n\n413\n00:21:54.240 --> 00:21:58.770\nBeing able to use what's called AAA,\nauthorization, access control and\n\n414\n00:21:58.770 --> 00:22:03.660\naccounting is really just tracking\nusage and keeping track of\n\n415\n00:22:03.660 --> 00:22:08.250\nthrough logging the inbound and outbound\ntraffic that sessions are engaging in.\n\n416\n00:22:08.250 --> 00:22:09.460\nSo a RADIUS server or\n\n417\n00:22:09.460 --> 00:22:14.720\nRADIUS solution allows us to do\nthat tracking and that auditing.\n\n418\n00:22:14.720 --> 00:22:18.470\nAnd this is what ISPs among\nmany other organizations use.\n\n419\n00:22:18.470 --> 00:22:22.155\nAny of us that connect from home or\non Internet connection somewhere,\n\n420\n00:22:22.155 --> 00:22:26.135\nare most likely going through,\nif you're using an ISP to do that,\n\n421\n00:22:26.135 --> 00:22:30.290\nare going through one more RADIUS\nserver somewhere in that chain.\n\n422\n00:22:30.290 --> 00:22:34.500\nKeeping track of your session, what l\ndid to connect from, MAC address are you\n\n423\n00:22:34.500 --> 00:22:38.150\nusing, what kind of traffic are you\ngenerating, how long have you been there?\n\n424\n00:22:38.150 --> 00:22:42.180\nThat way you get up to no good, I'm not\nsuggesting you would I'm just pointing\n\n425\n00:22:42.180 --> 00:22:46.840\nout that if you get attempted to, remember\nthe dark side is the strong force, right?\n\n426\n00:22:46.840 --> 00:22:51.466\nIf you ever get tempted to go out and\nto engage in activities and\n\n427\n00:22:51.466 --> 00:22:56.550\nnefarious or perhaps ethical and legal,\nwe do have an ability to track that.\n\n428\n00:22:56.550 --> 00:22:59.720\nThat's why you get those nasty cease and\ndesist letters from ISPs every so\n\n429\n00:22:59.720 --> 00:23:01.700\noften, when either at your business,\n\n430\n00:23:01.700 --> 00:23:04.160\nsomebody is doing something\nthey're not supposed to do.\n\n431\n00:23:04.160 --> 00:23:07.610\nMaybe you're not aware of it, but maybe\nthey're doing file sharing or stuff like\n\n432\n00:23:07.610 --> 00:23:11.500\nthat, using one of those P2P clients, and\nthey're not supposed to be doing that.\n\n433\n00:23:11.500 --> 00:23:13.930\nAnd you'll get a letter from\nthe ISP essentially saying, hey,\n\n434\n00:23:13.930 --> 00:23:17.240\nby the way,\nthis activity was spotted on your network.\n\n435\n00:23:17.240 --> 00:23:19.224\nCut it out or we're gonna cut you off.\n\n436\n00:23:19.224 --> 00:23:21.494\nThey know you're doing that because\nthey're running RADIUS solutions.\n\n437\n00:23:21.494 --> 00:23:24.966\nSo the accounting capability here\nis what we're talking about and\n\n438\n00:23:24.966 --> 00:23:26.148\nthat's what that is.\n\n439\n00:23:26.148 --> 00:23:30.614\nThe authentication provider, you'll see\nwe can do this either through the RADIUS\n\n440\n00:23:30.614 --> 00:23:33.950\nauthentication or\nWindows authentication provider.\n\n441\n00:23:33.950 --> 00:23:37.900\nAnd we then have our authentication\nmethods that we can use here.\n\n442\n00:23:37.900 --> 00:23:42.490\nWe do have Extensible Authentication\nProtocol support, what we call EAP.\n\n443\n00:23:42.490 --> 00:23:45.120\nThis is a framework that\nallows us to extend and\n\n444\n00:23:45.120 --> 00:23:48.630\nadd additional authentication\nmechanism as they become available.\n\n445\n00:23:48.630 --> 00:23:52.879\nThings like smart card support, for\ninstance, is enabled through the use EAP.\n\n446\n00:23:52.879 --> 00:23:56.728\nAlso we do have Microsoft Encrypted\nAuthentication version 2.\n\n447\n00:23:56.728 --> 00:24:00.890\nWe usually just call that commonly\nMS-CHAPv2 So we do have MS-CHAP v2,\n\n448\n00:24:00.890 --> 00:24:05.830\nwe do have CHAP, that is the non-Microsoft\nversion of CHAP, just to be clear.\n\n449\n00:24:05.830 --> 00:24:08.710\nPAP, that's the unencrypted\nversion you should never,\n\n450\n00:24:08.710 --> 00:24:10.520\never use under any circumstances.\n\n451\n00:24:10.520 --> 00:24:13.010\nI made this point in my notes by the way,\njust to be clear for\n\n452\n00:24:13.010 --> 00:24:17.540\nyou, CHAP here is not\nMicrosoft CHAP as I said, but CHAP.\n\n453\n00:24:17.540 --> 00:24:20.531\nThere is two, there are as I should say,\nwe try that talking in the second,\n\n454\n00:24:20.531 --> 00:24:22.681\nthird, fourth, and\nfifth person earlier, right?\n\n455\n00:24:22.681 --> 00:24:25.260\n&gt;&gt; Yeah.\n&gt;&gt; So, there is and are, there are two\n\n456\n00:24:25.260 --> 00:24:29.495\nversions of Microsoft implemented CHAP\nthat have been around for some time.\n\n457\n00:24:29.495 --> 00:24:33.240\nMS-CHAP, which you do not see here and\nthe newer version,\n\n458\n00:24:33.240 --> 00:24:36.810\nnewer still being relatively old, it's\nbeen around for a while now, MS-CHAP v2.\n\n459\n00:24:37.810 --> 00:24:41.670\nNotice that we no longer support MS-CHAP,\nthat has been deprecated, it's gone,\n\n460\n00:24:41.670 --> 00:24:46.940\nwe only support MS-CHAP v2 on the\nMicrosoft-specific implementation of CHAP.\n\n461\n00:24:46.940 --> 00:24:51.130\nCHAP generically is the industry\nstandard version of CHAP.\n\n462\n00:24:51.130 --> 00:24:56.471\nSo CHAP and PAP are going to\nbe non-Microsoft specific.\n\n463\n00:24:56.471 --> 00:24:59.960\nAnd MS-CHAP v2 is\nthe Microsoft customized or\n\n464\n00:24:59.960 --> 00:25:02.580\ntweaked implementation of CHAP just so\nyou know.\n\n465\n00:25:02.580 --> 00:25:07.350\nI make the point in my notes that CHAP and\nPAP, although they are available,\n\n466\n00:25:07.350 --> 00:25:08.780\nalthough you can use them,\n\n467\n00:25:08.780 --> 00:25:13.400\nare not recommended because of the fact\nthat they are considered to be\n\n468\n00:25:13.400 --> 00:25:16.370\na vulnerable path especially\nbecause it just sends in the clear.\n\n469\n00:25:16.370 --> 00:25:18.510\nThere is really nothing more\nto say about it than that, so\n\n470\n00:25:18.510 --> 00:25:22.530\nthere is never a good reason to be\nusing PAP with one exception which is,\n\n471\n00:25:22.530 --> 00:25:28.440\nif you have very old clients or some sort\nof odd kind of a system that requires\n\n472\n00:25:28.440 --> 00:25:31.730\nthis because of a vendor specification\ndue to the way it configures and\n\n473\n00:25:31.730 --> 00:25:33.860\nconnects, you may have to provide that.\n\n474\n00:25:33.860 --> 00:25:37.370\nThat's really the only\nreason that it's still here.\n\n475\n00:25:37.370 --> 00:25:40.090\nOther than that there's really\nnever a good reason to be using PAP\n\n476\n00:25:40.090 --> 00:25:41.420\neven internally.\n\n477\n00:25:41.420 --> 00:25:44.980\nEven on private internal networks where\nyou're maybe doing routing internally\n\n478\n00:25:44.980 --> 00:25:49.170\nbetween different sites or\nwithin on the land different areas.\n\n479\n00:25:49.170 --> 00:25:52.300\nMaybe from production over to\ntesting that kind of thing.\n\n480\n00:25:52.300 --> 00:25:56.481\nThere's never a good reason to use PAP,\nbecause anybody who's an insider,\n\n481\n00:25:56.481 --> 00:26:00.919\nan insider threat in other words, somebody\nwho's an authorized employee on your\n\n482\n00:26:00.919 --> 00:26:03.363\nnetwork, looking at all that information,\n\n483\n00:26:03.363 --> 00:26:07.575\nthey're gonna see that stream in\nthe clear if they're network monitoring.\n\n484\n00:26:07.575 --> 00:26:11.705\nAnd as a result of that, we don't want to\nexpose usernames and passwords, right,\n\n485\n00:26:11.705 --> 00:26:13.419\nbecause that's just really bad.\n\n486\n00:26:13.419 --> 00:26:16.369\nSo I make the point in the notes,\njust to remind you, that CHAP and\n\n487\n00:26:16.369 --> 00:26:19.990\nPAP, although they're supported,\nare not recommended for use.\n\n488\n00:26:19.990 --> 00:26:22.860\nIn other words, if you're ever\nasked in the real world, you can\n\n489\n00:26:22.860 --> 00:26:26.386\ncertainly talk about the fact they are\nsupported but probably not recommended.\n\n490\n00:26:26.386 --> 00:26:31.870\nAnd, unless a vendor specifies there's\nsetting that requires this, and\n\n491\n00:26:31.870 --> 00:26:35.860\nyou have a discussion internally about the\nefficacy of doing this in a non-encrypted\n\n492\n00:26:35.860 --> 00:26:38.550\nway, you probably don't want to make\nthose choices, so just know that.\n\n493\n00:26:38.550 --> 00:26:44.489\nSo EAP-MSCHAPv2, certainly a machine\ncertificate authentication for\n\n494\n00:26:44.489 --> 00:26:47.324\nthe use and setup of L2TP/IPSec.\n\n495\n00:26:47.324 --> 00:26:51.386\nWe have IKEv2, so we do our key exchange,\ncertificate exchange and stuff like that.\n\n496\n00:26:51.386 --> 00:26:54.474\nSo we do have that capability here\non authenticated access, right,\n\n497\n00:26:54.474 --> 00:26:58.010\nwe actually just allow systems to\nconnect without authentication.\n\n498\n00:26:58.010 --> 00:27:03.510\nQuite honestly, if you had to choose and\ntheoretically a scenario or word problem\n\n499\n00:27:03.510 --> 00:27:08.020\nor a hey what's the right answer gonna\nbe to get this question right activity.\n\n500\n00:27:08.020 --> 00:27:12.480\nAnd you were given solution or a scenario\nthat forced you to make a choice between\n\n501\n00:27:12.480 --> 00:27:18.240\nusing PAP, CHAP, and/or allow\nconnectivity without authentication.\n\n502\n00:27:18.240 --> 00:27:20.600\nYou'd have to think long and\nhard about which one to do.\n\n503\n00:27:20.600 --> 00:27:24.400\nDepending on the parameters of\nthe question, essentially connect without\n\n504\n00:27:24.400 --> 00:27:27.340\nauthentication may actually be\na better choice than using PAP and\n\n505\n00:27:27.340 --> 00:27:29.240\nexposing user names and passwords.\n\n506\n00:27:29.240 --> 00:27:30.990\nSo just keep that in mind and\nbe aware of that.\n\n507\n00:27:30.990 --> 00:27:32.470\nSo just wanna think about that and\n\n508\n00:27:32.470 --> 00:27:36.140\njust make sure that you\nare thinking along those lines.\n\n509\n00:27:36.140 --> 00:27:37.680\nSo, we do have\nauthentication methods here.\n\n510\n00:27:37.680 --> 00:27:39.230\nYou would check off obviously and\n\n511\n00:27:39.230 --> 00:27:42.460\nengage the appropriate choices\nbased on what you wanna do.\n\n512\n00:27:42.460 --> 00:27:46.880\nFor accounting, you'll see we do have\nthe radius solution as well as the Windows\n\n513\n00:27:46.880 --> 00:27:49.135\nsupported solution internally,\nin other words.\n\n514\n00:27:49.135 --> 00:27:53.103\nWe have that and then Andrew we have none,\nwe can specify what we want there,\n\n515\n00:27:53.103 --> 00:27:57.195\nwe can set up IP set policies for LTTPI\nconnections just mentioned we can use IKE\n\n516\n00:27:57.195 --> 00:27:59.372\nfor the key exchange there so we see that.\n\n517\n00:27:59.372 --> 00:28:04.204\nSSL certificate binding could be\nspecified here as well, we have some very\n\n518\n00:28:04.204 --> 00:28:09.265\ninteresting options we can go ahead and\nspecify what our certificates would be\n\n519\n00:28:09.265 --> 00:28:14.670\nto use the SSTP option, the secure socket\ntunneling protocol, for our VPN's.\n\n520\n00:28:14.670 --> 00:28:18.810\nWe'll talk more about SSTP and get into\nthat in probably our next episode,\n\n521\n00:28:18.810 --> 00:28:20.210\njust in an upcoming conversation-\n&gt;&gt; Right\n\n522\n00:28:20.210 --> 00:28:21.120\n&gt;&gt; As we walk through and\n\n523\n00:28:21.120 --> 00:28:24.190\nactually continue some of the demo here,\nreally just over viewing some things.\n\n524\n00:28:24.190 --> 00:28:28.440\nBut SSTP support is a newer\nsupport option in the VPN and\n\n525\n00:28:28.440 --> 00:28:30.760\nallows us to do secure socket tunneling.\n\n526\n00:28:30.760 --> 00:28:34.930\nSo we're able to essentially do this\non bind with our SSL listener and\n\n527\n00:28:34.930 --> 00:28:36.410\nprovide a certificate to enable that.\n\n528\n00:28:36.410 --> 00:28:38.360\nSo we can set that up if we'd like.\n\n529\n00:28:38.360 --> 00:28:40.900\nIPv4 address assignments, you'll see here.\n\n530\n00:28:40.900 --> 00:28:45.760\nWe can either use DHCP and/or Static Pool,\nso you can see we can go in and do that.\n\n531\n00:28:45.760 --> 00:28:49.700\nWe do have the ability here on\nIPv6 to essentially set up and\n\n532\n00:28:49.700 --> 00:28:52.490\nenable forwarding,\ndefault router advertisements.\n\n533\n00:28:52.490 --> 00:28:56.570\nRemember, we provide configuration\ninformation to the hosts for\n\n534\n00:28:56.570 --> 00:28:58.950\nIPv6 through router advertisements\ntraditionally, right?\n\n535\n00:28:58.950 --> 00:29:03.520\nSo we're not relying on DHCP for as much\ncuz we're probably gonna get a lot of that\n\n536\n00:29:03.520 --> 00:29:06.340\nfrom our router advertisement,\nor at least some of it anyway.\n\n537\n00:29:06.340 --> 00:29:10.166\nThings like a DNS specification for\na DNS server,\n\n538\n00:29:10.166 --> 00:29:14.184\nwould have to come through\nthe DHCP option, right?\n\n539\n00:29:14.184 --> 00:29:18.020\nWhere we get the router advertisers and\ntells us to go and use the DHCP server.\n\n540\n00:29:18.020 --> 00:29:19.790\nBut basic information for\n\n541\n00:29:19.790 --> 00:29:22.610\nIPv6 addressing will typically\ncome from a router advertisement.\n\n542\n00:29:22.610 --> 00:29:25.670\nSo we've talked about that in\nour IPv6 overview episode.\n\n543\n00:29:25.670 --> 00:29:27.790\nSo, just wanna make sure\nyou're aware of that.\n\n544\n00:29:27.790 --> 00:29:30.850\nWe do have settings for\nIKEv2, just the controls and\n\n545\n00:29:30.850 --> 00:29:32.915\nthe timeout settings\naround the connections.\n\n546\n00:29:32.915 --> 00:29:36.860\nRRSA associations, in terms of\nhow we negotiate our connectivity\n\n547\n00:29:36.860 --> 00:29:41.230\nagreements going in each direction, cuz\nthey're gonna be [COUGH] unidirectional.\n\n548\n00:29:41.230 --> 00:29:42.930\nSo we need two of them to connect and\n\n549\n00:29:42.930 --> 00:29:46.700\nactually be able to use L2TP\nin both directions with IPsec.\n\n550\n00:29:46.700 --> 00:29:48.630\nSo we just wanna make\nsure we're aware of that.\n\n551\n00:29:48.630 --> 00:29:53.310\nOur PPP solutions here, our point to point\nprotocol solutions are supported, so\n\n552\n00:29:53.310 --> 00:29:57.970\nyou know very old kind of first\ngeneration, routing protocol support for\n\n553\n00:29:57.970 --> 00:29:59.820\ntunneling so we can see them here.\n\n554\n00:29:59.820 --> 00:30:03.578\nAnd then of course our login\ninformation on the interface as well.\n\n555\n00:30:03.578 --> 00:30:06.930\nBy default typically,\non most interfaces, in most systems,\n\n556\n00:30:06.930 --> 00:30:10.950\nin most consoles, we're usually logging\nerrors and warnings, pretty standard.\n\n557\n00:30:10.950 --> 00:30:14.035\nBut you'll see we can specify\nthat we wanna change that up,\n\n558\n00:30:14.035 --> 00:30:19.130\nyou do all events as well, don't log\nevents, log additional information,\n\n559\n00:30:19.130 --> 00:30:21.560\nthat's the equivalent of\nverbose routing for debugging.\n\n560\n00:30:21.560 --> 00:30:24.510\nSo we'll be able to manipulate and\nmodify what we wanna do here.\n\n561\n00:30:24.510 --> 00:30:27.630\nSo these are all the properties\nthat are up here on the server.\n\n562\n00:30:27.630 --> 00:30:29.730\nAnd then we get into our interface areas,\nand\n\n563\n00:30:29.730 --> 00:30:32.930\nwe'll take a look at some of these in the\nupcoming conversations, as we go in and\n\n564\n00:30:32.930 --> 00:30:35.440\nstart to play around a little\nbit more with the configuration.\n\n565\n00:30:35.440 --> 00:30:40.530\nJust really wanted to give you an overview\nof what the service provides, how it looks\n\n566\n00:30:40.530 --> 00:30:43.870\nwhen the go through and initially choose\nto configure it, and what those settings\n\n567\n00:30:43.870 --> 00:30:47.380\nlook like initially on the property areas\nas we begin to delve a little bit deeper\n\n568\n00:30:47.380 --> 00:30:52.180\ninto the mysteries of our wrath\n&gt;&gt; The mystery, so thank you so much for\n\n569\n00:30:52.180 --> 00:30:55.480\nshowing us the basic navigation in\ngetting act committed there but\n\n570\n00:30:55.480 --> 00:30:59.500\nlike you had mentioned you really gotta\ndive in and practice for yourself, but\n\n571\n00:30:59.500 --> 00:31:02.670\nI wanted to point something out\nsomeone had noted in chat there,\n\n572\n00:31:02.670 --> 00:31:05.060\nthat you are utilizing\ncertain domain controllers.\n\n573\n00:31:05.060 --> 00:31:07.730\nThey saw the naming convention for\nthe P-LAB, which stands for\n\n574\n00:31:07.730 --> 00:31:11.530\npractice lab, which you should have access\nto with your account, so I just wanted to\n\n575\n00:31:11.530 --> 00:31:14.510\nremind you its It's great to build\nup your own virtual environment, but\n\n576\n00:31:14.510 --> 00:31:18.590\nsome of the topics that we have been and\nwill be discussing are rather involved.\n\n577\n00:31:18.590 --> 00:31:19.770\nThey require quite the setup.\n\n578\n00:31:19.770 --> 00:31:23.290\nSo, please take advantage of the labs\nthat you guys already have access to, and\n\n579\n00:31:23.290 --> 00:31:24.610\njust keep that in mind.\n\n580\n00:31:24.610 --> 00:31:26.770\nBut for this show,\nwe are gonna go ahead and sign out.\n\n581\n00:31:26.770 --> 00:31:29.210\nRemember, I'm your host, Cherokee Boose.\n\n582\n00:31:29.210 --> 00:31:29.910\n&gt;&gt; I'm Adam Gordon.\n\n583\n00:31:29.910 --> 00:31:32.753\n&gt;&gt; See you next time here at ITPro.tv.\n\n584\n00:31:32.753 --> 00:31:38.899\n[MUSIC]\n\n585\n00:31:38.899 --> 00:31:44.800\nThank you for watching ITPRO.TV.\n\n",
          "vimeoId": "217832703"
        },
        {
          "description": "In this show, Cherokee and Adam continue the demonstration from the previous episode Adam sets up and explains Network Address Translation (NAT). Adam highlights the various routing types supported.",
          "length": "1277",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-2-remote_access_pt2-051217-PGM.00_00_14_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-2-remote_access_pt2-051217-PGM.00_00_14_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-2-remote_access_pt2-051217-PGM.00_00_14_19.Still001-sm.jpg",
          "title": "Remote Access Part 2",
          "transcript": "",
          "vimeoId": "217833252"
        },
        {
          "description": "In this episode, Adam and Cherokee explain Network Policy Server (NPS). Adam walks through a demonstration of how to set up a Remote Authentication Dial-In User Service (RADIUS) Server supporting routing services.",
          "length": "2079",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-3-remote_access_pt3-051217.00_34_24_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-3-remote_access_pt3-051217.00_34_24_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-3-remote_access_pt3-051217.00_34_24_16.Still001-sm.jpg",
          "title": "Remote Access Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.382\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.382 --> 00:00:07.854\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:07.854 --> 00:00:11.567\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:11.567 --> 00:00:15.538\n&gt;&gt; Welcome to your Networking\nWith Windows Server 2016 Series.\n\n5\n00:00:15.538 --> 00:00:18.050\nI'm your show host, Cherokee Boose.\n\n6\n00:00:18.050 --> 00:00:21.000\nIn this episode, we'll continue\ntaking a look at remote access.\n\n7\n00:00:21.000 --> 00:00:23.900\nWe've taken a look at several different\ncomponents, different interfaces and\n\n8\n00:00:23.900 --> 00:00:27.110\ndifferent ways we could set\nup routing a remote access.\n\n9\n00:00:27.110 --> 00:00:30.066\nBut back in studios with us today,\nwe have Mr. Adam Gordon.\n\n10\n00:00:30.066 --> 00:00:33.187\nAnd I think we're gonna be talking\nabout something else a little bit more\n\n11\n00:00:33.187 --> 00:00:34.650\npolicy driven?\n\n12\n00:00:34.650 --> 00:00:36.361\n&gt;&gt; We are, we are gonna talk about or\n\n13\n00:00:36.361 --> 00:00:40.533\ncontinue talking about the general thought\nprocess of routing a remote access.\n\n14\n00:00:40.533 --> 00:00:44.569\nBut we're gonna drill in on an interesting\nfeature called network policy server,.\n\n15\n00:00:44.569 --> 00:00:47.329\nYou would most likely, generically,\nthink of this as RADIUS.\n\n16\n00:00:47.329 --> 00:00:49.750\nThis is essentially\nMicrosoft's RADIUS solution.\n\n17\n00:00:49.750 --> 00:00:52.000\nAnd we're gonna go through and\njust talk about what it is.\n\n18\n00:00:52.000 --> 00:00:55.300\nWe'll give you a quick overview here for\njust a moment or two, hit the highlights.\n\n19\n00:00:55.300 --> 00:00:57.210\nThen we're gonna go and\nwe're gonna configure it.\n\n20\n00:00:57.210 --> 00:01:00.240\nI've got the role already set\nup on one of our servers.\n\n21\n00:01:00.240 --> 00:01:01.670\nWe'll walk through how to set that up.\n\n22\n00:01:01.670 --> 00:01:05.560\nWe'll flip back over, take a look at the\nrouting and remote access server, again.\n\n23\n00:01:05.560 --> 00:01:09.360\nThis time, unlike our last walk-through\nwhere I had already configured it and\n\n24\n00:01:09.360 --> 00:01:10.957\nwe set it up just for LAN routing.\n\n25\n00:01:10.957 --> 00:01:13.666\nWe're gonna actually walk through and\nconfigure it, and\n\n26\n00:01:13.666 --> 00:01:15.810\nthis time we'll set it up for VPN access.\n\n27\n00:01:15.810 --> 00:01:17.940\nSo you'll see me set that up,\nwe'll talk through that.\n\n28\n00:01:17.940 --> 00:01:22.070\nWe'll be doing some additional discussions\non upcoming episodes on VPN anyway.\n\n29\n00:01:22.070 --> 00:01:23.900\nBut it's never bad to\nsee this more than once.\n\n30\n00:01:23.900 --> 00:01:25.160\nCuz it's the kind of thing\nthat the more you do,\n\n31\n00:01:25.160 --> 00:01:28.340\nthe more you're comfortable with and,\nobviously, the better off you are.\n\n32\n00:01:28.340 --> 00:01:30.980\nSo let's talk about network\npolicy service for just a minute.\n\n33\n00:01:30.980 --> 00:01:35.860\nPart of the idea here,\nultimately, of using routing and\n\n34\n00:01:35.860 --> 00:01:39.760\nremote access is the ability to be able\nto understand what people are doing,\n\n35\n00:01:39.760 --> 00:01:40.910\nwhere they're coming from.\n\n36\n00:01:40.910 --> 00:01:45.000\nAnd control, potentially, the conditions\nthat allow them to connect in remotely.\n\n37\n00:01:45.000 --> 00:01:48.720\nAnd the name implies what we do,\nnetwork policies, network policy server.\n\n38\n00:01:48.720 --> 00:01:50.141\nWe're setting up policies.\n\n39\n00:01:50.141 --> 00:01:53.940\nWe're attempting to specify what kind\nof control we would like to exert,\n\n40\n00:01:53.940 --> 00:01:58.590\nwhether it's a connection request policy\nwhich is what we will use traditionally.\n\n41\n00:01:58.590 --> 00:02:01.620\nMaybe time of day, maybe the realm name or\n\n42\n00:02:01.620 --> 00:02:06.320\nthe domain name we're coming from,\nmaybe the type of request we're using.\n\n43\n00:02:06.320 --> 00:02:09.110\nMaybe the IP address of the machine\nthat we're connecting from.\n\n44\n00:02:09.110 --> 00:02:11.810\nThe RADIUS client would be\nthe machine we're connecting in from.\n\n45\n00:02:11.810 --> 00:02:15.490\nAny or all of those things could be\nused to be specified as a policy element\n\n46\n00:02:15.490 --> 00:02:17.340\nthat will allow us to say allow or\ndeny right?\n\n47\n00:02:17.340 --> 00:02:19.950\nSo we're gonna bring all that stuff in,\nso this is kind of cool.\n\n48\n00:02:19.950 --> 00:02:20.730\n&gt;&gt; It is kind of cool.\n\n49\n00:02:20.730 --> 00:02:21.360\n&gt;&gt; It is kind of cool.\n\n50\n00:02:21.360 --> 00:02:25.090\n&gt;&gt; And in my mind, so\n[LAUGH] that's a scary place to be.\n\n51\n00:02:25.090 --> 00:02:30.635\nBut it's almost like a bouncer but with\n\n52\n00:02:30.635 --> 00:02:36.590\na explicit set of parameters or rules that\nwe have to follow like a set of rules.\n\n53\n00:02:36.590 --> 00:02:39.740\nAnd so I don't know if that\nwill make sense to you, but\n\n54\n00:02:39.740 --> 00:02:41.400\nlet's listen to what Adam has to say.\n\n55\n00:02:41.400 --> 00:02:45.920\nAnd see if you can relate it, perhaps, in\nthat way, or a way that is better for you.\n\n56\n00:02:45.920 --> 00:02:48.971\n&gt;&gt; As opposed to the bar analogy,\nthe brawling bar analogy.\n\n57\n00:02:48.971 --> 00:02:51.812\n&gt;&gt; Yeah, it's kind of like some sort of\ntoll gate that is, yeah, they set forth\n\n58\n00:02:51.812 --> 00:02:55.214\nthese rules and you have to-\n&gt;&gt; Sure, so we would call those,\n\n59\n00:02:55.214 --> 00:03:01.150\nspecifically, it is so important to be\nable to speak each other's language.\n\n60\n00:03:01.150 --> 00:03:05.790\nAnd it's shocking to me that I actually am\nnot only in that head space, but you and\n\n61\n00:03:05.790 --> 00:03:07.720\nI understand each other, which is awesome.\n\n62\n00:03:07.720 --> 00:03:09.655\nSo, let me translate, more or less,\nin terms of what we're talking about.\n\n63\n00:03:09.655 --> 00:03:11.727\n&gt;&gt; Thank you,\nthat is what Adam is here for.\n\n64\n00:03:11.727 --> 00:03:14.232\n&gt;&gt; Let's take that Cherokee-ism and\nactually unwind it so\n\n65\n00:03:14.232 --> 00:03:15.230\nwe can understand it.\n\n66\n00:03:15.230 --> 00:03:19.030\nSo what Cherokee is implying and, indeed,\nshe's absolutely correct when she talks\n\n67\n00:03:19.030 --> 00:03:23.310\nabout this, is the idea that we\nhave this pre-made thought process.\n\n68\n00:03:23.310 --> 00:03:26.238\nSometimes we call it a template,\nwe're not gonna refer to it that way here.\n\n69\n00:03:26.238 --> 00:03:28.162\nBut just to give you a general\nsense of what it is,\n\n70\n00:03:28.162 --> 00:03:31.972\nwe would called it a template, or in this\ncase, a default connection request policy.\n\n71\n00:03:31.972 --> 00:03:33.450\nWhich is what we actually call it.\n\n72\n00:03:33.450 --> 00:03:36.830\nWhich is already set up as\nwe configure the NPS and\n\n73\n00:03:36.830 --> 00:03:41.350\nis there to operate much like the default\nresponse rule would be on a firewall.\n\n74\n00:03:41.350 --> 00:03:46.600\nYou either block all traffic, or deny\nall,unless we program in rules that will\n\n75\n00:03:46.600 --> 00:03:48.780\nopen up or allow certain traffic flows.\n\n76\n00:03:48.780 --> 00:03:53.950\nWe want a default behavior, a fallback\noption, for response and for management.\n\n77\n00:03:53.950 --> 00:03:54.690\nSo that way,\n\n78\n00:03:54.690 --> 00:03:58.260\nthe system is working even if we don't\ndo anything other than just stand it up.\n\n79\n00:03:58.260 --> 00:04:01.376\nAnd so we do have what we call\ndefault connection request policy.\n\n80\n00:04:01.376 --> 00:04:04.440\nIt is created when you install and\nconfigure NPS.\n\n81\n00:04:04.440 --> 00:04:07.400\nWe'll talk about, or at least I'll just\nquickly go through the logic with you\n\n82\n00:04:07.400 --> 00:04:09.210\nhere, what the conditions are for it.\n\n83\n00:04:09.210 --> 00:04:11.620\nThere's six things\nspecifically assigned or\n\n84\n00:04:11.620 --> 00:04:16.240\ndefined inside this default connection\npolicy, or this connection request policy.\n\n85\n00:04:16.240 --> 00:04:19.140\nYears ago,\nwhen I was in the music business,\n\n86\n00:04:19.140 --> 00:04:23.050\nbecause I did many things when I\nwas much shorter in the tooth.\n\n87\n00:04:23.050 --> 00:04:26.610\nAnd I was in the music business for many\nyears doing a variety of different things.\n\n88\n00:04:26.610 --> 00:04:29.710\nAnd one of the things when I was\npromoting, doing night clubs,\n\n89\n00:04:29.710 --> 00:04:34.050\nall sorts of stuff, we had the big\nburly people you were talking about.\n\n90\n00:04:34.050 --> 00:04:36.310\nBouncers, very nice people by the way.\n\n91\n00:04:36.310 --> 00:04:40.240\nAnd they were given a set of\ninstructions based on the kind of\n\n92\n00:04:40.240 --> 00:04:42.790\nnight we were doing or\nperhaps the nightclub in question.\n\n93\n00:04:42.790 --> 00:04:44.980\nWhether we were promoting\nthis kind of a night or\n\n94\n00:04:44.980 --> 00:04:46.390\nthat kind of a night here or there.\n\n95\n00:04:46.390 --> 00:04:47.740\nThey were given, essentially,\n\n96\n00:04:47.740 --> 00:04:50.100\nthis kind of thing you were talking about,\nthese instructions.\n\n97\n00:04:50.100 --> 00:04:52.860\nWe meet with our staff ahead of time,\nbefore we spun the night up.\n\n98\n00:04:52.860 --> 00:04:53.810\nAnd said, okay, look,\n\n99\n00:04:53.810 --> 00:04:56.270\nhere's the deal, these are the kind\nof people we're expecting.\n\n100\n00:04:56.270 --> 00:04:59.000\nWe're doing this kind of a night,\nthese people show up, they get in.\n\n101\n00:04:59.000 --> 00:05:01.890\nThese people show up, they don't get in,\nwhatever the case is.\n\n102\n00:05:01.890 --> 00:05:04.220\nAnd you would make sure everybody\nknew what the expectation was.\n\n103\n00:05:04.220 --> 00:05:07.090\nYou met with the bartenders,\nyou met with the bouncing staff,\n\n104\n00:05:07.090 --> 00:05:08.280\nall that kind of stuff.\n\n105\n00:05:08.280 --> 00:05:12.140\nAnd it was really important because that\nway you eliminated surprises, right?\n\n106\n00:05:12.140 --> 00:05:14.360\nAnd you didn't have to\nworry about whether or\n\n107\n00:05:14.360 --> 00:05:17.900\nnot you would have somebody\nmaking a decision that, perhaps,\n\n108\n00:05:17.900 --> 00:05:21.360\ndid or didn't line up with, right,\nthe goal and what you wanted to have done.\n\n109\n00:05:21.360 --> 00:05:23.590\nAnd that's what this\ndefault policy will be, or\n\n110\n00:05:23.590 --> 00:05:25.508\nany policy that we create really is.\n\n111\n00:05:25.508 --> 00:05:29.470\nIt's a top-down vision and a direction,\nso that we understand how to operate.\n\n112\n00:05:29.470 --> 00:05:32.900\nAnd so what are the conditions that\nare created inside this policy?\n\n113\n00:05:32.900 --> 00:05:35.610\nAuthentication is not configured\nin the policy by default,\n\n114\n00:05:35.610 --> 00:05:38.400\nmeaning we would have\nto specify what it is.\n\n115\n00:05:38.400 --> 00:05:39.500\nAccounting is not configured,\n\n116\n00:05:39.500 --> 00:05:42.620\nforward accounting information\nout to remote RADIUS servers.\n\n117\n00:05:42.620 --> 00:05:46.520\nWe call the RADIUS servers that are remote\nfrom the NPS server if we're using\n\n118\n00:05:46.520 --> 00:05:49.880\nthe NPS server as a RADIUS server,\nwe call them remote RADIUS servers.\n\n119\n00:05:49.880 --> 00:05:52.710\nWe put them into what are called\nremote RADIUS server groups.\n\n120\n00:05:52.710 --> 00:05:56.620\nJust a logical association, a little\ncontainer that we manage our remote RADIUS\n\n121\n00:05:56.620 --> 00:06:00.100\nservers with, that we're gonna be sending\nand receiving information to and from.\n\n122\n00:06:00.100 --> 00:06:03.480\nAttribute manipulation is not configured\nwith rules that are gonna change or\n\n123\n00:06:03.480 --> 00:06:04.810\nmodify in any way.\n\n124\n00:06:04.810 --> 00:06:07.070\nForwarding requests is turned on.\n\n125\n00:06:07.070 --> 00:06:11.190\nWhich means that we can, or that\nthe local network I should say, the local\n\n126\n00:06:11.190 --> 00:06:14.670\nnetwork policy server will authenticate\nand authorize connection requests.\n\n127\n00:06:14.670 --> 00:06:16.520\nBut that is the only thing that,\nessentially,\n\n128\n00:06:16.520 --> 00:06:18.450\nwe're configuring as part of this policy.\n\n129\n00:06:18.450 --> 00:06:21.979\nMeaning we'll allow inbound\nconnections to show up.\n\n130\n00:06:21.979 --> 00:06:25.233\nAnd we'll be able to forward them but\nwe're not gonna to be able to do anything\n\n131\n00:06:25.233 --> 00:06:28.010\nor the more advanced feature\nsets out of the box by default.\n\n132\n00:06:28.010 --> 00:06:30.190\nNo advanced attributes are configured and\n\n133\n00:06:30.190 --> 00:06:34.960\nthe default connection request policy\nuses the NPS server as the RADIUS server.\n\n134\n00:06:34.960 --> 00:06:39.290\nMeaning we essentially program the system\nas a RADIUS server out of the box\n\n135\n00:06:39.290 --> 00:06:42.050\nwith the ability to be able to\njust simply interact with and\n\n136\n00:06:42.050 --> 00:06:44.700\nunderstand inbound connections,\nbut nothing beyond that.\n\n137\n00:06:44.700 --> 00:06:48.840\nAnything beyond that, we have to program\nin and, obviously, go in and configure.\n\n138\n00:06:48.840 --> 00:06:52.580\nSo we would create our network policies,\nwhich are essentially these sets of\n\n139\n00:06:52.580 --> 00:06:55.250\nconditions that we would like\nto be able to work with,\n\n140\n00:06:55.250 --> 00:06:57.520\nor specify that we're going to have.\n\n141\n00:06:57.520 --> 00:07:00.040\nTheir constraints, conditions,\nwhatever the case may be.\n\n142\n00:07:00.040 --> 00:07:02.540\nAnd policies have four\ndifferent categories\n\n143\n00:07:02.540 --> 00:07:04.049\nof properties that we\nwould often work with.\n\n144\n00:07:05.170 --> 00:07:06.530\nAnd we'll take a look at what these are.\n\n145\n00:07:06.530 --> 00:07:07.930\nBut we have conditions,\n\n146\n00:07:07.930 --> 00:07:11.200\nconstraints, there's an overview area,\nI think general settings.\n\n147\n00:07:11.200 --> 00:07:13.770\nAnd then there's an overall set of\nsettings that we go through that\n\n148\n00:07:13.770 --> 00:07:15.420\nare applied to the connection request.\n\n149\n00:07:15.420 --> 00:07:17.130\nAnd we'll take a look\nquickly in the interface, and\n\n150\n00:07:17.130 --> 00:07:19.350\nkinda give you a sense\nof what this looks like.\n\n151\n00:07:19.350 --> 00:07:22.660\nSo let's go in and let's actually\ntake a look real quick here.\n\n152\n00:07:22.660 --> 00:07:24.310\nWe'll get ready to start configuring.\n\n153\n00:07:24.310 --> 00:07:28.160\nSo we have our NPS server role set up and\nestablished.\n\n154\n00:07:28.160 --> 00:07:30.000\nI've gone in through PowerShell,\n\n155\n00:07:30.000 --> 00:07:33.370\nas we often do ahead of time just to\nstand this up and configure it so\n\n156\n00:07:33.370 --> 00:07:37.165\nyou're not waiting on 10 or\n15 minutes worth of installation to occur.\n\n157\n00:07:37.165 --> 00:07:40.960\nAdd-windowsFeature NPS,\nNetwork Policy Server.\n\n158\n00:07:40.960 --> 00:07:42.740\nAs always, include management tools.\n\n159\n00:07:42.740 --> 00:07:45.016\nYou'll see we were successful,\nwe got that stood up.\n\n160\n00:07:45.016 --> 00:07:46.750\nSo that was the only thing\nwe did ahead of time.\n\n161\n00:07:46.750 --> 00:07:49.009\nThen we just went into the server manager,\n\n162\n00:07:49.009 --> 00:07:51.591\nopened up the network\npolicy server interface.\n\n163\n00:07:51.591 --> 00:07:55.322\nSo we just went in here you'll see\nNPAS is installed, now unlike Which,\n\n164\n00:07:55.322 --> 00:07:57.463\nremember, we did some walk throughs on,\n\n165\n00:07:57.463 --> 00:08:01.830\nwe showed you we managed directly through\nthe server manager in the dashboard page.\n\n166\n00:08:01.830 --> 00:08:04.060\nWe don't do that here\nlike most of the tools.\n\n167\n00:08:04.060 --> 00:08:06.376\nWe do have an MMC specifically for it.\n\n168\n00:08:06.376 --> 00:08:07.556\nSo, let's go to the tools area.\n\n169\n00:08:07.556 --> 00:08:11.430\nWe'll just go in Network\npolicy server right there.\n\n170\n00:08:11.430 --> 00:08:13.810\nWe just click on that to open it up,\nwhich we've already done.\n\n171\n00:08:13.810 --> 00:08:16.100\nAnd so we just have this stood up and\nenabled, and\n\n172\n00:08:16.100 --> 00:08:19.150\nall I did was just slide the bar\nover here a little to the right to\n\n173\n00:08:19.150 --> 00:08:21.300\nlet you see the remote radius\nserver group item, right?\n\n174\n00:08:21.300 --> 00:08:23.087\nSo we've got got all that configured.\n\n175\n00:08:23.087 --> 00:08:27.457\nWe're gonna go ahead now, and before I\nactually go in and before I set up a new\n\n176\n00:08:27.457 --> 00:08:31.689\nradius client or set up a radius client,\nlet's take a look at some of those\n\n177\n00:08:31.689 --> 00:08:36.090\npolicies we were just talking about,\nor at least the idea behind them.\n\n178\n00:08:36.090 --> 00:08:39.610\nSo we do have over here a policies area,\nas you can see.\n\n179\n00:08:39.610 --> 00:08:43.810\nI'm just gonna open this up, and\nyou'll see connection request policies.\n\n180\n00:08:43.810 --> 00:08:47.090\nAnd you'll see we do have our\nWindows authentication for\n\n181\n00:08:47.090 --> 00:08:49.630\nall users default policy\nthat we spoke about.\n\n182\n00:08:49.630 --> 00:08:53.270\nThat's created out of the box, that's\nthe one we were just taking a look at, or\n\n183\n00:08:53.270 --> 00:08:54.420\nat least talking about.\n\n184\n00:08:54.420 --> 00:08:58.940\nWe do have, you'll see there,\nnetwork policies to them,\n\n185\n00:08:58.940 --> 00:09:01.058\nconnections to other access servers.\n\n186\n00:09:01.058 --> 00:09:01.970\nConnections to.\n\n187\n00:09:01.970 --> 00:09:05.190\nYou'll see those are denying access,\nthey are enabled.\n\n188\n00:09:05.190 --> 00:09:09.180\nSo we have a couple of policies,\nthree to be precise, that are set up and\n\n189\n00:09:09.180 --> 00:09:11.310\nare enabled, as we configure in.\n\n190\n00:09:11.310 --> 00:09:13.700\nI don't have to do anything,\nthose just come in, out of the box.\n\n191\n00:09:13.700 --> 00:09:16.720\nAnd we'll go in and we'll take\na look at them in just a minute.\n\n192\n00:09:16.720 --> 00:09:20.695\nWe do have under templates here as well,\nor templates I should say,\n\n193\n00:09:20.695 --> 00:09:23.500\nthe ability to look at shared secrets,\nright?\n\n194\n00:09:23.500 --> 00:09:24.330\nSo you know what those are.\n\n195\n00:09:24.330 --> 00:09:26.326\nThose are traditionally\ngonna be just passwords.\n\n196\n00:09:26.326 --> 00:09:31.240\nWe have radius clients,\nwe have radius servers, right?\n\n197\n00:09:31.240 --> 00:09:32.960\nAnd we have IP filters, right?\n\n198\n00:09:32.960 --> 00:09:35.340\nSo we can create, as you'll see here,\n\n199\n00:09:35.340 --> 00:09:38.840\na new template in any one of these areas\nto specify how we wanna program or\n\n200\n00:09:38.840 --> 00:09:42.520\nconfigure something if we wanna use that\ntemplate as we would often do to be able\n\n201\n00:09:42.520 --> 00:09:45.620\nto create multiple copies of something and\ndeploy, we could do that here.\n\n202\n00:09:45.620 --> 00:09:47.350\nWe're not gonna worry about that for\nthe moment.\n\n203\n00:09:47.350 --> 00:09:49.970\nBut just so\nyou can see that we have that information.\n\n204\n00:09:49.970 --> 00:09:52.130\nWe have an accounting area here as well.\n\n205\n00:09:52.130 --> 00:09:55.500\nRemember, one of the primary\nfunctions of radius,\n\n206\n00:09:55.500 --> 00:09:58.430\nwe talk about radius as being\na triple A solution, right?\n\n207\n00:09:58.430 --> 00:10:00.800\nAuthorization, Access control,\nand Accounting, right?\n\n208\n00:10:00.800 --> 00:10:04.210\nSo we're bringing in\nthe idea of the accounting,\n\n209\n00:10:04.210 --> 00:10:07.590\nthe function that monitors, audits,\nand keeps track of session and\n\n210\n00:10:07.590 --> 00:10:11.550\nstate, and tallies up what we're doing,\nwhere we're doing it to.\n\n211\n00:10:11.550 --> 00:10:15.155\nEssentially is, for lack of a better way\nof describing it, spying on us, right?\n\n212\n00:10:15.155 --> 00:10:18.085\nCuz it's the big brother functionality.\n\n213\n00:10:18.085 --> 00:10:20.545\nBut it's the auditing, the capability\nto understand the connections and\n\n214\n00:10:20.545 --> 00:10:22.815\nwhat's going through the server,\nand keeping track of all that,\n\n215\n00:10:22.815 --> 00:10:24.185\nthat accounting speaks to.\n\n216\n00:10:24.185 --> 00:10:26.950\nAnd so, you'll see we have the ability\nhere to configure accounting.\n\n217\n00:10:26.950 --> 00:10:29.840\nWe have the ability to look at\nlog files and properties, and\n\n218\n00:10:29.840 --> 00:10:32.700\nchange what we're logging and\nunderstand how that's happening.\n\n219\n00:10:32.700 --> 00:10:37.760\nCurrently, we're logging to the default\ndirectory of Windows System32 log files.\n\n220\n00:10:37.760 --> 00:10:41.580\nWe could setup SQL Server logging, and\nchange the SQL Server logging properties,\n\n221\n00:10:41.580 --> 00:10:43.480\nif we wanna go in and modify that.\n\n222\n00:10:43.480 --> 00:10:44.380\nCurrently not setup.\n\n223\n00:10:44.380 --> 00:10:47.190\nWe could specify we want to log there.\n\n224\n00:10:47.190 --> 00:10:48.460\nSo we have different options, right?\n\n225\n00:10:48.460 --> 00:10:52.160\nAnd we can go in and specify how\nthis is going to be configured.\n\n226\n00:10:52.160 --> 00:10:55.290\nBut let's start right up here\nwith our radius clients, right?\n\n227\n00:10:55.290 --> 00:10:56.190\nNothing there yet.\n\n228\n00:10:56.190 --> 00:11:00.550\nBut what we're going to do is right-click,\ncreate a new radius client.\n\n229\n00:11:00.550 --> 00:11:03.620\nMove this over so\nyou can see that while we're talking.\n\n230\n00:11:03.620 --> 00:11:06.190\nAll right, and so, what we're gonna\ndo is setup a new RADIUS client.\n\n231\n00:11:06.190 --> 00:11:07.500\nSo we'll click New here.\n\n232\n00:11:07.500 --> 00:11:08.164\nGonna give it a name.\n\n233\n00:11:08.164 --> 00:11:15.690\nI'm gonna specify that this is our Plab,\njust do that.\n\n234\n00:11:17.950 --> 00:11:22.490\nDC01, name it for the machine that we are\ngoing to be using as the radius client,\n\n235\n00:11:22.490 --> 00:11:24.750\nwhatever the machine name is\nyour gonna use, obviously.\n\n236\n00:11:24.750 --> 00:11:28.130\nAnd the address, the IP or\nDNS information for it again.\n\n237\n00:11:28.130 --> 00:11:30.525\nYeah, you'd want to know what\nthis in your your environment.\n\n238\n00:11:30.525 --> 00:11:33.185\nWe're just using the presets\nfrom our demo environment here.\n\n239\n00:11:33.185 --> 00:11:37.515\nYou would substitute in whatever\nthe specifics are for your environment.\n\n240\n00:11:37.515 --> 00:11:40.145\nGot the button right over here,\nthe big verify button, right?\n\n241\n00:11:40.145 --> 00:11:43.072\nSo we're gonna click\nthere just to make sure.\n\n242\n00:11:43.072 --> 00:11:44.327\nGo and resolve.\n\n243\n00:11:44.327 --> 00:11:46.512\nSee it drops our IP address down in there.\n\n244\n00:11:46.512 --> 00:11:49.772\nMeaning that it does understand and\nfind that IP and that it is active.\n\n245\n00:11:49.772 --> 00:11:52.302\nSo always wanna check that and\njust make sure.\n\n246\n00:11:52.302 --> 00:11:55.159\nIf you have an error, if you put in\nthe wrong address, something's not right,\n\n247\n00:11:55.159 --> 00:11:57.762\nrouting's not working, there's some\nsort of issue or concern there,\n\n248\n00:11:57.762 --> 00:12:00.600\nyou'll get an error and you'll obviously\nwill go out and fix it at that point.\n\n249\n00:12:00.600 --> 00:12:03.418\nSo once we have all that and\nwe choose that, we're good.\n\n250\n00:12:03.418 --> 00:12:05.370\nThen, we have our shared secret down here.\n\n251\n00:12:05.370 --> 00:12:08.850\nRemember, we said shared secrets are\nreally nothing more than just passwords.\n\n252\n00:12:08.850 --> 00:12:11.370\nSo, select an existing\nshared secret template.\n\n253\n00:12:11.370 --> 00:12:12.948\nRemember, I showed you the template.\n\n254\n00:12:12.948 --> 00:12:16.705\nIf I'd programmed one in already that has\nthat, then I could just go grab it and\n\n255\n00:12:16.705 --> 00:12:21.595\nsay, I want the Windows Server 12 R2\nweb server shared secret template, or\n\n256\n00:12:21.595 --> 00:12:22.705\nwhatever I called it.\n\n257\n00:12:22.705 --> 00:12:25.975\nAnd I would have that pre-made one that\nI would pop in, it would be applied, and\n\n258\n00:12:25.975 --> 00:12:29.667\nthat would have all the configuration\ninformation necessary.\n\n259\n00:12:29.667 --> 00:12:31.047\nDon't have that, we haven't created one.\n\n260\n00:12:31.047 --> 00:12:31.917\nNo big deal.\n\n261\n00:12:31.917 --> 00:12:36.077\nWe have an option here, as you can see,\nto manually set up the shared secret or\n\n262\n00:12:36.077 --> 00:12:38.327\nhave the system autogenerate one for us.\n\n263\n00:12:38.327 --> 00:12:41.097\nSo that way, it's a random value so\nto speak, right?\n\n264\n00:12:41.097 --> 00:12:42.757\nBut we're gonna just\nmanually put one in here.\n\n265\n00:12:42.757 --> 00:12:45.177\nSo I'm gonna go ahead and do this.\n\n266\n00:12:45.177 --> 00:12:46.555\nUse our super secret password.\n\n267\n00:12:48.532 --> 00:12:49.940\nIt's password.\n&gt;&gt; [LAUGH]\n\n268\n00:12:49.940 --> 00:12:50.960\n&gt;&gt; Don't tell Cherokee, she doesn't know.\n\n269\n00:12:50.960 --> 00:12:51.570\n&gt;&gt; I was going to say, I can tell,\n\n270\n00:12:51.570 --> 00:12:54.420\nI can hear the sarcasm in\nyour voice when you say that.\n\n271\n00:12:54.420 --> 00:12:56.204\n&gt;&gt; Don't tell her,\nshe doesn't know what it is.\n\n272\n00:12:56.204 --> 00:12:57.840\n&gt;&gt; [LAUGH]\n&gt;&gt; We keep it a secret from her,\n\n273\n00:12:57.840 --> 00:13:00.420\nthat way she can't go in there and\ndo demos when I'm not around.\n\n274\n00:13:00.420 --> 00:13:04.340\nAll right, so we have our password,\nreally secret password, called password.\n\n275\n00:13:04.340 --> 00:13:05.740\nKeep it really simple here, that way,\n\n276\n00:13:05.740 --> 00:13:08.720\nI don't have to worry about typing\ncomplex stuff and forget what it is.\n\n277\n00:13:08.720 --> 00:13:09.660\nAll right, so we have all that.\n\n278\n00:13:09.660 --> 00:13:10.850\nWe're gonna put that in now.\n\n279\n00:13:10.850 --> 00:13:14.945\nThe other thing we're gonna do here is,\nbefore we finish up, and I'm not done yet,\n\n280\n00:13:14.945 --> 00:13:17.443\nbecause I'm gonna go the advanced tab,\nright?.\n\n281\n00:13:17.443 --> 00:13:20.600\nSo, we're gonna go over here,\nwe've basically set up our initial\n\n282\n00:13:20.600 --> 00:13:23.070\nconfiguration, told us what the name is,\nthe IP address.\n\n283\n00:13:23.070 --> 00:13:26.250\nSo, what we're gonna do is specify\nto shared secret turned on, or\n\n284\n00:13:26.250 --> 00:13:28.140\nspecify we would like to\nenable our radius client.\n\n285\n00:13:28.140 --> 00:13:30.540\nBut what we have to do is\ncome over here as well, and\n\n286\n00:13:30.540 --> 00:13:34.060\nyou'll see on the advance\ntab we can set up or enable\n\n287\n00:13:34.060 --> 00:13:37.800\nthe access request messages must contain\nthe message authenticator attribute.\n\n288\n00:13:37.800 --> 00:13:41.540\nWe're gonna check that off, allowing us to\nspecify that we're gonna need that message\n\n289\n00:13:41.540 --> 00:13:44.520\nauthenticator attribute as part of\nwhat we are expecting when we connect\n\n290\n00:13:44.520 --> 00:13:46.820\nto verify and validate that\nthe client should be allowed.\n\n291\n00:13:46.820 --> 00:13:48.660\nSo we're going to set that up.\n\n292\n00:13:48.660 --> 00:13:49.410\nChoose that here.\n\n293\n00:13:49.410 --> 00:13:53.490\nYou'll notice that we do have other\nRadius vendors that we can choose.\n\n294\n00:13:53.490 --> 00:13:56.210\nWe're just doing Radius standard,\ngenerically supported.\n\n295\n00:13:56.210 --> 00:14:00.520\nBut notice, there are a bunch of specific\nvendors that provide Radius services, and\n\n296\n00:14:00.520 --> 00:14:03.180\nwe may be able to choose\na solution from any one of them.\n\n297\n00:14:03.180 --> 00:14:05.770\nAnd I'm sure, if you look closely,\nyou'll probably recognize one or\n\n298\n00:14:05.770 --> 00:14:07.590\nmore names on that list.\n\n299\n00:14:07.590 --> 00:14:12.980\nThere's Zylogics, there's US Robotics,\nthere's Intel, right?\n\n300\n00:14:12.980 --> 00:14:16.648\nThere are things like Free Com, right?\n\n301\n00:14:16.648 --> 00:14:18.680\nSo there's all sorts of\ndifferent ones on here.\n\n302\n00:14:18.680 --> 00:14:19.515\nCISCO, right?\n\n303\n00:14:19.515 --> 00:14:20.920\nDG International.\n\n304\n00:14:20.920 --> 00:14:22.543\nThere's a whole bunch\nthat are listed here.\n\n305\n00:14:22.543 --> 00:14:24.058\nNortel is there, right?\n\n306\n00:14:24.058 --> 00:14:25.634\nMicrosoft is there, of course, right?\n\n307\n00:14:25.634 --> 00:14:30.417\nSo we're just gonna have the option here,\ndepending on what we're doing, to specify.\n\n308\n00:14:30.417 --> 00:14:33.827\nSo we'll be able to do that if we\nhave a specific Radiant client,\n\n309\n00:14:33.827 --> 00:14:38.800\nmeaning a client coming from one of those\nvendors that we're gonna wanna use, right?\n\n310\n00:14:38.800 --> 00:14:41.070\nWe could then specify,\nright, what that may be.\n\n311\n00:14:41.070 --> 00:14:42.372\nBut we're using a generic one.\n\n312\n00:14:42.372 --> 00:14:45.420\nRadius standard means essentially\nit's like an HP print driver,\n\n313\n00:14:45.420 --> 00:14:46.950\nit works with basically anything.\n\n314\n00:14:46.950 --> 00:14:51.427\nBut keep in mind that if you have,\nmaybe you're NorTel-centric or\n\n315\n00:14:51.427 --> 00:14:54.220\nyou're Cisco-centric and\nyou're using their infrastructure,\n\n316\n00:14:54.220 --> 00:14:56.920\nyou're gonna have most\nlikely their RADIUS client.\n\n317\n00:14:56.920 --> 00:15:00.040\nAnd as a result, you would have to\nspecify that on this connection so\n\n318\n00:15:00.040 --> 00:15:03.570\nthat the server understands you're\ncoming in with a specific client,\n\n319\n00:15:03.570 --> 00:15:05.860\nand it's gonna communicate a certain way,\nand\n\n320\n00:15:05.860 --> 00:15:09.000\nthat toggle there just tells the server\nto accept that inbound client and\n\n321\n00:15:09.000 --> 00:15:13.200\nwork with it, and essentially learn how to\nspeak, right, quote unquote that language.\n\n322\n00:15:13.200 --> 00:15:16.980\nSo just allows for the vagaries and the\nspecificity of that particular client's\n\n323\n00:15:16.980 --> 00:15:19.540\nunique connection strength, things of\nthat nature, that's all we're doing.\n\n324\n00:15:19.540 --> 00:15:22.030\nSo, we're just specifying\nthe client there, if we need to.\n\n325\n00:15:22.030 --> 00:15:25.090\nWe're not going to, we're gonna choose\nstandard, but it's up to us to decide.\n\n326\n00:15:25.090 --> 00:15:26.870\nWere you going to say something?\n\n327\n00:15:26.870 --> 00:15:27.680\nI'm just gonna click OK.\n\n328\n00:15:27.680 --> 00:15:29.372\n&gt;&gt; I was, but\nI don't really know how related it is.\n\n329\n00:15:29.372 --> 00:15:33.123\nOn that drop-down list, and\nwhen you said generic, I guess Cisco-\n\n330\n00:15:33.123 --> 00:15:34.439\n&gt;&gt; [CROSSTALK]\n\n331\n00:15:34.439 --> 00:15:36.175\n&gt;&gt; Yeah, yeah, yeah, Radius is,\n\n332\n00:15:36.175 --> 00:15:40.580\ngenerically speaking, and they almost\ncategorize it kind of generically as well.\n\n333\n00:15:40.580 --> 00:15:45.000\nBecause they just put CISCO there,\nand I don't see Tack X or Tack X Plus.\n\n334\n00:15:45.000 --> 00:15:47.360\nIt's not going into that specific detail.\n\n335\n00:15:47.360 --> 00:15:49.384\nI was just kind of, it was a little\ninteresting to look at that.\n\n336\n00:15:49.384 --> 00:15:52.872\n&gt;&gt; Well, number one, generically,\nall we're doing is specifying the vendor\n\n337\n00:15:52.872 --> 00:15:55.769\nthere so that, again,\nthe inbound connection Is programmed so\n\n338\n00:15:55.769 --> 00:15:58.934\nthat when the server picks it up and\nsays you're a Radius client,\n\n339\n00:15:58.934 --> 00:16:02.730\nlet me check my list here, make sure\nI've got a listing for you essentially.\n\n340\n00:16:02.730 --> 00:16:03.419\nOr to use the bouncer analogy,\n\n341\n00:16:03.419 --> 00:16:04.675\nlet me look at my guest list\nto make sure you're listed.\n\n342\n00:16:04.675 --> 00:16:06.916\n&gt;&gt; Are you allowed [LAUGH]?\n\n343\n00:16:06.916 --> 00:16:08.571\n&gt;&gt; And you've got the right check or\nwhatever next to your name.\n\n344\n00:16:08.571 --> 00:16:11.025\nAll we're doing is making sure\nthe server understands that\n\n345\n00:16:11.025 --> 00:16:13.680\nwe may be coming in with\na vendor specific choice.\n\n346\n00:16:13.680 --> 00:16:15.205\n&gt;&gt; Okay.\n&gt;&gt; And we can be specific in our\n\n347\n00:16:15.205 --> 00:16:18.647\nprogramming of the client to further\nspecify that the client will come\n\n348\n00:16:18.647 --> 00:16:19.185\nthat way.\n\n349\n00:16:19.185 --> 00:16:22.080\nAnd that's really all we're doing,\nis just specifying that.\n\n350\n00:16:22.080 --> 00:16:22.820\nSo, you're right,\n\n351\n00:16:22.820 --> 00:16:26.510\nCisco has a couple of different versions\nin theory of support for Radius.\n\n352\n00:16:26.510 --> 00:16:30.970\nThere are, by vendor on that list,\nmultiple ways to implement Radius.\n\n353\n00:16:30.970 --> 00:16:33.212\nIt's really just a vendor association,\nthat we're specifying right there.\n\n354\n00:16:33.212 --> 00:16:34.820\n&gt;&gt; Okay.\n\n355\n00:16:34.820 --> 00:16:36.950\n&gt;&gt; All right, so we've got that setup,\nso we've done that.\n\n356\n00:16:36.950 --> 00:16:40.610\nNow what we're gonna do, is remember\nI showed you the accounting area.\n\n357\n00:16:40.610 --> 00:16:42.810\nWe're gonna go ahead and just play\naround in there for just a minute.\n\n358\n00:16:42.810 --> 00:16:46.220\nWe've got our Radius client enabled there,\nRadius standard,\n\n359\n00:16:46.220 --> 00:16:49.960\nstatus enabled, very simple,\nnot very difficult to set up and enable.\n\n360\n00:16:49.960 --> 00:16:52.870\nAnd obviously we would create a list\nwith multiple clients depending on\n\n361\n00:16:52.870 --> 00:16:54.370\nhow many we're gonna support,\n\n362\n00:16:54.370 --> 00:16:57.550\nspecifically client types of connections\nthat we're gonna support I should say.\n\n363\n00:16:57.550 --> 00:17:00.100\nBut let's go in,\nlet's take a look at this accounting area.\n\n364\n00:17:00.100 --> 00:17:02.556\nWe'll go in, we could take a look\nat the log file properties.\n\n365\n00:17:02.556 --> 00:17:05.720\nI told you, we can go in and\nchange these, if we wanted to.\n\n366\n00:17:05.720 --> 00:17:07.630\nSo let's go in here, just take a look.\n\n367\n00:17:09.030 --> 00:17:10.128\nThis is where we can specify.\n\n368\n00:17:10.128 --> 00:17:11.977\nAnd we've talked about this before,\n\n369\n00:17:11.977 --> 00:17:15.110\nthe kinds of information that\nwe're gonna be logging, right?\n\n370\n00:17:15.110 --> 00:17:15.930\nSo we can go in,\n\n371\n00:17:15.930 --> 00:17:20.110\nand you'll see here, we could specify,\nas well as the location, by the way.\n\n372\n00:17:20.110 --> 00:17:22.070\nWe'll do that on the other tab for\nlog file.\n\n373\n00:17:22.070 --> 00:17:26.230\nBut things like accounting request,\nauthentication, periodic accounting and\n\n374\n00:17:26.230 --> 00:17:28.000\nauthentication status updates.\n\n375\n00:17:28.000 --> 00:17:31.311\nIf logging fails,\ndiscard connection request meaning,\n\n376\n00:17:31.311 --> 00:17:35.170\nif logging were to fail for\nwhatever reason, stop the connection.\n\n377\n00:17:35.170 --> 00:17:37.930\nMeaning essentially we break\nthe connection if you can't log it.\n\n378\n00:17:37.930 --> 00:17:41.213\nWhich is good because that means you don't\nallow anybody into the system unless\n\n379\n00:17:41.213 --> 00:17:44.253\nwe can keep track of what they're doing,\nwhich is actually a good thing,\n\n380\n00:17:44.253 --> 00:17:45.300\nif you think about that.\n\n381\n00:17:45.300 --> 00:17:49.020\nAnd we do have the ability here with\nlog files to specify a default path or\n\n382\n00:17:49.020 --> 00:17:51.000\nchange that, pretty common.\n\n383\n00:17:51.000 --> 00:17:51.560\nWe do, and\n\n384\n00:17:51.560 --> 00:17:56.530\nthis is important, we can specify\nthe different formats we wanna log with.\n\n385\n00:17:56.530 --> 00:18:00.110\nAnd I know maybe hard to see, maybe we can\ngo full screen for just a second on this.\n\n386\n00:18:00.110 --> 00:18:02.090\nCuz it is important just to\nbe able to see these three.\n\n387\n00:18:02.090 --> 00:18:07.160\nYou'll see we have DTS compliant,\nwe have ODBC Legacy, and IAS Legacy.\n\n388\n00:18:07.160 --> 00:18:09.670\nInternet Authentication Server\nis what IAS is,\n\n389\n00:18:09.670 --> 00:18:12.900\nthat's Microsoft's older version\nof this thought process.\n\n390\n00:18:12.900 --> 00:18:17.500\nSo we have the ability here, right,\nto be able to log in different formats.\n\n391\n00:18:17.500 --> 00:18:22.539\nAnd it depends on what we're doing,\nthe standard format more often than not\n\n392\n00:18:24.240 --> 00:18:28.100\nthat we would probably use would\nbe ODBC Legacy, it is the default.\n\n393\n00:18:28.100 --> 00:18:30.558\nThat will give us just\nthe general information,\n\n394\n00:18:30.558 --> 00:18:33.970\nthe standardized way,\nODBC open database connectivity, right?\n\n395\n00:18:33.970 --> 00:18:37.890\nSo the idea is just a generic format\nthat can be used by any data source\n\n396\n00:18:37.890 --> 00:18:42.290\nto be able to read the information coming\nin or any data information that comes in.\n\n397\n00:18:42.290 --> 00:18:45.301\nAnd will be structured in a way\nthat just about any database on\n\n398\n00:18:45.301 --> 00:18:49.450\nthe planet could receive that information,\nmodify, manipulate, use it, etc.\n\n399\n00:18:49.450 --> 00:18:51.870\nSo it's a pretty standard form, but\n\n400\n00:18:51.870 --> 00:18:54.920\nwe may decide to modify the format\nit will be up to us ultimately.\n\n401\n00:18:54.920 --> 00:18:58.170\nIt will really just depend on\nthe necessity of what we're logging and\n\n402\n00:18:58.170 --> 00:18:59.360\nhow we're doing that.\n\n403\n00:18:59.360 --> 00:19:03.395\nI'm gonna change this out and do IAS\nLegacy, just to change the logging format\n\n404\n00:19:03.395 --> 00:19:07.509\nbut it, again, you would probably leave\nit at ODBC and that would just be fine.\n\n405\n00:19:07.509 --> 00:19:11.095\nYou'll see here create a new log,\nhow often we create a new log,\n\n406\n00:19:11.095 --> 00:19:13.752\nevery day, every week, every month, never,\n\n407\n00:19:13.752 --> 00:19:17.650\nessentially just like it says\nin brackets unlimited file size.\n\n408\n00:19:17.650 --> 00:19:20.140\nWhat you're saying there is that\nwe're just gonna keep logging and\n\n409\n00:19:20.140 --> 00:19:21.640\nlogging into that file.\n\n410\n00:19:21.640 --> 00:19:24.730\nWe're not gonna stop the growth of it,\nso just keep that in mind.\n\n411\n00:19:24.730 --> 00:19:27.490\nOr we could just say regardless of day,\nor week, or\n\n412\n00:19:27.490 --> 00:19:31.750\nmonth, just based on a time value\nrather excuse me, a size value.\n\n413\n00:19:31.750 --> 00:19:33.945\nWhen it gets to be ten megabytes,\ncreate a new log and\n\n414\n00:19:33.945 --> 00:19:37.750\nit'll just truncate every ten megs or\nwhatever it does and that'll be up to us.\n\n415\n00:19:37.750 --> 00:19:38.800\nWhen disk is full,\n\n416\n00:19:38.800 --> 00:19:43.120\ndelete older log files, we will start\ncycling through those logs, right?\n\n417\n00:19:43.120 --> 00:19:47.810\nAnd going okay,\ndisk is full let's get rid of 3, 4, 5, 10,\n\n418\n00:19:47.810 --> 00:19:52.000\n20, 100 logs, whatever it is,\nin order to overwrite and make room.\n\n419\n00:19:52.000 --> 00:19:54.930\nSo we're gonna start doing that,\nthat'll be up to us.\n\n420\n00:19:54.930 --> 00:19:56.210\nSo we'll just do one daily here,\n\n421\n00:19:56.210 --> 00:19:58.520\njust to show you that we\ncan modify these settings.\n\n422\n00:19:58.520 --> 00:20:03.400\nWe'll go ahead, we'll click OK, and we'll\nthen have that all up and ready to go.\n\n423\n00:20:03.400 --> 00:20:04.560\nSo we've done that.\n\n424\n00:20:04.560 --> 00:20:08.731\nWhat we're gonna do now is\nwe're gonna go ahead and\n\n425\n00:20:08.731 --> 00:20:14.271\nI'm gonna switch over in just a minute,\nto my [COUGH] other machine.\n\n426\n00:20:14.271 --> 00:20:18.289\nAnd I'm gonna go ahead,\nI'm gonna configure or\n\n427\n00:20:18.289 --> 00:20:22.119\nset up when we do that\nthe [COUGH] Rass remoting.\n\n428\n00:20:22.119 --> 00:20:26.080\nTry that again the r/Rass is what I'm\ntrying to say, we're gonna go ahead and\n\n429\n00:20:26.080 --> 00:20:28.620\nset up and configure the routing and\nremote access services.\n\n430\n00:20:28.620 --> 00:20:29.690\nI've already got them installed,\n\n431\n00:20:29.690 --> 00:20:32.640\nwe'll go ahead, we'll take a look at\nhow to initialize in just a minute.\n\n432\n00:20:32.640 --> 00:20:34.635\nBut before we do right just\nlike I was telling you,\n\n433\n00:20:34.635 --> 00:20:37.890\nI just wanted to show you one or\ntwo quick additional things here.\n\n434\n00:20:37.890 --> 00:20:43.560\nRight so up here right, you'll see that we\ncan import or export our configuration.\n\n435\n00:20:43.560 --> 00:20:46.440\nThis is kind of nice aside from\nthe obvious things like stop and\n\n436\n00:20:46.440 --> 00:20:47.240\nstart the service right?\n\n437\n00:20:47.240 --> 00:20:48.360\nWe can always do that.\n\n438\n00:20:48.360 --> 00:20:52.450\nBut we can import or export, which means\nonce I stand up and configure this server\n\n439\n00:20:52.450 --> 00:20:55.680\nI could export the config,\nI could take it to another NPS server.\n\n440\n00:20:55.680 --> 00:20:58.280\nAgain, think global infrastructure.\n\n441\n00:20:58.280 --> 00:21:00.690\nWe've got more than one NPS or\n\n442\n00:21:00.690 --> 00:21:03.960\nRadius server probably stood up in\na large enterprise environment.\n\n443\n00:21:03.960 --> 00:21:07.450\nAnd we're gonna wanna be able to\nperhaps not duplicate, I mean again,\n\n444\n00:21:07.450 --> 00:21:11.100\nimagine one little simple\nconfiguration like we did one client.\n\n445\n00:21:11.100 --> 00:21:13.060\nOne little modification on the log file.\n\n446\n00:21:13.060 --> 00:21:14.610\nYeah, we could reproduce that,\nno big deal.\n\n447\n00:21:14.610 --> 00:21:16.850\nBut imagine, you had a bunch of templates,\n\n448\n00:21:16.850 --> 00:21:19.310\nyou had a bunch of Radius\nclients already configured.\n\n449\n00:21:19.310 --> 00:21:23.040\nYou wanna reproduce that across your\nenvironment, maybe by branch office,\n\n450\n00:21:23.040 --> 00:21:25.950\nmaybe geography, regional,\nwho knows what it is.\n\n451\n00:21:25.950 --> 00:21:27.860\nBut you don't wanna go to\nthe trouble of having to reconfigure\n\n452\n00:21:27.860 --> 00:21:28.780\nthis thing from scratch.\n\n453\n00:21:28.780 --> 00:21:32.118\nIt would be nice if you could take that,\nexport it, and then, obviously, use that.\n\n454\n00:21:32.118 --> 00:21:35.710\nSo I thought it would just be nice\nreal quick, just to do export here.\n\n455\n00:21:35.710 --> 00:21:40.660\nAll right, I am aware that I am exporting,\nor I am exporting not just config, but\n\n456\n00:21:40.660 --> 00:21:42.500\nnotice I am exporting all shared secrets.\n\n457\n00:21:42.500 --> 00:21:43.830\nWhat we're doing is prompting and\n\n458\n00:21:43.830 --> 00:21:47.180\nsaying hey by the way, you do realize\nyou're exporting passwords, right?\n\n459\n00:21:47.180 --> 00:21:50.158\nAnd that they may not be secure and\nstored properly when you do that, so\n\n460\n00:21:50.158 --> 00:21:51.480\njust be aware of that.\n\n461\n00:21:51.480 --> 00:21:54.090\nIt does say hey, by the way,\nstore this in a secure location.\n\n462\n00:21:54.090 --> 00:21:58.200\nAll right, just make sure you're aware of\nthat and it also says SQL Server logging\n\n463\n00:21:58.200 --> 00:22:01.792\nsettings are not exported after you\nexport the file on another router.\n\n464\n00:22:01.792 --> 00:22:04.580\nAfter you import you have to manually\nconfigure the SQL log settings.\n\n465\n00:22:04.580 --> 00:22:08.290\nWe did not setup SQL logging,\njust to be clear so you know in the demo,\n\n466\n00:22:08.290 --> 00:22:09.230\nright, what we're doing.\n\n467\n00:22:09.230 --> 00:22:14.140\nBut, remember, in the real world if\nyou were logging out to SQL Server you\n\n468\n00:22:14.140 --> 00:22:17.210\nwould have to then deal with setting\nthat logging up again separately.\n\n469\n00:22:17.210 --> 00:22:19.466\nWe're not exporting that config,\njust so you know.\n\n470\n00:22:19.466 --> 00:22:23.120\nSo I'm just gonna check this off just so\nyou can see what happens here.\n\n471\n00:22:23.120 --> 00:22:26.558\nIt's very simple, notice, by the way,\nwe gotta opt in and specify,\n\n472\n00:22:26.558 --> 00:22:28.090\nessentially acknowledge it.\n\n473\n00:22:28.090 --> 00:22:28.890\n&gt;&gt; Acknowledge it, yeah.\n\n474\n00:22:28.890 --> 00:22:31.620\n&gt;&gt; And accepting the responsibility\nof exporting the passwords, or\n\n475\n00:22:31.620 --> 00:22:33.070\nwe can't actually export.\n\n476\n00:22:33.070 --> 00:22:34.611\nSo I just want you to see that,\nwe'll click OK.\n\n477\n00:22:34.611 --> 00:22:37.814\n&gt;&gt; Just something to think\nabout when you're doing a lot\n\n478\n00:22:37.814 --> 00:22:41.942\nof different exporting like when you\nwere showing us with our DHCP and\n\n479\n00:22:41.942 --> 00:22:45.830\ntalking about DHCP migration and\nany kind of like DNS.\n\n480\n00:22:45.830 --> 00:22:49.670\nAll that information, if you think about,\nif you're creating like an executable file\n\n481\n00:22:49.670 --> 00:22:53.220\nor an XML file and\nyou're storing that information anywhere.\n\n482\n00:22:53.220 --> 00:22:55.560\nThose are your core network\nservices that we're talking about,\n\n483\n00:22:55.560 --> 00:22:56.800\nwith a lot of important information.\n\n484\n00:22:56.800 --> 00:22:59.790\nSo always be aware of that when\nyou're running through these steps.\n\n485\n00:22:59.790 --> 00:23:02.610\n&gt;&gt; Very, very important, very true\nto stop and really consider that.\n\n486\n00:23:02.610 --> 00:23:06.240\nSo I just said, basically, yeah,\nwhile Cherokee was talking, said export,\n\n487\n00:23:06.240 --> 00:23:07.750\nall I did was just save it,\ntell it where to put it.\n\n488\n00:23:07.750 --> 00:23:10.373\nI dumped it on the desktop, just so\nyou could see it called NPS Server 1.\n\n489\n00:23:10.373 --> 00:23:14.000\nIt's an XML file,\nno magic or mystery here.\n\n490\n00:23:14.000 --> 00:23:17.200\nWe can certainly open this thing up and\njust take a quick look.\n\n491\n00:23:17.200 --> 00:23:22.330\nWe'll do it in Internet Explorer, we could\ndo it anywhere, it doesn't really matter.\n\n492\n00:23:24.470 --> 00:23:27.588\nYou think if you keep clicking ask me\nlater often enough it would get the idea.\n\n493\n00:23:27.588 --> 00:23:28.170\n&gt;&gt; [LAUGH]\n&gt;&gt; But I guess\n\n494\n00:23:28.170 --> 00:23:29.334\nit's lonely and needs friends.\n\n495\n00:23:29.334 --> 00:23:31.290\n&gt;&gt; It's one of those kind of people?\n\n496\n00:23:31.290 --> 00:23:31.949\n&gt;&gt; It needs friends and\n\n497\n00:23:31.949 --> 00:23:34.053\nwants to really make friends with\nyou no matter how hard you try.\n\n498\n00:23:34.053 --> 00:23:35.780\n&gt;&gt; They don't get the point, yeah.\n\n499\n00:23:35.780 --> 00:23:39.245\n&gt;&gt; So you can see here this is really\njust the guts of the config file.\n\n500\n00:23:39.245 --> 00:23:40.487\nIt's just got all the information.\n\n501\n00:23:40.487 --> 00:23:44.924\nIt's about 50k, 55k, in my case,\nvery small configuration, but\n\n502\n00:23:44.924 --> 00:23:46.955\nit's got everything here.\n\n503\n00:23:46.955 --> 00:23:51.794\nAnd as we go through it's just all\nthe XML code that allows me to understand\n\n504\n00:23:51.794 --> 00:23:54.304\nwhat I'm doing and how I'm doing it.\n\n505\n00:23:54.304 --> 00:23:55.710\nWe haven't looked at those policies yet.\n\n506\n00:23:55.710 --> 00:23:58.338\nBut all the policies that\nare there by default are there,\n\n507\n00:23:58.338 --> 00:23:59.723\nalong with everything else.\n\n508\n00:23:59.723 --> 00:24:01.194\nThat is configured.\n\n509\n00:24:01.194 --> 00:24:05.240\nThere is my client configuration\nright there, there's my client name.\n\n510\n00:24:05.240 --> 00:24:08.536\nWhat I just did where I setup the client,\nthe RADIUS client,\n\n511\n00:24:08.536 --> 00:24:12.946\nthat's the actual config portion of the\nexport that shows me the client config.\n\n512\n00:24:12.946 --> 00:24:15.234\nThere's the IP address we specified,\nright?\n\n513\n00:24:15.234 --> 00:24:18.690\nSo all that stuff we just saw\nis actually sitting right there.\n\n514\n00:24:18.690 --> 00:24:21.030\nSo that's the export,\nthat's what you would do with that.\n\n515\n00:24:21.030 --> 00:24:23.830\nAll right, so let's get back in here for\njust a second.\n\n516\n00:24:23.830 --> 00:24:27.680\nAgain, just before we zip over and\nset up the routing remote access side,\n\n517\n00:24:27.680 --> 00:24:30.710\nI thought I'd quickly just show you what\none of these policies looks like, just so\n\n518\n00:24:30.710 --> 00:24:32.770\nyou can see the default\nones that are built in.\n\n519\n00:24:32.770 --> 00:24:33.810\nAt least you have a sense of that.\n\n520\n00:24:33.810 --> 00:24:36.215\nSo let's just take a look.\n\n521\n00:24:36.215 --> 00:24:39.412\nOn the network policies,remember we\nhave two by default, on the connection\n\n522\n00:24:39.412 --> 00:24:42.420\nrequest policies, we have the ones\nwe talked about here as well.\n\n523\n00:24:42.420 --> 00:24:46.134\nWe could see the date and\ntime here, you will see date and\n\n524\n00:24:46.134 --> 00:24:50.660\ntime restrictions Sunday\nthrough Saturday 0, 0 to 2,400.\n\n525\n00:24:50.660 --> 00:24:55.092\nAnd essentially every day of the week,\nseven days of the week ,24 hours a day\n\n526\n00:24:55.092 --> 00:24:58.055\nright is what we're specifying here,\nright?\n\n527\n00:24:58.055 --> 00:24:59.925\nAnd it says conditions,\nthe following conditions are met.\n\n528\n00:24:59.925 --> 00:25:02.845\nCondition, the time restrictions value and\n\n529\n00:25:02.845 --> 00:25:07.010\nthen authentication\nprovider local computer.\n\n530\n00:25:07.010 --> 00:25:09.950\nIt's telling us we're gonna authenticate\nagainst local computer, right,\n\n531\n00:25:09.950 --> 00:25:12.260\nif we are doing this for all users.\n\n532\n00:25:12.260 --> 00:25:16.750\nSo we could go in, we can disable\na policy right here, we can delete it,\n\n533\n00:25:16.750 --> 00:25:19.230\nrename duplicate it as a policy template.\n\n534\n00:25:19.230 --> 00:25:21.940\nLet's look at properties real\nquick just so you can see.\n\n535\n00:25:21.940 --> 00:25:23.740\nMove this over here for a second just, so\n\n536\n00:25:23.740 --> 00:25:25.520\nit's a little bit easier to\nsee what's going on there.\n\n537\n00:25:25.520 --> 00:25:26.420\nWe got the policy name.\n\n538\n00:25:26.420 --> 00:25:28.340\nThat's just metadata tag descriptor.\n\n539\n00:25:28.340 --> 00:25:30.510\nIt's up to you if you wanna rename that.\n\n540\n00:25:30.510 --> 00:25:31.280\nPolicy enabled.\n\n541\n00:25:31.280 --> 00:25:32.060\nPolicy is turned on.\n\n542\n00:25:32.060 --> 00:25:35.037\nYou right-click disable,\nit unchecks that box.\n\n543\n00:25:35.037 --> 00:25:37.680\nSo you'll see here network\nconnection method,\n\n544\n00:25:37.680 --> 00:25:42.073\nselect the type of network access server\nthat is gonna send the request into NPS.\n\n545\n00:25:42.073 --> 00:25:46.362\nYou can either select here a network\naccess server type or vendor specific, but\n\n546\n00:25:46.362 --> 00:25:50.120\nneither is required kind of giving\nus the option it says there.\n\n547\n00:25:50.120 --> 00:25:54.196\nIt says if your network access\nserver's 802.1x authenticating or\n\n548\n00:25:54.196 --> 00:25:59.020\nis an 802.1x authenticating switch or\nwireless access, go with unspecified.\n\n549\n00:25:59.020 --> 00:26:02.300\nSo if you're sending information in,\nright, from Fabric,\n\n550\n00:26:02.300 --> 00:26:04.080\nthey have certain certain configurations.\n\n551\n00:26:04.080 --> 00:26:05.670\nWe'd give you guidance\non what to do there.\n\n552\n00:26:05.670 --> 00:26:08.730\nSo you pay attention,\nyou obviously follow what the steps are.\n\n553\n00:26:08.730 --> 00:26:11.700\nYou see we can choose\na remote desktop gateway, or\n\n554\n00:26:11.700 --> 00:26:13.370\nour remote server VPN or dial-up.\n\n555\n00:26:13.370 --> 00:26:15.550\nSo that would be RRAS server, and\n\n556\n00:26:15.550 --> 00:26:19.940\nour remote desktop gateway for terminal\nconnection's end, to be able to do RDP.\n\n557\n00:26:21.510 --> 00:26:22.510\nWe have our conditions.\n\n558\n00:26:22.510 --> 00:26:25.290\nThat's the condition that we just\ntook a look at, but we do have other\n\n559\n00:26:25.290 --> 00:26:29.870\nconditions here, of course that we could\nspecify if we needed to by editing in or\n\n560\n00:26:29.870 --> 00:26:31.290\nadding or removing as needed.\n\n561\n00:26:31.290 --> 00:26:32.670\nIf I wanted to edit this,\n\n562\n00:26:32.670 --> 00:26:35.690\nlet's just say hypothetically,\nyou'll see we get that interface.\n\n563\n00:26:35.690 --> 00:26:40.550\nAgain one of those interface that's been\naround since Windows NT, 3.5.1., and 4.0.\n\n564\n00:26:40.550 --> 00:26:42.874\nThat's how old that interface is.\n\n565\n00:26:42.874 --> 00:26:43.463\nWe would just be able to drag and connect.\n\n566\n00:26:43.463 --> 00:26:47.475\n&gt;&gt; It's simple and easy to understand,\nso why change if it's not broke, Adam?\n\n567\n00:26:47.475 --> 00:26:48.930\n&gt;&gt; No, it is, it does work, it works well.\n\n568\n00:26:48.930 --> 00:26:51.130\nThere's definitely nothing wrong with it,\nyou're absolutely right.\n\n569\n00:26:51.130 --> 00:26:53.840\nSo the interesting thing is here\nwe'll come in and we'll do a policy.\n\n570\n00:26:53.840 --> 00:26:56.780\nWe'll actually create one in a little\nwhile in our upcoming episode just to\n\n571\n00:26:56.780 --> 00:27:00.199\ngive you an overview while we're here as\nwe're getting started with configuration.\n\n572\n00:27:00.199 --> 00:27:03.981\nBut you'll see we can come in under\nconditions, and we can specify, right?\n\n573\n00:27:03.981 --> 00:27:07.136\nWe could specify the username that is\nused by the access client in the Radius\n\n574\n00:27:07.136 --> 00:27:09.470\nmessage, right, that's a character string.\n\n575\n00:27:09.470 --> 00:27:14.080\nWe could do Access Client.IPv4 Address,\nAccess Client.IPv6 Address.\n\n576\n00:27:14.080 --> 00:27:15.810\nWe could do our frame protocols here and\n\n577\n00:27:15.810 --> 00:27:18.640\nspecify that, our service type,\nour tunnel type.\n\n578\n00:27:18.640 --> 00:27:22.720\nLook at all the options we have, day and\ntime restrictions, you already saw those.\n\n579\n00:27:22.720 --> 00:27:26.950\nWe could do Calling Station ID client\nfriendly, all sorts of different stuff for\n\n580\n00:27:26.950 --> 00:27:29.770\nthe RADIUS client properties here, right?\n\n581\n00:27:29.770 --> 00:27:33.530\nWe can go in, you'll see on the gateway\nand specify Gateway Information.\n\n582\n00:27:34.660 --> 00:27:39.085\nAgain both If IPv4 and IPv6 supported\nas well as port type in condition for\n\n583\n00:27:39.085 --> 00:27:42.485\nspecification, things like wireless for\ninstance the other two that I love and\n\n584\n00:27:42.485 --> 00:27:44.085\nsupport would be found there.\n\n585\n00:27:44.085 --> 00:27:46.685\nSo we could add any one of\nthese just by grabbing one,\n\n586\n00:27:46.685 --> 00:27:49.975\nclicking add and a random we chose\nthe NAS port type down at the bottom.\n\n587\n00:27:49.975 --> 00:27:53.435\nAnd you'll see if I chose this one,\nI could chose sync,\n\n588\n00:27:53.435 --> 00:27:58.310\nasync, ISDN, there's technology here\na lot about these days VPN, right?\n\n589\n00:27:58.310 --> 00:28:02.308\nWe can choose wireless, so this is how\nwe will set up wireless support, FDDI,\n\n590\n00:28:02.308 --> 00:28:03.996\nfiber token ring, right?\n\n591\n00:28:03.996 --> 00:28:07.440\nWe could Ethernet, token ring,\nagain technology that is\n\n592\n00:28:07.440 --> 00:28:11.060\nolder in some aspects but\nstill used in some areas, right?\n\n593\n00:28:11.060 --> 00:28:14.144\nWe do have the ability to be able specify,\n\n594\n00:28:14.144 --> 00:28:17.945\nwhole bunch of stuff here,\nx25, XTSL, right?\n\n595\n00:28:17.945 --> 00:28:25.006\nWe do have IDSL, all sorts of different\noption ISDN, let's talk about the whole.\n\n596\n00:28:25.006 --> 00:28:26.847\n&gt;&gt; [LAUGH]\n&gt;&gt; Of all retired networking standards and\n\n597\n00:28:26.847 --> 00:28:29.090\nprotocols that you don't\nhear about anymore.\n\n598\n00:28:29.090 --> 00:28:30.540\nWe got all that kind of stuff, right?\n\n599\n00:28:30.540 --> 00:28:34.300\nSo we have all that set our conditions and\nthen,\n\n600\n00:28:34.300 --> 00:28:36.950\nwe can go in,\ndepending on what we're doing.\n\n601\n00:28:36.950 --> 00:28:39.290\nClick add, add those conditions in and\nwe're good, right?\n\n602\n00:28:39.290 --> 00:28:40.470\nWe're just able to add those in.\n\n603\n00:28:40.470 --> 00:28:42.370\nSo let me go out of there.\n\n604\n00:28:42.370 --> 00:28:45.850\nWe can go in and we can stack them up and\nmake sure they're there.\n\n605\n00:28:45.850 --> 00:28:48.050\nAnd then, just on the settings area here,\n\n606\n00:28:48.050 --> 00:28:51.040\nwe do have our required\nauthentication methods.\n\n607\n00:28:51.040 --> 00:28:52.860\nYou'll see we have our\nauthentication method.\n\n608\n00:28:52.860 --> 00:28:55.790\nWe can override the policy\nauthentication settings and\n\n609\n00:28:55.790 --> 00:28:58.360\nthen we can go in and\nhard code the authentication methods.\n\n610\n00:28:58.360 --> 00:29:00.928\nAnd we spoke about some of these,\nif you remember\n\n611\n00:29:00.928 --> 00:29:04.574\nI spoke about the difference between CHAP,\nthen PAP and MSCHAPv2.\n\n612\n00:29:04.574 --> 00:29:07.848\nIn the beginning conversations in this\nblock of episodes around the RRAS\n\n613\n00:29:07.848 --> 00:29:08.660\nfunctionality.\n\n614\n00:29:08.660 --> 00:29:11.890\nWhen we were in the RRAS server\nin episode one, kinda demoing and\n\n615\n00:29:11.890 --> 00:29:16.215\ntalking through the logic there you\ncould see CHAP, PAP, cecure path.\n\n616\n00:29:16.215 --> 00:29:18.225\nYou could see MSCHAP, MSCHAPv2.\n\n617\n00:29:18.225 --> 00:29:21.965\nWe do actually have a setting for\nMSCHAP here for older clients,\n\n618\n00:29:21.965 --> 00:29:25.585\neven though I told you on the new RS\ninterface we don't use MSCHAP anymore.\n\n619\n00:29:25.585 --> 00:29:28.085\nIt's only MSCHAPv2, so you could see that.\n\n620\n00:29:28.085 --> 00:29:31.267\nWe could specify EAP,\nExtensible Authentication Protocol,\n\n621\n00:29:31.267 --> 00:29:32.377\nextensions or types.\n\n622\n00:29:32.377 --> 00:29:37.617\nSo we could add in an EAP type based on\neither mapping a certificate or PEAP,\n\n623\n00:29:37.617 --> 00:29:43.517\nProtected EAP, or EAP with MSCHAPv2, which\nis a secure shared password communication.\n\n624\n00:29:43.517 --> 00:29:45.107\nSo we can do different things here.\n\n625\n00:29:45.107 --> 00:29:49.694\nWe could specify that we\nare doing either authentication\n\n626\n00:29:49.694 --> 00:29:53.237\nrequests on this server\nlocally as you saw.\n\n627\n00:29:53.237 --> 00:29:56.560\nRemember that's what the policy does\nout of the box, essentially that.\n\n628\n00:29:56.560 --> 00:29:58.480\nOr accept users without\nvalidating credentials.\n\n629\n00:29:58.480 --> 00:30:02.460\nEssentially allow anonymous inbound\ncontrol or inbound requests.\n\n630\n00:30:02.460 --> 00:30:06.020\nWe could specify accounting, forward these\nout to a remote server in the RADIUS\n\n631\n00:30:06.020 --> 00:30:10.020\ngroup, meaning this server\nmay be sitting in the DMZ.\n\n632\n00:30:10.020 --> 00:30:13.280\nIs essentially just acting as a proxy for\ninbound connections, and\n\n633\n00:30:13.280 --> 00:30:17.530\nwe can make this a radius proxy and\nwe can then say, hold on a second, right?\n\n634\n00:30:17.530 --> 00:30:21.120\nIf you're inbound, let's say,\nyou'll connect to me, Cherokee, hold on.\n\n635\n00:30:21.120 --> 00:30:21.846\nI'm in the DMC.\n\n636\n00:30:21.846 --> 00:30:25.503\nI'm gonna proxy that request back to our\nroom that RADIUS server group somewhere\n\n637\n00:30:25.503 --> 00:30:28.632\nelse that is on the inside of\nthe firewall doing the authentication.\n\n638\n00:30:28.632 --> 00:30:30.961\nAnd then they're gonna come\nback securely talk to me, and\n\n639\n00:30:30.961 --> 00:30:33.300\nthen I'm gonna allow you through,\nassuming that works.\n\n640\n00:30:33.300 --> 00:30:38.950\nSo I'm not exposing the internal directory\nand the active AD infrastructure.\n\n641\n00:30:38.950 --> 00:30:42.950\nBut I'm simply as a picket line\ngateway device acting as a proxy\n\n642\n00:30:42.950 --> 00:30:44.650\nto accept those inbound requests.\n\n643\n00:30:44.650 --> 00:30:48.676\nThis would be like in theory what\na registration authority may be doing in\n\n644\n00:30:48.676 --> 00:30:50.065\na PKI solution, right?\n\n645\n00:30:50.065 --> 00:30:54.397\nWhere we have the registration authority\nacting as the inbound aggregation point\n\n646\n00:30:54.397 --> 00:30:58.351\nfor client requests for certificates,\ntakes the handoff and then goes and\n\n647\n00:30:58.351 --> 00:31:01.256\ndoes the authentication\nwith the directory servers.\n\n648\n00:31:01.256 --> 00:31:05.201\nValidates the client, then comes back and\napproves that the client is legitimated,\n\n649\n00:31:05.201 --> 00:31:08.490\nand then allows the PKI infrastructure,\nthe certificate authority,\n\n650\n00:31:08.490 --> 00:31:11.118\nto do the issuing after it takes\ncare of all the burdensome\n\n651\n00:31:11.118 --> 00:31:13.170\nwork of doing the authentication.\n\n652\n00:31:13.170 --> 00:31:15.290\nSo it acts like a proxy\nin that respect as well.\n\n653\n00:31:15.290 --> 00:31:17.090\nSo we can set up that up if we want to.\n\n654\n00:31:17.090 --> 00:31:18.090\nIt's up to us.\n\n655\n00:31:18.090 --> 00:31:19.765\n&gt;&gt; Yeah, you bring up a really good point,\nAdam, because-\n\n656\n00:31:19.765 --> 00:31:20.415\n&gt;&gt; I always do.\n\n657\n00:31:20.415 --> 00:31:21.922\n&gt;&gt; I know you always do.\n&gt;&gt; You say that as if that's like a shock.\n\n658\n00:31:21.922 --> 00:31:24.065\n&gt;&gt; [LAUGH]\n&gt;&gt; It's rare that I don't,\n\n659\n00:31:24.065 --> 00:31:26.029\nis how yo should say that .all right,\nso, what point?\n\n660\n00:31:26.029 --> 00:31:27.859\n&gt;&gt; So the thing is in documentation and\n\n661\n00:31:27.859 --> 00:31:31.280\nnetworking diagrams you guys might\ncome across different terms.\n\n662\n00:31:31.280 --> 00:31:35.050\nLike you'll hear you've mentioned AAA,\nyou've mentioned authentication.\n\n663\n00:31:35.050 --> 00:31:37.440\nSometimes they're even called\nauthentication servers.\n\n664\n00:31:37.440 --> 00:31:41.880\nRADIUS is just pretty popular, so\nyou'll often see it dubbed as that.\n\n665\n00:31:41.880 --> 00:31:46.439\nSo these terms can mean slightly\ndifferent things in the way that they're\n\n666\n00:31:46.439 --> 00:31:48.434\ndesigned within the networks.\n\n667\n00:31:48.434 --> 00:31:53.173\nSo just be aware that they're very closely\nrelated, but you can, like Adam said,\n\n668\n00:31:53.173 --> 00:31:57.318\noff set the authentication server to\nthe authenticator although it is.\n\n669\n00:31:57.318 --> 00:32:01.498\nStill a AAA server so to speak,\nso just gonna be aware of that.\n\n670\n00:32:01.498 --> 00:32:03.300\n&gt;&gt; The languages are important.\n\n671\n00:32:03.300 --> 00:32:04.940\nRadius is a intra-standard term.\n\n672\n00:32:04.940 --> 00:32:07.270\nSo for any of you who are working and\n\n673\n00:32:07.270 --> 00:32:09.980\ndo this kind of stuff specifically\nlet's say in this area.\n\n674\n00:32:09.980 --> 00:32:12.980\nRemote access and\nyou manage gateway things and this nature.\n\n675\n00:32:12.980 --> 00:32:15.810\nI'm sure you're very familiar with\nthe concept of Radius because it's\n\n676\n00:32:15.810 --> 00:32:19.880\nan industry wide accepted\nstandard solution you know.\n\n677\n00:32:19.880 --> 00:32:24.040\nAuthentication and session management\nprotocol and thought process.\n\n678\n00:32:24.040 --> 00:32:28.202\nMicrosoft supports it is just any vendor\ndoes, you saw the list of vendors that\n\n679\n00:32:28.202 --> 00:32:32.845\nare Radius clients and in major technology\nvendor is on that list for the most part.\n\n680\n00:32:32.845 --> 00:32:37.096\nSo it's all there but the point is that\nnot every vendor refers to it necessarily\n\n681\n00:32:37.096 --> 00:32:40.157\nfirst and foremost and\nthe name of the product is Radius.\n\n682\n00:32:40.157 --> 00:32:43.891\nWe call ours the NPS, and with policy\nserver happens to be a Radius server so\n\n683\n00:32:43.891 --> 00:32:47.095\nit's radius capable but\nwe don't just use the generic term.\n\n684\n00:32:47.095 --> 00:32:50.296\nSo it is important to be aware of that\nthat's why we try to use the language that\n\n685\n00:32:50.296 --> 00:32:53.273\nget you thinking about the different\nways you see and hear these terms.\n\n686\n00:32:53.273 --> 00:32:56.581\nCuz it is important to understand that so,\nalways good for us to be reminded of that,\n\n687\n00:32:56.581 --> 00:32:57.150\nabsolutely.\n\n688\n00:32:57.150 --> 00:33:00.480\nSo we've got a lot of different\nstuff here that we could specify.\n\n689\n00:33:00.480 --> 00:33:04.080\nWe can add in, there we go,\ncould add in attributes, right.\n\n690\n00:33:04.080 --> 00:33:08.650\nThat maybe additional things we wanna\nbe looking at as part of the policy and\n\n691\n00:33:08.650 --> 00:33:11.050\ncomparing and\nwe could do either standard ones or\n\n692\n00:33:11.050 --> 00:33:16.060\nyou also see vendor specific ones top up\nthe vendor specificity of Radius clients.\n\n693\n00:33:16.060 --> 00:33:17.475\nEach client may behave\na little differently,\n\n694\n00:33:17.475 --> 00:33:19.680\nmay have certain attributes\nassociated with them.\n\n695\n00:33:19.680 --> 00:33:20.650\nWe could have those in here.\n\n696\n00:33:20.650 --> 00:33:24.980\nSo we could put a lot of stuff in here and\nedit that out is part of our policy and\n\n697\n00:33:24.980 --> 00:33:27.330\nstack those policies up and\ninteract with them.\n\n698\n00:33:27.330 --> 00:33:30.160\nSo I just wanted you to see that is\nwe getting started with kind of our\n\n699\n00:33:30.160 --> 00:33:32.640\nfirst episode here in notes part three\n&gt;&gt; [LAUGH]\n\n700\n00:33:32.640 --> 00:33:34.520\n&gt;&gt; But in the group our first episode\n\n701\n00:33:34.520 --> 00:33:38.805\naround specifically BNP as functionality,\nshowing you how to stand up the server,\n\n702\n00:33:38.805 --> 00:33:40.075\nsetup a Radius client.\n\n703\n00:33:40.075 --> 00:33:42.055\nJust get comfortable\nwith the general console.\n\n704\n00:33:42.055 --> 00:33:45.415\nWhat we're gonna do as soon as we come\nback is we're gonna go ahead and flip over\n\n705\n00:33:45.415 --> 00:33:49.305\nto the RRAS side and setup and initialize\nthe Routing and Remote Access Server.\n\n706\n00:33:49.305 --> 00:33:52.340\nRemember, I promised you\nyou get to see me do that.\n\n707\n00:33:52.340 --> 00:33:55.554\nSet it up this time instead of\njust custom set up, right, or\n\n708\n00:33:55.554 --> 00:33:57.380\nmanual if you want to\nthink of it that way and\n\n709\n00:33:57.380 --> 00:34:00.370\nthen choose LAN routing which\nwe did back in the first demo.\n\n710\n00:34:00.370 --> 00:34:03.260\nWe're gonna go through an actual\nset up as a VPN server this time.\n\n711\n00:34:03.260 --> 00:34:04.200\nConfigure it out and\n\n712\n00:34:04.200 --> 00:34:06.330\nthen talk about how we get these\ntwo things talking to each other.\n\n713\n00:34:06.330 --> 00:34:08.590\nSo we're gonna continue on\nwith that demonstration but\n\n714\n00:34:08.590 --> 00:34:11.350\nyou are gonna come back and\nsee us in order to do that.\n\n715\n00:34:11.350 --> 00:34:12.930\n&gt;&gt; All right, sounds like a plan, Adam.\n\n716\n00:34:12.930 --> 00:34:14.420\nThank you so much for joining us.\n\n717\n00:34:14.420 --> 00:34:15.050\nBut stay tuned,\n\n718\n00:34:15.050 --> 00:34:19.210\nwe have additional information\nheaded your way, as Adam has noted.\n\n719\n00:34:19.210 --> 00:34:20.630\nSo we're gonna go ahead and sign out.\n\n720\n00:34:20.630 --> 00:34:22.640\nRemember I'm your host, Cherokee Boose.\n\n721\n00:34:22.640 --> 00:34:23.540\n&gt;&gt; I'm Adam Gordon.\n\n722\n00:34:23.540 --> 00:34:25.624\n&gt;&gt; See you next time here at ITPro.TV.\n\n723\n00:34:25.624 --> 00:34:26.812\n&gt;&gt; Have a rassy day.\n\n724\n00:34:26.812 --> 00:34:27.679\n&gt;&gt; [LAUGH]\n\n725\n00:34:27.679 --> 00:34:32.727\n[MUSIC]\n\n726\n00:34:32.727 --> 00:34:35.960\n&gt;&gt; Thank you for watching, ITProTV.\n\n",
          "vimeoId": "217834090"
        },
        {
          "description": "In this episode, Adam and Cherokee continue to  explain Network Policy Server (NPS). During this demonstration Adam sets up the server as as RADIUS Server supporting authentication and VPN access.",
          "length": "1912",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-4-remote_access_pt4-051217-PGM.00_31_38_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-4-remote_access_pt4-051217-PGM.00_31_38_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-4-remote_access_pt4-051217-PGM.00_31_38_04.Still001-sm.jpg",
          "title": "Remote Access Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:03.488\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:03.488 --> 00:00:06.298\n[CROSSTALK]\n\n3\n00:00:06.298 --> 00:00:08.126\n[MUSIC]\n\n4\n00:00:08.126 --> 00:00:11.737\n&gt;&gt; You're watching, ITProTV.\n\n5\n00:00:11.737 --> 00:00:15.437\n&gt;&gt; Hello, hello, welcome to your\nNetworking with Windows Server 2016\n\n6\n00:00:15.437 --> 00:00:17.893\nseries, I'm your show host,\nCherokee Boose.\n\n7\n00:00:17.893 --> 00:00:21.735\nAnd in this episode, we'll continue\ntaking a look at remote access and\n\n8\n00:00:21.735 --> 00:00:24.874\njust as promised,\nAdam is going to deliver continuing our\n\n9\n00:00:24.874 --> 00:00:28.671\ndemonstration where we were looking\nat NPS, Network Policy Server.\n\n10\n00:00:28.671 --> 00:00:33.362\nAnd he's actually joined us today back in\nstudio, so Adam, we're gonna go ahead and\n\n11\n00:00:33.362 --> 00:00:34.770\nfinish up that demo.\n\n12\n00:00:34.770 --> 00:00:38.460\n&gt;&gt; We are, we're gonna jump back in,\nreally no time to spare and\n\n13\n00:00:38.460 --> 00:00:39.240\nno time to waste.\n\n14\n00:00:39.240 --> 00:00:43.600\nSo we're gonna get started with jumping\nback into the ROS console, we flipped over\n\n15\n00:00:43.600 --> 00:00:47.100\nto our ROS server as we were talking\nabout, we've got it right there.\n\n16\n00:00:47.100 --> 00:00:50.610\nNotice it is not configured yet, I\npromised you that I would walk you through\n\n17\n00:00:50.610 --> 00:00:52.500\nand let you see how we configure this.\n\n18\n00:00:52.500 --> 00:00:54.767\nI've already shown you how to\nset this up as a LAN router,\n\n19\n00:00:54.767 --> 00:00:58.630\none of the prior walk-throughs, important\nto know how to do just basic routing.\n\n20\n00:00:58.630 --> 00:01:01.722\nWe specified and set up hot to set or\nrather how to configure and\n\n21\n00:01:01.722 --> 00:01:04.221\nbind a protocol,\nrunning protocol like RIPv2,\n\n22\n00:01:04.221 --> 00:01:07.670\nwe also took a look at how to to set\nNAT up, we've already seen that.\n\n23\n00:01:07.670 --> 00:01:09.590\nIf you haven't seen us do that,\nyou definitely wanna go back,\n\n24\n00:01:09.590 --> 00:01:13.200\ntake a look at some point but not super\ncritical for our conversation here.\n\n25\n00:01:13.200 --> 00:01:16.730\nEven if this is the very first time you're\nseeing the RS server in the console,\n\n26\n00:01:16.730 --> 00:01:18.480\nwe're gonna walk through how\nto configure it right now,\n\n27\n00:01:18.480 --> 00:01:21.110\nbut we're gonna set it up for\nremote access dial up or VPN.\n\n28\n00:01:21.110 --> 00:01:24.285\nWe're gonna have a preference for\nthe VPN part because hey, let's face it,\n\n29\n00:01:24.285 --> 00:01:28.690\ndial-up is just old technology, slow,\nnot really what we're looking for\n\n30\n00:01:28.690 --> 00:01:31.100\nbut, we still support it\nbecause you know what?\n\n31\n00:01:31.100 --> 00:01:34.770\nWhen the zombie apocalypse comes you're\ngonna wanna have a dial-up connection\n\n32\n00:01:34.770 --> 00:01:37.750\njust in case, all right, so\nwe're gonna get this going right here.\n\n33\n00:01:37.750 --> 00:01:42.280\nI'm just move this over for\njust a moment, click next,\n\n34\n00:01:42.280 --> 00:01:45.340\nwe did talk about the different options\nhere, we ran through this the last time,\n\n35\n00:01:45.340 --> 00:01:47.330\nbut again,\nyou may not have seen that episode yet.\n\n36\n00:01:47.330 --> 00:01:48.610\nSo let's just take a moment here,\n\n37\n00:01:48.610 --> 00:01:51.110\nmake sure we're comfortable with what\nwe're seeing before we continue.\n\n38\n00:01:51.110 --> 00:01:54.070\nWhen we configure and\nset up the RRAS interface and\n\n39\n00:01:54.070 --> 00:01:57.230\nwe install the role, comes up,\nand it is available, but\n\n40\n00:01:57.230 --> 00:02:00.030\nwe have to actually go through and\ntell RRAS what we want it to do.\n\n41\n00:02:00.030 --> 00:02:02.812\nSo we have this wizard we have to run\nthe first time out of the box, so\n\n42\n00:02:02.812 --> 00:02:04.951\nwe have some options here,\nremote access dial up or\n\n43\n00:02:04.951 --> 00:02:07.661\nVPN that's what we're gonna\nconfigure here in just a a moment.\n\n44\n00:02:07.661 --> 00:02:12.266\nWe have a straight NAT solution, we could\nset that up, we have VPN with access and\n\n45\n00:02:12.266 --> 00:02:15.390\nthat's for combining items 1 and\n2 together.\n\n46\n00:02:15.390 --> 00:02:17.480\nWe've the secure connection\nbetween two private networks so\n\n47\n00:02:17.480 --> 00:02:19.420\nthis will be like a site\nto site connection,\n\n48\n00:02:19.420 --> 00:02:23.730\nbranch office, something like that,\ndedicated on private internal networks.\n\n49\n00:02:23.730 --> 00:02:27.230\nAnd then custom configuration which is\nwhat you saw me work with and what I was\n\n50\n00:02:27.230 --> 00:02:31.160\nreferencing that we did in the first walk\nthrough, we set it up as a LAN router.\n\n51\n00:02:31.160 --> 00:02:35.087\nEssentially a software based router and\nthen we went and configured NAT and\n\n52\n00:02:35.087 --> 00:02:39.198\nbound RP or RIPv2 into a couple of the\ninterfaces and enabled the protocol, so\n\n53\n00:02:39.198 --> 00:02:40.711\nwe could certainly do that.\n\n54\n00:02:40.711 --> 00:02:43.934\nThese choices we made just give\nus a set of screens that we have\n\n55\n00:02:43.934 --> 00:02:48.830\nto provide information for like a template\nthat we're just answering questions for.\n\n56\n00:02:48.830 --> 00:02:52.640\nAnd then as a result of the output we get\nto decide how the system gets stood up and\n\n57\n00:02:52.640 --> 00:02:53.610\nultimately gets configured.\n\n58\n00:02:53.610 --> 00:02:58.300\nSo we're gonna do remote access dial up or\nVPN, now, and so\n\n59\n00:02:58.300 --> 00:03:01.580\nwe have both choices here,\nwhen I did the demo on the first episode\n\n60\n00:03:01.580 --> 00:03:03.744\nI didnt bother to mention it cause\nwe were going through quickly.\n\n61\n00:03:03.744 --> 00:03:06.640\nAnd really, it was just, hey by the way,\nlook at that option, that's what you get,\n\n62\n00:03:06.640 --> 00:03:08.000\nwe didnt really bother to go through it,\nso\n\n63\n00:03:08.000 --> 00:03:10.990\nI wanna tell you about something that\ncan happen in the real world here.\n\n64\n00:03:10.990 --> 00:03:13.673\nSo you may have remembered if you've seen\nit already, if not, if you go back and\n\n65\n00:03:13.673 --> 00:03:15.691\nlook at the episode,\nyou'll see what I'm talking about.\n\n66\n00:03:15.691 --> 00:03:19.355\nWhen I came in here, the top option VPN\nwas grayed out, it was dial up only and\n\n67\n00:03:19.355 --> 00:03:23.251\nI just said, yeah you could choose either\none and basically we just hit cancel and\n\n68\n00:03:23.251 --> 00:03:23.845\nwent back.\n\n69\n00:03:23.845 --> 00:03:27.794\nAnd then walked through the other parts\nof the wizard, but you may actually,\n\n70\n00:03:27.794 --> 00:03:31.590\nin the real world, see VPN not being\navailable, grayed out as an option.\n\n71\n00:03:31.590 --> 00:03:35.963\nIf that happens by the way, doesn't mean\nyou broke anything, all it means is,\n\n72\n00:03:35.963 --> 00:03:39.550\nhit cancel, comeback in,\nrun the selection option again.\n\n73\n00:03:39.550 --> 00:03:43.070\nIt means that the console was not quick\nenough to catch all the configuration\n\n74\n00:03:43.070 --> 00:03:46.590\noptions on the system and understand how\nto set the interface up properly for\n\n75\n00:03:46.590 --> 00:03:47.976\nyou, it happens sometimes.\n\n76\n00:03:47.976 --> 00:03:51.824\nIt doesn't happen very often, it's\na little glitch in just the way the wizard\n\n77\n00:03:51.824 --> 00:03:56.300\nscreen sets up, queries the system, says\nthis is available as an option, yes or no?\n\n78\n00:03:56.300 --> 00:03:59.240\nAnd it shows it to you if you just\ngo a little too quick it doesn't\n\n79\n00:03:59.240 --> 00:04:02.730\ncatch up with you basically, is probably\nthe easiest way to describe it.\n\n80\n00:04:02.730 --> 00:04:04.860\nIt's not anything that affects you,\n\n81\n00:04:04.860 --> 00:04:08.200\nit's just that you have to literally just\ncancel and start it again and by that time\n\n82\n00:04:08.200 --> 00:04:11.080\nthe latency has actually caught up with\nyou and it does enable the option.\n\n83\n00:04:11.080 --> 00:04:14.610\nSo if you see that happening, just so\nyou know, that way you're aware of it, so\n\n84\n00:04:14.610 --> 00:04:17.630\nwe're gonna, you see here, choose VPN,\njust click on it right there.\n\n85\n00:04:19.020 --> 00:04:23.450\nWe'll click Next, notice that we do\nhave our two interfaces here, Ethernet,\n\n86\n00:04:23.450 --> 00:04:26.910\nEthernet 2, we would obviously\nhave these set up ahead of time,\n\n87\n00:04:26.910 --> 00:04:31.780\nthese would be the external IP addressed\nand / or internal IP addressed or both.\n\n88\n00:04:31.780 --> 00:04:34.360\nCards that are on the host, or\nhowever many there are on the server,\n\n89\n00:04:34.360 --> 00:04:38.070\nwhatever we're doing we would\nwanna specify which interface or\n\n90\n00:04:38.070 --> 00:04:40.410\ninterfaces we're gonna wanna set up.\n\n91\n00:04:40.410 --> 00:04:43.759\nSo we're gonna choose VPN here,\nI'm gonna steal a quick look at my notes,\n\n92\n00:04:43.759 --> 00:04:46.683\nmake sure I choose the right interface,\nwe're gonna do 010,\n\n93\n00:04:46.683 --> 00:04:49.785\nyou may notice by the way that these\nare both labeled HyperV network.\n\n94\n00:04:49.785 --> 00:04:51.742\nRemember these are virtual machines,\n\n95\n00:04:51.742 --> 00:04:55.594\nwe are running this on a HyperV based\nnetwork for demonstration purposes, so\n\n96\n00:04:55.594 --> 00:04:59.048\nwe'll be ironic for running this\non VM from Microsoft class OneNet.\n\n97\n00:04:59.048 --> 00:05:02.649\nBut we are running it there just so you\ncan see, so if you see that and wonder,\n\n98\n00:05:02.649 --> 00:05:04.750\nhey why is that whole Hyper-V thing there?\n\n99\n00:05:04.750 --> 00:05:07.857\nIt's because these are virtual machines,\nwe're using virtual network adapter, so\n\n100\n00:05:07.857 --> 00:05:10.664\nthe meta data descriptor just says\nHyper-V cuz that's where they come from,\n\n101\n00:05:10.664 --> 00:05:11.316\njust so you know.\n\n102\n00:05:11.316 --> 00:05:13.484\n&gt;&gt; Like using a Macintosh\ncomputer to demonstrate-\n\n103\n00:05:13.484 --> 00:05:14.140\n&gt;&gt; [SOUND]\n\n104\n00:05:14.140 --> 00:05:16.580\n&gt;&gt; [LAUGH]\n\n105\n00:05:16.580 --> 00:05:18.090\n&gt;&gt; Don't ruin the magic,\n\n106\n00:05:18.090 --> 00:05:18.900\ndon't-\n&gt;&gt; [LAUGH] Okay.\n\n107\n00:05:18.900 --> 00:05:21.221\n&gt;&gt; Pay no attention to the woman\nin red behind the screen,\n\n108\n00:05:21.221 --> 00:05:22.592\nyou've ever seen Wizard of Oz?\n\n109\n00:05:22.592 --> 00:05:23.875\n&gt;&gt; Yeah, I love the Wizard of Oz.\n\n110\n00:05:23.875 --> 00:05:27.970\n&gt;&gt; It's like we're Toto exposes\nthe wizard, you don't wanna be like that,\n\n111\n00:05:27.970 --> 00:05:29.533\nthat ruins the whole thing.\n\n112\n00:05:29.533 --> 00:05:30.268\n&gt;&gt; Okay, I'll be quiet.\n\n113\n00:05:30.268 --> 00:05:32.001\n&gt;&gt; This is why we don't\ntell you the shared secret,\n\n114\n00:05:32.001 --> 00:05:34.414\nbecause you go around blabbing\n's password to everybody,\n\n115\n00:05:34.414 --> 00:05:36.340\nand everybody would know,\nyou don't wanna do that.\n\n116\n00:05:36.340 --> 00:05:39.680\nAll right, so we're gonna go ahead,\nwe're gonna choose in this case,\n\n117\n00:05:39.680 --> 00:05:45.730\nEthernet 2 here, we're gonna uncheck the\npacket filtering item down here just for\n\n118\n00:05:45.730 --> 00:05:48.390\npurposes of our demonstration,\nmake things easy.\n\n119\n00:05:48.390 --> 00:05:51.630\nClick Next, we then have the specify\nhow we're gonna do IP addressing,\n\n120\n00:05:51.630 --> 00:05:53.360\nwhether we do it automatically,\nessentially,\n\n121\n00:05:53.360 --> 00:05:56.870\nDHCP driven, and/or,\nare we gonna do a specified range?\n\n122\n00:05:56.870 --> 00:06:00.096\nWe're gonna do a specified range and\njust put in a small range here but, you,\n\n123\n00:06:00.096 --> 00:06:01.537\nobviously, have either option,\n\n124\n00:06:01.537 --> 00:06:04.588\nwe would have to click New here to put\nthe range in, we're gonna do that.\n\n125\n00:06:04.588 --> 00:06:12.002\nGet a little box here, just make sure\nI've gotten my IP address range,\n\n126\n00:06:12.002 --> 00:06:17.192\ninformation here,\nbear with me just one second,\n\n127\n00:06:17.192 --> 00:06:21.025\nso 192.168.0.150 and\n\n128\n00:06:21.025 --> 00:06:25.000\nthen 192.168.0.190.\n\n129\n00:06:25.000 --> 00:06:27.270\nAll right,\n\n130\n00:06:27.270 --> 00:06:32.230\nso gonna have 41 addresses there, we're\ngonna click OK, so we've got that set up,\n\n131\n00:06:32.230 --> 00:06:35.770\nand we also can add in a couple of ranges\nhere depending on what we're doing.\n\n132\n00:06:35.770 --> 00:06:39.830\nSo we'll click Next,\nmanaging multiple remote access servers,\n\n133\n00:06:39.830 --> 00:06:45.610\nare we going to set up and manage more\nthan one, and if we are, are we then going\n\n134\n00:06:45.610 --> 00:06:50.400\nto set up and wanna work with, or set this\nserver up and work with a radius server?\n\n135\n00:06:50.400 --> 00:06:52.550\nOf course, clearly the answer\nis yes because that's what we're\n\n136\n00:06:52.550 --> 00:06:53.540\ntalking about, right?\n\n137\n00:06:53.540 --> 00:06:57.390\nSo it says no use routing remote access to\nauthenticate connection requests meaning\n\n138\n00:06:57.390 --> 00:07:00.280\nsingle inbound connections come here\nthey get authenticated through here.\n\n139\n00:07:00.280 --> 00:07:04.150\nYes, let's set this up, let's set this\nserver up to work with a Radius server,\n\n140\n00:07:04.150 --> 00:07:06.490\nremember we're gonna push authentication\nout to the Radius server,\n\n141\n00:07:06.490 --> 00:07:09.280\nthat's our perimeter or\nboundary gateway device.\n\n142\n00:07:09.280 --> 00:07:12.780\nIt's gonna act as the inbound\nconnection control, it's gonna get\n\n143\n00:07:12.780 --> 00:07:16.220\nthe client coming in, it's gonna get that\nauthentication request happening there.\n\n144\n00:07:16.220 --> 00:07:18.910\nIt's part of the triple A, that's what we\nwere talking about, right, authentication,\n\n145\n00:07:18.910 --> 00:07:22.190\naccess control and auditing, so,\nkeep in mind, that's what we're doing.\n\n146\n00:07:22.190 --> 00:07:25.065\nSo we're gonna say, yeah, let's pair up\nwith the Radius server because they're\n\n147\n00:07:25.065 --> 00:07:27.080\nthe cool kids and\nwe want to hang out with them.\n\n148\n00:07:27.080 --> 00:07:28.035\n&gt;&gt; [LAUGH]\n&gt;&gt; We're going to do yes,\n\n149\n00:07:28.035 --> 00:07:30.895\nset up the server to work with Radius,\nthat's what we're going to do, so we're\n\n150\n00:07:30.895 --> 00:07:34.995\ngoing to click Next here, now we need to\nspecify, hey, what is that Radius server?\n\n151\n00:07:34.995 --> 00:07:38.142\nMaybe primary certainly,\nmaybe alternate perhaps, perhaps not,\n\n152\n00:07:38.142 --> 00:07:41.410\nand of course, that thing we keep\ncoming back to, that shared secret.\n\n153\n00:07:41.410 --> 00:07:42.455\n&gt;&gt; Shared secret.\n&gt;&gt; You need to leave the room while I type\n\n154\n00:07:42.455 --> 00:07:43.741\nthe shared secret in,\n&gt;&gt; [LAUGH]\n\n155\n00:07:43.741 --> 00:07:44.260\n&gt;&gt; So you don't know what that is.\n\n156\n00:07:44.260 --> 00:07:45.212\n&gt;&gt; I'll close my eyes.\n\n157\n00:07:45.212 --> 00:07:49.634\n&gt;&gt; Close your eyes, don't listen, all\nright, so we're going to put in our radio\n\n158\n00:07:49.634 --> 00:07:53.858\nserver name here, that's gonna be,\nsince I typed correctly plabsa01,\n\n159\n00:07:53.858 --> 00:07:57.240\nagain you would have to know\nthe name of the radio server.\n\n160\n00:07:57.240 --> 00:07:59.744\nYou would have to know what that is,\nobviously it's the one we were just\n\n161\n00:07:59.744 --> 00:08:02.543\nconfiguring, so we're putting that in\nthere, we don't have an alternate for\n\n162\n00:08:02.543 --> 00:08:04.913\npurposes of demonstrations so\nwe're just gonna use our primary.\n\n163\n00:08:04.913 --> 00:08:08.740\nWe're gonna put in our password for\nour shared secret.\n\n164\n00:08:08.740 --> 00:08:10.710\nPut that in there.\n\n165\n00:08:10.710 --> 00:08:12.550\nClick Next.\n\n166\n00:08:12.550 --> 00:08:13.760\nGive that just a second.\n\n167\n00:08:13.760 --> 00:08:14.390\nSays, okay, great.\n\n168\n00:08:14.390 --> 00:08:16.710\nYou're done.\nLet's click Finish.\n\n169\n00:08:16.710 --> 00:08:18.590\nNow, remember,\nwe have to spin up the services.\n\n170\n00:08:18.590 --> 00:08:22.160\nCuz the first time we configure RRAS,\nit has to go through, set everything up.\n\n171\n00:08:22.160 --> 00:08:25.150\nIt then has to launch, and load,\nand configure the services.\n\n172\n00:08:25.150 --> 00:08:26.510\nWe're gonna get the little pop-up.\n\n173\n00:08:26.510 --> 00:08:28.905\nWe got the little spinning\npizza clock plate there.\n\n174\n00:08:28.905 --> 00:08:30.160\n&gt;&gt; [LAUGH]\n&gt;&gt; It's gonna go do it's thing.\n\n175\n00:08:30.160 --> 00:08:32.240\nSo don't be surprised,\nthis will take a moment.\n\n176\n00:08:32.240 --> 00:08:35.050\nAnd in the real world,\nthis is what you'll see traditionally so\n\n177\n00:08:35.050 --> 00:08:36.030\njust be patient with it.\n\n178\n00:08:36.030 --> 00:08:37.840\nIt's not like it's gonna take forever.\n\n179\n00:08:37.840 --> 00:08:40.950\nShouldn't take more than about\n15 to 20 seconds, there you go.\n\n180\n00:08:40.950 --> 00:08:41.926\nWe get a little pop-up.\n\n181\n00:08:41.926 --> 00:08:43.650\nNow this pop-up will happen,\n\n182\n00:08:43.650 --> 00:08:48.560\nthis is normal to support\nthe relaying of DHCP messages.\n\n183\n00:08:48.560 --> 00:08:51.180\nYou would go ahead and\nconfigure the DHCP relay agent.\n\n184\n00:08:51.180 --> 00:08:54.170\nThey're just reminding us that RRAS\nis where we set up the relay agent.\n\n185\n00:08:54.170 --> 00:08:55.790\nNow we're not doing that here, but\n\n186\n00:08:55.790 --> 00:08:59.040\nkeep in mind in the DHCP\nconversations prior episodes, again,\n\n187\n00:08:59.040 --> 00:09:01.780\nif you haven't seen them, definitely\nwanna make sure you go take a look.\n\n188\n00:09:01.780 --> 00:09:04.110\nWe actually walk through discuss this, but\n\n189\n00:09:04.110 --> 00:09:06.940\nwe also actually set up a DHCP relay\nin 40 and showed you how to do that.\n\n190\n00:09:06.940 --> 00:09:08.440\nSo we're just gonna click OK.\n\n191\n00:09:08.440 --> 00:09:11.080\nThat is just an informational message,\nby the way, nothing more.\n\n192\n00:09:11.080 --> 00:09:14.810\nThis is the actual configuration\ntaking place right now.\n\n193\n00:09:14.810 --> 00:09:18.310\nSo that's just going through and setting\nthis up and kind of configuring for us,\n\n194\n00:09:18.310 --> 00:09:19.550\ndoesn't take very long.\n\n195\n00:09:19.550 --> 00:09:22.120\nAs you can see and as soon as\nyou can we get all that done and\n\n196\n00:09:22.120 --> 00:09:26.418\nit's been probably now more than about a\nminute inclusive including the sitting and\n\n197\n00:09:26.418 --> 00:09:29.620\njust explaining what was happening\nyou could see we have all that there.\n\n198\n00:09:29.620 --> 00:09:35.140\nAnd once we have that configured we're\nnow able to go in and we're now able to\n\n199\n00:09:35.140 --> 00:09:40.140\nactually take a look at the interface and\nwe'll do just a quick refresher tour.\n\n200\n00:09:40.140 --> 00:09:43.440\nI'm not gonna go back through every\naspect of the detail that we went in\n\n201\n00:09:43.440 --> 00:09:45.510\nthe first lecture on the RRAS console.\n\n202\n00:09:45.510 --> 00:09:47.220\nInvite you to go back,\ntake a look at that episode,\n\n203\n00:09:47.220 --> 00:09:49.780\nwe spent almost an entire episode\ngetting used to the console.\n\n204\n00:09:49.780 --> 00:09:52.810\nWe're just gonna show you just a couple\nof things here that we just wanna remind\n\n205\n00:09:52.810 --> 00:09:54.200\nourselves of and be aware of.\n\n206\n00:09:54.200 --> 00:09:58.180\nBut you'll notice here, the remote access\nclients, remote access login policies,\n\n207\n00:09:58.180 --> 00:10:01.090\nthat's different to what we would\nhave seen before, so we have that.\n\n208\n00:10:01.090 --> 00:10:05.616\nYou'll notice that we do have both IPV4\nand IPV6, unlike in the prior demo where\n\n209\n00:10:05.616 --> 00:10:08.584\nwe would have REP and\nnow all ready associated there.\n\n210\n00:10:08.584 --> 00:10:10.616\nWe have unloaded those, so\nyou'll see there not there.\n\n211\n00:10:10.616 --> 00:10:15.612\nBut we did talk about how to do them so we\ncertainly can use those if necessary and\n\n212\n00:10:15.612 --> 00:10:17.340\nright-click up here.\n\n213\n00:10:17.340 --> 00:10:20.660\nWe certainly can disable this thing if\nwe need to turn it off for some reason.\n\n214\n00:10:20.660 --> 00:10:23.640\nWe remind you again that we do have\nthe direct access option there,\n\n215\n00:10:23.640 --> 00:10:26.360\nwe'll be seeing that in upcoming episodes,\nand you're just going through and\n\n216\n00:10:26.360 --> 00:10:27.840\ntalking about direct access.\n\n217\n00:10:27.840 --> 00:10:29.130\nWe can stop, start and\n\n218\n00:10:29.130 --> 00:10:31.920\nrestart if necessary and\nwe can look at properties here.\n\n219\n00:10:31.920 --> 00:10:34.730\nLet's just bring that up,\nit'll take just a second to come up.\n\n220\n00:10:34.730 --> 00:10:38.650\nWhat we're gonna do here is just go in and\ngo to the security tabs, as soon as this\n\n221\n00:10:38.650 --> 00:10:42.580\ncomes up, and we're gonna set up and\nconfigure our authentication provider.\n\n222\n00:10:42.580 --> 00:10:44.590\nRemember that's\nthe authentication provider and\n\n223\n00:10:44.590 --> 00:10:46.720\nthe connection back to Radius,\nwe're gonna take a look at that.\n\n224\n00:10:46.720 --> 00:10:49.450\nSo we wanna bring this up,\nwe're gonna take a look.\n\n225\n00:10:50.730 --> 00:10:53.890\nWe're going to in addition\nto the properties for\n\n226\n00:10:53.890 --> 00:10:55.520\nthe authentication provider.\n\n227\n00:10:55.520 --> 00:10:58.460\nI'll just click to give you an idea of\nwhat the other tabs are on there just to\n\n228\n00:10:58.460 --> 00:11:00.740\nmake sure that you can see them.\n\n229\n00:11:00.740 --> 00:11:03.420\nSomebody have a big stick we\ncan poke our RRAS server,\n\n230\n00:11:03.420 --> 00:11:05.700\nmake sure it's paying attention so\nthat the property screen comes up?\n\n231\n00:11:05.700 --> 00:11:08.680\nLet me just make sure it's not\ncoming up behind the scenes.\n\n232\n00:11:08.680 --> 00:11:10.820\nSometimes the console does,\nI hate it when it does that.\n\n233\n00:11:10.820 --> 00:11:12.560\nIt brings up the screen but\nyou don't know where it is.\n\n234\n00:11:12.560 --> 00:11:13.853\nAnd you're sitting and\nwaiting and it's like, well,\n\n235\n00:11:13.853 --> 00:11:14.989\nI think it's gonna be there,\nbut I don't know.\n\n236\n00:11:14.989 --> 00:11:16.273\n&gt;&gt; What a waste of time, [LAUGH] yes.\n\n237\n00:11:16.273 --> 00:11:19.441\n&gt;&gt; And it's not there, so\nlet me try this one more time.\n\n238\n00:11:19.441 --> 00:11:22.150\nIt may just for some reason be thinking.\n\n239\n00:11:22.150 --> 00:11:24.830\nWhat I'm actually thinking\nwe'll do is the following.\n\n240\n00:11:24.830 --> 00:11:25.390\nLet's just close.\n\n241\n00:11:25.390 --> 00:11:26.090\n&gt;&gt; Relaunch?\n\n242\n00:11:26.090 --> 00:11:27.570\n&gt;&gt; Yeah. Yeah.\nJust close the tool out, real quick.\n\n243\n00:11:27.570 --> 00:11:28.190\nJust relaunch it.\n\n244\n00:11:28.190 --> 00:11:32.430\nIt may, for some reason, just be, you\nknow it does that whole wizard thing and\n\n245\n00:11:32.430 --> 00:11:34.300\nit says yeah, all the services started,\nit's ready to go but,\n\n246\n00:11:34.300 --> 00:11:36.420\nyou know there's actually stuff\nthat happens behind the scenes.\n\n247\n00:11:36.420 --> 00:11:39.610\nAfter that that we may actually\nbe the victim of waiting for.\n\n248\n00:11:39.610 --> 00:11:41.680\nWe may not see it,\nwe don't know it's happening but\n\n249\n00:11:41.680 --> 00:11:43.490\nthere's still some configuration\nthat does take place.\n\n250\n00:11:43.490 --> 00:11:47.110\nSo since this is literally\nhappening inline in realtime almost\n\n251\n00:11:47.110 --> 00:11:50.540\nimmediately after we spun it up,\nit may actually still be thinking.\n\n252\n00:11:50.540 --> 00:11:53.000\nSo let's back and\nwe'll relaunch, no big deal.\n\n253\n00:11:53.000 --> 00:11:55.810\nSo let's just come down here,\nallow to give remote access.\n\n254\n00:11:55.810 --> 00:11:58.200\nI know you can't see,\nit's behind the picture but it is there.\n\n255\n00:11:58.200 --> 00:12:00.670\nI'm clicking on about to click on it\nright now, there you go, right there.\n\n256\n00:12:00.670 --> 00:12:04.960\nSo you could see we have that so\nlet's just open this up one more time,\n\n257\n00:12:04.960 --> 00:12:09.487\nlet's see if what are the better\nlook this time, go to properties.\n\n258\n00:12:09.487 --> 00:12:10.480\n&gt;&gt; And there you go.\n\n259\n00:12:10.480 --> 00:12:14.360\n&gt;&gt; See sometimes it's just a matter of\ngetting it to pay attention to you.\n\n260\n00:12:14.360 --> 00:12:16.580\nSo let me just move this\nover here real quick.\n\n261\n00:12:16.580 --> 00:12:19.460\nSee, you can see that away from\nthat little blue square up there\n\n262\n00:12:19.460 --> 00:12:21.590\nthat's just anchoring our window force.\n\n263\n00:12:21.590 --> 00:12:23.920\nAll right, so\nwe have the general information here,\n\n264\n00:12:23.920 --> 00:12:25.700\nright we do have the ability to set it up.\n\n265\n00:12:25.700 --> 00:12:27.740\nAnd we've talked about this\nin the prior episode as well,\n\n266\n00:12:27.740 --> 00:12:30.640\nIPv4 and IPv6 routing capabilities.\n\n267\n00:12:30.640 --> 00:12:34.794\nThis time you'll notice unlike the last\ntime, we did this where we just set it up\n\n268\n00:12:34.794 --> 00:12:39.395\nas IPv4 for routing, this time notice IPv4\nremote access server configured as well.\n\n269\n00:12:39.395 --> 00:12:43.019\nCuz remember we could figure this\nas a RRAS server with VPN and\n\n270\n00:12:43.019 --> 00:12:47.639\nnot just simply as a LAN router so we\nhave different options being selected but\n\n271\n00:12:47.639 --> 00:12:50.640\nstill no IPv6 support we\nhaven't enabled that.\n\n272\n00:12:50.640 --> 00:12:52.290\nSo we do have our security area here.\n\n273\n00:12:52.290 --> 00:12:53.520\nThis is where we are going.\n\n274\n00:12:53.520 --> 00:12:56.040\nNow we're gonna be able to look at\nour authentication provider and\n\n275\n00:12:56.040 --> 00:13:00.089\nour accounting provider so we can go\ninto our authentication provider.\n\n276\n00:13:01.460 --> 00:13:05.240\nWe can click configure and\nyou'll see here that we have our\n\n277\n00:13:05.240 --> 00:13:09.460\nRadius authentication server, the one we\nspecified in the wizard is available here.\n\n278\n00:13:09.460 --> 00:13:12.270\nPLASA01, that we have that there.\n\n279\n00:13:12.270 --> 00:13:15.710\nAnd we can go in and we can edit this so\nwe can work with this.\n\n280\n00:13:15.710 --> 00:13:17.360\nWe're gonna go in and edit this right now.\n\n281\n00:13:18.410 --> 00:13:20.340\nWe could add other ones\nhere as well if necessary.\n\n282\n00:13:20.340 --> 00:13:21.980\nBut we can edit the settings here.\n\n283\n00:13:21.980 --> 00:13:23.770\nAnd you'll notice basically\nit's not much to edit.\n\n284\n00:13:23.770 --> 00:13:26.290\nBut you'll see we have the server name,\nthe shared secret is there.\n\n285\n00:13:26.290 --> 00:13:29.920\nIf we do have to change it for some\nreason, notice we can go in and do that.\n\n286\n00:13:29.920 --> 00:13:34.000\nWe have our time out, initial score report\nand then always use message authenticator.\n\n287\n00:13:34.000 --> 00:13:36.210\nRemember we specified\nthe message authenticator,\n\n288\n00:13:36.210 --> 00:13:39.410\nwe were talking about that in\nthe setup options in the last episode.\n\n289\n00:13:39.410 --> 00:13:40.390\nSo we're putting that in there.\n\n290\n00:13:40.390 --> 00:13:42.230\nWe're just gonna go ahead and\ncheck that off.\n\n291\n00:13:42.230 --> 00:13:45.060\nWhere then going to go ahead and\nwhere going to click okay,\n\n292\n00:13:46.590 --> 00:13:50.550\ngot that enable to click okay there,\nso lets give that a second.\n\n293\n00:13:54.780 --> 00:13:57.220\nAnd then there we go and\nthen where back into the window,\n\n294\n00:13:57.220 --> 00:14:03.020\nall right its not that we have that,\nwhere going to go in.\n\n295\n00:14:03.020 --> 00:14:04.730\nAnd we're gonna go to\nour accounting provider.\n\n296\n00:14:04.730 --> 00:14:06.290\nWe just did our authentication provider.\n\n297\n00:14:06.290 --> 00:14:07.780\nWe're gonna go to our accounting provider.\n\n298\n00:14:07.780 --> 00:14:09.100\nWe have both, remember.\n\n299\n00:14:09.100 --> 00:14:10.830\nAuthentication, hey, who are you?\n\n300\n00:14:10.830 --> 00:14:13.200\nLet me check you against\nour standard access list.\n\n301\n00:14:13.200 --> 00:14:15.050\nIt's the bouncer saying,\nshow me your name.\n\n302\n00:14:15.050 --> 00:14:16.190\nAre you on the list?\n\n303\n00:14:16.190 --> 00:14:20.550\nThe accounting provider is,\nokay essentially, who's gonna provide\n\n304\n00:14:20.550 --> 00:14:24.120\nthe oversight and the control of what\nyou're doing and making sure we keep\n\n305\n00:14:24.120 --> 00:14:27.500\ntrack of it in the auditing and that's\nwhat the accounting provider is gonna do.\n\n306\n00:14:27.500 --> 00:14:31.720\nSo notice, by the way, that both of these\nare set to our radius authentication\n\n307\n00:14:31.720 --> 00:14:36.030\nas opposed to in the prior walk through\nwe just set this up as a LAN router and\n\n308\n00:14:36.030 --> 00:14:38.950\nI was showing you just what's\nthe settings were as we walk through.\n\n309\n00:14:38.950 --> 00:14:41.900\nThat both of them were set to the Windows\nauthentication, option one below.\n\n310\n00:14:41.900 --> 00:14:46.010\nIn the pull dawn screen because we\nchose to set this up as our last server\n\n311\n00:14:46.010 --> 00:14:50.490\nconfigure for VPN access and\nintegrate it with the radio's client or\n\n312\n00:14:50.490 --> 00:14:54.140\nradio's server is part of the work from\nthe wizard, it pretty populate system and\n\n313\n00:14:54.140 --> 00:14:58.135\nchanges that default and sets up\nthe radio authentication for ourself.\n\n314\n00:14:58.135 --> 00:14:59.450\nYay for the wizard for the wizard screen.\n\n315\n00:14:59.450 --> 00:15:00.937\nRight cuz we don't have\nto do as much work.\n\n316\n00:15:00.937 --> 00:15:02.954\nAll right so we're gonna go go\nto accounting provider here,\n\n317\n00:15:02.954 --> 00:15:04.030\nwe're gonna click configure.\n\n318\n00:15:04.030 --> 00:15:06.960\nAgain we have our provider\nalready specified.\n\n319\n00:15:06.960 --> 00:15:11.389\nWe'll click Edit there, and you'll see\nthat we're gonna have the server name and\n\n320\n00:15:11.389 --> 00:15:15.563\nwe have the password, the shared secret\nthere, we have the ability to go in and\n\n321\n00:15:15.563 --> 00:15:17.293\nto our specified some timeout.\n\n322\n00:15:17.293 --> 00:15:19.679\nWe're going to check off\nSend Radius Accounting on, and\n\n323\n00:15:19.679 --> 00:15:22.610\naccounting off messages, this allows\nus to specify that we should d or\n\n324\n00:15:22.610 --> 00:15:24.735\nshould not be paying\nattention to the session.\n\n325\n00:15:24.735 --> 00:15:27.245\nAnd as a result we'll be able\nto record what you're doing.\n\n326\n00:15:27.245 --> 00:15:30.455\nAnd then when you decide to stop\ncommunicating, we essentially turn off and\n\n327\n00:15:30.455 --> 00:15:33.505\nstop recording so we're not auditing\nthe logging stuff that isn't happening\n\n328\n00:15:33.505 --> 00:15:36.675\nanymore, It's just flow control, makes\na sense if you think about it that way.\n\n329\n00:15:36.675 --> 00:15:40.155\nSo I'm just gonna click okay there, click\nokay there, again it just takes a second t\n\n330\n00:15:40.155 --> 00:15:43.630\nkind of stand up and\nset that and instantiate itself.\n\n331\n00:15:43.630 --> 00:15:48.440\nOnce we're done with that,\nwe're then gonna be able to click okay.\n\n332\n00:15:48.440 --> 00:15:53.927\nWe're gonna be able to now have our RRAS\nserver set up with our VPN support and\n\n333\n00:15:53.927 --> 00:15:55.744\nour radio Server tie in.\n\n334\n00:15:55.744 --> 00:15:57.902\nSo we've configured now the RRAS piece,\n\n335\n00:15:57.902 --> 00:16:01.109\nwe're gonna go back over here\nto our network policy server and\n\n336\n00:16:01.109 --> 00:16:05.510\nwe're gonna set up a brand new policy,\nI showed you what policies look like.\n\n337\n00:16:05.510 --> 00:16:07.170\nAnd I showed you editing\none of the default ones.\n\n338\n00:16:07.170 --> 00:16:10.200\nBut let's go on and create our own,\nright, cuz it's only good and\n\n339\n00:16:10.200 --> 00:16:13.982\nonly ultimately works if you actually\ncreate something beyond the default.\n\n340\n00:16:13.982 --> 00:16:16.115\nAnd then actually test to see whether or\nnot that's gonna work or not.\n\n341\n00:16:16.115 --> 00:16:17.802\nSo let's just flip back over here,\n\n342\n00:16:17.802 --> 00:16:21.643\njust gonna extend the lab time really\nquick while we're doing before we do that.\n\n343\n00:16:21.643 --> 00:16:22.766\nCuz all this hard work,\n\n344\n00:16:22.766 --> 00:16:26.260\nit would really be a shame if we have\nto redo everything from the ground up.\n\n345\n00:16:26.260 --> 00:16:27.818\nSo wanna make sure we do that, all right.\n\n346\n00:16:27.818 --> 00:16:30.390\nSo back on our network policy server.\n\n347\n00:16:30.390 --> 00:16:31.730\nYou've seen this console.\n\n348\n00:16:31.730 --> 00:16:34.171\nLeft it just where we were\nlast time we were in here.\n\n349\n00:16:34.171 --> 00:16:36.590\nAll right ,so that means the maid\nhasn't been in to clean up yet, so\n\n350\n00:16:36.590 --> 00:16:37.572\nwe gotta keep that in mind.\n\n351\n00:16:37.572 --> 00:16:39.990\nA little bit dirty,\nsome dust in the corners, right?\n\n352\n00:16:39.990 --> 00:16:41.170\n&gt;&gt; That's your timer.\n\n353\n00:16:41.170 --> 00:16:41.790\nThey don't clean it.\n\n354\n00:16:41.790 --> 00:16:42.582\nThey just blow it up.\n\n355\n00:16:42.582 --> 00:16:44.729\n&gt;&gt; They just come in and say, throw\nthe grenade in the room, you're done.\n\n356\n00:16:44.729 --> 00:16:45.260\n&gt;&gt; [LAUGH] Yeah.\n&gt;&gt; Right?\n\n357\n00:16:45.260 --> 00:16:46.696\nAnd that's the end of it.\n\n358\n00:16:46.696 --> 00:16:49.510\nAll right, so we're gonna extend that do\nwe don't wind up getting blown up here\n\n359\n00:16:49.510 --> 00:16:51.180\nhalfway through our conversation.\n\n360\n00:16:51.180 --> 00:16:54.220\nSo we're gonna do a new policy, right?\n\n361\n00:16:54.220 --> 00:16:57.775\nSo what we're gonna do is\nin the network policy area,\n\n362\n00:16:57.775 --> 00:17:01.440\nright here,\nlet's right-click &gt; New Policy.\n\n363\n00:17:01.440 --> 00:17:02.981\nLet's give this a name.\n\n364\n00:17:02.981 --> 00:17:07.371\nI'm gonna call this IT,\n\n365\n00:17:07.371 --> 00:17:13.023\nwhoops, ITProTV_Policy1.\n\n366\n00:17:13.023 --> 00:17:14.820\nReally original name on my part.\n\n367\n00:17:14.820 --> 00:17:18.668\nI worked on that for about four hours\nbefore we came on to do this for you,\n\n368\n00:17:18.668 --> 00:17:21.118\ntried all sorts of different combinations.\n\n369\n00:17:21.118 --> 00:17:24.020\n&gt;&gt; [LAUGH] You even had a test group and\neverything.\n\n370\n00:17:24.020 --> 00:17:25.073\nWe did surveys and research.\n\n371\n00:17:25.073 --> 00:17:27.595\n[LAUGH] [INAUDIBLE]-\n&gt;&gt; [CROSSTALK] It was hoot and a half.\n\n372\n00:17:27.595 --> 00:17:29.178\nLet me tell you what, if you missed that,\n\n373\n00:17:29.178 --> 00:17:32.240\nyou need to get an invitation to\nthe next one cuz it was pretty rocking.\n\n374\n00:17:32.240 --> 00:17:35.223\nAll right, so we're gonna go ahead,\nwe're gonna specify this.\n\n375\n00:17:35.223 --> 00:17:38.961\nWe're going to choose remote access\nserver here, and do our VPN dialup.\n\n376\n00:17:38.961 --> 00:17:42.495\nI did talk about this again when we\nedited the policy in the last episode.\n\n377\n00:17:42.495 --> 00:17:45.033\nSo consider this a quick walkthrough\non the Windows authentication\n\n378\n00:17:45.033 --> 00:17:46.160\npolicy that was there.\n\n379\n00:17:46.160 --> 00:17:50.370\nI showed you that we could specify the\ntype of access server that we would have.\n\n380\n00:17:50.370 --> 00:17:51.949\nDefault there is unspecified.\n\n381\n00:17:51.949 --> 00:17:53.933\nWe're doing remote access VPN.\n\n382\n00:17:53.933 --> 00:17:55.111\nWe're tying the two together.\n\n383\n00:17:55.111 --> 00:17:58.243\nSo we're gonna choose that right\nthere at the bottom as our item, and\n\n384\n00:17:58.243 --> 00:17:59.658\nthat's what we're gonna to.\n\n385\n00:17:59.658 --> 00:18:01.460\nSo we're gonna choose\nthat one right there.\n\n386\n00:18:01.460 --> 00:18:03.019\nDon't let that dialup thing fool you.\n\n387\n00:18:03.019 --> 00:18:07.004\nRemember it's a VPN server, and that's\nwhat we're actually using, all right?\n\n388\n00:18:07.004 --> 00:18:11.060\nSo we're gonna click Next here,\nand when we do that.\n\n389\n00:18:11.060 --> 00:18:13.019\nLet me move this over so you can see.\n\n390\n00:18:13.019 --> 00:18:16.023\nWhen we do that, we're gonna get those\nconditions that we looked at when we did\n\n391\n00:18:16.023 --> 00:18:18.760\nthe run through on how do we\nedit a policy, what's in there?\n\n392\n00:18:18.760 --> 00:18:21.460\nThis is where we start specifying some\nof those conditions that I showed you.\n\n393\n00:18:21.460 --> 00:18:23.740\nNow, could you set up a policy and\n\n394\n00:18:23.740 --> 00:18:28.085\nthen when you're done at this\nscreen have no conditions?\n\n395\n00:18:28.085 --> 00:18:30.290\nWell, you'll notice that\nwithout adding a condition,\n\n396\n00:18:30.290 --> 00:18:31.632\nwe don't have the ability to go far.\n\n397\n00:18:31.632 --> 00:18:34.510\nWe gotta have at least one\ncondition to initialize the policy.\n\n398\n00:18:34.510 --> 00:18:37.120\nBut can you go back and edit the policy\nafterwards, add other conditions,\n\n399\n00:18:37.120 --> 00:18:38.450\nyou saw that you could.\n\n400\n00:18:38.450 --> 00:18:40.270\nSo it's not as if you gotta\nput everything in here, but\n\n401\n00:18:40.270 --> 00:18:41.480\nyou gotta start somewhere, right?\n\n402\n00:18:41.480 --> 00:18:44.290\nSo we're gonna go ahead,\nwe're gonna add a condition in.\n\n403\n00:18:44.290 --> 00:18:46.370\nSo let's go ahead and let's do that.\n\n404\n00:18:46.370 --> 00:18:47.970\n&gt;&gt; What kinda condition are we gonna add?\n\n405\n00:18:47.970 --> 00:18:50.749\n&gt;&gt; There are quite a few,\nas you can see here.\n\n406\n00:18:50.749 --> 00:18:52.200\nWhen I showed it to you\nI was on user group,\n\n407\n00:18:52.200 --> 00:18:53.498\nif I hadn't scrolled all the way up.\n\n408\n00:18:53.498 --> 00:18:55.220\nThese other two were up there,\nthey were hiding.\n\n409\n00:18:55.220 --> 00:18:57.520\nI just didn't bother to go all\nthe way up and show them to you.\n\n410\n00:18:57.520 --> 00:19:00.510\nBut you could see here we have\nall sorts of different options.\n\n411\n00:19:00.510 --> 00:19:01.979\nWe'll do a Windows group here.\n\n412\n00:19:01.979 --> 00:19:05.546\nThe Windows Group condition specifies\nthat the connecting computer or\n\n413\n00:19:05.546 --> 00:19:07.930\nuser must belong to one\nof the selected groups.\n\n414\n00:19:07.930 --> 00:19:11.525\nMeaning we're gonna specify membership in\na group in order to allow you to connect.\n\n415\n00:19:11.525 --> 00:19:13.650\nRemember, conditions are just that.\n\n416\n00:19:13.650 --> 00:19:16.900\nYou gotta be able to match the conditions\nin order to create the connection\n\n417\n00:19:16.900 --> 00:19:18.110\nsuccessfully, right?\n\n418\n00:19:18.110 --> 00:19:20.900\nJust like as you said with\nthe bouncing analogy,\n\n419\n00:19:20.900 --> 00:19:23.450\nthe idea is that you gotta be on the list,\nright?\n\n420\n00:19:23.450 --> 00:19:25.140\nAnd or have an ID or\n\n421\n00:19:25.140 --> 00:19:28.090\nwhatever the requirements are,\notherwise you don't get in, right?\n\n422\n00:19:28.090 --> 00:19:30.760\nOr you just have a lot of extra cash\nyou're not doing anything with and\n\n423\n00:19:30.760 --> 00:19:34.250\nyou may make a deposit in your friendly\nneighborhood bouncer bank in which case\n\n424\n00:19:34.250 --> 00:19:35.990\nperhaps you will get in, right?\n\n425\n00:19:35.990 --> 00:19:38.330\nAll right, so just be aware of the fact\nwe obviously are gonna stack these up.\n\n426\n00:19:38.330 --> 00:19:40.470\nWe're gonna select the Windows Group here.\n\n427\n00:19:40.470 --> 00:19:44.218\nSo we're gonna click Add and when we\ndo that, we get a little popup window,\n\n428\n00:19:44.218 --> 00:19:45.360\nwe have to add a group.\n\n429\n00:19:45.360 --> 00:19:46.608\nSo we do this.\n\n430\n00:19:46.608 --> 00:19:50.943\nThis little interface here should\nprobably be familiar to you, all right?\n\n431\n00:19:50.943 --> 00:19:53.857\nSo we're gonna go ahead,\nwe're gonna grab under the group area,\n\n432\n00:19:53.857 --> 00:19:55.014\nI'm gonna grab my group.\n\n433\n00:19:55.014 --> 00:20:00.890\nI'm gonna do globalit, this is just\na group that already exists in there.\n\n434\n00:20:00.890 --> 00:20:04.623\nObviously in the real world, you would\ngrab whatever group you are using for\n\n435\n00:20:04.623 --> 00:20:05.446\nremote access.\n\n436\n00:20:05.446 --> 00:20:09.590\nAnd in this case,\nhowever you wanna drive that membership.\n\n437\n00:20:09.590 --> 00:20:12.308\nIt is a good idea, and\nyou do wanna maybe stop for a second or\n\n438\n00:20:12.308 --> 00:20:15.150\nthink logically in your world,\nhow am I gonna plan for this?\n\n439\n00:20:15.150 --> 00:20:18.220\nDo I already have a group setup\nthat drives remote access?\n\n440\n00:20:18.220 --> 00:20:20.350\nDo I, perhaps, have to create one?\n\n441\n00:20:20.350 --> 00:20:22.160\nThese are the things you'd\nwanna be thinking through and\n\n442\n00:20:22.160 --> 00:20:24.030\njust kinda working through\nyour mind as we do this.\n\n443\n00:20:24.030 --> 00:20:26.180\nBut you probably would wanna have one or\n\n444\n00:20:26.180 --> 00:20:30.270\nmore groups that are gonna have members in\nthem that are dedicated for remote access.\n\n445\n00:20:30.270 --> 00:20:32.900\nYou may not call it Global IT,\nyou may call it something else.\n\n446\n00:20:32.900 --> 00:20:34.470\nThat's just the name of\nthe group we're using here.\n\n447\n00:20:34.470 --> 00:20:36.120\nBut just keep that in mind, right?\n\n448\n00:20:36.120 --> 00:20:39.565\nSo just be aware of the fact this group\nwould come from the LDAP directory,\n\n449\n00:20:39.565 --> 00:20:41.021\ncomes from Active Directory.\n\n450\n00:20:41.021 --> 00:20:43.964\nYou see the domain name there,\npracticelabs.com, right?\n\n451\n00:20:43.964 --> 00:20:48.150\nAnd we're able to go in and choose\nwhatever group or groups we may decide.\n\n452\n00:20:48.150 --> 00:20:50.260\nWe could obviously add this in here.\n\n453\n00:20:50.260 --> 00:20:52.420\nCan we change object types here?\n\n454\n00:20:52.420 --> 00:20:53.820\nNotice we're talking about groups.\n\n455\n00:20:53.820 --> 00:20:54.910\nNo object types, right?\n\n456\n00:20:54.910 --> 00:20:56.120\nNot users, right?\n\n457\n00:20:56.120 --> 00:20:59.510\nAlthough users are in groups indirectly,\nbut not computer accounts.\n\n458\n00:20:59.510 --> 00:21:03.012\nGroups are for individuals, right,\nthat are added there and or for\n\n459\n00:21:03.012 --> 00:21:04.929\nthe computers we've put into them.\n\n460\n00:21:04.929 --> 00:21:07.670\nWe're not selecting them separately,\nwe're only using groups here.\n\n461\n00:21:07.670 --> 00:21:10.838\nSo it's gotta be the name of the group,\nnot an individual or computer account.\n\n462\n00:21:10.838 --> 00:21:12.117\nThey could be members of that group.\n\n463\n00:21:12.117 --> 00:21:14.287\nWe could put the computer account and or\n\n464\n00:21:14.287 --> 00:21:17.857\nuser into the global IT group or\ninto domain admins or whatever.\n\n465\n00:21:17.857 --> 00:21:22.436\nBut here, the only option we get is to\nselect a group, not the objects and\n\n466\n00:21:22.436 --> 00:21:24.249\ngroups as part of that list.\n\n467\n00:21:24.249 --> 00:21:26.011\nSo just make sure you're aware of that.\n\n468\n00:21:26.011 --> 00:21:27.267\nJust showing you that so you know.\n\n469\n00:21:27.267 --> 00:21:28.661\nAll right, so we have that there, right?\n\n470\n00:21:28.661 --> 00:21:30.902\nWe're gonna do that, let's click OK.\n\n471\n00:21:30.902 --> 00:21:33.456\nSo we've got that listed there.\n\n472\n00:21:33.456 --> 00:21:35.453\nWe'll click OK, puts that back in there so\n\n473\n00:21:35.453 --> 00:21:38.940\nwe could see we now have our condition\nwith our Windows group, right?\n\n474\n00:21:38.940 --> 00:21:41.260\nAll right, so now we can go ahead and\n\n475\n00:21:41.260 --> 00:21:44.760\nwe can choose to add more\npermissions if we want to again.\n\n476\n00:21:44.760 --> 00:21:46.940\nBe up to us to decide how\nmany we wanna put in there.\n\n477\n00:21:46.940 --> 00:21:49.850\nBut notice with at least one,\nwe do get our next button.\n\n478\n00:21:49.850 --> 00:21:51.600\nIt is populated, so now we can move ahead.\n\n479\n00:21:51.600 --> 00:21:53.070\nSo we're gonna click Next.\n\n480\n00:21:53.070 --> 00:21:55.310\nNow specify access permission.\n\n481\n00:21:55.310 --> 00:21:57.480\nAccess granted, access denied,\n\n482\n00:21:57.480 --> 00:22:02.060\naccess determined by user dialin\nproperties which override the NPS policy.\n\n483\n00:22:02.060 --> 00:22:06.890\nIf we have policy driven authentication,\nright, or condition match\n\n484\n00:22:06.890 --> 00:22:10.890\nauthentication and then access granted\nas a result, right, we can do that.\n\n485\n00:22:10.890 --> 00:22:13.330\nBut remember,\nthe general rule of thumb for Windows for\n\n486\n00:22:13.330 --> 00:22:17.140\nalmost anything we do is closest\nto the object always wins.\n\n487\n00:22:17.140 --> 00:22:21.370\nIt's the same rule for Group Policy\nprocessing, same rule for almost anything.\n\n488\n00:22:21.370 --> 00:22:25.050\nMeaning, that if we\noverride the NPS policy,\n\n489\n00:22:25.050 --> 00:22:30.140\nwhich you can clearly see we're allowed\nto do based on user specificity grant,\n\n490\n00:22:30.140 --> 00:22:34.920\ngo into an individual user, on the tabs\nthe object properties of that user account\n\n491\n00:22:34.920 --> 00:22:39.440\nin AD, Active Directory Users and\nComputer or ADAC, either one, right?\n\n492\n00:22:39.440 --> 00:22:42.970\nThe Active Directory Administration Center\nis what ADAC is, you could use that tool,\n\n493\n00:22:42.970 --> 00:22:43.840\nit's up to you.\n\n494\n00:22:43.840 --> 00:22:47.785\nEither one, if we grant specific\nrights to that user for\n\n495\n00:22:47.785 --> 00:22:51.120\ndialin properties,\nthat will override the policy here.\n\n496\n00:22:51.120 --> 00:22:55.032\nSo users can come in with a specific\ngrant that overrides the conditions.\n\n497\n00:22:55.032 --> 00:22:57.930\nBut otherwise, if we don't set them,\nthey're bound by the policy here.\n\n498\n00:22:57.930 --> 00:22:59.860\nSo are the conditions of the policy here.\n\n499\n00:22:59.860 --> 00:23:01.480\nSo it'd be up to us to decide,\nwe can choose.\n\n500\n00:23:01.480 --> 00:23:06.995\nSo that is also kind of a neat thing that\nopens up a tremendously interesting world\n\n501\n00:23:06.995 --> 00:23:12.203\nand universe of possibilities for\nus to envision scenarios and questions.\n\n502\n00:23:12.203 --> 00:23:15.588\nAnd boggles the mind what you could do\nwith that when you think about those case\n\n503\n00:23:15.588 --> 00:23:18.000\nstudies you may encounter at\nsome point in the future.\n\n504\n00:23:18.000 --> 00:23:21.940\nSo just be aware of the fact that remote\naccess has been one of those technologies\n\n505\n00:23:21.940 --> 00:23:26.700\nMicrosoft has really spent a lot of time\nnot only asking about in prior exams, but\n\n506\n00:23:26.700 --> 00:23:29.630\ntends to ask about on\ncore networking exams.\n\n507\n00:23:29.630 --> 00:23:31.910\nCan't really do networking\nin the Windows world,\n\n508\n00:23:31.910 --> 00:23:33.610\ncan't claim you're good at what you do.\n\n509\n00:23:33.610 --> 00:23:36.315\nCan't really only connect users if\nthey're only local and not remote.\n\n510\n00:23:36.315 --> 00:23:37.326\nIt's only have the picture, right?\n\n511\n00:23:37.326 --> 00:23:39.522\nSo if you dont understand networking,\n\n512\n00:23:39.522 --> 00:23:41.789\nits gonna be a bit of a challenge for\nyou.\n\n513\n00:23:41.789 --> 00:23:44.526\nJust being fair and honest with our\nassessment about how you wanna make sure\n\n514\n00:23:44.526 --> 00:23:46.188\nyou're thinking about preparing, right?\n\n515\n00:23:46.188 --> 00:23:47.828\nSo just be aware of that.\n\n516\n00:23:47.828 --> 00:23:49.800\nAll right, so\nwe have access granted by default.\n\n517\n00:23:49.800 --> 00:23:51.665\nWe're gonna let people in,\nIm feeling generous today.\n\n518\n00:23:51.665 --> 00:23:53.259\n&gt;&gt; [LAUGH]\n&gt;&gt; We'll let our people in our global\n\n519\n00:23:53.259 --> 00:23:53.930\nIT group good.\n\n520\n00:23:53.930 --> 00:23:55.559\n&gt;&gt; Good, let them work.\n\n521\n00:23:55.559 --> 00:23:56.915\n&gt;&gt; So yeah, exactly, make them work.\n\n522\n00:23:56.915 --> 00:23:57.901\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n523\n00:23:57.901 --> 00:23:59.861\nconfigure authentication methods here,\nright?\n\n524\n00:23:59.861 --> 00:24:02.070\nWe did talk about different\nauthentication methods.\n\n525\n00:24:02.070 --> 00:24:03.360\nI've showed you these and\ntalked about them before.\n\n526\n00:24:03.360 --> 00:24:07.078\nWe're not gonna bother to make any default\nchoices and modify them here We're\n\n527\n00:24:07.078 --> 00:24:11.264\njust gonna accept what's already there but\nyou can see, we are accepting MS CHAP v2.\n\n528\n00:24:11.264 --> 00:24:12.995\nRight.\nUsers can change the password after\n\n529\n00:24:12.995 --> 00:24:14.515\nit expires, if we want them to.\n\n530\n00:24:14.515 --> 00:24:17.680\nWe're going ahead and accepting\nMS CHAP room, where I showed you.\n\n531\n00:24:17.680 --> 00:24:20.620\nWe do have MS CHAP version one support,\nbut notice and\n\n532\n00:24:20.620 --> 00:24:24.660\nI told you this, the CHAP,\nthe non Microsoft version of CHAP,\n\n533\n00:24:24.660 --> 00:24:29.170\nwhile it's offered, is not recommended for\nuse anywhere, anymore.\n\n534\n00:24:29.170 --> 00:24:32.180\nSo, we do have it as an option, we do\nsupport it for backwards compatibility but\n\n535\n00:24:32.180 --> 00:24:35.700\nboth CHAP and PAP, and\nyou'll notice PAP right below.\n\n536\n00:24:35.700 --> 00:24:38.000\nI pointed out in I think episode one.\n\n537\n00:24:38.000 --> 00:24:41.440\nI told you that while we do support\nthese authentication protocols,\n\n538\n00:24:41.440 --> 00:24:43.620\nthey are no longer recommended for use.\n\n539\n00:24:43.620 --> 00:24:44.720\nCan't stress that enough.\n\n540\n00:24:44.720 --> 00:24:47.790\nIt's like the third or fourth time\nI said that, if I repeat myself and\n\n541\n00:24:47.790 --> 00:24:51.500\ntell you something more than once, then\nit's probably a good hint and a half for\n\n542\n00:24:51.500 --> 00:24:55.260\nyou that that's a really important piece\nof information to be aware of, okay?\n\n543\n00:24:55.260 --> 00:24:58.770\nAnd I even went on my way to make a note\nunder the Show Notes in big letters and\n\n544\n00:24:58.770 --> 00:25:02.945\nbronzes right next to where it says, hey,\nthese are the protocols for see them.\n\n545\n00:25:02.945 --> 00:25:06.170\nI said, not recommended for use,\nand I put those two right there.\n\n546\n00:25:06.170 --> 00:25:07.500\nSo if you miss that\n\n547\n00:25:07.500 --> 00:25:08.550\nI don't wanna hear from you-\n&gt;&gt; [LAUGH]\n\n548\n00:25:08.550 --> 00:25:09.990\n&gt;&gt; Because I gave you every opportunity to\n\n549\n00:25:09.990 --> 00:25:11.060\nbe successful.\n\n550\n00:25:11.060 --> 00:25:13.070\nAll right so\nconfigure authentication methods.\n\n551\n00:25:13.070 --> 00:25:14.920\nYou'll make the appropriate choices here.\n\n552\n00:25:14.920 --> 00:25:15.740\nwe'll click next.\n\n553\n00:25:16.830 --> 00:25:21.770\nConfigure constraints this is where we\ncan go on and say by the way not just\n\n554\n00:25:21.770 --> 00:25:25.670\nconditions but then additional issues,\nadditional things you wanna address.\n\n555\n00:25:25.670 --> 00:25:28.510\nSo constraints these are parameters\nall of the network policy and\n\n556\n00:25:28.510 --> 00:25:30.740\nare required to match\nthe connection request.\n\n557\n00:25:30.740 --> 00:25:34.330\nIf a constraint is not matched\nby the connection request\n\n558\n00:25:34.330 --> 00:25:37.150\nMPS automatically rejects the request.\n\n559\n00:25:37.150 --> 00:25:40.400\nIf you don't meet every criteria we don't\nlet you in, it's that simple right?\n\n560\n00:25:40.400 --> 00:25:43.140\nSo it's not good to be almost as good.\n\n561\n00:25:43.140 --> 00:25:43.890\nYou got to be 100%.\n\n562\n00:25:43.890 --> 00:25:46.680\nBut it's not horseshoes and\nhand grenades right?\n\n563\n00:25:46.680 --> 00:25:48.670\nYou got to make sure you match 100%.\n\n564\n00:25:48.670 --> 00:25:51.590\nAll right so, idle time out,\nwe specify the time out here.\n\n565\n00:25:51.590 --> 00:25:53.700\nSession time out, call station ID,\n\n566\n00:25:53.700 --> 00:25:58.190\nwe could specify that meaning allow\naccesses only to this number.\n\n567\n00:25:58.190 --> 00:26:00.390\nWe could actually set this up so\nit calls you back.\n\n568\n00:26:00.390 --> 00:26:02.050\nThis is like old school technology.\n\n569\n00:26:02.050 --> 00:26:05.520\nBut we would, in the olden days\nof setting up brass gateways,\n\n570\n00:26:05.520 --> 00:26:07.910\npeople would literally be dialing\nup right, you would have,\n\n571\n00:26:07.910 --> 00:26:09.760\nthat's where the dial-up\nconcept comes from.\n\n572\n00:26:09.760 --> 00:26:13.580\nYou would have dial-up on modems or\nyou would have a modem like ISDM modems,\n\n573\n00:26:13.580 --> 00:26:14.930\nwhatever, that were dialing out.\n\n574\n00:26:14.930 --> 00:26:18.790\nIf you wanted a hard code and secure\nan old fashioned dial-up connection,\n\n575\n00:26:18.790 --> 00:26:22.860\nthe only way to do it was to be able\nto specify drop the connection.\n\n576\n00:26:22.860 --> 00:26:26.230\nAnd then call back to a predetermined\nnumber to allow the connection to be\n\n577\n00:26:26.230 --> 00:26:27.960\nspecified from the server side,\n\n578\n00:26:27.960 --> 00:26:31.430\nknowing that we're dialing in theory\nwhat a secured end point was.\n\n579\n00:26:31.430 --> 00:26:34.830\nAnd this was how we would do\ndemand-on-dial inbound gateways from\n\n580\n00:26:34.830 --> 00:26:35.810\nremote sites.\n\n581\n00:26:35.810 --> 00:26:37.290\nYou would have remote sites dial in.\n\n582\n00:26:37.290 --> 00:26:40.000\nThe only way you would accept the inbound\nwas to drop the connection and\n\n583\n00:26:40.000 --> 00:26:42.520\ncall back the pre-determined modem number\n\n584\n00:26:42.520 --> 00:26:45.150\nat the remote site to establish\na connection from the server side.\n\n585\n00:26:45.150 --> 00:26:48.560\nAnd that's why you can program\nin the call station ID.\n\n586\n00:26:48.560 --> 00:26:50.710\nThat's why we still have that\nbecause that is still, belive it or\n\n587\n00:26:50.710 --> 00:26:52.560\nnot, sometimes done.\n\n588\n00:26:52.560 --> 00:26:55.160\nNow that doesn't mean that was foolproof\nbecause somebody could have been\n\n589\n00:26:55.160 --> 00:26:56.790\ncall forwarding they\nwere really of the nasty.\n\n590\n00:26:56.790 --> 00:27:00.280\nThey could have been call\nforwarding that number and so\n\n591\n00:27:00.280 --> 00:27:02.110\nas a result when you dialed it, right?\n\n592\n00:27:02.110 --> 00:27:05.734\nThinking from the server side, I'm gonna\nconnect to the authenticated number and\n\n593\n00:27:05.734 --> 00:27:09.257\nI know I'm getting a secured connection,\nthe hacker would've tapped that line,\n\n594\n00:27:09.257 --> 00:27:12.327\ncall forwarded the call coming from\nthe server to their connection, and\n\n595\n00:27:12.327 --> 00:27:15.894\nit would have looked like it was actually\nconnecting to the authenticated number.\n\n596\n00:27:15.894 --> 00:27:17.943\n&gt;&gt; Interesting.\n&gt;&gt; It's really connecting to the hacker.\n\n597\n00:27:17.943 --> 00:27:19.848\nThis is, of course,\nnow I'm giving you away all the secrets\n\n598\n00:27:19.848 --> 00:27:20.365\n&gt;&gt; [LAUGH]\n\n599\n00:27:20.365 --> 00:27:21.883\n&gt;&gt; And we have to now use the whirlizer.\n\n600\n00:27:21.883 --> 00:27:23.307\n&gt;&gt; That is if you're using\ndial-up connections [CROSSTALK]\n\n601\n00:27:23.307 --> 00:27:24.904\n&gt;&gt; Look straight up to the screen,\n\n602\n00:27:24.904 --> 00:27:27.810\nwe're gonna wipe out all that\ninformation from the host.\n\n603\n00:27:27.810 --> 00:27:30.500\n&gt;&gt; Well, I'm kind of curious to see,\nI haven't set this up in 2016, but\n\n604\n00:27:30.500 --> 00:27:32.600\neven in 2012, they would put phone number,\n\n605\n00:27:32.600 --> 00:27:35.550\neven when you're talking putting\nthe IP address for routing your modox.\n\n606\n00:27:35.550 --> 00:27:38.330\nSo, I wonder our wizard,\nif we are gonna come across that?\n\n607\n00:27:38.330 --> 00:27:39.186\nBut I guess that is yet to be determined.\n\n608\n00:27:39.186 --> 00:27:41.787\n&gt;&gt; Well you see here, specify the phone\nnumber of the network access server?\n\n609\n00:27:41.787 --> 00:27:43.407\n&gt;&gt; Okay yeah.\n&gt;&gt; So, yeah, that's what I'm saying.\n\n610\n00:27:43.407 --> 00:27:44.370\nThat's what it is.\n\n611\n00:27:44.370 --> 00:27:45.470\n&gt;&gt; Okay.\n&gt;&gt; That's that number,\n\n612\n00:27:45.470 --> 00:27:47.140\nif you were doing dial back,right?\n\n613\n00:27:47.140 --> 00:27:48.520\nThis is essentially what it's for.\n\n614\n00:27:48.520 --> 00:27:50.390\nThis is the dial-up portion right?\n\n615\n00:27:50.390 --> 00:27:52.410\nOf our program for the called station ID.\n\n616\n00:27:52.410 --> 00:27:55.340\nYou may not be using that and\nif you could see clearly it's an option.\n\n617\n00:27:55.340 --> 00:27:57.290\nBut I'm just pointing out\nthis is what it was used for.\n\n618\n00:27:57.290 --> 00:28:01.000\nAnd that's how we used to have to secure\nthese things because back in the day,\n\n619\n00:28:01.000 --> 00:28:04.720\nyou couldn't really secure and know for\nsure that that inbound connection\n\n620\n00:28:04.720 --> 00:28:08.120\nwas necessarily coming\nfrom an authorized number\n\n621\n00:28:08.120 --> 00:28:10.790\nunless you called back to a dedicated\nnumber you'd already programmed in.\n\n622\n00:28:10.790 --> 00:28:11.930\n&gt;&gt; Sure.\n&gt;&gt; And did the match and\n\n623\n00:28:11.930 --> 00:28:13.890\nso that's why we would do this.\n\n624\n00:28:13.890 --> 00:28:14.850\nIt's not, I told you how to do that.\n\n625\n00:28:14.850 --> 00:28:16.340\nBut I always told you\nhow I used to hack that.\n\n626\n00:28:16.340 --> 00:28:19.350\nSo you can imagine what I used to do for\na living when I was younger.\n\n627\n00:28:19.350 --> 00:28:21.190\nAll right, so day and time,\n\n628\n00:28:21.190 --> 00:28:24.430\nyou'll see we could specify connections\nduring certain days and times.\n\n629\n00:28:24.430 --> 00:28:25.760\nThis would be like a business thing.\n\n630\n00:28:25.760 --> 00:28:27.790\nHey, you're between the hours of eight and\nfive.\n\n631\n00:28:27.790 --> 00:28:30.360\nWe connect on these days for\nthis particular connection.\n\n632\n00:28:30.360 --> 00:28:32.900\nAgain, keep in mind,\nthis may be remote offices right?\n\n633\n00:28:32.900 --> 00:28:35.020\nThat are connecting in or\nthat you're connecting to.\n\n634\n00:28:35.020 --> 00:28:36.540\nThere might not be people\nthere all the times.\n\n635\n00:28:36.540 --> 00:28:39.380\nIt could be remote Infrastructure\nbeing monitored and\n\n636\n00:28:39.380 --> 00:28:43.120\nmanaged somewhere you know, sitting under\nsomebody's desk, who knows where it is.\n\n637\n00:28:43.120 --> 00:28:45.770\nYou may not want to connect\non a regular basis,\n\n638\n00:28:45.770 --> 00:28:47.970\nyou may want to bracket these things, so.\n\n639\n00:28:47.970 --> 00:28:49.070\nWe can go in and do all this.\n\n640\n00:28:49.070 --> 00:28:51.790\nSo we would specify whatever constraints\nwe want here, we're not gonna configure\n\n641\n00:28:51.790 --> 00:28:55.170\nany for purposes of our demonstration,\nbut just so you know what they are.\n\n642\n00:28:55.170 --> 00:28:58.240\nI will click Next,\nwe do have also the ability\n\n643\n00:28:58.240 --> 00:29:01.262\nto do radius attributes I talked about\nthese when we edited the policy as well.\n\n644\n00:29:01.262 --> 00:29:05.768\nStandard inventor specific, we do have\nrouting and remote access we've added\n\n645\n00:29:05.768 --> 00:29:10.207\nthose in so you can see here multi link\nand bandwidth allocation protocol it's\n\n646\n00:29:10.207 --> 00:29:15.240\ncalled BAP to do our allocation and our\nthrottling, we could specify that here.\n\n647\n00:29:15.240 --> 00:29:20.970\nIP filters we can go in and specify any IP\nfilters, both IPv4 input output, and IPv6.\n\n648\n00:29:20.970 --> 00:29:22.930\nSo we could specify those.\n\n649\n00:29:22.930 --> 00:29:24.960\nWe specify encryption,\n\n650\n00:29:24.960 --> 00:29:28.260\nbasic all the way through to\nstrongest including no encryption.\n\n651\n00:29:28.260 --> 00:29:31.940\nNotice we're using MPPE,\nMicrosoft Point to Point Encryption.\n\n652\n00:29:31.940 --> 00:29:37.270\nIf you are familiar with L2TP, you may\nknow that MPPE is actually what is used\n\n653\n00:29:37.270 --> 00:29:42.070\nunderlying some of these older, this is\nan older thought process that actually\n\n654\n00:29:42.070 --> 00:29:45.910\nis made up of PPTP, Point to Point\nTunneling Protocol and some other stuff.\n\n655\n00:29:45.910 --> 00:29:47.070\nAnd that's what's also used in L2TP.\n\n656\n00:29:47.070 --> 00:29:50.200\nSo it's kinda interesting because\nPoint to Point Tunneling Protocol\n\n657\n00:29:50.200 --> 00:29:55.150\nis what we actually are using with L2F,\nLayer 2 Forwarding to make L2TP.\n\n658\n00:29:55.150 --> 00:29:57.690\nIt's great that we got Microsoft and\nCisco together and you know,\n\n659\n00:29:57.690 --> 00:29:58.950\ncombined that solution.\n\n660\n00:29:58.950 --> 00:29:59.450\n&gt;&gt; I wonder about that.\n\n661\n00:29:59.450 --> 00:30:03.190\nThere's a lot in I.T. works, just like\neveryone had their own little parties and\n\n662\n00:30:03.190 --> 00:30:04.410\ndidn't wanna invite each other.\n\n663\n00:30:04.410 --> 00:30:05.650\nIt's like why can't we just get along.\n\n664\n00:30:05.650 --> 00:30:06.710\n&gt;&gt; You mean the world's different now?\n\n665\n00:30:06.710 --> 00:30:08.640\nLike they do get along now?\n\n666\n00:30:08.640 --> 00:30:12.220\n&gt;&gt; No, I'm just saying it causes\na lot of extra work for us and\n\n667\n00:30:12.220 --> 00:30:15.070\nlearning all these different acronyms and\ntechnologies.\n\n668\n00:30:15.070 --> 00:30:17.440\nAre you complaining about the fact\nthat you have to know this?\n\n669\n00:30:17.440 --> 00:30:18.805\n&gt;&gt; I'm not complaining about anything.\n\n670\n00:30:18.805 --> 00:30:20.090\n[LAUGH].\n\n671\n00:30:20.090 --> 00:30:20.960\n&gt;&gt; Sounded like you were.\n\n672\n00:30:20.960 --> 00:30:23.600\nI just wanted to make sure we\nweren't going down that road.\n\n673\n00:30:23.600 --> 00:30:25.010\nAll right, so let's see here.\n\n674\n00:30:25.010 --> 00:30:29.330\nWe can classify the IP addresses\nthat we may want to assign here.\n\n675\n00:30:29.330 --> 00:30:30.440\nA whole bunch of options.\n\n676\n00:30:30.440 --> 00:30:33.440\nAgain, not good at configure right now but\njust showing you what's there.\n\n677\n00:30:33.440 --> 00:30:35.400\nSo we have quite a lot stuff going on.\n\n678\n00:30:35.400 --> 00:30:36.810\nRemember, if we added these policies,\n\n679\n00:30:36.810 --> 00:30:39.610\nwe will always get access to this stuff,\nwe could change it after the effects.\n\n680\n00:30:39.610 --> 00:30:43.490\nSo we're gonna click Next here,\nnow we have our completing network policy,\n\n681\n00:30:43.490 --> 00:30:45.230\ngot it all sketched out, ready to go.\n\n682\n00:30:45.230 --> 00:30:49.890\nI've talked about the value before\njust having this information and\n\n683\n00:30:49.890 --> 00:30:52.160\nknowing what's going on on here,\nso you Do you have that?\n\n684\n00:30:52.160 --> 00:30:52.900\nLet's click Finish.\n\n685\n00:30:52.900 --> 00:30:56.120\nLet's get our policies setup right there,\nsee our policies up at the top,\n\n686\n00:30:56.120 --> 00:30:57.460\nsitting at the top of the list.\n\n687\n00:30:57.460 --> 00:30:58.520\nWe have that available to us.\n\n688\n00:30:58.520 --> 00:31:02.790\nAnd so now, we've gone ahead and\nsetup our Network Policy Server.\n\n689\n00:31:02.790 --> 00:31:04.460\nWe've setup our RAS server.\n\n690\n00:31:04.460 --> 00:31:06.320\nWe've configured our VPN Gateway.\n\n691\n00:31:06.320 --> 00:31:09.730\nWe've linked the two together, so now\nwe have the two talking to one another.\n\n692\n00:31:09.730 --> 00:31:11.690\nAnd-\n&gt;&gt; What's next?\n\n693\n00:31:11.690 --> 00:31:12.350\nWhat's next?\n\n694\n00:31:12.350 --> 00:31:16.060\nWell, we could go in and\nconfigure the VPN server and\n\n695\n00:31:16.060 --> 00:31:19.780\nclient connectivity, set up the ports and\nactually test this whole thing.\n\n696\n00:31:19.780 --> 00:31:21.340\n&gt;&gt; But-\n&gt;&gt; But that would require yet\n\n697\n00:31:21.340 --> 00:31:23.365\nanother conversation in another episode.\n\n698\n00:31:23.365 --> 00:31:25.500\n&gt;&gt; [LAUGH] All right,\nsounds like a plan Adam.\n\n699\n00:31:25.500 --> 00:31:26.540\nThank you for joining us today.\n\n700\n00:31:26.540 --> 00:31:27.440\n&gt;&gt; That's what we'll do then.\n\n701\n00:31:27.440 --> 00:31:28.710\nWe'll do that when we come back.\n\n702\n00:31:28.710 --> 00:31:31.050\n&gt;&gt; All right, so thank you so\nmuch for joining us, but stay tuned.\n\n703\n00:31:31.050 --> 00:31:33.160\nWe do have more information to cover So,\n\n704\n00:31:33.160 --> 00:31:37.030\nfor this show,\nwe'll go ahead and sign out.\n\n705\n00:31:37.030 --> 00:31:44.030\nRemember, I'm your host, Cherokee Boose.\n\n706\n00:31:44.030 --> 00:31:44.770\n&gt;&gt; I'm Adam Gordon.\n\n707\n00:31:44.770 --> 00:31:46.570\n&gt;&gt; See you next time here at ITPRO.TV.\n\n708\n00:31:46.570 --> 00:31:47.214\n[MUSIC]\n\n709\n00:31:47.214 --> 00:31:49.822\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "217833481"
        },
        {
          "description": "In this show, Cherokee and Adam continue the previous demonstration where they set up and configure RADIUS. They verify their settings in this demo to show how one would connect remotely.",
          "length": "764",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-5-remote_access_pt5-051217-PGM.00_12_30_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-5-remote_access_pt5-051217-PGM.00_12_30_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-6-1-5-remote_access_pt5-051217-PGM.00_12_30_17.Still001-sm.jpg",
          "title": "Remote Access Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:01.368\nWelcome to ITProTV.\n\n2\n00:00:01.368 --> 00:00:02.617\nI'm your host, Don Pezet.\n\n3\n00:00:02.617 --> 00:00:06.497\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.497 --> 00:00:07.876\n[MUSIC]\n\n5\n00:00:07.876 --> 00:00:11.236\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.236 --> 00:00:15.425\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 series.\n\n7\n00:00:15.425 --> 00:00:17.560\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.560 --> 00:00:21.670\nIn this episode, we'll continue looking\nat remote access, and I think we're what,\n\n9\n00:00:21.670 --> 00:00:22.584\nat a part five now.\n\n10\n00:00:22.584 --> 00:00:26.450\nSo we've been, doing this for quite\nawhile, but there's still more to learn.\n\n11\n00:00:26.450 --> 00:00:29.400\nSo back with us today in studios,\nwe have Mr Adam Gordon.\n\n12\n00:00:29.400 --> 00:00:31.240\nThank you for joining us today, Adam.\n\n13\n00:00:31.240 --> 00:00:33.770\n&gt;&gt; Thank you,\nwe're going to jump back in, and\n\n14\n00:00:33.770 --> 00:00:37.205\nwe're going to continue pick up,\nand finish where we left off.\n\n15\n00:00:37.205 --> 00:00:41.312\nCuz what we're gonna do is complete or\nclose the circle of VPN/MPS and\n\n16\n00:00:41.312 --> 00:00:43.342\nhow we can configure everything.\n\n17\n00:00:43.342 --> 00:00:47.795\nWe've stood up the VPN,\nthe RRAS solution with VPN support.\n\n18\n00:00:47.795 --> 00:00:49.055\nWe've stood up our MPS server,\n\n19\n00:00:49.055 --> 00:00:52.297\nwe've bound the two together,\nconfigure the radius functionality.\n\n20\n00:00:52.297 --> 00:00:54.377\nWhat we're gonna do now is\nlook at the client side.\n\n21\n00:00:54.377 --> 00:00:56.087\nIt's great to do all this, but\n\n22\n00:00:56.087 --> 00:00:58.793\nif we don't actually tech it,\ncheck it, I sound like you now.\n\n23\n00:00:58.793 --> 00:01:00.579\n&gt;&gt; [LAUGH]\n&gt;&gt; And if we don't test it and\n\n24\n00:01:00.579 --> 00:01:03.690\nwe don't actually validate that the rule\nthat we just put in place works,\n\n25\n00:01:03.690 --> 00:01:06.217\nthen we don't really know for\nsure what we did is valuable.\n\n26\n00:01:06.217 --> 00:01:10.117\nSo, we're gonna actually, as Cherokee\nalways reminds us to do, go verify and\n\n27\n00:01:10.117 --> 00:01:10.987\nvalidate our works.\n\n28\n00:01:10.987 --> 00:01:15.970\nSo, join me here if you will, we're gonna\ntake a look at our Windows 10 client,\n\n29\n00:01:15.970 --> 00:01:17.260\nright on the screen there.\n\n30\n00:01:17.260 --> 00:01:19.170\nAnd I've done just a little bit\nof work behind the scenes here,\n\n31\n00:01:19.170 --> 00:01:20.340\nI'll explain what I did.\n\n32\n00:01:20.340 --> 00:01:24.424\nThis is really Just\nsetting up the connection,\n\n33\n00:01:24.424 --> 00:01:28.720\nadding the VPN connection in to this first\nsign right here to the Windows 10 client.\n\n34\n00:01:28.720 --> 00:01:32.350\nI could have done this by going and\ncreating a VPN connection from the Wizard.\n\n35\n00:01:32.350 --> 00:01:36.950\nBut I just went ahead, and did it for\nyou here with PowerShell again.\n\n36\n00:01:36.950 --> 00:01:39.720\nSo you could see what we're doing\njust understand the logic of it, but\n\n37\n00:01:39.720 --> 00:01:42.120\nalso learn a little more about PowerShell.\n\n38\n00:01:42.120 --> 00:01:45.340\nI'm convinced that if we throw enough of\nthese options at you in these episodes,\n\n39\n00:01:45.340 --> 00:01:49.440\nthrough osmosis, you're gonna become\nPowerShell-friendly over time and\n\n40\n00:01:49.440 --> 00:01:50.250\nlearn more about it.\n\n41\n00:01:50.250 --> 00:01:54.110\nSo, add VPN connection command that\nis used, named our connection,\n\n42\n00:01:54.110 --> 00:01:56.488\nyou're gonna see this in a minute,\nI'll show it to you in the control panel.\n\n43\n00:01:56.488 --> 00:02:01.050\nServer address is specified where we wanna\nconnect, what's the tunnel type PPTP,\n\n44\n00:02:01.050 --> 00:02:02.380\npoint to point tunneling?\n\n45\n00:02:02.380 --> 00:02:04.840\nNow ,this next one here\nset VPN connection,\n\n46\n00:02:04.840 --> 00:02:08.650\nsplit tunneling true, that sets\nthe split tunneling connection for us.\n\n47\n00:02:08.650 --> 00:02:12.240\nThat is unique specifically to the lab\nenvironment, we're using in the demo for\n\n48\n00:02:12.240 --> 00:02:14.400\nyou and\nthe environment the way it is set up.\n\n49\n00:02:14.400 --> 00:02:16.832\nIf I don't do that particular piece and\nset that up,\n\n50\n00:02:16.832 --> 00:02:20.535\nthen when I go to fire up the VPN, a big\nblack hole opens and swallows my machine,\n\n51\n00:02:20.535 --> 00:02:21.889\nand everything collapses.\n\n52\n00:02:21.889 --> 00:02:25.841\nBecause I disconnect from the virtual\nnetwork that we're running on and\n\n53\n00:02:25.841 --> 00:02:28.790\nessentially, I am unmanaged,\nI am off in space.\n\n54\n00:02:28.790 --> 00:02:32.135\nYou may not set up split tunneling in\nthe real world, that's a whole other\n\n55\n00:02:32.135 --> 00:02:35.015\nconversation, but in case you're\nwondering why that's sitting there,\n\n56\n00:02:35.015 --> 00:02:37.295\nthat's there specific to\nthe environment we're using.\n\n57\n00:02:37.295 --> 00:02:40.575\nOtherwise, things just don't work so well\nwhen you have no way to get back to them.\n\n58\n00:02:40.575 --> 00:02:43.270\nLet's put it that way.\nAll right, so then I just issued to get\n\n59\n00:02:43.270 --> 00:02:47.275\nVPN connection cmdlet that shows\nme the output of what I did.\n\n60\n00:02:47.275 --> 00:02:48.300\nI did this for two reasons.\n\n61\n00:02:48.300 --> 00:02:50.620\nOne, I wanna show you.\n\n62\n00:02:50.620 --> 00:02:52.931\nAnd speaking of showing,\nlet me move that over so you can see.\n\n63\n00:02:52.931 --> 00:02:56.890\nI did wanna show you what we actually\ndid the add VPN connect cmdlet,\n\n64\n00:02:56.890 --> 00:02:58.570\nyou could see that here.\n\n65\n00:02:58.570 --> 00:03:01.890\nBut I also did it to verify\nthat set VPN connection\n\n66\n00:03:01.890 --> 00:03:04.380\nsplit tunneling option was set to true.\n\n67\n00:03:04.380 --> 00:03:07.270\nSo that way, I can actually know that\nI could do this without disconnecting\n\n68\n00:03:07.270 --> 00:03:10.390\nthe machine, and\nloosing management of it in the interface.\n\n69\n00:03:10.390 --> 00:03:13.370\nAnd you could see,\nthat split tunneling is indeed turned on.\n\n70\n00:03:13.370 --> 00:03:15.147\nSet to true cuz is by default, it is not.\n\n71\n00:03:15.147 --> 00:03:21.094\nAnd we could see that we do have our\nplabs PPTP VPN connection set up.\n\n72\n00:03:21.094 --> 00:03:25.360\n192 and 68010 is my IP address,\nthat's where we're connecting.\n\n73\n00:03:26.830 --> 00:03:31.250\nNotice our authentication method,\nMS-CHAPv2 right there.\n\n74\n00:03:31.250 --> 00:03:34.310\nRight, so we have all of our\ninformation set up and ready to go.\n\n75\n00:03:34.310 --> 00:03:37.220\nNotice our connection status\nis currently disconnected, so\n\n76\n00:03:37.220 --> 00:03:39.240\nwe could tell it's not currently running.\n\n77\n00:03:39.240 --> 00:03:40.560\nWe can just double check that.\n\n78\n00:03:41.890 --> 00:03:45.357\nOne more time because I have been setting\nit up and testing it, just to make sure\n\n79\n00:03:45.357 --> 00:03:48.320\nthat we have accurate information\non the screen for you right now.\n\n80\n00:03:48.320 --> 00:03:49.320\nIt's currently disconnecting.\n\n81\n00:03:49.320 --> 00:03:51.050\nNow, we can tell that and know that.\n\n82\n00:03:51.050 --> 00:03:54.420\nWe'll come over her we could see\njust by looking that, yes indeed,\n\n83\n00:03:54.420 --> 00:03:55.520\nit is disconnected.\n\n84\n00:03:55.520 --> 00:03:56.550\nYou could see the connection there.\n\n85\n00:03:56.550 --> 00:04:00.170\nJust in the network and\nsharing center and network and\n\n86\n00:04:00.170 --> 00:04:02.600\nInternet, network connections area,\nand the networking center.\n\n87\n00:04:02.600 --> 00:04:03.440\nI'm just gonna right-click and\n\n88\n00:04:03.440 --> 00:04:07.400\nenable the connection, so\nI'm gonna go in, Connect or Disconnect,\n\n89\n00:04:07.400 --> 00:04:11.460\nbring up Settings, highlight it right\nhere and have the option to Connect.\n\n90\n00:04:11.460 --> 00:04:14.451\nSo this is Windows 10, so if this\nlooks a little different that what you\n\n91\n00:04:14.451 --> 00:04:17.654\nmaybe used to using, you may have\na different client, maybe use a older one.\n\n92\n00:04:17.654 --> 00:04:21.349\nBut if you're using Windows 8.1, Windows\n10 is gonna look roughly like this.\n\n93\n00:04:21.349 --> 00:04:22.221\nSo we're gonna connect.\n\n94\n00:04:22.221 --> 00:04:25.530\nI've got a couple of different user\naccounts I'm gonna use to connect in.\n\n95\n00:04:25.530 --> 00:04:28.900\nOne that will be allowed to connect in,\nthat's a member of that global IT group,\n\n96\n00:04:28.900 --> 00:04:32.270\nif you remember that we used in\nthe prior episode to set up the rule.\n\n97\n00:04:32.270 --> 00:04:33.761\nI'm gonna use one that's\nnot gonna be allowed in.\n\n98\n00:04:33.761 --> 00:04:36.100\nYou'll see what happens and\nthe difference between them.\n\n99\n00:04:36.100 --> 00:04:38.310\nSo let's go ahead and\nlet's hit connect here.\n\n100\n00:04:38.310 --> 00:04:41.240\nWe're gonna get prompted with our\ncredential or for our credential.\n\n101\n00:04:41.240 --> 00:04:46.380\nSo we'll type this in,\nlet's do practicelabs.\n\n102\n00:04:46.380 --> 00:04:51.816\nAnd let me do, Our user, Jan.\n\n103\n00:04:51.816 --> 00:04:55.902\nAnd Jan, Will be able to connect, and\n\n104\n00:04:55.902 --> 00:04:59.720\nyou could see immediately as I connect,\nJan is connected right there.\n\n105\n00:04:59.720 --> 00:05:05.232\nAnd when we do this, I'll just minimize\nand minimize, and if we do this.\n\n106\n00:05:07.524 --> 00:05:12.380\nYou will see that, the connection status\nright here has changed to connected.\n\n107\n00:05:12.380 --> 00:05:14.010\nSo you could see we\nare actively connected.\n\n108\n00:05:14.010 --> 00:05:16.100\nWe're using the VPN right now.\n\n109\n00:05:16.100 --> 00:05:20.010\nSo, if we go ahead and we will do\nthis right now, and we disconnect.\n\n110\n00:05:20.010 --> 00:05:22.270\nWe'll just disconnect Jan.\n\n111\n00:05:22.270 --> 00:05:24.960\nVery simple, turn the VPN connection off.\n\n112\n00:05:24.960 --> 00:05:28.320\nSo we know that Jan was able\nto successfully connect in,\n\n113\n00:05:28.320 --> 00:05:31.080\npart of the global IT group,\nand therefore allowed in.\n\n114\n00:05:31.080 --> 00:05:31.730\nLet's go ahead,\n\n115\n00:05:31.730 --> 00:05:36.270\nlet's take a look at another user that\nis going to attempt to connect in.\n\n116\n00:05:36.270 --> 00:05:38.790\nHowever this one,\nis not going to be allowed in.\n\n117\n00:05:38.790 --> 00:05:40.530\nSo, let's just take a look and\nsee what happened.\n\n118\n00:05:40.530 --> 00:05:47.483\nSo again, practice Labs, and then John.\n\n119\n00:05:55.873 --> 00:05:59.606\nAnd you'll see that,\nJohn is not able to connect.\n\n120\n00:05:59.606 --> 00:06:03.005\nAnd you'll see here,\ncan't connect to the PPTP VPN.\n\n121\n00:06:03.005 --> 00:06:07.405\nConnection was prevented, because of\na policy configured on our RAS VPN server.\n\n122\n00:06:07.405 --> 00:06:10.905\nSpecifically it says, authentication\nmethod used by the server to verify\n\n123\n00:06:10.905 --> 00:06:12.465\nusername and password does not or\n\n124\n00:06:12.465 --> 00:06:15.495\nmay not match the authentication\nrequirements in play with the policy,\n\n125\n00:06:15.495 --> 00:06:18.410\nand as a result, essentially,\nhey guess what, John, you're out of luck.\n\n126\n00:06:18.410 --> 00:06:19.420\nYou're not getting in.\n\n127\n00:06:19.420 --> 00:06:22.050\nAnd so we could see that\nJohn is not allowed in, and\n\n128\n00:06:22.050 --> 00:06:24.590\nas a result that is denied connectivity.\n\n129\n00:06:24.590 --> 00:06:28.720\nAnd so of course if we just close that\nout, we see the VPN is not connected.\n\n130\n00:06:28.720 --> 00:06:31.730\nAnd if we went back, and we took a look,\n\n131\n00:06:31.730 --> 00:06:37.130\njust to tell, We would see that\nit is indeed disconnected.\n\n132\n00:06:37.130 --> 00:06:40.020\nSo we could see our policy\nis actually working.\n\n133\n00:06:40.020 --> 00:06:42.716\nWe are able to, or not able to connect,\ndepending on who we are.\n\n134\n00:06:42.716 --> 00:06:45.888\nIn this case, remember, you have to\nbe a member of the appropriate group\n\n135\n00:06:45.888 --> 00:06:48.957\nwith the appropriate configuration or\nconditions and criteria met,\n\n136\n00:06:48.957 --> 00:06:50.345\nin order to be able to connect.\n\n137\n00:06:50.345 --> 00:06:52.705\nAnd whatever John's problem is, it\nviolates one or more of the conditions or\n\n138\n00:06:52.705 --> 00:06:53.551\nattributes of the policy.\n\n139\n00:06:53.551 --> 00:06:55.087\n&gt;&gt; He didn't have the proper attire.\n\n140\n00:06:55.087 --> 00:06:56.000\n&gt;&gt; He may not have.\n\n141\n00:06:56.000 --> 00:06:58.701\n&gt;&gt; [LAUGH]\n&gt;&gt; He may have liked Brittany Spears or\n\n142\n00:06:58.701 --> 00:07:02.720\nsomebody, and we just don't allow that\nkind of behavior here at ITProTV.\n\n143\n00:07:02.720 --> 00:07:04.690\nSo as a result,\nhe may not have been allowed in.\n\n144\n00:07:04.690 --> 00:07:07.820\nWhatever the case is, but we're not\ndone yet, this is obviously pretty cool.\n\n145\n00:07:07.820 --> 00:07:11.310\nAfter all that work prior to\nsetting up all the moving parts,\n\n146\n00:07:11.310 --> 00:07:13.680\nright, we actually do see\nthe policy's in effect.\n\n147\n00:07:13.680 --> 00:07:17.660\nSo that is cool, but that's not all we\nwanna do, because this is important.\n\n148\n00:07:17.660 --> 00:07:19.295\nPolicy enforcement very good.\n\n149\n00:07:19.295 --> 00:07:24.266\nBut remember as the IT administrator,\nas the RRAS overseer, as the NPS overseer,\n\n150\n00:07:24.266 --> 00:07:27.888\nsomebody who is gonna manage\nthis infrastructure, we may or\n\n151\n00:07:27.888 --> 00:07:30.957\nmay not see evidence of\nthese connections come in.\n\n152\n00:07:30.957 --> 00:07:33.792\nAnd may or may not know that John was or\nwas not denied,\n\n153\n00:07:33.792 --> 00:07:37.903\ncuz we are not sitting next to John when\nhe or she or generally but it connects.\n\n154\n00:07:37.903 --> 00:07:40.001\nWhat we're gonna do,\nis we're gonna be on the policy side,\n\n155\n00:07:40.001 --> 00:07:42.193\nlet me on the server side,\nwe're gonna be looking over there.\n\n156\n00:07:42.193 --> 00:07:46.003\nSo we have to do now is flip over the\nserver, and take a look at those log files\n\n157\n00:07:46.003 --> 00:07:50.319\nand see what they don't have any evidence\nof what's going on, and boy, do we ever?\n\n158\n00:07:50.319 --> 00:07:51.173\nLet's take a look here.\n\n159\n00:07:51.173 --> 00:07:55.172\nSo let me go over here,\nlet us go into our server.\n\n160\n00:07:55.172 --> 00:07:56.039\nSo this is the server,\n\n161\n00:07:56.039 --> 00:07:58.878\nyou may notice the desktop looks\ndifference since last time we were here.\n\n162\n00:07:58.878 --> 00:08:02.175\nWe had it redecorated brought\nin a professional team,\n\n163\n00:08:02.175 --> 00:08:06.020\ndid a little spoofing up, and\nwe added a third party viewer.\n\n164\n00:08:06.020 --> 00:08:10.338\nAnd I asked LogViewer, if you remember\nfrom when I set up in one of the prior\n\n165\n00:08:10.338 --> 00:08:12.916\nepisodes the policy we\nset up the logging for\n\n166\n00:08:12.916 --> 00:08:16.766\n[INAUDIBLE] we said,\nwell different options ODBC, right, etc.\n\n167\n00:08:16.766 --> 00:08:20.801\nAnd I chose, the IAS log format and\nI have a LogViewer for that, and\n\n168\n00:08:20.801 --> 00:08:23.700\nwe will take a look at\nthat in just a minute.\n\n169\n00:08:23.700 --> 00:08:27.910\nBut I wanna show you,\nWhere these logs come from.\n\n170\n00:08:27.910 --> 00:08:33.000\nThe log is going to be the log that\nis created, you'll see here System or\n\n171\n00:08:33.000 --> 00:08:35.150\nWindows rather /System32/logfiles.\n\n172\n00:08:35.150 --> 00:08:38.340\nThat is the default path for\nlogging for the network policy server.\n\n173\n00:08:38.340 --> 00:08:41.710\nIf you remember, when we were setting this\nup, and we went in and we specified it,\n\n174\n00:08:41.710 --> 00:08:45.220\nwe decided to do logging on the machine,\nnot to the SQL Server.\n\n175\n00:08:45.220 --> 00:08:46.750\nAnd we had that default path.\n\n176\n00:08:46.750 --> 00:08:48.650\nAnd that is the log right there.\n\n177\n00:08:48.650 --> 00:08:53.150\nAnd so this log that we are looking at,\nlet me just bring this up.\n\n178\n00:08:53.150 --> 00:08:58.010\nIt's just a notepad file,\nis gonna show the connections for\n\n179\n00:08:58.010 --> 00:09:00.490\nall the people that we were just bringing.\n\n180\n00:09:00.490 --> 00:09:05.400\nNow this is a little tough to read,\nit's comma delimited data, and\n\n181\n00:09:05.400 --> 00:09:11.290\nit's one entry per line but\nall the way across, and this thing goes.\n\n182\n00:09:11.290 --> 00:09:14.023\nBy the way, tell me when you get tired.\n\n183\n00:09:14.023 --> 00:09:14.850\n&gt;&gt; Tired.\n\n184\n00:09:14.850 --> 00:09:17.500\n&gt;&gt; This is like one-tenth\nof the total log, right?\n\n185\n00:09:17.500 --> 00:09:19.578\nSo you could see,\nthis is quite a bit of information, right?\n\n186\n00:09:19.578 --> 00:09:20.722\nI mean I wanna read it this way, but, and\n\n187\n00:09:20.722 --> 00:09:22.262\nwe're gonna show you\na different way of seeing this.\n\n188\n00:09:22.262 --> 00:09:26.369\nThis is the IIS log format, but\nhaving said that, you'll notice, and\n\n189\n00:09:26.369 --> 00:09:29.120\nI did have another user I tried the-\n&gt;&gt; Lisa?\n\n190\n00:09:30.220 --> 00:09:32.112\n&gt;&gt; Tried the connection with before\nwe came on to do the episode for you.\n\n191\n00:09:32.112 --> 00:09:34.976\nJust so I'd have more than\nthe two entries that we did, and\n\n192\n00:09:34.976 --> 00:09:36.820\nthe logs you would see them, right.\n\n193\n00:09:36.820 --> 00:09:39.720\nSo I did connect with Lisa, just so\nyou know that, that's there.\n\n194\n00:09:39.720 --> 00:09:41.306\nThat's my super secret\nalias when I'm not here.\n\n195\n00:09:41.306 --> 00:09:42.430\n&gt;&gt; Alter ego.\n\n196\n00:09:42.430 --> 00:09:43.848\n&gt;&gt; That's my alter ego.\n&gt;&gt; [LAUGH]\n\n197\n00:09:43.848 --> 00:09:45.350\n&gt;&gt; That's what I run around as.\n\n198\n00:09:45.350 --> 00:09:46.395\nI run around as Lisa Scott.\n\n199\n00:09:46.395 --> 00:09:49.382\nSo you could see Lisa was\nsuccessful at connecting in.\n\n200\n00:09:49.382 --> 00:09:53.750\nYou could see John Summers, right,\nwe tried to connect with John.\n\n201\n00:09:53.750 --> 00:09:57.690\nJohn is here,\nas is Jan Regis right here, right?\n\n202\n00:09:57.690 --> 00:09:59.870\nSo we do have evidence of this,\nbut it's hard to see for\n\n203\n00:09:59.870 --> 00:10:02.220\nsure kinda what's going on and\nwhat's happening.\n\n204\n00:10:02.220 --> 00:10:04.440\nSo while it's important to see the log,\n\n205\n00:10:04.440 --> 00:10:07.080\nthis format may not be\nthe most user friendly.\n\n206\n00:10:07.080 --> 00:10:09.310\nSo that's where this tool comes in.\n\n207\n00:10:09.310 --> 00:10:11.950\nWe can actually bring in, and again,\nthis is just a third party tool.\n\n208\n00:10:11.950 --> 00:10:13.760\nYou can download a variety\nof these viewers.\n\n209\n00:10:13.760 --> 00:10:15.830\nThis just happens to be\nthe one that we're using here.\n\n210\n00:10:15.830 --> 00:10:20.280\nThis gives us the trial version, but\nyou could see that I'm able to see, and\n\n211\n00:10:20.280 --> 00:10:22.743\nit's easy, it's colored coded.\n\n212\n00:10:22.743 --> 00:10:26.640\nLisa and Jan in blue are successful.\n\n213\n00:10:26.640 --> 00:10:28.600\nWe could see they were able to connect in.\n\n214\n00:10:28.600 --> 00:10:29.616\nThey're given an IP address.\n\n215\n00:10:29.616 --> 00:10:33.540\nWe see the octets,\nthe amount of octets that are output.\n\n216\n00:10:33.540 --> 00:10:36.250\nIn other words,\njust information about them, right?\n\n217\n00:10:36.250 --> 00:10:40.020\nWe're seeing the connection request\nsuccess, connection reset finished.\n\n218\n00:10:40.020 --> 00:10:43.730\nYou'll see here John is rejected, right?\n\n219\n00:10:43.730 --> 00:10:44.667\nHe is not allowed in.\n\n220\n00:10:44.667 --> 00:10:48.347\nAnd so, as a result, we can see\nimmediately what's happening and\n\n221\n00:10:48.347 --> 00:10:50.844\nlook at the records and\npull the log data, and\n\n222\n00:10:50.844 --> 00:10:55.000\nactually see it in a little bit\neasier way to consume and understand.\n\n223\n00:10:55.000 --> 00:10:56.740\nAgain, you don't have\nto use this LogViewer.\n\n224\n00:10:56.740 --> 00:10:59.857\nBut just pointing out that we can view\nlogs in a variety of different ways.\n\n225\n00:10:59.857 --> 00:11:02.604\nIt may be easier depending\non the format you chose for\n\n226\n00:11:02.604 --> 00:11:06.860\nlogging to use a third party tool to\nactually consume and see this information.\n\n227\n00:11:06.860 --> 00:11:09.780\nBut, this does show us that\nwe were successful with two.\n\n228\n00:11:09.780 --> 00:11:12.660\nNot successful with one, but\nwe've validated that our policy is\n\n229\n00:11:12.660 --> 00:11:16.780\nindeed enforced and is being used in\nour routing and remote access console.\n\n230\n00:11:16.780 --> 00:11:18.740\nOur VPN gateway is being used,\n\n231\n00:11:18.740 --> 00:11:21.686\nconnected to our radius server,\neverything is working the way it should.\n\n232\n00:11:21.686 --> 00:11:22.960\n&gt;&gt; Good to know.\n\n233\n00:11:22.960 --> 00:11:23.620\n&gt;&gt; There you go.\n\n234\n00:11:23.620 --> 00:11:26.170\n&gt;&gt; We can essentially block and\n\n235\n00:11:26.170 --> 00:11:31.280\nallow as we as predetermined\nperimeters requirements.\n\n236\n00:11:31.280 --> 00:11:33.760\n&gt;&gt; Our policy, right, just one of\nour policies absolutely correct.\n\n237\n00:11:33.760 --> 00:11:37.216\nSo we're able to do that but now we have\nempirical proof that, we are seeing that\n\n238\n00:11:37.216 --> 00:11:40.622\nthe depending on the log on, and the\nassociation of that user with the policy,\n\n239\n00:11:40.622 --> 00:11:43.172\nwe do or don't allow them in\ncan actually see the results.\n\n240\n00:11:43.172 --> 00:11:46.406\n&gt;&gt; And an easy to read format [CROSSTALK]\n&gt;&gt; Yeah in the easy to read format,\n\n241\n00:11:46.406 --> 00:11:48.210\nabsolutely correct, okay?\n\n242\n00:11:48.210 --> 00:11:50.170\n&gt;&gt; All right, so is that it for\nthis particular episode?\n\n243\n00:11:50.170 --> 00:11:52.231\nHave we reached the end of our\nremote access journey [CROSSTALK]\n\n244\n00:11:52.231 --> 00:11:53.166\n&gt;&gt; That is it for\n\n245\n00:11:53.166 --> 00:11:55.210\nour remote access journey.\n\n246\n00:11:55.210 --> 00:11:57.260\nWe will come back with\nadditional episodes.\n\n247\n00:11:57.260 --> 00:11:59.440\nWe promised,\nwe would talk about direct access.\n\n248\n00:11:59.440 --> 00:12:01.650\nSo we do have some discussion to do there.\n\n249\n00:12:01.650 --> 00:12:03.790\nWe'll have some additional\nthought processes.\n\n250\n00:12:03.790 --> 00:12:06.600\nWe're gonna also talk about VPNs overall,\nkinda hint or\n\n251\n00:12:06.600 --> 00:12:08.350\ndetermine showing you how to set them up.\n\n252\n00:12:08.350 --> 00:12:10.617\nWe'll have some things to say\nabout that in upcoming episodes.\n\n253\n00:12:12.616 --> 00:12:13.199\nWhat else?\n\n254\n00:12:13.199 --> 00:12:15.322\nSo, lot sorts of other stuff, branch cash?\n\n255\n00:12:15.322 --> 00:12:17.730\n&gt;&gt; Yeah.\n&gt;&gt; DFS and who knows what else?\n\n256\n00:12:17.730 --> 00:12:19.371\nWe'll just make some stuff up\nthat sounds like a [INAUDIBLE].\n\n257\n00:12:19.371 --> 00:12:21.270\n&gt;&gt; [LAUGH] All right, Adam.\n\n258\n00:12:21.270 --> 00:12:22.430\nThank you so much for that.\n\n259\n00:12:22.430 --> 00:12:25.860\nAnd thank you for joining us as well, but\nfor this show, we are gonna go ahead and\n\n260\n00:12:25.860 --> 00:12:26.400\nsign off.\n\n261\n00:12:26.400 --> 00:12:28.300\nRemember, I'm your host Cherokee Boose.\n\n262\n00:12:28.300 --> 00:12:29.010\n&gt;&gt; I'm Adam Gordon.\n\n263\n00:12:29.010 --> 00:12:30.477\n&gt;&gt; See you next time, here on ITProTV.\n\n264\n00:12:32.348 --> 00:12:37.471\n[MUSIC]\n\n265\n00:12:37.471 --> 00:12:40.614\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217833785"
        }
      ],
      "title": "Remote access in Windows Server 2016"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam introduce DirectAccess. They explain what is is, why one would one would want to implement it and the demonstrate how to set it up. Adam explains there are several ways to set this up so one would need to consider its use prior to deployment.",
          "length": "2460",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-7-1-implementing_directaccess-051317-.00_40_42_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-7-1-implementing_directaccess-051317-.00_40_42_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-7-1-implementing_directaccess-051317-.00_40_42_12.Still001-sm.jpg",
          "title": "Implementing DirectAccess",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:02.893\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.893 --> 00:00:06.210\n[CROSSTALK]\n\n3\n00:00:06.210 --> 00:00:08.344\n[MUSIC]\n\n4\n00:00:08.344 --> 00:00:12.013\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.013 --> 00:00:14.590\n&gt;&gt; Welcome to your networking\nwith Windows Server 2016 series.\n\n6\n00:00:14.590 --> 00:00:17.360\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.360 --> 00:00:20.480\nIn this episode,\nwe'll be taking a look at direct access.\n\n8\n00:00:20.480 --> 00:00:22.570\nAnd back in studios with us today,\nwe have Mr.\n\n9\n00:00:22.570 --> 00:00:25.070\nAdam Gordon, thank you for\njoining us today Adam, how you're doing?\n\n10\n00:00:25.070 --> 00:00:26.880\n&gt;&gt; Good, good.\nHopefully everybody out there is\n\n11\n00:00:26.880 --> 00:00:27.800\ndoing well.\n\n12\n00:00:27.800 --> 00:00:28.777\nInteresting topic.\n\n13\n00:00:28.777 --> 00:00:31.924\nWe've been talking about in\nprior episodes, remote access.\n\n14\n00:00:31.924 --> 00:00:35.046\nI've spent a fair amount\nof time going through and\n\n15\n00:00:35.046 --> 00:00:37.610\nsetting up different kinds of VPNs.\n\n16\n00:00:37.610 --> 00:00:40.450\nWe talked about or\ntook a look at how to set up NAT.\n\n17\n00:00:40.450 --> 00:00:42.635\nWe've gone through the routing\nremote access server.\n\n18\n00:00:42.635 --> 00:00:45.650\nWe even took a look at\nthe network policy server, right?\n\n19\n00:00:45.650 --> 00:00:48.020\nAnd showed our walk through\nthat whole demo and\n\n20\n00:00:48.020 --> 00:00:52.160\nhow we could set it up and in the end\nuse the policy to allow or deny access.\n\n21\n00:00:52.160 --> 00:00:55.894\nSo we've been through a lot of what\ngoes on with remote access and\n\n22\n00:00:55.894 --> 00:01:00.194\nhow we allow external clients coming\nin and securing those connections.\n\n23\n00:01:00.194 --> 00:01:02.231\nBut we're gonna continue\nthat thought process.\n\n24\n00:01:02.231 --> 00:01:04.700\nDirect access is kind of\nan interesting technology.\n\n25\n00:01:04.700 --> 00:01:07.724\nI alluded to it in one\nof our prior episodes.\n\n26\n00:01:07.724 --> 00:01:11.069\nI was talking about the fact that I\nhad used one of the precursors to this\n\n27\n00:01:11.069 --> 00:01:12.330\ntechnology.\n\n28\n00:01:12.330 --> 00:01:15.690\nProbably at this point close\nto a decade or so ago.\n\n29\n00:01:15.690 --> 00:01:20.678\nAnd using it internally when I was\nworking at Microsoft at the time.\n\n30\n00:01:20.678 --> 00:01:24.847\nAnd that,\n[COUGH] When we used this technology, and\n\n31\n00:01:24.847 --> 00:01:28.133\nyou can imagine what it was like\nback then versus what it is now.\n\n32\n00:01:28.133 --> 00:01:32.356\nWhat we're essentially doing is allowing\nourselves to use a variety of different\n\n33\n00:01:32.356 --> 00:01:35.600\ntechniques depending on what kind\nof system we connect from and\n\n34\n00:01:35.600 --> 00:01:37.145\nwhat the circumstances are.\n\n35\n00:01:37.145 --> 00:01:42.600\nTo connect into the servers or the gateway\nserver, the direct access server.\n\n36\n00:01:42.600 --> 00:01:46.420\nTruly just our RRAS server running\ndirect access traditionally,\n\n37\n00:01:46.420 --> 00:01:49.250\nusually either setup\nas a dedicated role or\n\n38\n00:01:49.250 --> 00:01:52.930\nthe direct access role along with the VPN\nrole maybe running on that server.\n\n39\n00:01:52.930 --> 00:01:54.705\nIt depends on how you\nchoose to configure it.\n\n40\n00:01:54.705 --> 00:01:58.090\nBut the direct access server\nacts as our inbound gateway.\n\n41\n00:01:58.090 --> 00:02:02.370\nIt's a server that's running Server\n16 with the direct access role setup.\n\n42\n00:02:02.370 --> 00:02:04.490\nIt has to be one that\nis joined to a domain.\n\n43\n00:02:04.490 --> 00:02:06.595\nSo it's gonna obviously\nhave to be a domain server.\n\n44\n00:02:06.595 --> 00:02:09.270\nNot a domain controller,\nbut a domain server.\n\n45\n00:02:09.270 --> 00:02:12.440\nBut ultimately,\nwe're then able to connect through and\n\n46\n00:02:12.440 --> 00:02:15.210\naccess as if we were\nusing a traditional VPN.\n\n47\n00:02:15.210 --> 00:02:17.910\nThe difference being that.\n\n48\n00:02:17.910 --> 00:02:20.180\nAssuming we have the right\nkind of client configuration.\n\n49\n00:02:20.180 --> 00:02:22.990\nWe're using IPv6 to drive the connection.\n\n50\n00:02:22.990 --> 00:02:27.470\nIf we don't have IPv6, we can use\none of our translation technologies,\n\n51\n00:02:27.470 --> 00:02:32.340\n6to4, Teredo, which we could use for\nthe Windows 7 clients.\n\n52\n00:02:32.340 --> 00:02:36.590\nSo we have that capability and\nwe're able to use IPv6\n\n53\n00:02:36.590 --> 00:02:40.160\ncapable apps on the back end better\nthan served up and provided.\n\n54\n00:02:40.160 --> 00:02:43.750\nAnd if we don't have that capability,\nwe even have NAT64 and\n\n55\n00:02:43.750 --> 00:02:47.570\nDNS64 that allows us\nto do the translation.\n\n56\n00:02:47.570 --> 00:02:52.370\nSo we provide those capabilities through\nthe Direct Access Server and allow us to\n\n57\n00:02:52.370 --> 00:02:57.390\nessentially have an IPsec enabled tunnel\nthat allows us to connect securely.\n\n58\n00:02:57.390 --> 00:03:01.793\nConfigure out and connect up all of\nour information management solutions,\n\n59\n00:03:01.793 --> 00:03:06.003\nto be able to do what we need to do in\nterms of keeping track of the session.\n\n60\n00:03:06.003 --> 00:03:09.126\nHave complete understanding\nof access control and\n\n61\n00:03:09.126 --> 00:03:11.311\nmonitoring of what's happening.\n\n62\n00:03:11.311 --> 00:03:16.218\nAll the things bells and whistles we think\nof, but ultimately we're doing so in\n\n63\n00:03:16.218 --> 00:03:21.139\na secure and therefore confidential and,\n[COUGH] As a result of that, safe way.\n\n64\n00:03:21.139 --> 00:03:24.439\nNow, sometimes we also hear people\ntalk about another tech node called\n\n65\n00:03:24.439 --> 00:03:25.660\nVPN Reconnect.\n\n66\n00:03:25.660 --> 00:03:29.901\nVPN Reconnect, a lot of times, people may\nconfuse the two or talk about the two and\n\n67\n00:03:29.901 --> 00:03:33.239\nsay no, direct access,\nVPN Reconnect kinda the same thing.\n\n68\n00:03:33.239 --> 00:03:35.830\nWell, they are similar,\nbut they're not the same.\n\n69\n00:03:35.830 --> 00:03:40.600\nVPN reconnect uses IKE tunnel, to be\nable to, or IKE as the key technology,\n\n70\n00:03:40.600 --> 00:03:44.760\nbe able to drive the reconnect to the VPN,\nshould it for some reason drop.\n\n71\n00:03:44.760 --> 00:03:49.200\nSo, if you have a Windows 7 client,\nlet's say, Windows 8 client, and you are,\n\n72\n00:03:49.200 --> 00:03:50.740\n[COUGH] Going to connect in.\n\n73\n00:03:51.810 --> 00:03:54.330\nAnd VPN is, for some reason, terminated,\n\n74\n00:03:54.330 --> 00:03:58.530\nthen VPN Reconnect with automatically\nseek to reestablish that for you.\n\n75\n00:03:58.530 --> 00:04:00.580\nSo that's a little bit of\na different technology.\n\n76\n00:04:00.580 --> 00:04:04.620\nWe do set that up and can certainly\nwork with that thought process as well.\n\n77\n00:04:04.620 --> 00:04:06.870\nVPN Reconnect's been around for\na while now.\n\n78\n00:04:06.870 --> 00:04:10.512\nServer 2008, 2008 RD, I think,\nWindows 7 on the client side,\n\n79\n00:04:10.512 --> 00:04:13.939\nso we've heard people talking about\nthat and using that for a while.\n\n80\n00:04:13.939 --> 00:04:17.683\nDirect Access I said in one form or\nanother been around for\n\n81\n00:04:17.683 --> 00:04:19.166\nsome time now as well.\n\n82\n00:04:19.166 --> 00:04:22.303\nBut this allows us to essentially set up,\nas we said,\n\n83\n00:04:22.303 --> 00:04:25.340\nthis IP SEC tunnel coming\nin from the outside.\n\n84\n00:04:25.340 --> 00:04:29.370\nSo we have the ability either with\nexternal resources coming in or\n\n85\n00:04:29.370 --> 00:04:31.540\ninternal resources that are connecting.\n\n86\n00:04:31.540 --> 00:04:32.450\nWe have different ways,\n\n87\n00:04:32.450 --> 00:04:35.790\ndifferent thought processes that we\nthink about people coming in from.\n\n88\n00:04:35.790 --> 00:04:39.790\nBut our external connections coming\nin will be secured and connected.\n\n89\n00:04:39.790 --> 00:04:45.180\nAny domain joined computer as\na client that is running can\n\n90\n00:04:45.180 --> 00:04:48.030\nhave the enterprise edition of\nthe client software running but\n\n91\n00:04:48.030 --> 00:04:52.560\ncan use it as Windows 10, Windows 8,\nWindows 8.1 and or Windows 7.\n\n92\n00:04:52.560 --> 00:04:53.470\nFor Windows 7,\n\n93\n00:04:53.470 --> 00:04:57.960\nI believe I remember correctly need to\nuse SP1 in order to make this work.\n\n94\n00:04:57.960 --> 00:05:01.119\nBut other than that you're\nessentially able to run that.\n\n95\n00:05:01.119 --> 00:05:04.846\nWe connect instead of using IPv6 and\nas a result of IPsec,\n\n96\n00:05:04.846 --> 00:05:09.269\nso we wanna make sure that we're\nrunning IPv6 to use direct access.\n\n97\n00:05:09.269 --> 00:05:12.879\nBut keep mind, if we're not running\non a native IPv6 network it's okay,\n\n98\n00:05:12.879 --> 00:05:14.980\nwe're still gonna be able to do this.\n\n99\n00:05:14.980 --> 00:05:17.020\nI bet you that's what you were just\nabout to ask about, wasn't it?\n\n100\n00:05:17.020 --> 00:05:18.568\nCuz I saw that look in your eye.\n\n101\n00:05:18.568 --> 00:05:20.861\n&gt;&gt; [LAUGH]\n&gt;&gt; But, what if we don't have IPv6?\n\n102\n00:05:20.861 --> 00:05:24.019\nCan't we use one of those cool\ntechnologies we've talked about before?\n\n103\n00:05:24.019 --> 00:05:25.145\nAnd we've talked about some of these.\n\n104\n00:05:25.145 --> 00:05:29.608\nWe've talked about IPv6 over IPv4\ntunnelling, and we could use that.\n\n105\n00:05:29.608 --> 00:05:32.770\nSo we could do the six to four\ntunnel in or the teredo adaptor,\n\n106\n00:05:32.770 --> 00:05:36.862\nwe can use different things in order to\nbe able to offset the fact that we're not\n\n107\n00:05:36.862 --> 00:05:38.862\nrunning with IPv6, as I suggested.\n\n108\n00:05:38.862 --> 00:05:41.830\nAnd the computer will do\nthe connection for us.\n\n109\n00:05:41.830 --> 00:05:43.680\nThe user may not even be logged on.\n\n110\n00:05:43.680 --> 00:05:47.270\nIn order to be able to create this\nconnection we set up and start talking or\n\n111\n00:05:47.270 --> 00:05:47.920\ninteracting.\n\n112\n00:05:47.920 --> 00:05:50.024\nSo that's nice, kinda does it for us.\n\n113\n00:05:50.024 --> 00:05:52.831\nAnd I'm gonna run down the hall,\nget a glass of water, you go ahead and\n\n114\n00:05:52.831 --> 00:05:55.700\nconnect for me, I'll come back,\nit's all set up ready to go, right?\n\n115\n00:05:55.700 --> 00:05:57.105\nSo that part is kinda nice.\n\n116\n00:05:57.105 --> 00:05:58.673\nSo just be aware of that.\n\n117\n00:05:58.673 --> 00:06:03.758\nIf we do have a firewall or proxy\nthat gets in the way of us being able\n\n118\n00:06:03.758 --> 00:06:08.566\nto setup the connection using IPv6 or\nsomething like that and\n\n119\n00:06:08.566 --> 00:06:13.113\nwe have to fall back on and or\nblock the six to four adapter.\n\n120\n00:06:13.113 --> 00:06:16.133\nOr terodo is not working because\nof connectivity concerns and\n\n121\n00:06:16.133 --> 00:06:17.475\nconfiguration concerns.\n\n122\n00:06:17.475 --> 00:06:22.947\nIf any and all that is still not\ngonna happen, we also have another\n\n123\n00:06:22.947 --> 00:06:28.910\nsolution to fall back on yet\nanother option, the IPHTTPS protocol.\n\n124\n00:06:28.910 --> 00:06:33.180\nWe essentially can tunnel through the web,\nand do a secure SSL connection.\n\n125\n00:06:33.180 --> 00:06:35.800\nSo this is gonna still\nallow us to connect,\n\n126\n00:06:35.800 --> 00:06:39.060\neven though we may not necessarily\nbe leveraging that other technology.\n\n127\n00:06:39.060 --> 00:06:42.560\nSo almost no matter what you do,\nwe can find a way to get you in and\n\n128\n00:06:42.560 --> 00:06:45.019\nget you connected, with this technology.\n\n129\n00:06:45.019 --> 00:06:47.458\nWe do need network location services, so\n\n130\n00:06:47.458 --> 00:06:51.083\nthe network location server is\ngoing to use that capability or\n\n131\n00:06:51.083 --> 00:06:55.560\nprovide that capability for us on\nthe client side to determine where we are.\n\n132\n00:06:55.560 --> 00:06:58.792\nAre we inside the network,\nbehind the firewall?\n\n133\n00:06:58.792 --> 00:07:02.210\nAre we outside and therefore need\nthe direct access capability?\n\n134\n00:07:02.210 --> 00:07:06.230\nCuz remember, if we're inside on the LAN,\nchances are good we don't need to punch\n\n135\n00:07:06.230 --> 00:07:10.150\na secure connection through\nthe external firewall coming in.\n\n136\n00:07:10.150 --> 00:07:14.397\nFor essentially, this access or\nremote access-like technology.\n\n137\n00:07:14.397 --> 00:07:15.910\nSo we have to tell where we are,\n\n138\n00:07:15.910 --> 00:07:19.245\nwhere we assume we're on the inside\nif we have certain addressing.\n\n139\n00:07:19.245 --> 00:07:21.370\nWe're on the outside,\nif we have certain addressing.\n\n140\n00:07:21.370 --> 00:07:25.039\nSo network location becomes important,\nbecause it tells us how to deploy and\n\n141\n00:07:25.039 --> 00:07:28.269\nuse this technology, and\nwhether it's appropriate for us or not.\n\n142\n00:07:28.269 --> 00:07:30.240\nSo I wanna make sure we're aware of that.\n\n143\n00:07:30.240 --> 00:07:33.188\nWe will set up a network\nlocation Services or\n\n144\n00:07:33.188 --> 00:07:37.020\ntell clients where to find\nthe network location server.\n\n145\n00:07:37.020 --> 00:07:40.071\nThrough the use of a GPO,\nthrough the use of Group Policy Objects.\n\n146\n00:07:40.071 --> 00:07:43.949\nAnd so we do just wanna keep in mind\nthat one of the components here is gonna\n\n147\n00:07:43.949 --> 00:07:46.250\nbe the ability, and we talked about this.\n\n148\n00:07:46.250 --> 00:07:47.425\nYou have to be domain joined.\n\n149\n00:07:47.425 --> 00:07:51.802\nBut the ability not just to leverage the\ndomain for authentication, but we're gonna\n\n150\n00:07:51.802 --> 00:07:55.996\nuse policy-based deployment to at least\ngive us part of the thought process, and\n\n151\n00:07:55.996 --> 00:07:58.480\npart of the understanding\nof how this works.\n\n152\n00:07:58.480 --> 00:07:59.657\nCherokee I know you wanted to jump in,\nand you wanna say something.\n\n153\n00:07:59.657 --> 00:08:01.623\n&gt;&gt; Sure, yeah, I was gonna say, so\n\n154\n00:08:01.623 --> 00:08:06.264\nthe location services will also be useful\nin a situation like we had previously\n\n155\n00:08:06.264 --> 00:08:10.694\ncovered when we were looking at our\nnetwork policy server So we could really\n\n156\n00:08:10.694 --> 00:08:16.380\nperform a type of access control depending\non the location of that individual system.\n\n157\n00:08:16.380 --> 00:08:19.949\n&gt;&gt; We can or we can kinda constrain think\nof it different ways but essentially yeah,\n\n158\n00:08:19.949 --> 00:08:21.743\nwe could say hey you're allowed or not.\n\n159\n00:08:21.743 --> 00:08:26.012\nBased on where you are or\nother capabilities into a constraints or\n\n160\n00:08:26.012 --> 00:08:28.351\nproperties that maybe we ascribe.\n\n161\n00:08:28.351 --> 00:08:30.330\nIn this case it's really gonna\nbe about location, right?\n\n162\n00:08:30.330 --> 00:08:34.650\nSo it's gonna be about subnet driven or\nIP driven decisions about where you are.\n\n163\n00:08:34.650 --> 00:08:36.260\nBut yeah,\nwe could extend that thought process.\n\n164\n00:08:36.260 --> 00:08:39.840\nWe did talk about it with the NPS Server\nwhen we took a look at different ways we\n\n165\n00:08:39.840 --> 00:08:42.820\ncould allow or\ndeny the connectivity, absolutely.\n\n166\n00:08:42.820 --> 00:08:44.370\nSo do keep that in mind.\n\n167\n00:08:44.370 --> 00:08:46.854\nWe are for\ninside gonna be able to provide or\n\n168\n00:08:46.854 --> 00:08:50.442\nget access to these resources\nif we're outside, as we said,\n\n169\n00:08:50.442 --> 00:08:54.380\nget access to these resources either way,\nso just be aware of that.\n\n170\n00:08:54.380 --> 00:08:57.852\nWe do need the Active Directory\nbase domain, as I suggested.\n\n171\n00:08:57.852 --> 00:09:00.380\nMinimum, kinda interesting here\nbecause the minimum requirement for\n\n172\n00:09:00.380 --> 00:09:01.790\nAD is kinda low.\n\n173\n00:09:01.790 --> 00:09:05.820\nAt least Windows Server\n2003 functional level but\n\n174\n00:09:05.820 --> 00:09:10.260\nwe don't have to be up to 2008 or\nrunning a 2012 or even at 2016.\n\n175\n00:09:10.260 --> 00:09:14.770\nAs I said, DirectAccess has been around\nfor some time and the technology is just\n\n176\n00:09:14.770 --> 00:09:18.750\nreally another way of thinking about\ncontrolling and configuring Remote Access.\n\n177\n00:09:18.750 --> 00:09:22.370\nNothing special there, in other words,\nthat requires newer support.\n\n178\n00:09:22.370 --> 00:09:23.900\nSo in mixed domain environments,\n\n179\n00:09:23.900 --> 00:09:27.250\nolder domain environments,\nstill gonna work with no trouble.\n\n180\n00:09:27.250 --> 00:09:29.790\nWe do need Group Policy\nelements as we talked about.\n\n181\n00:09:29.790 --> 00:09:32.080\nWe may need PKI infrastructure.\n\n182\n00:09:32.080 --> 00:09:33.300\nDepending on what we're doing.\n\n183\n00:09:33.300 --> 00:09:35.500\nOn the internal side of\nthe network we don't need it but\n\n184\n00:09:35.500 --> 00:09:38.960\ncoming in from the outside\nwe will often require that.\n\n185\n00:09:38.960 --> 00:09:43.620\nBecause we're gonna be able to or\nuse requests that are sent over HTTPS for\n\n186\n00:09:43.620 --> 00:09:45.110\nKerberos proxying.\n\n187\n00:09:45.110 --> 00:09:48.530\nSo we do need certificate infrastructure\nfor us to be able to do that so\n\n188\n00:09:48.530 --> 00:09:49.920\njust keep that in mind.\n\n189\n00:09:49.920 --> 00:09:54.510\nEspecially if we're gonna do a full blown\ndeployment with two factor authentication\n\n190\n00:09:54.510 --> 00:09:57.380\nand setting up the whole nine yards.\n\n191\n00:09:57.380 --> 00:09:59.980\nWe are gonna need certificates\nregistered on our other site.\n\n192\n00:09:59.980 --> 00:10:01.760\nNow we can do our own certificates, so\n\n193\n00:10:01.760 --> 00:10:05.120\nwe can essentially have our own\nPKI issue certificates out.\n\n194\n00:10:05.120 --> 00:10:09.970\nWe may use third party PKIs, so\nwe may go to the VeriSigns, the RSA,\n\n195\n00:10:09.970 --> 00:10:14.090\nthe fleets of the world, whoever it may\nbe, we can get certificates from there.\n\n196\n00:10:14.090 --> 00:10:17.040\nA lot of you may have your\nown PKI infrastructure,\n\n197\n00:10:17.040 --> 00:10:18.880\na lot of you may use\nthird party certificates.\n\n198\n00:10:18.880 --> 00:10:21.300\nIt's really up to you to decide\nhow you want to do that.\n\n199\n00:10:21.300 --> 00:10:24.780\nWe also would, of course, based on\nall the other things I talked about,\n\n200\n00:10:24.780 --> 00:10:27.560\nneed DNS because we need\nname resolution services.\n\n201\n00:10:27.560 --> 00:10:30.690\nLucky for you, we've done a whole\nset of episodes on how to run DNS,\n\n202\n00:10:30.690 --> 00:10:33.690\nand IPv6, and all the other\nsupporting technologies here.\n\n203\n00:10:33.690 --> 00:10:37.480\nIf you haven't seen those episodes\nup until now, maybe wanna go back,\n\n204\n00:10:37.480 --> 00:10:38.170\npoke your head in there.\n\n205\n00:10:38.170 --> 00:10:40.130\nTake a look at some of\nthe stuff we're talking about.\n\n206\n00:10:40.130 --> 00:10:43.990\nGet a better understanding of how some of\nthese things come together in Server 16.\n\n207\n00:10:43.990 --> 00:10:47.090\nLot of level-set stuff there,\n\n208\n00:10:47.090 --> 00:10:50.110\nin terms of stuff that's gone\non in prior versions of the OS.\n\n209\n00:10:50.110 --> 00:10:52.800\nContinues to work but\nwe've also added new features,\n\n210\n00:10:52.800 --> 00:10:56.110\nnew capabilities and we've tried our\nbest to dig under the covers there and\n\n211\n00:10:56.110 --> 00:10:59.280\ntalk about a lot of them for you in all\nthese different areas as we've gone.\n\n212\n00:10:59.280 --> 00:11:02.180\nSo the pre-reqs for\ndeploying the direct server access or\n\n213\n00:11:02.180 --> 00:11:05.110\ndirect access server role,\ngotta be a domain member.\n\n214\n00:11:05.110 --> 00:11:06.960\nI didn't mention that we\nneed network adapters.\n\n215\n00:11:06.960 --> 00:11:09.250\nThat's kind of a given but\nlet me just be clear about that.\n\n216\n00:11:09.250 --> 00:11:11.410\nWe do need network adapters,\nyou have to connect.\n\n217\n00:11:11.410 --> 00:11:14.390\nBut we're gonna need at least one\nnetwork adapter that's connected out to\n\n218\n00:11:14.390 --> 00:11:15.470\nthe domain network.\n\n219\n00:11:15.470 --> 00:11:19.300\nUsually gonna have at least one that's\nconnected out but may have more than one.\n\n220\n00:11:19.300 --> 00:11:22.290\nRemember we'll need one that faces\nthe outside world so we're gonna have\n\n221\n00:11:22.290 --> 00:11:26.680\nusually two adapters on the box and\nwe'll set it up in that particular way.\n\n222\n00:11:26.680 --> 00:11:30.630\nWe have different options on the topology\nwhen I run the wizard and demo this for\n\n223\n00:11:30.630 --> 00:11:31.430\nyou in just a couple of minutes.\n\n224\n00:11:31.430 --> 00:11:34.490\nYou're gonna see as we run through\nwe have some different choices.\n\n225\n00:11:34.490 --> 00:11:36.740\nWe have the concept of\ndeploying in the Edge,\n\n226\n00:11:36.740 --> 00:11:40.000\nwe have the concept of behind\nthe firewall with two network adapters,\n\n227\n00:11:40.000 --> 00:11:41.770\nbehind the firewall with\none network adapter.\n\n228\n00:11:41.770 --> 00:11:44.200\nBe up to us to decide\nhow we're gonna do this.\n\n229\n00:11:44.200 --> 00:11:49.040\nThe Edge concept, we deploy into an Edge\nserver, one that's running Server 16.\n\n230\n00:11:49.040 --> 00:11:51.330\nThe computer has to have\ntwo network adapters,\n\n231\n00:11:51.330 --> 00:11:55.060\nas I said one internal facing,\none external facing.\n\n232\n00:11:55.060 --> 00:11:58.490\nThe Edge would be a border\ngateway device of some kind.\n\n233\n00:11:58.490 --> 00:12:03.275\nMaybe that's in our DMZ, maybe it\nis providing external connectivity\n\n234\n00:12:03.275 --> 00:12:06.477\njust because it is that\ndevice that sits there.\n\n235\n00:12:06.477 --> 00:12:09.415\nThere's different ways of\nthinking about the logic but\n\n236\n00:12:09.415 --> 00:12:12.477\nif we're behind the firewall\nwith two network adapters,\n\n237\n00:12:12.477 --> 00:12:16.680\nwe're inside most likely again in\na parameter network, in the DMZ.\n\n238\n00:12:16.680 --> 00:12:20.870\nBut we are gonna be able to then leverage\nthe fact that the firewall provides\n\n239\n00:12:20.870 --> 00:12:22.390\nexternal connectivity.\n\n240\n00:12:22.390 --> 00:12:25.838\nAnd remember then, we may be sitting\ninside, we're in the semi-public,\n\n241\n00:12:25.838 --> 00:12:29.900\nsemi-private network and we're still\ngonna be dual home to adapters.\n\n242\n00:12:29.900 --> 00:12:34.240\nSo I won't go into the firewall on\nthe outside we're going to the internal\n\n243\n00:12:34.240 --> 00:12:38.000\nside of the network of\na normal DMZ architecture.\n\n244\n00:12:38.000 --> 00:12:39.200\nSo we're gonna have that.\n\n245\n00:12:39.200 --> 00:12:42.000\nWe'll have one network adapter\nthat connects again inside,\n\n246\n00:12:42.000 --> 00:12:44.630\none that connects to the perimeter\nnetwork, not the outside.\n\n247\n00:12:44.630 --> 00:12:47.870\nRemember the perimeter network so\nthat we get to the external firewall.\n\n248\n00:12:47.870 --> 00:12:50.320\nAnd then it will ultimately\nprovide external access.\n\n249\n00:12:50.320 --> 00:12:52.880\nSo it's a slightly\ndifferent scenario there.\n\n250\n00:12:52.880 --> 00:12:57.130\nBehind the firewall is one network\nadapter, this direct access system,\n\n251\n00:12:57.130 --> 00:12:59.900\none network adapter connected\nto the internal network only.\n\n252\n00:12:59.900 --> 00:13:02.240\nWe're gonna be coming in\nfrom somewhere else and\n\n253\n00:13:02.240 --> 00:13:05.310\nwe're gonna go through the DMZ,\nall the firewalls, whatever.\n\n254\n00:13:05.310 --> 00:13:08.448\nWe'll be on the inside by the time\nwe have to talk to the box.\n\n255\n00:13:08.448 --> 00:13:11.672\nAnd so therefore, we just need\nthe connectivity to be able to provide\n\n256\n00:13:11.672 --> 00:13:14.180\ninternal looking or\ninternal facing information.\n\n257\n00:13:14.180 --> 00:13:16.850\nSo it's just a question of\nhow we're gonna set that up.\n\n258\n00:13:16.850 --> 00:13:20.370\nSo once we have that,\nwe have to enable the Windows Firewall for\n\n259\n00:13:20.370 --> 00:13:21.910\nall the different profiles.\n\n260\n00:13:21.910 --> 00:13:24.430\nThe Windows Advanced Firewall\nrunning locally\n\n261\n00:13:24.430 --> 00:13:26.580\non the server has to be configured.\n\n262\n00:13:26.580 --> 00:13:28.851\nSo we just wanna make\nsure we're aware of that.\n\n263\n00:13:28.851 --> 00:13:32.728\nAlso I told you that we cannot be a domain\ncontroller, not that you would normally\n\n264\n00:13:32.728 --> 00:13:35.830\nwanna install something like\nthis on a domain controller.\n\n265\n00:13:35.830 --> 00:13:39.320\nBut in case you thought hey let me\njust try that, see if it works.\n\n266\n00:13:39.320 --> 00:13:41.800\nOr if you're asked at some point,\nhey, can I do that?\n\n267\n00:13:41.800 --> 00:13:45.222\nIf you think about the logic of it,\nwe would never wanna expose a domain\n\n268\n00:13:45.222 --> 00:13:49.116\ncontroller in an environment where we're\ngiving access to the outside world.\n\n269\n00:13:49.116 --> 00:13:51.207\nAnd allowing people coming in that may or\n\n270\n00:13:51.207 --> 00:13:55.250\nmay not belong there to knock on that\ndoor and interact with the server.\n\n271\n00:13:55.250 --> 00:13:57.530\nThat's just usually recipe for\ndisaster, right.\n\n272\n00:13:57.530 --> 00:14:00.180\nSo, we don't wanna do that so\nwe're not gonna let you\n\n273\n00:14:00.180 --> 00:14:03.510\ndeploy this thought process\nonto a direct access server.\n\n274\n00:14:03.510 --> 00:14:06.990\nShould not, cannot, will not be\ndeployed onto a domain controller,\n\n275\n00:14:06.990 --> 00:14:08.560\njust to be clear about that, right.\n\n276\n00:14:08.560 --> 00:14:09.799\nNot a good idea.\n\n277\n00:14:09.799 --> 00:14:11.100\nAll right, so we have all that.\n\n278\n00:14:11.100 --> 00:14:14.660\nLet's go in and let's actually take a look\nat some of the ways in which we can\n\n279\n00:14:14.660 --> 00:14:15.190\nwork with this.\n\n280\n00:14:15.190 --> 00:14:17.070\nSo we go to my machine here.\n\n281\n00:14:17.070 --> 00:14:20.170\nWe've talked enough,\nlet's actually take a look, there we go.\n\n282\n00:14:20.170 --> 00:14:22.770\nIt's so good we just blinked our eyes and\nlook at that, it came right up.\n\n283\n00:14:22.770 --> 00:14:24.559\nAll right, so I did not mention and\n\n284\n00:14:24.559 --> 00:14:28.700\nI have mentioned in almost every other\nepisode we've done around remote access\n\n285\n00:14:28.700 --> 00:14:32.680\nand different kinds of technologies,\nthat there are PowerShell cmdlets.\n\n286\n00:14:32.680 --> 00:14:34.019\nWe haven't previewed them for\n\n287\n00:14:34.019 --> 00:14:37.320\nyou until this point in time in this\ngroup of episodes, but they're there.\n\n288\n00:14:37.320 --> 00:14:39.310\nYou know they're there,\nwe just haven't brought them up.\n\n289\n00:14:39.310 --> 00:14:42.140\nAnd the reason I haven't shown them to you\nis just I thought I'd throw them in here\n\n290\n00:14:42.140 --> 00:14:45.770\nright now because a lot of the commands\nthat are right up at the top here\n\n291\n00:14:45.770 --> 00:14:47.180\nhappen to deal with dDirectAccess.\n\n292\n00:14:47.180 --> 00:14:50.430\nSo, you could see there's a bunch\nthat deal with DirectAccess.\n\n293\n00:14:50.430 --> 00:14:55.480\nThe DA in front of client, app service or\nwhatever help us to understand that.\n\n294\n00:14:55.480 --> 00:14:59.260\nBut there are many, many commands\nthat are used with PowerShell for\n\n295\n00:14:59.260 --> 00:15:01.100\nthe RemoteAccess Module.\n\n296\n00:15:01.100 --> 00:15:03.360\nAnd as always,\nwe encourage you to take a look at them.\n\n297\n00:15:03.360 --> 00:15:05.450\nGo out to the website,\nsee what's going on.\n\n298\n00:15:05.450 --> 00:15:08.430\nYou've seen in a lot of the prior demos\nthat I've been using PowerShell to\n\n299\n00:15:08.430 --> 00:15:12.090\ninstall roles, to use NetSH,\nto configure adapters.\n\n300\n00:15:12.090 --> 00:15:13.470\nTo do all sorts of stuff.\n\n301\n00:15:13.470 --> 00:15:17.120\nWe put these commandlets to work for\nus whenever we try to do a demo.\n\n302\n00:15:17.120 --> 00:15:20.940\nAt least in some area, to give you a sense\nof the fact that we should be integrating\n\n303\n00:15:20.940 --> 00:15:24.820\nthis thought process, and trying to use\nthis wherever and whenever possible.\n\n304\n00:15:24.820 --> 00:15:29.550\nThere is some good documentation on\nNew Direct Access documents for Server 16.\n\n305\n00:15:29.550 --> 00:15:33.662\nHow do we set up,\nhow do we configure things like that.\n\n306\n00:15:33.662 --> 00:15:36.320\nAnd this is the landing page for that.\n\n307\n00:15:36.320 --> 00:15:38.620\nYou've got here,\nyou voted to go through and\n\n308\n00:15:38.620 --> 00:15:41.070\njust drill in to these different areas.\n\n309\n00:15:41.070 --> 00:15:44.710\nHow do we deploy a single direct access\nserver using the base of deployment to get\n\n310\n00:15:44.710 --> 00:15:45.540\nthings started in wizard?\n\n311\n00:15:45.540 --> 00:15:48.000\nI'm gonna walk you through show you\nwhat that looks like here in a minute.\n\n312\n00:15:48.000 --> 00:15:51.309\nAll right, so as I was saying, we could\ntake a look at anything that you would\n\n313\n00:15:51.309 --> 00:15:54.025\nlike in terms of the documentation here,\nany of these links.\n\n314\n00:15:54.025 --> 00:15:54.690\nYou know the drill.\n\n315\n00:15:54.690 --> 00:15:55.840\nYou click through them and\n\n316\n00:15:55.840 --> 00:16:00.290\nyou could see all the different pieces of\nthe puzzle that you may wanna read up on.\n\n317\n00:16:00.290 --> 00:16:01.430\nAs well as reminds you,\n\n318\n00:16:01.430 --> 00:16:05.089\nyou gotta look at a site like this\nsometimes the deployment options change.\n\n319\n00:16:05.089 --> 00:16:08.064\nMaybe we update something,\nmaybe something is new or\n\n320\n00:16:08.064 --> 00:16:11.236\nhas been modified to reflect\na certain kind of activity So\n\n321\n00:16:11.236 --> 00:16:14.292\nyou do you wanna take a look\nto see what's going there.\n\n322\n00:16:14.292 --> 00:16:18.128\nUnsupported configurations always good to\nfind out what you're not suppose to do,\n\n323\n00:16:18.128 --> 00:16:19.810\nso you know how to do it the right way.\n\n324\n00:16:19.810 --> 00:16:22.600\nWhat are the prereq's for\ndeploying, we've been through those,\n\n325\n00:16:22.600 --> 00:16:23.690\ntalked about what you need.\n\n326\n00:16:23.690 --> 00:16:25.450\nSo it's good to just\ntake a look at that and\n\n327\n00:16:25.450 --> 00:16:27.940\nmake sure that you understand\nhow those things are gonna work.\n\n328\n00:16:27.940 --> 00:16:31.880\nAll right, so having said that,\nlet's go ahead.\n\n329\n00:16:31.880 --> 00:16:34.330\nLet me just extend our\ntime route real quick.\n\n330\n00:16:34.330 --> 00:16:35.236\nLet's go ahead and\n\n331\n00:16:35.236 --> 00:16:39.450\nlet's take a look at what we can do with\nthe direct access configuration wizard.\n\n332\n00:16:39.450 --> 00:16:41.610\nSo just to give you a background\nof what we have set up.\n\n333\n00:16:41.610 --> 00:16:44.220\nI'm on a machine,\nI've already just stood up and\n\n334\n00:16:44.220 --> 00:16:46.740\nconfigured the remote access server.\n\n335\n00:16:46.740 --> 00:16:50.959\nSo you can see it set up here, network\npolicy server is sitting there as well.\n\n336\n00:16:50.959 --> 00:16:53.407\nAnd what we gonna do is just go ahead and\n\n337\n00:16:53.407 --> 00:16:56.920\nthen turn our attention to\nsetting up direct access.\n\n338\n00:16:56.920 --> 00:16:59.235\nSo we're gonna go into\nthe tools area here and\n\n339\n00:16:59.235 --> 00:17:02.442\nwe're gonna use\nthe Remote Access Management console.\n\n340\n00:17:02.442 --> 00:17:07.270\nIf we can go full screen\ncuz I'm on right behind me,\n\n341\n00:17:07.270 --> 00:17:10.070\nit's funny we talked by yourself in the\nthird person cuz you're on the screen and\n\n342\n00:17:10.070 --> 00:17:11.925\nyou're the one who you're talking about.\n\n343\n00:17:11.925 --> 00:17:14.910\nSo you can see instead of\ngoing to the routing and\n\n344\n00:17:14.910 --> 00:17:18.460\nremote access management console which\nwe've been using in our prior demos.\n\n345\n00:17:18.460 --> 00:17:21.560\nAt one point early on in some of\nthe episodes that we started talking\n\n346\n00:17:21.560 --> 00:17:24.210\nabout remote access, I did point\nout that there are two consoles.\n\n347\n00:17:24.210 --> 00:17:27.838\nBut we haven't been in to take a look at\nthe remote access management console yet,\n\n348\n00:17:27.838 --> 00:17:30.900\nwe just kinda had it sitting there,\nhaving really done anything with it yet.\n\n349\n00:17:30.900 --> 00:17:33.440\nSo we're gonna actually go in we're\ngonna take a look at it here.\n\n350\n00:17:33.440 --> 00:17:36.160\nSo Remote Access management,\njust open this up real quick.\n\n351\n00:17:37.630 --> 00:17:41.000\nAnd we'll be able to go in\nas soon as this loads up and\n\n352\n00:17:41.000 --> 00:17:45.470\nwe'll be able to see that we can do under\nconfiguration are configuration for\n\n353\n00:17:45.470 --> 00:17:50.590\ndirect access and\nVPN when I installed the RRAS solution.\n\n354\n00:17:50.590 --> 00:17:53.958\nI specified as I installed that I wanted,\n\n355\n00:17:53.958 --> 00:17:56.940\nlet me just show you what I\ndid here with PowerShell.\n\n356\n00:17:56.940 --> 00:18:01.440\nSpecified that I wanted to add the Windows\nfeatures for network policy and\n\n357\n00:18:01.440 --> 00:18:07.160\ndirect access VPN so that way I had the\nability to go configure the RRAS solution\n\n358\n00:18:07.160 --> 00:18:11.900\nfor these two technologies, specifically\ndirect access and VPN support.\n\n359\n00:18:11.900 --> 00:18:14.100\nSo I've done this with PowerShell and\n\n360\n00:18:14.100 --> 00:18:17.520\nwhat I'm gonna do now is just run\nthe configuration right from here.\n\n361\n00:18:17.520 --> 00:18:23.410\nSo I click on this item and it brings up\na little wizard here, Remote Access Setup.\n\n362\n00:18:23.410 --> 00:18:25.020\nWhat is it you're looking to do?\n\n363\n00:18:25.020 --> 00:18:28.520\nConfigure Remote Access,\nrun the Getting Started Wizard.\n\n364\n00:18:28.520 --> 00:18:31.700\nYou'll see here,\nuse the wizard to configure Direct Access.\n\n365\n00:18:31.700 --> 00:18:34.910\nAnd VPN quickly with default\nrecommended settings, so\n\n366\n00:18:34.910 --> 00:18:36.840\nwe could do kind of a quick deploy.\n\n367\n00:18:36.840 --> 00:18:40.586\nNow this is okay and we can take a look at\nthis but keep in mind, if we do it this\n\n368\n00:18:40.586 --> 00:18:44.451\nway, one of the things we run into or\npotentially just have to think about is,\n\n369\n00:18:44.451 --> 00:18:47.130\nwe wind up with self-signed\ncertificates here.\n\n370\n00:18:47.130 --> 00:18:50.140\nWe can't specify that we wanna\nuse other kinds of certificates.\n\n371\n00:18:50.140 --> 00:18:54.090\nAnd so, then we have to go in later and\ndo some additional configuration, so\n\n372\n00:18:54.090 --> 00:18:58.106\nwe may wanna run the Remote Access setup\nwizard, configure direct access and\n\n373\n00:18:58.106 --> 00:18:59.552\nVPN with custom settings.\n\n374\n00:18:59.552 --> 00:19:03.435\nWe have a little more depth there in terms\nof what we can do, what we wanna specify.\n\n375\n00:19:03.435 --> 00:19:06.995\nI'll go through and just kinda show you\nthe thought process around each one,\n\n376\n00:19:06.995 --> 00:19:10.018\nthat we just get a sense of\nthe options you're interacting with.\n\n377\n00:19:10.018 --> 00:19:13.100\nIf you remember, when we walk through and\n\n378\n00:19:13.100 --> 00:19:16.623\nwe did the configuration,\nor I went through and\n\n379\n00:19:16.623 --> 00:19:21.920\nI showed you the setup on how we could\ndeploy the network policy server.\n\n380\n00:19:21.920 --> 00:19:25.040\nAnd we went ahead and we did that and\nI walked through the extensive setup and\n\n381\n00:19:25.040 --> 00:19:26.300\nbackground around all that.\n\n382\n00:19:26.300 --> 00:19:28.480\nAnd I showed you that\nwe could go ahead and\n\n383\n00:19:28.480 --> 00:19:31.350\nwe could look at one of the pre-made\npolicies that were there.\n\n384\n00:19:31.350 --> 00:19:34.140\nWe kinda of edited it all out, we took\na look at it, then we went ahead and\n\n385\n00:19:34.140 --> 00:19:37.950\nwe created a policy, and we saw that\nwe could specify a lot of stuff\n\n386\n00:19:37.950 --> 00:19:40.408\nby running through the wizard and\nmake choices there.\n\n387\n00:19:40.408 --> 00:19:43.360\nWe could kinda push that off and\njust leave it alone and then go back and\n\n388\n00:19:43.360 --> 00:19:44.690\nfix it after the fact.\n\n389\n00:19:44.690 --> 00:19:46.220\nSo we're dealing with\nkind of an option here.\n\n390\n00:19:46.220 --> 00:19:49.710\nIt's really a question of what we\nchoose to do, how we choose to deploy.\n\n391\n00:19:49.710 --> 00:19:51.560\nSo let's take a look at\nthe getting started wizard,\n\n392\n00:19:51.560 --> 00:19:55.110\nthe one that's just gonna be real quick,\nreal simple, kinda streamlined, and\n\n393\n00:19:55.110 --> 00:19:57.190\nthen we'll just take a look\nat the more advanced one.\n\n394\n00:19:57.190 --> 00:19:59.010\nWe'll go through and\njust look at the details.\n\n395\n00:19:59.010 --> 00:20:00.770\nSo we'll launch this real quick.\n\n396\n00:20:00.770 --> 00:20:02.440\nThen we have our ability here.\n\n397\n00:20:02.440 --> 00:20:05.480\nMove this over so you guys can just\nsee at the edge of the screen there,\n\n398\n00:20:05.480 --> 00:20:06.430\nwhat we're doing.\n\n399\n00:20:06.430 --> 00:20:08.930\nDeploy both direct access and\nVPN, recommended,\n\n400\n00:20:08.930 --> 00:20:11.700\nin other words,\nlet's configure both simultaneously.\n\n401\n00:20:11.700 --> 00:20:15.950\nDo direct access only,\nthis is just setting up the direct access\n\n402\n00:20:15.950 --> 00:20:18.700\nrole on the server, and\nconfiguring client support.\n\n403\n00:20:18.700 --> 00:20:21.340\nJust VPN only, so we have options.\n\n404\n00:20:21.340 --> 00:20:27.470\nWe can configure just the specified\nRRAS capability, in this case the VPN.\n\n405\n00:20:27.470 --> 00:20:30.410\nWe could specify just\nthe direct access capability or\n\n406\n00:20:30.410 --> 00:20:32.860\nwe could combine them together and\ndo both.\n\n407\n00:20:32.860 --> 00:20:35.310\nSo I'm gonna close my eyes,\nI've always wanted to do this.\n\n408\n00:20:35.310 --> 00:20:36.590\n&gt;&gt; Okay.\n&gt;&gt; I'm gonna close my eyes,\n\n409\n00:20:36.590 --> 00:20:39.530\nI need a dart or BB gun, one or the other.\n\n410\n00:20:39.530 --> 00:20:40.130\n&gt;&gt; I've got a pen.\n\n411\n00:20:40.130 --> 00:20:42.870\n&gt;&gt; Okay, and\nI'm gonna throw this at the screen.\n\n412\n00:20:42.870 --> 00:20:44.980\nThis is where we have interactive 3D.\n\n413\n00:20:44.980 --> 00:20:46.855\nIt's a new future we're deploying here,\nat ITProTV.\n\n414\n00:20:46.855 --> 00:20:48.083\n&gt;&gt; Hold on,\nlet me put it to the stylus setting.\n\n415\n00:20:48.083 --> 00:20:51.820\n&gt;&gt; No, no, we want the one that's\ngonna stick in the screen and so.\n\n416\n00:20:51.820 --> 00:20:52.960\nPut on your goggles, and\n\n417\n00:20:52.960 --> 00:20:55.590\nalso duck because I'm not gonna\nbe able to see what I'm doing.\n\n418\n00:20:55.590 --> 00:20:58.622\nI will get to actually decide\nwhich one we're gonna deploy.\n\n419\n00:20:58.622 --> 00:21:00.405\n&gt;&gt; Right there, that one.\n\n420\n00:21:00.405 --> 00:21:01.030\n&gt;&gt; That one?\n\n421\n00:21:01.030 --> 00:21:01.860\n&gt;&gt; That one yeah, let's deploy it.\n\n422\n00:21:01.860 --> 00:21:04.900\n&gt;&gt; Based on that, I actually saw\nthis on a commercial, not this.\n\n423\n00:21:04.900 --> 00:21:06.030\nGive me a bucket to do this.\n\n424\n00:21:06.030 --> 00:21:10.210\nBut I saw a commercial where\nthey were going through,\n\n425\n00:21:10.210 --> 00:21:13.520\nhey you've got to do all the great\nstuff you have on your bucket list.\n\n426\n00:21:13.520 --> 00:21:15.790\nAll the different things you want to do.\n\n427\n00:21:15.790 --> 00:21:19.470\nAnd one of the things was, the woman\nwho is standing in front of a map.\n\n428\n00:21:19.470 --> 00:21:21.950\nYou'll close your eyes, throw the dart and\nthen that's where you go.\n\n429\n00:21:21.950 --> 00:21:23.360\n&gt;&gt; Travel there.\n&gt;&gt; Yeah, travel there kind of thing,\n\n430\n00:21:23.360 --> 00:21:24.190\nI thought that was so cool.\n\n431\n00:21:25.430 --> 00:21:26.340\nAs long as you're good at darts.\n\n432\n00:21:26.340 --> 00:21:28.650\n&gt;&gt; What if you landed on\na really bad place though?\n\n433\n00:21:28.650 --> 00:21:30.250\n&gt;&gt; Well, what if you landed off the map?\n\n434\n00:21:30.250 --> 00:21:31.090\nThen you couldn't go.\n\n435\n00:21:31.090 --> 00:21:33.533\n&gt;&gt; I probably would, knowing my skill set.\n\n436\n00:21:33.533 --> 00:21:36.854\n&gt;&gt; Hit the flower pot, okay, that's where\nI'm going, so I guess you can't do that.\n\n437\n00:21:36.854 --> 00:21:41.890\nAll right so let's go back at we'll go\nahead and we'll go and we'll do both here.\n\n438\n00:21:41.890 --> 00:21:44.280\nWe'll take a look and\nkind of just walk through the logic.\n\n439\n00:21:44.280 --> 00:21:47.080\nWe'll remind ourselves of what\nwe have to do with VPN but\n\n440\n00:21:47.080 --> 00:21:49.695\nwe'll also get the direct\naccess solution set up.\n\n441\n00:21:49.695 --> 00:21:52.545\nSo we'd click there,\ndoes our prereq check.\n\n442\n00:21:52.545 --> 00:21:56.385\nInitializes, remember we talked about\nthe fact that we have three options for\n\n443\n00:21:56.385 --> 00:21:57.275\ndeployment.\n\n444\n00:21:57.275 --> 00:22:02.375\nWe have Edge, we have behind\nthe Edge device with two adapters,\n\n445\n00:22:02.375 --> 00:22:04.265\nbehind the Edge device\nwith a single adapter.\n\n446\n00:22:04.265 --> 00:22:07.985\nYou would make your choice here,\nobviously specify what you're gonna do.\n\n447\n00:22:07.985 --> 00:22:11.620\nSo either way, whatever you choose here,\n\n448\n00:22:11.620 --> 00:22:15.710\nyou have to specify that you're\ngonna then provide the IP address.\n\n449\n00:22:15.710 --> 00:22:20.210\nSo whatever that will be,\nthat will give you the public name and\n\n450\n00:22:20.210 --> 00:22:23.830\nor IPv4 address used by clients\nto connect to the RRAS server.\n\n451\n00:22:23.830 --> 00:22:26.990\nSo you're gonna specify what that is,\nwhatever that may be.\n\n452\n00:22:28.410 --> 00:22:30.530\nSo remote access settings will be applied.\n\n453\n00:22:30.530 --> 00:22:33.010\nClick here to edit the wizard settings.\n\n454\n00:22:33.010 --> 00:22:34.370\nSo if we're going to go ahead,\n\n455\n00:22:34.370 --> 00:22:37.340\nconfiguration setting will be\nmodified to include GPO settings,\n\n456\n00:22:37.340 --> 00:22:41.170\ndirect access client security group,\nserver adapters, DNS properties, etc.\n\n457\n00:22:41.170 --> 00:22:43.610\nIf you're not gonna edit any of those,\nyou're just gonna go for\n\n458\n00:22:43.610 --> 00:22:46.355\nthe default, we're done,\nthat's direct access, high five!\n\n459\n00:22:46.355 --> 00:22:47.170\n&gt;&gt; Woo-hoo!\n\n460\n00:22:47.170 --> 00:22:48.030\n&gt;&gt; That's all we gotta do.\n\n461\n00:22:48.030 --> 00:22:50.960\n&gt;&gt; But obviously clearly it's\na little bit more involved that that,\n\n462\n00:22:50.960 --> 00:22:52.760\nwe're not gonna just hit the button and\n\n463\n00:22:52.760 --> 00:22:56.160\ndeploy cuz we wanna be able to see what's\ngoing on, and then we wanna understand it.\n\n464\n00:22:56.160 --> 00:22:58.070\nBut literally,\nwhat I wanted to show you was,\n\n465\n00:22:58.070 --> 00:23:00.970\nif you just did this walk-through\nquickly with the wizard,\n\n466\n00:23:00.970 --> 00:23:05.450\nthe only thing we ask you to do really in\ntheory other than just accept the defaults\n\n467\n00:23:05.450 --> 00:23:08.410\nis tell us which one of the three\ndeployment options you want.\n\n468\n00:23:08.410 --> 00:23:11.380\nAnd give us that IPv4 public address so\n\n469\n00:23:11.380 --> 00:23:13.970\nwe know how to configure\nthe external gateway coming in.\n\n470\n00:23:13.970 --> 00:23:17.150\nAnd that's it, everything else is done for\nyou behind the scenes.\n\n471\n00:23:17.150 --> 00:23:19.550\nThat's how easy direct access could be.\n\n472\n00:23:19.550 --> 00:23:22.200\nNow, remember,\nyou may not be happy with those options.\n\n473\n00:23:22.200 --> 00:23:23.510\nYou may wanna change them.\n\n474\n00:23:23.510 --> 00:23:27.180\nSo clearly, there needs to be some\nthought put into how are we gonna deploy,\n\n475\n00:23:27.180 --> 00:23:29.500\nwhat are we gonna do,\ndoes this really make sense?\n\n476\n00:23:29.500 --> 00:23:34.320\nBut I'm just pointing out that it\nwould not take anything more than that\n\n477\n00:23:34.320 --> 00:23:37.060\nto be able to run if all we did\nwas use the startup wizard.\n\n478\n00:23:37.060 --> 00:23:38.470\nNow I didn't edit those settings, so\n\n479\n00:23:38.470 --> 00:23:40.490\nwe're gonna go through and\nwe're gonna take a look.\n\n480\n00:23:41.760 --> 00:23:44.500\nAnd we're going to show you just\na couple different iterations here.\n\n481\n00:23:44.500 --> 00:23:49.548\nIf I just did deploy direct access only,\nit's essentially gonna wind up\n\n482\n00:23:49.548 --> 00:23:55.105\nbeing the same thing, again we'll\njust make our choice here, 216001.\n\n483\n00:23:55.105 --> 00:23:58.831\nThis is just an IP address I've assigned\nto one of the adapters that I'm using just\n\n484\n00:23:58.831 --> 00:24:00.640\nto specify that I have an external IP.\n\n485\n00:24:00.640 --> 00:24:03.030\nThat's where that comes from\nby the way just so you know.\n\n486\n00:24:03.030 --> 00:24:06.020\nIn the real world, that would be whatever\nIP address you're really using for\n\n487\n00:24:06.020 --> 00:24:06.765\nexternal access.\n\n488\n00:24:06.765 --> 00:24:08.460\nSo again, if I just choose that,\n\n489\n00:24:08.460 --> 00:24:12.750\nyou'll see that it does the same thing\nregardless of which one I choose here.\n\n490\n00:24:12.750 --> 00:24:16.033\nIt's gonna say, basically it gave me\neverything I want All I need now is\n\n491\n00:24:16.033 --> 00:24:18.239\njust literally,\nedit the settings or deploy.\n\n492\n00:24:18.239 --> 00:24:20.530\nSo no matter how we do it\nthat's where we wind up.\n\n493\n00:24:20.530 --> 00:24:23.700\nNow, if I want to edit those\nsettings click here it\n\n494\n00:24:23.700 --> 00:24:26.430\ndoes open up the RAS settings here.\n\n495\n00:24:26.430 --> 00:24:28.590\nLet me move over just so\nyou can see the edge of that so\n\n496\n00:24:28.590 --> 00:24:31.540\nyou can see on the side of the box,\nthere we go.\n\n497\n00:24:31.540 --> 00:24:35.090\nAnd you could see the ability to\ngo on the GPO settings and change.\n\n498\n00:24:35.090 --> 00:24:39.030\nIt does show me that the direct access\nserver GPO name we are creating,\n\n499\n00:24:39.030 --> 00:24:43.210\nmember group policy template that's used\nto provide the network location services\n\n500\n00:24:43.210 --> 00:24:44.550\nand other stuff.\n\n501\n00:24:44.550 --> 00:24:48.067\nClient GPO name, it tell us what they are,\nserver settings, client settings,\n\n502\n00:24:48.067 --> 00:24:49.734\nI can go in and change those settings.\n\n503\n00:24:49.734 --> 00:24:53.033\nRemote clients, just scroll down here.\n\n504\n00:24:53.033 --> 00:24:57.160\nDirect access settings are applied to all\nmobile computers and security groups.\n\n505\n00:24:57.160 --> 00:25:01.080\nSo practice labs, domain computers,\npractice labs is just our domain.\n\n506\n00:25:01.080 --> 00:25:05.280\nSo domain computers there, resource\nused to verify network connectivity.\n\n507\n00:25:05.280 --> 00:25:08.370\nA default probe, check corporate\nconnectivity's created automatically,\n\n508\n00:25:08.370 --> 00:25:10.790\ndirect access connection\nname workplace connection.\n\n509\n00:25:10.790 --> 00:25:11.760\nThese are all the defaults.\n\n510\n00:25:11.760 --> 00:25:14.410\nAnd by the way, all those defaults,\neverything you're looking at,\n\n511\n00:25:14.410 --> 00:25:16.070\nI've captured all that stuff for\nyou in the show notes,\n\n512\n00:25:16.070 --> 00:25:20.155\nso you'll be able to see, the default for\nthat, security group name is this.\n\n513\n00:25:20.155 --> 00:25:22.175\nThe default for the domain or\n\n514\n00:25:22.175 --> 00:25:24.935\nthe direct access connection is called,\nwork place connection.\n\n515\n00:25:24.935 --> 00:25:26.543\nAll that stuff,\nI put that all in the notes for you.\n\n516\n00:25:26.543 --> 00:25:27.985\nSo, you're gonna be able to read up and\n\n517\n00:25:27.985 --> 00:25:31.585\njust see all that as we're going through\nand talking about it, it's all there.\n\n518\n00:25:31.585 --> 00:25:34.325\nRemote access server,\nthe direct access config,\n\n519\n00:25:34.325 --> 00:25:36.225\nremember we specified the external.\n\n520\n00:25:36.225 --> 00:25:40.200\nWe specified the network adapter is,\nwe're gonna have two adapters,\n\n521\n00:25:40.200 --> 00:25:42.650\nso ethernet2 is my external one.\n\n522\n00:25:42.650 --> 00:25:44.720\nThat's where I bound my external address.\n\n523\n00:25:44.720 --> 00:25:46.530\nMy internal one is the other\none called the ethernet.\n\n524\n00:25:46.530 --> 00:25:49.240\nAnd you'll see my end\nthrone network subnets,\n\n525\n00:25:49.240 --> 00:25:52.220\nmy IPV6 information is right there.\n\n526\n00:25:52.220 --> 00:25:52.950\nYou can see that,\n\n527\n00:25:52.950 --> 00:25:56.760\neven though we didn't deploy that or\nspecify that as part of the template.\n\n528\n00:25:56.760 --> 00:26:00.380\nAnd then my infrastructures servers,\neverything is put up right here\n\n529\n00:26:00.380 --> 00:26:04.250\nwith DNS suffixes, all that's provided and\nset up as part of the template.\n\n530\n00:26:04.250 --> 00:26:07.660\nIf I do this, using the other part of the\nwizard where it says hey, go through and\n\n531\n00:26:07.660 --> 00:26:10.200\nconfigure everything yourself,\nyou're gonna have to go through and\n\n532\n00:26:10.200 --> 00:26:12.400\nmake all these choices and\nspecify all this.\n\n533\n00:26:12.400 --> 00:26:15.400\nNot a bad thing, it's just that\nyou're gonna have to obviously know\n\n534\n00:26:15.400 --> 00:26:16.730\nthat you can go in and do that.\n\n535\n00:26:16.730 --> 00:26:18.640\nNow, this is kinda nice down here.\n\n536\n00:26:18.640 --> 00:26:20.980\nA little bit hard to see,\nbut see right there.\n\n537\n00:26:20.980 --> 00:26:24.480\nSave to a file,\nI can actually grab this configuration.\n\n538\n00:26:24.480 --> 00:26:26.910\nI could also print it off by the way,\nwhich is also kinda nice.\n\n539\n00:26:26.910 --> 00:26:30.330\nBut I can save it to a file and\nI can then have a copy of it so\n\n540\n00:26:30.330 --> 00:26:31.350\nI understand what's going on.\n\n541\n00:26:31.350 --> 00:26:35.270\nSo really important from a documentation\nperspective to be thinking about that.\n\n542\n00:26:35.270 --> 00:26:38.260\nMay be a good idea to do that,\nlet's just save that off real quick.\n\n543\n00:26:38.260 --> 00:26:40.460\nSince we're talking,\nwe'll just show you what that looks like.\n\n544\n00:26:40.460 --> 00:26:44.710\nRemote access config summary, it's just\na web page format, traditionally HTML,\n\n545\n00:26:44.710 --> 00:26:45.670\nas you can see.\n\n546\n00:26:45.670 --> 00:26:49.170\nI could save it as an archive,\na text file, it's up to us to decide, or\n\n547\n00:26:49.170 --> 00:26:50.330\nup to me to decide what I wanna do.\n\n548\n00:26:50.330 --> 00:26:53.310\nI'll just put that out there,\nlet that be saved off.\n\n549\n00:26:53.310 --> 00:26:56.780\nThat's just gonna save the config for me,\nso I can go back and look at it later.\n\n550\n00:26:56.780 --> 00:26:59.750\nRemember, good documentation\nis your friend,\n\n551\n00:26:59.750 --> 00:27:01.090\nreally important to have\ngood documentation.\n\n552\n00:27:01.090 --> 00:27:02.020\nIt's nice that we get that option.\n\n553\n00:27:02.020 --> 00:27:04.430\n&gt;&gt; And not only like you mentioned for\nauditing purpose but\n\n554\n00:27:04.430 --> 00:27:06.550\njust putting it in like\na change management log and\n\n555\n00:27:06.550 --> 00:27:10.550\nkeeping it there for the rest of your\nstaff in the IT department, too.\n\n556\n00:27:10.550 --> 00:27:11.182\n&gt;&gt; Forever.\n\n557\n00:27:11.182 --> 00:27:12.400\n&gt;&gt; Forever [LAUGH].\n\n558\n00:27:12.400 --> 00:27:14.920\n&gt;&gt; Be there forever,\nit's never gonna go away.\n\n559\n00:27:14.920 --> 00:27:16.770\nAbsolutely, be really important.\n\n560\n00:27:16.770 --> 00:27:19.690\nSo if we wanted to change one these\nthings, just hypothetically click Change.\n\n561\n00:27:19.690 --> 00:27:23.130\nAnd you'll see that we can go in and\nwe can specify or\n\n562\n00:27:23.130 --> 00:27:24.600\nmake any changes here that we want.\n\n563\n00:27:24.600 --> 00:27:28.280\nYou could see just based on the particular\nscreen I chose, I may have one or\n\n564\n00:27:28.280 --> 00:27:30.380\nmore options that I\nwould have to go in and\n\n565\n00:27:30.380 --> 00:27:34.005\nmodify and I just make the appropriate\nchoices and do I wanna do.\n\n566\n00:27:34.005 --> 00:27:37.410\nSo you could see that I can certainly do\nthat, let's just cancel out of there.\n\n567\n00:27:37.410 --> 00:27:40.220\nIf I wanted to edit those\nsettings I could do it that way.\n\n568\n00:27:40.220 --> 00:27:42.930\nLet's just take a look at what\nthe wizard looks like if you run it with\n\n569\n00:27:42.930 --> 00:27:46.810\nmore advanced options where you have\nto go through and essentially choose or\n\n570\n00:27:46.810 --> 00:27:49.990\nmake these choices on your own and\ndo a manual deployment.\n\n571\n00:27:49.990 --> 00:27:54.520\nSo, again, the wizard looks the same in\nthe beginning, really no different there,\n\n572\n00:27:54.520 --> 00:27:56.730\nbut you're gonna see there is\ndifference once we get into this.\n\n573\n00:27:56.730 --> 00:28:00.666\nSo we'll click here, and\ndo our prereq check and\n\n574\n00:28:00.666 --> 00:28:05.274\ninstead of giving it that\nnice little wizard interface.\n\n575\n00:28:05.274 --> 00:28:08.482\nCould you go fullscreen for me here,\nI can't really resize that one yet,\n\n576\n00:28:08.482 --> 00:28:10.940\nso it's hard to see,\nI can't move this window around.\n\n577\n00:28:10.940 --> 00:28:12.450\nIt's kind of stuck there.\n\n578\n00:28:12.450 --> 00:28:15.890\nBut instead of having the wizard\ninterface, where I just have a screen,\n\n579\n00:28:15.890 --> 00:28:20.600\nyou'll notice I have to configure by\nclicking on these different areas.\n\n580\n00:28:20.600 --> 00:28:24.238\nAnd I have to start configuring one\nstep at a time, and once I do this part,\n\n581\n00:28:24.238 --> 00:28:27.783\nI then get access to this, and\nnotice it's grayed out in the meantime.\n\n582\n00:28:27.783 --> 00:28:32.385\nAnd I have to go through and I have to\nconfigure each area in sequence in order\n\n583\n00:28:32.385 --> 00:28:37.280\nto build out all that information that\nthe templated deployment, the standard\n\n584\n00:28:37.280 --> 00:28:42.900\ndeployment with the wizard, will already\nhave available and/or provide for me.\n\n585\n00:28:42.900 --> 00:28:45.400\nSo you'll see that it\ndoes walk me through and\n\n586\n00:28:45.400 --> 00:28:47.530\ndoes give me the option to do all this.\n\n587\n00:28:49.390 --> 00:28:51.900\nBut I have to go through and\nI have to click in each area and\n\n588\n00:28:51.900 --> 00:28:55.540\nthen I have wizard driven steps that\nI'm gonna have to obviously deploy.\n\n589\n00:28:55.540 --> 00:28:59.780\nSo it's almost like a Visio kinda diagram,\nit's integrated but\n\n590\n00:28:59.780 --> 00:29:02.550\nthen you gotta go through the steps,\nthe wizards that are attached to it.\n\n591\n00:29:02.550 --> 00:29:04.880\nSo it kind of an interesting\nway of doing the deployment.\n\n592\n00:29:04.880 --> 00:29:06.370\nPretty cool, right.\n\n593\n00:29:06.370 --> 00:29:09.260\nSo select a deployment scenario,\ndeploy full direct access for\n\n594\n00:29:09.260 --> 00:29:13.540\nclient with remote management, deploy\ndirect access for remote management only.\n\n595\n00:29:13.540 --> 00:29:15.420\nSo we have to make some choices here.\n\n596\n00:29:15.420 --> 00:29:20.010\nIt says here you can manage remotely\ndirect access client computers located on\n\n597\n00:29:20.010 --> 00:29:22.330\nthe internet with this option selected.\n\n598\n00:29:22.330 --> 00:29:25.930\nDirect access is not deployed for\nclient access to the internal network.\n\n599\n00:29:25.930 --> 00:29:28.260\nRemember we said we could\nuse it both internally and\n\n600\n00:29:28.260 --> 00:29:31.190\nexternally, it's a question of\nhow we choose to configure.\n\n601\n00:29:31.190 --> 00:29:35.265\nSo depending on the choices you make in\nthe more advanced setup, we could say,\n\n602\n00:29:35.265 --> 00:29:38.804\nwe're only using direct access for\ninbound connections outside.\n\n603\n00:29:38.804 --> 00:29:42.966\nJust remember based on network location,\nwe maybe inside and\n\n604\n00:29:42.966 --> 00:29:46.726\nwe can use direct access to\nconnect up inside on the LAN,\n\n605\n00:29:46.726 --> 00:29:50.664\nautomatically connect create\nout IPsec enabled tunnel.\n\n606\n00:29:50.664 --> 00:29:54.148\nAutomatically do the authentication\nto the LDAP directory so\n\n607\n00:29:54.148 --> 00:29:56.640\nessentually connect to Active Directory.\n\n608\n00:29:56.640 --> 00:29:58.350\nWe could do a lookup and\n\n609\n00:29:58.350 --> 00:30:02.550\nresolve the full qualified domain name for\na network location server, which we do.\n\n610\n00:30:02.550 --> 00:30:06.280\nIf we figure out that we're on\nthe inside as opposed to on the outside,\n\n611\n00:30:06.280 --> 00:30:10.210\nand we do that by looking at something we\ntalked about in one of the prior episodes.\n\n612\n00:30:10.210 --> 00:30:16.460\nRemember the NRPT, the network resolution\nor name resolution policy table.\n\n613\n00:30:16.460 --> 00:30:20.485\nWe made entries in there for the network\npolicies, so we use the NRPT function,\n\n614\n00:30:20.485 --> 00:30:23.720\nif the client does a lookup against it and\n\n615\n00:30:23.720 --> 00:30:29.450\nwe send our DNS queries out to either the\nlocal DNS server based on where we are,\n\n616\n00:30:29.450 --> 00:30:32.710\nan intranet based DNS server\nif we're on the inside.\n\n617\n00:30:32.710 --> 00:30:35.580\nAnd the intranet based DNS\nserver resolves the information,\n\n618\n00:30:35.580 --> 00:30:38.850\nsays, yeah, you're on the inside and\ntells us how we're connecting and\n\n619\n00:30:38.850 --> 00:30:41.030\nwhether we're using direct access or not.\n\n620\n00:30:41.030 --> 00:30:45.160\nIf we are inside and has been deployed,\nwe would use direct access for\n\n621\n00:30:45.160 --> 00:30:47.550\naccessing certain resources automatically.\n\n622\n00:30:47.550 --> 00:30:51.140\nIf it's not, we just access normally,\nif we're on the outside, and\n\n623\n00:30:51.140 --> 00:30:52.670\nwe connect up, we try to figure this out.\n\n624\n00:30:52.670 --> 00:30:55.220\nIt says, you're on the outside,\nand it throws you into or\n\n625\n00:30:55.220 --> 00:30:57.470\nthrows you over to\nthe direct access server.\n\n626\n00:30:57.470 --> 00:31:02.180\nSo we wanna keep in mind that this is\njust part of the overall thought process.\n\n627\n00:31:02.180 --> 00:31:05.640\nBut we could potentially see\nthis being deployed either way.\n\n628\n00:31:05.640 --> 00:31:06.970\nIf we're on the outside,\n\n629\n00:31:06.970 --> 00:31:10.010\nwe try to resolve the FQDN under\nthe network location server URL.\n\n630\n00:31:10.010 --> 00:31:12.480\nWe provide that,\nthat's part of what we're doing.\n\n631\n00:31:12.480 --> 00:31:15.265\nAnd the FQDN then says by the way,\nyou're outside, so\n\n632\n00:31:15.265 --> 00:31:17.570\nyou're outside of where\nyou would normally be.\n\n633\n00:31:17.570 --> 00:31:19.740\nYou're on the outside,\nyou've gotta come in.\n\n634\n00:31:19.740 --> 00:31:22.590\nWe don't send the DNS query\nlocally to do all of that and\n\n635\n00:31:22.590 --> 00:31:26.850\nfigure that out, cuz we're on the outside,\nwe use externally based internet DNS.\n\n636\n00:31:26.850 --> 00:31:30.190\nAnd we're gonna then resolve and say you\nneed to go to wherever you go to connect\n\n637\n00:31:30.190 --> 00:31:32.738\nin and direct access is creating\nthe connection at that point.\n\n638\n00:31:32.738 --> 00:31:35.653\nWe process that resolution request,\nwe examine and\n\n639\n00:31:35.653 --> 00:31:38.909\nlook at whatever rules are available for\nus to be bound by.\n\n640\n00:31:38.909 --> 00:31:43.224\nAnd ultimately, cuz we're not on the same\nnetwork as the direct access server.\n\n641\n00:31:43.224 --> 00:31:47.844\nThe network location server and us, we're\non different systems cuz we're outside\n\n642\n00:31:47.844 --> 00:31:51.292\nbehind, or in theory outside of\nthe firewall wherever we are,\n\n643\n00:31:51.292 --> 00:31:53.790\ncuz we don't see it on the same network.\n\n644\n00:31:53.790 --> 00:31:56.460\nWe apply, or we look at the public or\n\n645\n00:31:56.460 --> 00:32:00.470\nprivate firewall network profile, whatever\nwe have running on the local client.\n\n646\n00:32:00.470 --> 00:32:03.886\nAnd as a result of that, we setup our\nsecurity tunnel for direct access,\n\n647\n00:32:03.886 --> 00:32:06.413\nbased on whatever rules we follow,\nand we tunnel in.\n\n648\n00:32:06.413 --> 00:32:13.218\nWe essentially create our tunnel, either\nIP, HTTPS-based tunnel, Teredo, 6to4.\n\n649\n00:32:13.218 --> 00:32:15.648\nWhatever our tunneling\nsolution will be to get in, or\n\n650\n00:32:15.648 --> 00:32:18.895\nour connectivity solution will be,\nbased on IPv6.\n\n651\n00:32:18.895 --> 00:32:22.064\nOr IPv4 use, and\nthat's how we are able to connect in.\n\n652\n00:32:22.064 --> 00:32:25.431\nSo this is what we're doing, and we're\ndeciding how we're gonna deploy that,\n\n653\n00:32:25.431 --> 00:32:26.580\nby starting this process.\n\n654\n00:32:26.580 --> 00:32:28.320\nSo, we make some choices here, right?\n\n655\n00:32:28.320 --> 00:32:31.795\nWe specify, what we're gonna do,\nwhatever we would do here.\n\n656\n00:32:31.795 --> 00:32:34.160\nWe would then specify one or\nmore security groups,\n\n657\n00:32:34.160 --> 00:32:36.200\nthe client computers would be enabled for.\n\n658\n00:32:36.200 --> 00:32:39.090\nWe'd have to add them in here,\nso we would go in and Add.\n\n659\n00:32:39.090 --> 00:32:41.870\nAnd you've seen me do this,\nwhere we set up the network policy server.\n\n660\n00:32:41.870 --> 00:32:46.414\nWe had to add Groups in so\nwe could go in, Check for\n\n661\n00:32:46.414 --> 00:32:50.940\na group, we can use the global IT group or\nwhatever it may be.\n\n662\n00:32:50.940 --> 00:32:54.890\nAnd we would specify a group and\ndifferent groups in there if we wanted to.\n\n663\n00:32:54.890 --> 00:32:57.680\nEnable direct access for\nmobile computers only.\n\n664\n00:32:57.680 --> 00:33:01.290\nSo we can go in and specify that,\nthis is gonna be set up.\n\n665\n00:33:01.290 --> 00:33:02.980\nJust move this over.\n\n666\n00:33:02.980 --> 00:33:05.756\nThat this is gonna be set\nup as you can see here, for\n\n667\n00:33:05.756 --> 00:33:09.414\nthe specified security groups and\nset up direct access for them.\n\n668\n00:33:09.414 --> 00:33:11.602\nForced tunneling could\nbe used here as well.\n\n669\n00:33:11.602 --> 00:33:15.722\nThis connects us to the Internet or\nvia the intranet using the RAS server so\n\n670\n00:33:15.722 --> 00:33:16.922\nwe force the tunnel.\n\n671\n00:33:16.922 --> 00:33:21.003\nEven if you're on the inside, gonna force\nyou to use a secure tunnel, we do that.\n\n672\n00:33:21.003 --> 00:33:23.743\nSo we can make choices here.\n\n673\n00:33:23.743 --> 00:33:25.952\nCheck off one or more of those.\n\n674\n00:33:25.952 --> 00:33:30.651\nSpecify as you can see here, the resource\nand the type, the help desk email address,\n\n675\n00:33:30.651 --> 00:33:35.040\nthe direct access connection name, and\nallow us to use local name resolution.\n\n676\n00:33:35.040 --> 00:33:39.001\nThis is where we run and\nspecify all the connectivity information.\n\n677\n00:33:39.001 --> 00:33:41.948\nResources that validate connectivity\nto the internal network, so\n\n678\n00:33:41.948 --> 00:33:43.298\nwhat are we gonna put in there?\n\n679\n00:33:43.298 --> 00:33:44.732\nWe'd have to go and program all this.\n\n680\n00:33:44.732 --> 00:33:48.301\nNow remember, if we do it the other way\nand we run it through the wizard that it's\n\n681\n00:33:48.301 --> 00:33:51.783\nalready got it set up for us with the\ntemplates, all this was provided for us.\n\n682\n00:33:51.783 --> 00:33:55.864\nAnd we would have to have all this\ninformation to be able to specify how to\n\n683\n00:33:55.864 --> 00:33:58.117\ngo through, and make the connection.\n\n684\n00:33:58.117 --> 00:34:01.891\nAs we go through and set this up,\nstage by stage, we go through, and\n\n685\n00:34:01.891 --> 00:34:04.558\nwe start configuring all\nthe different areas.\n\n686\n00:34:04.558 --> 00:34:07.006\nAnd once we're done,\nwe ultimately stand up, and get or\n\n687\n00:34:07.006 --> 00:34:08.800\ndirect access solution deployed.\n\n688\n00:34:08.800 --> 00:34:10.720\nSo, it's a question of,\nhow you choose to do this?\n\n689\n00:34:10.720 --> 00:34:11.893\nThere's no right and wrong.\n\n690\n00:34:11.893 --> 00:34:15.572\nBut, unless you're gonna specify\nall of these settings and\n\n691\n00:34:15.572 --> 00:34:20.261\nhave them all setup ahead of time, and\nknow what they are, it may be easier for\n\n692\n00:34:20.261 --> 00:34:22.880\nyou to run the kind of\nquick deploy wizard.\n\n693\n00:34:22.880 --> 00:34:26.536\nAnd then go through after the fact, and\nedit out some of the changes once you have\n\n694\n00:34:26.536 --> 00:34:28.730\nthem stood up,\nif that makes more sense to you.\n\n695\n00:34:28.730 --> 00:34:30.989\nSo if we just get out of here for\na second.\n\n696\n00:34:32.030 --> 00:34:34.696\nAnd what we do is,\nwe just go back in here.\n\n697\n00:34:39.247 --> 00:34:42.480\nAnd let me just relaunch\nRemote Access console.\n\n698\n00:34:42.480 --> 00:34:45.222\nI just can't get to the window to\nclose it when I run that other wizard,\n\n699\n00:34:45.222 --> 00:34:47.327\nbecause there's no way to\nmove around inside the VM.\n\n700\n00:34:47.327 --> 00:34:49.520\nThat's why you see me close out of it and\ngo back in.\n\n701\n00:34:49.520 --> 00:34:51.061\nI can't see the control to close it,\n\n702\n00:34:51.061 --> 00:34:53.864\nit just doesn't let me I get to it\nbecause of the size of the window.\n\n703\n00:34:53.864 --> 00:34:56.260\nThat's why I had to close it out and\njust open it back up again.\n\n704\n00:34:56.260 --> 00:35:01.650\nSo if we do this real quick, we deploy\nthis, just to now finish the process,\n\n705\n00:35:01.650 --> 00:35:05.420\nnow that I got to show you what the more\nadvanced wizard looks like, just so\n\n706\n00:35:05.420 --> 00:35:08.230\nyou could see what it\nultimately stands up as.\n\n707\n00:35:08.230 --> 00:35:12.390\nSo let me just do this, dot,\ndot, dot, dot, dot, and\n\n708\n00:35:12.390 --> 00:35:15.600\ndo that, I'll just get that there.\n\n709\n00:35:15.600 --> 00:35:17.510\nLet's just click Finish.\n\n710\n00:35:17.510 --> 00:35:19.210\nYou'll see now setting up.\n\n711\n00:35:19.210 --> 00:35:21.410\nIf you take a look,\nit's configuring DNS entries.\n\n712\n00:35:21.410 --> 00:35:23.293\nIt's walking through,\nit's doing everything just so\n\n713\n00:35:23.293 --> 00:35:24.984\nyou could see the deployment\nactually finalize.\n\n714\n00:35:24.984 --> 00:35:26.340\nWe'll give that just a minute.\n\n715\n00:35:26.340 --> 00:35:27.770\nIt's gonna do its thing.\n\n716\n00:35:27.770 --> 00:35:32.660\nOnce it's all done, we can actually\nthen to into the RAS server, and\n\n717\n00:35:32.660 --> 00:35:34.080\nwe could see that it's been configured.\n\n718\n00:35:34.080 --> 00:35:35.300\nAnd we'll go in and\nwe'll take a look at that.\n\n719\n00:35:35.300 --> 00:35:38.064\nThere's the web probe for\nDNS that we were just talking about.\n\n720\n00:35:38.064 --> 00:35:40.730\nIt's setting the group policies,\nit was just doing that.\n\n721\n00:35:40.730 --> 00:35:42.980\nBut you'll see it walks through and\nit does everything for us, so\n\n722\n00:35:42.980 --> 00:35:46.210\nall of this is essentially what's been\ndone based on the choices we made,\n\n723\n00:35:46.210 --> 00:35:49.500\nupdating client policies, the policies\nare being created and updated.\n\n724\n00:35:49.500 --> 00:35:51.860\nThe deployment state is being checked.\n\n725\n00:35:51.860 --> 00:35:54.580\nRight, we're making sure that all\nthe policies are ready to be applied.\n\n726\n00:35:54.580 --> 00:35:57.049\nUpdating VPN authentication\naddress assignments,\n\n727\n00:35:57.049 --> 00:35:59.362\nstarting the Remote Access\nManagement Service.\n\n728\n00:35:59.362 --> 00:36:03.771\nSo it's spinning up the Remote Access\nManagement console services and\n\n729\n00:36:03.771 --> 00:36:05.396\nthe RRAS configuration.\n\n730\n00:36:05.396 --> 00:36:08.216\nSo it's walking through and\ndoing everything for us and\n\n731\n00:36:08.216 --> 00:36:12.116\nmaking sure that everything is going\nto be finalized, before it finishes and\n\n732\n00:36:12.116 --> 00:36:14.162\ngives us control to go in and take a look.\n\n733\n00:36:14.162 --> 00:36:16.067\nSo we'll wait another moment for this.\n\n734\n00:36:16.067 --> 00:36:20.142\nRemember you did say, or\nI did say, I should say that.\n\n735\n00:36:20.142 --> 00:36:22.460\nAnd that happen sometimes,\nwhen we're using the remote console.\n\n736\n00:36:22.460 --> 00:36:26.860\nNot because of what our RRAS is doing,\nthat's just a drop on a connection for\n\n737\n00:36:26.860 --> 00:36:27.530\nme with the VM.\n\n738\n00:36:27.530 --> 00:36:30.500\nSo we'll just open up another window and\nreconnect, no big deal.\n\n739\n00:36:30.500 --> 00:36:33.240\nRemember, we're just remoting into\na VM that we're running with.\n\n740\n00:36:33.240 --> 00:36:34.780\nSo that does happen on occasion.\n\n741\n00:36:34.780 --> 00:36:37.830\nGood excuse for me to extend the timer\nout real quick, and go back in.\n\n742\n00:36:37.830 --> 00:36:40.770\nSo give me just a second, we'll just\nreconnect while we're waiting on that.\n\n743\n00:36:40.770 --> 00:36:43.480\nGood news is, I was gonna say, when\nit's running in the cloud like that, and\n\n744\n00:36:43.480 --> 00:36:44.450\nthat's all running.\n\n745\n00:36:44.450 --> 00:36:48.096\nThe system's actually running, and we're\nnot, just because we lose our console\n\n746\n00:36:48.096 --> 00:36:51.393\nconnectivity doesn't mean that it's\nnot doing stuff behind the scenes.\n\n747\n00:36:51.393 --> 00:36:53.190\nThe power of the cloud, right?\n\n748\n00:36:53.190 --> 00:36:55.590\nSo you could see it actually\nis finished right there.\n\n749\n00:36:55.590 --> 00:36:57.033\nSo it's almost like a little cut away,\n\n750\n00:36:57.033 --> 00:36:59.322\nexcept we did it to ourselves\ninstead of having it done for us.\n\n751\n00:36:59.322 --> 00:36:59.871\n&gt;&gt; Perfect timing.\n\n752\n00:36:59.871 --> 00:37:02.420\n&gt;&gt; So the configuration was applied\nsuccessfully, you could see there,\n\n753\n00:37:02.420 --> 00:37:03.250\nso no problem.\n\n754\n00:37:03.250 --> 00:37:04.981\nWe'll go ahead and we'll just click Close.\n\n755\n00:37:04.981 --> 00:37:08.729\nAnd you'll see now,\nthat we have this up and running,\n\n756\n00:37:08.729 --> 00:37:14.351\nwe've got our dashboard in here, so we can\nsee that we have our operation status,\n\n757\n00:37:14.351 --> 00:37:19.180\nour configuration status,\ndirect access and VPN client status.\n\n758\n00:37:19.180 --> 00:37:22.245\nRight now, we don't have any client,\nso clearly there's nothing going on.\n\n759\n00:37:22.245 --> 00:37:25.350\nBut you see, we can monitor,\nwe can see what's going on there.\n\n760\n00:37:26.600 --> 00:37:29.660\nThe operation information can be seen.\n\n761\n00:37:29.660 --> 00:37:32.720\nRemote client status,\nif we had any coming in could be seen.\n\n762\n00:37:32.720 --> 00:37:35.180\nWe have some basic reporting\nthat's available to us.\n\n763\n00:37:35.180 --> 00:37:37.840\nWe have to configure account and\nreporting on the Radius side,\n\n764\n00:37:37.840 --> 00:37:39.172\nbut we would then be able to look at that.\n\n765\n00:37:39.172 --> 00:37:41.120\nWe talked about Radius,\nwe went through and\n\n766\n00:37:41.120 --> 00:37:43.420\nconfigured that in one of\nour prior walkthroughs.\n\n767\n00:37:43.420 --> 00:37:45.672\nSo you'll see that we\nhave that information,\n\n768\n00:37:45.672 --> 00:37:48.965\nand you'll see that we could edit\nthe remote client settings here,\n\n769\n00:37:48.965 --> 00:37:51.639\nand/or any of the other areas\nif we wanted to, right?\n\n770\n00:37:51.639 --> 00:37:54.680\nAnd you'll see that, let me just click\non Edit, any one of them is available.\n\n771\n00:37:54.680 --> 00:37:57.990\nLike I said, we could easily go in\nafter the fact and make changes,\n\n772\n00:37:57.990 --> 00:37:59.150\nthat was what I was suggesting, right?\n\n773\n00:37:59.150 --> 00:38:02.110\nIt may actually be easier for\nyou quite honestly,\n\n774\n00:38:02.110 --> 00:38:05.370\nunless you have all this information at\nyour fingertips, you understand it all.\n\n775\n00:38:05.370 --> 00:38:07.354\nYou know everything that\nyou're gonna be doing.\n\n776\n00:38:07.354 --> 00:38:10.788\nIt may be easier to set the initial\nconfiguration of using that quick\n\n777\n00:38:10.788 --> 00:38:11.641\ndeploy wizard.\n\n778\n00:38:11.641 --> 00:38:15.254\nAnd then go in and start hacking away at\nthese areas, and changing them as you\n\n779\n00:38:15.254 --> 00:38:18.510\nfigure out exactly what you wanna do,\nand how you want it done.\n\n780\n00:38:18.510 --> 00:38:20.370\nCuz you could see it's\nalready pre-configured.\n\n781\n00:38:20.370 --> 00:38:21.170\nNow you just go in and\n\n782\n00:38:21.170 --> 00:38:24.260\nedit the appropriate micro-area\nto set those settings up.\n\n783\n00:38:24.260 --> 00:38:25.730\nYou're able to make changes as you go.\n\n784\n00:38:25.730 --> 00:38:28.390\nBut you're not having to\nworry about managing 5, 10,\n\n785\n00:38:28.390 --> 00:38:33.290\n15 distinct pieces of information across\nfour infrastructure areas that you may or\n\n786\n00:38:33.290 --> 00:38:36.710\nmay not understand and have completely\nconfigured in real time, right?\n\n787\n00:38:36.710 --> 00:38:38.758\nThat's the only reason\nI'm mentioning that.\n\n788\n00:38:38.758 --> 00:38:42.960\nBut you could see here tasks, remote\naccess, remote connectivity settings,\n\n789\n00:38:42.960 --> 00:38:47.630\nadd an application server,\nview the summary, reload the config,\n\n790\n00:38:47.630 --> 00:38:50.975\nopen the RRAS manager, launch the policy.\n\n791\n00:38:50.975 --> 00:38:52.710\n[INAUDIBLE] policy server right from here.\n\n792\n00:38:52.710 --> 00:38:54.180\nAll those things are in this console.\n\n793\n00:38:54.180 --> 00:38:55.530\nThis console is pretty cool.\n\n794\n00:38:55.530 --> 00:38:59.164\nOnce you get it stood up and running,\ncuz again, it gives you that all in one\n\n795\n00:38:59.164 --> 00:39:02.511\ncapability to manage all the different\naspects of remote routing and\n\n796\n00:39:02.511 --> 00:39:04.723\nremote access along\nwith the policy server.\n\n797\n00:39:04.723 --> 00:39:06.590\nWe could see it all right from here.\n\n798\n00:39:06.590 --> 00:39:10.040\nSo if I open RRAS management,\njust hypothetically, bring this up,\n\n799\n00:39:10.040 --> 00:39:12.510\nyou'll see our server is stood up and\nconfigured.\n\n800\n00:39:12.510 --> 00:39:14.612\nYou've seen that before.\n\n801\n00:39:14.612 --> 00:39:18.678\nAnd you'll see that we do have our\ncapabilities to do whatever we need to do\n\n802\n00:39:18.678 --> 00:39:19.671\nright from here.\n\n803\n00:39:19.671 --> 00:39:23.700\nWe can go in and edit, modify, manage,\nbut it just launches the console for us.\n\n804\n00:39:23.700 --> 00:39:25.101\nSo this is the missing console.\n\n805\n00:39:25.101 --> 00:39:25.690\n&gt;&gt; One-stop shop?\n\n806\n00:39:25.690 --> 00:39:28.728\n&gt;&gt; Right, the one-stop shop, the other\npiece that we haven't alluded to or\n\n807\n00:39:28.728 --> 00:39:30.898\nreally shown you until now,\nbut this is where you go,\n\n808\n00:39:30.898 --> 00:39:32.700\nthis is where you configure direct access.\n\n809\n00:39:32.700 --> 00:39:34.080\nThis is how you stand it up, and\n\n810\n00:39:34.080 --> 00:39:36.390\nthis is ultimately where\nyou would go to manage it.\n\n811\n00:39:36.390 --> 00:39:37.125\n&gt;&gt; Pretty cool stuff, Adam.\n\n812\n00:39:37.125 --> 00:39:38.210\n[LAUGH]\n&gt;&gt; I know, I tried to work\n\n813\n00:39:38.210 --> 00:39:38.810\nhard on that thing.\n\n814\n00:39:38.810 --> 00:39:39.627\nYou were so excited when I-\n&gt;&gt; I know.\n\n815\n00:39:39.627 --> 00:39:40.832\n&gt;&gt; [CROSSTALK] you were gonna\n[INAUDIBLE] DirectAccess.\n\n816\n00:39:40.832 --> 00:39:41.966\n&gt;&gt; [LAUGH]\n&gt;&gt; And you were like, wow,\n\n817\n00:39:41.966 --> 00:39:43.347\nI didn't see that before,\nit's gonna be so cool.\n\n818\n00:39:43.347 --> 00:39:45.565\n&gt;&gt; Now, I know we took a little\nbit extra time in this episode, so\n\n819\n00:39:45.565 --> 00:39:47.829\nwe could get through everything,\nbut are we gonna come back and\n\n820\n00:39:47.829 --> 00:39:50.450\ntalk about DirectAccess more,\nor you think that's about it?\n\n821\n00:39:50.450 --> 00:39:52.390\n&gt;&gt; No,\nI think that's directed DirectAccess.\n\n822\n00:39:52.390 --> 00:39:54.523\n&gt;&gt; Directly,\ndirectly covered over it, all right.\n\n823\n00:39:54.523 --> 00:39:55.073\n[LAUGH]\n&gt;&gt; I think we've\n\n824\n00:39:55.073 --> 00:39:55.623\ndirectly covered DirectAccess.\n\n825\n00:39:55.623 --> 00:39:59.772\nSo to be clear, though, and to be fair,\nthere is some additional information you\n\n826\n00:39:59.772 --> 00:40:02.290\nmay just wanna take a look\nat in the show notes.\n\n827\n00:40:02.290 --> 00:40:06.149\nWe just detailed out a lot of the steps\nthat we're showing you in the wizard,\n\n828\n00:40:06.149 --> 00:40:08.155\nkind of what Cherokee was alluding to.\n\n829\n00:40:08.155 --> 00:40:11.002\nInstead of going through each step and\neach wizard, and saying,\n\n830\n00:40:11.002 --> 00:40:14.053\nhey, let's put all this stuff in here,\nwe just did the quick config,\n\n831\n00:40:14.053 --> 00:40:16.950\nshowed you the screens,\ngave you an idea of what was there.\n\n832\n00:40:16.950 --> 00:40:20.410\nBut I did lay out as I told you,\nas we were walking through, the steps for\n\n833\n00:40:20.410 --> 00:40:21.460\neach one of those areas.\n\n834\n00:40:21.460 --> 00:40:23.042\nAnd I told you what the settings would be.\n\n835\n00:40:23.042 --> 00:40:25.655\nSo, as I was trying to give\nyou that detailed information,\n\n836\n00:40:25.655 --> 00:40:28.804\nso you could certainly drill down\na little bit more on those show notes.\n\n837\n00:40:28.804 --> 00:40:30.617\nJust read up a little bit\nmore about each area, so\n\n838\n00:40:30.617 --> 00:40:33.480\nyou have a better understanding of\nthe kind of things that go on there.\n\n839\n00:40:33.480 --> 00:40:34.350\nBut all the knowledge,\n\n840\n00:40:34.350 --> 00:40:37.320\nall the detail you need is certainly\ngonna be available for you right there.\n\n841\n00:40:37.320 --> 00:40:38.610\n&gt;&gt; Well, thank you so much for that, Adam.\n\n842\n00:40:38.610 --> 00:40:40.620\nAnd thank you for joining us today.\n\n843\n00:40:40.620 --> 00:40:42.440\nBut for this show,\nwe're gonna go ahead and sign out.\n\n844\n00:40:42.440 --> 00:40:44.640\nRemember, I'm your host, Cherokee Boose.\n\n845\n00:40:44.640 --> 00:40:45.240\n&gt;&gt; I'm Adam Gordon.\n\n846\n00:40:45.240 --> 00:40:48.814\n&gt;&gt; See you next time here at ITProTV.\n\n847\n00:40:50.782 --> 00:40:54.014\n[MUSIC]\n\n848\n00:40:54.014 --> 00:40:57.464\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217834355"
        }
      ],
      "title": "Implementing DirectAccess"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam explain Virtual Private Networks. Adam explains the two deployment methods Windows Server 2016 supports, remote access and site-to-site. They also look at other configuration options such as on-demand connections versus persistent connections. Adam also explain the various protocols available for use to establish the tunnels.",
          "length": "1424",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-8-1-1-implementing_vpns-051317-PGM.00_00_11_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-8-1-1-implementing_vpns-051317-PGM.00_00_11_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-8-1-1-implementing_vpns-051317-PGM.00_00_11_22.Still001-sm.jpg",
          "title": "Implementing VPNs",
          "transcript": "WEBVTT\n\n1\n00:00:00.270 --> 00:00:01.509\nWelcome to ITPRO.TV.\n\n2\n00:00:01.509 --> 00:00:06.021\nI'm your host\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.021 --> 00:00:08.303\n&gt;&gt; [MUSIC]\n\n4\n00:00:08.303 --> 00:00:13.272\nYou're watching ITPRO.TV\n&gt;&gt; Welcome to networking\n\n5\n00:00:13.272 --> 00:00:15.194\nWindows Server 2016 series.\n\n6\n00:00:15.194 --> 00:00:17.510\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.510 --> 00:00:20.460\nIn this episode we're taking\na look at VPNs you may or\n\n8\n00:00:20.460 --> 00:00:23.290\nmay not have heard about them but\nI'm sure that Adam Gordon will bring\n\n9\n00:00:23.290 --> 00:00:27.340\nsomething interesting to the table in this\nparticular episode, so let's go ahead and\n\n10\n00:00:27.340 --> 00:00:29.530\nwelcome Adam, thank you for\njoining us today.\n\n11\n00:00:29.530 --> 00:00:31.450\n&gt;&gt; Thank you,\nalways a pleasure to be here with you, so\n\n12\n00:00:31.450 --> 00:00:34.230\nwe're gonna talk a little bit more\nabout remote access if you haven't seen\n\n13\n00:00:34.230 --> 00:00:36.060\nthe prior episodes we've\nbeen going through.\n\n14\n00:00:36.060 --> 00:00:39.660\nTalked extensively about RRS,\ntalked about how to set it up.\n\n15\n00:00:39.660 --> 00:00:42.900\nTook a look at NET,\ntook a look at the Network Policy Server.\n\n16\n00:00:42.900 --> 00:00:45.800\nTalked about DirectAccess,\neven mentioned VPN Reconnect.\n\n17\n00:00:45.800 --> 00:00:48.480\nAnd just talked about the concepts there.\n\n18\n00:00:48.480 --> 00:00:51.360\nBut we're gonna round out\nthat whole body of knowledge\n\n19\n00:00:51.360 --> 00:00:54.800\naround how we deal with remote\naccess by talking about one of\n\n20\n00:00:54.800 --> 00:00:57.060\nthe most important elements of\nwhat these remote access for,\n\n21\n00:00:57.060 --> 00:01:01.810\nwhich is the VPN, right, how we deal with\nand set up virtual private networks.\n\n22\n00:01:01.810 --> 00:01:06.170\nWe've actually, in a set of prior episodes\naround general topics and remote access,\n\n23\n00:01:06.170 --> 00:01:10.590\nwalked you through a couple of\ndifferent setups for using the VPN.\n\n24\n00:01:10.590 --> 00:01:13.290\nI actually showed you how\nto set up the RRS Server\n\n25\n00:01:13.290 --> 00:01:15.940\njust as a software-based\nrouter doing LAN routing.\n\n26\n00:01:15.940 --> 00:01:17.730\nDoing a custom configuration.\n\n27\n00:01:17.730 --> 00:01:21.480\nWe also walk through as part of\nthe network policy server overview and\n\n28\n00:01:21.480 --> 00:01:25.660\ndemo, when we setup and take a look\nat that the entire thought process.\n\n29\n00:01:25.660 --> 00:01:29.860\nWe actually setup and configure our\nRRS as a VPN server dial up VPN.\n\n30\n00:01:29.860 --> 00:01:32.680\nWe walk you through\nthe configuration wizard.\n\n31\n00:01:32.680 --> 00:01:35.120\nShowed you how to enable\nthe VPN functionality.\n\n32\n00:01:35.120 --> 00:01:38.990\nWe actually walk through the process end\nto end, of setting it up managing within\n\n33\n00:01:38.990 --> 00:01:42.780\nour policy server and then demoing\nthe fact that we could connect through and\n\n34\n00:01:42.780 --> 00:01:45.145\nactually saw the VPN technology working.\n\n35\n00:01:45.145 --> 00:01:48.010\nSo that's we've been through all that,\nshowed all that already,\n\n36\n00:01:48.010 --> 00:01:51.630\nwe're gonna have some interesting demos\nand walk throughs around this topic,\n\n37\n00:01:51.630 --> 00:01:54.160\nSeparate from that coming\nup in some future episodes.\n\n38\n00:01:54.160 --> 00:02:00.140\nWe'll take a look at SSTP and setting up\na VPN connection or a client using SSTP.\n\n39\n00:02:00.140 --> 00:02:03.630\nUsing some certificates to drive that,\nsecure socket tunneling\n\n40\n00:02:03.630 --> 00:02:06.880\nis one of the ways, one of\nthe protocols we can use to enable VPN.\n\n41\n00:02:06.880 --> 00:02:10.170\nSo we've taken a look of that already,\nbut we're gonna through and\n\n42\n00:02:10.170 --> 00:02:12.780\njust backfill some of that knowledge.\n\n43\n00:02:12.780 --> 00:02:17.170\nMake sure we understand the logic if you\nwill, the thought process and the nuts and\n\n44\n00:02:17.170 --> 00:02:20.170\nbolts of VPNing, if we could say that,\nif that's a word.\n\n45\n00:02:20.170 --> 00:02:20.950\nIt's kind of like Googling.\n\n46\n00:02:20.950 --> 00:02:21.570\n&gt;&gt; Sure, yeah.\n\n47\n00:02:21.570 --> 00:02:25.980\n&gt;&gt; It's never in the vocabulary until that\nbecame something else, but it does now.\n\n48\n00:02:25.980 --> 00:02:27.770\nCuz my mother reminds me\nabout that sometimes.\n\n49\n00:02:27.770 --> 00:02:31.745\nShe's like, I could Google that but\nyou couldn't Google when I was young.\n\n50\n00:02:31.745 --> 00:02:32.900\n&gt;&gt; [LAUGH]\n&gt;&gt; No, mom, you couldn't,\n\n51\n00:02:32.900 --> 00:02:34.630\nthat's absolutely right.\n\n52\n00:02:34.630 --> 00:02:37.090\nAll right, so,\nlet's talk a little bit about VPNs.\n\n53\n00:02:37.090 --> 00:02:38.931\nSo, Cherokee,\nmaybe you could help me out with this.\n\n54\n00:02:38.931 --> 00:02:41.785\nSo when we think about VPNs,\nright, and we talk about, or\n\n55\n00:02:41.785 --> 00:02:45.520\nthink about the logic of virtual\nprivate network access, we're usually,\n\n56\n00:02:45.520 --> 00:02:48.202\nnot always again, but\nusually, more often than not,\n\n57\n00:02:48.202 --> 00:02:51.670\nwe're coming in remotely from\noutside of the organization, right?\n\n58\n00:02:51.670 --> 00:02:53.552\n&gt;&gt; Yes.\n&gt;&gt; So, probably working remotely.\n\n59\n00:02:53.552 --> 00:02:56.060\nWe wanna be able to connect in,\nconnect securely.\n\n60\n00:02:56.060 --> 00:03:00.590\nWe've talked about the importance of using\nencryption usually tunneling protocols\n\n61\n00:03:00.590 --> 00:03:04.830\nwith encryption to be able to create those\nsecure connections in one form or another.\n\n62\n00:03:04.830 --> 00:03:06.560\nSo we've talked about all that and\n\n63\n00:03:06.560 --> 00:03:10.530\nwe've talked about the fact that a lot\nof the times VPNs will be used for\n\n64\n00:03:10.530 --> 00:03:12.880\nessentially remote access,\ncoming in from outside right?\n\n65\n00:03:12.880 --> 00:03:13.984\nBut we also have mentioned,\n\n66\n00:03:13.984 --> 00:03:17.165\nI've mentioned a few episodes you've\nagreed with me when I've mentioned them.\n\n67\n00:03:17.165 --> 00:03:22.041\nThat we may also have a reason, a need to\nuse a VPN in a non-traditional sense when\n\n68\n00:03:22.041 --> 00:03:25.124\nmaybe we are on the inside of the LAN,\nin other words\n\n69\n00:03:25.124 --> 00:03:29.861\nwhere perhaps in our private network but\nwe wanna connect out to another site,\n\n70\n00:03:29.861 --> 00:03:32.990\na secure site that is\nalso part of our network.\n\n71\n00:03:32.990 --> 00:03:36.906\nWe wanna have dedicated connectivity and\nprobably a dedicated VPN tunnel,\n\n72\n00:03:36.906 --> 00:03:40.585\nsecure communication between this\nremote location and remote sites.\n\n73\n00:03:40.585 --> 00:03:43.110\nThat would be another usage profile for\nVPN.\n\n74\n00:03:43.110 --> 00:03:43.777\nThat makes sense.\n\n75\n00:03:43.777 --> 00:03:45.230\n&gt;&gt; Yeah, sure.\nDive in what youknow?\n\n76\n00:03:45.230 --> 00:03:49.020\n&gt;&gt; If you think about\n&gt;&gt; The options that you had prior\n\n77\n00:03:49.020 --> 00:03:51.820\nto really the advent of VPN usage.\n\n78\n00:03:51.820 --> 00:03:55.920\nWe will have what typically just\na dedicated lease line which could be\n\n79\n00:03:55.920 --> 00:03:59.750\nexpensive depending on the distance\nbetween those two sites.\n\n80\n00:03:59.750 --> 00:04:03.000\nSo you see lightweight even\nnowadays VPNs being utilized.\n\n81\n00:04:03.000 --> 00:04:05.670\nIt's not even as in base\nas if I had to install.\n\n82\n00:04:05.670 --> 00:04:09.650\nA particular program on one system but\nbetween those two sites and\n\n83\n00:04:09.650 --> 00:04:12.630\nonce you go ahead and\nset that up it's just a more\n\n84\n00:04:12.630 --> 00:04:16.960\nefficient way of having\nthat communication there.\n\n85\n00:04:16.960 --> 00:04:21.390\nIt doesn't always have to be on it can be\ncircuit based where I can go ahead and\n\n86\n00:04:21.390 --> 00:04:25.890\nbuild it up and\ntear it down as needed basis as well.\n\n87\n00:04:25.890 --> 00:04:28.690\nSo it's just, I don't know,\nI just see benefits in using it.\n\n88\n00:04:28.690 --> 00:04:32.280\nAnd I think a lot of other companies\ndo and that's why they do it.\n\n89\n00:04:32.280 --> 00:04:34.990\n&gt;&gt; They do, could be a permanent virtual\ncircuit or a switch virtual circuit on\n\n90\n00:04:34.990 --> 00:04:38.000\ndemand, in other words, as you were\nsuggesting, or permanently in place.\n\n91\n00:04:38.000 --> 00:04:42.170\nBut the idea would be that we support\ntwo different types of VPN connectivity\n\n92\n00:04:42.170 --> 00:04:44.710\nusing Server 16,\nthe two we were just describing.\n\n93\n00:04:44.710 --> 00:04:49.730\nWe formally would call the external in\nfrom outside, traditional VPN access,\n\n94\n00:04:49.730 --> 00:04:53.030\nRemote Access, that's the type\nof VPN we label it in Server 16.\n\n95\n00:04:53.030 --> 00:04:56.440\nWe also support,\nwhat Cherokee was just describing,\n\n96\n00:04:56.440 --> 00:05:00.840\nthe site-to-site VPN where we\nconnect between a remote offices or\n\n97\n00:05:00.840 --> 00:05:02.940\nwhatever you may be thinking\nof what we were describing.\n\n98\n00:05:02.940 --> 00:05:07.250\nEstablishing router connections between\nthese offices and organizations, we're\n\n99\n00:05:07.250 --> 00:05:11.170\ngoing over a public network traditionally\nmaintaining secure communications, but\n\n100\n00:05:11.170 --> 00:05:15.180\nas I was suggesting we may own those\ndedicated bandwidth lengths as well.\n\n101\n00:05:15.180 --> 00:05:17.560\nAnd you were saying maybe\na circuit of some kind.\n\n102\n00:05:17.560 --> 00:05:18.640\nMaybe it's a private or\n\n103\n00:05:18.640 --> 00:05:22.550\npermanent, maybe it's a permanent\ncircuit that is on a private network.\n\n104\n00:05:22.550 --> 00:05:25.960\nOr it's an on-demand kind of always on but\navailable when we turned it on and\n\n105\n00:05:25.960 --> 00:05:26.950\nneed to connect.\n\n106\n00:05:26.950 --> 00:05:28.170\nSo it's a different ways to do this.\n\n107\n00:05:28.170 --> 00:05:32.530\nA lot of companies will own dedicated\nlinks between those sites and\n\n108\n00:05:32.530 --> 00:05:35.130\nused them as dedicated pathways for\ncommunications.\n\n109\n00:05:35.130 --> 00:05:38.082\nThey technically do run\nover public networks, so\n\n110\n00:05:38.082 --> 00:05:42.860\nwe want just make that clearly, yes you\nstill are in theory connecting all public\n\n111\n00:05:42.860 --> 00:05:46.656\nnetwork because the ISP who's\nalways providing that network or\n\n112\n00:05:46.656 --> 00:05:51.575\nthat bandwidth for you is technically and\nusually going to be laying those pipes for\n\n113\n00:05:51.575 --> 00:05:54.272\nyou over public networks\nlike the Internet.\n\n114\n00:05:54.272 --> 00:05:56.130\nThey're just giving you\ndedicated circuits.\n\n115\n00:05:56.130 --> 00:05:58.960\nThey're provisioning out\nas part of the broader\n\n116\n00:05:58.960 --> 00:06:01.550\ncommunication pathways they manage and\nmaintain.\n\n117\n00:06:01.550 --> 00:06:05.000\nYou really almost with that exception over\nconnecting on totally private network,\n\n118\n00:06:05.000 --> 00:06:09.300\nwhen you go in between sites unless you\nown all that infrastructure, right.\n\n119\n00:06:09.300 --> 00:06:13.370\nSo if you set up the fiber between two\nbuildings and you own it, right, and\n\n120\n00:06:13.370 --> 00:06:17.160\nyou install it and have it built for you,\nyeah you've got dedicated pathways and\n\n121\n00:06:17.160 --> 00:06:19.830\nbandwidth connectivity\nbetween remote sites.\n\n122\n00:06:19.830 --> 00:06:22.130\nAnd you own that network it's\nall private and internal.\n\n123\n00:06:22.130 --> 00:06:25.370\nBut it's very rare that companies are\nmaking those kind of investments right.\n\n124\n00:06:25.370 --> 00:06:29.680\nTraditionally, site to site is normally\ngoing to be Going over a public network,\n\n125\n00:06:29.680 --> 00:06:31.920\nbut with dedicated connections\nmore often than not.\n\n126\n00:06:31.920 --> 00:06:36.090\nSo I just wanna make sure we're aware\nof the types of VPNs that we support.\n\n127\n00:06:36.090 --> 00:06:38.940\nJust as we looked to get started,\nyeah we do have properties of VPN\n\n128\n00:06:38.940 --> 00:06:41.340\nconnections to think\nabout the logic of this.\n\n129\n00:06:41.340 --> 00:06:44.690\nWe're essentially creating a dedicated\nconnection between, as you said Cherokee,\n\n130\n00:06:44.690 --> 00:06:46.440\nan endpoint, a client, right?\n\n131\n00:06:46.440 --> 00:06:51.340\nMaybe running an application,\nold style VPN, a VPN client of some kind,\n\n132\n00:06:51.340 --> 00:06:53.670\nmaybe a slightly newer one\nlike you were alluding to.\n\n133\n00:06:53.670 --> 00:06:57.980\nMaybe it's an application-based VPN\nthrough a web application firewall or\n\n134\n00:06:57.980 --> 00:07:00.360\nsomething like that,\nwere we're tunneling IP over HTTPS.\n\n135\n00:07:00.360 --> 00:07:05.370\nAnd essentially we're just going through\nusing the web and web enabled application\n\n136\n00:07:05.370 --> 00:07:10.620\nor application that supports that as\nour front end quote unquote VPN client,\n\n137\n00:07:10.620 --> 00:07:12.830\nbecause it's able to\ninitiate the connection.\n\n138\n00:07:12.830 --> 00:07:16.470\nCreate the tunnels and the traffic while\nwe're not using a traditional standalone\n\n139\n00:07:16.470 --> 00:07:17.877\nseparate VPN client to do that.\n\n140\n00:07:17.877 --> 00:07:21.696\nBecause more often than not today,\nas you're right we pointed it out,\n\n141\n00:07:21.696 --> 00:07:24.880\nwe maybe be using more modern\ncommunication mechanisms and\n\n142\n00:07:24.880 --> 00:07:28.465\nthose VPN clients of yesterday\nare becoming less and less common.\n\n143\n00:07:28.465 --> 00:07:31.691\nWe just don't need to run them stand\nalone clients we a lot of times now have\n\n144\n00:07:31.691 --> 00:07:34.361\napplications that support that\ncapability built right in.\n\n145\n00:07:34.361 --> 00:07:38.265\nAll modern web browsers allow us in\ntheory, as long as we have an application\n\n146\n00:07:38.265 --> 00:07:42.230\nservice, a web service running on\nthe backend that provides us capability,\n\n147\n00:07:42.230 --> 00:07:46.378\nthey allow us to punch a tunnel through\njust about anything, using a web protocol\n\n148\n00:07:46.378 --> 00:07:49.733\nof some kind, HTTPS or\nsome sort of secure tunneling solution and\n\n149\n00:07:49.733 --> 00:07:54.003\nallow us to connect Microsoft's done this\nfor years for instance, with Outlook,\n\n150\n00:07:54.003 --> 00:07:56.992\nwith Outlook anywhere or\nwhatever they happen to call it,\n\n151\n00:07:56.992 --> 00:08:00.820\ngiven the version you may use based\non what version of Office you run.\n\n152\n00:08:00.820 --> 00:08:05.697\nBut using the Outlook mapping client on\nthe desktop to connect over the Internet\n\n153\n00:08:05.697 --> 00:08:10.573\nand set up a secure connection back into\nyour Exchange server is being done using\n\n154\n00:08:10.573 --> 00:08:12.206\nessentially VPN tunnel.\n\n155\n00:08:12.206 --> 00:08:15.244\nTunneling through RPC over HTTPS,\nOutlook anywhere,\n\n156\n00:08:15.244 --> 00:08:17.820\nthey call it different things by version.\n\n157\n00:08:17.820 --> 00:08:20.638\nBut ultimately, you're tunneling\na connection protocol through the web,\n\n158\n00:08:20.638 --> 00:08:21.729\nthat's what you're doing.\n\n159\n00:08:21.729 --> 00:08:26.100\nSo, we are able to do this with a lot\nof different solutions, options today.\n\n160\n00:08:26.100 --> 00:08:30.346\nAnd the VPN connections or the VPN\nclients are using typically either PPTP,\n\n161\n00:08:30.346 --> 00:08:33.276\nold school point-to-point\ntunneling protocol.\n\n162\n00:08:33.276 --> 00:08:38.255\nL2TP, we always wanna add IPsec on the end\nof that cuz L2TP by itself, although it\n\n163\n00:08:38.255 --> 00:08:42.900\ndoes technically, create a tunnel,\nit is capable of establishing a VPN.\n\n164\n00:08:42.900 --> 00:08:47.190\nThere's no authentication, and most\nimportantly, no encryption associated with\n\n165\n00:08:47.190 --> 00:08:50.415\nthat natively, L2TP is really\ngood at establishing a tunnel.\n\n166\n00:08:50.415 --> 00:08:53.310\nUnfortunately, nobody thought about\nwhat you do, once you have the tunnel.\n\n167\n00:08:53.310 --> 00:08:55.904\nSo as a result,\nwe don't ever really use L2TP by itself.\n\n168\n00:08:55.904 --> 00:08:59.877\nIt's always L2TP with IPSec,\nand or as I mentioned SSTP,\n\n169\n00:08:59.877 --> 00:09:02.189\nkind of a newer player to the game.\n\n170\n00:09:02.189 --> 00:09:06.630\nSSTP, a new protocol that we've been\nusing, secured socket tunneling protocol.\n\n171\n00:09:06.630 --> 00:09:09.780\nThis is now supported in Server 16,\nso this is kinda nice.\n\n172\n00:09:09.780 --> 00:09:14.024\nAnd we can set this up and use these\nparticular protocols, and we mix and\n\n173\n00:09:14.024 --> 00:09:16.382\nmatch, and we can choose what we want.\n\n174\n00:09:16.382 --> 00:09:19.390\nWhen we took a look at some of\nthe prior episodes of configuring this.\n\n175\n00:09:19.390 --> 00:09:22.351\nYou saw that we had options there,\ncould check boxes off,\n\n176\n00:09:22.351 --> 00:09:25.509\nenable a variety of things,\nbut we can encapsulate, right?\n\n177\n00:09:25.509 --> 00:09:28.613\nWe do encapsulate data in the tunnel,\nwrapping the data.\n\n178\n00:09:28.613 --> 00:09:32.501\nAnd the header of the data, specifically,\ntypically is gonna have another layer of\n\n179\n00:09:32.501 --> 00:09:35.020\ninformation associated with\nit if we're NATting, so\n\n180\n00:09:35.020 --> 00:09:36.737\nmaybe adding functionality there.\n\n181\n00:09:36.737 --> 00:09:41.050\nWe're gonna wrap that private data in\na secure cocoon of type with routing\n\n182\n00:09:41.050 --> 00:09:45.907\ninformation and usually confidentiality\nprotection is associated with it.\n\n183\n00:09:45.907 --> 00:09:49.875\nSo our encapsulation is all about our\nencryption in confidentiality and\n\n184\n00:09:49.875 --> 00:09:54.037\nour authentication that we use is gonna\nthen provide our different levels of\n\n185\n00:09:54.037 --> 00:09:55.090\nauthentication.\n\n186\n00:09:55.090 --> 00:09:58.712\nAre gonna provide us the capability\nof specifying who we are and\n\n187\n00:09:58.712 --> 00:10:01.460\nsignifying whether or\nnot we're authorized.\n\n188\n00:10:01.460 --> 00:10:02.438\nAnd we can authorize or\n\n189\n00:10:02.438 --> 00:10:04.868\nwe can do authentication in\nseveral different levels.\n\n190\n00:10:04.868 --> 00:10:08.757\nWe have user level authentication,\nwhere we can use point-to-point\n\n191\n00:10:08.757 --> 00:10:12.404\nauthentication so we can specify\nuser credentials for instance.\n\n192\n00:10:12.404 --> 00:10:15.828\nWe specify typically that we have\nthe appropriate authorization based on\n\n193\n00:10:15.828 --> 00:10:16.387\nwho we are.\n\n194\n00:10:16.387 --> 00:10:19.748\nAnd a group membership or something like\nthat, all I mean the remote users group\n\n195\n00:10:19.748 --> 00:10:23.120\nand this is my credential, and so\nlets use the level authentication.\n\n196\n00:10:23.120 --> 00:10:27.002\nWe can do computer level authentication,\nwe use IKE, the Internet Key Exchange\n\n197\n00:10:27.002 --> 00:10:30.729\nprotocol to exchange certificates and\nvalidate our identity based on that.\n\n198\n00:10:30.729 --> 00:10:34.219\nSo we have to establish\nan IPSec security association,\n\n199\n00:10:34.219 --> 00:10:38.210\na negotiated contract to\nexchange information in IPSec.\n\n200\n00:10:38.210 --> 00:10:42.024\nThis is our setup document that\nallows us to establish and\n\n201\n00:10:42.024 --> 00:10:46.950\nenable the IPSec connection, so\nL2TP with IPS requires the negotiation\n\n202\n00:10:46.950 --> 00:10:50.614\nof two unidirectional essays\nsecurity association.\n\n203\n00:10:50.614 --> 00:10:54.431\nSo Cherokee and\nI were gonna connect Using IPSec, so\n\n204\n00:10:54.431 --> 00:10:57.827\nusing HTTP with IPSec,\nwe were gonna do that.\n\n205\n00:10:57.827 --> 00:11:02.604\nPart of the set up process would involved\nthat, we negotiate and just because we're\n\n206\n00:11:02.604 --> 00:11:05.255\ngonna do this, I happen to have-\n&gt;&gt; Wow.\n\n207\n00:11:05.255 --> 00:11:07.882\n&gt;&gt; It's always good, gotta have your\nsecurity associations whenever-\n\n208\n00:11:07.882 --> 00:11:08.872\n&gt;&gt; I see you spared no expense on\n\n209\n00:11:08.872 --> 00:11:10.779\nthe props-\n&gt;&gt; I did spare no expense on\n\n210\n00:11:10.779 --> 00:11:11.977\nthe props, okay?\n\n211\n00:11:11.977 --> 00:11:16.845\nSo we have only the finest security\nassociation material here at ITProTV.\n\n212\n00:11:16.845 --> 00:11:20.227\nHey look, you gotta go with what you find\nin the bottom of the podium when you're\n\n213\n00:11:20.227 --> 00:11:20.997\ndoing this live.\n\n214\n00:11:20.997 --> 00:11:23.828\nAll right, so, what we're gonna do is\njust demonstrate quickly the concept.\n\n215\n00:11:23.828 --> 00:11:26.681\nI just have a piece of paper,\nCherokee has the same thing in her hand.\n\n216\n00:11:26.681 --> 00:11:29.680\nThe idea would be that It would\nbe a security association.\n\n217\n00:11:29.680 --> 00:11:32.453\nEssentially, it's a one-way\nnegotiated agreement,\n\n218\n00:11:32.453 --> 00:11:35.121\nas to how we're gonna agree\nto exchange information.\n\n219\n00:11:35.121 --> 00:11:36.370\nThat's what it does say it is.\n\n220\n00:11:36.370 --> 00:11:39.705\nSo I, if I'm the client initiating,\nwould have to go to Cherokee,\n\n221\n00:11:39.705 --> 00:11:41.810\nlet's just say Cherokee is the end point,\n\n222\n00:11:41.810 --> 00:11:45.105\nthe connection that I'm wanna\nnegotiate it's gonna be with her.\n\n223\n00:11:45.105 --> 00:11:46.300\nI'm establishing it.\n\n224\n00:11:46.300 --> 00:11:50.074\nI will say to Cherokee hey,\nas part of the set up of L2TP IPSec\n\n225\n00:11:50.074 --> 00:11:54.075\nusing [INAUDIBLE] key exchange\nbe able to exchange information.\n\n226\n00:11:54.075 --> 00:11:57.448\nSet up the keys, the passwords, all the\nstuff we have to do in the certificates,\n\n227\n00:11:57.448 --> 00:11:59.115\nwe're gonna negotiate our ASAs.\n\n228\n00:11:59.115 --> 00:12:01.834\nSo I'm gonna set one up with Cherokee,\nI'm gonna give here mine,\n\n229\n00:12:01.834 --> 00:12:04.796\nyou know what what you have to do,\nyou have to write the letter C on yours,\n\n230\n00:12:04.796 --> 00:12:07.730\nI have to write the letter A on mine so\nwe could keep track of who has what.\n\n231\n00:12:07.730 --> 00:12:09.790\nPut A on mine real quick.\n\n232\n00:12:09.790 --> 00:12:12.660\nYou could see this is live, we didn't set\nthis up ahead of time all right so good.\n\n233\n00:12:12.660 --> 00:12:13.302\n&gt;&gt; A.\n\n234\n00:12:13.302 --> 00:12:16.152\n&gt;&gt; All right, there we go\n&gt;&gt; And see.\n\n235\n00:12:16.152 --> 00:12:17.110\n&gt;&gt; All right, good.\n\n236\n00:12:17.110 --> 00:12:18.453\nSo we're gonna exchange these, right?\n\n237\n00:12:18.453 --> 00:12:19.290\n&gt;&gt; Lord, he could see it.\n\n238\n00:12:19.290 --> 00:12:19.905\nOkay.\n\n239\n00:12:19.905 --> 00:12:22.241\n&gt;&gt; So we're going to exchange these,\nand so\n\n240\n00:12:22.241 --> 00:12:26.820\nnow I have the security association that\nhas the letter C on it for Cherokee.\n\n241\n00:12:26.820 --> 00:12:28.872\nYou have the one that has the letter A for\nAdam.\n\n242\n00:12:28.872 --> 00:12:32.840\nAnd so now we've agreed essentially\ninto unidirectional exchanges that we\n\n243\n00:12:32.840 --> 00:12:36.002\nhave the agreement, the contract,\nthe stipulations, all\n\n244\n00:12:36.002 --> 00:12:40.346\nthe settings involved to now allow us to\nestablish and exchange that information.\n\n245\n00:12:40.346 --> 00:12:41.780\nYou can throw that away now,\nwe don't need it anymore.\n\n246\n00:12:41.780 --> 00:12:44.556\nNow, we keep it for\nthe duration of our exchange, right?\n\n247\n00:12:44.556 --> 00:12:47.274\nThe duration of the tunnel that\nwe're gonna set up and establish.\n\n248\n00:12:47.274 --> 00:12:51.936\nSo computer level authentication involves\nthe use of IKE to do the exchange and\n\n249\n00:12:51.936 --> 00:12:54.418\nto negotiate the SAs and establish them.\n\n250\n00:12:54.418 --> 00:12:55.330\nAnd that's what we're setting up.\n\n251\n00:12:55.330 --> 00:12:58.633\nBut keep in mind, this is only\nwhen we're doing L2TP with IPSec.\n\n252\n00:12:58.633 --> 00:13:01.106\nWe have our pre-shared key,\nessentially our perfect seeker,\n\n253\n00:13:01.106 --> 00:13:02.320\nwe refer to it different ways.\n\n254\n00:13:02.320 --> 00:13:06.433\nAnd we're gonna be able to exchange that\ninformation or at least established that.\n\n255\n00:13:06.433 --> 00:13:09.411\nBut I keep stressing only for\nL2TP with IPSec.\n\n256\n00:13:09.411 --> 00:13:10.159\n&gt;&gt; Yes, but-\n&gt;&gt; Associated address there, right?\n\n257\n00:13:10.159 --> 00:13:13.254\n&gt;&gt; Because L2TP would work but\nyou wouldn't have that security and\n\n258\n00:13:13.254 --> 00:13:17.090\nyou just stated most of the time we're\ngonna be running over our public network.\n\n259\n00:13:17.090 --> 00:13:17.786\nSo really,\n\n260\n00:13:17.786 --> 00:13:22.665\nwhy would someone want to be transmitting\ninformation that could be compromised?\n\n261\n00:13:22.665 --> 00:13:23.207\nSo, definitely.\n\n262\n00:13:23.207 --> 00:13:27.152\n&gt;&gt; Well it is, the reason Im stressing\nit is that computer level authentication,\n\n263\n00:13:27.152 --> 00:13:30.698\nalso data origin authentication and\ndata integrity, talk about that and\n\n264\n00:13:30.698 --> 00:13:32.560\njust been kind of third level.\n\n265\n00:13:32.560 --> 00:13:38.281\nThose two things are available with\nL2TP with IPSec connections, right?\n\n266\n00:13:38.281 --> 00:13:42.460\nSpecifically the computer level\nauthentication only with L2TP with IPSec.\n\n267\n00:13:42.460 --> 00:13:45.685\nUser level authentication that occurs,\nright?\n\n268\n00:13:45.685 --> 00:13:48.772\nRegardless of what kind of\nprotocol we're using, PPTP,\n\n269\n00:13:48.772 --> 00:13:51.483\nwe're gonna use this user\nlevel authentication.\n\n270\n00:13:51.483 --> 00:13:52.856\nSSTP, right?\n\n271\n00:13:52.856 --> 00:13:56.900\nWe have user level authentication\nthat may or may not play a part.\n\n272\n00:13:56.900 --> 00:14:00.333\nBut we're doing different levels\nof authentication, specifically\n\n273\n00:14:00.333 --> 00:14:04.185\ncomputer-based authentication,\nis tied to this L2TP with IPSec concept.\n\n274\n00:14:04.185 --> 00:14:06.080\nSo I just wanna make\nsure we're clear on that.\n\n275\n00:14:06.080 --> 00:14:09.313\nOn data origin authentication and\ndata integrity,\n\n276\n00:14:09.313 --> 00:14:12.403\nnobody call that in just\nplain generic language.\n\n277\n00:14:12.403 --> 00:14:16.993\nAnd you've used these terms before, we've\ntalked about this when we spoke about,\n\n278\n00:14:16.993 --> 00:14:19.120\nI think in the IPv6 discussions.\n\n279\n00:14:19.120 --> 00:14:22.720\nProbably in DNS we'll do digitally\nsigning, and we talked about DNS sets,\n\n280\n00:14:22.720 --> 00:14:25.036\nspecifically in signing\nthe resource records.\n\n281\n00:14:25.036 --> 00:14:28.059\nWe went into that conversation\na little bit about how all this works.\n\n282\n00:14:28.059 --> 00:14:32.130\nAnd we talked about non repudiation, proof\nof origin, proving you sent something.\n\n283\n00:14:32.130 --> 00:14:34.312\nCherokee walked us through\nsome of the logic there.\n\n284\n00:14:34.312 --> 00:14:37.540\nAnd that's really what we're talking about\nwith data origin, authentication and\n\n285\n00:14:37.540 --> 00:14:38.410\ndata integrity.\n\n286\n00:14:38.410 --> 00:14:42.114\nWe're verifying that the data that was\nsent originated at the connection's end.\n\n287\n00:14:42.114 --> 00:14:44.832\nSo we're essentially verifying\nthat either of the two\n\n288\n00:14:44.832 --> 00:14:47.440\nparties involved did\nlegitimately send that data.\n\n289\n00:14:47.440 --> 00:14:50.613\nWe can prove that by using\nthese capabilities that\n\n290\n00:14:50.613 --> 00:14:54.549\nare associated again with L2TP and\nIPSec base connections.\n\n291\n00:14:54.549 --> 00:14:56.746\nCuz we have both authentication headers,\n\n292\n00:14:56.746 --> 00:15:00.530\nDAH as well as encapsulating security\npayload, ESP functionality, and\n\n293\n00:15:00.530 --> 00:15:04.980\nthat provides the confidentiality and\nthe integrity in authentication mechanism.\n\n294\n00:15:04.980 --> 00:15:06.764\nSo just wanna make sure\nwe're aware of that.\n\n295\n00:15:06.764 --> 00:15:10.212\nWe do have data encryption,\nthe ability to be able to, as I said,\n\n296\n00:15:10.212 --> 00:15:14.291\nencrypt our data securely, controlling it,\nsending it out on the wire, and\n\n297\n00:15:14.291 --> 00:15:18.500\nensuring that we are securing it as\npart of this thought process as well.\n\n298\n00:15:18.500 --> 00:15:23.875\nWhen we do our site-to-site VPN,\nthe routers are setting up the VPN, right?\n\n299\n00:15:23.875 --> 00:15:26.340\nLet's be clear about\nwhat site-to-site VPN is.\n\n300\n00:15:26.340 --> 00:15:29.504\nThis is one router calling another, right?\n\n301\n00:15:29.504 --> 00:15:33.350\nWe call one side of the router\nthe calling router, the VPN client.\n\n302\n00:15:33.350 --> 00:15:38.216\nWe call the answering router, the router\non the other side is going to be the VPN\n\n303\n00:15:38.216 --> 00:15:40.518\nserver, that is just we label them.\n\n304\n00:15:40.518 --> 00:15:45.078\nSo the VPN client in a site-to-site is\nthe router that initiates the callout.\n\n305\n00:15:45.078 --> 00:15:48.117\nThe VPN server is the router\nthat accepts the call.\n\n306\n00:15:48.117 --> 00:15:53.032\nSo we talk about the calling router and\nthe answering router Call those the VPN\n\n307\n00:15:53.032 --> 00:15:58.924\nclient, the VPN server, just when we're\ndoing site to site VPNs using routers.\n\n308\n00:15:58.924 --> 00:16:03.828\nRemember, site-to-site is essentially\nif you're familiar with doing an L2TP\n\n309\n00:16:03.828 --> 00:16:08.070\nwith IPSec solution and\nyou're familiar with transport mode or\n\n310\n00:16:08.070 --> 00:16:10.310\ntunnel mode and\nyou have the idea in your mind or\n\n311\n00:16:10.310 --> 00:16:13.340\nknow the thought process behind\nsetting up a tunnel mode connection.\n\n312\n00:16:13.340 --> 00:16:14.850\nTunnel mode is router to router.\n\n313\n00:16:14.850 --> 00:16:16.330\nI mean, we tunnel between routers.\n\n314\n00:16:16.330 --> 00:16:18.560\nWe transport on the LAN, we often say.\n\n315\n00:16:18.560 --> 00:16:19.929\nWe tunnel through the LAN.\n\n316\n00:16:19.929 --> 00:16:23.279\nAnd so we're just really talking about\nanother way of using that thought process\n\n317\n00:16:23.279 --> 00:16:26.985\nand establishing those connections, just\nsignifying that they're between routers.\n\n318\n00:16:26.985 --> 00:16:29.220\nYou just wanna make sure you\nunderstand the vocabulary.\n\n319\n00:16:29.220 --> 00:16:33.877\nBecause a lot of times,\nin either questions or in word problems or\n\n320\n00:16:33.877 --> 00:16:39.637\nscenarios, word I was looking for,\nwe will often see site-to-site routers or\n\n321\n00:16:39.637 --> 00:16:45.588\nsite-to-site VPNs rather, referred to but\nthey may not be called by their name.\n\n322\n00:16:45.588 --> 00:16:51.085\nThey may talk about the VPN client, or\nthey make talk about the calling router.\n\n323\n00:16:51.085 --> 00:16:55.485\nThey may talk about the VPN server or\nthey may talk about the answering router.\n\n324\n00:16:55.485 --> 00:16:57.195\nAnd you have to understand\nthe logic of that and\n\n325\n00:16:57.195 --> 00:16:59.150\nmake sure you understand the vocabulary.\n\n326\n00:16:59.150 --> 00:17:01.720\nVery important for\nyou to be aware of those things.\n\n327\n00:17:01.720 --> 00:17:03.015\nDid put that in the show notes for\n\n328\n00:17:03.015 --> 00:17:04.640\nyou just to make sure\nyou're familiar with that.\n\n329\n00:17:04.640 --> 00:17:06.020\nObviously, have a reference for\n\n330\n00:17:06.020 --> 00:17:07.950\nthat just in case you have to go back and\nlook it up.\n\n331\n00:17:07.950 --> 00:17:11.270\nDo you ever hear that, referred to\nas calling router, answering router?\n\n332\n00:17:11.270 --> 00:17:12.518\n&gt;&gt; I have not.\n\n333\n00:17:12.518 --> 00:17:15.520\nI mean, I know that I've heard\nthe term VPN concentrator,\n\n334\n00:17:15.520 --> 00:17:18.401\nwhich is kind of gone by the way\nside in loo of the routers,\n\n335\n00:17:18.401 --> 00:17:19.790\nlike what serious-\n&gt;&gt; Just yeah,\n\n336\n00:17:19.790 --> 00:17:21.497\njust answers that aggregating our-\n&gt;&gt; Yeah.\n\n337\n00:17:21.497 --> 00:17:24.167\n&gt;&gt; VPN connections inbound and doing some\nload balancing things like that for us.\n\n338\n00:17:24.167 --> 00:17:25.665\nBut no, this is just verbiage and\n\n339\n00:17:25.665 --> 00:17:28.781\nterminology that we use just to make\nsure that we have a sense of that.\n\n340\n00:17:28.781 --> 00:17:31.180\n&gt;&gt; Good to know.\n&gt;&gt; So just wanna think about that.\n\n341\n00:17:31.180 --> 00:17:35.810\nAnd so three types of site-to-site VPNs\nin Windows Server 16 are supported.\n\n342\n00:17:35.810 --> 00:17:37.344\nWe talked about again the idea here.\n\n343\n00:17:37.344 --> 00:17:40.290\nPPTP, just reminding you of that.\n\n344\n00:17:40.290 --> 00:17:42.710\nL2TP, and of course, IKEv2.\n\n345\n00:17:42.710 --> 00:17:47.070\nIKEv2 is gonna be used for\nthe L2TP with the IPsec\n\n346\n00:17:47.070 --> 00:17:50.020\nportion of our program as we discussed,\nso just be aware of that.\n\n347\n00:17:50.020 --> 00:17:52.500\nPPTP, just a couple of quick notes.\n\n348\n00:17:52.500 --> 00:17:54.319\nI think I mentioned these\none of the other episodes,\n\n349\n00:17:54.319 --> 00:17:56.025\nuses Microsoft Point-to-Point Encryption.\n\n350\n00:17:56.025 --> 00:17:57.640\nI think we were setting up the VPN.\n\n351\n00:17:57.640 --> 00:18:01.191\nWe actually took a look at it in\nthe remote access episodes where we did\n\n352\n00:18:01.191 --> 00:18:01.752\nthe demo.\n\n353\n00:18:01.752 --> 00:18:03.821\nI think I pointed out that\nwe have the three options.\n\n354\n00:18:03.821 --> 00:18:07.498\nI showed them to you, but I believe that I\nwent in and just quickly highlighted and\n\n355\n00:18:07.498 --> 00:18:09.730\nsaid, look, that's MPEE.\n\n356\n00:18:09.730 --> 00:18:14.920\nSo we use Microsoft Point-to-Point\nEncryption with a PPTP site-to-site VPN.\n\n357\n00:18:14.920 --> 00:18:19.100\nWe use that for encryption and\npoint-to-point protocol.\n\n358\n00:18:19.100 --> 00:18:20.674\nPPP is used for authentication.\n\n359\n00:18:20.674 --> 00:18:23.991\nYou wanna make sure you know\nthe underlying protocols that are used to\n\n360\n00:18:23.991 --> 00:18:25.375\nachieve these end results.\n\n361\n00:18:25.375 --> 00:18:27.151\nL2TP, we use certificates for\n\n362\n00:18:27.151 --> 00:18:30.719\nencryption as we talked about\nintegrity data authentication.\n\n363\n00:18:30.719 --> 00:18:31.943\nWe do all that.\n\n364\n00:18:31.943 --> 00:18:36.122\nPPP, point-to-point, is used for\nauthentication there as well potentially,\n\n365\n00:18:36.122 --> 00:18:38.720\nand IKEv2 for\nsetting up an IKEv2 solution.\n\n366\n00:18:38.720 --> 00:18:42.082\nWe'll use AES, which is the Advanced\nEncryption Standard algorithm.\n\n367\n00:18:42.082 --> 00:18:46.142\nGot varying factors there,\nvarying sizes, 256, 192,\n\n368\n00:18:46.142 --> 00:18:51.043\n128-bit for the different strengths\nof the algorithm implementation.\n\n369\n00:18:51.043 --> 00:18:54.451\nWe can also use Triple DES,\nalthough that's not recommended.\n\n370\n00:18:54.451 --> 00:18:58.985\nAES is usually the preferred option there\nfor encryption, so just be aware of that.\n\n371\n00:18:58.985 --> 00:19:02.155\nAnd you mentioned that with these can\nbe either persistent or On Demand.\n\n372\n00:19:02.155 --> 00:19:05.317\nWe talked about the fact that we can\nhave essentially either a dedicated\n\n373\n00:19:05.317 --> 00:19:08.740\ncircuit that's just always on or\none that's On Demand that we spin up, use,\n\n374\n00:19:08.740 --> 00:19:10.920\nand then tear down,\nthe way you described that.\n\n375\n00:19:10.920 --> 00:19:13.640\nI liked that a lot because that\nwould be the On Demand VPN\n\n376\n00:19:13.640 --> 00:19:17.557\nconnection as we refer to it formally\nversus the persistent VPN connections.\n\n377\n00:19:17.557 --> 00:19:20.428\nIt's just a matter of how we\nchoose to establish these.\n\n378\n00:19:20.428 --> 00:19:23.550\nPretty standard thought\nprocess with regards to how\n\n379\n00:19:23.550 --> 00:19:27.730\nwe see these solutions being set up,\nwhether they're On Demand or persistent.\n\n380\n00:19:27.730 --> 00:19:30.390\nA lot of times, and we talked about this,\nbusinesses are using\n\n381\n00:19:30.390 --> 00:19:34.320\nthese dedicated circuits to remote\na site access and connectivity.\n\n382\n00:19:34.320 --> 00:19:38.120\nIt may make sense for them to leave\nthem on and have permanent connections.\n\n383\n00:19:38.120 --> 00:19:42.379\nBut if we have unreliable bandwidth, a lot\nof latency, or one side of the other is\n\n384\n00:19:42.379 --> 00:19:46.265\npaying a premium to use that bandwidth\nbecause of the fact that we're just\n\n385\n00:19:46.265 --> 00:19:50.674\nconnecting into some remote areas where\nmaybe there isn't good infrastructure.\n\n386\n00:19:50.674 --> 00:19:53.945\nAnd we may have to literary be paying for\nevery minute we're connected.\n\n387\n00:19:53.945 --> 00:19:57.700\nYou imagine, for instance, that we're\nusing a satellite relay to drive our\n\n388\n00:19:57.700 --> 00:20:01.629\nconnection into a remote field office out\nin the middle of the jungle somewhere,\n\n389\n00:20:01.629 --> 00:20:02.640\nwhich just happen.\n\n390\n00:20:02.640 --> 00:20:04.937\nThis is not unusual in\ncertain countries and\n\n391\n00:20:04.937 --> 00:20:09.344\nparts of the world where you're dealing\nwith infrastructure that's being used and\n\n392\n00:20:09.344 --> 00:20:12.820\nperhaps, being situated out in\nthe middle of outside of the city,\n\n393\n00:20:12.820 --> 00:20:16.520\noutside of a capital, out in\nthe rural areas, for instance, right.\n\n394\n00:20:16.520 --> 00:20:20.760\nI've worked in some countries\nwhere you got the capital city.\n\n395\n00:20:20.760 --> 00:20:24.710\nYou've got the other main city and\nthere's four hours of just literally just\n\n396\n00:20:24.710 --> 00:20:29.560\nsavanna or brush or desert or jungle or\nwhatever may be that's rural in between.\n\n397\n00:20:29.560 --> 00:20:32.682\nAnd there are people who live out there\nand you do need to have infrastructure,\n\n398\n00:20:32.682 --> 00:20:35.473\nbut it's probably not as developed,\nlet's say, hypothetically,\n\n399\n00:20:35.473 --> 00:20:38.424\nas it would be in the capital city\nwhere there may be more infrastructure.\n\n400\n00:20:38.424 --> 00:20:42.816\nAnd so you have to use long distance\npoint-to-point communication mechanisms to\n\n401\n00:20:42.816 --> 00:20:43.450\ntransmit.\n\n402\n00:20:43.450 --> 00:20:47.571\nYou can't just say, well, just jump on\nthat fiber line that somebody drilled and\n\n403\n00:20:47.571 --> 00:20:51.594\nlaid for us because there may not be fiber\nrunning across the rainforest, right.\n\n404\n00:20:51.594 --> 00:20:54.939\nYou just may not have that or\nout in the savannah or on the plain or\n\n405\n00:20:54.939 --> 00:20:55.835\nwhatever it is.\n\n406\n00:20:55.835 --> 00:20:59.915\nAnd so you're gonna have to use things\nlike microwave relays or satellite relays\n\n407\n00:20:59.915 --> 00:21:04.295\nto shoot your bandwidth signals 20, 30,\n40 miles straight line the side down to\n\n408\n00:21:04.295 --> 00:21:07.668\na relay station that propagates\nat across several hundred miles.\n\n409\n00:21:07.668 --> 00:21:09.983\nAnd when you're doing this kind of stuff,\n\n410\n00:21:09.983 --> 00:21:12.762\nyou're paying the premium\nwhenever you connect.\n\n411\n00:21:12.762 --> 00:21:16.477\nAnd so the reality is that you may not\nwant these connections to be always on.\n\n412\n00:21:16.477 --> 00:21:18.020\nYou may want them to be On Demand.\n\n413\n00:21:18.020 --> 00:21:22.080\nSo it's important just to be aware of the\nfact that we do have these capabilities.\n\n414\n00:21:22.080 --> 00:21:24.450\nAlso, I put a little chart\ninto the show notes for you.\n\n415\n00:21:24.450 --> 00:21:29.412\nIf we could just go here for one second,\njust on my screen, to see you could see,\n\n416\n00:21:29.412 --> 00:21:33.770\nit is supposed to be like that just so\nit lines up nicely, right?\n\n417\n00:21:33.770 --> 00:21:36.600\nBut in the notes, you could see,\nI just put together a little VPN tunneling\n\n418\n00:21:36.600 --> 00:21:40.120\nprotocol option list here with\nthe firewall configurations.\n\n419\n00:21:40.120 --> 00:21:42.773\nI just wanted you to see this\ninstead of rattling them off and\n\n420\n00:21:42.773 --> 00:21:45.334\nyou're not being able to keep\ntrack of them in your head.\n\n421\n00:21:45.334 --> 00:21:50.140\nPPTP requires TCP using port 1723 when\nyou're opening up and configuring\n\n422\n00:21:50.140 --> 00:21:55.100\nfirewall connections, so important just\nto be aware of that and know that.\n\n423\n00:21:55.100 --> 00:21:57.580\nIf you're doing L2TP with IPSec,\nyou'll see,\n\n424\n00:21:57.580 --> 00:22:00.020\nwe have a couple different\nrequirements here.\n\n425\n00:22:00.020 --> 00:22:05.933\nUDP port 500, 1701 and 4500,\nas well as IP Protocol ID 50.\n\n426\n00:22:05.933 --> 00:22:08.051\nSo just wanna make sure\nwe're aware of that.\n\n427\n00:22:08.051 --> 00:22:12.301\nSSTP is going to run on TCP port 443.\n\n428\n00:22:12.301 --> 00:22:13.449\nThat should look familiar to you.\n\n429\n00:22:13.449 --> 00:22:18.284\nWe're tunneling through essentially\nthe web protocol secure HTTPS, right?\n\n430\n00:22:18.284 --> 00:22:22.511\nAnd then, IKEv2 uses UDP port 500.\n\n431\n00:22:22.511 --> 00:22:24.938\nNotice L2TP with IPSec UDP port 500,\nright?\n\n432\n00:22:24.938 --> 00:22:28.560\nSo we talked about the fact that\nthose things are traditionally\n\n433\n00:22:28.560 --> 00:22:29.800\nreferred to in the same breath.\n\n434\n00:22:29.800 --> 00:22:33.490\nSo just make sure you're familiar with\nthis, the Tunneling Protocols and\n\n435\n00:22:33.490 --> 00:22:36.430\nthe Firewall Configuration\nwould be really important.\n\n436\n00:22:36.430 --> 00:22:40.284\nLove to ask those questions about\nFirewall ports, and making sure you\n\n437\n00:22:40.284 --> 00:22:44.216\nknow what protocol is being used,\nespecially if it's TCP versus UDP.\n\n438\n00:22:44.216 --> 00:22:46.440\nA lot of times,\nyou get asked about that kinda stuff.\n\n439\n00:22:46.440 --> 00:22:47.870\nWanna make sure you know that.\n\n440\n00:22:47.870 --> 00:22:50.780\nWhen you see a protocol ID pop\nin there from time to time,\n\n441\n00:22:50.780 --> 00:22:53.600\nthat's usually an indicator of\nsomething else you may get asked about.\n\n442\n00:22:53.600 --> 00:22:56.620\nSo there's some good information\njust sitting there in the chart\n\n443\n00:22:56.620 --> 00:22:58.650\nthat may be important for\nyou to be aware of.\n\n444\n00:22:58.650 --> 00:23:01.230\nJust wanna make sure you're\nfamiliar with that, okay?\n\n445\n00:23:01.230 --> 00:23:03.710\nAll right, very good, so there you go.\n\n446\n00:23:03.710 --> 00:23:05.480\n&gt;&gt; All right.\n&gt;&gt; All right, so probably a good place for\n\n447\n00:23:05.480 --> 00:23:07.690\nus to at least stop for our first episode.\n\n448\n00:23:07.690 --> 00:23:10.620\nI know, just looking at the clock,\nthat we're getting close to running out of\n\n449\n00:23:10.620 --> 00:23:13.730\ntime and we do have a lot of\nadditional stuff we wanna discuss.\n\n450\n00:23:13.730 --> 00:23:16.190\nBut probably a good place for\nus to at least begin our journey and say,\n\n451\n00:23:16.190 --> 00:23:18.152\nmaybe we'll take a brief\nrespite before we continue.\n\n452\n00:23:18.152 --> 00:23:21.040\n&gt;&gt; Okay, sounds like a plan.\n\n453\n00:23:21.040 --> 00:23:24.190\nAnd I know Adam's got some more\nsurprises headed our way with VPN.\n\n454\n00:23:24.190 --> 00:23:26.069\nBut for this show,\nwe'll go ahead and sign out.\n\n455\n00:23:26.069 --> 00:23:28.109\nRemember, I'm your host, Cherokee Boose.\n\n456\n00:23:28.109 --> 00:23:29.090\n&gt;&gt; I'm Adam Gordon.\n\n457\n00:23:29.090 --> 00:23:31.975\n&gt;&gt; See you next time, here at ITProTV.\n\n458\n00:23:31.975 --> 00:23:38.212\n[MUSIC]\n\n459\n00:23:38.212 --> 00:23:40.901\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "217833909"
        },
        {
          "description": "In this episode, Daniel and Adam continue explaining and demonstrating how to configure VPN connectivity in Server 2016. Here they cover authentication protocols, VPN Reconnect, App-Triggered Reconnect, and InTune Supported VPN clients.",
          "length": "1845",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-8-1-2-implementing_vpns_pt2-053017.00_30_28_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-8-1-2-implementing_vpns_pt2-053017.00_30_28_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-8-1-2-implementing_vpns_pt2-053017.00_30_28_21.Still001-sm.jpg",
          "title": "Implementing VPNs Part 2",
          "transcript": "",
          "vimeoId": "219679902"
        }
      ],
      "title": "Implementing VPNs"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Adam take a look at networking solutions for branch offices; specifically implementing Branch Cache and Distributed File System. Here they give you the basic rundown on each of these technologies; defining what they are and when/where they're used.",
          "length": "1604",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-1-networking_for_branch_offices-053017.00_26_29_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-1-networking_for_branch_offices-053017.00_26_29_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-1-networking_for_branch_offices-053017.00_26_29_17.Still001-sm.jpg",
          "title": "Networking for Branch Offices",
          "transcript": "",
          "vimeoId": "219863947"
        },
        {
          "description": "In this episode, Daniel and Adam take a look at networking solutions for branch offices; specifically implementing Branch Cache and Distributed File System. Here they will demonstrate installing and configuring Brach Cache.",
          "length": "2157",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-2-networking_for_branch_offices_pt2-053017-PGM.00_00_11_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-2-networking_for_branch_offices_pt2-053017-PGM.00_00_11_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-2-networking_for_branch_offices_pt2-053017-PGM.00_00_11_26.Still001-sm.jpg",
          "title": "Networking for Branch Offices Part 2",
          "transcript": "",
          "vimeoId": "219864835"
        },
        {
          "description": "In this episode, Daniel and Adam take a look at networking solutions for branch offices; specifically implementing Branch Cache and Distributed File System. Here they will demonstrate installing and configuring Distributed File System.",
          "length": "1732",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-3-networking_for_branch_offices_pt3-053017-PGM.00_00_11_24.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-3-networking_for_branch_offices_pt3-053017-PGM.00_00_11_24.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-3-networking_for_branch_offices_pt3-053017-PGM.00_00_11_24.Still002-sm.jpg",
          "title": "Networking for Branch Offices Part 3",
          "transcript": "",
          "vimeoId": "219865387"
        },
        {
          "description": "In this episode, Daniel and Adam take a look at networking solutions for branch offices; specifically implementing Branch Cache and Distributed File System. Here they will demonstrate installing and configuring Distributed File System.",
          "length": "2070",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-4-networking_for_branch_offices_pt4-053017-PGM.00_00_12_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-4-networking_for_branch_offices_pt4-053017-PGM.00_00_12_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-1-4-networking_for_branch_offices_pt4-053017-PGM.00_00_12_26.Still001-sm.jpg",
          "title": "Networking for Branch Offices Part 4",
          "transcript": "",
          "vimeoId": "219864177"
        },
        {
          "description": "In this episode, Daniel and Adam take a moment to cover a few odds and ends pertaining to the Distributed File System. Here they cover Distributed File System Replication(DFSR) cmdlets, DFSR delegation, managing DFS databases, and Server Storage Replication.",
          "length": "1160",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-2-dfs_extras-053017-PGM.00_00_11_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-2-dfs_extras-053017-PGM.00_00_11_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-9-2-dfs_extras-053017-PGM.00_00_11_21.Still001-sm.jpg",
          "title": "DFS Extras",
          "transcript": "",
          "vimeoId": "219865193"
        }
      ],
      "title": "Implementing networking for branch offices"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Adam take a look at advanced networking features in Microsoft Server 2016. Here they will explore and demonstrate NIC Teaming, implementing Server Message Block(SMB), and Quality of Service(QoS).",
          "length": "2019",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-10-1-1-advanced_networking_features-053117.00_33_21_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-10-1-1-advanced_networking_features-053117.00_33_21_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-10-1-1-advanced_networking_features-053117.00_33_21_29.Still001-sm.jpg",
          "title": "Advanced Networking Features",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:01.210\nWelcome to ITProTV.\n\n2\n00:00:01.210 --> 00:00:02.574\nI'm your host, Don Pezet.\n\n3\n00:00:02.574 --> 00:00:06.190\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.190 --> 00:00:08.030\n[MUSIC]\n\n5\n00:00:08.030 --> 00:00:12.055\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.055 --> 00:00:13.566\n&gt;&gt; All right, greetings, everyone.\n\n7\n00:00:13.566 --> 00:00:16.809\nAnd welcome back to another\ngreat episode of ITProTV.\n\n8\n00:00:16.809 --> 00:00:18.590\nI am your host, Daniel Lowrie.\n\n9\n00:00:18.590 --> 00:00:23.057\nAnd in this episode, well,\nwe're back with more on our 70-741.\n\n10\n00:00:23.057 --> 00:00:24.583\nThat's right, 741 series.\n\n11\n00:00:24.583 --> 00:00:27.670\nHopefully, that's what you're here to\nsee cuz that's what we're doing today.\n\n12\n00:00:27.670 --> 00:00:30.410\nAnd joining us in the studio our\ngood friend, Mr. Adam Gordon.\n\n13\n00:00:30.410 --> 00:00:32.090\nAdam, welcome back, and how's it going?\n\n14\n00:00:32.090 --> 00:00:34.120\n&gt;&gt; Going well, going well, thank you.\n\n15\n00:00:34.120 --> 00:00:36.212\nGreat dramatic pause there\nas you did our intro.\n\n16\n00:00:36.212 --> 00:00:39.120\nI always like a little drama when\nwe get started, that was good.\n\n17\n00:00:39.120 --> 00:00:43.630\nSo we are going to continue our\ndiscussions around Server 2016 networking.\n\n18\n00:00:43.630 --> 00:00:45.790\nDelve a little deeper into\nsome of the more esoteric and\n\n19\n00:00:45.790 --> 00:00:48.850\nadvanced features around\nserver networking.\n\n20\n00:00:48.850 --> 00:00:50.800\nNot so much advanced, not so\n\n21\n00:00:50.800 --> 00:00:53.390\nmuch esoteric,\na little overstatement on my part.\n\n22\n00:00:53.390 --> 00:00:55.790\nBut as I said,\nwe need a little drama as we get started.\n\n23\n00:00:55.790 --> 00:00:58.110\nBut they are kind of interesting features.\n\n24\n00:00:58.110 --> 00:01:01.350\nAnd they are features that we probably\ntake for granted in some respects.\n\n25\n00:01:01.350 --> 00:01:02.470\nWe certainly talk about it a lot.\n\n26\n00:01:02.470 --> 00:01:05.500\nWe use, but we may not always\nunderstand how to set up.\n\n27\n00:01:05.500 --> 00:01:06.960\nThey're actually pretty\nstraightforward and easy.\n\n28\n00:01:06.960 --> 00:01:09.590\nWe'll walk you through\na couple of quick hands on\n\n29\n00:01:09.590 --> 00:01:12.140\nsolutions around how to enable\nsome of these features.\n\n30\n00:01:12.140 --> 00:01:14.010\nBut we'll delve a little\ndeeper under the hood and\n\n31\n00:01:14.010 --> 00:01:15.800\njust talk about some of\nthe things that go on with them.\n\n32\n00:01:15.800 --> 00:01:20.650\nSo we're gonna start by talking about\nsomething that really has become so\n\n33\n00:01:20.650 --> 00:01:25.270\nimportant for what we do with regards to\nnetworking, with regards to cloud and\n\n34\n00:01:25.270 --> 00:01:26.960\nvirtualized environments.\n\n35\n00:01:26.960 --> 00:01:28.290\nWhen we think about bandwidth,\n\n36\n00:01:28.290 --> 00:01:32.845\nbandwidth management, the ability to\nbe able to create an opportunity for\n\n37\n00:01:32.845 --> 00:01:37.915\nus to do what's called aggregating our\nconnections up so that we can bond them.\n\n38\n00:01:37.915 --> 00:01:43.825\nAnd as a result of that have the sum of\nthose connections together for us to use.\n\n39\n00:01:43.825 --> 00:01:46.375\nWe are talking about something\nknown as NIC Teaming, and\n\n40\n00:01:46.375 --> 00:01:49.175\nthis is one of the really cool\nfeatures we've had for some time now.\n\n41\n00:01:49.175 --> 00:01:51.815\nIt's not brand new in\nServer 16 by any means.\n\n42\n00:01:51.815 --> 00:01:55.690\nWe've had this with Hyper-V, and\nHyper-V networking capabilities for\n\n43\n00:01:55.690 --> 00:01:59.300\na little while, and now we have it\nacross the major vendor stacks.\n\n44\n00:01:59.300 --> 00:02:03.060\nVMware provides NIC Teaming capabilities,\nCitrix does, Microsoft does.\n\n45\n00:02:03.060 --> 00:02:04.530\nYou can do this on any platform.\n\n46\n00:02:04.530 --> 00:02:06.580\nIt's not unique to Microsoft by any means.\n\n47\n00:02:06.580 --> 00:02:10.490\nBut we can combine multiple adapters\ntogether, get the benefit of essentially\n\n48\n00:02:10.490 --> 00:02:15.030\na multipathing scenario, so that if one\nof the adapters were to fail in the team,\n\n49\n00:02:15.030 --> 00:02:18.150\nwe have alternate paths available\nto continue sending and receiving.\n\n50\n00:02:18.150 --> 00:02:22.070\nVery important from a BCDR\nperspective with regards to that,\n\n51\n00:02:22.070 --> 00:02:24.250\nBusiness Continuity Disaster Recovery.\n\n52\n00:02:24.250 --> 00:02:28.714\nVery important from a highly available and\nfault tolerance environment perspective in\n\n53\n00:02:28.714 --> 00:02:32.289\nterms of managing our connectivity and\nour continued availability.\n\n54\n00:02:32.289 --> 00:02:35.992\nAnd we can also get the benefit of\naggregating up the bandwidth around those\n\n55\n00:02:35.992 --> 00:02:39.340\nadapters so that we get the sum total\nof all of that connectivity, so\n\n56\n00:02:39.340 --> 00:02:43.280\nthat we're able to not only communicate,\nbut communicate more effectively,\n\n57\n00:02:43.280 --> 00:02:47.720\nmore efficiently, and of course, with the\nbenefit of all of that extra bandwidth.\n\n58\n00:02:47.720 --> 00:02:50.050\nSo we can bond together and\ncreate a NIC Team, or\n\n59\n00:02:50.050 --> 00:02:53.550\ncreate a NIC Team out of grouping\nnetwork adapters together.\n\n60\n00:02:53.550 --> 00:02:57.553\nUp to 32 of them could be used as\na single network interface in Server 16.\n\n61\n00:02:57.553 --> 00:03:00.826\nThat's a fairly large number if you\nthink about the fact that we would\n\n62\n00:03:00.826 --> 00:03:04.326\nbe able to provide redundancy, and\nallow for enhanced communication and\n\n63\n00:03:04.326 --> 00:03:06.600\nmanagement across those interfaces.\n\n64\n00:03:06.600 --> 00:03:09.120\nNow that sounds like a large number,\nand it is.\n\n65\n00:03:09.120 --> 00:03:12.760\nAnd you have to keep in mind that many\nhosts will probably not provide 32\n\n66\n00:03:12.760 --> 00:03:15.780\nphysical network adapters\nthat you can team together.\n\n67\n00:03:15.780 --> 00:03:20.360\nBut you may have cabinet based solutions,\nwhere you've got blades that are providing\n\n68\n00:03:20.360 --> 00:03:24.460\ninfrastructure hosting, and\nyou may have the ability to essentially\n\n69\n00:03:24.460 --> 00:03:28.090\naggregate up and use a large number of\nadapters in those kind of environments.\n\n70\n00:03:28.090 --> 00:03:33.140\nYears ago, when you were working\nin private environments,\n\n71\n00:03:33.140 --> 00:03:35.900\nyou were doing this kind of stuff and\nI see it a lot these days.\n\n72\n00:03:35.900 --> 00:03:39.130\nBut when you were doing this years ago you\nprobably didn't see hosts that would have\n\n73\n00:03:39.130 --> 00:03:41.830\nanywhere that kind of number,\nI would think, of adapters.\n\n74\n00:03:41.830 --> 00:03:43.123\nI mean,\nmaybe two would certainly be normal\n\n75\n00:03:43.123 --> 00:03:43.691\n&gt;&gt; Maybe four.\n\n76\n00:03:43.691 --> 00:03:44.547\n&gt;&gt; Maybe four.\n\n77\n00:03:44.547 --> 00:03:45.090\n&gt;&gt; Yeah.\n\n78\n00:03:45.090 --> 00:03:47.201\n&gt;&gt; Maybe eight,\nif it was a really high end host, but\n\n79\n00:03:47.201 --> 00:03:49.330\nyou probably didn't get\nmuch further than that.\n\n80\n00:03:49.330 --> 00:03:54.180\nThat was a lot, and it was probably a\nfairly complex solution if you have that.\n\n81\n00:03:54.180 --> 00:03:57.190\nBut we can see certainly\ntoday very large numbers of\n\n82\n00:03:57.190 --> 00:03:59.222\nthese adapters being combined together.\n\n83\n00:03:59.222 --> 00:04:01.710\nThe Hyper-V host as\nwell as the Hyper-V VMs\n\n84\n00:04:01.710 --> 00:04:03.830\ncan take advantage of\nthe NIC Teaming feature.\n\n85\n00:04:03.830 --> 00:04:05.470\nSo it is something that's kind of cool.\n\n86\n00:04:05.470 --> 00:04:08.490\nWe could also use something known\nas Switch Embedded Teaming,\n\n87\n00:04:08.490 --> 00:04:12.500\ncommonly referred to as SET as an acronym,\nwithin the Hyper-V virtual switch.\n\n88\n00:04:12.500 --> 00:04:16.152\nWe could team up to eight physical\nadapters using SET together, so\n\n89\n00:04:16.152 --> 00:04:19.360\nthat we create one or more software\nbased virtual network adapters.\n\n90\n00:04:19.360 --> 00:04:24.010\nAs a result, this is a newer feature,\nand this is something that has become\n\n91\n00:04:24.010 --> 00:04:28.050\nrelatively commonplace in\nthe brand new network stacks and\n\n92\n00:04:28.050 --> 00:04:30.460\nbrand new virtualization\nenhancements that we're seeing, but\n\n93\n00:04:30.460 --> 00:04:32.340\nit is something that's also interesting.\n\n94\n00:04:32.340 --> 00:04:37.220\nWe can do this and we are then able to\nuse that technology or leverage that\n\n95\n00:04:37.220 --> 00:04:42.195\nparticular technology for a NIC Team, and\nyou also have dynamic NIC Teaming as well.\n\n96\n00:04:42.195 --> 00:04:46.105\nThis is a new load balancing option\nstarting in 12R2 that's become available\n\n97\n00:04:46.105 --> 00:04:49.745\nand is now being used where we\ncan actually load balance across.\n\n98\n00:04:49.745 --> 00:04:53.692\nYou can almost think of this as\na software-based load balancing solution\n\n99\n00:04:53.692 --> 00:04:57.502\nmuch like, and it's not exactly like NLB,\nthe traditional Windows software load\n\n100\n00:04:57.502 --> 00:05:01.012\nbalancing solution, but\nit operates similarly.\n\n101\n00:05:01.012 --> 00:05:01.742\nSay that-\n&gt;&gt; [LAUGH]\n\n102\n00:05:01.742 --> 00:05:03.820\n&gt;&gt; Quickly without tongue-tying yourself.\n\n103\n00:05:03.820 --> 00:05:08.692\nBut essentially dynamic NIC Teaming\nwatches the flow of inbound traffic and\n\n104\n00:05:08.692 --> 00:05:12.360\nadjusts the capabilities of\nthe team as a result of that.\n\n105\n00:05:12.360 --> 00:05:15.468\nAnd we evaluate the traffic and\nwe move the flow around so\n\n106\n00:05:15.468 --> 00:05:19.850\nthat we're balancing across members of\nthe team as we have peaks and valleys.\n\n107\n00:05:19.850 --> 00:05:21.590\nSo we're balancing out the load,\n\n108\n00:05:21.590 --> 00:05:24.860\nand this makes it obviously a little\nbit easier to manage the traffic flow.\n\n109\n00:05:24.860 --> 00:05:27.980\nMakes it smoother for us,\nmakes it more optimized, and\n\n110\n00:05:27.980 --> 00:05:32.655\ncontinues to describe towards, that not\nonly software defined solution that we'll\n\n111\n00:05:32.655 --> 00:05:36.525\nbe talking about in some upcoming episodes\naround automation and really removing\n\n112\n00:05:36.525 --> 00:05:41.325\nthe human from the mix in favor of trying\nto standardize and manage that process.\n\n113\n00:05:41.325 --> 00:05:45.132\nBut it also gives us the ability\nbecause of the constant monitoring to\n\n114\n00:05:45.132 --> 00:05:48.812\ntake advantage of opportunities with\npeaks and valleys in the traffic flow,\n\n115\n00:05:48.812 --> 00:05:52.212\nto better optimize and\nbalance across all members of the team.\n\n116\n00:05:52.212 --> 00:05:55.642\nSo that we're evenly, for\nthe most part anyway, sharing that burden,\n\n117\n00:05:55.642 --> 00:05:58.962\nand we're not overwhelming and\nunderwhelming adapters.\n\n118\n00:05:58.962 --> 00:06:01.122\nAnd as a result,\nwe have unbalanced and uneven flow.\n\n119\n00:06:01.122 --> 00:06:04.479\nSo dynamic NIC Teaming is\nalso pretty important.\n\n120\n00:06:04.479 --> 00:06:07.335\nSo why don't we go in quickly,\nwe'll just take a look at NIC Teaming and\n\n121\n00:06:07.335 --> 00:06:08.310\nhow we set it up.\n\n122\n00:06:08.310 --> 00:06:11.540\nIt's actually a cool little thought\nprocess and we'll go ahead and\n\n123\n00:06:11.540 --> 00:06:13.340\nshow you what to do right here.\n\n124\n00:06:13.340 --> 00:06:14.280\nJust give me one second,\n\n125\n00:06:14.280 --> 00:06:18.560\nI just have to make sure that I'm gonna\nbe on the right machine to demo for you.\n\n126\n00:06:18.560 --> 00:06:20.400\nSo when we take a look at this machine,\n\n127\n00:06:20.400 --> 00:06:23.720\nthis is a machine that's\nhosting our Hyper-V solution.\n\n128\n00:06:23.720 --> 00:06:27.239\nSo I've got the Hyper-V manager up and\nrunning, my PLAD DM-01 machine,\n\n129\n00:06:27.239 --> 00:06:28.750\ngot some VMs running there.\n\n130\n00:06:28.750 --> 00:06:32.140\nWe'll take a look at one, take a look\nat some things like DHCP guard,\n\n131\n00:06:32.140 --> 00:06:33.660\nrouter guard, things like that.\n\n132\n00:06:33.660 --> 00:06:37.060\nWe'll take a look at those in a little\nbit, single root I/O virtualization.\n\n133\n00:06:37.060 --> 00:06:38.110\nWe'll talk about how to enable those.\n\n134\n00:06:38.110 --> 00:06:42.250\nThose are essentially just features that\nwe activate based on the networking stack\n\n135\n00:06:42.250 --> 00:06:43.130\nin the VM.\n\n136\n00:06:43.130 --> 00:06:47.494\nBut for NIC Teaming, we're actually doing\nthis through the host, so we're gonna take\n\n137\n00:06:47.494 --> 00:06:51.440\na look at the host, and you'll see that\nwe can go into our Server Manager.\n\n138\n00:06:51.440 --> 00:06:53.984\nSo let me just bring this up here and\non the local server so\n\n139\n00:06:53.984 --> 00:06:56.130\nwe're looking at the machine itself.\n\n140\n00:06:56.130 --> 00:06:59.510\nYou'll see here NIC Teaming is one\nof the options that's available.\n\n141\n00:06:59.510 --> 00:07:03.290\nYou'll notice it's disabled right now so\nI can go in and activate it from here.\n\n142\n00:07:03.290 --> 00:07:05.250\nWe're gonna go ahead and\nbuild the team real quick.\n\n143\n00:07:05.250 --> 00:07:09.120\nSo we're gonna go ahead,\nclick on the hyperlink.\n\n144\n00:07:09.120 --> 00:07:13.832\nJust do this, we'll bring up our little\nwizard, NIC Teaming wizard interface here.\n\n145\n00:07:13.832 --> 00:07:17.290\nLet me move this up so\nwe can see what's going on.\n\n146\n00:07:17.290 --> 00:07:21.260\nAnd we'll see under Teams we have\nnothing over here on the left.\n\n147\n00:07:21.260 --> 00:07:25.370\nActually, speaking of being on the left,\nlet me move that over just a wee bit.\n\n148\n00:07:25.370 --> 00:07:28.700\nAnd that way we can see what's going on,\nand you can see that.\n\n149\n00:07:28.700 --> 00:07:29.440\nLet's go full screen.\n\n150\n00:07:29.440 --> 00:07:31.120\nIt's a little bit hard to see that I know.\n\n151\n00:07:31.120 --> 00:07:33.260\nI'm kind of squinting trying\nto see what's on there.\n\n152\n00:07:33.260 --> 00:07:35.608\nDaniel's trying to do his\nCaptain Ahab imitation.\n\n153\n00:07:35.608 --> 00:07:37.810\nHe's trying to look and\nsee what's going on and\n\n154\n00:07:37.810 --> 00:07:41.990\nsee from the lights in the studio and kind\nof block that glare, what's on the screen.\n\n155\n00:07:41.990 --> 00:07:46.500\nSo you can see here we have available to\nbe added to a team of four adapters here.\n\n156\n00:07:46.500 --> 00:07:49.134\nAnd so\nwe do have the ability to create a team.\n\n157\n00:07:49.134 --> 00:07:52.447\nWe do show that there are adapters\navailable, but we have not created one.\n\n158\n00:07:52.447 --> 00:07:54.180\nSo we're gonna go ahead,\nwe're gonna do this.\n\n159\n00:07:54.180 --> 00:07:56.455\nWe go to Tasks.\n\n160\n00:07:56.455 --> 00:07:59.097\nPull down new team right here,\nso we could see that.\n\n161\n00:07:59.097 --> 00:08:01.332\nWe got a little ways\nthat opens up new team.\n\n162\n00:08:01.332 --> 00:08:04.086\nWe have given a name, so\nwe're gonna go ahead and do that.\n\n163\n00:08:04.086 --> 00:08:11.838\nLet me just give this a name\nhere PlumbDM01 dash Nick team.\n\n164\n00:08:11.838 --> 00:08:16.040\nNow you could call this anything\nyou would like as most names are.\n\n165\n00:08:16.040 --> 00:08:17.662\nThis is just descriptive metadata.\n\n166\n00:08:17.662 --> 00:08:21.214\nWe don't need to worry necessarily\nabout calling it Nick team five or\n\n167\n00:08:21.214 --> 00:08:25.376\nwhatever the case maybe, what you do is\ntalk about we stock about wanna name it's\n\n168\n00:08:25.376 --> 00:08:29.752\nsomething relevant to the organisation,\nrelevant to the operating environment.\n\n169\n00:08:29.752 --> 00:08:32.260\nYou don't wanna call it\nsomething random in other words.\n\n170\n00:08:32.260 --> 00:08:34.920\nCuz you are then, we have other one team\nand may be hard to differentiate what\n\n171\n00:08:34.920 --> 00:08:37.720\nthe are and what machine they're on,\nwhat they are doing.\n\n172\n00:08:37.720 --> 00:08:41.570\nSo give a little fact to the naming\nconventions is what I'm suggesting to you,\n\n173\n00:08:41.570 --> 00:08:44.150\nbut it's up to you to decide\nultimately what you do there.\n\n174\n00:08:44.150 --> 00:08:47.660\nWe then have to choose the member\nadapters of the four that are available.\n\n175\n00:08:47.660 --> 00:08:50.510\nWe have to figure out which\nones we wanna join to the team,\n\n176\n00:08:50.510 --> 00:08:52.440\nso we're gonna go in and figure that out.\n\n177\n00:08:52.440 --> 00:08:55.540\nI'm gonna select Ethernet 1 and\nEthernet 2.\n\n178\n00:08:55.540 --> 00:08:58.477\nWe will see, by the way that\nthey're one gigabyte in speed,\n\n179\n00:08:58.477 --> 00:08:59.927\nwe could see the speed there.\n\n180\n00:08:59.927 --> 00:09:04.672\nYou'll see there have an internal\nthe V-Ethernet adapter that's 10 GB,\n\n181\n00:09:04.672 --> 00:09:06.424\nthat's gonna be running for\n\n182\n00:09:06.424 --> 00:09:11.520\nthe VMs on the Hyper-V stack, so we could\nchoose whichever ones we wanna use.\n\n183\n00:09:11.520 --> 00:09:14.000\nWe'll just grab these,\nso we're gonna get that.\n\n184\n00:09:14.000 --> 00:09:15.470\nJust look under additional\nproperties here.\n\n185\n00:09:15.470 --> 00:09:17.370\nWe'll just pull this up, give me a second.\n\n186\n00:09:17.370 --> 00:09:21.090\nJust make that a little bit higher,\njust you can see that.\n\n187\n00:09:21.090 --> 00:09:23.410\nAnd you'll see down here\nwe have teaming mode.\n\n188\n00:09:23.410 --> 00:09:26.780\nWe have load balancing mode,\nstandby adapter, right?\n\n189\n00:09:26.780 --> 00:09:28.410\nNone, all adapters will be active.\n\n190\n00:09:28.410 --> 00:09:30.890\nWe can specify one will be active.\n\n191\n00:09:30.890 --> 00:09:33.560\nWe'd have to have at least three\nin the stack to do this, but\n\n192\n00:09:33.560 --> 00:09:37.270\nwe could specify that, let's say one\nof them would be in stand-by mode.\n\n193\n00:09:37.270 --> 00:09:40.540\nThink of an active-passive solution\nif you're familiar with clustering.\n\n194\n00:09:40.540 --> 00:09:44.340\nThe idea would be that we have, let's\nsay two of the three or two of the four\n\n195\n00:09:44.340 --> 00:09:48.420\nin the team that are active, or three of\nthe four, whatever you want to think of.\n\n196\n00:09:48.420 --> 00:09:52.580\nOne that's in stand-by mode, and\nif one of the active ones fails,\n\n197\n00:09:52.580 --> 00:09:55.465\nthe stand-by one comes up and\njoins the team and is brought up.\n\n198\n00:09:55.465 --> 00:09:57.810\nThere's a miniscule delay\nwhile we activate that and\n\n199\n00:09:57.810 --> 00:10:01.530\nessentially put it in, so\nwe can decide how we're gonna do that.\n\n200\n00:10:01.530 --> 00:10:05.180\nThat way we're not necessarily using\nall the adapters all the time.\n\n201\n00:10:05.180 --> 00:10:08.153\nAnd we're deciding how to modify or\nmanage that.\n\n202\n00:10:08.153 --> 00:10:10.946\nWe may for\ninstance have multiple adapters that are,\n\n203\n00:10:10.946 --> 00:10:14.810\nlet's just hypothetically say for\na minute, 10 GB as opposed to 1 GB.\n\n204\n00:10:14.810 --> 00:10:19.517\nAnd we have a lower end adapter that's\nmaybe the built-in adapter on the host\n\n205\n00:10:19.517 --> 00:10:21.047\nchassis that's a 1GB.\n\n206\n00:10:21.047 --> 00:10:25.837\nTraditionally, the built-in adapters\nare gonna be 1GB whereas the adapte rs\n\n207\n00:10:25.837 --> 00:10:30.768\nyou go out and buy the high speed adapters\nfor your storage area network access, or\n\n208\n00:10:30.768 --> 00:10:34.700\naccess to your network system or\nwhatever especially the fiber or\n\n209\n00:10:34.700 --> 00:10:37.654\nfiber of ether net\nare gonna probably be 10GB.\n\n210\n00:10:37.654 --> 00:10:40.795\nThese days maybe even 40 GB,\ndepending on what you're doing.\n\n211\n00:10:40.795 --> 00:10:43.755\nAnd can you imagine by the way,\nthis is our random aside for\n\n212\n00:10:43.755 --> 00:10:44.785\nour episode, by the way.\n\n213\n00:10:44.785 --> 00:10:48.475\nBut we're at 40 GB most\nlikely now on the back plan,\n\n214\n00:10:48.475 --> 00:10:49.815\nespecially in the data center, right?\n\n215\n00:10:49.815 --> 00:10:52.600\nIf we're doing,\nusing data center bridging protocols.\n\n216\n00:10:52.600 --> 00:10:55.650\nIf we're doing fiber for instance,\nwe're probably running 40 GB.\n\n217\n00:10:55.650 --> 00:10:57.070\nAt least in high-end systems,\n\n218\n00:10:57.070 --> 00:10:59.300\nwe'd be running 10 to 40\nGB somewhere around there.\n\n219\n00:10:59.300 --> 00:11:02.280\nAnd that's a very small amount of\ndistance, a couple hundred feet,\n\n220\n00:11:02.280 --> 00:11:04.382\nsomething like that, but very fast, right?\n\n221\n00:11:04.382 --> 00:11:06.088\n&gt;&gt; Yeah.\n&gt;&gt; But we're moving towards 100 GB.\n\n222\n00:11:06.088 --> 00:11:07.880\n&gt;&gt; Yes, we are.\n&gt;&gt; I mean on the back plan,\n\n223\n00:11:07.880 --> 00:11:10.770\non fiber for these kind of networks and\n\n224\n00:11:10.770 --> 00:11:14.030\nthat's really not even the limit,\nbecause we're moving beyond that.\n\n225\n00:11:14.030 --> 00:11:17.470\nWe'll eventually be way beyond that,\n100 GB.\n\n226\n00:11:17.470 --> 00:11:18.880\nBack in the day, right?\n\n227\n00:11:18.880 --> 00:11:21.580\nI remember I go back a long way, but\n\n228\n00:11:21.580 --> 00:11:25.160\nI mean I remember when we were at\nthe very, very low end of that scale.\n\n229\n00:11:25.160 --> 00:11:32.742\n[CROSSTALK] I remember even older networks\nthat would have run on 4 MB initially.\n\n230\n00:11:32.742 --> 00:11:35.846\nSome of the early, early, early token\nring networks that were 4 MB and\n\n231\n00:11:35.846 --> 00:11:36.892\nthen jumped to 16 MB.\n\n232\n00:11:36.892 --> 00:11:40.502\n&gt;&gt; Come quite the long way,\nladies and gentlemen.\n\n233\n00:11:40.502 --> 00:11:41.039\n&gt;&gt; I have, I have.\n\n234\n00:11:41.039 --> 00:11:43.440\n&gt;&gt; [LAUGH]\n&gt;&gt; But when I do some of this stuff and\n\n235\n00:11:43.440 --> 00:11:45.700\nI think about this, and\nI look and say, it's 1GB.\n\n236\n00:11:45.700 --> 00:11:47.140\nIt's pretty standard today.\n\n237\n00:11:47.140 --> 00:11:49.890\nEven 10 GB pretty standard depending\non the networks you're looking at.\n\n238\n00:11:49.890 --> 00:11:52.240\nBut you'll see 100 GB,\nthere are very few of them.\n\n239\n00:11:52.240 --> 00:11:53.630\nI think you would see 40 or\n\n240\n00:11:53.630 --> 00:11:58.800\n100 GB adapters when you're dealing with\nhigh-end data centers and fiber networks.\n\n241\n00:11:58.800 --> 00:12:00.200\nThat's impressive amounts to me.\n\n242\n00:12:00.200 --> 00:12:03.223\n&gt;&gt; We just can't move\nthe data fast enough anymore.\n\n243\n00:12:03.223 --> 00:12:04.289\n&gt;&gt; And there's so much of it.\n\n244\n00:12:04.289 --> 00:12:05.170\n&gt;&gt; Yeah.\n&gt;&gt; And so much of it\n\n245\n00:12:05.170 --> 00:12:08.435\nis totally irrelevant that its even funny,\ncuz we're spending all this time and\n\n246\n00:12:08.435 --> 00:12:11.042\nmoney to move just ridiculous\ngarbage that nobody cares about.\n\n247\n00:12:11.042 --> 00:12:12.040\n&gt;&gt; You two on YouTube.\n\n248\n00:12:12.040 --> 00:12:14.080\n&gt;&gt; You two on YouTube,\nthat would be one thing.\n\n249\n00:12:14.080 --> 00:12:17.050\nThat's not irrelevant that's actually\nimportant, but you get my idea.\n\n250\n00:12:17.050 --> 00:12:20.290\nAnyway we digress, so\nlet's go back to what we're doing.\n\n251\n00:12:20.290 --> 00:12:23.640\nSo just showing you some\nadvance settings here, and\n\n252\n00:12:23.640 --> 00:12:28.540\nyou'll see that we can go through\nobviously and specify what we wanna do.\n\n253\n00:12:28.540 --> 00:12:30.650\nThe load balancing method here.\n\n254\n00:12:30.650 --> 00:12:33.240\nWe're not able to change since\nit's address hashing, but\n\n255\n00:12:33.240 --> 00:12:36.120\nthe idea is that we're going to be able\nto load balance based on the address,\n\n256\n00:12:36.120 --> 00:12:37.458\nthe hash of the address.\n\n257\n00:12:37.458 --> 00:12:40.010\nSo we're gonna take a hash\nof every adapter, and\n\n258\n00:12:40.010 --> 00:12:41.850\nthen we're gonna be able to\nload balance across that.\n\n259\n00:12:41.850 --> 00:12:45.000\nSo it tells us what the methodology is,\nand\n\n260\n00:12:45.000 --> 00:12:46.980\nwe're able to just look at\nthese additional items.\n\n261\n00:12:46.980 --> 00:12:48.306\nSo we could see these here.\n\n262\n00:12:48.306 --> 00:12:51.111\nWe're gonna go ahead create this,\nwe'll click OK.\n\n263\n00:12:51.111 --> 00:12:52.560\nGive that just a second.\n\n264\n00:12:53.940 --> 00:12:55.310\nWe've got that set up.\n\n265\n00:12:55.310 --> 00:12:57.090\nWe have our team there now.\n\n266\n00:12:57.090 --> 00:13:02.033\nAnd so once we've done that,\nWhat we're gonna do is,\n\n267\n00:13:02.033 --> 00:13:05.053\nnow let me just point something\nout as we create this.\n\n268\n00:13:05.053 --> 00:13:08.383\nYou'll see we have a warning state here,\nthis little yellow caution flag.\n\n269\n00:13:08.383 --> 00:13:10.372\nYou probably see it right there.\n\n270\n00:13:10.372 --> 00:13:14.080\nIt will take about a minute on average\nto refresh and come out of warning.\n\n271\n00:13:14.080 --> 00:13:15.250\nWe've only been talking about this,\n\n272\n00:13:15.250 --> 00:13:18.032\nprobably 15 to 30 seconds\nwhile we've been doing it.\n\n273\n00:13:18.032 --> 00:13:20.040\nIt will take about another 30 seconds,\nwe can refresh.\n\n274\n00:13:20.040 --> 00:13:22.070\nThat will go away, so\ndon't get put off by that.\n\n275\n00:13:22.070 --> 00:13:22.861\nThat's normal.\n\n276\n00:13:22.861 --> 00:13:27.092\nAs the team sets up, we bind\nthe adapters together, we reconfigure.\n\n277\n00:13:27.092 --> 00:13:28.534\nThere's a period where they're not,\n\n278\n00:13:28.534 --> 00:13:30.490\nyou can see it just changed\nwhile I was talking.\n\n279\n00:13:30.490 --> 00:13:34.239\nThere's a period where they're not\nshowing up as completely active and\n\n280\n00:13:34.239 --> 00:13:37.814\nfunctioning normally,\nwhile we're essentially reconfiguring.\n\n281\n00:13:37.814 --> 00:13:40.944\nAnd as soon as that is done, and\nthat actually takes just a few seconds.\n\n282\n00:13:40.944 --> 00:13:42.985\nBut as always, it does take some time for\n\n283\n00:13:42.985 --> 00:13:46.300\nthat to then propagate back into\nthe interface, update itself.\n\n284\n00:13:46.300 --> 00:13:52.261\nYou can see that while we've been talking,\nit goes from warning to okay.\n\n285\n00:13:52.261 --> 00:13:53.401\nWhite circle, green arrow.\n\n286\n00:13:53.401 --> 00:13:56.030\nAnd you could see the status,\nso I just want you to see that.\n\n287\n00:13:56.030 --> 00:13:58.753\nDon't get worried about that,\ndon't be concerned.\n\n288\n00:13:58.753 --> 00:14:02.403\nIf you saw an error there,\nbecause the bonding was not done properly.\n\n289\n00:14:02.403 --> 00:14:04.049\nThe configuration was screwed up, or\n\n290\n00:14:04.049 --> 00:14:07.502\nyou tried to bind to an adapter that was\nin a failed state or something like that.\n\n291\n00:14:07.502 --> 00:14:08.526\nThat would be different and\n\n292\n00:14:08.526 --> 00:14:11.340\nthat can happen if you're not paying\nattention to what's going on there.\n\n293\n00:14:11.340 --> 00:14:15.430\nBut something like that where we\nget a warning, no big deal at all.\n\n294\n00:14:15.430 --> 00:14:18.560\nOnce we see the okay status, and if you\ndon't see it by the way, if it doesn't\n\n295\n00:14:18.560 --> 00:14:23.490\nshow up right away, close the interface,\nrefresh the server manager, go back in.\n\n296\n00:14:23.490 --> 00:14:27.040\nThere are times where the server\nmanager in any interface as you know\n\n297\n00:14:27.040 --> 00:14:31.630\nmay not update automatically, there may be\na delay because of a service or an issue.\n\n298\n00:14:31.630 --> 00:14:34.900\nIt doesn't mean it's not working, right,\ndon't take that stuff at face value.\n\n299\n00:14:34.900 --> 00:14:38.860\nJust close out, go back in,\nthat alone typically forces a refresh and\n\n300\n00:14:38.860 --> 00:14:40.990\nmore often then not will fix the problem.\n\n301\n00:14:40.990 --> 00:14:44.510\nIn rare cases I've seen it not\nupdate even though we can validate\n\n302\n00:14:44.510 --> 00:14:45.960\nthat the configuration is good.\n\n303\n00:14:45.960 --> 00:14:47.050\nRestart the machine, and\n\n304\n00:14:47.050 --> 00:14:49.700\nI understand in production that\nmay be a bit of a challenge.\n\n305\n00:14:49.700 --> 00:14:53.520\nBut restart the machine, that normally\nwill clear whatever issues you have there.\n\n306\n00:14:53.520 --> 00:14:55.240\nAnd that will normally\nmake it come back up.\n\n307\n00:14:55.240 --> 00:14:57.710\nSo just come real world\nguidance about that, just so\n\n308\n00:14:57.710 --> 00:14:59.852\nyou know but we may see that occur.\n\n309\n00:14:59.852 --> 00:15:01.600\nSo I just want you to be aware of that.\n\n310\n00:15:01.600 --> 00:15:05.415\nAnd notice by the way, once we've\ndone that the available numbers of\n\n311\n00:15:05.415 --> 00:15:09.175\nadapters that are now available to add\nto an initial team has been decremented.\n\n312\n00:15:09.175 --> 00:15:12.125\nWe've gone down by two,\nbecause we've added two to the team.\n\n313\n00:15:12.125 --> 00:15:13.685\nSo then we have two available, and\n\n314\n00:15:13.685 --> 00:15:16.595\nwe now have a team that is\nsitting here ready to go.\n\n315\n00:15:16.595 --> 00:15:18.265\nWe could see the team right over here.\n\n316\n00:15:18.265 --> 00:15:20.660\nWe can right click, go in,\nlook at properties.\n\n317\n00:15:20.660 --> 00:15:22.615\nThere's nothing to look at, but\nwhat we already configured,\n\n318\n00:15:22.615 --> 00:15:24.115\nbut we certainly can see that.\n\n319\n00:15:24.115 --> 00:15:26.200\nWe do see now that status is active.\n\n320\n00:15:26.200 --> 00:15:28.520\nSo we see the two are bound together, and\n\n321\n00:15:28.520 --> 00:15:32.700\nthey are creating a Nick team force both\nactive meaning we did not standby or\n\n322\n00:15:32.700 --> 00:15:36.790\nset one to standby, we set both to active,\nboth are sending and receiving traffic.\n\n323\n00:15:36.790 --> 00:15:38.855\nSo we're able to see that set that up.\n\n324\n00:15:38.855 --> 00:15:41.215\nNow that's the first part of this.\n\n325\n00:15:41.215 --> 00:15:45.065\nBut if we then wanna go ahead and assign\na static IP address to the Nick team,\n\n326\n00:15:45.065 --> 00:15:46.195\nwe could do that.\n\n327\n00:15:46.195 --> 00:15:48.495\nYou may need to do that at some point.\n\n328\n00:15:48.495 --> 00:15:52.682\nI will freely admit I cheated a little bit\nhere, because of my mad typing skills.\n\n329\n00:15:52.682 --> 00:15:54.527\nI went ahead and\ntyped this out ahead of time,\n\n330\n00:15:54.527 --> 00:15:57.145\nbecause you don't wanna\nwatch me type in real time.\n\n331\n00:15:57.145 --> 00:15:59.406\nBut you could see,\nI just opened up a command prompt with.\n\n332\n00:15:59.406 --> 00:16:00.720\nAn admin capability there,\n\n333\n00:16:00.720 --> 00:16:04.122\nchange the background as we always do\njust to make it easier for you to see.\n\n334\n00:16:04.122 --> 00:16:07.758\nIn case you're wondering why it's white\nwith blue text just literally all\n\n335\n00:16:07.758 --> 00:16:11.345\nof a sudden, it's always that way so\nyou could see it a little bit easier.\n\n336\n00:16:11.345 --> 00:16:14.380\nNetsh is our tool of choice here,\nvery good tool.\n\n337\n00:16:14.380 --> 00:16:17.400\nIf you're not familiar with Netsh\nby the way, can't highly and\n\n338\n00:16:17.400 --> 00:16:21.080\nstrongly recommend to you enough\nthat you go read up on Netsh.\n\n339\n00:16:21.080 --> 00:16:22.210\nLook at the help file.\n\n340\n00:16:22.210 --> 00:16:23.780\nTake a look at what's going on in there.\n\n341\n00:16:23.780 --> 00:16:26.690\nYou've seen me use it if you were\nwatching the other episodes in\n\n342\n00:16:26.690 --> 00:16:30.170\nthis whole series of topics\naround networking with Server 16.\n\n343\n00:16:30.170 --> 00:16:31.510\nI've used it to configure and\n\n344\n00:16:31.510 --> 00:16:34.970\ndo all sorts of stuff throughout all\nthe different demos we're doing.\n\n345\n00:16:34.970 --> 00:16:38.470\nI can't think of one demo we did\nwhere I didn't use it for something.\n\n346\n00:16:38.470 --> 00:16:42.440\nEven if you didn't see me use it on camera\nas we were showing you stuff, I used it\n\n347\n00:16:42.440 --> 00:16:46.190\nbehind the scenes to configure things\nbefore we actually did the demo for you.\n\n348\n00:16:46.190 --> 00:16:50.330\nIt's such a versatile command line tool,\nbeen around forever and a day.\n\n349\n00:16:50.330 --> 00:16:54.789\nThe thing's been there since the earliest,\nearliest, earliest days of Windows.\n\n350\n00:16:54.789 --> 00:16:59.573\nAnd it's really something as a tool that\nendures because it's such an important\n\n351\n00:16:59.573 --> 00:17:02.190\ntool, but it's also such a flexible tool.\n\n352\n00:17:02.190 --> 00:17:04.418\nWe can run tools like\nthis through PowerShell.\n\n353\n00:17:04.418 --> 00:17:07.850\nSo PowerShell's capable of running\nany program that we have access to,\n\n354\n00:17:07.850 --> 00:17:10.160\nas long as it's in the path for execution.\n\n355\n00:17:10.160 --> 00:17:13.670\nSo things like Netsh and all these\ndifferent tools are still viable and\n\n356\n00:17:13.670 --> 00:17:15.900\nstill very, very important to us today.\n\n357\n00:17:15.900 --> 00:17:17.820\nSo just reminding you of that.\n\n358\n00:17:17.820 --> 00:17:19.980\nLove to see people using tools like this.\n\n359\n00:17:19.980 --> 00:17:22.610\nWe've talked about the value of\nscripting and all that kind of stuff.\n\n360\n00:17:22.610 --> 00:17:25.160\nOn Microsoft, I hear rumors that\n\n361\n00:17:25.160 --> 00:17:28.970\nthey love to ask questions about things\nlike Netsh and all sorts of tools.\n\n362\n00:17:28.970 --> 00:17:31.870\nAnd remember, it's easy to do\nsomething in the GUI, right?\n\n363\n00:17:31.870 --> 00:17:34.860\nThere's always more than one way to do\nthe same thing we're talking about with\n\n364\n00:17:34.860 --> 00:17:35.420\nMicrosoft.\n\n365\n00:17:35.420 --> 00:17:39.300\nUsually at least three ways, minimally,\nto achieve the same end result.\n\n366\n00:17:39.300 --> 00:17:41.390\nAnd they love to ask\nthose out of the blue,\n\n367\n00:17:41.390 --> 00:17:46.110\nleft field questions like hey, we could\ngo into this interface but it's broken.\n\n368\n00:17:46.110 --> 00:17:47.040\nYou need to troubleshoot.\n\n369\n00:17:47.040 --> 00:17:48.230\nIt's not working.\n\n370\n00:17:48.230 --> 00:17:51.688\nHow would you set a static IP address\non a NIC Team if you can't go in and\n\n371\n00:17:51.688 --> 00:17:52.832\ndo it this or that way?\n\n372\n00:17:52.832 --> 00:17:54.617\nWell, there's always the command line.\n\n373\n00:17:54.617 --> 00:17:57.140\nNo matter what you do,\nthat's always gonna be an option for you.\n\n374\n00:17:57.140 --> 00:17:59.900\nSo making sure you're familiar with\nthat is gonna be really important.\n\n375\n00:17:59.900 --> 00:18:01.670\nSo let's just go back here real quick.\n\n376\n00:18:01.670 --> 00:18:07.470\nSo Netsh interface, we had validated, or\nexcuse me, identified the interface IPv4.\n\n377\n00:18:07.470 --> 00:18:10.430\nSet address,\nwe're setting it for the team.\n\n378\n00:18:10.430 --> 00:18:13.320\nI named the team PLADDM01-NICKTeam.\n\n379\n00:18:13.320 --> 00:18:14.470\nSo we call it out.\n\n380\n00:18:14.470 --> 00:18:18.010\nSo the name here, the name string,\nthe value has to be the same.\n\n381\n00:18:18.010 --> 00:18:22.650\nStatic IP, we specify static, whatever\nwe want it to be with our subnet mask.\n\n382\n00:18:22.650 --> 00:18:24.530\nSo we've got that, we just click there.\n\n383\n00:18:26.200 --> 00:18:27.660\nWhoops, one second, hold on.\n\n384\n00:18:27.660 --> 00:18:31.670\nI forgot we're in the, There we go.\n\n385\n00:18:31.670 --> 00:18:34.410\nIn the crazy lab environment\nwhere we have to do that\n\n386\n00:18:34.410 --> 00:18:36.760\nbefore we click cuz it\ndoesn't go active otherwise.\n\n387\n00:18:36.760 --> 00:18:40.240\nAnd by the way, with Netsh, I'm sure I've\nsaid this at some point in other shows,\n\n388\n00:18:40.240 --> 00:18:42.840\nbut you don't typically\nget feedback using Netsh.\n\n389\n00:18:42.840 --> 00:18:46.393\nSo if you just get that command prompt\njust like I did with no error, nothing,\n\n390\n00:18:46.393 --> 00:18:47.825\nthat means it worked, right?\n\n391\n00:18:47.825 --> 00:18:51.926\nSo just understand, we're not looking at\nan interface where you're gonna get back\n\n392\n00:18:51.926 --> 00:18:54.480\nsome sort of success marker or\nsomething like that.\n\n393\n00:18:54.480 --> 00:18:58.180\nYou're looking at an interface where\nessentially it just comes back and\n\n394\n00:18:58.180 --> 00:18:59.540\ndoesn't even say, yeah, I did it.\n\n395\n00:18:59.540 --> 00:19:01.290\nIt just does it, you don't even know that.\n\n396\n00:19:01.290 --> 00:19:02.499\nSo just be aware of that.\n\n397\n00:19:02.499 --> 00:19:07.079\nAll right, so we can go in, and\nonce we've done that, we're then able to,\n\n398\n00:19:07.079 --> 00:19:10.315\nif we wanted to do something like this,\nwhat'd I do?\n\n399\n00:19:10.315 --> 00:19:12.493\n192.68.0.20, right?\n\n400\n00:19:12.493 --> 00:19:16.070\nSo 192.68.0.20, all right.\n\n401\n00:19:16.070 --> 00:19:19.130\nSo we can go and\njust validate that the address is working.\n\n402\n00:19:19.130 --> 00:19:20.150\nYou could see I set it there.\n\n403\n00:19:20.150 --> 00:19:22.180\nYou'll see that it is now answering.\n\n404\n00:19:22.180 --> 00:19:25.090\nAnd so we can see that we\nhave the NIC Team working.\n\n405\n00:19:25.090 --> 00:19:27.340\nWe get back one answer from that.\n\n406\n00:19:27.340 --> 00:19:29.430\nBut there's two adapters\nthat essentially are bound,\n\n407\n00:19:29.430 --> 00:19:31.350\nand are using that address, right?\n\n408\n00:19:31.350 --> 00:19:35.200\nCuz remember, we're now creating multiple\nmembers of that group, that essentially\n\n409\n00:19:35.200 --> 00:19:39.010\nanswer the door regardless of who knocks\non the door and where it comes from.\n\n410\n00:19:39.010 --> 00:19:40.630\nThat's the common front end.\n\n411\n00:19:40.630 --> 00:19:44.800\nThis is like the routable external\nIP on the outside of the router that\n\n412\n00:19:44.800 --> 00:19:48.550\nwill translate inbound and nats and\nunwinds all that traffic and\n\n413\n00:19:48.550 --> 00:19:50.810\ndistributes it out to whoever\nmay be sitting behind it.\n\n414\n00:19:50.810 --> 00:19:52.610\nIt's the concept of the NIC Team.\n\n415\n00:19:52.610 --> 00:19:53.670\nNot that a NIC Team is a NAT.\n\n416\n00:19:53.670 --> 00:19:55.030\nDon't want to confuse anybody.\n\n417\n00:19:55.030 --> 00:19:59.070\nJust using it as an analogy to refer to\nthe fact that that common IP would just\n\n418\n00:19:59.070 --> 00:20:02.470\nbound that static IP is referenced by\nall the members of the team, right?\n\n419\n00:20:02.470 --> 00:20:03.720\nAnd that's what we're talking about.\n\n420\n00:20:03.720 --> 00:20:07.190\nSo setting up a NIC Team really\nis not more involved than that.\n\n421\n00:20:07.190 --> 00:20:09.120\nYou would do this on all the hosts,\nof course,\n\n422\n00:20:09.120 --> 00:20:10.566\nthat you want to have NIC Teams on.\n\n423\n00:20:10.566 --> 00:20:13.380\nYou would add the appropriate\nnumber of adapters in, and\n\n424\n00:20:13.380 --> 00:20:17.422\nonce you've done all that, you then would\nbe able to take advantage of the NIC Team\n\n425\n00:20:17.422 --> 00:20:20.840\nand/or whatever resources you\nwanna be able to use with it.\n\n426\n00:20:20.840 --> 00:20:21.810\nSo NIC Teaming,\n\n427\n00:20:21.810 --> 00:20:25.400\nvery important concept, something that\nwe wanna make sure we are aware of.\n\n428\n00:20:25.400 --> 00:20:27.060\n&gt;&gt; Adam,\na really quick question about NIC Teaming.\n\n429\n00:20:27.060 --> 00:20:28.850\nIf I have a physical server,\n\n430\n00:20:28.850 --> 00:20:32.535\nI've got however many NICs\ninvolved on the NIC Teaming.\n\n431\n00:20:32.535 --> 00:20:37.320\nAnd one of them goes, dies on me or\nloses the cable connection or\n\n432\n00:20:37.320 --> 00:20:38.150\nsomething to that effect.\n\n433\n00:20:38.150 --> 00:20:40.000\n&gt;&gt; Just fails, for whatever reason.\n\n434\n00:20:40.000 --> 00:20:42.206\n&gt;&gt; Just fails to perform.\nDoes that kill the whole team,\n\n435\n00:20:42.206 --> 00:20:44.608\nor does it just reduce the amounts of-\n&gt;&gt; No,\n\n436\n00:20:44.608 --> 00:20:46.030\nno, no, definitely will not kill the team.\n\n437\n00:20:46.030 --> 00:20:47.210\nNow if all of them fail, that would.\n\n438\n00:20:47.210 --> 00:20:48.150\n&gt;&gt; Yeah, right, obviously.\n\n439\n00:20:48.150 --> 00:20:51.050\nOn that if you only have, let's say\na two member team, and one was active,\n\n440\n00:20:51.050 --> 00:20:52.130\none was standby-\n&gt;&gt; And then, yes.\n\n441\n00:20:52.130 --> 00:20:53.680\n&gt;&gt; And you lost that one.\n\n442\n00:20:53.680 --> 00:20:57.580\n&gt;&gt; Then, in theory,\nyou would lose capabilities for, again,\n\n443\n00:20:57.580 --> 00:20:59.280\nit's a relatively short period of time.\n\n444\n00:20:59.280 --> 00:21:01.590\nIt depends on the hardware and\n\n445\n00:21:01.590 --> 00:21:03.880\na couple of variables that we\ndon't really go into here.\n\n446\n00:21:03.880 --> 00:21:07.480\nBut ultimately the idea would be that\nthe standby adapter would come up, and\n\n447\n00:21:07.480 --> 00:21:09.450\nit would provide continuity.\n\n448\n00:21:09.450 --> 00:21:13.490\nThere may be a very brief interruption\nof the capability to send and receive.\n\n449\n00:21:13.490 --> 00:21:14.870\nYou don't lose really anything.\n\n450\n00:21:14.870 --> 00:21:19.060\nYou're just essentially reconnected as\nsoon as the adapter comes back online.\n\n451\n00:21:19.060 --> 00:21:23.610\nBut if you were to experience\na catastrophic cascading failure, yes,\n\n452\n00:21:23.610 --> 00:21:24.740\nyou would lose the team.\n\n453\n00:21:24.740 --> 00:21:28.202\nBut with one or even multiple members of\na team, as long as there's at least one\n\n454\n00:21:28.202 --> 00:21:31.519\nsurviving interface that's active,\nthe team will continue to operate.\n\n455\n00:21:31.519 --> 00:21:32.803\n&gt;&gt; Okay.\n&gt;&gt; It's just gonna be\n\n456\n00:21:32.803 --> 00:21:34.841\ndiminished in the sense\nthat if you point it out.\n\n457\n00:21:34.841 --> 00:21:35.730\n&gt;&gt; Its capacity.\n\n458\n00:21:35.730 --> 00:21:37.830\n&gt;&gt; The capacity,\nmeaning the bandwidth, would be lower.\n\n459\n00:21:37.830 --> 00:21:41.310\nIf you had ten members of a team,\neach at one gig, and\n\n460\n00:21:41.310 --> 00:21:46.170\nwe had them all together and essentially\nhad a ten gig connection and we lost two,\n\n461\n00:21:46.170 --> 00:21:49.060\nwe'd be down eight gigs in theory, but\nwe'd still be able to send and receive.\n\n462\n00:21:49.060 --> 00:21:51.730\nJust may do that a little more\nslowly than we would before.\n\n463\n00:21:51.730 --> 00:21:53.870\n&gt;&gt; Excellent, a very robust solution.\n\n464\n00:21:53.870 --> 00:21:55.800\n&gt;&gt; It is, and it has been for some time.\n\n465\n00:21:55.800 --> 00:22:00.025\nThe thing to remember there is we'd then\nhave to service that team by fixing,\n\n466\n00:22:00.025 --> 00:22:02.655\nlet's say,\nyou had that catastrophic failure adapter.\n\n467\n00:22:02.655 --> 00:22:06.235\nAnd when was the last time you saw\nan adapter fail where it actually,\n\n468\n00:22:06.235 --> 00:22:07.265\nthe hardware itself failed.\n\n469\n00:22:07.265 --> 00:22:10.835\nYou'll often see it fail where,\nlike you said, the cable comes undone,\n\n470\n00:22:10.835 --> 00:22:12.232\nsomething weird.\n\n471\n00:22:12.232 --> 00:22:15.282\n&gt;&gt; Maybe the adapter comes,\nas crazy as it is, these days,\n\n472\n00:22:15.282 --> 00:22:17.432\nagain this is one of those\ngenerational things.\n\n473\n00:22:17.432 --> 00:22:21.462\nFor you and me, and people out there\nthat may be a little bit older\n\n474\n00:22:21.462 --> 00:22:24.841\nas opposed to slightly younger, if you're\njust starting out in this business.\n\n475\n00:22:24.841 --> 00:22:28.001\nYears ago, I mean, I could vividly\nremember, I'm sure you do as well.\n\n476\n00:22:28.001 --> 00:22:29.791\nYou had to move a lot of boxes around,\n\n477\n00:22:29.791 --> 00:22:33.481\nwe had a lot of physical infrastructure,\nespecially data centers, right?\n\n478\n00:22:33.481 --> 00:22:37.811\nYou have a lot of stuff out on the floor\nif you're moving desktops around.\n\n479\n00:22:37.811 --> 00:22:41.491\nAnd yeah, I can remember moving stuff\naround and jarring hardware loose.\n\n480\n00:22:41.491 --> 00:22:45.402\nNetwork cards would come unbound all\nthe time in the actual chassis because\n\n481\n00:22:45.402 --> 00:22:49.500\nyou're moving that box around,\nyou're banging that stuff and carrying it,\n\n482\n00:22:49.500 --> 00:22:50.883\nand they pop out, right?\n\n483\n00:22:50.883 --> 00:22:53.746\nEven if they were screwed down,\na lot of times you'd screw them in, but\n\n484\n00:22:53.746 --> 00:22:54.478\nthey were loose.\n\n485\n00:22:54.478 --> 00:22:56.530\nYou'd have a little bit of\nplay on the back end of that.\n\n486\n00:22:56.530 --> 00:23:00.130\nAnd that thing would pop up just enough\nto essentially ride up and down,\n\n487\n00:23:00.130 --> 00:23:01.780\nand the connection would be intermittent,\nso\n\n488\n00:23:01.780 --> 00:23:03.690\nthe adapter would look\nlike it was failing.\n\n489\n00:23:03.690 --> 00:23:05.740\nBut it really just had to be reseated.\n\n490\n00:23:05.740 --> 00:23:08.290\nToday almost got accepted because\nalmost everything is virtualized.\n\n491\n00:23:08.290 --> 00:23:09.960\nIt's all wrapped and stacked.\n\n492\n00:23:09.960 --> 00:23:12.658\nIt's not really being moved,\nif at all, very often.\n\n493\n00:23:12.658 --> 00:23:14.336\nWe just don't really have those\nkind of issues for the most part.\n\n494\n00:23:14.336 --> 00:23:15.875\n&gt;&gt; Yeah.\n&gt;&gt; It's very rare, right?\n\n495\n00:23:15.875 --> 00:23:19.630\nI don't even think I can remember\nthe last time I saw a network card\n\n496\n00:23:19.630 --> 00:23:24.610\nphysically actually fail, the hardware\nitself just burn up and stop working.\n\n497\n00:23:24.610 --> 00:23:25.590\nI mean, hard drives fail.\n\n498\n00:23:25.590 --> 00:23:26.860\nWe see that certainly.\n\n499\n00:23:26.860 --> 00:23:28.720\nMemory fails, CPUs fail.\n\n500\n00:23:28.720 --> 00:23:31.630\nI can't remember the last time I saw a,\nI know adapters fail.\n\n501\n00:23:31.630 --> 00:23:32.200\nDon't get me wrong, but\n\n502\n00:23:32.200 --> 00:23:34.840\nI can't remember the last time I\nsaw one fail because of hardware.\n\n503\n00:23:34.840 --> 00:23:36.561\n&gt;&gt; Yeah.\n&gt;&gt; I've seen them fail for other reasons.\n\n504\n00:23:36.561 --> 00:23:39.190\n&gt;&gt; I'm just trying to think if I've,\nI probably have seen one fail.\n\n505\n00:23:39.190 --> 00:23:42.400\n&gt;&gt; I've seen overheat scenarios where\nlike the fan's gone out on the chassis or\n\n506\n00:23:42.400 --> 00:23:43.230\nsomething like that.\n\n507\n00:23:43.230 --> 00:23:46.496\nOr for whatever reason, you have\na catastrophic failure in the cooling,\n\n508\n00:23:46.496 --> 00:23:47.294\nthe HVAC system.\n\n509\n00:23:47.294 --> 00:23:50.511\nI've seen all sorts of hardware\nfail because of overheating, but\n\n510\n00:23:50.511 --> 00:23:54.532\nnot because the hardware itself went bad,\njust because the operating environment\n\n511\n00:23:54.532 --> 00:23:58.496\nwas just Totally messed up because of the\ntemperature, so it's very rare that you\n\n512\n00:23:58.496 --> 00:24:02.459\nget adopters that do fail that's why\nteams are really a good idea but there\n\n513\n00:24:02.459 --> 00:24:06.750\nare proactive solution that addresses\na problem legitimately they can occur.\n\n514\n00:24:06.750 --> 00:24:08.900\nBut it's rare that that problem occurs.\n\n515\n00:24:08.900 --> 00:24:10.535\nIt's very often, as you were suggesting.\n\n516\n00:24:10.535 --> 00:24:11.538\n&gt;&gt; Um-huh.\n&gt;&gt; That somebody,\n\n517\n00:24:11.538 --> 00:24:15.158\nmesses something up in the stack and\nthey uncable something, right.\n\n518\n00:24:15.158 --> 00:24:18.540\nOr they cross-cable something where\nit goes to the wrong interconnect and\n\n519\n00:24:18.540 --> 00:24:22.270\nit's just not set up the right way,\nand that can be a problem.\n\n520\n00:24:22.270 --> 00:24:24.030\nBut, that's probably the,\nmore often than not,\n\n521\n00:24:24.030 --> 00:24:26.440\nthe legitimate reason\nwhy those things happen.\n\n522\n00:24:26.440 --> 00:24:29.310\nThat, and you give rights to somebody to\nadminister [LAUGH] when they don't belong\n\n523\n00:24:29.310 --> 00:24:30.860\nin there, and they disable interface.\n\n524\n00:24:30.860 --> 00:24:31.890\n&gt;&gt; Yes, yes.\n&gt;&gt; That's another thing that\n\n525\n00:24:31.890 --> 00:24:32.960\ntends to go wrong.\n\n526\n00:24:32.960 --> 00:24:33.470\nWe don't need that.\n\n527\n00:24:33.470 --> 00:24:34.080\nLet me just.\n\n528\n00:24:34.080 --> 00:24:34.963\nWhy is that on.\n\n529\n00:24:34.963 --> 00:24:36.000\nLet me get rid of that.\n\n530\n00:24:36.000 --> 00:24:38.070\nSo that's the kind of\nthe thing that could go wrong.\n\n531\n00:24:38.070 --> 00:24:40.980\nAll right so we talked a little bit about\nnet teaming, what about SMB, silver\n\n532\n00:24:40.980 --> 00:24:44.840\nmessage block, an oldie but a goodie,\nbeen around forever and a day as well.\n\n533\n00:24:44.840 --> 00:24:48.480\nJust no matter how hard we try to kill it,\nit's always there, it sticks around.\n\n534\n00:24:48.480 --> 00:24:52.638\nWe do have the implementation\nof SMB 3.1.1 in server 16,\n\n535\n00:24:52.638 --> 00:24:54.665\njust a newer updated version.\n\n536\n00:24:54.665 --> 00:25:00.190\n3.0 was the major leap flower\n3.11 is an incremental leap.\n\n537\n00:25:00.190 --> 00:25:01.960\nBut we do have some capabilities there.\n\n538\n00:25:01.960 --> 00:25:05.880\nWe support the AES, the Advanced\nEncryption Standard Algorithm.\n\n539\n00:25:05.880 --> 00:25:08.660\nThe Rijndael Algorithm rebranded as a AES,\n\n540\n00:25:08.660 --> 00:25:12.320\nwhen the United States Government decided\nthey were going to start using it.\n\n541\n00:25:12.320 --> 00:25:15.740\nSo we use that capability\ngives us enhanced encryption,\n\n542\n00:25:15.740 --> 00:25:19.580\nenhanced cryptographic\ncapabilities also we have that.\n\n543\n00:25:19.580 --> 00:25:22.880\nWe also are going to have pre\nauthentication integrity,\n\n544\n00:25:22.880 --> 00:25:28.080\nchecking using the shy algorithm for\nhashing, we use shy 5.12 for that.\n\n545\n00:25:28.080 --> 00:25:29.690\nSo that's important.\n\n546\n00:25:29.690 --> 00:25:33.990\nAnd we are able to add additional\nincremental security features,\n\n547\n00:25:33.990 --> 00:25:35.870\nthat give us some capabilities.\n\n548\n00:25:35.870 --> 00:25:39.780\nJust a quick hit list of some of\nthe new 3.11 features for server 16.\n\n549\n00:25:39.780 --> 00:25:43.160\nI mentioned pre-auth integrity,\nvery important.\n\n550\n00:25:43.160 --> 00:25:46.070\nThat helps prevent man in\nthe middle attacks, for instance,\n\n551\n00:25:46.070 --> 00:25:51.080\nbecause we're not able to spoof and\nto tap and to\n\n552\n00:25:51.080 --> 00:25:55.230\nmasquerade because of the authentication\nhappening with the integrity check.\n\n553\n00:25:55.230 --> 00:25:58.760\nSo if I was trying to\ntransmit to Daniel and\n\n554\n00:25:58.760 --> 00:26:02.260\nlet's say Taylor tried to get in the way\nof that, and read that traffic and\n\n555\n00:26:02.260 --> 00:26:06.200\npretend to be Daniel or pretend to be me,\nthis would prevent that.\n\n556\n00:26:06.200 --> 00:26:08.475\nUnless Taylor, our third party bad actor,\n\n557\n00:26:08.475 --> 00:26:11.740\nbecause he's always shifty guy\nyou got to watch it, right.\n\n558\n00:26:11.740 --> 00:26:15.090\nSo somebody like that,\nthey potentially, you know what it is?\n\n559\n00:26:15.090 --> 00:26:15.960\nIt's the beard.\n\n560\n00:26:15.960 --> 00:26:16.780\n&gt;&gt; Yeah.\n&gt;&gt; It's the beard.\n\n561\n00:26:16.780 --> 00:26:19.080\nThat's what makes you shifty,\nwhen you have a beard.\n\n562\n00:26:19.080 --> 00:26:19.977\nI'm saying that of course, but.\n\n563\n00:26:19.977 --> 00:26:22.530\n&gt;&gt; It's funny,\nwe were looking at him the other day.\n\n564\n00:26:22.530 --> 00:26:24.060\nHe was standing in the sunlight.\n\n565\n00:26:24.060 --> 00:26:25.690\nAnd his shadow was cast on the wall.\n\n566\n00:26:25.690 --> 00:26:28.310\nHe looks just like\nAbe Lincoln in his profile.\n\n567\n00:26:28.310 --> 00:26:29.250\n&gt;&gt; Really?\n&gt;&gt; He's honest Abe, man.\n\n568\n00:26:29.250 --> 00:26:30.141\nYou can't, yeah.\n\n569\n00:26:30.141 --> 00:26:32.899\n&gt;&gt; So well then we can't say he's shifty,\nand then a bad actor, so\n\n570\n00:26:32.899 --> 00:26:34.240\nwe have to pick somebody else.\n\n571\n00:26:34.240 --> 00:26:35.577\n&gt;&gt; Yeah.\n&gt;&gt; We could pick on Peter.\n\n572\n00:26:35.577 --> 00:26:36.460\n&gt;&gt; Titus.\n&gt;&gt; Titus?\n\n573\n00:26:36.460 --> 00:26:37.202\nWe can go with Titus.\n\n574\n00:26:37.202 --> 00:26:38.623\n&gt;&gt; [LAUGH]\n&gt;&gt; So let me get you, so\n\n575\n00:26:38.623 --> 00:26:42.236\nwhoever it may be, right If we're\ntrying to get in the middle there and\n\n576\n00:26:42.236 --> 00:26:46.280\ngrab that traffic the idea with\nthe pre-authentication integrity check is,\n\n577\n00:26:46.280 --> 00:26:48.116\nthe hash is going to have to match for\n\n578\n00:26:48.116 --> 00:26:52.220\nus to identify and allow that sender\nto unequivocally know who they are.\n\n579\n00:26:52.220 --> 00:26:54.460\nAnd while we can get around this\nthere are ways to break this,\n\n580\n00:26:54.460 --> 00:26:57.770\nand we talk about this in\nother episodes in other shows.\n\n581\n00:26:57.770 --> 00:27:01.460\nSee us for all the security stuff Daniel\nand I, Mike and I, Cherokee and I and\n\n582\n00:27:01.460 --> 00:27:02.570\nothers have done.\n\n583\n00:27:02.570 --> 00:27:05.360\n&gt;&gt; But the idea would be that\npre-authentication integrity,\n\n584\n00:27:05.360 --> 00:27:08.990\nnew to SMB 311, is going to give us\nthat enhanced capability to prevent,\n\n585\n00:27:08.990 --> 00:27:12.420\nor potentially prevent man-in-the-middle\nattacks, so just be aware of that.\n\n586\n00:27:12.420 --> 00:27:16.411\nThe encryption improvements I\nmentioned already, we use AES 128 bit.\n\n587\n00:27:16.411 --> 00:27:18.050\nSo that's good.\n\n588\n00:27:18.050 --> 00:27:23.050\nCluster dialect fencing, the idea of\nproviding cluster rolling updates for\n\n589\n00:27:23.050 --> 00:27:27.970\nour storage scale and file servers, so\nwe can patch those in a rolling way,\n\n590\n00:27:27.970 --> 00:27:31.950\nso we don't have to take them all down, or\nrather, excuse me, one at a time, rather.\n\n591\n00:27:31.950 --> 00:27:35.240\nBut you'll kind of roll through and\ndo a good percentage or\n\n592\n00:27:35.240 --> 00:27:36.930\nportion of those in real time.\n\n593\n00:27:36.930 --> 00:27:40.347\nThat's if we're running SMB, and\nwe're using it on the array.\n\n594\n00:27:40.347 --> 00:27:44.695\nWe get rid of require secure negotiate\nsetting, which is nice because this causes\n\n595\n00:27:44.695 --> 00:27:47.830\nthird-party systems to not\nbe able to work with us.\n\n596\n00:27:47.830 --> 00:27:52.220\nThe require secure negotiate, doesn't\nalways work with older versions and\n\n597\n00:27:52.220 --> 00:27:54.866\nthird party versions\nof SMB implementation.\n\n598\n00:27:54.866 --> 00:27:57.905\nAnd so this is something where we\ncan actually now turn this off.\n\n599\n00:27:57.905 --> 00:27:59.725\nWe disable the security negotiate feature.\n\n600\n00:27:59.725 --> 00:28:01.745\nWe have a switch that disables it.\n\n601\n00:28:01.745 --> 00:28:05.565\nAnd as a result of that, we're able\nto then broaden our availability and\n\n602\n00:28:05.565 --> 00:28:08.065\nour use of SMB across the stack,\nwhich is nice.\n\n603\n00:28:08.065 --> 00:28:11.346\nThis is like a backwards compatibility,\ninteroperability thing, so that's good.\n\n604\n00:28:11.346 --> 00:28:16.387\nAnd we have the ability to use the 3.1.1,\nin other words three character,\n\n605\n00:28:16.387 --> 00:28:20.440\nthree point notation, so\nwe can specify the exact version.\n\n606\n00:28:20.440 --> 00:28:23.290\nGives us better version matching,\nwith third party systems.\n\n607\n00:28:23.290 --> 00:28:27.910\nAllows us to more properly negotiate and\nvalidate security features and\n\n608\n00:28:27.910 --> 00:28:29.130\nto interact appropriately.\n\n609\n00:28:29.130 --> 00:28:30.950\nSo, this is kinda nice.\n\n610\n00:28:30.950 --> 00:28:31.870\nSo that's good.\n\n611\n00:28:31.870 --> 00:28:35.428\nWe also have high availability\ncapabilities with SMB that are built in.\n\n612\n00:28:35.428 --> 00:28:38.655\nWe have some remote storage enhancements\nin other words around the stack.\n\n613\n00:28:38.655 --> 00:28:42.560\nHyper-V over SMB allows us to\nstore virtual machine files,\n\n614\n00:28:42.560 --> 00:28:44.960\nall that kind of stuff,\non SMB file shares.\n\n615\n00:28:44.960 --> 00:28:47.990\nSo that's good, so\nwe can use the SMB file shares for that.\n\n616\n00:28:47.990 --> 00:28:51.670\nWe have the to be able to encrypt\nthe that we talked about.\n\n617\n00:28:51.670 --> 00:28:56.300\nSo hardening for SYSVOL and\nNetlogon connections,\n\n618\n00:28:56.300 --> 00:29:01.190\nbecause we're able to now use those with\nSMB signing and mutual authentication.\n\n619\n00:29:01.190 --> 00:29:02.450\nSo we're able to do that.\n\n620\n00:29:02.450 --> 00:29:03.980\nThis is in Windows 10 and Server 16, so\n\n621\n00:29:03.980 --> 00:29:08.590\nwe have to have the latest versions of\nthe OS running to take advantage of that.\n\n622\n00:29:08.590 --> 00:29:11.790\nBut that will add additional\ncapabilities and additional security.\n\n623\n00:29:11.790 --> 00:29:15.030\nSo that way it's hard for people to\npick off, that authentication traffic.\n\n624\n00:29:15.030 --> 00:29:17.250\nThat AD traffic that's going back and\nforth.\n\n625\n00:29:17.250 --> 00:29:20.370\nWhen was the last time you talked about\nSYSVOL and NETLOGON that is like an oldie.\n\n626\n00:29:20.370 --> 00:29:21.330\n&gt;&gt; Yeah.\n&gt;&gt; That goes all the back.\n\n627\n00:29:21.330 --> 00:29:23.000\nWe've had that since Windows 2000.\n\n628\n00:29:23.000 --> 00:29:25.365\nThat's how we setup and\nmaintained the Active Directory.\n\n629\n00:29:25.365 --> 00:29:29.550\nNTDS.dit is in you know the SYSVOL\nfolder and all of that kind of stuff,\n\n630\n00:29:29.550 --> 00:29:32.420\nbut You don't often think about that\nunless you're doing the kind of the one on\n\n631\n00:29:32.420 --> 00:29:36.650\none network AD stuff you're really talk\nabout that, but that's actually out there.\n\n632\n00:29:36.650 --> 00:29:40.640\n&gt;&gt; I don't think I've had to\ndeal with that as a problem or\n\n633\n00:29:40.640 --> 00:29:47.020\nsomething that I was like that's\nthe problem, net logon 10 years.\n\n634\n00:29:47.020 --> 00:29:48.540\n&gt;&gt; It does just kind\nof take care of itself\n\n635\n00:29:48.540 --> 00:29:49.940\n&gt;&gt; Backups and things like that and\n\n636\n00:29:49.940 --> 00:29:52.720\neverything's good but\nwe just don't think about it that much.\n\n637\n00:29:52.720 --> 00:29:54.110\n&gt;&gt; Yeah.\nI mean, back in the day-\n\n638\n00:29:54.110 --> 00:29:54.700\n&gt;&gt; Back in the day, yeah.\n\n639\n00:29:54.700 --> 00:29:55.790\n&gt;&gt; We used to have to\nworry about it a lot more.\n\n640\n00:29:55.790 --> 00:29:57.390\nToday it's just not that big of a deal.\n\n641\n00:29:57.390 --> 00:29:59.650\nWe do have SMB multichannel as well.\n\n642\n00:29:59.650 --> 00:30:03.130\nThis allows us to aggregate bandwidths,\nset up fault tolerance for multi-pathing.\n\n643\n00:30:03.130 --> 00:30:06.340\nSo playing on that new teaming concept,\nSMB supports that,\n\n644\n00:30:06.340 --> 00:30:08.390\nallows us to take full advantage of that.\n\n645\n00:30:08.390 --> 00:30:13.330\nWe can run SQL server over SMB, so we can\ndo cluster SQL server support using this,\n\n646\n00:30:13.330 --> 00:30:15.740\nso that's good because it\nallows us to scale out.\n\n647\n00:30:15.740 --> 00:30:18.740\nWe can use storage spaces,\nthat's newer technology for\n\n648\n00:30:18.740 --> 00:30:22.430\nhighly available scalable storage\nsystems built on local storage.\n\n649\n00:30:22.430 --> 00:30:26.400\nEssentially the idea of, we call this\ngenerically of the poor man's sand.\n\n650\n00:30:26.400 --> 00:30:27.430\nRight?\nWhere you are using\n\n651\n00:30:27.430 --> 00:30:31.430\nlocally attached storage to build out\nsomething like a RAID 5 stripe set with\n\n652\n00:30:31.430 --> 00:30:36.040\nparody to be able to create a local\nSAN against the storage on the system.\n\n653\n00:30:36.040 --> 00:30:38.121\nInstead of paying $100,000 for\n\n654\n00:30:38.121 --> 00:30:41.920\na network-based SAN, you could use\nthe storage that's on the host's.\n\n655\n00:30:41.920 --> 00:30:44.876\nThis is a growing trend in\nthe industry around virtualization.\n\n656\n00:30:44.876 --> 00:30:49.510\nVMR implements this with VSAM technology,\nvirtual sand.\n\n657\n00:30:49.510 --> 00:30:51.616\nEvery vendor has something like this, and\n\n658\n00:30:51.616 --> 00:30:54.905\nstorage spaces direct is what\nMicrosoft essentially calls that.\n\n659\n00:30:54.905 --> 00:30:57.990\nCompetitive technology It's\nthe same idea of VM or VSAM.\n\n660\n00:30:57.990 --> 00:31:01.420\nWe can use storage\nreplicas to be able to do\n\n661\n00:31:01.420 --> 00:31:04.740\nblock level synchronist replication\nbetween servers using SMB.\n\n662\n00:31:04.740 --> 00:31:07.870\nTalked a bit about this when\nwe talked about DFS and\n\n663\n00:31:07.870 --> 00:31:11.860\nstorage replication the difference\nbetween those technologies how they work.\n\n664\n00:31:11.860 --> 00:31:15.005\nOne to one replication versus\nscattering that out with DFS.\n\n665\n00:31:15.005 --> 00:31:20.165\nAnd we have storage QS,\nwhich is nice, QOS quality of service\n\n666\n00:31:20.165 --> 00:31:22.885\naround the use of storage, and\nthe policy based management and\n\n667\n00:31:22.885 --> 00:31:27.005\noptimization of storage traffic,\nmonitoring end to end performance, and\n\n668\n00:31:27.005 --> 00:31:32.820\npolicies that can then can then be applied\nboth to the hyper v hosts and the scale\n\n669\n00:31:32.820 --> 00:31:37.260\nout file service in server 16 to optimize\nstorage is going to be very helpful.\n\n670\n00:31:37.260 --> 00:31:40.600\nSo QoS is a really good set\nof technologies and benefits.\n\n671\n00:31:40.600 --> 00:31:42.840\nYou've got QoS on\nthe routing side forever.\n\n672\n00:31:42.840 --> 00:31:46.140\nPretty standard for managing traffic,\n\n673\n00:31:46.140 --> 00:31:49.520\nit's not unusual to apply to different\nkinds of traffic and we're just applying\n\n674\n00:31:49.520 --> 00:31:54.270\nit here that allow to the storage\nstack in particular using S.M.B.\n\n675\n00:31:54.270 --> 00:31:57.880\nenabling us to essentially monitor,\nmanage performance, optimize.\n\n676\n00:31:57.880 --> 00:31:59.860\nAnd to maintain those things.\n\n677\n00:31:59.860 --> 00:32:03.344\nSo we have classification in\ntagging around the use of QOS,\n\n678\n00:32:03.344 --> 00:32:06.413\npriority-based flow control,\npolicy-based and\n\n679\n00:32:06.413 --> 00:32:11.520\nHyper-V-based QOS as I mentioned already,\nstorage QOS as I mentioned already.\n\n680\n00:32:11.520 --> 00:32:14.190\nSo we have a lot of different\ntechnologies on the QOS side,\n\n681\n00:32:14.190 --> 00:32:16.720\nthat allow us to take advantage\nof those capabilities.\n\n682\n00:32:16.720 --> 00:32:22.056\nAnd Storage QOS is the one that\nSpecific to the SMB of Thought Process.\n\n683\n00:32:22.056 --> 00:32:23.559\n&gt;&gt; Lot of interesting technology so\n\n684\n00:32:23.559 --> 00:32:26.840\nfar when it comes to some advance\nnetworking inside of Server 2016.\n\n685\n00:32:26.840 --> 00:32:29.890\nObviously the NIC Teaming\nthing is extremely cool.\n\n686\n00:32:29.890 --> 00:32:31.780\n&gt;&gt; Pretty cool.\n&gt;&gt; We can aggregate some band width and\n\n687\n00:32:31.780 --> 00:32:34.280\nreally jack up performance,\nthat's always a nice thing.\n\n688\n00:32:34.280 --> 00:32:36.670\nAnd then new features that\nthey've added onto SMB.\n\n689\n00:32:36.670 --> 00:32:38.810\nAnd QOS, awesome stuff.\n\n690\n00:32:38.810 --> 00:32:40.590\nDefinitely take a look at those things.\n\n691\n00:32:40.590 --> 00:32:43.050\nMake sure you understand each one\nof those and how they work, so\n\n692\n00:32:43.050 --> 00:32:46.570\nthat you can answer those pesky\nquestions that they ask us on the exam.\n\n693\n00:32:46.570 --> 00:32:48.570\nI just thought because I read the book\nthey were just going to give me\n\n694\n00:32:48.570 --> 00:32:51.130\na certification but\napparently it doesn't work that way.\n\n695\n00:32:51.130 --> 00:32:52.250\n&gt;&gt; It depends on the book you read.\n\n696\n00:32:52.250 --> 00:32:54.550\n&gt;&gt; That's true,\nit depends on the book you read.\n\n697\n00:32:54.550 --> 00:32:56.990\nSo this one yeah,\nthey're going to have you take an exam.\n\n698\n00:32:56.990 --> 00:32:59.730\nSo, be familiar with those concepts,\n\n699\n00:32:59.730 --> 00:33:02.660\nhave them understood in\ntheir proper priorities.\n\n700\n00:33:02.660 --> 00:33:05.470\nAnd that being said, Adam,\nI know you've got some more to go, but\n\n701\n00:33:05.470 --> 00:33:08.050\nwe are a bit out of time for this episode.\n\n702\n00:33:08.050 --> 00:33:12.615\nSo, our famous part twos, threes,\nfives, nines, and twelves,\n\n703\n00:33:12.615 --> 00:33:16.150\nas we love to do,\nwill be in the future on order.\n\n704\n00:33:16.150 --> 00:33:17.460\nThat being said,\nit's time for us to sign off.\n\n705\n00:33:17.460 --> 00:33:20.730\nFor ITProTV,\nI've been your host Daniel Lowrie.\n\n706\n00:33:20.730 --> 00:33:23.894\n&gt;&gt; I'm Adam Gordon and together we\nmake a [INAUDIBLE] [CROSSTALK] team.\n\n707\n00:33:23.894 --> 00:33:24.796\n&gt;&gt; All right, see you guys next time.\n\n708\n00:33:24.796 --> 00:33:25.379\nHave a good one.\n\n709\n00:33:25.379 --> 00:33:33.266\n[MUSIC]\n\n710\n00:33:33.266 --> 00:33:35.632\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "219864514"
        },
        {
          "description": "In this episode, Daniel and Adam take a look at advanced networking features in Microsoft Server 2016. Here they will explore Receive Side Scaling(RSS), DCHP Guard, and Router Guard.",
          "length": "1913",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-10-1-2-advanced_networking_features_pt2-053117.00_31_36_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-10-1-2-advanced_networking_features_pt2-053117.00_31_36_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-10-1-2-advanced_networking_features_pt2-053117.00_31_36_25.Still001-sm.jpg",
          "title": "Advanced Networking Features Part 2",
          "transcript": "",
          "vimeoId": "219865679"
        }
      ],
      "title": "Configuring advanced networking features"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Adam explore the concept of Software Defined Networking(SDN) in Microsoft Server 2016. Here they will define SDN in detail, as well as look at what it takes to implement SDN in Server 2016.",
          "length": "1423",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-11-1-1-software_defined_networking-053117.00_23_27_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-11-1-1-software_defined_networking-053117.00_23_27_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-11-1-1-software_defined_networking-053117.00_23_27_06.Still001-sm.jpg",
          "title": "Software Defined Networking",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:06.488\nWelcome to ITProTV,\nI'm your host [CROSSTALK].\n\n2\n00:00:06.488 --> 00:00:08.193\n[MUSIC]\n\n3\n00:00:08.193 --> 00:00:12.044\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.044 --> 00:00:13.696\n&gt;&gt; All right, greeting everyone and\n\n5\n00:00:13.696 --> 00:00:16.840\nwelcome back to another\ngreat episode of ITProTV.\n\n6\n00:00:16.840 --> 00:00:18.000\nI'm your host Daniel Lowrie.\n\n7\n00:00:18.000 --> 00:00:19.710\nAnd in today's episode, that's right,\n\n8\n00:00:19.710 --> 00:00:22.920\nwe are coming back with\nmore on our 70-741 series.\n\n9\n00:00:22.920 --> 00:00:27.750\nAnd joining us in the studio,\nyou know him as Adam Gordon.\n\n10\n00:00:27.750 --> 00:00:28.480\nIt's Adam Gordon!\n\n11\n00:00:28.480 --> 00:00:30.090\nAdam, welcome back.\n\n12\n00:00:30.090 --> 00:00:31.840\nHow's it going? [LAUGH] &gt;&gt; I\nwas going to put on a mask and\n\n13\n00:00:31.840 --> 00:00:33.530\npretend to be Mike or somebody.\n\n14\n00:00:33.530 --> 00:00:35.500\nHave to be a little shorter,\nbut then I'd be Mike.\n\n15\n00:00:35.500 --> 00:00:36.660\nBut anyway, it is going well.\n\n16\n00:00:36.660 --> 00:00:38.910\nHopefully, you are doing well out there.\n\n17\n00:00:38.910 --> 00:00:43.070\nAlso, we are here to talk about\na very interesting topic.\n\n18\n00:00:43.070 --> 00:00:47.030\nRounding out our conversations\naround Networking in Server 16.\n\n19\n00:00:47.030 --> 00:00:51.420\nAnd what conversation, what group\nof conversations, would be complete\n\n20\n00:00:51.420 --> 00:00:54.630\nwithout at least a nod towards the idea\nof software defined networking.\n\n21\n00:00:54.630 --> 00:00:55.930\nGonna spend some time with you,\n\n22\n00:00:55.930 --> 00:01:00.310\ngo through some of the high level thought\nprocesses around these topics, introduce\n\n23\n00:01:00.310 --> 00:01:04.220\nsome new ideas to you, something called\nthe network controller that we alluded to.\n\n24\n00:01:04.220 --> 00:01:07.100\nIn our advanced networking conversations\nfrom the prior episodes we did.\n\n25\n00:01:07.100 --> 00:01:08.820\nAt least talked about the theory of it.\n\n26\n00:01:08.820 --> 00:01:10.570\nIt's brand new to service 16.\n\n27\n00:01:10.570 --> 00:01:11.320\nWe'll take a look at it.\n\n28\n00:01:11.320 --> 00:01:13.140\nIt's a new role you can install.\n\n29\n00:01:13.140 --> 00:01:14.160\nAnd then you gotta manage it.\n\n30\n00:01:14.160 --> 00:01:15.710\nWe'll just talked a bit about that.\n\n31\n00:01:15.710 --> 00:01:20.670\nTalk about the ideas behind what software\ndefined networking really means,\n\n32\n00:01:20.670 --> 00:01:24.050\nboth from the perspective of just what\nis the technology, how does it work,\n\n33\n00:01:24.050 --> 00:01:24.840\nhow does it help us.\n\n34\n00:01:24.840 --> 00:01:29.430\nBut also, equally importantly, how do we\nuse that and really scale that concept up\n\n35\n00:01:29.430 --> 00:01:33.830\nto automate and manage and optimize\nour networking across the private or\n\n36\n00:01:33.830 --> 00:01:38.650\npublic or hybrid cloud stack because the\ntechnology platform is really designed for\n\n37\n00:01:38.650 --> 00:01:42.390\nvirtualized and in this case,\ncloud based virtualized environments.\n\n38\n00:01:42.390 --> 00:01:46.440\nThat's really where we see software\ndefinition of any kind taking shape and\n\n39\n00:01:46.440 --> 00:01:49.620\nbecoming meaningful whether we\nare software defining the network,\n\n40\n00:01:49.620 --> 00:01:53.020\nsoftware defining the data center,\nsoftware defining storage.\n\n41\n00:01:53.020 --> 00:01:55.260\nAnything that we can do\ntoday we can define up and\n\n42\n00:01:55.260 --> 00:01:59.830\ndown the data center stack and up and\ndown virtualization cloud stack.\n\n43\n00:01:59.830 --> 00:02:01.940\nThrough the concept of\nsoftware definition.\n\n44\n00:02:01.940 --> 00:02:06.160\nBut the idea is that we can\napply this thought process and\n\n45\n00:02:06.160 --> 00:02:09.310\nI refer to it often as just extracting\nthe human from the mix, right.\n\n46\n00:02:09.310 --> 00:02:13.780\nWe were just chatting off camera a little\nbit about this whole idea of Planet of\n\n47\n00:02:13.780 --> 00:02:17.770\nthe Apes and how that it really was\na seminal movie at the time, the original.\n\n48\n00:02:17.770 --> 00:02:21.060\nNot the stuff you see these days because\nthe original one was much better,\n\n49\n00:02:21.060 --> 00:02:21.820\nas we both agreed.\n\n50\n00:02:21.820 --> 00:02:24.750\nBut ya know, just thinking about\nthe groundbreaking thought process behind\n\n51\n00:02:24.750 --> 00:02:26.830\na movie like that and\nwhat it meant at the time has\n\n52\n00:02:27.840 --> 00:02:30.250\nabsolutely no bearing about what we're\ntalking about here, just a random aside.\n\n53\n00:02:30.250 --> 00:02:33.380\nThere actually is a relationship\nhere if you follow my logic.\n\n54\n00:02:33.380 --> 00:02:34.180\n&gt;&gt; Connect the dots.\n\n55\n00:02:34.180 --> 00:02:35.240\n&gt;&gt; Connect the dots.\n\n56\n00:02:35.240 --> 00:02:40.100\nWhat I just gonna talk about was\nthe idea of software defined networking.\n\n57\n00:02:40.100 --> 00:02:44.285\nThis idea of trying to remove the human\nfrom the mix and really standardize and\n\n58\n00:02:44.285 --> 00:02:47.905\nautomate the thought process,\nin this case around networking or\n\n59\n00:02:47.905 --> 00:02:49.585\nstorage or whatever the case maybe.\n\n60\n00:02:49.585 --> 00:02:51.655\nBut really, removing the human and\n\n61\n00:02:51.655 --> 00:02:56.450\nresetting the environment at allowing\nus to automate and oversee and manage.\n\n62\n00:02:56.450 --> 00:03:00.590\nNot a direct correlation to Planet of the\nApes, but indirectly with the regards to\n\n63\n00:03:00.590 --> 00:03:04.490\nremoving the human and switching, or\nflipping around the narrative around that.\n\n64\n00:03:04.490 --> 00:03:06.150\nYou can kind of connect the dots.\n\n65\n00:03:06.150 --> 00:03:07.890\nYou doubted I could\n&gt;&gt; [LAUGH]\n\n66\n00:03:07.890 --> 00:03:09.053\n&gt;&gt; I actually, I did reach for\n\n67\n00:03:09.053 --> 00:03:09.830\nthat connection.\n\n68\n00:03:09.830 --> 00:03:11.106\n&gt;&gt; Well played sir, well played.\n\n69\n00:03:11.106 --> 00:03:13.103\n&gt;&gt; It is a tenuous one,\nbut it is one nonetheless.\n\n70\n00:03:13.103 --> 00:03:14.046\n&gt;&gt; We'll give it to you.\n\n71\n00:03:14.046 --> 00:03:14.878\n&gt;&gt; I appreciate that.\n\n72\n00:03:14.878 --> 00:03:17.095\nIt was a hard one to figure\nout how to make work but\n\n73\n00:03:17.095 --> 00:03:19.090\nit did hopefully come together for it.\n\n74\n00:03:19.090 --> 00:03:22.300\nBut let's actually talk about software\nto find our working from standardized\n\n75\n00:03:22.300 --> 00:03:22.820\nperspective.\n\n76\n00:03:22.820 --> 00:03:26.780\nYou join me here because the minute\nprobably the place to go to\n\n77\n00:03:26.780 --> 00:03:28.200\nbegin our conversations.\n\n78\n00:03:28.200 --> 00:03:30.880\nAnd by the way,\nas always this URL is in the shown it for\n\n79\n00:03:30.880 --> 00:03:32.740\nencourage you to go out, take a look.\n\n80\n00:03:32.740 --> 00:03:36.630\nThe open networking foundation probably\nthe best site out there on the internet to\n\n81\n00:03:36.630 --> 00:03:41.070\ntalk about Software-Defined Networking and\nreally give you a standardized definition.\n\n82\n00:03:41.070 --> 00:03:44.750\nHelp you to understand what\nsoftware defined networking is.\n\n83\n00:03:44.750 --> 00:03:48.480\nThe idea here and we talk about it and\nit is what is SDN.\n\n84\n00:03:48.480 --> 00:03:51.060\nIf you go full screen you can\nprobably see the one statement.\n\n85\n00:03:51.060 --> 00:03:53.050\nI'm just going to highlight it there for\nyou for a minute.\n\n86\n00:03:53.050 --> 00:03:54.760\nNot that you can see it any\nbetter when I do that but\n\n87\n00:03:54.760 --> 00:03:56.360\nif I do that you hopefully can.\n\n88\n00:03:56.360 --> 00:03:59.760\nPhysical separation in the network control\nplane from the forwarding plane and\n\n89\n00:03:59.760 --> 00:04:02.980\nwhere a control plane\ncontrols several devices.\n\n90\n00:04:02.980 --> 00:04:06.970\nReally what we mean by that ultimately\nis the idea of being about to create\n\n91\n00:04:06.970 --> 00:04:11.040\na directly programmable, and agile,\ncentrally managed, programmatically\n\n92\n00:04:11.040 --> 00:04:15.500\nconfigured and open standards and\nneutral or vender neutral based solution.\n\n93\n00:04:15.500 --> 00:04:18.700\nThat allows us to standardize\nthe way we configure and\n\n94\n00:04:18.700 --> 00:04:20.630\ndeploy networking technology.\n\n95\n00:04:20.630 --> 00:04:24.200\nAllows us to replicate and\nautomate that process.\n\n96\n00:04:24.200 --> 00:04:29.280\nSo that almost at a push of a button, with\nminimal to little additional oversight and\n\n97\n00:04:29.280 --> 00:04:33.410\ninteraction from one or more people\ninvolved, being able to then deploy\n\n98\n00:04:33.410 --> 00:04:37.200\ncontinuously and replicate that\ndeployment in a standardized way.\n\n99\n00:04:37.200 --> 00:04:42.090\nAnd to as a result, minimize errors,\nmaximize our scalability,\n\n100\n00:04:42.090 --> 00:04:44.220\nour ability to scale quickly, scale up,\n\n101\n00:04:44.220 --> 00:04:47.540\nscale out, or scale down depending\non what we're doing around cloud and\n\n102\n00:04:47.540 --> 00:04:51.620\nvirtualization, but to replicate and\nstandardize that configuration so\n\n103\n00:04:51.620 --> 00:04:55.650\nthat the first time, the 20th time,\nthe 100th time, it's gonna be the same.\n\n104\n00:04:55.650 --> 00:04:58.920\nThat's really what software defining\nanything will be regardless of what we're\n\n105\n00:04:58.920 --> 00:05:04.780\ndoing, is the idea of being able to come\nup with the best configuration solution.\n\n106\n00:05:04.780 --> 00:05:07.590\nFreeze it, capture it,\nand then reproduce it.\n\n107\n00:05:07.590 --> 00:05:11.610\nUsually with some sort of scripting or\nelement involved to automate that process\n\n108\n00:05:11.610 --> 00:05:14.850\nin some sort of a push button\nlike deployment or fashion or\n\n109\n00:05:14.850 --> 00:05:15.590\nwhatever that maybe.\n\n110\n00:05:15.590 --> 00:05:16.140\n&gt;&gt; I'll add more.\n\n111\n00:05:16.140 --> 00:05:20.580\nWhat we're talking about here is just\nbasically saying, okay, I need this to be\n\n112\n00:05:20.580 --> 00:05:24.520\nnetworked and I Ccick a button and it\nsays, okay, networking is now configured.\n\n113\n00:05:24.520 --> 00:05:27.420\nBecause it's always done\nthe same way every time.\n\n114\n00:05:27.420 --> 00:05:29.330\n&gt;&gt; Very similar, not quite exactly.\n\n115\n00:05:29.330 --> 00:05:31.710\nIt's not let's push this\nbig red button right here.\n\n116\n00:05:31.710 --> 00:05:33.140\n&gt;&gt; That says, network my system.\n\n117\n00:05:33.140 --> 00:05:34.170\n&gt;&gt; Let me get this right.\n\n118\n00:05:34.170 --> 00:05:36.640\nThis button right, whoop, where is it?\n\n119\n00:05:36.640 --> 00:05:37.890\n&gt;&gt; Almost there.\n&gt;&gt; Right there,\n\n120\n00:05:37.890 --> 00:05:39.315\npush that button right there.\n\n121\n00:05:39.315 --> 00:05:40.893\n[SOUND] Wait, I did it the wrong way.\n\n122\n00:05:40.893 --> 00:05:41.920\nAnyway Get the idea.\n\n123\n00:05:41.920 --> 00:05:44.290\nPush that button right there and\nwe get an error.\n\n124\n00:05:44.290 --> 00:05:45.520\n&gt;&gt; Yeah.\n&gt;&gt; It's very similar, it's not\n\n125\n00:05:45.520 --> 00:05:46.030\n&gt;&gt; Not quite sound.\n\n126\n00:05:46.030 --> 00:05:49.210\n&gt;&gt; I don't mean to make it sound overly\nsimplistic than what it really is.\n\n127\n00:05:49.210 --> 00:05:51.690\nIt's not a push button solution literally.\n\n128\n00:05:51.690 --> 00:05:54.920\nWhat we mean is using technologies and\ntools like PowerShell,\n\n129\n00:05:54.920 --> 00:05:56.080\nwe've talked a lot about this.\n\n130\n00:05:56.080 --> 00:05:57.960\n&gt;&gt; Right.\n&gt;&gt; And scripting out and\n\n131\n00:05:57.960 --> 00:06:02.350\nautomating the deployment through\ntemplating and cloning and the use of\n\n132\n00:06:02.350 --> 00:06:06.415\na scripting language like Power Shell to\nbe able to automate our provisioning.\n\n133\n00:06:06.415 --> 00:06:07.880\n&gt;&gt; Mm-hm.\n&gt;&gt; So a real world example of this\n\n134\n00:06:07.880 --> 00:06:11.050\nwould be and we do this all the time\nin cloud and virtual environments.\n\n135\n00:06:11.050 --> 00:06:14.470\nLet's say that you want to spin\nup three server instances.\n\n136\n00:06:14.470 --> 00:06:19.510\nMaybe server 16 instances we need to\ndefine them to make into file servers,\n\n137\n00:06:19.510 --> 00:06:21.790\nor web servers, or\nwho knows what that'll be.\n\n138\n00:06:21.790 --> 00:06:23.330\nInstead of the old fashion way.\n\n139\n00:06:23.330 --> 00:06:26.520\nWhen I say old fashion way,\nyou know, one generation ago.\n\n140\n00:06:26.520 --> 00:06:30.900\n10 to 15 years ago, which is a lifetime\nin our discussions around networking.\n\n141\n00:06:30.900 --> 00:06:33.330\nWhen we would build these by hand,\nsomebody would sit down and\n\n142\n00:06:33.330 --> 00:06:35.010\ninstall physical hardware.\n\n143\n00:06:35.010 --> 00:06:37.500\nYou would configure and\ncraft each machine.\n\n144\n00:06:37.500 --> 00:06:40.120\nYou may have a standardized\nbuild guide that you would use.\n\n145\n00:06:40.120 --> 00:06:42.590\nBut it was all done by hand and somebody,\n\n146\n00:06:42.590 --> 00:06:45.510\nwhoever that was,\nwas in charge of doing that.\n\n147\n00:06:45.510 --> 00:06:49.000\nIf three different people\nbuilt those serves,\n\n148\n00:06:49.000 --> 00:06:52.830\nat built them at different times they may\nnot turn out exactly the same way, right.\n\n149\n00:06:52.830 --> 00:06:55.850\nThe naming convention may or\nmay not have been followed properly.\n\n150\n00:06:55.850 --> 00:06:58.970\nThe configuration of services and\n\n151\n00:06:58.970 --> 00:07:02.500\nadd ons and whatever the case may be\nmay or may not have been standardized.\n\n152\n00:07:02.500 --> 00:07:04.440\nAnd we would have had slight variances,\nright.\n\n153\n00:07:04.440 --> 00:07:07.240\nSo we would expect that not\neverything would be identical.\n\n154\n00:07:07.240 --> 00:07:11.150\nWhen we get into the idea of software\ndefining something we would create what we\n\n155\n00:07:11.150 --> 00:07:13.240\ngenerically call a template, today.\n\n156\n00:07:13.240 --> 00:07:15.010\nSo a baseline,\nif you wanna think of it that way.\n\n157\n00:07:15.010 --> 00:07:17.260\nAnother word that often is used here.\n\n158\n00:07:17.260 --> 00:07:21.015\nAnd the template or the baseline\nwould say here's the configuration\n\n159\n00:07:21.015 --> 00:07:22.825\nthat we expect this machine to have.\n\n160\n00:07:22.825 --> 00:07:26.295\nYou would then apply that base line or\napply that template,\n\n161\n00:07:26.295 --> 00:07:29.165\nand you would deploy instances from there.\n\n162\n00:07:29.165 --> 00:07:32.500\nAnd those instances should all be\nthe same, regardless of whose hands\n\n163\n00:07:32.500 --> 00:07:36.110\nOn the button who hits start or\ntypes and go or whatever.\n\n164\n00:07:36.110 --> 00:07:37.630\nIt should come out the same way.\n\n165\n00:07:37.630 --> 00:07:40.310\nNow, we've been able to automate\nthe appointments for many,\n\n166\n00:07:40.310 --> 00:07:46.790\nmany cycles now on a 10.txt,\non a 10.xml to do scripted and or\n\n167\n00:07:46.790 --> 00:07:51.480\nautomated appointments of Windows through\nwe talked about older technology risks,\n\n168\n00:07:51.480 --> 00:07:55.780\nremote install services, newer versions,\nWDS when its deployment services.\n\n169\n00:07:55.780 --> 00:07:56.794\nWhatever the case may be.\n\n170\n00:07:56.794 --> 00:08:00.287\nThis goes all the way back to NT4,\nwe could script and automate.\n\n171\n00:08:00.287 --> 00:08:02.137\nWasn't the same thing\nas software defining.\n\n172\n00:08:02.137 --> 00:08:04.371\nBut it was the precursor technology and\n\n173\n00:08:04.371 --> 00:08:08.440\nthe thought processes around it\nthat really allowed us to do that.\n\n174\n00:08:08.440 --> 00:08:11.450\nBut again,\nsomebody had to write that answer file.\n\n175\n00:08:11.450 --> 00:08:14.240\nSomebody had to then\ndeploy that answer file.\n\n176\n00:08:14.240 --> 00:08:16.790\nAnd if five different people\ndeployed that file and\n\n177\n00:08:16.790 --> 00:08:19.900\ndidn't deploy it the same exact way,\nyou would get different results.\n\n178\n00:08:19.900 --> 00:08:22.920\nSo the technology in one form or\nanother has been there for awhile.\n\n179\n00:08:22.920 --> 00:08:27.360\nBut the idea of software defining, I enjoy\ntaking this to the next level through\n\n180\n00:08:27.360 --> 00:08:31.310\nlarge scale automation and\nstandardization across the networking.\n\n181\n00:08:31.310 --> 00:08:35.634\nAnd as well literally, across the data\ncenter stack today, we're bringing this\n\n182\n00:08:35.634 --> 00:08:39.457\nidea of automation and standardization\nout of the shadows, out of the,\n\n183\n00:08:39.457 --> 00:08:43.358\nhey let me just deploy the OS, into\nthe let me configure the entire stack.\n\n184\n00:08:43.358 --> 00:08:47.498\nAnd standardize the way we do that with\nusually unattended scripted installs that\n\n185\n00:08:47.498 --> 00:08:50.386\nwill reproduce that across\nour management interfaces.\n\n186\n00:08:50.386 --> 00:08:53.770\nThrough SCVMM,\nSystem Central Virtual Machine Manager,\n\n187\n00:08:53.770 --> 00:08:59.018\nSystem Center Config Manager, SCCM,\nthrough System Center Ops Manager.\n\n188\n00:08:59.018 --> 00:08:59.860\nIn the VMware world,\n\n189\n00:08:59.860 --> 00:09:04.870\neven though we're here to talk about\nMicrosoft, with V Center with Power CLI.\n\n190\n00:09:04.870 --> 00:09:09.915\nThe PowerShell scripted enabled language\nand the command line interface and VMware.\n\n191\n00:09:09.915 --> 00:09:13.315\nAny of those interfaces,\nany of those technologies, in Citrix,\n\n192\n00:09:13.315 --> 00:09:16.545\nin the Zen platform,\nWe could do this across interfaces.\n\n193\n00:09:16.545 --> 00:09:20.825\nCisco has led the charge for software\ndefining in the networking stack and\n\n194\n00:09:20.825 --> 00:09:23.825\nin the data center stack and all\nthe other vendors have really fallen in\n\n195\n00:09:23.825 --> 00:09:26.265\nline over the last decade or\nso and followed suit.\n\n196\n00:09:26.265 --> 00:09:30.025\nSo, this is not an old thought process or\na new thought process.\n\n197\n00:09:30.025 --> 00:09:33.240\nIt's an ongoing maturing of technology and\nthought processes.\n\n198\n00:09:33.240 --> 00:09:36.153\nIt's been around for decades at this\npoint in terms of scripting and\n\n199\n00:09:36.153 --> 00:09:37.132\nall things that we do.\n\n200\n00:09:37.132 --> 00:09:42.500\nSo, it is important to consider what do we\nneed to be able to do this in Server 16.\n\n201\n00:09:42.500 --> 00:09:44.121\nWhat we need to be running server 16.\n\n202\n00:09:44.121 --> 00:09:46.190\nSo, certainly we want to have that there.\n\n203\n00:09:46.190 --> 00:09:49.030\nWe need the Hyper-V role enabler\nbecause remember we are focusing on\n\n204\n00:09:49.030 --> 00:09:53.500\nvirtualization, we're focusing on cloud\nbased infrastructure traditionally.\n\n205\n00:09:53.500 --> 00:09:56.550\nYou have to have an external\nHyper-V virtual switch available\n\n206\n00:09:56.550 --> 00:09:59.870\nwith at least one physical adapter\nleading out to the outside world\n\n207\n00:09:59.870 --> 00:10:03.220\nto be able to do the networking-specific\nversion of software defining.\n\n208\n00:10:03.220 --> 00:10:07.210\nAnd you have to have the ability to be\nable to manage the VMs that are running,\n\n209\n00:10:07.210 --> 00:10:07.920\nstandard stuff.\n\n210\n00:10:07.920 --> 00:10:11.420\nYou deploy Hyper-V on Server 16 today,\nyou've got all the bells and whistles and\n\n211\n00:10:11.420 --> 00:10:13.380\nall the building blocks already available.\n\n212\n00:10:13.380 --> 00:10:16.540\nAnd we've shown you most of this in\nother discussions, other demonstrations,\n\n213\n00:10:16.540 --> 00:10:20.415\nother areas, as we've been running\nthrough and talking about the technology.\n\n214\n00:10:20.415 --> 00:10:23.921\nWhat I wanna do is just delve\na little deeper into what is there.\n\n215\n00:10:23.921 --> 00:10:28.088\nWhat are some of the building blocks, what\nare some of the pieces associated with how\n\n216\n00:10:28.088 --> 00:10:31.265\nwe would do or plan for and\ndeploy a software-defined network?\n\n217\n00:10:31.265 --> 00:10:36.432\nAnd so if you join me here, planning\na software-defined network infrastructure.\n\n218\n00:10:36.432 --> 00:10:38.192\nAgain, URLs are in the show notes.\n\n219\n00:10:38.192 --> 00:10:41.522\nI encourage you to go take a look, that\nway you could do a little more research.\n\n220\n00:10:41.522 --> 00:10:42.482\nDo your due diligence,\n\n221\n00:10:42.482 --> 00:10:45.586\nread up and follow the links to\nwhatever you're interested in.\n\n222\n00:10:45.586 --> 00:10:50.437\nBut you can see here that we do have\na nice site specific to Windows Server 16.\n\n223\n00:10:50.437 --> 00:10:53.876\nThe prereqs are here, the physical\nnetwork, the physical compute host.\n\n224\n00:10:53.876 --> 00:10:57.056\nThat's just the generic host\nthat we install Server 16 on,\n\n225\n00:10:57.056 --> 00:10:58.696\nrun Hyper-V on top of.\n\n226\n00:10:58.696 --> 00:11:02.626\nPhysical network configuration, so\ntalks to us about what we need here.\n\n227\n00:11:02.626 --> 00:11:05.086\nNotice that for instance,\nimportant to know,\n\n228\n00:11:05.086 --> 00:11:09.346\nServer 16 SDN supports IPv4 addressing for\nthe under and overlay.\n\n229\n00:11:09.346 --> 00:11:13.920\nMeaning the networks that we're using,\nIPv6 is not supported currently.\n\n230\n00:11:13.920 --> 00:11:16.010\nIt's not to say that in the future,\nwe can't do that.\n\n231\n00:11:16.010 --> 00:11:20.020\nBut it is to say that right now,\nIPv4 support is supported or\n\n232\n00:11:20.020 --> 00:11:23.210\nIPv support is there, and\nwe could do software to find network and\n\n233\n00:11:23.210 --> 00:11:26.275\ncross our IPv4 interfaces, not with IPv6.\n\n234\n00:11:26.275 --> 00:11:29.831\nMaybe important to know that\nwith regards to things like,\n\n235\n00:11:29.831 --> 00:11:34.341\nI don't know, questions perhaps come\nup in the future, you never know.\n\n236\n00:11:34.341 --> 00:11:37.830\n&gt;&gt; We did a survey about things\nthat you may wanna know.\n\n237\n00:11:37.830 --> 00:11:40.251\n&gt;&gt; I just heard rumors that those\nkinds of things tend to show up,\n\n238\n00:11:40.251 --> 00:11:41.960\nthat's all Im suggesting.\n\n239\n00:11:41.960 --> 00:11:44.150\nBut I can't verify or deny those rumors.\n\n240\n00:11:44.150 --> 00:11:46.421\nI can simply just point them out to you.\n\n241\n00:11:46.421 --> 00:11:48.520\nManagement and HVN, HNV rather.\n\n242\n00:11:48.520 --> 00:11:52.415\nWe see this Hyper-V Network Virtualization\njust so you know what the acronyms are.\n\n243\n00:11:52.415 --> 00:11:56.491\nSo, when we're talking about Hyper-V\nNetwork Virtualization, we're talking\n\n244\n00:11:56.491 --> 00:12:00.521\nabout the ability to be able to use the\nvirtualized network environment, NVGRE.\n\n245\n00:12:00.521 --> 00:12:04.470\nWe'll talk about Network Virtualization\nusing Generic Routing Encapsulation.\n\n246\n00:12:04.470 --> 00:12:06.460\nAnd talk about some of the technologies\nthat support this over\n\n247\n00:12:06.460 --> 00:12:07.600\nthe next few minutes.\n\n248\n00:12:07.600 --> 00:12:09.610\nBut you'll see here we\nneed our management and or\n\n249\n00:12:09.610 --> 00:12:12.640\nprovider logical networks,\npretty standard once we set that up.\n\n250\n00:12:13.700 --> 00:12:17.069\nWe have the ability to able to just take\na look that shows a sample topology,\n\n251\n00:12:17.069 --> 00:12:18.380\nwhat would it look like.\n\n252\n00:12:18.380 --> 00:12:20.770\nThere's our management network,\nthere's a subnet,\n\n253\n00:12:20.770 --> 00:12:24.348\nthere's our VLAN ID that just show us what\nthese kind of things would look like.\n\n254\n00:12:24.348 --> 00:12:26.660\nThere's our Hyper-V Network virtualized.\n\n255\n00:12:26.660 --> 00:12:27.960\nProvider network.\n\n256\n00:12:27.960 --> 00:12:31.490\nNeed your logical networks,\nyour SLB, software load balancers.\n\n257\n00:12:31.490 --> 00:12:34.610\nRemember we talked about some of this\ntechnology in the advanced networking\n\n258\n00:12:34.610 --> 00:12:36.150\nconversations from prior episodes.\n\n259\n00:12:36.150 --> 00:12:37.880\nIf you haven't seen those,\ngo back and take a look.\n\n260\n00:12:37.880 --> 00:12:38.950\nWe talked about NIC Teaming.\n\n261\n00:12:38.950 --> 00:12:41.610\nWe talked about all the different\nthings associated with this.\n\n262\n00:12:41.610 --> 00:12:44.960\nTalked about the different technologies\nthat enable load balancing.\n\n263\n00:12:44.960 --> 00:12:48.193\nWe talked about RSS and\nall the different ways in which we can\n\n264\n00:12:48.193 --> 00:12:51.827\nuse these networking technologies\nto enable better management.\n\n265\n00:12:51.827 --> 00:12:55.026\nSo, it would be helpful for you to just\nbe thinking about those things and\n\n266\n00:12:55.026 --> 00:12:56.480\nbring them forward.\n\n267\n00:12:56.480 --> 00:12:59.780\nThe RAS Gateway, we'll have some more to\nsay about this towards the end of our\n\n268\n00:12:59.780 --> 00:13:02.530\nconversations in this group of episodes.\n\n269\n00:13:02.530 --> 00:13:03.890\nMeaning there will be a part two, so\n\n270\n00:13:03.890 --> 00:13:06.310\nstay tuned because we're\ngonna have more than one.\n\n271\n00:13:06.310 --> 00:13:09.435\nBut we'll talk about the RAS Gateway,\nwhy it's so important and\n\n272\n00:13:09.435 --> 00:13:12.585\nthe scenarios associated\nwith RAS Gateway usage.\n\n273\n00:13:12.585 --> 00:13:18.026\nI did a whole set of conversation early on\nin this area for Server 16 networking for\n\n274\n00:13:18.026 --> 00:13:21.758\n741 with Cherokee on remote\naccess services on RAS and\n\n275\n00:13:21.758 --> 00:13:23.485\nhow to set everything up.\n\n276\n00:13:23.485 --> 00:13:26.672\nBut we didn't talk about specifically\nabout some scenario for gateway usage.\n\n277\n00:13:26.672 --> 00:13:29.812\nAnd we'll bring that conversation\nback here and loop it back in and\n\n278\n00:13:29.812 --> 00:13:32.072\ncomplete the life cycle\nthere around the network.\n\n279\n00:13:32.072 --> 00:13:33.642\nOkay, so\nwe've got all the different things.\n\n280\n00:13:33.642 --> 00:13:39.060\nThe virtual IPs that are created that\nwe can use, both public and private.\n\n281\n00:13:39.060 --> 00:13:41.356\nWe'll talk about this extensively.\n\n282\n00:13:41.356 --> 00:13:43.913\nAnd actually, if you want to\ngo deeper into some of this.\n\n283\n00:13:43.913 --> 00:13:48.105\nGoing back and taking a look at\nthe MCOC private cloud shows that\n\n284\n00:13:48.105 --> 00:13:52.694\nwe did specifically for\nthe System Center Virtual Machine Manager,\n\n285\n00:13:52.694 --> 00:13:58.336\nthe 7247 which is the networking and\nconfiguration and monitoring was 246.\n\n286\n00:13:58.336 --> 00:14:01.552\nAnd the 247 was actually around\nSCVMM content, the networking,\n\n287\n00:14:01.552 --> 00:14:05.310\nsetting up the virtual switches,\nthe virtual networks, all that stuff.\n\n288\n00:14:05.310 --> 00:14:09.250\nDo a very, very good deep dive on all\nthese things and where they come from.\n\n289\n00:14:09.250 --> 00:14:12.337\nThat group of shows will actually put\na lot of this into perspective for you and\n\n290\n00:14:12.337 --> 00:14:13.584\nhelp you to go a little deeper.\n\n291\n00:14:13.584 --> 00:14:16.930\nSo, you may want to just take a look at\nthat and walk through the library there.\n\n292\n00:14:16.930 --> 00:14:18.910\nBut we've got all the different pieces and\n\n293\n00:14:18.910 --> 00:14:21.442\nthey just walk us through\nwhat the networks look like.\n\n294\n00:14:21.442 --> 00:14:23.510\nThe routing infrastructure here.\n\n295\n00:14:23.510 --> 00:14:27.820\nThere is a set of scripts that can be\nused, they reference number right there.\n\n296\n00:14:27.820 --> 00:14:30.900\nIf you're deploying your SDM\ninfrastructure using scripts and\n\n297\n00:14:30.900 --> 00:14:33.640\nthe scripts are gonna be downloaded,\nand it's interesting.\n\n298\n00:14:33.640 --> 00:14:37.155\nMicrosoft's really gone towards more\nof the open source solution lately.\n\n299\n00:14:37.155 --> 00:14:39.670\nThey're really starting to play\nnice with everybody around them.\n\n300\n00:14:39.670 --> 00:14:42.035\nAnd these scripts,\nwhich are all preconfigured available,\n\n301\n00:14:42.035 --> 00:14:42.998\nare out there in GitHub.\n\n302\n00:14:42.998 --> 00:14:47.225\nYou can actually go ahead and download\nthem all and you can then actually get a,\n\n303\n00:14:47.225 --> 00:14:49.154\nliterally an SDN solution in a box.\n\n304\n00:14:49.154 --> 00:14:50.970\nYou've got a whole set of\npreconfigured scripts.\n\n305\n00:14:50.970 --> 00:14:55.290\nYou just plug in the variables that you\nneed for your own localization of this and\n\n306\n00:14:55.290 --> 00:14:58.206\nyou can throw out and\ndeploy the entire SDN solution.\n\n307\n00:14:58.206 --> 00:15:00.103\nSo, it's kind of nice\nbecause you can go out and\n\n308\n00:15:00.103 --> 00:15:02.020\ndownload all this stuff right from there.\n\n309\n00:15:02.020 --> 00:15:05.220\nI think there's actually a download link\nsomewhere towards the bottom here for\n\n310\n00:15:05.220 --> 00:15:07.440\nthe scripts if I remember correctly.\n\n311\n00:15:07.440 --> 00:15:08.430\nThere may or may not be.\n\n312\n00:15:08.430 --> 00:15:11.820\nI may have to go to a different one, but\nthey give you some nice graphics here\n\n313\n00:15:11.820 --> 00:15:14.550\njust around how this is all gonna\nplay out what it looks like.\n\n314\n00:15:14.550 --> 00:15:17.447\nThe Network Controller role on\nhow you're gonna set up and\n\n315\n00:15:17.447 --> 00:15:21.530\ndeploy the Network Controller, which is\ngonna be the centralized interface that\n\n316\n00:15:21.530 --> 00:15:23.501\nallows us to link to things like SCVMM.\n\n317\n00:15:23.501 --> 00:15:27.441\nOr a System Center Configuration Manager\nor whatever and actually manage and deploy\n\n318\n00:15:27.441 --> 00:15:31.180\nthe networking and to monitor all the host\nand the VMs and all that kind of stuff.\n\n319\n00:15:31.180 --> 00:15:35.220\nI'm gonna show you how to install the\nNetwork Controller role on a server here.\n\n320\n00:15:35.220 --> 00:15:38.060\nThis is a quick hands-on demo,\nit's very straight forward.\n\n321\n00:15:38.060 --> 00:15:41.397\nAnd I'll talk about the PowerShell cmdlets\nwith associated management of it in\n\n322\n00:15:41.397 --> 00:15:44.500\na couple of minutes, but we could see\nthe deployment capabilities here.\n\n323\n00:15:45.800 --> 00:15:47.730\nSo just give us some nice information.\n\n324\n00:15:47.730 --> 00:15:50.760\nYeah, the Microsoft SDN GitHub\nrepository right here.\n\n325\n00:15:50.760 --> 00:15:54.010\nThis is where the models,\nthe vendor information for switches and\n\n326\n00:15:54.010 --> 00:15:55.471\nthe deployment scripts are.\n\n327\n00:15:55.471 --> 00:15:58.472\nSo, there's a link right there\nwhere you can download everything I\n\n328\n00:15:58.472 --> 00:16:01.384\nwas just talking about,\nyou can go out to the GitHub repository.\n\n329\n00:16:01.384 --> 00:16:05.132\nLet's just, Go there real quickly,\nand you can see,\n\n330\n00:16:05.132 --> 00:16:10.220\nyou've got a Cisco nexus switch,\nthe Dell force switch there as well.\n\n331\n00:16:10.220 --> 00:16:12.470\nThere's all this different\nstuff that you can get, and\n\n332\n00:16:12.470 --> 00:16:15.260\nyou can get some configuration\nexamples right from here.\n\n333\n00:16:15.260 --> 00:16:18.660\nSo it's nice that they've got all this\nstuff just sitting right out there for\n\n334\n00:16:18.660 --> 00:16:20.010\nyou, and there's other scripts as well.\n\n335\n00:16:20.010 --> 00:16:21.940\nYou just have to follow\nthe links to grab them.\n\n336\n00:16:21.940 --> 00:16:24.380\nSo they just have you walk through and\nset this all up.\n\n337\n00:16:24.380 --> 00:16:26.780\nThe host compute requirements,\npretty straightforward.\n\n338\n00:16:26.780 --> 00:16:29.830\nPhysical Hyper-V host,\nwhatever will be used to run Server 16.\n\n339\n00:16:29.830 --> 00:16:31.280\nSo there's not a lot of mystery there.\n\n340\n00:16:31.280 --> 00:16:33.150\nYou just need to have Hyper-V and\n\n341\n00:16:33.150 --> 00:16:35.370\nobviously enough resources\nto be able to host VMs.\n\n342\n00:16:35.370 --> 00:16:38.870\nSo enough CPU, enough RAM,\nenough storage, enough networking.\n\n343\n00:16:38.870 --> 00:16:41.090\nBut very basic, you'll see there.\n\n344\n00:16:41.090 --> 00:16:44.290\nAnd then the infrastructure\nvirtual machine role requirements.\n\n345\n00:16:44.290 --> 00:16:48.340\nFor the network controller you need\nto have 4 virtual CPUs available,\n\n346\n00:16:48.340 --> 00:16:51.240\n4 gigs of RAM, 8 gigs required.\n\n347\n00:16:51.240 --> 00:16:52.740\nSo you can figure that out.\n\n348\n00:16:52.740 --> 00:16:56.210\n75 gigs overall for\ndisk space just on the OS.\n\n349\n00:16:56.210 --> 00:17:00.760\nFor the SLB, the software load balancer,\nmultiplexer, again 8 virtual CPUs.\n\n350\n00:17:00.760 --> 00:17:03.750\nYou can just kind of walk down the list,\nsee all the various pieces,\n\n351\n00:17:03.750 --> 00:17:05.010\nthe RAS Gateway.\n\n352\n00:17:05.010 --> 00:17:06.140\nAnd you set all this up.\n\n353\n00:17:06.140 --> 00:17:09.920\nThere's not a lot of stuff here\nthat's really complicated.\n\n354\n00:17:09.920 --> 00:17:12.338\nIt's a matter of understanding all\nthe build-out requirements and\n\n355\n00:17:12.338 --> 00:17:15.089\nthen how you're gonna set that up and\nhost those if they're virtual, more and\n\n356\n00:17:15.089 --> 00:17:16.648\nmore of this today is\nbeing done virtually.\n\n357\n00:17:16.648 --> 00:17:18.960\nSo a lot of this will be virtual machines.\n\n358\n00:17:18.960 --> 00:17:21.770\nAnd so they've got the minimum\nhardware requirements here, right, so\n\n359\n00:17:21.770 --> 00:17:22.670\nyou can see that.\n\n360\n00:17:22.670 --> 00:17:26.280\nDon't let some of the links here about\nthings like the preview throw you off.\n\n361\n00:17:26.280 --> 00:17:29.220\nSome of this stuff may have been\nwritten as Server 16 was just\n\n362\n00:17:29.220 --> 00:17:30.606\ngetting ready to be released.\n\n363\n00:17:30.606 --> 00:17:33.930\nSystem Center 2016 was getting\nready to be released, and\n\n364\n00:17:33.930 --> 00:17:36.780\nthose links just may not have been\nupdated to final release product.\n\n365\n00:17:36.780 --> 00:17:40.820\nBut the information on stuff like hardware\nrequirements minimum is got to be the same\n\n366\n00:17:40.820 --> 00:17:44.329\nwhether it's a tactical preview,\nrelease candidate or the final product.\n\n367\n00:17:44.329 --> 00:17:47.152\nThose things don't really change\nonce you get to that point.\n\n368\n00:17:47.152 --> 00:17:50.811\nSo some of that stuff may not necessarily\nbe quote and quote the most recent when\n\n369\n00:17:50.811 --> 00:17:53.928\nyou look at the link but\nit actually will be accurate information.\n\n370\n00:17:53.928 --> 00:17:54.940\nJust as you know.\n\n371\n00:17:54.940 --> 00:17:56.560\nSo we have the capability to go in there.\n\n372\n00:17:56.560 --> 00:18:00.410\nIt also tells us how to deploy the\nsoftware to find networking controller.\n\n373\n00:18:00.410 --> 00:18:02.850\nI'm gonna take a look at how\nto do that in just a minute.\n\n374\n00:18:02.850 --> 00:18:05.458\nBut you can go in here and\nyou can see how to set that up.\n\n375\n00:18:05.458 --> 00:18:10.260\nAnd then Hyper-V Network Virtualization\non server 16, again, don't\n\n376\n00:18:11.780 --> 00:18:15.780\nlet the information here throw you\noff in one direction or another.\n\n377\n00:18:15.780 --> 00:18:18.870\nAgain something might reference earlier\nversions of Server 16 before it\n\n378\n00:18:18.870 --> 00:18:19.640\nwas released.\n\n379\n00:18:19.640 --> 00:18:21.370\nNo big deal,\nit's all gonna be accurate and up to date.\n\n380\n00:18:21.370 --> 00:18:24.810\nYou can see they've got a nice\nlittle just graphic here, right.\n\n381\n00:18:24.810 --> 00:18:28.810\nThe server virtualization over\nthe Hyper-V Network Virtualization.\n\n382\n00:18:28.810 --> 00:18:30.460\nBeing able to run the physical network,\nand\n\n383\n00:18:30.460 --> 00:18:33.550\nthen all the different infrastructure\nit's gonna virtualize out for us.\n\n384\n00:18:33.550 --> 00:18:35.030\nSo the concepts are here.\n\n385\n00:18:35.030 --> 00:18:37.940\nThe reason I like this particular one\nis it walks you through the logic\n\n386\n00:18:37.940 --> 00:18:40.870\nof defining some of the terms if\nyou're not familiar with them.\n\n387\n00:18:40.870 --> 00:18:44.740\nWhat's the management in Hyper-V Network\nVirtualization provider, logical network?\n\n388\n00:18:44.740 --> 00:18:47.480\nIf you're not familiar with those things,\nwe'll walk you through there.\n\n389\n00:18:47.480 --> 00:18:49.520\nWhat are the logical\nnetworks that we need?\n\n390\n00:18:49.520 --> 00:18:52.260\nWhat are the different kinds\nof gateways that exists for\n\n391\n00:18:52.260 --> 00:18:54.030\nthe software load balancer?\n\n392\n00:18:54.030 --> 00:18:57.770\nWe have the transit logical network,\nthe public virtual IP and\n\n393\n00:18:57.770 --> 00:18:59.520\nprivate virtual IP networks.\n\n394\n00:18:59.520 --> 00:19:00.522\nSo you'll see those.\n\n395\n00:19:00.522 --> 00:19:04.451\nThe jury VIP logical network,\nvirtual IP network for generic routing and\n\n396\n00:19:04.451 --> 00:19:05.500\ncapsulation.\n\n397\n00:19:05.500 --> 00:19:09.010\nWe go through and document all that and\ntalk about what they are, so\n\n398\n00:19:09.010 --> 00:19:10.515\nyou have the capabilities or\n\n399\n00:19:10.515 --> 00:19:14.037\nthe knowledge to extract and\nunderstand all the building blocks.\n\n400\n00:19:14.037 --> 00:19:17.698\nYou've got the routing infrastructure,\nthe default gateways,\n\n401\n00:19:17.698 --> 00:19:22.141\nwalks you through the logic of making sure\nthat we understand how all those things\n\n402\n00:19:22.141 --> 00:19:25.970\ncome together really helps us to see\nall the moving parts and pieces.\n\n403\n00:19:25.970 --> 00:19:29.240\nSo let me just scroll down over here for\njust a second.\n\n404\n00:19:29.240 --> 00:19:33.280\nSo you could see all of this virtual\nnetwork, talks about the virtual subnets.\n\n405\n00:19:33.280 --> 00:19:35.300\nGot a lot of nice diagrams in here.\n\n406\n00:19:35.300 --> 00:19:36.730\nShows you where things are.\n\n407\n00:19:36.730 --> 00:19:39.700\nShows you how they're labeled,\nright, and what's going on with them.\n\n408\n00:19:39.700 --> 00:19:41.350\nSo it's a really good overview.\n\n409\n00:19:41.350 --> 00:19:43.080\nTalks about layer II forwarding.\n\n410\n00:19:43.080 --> 00:19:45.430\nLayer III routing as in the OSI model.\n\n411\n00:19:45.430 --> 00:19:48.020\nAll the things you just wanna know and\nmake sure you're aware of.\n\n412\n00:19:48.020 --> 00:19:48.880\nGets into switching and\n\n413\n00:19:48.880 --> 00:19:52.175\nrouting specifically,\nwalks you through the implementation here.\n\n414\n00:19:52.175 --> 00:19:55.820\nAll right, so it's gonna give you\nall the information that you need\n\n415\n00:19:55.820 --> 00:19:58.730\nin order to better understand\nthe logic of this, and to better\n\n416\n00:19:58.730 --> 00:20:02.810\nunderstand just the thought process behind\ngenerically software defined networking.\n\n417\n00:20:02.810 --> 00:20:04.590\nSDN is one of those things that's coming.\n\n418\n00:20:04.590 --> 00:20:05.870\nIt's much like PowerShell.\n\n419\n00:20:05.870 --> 00:20:10.120\nWe often talk about it as being something\nthat's an emerging technology, and\n\n420\n00:20:10.120 --> 00:20:11.500\nindeed being something that's here and\n\n421\n00:20:11.500 --> 00:20:14.980\nsomething we encourage you to spend\nmore time on and learn more about.\n\n422\n00:20:14.980 --> 00:20:16.130\nThis is the future, and\n\n423\n00:20:16.130 --> 00:20:19.400\nthis is the kind of thing that\nultimately you need to learn more about.\n\n424\n00:20:19.400 --> 00:20:23.180\nBecause starting with Server 16 going\nforward, we're gonna see more and\n\n425\n00:20:23.180 --> 00:20:27.190\nmore of this, and less and\nless of traditional manually defined,\n\n426\n00:20:27.190 --> 00:20:31.270\nor persondefined networking that's done\nthe old fashion way where you're in there\n\n427\n00:20:31.270 --> 00:20:33.530\nhacking away at stuff and\ndefining everything as you go.\n\n428\n00:20:33.530 --> 00:20:37.048\nSo this is all gonna come from\na series of configuration scripts.\n\n429\n00:20:37.048 --> 00:20:40.790\nYou literally [INAUDIBLE] push a couple\nof buttons, type a couple of things, and\n\n430\n00:20:40.790 --> 00:20:42.100\nout pops the network.\n\n431\n00:20:42.100 --> 00:20:46.885\nAnd if you've gone through and used\nSCVMM and set up a service template, and\n\n432\n00:20:46.885 --> 00:20:49.600\ndeployed that to them with\na hardware profile to actually\n\n433\n00:20:49.600 --> 00:20:51.350\ndeploy a network solution.\n\n434\n00:20:51.350 --> 00:20:53.768\nYou see as I suggest it, if you go and\n\n435\n00:20:53.768 --> 00:20:58.830\nwatch the MCCE Cloud 7247\ncontent that we put together,\n\n436\n00:20:58.830 --> 00:21:02.600\nyou see me do all these things in demos\nand walked through the logic of that.\n\n437\n00:21:02.600 --> 00:21:06.288\nIf you've done any of that, you've\ndone software-defined networking and\n\n438\n00:21:06.288 --> 00:21:08.830\nsoftware-defined management\nat the stack level.\n\n439\n00:21:08.830 --> 00:21:11.000\nAnd that's exactly what we're doing here.\n\n440\n00:21:11.000 --> 00:21:14.520\nMore and more of this infrastructure\nis running virtualized.\n\n441\n00:21:14.520 --> 00:21:17.753\nAnd regardless of vendor,\nthe concepts are the same.\n\n442\n00:21:17.753 --> 00:21:21.260\nMicrosoft doesn't have a lock on software\ndefined networking as I suggested as\n\n443\n00:21:21.260 --> 00:21:24.872\nwe started this conversation but they are\ncertainly helping to lead the charge and\n\n444\n00:21:24.872 --> 00:21:27.562\nspread the knowledge around\nhow this is being implemented.\n\n445\n00:21:27.562 --> 00:21:29.923\nAnd this technology is being\npushed more and more front and\n\n446\n00:21:29.923 --> 00:21:31.560\ncenter to everything we do.\n\n447\n00:21:31.560 --> 00:21:34.270\nBecause more and more of our\ninfrastructure is being virtualized,\n\n448\n00:21:34.270 --> 00:21:37.130\nmore and more of it is being\nmanaged in these environments.\n\n449\n00:21:37.130 --> 00:21:40.220\nAnd as a result, these skills become very,\nvery important for us.\n\n450\n00:21:40.220 --> 00:21:41.990\nSo it is something to be aware of.\n\n451\n00:21:41.990 --> 00:21:45.380\n&gt;&gt; Adam, it looks like I have some\nlinks to follow and reading to do.\n\n452\n00:21:45.380 --> 00:21:47.190\nDefinitely gave me my homework for\ntoday, that's for\n\n453\n00:21:47.190 --> 00:21:49.900\nsure because this is some\nvery interesting technology.\n\n454\n00:21:49.900 --> 00:21:51.800\nAnd like you said, it is the future.\n\n455\n00:21:51.800 --> 00:21:56.310\nThis is the way people are doing a lot\nof different things inside of IT, and\n\n456\n00:21:56.310 --> 00:22:00.510\nit was just a natural progression to say,\nwhy aren't we doing that with networking?\n\n457\n00:22:00.510 --> 00:22:01.380\nI don't know, why not?\n\n458\n00:22:01.380 --> 00:22:03.930\nAnd they started answering\nthat question with,\n\n459\n00:22:03.930 --> 00:22:05.760\nthere is no good reason\nwe shouldn't do that.\n\n460\n00:22:05.760 --> 00:22:06.620\nLet's start implementing it.\n\n461\n00:22:06.620 --> 00:22:10.470\nAnd now you're seeing it come to\nfruition here inside of Server 2016,\n\n462\n00:22:10.470 --> 00:22:11.930\nvery, very cool stuff.\n\n463\n00:22:11.930 --> 00:22:13.520\nAdam, anything else we need to go over?\n\n464\n00:22:13.520 --> 00:22:16.585\nI know that we've got\n[CROSSTALK] demonstration\n\n465\n00:22:16.585 --> 00:22:19.170\n[CROSSTALK]\n&gt;&gt; Sure, well, there are some other topics\n\n466\n00:22:19.170 --> 00:22:22.626\nwhere I think maybe for a part II, we're\ngonna talk a little bit more about we\n\n467\n00:22:22.626 --> 00:22:25.870\njust wanna peel back the layer with SDN,\nkinda put that in context.\n\n468\n00:22:25.870 --> 00:22:26.680\nBut there's some other stuff.\n\n469\n00:22:26.680 --> 00:22:29.030\nNetwork virtualization,\nas I alluded to overall.\n\n470\n00:22:29.030 --> 00:22:33.330\nSpecifically NVGRE, network virtualization\ngeneric routing encapsulation,\n\n471\n00:22:33.330 --> 00:22:35.200\nwhat a customer and provider address is.\n\n472\n00:22:35.200 --> 00:22:36.530\nYou may or\nmay not have heard of these things.\n\n473\n00:22:36.530 --> 00:22:38.620\nWe're gonna go talk a little\nbit more about them.\n\n474\n00:22:38.620 --> 00:22:39.330\nWe'll go through that.\n\n475\n00:22:39.330 --> 00:22:42.860\nI wanna show you how to install and\ndeal with the network controller role, so\n\n476\n00:22:42.860 --> 00:22:44.940\nwe're gonna walk you through\na little bit around that.\n\n477\n00:22:44.940 --> 00:22:47.685\nTalk about the RAS gateway\nusage scenarios, mention those,\n\n478\n00:22:47.685 --> 00:22:48.802\ngotta go through those.\n\n479\n00:22:48.802 --> 00:22:52.020\nSo definitely enough material to come\nback and have at least a part II.\n\n480\n00:22:52.020 --> 00:22:52.610\n&gt;&gt; Excellent.\n&gt;&gt; So\n\n481\n00:22:52.610 --> 00:22:56.470\nI think definitely wanna save those\nthings and entice you to come on back.\n\n482\n00:22:56.470 --> 00:22:57.670\n&gt;&gt; That's right.\n&gt;&gt; Spend some more time with\n\n483\n00:22:57.670 --> 00:22:58.280\nus to wrap that up.\n\n484\n00:22:58.280 --> 00:22:59.240\nSo that's what we're gonna talk about.\n\n485\n00:22:59.240 --> 00:23:01.239\n&gt;&gt; Dangle the carrot out in front\nof the audience as it were.\n\n486\n00:23:01.239 --> 00:23:02.226\n&gt;&gt; Absolutely.\n\n487\n00:23:02.226 --> 00:23:06.050\n&gt;&gt; That virtual carrot.\n&gt;&gt; That's right, it's not a real carrot.\n\n488\n00:23:06.050 --> 00:23:07.060\n&gt;&gt; It's purple slime.\n\n489\n00:23:07.060 --> 00:23:08.150\n&gt;&gt; It's in the ether.\n\n490\n00:23:08.150 --> 00:23:08.810\nPink slime.\n\n491\n00:23:08.810 --> 00:23:09.853\n&gt;&gt; Pink slime.\n\n492\n00:23:09.853 --> 00:23:12.998\n&gt;&gt; All right everyone, so that looks\nlike we have our marching orders,\n\n493\n00:23:12.998 --> 00:23:16.552\ndefinitely read up on software defined\nnetworking and come back for part II.\n\n494\n00:23:16.552 --> 00:23:18.920\nWe're gonna look at some\nother key concepts and\n\n495\n00:23:18.920 --> 00:23:20.620\nmaybe even some show and tell.\n\n496\n00:23:20.620 --> 00:23:23.058\nThat being said, this episode\nlooks like it has come to an end,\n\n497\n00:23:23.058 --> 00:23:23.932\nthanks for watching.\n\n498\n00:23:23.932 --> 00:23:26.618\nSigning off for ITPRO TV,\nI've been your host, Daniel Lowrie.\n\n499\n00:23:26.618 --> 00:23:27.590\n&gt;&gt; I'm Adam Gordon.\n\n500\n00:23:27.590 --> 00:23:28.582\n&gt;&gt; And we'll see you next time.\n\n501\n00:23:28.582 --> 00:23:35.483\n[MUSIC]\n\n502\n00:23:35.483 --> 00:23:37.886\n&gt;&gt; Thank you for watching ITPRO TV.\n\n",
          "vimeoId": "219866099"
        },
        {
          "description": "In this episode, Daniel and Adam explore the concept of Software Defined Networking(SDN) in Microsoft Server 2016. Here they dive into Network Virtualization which increases the speed of network deployment. They also cover Generic Routing Encapsulation(GRE/NVGRE), Network Controllers, and RAS Gateways.",
          "length": "1812",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-11-1-2-software_defined_networking_pt2-053117.00_29_57_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-11-1-2-software_defined_networking_pt2-053117.00_29_57_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server201670741/microsoft-server2016-70741-11-1-2-software_defined_networking_pt2-053117.00_29_57_06.Still001-sm.jpg",
          "title": "Software Defined Networking Part 2",
          "transcript": "",
          "vimeoId": "219866340"
        }
      ],
      "title": "Implementing Software Defined Networking"
    }
  ],
  "url": "mcsa-windows-server-2016-70741",
  "vLab": false
}
